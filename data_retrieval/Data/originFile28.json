{"items":[{"tags":["java","email","quarkus"],"comments":[{"owner":{"account_id":10933061,"reputation":6811,"user_id":8035582,"accept_rate":100,"display_name":"burki"},"score":0,"creation_date":1683896962,"post_id":75873242,"comment_id":134441014,"body_markdown":"I have a very similar test and it works when I start devmode and resume testing. Does your test work when you just execute the single test in your IDE?","body":"I have a very similar test and it works when I start devmode and resume testing. Does your test work when you just execute the single test in your IDE?"}],"answers":[{"tags":[],"owner":{"account_id":30009079,"reputation":1,"user_id":22997177,"display_name":"Raghu Ram"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701329611,"creation_date":1701141750,"answer_id":77561174,"question_id":75873242,"body_markdown":"I created a separate application.properties for my src/test/resources directory, and inside that I used \r\n\r\n    quarkus.mailer.mock=true\r\n\r\nNow all the mock mails will go to MockMailBox\r\n\r\n\r\nThanks, I hope this will help you","title":"Quarkus Mailer does not receive mail in TEST (when mocked)","body":"<p>I created a separate application.properties for my src/test/resources directory, and inside that I used</p>\n<pre><code>quarkus.mailer.mock=true\n</code></pre>\n<p>Now all the mock mails will go to MockMailBox</p>\n<p>Thanks, I hope this will help you</p>\n"}],"owner":{"account_id":8114023,"reputation":1631,"user_id":6113110,"accept_rate":62,"display_name":"Robert"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701329611,"creation_date":1680065471,"question_id":75873242,"body_markdown":"I want to test sending mails from my java backend service. I am using quarkus mailer. And I would like to test that with a mocked mailer implementation as described here: \r\nhttps://quarkus.io/guides/mailer-reference#testing \r\n\r\nBut the mocked mailer does not show the sent email.\r\n\r\nThis is how I send the email in my backend service:\r\n\r\n````\r\n@Inject\r\nMailer mailer;\r\n[...]\r\nmailer.send(Mail.withHtml(email, &quot;Subject&quot;, body).setFrom(&quot;info@domain.de&quot;));\r\n\r\n````\r\n\r\nAnd this is my test class:\r\n\r\n\r\n\r\n\r\n````\r\n@Slf4j\r\n@QuarkusTest\r\npublic class GraphQLTests {\r\n\r\n\t@Inject\r\n\tMockMailbox mailbox;\r\n\r\n    @Test\r\n\tpublic void testLoginViaEmail() throws Exception {\r\n\r\n        [...]\r\n        // send request to backend that sends an email\r\n        [...]\r\n\r\n        List&lt;Mail&gt; mails = mailbox.getMessagesSentTo(testUser.email);\r\n\t\tassertEquals(1, mails.size());          // &lt;=== this fails, because  mails == null  ???????\r\n\t\tString html = mails.get(0).getHtml();\r\n\t\tlog.info(&quot;Received login email&quot;);\r\n\r\n}\r\n\r\n````\r\nIt&#39;s not about the email adress. There is no (mocked) email at all in the quarkus Mailbox. What am I missing?  Why is there no received mail?\r\n\r\nWhen I debug this I see that the backend service does send the mail. It is sent to the MockMailboxImpl.class      \r\n\r\nCould it probably be that my backend uses another instance as my TEST?  Quarkus is first started in DEVELOPMNET and when I press &quot;r&quot; for resuming tests, it seems to be restarted in TEST. I debuged some more. It really looks like that there two different instances of MockMailBoxImpl.class    I see two different class IDs in the debugger.    WHY?\r\n\r\nOr how can I access the Mock mailer used by my service from my test?\r\n\r\n","title":"Quarkus Mailer does not receive mail in TEST (when mocked)","body":"<p>I want to test sending mails from my java backend service. I am using quarkus mailer. And I would like to test that with a mocked mailer implementation as described here:\n<a href=\"https://quarkus.io/guides/mailer-reference#testing\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/mailer-reference#testing</a></p>\n<p>But the mocked mailer does not show the sent email.</p>\n<p>This is how I send the email in my backend service:</p>\n<pre><code>@Inject\nMailer mailer;\n[...]\nmailer.send(Mail.withHtml(email, &quot;Subject&quot;, body).setFrom(&quot;info@domain.de&quot;));\n\n</code></pre>\n<p>And this is my test class:</p>\n<pre><code>@Slf4j\n@QuarkusTest\npublic class GraphQLTests {\n\n    @Inject\n    MockMailbox mailbox;\n\n    @Test\n    public void testLoginViaEmail() throws Exception {\n\n        [...]\n        // send request to backend that sends an email\n        [...]\n\n        List&lt;Mail&gt; mails = mailbox.getMessagesSentTo(testUser.email);\n        assertEquals(1, mails.size());          // &lt;=== this fails, because  mails == null  ???????\n        String html = mails.get(0).getHtml();\n        log.info(&quot;Received login email&quot;);\n\n}\n\n</code></pre>\n<p>It's not about the email adress. There is no (mocked) email at all in the quarkus Mailbox. What am I missing?  Why is there no received mail?</p>\n<p>When I debug this I see that the backend service does send the mail. It is sent to the MockMailboxImpl.class</p>\n<p>Could it probably be that my backend uses another instance as my TEST?  Quarkus is first started in DEVELOPMNET and when I press &quot;r&quot; for resuming tests, it seems to be restarted in TEST. I debuged some more. It really looks like that there two different instances of MockMailBoxImpl.class    I see two different class IDs in the debugger.    WHY?</p>\n<p>Or how can I access the Mock mailer used by my service from my test?</p>\n"},{"tags":["java","spring-boot","redis","shedlock","distributed-lock"],"owner":{"account_id":12875245,"reputation":547,"user_id":9312181,"display_name":"tusharRawat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701328508,"creation_date":1701201648,"question_id":77566840,"body_markdown":"I am using **shedlock** to implement a use-case of distributed locking.\r\nMy app is running on 20 machines, and I want scheduler to be executed once in every 5 minutes in any 1 machine by using implicit distributed locking provided by shedlock library.\r\n\r\n##### Scheduler: #####\r\n```\r\n    @Scheduled(cron = &quot;0 */5 * * * *&quot;)\r\n    @SchedulerLock(name = &quot;executeTaskLock&quot;,\r\n            lockAtLeastFor = &quot;1m&quot;,\r\n            lockAtMostFor = &quot;4m&quot;)\r\n    public void executeTask() throws Exception {\r\n        LockAssert.assertLocked();\r\n\r\n        // task executes here which completed in around (400ms - 2s)\r\n    }\r\n```\r\n\r\n##### Config: #####\r\n```\r\n    @Bean\r\n    public JedisPool jedisPoolForSchedulerLocking() {\r\n\r\n        JedisPoolConfig jedisPoolConfig = new JedisPoolConfig();\r\n        jedisPoolConfig.setMaxTotal(2);\r\n        jedisPoolConfig.setMaxIdle(2);\r\n        jedisPoolConfig.setMinIdle(1);\r\n        jedisPoolConfig.setMaxWaitMillis(500);\r\n\r\n        return new JedisPool(jedisPoolConfig, {host}, {port}, {timeout}, {port}); \r\n    }\r\n\r\n    @Bean\r\n    public LockProvider lockProvider(@Qualifier(&quot;jedisPoolForSchedulerLocking&quot;) JedisPool jedisPool) {\r\n        return new JedisLockProvider(jedisPool, &quot;PRD&quot;);\r\n    }\r\n```\r\n\r\n##### Issue: #####\r\n\r\nI am seeing sometimes scheduler is missing the runs, for instance it runs at 12:25, 12:30 and then runs at 12:45, **missed 2 runs here**. Actual task completes in around (400ms - 3s), thus I have setup `1m` and `4m` as `lockAtLeastFor` and `lockAtMostFor`. config seems correct to me.\r\n\r\nDoesn&#39;t know what&#39;s failing here exactly. As per official docs this can run more than once(which is fine for my use-case) but should never miss the runs. \r\n\r\n**pom.xml** :\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;shedlock-spring&lt;/artifactId&gt;\r\n            &lt;version&gt;4.42.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;shedlock-provider-redis-jedis&lt;/artifactId&gt;\r\n            &lt;version&gt;4.42.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n&lt;spring-boot.version&gt;2.2.1.RELEASE&lt;/spring-boot.version&gt;\r\n```","title":"Shedlock skipped runs","body":"<p>I am using <strong>shedlock</strong> to implement a use-case of distributed locking.\nMy app is running on 20 machines, and I want scheduler to be executed once in every 5 minutes in any 1 machine by using implicit distributed locking provided by shedlock library.</p>\n<h5>Scheduler:</h5>\n<pre><code>    @Scheduled(cron = &quot;0 */5 * * * *&quot;)\n    @SchedulerLock(name = &quot;executeTaskLock&quot;,\n            lockAtLeastFor = &quot;1m&quot;,\n            lockAtMostFor = &quot;4m&quot;)\n    public void executeTask() throws Exception {\n        LockAssert.assertLocked();\n\n        // task executes here which completed in around (400ms - 2s)\n    }\n</code></pre>\n<h5>Config:</h5>\n<pre><code>    @Bean\n    public JedisPool jedisPoolForSchedulerLocking() {\n\n        JedisPoolConfig jedisPoolConfig = new JedisPoolConfig();\n        jedisPoolConfig.setMaxTotal(2);\n        jedisPoolConfig.setMaxIdle(2);\n        jedisPoolConfig.setMinIdle(1);\n        jedisPoolConfig.setMaxWaitMillis(500);\n\n        return new JedisPool(jedisPoolConfig, {host}, {port}, {timeout}, {port}); \n    }\n\n    @Bean\n    public LockProvider lockProvider(@Qualifier(&quot;jedisPoolForSchedulerLocking&quot;) JedisPool jedisPool) {\n        return new JedisLockProvider(jedisPool, &quot;PRD&quot;);\n    }\n</code></pre>\n<h5>Issue:</h5>\n<p>I am seeing sometimes scheduler is missing the runs, for instance it runs at 12:25, 12:30 and then runs at 12:45, <strong>missed 2 runs here</strong>. Actual task completes in around (400ms - 3s), thus I have setup <code>1m</code> and <code>4m</code> as <code>lockAtLeastFor</code> and <code>lockAtMostFor</code>. config seems correct to me.</p>\n<p>Doesn't know what's failing here exactly. As per official docs this can run more than once(which is fine for my use-case) but should never miss the runs.</p>\n<p><strong>pom.xml</strong> :</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\n            &lt;artifactId&gt;shedlock-spring&lt;/artifactId&gt;\n            &lt;version&gt;4.42.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\n            &lt;artifactId&gt;shedlock-provider-redis-jedis&lt;/artifactId&gt;\n            &lt;version&gt;4.42.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n&lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;spring-boot.version&gt;2.2.1.RELEASE&lt;/spring-boot.version&gt;\n</code></pre>\n"},{"tags":["java","java-17","smbj"],"answers":[{"comments":[{"owner":{"account_id":17479236,"reputation":33,"user_id":12673453,"display_name":"raj"},"score":0,"creation_date":1694348705,"post_id":77072854,"comment_id":135876839,"body_markdown":"Thanks, changed dependency to 0.12.0 instead of 0.12.2. along with this i also updated few more deps. its working.","body":"Thanks, changed dependency to 0.12.0 instead of 0.12.2. along with this i also updated few more deps. its working."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701328382,"creation_date":1694272750,"answer_id":77072854,"question_id":77072622,"body_markdown":"This is a bug in smbj; see https://github.com/hierynomus/smbj/issues/425.  According to the issue updates, a fix has been committed and is included in smbj release 0.12.2.\r\n\r\nSolution: upgrade your dependency.  \r\n\r\n(FWIW, 0.9.1 is nearly 5 years out of date ... at the time of writing this.)\r\n\r\n-------------------\r\n\r\nFor those (like me) whose initial reaction was &quot;but MD4 is insecure&quot;, there are a few protocols where MD4 is still used.  SMB appears to be one of them.","title":"getting java.security.NoSuchAlgorithmException: MD4 MessageDigest not available for java 17","body":"<p>This is a bug in smbj; see <a href=\"https://github.com/hierynomus/smbj/issues/425\" rel=\"nofollow noreferrer\">https://github.com/hierynomus/smbj/issues/425</a>.  According to the issue updates, a fix has been committed and is included in smbj release 0.12.2.</p>\n<p>Solution: upgrade your dependency.</p>\n<p>(FWIW, 0.9.1 is nearly 5 years out of date ... at the time of writing this.)</p>\n<hr />\n<p>For those (like me) whose initial reaction was &quot;but MD4 is insecure&quot;, there are a few protocols where MD4 is still used.  SMB appears to be one of them.</p>\n"}],"owner":{"account_id":17479236,"reputation":33,"user_id":12673453,"display_name":"raj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77072854,"answer_count":1,"score":0,"last_activity_date":1701328382,"creation_date":1694268923,"question_id":77072622,"body_markdown":"I&#39;m facing the exception `java.security.NoSuchAlgorithmException: MD4 MessageDigest not available`.\r\n\r\nI&#39;m using the library in java 17 and gradle - `implementation group: &#39;com.hierynomus&#39;, name: &#39;smbj&#39;, version: &#39;0.9.1&#39;`\r\n\r\nAny suggestions or guidance is appreciated.","title":"getting java.security.NoSuchAlgorithmException: MD4 MessageDigest not available for java 17","body":"<p>I'm facing the exception <code>java.security.NoSuchAlgorithmException: MD4 MessageDigest not available</code>.</p>\n<p>I'm using the library in java 17 and gradle - <code>implementation group: 'com.hierynomus', name: 'smbj', version: '0.9.1'</code></p>\n<p>Any suggestions or guidance is appreciated.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":4956797,"reputation":1052,"user_id":3989143,"accept_rate":71,"display_name":"Hoby"},"score":0,"creation_date":1603276978,"post_id":54088206,"comment_id":113984093,"body_markdown":"there is any solution to solve that please ?","body":"there is any solution to solve that please ?"},{"owner":{"account_id":5054163,"reputation":3190,"user_id":4057885,"display_name":"Hunter"},"score":0,"creation_date":1624616869,"post_id":54088206,"comment_id":120413408,"body_markdown":"Is there ProviderInstaller alternative in Huawei HMS? Or is it needed?","body":"Is there ProviderInstaller alternative in Huawei HMS? Or is it needed?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1701075886,"post_id":54088206,"comment_id":136725454,"body_markdown":"When you get an exception, log the *exception.* This is clearly some error message of your own devising, and no use whatsoever. At least give us a stack trace.","body":"When you get an exception, log the <i>exception.</i> This is clearly some error message of your own devising, and no use whatsoever. At least give us a stack trace."}],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1701075921,"post_id":77555361,"comment_id":136725462,"body_markdown":"You can use it how? Why? What problem does it solve? And how does it solve it?","body":"You can use it how? Why? What problem does it solve? And how does it solve it?"},{"owner":{"account_id":30002070,"reputation":1,"user_id":22991847,"display_name":"Salih Demir"},"score":0,"creation_date":1701244797,"post_id":77555361,"comment_id":136750250,"body_markdown":"It is the HMS equivalent of &quot;ProviderInstaller.installIfNeeded(this); &quot;","body":"It is the HMS equivalent of &quot;ProviderInstaller.installIfNeeded(this); &quot;"}],"tags":[],"owner":{"account_id":30002070,"reputation":1,"user_id":22991847,"display_name":"Salih Demir"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701327545,"creation_date":1701072686,"answer_id":77555361,"question_id":54088206,"body_markdown":"You can use below for HMS\r\n```\r\nSecComponentInstallWizard.install(context)\r\n```","title":"javax.net.ssl.sslhandshakeexception handshake failed in huawei phones","body":"<p>You can use below for HMS</p>\n<pre><code>SecComponentInstallWizard.install(context)\n</code></pre>\n"}],"owner":{"account_id":10517032,"reputation":93,"user_id":7750822,"display_name":"AprinDev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":272,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":1,"score":4,"last_activity_date":1701327545,"creation_date":1546937549,"question_id":54088206,"body_markdown":"I need help, in Huawei phones(version 4.4.2).\r\nI have an error :\r\n\r\n&gt; javax.net.ssl.sslhandshakeexception handshake failed and can&#39;t connect\r\n&gt; to the server.\r\n\r\nI tested all solutions below like :\r\n\r\n1- use com.google.android.gms:play-services-auth:16.0.1.\r\n\r\n2- `ProviderInstaller.installIfNeeded(this);`&lt;br/&gt; \r\nand so on.\r\n\r\nHow can repair this error ?? \r\n\r\n","title":"javax.net.ssl.sslhandshakeexception handshake failed in huawei phones","body":"<p>I need help, in Huawei phones(version 4.4.2).\nI have an error :</p>\n\n<blockquote>\n  <p>javax.net.ssl.sslhandshakeexception handshake failed and can't connect\n  to the server.</p>\n</blockquote>\n\n<p>I tested all solutions below like :</p>\n\n<p>1- use com.google.android.gms:play-services-auth:16.0.1.</p>\n\n<p>2- <code>ProviderInstaller.installIfNeeded(this);</code><br/> \nand so on.</p>\n\n<p>How can repair this error ?? </p>\n"},{"tags":["eclipse","java"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1310476882,"post_id":6664654,"comment_id":7879793,"body_markdown":"Does `C:\\Program Files\\Java\\jre6\\bin\\javaw.exe` exist on your machine?","body":"Does <code>C:\\Program Files\\Java\\jre6\\bin\\javaw.exe</code> exist on your machine?"}],"answers":[{"comments":[{"owner":{"account_id":446547,"reputation":126635,"user_id":839646,"accept_rate":70,"display_name":"Ryan Stewart"},"score":0,"creation_date":1310497957,"post_id":6665817,"comment_id":7886952,"body_markdown":"There&#39;s a space between &quot;Program&quot; and &quot;Files&quot;","body":"There&#39;s a space between &quot;Program&quot; and &quot;Files&quot;"},{"owner":{"account_id":446547,"reputation":126635,"user_id":839646,"accept_rate":70,"display_name":"Ryan Stewart"},"score":1,"creation_date":1310502648,"post_id":6665817,"comment_id":7888315,"body_markdown":"From the classpath in your original post, you have eclipse installed under C:\\Documents and Settings. &lt;-- More spaces. Fix those, too.","body":"From the classpath in your original post, you have eclipse installed under C:\\Documents and Settings. &lt;-- More spaces. Fix those, too."},{"owner":{"account_id":784090,"reputation":59,"user_id":840767,"accept_rate":67,"display_name":"spyros"},"score":0,"creation_date":1310549178,"post_id":6665817,"comment_id":7896697,"body_markdown":"put them in: C:\\eclipse and C:\\jre1.5.0_17. Still same problem.","body":"put them in: C:\\eclipse and C:\\jre1.5.0_17. Still same problem."},{"owner":{"account_id":784090,"reputation":59,"user_id":840767,"accept_rate":67,"display_name":"spyros"},"score":0,"creation_date":1310572480,"post_id":6665817,"comment_id":7903933,"body_markdown":"Exception occurred executing command line.\nCreateProcess: C:\\jre1.5.0_17\\bin\\javaw.exe -Dfile.encoding=Cp1253 -classpath C:\\ASTExplorer\\bin;C:\\eclipse\\plugins\\org.eclipse.ant.core_3.2.200.v20100427.jar;C:\\eclipse\\plugins\\org.eclipse.ant.launching_1.0.0.v20100427.jar;C:\\eclipse\\plugins\\org.eclipse.ant.ui_3.5.0.v20100427.jar;C:\\eclipse\\plugins\\org.eclipse.compare.core_3.5.100.I20100526-0800.jar;","body":"Exception occurred executing command line. CreateProcess: C:\\jre1.5.0_17\\bin\\javaw.exe -Dfile.encoding=Cp1253 -classpath C:\\ASTExplorer\\bin;C:\\eclipse\\plugins\\org.eclipse.ant.core_3&zwnj;&#8203;.2.200.v20100427.jar&zwnj;&#8203;;C:\\eclipse\\plugins\\&zwnj;&#8203;org.eclipse.ant.laun&zwnj;&#8203;ching_1.0.0.v2010042&zwnj;&#8203;7.jar;C:\\eclipse\\plu&zwnj;&#8203;gins\\org.eclipse.ant&zwnj;&#8203;.ui_3.5.0.v20100427.&zwnj;&#8203;jar;C:\\eclipse\\plugi&zwnj;&#8203;ns\\org.eclipse.compa&zwnj;&#8203;re.core_3.5.100.I201&zwnj;&#8203;00526-0800.jar;"},{"owner":{"account_id":446547,"reputation":126635,"user_id":839646,"accept_rate":70,"display_name":"Ryan Stewart"},"score":0,"creation_date":1310573255,"post_id":6665817,"comment_id":7904157,"body_markdown":"Please [pastebin](http://pastebin.com/) the entire message, including the error code and message that it gives you.","body":"Please <a href=\"http://pastebin.com/\" rel=\"nofollow noreferrer\">pastebin</a> the entire message, including the error code and message that it gives you."},{"owner":{"account_id":784090,"reputation":59,"user_id":840767,"accept_rate":67,"display_name":"spyros"},"score":0,"creation_date":1310576833,"post_id":6665817,"comment_id":7905166,"body_markdown":"it pops up a window saying: &#39;Launching ASTMain&#39; has encountered a problem. Exception occured executing command line and below it says:","body":"it pops up a window saying: &#39;Launching ASTMain&#39; has encountered a problem. Exception occured executing command line and below it says:"},{"owner":{"account_id":784090,"reputation":59,"user_id":840767,"accept_rate":67,"display_name":"spyros"},"score":0,"creation_date":1310576938,"post_id":6665817,"comment_id":7905196,"body_markdown":"It says &#39;Launching ASTMain&#39; has encountered a problem. Exception occured executing command line and below it says what i wrote above and some more (similar) paths that i am not allowed to write because of charachters limit.","body":"It says &#39;Launching ASTMain&#39; has encountered a problem. Exception occured executing command line and below it says what i wrote above and some more (similar) paths that i am not allowed to write because of charachters limit."},{"owner":{"account_id":446547,"reputation":126635,"user_id":839646,"accept_rate":70,"display_name":"Ryan Stewart"},"score":0,"creation_date":1310577058,"post_id":6665817,"comment_id":7905229,"body_markdown":"[Pastebin](http://pastebin.com/) (click the link) will let you paste an (effectively) unlimited amount of text and give you a short link to it, which you can provide in a comment. I won&#39;t be able to help much more without seeing the full message, especially the error code and message at the end of it.","body":"<a href=\"http://pastebin.com/\" rel=\"nofollow noreferrer\">Pastebin</a> (click the link) will let you paste an (effectively) unlimited amount of text and give you a short link to it, which you can provide in a comment. I won&#39;t be able to help much more without seeing the full message, especially the error code and message at the end of it."},{"owner":{"account_id":446547,"reputation":126635,"user_id":839646,"accept_rate":70,"display_name":"Ryan Stewart"},"score":0,"creation_date":1310579845,"post_id":6665817,"comment_id":7906127,"body_markdown":"Unfortunately, that is still only part of the command being run. You say that comes from a window that pops up? Try [these steps](http://zachxu.blogspot.com/2011/01/how-to-show-actual-java-command-line.html) to get at the real, full command line. You can tell the full command line because after the huge &quot;-classpath ...&quot;, there will be other options and it will also have &quot;astexplorer.ASTMain&quot; in it. I&#39;m running neither Eclipse nor Windows, so I can&#39;t easily try this out myself.","body":"Unfortunately, that is still only part of the command being run. You say that comes from a window that pops up? Try <a href=\"http://zachxu.blogspot.com/2011/01/how-to-show-actual-java-command-line.html\" rel=\"nofollow noreferrer\">these steps</a> to get at the real, full command line. You can tell the full command line because after the huge &quot;-classpath ...&quot;, there will be other options and it will also have &quot;astexplorer.ASTMain&quot; in it. I&#39;m running neither Eclipse nor Windows, so I can&#39;t easily try this out myself."},{"owner":{"account_id":784090,"reputation":59,"user_id":840767,"accept_rate":67,"display_name":"spyros"},"score":0,"creation_date":1310649646,"post_id":6665817,"comment_id":7920930,"body_markdown":"unfortunately my program won&#39;t run at all so debug view is empty. i have taken a printscreen of the message it pops up when i try right click on the project (ASTParser) run as-&gt; java application. thanx for looking at my problem closely.\nhttp://imageshare.web.id/images/i6me4550owtuafdzijf1.jpg","body":"unfortunately my program won&#39;t run at all so debug view is empty. i have taken a printscreen of the message it pops up when i try right click on the project (ASTParser) run as-&gt; java application. thanx for looking at my problem closely. <a href=\"http://imageshare.web.id/images/i6me4550owtuafdzijf1.jpg\" rel=\"nofollow noreferrer\">imageshare.web.id/images/i6me4550owtuafdzijf1.jpg</a>"},{"owner":{"account_id":446547,"reputation":126635,"user_id":839646,"accept_rate":70,"display_name":"Ryan Stewart"},"score":0,"creation_date":1310657195,"post_id":6665817,"comment_id":7923602,"body_markdown":"That URL doesn&#39;t show me an image, just an upload form. I know which window you&#39;re talking about, though, and it truncates the error message if it&#39;s too long. My only other suggestion at this point is to try reconstructing the command yourself. Use eclipse&#39;s .classpath file to build yourself a classpath string, and run `java -classpath &lt;the classpath string&gt; astexplorer.ASTMain`","body":"That URL doesn&#39;t show me an image, just an upload form. I know which window you&#39;re talking about, though, and it truncates the error message if it&#39;s too long. My only other suggestion at this point is to try reconstructing the command yourself. Use eclipse&#39;s .classpath file to build yourself a classpath string, and run <code>java -classpath &lt;the classpath string&gt; astexplorer.ASTMain</code>"}],"tags":[],"owner":{"account_id":446547,"reputation":126635,"user_id":839646,"accept_rate":70,"display_name":"Ryan Stewart"},"comment_count":11,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1310480941,"creation_date":1310480941,"answer_id":6665817,"question_id":6664654,"body_markdown":"Install Java somewhere without spaces in the path. It will only cause you unnecessary heartache, like this. The same goes for all your dev tools, like ant, maven, ides, sql tools, etc.","title":"Exception occurred executing command line. CreateProcess: &quot;C:\\Program Files\\Java\\jre6\\bin\\javaw.exe&quot;","body":"<p>Install Java somewhere without spaces in the path. It will only cause you unnecessary heartache, like this. The same goes for all your dev tools, like ant, maven, ides, sql tools, etc.</p>\n"},{"comments":[{"owner":{"account_id":3342991,"reputation":1334,"user_id":2808815,"accept_rate":82,"display_name":"Joe Caruso"},"score":1,"creation_date":1701438656,"post_id":77576449,"comment_id":136778885,"body_markdown":"Use punctuation to improve readability.","body":"Use punctuation to improve readability."}],"tags":[],"owner":{"account_id":29659921,"reputation":1,"user_id":22731733,"display_name":"shivam arora"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701327452,"creation_date":1701327452,"answer_id":77576449,"question_id":6664654,"body_markdown":"i got the same error like the one you got above so i uninstalled eclipse and reinstalled it again and this time i just changed the installation directory and i have 4-5 java versions available at the same time so i uninstalled all the versions and just installed the latest version and then in the eclipse workspace it created a base folder for me and i  changed the project folder as the source folder for java classes and files and it worked for me","title":"Exception occurred executing command line. CreateProcess: &quot;C:\\Program Files\\Java\\jre6\\bin\\javaw.exe&quot;","body":"<p>i got the same error like the one you got above so i uninstalled eclipse and reinstalled it again and this time i just changed the installation directory and i have 4-5 java versions available at the same time so i uninstalled all the versions and just installed the latest version and then in the eclipse workspace it created a base folder for me and i  changed the project folder as the source folder for java classes and files and it worked for me</p>\n"}],"owner":{"account_id":784090,"reputation":59,"user_id":840767,"accept_rate":67,"display_name":"spyros"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":6665817,"answer_count":2,"score":0,"last_activity_date":1701327452,"creation_date":1310476173,"question_id":6664654,"body_markdown":"I have the above problem when trying to run the astparser ([found here][1]).\r\n\r\nI have windows xp 32bit and eclipse helios.\r\n\r\nI already have tried the -vm option in the .ini file of eclipse, but problem persists.\r\n\r\nThe error message is:\r\n\r\n&lt;pre&gt;Exception occurred executing command line.\r\nCreateProcess: &quot;C:\\Program Files\\Java\\jre6\\bin\\javaw.exe&quot; -Dfile.encoding=Cp1253 -classpath &quot;C:\\Documents and Settings\\neo.WHITE-RABBIT\\Επιφάνεια εργασίας\\ASTExplorer\\bin;C:\\Documents and Settings\\neo.WHITE-RABBIT\\Επιφάνεια εργασίας\\eclipse\\plugins\\org.eclipse.swt.win32.win32.x86_3.6.0.v3650b.jar;C:\\Documents and Settings\\neo.WHITE-RABBIT\\Επιφάνεια εργασίας\\eclipse\\plugins\\com.ibm.icu_4.2.1.v20100412.jar;C:\\Documents and Settings\\neo.WHITE-RABBIT\\Επιφάνεια εργασίας\\eclipse\\plugins\\com.jcraft.jsch_0.1.41.v200903070017.jar;C:\\Documents and Settings\\neo.WHITE-RABBIT\\Επιφάνεια εργασίας\\eclipse\\plugins\\java_cup.runtime_0.10.0.v201005080400.jar;C:\\Documents and Settings\\neo.WHITE-RABBIT\\Επιφάνεια εργασίας\\eclipse\\plugins\\javax.activation_1.1.0.v201005080500.jar;C:\\Documents and Settings\\neo.WHITE-RABBIT\\Επιφάνεια εργασίας\\eclipse\\plugins\\javax.jws_2.0.0.v201005080400.jar;C:\\Documents and Settings\\neo.WHITE-RABBIT\\Επιφάνεια εργασίας\\eclipse\\plugins\\javax.mail_1.4.0.v201005080615.jar;C:\\Documents and Settings\\neo.WHI”&lt;/pre&gt;\r\n\r\nAny suggestions? \r\n\r\n  [1]: http://www.ibm.com/developerworks/opensource/library/os-ast/","title":"Exception occurred executing command line. CreateProcess: &quot;C:\\Program Files\\Java\\jre6\\bin\\javaw.exe&quot;","body":"<p>I have the above problem when trying to run the astparser (<a href=\"http://www.ibm.com/developerworks/opensource/library/os-ast/\" rel=\"nofollow\">found here</a>).</p>\n\n<p>I have windows xp 32bit and eclipse helios.</p>\n\n<p>I already have tried the -vm option in the .ini file of eclipse, but problem persists.</p>\n\n<p>The error message is:</p>\n\n<pre>Exception occurred executing command line.\nCreateProcess: \"C:\\Program Files\\Java\\jre6\\bin\\javaw.exe\" -Dfile.encoding=Cp1253 -classpath \"C:\\Documents and Settings\\neo.WHITE-RABBIT\\Επιφάνεια εργασίας\\ASTExplorer\\bin;C:\\Documents and Settings\\neo.WHITE-RABBIT\\Επιφάνεια εργασίας\\eclipse\\plugins\\org.eclipse.swt.win32.win32.x86_3.6.0.v3650b.jar;C:\\Documents and Settings\\neo.WHITE-RABBIT\\Επιφάνεια εργασίας\\eclipse\\plugins\\com.ibm.icu_4.2.1.v20100412.jar;C:\\Documents and Settings\\neo.WHITE-RABBIT\\Επιφάνεια εργασίας\\eclipse\\plugins\\com.jcraft.jsch_0.1.41.v200903070017.jar;C:\\Documents and Settings\\neo.WHITE-RABBIT\\Επιφάνεια εργασίας\\eclipse\\plugins\\java_cup.runtime_0.10.0.v201005080400.jar;C:\\Documents and Settings\\neo.WHITE-RABBIT\\Επιφάνεια εργασίας\\eclipse\\plugins\\javax.activation_1.1.0.v201005080500.jar;C:\\Documents and Settings\\neo.WHITE-RABBIT\\Επιφάνεια εργασίας\\eclipse\\plugins\\javax.jws_2.0.0.v201005080400.jar;C:\\Documents and Settings\\neo.WHITE-RABBIT\\Επιφάνεια εργασίας\\eclipse\\plugins\\javax.mail_1.4.0.v201005080615.jar;C:\\Documents and Settings\\neo.WHI”</pre>\n\n<p>Any suggestions? </p>\n"},{"tags":["java","spring","maven","dependencies","pom.xml"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1606294873,"post_id":65001305,"comment_id":114918304,"body_markdown":"Does it build on plain command line without issues?","body":"Does it build on plain command line without issues?"},{"owner":{"account_id":17061119,"reputation":77,"user_id":12344530,"display_name":"Bartosz_76"},"score":0,"creation_date":1606295233,"post_id":65001305,"comment_id":114918466,"body_markdown":"Command &quot;mvn clean install&quot; on command line doesn&#39;t say anything about Spring. On command line it gives me another problem... It refuses to recognize one of my company&#39;s dependencies which is another headache, because I both have access to the artifactory, &lt;repository&gt; is set correctly within the POM and my settings.xml have both my corporate key and password correct too complete with proper url.","body":"Command &quot;mvn clean install&quot; on command line doesn&#39;t say anything about Spring. On command line it gives me another problem... It refuses to recognize one of my company&#39;s dependencies which is another headache, because I both have access to the artifactory, &lt;repository&gt; is set correctly within the POM and my settings.xml have both my corporate key and password correct too complete with proper url."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1606295831,"post_id":65001305,"comment_id":114918712,"body_markdown":"You need to have a clean build from the command line before looking into your IDE.  What you see is probably caused by something else deeper down.","body":"You need to have a clean build from the command line before looking into your IDE.  What you see is probably caused by something else deeper down."},{"owner":{"account_id":21118327,"reputation":31,"user_id":15524950,"display_name":"Valentyn Lapinskyi"},"score":0,"creation_date":1657396736,"post_id":65001305,"comment_id":128802197,"body_markdown":"I answer a similar question. Have a look: https://stackoverflow.com/a/72924187/15524950","body":"I answer a similar question. Have a look: <a href=\"https://stackoverflow.com/a/72924187/15524950\">stackoverflow.com/a/72924187/15524950</a>"}],"answers":[{"comments":[{"owner":{"account_id":17061119,"reputation":77,"user_id":12344530,"display_name":"Bartosz_76"},"score":0,"creation_date":1606294990,"post_id":65001388,"comment_id":114918355,"body_markdown":"Just did, the problem is still the same. :-/","body":"Just did, the problem is still the same. :-/"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1606295666,"post_id":65001388,"comment_id":114918643,"body_markdown":"This isn&#39;t an answer but rather a comment.","body":"This isn&#39;t an answer but rather a comment."}],"tags":[],"owner":{"account_id":7410515,"reputation":25,"user_id":5637971,"display_name":"Tarun"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606294660,"creation_date":1606294660,"answer_id":65001388,"question_id":65001305,"body_markdown":"Did you try running ```mvn clean package```. After that reload/reimport the maven project based upon your ide settings.","title":"Maven doesn&#39;t see Spring dependencies","body":"<p>Did you try running <code>mvn clean package</code>. After that reload/reimport the maven project based upon your ide settings.</p>\n"}],"owner":{"account_id":17061119,"reputation":77,"user_id":12344530,"display_name":"Bartosz_76"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701327131,"creation_date":1606294289,"question_id":65001305,"body_markdown":"I have a problem with Maven refusing to recognize any Spring dependencies. Even though in the POM, everything seems to be correct (nothing highlighted), if I try to compile the app, it throws an error with a message:\r\n```\r\njava: package org.springframework.boot does not exist\r\n```\r\nAlso, no annotations work, my IDE simply does not see any dependency it&#39;s given and if I try to resolve it by &quot;add dependency&quot;... literally nothing happens. POM itself is fine, because the rest of my team encounter no problems. I have environment variables set with correct paths and options found at Settings -&gt; Build -&gt; Build Tools -&gt; Maven are also set as they should be.\r\n\r\nThis is my POM (chosen fragments):\r\n```\r\n&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.2.5.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n    &lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-stream&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-stream-binder-kafka&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\n\r\n","title":"Maven doesn&#39;t see Spring dependencies","body":"<p>I have a problem with Maven refusing to recognize any Spring dependencies. Even though in the POM, everything seems to be correct (nothing highlighted), if I try to compile the app, it throws an error with a message:</p>\n<pre><code>java: package org.springframework.boot does not exist\n</code></pre>\n<p>Also, no annotations work, my IDE simply does not see any dependency it's given and if I try to resolve it by &quot;add dependency&quot;... literally nothing happens. POM itself is fine, because the rest of my team encounter no problems. I have environment variables set with correct paths and options found at Settings -&gt; Build -&gt; Build Tools -&gt; Maven are also set as they should be.</p>\n<p>This is my POM (chosen fragments):</p>\n<pre><code>&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.5.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-stream&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-stream-binder-kafka&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","playwright","playwright-java"],"owner":{"account_id":30028716,"reputation":1,"user_id":23012280,"display_name":"Akhil Nath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701326367,"creation_date":1701325551,"question_id":77576319,"body_markdown":"When i inspect manually and set the view port size from responsive, the UI is working fine but when i do it from code, its not showing the exact UI\r\n\r\nbelow is my code used for simulating the UI to mobile view\r\n\r\n\r\n```\r\ncontext = browser.newContext(new Browser.NewContextOptions().setViewportSize(412, 915)\r\n.setDeviceScaleFactor(2.625)\r\n.setIsMobile(true)\r\n.setUserAgent(“Mozilla/5.0 (Linux; Android 11; SM-G988B Build/RP1A.200720.012; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/89.0.4389.105 Mobile Safari/537.36”)\r\n);\r\npage = context.newPage();\r\npage.navigate(PortalURL);\r\n```\r\n\r\n","title":"When i inspect manually and set the view port size from responsive, the UI is working fine but when i do it from code, its not showing the exact UI","body":"<p>When i inspect manually and set the view port size from responsive, the UI is working fine but when i do it from code, its not showing the exact UI</p>\n<p>below is my code used for simulating the UI to mobile view</p>\n<pre><code>context = browser.newContext(new Browser.NewContextOptions().setViewportSize(412, 915)\n.setDeviceScaleFactor(2.625)\n.setIsMobile(true)\n.setUserAgent(“Mozilla/5.0 (Linux; Android 11; SM-G988B Build/RP1A.200720.012; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/89.0.4389.105 Mobile Safari/537.36”)\n);\npage = context.newPage();\npage.navigate(PortalURL);\n</code></pre>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701326000,"creation_date":1701283157,"answer_id":77573735,"question_id":77564866,"body_markdown":"You can simply define an [`@AfterMapping`][1] method in the `CarConverter`. The point is to clone the list of converted users and to set the `users` attribute to an empty list because the list of users will be refilled upon invoking the `linkUser` method.\r\n```java\r\n@Mapper(uses = UserConverter.class)\r\npublic interface CarConverter {\r\n\r\n  Car convert(final CarDTO car);\r\n  CarDTO convert(final Car car);\r\n\r\n  @AfterMapping\r\n  default void linkUsersDTO(Car source, @MappingTarget CarDTO target) {\r\n    List&lt;CarUserDTO&gt; users = new ArrayList&lt;&gt;(target.getUsers());\r\n    target.setUsers(new ArrayList&lt;&gt;());\r\n    users.forEach(target::linkUser);\r\n  }\r\n\r\n  @AfterMapping\r\n  default void linkUsers(CarDTO source, @MappingTarget Car target) {\r\n    List&lt;CarUser&gt; users = new ArrayList&lt;&gt;(target.getUsers());\r\n    target.setUsers(new ArrayList&lt;&gt;());\r\n    users.forEach(target::linkUser);\r\n  }\r\n\r\n}\r\n```\r\nAdditionally, since the user&#39;s `car` property is being set in the `@AfterMapping` method, it is unnecessary to map it in the `UserConverter::convert`. \r\n\r\n```java\r\n@Mapper\r\npublic interface UserConverter {\r\n\r\n  @Mapping(target= &quot;car&quot;,ignore = true)\r\n  CarUser convert(final CarUserDTO user);\r\n\r\n  @Mapping(target= &quot;car&quot;,ignore = true)\r\n  CarUserDTO convert(final CarUser user);\r\n\r\n}\r\n```\r\nIf not ignored, the `StackOverflowError` exception is thrown because the generated methods of `UserConverter` form a circular dependency.\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/api/org/mapstruct/AfterMapping.html","title":"How To Convert a Bi-Directional Link With MapStrcut","body":"<p>You can simply define an <a href=\"https://mapstruct.org/documentation/stable/api/org/mapstruct/AfterMapping.html\" rel=\"nofollow noreferrer\"><code>@AfterMapping</code></a> method in the <code>CarConverter</code>. The point is to clone the list of converted users and to set the <code>users</code> attribute to an empty list because the list of users will be refilled upon invoking the <code>linkUser</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(uses = UserConverter.class)\npublic interface CarConverter {\n\n  Car convert(final CarDTO car);\n  CarDTO convert(final Car car);\n\n  @AfterMapping\n  default void linkUsersDTO(Car source, @MappingTarget CarDTO target) {\n    List&lt;CarUserDTO&gt; users = new ArrayList&lt;&gt;(target.getUsers());\n    target.setUsers(new ArrayList&lt;&gt;());\n    users.forEach(target::linkUser);\n  }\n\n  @AfterMapping\n  default void linkUsers(CarDTO source, @MappingTarget Car target) {\n    List&lt;CarUser&gt; users = new ArrayList&lt;&gt;(target.getUsers());\n    target.setUsers(new ArrayList&lt;&gt;());\n    users.forEach(target::linkUser);\n  }\n\n}\n</code></pre>\n<p>Additionally, since the user's <code>car</code> property is being set in the <code>@AfterMapping</code> method, it is unnecessary to map it in the <code>UserConverter::convert</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\npublic interface UserConverter {\n\n  @Mapping(target= &quot;car&quot;,ignore = true)\n  CarUser convert(final CarUserDTO user);\n\n  @Mapping(target= &quot;car&quot;,ignore = true)\n  CarUserDTO convert(final CarUser user);\n\n}\n</code></pre>\n<p>If not ignored, the <code>StackOverflowError</code> exception is thrown because the generated methods of <code>UserConverter</code> form a circular dependency.</p>\n"}],"owner":{"account_id":104174,"reputation":9524,"user_id":278659,"accept_rate":83,"display_name":"j3d"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77573735,"answer_count":1,"score":1,"last_activity_date":1701326000,"creation_date":1701183235,"question_id":77564866,"body_markdown":"Here below is a very simplified car sharing model, where a `Car` might be used by more than one `User`. I need to convert a service object into a DTO object and vice-versa:\r\n```\r\n@Data\r\npublic class Car {\r\n\r\n    private String brand;\r\n    private String model;\r\n    private List&lt;CarUser&gt; users = new ArrayList&lt;&gt;();\r\n\r\n    public void linkUser(CarUser user) {\r\n        this.users.add(user);\r\n        user.setCar(this);\r\n    }\r\n}\r\n\r\n@Data\r\npublic class CarUser {\r\n\r\n    private String name;\r\n    private Car car;\r\n}\r\n\r\n@Data\r\npublic class CarDTO {\r\n\r\n    private String brand;\r\n    private String model;\r\n    private List&lt;CarUserDTO&gt; users = new ArrayList&lt;&gt;();\r\n\r\n    public void linkUser(CarUserDTO user) {\r\n        this.users.add(user);\r\n        user.setCar(this);\r\n    }\r\n}\r\n\r\n@Data\r\npublic class CarUserDTO {\r\n\r\n    private String name;\r\n    private CarDTO car;\r\n}\r\n\r\n@Mapper\r\npublic interface UserConverter {\r\n\r\n    CarUser convert(final CarUserDTO user);\r\n    CarUserDTO convert(final CarUser user);\r\n}\r\n\r\n\r\n@Mapper(uses = UserConverter.class)\r\npublic interface CarConverter {\r\n\r\n    Car convert(final CarDTO car);\r\n    CarDTO convert(final Car car);\r\n}\r\n```\r\nMethod `linkUser` creates a bi-directional link, i.e. it associates a given `User` to the current `Car` and the current `Car` to the given `User`. The problem with the `Mapper` in the code snippet above, is that the `car` attribute in classes `User`/`UserDTO` gets never set because of course the converter doesn&#39;t invoke `linkUser`. Is there any way to set that attribute? The tricky part here is that the `Car` to be set is actually the instance being converted. Any help would be really appreciated :-)\r\n\r\n    ","title":"How To Convert a Bi-Directional Link With MapStrcut","body":"<p>Here below is a very simplified car sharing model, where a <code>Car</code> might be used by more than one <code>User</code>. I need to convert a service object into a DTO object and vice-versa:</p>\n<pre><code>@Data\npublic class Car {\n\n    private String brand;\n    private String model;\n    private List&lt;CarUser&gt; users = new ArrayList&lt;&gt;();\n\n    public void linkUser(CarUser user) {\n        this.users.add(user);\n        user.setCar(this);\n    }\n}\n\n@Data\npublic class CarUser {\n\n    private String name;\n    private Car car;\n}\n\n@Data\npublic class CarDTO {\n\n    private String brand;\n    private String model;\n    private List&lt;CarUserDTO&gt; users = new ArrayList&lt;&gt;();\n\n    public void linkUser(CarUserDTO user) {\n        this.users.add(user);\n        user.setCar(this);\n    }\n}\n\n@Data\npublic class CarUserDTO {\n\n    private String name;\n    private CarDTO car;\n}\n\n@Mapper\npublic interface UserConverter {\n\n    CarUser convert(final CarUserDTO user);\n    CarUserDTO convert(final CarUser user);\n}\n\n\n@Mapper(uses = UserConverter.class)\npublic interface CarConverter {\n\n    Car convert(final CarDTO car);\n    CarDTO convert(final Car car);\n}\n</code></pre>\n<p>Method <code>linkUser</code> creates a bi-directional link, i.e. it associates a given <code>User</code> to the current <code>Car</code> and the current <code>Car</code> to the given <code>User</code>. The problem with the <code>Mapper</code> in the code snippet above, is that the <code>car</code> attribute in classes <code>User</code>/<code>UserDTO</code> gets never set because of course the converter doesn't invoke <code>linkUser</code>. Is there any way to set that attribute? The tricky part here is that the <code>Car</code> to be set is actually the instance being converted. Any help would be really appreciated :-)</p>\n"},{"tags":["java","android","kotlin"],"owner":{"account_id":2639545,"reputation":1,"user_id":2283509,"display_name":"Niraj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701325632,"creation_date":1701325632,"question_id":77576322,"body_markdown":"I am creating zip file in android by code at run time and wanted to customized or add new property-value to zip file during the file creation or later. \r\n\r\n\r\nI am able to create zip file by code but not able to customized or add new property value to zip file.\r\n\r\nExample - Like when we create zip file there is some default property in key value format like Name, Type and Size, same as I wanted to add new property and value to zip file.\r\n\r\nI have attached screenshot for get understating in detail.\r\n\r\n(https://i.stack.imgur.com/IEJ5y.jpg) ","title":"Want to customize zip file property in Android/ kotlin","body":"<p>I am creating zip file in android by code at run time and wanted to customized or add new property-value to zip file during the file creation or later.</p>\n<p>I am able to create zip file by code but not able to customized or add new property value to zip file.</p>\n<p>Example - Like when we create zip file there is some default property in key value format like Name, Type and Size, same as I wanted to add new property and value to zip file.</p>\n<p>I have attached screenshot for get understating in detail.</p>\n<p>(<a href=\"https://i.stack.imgur.com/IEJ5y.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/IEJ5y.jpg</a>)</p>\n"},{"tags":["java","spring-boot","gradle","build.gradle","transitivity"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1701330095,"post_id":77576294,"comment_id":136762836,"body_markdown":"If they are or aren&#39;t included depends on the type of dependency. If it is `implementation` it won&#39;t show, if it is `api` it will be exposed.","body":"If they are or aren&#39;t included depends on the type of dependency. If it is <code>implementation</code> it won&#39;t show, if it is <code>api</code> it will be exposed."}],"owner":{"account_id":30020013,"reputation":1,"user_id":23005592,"display_name":"Aneesha Rose"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701325236,"creation_date":1701325236,"question_id":77576294,"body_markdown":"I have a project A, which is dependent on project B,(it is not a sub-project case, the project jar is present in a remote repository) but when I include the project A on project B, as per the api(group:project-a:version), it should show the transitive dependency of project-A on other dependencies, say like spring-web-starter etc. But the dependency tree shows only (group:project-a:version) and also i need to explicitly add all the other dependencies on project B, which are already in project A.\r\n\r\nI am using gradle 8.2x and jdk-17\r\n\r\nWhat I am getting \r\n```\r\n+--- group:project-A:version\r\n+--- org.springframework.boot:spring-boot-starter-web:3.1.1\r\n|    +--- org.springframework.boot:spring-boot-starter:3.1.1\r\n|    |    +--- org.springframework.boot:spring-boot:3.1.1  \r\n```\r\n\r\nWhat I am expecting\r\n\r\n```\r\n+--- group:project-A:version\r\n|    +--- org.springframework.boot:spring-boot-starter-web:3.1.1\r\n|    |    +--- org.springframework.boot:spring-boot-starter:3.1.1\r\n|    |    |    +--- org.springframework.boot:spring-boot:3.1.1\r\n```\r\n","title":"Gradle: API configuration cannot resolve transitive dependencies","body":"<p>I have a project A, which is dependent on project B,(it is not a sub-project case, the project jar is present in a remote repository) but when I include the project A on project B, as per the api(group:project-a:version), it should show the transitive dependency of project-A on other dependencies, say like spring-web-starter etc. But the dependency tree shows only (group:project-a:version) and also i need to explicitly add all the other dependencies on project B, which are already in project A.</p>\n<p>I am using gradle 8.2x and jdk-17</p>\n<p>What I am getting</p>\n<pre><code>+--- group:project-A:version\n+--- org.springframework.boot:spring-boot-starter-web:3.1.1\n|    +--- org.springframework.boot:spring-boot-starter:3.1.1\n|    |    +--- org.springframework.boot:spring-boot:3.1.1  \n</code></pre>\n<p>What I am expecting</p>\n<pre><code>+--- group:project-A:version\n|    +--- org.springframework.boot:spring-boot-starter-web:3.1.1\n|    |    +--- org.springframework.boot:spring-boot-starter:3.1.1\n|    |    |    +--- org.springframework.boot:spring-boot:3.1.1\n</code></pre>\n"},{"tags":["java","spring","maven","spring-boot"],"comments":[{"owner":{"account_id":12626017,"reputation":5868,"user_id":10426557,"display_name":"Jonathan JOhx"},"score":0,"creation_date":1546988923,"post_id":54100891,"comment_id":95034997,"body_markdown":"OwnerService wasn&#39;t found, so should call OwnerServiceMap instead of OwnerService in your Controller.","body":"OwnerService wasn&#39;t found, so should call OwnerServiceMap instead of OwnerService in your Controller."},{"owner":{"account_id":10743492,"reputation":39,"user_id":7905703,"display_name":"jakijunior"},"score":0,"creation_date":1546989244,"post_id":54100891,"comment_id":95035109,"body_markdown":"i tried that, it shows the same error, it cannot find the whole package.       \n`throws package xxx.xxx.mypetclinic.services does not exist`","body":"i tried that, it shows the same error, it cannot find the whole package.        <code>throws package xxx.xxx.mypetclinic.services does not exist</code>"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1546998045,"post_id":54100891,"comment_id":95037169,"body_markdown":"Do not have classes in web projects you need elsewhere.","body":"Do not have classes in web projects you need elsewhere."},{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":0,"creation_date":1547059593,"post_id":54100891,"comment_id":95065703,"body_markdown":"it would have been better if you can share repo link, if it is not an issue","body":"it would have been better if you can share repo link, if it is not an issue"},{"owner":{"account_id":10743492,"reputation":39,"user_id":7905703,"display_name":"jakijunior"},"score":0,"creation_date":1547061899,"post_id":54100891,"comment_id":95066664,"body_markdown":"https://github.com/brutumi/my-pet-clinic i rolled back to 2.0.3 it&#39;s gone now but on 2.1.1 persists","body":"<a href=\"https://github.com/brutumi/my-pet-clinic\" rel=\"nofollow noreferrer\">github.com/brutumi/my-pet-clinic</a> i rolled back to 2.0.3 it&#39;s gone now but on 2.1.1 persists"}],"answers":[{"tags":[],"owner":{"account_id":2397606,"reputation":1886,"user_id":2891426,"accept_rate":71,"display_name":"Nagy Vilmos"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1546992134,"creation_date":1546992134,"answer_id":54101485,"question_id":54100891,"body_markdown":"I think you&#39;re missing a \r\n\r\n```\r\n\r\n&lt;dependencyManagement&gt;\r\n   &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;!-- Import dependency management from Spring Boot --&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n        &lt;version&gt;SPRING-BOOT-VERSION-HERE&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;scope&gt;import&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n   &lt;/dependencies&gt;\r\n&lt;/dependencyManagement&gt;\r\n```\r\n\r\nfrom your `pom.xml`. \r\n\r\nFor more details see: https://stackoverflow.com/a/21318359/2891426","title":"Spring Boot 2 Package not found","body":"<p>I think you're missing a </p>\n\n<pre><code>\n&lt;dependencyManagement&gt;\n   &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;!-- Import dependency management from Spring Boot --&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n        &lt;version&gt;SPRING-BOOT-VERSION-HERE&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n   &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n\n<p>from your <code>pom.xml</code>. </p>\n\n<p>For more details see: <a href=\"https://stackoverflow.com/a/21318359/2891426\">https://stackoverflow.com/a/21318359/2891426</a></p>\n"}],"owner":{"account_id":10743492,"reputation":39,"user_id":7905703,"display_name":"jakijunior"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2311,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701325165,"creation_date":1546988067,"question_id":54100891,"body_markdown":"Hello everybody i just started learning spring. I get the following error while maven packaging\r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile (default-compile) on project pet-clinic-web: Compilation failure: Compilation failure:\r\n    [ERROR] /C:/Users/user/Dropbox/yyy/spring/frameworkGuru/my-pet-clinic/pet-clinic-web/src/main/java/xxx/xxx/mypetclinic/controllers/OwnerController.java:[3,45] package xxx.xxx.mypetclinic.services does not exist\r\n    [ERROR] /C:/Users/user/Dropbox/yyy/spring/frameworkGuru/my-pet-clinic/pet-clinic-web/src/main/java/xxx/xxx/mypetclinic/controllers/OwnerController.java:[12,19] cannot find symbol\r\n    [ERROR] symbol:   class OwnerService\r\n    [ERROR] location: class xxx.xxx.mypetclinic.controllers.OwnerController\r\n    [ERROR] /C:/Users/user/Dropbox/yyy/spring/frameworkGuru/my-pet-clinic/pet-clinic-web/src/main/java/xxx/xxx/mypetclinic/controllers/OwnerController.java:[14,28] cannot find symbol\r\n    [ERROR] symbol:   class OwnerService\r\n    [ERROR] location: class xxx.xxx.mypetclinic.controllers.OwnerController\r\n    [ERROR] -&gt; [Help 1]\r\n\r\nI have 2 modules *data* and *web*, i&#39;m trying to access OwnerService(data-&gt;services) from OwnerController(web-&gt;controllers). I have added data module as a dependency in web pom\r\n\r\nIntellij does not show errors, i can even list all owners it works fine but i try to package and error shows up. Here are some project files.\r\n\r\nI tried with older spring boot version 2.0.3 the error is gone, but in 2.1.1 persists.\r\n\r\n\r\nproject pom\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;xxx.xxx&lt;/groupId&gt;\r\n        &lt;artifactId&gt;my-pet-clinic&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.2-SNAPSHOT&lt;/version&gt;\r\n    \r\n    \r\n        &lt;modules&gt;\r\n            &lt;module&gt;pet-clinic-data&lt;/module&gt;\r\n            &lt;module&gt;pet-clinic-web&lt;/module&gt;\r\n        &lt;/modules&gt;\r\n    \r\n        &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    \r\n        &lt;name&gt;my-pet-clinic&lt;/name&gt;\r\n        &lt;description&gt;My recode of spring pet clinic&lt;/description&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.1.RELEASE&lt;/version&gt;\r\n            &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;9&lt;/java.version&gt;\r\n            &lt;start-class&gt;xxx.xxx.mypetclinic.MyPetClinicApplication&lt;/start-class&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\r\n                    &lt;!--&lt;version&gt;2.5.3&lt;/version&gt;--&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;goals&gt;install&lt;/goals&gt;\r\n                        &lt;autoVersionSubmodules&gt;true&lt;/autoVersionSubmodules&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n        \r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n\r\ndata pom\r\n        \r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;my-pet-clinic&lt;/artifactId&gt;\r\n        &lt;groupId&gt;xxx.xxx&lt;/groupId&gt;\r\n        &lt;version&gt;0.0.2-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;artifactId&gt;pet-clinic-data&lt;/artifactId&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;executable&gt;true&lt;/executable&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\nweb pom\r\n\r\n        &lt;parent&gt;\r\n            &lt;artifactId&gt;my-pet-clinic&lt;/artifactId&gt;\r\n            &lt;groupId&gt;xxx.xxx&lt;/groupId&gt;\r\n            &lt;version&gt;0.0.2-SNAPSHOT&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;artifactId&gt;pet-clinic-web&lt;/artifactId&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;!-- Web dependencies --&gt;\r\n            &lt;webjars-bootstrap.version&gt;3.3.6&lt;/webjars-bootstrap.version&gt;\r\n            &lt;webjars-jquery-ui.version&gt;1.11.4&lt;/webjars-jquery-ui.version&gt;\r\n            &lt;webjars-jquery.version&gt;2.2.4&lt;/webjars-jquery.version&gt;\r\n            &lt;wro4j.version&gt;1.8.0&lt;/wro4j.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;artifactId&gt;pet-clinic-data&lt;/artifactId&gt;\r\n                &lt;groupId&gt;xxx.xxx&lt;/groupId&gt;\r\n                &lt;version&gt;0.0.2-SNAPSHOT&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n                &lt;artifactId&gt;webjars-locator-core&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jquery&lt;/artifactId&gt;\r\n                &lt;version&gt;${webjars-jquery.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jquery-ui&lt;/artifactId&gt;\r\n                &lt;version&gt;${webjars-jquery-ui.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n                &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\r\n                &lt;version&gt;${webjars-bootstrap.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\nOwnerController\r\n\r\n    package xxx.xxx.mypetclinic.controllers;\r\n    \r\n    import xxx.xxx.mypetclinic.services.OwnerService;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    \r\n    @RequestMapping(&quot;/owners&quot;)\r\n    @Controller\r\n    public class OwnerController {\r\n    \r\n        private final OwnerService ownerService;\r\n    \r\n        public OwnerController(OwnerService ownerService) {\r\n            this.ownerService = ownerService;\r\n        }\r\n    \r\n        @RequestMapping({&quot;&quot;,&quot;/&quot;,&quot;/index&quot;, &quot;/index.html&quot;})\r\n        public String listOwners(Model model){\r\n    \r\n            model.addAttribute(&quot;owners&quot;,ownerService.findAll());\r\n    \r\n            return &quot;owners/index&quot;;\r\n        }\r\n    }\r\n\r\nOwnerService \r\n\r\n    package xxx.xxx.mypetclinic.services;\r\n    \r\n    import xxx.xxx.mypetclinic.model.Owner;\r\n    \r\n    public interface OwnerService extends CrudService&lt;Owner, Long&gt;{\r\n    \r\n        Owner findByLastName(String lastName);\r\n    \r\n    }\r\nand OwnerServiceMap implementation\r\n\r\n    package xxx.xxx.mypetclinic.services.map;\r\n    \r\n    import xxx.xxx.mypetclinic.model.Owner;\r\n    import xxx.xxx.mypetclinic.services.OwnerService;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.util.Set;\r\n    \r\n    @Service\r\n    public class OwnerServiceMap extends AbstractMapService&lt;Owner, Long&gt; implements OwnerService {\r\n    \r\n        @Override\r\n        public Set&lt;Owner&gt; findAll() {\r\n            return super.findAll();\r\n        }\r\n    \r\n        @Override\r\n        public Owner findById(Long id) {\r\n            return super.findById(id);\r\n        }\r\n    \r\n        @Override\r\n        public Owner save(Owner object) {\r\n            return super.save(object);\r\n        }\r\n    \r\n        @Override\r\n        public void delete(Owner object) {\r\n            super.delete(object);\r\n        }\r\n    \r\n        @Override\r\n        public void deleteById(Long id) {\r\n            super.deleteById(id);\r\n        }\r\n    \r\n        @Override\r\n        public Owner findByLastName(String lastName) {\r\n            return null;\r\n        }\r\n    }\r\n\r\n\r\n[Code-repo][1]\r\n\r\n\r\n  [1]: https://github.com/brutumi/my-pet-clinic","title":"Spring Boot 2 Package not found","body":"<p>Hello everybody i just started learning spring. I get the following error while maven packaging</p>\n\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile (default-compile) on project pet-clinic-web: Compilation failure: Compilation failure:\n[ERROR] /C:/Users/user/Dropbox/yyy/spring/frameworkGuru/my-pet-clinic/pet-clinic-web/src/main/java/xxx/xxx/mypetclinic/controllers/OwnerController.java:[3,45] package xxx.xxx.mypetclinic.services does not exist\n[ERROR] /C:/Users/user/Dropbox/yyy/spring/frameworkGuru/my-pet-clinic/pet-clinic-web/src/main/java/xxx/xxx/mypetclinic/controllers/OwnerController.java:[12,19] cannot find symbol\n[ERROR] symbol:   class OwnerService\n[ERROR] location: class xxx.xxx.mypetclinic.controllers.OwnerController\n[ERROR] /C:/Users/user/Dropbox/yyy/spring/frameworkGuru/my-pet-clinic/pet-clinic-web/src/main/java/xxx/xxx/mypetclinic/controllers/OwnerController.java:[14,28] cannot find symbol\n[ERROR] symbol:   class OwnerService\n[ERROR] location: class xxx.xxx.mypetclinic.controllers.OwnerController\n[ERROR] -&gt; [Help 1]\n</code></pre>\n\n<p>I have 2 modules <em>data</em> and <em>web</em>, i'm trying to access OwnerService(data->services) from OwnerController(web->controllers). I have added data module as a dependency in web pom</p>\n\n<p>Intellij does not show errors, i can even list all owners it works fine but i try to package and error shows up. Here are some project files.</p>\n\n<p>I tried with older spring boot version 2.0.3 the error is gone, but in 2.1.1 persists.</p>\n\n<p>project pom</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;xxx.xxx&lt;/groupId&gt;\n    &lt;artifactId&gt;my-pet-clinic&lt;/artifactId&gt;\n    &lt;version&gt;0.0.2-SNAPSHOT&lt;/version&gt;\n\n\n    &lt;modules&gt;\n        &lt;module&gt;pet-clinic-data&lt;/module&gt;\n        &lt;module&gt;pet-clinic-web&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;name&gt;my-pet-clinic&lt;/name&gt;\n    &lt;description&gt;My recode of spring pet clinic&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.1.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;9&lt;/java.version&gt;\n        &lt;start-class&gt;xxx.xxx.mypetclinic.MyPetClinicApplication&lt;/start-class&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\n                &lt;!--&lt;version&gt;2.5.3&lt;/version&gt;--&gt;\n                &lt;configuration&gt;\n                    &lt;goals&gt;install&lt;/goals&gt;\n                    &lt;autoVersionSubmodules&gt;true&lt;/autoVersionSubmodules&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n\n&lt;/project&gt;\n</code></pre>\n\n<p>data pom</p>\n\n<pre><code>&lt;parent&gt;\n    &lt;artifactId&gt;my-pet-clinic&lt;/artifactId&gt;\n    &lt;groupId&gt;xxx.xxx&lt;/groupId&gt;\n    &lt;version&gt;0.0.2-SNAPSHOT&lt;/version&gt;\n&lt;/parent&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;artifactId&gt;pet-clinic-data&lt;/artifactId&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;executable&gt;true&lt;/executable&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p></p>\n\n<p>web pom</p>\n\n<pre><code>    &lt;parent&gt;\n        &lt;artifactId&gt;my-pet-clinic&lt;/artifactId&gt;\n        &lt;groupId&gt;xxx.xxx&lt;/groupId&gt;\n        &lt;version&gt;0.0.2-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;pet-clinic-web&lt;/artifactId&gt;\n\n    &lt;properties&gt;\n        &lt;!-- Web dependencies --&gt;\n        &lt;webjars-bootstrap.version&gt;3.3.6&lt;/webjars-bootstrap.version&gt;\n        &lt;webjars-jquery-ui.version&gt;1.11.4&lt;/webjars-jquery-ui.version&gt;\n        &lt;webjars-jquery.version&gt;2.2.4&lt;/webjars-jquery.version&gt;\n        &lt;wro4j.version&gt;1.8.0&lt;/wro4j.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;artifactId&gt;pet-clinic-data&lt;/artifactId&gt;\n            &lt;groupId&gt;xxx.xxx&lt;/groupId&gt;\n            &lt;version&gt;0.0.2-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;webjars-locator-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;jquery&lt;/artifactId&gt;\n            &lt;version&gt;${webjars-jquery.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;jquery-ui&lt;/artifactId&gt;\n            &lt;version&gt;${webjars-jquery-ui.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\n            &lt;version&gt;${webjars-bootstrap.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n\n\n&lt;/project&gt;\n</code></pre>\n\n<p>OwnerController</p>\n\n<pre><code>package xxx.xxx.mypetclinic.controllers;\n\nimport xxx.xxx.mypetclinic.services.OwnerService;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n@RequestMapping(\"/owners\")\n@Controller\npublic class OwnerController {\n\n    private final OwnerService ownerService;\n\n    public OwnerController(OwnerService ownerService) {\n        this.ownerService = ownerService;\n    }\n\n    @RequestMapping({\"\",\"/\",\"/index\", \"/index.html\"})\n    public String listOwners(Model model){\n\n        model.addAttribute(\"owners\",ownerService.findAll());\n\n        return \"owners/index\";\n    }\n}\n</code></pre>\n\n<p>OwnerService </p>\n\n<pre><code>package xxx.xxx.mypetclinic.services;\n\nimport xxx.xxx.mypetclinic.model.Owner;\n\npublic interface OwnerService extends CrudService&lt;Owner, Long&gt;{\n\n    Owner findByLastName(String lastName);\n\n}\n</code></pre>\n\n<p>and OwnerServiceMap implementation</p>\n\n<pre><code>package xxx.xxx.mypetclinic.services.map;\n\nimport xxx.xxx.mypetclinic.model.Owner;\nimport xxx.xxx.mypetclinic.services.OwnerService;\nimport org.springframework.stereotype.Service;\n\nimport java.util.Set;\n\n@Service\npublic class OwnerServiceMap extends AbstractMapService&lt;Owner, Long&gt; implements OwnerService {\n\n    @Override\n    public Set&lt;Owner&gt; findAll() {\n        return super.findAll();\n    }\n\n    @Override\n    public Owner findById(Long id) {\n        return super.findById(id);\n    }\n\n    @Override\n    public Owner save(Owner object) {\n        return super.save(object);\n    }\n\n    @Override\n    public void delete(Owner object) {\n        super.delete(object);\n    }\n\n    @Override\n    public void deleteById(Long id) {\n        super.deleteById(id);\n    }\n\n    @Override\n    public Owner findByLastName(String lastName) {\n        return null;\n    }\n}\n</code></pre>\n\n<p><a href=\"https://github.com/brutumi/my-pet-clinic\" rel=\"nofollow noreferrer\">Code-repo</a></p>\n"},{"tags":["java","gradle","build"],"comments":[{"owner":{"account_id":387305,"reputation":22984,"user_id":745574,"accept_rate":84,"display_name":"RaGe"},"score":0,"creation_date":1458731119,"post_id":36176279,"comment_id":59988154,"body_markdown":"Can you show library-services/build.gradle?","body":"Can you show library-services/build.gradle?"},{"owner":{"account_id":1065081,"reputation":14112,"user_id":1065869,"accept_rate":57,"display_name":"Elad Benda2"},"score":0,"creation_date":1458731710,"post_id":36176279,"comment_id":59988544,"body_markdown":"added. but my gradle.build doesn&#39;t try to add a task &quot;wrapper&quot;\nand it doesn&#39;t appear on base.gradle&#39; line: 28","body":"added. but my gradle.build doesn&#39;t try to add a task &quot;wrapper&quot; and it doesn&#39;t appear on base.gradle&#39; line: 28"}],"answers":[{"comments":[{"owner":{"account_id":1065081,"reputation":14112,"user_id":1065869,"accept_rate":57,"display_name":"Elad Benda2"},"score":0,"creation_date":1458735238,"post_id":36176361,"comment_id":59990821,"body_markdown":"where do you see i add &quot;android&quot; plugin?","body":"where do you see i add &quot;android&quot; plugin?"},{"owner":{"account_id":387305,"reputation":22984,"user_id":745574,"accept_rate":84,"display_name":"RaGe"},"score":0,"creation_date":1458742528,"post_id":36176361,"comment_id":59996288,"body_markdown":"I apologize. I was answering a series of android-gradle questions and just filled it in, in my head. Re-attempting to answer.","body":"I apologize. I was answering a series of android-gradle questions and just filled it in, in my head. Re-attempting to answer."}],"tags":[],"owner":{"account_id":387305,"reputation":22984,"user_id":745574,"accept_rate":84,"display_name":"RaGe"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458742547,"creation_date":1458730952,"answer_id":36176361,"question_id":36176279,"body_markdown":"Do you apply base.gradle to all your sub-projects? Do you apply it to your root project as well? \r\n\r\nThe wrapper task in gradle is only added to the root project and not to the subprojects. If you&#39;re applying base.gradle to all your projects, that would be the cause of your issue.","title":"Cannot add task &#39;X&#39; as a task with that name already exists","body":"<p>Do you apply base.gradle to all your sub-projects? Do you apply it to your root project as well? </p>\n\n<p>The wrapper task in gradle is only added to the root project and not to the subprojects. If you're applying base.gradle to all your projects, that would be the cause of your issue.</p>\n"}],"owner":{"account_id":1065081,"reputation":14112,"user_id":1065869,"accept_rate":57,"display_name":"Elad Benda2"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8973,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701324515,"creation_date":1458730684,"question_id":36176279,"body_markdown":"I have this `gradle.build`\r\n\r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;war&#39;\r\n    apply plugin: &#39;maven-publish&#39;\r\n    apply from: ext.gradleDir + &#39;/common.gradle&#39;\r\n    apply from: ext.gradleDir +&#39;/base.gradle&#39;\r\n    apply from: ext.gradleDir + &#39;/integration_test.gradle&#39;\r\n    \r\n    sourceCompatibility = 1.8\r\n    targetCompatibility = 1.8\r\n    version = &#39;1.0&#39;\r\n    \r\n    project.archivesBaseName = &#39;client-services-lib&#39;\r\n    uploadArchives.repositories.mavenDeployer.pom.groupId=&quot;com.waze.automation&quot;\r\n    \r\n    \r\n    dependencies {\r\n        compile(&#39;com.waze.automation:common:1.0.58&#39;)\r\n    \r\n        compile(&#39;com.sun.jersey:jersey-bundle:1.19&#39;)\r\n        compile(&#39;com.sun.jersey:jersey-json:1.19&#39;)\r\n        compile group:  &#39;org.codehaus.jackson&#39;, name:&#39;jackson-jaxrs&#39;, version: &#39;1.1.1&#39;\r\n    \r\n        compile(&#39;com.google.guava:guava:18.0&#39;)\r\n    \r\n        testCompile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.11&#39;\r\n        testCompile(&#39;org.hamcrest:hamcrest-all:1.3&#39;)\r\n        testCompile(&#39;org.mockito:mockito-all:1.9.5&#39;)\r\n    \r\n    }\r\n    \r\n    war {\r\n        from &#39;src/main&#39; // include source files in war\r\n    }\r\n\r\nand i run this\r\n\r\n    ❯ ./gradlew build -i                                                                                                                                                                                                                      [12:40:40]\r\n    Starting Build\r\n    Settings evaluated using settings file &#39;/Users/eladb/WorkspaceQa/java/MobileAutomationWebService/settings.gradle&#39;.\r\n    Projects loaded. Root project using empty build file.\r\n    Included projects: [root project &#39;MobileAutomationWebService&#39;, project &#39;:library-services&#39;, project &#39;:web-services&#39;]\r\n    Evaluating root project &#39;MobileAutomationWebService&#39; using empty build file.\r\n    Evaluating project &#39;:library-services&#39; using build file &#39;/Users/eladb/WorkspaceQa/java/MobileAutomationWebService/library-services/build.gradle&#39;.\r\n    Compiling build file &#39;/Users/eladb/WorkspaceQa/java/MobileAutomationWebService/library-services/build.gradle&#39; using StatementExtractingScriptTransformer.\r\n    Compiling build file &#39;/Users/eladb/WorkspaceQa/java/MobileAutomationWebService/library-services/build.gradle&#39; using BuildScriptTransformer.\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * Where:\r\n    Script &#39;/Users/eladb/WorkspaceQa/gradle/base.gradle&#39; line: 28\r\n    \r\n    * What went wrong:\r\n    A problem occurred evaluating script.\r\n    &gt; Cannot add task &#39;:library-services:wrapper&#39; as a task with that name already exists.\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --debug option to get more log output.\r\n    \r\n    BUILD FAILED\r\n\r\nand this `base.gradle`\r\n\r\n\r\n    project.ext.flag = { String name -&gt;\r\n        if (!project.hasProperty(name)) {\r\n                return false\r\n        }\r\n    \r\n        String value = project.ext[name]\r\n        value = value.toLowerCase()\r\n    \r\n        if (value == &quot;true&quot; || value == &quot;yes&quot; || value == &quot;1&quot;) {\r\n                return true\r\n        }\r\n    \r\n        if (value == &quot;false&quot; || value == &quot;no&quot; || value == &quot;0&quot; || value == &quot;&quot;) {\r\n                return false\r\n        }\r\n    \r\n        throw new IllegalArgumentException(&quot;Invalid value of flag property \\&quot;$name\\&quot;: \\&quot;$value\\&quot;, must be one of true, false, yes, no, 0, 1 or empty&quot;)\r\n    }\r\n    \r\n    ////////////////////////////////////////////////////////////////////////////////////////\r\n    // Standard settings (can be overridden on a per-project basis)\r\n    ////////////////////////////////////////////////////////////////////////////////////////\r\n    \r\n    sourceCompatibility = 1.6\r\n    \r\n    compileJava.options.encoding = &#39;UTF-8&#39;\r\n    \r\n    task wrapper(type: Wrapper) {\r\n        gradleVersion = &#39;1.12&#39;\r\n    }\r\n    \r\n    ////////////////////////////////////////////////////////////////////////////////////////\r\n    // Waze &quot;Be Fast&quot; (tm)\r\n    ////////////////////////////////////////////////////////////////////////////////////////\r\n    configurations.all {\r\n        if (flag(&#39;waze.beFast&#39;)) {\r\n            resolutionStrategy.cacheDynamicVersionsFor 1, &#39;hours&#39;\r\n        }\r\n        else {\r\n            resolutionStrategy.cacheDynamicVersionsFor 0, &#39;minutes&#39;\r\n        }\r\n    }\r\n    \r\n    ////////////////////////////////////////////////////////////////////////////////////////\r\n    // Common repositories config.\r\n    ////////////////////////////////////////////////////////////////////////////////////////\r\n    repositories {\r\n        mavenCentral()\r\n        maven {\r\n            url getWazeRepoUrl()\r\n        }\r\n        maven {\r\n            url &quot;http://www.hibernatespatial.org/repository&quot;\r\n        }\r\n    }\r\n    \r\n    def getWazeRepoUrl() {\r\n        if (project.hasProperty(&#39;buildMachine&#39;)) {\r\n            &quot;/data/archiva/repositories/internal/&quot;\r\n        } else {\r\n            &quot;https://waze-repo.corp.google.com/archiva/repository/internal/&quot;\r\n        }\r\n    }\r\n    \r\n    ////////////////////////////////////////////////////////////////////////////////////////\r\n    // Add &#39;provided&#39; scope which is missing from Gradle by default.\r\n    ////////////////////////////////////////////////////////////////////////////////////////\r\n    configurations {\r\n        provided\r\n    }\r\n    \r\n    sourceSets {\r\n        main {\r\n            compileClasspath += configurations.provided\r\n            runtimeClasspath += configurations.provided\r\n        }\r\n        test {\r\n            compileClasspath += configurations.provided\r\n            runtimeClasspath += configurations.provided\r\n        }\r\n    }\r\n    \r\n    ////////////////////////////////////////////////////////////////////////////////////////\r\n    // Eclipse-specific configuration.\r\n    ////////////////////////////////////////////////////////////////////////////////////////\r\n        if (hasProperty(&#39;web&#39;) &amp;&amp; web) {\r\n            apply plugin: &#39;eclipse-wtp&#39;\r\n        } else {\r\n            apply plugin: &#39;eclipse&#39;\r\n        }\r\n    \r\n        tasks.eclipse.dependsOn(cleanEclipse)\r\n    \r\n        eclipse {\r\n            pathVariables &#39;GRADLE_USER_HOME&#39;: gradle.gradleUserHomeDir\r\n    \r\n            classpath {\r\n                plusConfigurations += [configurations.provided]\r\n                noExportConfigurations += [configurations.provided]\r\n            }\r\n        }\r\n        project.afterEvaluate {\r\n          // use jre lib matching version used by project, not the workspace default\r\n            if (project.sourceCompatibility != null) {\r\n                def target = project.targetCompatibility.toString()\r\n                def containerPrefix = &quot;org.eclipse.jdt.launching.JRE_CONTAINER&quot;\r\n                def containerSuffix = &#39;/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-&#39; + target\r\n                if (containerSuffix != null) {\r\n                    project.eclipse.classpath {\r\n                        containers.removeAll { it.startsWith(containerPrefix) }\r\n                        containers.add(containerPrefix + containerSuffix)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n    ////////////////////////////////////////////////////////////////////////////////////////\r\n    // IntelliJ-specific configuration.\r\n    ////////////////////////////////////////////////////////////////////////////////////////\r\n    if (flag(&#39;waze.idea&#39;)) {\r\n        apply plugin: &#39;idea&#39;\r\n        \r\n        idea {\r\n            module {\r\n                scopes.PROVIDED.plus += [configurations.provided]\r\n            }\r\n        }\r\n    }\r\n\r\nI cannot understand why it says `Cannot add task &#39;:library-services:wrapper&#39; as a task with that name already exists.` \r\n\r\nI cannot see my gradle.build even try to add `&quot;wrapping&quot;` task\r\n\r\n\r\nmy gradle.build doesn&#39;t try to add a task &quot;wrapper&quot;\r\nand it doesn&#39;t appear on base.gradle&#39; line: 28\r\n\r\n\r\n","title":"Cannot add task &#39;X&#39; as a task with that name already exists","body":"<p>I have this <code>gradle.build</code></p>\n\n<pre><code>apply plugin: 'java'\napply plugin: 'war'\napply plugin: 'maven-publish'\napply from: ext.gradleDir + '/common.gradle'\napply from: ext.gradleDir +'/base.gradle'\napply from: ext.gradleDir + '/integration_test.gradle'\n\nsourceCompatibility = 1.8\ntargetCompatibility = 1.8\nversion = '1.0'\n\nproject.archivesBaseName = 'client-services-lib'\nuploadArchives.repositories.mavenDeployer.pom.groupId=\"com.waze.automation\"\n\n\ndependencies {\n    compile('com.waze.automation:common:1.0.58')\n\n    compile('com.sun.jersey:jersey-bundle:1.19')\n    compile('com.sun.jersey:jersey-json:1.19')\n    compile group:  'org.codehaus.jackson', name:'jackson-jaxrs', version: '1.1.1'\n\n    compile('com.google.guava:guava:18.0')\n\n    testCompile group: 'junit', name: 'junit', version: '4.11'\n    testCompile('org.hamcrest:hamcrest-all:1.3')\n    testCompile('org.mockito:mockito-all:1.9.5')\n\n}\n\nwar {\n    from 'src/main' // include source files in war\n}\n</code></pre>\n\n<p>and i run this</p>\n\n<pre><code>❯ ./gradlew build -i                                                                                                                                                                                                                      [12:40:40]\nStarting Build\nSettings evaluated using settings file '/Users/eladb/WorkspaceQa/java/MobileAutomationWebService/settings.gradle'.\nProjects loaded. Root project using empty build file.\nIncluded projects: [root project 'MobileAutomationWebService', project ':library-services', project ':web-services']\nEvaluating root project 'MobileAutomationWebService' using empty build file.\nEvaluating project ':library-services' using build file '/Users/eladb/WorkspaceQa/java/MobileAutomationWebService/library-services/build.gradle'.\nCompiling build file '/Users/eladb/WorkspaceQa/java/MobileAutomationWebService/library-services/build.gradle' using StatementExtractingScriptTransformer.\nCompiling build file '/Users/eladb/WorkspaceQa/java/MobileAutomationWebService/library-services/build.gradle' using BuildScriptTransformer.\n\nFAILURE: Build failed with an exception.\n\n* Where:\nScript '/Users/eladb/WorkspaceQa/gradle/base.gradle' line: 28\n\n* What went wrong:\nA problem occurred evaluating script.\n&gt; Cannot add task ':library-services:wrapper' as a task with that name already exists.\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --debug option to get more log output.\n\nBUILD FAILED\n</code></pre>\n\n<p>and this <code>base.gradle</code></p>\n\n<pre><code>project.ext.flag = { String name -&gt;\n    if (!project.hasProperty(name)) {\n            return false\n    }\n\n    String value = project.ext[name]\n    value = value.toLowerCase()\n\n    if (value == \"true\" || value == \"yes\" || value == \"1\") {\n            return true\n    }\n\n    if (value == \"false\" || value == \"no\" || value == \"0\" || value == \"\") {\n            return false\n    }\n\n    throw new IllegalArgumentException(\"Invalid value of flag property \\\"$name\\\": \\\"$value\\\", must be one of true, false, yes, no, 0, 1 or empty\")\n}\n\n////////////////////////////////////////////////////////////////////////////////////////\n// Standard settings (can be overridden on a per-project basis)\n////////////////////////////////////////////////////////////////////////////////////////\n\nsourceCompatibility = 1.6\n\ncompileJava.options.encoding = 'UTF-8'\n\ntask wrapper(type: Wrapper) {\n    gradleVersion = '1.12'\n}\n\n////////////////////////////////////////////////////////////////////////////////////////\n// Waze \"Be Fast\" (tm)\n////////////////////////////////////////////////////////////////////////////////////////\nconfigurations.all {\n    if (flag('waze.beFast')) {\n        resolutionStrategy.cacheDynamicVersionsFor 1, 'hours'\n    }\n    else {\n        resolutionStrategy.cacheDynamicVersionsFor 0, 'minutes'\n    }\n}\n\n////////////////////////////////////////////////////////////////////////////////////////\n// Common repositories config.\n////////////////////////////////////////////////////////////////////////////////////////\nrepositories {\n    mavenCentral()\n    maven {\n        url getWazeRepoUrl()\n    }\n    maven {\n        url \"http://www.hibernatespatial.org/repository\"\n    }\n}\n\ndef getWazeRepoUrl() {\n    if (project.hasProperty('buildMachine')) {\n        \"/data/archiva/repositories/internal/\"\n    } else {\n        \"https://waze-repo.corp.google.com/archiva/repository/internal/\"\n    }\n}\n\n////////////////////////////////////////////////////////////////////////////////////////\n// Add 'provided' scope which is missing from Gradle by default.\n////////////////////////////////////////////////////////////////////////////////////////\nconfigurations {\n    provided\n}\n\nsourceSets {\n    main {\n        compileClasspath += configurations.provided\n        runtimeClasspath += configurations.provided\n    }\n    test {\n        compileClasspath += configurations.provided\n        runtimeClasspath += configurations.provided\n    }\n}\n\n////////////////////////////////////////////////////////////////////////////////////////\n// Eclipse-specific configuration.\n////////////////////////////////////////////////////////////////////////////////////////\n    if (hasProperty('web') &amp;&amp; web) {\n        apply plugin: 'eclipse-wtp'\n    } else {\n        apply plugin: 'eclipse'\n    }\n\n    tasks.eclipse.dependsOn(cleanEclipse)\n\n    eclipse {\n        pathVariables 'GRADLE_USER_HOME': gradle.gradleUserHomeDir\n\n        classpath {\n            plusConfigurations += [configurations.provided]\n            noExportConfigurations += [configurations.provided]\n        }\n    }\n    project.afterEvaluate {\n      // use jre lib matching version used by project, not the workspace default\n        if (project.sourceCompatibility != null) {\n            def target = project.targetCompatibility.toString()\n            def containerPrefix = \"org.eclipse.jdt.launching.JRE_CONTAINER\"\n            def containerSuffix = '/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-' + target\n            if (containerSuffix != null) {\n                project.eclipse.classpath {\n                    containers.removeAll { it.startsWith(containerPrefix) }\n                    containers.add(containerPrefix + containerSuffix)\n                }\n            }\n        }\n    }\n\n////////////////////////////////////////////////////////////////////////////////////////\n// IntelliJ-specific configuration.\n////////////////////////////////////////////////////////////////////////////////////////\nif (flag('waze.idea')) {\n    apply plugin: 'idea'\n\n    idea {\n        module {\n            scopes.PROVIDED.plus += [configurations.provided]\n        }\n    }\n}\n</code></pre>\n\n<p>I cannot understand why it says <code>Cannot add task ':library-services:wrapper' as a task with that name already exists.</code> </p>\n\n<p>I cannot see my gradle.build even try to add <code>\"wrapping\"</code> task</p>\n\n<p>my gradle.build doesn't try to add a task \"wrapper\"\nand it doesn't appear on base.gradle' line: 28</p>\n"},{"tags":["java","jsoup"],"comments":[{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":1,"creation_date":1700322356,"post_id":77405377,"comment_id":136641480,"body_markdown":"Does this answer your question? [What values can I put in an HTML attribute value?](https://stackoverflow.com/questions/5320177/what-values-can-i-put-in-an-html-attribute-value)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5320177/what-values-can-i-put-in-an-html-attribute-value\">What values can I put in an HTML attribute value?</a>"},{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":0,"creation_date":1700322545,"post_id":77405377,"comment_id":136641492,"body_markdown":"This behavior is expected. See the duplicate question for more info.","body":"This behavior is expected. See the duplicate question for more info."}],"answers":[{"tags":[],"owner":{"account_id":51278,"reputation":10472,"user_id":153184,"display_name":"Jonathan Hedley"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701323730,"creation_date":1701323730,"answer_id":77576192,"question_id":77405377,"body_markdown":"jsoup defaults to HTML output syntax, not XML. In HTML in a quoted attribute string, neither `&lt;` nor `&gt;` needs to be quoted, so jsoup doesn&#39;t.\r\n\r\nIf you want XML output, you can set [`OutputSettings`][1] to `XML`.\r\n\r\n\r\n  [1]: https://jsoup.org/apidocs/org/jsoup/nodes/Document.html#outputSettings(org.jsoup.nodes.Document.OutputSettings)\r\n\r\nAs you&#39;re using `new Element()`, that element won&#39;t have a parent or a document until you insert it into the DOM.\r\n\r\nSo for example:\r\n\r\n```java\r\nElement e = new Element(&quot;E&quot;);\r\ne.attr(&quot;key&quot;, &quot;value&quot;);\r\ne.attr(&quot;code&quot;, &quot;&lt;X&gt;&quot;);\r\nprint(&quot;HTML&quot;, e.outerHtml());\r\n\r\n\r\nDocument doc = Document.createShell(&quot;https://example.com&quot;);\r\ndoc.outputSettings().syntax(Document.OutputSettings.Syntax.xml);\r\ndoc.body().appendChild(e);\r\n\r\nprint(&quot;XML&quot;, e.outerHtml());\r\n```\r\n\r\nGives:\r\n\r\n```html\r\nHTML: &lt;E key=&quot;value&quot; code=&quot;&lt;X&gt;&quot;&gt;&lt;/E&gt;\r\nXML:  &lt;E key=&quot;value&quot; code=&quot;&amp;lt;X&gt;&quot;&gt;&lt;/E&gt;\r\n```\r\n\r\nNote that in neither HTML nor XML does the `&gt;` character in a quoted attribute need to be escaped, so jsoup doesn&#39;t do that.\r\n\r\n","title":"Jsoup does not escape special characters (&lt;, &gt;) inside quoted Element attribute values","body":"<p>jsoup defaults to HTML output syntax, not XML. In HTML in a quoted attribute string, neither <code>&lt;</code> nor <code>&gt;</code> needs to be quoted, so jsoup doesn't.</p>\n<p>If you want XML output, you can set <a href=\"https://jsoup.org/apidocs/org/jsoup/nodes/Document.html#outputSettings(org.jsoup.nodes.Document.OutputSettings)\" rel=\"nofollow noreferrer\"><code>OutputSettings</code></a> to <code>XML</code>.</p>\n<p>As you're using <code>new Element()</code>, that element won't have a parent or a document until you insert it into the DOM.</p>\n<p>So for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Element e = new Element(&quot;E&quot;);\ne.attr(&quot;key&quot;, &quot;value&quot;);\ne.attr(&quot;code&quot;, &quot;&lt;X&gt;&quot;);\nprint(&quot;HTML&quot;, e.outerHtml());\n\n\nDocument doc = Document.createShell(&quot;https://example.com&quot;);\ndoc.outputSettings().syntax(Document.OutputSettings.Syntax.xml);\ndoc.body().appendChild(e);\n\nprint(&quot;XML&quot;, e.outerHtml());\n</code></pre>\n<p>Gives:</p>\n<pre class=\"lang-html prettyprint-override\"><code>HTML: &lt;E key=&quot;value&quot; code=&quot;&lt;X&gt;&quot;&gt;&lt;/E&gt;\nXML:  &lt;E key=&quot;value&quot; code=&quot;&amp;lt;X&gt;&quot;&gt;&lt;/E&gt;\n</code></pre>\n<p>Note that in neither HTML nor XML does the <code>&gt;</code> character in a quoted attribute need to be escaped, so jsoup doesn't do that.</p>\n"}],"owner":{"account_id":1353773,"reputation":135,"user_id":1292593,"display_name":"ondruska"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701323730,"creation_date":1698869947,"question_id":77405377,"body_markdown":"I got a surprise result when I tried to programmatically build an `Element` with attribute with value that contains `&lt;` and `&gt;.`\r\n\r\nAm I missing something? https://www.w3.org/TR/xml/#syntax\r\n\r\nThe test:\r\n\r\n```java\r\nElement e = new Element(&quot;E&quot;);\r\ne.attr(&quot;key&quot;, &quot;value&quot;);\r\ne.attr(&quot;code&quot;, &quot;&lt;X&gt;&quot;);\r\nassertEquals(&quot;&lt;E key=\\&quot;value\\&quot; code=\\&quot;&amp;lt;X&amp;gt;\\&quot;&gt;&lt;/E&gt;&quot;, e.outerHtml());\r\n```\r\n\r\nfails:\r\n\r\n```\r\nexpected: &lt;&lt;E key=&quot;value&quot; code=&quot;&amp;lt;X&amp;gt;&quot;&gt;&lt;/E&gt;&gt; but was: &lt;&lt;E key=&quot;value&quot; code=&quot;&lt;X&gt;&quot;&gt;&lt;/E&gt;&gt;\r\n```","title":"Jsoup does not escape special characters (&lt;, &gt;) inside quoted Element attribute values","body":"<p>I got a surprise result when I tried to programmatically build an <code>Element</code> with attribute with value that contains <code>&lt;</code> and <code>&gt;.</code></p>\n<p>Am I missing something? <a href=\"https://www.w3.org/TR/xml/#syntax\" rel=\"nofollow noreferrer\">https://www.w3.org/TR/xml/#syntax</a></p>\n<p>The test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Element e = new Element(&quot;E&quot;);\ne.attr(&quot;key&quot;, &quot;value&quot;);\ne.attr(&quot;code&quot;, &quot;&lt;X&gt;&quot;);\nassertEquals(&quot;&lt;E key=\\&quot;value\\&quot; code=\\&quot;&amp;lt;X&amp;gt;\\&quot;&gt;&lt;/E&gt;&quot;, e.outerHtml());\n</code></pre>\n<p>fails:</p>\n<pre><code>expected: &lt;&lt;E key=&quot;value&quot; code=&quot;&amp;lt;X&amp;gt;&quot;&gt;&lt;/E&gt;&gt; but was: &lt;&lt;E key=&quot;value&quot; code=&quot;&lt;X&gt;&quot;&gt;&lt;/E&gt;&gt;\n</code></pre>\n"},{"tags":["java","android","eclipse"],"answers":[{"comments":[{"owner":{"account_id":1095708,"reputation":479,"user_id":1089344,"accept_rate":75,"display_name":"Andreas"},"score":0,"creation_date":1327670248,"post_id":9018953,"comment_id":11330379,"body_markdown":"I added the requested files but I think that doesn&#39;t help much.","body":"I added the requested files but I think that doesn&#39;t help much."},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1327679748,"post_id":9018953,"comment_id":11333883,"body_markdown":"The .classpath files don&#39;t show anything out of the ordinary, so my theory about having a JAR on the classpath didn&#39;t pan out.\n\nI would try removing Project A as a dependency. That should cause Project B build to fail (if it doesn&#39;t, use Project &gt; Clean). Then add Project A back as a dependency to see if that clears things up. This is just grasping at straws, but the ADT plugins do seem to have some odd bugs around builds and dependencies.","body":"The .classpath files don&#39;t show anything out of the ordinary, so my theory about having a JAR on the classpath didn&#39;t pan out.  I would try removing Project A as a dependency. That should cause Project B build to fail (if it doesn&#39;t, use Project &gt; Clean). Then add Project A back as a dependency to see if that clears things up. This is just grasping at straws, but the ADT plugins do seem to have some odd bugs around builds and dependencies."}],"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1327585222,"creation_date":1327585222,"answer_id":9018953,"question_id":9016748,"body_markdown":"My first guess would be that you have a JAR with A&#39;s classes in it on B&#39;s build path. Check the Libraries tab. Can you show us your .classpath and project.properties files?","title":"&#39;Open Declaration&#39; in Eclipse navigates to class files instead of to source files for Android Libraries","body":"<p>My first guess would be that you have a JAR with A's classes in it on B's build path. Check the Libraries tab. Can you show us your .classpath and project.properties files?</p>\n"},{"comments":[{"owner":{"account_id":161848,"reputation":6734,"user_id":382920,"accept_rate":74,"display_name":"Necronet"},"score":0,"creation_date":1343912867,"post_id":9226325,"comment_id":15642773,"body_markdown":"this is the fix I was looking for","body":"this is the fix I was looking for"},{"owner":{"account_id":144722,"reputation":12485,"user_id":353985,"accept_rate":59,"display_name":"redochka"},"score":0,"creation_date":1415612816,"post_id":9226325,"comment_id":42245882,"body_markdown":"Eclipse doesn&#39;t like when you put your lib at the top of &quot;Order and Export&quot; especially when it is before YourProject/gen entry. You should move down &quot;Android dependencies&quot; under your lib project.","body":"Eclipse doesn&#39;t like when you put your lib at the top of &quot;Order and Export&quot; especially when it is before YourProject/gen entry. You should move down &quot;Android dependencies&quot; under your lib project."}],"tags":[],"owner":{"account_id":414727,"reputation":5519,"user_id":789110,"accept_rate":52,"display_name":"GaRRaPeTa"},"comment_count":2,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1328869879,"creation_date":1328869879,"answer_id":9226325,"question_id":9016748,"body_markdown":"You can import the library project not only as an Android Lib (that is the way it&#39;s meant to be done), but also as a linked project in the usual &quot;Java Build Path&quot; menu.\r\nNext, be sure to move this import to the top (at least more that &quot;Library projects&quot; entry) in the &quot;Order and export&quot; tab.\r\n\r\nThis works, but it a hack and it&#39;s dirty. This is not the way it is meant to be done... and when you deploy the app to the phone, eclipse will write a error message in the console saying that some apk cannot be found...\r\n\r\nStill, I find it more convenient that linking to the class file.\r\n\r\nI don&#39;t know what this is happening. My buddies in the office are running the same configuration than me, and they have not this issue, but it seems we are not the only ones whith this problem: http://code.google.com/p/android/issues/detail?id=20731\r\n","title":"&#39;Open Declaration&#39; in Eclipse navigates to class files instead of to source files for Android Libraries","body":"<p>You can import the library project not only as an Android Lib (that is the way it's meant to be done), but also as a linked project in the usual \"Java Build Path\" menu.\nNext, be sure to move this import to the top (at least more that \"Library projects\" entry) in the \"Order and export\" tab.</p>\n\n<p>This works, but it a hack and it's dirty. This is not the way it is meant to be done... and when you deploy the app to the phone, eclipse will write a error message in the console saying that some apk cannot be found...</p>\n\n<p>Still, I find it more convenient that linking to the class file.</p>\n\n<p>I don't know what this is happening. My buddies in the office are running the same configuration than me, and they have not this issue, but it seems we are not the only ones whith this problem: <a href=\"http://code.google.com/p/android/issues/detail?id=20731\">http://code.google.com/p/android/issues/detail?id=20731</a></p>\n"},{"comments":[{"owner":{"account_id":3805302,"reputation":1898,"user_id":3157899,"accept_rate":62,"display_name":"Naxos84"},"score":0,"creation_date":1479794802,"post_id":9541276,"comment_id":68695928,"body_markdown":"This is the first solution that was helpful to me. And it works like a charm.\nIs it possible to tell eclipse that it should put the libraries into the project tab?","body":"This is the first solution that was helpful to me. And it works like a charm. Is it possible to tell eclipse that it should put the libraries into the project tab?"}],"tags":[],"owner":{"account_id":145567,"reputation":17881,"user_id":355456,"accept_rate":70,"display_name":"Hong"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1416921879,"creation_date":1330727393,"answer_id":9541276,"question_id":9016748,"body_markdown":"I had the same problem when my version of library project A was in &quot;Properties &gt; Java Build Path &gt; Libraries&quot;, but not in &quot;Properties &gt; Java Build Path &gt; Projects&quot;.\r\n\r\nThe problem was solved after I did the following:\r\n\r\n 1. Remove &quot;Library Projects&quot; from &quot;Properties &gt; Java Build Path &gt; Libraries&quot;, which was added by &quot;Properties &gt; Java Build Path &gt; Libraries&quot;  (I am not sure if this step is necessary, but this is what I did).\r\n 2. Add project A to &quot;Properties &gt; Java Build Path &gt; Projects&quot;.\r\n 3. Restart Eclipse (Indigo).  Somehow Eclipse recreates Library Projects in &quot;Properties &gt; Java Build Path &gt; Libraries&quot;\r\n\r\nThe .classpath should have the following:\r\n\r\n    &lt;classpathentry combineaccessrules=&quot;false&quot; kind=&quot;src&quot; path=&quot;/A&quot;/&gt;\r\n\r\nActually navigating to class files was not the most annoying, but breaking in class files instead of java files during debugging was driving me crazy before this problem was solved.","title":"&#39;Open Declaration&#39; in Eclipse navigates to class files instead of to source files for Android Libraries","body":"<p>I had the same problem when my version of library project A was in \"Properties > Java Build Path > Libraries\", but not in \"Properties > Java Build Path > Projects\".</p>\n\n<p>The problem was solved after I did the following:</p>\n\n<ol>\n<li>Remove \"Library Projects\" from \"Properties > Java Build Path > Libraries\", which was added by \"Properties > Java Build Path > Libraries\"  (I am not sure if this step is necessary, but this is what I did).</li>\n<li>Add project A to \"Properties > Java Build Path > Projects\".</li>\n<li>Restart Eclipse (Indigo).  Somehow Eclipse recreates Library Projects in \"Properties > Java Build Path > Libraries\"</li>\n</ol>\n\n<p>The .classpath should have the following:</p>\n\n<pre><code>&lt;classpathentry combineaccessrules=\"false\" kind=\"src\" path=\"/A\"/&gt;\n</code></pre>\n\n<p>Actually navigating to class files was not the most annoying, but breaking in class files instead of java files during debugging was driving me crazy before this problem was solved.</p>\n"},{"comments":[{"owner":{"account_id":1973872,"reputation":1145,"user_id":1772127,"display_name":"Fracdroid"},"score":1,"creation_date":1388102322,"post_id":12702976,"comment_id":31170572,"body_markdown":"This seems to be correct.  I think that Android Dependencies contains the jar of all the libraries.  So by moving the Android Dependencies to bottom in order and export, the .java files will be found before the .class files whether &#39;Open Declaration&#39; or in debugging.","body":"This seems to be correct.  I think that Android Dependencies contains the jar of all the libraries.  So by moving the Android Dependencies to bottom in order and export, the .java files will be found before the .class files whether &#39;Open Declaration&#39; or in debugging."}],"tags":[],"owner":{"account_id":1849878,"reputation":81,"user_id":1676627,"display_name":"Andrei"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1349284177,"creation_date":1349245759,"answer_id":12702976,"question_id":9016748,"body_markdown":"What worked for me: moving the lib projects up under the **Order** and **Export** tab - right below `/src` and `/gen` of the main project.","title":"&#39;Open Declaration&#39; in Eclipse navigates to class files instead of to source files for Android Libraries","body":"<p>What worked for me: moving the lib projects up under the <strong>Order</strong> and <strong>Export</strong> tab - right below <code>/src</code> and <code>/gen</code> of the main project.</p>\n"},{"tags":[],"owner":{"account_id":7888873,"reputation":1,"user_id":5959826,"display_name":"Jin Meng"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459455938,"creation_date":1459455938,"answer_id":36343086,"question_id":9016748,"body_markdown":"The following solution works for me:\r\n\r\nGo to the android library project (in your case, it is A) setting -&gt; Java Build Path -&gt; Order and Export, make sure that the first entry is the source folder of the library (A). Then clean the library project and target project. Now it works just fine.","title":"&#39;Open Declaration&#39; in Eclipse navigates to class files instead of to source files for Android Libraries","body":"<p>The following solution works for me:</p>\n\n<p>Go to the android library project (in your case, it is A) setting -> Java Build Path -> Order and Export, make sure that the first entry is the source folder of the library (A). Then clean the library project and target project. Now it works just fine.</p>\n"},{"tags":[],"owner":{"account_id":13347198,"reputation":166,"user_id":9633499,"display_name":"geekyouth"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701323702,"creation_date":1701323702,"answer_id":77576191,"question_id":9016748,"body_markdown":"[https://youtrack.jetbrains.com/issue/IDEA-309260][1]\r\n[https://stackoverflow.com/a/77576173/9633499][2]\r\n\r\nyou can toggle the registry flag &quot;editor.preview.tab.navigation&quot;.\r\nit works for me.\r\n\r\n  [1]: https://youtrack.jetbrains.com/issue/IDEA-309260\r\n  [2]: https://stackoverflow.com/a/77576173/9633499","title":"&#39;Open Declaration&#39; in Eclipse navigates to class files instead of to source files for Android Libraries","body":"<p><a href=\"https://youtrack.jetbrains.com/issue/IDEA-309260\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-309260</a>\n<a href=\"https://stackoverflow.com/a/77576173/9633499\">https://stackoverflow.com/a/77576173/9633499</a></p>\n<p>you can toggle the registry flag &quot;editor.preview.tab.navigation&quot;.\nit works for me.</p>\n"}],"owner":{"account_id":1095708,"reputation":479,"user_id":1089344,"accept_rate":75,"display_name":"Andreas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11849,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"answer_count":6,"score":25,"last_activity_date":1701323702,"creation_date":1327573670,"question_id":9016748,"body_markdown":"I have two Android Projects &#39;A&#39; and &#39;B&#39;. &#39;B&#39; depends on &#39;A&#39; and is a Library. Whenever I&#39;m in Project &#39;B&#39; and hit &#39;Open Declaration&#39; for a Java source file which resides in &#39;A&#39;, Eclipse navigates to the class file instead of the source file. This of course has several disadvantages!\r\n\r\nI had a look at the build path of project &#39;B&#39; to see if the referenced library &#39;A&#39; has the correct path to it&#39;s source project which is the case.\r\n\r\nAnyone knows how to fix that?\r\n\r\nHere are the .classpath and project.properties files for each project:\r\n\r\n**ProjectA _.classpath_**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n      &lt;classpath&gt;\r\n      &lt;classpathentry kind=&quot;src&quot; path=&quot;src&quot;/&gt;\r\n      &lt;classpathentry kind=&quot;src&quot; path=&quot;gen&quot;/&gt;\r\n      &lt;classpathentry kind=&quot;con&quot; path=&quot;com.android.ide.eclipse.adt.ANDROID_FRAMEWORK&quot;/&gt;\r\n      &lt;classpathentry kind=&quot;con&quot; path=&quot;com.android.ide.eclipse.adt.LIBRARIES&quot;/&gt;\r\n      &lt;classpathentry kind=&quot;output&quot; path=&quot;bin/classes&quot;/&gt;\r\n    &lt;/classpath&gt;\r\n\r\n**ProjectA _project.properties_**\r\n\r\n    # This file is automatically generated by Android Tools.\r\n    # Do not modify this file -- YOUR CHANGES WILL BE ERASED!\r\n    #\r\n    # This file must be checked in Version Control Systems.\r\n    #\r\n    # To customize properties used by the Ant build system use,\r\n    # &quot;ant.properties&quot;, and override values to adapt the script to your\r\n    # project structure.\r\n    \r\n    # Project target.\r\n    target=android-8\r\n    android.library=true\r\n\r\n**ProjectB _.classpath_**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;classpath&gt;\r\n      &lt;classpathentry kind=&quot;src&quot; path=&quot;src&quot;/&gt;\r\n      &lt;classpathentry kind=&quot;src&quot; path=&quot;gen&quot;/&gt;\r\n      &lt;classpathentry kind=&quot;con&quot; path=&quot;com.android.ide.eclipse.adt.ANDROID_FRAMEWORK&quot;/&gt;\r\n      &lt;classpathentry kind=&quot;con&quot; path=&quot;com.android.ide.eclipse.adt.LIBRARIES&quot;/&gt;\r\n      &lt;classpathentry kind=&quot;output&quot; path=&quot;bin/classes&quot;/&gt;\r\n    &lt;/classpath&gt;\r\n\r\n**ProjectB _project.properties_**\r\n\r\n    # This file is automatically generated by Android Tools.\r\n    # Do not modify this file -- YOUR CHANGES WILL BE ERASED!\r\n    #\r\n    # This file must be checked in Version Control Systems.\r\n    #\r\n    # To customize properties used by the Ant build system use,\r\n    # &quot;ant.properties&quot;, and override values to adapt the script to your\r\n    # project structure.\r\n\r\n    # Project target.\r\n    target=android-8\r\n    android.library.reference.1=../ProjectA\r\n","title":"&#39;Open Declaration&#39; in Eclipse navigates to class files instead of to source files for Android Libraries","body":"<p>I have two Android Projects 'A' and 'B'. 'B' depends on 'A' and is a Library. Whenever I'm in Project 'B' and hit 'Open Declaration' for a Java source file which resides in 'A', Eclipse navigates to the class file instead of the source file. This of course has several disadvantages!</p>\n\n<p>I had a look at the build path of project 'B' to see if the referenced library 'A' has the correct path to it's source project which is the case.</p>\n\n<p>Anyone knows how to fix that?</p>\n\n<p>Here are the .classpath and project.properties files for each project:</p>\n\n<p><strong>ProjectA <em>.classpath</em></strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n  &lt;classpath&gt;\n  &lt;classpathentry kind=\"src\" path=\"src\"/&gt;\n  &lt;classpathentry kind=\"src\" path=\"gen\"/&gt;\n  &lt;classpathentry kind=\"con\" path=\"com.android.ide.eclipse.adt.ANDROID_FRAMEWORK\"/&gt;\n  &lt;classpathentry kind=\"con\" path=\"com.android.ide.eclipse.adt.LIBRARIES\"/&gt;\n  &lt;classpathentry kind=\"output\" path=\"bin/classes\"/&gt;\n&lt;/classpath&gt;\n</code></pre>\n\n<p><strong>ProjectA <em>project.properties</em></strong></p>\n\n<pre><code># This file is automatically generated by Android Tools.\n# Do not modify this file -- YOUR CHANGES WILL BE ERASED!\n#\n# This file must be checked in Version Control Systems.\n#\n# To customize properties used by the Ant build system use,\n# \"ant.properties\", and override values to adapt the script to your\n# project structure.\n\n# Project target.\ntarget=android-8\nandroid.library=true\n</code></pre>\n\n<p><strong>ProjectB <em>.classpath</em></strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;classpath&gt;\n  &lt;classpathentry kind=\"src\" path=\"src\"/&gt;\n  &lt;classpathentry kind=\"src\" path=\"gen\"/&gt;\n  &lt;classpathentry kind=\"con\" path=\"com.android.ide.eclipse.adt.ANDROID_FRAMEWORK\"/&gt;\n  &lt;classpathentry kind=\"con\" path=\"com.android.ide.eclipse.adt.LIBRARIES\"/&gt;\n  &lt;classpathentry kind=\"output\" path=\"bin/classes\"/&gt;\n&lt;/classpath&gt;\n</code></pre>\n\n<p><strong>ProjectB <em>project.properties</em></strong></p>\n\n<pre><code># This file is automatically generated by Android Tools.\n# Do not modify this file -- YOUR CHANGES WILL BE ERASED!\n#\n# This file must be checked in Version Control Systems.\n#\n# To customize properties used by the Ant build system use,\n# \"ant.properties\", and override values to adapt the script to your\n# project structure.\n\n# Project target.\ntarget=android-8\nandroid.library.reference.1=../ProjectA\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1701276591,"post_id":77573053,"comment_id":136756600,"body_markdown":"The getExternalFilesDir() has nothing to do with a removable micro sd card. And you do not need any permission to create files there.","body":"The getExternalFilesDir() has nothing to do with a removable micro sd card. And you do not need any permission to create files there."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1701276665,"post_id":77573053,"comment_id":136756614,"body_markdown":"Change to: if (!dir.exists()) {\n                if(!dir.mkdirs()) return null;\n            } And caller should check for null.","body":"Change to: if (!dir.exists()) {                 if(!dir.mkdirs()) return null;             } And caller should check for null."}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701276613,"creation_date":1701276613,"answer_id":77573083,"question_id":77573053,"body_markdown":"```xml\r\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n```\r\n\r\nThis is for `READ_EXTERNAL_STORAGE`.\r\n\r\n```java\r\n            requestPermissions(new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 1);\r\n```\r\n\r\nThis is for `WRITE_EXTERNAL_STORAGE`, which is not the same thing as `READ_EXTERNAL_STORAGE`.\r\n\r\n```java\r\n            File dir = new File(getExternalFilesDir(null), &quot;time_monitoring&quot;);\r\n```\r\n\r\n`getExternalFilesDir()` does not require any permissions. So, the simple solution is to stick with that and get rid of your `READ_EXTERNAL_STORAGE` manifest entry and your `requestPermissions()` call for `WRITE_EXTERNAL_STORAGE`.","title":"WRITE PERMISSION DENIED - Android Studio","body":"<pre class=\"lang-xml prettyprint-override\"><code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n<p>This is for <code>READ_EXTERNAL_STORAGE</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>            requestPermissions(new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 1);\n</code></pre>\n<p>This is for <code>WRITE_EXTERNAL_STORAGE</code>, which is not the same thing as <code>READ_EXTERNAL_STORAGE</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>            File dir = new File(getExternalFilesDir(null), &quot;time_monitoring&quot;);\n</code></pre>\n<p><code>getExternalFilesDir()</code> does not require any permissions. So, the simple solution is to stick with that and get rid of your <code>READ_EXTERNAL_STORAGE</code> manifest entry and your <code>requestPermissions()</code> call for <code>WRITE_EXTERNAL_STORAGE</code>.</p>\n"},{"tags":[],"owner":{"account_id":29815737,"reputation":37,"user_id":22850056,"display_name":"rv_5143"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701323297,"creation_date":1701323297,"answer_id":77576174,"question_id":77573053,"body_markdown":"there are two things to keep in mind \r\n1.Check Permission Before Using Features:\r\nEnsure you check whether the permission is granted before performing operations that require it. The code in recordTime is executing regardless of whether the permission is granted. You might want to check the permission status before attempting to write to the file:\r\n2.Check Permission Again After Request:\r\nAfter requesting permissions, you might want to check the result in onRequestPermissionsResult and proceed with the file operations only if the permission is granted.","title":"WRITE PERMISSION DENIED - Android Studio","body":"<p>there are two things to keep in mind\n1.Check Permission Before Using Features:\nEnsure you check whether the permission is granted before performing operations that require it. The code in recordTime is executing regardless of whether the permission is granted. You might want to check the permission status before attempting to write to the file:\n2.Check Permission Again After Request:\nAfter requesting permissions, you might want to check the result in onRequestPermissionsResult and proceed with the file operations only if the permission is granted.</p>\n"}],"owner":{"account_id":29043387,"reputation":11,"user_id":22247773,"display_name":"Rovic Balingbing"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1701323297,"creation_date":1701276347,"question_id":77573053,"body_markdown":"I was creating a simple Time Monitoring System that records the Time In and Time out of the user and record it in a txt file named &quot;time_monitoring.txt&quot;.\r\n\r\nNow, whenever I run the app in my phone, which is an Android 13, it shows that the write permission was denied.\r\n\r\nHere&#39;s my AndroidManifest.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.TimeRecorder&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n\r\n```\r\nHere&#39;s my MainActivity.java:\r\n\r\n```\r\npackage com.example.timerecorder;\r\n\r\nimport android.os.Bundle;\r\nimport android.os.Environment;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport java.io.BufferedWriter;\r\nimport java.io.File;\r\nimport java.io.FileWriter;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\nimport java.util.Locale;\r\nimport android.Manifest;\r\nimport android.content.pm.PackageManager;\r\nimport android.os.Build;\r\nimport androidx.annotation.NonNull;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private Button btnTimeIn, btnTimeOut;\r\n    private TextView txtDateTime, txtFilePath;\r\n    private SimpleDateFormat dateFormat;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        btnTimeIn = findViewById(R.id.btnTimeIn);\r\n        btnTimeOut = findViewById(R.id.btnTimeOut);\r\n        txtDateTime = findViewById(R.id.txtDateTime);\r\n        txtFilePath = findViewById(R.id.txtFilePath);\r\n        dateFormat = new SimpleDateFormat(&quot;MM/dd/yyyy HH:mm:ss&quot;, Locale.getDefault());\r\n\r\n        btnTimeIn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                recordTime(&quot;Time In&quot;);\r\n            }\r\n        });\r\n\r\n        btnTimeOut.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                recordTime(&quot;Time Out&quot;);\r\n            }\r\n        });\r\n\r\n        // Inside the onCreate method, after initializing buttons and TextViews\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            requestPermissions(new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 1);\r\n        }\r\n    }\r\n\r\n    private void recordTime(String eventType) {\r\n        String currentTime = dateFormat.format(new Date());\r\n        String record = eventType + &quot;: &quot; + currentTime + &quot;\\n&quot;;\r\n\r\n        // Update the TextView\r\n        txtDateTime.setText(record);\r\n\r\n        // Save the record to the file on SD card\r\n        String filePath = saveToSDCard(record);\r\n\r\n        // Show a toast message\r\n        Toast.makeText(this, &quot;Recorded: &quot; + eventType, Toast.LENGTH_SHORT).show();\r\n\r\n        // Update the file path TextView\r\n        txtFilePath.setText(&quot;File saved at: &quot; + filePath);\r\n    }\r\n\r\n    private String saveToSDCard(String record) {\r\n        try {\r\n            File dir = new File(getExternalFilesDir(null), &quot;time_monitoring&quot;);\r\n            if (!dir.exists()) {\r\n                dir.mkdirs();\r\n            }\r\n\r\n            File file = new File(dir, &quot;time_monitoring.txt&quot;);\r\n            FileWriter fileWriter = new FileWriter(file, true);\r\n            BufferedWriter bufferedWriter = new BufferedWriter(fileWriter);\r\n            bufferedWriter.write(record);\r\n            bufferedWriter.close();\r\n\r\n            return file.getAbsolutePath();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return &quot;&quot;;\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode == 1) {\r\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                Toast.makeText(this, &quot;Write permission granted&quot;, Toast.LENGTH_SHORT).show();\r\n            } else {\r\n                Toast.makeText(this, &quot;Write permission denied&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere&#39;s my activity_main.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btnTimeIn&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Time In&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;50dp&quot;/&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btnTimeOut&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Time Out&quot;\r\n        android:layout_below=&quot;@id/btnTimeIn&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;/&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/txtDateTime&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@id/btnTimeOut&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;/&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/txtFilePath&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@id/txtDateTime&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;/&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\n\r\nThis is what I expect to happen, when I click the Time In or Time Out button, it will add something like this in the &quot;time_monitoring.txt&quot;: Time In: 11/30/2023 06:43:15.","title":"WRITE PERMISSION DENIED - Android Studio","body":"<p>I was creating a simple Time Monitoring System that records the Time In and Time out of the user and record it in a txt file named &quot;time_monitoring.txt&quot;.</p>\n<p>Now, whenever I run the app in my phone, which is an Android 13, it shows that the write permission was denied.</p>\n<p>Here's my AndroidManifest.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.TimeRecorder&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n\n</code></pre>\n<p>Here's my MainActivity.java:</p>\n<pre><code>package com.example.timerecorder;\n\nimport android.os.Bundle;\nimport android.os.Environment;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport java.io.BufferedWriter;\nimport java.io.File;\nimport java.io.FileWriter;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.util.Locale;\nimport android.Manifest;\nimport android.content.pm.PackageManager;\nimport android.os.Build;\nimport androidx.annotation.NonNull;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private Button btnTimeIn, btnTimeOut;\n    private TextView txtDateTime, txtFilePath;\n    private SimpleDateFormat dateFormat;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        btnTimeIn = findViewById(R.id.btnTimeIn);\n        btnTimeOut = findViewById(R.id.btnTimeOut);\n        txtDateTime = findViewById(R.id.txtDateTime);\n        txtFilePath = findViewById(R.id.txtFilePath);\n        dateFormat = new SimpleDateFormat(&quot;MM/dd/yyyy HH:mm:ss&quot;, Locale.getDefault());\n\n        btnTimeIn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                recordTime(&quot;Time In&quot;);\n            }\n        });\n\n        btnTimeOut.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                recordTime(&quot;Time Out&quot;);\n            }\n        });\n\n        // Inside the onCreate method, after initializing buttons and TextViews\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            requestPermissions(new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 1);\n        }\n    }\n\n    private void recordTime(String eventType) {\n        String currentTime = dateFormat.format(new Date());\n        String record = eventType + &quot;: &quot; + currentTime + &quot;\\n&quot;;\n\n        // Update the TextView\n        txtDateTime.setText(record);\n\n        // Save the record to the file on SD card\n        String filePath = saveToSDCard(record);\n\n        // Show a toast message\n        Toast.makeText(this, &quot;Recorded: &quot; + eventType, Toast.LENGTH_SHORT).show();\n\n        // Update the file path TextView\n        txtFilePath.setText(&quot;File saved at: &quot; + filePath);\n    }\n\n    private String saveToSDCard(String record) {\n        try {\n            File dir = new File(getExternalFilesDir(null), &quot;time_monitoring&quot;);\n            if (!dir.exists()) {\n                dir.mkdirs();\n            }\n\n            File file = new File(dir, &quot;time_monitoring.txt&quot;);\n            FileWriter fileWriter = new FileWriter(file, true);\n            BufferedWriter bufferedWriter = new BufferedWriter(fileWriter);\n            bufferedWriter.write(record);\n            bufferedWriter.close();\n\n            return file.getAbsolutePath();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return &quot;&quot;;\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if (requestCode == 1) {\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                Toast.makeText(this, &quot;Write permission granted&quot;, Toast.LENGTH_SHORT).show();\n            } else {\n                Toast.makeText(this, &quot;Write permission denied&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n}\n</code></pre>\n<p>Here's my activity_main.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btnTimeIn&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Time In&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginTop=&quot;50dp&quot;/&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btnTimeOut&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Time Out&quot;\n        android:layout_below=&quot;@id/btnTimeIn&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginTop=&quot;20dp&quot;/&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/txtDateTime&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@id/btnTimeOut&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginTop=&quot;20dp&quot;/&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/txtFilePath&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@id/txtDateTime&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginTop=&quot;20dp&quot;/&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>This is what I expect to happen, when I click the Time In or Time Out button, it will add something like this in the &quot;time_monitoring.txt&quot;: Time In: 11/30/2023 06:43:15.</p>\n"},{"tags":["java","arrays","unique"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1414774978,"post_id":26679860,"comment_id":41958532,"body_markdown":"What are &quot;the distinct&quot; values?  I think you are presuming some prior knowledge on our part.  Please explain your question better.","body":"What are &quot;the distinct&quot; values?  I think you are presuming some prior knowledge on our part.  Please explain your question better."},{"owner":{"account_id":5012123,"reputation":13192,"user_id":4028085,"display_name":"brso05"},"score":2,"creation_date":1414774983,"post_id":26679860,"comment_id":41958534,"body_markdown":"Consider using a set only allows unique values...","body":"Consider using a set only allows unique values..."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1414775050,"post_id":26679860,"comment_id":41958568,"body_markdown":"@brso05 I&#39;m guessing it&#39;s homework; he hasn&#39;t got to Sets yet.","body":"@brso05 I&#39;m guessing it&#39;s homework; he hasn&#39;t got to Sets yet."}],"answers":[{"tags":[],"owner":{"account_id":1170165,"reputation":23155,"user_id":1147529,"accept_rate":95,"display_name":"Paulius Matulionis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414775143,"creation_date":1414775143,"answer_id":26679939,"question_id":26679860,"body_markdown":"Sets in java doesn&#39;t allow duplicates:\r\n\r\n        Integer[] array = new Integer[]{5, 10, 20, 58, 10};\r\n        HashSet&lt;Integer&gt; uniques = new HashSet&lt;&gt;(Arrays.asList(array));\r\n\r\nThat&#39;s it.","title":"Pulling distinct values from a array in java","body":"<p>Sets in java doesn't allow duplicates:</p>\n\n<pre><code>    Integer[] array = new Integer[]{5, 10, 20, 58, 10};\n    HashSet&lt;Integer&gt; uniques = new HashSet&lt;&gt;(Arrays.asList(array));\n</code></pre>\n\n<p>That's it.</p>\n"},{"tags":[],"owner":{"account_id":5012123,"reputation":13192,"user_id":4028085,"display_name":"brso05"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414775330,"creation_date":1414775330,"answer_id":26679985,"question_id":26679860,"body_markdown":"Something like this should work for you:\r\n\r\n         Scanner input = new Scanner(System.in);\r\n\r\n\t\t // Create arrays &amp; variables  \r\n\t\t int arrayLength = 10;\r\n\t\t int[] numbers = new int[arrayLength];\r\n\t\t int[] distinctArray = new int[arrayLength];\r\n\t\t int count = 0;\r\n\t\t Set&lt;Integer&gt; set = new HashSet&lt;Integer&gt;();\r\n\t\t \r\n\t\t System.out.println(&quot;Program starting...&quot;);\r\n\t\t System.out.print(&quot;Please enter in &quot; + numbers.length + &quot; numbers: &quot;);\r\n\r\n\t\t for (int i = 0; i &lt; numbers.length; i++) {\r\n\t\t\t set.add(input.nextInt());\r\n\t\t }\r\n\t\t \r\n\t\t for(Integer i : set)\r\n\t\t {\r\n\t\t\t System.out.println(&quot;&quot; + i);\r\n\t\t }\r\n\r\nThis will only add unique values to the set.","title":"Pulling distinct values from a array in java","body":"<p>Something like this should work for you:</p>\n\n<pre><code>     Scanner input = new Scanner(System.in);\n\n     // Create arrays &amp; variables  \n     int arrayLength = 10;\n     int[] numbers = new int[arrayLength];\n     int[] distinctArray = new int[arrayLength];\n     int count = 0;\n     Set&lt;Integer&gt; set = new HashSet&lt;Integer&gt;();\n\n     System.out.println(\"Program starting...\");\n     System.out.print(\"Please enter in \" + numbers.length + \" numbers: \");\n\n     for (int i = 0; i &lt; numbers.length; i++) {\n         set.add(input.nextInt());\n     }\n\n     for(Integer i : set)\n     {\n         System.out.println(\"\" + i);\n     }\n</code></pre>\n\n<p>This will only add unique values to the set.</p>\n"},{"comments":[{"owner":{"account_id":1778516,"reputation":1437,"user_id":1621789,"display_name":"Shaktisinh Jadeja"},"score":0,"creation_date":1457075001,"post_id":26679990,"comment_id":59250140,"body_markdown":"What if i don&#39;t want to sort data?","body":"What if i don&#39;t want to sort data?"}],"tags":[],"owner":{"account_id":240659,"reputation":16549,"user_id":2003986,"accept_rate":75,"display_name":"ToYonos"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1414775350,"creation_date":1414775350,"answer_id":26679990,"question_id":26679860,"body_markdown":"Try this :\n\n    Set&lt;Integer&gt; uniqueNumbers = new HashSet&lt;Integer&gt;(Arrays.asList(numbers));\n\n`uniqueNumbers` will contain only unique values","title":"Pulling distinct values from a array in java","body":"<p>Try this :</p>\n\n<pre><code>Set&lt;Integer&gt; uniqueNumbers = new HashSet&lt;Integer&gt;(Arrays.asList(numbers));\n</code></pre>\n\n<p><code>uniqueNumbers</code> will contain only unique values</p>\n"},{"comments":[{"owner":{"account_id":2399479,"reputation":6729,"user_id":2097529,"accept_rate":76,"display_name":"Kick Buttowski"},"score":0,"creation_date":1414776739,"post_id":26680018,"comment_id":41959508,"body_markdown":"@Chewy take a look at this link for more info http://stackoverflow.com/questions/17967114/how-to-remove-duplicates-from-an-array-in-java","body":"@Chewy take a look at this link for more info <a href=\"http://stackoverflow.com/questions/17967114/how-to-remove-duplicates-from-an-array-in-java\" title=\"how to remove duplicates from an array in java\">stackoverflow.com/questions/17967114/&hellip;</a>"}],"tags":[],"owner":{"account_id":2399479,"reputation":6729,"user_id":2097529,"accept_rate":76,"display_name":"Kick Buttowski"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1414775470,"creation_date":1414775470,"answer_id":26680018,"question_id":26679860,"body_markdown":"In `Java 8` \r\n\r\n**Stream&lt; T &gt; distinct()**\r\n\r\n&gt; Returns a stream consisting of the distinct elements (according to\r\n&gt; Object.equals(Object)) of this stream. For ordered streams, the\r\n&gt; selection of distinct elements is stable (for duplicated elements, the\r\n&gt; element appearing first in the encounter order is preserved.) For\r\n&gt; unordered streams, no stability guarantees are made.\r\n\r\nCode:\r\n\r\n       Integer[] array = new Integer[]{5, 10, 20, 58, 10};\r\n       Stream.of(array)\r\n             .distinct()\r\n             .forEach(i -&gt; System.out.print(&quot; &quot; + i));\r\n\r\nOutput:\r\n\r\n    5,10,20,58\r\n\r\n[Read More About distinct function][1] \r\n\r\n\r\n  [1]: http://blog.jooq.org/2014/06/13/java-8-friday-10-subtle-mistakes-when-using-the-streams-api/","title":"Pulling distinct values from a array in java","body":"<p>In <code>Java 8</code> </p>\n\n<p><strong>Stream&lt; T > distinct()</strong></p>\n\n<blockquote>\n  <p>Returns a stream consisting of the distinct elements (according to\n  Object.equals(Object)) of this stream. For ordered streams, the\n  selection of distinct elements is stable (for duplicated elements, the\n  element appearing first in the encounter order is preserved.) For\n  unordered streams, no stability guarantees are made.</p>\n</blockquote>\n\n<p>Code:</p>\n\n<pre><code>   Integer[] array = new Integer[]{5, 10, 20, 58, 10};\n   Stream.of(array)\n         .distinct()\n         .forEach(i -&gt; System.out.print(\" \" + i));\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>5,10,20,58\n</code></pre>\n\n<p><a href=\"http://blog.jooq.org/2014/06/13/java-8-friday-10-subtle-mistakes-when-using-the-streams-api/\" rel=\"noreferrer\">Read More About distinct function</a> </p>\n"},{"comments":[{"owner":{"account_id":4296183,"reputation":85,"user_id":3511219,"accept_rate":54,"display_name":"Chewy"},"score":0,"creation_date":1414781110,"post_id":26680030,"comment_id":41961617,"body_markdown":"Edited my original post with the logic that you stated .. if this is not correct, could explain how I could rewrite, without giving me the answer","body":"Edited my original post with the logic that you stated .. if this is not correct, could explain how I could rewrite, without giving me the answer"},{"owner":{"account_id":2399479,"reputation":6729,"user_id":2097529,"accept_rate":76,"display_name":"Kick Buttowski"},"score":0,"creation_date":1414788240,"post_id":26680030,"comment_id":41964791,"body_markdown":"@Chewy I put comment on my answer go there it helps u","body":"@Chewy I put comment on my answer go there it helps u"}],"tags":[],"owner":{"account_id":2527778,"reputation":184,"user_id":2196773,"accept_rate":100,"display_name":"geonz"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1414775504,"creation_date":1414775504,"answer_id":26680030,"question_id":26679860,"body_markdown":"One possible logic: If you&#39;re supposed to only sort out  &quot;unique&quot; numbers, then you&#39;ll want to test each number as it&#39;s entered and added to the first array, and loop through the array and see if it&#39;s equal to any of the numbers already there; if not, add it to the &quot;unique&quot; array.","title":"Pulling distinct values from a array in java","body":"<p>One possible logic: If you're supposed to only sort out  \"unique\" numbers, then you'll want to test each number as it's entered and added to the first array, and loop through the array and see if it's equal to any of the numbers already there; if not, add it to the \"unique\" array.</p>\n"},{"tags":[],"owner":{"account_id":6434138,"reputation":61,"user_id":4986240,"display_name":"Anas K"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1433771058,"creation_date":1433769749,"answer_id":30710289,"question_id":26679860,"body_markdown":"Try this code.. it will work \r\n\r\n    package Exercises;\r\n    import java.util.Scanner;\r\n    public class E5Second\r\n    {\r\n\t\tpublic static void main(String[] args) \r\n\t\t{\r\n\t\t\tScanner In = new Scanner(System.in);\r\n\t\t\tint [] number = new int [10];\r\n\t\t\tfillArr(number);\r\n\t\t\r\n\t\t\tboolean [] distinct = new boolean [10];\r\n\t\t\r\n\t\t\tint count = 0; \r\n\t\t\tfor (int i = 0; i &lt; number.length; i++) \r\n\t\t\t{\r\n\t\t\t\tif (isThere(number,i) == false)\r\n\t\t\t\t{\r\n\t\t\t\t\tdistinct[i] = true;\r\n\t\t\t\t\tcount++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;\\nThe number of distinct numbers is  &quot; + count);\r\n\t\t\tSystem.out.print(&quot;The distinct numbers are: &quot;);\r\n\t\t\tdisplayDistinct(number, distinct);\r\n\t\t}\r\n\t\tpublic static void fillArr(int [] number)\r\n\t\t{\r\n\t\t\tScanner In = new Scanner(System.in);\r\n\t\t\tSystem.out.print(&quot;Enter ten integers &quot;);\r\n\t\t\tfor (int i = 0; i &lt; number.length; i++)\r\n\t\t\t\tnumber[i] = In.nextInt();\r\n\t\t}\r\n\t\tpublic static boolean isThere(int [] number, int i)\r\n\t\t{\r\n\t\t\tfor (int j = 0; j &lt; i; j++)\r\n\t\t\t\tif(number[i] == number[j])\r\n\t\t\t\t\treturn true;\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tpublic static void  displayDistinct(int [] number, boolean [] distinct)\r\n\t\t{\r\n\t\t\tfor (int i = 0; i &lt; distinct.length; i++)\r\n\t\t\t\tif (distinct[i]) \r\n\t\t\t\t\tSystem.out.print(number[i] + &quot; &quot;);\r\n\t\t}\r\n    }\r\n\r\n\r\n","title":"Pulling distinct values from a array in java","body":"<p>Try this code.. it will work </p>\n\n<pre><code>package Exercises;\nimport java.util.Scanner;\npublic class E5Second\n{\n    public static void main(String[] args) \n    {\n        Scanner In = new Scanner(System.in);\n        int [] number = new int [10];\n        fillArr(number);\n\n        boolean [] distinct = new boolean [10];\n\n        int count = 0; \n        for (int i = 0; i &lt; number.length; i++) \n        {\n            if (isThere(number,i) == false)\n            {\n                distinct[i] = true;\n                count++;\n            }\n        }\n        System.out.println(\"\\nThe number of distinct numbers is  \" + count);\n        System.out.print(\"The distinct numbers are: \");\n        displayDistinct(number, distinct);\n    }\n    public static void fillArr(int [] number)\n    {\n        Scanner In = new Scanner(System.in);\n        System.out.print(\"Enter ten integers \");\n        for (int i = 0; i &lt; number.length; i++)\n            number[i] = In.nextInt();\n    }\n    public static boolean isThere(int [] number, int i)\n    {\n        for (int j = 0; j &lt; i; j++)\n            if(number[i] == number[j])\n                return true;\n        return false;\n    }\n    public static void  displayDistinct(int [] number, boolean [] distinct)\n    {\n        for (int i = 0; i &lt; distinct.length; i++)\n            if (distinct[i]) \n                System.out.print(number[i] + \" \");\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7902935,"reputation":6346,"user_id":5969411,"accept_rate":80,"display_name":"ManoDestra"},"score":1,"creation_date":1468863294,"post_id":38442737,"comment_id":64291068,"body_markdown":"Can you expand your answer to include an explanation of why this is helpful to the OP&#39;s requirements?","body":"Can you expand your answer to include an explanation of why this is helpful to the OP&#39;s requirements?"}],"tags":[],"owner":{"account_id":8842984,"reputation":11,"user_id":6604826,"display_name":"Lilaram Anjane"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468863478,"creation_date":1468863059,"answer_id":38442737,"question_id":26679860,"body_markdown":"    int a[] = { 2, 4, 5, 3, 3, 3, 4, 6 };\r\n    int flag = 0;\r\n    for (int i = 0; i &lt; a.length; i++)\r\n    {  \r\n        flag = 0;\r\n        for (int j = i + 1; j &lt; a.length; j++)\r\n        {\r\n            if (a[i] == a[j])\r\n            {\r\n                flag = 1;\r\n            }\r\n        }\r\n\r\n        if (flag == 0)\r\n        {\r\n            System.out.println(a[i]);\r\n        }\r\n    }\r\n","title":"Pulling distinct values from a array in java","body":"<pre><code>int a[] = { 2, 4, 5, 3, 3, 3, 4, 6 };\nint flag = 0;\nfor (int i = 0; i &lt; a.length; i++)\n{  \n    flag = 0;\n    for (int j = i + 1; j &lt; a.length; j++)\n    {\n        if (a[i] == a[j])\n        {\n            flag = 1;\n        }\n    }\n\n    if (flag == 0)\n    {\n        System.out.println(a[i]);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29815538,"reputation":1,"user_id":22849895,"display_name":"Deepak kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701322363,"creation_date":1701322363,"answer_id":77576109,"question_id":26679860,"body_markdown":"You can use stream() and then use distinct() which will remove all the duplicates value from the passed int array.\r\n\r\nCode:\r\n\r\n        int numbers [] = {1, 2, 3, 2, 1, 6, 3, 4, 5, 2};\r\n        List&lt;Integer&gt; distinctNumbers = Arrays.stream(numbers).boxed().distinct().sorted().collect(Collectors.toList());\r\n        distinctNumbers.stream().forEach(s-&gt; System.out.println(s));","title":"Pulling distinct values from a array in java","body":"<p>You can use stream() and then use distinct() which will remove all the duplicates value from the passed int array.</p>\n<p>Code:</p>\n<pre><code>    int numbers [] = {1, 2, 3, 2, 1, 6, 3, 4, 5, 2};\n    List&lt;Integer&gt; distinctNumbers = Arrays.stream(numbers).boxed().distinct().sorted().collect(Collectors.toList());\n    distinctNumbers.stream().forEach(s-&gt; System.out.println(s));\n</code></pre>\n"}],"owner":{"account_id":4296183,"reputation":85,"user_id":3511219,"accept_rate":54,"display_name":"Chewy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23783,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":8,"score":2,"last_activity_date":1701322363,"creation_date":1414774885,"question_id":26679860,"body_markdown":"Have a program where the user inputs 10 int values into the array. Lastly I need to pull out the distinct values and display them. Added my second for loop which would determine if the the value is distinct (i.e. meaning if the number appears multiple times it is only displayed once).\r\n\r\nFor instance, let say I pass in the numbers: 1, 2, 3, 2, 1, 6, 3, 4, 5, 2 the distinct array should only contain numbers {1, 2, 3, 6, 4, 5}\r\n\r\n    import java.util.Scanner;\r\n    import java.io.*;\r\n\r\n    public class ArrayDistinct {\r\n     public static void main(String[] args) throws IOException {\r\n\r\n     Scanner input = new Scanner(System.in);\r\n \r\n     // Create arrays &amp; variables  \r\n     int arrayLength = 10;\r\n     int[] numbers = new int[arrayLength];\r\n     int[] distinctArray = new int[arrayLength];\r\n     int count = 0;\r\n\r\n     System.out.println(&quot;Program starting...&quot;);\r\n     System.out.print(&quot;Please enter in &quot; + numbers.length + &quot; numbers: &quot;);\r\n\r\n     for (int i = 0; i &lt; numbers.length; i++) {\r\n      numbers[i] = input.nextInt();\r\n     }\r\n\r\n     for (int i = 0; i &lt; numbers.length; i++) {\r\n      int temp = numbers[i];\r\n      int tempTwo = numbers[i + 1];\r\n  \r\n      if (tempTwo == temp) {\r\n       count++;\r\n       distinctArray[i] = temp;\r\n      }\r\n     } \r\n\r\n     // Print out results\r\n\r\n    } // end main\r\n    } // end class","title":"Pulling distinct values from a array in java","body":"<p>Have a program where the user inputs 10 int values into the array. Lastly I need to pull out the distinct values and display them. Added my second for loop which would determine if the the value is distinct (i.e. meaning if the number appears multiple times it is only displayed once).</p>\n\n<p>For instance, let say I pass in the numbers: 1, 2, 3, 2, 1, 6, 3, 4, 5, 2 the distinct array should only contain numbers {1, 2, 3, 6, 4, 5}</p>\n\n<pre><code>import java.util.Scanner;\nimport java.io.*;\n\npublic class ArrayDistinct {\n public static void main(String[] args) throws IOException {\n\n Scanner input = new Scanner(System.in);\n\n // Create arrays &amp; variables  \n int arrayLength = 10;\n int[] numbers = new int[arrayLength];\n int[] distinctArray = new int[arrayLength];\n int count = 0;\n\n System.out.println(\"Program starting...\");\n System.out.print(\"Please enter in \" + numbers.length + \" numbers: \");\n\n for (int i = 0; i &lt; numbers.length; i++) {\n  numbers[i] = input.nextInt();\n }\n\n for (int i = 0; i &lt; numbers.length; i++) {\n  int temp = numbers[i];\n  int tempTwo = numbers[i + 1];\n\n  if (tempTwo == temp) {\n   count++;\n   distinctArray[i] = temp;\n  }\n } \n\n // Print out results\n\n} // end main\n} // end class\n</code></pre>\n"},{"tags":["java","sql","performance","oracle11g"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1701319720,"post_id":77575952,"comment_id":136761846,"body_markdown":"Needs more details, like the table structure and any indexes you have. Postgres has a `PLAN` command to have the DB explain what / how a query will be run, check if Oracle has something like it. What are you trying to optimize, memory usage or execution time? [Edit] your question and include all such details. See also [ask].","body":"Needs more details, like the table structure and any indexes you have. Postgres has a <code>PLAN</code> command to have the DB explain what / how a query will be run, check if Oracle has something like it. What are you trying to optimize, memory usage or execution time? <a href=\"https://stackoverflow.com/posts/77575952/edit\">Edit</a> your question and include all such details. See also <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":18711363,"reputation":1,"user_id":13641375,"display_name":"Joice Joy"},"score":0,"creation_date":1701323293,"post_id":77575952,"comment_id":136762124,"body_markdown":"@Robert Im looking for a query which could optimize both memory usage and execution time.These are oracle views which stores the performance related data from where we query.","body":"@Robert Im looking for a query which could optimize both memory usage and execution time.These are oracle views which stores the performance related data from where we query."},{"owner":{"account_id":177686,"reputation":35366,"user_id":409172,"accept_rate":50,"display_name":"Jon Heller"},"score":0,"creation_date":1701324487,"post_id":77575952,"comment_id":136762221,"body_markdown":"Generate a SQL Monitoring Report to help tune a long-running query, and post the results in the question. That report will give you actual run times and cardinalities per operation, which will help find out exactly what is running slow and why. First, find the SQL_ID of the slow query: `select sql_id, sql_text from gv$sql where lower(sql_fulltext) like lower(&#39;%SUM(disk_reads_delta)%&#39;);` Next, plug the SQL_ID into this query: `select dbms_sqltune.report_sql_monitor(sql_id =&gt; &#39;SQL_ID&#39;, type =&gt; &#39;text&#39;) from dual;` I&#39;d guess there are old statistics for the tables in the DBA_HIST* views.","body":"Generate a SQL Monitoring Report to help tune a long-running query, and post the results in the question. That report will give you actual run times and cardinalities per operation, which will help find out exactly what is running slow and why. First, find the SQL_ID of the slow query: <code>select sql_id, sql_text from gv$sql where lower(sql_fulltext) like lower(&#39;%SUM(disk_reads_delta)%&#39;);</code> Next, plug the SQL_ID into this query: <code>select dbms_sqltune.report_sql_monitor(sql_id =&gt; &#39;SQL_ID&#39;, type =&gt; &#39;text&#39;) from dual;</code> I&#39;d guess there are old statistics for the tables in the DBA_HIST* views."},{"owner":{"account_id":177686,"reputation":35366,"user_id":409172,"accept_rate":50,"display_name":"Jon Heller"},"score":0,"creation_date":1701366427,"post_id":77575952,"comment_id":136769679,"body_markdown":"Run this to see how many days of AWR data are retained: `select retention from dba_hist_wr_control;` The default value is 8, and if you extended the range or have a very busy database, the underlying tables may be enormous. Check the table size with this query: `select bytes/1024/1024/1024 from dba_segments where segment_name like &#39;WRH$_ACTIVE_SESSION_HISTORY&#39;;` And check the execution plan to ensure that partition pruning is only reading the relevant data. (Your query may need to filter by both SNAP_ID and DBID.) On multitenant, you may need to query the root container instead of the PDB.","body":"Run this to see how many days of AWR data are retained: <code>select retention from dba_hist_wr_control;</code> The default value is 8, and if you extended the range or have a very busy database, the underlying tables may be enormous. Check the table size with this query: <code>select bytes&#47;1024&#47;1024&#47;1024 from dba_segments where segment_name like &#39;WRH$_ACTIVE_SESSION_HISTORY&#39;;</code> And check the execution plan to ensure that partition pruning is only reading the relevant data. (Your query may need to filter by both SNAP_ID and DBID.) On multitenant, you may need to query the root container instead of the PDB."}],"answers":[{"comments":[{"owner":{"account_id":7445806,"reputation":2972,"user_id":5662005,"accept_rate":75,"display_name":"Error_2646"},"score":0,"creation_date":1701323042,"post_id":77576043,"comment_id":136762107,"body_markdown":"Worth a shot, but with INNER joins the optimizer is usually smart enough to apply the predicates first without forcing the issue with a subquery. An explain plan would clear it up though.","body":"Worth a shot, but with INNER joins the optimizer is usually smart enough to apply the predicates first without forcing the issue with a subquery. An explain plan would clear it up though."},{"owner":{"account_id":18711363,"reputation":1,"user_id":13641375,"display_name":"Joice Joy"},"score":0,"creation_date":1701323398,"post_id":77576043,"comment_id":136762132,"body_markdown":"Additional info : We execute the query every one hour from our application to collect the top cpu consuming queries.We are looking for a query which gives the  data without using many joins of views/tables","body":"Additional info : We execute the query every one hour from our application to collect the top cpu consuming queries.We are looking for a query which gives the  data without using many joins of views/tables"}],"tags":[],"owner":{"account_id":9734936,"reputation":296,"user_id":7218496,"accept_rate":40,"display_name":"Bibek Khadka"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701320902,"creation_date":1701320902,"answer_id":77576043,"question_id":77575952,"body_markdown":"    SELECT\r\n        ss.sql_text,\r\n        a.sql_id,\r\n        SUM(cpu_time_delta) as sum_cpu_time_delta,\r\n        SUM(disk_reads_delta),\r\n        COUNT(*)\r\n    FROM\r\n        dba_hist_sqlstat a,\r\n        (SELECT snap_id FROM dba_hist_snapshot WHERE begin_interval_time &gt; sysdate - 1) s,\r\n        v$sql ss\r\n    WHERE\r\n    a.sql_id IS NOT NULL\r\n        AND s.snap_id = a.snap_id\r\n        AND a.sql_id = ss.sql_id\r\n    GROUP BY\r\n    ss.sql_text,\r\n    a.sql_id\r\n    ORDER BY\r\n    sum_cpu_time_delta DESC\r\n    FETCH FIRST 20 ROWS ONLY;","title":"Oracle SQL query consuming high memory","body":"<pre><code>SELECT\n    ss.sql_text,\n    a.sql_id,\n    SUM(cpu_time_delta) as sum_cpu_time_delta,\n    SUM(disk_reads_delta),\n    COUNT(*)\nFROM\n    dba_hist_sqlstat a,\n    (SELECT snap_id FROM dba_hist_snapshot WHERE begin_interval_time &gt; sysdate - 1) s,\n    v$sql ss\nWHERE\na.sql_id IS NOT NULL\n    AND s.snap_id = a.snap_id\n    AND a.sql_id = ss.sql_id\nGROUP BY\nss.sql_text,\na.sql_id\nORDER BY\nsum_cpu_time_delta DESC\nFETCH FIRST 20 ROWS ONLY;\n</code></pre>\n"}],"owner":{"account_id":18711363,"reputation":1,"user_id":13641375,"display_name":"Joice Joy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701322096,"creation_date":1701319462,"question_id":77575952,"body_markdown":"We are using the below SQL query in one of our application to fetch the top cpu queries in the last 24 hours.But unfortunately we are seeing high memory consumption while executing this query.Can you help me to understand what actually causing the issue.If possible help us with a more optimised query which takes very minimal memory.\r\n\r\n    SELECT\r\n    *\r\n    FROM\r\n    (\r\n    SELECT\r\n    ss.sql_text,\r\n    a.sql_id,\r\n    SUM(cpu_time_delta),\r\n    SUM(disk_reads_delta),\r\n    COUNT(*)\r\n    FROM\r\n    dba_hist_sqlstat a,\r\n    dba_hist_snapshot s,\r\n    v$sql ss\r\n    WHERE\r\n    s.snap_id = a.snap_id\r\n    AND a.sql_id = ss.sql_id\r\n    AND s.begin_interval_time &gt; sysdate - 1\r\n    GROUP BY\r\n    ss.sql_text,\r\n    a.sql_id\r\n    ORDER BY\r\n    SUM(cpu_time_delta) DESC\r\n    )\r\n    WHERE\r\n    ROWNUM &lt; 20;\r\n\r\nWe have tried with the below query to see any performance improvement but unfortunately didn&#39;t help\r\n\r\n    SELECT\r\n    ss.sql_text,\r\n    a.sql_id,\r\n    SUM(cpu_time_delta),\r\n    SUM(disk_reads_delta),\r\n    COUNT(*)\r\n    FROM\r\n    dba_hist_sqlstat a,\r\n    dba_hist_snapshot s,\r\n    v$sql ss\r\n    WHERE\r\n    a.sql_id IS NOT NULL\r\n    AND s.snap_id = a.snap_id\r\n    AND a.sql_id = ss.sql_id\r\n    AND s.begin_interval_time &gt; sysdate - 1\r\n    GROUP BY\r\n    ss.sql_text,\r\n    a.sql_id\r\n    ORDER BY\r\n    SUM(cpu_time_delta) DESC\r\n    FETCH FIRST 20 ROWS ONLY;","title":"Oracle SQL query consuming high memory","body":"<p>We are using the below SQL query in one of our application to fetch the top cpu queries in the last 24 hours.But unfortunately we are seeing high memory consumption while executing this query.Can you help me to understand what actually causing the issue.If possible help us with a more optimised query which takes very minimal memory.</p>\n<pre><code>SELECT\n*\nFROM\n(\nSELECT\nss.sql_text,\na.sql_id,\nSUM(cpu_time_delta),\nSUM(disk_reads_delta),\nCOUNT(*)\nFROM\ndba_hist_sqlstat a,\ndba_hist_snapshot s,\nv$sql ss\nWHERE\ns.snap_id = a.snap_id\nAND a.sql_id = ss.sql_id\nAND s.begin_interval_time &gt; sysdate - 1\nGROUP BY\nss.sql_text,\na.sql_id\nORDER BY\nSUM(cpu_time_delta) DESC\n)\nWHERE\nROWNUM &lt; 20;\n</code></pre>\n<p>We have tried with the below query to see any performance improvement but unfortunately didn't help</p>\n<pre><code>SELECT\nss.sql_text,\na.sql_id,\nSUM(cpu_time_delta),\nSUM(disk_reads_delta),\nCOUNT(*)\nFROM\ndba_hist_sqlstat a,\ndba_hist_snapshot s,\nv$sql ss\nWHERE\na.sql_id IS NOT NULL\nAND s.snap_id = a.snap_id\nAND a.sql_id = ss.sql_id\nAND s.begin_interval_time &gt; sysdate - 1\nGROUP BY\nss.sql_text,\na.sql_id\nORDER BY\nSUM(cpu_time_delta) DESC\nFETCH FIRST 20 ROWS ONLY;\n</code></pre>\n"},{"tags":["java","spring","cross-domain","cors"],"comments":[{"owner":{"account_id":2675298,"reputation":1699,"user_id":2311841,"display_name":"cy3er"},"score":0,"creation_date":1417003766,"post_id":27147737,"comment_id":42792469,"body_markdown":"http://stackoverflow.com/questions/14003332/access-control-allow-origin-wildcard-subdomains-ports-and-protocols","body":"<a href=\"http://stackoverflow.com/questions/14003332/access-control-allow-origin-wildcard-subdomains-ports-and-protocols\" title=\"access control allow origin wildcard subdomains ports and protocols\">stackoverflow.com/questions/14003332/&hellip;</a>"},{"owner":{"account_id":3057250,"reputation":2207,"user_id":2590616,"display_name":"RiZKiT"},"score":0,"creation_date":1543920894,"post_id":27147737,"comment_id":94083602,"body_markdown":"For Spring Boot: https://stackoverflow.com/a/53611336/2590616","body":"For Spring Boot: <a href=\"https://stackoverflow.com/a/53611336/2590616\">stackoverflow.com/a/53611336/2590616</a>"},{"owner":{"account_id":1268903,"reputation":21459,"user_id":1225617,"accept_rate":44,"display_name":"Adam Millerchip"},"score":0,"creation_date":1631770881,"post_id":27147737,"comment_id":122312520,"body_markdown":"For the scroll-impaired, [jasiek.miko](https://stackoverflow.com/questions/27147737/cors-filter-allow-all-sub-domains/65142107#65142107)&#39;s answer is more useful that the current top voted answer.","body":"For the scroll-impaired, <a href=\"https://stackoverflow.com/questions/27147737/cors-filter-allow-all-sub-domains/65142107#65142107\">jasiek.miko</a>&#39;s answer is more useful that the current top voted answer."}],"answers":[{"comments":[{"owner":{"account_id":1074771,"reputation":1324,"user_id":1073157,"accept_rate":50,"display_name":"Dan Rayson"},"score":15,"creation_date":1539096856,"post_id":27148719,"comment_id":92373169,"body_markdown":"Can&#39;t is such a strong word ^^","body":"Can&#39;t is such a strong word ^^"}],"tags":[],"owner":{"account_id":1170165,"reputation":23155,"user_id":1147529,"accept_rate":95,"display_name":"Paulius Matulionis"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1417003412,"creation_date":1417003412,"answer_id":27148719,"question_id":27147737,"body_markdown":"You can&#39;t, it&#39;s either full domain, `null` or all: `*`.\r\n\r\nLike spec says:\r\nhttp://www.w3.org/TR/cors/#access-control-allow-origin-response-header","title":"Cors Filter - Allow all sub domains","body":"<p>You can't, it's either full domain, <code>null</code> or all: <code>*</code>.</p>\n\n<p>Like spec says:\n<a href=\"http://www.w3.org/TR/cors/#access-control-allow-origin-response-header\" rel=\"noreferrer\">http://www.w3.org/TR/cors/#access-control-allow-origin-response-header</a></p>\n"},{"tags":[],"owner":{"account_id":3619169,"reputation":9458,"user_id":3018377,"accept_rate":64,"display_name":"LHA"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1523475769,"creation_date":1457023116,"answer_id":35777905,"question_id":27147737,"body_markdown":"I am having the similar question and the answer is Yes.\r\n\r\nHere is my solution ( Handling Access-Control-Allow-Origin based on the origin header)\r\n\r\n**1. Parse host from the &#39;origin&#39; header**\r\n\r\n\t\t// origin\r\n\t\tString origin = request.getHeader(&quot;Origin&quot;);\r\n\r\n\t\tURL originUrl = null;\r\n\t\ttry {\r\n\t\t\toriginUrl = new URL(origin);\r\n\t\t} catch (MalformedURLException ex) {\r\n\t\t}\r\n\r\n        // originUrl.getHost() -&gt; Return the host need to be verified\r\n\r\n**2. Check originUrl.getHost()**\r\n\r\n\r\n        // Allow myDomain.com\r\n        // Or anySubDomain.myDomain.com\r\n        // Or subSub.anySubDomain.myDomain.com\r\n\r\n        // hostAllowedPattern \r\n\t\tPattern hostAllowedPattern = Pattern.compile(&quot;(.+\\\\.)*myDomain\\\\.com&quot;, Pattern.CASE_INSENSITIVE);\r\n\t\t\r\n\t\t// Allow host?\r\n\t\tif (hostAllowedPattern.matcher(originUrl.getHost()).matches()) {\r\n\t\t\tresponse.addHeader(&quot;Access-Control-Allow-Origin&quot;, origin);\r\n\r\n\t\t} else {\r\n            // Throw 403 status OR send default allow\r\n\t\t\tresponse.addHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;https://my_domain.com&quot;);\r\n\t\t}\r\n\t\t\r\n**3. Result:**\r\n\r\n\t\t// If &#39;origin&#39;: https://sub1.myDomain.com  --&gt; Matched\r\n\t\tAccess-Control-Allow-Origin: https://sub1.myDomain.com\r\n\t\t\r\n\t\t// If &#39;origin&#39;: https://sub2.myDomain.com   --&gt; Matched\r\n\t\tAccess-Control-Allow-Origin: https://sub2.myDomain.com\r\n\r\n\t\t// If &#39;origin&#39;: https://notAllowDomain.com   --&gt; Not Matched\r\n\t\tAccess-Control-Allow-Origin: https://my_domain.com\r\n**4. Others:**\r\n\r\n        You need to verify scheme &amp; port too.","title":"Cors Filter - Allow all sub domains","body":"<p>I am having the similar question and the answer is Yes.</p>\n\n<p>Here is my solution ( Handling Access-Control-Allow-Origin based on the origin header)</p>\n\n<p><strong>1. Parse host from the 'origin' header</strong></p>\n\n<pre><code>    // origin\n    String origin = request.getHeader(\"Origin\");\n\n    URL originUrl = null;\n    try {\n        originUrl = new URL(origin);\n    } catch (MalformedURLException ex) {\n    }\n\n    // originUrl.getHost() -&gt; Return the host need to be verified\n</code></pre>\n\n<p><strong>2. Check originUrl.getHost()</strong></p>\n\n<pre><code>    // Allow myDomain.com\n    // Or anySubDomain.myDomain.com\n    // Or subSub.anySubDomain.myDomain.com\n\n    // hostAllowedPattern \n    Pattern hostAllowedPattern = Pattern.compile(\"(.+\\\\.)*myDomain\\\\.com\", Pattern.CASE_INSENSITIVE);\n\n    // Allow host?\n    if (hostAllowedPattern.matcher(originUrl.getHost()).matches()) {\n        response.addHeader(\"Access-Control-Allow-Origin\", origin);\n\n    } else {\n        // Throw 403 status OR send default allow\n        response.addHeader(\"Access-Control-Allow-Origin\", \"https://my_domain.com\");\n    }\n</code></pre>\n\n<p><strong>3. Result:</strong></p>\n\n<pre><code>    // If 'origin': https://sub1.myDomain.com  --&gt; Matched\n    Access-Control-Allow-Origin: https://sub1.myDomain.com\n\n    // If 'origin': https://sub2.myDomain.com   --&gt; Matched\n    Access-Control-Allow-Origin: https://sub2.myDomain.com\n\n    // If 'origin': https://notAllowDomain.com   --&gt; Not Matched\n    Access-Control-Allow-Origin: https://my_domain.com\n</code></pre>\n\n<p><strong>4. Others:</strong></p>\n\n<pre><code>    You need to verify scheme &amp; port too.\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2306297,"reputation":129,"user_id":2025527,"accept_rate":57,"display_name":"user2025527"},"score":0,"creation_date":1611054883,"post_id":65142107,"comment_id":116320911,"body_markdown":"Good that Spring added setAllowedOriginPatterns with 5.3 spring-web version. Nice instead of writing own CorsConfiguraiton. Thanks for pointer :-)","body":"Good that Spring added setAllowedOriginPatterns with 5.3 spring-web version. Nice instead of writing own CorsConfiguraiton. Thanks for pointer :-)"}],"tags":[],"owner":{"account_id":2742577,"reputation":481,"user_id":2363767,"display_name":"jasiek.miko"},"comment_count":1,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1631770736,"creation_date":1607078715,"answer_id":65142107,"question_id":27147737,"body_markdown":"This use case is now directly supported by [CorsConfiguration.setAllowedOriginPatterns](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/cors/CorsConfiguration.html#setAllowedOriginPatterns-java.util.List-).\r\n\r\n\r\nModifying the [docs example](https://docs.spring.io/spring-security/site/docs/5.4.2/reference/html5/#cors) to match your question, this could be:\r\n\r\n```java11\r\n    @Bean\r\n    CorsConfigurationSource corsConfigurationSource() {\r\n        CorsConfiguration configuration = new CorsConfiguration();\r\n        configuration.setAllowedOriginPatterns(Arrays.asList(&quot;https://*.myDomain.com&quot;));\r\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;,&quot;POST&quot;));\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n        return source;\r\n    }\r\n```\r\n\r\nIt&#39;s worth noting that wildcards like this are still **not** part of the CORS standard. Instead, this is a Spring mechansim for returning CORS-compliant header values *based* on your pattern.\r\n\r\nE.g. if you now make a call from `Origin=https://subdomain.myDomain.com` the response will contain the header `Access-Control-Allow-Origin=https://subdomain.myDomain.com`.","title":"Cors Filter - Allow all sub domains","body":"<p>This use case is now directly supported by <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/cors/CorsConfiguration.html#setAllowedOriginPatterns-java.util.List-\" rel=\"noreferrer\">CorsConfiguration.setAllowedOriginPatterns</a>.</p>\n<p>Modifying the <a href=\"https://docs.spring.io/spring-security/site/docs/5.4.2/reference/html5/#cors\" rel=\"noreferrer\">docs example</a> to match your question, this could be:</p>\n<pre><code>    @Bean\n    CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOriginPatterns(Arrays.asList(&quot;https://*.myDomain.com&quot;));\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;,&quot;POST&quot;));\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n        return source;\n    }\n</code></pre>\n<p>It's worth noting that wildcards like this are still <strong>not</strong> part of the CORS standard. Instead, this is a Spring mechansim for returning CORS-compliant header values <em>based</em> on your pattern.</p>\n<p>E.g. if you now make a call from <code>Origin=https://subdomain.myDomain.com</code> the response will contain the header <code>Access-Control-Allow-Origin=https://subdomain.myDomain.com</code>.</p>\n"},{"tags":[],"owner":{"account_id":6612592,"reputation":103,"user_id":5107086,"accept_rate":80,"display_name":"Imran AK"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701321751,"creation_date":1701321751,"answer_id":77576083,"question_id":27147737,"body_markdown":"On Spring Boot, this is what worked for multiple domains.\r\n\r\nReference - https://docs.spring.io/spring-security/site/docs/5.4.2/reference/html5/#cors \r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Value(&quot;${cross-origin-domains:https://example1.com,https://example2.com}&quot;)\r\n        private List&lt;String&gt; crossOriginDomains;\r\n\r\n        @Value(&quot;${cross-origin.paths:/path1/**,/path2/**}&quot;)\r\n        private List&lt;String&gt; crossOriginPaths;\r\n\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.cors(withDefaults())\r\n            .\r\n            //Any other configuration you need\r\n        }\r\n\r\n        @Bean\r\n        CorsConfigurationSource corsConfigurationSource() {\r\n            CorsConfiguration configuration = new CorsConfiguration();\r\n            configuration.setAllowedOrigins(this.crossOriginDomains);\r\n            UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n            for (String api : this.crossOriginPaths) {\r\n                source.registerCorsConfiguration(api, configuration);\r\n            }\r\n            return source;\r\n        }\r\n\r\n    }\r\n\r\nAnd in `application.properties` or in `Consul`, you can have these configs &amp; values\r\n\r\n    ccc.cross-origin.domains=https://example1.com,https://example3.com\r\n    ccc.cross-origin.paths=/path1/**,/path2/**,/path3/**\r\n\r\n","title":"Cors Filter - Allow all sub domains","body":"<p>On Spring Boot, this is what worked for multiple domains.</p>\n<p>Reference - <a href=\"https://docs.spring.io/spring-security/site/docs/5.4.2/reference/html5/#cors\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/site/docs/5.4.2/reference/html5/#cors</a></p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Value(&quot;${cross-origin-domains:https://example1.com,https://example2.com}&quot;)\n    private List&lt;String&gt; crossOriginDomains;\n\n    @Value(&quot;${cross-origin.paths:/path1/**,/path2/**}&quot;)\n    private List&lt;String&gt; crossOriginPaths;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.cors(withDefaults())\n        .\n        //Any other configuration you need\n    }\n\n    @Bean\n    CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(this.crossOriginDomains);\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        for (String api : this.crossOriginPaths) {\n            source.registerCorsConfiguration(api, configuration);\n        }\n        return source;\n    }\n\n}\n</code></pre>\n<p>And in <code>application.properties</code> or in <code>Consul</code>, you can have these configs &amp; values</p>\n<pre><code>ccc.cross-origin.domains=https://example1.com,https://example3.com\nccc.cross-origin.paths=/path1/**,/path2/**,/path3/**\n</code></pre>\n"}],"owner":{"account_id":1114094,"reputation":6302,"user_id":1103894,"accept_rate":26,"display_name":"Urbanleg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27446,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":4,"score":14,"last_activity_date":1701321751,"creation_date":1417000593,"question_id":27147737,"body_markdown":"I would like my CorsFilter to do the following:\r\n\r\n    // populating the header required for CORS\r\n\tresponse.addHeader(\r\n\t\t\t   &quot;Access-Control-Allow-Origin&quot;,\r\n\t\t\t   &quot;https://*.myDomain.com&quot;);\r\n\r\nThe whole idea is to allow the following domains to make a request:\r\nsub1.myDomain.com,\r\nsub2.myDomain.com,\r\nsub3.myDomain.com\r\n....\r\nsub100.myDomain.com\r\n\r\nThis didn&#39;t work for me. How can I achieve this? Iv&#39;e tried:\r\n\r\n\r\n    response.addHeader(\r\n\t\t\t   &quot;Access-Control-Allow-Origin&quot;,\r\n\t\t\t   &quot;*.myDomain.com&quot;);\r\n\r\nas well with no success.\r\n\r\n","title":"Cors Filter - Allow all sub domains","body":"<p>I would like my CorsFilter to do the following:</p>\n\n<pre><code>// populating the header required for CORS\nresponse.addHeader(\n           \"Access-Control-Allow-Origin\",\n           \"https://*.myDomain.com\");\n</code></pre>\n\n<p>The whole idea is to allow the following domains to make a request:\nsub1.myDomain.com,\nsub2.myDomain.com,\nsub3.myDomain.com\n....\nsub100.myDomain.com</p>\n\n<p>This didn't work for me. How can I achieve this? Iv'e tried:</p>\n\n<pre><code>response.addHeader(\n           \"Access-Control-Allow-Origin\",\n           \"*.myDomain.com\");\n</code></pre>\n\n<p>as well with no success.</p>\n"},{"tags":["java","shell","path","intellij-idea","environment-variables"],"answers":[{"tags":[],"owner":{"account_id":279975,"reputation":15386,"user_id":575421,"accept_rate":50,"display_name":"Mikita Belahlazau"},"comment_count":0,"down_vote_count":1,"up_vote_count":16,"is_accepted":true,"score":15,"last_activity_date":1701321614,"creation_date":1362401000,"answer_id":15201881,"question_id":15201763,"body_markdown":"Check this post: https://emmanuelbernard.com/blog/2012/05/09/setting-global-variables-intellij/ The problem is that IDEA doesn&#39;t read your `.zshrc` file and doesn&#39;t know about path to play. Try to set PATH variable manually in IDEA settings.","title":"IntelliJ does not recognize PATH variable","body":"<p>Check this post: <a href=\"https://emmanuelbernard.com/blog/2012/05/09/setting-global-variables-intellij/\" rel=\"nofollow noreferrer\">https://emmanuelbernard.com/blog/2012/05/09/setting-global-variables-intellij/</a> The problem is that IDEA doesn't read your <code>.zshrc</code> file and doesn't know about path to play. Try to set PATH variable manually in IDEA settings.</p>\n"},{"comments":[{"owner":{"account_id":1126328,"reputation":10371,"user_id":1113542,"accept_rate":73,"display_name":"Dhruv"},"score":0,"creation_date":1556534165,"post_id":24678119,"comment_id":98458996,"body_markdown":"getting error: The file /Applications/App] does not exist. Am I doing something wrong?","body":"getting error: The file /Applications/App] does not exist. Am I doing something wrong?"}],"tags":[],"owner":{"account_id":4729737,"reputation":151,"user_id":3825708,"display_name":"Tyrus"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1404999703,"creation_date":1404999703,"answer_id":24678119,"question_id":15201763,"body_markdown":"You can actually use &quot;open -a [IntelliJ App]&quot; on mac from the command line and it should pick up your path variables for your .bash_profile and/or .zshrc - better than cutting and pasting into IntelliJ IMO.  Seems to be a mac only issue if I&#39;m not mistaken.","title":"IntelliJ does not recognize PATH variable","body":"<p>You can actually use \"open -a [IntelliJ App]\" on mac from the command line and it should pick up your path variables for your .bash_profile and/or .zshrc - better than cutting and pasting into IntelliJ IMO.  Seems to be a mac only issue if I'm not mistaken.</p>\n"}],"owner":{"account_id":2409427,"reputation":2090,"user_id":2104921,"accept_rate":91,"display_name":"u6f6o"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19441,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":15201881,"answer_count":2,"score":19,"last_activity_date":1701321614,"creation_date":1362400606,"question_id":15201763,"body_markdown":"I recently tried to import an existing Gradle project, using the option &quot;Open Project&quot; in the startup window and the existing build.gradle file to automatically set-up the project. \r\n\r\nRight after I did this, an error message appeared in IntelliJ, saying: \r\n\r\n&gt; Could not fetch model of type &#39;BasicIdeaProject&#39; using Gradle installation &#39;/Users/myUser/Tools/gradle-1.3&#39;.\r\nBuild file &#39;/Users/myUser/IdeaProjects/myProject/database/build.gradle&#39; line: 20\r\nA problem occurred evaluating project &#39;:database&#39;.\r\nA problem occurred evaluating project &#39;:database&#39;.\r\n&#39;play&#39; command was not found in PATH.\r\nMake sure you have Play Framework 2.0 installed and in your path\r\n\r\nAs it looks like, IntelliJ complains that I did not add the play framework to my PATH variable. Although output from the shell tells sth. else: \r\n\r\n    echo $PATH; \r\n    /usr/local/bin:/Users/myUser/Library/Ruby/Gems/1.8/bin:/usr/local/bin:/usr/local/sbin:/usr/bin:/usr/sbin:/bin:/sbin:/Users/myUser/.yadr/bin:/Users/myUser/.yadr/bin/yadr:/Users/myUser/Tools/gradle/bin:/usr/local/Cellar/mongodb/2.2.2-x86_64//bin:/Users/myUser/Tools/groovy/bin:/Users/myUser/Tools/play-2.0\r\n\r\nI also wrote a simple class to display the PATH variable used by IntelliJ: \r\n\r\n    public class Playground {\r\n\r\n        public static void main(String[] args) {\r\n\r\n            System.out.println( System.getenv( &quot;PATH&quot; ));\r\n        }\r\n    }\r\n\r\nWhen I run this class, it gives me following output: \r\n\r\n    /usr/bin:/bin:/usr/sbin:/sbin\r\n\r\nAs it looks like, IntelliJ completely ignore the PATH variable set in the shell. So I&#39;d like to know how to manipulate/configure IntelliJ to recognise this PATH variable? \r\n\r\nThe shell I am using is zsh.\r\n\r\nThanks in advance","title":"IntelliJ does not recognize PATH variable","body":"<p>I recently tried to import an existing Gradle project, using the option \"Open Project\" in the startup window and the existing build.gradle file to automatically set-up the project. </p>\n\n<p>Right after I did this, an error message appeared in IntelliJ, saying: </p>\n\n<blockquote>\n  <p>Could not fetch model of type 'BasicIdeaProject' using Gradle installation '/Users/myUser/Tools/gradle-1.3'.\n  Build file '/Users/myUser/IdeaProjects/myProject/database/build.gradle' line: 20\n  A problem occurred evaluating project ':database'.\n  A problem occurred evaluating project ':database'.\n  'play' command was not found in PATH.\n  Make sure you have Play Framework 2.0 installed and in your path</p>\n</blockquote>\n\n<p>As it looks like, IntelliJ complains that I did not add the play framework to my PATH variable. Although output from the shell tells sth. else: </p>\n\n<pre><code>echo $PATH; \n/usr/local/bin:/Users/myUser/Library/Ruby/Gems/1.8/bin:/usr/local/bin:/usr/local/sbin:/usr/bin:/usr/sbin:/bin:/sbin:/Users/myUser/.yadr/bin:/Users/myUser/.yadr/bin/yadr:/Users/myUser/Tools/gradle/bin:/usr/local/Cellar/mongodb/2.2.2-x86_64//bin:/Users/myUser/Tools/groovy/bin:/Users/myUser/Tools/play-2.0\n</code></pre>\n\n<p>I also wrote a simple class to display the PATH variable used by IntelliJ: </p>\n\n<pre><code>public class Playground {\n\n    public static void main(String[] args) {\n\n        System.out.println( System.getenv( \"PATH\" ));\n    }\n}\n</code></pre>\n\n<p>When I run this class, it gives me following output: </p>\n\n<pre><code>/usr/bin:/bin:/usr/sbin:/sbin\n</code></pre>\n\n<p>As it looks like, IntelliJ completely ignore the PATH variable set in the shell. So I'd like to know how to manipulate/configure IntelliJ to recognise this PATH variable? </p>\n\n<p>The shell I am using is zsh.</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","postgresql","spring-boot","unit-testing","spring-data-jpa"],"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701320881,"creation_date":1701320433,"question_id":77576008,"body_markdown":"I have my chat entity which contains a list of messages. These messages should be sorted by creation date, and for this I have it annotated with the orderBy annotation. However, the test is failing, even though this is working correctly in my application, which was failing before I added the annotation.\r\n\r\n```\r\n@DataJpaTest\r\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\r\nclass ChatRepositoryTest {\r\n\r\n    @Autowired\r\n    ChatRepository chatRepository;\r\n\r\n    @Autowired\r\n    UserRepository userRepository;\r\n    \r\n    @Test\r\n    void testMessageOrder() {\r\n        MessageEntity messageEntity1 = MessageEntity.builder().creationDate(ZonedDateTime.now().minusDays(1)).build();\r\n        MessageEntity messageEntity2 = MessageEntity.builder().creationDate(ZonedDateTime.now().minusDays(2)).build();\r\n        MessageEntity messageEntity3 = MessageEntity.builder().creationDate(ZonedDateTime.now().minusDays(3)).build();\r\n\r\n        List&lt;MessageEntity&gt; messageEntityList = new ArrayList&lt;&gt;();\r\n        messageEntityList.add(messageEntity2);\r\n        messageEntityList.add(messageEntity1);\r\n        messageEntityList.add(messageEntity3);\r\n\r\n        ChatEntity chatEntity = ChatEntity.builder()\r\n                .messageEntityList(messageEntityList)\r\n                .build();\r\n\r\n        chatEntity = chatRepository.save(chatEntity);\r\n\r\n        ChatEntity chatEntityList = chatRepository.findById(chatEntity.getId()).orElseThrow();\r\n\r\n        List&lt;MessageEntity&gt; messages = chatEntityList.getMessageEntityList();\r\n        for (int i = 0; i &lt; messages.size() - 1; i++) {\r\n            assertTrue(messages.get(i).getCreationDate().isBefore(messages.get(i + 1).getCreationDate()));\r\n        }\r\n    }\r\n```\r\n\r\nI have also tried this using TestEntityManager:\r\n\r\n```\r\n@Test\r\nvoid testMessageOrder() {\r\n  // Create messages with different creation dates\r\n  MessageEntity messageEntity1 = MessageEntity.builder().creationDate(ZonedDateTime.now().minusDays(1)).build();\r\n  MessageEntity messageEntity2 = MessageEntity.builder().creationDate(ZonedDateTime.now().minusDays(2)).build();\r\n  MessageEntity messageEntity3 = MessageEntity.builder().creationDate(ZonedDateTime.now().minusDays(3)).build();\r\n        \r\n  // Add messages to list in an unordered manner\r\n  List&lt;MessageEntity&gt; messageEntityList = new ArrayList&lt;&gt;();\r\n  messageEntityList.add(messageEntity1);\r\n  messageEntityList.add(messageEntity3);\r\n  messageEntityList.add(messageEntity2);\r\n\r\n  // Create chat entity with the list of messages\r\n  ChatEntity chatEntity = ChatEntity.builder()\r\n         .messageEntityList(messageEntityList)\r\n         .build();\r\n\r\n  // Save chat entity\r\n  chatEntity = chatRepository.saveAndFlush(chatEntity);\r\n  entityManager.flush();\r\n  entityManager.refresh(chatEntity);\r\n\r\n  // Add a new message\r\n  MessageEntity messageEntity4 = MessageEntity.builder().creationDate(ZonedDateTime.now()).build();\r\n  chatEntity.getMessageEntityList().add(messageEntity4);\r\n  chatRepository.save(chatEntity);\r\n\r\n  // Retrieve the chat entity\r\n  ChatEntity chatEntityList = chatRepository.findById(chatEntity.getId()).orElseThrow();\r\n\r\n  // Retrieve the list of messages\r\n  List&lt;MessageEntity&gt; messages = chatEntityList.getMessageEntityList();\r\n\r\n  // Check the order of messages\r\n  for (int i = 0; i &lt; messages.size() - 1; i++) {       assertTrue(messages.get(i).getCreationDate().isBefore(messages.get(i + 1).getCreationDate()));\r\n  }\r\n}\r\n```\r\n\r\nBut it passes with or without the orderBy annotation.\r\n\r\nThese are my entities:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;message&quot;)\r\n@Builder(toBuilder = true)\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class MessageEntity {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    @Column(name = &quot;id&quot;)\r\n    private UUID id;\r\n\r\n    @Column(name = &quot;content&quot;)\r\n    private String content;\r\n\r\n    @Column(name = &quot;creation_date&quot;)\r\n    private ZonedDateTime creationDate;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.MERGE)\r\n    @JoinColumn(name = &quot;chat_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private ChatEntity chatEntity;\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;chat&quot;)\r\n@Builder(toBuilder = true)\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class ChatEntity {\r\n    @Id\r\n    @GeneratedValue\r\n    @Column(name = &quot;id&quot;)\r\n    private UUID id;\r\n\r\n    @OneToMany(mappedBy = &quot;chatEntity&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n    @OrderBy(&quot;creationDate&quot;)\r\n    private List&lt;MessageEntity&gt; messageEntityList;\r\n}\r\n```\r\n\r\nThank you very much.\r\n\r\n\r\n","title":"How to test entity with @OrderBy annotation is correctly ordered using Spring Boot?","body":"<p>I have my chat entity which contains a list of messages. These messages should be sorted by creation date, and for this I have it annotated with the orderBy annotation. However, the test is failing, even though this is working correctly in my application, which was failing before I added the annotation.</p>\n<pre><code>@DataJpaTest\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\nclass ChatRepositoryTest {\n\n    @Autowired\n    ChatRepository chatRepository;\n\n    @Autowired\n    UserRepository userRepository;\n    \n    @Test\n    void testMessageOrder() {\n        MessageEntity messageEntity1 = MessageEntity.builder().creationDate(ZonedDateTime.now().minusDays(1)).build();\n        MessageEntity messageEntity2 = MessageEntity.builder().creationDate(ZonedDateTime.now().minusDays(2)).build();\n        MessageEntity messageEntity3 = MessageEntity.builder().creationDate(ZonedDateTime.now().minusDays(3)).build();\n\n        List&lt;MessageEntity&gt; messageEntityList = new ArrayList&lt;&gt;();\n        messageEntityList.add(messageEntity2);\n        messageEntityList.add(messageEntity1);\n        messageEntityList.add(messageEntity3);\n\n        ChatEntity chatEntity = ChatEntity.builder()\n                .messageEntityList(messageEntityList)\n                .build();\n\n        chatEntity = chatRepository.save(chatEntity);\n\n        ChatEntity chatEntityList = chatRepository.findById(chatEntity.getId()).orElseThrow();\n\n        List&lt;MessageEntity&gt; messages = chatEntityList.getMessageEntityList();\n        for (int i = 0; i &lt; messages.size() - 1; i++) {\n            assertTrue(messages.get(i).getCreationDate().isBefore(messages.get(i + 1).getCreationDate()));\n        }\n    }\n</code></pre>\n<p>I have also tried this using TestEntityManager:</p>\n<pre><code>@Test\nvoid testMessageOrder() {\n  // Create messages with different creation dates\n  MessageEntity messageEntity1 = MessageEntity.builder().creationDate(ZonedDateTime.now().minusDays(1)).build();\n  MessageEntity messageEntity2 = MessageEntity.builder().creationDate(ZonedDateTime.now().minusDays(2)).build();\n  MessageEntity messageEntity3 = MessageEntity.builder().creationDate(ZonedDateTime.now().minusDays(3)).build();\n        \n  // Add messages to list in an unordered manner\n  List&lt;MessageEntity&gt; messageEntityList = new ArrayList&lt;&gt;();\n  messageEntityList.add(messageEntity1);\n  messageEntityList.add(messageEntity3);\n  messageEntityList.add(messageEntity2);\n\n  // Create chat entity with the list of messages\n  ChatEntity chatEntity = ChatEntity.builder()\n         .messageEntityList(messageEntityList)\n         .build();\n\n  // Save chat entity\n  chatEntity = chatRepository.saveAndFlush(chatEntity);\n  entityManager.flush();\n  entityManager.refresh(chatEntity);\n\n  // Add a new message\n  MessageEntity messageEntity4 = MessageEntity.builder().creationDate(ZonedDateTime.now()).build();\n  chatEntity.getMessageEntityList().add(messageEntity4);\n  chatRepository.save(chatEntity);\n\n  // Retrieve the chat entity\n  ChatEntity chatEntityList = chatRepository.findById(chatEntity.getId()).orElseThrow();\n\n  // Retrieve the list of messages\n  List&lt;MessageEntity&gt; messages = chatEntityList.getMessageEntityList();\n\n  // Check the order of messages\n  for (int i = 0; i &lt; messages.size() - 1; i++) {       assertTrue(messages.get(i).getCreationDate().isBefore(messages.get(i + 1).getCreationDate()));\n  }\n}\n</code></pre>\n<p>But it passes with or without the orderBy annotation.</p>\n<p>These are my entities:</p>\n<pre><code>@Entity\n@Table(name = &quot;message&quot;)\n@Builder(toBuilder = true)\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class MessageEntity {\n\n    @Id\n    @GeneratedValue\n    @Column(name = &quot;id&quot;)\n    private UUID id;\n\n    @Column(name = &quot;content&quot;)\n    private String content;\n\n    @Column(name = &quot;creation_date&quot;)\n    private ZonedDateTime creationDate;\n\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.MERGE)\n    @JoinColumn(name = &quot;chat_id&quot;, referencedColumnName = &quot;id&quot;)\n    private ChatEntity chatEntity;\n}\n\n@Entity\n@Table(name = &quot;chat&quot;)\n@Builder(toBuilder = true)\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class ChatEntity {\n    @Id\n    @GeneratedValue\n    @Column(name = &quot;id&quot;)\n    private UUID id;\n\n    @OneToMany(mappedBy = &quot;chatEntity&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    @OrderBy(&quot;creationDate&quot;)\n    private List&lt;MessageEntity&gt; messageEntityList;\n}\n</code></pre>\n<p>Thank you very much.</p>\n"},{"tags":["java","angular","typescript","spring","ionic-framework"],"comments":[{"owner":{"account_id":17784410,"reputation":9995,"user_id":12914833,"display_name":"Chris Hamilton"},"score":0,"creation_date":1701310210,"post_id":77575219,"comment_id":136761069,"body_markdown":"If it&#39;s just a way to access a specific quiz, you just need a unique string in the URL, the URL itself is the password, no need to encrypt it. Generating a [uuid](https://en.wikipedia.org/wiki/Universally_unique_identifier) should be fine, you can just tell the user not to share it. I know a few sites that do this - like drawnames.com - granted this is only acceptable if you are not protecting sensitive data.","body":"If it&#39;s just a way to access a specific quiz, you just need a unique string in the URL, the URL itself is the password, no need to encrypt it. Generating a <a href=\"https://en.wikipedia.org/wiki/Universally_unique_identifier\" rel=\"nofollow noreferrer\">uuid</a> should be fine, you can just tell the user not to share it. I know a few sites that do this - like drawnames.com - granted this is only acceptable if you are not protecting sensitive data."}],"answers":[{"tags":[],"owner":{"account_id":22436273,"reputation":88,"user_id":16641483,"display_name":"Lofri97"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701320688,"creation_date":1701320688,"answer_id":77576024,"question_id":77575219,"body_markdown":"# If save the results of quiz\r\nIf you save the results of quiz per specific URL, Your way seems very danger.  \r\nEven if the password was encrypted and included in URL, knowing Url can access the quiz and change the results.\r\n\r\nURL data can be hijacked by the middle-ware like proxy server or snipping.  \r\nAnd even it stored in the browser, so if you access URL on a public PC, the URL may be stored in the browser and exposed.\r\n\r\nIt means anyone who knows URL can modify it&#39;s result.  \r\n\r\n# If not save the results of quiz\r\nLike Chris Hamilton mentioned in comment, If just a way to access a specific quiz, and not save the results.  \r\nJust specify url like uuid or id of the quiz.  \r\nIn this case, URL data is not sensitive and it does not matter if it is exposed.  \r\n","title":"Creating a link to share that contains the password","body":"<h1>If save the results of quiz</h1>\n<p>If you save the results of quiz per specific URL, Your way seems very danger.<br />\nEven if the password was encrypted and included in URL, knowing Url can access the quiz and change the results.</p>\n<p>URL data can be hijacked by the middle-ware like proxy server or snipping.<br />\nAnd even it stored in the browser, so if you access URL on a public PC, the URL may be stored in the browser and exposed.</p>\n<p>It means anyone who knows URL can modify it's result.</p>\n<h1>If not save the results of quiz</h1>\n<p>Like Chris Hamilton mentioned in comment, If just a way to access a specific quiz, and not save the results.<br />\nJust specify url like uuid or id of the quiz.<br />\nIn this case, URL data is not sensitive and it does not matter if it is exposed.</p>\n"}],"owner":{"account_id":19251599,"reputation":1,"user_id":14069424,"display_name":"Pedro Hugo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1701320688,"creation_date":1701303976,"question_id":77575219,"body_markdown":"I&#39;m creating this Quiz application with Ionic and Java+Spring\r\n\r\nNow i need to create a sort of link that i can share with other people, so they can access a specific quiz that i created.\r\n\r\nTo enter inside a quiz, you need to have the password for it.\r\n\r\nBut i&#39;m looking for to create a sort of link that i wont need to put a password if enter inside the application from the link that i got.\r\n\r\nI was thinking to encrypt the password and pass it inside the URL, and then decrypt it when got inside the application, but i don&#39;t know if it is the best option.\r\n\r\n","title":"Creating a link to share that contains the password","body":"<p>I'm creating this Quiz application with Ionic and Java+Spring</p>\n<p>Now i need to create a sort of link that i can share with other people, so they can access a specific quiz that i created.</p>\n<p>To enter inside a quiz, you need to have the password for it.</p>\n<p>But i'm looking for to create a sort of link that i wont need to put a password if enter inside the application from the link that i got.</p>\n<p>I was thinking to encrypt the password and pass it inside the URL, and then decrypt it when got inside the application, but i don't know if it is the best option.</p>\n"},{"tags":["java","web-services","soap","apache-axis"],"comments":[{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":3,"creation_date":1351974627,"post_id":13213187,"comment_id":17992729,"body_markdown":"This is a common exception when using Axis. It usually means that the client &amp; server WSDL/XSD are out of sync.","body":"This is a common exception when using Axis. It usually means that the client &amp; server WSDL/XSD are out of sync."},{"owner":{"account_id":1687204,"reputation":815,"user_id":1550226,"accept_rate":45,"display_name":"Superman9999"},"score":0,"creation_date":1351978762,"post_id":13213187,"comment_id":17993742,"body_markdown":"Thanks for responding Reimeus. What&#39;s puzzling is the same client (ear project) and server (aar) when deployed to local and other environment works fine. How do I sync WSDL/XSD on server side? Is it done in aar or some where in axis2 deployed on the app server?","body":"Thanks for responding Reimeus. What&#39;s puzzling is the same client (ear project) and server (aar) when deployed to local and other environment works fine. How do I sync WSDL/XSD on server side? Is it done in aar or some where in axis2 deployed on the app server?"},{"owner":{"account_id":391456,"reputation":1007,"user_id":752129,"accept_rate":69,"display_name":"Murugesh"},"score":3,"creation_date":1352116070,"post_id":13213187,"comment_id":18023549,"body_markdown":"This may be because of java version. If web service is deployed in java5 and client is in java6,this error may come. Please check on this aspect also","body":"This may be because of java version. If web service is deployed in java5 and client is in java6,this error may come. Please check on this aspect also"}],"answers":[{"tags":[],"owner":{"account_id":3603414,"reputation":153,"user_id":3006199,"display_name":"Klendatho"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1413961338,"creation_date":1413961338,"answer_id":26501960,"question_id":13213187,"body_markdown":"This error can be kind of misleading. AFter I modified the WSDL and added a new mandatory element, I created my client. Than this error appeared. The solution was, that I forgot to fill this element in one method of the my web service. If this error appears, also check if your mandatory elements are filled within the server.\r\nThat it works under one environment and not in an other can also mean, that a mandatory item is filled on one server (development server) and not under the other (productive server).","title":"org.apache.axis2.AxisFault: org.apache.axis2.databinding.ADBException: Unexpected subelement underTimelyRenewal","body":"<p>This error can be kind of misleading. AFter I modified the WSDL and added a new mandatory element, I created my client. Than this error appeared. The solution was, that I forgot to fill this element in one method of the my web service. If this error appears, also check if your mandatory elements are filled within the server.\nThat it works under one environment and not in an other can also mean, that a mandatory item is filled on one server (development server) and not under the other (productive server).</p>\n"}],"owner":{"account_id":1687204,"reputation":815,"user_id":1550226,"accept_rate":45,"display_name":"Superman9999"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18832,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1701320655,"creation_date":1351974397,"question_id":13213187,"body_markdown":"I am getting the below exception before hitting a axis 2 webservice.\r\n\r\norg.apache.axis2.AxisFault: org.apache.axis2.databinding.ADBException: Unexpected subelement underTimelyRenewal \r\n\r\nI can&#39;t reproduce the same issue locally on tomcat or in DEV environment which runs in Weblogic. It justs happens only in 1 environment which runs on Weblogic 11g. This makes to think that I am missing some config in that environment, I am not sure what it is. Any help on this is highly appreciated.\r\n\r\nHere is code that calls web service.\r\n\r\n    public  com.ibs.accouting.employeeVerificationResponse getEmployeeVerificationRequest(\r\n\r\n                            com.ibs.accounting.EmployeeVerificationRequest employeeVerificationRequest108)\r\n                        \r\n\r\n                    throws java.rmi.RemoteException\r\n                    \r\n                    {\r\n              org.apache.axis2.context.MessageContext _messageContext = null;\r\n              try{\r\n               org.apache.axis2.client.OperationClient _operationClient = _serviceClient.createClient(_operations[5].getName());\r\n              _operationClient.getOptions().setAction(&quot;http://ibs.com/accounting/WBLEmployeeVerificationRequest&quot;);\r\n              _operationClient.getOptions().setExceptionToBeThrownOnSOAPFault(true);\r\n\r\n              \r\n              \r\n                  addPropertyToOperationClient(_operationClient,org.apache.axis2.description.WSDL2Constants.ATTR_WHTTP_QUERY_PARAMETER_SEPARATOR,&quot;&amp;&quot;);\r\n              \r\n\r\n              // create a message context\r\n              _messageContext = new org.apache.axis2.context.MessageContext();\r\n\r\n              \r\n\r\n              // create SOAP envelope with that payload\r\n              org.apache.axiom.soap.SOAPEnvelope env = null;\r\n                    \r\n                                                    \r\n                                                    env = toEnvelope(getFactory(_operationClient.getOptions().getSoapVersionURI()),\r\n                                                    employeeVerificationRequest108,\r\n                                                    optimizeContent(new javax.xml.namespace.QName(&quot;http://ibs.com/accounting&quot;,\r\n                                                    &quot;getEmployeeVerificationRequest&quot;)));\r\n                                                \r\n        //adding SOAP soap_headers\r\n         _serviceClient.addHeadersToEnvelope(env);\r\n        // set the message context with that soap envelope\r\n        _messageContext.setEnvelope(env);\r\n\r\n        // add the message contxt to the operation client\r\n        _operationClient.addMessageContext(_messageContext);\r\n\r\n        //execute the operation client\r\n        _operationClient.execute(true);\r\n\r\n         \r\n               org.apache.axis2.context.MessageContext _returnMessageContext = _operationClient.getMessageContext(\r\n                                           org.apache.axis2.wsdl.WSDLConstants.MESSAGE_LABEL_IN_VALUE);\r\n                org.apache.axiom.soap.SOAPEnvelope _returnEnv = _returnMessageContext.getEnvelope();\r\n                \r\n                \r\n                                java.lang.Object object = fromOM(\r\n                                             _returnEnv.getBody().getFirstElement() ,\r\n                                             com.ibs.accounting.EmployeeVerificationResponse.class,\r\n                                              getEnvelopeNamespaces(_returnEnv));\r\n\r\n                               \r\n                                        return (com.ibs.accounting.EmployeeVerificationResponse)object;\r\n                                   \r\n         }catch(org.apache.axis2.AxisFault f){\r\n\r\n            org.apache.axiom.om.OMElement faultElt = f.getDetail();\r\n            if (faultElt!=null){\r\n                if (faultExceptionNameMap.containsKey(faultElt.getQName())){\r\n                    //make the fault by reflection\r\n                    try{\r\n                        java.lang.String exceptionClassName = (java.lang.String)faultExceptionClassNameMap.get(faultElt.getQName());\r\n                        java.lang.Class exceptionClass = java.lang.Class.forName(exceptionClassName);\r\n                        java.lang.Exception ex=\r\n                                (java.lang.Exception) exceptionClass.newInstance();\r\n                        //message class\r\n                        java.lang.String messageClassName = (java.lang.String)faultMessageMap.get(faultElt.getQName());\r\n                        java.lang.Class messageClass = java.lang.Class.forName(messageClassName);\r\n                        java.lang.Object messageObject = fromOM(faultElt,messageClass,null);\r\n                        java.lang.reflect.Method m = exceptionClass.getMethod(&quot;setFaultMessage&quot;,\r\n                                   new java.lang.Class[]{messageClass});\r\n                        m.invoke(ex,new java.lang.Object[]{messageObject});\r\n                        \r\n\r\n                        throw new java.rmi.RemoteException(ex.getMessage(), ex);\r\n                    }catch(java.lang.ClassCastException e){\r\n                       // we cannot intantiate the class - throw the original Axis fault\r\n                        throw f;\r\n                    } catch (java.lang.ClassNotFoundException e) {\r\n                        // we cannot intantiate the class - throw the original Axis fault\r\n                        throw f;\r\n                    }catch (java.lang.NoSuchMethodException e) {\r\n                        // we cannot intantiate the class - throw the original Axis fault\r\n                        throw f;\r\n                    } catch (java.lang.reflect.InvocationTargetException e) {\r\n                        // we cannot intantiate the class - throw the original Axis fault\r\n                        throw f;\r\n                    }  catch (java.lang.IllegalAccessException e) {\r\n                        // we cannot intantiate the class - throw the original Axis fault\r\n                        throw f;\r\n                    }   catch (java.lang.InstantiationException e) {\r\n                        // we cannot intantiate the class - throw the original Axis fault\r\n                        throw f;\r\n                    }\r\n                }else{\r\n                    throw f;\r\n                }\r\n            }else{\r\n                throw f;\r\n            }\r\n            } finally {\r\n                _messageContext.getTransportOut().getSender().cleanup(_messageContext);\r\n            }\r\n        }\r\n            ","title":"org.apache.axis2.AxisFault: org.apache.axis2.databinding.ADBException: Unexpected subelement underTimelyRenewal","body":"<p>I am getting the below exception before hitting a axis 2 webservice.</p>\n\n<p>org.apache.axis2.AxisFault: org.apache.axis2.databinding.ADBException: Unexpected subelement underTimelyRenewal </p>\n\n<p>I can't reproduce the same issue locally on tomcat or in DEV environment which runs in Weblogic. It justs happens only in 1 environment which runs on Weblogic 11g. This makes to think that I am missing some config in that environment, I am not sure what it is. Any help on this is highly appreciated.</p>\n\n<p>Here is code that calls web service.</p>\n\n<pre><code>public  com.ibs.accouting.employeeVerificationResponse getEmployeeVerificationRequest(\n\n                        com.ibs.accounting.EmployeeVerificationRequest employeeVerificationRequest108)\n\n\n                throws java.rmi.RemoteException\n\n                {\n          org.apache.axis2.context.MessageContext _messageContext = null;\n          try{\n           org.apache.axis2.client.OperationClient _operationClient = _serviceClient.createClient(_operations[5].getName());\n          _operationClient.getOptions().setAction(\"http://ibs.com/accounting/WBLEmployeeVerificationRequest\");\n          _operationClient.getOptions().setExceptionToBeThrownOnSOAPFault(true);\n\n\n\n              addPropertyToOperationClient(_operationClient,org.apache.axis2.description.WSDL2Constants.ATTR_WHTTP_QUERY_PARAMETER_SEPARATOR,\"&amp;\");\n\n\n          // create a message context\n          _messageContext = new org.apache.axis2.context.MessageContext();\n\n\n\n          // create SOAP envelope with that payload\n          org.apache.axiom.soap.SOAPEnvelope env = null;\n\n\n                                                env = toEnvelope(getFactory(_operationClient.getOptions().getSoapVersionURI()),\n                                                employeeVerificationRequest108,\n                                                optimizeContent(new javax.xml.namespace.QName(\"http://ibs.com/accounting\",\n                                                \"getEmployeeVerificationRequest\")));\n\n    //adding SOAP soap_headers\n     _serviceClient.addHeadersToEnvelope(env);\n    // set the message context with that soap envelope\n    _messageContext.setEnvelope(env);\n\n    // add the message contxt to the operation client\n    _operationClient.addMessageContext(_messageContext);\n\n    //execute the operation client\n    _operationClient.execute(true);\n\n\n           org.apache.axis2.context.MessageContext _returnMessageContext = _operationClient.getMessageContext(\n                                       org.apache.axis2.wsdl.WSDLConstants.MESSAGE_LABEL_IN_VALUE);\n            org.apache.axiom.soap.SOAPEnvelope _returnEnv = _returnMessageContext.getEnvelope();\n\n\n                            java.lang.Object object = fromOM(\n                                         _returnEnv.getBody().getFirstElement() ,\n                                         com.ibs.accounting.EmployeeVerificationResponse.class,\n                                          getEnvelopeNamespaces(_returnEnv));\n\n\n                                    return (com.ibs.accounting.EmployeeVerificationResponse)object;\n\n     }catch(org.apache.axis2.AxisFault f){\n\n        org.apache.axiom.om.OMElement faultElt = f.getDetail();\n        if (faultElt!=null){\n            if (faultExceptionNameMap.containsKey(faultElt.getQName())){\n                //make the fault by reflection\n                try{\n                    java.lang.String exceptionClassName = (java.lang.String)faultExceptionClassNameMap.get(faultElt.getQName());\n                    java.lang.Class exceptionClass = java.lang.Class.forName(exceptionClassName);\n                    java.lang.Exception ex=\n                            (java.lang.Exception) exceptionClass.newInstance();\n                    //message class\n                    java.lang.String messageClassName = (java.lang.String)faultMessageMap.get(faultElt.getQName());\n                    java.lang.Class messageClass = java.lang.Class.forName(messageClassName);\n                    java.lang.Object messageObject = fromOM(faultElt,messageClass,null);\n                    java.lang.reflect.Method m = exceptionClass.getMethod(\"setFaultMessage\",\n                               new java.lang.Class[]{messageClass});\n                    m.invoke(ex,new java.lang.Object[]{messageObject});\n\n\n                    throw new java.rmi.RemoteException(ex.getMessage(), ex);\n                }catch(java.lang.ClassCastException e){\n                   // we cannot intantiate the class - throw the original Axis fault\n                    throw f;\n                } catch (java.lang.ClassNotFoundException e) {\n                    // we cannot intantiate the class - throw the original Axis fault\n                    throw f;\n                }catch (java.lang.NoSuchMethodException e) {\n                    // we cannot intantiate the class - throw the original Axis fault\n                    throw f;\n                } catch (java.lang.reflect.InvocationTargetException e) {\n                    // we cannot intantiate the class - throw the original Axis fault\n                    throw f;\n                }  catch (java.lang.IllegalAccessException e) {\n                    // we cannot intantiate the class - throw the original Axis fault\n                    throw f;\n                }   catch (java.lang.InstantiationException e) {\n                    // we cannot intantiate the class - throw the original Axis fault\n                    throw f;\n                }\n            }else{\n                throw f;\n            }\n        }else{\n            throw f;\n        }\n        } finally {\n            _messageContext.getTransportOut().getSender().cleanup(_messageContext);\n        }\n    }\n</code></pre>\n"},{"tags":["java","accessibility","itext7","nvda","pac"],"owner":{"account_id":5686759,"reputation":1,"user_id":8852440,"display_name":"Shishir Peeru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701319965,"creation_date":1701319965,"question_id":77575977,"body_markdown":"I want to render 2 tables side by side using itext 7.2.5 (java) without using nested tables.\r\n[enter image description here](https://i.stack.imgur.com/wj96Q.png)\r\n\r\n\r\nCan you help us on how we can design it using itext 7.2.5 without using nested tables. It should suppport accessibility i.e. PAC tool should mention no errors and nvda should read properly?\r\n\r\n\r\n\r\n// ACCESSIBILITY : Added additonal parameter for image to support accessibility\r\n    public static Table getTrailingReturnsTable(PdfDocument pdfDocument, String alternateDescription) {\r\n\r\n        float canvasWidth = (534 / 2) - 10; //canvas.getDocument().getDefaultPageSize().getWidth();\r\n        float canvasHeight = 80f; //canvas.getDocument().getDefaultPageSize().getHeight();\r\n\r\n        PdfFormXObject pdfFormXObject = new PdfFormXObject(new PageSize(canvasWidth, canvasHeight));\r\n        Canvas canvas = new Canvas(pdfFormXObject, pdfDocument);\r\n\r\n        // Create the first table\r\n        Table table1 = new Table(UnitValue.createPercentArray(new float[]{1, 1, 1, 1}));\r\n        Cell cell1 = new Cell().add(new Paragraph(&quot;Cell L1,1&quot;));\r\n        Cell cell2 = new Cell().add(new Paragraph(&quot;Cell L1,2&quot;));\r\n        Cell cell3 = new Cell().add(new Paragraph(&quot;Cell L1,3&quot;));\r\n        Cell cell4 = new Cell().add(new Paragraph(&quot;Cell L1,4&quot;));\r\n\r\n        cell1.getAccessibilityProperties().setRole(StandardRoles.TH);\r\n        cell2.getAccessibilityProperties().setRole(StandardRoles.TH);\r\n        cell3.getAccessibilityProperties().setRole(StandardRoles.TH);\r\n        cell4.getAccessibilityProperties().setRole(StandardRoles.TH);\r\n\r\n        table1.addHeaderCell(cell1);\r\n        table1.addHeaderCell(cell2);\r\n        table1.addHeaderCell(cell3);\r\n        table1.addHeaderCell(cell4);\r\n        table1.addCell(&quot;Cell L2,1&quot;);\r\n        table1.addCell(&quot;Cell L2,2&quot;);\r\n        table1.addCell(&quot;Cell L2,3&quot;);\r\n        table1.addCell(&quot;Cell L2,4&quot;);\r\n        table1.addCell(&quot;Cell L3,1&quot;);\r\n        table1.addCell(&quot;Cell L3,2&quot;);\r\n        table1.addCell(&quot;Cell L3,3&quot;);\r\n        table1.addCell(&quot;Cell L3,4&quot;);\r\n\r\n        // Create a canvas for drawing on the template\r\n        canvas.add(table1);\r\n        return table1;\r\n        /*\r\n        Image image = new Image(pdfFormXObject);\r\n        // Set any additional properties for the image, such as size\r\n        image.setWidth(canvasWidth);\r\n        image.setMinHeight(canvasHeight);\r\n\r\n        // ACCESSIBILITY : Add Alternate description to an image\r\n        image.getAccessibilityProperties().setAlternateDescription(alternateDescription);\r\n        return image;\r\n         */\r\n    }\r\n\r\n    public static Table getTrailingReturnsTable2(PdfDocument pdfDocument, String alternateDescription) {\r\n\r\n        float canvasWidth = (534 / 2) - 10; //canvas.getDocument().getDefaultPageSize().getWidth();\r\n        float canvasHeight = 80f; //canvas.getDocument().getDefaultPageSize().getHeight();\r\n\r\n        PdfFormXObject pdfFormXObject = new PdfFormXObject(new PageSize(canvasWidth, canvasHeight));\r\n        Canvas canvas = new Canvas(pdfFormXObject, pdfDocument);\r\n\r\n        // Create the second table\r\n        Table table2 = new Table(UnitValue.createPercentArray(new float[]{1, 1, 1}));\r\n        Cell cellR1 = new Cell().add(new Paragraph(&quot;Cell R1,1&quot;));\r\n        Cell cellR2 = new Cell().add(new Paragraph(&quot;Cell R1,2&quot;));\r\n        Cell cellR3 = new Cell().add(new Paragraph(&quot;Cell R1,3&quot;));\r\n\r\n        cellR1.getAccessibilityProperties().setRole(StandardRoles.TH);\r\n        cellR2.getAccessibilityProperties().setRole(StandardRoles.TH);\r\n        cellR3.getAccessibilityProperties().setRole(StandardRoles.TH);\r\n        table2.addHeaderCell(cellR1);\r\n        table2.addHeaderCell(cellR2);\r\n        table2.addHeaderCell(cellR3);\r\n        table2.addCell(&quot;Cell R2,1&quot;);\r\n        table2.addCell(&quot;Cell R2,2&quot;);\r\n        table2.addCell(&quot;Cell R2,3&quot;);\r\n\r\n        // Create a canvas for drawing on the template\r\n        canvas.add(table2);\r\n        return table2;\r\n        /*\r\n        Image image = new Image(pdfFormXObject);\r\n        // Set any additional properties for the image, such as size\r\n        image.setWidth(canvasWidth);\r\n        image.setMinHeight(canvasHeight);\r\n\r\n        // ACCESSIBILITY : Add Alternate description to an image\r\n        image.getAccessibilityProperties().setAlternateDescription(alternateDescription);\r\n        return image;\r\n         */\r\n    }\r\n\r\nThis is added to document\r\nDiv childDiv7 = new Div();\r\n            childDiv7.setBackgroundColor(ColorConstants.GREEN).setMargin(0);\r\n\r\n            Table table1 = getTrailingReturnsTable(pdfDocument, &quot;Table1&quot;);\r\n            Table table2 = getTrailingReturnsTable2(pdfDocument, &quot;Table2&quot;);\r\n\r\n            // Adjust the vertical alignment of the second table\r\n            float verticalOffset = table1.getHeight().getValue() - table2.getHeight().getValue();\r\n            table2.setMarginTop(verticalOffset);\r\n            childDiv7.add(new Paragraph().add(table1.setWidth(UnitValue.createPercentValue(40f)).setBackgroundColor(ColorConstants.ORANGE)).setVerticalAlignment(VerticalAlignment.TOP)\r\n                    .add(new Paragraph().add(table2.setBackgroundColor(ColorConstants.YELLOW)).setVerticalAlignment(VerticalAlignment.TOP)).setVerticalAlignment(VerticalAlignment.TOP));\r\n\r\n            document.add(childDiv7);\r\n\r\n\r\n\r\n \r\n\r\n\r\n\r\nI have tried using div, which renders each table into a new row.\r\nI tried using paragraph, it renders 2 tables side by side, but if the height of table2 is less than table 1, then the table2 is rendered from bottom.\r\n[enter image description here](https://i.stack.imgur.com/NcShb.png)\r\n\r\nI tried using canvas, here I need to provide exact location of canvas. I tried converting table added canvas to image, but it did not render properly.\r\n","title":"How can I render 2 table side by side in a PDF report using itext 7.2.5","body":"<p>I want to render 2 tables side by side using itext 7.2.5 (java) without using nested tables.\n<a href=\"https://i.stack.imgur.com/wj96Q.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Can you help us on how we can design it using itext 7.2.5 without using nested tables. It should suppport accessibility i.e. PAC tool should mention no errors and nvda should read properly?</p>\n<p>// ACCESSIBILITY : Added additonal parameter for image to support accessibility\npublic static Table getTrailingReturnsTable(PdfDocument pdfDocument, String alternateDescription) {</p>\n<pre><code>    float canvasWidth = (534 / 2) - 10; //canvas.getDocument().getDefaultPageSize().getWidth();\n    float canvasHeight = 80f; //canvas.getDocument().getDefaultPageSize().getHeight();\n\n    PdfFormXObject pdfFormXObject = new PdfFormXObject(new PageSize(canvasWidth, canvasHeight));\n    Canvas canvas = new Canvas(pdfFormXObject, pdfDocument);\n\n    // Create the first table\n    Table table1 = new Table(UnitValue.createPercentArray(new float[]{1, 1, 1, 1}));\n    Cell cell1 = new Cell().add(new Paragraph(&quot;Cell L1,1&quot;));\n    Cell cell2 = new Cell().add(new Paragraph(&quot;Cell L1,2&quot;));\n    Cell cell3 = new Cell().add(new Paragraph(&quot;Cell L1,3&quot;));\n    Cell cell4 = new Cell().add(new Paragraph(&quot;Cell L1,4&quot;));\n\n    cell1.getAccessibilityProperties().setRole(StandardRoles.TH);\n    cell2.getAccessibilityProperties().setRole(StandardRoles.TH);\n    cell3.getAccessibilityProperties().setRole(StandardRoles.TH);\n    cell4.getAccessibilityProperties().setRole(StandardRoles.TH);\n\n    table1.addHeaderCell(cell1);\n    table1.addHeaderCell(cell2);\n    table1.addHeaderCell(cell3);\n    table1.addHeaderCell(cell4);\n    table1.addCell(&quot;Cell L2,1&quot;);\n    table1.addCell(&quot;Cell L2,2&quot;);\n    table1.addCell(&quot;Cell L2,3&quot;);\n    table1.addCell(&quot;Cell L2,4&quot;);\n    table1.addCell(&quot;Cell L3,1&quot;);\n    table1.addCell(&quot;Cell L3,2&quot;);\n    table1.addCell(&quot;Cell L3,3&quot;);\n    table1.addCell(&quot;Cell L3,4&quot;);\n\n    // Create a canvas for drawing on the template\n    canvas.add(table1);\n    return table1;\n    /*\n    Image image = new Image(pdfFormXObject);\n    // Set any additional properties for the image, such as size\n    image.setWidth(canvasWidth);\n    image.setMinHeight(canvasHeight);\n\n    // ACCESSIBILITY : Add Alternate description to an image\n    image.getAccessibilityProperties().setAlternateDescription(alternateDescription);\n    return image;\n     */\n}\n\npublic static Table getTrailingReturnsTable2(PdfDocument pdfDocument, String alternateDescription) {\n\n    float canvasWidth = (534 / 2) - 10; //canvas.getDocument().getDefaultPageSize().getWidth();\n    float canvasHeight = 80f; //canvas.getDocument().getDefaultPageSize().getHeight();\n\n    PdfFormXObject pdfFormXObject = new PdfFormXObject(new PageSize(canvasWidth, canvasHeight));\n    Canvas canvas = new Canvas(pdfFormXObject, pdfDocument);\n\n    // Create the second table\n    Table table2 = new Table(UnitValue.createPercentArray(new float[]{1, 1, 1}));\n    Cell cellR1 = new Cell().add(new Paragraph(&quot;Cell R1,1&quot;));\n    Cell cellR2 = new Cell().add(new Paragraph(&quot;Cell R1,2&quot;));\n    Cell cellR3 = new Cell().add(new Paragraph(&quot;Cell R1,3&quot;));\n\n    cellR1.getAccessibilityProperties().setRole(StandardRoles.TH);\n    cellR2.getAccessibilityProperties().setRole(StandardRoles.TH);\n    cellR3.getAccessibilityProperties().setRole(StandardRoles.TH);\n    table2.addHeaderCell(cellR1);\n    table2.addHeaderCell(cellR2);\n    table2.addHeaderCell(cellR3);\n    table2.addCell(&quot;Cell R2,1&quot;);\n    table2.addCell(&quot;Cell R2,2&quot;);\n    table2.addCell(&quot;Cell R2,3&quot;);\n\n    // Create a canvas for drawing on the template\n    canvas.add(table2);\n    return table2;\n    /*\n    Image image = new Image(pdfFormXObject);\n    // Set any additional properties for the image, such as size\n    image.setWidth(canvasWidth);\n    image.setMinHeight(canvasHeight);\n\n    // ACCESSIBILITY : Add Alternate description to an image\n    image.getAccessibilityProperties().setAlternateDescription(alternateDescription);\n    return image;\n     */\n}\n</code></pre>\n<p>This is added to document\nDiv childDiv7 = new Div();\nchildDiv7.setBackgroundColor(ColorConstants.GREEN).setMargin(0);</p>\n<pre><code>        Table table1 = getTrailingReturnsTable(pdfDocument, &quot;Table1&quot;);\n        Table table2 = getTrailingReturnsTable2(pdfDocument, &quot;Table2&quot;);\n\n        // Adjust the vertical alignment of the second table\n        float verticalOffset = table1.getHeight().getValue() - table2.getHeight().getValue();\n        table2.setMarginTop(verticalOffset);\n        childDiv7.add(new Paragraph().add(table1.setWidth(UnitValue.createPercentValue(40f)).setBackgroundColor(ColorConstants.ORANGE)).setVerticalAlignment(VerticalAlignment.TOP)\n                .add(new Paragraph().add(table2.setBackgroundColor(ColorConstants.YELLOW)).setVerticalAlignment(VerticalAlignment.TOP)).setVerticalAlignment(VerticalAlignment.TOP));\n\n        document.add(childDiv7);\n</code></pre>\n<p>I have tried using div, which renders each table into a new row.\nI tried using paragraph, it renders 2 tables side by side, but if the height of table2 is less than table 1, then the table2 is rendered from bottom.\n<a href=\"https://i.stack.imgur.com/NcShb.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I tried using canvas, here I need to provide exact location of canvas. I tried converting table added canvas to image, but it did not render properly.</p>\n"},{"tags":["java","android","kotlin"],"owner":{"account_id":25052892,"reputation":1,"user_id":18908612,"display_name":"softwarest"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701319898,"creation_date":1701294099,"question_id":77574642,"body_markdown":"I have a background application, and it is working like a charm but when I boot my device and call it with broadcast, it is not working because of `com.miui.powerkeeper`.\r\nHere is the error log:\r\n````\r\nE  removePowerSaveWhitelistApps: [com.milink.service, com.miui.msa.global,...]\r\n    java.lang.UnsupportedOperationException: Cannot remove system whitelisted app\r\n````\r\nSo, how can I achieve this error and block `com.miui.powerkeeper` programmatically in Android?\r\n\r\nI tried giving battery optimization permission, but it did not work.","title":"Preventing com.miui.powerkeeper in android","body":"<p>I have a background application, and it is working like a charm but when I boot my device and call it with broadcast, it is not working because of <code>com.miui.powerkeeper</code>.\nHere is the error log:</p>\n<pre><code>E  removePowerSaveWhitelistApps: [com.milink.service, com.miui.msa.global,...]\n    java.lang.UnsupportedOperationException: Cannot remove system whitelisted app\n</code></pre>\n<p>So, how can I achieve this error and block <code>com.miui.powerkeeper</code> programmatically in Android?</p>\n<p>I tried giving battery optimization permission, but it did not work.</p>\n"},{"tags":["java","maven","intellij-idea","jar","maven-assembly-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1701255074,"post_id":77570268,"comment_id":136752098,"body_markdown":"The maven-assembly-plugin must be bound to the lifecycle https://maven.apache.org/plugins/maven-assembly-plugin/usage.html","body":"The maven-assembly-plugin must be bound to the lifecycle <a href=\"https://maven.apache.org/plugins/maven-assembly-plugin/usage.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-assembly-plugin/usage.html</a>"},{"owner":{"account_id":15394477,"reputation":33,"user_id":11106082,"display_name":"ManishBharathi"},"score":0,"creation_date":1701257381,"post_id":77570268,"comment_id":136752519,"body_markdown":"I added the &lt;execution&gt; to the POM as advised, but still, the main class is empty after packing the Jar.","body":"I added the &lt;execution&gt; to the POM as advised, but still, the main class is empty after packing the Jar."},{"owner":{"account_id":24596695,"reputation":121,"user_id":18499990,"display_name":"SpaciousCoder78"},"score":0,"creation_date":1701258209,"post_id":77570268,"comment_id":136752680,"body_markdown":"If you do not manage to find a fix for this problem, download the required jar files from the web and create a jar file in intellij using artifacts. It&#39;s a lot easier.","body":"If you do not manage to find a fix for this problem, download the required jar files from the web and create a jar file in intellij using artifacts. It&#39;s a lot easier."},{"owner":{"account_id":15394477,"reputation":33,"user_id":11106082,"display_name":"ManishBharathi"},"score":0,"creation_date":1701259072,"post_id":77570268,"comment_id":136752865,"body_markdown":"That was my first approach and faced the same issue. Then I thought of using Maven and still no fix to the issue :(. The classes in the dependencies are also empty.","body":"That was my first approach and faced the same issue. Then I thought of using Maven and still no fix to the issue :(. The classes in the dependencies are also empty."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1701277718,"post_id":77570268,"comment_id":136756804,"body_markdown":"Where have you located your java source files ... show the full directory layout...","body":"Where have you located your java source files ... show the full directory layout..."},{"owner":{"account_id":28411028,"reputation":416,"user_id":21734429,"display_name":"romanv-jb"},"score":0,"creation_date":1701340156,"post_id":77570268,"comment_id":136764489,"body_markdown":"How exactly you are building the Artifact? IDEA has a few options for that - which one do you use?\n\nAlso, does the JAR you currently get actually work? May it is just a problem with the decompiler?","body":"How exactly you are building the Artifact? IDEA has a few options for that - which one do you use?  Also, does the JAR you currently get actually work? May it is just a problem with the decompiler?"}],"owner":{"account_id":15394477,"reputation":33,"user_id":11106082,"display_name":"ManishBharathi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701319898,"creation_date":1701253223,"question_id":77570268,"body_markdown":"I am trying to package my project with dependency using Maven in IntelliJ. \r\nI tried to use the maven-assembly-plugin to package the jar file, below is the pom.xml\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n         http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.myproject&lt;/groupId&gt;\r\n    &lt;artifactId&gt;myApp&lt;/artifactId&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;name&gt;myApp&lt;/name&gt;\r\n    \r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.20.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.20.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;12.2.0.jre8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    \r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;com.temenos.XmlCompression&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                    &lt;descriptorRefs&gt;jar-with-dependencies&lt;/descriptorRefs&gt;\r\n                &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n             &lt;id&gt;make-assembly&lt;/id&gt; \r\n             &lt;phase&gt;package&lt;/phase&gt; \r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt; &lt;/project&gt;\r\n\r\nThe jar file with dependency is successfully built in the target location. But when I decompile the JAR file using JDGUI, the main class is empty or shows &quot;INTERNAL ERROR&quot;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWhat shall I need to do, to get my project built with all dependencies including my main class?\r\n\r\nDirectory\r\n[![enter image description here][3]][3]\r\n\r\nEdit:\r\nAdded the &#39;executions&#39; in the pom.xml\r\nAdded Directory structure\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WUJMD.png\r\n  [2]: https://i.stack.imgur.com/Qfwzq.png\r\n  [3]: https://i.stack.imgur.com/M1gej.png","title":"Jar file does not contain my project classes","body":"<p>I am trying to package my project with dependency using Maven in IntelliJ.\nI tried to use the maven-assembly-plugin to package the jar file, below is the pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \n     http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;com.myproject&lt;/groupId&gt;\n&lt;artifactId&gt;myApp&lt;/artifactId&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n&lt;version&gt;1.0&lt;/version&gt;\n&lt;name&gt;myApp&lt;/name&gt;\n\n&lt;properties&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n        &lt;version&gt;2.20.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;version&gt;2.20.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n        &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n        &lt;version&gt;12.2.0.jre8&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;mainClass&gt;com.temenos.XmlCompression&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n                &lt;descriptorRefs&gt;jar-with-dependencies&lt;/descriptorRefs&gt;\n            &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n         &lt;id&gt;make-assembly&lt;/id&gt; \n         &lt;phase&gt;package&lt;/phase&gt; \n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt; &lt;/project&gt;\n</code></pre>\n<p>The jar file with dependency is successfully built in the target location. But when I decompile the JAR file using JDGUI, the main class is empty or shows &quot;INTERNAL ERROR&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/WUJMD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WUJMD.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Qfwzq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qfwzq.png\" alt=\"enter image description here\" /></a></p>\n<p>What shall I need to do, to get my project built with all dependencies including my main class?</p>\n<p>Directory\n<a href=\"https://i.stack.imgur.com/M1gej.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M1gej.png\" alt=\"enter image description here\" /></a></p>\n<p>Edit:\nAdded the 'executions' in the pom.xml\nAdded Directory structure</p>\n"},{"tags":["java","bluetooth-lowenergy","android-bluetooth","mobile-development","bluetooth-gatt"],"comments":[{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1701859636,"post_id":77575972,"comment_id":136826432,"body_markdown":"Do you implement [`BluetoothGattCallback.onCharacteristicRead`](https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback#onCharacteristicRead(android.bluetooth.BluetoothGatt,%20android.bluetooth.BluetoothGattCharacteristic,%20byte[],%20int))?","body":"Do you implement <a href=\"https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback#onCharacteristicRead(android.bluetooth.BluetoothGatt,%20android.bluetooth.BluetoothGattCharacteristic,%20byte%5B%5D,%20int)\" rel=\"nofollow noreferrer\"><code>BluetoothGattCallback.onCharacteristicRead</code></a>?"}],"owner":{"account_id":30028083,"reputation":1,"user_id":23011771,"display_name":"Ask"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701319873,"creation_date":1701319873,"question_id":77575972,"body_markdown":"I am updating my current code to API33, i got the warning- warning: [deprecation] getValue() in BluetoothGattCharacteristic has been deprecated\r\n                byte[] countByte = characteristic.getValue();\r\n\r\n\r\nIn the reference: https://developer.android.com/reference/android/bluetooth/BluetoothGattCharacteristic.html#getValue(), it says:\r\nThis method was deprecated in API level 33.\r\nUse BluetoothGatt#readCharacteristic(BluetoothGattCharacteristic) instead.\r\n\r\nBut there is no direct way to implement it on the code I have which is the:\r\n byte[] countByte = characteristic.getValue();\r\n\r\nHow can I solve this?","title":"warning: [deprecation] getValue() in BluetoothGattCharacteristic has been deprecated in the code: byte[] countByte = characteristic.getValue();","body":"<p>I am updating my current code to API33, i got the warning- warning: [deprecation] getValue() in BluetoothGattCharacteristic has been deprecated\nbyte[] countByte = characteristic.getValue();</p>\n<p>In the reference: <a href=\"https://developer.android.com/reference/android/bluetooth/BluetoothGattCharacteristic.html#getValue()\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/bluetooth/BluetoothGattCharacteristic.html#getValue()</a>, it says:\nThis method was deprecated in API level 33.\nUse BluetoothGatt#readCharacteristic(BluetoothGattCharacteristic) instead.</p>\n<p>But there is no direct way to implement it on the code I have which is the:\nbyte[] countByte = characteristic.getValue();</p>\n<p>How can I solve this?</p>\n"},{"tags":["java","nio","nonblocking"],"answers":[{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701319022,"creation_date":1250830316,"answer_id":1310133,"question_id":1310065,"body_markdown":"There is no CR in your linked page, and I can&#39;t see anything in the [Java Bug Database][1]. However, `attach`/`attachment` is very simple code (although slightly more complicated after my [bug][2]. My guess is that you are getting a different `SelectionKey`, so trying to wrap it would be pointless.\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/\r\n  [2]: https://bugs.java.com/bugdatabase/view_bug?bug_id=6436220","title":"Java: Is SelectionKey.attach() broken?","body":"<p>There is no CR in your linked page, and I can't see anything in the <a href=\"https://bugs.java.com/bugdatabase/\" rel=\"nofollow noreferrer\">Java Bug Database</a>. However, <code>attach</code>/<code>attachment</code> is very simple code (although slightly more complicated after my <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6436220\" rel=\"nofollow noreferrer\">bug</a>. My guess is that you are getting a different <code>SelectionKey</code>, so trying to wrap it would be pointless.</p>\n"},{"comments":[{"owner":{"account_id":23825,"reputation":19875,"user_id":60006,"accept_rate":65,"display_name":"DivideByHero"},"score":0,"creation_date":1250875685,"post_id":1310284,"comment_id":1145705,"body_markdown":"Thanks so much!  I think the combination of things you mentioned might lead to a solution that works every time! :)  Plus, if attachment() fails, I still have the option of doing the more costly map look-up, so I can write it to be robust even if the attachment is lost!  Thanks!","body":"Thanks so much!  I think the combination of things you mentioned might lead to a solution that works every time! :)  Plus, if attachment() fails, I still have the option of doing the more costly map look-up, so I can write it to be robust even if the attachment is lost!  Thanks!"},{"owner":{"account_id":5948,"reputation":1854,"user_id":9816,"display_name":"Anthony Giorgio"},"score":0,"creation_date":1252928609,"post_id":1310284,"comment_id":1264341,"body_markdown":"This is very handy.  I was able to remove a HashMap from my NIO implementation.  Thanks!","body":"This is very handy.  I was able to remove a HashMap from my NIO implementation.  Thanks!"},{"owner":{"account_id":978958,"reputation":558,"user_id":999207,"display_name":"c05mic"},"score":0,"creation_date":1415097525,"post_id":1310284,"comment_id":42052971,"body_markdown":"Grateful for this answer. Saved me a lot of time.","body":"Grateful for this answer. Saved me a lot of time."}],"tags":[],"owner":{"account_id":6117,"reputation":5165,"user_id":10165,"display_name":"Chochos"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1250835258,"creation_date":1250834826,"answer_id":1310284,"question_id":1310065,"body_markdown":"I have successfully attached objects to SelectionKeys without any problems, but only from the same event. For example the first time I get an &lt;code&gt;OP_READ&lt;/code&gt;, I attach an object to the SelectionKey and on subsequent reads I retrieve it, and it works fine. Maybe &lt;code&gt;OP_ACCEPT&lt;/code&gt; and &lt;code&gt;OP_READ&lt;/code&gt; handle different keys because they&#39;re different events, but I think the SelectionKey should be the same for the same connection... however if you make different connections even from the same IP you will get different SelectionKeys.\r\n\r\nUPDATE: I just checked my code and there is something very important: I didn&#39;t call attach() at all; I used the &lt;code&gt; SelectableChannel.register(Selector sel, int ops, Object att)&lt;/code&gt; method. If you do that, subsequent calls to attachment() on the SelectionKey will work.","title":"Java: Is SelectionKey.attach() broken?","body":"<p>I have successfully attached objects to SelectionKeys without any problems, but only from the same event. For example the first time I get an <code>OP_READ</code>, I attach an object to the SelectionKey and on subsequent reads I retrieve it, and it works fine. Maybe <code>OP_ACCEPT</code> and <code>OP_READ</code> handle different keys because they're different events, but I think the SelectionKey should be the same for the same connection... however if you make different connections even from the same IP you will get different SelectionKeys.</p>\n\n<p>UPDATE: I just checked my code and there is something very important: I didn't call attach() at all; I used the <code> SelectableChannel.register(Selector sel, int ops, Object att)</code> method. If you do that, subsequent calls to attachment() on the SelectionKey will work.</p>\n"}],"owner":{"account_id":23825,"reputation":19875,"user_id":60006,"accept_rate":65,"display_name":"DivideByHero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1801,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":1310284,"answer_count":2,"score":3,"last_activity_date":1701319022,"creation_date":1250828428,"question_id":1310065,"body_markdown":"In my implementation of Java NIO I have not been able to get SelectionKey.attach() to work.  Basically, once clients connect (OP_ACCEPT interest ops) I add them to a map where their IP address maps to an object that maintains state for the client.  Then, when an OP_READ occurs, I again retrieve the client&#39;s IP address, and this time get the value from the map and get the client&#39;s state object that way.\r\n\r\nThe problem here is that I have to do a map lookup EVERY TIME data is read from the network.  There is a lot of wasted work going on there.  So, I was thrilled to see that you can attach an arbitrary object type to a SelectionKey, which should be easily retrieved when you call SelectionKey.attachment(), even if we are now handling a different event (retrieved during OP_READ versus put into the map during OP_ACCEPT).\r\n\r\nThe problem is that it doesn&#39;t work.  When I retrieve the attachment, it is always null.  And if I set up the attachment via attach() and then immediately call attachment(), it does work.  Somehow between different events, it loses its association.\r\n\r\nI&#39;m sorry, my code is a bit long to post here, but if you look at the comments in this thread:\r\n[link text][1]\r\n...You will see that some others have basically come to the same conclusion: that attach() and attachment() don&#39;t work, and never have.\r\n\r\nIs there a trick to get it to work, or am I stuck with the evil overhead necessary of manually doing a lookup in a map EVERY TIME there is a new read event to handle?\r\n\r\nFinally, is there a way to &quot;wrap&quot; SelectionKey in a new subclass that will properly handle attach() and attachment()?\r\n\r\nThanks!\r\n\r\n  [1]: http://t-machine.org/index.php/2008/01/22/java-nio-server-example/#comment-1746","title":"Java: Is SelectionKey.attach() broken?","body":"<p>In my implementation of Java NIO I have not been able to get SelectionKey.attach() to work.  Basically, once clients connect (OP_ACCEPT interest ops) I add them to a map where their IP address maps to an object that maintains state for the client.  Then, when an OP_READ occurs, I again retrieve the client's IP address, and this time get the value from the map and get the client's state object that way.</p>\n\n<p>The problem here is that I have to do a map lookup EVERY TIME data is read from the network.  There is a lot of wasted work going on there.  So, I was thrilled to see that you can attach an arbitrary object type to a SelectionKey, which should be easily retrieved when you call SelectionKey.attachment(), even if we are now handling a different event (retrieved during OP_READ versus put into the map during OP_ACCEPT).</p>\n\n<p>The problem is that it doesn't work.  When I retrieve the attachment, it is always null.  And if I set up the attachment via attach() and then immediately call attachment(), it does work.  Somehow between different events, it loses its association.</p>\n\n<p>I'm sorry, my code is a bit long to post here, but if you look at the comments in this thread:\n<a href=\"http://t-machine.org/index.php/2008/01/22/java-nio-server-example/#comment-1746\" rel=\"nofollow noreferrer\">link text</a>\n...You will see that some others have basically come to the same conclusion: that attach() and attachment() don't work, and never have.</p>\n\n<p>Is there a trick to get it to work, or am I stuck with the evil overhead necessary of manually doing a lookup in a map EVERY TIME there is a new read event to handle?</p>\n\n<p>Finally, is there a way to \"wrap\" SelectionKey in a new subclass that will properly handle attach() and attachment()?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","logging","log4j"],"answers":[{"comments":[{"owner":{"account_id":34674,"reputation":14769,"user_id":98050,"accept_rate":57,"display_name":"Dougnukem"},"score":3,"creation_date":1250054671,"post_id":1264140,"comment_id":1091892,"body_markdown":"That code snippet works if I&#39;m within the log4j framework but I&#39;m using the Java Logging framework, and there are no hooks to intercept the FileHandler creation call (other than catching the exception the first time Logger is accessed e.g. logger.info(&quot;test&quot;).","body":"That code snippet works if I&#39;m within the log4j framework but I&#39;m using the Java Logging framework, and there are no hooks to intercept the FileHandler creation call (other than catching the exception the first time Logger is accessed e.g. logger.info(&quot;test&quot;)."},{"owner":{"account_id":39580,"reputation":385624,"user_id":114251,"accept_rate":87,"display_name":"Arun P Johny"},"score":0,"creation_date":1250056226,"post_id":1264140,"comment_id":1091946,"body_markdown":"What I mean is you can write your own appender.","body":"What I mean is you can write your own appender."},{"owner":{"account_id":4954279,"reputation":922,"user_id":3987353,"accept_rate":42,"display_name":"wax_lyrical"},"score":2,"creation_date":1502281592,"post_id":1264140,"comment_id":78140153,"body_markdown":"The user didn&#39;t ask about Log4J.","body":"The user didn&#39;t ask about Log4J."},{"owner":{"account_id":2268128,"reputation":71,"user_id":1996219,"accept_rate":25,"display_name":"Parivesh Jain"},"score":0,"creation_date":1576770675,"post_id":1264140,"comment_id":105013295,"body_markdown":"Yes it was issue with Log4j. i upgraded from 1.2.8 to 1.2.17.. and it got fixed. folders start getting created if not present and but obvious if thread has permission to update target folder.","body":"Yes it was issue with Log4j. i upgraded from 1.2.8 to 1.2.17.. and it got fixed. folders start getting created if not present and but obvious if thread has permission to update target folder."}],"tags":[],"owner":{"account_id":39580,"reputation":385624,"user_id":114251,"accept_rate":87,"display_name":"Arun P Johny"},"comment_count":4,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1462443509,"creation_date":1250049314,"answer_id":1264140,"question_id":1263876,"body_markdown":"It seems like log4j version 1.2.15 does it.\r\n\r\nHere is the snippet of the code which does it\r\n\r\n    public\r\n     synchronized\r\n     void setFile(String fileName, boolean append, boolean bufferedIO, int bufferSize)\r\n                                                            throws IOException {\r\n        LogLog.debug(&quot;setFile called: &quot;+fileName+&quot;, &quot;+append);\r\n\r\n        // It does not make sense to have immediate flush and bufferedIO.\r\n        if(bufferedIO) {\r\n          setImmediateFlush(false);\r\n        }\r\n\r\n        reset();\r\n        FileOutputStream ostream = null;\r\n        try {\r\n              //\r\n              //   attempt to create file\r\n              //\r\n              ostream = new FileOutputStream(fileName, append);\r\n        } catch(FileNotFoundException ex) {\r\n              //\r\n              //   if parent directory does not exist then\r\n              //      attempt to create it and try to create file\r\n              //      see bug 9150\r\n              //\r\n              String parentName = new File(fileName).getParent();\r\n              if (parentName != null) {\r\n                 File parentDir = new File(parentName);\r\n                 if(!parentDir.exists() &amp;&amp; parentDir.mkdirs()) {\r\n                    ostream = new FileOutputStream(fileName, append);\r\n                 } else {\r\n                    throw ex;\r\n                 }\r\n              } else {\r\n                 throw ex;\r\n              }\r\n        }\r\n        Writer fw = createWriter(ostream);\r\n        if(bufferedIO) {\r\n          fw = new BufferedWriter(fw, bufferSize);\r\n        }\r\n        this.setQWForFiles(fw);\r\n        this.fileName = fileName;\r\n        this.fileAppend = append;\r\n        this.bufferedIO = bufferedIO;\r\n        this.bufferSize = bufferSize;\r\n        writeHeader();\r\n        LogLog.debug(&quot;setFile ended&quot;);\r\n    }\r\n\r\nThis piece of code is from FileAppender, RollingFileAppender extends FileAppender.\r\n\r\nHere it is not checking whether we have permission to create the parent folders, but if the parent folders is not existing then it will try to create the parent folders.\r\n\r\nEDITED\r\n\r\nIf you want some additional functionalily, you can always extend RollingFileAppender and override the setFile() method.","title":"Configuring Java FileHandler Logging to create directories if they do not exist","body":"<p>It seems like log4j version 1.2.15 does it.</p>\n\n<p>Here is the snippet of the code which does it</p>\n\n<pre><code>public\n synchronized\n void setFile(String fileName, boolean append, boolean bufferedIO, int bufferSize)\n                                                        throws IOException {\n    LogLog.debug(\"setFile called: \"+fileName+\", \"+append);\n\n    // It does not make sense to have immediate flush and bufferedIO.\n    if(bufferedIO) {\n      setImmediateFlush(false);\n    }\n\n    reset();\n    FileOutputStream ostream = null;\n    try {\n          //\n          //   attempt to create file\n          //\n          ostream = new FileOutputStream(fileName, append);\n    } catch(FileNotFoundException ex) {\n          //\n          //   if parent directory does not exist then\n          //      attempt to create it and try to create file\n          //      see bug 9150\n          //\n          String parentName = new File(fileName).getParent();\n          if (parentName != null) {\n             File parentDir = new File(parentName);\n             if(!parentDir.exists() &amp;&amp; parentDir.mkdirs()) {\n                ostream = new FileOutputStream(fileName, append);\n             } else {\n                throw ex;\n             }\n          } else {\n             throw ex;\n          }\n    }\n    Writer fw = createWriter(ostream);\n    if(bufferedIO) {\n      fw = new BufferedWriter(fw, bufferSize);\n    }\n    this.setQWForFiles(fw);\n    this.fileName = fileName;\n    this.fileAppend = append;\n    this.bufferedIO = bufferedIO;\n    this.bufferSize = bufferSize;\n    writeHeader();\n    LogLog.debug(\"setFile ended\");\n}\n</code></pre>\n\n<p>This piece of code is from FileAppender, RollingFileAppender extends FileAppender.</p>\n\n<p>Here it is not checking whether we have permission to create the parent folders, but if the parent folders is not existing then it will try to create the parent folders.</p>\n\n<p>EDITED</p>\n\n<p>If you want some additional functionalily, you can always extend RollingFileAppender and override the setFile() method.</p>\n"},{"comments":[{"owner":{"account_id":34674,"reputation":14769,"user_id":98050,"accept_rate":57,"display_name":"Dougnukem"},"score":0,"creation_date":1250056616,"post_id":1264410,"comment_id":1091968,"body_markdown":"I&#39;ll have to look into what I would have to do to create a custom Logging handler in the Java Logging framework, but I&#39;m willing to bet it&#39;s similar to the Log4j framework.","body":"I&#39;ll have to look into what I would have to do to create a custom Logging handler in the Java Logging framework, but I&#39;m willing to bet it&#39;s similar to the Log4j framework."}],"tags":[],"owner":{"account_id":39580,"reputation":385624,"user_id":114251,"accept_rate":87,"display_name":"Arun P Johny"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1250056375,"creation_date":1250056375,"answer_id":1264410,"question_id":1263876,"body_markdown":"You can write something like this.\r\n\r\n    package org.log;\r\n\r\n    import java.io.IOException;\r\n    import org.apache.log4j.RollingFileAppender;\r\n\r\n    public class MyRollingFileAppender extends RollingFileAppender {\r\n\r\n        @Override\r\n        public synchronized void setFile(String fileName, boolean append,\r\n\t\t\tboolean bufferedIO, int bufferSize) throws IOException {\r\n            //Your logic goes here\r\n            super.setFile(fileName, append, bufferedIO, bufferSize);\r\n        }\r\n\r\n    }\r\n\r\nThen in your configuration\r\n\r\n    log4j.appender.fileAppender=org.log.MyRollingFileAppender\r\n\r\nThis works perfectly for me.","title":"Configuring Java FileHandler Logging to create directories if they do not exist","body":"<p>You can write something like this.</p>\n\n<pre><code>package org.log;\n\nimport java.io.IOException;\nimport org.apache.log4j.RollingFileAppender;\n\npublic class MyRollingFileAppender extends RollingFileAppender {\n\n    @Override\n    public synchronized void setFile(String fileName, boolean append,\n        boolean bufferedIO, int bufferSize) throws IOException {\n        //Your logic goes here\n        super.setFile(fileName, append, bufferedIO, bufferSize);\n    }\n\n}\n</code></pre>\n\n<p>Then in your configuration</p>\n\n<pre><code>log4j.appender.fileAppender=org.log.MyRollingFileAppender\n</code></pre>\n\n<p>This works perfectly for me.</p>\n"},{"comments":[{"owner":{"account_id":39580,"reputation":385624,"user_id":114251,"accept_rate":87,"display_name":"Arun P Johny"},"score":0,"creation_date":1250058000,"post_id":1264414,"comment_id":1092020,"body_markdown":"Do you think this approach will all scenarios like logging in a web application. There we need a interceptor to be called before the logger is initialized.\n\nSince we can write our own logAppender I think that will be a better choice and it can solve most of the cases.","body":"Do you think this approach will all scenarios like logging in a web application. There we need a interceptor to be called before the logger is initialized.  Since we can write our own logAppender I think that will be a better choice and it can solve most of the cases."},{"owner":{"account_id":34674,"reputation":14769,"user_id":98050,"accept_rate":57,"display_name":"Dougnukem"},"score":0,"creation_date":1250090933,"post_id":1264414,"comment_id":1094655,"body_markdown":"I agree, I&#39;m going to do that in the Logging Framework and I&#39;ll append my answer.","body":"I agree, I&#39;m going to do that in the Logging Framework and I&#39;ll append my answer."},{"owner":{"account_id":34674,"reputation":14769,"user_id":98050,"accept_rate":57,"display_name":"Dougnukem"},"score":0,"creation_date":1250092300,"post_id":1264414,"comment_id":1094827,"body_markdown":"i just tried creating my own CustomFileHandler by copying the java.util.logging.FileHandler, there are a couple initial issues. You need to be in the java.util.logging.* package to access Manager .getStringProperty methods. So I tried creating a class with that package but at runtime there is a security exception when loading that class:\nCan&#39;t load log handler &quot;java.util.logging.CustomFileHandler&quot;\njava.lang.SecurityException: Prohibited package name: java.util.logging","body":"i just tried creating my own CustomFileHandler by copying the java.util.logging.FileHandler, there are a couple initial issues. You need to be in the java.util.logging.* package to access Manager .getStringProperty methods. So I tried creating a class with that package but at runtime there is a security exception when loading that class: Can&#39;t load log handler &quot;java.util.logging.CustomFileHandler&quot; java.lang.SecurityException: Prohibited package name: java.util.logging"},{"owner":{"account_id":39580,"reputation":385624,"user_id":114251,"accept_rate":87,"display_name":"Arun P Johny"},"score":1,"creation_date":1250096610,"post_id":1264414,"comment_id":1095282,"body_markdown":"Since log4j is using Apache License, Version 2.0, we can use the log4j classes and interfaces to create custom classes.\n\nI think it will easy to extend the existing log4j FileAppender than writing a new log handler. \n\nThe example I gave above extends the RollingFileAppender from log4j. In RollingFileAppender we have a method named setFile(), which creates the file to which it has to log. So you can override this method to get the desired result","body":"Since log4j is using Apache License, Version 2.0, we can use the log4j classes and interfaces to create custom classes.  I think it will easy to extend the existing log4j FileAppender than writing a new log handler.   The example I gave above extends the RollingFileAppender from log4j. In RollingFileAppender we have a method named setFile(), which creates the file to which it has to log. So you can override this method to get the desired result"},{"owner":{"account_id":39580,"reputation":385624,"user_id":114251,"accept_rate":87,"display_name":"Arun P Johny"},"score":1,"creation_date":1250096766,"post_id":1264414,"comment_id":1095304,"body_markdown":"Since you have the fileName in setFile(), which is the absolute path for the file, you can check whether the file/parent directories exists here. If not either you can create the parent directories or throw a appropriate error message as you like.","body":"Since you have the fileName in setFile(), which is the absolute path for the file, you can check whether the file/parent directories exists here. If not either you can create the parent directories or throw a appropriate error message as you like."},{"owner":{"account_id":39580,"reputation":385624,"user_id":114251,"accept_rate":87,"display_name":"Arun P Johny"},"score":0,"creation_date":1250097643,"post_id":1264414,"comment_id":1095400,"body_markdown":"I do not advise anybody to write a new logger since there are lot of matured libraries available. We should concentrate on our key focus area and other supporting tools can be availed from other providers if available. If not able to find something which suites 100% then try to customize available tools if the licence permits.","body":"I do not advise anybody to write a new logger since there are lot of matured libraries available. We should concentrate on our key focus area and other supporting tools can be availed from other providers if available. If not able to find something which suites 100% then try to customize available tools if the licence permits."}],"tags":[],"owner":{"account_id":34674,"reputation":14769,"user_id":98050,"accept_rate":57,"display_name":"Dougnukem"},"comment_count":6,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1701318784,"creation_date":1250056456,"answer_id":1264414,"question_id":1263876,"body_markdown":"To work around the limitations of the Java Logging framework, and the unresolved bug: [JDK-6244047 : impossible to specify directories to logging FileHandler unless they exist][1].\r\n\r\nI&#39;ve come up with 2 approaches (although only the first approach will actually work), both require your `static void main()` method for your app to initialize the logging system.\r\n\r\ne.g.\r\n\r\n```lang-java\r\npublic static void main(String[] args) {\t\r\n    initLogging();\r\n    ...\r\n}\r\n```\r\n\r\nThe first approach hard-codes the log directories you expect to exist and creates them if they don&#39;t exist.\r\n\r\n```lang-java\r\nprivate static void initLogging() {\r\n    try {\r\n        //Create logging.properties specified directory for logging in home directory\r\n        //TODO: If they ever fix this bug (https://bugs.java.com/bugdatabase/view_bug?bug_id=6244047) in the Java Logging API we wouldn&#39;t need this hack\r\n        File homeLoggingDir = new File (System.getProperty(&quot;user.home&quot;)+&quot;/webwars-logs/weblings-gameplatform/&quot;);\r\n        if (!homeLoggingDir.exists() ) {\r\n            homeLoggingDir.mkdirs();\r\n            logger.info(&quot;Creating missing logging directory: &quot; + homeLoggingDir);\r\n        }\r\n    } catch(Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n    \r\n    try {\r\n        logger.info(&quot;[GamePlatform] : Starting...&quot;);\r\n    } catch (Exception exc) {\r\n        exc.printStackTrace();\r\n\r\n    }\r\n}\r\n```\r\n\r\nThe second approach could catch the `IOException` and create the directories listed in the exception, the problem with this approach is that the logging framework has already failed to create the FileHandler so catching and resolving the error still leaves the logging system in a bad state.\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug?bug_id=6244047","title":"Configuring Java FileHandler Logging to create directories if they do not exist","body":"<p>To work around the limitations of the Java Logging framework, and the unresolved bug: <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6244047\" rel=\"nofollow noreferrer\">JDK-6244047 : impossible to specify directories to logging FileHandler unless they exist</a>.</p>\n<p>I've come up with 2 approaches (although only the first approach will actually work), both require your <code>static void main()</code> method for your app to initialize the logging system.</p>\n<p>e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {    \n    initLogging();\n    ...\n}\n</code></pre>\n<p>The first approach hard-codes the log directories you expect to exist and creates them if they don't exist.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void initLogging() {\n    try {\n        //Create logging.properties specified directory for logging in home directory\n        //TODO: If they ever fix this bug (https://bugs.java.com/bugdatabase/view_bug?bug_id=6244047) in the Java Logging API we wouldn't need this hack\n        File homeLoggingDir = new File (System.getProperty(&quot;user.home&quot;)+&quot;/webwars-logs/weblings-gameplatform/&quot;);\n        if (!homeLoggingDir.exists() ) {\n            homeLoggingDir.mkdirs();\n            logger.info(&quot;Creating missing logging directory: &quot; + homeLoggingDir);\n        }\n    } catch(Exception e) {\n        e.printStackTrace();\n    }\n    \n    try {\n        logger.info(&quot;[GamePlatform] : Starting...&quot;);\n    } catch (Exception exc) {\n        exc.printStackTrace();\n\n    }\n}\n</code></pre>\n<p>The second approach could catch the <code>IOException</code> and create the directories listed in the exception, the problem with this approach is that the logging framework has already failed to create the FileHandler so catching and resolving the error still leaves the logging system in a bad state.</p>\n"},{"tags":[],"owner":{"account_id":34674,"reputation":14769,"user_id":98050,"accept_rate":57,"display_name":"Dougnukem"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1250114514,"creation_date":1250114514,"answer_id":1268980,"question_id":1263876,"body_markdown":"As a possible solution I think there are 2 approaches (look at some of the previous answers). I can extend a Java Logging Handler class and write my own custom handler. I could also copy the log4j functionality and adapt it to the Java Logging framework. \r\n\r\nHere&#39;s an example of copying the basic FileHandler and creating a CustomFileHandler see [pastebin for full class][1]:\r\n\r\nThe key is the openFiles() method where it tries to create a FileOutputStream and checking and creating the parent directory if it doesn&#39;t exist (I also had to copy package protected LogManager methods, why did they even make those package protected anyways):\r\n\r\n    // Private method to open the set of output files, based on the\r\n    // configured instance variables.\r\n    private void openFiles() throws IOException {\r\n        LogManager manager = LogManager.getLogManager();\r\n...\r\n\r\n        // Create a lock file. This grants us exclusive access\r\n        // to our set of output files, as long as we are alive.\r\n        int unique = -1;\r\n        for (;;) {\r\n            unique++;\r\n            if (unique &gt; MAX_LOCKS) {\r\n                throw new IOException(&quot;Couldn&#39;t get lock for &quot; + pattern);\r\n            }\r\n            // Generate a lock file name from the &quot;unique&quot; int.\r\n            lockFileName = generate(pattern, 0, unique).toString() + &quot;.lck&quot;;\r\n            // Now try to lock that filename.\r\n            // Because some systems (e.g. Solaris) can only do file locks\r\n            // between processes (and not within a process), we first check\r\n            // if we ourself already have the file locked.\r\n            synchronized (locks) {\r\n                if (locks.get(lockFileName) != null) {\r\n                    // We already own this lock, for a different FileHandler\r\n                    // object. Try again.\r\n                    continue;\r\n                }\r\n                FileChannel fc;\r\n                try {\r\n                    File lockFile = new File(lockFileName);\r\n                    if (lockFile.getParent() != null) {\r\n                        File lockParentDir = new File(lockFile.getParent());\r\n                        // create the log dir if it does not exist\r\n                        if (!lockParentDir.exists()) {\r\n                            lockParentDir.mkdirs();\r\n                        }\r\n                    }\r\n\r\n                    lockStream = new FileOutputStream(lockFileName);\r\n                    fc = lockStream.getChannel();\r\n                } catch (IOException ix) {\r\n                    // We got an IOException while trying to open the file.\r\n                    // Try the next file.\r\n                    continue;\r\n                }\r\n                try {\r\n                    FileLock fl = fc.tryLock();\r\n                    if (fl == null) {\r\n                        // We failed to get the lock. Try next file.\r\n                        continue;\r\n                    }\r\n                    // We got the lock OK.\r\n                } catch (IOException ix) {\r\n                    // We got an IOException while trying to get the lock.\r\n                    // This normally indicates that locking is not supported\r\n                    // on the target directory. We have to proceed without\r\n                    // getting a lock. Drop through.\r\n                }\r\n                // We got the lock. Remember it.\r\n                locks.put(lockFileName, lockFileName);\r\n                break;\r\n            }\r\n        }\r\n...\r\n    }\r\n\r\n\r\n  [1]: http://pastebin.com/f5987de1","title":"Configuring Java FileHandler Logging to create directories if they do not exist","body":"<p>As a possible solution I think there are 2 approaches (look at some of the previous answers). I can extend a Java Logging Handler class and write my own custom handler. I could also copy the log4j functionality and adapt it to the Java Logging framework. </p>\n\n<p>Here's an example of copying the basic FileHandler and creating a CustomFileHandler see <a href=\"http://pastebin.com/f5987de1\" rel=\"nofollow noreferrer\">pastebin for full class</a>:</p>\n\n<p>The key is the openFiles() method where it tries to create a FileOutputStream and checking and creating the parent directory if it doesn't exist (I also had to copy package protected LogManager methods, why did they even make those package protected anyways):</p>\n\n<pre><code>// Private method to open the set of output files, based on the\n// configured instance variables.\nprivate void openFiles() throws IOException {\n    LogManager manager = LogManager.getLogManager();\n</code></pre>\n\n<p>...</p>\n\n<pre><code>    // Create a lock file. This grants us exclusive access\n    // to our set of output files, as long as we are alive.\n    int unique = -1;\n    for (;;) {\n        unique++;\n        if (unique &gt; MAX_LOCKS) {\n            throw new IOException(\"Couldn't get lock for \" + pattern);\n        }\n        // Generate a lock file name from the \"unique\" int.\n        lockFileName = generate(pattern, 0, unique).toString() + \".lck\";\n        // Now try to lock that filename.\n        // Because some systems (e.g. Solaris) can only do file locks\n        // between processes (and not within a process), we first check\n        // if we ourself already have the file locked.\n        synchronized (locks) {\n            if (locks.get(lockFileName) != null) {\n                // We already own this lock, for a different FileHandler\n                // object. Try again.\n                continue;\n            }\n            FileChannel fc;\n            try {\n                File lockFile = new File(lockFileName);\n                if (lockFile.getParent() != null) {\n                    File lockParentDir = new File(lockFile.getParent());\n                    // create the log dir if it does not exist\n                    if (!lockParentDir.exists()) {\n                        lockParentDir.mkdirs();\n                    }\n                }\n\n                lockStream = new FileOutputStream(lockFileName);\n                fc = lockStream.getChannel();\n            } catch (IOException ix) {\n                // We got an IOException while trying to open the file.\n                // Try the next file.\n                continue;\n            }\n            try {\n                FileLock fl = fc.tryLock();\n                if (fl == null) {\n                    // We failed to get the lock. Try next file.\n                    continue;\n                }\n                // We got the lock OK.\n            } catch (IOException ix) {\n                // We got an IOException while trying to get the lock.\n                // This normally indicates that locking is not supported\n                // on the target directory. We have to proceed without\n                // getting a lock. Drop through.\n            }\n            // We got the lock. Remember it.\n            locks.put(lockFileName, lockFileName);\n            break;\n        }\n    }\n</code></pre>\n\n<p>...\n    }</p>\n"},{"tags":[],"owner":{"account_id":2502802,"reputation":11,"user_id":2177433,"display_name":"Gryphie"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1363451044,"creation_date":1363451044,"answer_id":15451629,"question_id":1263876,"body_markdown":"I generally try to avoid static code but to work around this limitaton here is my approach that worked on my project just now.\r\n\r\nI subclassed java.util.logging.FileHandler and implemented all constructors with their super calls. I put a static block of code in the class that creates the folders for my app in the user.home folder if they don&#39;t exist.\r\n\r\nIn my logging properties file I replaced java.util.logging.FileHandler with my new class.","title":"Configuring Java FileHandler Logging to create directories if they do not exist","body":"<p>I generally try to avoid static code but to work around this limitaton here is my approach that worked on my project just now.</p>\n\n<p>I subclassed java.util.logging.FileHandler and implemented all constructors with their super calls. I put a static block of code in the class that creates the folders for my app in the user.home folder if they don't exist.</p>\n\n<p>In my logging properties file I replaced java.util.logging.FileHandler with my new class.</p>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701318918,"creation_date":1701318918,"answer_id":77575921,"question_id":1263876,"body_markdown":"The bug ([JDK-6244047 : impossible to specify directories to logging FileHandler unless they exist](https://bugs.java.com/bugdatabase/view_bug?bug_id=6244047)) is listed as having been fixed in Java 8.  Updating the version of Java to 8 or later should remove the need to work around this issue.","title":"Configuring Java FileHandler Logging to create directories if they do not exist","body":"<p>The bug (<a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6244047\" rel=\"nofollow noreferrer\">JDK-6244047 : impossible to specify directories to logging FileHandler unless they exist</a>) is listed as having been fixed in Java 8.  Updating the version of Java to 8 or later should remove the need to work around this issue.</p>\n"}],"owner":{"account_id":34674,"reputation":14769,"user_id":98050,"accept_rate":57,"display_name":"Dougnukem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50618,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":6,"score":14,"last_activity_date":1701318918,"creation_date":1250042363,"question_id":1263876,"body_markdown":"I&#39;m trying to configure the [Java Logging][1] API&#39;s [FileHandler][2] to log my server to a file within a folder in my home directory, but I don&#39;t want to have to create those directories on every machine it&#39;s running.\r\n\r\nFor example in the logging.properties file I specify:\r\n\r\n    java.util.logging.FileHandler\r\n    java.util.logging.FileHandler.pattern=%h/app-logs/MyApplication/MyApplication_%u-%g.log\r\n\r\nThis would allow me to collect logs in my home directory (%h) for MyApplication and would rotate them (using the %u, and %g variables).\r\n\r\nLog4j supports this when I specify in my log4j.properties:\r\n\r\n    log4j.appender.rolling.File=${user.home}/app-logs/MyApplication-log4j/MyApplication.log\r\n\r\n\r\nIt looks like there is a bug against the Logging FileHandler:\r\n[Bug 6244047: impossible to specify driectorys to logging FileHandler unless they exist][3]\r\n\r\nIt sounds like they don&#39;t plan on fixing it or exposing any properties to work around the issue (beyond having your application parse the logging.properties or hard code the path needed):\r\n\r\n&gt; It looks like the\r\n&gt; java.util.logging.FileHandler does not\r\n&gt; expect that the specified directory\r\n&gt; may not exist. Normally, it has to\r\n&gt; check this condition anyway. Also, it\r\n&gt; has to check the directory writing\r\n&gt; permissions as well. Another question\r\n&gt; is what to do if one of these check\r\n&gt; does not pass.\r\n&gt; \r\n&gt; One possibility is to create the\r\n&gt; missing directories in the path if the\r\n&gt; user has proper permissions. Another\r\n&gt; is to throw an IOException with a\r\n&gt; clear message what is wrong. The\r\n&gt; latter approach looks more consistent.\r\n\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/guide/util/logging/overview.html\r\n  [2]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/logging/FileHandler.html\r\n  [3]: https://bugs.java.com/bugdatabase/view_bug?bug_id=6244047","title":"Configuring Java FileHandler Logging to create directories if they do not exist","body":"<p>I'm trying to configure the <a href=\"http://java.sun.com/j2se/1.4.2/docs/guide/util/logging/overview.html\" rel=\"nofollow noreferrer\">Java Logging</a> API's <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/logging/FileHandler.html\" rel=\"nofollow noreferrer\">FileHandler</a> to log my server to a file within a folder in my home directory, but I don't want to have to create those directories on every machine it's running.</p>\n<p>For example in the logging.properties file I specify:</p>\n<pre><code>java.util.logging.FileHandler\njava.util.logging.FileHandler.pattern=%h/app-logs/MyApplication/MyApplication_%u-%g.log\n</code></pre>\n<p>This would allow me to collect logs in my home directory (%h) for MyApplication and would rotate them (using the %u, and %g variables).</p>\n<p>Log4j supports this when I specify in my log4j.properties:</p>\n<pre><code>log4j.appender.rolling.File=${user.home}/app-logs/MyApplication-log4j/MyApplication.log\n</code></pre>\n<p>It looks like there is a bug against the Logging FileHandler:\n<a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6244047\" rel=\"nofollow noreferrer\">Bug 6244047: impossible to specify driectorys to logging FileHandler unless they exist</a></p>\n<p>It sounds like they don't plan on fixing it or exposing any properties to work around the issue (beyond having your application parse the logging.properties or hard code the path needed):</p>\n<blockquote>\n<p>It looks like the\njava.util.logging.FileHandler does not\nexpect that the specified directory\nmay not exist. Normally, it has to\ncheck this condition anyway. Also, it\nhas to check the directory writing\npermissions as well. Another question\nis what to do if one of these check\ndoes not pass.</p>\n<p>One possibility is to create the\nmissing directories in the path if the\nuser has proper permissions. Another\nis to throw an IOException with a\nclear message what is wrong. The\nlatter approach looks more consistent.</p>\n</blockquote>\n"},{"tags":["java","android"],"owner":{"account_id":30027142,"reputation":1,"user_id":23011040,"display_name":"Marouane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701318667,"creation_date":1701309801,"question_id":77575462,"body_markdown":"hi everyone I have this problem and i don&#39;t know how i can fix it .\r\nI build an app android and this part of code it is ok when try it. But if I open another app or turn off the screen, or if the app runs in the background on the device, it crashes in Android versions 31, 32, and 33 only. However, it works fine in other lower versions.\r\n```\r\n  private Runnable iniciarFlash = new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            if(flash_activo){\r\n                flash_activo=!flash_activo;\r\n                manejadorFlash();\r\n                h.postDelayed(this,INTERMITENCIA_ACTIVA);\r\n            }\r\n            else {\r\n                try {\r\n                    flash_activo=!flash_activo;\r\n                    detenerFlash();\r\n                    h.postDelayed(this,INTERMITENCIA_ACTIVA);\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n    };\r\n\r\n\r\n    public void manejadorFlash() {\r\n        try {\r\n            camera = Camera.open();\r\n            Camera.Parameters parameters = camera.getParameters();\r\n            parameters.setFlashMode(getFlashOnParameter() );\r\n            camera.setPreviewTexture(new SurfaceTexture(0));\r\n            camera.setParameters(parameters);\r\n            camera.startPreview();\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;camara error!: &quot;+e);\r\n        }\r\n    }\r\n\r\n\r\n    //un coso que saque de internet para que funcione en varias camaras\r\n    private String getFlashOnParameter() {\r\n        List&lt;String&gt; flashModes = camera.getParameters().getSupportedFlashModes();\r\n\r\n        if (flashModes.contains(FLASH_MODE_TORCH)) {\r\n            return FLASH_MODE_TORCH;\r\n        } else if (flashModes.contains(FLASH_MODE_ON)) {\r\n            return FLASH_MODE_ON;\r\n        } else if (flashModes.contains(FLASH_MODE_AUTO)) {\r\n            return FLASH_MODE_AUTO;\r\n        }\r\n        throw new RuntimeException();\r\n    }\r\n\r\n    private void detenerFlash() throws CameraAccessException {\r\n        if(camera != null ) {\r\n            camera.stopPreview();\r\n            camera.setPreviewCallback(null);\r\n            camera.release();\r\n            camera = null;\r\n        }\r\n    }\r\n```\r\nI tried to invoke the flashlight alone without invoking the camera, but I failed.\r\n\r\n```\r\npublic void manejadorFlash() {\r\n   try {\r\n       camera = Camera.open();\r\n       Camera.Parameters parameters = camera.getParameters();\r\n       parameters.setFlashMode(getFlashOnParameter() );\r\n       camera.setPreviewTexture(new SurfaceTexture(0));\r\n       camera.setParameters(parameters);\r\n       camera.startPreview();\r\n   } catch (IOException e) {\r\n       System.out.println(&quot;camara error!: &quot;+e);\r\n   }\r\n}    \r\n```","title":"how i can open camera and flash in android 31, 32, 33 when screen off or open another app","body":"<p>hi everyone I have this problem and i don't know how i can fix it .\nI build an app android and this part of code it is ok when try it. But if I open another app or turn off the screen, or if the app runs in the background on the device, it crashes in Android versions 31, 32, and 33 only. However, it works fine in other lower versions.</p>\n<pre><code>  private Runnable iniciarFlash = new Runnable() {\n        @Override\n        public void run() {\n            if(flash_activo){\n                flash_activo=!flash_activo;\n                manejadorFlash();\n                h.postDelayed(this,INTERMITENCIA_ACTIVA);\n            }\n            else {\n                try {\n                    flash_activo=!flash_activo;\n                    detenerFlash();\n                    h.postDelayed(this,INTERMITENCIA_ACTIVA);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n\n            }\n\n        }\n    };\n\n\n    public void manejadorFlash() {\n        try {\n            camera = Camera.open();\n            Camera.Parameters parameters = camera.getParameters();\n            parameters.setFlashMode(getFlashOnParameter() );\n            camera.setPreviewTexture(new SurfaceTexture(0));\n            camera.setParameters(parameters);\n            camera.startPreview();\n        } catch (IOException e) {\n            System.out.println(&quot;camara error!: &quot;+e);\n        }\n    }\n\n\n    //un coso que saque de internet para que funcione en varias camaras\n    private String getFlashOnParameter() {\n        List&lt;String&gt; flashModes = camera.getParameters().getSupportedFlashModes();\n\n        if (flashModes.contains(FLASH_MODE_TORCH)) {\n            return FLASH_MODE_TORCH;\n        } else if (flashModes.contains(FLASH_MODE_ON)) {\n            return FLASH_MODE_ON;\n        } else if (flashModes.contains(FLASH_MODE_AUTO)) {\n            return FLASH_MODE_AUTO;\n        }\n        throw new RuntimeException();\n    }\n\n    private void detenerFlash() throws CameraAccessException {\n        if(camera != null ) {\n            camera.stopPreview();\n            camera.setPreviewCallback(null);\n            camera.release();\n            camera = null;\n        }\n    }\n</code></pre>\n<p>I tried to invoke the flashlight alone without invoking the camera, but I failed.</p>\n<pre><code>public void manejadorFlash() {\n   try {\n       camera = Camera.open();\n       Camera.Parameters parameters = camera.getParameters();\n       parameters.setFlashMode(getFlashOnParameter() );\n       camera.setPreviewTexture(new SurfaceTexture(0));\n       camera.setParameters(parameters);\n       camera.startPreview();\n   } catch (IOException e) {\n       System.out.println(&quot;camara error!: &quot;+e);\n   }\n}    \n</code></pre>\n"},{"tags":["java","bufferedimage"],"comments":[{"owner":{"account_id":6077505,"reputation":8407,"user_id":4744359,"display_name":"UninformedUser"},"score":0,"creation_date":1558357785,"post_id":56221649,"comment_id":99063772,"body_markdown":"not sure if your method will be more efficient for a single image, but you should at least think also about loading multiple images in parallel - it&#39;s pretty simple in Java","body":"not sure if your method will be more efficient for a single image, but you should at least think also about loading multiple images in parallel - it&#39;s pretty simple in Java"},{"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"score":0,"creation_date":1558357906,"post_id":56221649,"comment_id":99063846,"body_markdown":"true, my app is multithreaded but this part is not so I should at least do that","body":"true, my app is multithreaded but this part is not so I should at least do that"},{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1558359317,"post_id":56221649,"comment_id":99064680,"body_markdown":"What in particular are you doing with the `BufferedImage`?","body":"What in particular are you doing with the <code>BufferedImage</code>?"},{"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"score":0,"creation_date":1558360614,"post_id":56221649,"comment_id":99065472,"body_markdown":"That&#39;s a lot of code, most of which is likely not relevant for the question. Broadly speaking, there are two steps: 1. Reading the data and 2. creating the BufferedImage. I&#39;m pretty sure that the first one will always be the bottleneck, so why bother about the `BufferedImage` part? Beyond that, why are you not just using `ImageIO.read(..., inputData)` (where `inputData` is either the original URL input stream, or a `ByteArrayInputStream` of the data that was read)?","body":"That&#39;s a lot of code, most of which is likely not relevant for the question. Broadly speaking, there are two steps: 1. Reading the data and 2. creating the BufferedImage. I&#39;m pretty sure that the first one will always be the bottleneck, so why bother about the <code>BufferedImage</code> part? Beyond that, why are you not just using <code>ImageIO.read(..., inputData)</code> (where <code>inputData</code> is either the original URL input stream, or a <code>ByteArrayInputStream</code> of the data that was read)?"},{"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"score":0,"creation_date":1558360772,"post_id":56221649,"comment_id":99065562,"body_markdown":"Actually BufferdImage creation also takes some cpu resource but I dont know why im not using ImageIO.read() I think there was some issues reading some times of images and so I then started iterating around readers but maybe no longer neccessary.","body":"Actually BufferdImage creation also takes some cpu resource but I dont know why im not using ImageIO.read() I think there was some issues reading some times of images and so I then started iterating around readers but maybe no longer neccessary."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1558362020,"post_id":56221649,"comment_id":99066297,"body_markdown":"I would definitely pass the URL directly to [ImageIO.read](https://docs.oracle.com/en/java/javase/12/docs/api/java.desktop/javax/imageio/ImageIO.html#read%28java.net.URL%29).  If that fails with a particular image, please ask a new question Stack Overflow about it;  I would be interested in seeing any such images.","body":"I would definitely pass the URL directly to <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.desktop/javax/imageio/ImageIO.html#read%28java.net.URL%29\" rel=\"nofollow noreferrer\">ImageIO.read</a>.  If that fails with a particular image, please ask a new question Stack Overflow about it;  I would be interested in seeing any such images."},{"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"score":1,"creation_date":1558363134,"post_id":56221649,"comment_id":99066925,"body_markdown":"@Marco13 I remember the issue now, if I use the direct ImageIO.url then I dont have the access to the original bytes so when I go to save the image to db I get only the version created by ImageIo rather than the original image","body":"@Marco13 I remember the issue now, if I use the direct ImageIO.url then I dont have the access to the original bytes so when I go to save the image to db I get only the version created by ImageIo rather than the original image"},{"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"score":0,"creation_date":1558363402,"post_id":56221649,"comment_id":99067092,"body_markdown":"I see. Then you could still read the image data into a `byte array[]` in one step (then save it to the DB), and then decode this data using `ImageIO.read( ... new ByteArrayInputStream(array))`.","body":"I see. Then you could still read the image data into a <code>byte array[]</code> in one step (then save it to the DB), and then decode this data using <code>ImageIO.read( ... new ByteArrayInputStream(array))</code>."},{"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"score":0,"creation_date":1558363650,"post_id":56221649,"comment_id":99067227,"body_markdown":"True, I will try it out","body":"True, I will try it out"},{"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"score":0,"creation_date":1558365267,"post_id":56221649,"comment_id":99068220,"body_markdown":"Multithreading made quite a difference, using ImageIO.read( ... new ByteArrayInputStream(array)) didn&#39;t , however gave no errors either and i alwasy prefer simpler code if possible so will migrate to  just use that.","body":"Multithreading made quite a difference, using ImageIO.read( ... new ByteArrayInputStream(array)) didn&#39;t , however gave no errors either and i alwasy prefer simpler code if possible so will migrate to  just use that."},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":1,"creation_date":1558441804,"post_id":56221649,"comment_id":99095375,"body_markdown":"I&#39;m quite confident you don&#39;t need the synchronization part (and if you did, synchronizing on your class wouldn&#39;t work if other code didn&#39;t). Also, creating an `ImageInputStream` from a `ByteArrayInputStream` will create temp file for caching by default (same when using `ImageIO.read(..)` as @Marco13 suggested). You can disable this by setting `ImageIO.setUseCache(false)`. Better yet, use a [`ByteArrayImageInputStream`](https://github.com/haraldk/TwelveMonkeys/blob/master/imageio/imageio-core/src/main/java/com/twelvemonkeys/imageio/stream/ByteArrayImageInputStream.java) directly.","body":"I&#39;m quite confident you don&#39;t need the synchronization part (and if you did, synchronizing on your class wouldn&#39;t work if other code didn&#39;t). Also, creating an <code>ImageInputStream</code> from a <code>ByteArrayInputStream</code> will create temp file for caching by default (same when using <code>ImageIO.read(..)</code> as @Marco13 suggested). You can disable this by setting <code>ImageIO.setUseCache(false)</code>. Better yet, use a <a href=\"https://github.com/haraldk/TwelveMonkeys/blob/master/imageio/imageio-core/src/main/java/com/twelvemonkeys/imageio/stream/ByteArrayImageInputStream.java\" rel=\"nofollow noreferrer\"><code>ByteArrayImageInputStream</code></a> directly."}],"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701318471,"creation_date":1558357629,"question_id":56221649,"body_markdown":"I am revisiting some old code, this downloads an image from a URL then creates a `BufferedImage` using a reader. Because my application is now downloading more images this code is becoming more significant.  Can this be done in a more efficent way?\r\n\r\n```lang-java\r\npublic static byte[] convertUrlToByteArray(URL url) throws IOException\r\n{\r\n    //Get imagedata, we want to ensure we just write the data as is as long as in a supported format\r\n    URLConnection connection = url.openConnection();\r\n    connection.setConnectTimeout(URL_TIMEOUT);\r\n    connection.setReadTimeout(URL_TIMEOUT);\r\n\r\n    //Do this because some services like Discogs reject calls if not from known user-agent, we pretend we are using\r\n    //firefox,\r\n    //TODO perhaps should be more sophisticated and select from a random list of browser user agents\r\n    connection.setRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.4; en-US; rv:1.9.2.2) Gecko/20100316 Firefox/3.6.2&quot;);\r\n\r\n    // Since you get a URLConnection, use it to get the InputStream\r\n    InputStream in = connection.getInputStream();\r\n    // Now that the InputStream is open, get the content length\r\n    int contentLength = connection.getContentLength();\r\n    // To avoid having to resize the array over and over and over as\r\n    // bytes are written to the array, provide an accurate estimate of\r\n    // the ultimate size of the byte array\r\n    ByteArrayOutputStream tmpOut;\r\n    if (contentLength != -1)\r\n    {\r\n        tmpOut = new ByteArrayOutputStream(contentLength);\r\n    }\r\n    else\r\n    {\r\n        tmpOut = new ByteArrayOutputStream(16384); // Pick some appropriate size\r\n    }\r\n\r\n    byte[] buf = new byte[1024];\r\n    while (true)\r\n    {\r\n        int len = in.read(buf);\r\n        if (len == -1)\r\n        {\r\n            break;\r\n        }\r\n        tmpOut.write(buf, 0, len);\r\n    }\r\n    in.close();\r\n    tmpOut.close(); // No effect, but good to do anyway to keep the metaphor alive\r\n    return tmpOut.toByteArray();\r\n}\r\n\r\npublic static BufferedImage createBufferedImageFromRawData(byte[] imageData, String logDescriptor)\r\n{\r\n    if (imageData.length &gt; MAX_IMAGE_SIZE)\r\n    {\r\n        Logger.getLogger(&quot;com.jthink.songlayer.CoverImage&quot;).severe(&quot;ImageSizeTooLargeToProcess:&quot;+logDescriptor);\r\n        return null;\r\n    }\r\n\r\n    BufferedImage bi = null;\r\n    ImageInputStream stream = null;\r\n    ByteArrayInputStream bais = null;\r\n    try\r\n    {\r\n        ImageReader ir;\r\n        bais = new ByteArrayInputStream(imageData);\r\n        stream = ImageIO.createImageInputStream(bais);\r\n        Iterator&lt;ImageReader&gt; i = ImageIO.getImageReaders(stream);\r\n\r\n        //Try each reader until we get one that could create an Image\r\n        while (i.hasNext())\r\n        {\r\n            ir = i.next();\r\n            bi = createBufferedImageUsingReader(stream, logDescriptor, ir);\r\n            if (bi != null)\r\n            {\r\n                break;\r\n            }\r\n\r\n            //Close the old Stream\r\n            try\r\n            {\r\n                stream.close();\r\n                bais.close();\r\n            }\r\n            catch (IOException ioe)\r\n            {\r\n                ioe.printStackTrace();\r\n            }\r\n\r\n            //Recreate stream to avoid flushing problem\r\n            bais = new ByteArrayInputStream(imageData);\r\n            stream = ImageIO.createImageInputStream(bais);\r\n        }\r\n    }\r\n    catch (IOException ex)\r\n    {\r\n        Logger.getLogger(&quot;com.jthink.songlayer.CoverImage&quot;).log(Level.SEVERE,&quot;IOException reading image:&quot;+logDescriptor+&quot;:&quot;+ex.getMessage(),ex);\r\n    }\r\n    catch (OutOfMemoryError ome)\r\n    {\r\n        Logger.getLogger(&quot;com.jthink.songlayer.CoverImage&quot;).log(Level.SEVERE,&quot;OutOfMemoryException reading image:&quot;+logDescriptor+&quot;:&quot;+ome.getMessage(),ome);\r\n        System.runFinalization();\r\n    }\r\n    catch (RuntimeException re)\r\n    {\r\n        Logger.getLogger(&quot;com.jthink.songlayer.CoverImage&quot;).log(Level.SEVERE,&quot;RuntimeException reading image:&quot;+logDescriptor, re);\r\n    }\r\n    catch(Exception exe)\r\n    {\r\n        Logger.getLogger(&quot;com.jthink.songlayer.CoverImage&quot;).log(Level.SEVERE,&quot;Exception reading image:&quot;+logDescriptor+&quot;:&quot;+exe.getMessage(),exe);\r\n        System.runFinalization();\r\n    }\r\n    finally\r\n    {\r\n        try\r\n        {\r\n            stream.close();\r\n            bais.close();\r\n        }\r\n        catch (IOException ioe)\r\n        {\r\n            ioe.printStackTrace();\r\n        }\r\n    }\r\n    return bi;\r\n}\r\n\r\npublic static BufferedImage createBufferedImageUsingReader(ImageInputStream stream, String logDescriptor, ImageReader ir)\r\n{\r\n    BufferedImage bi = null;\r\n    try\r\n    {\r\n        ir.setInput(stream);\r\n        ImageReadParam param = ir.getDefaultReadParam();\r\n\r\n        Iterator&lt;ImageTypeSpecifier&gt; it;\r\n\r\n        // Synchronized because ImageReader seems to come from a singleton and the call to ir.getImageTypes()\r\n        // can throw ConcurrentModificationException because could have two threads both accessing the same image readers\r\n        // image types\r\n        synchronized(CoverImage.class)\r\n        {\r\n            it = ir.getImageTypes(0);\r\n        }\r\n        //Used to loop round all ImageTypeSpecifier but to set Color Space as RGB\r\n        //But set destination type to RGB this only works before Java 6 build 15\r\n        //if the first colour space is RGB, it fails if have gray space image which supports both colour and gray\r\n        //But has gray as the first colour space.\r\n        //So for now only check the first one as this seems to be the one that gets used.\r\n        if (it.hasNext())\r\n        {\r\n            ImageTypeSpecifier type = it.next();\r\n            ColorSpace cs = type.getColorModel().getColorSpace();\r\n\r\n            if (cs.isCS_sRGB())\r\n            {\r\n                param.setDestinationType(type);\r\n            }\r\n        }\r\n        bi = ir.read(0, param);\r\n        ir.dispose();\r\n    }\r\n    catch (IOException ex)\r\n    {\r\n        Logger.getLogger(&quot;com.jthink.songlayer.CoverImage&quot;).log(Level.SEVERE,&quot;IOException reading image:&quot;+logDescriptor,ex);\r\n\r\n    }\r\n    catch (IllegalArgumentException iae)\r\n    {\r\n        Logger.getLogger(&quot;com.jthink.songlayer.CoverImage&quot;).log(Level.SEVERE,&quot;IllegalArgumentException reading image:&quot;+logDescriptor, iae);\r\n    }\r\n    catch (OutOfMemoryError ome)\r\n    {\r\n        Logger.getLogger(&quot;com.jthink.songlayer.CoverImage&quot;).log(Level.SEVERE,&quot;OutOfMemoryException reading image:&quot;+logDescriptor+&quot;:&quot;+ome.getMessage(),ome);\r\n        System.runFinalization();\r\n    }\r\n    catch (RuntimeException re)\r\n    {\r\n        Logger.getLogger(&quot;com.jthink.songlayer.CoverImage&quot;).log(Level.SEVERE,&quot;RuntimeException reading image:&quot;+logDescriptor, re);\r\n    }\r\n    catch (Exception exe)\r\n    {\r\n        Logger.getLogger(&quot;com.jthink.songlayer.CoverImage&quot;).log(Level.SEVERE,&quot;Exception reading image:&quot;+logDescriptor, exe);\r\n    }\r\n    finally\r\n    {\r\n        //See https://bugs.java.com/bugdatabase/view_bug?bug_id=6687968 &amp; https://bugs.java.com/bugdatabase/view_bug?bug_id=4797189\r\n        //TODO RunFinalization has to create a thread, massively increasing thread count so although the above SUN\r\n        //bugs are still open we don&#39;t really want to call this every time we create a BufferedImage from Reader\r\n        System.runFinalization();\r\n    }\r\n    return bi;\r\n}\r\n```","title":"Is this the most efficient way to create a BuffreredImage from image data in Java","body":"<p>I am revisiting some old code, this downloads an image from a URL then creates a <code>BufferedImage</code> using a reader. Because my application is now downloading more images this code is becoming more significant.  Can this be done in a more efficent way?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static byte[] convertUrlToByteArray(URL url) throws IOException\n{\n    //Get imagedata, we want to ensure we just write the data as is as long as in a supported format\n    URLConnection connection = url.openConnection();\n    connection.setConnectTimeout(URL_TIMEOUT);\n    connection.setReadTimeout(URL_TIMEOUT);\n\n    //Do this because some services like Discogs reject calls if not from known user-agent, we pretend we are using\n    //firefox,\n    //TODO perhaps should be more sophisticated and select from a random list of browser user agents\n    connection.setRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.4; en-US; rv:1.9.2.2) Gecko/20100316 Firefox/3.6.2&quot;);\n\n    // Since you get a URLConnection, use it to get the InputStream\n    InputStream in = connection.getInputStream();\n    // Now that the InputStream is open, get the content length\n    int contentLength = connection.getContentLength();\n    // To avoid having to resize the array over and over and over as\n    // bytes are written to the array, provide an accurate estimate of\n    // the ultimate size of the byte array\n    ByteArrayOutputStream tmpOut;\n    if (contentLength != -1)\n    {\n        tmpOut = new ByteArrayOutputStream(contentLength);\n    }\n    else\n    {\n        tmpOut = new ByteArrayOutputStream(16384); // Pick some appropriate size\n    }\n\n    byte[] buf = new byte[1024];\n    while (true)\n    {\n        int len = in.read(buf);\n        if (len == -1)\n        {\n            break;\n        }\n        tmpOut.write(buf, 0, len);\n    }\n    in.close();\n    tmpOut.close(); // No effect, but good to do anyway to keep the metaphor alive\n    return tmpOut.toByteArray();\n}\n\npublic static BufferedImage createBufferedImageFromRawData(byte[] imageData, String logDescriptor)\n{\n    if (imageData.length &gt; MAX_IMAGE_SIZE)\n    {\n        Logger.getLogger(&quot;com.jthink.songlayer.CoverImage&quot;).severe(&quot;ImageSizeTooLargeToProcess:&quot;+logDescriptor);\n        return null;\n    }\n\n    BufferedImage bi = null;\n    ImageInputStream stream = null;\n    ByteArrayInputStream bais = null;\n    try\n    {\n        ImageReader ir;\n        bais = new ByteArrayInputStream(imageData);\n        stream = ImageIO.createImageInputStream(bais);\n        Iterator&lt;ImageReader&gt; i = ImageIO.getImageReaders(stream);\n\n        //Try each reader until we get one that could create an Image\n        while (i.hasNext())\n        {\n            ir = i.next();\n            bi = createBufferedImageUsingReader(stream, logDescriptor, ir);\n            if (bi != null)\n            {\n                break;\n            }\n\n            //Close the old Stream\n            try\n            {\n                stream.close();\n                bais.close();\n            }\n            catch (IOException ioe)\n            {\n                ioe.printStackTrace();\n            }\n\n            //Recreate stream to avoid flushing problem\n            bais = new ByteArrayInputStream(imageData);\n            stream = ImageIO.createImageInputStream(bais);\n        }\n    }\n    catch (IOException ex)\n    {\n        Logger.getLogger(&quot;com.jthink.songlayer.CoverImage&quot;).log(Level.SEVERE,&quot;IOException reading image:&quot;+logDescriptor+&quot;:&quot;+ex.getMessage(),ex);\n    }\n    catch (OutOfMemoryError ome)\n    {\n        Logger.getLogger(&quot;com.jthink.songlayer.CoverImage&quot;).log(Level.SEVERE,&quot;OutOfMemoryException reading image:&quot;+logDescriptor+&quot;:&quot;+ome.getMessage(),ome);\n        System.runFinalization();\n    }\n    catch (RuntimeException re)\n    {\n        Logger.getLogger(&quot;com.jthink.songlayer.CoverImage&quot;).log(Level.SEVERE,&quot;RuntimeException reading image:&quot;+logDescriptor, re);\n    }\n    catch(Exception exe)\n    {\n        Logger.getLogger(&quot;com.jthink.songlayer.CoverImage&quot;).log(Level.SEVERE,&quot;Exception reading image:&quot;+logDescriptor+&quot;:&quot;+exe.getMessage(),exe);\n        System.runFinalization();\n    }\n    finally\n    {\n        try\n        {\n            stream.close();\n            bais.close();\n        }\n        catch (IOException ioe)\n        {\n            ioe.printStackTrace();\n        }\n    }\n    return bi;\n}\n\npublic static BufferedImage createBufferedImageUsingReader(ImageInputStream stream, String logDescriptor, ImageReader ir)\n{\n    BufferedImage bi = null;\n    try\n    {\n        ir.setInput(stream);\n        ImageReadParam param = ir.getDefaultReadParam();\n\n        Iterator&lt;ImageTypeSpecifier&gt; it;\n\n        // Synchronized because ImageReader seems to come from a singleton and the call to ir.getImageTypes()\n        // can throw ConcurrentModificationException because could have two threads both accessing the same image readers\n        // image types\n        synchronized(CoverImage.class)\n        {\n            it = ir.getImageTypes(0);\n        }\n        //Used to loop round all ImageTypeSpecifier but to set Color Space as RGB\n        //But set destination type to RGB this only works before Java 6 build 15\n        //if the first colour space is RGB, it fails if have gray space image which supports both colour and gray\n        //But has gray as the first colour space.\n        //So for now only check the first one as this seems to be the one that gets used.\n        if (it.hasNext())\n        {\n            ImageTypeSpecifier type = it.next();\n            ColorSpace cs = type.getColorModel().getColorSpace();\n\n            if (cs.isCS_sRGB())\n            {\n                param.setDestinationType(type);\n            }\n        }\n        bi = ir.read(0, param);\n        ir.dispose();\n    }\n    catch (IOException ex)\n    {\n        Logger.getLogger(&quot;com.jthink.songlayer.CoverImage&quot;).log(Level.SEVERE,&quot;IOException reading image:&quot;+logDescriptor,ex);\n\n    }\n    catch (IllegalArgumentException iae)\n    {\n        Logger.getLogger(&quot;com.jthink.songlayer.CoverImage&quot;).log(Level.SEVERE,&quot;IllegalArgumentException reading image:&quot;+logDescriptor, iae);\n    }\n    catch (OutOfMemoryError ome)\n    {\n        Logger.getLogger(&quot;com.jthink.songlayer.CoverImage&quot;).log(Level.SEVERE,&quot;OutOfMemoryException reading image:&quot;+logDescriptor+&quot;:&quot;+ome.getMessage(),ome);\n        System.runFinalization();\n    }\n    catch (RuntimeException re)\n    {\n        Logger.getLogger(&quot;com.jthink.songlayer.CoverImage&quot;).log(Level.SEVERE,&quot;RuntimeException reading image:&quot;+logDescriptor, re);\n    }\n    catch (Exception exe)\n    {\n        Logger.getLogger(&quot;com.jthink.songlayer.CoverImage&quot;).log(Level.SEVERE,&quot;Exception reading image:&quot;+logDescriptor, exe);\n    }\n    finally\n    {\n        //See https://bugs.java.com/bugdatabase/view_bug?bug_id=6687968 &amp; https://bugs.java.com/bugdatabase/view_bug?bug_id=4797189\n        //TODO RunFinalization has to create a thread, massively increasing thread count so although the above SUN\n        //bugs are still open we don't really want to call this every time we create a BufferedImage from Reader\n        System.runFinalization();\n    }\n    return bi;\n}\n</code></pre>\n"},{"tags":["java","algorithm","conventions","selection-sort","branch-prediction"],"comments":[{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1701315217,"post_id":77575713,"comment_id":136761467,"body_markdown":"`minx=minx;` could (and hopefully should) optimize away to nothing, same as if there was no `else` branch.  But perhaps the different code is enough to get the JVM to JIT-compile to different machine code.  Possibly branchy vs. branchless (like x86 `cmov` or AArch64 `csel`).","body":"<code>minx=minx;</code> could (and hopefully should) optimize away to nothing, same as if there was no <code>else</code> branch.  But perhaps the different code is enough to get the JVM to JIT-compile to different machine code.  Possibly branchy vs. branchless (like x86 <code>cmov</code> or AArch64 <code>csel</code>)."},{"owner":{"account_id":22202966,"reputation":11,"user_id":16443329,"display_name":"Ooh Ben"},"score":0,"creation_date":1701315307,"post_id":77575713,"comment_id":136761474,"body_markdown":"That&#39;s what I would think to do but it doesn&#39;t having the minx=minx; makes it faster, having and empty else and no else are the same speed. That&#39;s what confuses me.","body":"That&#39;s what I would think to do but it doesn&#39;t having the minx=minx; makes it faster, having and empty else and no else are the same speed. That&#39;s what confuses me."},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1701315589,"post_id":77575713,"comment_id":136761495,"body_markdown":"Ok, empty else being the same as no else makes sense; that might be removed even during `javac` compilation to bytecode.  Oh, your timing doesn&#39;t include any warm-up, so it includes runs where the JVM is just interpreting the bytecode before deciding to make fully optimized asm based on profiling data it gathered from those runs.  The `=` is probably there in the bytecode.  Normally you&#39;d use JMH or something to only time optimized asm, since that&#39;s what long-running Java programs spend most of their time doing. [How do I write a correct micro-benchmark in Java?](//stackoverflow.com/q/504103)","body":"Ok, empty else being the same as no else makes sense; that might be removed even during <code>javac</code> compilation to bytecode.  Oh, your timing doesn&#39;t include any warm-up, so it includes runs where the JVM is just interpreting the bytecode before deciding to make fully optimized asm based on profiling data it gathered from those runs.  The <code>=</code> is probably there in the bytecode.  Normally you&#39;d use JMH or something to only time optimized asm, since that&#39;s what long-running Java programs spend most of their time doing. <a href=\"//stackoverflow.com/q/504103\">How do I write a correct micro-benchmark in Java?</a>"},{"owner":{"account_id":22202966,"reputation":11,"user_id":16443329,"display_name":"Ooh Ben"},"score":0,"creation_date":1701315759,"post_id":77575713,"comment_id":136761506,"body_markdown":"Thanks I am going to try that out I&#39;ll add the findings to the post in an edit. That could be the issue.","body":"Thanks I am going to try that out I&#39;ll add the findings to the post in an edit. That could be the issue."},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1701316021,"post_id":77575713,"comment_id":136761522,"body_markdown":"If you want to check whether the JIT compiler used an asm branch instruction vs. branchless, see [How to see JIT-compiled code in JVM?](https://stackoverflow.com/q/1503479) and look for x86 `cmovle` or similar.  Or just profile the JVM with Linux `perf stat` (which includes the events cycles, instructions, and branches + branch-misses, and calculates % of all executed branches that mispredicted).  Profiling the whole run of Java as a whole includes everything including the time it spends JIT compiling, not running your code, but a change in mispredict rate should be detectable.","body":"If you want to check whether the JIT compiler used an asm branch instruction vs. branchless, see <a href=\"https://stackoverflow.com/q/1503479\">How to see JIT-compiled code in JVM?</a> and look for x86 <code>cmovle</code> or similar.  Or just profile the JVM with Linux <code>perf stat</code> (which includes the events cycles, instructions, and branches + branch-misses, and calculates % of all executed branches that mispredicted).  Profiling the whole run of Java as a whole includes everything including the time it spends JIT compiling, not running your code, but a change in mispredict rate should be detectable."},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1701316185,"post_id":77575713,"comment_id":136761532,"body_markdown":"BTW, having a non-empty `else` doesn&#39;t make a branch harder to predict.  It can mean that another unconditional branch executes, though, so that could actually swing the mispredict *rate* without changing the total number of mispredict events.  See [How to write if-else in assembly?](https://stackoverflow.com/q/40602029) for the normal way to write a branchy if/else in asm.  Again, I&#39;d hope that `minx=minx;` should be optimized away by the JIT optimizer, although probably not by `javac`.","body":"BTW, having a non-empty <code>else</code> doesn&#39;t make a branch harder to predict.  It can mean that another unconditional branch executes, though, so that could actually swing the mispredict <i>rate</i> without changing the total number of mispredict events.  See <a href=\"https://stackoverflow.com/q/40602029\">How to write if-else in assembly?</a> for the normal way to write a branchy if/else in asm.  Again, I&#39;d hope that <code>minx=minx;</code> should be optimized away by the JIT optimizer, although probably not by <code>javac</code>."},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1701316772,"post_id":77575713,"comment_id":136761587,"body_markdown":"What model of x86 CPU do you have?  Is it Skylake-family, like Skylake through Comet Lake?  e.g. an i7-6700k .  Skylake-family has a microcode workaround for a CPU bug that makes it slower or not depending on the alignment of branches (not branch targets) in the machine code, see [32-byte aligned routine does not fit the uops cache](https://stackoverflow.com/a/61016915)  .  In optimized asm it&#39;s probably not a store-forwarding latency effect, but that&#39;s another CPU quirk to check on: [Adding a redundant assignment speeds up unoptimized code](https://stackoverflow.com/q/49189685)","body":"What model of x86 CPU do you have?  Is it Skylake-family, like Skylake through Comet Lake?  e.g. an i7-6700k .  Skylake-family has a microcode workaround for a CPU bug that makes it slower or not depending on the alignment of branches (not branch targets) in the machine code, see <a href=\"https://stackoverflow.com/a/61016915\">32-byte aligned routine does not fit the uops cache</a>  .  In optimized asm it&#39;s probably not a store-forwarding latency effect, but that&#39;s another CPU quirk to check on: <a href=\"https://stackoverflow.com/q/49189685\">Adding a redundant assignment speeds up unoptimized code</a>"},{"owner":{"account_id":22202966,"reputation":11,"user_id":16443329,"display_name":"Ooh Ben"},"score":1,"creation_date":1701316951,"post_id":77575713,"comment_id":136761607,"body_markdown":"I have an i7-11800H, Tiger Lake, tests are still running but it does seem it was a test issue. Regardless I&#39;ll be sure to look into the sources you game seems interesting.","body":"I have an i7-11800H, Tiger Lake, tests are still running but it does seem it was a test issue. Regardless I&#39;ll be sure to look into the sources you game seems interesting."}],"answers":[{"comments":[{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1701318102,"post_id":77575847,"comment_id":136761711,"body_markdown":"Ok good, that&#39;s the expected result.  Your test in the question *is* almost certainly measuring a real effect that&#39;s statistically significant, but only during the warm-up phase.  So real or not, it&#39;s probably not *interesting* except for people analyzing details of the JVM.  And no reason to expect it to occur in other programs with different surrounding code or different `if`/`else` bodies, or it could swing the other way and get lucky with the no-else version being faster.  It might or might not also be specific to Intel CPUs, or to Intel Ice/Tiger Lake CPUs.","body":"Ok good, that&#39;s the expected result.  Your test in the question <i>is</i> almost certainly measuring a real effect that&#39;s statistically significant, but only during the warm-up phase.  So real or not, it&#39;s probably not <i>interesting</i> except for people analyzing details of the JVM.  And no reason to expect it to occur in other programs with different surrounding code or different <code>if</code>/<code>else</code> bodies, or it could swing the other way and get lucky with the no-else version being faster.  It might or might not also be specific to Intel CPUs, or to Intel Ice/Tiger Lake CPUs."},{"owner":{"account_id":22202966,"reputation":11,"user_id":16443329,"display_name":"Ooh Ben"},"score":0,"creation_date":1701319004,"post_id":77575847,"comment_id":136761785,"body_markdown":"I&#39;ve been trying to understand the warm-up phase and what it means I get that it means where the compiler is finding hotspots, changing allocation resources and optimizing itself. But what I ask is let&#39;s say I run it with an array of 100mil len then I run a 5k len array. Would the 5k len array be sorted faster with the 100 mil len array warmup or 10 15k len array iterations. Or I am missing what the warm up phase is entirely.","body":"I&#39;ve been trying to understand the warm-up phase and what it means I get that it means where the compiler is finding hotspots, changing allocation resources and optimizing itself. But what I ask is let&#39;s say I run it with an array of 100mil len then I run a 5k len array. Would the 5k len array be sorted faster with the 100 mil len array warmup or 10 15k len array iterations. Or I am missing what the warm up phase is entirely."},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1701320178,"post_id":77575847,"comment_id":136761898,"body_markdown":"The JVM might decide to stop in the middle of the first array and generate optimized machine code (JIT compile) that function after the loop had been running for a long time, like multiple seconds.  I think normally it decides when to make an optimized version of a function as its being called, but most functions that take ages might only get called once in the life of a long-running program.  (And an O(N^2) sort on 100M elements would take a fair while.)  But yeah, the second call (for the 5k array) will definitely be running fully optimized machine code.","body":"The JVM might decide to stop in the middle of the first array and generate optimized machine code (JIT compile) that function after the loop had been running for a long time, like multiple seconds.  I think normally it decides when to make an optimized version of a function as its being called, but most functions that take ages might only get called once in the life of a long-running program.  (And an O(N^2) sort on 100M elements would take a fair while.)  But yeah, the second call (for the 5k array) will definitely be running fully optimized machine code."},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1701320481,"post_id":77575847,"comment_id":136761925,"body_markdown":"Some relevant articles: https://developers.redhat.com/articles/2021/06/23/how-jit-compiler-boosts-java-performance-openjdk#deoptimization_and_speculation / https://en.wikipedia.org/wiki/Just-in-time_compilation and a Q&amp;A [How does the JVM decided to JIT-compile a method (categorize a method as &quot;hot&quot;)?](https://stackoverflow.com/q/35601841) .  I&#39;ve just skimmed those things that came up high in my google search results, but they look reasonable (unlike a couple other hits that I skimmed which didn&#39;t look as useful.)  The current HotSpot JVM is the result of many years of development work.","body":"Some relevant articles: <a href=\"https://developers.redhat.com/articles/2021/06/23/how-jit-compiler-boosts-java-performance-openjdk#deoptimization_and_speculation\" rel=\"nofollow noreferrer\">developers.redhat.com/articles/2021/06/23/&hellip;</a> / <a href=\"https://en.wikipedia.org/wiki/Just-in-time_compilation\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Just-in-time_compilation</a> and a Q&amp;A <a href=\"https://stackoverflow.com/q/35601841\">How does the JVM decided to JIT-compile a method (categorize a method as &quot;hot&quot;)?</a> .  I&#39;ve just skimmed those things that came up high in my google search results, but they look reasonable (unlike a couple other hits that I skimmed which didn&#39;t look as useful.)  The current HotSpot JVM is the result of many years of development work."}],"tags":[],"owner":{"account_id":22202966,"reputation":11,"user_id":16443329,"display_name":"Ooh Ben"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701317672,"creation_date":1701317593,"answer_id":77575847,"question_id":77575713,"body_markdown":"The reason as [@PeterCordes](https://stackoverflow.com/users/224132/peter-cordes) said in the comments was a testing issue when using correct testing software like [JMH](https://github.com/openjdk/jmh) all the data points are very similar and definitely within my computer have more or less resources available or some other randomness-ish.\r\nHere are the results when using JMH:\r\n```\r\nCommented out else block\r\nMain.selectionSortBenchmark          100  avgt    5   0.003 &#177; 0.001  ms/op\r\nMain.selectionSortBenchmark         1000  avgt    5   0.266 &#177; 0.050  ms/op\r\nMain.selectionSortBenchmark        10000  avgt    5  19.087 &#177; 0.702  ms/op\r\nNot commented out else block\r\nMain.selectionSortBenchmark          100  avgt    5   0.003 &#177;  0.001  ms/op\r\nMain.selectionSortBenchmark         1000  avgt    5   0.234 &#177;  0.010  ms/op\r\nMain.selectionSortBenchmark        10000  avgt    5  18.468 &#177;  3.204  ms/op\r\nEmpty else block\r\nMain.selectionSortBenchmark          100  avgt    5   0.003 &#177;  0.001  ms/op\r\nMain.selectionSortBenchmark         1000  avgt    5   0.273 &#177;  0.005  ms/op\r\nMain.selectionSortBenchmark        10000  avgt    5  20.022 &#177;  2.740  ms/op\r\n```","title":"Use branch prediction with no else statement","body":"<p>The reason as <a href=\"https://stackoverflow.com/users/224132/peter-cordes\">@PeterCordes</a> said in the comments was a testing issue when using correct testing software like <a href=\"https://github.com/openjdk/jmh\" rel=\"nofollow noreferrer\">JMH</a> all the data points are very similar and definitely within my computer have more or less resources available or some other randomness-ish.\nHere are the results when using JMH:</p>\n<pre><code>Commented out else block\nMain.selectionSortBenchmark          100  avgt    5   0.003 ± 0.001  ms/op\nMain.selectionSortBenchmark         1000  avgt    5   0.266 ± 0.050  ms/op\nMain.selectionSortBenchmark        10000  avgt    5  19.087 ± 0.702  ms/op\nNot commented out else block\nMain.selectionSortBenchmark          100  avgt    5   0.003 ±  0.001  ms/op\nMain.selectionSortBenchmark         1000  avgt    5   0.234 ±  0.010  ms/op\nMain.selectionSortBenchmark        10000  avgt    5  18.468 ±  3.204  ms/op\nEmpty else block\nMain.selectionSortBenchmark          100  avgt    5   0.003 ±  0.001  ms/op\nMain.selectionSortBenchmark         1000  avgt    5   0.273 ±  0.005  ms/op\nMain.selectionSortBenchmark        10000  avgt    5  20.022 ±  2.740  ms/op\n</code></pre>\n"}],"owner":{"account_id":22202966,"reputation":11,"user_id":16443329,"display_name":"Ooh Ben"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77575847,"answer_count":1,"score":0,"last_activity_date":1701317747,"creation_date":1701315065,"question_id":77575713,"body_markdown":"I am currently implementing selectionsort. Using the code below and the driver file to test it below. I am currently trying to do micro optimizations to see what speeds it up. \r\n\r\n```java\r\n  public static void selectionsort(int[] data) {\r\n    for (int i = 0; i &lt; data.length; i++) {\r\n      int minx = i;  \r\n      for (int j = i+1; j &lt; data.length; j++) {\r\n          if(data[j] &lt; data[minx]){\r\n            minx = j;\r\n          }\r\n          // else{\r\n          //   minx=minx;\r\n          // }\r\n        }\r\n      int swap = data[minx]; \r\n      data[minx] = data[i]; \r\n      data[i] = swap; \r\n    }\r\n  }\r\n```\r\n```java\r\nimport java.util.Arrays;\r\nimport java.util.Random;\r\n\r\npublic class Driver {\r\n    public static void main(String[] args) {\r\n        Random r = new Random(12);\r\n        // CODE-BLOCK-A\r\n        // run selection sort version of tests\r\n        double avg = 0;\r\n        for (int i = 0; i &lt; 100; i++) {\r\n            long time = System.currentTimeMillis();\r\n        int[] sgarr = randIntArr(Integer.parseInt(args[0]),r);\r\n        int[] tests = Arrays.copyOf(sgarr, sgarr.length);\r\n        switch (args[1]) {\r\n            case &quot;selection&quot;:\r\n                Sorts.selectionsort(sgarr);\r\n                break;\r\n            case &quot;bubble&quot;:\r\n                Sorts.bubblesort(sgarr);\r\n            default:\r\n                Sorts.insertionsort(sgarr);\r\n                break;\r\n        }\r\n        Arrays.sort(tests);\r\n        if (!equals(tests, sgarr)) {\r\n            System.out.println(&quot;FAIL TO SORT!&quot;);\r\n            System.exit(0);\r\n        }\r\n        // System.out.println(&quot;SUCCESS!&quot;);\r\n    \r\n\r\n        long etime = System.currentTimeMillis();\r\n        avg += (etime-time);\r\n        }\r\n\r\n    System.out.println(&quot;Took &quot;+ avg / (100.0*1000.0) +&quot; seconds&quot;);\r\n\r\n    }\r\n\r\n    public static int[] randIntArr(int count,Random r) {\r\n        int seed = r.nextInt(12433);\r\n        r.setSeed(seed);\r\n        int[] arr = new int[count];\r\n        for (int i = 0; i &lt; count; i++) {\r\n            arr[i] = (int) (r.nextDouble() * 100000);\r\n        }\r\n        return arr;\r\n    }\r\n\r\n    public static boolean equals(int[] d1, int[] d2) {\r\n        if (d1.length != d2.length) {\r\n            return false;\r\n        }\r\n        for (int i = 0; i &lt; d2.length; i++) {\r\n            if (d1[i] != d2[i]) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\n\r\nWhat I have tried doing to speed it up is using  an else block that should do nothing. I expected this to slow it down as now it is checking an if statement every time like normal but also assigning minx to itself which should slow it down. But if I put an empty else statement the improvements go away.\r\n\r\nHowever when I run it using this command, when the else block is commented out I get:\r\n```\r\njavac Driver.java \r\n&amp;&amp; java Driver 40000 selection\r\nTook 0.34416 seconds\r\nHowever, when I uncomment out the else block and run the same command it gets noticeably faster\r\nTook 0.30086 seconds\r\n```\r\nMeaning for the best case scenarios on both it is about a 13.43% difference. \r\n\r\nI am assuming that this change is significant enough to not just be random considering I also ran each one multiple times. I then asked my CS teacher about it and he explained it is probably branch prediction. Which does make sense however what I wonder is if I get the same performance enhancements without an essentially useless else statement or if I can&#39;t what is considered better practice to keep or to remove it. Or is 13.43% significant, I don&#39;t believe it is due to my computer because I ran it many times and the values were within 3% of each time.\r\nThis being ran on x86, if that matters. \r\n\r\n___\r\nTested currently using this main file \r\n```java\r\npackage org.example;\r\n\r\n\r\n\r\nimport org.openjdk.jmh.annotations.*;\r\nimport org.openjdk.jmh.runner.Runner;\r\nimport org.openjdk.jmh.runner.RunnerException;\r\nimport org.openjdk.jmh.runner.options.Options;\r\nimport org.openjdk.jmh.runner.options.OptionsBuilder;\r\n\r\nimport java.util.concurrent.TimeUnit;\r\n\r\n@BenchmarkMode(Mode.AverageTime)\r\n@OutputTimeUnit(TimeUnit.MILLISECONDS)\r\n@State(Scope.Benchmark)\r\npublic class Main {\r\n\r\n    @Param({&quot;100&quot;, &quot;1000&quot;, &quot;10000&quot;}) // You can add more values for array sizes\r\n    private int arraySize;\r\n\r\n    private int[] randomArray;\r\n\r\n    @Setup(Level.Iteration)\r\n    public void setup() {\r\n        // Initialize the array with random data\r\n        randomArray = createRandomArray(arraySize);\r\n    }\r\n\r\n    @Benchmark\r\n    public void selectionSortBenchmark() {\r\n        Sorts.selectionsort(randomArray.clone());\r\n    }\r\n\r\n    private int[] createRandomArray(int size) {\r\n        int[] array = new int[size];\r\n        for (int i = 0; i &lt; size; i++) {\r\n            array[i] = (int) (Math.random() * 1000); // Adjust the range as needed\r\n        }\r\n        return array;\r\n    }\r\n\r\n    public static void main(String[] args) throws RunnerException {\r\n        Options opt = new OptionsBuilder()\r\n                .include(Main.class.getSimpleName())\r\n                .forks(1)\r\n                .warmupIterations(5)\r\n                .measurementIterations(5)\r\n                .build();\r\n\r\n        new Runner(opt).run();\r\n    }\r\n}\r\n```","title":"Use branch prediction with no else statement","body":"<p>I am currently implementing selectionsort. Using the code below and the driver file to test it below. I am currently trying to do micro optimizations to see what speeds it up.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public static void selectionsort(int[] data) {\n    for (int i = 0; i &lt; data.length; i++) {\n      int minx = i;  \n      for (int j = i+1; j &lt; data.length; j++) {\n          if(data[j] &lt; data[minx]){\n            minx = j;\n          }\n          // else{\n          //   minx=minx;\n          // }\n        }\n      int swap = data[minx]; \n      data[minx] = data[i]; \n      data[i] = swap; \n    }\n  }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.Random;\n\npublic class Driver {\n    public static void main(String[] args) {\n        Random r = new Random(12);\n        // CODE-BLOCK-A\n        // run selection sort version of tests\n        double avg = 0;\n        for (int i = 0; i &lt; 100; i++) {\n            long time = System.currentTimeMillis();\n        int[] sgarr = randIntArr(Integer.parseInt(args[0]),r);\n        int[] tests = Arrays.copyOf(sgarr, sgarr.length);\n        switch (args[1]) {\n            case &quot;selection&quot;:\n                Sorts.selectionsort(sgarr);\n                break;\n            case &quot;bubble&quot;:\n                Sorts.bubblesort(sgarr);\n            default:\n                Sorts.insertionsort(sgarr);\n                break;\n        }\n        Arrays.sort(tests);\n        if (!equals(tests, sgarr)) {\n            System.out.println(&quot;FAIL TO SORT!&quot;);\n            System.exit(0);\n        }\n        // System.out.println(&quot;SUCCESS!&quot;);\n    \n\n        long etime = System.currentTimeMillis();\n        avg += (etime-time);\n        }\n\n    System.out.println(&quot;Took &quot;+ avg / (100.0*1000.0) +&quot; seconds&quot;);\n\n    }\n\n    public static int[] randIntArr(int count,Random r) {\n        int seed = r.nextInt(12433);\n        r.setSeed(seed);\n        int[] arr = new int[count];\n        for (int i = 0; i &lt; count; i++) {\n            arr[i] = (int) (r.nextDouble() * 100000);\n        }\n        return arr;\n    }\n\n    public static boolean equals(int[] d1, int[] d2) {\n        if (d1.length != d2.length) {\n            return false;\n        }\n        for (int i = 0; i &lt; d2.length; i++) {\n            if (d1[i] != d2[i]) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n}\n</code></pre>\n<p>What I have tried doing to speed it up is using  an else block that should do nothing. I expected this to slow it down as now it is checking an if statement every time like normal but also assigning minx to itself which should slow it down. But if I put an empty else statement the improvements go away.</p>\n<p>However when I run it using this command, when the else block is commented out I get:</p>\n<pre><code>javac Driver.java \n&amp;&amp; java Driver 40000 selection\nTook 0.34416 seconds\nHowever, when I uncomment out the else block and run the same command it gets noticeably faster\nTook 0.30086 seconds\n</code></pre>\n<p>Meaning for the best case scenarios on both it is about a 13.43% difference.</p>\n<p>I am assuming that this change is significant enough to not just be random considering I also ran each one multiple times. I then asked my CS teacher about it and he explained it is probably branch prediction. Which does make sense however what I wonder is if I get the same performance enhancements without an essentially useless else statement or if I can't what is considered better practice to keep or to remove it. Or is 13.43% significant, I don't believe it is due to my computer because I ran it many times and the values were within 3% of each time.\nThis being ran on x86, if that matters.</p>\n<hr />\n<p>Tested currently using this main file</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\n\n\nimport org.openjdk.jmh.annotations.*;\nimport org.openjdk.jmh.runner.Runner;\nimport org.openjdk.jmh.runner.RunnerException;\nimport org.openjdk.jmh.runner.options.Options;\nimport org.openjdk.jmh.runner.options.OptionsBuilder;\n\nimport java.util.concurrent.TimeUnit;\n\n@BenchmarkMode(Mode.AverageTime)\n@OutputTimeUnit(TimeUnit.MILLISECONDS)\n@State(Scope.Benchmark)\npublic class Main {\n\n    @Param({&quot;100&quot;, &quot;1000&quot;, &quot;10000&quot;}) // You can add more values for array sizes\n    private int arraySize;\n\n    private int[] randomArray;\n\n    @Setup(Level.Iteration)\n    public void setup() {\n        // Initialize the array with random data\n        randomArray = createRandomArray(arraySize);\n    }\n\n    @Benchmark\n    public void selectionSortBenchmark() {\n        Sorts.selectionsort(randomArray.clone());\n    }\n\n    private int[] createRandomArray(int size) {\n        int[] array = new int[size];\n        for (int i = 0; i &lt; size; i++) {\n            array[i] = (int) (Math.random() * 1000); // Adjust the range as needed\n        }\n        return array;\n    }\n\n    public static void main(String[] args) throws RunnerException {\n        Options opt = new OptionsBuilder()\n                .include(Main.class.getSimpleName())\n                .forks(1)\n                .warmupIterations(5)\n                .measurementIterations(5)\n                .build();\n\n        new Runner(opt).run();\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","maven","jpa","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1698769138,"post_id":77397545,"comment_id":136446206,"body_markdown":"Are you sure framework auto detection is not disabled? Please share the [Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve) on GitHub.","body":"Are you sure framework auto detection is not disabled? Please share the <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a> on GitHub."}],"answers":[{"tags":[],"owner":{"account_id":4437031,"reputation":242,"user_id":3612610,"accept_rate":11,"display_name":"user3612610"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699437060,"creation_date":1699437060,"answer_id":77444442,"question_id":77397545,"body_markdown":"I have received the following information from Support. According to [IDEA-308710][1] IDEA no longer automatically creates JPA Facets and provides the corresponding functionality without them.\r\n\r\n\r\n  [1]: https://youtrack.jetbrains.com/issue/IDEA-308710/JPA-do-not-autoimport-facets-from-Maven-and-Gradle","title":"IntelliJ IDEA does not add JPA facet","body":"<p>I have received the following information from Support. According to <a href=\"https://youtrack.jetbrains.com/issue/IDEA-308710/JPA-do-not-autoimport-facets-from-Maven-and-Gradle\" rel=\"nofollow noreferrer\">IDEA-308710</a> IDEA no longer automatically creates JPA Facets and provides the corresponding functionality without them.</p>\n"},{"comments":[{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1700384289,"post_id":77509457,"comment_id":136646005,"body_markdown":"Cann you please provide some examples without links? They may be broken in future.","body":"Cann you please provide some examples without links? They may be broken in future."},{"owner":{"account_id":28949961,"reputation":11,"user_id":22175847,"display_name":"Drivers"},"score":0,"creation_date":1701316303,"post_id":77509457,"comment_id":136761544,"body_markdown":"I tried to add steps of what I did. I hope it helps.","body":"I tried to add steps of what I did. I hope it helps."}],"tags":[],"owner":{"account_id":28949961,"reputation":11,"user_id":22175847,"display_name":"Drivers"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1701316143,"creation_date":1700362771,"answer_id":77509457,"question_id":77397545,"body_markdown":"Now we have to add the JPA facets manually.\r\n\r\n**Edit**: According to the next tutorial, https://www.jetbrains.com/help/idea/adding-support-for-frameworks-and-technologies.html, following the steps: \r\n\r\n 1. Select the project folder with a click, and press Ctrl+Shift+A.\r\n 2. Then type &#39;Add Framework Support&#39;, this will open Add Framework Support Window\r\n 3. Select the necessary framework from the list. In my case was Groovy.\r\n 4. Once selected, click ok.\r\nThat worked for me. \r\n\r\nI hope this edit helps better.&#128547;&#128522;","title":"IntelliJ IDEA does not add JPA facet","body":"<p>Now we have to add the JPA facets manually.</p>\n<p><strong>Edit</strong>: According to the next tutorial, <a href=\"https://www.jetbrains.com/help/idea/adding-support-for-frameworks-and-technologies.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/adding-support-for-frameworks-and-technologies.html</a>, following the steps:</p>\n<ol>\n<li>Select the project folder with a click, and press Ctrl+Shift+A.</li>\n<li>Then type 'Add Framework Support', this will open Add Framework Support Window</li>\n<li>Select the necessary framework from the list. In my case was Groovy.</li>\n<li>Once selected, click ok.\nThat worked for me.</li>\n</ol>\n<p>I hope this edit helps better.😣😊</p>\n"}],"owner":{"account_id":4437031,"reputation":242,"user_id":3612610,"accept_rate":11,"display_name":"user3612610"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77444442,"answer_count":2,"score":0,"last_activity_date":1701316143,"creation_date":1698768797,"question_id":77397545,"body_markdown":"I have a maven project with JPA and Hibernate:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n    &lt;version&gt;3.1.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    &lt;version&gt;6.2.13.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-envers&lt;/artifactId&gt;\r\n    &lt;version&gt;6.2.13.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;!-- API for 2nd Level Cache --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-jcache&lt;/artifactId&gt;\r\n    &lt;version&gt;6.2.13.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nBut IntelliJ IDEA doesn&#39;t recognize it and also doesn&#39;t add the JPA facet to the project settings.\r\n\r\nYes, I can manually add the JPA facet to the project settings. However, this is stored in the .iml file, which should not be shared via VCS. ([share project settings](https://www.jetbrains.com/help/idea/configure-project-settings.html#list-of-ignored-files)). \r\n\r\nThe documentation ([Add framworks](https://www.jetbrains.com/help/idea/adding-support-for-frameworks-and-technologies.html)) also describes that facets should be added through Maven and not through project settings.\r\n\r\nWhat do I need to do to make IntelliJ IDEA automatically add the JPA facet? Are the dependencies not enough?\r\n\r\n**Update1: Info added**\r\n\r\nThe detection setting is enabled in the project:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/npDo5.png","title":"IntelliJ IDEA does not add JPA facet","body":"<p>I have a maven project with JPA and Hibernate:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n    &lt;version&gt;6.2.13.Final&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-envers&lt;/artifactId&gt;\n    &lt;version&gt;6.2.13.Final&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- API for 2nd Level Cache --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-jcache&lt;/artifactId&gt;\n    &lt;version&gt;6.2.13.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>But IntelliJ IDEA doesn't recognize it and also doesn't add the JPA facet to the project settings.</p>\n<p>Yes, I can manually add the JPA facet to the project settings. However, this is stored in the .iml file, which should not be shared via VCS. (<a href=\"https://www.jetbrains.com/help/idea/configure-project-settings.html#list-of-ignored-files\" rel=\"nofollow noreferrer\">share project settings</a>).</p>\n<p>The documentation (<a href=\"https://www.jetbrains.com/help/idea/adding-support-for-frameworks-and-technologies.html\" rel=\"nofollow noreferrer\">Add framworks</a>) also describes that facets should be added through Maven and not through project settings.</p>\n<p>What do I need to do to make IntelliJ IDEA automatically add the JPA facet? Are the dependencies not enough?</p>\n<p><strong>Update1: Info added</strong></p>\n<p>The detection setting is enabled in the project:\n<a href=\"https://i.stack.imgur.com/npDo5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/npDo5.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","json","date","calendar"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1701301827,"post_id":77574946,"comment_id":136760346,"body_markdown":"Hey ... you shouldn&#39;t been using `Calendar` in new code.  It is obsolete.","body":"Hey ... you shouldn&#39;t been using <code>Calendar</code> in new code.  It is obsolete."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701314886,"creation_date":1701308534,"answer_id":77575409,"question_id":77574946,"body_markdown":"## tl;dr\r\n\r\n    LocalDateTime\r\n    .parse( \r\n        &quot;2023-11-10 23:01:18.940&quot;\r\n        .replace( &quot; &quot; , &quot;T&quot; ) \r\n    )\r\n\r\n## Details\r\n\r\nNot enough information. Your input represents a date and a time of day but lacks the context of an offset or time zone. So you cannot parse directly as a `Calendar`. \r\n\r\nAlso, `Calendar` is a terribly flawed obsolete legacy class. \r\n\r\nParse your input as a [`LocalDateTime`][1] after replacing the SPACE in the middle with a `T` to comply with ISO 8601 standard. \r\n\r\n    LocalDateTime.parse( &quot;2023-11-10 23:01:18.940&quot;.replace( &quot; &quot; , &quot;T&quot; ) )\r\n\r\n&gt; I want a Simple Calendar Date of the format yyyy-MM-dd HH:mm:ss.SSS\r\n\r\nDate-time objects are not text. They do not have a format. \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDateTime.html","title":"Json Deserialization of string &quot;2023-11-10 23:01:18.940&quot; to calendar","body":"<h2>tl;dr</h2>\n<pre><code>LocalDateTime\n.parse( \n    &quot;2023-11-10 23:01:18.940&quot;\n    .replace( &quot; &quot; , &quot;T&quot; ) \n)\n</code></pre>\n<h2>Details</h2>\n<p>Not enough information. Your input represents a date and a time of day but lacks the context of an offset or time zone. So you cannot parse directly as a <code>Calendar</code>.</p>\n<p>Also, <code>Calendar</code> is a terribly flawed obsolete legacy class.</p>\n<p>Parse your input as a <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\"><code>LocalDateTime</code></a> after replacing the SPACE in the middle with a <code>T</code> to comply with ISO 8601 standard.</p>\n<pre><code>LocalDateTime.parse( &quot;2023-11-10 23:01:18.940&quot;.replace( &quot; &quot; , &quot;T&quot; ) )\n</code></pre>\n<blockquote>\n<p>I want a Simple Calendar Date of the format yyyy-MM-dd HH:mm:ss.SSS</p>\n</blockquote>\n<p>Date-time objects are not text. They do not have a format.</p>\n"},{"tags":[],"owner":{"account_id":13250674,"reputation":56,"user_id":9568260,"display_name":"Luca"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701313649,"creation_date":1701313649,"answer_id":77575647,"question_id":77574946,"body_markdown":"You should been using `LocalDateTime` property in code.\r\neg:\r\n```java\r\npublic static void main(String[] args) {\r\n        DateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;);\r\n        System.out.println(LocalDateTime.now().format(dateFormatter));\r\n    }\r\n```\r\noutput:  \r\n```\r\n2023-11-30 10:59:47.852\r\n```\r\nfinal:    \r\n\r\n```java\r\n@JsonProperty(&quot;systemDt&quot;)\r\n@JsonFormat(Pattern=&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;)\r\nprivate LocalDateTime responseDateTime;\r\n```","title":"Json Deserialization of string &quot;2023-11-10 23:01:18.940&quot; to calendar","body":"<p>You should been using <code>LocalDateTime</code> property in code.\neg:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n        DateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;);\n        System.out.println(LocalDateTime.now().format(dateFormatter));\n    }\n</code></pre>\n<p>output:</p>\n<pre><code>2023-11-30 10:59:47.852\n</code></pre>\n<p>final:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonProperty(&quot;systemDt&quot;)\n@JsonFormat(Pattern=&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;)\nprivate LocalDateTime responseDateTime;\n</code></pre>\n"}],"owner":{"account_id":1875033,"reputation":1104,"user_id":1696421,"accept_rate":53,"display_name":"fiddle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77575647,"answer_count":2,"score":0,"last_activity_date":1701314886,"creation_date":1701298971,"question_id":77574946,"body_markdown":"I am trying to deserialize json String date to Calendar and deserialization is working however it is not what i want.\r\n\r\n\r\n*Current Behaviour*\r\n\r\n    @JsonProperty(&quot;systemDt&quot;)\r\n    @JsonFormat(Pattern=&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;)\r\n    Calendar responseDateTime;\r\n\r\nDeserializes to `responseDateTime=java.util.GregorianCalendar[time=1141556400000,areFieldsSet=true,areAllFieldsSet=true,lenient=true,zone=sun.util.calendar.ZoneInfo[id=&quot;UTC&quot;.....`.\r\n\r\nI want a Simple Calendar Date of the format yyyy-MM-dd HH:mm:ss.SSS\r\n\r\n","title":"Json Deserialization of string &quot;2023-11-10 23:01:18.940&quot; to calendar","body":"<p>I am trying to deserialize json String date to Calendar and deserialization is working however it is not what i want.</p>\n<p><em>Current Behaviour</em></p>\n<pre><code>@JsonProperty(&quot;systemDt&quot;)\n@JsonFormat(Pattern=&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;)\nCalendar responseDateTime;\n</code></pre>\n<p>Deserializes to <code>responseDateTime=java.util.GregorianCalendar[time=1141556400000,areFieldsSet=true,areAllFieldsSet=true,lenient=true,zone=sun.util.calendar.ZoneInfo[id=&quot;UTC&quot;.....</code>.</p>\n<p>I want a Simple Calendar Date of the format yyyy-MM-dd HH:mm:ss.SSS</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1699907487,"post_id":77476279,"comment_id":136587417,"body_markdown":"Your common module ` &lt;artifactId&gt;common&lt;/artifactId&gt;` uses the spring-boot-maven-plugin which packages as a spring boot app which means you can not consume it as a usualy dependency... In common I doubt that you create a startable jar file which will be executed... so remove the spring boot maven-plugin from that module.... also build on plain command line... via `mvn clean verify` ...","body":"Your common module ` &lt;artifactId&gt;common&lt;/artifactId&gt;` uses the spring-boot-maven-plugin which packages as a spring boot app which means you can not consume it as a usualy dependency... In common I doubt that you create a startable jar file which will be executed... so remove the spring boot maven-plugin from that module.... also build on plain command line... via <code>mvn clean verify</code> ..."},{"owner":{"account_id":17705925,"reputation":43,"user_id":12854504,"display_name":"Hadi Rifaii"},"score":0,"creation_date":1699913036,"post_id":77476279,"comment_id":136588259,"body_markdown":"Thank you for your response. I attempted the suggested solution, but unfortunately, it did not work. Is there a specific approach I should follow? Currently, I am executing &#39;mvn clean install -DskipTests&#39; or &#39;mvn clean verify&#39; in the root project. Do I need to build the submodules separately beforehand?","body":"Thank you for your response. I attempted the suggested solution, but unfortunately, it did not work. Is there a specific approach I should follow? Currently, I am executing &#39;mvn clean install -DskipTests&#39; or &#39;mvn clean verify&#39; in the root project. Do I need to build the submodules separately beforehand?"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1699913159,"post_id":77476279,"comment_id":136588278,"body_markdown":"Can you put that on a github repo or alike...","body":"Can you put that on a github repo or alike..."},{"owner":{"account_id":17705925,"reputation":43,"user_id":12854504,"display_name":"Hadi Rifaii"},"score":0,"creation_date":1699970115,"post_id":77476279,"comment_id":136595263,"body_markdown":"I resolved the issue. The core of the lay in the project structure: the root project was configured as a child of org.springframework.boot, with the common module also being its subproject. This inadvertently led to the common module being treated as a Spring Boot project, which was not the intended setup since it&#39;s merely a dependency project. So, I removed the &#39;parent&#39; tag from the common module&#39;s configuration and this solved the problem","body":"I resolved the issue. The core of the lay in the project structure: the root project was configured as a child of org.springframework.boot, with the common module also being its subproject. This inadvertently led to the common module being treated as a Spring Boot project, which was not the intended setup since it&#39;s merely a dependency project. So, I removed the &#39;parent&#39; tag from the common module&#39;s configuration and this solved the problem"}],"answers":[{"tags":[],"owner":{"account_id":30027477,"reputation":1,"user_id":23011297,"display_name":"Sergio Tabares"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701314884,"creation_date":1701314884,"answer_id":77575702,"question_id":77476279,"body_markdown":"I am not sure, but if you are use this modules like a library project, you have to tell the build system to not try to build an executable jar for the these project (order_service and product_service). For this you must remove the following block from these modules(pom):\r\n\r\n    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nreference: https://spring.io/guides/gs/multi-module/","title":"Common Dependency Module Causing Main Class Not Found Error in Multi-Module Maven Project&quot;","body":"<p>I am not sure, but if you are use this modules like a library project, you have to tell the build system to not try to build an executable jar for the these project (order_service and product_service). For this you must remove the following block from these modules(pom):</p>\n<pre><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>reference: <a href=\"https://spring.io/guides/gs/multi-module/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/multi-module/</a></p>\n"}],"owner":{"account_id":17705925,"reputation":43,"user_id":12854504,"display_name":"Hadi Rifaii"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701314884,"creation_date":1699902539,"question_id":77476279,"body_markdown":"I am encountering an issue with a multi-module Maven project. When I run the application within IntelliJ IDEA, everything compiles and runs smoothly. However, when I attempt to build the project using the Maven wrapper from the terminal with the command ./mvnw clean install -DskipTests, I encounter a compilation error indicating that none of the classes included in the common module can be found. Here is a portion of the error output:\r\n\r\n[![project structure][1]][1]\r\n\r\n```\r\n[INFO] Reactor Summary for event_driven_design_eshop 0.0.1-SNAPSHOT:\r\n[INFO]\r\n[INFO] event_driven_design_eshop .......................... SUCCESS [  1.136 s]\r\n[INFO] api_gateway ........................................ SUCCESS [  2.227 s]\r\n[INFO] common ............................................. SUCCESS [  1.174 s]\r\n[INFO] eshop-core ......................................... SUCCESS [  0.173 s]\r\n[INFO] order_service ...................................... FAILURE [  0.708 s]\r\n[INFO] product_service .................................... SKIPPED\r\n[INFO] user-service ....................................... SKIPPED\r\n[INFO] payment-service .................................... SKIPPED\r\n[INFO] shipping-service ................................... SKIPPED\r\n[INFO] discovery_server ................................... SKIPPED\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  5.855 s\r\n[INFO] Finished at: 2023-11-13T19:32:08+01:00\r\n[INFO] ------------------------------------------------------------------------ \r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile (default-compile) on project order_service: Compilation failure: Compilation failure:\r\n[ERROR] /Users/jchaaban/IdeaProjects/event_driven_design_eshop/eshop_core/order_service/src/main/java/com/jchaaban/orders_service/handler/query/OrderFetchingHandler.java:[3,33] package com.jchaaban.common.query does not exist\r\n[ERROR] /Users/jchaaban/IdeaProjects/event_driven_design_eshop/eshop_core/order_service/src/main/java/com/jchaaban/orders_service/repository/OrderEntity.java:[3,33] package com.jchaaban.common.model does not exist\r\n[ERROR] /Users/jchaaban/IdeaProjects/event_driven_design_eshop/eshop_core/order_service/src/main/java/com/jchaaban/orders_service/handler/query/OrderFetchingHandler.java:[26,36] cannot find symbol\r\n....\r\n```\r\n\r\nso all the classes in the common modules are not found.\r\n\r\nAfter this, if I try to run the application in the IDE, I get an error stating that the main class of the first module\r\nin the list of the child modules of the eshop_module cannot be found.\r\n\r\nLet us say this is the list of modules in the eshop_module/pom.xml\r\n\r\n```\r\n    &lt;modules&gt;\r\n        &lt;module&gt;order_service&lt;/module&gt;\r\n        &lt;module&gt;product_service&lt;/module&gt;\r\n        &lt;module&gt;user_service&lt;/module&gt;\r\n        &lt;module&gt;payment_service&lt;/module&gt;\r\n        &lt;module&gt;shipping_service&lt;/module&gt;\r\n    &lt;/modules&gt; \r\n```\r\n\r\nAfter running the services in IntelliJ, the main class of order_service cannot be located.\r\nIf I rearrange the module order so that product_service is listed first, the same issue occurs\r\nfor the product_service main class.\r\n\r\nAs a temporary solution, I&#39;ve found that changing the root package name (in the service where I&#39;m encountering the issue,\r\nsuch as order_service) allows me to run the project in the IDE once more.\r\nHowever, if I subsequently attempt to run it with Maven in the terminal, the error resurfaces, necessitating the\r\nrepetition of the same process to restore functionality in IntelliJ.\r\n\r\nThis issue persists for each service depending on the common module.\r\n\r\nThis is the pom file of the root project:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.4&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\r\n    &lt;artifactId&gt;event_driven_design_eshop&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;name&gt;event_driven_design_eshop&lt;/name&gt;\r\n    &lt;description&gt;event_driven_design_eshop&lt;/description&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;api_gateway&lt;/module&gt;\r\n        &lt;module&gt;eshop_core&lt;/module&gt;\r\n        &lt;module&gt;discovery_server&lt;/module&gt;\r\n        &lt;module&gt;common&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nThis is the pom.xml file of the common module, which is a dependency of the eshop_core and therefore it will be a dependency of each submodule of eshop_core:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\r\n        &lt;artifactId&gt;event_driven_design_eshop&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;common&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;common&lt;/name&gt;\r\n    &lt;description&gt;common&lt;/description&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.axonframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;axon-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;4.9.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nThis is the pom file of eshop_core which is a child module of the root project and the parent of all other modules:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\r\n        &lt;artifactId&gt;event_driven_design_eshop&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;order_service&lt;/module&gt;\r\n        &lt;module&gt;product_service&lt;/module&gt;\r\n        &lt;module&gt;user_service&lt;/module&gt;\r\n        &lt;module&gt;payment_service&lt;/module&gt;\r\n        &lt;module&gt;shipping_service&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;artifactId&gt;eshop_core&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;eshop-core&lt;/name&gt;\r\n    &lt;description&gt;eshop-core&lt;/description&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;spring-cloud.version&gt;2022.0.4&lt;/spring-cloud.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.axonframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;axon-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;4.9.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n            &lt;version&gt;32.1.3-jre&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;version&gt;42.6.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\r\n            &lt;artifactId&gt;common&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\n&lt;/project&gt;\r\n```\r\nNow the child modules of the eshop_core, order_service:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;eshop_core&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;artifactId&gt;order_service&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;order_service&lt;/name&gt;\r\n\t&lt;description&gt;order_service&lt;/description&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hdrhistogram&lt;/groupId&gt;\r\n            &lt;artifactId&gt;HdrHistogram&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.12&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\npayment_service:\r\n\r\n```\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\r\n        &lt;artifactId&gt;eshop_core&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;payment_service&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;payment-service&lt;/name&gt;\r\n    &lt;description&gt;payment-service&lt;/description&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nproduct_service:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\r\n        &lt;artifactId&gt;eshop_core&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;product_service&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;product_service&lt;/name&gt;\r\n    &lt;description&gt;product_service&lt;/description&gt;\r\n\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nshipping_service:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\r\n        &lt;artifactId&gt;eshop_core&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;shipping_service&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;shipping-service&lt;/name&gt;\r\n    &lt;description&gt;shipping-service&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nuser_service:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\r\n        &lt;artifactId&gt;eshop_core&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;user_service&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;user-service&lt;/name&gt;\r\n    &lt;description&gt;user-service&lt;/description&gt;\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nIs there any specific reason for this error?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NFE9m.png","title":"Common Dependency Module Causing Main Class Not Found Error in Multi-Module Maven Project&quot;","body":"<p>I am encountering an issue with a multi-module Maven project. When I run the application within IntelliJ IDEA, everything compiles and runs smoothly. However, when I attempt to build the project using the Maven wrapper from the terminal with the command ./mvnw clean install -DskipTests, I encounter a compilation error indicating that none of the classes included in the common module can be found. Here is a portion of the error output:</p>\n<p><a href=\"https://i.stack.imgur.com/NFE9m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NFE9m.png\" alt=\"project structure\" /></a></p>\n<pre><code>[INFO] Reactor Summary for event_driven_design_eshop 0.0.1-SNAPSHOT:\n[INFO]\n[INFO] event_driven_design_eshop .......................... SUCCESS [  1.136 s]\n[INFO] api_gateway ........................................ SUCCESS [  2.227 s]\n[INFO] common ............................................. SUCCESS [  1.174 s]\n[INFO] eshop-core ......................................... SUCCESS [  0.173 s]\n[INFO] order_service ...................................... FAILURE [  0.708 s]\n[INFO] product_service .................................... SKIPPED\n[INFO] user-service ....................................... SKIPPED\n[INFO] payment-service .................................... SKIPPED\n[INFO] shipping-service ................................... SKIPPED\n[INFO] discovery_server ................................... SKIPPED\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  5.855 s\n[INFO] Finished at: 2023-11-13T19:32:08+01:00\n[INFO] ------------------------------------------------------------------------ \n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile (default-compile) on project order_service: Compilation failure: Compilation failure:\n[ERROR] /Users/jchaaban/IdeaProjects/event_driven_design_eshop/eshop_core/order_service/src/main/java/com/jchaaban/orders_service/handler/query/OrderFetchingHandler.java:[3,33] package com.jchaaban.common.query does not exist\n[ERROR] /Users/jchaaban/IdeaProjects/event_driven_design_eshop/eshop_core/order_service/src/main/java/com/jchaaban/orders_service/repository/OrderEntity.java:[3,33] package com.jchaaban.common.model does not exist\n[ERROR] /Users/jchaaban/IdeaProjects/event_driven_design_eshop/eshop_core/order_service/src/main/java/com/jchaaban/orders_service/handler/query/OrderFetchingHandler.java:[26,36] cannot find symbol\n....\n</code></pre>\n<p>so all the classes in the common modules are not found.</p>\n<p>After this, if I try to run the application in the IDE, I get an error stating that the main class of the first module\nin the list of the child modules of the eshop_module cannot be found.</p>\n<p>Let us say this is the list of modules in the eshop_module/pom.xml</p>\n<pre><code>    &lt;modules&gt;\n        &lt;module&gt;order_service&lt;/module&gt;\n        &lt;module&gt;product_service&lt;/module&gt;\n        &lt;module&gt;user_service&lt;/module&gt;\n        &lt;module&gt;payment_service&lt;/module&gt;\n        &lt;module&gt;shipping_service&lt;/module&gt;\n    &lt;/modules&gt; \n</code></pre>\n<p>After running the services in IntelliJ, the main class of order_service cannot be located.\nIf I rearrange the module order so that product_service is listed first, the same issue occurs\nfor the product_service main class.</p>\n<p>As a temporary solution, I've found that changing the root package name (in the service where I'm encountering the issue,\nsuch as order_service) allows me to run the project in the IDE once more.\nHowever, if I subsequently attempt to run it with Maven in the terminal, the error resurfaces, necessitating the\nrepetition of the same process to restore functionality in IntelliJ.</p>\n<p>This issue persists for each service depending on the common module.</p>\n<p>This is the pom file of the root project:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\n    &lt;artifactId&gt;event_driven_design_eshop&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;name&gt;event_driven_design_eshop&lt;/name&gt;\n    &lt;description&gt;event_driven_design_eshop&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;api_gateway&lt;/module&gt;\n        &lt;module&gt;eshop_core&lt;/module&gt;\n        &lt;module&gt;discovery_server&lt;/module&gt;\n        &lt;module&gt;common&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>This is the pom.xml file of the common module, which is a dependency of the eshop_core and therefore it will be a dependency of each submodule of eshop_core:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\n        &lt;artifactId&gt;event_driven_design_eshop&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;common&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;common&lt;/name&gt;\n    &lt;description&gt;common&lt;/description&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.axonframework&lt;/groupId&gt;\n            &lt;artifactId&gt;axon-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;4.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>This is the pom file of eshop_core which is a child module of the root project and the parent of all other modules:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\n        &lt;artifactId&gt;event_driven_design_eshop&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;order_service&lt;/module&gt;\n        &lt;module&gt;product_service&lt;/module&gt;\n        &lt;module&gt;user_service&lt;/module&gt;\n        &lt;module&gt;payment_service&lt;/module&gt;\n        &lt;module&gt;shipping_service&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;artifactId&gt;eshop_core&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;eshop-core&lt;/name&gt;\n    &lt;description&gt;eshop-core&lt;/description&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2022.0.4&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.axonframework&lt;/groupId&gt;\n            &lt;artifactId&gt;axon-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;4.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;32.1.3-jre&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.6.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\n            &lt;artifactId&gt;common&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n<p>Now the child modules of the eshop_core, order_service:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\n        &lt;artifactId&gt;eshop_core&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;order_service&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;order_service&lt;/name&gt;\n    &lt;description&gt;order_service&lt;/description&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hdrhistogram&lt;/groupId&gt;\n            &lt;artifactId&gt;HdrHistogram&lt;/artifactId&gt;\n            &lt;version&gt;2.1.12&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>payment_service:</p>\n<pre><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\n        &lt;artifactId&gt;eshop_core&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;payment_service&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;payment-service&lt;/name&gt;\n    &lt;description&gt;payment-service&lt;/description&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>product_service:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\n        &lt;artifactId&gt;eshop_core&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;product_service&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;product_service&lt;/name&gt;\n    &lt;description&gt;product_service&lt;/description&gt;\n\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>shipping_service:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\n        &lt;artifactId&gt;eshop_core&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;shipping_service&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;shipping-service&lt;/name&gt;\n    &lt;description&gt;shipping-service&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>user_service:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\n        &lt;artifactId&gt;eshop_core&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;user_service&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;user-service&lt;/name&gt;\n    &lt;description&gt;user-service&lt;/description&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Is there any specific reason for this error?</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":1,"creation_date":1463634990,"post_id":37314298,"comment_id":62149209,"body_markdown":"Similar discussion: https://community.oracle.com/thread/1156973?start=0&amp;tstart=0","body":"Similar discussion: <a href=\"https://community.oracle.com/thread/1156973?start=0&amp;tstart=0\" rel=\"nofollow noreferrer\">community.oracle.com/thread/1156973?start=0&amp;tstart=0</a>"},{"owner":{"account_id":8184169,"reputation":1173,"user_id":6160431,"accept_rate":93,"display_name":"Sanjit Kumar Mishra"},"score":0,"creation_date":1463651958,"post_id":37314298,"comment_id":62159281,"body_markdown":"Yes the link does contain what i want.","body":"Yes the link does contain what i want."}],"answers":[{"comments":[{"owner":{"account_id":8184169,"reputation":1173,"user_id":6160431,"accept_rate":93,"display_name":"Sanjit Kumar Mishra"},"score":1,"creation_date":1463651845,"post_id":37314396,"comment_id":62159206,"body_markdown":"Thanks for your answer, i found a better discussion on [Why does Stack extend Vector?](http://community.oracle.com/thread/1156973?start=0&amp;tstart=0)","body":"Thanks for your answer, i found a better discussion on <a href=\"http://community.oracle.com/thread/1156973?start=0&amp;tstart=0\" rel=\"nofollow noreferrer\">Why does Stack extend Vector?</a>"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1701314565,"creation_date":1463634919,"answer_id":37314396,"question_id":37314298,"body_markdown":"# Outmoded classes\r\n\r\nBoth `Stack` and `Vector` were included with the first release of Java. Java was rushed to market ahead of its time because of the Internet frenzy at that time. \r\n\r\nSome of the classes bundled with those earliest versions of Java, such as the date-time classes, were not well thought-out. They had not been subjected to peer review and public scrutiny as were later libraries such as some produced through the [*Java Community Process*][1] and through open-source projects and industry consortium projects.\r\n\r\n# Java Collections framework\r\n\r\nThe [Java Collections framework](https://en.wikipedia.org/wiki/Java_collections_framework?wprov=sfsi1) supplants both of these classes. Similarly, the [java.time][2] framework supplants the old date-time classes such as `java.util.Date`/`.Calendar`. The old classes remain in Java for backwards compatibility with existing apps but should not be used in new code.\r\n\r\nThe [`Stack`](https://docs.oracle.com/javase/8/docs/api/java/util/Stack.html) class documentation tells you this, clearly saying you should instead be using an implementation of the [`Deque`](https://docs.oracle.com/javase/8/docs/api/java/util/Deque.html) interface.\r\n\r\n\r\n[![diagram of classes in the Java Collections Framework][4]][4]\r\n\r\nDiagram is by Ramlmn, [published on Wikipedia][5]. Modified by me to indicate `Vector` &amp; `Stack` being obsolete.\r\n\r\n**Update:** Java 21 brought sequenced collections, adding more interfaces than seen in the chart above. See [*JEP 431: Sequenced Collections*](https://openjdk.org/jeps/431). \r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Java_Community_Process\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [3]: https://i.stack.imgur.com/ldfcq.png\r\n  [4]: https://i.stack.imgur.com/URYqg.png\r\n  [5]: https://commons.wikimedia.org/wiki/File:Java.util.Collection_hierarchy.svg","title":"Why Stack extends Vector in JDK?","body":"<h1>Outmoded classes</h1>\n<p>Both <code>Stack</code> and <code>Vector</code> were included with the first release of Java. Java was rushed to market ahead of its time because of the Internet frenzy at that time.</p>\n<p>Some of the classes bundled with those earliest versions of Java, such as the date-time classes, were not well thought-out. They had not been subjected to peer review and public scrutiny as were later libraries such as some produced through the <a href=\"https://en.m.wikipedia.org/wiki/Java_Community_Process\" rel=\"nofollow noreferrer\"><em>Java Community Process</em></a> and through open-source projects and industry consortium projects.</p>\n<h1>Java Collections framework</h1>\n<p>The <a href=\"https://en.wikipedia.org/wiki/Java_collections_framework?wprov=sfsi1\" rel=\"nofollow noreferrer\">Java Collections framework</a> supplants both of these classes. Similarly, the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> framework supplants the old date-time classes such as <code>java.util.Date</code>/<code>.Calendar</code>. The old classes remain in Java for backwards compatibility with existing apps but should not be used in new code.</p>\n<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Stack.html\" rel=\"nofollow noreferrer\"><code>Stack</code></a> class documentation tells you this, clearly saying you should instead be using an implementation of the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Deque.html\" rel=\"nofollow noreferrer\"><code>Deque</code></a> interface.</p>\n<p><a href=\"https://i.stack.imgur.com/URYqg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/URYqg.png\" alt=\"diagram of classes in the Java Collections Framework\" /></a></p>\n<p>Diagram is by Ramlmn, <a href=\"https://commons.wikimedia.org/wiki/File:Java.util.Collection_hierarchy.svg\" rel=\"nofollow noreferrer\">published on Wikipedia</a>. Modified by me to indicate <code>Vector</code> &amp; <code>Stack</code> being obsolete.</p>\n<p><strong>Update:</strong> Java 21 brought sequenced collections, adding more interfaces than seen in the chart above. See <a href=\"https://openjdk.org/jeps/431\" rel=\"nofollow noreferrer\"><em>JEP 431: Sequenced Collections</em></a>.</p>\n"}],"owner":{"account_id":8184169,"reputation":1173,"user_id":6160431,"accept_rate":93,"display_name":"Sanjit Kumar Mishra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3266,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":37314396,"answer_count":1,"score":7,"last_activity_date":1701314565,"creation_date":1463634358,"question_id":37314298,"body_markdown":"`Stack` is not a `Vector` then why Stack class is extending(is a relationship) Vector class in JDK, Stack suppose to work with `push()` &amp; `pop()` operations, but because it extends Vector I am able to do `add()` and `remove()` operations over a stack.\r\n\r\nI think rather extending Vector class, Stack class should use Vector class as a composition.","title":"Why Stack extends Vector in JDK?","body":"<p><code>Stack</code> is not a <code>Vector</code> then why Stack class is extending(is a relationship) Vector class in JDK, Stack suppose to work with <code>push()</code> &amp; <code>pop()</code> operations, but because it extends Vector I am able to do <code>add()</code> and <code>remove()</code> operations over a stack.</p>\n\n<p>I think rather extending Vector class, Stack class should use Vector class as a composition.</p>\n"},{"tags":["java","spring","spring-mvc","web"],"answers":[{"tags":[],"owner":{"account_id":206400,"reputation":2188,"user_id":455654,"display_name":"Aalkhodiry"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1416387324,"creation_date":1416387324,"answer_id":27012548,"question_id":22296448,"body_markdown":"First `throw new HttpUnauthorizedException();`\r\n\r\nthen you can catch it at a normal controller that have `@ControllerAdvice` annotation\r\n\r\n    @ControllerAdvice // To Handle Exceptions\r\n    public class ExceptionController {\r\n         //// ...........\r\n\r\n         @ExceptionHandler({HttpUnauthorizedException.class})\r\n         @ResponseBody\r\n         @ResponseStatus(value = HttpStatus.UNAUTHORIZED)\r\n         Map&lt;String, String&gt; unauthorizedAccess(Exception e) {\r\n             Map&lt;String, String&gt; exception = new HashMap&lt;String, String&gt;();\r\n\r\n             log.error(&quot;unauthorized Access to the API: &quot; + e.getMessage(), e);\r\n             exception.put(&quot;code&quot;, &quot;401&quot;);\r\n             exception.put(&quot;reason&quot;, e.getMessage());\r\n\r\n             return exception;\r\n         }\r\n    }","title":"Spring controller throwing HttpStatus.UNAUTHORIZED fires 500 Http error instead of 401","body":"<p>First <code>throw new HttpUnauthorizedException();</code></p>\n\n<p>then you can catch it at a normal controller that have <code>@ControllerAdvice</code> annotation</p>\n\n<pre><code>@ControllerAdvice // To Handle Exceptions\npublic class ExceptionController {\n     //// ...........\n\n     @ExceptionHandler({HttpUnauthorizedException.class})\n     @ResponseBody\n     @ResponseStatus(value = HttpStatus.UNAUTHORIZED)\n     Map&lt;String, String&gt; unauthorizedAccess(Exception e) {\n         Map&lt;String, String&gt; exception = new HashMap&lt;String, String&gt;();\n\n         log.error(\"unauthorized Access to the API: \" + e.getMessage(), e);\n         exception.put(\"code\", \"401\");\n         exception.put(\"reason\", e.getMessage());\n\n         return exception;\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8139998,"reputation":1398,"user_id":6130501,"display_name":"Adir Dayan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604221536,"creation_date":1604221536,"answer_id":64630221,"question_id":22296448,"body_markdown":"I think code should be much simpler, maybe the answer was written with old Spring version.\r\n\r\nIn this example I&#39;ve implemented method to handle exception - **HttpClientErrorException.Unauthorized** to cover authentication issue (401):\r\n\r\n    @ControllerAdvice\r\n    public class MyErrorsHandler extends ResponseEntityExceptionHandler\r\n    {\r\n    \t@ExceptionHandler(HttpClientErrorException.Unauthorized.class)\r\n    \tprotected ResponseEntity&lt;Object&gt; handleAuthenticationError(RuntimeException ex, WebRequest request)\r\n    \t{\r\n    \t\treturn handleExceptionInternal(ex, \r\n    \t\t\t&quot;Cannot login, please check your inputs&quot;, \r\n    \t\t\tnew HttpHeaders(), HttpStatus.UNAUTHORIZED, request);\r\n    \t}\r\n    }\r\n\r\nFinally I get correct error to GUI\r\n\r\n[![Login failure presentation][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Qa7YR.png","title":"Spring controller throwing HttpStatus.UNAUTHORIZED fires 500 Http error instead of 401","body":"<p>I think code should be much simpler, maybe the answer was written with old Spring version.</p>\n<p>In this example I've implemented method to handle exception - <strong>HttpClientErrorException.Unauthorized</strong> to cover authentication issue (401):</p>\n<pre><code>@ControllerAdvice\npublic class MyErrorsHandler extends ResponseEntityExceptionHandler\n{\n    @ExceptionHandler(HttpClientErrorException.Unauthorized.class)\n    protected ResponseEntity&lt;Object&gt; handleAuthenticationError(RuntimeException ex, WebRequest request)\n    {\n        return handleExceptionInternal(ex, \n            &quot;Cannot login, please check your inputs&quot;, \n            new HttpHeaders(), HttpStatus.UNAUTHORIZED, request);\n    }\n}\n</code></pre>\n<p>Finally I get correct error to GUI</p>\n<p><a href=\"https://i.stack.imgur.com/Qa7YR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qa7YR.png\" alt=\"Login failure presentation\" /></a></p>\n"},{"tags":[],"owner":{"account_id":25112082,"reputation":121,"user_id":18961587,"display_name":"Danson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701314482,"creation_date":1701314482,"answer_id":77575686,"question_id":22296448,"body_markdown":"    import org.springframework.http.HttpStatus;\r\n    import org.springframework.web.bind.annotation.ResponseStatus;\r\n    \r\n    @ResponseStatus(value = HttpStatus.UNAUTHORIZED)\r\n    public class UnauthorizedException extends RuntimeException{\r\n      \r\n    }\r\n\r\nController: \r\n\r\n    import ....authentication.exception.UnauthorizedException;\r\n\r\n    @SecurityRequirement(name = &quot;JWTBearerAuth&quot;)\r\n    @GetMapping(value = &quot;/name/{name}&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n      public Users getUserByName(@RequestHeader HttpHeaders headers, @PathVariable(&quot;name&quot;) String name) throws Exception {\r\n    \r\n        if (condition) {\r\n          final Users users = usersService.getUserByName(name);\r\n          return users;\r\n        } else {\r\n          throw new UnauthorizedException();\r\n        } \r\n      }\r\n\r\nThis works for me.","title":"Spring controller throwing HttpStatus.UNAUTHORIZED fires 500 Http error instead of 401","body":"<pre><code>import org.springframework.http.HttpStatus;\nimport org.springframework.web.bind.annotation.ResponseStatus;\n\n@ResponseStatus(value = HttpStatus.UNAUTHORIZED)\npublic class UnauthorizedException extends RuntimeException{\n  \n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>import ....authentication.exception.UnauthorizedException;\n\n@SecurityRequirement(name = &quot;JWTBearerAuth&quot;)\n@GetMapping(value = &quot;/name/{name}&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n  public Users getUserByName(@RequestHeader HttpHeaders headers, @PathVariable(&quot;name&quot;) String name) throws Exception {\n\n    if (condition) {\n      final Users users = usersService.getUserByName(name);\n      return users;\n    } else {\n      throw new UnauthorizedException();\n    } \n  }\n</code></pre>\n<p>This works for me.</p>\n"}],"owner":{"account_id":3394977,"reputation":678,"user_id":2848844,"accept_rate":76,"display_name":"Shotgun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16973,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":27012548,"answer_count":3,"score":4,"last_activity_date":1701314482,"creation_date":1394443997,"question_id":22296448,"body_markdown":"Here&#39;s the scenario :\r\nI created the following custom response exception, to fire the 401 Http Status :\r\n\r\n    @ResponseStatus(value = HttpStatus.UNAUTHORIZED)\r\n    public class HttpUnauthorizedException extends RuntimeException {\r\n    \r\n    }\r\n\r\nThe controller that uses the exception :\r\n\r\n    @Controller\r\n    public UserController {\r\n        @RequestMapping(value = &quot;api/user&quot;)\r\n        @ResponseBody\r\n\r\n        public String doLogin(\r\n                     @RequestParam(value = &quot;username&quot;, required = false) String username, @RequestParam(value = &quot;password&quot;, required = false) String password) {\r\n            if(userLoggedIn(String username, String password)) {\r\n                 return &quot;OK&quot;;\r\n            }\r\n            else {\r\n                 throw new HttpUnauthorizedException();\r\n            }\r\n        }\r\n       ...\r\n    }\r\n\r\nNow when I try to access the controller to see the 401 exception, the server fires the Http error code 500 instead. But interestingly enough, when I try with the `HttpStatus.NOT_FOUND` it actually works, the server fires 404. Is there something I&#39;m missing on here?\r\n\r\nThanks in advance :-)","title":"Spring controller throwing HttpStatus.UNAUTHORIZED fires 500 Http error instead of 401","body":"<p>Here's the scenario :\nI created the following custom response exception, to fire the 401 Http Status :</p>\n\n<pre><code>@ResponseStatus(value = HttpStatus.UNAUTHORIZED)\npublic class HttpUnauthorizedException extends RuntimeException {\n\n}\n</code></pre>\n\n<p>The controller that uses the exception :</p>\n\n<pre><code>@Controller\npublic UserController {\n    @RequestMapping(value = \"api/user\")\n    @ResponseBody\n\n    public String doLogin(\n                 @RequestParam(value = \"username\", required = false) String username, @RequestParam(value = \"password\", required = false) String password) {\n        if(userLoggedIn(String username, String password)) {\n             return \"OK\";\n        }\n        else {\n             throw new HttpUnauthorizedException();\n        }\n    }\n   ...\n}\n</code></pre>\n\n<p>Now when I try to access the controller to see the 401 exception, the server fires the Http error code 500 instead. But interestingly enough, when I try with the <code>HttpStatus.NOT_FOUND</code> it actually works, the server fires 404. Is there something I'm missing on here?</p>\n\n<p>Thanks in advance :-)</p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1701313870,"post_id":77575597,"comment_id":136761381,"body_markdown":"`just do run it with the java application` If this is what your teacher said, you should probably do exactly that.  Spring Boot is for experts only and not for beginners.  Try it with just Java.  If you get stuck, then ask here.","body":"<code>just do run it with the java application</code> If this is what your teacher said, you should probably do exactly that.  Spring Boot is for experts only and not for beginners.  Try it with just Java.  If you get stuck, then ask here."},{"owner":{"account_id":30027403,"reputation":1,"user_id":23011244,"display_name":"Destiny Egan"},"score":0,"creation_date":1701316480,"post_id":77575597,"comment_id":136761559,"body_markdown":"I am unable to run it, as there is no option to. As when I click run as instead of java application it says (none applicable)","body":"I am unable to run it, as there is no option to. As when I click run as instead of java application it says (none applicable)"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1701349995,"post_id":77575597,"comment_id":136766319,"body_markdown":"That&#39;s two separate source files for the ServerApplication and ServerController sources, right, not both in one file? How are you importing this zip file you keep mentioning? What is it?","body":"That&#39;s two separate source files for the ServerApplication and ServerController sources, right, not both in one file? How are you importing this zip file you keep mentioning? What is it?"}],"answers":[{"comments":[{"owner":{"account_id":30027403,"reputation":1,"user_id":23011244,"display_name":"Destiny Egan"},"score":0,"creation_date":1701316527,"post_id":77575682,"comment_id":136761562,"body_markdown":"The packages came like that, as the assignment came as pre-coded besides the fix me.","body":"The packages came like that, as the assignment came as pre-coded besides the fix me."},{"owner":{"account_id":30027403,"reputation":1,"user_id":23011244,"display_name":"Destiny Egan"},"score":0,"creation_date":1701316605,"post_id":77575682,"comment_id":136761567,"body_markdown":"I am unsure of what to do since I can&#39;t select run as -&gt; java application. Since that is what I am supposed to do, but can&#39;t.","body":"I am unsure of what to do since I can&#39;t select run as -&gt; java application. Since that is what I am supposed to do, but can&#39;t."},{"owner":{"account_id":27294741,"reputation":71,"user_id":20812561,"display_name":"Moeen Ahmmed"},"score":0,"creation_date":1701319707,"post_id":77575682,"comment_id":136761843,"body_markdown":"Please update java version and spring boot version at pom.xml then build that project.\nI will provide a git repo link of your existing code by to night.","body":"Please update java version and spring boot version at pom.xml then build that project. I will provide a git repo link of your existing code by to night."}],"tags":[],"owner":{"account_id":27294741,"reputation":71,"user_id":20812561,"display_name":"Moeen Ahmmed"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701314349,"creation_date":1701314349,"answer_id":77575682,"question_id":77575597,"body_markdown":" 1. **Package Name :** Make sure your package name are same in both main class() and test class().\r\n    ```\r\n    //main class package name\r\n    package com.snhu.sslserver;\r\n    \r\n    //Test class package name\r\n    package com.snhu.server;\r\n    \r\n    \r\n    ```\r\n    \r\n2. **pom.xml modification** : As you using spring boot, you do not need to use explicitly `junit-vintage-engine`. Spring boot manage configurations and version of testing dependencies. \r\n    ```\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    ```\r\n    \r\n3. Update Sprig boot version and make use your test classes under main.","title":"java - Unable to run","body":"<ol>\n<li><p><strong>Package Name :</strong> Make sure your package name are same in both main class() and test class().</p>\n<pre><code>//main class package name\npackage com.snhu.sslserver;\n\n//Test class package name\npackage com.snhu.server;\n\n\n</code></pre>\n</li>\n<li><p><strong>pom.xml modification</strong> : As you using spring boot, you do not need to use explicitly <code>junit-vintage-engine</code>. Spring boot manage configurations and version of testing dependencies.</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n</code></pre>\n</li>\n<li><p>Update Sprig boot version and make use your test classes under main.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":30027403,"reputation":1,"user_id":23011244,"display_name":"Destiny Egan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701314349,"creation_date":1701312781,"question_id":77575597,"body_markdown":"I am trying to run this program for my class. However, this error keeps popping up. I have tried reinstalling eclipse, reinstalling the zip file, and more. However, I keep getting this same answer even with the default code.\r\n\r\nHere is the code for the main:\r\n\r\n```\r\npackage com.snhu.sslserver;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.security.MessageDigest;\r\nimport java.security.NoSuchAlgorithmException;\r\nimport java.math.BigInteger; \r\nimport java.nio.charset.StandardCharsets;\r\n\r\n@SpringBootApplication\r\npublic class ServerApplication {\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(ServerApplication.class, args);\r\n\t}\r\n\r\n}\r\n\r\n@RestController\r\nclass ServerController{\r\n\tpublic static String calculateHash(String name) throws NoSuchAlgorithmException {  \r\n        MessageDigest md = MessageDigest.getInstance(&quot;SHA-256&quot;);  \r\n        byte[] hash =  md.digest(name.getBytes(StandardCharsets.UTF_8));\r\n        BigInteger number = new BigInteger(1, hash);  \r\n        StringBuilder hexString = new StringBuilder(number.toString(16));  \r\n        while (hexString.length() &lt; 32){  \r\n            hexString.insert(0, &#39;0&#39;);  \r\n        }  \r\n        return hexString.toString();  \r\n     \r\n    } \r\n\t@RequestMapping(&quot;/hash&quot;)\r\n\tpublic String myHash() throws NoSuchAlgorithmException{\r\n\r\n\tString data = &quot;Hello Destiny Egan!&quot;;\r\n\tString hash = calculateHash(data);\r\n\r\n\treturn &quot;&lt;p&gt;data:&quot;+data+&quot; : SHA-256 &quot;+&quot; : &quot;+hash;\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nHere is for the tester (which I didn&#39;t change anything on):\r\n\r\n```\r\npackage com.snhu.server;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\n\r\n@SpringBootTest\r\nclass ServerApplicationTests {\r\n\r\n\t@Test\r\n\tvoid contextLoads() {\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\nHere is the pom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.snhu&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;ssl-server&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;ssl-server&lt;/name&gt;\r\n\t&lt;description&gt;ssl-server skeleton for CS-305&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n              &lt;groupId&gt;org.owasp&lt;/groupId&gt;\r\n              &lt;artifactId&gt;dependency-check-maven&lt;/artifactId&gt;\r\n              &lt;version&gt;9.0.1&lt;/version&gt;\r\n              &lt;executions&gt;\r\n                  &lt;execution&gt;\r\n                      &lt;goals&gt;\r\n                          &lt;goal&gt;check&lt;/goal&gt;\r\n                      &lt;/goals&gt;\r\n                  &lt;/execution&gt;\r\n              &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n\r\nI was receiving errors however, I can do the run as. As before I was trying to install. I do not have the option to run as -&gt; Java application.\r\n\r\nHere is the error:\r\n\r\n```\r\n[INFO] Results:\r\n\r\n[INFO]\r\n\r\n[ERROR] [1;31mErrors: [m\r\n\r\n[ERROR] [1;31m  ServerApplicationTests &#187; IllegalState Unable to find a @SpringBootConfiguratio...[m\r\n\r\n[INFO]\r\n\r\n[ERROR] [1;31mTests run: 1, Failures: 0, Errors: 1, Skipped: 0[m\r\n\r\n[INFO]\r\n\r\n[INFO] [1m------------------------------------------------------------------------[m\r\n\r\n[INFO] [1;31mBUILD FAILURE[m\r\n\r\n[INFO] [1m------------------------------------------------------------------------[m\r\n\r\n[INFO] Total time:  5.852 s\r\n\r\n[INFO] Finished at: 2023-11-26T18:24:43-08:00\r\n\r\n[INFO] [1m------------------------------------------------------------------------[m\r\n\r\n[ERROR] Failed to execute goal [32morg.apache.maven.plugins:maven-surefire-plugin:2.22.2:test[m [1m(default-test)[m on project [36mssl-server[m: [1;31mThere are test failures.[m\r\n\r\n[ERROR] [1;31m[m\r\n\r\n[ERROR] [1;31mPlease refer to C:\\Users\\dessi\\eclipse-workspace\\CS 305 Module Five Coding Assignment Checksum Verification Code Base (1).zip_expanded\\CS 305 Module Five Checksum Verification Assignment Code\\module5_skel_student\\target\\surefire-reports for the individual test results.[m\r\n\r\n[ERROR] [1;31mPlease refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.[m\r\n\r\n[ERROR] -&gt; [1m[Help 1][m\r\n\r\n[ERROR]\r\n\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the [1m-e[m switch.\r\n\r\n[ERROR] Re-run Maven using the [1m-X[m switch to enable full debug logging.\r\n\r\n[ERROR]\r\n\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n\r\n[ERROR] [1m[Help 1][m http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n\r\n```\r\n\r\n\r\n\r\nI have tried reinstalling eclipse, reinstalling the zip file, and more. However, I keep getting this same answer even with the default code. I also reached out to my teacher which he had said to just do run it with the java application but that isn&#39;t popping up.","title":"java - Unable to run","body":"<p>I am trying to run this program for my class. However, this error keeps popping up. I have tried reinstalling eclipse, reinstalling the zip file, and more. However, I keep getting this same answer even with the default code.</p>\n<p>Here is the code for the main:</p>\n<pre><code>package com.snhu.sslserver;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.security.MessageDigest;\nimport java.security.NoSuchAlgorithmException;\nimport java.math.BigInteger; \nimport java.nio.charset.StandardCharsets;\n\n@SpringBootApplication\npublic class ServerApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(ServerApplication.class, args);\n    }\n\n}\n\n@RestController\nclass ServerController{\n    public static String calculateHash(String name) throws NoSuchAlgorithmException {  \n        MessageDigest md = MessageDigest.getInstance(&quot;SHA-256&quot;);  \n        byte[] hash =  md.digest(name.getBytes(StandardCharsets.UTF_8));\n        BigInteger number = new BigInteger(1, hash);  \n        StringBuilder hexString = new StringBuilder(number.toString(16));  \n        while (hexString.length() &lt; 32){  \n            hexString.insert(0, '0');  \n        }  \n        return hexString.toString();  \n     \n    } \n    @RequestMapping(&quot;/hash&quot;)\n    public String myHash() throws NoSuchAlgorithmException{\n\n    String data = &quot;Hello Destiny Egan!&quot;;\n    String hash = calculateHash(data);\n\n    return &quot;&lt;p&gt;data:&quot;+data+&quot; : SHA-256 &quot;+&quot; : &quot;+hash;\n\n    }\n\n}\n</code></pre>\n<p>Here is for the tester (which I didn't change anything on):</p>\n<pre><code>package com.snhu.server;\n\nimport org.junit.jupiter.api.Test;\nimport org.springframework.boot.test.context.SpringBootTest;\n\n@SpringBootTest\nclass ServerApplicationTests {\n\n    @Test\n    void contextLoads() {\n    }\n\n}\n</code></pre>\n<p>Here is the pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.snhu&lt;/groupId&gt;\n    &lt;artifactId&gt;ssl-server&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;ssl-server&lt;/name&gt;\n    &lt;description&gt;ssl-server skeleton for CS-305&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n              &lt;groupId&gt;org.owasp&lt;/groupId&gt;\n              &lt;artifactId&gt;dependency-check-maven&lt;/artifactId&gt;\n              &lt;version&gt;9.0.1&lt;/version&gt;\n              &lt;executions&gt;\n                  &lt;execution&gt;\n                      &lt;goals&gt;\n                          &lt;goal&gt;check&lt;/goal&gt;\n                      &lt;/goals&gt;\n                  &lt;/execution&gt;\n              &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I was receiving errors however, I can do the run as. As before I was trying to install. I do not have the option to run as -&gt; Java application.</p>\n<p>Here is the error:</p>\n<pre><code>[INFO] Results:\n\n[INFO]\n\n[ERROR] [1;31mErrors: [m\n\n[ERROR] [1;31m  ServerApplicationTests » IllegalState Unable to find a @SpringBootConfiguratio...[m\n\n[INFO]\n\n[ERROR] [1;31mTests run: 1, Failures: 0, Errors: 1, Skipped: 0[m\n\n[INFO]\n\n[INFO] [1m------------------------------------------------------------------------[m\n\n[INFO] [1;31mBUILD FAILURE[m\n\n[INFO] [1m------------------------------------------------------------------------[m\n\n[INFO] Total time:  5.852 s\n\n[INFO] Finished at: 2023-11-26T18:24:43-08:00\n\n[INFO] [1m------------------------------------------------------------------------[m\n\n[ERROR] Failed to execute goal [32morg.apache.maven.plugins:maven-surefire-plugin:2.22.2:test[m [1m(default-test)[m on project [36mssl-server[m: [1;31mThere are test failures.[m\n\n[ERROR] [1;31m[m\n\n[ERROR] [1;31mPlease refer to C:\\Users\\dessi\\eclipse-workspace\\CS 305 Module Five Coding Assignment Checksum Verification Code Base (1).zip_expanded\\CS 305 Module Five Checksum Verification Assignment Code\\module5_skel_student\\target\\surefire-reports for the individual test results.[m\n\n[ERROR] [1;31mPlease refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.[m\n\n[ERROR] -&gt; [1m[Help 1][m\n\n[ERROR]\n\n[ERROR] To see the full stack trace of the errors, re-run Maven with the [1m-e[m switch.\n\n[ERROR] Re-run Maven using the [1m-X[m switch to enable full debug logging.\n\n[ERROR]\n\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n\n[ERROR] [1m[Help 1][m http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n\n</code></pre>\n<p>I have tried reinstalling eclipse, reinstalling the zip file, and more. However, I keep getting this same answer even with the default code. I also reached out to my teacher which he had said to just do run it with the java application but that isn't popping up.</p>\n"},{"tags":["java","jpa","concurrency","weblogic"],"answers":[{"comments":[{"owner":{"account_id":9427277,"reputation":113,"user_id":7011841,"display_name":"Reza"},"score":0,"creation_date":1701380621,"post_id":77575629,"comment_id":136772074,"body_markdown":"How should i handle that?","body":"How should i handle that?"}],"tags":[],"owner":{"account_id":1511115,"reputation":2926,"user_id":1413222,"display_name":"devwebcl"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701313234,"creation_date":1701313234,"answer_id":77575629,"question_id":77569595,"body_markdown":"It is clear a JDBC pool connection starvation; if you are going to run parallel threads, then you need to handle the pool connections, which are enough for your requirement.","title":"weblogic resource allocation limit","body":"<p>It is clear a JDBC pool connection starvation; if you are going to run parallel threads, then you need to handle the pool connections, which are enough for your requirement.</p>\n"}],"owner":{"account_id":9427277,"reputation":113,"user_id":7011841,"display_name":"Reza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701313234,"creation_date":1701246835,"question_id":77569595,"body_markdown":"i have a list of 1000 records fetched from oracle db. i want to process this list concurrently. therefore i have used java parallel streams. the problem is it threw error `weblogic.common.resourcepool.ResourceLimitException: No resources currently available in pool ERDS to allocate to applications, please increase the size of the pool and retry` in some iterations. also seems to be interrupted and not complete the loop. i think if i use stream instead of parallel stream there will be no problem. but i need to do the operation by multiple threads to increase performance and reduce process time (in case i need to process a 10 thousand record list for example ). here is the code:\r\n\r\n    \r\n    @Singleton\r\n    @Startup\r\n    public class TPTimer {\r\n\r\n    @Inject\r\n    private Service service;\r\n\r\n    @Inject\r\n    Logger logger;\r\n\r\n    @Inject\r\n    EntityManager em;\r\n\r\n\r\n    @Schedule(hour = &quot;11&quot;, persistent = false)\r\n    public void doTask() {\r\n        try {\r\n          \r\n             \r\n                sendSMS();\r\n               \r\n            \r\n        } catch (Exception e) {\r\n            logger.error(e.getMessage());\r\n        }\r\n    }\r\n\r\n\r\n    private void sendSMS() {\r\n        try {\r\n            String txt = &quot;.....&quot;;\r\n            List&lt;Object[]&gt; list = em.createNativeQuery(&quot;some query&quot;)\r\n                    .setMaxResults(1000)\r\n                    .getResultList();\r\n\r\n            list.parallelStream().forEach(t -&gt; service.joinWithdebit(txt, t));\r\n        } catch (Exception e) {\r\n            logger.error(e);\r\n        }\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\nand\r\n\r\n        @Stateless\r\n        public class Service {\r\n    \r\n    \r\n    public void joinWithdebit(String txt, Object[] arr) {\r\n            try {\r\n                em.joinTransaction();\r\n                List list = em.createNativeQuery(&quot;query&quot;)\r\n                        .setParameter(1, String.valueOf(arr[2]))\r\n                        .getResultList();\r\n                if (list.size() &gt; 0) {\r\n                    List res = em.createNativeQuery(&quot;q&quot;)\r\n                            .setParameter(1, String.valueOf(arr[1]))\r\n                            .setParameter(2, String.valueOf(arr[0]))\r\n                            .getResultList();\r\n                    if (res.size() &gt; 0)\r\n                        sendSms(txt, arr);\r\n              \r\n                }\r\n            } catch (Exception e) {\r\n                Logger.getLogger(e);\r\n            }\r\n        }\r\n\r\n         @TransactionAttribute(TransactionAttributeType.REQUIRES_NEW)\r\n        public void sendSms(String txt, Object[] arr) {\r\n            try {\r\n                em.joinTransaction();\r\n                User user = userManager.getUserByName(String.valueOf(arr[0]));\r\n                boolean bool = smsService.isSmsSent(user, txt);\r\n                if (bool) {\r\n                    String now = DateUtils.format(new Date(), &quot;yyyyMMdd&quot;);\r\n                    em.createNativeQuery(&quot;insert into sms_table(...) values (?,?,?,?,?,?,?,?,SYSDATE)&quot;)\r\n                            .setParameter(1, new BigDecimal(arr[0] + &quot;5&quot; + &quot;01&quot;))\r\n                            .setParameter(2, String.valueOf(arr[2]))\r\n                            .setParameter(3, &quot;01&quot;)\r\n                            .setParameter(4, String.valueOf(arr[0]))\r\n                            .setParameter(5, now)\r\n                            .setParameter(6, now)\r\n                            .setParameter(7, user != null ? user.getMobile() : &quot;-&quot;)\r\n                            .setParameter(8, &quot;5&quot;)\r\n                            .executeUpdate();\r\n                }\r\n            } catch (Exception e) {\r\n                Logger.getLogger(this.getClass().getName()).info(&quot;320220:error while sending sms&quot;);\r\n            }\r\n        }\r\n\r\n}\r\n\r\n \r\nis it ok to fetch some records(for ex 20 thousands) and then process them concurrently? i don&#39;t want to do the business in a pl/sql function for some reasons. i want to manage the whole business in java. what can be done to optimize this code?","title":"weblogic resource allocation limit","body":"<p>i have a list of 1000 records fetched from oracle db. i want to process this list concurrently. therefore i have used java parallel streams. the problem is it threw error <code>weblogic.common.resourcepool.ResourceLimitException: No resources currently available in pool ERDS to allocate to applications, please increase the size of the pool and retry</code> in some iterations. also seems to be interrupted and not complete the loop. i think if i use stream instead of parallel stream there will be no problem. but i need to do the operation by multiple threads to increase performance and reduce process time (in case i need to process a 10 thousand record list for example ). here is the code:</p>\n<pre><code>@Singleton\n@Startup\npublic class TPTimer {\n\n@Inject\nprivate Service service;\n\n@Inject\nLogger logger;\n\n@Inject\nEntityManager em;\n\n\n@Schedule(hour = &quot;11&quot;, persistent = false)\npublic void doTask() {\n    try {\n      \n         \n            sendSMS();\n           \n        \n    } catch (Exception e) {\n        logger.error(e.getMessage());\n    }\n}\n\n\nprivate void sendSMS() {\n    try {\n        String txt = &quot;.....&quot;;\n        List&lt;Object[]&gt; list = em.createNativeQuery(&quot;some query&quot;)\n                .setMaxResults(1000)\n                .getResultList();\n\n        list.parallelStream().forEach(t -&gt; service.joinWithdebit(txt, t));\n    } catch (Exception e) {\n        logger.error(e);\n    }\n}\n</code></pre>\n<p>}</p>\n<p>and</p>\n<pre><code>    @Stateless\n    public class Service {\n\n\npublic void joinWithdebit(String txt, Object[] arr) {\n        try {\n            em.joinTransaction();\n            List list = em.createNativeQuery(&quot;query&quot;)\n                    .setParameter(1, String.valueOf(arr[2]))\n                    .getResultList();\n            if (list.size() &gt; 0) {\n                List res = em.createNativeQuery(&quot;q&quot;)\n                        .setParameter(1, String.valueOf(arr[1]))\n                        .setParameter(2, String.valueOf(arr[0]))\n                        .getResultList();\n                if (res.size() &gt; 0)\n                    sendSms(txt, arr);\n          \n            }\n        } catch (Exception e) {\n            Logger.getLogger(e);\n        }\n    }\n\n     @TransactionAttribute(TransactionAttributeType.REQUIRES_NEW)\n    public void sendSms(String txt, Object[] arr) {\n        try {\n            em.joinTransaction();\n            User user = userManager.getUserByName(String.valueOf(arr[0]));\n            boolean bool = smsService.isSmsSent(user, txt);\n            if (bool) {\n                String now = DateUtils.format(new Date(), &quot;yyyyMMdd&quot;);\n                em.createNativeQuery(&quot;insert into sms_table(...) values (?,?,?,?,?,?,?,?,SYSDATE)&quot;)\n                        .setParameter(1, new BigDecimal(arr[0] + &quot;5&quot; + &quot;01&quot;))\n                        .setParameter(2, String.valueOf(arr[2]))\n                        .setParameter(3, &quot;01&quot;)\n                        .setParameter(4, String.valueOf(arr[0]))\n                        .setParameter(5, now)\n                        .setParameter(6, now)\n                        .setParameter(7, user != null ? user.getMobile() : &quot;-&quot;)\n                        .setParameter(8, &quot;5&quot;)\n                        .executeUpdate();\n            }\n        } catch (Exception e) {\n            Logger.getLogger(this.getClass().getName()).info(&quot;320220:error while sending sms&quot;);\n        }\n    }\n</code></pre>\n<p>}</p>\n<p>is it ok to fetch some records(for ex 20 thousands) and then process them concurrently? i don't want to do the business in a pl/sql function for some reasons. i want to manage the whole business in java. what can be done to optimize this code?</p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-el"],"answers":[{"tags":[],"owner":{"account_id":15223721,"reputation":26,"user_id":10984930,"display_name":"bz5314520"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701312998,"creation_date":1701312823,"answer_id":77575602,"question_id":77574339,"body_markdown":"First, an enum class cannot be instantiated externally, so do not attempt to register an enum as a Spring bean. Moreover, Spring is unable to assist you in finding a constructor parameter of type String. Second, there is an error in your EL expression. Therefore, the final solution is to remove `@Component` and change the EL expression to `@PreAuthorize(&quot;hasPermission(#authentication, T(yourEnumPackageName.ScopeEnum).UPDATE.name)&quot;)`.","title":"Using SpEL to pass parameters in Spring/Spring security method","body":"<p>First, an enum class cannot be instantiated externally, so do not attempt to register an enum as a Spring bean. Moreover, Spring is unable to assist you in finding a constructor parameter of type String. Second, there is an error in your EL expression. Therefore, the final solution is to remove <code>@Component</code> and change the EL expression to <code>@PreAuthorize(&quot;hasPermission(#authentication, T(yourEnumPackageName.ScopeEnum).UPDATE.name)&quot;)</code>.</p>\n"}],"owner":{"account_id":5988394,"reputation":549,"user_id":4705229,"accept_rate":97,"display_name":"jd466"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77575602,"answer_count":1,"score":0,"last_activity_date":1701312998,"creation_date":1701289920,"question_id":77574339,"body_markdown":"Dear Spring/Spring Security developers: \r\n\r\nFor this controller method in Spring Boot, I use PreAuthorize annotation in combination with hasPermission Method. My problem is how to pass the Enum value currectly to the hasPermission method using SpEL. \r\n\r\nI get the this error: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type &#39;java.lang.String&#39; available\r\n\r\n\r\n\r\n    @Component(&quot;Scope&quot;)\r\n    public enum ScopeEnum{\r\n    \r\n        UPDATE(&quot;update&quot;), DELETE(&quot;delete&quot;);\r\n    \r\n        public final String name;\r\n    \r\n        ResourceScope(String name) {\r\n            this.name= name;\r\n        }\r\n    }\r\n    \r\n    @PreAuthorize(&quot;hasPermission(#authentication, @Scope.UPDATE&quot;)\r\n    public ResponseEntity doUpdateOrDelete(Authorization authorization, ...) {\r\n      // Code....\r\n    \r\n    }\r\n\r\n","title":"Using SpEL to pass parameters in Spring/Spring security method","body":"<p>Dear Spring/Spring Security developers:</p>\n<p>For this controller method in Spring Boot, I use PreAuthorize annotation in combination with hasPermission Method. My problem is how to pass the Enum value currectly to the hasPermission method using SpEL.</p>\n<p>I get the this error: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'java.lang.String' available</p>\n<pre><code>@Component(&quot;Scope&quot;)\npublic enum ScopeEnum{\n\n    UPDATE(&quot;update&quot;), DELETE(&quot;delete&quot;);\n\n    public final String name;\n\n    ResourceScope(String name) {\n        this.name= name;\n    }\n}\n\n@PreAuthorize(&quot;hasPermission(#authentication, @Scope.UPDATE&quot;)\npublic ResponseEntity doUpdateOrDelete(Authorization authorization, ...) {\n  // Code....\n\n}\n</code></pre>\n"},{"tags":["java","compare","apache-commons-io"],"owner":{"account_id":3152087,"reputation":40,"user_id":2665311,"display_name":"dino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701310641,"creation_date":1701310641,"question_id":77575495,"body_markdown":"I was using commons-io version 2.12.0 and my code worked fine regardless of file size. But when I upgraded to 2.15.0, my code only works with small files. When the file size is 8347 bytes, the comparison works. But, when the file size is bigger than 8348 bytes, the comparison always returns true.\r\n\r\nIs this a bug from commons-io library?\r\n\r\nI am using Amazon Corretto 11.0.21.9.1 on Windows 10 box.\r\n\r\nHere is my sample code.\r\n```\r\nimport java.io.File;\r\nimport java.io.IOException;\r\n\r\nimport org.apache.commons.io.FileUtils;\r\n\r\npublic class Test15 {\r\n\r\n  public static void main(String[] args) {\r\n    File tmpFile1 = new File(&quot;file1.xml&quot;);\r\n    File tmpFile2 = new File(&quot;file2.xml&quot;);\r\n    try {\r\n      boolean filesEqual = FileUtils.contentEquals(tmpFile1, tmpFile2);\r\n      System.out.println(filesEqual);\r\n    } catch (IOException e) {\r\n      e.printStackTrace();\r\n    }\r\n  }\r\n}\r\n```\r\nHere is a sample file to compare. They have exact same file size.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;PpppppppppppData&gt;\r\n    &lt;LooooData&gt;\r\n        &lt;Ssssss&gt;\r\n            &lt;ProfName&gt;ProfName2&lt;/ProfName&gt;\r\n            &lt;Version&gt;2&lt;/Version&gt;\r\n            &lt;TimeStamp&gt;00000000&lt;/TimeStamp&gt;\r\n            &lt;CcccccDddd&gt;\r\n                &lt;GggIiAaaaa&gt;\r\n                    &lt;Version&gt;33333&lt;/Version&gt;\r\n                    &lt;Site&gt;\r\n                        &lt;SiteID&gt;4&lt;/SiteID&gt;\r\n                        &lt;Iiii&gt;\r\n                            &lt;CcAddress&gt;&lt;/CcAddress&gt;\r\n                            &lt;CcAddress&gt;0.0.0&lt;/CcAddress&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                        &lt;/Iiii&gt;\r\n                        &lt;Iiii&gt;\r\n                            &lt;CcAddress&gt;0:0:0:0:0:0:0:0&lt;/CcAddress&gt;\r\n                            &lt;CcAddress&gt;0:0:0:0:0:0:0:0&lt;/CcAddress&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                        &lt;/Iiii&gt;\r\n                    &lt;/Site&gt;\r\n                &lt;/GggIiAaaaa&gt;\r\n            &lt;/CcccccDddd&gt;\r\n        &lt;/Ssssss&gt;\r\n        &lt;Siiiiiiii&gt;ZGVmYXVsdA==&lt;/Siiiiiiii&gt;\r\n        &lt;PPPPPPP&gt;\r\n            &lt;CcrrDddd&gt;ZGVmYXVsdA==&lt;/CcrrDddd&gt;\r\n        &lt;/PPPPPPP&gt;\r\n    &lt;/LooooData&gt;\r\n&lt;/PpppppppppppData&gt;\r\n```\r\nAnother one... notice that only ProfName and Version is different.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;PpppppppppppData&gt;\r\n    &lt;LooooData&gt;\r\n        &lt;Ssssss&gt;\r\n            &lt;ProfName&gt;ProfName1&lt;/ProfName&gt;\r\n            &lt;Version&gt;1&lt;/Version&gt;\r\n            &lt;TimeStamp&gt;00000000&lt;/TimeStamp&gt;\r\n            &lt;CcccccDddd&gt;\r\n                &lt;GggIiAaaaa&gt;\r\n                    &lt;Version&gt;33333&lt;/Version&gt;\r\n                    &lt;Site&gt;\r\n                        &lt;SiteID&gt;4&lt;/SiteID&gt;\r\n                        &lt;Iiii&gt;\r\n                            &lt;CcAddress&gt;&lt;/CcAddress&gt;\r\n                            &lt;CcAddress&gt;0.0.0&lt;/CcAddress&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                        &lt;/Iiii&gt;\r\n                        &lt;Iiii&gt;\r\n                            &lt;CcAddress&gt;0:0:0:0:0:0:0:0&lt;/CcAddress&gt;\r\n                            &lt;CcAddress&gt;0:0:0:0:0:0:0:0&lt;/CcAddress&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                        &lt;/Iiii&gt;\r\n                    &lt;/Site&gt;\r\n                &lt;/GggIiAaaaa&gt;\r\n            &lt;/CcccccDddd&gt;\r\n        &lt;/Ssssss&gt;\r\n        &lt;Siiiiiiii&gt;ZGVmYXVsdA==&lt;/Siiiiiiii&gt;\r\n        &lt;PPPPPPP&gt;\r\n            &lt;CcrrDddd&gt;ZGVmYXVsdA==&lt;/CcrrDddd&gt;\r\n        &lt;/PPPPPPP&gt;\r\n    &lt;/LooooData&gt;\r\n&lt;/PpppppppppppData&gt;\r\n```\r\nhttps://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html#contentEquals(java.io.File,java.io.File)\r\n\r\nI searched commons-io issue tracking page. I did not find any bug related to this.\r\nI have not tried with 2.13.0 or 2.14.0 versions of commons-io","title":"FileUtils contentEquals does not work with big files","body":"<p>I was using commons-io version 2.12.0 and my code worked fine regardless of file size. But when I upgraded to 2.15.0, my code only works with small files. When the file size is 8347 bytes, the comparison works. But, when the file size is bigger than 8348 bytes, the comparison always returns true.</p>\n<p>Is this a bug from commons-io library?</p>\n<p>I am using Amazon Corretto 11.0.21.9.1 on Windows 10 box.</p>\n<p>Here is my sample code.</p>\n<pre><code>import java.io.File;\nimport java.io.IOException;\n\nimport org.apache.commons.io.FileUtils;\n\npublic class Test15 {\n\n  public static void main(String[] args) {\n    File tmpFile1 = new File(&quot;file1.xml&quot;);\n    File tmpFile2 = new File(&quot;file2.xml&quot;);\n    try {\n      boolean filesEqual = FileUtils.contentEquals(tmpFile1, tmpFile2);\n      System.out.println(filesEqual);\n    } catch (IOException e) {\n      e.printStackTrace();\n    }\n  }\n}\n</code></pre>\n<p>Here is a sample file to compare. They have exact same file size.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;PpppppppppppData&gt;\n    &lt;LooooData&gt;\n        &lt;Ssssss&gt;\n            &lt;ProfName&gt;ProfName2&lt;/ProfName&gt;\n            &lt;Version&gt;2&lt;/Version&gt;\n            &lt;TimeStamp&gt;00000000&lt;/TimeStamp&gt;\n            &lt;CcccccDddd&gt;\n                &lt;GggIiAaaaa&gt;\n                    &lt;Version&gt;33333&lt;/Version&gt;\n                    &lt;Site&gt;\n                        &lt;SiteID&gt;4&lt;/SiteID&gt;\n                        &lt;Iiii&gt;\n                            &lt;CcAddress&gt;&lt;/CcAddress&gt;\n                            &lt;CcAddress&gt;0.0.0&lt;/CcAddress&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                        &lt;/Iiii&gt;\n                        &lt;Iiii&gt;\n                            &lt;CcAddress&gt;0:0:0:0:0:0:0:0&lt;/CcAddress&gt;\n                            &lt;CcAddress&gt;0:0:0:0:0:0:0:0&lt;/CcAddress&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                        &lt;/Iiii&gt;\n                    &lt;/Site&gt;\n                &lt;/GggIiAaaaa&gt;\n            &lt;/CcccccDddd&gt;\n        &lt;/Ssssss&gt;\n        &lt;Siiiiiiii&gt;ZGVmYXVsdA==&lt;/Siiiiiiii&gt;\n        &lt;PPPPPPP&gt;\n            &lt;CcrrDddd&gt;ZGVmYXVsdA==&lt;/CcrrDddd&gt;\n        &lt;/PPPPPPP&gt;\n    &lt;/LooooData&gt;\n&lt;/PpppppppppppData&gt;\n</code></pre>\n<p>Another one... notice that only ProfName and Version is different.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;PpppppppppppData&gt;\n    &lt;LooooData&gt;\n        &lt;Ssssss&gt;\n            &lt;ProfName&gt;ProfName1&lt;/ProfName&gt;\n            &lt;Version&gt;1&lt;/Version&gt;\n            &lt;TimeStamp&gt;00000000&lt;/TimeStamp&gt;\n            &lt;CcccccDddd&gt;\n                &lt;GggIiAaaaa&gt;\n                    &lt;Version&gt;33333&lt;/Version&gt;\n                    &lt;Site&gt;\n                        &lt;SiteID&gt;4&lt;/SiteID&gt;\n                        &lt;Iiii&gt;\n                            &lt;CcAddress&gt;&lt;/CcAddress&gt;\n                            &lt;CcAddress&gt;0.0.0&lt;/CcAddress&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                        &lt;/Iiii&gt;\n                        &lt;Iiii&gt;\n                            &lt;CcAddress&gt;0:0:0:0:0:0:0:0&lt;/CcAddress&gt;\n                            &lt;CcAddress&gt;0:0:0:0:0:0:0:0&lt;/CcAddress&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                        &lt;/Iiii&gt;\n                    &lt;/Site&gt;\n                &lt;/GggIiAaaaa&gt;\n            &lt;/CcccccDddd&gt;\n        &lt;/Ssssss&gt;\n        &lt;Siiiiiiii&gt;ZGVmYXVsdA==&lt;/Siiiiiiii&gt;\n        &lt;PPPPPPP&gt;\n            &lt;CcrrDddd&gt;ZGVmYXVsdA==&lt;/CcrrDddd&gt;\n        &lt;/PPPPPPP&gt;\n    &lt;/LooooData&gt;\n&lt;/PpppppppppppData&gt;\n</code></pre>\n<p><a href=\"https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html#contentEquals(java.io.File,java.io.File)\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html#contentEquals(java.io.File,java.io.File)</a></p>\n<p>I searched commons-io issue tracking page. I did not find any bug related to this.\nI have not tried with 2.13.0 or 2.14.0 versions of commons-io</p>\n"},{"tags":["java","algorithm","dynamic-programming"],"comments":[{"owner":{"account_id":3771148,"reputation":34933,"user_id":3133316,"display_name":"PaulMcKenzie"},"score":0,"creation_date":1701310383,"post_id":77575430,"comment_id":136761085,"body_markdown":"Why did you tag this as `dsa`?  The `dsa` tag is for `Digital Signature Algorithm`.  You should have tagged `java`.","body":"Why did you tag this as <code>dsa</code>?  The <code>dsa</code> tag is for <code>Digital Signature Algorithm</code>.  You should have tagged <code>java</code>."}],"owner":{"account_id":25813484,"reputation":1,"user_id":19553805,"display_name":"Vishant Sandilya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701310413,"creation_date":1701309125,"question_id":77575430,"body_markdown":"Problem link :https://www.spoj.com/problems/NUMTSN/\r\n\r\n&gt;! My Solution :  `https://ideone.com/qhPjvD`\r\n\r\nI am trying to run this solution but couldn&#39;t find a way to surpass TLE\r\n\r\nEveryone is not considering the tight*lower and tight*\\_upper as the dp state \r\n\r\nSo is there any way to reducinf the dp size\r\n\r\nmy code :\r\n\r\n```\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\npublic class Main {\r\n    static int mod = (int)1e9+7;\r\n    static int[][][][][][]dp= new int[2][2][18][18][18][50];\r\n    public static void main(String[] args) throws IOException {\r\n        BufferedReader buf = new BufferedReader(new InputStreamReader(System.in));\r\n        int t = Integer.parseInt(buf.readLine());\r\n        while (t-- &gt; 0) {\r\n            for(int [][][][][]a:dp)\r\n                for(int [][][][]b:a)\r\n                    for(int [][][]c:b)\r\n                        for(int [][]d:c)\r\n                            for(int []e:d)Arrays.fill(e,-1);\r\n            StringTokenizer st = new StringTokenizer(buf.readLine());\r\n            StringBuilder a = new StringBuilder(st.nextToken());\r\n            a.reverse();\r\n            String b = st.nextToken();\r\n            while (a.length() &lt; b.length()) a.append(&#39;0&#39;);\r\n            a.reverse();\r\n            String l = a.toString();\r\n            System.out.println(function(l, b, 0, 1, 1, 0,0,0));\r\n        }\r\n    }\r\n    static int function(String ls, String us, int pos, int tl, int tr, int d1, int d2, int d3) {\r\n        if (d1 &gt;= 17 || d2 &gt;= 17 || d3 &gt;= 17) return 0;\r\n        if (pos == us.length()) {\r\n            return d1 == d2 &amp;&amp; d2 == d3 &amp;&amp; d1 &gt;= 1 ? 1 : 0;\r\n        }\r\n        if(dp[tl][tr][d1][d2][d3][pos]!=-1)return dp[tl][tr][d1][d2][d3][pos];\r\n        int lb = tl == 1 ? ls.charAt(pos)-&#39;0&#39; : 0;\r\n        int ub = tr == 1 ? us.charAt(pos) - &#39;0&#39; : 9;\r\n        int ret = 0;\r\n        for (int i = lb; i &lt;= ub; i++) {\r\n            int a = 0, b = 0, c = 0;\r\n            if (i == 3) a= a+1;\r\n            else if (i == 6) b=b+1;\r\n            else if (i == 9) c=c+1;\r\n            ret = (ret + function(ls, us, pos + 1, tl == 1 &amp;&amp; i == lb ? 1 : 0, tr == 1 &amp;&amp; i == ub ? 1 : 0,d1+a, d2+b, d3+c ))%mod;\r\n        }\r\n        return dp[tl][tr][d1][d2][d3][pos]=ret;\r\n    }\r\n}\r\n```","title":"Optimization for 369 Numbers Problem on Spoj , https://www.spoj.com/problems/NUMTSN/","body":"<p>Problem link :<a href=\"https://www.spoj.com/problems/NUMTSN/\" rel=\"nofollow noreferrer\">https://www.spoj.com/problems/NUMTSN/</a></p>\n<blockquote class=\"spoiler\">\n<p> My Solution :  <code>https://ideone.com/qhPjvD</code></p>\n</blockquote>\n<p>I am trying to run this solution but couldn't find a way to surpass TLE</p>\n<p>Everyone is not considering the tight<em>lower and tight</em>_upper as the dp state</p>\n<p>So is there any way to reducinf the dp size</p>\n<p>my code :</p>\n<pre><code>import java.io.*;\nimport java.util.*;\n\npublic class Main {\n    static int mod = (int)1e9+7;\n    static int[][][][][][]dp= new int[2][2][18][18][18][50];\n    public static void main(String[] args) throws IOException {\n        BufferedReader buf = new BufferedReader(new InputStreamReader(System.in));\n        int t = Integer.parseInt(buf.readLine());\n        while (t-- &gt; 0) {\n            for(int [][][][][]a:dp)\n                for(int [][][][]b:a)\n                    for(int [][][]c:b)\n                        for(int [][]d:c)\n                            for(int []e:d)Arrays.fill(e,-1);\n            StringTokenizer st = new StringTokenizer(buf.readLine());\n            StringBuilder a = new StringBuilder(st.nextToken());\n            a.reverse();\n            String b = st.nextToken();\n            while (a.length() &lt; b.length()) a.append('0');\n            a.reverse();\n            String l = a.toString();\n            System.out.println(function(l, b, 0, 1, 1, 0,0,0));\n        }\n    }\n    static int function(String ls, String us, int pos, int tl, int tr, int d1, int d2, int d3) {\n        if (d1 &gt;= 17 || d2 &gt;= 17 || d3 &gt;= 17) return 0;\n        if (pos == us.length()) {\n            return d1 == d2 &amp;&amp; d2 == d3 &amp;&amp; d1 &gt;= 1 ? 1 : 0;\n        }\n        if(dp[tl][tr][d1][d2][d3][pos]!=-1)return dp[tl][tr][d1][d2][d3][pos];\n        int lb = tl == 1 ? ls.charAt(pos)-'0' : 0;\n        int ub = tr == 1 ? us.charAt(pos) - '0' : 9;\n        int ret = 0;\n        for (int i = lb; i &lt;= ub; i++) {\n            int a = 0, b = 0, c = 0;\n            if (i == 3) a= a+1;\n            else if (i == 6) b=b+1;\n            else if (i == 9) c=c+1;\n            ret = (ret + function(ls, us, pos + 1, tl == 1 &amp;&amp; i == lb ? 1 : 0, tr == 1 &amp;&amp; i == ub ? 1 : 0,d1+a, d2+b, d3+c ))%mod;\n        }\n        return dp[tl][tr][d1][d2][d3][pos]=ret;\n    }\n}\n</code></pre>\n"},{"tags":["java","xml","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701164417,"post_id":77562499,"comment_id":136738464,"body_markdown":"Do you really need the `logback-spring.xml` at all? `scanPeriod` doesn&#39;t really make sense for an xml that is being shipped as part of the application (as you cannot open the jar edit the file, close it so that it will be re-read). The `LOG_PATTERN` can be set through `application.properties`.","body":"Do you really need the <code>logback-spring.xml</code> at all? <code>scanPeriod</code> doesn&#39;t really make sense for an xml that is being shipped as part of the application (as you cannot open the jar edit the file, close it so that it will be re-read). The <code>LOG_PATTERN</code> can be set through <code>application.properties</code>."},{"owner":{"account_id":21103632,"reputation":2356,"user_id":15513073,"display_name":"leaf_yakitori"},"score":0,"creation_date":1701180517,"post_id":77562499,"comment_id":136741350,"body_markdown":"@M. Deinum they have more different part than I mention, I just name a few as an example. such as logger name are different, I&#39;ll edit to add them.","body":"@M. Deinum they have more different part than I mention, I just name a few as an example. such as logger name are different, I&#39;ll edit to add them."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701180832,"post_id":77562499,"comment_id":136741427,"body_markdown":"logger names for what? Can you show such a `logback-spring.xml`? If the logger names are for specifiying at which level that can also be done through `application.properties`.","body":"logger names for what? Can you show such a <code>logback-spring.xml</code>? If the logger names are for specifiying at which level that can also be done through <code>application.properties</code>."},{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":0,"creation_date":1701189402,"post_id":77562499,"comment_id":136743249,"body_markdown":"I guess, you could generate logback-spring.xml on fly from a template when application compiles. This could be a maven plugin. Take openapi-generator-maven-plugin as example.","body":"I guess, you could generate logback-spring.xml on fly from a template when application compiles. This could be a maven plugin. Take openapi-generator-maven-plugin as example."},{"owner":{"account_id":21103632,"reputation":2356,"user_id":15513073,"display_name":"leaf_yakitori"},"score":0,"creation_date":1701220574,"post_id":77562499,"comment_id":136747854,"body_markdown":"@M. Deinum sry I&#39;m too busy yesterday, I add an example file to the question now.","body":"@M. Deinum sry I&#39;m too busy yesterday, I add an example file to the question now."}],"answers":[{"comments":[{"owner":{"account_id":21103632,"reputation":2356,"user_id":15513073,"display_name":"leaf_yakitori"},"score":0,"creation_date":1701180572,"post_id":77563156,"comment_id":136741365,"body_markdown":"good idea. I want to see more answer so I&#39;ll keep the question for a few days.","body":"good idea. I want to see more answer so I&#39;ll keep the question for a few days."},{"owner":{"account_id":8333120,"reputation":832,"user_id":12868186,"display_name":"wpnpeiris"},"score":0,"creation_date":1701185232,"post_id":77563156,"comment_id":136742341,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/77563156/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27373192,"reputation":1,"user_id":20878948,"display_name":"chaos"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701167724,"creation_date":1701167724,"answer_id":77563156,"question_id":77562499,"body_markdown":" Here&#39;s a method you can reference.\r\n\r\n Try to abstract these different log.xml files to JAVA objects and persist this data. \r\n\r\nWhen start the application, you just need to convert these to Xml files. It&#39; \r\n\r\nmore flexible and easier to manage JAVA objects than manage Xml static files.\r\n\r\n","title":"How to reduce the duplicate code in logback-spring.xml file in many different project?","body":"<p>Here's a method you can reference.</p>\n<p>Try to abstract these different log.xml files to JAVA objects and persist this data.</p>\n<p>When start the application, you just need to convert these to Xml files. It'</p>\n<p>more flexible and easier to manage JAVA objects than manage Xml static files.</p>\n"},{"comments":[{"owner":{"account_id":21103632,"reputation":2356,"user_id":15513073,"display_name":"leaf_yakitori"},"score":0,"creation_date":1701306965,"post_id":77571285,"comment_id":136760827,"body_markdown":"good idea, +1 for your effort,I want to see more answer so I&#39;ll keep the question for a few days.","body":"good idea, +1 for your effort,I want to see more answer so I&#39;ll keep the question for a few days."}],"tags":[],"owner":{"account_id":13415400,"reputation":56,"user_id":9680120,"display_name":"Mustapha Gheribi"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701262079,"creation_date":1701262079,"answer_id":77571285,"question_id":77562499,"body_markdown":"Logback allows you to include other configuration files within your main `logback.xml` using the `&lt;include&gt;` element. You can create a common configuration file with shared settings and include it in each project&#39;s logback configuration file \r\n\r\n**common logback**\r\n\r\n    &lt;configuration&gt;\r\n      &lt;!-- Shared conf here --&gt;\r\n    &lt;configuration&gt;\r\n\r\n**specific logback**\r\n\r\n    &lt;configuration&gt;\r\n      &lt;include resource=&quot;common-logback.xml&quot; /&gt;\r\n      &lt;!-- Specific conf here --&gt;\r\n    &lt;/configuration&gt;","title":"How to reduce the duplicate code in logback-spring.xml file in many different project?","body":"<p>Logback allows you to include other configuration files within your main <code>logback.xml</code> using the <code>&lt;include&gt;</code> element. You can create a common configuration file with shared settings and include it in each project's logback configuration file</p>\n<p><strong>common logback</strong></p>\n<pre><code>&lt;configuration&gt;\n  &lt;!-- Shared conf here --&gt;\n&lt;configuration&gt;\n</code></pre>\n<p><strong>specific logback</strong></p>\n<pre><code>&lt;configuration&gt;\n  &lt;include resource=&quot;common-logback.xml&quot; /&gt;\n  &lt;!-- Specific conf here --&gt;\n&lt;/configuration&gt;\n</code></pre>\n"}],"owner":{"account_id":21103632,"reputation":2356,"user_id":15513073,"display_name":"leaf_yakitori"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77571285,"answer_count":2,"score":0,"last_activity_date":1701310393,"creation_date":1701162242,"question_id":77562499,"body_markdown":"### description:\r\n- My company have a lot of `spring` project with using basically the same (90% the same)  `logback-spring.xml` in all project, such as `scanPeriod` and `LOG_PATTERN` are different. So my boss ask me to reduce duplicate code in `logback-spring.xml` file.\r\n- All project rarely change the `logback-spring.xml` file, but they may change it in the future.\r\n- If I need post the `logback-spring.xml` code, I&#39;ll remove company information in it and post it later.\r\n### what I have tried:\r\n1. Use `maven` to share `logback-spring.xml`. But the `logback-spring.xml` are **basically** the same, not exactly the same.\r\n2. All projects have a dependency to a company basic library named `framework`, so I can store all `logback-spring.xml` in `framework`. But it didn&#39;t reduce any duplicate code.\r\n3. (here now)Tell my boss there is no need to reduce the duplicate code in a config file, such as `logback-spring.xml`. Because they are technically not **code**, they can&#39;t build or run.\r\n### example file:\r\n- The &quot;xxx&quot; and &quot;xxxx&quot; part are changed depends on project.\r\n- Some project may add or remove some `springProperty`\r\n- `springProperty` name maybe different.\r\n- `maxFileSize` maybe different.\r\n- `scanPeriod` and `LOG_PATTERN` maybe different.\r\n- etc.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration scan=&quot;true&quot; scanPeriod=&quot;10 seconds&quot;&gt;\r\n    &lt;springProperty scope=&quot;context&quot; name=&quot;springAppName&quot;  source=&quot;spring.application.name&quot; defaultValue=&quot;cloud1-service&quot;/&gt;\r\n\r\n    &lt;springProperty scope=&quot;context&quot; name=&quot;emailSmtpHost&quot; source=&quot;xxx.admin.email.smtpHost&quot;/&gt;\r\n    &lt;springProperty scope=&quot;context&quot; name=&quot;emailSmtpPort&quot; source=&quot;xxx.admin.email.smtpPort&quot;/&gt;\r\n    &lt;springProperty scope=&quot;context&quot; name=&quot;emailUsername&quot; source=&quot;xxx.admin.email.username&quot;/&gt;\r\n    &lt;springProperty scope=&quot;context&quot; name=&quot;emailPassword&quot; source=&quot;xxx.admin.email.password&quot;/&gt;\r\n    &lt;springProperty scope=&quot;context&quot; name=&quot;emailTitle&quot; source=&quot;xxx.admin.email.title&quot;/&gt;\r\n    &lt;springProperty scope=&quot;context&quot; name=&quot;emailFrom&quot; source=&quot;xxx.admin.email.from&quot;/&gt;\r\n    &lt;springProperty scope=&quot;context&quot; name=&quot;emailTo&quot; source=&quot;xxx.admin.email.to&quot;/&gt;\r\n\r\n    &lt;property name=&quot;LOG_CONTEXT_NAME&quot; value=&quot;${springAppName}&quot;/&gt;\r\n    &lt;property name=&quot;LOG_HOME&quot; value=&quot;logs/&quot;/&gt;\r\n    &lt;property name=&quot;LOG_PATTERN&quot; value=&quot;%d{yyyy-MM-dd HH:mm:ss.SSS} [TraceId=%yellow(%X{traceId}),SpanId=%green(%X{spanId}),ParentSpanId=%blue(%X{parentId})]\r\n                [%thread] %-5level %logger{10}-%msg%n&quot;/&gt;\r\n\r\n    &lt;appender name=&quot;EMAIL&quot; class=&quot;ch.qos.logback.classic.net.SMTPAppender&quot;&gt;\r\n        &lt;smtpHost&gt;${emailSmtpHost}&lt;/smtpHost&gt;\r\n        &lt;smtpPort&gt;${emailSmtpPort}&lt;/smtpPort&gt;\r\n        &lt;username&gt;${emailUsername}&lt;/username&gt;\r\n        &lt;password&gt;${emailPassword}&lt;/password&gt;\r\n        &lt;to&gt;${emailTo},${emailCopy}&lt;/to&gt;\r\n        &lt;from&gt;${emailFrom}&lt;/from&gt;\r\n        &lt;subject&gt;${emailTitle}(${springAppName})&lt;/subject&gt;\r\n        &lt;layout class=&quot;ch.qos.logback.classic.html.HTMLLayout&quot;/&gt;\r\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\r\n            &lt;level&gt;ERROR&lt;/level&gt;\r\n        &lt;/filter&gt;\r\n        &lt;SSL&gt;true&lt;/SSL&gt;\r\n        &lt;asynchronousSending&gt;true&lt;/asynchronousSending&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;appender name=&quot;ERROR_FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;File&gt;${LOG_HOME}/${HOSTNAME}-${LOG_CONTEXT_NAME}.error.log&lt;/File&gt;\r\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n            &lt;fileNamePattern&gt;${LOG_HOME}/biz/error-%d{yyyy-MM-dd}.%i.log.zip&lt;/fileNamePattern&gt;\r\n            &lt;maxHistory&gt;365&lt;/maxHistory&gt;\r\n            &lt;totalSizeCap&gt;10GB&lt;/totalSizeCap&gt;\r\n            &lt;timeBasedFileNamingAndTriggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\r\n                &lt;maxFileSize&gt;128 MB&lt;/maxFileSize&gt;\r\n            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\r\n        &lt;/rollingPolicy&gt;\r\n        &lt;layout&gt;\r\n            &lt;Pattern&gt;${LOG_PATTERN}&lt;/Pattern&gt;\r\n        &lt;/layout&gt;\r\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.LevelFilter&quot;&gt;\r\n            &lt;level&gt;ERROR&lt;/level&gt;\r\n            &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt;\r\n            &lt;onMismatch&gt;DENY&lt;/onMismatch&gt;\r\n        &lt;/filter&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;appender name=&quot;BIZ_FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;File&gt;${LOG_HOME}/${HOSTNAME}-${LOG_CONTEXT_NAME}.biz.log&lt;/File&gt;\r\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n            &lt;fileNamePattern&gt;${LOG_HOME}/biz/${HOSTNAME}-${LOG_CONTEXT_NAME}.biz-%d{yyyy-MM-dd}.%i.log.zip&lt;/fileNamePattern&gt;\r\n            &lt;maxHistory&gt;365&lt;/maxHistory&gt;\r\n            &lt;totalSizeCap&gt;10GB&lt;/totalSizeCap&gt;\r\n            &lt;timeBasedFileNamingAndTriggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\r\n                &lt;maxFileSize&gt;128 MB&lt;/maxFileSize&gt;\r\n            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\r\n        &lt;/rollingPolicy&gt;\r\n        &lt;encoder&gt;\r\n            &lt;Pattern&gt;${LOG_PATTERN}&lt;/Pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder&gt;\r\n            &lt;Pattern&gt;${LOG_PATTERN}&lt;/Pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;appender name=&quot;ASYNC_ERROR_FILE&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\r\n        &lt;discardingThreshold&gt;0&lt;/discardingThreshold&gt;\r\n        &lt;queueSize&gt;512&lt;/queueSize&gt;\r\n        &lt;appender-ref ref=&quot;ERROR_FILE&quot;/&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;appender name=&quot;ASYNC_BIZ_FILE&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\r\n        &lt;discardingThreshold&gt;0&lt;/discardingThreshold&gt;\r\n        &lt;queueSize&gt;512&lt;/queueSize&gt;\r\n        &lt;appender-ref ref=&quot;BIZ_FILE&quot;/&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;appender name=&quot;ASYNC_STDOUT&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\r\n        &lt;discardingThreshold&gt;0&lt;/discardingThreshold&gt;\r\n        &lt;queueSize&gt;512&lt;/queueSize&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;root level=&quot;WARN&quot;&gt;\r\n        &lt;appender-ref ref=&quot;ASYNC_STDOUT&quot;/&gt;\r\n        &lt;appender-ref ref=&quot;ASYNC_BIZ_FILE&quot;/&gt;\r\n        &lt;appender-ref ref=&quot;ASYNC_ERROR_FILE&quot;/&gt;\r\n    &lt;/root&gt;\r\n\r\n    &lt;logger name=&quot;com.xxxx.cloud1&quot; level=&quot;debug&quot; additivity=&quot;false&quot; includeLocation=&quot;true&quot;&gt;\r\n        &lt;appender-ref ref=&quot;ASYNC_STDOUT&quot;/&gt;\r\n        &lt;appender-ref ref=&quot;ASYNC_BIZ_FILE&quot;/&gt;\r\n        &lt;appender-ref ref=&quot;ASYNC_ERROR_FILE&quot;/&gt;\r\n        &lt;appender-ref ref=&quot;EMAIL&quot;/&gt;\r\n    &lt;/logger&gt;\r\n\r\n&lt;/configuration&gt;\r\n```\r\n### question\r\n1. Any way to reduce the duplicate code in `logback-spring.xml` file in many different project?\r\n2. Do we really need to reduce the duplicate code in a config file, such as `logback-spring.xml`?","title":"How to reduce the duplicate code in logback-spring.xml file in many different project?","body":"<h3>description:</h3>\n<ul>\n<li>My company have a lot of <code>spring</code> project with using basically the same (90% the same)  <code>logback-spring.xml</code> in all project, such as <code>scanPeriod</code> and <code>LOG_PATTERN</code> are different. So my boss ask me to reduce duplicate code in <code>logback-spring.xml</code> file.</li>\n<li>All project rarely change the <code>logback-spring.xml</code> file, but they may change it in the future.</li>\n<li>If I need post the <code>logback-spring.xml</code> code, I'll remove company information in it and post it later.</li>\n</ul>\n<h3>what I have tried:</h3>\n<ol>\n<li>Use <code>maven</code> to share <code>logback-spring.xml</code>. But the <code>logback-spring.xml</code> are <strong>basically</strong> the same, not exactly the same.</li>\n<li>All projects have a dependency to a company basic library named <code>framework</code>, so I can store all <code>logback-spring.xml</code> in <code>framework</code>. But it didn't reduce any duplicate code.</li>\n<li>(here now)Tell my boss there is no need to reduce the duplicate code in a config file, such as <code>logback-spring.xml</code>. Because they are technically not <strong>code</strong>, they can't build or run.</li>\n</ol>\n<h3>example file:</h3>\n<ul>\n<li>The &quot;xxx&quot; and &quot;xxxx&quot; part are changed depends on project.</li>\n<li>Some project may add or remove some <code>springProperty</code></li>\n<li><code>springProperty</code> name maybe different.</li>\n<li><code>maxFileSize</code> maybe different.</li>\n<li><code>scanPeriod</code> and <code>LOG_PATTERN</code> maybe different.</li>\n<li>etc.</li>\n</ul>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration scan=&quot;true&quot; scanPeriod=&quot;10 seconds&quot;&gt;\n    &lt;springProperty scope=&quot;context&quot; name=&quot;springAppName&quot;  source=&quot;spring.application.name&quot; defaultValue=&quot;cloud1-service&quot;/&gt;\n\n    &lt;springProperty scope=&quot;context&quot; name=&quot;emailSmtpHost&quot; source=&quot;xxx.admin.email.smtpHost&quot;/&gt;\n    &lt;springProperty scope=&quot;context&quot; name=&quot;emailSmtpPort&quot; source=&quot;xxx.admin.email.smtpPort&quot;/&gt;\n    &lt;springProperty scope=&quot;context&quot; name=&quot;emailUsername&quot; source=&quot;xxx.admin.email.username&quot;/&gt;\n    &lt;springProperty scope=&quot;context&quot; name=&quot;emailPassword&quot; source=&quot;xxx.admin.email.password&quot;/&gt;\n    &lt;springProperty scope=&quot;context&quot; name=&quot;emailTitle&quot; source=&quot;xxx.admin.email.title&quot;/&gt;\n    &lt;springProperty scope=&quot;context&quot; name=&quot;emailFrom&quot; source=&quot;xxx.admin.email.from&quot;/&gt;\n    &lt;springProperty scope=&quot;context&quot; name=&quot;emailTo&quot; source=&quot;xxx.admin.email.to&quot;/&gt;\n\n    &lt;property name=&quot;LOG_CONTEXT_NAME&quot; value=&quot;${springAppName}&quot;/&gt;\n    &lt;property name=&quot;LOG_HOME&quot; value=&quot;logs/&quot;/&gt;\n    &lt;property name=&quot;LOG_PATTERN&quot; value=&quot;%d{yyyy-MM-dd HH:mm:ss.SSS} [TraceId=%yellow(%X{traceId}),SpanId=%green(%X{spanId}),ParentSpanId=%blue(%X{parentId})]\n                [%thread] %-5level %logger{10}-%msg%n&quot;/&gt;\n\n    &lt;appender name=&quot;EMAIL&quot; class=&quot;ch.qos.logback.classic.net.SMTPAppender&quot;&gt;\n        &lt;smtpHost&gt;${emailSmtpHost}&lt;/smtpHost&gt;\n        &lt;smtpPort&gt;${emailSmtpPort}&lt;/smtpPort&gt;\n        &lt;username&gt;${emailUsername}&lt;/username&gt;\n        &lt;password&gt;${emailPassword}&lt;/password&gt;\n        &lt;to&gt;${emailTo},${emailCopy}&lt;/to&gt;\n        &lt;from&gt;${emailFrom}&lt;/from&gt;\n        &lt;subject&gt;${emailTitle}(${springAppName})&lt;/subject&gt;\n        &lt;layout class=&quot;ch.qos.logback.classic.html.HTMLLayout&quot;/&gt;\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\n            &lt;level&gt;ERROR&lt;/level&gt;\n        &lt;/filter&gt;\n        &lt;SSL&gt;true&lt;/SSL&gt;\n        &lt;asynchronousSending&gt;true&lt;/asynchronousSending&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;ERROR_FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n        &lt;File&gt;${LOG_HOME}/${HOSTNAME}-${LOG_CONTEXT_NAME}.error.log&lt;/File&gt;\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n            &lt;fileNamePattern&gt;${LOG_HOME}/biz/error-%d{yyyy-MM-dd}.%i.log.zip&lt;/fileNamePattern&gt;\n            &lt;maxHistory&gt;365&lt;/maxHistory&gt;\n            &lt;totalSizeCap&gt;10GB&lt;/totalSizeCap&gt;\n            &lt;timeBasedFileNamingAndTriggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\n                &lt;maxFileSize&gt;128 MB&lt;/maxFileSize&gt;\n            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\n        &lt;/rollingPolicy&gt;\n        &lt;layout&gt;\n            &lt;Pattern&gt;${LOG_PATTERN}&lt;/Pattern&gt;\n        &lt;/layout&gt;\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.LevelFilter&quot;&gt;\n            &lt;level&gt;ERROR&lt;/level&gt;\n            &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt;\n            &lt;onMismatch&gt;DENY&lt;/onMismatch&gt;\n        &lt;/filter&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;BIZ_FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n        &lt;File&gt;${LOG_HOME}/${HOSTNAME}-${LOG_CONTEXT_NAME}.biz.log&lt;/File&gt;\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n            &lt;fileNamePattern&gt;${LOG_HOME}/biz/${HOSTNAME}-${LOG_CONTEXT_NAME}.biz-%d{yyyy-MM-dd}.%i.log.zip&lt;/fileNamePattern&gt;\n            &lt;maxHistory&gt;365&lt;/maxHistory&gt;\n            &lt;totalSizeCap&gt;10GB&lt;/totalSizeCap&gt;\n            &lt;timeBasedFileNamingAndTriggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\n                &lt;maxFileSize&gt;128 MB&lt;/maxFileSize&gt;\n            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\n        &lt;/rollingPolicy&gt;\n        &lt;encoder&gt;\n            &lt;Pattern&gt;${LOG_PATTERN}&lt;/Pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;Pattern&gt;${LOG_PATTERN}&lt;/Pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;ASYNC_ERROR_FILE&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\n        &lt;discardingThreshold&gt;0&lt;/discardingThreshold&gt;\n        &lt;queueSize&gt;512&lt;/queueSize&gt;\n        &lt;appender-ref ref=&quot;ERROR_FILE&quot;/&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;ASYNC_BIZ_FILE&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\n        &lt;discardingThreshold&gt;0&lt;/discardingThreshold&gt;\n        &lt;queueSize&gt;512&lt;/queueSize&gt;\n        &lt;appender-ref ref=&quot;BIZ_FILE&quot;/&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;ASYNC_STDOUT&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\n        &lt;discardingThreshold&gt;0&lt;/discardingThreshold&gt;\n        &lt;queueSize&gt;512&lt;/queueSize&gt;\n        &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\n    &lt;/appender&gt;\n\n    &lt;root level=&quot;WARN&quot;&gt;\n        &lt;appender-ref ref=&quot;ASYNC_STDOUT&quot;/&gt;\n        &lt;appender-ref ref=&quot;ASYNC_BIZ_FILE&quot;/&gt;\n        &lt;appender-ref ref=&quot;ASYNC_ERROR_FILE&quot;/&gt;\n    &lt;/root&gt;\n\n    &lt;logger name=&quot;com.xxxx.cloud1&quot; level=&quot;debug&quot; additivity=&quot;false&quot; includeLocation=&quot;true&quot;&gt;\n        &lt;appender-ref ref=&quot;ASYNC_STDOUT&quot;/&gt;\n        &lt;appender-ref ref=&quot;ASYNC_BIZ_FILE&quot;/&gt;\n        &lt;appender-ref ref=&quot;ASYNC_ERROR_FILE&quot;/&gt;\n        &lt;appender-ref ref=&quot;EMAIL&quot;/&gt;\n    &lt;/logger&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n<h3>question</h3>\n<ol>\n<li>Any way to reduce the duplicate code in <code>logback-spring.xml</code> file in many different project?</li>\n<li>Do we really need to reduce the duplicate code in a config file, such as <code>logback-spring.xml</code>?</li>\n</ol>\n"},{"tags":["java","maven","github","repository","guava"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1701311451,"post_id":77575429,"comment_id":136761190,"body_markdown":"The issue is not clear. If you are using Maven then you should not upload libraries to GitHub. Maven will download the libraries as dependencies when needed. You need to provide the error and reproduction steps to clarify the issue.","body":"The issue is not clear. If you are using Maven then you should not upload libraries to GitHub. Maven will download the libraries as dependencies when needed. You need to provide the error and reproduction steps to clarify the issue."},{"owner":{"account_id":30027175,"reputation":1,"user_id":23011067,"display_name":"Caio Diniz"},"score":0,"creation_date":1701345236,"post_id":77575429,"comment_id":136765391,"body_markdown":"@aled , I have a project on my computer and I uploaded it to github, but when someone tries to clone my code and run it, they can&#39;t due to some errors. This is because the guava library I&#39;m using hasn&#39;t made it into the repository. I want to know how I can do something to make it easier for someone to clone my repository and run the code correctly with the library.","body":"@aled , I have a project on my computer and I uploaded it to github, but when someone tries to clone my code and run it, they can&#39;t due to some errors. This is because the guava library I&#39;m using hasn&#39;t made it into the repository. I want to know how I can do something to make it easier for someone to clone my repository and run the code correctly with the library."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1701345995,"post_id":77575429,"comment_id":136765523,"body_markdown":"You use a Maven POM and declare guava as dependency there.","body":"You use a Maven POM and declare guava as dependency there."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1701347531,"post_id":77575429,"comment_id":136765818,"body_markdown":"You have to share the errors and reproduction steps. We can not guess which error are they having if you don&#39;t share the details. Edit your question to add details instead of comments.","body":"You have to share the errors and reproduction steps. We can not guess which error are they having if you don&#39;t share the details. Edit your question to add details instead of comments."}],"owner":{"account_id":30027175,"reputation":1,"user_id":23011067,"display_name":"Caio Diniz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701309123,"creation_date":1701309123,"question_id":77575429,"body_markdown":"Sorry for bad english. I made an java code and created a repository on github, but the library guava that i was using didnt go with the rest of the code. How can i add this library in my repository in a way that is easy to anyone use the project propertly?\r\n\r\nI think maybe something with maven should work, but i dont know how to use it too, so if that is the best way to do this, can anyone recommend an video or playlist teaching how to use?","title":"How can i add an library into my project repository on github?","body":"<p>Sorry for bad english. I made an java code and created a repository on github, but the library guava that i was using didnt go with the rest of the code. How can i add this library in my repository in a way that is easy to anyone use the project propertly?</p>\n<p>I think maybe something with maven should work, but i dont know how to use it too, so if that is the best way to do this, can anyone recommend an video or playlist teaching how to use?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1701307616,"post_id":77575366,"comment_id":136760881,"body_markdown":"[Passing Information to a Method or a Constructor](https://docs.oracle.com/javase/tutorial/java/javaOO/arguments.html).  You may also want to have a look at concepts like [model view controller](https://www.google.com/search?q=java+model+view+controller) (emphasis on the model part) and the [observer pattern](https://www.google.com/search?q=java+observer+pattern) as some starting suggestions","body":"<a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/arguments.html\" rel=\"nofollow noreferrer\">Passing Information to a Method or a Constructor</a>.  You may also want to have a look at concepts like <a href=\"https://www.google.com/search?q=java+model+view+controller\" rel=\"nofollow noreferrer\">model view controller</a> (emphasis on the model part) and the <a href=\"https://www.google.com/search?q=java+observer+pattern\" rel=\"nofollow noreferrer\">observer pattern</a> as some starting suggestions"}],"owner":{"account_id":30027045,"reputation":1,"user_id":23010970,"display_name":"Muhammad faye"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701307926,"answer_count":0,"score":-1,"last_activity_date":1701307953,"creation_date":1701307468,"question_id":77575366,"body_markdown":"good evening, I have a little problem with my java swing application. I have a JFrame1 window which displays information and other JFrame windows which \r\n\r\nat each launch must retrieve the information from JFrame 1 and display it in JLabel. I don&#39;t know how to get","title":"Java swing: recovering data from JFrame 1 to Jframe 2","body":"<p>good evening, I have a little problem with my java swing application. I have a JFrame1 window which displays information and other JFrame windows which</p>\n<p>at each launch must retrieve the information from JFrame 1 and display it in JLabel. I don't know how to get</p>\n"},{"tags":["java","file","java-io","filewriter"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1374137037,"post_id":17718613,"comment_id":25825277,"body_markdown":"Do you literally have the &quot;../..&quot; in there? If so, you need to look in `D:/codes/bin/logs`","body":"Do you literally have the &quot;../..&quot; in there? If so, you need to look in <code>D:&#47;codes&#47;bin&#47;logs</code>"},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1374137288,"post_id":17718613,"comment_id":25825422,"body_markdown":"Also with Java 7, you can do the same with: `Files.write(Paths.get(fullPath), contents.getBytes(&quot;UTF-8&quot;));`","body":"Also with Java 7, you can do the same with: <code>Files.write(Paths.get(fullPath), contents.getBytes(&quot;UTF-8&quot;));</code>"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":3,"creation_date":1374137432,"post_id":17718613,"comment_id":25825513,"body_markdown":"`createNewFile()` is not needed.","body":"<code>createNewFile()</code> is not needed."},{"owner":{"account_id":1872058,"reputation":1227,"user_id":1694076,"accept_rate":34,"display_name":"chris yo"},"score":0,"creation_date":1374138045,"post_id":17718613,"comment_id":25825853,"body_markdown":"@JonSkeet: Yes, I have the &quot;..\\..&quot; in the path, since I want to save the file at D:/codes/bin/logs.","body":"@JonSkeet: Yes, I have the &quot;..\\..&quot; in the path, since I want to save the file at D:/codes/bin/logs."},{"owner":{"account_id":1872058,"reputation":1227,"user_id":1694076,"accept_rate":34,"display_name":"chris yo"},"score":0,"creation_date":1374138101,"post_id":17718613,"comment_id":25825879,"body_markdown":"@JoopEggen: I added that after several failed attempts in writing the contents to a file. :) I will remove that once I established that this line is not needed.","body":"@JoopEggen: I added that after several failed attempts in writing the contents to a file. :) I will remove that once I established that this line is not needed."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1374138991,"post_id":17718613,"comment_id":25826352,"body_markdown":"Mysterious. Do you reach that code? How about some other exception, SecurityException, or the like? No empty `catch (Throwable e) {}` I hope?","body":"Mysterious. Do you reach that code? How about some other exception, SecurityException, or the like? No empty <code>catch (Throwable e) {}</code> I hope?"},{"owner":{"account_id":1872058,"reputation":1227,"user_id":1694076,"accept_rate":34,"display_name":"chris yo"},"score":0,"creation_date":1374141885,"post_id":17718613,"comment_id":25828146,"body_markdown":"I found out the cause already. It seems that the batch file is deleting all the .txt files after execution. Hmph! The pitfalls of a developer!","body":"I found out the cause already. It seems that the batch file is deleting all the .txt files after execution. Hmph! The pitfalls of a developer!"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1467447187,"post_id":17718613,"comment_id":63744580,"body_markdown":"The file is being created but not where you&#39;re looking, unless there was an exception. The `exists()/createNewFile()` block is a complete waste of time and space. `new FileWriter()` causes the operating system to do that anyway, and now you&#39;re forcing it to add a deletion of the file you just created as well. Don&#39;t write pointless code. `new FileWriter(file)` would do just as well.","body":"The file is being created but not where you&#39;re looking, unless there was an exception. The <code>exists()&#47;createNewFile()</code> block is a complete waste of time and space. <code>new FileWriter()</code> causes the operating system to do that anyway, and now you&#39;re forcing it to add a deletion of the file you just created as well. Don&#39;t write pointless code. <code>new FileWriter(file)</code> would do just as well."},{"owner":{"account_id":1178561,"reputation":5401,"user_id":1153988,"display_name":"C.Champagne"},"score":1,"creation_date":1467456706,"post_id":17718613,"comment_id":63746987,"body_markdown":"Have you tried to see what `file.getCanonicalPath()` returns? Is it what you expected?","body":"Have you tried to see what <code>file.getCanonicalPath()</code> returns? Is it what you expected?"}],"answers":[{"comments":[{"owner":{"account_id":1872058,"reputation":1227,"user_id":1694076,"accept_rate":34,"display_name":"chris yo"},"score":0,"creation_date":1374138328,"post_id":17718791,"comment_id":25825991,"body_markdown":"I printed the absolute path via file.getAbsolutePath(), and I am getting the correct directory structure. \ne.g. D:\\codes\\sources\\logs\\..\\..\\bin\\logs\\contents.txt.","body":"I printed the absolute path via file.getAbsolutePath(), and I am getting the correct directory structure.  e.g. D:\\codes\\sources\\logs\\..\\..\\bin\\logs\\contents.txt."},{"owner":{"account_id":398094,"reputation":636,"user_id":762588,"display_name":"Viktor Seifert"},"score":3,"creation_date":1374138489,"post_id":17718791,"comment_id":25826080,"body_markdown":"Since the OP is using `File` objects to construct the path there is no need to get the separator and concatenate the full path with strings.","body":"Since the OP is using <code>File</code> objects to construct the path there is no need to get the separator and concatenate the full path with strings."},{"owner":{"account_id":2031287,"reputation":1570,"user_id":1814922,"display_name":"creinig"},"score":3,"creation_date":1374138524,"post_id":17718791,"comment_id":25826099,"body_markdown":"The constructor `File(String parent, String child)` doesn&#39;t care about trailing (back-)slashes (see [the javadocs](http://docs.oracle.com/javase/6/docs/api/java/io/File.html#File(java.lang.String,%20java.lang.String)) ).","body":"The constructor <code>File(String parent, String child)</code> doesn&#39;t care about trailing (back-)slashes (see <a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/File.html#File(java.lang.String,%20java.lang.String)\" rel=\"nofollow noreferrer\">the javadocs</a> )."}],"tags":[],"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"comment_count":3,"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1374137816,"creation_date":1374137399,"answer_id":17718791,"question_id":17718613,"body_markdown":"Make sure you add trailing backslashes to the path parameter so the path is recognized as a directory.  The example provide is for a Windows OS which uses backslashes that are escaped.  For a more robust method use the `file.separator` property for the system.\r\n\r\n**Works**\r\n\r\n    writeToFile(&quot;D:\\\\Documents and Settings\\\\me\\\\Desktop\\\\Development\\\\&quot;,\r\n    \t\t\t\t&quot;this is a test&quot;);\r\n\r\n**Doesn&#39;t Work**\r\n\r\n    writeToFile(&quot;D:\\\\Documents and Settings\\\\me\\\\Desktop\\\\Development&quot;,\r\n    \t\t\t\t&quot;this is a test&quot;);\r\n\r\n**File Separator Example**\r\n    \r\n\tString fs = System.getProperty(&quot;file.separator&quot;);\r\n\tString path = fs + &quot;Documents and Settings&quot; + fs + &quot;me&quot; + fs\r\n\t\t\t+ &quot;Desktop&quot; + fs + &quot;Development&quot; + fs;\r\n\twriteToFile(path, &quot;this is a test&quot;);","title":"Using the FileWriter with a full path","body":"<p>Make sure you add trailing backslashes to the path parameter so the path is recognized as a directory.  The example provide is for a Windows OS which uses backslashes that are escaped.  For a more robust method use the <code>file.separator</code> property for the system.</p>\n\n<p><strong>Works</strong></p>\n\n<pre><code>writeToFile(\"D:\\\\Documents and Settings\\\\me\\\\Desktop\\\\Development\\\\\",\n                \"this is a test\");\n</code></pre>\n\n<p><strong>Doesn't Work</strong></p>\n\n<pre><code>writeToFile(\"D:\\\\Documents and Settings\\\\me\\\\Desktop\\\\Development\",\n                \"this is a test\");\n</code></pre>\n\n<p><strong>File Separator Example</strong></p>\n\n<pre><code>String fs = System.getProperty(\"file.separator\");\nString path = fs + \"Documents and Settings\" + fs + \"me\" + fs\n        + \"Desktop\" + fs + \"Development\" + fs;\nwriteToFile(path, \"this is a test\");\n</code></pre>\n"}],"owner":{"account_id":1872058,"reputation":1227,"user_id":1694076,"accept_rate":34,"display_name":"chris yo"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24186,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":1,"score":3,"last_activity_date":1701306320,"creation_date":1374136929,"question_id":17718613,"body_markdown":"I specified the full path of the file location when I created a FileWriter, but I did not see the file being created. I also did not get any error during file creation.\r\n\r\nHere&#39;s a snippet of my code:\r\n\r\n    \r\n\r\n    public void writeToFile(String fullpath, String contents) {\r\n        File file = new File(fullpath, &quot;contents.txt&quot;);\r\n        if (!file.exists()) {\r\n            try {\r\n                file.createNewFile();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        try {\r\n            BufferedWriter bw = new BufferedWriter(new FileWriter(file.getAbsoluteFile()));\r\n            bw.write(contents);\r\n            bw.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nfullpath is `&quot;D:/codes/sources/logs/../../bin/logs&quot;`.\r\nI have searched my whole directory, but I cannot find the file anywhere.\r\nIf I specify just the filename only [File file = new File(&quot;contents.txt&quot;);] , it is able to save the contents of the file, but it is not placed on my preferred location.\r\n\r\nHow can I save the file content to a preferred location?\r\n\r\nUPDATE:\r\nI printed the full path using file.getAbsolutePath(), and I am getting the correct directory path. [D:\\codes\\sources\\logs\\..\\..\\bin\\logs\\contents.txt] But when I look for the file in directory, I cannot find it there.","title":"Using the FileWriter with a full path","body":"<p>I specified the full path of the file location when I created a FileWriter, but I did not see the file being created. I also did not get any error during file creation.</p>\n\n<p>Here's a snippet of my code:</p>\n\n<pre><code>public void writeToFile(String fullpath, String contents) {\n    File file = new File(fullpath, \"contents.txt\");\n    if (!file.exists()) {\n        try {\n            file.createNewFile();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    try {\n        BufferedWriter bw = new BufferedWriter(new FileWriter(file.getAbsoluteFile()));\n        bw.write(contents);\n        bw.close();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>fullpath is <code>\"D:/codes/sources/logs/../../bin/logs\"</code>.\nI have searched my whole directory, but I cannot find the file anywhere.\nIf I specify just the filename only [File file = new File(\"contents.txt\");] , it is able to save the contents of the file, but it is not placed on my preferred location.</p>\n\n<p>How can I save the file content to a preferred location?</p>\n\n<p>UPDATE:\nI printed the full path using file.getAbsolutePath(), and I am getting the correct directory path. [D:\\codes\\sources\\logs....\\bin\\logs\\contents.txt] But when I look for the file in directory, I cannot find it there.</p>\n"},{"tags":["java","applet","exit"],"comments":[{"owner":{"account_id":985197,"reputation":12521,"user_id":1003886,"accept_rate":66,"display_name":"kajacx"},"score":2,"creation_date":1399993154,"post_id":23634784,"comment_id":36292399,"body_markdown":"Well, what do you expect to happen? If you want to close the applet, try googling &quot;how to terminate java web applet&quot; or something.","body":"Well, what do you expect to happen? If you want to close the applet, try googling &quot;how to terminate java web applet&quot; or something."},{"owner":{"account_id":2325393,"reputation":9581,"user_id":2040040,"accept_rate":93,"display_name":"johnchen902"},"score":0,"creation_date":1399993703,"post_id":23634784,"comment_id":36292794,"body_markdown":"You can try to interact with JavaScript and remove your applet from the DOM. Though I don&#39;t know whether it will work...","body":"You can try to interact with JavaScript and remove your applet from the DOM. Though I don&#39;t know whether it will work..."}],"answers":[{"tags":[],"owner":{"account_id":109542,"reputation":13014,"user_id":290187,"accept_rate":67,"display_name":"T McKeown"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1399993263,"creation_date":1399993263,"answer_id":23634865,"question_id":23634784,"body_markdown":"The code is working correctly as designed.","title":"Exit Java Applet","body":"<p>The code is working correctly as designed.</p>\n"},{"comments":[{"owner":{"account_id":2906896,"reputation":71,"user_id":2491965,"accept_rate":0,"display_name":"Stephane"},"score":0,"creation_date":1400015687,"post_id":23634884,"comment_id":36306392,"body_markdown":"So if applet name is AppletMenu and URL is applet.com, I am typing the following: AppletMenu.getAppletContext().showDocument(appletCloseapplet.com)?","body":"So if applet name is AppletMenu and URL is applet.com, I am typing the following: AppletMenu.getAppletContext().showDocument(appletCloseapplet&zwnj;&#8203;.com)?"},{"owner":{"account_id":2906896,"reputation":71,"user_id":2491965,"accept_rate":0,"display_name":"Stephane"},"score":0,"creation_date":1400015750,"post_id":23634884,"comment_id":36306420,"body_markdown":"For my application, I have to use JApplet, not JFrame.","body":"For my application, I have to use JApplet, not JFrame."},{"owner":{"account_id":2746014,"reputation":2642,"user_id":2366418,"accept_rate":88,"display_name":"3yakuya"},"score":0,"creation_date":1400016388,"post_id":23634884,"comment_id":36306802,"body_markdown":"Well, it&#39;s more like &quot;real-life&quot;, and you&#39;d need to have a web page to display there. But creating applets nowdays is not much &quot;real-life&quot; anyway.","body":"Well, it&#39;s more like &quot;real-life&quot;, and you&#39;d need to have a web page to display there. But creating applets nowdays is not much &quot;real-life&quot; anyway."}],"tags":[],"owner":{"account_id":2746014,"reputation":2642,"user_id":2366418,"accept_rate":88,"display_name":"3yakuya"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1399993299,"creation_date":1399993299,"answer_id":23634884,"question_id":23634784,"body_markdown":"Bad idea to call System.exit(0), may cause browser errors (trying to close it). Run your application in a JFrame and launch it with Web Start.\r\n\r\nAnother approach would be\r\n\r\n    applet.getAppletContext().showDocument(appletCloseURL);\r\n\r\nand navigate to a proper URL.","title":"Exit Java Applet","body":"<p>Bad idea to call System.exit(0), may cause browser errors (trying to close it). Run your application in a JFrame and launch it with Web Start.</p>\n\n<p>Another approach would be</p>\n\n<pre><code>applet.getAppletContext().showDocument(appletCloseURL);\n</code></pre>\n\n<p>and navigate to a proper URL.</p>\n"}],"owner":{"account_id":2906896,"reputation":71,"user_id":2491965,"accept_rate":0,"display_name":"Stephane"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701305954,"creation_date":1399993061,"question_id":23634784,"body_markdown":"I am writing code for my exit button for my Java applet. The exit button successfully works on Eclipse. However, when I try to exit the applet from the browser, the button won&#39;t work.\r\n\r\nI used System.exit(0)\r\n\r\n","title":"Exit Java Applet","body":"<p>I am writing code for my exit button for my Java applet. The exit button successfully works on Eclipse. However, when I try to exit the applet from the browser, the button won't work.</p>\n\n<p>I used System.exit(0)</p>\n"},{"tags":["java","visual-studio-code","compiler-errors"],"comments":[{"owner":{"account_id":2976512,"reputation":3160,"user_id":2527458,"accept_rate":36,"display_name":"Majid Hajibaba"},"score":0,"creation_date":1601305024,"post_id":64103869,"comment_id":113358819,"body_markdown":"What do you mean by edit java files? edit `.java` or `.class`. if you edit `.class` you transfered it to bytecode or just edit binary file? explain more what you want to do.","body":"What do you mean by edit java files? edit <code>.java</code> or <code>.class</code>. if you edit <code>.class</code> you transfered it to bytecode or just edit binary file? explain more what you want to do."},{"owner":{"account_id":18237905,"reputation":936,"user_id":13275492,"display_name":"YulkyTulky"},"score":0,"creation_date":1601307443,"post_id":64103869,"comment_id":113360026,"body_markdown":"@majidhajibaba I am editing Java source code files as I am taking a Java course in school","body":"@majidhajibaba I am editing Java source code files as I am taking a Java course in school"},{"owner":{"account_id":19088616,"reputation":8294,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":0,"creation_date":1601346016,"post_id":64103869,"comment_id":113372053,"body_markdown":"did you use javac .java to compile? Once you change the file, it&#39;s necessary to compile it again before run.","body":"did you use javac .java to compile? Once you change the file, it&#39;s necessary to compile it again before run."},{"owner":{"account_id":18237905,"reputation":936,"user_id":13275492,"display_name":"YulkyTulky"},"score":0,"creation_date":1601404361,"post_id":64103869,"comment_id":113395860,"body_markdown":"@MollyWang yes, the problem does not have to do with compilation ... the programs run fine, my issue is that the VSCode IDE does not seem to read any of the Java correctly","body":"@MollyWang yes, the problem does not have to do with compilation ... the programs run fine, my issue is that the VSCode IDE does not seem to read any of the Java correctly"}],"answers":[{"comments":[{"owner":{"account_id":18237905,"reputation":936,"user_id":13275492,"display_name":"YulkyTulky"},"score":1,"creation_date":1601474808,"post_id":64130414,"comment_id":113420161,"body_markdown":"setting `&quot;java.home&quot;: &quot;/Library/Java/JavaVirtualMachines/jdk-11.0.2.jdk/Contents/Home&quot;` worked for me!","body":"setting <code>&quot;java.home&quot;: &quot;&#47;Library&#47;Java&#47;JavaVirtualMachines&#47;jdk-11.0.2.jdk&#47;Contents&#47;H&zwnj;&#8203;ome&quot;</code> worked for me!"},{"owner":{"account_id":14859416,"reputation":81,"user_id":10730789,"display_name":"Colin Hobday"},"score":0,"creation_date":1614667425,"post_id":64130414,"comment_id":117447688,"body_markdown":"I had to use the Java: Configure Java Runtime wizard to get it to work.  I downloaded adoptopenjdk-15.jdk and point VSCode to it.","body":"I had to use the Java: Configure Java Runtime wizard to get it to work.  I downloaded adoptopenjdk-15.jdk and point VSCode to it."},{"owner":{"account_id":1961505,"reputation":15729,"user_id":1762944,"accept_rate":68,"display_name":"Afzaal Ahmad Zeeshan"},"score":2,"creation_date":1654619971,"post_id":64130414,"comment_id":128132043,"body_markdown":"-1, do not delete the folder as it contains not just the settings for Java Language Server, but everything for your VS Code instance. Maybe try to reset the JDK and restart the VSCode first and then go for a nuke approach.","body":"-1, do not delete the folder as it contains not just the settings for Java Language Server, but everything for your VS Code instance. Maybe try to reset the JDK and restart the VSCode first and then go for a nuke approach."}],"tags":[],"owner":{"account_id":19088616,"reputation":8294,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"comment_count":3,"down_vote_count":1,"up_vote_count":9,"is_accepted":true,"score":8,"last_activity_date":1634520494,"creation_date":1601436461,"answer_id":64130414,"question_id":64103869,"body_markdown":"There&#39;s something wrong with JRE. In some occasions, deleting the Java Language Server workspace directory is helpful to go back to a clean status:\r\n\r\n&gt; **Windows** - Delete `%APPDATA%\\Code` and `%USERPROFILE%\\.vscode`.  \r\n&gt; **macOS** - Delete `$HOME/Library/Application Support/Code` and `~/.vscode`.  \r\n&gt; **Linux** - Delete `$HOME/.config/Code` and `~/.vscode`.\r\n\r\nIf this doesn&#39;t work, try to reset jdk and restart vscode:\r\n\r\n    &quot;java.home&quot;: &quot;\\path\\to\\jdk\\&quot;,\r\n    &quot;java.configuration.runtimes&quot;:[...]\r\n\r\nReference: [Setting for the JDK][1]\r\n\r\n\r\n  [1]: https://code.visualstudio.com/docs/java/java-tutorial#_settings-for-the-jdk","title":"Visual Studio Code Cannot Handle Java","body":"<p>There's something wrong with JRE. In some occasions, deleting the Java Language Server workspace directory is helpful to go back to a clean status:</p>\n<blockquote>\n<p><strong>Windows</strong> - Delete <code>%APPDATA%\\Code</code> and <code>%USERPROFILE%\\.vscode</code>.<br />\n<strong>macOS</strong> - Delete <code>$HOME/Library/Application Support/Code</code> and <code>~/.vscode</code>.<br />\n<strong>Linux</strong> - Delete <code>$HOME/.config/Code</code> and <code>~/.vscode</code>.</p>\n</blockquote>\n<p>If this doesn't work, try to reset jdk and restart vscode:</p>\n<pre><code>&quot;java.home&quot;: &quot;\\path\\to\\jdk\\&quot;,\n&quot;java.configuration.runtimes&quot;:[...]\n</code></pre>\n<p>Reference: <a href=\"https://code.visualstudio.com/docs/java/java-tutorial#_settings-for-the-jdk\" rel=\"nofollow noreferrer\">Setting for the JDK</a></p>\n"},{"tags":[],"owner":{"account_id":21283437,"reputation":21,"user_id":15661514,"display_name":"Ayomide Joysbright Oyediran"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658482984,"creation_date":1658482984,"answer_id":73078301,"question_id":64103869,"body_markdown":"Molly Wang-MSFT&#39;s answer will definitely work but it will cause you to lost your other VS Code installed extensions and user settings.\r\nI will recommend you try uninstalling only &quot;Extension for Java Pack&quot; and reinstall it.\r\n\r\nNOTE: If you have your codes opened via VS Code workspace, delete the workspace and recreate.","title":"Visual Studio Code Cannot Handle Java","body":"<p>Molly Wang-MSFT's answer will definitely work but it will cause you to lost your other VS Code installed extensions and user settings.\nI will recommend you try uninstalling only &quot;Extension for Java Pack&quot; and reinstall it.</p>\n<p>NOTE: If you have your codes opened via VS Code workspace, delete the workspace and recreate.</p>\n"},{"tags":[],"owner":{"account_id":180107,"reputation":339,"user_id":413213,"accept_rate":100,"display_name":"Mark Hamlin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688126380,"creation_date":1688126380,"answer_id":76588726,"question_id":64103869,"body_markdown":"I had this problem after updating the JDK from 17.05 to 17.07. Other projects worked with same jdk setting, other IDEs worked with same JDK and problematic project.  Checked vscode settings in project directory, nothing wrong there.  I was reluctant to follow the advice to delete $HOME/Library/Application Support/Code.\r\n\r\nIn the end, I tried renaming the project folder and reopened the project.  By some magic, it worked.","title":"Visual Studio Code Cannot Handle Java","body":"<p>I had this problem after updating the JDK from 17.05 to 17.07. Other projects worked with same jdk setting, other IDEs worked with same JDK and problematic project.  Checked vscode settings in project directory, nothing wrong there.  I was reluctant to follow the advice to delete $HOME/Library/Application Support/Code.</p>\n<p>In the end, I tried renaming the project folder and reopened the project.  By some magic, it worked.</p>\n"},{"tags":[],"owner":{"account_id":10199035,"reputation":1,"user_id":7529966,"display_name":"Alex Richards"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701304752,"creation_date":1699536714,"answer_id":77453599,"question_id":64103869,"body_markdown":"**Important: this only applies to gradle users**\r\n\r\nI experienced the same error when I attempted to use a more recent version of JavaFX via gradle, without also specifying the newer version of the java toolchain.  Make sure the versions match in your build.gradle.kts file, see the relevant sections below.  \r\n\r\n    java {\r\n        toolchain {\r\n            languageVersion.set(JavaLanguageVersion.of(21))\r\n        }\r\n    }\r\n\r\n    javafx {\r\n        modules(&quot;javafx.controls&quot;, &quot;javafx.fxml&quot;)\r\n        version=&quot;21&quot;\r\n    }\r\n\r\nThis error may also be caused by a broken system Java installation.","title":"Visual Studio Code Cannot Handle Java","body":"<p><strong>Important: this only applies to gradle users</strong></p>\n<p>I experienced the same error when I attempted to use a more recent version of JavaFX via gradle, without also specifying the newer version of the java toolchain.  Make sure the versions match in your build.gradle.kts file, see the relevant sections below.</p>\n<pre><code>java {\n    toolchain {\n        languageVersion.set(JavaLanguageVersion.of(21))\n    }\n}\n\njavafx {\n    modules(&quot;javafx.controls&quot;, &quot;javafx.fxml&quot;)\n    version=&quot;21&quot;\n}\n</code></pre>\n<p>This error may also be caused by a broken system Java installation.</p>\n"}],"owner":{"account_id":18237905,"reputation":936,"user_id":13275492,"display_name":"YulkyTulky"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11211,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":64130414,"answer_count":4,"score":11,"last_activity_date":1701304752,"creation_date":1601302208,"question_id":64103869,"body_markdown":"I am trying to edit Java files in VSCode, but am encountering a slew of errors from VSCode. For example:\r\n\r\n```\r\nThe type java.lang.Object cannot be resolved.\r\n    It is indirectly referenced from required .class files\r\nString cannot be resolved to a type\r\nSystem cannot be resolved\r\n```\r\n\r\nI tried running Java clean to clean the workspace and have tried reinstalling the Java extension pack. Either way, the problem persisted.\r\n\r\nI can&#39;t get rid of this and it is really annoying! Please help if you can! Thank you.","title":"Visual Studio Code Cannot Handle Java","body":"<p>I am trying to edit Java files in VSCode, but am encountering a slew of errors from VSCode. For example:</p>\n<pre><code>The type java.lang.Object cannot be resolved.\n    It is indirectly referenced from required .class files\nString cannot be resolved to a type\nSystem cannot be resolved\n</code></pre>\n<p>I tried running Java clean to clean the workspace and have tried reinstalling the Java extension pack. Either way, the problem persisted.</p>\n<p>I can't get rid of this and it is really annoying! Please help if you can! Thank you.</p>\n"},{"tags":["java","input","keyboard","jcombobox"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1701299905,"post_id":77574787,"comment_id":136760116,"body_markdown":"*without going into detail* - Please go in to detail. Why should you limit what the user can do? Some users prefer to use the mouse. Others prefer to use the keyboard. If we know why you think you need to do this maybe we can suggest a better solution.","body":"<i>without going into detail</i> - Please go in to detail. Why should you limit what the user can do? Some users prefer to use the mouse. Others prefer to use the keyboard. If we know why you think you need to do this maybe we can suggest a better solution."}],"owner":{"account_id":14864245,"reputation":540,"user_id":10733903,"display_name":"Vlad Vyatkin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701304669,"creation_date":1701296229,"question_id":77574787,"body_markdown":"I have a very simple desire - I don&#39;t want JComboBox respond to arrow key presses. I don&#39;t want to select items in the pop-up on arrow keys, or in fact I don&#39;t want to show pop-up on pressing down arrow either.\r\n\r\nIt should be a simple task, but all the threads that I find instead advise people &quot;DON&#39;T DO IT! Don&#39;t change default expected behavior! Users will hate you!&quot;\r\n\r\nWell, without going into detail - I need it. I have a very specific application that does not require combo-box to respond to arrows. I still need to keep it focused, though.\r\n\r\nHow do I disable arrow keys? I tried adding a KeyListener, but the box still responds to default key binding.\r\n\r\nThank you.","title":"Disable JComboBox pop-up item selection on arrow keys","body":"<p>I have a very simple desire - I don't want JComboBox respond to arrow key presses. I don't want to select items in the pop-up on arrow keys, or in fact I don't want to show pop-up on pressing down arrow either.</p>\n<p>It should be a simple task, but all the threads that I find instead advise people &quot;DON'T DO IT! Don't change default expected behavior! Users will hate you!&quot;</p>\n<p>Well, without going into detail - I need it. I have a very specific application that does not require combo-box to respond to arrows. I still need to keep it focused, though.</p>\n<p>How do I disable arrow keys? I tried adding a KeyListener, but the box still responds to default key binding.</p>\n<p>Thank you.</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1559763336,"post_id":56465830,"comment_id":99525260,"body_markdown":"is this bootstrap server is running `127.0.0.1:9092`? try providing the zookeeper","body":"is this bootstrap server is running <code>127.0.0.1:9092</code>? try providing the zookeeper"},{"owner":{"account_id":5801310,"reputation":157,"user_id":4575398,"display_name":"Allan Duarte"},"score":0,"creation_date":1559764415,"post_id":56465830,"comment_id":99525684,"body_markdown":"I don&#39;t know. I&#39;m new on it. How I can check? How I do provide?","body":"I don&#39;t know. I&#39;m new on it. How I can check? How I do provide?"},{"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1559764470,"post_id":56465830,"comment_id":99525710,"body_markdown":"https://kafka.apache.org/quickstart","body":"<a href=\"https://kafka.apache.org/quickstart\" rel=\"nofollow noreferrer\">kafka.apache.org/quickstart</a>"},{"owner":{"account_id":5801310,"reputation":157,"user_id":4575398,"display_name":"Allan Duarte"},"score":0,"creation_date":1559765045,"post_id":56465830,"comment_id":99525972,"body_markdown":"I already test the kafka with the command line and all works. I created a topic, I sent a message and I saw this message in a consumer, so I don&#39;t know the reason that not works on Springboot.","body":"I already test the kafka with the command line and all works. I created a topic, I sent a message and I saw this message in a consumer, so I don&#39;t know the reason that not works on Springboot."},{"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1559765107,"post_id":56465830,"comment_id":99526001,"body_markdown":"try `localhost:9092` instead of `127.0.0.1:9092`","body":"try <code>localhost:9092</code> instead of <code>127.0.0.1:9092</code>"},{"owner":{"account_id":5801310,"reputation":157,"user_id":4575398,"display_name":"Allan Duarte"},"score":0,"creation_date":1559765549,"post_id":56465830,"comment_id":99526162,"body_markdown":"Still does not work","body":"Still does not work"},{"owner":{"account_id":197766,"reputation":4253,"user_id":442041,"accept_rate":85,"display_name":"groo"},"score":0,"creation_date":1559804597,"post_id":56465830,"comment_id":99535474,"body_markdown":"What version of spring-kafka are you using? Newer versions of spring kafka you can basically drop all the config beans and have it configured by configuration properties in you application.properties(yml) Are you running kafka in docker containers or are you running confluent setup locally, or other?","body":"What version of spring-kafka are you using? Newer versions of spring kafka you can basically drop all the config beans and have it configured by configuration properties in you application.properties(yml) Are you running kafka in docker containers or are you running confluent setup locally, or other?"},{"owner":{"account_id":5801310,"reputation":157,"user_id":4575398,"display_name":"Allan Duarte"},"score":0,"creation_date":1559827847,"post_id":56465830,"comment_id":99547694,"body_markdown":"I&#39;m running locally and the version of spring-kafka is 2.2.6.","body":"I&#39;m running locally and the version of spring-kafka is 2.2.6."},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1559828666,"post_id":56465830,"comment_id":99548284,"body_markdown":"What Java version do you use? Does it fail for you even without Spring Boot? With the `java.base/jdk.internal.reflect.InstantiationExceptionConstructorAccessorImpl` it looks like there is some security access to the class ctor...","body":"What Java version do you use? Does it fail for you even without Spring Boot? With the <code>java.base&#47;jdk.internal.reflect.InstantiationExceptionConstru&zwnj;&#8203;ctorAccessorImpl</code> it looks like there is some security access to the class ctor..."}],"answers":[{"comments":[{"owner":{"account_id":5160657,"reputation":53,"user_id":4132466,"display_name":"Karthik P"},"score":0,"creation_date":1596732196,"post_id":57681796,"comment_id":111912332,"body_markdown":"faced the same issue due to the wrong import of StringSerializer. It got worked for me after changing the import to org.apache.kafka.common.serialization.StringSerializer","body":"faced the same issue due to the wrong import of StringSerializer. It got worked for me after changing the import to org.apache.kafka.common.serialization.StringSerializer"},{"owner":{"account_id":19011070,"reputation":91,"user_id":13876953,"display_name":"swetha"},"score":0,"creation_date":1602175960,"post_id":57681796,"comment_id":113644567,"body_markdown":"I have the correct import. But still issue does not resolve. any other checks ?","body":"I have the correct import. But still issue does not resolve. any other checks ?"},{"owner":{"account_id":15398978,"reputation":316,"user_id":11109119,"display_name":"Guy_g23"},"score":0,"creation_date":1650288823,"post_id":57681796,"comment_id":127073565,"body_markdown":"This worked for me, thanks!\n@swetha I&#39;d make sure all my imports in config class are of org.spingframework or org.apache.kafka (avoid others like fasterxml etc).","body":"This worked for me, thanks! @swetha I&#39;d make sure all my imports in config class are of org.spingframework or org.apache.kafka (avoid others like fasterxml etc)."}],"tags":[],"owner":{"account_id":2878489,"reputation":458,"user_id":2469865,"display_name":"3barney"},"comment_count":3,"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1566937525,"creation_date":1566937525,"answer_id":57681796,"question_id":56465830,"body_markdown":"Had a similar issue from my end I imported the wrong `JsonSerializer` class. Changed to this import `org.springframework.kafka.support.serializer.JsonSerializer;`\r\nAll worked well.\r\n","title":"Failed to construct kafka producer with Springboot","body":"<p>Had a similar issue from my end I imported the wrong <code>JsonSerializer</code> class. Changed to this import <code>org.springframework.kafka.support.serializer.JsonSerializer;</code>\nAll worked well.</p>\n"},{"tags":[],"owner":{"account_id":15270814,"reputation":17,"user_id":11018087,"display_name":"Sutirtha Rej"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1593979859,"creation_date":1593979859,"answer_id":62745813,"question_id":56465830,"body_markdown":"\r\nUnder **config** files for **kafkaConfiguration** , change the **import**.\r\n\r\nthe import should be : `import org.springframework.kafka.support.serializer.JsonSerializer;`","title":"Failed to construct kafka producer with Springboot","body":"<p>Under <strong>config</strong> files for <strong>kafkaConfiguration</strong> , change the <strong>import</strong>.</p>\n<p>the import should be : <code>import org.springframework.kafka.support.serializer.JsonSerializer;</code></p>\n"},{"tags":[],"owner":{"account_id":14724841,"reputation":29,"user_id":10634215,"display_name":"GoldBug"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1611841087,"creation_date":1611717354,"answer_id":65912443,"question_id":56465830,"body_markdown":"@3barney&#39;s solution helped me! Intellij IDE gives you 2 options for a `JsonSerializer` class and I chose the wrong one! The correct import statement is - \r\n\r\n```\r\nimport org.springframework.kafka.support.serializer.JsonSerializer;\r\n```","title":"Failed to construct kafka producer with Springboot","body":"<p>@3barney's solution helped me! Intellij IDE gives you 2 options for a <code>JsonSerializer</code> class and I chose the wrong one! The correct import statement is -</p>\n<pre><code>import org.springframework.kafka.support.serializer.JsonSerializer;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1681040103,"post_id":75920234,"comment_id":133992146,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75920234/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":23763569,"reputation":1,"user_id":21178690,"display_name":"Артур Ишмаев"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680529946,"creation_date":1680529946,"answer_id":75920234,"question_id":56465830,"body_markdown":"This happens if you forget to connect the jackson-databind dependency","title":"Failed to construct kafka producer with Springboot","body":"<p>This happens if you forget to connect the jackson-databind dependency</p>\n"},{"tags":[],"owner":{"account_id":30026891,"reputation":1,"user_id":23010865,"display_name":"Paul Montoya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701304465,"creation_date":1701304465,"answer_id":77575242,"question_id":56465830,"body_markdown":"This can also occur if you cannot find the corresponding certificates (jks) either because the ssl.truststore.location is incorrect or for any other reason","title":"Failed to construct kafka producer with Springboot","body":"<p>This can also occur if you cannot find the corresponding certificates (jks) either because the ssl.truststore.location is incorrect or for any other reason</p>\n"}],"owner":{"account_id":5801310,"reputation":157,"user_id":4575398,"display_name":"Allan Duarte"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38628,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":57681796,"answer_count":5,"score":6,"last_activity_date":1701304465,"creation_date":1559757962,"question_id":56465830,"body_markdown":"I&#39;m doing a simple kafka example project with Springboot and I&#39;m having the error where the producer don&#39;t create but the rest works well.\r\n\r\nThe errors that I have it seems that it threw a exception because the producer didn&#39;t create but isn&#39;t explains why and I don&#39;t know:\r\n```\r\n2019-06-05 14:45:21.733  INFO 5988 --- [nio-8080-exec-2] o.a.k.clients.producer.KafkaProducer     : [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 0 ms.\r\n2019-06-05 14:45:21.755 ERROR 5988 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.apache.kafka.common.KafkaException: Failed to construct kafka producer] with root cause\r\n\r\njava.lang.InstantiationException: null\r\n\tat java.base/jdk.internal.reflect.InstantiationExceptionConstructorAccessorImpl.newInstance(InstantiationExceptionConstructorAccessorImpl.java:48) ~[na:na]\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500) ~[na:na]\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481) ~[na:na]\r\n\tat org.apache.kafka.common.utils.Utils.newInstance(Utils.java:306) ~[kafka-clients-2.0.1.jar:na]\r\n\tat org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:302) ~[kafka-clients-2.0.1.jar:na]\r\n\tat org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:370) ~[kafka-clients-2.0.1.jar:na]\r\n\tat org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:289) ~[kafka-clients-2.0.1.jar:na]\r\n\tat org.springframework.kafka.core.DefaultKafkaProducerFactory.createKafkaProducer(DefaultKafkaProducerFactory.java:318) ~[spring-kafka-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n\tat org.springframework.kafka.core.DefaultKafkaProducerFactory.createProducer(DefaultKafkaProducerFactory.java:305) ~[spring-kafka-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n\tat org.springframework.kafka.core.KafkaTemplate.getTheProducer(KafkaTemplate.java:446) ~[spring-kafka-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n\tat org.springframework.kafka.core.KafkaTemplate.doSend(KafkaTemplate.java:376) ~[spring-kafka-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n\tat org.springframework.kafka.core.KafkaTemplate.send(KafkaTemplate.java:193) ~[spring-kafka-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n\tat com.example.kafka.KafkaSimpleController.post(KafkaSimpleController.java:24) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:660) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:836) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1747) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat java.base/java.lang.Thread.run(Thread.java:835) ~[na:na]\r\n```\r\n\r\nHere its my kafka configuration:\r\n```\r\n@Configuration\r\npublic class KafkaConfig {\r\n\r\n    @Bean\r\n    public ProducerFactory&lt;String, SimpleModel&gt; producerFactory() {\r\n        Map&lt;String, Object&gt; config = new HashMap&lt;&gt;();\r\n\r\n        config.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;127.0.0.1:9092&quot;);\r\n        config.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n        config.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);\r\n\r\n        return new DefaultKafkaProducerFactory&lt;&gt;(config);\r\n    }\r\n\r\n    @Bean\r\n    public KafkaTemplate&lt;String, SimpleModel&gt; kafkaTemplate() {\r\n        return new KafkaTemplate&lt;&gt;(producerFactory());\r\n    }\r\n}\r\n```\r\n\r\nHere its the controller, the endpoint &quot;/api/kafka&quot;:\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/kafka&quot;)\r\npublic class KafkaSimpleController {\r\n\r\n    private KafkaTemplate&lt;String, SimpleModel&gt; kafkaTemplate;\r\n\r\n    @Autowired\r\n    public KafkaSimpleController(KafkaTemplate&lt;String, SimpleModel&gt; kafkaTemplate) {\r\n        this.kafkaTemplate = kafkaTemplate;\r\n\r\n    }\r\n\r\n    @PostMapping\r\n    public void post(@RequestBody SimpleModel simpleModel) {\r\n        kafkaTemplate.send(&quot;myTopic&quot;, simpleModel);\r\n    }\r\n}\r\n```","title":"Failed to construct kafka producer with Springboot","body":"<p>I'm doing a simple kafka example project with Springboot and I'm having the error where the producer don't create but the rest works well.</p>\n\n<p>The errors that I have it seems that it threw a exception because the producer didn't create but isn't explains why and I don't know:</p>\n\n<pre><code>2019-06-05 14:45:21.733  INFO 5988 --- [nio-8080-exec-2] o.a.k.clients.producer.KafkaProducer     : [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 0 ms.\n2019-06-05 14:45:21.755 ERROR 5988 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.apache.kafka.common.KafkaException: Failed to construct kafka producer] with root cause\n\njava.lang.InstantiationException: null\n    at java.base/jdk.internal.reflect.InstantiationExceptionConstructorAccessorImpl.newInstance(InstantiationExceptionConstructorAccessorImpl.java:48) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481) ~[na:na]\n    at org.apache.kafka.common.utils.Utils.newInstance(Utils.java:306) ~[kafka-clients-2.0.1.jar:na]\n    at org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:302) ~[kafka-clients-2.0.1.jar:na]\n    at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:370) ~[kafka-clients-2.0.1.jar:na]\n    at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:289) ~[kafka-clients-2.0.1.jar:na]\n    at org.springframework.kafka.core.DefaultKafkaProducerFactory.createKafkaProducer(DefaultKafkaProducerFactory.java:318) ~[spring-kafka-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.kafka.core.DefaultKafkaProducerFactory.createProducer(DefaultKafkaProducerFactory.java:305) ~[spring-kafka-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.kafka.core.KafkaTemplate.getTheProducer(KafkaTemplate.java:446) ~[spring-kafka-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.kafka.core.KafkaTemplate.doSend(KafkaTemplate.java:376) ~[spring-kafka-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.kafka.core.KafkaTemplate.send(KafkaTemplate.java:193) ~[spring-kafka-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at com.example.kafka.KafkaSimpleController.post(KafkaSimpleController.java:24) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:660) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:836) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1747) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at java.base/java.lang.Thread.run(Thread.java:835) ~[na:na]\n</code></pre>\n\n<p>Here its my kafka configuration:</p>\n\n<pre><code>@Configuration\npublic class KafkaConfig {\n\n    @Bean\n    public ProducerFactory&lt;String, SimpleModel&gt; producerFactory() {\n        Map&lt;String, Object&gt; config = new HashMap&lt;&gt;();\n\n        config.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, \"127.0.0.1:9092\");\n        config.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n        config.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);\n\n        return new DefaultKafkaProducerFactory&lt;&gt;(config);\n    }\n\n    @Bean\n    public KafkaTemplate&lt;String, SimpleModel&gt; kafkaTemplate() {\n        return new KafkaTemplate&lt;&gt;(producerFactory());\n    }\n}\n</code></pre>\n\n<p>Here its the controller, the endpoint \"/api/kafka\":</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/api/kafka\")\npublic class KafkaSimpleController {\n\n    private KafkaTemplate&lt;String, SimpleModel&gt; kafkaTemplate;\n\n    @Autowired\n    public KafkaSimpleController(KafkaTemplate&lt;String, SimpleModel&gt; kafkaTemplate) {\n        this.kafkaTemplate = kafkaTemplate;\n\n    }\n\n    @PostMapping\n    public void post(@RequestBody SimpleModel simpleModel) {\n        kafkaTemplate.send(\"myTopic\", simpleModel);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","gradle","build"],"owner":{"account_id":7527372,"reputation":920,"user_id":5717021,"accept_rate":65,"display_name":"sromit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701304438,"creation_date":1701304438,"question_id":77575241,"body_markdown":"My gardle build is failing when I am trying to run gradle clean build. The classes are in `oa-common-3.0.0.jar` and I have included it in the `lib` directory but still its failing to read the jar on runtime..Any suggestion what I am doing wrong\r\n\r\nMy build.gradle\r\n\r\n    repositories {\r\n    \tflatDir {\r\n           dirs &#39;lib&#39;\r\n        }\r\n    \tmavenCentral()\r\n    \tmavenLocal()\r\n    \tmaven {\r\n    \t\turl &quot;${artifactory_contextUrl}&quot;\r\n    \t\tcredentials {\r\n    \t\t\tusername &quot;${artifactory_user}&quot;\r\n    \t\t\tpassword &quot;${artifactory_password}&quot;\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \timplementation files(&#39;lib/oa-common-3.0.0.jar&#39;)\r\n    \timplementation(&#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;)\r\n    \timplementation(&#39;org.springframework.boot:spring-boot-starter-jdbc&#39;)\r\n    \timplementation(&#39;org.springframework.boot:spring-boot-starter-web&#39;)\r\n    \timplementation(&#39;org.springframework.boot:spring-boot-starter-cloud-connectors&#39;)\r\n\r\nAnd the Error ::\r\n\r\n    $ gradle clean build\r\n    Starting a Gradle Daemon (subsequent builds will be faster)\r\n    \r\n    &gt; Task :compileJava\r\n    Note: Hibernate JPA 2 Static-Metamodel Generator 5.4.7.Final\r\n    C:\\Users\\502622018\\moa-workspace\\ooa-dashboard-svc\\src\\main\\java\\com\\ge\\digital\\oa\\common\\config\\cloud\\CloudPlatformSecuirtyResourceServerConfig.java:40: error: package com.ge.predix.uaa.token.lib does not exist\r\n    import com.ge.predix.uaa.token.lib.FastTokenServices;\r\n                                      ^\r\n    C:\\Users\\502622018\\moa-workspace\\ooa-dashboard-svc\\src\\main\\java\\com\\ge\\digital\\oa\\common\\config\\cloud\\CloudPlatformSecuirtyResourceServerConfig.java:41: error: package com.ge.predix.uaa.token.lib does not exist\r\n    import com.ge.predix.uaa.token.lib.FastTokenServicesCreator;\r\n                                      ^\r\n    C:\\Users\\502622018\\moa-workspace\\ooa-dashboard-svc\\src\\main\\java\\com\\ge\\digital\\oa\\common\\config\\cloud\\CloudPlatformSecuirtyResourceServerConfig.java:176: error: cannot find symbol\r\n            public FastTokenServices setFastTokenBean() {\r\n                   ^\r\n      symbol:   class FastTokenServices\r\n      location: class CloudPlatformSecuirtyResourceServerConfig\r\n    C:\\Users\\502622018\\moa-workspace\\ooa-dashboard-svc\\src\\main\\java\\com\\ge\\digital\\oa\\overhaul\\config\\SwaggerConfig.java:3: error: package springfox.documentation.builders does not exist\r\n    import static springfox.documentation.builders.RequestHandlerSelectors.basePackage;\r\n                                                  ^\r\n    C:\\Users\\502622018\\moa-workspace\\ooa-dashboard-svc\\src\\main\\java\\com\\ge\\digital\\oa\\overhaul\\config\\SwaggerConfig.java:3: error: static import only from classes and interfaces\r\n    import static springfox.documentation.builders.RequestHandlerSelectors.basePackage;\r\n    ^\r\n    C:\\Users\\502622018\\moa-workspace\\ooa-dashboard-svc\\src\\main\\java\\com\\ge\\digital\\oa\\overhaul\\config\\SwaggerConfig.java:4: error: package springfox.documentation.spi does not exist\r\n    import static springfox.documentation.spi.DocumentationType.SWAGGER_2;\r\n                                             ^\r\n    C:\\Users\\502622018\\moa-workspace\\ooa-dashboard-svc\\src\\main\\java\\com\\ge\\digital\\oa\\overhaul\\config\\SwaggerConfig.java:4: error: static import only from classes and interfaces\r\n    import static springfox.documentation.spi.DocumentationType.SWAGGER_2;","title":"Gradle build failing to read the classes","body":"<p>My gardle build is failing when I am trying to run gradle clean build. The classes are in <code>oa-common-3.0.0.jar</code> and I have included it in the <code>lib</code> directory but still its failing to read the jar on runtime..Any suggestion what I am doing wrong</p>\n<p>My build.gradle</p>\n<pre><code>repositories {\n    flatDir {\n       dirs 'lib'\n    }\n    mavenCentral()\n    mavenLocal()\n    maven {\n        url &quot;${artifactory_contextUrl}&quot;\n        credentials {\n            username &quot;${artifactory_user}&quot;\n            password &quot;${artifactory_password}&quot;\n        }\n    }\n}\n    implementation files('lib/oa-common-3.0.0.jar')\n    implementation('org.springframework.boot:spring-boot-starter-data-jpa')\n    implementation('org.springframework.boot:spring-boot-starter-jdbc')\n    implementation('org.springframework.boot:spring-boot-starter-web')\n    implementation('org.springframework.boot:spring-boot-starter-cloud-connectors')\n</code></pre>\n<p>And the Error ::</p>\n<pre><code>$ gradle clean build\nStarting a Gradle Daemon (subsequent builds will be faster)\n\n&gt; Task :compileJava\nNote: Hibernate JPA 2 Static-Metamodel Generator 5.4.7.Final\nC:\\Users\\502622018\\moa-workspace\\ooa-dashboard-svc\\src\\main\\java\\com\\ge\\digital\\oa\\common\\config\\cloud\\CloudPlatformSecuirtyResourceServerConfig.java:40: error: package com.ge.predix.uaa.token.lib does not exist\nimport com.ge.predix.uaa.token.lib.FastTokenServices;\n                                  ^\nC:\\Users\\502622018\\moa-workspace\\ooa-dashboard-svc\\src\\main\\java\\com\\ge\\digital\\oa\\common\\config\\cloud\\CloudPlatformSecuirtyResourceServerConfig.java:41: error: package com.ge.predix.uaa.token.lib does not exist\nimport com.ge.predix.uaa.token.lib.FastTokenServicesCreator;\n                                  ^\nC:\\Users\\502622018\\moa-workspace\\ooa-dashboard-svc\\src\\main\\java\\com\\ge\\digital\\oa\\common\\config\\cloud\\CloudPlatformSecuirtyResourceServerConfig.java:176: error: cannot find symbol\n        public FastTokenServices setFastTokenBean() {\n               ^\n  symbol:   class FastTokenServices\n  location: class CloudPlatformSecuirtyResourceServerConfig\nC:\\Users\\502622018\\moa-workspace\\ooa-dashboard-svc\\src\\main\\java\\com\\ge\\digital\\oa\\overhaul\\config\\SwaggerConfig.java:3: error: package springfox.documentation.builders does not exist\nimport static springfox.documentation.builders.RequestHandlerSelectors.basePackage;\n                                              ^\nC:\\Users\\502622018\\moa-workspace\\ooa-dashboard-svc\\src\\main\\java\\com\\ge\\digital\\oa\\overhaul\\config\\SwaggerConfig.java:3: error: static import only from classes and interfaces\nimport static springfox.documentation.builders.RequestHandlerSelectors.basePackage;\n^\nC:\\Users\\502622018\\moa-workspace\\ooa-dashboard-svc\\src\\main\\java\\com\\ge\\digital\\oa\\overhaul\\config\\SwaggerConfig.java:4: error: package springfox.documentation.spi does not exist\nimport static springfox.documentation.spi.DocumentationType.SWAGGER_2;\n                                         ^\nC:\\Users\\502622018\\moa-workspace\\ooa-dashboard-svc\\src\\main\\java\\com\\ge\\digital\\oa\\overhaul\\config\\SwaggerConfig.java:4: error: static import only from classes and interfaces\nimport static springfox.documentation.spi.DocumentationType.SWAGGER_2;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":1,"creation_date":1701303384,"post_id":77575169,"comment_id":136760499,"body_markdown":"No, I don&#39;t think Java&#39;s type system supports what you want to do.","body":"No, I don&#39;t think Java&#39;s type system supports what you want to do."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1701303813,"post_id":77575169,"comment_id":136760552,"body_markdown":"If the list of classes you need is fixed, you could just enumerate them with overloaded methods: `public Object get(MyClass1 obj)`, `public Object get(MyClass2 obj)` etc.","body":"If the list of classes you need is fixed, you could just enumerate them with overloaded methods: <code>public Object get(MyClass1 obj)</code>, <code>public Object get(MyClass2 obj)</code> etc."},{"owner":{"account_id":5175809,"reputation":1052,"user_id":4142984,"accept_rate":83,"display_name":"Gyro Gearloose"},"score":0,"creation_date":1701303966,"post_id":77575169,"comment_id":136760566,"body_markdown":"Don&#39;t think it is possible. You can check on any class if a method with a given name and signature is implemented by using reflection, but as to my knowledge there is no way of knowing about *any* classes that could possibly be loaded from *somewhere*.","body":"Don&#39;t think it is possible. You can check on any class if a method with a given name and signature is implemented by using reflection, but as to my knowledge there is no way of knowing about <i>any</i> classes that could possibly be loaded from <i>somewhere</i>."},{"owner":{"account_id":14679090,"reputation":1356,"user_id":10601203,"display_name":"Jesse"},"score":2,"creation_date":1701304250,"post_id":77575169,"comment_id":136760601,"body_markdown":"No, that&#39;s not possible. The behavior you&#39;re describing is exactly what an interface is for. If there is any way you can create an interface with the `getCode()` method and make all of these classes inherit from the interface, then this is fairly trivial. If not, you will have to use reflection.","body":"No, that&#39;s not possible. The behavior you&#39;re describing is exactly what an interface is for. If there is any way you can create an interface with the <code>getCode()</code> method and make all of these classes inherit from the interface, then this is fairly trivial. If not, you will have to use reflection."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1701304251,"post_id":77575169,"comment_id":136760602,"body_markdown":"I other languages, that&#39;s called duck typing, and no Java definitely does not support it.","body":"I other languages, that&#39;s called duck typing, and no Java definitely does not support it."}],"owner":{"account_id":4448416,"reputation":153,"user_id":3621092,"display_name":"fnmps"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701302812,"creation_date":1701302812,"question_id":77575169,"body_markdown":"Is it possible, in java, to have a generic based on the existence of a function rather then class or interface?\r\n\r\nExample:\r\nLet&#39;s say that I have a few classes that I have no control over.\r\nThey do not extend or implement any class in common, but all have the method getCode.\r\n\r\nAnd I would like to create a single cache that can store instances of any of those classes:\r\n\r\n```java\r\npublic class MyClass1 {\r\n  public String getCode() {\r\n      return &quot;A&quot;;\r\n  }\r\n  // some other methods\r\n}\r\n\r\n```\r\n```java  \r\npublic class MyClass2 {\r\n  public String getCode() {\r\n      return &quot;B&quot;;\r\n  }\r\n\r\n  // some other methods\r\n}\r\n\r\n```\r\n\r\n```java\r\npublic class CodeBasedCache&lt;ClassWithGetCode&gt; {\r\n  \r\n  Map&lt;String, Object&gt; cache = new HashMap&lt;&gt;();\r\n  \r\n  public Object get(ClassWithGetCode obj) {\r\n      return cache.get(obj.getClass().getSimpleName() + obj.getCode());\r\n  }\r\n\r\n  public void put(ClassWithGetCode obj) {\r\n      cache.put(obj.getClass().getSimpleName() + obj.getCode(), obj);\r\n  }\r\n}\r\n\r\n```\r\n\r\nI am aware that I could use reflection to solve this issue by doing something like:\r\n```java\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class CodeBasedCache {\r\n\r\n\tMap&lt;String, Object&gt; cache = new HashMap&lt;&gt;();\r\n\r\n\tpublic Object get(Object obj) {\r\n\t\ttry {\r\n\t\t\tString code = (String) obj.getClass().getDeclaredMethod(&quot;getCode&quot;, null).invoke(obj, null);\r\n\t\t\treturn cache.get(obj.getClass().getSimpleName() + code);\r\n\t\t} catch (Exception e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void put(Object obj) {\r\n\t\ttry {\r\n\t\t\tString code = (String) obj.getClass().getDeclaredMethod(&quot;getCode&quot;, null).invoke(obj, null);\r\n\t\t\tcache.put(obj.getClass().getSimpleName() + code, obj);\r\n\t\t} catch (Exception e) {\r\n\t\t\t// do nothing\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\nHowever this solution will not give compilation error if someone tries to call the put with an Object that does not have the method getCode, throwing only a runtime exception if that happens, which is not ideal.\r\n\r\nI ask this, because I have implemented something similar in TypeScript, and was wondering if in java (maybe on one of the latest versions), this would be possible.","title":"Generic based on existence of method","body":"<p>Is it possible, in java, to have a generic based on the existence of a function rather then class or interface?</p>\n<p>Example:\nLet's say that I have a few classes that I have no control over.\nThey do not extend or implement any class in common, but all have the method getCode.</p>\n<p>And I would like to create a single cache that can store instances of any of those classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClass1 {\n  public String getCode() {\n      return &quot;A&quot;;\n  }\n  // some other methods\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClass2 {\n  public String getCode() {\n      return &quot;B&quot;;\n  }\n\n  // some other methods\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class CodeBasedCache&lt;ClassWithGetCode&gt; {\n  \n  Map&lt;String, Object&gt; cache = new HashMap&lt;&gt;();\n  \n  public Object get(ClassWithGetCode obj) {\n      return cache.get(obj.getClass().getSimpleName() + obj.getCode());\n  }\n\n  public void put(ClassWithGetCode obj) {\n      cache.put(obj.getClass().getSimpleName() + obj.getCode(), obj);\n  }\n}\n\n</code></pre>\n<p>I am aware that I could use reflection to solve this issue by doing something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.HashMap;\nimport java.util.Map;\n\npublic class CodeBasedCache {\n\n    Map&lt;String, Object&gt; cache = new HashMap&lt;&gt;();\n\n    public Object get(Object obj) {\n        try {\n            String code = (String) obj.getClass().getDeclaredMethod(&quot;getCode&quot;, null).invoke(obj, null);\n            return cache.get(obj.getClass().getSimpleName() + code);\n        } catch (Exception e) {\n            return null;\n        }\n    }\n\n    public void put(Object obj) {\n        try {\n            String code = (String) obj.getClass().getDeclaredMethod(&quot;getCode&quot;, null).invoke(obj, null);\n            cache.put(obj.getClass().getSimpleName() + code, obj);\n        } catch (Exception e) {\n            // do nothing\n        }\n    }\n}\n\n</code></pre>\n<p>However this solution will not give compilation error if someone tries to call the put with an Object that does not have the method getCode, throwing only a runtime exception if that happens, which is not ideal.</p>\n<p>I ask this, because I have implemented something similar in TypeScript, and was wondering if in java (maybe on one of the latest versions), this would be possible.</p>\n"},{"tags":["java","okhttp","server-sent-events"],"comments":[{"owner":{"account_id":236909,"reputation":8312,"user_id":504717,"accept_rate":56,"display_name":"Em Ae"},"score":0,"creation_date":1695758990,"post_id":77183084,"comment_id":136066730,"body_markdown":"What version are you using? For version 3, your settings look correct https://github.com/square/okhttp/blob/parent-3.0.0/okhttp/src/main/java/okhttp3/OkHttpClient.java#L386 , are you sure you are using version3","body":"What version are you using? For version 3, your settings look correct <a href=\"https://github.com/square/okhttp/blob/parent-3.0.0/okhttp/src/main/java/okhttp3/OkHttpClient.java#L386\" rel=\"nofollow noreferrer\">github.com/square/okhttp/blob/parent-3.0.0/okhttp/src/main/j&zwnj;&#8203;ava/&hellip;</a> , are you sure you are using version3"},{"owner":{"account_id":1404803,"reputation":573,"user_id":1332811,"display_name":"leros"},"score":0,"creation_date":1695765834,"post_id":77183084,"comment_id":136067692,"body_markdown":"I&#39;m using okhttp3 4.11.0 and okhttp-sse 4.11.0","body":"I&#39;m using okhttp3 4.11.0 and okhttp-sse 4.11.0"},{"owner":{"account_id":1404803,"reputation":573,"user_id":1332811,"display_name":"leros"},"score":0,"creation_date":1695771921,"post_id":77183084,"comment_id":136068241,"body_markdown":"I ended up setting the timeouts to 0 to indicate no timeout, which I think makes sense for SSE. So maybe my question isn&#39;t important, but still curious behavior that I don&#39;t understand.","body":"I ended up setting the timeouts to 0 to indicate no timeout, which I think makes sense for SSE. So maybe my question isn&#39;t important, but still curious behavior that I don&#39;t understand."}],"answers":[{"tags":[],"owner":{"account_id":1404803,"reputation":573,"user_id":1332811,"display_name":"leros"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701302585,"creation_date":1701302585,"answer_id":77575159,"question_id":77183084,"body_markdown":"The solution for okhttp-sse is to set the timeouts to `0` to indicate no timeout. \r\n\r\n```\r\nOkHttpClient sseHttpClient = new OkHttpClient.Builder()\r\n    .connectTimeout(0, TimeUnit.MINUTES) // no timeout\r\n    .readTimeout(0, TimeUnit.MINUTES) // no timeout\r\n    .writeTimeout(0, TimeUnit.MINUTES) // no timeout\r\n    .build();\r\n```","title":"Understanding socket timeout when using okhttp-sse","body":"<p>The solution for okhttp-sse is to set the timeouts to <code>0</code> to indicate no timeout.</p>\n<pre><code>OkHttpClient sseHttpClient = new OkHttpClient.Builder()\n    .connectTimeout(0, TimeUnit.MINUTES) // no timeout\n    .readTimeout(0, TimeUnit.MINUTES) // no timeout\n    .writeTimeout(0, TimeUnit.MINUTES) // no timeout\n    .build();\n</code></pre>\n"}],"owner":{"account_id":1404803,"reputation":573,"user_id":1332811,"display_name":"leros"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77575159,"answer_count":1,"score":0,"last_activity_date":1701302585,"creation_date":1695758655,"question_id":77183084,"body_markdown":"I&#39;m using okhttp-sse to consume server side events in Java. \r\n\r\n```\r\nOkHttpClient httpClient = new OkHttpClient();\r\nString sseUrl = getSseUrl();\r\nRequest request = new Request.Builder()\r\n    .url(sseUrl)\r\n    .build();\r\nEventSource.Factory factory = EventSources.createFactory(httpClient);\r\nfactory.newEventSource(request, listener);\r\n```\r\n\r\nThis works and I receive events, but it fails after 10 seconds due to a SocketTimeoutException. I discovered that okhttp has a default timeout of 10 seconds, so this makes sense. \r\n\r\nI increased the timeouts on my client to 1 minute, but now I get that SocketTimeoutException after 3 minutes. I don&#39;t understand what is going on. I would have expected the timeout after 1 minute.\r\n\r\n```\r\nOkHttpClient httpClient = new OkHttpClient.Builder()\r\n    .connectTimeout(1, TimeUnit.MINUTES)\r\n    .readTimeout(1, TimeUnit.MINUTES)\r\n    .writeTimeout(1, TimeUnit.MINUTES)\r\n    .build();\r\n```\r\n\r\nCan anyone shed some light on this? ","title":"Understanding socket timeout when using okhttp-sse","body":"<p>I'm using okhttp-sse to consume server side events in Java.</p>\n<pre><code>OkHttpClient httpClient = new OkHttpClient();\nString sseUrl = getSseUrl();\nRequest request = new Request.Builder()\n    .url(sseUrl)\n    .build();\nEventSource.Factory factory = EventSources.createFactory(httpClient);\nfactory.newEventSource(request, listener);\n</code></pre>\n<p>This works and I receive events, but it fails after 10 seconds due to a SocketTimeoutException. I discovered that okhttp has a default timeout of 10 seconds, so this makes sense.</p>\n<p>I increased the timeouts on my client to 1 minute, but now I get that SocketTimeoutException after 3 minutes. I don't understand what is going on. I would have expected the timeout after 1 minute.</p>\n<pre><code>OkHttpClient httpClient = new OkHttpClient.Builder()\n    .connectTimeout(1, TimeUnit.MINUTES)\n    .readTimeout(1, TimeUnit.MINUTES)\n    .writeTimeout(1, TimeUnit.MINUTES)\n    .build();\n</code></pre>\n<p>Can anyone shed some light on this?</p>\n"},{"tags":["java","logging","exception"],"comments":[{"owner":{"account_id":1968644,"reputation":32046,"user_id":1768232,"accept_rate":81,"display_name":"durron597"},"score":1,"creation_date":1440809473,"post_id":32281578,"comment_id":52441685,"body_markdown":"Are you using SLF4J, java.util.Logger, or something else?","body":"Are you using SLF4J, java.util.Logger, or something else?"},{"owner":{"account_id":1416522,"reputation":91364,"user_id":3553087,"display_name":"Brian Goetz"},"score":1,"creation_date":1440810416,"post_id":32281578,"comment_id":52441845,"body_markdown":"Don&#39;t forget to set an uncaughtExceptionHandler to catch the exceptions from threads that die due to uncaught exceptions.","body":"Don&#39;t forget to set an uncaughtExceptionHandler to catch the exceptions from threads that die due to uncaught exceptions."}],"answers":[{"comments":[{"owner":{"account_id":2226640,"reputation":307,"user_id":1965229,"display_name":"keian"},"score":0,"creation_date":1440902687,"post_id":32281749,"comment_id":52462594,"body_markdown":"Nope, just for illustration.  The actual code it came from has catch-then-log-and-swallow semantics because it is a Runnable that is scheduled as part of a ScheduledExecutorService and I never want the thread to die.  But I didn&#39;t want to paste that code as is because I figured people would say &quot;wtf are you doing!&quot; and detract from the topic :)  Thanks for the answer!","body":"Nope, just for illustration.  The actual code it came from has catch-then-log-and-swallow semantics because it is a Runnable that is scheduled as part of a ScheduledExecutorService and I never want the thread to die.  But I didn&#39;t want to paste that code as is because I figured people would say &quot;wtf are you doing!&quot; and detract from the topic :)  Thanks for the answer!"},{"owner":{"account_id":145453,"reputation":5115,"user_id":355274,"accept_rate":100,"display_name":"malana"},"score":0,"creation_date":1701275055,"post_id":32281749,"comment_id":136756256,"body_markdown":"One valid scenario for logging an exception and then throwing it is with AWS Lambda. Throwing the exception will make the invocation fail and log the exception but without context. With Lambda, it&#39;s quite useful to log the AWS request ID so you can tell which log line belongs to which invocation.  So if you log the exception explicitly you&#39;ll get the context, in particular the request ID, of the invocation where the error occurred. When your Lambda is invoked concurrently, it&#39;s helpful to know previous log lines belong to the failed invocation.","body":"One valid scenario for logging an exception and then throwing it is with AWS Lambda. Throwing the exception will make the invocation fail and log the exception but without context. With Lambda, it&#39;s quite useful to log the AWS request ID so you can tell which log line belongs to which invocation.  So if you log the exception explicitly you&#39;ll get the context, in particular the request ID, of the invocation where the error occurred. When your Lambda is invoked concurrently, it&#39;s helpful to know previous log lines belong to the failed invocation."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1701302483,"creation_date":1440810832,"answer_id":32281749,"question_id":32281578,"body_markdown":"There are two open source static analysis tools that are routinely used for checking for undesirable patterns in a codebase: FindBugs and PMD.  I did a quick scan of the standard rule sets for these tools, and I didn&#39;t spot any that would check for the pattern you want to eliminate from your code-base.\r\n\r\nHowever, both FindBugs and PMD allow you to write your own custom rules.  It is not that difficult to do.\r\n\r\n------------------------\r\n\r\nAside: I hope that examples are &quot;purely for illustration&quot; and that you never deal with exceptions like that in your real code.  If you do, (IMO) then that is a far worse problem than the problem you are currently focusing on:\r\n\r\n  - Catching and throwing `Exception` is a really bad idea.  When you `catch` the `Exception` class (or `Throwable`), your handler has no idea what exceptions to expect.  If you throw or rethrow `Exception`, the enclosing method must either handle it (see previous sentence) or declare `Exception` in the signature.  That makes it even worse.  If you are not careful, this spreads like a cancer throughout your code base.\r\n\r\n  - Catching an exception, logging it and then rethrowing it is *generally* a bad idea too.  If you are not careful, the same exception is going to be logged multiple times.  You are better off logging the exception only at the point that it is finally handled.  If you always include the stacktrace, then the programmer has all of the information he/she needs to figure out where the exception was thrown, and the source code will tell him/her all of the precise call chain ... without any need for other logging.\r\n\r\n    &lt;sup&gt;However, there are cases where logging all exceptions and rethrowing is necessary.  For example, in applications that comprise multiple components running in different JVMs (maybe on different machines or platforms like AWS Lambda) it can be helpful to implement uniform logging of all exceptions + stacktraces at the platform boundaries.&lt;/sup&gt;\r\n","title":"In Java, how can I ensure all exceptions that are caught and logged provide a stacktrace in my system?","body":"<p>There are two open source static analysis tools that are routinely used for checking for undesirable patterns in a codebase: FindBugs and PMD.  I did a quick scan of the standard rule sets for these tools, and I didn't spot any that would check for the pattern you want to eliminate from your code-base.</p>\n<p>However, both FindBugs and PMD allow you to write your own custom rules.  It is not that difficult to do.</p>\n<hr />\n<p>Aside: I hope that examples are &quot;purely for illustration&quot; and that you never deal with exceptions like that in your real code.  If you do, (IMO) then that is a far worse problem than the problem you are currently focusing on:</p>\n<ul>\n<li><p>Catching and throwing <code>Exception</code> is a really bad idea.  When you <code>catch</code> the <code>Exception</code> class (or <code>Throwable</code>), your handler has no idea what exceptions to expect.  If you throw or rethrow <code>Exception</code>, the enclosing method must either handle it (see previous sentence) or declare <code>Exception</code> in the signature.  That makes it even worse.  If you are not careful, this spreads like a cancer throughout your code base.</p>\n</li>\n<li><p>Catching an exception, logging it and then rethrowing it is <em>generally</em> a bad idea too.  If you are not careful, the same exception is going to be logged multiple times.  You are better off logging the exception only at the point that it is finally handled.  If you always include the stacktrace, then the programmer has all of the information he/she needs to figure out where the exception was thrown, and the source code will tell him/her all of the precise call chain ... without any need for other logging.</p>\n<p><sup>However, there are cases where logging all exceptions and rethrowing is necessary.  For example, in applications that comprise multiple components running in different JVMs (maybe on different machines or platforms like AWS Lambda) it can be helpful to implement uniform logging of all exceptions + stacktraces at the platform boundaries.</sup></p>\n</li>\n</ul>\n"}],"owner":{"account_id":2226640,"reputation":307,"user_id":1965229,"display_name":"keian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":512,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":32281749,"answer_count":1,"score":0,"last_activity_date":1701302483,"creation_date":1440809115,"question_id":32281578,"body_markdown":"I&#39;d like to be able to prevent code like this from getting checked in to my code base:\r\n\r\n    catch (Exception e)\r\n    {\r\n       LOG.error( &quot;DeleteDir of &quot; + tempDir + &quot; failed: &quot; + e );\r\n       throw e;\r\n    }\r\nThis kind of logging only logs Exception.toString() and provides no other details that an operator may need, e.g. a stack trace.\r\n\r\nI want to enforce all catch-log blocks to do the following:\r\n\r\n    catch (Exception e)\r\n    {\r\n       LOG.error( &quot;DeleteDir of &quot; + tempDir + &quot; failed: &quot; + e, e );\r\n       throw e;\r\n    }\r\n\r\nThis way I can configure my underlying logging implementation to be as verbose (or as not) as desired.\r\n\r\nAre there any static analysis tools, or other strategies that do this?  I looked for a FindBugs check, but didn&#39;t find anything.","title":"In Java, how can I ensure all exceptions that are caught and logged provide a stacktrace in my system?","body":"<p>I'd like to be able to prevent code like this from getting checked in to my code base:</p>\n\n<pre><code>catch (Exception e)\n{\n   LOG.error( \"DeleteDir of \" + tempDir + \" failed: \" + e );\n   throw e;\n}\n</code></pre>\n\n<p>This kind of logging only logs Exception.toString() and provides no other details that an operator may need, e.g. a stack trace.</p>\n\n<p>I want to enforce all catch-log blocks to do the following:</p>\n\n<pre><code>catch (Exception e)\n{\n   LOG.error( \"DeleteDir of \" + tempDir + \" failed: \" + e, e );\n   throw e;\n}\n</code></pre>\n\n<p>This way I can configure my underlying logging implementation to be as verbose (or as not) as desired.</p>\n\n<p>Are there any static analysis tools, or other strategies that do this?  I looked for a FindBugs check, but didn't find anything.</p>\n"},{"tags":["java","arrays","sub-array"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1696866138,"post_id":77260137,"comment_id":136204620,"body_markdown":"Have you attempted to write code to achieve your objective, yourself? Or are you just expecting someone to post the code for you? Personally, I don&#39;t understand your question. What do you mean by: _distinct pairs of halves of the array_ Can you post a sample array and the distinct pairs of halves that you obtain from that array?","body":"Have you attempted to write code to achieve your objective, yourself? Or are you just expecting someone to post the code for you? Personally, I don&#39;t understand your question. What do you mean by: <i>distinct pairs of halves of the array</i> Can you post a sample array and the distinct pairs of halves that you obtain from that array?"}],"answers":[{"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1696879074,"post_id":77260347,"comment_id":136206911,"body_markdown":"It is never correct to use inheritance unless necessary. This can easily be done without extending ArrayList.","body":"It is never correct to use inheritance unless necessary. This can easily be done without extending ArrayList."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1696880959,"post_id":77260347,"comment_id":136207205,"body_markdown":"@VGR, cool, you should write an answer!","body":"@VGR, cool, you should write an answer!"}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1696876143,"creation_date":1696868024,"answer_id":77260347,"question_id":77260137,"body_markdown":"&gt; _&quot;... I&#39;m sure there&#39;s a brute force way, but I want something more efficent and I can&#39;t really figure it out. ...&quot;_\r\n\r\nYou can _encapsulate_ the _[ArrayList](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ArrayList.html)_ class, to provide a _contains_ method.\r\n\r\nHere is an example.\r\n\r\n```java\r\nclass IntArrayList extends ArrayList&lt;Integer[]&gt; {\r\n    boolean contains(int a, int b) {\r\n        for (Integer[] e : this)\r\n            if ((e[0] == a &amp;&amp; e[1] == b) || (e[0] == b &amp;&amp; e[1] == a))\r\n                return true;\r\n        return false;\r\n    }\r\n\r\n    boolean add(int a, int b) {\r\n        return super.add(new Integer[] { a, b });\r\n    }\r\n}\r\nIntArrayList list = new IntArrayList();\r\nInteger[] values = { 1, 2, 3 };\r\nfor (int a : values)\r\n    for (int b : values) {\r\n        if (a == b) continue;\r\n        if (!list.contains(a, b)) list.add(a, b);\r\n    }\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n[1, 2]\r\n[1, 3]\r\n[2, 3]\r\n```","title":"What are some efficient ways I can generate distinct halves of an integer array?","body":"<blockquote>\n<p><em>&quot;... I'm sure there's a brute force way, but I want something more efficent and I can't really figure it out. ...&quot;</em></p>\n</blockquote>\n<p>You can <em>encapsulate</em> the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">ArrayList</a></em> class, to provide a <em>contains</em> method.</p>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class IntArrayList extends ArrayList&lt;Integer[]&gt; {\n    boolean contains(int a, int b) {\n        for (Integer[] e : this)\n            if ((e[0] == a &amp;&amp; e[1] == b) || (e[0] == b &amp;&amp; e[1] == a))\n                return true;\n        return false;\n    }\n\n    boolean add(int a, int b) {\n        return super.add(new Integer[] { a, b });\n    }\n}\nIntArrayList list = new IntArrayList();\nInteger[] values = { 1, 2, 3 };\nfor (int a : values)\n    for (int b : values) {\n        if (a == b) continue;\n        if (!list.contains(a, b)) list.add(a, b);\n    }\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[1, 2]\n[1, 3]\n[2, 3]\n</code></pre>\n"}],"owner":{"account_id":20932312,"reputation":1,"user_id":15378419,"display_name":"Eggy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1701301963,"creation_date":1696865812,"question_id":77260137,"body_markdown":"Given an integer array, I want to print out all the distinct pairs of halves of the array. [2,1] [3,2] and [3,2] [2,1] can be considered distinct.\r\n\r\nI&#39;m sure there&#39;s a brute force way, but I want something more efficient and I can&#39;t really figure it out.","title":"What are some efficient ways I can generate distinct halves of an integer array?","body":"<p>Given an integer array, I want to print out all the distinct pairs of halves of the array. [2,1] [3,2] and [3,2] [2,1] can be considered distinct.</p>\n<p>I'm sure there's a brute force way, but I want something more efficient and I can't really figure it out.</p>\n"},{"tags":["java","jpa","spring-data-jpa"],"owner":{"account_id":1612466,"reputation":125,"user_id":1491037,"display_name":"amol"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701301829,"creation_date":1701301829,"question_id":77575116,"body_markdown":"I am trying to create a `search` API in Spring boot using rest. I am getting the hang of `ExampleMatchers` in JPA to filter &amp; search. There is a particular scenario where I need to filter through multiple values as in a list of values for a particular field\r\n\r\nBelow are the JPA entities:\r\n\r\n```\r\npublic class ETopic {\r\n\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  @Column(name = &quot;id&quot;)\r\n  int id;\r\n\r\n  @Column(name = &quot;topic_name&quot;)\r\n  String topicName;\r\n\r\n  @ManyToOne(fetch = FetchType.LAZY)\r\n  @JoinColumn(name = &quot;tenant_id&quot;, nullable = false)\r\n  @Fetch(value = FetchMode.SELECT)\r\n  @JsonBackReference\r\n  ETenant tenant;\r\n}\r\n\r\n\r\npublic class ETenant {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;id&quot;)\r\n\tint id;\r\n\r\n\t@Column(name = &quot;tenant_name&quot;)\r\n\tString tenantName;\r\n\r\n    @OneToMany(mappedBy = &quot;tenant&quot;)\r\n\t@JsonManagedReference\r\n\tList&lt;ERole&gt; roles;\r\n\r\n\t@OneToMany(mappedBy = &quot;tenant&quot;)\r\n\t@JsonManagedReference\r\n\tList&lt;ETopic&gt; topics;\r\n}\r\n```\r\n\r\nI need to fetch `ETopic` using multiple `ETenant` names\r\n\r\nI have not been able to find anything in example matchers to use IN clause\r\n\r\n```\r\nvar pageable = Pageable.ofSize(request.getPageSize()).withPage(request.getPageNo());\r\n\r\nExampleMatcher exampleMatcher =\r\n        ExampleMatcher.matchingAny()\r\n            .withMatcher(\r\n                &quot;topicName&quot;, ExampleMatcher.GenericPropertyMatchers.contains().ignoreCase())\r\n            .withMatcher(&quot;tenant&quot;, ExampleMatcher.GenericPropertyMatchers.contains());\r\n\r\nList&lt;ETenant&gt; tenants = List.of(ETenant.builder().id(3).build(), ETenant.builder().id(4).build());  // unable to use this\r\n\r\nETopic eTopicEg = ETopic.builder().topicName(request.getSearchTerm()).tenant(ETenant.builder().id(3).build()).build();\r\nExample&lt;ETopic&gt; example = Example.of(eTopicEg, exampleMatcher);\r\nPage&lt;ETopic&gt; eTopics = topicRepository.findAll(example, pageable);\r\n```","title":"How do i use IN clause in JPA ExampleMatcher?","body":"<p>I am trying to create a <code>search</code> API in Spring boot using rest. I am getting the hang of <code>ExampleMatchers</code> in JPA to filter &amp; search. There is a particular scenario where I need to filter through multiple values as in a list of values for a particular field</p>\n<p>Below are the JPA entities:</p>\n<pre><code>public class ETopic {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  @Column(name = &quot;id&quot;)\n  int id;\n\n  @Column(name = &quot;topic_name&quot;)\n  String topicName;\n\n  @ManyToOne(fetch = FetchType.LAZY)\n  @JoinColumn(name = &quot;tenant_id&quot;, nullable = false)\n  @Fetch(value = FetchMode.SELECT)\n  @JsonBackReference\n  ETenant tenant;\n}\n\n\npublic class ETenant {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    int id;\n\n    @Column(name = &quot;tenant_name&quot;)\n    String tenantName;\n\n    @OneToMany(mappedBy = &quot;tenant&quot;)\n    @JsonManagedReference\n    List&lt;ERole&gt; roles;\n\n    @OneToMany(mappedBy = &quot;tenant&quot;)\n    @JsonManagedReference\n    List&lt;ETopic&gt; topics;\n}\n</code></pre>\n<p>I need to fetch <code>ETopic</code> using multiple <code>ETenant</code> names</p>\n<p>I have not been able to find anything in example matchers to use IN clause</p>\n<pre><code>var pageable = Pageable.ofSize(request.getPageSize()).withPage(request.getPageNo());\n\nExampleMatcher exampleMatcher =\n        ExampleMatcher.matchingAny()\n            .withMatcher(\n                &quot;topicName&quot;, ExampleMatcher.GenericPropertyMatchers.contains().ignoreCase())\n            .withMatcher(&quot;tenant&quot;, ExampleMatcher.GenericPropertyMatchers.contains());\n\nList&lt;ETenant&gt; tenants = List.of(ETenant.builder().id(3).build(), ETenant.builder().id(4).build());  // unable to use this\n\nETopic eTopicEg = ETopic.builder().topicName(request.getSearchTerm()).tenant(ETenant.builder().id(3).build()).build();\nExample&lt;ETopic&gt; example = Example.of(eTopicEg, exampleMatcher);\nPage&lt;ETopic&gt; eTopics = topicRepository.findAll(example, pageable);\n</code></pre>\n"},{"tags":["java","jakarta-ee","jboss","wildfly","elytron"],"answers":[{"tags":[],"owner":{"account_id":7561520,"reputation":129,"user_id":5738901,"accept_rate":25,"display_name":"j-dimension"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701301573,"creation_date":1701301573,"answer_id":77575102,"question_id":77545540,"body_markdown":"Answering my own question here, just in case anyone else runs into this issue:\r\n\r\nUse a \r\n\r\n    &lt;simple-digest-mapper algorithm=&quot;simple-digest-sha-256&quot; password-index=&quot;1&quot;/&gt;\r\n\r\nat the jdbc-realm and a &quot;PLAIN&quot; mechanism at the SASL auth factory:\r\n\r\n            &lt;sasl-authentication-factory name=&quot;jlawyer-sasl-authentication-factory&quot; sasl-server-factory=&quot;configured&quot; security-domain=&quot;jlawyer-security-domain&quot;&gt;\r\n                &lt;mechanism-configuration&gt;\r\n                    &lt;mechanism mechanism-name=&quot;PLAIN&quot;&gt;\r\n                        &lt;mechanism-realm realm-name=&quot;jlawyer-jdbc-realm&quot;/&gt;\r\n                    &lt;/mechanism&gt;\r\n                &lt;/mechanism-configuration&gt;\r\n            &lt;/sasl-authentication-factory&gt;\r\n\r\nThis did the trick.","title":"Wildfly / Elytron and jdbc-realm with digest","body":"<p>Answering my own question here, just in case anyone else runs into this issue:</p>\n<p>Use a</p>\n<pre><code>&lt;simple-digest-mapper algorithm=&quot;simple-digest-sha-256&quot; password-index=&quot;1&quot;/&gt;\n</code></pre>\n<p>at the jdbc-realm and a &quot;PLAIN&quot; mechanism at the SASL auth factory:</p>\n<pre><code>        &lt;sasl-authentication-factory name=&quot;jlawyer-sasl-authentication-factory&quot; sasl-server-factory=&quot;configured&quot; security-domain=&quot;jlawyer-security-domain&quot;&gt;\n            &lt;mechanism-configuration&gt;\n                &lt;mechanism mechanism-name=&quot;PLAIN&quot;&gt;\n                    &lt;mechanism-realm realm-name=&quot;jlawyer-jdbc-realm&quot;/&gt;\n                &lt;/mechanism&gt;\n            &lt;/mechanism-configuration&gt;\n        &lt;/sasl-authentication-factory&gt;\n</code></pre>\n<p>This did the trick.</p>\n"}],"owner":{"account_id":7561520,"reputation":129,"user_id":5738901,"accept_rate":25,"display_name":"j-dimension"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701301573,"creation_date":1700857894,"question_id":77545540,"body_markdown":"I am migrating an application from Wildfly 16 to 30 and have a hard time finding the right security configuration.\r\n\r\nWhat I have in Wildfly 16:\r\n(1) a jdbc-based authentication with base64&#39;ed SHA-256 passwords / authorization like this:\r\n```\r\n                &lt;security-domain name=&quot;j-lawyer-security&quot; cache-type=&quot;default&quot;&gt;\r\n                    &lt;authentication&gt;\r\n                        &lt;login-module code=&quot;Database&quot; flag=&quot;required&quot;&gt;\r\n                            &lt;module-option name=&quot;dsJndiName&quot; value=&quot;java:/jlawyerdb&quot;/&gt;\r\n                            &lt;module-option name=&quot;principalsQuery&quot; value=&quot;select password from security_users where principalId=?&quot;/&gt;\r\n                            &lt;module-option name=&quot;rolesQuery&quot; value=&quot;select role, &#39;Roles&#39; from security_roles where principalId=?&quot;/&gt;\r\n                            &lt;module-option name=&quot;unauthenticatedIdentity&quot; value=&quot;anonymous&quot;/&gt;\r\n                            &lt;module-option name=&quot;hashAlgorithm&quot; value=&quot;SHA-256&quot;/&gt;\r\n                            &lt;module-option name=&quot;hashEncoding&quot; value=&quot;base64&quot;/&gt;\r\n                            &lt;module-option name=&quot;hashUserPassword&quot; value=&quot;true&quot;/&gt;\r\n                            &lt;module-option name=&quot;hashStorePassword&quot; value=&quot;false&quot;/&gt;\r\n                        &lt;/login-module&gt;\r\n                    &lt;/authentication&gt;\r\n                &lt;/security-domain&gt;\r\n            &lt;/security-domains&gt;\r\n```\r\n\r\nThe application code refers to this security domain. \r\n\r\n(2) a remote EJB client that looks like this:\r\n```\r\nProperties properties = new Properties();\r\n            properties.put(&quot;jboss.naming.client.ejb.context&quot;, true);\r\n\r\n            // begin: for JMS only\r\n            properties.put(Context.INITIAL_CONTEXT_FACTORY, &quot;org.wildfly.naming.client.WildFlyInitialContextFactory&quot;);\r\n            properties.put(Context.PROVIDER_URL, &quot;http-remoting://localhost:8080&quot;);\r\n            properties.put(Context.SECURITY_PRINCIPAL, &quot;admin&quot;);\r\n            properties.put(Context.SECURITY_CREDENTIALS, pwString);\r\n            properties.put(&quot;jboss.naming.client.connect.options.org.xnio.Options.SASL_POLICY_NOPLAINTEXT&quot;, &quot;false&quot;);\r\n            properties.put(&quot;jboss.naming.client.connect.options.org.xnio.Options.SASL_POLICY_NOANONYMOUS&quot;, &quot;false&quot;);\r\n            properties.put(&quot;jboss.naming.client.connect.options.org.xnio.Options.SSL_ENABLED&quot;, &quot;false&quot;);\r\n            properties.put(&quot;jboss.naming.client.connect.options.org.xnio.Options.SSL_STARTTLS&quot;, &quot;false&quot;);\r\n\r\n            InitialContext ic = new InitialContext(properties);\r\n            SecurityServiceRemote remote = (SecurityServiceRemote) ic.lookup(&quot;ejb:j-lawyer-server/j-lawyer-server-ejb//SecurityService!com.jdimension.jlawyer.services.SecurityServiceRemote&quot;);\r\n            remote.dummy();\r\n```\r\n\r\n(3) an REST API that uses HTTP basis authentication\r\n\r\nBoth the EJB client and HTTP BASIC work well together. \r\n\r\n**Wildfly 30**\r\n\r\nNow, in Wildfly 30, I am struggling to set up Elytron to achieve the same thing. \r\n\r\nWhat I have in Wildfly standalone.xml:\r\n\r\n(1) I changed the security realms to support database-based auth:\r\n```\r\n            &lt;security-realms&gt;\r\n                &lt;identity-realm name=&quot;local&quot; identity=&quot;$local&quot;/&gt;\r\n                &lt;jdbc-realm name=&quot;ApplicationRealm&quot;&gt;\r\n                    &lt;principal-query sql=&quot;select password from security_users where principalId=?&quot; data-source=&quot;somedb&quot;&gt;\r\n                        &lt;clear-password-mapper password-index=&quot;1&quot;/&gt;\r\n                    &lt;/principal-query&gt;\r\n                    &lt;principal-query sql=&quot;select role, &#39;Roles&#39; from security_roles where principalId=?&quot; data-source=&quot;jlawyerdb&quot;&gt;\r\n                        &lt;attribute-mapping&gt;\r\n                            &lt;attribute to=&quot;Roles&quot; index=&quot;1&quot;/&gt;\r\n                        &lt;/attribute-mapping&gt;\r\n                    &lt;/principal-query&gt;\r\n                &lt;/jdbc-realm&gt;\r\n            &lt;/security-realms&gt;\r\n```\r\n\r\nWithin the Elytron module, I have\r\n```\r\n            &lt;http&gt;\r\n                &lt;http-authentication-factory name=&quot;application-http-authentication&quot; security-domain=&quot;ApplicationDomain&quot; http-server-mechanism-factory=&quot;global&quot;&gt;\r\n                    &lt;mechanism-configuration&gt;\r\n                        &lt;mechanism mechanism-name=&quot;BASIC&quot;&gt;\r\n                            &lt;mechanism-realm realm-name=&quot;ApplicationRealm&quot;/&gt;\r\n                        &lt;/mechanism&gt;\r\n                    &lt;/mechanism-configuration&gt;\r\n                &lt;/http-authentication-factory&gt;\r\n                &lt;provider-http-server-mechanism-factory name=&quot;global&quot;/&gt;\r\n            &lt;/http&gt;\r\n            &lt;sasl&gt;\r\n                &lt;sasl-authentication-factory name=&quot;application-sasl-authentication&quot; sasl-server-factory=&quot;configured&quot; security-domain=&quot;ApplicationDomain&quot;&gt;\r\n                    &lt;mechanism-configuration&gt;\r\n                        &lt;mechanism mechanism-name=&quot;JBOSS-LOCAL-USER&quot; realm-mapper=&quot;local&quot;/&gt;\r\n                        &lt;mechanism mechanism-name=&quot;DIGEST-SHA-256&quot;&gt;\r\n                            &lt;mechanism-realm realm-name=&quot;ApplicationRealm&quot;/&gt;\r\n                        &lt;/mechanism&gt;\r\n                    &lt;/mechanism-configuration&gt;\r\n                &lt;/sasl-authentication-factory&gt;\r\n```\r\n\r\nIn the undertow module:\r\n```\r\n            &lt;application-security-domains&gt;\r\n                &lt;application-security-domain name=&quot;other&quot; security-domain=&quot;ApplicationDomain&quot;/&gt;\r\n            &lt;/application-security-domains&gt;\r\n```\r\n\r\nFor the remote EJB client, the lookup code successfully performs a lookup, but when calling some business logic it fails. Strangely, **when I create a SHA-256 and Base64 it and pass that value as a password in the lookup properties, it is authenticating successfully**! \r\n\r\nThat does not make sense to me, because it is essentially the same as storing clear text passwords on the server side, and in Wildfly 16 no such thing was needed.\r\n\r\nThe HTTP client (I try to open the web app that also hosts the REST backend) asks for credentials (browser popup) but then nothing works, not plain text password, not the hashed value. \r\n\r\nI set security to TRACE level logging and this is what I get when authenticating from within the browser:\r\n```\r\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security.http.servlet] (default task-1) Created ServletSecurityContextImpl enableJapi=true, integratedJaspi=true, applicationContext=default-host /j-lawyer-io\r\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security.http.servlet] (default task-1) No AuthConfigProvider for layer=HttpServlet, appContext=default-host /j-lawyer-io\r\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security.http.servlet] (default task-1) JASPIC Unavailable, using HTTP authentication.\r\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security] (default task-1) No CachedIdentity to restore.\r\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security] (default task-1) Created HttpServerAuthenticationMechanism [org.wildfly.security.auth.server.SecurityIdentityServerMechanismFactory$1@6c3c7599] for mechanism [BASIC]\r\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security] (default task-1) Handling AvailableRealmsCallback: realms = [j-lawyer-security-application]\r\n2023-11-24 21:26:31,706 DEBUG [org.wildfly.security.http.password] (default task-1) Username authentication. Realm: [j-lawyer-security-application], Username: [admin].\r\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security] (default task-1) Handling RealmCallback: selected = [j-lawyer-security-application]\r\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security] (default task-1) Handling NameCallback: authenticationName = admin\r\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security] (default task-1) Principal assigning: [admin], pre-realm rewritten: [admin], realm name: [ApplicationRealm], post-realm rewritten: [admin], realm rewritten: [admin]\r\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security] (default task-1) Executing principalQuery select password from security_users where principalId=? with value admin\r\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Key Mapper: Password credential created using algorithm column value [clear]\r\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Executing principalQuery select role, &#39;Roles&#39; from security_roles where principalId=? with value admin\r\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security.http.basic] (default task-1) User admin authenticated successfully!\r\n2023-11-24 21:26:31,707 DEBUG [org.wildfly.security.http.password] (default task-1) Username authorization. Username: [admin].\r\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Role mapping: principal [admin] -&gt; decoded roles [] -&gt; domain decoded roles [] -&gt; realm mapped roles [] -&gt; domain mapped roles []\r\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Authorizing principal admin.\r\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Authorizing against the following attributes: [Roles] =&gt; [loginRole, writeAddressRole, createAddressRole, readArchiveFileRole, createOptionGroupRole, commonReportRole, createArchiveFileRole, writeOptionGroupRole, removeAddressRole, confidentialReportRole, readAddressRole, adminRole, writeArchiveFileRole, removeArchiveFileRole, deleteOptionGroupRole, importRole]\r\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Authorizing against the following runtime attributes: [] =&gt; []\r\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Permission mapping: identity [admin] with roles [] implies (&quot;org.wildfly.security.auth.permission.LoginPermission&quot; &quot;&quot;) = true\r\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Authorization succeed\r\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) RunAs authorization succeed - the same identity\r\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Handling AuthorizeCallback: authenticationID = admin  authorizationID = admin  authorized = true\r\n2023-11-24 21:26:31,707 DEBUG [org.wildfly.security.http.basic] (default task-1) User admin authorization succeeded!\r\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Handling AuthenticationCompleteCallback: succeed\r\n2023-11-24 21:26:31,708 TRACE [org.wildfly.security] (default task-1) Handling SecurityIdentityCallback: identity = SecurityIdentity{principal=admin, securityDomain=org.wildfly.security.auth.server.SecurityDomain@3ea8f016, authorizationIdentity=EMPTY, realmInfo=RealmInfo{name=&#39;ApplicationRealm&#39;, securityRealm=org.wildfly.security.auth.realm.jdbc.JdbcSecurityRealm@51bd3c04}, creationTime=2023-11-24T20:26:31.707702901Z}\r\n2023-11-24 21:26:31,708 TRACE [org.wildfly.security] (default task-1) Role mapping: principal [admin] -&gt; decoded roles [] -&gt; domain decoded roles [] -&gt; realm mapped roles [] -&gt; domain mapped roles []\r\n2023-11-24 21:26:31,708 TRACE [org.wildfly.security] (default task-1) Role mapping: principal [admin] -&gt; decoded roles [] -&gt; domain decoded roles [] -&gt; realm mapped roles [] -&gt; domain mapped roles []\r\n2023-11-24 21:26:31,708 TRACE [org.wildfly.security] (default task-1) Permission mapping: identity [admin] with roles [] implies (&quot;jakarta.security.jacc.WebResourcePermission&quot; &quot;/swagger-ui/&quot; &quot;GET&quot;) = false\r\n```\r\n\r\nQuestions:\r\n\r\n- At a conceptual level, am I doing something wrong?\r\n- is HTTP basic for a web app and hashed passwords working in combination with remote EJB clients?\r\n- When using hashing, is the remote client now supposed to provide the hashed value to the server in the lookup properties? If yes, what would the browser do? It cannot create such values.\r\n- As the Elytron doc seem either outdated or incomplete: anyone aware of a comparable example?\r\n\r\nThanks!","title":"Wildfly / Elytron and jdbc-realm with digest","body":"<p>I am migrating an application from Wildfly 16 to 30 and have a hard time finding the right security configuration.</p>\n<p>What I have in Wildfly 16:\n(1) a jdbc-based authentication with base64'ed SHA-256 passwords / authorization like this:</p>\n<pre><code>                &lt;security-domain name=&quot;j-lawyer-security&quot; cache-type=&quot;default&quot;&gt;\n                    &lt;authentication&gt;\n                        &lt;login-module code=&quot;Database&quot; flag=&quot;required&quot;&gt;\n                            &lt;module-option name=&quot;dsJndiName&quot; value=&quot;java:/jlawyerdb&quot;/&gt;\n                            &lt;module-option name=&quot;principalsQuery&quot; value=&quot;select password from security_users where principalId=?&quot;/&gt;\n                            &lt;module-option name=&quot;rolesQuery&quot; value=&quot;select role, 'Roles' from security_roles where principalId=?&quot;/&gt;\n                            &lt;module-option name=&quot;unauthenticatedIdentity&quot; value=&quot;anonymous&quot;/&gt;\n                            &lt;module-option name=&quot;hashAlgorithm&quot; value=&quot;SHA-256&quot;/&gt;\n                            &lt;module-option name=&quot;hashEncoding&quot; value=&quot;base64&quot;/&gt;\n                            &lt;module-option name=&quot;hashUserPassword&quot; value=&quot;true&quot;/&gt;\n                            &lt;module-option name=&quot;hashStorePassword&quot; value=&quot;false&quot;/&gt;\n                        &lt;/login-module&gt;\n                    &lt;/authentication&gt;\n                &lt;/security-domain&gt;\n            &lt;/security-domains&gt;\n</code></pre>\n<p>The application code refers to this security domain.</p>\n<p>(2) a remote EJB client that looks like this:</p>\n<pre><code>Properties properties = new Properties();\n            properties.put(&quot;jboss.naming.client.ejb.context&quot;, true);\n\n            // begin: for JMS only\n            properties.put(Context.INITIAL_CONTEXT_FACTORY, &quot;org.wildfly.naming.client.WildFlyInitialContextFactory&quot;);\n            properties.put(Context.PROVIDER_URL, &quot;http-remoting://localhost:8080&quot;);\n            properties.put(Context.SECURITY_PRINCIPAL, &quot;admin&quot;);\n            properties.put(Context.SECURITY_CREDENTIALS, pwString);\n            properties.put(&quot;jboss.naming.client.connect.options.org.xnio.Options.SASL_POLICY_NOPLAINTEXT&quot;, &quot;false&quot;);\n            properties.put(&quot;jboss.naming.client.connect.options.org.xnio.Options.SASL_POLICY_NOANONYMOUS&quot;, &quot;false&quot;);\n            properties.put(&quot;jboss.naming.client.connect.options.org.xnio.Options.SSL_ENABLED&quot;, &quot;false&quot;);\n            properties.put(&quot;jboss.naming.client.connect.options.org.xnio.Options.SSL_STARTTLS&quot;, &quot;false&quot;);\n\n            InitialContext ic = new InitialContext(properties);\n            SecurityServiceRemote remote = (SecurityServiceRemote) ic.lookup(&quot;ejb:j-lawyer-server/j-lawyer-server-ejb//SecurityService!com.jdimension.jlawyer.services.SecurityServiceRemote&quot;);\n            remote.dummy();\n</code></pre>\n<p>(3) an REST API that uses HTTP basis authentication</p>\n<p>Both the EJB client and HTTP BASIC work well together.</p>\n<p><strong>Wildfly 30</strong></p>\n<p>Now, in Wildfly 30, I am struggling to set up Elytron to achieve the same thing.</p>\n<p>What I have in Wildfly standalone.xml:</p>\n<p>(1) I changed the security realms to support database-based auth:</p>\n<pre><code>            &lt;security-realms&gt;\n                &lt;identity-realm name=&quot;local&quot; identity=&quot;$local&quot;/&gt;\n                &lt;jdbc-realm name=&quot;ApplicationRealm&quot;&gt;\n                    &lt;principal-query sql=&quot;select password from security_users where principalId=?&quot; data-source=&quot;somedb&quot;&gt;\n                        &lt;clear-password-mapper password-index=&quot;1&quot;/&gt;\n                    &lt;/principal-query&gt;\n                    &lt;principal-query sql=&quot;select role, 'Roles' from security_roles where principalId=?&quot; data-source=&quot;jlawyerdb&quot;&gt;\n                        &lt;attribute-mapping&gt;\n                            &lt;attribute to=&quot;Roles&quot; index=&quot;1&quot;/&gt;\n                        &lt;/attribute-mapping&gt;\n                    &lt;/principal-query&gt;\n                &lt;/jdbc-realm&gt;\n            &lt;/security-realms&gt;\n</code></pre>\n<p>Within the Elytron module, I have</p>\n<pre><code>            &lt;http&gt;\n                &lt;http-authentication-factory name=&quot;application-http-authentication&quot; security-domain=&quot;ApplicationDomain&quot; http-server-mechanism-factory=&quot;global&quot;&gt;\n                    &lt;mechanism-configuration&gt;\n                        &lt;mechanism mechanism-name=&quot;BASIC&quot;&gt;\n                            &lt;mechanism-realm realm-name=&quot;ApplicationRealm&quot;/&gt;\n                        &lt;/mechanism&gt;\n                    &lt;/mechanism-configuration&gt;\n                &lt;/http-authentication-factory&gt;\n                &lt;provider-http-server-mechanism-factory name=&quot;global&quot;/&gt;\n            &lt;/http&gt;\n            &lt;sasl&gt;\n                &lt;sasl-authentication-factory name=&quot;application-sasl-authentication&quot; sasl-server-factory=&quot;configured&quot; security-domain=&quot;ApplicationDomain&quot;&gt;\n                    &lt;mechanism-configuration&gt;\n                        &lt;mechanism mechanism-name=&quot;JBOSS-LOCAL-USER&quot; realm-mapper=&quot;local&quot;/&gt;\n                        &lt;mechanism mechanism-name=&quot;DIGEST-SHA-256&quot;&gt;\n                            &lt;mechanism-realm realm-name=&quot;ApplicationRealm&quot;/&gt;\n                        &lt;/mechanism&gt;\n                    &lt;/mechanism-configuration&gt;\n                &lt;/sasl-authentication-factory&gt;\n</code></pre>\n<p>In the undertow module:</p>\n<pre><code>            &lt;application-security-domains&gt;\n                &lt;application-security-domain name=&quot;other&quot; security-domain=&quot;ApplicationDomain&quot;/&gt;\n            &lt;/application-security-domains&gt;\n</code></pre>\n<p>For the remote EJB client, the lookup code successfully performs a lookup, but when calling some business logic it fails. Strangely, <strong>when I create a SHA-256 and Base64 it and pass that value as a password in the lookup properties, it is authenticating successfully</strong>!</p>\n<p>That does not make sense to me, because it is essentially the same as storing clear text passwords on the server side, and in Wildfly 16 no such thing was needed.</p>\n<p>The HTTP client (I try to open the web app that also hosts the REST backend) asks for credentials (browser popup) but then nothing works, not plain text password, not the hashed value.</p>\n<p>I set security to TRACE level logging and this is what I get when authenticating from within the browser:</p>\n<pre><code>2023-11-24 21:26:31,706 TRACE [org.wildfly.security.http.servlet] (default task-1) Created ServletSecurityContextImpl enableJapi=true, integratedJaspi=true, applicationContext=default-host /j-lawyer-io\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security.http.servlet] (default task-1) No AuthConfigProvider for layer=HttpServlet, appContext=default-host /j-lawyer-io\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security.http.servlet] (default task-1) JASPIC Unavailable, using HTTP authentication.\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security] (default task-1) No CachedIdentity to restore.\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security] (default task-1) Created HttpServerAuthenticationMechanism [org.wildfly.security.auth.server.SecurityIdentityServerMechanismFactory$1@6c3c7599] for mechanism [BASIC]\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security] (default task-1) Handling AvailableRealmsCallback: realms = [j-lawyer-security-application]\n2023-11-24 21:26:31,706 DEBUG [org.wildfly.security.http.password] (default task-1) Username authentication. Realm: [j-lawyer-security-application], Username: [admin].\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security] (default task-1) Handling RealmCallback: selected = [j-lawyer-security-application]\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security] (default task-1) Handling NameCallback: authenticationName = admin\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security] (default task-1) Principal assigning: [admin], pre-realm rewritten: [admin], realm name: [ApplicationRealm], post-realm rewritten: [admin], realm rewritten: [admin]\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security] (default task-1) Executing principalQuery select password from security_users where principalId=? with value admin\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Key Mapper: Password credential created using algorithm column value [clear]\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Executing principalQuery select role, 'Roles' from security_roles where principalId=? with value admin\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security.http.basic] (default task-1) User admin authenticated successfully!\n2023-11-24 21:26:31,707 DEBUG [org.wildfly.security.http.password] (default task-1) Username authorization. Username: [admin].\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Role mapping: principal [admin] -&gt; decoded roles [] -&gt; domain decoded roles [] -&gt; realm mapped roles [] -&gt; domain mapped roles []\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Authorizing principal admin.\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Authorizing against the following attributes: [Roles] =&gt; [loginRole, writeAddressRole, createAddressRole, readArchiveFileRole, createOptionGroupRole, commonReportRole, createArchiveFileRole, writeOptionGroupRole, removeAddressRole, confidentialReportRole, readAddressRole, adminRole, writeArchiveFileRole, removeArchiveFileRole, deleteOptionGroupRole, importRole]\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Authorizing against the following runtime attributes: [] =&gt; []\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Permission mapping: identity [admin] with roles [] implies (&quot;org.wildfly.security.auth.permission.LoginPermission&quot; &quot;&quot;) = true\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Authorization succeed\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) RunAs authorization succeed - the same identity\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Handling AuthorizeCallback: authenticationID = admin  authorizationID = admin  authorized = true\n2023-11-24 21:26:31,707 DEBUG [org.wildfly.security.http.basic] (default task-1) User admin authorization succeeded!\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Handling AuthenticationCompleteCallback: succeed\n2023-11-24 21:26:31,708 TRACE [org.wildfly.security] (default task-1) Handling SecurityIdentityCallback: identity = SecurityIdentity{principal=admin, securityDomain=org.wildfly.security.auth.server.SecurityDomain@3ea8f016, authorizationIdentity=EMPTY, realmInfo=RealmInfo{name='ApplicationRealm', securityRealm=org.wildfly.security.auth.realm.jdbc.JdbcSecurityRealm@51bd3c04}, creationTime=2023-11-24T20:26:31.707702901Z}\n2023-11-24 21:26:31,708 TRACE [org.wildfly.security] (default task-1) Role mapping: principal [admin] -&gt; decoded roles [] -&gt; domain decoded roles [] -&gt; realm mapped roles [] -&gt; domain mapped roles []\n2023-11-24 21:26:31,708 TRACE [org.wildfly.security] (default task-1) Role mapping: principal [admin] -&gt; decoded roles [] -&gt; domain decoded roles [] -&gt; realm mapped roles [] -&gt; domain mapped roles []\n2023-11-24 21:26:31,708 TRACE [org.wildfly.security] (default task-1) Permission mapping: identity [admin] with roles [] implies (&quot;jakarta.security.jacc.WebResourcePermission&quot; &quot;/swagger-ui/&quot; &quot;GET&quot;) = false\n</code></pre>\n<p>Questions:</p>\n<ul>\n<li>At a conceptual level, am I doing something wrong?</li>\n<li>is HTTP basic for a web app and hashed passwords working in combination with remote EJB clients?</li>\n<li>When using hashing, is the remote client now supposed to provide the hashed value to the server in the lookup properties? If yes, what would the browser do? It cannot create such values.</li>\n<li>As the Elytron doc seem either outdated or incomplete: anyone aware of a comparable example?</li>\n</ul>\n<p>Thanks!</p>\n"},{"tags":["java","spring-boot","groovy"],"comments":[{"owner":{"account_id":13039762,"reputation":294,"user_id":9423518,"display_name":"Black Bear"},"score":0,"creation_date":1698596900,"post_id":77384177,"comment_id":136422843,"body_markdown":"Does this answer to your question https://www.baeldung.com/groovy-java-applications","body":"Does this answer to your question <a href=\"https://www.baeldung.com/groovy-java-applications\" rel=\"nofollow noreferrer\">baeldung.com/groovy-java-applications</a>"},{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":2,"creation_date":1698597141,"post_id":77384177,"comment_id":136422867,"body_markdown":"Statememts that groovy is a superset of java are inaccurate https://stackoverflow.com/q/4272068/217324","body":"Statememts that groovy is a superset of java are inaccurate <a href=\"https://stackoverflow.com/q/4272068/217324\">stackoverflow.com/q/4272068/217324</a>"},{"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"score":2,"creation_date":1698598829,"post_id":77384177,"comment_id":136423074,"body_markdown":"if you pick groovy, java is available out of the box","body":"if you pick groovy, java is available out of the box"}],"answers":[{"comments":[{"owner":{"account_id":1073482,"reputation":10989,"user_id":1072187,"accept_rate":36,"display_name":"John Little"},"score":0,"creation_date":1698612742,"post_id":77384605,"comment_id":136424590,"body_markdown":"I tried selecting groovy, but unfortunately, VSCode cant run it with F5 (says &quot;Cannot find a class with the main method&quot; or from boot dashboard, says: No main class is found.","body":"I tried selecting groovy, but unfortunately, VSCode cant run it with F5 (says &quot;Cannot find a class with the main method&quot; or from boot dashboard, says: No main class is found."}],"tags":[],"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698603243,"creation_date":1698603243,"answer_id":77384605,"question_id":77384177,"body_markdown":"Pick Groovy and then put your `.java` files inside the Groovy source root; the\r\nGroovy compiler falls back to the Java compiler for those files. Doing\r\nit this way, you make sure, that dependencies are handled correctly (if\r\nyou put them inside the Java source root, one of the source roots will\r\nbe compiled first and you will have a hard time handling dependencies\r\nproperly).\r\n","title":"How to chose both Java and Groovy?","body":"<p>Pick Groovy and then put your <code>.java</code> files inside the Groovy source root; the\nGroovy compiler falls back to the Java compiler for those files. Doing\nit this way, you make sure, that dependencies are handled correctly (if\nyou put them inside the Java source root, one of the source roots will\nbe compiled first and you will have a hard time handling dependencies\nproperly).</p>\n"}],"owner":{"account_id":1073482,"reputation":10989,"user_id":1072187,"accept_rate":36,"display_name":"John Little"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":77384605,"answer_count":1,"score":-2,"last_activity_date":1701301393,"creation_date":1698596532,"question_id":77384177,"body_markdown":"When you create a Spring Boot app via the Spring Initializr (which is the only way I know), you have to chose either Java or Groovy. This seems odd, as Groovy is just a superset of Java.\r\n\r\nAnyway, I want to use both!  \r\n\r\nHow does one have both Java and Groovy, like you can do seamlessly with Grails?","title":"How to chose both Java and Groovy?","body":"<p>When you create a Spring Boot app via the Spring Initializr (which is the only way I know), you have to chose either Java or Groovy. This seems odd, as Groovy is just a superset of Java.</p>\n<p>Anyway, I want to use both!</p>\n<p>How does one have both Java and Groovy, like you can do seamlessly with Grails?</p>\n"},{"tags":["java","intellij-idea","java-9","java-module"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1701264712,"post_id":77571532,"comment_id":136753927,"body_markdown":"Go to File-&gt;Project Structure-&gt;Modules. That&#39;s where you configure modules for IntelliJ. Do you see anything wrong there?","body":"Go to File-&gt;Project Structure-&gt;Modules. That&#39;s where you configure modules for IntelliJ. Do you see anything wrong there?"},{"owner":{"account_id":3675005,"reputation":941,"user_id":3061292,"accept_rate":57,"display_name":"mpssantos"},"score":0,"creation_date":1701265140,"post_id":77571532,"comment_id":136754009,"body_markdown":"there i added each module to the source code: easytext.analysis and easytext.cli. You can see it marked as blue in the project explorer. I believe that there is a difference between IntelliJ Modules, maven Modules and Java 9 Modules.\n\nIf i use Intellij to create the &quot;module-info.java&quot; (instead of mannually) it only let me create the firt file, the 2nd it grey out showing that is not possible to create a 2nd one","body":"there i added each module to the source code: easytext.analysis and easytext.cli. You can see it marked as blue in the project explorer. I believe that there is a difference between IntelliJ Modules, maven Modules and Java 9 Modules.  If i use Intellij to create the &quot;module-info.java&quot; (instead of mannually) it only let me create the firt file, the 2nd it grey out showing that is not possible to create a 2nd one"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1701265518,"post_id":77571532,"comment_id":136754110,"body_markdown":"No, blue folders are just source directories. Modules are the folders with a blue rectangle on them. i.e. easytext-twomodules. Can you show a screenshot of the File-&gt;Project Structure-&gt;Modules dialog? I don&#39;t believe that you added two modules.","body":"No, blue folders are just source directories. Modules are the folders with a blue rectangle on them. i.e. easytext-twomodules. Can you show a screenshot of the File-&gt;Project Structure-&gt;Modules dialog? I don&#39;t believe that you added two modules."},{"owner":{"account_id":3675005,"reputation":941,"user_id":3061292,"accept_rate":57,"display_name":"mpssantos"},"score":0,"creation_date":1701268767,"post_id":77571532,"comment_id":136754828,"body_markdown":"just added the Project Settings. But if i create module there, a directory in the project root will be created. Is that what we want?","body":"just added the Project Settings. But if i create module there, a directory in the project root will be created. Is that what we want?"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1701269065,"post_id":77571532,"comment_id":136754898,"body_markdown":"As I thought, you only have one module in there. Delete the existing module,  and add two modules you want by using the&quot;+&quot; button and then &quot;Import Module&quot;. Unlike the &quot;New Module&quot; option, &quot;Import Module&quot; does not create new folders. After that, the Content Roots of the two new modules, as well as their source directories, should be set to the two folders in src.","body":"As I thought, you only have one module in there. Delete the existing module,  and add two modules you want by using the&quot;+&quot; button and then &quot;Import Module&quot;. Unlike the &quot;New Module&quot; option, &quot;Import Module&quot; does not create new folders. After that, the Content Roots of the two new modules, as well as their source directories, should be set to the two folders in src."},{"owner":{"account_id":3675005,"reputation":941,"user_id":3061292,"accept_rate":57,"display_name":"mpssantos"},"score":0,"creation_date":1701299245,"post_id":77571532,"comment_id":136760059,"body_markdown":"Thank you very much. That way i was able to configure the modules. The strange thing is that it looks we get an *.iml file per module, which means that now that files are part of the source code. Being a java project i was expecting that IDE could auto configure the project. too bad is not that way","body":"Thank you very much. That way i was able to configure the modules. The strange thing is that it looks we get an *.iml file per module, which means that now that files are part of the source code. Being a java project i was expecting that IDE could auto configure the project. too bad is not that way"},{"owner":{"account_id":3675005,"reputation":941,"user_id":3061292,"accept_rate":57,"display_name":"mpssantos"},"score":0,"creation_date":1701301361,"post_id":77571532,"comment_id":136760293,"body_markdown":"Yet as we can see from the picture, after defining a java module dependency, there is no access to the package. Why is that?","body":"Yet as we can see from the picture, after defining a java module dependency, there is no access to the package. Why is that?"},{"owner":{"account_id":27494768,"reputation":218,"user_id":20979453,"display_name":"Jacky Liu - JetBrains"},"score":0,"creation_date":1701343768,"post_id":77571532,"comment_id":136765102,"body_markdown":"It seems you are facing https://youtrack.jetbrains.com/issue/IDEA-253066/src-test-allowed-to-declare-module-info.java-even-if-src-main-already-has-one, however, it&#39;s fixed. It seems you tried to create a JDK multi-module but not IDEA one. Can you share the full code in Google Drive or GitHub for us to take a look at?","body":"It seems you are facing <a href=\"https://youtrack.jetbrains.com/issue/IDEA-253066/src-test-allowed-to-declare-module-info.java-even-if-src-main-already-has-one\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-253066/&hellip;</a>, however, it&#39;s fixed. It seems you tried to create a JDK multi-module but not IDEA one. Can you share the full code in Google Drive or GitHub for us to take a look at?"}],"owner":{"account_id":3675005,"reputation":941,"user_id":3061292,"accept_rate":57,"display_name":"mpssantos"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701301300,"creation_date":1701264277,"question_id":77571532,"body_markdown":"I am trying to create a very simple java modules project in IntelliJ with multiple modules.\r\n\r\nAccordingly documentation in https://openjdk.org/projects/jigsaw/quick-start#multimodulecompile inside *src* directory, each module should have its own directory.\r\n\r\nso i organized my project like this:\r\n\r\n    src/easytext.analysis/module-info.java\r\n    src/easytext.analysis/com/msantos/pluralsight/java9modules/easytext/analysis/World.java\r\n    \r\n    src/easytext.cli/module-info.java\r\n    src/easytext.cli/com/msantos/pluralsight/java9modules/easytext/cli/Main.java\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAs you can see, IntelliJ gives an error: ***&#39;module-info.java&#39; already exists in the module***\r\n\r\nYet if i compile from the command line i have no issues:\r\n\r\n    javac --module-source-path src/main/java/ -d out $(find . -name &#39;*.java&#39;)\r\n\r\nCould someone explain to me why IntelliJ gives that error (taking in consideration that is a valid structure from java point of view) and how to fix it?\r\n\r\nThank you so much in advance\r\n\r\n**Project Settings**\r\n[![enter image description here][2]][2]\r\n\r\n**IntelliJ with modules**\r\n\r\nAfter defining the modules, the compilation works, but now adding dependencies to the modules, it reveals that modules have no access to each other. The compilation from the command-line again is working.\r\n\r\n***Modules***\r\n\r\neasytext.analysis module\r\n\r\n    module easytext.analysis {\r\n        exports com.msantos.pluralsight.java9modules.easytext.analysis;\r\n    }\r\n\r\nit exposes the package to the world\r\n\r\n*easytext.cli module*\r\n\r\n    module easytext.cli {\r\n        requires easytext.analysis;\r\n    }\r\n\r\nIt defines a dependency on easytext.analysis module\r\n\r\n[![enter image description here][3]][3]\r\n\r\nYet as we can see from the picture, no access to the package. Why is that?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2A1xK.png\r\n  [2]: https://i.stack.imgur.com/CVIiI.png\r\n  [3]: https://i.stack.imgur.com/b0vU4.png","title":"Java 9 Modules &amp; IntelliJ: how to configure multiple modules","body":"<p>I am trying to create a very simple java modules project in IntelliJ with multiple modules.</p>\n<p>Accordingly documentation in <a href=\"https://openjdk.org/projects/jigsaw/quick-start#multimodulecompile\" rel=\"nofollow noreferrer\">https://openjdk.org/projects/jigsaw/quick-start#multimodulecompile</a> inside <em>src</em> directory, each module should have its own directory.</p>\n<p>so i organized my project like this:</p>\n<pre><code>src/easytext.analysis/module-info.java\nsrc/easytext.analysis/com/msantos/pluralsight/java9modules/easytext/analysis/World.java\n\nsrc/easytext.cli/module-info.java\nsrc/easytext.cli/com/msantos/pluralsight/java9modules/easytext/cli/Main.java\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/2A1xK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2A1xK.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see, IntelliJ gives an error: <em><strong>'module-info.java' already exists in the module</strong></em></p>\n<p>Yet if i compile from the command line i have no issues:</p>\n<pre><code>javac --module-source-path src/main/java/ -d out $(find . -name '*.java')\n</code></pre>\n<p>Could someone explain to me why IntelliJ gives that error (taking in consideration that is a valid structure from java point of view) and how to fix it?</p>\n<p>Thank you so much in advance</p>\n<p><strong>Project Settings</strong>\n<a href=\"https://i.stack.imgur.com/CVIiI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CVIiI.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>IntelliJ with modules</strong></p>\n<p>After defining the modules, the compilation works, but now adding dependencies to the modules, it reveals that modules have no access to each other. The compilation from the command-line again is working.</p>\n<p><em><strong>Modules</strong></em></p>\n<p>easytext.analysis module</p>\n<pre><code>module easytext.analysis {\n    exports com.msantos.pluralsight.java9modules.easytext.analysis;\n}\n</code></pre>\n<p>it exposes the package to the world</p>\n<p><em>easytext.cli module</em></p>\n<pre><code>module easytext.cli {\n    requires easytext.analysis;\n}\n</code></pre>\n<p>It defines a dependency on easytext.analysis module</p>\n<p><a href=\"https://i.stack.imgur.com/b0vU4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b0vU4.png\" alt=\"enter image description here\" /></a></p>\n<p>Yet as we can see from the picture, no access to the package. Why is that?</p>\n"},{"tags":["java","jdbc","mariadb"],"comments":[{"owner":{"account_id":6740011,"reputation":46648,"user_id":5193536,"display_name":"nbk"},"score":1,"creation_date":1701300917,"post_id":77575008,"comment_id":136760244,"body_markdown":"you can not have spaces in column names without any character to escape it","body":"you can not have spaces in column names without any character to escape it"}],"owner":{"account_id":30026581,"reputation":1,"user_id":23010633,"display_name":"Wayne"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701606915,"answer_count":0,"score":-1,"last_activity_date":1701300795,"creation_date":1701299916,"question_id":77575008,"body_markdown":"I am trying to insert username and password values into my db table through typing them into textfields and pressing a button.\r\n\r\ncode:\r\n\r\n    logbut2.addActionListener(new ActionListener()\r\n         {\r\n             public void actionPerformed(ActionEvent e)\r\n             {\r\n                 String user2 = username2.getText();\r\n                 String pass2 = password2.getText();\r\n                 String name2 = name.getText();\r\n                 String genre = &quot;a&quot;;\r\n                 String mood = &quot;b&quot;;\r\n                 try{\r\n                     Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/stataccounts&quot;, &quot;x&quot;, &quot;y&quot;);\r\n                     PreparedStatement st = conn.prepareStatement(&quot;INSERT INTO users(username,password,name,favourite mood, favourite genre) VALUES (?,?,?,?,?)&quot;);\r\n                     st.setString(1,user2);\r\n                     st.setString(2,pass2);\r\n                     st.setString(3,name2);\r\n                     st.setString(4,mood);\r\n                     st.setString(5,genre);\r\n                     \r\n                     st.executeUpdate();\r\n                     \r\n                     System.out.println(user2);\r\n                     System.out.println(pass2);\r\n                     System.out.println(name);\r\n                     System.out.println(mood);\r\n                     System.out.println(genre);\r\n                 } catch(SQLException sqlException2)\r\n                 {\r\n                     sqlException2.printStackTrace();\r\n                 }\r\n                 JOptionPane.showMessageDialog(logbut2, &quot;user successfully added&quot;);\r\n             }\r\n         });\r\n\r\nerror:\r\n&gt;java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near &#39;mood, favourite genre) VALUES (&#39;thse&#39;,&#39;rhawerhaw&#39;,&#39;aethjjaste&#39;,&#39;b&#39;,&#39;a&#39;)&#39; at line 1.\r\n\r\nerror 2:\r\n&gt;at login$3.actionPerformed(login.java:172)\r\nthat once pressed sends me to the line st.executeUpdates();\r\n\r\n\r\n\r\ni tried not including the favourite mood and genre columns but that gave me a different error so i added them back in.\r\ntried checking connection to database and it works in a different part of my code.\r\ntried changing variable names.\r\nplease help.","title":"getting this error for my java jdbc connected to xampp mariadb when im trying to use INSERT","body":"<p>I am trying to insert username and password values into my db table through typing them into textfields and pressing a button.</p>\n<p>code:</p>\n<pre><code>logbut2.addActionListener(new ActionListener()\n     {\n         public void actionPerformed(ActionEvent e)\n         {\n             String user2 = username2.getText();\n             String pass2 = password2.getText();\n             String name2 = name.getText();\n             String genre = &quot;a&quot;;\n             String mood = &quot;b&quot;;\n             try{\n                 Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/stataccounts&quot;, &quot;x&quot;, &quot;y&quot;);\n                 PreparedStatement st = conn.prepareStatement(&quot;INSERT INTO users(username,password,name,favourite mood, favourite genre) VALUES (?,?,?,?,?)&quot;);\n                 st.setString(1,user2);\n                 st.setString(2,pass2);\n                 st.setString(3,name2);\n                 st.setString(4,mood);\n                 st.setString(5,genre);\n                 \n                 st.executeUpdate();\n                 \n                 System.out.println(user2);\n                 System.out.println(pass2);\n                 System.out.println(name);\n                 System.out.println(mood);\n                 System.out.println(genre);\n             } catch(SQLException sqlException2)\n             {\n                 sqlException2.printStackTrace();\n             }\n             JOptionPane.showMessageDialog(logbut2, &quot;user successfully added&quot;);\n         }\n     });\n</code></pre>\n<p>error:</p>\n<blockquote>\n<p>java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'mood, favourite genre) VALUES ('thse','rhawerhaw','aethjjaste','b','a')' at line 1.</p>\n</blockquote>\n<p>error 2:</p>\n<blockquote>\n<p>at login$3.actionPerformed(login.java:172)\nthat once pressed sends me to the line st.executeUpdates();</p>\n</blockquote>\n<p>i tried not including the favourite mood and genre columns but that gave me a different error so i added them back in.\ntried checking connection to database and it works in a different part of my code.\ntried changing variable names.\nplease help.</p>\n"},{"tags":["java","tomcat","intellij-idea","intellij-plugin"],"answers":[{"tags":[],"owner":{"account_id":17425383,"reputation":121,"user_id":12630320,"display_name":"Kentaro T. Vadney"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694131507,"creation_date":1692729518,"answer_id":76956063,"question_id":76956062,"body_markdown":"I restarted a different project as I was assigned a new project. I went through and set up everything the exact same way and it worked. I don&#39;t know what the error was.","title":"Smart Tomcat not interacting with local services","body":"<p>I restarted a different project as I was assigned a new project. I went through and set up everything the exact same way and it worked. I don't know what the error was.</p>\n"},{"comments":[{"owner":{"account_id":17425383,"reputation":121,"user_id":12630320,"display_name":"Kentaro T. Vadney"},"score":0,"creation_date":1692828652,"post_id":76958758,"comment_id":135678913,"body_markdown":"what do you mean by target?","body":"what do you mean by target?"},{"owner":{"account_id":17425383,"reputation":121,"user_id":12630320,"display_name":"Kentaro T. Vadney"},"score":0,"creation_date":1692829075,"post_id":76958758,"comment_id":135678967,"body_markdown":"Also polaris costs money and requires me to go on a 30 day trial","body":"Also polaris costs money and requires me to go on a 30 day trial"},{"owner":{"account_id":17425383,"reputation":121,"user_id":12630320,"display_name":"Kentaro T. Vadney"},"score":0,"creation_date":1692832400,"post_id":76958758,"comment_id":135679283,"body_markdown":"can you provide a full path so it&#39;s clear what you are talking about? whether it&#39;s an example in your directory or a path you see in my post.","body":"can you provide a full path so it&#39;s clear what you are talking about? whether it&#39;s an example in your directory or a path you see in my post."},{"owner":{"account_id":17425383,"reputation":121,"user_id":12630320,"display_name":"Kentaro T. Vadney"},"score":0,"creation_date":1692833001,"post_id":76958758,"comment_id":135679350,"body_markdown":"Are you talking about the deployment descriptor? if so, Tomcat is pointed to D:\\projects-standalone\\tomcats\\java-containers\\conf\\Catalina\\localhost\\containers.xml] and Smart Tomcat is pointed to: C:\\Users\\ktv07101\\.SmartTomcat\\java-containers\\java-containers\\conf\\Catalina\\localhost\\containers.xml as you can see from the post. These two are different because the smart tomcat instance can be run with a debugger where as the tomcat instance cannot, so I assume there is some internal difference.","body":"Are you talking about the deployment descriptor? if so, Tomcat is pointed to D:\\projects-standalone\\tomcats\\java-containers\\conf\\Catalina&zwnj;&#8203;\\localhost\\container&zwnj;&#8203;s.xml] and Smart Tomcat is pointed to: C:\\Users\\ktv07101\\.SmartTomcat\\java-containers\\java-containe&zwnj;&#8203;rs\\conf\\Catalina\\loc&zwnj;&#8203;alhost\\containers.xm&zwnj;&#8203;l as you can see from the post. These two are different because the smart tomcat instance can be run with a debugger where as the tomcat instance cannot, so I assume there is some internal difference."},{"owner":{"account_id":3825032,"reputation":21,"user_id":3172039,"display_name":"Traveller"},"score":0,"creation_date":1693021819,"post_id":76958758,"comment_id":135708431,"body_markdown":"`target` is a folder that in your maven project. If you have a maven project named `hello-world`, then `target` is `hello-world/target`, it is in the same folder as `pom.xml.`","body":"<code>target</code> is a folder that in your maven project. If you have a maven project named <code>hello-world</code>, then <code>target</code> is <code>hello-world&#47;target</code>, it is in the same folder as <code>pom.xml.</code>"},{"owner":{"account_id":3825032,"reputation":21,"user_id":3172039,"display_name":"Traveller"},"score":0,"creation_date":1693022839,"post_id":76958758,"comment_id":135708479,"body_markdown":"The folder tree could not show properly in comments, so I commentted in another answer. see https://stackoverflow.com/a/76981512/3172039","body":"The folder tree could not show properly in comments, so I commentted in another answer. see <a href=\"https://stackoverflow.com/a/76981512/3172039\">stackoverflow.com/a/76981512/3172039</a>"}],"tags":[],"owner":{"account_id":3825032,"reputation":21,"user_id":3172039,"display_name":"Traveller"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692771497,"creation_date":1692771497,"answer_id":76958758,"question_id":76956062,"body_markdown":"The deployment folder seems incorrect, it should be `target/{your-module-name}` for maven projects.\r\nOr you can try `Polaris Tomcat Server` plugin, it is easier to use.\r\nIf you have further question, please let me know.","title":"Smart Tomcat not interacting with local services","body":"<p>The deployment folder seems incorrect, it should be <code>target/{your-module-name}</code> for maven projects.\nOr you can try <code>Polaris Tomcat Server</code> plugin, it is easier to use.\nIf you have further question, please let me know.</p>\n"},{"comments":[{"owner":{"account_id":17425383,"reputation":121,"user_id":12630320,"display_name":"Kentaro T. Vadney"},"score":0,"creation_date":1694119238,"post_id":76981512,"comment_id":135853179,"body_markdown":"Thank you for the detailed response. However, I am using a gradle project, not maven. I included my file path in my question for context","body":"Thank you for the detailed response. However, I am using a gradle project, not maven. I included my file path in my question for context"}],"tags":[],"owner":{"account_id":3825032,"reputation":21,"user_id":3172039,"display_name":"Traveller"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693022737,"creation_date":1693022737,"answer_id":76981512,"question_id":76956062,"body_markdown":"The structure of a regular Maven project is as follows:\r\n``` \r\n├── pom.xml\r\n├── src\r\n│&#160;&#160; ├── main\r\n│&#160;&#160; │&#160;&#160; ├── java\r\n│&#160;&#160; │&#160;&#160; ├── resources\r\n│&#160;&#160; └── test\r\n└── target\r\n    ├── tomcat-app1-1.0-SNAPSHOT\r\n    └── tomcat-app1-1.0-SNAPSHOT.war\r\n```\r\n\r\nThe  deployment folder should be `target/tomcat-app1-1.0-SNAPSHOT`.","title":"Smart Tomcat not interacting with local services","body":"<p>The structure of a regular Maven project is as follows:</p>\n<pre><code>├── pom.xml\n├── src\n│   ├── main\n│   │   ├── java\n│   │   ├── resources\n│   └── test\n└── target\n    ├── tomcat-app1-1.0-SNAPSHOT\n    └── tomcat-app1-1.0-SNAPSHOT.war\n</code></pre>\n<p>The  deployment folder should be <code>target/tomcat-app1-1.0-SNAPSHOT</code>.</p>\n"}],"owner":{"account_id":17425383,"reputation":121,"user_id":12630320,"display_name":"Kentaro T. Vadney"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76956063,"answer_count":3,"score":0,"last_activity_date":1701299867,"creation_date":1692729518,"question_id":76956062,"body_markdown":"There doesn&#39;t seem to be a forum for the smart tomcat plugin, so I&#39;ll be posting here.\r\n\r\nI&#39;m running my tomcat from my WAR file and my Java project, and it connects to my local httpd, kafka, zookeeper, and mongo\r\n\r\nI am using different ports for smart tomcat compared to tomcat. is this the issue? if not, what is the issue and how can it be resolved? Please let me know if you&#39;d like me to provide more information. Thanks!\r\n\r\nI am using Polaris Tomcat as well and it seems I am unable to find what processes are taking up my ports\r\n\r\nI&#39;ve also changed my IntelliJ version from 2023 to 2022.2.2 as it seems to work on for others on that version but I&#39;m having the same issue.","title":"Smart Tomcat not interacting with local services","body":"<p>There doesn't seem to be a forum for the smart tomcat plugin, so I'll be posting here.</p>\n<p>I'm running my tomcat from my WAR file and my Java project, and it connects to my local httpd, kafka, zookeeper, and mongo</p>\n<p>I am using different ports for smart tomcat compared to tomcat. is this the issue? if not, what is the issue and how can it be resolved? Please let me know if you'd like me to provide more information. Thanks!</p>\n<p>I am using Polaris Tomcat as well and it seems I am unable to find what processes are taking up my ports</p>\n<p>I've also changed my IntelliJ version from 2023 to 2022.2.2 as it seems to work on for others on that version but I'm having the same issue.</p>\n"},{"tags":["java","recursion","data-structures","tree","binary-search-tree"],"comments":[{"owner":{"account_id":21534,"reputation":59456,"user_id":52443,"display_name":"Welbog"},"score":1,"creation_date":1701303730,"post_id":77574984,"comment_id":136760537,"body_markdown":"There&#39;s a lot missing here. What are the types of `left` and `right`? What is the relationship between the `InnerNode` and `TreeElement` types?","body":"There&#39;s a lot missing here. What are the types of <code>left</code> and <code>right</code>? What is the relationship between the <code>InnerNode</code> and <code>TreeElement</code> types?"},{"owner":{"account_id":13829751,"reputation":1,"user_id":9982997,"display_name":"Dachacho"},"score":0,"creation_date":1701348276,"post_id":77574984,"comment_id":136765964,"body_markdown":"i can upload the files on github if that might help. left and right are both TreeElement types and innerNode and leaf implement treeElement","body":"i can upload the files on github if that might help. left and right are both TreeElement types and innerNode and leaf implement treeElement"}],"owner":{"account_id":13829751,"reputation":1,"user_id":9982997,"display_name":"Dachacho"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701299574,"creation_date":1701299574,"question_id":77574984,"body_markdown":"So Basically i have made insert function in my BST \r\n\r\n```\r\n    @Override\r\n    public TreeElement&lt;T&gt; insert(T value, Comparator&lt;T&gt; comp) {\r\n        if(value == null)\r\n            throw new NullPointerException(&quot;null not supported&quot;);\r\n\r\n        int comparator = comp.compare(value, info);\r\n        //iseti uazro bagebi mepareba auaa\r\n        if(comparator &gt; 0){\r\n            if(right == null)\r\n                return new InnerNode&lt;&gt;(value, new Leaf&lt;&gt;(value), left);\r\n            else {\r\n                return right = right.insert(value, comp);\r\n            }\r\n        }else if(comparator &lt; 0){\r\n            if(left == null)\r\n                return new InnerNode&lt;&gt;(value, right, new Leaf&lt;&gt;(value));\r\n            else {\r\n                return left = left.insert(value, comp);\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n\r\n```\r\n\r\nbut there are some test cases it didn&#39;t get through and i can&#39;t even really comprehend them \r\nfirst one:\r\nThe return type of the expected method &#39;insert&#39; of the class &#39;InnerNode&#39; with the parameters: [&quot;Object&quot;,&quot;Comparator&quot;] is not implemented as expected.\r\n\r\nsecond one:\r\nThe parameters of the expected constructor of the class &#39;InnerNode&#39; with the parameters: [&quot;Object&quot;] are not implemented as expected.\r\n\r\ncan you help me out?\r\n\r\n\r\nas stated above i tried that code but it didn&#39;t run","title":"insert function Binary Search Tree","body":"<p>So Basically i have made insert function in my BST</p>\n<pre><code>    @Override\n    public TreeElement&lt;T&gt; insert(T value, Comparator&lt;T&gt; comp) {\n        if(value == null)\n            throw new NullPointerException(&quot;null not supported&quot;);\n\n        int comparator = comp.compare(value, info);\n        //iseti uazro bagebi mepareba auaa\n        if(comparator &gt; 0){\n            if(right == null)\n                return new InnerNode&lt;&gt;(value, new Leaf&lt;&gt;(value), left);\n            else {\n                return right = right.insert(value, comp);\n            }\n        }else if(comparator &lt; 0){\n            if(left == null)\n                return new InnerNode&lt;&gt;(value, right, new Leaf&lt;&gt;(value));\n            else {\n                return left = left.insert(value, comp);\n            }\n        }\n        return this;\n    }\n\n</code></pre>\n<p>but there are some test cases it didn't get through and i can't even really comprehend them\nfirst one:\nThe return type of the expected method 'insert' of the class 'InnerNode' with the parameters: [&quot;Object&quot;,&quot;Comparator&quot;] is not implemented as expected.</p>\n<p>second one:\nThe parameters of the expected constructor of the class 'InnerNode' with the parameters: [&quot;Object&quot;] are not implemented as expected.</p>\n<p>can you help me out?</p>\n<p>as stated above i tried that code but it didn't run</p>\n"},{"tags":["apache-spark","ubuntu-14.04","java"],"answers":[{"comments":[{"owner":{"account_id":6501715,"reputation":309,"user_id":5032251,"accept_rate":40,"display_name":"preetham madeti"},"score":0,"creation_date":1445373473,"post_id":33246241,"comment_id":54294899,"body_markdown":"I&#39;ve tried changing the Base Memory in the VM&#39;s settings but couldn&#39;t do it. Could you please tell me how do I change?","body":"I&#39;ve tried changing the Base Memory in the VM&#39;s settings but couldn&#39;t do it. Could you please tell me how do I change?"},{"owner":{"account_id":97791,"reputation":324387,"user_id":1560062,"accept_rate":100,"display_name":"zero323"},"score":3,"creation_date":1445379224,"post_id":33246241,"comment_id":54297790,"body_markdown":"@Reactormonk I think your off by an order of magnitude :)","body":"@Reactormonk I think your off by an order of magnitude :)"},{"owner":{"account_id":97791,"reputation":324387,"user_id":1560062,"accept_rate":100,"display_name":"zero323"},"score":1,"creation_date":1445379250,"post_id":33246241,"comment_id":54297810,"body_markdown":"@Preetham Stop VM, changes memory allocation, start again? If you cannot allocate more you can always use swap.","body":"@Preetham Stop VM, changes memory allocation, start again? If you cannot allocate more you can always use swap."},{"owner":{"account_id":179352,"reputation":21510,"user_id":411944,"accept_rate":88,"display_name":"Reactormonk"},"score":0,"creation_date":1445393928,"post_id":33246241,"comment_id":54301646,"body_markdown":"@zero323 uh-oh. Ok, so only 600MB. I&#39;d still assume the VM doesn&#39;t have enough RAM.","body":"@zero323 uh-oh. Ok, so only 600MB. I&#39;d still assume the VM doesn&#39;t have enough RAM."}],"tags":[],"owner":{"account_id":179352,"reputation":21510,"user_id":411944,"accept_rate":88,"display_name":"Reactormonk"},"comment_count":4,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1445372899,"creation_date":1445372899,"answer_id":33246241,"question_id":33245529,"body_markdown":"Pretty much what it says. It wants 7GB of RAM. So give the VM ~ 8GB of RAM.","title":"Spark - UbuntuVM - insufficient memory for the Java Runtime Environment","body":"<p>Pretty much what it says. It wants 7GB of RAM. So give the VM ~ 8GB of RAM.</p>\n"},{"tags":[],"owner":{"account_id":1437483,"reputation":1908,"user_id":1358551,"display_name":"charybr"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1483546372,"creation_date":1483544751,"answer_id":41467834,"question_id":33245529,"body_markdown":"We need to set `spark.executor.memory` in `conf/spark-defaults.conf` file to a value specific to your machine. For example,\r\n\r\n    usr1@host:~/spark-1.6.1$ cp conf/spark-defaults.conf.template conf/spark-defaults.conf\r\n    nano conf/spark-defaults.conf\r\n    spark.driver.memory              512m\r\n\r\nFor more information, refer to the official documentation: http://spark.apache.org/docs/latest/configuration.html\r\n","title":"Spark - UbuntuVM - insufficient memory for the Java Runtime Environment","body":"<p>We need to set <code>spark.executor.memory</code> in <code>conf/spark-defaults.conf</code> file to a value specific to your machine. For example,</p>\n\n<pre><code>usr1@host:~/spark-1.6.1$ cp conf/spark-defaults.conf.template conf/spark-defaults.conf\nnano conf/spark-defaults.conf\nspark.driver.memory              512m\n</code></pre>\n\n<p>For more information, refer to the official documentation: <a href=\"http://spark.apache.org/docs/latest/configuration.html\" rel=\"nofollow noreferrer\">http://spark.apache.org/docs/latest/configuration.html</a></p>\n"}],"owner":{"account_id":6501715,"reputation":309,"user_id":5032251,"accept_rate":40,"display_name":"preetham madeti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8784,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1701299341,"creation_date":1445370315,"question_id":33245529,"body_markdown":"I&#39;m trying to install Spark1.5.1 on Ubuntu14.04 VM. After un-tarring the file, I changed the directory to the extracted folder and executed the command &quot;./bin/pyspark&quot; which should fire up the pyspark shell. But I got an error message as follows:\r\n\r\n&gt; **[** OpenJDK 64-Bit Server VM warning: INFO: os::commit_memory(0x00000000c5550000, 715849728, 0) failed;\r\n&gt; error=&#39;Cannot allocate memory&#39; (errno=12)  There is insufficient\r\n&gt; memory for the Java Runtime Environment to continue. \r\n&gt; \r\n&gt; Native memory allocation (malloc) failed to allocate 715849728 bytes\r\n&gt; for committing reserved memory. \r\n&gt; \r\n&gt; An error report file with more information is saved as:\r\n&gt; /home/datascience/spark-1.5.1-bin-hadoop2.6/hs_err_pid2750.log **]**\r\n\r\nCould anyone please give me some directions to sort out the problem?\r\n\r\n","title":"Spark - UbuntuVM - insufficient memory for the Java Runtime Environment","body":"<p>I'm trying to install Spark1.5.1 on Ubuntu14.04 VM. After un-tarring the file, I changed the directory to the extracted folder and executed the command \"./bin/pyspark\" which should fire up the pyspark shell. But I got an error message as follows:</p>\n\n<blockquote>\n  <p><strong>[</strong> OpenJDK 64-Bit Server VM warning: INFO: os::commit_memory(0x00000000c5550000, 715849728, 0) failed;\n  error='Cannot allocate memory' (errno=12)  There is insufficient\n  memory for the Java Runtime Environment to continue. </p>\n  \n  <p>Native memory allocation (malloc) failed to allocate 715849728 bytes\n  for committing reserved memory. </p>\n  \n  <p>An error report file with more information is saved as:\n  /home/datascience/spark-1.5.1-bin-hadoop2.6/hs_err_pid2750.log <strong>]</strong></p>\n</blockquote>\n\n<p>Could anyone please give me some directions to sort out the problem?</p>\n"},{"tags":["java","websocket","server"],"comments":[{"owner":{"account_id":1078945,"reputation":7426,"user_id":1076480,"accept_rate":57,"display_name":"David Ehrmann"},"score":1,"creation_date":1491095227,"post_id":43163592,"comment_id":73401886,"body_markdown":"Jetty has websocket support.","body":"Jetty has websocket support."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1491095249,"post_id":43163592,"comment_id":73401891,"body_markdown":"If Maven is the stumbling block, that&#39;s easy to solve.  Simply analyse the dependencies in the POM files, manually fetch their JAR files, and manually put them on your application&#39;s classpath.  Maven is just a build tool.  It is automating stuff that you can do by hand ... if you are so inclined.","body":"If Maven is the stumbling block, that&#39;s easy to solve.  Simply analyse the dependencies in the POM files, manually fetch their JAR files, and manually put them on your application&#39;s classpath.  Maven is just a build tool.  It is automating stuff that you can do by hand ... if you are so inclined."},{"owner":{"account_id":1252794,"reputation":799,"user_id":1212858,"accept_rate":57,"display_name":"Derek"},"score":0,"creation_date":1491095321,"post_id":43163592,"comment_id":73401910,"body_markdown":"I have seen Jetty implementations, but the tutorials only show how to implement the endpoint code. What do I need to do to initialize it, i.e. what would go in the &quot;main&quot; method for such an application?","body":"I have seen Jetty implementations, but the tutorials only show how to implement the endpoint code. What do I need to do to initialize it, i.e. what would go in the &quot;main&quot; method for such an application?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1491095493,"post_id":43163592,"comment_id":73401943,"body_markdown":"Google for &quot;websocket apache httpcomponents&quot;.  I don&#39;t know if you will find a tutorial, but there are hits that suggest it can be done, and possibly that may have code that you could use as examples.","body":"Google for &quot;websocket apache httpcomponents&quot;.  I don&#39;t know if you will find a tutorial, but there are hits that suggest it can be done, and possibly that may have code that you could use as examples."},{"owner":{"account_id":432092,"reputation":689888,"user_id":816620,"accept_rate":64,"display_name":"jfriend00"},"score":1,"creation_date":1491098022,"post_id":43163592,"comment_id":73402338,"body_markdown":"[Bare bones webSocket server for Java](https://github.com/TooTallNate/Java-WebSocket) with a bunch of [sample apps](https://github.com/TooTallNate/Java-WebSocket/tree/master/src/main/example).","body":"<a href=\"https://github.com/TooTallNate/Java-WebSocket\" rel=\"nofollow noreferrer\">Bare bones webSocket server for Java</a> with a bunch of <a href=\"https://github.com/TooTallNate/Java-WebSocket/tree/master/src/main/example\" rel=\"nofollow noreferrer\">sample apps</a>."},{"owner":{"account_id":3141774,"reputation":3802,"user_id":2657100,"display_name":"nandsito"},"score":0,"creation_date":1491850946,"post_id":43163592,"comment_id":73726170,"body_markdown":"tyrus is the reference implementation of the java api for websocket (JSR 356), and it seems to run in a standalone manner https://tyrus.java.net/","body":"tyrus is the reference implementation of the java api for websocket (JSR 356), and it seems to run in a standalone manner <a href=\"https://tyrus.java.net/\" rel=\"nofollow noreferrer\">tyrus.java.net</a>"},{"owner":{"account_id":1252794,"reputation":799,"user_id":1212858,"accept_rate":57,"display_name":"Derek"},"score":0,"creation_date":1491853016,"post_id":43163592,"comment_id":73727345,"body_markdown":"Tyrus has a standalone client, but the server is dependent on GlassFish, which is an application server.\n\nI&#39;ve tried out the barebones server at https://github.com/TooTallNate/Java-WebSocket and so far it has worked, and is completely standalone.","body":"Tyrus has a standalone client, but the server is dependent on GlassFish, which is an application server.  I&#39;ve tried out the barebones server at <a href=\"https://github.com/TooTallNate/Java-WebSocket\" rel=\"nofollow noreferrer\">github.com/TooTallNate/Java-WebSocket</a> and so far it has worked, and is completely standalone."}],"answers":[{"tags":[],"owner":{"account_id":1252794,"reputation":799,"user_id":1212858,"accept_rate":57,"display_name":"Derek"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1491850449,"creation_date":1491850449,"answer_id":43330883,"question_id":43163592,"body_markdown":"https://github.com/TooTallNate/Java-WebSocket is a full WebSockets server and client implementation in Java SE, no enterprise/web app server needed.","title":"Standalone WebSocket server without JEE/application server","body":"<p><a href=\"https://github.com/TooTallNate/Java-WebSocket\" rel=\"noreferrer\">https://github.com/TooTallNate/Java-WebSocket</a> is a full WebSockets server and client implementation in Java SE, no enterprise/web app server needed.</p>\n"},{"tags":[],"owner":{"account_id":3431913,"reputation":10478,"user_id":2876079,"accept_rate":71,"display_name":"Stefan"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1541682484,"creation_date":1541682484,"answer_id":53208425,"question_id":43163592,"body_markdown":"Java 11 Server Code:\r\n\r\n    package org.treez.server.websocket;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n    import java.security.MessageDigest;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.util.Scanner;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    import javax.xml.bind.DatatypeConverter;;\r\n    \r\n    public class WebSocketServer{\r\n    \t\r\n    \t\t\r\n        public static void main(String[] args){\r\n        \t\r\n        \tint portNumber = 8000;\r\n        \t\r\n            ServerSocket server;\r\n    \t\ttry {\r\n    \t\t\tserver = new ServerSocket(portNumber);\r\n    \t\t} catch (IOException exception) {\r\n    \t\t\tthrow new IllegalStateException(&quot;Could not create web server&quot;, exception);\r\n    \t\t}\r\n    \t\t\r\n    \t\t\r\n    \t\tSocket clientSocket;\r\n    \t\ttry {\r\n    \t\t\tclientSocket = server.accept(); //waits until a client connects\r\n    \t\t} catch (IOException waitException) {\r\n    \t\t\tthrow new IllegalStateException(&quot;Could not wait for client connection&quot;, waitException);\r\n    \t\t}\r\n    \t\t\r\n    \t\tInputStream inputStream;\r\n    \t\ttry {\r\n    \t\t\tinputStream  = clientSocket.getInputStream();\r\n    \t\t} catch (IOException inputStreamException) {\r\n    \t\t\tthrow new IllegalStateException(&quot;Could not connect to client input stream&quot;, inputStreamException);\r\n    \t\t}\r\n    \t\t\r\n    \t\tOutputStream outputStream;\r\n    \t\ttry {\r\n    \t\t\toutputStream  = clientSocket.getOutputStream();\r\n    \t\t} catch (IOException inputStreamException) {\r\n    \t\t\tthrow new IllegalStateException(&quot;Could not connect to client input stream&quot;, inputStreamException);\r\n    \t\t}\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tdoHandShakeToInitializeWebSocketConnection(inputStream, outputStream);\r\n    \t\t} catch (UnsupportedEncodingException handShakeException) {\r\n    \t\t\tthrow new IllegalStateException(&quot;Could not connect to client input stream&quot;, handShakeException);\r\n    \t\t}\r\n    \t\t\r\n    \t   \t\t\r\n    \t\ttry {\t     \r\n    \t\t\toutputStream.write(encode(&quot;Hello from Server!&quot;));\r\n    \t\t\toutputStream.flush();\r\n    \t\t} catch (UnsupportedEncodingException e) {\t\t\t\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (IOException e) {\t\t\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\t\r\n    \t\t\r\n    \t\t try {\r\n    \t\t\t\tprintInputStream(inputStream);\r\n    \t\t\t} catch (IOException printException) {\r\n    \t\t\t\tthrow new IllegalStateException(&quot;Could not connect to client input stream&quot;, printException);\r\n    \t\t\t}\r\n    \t\t\r\n        }\r\n        \r\n        //Source for encoding and decoding:\r\n        //https://stackoverflow.com/questions/8125507/how-can-i-send-and-receive-websocket-messages-on-the-server-side\r\n    \r\n    \r\n    \tprivate static void printInputStream(InputStream inputStream) throws IOException {\r\n    \t\tint len = 0;            \r\n    \t\tbyte[] b = new byte[1024];\r\n    \t\t//rawIn is a Socket.getInputStream();\r\n    \t\twhile(true){\r\n    \t\t    len = inputStream.read(b);\r\n    \t\t    if(len!=-1){\r\n    \r\n    \t\t        byte rLength = 0;\r\n    \t\t        int rMaskIndex = 2;\r\n    \t\t        int rDataStart = 0;\r\n    \t\t        //b[0] is always text in my case so no need to check;\r\n    \t\t        byte data = b[1];\r\n    \t\t        byte op = (byte) 127;\r\n    \t\t        rLength = (byte) (data &amp; op);\r\n    \r\n    \t\t        if(rLength==(byte)126) rMaskIndex=4;\r\n    \t\t        if(rLength==(byte)127) rMaskIndex=10;\r\n    \r\n    \t\t        byte[] masks = new byte[4];\r\n    \r\n    \t\t        int j=0;\r\n    \t\t        int i=0;\r\n    \t\t        for(i=rMaskIndex;i&lt;(rMaskIndex+4);i++){\r\n    \t\t            masks[j] = b[i];\r\n    \t\t            j++;\r\n    \t\t        }\r\n    \r\n    \t\t        rDataStart = rMaskIndex + 4;\r\n    \r\n    \t\t        int messLen = len - rDataStart;\r\n    \r\n    \t\t        byte[] message = new byte[messLen];\r\n    \r\n    \t\t        for(i=rDataStart, j=0; i&lt;len; i++, j++){\r\n    \t\t            message[j] = (byte) (b[i] ^ masks[j % 4]);\r\n    \t\t        }\r\n    \r\n    \t\t        System.out.println(new String(message)); \r\n    \t\t       \r\n    \t\t        b = new byte[1024];\r\n    \r\n    \t\t    }\r\n    \t\t}\r\n    \t}\r\n        \r\n        \r\n        public static byte[] encode(String mess) throws IOException{\r\n            byte[] rawData = mess.getBytes();\r\n    \r\n            int frameCount  = 0;\r\n            byte[] frame = new byte[10];\r\n    \r\n            frame[0] = (byte) 129;\r\n    \r\n            if(rawData.length &lt;= 125){\r\n                frame[1] = (byte) rawData.length;\r\n                frameCount = 2;\r\n            }else if(rawData.length &gt;= 126 &amp;&amp; rawData.length &lt;= 65535){\r\n                frame[1] = (byte) 126;\r\n                int len = rawData.length;\r\n                frame[2] = (byte)((len &gt;&gt; 8 ) &amp; (byte)255);\r\n                frame[3] = (byte)(len &amp; (byte)255); \r\n                frameCount = 4;\r\n            }else{\r\n                frame[1] = (byte) 127;\r\n                int len = rawData.length;\r\n                frame[2] = (byte)((len &gt;&gt; 56 ) &amp; (byte)255);\r\n                frame[3] = (byte)((len &gt;&gt; 48 ) &amp; (byte)255);\r\n                frame[4] = (byte)((len &gt;&gt; 40 ) &amp; (byte)255);\r\n                frame[5] = (byte)((len &gt;&gt; 32 ) &amp; (byte)255);\r\n                frame[6] = (byte)((len &gt;&gt; 24 ) &amp; (byte)255);\r\n                frame[7] = (byte)((len &gt;&gt; 16 ) &amp; (byte)255);\r\n                frame[8] = (byte)((len &gt;&gt; 8 ) &amp; (byte)255);\r\n                frame[9] = (byte)(len &amp; (byte)255);\r\n                frameCount = 10;\r\n            }\r\n    \r\n            int bLength = frameCount + rawData.length;\r\n    \r\n            byte[] reply = new byte[bLength];\r\n    \r\n            int bLim = 0;\r\n            for(int i=0; i&lt;frameCount;i++){\r\n                reply[bLim] = frame[i];\r\n                bLim++;\r\n            }\r\n            for(int i=0; i&lt;rawData.length;i++){\r\n                reply[bLim] = rawData[i];\r\n                bLim++;\r\n            }\r\n    \r\n            return reply;\r\n        }\r\n    \r\n    \tprivate static void doHandShakeToInitializeWebSocketConnection(InputStream inputStream, OutputStream outputStream) throws UnsupportedEncodingException {\r\n    \t\tString data = new Scanner(inputStream,&quot;UTF-8&quot;).useDelimiter(&quot;\\\\r\\\\n\\\\r\\\\n&quot;).next();\r\n    \r\n    \t\tMatcher get = Pattern.compile(&quot;^GET&quot;).matcher(data);\r\n    \r\n    \t\tif (get.find()) {\r\n    \t\t\tMatcher match = Pattern.compile(&quot;Sec-WebSocket-Key: (.*)&quot;).matcher(data);\r\n    \t\t    match.find();\t\t    \t  \r\n    \t\t    \r\n    \t\t    byte[] response = null;\r\n    \t\t\ttry {\r\n    \t\t\t\tresponse = (&quot;HTTP/1.1 101 Switching Protocols\\r\\n&quot;\r\n    \t\t\t\t        + &quot;Connection: Upgrade\\r\\n&quot;\r\n    \t\t\t\t        + &quot;Upgrade: websocket\\r\\n&quot;\r\n    \t\t\t\t        + &quot;Sec-WebSocket-Accept: &quot;\r\n    \t\t\t\t        + DatatypeConverter.printBase64Binary(\r\n    \t\t\t\t                MessageDigest\r\n    \t\t\t\t                .getInstance(&quot;SHA-1&quot;)\r\n    \t\t\t\t                .digest((match.group(1) + &quot;258EAFA5-E914-47DA-95CA-C5AB0DC85B11&quot;)\r\n    \t\t\t\t                        .getBytes(&quot;UTF-8&quot;)))\r\n    \t\t\t\t        + &quot;\\r\\n\\r\\n&quot;)\r\n    \t\t\t\t        .getBytes(&quot;UTF-8&quot;);\r\n    \t\t\t} catch (NoSuchAlgorithmException e) {\r\n    \t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \r\n    \t\t    try {\r\n    \t\t\t\toutputStream.write(response, 0, response.length);\r\n    \t\t\t} catch (IOException e) {\r\n    \t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t} else {\r\n    \r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\npom.xml:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;TreezHttpServer&lt;/groupId&gt;\r\n      &lt;artifactId&gt;TreezHttpServer&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;build&gt;\r\n        &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n        &lt;resources&gt;\r\n          &lt;resource&gt;\r\n            &lt;directory&gt;src&lt;/directory&gt;\r\n            &lt;excludes&gt;\r\n              &lt;exclude&gt;**/*.java&lt;/exclude&gt;\r\n            &lt;/excludes&gt;\r\n          &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.0&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;release&gt;11&lt;/release&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;    \r\n       \r\n      &lt;/build&gt;\r\n      \r\n      &lt;dependencies&gt;\r\n    \t     \t\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;2.2.11&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;2.2.11&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;2.2.11&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;1.1.1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n      &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nJavaScript Client:\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    \r\n    &lt;html&gt;\r\n    \r\n    &lt;head&gt;\r\n    \r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    \r\n    &lt;title&gt;WebSocket Client&lt;/title&gt;\r\n    \r\n     &lt;script type=&quot;text/javascript&quot;&gt;\r\n    \r\n          var wsocket;      \r\n    \r\n          function connect() {         \r\n    \r\n        \t  wsocket = new WebSocket(&quot;ws://localhost:8000&quot;);          \r\n              wsocket.onopen = onopen;\r\n              wsocket.onmessage = onmessage;\r\n              wsocket.onclose = onclose; \r\n          }\r\n    \r\n          function onopen() {\r\n              console.log(&quot;Connected!&quot;);             \r\n              wsocket.send(&#39;hello from client&#39;);\r\n          }\r\n    \r\n          function onmessage(event) { \r\n             console.log(&quot;Data received: &quot; + event.data); \r\n          }\r\n    \r\n          function onclose(e) {\r\n             console.log(&quot;Connection closed.&quot;);              \r\n          }\r\n    \r\n          window.addEventListener(&quot;load&quot;, connect, false);\r\n    \r\n      &lt;/script&gt;\r\n    \r\n    &lt;/head&gt;\r\n    \r\n    &lt;body&gt;\r\n    &lt;/body&gt;\r\n    \r\n    &lt;/html&gt;","title":"Standalone WebSocket server without JEE/application server","body":"<p>Java 11 Server Code:</p>\n\n<pre><code>package org.treez.server.websocket;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.io.UnsupportedEncodingException;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.security.MessageDigest;\nimport java.security.NoSuchAlgorithmException;\nimport java.util.Scanner;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\nimport javax.xml.bind.DatatypeConverter;;\n\npublic class WebSocketServer{\n\n\n    public static void main(String[] args){\n\n        int portNumber = 8000;\n\n        ServerSocket server;\n        try {\n            server = new ServerSocket(portNumber);\n        } catch (IOException exception) {\n            throw new IllegalStateException(\"Could not create web server\", exception);\n        }\n\n\n        Socket clientSocket;\n        try {\n            clientSocket = server.accept(); //waits until a client connects\n        } catch (IOException waitException) {\n            throw new IllegalStateException(\"Could not wait for client connection\", waitException);\n        }\n\n        InputStream inputStream;\n        try {\n            inputStream  = clientSocket.getInputStream();\n        } catch (IOException inputStreamException) {\n            throw new IllegalStateException(\"Could not connect to client input stream\", inputStreamException);\n        }\n\n        OutputStream outputStream;\n        try {\n            outputStream  = clientSocket.getOutputStream();\n        } catch (IOException inputStreamException) {\n            throw new IllegalStateException(\"Could not connect to client input stream\", inputStreamException);\n        }\n\n        try {\n            doHandShakeToInitializeWebSocketConnection(inputStream, outputStream);\n        } catch (UnsupportedEncodingException handShakeException) {\n            throw new IllegalStateException(\"Could not connect to client input stream\", handShakeException);\n        }\n\n\n        try {        \n            outputStream.write(encode(\"Hello from Server!\"));\n            outputStream.flush();\n        } catch (UnsupportedEncodingException e) {          \n            e.printStackTrace();\n        } catch (IOException e) {       \n            e.printStackTrace();\n        }   \n\n         try {\n                printInputStream(inputStream);\n            } catch (IOException printException) {\n                throw new IllegalStateException(\"Could not connect to client input stream\", printException);\n            }\n\n    }\n\n    //Source for encoding and decoding:\n    //https://stackoverflow.com/questions/8125507/how-can-i-send-and-receive-websocket-messages-on-the-server-side\n\n\n    private static void printInputStream(InputStream inputStream) throws IOException {\n        int len = 0;            \n        byte[] b = new byte[1024];\n        //rawIn is a Socket.getInputStream();\n        while(true){\n            len = inputStream.read(b);\n            if(len!=-1){\n\n                byte rLength = 0;\n                int rMaskIndex = 2;\n                int rDataStart = 0;\n                //b[0] is always text in my case so no need to check;\n                byte data = b[1];\n                byte op = (byte) 127;\n                rLength = (byte) (data &amp; op);\n\n                if(rLength==(byte)126) rMaskIndex=4;\n                if(rLength==(byte)127) rMaskIndex=10;\n\n                byte[] masks = new byte[4];\n\n                int j=0;\n                int i=0;\n                for(i=rMaskIndex;i&lt;(rMaskIndex+4);i++){\n                    masks[j] = b[i];\n                    j++;\n                }\n\n                rDataStart = rMaskIndex + 4;\n\n                int messLen = len - rDataStart;\n\n                byte[] message = new byte[messLen];\n\n                for(i=rDataStart, j=0; i&lt;len; i++, j++){\n                    message[j] = (byte) (b[i] ^ masks[j % 4]);\n                }\n\n                System.out.println(new String(message)); \n\n                b = new byte[1024];\n\n            }\n        }\n    }\n\n\n    public static byte[] encode(String mess) throws IOException{\n        byte[] rawData = mess.getBytes();\n\n        int frameCount  = 0;\n        byte[] frame = new byte[10];\n\n        frame[0] = (byte) 129;\n\n        if(rawData.length &lt;= 125){\n            frame[1] = (byte) rawData.length;\n            frameCount = 2;\n        }else if(rawData.length &gt;= 126 &amp;&amp; rawData.length &lt;= 65535){\n            frame[1] = (byte) 126;\n            int len = rawData.length;\n            frame[2] = (byte)((len &gt;&gt; 8 ) &amp; (byte)255);\n            frame[3] = (byte)(len &amp; (byte)255); \n            frameCount = 4;\n        }else{\n            frame[1] = (byte) 127;\n            int len = rawData.length;\n            frame[2] = (byte)((len &gt;&gt; 56 ) &amp; (byte)255);\n            frame[3] = (byte)((len &gt;&gt; 48 ) &amp; (byte)255);\n            frame[4] = (byte)((len &gt;&gt; 40 ) &amp; (byte)255);\n            frame[5] = (byte)((len &gt;&gt; 32 ) &amp; (byte)255);\n            frame[6] = (byte)((len &gt;&gt; 24 ) &amp; (byte)255);\n            frame[7] = (byte)((len &gt;&gt; 16 ) &amp; (byte)255);\n            frame[8] = (byte)((len &gt;&gt; 8 ) &amp; (byte)255);\n            frame[9] = (byte)(len &amp; (byte)255);\n            frameCount = 10;\n        }\n\n        int bLength = frameCount + rawData.length;\n\n        byte[] reply = new byte[bLength];\n\n        int bLim = 0;\n        for(int i=0; i&lt;frameCount;i++){\n            reply[bLim] = frame[i];\n            bLim++;\n        }\n        for(int i=0; i&lt;rawData.length;i++){\n            reply[bLim] = rawData[i];\n            bLim++;\n        }\n\n        return reply;\n    }\n\n    private static void doHandShakeToInitializeWebSocketConnection(InputStream inputStream, OutputStream outputStream) throws UnsupportedEncodingException {\n        String data = new Scanner(inputStream,\"UTF-8\").useDelimiter(\"\\\\r\\\\n\\\\r\\\\n\").next();\n\n        Matcher get = Pattern.compile(\"^GET\").matcher(data);\n\n        if (get.find()) {\n            Matcher match = Pattern.compile(\"Sec-WebSocket-Key: (.*)\").matcher(data);\n            match.find();                 \n\n            byte[] response = null;\n            try {\n                response = (\"HTTP/1.1 101 Switching Protocols\\r\\n\"\n                        + \"Connection: Upgrade\\r\\n\"\n                        + \"Upgrade: websocket\\r\\n\"\n                        + \"Sec-WebSocket-Accept: \"\n                        + DatatypeConverter.printBase64Binary(\n                                MessageDigest\n                                .getInstance(\"SHA-1\")\n                                .digest((match.group(1) + \"258EAFA5-E914-47DA-95CA-C5AB0DC85B11\")\n                                        .getBytes(\"UTF-8\")))\n                        + \"\\r\\n\\r\\n\")\n                        .getBytes(\"UTF-8\");\n            } catch (NoSuchAlgorithmException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n\n            try {\n                outputStream.write(response, 0, response.length);\n            } catch (IOException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        } else {\n\n        }\n    }\n}\n</code></pre>\n\n<p>pom.xml:</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;TreezHttpServer&lt;/groupId&gt;\n  &lt;artifactId&gt;TreezHttpServer&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;build&gt;\n    &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n    &lt;resources&gt;\n      &lt;resource&gt;\n        &lt;directory&gt;src&lt;/directory&gt;\n        &lt;excludes&gt;\n          &lt;exclude&gt;**/*.java&lt;/exclude&gt;\n        &lt;/excludes&gt;\n      &lt;/resource&gt;\n    &lt;/resources&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;release&gt;11&lt;/release&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;    \n\n  &lt;/build&gt;\n\n  &lt;dependencies&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;version&gt;2.2.11&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n        &lt;version&gt;2.2.11&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n        &lt;version&gt;2.2.11&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n        &lt;artifactId&gt;activation&lt;/artifactId&gt;\n        &lt;version&gt;1.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>JavaScript Client:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n\n&lt;html&gt;\n\n&lt;head&gt;\n\n&lt;meta charset=\"UTF-8\"&gt;\n\n&lt;title&gt;WebSocket Client&lt;/title&gt;\n\n &lt;script type=\"text/javascript\"&gt;\n\n      var wsocket;      \n\n      function connect() {         \n\n          wsocket = new WebSocket(\"ws://localhost:8000\");          \n          wsocket.onopen = onopen;\n          wsocket.onmessage = onmessage;\n          wsocket.onclose = onclose; \n      }\n\n      function onopen() {\n          console.log(\"Connected!\");             \n          wsocket.send('hello from client');\n      }\n\n      function onmessage(event) { \n         console.log(\"Data received: \" + event.data); \n      }\n\n      function onclose(e) {\n         console.log(\"Connection closed.\");              \n      }\n\n      window.addEventListener(\"load\", connect, false);\n\n  &lt;/script&gt;\n\n&lt;/head&gt;\n\n&lt;body&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2670317,"reputation":6716,"user_id":2307873,"display_name":"Adam Marshall"},"score":0,"creation_date":1614267346,"post_id":66370678,"comment_id":117339046,"body_markdown":"Welcome to Stack Overflow! While your answer may solve the question, [including an explanation](https://meta.stackexchange.com/q/114762) of how and why this solves the problem would really help to improve the quality of your post, and probably result in more up-votes. Remember that you are answering the question for readers in the future, not just the person asking now. You can edit your answer to add explanations and give an indication of what limitations and assumptions apply. - [From Review](https://stackoverflow.com/review/late-answers/28408571)","body":"Welcome to Stack Overflow! While your answer may solve the question, <a href=\"https://meta.stackexchange.com/q/114762\">including an explanation</a> of how and why this solves the problem would really help to improve the quality of your post, and probably result in more up-votes. Remember that you are answering the question for readers in the future, not just the person asking now. You can edit your answer to add explanations and give an indication of what limitations and assumptions apply. - <a href=\"https://stackoverflow.com/review/late-answers/28408571\">From Review</a>"}],"tags":[],"owner":{"account_id":19850613,"reputation":1,"user_id":14541183,"display_name":"Allan Kirkwood"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614263968,"creation_date":1614263968,"answer_id":66370678,"question_id":43163592,"body_markdown":"```\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.OutputStream;\r\nimport java.io.UnsupportedEncodingException;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\nimport java.security.MessageDigest;\r\nimport java.security.NoSuchAlgorithmException;\r\nimport java.util.Scanner;\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\nimport javax.xml.bind.DatatypeConverter;;\r\n\r\npublic class WebSocketServer{\r\n\r\n\r\n    public static void main(String[] args){\r\n\r\n        int portNumber = 8000;\r\n\r\n        ServerSocket server;\r\n        try {\r\n            server = new ServerSocket(portNumber);\r\n        } catch (IOException exception) {\r\n            throw new IllegalStateException(&quot;Could not create web server&quot;, exception);\r\n        }\r\n\r\n\r\n        Socket clientSocket;\r\n        try {\r\n            clientSocket = server.accept(); //waits until a client connects\r\n        } catch (IOException waitException) {\r\n            throw new IllegalStateException(&quot;Could not wait for client connection&quot;, waitException);\r\n        }\r\n\r\n        InputStream inputStream;\r\n        try {\r\n            inputStream  = clientSocket.getInputStream();\r\n        } catch (IOException inputStreamException) {\r\n            throw new IllegalStateException(&quot;Could not connect to client input stream&quot;, inputStreamException);\r\n        }\r\n\r\n        OutputStream outputStream;\r\n        try {\r\n            outputStream  = clientSocket.getOutputStream();\r\n        } catch (IOException inputStreamException) {\r\n            throw new IllegalStateException(&quot;Could not connect to client input stream&quot;, inputStreamException);\r\n        }\r\n\r\n        try {\r\n            doHandShakeToInitializeWebSocketConnection(inputStream, outputStream);\r\n        } catch (UnsupportedEncodingException handShakeException) {\r\n            throw new IllegalStateException(&quot;Could not connect to client input stream&quot;, handShakeException);\r\n        }\r\n\r\n\r\n        try {        \r\n            outputStream.write(encode(&quot;Hello from Server!&quot;));\r\n            outputStream.flush();\r\n        } catch (UnsupportedEncodingException e) {          \r\n            e.printStackTrace();\r\n        } catch (IOException e) {       \r\n            e.printStackTrace();\r\n        }   \r\n\r\n         try {\r\n                printInputStream(inputStream);\r\n            } catch (IOException printException) {\r\n                throw new IllegalStateException(&quot;Could not connect to client input stream&quot;, printException);\r\n            }\r\n\r\n    }\r\n\r\n    //Source for encoding and decoding:\r\n    //https://stackoverflow.com/questions/8125507/how-can-i-send-and-receive-websocket-messages-on-the-server-side\r\n\r\n    //this will handle incoming text only up to 64K only\r\n    //it will handle multiple messages in one read and messages split over a read\r\n    private static void printInputStream(InputStream inputStream) throws IOException {\r\n\t\tbyte[] b = new byte[8000];//incoming buffer\r\n\t\tbyte[] message =null;//buffer to assemble message in\r\n\t\tbyte[] masks = new byte[4];\r\n\t\tboolean isSplit=false;//has a message been split over a read\r\n\t\tint length = 0; //length of message \r\n\t\tint totalRead =0; //total read in message so far\r\n\t\twhile (true) {\r\n\t\t\tint len = 0;//length of bytes read from socket\r\n\t\t\ttry {\r\n\t\t\t\tlen = inputStream.read(b);\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif (len != -1) {\r\n\t\t\t\tboolean more = false;\r\n\t\t\t\tint totalLength = 0;\r\n\t\t\t\tdo {\r\n\t\t\t\t\tint j = 0;\r\n\t\t\t\t\tint i = 0;\r\n\t\t\t\t\tif (!isSplit) {\r\n\t\t\t\t\t\tbyte rLength = 0;\r\n\t\t\t\t\t\tint rMaskIndex = 2;\r\n\t\t\t\t\t\tint rDataStart = 0;\r\n\t\t\t\t\t\t// b[0] assuming text\r\n\t\t\t\t\t\tbyte data = b[1];\r\n\t\t\t\t\t\tbyte op = (byte) 127;\r\n\t\t\t\t\t\trLength = (byte) (data &amp; op);\r\n\t\t\t\t\t\tlength = (int) rLength;\r\n\t\t\t\t\t\tif (rLength == (byte) 126) {\r\n\t\t\t\t\t\t\trMaskIndex = 4;\r\n\t\t\t\t\t\t\tlength = Byte.toUnsignedInt(b[2]) &lt;&lt; 8;\r\n\t\t\t\t\t\t\tlength += Byte.toUnsignedInt(b[3]);\r\n\t\t\t\t\t\t} else if (rLength == (byte) 127)\r\n\t\t\t\t\t\t\trMaskIndex = 10;\r\n\t\t\t\t\t\tfor (i = rMaskIndex; i &lt; (rMaskIndex + 4); i++) {\r\n\t\t\t\t\t\t\tmasks[j] = b[i];\r\n\t\t\t\t\t\t\tj++;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\trDataStart = rMaskIndex + 4;\r\n\r\n\t\t\t\t\t\tmessage = new byte[length];\r\n\t\t\t\t\t\ttotalLength = length + rDataStart;\r\n\t\t\t\t\t\tfor (i = rDataStart, totalRead = 0; i&lt;len &amp;&amp; i &lt; totalLength; i++, totalRead++) {\r\n\t\t\t\t\t\t\tmessage[totalRead] = (byte) (b[i] ^ masks[totalRead % 4]);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\tfor (i = 0; i&lt;len &amp;&amp; totalRead&lt;length; i++, totalRead++) {\r\n\t\t\t\t\t\t\tmessage[totalRead] = (byte) (b[i] ^ masks[totalRead % 4]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttotalLength=i;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (totalRead&lt;length) {\r\n\t\t\t\t\t\tisSplit=true;\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\tisSplit=false;\r\n\t\t\t\t\t\tSystem.out.println(new String(message)); \r\n\t\t\t\t\t\tb = new byte[8000];\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (totalLength &lt; len) {\r\n\t\t\t\t\t\tmore = true;\r\n\t\t\t\t\t\tfor (i = totalLength, j = 0; i &lt; len; i++, j++)\r\n\t\t\t\t\t\t\tb[j] = b[i];\r\n\t\t\t\t\t\tlen = len - totalLength;\r\n\t\t\t\t\t}else\r\n\t\t\t\t\t\tmore = false;\r\n\t\t\t\t} while (more);\r\n\t\t\t} else\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n    }\r\n\r\n\r\n    public static byte[] encode(String mess) throws IOException{\r\n        byte[] rawData = mess.getBytes();\r\n\r\n        int frameCount  = 0;\r\n        byte[] frame = new byte[10];\r\n\r\n        frame[0] = (byte) 129;\r\n\r\n        if(rawData.length &lt;= 125){\r\n            frame[1] = (byte) rawData.length;\r\n            frameCount = 2;\r\n        }else if(rawData.length &gt;= 126 &amp;&amp; rawData.length &lt;= 65535){\r\n            frame[1] = (byte) 126;\r\n            int len = rawData.length;\r\n            frame[2] = (byte)((len &gt;&gt; 8 ) &amp; (byte)255);\r\n            frame[3] = (byte)(len &amp; (byte)255); \r\n            frameCount = 4;\r\n        }else{\r\n            frame[1] = (byte) 127;\r\n            long len = rawData.length; //note an int is not big enough in java\r\n            frame[2] = (byte)((len &gt;&gt; 56 ) &amp; (byte)255);\r\n            frame[3] = (byte)((len &gt;&gt; 48 ) &amp; (byte)255);\r\n            frame[4] = (byte)((len &gt;&gt; 40 ) &amp; (byte)255);\r\n            frame[5] = (byte)((len &gt;&gt; 32 ) &amp; (byte)255);\r\n            frame[6] = (byte)((len &gt;&gt; 24 ) &amp; (byte)255);\r\n            frame[7] = (byte)((len &gt;&gt; 16 ) &amp; (byte)255);\r\n            frame[8] = (byte)((len &gt;&gt; 8 ) &amp; (byte)255);\r\n            frame[9] = (byte)(len &amp; (byte)255);\r\n            frameCount = 10;\r\n        }\r\n\r\n        int bLength = frameCount + rawData.length;\r\n\r\n        byte[] reply = new byte[bLength];\r\n\r\n        int bLim = 0;\r\n        for(int i=0; i&lt;frameCount;i++){\r\n            reply[bLim] = frame[i];\r\n            bLim++;\r\n        }\r\n        for(int i=0; i&lt;rawData.length;i++){\r\n            reply[bLim] = rawData[i];\r\n            bLim++;\r\n        }\r\n\r\n        return reply;\r\n    }\r\n\r\n    private static void doHandShakeToInitializeWebSocketConnection(InputStream inputStream, OutputStream outputStream) throws UnsupportedEncodingException {\r\n        String data = new Scanner(inputStream,&quot;UTF-8&quot;).useDelimiter(&quot;\\\\r\\\\n\\\\r\\\\n&quot;).next();\r\n\r\n        Matcher get = Pattern.compile(&quot;^GET&quot;).matcher(data);\r\n\r\n        if (get.find()) {\r\n            Matcher match = Pattern.compile(&quot;Sec-WebSocket-Key: (.*)&quot;).matcher(data);\r\n            match.find();                 \r\n\r\n            byte[] response = null;\r\n            try {\r\n                response = (&quot;HTTP/1.1 101 Switching Protocols\\r\\n&quot;\r\n                        + &quot;Connection: Upgrade\\r\\n&quot;\r\n                        + &quot;Upgrade: websocket\\r\\n&quot;\r\n                        + &quot;Sec-WebSocket-Accept: &quot;\r\n                        + DatatypeConverter.printBase64Binary(\r\n                                MessageDigest\r\n                                .getInstance(&quot;SHA-1&quot;)\r\n                                .digest((match.group(1) + &quot;258EAFA5-E914-47DA-95CA-C5AB0DC85B11&quot;)\r\n                                        .getBytes(&quot;UTF-8&quot;)))\r\n                        + &quot;\\r\\n\\r\\n&quot;)\r\n                        .getBytes(&quot;UTF-8&quot;);\r\n            } catch (NoSuchAlgorithmException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            }\r\n\r\n            try {\r\n                outputStream.write(response, 0, response.length);\r\n            } catch (IOException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            }\r\n        } else {\r\n\r\n        }\r\n    }\r\n}\r\n```\r\nThis fixes issues with Stefan&#39;s answer. It can handle multiple messages in one read and messages split over a read. Also fixes an issue with using an int instead of a long in writes.","title":"Standalone WebSocket server without JEE/application server","body":"<pre><code>import java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.io.UnsupportedEncodingException;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.security.MessageDigest;\nimport java.security.NoSuchAlgorithmException;\nimport java.util.Scanner;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\nimport javax.xml.bind.DatatypeConverter;;\n\npublic class WebSocketServer{\n\n\n    public static void main(String[] args){\n\n        int portNumber = 8000;\n\n        ServerSocket server;\n        try {\n            server = new ServerSocket(portNumber);\n        } catch (IOException exception) {\n            throw new IllegalStateException(&quot;Could not create web server&quot;, exception);\n        }\n\n\n        Socket clientSocket;\n        try {\n            clientSocket = server.accept(); //waits until a client connects\n        } catch (IOException waitException) {\n            throw new IllegalStateException(&quot;Could not wait for client connection&quot;, waitException);\n        }\n\n        InputStream inputStream;\n        try {\n            inputStream  = clientSocket.getInputStream();\n        } catch (IOException inputStreamException) {\n            throw new IllegalStateException(&quot;Could not connect to client input stream&quot;, inputStreamException);\n        }\n\n        OutputStream outputStream;\n        try {\n            outputStream  = clientSocket.getOutputStream();\n        } catch (IOException inputStreamException) {\n            throw new IllegalStateException(&quot;Could not connect to client input stream&quot;, inputStreamException);\n        }\n\n        try {\n            doHandShakeToInitializeWebSocketConnection(inputStream, outputStream);\n        } catch (UnsupportedEncodingException handShakeException) {\n            throw new IllegalStateException(&quot;Could not connect to client input stream&quot;, handShakeException);\n        }\n\n\n        try {        \n            outputStream.write(encode(&quot;Hello from Server!&quot;));\n            outputStream.flush();\n        } catch (UnsupportedEncodingException e) {          \n            e.printStackTrace();\n        } catch (IOException e) {       \n            e.printStackTrace();\n        }   \n\n         try {\n                printInputStream(inputStream);\n            } catch (IOException printException) {\n                throw new IllegalStateException(&quot;Could not connect to client input stream&quot;, printException);\n            }\n\n    }\n\n    //Source for encoding and decoding:\n    //https://stackoverflow.com/questions/8125507/how-can-i-send-and-receive-websocket-messages-on-the-server-side\n\n    //this will handle incoming text only up to 64K only\n    //it will handle multiple messages in one read and messages split over a read\n    private static void printInputStream(InputStream inputStream) throws IOException {\n        byte[] b = new byte[8000];//incoming buffer\n        byte[] message =null;//buffer to assemble message in\n        byte[] masks = new byte[4];\n        boolean isSplit=false;//has a message been split over a read\n        int length = 0; //length of message \n        int totalRead =0; //total read in message so far\n        while (true) {\n            int len = 0;//length of bytes read from socket\n            try {\n                len = inputStream.read(b);\n            } catch (IOException e) {\n                break;\n            }\n            if (len != -1) {\n                boolean more = false;\n                int totalLength = 0;\n                do {\n                    int j = 0;\n                    int i = 0;\n                    if (!isSplit) {\n                        byte rLength = 0;\n                        int rMaskIndex = 2;\n                        int rDataStart = 0;\n                        // b[0] assuming text\n                        byte data = b[1];\n                        byte op = (byte) 127;\n                        rLength = (byte) (data &amp; op);\n                        length = (int) rLength;\n                        if (rLength == (byte) 126) {\n                            rMaskIndex = 4;\n                            length = Byte.toUnsignedInt(b[2]) &lt;&lt; 8;\n                            length += Byte.toUnsignedInt(b[3]);\n                        } else if (rLength == (byte) 127)\n                            rMaskIndex = 10;\n                        for (i = rMaskIndex; i &lt; (rMaskIndex + 4); i++) {\n                            masks[j] = b[i];\n                            j++;\n                        }\n\n                        rDataStart = rMaskIndex + 4;\n\n                        message = new byte[length];\n                        totalLength = length + rDataStart;\n                        for (i = rDataStart, totalRead = 0; i&lt;len &amp;&amp; i &lt; totalLength; i++, totalRead++) {\n                            message[totalRead] = (byte) (b[i] ^ masks[totalRead % 4]);\n                        }\n\n                    }else {\n                        for (i = 0; i&lt;len &amp;&amp; totalRead&lt;length; i++, totalRead++) {\n                            message[totalRead] = (byte) (b[i] ^ masks[totalRead % 4]);\n                        }\n                        totalLength=i;\n                    }\n\n                    \n                    if (totalRead&lt;length) {\n                        isSplit=true;\n                    }else {\n                        isSplit=false;\n                        System.out.println(new String(message)); \n                        b = new byte[8000];\n                    }\n                    \n                    if (totalLength &lt; len) {\n                        more = true;\n                        for (i = totalLength, j = 0; i &lt; len; i++, j++)\n                            b[j] = b[i];\n                        len = len - totalLength;\n                    }else\n                        more = false;\n                } while (more);\n            } else\n                break;\n        }\n\n    }\n\n\n    public static byte[] encode(String mess) throws IOException{\n        byte[] rawData = mess.getBytes();\n\n        int frameCount  = 0;\n        byte[] frame = new byte[10];\n\n        frame[0] = (byte) 129;\n\n        if(rawData.length &lt;= 125){\n            frame[1] = (byte) rawData.length;\n            frameCount = 2;\n        }else if(rawData.length &gt;= 126 &amp;&amp; rawData.length &lt;= 65535){\n            frame[1] = (byte) 126;\n            int len = rawData.length;\n            frame[2] = (byte)((len &gt;&gt; 8 ) &amp; (byte)255);\n            frame[3] = (byte)(len &amp; (byte)255); \n            frameCount = 4;\n        }else{\n            frame[1] = (byte) 127;\n            long len = rawData.length; //note an int is not big enough in java\n            frame[2] = (byte)((len &gt;&gt; 56 ) &amp; (byte)255);\n            frame[3] = (byte)((len &gt;&gt; 48 ) &amp; (byte)255);\n            frame[4] = (byte)((len &gt;&gt; 40 ) &amp; (byte)255);\n            frame[5] = (byte)((len &gt;&gt; 32 ) &amp; (byte)255);\n            frame[6] = (byte)((len &gt;&gt; 24 ) &amp; (byte)255);\n            frame[7] = (byte)((len &gt;&gt; 16 ) &amp; (byte)255);\n            frame[8] = (byte)((len &gt;&gt; 8 ) &amp; (byte)255);\n            frame[9] = (byte)(len &amp; (byte)255);\n            frameCount = 10;\n        }\n\n        int bLength = frameCount + rawData.length;\n\n        byte[] reply = new byte[bLength];\n\n        int bLim = 0;\n        for(int i=0; i&lt;frameCount;i++){\n            reply[bLim] = frame[i];\n            bLim++;\n        }\n        for(int i=0; i&lt;rawData.length;i++){\n            reply[bLim] = rawData[i];\n            bLim++;\n        }\n\n        return reply;\n    }\n\n    private static void doHandShakeToInitializeWebSocketConnection(InputStream inputStream, OutputStream outputStream) throws UnsupportedEncodingException {\n        String data = new Scanner(inputStream,&quot;UTF-8&quot;).useDelimiter(&quot;\\\\r\\\\n\\\\r\\\\n&quot;).next();\n\n        Matcher get = Pattern.compile(&quot;^GET&quot;).matcher(data);\n\n        if (get.find()) {\n            Matcher match = Pattern.compile(&quot;Sec-WebSocket-Key: (.*)&quot;).matcher(data);\n            match.find();                 \n\n            byte[] response = null;\n            try {\n                response = (&quot;HTTP/1.1 101 Switching Protocols\\r\\n&quot;\n                        + &quot;Connection: Upgrade\\r\\n&quot;\n                        + &quot;Upgrade: websocket\\r\\n&quot;\n                        + &quot;Sec-WebSocket-Accept: &quot;\n                        + DatatypeConverter.printBase64Binary(\n                                MessageDigest\n                                .getInstance(&quot;SHA-1&quot;)\n                                .digest((match.group(1) + &quot;258EAFA5-E914-47DA-95CA-C5AB0DC85B11&quot;)\n                                        .getBytes(&quot;UTF-8&quot;)))\n                        + &quot;\\r\\n\\r\\n&quot;)\n                        .getBytes(&quot;UTF-8&quot;);\n            } catch (NoSuchAlgorithmException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n\n            try {\n                outputStream.write(response, 0, response.length);\n            } catch (IOException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        } else {\n\n        }\n    }\n}\n</code></pre>\n<p>This fixes issues with Stefan's answer. It can handle multiple messages in one read and messages split over a read. Also fixes an issue with using an int instead of a long in writes.</p>\n"},{"comments":[{"owner":{"account_id":1167427,"reputation":24342,"user_id":1145388,"accept_rate":75,"display_name":"Stephen Ostermiller"},"score":0,"creation_date":1635682496,"post_id":69785185,"comment_id":123355949,"body_markdown":"Are you saying that the code you are posting here is the corrected version that works based on code from another answer?","body":"Are you saying that the code you are posting here is the corrected version that works based on code from another answer?"},{"owner":{"account_id":20821095,"reputation":19,"user_id":15292698,"display_name":"Sergey K"},"score":0,"creation_date":1635691917,"post_id":69785185,"comment_id":123357570,"body_markdown":"Yep. Also added disconnect packet managing for client to disconnect correctly.","body":"Yep. Also added disconnect packet managing for client to disconnect correctly."}],"tags":[],"owner":{"account_id":20821095,"reputation":19,"user_id":15292698,"display_name":"Sergey K"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635691864,"creation_date":1635669626,"answer_id":69785185,"question_id":43163592,"body_markdown":"Tried using [Stefan](https://stackoverflow.com/users/2876079/stefan)&#39;s code. And currently it doesn&#39;t work well (I&#39;m using Firefox). Websocket packets larger than 1024 bytes are being splitted into TCP segments, so reassembling is required.\r\nHere is an updated code for reading browser packet:\r\n\r\n    private static void processResponse(InputStream inputStream, OutputStream outputStream) throws IOException {\r\n        int readPacketLength = 0;\r\n        byte[] packet = new byte[1024];\r\n        ByteArrayOutputStream packetStream = new ByteArrayOutputStream();\r\n\r\n        while(true) {\r\n            readPacketLength = inputStream.read(packet);\r\n\r\n            if(readPacketLength != -1) {\r\n                if ((packet[0] &amp; (byte) 15) == (byte) 8) { // Disconnect packet\r\n                    outputStream.write(packet, 0, readPacketLength);\r\n                    // returning the same packet for client to terminate connection\r\n                    outputStream.flush();\r\n                    return;\r\n                }\r\n                byte messageLengthByte = 0;\r\n                int messageLength = 0;\r\n                int maskIndex = 2;\r\n                int messageStart = 0;\r\n                //b[0] is always text in my case so no need to check;\r\n                byte data = packet[1];\r\n                byte op = (byte) 127; // 0111 111\r\n                messageLengthByte = (byte) (data &amp; op);\r\n\r\n                int totalPacketLength = 0;\r\n                if (messageLengthByte == (byte) 126 || messageLengthByte == (byte) 127) {\r\n                    if (messageLengthByte == (byte) 126) {\r\n                        maskIndex = 4;\r\n                        // if (messageLengthInt==(byte)126), then 16-bit length is stored in packet[2] and [3]\r\n                        ByteBuffer messageLength16Bit = ByteBuffer.allocateDirect(4);\r\n                        messageLength16Bit.order(ByteOrder.BIG_ENDIAN);\r\n                        messageLength16Bit.put((byte) 0x00);\r\n                        messageLength16Bit.put((byte) 0x00);\r\n                        messageLength16Bit.put(packet, 2, 2);\r\n                        messageLength16Bit.flip();\r\n                        messageLength = messageLength16Bit.getInt();\r\n                        totalPacketLength = messageLength + 8;\r\n                    } else {\r\n                        maskIndex = 10;\r\n                        // if (messageLengthInt==(byte)127), then 64-bit length is stored in bytes [2] to [9]. Using only 32-bit\r\n                        ByteBuffer messageLength64Bit = ByteBuffer.allocateDirect(4);\r\n                        messageLength64Bit.order(ByteOrder.BIG_ENDIAN);\r\n                        messageLength64Bit.put(packet, 6, 4);\r\n                        messageLength64Bit.flip();\r\n                        messageLength = messageLength64Bit.getInt();\r\n                        totalPacketLength = messageLength + 14;\r\n                    }\r\n\r\n                    if (readPacketLength != totalPacketLength) {\r\n                        packetStream.write(packet, 0, readPacketLength);\r\n\r\n                        int lastPacketLength = 0;\r\n                        while (readPacketLength &lt; totalPacketLength) {\r\n                            packet = new byte[1024];\r\n                            readPacketLength += lastPacketLength = inputStream.read(packet);\r\n                            packetStream.write(packet, 0, lastPacketLength);\r\n                        }\r\n                        packet = packetStream.toByteArray();\r\n                        packetStream.reset();\r\n                    }\r\n                }\r\n                else { // using message length from packet[1]\r\n                    messageLength = messageLengthByte;\r\n                }\r\n\r\n                byte[] masks = new byte[4];\r\n                int i=0; int j=0;\r\n                for(i = maskIndex; i &lt; (maskIndex+4); i++) {\r\n                    masks[j] = packet[i];\r\n                    j++;\r\n                }\r\n\r\n                messageStart = maskIndex + 4;\r\n\r\n                byte[] message = new byte[messageLength];\r\n                for(i = messageStart, j = 0; i &lt; readPacketLength; i++, j++){\r\n                    message[j] = (byte) (packet[i] ^ masks[j % 4]);\r\n                }\r\n                System.out.println(&quot;Received message: &quot; + new String(message));\r\n                packet = new byte[1024];\r\n            }\r\n        }\r\n    }","title":"Standalone WebSocket server without JEE/application server","body":"<p>Tried using <a href=\"https://stackoverflow.com/users/2876079/stefan\">Stefan</a>'s code. And currently it doesn't work well (I'm using Firefox). Websocket packets larger than 1024 bytes are being splitted into TCP segments, so reassembling is required.\nHere is an updated code for reading browser packet:</p>\n<pre><code>private static void processResponse(InputStream inputStream, OutputStream outputStream) throws IOException {\n    int readPacketLength = 0;\n    byte[] packet = new byte[1024];\n    ByteArrayOutputStream packetStream = new ByteArrayOutputStream();\n\n    while(true) {\n        readPacketLength = inputStream.read(packet);\n\n        if(readPacketLength != -1) {\n            if ((packet[0] &amp; (byte) 15) == (byte) 8) { // Disconnect packet\n                outputStream.write(packet, 0, readPacketLength);\n                // returning the same packet for client to terminate connection\n                outputStream.flush();\n                return;\n            }\n            byte messageLengthByte = 0;\n            int messageLength = 0;\n            int maskIndex = 2;\n            int messageStart = 0;\n            //b[0] is always text in my case so no need to check;\n            byte data = packet[1];\n            byte op = (byte) 127; // 0111 111\n            messageLengthByte = (byte) (data &amp; op);\n\n            int totalPacketLength = 0;\n            if (messageLengthByte == (byte) 126 || messageLengthByte == (byte) 127) {\n                if (messageLengthByte == (byte) 126) {\n                    maskIndex = 4;\n                    // if (messageLengthInt==(byte)126), then 16-bit length is stored in packet[2] and [3]\n                    ByteBuffer messageLength16Bit = ByteBuffer.allocateDirect(4);\n                    messageLength16Bit.order(ByteOrder.BIG_ENDIAN);\n                    messageLength16Bit.put((byte) 0x00);\n                    messageLength16Bit.put((byte) 0x00);\n                    messageLength16Bit.put(packet, 2, 2);\n                    messageLength16Bit.flip();\n                    messageLength = messageLength16Bit.getInt();\n                    totalPacketLength = messageLength + 8;\n                } else {\n                    maskIndex = 10;\n                    // if (messageLengthInt==(byte)127), then 64-bit length is stored in bytes [2] to [9]. Using only 32-bit\n                    ByteBuffer messageLength64Bit = ByteBuffer.allocateDirect(4);\n                    messageLength64Bit.order(ByteOrder.BIG_ENDIAN);\n                    messageLength64Bit.put(packet, 6, 4);\n                    messageLength64Bit.flip();\n                    messageLength = messageLength64Bit.getInt();\n                    totalPacketLength = messageLength + 14;\n                }\n\n                if (readPacketLength != totalPacketLength) {\n                    packetStream.write(packet, 0, readPacketLength);\n\n                    int lastPacketLength = 0;\n                    while (readPacketLength &lt; totalPacketLength) {\n                        packet = new byte[1024];\n                        readPacketLength += lastPacketLength = inputStream.read(packet);\n                        packetStream.write(packet, 0, lastPacketLength);\n                    }\n                    packet = packetStream.toByteArray();\n                    packetStream.reset();\n                }\n            }\n            else { // using message length from packet[1]\n                messageLength = messageLengthByte;\n            }\n\n            byte[] masks = new byte[4];\n            int i=0; int j=0;\n            for(i = maskIndex; i &lt; (maskIndex+4); i++) {\n                masks[j] = packet[i];\n                j++;\n            }\n\n            messageStart = maskIndex + 4;\n\n            byte[] message = new byte[messageLength];\n            for(i = messageStart, j = 0; i &lt; readPacketLength; i++, j++){\n                message[j] = (byte) (packet[i] ^ masks[j % 4]);\n            }\n            System.out.println(&quot;Received message: &quot; + new String(message));\n            packet = new byte[1024];\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1252794,"reputation":799,"user_id":1212858,"accept_rate":57,"display_name":"Derek"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10077,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":43330883,"answer_count":4,"score":17,"last_activity_date":1701298464,"creation_date":1491094828,"question_id":43163592,"body_markdown":"I need to implement a fairly simple WebSocket server in Java SE. All it needs to do is accept connections and store the respective sessions, then send a message to all connected client whenever a certain event is fired.\r\n\r\nI cannot find a single tutorial for how to do this in regular Java SE. All of them require running with Maven, or deploying it as a WAR - which are all out of the question for this project. I need to run this as a Java SE desktop app.\r\n\r\nThe tutorials I have found show how to implement an endpoint using annotations like `@OnOpen`, `@OnMessage`, and `@OnClose`. However, none of them explain how to actually initialize the server. I also need to be able to specify a different port number for incoming connections.\r\n\r\nAm I missing something? I know people have made chat apps using WebSocket, and that really should not require a web application server. I am not using Maven either, and would prefer to keep it that way for simplicity&#39;s sake.","title":"Standalone WebSocket server without JEE/application server","body":"<p>I need to implement a fairly simple WebSocket server in Java SE. All it needs to do is accept connections and store the respective sessions, then send a message to all connected client whenever a certain event is fired.</p>\n\n<p>I cannot find a single tutorial for how to do this in regular Java SE. All of them require running with Maven, or deploying it as a WAR - which are all out of the question for this project. I need to run this as a Java SE desktop app.</p>\n\n<p>The tutorials I have found show how to implement an endpoint using annotations like <code>@OnOpen</code>, <code>@OnMessage</code>, and <code>@OnClose</code>. However, none of them explain how to actually initialize the server. I also need to be able to specify a different port number for incoming connections.</p>\n\n<p>Am I missing something? I know people have made chat apps using WebSocket, and that really should not require a web application server. I am not using Maven either, and would prefer to keep it that way for simplicity's sake.</p>\n"},{"tags":["java","spring","thymeleaf"],"comments":[{"owner":{"account_id":5152799,"reputation":19367,"user_id":4126893,"display_name":"Metroids"},"score":1,"creation_date":1701360912,"post_id":77574911,"comment_id":136768565,"body_markdown":"See this: https://stackoverflow.com/questions/59652095/theach-indexing-throwing-errors/59652657#59652657","body":"See this: <a href=\"https://stackoverflow.com/questions/59652095/theach-indexing-throwing-errors/59652657#59652657\" title=\"theach indexing throwing errors\">stackoverflow.com/questions/59652095/&hellip;</a>"},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1701365304,"post_id":77574911,"comment_id":136769461,"body_markdown":"Thanks, Metroids.  Using a backing class works. It would be nice without creating another class but I guess this will do.","body":"Thanks, Metroids.  Using a backing class works. It would be nice without creating another class but I guess this will do."},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1701367749,"post_id":77574911,"comment_id":136769886,"body_markdown":"There&#39;s a tutorial on this:  https://www.baeldung.com/thymeleaf-list","body":"There&#39;s a tutorial on this:  <a href=\"https://www.baeldung.com/thymeleaf-list\" rel=\"nofollow noreferrer\">baeldung.com/thymeleaf-list</a>"}],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701383182,"answer_count":0,"score":0,"last_activity_date":1701298345,"creation_date":1701298345,"question_id":77574911,"body_markdown":"I want to create a thymeleaf template with a single form for editing multiple items.  In this example, the items are Todo objects.\r\n\r\n```\r\npublic class Todo {\r\n    private int id;\r\n    private String desc;\r\n    private boolean done;\r\n}\r\n```\r\n \r\n\r\nBased on some googling, my broken solution is below:\r\n```\r\n&lt;form&gt;\r\n\r\n&lt;div th:each=&quot;todo, iter: *{todos}&quot;&gt;\r\n&lt;input type=&quot;hidden&quot; th:field=&quot;*{todos[__${iter.index}__].id}&quot; /&gt;\r\n&lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{todos[__${iter.index}__].desc}&quot;/&gt;\r\n&lt;input type=&quot;checkbox&quot; th:field=&quot;*{todos[__${iter.index}__].done}&quot; th:checked=&quot;${todo.done}&quot;/&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;input type=&quot;submit&quot; name=&quot;update&quot; value=&quot;upate&quot;  \r\nformmethod=&quot;post&quot; \r\nformaction=&quot;/todos/update-multiple&quot;\r\nclass=&quot;btn btn-danger&quot;/&gt;\r\n\r\n&lt;input type=&quot;submit&quot; name=&quot;cancel&quot; value=&quot;cancel&quot; \r\nformmethod=&quot;get&quot; \r\nformaction=&quot;/todos&quot;  \r\nclass=&quot;btn btn-secondary&quot;/&gt; \r\n&lt;/form&gt;\r\n```\r\n\r\nHere&#39;s the controller\r\n\r\n```\r\n@PostMapping(&quot;/todos/update-multiple-form&quot;)\r\npublic String updateMultipleForm(@RequestParam List&lt;Integer&gt; ids, Model model){\r\n  List&lt;Todo&gt; todos = new ArrayList&lt;&gt;();\r\n  ids.forEach(id-&gt;todos.add(service.get(id)));\r\n  model.addAttribute(&quot;todos&quot;, todos);\r\n  return &quot;update-multiple&quot;;\r\n}\r\n\r\n@PostMapping(&quot;/todos/update-multiple&quot;)\r\npublic String updateMultiple(@RequestParam List&lt;Todo&gt; todos, Model model){\r\n  todos.forEach(service::update);\r\n  return &quot;redirect:/todos&quot;;\r\n}\r\n```\r\n\r\nHere&#39;s the error message:\r\n\r\n```\r\nCaused by: java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name &#39;todos[0]&#39; available as request attribute```\r\n\r\n\r\nGoogle around but couldn&#39;t find an example on using a single form to update multiple objects.","title":"spring mvc thymeleaf form update array of objects","body":"<p>I want to create a thymeleaf template with a single form for editing multiple items.  In this example, the items are Todo objects.</p>\n<pre><code>public class Todo {\n    private int id;\n    private String desc;\n    private boolean done;\n}\n</code></pre>\n<p>Based on some googling, my broken solution is below:</p>\n<pre><code>&lt;form&gt;\n\n&lt;div th:each=&quot;todo, iter: *{todos}&quot;&gt;\n&lt;input type=&quot;hidden&quot; th:field=&quot;*{todos[__${iter.index}__].id}&quot; /&gt;\n&lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{todos[__${iter.index}__].desc}&quot;/&gt;\n&lt;input type=&quot;checkbox&quot; th:field=&quot;*{todos[__${iter.index}__].done}&quot; th:checked=&quot;${todo.done}&quot;/&gt;\n&lt;/div&gt;\n\n&lt;input type=&quot;submit&quot; name=&quot;update&quot; value=&quot;upate&quot;  \nformmethod=&quot;post&quot; \nformaction=&quot;/todos/update-multiple&quot;\nclass=&quot;btn btn-danger&quot;/&gt;\n\n&lt;input type=&quot;submit&quot; name=&quot;cancel&quot; value=&quot;cancel&quot; \nformmethod=&quot;get&quot; \nformaction=&quot;/todos&quot;  \nclass=&quot;btn btn-secondary&quot;/&gt; \n&lt;/form&gt;\n</code></pre>\n<p>Here's the controller</p>\n<pre><code>@PostMapping(&quot;/todos/update-multiple-form&quot;)\npublic String updateMultipleForm(@RequestParam List&lt;Integer&gt; ids, Model model){\n  List&lt;Todo&gt; todos = new ArrayList&lt;&gt;();\n  ids.forEach(id-&gt;todos.add(service.get(id)));\n  model.addAttribute(&quot;todos&quot;, todos);\n  return &quot;update-multiple&quot;;\n}\n\n@PostMapping(&quot;/todos/update-multiple&quot;)\npublic String updateMultiple(@RequestParam List&lt;Todo&gt; todos, Model model){\n  todos.forEach(service::update);\n  return &quot;redirect:/todos&quot;;\n}\n</code></pre>\n<p>Here's the error message:</p>\n<pre><code>Caused by: java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name 'todos[0]' available as request attribute```\n\n\nGoogle around but couldn't find an example on using a single form to update multiple objects.\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-batch","java-17"],"answers":[{"tags":[],"owner":{"account_id":23617210,"reputation":256,"user_id":17651108,"display_name":"Azadi Yazdani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687332470,"creation_date":1687332470,"answer_id":76520935,"question_id":76516465,"body_markdown":"This format of writing is used in .properties file. For yaml files you need to change your format like this\r\n\r\n    logging:\r\n      logstash: abc1.uk.dev.net:5001\r\n        \r\n    spring:\r\n      application:\r\n        name: myservice-backend\r\n      main:\r\n        allow-bean-definition-overriding: true\r\n\r\n","title":"Config Server details from application.yml not fetched","body":"<p>This format of writing is used in .properties file. For yaml files you need to change your format like this</p>\n<pre><code>logging:\n  logstash: abc1.uk.dev.net:5001\n    \nspring:\n  application:\n    name: myservice-backend\n  main:\n    allow-bean-definition-overriding: true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2864880,"reputation":99,"user_id":2459396,"accept_rate":29,"display_name":"user2459396"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687380227,"creation_date":1687380227,"answer_id":76527000,"question_id":76516465,"body_markdown":"Looks like bootstrap dependency was included which screwed things up. Everything works like charm after removing it. ","title":"Config Server details from application.yml not fetched","body":"<p>Looks like bootstrap dependency was included which screwed things up. Everything works like charm after removing it.</p>\n"}],"owner":{"account_id":2864880,"reputation":99,"user_id":2459396,"accept_rate":29,"display_name":"user2459396"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76527000,"answer_count":2,"score":0,"last_activity_date":1701297042,"creation_date":1687276170,"question_id":76516465,"body_markdown":"I am migrating Spring Batch using Spring Boot 2 to Spring Boot 3 (with Spring Batch 5) which uses config server to fetch environment specific properties. My properties is like this.\r\n```\r\nlogging.logstash= abc1.uk.dev.net:5001\r\nspring.application.name= myservice-backend\r\nspring.main.allow-bean-definition-overriding= true\r\n\r\n#--- dev profile\r\nspring.config.activate.on-profile= dev\r\nlogging.logstash= abc1.uk.dev.net:5001\r\nspring.application.name= myservice-backend\r\nspring.main.allow-bean-definition-overriding= true\r\nspring.config.import= configserver:http://localhost:8088\r\nspring.cloud.config.label= release(_)V5.1\r\n\r\n#--- sit profile\r\nspring.config.activate.on-profile= sit\r\nlogging.logstash= abc1.uk.dev.net:5001\r\nspring.application.name= myservice-backend\r\nspring.main.allow-bean-definition-overriding= true\r\nspring.config.import= configserver:http://localhost:8088\r\nspring.cloud.config.label= release(_)V5.1\r\n```\r\n\r\nIt looks like it doesnt seem to pick up the correct environment and fails to load anything. Any idea what could be wrong. If I just put one environment in the application.properties file then it seems to load everything\r\n```\r\nlogging.logstash= abc1.uk.dev.net:5001\r\nspring.application.name= myservice-backend\r\nspring.main.allow-bean-definition-overriding= true\r\nspring.config.activate.on-profile= dev\r\nlogging.logstash= abc1.uk.dev.net:5001\r\nspring.config.import= configserver:http://localhost:8088\r\nspring.cloud.config.label= release(_)V5.1\r\n```\r\n\r\nThis is my pom.xml.\r\n```\r\n    &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;snakeyaml.version&gt;2.0&lt;/snakeyaml.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;2022.0.3&lt;/spring-cloud.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-batch&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- config server --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n```\r\n\r\nAlso in spring-batch service I cant seem to load test properties from src/test/resources/application-test.yml, it works only with src/test/resources/application-test.properties\r\n\r\nAny idea what could be missing here or how could I achieve what I am trying to.","title":"Config Server details from application.yml not fetched","body":"<p>I am migrating Spring Batch using Spring Boot 2 to Spring Boot 3 (with Spring Batch 5) which uses config server to fetch environment specific properties. My properties is like this.</p>\n<pre><code>logging.logstash= abc1.uk.dev.net:5001\nspring.application.name= myservice-backend\nspring.main.allow-bean-definition-overriding= true\n\n#--- dev profile\nspring.config.activate.on-profile= dev\nlogging.logstash= abc1.uk.dev.net:5001\nspring.application.name= myservice-backend\nspring.main.allow-bean-definition-overriding= true\nspring.config.import= configserver:http://localhost:8088\nspring.cloud.config.label= release(_)V5.1\n\n#--- sit profile\nspring.config.activate.on-profile= sit\nlogging.logstash= abc1.uk.dev.net:5001\nspring.application.name= myservice-backend\nspring.main.allow-bean-definition-overriding= true\nspring.config.import= configserver:http://localhost:8088\nspring.cloud.config.label= release(_)V5.1\n</code></pre>\n<p>It looks like it doesnt seem to pick up the correct environment and fails to load anything. Any idea what could be wrong. If I just put one environment in the application.properties file then it seems to load everything</p>\n<pre><code>logging.logstash= abc1.uk.dev.net:5001\nspring.application.name= myservice-backend\nspring.main.allow-bean-definition-overriding= true\nspring.config.activate.on-profile= dev\nlogging.logstash= abc1.uk.dev.net:5001\nspring.config.import= configserver:http://localhost:8088\nspring.cloud.config.label= release(_)V5.1\n</code></pre>\n<p>This is my pom.xml.</p>\n<pre><code>    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;snakeyaml.version&gt;2.0&lt;/snakeyaml.version&gt;\n        &lt;spring-cloud.version&gt;2022.0.3&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-batch&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- config server --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n</code></pre>\n<p>Also in spring-batch service I cant seem to load test properties from src/test/resources/application-test.yml, it works only with src/test/resources/application-test.properties</p>\n<p>Any idea what could be missing here or how could I achieve what I am trying to.</p>\n"},{"tags":["java","wildfly","resteasy","wildfly-26"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1701297173,"post_id":77574799,"comment_id":136759809,"body_markdown":"It&#39;s hard to say what is going on here. Possibly a provider or something that doesn&#39;t have a default constructor.","body":"It&#39;s hard to say what is going on here. Possibly a provider or something that doesn&#39;t have a default constructor."},{"owner":{"account_id":7561520,"reputation":129,"user_id":5738901,"accept_rate":25,"display_name":"j-dimension"},"score":0,"creation_date":1701299283,"post_id":77574799,"comment_id":136760062,"body_markdown":"Thank you James for the input. I will try to specifically instantiate the Resteasy implementation of ClientBuilder and see if it helps. Will comment here soon again.","body":"Thank you James for the input. I will try to specifically instantiate the Resteasy implementation of ClientBuilder and see if it helps. Will comment here soon again."},{"owner":{"account_id":7561520,"reputation":129,"user_id":5738901,"accept_rate":25,"display_name":"j-dimension"},"score":0,"creation_date":1701300636,"post_id":77574799,"comment_id":136760203,"body_markdown":"This is really weird. As stated, I changed the instantiation to use Resteasy classes directly. However, this did not yield anything positive. \n\nHowever, I have some additional insight: the REST client running in Wildfly can be triggered in two ways: based on a call from a remote EJB client, or by a timer task / scheduled task within the same server. If, after Wildfly startup, the remote client is first to utilize the REST client, I am seeing this error. If the scheduled task is the first trigger, everything works as expected. \nWeird.","body":"This is really weird. As stated, I changed the instantiation to use Resteasy classes directly. However, this did not yield anything positive.   However, I have some additional insight: the REST client running in Wildfly can be triggered in two ways: based on a call from a remote EJB client, or by a timer task / scheduled task within the same server. If, after Wildfly startup, the remote client is first to utilize the REST client, I am seeing this error. If the scheduled task is the first trigger, everything works as expected.  Weird."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1701302025,"post_id":77574799,"comment_id":136760371,"body_markdown":"That is definitely peculiar.","body":"That is definitely peculiar."}],"owner":{"account_id":7561520,"reputation":129,"user_id":5738901,"accept_rate":25,"display_name":"j-dimension"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701296427,"creation_date":1701296427,"question_id":77574799,"body_markdown":"I have a REST client using RESTEasy 4.7.7 running in Wildfly 26.1.3.Final (using Java 17), that fails due to a NullpointerException. Outside of Wildfly everything works fine.\r\n\r\nThe client looks like this:\r\n\r\n    Client restClient = javax.ws.rs.client.ClientBuilder.newClient();\r\n    WebTarget webTarget = restClient.target(baseUri + &quot;/api/Login&quot;);\r\n    \r\n    String jsonQuery = &quot;&lt;some-real-json&gt;&quot;;\r\n\r\n    String token = null;\r\n    try {\r\n        Response response = webTarget.request(javax.ws.rs.core.MediaType.APPLICATION_JSON).accept(MIMETYPE_JSON).post(javax.ws.rs.client.Entity.entity(jsonQuery, javax.ws.rs.core.MediaType.APPLICATION_JSON));\r\n        String returnValue = response.readEntity(String.class);\r\n        if (response.getStatus() != 200) {\r\n            log.error(&quot;Could not authenticate with ePost API: &quot; + returnValue + &quot; [&quot; + response.getStatus() + &quot;]&quot;);\r\n            throw new EpostException(&quot;Could not authenticate with ePost API: &quot; + returnValue + &quot; [&quot; + response.getStatus() + &quot;]&quot;);\r\n        }\r\n\r\n        Object jsonOutput = Jsoner.deserialize(returnValue);\r\n        // output processing\r\n\r\n    } catch (Exception ex) {\r\n        log.error(&quot;Could not authenticate with ePost API&quot;, ex);\r\n        throw new EpostException(ex.getMessage(), ex);\r\n    } finally {\r\n        restClient.close();\r\n    }\r\n    return token;\r\n\r\nHere&#39;s the stacktrace I am getting: \r\n\r\n    Caused by: java.lang.NullPointerException: Cannot invoke &quot;java.lang.reflect.Constructor.getParameterTypes()&quot; because &quot;constructor&quot; is null\r\n    \tat org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.ConstructorInjectorImpl.&lt;init&gt;(ConstructorInjectorImpl.java:55)\r\n    \tat org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.InjectorFactoryImpl.createConstructor(InjectorFactoryImpl.java:61)\r\n    \tat org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.providerfactory.ResteasyProviderFactoryImpl.injectedInstance(ResteasyProviderFactoryImpl.java:1398)\r\n    \tat org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.interception.jaxrs.JaxrsInterceptorRegistryImpl$AbstractInterceptorFactory.createInterceptor(JaxrsInterceptorRegistryImpl.java:150)\r\n    \tat org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.interception.jaxrs.JaxrsInterceptorRegistryImpl$OnDemandInterceptorFactory.initialize(JaxrsInterceptorRegistryImpl.java:168)\r\n    \tat org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.interception.jaxrs.JaxrsInterceptorRegistryImpl$OnDemandInterceptorFactory.checkInitialize(JaxrsInterceptorRegistryImpl.java:183)\r\n    \tat org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.interception.jaxrs.JaxrsInterceptorRegistryImpl$OnDemandInterceptorFactory.getInterceptor(JaxrsInterceptorRegistryImpl.java:193)\r\n    \tat org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.interception.jaxrs.JaxrsInterceptorRegistryImpl$AbstractInterceptorFactory.postMatch(JaxrsInterceptorRegistryImpl.java:138)\r\n    \tat org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.interception.jaxrs.JaxrsInterceptorRegistryImpl.postMatch(JaxrsInterceptorRegistryImpl.java:288)\r\n    \tat org.jboss.resteasy.resteasy-client@4.7.7.Final//org.jboss.resteasy.client.jaxrs.internal.ClientConfiguration.getRequestFilters(ClientConfiguration.java:120)\r\n    \tat org.jboss.resteasy.resteasy-client@4.7.7.Final//org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.getRequestFilters(ClientInvocation.java:460)\r\n    \tat org.jboss.resteasy.resteasy-client@4.7.7.Final//org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.filterRequest(ClientInvocation.java:759)\r\n    \tat org.jboss.resteasy.resteasy-client@4.7.7.Final//org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.invoke(ClientInvocation.java:491)\r\n    \tat org.jboss.resteasy.resteasy-client@4.7.7.Final//org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.invoke(ClientInvocation.java:69)\r\n    \tat org.jboss.resteasy.resteasy-client@4.7.7.Final//org.jboss.resteasy.client.jaxrs.internal.ClientInvocationBuilder.post(ClientInvocationBuilder.java:226)\r\n    \tat deployment.j-lawyer-server.ear//com.jdimension.jlawyer.epost.EpostAPI.login(EpostAPI.java:782)\r\n\r\nAny ideas what could be wrong here? It happens when calling the &quot;post&quot; method. I have a feeling it has something to do with instantiating RESTEasy, but as I am not directly instantiating it myself, I do not know how to tackle this. \r\n\r\nThanks!","title":"NullpointerException in REST / RESTEasy client within Wildfly 26","body":"<p>I have a REST client using RESTEasy 4.7.7 running in Wildfly 26.1.3.Final (using Java 17), that fails due to a NullpointerException. Outside of Wildfly everything works fine.</p>\n<p>The client looks like this:</p>\n<pre><code>Client restClient = javax.ws.rs.client.ClientBuilder.newClient();\nWebTarget webTarget = restClient.target(baseUri + &quot;/api/Login&quot;);\n\nString jsonQuery = &quot;&lt;some-real-json&gt;&quot;;\n\nString token = null;\ntry {\n    Response response = webTarget.request(javax.ws.rs.core.MediaType.APPLICATION_JSON).accept(MIMETYPE_JSON).post(javax.ws.rs.client.Entity.entity(jsonQuery, javax.ws.rs.core.MediaType.APPLICATION_JSON));\n    String returnValue = response.readEntity(String.class);\n    if (response.getStatus() != 200) {\n        log.error(&quot;Could not authenticate with ePost API: &quot; + returnValue + &quot; [&quot; + response.getStatus() + &quot;]&quot;);\n        throw new EpostException(&quot;Could not authenticate with ePost API: &quot; + returnValue + &quot; [&quot; + response.getStatus() + &quot;]&quot;);\n    }\n\n    Object jsonOutput = Jsoner.deserialize(returnValue);\n    // output processing\n\n} catch (Exception ex) {\n    log.error(&quot;Could not authenticate with ePost API&quot;, ex);\n    throw new EpostException(ex.getMessage(), ex);\n} finally {\n    restClient.close();\n}\nreturn token;\n</code></pre>\n<p>Here's the stacktrace I am getting:</p>\n<pre><code>Caused by: java.lang.NullPointerException: Cannot invoke &quot;java.lang.reflect.Constructor.getParameterTypes()&quot; because &quot;constructor&quot; is null\n    at org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.ConstructorInjectorImpl.&lt;init&gt;(ConstructorInjectorImpl.java:55)\n    at org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.InjectorFactoryImpl.createConstructor(InjectorFactoryImpl.java:61)\n    at org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.providerfactory.ResteasyProviderFactoryImpl.injectedInstance(ResteasyProviderFactoryImpl.java:1398)\n    at org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.interception.jaxrs.JaxrsInterceptorRegistryImpl$AbstractInterceptorFactory.createInterceptor(JaxrsInterceptorRegistryImpl.java:150)\n    at org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.interception.jaxrs.JaxrsInterceptorRegistryImpl$OnDemandInterceptorFactory.initialize(JaxrsInterceptorRegistryImpl.java:168)\n    at org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.interception.jaxrs.JaxrsInterceptorRegistryImpl$OnDemandInterceptorFactory.checkInitialize(JaxrsInterceptorRegistryImpl.java:183)\n    at org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.interception.jaxrs.JaxrsInterceptorRegistryImpl$OnDemandInterceptorFactory.getInterceptor(JaxrsInterceptorRegistryImpl.java:193)\n    at org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.interception.jaxrs.JaxrsInterceptorRegistryImpl$AbstractInterceptorFactory.postMatch(JaxrsInterceptorRegistryImpl.java:138)\n    at org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.interception.jaxrs.JaxrsInterceptorRegistryImpl.postMatch(JaxrsInterceptorRegistryImpl.java:288)\n    at org.jboss.resteasy.resteasy-client@4.7.7.Final//org.jboss.resteasy.client.jaxrs.internal.ClientConfiguration.getRequestFilters(ClientConfiguration.java:120)\n    at org.jboss.resteasy.resteasy-client@4.7.7.Final//org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.getRequestFilters(ClientInvocation.java:460)\n    at org.jboss.resteasy.resteasy-client@4.7.7.Final//org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.filterRequest(ClientInvocation.java:759)\n    at org.jboss.resteasy.resteasy-client@4.7.7.Final//org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.invoke(ClientInvocation.java:491)\n    at org.jboss.resteasy.resteasy-client@4.7.7.Final//org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.invoke(ClientInvocation.java:69)\n    at org.jboss.resteasy.resteasy-client@4.7.7.Final//org.jboss.resteasy.client.jaxrs.internal.ClientInvocationBuilder.post(ClientInvocationBuilder.java:226)\n    at deployment.j-lawyer-server.ear//com.jdimension.jlawyer.epost.EpostAPI.login(EpostAPI.java:782)\n</code></pre>\n<p>Any ideas what could be wrong here? It happens when calling the &quot;post&quot; method. I have a feeling it has something to do with instantiating RESTEasy, but as I am not directly instantiating it myself, I do not know how to tackle this.</p>\n<p>Thanks!</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","azure-cosmosdb","azure-cosmosdb-sqlapi"],"comments":[{"owner":{"account_id":101080,"reputation":69720,"user_id":272109,"display_name":"David Makogon"},"score":0,"creation_date":1701295921,"post_id":77574593,"comment_id":136759660,"body_markdown":"Not quite sure about your query - it&#39;s not valid sql (I think you&#39;re missing a bit after the `from`). As for building your query - can&#39;t you just pass your query, as written? Also: be mindful of performance impact using `SUBSTRING()` if you&#39;re processing a lot of data (might be better to trim the resulting string after it&#39;s returned, vs executing a function on hundreds or thousands of strings)","body":"Not quite sure about your query - it&#39;s not valid sql (I think you&#39;re missing a bit after the <code>from</code>). As for building your query - can&#39;t you just pass your query, as written? Also: be mindful of performance impact using <code>SUBSTRING()</code> if you&#39;re processing a lot of data (might be better to trim the resulting string after it&#39;s returned, vs executing a function on hundreds or thousands of strings)"},{"owner":{"account_id":22307976,"reputation":95,"user_id":16532376,"display_name":"sai23"},"score":0,"creation_date":1701296360,"post_id":77574593,"comment_id":136759716,"body_markdown":"Sorry for the confusion basically I need to query `startDate=&quot;2023-11-17&quot;` whereas startDate is saved as `2023-11-17T08:11:30.225323`. How can I achieve this using `Criteria` @DavidMakogon","body":"Sorry for the confusion basically I need to query <code>startDate=&quot;2023-11-17&quot;</code> whereas startDate is saved as <code>2023-11-17T08:11:30.225323</code>. How can I achieve this using <code>Criteria</code> @DavidMakogon"},{"owner":{"account_id":12393022,"reputation":5220,"user_id":9034195,"accept_rate":100,"display_name":"NotFound"},"score":0,"creation_date":1701334760,"post_id":77574593,"comment_id":136763501,"body_markdown":"Query the datetime like it&#39;s a datetime. If you are only interested in the date part you can filter between the start of the day and end of the day. Which will also be a lot more optimized as it&#39;ll be able to leverage the index using a precise index scan.","body":"Query the datetime like it&#39;s a datetime. If you are only interested in the date part you can filter between the start of the day and end of the day. Which will also be a lot more optimized as it&#39;ll be able to leverage the index using a precise index scan."}],"owner":{"account_id":22307976,"reputation":95,"user_id":16532376,"display_name":"sai23"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701295796,"creation_date":1701293372,"question_id":77574593,"body_markdown":"I&#39;ve a document like this in db\r\n```json\r\n{\r\n   &quot;startDate&quot;: &quot;2023-11-17T08:11:30.225323&quot;\r\n}\r\n```\r\n\r\nWhen querying I can say\r\n```sql\r\nselect *\r\nfrom c.startDate = &quot;2023-11-17T08:11:30.225323&quot;\r\n```\r\nwhich is working. But I need to query only with `date part` so I did something like this `select SUBSTRING(c.effectiveDate,0,10)` which is giving me results because my input to the query will be like this `2023-11-17`. \r\n\r\nSo from query side it&#39;s all working but I&#39;m trying to build this query using java cosmos sdk. For this I&#39;m using something called Criteria from `com.azure.spring.data.cosmos.core.query.Criteria` package. For example for the above query I use something like this \r\n\r\n```\r\nCriteria c1 = Criteria.getInstance(CriteriaType.IS_EQUAL, &quot;startDate&quot;, Collections.singletonList(startDate), Part.IgnoreCaseType.NEVER);\r\n```\r\n\r\nNow using the same `Criteria` how do I achieve `SUBSTRING` functionality.\r\n","title":"Cosmos DB Substring query example","body":"<p>I've a document like this in db</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;startDate&quot;: &quot;2023-11-17T08:11:30.225323&quot;\n}\n</code></pre>\n<p>When querying I can say</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select *\nfrom c.startDate = &quot;2023-11-17T08:11:30.225323&quot;\n</code></pre>\n<p>which is working. But I need to query only with <code>date part</code> so I did something like this <code>select SUBSTRING(c.effectiveDate,0,10)</code> which is giving me results because my input to the query will be like this <code>2023-11-17</code>.</p>\n<p>So from query side it's all working but I'm trying to build this query using java cosmos sdk. For this I'm using something called Criteria from <code>com.azure.spring.data.cosmos.core.query.Criteria</code> package. For example for the above query I use something like this</p>\n<pre><code>Criteria c1 = Criteria.getInstance(CriteriaType.IS_EQUAL, &quot;startDate&quot;, Collections.singletonList(startDate), Part.IgnoreCaseType.NEVER);\n</code></pre>\n<p>Now using the same <code>Criteria</code> how do I achieve <code>SUBSTRING</code> functionality.</p>\n"},{"tags":["java","multithreading","javafx","serial-port","processbuilder"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1701262256,"post_id":77570313,"comment_id":136753469,"body_markdown":"There should only be one `Application` subclass (and one instance of it) in the application. If these are all supposed to be part of the same application, they should not be subclasses of `Application`.","body":"There should only be one <code>Application</code> subclass (and one instance of it) in the application. If these are all supposed to be part of the same application, they should not be subclasses of <code>Application</code>."},{"owner":{"account_id":10784037,"reputation":1,"user_id":7933662,"display_name":"Toobaa"},"score":0,"creation_date":1701270417,"post_id":77570313,"comment_id":136755213,"body_markdown":"Sorry for the confusion. All three are different classes and extending Application.\nThe one I mentioned as &#39;Main App&#39;, I wanted that app to be my main application that allows me to open another two through a button click.\nI actually achieve that thing with ProcessBuilder.","body":"Sorry for the confusion. All three are different classes and extending Application. The one I mentioned as &#39;Main App&#39;, I wanted that app to be my main application that allows me to open another two through a button click. I actually achieve that thing with ProcessBuilder."},{"owner":{"account_id":10784037,"reputation":1,"user_id":7933662,"display_name":"Toobaa"},"score":0,"creation_date":1701270754,"post_id":77570313,"comment_id":136755291,"body_markdown":"The reason I wanted my project to be like this is I wanted to make a connection between them so that I will be able to communicate with my device through app2 too.","body":"The reason I wanted my project to be like this is I wanted to make a connection between them so that I will be able to communicate with my device through app2 too."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1701270784,"post_id":77570313,"comment_id":136755300,"body_markdown":"*&quot;All three are different classes and extending Application.&quot;* But why? It doesn&#39;t make sense for all three to be subclasses of `Application`.","body":"<i>&quot;All three are different classes and extending Application.&quot;</i> But why? It doesn&#39;t make sense for all three to be subclasses of <code>Application</code>."},{"owner":{"account_id":10784037,"reputation":1,"user_id":7933662,"display_name":"Toobaa"},"score":0,"creation_date":1701275131,"post_id":77570313,"comment_id":136756272,"body_markdown":"well, I made all three apps as 3 different projects. but now I have been asked to completed a task. To achieve that task I have to make a project that requires to use the functionalities of all three apps.\nSO I had two options\nEither I coded everything from scratch and in place of application, I have to creates stages.\nor else this option of invoking one application window from another.","body":"well, I made all three apps as 3 different projects. but now I have been asked to completed a task. To achieve that task I have to make a project that requires to use the functionalities of all three apps. SO I had two options Either I coded everything from scratch and in place of application, I have to creates stages. or else this option of invoking one application window from another."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1701285203,"post_id":77570313,"comment_id":136758035,"body_markdown":"*&quot;I had two options&quot;*. You have a third option. Refactor each of the three apps so the UI is defined in a different class to the `Application` subclass. (This is a very quick and easy refactoring.) Then you can reuse the UI wherever you want without replicating it. There is no need to launch an entire application just because you want to open another window.","body":"<i>&quot;I had two options&quot;</i>. You have a third option. Refactor each of the three apps so the UI is defined in a different class to the <code>Application</code> subclass. (This is a very quick and easy refactoring.) Then you can reuse the UI wherever you want without replicating it. There is no need to launch an entire application just because you want to open another window."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1701288803,"post_id":77570313,"comment_id":136758621,"body_markdown":"*&quot;else I have to make a new project from scratch which I don&#39;t want to do now&quot;* -&gt; Just do that, even though you don&#39;t want to, or follow James suggestion for refactoring common code, it will be easier than trying to make apps communicate via the `Process` API.  You are looking for shortcuts, but the shortcuts you are trying to take are actually more difficult than the suggested paths.","body":"<i>&quot;else I have to make a new project from scratch which I don&#39;t want to do now&quot;</i> -&gt; Just do that, even though you don&#39;t want to, or follow James suggestion for refactoring common code, it will be easier than trying to make apps communicate via the <code>Process</code> API.  You are looking for shortcuts, but the shortcuts you are trying to take are actually more difficult than the suggested paths."},{"owner":{"account_id":10784037,"reputation":1,"user_id":7933662,"display_name":"Toobaa"},"score":0,"creation_date":1701341979,"post_id":77570313,"comment_id":136764813,"body_markdown":"Thank you for the guidance @James_D &amp; jewelsea. I&#39;ll look into the refactoring.","body":"Thank you for the guidance @James_D &amp; jewelsea. I&#39;ll look into the refactoring."}],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701295734,"creation_date":1701295734,"answer_id":77574757,"question_id":77570313,"body_markdown":"**Solution 1:**\r\n\r\nIf you have one JAR which contains your 3 applications, then you must refactor your code until you have only one application which wrapps them all.\r\n\r\n**Solution 2:**\r\n\r\nIf you have 3 JARs, separate ones for each application, then you can use the class `Runtime` or `ProcessBuilder` for starting the other JARs. \r\n\r\nExample: \r\n\r\n    ProcessBuilder pb = new ProcessBuilder(&quot;java&quot;, &quot;-jar&quot;, &quot;absolute path upto jar&quot;);\r\n    Process p = pb.start();\r\n\r\nNever use relative paths. And keep in mind that there is no real directory structure in your JARs. \r\nYou can try to use the JARs from outside the JAR, or zu get them via classpath with `getClass(). getResource(&quot;/a/b/c.jar&quot;)`.\r\n\r\n**Solution 3:**\r\n\r\nYou could think about using `Docker` with `Docker Compose`.","title":"To Open another Application from main Application in JavaFX VsCode","body":"<p><strong>Solution 1:</strong></p>\n<p>If you have one JAR which contains your 3 applications, then you must refactor your code until you have only one application which wrapps them all.</p>\n<p><strong>Solution 2:</strong></p>\n<p>If you have 3 JARs, separate ones for each application, then you can use the class <code>Runtime</code> or <code>ProcessBuilder</code> for starting the other JARs.</p>\n<p>Example:</p>\n<pre><code>ProcessBuilder pb = new ProcessBuilder(&quot;java&quot;, &quot;-jar&quot;, &quot;absolute path upto jar&quot;);\nProcess p = pb.start();\n</code></pre>\n<p>Never use relative paths. And keep in mind that there is no real directory structure in your JARs.\nYou can try to use the JARs from outside the JAR, or zu get them via classpath with <code>getClass(). getResource(&quot;/a/b/c.jar&quot;)</code>.</p>\n<p><strong>Solution 3:</strong></p>\n<p>You could think about using <code>Docker</code> with <code>Docker Compose</code>.</p>\n"}],"owner":{"account_id":10784037,"reputation":1,"user_id":7933662,"display_name":"Toobaa"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701295734,"creation_date":1701253580,"question_id":77570313,"body_markdown":"**Question**\r\nHey all. I am new to javafx coding so please level with me.\r\n\r\nI coded three applications with their own primary stage.\r\nbut now I want to open two of the applications from one application (which is going to be my main application)\r\nI am initializing two buttons in my main application and with the button click I want to open the other two application respectively.\r\n\r\nDetails:\r\nMain App;\r\nI created this app to establish a port connection with my device to communicate with it.\r\n\r\nApp 1 &amp; 2:\r\nThese app are created to generate a single page pdf file for different purpose.\r\nin these apps I am taking input from user but now I have to fill some fields by a button click that will take information from my device. For that matter I want to establish a connection with my device.\r\nThis is the reason I want to connect these three apps.\r\nelse I have to make a new project from scratch which I don&#39;t want to do now if there is any solution of my problem.\r\n\r\nI tried all the solutions I can find on internet but nothing is working for me. I don&#39;t know what to do now. PLEASE HELP\r\nThis one is my latest.\r\n\r\n```\r\n//Main App Code:\r\npublic class ConnectionTestApp extends Application {\r\npublic void start(Stage primaryStage) throws IOException {\r\n\r\n//code that sets the stage\r\n}\r\n\r\npublic void setupEventHandlers() throws IOException {\r\n\r\n   **// this button open App 1**\r\n\r\nbtnOpenCertificate.setOnAction(event -&gt; {\r\ntry {\r\nProcessBuilder CertificateAppBuilder = new ProcessBuilder(&quot;java&quot;,&quot;-cp&quot;,&quot;.&quot;,&quot;project.pdfcreation.CertificateAppFinal&quot;);\r\nProcess CertificateAppprocess = CertificateAppBuilder.start();\r\n\r\n            InputStream CertificateAppinputStream = CertificateAppprocess.getInputStream();\r\n            InputStream CertificateApperrorStream = CertificateAppprocess.getErrorStream();\r\n\r\n            readStream(&quot;App Output: &quot;, CertificateAppinputStream);\r\n            readStream(&quot;App Error: &quot;, CertificateApperrorStream);\r\n        }\r\n        catch (IOException e)\r\n        {\r\n            AlertMessages.showErrorDialogue(&quot;Error&quot;, &quot;Unable to open app: &quot;+ e.getMessage());\r\n        }\r\n            \r\n    });\r\n **// this button open App 1**\r\n\r\n    btnOpenInsDoc.setOnAction(event -&gt; {\r\n        try {\r\n            ProcessBuilder InspectionAppBuilder = new ProcessBuilder(&quot;java&quot;,&quot;-cp&quot;,&quot;.&quot;,&quot;project.pdfcreation.InspectionAppFinal&quot;);\r\n\r\n            Process InspectionAppprocess = InspectionAppBuilder.start();\r\n\r\n            InputStream InspectionAppinputStream = InspectionAppprocess.getInputStream();\r\n            InputStream InspectionApperrorStream = InspectionAppprocess.getErrorStream();\r\n\r\n            readStream(&quot;App2 Output: &quot;, InspectionAppinputStream);\r\n            readStream(&quot;App2 Error: &quot;,  InspectionApperrorStream);\r\n        }\r\n        catch (IOException e)\r\n        {\r\n            AlertMessages.showErrorDialogue(&quot;Error&quot;, &quot;Unable to open app: &quot;+ e.getMessage());\r\n        }\r\n\r\n    });\r\n}\r\npublic static void main(String[] args) {\r\nConnectionTestApp.launch(args);\r\n}\r\n}\r\n\r\n\r\n```\r\n\r\n[This is the error I am getting with this code](https://i.stack.imgur.com/JBjq5.png)\r\n\r\n## P.S:\r\nWhen I change InspectionAppFinal to InspectionAppFinal.java or InspectionAppFinal.class (In process builder) it opens the file in VS code and gives no error/exception. \r\nI&#39;m confused what I am missing or doing rong.\r\n\r\n## Context\r\nI am using JavaFX in VSCODE.\r\n\r\n## Java version:\r\nopenjdk version &quot;21.0.1&quot; 2023-10-17 LTS\r\nOpenJDK Runtime Environment Temurin-21.0.1+12 (build 21.0.1+12-LTS)\r\nOpenJDK 64-Bit Server VM Temurin-21.0.1+12 (build 21.0.1+12-LTS, mixed mode, sharing)\r\n\r\n## Operating system and platform:\r\nWindows 11\r\nVersion 10.0.22621 Build 22621 x64-based PC","title":"To Open another Application from main Application in JavaFX VsCode","body":"<p><strong>Question</strong>\nHey all. I am new to javafx coding so please level with me.</p>\n<p>I coded three applications with their own primary stage.\nbut now I want to open two of the applications from one application (which is going to be my main application)\nI am initializing two buttons in my main application and with the button click I want to open the other two application respectively.</p>\n<p>Details:\nMain App;\nI created this app to establish a port connection with my device to communicate with it.</p>\n<p>App 1 &amp; 2:\nThese app are created to generate a single page pdf file for different purpose.\nin these apps I am taking input from user but now I have to fill some fields by a button click that will take information from my device. For that matter I want to establish a connection with my device.\nThis is the reason I want to connect these three apps.\nelse I have to make a new project from scratch which I don't want to do now if there is any solution of my problem.</p>\n<p>I tried all the solutions I can find on internet but nothing is working for me. I don't know what to do now. PLEASE HELP\nThis one is my latest.</p>\n<pre><code>//Main App Code:\npublic class ConnectionTestApp extends Application {\npublic void start(Stage primaryStage) throws IOException {\n\n//code that sets the stage\n}\n\npublic void setupEventHandlers() throws IOException {\n\n   **// this button open App 1**\n\nbtnOpenCertificate.setOnAction(event -&gt; {\ntry {\nProcessBuilder CertificateAppBuilder = new ProcessBuilder(&quot;java&quot;,&quot;-cp&quot;,&quot;.&quot;,&quot;project.pdfcreation.CertificateAppFinal&quot;);\nProcess CertificateAppprocess = CertificateAppBuilder.start();\n\n            InputStream CertificateAppinputStream = CertificateAppprocess.getInputStream();\n            InputStream CertificateApperrorStream = CertificateAppprocess.getErrorStream();\n\n            readStream(&quot;App Output: &quot;, CertificateAppinputStream);\n            readStream(&quot;App Error: &quot;, CertificateApperrorStream);\n        }\n        catch (IOException e)\n        {\n            AlertMessages.showErrorDialogue(&quot;Error&quot;, &quot;Unable to open app: &quot;+ e.getMessage());\n        }\n            \n    });\n **// this button open App 1**\n\n    btnOpenInsDoc.setOnAction(event -&gt; {\n        try {\n            ProcessBuilder InspectionAppBuilder = new ProcessBuilder(&quot;java&quot;,&quot;-cp&quot;,&quot;.&quot;,&quot;project.pdfcreation.InspectionAppFinal&quot;);\n\n            Process InspectionAppprocess = InspectionAppBuilder.start();\n\n            InputStream InspectionAppinputStream = InspectionAppprocess.getInputStream();\n            InputStream InspectionApperrorStream = InspectionAppprocess.getErrorStream();\n\n            readStream(&quot;App2 Output: &quot;, InspectionAppinputStream);\n            readStream(&quot;App2 Error: &quot;,  InspectionApperrorStream);\n        }\n        catch (IOException e)\n        {\n            AlertMessages.showErrorDialogue(&quot;Error&quot;, &quot;Unable to open app: &quot;+ e.getMessage());\n        }\n\n    });\n}\npublic static void main(String[] args) {\nConnectionTestApp.launch(args);\n}\n}\n\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/JBjq5.png\" rel=\"nofollow noreferrer\">This is the error I am getting with this code</a></p>\n<h2>P.S:</h2>\n<p>When I change InspectionAppFinal to InspectionAppFinal.java or InspectionAppFinal.class (In process builder) it opens the file in VS code and gives no error/exception.\nI'm confused what I am missing or doing rong.</p>\n<h2>Context</h2>\n<p>I am using JavaFX in VSCODE.</p>\n<h2>Java version:</h2>\n<p>openjdk version &quot;21.0.1&quot; 2023-10-17 LTS\nOpenJDK Runtime Environment Temurin-21.0.1+12 (build 21.0.1+12-LTS)\nOpenJDK 64-Bit Server VM Temurin-21.0.1+12 (build 21.0.1+12-LTS, mixed mode, sharing)</p>\n<h2>Operating system and platform:</h2>\n<p>Windows 11\nVersion 10.0.22621 Build 22621 x64-based PC</p>\n"},{"tags":["java","cucumber"],"comments":[{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1701398601,"post_id":77574753,"comment_id":136773709,"body_markdown":"Did you read https://cucumber.io/docs/cucumber/state/?lang=java ?","body":"Did you read <a href=\"https://cucumber.io/docs/cucumber/state/?lang=java\" rel=\"nofollow noreferrer\">cucumber.io/docs/cucumber/state/?lang=java</a> ?"},{"owner":{"account_id":28828031,"reputation":1,"user_id":22079029,"display_name":"Jack"},"score":0,"creation_date":1701443389,"post_id":77574753,"comment_id":136779882,"body_markdown":"yes, I pass state between stepDefs via ScenarioContext class, as is mentioned here: https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-picocontainer  in Belly.java example\n\nbut I share state between stepDefs class, not operation.java classes","body":"yes, I pass state between stepDefs via ScenarioContext class, as is mentioned here: <a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-picocontainer\" rel=\"nofollow noreferrer\">github.com/cucumber/cucumber-jvm/tree/main/&hellip;</a>  in Belly.java example  but I share state between stepDefs class, not operation.java classes"},{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1701447112,"post_id":77574753,"comment_id":136780595,"body_markdown":"Okay. Then you should inject `ScenarioContext` into your operation classes. So don&#39;t use `new ScenarioContext` but let pico container inject it into the operation class. This also means you shouldn&#39;t use `new *Operation` in your `*Steps` classes.","body":"Okay. Then you should inject <code>ScenarioContext</code> into your operation classes. So don&#39;t use <code>new ScenarioContext</code> but let pico container inject it into the operation class. This also means you shouldn&#39;t use <code>new *Operation</code> in your <code>*Steps</code> classes."}],"owner":{"account_id":28828031,"reputation":1,"user_id":22079029,"display_name":"Jack"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701295650,"creation_date":1701295650,"question_id":77574753,"body_markdown":"So I have java files:\r\n\r\n\r\n```\r\nAuthorizationSteps.java\r\n     AuthorizationOperation.java\r\n\r\nUserSteps.java\r\n   UserOperation.java\r\n\r\n```\r\n\r\n\r\nin `AuthorizationOperation.java` I&#39;m obtaning a token using method `String token = getToken()` and passing to `AuthorizationSteps.java` as returned value. Then using pico container \r\n` scenarioContext.setContext(&quot;token&quot;, token)`; in `AuthorizationSteps.java` I&#39;m saving a token.\r\n\r\nThen in `UserSteps.java`: I&#39;m passing  `scenarioContext.getContext(&quot;token&quot;)`; token value to a method as parameter in `UserOperation.java.`   and this scenario works for me.\r\n\r\nThe question is: Is this possible to pass token from  `AuthorizationOperation.java` to  `UserOperation.java`?\r\n\r\n\r\nEach time when I try: \r\n`ScenarioContext scenarioContext = new ScenarioContext`;  in `UserOperation.java` and `AuthorizationOperation.java`  I&#39;m getting null token value ","title":"Cucumber pass value between operation files","body":"<p>So I have java files:</p>\n<pre><code>AuthorizationSteps.java\n     AuthorizationOperation.java\n\nUserSteps.java\n   UserOperation.java\n\n</code></pre>\n<p>in <code>AuthorizationOperation.java</code> I'm obtaning a token using method <code>String token = getToken()</code> and passing to <code>AuthorizationSteps.java</code> as returned value. Then using pico container\n<code> scenarioContext.setContext(&quot;token&quot;, token)</code>; in <code>AuthorizationSteps.java</code> I'm saving a token.</p>\n<p>Then in <code>UserSteps.java</code>: I'm passing  <code>scenarioContext.getContext(&quot;token&quot;)</code>; token value to a method as parameter in <code>UserOperation.java.</code>   and this scenario works for me.</p>\n<p>The question is: Is this possible to pass token from  <code>AuthorizationOperation.java</code> to  <code>UserOperation.java</code>?</p>\n<p>Each time when I try:\n<code>ScenarioContext scenarioContext = new ScenarioContext</code>;  in <code>UserOperation.java</code> and <code>AuthorizationOperation.java</code>  I'm getting null token value</p>\n"},{"tags":["java","linux","javafx","jar","raspberry-pi"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1701077961,"post_id":77555208,"comment_id":136725877,"body_markdown":"You need to use the [JavaFX](https://gluonhq.com/products/javafx/) that is compatible with the host operating system and architecture.","body":"You need to use the <a href=\"https://gluonhq.com/products/javafx/\" rel=\"nofollow noreferrer\">JavaFX</a> that is compatible with the host operating system and architecture."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1701100871,"post_id":77555208,"comment_id":136730266,"body_markdown":"Probable duplicate: [Error: JavaFX runtime components are missing, and are required to run this application with JDK 11](https://stackoverflow.com/questions/51478675/error-javafx-runtime-components-are-missing-and-are-required-to-run-this-appli).","body":"Probable duplicate: <a href=\"https://stackoverflow.com/questions/51478675/error-javafx-runtime-components-are-missing-and-are-required-to-run-this-appli\">Error: JavaFX runtime components are missing, and are required to run this application with JDK 11</a>."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1701101238,"post_id":77555208,"comment_id":136730343,"body_markdown":"Getting stuff to work on Pi is probably different.  Probably a totally different question (please keep questions focused).  There are probably articles around that describe that process, make sure you use ones that are use modern modular JavaFX distributions if you follow one.  There is [this](https://blogs.oracle.com/javamagazine/post/getting-started-with-javafx-on-raspberry-pi), but it is a bit dated.  Unforunately this [oracle guide](https://www.oracle.com/webfolder/technetwork/tutorials/obe/java/raspberrypifx/raspberryfx.html) is dated.","body":"Getting stuff to work on Pi is probably different.  Probably a totally different question (please keep questions focused).  There are probably articles around that describe that process, make sure you use ones that are use modern modular JavaFX distributions if you follow one.  There is <a href=\"https://blogs.oracle.com/javamagazine/post/getting-started-with-javafx-on-raspberry-pi\" rel=\"nofollow noreferrer\">this</a>, but it is a bit dated.  Unforunately this <a href=\"https://www.oracle.com/webfolder/technetwork/tutorials/obe/java/raspberrypifx/raspberryfx.html\" rel=\"nofollow noreferrer\">oracle guide</a> is dated."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1701101378,"post_id":77555208,"comment_id":136730379,"body_markdown":"Gluon provide a [modern guide for JavaFX on embedded systems such as Pi](https://docs.gluonhq.com/#platforms_embedded).","body":"Gluon provide a <a href=\"https://docs.gluonhq.com/#platforms_embedded\" rel=\"nofollow noreferrer\">modern guide for JavaFX on embedded systems such as Pi</a>."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1701108348,"post_id":77555208,"comment_id":136731689,"body_markdown":"Using `ea` distributions is not recommended.  They are early access distributions, not guaranteed to be stable.","body":"Using <code>ea</code> distributions is not recommended.  They are early access distributions, not guaranteed to be stable."}],"answers":[{"tags":[],"owner":{"account_id":9598629,"reputation":486,"user_id":7126967,"display_name":"Raw"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701071582,"creation_date":1701071582,"answer_id":77555269,"question_id":77555208,"body_markdown":"Maybe it would help to add to your POM\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n        &lt;version&gt;{YOUR_VERSION}&lt;/version&gt;\r\n        &lt;classifier&gt;linux&lt;/classifier&gt;\r\n    &lt;/dependency&gt;","title":"java -jar HelloFX.jar is running on windows perfectly, but not running in Linux or Raspberry pi","body":"<p>Maybe it would help to add to your POM</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n    &lt;version&gt;{YOUR_VERSION}&lt;/version&gt;\n    &lt;classifier&gt;linux&lt;/classifier&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":19842426,"reputation":41,"user_id":14534762,"display_name":"ProgrammerJibon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1701292291,"answer_count":1,"score":1,"last_activity_date":1701295000,"creation_date":1701070867,"question_id":77555208,"body_markdown":"Whenever I run java -jar HelloFX.jar command in Linux or raspberry pi, that application shows the error below, I&#39;m searching for a solution  from the last month over the internet, but not finding any valid solution. But the Jar file is working in different windows with JDK 21. I&#39;ve installed JDK 21 on Raspberry pi and my Linux too, other Java files are working well, but when I try to run JavaFX jar file, it&#39;s show these error.\r\n\r\n```\r\njibon@jibon:~/Desktop $ java -jar HelloFX.jar \r\nNov 27, 2023 1:24:11 PM com.sun.javafx.application.PlatformImpl startup\r\nWARNING: Unsupported JavaFX configuration: classes were loaded from &#39;unnamed module @9efff14&#39;\r\nGraphics Device initialization failed for :  es2, sw\r\nError initializing QuantumRenderer: no suitable pipeline found\r\njava.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\n\tat com.sun.javafx.tk.quantum.QuantumRenderer.getInstance(QuantumRenderer.java:283)\r\n\tat com.sun.javafx.tk.quantum.QuantumToolkit.init(QuantumToolkit.java:253)\r\n\tat com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:263)\r\n\tat com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:290)\r\n\tat com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:162)\r\n\tat com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:651)\r\n\tat com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:671)\r\n\tat com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\nCaused by: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\n\tat com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:95)\r\n\tat com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\r\n\t... 1 more\r\nException in thread &quot;main&quot; java.lang.RuntimeException: No toolkit found\r\n\tat com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:275)\r\n\tat com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:290)\r\n\tat com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:162)\r\n\tat com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:651)\r\n\tat com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:671)\r\n\tat com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n\r\n```\r\n\r\nI&#39;ve used IntelliJ IDE for building the JavaFX applications. As I told you, **it&#39;s working perfectly with different windows. But when I tried to run this on Linux or Raspberry Pi, it&#39;s shows me these errors.**   \r\nPlease give me a perfect solution for this.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/tV3Jo.png)](https://i.stack.imgur.com/tV3Jo.png)\r\n\r\n# Some files\r\n\r\n**POM.XML**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;pro.jibon.apps.hellofx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;HelloFX&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;HelloFX&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;junit.version&gt;5.9.2&lt;/junit.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.pi4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;pi4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;21-ea+24&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;21-ea+24&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;transformers&gt;\r\n                                &lt;transformer\r\n                                        implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                    &lt;mainClass&gt;pro.jibon.apps.hellofx.hellofx.Main&lt;/mainClass&gt;\r\n                                &lt;/transformer&gt;\r\n                            &lt;/transformers&gt;\r\n                            &lt;filters&gt;\r\n                                &lt;filter&gt;\r\n                                    &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                                    &lt;excludes&gt;\r\n                                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                                    &lt;/excludes&gt;\r\n                                &lt;/filter&gt;\r\n                            &lt;/filters&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.11.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;21&lt;/source&gt;\r\n                    &lt;target&gt;21&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\r\n                        &lt;id&gt;default-cli&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;pro.jibon.apps.hellofx.hellofx/pro.jibon.apps.hellofx.hellofx.Main\r\n                            &lt;/mainClass&gt;\r\n                            &lt;launcher&gt;app&lt;/launcher&gt;\r\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\r\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\r\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\r\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\r\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;archive&gt;\r\n                                &lt;manifest&gt;\r\n                                    &lt;mainClass&gt;pro.jibon.apps.hellofx.hellofx.Main&lt;/mainClass&gt;\r\n                                &lt;/manifest&gt;\r\n                            &lt;/archive&gt;\r\n                            &lt;descriptorRefs&gt;\r\n                                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                            &lt;/descriptorRefs&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n**HelloApplication.java**\r\n\r\n```\r\npackage pro.jibon.apps.hellofx.hellofx;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.beans.value.ChangeListener;\r\nimport javafx.beans.value.ObservableValue;\r\nimport javafx.event.EventHandler;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Alert;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.input.KeyCombination;\r\nimport javafx.scene.input.MouseEvent;\r\nimport javafx.scene.input.TouchEvent;\r\nimport javafx.stage.Stage;\r\nimport com.pi4j.io.gpio.GpioController;\r\nimport com.pi4j.io.gpio.GpioFactory;\r\nimport com.pi4j.io.gpio.GpioPinDigitalOutput;\r\nimport com.pi4j.io.gpio.PinState;\r\nimport com.pi4j.io.gpio.RaspiPin;\r\nimport javafx.stage.StageStyle;\r\nimport javafx.stage.Window;\r\nimport javafx.stage.WindowEvent;\r\n\r\nimport java.io.IOException;\r\n\r\n\r\npublic class HelloApplication extends Application {\r\n    @FXML\r\n    private Button button1;\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\r\n        Scene scene = new Scene(fxmlLoader.load(), stage.getMaxWidth(), stage.getMaxHeight());\r\n        stage.setTitle(&quot;Hello!&quot;);\r\n        stage.setScene(scene);\r\n        stage.initStyle(StageStyle.UTILITY);\r\n        stage.show();\r\n        button1 = (Button) scene.lookup(&quot;#btn&quot;);\r\n        button1.setText(&quot;Close&quot;);\r\n        button1.setOnAction(mouseEvent -&gt; {\r\n            stage.close();\r\n        });\r\n        stage.setOnCloseRequest(windowEvent -&gt; {\r\n            Alert alert = new Alert(Alert.AlertType.ERROR);\r\n            alert.setTitle(&quot;Wait&quot;);\r\n            alert.setContentText(&quot;Are feeling okay by clicking me huh?&quot;);\r\n            alert.setHeaderText(&quot;WTF yaar!&quot;);\r\n//            alert.show();\r\n            windowEvent.consume();\r\n        });\r\n        stage.setAlwaysOnTop(true);\r\n        stage.setResizable(false);\r\n        stage.setMaximized(true);\r\n        stage.setResizable(false);\r\n        stage.setFullScreen(true);\r\n        stage.setFullScreenExitKeyCombination(KeyCombination.NO_MATCH);\r\n        stage.fullScreenProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n            stage.setFullScreen(true);\r\n        });\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n\r\n    public static boolean isRunningOnRaspberryPi() {\r\n        try {\r\n            GpioController gpio = GpioFactory.getInstance();\r\n            gpio.shutdown();\r\n            return true;\r\n        } catch (UnsatisfiedLinkError e) {\r\n            return false;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**HelloView.FXML**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.geometry.*?&gt;\r\n&lt;?import javafx.scene.control.*?&gt;\r\n&lt;?import javafx.scene.effect.*?&gt;\r\n&lt;?import javafx.scene.layout.*?&gt;\r\n\r\n&lt;VBox xmlns=&quot;http://javafx.com/javafx/11.0.14-internal&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\r\n     &lt;padding&gt;\r\n         &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\r\n     &lt;/padding&gt;\r\n     &lt;ToolBar nodeOrientation=&quot;LEFT_TO_RIGHT&quot; prefHeight=&quot;40.0&quot; prefWidth=&quot;200.0&quot;&gt;\r\n         &lt;items&gt;\r\n             &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\r\n             &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\r\n             &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\r\n             &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\r\n             &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\r\n         &lt;/items&gt;\r\n     &lt;/ToolBar&gt;\r\n\r\n     &lt;Label fx:id=&quot;welcomeText&quot; /&gt;\r\n     &lt;Button fx:id=&quot;btn&quot; alignment=&quot;CENTER&quot; text=&quot;Hello!&quot;&gt;\r\n      &lt;effect&gt;\r\n         &lt;Blend /&gt;\r\n      &lt;/effect&gt;\r\n   &lt;/Button&gt;\r\n &lt;/VBox&gt;\r\n```\r\n\r\n**Main.java**\r\n\r\n```\r\npackage pro.jibon.apps.hellofx.hellofx;\r\n\r\nimport pro.jibon.apps.hellofx.hellofx.*\r\n        ;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        HelloApplication.main(args);\r\n    }\r\n}\r\n```\r\n\r\n# Some necessary screenshots\r\n\r\n[![enter image description here](https://i.stack.imgur.com/FUWmF.png)](https://i.stack.imgur.com/FUWmF.png)\r\n\r\n[![enter image description here](https://i.stack.imgur.com/D7Ui1.png)](https://i.stack.imgur.com/D7Ui1.png)\r\n\r\n[![enter image description here](https://i.stack.imgur.com/2akYX.png)](https://i.stack.imgur.com/2akYX.png)\r\n\r\n[![enter image description here](https://i.stack.imgur.com/q6L7r.png)](https://i.stack.imgur.com/q6L7r.png)\r\n\r\n# Output on Windows \r\n\r\n[![enter image description here](https://i.stack.imgur.com/Y2DDQ.png)](https://i.stack.imgur.com/Y2DDQ.png)\r\n\r\n# Output on Linux\r\n\r\n[![enter image description here](https://i.stack.imgur.com/6sIfS.png)](https://i.stack.imgur.com/6sIfS.png)","title":"java -jar HelloFX.jar is running on windows perfectly, but not running in Linux or Raspberry pi","body":"<p>Whenever I run java -jar HelloFX.jar command in Linux or raspberry pi, that application shows the error below, I'm searching for a solution  from the last month over the internet, but not finding any valid solution. But the Jar file is working in different windows with JDK 21. I've installed JDK 21 on Raspberry pi and my Linux too, other Java files are working well, but when I try to run JavaFX jar file, it's show these error.</p>\n<pre><code>jibon@jibon:~/Desktop $ java -jar HelloFX.jar \nNov 27, 2023 1:24:11 PM com.sun.javafx.application.PlatformImpl startup\nWARNING: Unsupported JavaFX configuration: classes were loaded from 'unnamed module @9efff14'\nGraphics Device initialization failed for :  es2, sw\nError initializing QuantumRenderer: no suitable pipeline found\njava.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n    at com.sun.javafx.tk.quantum.QuantumRenderer.getInstance(QuantumRenderer.java:283)\n    at com.sun.javafx.tk.quantum.QuantumToolkit.init(QuantumToolkit.java:253)\n    at com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:263)\n    at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:290)\n    at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:162)\n    at com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:651)\n    at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:671)\n    at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n    at java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n    at com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:95)\n    at com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\n    ... 1 more\nException in thread &quot;main&quot; java.lang.RuntimeException: No toolkit found\n    at com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:275)\n    at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:290)\n    at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:162)\n    at com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:651)\n    at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:671)\n    at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n    at java.base/java.lang.Thread.run(Thread.java:1583)\n\n</code></pre>\n<p>I've used IntelliJ IDE for building the JavaFX applications. As I told you, <strong>it's working perfectly with different windows. But when I tried to run this on Linux or Raspberry Pi, it's shows me these errors.</strong><br />\nPlease give me a perfect solution for this.</p>\n<p><a href=\"https://i.stack.imgur.com/tV3Jo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tV3Jo.png\" alt=\"enter image description here\" /></a></p>\n<h1>Some files</h1>\n<p><strong>POM.XML</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;pro.jibon.apps.hellofx&lt;/groupId&gt;\n    &lt;artifactId&gt;HelloFX&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;HelloFX&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;junit.version&gt;5.9.2&lt;/junit.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.pi4j&lt;/groupId&gt;\n            &lt;artifactId&gt;pi4j-core&lt;/artifactId&gt;\n            &lt;version&gt;1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;21-ea+24&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;21-ea+24&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.3&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer\n                                        implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                    &lt;mainClass&gt;pro.jibon.apps.hellofx.hellofx.Main&lt;/mainClass&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                            &lt;filters&gt;\n                                &lt;filter&gt;\n                                    &lt;artifact&gt;*:*&lt;/artifact&gt;\n                                    &lt;excludes&gt;\n                                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                                    &lt;/excludes&gt;\n                                &lt;/filter&gt;\n                            &lt;/filters&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.11.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;21&lt;/source&gt;\n                    &lt;target&gt;21&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;pro.jibon.apps.hellofx.hellofx/pro.jibon.apps.hellofx.hellofx.Main\n                            &lt;/mainClass&gt;\n                            &lt;launcher&gt;app&lt;/launcher&gt;\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;archive&gt;\n                                &lt;manifest&gt;\n                                    &lt;mainClass&gt;pro.jibon.apps.hellofx.hellofx.Main&lt;/mainClass&gt;\n                                &lt;/manifest&gt;\n                            &lt;/archive&gt;\n                            &lt;descriptorRefs&gt;\n                                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                            &lt;/descriptorRefs&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>HelloApplication.java</strong></p>\n<pre><code>package pro.jibon.apps.hellofx.hellofx;\n\nimport javafx.application.Application;\nimport javafx.beans.value.ChangeListener;\nimport javafx.beans.value.ObservableValue;\nimport javafx.event.EventHandler;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Alert;\nimport javafx.scene.control.Button;\nimport javafx.scene.input.KeyCombination;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.input.TouchEvent;\nimport javafx.stage.Stage;\nimport com.pi4j.io.gpio.GpioController;\nimport com.pi4j.io.gpio.GpioFactory;\nimport com.pi4j.io.gpio.GpioPinDigitalOutput;\nimport com.pi4j.io.gpio.PinState;\nimport com.pi4j.io.gpio.RaspiPin;\nimport javafx.stage.StageStyle;\nimport javafx.stage.Window;\nimport javafx.stage.WindowEvent;\n\nimport java.io.IOException;\n\n\npublic class HelloApplication extends Application {\n    @FXML\n    private Button button1;\n    @Override\n    public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load(), stage.getMaxWidth(), stage.getMaxHeight());\n        stage.setTitle(&quot;Hello!&quot;);\n        stage.setScene(scene);\n        stage.initStyle(StageStyle.UTILITY);\n        stage.show();\n        button1 = (Button) scene.lookup(&quot;#btn&quot;);\n        button1.setText(&quot;Close&quot;);\n        button1.setOnAction(mouseEvent -&gt; {\n            stage.close();\n        });\n        stage.setOnCloseRequest(windowEvent -&gt; {\n            Alert alert = new Alert(Alert.AlertType.ERROR);\n            alert.setTitle(&quot;Wait&quot;);\n            alert.setContentText(&quot;Are feeling okay by clicking me huh?&quot;);\n            alert.setHeaderText(&quot;WTF yaar!&quot;);\n//            alert.show();\n            windowEvent.consume();\n        });\n        stage.setAlwaysOnTop(true);\n        stage.setResizable(false);\n        stage.setMaximized(true);\n        stage.setResizable(false);\n        stage.setFullScreen(true);\n        stage.setFullScreenExitKeyCombination(KeyCombination.NO_MATCH);\n        stage.fullScreenProperty().addListener((observable, oldValue, newValue) -&gt; {\n            stage.setFullScreen(true);\n        });\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n    public static boolean isRunningOnRaspberryPi() {\n        try {\n            GpioController gpio = GpioFactory.getInstance();\n            gpio.shutdown();\n            return true;\n        } catch (UnsatisfiedLinkError e) {\n            return false;\n        }\n    }\n}\n</code></pre>\n<p><strong>HelloView.FXML</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.*?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.effect.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n\n&lt;VBox xmlns=&quot;http://javafx.com/javafx/11.0.14-internal&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\n     &lt;padding&gt;\n         &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\n     &lt;/padding&gt;\n     &lt;ToolBar nodeOrientation=&quot;LEFT_TO_RIGHT&quot; prefHeight=&quot;40.0&quot; prefWidth=&quot;200.0&quot;&gt;\n         &lt;items&gt;\n             &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\n             &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\n             &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\n             &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\n             &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\n         &lt;/items&gt;\n     &lt;/ToolBar&gt;\n\n     &lt;Label fx:id=&quot;welcomeText&quot; /&gt;\n     &lt;Button fx:id=&quot;btn&quot; alignment=&quot;CENTER&quot; text=&quot;Hello!&quot;&gt;\n      &lt;effect&gt;\n         &lt;Blend /&gt;\n      &lt;/effect&gt;\n   &lt;/Button&gt;\n &lt;/VBox&gt;\n</code></pre>\n<p><strong>Main.java</strong></p>\n<pre><code>package pro.jibon.apps.hellofx.hellofx;\n\nimport pro.jibon.apps.hellofx.hellofx.*\n        ;\n\npublic class Main {\n    public static void main(String[] args) {\n        HelloApplication.main(args);\n    }\n}\n</code></pre>\n<h1>Some necessary screenshots</h1>\n<p><a href=\"https://i.stack.imgur.com/FUWmF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FUWmF.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/D7Ui1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D7Ui1.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/2akYX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2akYX.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/q6L7r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q6L7r.png\" alt=\"enter image description here\" /></a></p>\n<h1>Output on Windows</h1>\n<p><a href=\"https://i.stack.imgur.com/Y2DDQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y2DDQ.png\" alt=\"enter image description here\" /></a></p>\n<h1>Output on Linux</h1>\n<p><a href=\"https://i.stack.imgur.com/6sIfS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6sIfS.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","try-catch","runtimeexception"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1701154824,"post_id":77561471,"comment_id":136736871,"body_markdown":"The catch-and-throw is completely pointless. Remove.","body":"The catch-and-throw is completely pointless. Remove."}],"answers":[{"comments":[{"owner":{"account_id":30009608,"reputation":11,"user_id":22997580,"display_name":"HXNVN"},"score":0,"creation_date":1701149683,"post_id":77561485,"comment_id":136736347,"body_markdown":"Actually, I can&#39;t manipulate the &#39;public static void main(String[] args&#39; part of the task, but I don&#39;t think I can do anything other than this method. Thank you!","body":"Actually, I can&#39;t manipulate the &#39;public static void main(String[] args&#39; part of the task, but I don&#39;t think I can do anything other than this method. Thank you!"}],"tags":[],"owner":{"account_id":14261458,"reputation":590,"user_id":10302104,"display_name":"smallpepperz"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701148981,"creation_date":1701148443,"answer_id":77561485,"question_id":77561471,"body_markdown":"To prevent the program from exiting after the first error, you should use a [try-catch block][1] on the calls themselves, not inside the function where they&#39;re thrown. If you handle them in the same place you throw them, you may as well not be throwing them at all, and if you try and handle all three function calls within the same try-catch block, it will exit after the first error.\r\n```java\r\nimport java.lang.*;\r\n\r\nclass Main {\r\n    public static String len_check(String str) {\r\n        if (str.length() &gt; 20) {\r\n            throw new RuntimeException(&quot;Length is greater than 20&quot;);\r\n        } else if (str == null) {\r\n            throw new RuntimeException(&quot;null&quot;);\r\n        } else {\r\n            return str;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            System.out.println(len_check(&quot;abcdefghijklmnopqrs&quot;));// abcdefghijklmnopqrs\r\n        } catch (Exception e) {\r\n            e.printStackTrace()\r\n        }\r\n\r\n        try {\r\n            System.out.println(len_check(&quot;abcdefghijklmnopqrsuvw&quot;));\r\n        } catch (Exception e) {\r\n            e.printStackTrace()\r\n        }\r\n\r\n        try {\r\n            System.out.println(len_check(null));\r\n        } catch (Exception e) {\r\n            e.printStackTrace()\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.w3schools.com/java/java_try_catch.asp","title":"I&#39;m having a hard time solving problems using try-catch syntax in Java","body":"<p>To prevent the program from exiting after the first error, you should use a <a href=\"https://www.w3schools.com/java/java_try_catch.asp\" rel=\"nofollow noreferrer\">try-catch block</a> on the calls themselves, not inside the function where they're thrown. If you handle them in the same place you throw them, you may as well not be throwing them at all, and if you try and handle all three function calls within the same try-catch block, it will exit after the first error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.*;\n\nclass Main {\n    public static String len_check(String str) {\n        if (str.length() &gt; 20) {\n            throw new RuntimeException(&quot;Length is greater than 20&quot;);\n        } else if (str == null) {\n            throw new RuntimeException(&quot;null&quot;);\n        } else {\n            return str;\n        }\n    }\n\n    public static void main(String[] args) {\n        try {\n            System.out.println(len_check(&quot;abcdefghijklmnopqrs&quot;));// abcdefghijklmnopqrs\n        } catch (Exception e) {\n            e.printStackTrace()\n        }\n\n        try {\n            System.out.println(len_check(&quot;abcdefghijklmnopqrsuvw&quot;));\n        } catch (Exception e) {\n            e.printStackTrace()\n        }\n\n        try {\n            System.out.println(len_check(null));\n        } catch (Exception e) {\n            e.printStackTrace()\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701294035,"creation_date":1701154160,"answer_id":77561820,"question_id":77561471,"body_markdown":"The _[try-catch](https://docs.oracle.com/javase/tutorial/essential/exceptions/handling.html)_ block isn&#39;t necessary in the _len_check_ method.\\\r\nAnd, you&#39;ll need to re-factor the _if-statements_, checking _null_ first.\r\n\r\n```java\r\nstatic String len_check(String str) {\r\n    if (str == null) throw new RuntimeException(&quot;null&quot;);\r\n    else if (str.length() &gt; 20)\r\n        throw new RuntimeException(&quot;Length is greater than 20&quot;);\r\n    return str;\r\n}\r\n```\r\n\r\nIf you want to test different values, you&#39;ll need to contain each _len_check_ call within a _try-catch_.\r\n\r\n```java\r\ntry {\r\n    System.out.println(len_check(&quot;abcdefghijklmnopqrs&quot;));// abcdefghijklmnopqrs\r\n} catch (Exception e) {\r\n    e.printStackTrace();\r\n}\r\ntry {\r\n    System.out.println(len_check(&quot;abcdefghijklmnopqrsuvw&quot;));\r\n} catch (Exception e) {\r\n    e.printStackTrace();\r\n}\r\ntry {\r\n    System.out.println(len_check(null));\r\n} catch (Exception e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nabcdefghijklmnopqrs\r\njava.lang.RuntimeException: Length is greater than 20\r\n\tat Main.len_check(Main.java:17)\r\n\tat Main.main(Main.java:8)\r\njava.lang.RuntimeException: null\r\n\tat Main.len_check(Main.java:15)\r\n\tat Main.main(Main.java:8)\r\n```","title":"I&#39;m having a hard time solving problems using try-catch syntax in Java","body":"<p>The <em><a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/handling.html\" rel=\"nofollow noreferrer\">try-catch</a></em> block isn't necessary in the <em>len_check</em> method.<br />\nAnd, you'll need to re-factor the <em>if-statements</em>, checking <em>null</em> first.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static String len_check(String str) {\n    if (str == null) throw new RuntimeException(&quot;null&quot;);\n    else if (str.length() &gt; 20)\n        throw new RuntimeException(&quot;Length is greater than 20&quot;);\n    return str;\n}\n</code></pre>\n<p>If you want to test different values, you'll need to contain each <em>len_check</em> call within a <em>try-catch</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    System.out.println(len_check(&quot;abcdefghijklmnopqrs&quot;));// abcdefghijklmnopqrs\n} catch (Exception e) {\n    e.printStackTrace();\n}\ntry {\n    System.out.println(len_check(&quot;abcdefghijklmnopqrsuvw&quot;));\n} catch (Exception e) {\n    e.printStackTrace();\n}\ntry {\n    System.out.println(len_check(null));\n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>abcdefghijklmnopqrs\njava.lang.RuntimeException: Length is greater than 20\n    at Main.len_check(Main.java:17)\n    at Main.main(Main.java:8)\njava.lang.RuntimeException: null\n    at Main.len_check(Main.java:15)\n    at Main.main(Main.java:8)\n</code></pre>\n"}],"owner":{"account_id":30009608,"reputation":11,"user_id":22997580,"display_name":"HXNVN"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77561485,"answer_count":2,"score":0,"last_activity_date":1701294035,"creation_date":1701147979,"question_id":77561471,"body_markdown":"If the length of the string exceeds 20 because the string is inputted with str\r\n\r\nGenerates RuntimeException with string &quot;More than 20 words&quot;\r\n\r\nIf str is null, it will generate RuntimeException with string &quot;null&quot;\r\n\r\nIf this is not the case in either case, write a len_check function that returns the received string as it is.\r\n\r\nExample output.\r\n\r\n```\r\nSystem.out.println(len_check(&quot;abcdefghijklmnopqrs&quot;));\r\n```\r\n\r\n```\r\nabcdefghijklmnopqrs\r\n```\r\n\r\n```\r\nSystem.out.println(len_check(&quot;abcdefghijklmnopqrsuvw&quot;));\r\n```\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.RuntimeException: More than 20 words\r\n\tat ...\r\n```\r\n\r\n```\r\nSystem.out.println(len_check(null));\r\n```\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.RuntimeException: null\r\n\tat ...\r\n```\r\n\r\n```java\r\nimport java.lang.*;\r\n\r\nclass Main {\r\n\r\n\tpublic static String len_check(String str) {\r\n\t\ttry {\r\n\t\t\tif (str.length() &gt; 20) {\r\n\t\t\t\tthrow new RuntimeException(&quot;Length is greater than 20&quot;);\r\n\t\t\t} else if (str == null) {\r\n\t\t\t\tthrow new RuntimeException(&quot;null&quot;);\r\n\t\t\t} else {\r\n\t\t\t\treturn str;\r\n\t\t\t}\r\n\t\t} catch (RuntimeException e) {\r\n\t\t\tthrow e;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(len_check(&quot;abcdefghijklmnopqrs&quot;));// abcdefghijklmnopqrs\r\n\t\tSystem.out.println(len_check(&quot;abcdefghijklmnopqrsuvw&quot;));\r\n\t\tSystem.out.println(len_check(null));\r\n\t}\r\n}\r\n```\r\n\r\nAn error occurs in the second print statement while being output (this is my intended error) and stops. I want it to be printed out until the last error.","title":"I&#39;m having a hard time solving problems using try-catch syntax in Java","body":"<p>If the length of the string exceeds 20 because the string is inputted with str</p>\n<p>Generates RuntimeException with string &quot;More than 20 words&quot;</p>\n<p>If str is null, it will generate RuntimeException with string &quot;null&quot;</p>\n<p>If this is not the case in either case, write a len_check function that returns the received string as it is.</p>\n<p>Example output.</p>\n<pre><code>System.out.println(len_check(&quot;abcdefghijklmnopqrs&quot;));\n</code></pre>\n<pre><code>abcdefghijklmnopqrs\n</code></pre>\n<pre><code>System.out.println(len_check(&quot;abcdefghijklmnopqrsuvw&quot;));\n</code></pre>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: More than 20 words\n    at ...\n</code></pre>\n<pre><code>System.out.println(len_check(null));\n</code></pre>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: null\n    at ...\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.*;\n\nclass Main {\n\n    public static String len_check(String str) {\n        try {\n            if (str.length() &gt; 20) {\n                throw new RuntimeException(&quot;Length is greater than 20&quot;);\n            } else if (str == null) {\n                throw new RuntimeException(&quot;null&quot;);\n            } else {\n                return str;\n            }\n        } catch (RuntimeException e) {\n            throw e;\n        }\n    }\n\n    public static void main(String[] args) {\n        System.out.println(len_check(&quot;abcdefghijklmnopqrs&quot;));// abcdefghijklmnopqrs\n        System.out.println(len_check(&quot;abcdefghijklmnopqrsuvw&quot;));\n        System.out.println(len_check(null));\n    }\n}\n</code></pre>\n<p>An error occurs in the second print statement while being output (this is my intended error) and stops. I want it to be printed out until the last error.</p>\n"},{"tags":["java","spring-boot","azure","azure-active-directory"],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700557000,"creation_date":1700557000,"answer_id":77521491,"question_id":77507098,"body_markdown":"You have followed the steps to generate a certificate, uploaded it to Azure, and configured your `application.yml` with the public key, but you are receiving an error stating that the &#39;client_id&#39; parameter is missing.\r\n\r\nFrom the error message in the last screenshot, it seems that the AzureAD authentication process is not receiving the `client_id` parameter as part of the request, as in [this question](https://stackoverflow.com/q/69393785/6309) or [this one](https://stackoverflow.com/a/72572698/6309).  \r\n\r\n\r\nFrom your `application.yml`, I have a few suggestions:\r\n\r\n- The `provider` under `registration` should match the name of the provider under `provider`. In your configuration, the provider is named `azure` in both sections, which is correct. But make sure this consistency is maintained throughout the application.\r\n\r\n- The scopes specified under `registration` are typically correct for OpenID Connect (`openid`, `email`, `profile`). Check that the scopes align with what your application requires and what Azure AD is configured to allow.\r\n\r\n- The `jwt.key-set-uri` under `provider` should be unnecessary in the context of client authentication using `private_key_jwt`. That setting is typically used by resource servers to validate JWTs, not by clients to authenticate to the authorization server.\r\n\r\n- If using `private_key_jwt` for authentication, the `client-secret` should not be present, as this authentication method uses a private key instead of a client secret. (as confirmed in &quot;[How to Get an Azure Access Token Using Self-signed Certificate with Spring Boot](https://medium.com/codex/how-to-get-an-azure-access-token-using-self-signed-certificate-with-spring-boot-140dac047454)&quot; from [Milos Zivkovic](https://medium.com/@zivce/about))\r\n\r\n\r\n- The Baeldung guide mentions setting up redirection URIs for the authorization code flow, but this is not directly represented in the `application.yml`. If using the authorization code flow, make sure the redirect URIs are correctly configured in the Azure AD application registration and, if necessary, specified in your Spring Security configuration.\r\n   ```yaml\r\n   # This is an optional setting depending on your setup\r\n   registration:\r\n     azure-dev:\r\n       redirect-uri: &quot;{baseUrl}/login/oauth2/code/{registrationId}&quot;\r\n   ```\r\n\r\n- Make sure the URLs for `issuer-uri` and `jwk-set-uri` are correctly typed and match your Azure AD configuration. Typographical errors in URLs can lead to failures in fetching the necessary metadata and keys.\r\n\r\n- If you are using `private_key_jwt`, make sure Azure AD is configured to accept a JWT signed with your private key as a means of client authentication.\r\n\r\n- Depending on the OAuth flow you are using (e.g., authorization code vs. client credentials), make sure the `authorization-grant-type` is correctly specified in the `registration` section. That is not included in the provided configuration but is necessary for some OAuth flows.\r\n   ```yaml\r\n   registration:\r\n     azure-dev:\r\n       authorization-grant-type: authorization_code\r\n       # Use &quot;client_credentials&quot; for service-to-service communication\r\n   ```\r\n","title":"AzureAD configuration with public key authentication on Spring Boot","body":"<p>You have followed the steps to generate a certificate, uploaded it to Azure, and configured your <code>application.yml</code> with the public key, but you are receiving an error stating that the 'client_id' parameter is missing.</p>\n<p>From the error message in the last screenshot, it seems that the AzureAD authentication process is not receiving the <code>client_id</code> parameter as part of the request, as in <a href=\"https://stackoverflow.com/q/69393785/6309\">this question</a> or <a href=\"https://stackoverflow.com/a/72572698/6309\">this one</a>.</p>\n<p>From your <code>application.yml</code>, I have a few suggestions:</p>\n<ul>\n<li><p>The <code>provider</code> under <code>registration</code> should match the name of the provider under <code>provider</code>. In your configuration, the provider is named <code>azure</code> in both sections, which is correct. But make sure this consistency is maintained throughout the application.</p>\n</li>\n<li><p>The scopes specified under <code>registration</code> are typically correct for OpenID Connect (<code>openid</code>, <code>email</code>, <code>profile</code>). Check that the scopes align with what your application requires and what Azure AD is configured to allow.</p>\n</li>\n<li><p>The <code>jwt.key-set-uri</code> under <code>provider</code> should be unnecessary in the context of client authentication using <code>private_key_jwt</code>. That setting is typically used by resource servers to validate JWTs, not by clients to authenticate to the authorization server.</p>\n</li>\n<li><p>If using <code>private_key_jwt</code> for authentication, the <code>client-secret</code> should not be present, as this authentication method uses a private key instead of a client secret. (as confirmed in &quot;<a href=\"https://medium.com/codex/how-to-get-an-azure-access-token-using-self-signed-certificate-with-spring-boot-140dac047454\" rel=\"nofollow noreferrer\">How to Get an Azure Access Token Using Self-signed Certificate with Spring Boot</a>&quot; from <a href=\"https://medium.com/@zivce/about\" rel=\"nofollow noreferrer\">Milos Zivkovic</a>)</p>\n</li>\n<li><p>The Baeldung guide mentions setting up redirection URIs for the authorization code flow, but this is not directly represented in the <code>application.yml</code>. If using the authorization code flow, make sure the redirect URIs are correctly configured in the Azure AD application registration and, if necessary, specified in your Spring Security configuration.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code># This is an optional setting depending on your setup\nregistration:\n   azure-dev:\n     redirect-uri: &quot;{baseUrl}/login/oauth2/code/{registrationId}&quot;\n</code></pre>\n</li>\n<li><p>Make sure the URLs for <code>issuer-uri</code> and <code>jwk-set-uri</code> are correctly typed and match your Azure AD configuration. Typographical errors in URLs can lead to failures in fetching the necessary metadata and keys.</p>\n</li>\n<li><p>If you are using <code>private_key_jwt</code>, make sure Azure AD is configured to accept a JWT signed with your private key as a means of client authentication.</p>\n</li>\n<li><p>Depending on the OAuth flow you are using (e.g., authorization code vs. client credentials), make sure the <code>authorization-grant-type</code> is correctly specified in the <code>registration</code> section. That is not included in the provided configuration but is necessary for some OAuth flows.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>registration:\n   azure-dev:\n     authorization-grant-type: authorization_code\n     # Use &quot;client_credentials&quot; for service-to-service communication\n</code></pre>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":29874264,"reputation":478,"user_id":22894892,"display_name":"Laurent Schoelens"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701077936,"creation_date":1701077936,"answer_id":77555862,"question_id":77507098,"body_markdown":"Since your error message complains about not having `client-id` in request body, I&#39;d suggest you to set the `client-authentication-method` parameter (next to the `client-id` property) in your `application.yml` file to `client_secret_post`.\r\n\r\nBy looking at `org.springframework.security.oauth2.client.endpoint.OAuth2ClientCredentialsGrantRequestEntityConverter.createParameters(OAuth2ClientCredentialsGrantRequest)` method, by setting this parameter, it&#39;ll send the client_id in request body\r\n\r\n```java\r\n\t@Override\r\n\tprotected MultiValueMap&lt;String, String&gt; createParameters(\r\n\t\t\tOAuth2ClientCredentialsGrantRequest clientCredentialsGrantRequest) {\r\n\t\tClientRegistration clientRegistration = clientCredentialsGrantRequest.getClientRegistration();\r\n\t\tMultiValueMap&lt;String, String&gt; parameters = new LinkedMultiValueMap&lt;&gt;();\r\n\t\tparameters.add(OAuth2ParameterNames.GRANT_TYPE, clientCredentialsGrantRequest.getGrantType().getValue());\r\n\t\tif (!CollectionUtils.isEmpty(clientRegistration.getScopes())) {\r\n\t\t\tparameters.add(OAuth2ParameterNames.SCOPE,\r\n\t\t\t\t\tStringUtils.collectionToDelimitedString(clientRegistration.getScopes(), &quot; &quot;));\r\n\t\t}\r\n        \r\n        // HERE IS THE SPRING MAGIC :)\r\n\t\tif (ClientAuthenticationMethod.CLIENT_SECRET_POST.equals(clientRegistration.getClientAuthenticationMethod())) {\r\n\t\t\tparameters.add(OAuth2ParameterNames.CLIENT_ID, clientRegistration.getClientId());\r\n\t\t\tparameters.add(OAuth2ParameterNames.CLIENT_SECRET, clientRegistration.getClientSecret());\r\n\t\t}\r\n\t\treturn parameters;\r\n\t}\r\n```\r\n\r\nSame logic applies to other related classes : \r\n\r\n - `org.springframework.security.oauth2.client.endpoint.OAuth2AuthorizationCodeGrantRequestEntityConverter`\r\n - `org.springframework.security.oauth2.client.endpoint.OAuth2PasswordGrantRequestEntityConverter`\r\n - `org.springframework.security.oauth2.client.endpoint.OAuth2RefreshTokenGrantRequestEntityConverter`\r\n\r\nHope it&#39;ll solve your problem","title":"AzureAD configuration with public key authentication on Spring Boot","body":"<p>Since your error message complains about not having <code>client-id</code> in request body, I'd suggest you to set the <code>client-authentication-method</code> parameter (next to the <code>client-id</code> property) in your <code>application.yml</code> file to <code>client_secret_post</code>.</p>\n<p>By looking at <code>org.springframework.security.oauth2.client.endpoint.OAuth2ClientCredentialsGrantRequestEntityConverter.createParameters(OAuth2ClientCredentialsGrantRequest)</code> method, by setting this parameter, it'll send the client_id in request body</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    protected MultiValueMap&lt;String, String&gt; createParameters(\n            OAuth2ClientCredentialsGrantRequest clientCredentialsGrantRequest) {\n        ClientRegistration clientRegistration = clientCredentialsGrantRequest.getClientRegistration();\n        MultiValueMap&lt;String, String&gt; parameters = new LinkedMultiValueMap&lt;&gt;();\n        parameters.add(OAuth2ParameterNames.GRANT_TYPE, clientCredentialsGrantRequest.getGrantType().getValue());\n        if (!CollectionUtils.isEmpty(clientRegistration.getScopes())) {\n            parameters.add(OAuth2ParameterNames.SCOPE,\n                    StringUtils.collectionToDelimitedString(clientRegistration.getScopes(), &quot; &quot;));\n        }\n        \n        // HERE IS THE SPRING MAGIC :)\n        if (ClientAuthenticationMethod.CLIENT_SECRET_POST.equals(clientRegistration.getClientAuthenticationMethod())) {\n            parameters.add(OAuth2ParameterNames.CLIENT_ID, clientRegistration.getClientId());\n            parameters.add(OAuth2ParameterNames.CLIENT_SECRET, clientRegistration.getClientSecret());\n        }\n        return parameters;\n    }\n</code></pre>\n<p>Same logic applies to other related classes :</p>\n<ul>\n<li><code>org.springframework.security.oauth2.client.endpoint.OAuth2AuthorizationCodeGrantRequestEntityConverter</code></li>\n<li><code>org.springframework.security.oauth2.client.endpoint.OAuth2PasswordGrantRequestEntityConverter</code></li>\n<li><code>org.springframework.security.oauth2.client.endpoint.OAuth2RefreshTokenGrantRequestEntityConverter</code></li>\n</ul>\n<p>Hope it'll solve your problem</p>\n"},{"comments":[{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1701293928,"post_id":77560193,"comment_id":136759420,"body_markdown":"@casper The fact that the bounty ended is not important: please, if you have a chance, test the linked example code: I tested myself and it works perfectly. I hope it would be of help to you as well.","body":"@casper The fact that the bounty ended is not important: please, if you have a chance, test the linked example code: I tested myself and it works perfectly. I hope it would be of help to you as well."}],"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701124423,"creation_date":1701122739,"answer_id":77560193,"question_id":77507098,"body_markdown":"The [Microsoft documentation](https://learn.microsoft.com/en-us/entra/identity-platform/v2-oauth2-client-creds-grant-flow#second-case-access-token-request-with-a-certificate) describes the necessary information that should be provided in order to perform an access token request with a certificate.\r\n\r\nYou need to perform a HTTP request like the following:\r\n\r\n```\r\nPOST /{tenant}/oauth2/v2.0/token HTTP/1.1               // Line breaks for clarity\r\nHost: login.microsoftonline.com:443\r\nContent-Type: application/x-www-form-urlencoded\r\n\r\nscope=https%3A%2F%2Fgraph.microsoft.com%2F.default\r\n&amp;client_id=97e0a5b7-d745-40b6-94fe-5f77d35c6e05\r\n&amp;client_assertion_type=urn%3Aietf%3Aparams%3Aoauth%3Aclient-assertion-type%3Ajwt-bearer\r\n&amp;client_assertion=eyJhbGciOiJSUzI1NiIsIng1dCI6Imd4OHRHeXN5amNScUtqRlBuZDdSRnd2d1pJMCJ9.eyJ{a lot of characters here}M8U3bSUKKJDEg\r\n&amp;grant_type=client_credentials\r\n```\r\n\r\nIn addition to the Entra ID tenant and the app client id, you need to indicate the client assertion type, it is a constant value, and a client assertion.\r\n\r\nThe client assertion is a JSON web token created and signed with the certificate registered as credentials for the application in the Azure Portal.\r\n\r\nThe characteristics of this JSON web token are described in detail [here](https://learn.microsoft.com/en-us/entra/identity-platform/certificate-credentials).\r\n\r\nUsing this type of authentication mechanism with Spring Boot is not obvious but fortunately you can find different examples that exemplifies how to that.\r\n\r\nConsider for instance [this excellent one](https://github.com/Azure-Samples/azure-spring-boot-samples/tree/main/aad/spring-security/servlet/oauth2/login-authenticate-using-private-key-jwt) provided as part of the azure samples repository in Github.\r\n\r\nBasically, it defines a set of [helper classes](https://github.com/Azure-Samples/azure-spring-boot-samples/tree/main/aad/spring-security/servlet/oauth2/login-authenticate-using-private-key-jwt/src/main/java/com/azure/spring/sample/reactive/servlet/oauth2/login/jwt/azure/activedirectory), especially [one](https://github.com/Azure-Samples/azure-spring-boot-samples/blob/main/aad/spring-security/servlet/oauth2/login-authenticate-using-private-key-jwt/src/main/java/com/azure/spring/sample/reactive/servlet/oauth2/login/jwt/azure/activedirectory/AzureActiveDirectoryJwtClientAuthenticationParametersConverter.java) defined in order to provide the `client_assertion` and `client_assertion_type` parameters when performing the request:\r\n\r\n```java\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.core.convert.converter.Converter;\r\nimport org.springframework.security.oauth2.client.endpoint.AbstractOAuth2AuthorizationGrantRequest;\r\nimport org.springframework.security.oauth2.client.registration.ClientRegistration;\r\nimport org.springframework.security.oauth2.core.ClientAuthenticationMethod;\r\nimport org.springframework.security.oauth2.core.endpoint.OAuth2ParameterNames;\r\nimport org.springframework.util.Assert;\r\nimport org.springframework.util.LinkedMultiValueMap;\r\nimport org.springframework.util.MultiValueMap;\r\n\r\nimport java.util.Map;\r\n\r\npublic class AzureActiveDirectoryJwtClientAuthenticationParametersConverter&lt;T extends AbstractOAuth2AuthorizationGrantRequest&gt;\r\n    implements Converter&lt;T, MultiValueMap&lt;String, String&gt;&gt; {\r\n\r\n    private final static Logger LOGGER =\r\n        LoggerFactory.getLogger(AzureActiveDirectoryJwtClientAuthenticationParametersConverter.class);\r\n    private static final String CLIENT_ASSERTION_TYPE_VALUE = &quot;urn:ietf:params:oauth:client-assertion-type:jwt-bearer&quot;;\r\n\r\n    private final Map&lt;String, AzureActiveDirectoryCertificateSignedJwtAssertionFactory&gt; factories;\r\n\r\n    public AzureActiveDirectoryJwtClientAuthenticationParametersConverter(\r\n        Map&lt;String, AzureActiveDirectoryCertificateSignedJwtAssertionFactory&gt; factories) {\r\n        this.factories = factories;\r\n    }\r\n\r\n    @Override\r\n    public MultiValueMap&lt;String, String&gt; convert(T authorizationGrantRequest) {\r\n        Assert.notNull(authorizationGrantRequest, &quot;authorizationGrantRequest cannot be null&quot;);\r\n\r\n        ClientRegistration registration = authorizationGrantRequest.getClientRegistration();\r\n        ClientAuthenticationMethod method = registration.getClientAuthenticationMethod();\r\n        if (!ClientAuthenticationMethod.PRIVATE_KEY_JWT.equals(registration.getClientAuthenticationMethod())) {\r\n            return null;\r\n        }\r\n\r\n        try {\r\n            return createParameters(registration);\r\n        } catch (AzureActiveDirectoryAssertionException exception) {\r\n            LOGGER.error(&quot;Failed to create parameters.&quot;, exception);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private MultiValueMap&lt;String, String&gt; createParameters(ClientRegistration registration) throws AzureActiveDirectoryAssertionException {\r\n        MultiValueMap&lt;String, String&gt; parameters = new LinkedMultiValueMap&lt;&gt;();\r\n        parameters.set(OAuth2ParameterNames.CLIENT_ASSERTION_TYPE, CLIENT_ASSERTION_TYPE_VALUE);\r\n        parameters.set(OAuth2ParameterNames.CLIENT_ASSERTION, createAssertion(registration));\r\n        return parameters;\r\n    }\r\n\r\n    private String createAssertion(ClientRegistration registration) throws AzureActiveDirectoryAssertionException {\r\n        return factories.get(registration.getRegistrationId()).createJwtAssertion();\r\n    }\r\n}\r\n```\r\n\r\nand [another one](https://github.com/Azure-Samples/azure-spring-boot-samples/blob/main/aad/spring-security/servlet/oauth2/login-authenticate-using-private-key-jwt/src/main/java/com/azure/spring/sample/reactive/servlet/oauth2/login/jwt/azure/activedirectory/AzureActiveDirectoryCertificateSignedJwtAssertionFactory.java) used to generate the appropriate JWT web token:\r\n\r\n```java\r\nimport com.nimbusds.jose.JOSEException;\r\nimport com.nimbusds.jose.JOSEObjectType;\r\nimport com.nimbusds.jose.JWSAlgorithm;\r\nimport com.nimbusds.jose.JWSHeader;\r\nimport com.nimbusds.jose.JWSSigner;\r\nimport com.nimbusds.jose.crypto.factories.DefaultJWSSignerFactory;\r\nimport com.nimbusds.jose.jwk.JWK;\r\nimport com.nimbusds.jose.jwk.RSAKey;\r\nimport com.nimbusds.jose.util.Base64URL;\r\nimport com.nimbusds.jwt.JWTClaimsSet;\r\nimport com.nimbusds.jwt.SignedJWT;\r\nimport org.springframework.util.Assert;\r\n\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\nimport java.security.KeyStore;\r\nimport java.security.KeyStoreException;\r\nimport java.security.MessageDigest;\r\nimport java.security.NoSuchAlgorithmException;\r\nimport java.security.PrivateKey;\r\nimport java.security.PublicKey;\r\nimport java.security.UnrecoverableKeyException;\r\nimport java.security.cert.CertificateEncodingException;\r\nimport java.security.cert.CertificateException;\r\nimport java.security.cert.X509Certificate;\r\nimport java.security.interfaces.RSAPublicKey;\r\nimport java.util.Date;\r\nimport java.util.UUID;\r\n\r\n/**\r\n * A factory used to create Microsoft Entra JWT assertion signed with a certificate.\r\n *\r\n * @author Rujun Chen\r\n * @see &lt;a href=&quot;https://docs.microsoft.com/azure/active-directory/develop/active-directory-certificate-credentials&quot;&gt;\r\n * Certificate credentials&lt;/a&gt;\r\n * @since 2022-02-18\r\n */\r\npublic class AzureActiveDirectoryCertificateSignedJwtAssertionFactory {\r\n\r\n    private final JWSSigner signer;\r\n    private final JWSHeader header;\r\n    private final JWTClaimsSet templateClaims;\r\n\r\n    /**\r\n     * @param file Path of certificate file. The file should contain encrypted private key and certificate.\r\n     * And the file name should have &quot;.pfx&quot; as suffix.\r\n     * @param password The password of the encrypted private key in certificate file.\r\n     * @throws AzureActiveDirectoryAssertionException if failed to create factory.\r\n     */\r\n    public AzureActiveDirectoryCertificateSignedJwtAssertionFactory(String file, String password, String tenantId,\r\n                                                                    String clientId) throws AzureActiveDirectoryAssertionException {\r\n        try {\r\n            String fileExtension = file.substring(file.lastIndexOf(&quot;.&quot;) + 1);\r\n            Assert.isTrue(&quot;pfx&quot;.equals(fileExtension), &quot;Only support file with &#39;.pfx&#39; extension.&quot;);\r\n            KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n            keyStore.load(new FileInputStream(file), password.toCharArray());\r\n            String alias = keyStore.aliases().nextElement();\r\n            PrivateKey privateKey = (PrivateKey) keyStore.getKey(alias, password.toCharArray());\r\n            X509Certificate x509Certificate = (X509Certificate) keyStore.getCertificate(alias);\r\n            PublicKey publicKey = x509Certificate.getPublicKey();\r\n            signer = createJWSSigner(publicKey, privateKey);\r\n            header = createJWSHeader(x509Certificate);\r\n            templateClaims = createTemplateJWTClaims(tenantId, clientId);\r\n        } catch (KeyStoreException | IOException | CertificateException | NoSuchAlgorithmException |\r\n            UnrecoverableKeyException | JOSEException exception) {\r\n            throw new AzureActiveDirectoryAssertionException(&quot;Failed to create factory.&quot;, exception);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Create JWT assertion\r\n     *\r\n     * @throws AzureActiveDirectoryAssertionException If failed to create assertion.\r\n     */\r\n    public String createJwtAssertion() throws AzureActiveDirectoryAssertionException {\r\n        JWTClaimsSet claims = createJWTClaimsSet();\r\n        SignedJWT signedJwt = new SignedJWT(header, claims);\r\n        try {\r\n            signedJwt.sign(signer);\r\n        } catch (JOSEException exception) {\r\n            throw new AzureActiveDirectoryAssertionException(&quot;Failed to sign JWT.&quot;, exception);\r\n        }\r\n        return signedJwt.serialize();\r\n    }\r\n\r\n    private JWSSigner createJWSSigner(PublicKey publicKey, PrivateKey privateKey) throws JOSEException {\r\n        // Microsoft Entra ID currently supports only RSA.\r\n        // Refs: https://docs.microsoft.com/en-us/azure/active-directory/develop/howto-create-self-signed-certificate\r\n        JWK jwk = new RSAKey.Builder((RSAPublicKey) publicKey)\r\n            .privateKey(privateKey)\r\n            .keyID(UUID.randomUUID().toString())\r\n            .build();\r\n        return new DefaultJWSSignerFactory().createJWSSigner(jwk);\r\n    }\r\n\r\n    @SuppressWarnings(&quot;deprecation&quot;)\r\n    private JWSHeader createJWSHeader(X509Certificate x509Certificate) throws CertificateEncodingException,\r\n        NoSuchAlgorithmException {\r\n        return new JWSHeader.Builder(JWSAlgorithm.RS256)\r\n            .type(JOSEObjectType.JWT)\r\n            .x509CertThumbprint(Base64URL.encode(getX5t(x509Certificate)))\r\n            .build();\r\n    }\r\n\r\n    private byte[] getX5t(X509Certificate cert)\r\n        throws NoSuchAlgorithmException, CertificateEncodingException {\r\n        MessageDigest digest = MessageDigest.getInstance(&quot;SHA-1&quot;);\r\n        byte[] der = cert.getEncoded();\r\n        digest.update(der);\r\n        return digest.digest();\r\n    }\r\n\r\n    private JWTClaimsSet createTemplateJWTClaims(String tenantId, String clientId) {\r\n        return new JWTClaimsSet.Builder()\r\n            .audience(String.format(&quot;https://login.microsoftonline.com/%s/v2.0&quot;, tenantId))\r\n            .issuer(clientId)\r\n            .subject(clientId)\r\n            .build();\r\n    }\r\n\r\n    private JWTClaimsSet createJWTClaimsSet() {\r\n        Date currentTime = new Date();\r\n        return new JWTClaimsSet.Builder(templateClaims)\r\n            .expirationTime(Date.from(currentTime.toInstant().plusSeconds(300))) // 5 minutes after currentTime.\r\n            .jwtID(UUID.randomUUID().toString())\r\n            .notBeforeTime(currentTime)\r\n            .issueTime(currentTime)\r\n            .build();\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n[This configuration class](https://github.com/Azure-Samples/azure-spring-boot-samples/blob/main/aad/spring-security/servlet/oauth2/login-authenticate-using-private-key-jwt/src/main/java/com/azure/spring/sample/reactive/servlet/oauth2/login/jwt/configuration/WebSecurityConfiguration.java) glues everything together:\r\n\r\n```java\r\nimport com.azure.spring.sample.reactive.servlet.oauth2.login.jwt.azure.activedirectory.AzureActiveDirectoryAssertionException;\r\nimport com.azure.spring.sample.reactive.servlet.oauth2.login.jwt.azure.activedirectory.AzureActiveDirectoryCertificateSignedJwtAssertionFactory;\r\nimport com.azure.spring.sample.reactive.servlet.oauth2.login.jwt.azure.activedirectory.AzureActiveDirectoryJwtClientAuthenticationParametersConverter;\r\nimport org.springframework.core.env.Environment;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.oauth2.client.endpoint.DefaultAuthorizationCodeTokenResponseClient;\r\nimport org.springframework.security.oauth2.client.endpoint.OAuth2AuthorizationCodeGrantRequestEntityConverter;\r\nimport org.springframework.security.oauth2.client.registration.ClientRegistration;\r\nimport org.springframework.security.oauth2.client.registration.ClientRegistrationRepository;\r\nimport org.springframework.util.StringUtils;\r\n\r\nimport java.util.Collections;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\n@EnableWebSecurity\r\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    private static final Pattern ISSUER_URI_PATTERN = Pattern.compile(&quot;https://login.microsoftonline.com/(.*?)/v2.0&quot;);\r\n\r\n    private final Environment environment;\r\n    private final ClientRegistrationRepository repository;\r\n\r\n    public WebSecurityConfiguration(Environment environment, ClientRegistrationRepository repository) {\r\n        this.environment = environment;\r\n        this.repository = repository;\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        // @formatter:off\r\n        http.oauth2Login()\r\n                .tokenEndpoint()\r\n                  // Please, note the name of the client provided, \r\n                  // as we will see it will match the one in the configuration\r\n                    .accessTokenResponseClient(accessTokenResponseClient(Collections.singletonList(&quot;client-1&quot;), repository))\r\n                    .and()\r\n                .and()\r\n            .authorizeRequests()\r\n                .anyRequest().authenticated();\r\n        // @formatter:off\r\n    }\r\n\r\n    private DefaultAuthorizationCodeTokenResponseClient accessTokenResponseClient(\r\n        List&lt;String&gt; registrationIds, ClientRegistrationRepository repository\r\n    ) throws AzureActiveDirectoryAssertionException {\r\n        OAuth2AuthorizationCodeGrantRequestEntityConverter converter =\r\n            new OAuth2AuthorizationCodeGrantRequestEntityConverter();\r\n        converter.addParametersConverter(\r\n            new AzureActiveDirectoryJwtClientAuthenticationParametersConverter&lt;&gt;(createFactoryMap(registrationIds, repository)));\r\n        DefaultAuthorizationCodeTokenResponseClient client = new DefaultAuthorizationCodeTokenResponseClient();\r\n        client.setRequestEntityConverter(converter);\r\n        return client;\r\n    }\r\n\r\n    private Map&lt;String, AzureActiveDirectoryCertificateSignedJwtAssertionFactory&gt; createFactoryMap(\r\n        List&lt;String&gt; registrationIds, ClientRegistrationRepository repository\r\n    ) throws AzureActiveDirectoryAssertionException {\r\n        Map&lt;String, AzureActiveDirectoryCertificateSignedJwtAssertionFactory&gt; factories = new HashMap&lt;&gt;();\r\n        for (String registrationId: registrationIds) {\r\n            AzureActiveDirectoryCertificateSignedJwtAssertionFactory factory = createFactory(registrationId, repository);\r\n            if (factory != null) {\r\n                factories.put(registrationId, factory);\r\n            }\r\n        }\r\n        return factories;\r\n    }\r\n\r\n    private AzureActiveDirectoryCertificateSignedJwtAssertionFactory createFactory(\r\n        String registrationId, ClientRegistrationRepository repository\r\n    ) throws AzureActiveDirectoryAssertionException {\r\n        String clientCertificatePath = environment.getProperty(\r\n            String.format(&quot;spring.security.oauth2.client.registration.%s.client-certificate-path&quot;, registrationId));\r\n        if (!StringUtils.hasText(clientCertificatePath)) {\r\n            return null;\r\n        }\r\n        String clientCertificatePassword = environment.getProperty(\r\n            String.format(&quot;spring.security.oauth2.client.registration.%s.client-certificate-password&quot;, registrationId));\r\n        if (!StringUtils.hasText(clientCertificatePassword)) {\r\n            return null;\r\n        }\r\n        ClientRegistration registration = repository.findByRegistrationId(registrationId);\r\n        String tenantId = getTenantIdFromIssuerUri(registration.getProviderDetails().getIssuerUri());\r\n        String clientId = registration.getClientId();\r\n        return new AzureActiveDirectoryCertificateSignedJwtAssertionFactory(\r\n            clientCertificatePath, clientCertificatePassword, tenantId, clientId);\r\n    }\r\n\r\n    static String getTenantIdFromIssuerUri(String issuerUri) {\r\n        Matcher matcher = ISSUER_URI_PATTERN.matcher(issuerUri);\r\n        if (matcher.find()) {\r\n            return matcher.group(1);\r\n        }\r\n        return null;\r\n    }\r\n\r\n}\r\n```\r\n\r\nPlease, pay especial attention to the `accessTokenResponseClient` method.\r\n\r\nFinally, [this](https://github.com/Azure-Samples/azure-spring-boot-samples/blob/main/aad/spring-security/servlet/oauth2/login-authenticate-using-private-key-jwt/src/main/resources/application.yml) is the relevant configuration:\r\n\r\n```yaml\r\nspring:\r\n  security:\r\n    oauth2:\r\n      client:\r\n        provider: # Refs: https://docs.spring.io/spring-security/site/docs/current/reference/html5/#oauth2login-common-oauth2-provider\r\n          azure-active-directory:\r\n            issuer-uri: https://login.microsoftonline.com/${tenant-id}/v2.0 # Refs: https://docs.spring.io/spring-security/site/docs/current/reference/html5/#webflux-oauth2-login-openid-provider-configuration\r\n        registration:\r\n          client-1:\r\n            provider: azure-active-directory\r\n            client-id: ${client-1-client-id}\r\n            client-authentication-method: private_key_jwt\r\n            client-certificate-path: ${client-1-certificate-path}\r\n            client-certificate-password: ${client-1-certificate-password}\r\n            scope: openid, profile\r\n            redirect-uri: http://localhost:8080/login/oauth2/code/\r\n```\r\n\r\nPlease, don&#39;t forget to set the appropriate value for the different placeholders defined in the above configuration.","title":"AzureAD configuration with public key authentication on Spring Boot","body":"<p>The <a href=\"https://learn.microsoft.com/en-us/entra/identity-platform/v2-oauth2-client-creds-grant-flow#second-case-access-token-request-with-a-certificate\" rel=\"nofollow noreferrer\">Microsoft documentation</a> describes the necessary information that should be provided in order to perform an access token request with a certificate.</p>\n<p>You need to perform a HTTP request like the following:</p>\n<pre><code>POST /{tenant}/oauth2/v2.0/token HTTP/1.1               // Line breaks for clarity\nHost: login.microsoftonline.com:443\nContent-Type: application/x-www-form-urlencoded\n\nscope=https%3A%2F%2Fgraph.microsoft.com%2F.default\n&amp;client_id=97e0a5b7-d745-40b6-94fe-5f77d35c6e05\n&amp;client_assertion_type=urn%3Aietf%3Aparams%3Aoauth%3Aclient-assertion-type%3Ajwt-bearer\n&amp;client_assertion=eyJhbGciOiJSUzI1NiIsIng1dCI6Imd4OHRHeXN5amNScUtqRlBuZDdSRnd2d1pJMCJ9.eyJ{a lot of characters here}M8U3bSUKKJDEg\n&amp;grant_type=client_credentials\n</code></pre>\n<p>In addition to the Entra ID tenant and the app client id, you need to indicate the client assertion type, it is a constant value, and a client assertion.</p>\n<p>The client assertion is a JSON web token created and signed with the certificate registered as credentials for the application in the Azure Portal.</p>\n<p>The characteristics of this JSON web token are described in detail <a href=\"https://learn.microsoft.com/en-us/entra/identity-platform/certificate-credentials\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Using this type of authentication mechanism with Spring Boot is not obvious but fortunately you can find different examples that exemplifies how to that.</p>\n<p>Consider for instance <a href=\"https://github.com/Azure-Samples/azure-spring-boot-samples/tree/main/aad/spring-security/servlet/oauth2/login-authenticate-using-private-key-jwt\" rel=\"nofollow noreferrer\">this excellent one</a> provided as part of the azure samples repository in Github.</p>\n<p>Basically, it defines a set of <a href=\"https://github.com/Azure-Samples/azure-spring-boot-samples/tree/main/aad/spring-security/servlet/oauth2/login-authenticate-using-private-key-jwt/src/main/java/com/azure/spring/sample/reactive/servlet/oauth2/login/jwt/azure/activedirectory\" rel=\"nofollow noreferrer\">helper classes</a>, especially <a href=\"https://github.com/Azure-Samples/azure-spring-boot-samples/blob/main/aad/spring-security/servlet/oauth2/login-authenticate-using-private-key-jwt/src/main/java/com/azure/spring/sample/reactive/servlet/oauth2/login/jwt/azure/activedirectory/AzureActiveDirectoryJwtClientAuthenticationParametersConverter.java\" rel=\"nofollow noreferrer\">one</a> defined in order to provide the <code>client_assertion</code> and <code>client_assertion_type</code> parameters when performing the request:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.core.convert.converter.Converter;\nimport org.springframework.security.oauth2.client.endpoint.AbstractOAuth2AuthorizationGrantRequest;\nimport org.springframework.security.oauth2.client.registration.ClientRegistration;\nimport org.springframework.security.oauth2.core.ClientAuthenticationMethod;\nimport org.springframework.security.oauth2.core.endpoint.OAuth2ParameterNames;\nimport org.springframework.util.Assert;\nimport org.springframework.util.LinkedMultiValueMap;\nimport org.springframework.util.MultiValueMap;\n\nimport java.util.Map;\n\npublic class AzureActiveDirectoryJwtClientAuthenticationParametersConverter&lt;T extends AbstractOAuth2AuthorizationGrantRequest&gt;\n    implements Converter&lt;T, MultiValueMap&lt;String, String&gt;&gt; {\n\n    private final static Logger LOGGER =\n        LoggerFactory.getLogger(AzureActiveDirectoryJwtClientAuthenticationParametersConverter.class);\n    private static final String CLIENT_ASSERTION_TYPE_VALUE = &quot;urn:ietf:params:oauth:client-assertion-type:jwt-bearer&quot;;\n\n    private final Map&lt;String, AzureActiveDirectoryCertificateSignedJwtAssertionFactory&gt; factories;\n\n    public AzureActiveDirectoryJwtClientAuthenticationParametersConverter(\n        Map&lt;String, AzureActiveDirectoryCertificateSignedJwtAssertionFactory&gt; factories) {\n        this.factories = factories;\n    }\n\n    @Override\n    public MultiValueMap&lt;String, String&gt; convert(T authorizationGrantRequest) {\n        Assert.notNull(authorizationGrantRequest, &quot;authorizationGrantRequest cannot be null&quot;);\n\n        ClientRegistration registration = authorizationGrantRequest.getClientRegistration();\n        ClientAuthenticationMethod method = registration.getClientAuthenticationMethod();\n        if (!ClientAuthenticationMethod.PRIVATE_KEY_JWT.equals(registration.getClientAuthenticationMethod())) {\n            return null;\n        }\n\n        try {\n            return createParameters(registration);\n        } catch (AzureActiveDirectoryAssertionException exception) {\n            LOGGER.error(&quot;Failed to create parameters.&quot;, exception);\n        }\n        return null;\n    }\n\n    private MultiValueMap&lt;String, String&gt; createParameters(ClientRegistration registration) throws AzureActiveDirectoryAssertionException {\n        MultiValueMap&lt;String, String&gt; parameters = new LinkedMultiValueMap&lt;&gt;();\n        parameters.set(OAuth2ParameterNames.CLIENT_ASSERTION_TYPE, CLIENT_ASSERTION_TYPE_VALUE);\n        parameters.set(OAuth2ParameterNames.CLIENT_ASSERTION, createAssertion(registration));\n        return parameters;\n    }\n\n    private String createAssertion(ClientRegistration registration) throws AzureActiveDirectoryAssertionException {\n        return factories.get(registration.getRegistrationId()).createJwtAssertion();\n    }\n}\n</code></pre>\n<p>and <a href=\"https://github.com/Azure-Samples/azure-spring-boot-samples/blob/main/aad/spring-security/servlet/oauth2/login-authenticate-using-private-key-jwt/src/main/java/com/azure/spring/sample/reactive/servlet/oauth2/login/jwt/azure/activedirectory/AzureActiveDirectoryCertificateSignedJwtAssertionFactory.java\" rel=\"nofollow noreferrer\">another one</a> used to generate the appropriate JWT web token:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.nimbusds.jose.JOSEException;\nimport com.nimbusds.jose.JOSEObjectType;\nimport com.nimbusds.jose.JWSAlgorithm;\nimport com.nimbusds.jose.JWSHeader;\nimport com.nimbusds.jose.JWSSigner;\nimport com.nimbusds.jose.crypto.factories.DefaultJWSSignerFactory;\nimport com.nimbusds.jose.jwk.JWK;\nimport com.nimbusds.jose.jwk.RSAKey;\nimport com.nimbusds.jose.util.Base64URL;\nimport com.nimbusds.jwt.JWTClaimsSet;\nimport com.nimbusds.jwt.SignedJWT;\nimport org.springframework.util.Assert;\n\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.security.KeyStore;\nimport java.security.KeyStoreException;\nimport java.security.MessageDigest;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.PrivateKey;\nimport java.security.PublicKey;\nimport java.security.UnrecoverableKeyException;\nimport java.security.cert.CertificateEncodingException;\nimport java.security.cert.CertificateException;\nimport java.security.cert.X509Certificate;\nimport java.security.interfaces.RSAPublicKey;\nimport java.util.Date;\nimport java.util.UUID;\n\n/**\n * A factory used to create Microsoft Entra JWT assertion signed with a certificate.\n *\n * @author Rujun Chen\n * @see &lt;a href=&quot;https://docs.microsoft.com/azure/active-directory/develop/active-directory-certificate-credentials&quot;&gt;\n * Certificate credentials&lt;/a&gt;\n * @since 2022-02-18\n */\npublic class AzureActiveDirectoryCertificateSignedJwtAssertionFactory {\n\n    private final JWSSigner signer;\n    private final JWSHeader header;\n    private final JWTClaimsSet templateClaims;\n\n    /**\n     * @param file Path of certificate file. The file should contain encrypted private key and certificate.\n     * And the file name should have &quot;.pfx&quot; as suffix.\n     * @param password The password of the encrypted private key in certificate file.\n     * @throws AzureActiveDirectoryAssertionException if failed to create factory.\n     */\n    public AzureActiveDirectoryCertificateSignedJwtAssertionFactory(String file, String password, String tenantId,\n                                                                    String clientId) throws AzureActiveDirectoryAssertionException {\n        try {\n            String fileExtension = file.substring(file.lastIndexOf(&quot;.&quot;) + 1);\n            Assert.isTrue(&quot;pfx&quot;.equals(fileExtension), &quot;Only support file with '.pfx' extension.&quot;);\n            KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\n            keyStore.load(new FileInputStream(file), password.toCharArray());\n            String alias = keyStore.aliases().nextElement();\n            PrivateKey privateKey = (PrivateKey) keyStore.getKey(alias, password.toCharArray());\n            X509Certificate x509Certificate = (X509Certificate) keyStore.getCertificate(alias);\n            PublicKey publicKey = x509Certificate.getPublicKey();\n            signer = createJWSSigner(publicKey, privateKey);\n            header = createJWSHeader(x509Certificate);\n            templateClaims = createTemplateJWTClaims(tenantId, clientId);\n        } catch (KeyStoreException | IOException | CertificateException | NoSuchAlgorithmException |\n            UnrecoverableKeyException | JOSEException exception) {\n            throw new AzureActiveDirectoryAssertionException(&quot;Failed to create factory.&quot;, exception);\n        }\n    }\n\n    /**\n     * Create JWT assertion\n     *\n     * @throws AzureActiveDirectoryAssertionException If failed to create assertion.\n     */\n    public String createJwtAssertion() throws AzureActiveDirectoryAssertionException {\n        JWTClaimsSet claims = createJWTClaimsSet();\n        SignedJWT signedJwt = new SignedJWT(header, claims);\n        try {\n            signedJwt.sign(signer);\n        } catch (JOSEException exception) {\n            throw new AzureActiveDirectoryAssertionException(&quot;Failed to sign JWT.&quot;, exception);\n        }\n        return signedJwt.serialize();\n    }\n\n    private JWSSigner createJWSSigner(PublicKey publicKey, PrivateKey privateKey) throws JOSEException {\n        // Microsoft Entra ID currently supports only RSA.\n        // Refs: https://docs.microsoft.com/en-us/azure/active-directory/develop/howto-create-self-signed-certificate\n        JWK jwk = new RSAKey.Builder((RSAPublicKey) publicKey)\n            .privateKey(privateKey)\n            .keyID(UUID.randomUUID().toString())\n            .build();\n        return new DefaultJWSSignerFactory().createJWSSigner(jwk);\n    }\n\n    @SuppressWarnings(&quot;deprecation&quot;)\n    private JWSHeader createJWSHeader(X509Certificate x509Certificate) throws CertificateEncodingException,\n        NoSuchAlgorithmException {\n        return new JWSHeader.Builder(JWSAlgorithm.RS256)\n            .type(JOSEObjectType.JWT)\n            .x509CertThumbprint(Base64URL.encode(getX5t(x509Certificate)))\n            .build();\n    }\n\n    private byte[] getX5t(X509Certificate cert)\n        throws NoSuchAlgorithmException, CertificateEncodingException {\n        MessageDigest digest = MessageDigest.getInstance(&quot;SHA-1&quot;);\n        byte[] der = cert.getEncoded();\n        digest.update(der);\n        return digest.digest();\n    }\n\n    private JWTClaimsSet createTemplateJWTClaims(String tenantId, String clientId) {\n        return new JWTClaimsSet.Builder()\n            .audience(String.format(&quot;https://login.microsoftonline.com/%s/v2.0&quot;, tenantId))\n            .issuer(clientId)\n            .subject(clientId)\n            .build();\n    }\n\n    private JWTClaimsSet createJWTClaimsSet() {\n        Date currentTime = new Date();\n        return new JWTClaimsSet.Builder(templateClaims)\n            .expirationTime(Date.from(currentTime.toInstant().plusSeconds(300))) // 5 minutes after currentTime.\n            .jwtID(UUID.randomUUID().toString())\n            .notBeforeTime(currentTime)\n            .issueTime(currentTime)\n            .build();\n    }\n\n\n}\n</code></pre>\n<p><a href=\"https://github.com/Azure-Samples/azure-spring-boot-samples/blob/main/aad/spring-security/servlet/oauth2/login-authenticate-using-private-key-jwt/src/main/java/com/azure/spring/sample/reactive/servlet/oauth2/login/jwt/configuration/WebSecurityConfiguration.java\" rel=\"nofollow noreferrer\">This configuration class</a> glues everything together:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.azure.spring.sample.reactive.servlet.oauth2.login.jwt.azure.activedirectory.AzureActiveDirectoryAssertionException;\nimport com.azure.spring.sample.reactive.servlet.oauth2.login.jwt.azure.activedirectory.AzureActiveDirectoryCertificateSignedJwtAssertionFactory;\nimport com.azure.spring.sample.reactive.servlet.oauth2.login.jwt.azure.activedirectory.AzureActiveDirectoryJwtClientAuthenticationParametersConverter;\nimport org.springframework.core.env.Environment;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.oauth2.client.endpoint.DefaultAuthorizationCodeTokenResponseClient;\nimport org.springframework.security.oauth2.client.endpoint.OAuth2AuthorizationCodeGrantRequestEntityConverter;\nimport org.springframework.security.oauth2.client.registration.ClientRegistration;\nimport org.springframework.security.oauth2.client.registration.ClientRegistrationRepository;\nimport org.springframework.util.StringUtils;\n\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\n@EnableWebSecurity\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\n    private static final Pattern ISSUER_URI_PATTERN = Pattern.compile(&quot;https://login.microsoftonline.com/(.*?)/v2.0&quot;);\n\n    private final Environment environment;\n    private final ClientRegistrationRepository repository;\n\n    public WebSecurityConfiguration(Environment environment, ClientRegistrationRepository repository) {\n        this.environment = environment;\n        this.repository = repository;\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        // @formatter:off\n        http.oauth2Login()\n                .tokenEndpoint()\n                  // Please, note the name of the client provided, \n                  // as we will see it will match the one in the configuration\n                    .accessTokenResponseClient(accessTokenResponseClient(Collections.singletonList(&quot;client-1&quot;), repository))\n                    .and()\n                .and()\n            .authorizeRequests()\n                .anyRequest().authenticated();\n        // @formatter:off\n    }\n\n    private DefaultAuthorizationCodeTokenResponseClient accessTokenResponseClient(\n        List&lt;String&gt; registrationIds, ClientRegistrationRepository repository\n    ) throws AzureActiveDirectoryAssertionException {\n        OAuth2AuthorizationCodeGrantRequestEntityConverter converter =\n            new OAuth2AuthorizationCodeGrantRequestEntityConverter();\n        converter.addParametersConverter(\n            new AzureActiveDirectoryJwtClientAuthenticationParametersConverter&lt;&gt;(createFactoryMap(registrationIds, repository)));\n        DefaultAuthorizationCodeTokenResponseClient client = new DefaultAuthorizationCodeTokenResponseClient();\n        client.setRequestEntityConverter(converter);\n        return client;\n    }\n\n    private Map&lt;String, AzureActiveDirectoryCertificateSignedJwtAssertionFactory&gt; createFactoryMap(\n        List&lt;String&gt; registrationIds, ClientRegistrationRepository repository\n    ) throws AzureActiveDirectoryAssertionException {\n        Map&lt;String, AzureActiveDirectoryCertificateSignedJwtAssertionFactory&gt; factories = new HashMap&lt;&gt;();\n        for (String registrationId: registrationIds) {\n            AzureActiveDirectoryCertificateSignedJwtAssertionFactory factory = createFactory(registrationId, repository);\n            if (factory != null) {\n                factories.put(registrationId, factory);\n            }\n        }\n        return factories;\n    }\n\n    private AzureActiveDirectoryCertificateSignedJwtAssertionFactory createFactory(\n        String registrationId, ClientRegistrationRepository repository\n    ) throws AzureActiveDirectoryAssertionException {\n        String clientCertificatePath = environment.getProperty(\n            String.format(&quot;spring.security.oauth2.client.registration.%s.client-certificate-path&quot;, registrationId));\n        if (!StringUtils.hasText(clientCertificatePath)) {\n            return null;\n        }\n        String clientCertificatePassword = environment.getProperty(\n            String.format(&quot;spring.security.oauth2.client.registration.%s.client-certificate-password&quot;, registrationId));\n        if (!StringUtils.hasText(clientCertificatePassword)) {\n            return null;\n        }\n        ClientRegistration registration = repository.findByRegistrationId(registrationId);\n        String tenantId = getTenantIdFromIssuerUri(registration.getProviderDetails().getIssuerUri());\n        String clientId = registration.getClientId();\n        return new AzureActiveDirectoryCertificateSignedJwtAssertionFactory(\n            clientCertificatePath, clientCertificatePassword, tenantId, clientId);\n    }\n\n    static String getTenantIdFromIssuerUri(String issuerUri) {\n        Matcher matcher = ISSUER_URI_PATTERN.matcher(issuerUri);\n        if (matcher.find()) {\n            return matcher.group(1);\n        }\n        return null;\n    }\n\n}\n</code></pre>\n<p>Please, pay especial attention to the <code>accessTokenResponseClient</code> method.</p>\n<p>Finally, <a href=\"https://github.com/Azure-Samples/azure-spring-boot-samples/blob/main/aad/spring-security/servlet/oauth2/login-authenticate-using-private-key-jwt/src/main/resources/application.yml\" rel=\"nofollow noreferrer\">this</a> is the relevant configuration:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  security:\n    oauth2:\n      client:\n        provider: # Refs: https://docs.spring.io/spring-security/site/docs/current/reference/html5/#oauth2login-common-oauth2-provider\n          azure-active-directory:\n            issuer-uri: https://login.microsoftonline.com/${tenant-id}/v2.0 # Refs: https://docs.spring.io/spring-security/site/docs/current/reference/html5/#webflux-oauth2-login-openid-provider-configuration\n        registration:\n          client-1:\n            provider: azure-active-directory\n            client-id: ${client-1-client-id}\n            client-authentication-method: private_key_jwt\n            client-certificate-path: ${client-1-certificate-path}\n            client-certificate-password: ${client-1-certificate-password}\n            scope: openid, profile\n            redirect-uri: http://localhost:8080/login/oauth2/code/\n</code></pre>\n<p>Please, don't forget to set the appropriate value for the different placeholders defined in the above configuration.</p>\n"}],"owner":{"account_id":446393,"reputation":375,"user_id":6318555,"accept_rate":64,"display_name":"casper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1701293968,"creation_date":1700314119,"question_id":77507098,"body_markdown":"I successfully set up a sample application to utilize AzureAD for user authentication following the steps outlined in [this blog post][1]. The post provides instructions on configuring AzureAD and the application&#39;s identity using client-id and client-secret for the application configuration, and the setup working properly.\r\n\r\nHowever I try to configure AzureAD and application’s identity using with public key I could not able to successfully setup.\r\n\r\nI used following openssl commands to generate the public key.\r\n\r\n&gt; $certname = &quot;AzureCertificate&quot;\r\n&gt; \r\n&gt; $cert = New-SelfSignedCertificate -Subject &quot;CN=$certname&quot;\r\n&gt; -CertStoreLocation &quot;Cert:\\CurrentUser\\My&quot; -KeyExportPolicy Exportable -KeySpec Signature -KeyLength 2048 -KeyAlgorithm RSA -HashAlgorithm SHA256\r\n&gt; \r\n&gt; Export-Certificate -Cert $cert -FilePath\r\n&gt; &quot;C:\\Personal\\Work1\\AZURE\\KEY\\$certname.cer&quot;\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThen I generated the public key using following command in command line\r\n\r\n&gt; openssl x509 -inform der -in AzureCertificate.cer -pubkey -noout &gt;\r\n&gt; your-public-key.pem\r\n\r\nThen I uploaded the generated certificate AzureCertificate.cer file in to the AzurePortal application as show below.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThen I have configured the certificate location on the applciation.yml as show below and added publicKey.pem file in to resources folder. Please note I have replace correct **my-tenant-id and my-client-id** in applciation.yml file.\r\n\r\n[![enter image description here][4]][4]\r\n\r\nThen I have run the application It first correctly redirecting to Microsoft login page and then after user enters the credentials system giving error message as below.\r\n\r\n[invalid_request] AADSTS900144: The request body must contain the following parameter: &#39;client_id&#39;. Trace ID: yyyyyyy Correlation ID: xxxxxxx Timestamp: 2023-11-18 15:14:37Z\r\n\r\n[![enter image description here][5]][5]\r\n\r\nHighly appreciated if someone share your experiencing this configuration process.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-azuread-authenticate-users\r\n  [2]: https://i.stack.imgur.com/VEDRK.png\r\n  [3]: https://i.stack.imgur.com/BhRn9.png\r\n  [4]: https://i.stack.imgur.com/SW94Z.png\r\n  [5]: https://i.stack.imgur.com/8tqv5.png","title":"AzureAD configuration with public key authentication on Spring Boot","body":"<p>I successfully set up a sample application to utilize AzureAD for user authentication following the steps outlined in <a href=\"https://www.baeldung.com/spring-boot-azuread-authenticate-users\" rel=\"nofollow noreferrer\">this blog post</a>. The post provides instructions on configuring AzureAD and the application's identity using client-id and client-secret for the application configuration, and the setup working properly.</p>\n<p>However I try to configure AzureAD and application’s identity using with public key I could not able to successfully setup.</p>\n<p>I used following openssl commands to generate the public key.</p>\n<blockquote>\n<p>$certname = &quot;AzureCertificate&quot;</p>\n<p>$cert = New-SelfSignedCertificate -Subject &quot;CN=$certname&quot;\n-CertStoreLocation &quot;Cert:\\CurrentUser\\My&quot; -KeyExportPolicy Exportable -KeySpec Signature -KeyLength 2048 -KeyAlgorithm RSA -HashAlgorithm SHA256</p>\n<p>Export-Certificate -Cert $cert -FilePath\n&quot;C:\\Personal\\Work1\\AZURE\\KEY$certname.cer&quot;</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/VEDRK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VEDRK.png\" alt=\"enter image description here\" /></a></p>\n<p>Then I generated the public key using following command in command line</p>\n<blockquote>\n<p>openssl x509 -inform der -in AzureCertificate.cer -pubkey -noout &gt;\nyour-public-key.pem</p>\n</blockquote>\n<p>Then I uploaded the generated certificate AzureCertificate.cer file in to the AzurePortal application as show below.</p>\n<p><a href=\"https://i.stack.imgur.com/BhRn9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BhRn9.png\" alt=\"enter image description here\" /></a></p>\n<p>Then I have configured the certificate location on the applciation.yml as show below and added publicKey.pem file in to resources folder. Please note I have replace correct <strong>my-tenant-id and my-client-id</strong> in applciation.yml file.</p>\n<p><a href=\"https://i.stack.imgur.com/SW94Z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SW94Z.png\" alt=\"enter image description here\" /></a></p>\n<p>Then I have run the application It first correctly redirecting to Microsoft login page and then after user enters the credentials system giving error message as below.</p>\n<p>[invalid_request] AADSTS900144: The request body must contain the following parameter: 'client_id'. Trace ID: yyyyyyy Correlation ID: xxxxxxx Timestamp: 2023-11-18 15:14:37Z</p>\n<p><a href=\"https://i.stack.imgur.com/8tqv5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8tqv5.png\" alt=\"enter image description here\" /></a></p>\n<p>Highly appreciated if someone share your experiencing this configuration process.</p>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701293602,"creation_date":1701293602,"answer_id":77574610,"question_id":77571332,"body_markdown":"BaseMapper is not a `@Mapper`, is a `@MapperConfig`\r\n\r\n    @MapperConfig\r\n    public interface BaseMapperConfig {\r\n    \t\r\n    \t@Mapping(target = &quot;name.firstName&quot;, source = &quot;firstName&quot;)\r\n    \t@Mapping(target = &quot;name.lastName&quot;, source = &quot;lastName&quot;)\r\n    \tBaseDTO toDTO(BaseEntity entity);\r\n    \t\r\n    }\r\n\r\nand the ChildMapper has to use the BaseMapperConfig as configuration, and on the method level, you need to add the @InheritConfiguration\r\n\r\n    @Mapper(config = BaseMapperConfig.class)\r\n    public interface ChildMapper {\r\n    \t\r\n    \tChildMapper INSTANCE = Mappers.getMapper(ChildMapper.class);\r\n    \t\r\n    \t@InheritConfiguration\r\n    \tChildDTO toDTO(ChildEntity entity);\r\n    \t\r\n    }\r\n\r\nthe generated mapper will be:\r\n\r\n    public class ChildMapperImpl implements ChildMapper {\r\n    \r\n        @Override\r\n        public ChildDTO toDTO(ChildEntity entity) {\r\n            if ( entity == null ) {\r\n                return null;\r\n            }\r\n    \r\n            ChildDTO.ChildDTOBuilder&lt;?, ?&gt; childDTO = ChildDTO.builder();\r\n    \r\n            childDTO.name( childEntityToFullNameDTO( entity ) );\r\n            childDTO.id( entity.getId() );\r\n            childDTO.childName( entity.getChildName() );\r\n    \r\n            return childDTO.build();\r\n        }\r\n    \r\n        protected FullNameDTO childEntityToFullNameDTO(ChildEntity childEntity) {\r\n            if ( childEntity == null ) {\r\n                return null;\r\n            }\r\n    \r\n            FullNameDTO fullNameDTO = new FullNameDTO();\r\n    \r\n            fullNameDTO.setFirstName( childEntity.getFirstName() );\r\n            fullNameDTO.setLastName( childEntity.getLastName() );\r\n    \r\n            return fullNameDTO;\r\n        }\r\n    }","title":"Not able to map SuperClass with a nested Object, while mapping child class","body":"<p>BaseMapper is not a <code>@Mapper</code>, is a <code>@MapperConfig</code></p>\n<pre><code>@MapperConfig\npublic interface BaseMapperConfig {\n    \n    @Mapping(target = &quot;name.firstName&quot;, source = &quot;firstName&quot;)\n    @Mapping(target = &quot;name.lastName&quot;, source = &quot;lastName&quot;)\n    BaseDTO toDTO(BaseEntity entity);\n    \n}\n</code></pre>\n<p>and the ChildMapper has to use the BaseMapperConfig as configuration, and on the method level, you need to add the @InheritConfiguration</p>\n<pre><code>@Mapper(config = BaseMapperConfig.class)\npublic interface ChildMapper {\n    \n    ChildMapper INSTANCE = Mappers.getMapper(ChildMapper.class);\n    \n    @InheritConfiguration\n    ChildDTO toDTO(ChildEntity entity);\n    \n}\n</code></pre>\n<p>the generated mapper will be:</p>\n<pre><code>public class ChildMapperImpl implements ChildMapper {\n\n    @Override\n    public ChildDTO toDTO(ChildEntity entity) {\n        if ( entity == null ) {\n            return null;\n        }\n\n        ChildDTO.ChildDTOBuilder&lt;?, ?&gt; childDTO = ChildDTO.builder();\n\n        childDTO.name( childEntityToFullNameDTO( entity ) );\n        childDTO.id( entity.getId() );\n        childDTO.childName( entity.getChildName() );\n\n        return childDTO.build();\n    }\n\n    protected FullNameDTO childEntityToFullNameDTO(ChildEntity childEntity) {\n        if ( childEntity == null ) {\n            return null;\n        }\n\n        FullNameDTO fullNameDTO = new FullNameDTO();\n\n        fullNameDTO.setFirstName( childEntity.getFirstName() );\n        fullNameDTO.setLastName( childEntity.getLastName() );\n\n        return fullNameDTO;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10267785,"reputation":160,"user_id":7577210,"display_name":"Rohit Patel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77574610,"answer_count":1,"score":0,"last_activity_date":1701293918,"creation_date":1701262555,"question_id":77571332,"body_markdown":"I am trying to map classes using MapStruct. I have Super class and child class extending it. The fields are mapped correctly in BaseMapper generated code, but in the ChildMapperImpl, the fields from Parent are not mapped and missing. \r\n\r\n\r\nClass and Mapper code are below:\r\n\r\n```java\r\n@Data\r\n@SuperBuilder\r\npublic class BaseDTO {\r\n  private Long id;\r\n  private FullNameDTO name;\r\n} \r\n```\r\n```\r\n@Data\r\n@SuperBuilder\r\npublic class BaseEntity {\r\n  private Long id;\r\n  private String firstName;\r\n  private String lastName;\r\n}\r\n```\r\n```\r\n@Data\r\n@Getter\r\npublic class FullNameDTO {\r\n  private String firstName;\r\n  private String lastName;\r\n}\r\n```\r\n\r\n```\r\n@Data\r\n@SuperBuilder\r\npublic class ChildDTO extends BaseDTO{\r\n  private String childName;\r\n}\r\n```\r\n```\r\n@Data\r\n@SuperBuilder\r\npublic class ChildEntity extends BaseEntity{\r\n  private String childName;\r\n}\r\n```\r\nMapper for Base Classes: \r\n```\r\n@Mapper\r\npublic interface BaseMapper {\r\n  @Mapping(target = &quot;name.firstName&quot;,source = &quot;firstName&quot;)\r\n  @Mapping(target = &quot;name.lastName&quot;,source = &quot;lastName&quot;)\r\n  BaseDTO toDTO(BaseEntity entity);\r\n  BaseMapper INSTANCE = Mappers.getMapper(BaseMapper.class);\r\n}\r\n```\r\n\r\nMapper for Child classes:\r\n```\r\n@Mapper(uses = BaseMapper.class)\r\npublic interface ChildMapper {\r\n  ChildDTO toDTO(ChildEntity entity);\r\n  ChildMapper INSTANCE = Mappers.getMapper(ChildMapper.class);\r\n}\r\n```\r\n\r\nThe fields are mapped correctly in BaseMapper, but in the ChildMapper, the fields from Parent are not mapped and missing. \r\n\r\nChildMapperImpl:\r\n```\r\npublic ChildDTO toDTO(ChildEntity entity) {\r\n        if ( entity == null ) {\r\n            return null;\r\n        }\r\n\r\n        ChildDTO.ChildDTOBuilder&lt;?, ?&gt; childDTO = ChildDTO.builder();\r\n\r\n        childDTO.id( entity.getId() );\r\n        childDTO.childName( entity.getChildName() );\r\n\r\n        return childDTO.build();\r\n    }\r\n```\r\n\r\nIf I have primitive type for firstName and lastName in BaseDTO, instead of custom object, fields are getting mapper correctly. \r\nPlease help. Thanks in advance.","title":"Not able to map SuperClass with a nested Object, while mapping child class","body":"<p>I am trying to map classes using MapStruct. I have Super class and child class extending it. The fields are mapped correctly in BaseMapper generated code, but in the ChildMapperImpl, the fields from Parent are not mapped and missing.</p>\n<p>Class and Mapper code are below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@SuperBuilder\npublic class BaseDTO {\n  private Long id;\n  private FullNameDTO name;\n} \n</code></pre>\n<pre><code>@Data\n@SuperBuilder\npublic class BaseEntity {\n  private Long id;\n  private String firstName;\n  private String lastName;\n}\n</code></pre>\n<pre><code>@Data\n@Getter\npublic class FullNameDTO {\n  private String firstName;\n  private String lastName;\n}\n</code></pre>\n<pre><code>@Data\n@SuperBuilder\npublic class ChildDTO extends BaseDTO{\n  private String childName;\n}\n</code></pre>\n<pre><code>@Data\n@SuperBuilder\npublic class ChildEntity extends BaseEntity{\n  private String childName;\n}\n</code></pre>\n<p>Mapper for Base Classes:</p>\n<pre><code>@Mapper\npublic interface BaseMapper {\n  @Mapping(target = &quot;name.firstName&quot;,source = &quot;firstName&quot;)\n  @Mapping(target = &quot;name.lastName&quot;,source = &quot;lastName&quot;)\n  BaseDTO toDTO(BaseEntity entity);\n  BaseMapper INSTANCE = Mappers.getMapper(BaseMapper.class);\n}\n</code></pre>\n<p>Mapper for Child classes:</p>\n<pre><code>@Mapper(uses = BaseMapper.class)\npublic interface ChildMapper {\n  ChildDTO toDTO(ChildEntity entity);\n  ChildMapper INSTANCE = Mappers.getMapper(ChildMapper.class);\n}\n</code></pre>\n<p>The fields are mapped correctly in BaseMapper, but in the ChildMapper, the fields from Parent are not mapped and missing.</p>\n<p>ChildMapperImpl:</p>\n<pre><code>public ChildDTO toDTO(ChildEntity entity) {\n        if ( entity == null ) {\n            return null;\n        }\n\n        ChildDTO.ChildDTOBuilder&lt;?, ?&gt; childDTO = ChildDTO.builder();\n\n        childDTO.id( entity.getId() );\n        childDTO.childName( entity.getChildName() );\n\n        return childDTO.build();\n    }\n</code></pre>\n<p>If I have primitive type for firstName and lastName in BaseDTO, instead of custom object, fields are getting mapper correctly.\nPlease help. Thanks in advance.</p>\n"},{"tags":["java","spring","hibernate","pom.xml","boot"],"comments":[{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1701196436,"post_id":77565492,"comment_id":136744571,"body_markdown":"Hey, I just wrote an answer about the problem and about the solution that was able to help you. Please consider it as a starting point for every project that you are going to develop.","body":"Hey, I just wrote an answer about the problem and about the solution that was able to help you. Please consider it as a starting point for every project that you are going to develop."}],"answers":[{"tags":[],"owner":{"account_id":26055497,"reputation":1,"user_id":23001259,"display_name":"tobieche"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701293820,"creation_date":1701194654,"answer_id":77566167,"question_id":77565492,"body_markdown":"I&#39;ve fixed it! By using IntelliJ Idea, I&#39;ve found the dependency containing the **&quot;platformTransactionManagerCustomizers&quot;** :\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.3&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Error creating bean with name &#39;platformTransactionManagerCustomizers&#39;","body":"<p>I've fixed it! By using IntelliJ Idea, I've found the dependency containing the <strong>&quot;platformTransactionManagerCustomizers&quot;</strong> :</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n    &lt;version&gt;2.6.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701196313,"creation_date":1701196313,"answer_id":77566334,"question_id":77565492,"body_markdown":"As you pointed the problem was in autoconfigution but you will have some miss configuration on `spring-boot` because of version&#39;s that you are going to use.\r\n\r\nHere you have to change \r\n\r\nthe version from `2.6.3` \r\n \r\nSomething like this:\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n    &lt;version&gt;3.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nBecause the version of parent in your case is `3.2.0`\r\n\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.0&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n\r\nAnd also the best way in my opinion is Do NOT define the dependency versions in `pom.xml` if that dependency is managed by Spring. \r\n\r\nIt mean you have to remove all \r\n`version` tag where `groupId` is next one \r\n\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\r\nAlso as I mentioned above don’t mix the framework version here is why you should avoid it [Changes from 2.x to 3.x][1]\r\n\r\n\r\n  [1]: https://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0","title":"Error creating bean with name &#39;platformTransactionManagerCustomizers&#39;","body":"<p>As you pointed the problem was in autoconfigution but you will have some miss configuration on <code>spring-boot</code> because of version's that you are going to use.</p>\n<p>Here you have to change</p>\n<p>the version from <code>2.6.3</code></p>\n<p>Something like this:</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n&lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n&lt;version&gt;3.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Because the version of parent in your case is <code>3.2.0</code></p>\n<pre><code>    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n</code></pre>\n<p>And also the best way in my opinion is Do NOT define the dependency versions in <code>pom.xml</code> if that dependency is managed by Spring.</p>\n<p>It mean you have to remove all\n<code>version</code> tag where <code>groupId</code> is next one</p>\n<pre><code>&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n</code></pre>\n<p>Also as I mentioned above don’t mix the framework version here is why you should avoid it <a href=\"https://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0\" rel=\"nofollow noreferrer\">Changes from 2.x to 3.x</a></p>\n"}],"owner":{"account_id":26055497,"reputation":1,"user_id":23001259,"display_name":"tobieche"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701293820,"creation_date":1701188372,"question_id":77565492,"body_markdown":"I am learning how to use Spring Boot. I am trying to connect my application with my database, but I am not entirely sure why I am getting this error and how to fix it. I can&#39;t find anything online. Please help me. If you need more information, please ask me and I will do everything I can.\r\n\r\npom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;central&lt;/id&gt;\r\n\t\t\t&lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n\r\n\t&lt;groupId&gt;com.notes&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;notes&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;notes&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n            &lt;version&gt;6.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.33&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.18.30&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\napplication.properties, I do not know why but every propery except server.port is grayed out:\r\n\r\n```\r\n#GENERAL\r\nserver.port = 8080\r\n#\r\n#DATABASE\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\nspring.datasource.url=jdbc:mysql://localhost:3306/note_application\r\nspring.datasource.username=root\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n\r\n#JPA/Hibernate\r\nspring.jpa.show-sql=true\r\nspring.jpa.hibernate.ddl-auto=update\r\n\r\n#Transactions\r\nspring.jpa.properties.hibernate.transaction.manager_lookup_class=org.hibernate.transaction.JBossTransactionManagerLookup\r\n```\r\n\r\nFull error stack trace when running spring-boot:run\r\n\r\n```\r\n[INFO] \r\n[INFO] --- spring-boot:3.2.0:run (default-cli) @ notes ---\r\n[INFO] Attaching agents: []\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v3.2.0)\r\n2023-11-28T13:01:56.786-03:00  INFO 15356 --- [           main] com.notes.notes.NotesApplication         : Starting NotesApplication using Java 18.0.1.1 with PID 15356 (C:\\Users\\tobia\\Documents\\_proyectos\\Java\\notes\\target\\classes started by tobia in C:\\Users\\tobia\\Documents\\_proyectos\\Java\\notes)\r\n2023-11-28T13:01:56.793-03:00  INFO 15356 --- [           main] com.notes.notes.NotesApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-11-28T13:01:57.391-03:00  INFO 15356 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-11-28T13:01:57.412-03:00  INFO 15356 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13 ms. Found 0 JPA repository interfaces.\r\n2023-11-28T13:01:57.960-03:00  INFO 15356 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)\r\n2023-11-28T13:01:57.969-03:00  INFO 15356 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-11-28T13:01:57.970-03:00  INFO 15356 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.16]\r\n2023-11-28T13:01:58.037-03:00  INFO 15356 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-11-28T13:01:58.038-03:00  INFO 15356 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1202 ms\r\n2023-11-28T13:01:58.199-03:00  INFO 15356 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-11-28T13:01:58.265-03:00  INFO 15356 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.3.1.Final\r\n2023-11-28T13:01:58.301-03:00  INFO 15356 --- [           main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled\r\n2023-11-28T13:01:58.567-03:00  INFO 15356 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\r\n2023-11-28T13:01:58.596-03:00  INFO 15356 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-11-28T13:01:58.762-03:00  INFO 15356 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6b2aafbc\r\n2023-11-28T13:01:58.763-03:00  INFO 15356 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2023-11-28T13:01:58.806-03:00  WARN 15356 --- [           main] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.0 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 5.7.0. Check the community dialects project for available legacy versions.\r\n2023-11-28T13:01:58.810-03:00  WARN 15356 --- [           main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using &#39;hibernate.dialect&#39; (remove the property setting and it will be selected by default)\r\n2023-11-28T13:01:59.640-03:00  INFO 15356 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set &#39;hibernate.transaction.jta.platform&#39; to enable JTA platform integration)\r\n2023-11-28T13:01:59.687-03:00  INFO 15356 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-11-28T13:01:59.774-03:00  WARN 15356 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n2023-11-28T13:01:59.800-03:00  INFO 15356 --- [           main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]\r\n2023-11-28T13:02:00.013-03:00  WARN 15356 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;platformTransactionManagerCustomizers&#39; defined in class path resource [org/springframework/boot/autoconfigure/transaction/TransactionManagerCustomizationAutoConfiguration.class]: Failed to instantiate [org.springframework.boot.autoconfigure.transaction.TransactionManagerCustomizers]: Factory method &#39;platformTransactionManagerCustomizers&#39; threw exception with message: Type org.springframework.transaction.ConfigurableTransactionManager not present\r\n2023-11-28T13:02:00.014-03:00  INFO 15356 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-11-28T13:02:00.016-03:00  INFO 15356 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n2023-11-28T13:02:00.023-03:00  INFO 15356 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n2023-11-28T13:02:00.024-03:00  INFO 15356 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2023-11-28T13:02:00.035-03:00  INFO 15356 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-11-28T13:02:00.052-03:00 ERROR 15356 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;platformTransactionManagerCustomizers&#39; defined in class path resource [org/springframework/boot/autoconfigure/transaction/TransactionManagerCustomizationAutoConfiguration.class]: Failed to instantiate [org.springframework.boot.autoconfigure.transaction.TransactionManagerCustomizers]: Factory method &#39;platformTransactionManagerCustomizers&#39; threw exception with message: Type org.springframework.transaction.ConfigurableTransactionManager not present\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:643) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1166) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:946) ~[spring-context-6.1.1.jar:6.1.1]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.1.1.jar:6.1.1]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.2.0.jar:3.2.0]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753) ~[spring-boot-3.2.0.jar:3.2.0]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:455) ~[spring-boot-3.2.0.jar:3.2.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:323) ~[spring-boot-3.2.0.jar:3.2.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1342) ~[spring-boot-3.2.0.jar:3.2.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1331) ~[spring-boot-3.2.0.jar:3.2.0]\r\n\tat com.notes.notes.NotesApplication.main(NotesApplication.java:10) ~[classes/:na]\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.autoconfigure.transaction.TransactionManagerCustomizers]: Factory method &#39;platformTransactionManagerCustomizers&#39; threw exception with message: Type org.springframework.transaction.ConfigurableTransactionManager not present\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:178) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:651) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\t... 19 common frames omitted\r\nCaused by: java.lang.TypeNotPresentException: Type org.springframework.transaction.ConfigurableTransactionManager not present\r\n\tat java.base/sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:117) ~[na:na]\r\n\tat java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:125) ~[na:na]\r\n\tat java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49) ~[na:na]\r\n\tat java.base/sun.reflect.generics.visitor.Reifier.reifyTypeArguments(Reifier.java:68) ~[na:na]\r\n\tat java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:138) ~[na:na]\r\n\tat java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49) ~[na:na]\r\n\tat java.base/sun.reflect.generics.repository.ClassRepository.computeSuperInterfaces(ClassRepository.java:117) ~[na:na]\r\n\tat java.base/sun.reflect.generics.repository.ClassRepository.getSuperInterfaces(ClassRepository.java:95) ~[na:na]\r\n\tat java.base/java.lang.Class.getGenericInterfaces(Class.java:1243) ~[na:na]\r\n\tat org.springframework.core.ResolvableType.getInterfaces(ResolvableType.java:517) ~[spring-core-6.1.1.jar:6.1.1]\r\n\tat org.springframework.core.ResolvableType.as(ResolvableType.java:465) ~[spring-core-6.1.1.jar:6.1.1]\r\n\tat org.springframework.core.ResolvableType.isAssignableFrom(ResolvableType.java:368) ~[spring-core-6.1.1.jar:6.1.1]\r\n\tat org.springframework.core.ResolvableType.isAssignableFrom(ResolvableType.java:282) ~[spring-core-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.GenericTypeAwareAutowireCandidateResolver.checkGenericTypeMatch(GenericTypeAwareAutowireCandidateResolver.java:155) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.GenericTypeAwareAutowireCandidateResolver.isAutowireCandidate(GenericTypeAwareAutowireCandidateResolver.java:69) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.annotation.QualifierAnnotationAutowireCandidateResolver.isAutowireCandidate(QualifierAnnotationAutowireCandidateResolver.java:147) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.isAutowireCandidate(DefaultListableBeanFactory.java:883) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.isAutowireCandidate(DefaultListableBeanFactory.java:842) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.isAutowireCandidate(DefaultListableBeanFactory.java:825) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1650) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1468) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1390) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.resolveStream(DefaultListableBeanFactory.java:2196) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.orderedStream(DefaultListableBeanFactory.java:2190) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.boot.autoconfigure.transaction.TransactionManagerCustomizationAutoConfiguration.platformTransactionManagerCustomizers(TransactionManagerCustomizationAutoConfiguration.java:44) ~[spring-boot-autoconfigure-3.2.0.jar:3.2.0]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:140) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\t... 20 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.transaction.ConfigurableTransactionManager\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n\tat java.base/java.lang.Class.forName0(Native Method) ~[na:na]\r\n\tat java.base/java.lang.Class.forName(Class.java:488) ~[na:na]\r\n\tat java.base/java.lang.Class.forName(Class.java:467) ~[na:na]\r\n\tat java.base/sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:114) ~[na:na]\r\n\t... 47 common frames omitted\r\n```\r\n\r\n\r\nI am following this tutorial (it is in spanish): https://www.youtube.com/watch?v=7vHzVN0EiQc\r\nI am stuck at minute 2:23\r\n\r\nWhen I know the real error cause, I will update the title to help anyone with the same problem :)\r\n\r\n\r\n\r\nI tried adding this lines to application.properties\r\n\r\n```\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n#JPA/Hibernate\r\nspring.jpa.show-sql=true\r\nspring.jpa.hibernate.ddl-auto=update\r\n\r\n#Transactions\r\nspring.jpa.properties.hibernate.transaction.manager_lookup_class=org.hibernate.transaction.JBossTransactionManagerLookup\r\n\r\n\r\n```\r\n\r\n\r\nI also checked that the Resources folder was properly marked (and it is).","title":"Error creating bean with name &#39;platformTransactionManagerCustomizers&#39;","body":"<p>I am learning how to use Spring Boot. I am trying to connect my application with my database, but I am not entirely sure why I am getting this error and how to fix it. I can't find anything online. Please help me. If you need more information, please ask me and I will do everything I can.</p>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;central&lt;/id&gt;\n            &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;groupId&gt;com.notes&lt;/groupId&gt;\n    &lt;artifactId&gt;notes&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;notes&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n            &lt;version&gt;6.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n            &lt;version&gt;6.0.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.33&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.30&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>application.properties, I do not know why but every propery except server.port is grayed out:</p>\n<pre><code>#GENERAL\nserver.port = 8080\n#\n#DATABASE\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\nspring.datasource.url=jdbc:mysql://localhost:3306/note_application\nspring.datasource.username=root\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n\n#JPA/Hibernate\nspring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=update\n\n#Transactions\nspring.jpa.properties.hibernate.transaction.manager_lookup_class=org.hibernate.transaction.JBossTransactionManagerLookup\n</code></pre>\n<p>Full error stack trace when running spring-boot:run</p>\n<pre><code>[INFO] \n[INFO] --- spring-boot:3.2.0:run (default-cli) @ notes ---\n[INFO] Attaching agents: []\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.2.0)\n2023-11-28T13:01:56.786-03:00  INFO 15356 --- [           main] com.notes.notes.NotesApplication         : Starting NotesApplication using Java 18.0.1.1 with PID 15356 (C:\\Users\\tobia\\Documents\\_proyectos\\Java\\notes\\target\\classes started by tobia in C:\\Users\\tobia\\Documents\\_proyectos\\Java\\notes)\n2023-11-28T13:01:56.793-03:00  INFO 15356 --- [           main] com.notes.notes.NotesApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-11-28T13:01:57.391-03:00  INFO 15356 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-11-28T13:01:57.412-03:00  INFO 15356 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13 ms. Found 0 JPA repository interfaces.\n2023-11-28T13:01:57.960-03:00  INFO 15356 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)\n2023-11-28T13:01:57.969-03:00  INFO 15356 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-11-28T13:01:57.970-03:00  INFO 15356 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.16]\n2023-11-28T13:01:58.037-03:00  INFO 15356 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-11-28T13:01:58.038-03:00  INFO 15356 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1202 ms\n2023-11-28T13:01:58.199-03:00  INFO 15356 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-11-28T13:01:58.265-03:00  INFO 15356 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.3.1.Final\n2023-11-28T13:01:58.301-03:00  INFO 15356 --- [           main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled\n2023-11-28T13:01:58.567-03:00  INFO 15356 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\n2023-11-28T13:01:58.596-03:00  INFO 15356 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-11-28T13:01:58.762-03:00  INFO 15356 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6b2aafbc\n2023-11-28T13:01:58.763-03:00  INFO 15356 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-11-28T13:01:58.806-03:00  WARN 15356 --- [           main] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.0 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 5.7.0. Check the community dialects project for available legacy versions.\n2023-11-28T13:01:58.810-03:00  WARN 15356 --- [           main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)\n2023-11-28T13:01:59.640-03:00  INFO 15356 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)\n2023-11-28T13:01:59.687-03:00  INFO 15356 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-11-28T13:01:59.774-03:00  WARN 15356 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2023-11-28T13:01:59.800-03:00  INFO 15356 --- [           main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]\n2023-11-28T13:02:00.013-03:00  WARN 15356 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'platformTransactionManagerCustomizers' defined in class path resource [org/springframework/boot/autoconfigure/transaction/TransactionManagerCustomizationAutoConfiguration.class]: Failed to instantiate [org.springframework.boot.autoconfigure.transaction.TransactionManagerCustomizers]: Factory method 'platformTransactionManagerCustomizers' threw exception with message: Type org.springframework.transaction.ConfigurableTransactionManager not present\n2023-11-28T13:02:00.014-03:00  INFO 15356 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2023-11-28T13:02:00.016-03:00  INFO 15356 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2023-11-28T13:02:00.023-03:00  INFO 15356 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n2023-11-28T13:02:00.024-03:00  INFO 15356 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2023-11-28T13:02:00.035-03:00  INFO 15356 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-11-28T13:02:00.052-03:00 ERROR 15356 --- [           main] o.s.boot.SpringApplication               : Application run failed\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'platformTransactionManagerCustomizers' defined in class path resource [org/springframework/boot/autoconfigure/transaction/TransactionManagerCustomizationAutoConfiguration.class]: Failed to instantiate [org.springframework.boot.autoconfigure.transaction.TransactionManagerCustomizers]: Factory method 'platformTransactionManagerCustomizers' threw exception with message: Type org.springframework.transaction.ConfigurableTransactionManager not present\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:643) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1166) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:946) ~[spring-context-6.1.1.jar:6.1.1]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.1.1.jar:6.1.1]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.2.0.jar:3.2.0]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753) ~[spring-boot-3.2.0.jar:3.2.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:455) ~[spring-boot-3.2.0.jar:3.2.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:323) ~[spring-boot-3.2.0.jar:3.2.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1342) ~[spring-boot-3.2.0.jar:3.2.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1331) ~[spring-boot-3.2.0.jar:3.2.0]\n    at com.notes.notes.NotesApplication.main(NotesApplication.java:10) ~[classes/:na]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.autoconfigure.transaction.TransactionManagerCustomizers]: Factory method 'platformTransactionManagerCustomizers' threw exception with message: Type org.springframework.transaction.ConfigurableTransactionManager not present\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:178) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:651) ~[spring-beans-6.1.1.jar:6.1.1]\n    ... 19 common frames omitted\nCaused by: java.lang.TypeNotPresentException: Type org.springframework.transaction.ConfigurableTransactionManager not present\n    at java.base/sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:117) ~[na:na]\n    at java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:125) ~[na:na]\n    at java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49) ~[na:na]\n    at java.base/sun.reflect.generics.visitor.Reifier.reifyTypeArguments(Reifier.java:68) ~[na:na]\n    at java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:138) ~[na:na]\n    at java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49) ~[na:na]\n    at java.base/sun.reflect.generics.repository.ClassRepository.computeSuperInterfaces(ClassRepository.java:117) ~[na:na]\n    at java.base/sun.reflect.generics.repository.ClassRepository.getSuperInterfaces(ClassRepository.java:95) ~[na:na]\n    at java.base/java.lang.Class.getGenericInterfaces(Class.java:1243) ~[na:na]\n    at org.springframework.core.ResolvableType.getInterfaces(ResolvableType.java:517) ~[spring-core-6.1.1.jar:6.1.1]\n    at org.springframework.core.ResolvableType.as(ResolvableType.java:465) ~[spring-core-6.1.1.jar:6.1.1]\n    at org.springframework.core.ResolvableType.isAssignableFrom(ResolvableType.java:368) ~[spring-core-6.1.1.jar:6.1.1]\n    at org.springframework.core.ResolvableType.isAssignableFrom(ResolvableType.java:282) ~[spring-core-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.GenericTypeAwareAutowireCandidateResolver.checkGenericTypeMatch(GenericTypeAwareAutowireCandidateResolver.java:155) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.GenericTypeAwareAutowireCandidateResolver.isAutowireCandidate(GenericTypeAwareAutowireCandidateResolver.java:69) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.annotation.QualifierAnnotationAutowireCandidateResolver.isAutowireCandidate(QualifierAnnotationAutowireCandidateResolver.java:147) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.isAutowireCandidate(DefaultListableBeanFactory.java:883) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.isAutowireCandidate(DefaultListableBeanFactory.java:842) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.isAutowireCandidate(DefaultListableBeanFactory.java:825) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1650) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1468) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1390) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.resolveStream(DefaultListableBeanFactory.java:2196) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.orderedStream(DefaultListableBeanFactory.java:2190) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.boot.autoconfigure.transaction.TransactionManagerCustomizationAutoConfiguration.platformTransactionManagerCustomizers(TransactionManagerCustomizationAutoConfiguration.java:44) ~[spring-boot-autoconfigure-3.2.0.jar:3.2.0]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:140) ~[spring-beans-6.1.1.jar:6.1.1]\n    ... 20 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.springframework.transaction.ConfigurableTransactionManager\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n    at java.base/java.lang.Class.forName0(Native Method) ~[na:na]\n    at java.base/java.lang.Class.forName(Class.java:488) ~[na:na]\n    at java.base/java.lang.Class.forName(Class.java:467) ~[na:na]\n    at java.base/sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:114) ~[na:na]\n    ... 47 common frames omitted\n</code></pre>\n<p>I am following this tutorial (it is in spanish): <a href=\"https://www.youtube.com/watch?v=7vHzVN0EiQc\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=7vHzVN0EiQc</a>\nI am stuck at minute 2:23</p>\n<p>When I know the real error cause, I will update the title to help anyone with the same problem :)</p>\n<p>I tried adding this lines to application.properties</p>\n<pre><code>spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\n#JPA/Hibernate\nspring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=update\n\n#Transactions\nspring.jpa.properties.hibernate.transaction.manager_lookup_class=org.hibernate.transaction.JBossTransactionManagerLookup\n\n\n</code></pre>\n<p>I also checked that the Resources folder was properly marked (and it is).</p>\n"},{"tags":["java","spring-boot","maven","microservices","entry-point"],"comments":[{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":2,"creation_date":1701288582,"post_id":77574142,"comment_id":136758580,"body_markdown":"It is unclear without some example. A program has to have an entry point. If it&#39;s a container, how is it launched? With Spring, you can tell with the first line in the logs. You&#39;ll see `INFO 53986 --- [main] c.a.Application      : Starting Application using Java 11.0.15 on ...` Here, `c.a.Application#main` is the entry point.","body":"It is unclear without some example. A program has to have an entry point. If it&#39;s a container, how is it launched? With Spring, you can tell with the first line in the logs. You&#39;ll see <code>INFO 53986 --- [main] c.a.Application      : Starting Application using Java 11.0.15 on ...</code> Here, <code>c.a.Application#main</code> is the entry point."},{"owner":{"account_id":24095873,"reputation":426,"user_id":18068398,"display_name":"rentox98"},"score":0,"creation_date":1701289286,"post_id":77574142,"comment_id":136758706,"body_markdown":"@ChristopherSchneider Thanks for the comment, how it works in my case is unfortunately unclear to me (I only have access to the git repository where the microservice code is, startup will be managed somewhere in the CI/CD process I imagine, where I don&#39;t have access), so I still tried to ask a general question, that is, in which cases is this approach used and how does it all actually work?","body":"@ChristopherSchneider Thanks for the comment, how it works in my case is unfortunately unclear to me (I only have access to the git repository where the microservice code is, startup will be managed somewhere in the CI/CD process I imagine, where I don&#39;t have access), so I still tried to ask a general question, that is, in which cases is this approach used and how does it all actually work?"},{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1701291363,"post_id":77574142,"comment_id":136759017,"body_markdown":"Usage of &quot;container&quot; here is unclear. maybe you mean docker container? or servlet container? and who knows how this works, maybe this is set up with an old school web.xml that specifies a spring application context that is configured to do component scanning? are you even sure it is spring-boot? there is very little to go on here.","body":"Usage of &quot;container&quot; here is unclear. maybe you mean docker container? or servlet container? and who knows how this works, maybe this is set up with an old school web.xml that specifies a spring application context that is configured to do component scanning? are you even sure it is spring-boot? there is very little to go on here."},{"owner":{"account_id":24095873,"reputation":426,"user_id":18068398,"display_name":"rentox98"},"score":0,"creation_date":1701292051,"post_id":77574142,"comment_id":136759125,"body_markdown":"@NathanHughes by container I meant docker container; in the pom.xml I have the spring boot dependencies so I would say yes for this","body":"@NathanHughes by container I meant docker container; in the pom.xml I have the spring boot dependencies so I would say yes for this"},{"owner":{"account_id":24095873,"reputation":426,"user_id":18068398,"display_name":"rentox98"},"score":0,"creation_date":1701292355,"post_id":77574142,"comment_id":136759170,"body_markdown":"However, I didn&#39;t ask you to tell me how it works in my case, I wrote the first lines to justify my question, the question to the community is the general one of how to make a microservice work without those entry points and if something like this makes sense.","body":"However, I didn&#39;t ask you to tell me how it works in my case, I wrote the first lines to justify my question, the question to the community is the general one of how to make a microservice work without those entry points and if something like this makes sense."},{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":1,"creation_date":1701292357,"post_id":77574142,"comment_id":136759171,"body_markdown":"ok. so the thing that has to have an entry point is tomcat (or jetty or whatever is serving your application code). the spring-boot entry point is there so that it can boot up tomcat. if you were deploying to a running application server then you wouldn&#39;t need a spring boot entry point. although it would still be useful for running locally and getting rid of it is crazy.","body":"ok. so the thing that has to have an entry point is tomcat (or jetty or whatever is serving your application code). the spring-boot entry point is there so that it can boot up tomcat. if you were deploying to a running application server then you wouldn&#39;t need a spring boot entry point. although it would still be useful for running locally and getting rid of it is crazy."},{"owner":{"account_id":24095873,"reputation":426,"user_id":18068398,"display_name":"rentox98"},"score":0,"creation_date":1701292716,"post_id":77574142,"comment_id":136759222,"body_markdown":"Ok, so if I have to deploy the microservice for example on an application server I may not have the entry point in spring boot, but if I had a main it wouldn&#39;t change anything anyway","body":"Ok, so if I have to deploy the microservice for example on an application server I may not have the entry point in spring boot, but if I had a main it wouldn&#39;t change anything anyway"}],"owner":{"account_id":24095873,"reputation":426,"user_id":18068398,"display_name":"rentox98"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701292078,"creation_date":1701287752,"question_id":77574142,"body_markdown":"Lately I found myself with a spring boot microservice maven project with a simple MVC (controller, service, repository) flow but without an entry point, i.e. without an annotated @SpringBootApplication class or a main method;\r\n\r\nNow I&#39;m not clear on the ways to make the microservice work and what the logical loop is that makes everything work.\r\n\r\nThe microservice in my case runs on a docker container and in the pom.xml file it has the declaration of a pom parent (I don&#39;t know if this last information has any relevance)\r\n\r\nHowever, with these premises my question is to understand, having a spring project of this type, what are the different ways to use it and put it into operation, and above all, what is the reason that leads to this choice? What are the benefits if any?\r\n\r\nI hope I have been as clear as possible, Thank you all in advance.","title":"Doubts about Spring Boot microservice without entry point","body":"<p>Lately I found myself with a spring boot microservice maven project with a simple MVC (controller, service, repository) flow but without an entry point, i.e. without an annotated @SpringBootApplication class or a main method;</p>\n<p>Now I'm not clear on the ways to make the microservice work and what the logical loop is that makes everything work.</p>\n<p>The microservice in my case runs on a docker container and in the pom.xml file it has the declaration of a pom parent (I don't know if this last information has any relevance)</p>\n<p>However, with these premises my question is to understand, having a spring project of this type, what are the different ways to use it and put it into operation, and above all, what is the reason that leads to this choice? What are the benefits if any?</p>\n<p>I hope I have been as clear as possible, Thank you all in advance.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":6586022,"reputation":76,"user_id":5088766,"display_name":"mcarn"},"score":1,"creation_date":1700496837,"post_id":77517386,"comment_id":136658802,"body_markdown":"could you share the stacktrace?","body":"could you share the stacktrace?"},{"owner":{"account_id":29950264,"reputation":1,"user_id":22952536,"display_name":"Samy "},"score":0,"creation_date":1700497271,"post_id":77517386,"comment_id":136658870,"body_markdown":"stacktrace doesnt show any errors obviously. can paste it if you really want","body":"stacktrace doesnt show any errors obviously. can paste it if you really want"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1700497464,"post_id":77517386,"comment_id":136658910,"body_markdown":"You can [enable debug logging](https://docs.spring.io/spring-boot/docs/3.1.5/reference/html/features.html#features.logging) in your application and see what happens when it receives the request.","body":"You can <a href=\"https://docs.spring.io/spring-boot/docs/3.1.5/reference/html/features.html#features.logging\" rel=\"nofollow noreferrer\">enable debug logging</a> in your application and see what happens when it receives the request."},{"owner":{"account_id":1442071,"reputation":8707,"user_id":1361901,"display_name":"Joseph Larson"},"score":0,"creation_date":1700499193,"post_id":77517386,"comment_id":136659245,"body_markdown":"Try adding an Accept header of text/plain. I don&#39;t know if that will fix it or not. From curl -H &quot;Accept: text/plain&quot;.","body":"Try adding an Accept header of text/plain. I don&#39;t know if that will fix it or not. From curl -H &quot;Accept: text/plain&quot;."},{"owner":{"account_id":29950264,"reputation":1,"user_id":22952536,"display_name":"Samy "},"score":0,"creation_date":1700499517,"post_id":77517386,"comment_id":136659311,"body_markdown":"Not sure if this is the same but in tomcat access log i get :\n0:0:0:0:0:0:0:1 - - [20/Nov/2023:17:56:21 +0100] &quot;GET /plain-text HTTP/1.1&quot; 404 700\n\nwhich adds basically nothing","body":"Not sure if this is the same but in tomcat access log i get : 0:0:0:0:0:0:0:1 - - [20/Nov/2023:17:56:21 +0100] &quot;GET /plain-text HTTP/1.1&quot; 404 700  which adds basically nothing"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1700499932,"post_id":77517386,"comment_id":136659410,"body_markdown":"What is the context?  Maybe the URL needs to be: http://localhost:8080/demo/plain-text","body":"What is the context?  Maybe the URL needs to be: <a href=\"http://localhost:8080/demo/plain-text\" rel=\"nofollow noreferrer\">localhost:8080/demo/plain-text</a>"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1700500496,"post_id":77517386,"comment_id":136659539,"body_markdown":"FWIW I recreated your application with the same structure (on Linux) and couldn&#39;t reproduce your issue. Maybe you&#39;ve got a firewall that&#39;s blocking port 8080?","body":"FWIW I recreated your application with the same structure (on Linux) and couldn&#39;t reproduce your issue. Maybe you&#39;ve got a firewall that&#39;s blocking port 8080?"},{"owner":{"account_id":29950264,"reputation":1,"user_id":22952536,"display_name":"Samy "},"score":0,"creation_date":1700559643,"post_id":77517386,"comment_id":136666649,"body_markdown":"Port 8080 is open and well, accept header didnt change anything","body":"Port 8080 is open and well, accept header didnt change anything"},{"owner":{"account_id":29950264,"reputation":1,"user_id":22952536,"display_name":"Samy "},"score":1,"creation_date":1700564689,"post_id":77517386,"comment_id":136667595,"body_markdown":"executing the project without tomcat works just fine, i guess its a configuration problem from my side though I cant figure out what","body":"executing the project without tomcat works just fine, i guess its a configuration problem from my side though I cant figure out what"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1700566614,"post_id":77517386,"comment_id":136667925,"body_markdown":"Were you running a separate instance of Tomcat? By default, Spring Boot includes a Tomcat instance inside your application. So if your separate Tomcat instance was already listening on port 8080, your application would have failed to also listen on that port because that was already allocated to the separate Tomcat instance.","body":"Were you running a separate instance of Tomcat? By default, Spring Boot includes a Tomcat instance inside your application. So if your separate Tomcat instance was already listening on port 8080, your application would have failed to also listen on that port because that was already allocated to the separate Tomcat instance."},{"owner":{"account_id":29950264,"reputation":1,"user_id":22952536,"display_name":"Samy "},"score":0,"creation_date":1700641173,"post_id":77517386,"comment_id":136678266,"body_markdown":"I used a separate instance but even changing port didn&#39;t help it","body":"I used a separate instance but even changing port didn&#39;t help it"}],"answers":[{"tags":[],"owner":{"account_id":15039384,"reputation":1,"user_id":10854575,"display_name":"F. Kadıoğlu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701291716,"creation_date":1701291716,"answer_id":77574473,"question_id":77517386,"body_markdown":"You should use @RequestMapping annotation.\r\n\r\n    @RestController\r\n    @RequestMapping\r\n    public class ctrl \r\n    {\r\n    @GetMapping(value = &quot;/plain-text&quot;, produces = MediaType.TEXT_PLAIN_VALUE)\r\n    public ResponseEntity&lt;String&gt; getPlainText() \r\n    {\r\n        System.out.println(&quot;Hit me!&quot;);\r\n        return ResponseEntity.ok(&quot;This is plain text to be displayed in the page.&quot;);\r\n    }}","title":"HTTP Request returns 404 in Spring Boot","body":"<p>You should use @RequestMapping annotation.</p>\n<pre><code>@RestController\n@RequestMapping\npublic class ctrl \n{\n@GetMapping(value = &quot;/plain-text&quot;, produces = MediaType.TEXT_PLAIN_VALUE)\npublic ResponseEntity&lt;String&gt; getPlainText() \n{\n    System.out.println(&quot;Hit me!&quot;);\n    return ResponseEntity.ok(&quot;This is plain text to be displayed in the page.&quot;);\n}}\n</code></pre>\n"}],"owner":{"account_id":29950264,"reputation":1,"user_id":22952536,"display_name":"Samy "},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701291716,"creation_date":1700496656,"question_id":77517386,"body_markdown":"I have the simplest of architectures as follows, just for the sake of testing :\r\n\r\n![Project architecture](https://i.stack.imgur.com/6E4b0.png)\r\n\r\nctrl.java :\r\n\r\n```\r\n@RestController\r\npublic class ctrl {\r\n    @GetMapping(value = &quot;/plain-text&quot;, produces = MediaType.TEXT_PLAIN_VALUE)\r\n    public ResponseEntity&lt;String&gt; getPlainText() {\r\n        System.out.println(&quot;Hit me!&quot;);\r\n        return ResponseEntity.ok(&quot;This is plain text to be displayed in the page.&quot;);\r\n    }\r\n}\r\n\r\n```\r\nDemoApplication.java :\r\n\r\n```\r\n@SpringBootApplication\r\npublic class DemoApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nRequesting http://localhost:8080/plain-text\r\n\r\nreturns a 404 error. I can&#39;t wrap my head around it.\r\n\r\nI have all the needed dependencies : JPA, Spring Web, Spring starter web...etc\r\n","title":"HTTP Request returns 404 in Spring Boot","body":"<p>I have the simplest of architectures as follows, just for the sake of testing :</p>\n<p><img src=\"https://i.stack.imgur.com/6E4b0.png\" alt=\"Project architecture\" /></p>\n<p>ctrl.java :</p>\n<pre><code>@RestController\npublic class ctrl {\n    @GetMapping(value = &quot;/plain-text&quot;, produces = MediaType.TEXT_PLAIN_VALUE)\n    public ResponseEntity&lt;String&gt; getPlainText() {\n        System.out.println(&quot;Hit me!&quot;);\n        return ResponseEntity.ok(&quot;This is plain text to be displayed in the page.&quot;);\n    }\n}\n\n</code></pre>\n<p>DemoApplication.java :</p>\n<pre><code>@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Requesting http://localhost:8080/plain-text</p>\n<p>returns a 404 error. I can't wrap my head around it.</p>\n<p>I have all the needed dependencies : JPA, Spring Web, Spring starter web...etc</p>\n"},{"tags":["java","android","hotspot"],"answers":[{"comments":[{"owner":{"account_id":6139845,"reputation":83,"user_id":4787578,"display_name":"Marcello Carrozzino"},"score":0,"creation_date":1677077312,"post_id":75533571,"comment_id":133266426,"body_markdown":"Does this work only if the other devices are Android as well?","body":"Does this work only if the other devices are Android as well?"},{"owner":{"account_id":14555492,"reputation":64,"user_id":10513148,"display_name":"Isuru"},"score":0,"creation_date":1677081775,"post_id":75533571,"comment_id":133268025,"body_markdown":"Docs doesn&#39;t say it shouldn&#39;t. Also check [WiFi Direct](https://developer.android.com/training/connect-devices-wirelessly/wifi-direct) as well.","body":"Docs doesn&#39;t say it shouldn&#39;t. Also check <a href=\"https://developer.android.com/training/connect-devices-wirelessly/wifi-direct\" rel=\"nofollow noreferrer\">WiFi Direct</a> as well."}],"tags":[],"owner":{"account_id":14555492,"reputation":64,"user_id":10513148,"display_name":"Isuru"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677073419,"creation_date":1677073419,"answer_id":75533571,"question_id":75531586,"body_markdown":"One possible solution is to use the Android Network Service Discovery (NSD) API [doc][1]. NSD allows devices on a local network to discover and communicate with each other without requiring any configuration. With NSD, you can advertise your service (e.g., your mobile hotspot) and discover other devices that are connected to it.\r\n\r\nHere is an example code to advertise your service:\r\n\r\n\r\n\r\n    NsdServiceInfo serviceInfo  = new NsdServiceInfo();\r\n    serviceInfo.setServiceName(&quot;My Hotspot&quot;);\r\n    serviceInfo.setServiceType(&quot;_http._tcp.&quot;);\r\n    serviceInfo.setPort(8080);\r\n    NsdManager nsdManager = (NsdManager) getSystemService(Context.NSD_SERVICE);\r\n    nsdManager.registerService(serviceInfo, NsdManager.PROTOCOL_DNS_SD, new NsdManager.RegistrationListener() {\r\n        @Override\r\n        public void onServiceRegistered(NsdServiceInfo serviceInfo) {\r\n            Log.d(TAG, &quot;Service registered: &quot; + serviceInfo);\r\n        }\r\n    \r\n        @Override\r\n        public void onRegistrationFailed(NsdServiceInfo serviceInfo, int errorCode) {\r\n            Log.e(TAG, &quot;Registration failed: &quot; + errorCode);\r\n        }\r\n    \r\n        @Override\r\n        public void onServiceUnregistered(NsdServiceInfo serviceInfo) {\r\n            Log.d(TAG, &quot;Service unregistered: &quot; + serviceInfo);\r\n        }\r\n    \r\n        @Override\r\n        public void onUnregistrationFailed(NsdServiceInfo serviceInfo, int errorCode) {\r\n            Log.e(TAG, &quot;Unregistration failed: &quot; + errorCode);\r\n        }\r\n    });\r\n\r\nThis code advertises a service with the name &quot;My Hotspot&quot; and the type &quot;_http._tcp.&quot; on port 8080. Other devices on the local network can discover this service by using the NSD API.\r\n\r\nTo discover other devices that are connected to your hotspot, you can use the NSD discovery API:\r\n\r\n\r\n    nsdManager.discoverServices(&quot;_http._tcp.&quot;, NsdManager.PROTOCOL_DNS_SD, new NsdManager.DiscoveryListener() {\r\n        @Override\r\n        public void onStartDiscoveryFailed(String serviceType, int errorCode) {\r\n            Log.e(TAG, &quot;Discovery failed: &quot; + errorCode);\r\n        }\r\n    \r\n        @Override\r\n        public void onStopDiscoveryFailed(String serviceType, int errorCode) {\r\n            Log.e(TAG, &quot;Discovery stopped: &quot; + errorCode);\r\n        }\r\n    \r\n        @Override\r\n        public void onDiscoveryStarted(String serviceType) {\r\n            Log.d(TAG, &quot;Discovery started&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onDiscoveryStopped(String serviceType) {\r\n            Log.d(TAG, &quot;Discovery stopped&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onServiceFound(NsdServiceInfo serviceInfo) {\r\n            Log.d(TAG, &quot;Service found: &quot; + serviceInfo);\r\n            // Get the IP address of the device that advertises this service\r\n            InetAddress deviceAddress = serviceInfo.getHost();\r\n            String deviceIpAddress = deviceAddress.getHostAddress();\r\n            // Do something with the IP address\r\n        }\r\n    \r\n        @Override\r\n        public void onServiceLost(NsdServiceInfo serviceInfo) {\r\n            Log.d(TAG, &quot;Service lost: &quot; + serviceInfo);\r\n        }\r\n    });\r\n\r\nThis code discovers services of the type &quot;_http._tcp.&quot; and logs the IP address of the device that advertises each service. You can use this IP address to communicate with the device.\r\n\r\nNote that NSD requires the ACCESS_WIFI_STATE and CHANGE_WIFI_STATE permissions, as well as the NSD API level 16 or higher.\r\n\r\n\r\n  [1]: https://developer.android.com/training/connect-devices-wirelessly/nsd\r\n\r\n","title":"How can I programmatically get information about local hotspot?","body":"<p>One possible solution is to use the Android Network Service Discovery (NSD) API <a href=\"https://developer.android.com/training/connect-devices-wirelessly/nsd\" rel=\"nofollow noreferrer\">doc</a>. NSD allows devices on a local network to discover and communicate with each other without requiring any configuration. With NSD, you can advertise your service (e.g., your mobile hotspot) and discover other devices that are connected to it.</p>\n<p>Here is an example code to advertise your service:</p>\n<pre><code>NsdServiceInfo serviceInfo  = new NsdServiceInfo();\nserviceInfo.setServiceName(&quot;My Hotspot&quot;);\nserviceInfo.setServiceType(&quot;_http._tcp.&quot;);\nserviceInfo.setPort(8080);\nNsdManager nsdManager = (NsdManager) getSystemService(Context.NSD_SERVICE);\nnsdManager.registerService(serviceInfo, NsdManager.PROTOCOL_DNS_SD, new NsdManager.RegistrationListener() {\n    @Override\n    public void onServiceRegistered(NsdServiceInfo serviceInfo) {\n        Log.d(TAG, &quot;Service registered: &quot; + serviceInfo);\n    }\n\n    @Override\n    public void onRegistrationFailed(NsdServiceInfo serviceInfo, int errorCode) {\n        Log.e(TAG, &quot;Registration failed: &quot; + errorCode);\n    }\n\n    @Override\n    public void onServiceUnregistered(NsdServiceInfo serviceInfo) {\n        Log.d(TAG, &quot;Service unregistered: &quot; + serviceInfo);\n    }\n\n    @Override\n    public void onUnregistrationFailed(NsdServiceInfo serviceInfo, int errorCode) {\n        Log.e(TAG, &quot;Unregistration failed: &quot; + errorCode);\n    }\n});\n</code></pre>\n<p>This code advertises a service with the name &quot;My Hotspot&quot; and the type &quot;_http._tcp.&quot; on port 8080. Other devices on the local network can discover this service by using the NSD API.</p>\n<p>To discover other devices that are connected to your hotspot, you can use the NSD discovery API:</p>\n<pre><code>nsdManager.discoverServices(&quot;_http._tcp.&quot;, NsdManager.PROTOCOL_DNS_SD, new NsdManager.DiscoveryListener() {\n    @Override\n    public void onStartDiscoveryFailed(String serviceType, int errorCode) {\n        Log.e(TAG, &quot;Discovery failed: &quot; + errorCode);\n    }\n\n    @Override\n    public void onStopDiscoveryFailed(String serviceType, int errorCode) {\n        Log.e(TAG, &quot;Discovery stopped: &quot; + errorCode);\n    }\n\n    @Override\n    public void onDiscoveryStarted(String serviceType) {\n        Log.d(TAG, &quot;Discovery started&quot;);\n    }\n\n    @Override\n    public void onDiscoveryStopped(String serviceType) {\n        Log.d(TAG, &quot;Discovery stopped&quot;);\n    }\n\n    @Override\n    public void onServiceFound(NsdServiceInfo serviceInfo) {\n        Log.d(TAG, &quot;Service found: &quot; + serviceInfo);\n        // Get the IP address of the device that advertises this service\n        InetAddress deviceAddress = serviceInfo.getHost();\n        String deviceIpAddress = deviceAddress.getHostAddress();\n        // Do something with the IP address\n    }\n\n    @Override\n    public void onServiceLost(NsdServiceInfo serviceInfo) {\n        Log.d(TAG, &quot;Service lost: &quot; + serviceInfo);\n    }\n});\n</code></pre>\n<p>This code discovers services of the type &quot;_http._tcp.&quot; and logs the IP address of the device that advertises each service. You can use this IP address to communicate with the device.</p>\n<p>Note that NSD requires the ACCESS_WIFI_STATE and CHANGE_WIFI_STATE permissions, as well as the NSD API level 16 or higher.</p>\n"}],"owner":{"account_id":6139845,"reputation":83,"user_id":4787578,"display_name":"Marcello Carrozzino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701291417,"creation_date":1677062662,"question_id":75531586,"body_markdown":"I need to perform a scan of the devices connected to the hotspot I broadcast with my mobile in order to start a communication only with these devices. The basic information I need is the broadcast address, but any other information leading to that would be good (the IP address of a connected device, for instance).\r\n\r\nOn my mobile it is actually straightforward: the NetworkInterface has always the name &quot;wlan1&quot;, so it is pretty easy to get IP information (&quot;wlan0&quot; being the main WiFi interface).\r\n\r\nHowever this name might change on other mobiles (for instance becoming &quot;ap0&quot; or &quot;ap1&quot;).\r\nEven worse, on one model I have verified that if both WiFi and hotspot are enabled, they are respectively &quot;wlan0&quot; and &quot;wlan1&quot; but, if I turn off WiFi, the hotspot interface becomes &quot;wlan0&quot;!\r\n\r\nThis is the code I use:\r\n\r\n     for (Enumeration&lt;InetAddress&gt; enumIpAddr = intf.getInetAddresses(); enumIpAddr.hasMoreElements(); ) {\r\n                    InetAddress inetAddress = enumIpAddr.nextElement();\r\n                    if (!inetAddress.isLoopbackAddress() &amp;&amp; inetAddress instanceof Inet4Address) {\r\n                        String ipadd = inetAddress.getHostAddress();\r\n                        if (name.equals(&quot;wlan0&quot;) || name.equals(&quot;wlan1&quot;))\r\n                        {\r\n                            System.out.println(&quot;Found WLAN= &quot; + name);\r\n                            System.out.println(&quot;IP Address = &quot; + ipadd);\r\n                            for (InterfaceAddress interfaceAddress : intf.getInterfaceAddresses()) {\r\n                                if (interfaceAddress != null) {\r\n                                    InetAddress broadcastadd = interfaceAddress.getBroadcast();\r\n                                    if (broadcastadd != null) {\r\n                                        found_bcast_address = broadcastadd.toString();\r\n                                        found_bcast_address = found_bcast_address.substring(1);\r\n                                        System.out.println(&quot;Broadcast Address = &quot; + found_bcast_address);\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\nThe main problem is that I do not know which is the name of the Interface related to the hotspot, so with this code I don&#39;t know if the device that will answer when I send messages to the broadcast address is connected to my mobile hotspot or the WLAN my mobile is connected.\r\n\r\nIn other posts I&#39;ve seen solutions based on:\r\n\r\n1) reading the file &quot;/proc/net/arp&quot; -&gt; but on modern Android this is not feasible\r\n2) using reflection and calling &quot;getWifiApConfiguration&quot;, but again this is not feasible anymore on modern Android\r\n\r\nAny way to get this information on recent Android?","title":"How can I programmatically get information about local hotspot?","body":"<p>I need to perform a scan of the devices connected to the hotspot I broadcast with my mobile in order to start a communication only with these devices. The basic information I need is the broadcast address, but any other information leading to that would be good (the IP address of a connected device, for instance).</p>\n<p>On my mobile it is actually straightforward: the NetworkInterface has always the name &quot;wlan1&quot;, so it is pretty easy to get IP information (&quot;wlan0&quot; being the main WiFi interface).</p>\n<p>However this name might change on other mobiles (for instance becoming &quot;ap0&quot; or &quot;ap1&quot;).\nEven worse, on one model I have verified that if both WiFi and hotspot are enabled, they are respectively &quot;wlan0&quot; and &quot;wlan1&quot; but, if I turn off WiFi, the hotspot interface becomes &quot;wlan0&quot;!</p>\n<p>This is the code I use:</p>\n<pre><code> for (Enumeration&lt;InetAddress&gt; enumIpAddr = intf.getInetAddresses(); enumIpAddr.hasMoreElements(); ) {\n                InetAddress inetAddress = enumIpAddr.nextElement();\n                if (!inetAddress.isLoopbackAddress() &amp;&amp; inetAddress instanceof Inet4Address) {\n                    String ipadd = inetAddress.getHostAddress();\n                    if (name.equals(&quot;wlan0&quot;) || name.equals(&quot;wlan1&quot;))\n                    {\n                        System.out.println(&quot;Found WLAN= &quot; + name);\n                        System.out.println(&quot;IP Address = &quot; + ipadd);\n                        for (InterfaceAddress interfaceAddress : intf.getInterfaceAddresses()) {\n                            if (interfaceAddress != null) {\n                                InetAddress broadcastadd = interfaceAddress.getBroadcast();\n                                if (broadcastadd != null) {\n                                    found_bcast_address = broadcastadd.toString();\n                                    found_bcast_address = found_bcast_address.substring(1);\n                                    System.out.println(&quot;Broadcast Address = &quot; + found_bcast_address);\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n</code></pre>\n<p>The main problem is that I do not know which is the name of the Interface related to the hotspot, so with this code I don't know if the device that will answer when I send messages to the broadcast address is connected to my mobile hotspot or the WLAN my mobile is connected.</p>\n<p>In other posts I've seen solutions based on:</p>\n<ol>\n<li>reading the file &quot;/proc/net/arp&quot; -&gt; but on modern Android this is not feasible</li>\n<li>using reflection and calling &quot;getWifiApConfiguration&quot;, but again this is not feasible anymore on modern Android</li>\n</ol>\n<p>Any way to get this information on recent Android?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-security"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1701291387,"post_id":77574440,"comment_id":136759022,"body_markdown":"You could try to temporarily include both Java EE and Jakarta EE dependencies and then remove the Java EE dependencies before running the project (after you have done the migration so far that it compiles). But for Spring itself, you either need to use Spring Boot 2 or Spring Boot 3. Also, you might want to use half-automated migration tools to take care about things like changing package names.","body":"You could try to temporarily include both Java EE and Jakarta EE dependencies and then remove the Java EE dependencies before running the project (after you have done the migration so far that it compiles). But for Spring itself, you either need to use Spring Boot 2 or Spring Boot 3. Also, you might want to use half-automated migration tools to take care about things like changing package names."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1701291569,"post_id":77574440,"comment_id":136759053,"body_markdown":"For example, the [migration guide](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide) mentions the following tools that might help with migration: https://docs.openrewrite.org/recipes/java/migrate/jakarta/javaxmigrationtojakarta, https://github.com/spring-projects-experimental/spring-boot-migrator and https://blog.jetbrains.com/idea/2021/06/intellij-idea-eap-6/","body":"For example, the <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide\" rel=\"nofollow noreferrer\">migration guide</a> mentions the following tools that might help with migration: <a href=\"https://docs.openrewrite.org/recipes/java/migrate/jakarta/javaxmigrationtojakarta\" rel=\"nofollow noreferrer\">docs.openrewrite.org/recipes/java/migrate/jakarta/&hellip;</a>, <a href=\"https://github.com/spring-projects-experimental/spring-boot-migrator\" rel=\"nofollow noreferrer\">github.com/spring-projects-experimental/spring-boot-migrator</a> and <a href=\"https://blog.jetbrains.com/idea/2021/06/intellij-idea-eap-6/\" rel=\"nofollow noreferrer\">blog.jetbrains.com/idea/2021/06/intellij-idea-eap-6</a>"},{"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"score":1,"creation_date":1701310942,"post_id":77574440,"comment_id":136761146,"body_markdown":"First what you need is to make sure that your project is working with JDK17, since that is the lowest JDK required for Spring Boot 3, after your project is compiling and your tests are not failing, then you can upgrade the libraries. At least that is what we did when we upgraded our project.","body":"First what you need is to make sure that your project is working with JDK17, since that is the lowest JDK required for Spring Boot 3, after your project is compiling and your tests are not failing, then you can upgrade the libraries. At least that is what we did when we upgraded our project."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1701327348,"post_id":77574440,"comment_id":136762514,"body_markdown":"You can upgrade to the new Spring Security configuration already (the old one is already deprecated in Spring Boot 2.7). Moving to JDK17 is also already possible.  JakartaEE upgrade is not something you can easily do that has to be a big bang.","body":"You can upgrade to the new Spring Security configuration already (the old one is already deprecated in Spring Boot 2.7). Moving to JDK17 is also already possible.  JakartaEE upgrade is not something you can easily do that has to be a big bang."},{"owner":{"account_id":6075803,"reputation":187,"user_id":4743211,"accept_rate":0,"display_name":"Anthony"},"score":0,"creation_date":1701428314,"post_id":77574440,"comment_id":136777125,"body_markdown":"Project has been upgraded to SpringBoot 2.7.17 JDK17, all tests etc + project run is OK. I&#39;ve solved all depreacted like WebSecurityConfigurerAdapter...\n\nI believe effectilvy that migration to SpringBoot 3 has to be BigBang","body":"Project has been upgraded to SpringBoot 2.7.17 JDK17, all tests etc + project run is OK. I&#39;ve solved all depreacted like WebSecurityConfigurerAdapter...  I believe effectilvy that migration to SpringBoot 3 has to be BigBang"}],"owner":{"account_id":6075803,"reputation":187,"user_id":4743211,"accept_rate":0,"display_name":"Anthony"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1701291310,"creation_date":1701291310,"question_id":77574440,"body_markdown":"I&#39;ve upgraded all my dependencies to go up to SpringBoot 2.7 and now I want to upgraded to SpringBoot 3.x. I saw that I&#39;ll to change javax.persistence.* and javax.servlet.* to jakarta.... and also update my SpringSecurity antMatchers to requestMasters.\r\n\r\nBut As I&#39;m trying to upgrade properly, commiting subject (Security, persistance, servlet) one by bon I wonder if there is a way to upgrade those things and preparing upgrade to SpringBoot 3 before upgrading it directly or if I have to upgrade and resolve all dependencies.\r\n\r\nThanks on advance.","title":"SpringBoot 3 migration","body":"<p>I've upgraded all my dependencies to go up to SpringBoot 2.7 and now I want to upgraded to SpringBoot 3.x. I saw that I'll to change javax.persistence.* and javax.servlet.* to jakarta.... and also update my SpringSecurity antMatchers to requestMasters.</p>\n<p>But As I'm trying to upgrade properly, commiting subject (Security, persistance, servlet) one by bon I wonder if there is a way to upgrade those things and preparing upgrade to SpringBoot 3 before upgrading it directly or if I have to upgrade and resolve all dependencies.</p>\n<p>Thanks on advance.</p>\n"},{"tags":["java","android","android-camera"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701291126,"creation_date":1701291126,"answer_id":77574429,"question_id":77574380,"body_markdown":"Set an EXTRA_SIZE_LIMIT.  This is the maximum size in bytes.  Now its possible the camera app will ignore this flag (it&#39;s a request, not an enforced value), but it *should* work for most camera apps.","title":"Android camera - Is it possible to restrict image size?","body":"<p>Set an EXTRA_SIZE_LIMIT.  This is the maximum size in bytes.  Now its possible the camera app will ignore this flag (it's a request, not an enforced value), but it <em>should</em> work for most camera apps.</p>\n"}],"owner":{"account_id":326318,"reputation":7188,"user_id":648026,"accept_rate":79,"display_name":"JavaSheriff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77574429,"answer_count":1,"score":0,"last_activity_date":1701291126,"creation_date":1701290576,"question_id":77574380,"body_markdown":"I am working on this app On android phone,    \r\nOn newer phones the images that are captured are sometimes 10MB -&gt; 8000 x 6000  pixels.     \r\nAnd this is an overkill for our application and usage. we need a smaller image size      \r\n\r\nThis is the code that captures the images,    \r\nIs it possible to restrict the camera to a specific dimensions ?   \r\nlets say maximum image size 4032 x 3024    \r\nOr   \r\nIs it possible to restrict the camera to a maximum image size 3MB  \r\nThank you!\r\n\r\n    private void dispatchTakePictureIntent() {\r\n        Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n        // Ensure that there&#39;s a camera activity to handle the intent\r\n        if (takePictureIntent.resolveActivity(getPackageManager()) != null) {\r\n            // Create the File where the photo should go\r\n            File photoFile = null;\r\n            try {\r\n                photoFile = createImageFile();\r\n            } catch (IOException ex) {\r\n                // Error occurred while creating the File\r\n                ...\r\n            }\r\n            // Continue only if the File was successfully created\r\n            if (photoFile != null) {\r\n                Uri photoURI = FileProvider.getUriForFile(this,\r\n                                                      &quot;com.example.android.fileprovider&quot;,\r\n                                                      photoFile);\r\n                takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, photoURI);\r\n                startActivityForResult(takePictureIntent, REQUEST_IMAGE_CAPTURE);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Android camera - Is it possible to restrict image size?","body":"<p>I am working on this app On android phone,<br />\nOn newer phones the images that are captured are sometimes 10MB -&gt; 8000 x 6000  pixels.<br />\nAnd this is an overkill for our application and usage. we need a smaller image size</p>\n<p>This is the code that captures the images,<br />\nIs it possible to restrict the camera to a specific dimensions ?<br />\nlets say maximum image size 4032 x 3024<br />\nOr<br />\nIs it possible to restrict the camera to a maximum image size 3MB<br />\nThank you!</p>\n<pre><code>private void dispatchTakePictureIntent() {\n    Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n    // Ensure that there's a camera activity to handle the intent\n    if (takePictureIntent.resolveActivity(getPackageManager()) != null) {\n        // Create the File where the photo should go\n        File photoFile = null;\n        try {\n            photoFile = createImageFile();\n        } catch (IOException ex) {\n            // Error occurred while creating the File\n            ...\n        }\n        // Continue only if the File was successfully created\n        if (photoFile != null) {\n            Uri photoURI = FileProvider.getUriForFile(this,\n                                                  &quot;com.example.android.fileprovider&quot;,\n                                                  photoFile);\n            takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, photoURI);\n            startActivityForResult(takePictureIntent, REQUEST_IMAGE_CAPTURE);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","list","templates","integer","comparator"],"comments":[{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":0,"creation_date":1701238358,"post_id":77568900,"comment_id":136749407,"body_markdown":"What&#39;s the logic for the order of `listC`? It&#39;s not clear from your description, nor from your code.","body":"What&#39;s the logic for the order of <code>listC</code>? It&#39;s not clear from your description, nor from your code."}],"answers":[{"tags":[],"owner":{"account_id":23317768,"reputation":58,"user_id":17396162,"display_name":"Фёдор Надуткин"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701240759,"creation_date":1701240759,"answer_id":77569115,"question_id":77568900,"body_markdown":"I think, this code may help you\r\n\r\n```Java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        List&lt;Integer&gt; listA = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 6, 5, 4, 3, 2, 1, 0);\r\n        List&lt;Integer&gt; listB = Arrays.asList(0,106,107,101,105,102,102,103,104,106,105,103,101,104);\r\n\r\n        // ensure, that sizes are equal\r\n        assert (listA.size() == listB.size());\r\n\r\n        // sort for better mapping\r\n        List&lt;Integer&gt; listAValues = listA.stream().sorted().toList();\r\n        List&lt;Integer&gt; listBValues = listB.stream().sorted().toList();\r\n\r\n        // map to ensure, that template completes\r\n        Map&lt;Integer, Integer&gt; template = new HashMap&lt;&gt;();\r\n        Set&lt;Integer&gt; processedB = new HashSet&lt;&gt;();\r\n        for (int i = 0; i &lt; listAValues.size(); i++) {\r\n            Integer key = listAValues.get(i);\r\n            Integer value = listBValues.get(i);\r\n            if (template.containsKey(key)) {\r\n                assert(template.get(key).equals(value));\r\n            } else {\r\n                assert(!processedB.contains(value));\r\n                template.put(key, value);\r\n                processedB.add(value);\r\n            }\r\n        }\r\n\r\n        // rearrange\r\n        List&lt;Integer&gt; rearrangedListB = listA\r\n                .stream()\r\n                .map(template::get)\r\n                .toList();\r\n        System.err.println(&quot;Rearranged listB: &quot; + rearrangedListB);\r\n    }\r\n}\r\n```\r\n\r\nI map values from A to B + ensure, that there is a correct number of every value. After I&#39;ve done this I rearrange List B.\r\n\r\nThis is, what code printed for me\r\n\r\n```\r\nRearranged listB: [101, 102, 103, 104, 105, 106, 107, 106, 105, 104, 103, 102, 101, 0]\r\n```","title":"One list acts as a template to sort another list","body":"<p>I think, this code may help you</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        List&lt;Integer&gt; listA = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 6, 5, 4, 3, 2, 1, 0);\n        List&lt;Integer&gt; listB = Arrays.asList(0,106,107,101,105,102,102,103,104,106,105,103,101,104);\n\n        // ensure, that sizes are equal\n        assert (listA.size() == listB.size());\n\n        // sort for better mapping\n        List&lt;Integer&gt; listAValues = listA.stream().sorted().toList();\n        List&lt;Integer&gt; listBValues = listB.stream().sorted().toList();\n\n        // map to ensure, that template completes\n        Map&lt;Integer, Integer&gt; template = new HashMap&lt;&gt;();\n        Set&lt;Integer&gt; processedB = new HashSet&lt;&gt;();\n        for (int i = 0; i &lt; listAValues.size(); i++) {\n            Integer key = listAValues.get(i);\n            Integer value = listBValues.get(i);\n            if (template.containsKey(key)) {\n                assert(template.get(key).equals(value));\n            } else {\n                assert(!processedB.contains(value));\n                template.put(key, value);\n                processedB.add(value);\n            }\n        }\n\n        // rearrange\n        List&lt;Integer&gt; rearrangedListB = listA\n                .stream()\n                .map(template::get)\n                .toList();\n        System.err.println(&quot;Rearranged listB: &quot; + rearrangedListB);\n    }\n}\n</code></pre>\n<p>I map values from A to B + ensure, that there is a correct number of every value. After I've done this I rearrange List B.</p>\n<p>This is, what code printed for me</p>\n<pre><code>Rearranged listB: [101, 102, 103, 104, 105, 106, 107, 106, 105, 104, 103, 102, 101, 0]\n</code></pre>\n"}],"owner":{"account_id":10728698,"reputation":21,"user_id":7895446,"display_name":"KIPARN"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77569115,"answer_count":1,"score":0,"last_activity_date":1701290955,"creation_date":1701238030,"question_id":77568900,"body_markdown":"Lets say there are two lists:\r\n\r\n`List&lt;Integer&gt; listA = Arrays.asList(1,2,3,4,5,6,7,6,5,4,3,2,1,0);`\r\nThis list is a template for sorting another `listB`.\r\n\r\n`List&lt;Integer&gt; listB = Arrays.asList(0,106,107,101,105,102,102,103,104,106,105,103,101,104);`\r\nThis list on the other hand is unsorted.\r\n\r\nThe final list lets say `listC` should be having the order (101,102,103,104,106,107,106,105,104,103,102,101,0)? I am using comparators but it fails for different usecases?\r\n\r\n```java\r\npublic class JavaComparators {\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tList&lt;Integer&gt; listA = Arrays.asList(1,2,3,4,5,6,7,6,5,4,3,2,1,0);\r\n\t\tList&lt;Integer&gt; listB = Arrays.asList(0,106,107,101,105,102,102,103,104,106,105,103,101,104);\r\n\t\t\r\n\t\tSystem.err.println(listA);\r\n\t\tSystem.err.println(listB);\r\n\r\n        // Create a set of elements present in listB for faster lookup\r\n        Set&lt;Integer&gt; setB = new HashSet&lt;&gt;(listB);\r\n\r\n        // Sort listA based on the index in listB or use a default index if not present\r\n        listB.sort(Comparator.comparingInt(a -&gt; {\r\n            int index = listA.indexOf(a);\r\n            \r\n            if (index == -1) {\r\n                // If the element is not in listB, check for nearby values\r\n                int indexPlusOne = listA.indexOf(a + 100);\r\n                int indexMinusOne = listA.indexOf(a - 100);\r\n\r\n                if (indexPlusOne != -1) {\r\n                    return indexPlusOne;\r\n                } else if (indexMinusOne != -1) {\r\n                    return indexMinusOne;\r\n                } else {\r\n                    // Use a default index if not present in listB or nearby\r\n                    return Integer.MAX_VALUE;\r\n                }\r\n            }\r\n\r\n            return index;\r\n        }));\r\n\r\n        System.err.println(&quot;Rearranged listB: &quot; + listB);\r\n\t}\r\n}\r\n```\r\n\r\nThis is what I tried and this is the solution that I get, which is incorrect\r\n\r\n```\r\n[1, 2, 3, 4, 5, 6, 7, 6, 5, 4, 3, 2, 1, 0]\r\n[0, 106, 107, 101, 105, 102, 102, 103, 104, 106, 105, 103, 101, 104]\r\nRearranged listB: [101, 101, 102, 102, 103, 103, 104, 104, 105, 105, 106, 106, 107, 0]\r\n```\r\n","title":"One list acts as a template to sort another list","body":"<p>Lets say there are two lists:</p>\n<p><code>List&lt;Integer&gt; listA = Arrays.asList(1,2,3,4,5,6,7,6,5,4,3,2,1,0);</code>\nThis list is a template for sorting another <code>listB</code>.</p>\n<p><code>List&lt;Integer&gt; listB = Arrays.asList(0,106,107,101,105,102,102,103,104,106,105,103,101,104);</code>\nThis list on the other hand is unsorted.</p>\n<p>The final list lets say <code>listC</code> should be having the order (101,102,103,104,106,107,106,105,104,103,102,101,0)? I am using comparators but it fails for different usecases?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class JavaComparators {\n    public static void main(String[] args) {\n        \n        List&lt;Integer&gt; listA = Arrays.asList(1,2,3,4,5,6,7,6,5,4,3,2,1,0);\n        List&lt;Integer&gt; listB = Arrays.asList(0,106,107,101,105,102,102,103,104,106,105,103,101,104);\n        \n        System.err.println(listA);\n        System.err.println(listB);\n\n        // Create a set of elements present in listB for faster lookup\n        Set&lt;Integer&gt; setB = new HashSet&lt;&gt;(listB);\n\n        // Sort listA based on the index in listB or use a default index if not present\n        listB.sort(Comparator.comparingInt(a -&gt; {\n            int index = listA.indexOf(a);\n            \n            if (index == -1) {\n                // If the element is not in listB, check for nearby values\n                int indexPlusOne = listA.indexOf(a + 100);\n                int indexMinusOne = listA.indexOf(a - 100);\n\n                if (indexPlusOne != -1) {\n                    return indexPlusOne;\n                } else if (indexMinusOne != -1) {\n                    return indexMinusOne;\n                } else {\n                    // Use a default index if not present in listB or nearby\n                    return Integer.MAX_VALUE;\n                }\n            }\n\n            return index;\n        }));\n\n        System.err.println(&quot;Rearranged listB: &quot; + listB);\n    }\n}\n</code></pre>\n<p>This is what I tried and this is the solution that I get, which is incorrect</p>\n<pre><code>[1, 2, 3, 4, 5, 6, 7, 6, 5, 4, 3, 2, 1, 0]\n[0, 106, 107, 101, 105, 102, 102, 103, 104, 106, 105, 103, 101, 104]\nRearranged listB: [101, 101, 102, 102, 103, 103, 104, 104, 105, 105, 106, 106, 107, 0]\n</code></pre>\n"},{"tags":["java","android","xml","android-layout","android-elevation"],"answers":[{"tags":[],"owner":{"account_id":12143210,"reputation":3642,"user_id":10635880,"display_name":"Vedprakash Wagh"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1559599441,"creation_date":1559507763,"answer_id":56418778,"question_id":56418634,"body_markdown":"You&#39;ll have to use `CardView` to get the shadow effect. Try the following layout as RecyclerView item, and see if it works.\r\n\r\n    &lt;android.support.v7.widget.CardView\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    app:cardElevation=&quot;10dp&quot;\r\n    app:cardUseCompatPadding=&quot;true&quot;\r\n    app:cardCornerRadius=&quot;10dp&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n      android:id=&quot;@+id/layout&quot;\r\n      android:layout_width=&quot;match_parent&quot;\r\n      android:layout_height=&quot;wrap_content&quot;\r\n      android:layout_margin=&quot;5dp&quot;\r\n      android:background=&quot;@drawable/shape_rectangle_rounded_corner_black&quot;\r\n      android:orientation=&quot;vertical&quot;&gt;\r\n\r\n      &lt;RelativeLayout\r\n        android:id=&quot;@+id/rl_time&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:paddingTop=&quot;20dp&quot;\r\n        android:paddingStart=&quot;20dp&quot;&gt;\r\n\r\n        &lt;de.hdodenhof.circleimageview.CircleImageView\r\n          android:layout_width=&quot;13dp&quot;\r\n          android:layout_height=&quot;13dp&quot;\r\n          android:background=&quot;@color/colorPrimary&quot;\r\n          android:visibility=&quot;gone&quot;\r\n          app:civ_border_width=&quot;1dp&quot;/&gt;\r\n\r\n        &lt;TextView\r\n          android:id=&quot;@+id/tv_time&quot;\r\n          android:layout_width=&quot;wrap_content&quot;\r\n          android:layout_height=&quot;wrap_content&quot;\r\n          android:fontFamily=&quot;@font/font_avenirltstd_book&quot;\r\n          android:textColor=&quot;@color/color_light_grey&quot;\r\n          android:textSize=&quot;14sp&quot;\r\n          tools:text=&quot;12 PM&quot;/&gt;\r\n\r\n        &lt;TextView\r\n          android:id=&quot;@+id/tv_distance&quot;\r\n          android:layout_width=&quot;wrap_content&quot;\r\n          android:layout_height=&quot;wrap_content&quot;\r\n          android:layout_marginEnd=&quot;15dp&quot;\r\n          android:layout_alignParentEnd=&quot;true&quot;\r\n          android:fontFamily=&quot;@font/font_avenirltstd_book&quot;\r\n          android:text=&quot;2.1 mi.&quot;\r\n          android:textColor=&quot;@color/color_light_grey&quot;\r\n          android:textSize=&quot;14sp&quot;/&gt;\r\n\r\n      &lt;/RelativeLayout&gt;\r\n\r\n      &lt;TextView\r\n        android:id=&quot;@+id/tv_workout_Name&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:paddingTop=&quot;10dp&quot;\r\n        android:paddingStart=&quot;20dp&quot;\r\n        android:fontFamily=&quot;@font/font_avenirltstd_heavy&quot;\r\n        android:textColor=&quot;@color/color_black_1&quot;\r\n        android:textSize=&quot;24sp&quot;\r\n        tools:text=&quot;HIIT Workout&quot;/&gt;\r\n\r\n\r\n      &lt;TextView\r\n        android:id=&quot;@+id/tv_type_of_booking&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:paddingTop=&quot;10dp&quot;\r\n        android:paddingBottom=&quot;20dp&quot;\r\n        android:paddingStart=&quot;20dp&quot;\r\n        android:fontFamily=&quot;@font/font_avenirltstd_book&quot;\r\n        android:text=&quot;One-Time Booking&quot;\r\n        android:textColor=&quot;@color/color_light_grey&quot;\r\n        android:textSize=&quot;14sp&quot;/&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n  &lt;/android.support.v7.widget.CardView&gt;\r\n\r\nReplace the tag `android.support.v7.widget.CardView` with the AndroidX CardView tag in case you&#39;re using AndroidX libraries. By using the `cardCornerRadius` tag, you don&#39;t need to give custom Background to your LinearLayout.\r\n\r\nAlso, don&#39;t forget to check if hardwareAccelerated = true in your Manifest file. It is already true if you&#39;re targeting API 14+. You won&#39;t see shadows if it&#39;s set to false.\r\n","title":"Shadow effect in Recyclerview items","body":"<p>You'll have to use <code>CardView</code> to get the shadow effect. Try the following layout as RecyclerView item, and see if it works.</p>\n\n<pre><code>&lt;android.support.v7.widget.CardView\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"\napp:cardElevation=\"10dp\"\napp:cardUseCompatPadding=\"true\"\napp:cardCornerRadius=\"10dp\"&gt;\n\n&lt;LinearLayout\n  android:id=\"@+id/layout\"\n  android:layout_width=\"match_parent\"\n  android:layout_height=\"wrap_content\"\n  android:layout_margin=\"5dp\"\n  android:background=\"@drawable/shape_rectangle_rounded_corner_black\"\n  android:orientation=\"vertical\"&gt;\n\n  &lt;RelativeLayout\n    android:id=\"@+id/rl_time\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:paddingTop=\"20dp\"\n    android:paddingStart=\"20dp\"&gt;\n\n    &lt;de.hdodenhof.circleimageview.CircleImageView\n      android:layout_width=\"13dp\"\n      android:layout_height=\"13dp\"\n      android:background=\"@color/colorPrimary\"\n      android:visibility=\"gone\"\n      app:civ_border_width=\"1dp\"/&gt;\n\n    &lt;TextView\n      android:id=\"@+id/tv_time\"\n      android:layout_width=\"wrap_content\"\n      android:layout_height=\"wrap_content\"\n      android:fontFamily=\"@font/font_avenirltstd_book\"\n      android:textColor=\"@color/color_light_grey\"\n      android:textSize=\"14sp\"\n      tools:text=\"12 PM\"/&gt;\n\n    &lt;TextView\n      android:id=\"@+id/tv_distance\"\n      android:layout_width=\"wrap_content\"\n      android:layout_height=\"wrap_content\"\n      android:layout_marginEnd=\"15dp\"\n      android:layout_alignParentEnd=\"true\"\n      android:fontFamily=\"@font/font_avenirltstd_book\"\n      android:text=\"2.1 mi.\"\n      android:textColor=\"@color/color_light_grey\"\n      android:textSize=\"14sp\"/&gt;\n\n  &lt;/RelativeLayout&gt;\n\n  &lt;TextView\n    android:id=\"@+id/tv_workout_Name\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:paddingTop=\"10dp\"\n    android:paddingStart=\"20dp\"\n    android:fontFamily=\"@font/font_avenirltstd_heavy\"\n    android:textColor=\"@color/color_black_1\"\n    android:textSize=\"24sp\"\n    tools:text=\"HIIT Workout\"/&gt;\n\n\n  &lt;TextView\n    android:id=\"@+id/tv_type_of_booking\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:paddingTop=\"10dp\"\n    android:paddingBottom=\"20dp\"\n    android:paddingStart=\"20dp\"\n    android:fontFamily=\"@font/font_avenirltstd_book\"\n    android:text=\"One-Time Booking\"\n    android:textColor=\"@color/color_light_grey\"\n    android:textSize=\"14sp\"/&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p></p>\n\n<p>Replace the tag <code>android.support.v7.widget.CardView</code> with the AndroidX CardView tag in case you're using AndroidX libraries. By using the <code>cardCornerRadius</code> tag, you don't need to give custom Background to your LinearLayout.</p>\n\n<p>Also, don't forget to check if hardwareAccelerated = true in your Manifest file. It is already true if you're targeting API 14+. You won't see shadows if it's set to false.</p>\n"},{"tags":[],"owner":{"account_id":15738329,"reputation":129,"user_id":11356588,"display_name":"Rufan Khokhar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559599352,"creation_date":1559508092,"answer_id":56418807,"question_id":56418634,"body_markdown":"Here&#39;s my suggestion to you based on what I know:\r\n\r\n 1. Set your top-level RelativeLayout to have padding equal to the margins you&#39;ve set on the relative layout that you want to show shadow;\r\n\r\n 2. Set `android:clipToPadding=&quot;false&quot;` on the same RelativeLayout;\r\n\r\n 3. Remove the margin from the RelativeLayout that also has elevation set;\r\n\r\n 4. You may also need to set a non-transparent background color on the child layout that needs elevation.\r\n","title":"Shadow effect in Recyclerview items","body":"<p>Here's my suggestion to you based on what I know:</p>\n\n<ol>\n<li><p>Set your top-level RelativeLayout to have padding equal to the margins you've set on the relative layout that you want to show shadow;</p></li>\n<li><p>Set <code>android:clipToPadding=\"false\"</code> on the same RelativeLayout;</p></li>\n<li><p>Remove the margin from the RelativeLayout that also has elevation set;</p></li>\n<li><p>You may also need to set a non-transparent background color on the child layout that needs elevation.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4458291,"reputation":2056,"user_id":3627898,"display_name":"Tam Huynh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559599318,"creation_date":1559535074,"answer_id":56421039,"question_id":56418634,"body_markdown":"Android `CardView` is what you&#39;re looking for. Put your calendar and each element inside a card. \r\n\r\nChange the card elevation for modifying the shadow size.\r\n","title":"Shadow effect in Recyclerview items","body":"<p>Android <code>CardView</code> is what you're looking for. Put your calendar and each element inside a card. </p>\n\n<p>Change the card elevation for modifying the shadow size.</p>\n"},{"tags":[],"owner":{"account_id":9150719,"reputation":3547,"user_id":6805392,"accept_rate":100,"display_name":"F.Mysir"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637528268,"creation_date":1617010831,"answer_id":66851911,"question_id":56418634,"body_markdown":"In case you came to check why elevation is not working on your `cardview` a mistake I have done is I had to change:\r\n\r\n`android:elevation=&quot;8dp&quot;` \r\n\r\nwith \r\n\r\n`app:cardElevation=&quot;8dp&quot;\r\n`","title":"Shadow effect in Recyclerview items","body":"<p>In case you came to check why elevation is not working on your <code>cardview</code> a mistake I have done is I had to change:</p>\n<p><code>android:elevation=&quot;8dp&quot;</code></p>\n<p>with</p>\n<p><code>app:cardElevation=&quot;8dp&quot; </code></p>\n"},{"tags":[],"owner":{"account_id":16802459,"reputation":173,"user_id":12147409,"display_name":"Wainaina Nik"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642670942,"creation_date":1642670942,"answer_id":70783713,"question_id":56418634,"body_markdown":"Add the below code to the Recycler view&#39;s item activity\r\n\r\n    android:outlineProvider=&quot;bounds&quot;\r\n    android:elevation=&quot;3dp&quot;\r\n    android:clipToPadding=&quot;false&quot;","title":"Shadow effect in Recyclerview items","body":"<p>Add the below code to the Recycler view's item activity</p>\n<pre><code>android:outlineProvider=&quot;bounds&quot;\nandroid:elevation=&quot;3dp&quot;\nandroid:clipToPadding=&quot;false&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12177739,"reputation":83,"user_id":8890268,"display_name":"mabdelouahad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701290109,"creation_date":1701290109,"answer_id":77574352,"question_id":56418634,"body_markdown":"You must use a cardview, for each elements must be inside cardview like that, example:\r\n\r\n         &lt;androidx.cardview.widget.CardView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:cardCornerRadius=&quot;10dp&quot;\r\n            app:cardElevation=&quot;8dp&quot;\r\n            app:cardPreventCornerOverlap=&quot;false&quot;\r\n            app:cardUseCompatPadding=&quot;true&quot;\r\n            &gt;\r\n    \r\n     &lt;com.marcohc.robotocalendar.RobotoCalendarView\r\n              android:id=&quot;@+id/robotoCalendarView&quot;\r\n              android:layout_width=&quot;match_parent&quot;\r\n              android:layout_height=&quot;wrap_content&quot;\r\n              android:elevation=&quot;10dp&quot;\r\n              android:visibility=&quot;visible&quot;\r\n              app:mcv_calendarMode=&quot;month&quot;\r\n              app:mcv_dateTextAppearance=&quot;@style/CalendarDateTextAppearance&quot;\r\n              app:mcv_headerTextAppearance=&quot;@style/CalendarHeaderTextAppearance&quot;\r\n              app:mcv_leftArrow=&quot;@drawable/mcv_action_previous&quot;\r\n              app:mcv_monthLabels=&quot;@null&quot;\r\n              app:mcv_rightArrow=&quot;@drawable/mcv_action_next&quot;\r\n              app:mcv_selectionColor=&quot;@color/color_red&quot;\r\n              app:mcv_selectionMode=&quot;single&quot;\r\n              app:mcv_showOtherDates=&quot;out_of_range&quot;\r\n              app:mcv_weekDayTextAppearance=&quot;@style/CalendarWeekTextAppearance&quot;/&gt;\r\n\r\n\r\n     &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\nBest Regards","title":"Shadow effect in Recyclerview items","body":"<p>You must use a cardview, for each elements must be inside cardview like that, example:</p>\n<pre><code>     &lt;androidx.cardview.widget.CardView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:cardCornerRadius=&quot;10dp&quot;\n        app:cardElevation=&quot;8dp&quot;\n        app:cardPreventCornerOverlap=&quot;false&quot;\n        app:cardUseCompatPadding=&quot;true&quot;\n        &gt;\n\n &lt;com.marcohc.robotocalendar.RobotoCalendarView\n          android:id=&quot;@+id/robotoCalendarView&quot;\n          android:layout_width=&quot;match_parent&quot;\n          android:layout_height=&quot;wrap_content&quot;\n          android:elevation=&quot;10dp&quot;\n          android:visibility=&quot;visible&quot;\n          app:mcv_calendarMode=&quot;month&quot;\n          app:mcv_dateTextAppearance=&quot;@style/CalendarDateTextAppearance&quot;\n          app:mcv_headerTextAppearance=&quot;@style/CalendarHeaderTextAppearance&quot;\n          app:mcv_leftArrow=&quot;@drawable/mcv_action_previous&quot;\n          app:mcv_monthLabels=&quot;@null&quot;\n          app:mcv_rightArrow=&quot;@drawable/mcv_action_next&quot;\n          app:mcv_selectionColor=&quot;@color/color_red&quot;\n          app:mcv_selectionMode=&quot;single&quot;\n          app:mcv_showOtherDates=&quot;out_of_range&quot;\n          app:mcv_weekDayTextAppearance=&quot;@style/CalendarWeekTextAppearance&quot;/&gt;\n\n\n &lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n<p>Best Regards</p>\n"}],"owner":{"account_id":2853727,"reputation":46,"user_id":2450358,"display_name":"Vamshi Krishna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9366,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":6,"score":1,"last_activity_date":1701290109,"creation_date":1559506470,"question_id":56418634,"body_markdown":"I want to achieve a design with a linear layout and few widgets along with shadow effect such as elevation, but I&#39;m unable to get the shadows right.\r\n\r\nI tried to adding elevation no to the linear layout, but it doesn&#39;t show any effect in the design.\r\n\r\nI tried cardview also, but I&#39;m not getting the desired shadow effect.\r\n\r\nMy Recylerview Item XML:\r\n\r\n    &lt;LinearLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:elevation=&quot;10dp&quot;\r\n        android:outlineProvider=&quot;bounds&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n          android:id=&quot;@+id/layout&quot;\r\n          android:layout_width=&quot;match_parent&quot;\r\n          android:layout_height=&quot;wrap_content&quot;\r\n          android:layout_margin=&quot;5dp&quot;\r\n          android:background=&quot;@drawable/shape_rectangle_rounded_corner_black&quot;\r\n          android:orientation=&quot;vertical&quot;&gt;\r\n\r\n          &lt;RelativeLayout\r\n            android:id=&quot;@+id/rl_time&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:paddingTop=&quot;20dp&quot;\r\n            android:paddingStart=&quot;20dp&quot;&gt;\r\n\r\n            &lt;de.hdodenhof.circleimageview.CircleImageView\r\n              android:layout_width=&quot;13dp&quot;\r\n              android:layout_height=&quot;13dp&quot;\r\n              android:background=&quot;@color/colorPrimary&quot;\r\n              android:visibility=&quot;gone&quot;\r\n              app:civ_border_width=&quot;1dp&quot;/&gt;\r\n\r\n            &lt;TextView\r\n              android:id=&quot;@+id/tv_time&quot;\r\n              android:layout_width=&quot;wrap_content&quot;\r\n              android:layout_height=&quot;wrap_content&quot;\r\n              android:fontFamily=&quot;@font/font_avenirltstd_book&quot;\r\n              android:textColor=&quot;@color/color_light_grey&quot;\r\n              android:textSize=&quot;14sp&quot;\r\n              tools:text=&quot;12 PM&quot;/&gt;\r\n\r\n            &lt;TextView\r\n              android:id=&quot;@+id/tv_distance&quot;\r\n              android:layout_width=&quot;wrap_content&quot;\r\n              android:layout_height=&quot;wrap_content&quot;\r\n              android:layout_marginEnd=&quot;15dp&quot;\r\n              android:layout_alignParentEnd=&quot;true&quot;\r\n              android:fontFamily=&quot;@font/font_avenirltstd_book&quot;\r\n              android:text=&quot;2.1 mi.&quot;\r\n              android:textColor=&quot;@color/color_light_grey&quot;\r\n              android:textSize=&quot;14sp&quot;/&gt;\r\n\r\n          &lt;/RelativeLayout&gt;\r\n\r\n          &lt;TextView\r\n            android:id=&quot;@+id/tv_workout_Name&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:paddingTop=&quot;10dp&quot;\r\n            android:paddingStart=&quot;20dp&quot;\r\n            android:fontFamily=&quot;@font/font_avenirltstd_heavy&quot;\r\n            android:textColor=&quot;@color/color_black_1&quot;\r\n            android:textSize=&quot;24sp&quot;\r\n            tools:text=&quot;HIIT Workout&quot;/&gt;\r\n\r\n\r\n          &lt;TextView\r\n            android:id=&quot;@+id/tv_type_of_booking&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:paddingTop=&quot;10dp&quot;\r\n            android:paddingBottom=&quot;20dp&quot;\r\n            android:paddingStart=&quot;20dp&quot;\r\n            android:fontFamily=&quot;@font/font_avenirltstd_book&quot;\r\n            android:text=&quot;One-Time Booking&quot;\r\n            android:textColor=&quot;@color/color_light_grey&quot;\r\n            android:textSize=&quot;14sp&quot;/&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n      &lt;/LinearLayout&gt;\r\n\r\nMy RecyclerView item:\r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n      xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n      android:layout_width=&quot;match_parent&quot;\r\n      android:layout_height=&quot;match_parent&quot;\r\n      android:background=&quot;@color/white&quot;\r\n      android:clipToPadding=&quot;false&quot;&gt;\r\n\r\n\r\n      &lt;ScrollView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:clipToPadding=&quot;false&quot;&gt;\r\n\r\n        &lt;RelativeLayout\r\n          android:layout_width=&quot;match_parent&quot;\r\n          android:layout_height=&quot;wrap_content&quot;\r\n          android:background=&quot;#F3f3f3&quot;\r\n          android:clipToPadding=&quot;false&quot;&gt;\r\n\r\n            &lt;com.marcohc.robotocalendar.RobotoCalendarView\r\n              android:id=&quot;@+id/robotoCalendarView&quot;\r\n              android:layout_width=&quot;match_parent&quot;\r\n              android:layout_height=&quot;wrap_content&quot;\r\n              android:elevation=&quot;10dp&quot;\r\n              android:visibility=&quot;visible&quot;\r\n              app:mcv_calendarMode=&quot;month&quot;\r\n              app:mcv_dateTextAppearance=&quot;@style/CalendarDateTextAppearance&quot;\r\n              app:mcv_headerTextAppearance=&quot;@style/CalendarHeaderTextAppearance&quot;\r\n              app:mcv_leftArrow=&quot;@drawable/mcv_action_previous&quot;\r\n              app:mcv_monthLabels=&quot;@null&quot;\r\n              app:mcv_rightArrow=&quot;@drawable/mcv_action_next&quot;\r\n              app:mcv_selectionColor=&quot;@color/color_red&quot;\r\n              app:mcv_selectionMode=&quot;single&quot;\r\n              app:mcv_showOtherDates=&quot;out_of_range&quot;\r\n              app:mcv_weekDayTextAppearance=&quot;@style/CalendarWeekTextAppearance&quot;/&gt;\r\n\r\n          &lt;View\r\n            android:id=&quot;@+id/view_1&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;10dp&quot;\r\n            android:layout_below=&quot;@+id/msvw&quot;\r\n            android:background=&quot;@drawable/shadow&quot;/&gt;\r\n\r\n            &lt;android.support.v7.widget.RecyclerView\r\n              android:id=&quot;@+id/rv_sessions_list&quot;\r\n              android:layout_width=&quot;match_parent&quot;\r\n              android:layout_height=&quot;match_parent&quot;/&gt;\r\n        &lt;/RelativeLayout&gt;\r\n\r\n      &lt;/ScrollView&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\n## Current output:\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/5ySZ4.png&quot; width=&quot;350&quot; height=&quot;620&quot;/&gt;\r\n\r\n## Expected output:\r\n&lt;img src=&quot;https://i.stack.imgur.com/j9GZS.png&quot; width=&quot;350&quot; height=&quot;620&quot;/&gt;\r\n","title":"Shadow effect in Recyclerview items","body":"<p>I want to achieve a design with a linear layout and few widgets along with shadow effect such as elevation, but I'm unable to get the shadows right.</p>\n\n<p>I tried to adding elevation no to the linear layout, but it doesn't show any effect in the design.</p>\n\n<p>I tried cardview also, but I'm not getting the desired shadow effect.</p>\n\n<p>My Recylerview Item XML:</p>\n\n<pre><code>&lt;LinearLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:elevation=\"10dp\"\n    android:outlineProvider=\"bounds\"&gt;\n\n    &lt;LinearLayout\n      android:id=\"@+id/layout\"\n      android:layout_width=\"match_parent\"\n      android:layout_height=\"wrap_content\"\n      android:layout_margin=\"5dp\"\n      android:background=\"@drawable/shape_rectangle_rounded_corner_black\"\n      android:orientation=\"vertical\"&gt;\n\n      &lt;RelativeLayout\n        android:id=\"@+id/rl_time\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:paddingTop=\"20dp\"\n        android:paddingStart=\"20dp\"&gt;\n\n        &lt;de.hdodenhof.circleimageview.CircleImageView\n          android:layout_width=\"13dp\"\n          android:layout_height=\"13dp\"\n          android:background=\"@color/colorPrimary\"\n          android:visibility=\"gone\"\n          app:civ_border_width=\"1dp\"/&gt;\n\n        &lt;TextView\n          android:id=\"@+id/tv_time\"\n          android:layout_width=\"wrap_content\"\n          android:layout_height=\"wrap_content\"\n          android:fontFamily=\"@font/font_avenirltstd_book\"\n          android:textColor=\"@color/color_light_grey\"\n          android:textSize=\"14sp\"\n          tools:text=\"12 PM\"/&gt;\n\n        &lt;TextView\n          android:id=\"@+id/tv_distance\"\n          android:layout_width=\"wrap_content\"\n          android:layout_height=\"wrap_content\"\n          android:layout_marginEnd=\"15dp\"\n          android:layout_alignParentEnd=\"true\"\n          android:fontFamily=\"@font/font_avenirltstd_book\"\n          android:text=\"2.1 mi.\"\n          android:textColor=\"@color/color_light_grey\"\n          android:textSize=\"14sp\"/&gt;\n\n      &lt;/RelativeLayout&gt;\n\n      &lt;TextView\n        android:id=\"@+id/tv_workout_Name\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:paddingTop=\"10dp\"\n        android:paddingStart=\"20dp\"\n        android:fontFamily=\"@font/font_avenirltstd_heavy\"\n        android:textColor=\"@color/color_black_1\"\n        android:textSize=\"24sp\"\n        tools:text=\"HIIT Workout\"/&gt;\n\n\n      &lt;TextView\n        android:id=\"@+id/tv_type_of_booking\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:paddingTop=\"10dp\"\n        android:paddingBottom=\"20dp\"\n        android:paddingStart=\"20dp\"\n        android:fontFamily=\"@font/font_avenirltstd_book\"\n        android:text=\"One-Time Booking\"\n        android:textColor=\"@color/color_light_grey\"\n        android:textSize=\"14sp\"/&gt;\n\n    &lt;/LinearLayout&gt;\n  &lt;/LinearLayout&gt;\n</code></pre>\n\n<p>My RecyclerView item:</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n  xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n  android:layout_width=\"match_parent\"\n  android:layout_height=\"match_parent\"\n  android:background=\"@color/white\"\n  android:clipToPadding=\"false\"&gt;\n\n\n  &lt;ScrollView\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:clipToPadding=\"false\"&gt;\n\n    &lt;RelativeLayout\n      android:layout_width=\"match_parent\"\n      android:layout_height=\"wrap_content\"\n      android:background=\"#F3f3f3\"\n      android:clipToPadding=\"false\"&gt;\n\n        &lt;com.marcohc.robotocalendar.RobotoCalendarView\n          android:id=\"@+id/robotoCalendarView\"\n          android:layout_width=\"match_parent\"\n          android:layout_height=\"wrap_content\"\n          android:elevation=\"10dp\"\n          android:visibility=\"visible\"\n          app:mcv_calendarMode=\"month\"\n          app:mcv_dateTextAppearance=\"@style/CalendarDateTextAppearance\"\n          app:mcv_headerTextAppearance=\"@style/CalendarHeaderTextAppearance\"\n          app:mcv_leftArrow=\"@drawable/mcv_action_previous\"\n          app:mcv_monthLabels=\"@null\"\n          app:mcv_rightArrow=\"@drawable/mcv_action_next\"\n          app:mcv_selectionColor=\"@color/color_red\"\n          app:mcv_selectionMode=\"single\"\n          app:mcv_showOtherDates=\"out_of_range\"\n          app:mcv_weekDayTextAppearance=\"@style/CalendarWeekTextAppearance\"/&gt;\n\n      &lt;View\n        android:id=\"@+id/view_1\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"10dp\"\n        android:layout_below=\"@+id/msvw\"\n        android:background=\"@drawable/shadow\"/&gt;\n\n        &lt;android.support.v7.widget.RecyclerView\n          android:id=\"@+id/rv_sessions_list\"\n          android:layout_width=\"match_parent\"\n          android:layout_height=\"match_parent\"/&gt;\n    &lt;/RelativeLayout&gt;\n\n  &lt;/ScrollView&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<h2>Current output:</h2>\n\n<p><img src=\"https://i.stack.imgur.com/5ySZ4.png\" width=\"350\" height=\"620\"/></p>\n\n<h2>Expected output:</h2>\n\n<p><img src=\"https://i.stack.imgur.com/j9GZS.png\" width=\"350\" height=\"620\"/></p>\n"},{"tags":["java","selenium-webdriver","webdrivermanager-java"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1701320294,"post_id":77573885,"comment_id":136761911,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"comments":[{"owner":{"account_id":30025365,"reputation":9,"user_id":23009751,"display_name":"Krishna Singhal"},"score":0,"creation_date":1701320179,"post_id":77574327,"comment_id":136761900,"body_markdown":"I upgraded the selenium version but I was trying with webdrivermanager.\nSo you&#39;re saying I don&#39;t need to do chromedriver setup? Do I need to save chromedriver file like earlier selenium versions?","body":"I upgraded the selenium version but I was trying with webdrivermanager. So you&#39;re saying I don&#39;t need to do chromedriver setup? Do I need to save chromedriver file like earlier selenium versions?"},{"owner":{"account_id":30025365,"reputation":9,"user_id":23009751,"display_name":"Krishna Singhal"},"score":0,"creation_date":1701337295,"post_id":77574327,"comment_id":136763984,"body_markdown":"Thanks, this worked.","body":"Thanks, this worked."},{"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1701338600,"post_id":77574327,"comment_id":136764210,"body_markdown":"Glad it worked. [What should I do when someone answers my question?](https://stackoverflow.com/help/someone-answers)","body":"Glad it worked. <a href=\"https://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"}],"tags":[],"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701289810,"creation_date":1701289810,"answer_id":77574327,"question_id":77573885,"body_markdown":"````\r\nname: &#39;selenium-java&#39;, version: &#39;3.141.59&#39;\r\n````\r\nYou are using way too old selenium. Upgrade to the latest version of selenium i.e. `v4.15.0`.\r\n\r\nAnd once you upgrade to latest selenium, you no longer need `WebDriverManager` library. The new built-in tool [Selenium Manager](https://www.selenium.dev/documentation/selenium_manager/) will do what `WebDriverManager` used to do before.\r\n\r\nCode can be as simple as:\r\n````\r\npublic static void main(String[] args) {\r\n\tWebDriver driver = new ChromeDriver();\r\n\tdriver.manage().window().maximize();\r\n\tdriver.get(&quot;https://www.google.com/&quot;);\r\n\tdriver.quit();\r\n}\r\n````\r\n\r\nRefer below answers for more details on this topic:\r\n- https://stackoverflow.com/a/76463081/7598774\r\n- https://stackoverflow.com/a/76752843/7598774\r\n- https://stackoverflow.com/a/76912466/7598774\r\n- https://stackoverflow.com/a/77281456/7598774","title":"Getting a mismatch with the chrome version for selenium project","body":"<pre><code>name: 'selenium-java', version: '3.141.59'\n</code></pre>\n<p>You are using way too old selenium. Upgrade to the latest version of selenium i.e. <code>v4.15.0</code>.</p>\n<p>And once you upgrade to latest selenium, you no longer need <code>WebDriverManager</code> library. The new built-in tool <a href=\"https://www.selenium.dev/documentation/selenium_manager/\" rel=\"nofollow noreferrer\">Selenium Manager</a> will do what <code>WebDriverManager</code> used to do before.</p>\n<p>Code can be as simple as:</p>\n<pre><code>public static void main(String[] args) {\n    WebDriver driver = new ChromeDriver();\n    driver.manage().window().maximize();\n    driver.get(&quot;https://www.google.com/&quot;);\n    driver.quit();\n}\n</code></pre>\n<p>Refer below answers for more details on this topic:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/76463081/7598774\">https://stackoverflow.com/a/76463081/7598774</a></li>\n<li><a href=\"https://stackoverflow.com/a/76752843/7598774\">https://stackoverflow.com/a/76752843/7598774</a></li>\n<li><a href=\"https://stackoverflow.com/a/76912466/7598774\">https://stackoverflow.com/a/76912466/7598774</a></li>\n<li><a href=\"https://stackoverflow.com/a/77281456/7598774\">https://stackoverflow.com/a/77281456/7598774</a></li>\n</ul>\n"}],"owner":{"account_id":30025365,"reputation":9,"user_id":23009751,"display_name":"Krishna Singhal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701290106,"creation_date":1701284642,"question_id":77573885,"body_markdown":"My code was working earlier but when I used gradle command line to run the project, I got this error:\r\n[enter image description here](https://i.stack.imgur.com/Ha3Xk.png)\r\nI&#39;m using bonigarcia library so the incompatibility issue with the chrome version on my system should not arise.\r\n\r\nTried changing the selenium library and webdrivermanager library but then it renders the whole project unusable.\r\n\r\nGradle File:\r\n```plugins {\r\n    id &#39;java&#39;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation group: &#39;org.seleniumhq.selenium&#39;, name: &#39;selenium-java&#39;, version: &#39;3.141.59&#39;\r\n    testImplementation &#39;org.testng:testng:7.4.0&#39;\r\n    implementation group: &#39;io.github.bonigarcia&#39;, name: &#39;webdrivermanager&#39;, version: &#39;5.4.1&#39;\r\n    compileOnly group: &#39;org.projectlombok&#39;, name: &#39;lombok&#39;, version: &#39;1.18.22&#39;\r\n    implementation group: &#39;io.qameta.allure&#39;, name: &#39;allure-testng&#39;, version: &#39;2.17.1&#39;\r\n\r\n}\r\n\r\ntest {\r\n    useTestNG()\r\n}","title":"Getting a mismatch with the chrome version for selenium project","body":"<p>My code was working earlier but when I used gradle command line to run the project, I got this error:\n<a href=\"https://i.stack.imgur.com/Ha3Xk.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nI'm using bonigarcia library so the incompatibility issue with the chrome version on my system should not arise.</p>\n<p>Tried changing the selenium library and webdrivermanager library but then it renders the whole project unusable.</p>\n<p>Gradle File:</p>\n<pre><code>    id 'java'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation group: 'org.seleniumhq.selenium', name: 'selenium-java', version: '3.141.59'\n    testImplementation 'org.testng:testng:7.4.0'\n    implementation group: 'io.github.bonigarcia', name: 'webdrivermanager', version: '5.4.1'\n    compileOnly group: 'org.projectlombok', name: 'lombok', version: '1.18.22'\n    implementation group: 'io.qameta.allure', name: 'allure-testng', version: '2.17.1'\n\n}\n\ntest {\n    useTestNG()\n}\n</code></pre>\n"},{"tags":["java","assert"],"owner":{"account_id":1554647,"reputation":373,"user_id":1446165,"accept_rate":75,"display_name":"Jimmy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701289978,"creation_date":1701289978,"question_id":77574344,"body_markdown":"I am trying: \r\n```\r\n\tpublic void assertIsDisplayed(WebElement element) {\r\n\t\t{\r\n\t\t   String actualText = element.getText();\r\n\t\t   \r\n\t\t   try {\r\n\t            Assert.assertTrue(element.isDisplayed(), actualText + &quot; is not displayed on the page&quot;);\r\n\t            Reporter.log(actualText + &quot; is displayed on the page&quot;,true);\r\n\t        \t} \r\n\t\t   catch (AssertionError e) {\r\n\t            Reporter.log(&quot;Assertion Error: &quot; + e.getMessage());\r\n\t            throw e;\r\n\t        }\r\n\t }\r\n\t }\r\n```\r\n\r\nbut in console output or logs failed message is not displayed.","title":"how to display assert message of assert.isDisplayed in logs or console output in jenkins with java","body":"<p>I am trying:</p>\n<pre><code>    public void assertIsDisplayed(WebElement element) {\n        {\n           String actualText = element.getText();\n           \n           try {\n                Assert.assertTrue(element.isDisplayed(), actualText + &quot; is not displayed on the page&quot;);\n                Reporter.log(actualText + &quot; is displayed on the page&quot;,true);\n                } \n           catch (AssertionError e) {\n                Reporter.log(&quot;Assertion Error: &quot; + e.getMessage());\n                throw e;\n            }\n     }\n     }\n</code></pre>\n<p>but in console output or logs failed message is not displayed.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1568253741,"post_id":57898752,"comment_id":102218486,"body_markdown":"This question is a little abstract. How exactly you&#39;re trying to bind the service? It doesn&#39;t even have to be a modified ROM, but it&#39;s enough to sign off the package with OS release keys.","body":"This question is a little abstract. How exactly you&#39;re trying to bind the service? It doesn&#39;t even have to be a modified ROM, but it&#39;s enough to sign off the package with OS release keys."},{"owner":{"account_id":16680248,"reputation":1,"user_id":12055538,"display_name":"Steve"},"score":0,"creation_date":1568418308,"post_id":57898752,"comment_id":102280058,"body_markdown":"I followed the example [here](https://blog.csdn.net/lewif/article/details/50687290) in the java half. I am using the context.getSystemService function to get the manager class that has the binding to the service. As seen in step 7 of the java half.","body":"I followed the example <a href=\"https://blog.csdn.net/lewif/article/details/50687290\" rel=\"nofollow noreferrer\">here</a> in the java half. I am using the context.getSystemService function to get the manager class that has the binding to the service. As seen in step 7 of the java half."},{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1568420069,"post_id":57898752,"comment_id":102280257,"body_markdown":"If package `android.os` does not exist, there is something fundamentally wrong(and it is still unclear where you even add that code). Native services are probably useless for this use case, because this all runs inside a JVM. Signing the ROM with the same key as the APK package makes it a system app, with signature protection level. only `@UnsupportedAppUsage` limits the usage.","body":"If package <code>android.os</code> does not exist, there is something fundamentally wrong(and it is still unclear where you even add that code). Native services are probably useless for this use case, because this all runs inside a JVM. Signing the ROM with the same key as the APK package makes it a system app, with signature protection level. only <code>@UnsupportedAppUsage</code> limits the usage."}],"answers":[{"tags":[],"owner":{"account_id":28519403,"reputation":1,"user_id":21828319,"display_name":"Pedro Silva"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701289578,"creation_date":1701289578,"answer_id":77574306,"question_id":57898752,"body_markdown":"I worked on a similar project, the goal was to prevent any application in the device to extract user files from the device without permission to do so.\r\nTherefore, I tried to create a System Service (just like you) that should be called by the Libcore layer whenever an application is trying to read a user file.\r\n\r\nHowever you cannot do that, given the fact that Android has a stacked architecture and lower layers cannot interact with upper ones. It makes sense that a general Java use case class such as FileOutputStream should not know about any Android specific class.\r\n\r\nThe solution I found was to create a new set of classes in the Libcore layer, instead of creating a system service. That way you can interact directly with core components like the IoBridge class and prevent reads / writes to files according to your specific conditions. You can even read the full byte content if you want to.\r\n\r\nBut if you really need it as a System service, I guess the only solution would be to completely change the way applications can access the file system. For example, a system service that would receive read / write requests, and then proceed to interact with the general classes in the Libcore layer. This would of course bring several challenges, because a single service would need to handle all the requests from all applications in the device. This way, the Libcore package should not be available in the application SDK, only by interacting with this service could apps communicate with the File System.","title":"Accessing Android System Service from Libcore Class","body":"<p>I worked on a similar project, the goal was to prevent any application in the device to extract user files from the device without permission to do so.\nTherefore, I tried to create a System Service (just like you) that should be called by the Libcore layer whenever an application is trying to read a user file.</p>\n<p>However you cannot do that, given the fact that Android has a stacked architecture and lower layers cannot interact with upper ones. It makes sense that a general Java use case class such as FileOutputStream should not know about any Android specific class.</p>\n<p>The solution I found was to create a new set of classes in the Libcore layer, instead of creating a system service. That way you can interact directly with core components like the IoBridge class and prevent reads / writes to files according to your specific conditions. You can even read the full byte content if you want to.</p>\n<p>But if you really need it as a System service, I guess the only solution would be to completely change the way applications can access the file system. For example, a system service that would receive read / write requests, and then proceed to interact with the general classes in the Libcore layer. This would of course bring several challenges, because a single service would need to handle all the requests from all applications in the device. This way, the Libcore package should not be available in the application SDK, only by interacting with this service could apps communicate with the File System.</p>\n"}],"owner":{"account_id":16680248,"reputation":1,"user_id":12055538,"display_name":"Steve"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701289578,"creation_date":1568252913,"question_id":57898752,"body_markdown":"I am working on a research project to look at malware and how to prevent it on Android. I am modifying the OS to allow my system service to record any app&#39;s attempt to access a file and report that up to a system service which will decide to grant access. I have the system service running on Android 7.1 and but I can&#39;t call the service manager which is in the android.os package in frameworks and the class I want to call from is in the java.io package in libcore-ojluni. I have the modification in java.io.FileOutputStream.java. \r\n\r\nWhen I try to compile Android it gives me the error: &quot;Package android.os does not exist&quot;\r\n \r\n\r\nI am thinking of using sockets to communicate to the service but that seems to slow as I would like a response before allowing access, and I don&#39;t want the process to hang. \r\n\r\nIs there a way to include the package that I need? Is that even a good idea?\r\n\r\nI haven&#39;t tried native services. I wanted to ask here before I try that. Is communicating up the Android OS Stack not doable?","title":"Accessing Android System Service from Libcore Class","body":"<p>I am working on a research project to look at malware and how to prevent it on Android. I am modifying the OS to allow my system service to record any app's attempt to access a file and report that up to a system service which will decide to grant access. I have the system service running on Android 7.1 and but I can't call the service manager which is in the android.os package in frameworks and the class I want to call from is in the java.io package in libcore-ojluni. I have the modification in java.io.FileOutputStream.java. </p>\n\n<p>When I try to compile Android it gives me the error: \"Package android.os does not exist\"</p>\n\n<p>I am thinking of using sockets to communicate to the service but that seems to slow as I would like a response before allowing access, and I don't want the process to hang. </p>\n\n<p>Is there a way to include the package that I need? Is that even a good idea?</p>\n\n<p>I haven't tried native services. I wanted to ask here before I try that. Is communicating up the Android OS Stack not doable?</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","undetected-chromedriver"],"comments":[{"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1701289322,"post_id":77573622,"comment_id":136758711,"body_markdown":"Can you edit the question and share your code.","body":"Can you edit the question and share your code."}],"owner":{"account_id":27554905,"reputation":11,"user_id":21029312,"display_name":"Himanshu Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701289275,"creation_date":1701281901,"question_id":77573622,"body_markdown":"Implicit wait program codes in Java Selenium are correct, but there is some error in the console. This problem is with config of java and selenium.\r\n\r\nError:\r\n````\r\nNov 29, 2023 10:49:09 PM org.openqa.selenium.manager.SeleniumManager lambda$runCommand$1\r\nINFO: Driver path: C:\\\\Users\\\\IT.cache\\\\selenium\\\\chromedriver\\\\win64\\\\119.0.6045.105\\\\chromedriver.exe\r\nNov 29, 2023 10:49:09 PM org.openqa.selenium.manager.SeleniumManager lambda$runCommand$1\r\nINFO: Browser path: C:\\\\Program Files\\\\Google\\\\Chrome\\\\Application\\\\chrome.exe\r\nSLF4J: No SLF4J providers were found.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\r\nNov 29, 2023 10:49:12 PM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\r\nWARNING: Unable to find an exact match for CDP version 119, so returning the closest version found: 116\r\nException in thread &quot;main&quot; org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//input\\[@name=&#39;q&#39;\\]&quot;}\r\n(Session info: chrome=119.0.6045.160)\r\nFor documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#no-such-element-exception\r\nBuild info: version: &#39;4.12.0&#39;, revision: &#39;249f2a7d1b\\*&#39;\r\nSystem info: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;17.0.8.1&#39;\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver\r\nCommand: \\[3faa765842476d2db4414b0a4db4cf02, findElement {using=xpath, value=//input\\[@name=&#39;q&#39;\\]}\\]\r\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 119.0.6045.160, chrome: {chromedriverVersion: 119.0.6045.105 (38c72552c5e..., userDataDir: C:\\\\Users\\\\IT\\\\AppData\\\\Local\\\\T...}, fedcm:accounts: true, goog:chromeOptions: {debuggerAddress: localhost:59036}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: windows, proxy: Proxy(), se:cdp: ws://localhost:59036/devtoo..., se:cdpVersion: 119.0.6045.160, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}\r\nSession ID: 3faa765842476d2db4414b0a4db4cf02\r\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\nat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\nat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\nat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\nat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\r\nat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\r\nat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:52)\r\nat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:191)\r\nat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:196)\r\nat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:171)\r\nat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:602)\r\nat org.openqa.selenium.remote.ElementLocation$ElementFinder$2.findElement(ElementLocation.java:165)\r\nat org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:59)\r\nat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:359)\r\nat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:353)\r\nat selenium.ImplicitWait.main(ImplicitWait.java:24)\r\n````","title":"NoSuchElementException - Java and selenium","body":"<p>Implicit wait program codes in Java Selenium are correct, but there is some error in the console. This problem is with config of java and selenium.</p>\n<p>Error:</p>\n<pre><code>Nov 29, 2023 10:49:09 PM org.openqa.selenium.manager.SeleniumManager lambda$runCommand$1\nINFO: Driver path: C:\\\\Users\\\\IT.cache\\\\selenium\\\\chromedriver\\\\win64\\\\119.0.6045.105\\\\chromedriver.exe\nNov 29, 2023 10:49:09 PM org.openqa.selenium.manager.SeleniumManager lambda$runCommand$1\nINFO: Browser path: C:\\\\Program Files\\\\Google\\\\Chrome\\\\Application\\\\chrome.exe\nSLF4J: No SLF4J providers were found.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\nNov 29, 2023 10:49:12 PM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\nWARNING: Unable to find an exact match for CDP version 119, so returning the closest version found: 116\nException in thread &quot;main&quot; org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//input\\[@name='q'\\]&quot;}\n(Session info: chrome=119.0.6045.160)\nFor documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#no-such-element-exception\nBuild info: version: '4.12.0', revision: '249f2a7d1b\\*'\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '17.0.8.1'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: \\[3faa765842476d2db4414b0a4db4cf02, findElement {using=xpath, value=//input\\[@name='q'\\]}\\]\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 119.0.6045.160, chrome: {chromedriverVersion: 119.0.6045.105 (38c72552c5e..., userDataDir: C:\\\\Users\\\\IT\\\\AppData\\\\Local\\\\T...}, fedcm:accounts: true, goog:chromeOptions: {debuggerAddress: localhost:59036}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: windows, proxy: Proxy(), se:cdp: ws://localhost:59036/devtoo..., se:cdpVersion: 119.0.6045.160, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}\nSession ID: 3faa765842476d2db4414b0a4db4cf02\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\nat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\nat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\nat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\nat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\nat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:52)\nat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:191)\nat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:196)\nat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:171)\nat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:602)\nat org.openqa.selenium.remote.ElementLocation$ElementFinder$2.findElement(ElementLocation.java:165)\nat org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:59)\nat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:359)\nat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:353)\nat selenium.ImplicitWait.main(ImplicitWait.java:24)\n</code></pre>\n"},{"tags":["java","recursion","completable-future","chaining"],"comments":[{"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"score":0,"creation_date":1701260905,"post_id":77569249,"comment_id":136753229,"body_markdown":"`iServiceReady` is has a spelling error, which is one source of compilation errors","body":"<code>iServiceReady</code> is has a spelling error, which is one source of compilation errors"},{"owner":{"account_id":26618931,"reputation":1,"user_id":20237935,"display_name":"TsB"},"score":0,"creation_date":1701287199,"post_id":77569249,"comment_id":136758353,"body_markdown":"@michid I updated the question. I am more interested in the approach that can be used to chain two recursions with completable future.  Please take another look at the updated question.","body":"@michid I updated the question. I am more interested in the approach that can be used to chain two recursions with completable future.  Please take another look at the updated question."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1701288800,"post_id":77569249,"comment_id":136758620,"body_markdown":"You&#39;re returning a `CompletableFuture&lt;Boolean&gt;`, and this should _not_ block the method from returning. You also don&#39;t need the `Boolean` for this purpose, a `CompletableFuture&lt;Void&gt;` works fine (since completion is akin to being ready). The only lines in `#getServiceReady` that are needed are the `return healthOperations.getServiceReady()` and the entire `.whenComplete` block. Now you said &quot;recursive&quot; - I would hope that your posted `#getServiceReady` is not calling itself eventually, as that will stackoverflow.","body":"You&#39;re returning a <code>CompletableFuture&lt;Boolean&gt;</code>, and this should <i>not</i> block the method from returning. You also don&#39;t need the <code>Boolean</code> for this purpose, a <code>CompletableFuture&lt;Void&gt;</code> works fine (since completion is akin to being ready). The only lines in <code>#getServiceReady</code> that are needed are the <code>return healthOperations.getServiceReady()</code> and the entire <code>.whenComplete</code> block. Now you said &quot;recursive&quot; - I would hope that your posted <code>#getServiceReady</code> is not calling itself eventually, as that will stackoverflow."},{"owner":{"account_id":26618931,"reputation":1,"user_id":20237935,"display_name":"TsB"},"score":0,"creation_date":1701289634,"post_id":77569249,"comment_id":136758757,"body_markdown":"@Rogue, I amended the code, getServiceReady does call itself if the getReadiness() call returns false. it should stop the recursion once the getReadiness call returns true. Can you please give me a sample code how to achieve the 2 recursions call?","body":"@Rogue, I amended the code, getServiceReady does call itself if the getReadiness() call returns false. it should stop the recursion once the getReadiness call returns true. Can you please give me a sample code how to achieve the 2 recursions call?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1701289817,"post_id":77569249,"comment_id":136758790,"body_markdown":"I see then, you have a use-case for `CompletableFuture#thenApplyAsync`. I&#39;ll write up an example, though I&#39;ve just had something dropped in my lap for the next hour. You&#39;ll see that answer in a couple hours.","body":"I see then, you have a use-case for <code>CompletableFuture#thenApplyAsync</code>. I&#39;ll write up an example, though I&#39;ve just had something dropped in my lap for the next hour. You&#39;ll see that answer in a couple hours."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1701291584,"post_id":77569249,"comment_id":136759058,"body_markdown":"One further question: Is it strictly necessary that you only retry when an exception occurs? Normally you&#39;d allow an exception to propagate up to whoever initiated the first `CompletableFuture&lt;T&gt;`, that way they can also be the ones to handle the exceptions that _do_ occur. In this same vein, does `healthOperations.getReadiness()` only ever return `true` when it completes normally?","body":"One further question: Is it strictly necessary that you only retry when an exception occurs? Normally you&#39;d allow an exception to propagate up to whoever initiated the first <code>CompletableFuture&lt;T&gt;</code>, that way they can also be the ones to handle the exceptions that <i>do</i> occur. In this same vein, does <code>healthOperations.getReadiness()</code> only ever return <code>true</code> when it completes normally?"},{"owner":{"account_id":26618931,"reputation":1,"user_id":20237935,"display_name":"TsB"},"score":0,"creation_date":1701293524,"post_id":77569249,"comment_id":136759356,"body_markdown":"@Rogue healthOperations.getReadiness() should only return true when it completes normally. It actually returns CompletableFuture&lt;Boolean&gt;, so either true or false. However, the API returns 200 OK is the service is ready to accept traffic and 503 if it isn&#39;t. This is what the getReadiness looks like. See in the next comment","body":"@Rogue healthOperations.getReadiness() should only return true when it completes normally. It actually returns CompletableFuture&lt;Boolean&gt;, so either true or false. However, the API returns 200 OK is the service is ready to accept traffic and 503 if it isn&#39;t. This is what the getReadiness looks like. See in the next comment"},{"owner":{"account_id":26618931,"reputation":1,"user_id":20237935,"display_name":"TsB"},"score":0,"creation_date":1701293565,"post_id":77569249,"comment_id":136759363,"body_markdown":"return CompletableFuture\n            .runAsync(() -&gt; {\n                if (isReady) {\n                    Response.ok().data(Boolean.TRUE.toString()).end(routingContext);\n                } else {\n                 Response.create().status(SERVICE_UNAVAILABLE).end(routingContext);\n                }\n            }, executor);","body":"return CompletableFuture             .runAsync(() -&gt; {                 if (isReady) {                     Response.ok().data(Boolean.TRUE.toString()).end(routingConte&zwnj;&#8203;xt);                 } else {                  Response.create().status(SERVICE_UNAVAILABLE).end(routingCon&zwnj;&#8203;text);                 }             }, executor);"},{"owner":{"account_id":26618931,"reputation":1,"user_id":20237935,"display_name":"TsB"},"score":0,"creation_date":1701293592,"post_id":77569249,"comment_id":136759367,"body_markdown":"It is necessary that we retry when the getReadiness does not return true (200 OK). @Rogue thank you for your help sincerely. I have been struggling with this for 2 days now.","body":"It is necessary that we retry when the getReadiness does not return true (200 OK). @Rogue thank you for your help sincerely. I have been struggling with this for 2 days now."},{"owner":{"account_id":26618931,"reputation":1,"user_id":20237935,"display_name":"TsB"},"score":0,"creation_date":1701294167,"post_id":77569249,"comment_id":136759447,"body_markdown":"@Rogue just to summarise what I said, the getReadiness() is a very simple method that returns 200 or 503. We need to retry until it returns 200. As far as I can see in the code, the response is deserialised to a boolean and you can see the getReadiness code sample above. Thank you once again.","body":"@Rogue just to summarise what I said, the getReadiness() is a very simple method that returns 200 or 503. We need to retry until it returns 200. As far as I can see in the code, the response is deserialised to a boolean and you can see the getReadiness code sample above. Thank you once again."}],"owner":{"account_id":26618931,"reputation":1,"user_id":20237935,"display_name":"TsB"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701289068,"creation_date":1701242662,"question_id":77569249,"body_markdown":"I have the following code which tries to get a /ready endpoint of a service until it returns OK and then makes a call to that service when it is available:\r\n\r\n```\r\n  @PostConstruct\r\n  void registerMetadata() {\r\n    CompletableFuture.runAsync(this::getServiceReady, executor)\r\n        .thenRunAsync(() -&gt; registerWithRetry(0), executor);\r\n  }\r\n\r\n  private void registerWithRetry(int retryAttempt) {\r\n  serviceRegistrationOperations.registerService(serviceMetadataMedia)\r\n        .thenAccept(data -&gt; {\r\n          this.isMetadataRegistered = true;\r\n        }).whenComplete((data, ex) -&gt; {\r\n          if (ex != null) {\r\n            Throwable cause = ExceptionUtils.cleanseTop(ex);\r\n            String message = cause.getMessage();\r\n            }\r\n            int delayInSeconds = getDelaySecondsBeforeNextRetry(retryAttempt);\r\n            log.error(&quot;Failed to register metadata: {}, will retry again in {} seconds&quot;, message, delayInSeconds, cause);\r\n            CompletableFuture.runAsync(() -&gt; registerWithRetry(retryAttempt + 1), new DelayedExecutor(delayInSeconds, TimeUnit.SECONDS, executor));\r\n          }\r\n        });\r\n  }\r\n\r\n  private CompletableFuture&lt;Boolean&gt; getServiceReady() {\r\n    log.info(&quot;Getting the readiness of the service&quot;);\r\n    if (this.exitFlag) {\r\n      return CompletableFuture.completedFuture(null);\r\n    }\r\n    return healthOperations.getReadiness()\r\n        .thenApply(isServiceReady -&gt; {\r\n         this.exitFlag = true;\r\n          return true;\r\n        }).whenComplete((result, ex) -&gt; {\r\n          if (ex != null) {\r\n            log.error(&quot;service is not up&quot;);\r\n            CompletableFuture.runAsync(() -&gt; getServiceReady(), new DelayedExecutor(5, TimeUnit.SECONDS, executor));\r\n          }\r\n        });\r\n  }\r\n```\r\n\r\nHowever, it seems that the code never waits for the first recursion to complete (meaning the `healthOperations.getServiceReady()` to return true). I want to make it so that it first waits for the first recursion to finish and then to go to the registerWithRetry method. Can you help me figure out how to write the first recursion so that the program waits for it and then moves on with the second one?\r\n\r\nI tried different ways to achieve this. For my use case `block(healthOperations.getServiceReady())` doesn&#39;t work, so my guess is that it has to be a chain of events. ","title":"How to write 2 consequent recursions with Completable future?","body":"<p>I have the following code which tries to get a /ready endpoint of a service until it returns OK and then makes a call to that service when it is available:</p>\n<pre><code>  @PostConstruct\n  void registerMetadata() {\n    CompletableFuture.runAsync(this::getServiceReady, executor)\n        .thenRunAsync(() -&gt; registerWithRetry(0), executor);\n  }\n\n  private void registerWithRetry(int retryAttempt) {\n  serviceRegistrationOperations.registerService(serviceMetadataMedia)\n        .thenAccept(data -&gt; {\n          this.isMetadataRegistered = true;\n        }).whenComplete((data, ex) -&gt; {\n          if (ex != null) {\n            Throwable cause = ExceptionUtils.cleanseTop(ex);\n            String message = cause.getMessage();\n            }\n            int delayInSeconds = getDelaySecondsBeforeNextRetry(retryAttempt);\n            log.error(&quot;Failed to register metadata: {}, will retry again in {} seconds&quot;, message, delayInSeconds, cause);\n            CompletableFuture.runAsync(() -&gt; registerWithRetry(retryAttempt + 1), new DelayedExecutor(delayInSeconds, TimeUnit.SECONDS, executor));\n          }\n        });\n  }\n\n  private CompletableFuture&lt;Boolean&gt; getServiceReady() {\n    log.info(&quot;Getting the readiness of the service&quot;);\n    if (this.exitFlag) {\n      return CompletableFuture.completedFuture(null);\n    }\n    return healthOperations.getReadiness()\n        .thenApply(isServiceReady -&gt; {\n         this.exitFlag = true;\n          return true;\n        }).whenComplete((result, ex) -&gt; {\n          if (ex != null) {\n            log.error(&quot;service is not up&quot;);\n            CompletableFuture.runAsync(() -&gt; getServiceReady(), new DelayedExecutor(5, TimeUnit.SECONDS, executor));\n          }\n        });\n  }\n</code></pre>\n<p>However, it seems that the code never waits for the first recursion to complete (meaning the <code>healthOperations.getServiceReady()</code> to return true). I want to make it so that it first waits for the first recursion to finish and then to go to the registerWithRetry method. Can you help me figure out how to write the first recursion so that the program waits for it and then moves on with the second one?</p>\n<p>I tried different ways to achieve this. For my use case <code>block(healthOperations.getServiceReady())</code> doesn't work, so my guess is that it has to be a chain of events.</p>\n"},{"tags":["java","3d","game-engine","raycasting","bresenham"],"owner":{"account_id":25074926,"reputation":1,"user_id":18928444,"display_name":"Ricky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701288737,"creation_date":1701288737,"question_id":77574230,"body_markdown":"I&#39;m currently working on a raycaster engine in Java with Lanterna for a college project.\r\nMy engine was working, but now I would like to add different colors to different sides of walls.\r\n\r\nI&#39;m using the Bresenham&#39;s line algorithm:\r\n\r\n```\r\nprivate Pair&lt;List&lt;Position&gt;, Integer&gt; createLine(double angle, Position playerPosition, Map map) {\r\n    // Creates a line using the Bresenham&#39;s line algorithm.\r\n    List&lt;Position&gt; line = new ArrayList&lt;&gt;();\r\n\r\n    // Get the starting coordinates\r\n    int x1 = (int) playerPosition.getX();\r\n    int y1 = (int) playerPosition.getY();\r\n\r\n    // Set the maximum distance for the line\r\n    int distance = 1000;\r\n\r\n    // Calculate the ending coordinates based on the angle and distance\r\n    int x2 = (int) (x1 + distance * Math.cos(Math.toRadians(angle)));\r\n    int y2 = (int) -(y1 + distance * Math.sin(Math.toRadians(angle)));\r\n\r\n    // Calculate the differences between coordinates\r\n    int dx = Math.abs(x2 - x1);\r\n    int dy = Math.abs(y2 - y1);\r\n\r\n    // Determine the direction of movement (sx and sy are either 1 or -1)\r\n    int sx = (x1 &lt; x2) ? 1 : -1;\r\n    int sy = (y1 &lt; y2) ? 1 : -1;\r\n\r\n    // Initialize variables for tracking errors and the current side of the line\r\n    int side = 1; // 1 for top/bottom, 2 for left/right\r\n    int err = dx - dy;\r\n\r\n    // Bresenham&#39;s line algorithm\r\n    while (x1 != x2 || y1 != y2) {\r\n        // Check if the current position is occupied in the map\r\n        if (map.getXY(x1 / map.getCellsize(), y1 / map.getCellsize()) == 1) {\r\n            // Return the line and the side when an obstacle is encountered\r\n            return new ImmutablePair&lt;&gt;(line, side);\r\n        }\r\n\r\n        // Add the current position to the line\r\n        line.add(new Position(x1, y1, 0));\r\n\r\n        // Calculate error and update coordinates based on the algorithm\r\n        int e2 = 2 * err;\r\n        if (e2 &gt; -dy) {\r\n            err -= dy;\r\n            x1 += sx;\r\n            side = 2; // Set side to left/right\r\n        }\r\n        if (e2 &lt; dx) {\r\n            err += dx;\r\n            y1 += sy;\r\n            side = 1; // Set side to top/bottom\r\n        }\r\n    }\r\n    return new ImmutablePair&lt;&gt;(line, side);\r\n}\r\n```\r\n\r\nThe problem is that the side isn&#39;t being calculated correctly, and it&#39;s producing\r\n[this output](https://i.stack.imgur.com/qGjGG.png). As you can see, the left side is correct, but there are red stripes in the middle where everything should be green, and on the right side it should also be green.  \r\nI think that this behavior is caused when the angle between the player and the wall is very small, but I can&#39;t solve it.  \r\nEvery help is welcome!","title":"How to correctly calculate the side of a wall in Bresenham&#39;s algorithm?","body":"<p>I'm currently working on a raycaster engine in Java with Lanterna for a college project.\nMy engine was working, but now I would like to add different colors to different sides of walls.</p>\n<p>I'm using the Bresenham's line algorithm:</p>\n<pre><code>private Pair&lt;List&lt;Position&gt;, Integer&gt; createLine(double angle, Position playerPosition, Map map) {\n    // Creates a line using the Bresenham's line algorithm.\n    List&lt;Position&gt; line = new ArrayList&lt;&gt;();\n\n    // Get the starting coordinates\n    int x1 = (int) playerPosition.getX();\n    int y1 = (int) playerPosition.getY();\n\n    // Set the maximum distance for the line\n    int distance = 1000;\n\n    // Calculate the ending coordinates based on the angle and distance\n    int x2 = (int) (x1 + distance * Math.cos(Math.toRadians(angle)));\n    int y2 = (int) -(y1 + distance * Math.sin(Math.toRadians(angle)));\n\n    // Calculate the differences between coordinates\n    int dx = Math.abs(x2 - x1);\n    int dy = Math.abs(y2 - y1);\n\n    // Determine the direction of movement (sx and sy are either 1 or -1)\n    int sx = (x1 &lt; x2) ? 1 : -1;\n    int sy = (y1 &lt; y2) ? 1 : -1;\n\n    // Initialize variables for tracking errors and the current side of the line\n    int side = 1; // 1 for top/bottom, 2 for left/right\n    int err = dx - dy;\n\n    // Bresenham's line algorithm\n    while (x1 != x2 || y1 != y2) {\n        // Check if the current position is occupied in the map\n        if (map.getXY(x1 / map.getCellsize(), y1 / map.getCellsize()) == 1) {\n            // Return the line and the side when an obstacle is encountered\n            return new ImmutablePair&lt;&gt;(line, side);\n        }\n\n        // Add the current position to the line\n        line.add(new Position(x1, y1, 0));\n\n        // Calculate error and update coordinates based on the algorithm\n        int e2 = 2 * err;\n        if (e2 &gt; -dy) {\n            err -= dy;\n            x1 += sx;\n            side = 2; // Set side to left/right\n        }\n        if (e2 &lt; dx) {\n            err += dx;\n            y1 += sy;\n            side = 1; // Set side to top/bottom\n        }\n    }\n    return new ImmutablePair&lt;&gt;(line, side);\n}\n</code></pre>\n<p>The problem is that the side isn't being calculated correctly, and it's producing\n<a href=\"https://i.stack.imgur.com/qGjGG.png\" rel=\"nofollow noreferrer\">this output</a>. As you can see, the left side is correct, but there are red stripes in the middle where everything should be green, and on the right side it should also be green.<br />\nI think that this behavior is caused when the angle between the player and the wall is very small, but I can't solve it.<br />\nEvery help is welcome!</p>\n"},{"tags":["java","graphviz","dot"],"comments":[{"owner":{"account_id":4989848,"reputation":1603,"user_id":4012408,"display_name":"Rafael Guillen"},"score":0,"creation_date":1701289366,"post_id":77574194,"comment_id":136758716,"body_markdown":"Check this links on adding Graphviz to Java: https://stackoverflow.com/questions/26481910/how-to-call-graphviz-from-java and https://github.com/nidi3/graphviz-java","body":"Check this links on adding Graphviz to Java: <a href=\"https://stackoverflow.com/questions/26481910/how-to-call-graphviz-from-java\" title=\"how to call graphviz from java\">stackoverflow.com/questions/26481910/&hellip;</a> and <a href=\"https://github.com/nidi3/graphviz-java\" rel=\"nofollow noreferrer\">github.com/nidi3/graphviz-java</a>"}],"owner":{"account_id":30025657,"reputation":1,"user_id":23009964,"display_name":"protag"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701288384,"creation_date":1701288384,"question_id":77574194,"body_markdown":"I have a project to create a course visualization program. This program should display a map of all the courses one has to take to complete their degree in college (say Engineering). I have been given all the courses in the degree program, prerequisites and, credits for each course.\r\n\r\nMy program should be be able to accept an input from the user. ie: their current major, courses they are currently taking.\r\nThe output should then be a visual map of their progress to completing the degree, this visual should include classes they need to take next. classes they cannot take at the moment, and their total credit so far.\r\n\r\nFor anyone who has an idea of what the process is going to be like, Where should I start? Also I am required to use graphviz for this visualization.\r\n\r\nWe brainstormed using an Excel file and formatting all of the courses and the amount of credits, but we were stuck on how to take the input the person gives when using the program and having that alter the elements of the Excel file. Should we just store all of the courses and credits within the program, or have it in an external file?","title":"Graphviz Course Visualization Map","body":"<p>I have a project to create a course visualization program. This program should display a map of all the courses one has to take to complete their degree in college (say Engineering). I have been given all the courses in the degree program, prerequisites and, credits for each course.</p>\n<p>My program should be be able to accept an input from the user. ie: their current major, courses they are currently taking.\nThe output should then be a visual map of their progress to completing the degree, this visual should include classes they need to take next. classes they cannot take at the moment, and their total credit so far.</p>\n<p>For anyone who has an idea of what the process is going to be like, Where should I start? Also I am required to use graphviz for this visualization.</p>\n<p>We brainstormed using an Excel file and formatting all of the courses and the amount of credits, but we were stuck on how to take the input the person gives when using the program and having that alter the elements of the Excel file. Should we just store all of the courses and credits within the program, or have it in an external file?</p>\n"},{"tags":["java","spring","spring-boot","controller-advice"],"answers":[{"tags":[],"owner":{"account_id":16431604,"reputation":26,"user_id":11870302,"display_name":"Mohamed El-Harrougui"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701288081,"creation_date":1701288081,"answer_id":77574168,"question_id":77573987,"body_markdown":"- The **@ControllerAdvice** annotation marks the class as a global exception handler.\r\n- The **@ExceptionHandler(Exception.class)** annotation on the **handleApiErrorException** method specifies that this method will handle exceptions of type **ApiErrorException**.\r\n- You can add more **@ExceptionHandler** methods for handling specific exceptions. And you can also add a general **@ExceptionHandler(Exception.class)** method to handle all types of Exceptions.\r\n- Ensure that your @ControllerAdvice class is within the package or subpackage that is **scanned** by your Spring application. If it&#39;s in a different package, you might need to use the basePackages attribute of @ComponentScan in your main application class @ComponentScan(basePackages = &quot;com.example&quot;), or specify the package in the @ControllerAdvice annotation.\r\n","title":"using @ControllerAdvice exception handler as a standalone library","body":"<ul>\n<li>The <strong>@ControllerAdvice</strong> annotation marks the class as a global exception handler.</li>\n<li>The <strong>@ExceptionHandler(Exception.class)</strong> annotation on the <strong>handleApiErrorException</strong> method specifies that this method will handle exceptions of type <strong>ApiErrorException</strong>.</li>\n<li>You can add more <strong>@ExceptionHandler</strong> methods for handling specific exceptions. And you can also add a general <strong>@ExceptionHandler(Exception.class)</strong> method to handle all types of Exceptions.</li>\n<li>Ensure that your @ControllerAdvice class is within the package or subpackage that is <strong>scanned</strong> by your Spring application. If it's in a different package, you might need to use the basePackages attribute of @ComponentScan in your main application class @ComponentScan(basePackages = &quot;com.example&quot;), or specify the package in the @ControllerAdvice annotation.</li>\n</ul>\n"}],"owner":{"account_id":15366844,"reputation":3,"user_id":14600371,"display_name":"Rail"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77574168,"answer_count":1,"score":-1,"last_activity_date":1701288081,"creation_date":1701285696,"question_id":77573987,"body_markdown":"I want to create a standalone Spring library that handles standard api exceptions via @ControllerAdvice. My approach is to make it easy to use in different modules without any additional configuration.\r\n\r\nThere is a code of my exception handler:\r\n\r\n``` lang-java\r\n@ControllerAdvice\r\npublic class ApiErrorControllerAdvice extends ResponseEntityExceptionHandler {\r\n\r\n    @ExceptionHandler(value = {ApiErrorException.class})\r\n    public ResponseEntity&lt;ErrorResponseTo&gt; handleApiErrorException(ApiErrorException apiError) {\r\n        return new ResponseEntity&lt;&gt;(\r\n                new ErrorResponseTo(apiError.getMessage()),\r\n                apiError.getHttpStatus()\r\n        );\r\n    }\r\n}\r\n```\r\n\r\nHow should I configure my application to make exception handler automatically picked up by Spring?","title":"using @ControllerAdvice exception handler as a standalone library","body":"<p>I want to create a standalone Spring library that handles standard api exceptions via @ControllerAdvice. My approach is to make it easy to use in different modules without any additional configuration.</p>\n<p>There is a code of my exception handler:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ControllerAdvice\npublic class ApiErrorControllerAdvice extends ResponseEntityExceptionHandler {\n\n    @ExceptionHandler(value = {ApiErrorException.class})\n    public ResponseEntity&lt;ErrorResponseTo&gt; handleApiErrorException(ApiErrorException apiError) {\n        return new ResponseEntity&lt;&gt;(\n                new ErrorResponseTo(apiError.getMessage()),\n                apiError.getHttpStatus()\n        );\n    }\n}\n</code></pre>\n<p>How should I configure my application to make exception handler automatically picked up by Spring?</p>\n"},{"tags":["java","antlr","antlr4","visitor-pattern"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1701266751,"post_id":77571236,"comment_id":136754341,"body_markdown":"What is the input? Are you sure the parser isn&#39;t using one of the other rules instead of `expression_fragment`? Have you debugged the execution? Are you sure `visitAddMinusOp()` is visited?","body":"What is the input? Are you sure the parser isn&#39;t using one of the other rules instead of <code>expression_fragment</code>? Have you debugged the execution? Are you sure <code>visitAddMinusOp()</code> is visited?"},{"owner":{"account_id":6128906,"reputation":1172,"user_id":4779853,"display_name":"kaby76"},"score":0,"creation_date":1701273353,"post_id":77571236,"comment_id":136755895,"body_markdown":"(1) Ambiguous parse with &quot;(1+2)&quot;, using `LPAREN expression RPAREN #Parens`, or `LPAREN expression RPAREN #NestedExpression`. Don&#39;t do this. (2) `visitExpressFrag(0)` can&#39;t compile because you can&#39;t cast an integer into a parser node for `visit()`. You want `visitExpressFrag(ctx.expression_fragment(0))` or `visit(ctx.expression_fragment(0))`. (3) Can&#39;t parse &quot;1+2+3&quot; or `1 + -2`. Please study https://github.com/antlr/grammars-v4/blob/master/calculator/calculator.g4 or https://github.com/antlr/grammars-v4/blob/753536777d827ccc0c9b108531ea67375c2039ac/java/java/JavaParser.g4#L599-L660","body":"(1) Ambiguous parse with &quot;(1+2)&quot;, using <code>LPAREN expression RPAREN #Parens</code>, or <code>LPAREN expression RPAREN #NestedExpression</code>. Don&#39;t do this. (2) <code>visitExpressFrag(0)</code> can&#39;t compile because you can&#39;t cast an integer into a parser node for <code>visit()</code>. You want <code>visitExpressFrag(ctx.expression_fragment(0))</code> or <code>visit(ctx.expression_fragment(0))</code>. (3) Can&#39;t parse &quot;1+2+3&quot; or <code>1 + -2</code>. Please study <a href=\"https://github.com/antlr/grammars-v4/blob/master/calculator/calculator.g4\" rel=\"nofollow noreferrer\">github.com/antlr/grammars-v4/blob/master/calculator/&hellip;</a> or <a href=\"https://github.com/antlr/grammars-v4/blob/753536777d827ccc0c9b108531ea67375c2039ac/java/java/JavaParser.g4#L599-L660\" rel=\"nofollow noreferrer\">github.com/antlr/grammars-v4/blob/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701287856,"creation_date":1701287519,"answer_id":77574126,"question_id":77571236,"body_markdown":"`visitExpressFrag(0)` is incorrect, because it expects a `ParserRuleContext` as a parameter, yet you provide an `int` as a parameter.\r\n\r\n&gt; However, when running my code, the visitExpressFrag method doesn&#39;t seem to be invoked\r\n\r\nIt does with me. Using the visitor like this:\r\n\r\n```java\r\nclass EvalVisitor extends CCALBaseVisitor&lt;Integer&gt; {\r\n\r\n    @Override\r\n    public Integer visitParse(CCALParser.ParseContext ctx) {\r\n        return visit(ctx.expression());\r\n    }\r\n\r\n    @Override\r\n    public Integer visitAddMinusOp(CCALParser.AddMinusOpContext ctx) {\r\n        Integer left = visit(ctx.expression_fragment(0));\r\n        Integer right = visit(ctx.expression_fragment(1));\r\n        return ctx.binary_arith_op().MINUS() == null ? left + right : left - right;\r\n    }\r\n\r\n    @Override\r\n    public Integer visitParens(CCALParser.ParensContext ctx) {\r\n        return visit(ctx.expression());\r\n    }\r\n\r\n    @Override\r\n    public Integer visitExpressFrag(CCALParser.ExpressFragContext ctx) {\r\n        return visit(ctx.expression_fragment());\r\n    }\r\n\r\n    @Override\r\n    public Integer visitNumberLiteral(CCALParser.NumberLiteralContext ctx) {\r\n        return Integer.valueOf(ctx.NUMBER().getText());\r\n    }\r\n\r\n    @Override\r\n    public Integer visitTrueLiteral(CCALParser.TrueLiteralContext ctx) {\r\n        return 1;\r\n    }\r\n\r\n    @Override\r\n    public Integer visitFalseLiteral(CCALParser.FalseLiteralContext ctx) {\r\n        return 0;\r\n    }\r\n\r\n    @Override\r\n    public Integer visitNestedExpression(CCALParser.NestedExpressionContext ctx) {\r\n        return visit(ctx.expression());\r\n    }\r\n}\r\n```\r\n\r\nand small driver class:\r\n\r\n```java\r\npublic class CCALDemo {\r\n    public static void main(String[] args) {\r\n        CCALLexer lexer = new CCALLexer(CharStreams.fromString(&quot;8 - 3&quot;));\r\n        CCALParser parser = new CCALParser(new CommonTokenStream(lexer));\r\n        Integer answer = new EvalVisitor().visit(parser.parse());\r\n        System.out.println(answer);\r\n    }\r\n}\r\n```\r\n\r\nwill print `5` as expected.\r\n\r\nYou really don&#39;t need a `expression_fragment` rule (which contains a duplicate nested expression) and I suspect you also want to account for `-(1+2)`, not just `-ID`. An `expression` rule like this would be better:\r\n\r\n```\r\nexpression\r\n : MINUS expression                      #Negated\r\n | expression binary_arith_op expression #AddMinusOp\r\n | LPAREN expression RPAREN              #Parens\r\n | ID LPAREN arg_list RPAREN             #FunctionCallOp\r\n | ID                                    #ID\r\n | NUMBER                                #NumberLiteral\r\n | TRUE                                  #TrueLiteral\r\n | FALSE                                 #FalseLiteral\r\n ;\r\n```","title":"Trouble with ANTLR Visitor Pattern - Not Entering visitExpressFrag Method","body":"<p><code>visitExpressFrag(0)</code> is incorrect, because it expects a <code>ParserRuleContext</code> as a parameter, yet you provide an <code>int</code> as a parameter.</p>\n<blockquote>\n<p>However, when running my code, the visitExpressFrag method doesn't seem to be invoked</p>\n</blockquote>\n<p>It does with me. Using the visitor like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class EvalVisitor extends CCALBaseVisitor&lt;Integer&gt; {\n\n    @Override\n    public Integer visitParse(CCALParser.ParseContext ctx) {\n        return visit(ctx.expression());\n    }\n\n    @Override\n    public Integer visitAddMinusOp(CCALParser.AddMinusOpContext ctx) {\n        Integer left = visit(ctx.expression_fragment(0));\n        Integer right = visit(ctx.expression_fragment(1));\n        return ctx.binary_arith_op().MINUS() == null ? left + right : left - right;\n    }\n\n    @Override\n    public Integer visitParens(CCALParser.ParensContext ctx) {\n        return visit(ctx.expression());\n    }\n\n    @Override\n    public Integer visitExpressFrag(CCALParser.ExpressFragContext ctx) {\n        return visit(ctx.expression_fragment());\n    }\n\n    @Override\n    public Integer visitNumberLiteral(CCALParser.NumberLiteralContext ctx) {\n        return Integer.valueOf(ctx.NUMBER().getText());\n    }\n\n    @Override\n    public Integer visitTrueLiteral(CCALParser.TrueLiteralContext ctx) {\n        return 1;\n    }\n\n    @Override\n    public Integer visitFalseLiteral(CCALParser.FalseLiteralContext ctx) {\n        return 0;\n    }\n\n    @Override\n    public Integer visitNestedExpression(CCALParser.NestedExpressionContext ctx) {\n        return visit(ctx.expression());\n    }\n}\n</code></pre>\n<p>and small driver class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CCALDemo {\n    public static void main(String[] args) {\n        CCALLexer lexer = new CCALLexer(CharStreams.fromString(&quot;8 - 3&quot;));\n        CCALParser parser = new CCALParser(new CommonTokenStream(lexer));\n        Integer answer = new EvalVisitor().visit(parser.parse());\n        System.out.println(answer);\n    }\n}\n</code></pre>\n<p>will print <code>5</code> as expected.</p>\n<p>You really don't need a <code>expression_fragment</code> rule (which contains a duplicate nested expression) and I suspect you also want to account for <code>-(1+2)</code>, not just <code>-ID</code>. An <code>expression</code> rule like this would be better:</p>\n<pre><code>expression\n : MINUS expression                      #Negated\n | expression binary_arith_op expression #AddMinusOp\n | LPAREN expression RPAREN              #Parens\n | ID LPAREN arg_list RPAREN             #FunctionCallOp\n | ID                                    #ID\n | NUMBER                                #NumberLiteral\n | TRUE                                  #TrueLiteral\n | FALSE                                 #FalseLiteral\n ;\n</code></pre>\n"}],"owner":{"account_id":27076036,"reputation":5,"user_id":20625963,"display_name":"Cian Sullivan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701287856,"creation_date":1701261544,"question_id":77571236,"body_markdown":"I am working on a lexical and syntax analyser that I amimplementing semantic analysis and intermediate representation generation using ANTLR, and I&#39;ve encountered a problem with my visitor implementation. Specifically, I&#39;m unable to successfully enter the visitExpressFrag method in my EvalVisitor class. This method is crucial for handling expressions in my language.\r\n\r\nHere&#39;s a simplified version of my problem:\r\n\r\nIn my EvalVisitor.java, I have the following methods:\r\n\r\n    @Override\r\n    public Integer visitAddMinusOp(CCALParser.AddMinusOpContext ctx) {\r\n        Integer left = visit(ctx.expression_fragment(0));\r\n        Integer right = visit(ctx.expression_fragment(1));\r\n        if (left == null || right == null) {\r\n            throw new RuntimeException(&quot;Left or right operand is null in AddMinusOp&quot;);\r\n        }\r\n        System.out.println(&quot;visitAddMinusOp - Left: &quot; + left + &quot;, Right: &quot; + right);\r\n        // ...\r\n    }\r\n    \r\n    @Override\r\n    public Integer visitExpressFrag(CCALParser.ExpressFragContext ctx) {\r\n        if (ctx.expression_fragment() == null) {\r\n            System.out.println(&quot;visitExpressFrag - Expression fragment context is null.&quot;);\r\n        } else {\r\n            System.out.println(&quot;visitExpressFrag - Expression Fragment Text: &quot; + ctx.expression_fragment().getText());\r\n        }\r\n        // ...\r\n    }\r\n\r\n\r\nHowever, when running my code, the visitExpressFrag method doesn&#39;t seem to be invoked as expected. I added print statements for debugging, but they don&#39;t get executed, indicating that the method isn&#39;t being entered.\r\n\r\nI tried directly calling visitExpressFrag like so:\r\n\r\n    @Override\r\n    public Integer visitAddMinusOp(CCALParser.AddMinusOpContext ctx) {\r\n        Integer left = visitExpressFrag(0);\r\n        // ...\r\n    }\r\n\r\n\r\nBut this results in a compilation error:\r\n\r\n    EvalVisitor.java:297: error: incompatible types: int cannot be converted to ExpressFragContext\r\n        Integer left = visitExpressFrag(0);\r\n                                    ^\r\n\r\n\r\nThis is the relevant part of my CCALParser.java (i am not fully sure if this is relevant):\r\n\r\n    // ExpressFragContext definition\r\n    public static class ExpressFragContext extends ExpressionContext {\r\n        public Expression_fragmentContext expression_fragment() {\r\n            return getRuleContext(Expression_fragmentContext.class,0);\r\n        }\r\n        // ...\r\n    }\r\n\r\nAnd my CCAL.g4 looks like this:\r\n\r\n    expression : expression_fragment binary_arith_op expression_fragment #AddMinusOp\r\n               | LPAREN expression RPAREN                       #Parens\r\n               | ID LPAREN arg_list RPAREN                      #FunctionCallOp\r\n               | expression_fragment                            #ExpressFrag\r\n               ;\r\n    \r\n    binary_arith_op : PLUS | MINUS;\r\n    \r\n    expression_fragment \r\n        : ID                                          #ID\r\n        | MINUS ID                                    #NegatedVariable\r\n        | NUMBER                                      #NumberLiteral\r\n        | TRUE                                        #TrueLiteral\r\n        | FALSE                                       #FalseLiteral\r\n        | LPAREN expression RPAREN                    #NestedExpression\r\n        ;\r\n\r\nI&#39;m not sure how to properly invoke visitExpressFrag or why it&#39;s not being called as expected. Any insights or suggestions on how to resolve this issue would be greatly appreciated.\r\n","title":"Trouble with ANTLR Visitor Pattern - Not Entering visitExpressFrag Method","body":"<p>I am working on a lexical and syntax analyser that I amimplementing semantic analysis and intermediate representation generation using ANTLR, and I've encountered a problem with my visitor implementation. Specifically, I'm unable to successfully enter the visitExpressFrag method in my EvalVisitor class. This method is crucial for handling expressions in my language.</p>\n<p>Here's a simplified version of my problem:</p>\n<p>In my EvalVisitor.java, I have the following methods:</p>\n<pre><code>@Override\npublic Integer visitAddMinusOp(CCALParser.AddMinusOpContext ctx) {\n    Integer left = visit(ctx.expression_fragment(0));\n    Integer right = visit(ctx.expression_fragment(1));\n    if (left == null || right == null) {\n        throw new RuntimeException(&quot;Left or right operand is null in AddMinusOp&quot;);\n    }\n    System.out.println(&quot;visitAddMinusOp - Left: &quot; + left + &quot;, Right: &quot; + right);\n    // ...\n}\n\n@Override\npublic Integer visitExpressFrag(CCALParser.ExpressFragContext ctx) {\n    if (ctx.expression_fragment() == null) {\n        System.out.println(&quot;visitExpressFrag - Expression fragment context is null.&quot;);\n    } else {\n        System.out.println(&quot;visitExpressFrag - Expression Fragment Text: &quot; + ctx.expression_fragment().getText());\n    }\n    // ...\n}\n</code></pre>\n<p>However, when running my code, the visitExpressFrag method doesn't seem to be invoked as expected. I added print statements for debugging, but they don't get executed, indicating that the method isn't being entered.</p>\n<p>I tried directly calling visitExpressFrag like so:</p>\n<pre><code>@Override\npublic Integer visitAddMinusOp(CCALParser.AddMinusOpContext ctx) {\n    Integer left = visitExpressFrag(0);\n    // ...\n}\n</code></pre>\n<p>But this results in a compilation error:</p>\n<pre><code>EvalVisitor.java:297: error: incompatible types: int cannot be converted to ExpressFragContext\n    Integer left = visitExpressFrag(0);\n                                ^\n</code></pre>\n<p>This is the relevant part of my CCALParser.java (i am not fully sure if this is relevant):</p>\n<pre><code>// ExpressFragContext definition\npublic static class ExpressFragContext extends ExpressionContext {\n    public Expression_fragmentContext expression_fragment() {\n        return getRuleContext(Expression_fragmentContext.class,0);\n    }\n    // ...\n}\n</code></pre>\n<p>And my CCAL.g4 looks like this:</p>\n<pre><code>expression : expression_fragment binary_arith_op expression_fragment #AddMinusOp\n           | LPAREN expression RPAREN                       #Parens\n           | ID LPAREN arg_list RPAREN                      #FunctionCallOp\n           | expression_fragment                            #ExpressFrag\n           ;\n\nbinary_arith_op : PLUS | MINUS;\n\nexpression_fragment \n    : ID                                          #ID\n    | MINUS ID                                    #NegatedVariable\n    | NUMBER                                      #NumberLiteral\n    | TRUE                                        #TrueLiteral\n    | FALSE                                       #FalseLiteral\n    | LPAREN expression RPAREN                    #NestedExpression\n    ;\n</code></pre>\n<p>I'm not sure how to properly invoke visitExpressFrag or why it's not being called as expected. Any insights or suggestions on how to resolve this issue would be greatly appreciated.</p>\n"},{"tags":["java","soap"],"owner":{"account_id":30024121,"reputation":1,"user_id":23008793,"display_name":"Rasool Fattahi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701287827,"creation_date":1701275730,"question_id":77572989,"body_markdown":"I have received this exception when I call a SOAP app:\r\n\r\n&gt;&quot;Cannot write output after reading input&quot; \r\n\r\nMy implementation is:\r\n\r\n    RL obj = new URL(axaVerificationUrl);\r\n    HttpURLConnection con = (HttpURLConnection) obj.openConnection(); \r\n    con.setConnectTimeout(timeoutConnection);\r\n    con.setRequestMethod(&quot;POST&quot;);\r\n    con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/soap+xml&quot;);\r\n    con.setRequestProperty(&quot;SOAPAction&quot;, &quot;EligibiliteService&quot;);\r\n    con.setDoOutput(true);\r\n    con.setDoInput(true);\r\n    OutputStream objOut = con.getOutputStream();\r\n    OutputStreamWriter wr = new OutputStreamWriter(objOut);\r\n    wr.write(replacePlaceHolder(request);\r\n    wr.flush();\r\n    wr.close();\r\n    String responseStatus = con.getResponseMessage();\r\n    BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n    String inputLine;\r\n    StringBuffer response = new StringBuffer();\r\n    while ((inputLine = in.readLine()) != null) {\r\n       response.append(inputLine);\r\n    }\r\n    in.close();\r\n\r\n\r\nI am getting this exception once I performed exactly this below line:\r\n\r\n`OutputStream objOut = con.getOutputStream();`\r\n\r\nBefore I write the request and get the response code. \r\n\r\n\r\nCan someone have any experience with this exception? \r\n\r\n\r\nI am expecting to call a soap API and get successful code. ","title":"Cannot write output after reading input in Java","body":"<p>I have received this exception when I call a SOAP app:</p>\n<blockquote>\n<p>&quot;Cannot write output after reading input&quot;</p>\n</blockquote>\n<p>My implementation is:</p>\n<pre><code>RL obj = new URL(axaVerificationUrl);\nHttpURLConnection con = (HttpURLConnection) obj.openConnection(); \ncon.setConnectTimeout(timeoutConnection);\ncon.setRequestMethod(&quot;POST&quot;);\ncon.setRequestProperty(&quot;Content-Type&quot;, &quot;application/soap+xml&quot;);\ncon.setRequestProperty(&quot;SOAPAction&quot;, &quot;EligibiliteService&quot;);\ncon.setDoOutput(true);\ncon.setDoInput(true);\nOutputStream objOut = con.getOutputStream();\nOutputStreamWriter wr = new OutputStreamWriter(objOut);\nwr.write(replacePlaceHolder(request);\nwr.flush();\nwr.close();\nString responseStatus = con.getResponseMessage();\nBufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\nString inputLine;\nStringBuffer response = new StringBuffer();\nwhile ((inputLine = in.readLine()) != null) {\n   response.append(inputLine);\n}\nin.close();\n</code></pre>\n<p>I am getting this exception once I performed exactly this below line:</p>\n<p><code>OutputStream objOut = con.getOutputStream();</code></p>\n<p>Before I write the request and get the response code.</p>\n<p>Can someone have any experience with this exception?</p>\n<p>I am expecting to call a soap API and get successful code.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"score":0,"creation_date":1700819428,"post_id":77539582,"comment_id":136702479,"body_markdown":"Thank you! Do you think there is some asynchronous alternative for `@DataJpaTest`? I&#39;m sure there&#39;s some &quot;official&quot; way of doing it","body":"Thank you! Do you think there is some asynchronous alternative for <code>@DataJpaTest</code>? I&#39;m sure there&#39;s some &quot;official&quot; way of doing it"},{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":1,"creation_date":1700820166,"post_id":77539582,"comment_id":136702628,"body_markdown":"@Kodigas I don&#39;t think there is. But I also like to know why this happens and since your MRE is pretty detailed, I&#39;m going to add a bounty later today to ask for a more authoritative answer if I don&#39;t forget.","body":"@Kodigas I don&#39;t think there is. But I also like to know why this happens and since your MRE is pretty detailed, I&#39;m going to add a bounty later today to ask for a more authoritative answer if I don&#39;t forget."},{"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"score":0,"creation_date":1700902021,"post_id":77539582,"comment_id":136711105,"body_markdown":"A gentle reminder if you still want to do that","body":"A gentle reminder if you still want to do that"}],"tags":[],"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1700777171,"creation_date":1700772824,"answer_id":77539582,"question_id":77539142,"body_markdown":"While I don&#39;t know the exact cause, it seems to be related to how transactions are handled in `@DataJpaTest`. If you run the application regularly, the `findAll()` method works fine.\r\n\r\nSimilarly, if you use `@SpringBootTest` in stead of `@DataJpaTest`, your test also works:\r\n\r\n```java\r\n@SpringBootTest // Replace @DataJpaTest with @SpringBootTest\r\n@ActiveProfiles(&quot;test&quot;)\r\n@Sql(\r\n    executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD,\r\n    scripts = {&quot;/schema-h2.sql&quot;, &quot;/data-h2.sql&quot;}\r\n)\r\npublic class AsynchronousCardRepositoryTest {\r\n    // ...\r\n}\r\n```\r\n\r\nThe reason why I suspect that this is transaction related is because if I change the execution phase of the SQL to be `BEFORE_TEST_CLASS`, your test succeeds:\r\n\r\n```java\r\n@DataJpaTest\r\n@ActiveProfiles(&quot;test&quot;)\r\n// Replace BEFORE_TEST_METHOD with BEFORE_TEST_CLASS\r\n@Sql(\r\n    executionPhase = Sql.ExecutionPhase.BEFORE_TEST_CLASS,\r\n    scripts = {&quot;/schema-h2.sql&quot;, &quot;/data-h2.sql&quot;}\r\n)\r\npublic class AsynchronousCardRepositoryTest {\r\n    // ...\r\n}\r\n```\r\n\r\nAlternatively, if I annotate your test with `@Transactional(propagation = Propagation.NEVER)`, your test also succeeds:\r\n\r\n```java\r\n@DataJpaTest\r\n@ActiveProfiles(&quot;test&quot;)\r\n@Sql(\r\n    executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD,\r\n    scripts = {&quot;/schema-h2.sql&quot;, &quot;/data-h2.sql&quot;}\r\n)\r\n@Transactional(propagation = Propagation.NEVER) // Add this\r\npublic class AsynchronousCardRepositoryTest {\r\n    // ...\r\n}\r\n```","title":"@Async methods return empty lists. Why?","body":"<p>While I don't know the exact cause, it seems to be related to how transactions are handled in <code>@DataJpaTest</code>. If you run the application regularly, the <code>findAll()</code> method works fine.</p>\n<p>Similarly, if you use <code>@SpringBootTest</code> in stead of <code>@DataJpaTest</code>, your test also works:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest // Replace @DataJpaTest with @SpringBootTest\n@ActiveProfiles(&quot;test&quot;)\n@Sql(\n    executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD,\n    scripts = {&quot;/schema-h2.sql&quot;, &quot;/data-h2.sql&quot;}\n)\npublic class AsynchronousCardRepositoryTest {\n    // ...\n}\n</code></pre>\n<p>The reason why I suspect that this is transaction related is because if I change the execution phase of the SQL to be <code>BEFORE_TEST_CLASS</code>, your test succeeds:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DataJpaTest\n@ActiveProfiles(&quot;test&quot;)\n// Replace BEFORE_TEST_METHOD with BEFORE_TEST_CLASS\n@Sql(\n    executionPhase = Sql.ExecutionPhase.BEFORE_TEST_CLASS,\n    scripts = {&quot;/schema-h2.sql&quot;, &quot;/data-h2.sql&quot;}\n)\npublic class AsynchronousCardRepositoryTest {\n    // ...\n}\n</code></pre>\n<p>Alternatively, if I annotate your test with <code>@Transactional(propagation = Propagation.NEVER)</code>, your test also succeeds:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DataJpaTest\n@ActiveProfiles(&quot;test&quot;)\n@Sql(\n    executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD,\n    scripts = {&quot;/schema-h2.sql&quot;, &quot;/data-h2.sql&quot;}\n)\n@Transactional(propagation = Propagation.NEVER) // Add this\npublic class AsynchronousCardRepositoryTest {\n    // ...\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"score":0,"creation_date":1701167153,"post_id":77562030,"comment_id":136738949,"body_markdown":"Let me clarify please. Do you mean the actual method implementation in the proxy Spring Data creates is not marked with `@Async` and is not wrapped in an asynchronous proxy?","body":"Let me clarify please. Do you mean the actual method implementation in the proxy Spring Data creates is not marked with <code>@Async</code> and is not wrapped in an asynchronous proxy?"},{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1701212355,"post_id":77562030,"comment_id":136747062,"body_markdown":"The method itself is not invoked from the same class so this answer is irrelevant.","body":"The method itself is not invoked from the same class so this answer is irrelevant."}],"tags":[],"owner":{"account_id":1948681,"reputation":522,"user_id":1753273,"accept_rate":86,"display_name":"agaonsindhe"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701157147,"creation_date":1701157147,"answer_id":77562030,"question_id":77539142,"body_markdown":"When you use @Async on a method, Spring creates a proxy around that method to handle the asynchronous behavior. However, if the method is called from within the same class, the proxy won&#39;t be invoked, and the asynchronous behavior may not take effect. \r\n\r\nThere are couple of thing that can be tried to get rid of the issue -\r\n\r\n1. Move the findAll() call to another class:\r\nCreate a separate service or component class, inject the AsynchronousCardRepository into that class, and call the findAll() method from there. This ensures that the proxy is invoked, and the asynchronous behavior is properly handled.\r\n\r\n       @Service\r\n       public class CardService {\r\n\r\n       private final AsynchronousCardRepository cardRepository;\r\n\r\n       @Autowired\r\n       public CardService(AsynchronousCardRepository cardRepository) {\r\n          this.cardRepository = cardRepository;\r\n       }\r\n\r\n        @Async\r\n        public CompletableFuture&lt;List&lt;Card&gt;&gt; findAll() {\r\n           return cardRepository.findAll();\r\n        }\r\n       }\r\n\r\nIn Test Class\r\n     @Autowired\r\n     private CardService cardService;\r\n\r\n     @Test\r\n     @SneakyThrows\r\n     void findAll() {\r\n        CompletableFuture&lt;List&lt;Card&gt;&gt; futureCards = cardService.findAll();\r\n        List&lt;Card&gt; cards = futureCards.get();\r\n        assertThat(cards).asList().hasSize(3);\r\n      }\r\n\r\n2. Use CompletableFuture instead of Future:\r\nYou can modify the return type of the findAll() method to use CompletableFuture directly. This might work more seamlessly with Spring&#39;s asynchronous processing.\r\n\r\n\r\nLet me know if this resolves your problem.","title":"@Async methods return empty lists. Why?","body":"<p>When you use @Async on a method, Spring creates a proxy around that method to handle the asynchronous behavior. However, if the method is called from within the same class, the proxy won't be invoked, and the asynchronous behavior may not take effect.</p>\n<p>There are couple of thing that can be tried to get rid of the issue -</p>\n<ol>\n<li><p>Move the findAll() call to another class:\nCreate a separate service or component class, inject the AsynchronousCardRepository into that class, and call the findAll() method from there. This ensures that the proxy is invoked, and the asynchronous behavior is properly handled.</p>\n<pre><code>@Service\npublic class CardService {\n\nprivate final AsynchronousCardRepository cardRepository;\n\n@Autowired\npublic CardService(AsynchronousCardRepository cardRepository) {\n   this.cardRepository = cardRepository;\n}\n\n @Async\n public CompletableFuture&lt;List&lt;Card&gt;&gt; findAll() {\n    return cardRepository.findAll();\n }\n}\n</code></pre>\n</li>\n</ol>\n<p>In Test Class\n@Autowired\nprivate CardService cardService;</p>\n<pre><code> @Test\n @SneakyThrows\n void findAll() {\n    CompletableFuture&lt;List&lt;Card&gt;&gt; futureCards = cardService.findAll();\n    List&lt;Card&gt; cards = futureCards.get();\n    assertThat(cards).asList().hasSize(3);\n  }\n</code></pre>\n<ol start=\"2\">\n<li>Use CompletableFuture instead of Future:\nYou can modify the return type of the findAll() method to use CompletableFuture directly. This might work more seamlessly with Spring's asynchronous processing.</li>\n</ol>\n<p>Let me know if this resolves your problem.</p>\n"},{"tags":[],"owner":{"account_id":27597963,"reputation":1024,"user_id":21063779,"display_name":"Lae"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701286773,"creation_date":1701243830,"answer_id":77569338,"question_id":77539142,"body_markdown":"The cause of the test failure is due to a combination of:\r\n\r\n1. The `@DataJpaTest` annotation itself is annotated with `@Transactional`, this mean the test will run inside a transaction, also indicated by the Javadoc in `DataJpaTest`:\r\n   &gt; By default, tests annotated with `@DataJpaTest` are transactional and roll back at the end of each test.\r\n1. Your test is using `@Sql(executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD, ...)`, so the SQL scripts will run within the test&#39;s transaction, therefore any data created by the script is uncommitted data while the test is running.\r\n1. Your async `findAll()` will run in a different thread, outside of the test&#39;s transaction, and due to [transaction isolation](https://h2database.com/html/advanced.html#transaction_isolation) (default is read committed), it will not see uncommitted data created in the test, hence it will return nothing.\r\n\r\nAny one of the following can workaround this (mostly copied from the answer by @g00glen00b) and why they work:\r\n- Use `@SpringBootTest` instead of `@DataJpaTest` - this works because `@SpringBootTest` itself is not annotated with `@Transactional`, so there is no outer transaction wrapping the test, everything is committed as soon as their calls finish, so `findAll()` will see the committed test data.\r\n- Use `@Transactional(propagation = Propagation.NEVER)` or `Propagation.NOT_SUPPORTED` on the test, this essentially suspends the test transaction coming from `@DataJpaTest`, so will cause the test to run without a wrapping transaction, having similar affect as the above.\r\n- Use `@Sql(executionPhase = Sql.ExecutionPhase.BEFORE_TEST_CLASS, ...)` - this runs and commits the test data before the test starts, therefore not affected by the test&#39;s own transaction.\r\n- Remove `@Async` on `findAll()` - this will cause `findAll()` to run within the same transaction, therefore will see uncommitted data.","title":"@Async methods return empty lists. Why?","body":"<p>The cause of the test failure is due to a combination of:</p>\n<ol>\n<li>The <code>@DataJpaTest</code> annotation itself is annotated with <code>@Transactional</code>, this mean the test will run inside a transaction, also indicated by the Javadoc in <code>DataJpaTest</code>:\n<blockquote>\n<p>By default, tests annotated with <code>@DataJpaTest</code> are transactional and roll back at the end of each test.</p>\n</blockquote>\n</li>\n<li>Your test is using <code>@Sql(executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD, ...)</code>, so the SQL scripts will run within the test's transaction, therefore any data created by the script is uncommitted data while the test is running.</li>\n<li>Your async <code>findAll()</code> will run in a different thread, outside of the test's transaction, and due to <a href=\"https://h2database.com/html/advanced.html#transaction_isolation\" rel=\"nofollow noreferrer\">transaction isolation</a> (default is read committed), it will not see uncommitted data created in the test, hence it will return nothing.</li>\n</ol>\n<p>Any one of the following can workaround this (mostly copied from the answer by @g00glen00b) and why they work:</p>\n<ul>\n<li>Use <code>@SpringBootTest</code> instead of <code>@DataJpaTest</code> - this works because <code>@SpringBootTest</code> itself is not annotated with <code>@Transactional</code>, so there is no outer transaction wrapping the test, everything is committed as soon as their calls finish, so <code>findAll()</code> will see the committed test data.</li>\n<li>Use <code>@Transactional(propagation = Propagation.NEVER)</code> or <code>Propagation.NOT_SUPPORTED</code> on the test, this essentially suspends the test transaction coming from <code>@DataJpaTest</code>, so will cause the test to run without a wrapping transaction, having similar affect as the above.</li>\n<li>Use <code>@Sql(executionPhase = Sql.ExecutionPhase.BEFORE_TEST_CLASS, ...)</code> - this runs and commits the test data before the test starts, therefore not affected by the test's own transaction.</li>\n<li>Remove <code>@Async</code> on <code>findAll()</code> - this will cause <code>findAll()</code> to run within the same transaction, therefore will see uncommitted data.</li>\n</ul>\n"}],"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77569338,"answer_count":3,"score":3,"last_activity_date":1701286773,"creation_date":1700765887,"question_id":77539142,"body_markdown":"I&#39;m trying to play around with `@Async`. My first experience with it isn&#39;t very positive. I get an empty list where results are definitely expected\r\n\r\nMRE:\r\n```java\r\npublic interface AsynchronousCardRepository extends Repository&lt;Card, UUID&gt; {\r\n    @Async\r\n    Future&lt;List&lt;Card&gt;&gt; findAll();\r\n}\r\n```\r\n```java\r\n@DataJpaTest\r\n@ActiveProfiles(&quot;test&quot;)\r\n@Sql(\r\n        executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD,\r\n        scripts = {&quot;/schema-h2.sql&quot;, &quot;/data-h2.sql&quot;}\r\n)\r\npublic class AsynchronousCardRepositoryTest {\r\n    @Autowired\r\n    AsynchronousCardRepository cardRepository;\r\n\r\n    @Test\r\n    @SneakyThrows\r\n    void findAll() {\r\n        Future&lt;List&lt;Card&gt;&gt; futureCards = cardRepository.findAll();\r\n        List&lt;Card&gt; cards = futureCards.get();\r\n        assertThat(cards).asList().hasSize(3);\r\n    }\r\n}\r\n```\r\n```sql\r\n-- schema\r\n\r\nCREATE TABLE IF NOT EXISTS PUBLIC.account\r\n(\r\n    id                        UUID           PRIMARY KEY\r\n);\r\nCREATE TABLE IF NOT EXISTS PUBLIC.card\r\n(\r\n    id                UUID             PRIMARY KEY,\r\n    account_id        UUID             NOT NULL REFERENCES account (id),\r\n    status            VARCHAR(30)      NOT NULL\r\n);\r\n```\r\n```sql\r\n-- data\r\n\r\nINSERT INTO PUBLIC.ACCOUNT\r\nVALUES (&#39;00000000-0000-0000-0000-000000000ac1&#39;);\r\n\r\nINSERT INTO PUBLIC.CARD\r\nVALUES (&#39;00000000-0000-0000-0000-0000000000c1&#39;, &#39;00000000-0000-0000-0000-000000000ac1&#39;, &#39;ACTIVE&#39;);\r\n\r\nINSERT INTO PUBLIC.CARD\r\nVALUES (&#39;00000000-0000-0000-0000-0000000000c2&#39;, &#39;00000000-0000-0000-0000-000000000ac1&#39;, &#39;ACTIVE&#39;);\r\n\r\nINSERT INTO PUBLIC.CARD\r\nVALUES (&#39;00000000-0000-0000-0000-0000000000c3&#39;, &#39;00000000-0000-0000-0000-000000000ac1&#39;, &#39;NON_ACTIVE&#39;);\r\n```\r\n```java\r\n@Entity\r\n@Table(name = &quot;card&quot;)\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\npublic class Card {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private UUID id;\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;account_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Account account;\r\n    @Enumerated(value = EnumType.STRING)\r\n    private CardStatus status;\r\n}\r\n```\r\n```java\r\npublic enum CardStatus {\r\n    ACTIVE, NON_ACTIVE\r\n}\r\n```\r\n```java\r\n@Entity\r\n@Table(name = &quot;account&quot;)\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\npublic class Account {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;)\r\n    private UUID id;\r\n    @OneToMany(mappedBy = &quot;account&quot;)\r\n    private List&lt;Card&gt; cards;\r\n}\r\n```\r\n```java\r\n@SpringBootApplication\r\n@EnableAsync // funny enough, if you remove it, everything works\r\npublic class CreditServiceApplication {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(CreditServiceApplication.class, args);\r\n    }\r\n}\r\n```\r\n```yml\r\nspring:\r\n  datasource:\r\n    url: jdbc:h2:mem:db;DB_CLOSE_DELAY=-1;MODE=MySQL;DATABASE_TO_LOWER=TRUE\r\n    driver-class-name: org.h2.Driver\r\n    username: sa\r\n    password:\r\n  jpa:\r\n    hibernate:\r\n      ddl-auto: none\r\n    show-sql: true\r\n    database-platform: org.hibernate.dialect.H2Dialect\r\n    properties:\r\n      hibernate:\r\n        format_sql: true\r\n  h2:\r\n    console:\r\n      enabled: false\r\n      settings:\r\n        web-allow-others: true\r\n  config:\r\n    activate:\r\n      on-profile: test\r\n\r\nlogging:\r\n  level:\r\n    org:\r\n      hibernate:\r\n        type: TRACE\r\n      springframework:\r\n          jdbc:\r\n            core: TRACE\r\n            datasource:\r\n              init: DEBUG\r\n          test:\r\n            context:\r\n              jdbc: DEBUG\r\n```\r\nThe method doesn&#39;t return anything:\r\n```\r\njava.lang.AssertionError: \r\nExpected size: 3 but was: 0 in:\r\n[]\r\n\r\n\tat by.afinny.credit.unit.repository.AsynchronousCardRepositoryTest.findAll(AsynchronousCardRepositoryTest.java:32)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n```\r\nWhy is it happening?","title":"@Async methods return empty lists. Why?","body":"<p>I'm trying to play around with <code>@Async</code>. My first experience with it isn't very positive. I get an empty list where results are definitely expected</p>\n<p>MRE:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface AsynchronousCardRepository extends Repository&lt;Card, UUID&gt; {\n    @Async\n    Future&lt;List&lt;Card&gt;&gt; findAll();\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@DataJpaTest\n@ActiveProfiles(&quot;test&quot;)\n@Sql(\n        executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD,\n        scripts = {&quot;/schema-h2.sql&quot;, &quot;/data-h2.sql&quot;}\n)\npublic class AsynchronousCardRepositoryTest {\n    @Autowired\n    AsynchronousCardRepository cardRepository;\n\n    @Test\n    @SneakyThrows\n    void findAll() {\n        Future&lt;List&lt;Card&gt;&gt; futureCards = cardRepository.findAll();\n        List&lt;Card&gt; cards = futureCards.get();\n        assertThat(cards).asList().hasSize(3);\n    }\n}\n</code></pre>\n<pre class=\"lang-sql prettyprint-override\"><code>-- schema\n\nCREATE TABLE IF NOT EXISTS PUBLIC.account\n(\n    id                        UUID           PRIMARY KEY\n);\nCREATE TABLE IF NOT EXISTS PUBLIC.card\n(\n    id                UUID             PRIMARY KEY,\n    account_id        UUID             NOT NULL REFERENCES account (id),\n    status            VARCHAR(30)      NOT NULL\n);\n</code></pre>\n<pre class=\"lang-sql prettyprint-override\"><code>-- data\n\nINSERT INTO PUBLIC.ACCOUNT\nVALUES ('00000000-0000-0000-0000-000000000ac1');\n\nINSERT INTO PUBLIC.CARD\nVALUES ('00000000-0000-0000-0000-0000000000c1', '00000000-0000-0000-0000-000000000ac1', 'ACTIVE');\n\nINSERT INTO PUBLIC.CARD\nVALUES ('00000000-0000-0000-0000-0000000000c2', '00000000-0000-0000-0000-000000000ac1', 'ACTIVE');\n\nINSERT INTO PUBLIC.CARD\nVALUES ('00000000-0000-0000-0000-0000000000c3', '00000000-0000-0000-0000-000000000ac1', 'NON_ACTIVE');\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;card&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class Card {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private UUID id;\n    @ManyToOne\n    @JoinColumn(name = &quot;account_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Account account;\n    @Enumerated(value = EnumType.STRING)\n    private CardStatus status;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public enum CardStatus {\n    ACTIVE, NON_ACTIVE\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;account&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class Account {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    private UUID id;\n    @OneToMany(mappedBy = &quot;account&quot;)\n    private List&lt;Card&gt; cards;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@EnableAsync // funny enough, if you remove it, everything works\npublic class CreditServiceApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(CreditServiceApplication.class, args);\n    }\n}\n</code></pre>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  datasource:\n    url: jdbc:h2:mem:db;DB_CLOSE_DELAY=-1;MODE=MySQL;DATABASE_TO_LOWER=TRUE\n    driver-class-name: org.h2.Driver\n    username: sa\n    password:\n  jpa:\n    hibernate:\n      ddl-auto: none\n    show-sql: true\n    database-platform: org.hibernate.dialect.H2Dialect\n    properties:\n      hibernate:\n        format_sql: true\n  h2:\n    console:\n      enabled: false\n      settings:\n        web-allow-others: true\n  config:\n    activate:\n      on-profile: test\n\nlogging:\n  level:\n    org:\n      hibernate:\n        type: TRACE\n      springframework:\n          jdbc:\n            core: TRACE\n            datasource:\n              init: DEBUG\n          test:\n            context:\n              jdbc: DEBUG\n</code></pre>\n<p>The method doesn't return anything:</p>\n<pre><code>java.lang.AssertionError: \nExpected size: 3 but was: 0 in:\n[]\n\n    at by.afinny.credit.unit.repository.AsynchronousCardRepositoryTest.findAll(AsynchronousCardRepositoryTest.java:32)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n</code></pre>\n<p>Why is it happening?</p>\n"},{"tags":["java","xml","android-studio","onclick","attributes"],"owner":{"account_id":30025430,"reputation":1,"user_id":23009797,"display_name":"Mustafa Hussein MJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701286679,"creation_date":1701286679,"question_id":77574058,"body_markdown":"How can this problem be solved? Also, there are many attributes for example (textColor, font, background, backgroundColor) that are not in the attribute box in Android Studio (https://i.stack.imgur.com/tDKS8.png)\r\n\r\nShould be (onClick attribute) it in the Attributes box in Android Studio ","title":"(onClick attribute) it is not in the attribute box in Android Studio","body":"<p>How can this problem be solved? Also, there are many attributes for example (textColor, font, background, backgroundColor) that are not in the attribute box in Android Studio (<a href=\"https://i.stack.imgur.com/tDKS8.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/tDKS8.png</a>)</p>\n<p>Should be (onClick attribute) it in the Attributes box in Android Studio</p>\n"},{"tags":["java","android","android-studio","gradle"],"answers":[{"tags":[],"owner":{"account_id":13356079,"reputation":21,"user_id":9639560,"display_name":"zia sheikh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1566897611,"creation_date":1566897611,"answer_id":57671455,"question_id":57255835,"body_markdown":"I was getting this in Android Studio and all I did to fix it was go to &quot;Build&quot; &gt; &quot;Clean Project&quot; and it just worked. Now Rebuild (Build -&gt; Rebuild) your project.","title":"error: failed to open APK: Invalid offset","body":"<p>I was getting this in Android Studio and all I did to fix it was go to \"Build\" > \"Clean Project\" and it just worked. Now Rebuild (Build -> Rebuild) your project.</p>\n"}],"owner":{"account_id":15088558,"reputation":11,"user_id":10889092,"display_name":"rakesd231"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2716,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701286640,"creation_date":1564410222,"question_id":57255835,"body_markdown":"All projects build successfully but\r\nI&#39;m getting this error when I try to run or debug the project. \r\nerror:\r\n\r\n\r\n&gt; Android resource linking failed W/ziparchive( 6524): Zip: didn&#39;t find\r\n&gt; signature at start of lfh, offset=41550366 error: failed to open APK:\r\n&gt; Invalid offset.\r\n\r\n\r\n\r\nI did try to build, clean, rebuild \r\nInvalidate cashes restart\r\nsync project with Gradle files\r\nupdate Gradle, android studio to the latest version\r\n\r\n\r\nmy Build.gradle app :\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n        defaultConfig {\r\n            applicationId &quot;com.geesdsada.app&quot;\r\n            minSdkVersion 17\r\n            targetSdkVersion 28\r\n            versionCode 4\r\n            versionName &quot;4.0&quot;\r\n            vectorDrawables.useSupportLibrary = true\r\n    \r\n            testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n            defaultConfig {\r\n                multiDexEnabled true\r\n            }\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileSdkVersion 28\r\n        buildToolsVersion &#39;28.0.3&#39;\r\n    }\r\n    dependencies {\r\n        //fonts\r\n        implementation &#39;uk.co.chrisjenx:calligraphy:2.3.0&#39;\r\n        //CounterFAB\r\n        implementation &#39;com.github.andremion:counterfab:1.0.1&#39;\r\n        //\r\n        implementation &#39;com.github.jd-alexander:android-flat-button:v1.1&#39;\r\n        implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n        implementation &#39;com.android.support:appcompat-v7:28.0.0&#39;\r\n        implementation &#39;com.android.support.constraint:constraint-layout:1.1.3&#39;\r\n        implementation &#39;com.stripe:stripe-android:6.1.2&#39;\r\n        implementation &#39;com.google.android.gms:play-services-base:16.1.0&#39;\r\n        implementation &#39;com.google.android.gms:play-services-analytics:16.0.8&#39;\r\n        implementation &#39;com.google.firebase:firebase-database:16.1.0&#39;\r\n        implementation &#39;com.android.support:design:28.0.0&#39;\r\n        implementation &#39;com.android.support:cardview-v7:28.0.0&#39;\r\n        implementation &#39;com.squareup.okhttp3:okhttp:3.0.1&#39;\r\n        implementation &#39;com.github.d-max:spots-dialog:0.7@aar&#39;\r\n        implementation &#39;com.android.support:recyclerview-v7:28.0.0&#39;\r\n        implementation &#39;io.paperdb:paperdb:2.1&#39;\r\n        //add libraries\r\n        implementation &#39;me.zhanghai.android.materialratingbar:library:1.3.2&#39;\r\n        implementation &#39;com.stepstone.apprating:app-rating:2.0.0&#39;\r\n        implementation &#39;com.amulyakhare:com.amulyakhare.textdrawable:1.0.1&#39;\r\n        implementation &#39;io.paperdb:paperdb:2.1&#39;\r\n        implementation &#39;com.github.rey5137:material:1.2.4&#39;\r\n        implementation &#39;com.readystatesoftware.sqliteasset:sqliteassethelper:2.0.1&#39;\r\n        implementation &#39;com.parse:parse-android:1.16.3&#39;\r\n        //update version to the latest one\r\n        implementation &#39;com.android.support:design:28.0.0&#39;\r\n        implementation &#39;com.android.support:recyclerview-v7:28.0.0&#39;\r\n        implementation &#39;com.android.support:cardview-v7:28.0.0&#39;\r\n        implementation &#39;com.google.firebase:firebase-auth:16.2.1&#39;\r\n        implementation &#39;com.google.firebase:firebase-core:16.0.8&#39;\r\n        implementation &#39;com.google.firebase:firebase-database:16.1.0&#39;\r\n        implementation &#39;com.firebaseui:firebase-ui-database:1.2.0&#39;\r\n        implementation &#39;com.cepheuen.elegant-number-button:lib:1.0.2&#39;\r\n        implementation &#39;com.squareup.picasso:picasso:2.5.0&#39;\r\n        implementation &#39;com.rengwuxian.materialedittext:library:2.1.4&#39;\r\n        androidTestImplementation &#39;com.android.support.test:runner:1.0.2&#39;\r\n        androidTestImplementation &#39;com.android.support.test.espresso:espresso-core:3.0.1&#39;\r\n      \r\n    }\r\n    \r\n    apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n\r\nall code is finely written and was working well, but suddenly this error showed up.","title":"error: failed to open APK: Invalid offset","body":"<p>All projects build successfully but\nI'm getting this error when I try to run or debug the project. \nerror:</p>\n\n<blockquote>\n  <p>Android resource linking failed W/ziparchive( 6524): Zip: didn't find\n  signature at start of lfh, offset=41550366 error: failed to open APK:\n  Invalid offset.</p>\n</blockquote>\n\n<p>I did try to build, clean, rebuild \nInvalidate cashes restart\nsync project with Gradle files\nupdate Gradle, android studio to the latest version</p>\n\n<p>my Build.gradle app :</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    defaultConfig {\n        applicationId \"com.geesdsada.app\"\n        minSdkVersion 17\n        targetSdkVersion 28\n        versionCode 4\n        versionName \"4.0\"\n        vectorDrawables.useSupportLibrary = true\n\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n        defaultConfig {\n            multiDexEnabled true\n        }\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileSdkVersion 28\n    buildToolsVersion '28.0.3'\n}\ndependencies {\n    //fonts\n    implementation 'uk.co.chrisjenx:calligraphy:2.3.0'\n    //CounterFAB\n    implementation 'com.github.andremion:counterfab:1.0.1'\n    //\n    implementation 'com.github.jd-alexander:android-flat-button:v1.1'\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation 'com.android.support:appcompat-v7:28.0.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.3'\n    implementation 'com.stripe:stripe-android:6.1.2'\n    implementation 'com.google.android.gms:play-services-base:16.1.0'\n    implementation 'com.google.android.gms:play-services-analytics:16.0.8'\n    implementation 'com.google.firebase:firebase-database:16.1.0'\n    implementation 'com.android.support:design:28.0.0'\n    implementation 'com.android.support:cardview-v7:28.0.0'\n    implementation 'com.squareup.okhttp3:okhttp:3.0.1'\n    implementation 'com.github.d-max:spots-dialog:0.7@aar'\n    implementation 'com.android.support:recyclerview-v7:28.0.0'\n    implementation 'io.paperdb:paperdb:2.1'\n    //add libraries\n    implementation 'me.zhanghai.android.materialratingbar:library:1.3.2'\n    implementation 'com.stepstone.apprating:app-rating:2.0.0'\n    implementation 'com.amulyakhare:com.amulyakhare.textdrawable:1.0.1'\n    implementation 'io.paperdb:paperdb:2.1'\n    implementation 'com.github.rey5137:material:1.2.4'\n    implementation 'com.readystatesoftware.sqliteasset:sqliteassethelper:2.0.1'\n    implementation 'com.parse:parse-android:1.16.3'\n    //update version to the latest one\n    implementation 'com.android.support:design:28.0.0'\n    implementation 'com.android.support:recyclerview-v7:28.0.0'\n    implementation 'com.android.support:cardview-v7:28.0.0'\n    implementation 'com.google.firebase:firebase-auth:16.2.1'\n    implementation 'com.google.firebase:firebase-core:16.0.8'\n    implementation 'com.google.firebase:firebase-database:16.1.0'\n    implementation 'com.firebaseui:firebase-ui-database:1.2.0'\n    implementation 'com.cepheuen.elegant-number-button:lib:1.0.2'\n    implementation 'com.squareup.picasso:picasso:2.5.0'\n    implementation 'com.rengwuxian.materialedittext:library:2.1.4'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'\n\n}\n\napply plugin: 'com.android.application'\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>all code is finely written and was working well, but suddenly this error showed up.</p>\n"},{"tags":["java","spring","spring-boot","security","spring-security"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":1,"creation_date":1692869826,"post_id":76961444,"comment_id":135683670,"body_markdown":"Please provide the code for the apiKeyAuthFilter","body":"Please provide the code for the apiKeyAuthFilter"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1701313163,"post_id":76961444,"comment_id":136761325,"body_markdown":"are they request to the same endpoint? or else just set up 2 different filter chains that handles different endpoints.","body":"are they request to the same endpoint? or else just set up 2 different filter chains that handles different endpoints."}],"answers":[{"tags":[],"owner":{"account_id":25264054,"reputation":16,"user_id":19094528,"display_name":"Chris Olive"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692875898,"creation_date":1692875898,"answer_id":76968733,"question_id":76961444,"body_markdown":"One option might be to make `apiKeyAuthFilter` extend `AbstractAuthenticationProcessingFilter` and to provide a suitable `RequestHeaderRequestMatcher`. This should then only apply any authentication you&#39;ve added in `attemptAuthentication` if the header is present.\r\n\r\n```\r\npublic class ApiKeyAuthFilter extends AbstractAuthenticationProcessingFilter {\r\n\r\n  public ApiKeyAuthFilter() {\r\n    super(new RequestHeaderRequestMatcher(&quot;X-API-KEY&quot;));\r\n  }\r\n```","title":"Spring Security Combining oauth2 and api key filter","body":"<p>One option might be to make <code>apiKeyAuthFilter</code> extend <code>AbstractAuthenticationProcessingFilter</code> and to provide a suitable <code>RequestHeaderRequestMatcher</code>. This should then only apply any authentication you've added in <code>attemptAuthentication</code> if the header is present.</p>\n<pre><code>public class ApiKeyAuthFilter extends AbstractAuthenticationProcessingFilter {\n\n  public ApiKeyAuthFilter() {\n    super(new RequestHeaderRequestMatcher(&quot;X-API-KEY&quot;));\n  }\n</code></pre>\n"}],"owner":{"account_id":5636061,"reputation":170,"user_id":4937086,"display_name":"Twin322"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701285551,"creation_date":1692794403,"question_id":76961444,"body_markdown":"currently I&#39;m facing the problem of allowing a user to authorize to a REST Api with either an X-API-KEY header **or** an oauth2 jwt token.\r\n\r\nThe current security config looks like this:\r\n\r\n```\r\n@Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\r\n        http.addFilterBefore(apiKeyAuthFilter, BasicAuthenticationFilter.class);\r\n\r\n        http.sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                .csrf(AbstractHttpConfigurer::disable)\r\n                .cors(AbstractHttpConfigurer::disable)\r\n                .httpBasic(AbstractHttpConfigurer::disable)\r\n                .formLogin(AbstractHttpConfigurer::disable)\r\n                .headers(h -&gt; h.httpStrictTransportSecurity(c -&gt; c.requestMatcher(AnyRequestMatcher.INSTANCE)));\r\n\r\n        http.oauth2ResourceServer(server -&gt; server.jwt(jwt -&gt;\r\n                        jwt.jwtAuthenticationConverter(\r\n                                jwtGrantedAuthoritiesConverter()).decoder(jwtDecoder())\r\n                )\r\n        );\r\n\r\n        return http.build();\r\n    }\r\n\r\n```\r\n\r\nThe problem I have is that even though I provide a valid jwt and the oauth2ResourceServer is fine it still triggers the apiKeyFilter and then failes as the header is not set.\r\n\r\nI read a lot of stuff regarding multi authentication but spring security is hard to get. Maybe you have an idea or some ressources to look up.","title":"Spring Security Combining oauth2 and api key filter","body":"<p>currently I'm facing the problem of allowing a user to authorize to a REST Api with either an X-API-KEY header <strong>or</strong> an oauth2 jwt token.</p>\n<p>The current security config looks like this:</p>\n<pre><code>@Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n\n        http.addFilterBefore(apiKeyAuthFilter, BasicAuthenticationFilter.class);\n\n        http.sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .csrf(AbstractHttpConfigurer::disable)\n                .cors(AbstractHttpConfigurer::disable)\n                .httpBasic(AbstractHttpConfigurer::disable)\n                .formLogin(AbstractHttpConfigurer::disable)\n                .headers(h -&gt; h.httpStrictTransportSecurity(c -&gt; c.requestMatcher(AnyRequestMatcher.INSTANCE)));\n\n        http.oauth2ResourceServer(server -&gt; server.jwt(jwt -&gt;\n                        jwt.jwtAuthenticationConverter(\n                                jwtGrantedAuthoritiesConverter()).decoder(jwtDecoder())\n                )\n        );\n\n        return http.build();\n    }\n\n</code></pre>\n<p>The problem I have is that even though I provide a valid jwt and the oauth2ResourceServer is fine it still triggers the apiKeyFilter and then failes as the header is not set.</p>\n<p>I read a lot of stuff regarding multi authentication but spring security is hard to get. Maybe you have an idea or some ressources to look up.</p>\n"},{"tags":["java","spring-boot","graalvm","graalvm-native-image"],"comments":[{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1701289250,"post_id":77573972,"comment_id":136758696,"body_markdown":"That&#39;s an unusual way to build a native image for a Spring Boot app. Have you considered using the Maven or Gradle build plugins to do it instead?","body":"That&#39;s an unusual way to build a native image for a Spring Boot app. Have you considered using the Maven or Gradle build plugins to do it instead?"},{"owner":{"account_id":19058441,"reputation":586,"user_id":13915049,"display_name":"Thinker-101"},"score":0,"creation_date":1701325832,"post_id":77573972,"comment_id":136762374,"body_markdown":"@AndyWilkinson I looked into the graalvm maven plugin. But that builds as a docker image. I don&#39;t want to use docker to build the native imagine. But this method I tried should also work right. The exe is functional when I place the jar file in the same folder. It&#39;s a problem with how the image is build. I have no clue what options I am missing.","body":"@AndyWilkinson I looked into the graalvm maven plugin. But that builds as a docker image. I don&#39;t want to use docker to build the native imagine. But this method I tried should also work right. The exe is functional when I place the jar file in the same folder. It&#39;s a problem with how the image is build. I have no clue what options I am missing."},{"owner":{"account_id":23020603,"reputation":341,"user_id":17141716,"display_name":"peterz"},"score":0,"creation_date":1701329445,"post_id":77573972,"comment_id":136762758,"body_markdown":"With build plugins, Docker is optional, you can build without it too. See [here](https://docs.spring.io/spring-boot/docs/current/reference/html/native-image.html#native-image.developing-your-first-application.native-build-tools). What you are missing is likely reflection/proxy/provider etc config files which can take quite some time to do properly. Plugins just (try to) do this work automatically for you.","body":"With build plugins, Docker is optional, you can build without it too. See <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/native-image.html#native-image.developing-your-first-application.native-build-tools\" rel=\"nofollow noreferrer\">here</a>. What you are missing is likely reflection/proxy/provider etc config files which can take quite some time to do properly. Plugins just (try to) do this work automatically for you."}],"owner":{"account_id":19058441,"reputation":586,"user_id":13915049,"display_name":"Thinker-101"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701285531,"creation_date":1701285531,"question_id":77573972,"body_markdown":"I have created a Sprint Boot Application and exported it as a Jar file using &#39;mvn package&#39;. This Jar is a standalone executable file which do not need any other dependent files to run. The only dependent files the main class need are already packaged within the jar and I am using InputStream to load the dependent files during runtime. So basically the Jar file is looking for the dependent files within itself and this is all working fine.\r\n\r\nI want to convert this executable jar into a native imagine (exe file in my case) and so I ran the command\r\n\r\n&gt; *native-image -cp &quot;myJarFile.jar&quot; com.example.MyApp*\r\n\r\nAnd the exe gets build successfully. But when I run it, it&#39;s giving me the below error in the command prompt\r\n&gt;Error: could not find or load main class org.springframework.boot.loader.jar.JarLauncher caused by: java.lang.ClassNotFoundException\r\n\r\n```Note: But, when I place the orginal jar file in the same directory of the exe file and run the exe, the spring app gets deployed.```\r\n\r\nJust to be sure that something is not getting mishandled, I have put the jar file in a seperate location on my machine and ran it using the command:\r\n\r\n&gt; *java -cp &quot;myJarFile.jar&quot; com.example.MyApp*\r\n\r\nAnd the spring app deploys on port 8080 successfully. \r\n\r\nI have analysed the jar contents and could see the folders **BOOT-INF/** , **META-INF/** and all the other necessary lib folders.\r\n\r\nWhat could be going wrong and how to fix this issue? \r\n\r\nThanks in advance.","title":"&quot;Error: could not find or load main class org.springframework.boot.loader.JarLauncher.&quot; While running a native-image build using GraalVM","body":"<p>I have created a Sprint Boot Application and exported it as a Jar file using 'mvn package'. This Jar is a standalone executable file which do not need any other dependent files to run. The only dependent files the main class need are already packaged within the jar and I am using InputStream to load the dependent files during runtime. So basically the Jar file is looking for the dependent files within itself and this is all working fine.</p>\n<p>I want to convert this executable jar into a native imagine (exe file in my case) and so I ran the command</p>\n<blockquote>\n<p><em>native-image -cp &quot;myJarFile.jar&quot; com.example.MyApp</em></p>\n</blockquote>\n<p>And the exe gets build successfully. But when I run it, it's giving me the below error in the command prompt</p>\n<blockquote>\n<p>Error: could not find or load main class org.springframework.boot.loader.jar.JarLauncher caused by: java.lang.ClassNotFoundException</p>\n</blockquote>\n<p><code>Note: But, when I place the orginal jar file in the same directory of the exe file and run the exe, the spring app gets deployed.</code></p>\n<p>Just to be sure that something is not getting mishandled, I have put the jar file in a seperate location on my machine and ran it using the command:</p>\n<blockquote>\n<p><em>java -cp &quot;myJarFile.jar&quot; com.example.MyApp</em></p>\n</blockquote>\n<p>And the spring app deploys on port 8080 successfully.</p>\n<p>I have analysed the jar contents and could see the folders <strong>BOOT-INF/</strong> , <strong>META-INF/</strong> and all the other necessary lib folders.</p>\n<p>What could be going wrong and how to fix this issue?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","validation","exception"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1701585761,"post_id":77573802,"comment_id":136792771,"body_markdown":"Does this answer your question? [This application has no explicit mapping for /error](https://stackoverflow.com/questions/31134333/this-application-has-no-explicit-mapping-for-error)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/31134333/this-application-has-no-explicit-mapping-for-error\">This application has no explicit mapping for /error</a>"}],"owner":{"account_id":13859774,"reputation":111,"user_id":10005690,"display_name":"Rose"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701283770,"creation_date":1701283770,"question_id":77573802,"body_markdown":"In browser getting below error rather than JSON Error message but it is working in Postman.I need print the JSON Error message in Browser . Anyone can help here how to display the error message in JSON format in Browser\r\n\r\nBrowser :\r\n**Whitelabel Error Page\r\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\r\nWed Nov 29 17:10:21 UTC 2023\r\nThere was an unexpected error (type=Not Found, status=404).\r\nResource Not Found**\r\n\r\nPostman :\r\n\r\n    {\r\n        &quot;timestamp&quot;: &quot;2023-11-29T18:21:30.864+00:00&quot;,\r\n        &quot;status&quot;: 404,\r\n        &quot;error&quot;: &quot;Not Found&quot;,\r\n        &quot;message&quot;: &quot;Resource Not Found&quot;,\r\n        &quot;path&quot;: &quot;/getDetails&quot;\r\n    }\r\n    \r\n    Java code :\r\n    \r\n    Exception \r\n    @RestControllerAdvice\r\n    public class ValidationExceptionHandler {\r\n    \r\n        @ExceptionHandler(ConstraintViolationException.class)\r\n        @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n        public void constraintViolationException(HttpServletResponse response,ConstraintViolationException e) throws IOException {\r\n            Set&lt;ConstraintViolation&lt;?&gt;&gt; violations = e.getConstraintViolations();\r\n            StringBuilder strBuilder = new StringBuilder();\r\n            for (ConstraintViolation&lt;?&gt; violation : violations ) {\r\n                strBuilder.append(violation.getMessage() + &#39;\\n&#39;);\r\n            }\r\n             ResponseEntity.status(BAD_REQUEST);\r\n            response.sendError(HttpStatus.BAD_REQUEST.value());\r\n        }\r\n        @ExceptionHandler(ValidationException.class)\r\n        public void dateViolationException(HttpServletResponse response, ValidationException e) throws IOException {\r\n           if(e.getMessage().equalsIgnoreCase(&quot;Resource Not Found&quot;)){\r\n               ResponseEntity.status(NOT_FOUND);\r\n               response.sendError(NOT_FOUND.value(), e.getMessage());\r\n            }else{\r\n               if(e.getMessage().equalsIgnoreCase(&quot;User Not Found in the system&quot;)){\r\n                   ResponseEntity.status(UNAUTHORIZED);\r\n                   response.sendError(UNAUTHORIZED.value(), e.getMessage());\r\n           }\r\n            else{\r\n                ResponseEntity.status(BAD_REQUEST);\r\n                response.sendError(HttpStatus.BAD_REQUEST.value(), e.getMessage());\r\n            }\r\n        }\r\n    }}\r\n    \r\n    Controller :\r\n    \r\n    @RequestMapping(value = &quot;/getDetails&quot;, method = RequestMethod.GET)\r\n        @Validated\r\n        public Object getSearchCriteria(@RequestParam(value = &quot;Id&quot;) String Id,\r\n                                                @RequestParam(value = &quot;service&quot;, required = false) String service) throws ParseException, JsonProcessingException, javax.xml.bind.ValidationException {\r\n    \r\n            if (system != null &amp;&amp; !system.isEmpty())\r\n                documentMap.put(&quot;system&quot;, s);\r\n            List&lt;? extends Bson&gt; pipelines = getAggregate(queryLimit, projectFields, documentMap);\r\n           \r\n            List listDetails = collectionDB.aggregate(pipelines).into(Aggregate);\r\n            if (listDetails.isEmpty()) {\r\n                throw new ValidationException(RESOURCE_NOT_FOUND);\r\n            }\r\n            return getPrettyDocument(listDetails);\r\n        }\r\n\r\n","title":"Error in Spring boot Whitelabel Error Page This application has no explicit mapping for /error, so you are seeing this as a fallback","body":"<p>In browser getting below error rather than JSON Error message but it is working in Postman.I need print the JSON Error message in Browser . Anyone can help here how to display the error message in JSON format in Browser</p>\n<p>Browser :\n<strong>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\nWed Nov 29 17:10:21 UTC 2023\nThere was an unexpected error (type=Not Found, status=404).\nResource Not Found</strong></p>\n<p>Postman :</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2023-11-29T18:21:30.864+00:00&quot;,\n    &quot;status&quot;: 404,\n    &quot;error&quot;: &quot;Not Found&quot;,\n    &quot;message&quot;: &quot;Resource Not Found&quot;,\n    &quot;path&quot;: &quot;/getDetails&quot;\n}\n\nJava code :\n\nException \n@RestControllerAdvice\npublic class ValidationExceptionHandler {\n\n    @ExceptionHandler(ConstraintViolationException.class)\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    public void constraintViolationException(HttpServletResponse response,ConstraintViolationException e) throws IOException {\n        Set&lt;ConstraintViolation&lt;?&gt;&gt; violations = e.getConstraintViolations();\n        StringBuilder strBuilder = new StringBuilder();\n        for (ConstraintViolation&lt;?&gt; violation : violations ) {\n            strBuilder.append(violation.getMessage() + '\\n');\n        }\n         ResponseEntity.status(BAD_REQUEST);\n        response.sendError(HttpStatus.BAD_REQUEST.value());\n    }\n    @ExceptionHandler(ValidationException.class)\n    public void dateViolationException(HttpServletResponse response, ValidationException e) throws IOException {\n       if(e.getMessage().equalsIgnoreCase(&quot;Resource Not Found&quot;)){\n           ResponseEntity.status(NOT_FOUND);\n           response.sendError(NOT_FOUND.value(), e.getMessage());\n        }else{\n           if(e.getMessage().equalsIgnoreCase(&quot;User Not Found in the system&quot;)){\n               ResponseEntity.status(UNAUTHORIZED);\n               response.sendError(UNAUTHORIZED.value(), e.getMessage());\n       }\n        else{\n            ResponseEntity.status(BAD_REQUEST);\n            response.sendError(HttpStatus.BAD_REQUEST.value(), e.getMessage());\n        }\n    }\n}}\n\nController :\n\n@RequestMapping(value = &quot;/getDetails&quot;, method = RequestMethod.GET)\n    @Validated\n    public Object getSearchCriteria(@RequestParam(value = &quot;Id&quot;) String Id,\n                                            @RequestParam(value = &quot;service&quot;, required = false) String service) throws ParseException, JsonProcessingException, javax.xml.bind.ValidationException {\n\n        if (system != null &amp;&amp; !system.isEmpty())\n            documentMap.put(&quot;system&quot;, s);\n        List&lt;? extends Bson&gt; pipelines = getAggregate(queryLimit, projectFields, documentMap);\n       \n        List listDetails = collectionDB.aggregate(pipelines).into(Aggregate);\n        if (listDetails.isEmpty()) {\n            throw new ValidationException(RESOURCE_NOT_FOUND);\n        }\n        return getPrettyDocument(listDetails);\n    }\n</code></pre>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":1,"creation_date":1700244560,"post_id":77500684,"comment_id":136634860,"body_markdown":"if you don&#39;t use those imports anywhere in your project, you could try using the `java.completion.filteredTypes` setting. Not sure if that works. But really what I&#39;m more interested in is why this is happening. Do classes named `Context` and `Action` show up in that file?","body":"if you don&#39;t use those imports anywhere in your project, you could try using the <code>java.completion.filteredTypes</code> setting. Not sure if that works. But really what I&#39;m more interested in is why this is happening. Do classes named <code>Context</code> and <code>Action</code> show up in that file?"},{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1700244606,"post_id":77500684,"comment_id":136634869,"body_markdown":"Try also doing an [extension bisect](//code.visualstudio.com/blogs/2021/02/16/extension-bisect) to figure out what extension is causing it.","body":"Try also doing an <a href=\"//code.visualstudio.com/blogs/2021/02/16/extension-bisect\" rel=\"nofollow noreferrer\">extension bisect</a> to figure out what extension is causing it."},{"owner":{"account_id":429769,"reputation":2762,"user_id":812839,"display_name":"gpvos"},"score":0,"creation_date":1700394981,"post_id":77500684,"comment_id":136646859,"body_markdown":"Yes, the code contains classes with those names, but these are imported from other places (I don&#39;t think I can share the code); that&#39;s why the added imports cause conflicts.\n\nI&#39;ll see if I can do a bisect. It may take some time as the problem doesn&#39;t seem to occur on every save action and I don&#39;t yet have an exact sequence of actions that consistently triggers it.","body":"Yes, the code contains classes with those names, but these are imported from other places (I don&#39;t think I can share the code); that&#39;s why the added imports cause conflicts.  I&#39;ll see if I can do a bisect. It may take some time as the problem doesn&#39;t seem to occur on every save action and I don&#39;t yet have an exact sequence of actions that consistently triggers it."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1700471016,"post_id":77500684,"comment_id":136654115,"body_markdown":"Check whether there are other settings in settings.json to cause this phenomenon? Or restore the default settings to see if there is no longer an automatic introduction.","body":"Check whether there are other settings in settings.json to cause this phenomenon? Or restore the default settings to see if there is no longer an automatic introduction."},{"owner":{"account_id":429769,"reputation":2762,"user_id":812839,"display_name":"gpvos"},"score":0,"creation_date":1701255814,"post_id":77500684,"comment_id":136752230,"body_markdown":"After setting `java.completion.filteredTypes` to exclude the added types, the problem has not appeared for at least a week, so that seems to have solved my problem.","body":"After setting <code>java.completion.filteredTypes</code> to exclude the added types, the problem has not appeared for at least a week, so that seems to have solved my problem."}],"answers":[{"comments":[{"owner":{"account_id":429769,"reputation":2762,"user_id":812839,"display_name":"gpvos"},"score":0,"creation_date":1701543916,"post_id":77573792,"comment_id":136789908,"body_markdown":"Ah, right, I see now that organizing imports is mentioned in its description, even though its name doesn&#39;t really suggest that. Thanks!","body":"Ah, right, I see now that organizing imports is mentioned in its description, even though its name doesn&#39;t really suggest that. Thanks!"}],"tags":[],"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701283612,"creation_date":1701283612,"answer_id":77573792,"question_id":77500684,"body_markdown":"(posting my comment as an answer since the asker seems satisfied with it)\r\n\r\nIf you don&#39;t use those imports anywhere in your project, you could try using the `java.completion.filteredTypes` setting. Its description reads as follows:\r\n\r\n&gt; Defines the type filters. All types whose fully qualified name matches the selected filter strings will be ignored in content assist or quick fix proposals and when organizing imports. For example &#39;java.awt.*&#39; will hide all types from the awt packages.\r\n\r\nIt takes an array. Its default value is this:\r\n\r\n```json\r\n[\r\n  &quot;java.awt.*&quot;,\r\n  &quot;com.sun.*&quot;,\r\n  &quot;sun.*&quot;,\r\n  &quot;jdk.*&quot;,\r\n  &quot;org.graalvm.*&quot;,\r\n  &quot;io.micrometer.shaded.*&quot;\r\n]\r\n```","title":"VS Code keeps adding incorrect Java import / How to prevent specific imports from being added?","body":"<p>(posting my comment as an answer since the asker seems satisfied with it)</p>\n<p>If you don't use those imports anywhere in your project, you could try using the <code>java.completion.filteredTypes</code> setting. Its description reads as follows:</p>\n<blockquote>\n<p>Defines the type filters. All types whose fully qualified name matches the selected filter strings will be ignored in content assist or quick fix proposals and when organizing imports. For example 'java.awt.*' will hide all types from the awt packages.</p>\n</blockquote>\n<p>It takes an array. Its default value is this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  &quot;java.awt.*&quot;,\n  &quot;com.sun.*&quot;,\n  &quot;sun.*&quot;,\n  &quot;jdk.*&quot;,\n  &quot;org.graalvm.*&quot;,\n  &quot;io.micrometer.shaded.*&quot;\n]\n</code></pre>\n"}],"owner":{"account_id":429769,"reputation":2762,"user_id":812839,"display_name":"gpvos"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77573792,"answer_count":1,"score":0,"last_activity_date":1701283661,"creation_date":1700214502,"question_id":77500684,"body_markdown":"VS Code&#39;s Red Hat Java extension keeps adding these two lines near the top of my source code every time I try to compile. These imports cause my compile to fail because they conflict with my code and other imports. How do I suppress this troublesome behaviour?\r\n\r\n```\r\nimport javax.naming.Context;\r\nimport javax.swing.Action;\r\n```\r\n\r\nI already disabled &quot;organize imports on save&quot;. This makes no difference.","title":"VS Code keeps adding incorrect Java import / How to prevent specific imports from being added?","body":"<p>VS Code's Red Hat Java extension keeps adding these two lines near the top of my source code every time I try to compile. These imports cause my compile to fail because they conflict with my code and other imports. How do I suppress this troublesome behaviour?</p>\n<pre><code>import javax.naming.Context;\nimport javax.swing.Action;\n</code></pre>\n<p>I already disabled &quot;organize imports on save&quot;. This makes no difference.</p>\n"},{"tags":["java","hibernate","jpa","annotations","annotation-processing"],"comments":[{"owner":{"account_id":25579403,"reputation":23,"user_id":19358254,"display_name":"Sunnyshechka"},"score":0,"creation_date":1701283610,"post_id":77573746,"comment_id":136757772,"body_markdown":"Does annotation processors also uses for this purpose?","body":"Does annotation processors also uses for this purpose?"}],"owner":{"account_id":25579403,"reputation":23,"user_id":19358254,"display_name":"Sunnyshechka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701283226,"creation_date":1701283226,"question_id":77573746,"body_markdown":"I would like to repeat a behavior of annotations like @Entity in Hibernate, @Override, e.t.c, to display warnings in coding time:\r\n\r\nI making the ORM library for working with Clickhouse DB, and i created my own annotation @Table, identifying classes related tables in database\r\n\r\nClickhouse only supports basic types like Integers, Boolean, Dates e.t.c, so i would like to check at coding time, does the user of my library use valid data types, or not, like it implemented in Hibernate\r\n\r\nHow difficult is this task and where should I start?\r\n\r\n[![enter image description here](https://i.stack.imgur.com/7SHVn.png)](https://i.stack.imgur.com/7SHVn.png)\r\n","title":"How does Hibernate check wheather of basic type attribute for @Entity is used or not?","body":"<p>I would like to repeat a behavior of annotations like @Entity in Hibernate, @Override, e.t.c, to display warnings in coding time:</p>\n<p>I making the ORM library for working with Clickhouse DB, and i created my own annotation @Table, identifying classes related tables in database</p>\n<p>Clickhouse only supports basic types like Integers, Boolean, Dates e.t.c, so i would like to check at coding time, does the user of my library use valid data types, or not, like it implemented in Hibernate</p>\n<p>How difficult is this task and where should I start?</p>\n<p><a href=\"https://i.stack.imgur.com/7SHVn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7SHVn.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jasper-reports","xlsx"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1701320116,"post_id":77573697,"comment_id":136761892,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":30024782,"reputation":1,"user_id":23009298,"display_name":"Rambo Malefico"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1701282728,"creation_date":1701282728,"question_id":77573697,"body_markdown":"I need to generate a report in Jasper like the one below:\r\n\r\n[REPORT](https://i.stack.imgur.com/EBfJ6.png)\r\n\r\nthis is my table in xlsx:[TABLE .XLSX](https://i.stack.imgur.com/FeOKe.png)\r\n\r\nI need to group by the [team description] column and list the materials below\r\nthat were used according to the report\r\n\r\n\r\ngrateful\r\n\r\nI&#39;m not able to generate the report in Jasper like the one in the image [REPORT]","title":"Generate a group by report and sum function using jasper report","body":"<p>I need to generate a report in Jasper like the one below:</p>\n<p><a href=\"https://i.stack.imgur.com/EBfJ6.png\" rel=\"nofollow noreferrer\">REPORT</a></p>\n<p>this is my table in xlsx:<a href=\"https://i.stack.imgur.com/FeOKe.png\" rel=\"nofollow noreferrer\">TABLE .XLSX</a></p>\n<p>I need to group by the [team description] column and list the materials below\nthat were used according to the report</p>\n<p>grateful</p>\n<p>I'm not able to generate the report in Jasper like the one in the image [REPORT]</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9889,"page":28,"page_size":100}
