{"items":[{"tags":["java","maven","gradle"],"answers":[{"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688229396,"creation_date":1688229396,"answer_id":76595633,"question_id":76595522,"body_markdown":"As far as I understand the gradle init doc, there is no such option for now, but you may use this simple workaround:\r\n```bash\r\necho &#39;no&#39; | ./gradlew init --type pom --dsl groovy\r\n```","title":"how to skip gradle asking about new APIs?","body":"<p>As far as I understand the gradle init doc, there is no such option for now, but you may use this simple workaround:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>echo 'no' | ./gradlew init --type pom --dsl groovy\n</code></pre>\n"}],"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76595633,"answer_count":1,"score":0,"last_activity_date":1688229396,"creation_date":1688227706,"question_id":76595522,"body_markdown":"recently I&#39;ve upgraded gradle wrapper on my java project from 7.2 to 8.2 and now the command `./gradlew init --type pom --dsl groovy` became interactive and asks the following question:\r\n&gt; Generate build using new APIs and behavior (some features may change in the next minor release)? (default: no) [yes, no]\r\n\r\nThis broke my scripts that use this command :(  \r\nis there any command line option to automatically choose `no` and make the command non-interactive again?\r\n\r\nThanks!","title":"how to skip gradle asking about new APIs?","body":"<p>recently I've upgraded gradle wrapper on my java project from 7.2 to 8.2 and now the command <code>./gradlew init --type pom --dsl groovy</code> became interactive and asks the following question:</p>\n<blockquote>\n<p>Generate build using new APIs and behavior (some features may change in the next minor release)? (default: no) [yes, no]</p>\n</blockquote>\n<p>This broke my scripts that use this command :(<br />\nis there any command line option to automatically choose <code>no</code> and make the command non-interactive again?</p>\n<p>Thanks!</p>\n"},{"tags":["java","url","servlets","datasource"],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688228373,"creation_date":1688228373,"answer_id":76595571,"question_id":76592148,"body_markdown":"&gt; *Is what I am describing possible?*\r\n\r\nYes. Use a Servlet Filter.\r\n\r\nHere&#39;s a kickoff example, the implementation should speak for itself:\r\n\r\n```java\r\n@WebFilter(&quot;/*&quot;)\r\npublic class DatabasePathFilter extends HttpFilter {\r\n\r\n    private static final String DATABASE_PATH = &quot;/database&quot;;\r\n\r\n    @Override\r\n    protected void doFilter(HttpServletRequest req, HttpServletResponse res, FilterChain chain) throws IOException, ServletException {\r\n        String ctx = req.getContextPath();\r\n        String uri = req.getRequestURI();\r\n\r\n        if (uri.startsWith(ctx + DATABASE_PATH)) {\r\n            String[] paths = uri.substring(ctx.length() + 1).split(&quot;/&quot;, 2);\r\n            String databasePath = paths[0];\r\n            req.setAttribute(&quot;databasePath&quot;, databasePath);\r\n            String servletPath = paths[1];\r\n            String servletUri = ctx + &quot;/&quot; + servletPath;\r\n            req.getRequestDispatcher(servletUri).forward(req, res);\r\n        }\r\n        else {\r\n            chain.doFilter(req, res);\r\n        }\r\n    }\r\n}\r\n```\r\nIn any servlet you can if necessary retrieve the database path by `req.getAttribute(&quot;databasePath&quot;)`.\r\n\r\n### See also: \r\n\r\n- https://stackoverflow.com/questions/2725102/how-to-use-a-servlet-filter-in-java-to-change-an-incoming-servlet-request-url\r\n\r\n","title":"Java Web Application Connecting to Multiple Databases Based on URL","body":"<blockquote>\n<p><em>Is what I am describing possible?</em></p>\n</blockquote>\n<p>Yes. Use a Servlet Filter.</p>\n<p>Here's a kickoff example, the implementation should speak for itself:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebFilter(&quot;/*&quot;)\npublic class DatabasePathFilter extends HttpFilter {\n\n    private static final String DATABASE_PATH = &quot;/database&quot;;\n\n    @Override\n    protected void doFilter(HttpServletRequest req, HttpServletResponse res, FilterChain chain) throws IOException, ServletException {\n        String ctx = req.getContextPath();\n        String uri = req.getRequestURI();\n\n        if (uri.startsWith(ctx + DATABASE_PATH)) {\n            String[] paths = uri.substring(ctx.length() + 1).split(&quot;/&quot;, 2);\n            String databasePath = paths[0];\n            req.setAttribute(&quot;databasePath&quot;, databasePath);\n            String servletPath = paths[1];\n            String servletUri = ctx + &quot;/&quot; + servletPath;\n            req.getRequestDispatcher(servletUri).forward(req, res);\n        }\n        else {\n            chain.doFilter(req, res);\n        }\n    }\n}\n</code></pre>\n<p>In any servlet you can if necessary retrieve the database path by <code>req.getAttribute(&quot;databasePath&quot;)</code>.</p>\n<h3>See also:</h3>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/2725102/how-to-use-a-servlet-filter-in-java-to-change-an-incoming-servlet-request-url\">How to use a servlet filter in Java to change an incoming servlet request url?</a></li>\n</ul>\n"}],"owner":{"account_id":28927523,"reputation":1,"user_id":22157051,"display_name":"Jessica Love"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688228373,"creation_date":1688158134,"question_id":76592148,"body_markdown":"I have a Java Web Application that currently uses a JDBC resource and connection pool to connect to a database. Currently, I only connect to one database at a time. I would like to be able to run the same code but connect to different databases by including something in the URL. I need to be able to still access my servlets by URL too.\r\nFor example, the following links would run the same Servlet code, but for different databases.\r\nwww.myapp.com/database1/Scheduling\r\nwww.myapp.com/database2/Scheduling\r\n\r\nI would like the database configurations to be outside of the web application, so that when I add a new connection or edit a connection, I don&#39;t have to rebuild my war file. I think I can do this by keeping the configuration file on the web server and editing that instead. I picture having the end user launch the app and choose the database they want to connect to. Once they choose, I could then grab the connection details.\r\n\r\nThere is also the possibility that a user could have 2 databases/links open at once, and I need to manage that/make it possible. I assume that would deal more with the Sessions.\r\n\r\nI think I&#39;m getting hung up on how I would be able to parse the database1 piece out of the URL and still be able to access the servlet. I understand how to map servlets in the web.xml file, but I don&#39;t know that what I&#39;m describing is even possible. \r\n\r\nI&#39;ve been searching for a similar problem or question, but it seems the idea of having a web application that connects to different databases is more about accessing different components, such as a customer database and a product database. \r\n\r\nIs what I am describing possible? Can this be accomplished in another way than I am describing?\r\n\r\n\r\n\r\nI&#39;m looking at Hibernate and also considered the Spring Framework. I think I&#39;m a bit paralyzed at this point, not wanting to go down a path for something that isn&#39;t feasible or possible. \r\n\r\n\r\nThank you very much in advance","title":"Java Web Application Connecting to Multiple Databases Based on URL","body":"<p>I have a Java Web Application that currently uses a JDBC resource and connection pool to connect to a database. Currently, I only connect to one database at a time. I would like to be able to run the same code but connect to different databases by including something in the URL. I need to be able to still access my servlets by URL too.\nFor example, the following links would run the same Servlet code, but for different databases.\n<a href=\"http://www.myapp.com/database1/Scheduling\" rel=\"nofollow noreferrer\">www.myapp.com/database1/Scheduling</a>\n<a href=\"http://www.myapp.com/database2/Scheduling\" rel=\"nofollow noreferrer\">www.myapp.com/database2/Scheduling</a></p>\n<p>I would like the database configurations to be outside of the web application, so that when I add a new connection or edit a connection, I don't have to rebuild my war file. I think I can do this by keeping the configuration file on the web server and editing that instead. I picture having the end user launch the app and choose the database they want to connect to. Once they choose, I could then grab the connection details.</p>\n<p>There is also the possibility that a user could have 2 databases/links open at once, and I need to manage that/make it possible. I assume that would deal more with the Sessions.</p>\n<p>I think I'm getting hung up on how I would be able to parse the database1 piece out of the URL and still be able to access the servlet. I understand how to map servlets in the web.xml file, but I don't know that what I'm describing is even possible.</p>\n<p>I've been searching for a similar problem or question, but it seems the idea of having a web application that connects to different databases is more about accessing different components, such as a customer database and a product database.</p>\n<p>Is what I am describing possible? Can this be accomplished in another way than I am describing?</p>\n<p>I'm looking at Hibernate and also considered the Spring Framework. I think I'm a bit paralyzed at this point, not wanting to go down a path for something that isn't feasible or possible.</p>\n<p>Thank you very much in advance</p>\n"},{"tags":["java","spring","hibernate","hibernate-6.x"],"answers":[{"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"down_vote_count":3,"up_vote_count":8,"is_accepted":false,"score":5,"last_activity_date":1688226786,"creation_date":1684274879,"answer_id":76267365,"question_id":76255225,"body_markdown":"    12:36:11.892 [main] DEBUG \r\n\r\nThat&#39;s a _debug_-level log message. Why are you worried about it?\r\n\r\n### UPDATE\r\n\r\nThe other response on this thread is wildly wrong, so let me clarify the _actual situation_. \r\n\r\n\r\n1. Does Hibernate, as claimed, use field access by default. **No, it does not.** Hibernate uses field access when the mapping annotations are placed on fields, _as required by the JPA spec_. If the mapping annotations are placed on getters, it uses property access.\r\n2. Should Hibernate use getters and setters here, as claimed, instead of accessing fields directly. **No, it most definitely should not.** That would not comply with the JPA spec.\r\n3. Is this a problem? Does it result in &quot;suboptimal&quot; performance as claimed? **No it is not, and no it does not.** The &quot;reflection optimizer&quot; has at most an extremely marginal impact on performance, unmeasurable in most circumstances.\r\n4. Should one, in general, get upset and worried when Hibernate or any other library logs something at `DEBUG` level? **No one should not.** If it was actually something to be concerned about we would, at minimum, log a `WARN`. We assume that everyone has the log level set to `INFO` by default, so when we log something at `DEBUG` it&#39;s because _it&#39;s usually not worth paying attention to_.\r\n5. Should the user, to mitigate this non-problem, scatter `@Access(AccessType.PROPERTY)` annotations all over their entity classes? **PLEASE NO.** Don&#39;t do that. That&#39;s awful. That&#39;s not the way JPA is intended to be used.\r\n\r\nIf you do for some reason prefer property access to field access, you can place the mapping annotations on the getters. But that&#39;s not our recommendation anymore, and it&#39;s no longer common practice in the Hibernate community.\r\n\r\nI hope that helps, and I hope it corrects the FUD in the other answer on this thread.\r\n\r\n&lt;sub&gt;**For the record:** I&#39;m the creator of Hibernate, the person who originally added the &quot;reflection optimizer&quot; to Hibernate, and one of the people who actually wrote the JPA spec, including the relevant part of the spec.&lt;/sub&gt;","title":"HHH000513: Unable to create the ReflectionOptimizer for Entity after upgrading to Hibernate 6","body":"<pre><code>12:36:11.892 [main] DEBUG \n</code></pre>\n<p>That's a <em>debug</em>-level log message. Why are you worried about it?</p>\n<h3>UPDATE</h3>\n<p>The other response on this thread is wildly wrong, so let me clarify the <em>actual situation</em>.</p>\n<ol>\n<li>Does Hibernate, as claimed, use field access by default. <strong>No, it does not.</strong> Hibernate uses field access when the mapping annotations are placed on fields, <em>as required by the JPA spec</em>. If the mapping annotations are placed on getters, it uses property access.</li>\n<li>Should Hibernate use getters and setters here, as claimed, instead of accessing fields directly. <strong>No, it most definitely should not.</strong> That would not comply with the JPA spec.</li>\n<li>Is this a problem? Does it result in &quot;suboptimal&quot; performance as claimed? <strong>No it is not, and no it does not.</strong> The &quot;reflection optimizer&quot; has at most an extremely marginal impact on performance, unmeasurable in most circumstances.</li>\n<li>Should one, in general, get upset and worried when Hibernate or any other library logs something at <code>DEBUG</code> level? <strong>No one should not.</strong> If it was actually something to be concerned about we would, at minimum, log a <code>WARN</code>. We assume that everyone has the log level set to <code>INFO</code> by default, so when we log something at <code>DEBUG</code> it's because <em>it's usually not worth paying attention to</em>.</li>\n<li>Should the user, to mitigate this non-problem, scatter <code>@Access(AccessType.PROPERTY)</code> annotations all over their entity classes? <strong>PLEASE NO.</strong> Don't do that. That's awful. That's not the way JPA is intended to be used.</li>\n</ol>\n<p>If you do for some reason prefer property access to field access, you can place the mapping annotations on the getters. But that's not our recommendation anymore, and it's no longer common practice in the Hibernate community.</p>\n<p>I hope that helps, and I hope it corrects the FUD in the other answer on this thread.</p>\n<p><sub><strong>For the record:</strong> I'm the creator of Hibernate, the person who originally added the &quot;reflection optimizer&quot; to Hibernate, and one of the people who actually wrote the JPA spec, including the relevant part of the spec.</sub></p>\n"},{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1684305518,"creation_date":1684305518,"answer_id":76269174,"question_id":76255225,"body_markdown":"**Short story**\r\n\r\nPlace `@Access(AccessType.PROPERTY)` annotation over your entity class.\r\n\r\n**Long story**\r\n\r\nWhen Hibernate is reading data from DB it needs somehow instantiate entity object and populate it&#39;s field values, there are a couple of options to do that:\r\n1. use reflection access\r\n2. generate some helper class which will do that in more optimal way (yep, reflection access is still slow)\r\n\r\nException you are observing\r\n\r\n```\r\nPrivateAccessorException: private accessor [createdTime]\r\n```\r\n\r\nmeans following: Hibernate was trying to generate helper class, but figured out the particular `createdTime` field has private access, which in turn prevents helper class generation. However the actual root cause is Hibernate was not even considering getter and setter methods (POJO &quot;properties&quot;) present in entity class, just because by default Hibernate prefers using field access to property access (please check https://thorben-janssen.com/access-strategies-in-jpa-and-hibernate/). So, in general, you are right: such exception is not benign - it reveals you are getting suboptimal behaviour of Hibernate.","title":"HHH000513: Unable to create the ReflectionOptimizer for Entity after upgrading to Hibernate 6","body":"<p><strong>Short story</strong></p>\n<p>Place <code>@Access(AccessType.PROPERTY)</code> annotation over your entity class.</p>\n<p><strong>Long story</strong></p>\n<p>When Hibernate is reading data from DB it needs somehow instantiate entity object and populate it's field values, there are a couple of options to do that:</p>\n<ol>\n<li>use reflection access</li>\n<li>generate some helper class which will do that in more optimal way (yep, reflection access is still slow)</li>\n</ol>\n<p>Exception you are observing</p>\n<pre><code>PrivateAccessorException: private accessor [createdTime]\n</code></pre>\n<p>means following: Hibernate was trying to generate helper class, but figured out the particular <code>createdTime</code> field has private access, which in turn prevents helper class generation. However the actual root cause is Hibernate was not even considering getter and setter methods (POJO &quot;properties&quot;) present in entity class, just because by default Hibernate prefers using field access to property access (please check <a href=\"https://thorben-janssen.com/access-strategies-in-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">https://thorben-janssen.com/access-strategies-in-jpa-and-hibernate/</a>). So, in general, you are right: such exception is not benign - it reveals you are getting suboptimal behaviour of Hibernate.</p>\n"}],"owner":{"account_id":11296302,"reputation":2929,"user_id":8283737,"accept_rate":89,"display_name":"Arun Gowda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2382,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1688226786,"creation_date":1684161791,"question_id":76255225,"body_markdown":"Recently upgraded from Hibernate 5 to 6 and I see the following error in debug level.\r\n\r\n\r\n    12:36:11.892 [main] DEBUG org.hibernate.bytecode.internal.bytebuddy.BytecodeProviderImpl - HHH000513: Unable to create the ReflectionOptimizer for [abc.def.ghi.OrderEventEntity]\r\n    org.hibernate.bytecode.internal.bytebuddy.PrivateAccessorException: private accessor [createdTime]\r\n    \tat org.hibernate.bytecode.internal.bytebuddy.BytecodeProviderImpl.findAccessors(BytecodeProviderImpl.java:1250) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\r\n\r\n\r\nOrderEntity.java\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;OMS_ORDER_EVENTS&quot;)\r\n    public class OrderEventEntity {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;oms_order_events_seq&quot;)\r\n        @SequenceGenerator(name = &quot;oms_order_events_seq&quot;, sequenceName = &quot;OMS_ORDER_EVENTS_SEQ&quot;, allocationSize = 1)\r\n        @Column(name = &quot;ID&quot;)\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;ORDER_ID&quot;)\r\n        private Long orderId;\r\n    \r\n        @Column(name = &quot;VERSION_NUMBER&quot;)\r\n        private Integer versionNumber;\r\n    \r\n        @Column(name = &quot;GENERATED_BY&quot;)\r\n        @Enumerated(value = EnumType.STRING)\r\n        private EventGenerator generatedBy;\r\n    \r\n        @Column(name = &quot;USER_CONTACT_ID&quot;)\r\n        private String userContactId;\r\n    \r\n        @Column(name = &quot;EVENT_TYPE&quot;)\r\n        @Enumerated(value = EnumType.STRING)\r\n        private EventType eventType;\r\n    \r\n        @Column(name = &quot;CREATED_TIME&quot;)\r\n        private Date createdTime;\r\n    }\r\n\r\nThere is no trace of anything related to this over the internet whatsoever. Currently my Spring web app is not coming up and I was guessing if this could be the issue. \r\n\r\nEDIT:\r\n\r\nI figured there was a `ClassDefNotFoundException` from some other external library and it was not printed in the logs. This is the reason why my application was not coming up.\r\n\r\n\r\n","title":"HHH000513: Unable to create the ReflectionOptimizer for Entity after upgrading to Hibernate 6","body":"<p>Recently upgraded from Hibernate 5 to 6 and I see the following error in debug level.</p>\n<pre><code>12:36:11.892 [main] DEBUG org.hibernate.bytecode.internal.bytebuddy.BytecodeProviderImpl - HHH000513: Unable to create the ReflectionOptimizer for [abc.def.ghi.OrderEventEntity]\norg.hibernate.bytecode.internal.bytebuddy.PrivateAccessorException: private accessor [createdTime]\n    at org.hibernate.bytecode.internal.bytebuddy.BytecodeProviderImpl.findAccessors(BytecodeProviderImpl.java:1250) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\n</code></pre>\n<p>OrderEntity.java</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;OMS_ORDER_EVENTS&quot;)\npublic class OrderEventEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;oms_order_events_seq&quot;)\n    @SequenceGenerator(name = &quot;oms_order_events_seq&quot;, sequenceName = &quot;OMS_ORDER_EVENTS_SEQ&quot;, allocationSize = 1)\n    @Column(name = &quot;ID&quot;)\n    private Long id;\n\n    @Column(name = &quot;ORDER_ID&quot;)\n    private Long orderId;\n\n    @Column(name = &quot;VERSION_NUMBER&quot;)\n    private Integer versionNumber;\n\n    @Column(name = &quot;GENERATED_BY&quot;)\n    @Enumerated(value = EnumType.STRING)\n    private EventGenerator generatedBy;\n\n    @Column(name = &quot;USER_CONTACT_ID&quot;)\n    private String userContactId;\n\n    @Column(name = &quot;EVENT_TYPE&quot;)\n    @Enumerated(value = EnumType.STRING)\n    private EventType eventType;\n\n    @Column(name = &quot;CREATED_TIME&quot;)\n    private Date createdTime;\n}\n</code></pre>\n<p>There is no trace of anything related to this over the internet whatsoever. Currently my Spring web app is not coming up and I was guessing if this could be the issue.</p>\n<p>EDIT:</p>\n<p>I figured there was a <code>ClassDefNotFoundException</code> from some other external library and it was not printed in the logs. This is the reason why my application was not coming up.</p>\n"},{"tags":["java","spring-boot","junit"],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688225302,"creation_date":1688224512,"answer_id":76595309,"question_id":76594416,"body_markdown":"Generally speaking, the normal way to form the kind of Cartesian product you describe would be with a set of nested loops or an analogous shallow recursion.\r\n\r\n&gt; The problem is the number of provided arguments is not definite, for\r\n&gt; example, in a part of my app, I don&#39;t want to provide list of emails,\r\n&gt; so all created users have &quot;null&quot; email field.\r\n&gt; \r\n&gt; how can I achieve proper results efficiently?(Is there any library or\r\n&gt; so on ?) feel free to change input parameters or output of &quot;factory&quot;\r\n&gt; method if necessary.\r\n\r\nYour alternatives depend a little on the details of `User`.  For example, what constructors does it have, or are you willing to give it?  Are (all) its fields modifiable after an instance is initialized?\r\n\r\nOne flexible approach that is adaptable to pretty much any specifics would involve a stateful factory class, something like this:\r\n```\r\npublic class UserFactory {\r\n   // Fields corresponding to those of User\r\n   String name;\r\n   String email;\r\n   int age;\r\n   Role[] role;\r\n   // ...\r\n\r\n   // constructor(s), maybe ...\r\n\r\n   // setters ...\r\n\r\n   /**\r\n    * Instantiate and return a User with properties as presently configured on\r\n    * this factory\r\n    */\r\n   public User createUser() {\r\n       // ...\r\n   }\r\n\r\n   // ... see also below ...\r\n}\r\n```\r\nSuch a factory assists you in building up a set of properties for a `User` in a flexible manner, and it abstracts away the details of actually creating a `User` instance with the desired properties.\r\n\r\nBut if you are going to specify lists of property values via a map or similar, then you need a way to use the keys of that map to set factory (or `User`) properties.  For our purposes, it is convenient to put that on the factory class, and that has the additional benefit of keeping `User` cleaner:\r\n```\r\n   // in class UserFactory:\r\n\r\n   /**\r\n    * Sets the property of this factory specified by the given name to the\r\n    * given value, which must be of an appropriate type.\r\n    *\r\n    * @throws IllegalArgumentException if the specified property name is not\r\n    *         among the allowed property names\r\n    *\r\n    * @throws ClassCastException if the type of the specified value is not\r\n    *         appropriate for the specified property\r\n    */\r\n   void setPropertyByName(String name, Object value) {\r\n       // ...\r\n   }\r\n```\r\nThere are all sorts of ways you could implement that, but it is important to recognize that with that signature, it will necessarily rely on type-casting the value objects.  There are ways to wring type-safety out of something like this, but they would involve adding even more complexity to something that is already pretty complex for a test-support utility.  I don&#39;t think that&#39;s worthwhile.\r\n\r\nHaving that in place, the factory class is also a reasonable place to hang a method that generates the `User` lists you want, maybe something like this:\r\n```\r\n    // in class UserFactory:\r\n\r\n    /**\r\n     * Forms a Cartesian product of the property values given by the value lists\r\n     * in the specified map.  Uses each of the resulting property sets together\r\n     * with any other properties already set on the specified factory to create\r\n     * a User, and returns a List of the resulting users.\r\n     *\r\n     * @param properties a Map from property names to lists of objects suitable\r\n     *     for use as values of the designated property\r\n     *\r\n     * @param factory a UserFactory to use for User creation.  Any User\r\n     *     properties whose values are not specified via the provided\r\n     *     property map will take values as configured on this factory\r\n     *\r\n     * @return an unmodifiable List of User instances having combinations of\r\n     *     property values drawn from the specified Map\r\n     */\r\n    static List&lt;User&gt; createUsers(Map&lt;String, List&lt;?&gt;&gt; properties,\r\n            UserFactory factory) {\r\n        // Extract the first property list, if any, ignoring any empty ones\r\n        Optional&lt;Map.Entry&lt;String, List&lt;?&gt;&gt;&gt; firstEntry =\r\n                properties.entrySet().stream()\r\n                    .filter((x) -&gt; !x.getValue().isEmpty())\r\n                    .findFirst();\r\n\r\n        if (firstEntry.isEmpty()) {\r\n            // There are no (more) non-empty property lists.\r\n            // Use the properties configured on the factory to create a single\r\n            // User.\r\n            return List.of(factory.createUser());\r\n        } else {\r\n            // Extract the selected property name, and form a Map containing the\r\n            // properties other than the selected one.\r\n            Map&lt;String, List&lt;?&gt;&gt; submap = new HashMap&lt;&gt;(properties);\r\n            String propertyName = firstEntry.get().getKey();\r\n\r\n            submap.remove(propertyName);\r\n\r\n            // Set the selected property in the factory to each specified value\r\n            // in turn, and generate User objects that can then be formed by the\r\n            // factory with combinations of the remaining properties.\r\n            return firstEntry.get().getValue().stream()\r\n                    .flatMap((x) -&gt; {\r\n                            factory.setPropertyByName(propertyName, x);\r\n                            return createUsers(submap, factory).stream();\r\n                        })\r\n                    .toList();\r\n        }\r\n    }\r\n```\r\nThat uses recursion (one level per property name) combined with iteration over the property value lists to ultimately generate one `User` with each combination of property values.  If there are any properties not listed in the map passed to the top-level call, then the values of those properties set on the resulting `User`s will be determined by the provided `UserFactory` instance.\r\n\r\nDo note, however:\r\n\r\n - If the property lists contain duplicate values then you will get duplicate `User`s.  Perhaps a lot of them.  If you want to avoid the possibility of that, then you could consider adapting that to use `Set`s instead of `List`s for the properties, but that will help only for some types of property values (in particular, *not* for arrays).\r\n\r\n - Inasmuch as you have at least one property whose value is an array, the above expects you to provide all the wanted *arrays* in the corresponding property value list -- not their individual elements.  There are various ways you could adapt to generating arrays of element combinations, too, which I leave as an exercise.\r\n\r\n - Where any of the User properties take values of mutable type (arrays, for example, and maybe `Role`s or similar), you need either to make copies of those, probably in `UserFactory.createUser()`, or else accept that the `User` objects will have shared, mutable state.  The latter could easily set you up for unpleasant surprises.\r\n","title":"Create Objects using Cartesian product of provided fields","body":"<p>Generally speaking, the normal way to form the kind of Cartesian product you describe would be with a set of nested loops or an analogous shallow recursion.</p>\n<blockquote>\n<p>The problem is the number of provided arguments is not definite, for\nexample, in a part of my app, I don't want to provide list of emails,\nso all created users have &quot;null&quot; email field.</p>\n<p>how can I achieve proper results efficiently?(Is there any library or\nso on ?) feel free to change input parameters or output of &quot;factory&quot;\nmethod if necessary.</p>\n</blockquote>\n<p>Your alternatives depend a little on the details of <code>User</code>.  For example, what constructors does it have, or are you willing to give it?  Are (all) its fields modifiable after an instance is initialized?</p>\n<p>One flexible approach that is adaptable to pretty much any specifics would involve a stateful factory class, something like this:</p>\n<pre><code>public class UserFactory {\n   // Fields corresponding to those of User\n   String name;\n   String email;\n   int age;\n   Role[] role;\n   // ...\n\n   // constructor(s), maybe ...\n\n   // setters ...\n\n   /**\n    * Instantiate and return a User with properties as presently configured on\n    * this factory\n    */\n   public User createUser() {\n       // ...\n   }\n\n   // ... see also below ...\n}\n</code></pre>\n<p>Such a factory assists you in building up a set of properties for a <code>User</code> in a flexible manner, and it abstracts away the details of actually creating a <code>User</code> instance with the desired properties.</p>\n<p>But if you are going to specify lists of property values via a map or similar, then you need a way to use the keys of that map to set factory (or <code>User</code>) properties.  For our purposes, it is convenient to put that on the factory class, and that has the additional benefit of keeping <code>User</code> cleaner:</p>\n<pre><code>   // in class UserFactory:\n\n   /**\n    * Sets the property of this factory specified by the given name to the\n    * given value, which must be of an appropriate type.\n    *\n    * @throws IllegalArgumentException if the specified property name is not\n    *         among the allowed property names\n    *\n    * @throws ClassCastException if the type of the specified value is not\n    *         appropriate for the specified property\n    */\n   void setPropertyByName(String name, Object value) {\n       // ...\n   }\n</code></pre>\n<p>There are all sorts of ways you could implement that, but it is important to recognize that with that signature, it will necessarily rely on type-casting the value objects.  There are ways to wring type-safety out of something like this, but they would involve adding even more complexity to something that is already pretty complex for a test-support utility.  I don't think that's worthwhile.</p>\n<p>Having that in place, the factory class is also a reasonable place to hang a method that generates the <code>User</code> lists you want, maybe something like this:</p>\n<pre><code>    // in class UserFactory:\n\n    /**\n     * Forms a Cartesian product of the property values given by the value lists\n     * in the specified map.  Uses each of the resulting property sets together\n     * with any other properties already set on the specified factory to create\n     * a User, and returns a List of the resulting users.\n     *\n     * @param properties a Map from property names to lists of objects suitable\n     *     for use as values of the designated property\n     *\n     * @param factory a UserFactory to use for User creation.  Any User\n     *     properties whose values are not specified via the provided\n     *     property map will take values as configured on this factory\n     *\n     * @return an unmodifiable List of User instances having combinations of\n     *     property values drawn from the specified Map\n     */\n    static List&lt;User&gt; createUsers(Map&lt;String, List&lt;?&gt;&gt; properties,\n            UserFactory factory) {\n        // Extract the first property list, if any, ignoring any empty ones\n        Optional&lt;Map.Entry&lt;String, List&lt;?&gt;&gt;&gt; firstEntry =\n                properties.entrySet().stream()\n                    .filter((x) -&gt; !x.getValue().isEmpty())\n                    .findFirst();\n\n        if (firstEntry.isEmpty()) {\n            // There are no (more) non-empty property lists.\n            // Use the properties configured on the factory to create a single\n            // User.\n            return List.of(factory.createUser());\n        } else {\n            // Extract the selected property name, and form a Map containing the\n            // properties other than the selected one.\n            Map&lt;String, List&lt;?&gt;&gt; submap = new HashMap&lt;&gt;(properties);\n            String propertyName = firstEntry.get().getKey();\n\n            submap.remove(propertyName);\n\n            // Set the selected property in the factory to each specified value\n            // in turn, and generate User objects that can then be formed by the\n            // factory with combinations of the remaining properties.\n            return firstEntry.get().getValue().stream()\n                    .flatMap((x) -&gt; {\n                            factory.setPropertyByName(propertyName, x);\n                            return createUsers(submap, factory).stream();\n                        })\n                    .toList();\n        }\n    }\n</code></pre>\n<p>That uses recursion (one level per property name) combined with iteration over the property value lists to ultimately generate one <code>User</code> with each combination of property values.  If there are any properties not listed in the map passed to the top-level call, then the values of those properties set on the resulting <code>User</code>s will be determined by the provided <code>UserFactory</code> instance.</p>\n<p>Do note, however:</p>\n<ul>\n<li><p>If the property lists contain duplicate values then you will get duplicate <code>User</code>s.  Perhaps a lot of them.  If you want to avoid the possibility of that, then you could consider adapting that to use <code>Set</code>s instead of <code>List</code>s for the properties, but that will help only for some types of property values (in particular, <em>not</em> for arrays).</p>\n</li>\n<li><p>Inasmuch as you have at least one property whose value is an array, the above expects you to provide all the wanted <em>arrays</em> in the corresponding property value list -- not their individual elements.  There are various ways you could adapt to generating arrays of element combinations, too, which I leave as an exercise.</p>\n</li>\n<li><p>Where any of the User properties take values of mutable type (arrays, for example, and maybe <code>Role</code>s or similar), you need either to make copies of those, probably in <code>UserFactory.createUser()</code>, or else accept that the <code>User</code> objects will have shared, mutable state.  The latter could easily set you up for unpleasant surprises.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":28619358,"reputation":5,"user_id":21912682,"display_name":"mohammadAli Olama"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76595309,"answer_count":1,"score":0,"last_activity_date":1688225302,"creation_date":1688209711,"question_id":76594416,"body_markdown":"Suppose I have a class like this :\r\n\r\n\r\n``` java\r\nclass User{\r\n\r\n   String name;\r\n   String email;\r\n   int age;\r\n   Role[] role;\r\n   // other fields.\r\n\r\n\r\n   // constructors, getters , setters , ...\r\n\r\n}\r\n```\r\nwhere &quot;Role&quot; is another defined class(or enum, does not matter).\r\n\r\n\r\nnow suppose I have a list of names, a list of ages, a list of list of roles(or a list of arrays of roles does not matter) , ...(other possible fields) and I want to create all possible combination of these fields to create all combination of users(Cartesian product of fields.)\r\n\r\n``` java\r\nList&lt;User&gt; factory(Map&lt;String , List&gt; arguments){\r\n   List&lt;User&gt; result = new ArrayList&lt;&gt;();\r\n\r\n   // add all possible combination of created Users using &quot;arguments&quot; paramether.\r\n\r\n\r\n   return result;\r\n}\r\n```\r\n\r\n\r\n\r\nThe problem is the number of provided arguments is not definite, for example, in a part of my app, I don&#39;t want to provide list of emails, so all created users have &quot;null&quot; email field.\r\n\r\nhow can I achieve proper results efficiently?(Is there any library or so on ?)\r\nfeel free to change input parameters or output of &quot;factory&quot; method if necessary.\r\n\r\nP.s: We are developing an spring boot web application and we test our methods with Junit and Mockito. we want to test methods in different layers with a lot of data, but we don&#39;t want to harcode so many duplicate lines of code to generate samples. we want something like a &quot;factory&quot; method to generate all possible objects of a provided class with provided arguments.","title":"Create Objects using Cartesian product of provided fields","body":"<p>Suppose I have a class like this :</p>\n<pre class=\"lang-java prettyprint-override\"><code>class User{\n\n   String name;\n   String email;\n   int age;\n   Role[] role;\n   // other fields.\n\n\n   // constructors, getters , setters , ...\n\n}\n</code></pre>\n<p>where &quot;Role&quot; is another defined class(or enum, does not matter).</p>\n<p>now suppose I have a list of names, a list of ages, a list of list of roles(or a list of arrays of roles does not matter) , ...(other possible fields) and I want to create all possible combination of these fields to create all combination of users(Cartesian product of fields.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;User&gt; factory(Map&lt;String , List&gt; arguments){\n   List&lt;User&gt; result = new ArrayList&lt;&gt;();\n\n   // add all possible combination of created Users using &quot;arguments&quot; paramether.\n\n\n   return result;\n}\n</code></pre>\n<p>The problem is the number of provided arguments is not definite, for example, in a part of my app, I don't want to provide list of emails, so all created users have &quot;null&quot; email field.</p>\n<p>how can I achieve proper results efficiently?(Is there any library or so on ?)\nfeel free to change input parameters or output of &quot;factory&quot; method if necessary.</p>\n<p>P.s: We are developing an spring boot web application and we test our methods with Junit and Mockito. we want to test methods in different layers with a lot of data, but we don't want to harcode so many duplicate lines of code to generate samples. we want something like a &quot;factory&quot; method to generate all possible objects of a provided class with provided arguments.</p>\n"},{"tags":["java","mysql","maven"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688214227,"post_id":76594679,"comment_id":135045873,"body_markdown":"You&#39;ve got no Maven Shade (or similar) there so you&#39;ll have no fat jar. Without a fat jar, you will have to include the driver jar in the classpath if you want to to run your jar","body":"You&#39;ve got no Maven Shade (or similar) there so you&#39;ll have no fat jar. Without a fat jar, you will have to include the driver jar in the classpath if you want to to run your jar"},{"owner":{"account_id":24452715,"reputation":9,"user_id":18374716,"display_name":"mohamed boulaoudja"},"score":1,"creation_date":1688216628,"post_id":76594679,"comment_id":135046077,"body_markdown":"I&#39;m sorry but i didn&#39;t understand you","body":"I&#39;m sorry but i didn&#39;t understand you"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1688223505,"post_id":76594679,"comment_id":135046779,"body_markdown":"@mohamedboulaoudja see https://stackoverflow.com/questions/75083820/maven-exported-jar-doesnt-find-maven-dependency-although-i-can-run-the-main-clas","body":"@mohamedboulaoudja see <a href=\"https://stackoverflow.com/questions/75083820/maven-exported-jar-doesnt-find-maven-dependency-although-i-can-run-the-main-clas\" title=\"maven exported jar doesnt find maven dependency although i can run the main clas\">stackoverflow.com/questions/75083820/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":22494422,"reputation":56,"user_id":16691669,"display_name":"cucumbercoast"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688224824,"creation_date":1688224824,"answer_id":76595330,"question_id":76594679,"body_markdown":"Your jar is missing the MySQL dependency. To make a jar with all of your project&#39;s dependecies you can use the [Maven Assembly](https://maven.apache.org/plugins/maven-assembly-plugin) plugin. Add this to your ```pom.xml``` file:\r\n```\r\n&lt;build&gt;\r\n    &lt;finalName&gt;my-project-name&lt;/finalName&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.6.0&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;descriptorRefs&gt;\r\n                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                &lt;/descriptorRefs&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;make-assembly&lt;/id&gt;\r\n                    &lt;phase&gt;package&lt;/phase&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;single&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\nThen build the jar using: ```mvn clean package```\r\n\r\nThis post explains it nicely: [jenkov.com/tutorials/maven/maven-build-fat-jar.html](https://jenkov.com/tutorials/maven/maven-build-fat-jar.html)","title":"java.lang.classnotfoundexception: com.mysql.jc.jdbc.driver","body":"<p>Your jar is missing the MySQL dependency. To make a jar with all of your project's dependecies you can use the <a href=\"https://maven.apache.org/plugins/maven-assembly-plugin\" rel=\"nofollow noreferrer\">Maven Assembly</a> plugin. Add this to your <code>pom.xml</code> file:</p>\n<pre><code>&lt;build&gt;\n    &lt;finalName&gt;my-project-name&lt;/finalName&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.6.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;descriptorRefs&gt;\n                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                &lt;/descriptorRefs&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;make-assembly&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Then build the jar using: <code>mvn clean package</code></p>\n<p>This post explains it nicely: <a href=\"https://jenkov.com/tutorials/maven/maven-build-fat-jar.html\" rel=\"nofollow noreferrer\">jenkov.com/tutorials/maven/maven-build-fat-jar.html</a></p>\n"}],"owner":{"account_id":24452715,"reputation":9,"user_id":18374716,"display_name":"mohamed boulaoudja"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1688224824,"creation_date":1688213977,"question_id":76594679,"body_markdown":"My application(java maven) works fine when I run it from within netbeans but when I extract its jar file it shows me this error : java.lang.classnotfoundexception: com.mysql.jc.jdbc.driver or this no suitable driver found for jdbc:mysql:/localhost\r\n\r\n\r\nin my pom.xml file i have add my sql driver to dependency\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;NIS&lt;/groupId&gt;\r\n    &lt;artifactId&gt;NIS&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;unknown-jars-temp-repo&lt;/id&gt;\r\n            &lt;name&gt;A temporary repository created by NetBeans for libraries and jars it could not identify. Please replace the dependencies in this repository with correct ones and delete this repository.&lt;/name&gt;\r\n            &lt;url&gt;file:${project.basedir}/lib&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n    \r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;exec.mainClass&gt;NIS.NIS&lt;/exec.mainClass&gt;\r\n        &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.33&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;unknown.binary&lt;/groupId&gt;\r\n            &lt;artifactId&gt;AbsoluteLayout&lt;/artifactId&gt;\r\n            &lt;version&gt;SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;unknown.binary&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jcalendar-1.4&lt;/artifactId&gt;\r\n            &lt;version&gt;SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt; \r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;NIS.NIS&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n","title":"java.lang.classnotfoundexception: com.mysql.jc.jdbc.driver","body":"<p>My application(java maven) works fine when I run it from within netbeans but when I extract its jar file it shows me this error : java.lang.classnotfoundexception: com.mysql.jc.jdbc.driver or this no suitable driver found for jdbc:mysql:/localhost</p>\n<p>in my pom.xml file i have add my sql driver to dependency</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;NIS&lt;/groupId&gt;\n    &lt;artifactId&gt;NIS&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;unknown-jars-temp-repo&lt;/id&gt;\n            &lt;name&gt;A temporary repository created by NetBeans for libraries and jars it could not identify. Please replace the dependencies in this repository with correct ones and delete this repository.&lt;/name&gt;\n            &lt;url&gt;file:${project.basedir}/lib&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    \n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;exec.mainClass&gt;NIS.NIS&lt;/exec.mainClass&gt;\n        &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;version&gt;8.0.33&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;unknown.binary&lt;/groupId&gt;\n            &lt;artifactId&gt;AbsoluteLayout&lt;/artifactId&gt;\n            &lt;version&gt;SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;unknown.binary&lt;/groupId&gt;\n            &lt;artifactId&gt;jcalendar-1.4&lt;/artifactId&gt;\n            &lt;version&gt;SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt; \n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;NIS.NIS&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","google-api","google-signin","google-api-java-client","google-client"],"answers":[{"tags":[],"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674729612,"creation_date":1674729612,"answer_id":75245000,"question_id":75209562,"body_markdown":"There is a sample for this on the [Verify the Google ID token on your server side](https://developers.google.com/identity/gsi/web/guides/verify-google-id-token) documentation page\r\n\r\nYou apear to be using an old sample i dont think they use `GsonFactory` anymore with the java library it was removed.\r\n\r\n\r\n\r\n    import com.google.api.client.googleapis.auth.oauth2.GoogleIdToken;\r\n    import com.google.api.client.googleapis.auth.oauth2.GoogleIdToken.Payload;\r\n    import com.google.api.client.googleapis.auth.oauth2.GoogleIdTokenVerifier;\r\n    \r\n    ...\r\n    \r\n    GoogleIdTokenVerifier verifier = new GoogleIdTokenVerifier.Builder(transport, jsonFactory)\r\n        // Specify the CLIENT_ID of the app that accesses the backend:\r\n        .setAudience(Collections.singletonList(CLIENT_ID))\r\n        // Or, if multiple clients access the backend:\r\n        //.setAudience(Arrays.asList(CLIENT_ID_1, CLIENT_ID_2, CLIENT_ID_3))\r\n        .build();\r\n    \r\n    // (Receive idTokenString by HTTPS POST)\r\n    \r\n    GoogleIdToken idToken = verifier.verify(idTokenString);\r\n    if (idToken != null) {\r\n      Payload payload = idToken.getPayload();\r\n    \r\n      // Print user identifier\r\n      String userId = payload.getSubject();\r\n      System.out.println(&quot;User ID: &quot; + userId);\r\n    \r\n      // Get profile information from payload\r\n      String email = payload.getEmail();\r\n      boolean emailVerified = Boolean.valueOf(payload.getEmailVerified());\r\n      String name = (String) payload.get(&quot;name&quot;);\r\n      String pictureUrl = (String) payload.get(&quot;picture&quot;);\r\n      String locale = (String) payload.get(&quot;locale&quot;);\r\n      String familyName = (String) payload.get(&quot;family_name&quot;);\r\n      String givenName = (String) payload.get(&quot;given_name&quot;);\r\n    \r\n      // Use or store profile information\r\n      // ...\r\n    \r\n    } else {\r\n      System.out.println(&quot;Invalid ID token.&quot;);\r\n    }","title":"Error trying to create an instance of GoogleIdTokenVerifier using the Java Google Client Api","body":"<p>There is a sample for this on the <a href=\"https://developers.google.com/identity/gsi/web/guides/verify-google-id-token\" rel=\"nofollow noreferrer\">Verify the Google ID token on your server side</a> documentation page</p>\n<p>You apear to be using an old sample i dont think they use <code>GsonFactory</code> anymore with the java library it was removed.</p>\n<pre><code>import com.google.api.client.googleapis.auth.oauth2.GoogleIdToken;\nimport com.google.api.client.googleapis.auth.oauth2.GoogleIdToken.Payload;\nimport com.google.api.client.googleapis.auth.oauth2.GoogleIdTokenVerifier;\n\n...\n\nGoogleIdTokenVerifier verifier = new GoogleIdTokenVerifier.Builder(transport, jsonFactory)\n    // Specify the CLIENT_ID of the app that accesses the backend:\n    .setAudience(Collections.singletonList(CLIENT_ID))\n    // Or, if multiple clients access the backend:\n    //.setAudience(Arrays.asList(CLIENT_ID_1, CLIENT_ID_2, CLIENT_ID_3))\n    .build();\n\n// (Receive idTokenString by HTTPS POST)\n\nGoogleIdToken idToken = verifier.verify(idTokenString);\nif (idToken != null) {\n  Payload payload = idToken.getPayload();\n\n  // Print user identifier\n  String userId = payload.getSubject();\n  System.out.println(&quot;User ID: &quot; + userId);\n\n  // Get profile information from payload\n  String email = payload.getEmail();\n  boolean emailVerified = Boolean.valueOf(payload.getEmailVerified());\n  String name = (String) payload.get(&quot;name&quot;);\n  String pictureUrl = (String) payload.get(&quot;picture&quot;);\n  String locale = (String) payload.get(&quot;locale&quot;);\n  String familyName = (String) payload.get(&quot;family_name&quot;);\n  String givenName = (String) payload.get(&quot;given_name&quot;);\n\n  // Use or store profile information\n  // ...\n\n} else {\n  System.out.println(&quot;Invalid ID token.&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8878226,"reputation":6251,"user_id":6629515,"display_name":"Oleksandr Yefymov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688221488,"creation_date":1688221488,"answer_id":76595114,"question_id":75209562,"body_markdown":"Simple sample of usage:\r\n\r\n\r\n      @Slf4j\r\n      @Service\r\n      @FieldDefaults(level = AccessLevel.PRIVATE, makeFinal = true)\r\n      @RequiredArgsConstructor\r\n      class SocialAuthGoogleValidator implements SocialAuthValidatorStrategy {\r\n    \r\n        @Override\r\n        public void validate(LoginSocialInput input) {\r\n          log.debug(&quot;Validate: {}&quot;, input);\r\n    \r\n          NetHttpTransport httpTransport = new NetHttpTransport();\r\n          JsonFactory jsonFactory = new GsonFactory();\r\n    \r\n          GoogleIdTokenVerifier verifier = new GoogleIdTokenVerifier.Builder(httpTransport, jsonFactory)\r\n            .setAudience(Arrays.asList(\r\n              &quot;your-client-id&quot;,\r\n              &quot;your-client-id-2&quot;\r\n            ))\r\n            .build();\r\n    \r\n          try {\r\n            GoogleIdToken googleIdToken = verifier.verify(input.getProviderIdToken());\r\n            log.debug(&quot;Google ID token: {}&quot;, googleIdToken);\r\n            //todo here do wanted validation\r\n    \r\n          } catch (GeneralSecurityException | IOException e) {\r\n            log.warn(&quot;Token issue: {}&quot;, e.getMessage());\r\n            throw new AuthException(&quot;Invalid Google Auth&quot;);\r\n          }\r\n        }\r\n      }","title":"Error trying to create an instance of GoogleIdTokenVerifier using the Java Google Client Api","body":"<p>Simple sample of usage:</p>\n<pre><code>  @Slf4j\n  @Service\n  @FieldDefaults(level = AccessLevel.PRIVATE, makeFinal = true)\n  @RequiredArgsConstructor\n  class SocialAuthGoogleValidator implements SocialAuthValidatorStrategy {\n\n    @Override\n    public void validate(LoginSocialInput input) {\n      log.debug(&quot;Validate: {}&quot;, input);\n\n      NetHttpTransport httpTransport = new NetHttpTransport();\n      JsonFactory jsonFactory = new GsonFactory();\n\n      GoogleIdTokenVerifier verifier = new GoogleIdTokenVerifier.Builder(httpTransport, jsonFactory)\n        .setAudience(Arrays.asList(\n          &quot;your-client-id&quot;,\n          &quot;your-client-id-2&quot;\n        ))\n        .build();\n\n      try {\n        GoogleIdToken googleIdToken = verifier.verify(input.getProviderIdToken());\n        log.debug(&quot;Google ID token: {}&quot;, googleIdToken);\n        //todo here do wanted validation\n\n      } catch (GeneralSecurityException | IOException e) {\n        log.warn(&quot;Token issue: {}&quot;, e.getMessage());\n        throw new AuthException(&quot;Invalid Google Auth&quot;);\n      }\n    }\n  }\n</code></pre>\n"}],"owner":{"account_id":16667940,"reputation":11,"user_id":12046155,"display_name":"Giacomo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1688221488,"creation_date":1674477130,"question_id":75209562,"body_markdown":"i&#39;m trying to integrate the google login function on my website and i&#39;m following the relative google doc for the  server side token validation: https://developers.google.com/identity/gsi/web/guides/verify-google-id-token?hl=en .\r\n\r\ni&#39;ve created a simple test app with the GoogleIdTokenVerifier declaration but i&#39;m getting the error:\r\n\r\n```\r\njava.lang.NoClassDefFoundError: com/google/api/client/json/JsonFactory\r\n```\r\nwhat am I doing wrong?\r\n\r\nThanks.\r\n\r\n\r\n\r\n\r\nthis is the test app with the GoogleIdTokenVerifier declaration:\r\n\r\n```\r\npackage test;\r\n\r\nimport java.util.Collections;\r\n\r\nimport com.google.api.client.googleapis.auth.oauth2.GoogleIdTokenVerifier;\r\nimport com.google.api.client.http.HttpTransport;\r\nimport com.google.api.client.http.javanet.NetHttpTransport;\r\nimport com.google.api.client.json.gson.GsonFactory;\r\n\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tHttpTransport transport = new NetHttpTransport();\r\n\t\t\t\r\n\t\t\tGoogleIdTokenVerifier verifier = new GoogleIdTokenVerifier.Builder(transport, new GsonFactory())\r\n\t\t\t    // Specify the CLIENT_ID of the app that accesses the backend:\r\n\t\t\t    .setAudience(Collections.singletonList(&quot;xxx.apps.googleusercontent.com&quot;))\r\n\t\t\t    // Or, if multiple clients access the backend:\r\n\t\t\t    //.setAudience(Arrays.asList(CLIENT_ID_1, CLIENT_ID_2, CLIENT_ID_3))\r\n\t\t\t    .build();\r\n\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n```\r\nand this is the pom.xml i used for the dependencies:\r\n```\r\n\r\n    &lt;project&gt;\r\n\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;com.mycompany.app&lt;/groupId&gt;\r\n  &lt;artifactId&gt;my-app&lt;/artifactId&gt;\r\n  &lt;version&gt;1&lt;/version&gt;\r\n\r\n&lt;dependencies&gt;\r\n   &lt;dependency&gt;\r\n     &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n     &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\r\n     &lt;version&gt;2.1.3&lt;/version&gt;\r\n   &lt;/dependency&gt;\r\n   \r\n  &lt;/dependencies&gt;\r\n\r\n  \r\n&lt;/project&gt;\r\n```\r\n","title":"Error trying to create an instance of GoogleIdTokenVerifier using the Java Google Client Api","body":"<p>i'm trying to integrate the google login function on my website and i'm following the relative google doc for the  server side token validation: <a href=\"https://developers.google.com/identity/gsi/web/guides/verify-google-id-token?hl=en\" rel=\"nofollow noreferrer\">https://developers.google.com/identity/gsi/web/guides/verify-google-id-token?hl=en</a> .</p>\n<p>i've created a simple test app with the GoogleIdTokenVerifier declaration but i'm getting the error:</p>\n<pre><code>java.lang.NoClassDefFoundError: com/google/api/client/json/JsonFactory\n</code></pre>\n<p>what am I doing wrong?</p>\n<p>Thanks.</p>\n<p>this is the test app with the GoogleIdTokenVerifier declaration:</p>\n<pre><code>package test;\n\nimport java.util.Collections;\n\nimport com.google.api.client.googleapis.auth.oauth2.GoogleIdTokenVerifier;\nimport com.google.api.client.http.HttpTransport;\nimport com.google.api.client.http.javanet.NetHttpTransport;\nimport com.google.api.client.json.gson.GsonFactory;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        \n        try {\n            \n            HttpTransport transport = new NetHttpTransport();\n            \n            GoogleIdTokenVerifier verifier = new GoogleIdTokenVerifier.Builder(transport, new GsonFactory())\n                // Specify the CLIENT_ID of the app that accesses the backend:\n                .setAudience(Collections.singletonList(&quot;xxx.apps.googleusercontent.com&quot;))\n                // Or, if multiple clients access the backend:\n                //.setAudience(Arrays.asList(CLIENT_ID_1, CLIENT_ID_2, CLIENT_ID_3))\n                .build();\n\n            \n        } catch (Exception e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n\n    }\n\n}\n</code></pre>\n<p>and this is the pom.xml i used for the dependencies:</p>\n<pre><code>\n    &lt;project&gt;\n\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.mycompany.app&lt;/groupId&gt;\n  &lt;artifactId&gt;my-app&lt;/artifactId&gt;\n  &lt;version&gt;1&lt;/version&gt;\n\n&lt;dependencies&gt;\n   &lt;dependency&gt;\n     &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n     &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\n     &lt;version&gt;2.1.3&lt;/version&gt;\n   &lt;/dependency&gt;\n   \n  &lt;/dependencies&gt;\n\n  \n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","datetime","java-8","java-time"],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":1,"up_vote_count":348,"is_accepted":true,"score":347,"last_activity_date":1397506222,"creation_date":1397506222,"answer_id":23069408,"question_id":23069370,"body_markdown":"`LocalDate` represents just a date, not a DateTime. So &quot;HH:mm:ss&quot; make no sense when formatting a `LocalDate`. Use a `LocalDateTime` instead, assuming you want to represent both a date and time.","title":"Format a date using the new date time API","body":"<p><code>LocalDate</code> represents just a date, not a DateTime. So \"HH:mm:ss\" make no sense when formatting a <code>LocalDate</code>. Use a <code>LocalDateTime</code> instead, assuming you want to represent both a date and time.</p>\n"},{"tags":[],"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1397575997,"creation_date":1397575997,"answer_id":23088257,"question_id":23069370,"body_markdown":"I would like to add following details to the correct answer of @James_D:\r\n\r\n**Background:** Most date-and-time-libraries (`java.util.Calendar` in Java, see also .Net-DateTime or `Date` in JavaScript or `DateTime` in Perl) are based on the concept of a universal all-purpose unique temporal type (in German there is the poetic expression &quot;eierlegende Wollmilchsau&quot;). In this design there cannot be an unsupported field. But the price is high: Many time problems cannot be adequately handled with such an unflexible approach because it is hard to impossible to find a common denominator for all kinds of temporal objects.\r\n\r\n**JSR-310 has choosen another way**, namely to allow different temporal types which consist of type-specific sets of supported built-in fields. The natural consequence is that not every possible field is supported by every type (and users can even define their own specialized fields). It is also possible to [programmatically ask][1] every object of type `TemporalAccessor` for its specific set of supported fields. For `LocalDate` we find:\r\n\r\n    DAY_OF_WEEK \r\n    ALIGNED_DAY_OF_WEEK_IN_MONTH \r\n    ALIGNED_DAY_OF_WEEK_IN_YEAR \r\n    DAY_OF_MONTH \r\n    DAY_OF_YEAR \r\n    EPOCH_DAY \r\n    ALIGNED_WEEK_OF_MONTH \r\n    ALIGNED_WEEK_OF_YEAR \r\n    MONTH_OF_YEAR \r\n    PROLEPTIC_MONTH \r\n    YEAR_OF_ERA \r\n    YEAR \r\n    ERA \r\n\r\nThere is no HOUR_OF_DAY-field which explains the problem of `UnsupportedTemporalTypeException`. And if we look at the JSR-310-[mapping of pattern symbols to fields][2] we see that the symbol H is mapped to unsupported HOUR_OF_DAY:\r\n\r\n    /** Map of letters to fields. */  \r\n    private static final Map&lt;Character, TemporalField&gt; FIELD_MAP = new HashMap&lt;&gt;();\r\n    static {\r\n      FIELD_MAP.put(&#39;G&#39;, ChronoField.ERA);\r\n      FIELD_MAP.put(&#39;y&#39;, ChronoField.YEAR_OF_ERA);\r\n      FIELD_MAP.put(&#39;u&#39;, ChronoField.YEAR);\r\n      FIELD_MAP.put(&#39;Q&#39;, IsoFields.QUARTER_OF_YEAR);\r\n      FIELD_MAP.put(&#39;q&#39;, IsoFields.QUARTER_OF_YEAR);\r\n      FIELD_MAP.put(&#39;M&#39;, ChronoField.MONTH_OF_YEAR);\r\n      FIELD_MAP.put(&#39;L&#39;, ChronoField.MONTH_OF_YEAR);\r\n      FIELD_MAP.put(&#39;D&#39;, ChronoField.DAY_OF_YEAR);\r\n      FIELD_MAP.put(&#39;d&#39;, ChronoField.DAY_OF_MONTH);\r\n      FIELD_MAP.put(&#39;F&#39;, ChronoField.ALIGNED_DAY_OF_WEEK_IN_MONTH);\r\n      FIELD_MAP.put(&#39;E&#39;, ChronoField.DAY_OF_WEEK);\r\n      FIELD_MAP.put(&#39;c&#39;, ChronoField.DAY_OF_WEEK);\r\n      FIELD_MAP.put(&#39;e&#39;, ChronoField.DAY_OF_WEEK);\r\n      FIELD_MAP.put(&#39;a&#39;, ChronoField.AMPM_OF_DAY);\r\n      FIELD_MAP.put(&#39;H&#39;, ChronoField.HOUR_OF_DAY);\r\n      FIELD_MAP.put(&#39;k&#39;, ChronoField.CLOCK_HOUR_OF_DAY);\r\n      FIELD_MAP.put(&#39;K&#39;, ChronoField.HOUR_OF_AMPM);\r\n      FIELD_MAP.put(&#39;h&#39;, ChronoField.CLOCK_HOUR_OF_AMPM);\r\n      FIELD_MAP.put(&#39;m&#39;, ChronoField.MINUTE_OF_HOUR);\r\n      FIELD_MAP.put(&#39;s&#39;, ChronoField.SECOND_OF_MINUTE);\r\n      FIELD_MAP.put(&#39;S&#39;, ChronoField.NANO_OF_SECOND);\r\n      FIELD_MAP.put(&#39;A&#39;, ChronoField.MILLI_OF_DAY);\r\n      FIELD_MAP.put(&#39;n&#39;, ChronoField.NANO_OF_SECOND);\r\n      FIELD_MAP.put(&#39;N&#39;, ChronoField.NANO_OF_DAY);    \r\n    }\r\n\r\nThis field mapping does not mean that the field is supported by the concrete type. Parsing happens in several steps. The field mapping is only the first step. The second step is then parsing to a raw object of type `TemporalAccessor`. And finally parsing delegates to the target type (here: `LocalDate`) and let it decide if it accepts all the field values in parsed intermediate object.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalAccessor.html#isSupported-java.time.temporal.TemporalField-\r\n  [2]: https://github.com/ThreeTen/threetenbp/blob/master/src/main/java/org/threeten/bp/format/DateTimeFormatterBuilder.java","title":"Format a date using the new date time API","body":"<p>I would like to add following details to the correct answer of @James_D:</p>\n\n<p><strong>Background:</strong> Most date-and-time-libraries (<code>java.util.Calendar</code> in Java, see also .Net-DateTime or <code>Date</code> in JavaScript or <code>DateTime</code> in Perl) are based on the concept of a universal all-purpose unique temporal type (in German there is the poetic expression \"eierlegende Wollmilchsau\"). In this design there cannot be an unsupported field. But the price is high: Many time problems cannot be adequately handled with such an unflexible approach because it is hard to impossible to find a common denominator for all kinds of temporal objects.</p>\n\n<p><strong>JSR-310 has choosen another way</strong>, namely to allow different temporal types which consist of type-specific sets of supported built-in fields. The natural consequence is that not every possible field is supported by every type (and users can even define their own specialized fields). It is also possible to <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalAccessor.html#isSupported-java.time.temporal.TemporalField-\">programmatically ask</a> every object of type <code>TemporalAccessor</code> for its specific set of supported fields. For <code>LocalDate</code> we find:</p>\n\n<pre><code>DAY_OF_WEEK \nALIGNED_DAY_OF_WEEK_IN_MONTH \nALIGNED_DAY_OF_WEEK_IN_YEAR \nDAY_OF_MONTH \nDAY_OF_YEAR \nEPOCH_DAY \nALIGNED_WEEK_OF_MONTH \nALIGNED_WEEK_OF_YEAR \nMONTH_OF_YEAR \nPROLEPTIC_MONTH \nYEAR_OF_ERA \nYEAR \nERA \n</code></pre>\n\n<p>There is no HOUR_OF_DAY-field which explains the problem of <code>UnsupportedTemporalTypeException</code>. And if we look at the JSR-310-<a href=\"https://github.com/ThreeTen/threetenbp/blob/master/src/main/java/org/threeten/bp/format/DateTimeFormatterBuilder.java\">mapping of pattern symbols to fields</a> we see that the symbol H is mapped to unsupported HOUR_OF_DAY:</p>\n\n<pre><code>/** Map of letters to fields. */  \nprivate static final Map&lt;Character, TemporalField&gt; FIELD_MAP = new HashMap&lt;&gt;();\nstatic {\n  FIELD_MAP.put('G', ChronoField.ERA);\n  FIELD_MAP.put('y', ChronoField.YEAR_OF_ERA);\n  FIELD_MAP.put('u', ChronoField.YEAR);\n  FIELD_MAP.put('Q', IsoFields.QUARTER_OF_YEAR);\n  FIELD_MAP.put('q', IsoFields.QUARTER_OF_YEAR);\n  FIELD_MAP.put('M', ChronoField.MONTH_OF_YEAR);\n  FIELD_MAP.put('L', ChronoField.MONTH_OF_YEAR);\n  FIELD_MAP.put('D', ChronoField.DAY_OF_YEAR);\n  FIELD_MAP.put('d', ChronoField.DAY_OF_MONTH);\n  FIELD_MAP.put('F', ChronoField.ALIGNED_DAY_OF_WEEK_IN_MONTH);\n  FIELD_MAP.put('E', ChronoField.DAY_OF_WEEK);\n  FIELD_MAP.put('c', ChronoField.DAY_OF_WEEK);\n  FIELD_MAP.put('e', ChronoField.DAY_OF_WEEK);\n  FIELD_MAP.put('a', ChronoField.AMPM_OF_DAY);\n  FIELD_MAP.put('H', ChronoField.HOUR_OF_DAY);\n  FIELD_MAP.put('k', ChronoField.CLOCK_HOUR_OF_DAY);\n  FIELD_MAP.put('K', ChronoField.HOUR_OF_AMPM);\n  FIELD_MAP.put('h', ChronoField.CLOCK_HOUR_OF_AMPM);\n  FIELD_MAP.put('m', ChronoField.MINUTE_OF_HOUR);\n  FIELD_MAP.put('s', ChronoField.SECOND_OF_MINUTE);\n  FIELD_MAP.put('S', ChronoField.NANO_OF_SECOND);\n  FIELD_MAP.put('A', ChronoField.MILLI_OF_DAY);\n  FIELD_MAP.put('n', ChronoField.NANO_OF_SECOND);\n  FIELD_MAP.put('N', ChronoField.NANO_OF_DAY);    \n}\n</code></pre>\n\n<p>This field mapping does not mean that the field is supported by the concrete type. Parsing happens in several steps. The field mapping is only the first step. The second step is then parsing to a raw object of type <code>TemporalAccessor</code>. And finally parsing delegates to the target type (here: <code>LocalDate</code>) and let it decide if it accepts all the field values in parsed intermediate object.</p>\n"},{"tags":[],"owner":{"account_id":940012,"reputation":21855,"user_id":968244,"accept_rate":58,"display_name":"isapir"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1555362270,"creation_date":1514159642,"answer_id":47964769,"question_id":23069370,"body_markdown":"The right class for me was [`ZonedDateTime`][1] which includes both Time and Time Zone.\r\n\r\n`LocalDate` doesn&#39;t have the Time information so you get a `UnsupportedTemporalTypeException: Unsupported field: HourOfDay`.\r\n\r\nYou can use `LocalDateTime` but then you don&#39;t have the Time Zone information so if you try to access that (even by using one of the predefined formatters) you will get a `UnsupportedTemporalTypeException: Unsupported field: OffsetSeconds`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html","title":"Format a date using the new date time API","body":"<p>The right class for me was <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"noreferrer\"><code>ZonedDateTime</code></a> which includes both Time and Time Zone.</p>\n\n<p><code>LocalDate</code> doesn't have the Time information so you get a <code>UnsupportedTemporalTypeException: Unsupported field: HourOfDay</code>.</p>\n\n<p>You can use <code>LocalDateTime</code> but then you don't have the Time Zone information so if you try to access that (even by using one of the predefined formatters) you will get a <code>UnsupportedTemporalTypeException: Unsupported field: OffsetSeconds</code>.</p>\n"},{"tags":[],"owner":{"account_id":1561124,"reputation":2087,"user_id":1450967,"display_name":"ggrandes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649777897,"creation_date":1649777897,"answer_id":71845518,"question_id":23069370,"body_markdown":"I had a similar problem with this code:\r\n\r\n```java\r\nDateTimeFormatter.RFC_1123_DATE_TIME.format(new Date().toInstant())\r\n```\r\n\r\n&gt; java.time.temporal.UnsupportedTemporalTypeException: Unsupported field: DayOfMonth\r\n\r\nI solved it this way:\r\n\r\n```java\r\nDateTimeFormatter.RFC_1123_DATE_TIME.format(\r\n    ZonedDateTime.ofInstant(new Date().toInstant(), ZoneId.systemDefault()))\r\n```","title":"Format a date using the new date time API","body":"<p>I had a similar problem with this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DateTimeFormatter.RFC_1123_DATE_TIME.format(new Date().toInstant())\n</code></pre>\n<blockquote>\n<p>java.time.temporal.UnsupportedTemporalTypeException: Unsupported field: DayOfMonth</p>\n</blockquote>\n<p>I solved it this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DateTimeFormatter.RFC_1123_DATE_TIME.format(\n    ZonedDateTime.ofInstant(new Date().toInstant(), ZoneId.systemDefault()))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15675632,"reputation":675,"user_id":11310951,"display_name":"Rvb84"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664292718,"creation_date":1664292718,"answer_id":73870189,"question_id":23069370,"body_markdown":"Kotlin 2022\r\n\r\n    fun Long.formatEpochMs(): String {\r\n        val date = ZonedDateTime.ofInstant(Instant.ofEpochMilli(this), ZoneId.systemDefault())\r\n        val pattern = &quot;d, MMMM yyyy&quot;\r\n        return runCatching { DateTimeFormatter.ofPattern(pattern, Locale.ENGLISH).format(date) }\r\n            .onFailure { Timber.e(it) }\r\n            .getOrNull()\r\n            .orEmpty()\r\n    }\r\n\r\n","title":"Format a date using the new date time API","body":"<p>Kotlin 2022</p>\n<pre><code>fun Long.formatEpochMs(): String {\n    val date = ZonedDateTime.ofInstant(Instant.ofEpochMilli(this), ZoneId.systemDefault())\n    val pattern = &quot;d, MMMM yyyy&quot;\n    return runCatching { DateTimeFormatter.ofPattern(pattern, Locale.ENGLISH).format(date) }\n        .onFailure { Timber.e(it) }\n        .getOrNull()\n        .orEmpty()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25583966,"reputation":1,"user_id":19361989,"display_name":"sp_matrix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682266194,"creation_date":1681960064,"answer_id":76060251,"question_id":23069370,"body_markdown":"**In Scala:**\r\n\r\n    import org.joda.time.LocalDateTime\r\n    import org.joda.time.format.DateTimeFormat\r\n                        \r\n    LocalDateTime.now.toString(DateTimeFormat.forPattern(&quot;yyyyMMddHHmmss&quot;))","title":"Format a date using the new date time API","body":"<p><strong>In Scala:</strong></p>\n<pre><code>import org.joda.time.LocalDateTime\nimport org.joda.time.format.DateTimeFormat\n                    \nLocalDateTime.now.toString(DateTimeFormat.forPattern(&quot;yyyyMMddHHmmss&quot;))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4904233,"reputation":248,"user_id":3951415,"display_name":"Arash moradabadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688220952,"creation_date":1688220952,"answer_id":76595078,"question_id":23069370,"body_markdown":"This exception also happens when the using pattern for a LocalDate object is not correct. For example the pattern **yyyy-mm-dd** which has to be **yyyy-MM-dd** would result in **Unsupported field: HourOfDay** exception.","title":"Format a date using the new date time API","body":"<p>This exception also happens when the using pattern for a LocalDate object is not correct. For example the pattern <strong>yyyy-mm-dd</strong> which has to be <strong>yyyy-MM-dd</strong> would result in <strong>Unsupported field: HourOfDay</strong> exception.</p>\n"}],"owner":{"account_id":2706912,"reputation":15827,"user_id":2336315,"accept_rate":90,"display_name":"user2336315"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130030,"favorite_count":0,"down_vote_count":0,"up_vote_count":184,"accepted_answer_id":23069408,"answer_count":7,"score":184,"last_activity_date":1688220952,"creation_date":1397506110,"question_id":23069370,"body_markdown":"I was playing with the new date time API but when running this:\r\n\r\n   \r\n\r\n    public class Test {\t        \r\n        public static void main(String[] args){\r\n            String dateFormatted = LocalDate.now()\r\n                                            .format(DateTimeFormatter\r\n                                                  .ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;));\r\n        \tSystem.out.println(dateFormatted);\r\n        }\r\n    }\r\n\r\nIt throws:\r\n\r\n    Exception in thread &quot;main&quot; java.time.temporal.UnsupportedTemporalTypeException: Unsupported field: HourOfDay\r\n    \tat java.time.LocalDate.get0(LocalDate.java:680)\r\n    \tat java.time.LocalDate.getLong(LocalDate.java:659)\r\n    \tat java.time.format.DateTimePrintContext.getValue(DateTimePrintContext.java:298)\r\n    \tat java.time.format.DateTimeFormatterBuilder$NumberPrinterParser.format(DateTimeFormatterBuilder.java:2543)\r\n    \tat java.time.format.DateTimeFormatterBuilder$CompositePrinterParser.format(DateTimeFormatterBuilder.java:2182)\r\n    \tat java.time.format.DateTimeFormatter.formatTo(DateTimeFormatter.java:1745)\r\n    \tat java.time.format.DateTimeFormatter.format(DateTimeFormatter.java:1719)\r\n    \tat java.time.LocalDate.format(LocalDate.java:1685)\r\n    \tat Test.main(Test.java:23)\r\n\r\nWhen looking at the source code of the LocalDate class, I see:\r\n\r\n \r\n\r\n      private int get0(TemporalField field) {\r\n            switch ((ChronoField) field) {\r\n                case DAY_OF_WEEK: return getDayOfWeek().getValue();\r\n                case ALIGNED_DAY_OF_WEEK_IN_MONTH: return ((day - 1) % 7) + 1;\r\n                case ALIGNED_DAY_OF_WEEK_IN_YEAR: return ((getDayOfYear() - 1) % 7) + 1;\r\n                case DAY_OF_MONTH: return day;\r\n                case DAY_OF_YEAR: return getDayOfYear();\r\n                case EPOCH_DAY: throw new UnsupportedTemporalTypeException(&quot;Invalid field &#39;EpochDay&#39; for get() method, use getLong() instead&quot;);\r\n                case ALIGNED_WEEK_OF_MONTH: return ((day - 1) / 7) + 1;\r\n                case ALIGNED_WEEK_OF_YEAR: return ((getDayOfYear() - 1) / 7) + 1;\r\n                case MONTH_OF_YEAR: return month;\r\n                case PROLEPTIC_MONTH: throw new UnsupportedTemporalTypeException(&quot;Invalid field &#39;ProlepticMonth&#39; for get() method, use getLong() instead&quot;);\r\n                case YEAR_OF_ERA: return (year &gt;= 1 ? year : 1 - year);\r\n                case YEAR: return year;\r\n                case ERA: return (year &gt;= 1 ? 1 : 0);\r\n            }\r\n            throw new UnsupportedTemporalTypeException(&quot;Unsupported field: &quot; + field);\r\n        }\r\n\r\nAs it described in the doc:\r\n\r\n&gt; This method will create a formatter based on a simple pattern of\r\n&gt; letters and symbols as described in the class documentation.\r\n\r\nAnd all these letters are [defined][1]. \r\n\r\nSo why `DateTimeFormatter.ofPattern` doesn&#39;t allow us to use some pattern letters? \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#patterns","title":"Format a date using the new date time API","body":"<p>I was playing with the new date time API but when running this:</p>\n\n<pre><code>public class Test {         \n    public static void main(String[] args){\n        String dateFormatted = LocalDate.now()\n                                        .format(DateTimeFormatter\n                                              .ofPattern(\"yyyy-MM-dd HH:mm:ss\"));\n        System.out.println(dateFormatted);\n    }\n}\n</code></pre>\n\n<p>It throws:</p>\n\n<pre><code>Exception in thread \"main\" java.time.temporal.UnsupportedTemporalTypeException: Unsupported field: HourOfDay\n    at java.time.LocalDate.get0(LocalDate.java:680)\n    at java.time.LocalDate.getLong(LocalDate.java:659)\n    at java.time.format.DateTimePrintContext.getValue(DateTimePrintContext.java:298)\n    at java.time.format.DateTimeFormatterBuilder$NumberPrinterParser.format(DateTimeFormatterBuilder.java:2543)\n    at java.time.format.DateTimeFormatterBuilder$CompositePrinterParser.format(DateTimeFormatterBuilder.java:2182)\n    at java.time.format.DateTimeFormatter.formatTo(DateTimeFormatter.java:1745)\n    at java.time.format.DateTimeFormatter.format(DateTimeFormatter.java:1719)\n    at java.time.LocalDate.format(LocalDate.java:1685)\n    at Test.main(Test.java:23)\n</code></pre>\n\n<p>When looking at the source code of the LocalDate class, I see:</p>\n\n<pre><code>  private int get0(TemporalField field) {\n        switch ((ChronoField) field) {\n            case DAY_OF_WEEK: return getDayOfWeek().getValue();\n            case ALIGNED_DAY_OF_WEEK_IN_MONTH: return ((day - 1) % 7) + 1;\n            case ALIGNED_DAY_OF_WEEK_IN_YEAR: return ((getDayOfYear() - 1) % 7) + 1;\n            case DAY_OF_MONTH: return day;\n            case DAY_OF_YEAR: return getDayOfYear();\n            case EPOCH_DAY: throw new UnsupportedTemporalTypeException(\"Invalid field 'EpochDay' for get() method, use getLong() instead\");\n            case ALIGNED_WEEK_OF_MONTH: return ((day - 1) / 7) + 1;\n            case ALIGNED_WEEK_OF_YEAR: return ((getDayOfYear() - 1) / 7) + 1;\n            case MONTH_OF_YEAR: return month;\n            case PROLEPTIC_MONTH: throw new UnsupportedTemporalTypeException(\"Invalid field 'ProlepticMonth' for get() method, use getLong() instead\");\n            case YEAR_OF_ERA: return (year &gt;= 1 ? year : 1 - year);\n            case YEAR: return year;\n            case ERA: return (year &gt;= 1 ? 1 : 0);\n        }\n        throw new UnsupportedTemporalTypeException(\"Unsupported field: \" + field);\n    }\n</code></pre>\n\n<p>As it described in the doc:</p>\n\n<blockquote>\n  <p>This method will create a formatter based on a simple pattern of\n  letters and symbols as described in the class documentation.</p>\n</blockquote>\n\n<p>And all these letters are <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#patterns\">defined</a>. </p>\n\n<p>So why <code>DateTimeFormatter.ofPattern</code> doesn't allow us to use some pattern letters? </p>\n"},{"tags":["java","multithreading","file","junit","log4j2"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1688095071,"post_id":76583783,"comment_id":135030872,"body_markdown":"Do it from outside the application tested after it stopped?","body":"Do it from outside the application tested after it stopped?"},{"owner":{"account_id":398051,"reputation":770,"user_id":762522,"accept_rate":92,"display_name":"Erric"},"score":0,"creation_date":1688161299,"post_id":76583783,"comment_id":135041974,"body_markdown":"I would, but there are other constraints that prevent me from doing that.","body":"I would, but there are other constraints that prevent me from doing that."}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688220696,"creation_date":1688220696,"answer_id":76595057,"question_id":76583783,"body_markdown":"I&#39;m not sure that log4j2 supports that scenario. One option is to [completely shutdown log4j2 in code][1]:\r\n``` lang-java\r\n// import org.apache.logging.log4j.core.LoggerContext;\r\n// import org.apache.logging.log4j.core.config.Configurator;\r\n     \r\n// get the current context\r\nLoggerContext context = (LoggerContext) LogManager.getContext();\r\nConfigurator.shutdown(context);\r\n```\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/log4j-2.4/faq.html#shutdown","title":"How to safely flush and stop a FileAppender in log4j2?","body":"<p>I'm not sure that log4j2 supports that scenario. One option is to <a href=\"https://logging.apache.org/log4j/log4j-2.4/faq.html#shutdown\" rel=\"nofollow noreferrer\">completely shutdown log4j2 in code</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// import org.apache.logging.log4j.core.LoggerContext;\n// import org.apache.logging.log4j.core.config.Configurator;\n     \n// get the current context\nLoggerContext context = (LoggerContext) LogManager.getContext();\nConfigurator.shutdown(context);\n</code></pre>\n"}],"owner":{"account_id":398051,"reputation":770,"user_id":762522,"accept_rate":92,"display_name":"Erric"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688220696,"creation_date":1688063600,"question_id":76583783,"body_markdown":"I have a testing framework which uses a RoutingAppender to route each test&#39;s logs to its own file. \r\n\r\nThe configuration looks like this:\r\n\r\n```\r\n    Routing:\r\n      - Name: TestCaseRouted\r\n        Routes:\r\n          Pattern: &quot;${ctx:TestCaseId}&quot;\r\n          Route:\r\n            - File:\r\n                Name: TestCaseLogs\r\n                FileName: &quot;${ctx:TestCaseId}.log&quot;\r\n                Append: false\r\n            - key: &quot;${ctx:TestCaseId}&quot;\r\n```\r\n\r\nAt the end of each test, I use `FileUtils.readFileToByteArray` from commons IO to fetch the bytes and publish it to a reporter. \r\n\r\n```\r\n    // Junit5 extension\r\n    public void afterEach(ExtensionContext context) {\r\n        deleteCurrentLogAppender();\r\n        ThreadContext.clearMap();\r\n        final File logFile = new File(getTestCaseId() + &quot;.log&quot;);\r\n        if (logFile.exists()) {\r\n            byte[] bytes = FileUtils.readFileToByteArray(logFile)); \r\n            // Publish bytes to reporter\r\n        }\r\n    }\r\n\r\n    private void deleteCurrentLogAppender() {\r\n        final LoggerContext loggerContext = (LoggerContext) LogManager.getContext(false);\r\n        RoutingAppender routingAppender = loggerContext.getConfiguration().getAppender(&quot;TestCaseRouted&quot;);\r\n        routingAppender.deleteAppender(getTestCaseId());\r\n    }\r\n\r\n```\r\nI am facing issues here since the FileAppender seems to truncate the file to keep writing unflushed logs during or after it has been deleted (which seems to call Appender.stop() internally) and the file is being read to the byte array.\r\n\r\nIn cases where the write happens midway, I get the below exception from `FileUtils.readFileToByteArray`:\r\n`IOException: Unexpected read size, current: 4096, expected: 6084`\r\n\r\nIn other cases, I would have an incomplete log in the published report.\r\n\r\n**How do I completely flush and stop the FileAppender from mutating the file before I can proceed from reading the log file?**","title":"How to safely flush and stop a FileAppender in log4j2?","body":"<p>I have a testing framework which uses a RoutingAppender to route each test's logs to its own file.</p>\n<p>The configuration looks like this:</p>\n<pre><code>    Routing:\n      - Name: TestCaseRouted\n        Routes:\n          Pattern: &quot;${ctx:TestCaseId}&quot;\n          Route:\n            - File:\n                Name: TestCaseLogs\n                FileName: &quot;${ctx:TestCaseId}.log&quot;\n                Append: false\n            - key: &quot;${ctx:TestCaseId}&quot;\n</code></pre>\n<p>At the end of each test, I use <code>FileUtils.readFileToByteArray</code> from commons IO to fetch the bytes and publish it to a reporter.</p>\n<pre><code>    // Junit5 extension\n    public void afterEach(ExtensionContext context) {\n        deleteCurrentLogAppender();\n        ThreadContext.clearMap();\n        final File logFile = new File(getTestCaseId() + &quot;.log&quot;);\n        if (logFile.exists()) {\n            byte[] bytes = FileUtils.readFileToByteArray(logFile)); \n            // Publish bytes to reporter\n        }\n    }\n\n    private void deleteCurrentLogAppender() {\n        final LoggerContext loggerContext = (LoggerContext) LogManager.getContext(false);\n        RoutingAppender routingAppender = loggerContext.getConfiguration().getAppender(&quot;TestCaseRouted&quot;);\n        routingAppender.deleteAppender(getTestCaseId());\n    }\n\n</code></pre>\n<p>I am facing issues here since the FileAppender seems to truncate the file to keep writing unflushed logs during or after it has been deleted (which seems to call Appender.stop() internally) and the file is being read to the byte array.</p>\n<p>In cases where the write happens midway, I get the below exception from <code>FileUtils.readFileToByteArray</code>:\n<code>IOException: Unexpected read size, current: 4096, expected: 6084</code></p>\n<p>In other cases, I would have an incomplete log in the published report.</p>\n<p><strong>How do I completely flush and stop the FileAppender from mutating the file before I can proceed from reading the log file?</strong></p>\n"},{"tags":["java","functional-programming","junit5","callable"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1688258036,"post_id":76595035,"comment_id":135049852,"body_markdown":"Does Item have any public functions that actually use the BiFunction?  Test those and only those.  You should not be testing the lambda passed to the constructor, only the behavior of the result.","body":"Does Item have any public functions that actually use the BiFunction?  Test those and only those.  You should not be testing the lambda passed to the constructor, only the behavior of the result."}],"owner":{"account_id":6815463,"reputation":791,"user_id":5244324,"accept_rate":21,"display_name":"Krzysztof Michalski"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688220350,"creation_date":1688220350,"question_id":76595035,"body_markdown":"I&#39;d like to write a test for verification if static method receiving correct callable as an argument. \r\nLet&#39;s say I have 2 classes:\r\n\r\nEmployee\r\n\r\n    public class Employee {\r\n        public static Item getEmployeeItem() {\r\n            return new Item((a, b) -&gt; {\r\n                return a * b;\r\n            });\r\n        }\r\n    }\r\n\r\n\r\nand Item\r\n\r\n    public class Item {\r\n        BiFunction&lt;Integer, Integer, Integer&gt; behaviour;\r\n        Item(BiFunction&lt;Integer, Integer, Integer&gt; biFunction) {\r\n            this.behaviour = biFunction;\r\n        }\r\n\r\n}\r\n\r\nItem has constructor with BiFunction. I&#39;d like to to test with using junit5, Mockito, PowerMock or maybe other utills, behaviour when in case when I call \r\n\r\n    Item item = Employee.getEmployeeItem();\r\n\r\nthen appriopriate BiFunction has been delivered. How can I write such kind of test with junit5? Maybe should I use somehow ArgumentCaptor? \r\nCan someone deliver me example?\r\n\r\n\r\nThat&#39;s actually simpler example of more advanced case which I need to test in unit way in my job:\r\n\r\n    @NoArgsConstructor(access = AccessLevel.PRIVATE)\r\n    public class EthernetExtractFilterFrameParsingNodeDefinitions {\r\n    \r\n        public static ExtractFilterTreeNodeDefinition&lt;EthernetExtractFilter, EthernetDataTuple, IpProtocol, Option&lt;Vector&lt;SingleDataSet&gt;&gt;&gt; getIpProtocolNodeDefinition() {\r\n            return new ExtractFilterTreeNodeDefinition&lt;&gt;(\r\n                    ethernetExtractFilter -&gt; ethernetExtractFilter.networkLayerPduFilter().ipProtocolFilter().toValueFilter(),\r\n                    getNodeBehaviour(ethernetDataTuple -&gt; ethernetDataTuple.networkLayerPdu().getIpProtocol())\r\n            );\r\n        }\r\n}\r\n\r\nI have to check here if `ExtractFilterTreeNodeDefinition` was created with appropriate Functions as parameters when I call `getIpProtocolNodeDefinition()` statick method.\r\n\r\nI&#39;d like to be sure that first argument is correct function, correctly map extractFilter to valueFilter:\r\n\r\n    ethernetExtractFilter -&gt; ethernetExtractFilter.networkLayerPduFilter().ipProtocolFilter().toValueFilter()\r\n\r\n\r\n\r\nsecond one as well\r\nHow to approach to that problem? \r\nI would be grateful for suggestions how to achieve that.\r\n\r\n\r\n","title":"Testing static java methods with arguments as functions","body":"<p>I'd like to write a test for verification if static method receiving correct callable as an argument.\nLet's say I have 2 classes:</p>\n<p>Employee</p>\n<pre><code>public class Employee {\n    public static Item getEmployeeItem() {\n        return new Item((a, b) -&gt; {\n            return a * b;\n        });\n    }\n}\n</code></pre>\n<p>and Item</p>\n<pre><code>public class Item {\n    BiFunction&lt;Integer, Integer, Integer&gt; behaviour;\n    Item(BiFunction&lt;Integer, Integer, Integer&gt; biFunction) {\n        this.behaviour = biFunction;\n    }\n</code></pre>\n<p>}</p>\n<p>Item has constructor with BiFunction. I'd like to to test with using junit5, Mockito, PowerMock or maybe other utills, behaviour when in case when I call</p>\n<pre><code>Item item = Employee.getEmployeeItem();\n</code></pre>\n<p>then appriopriate BiFunction has been delivered. How can I write such kind of test with junit5? Maybe should I use somehow ArgumentCaptor?\nCan someone deliver me example?</p>\n<p>That's actually simpler example of more advanced case which I need to test in unit way in my job:</p>\n<pre><code>@NoArgsConstructor(access = AccessLevel.PRIVATE)\npublic class EthernetExtractFilterFrameParsingNodeDefinitions {\n\n    public static ExtractFilterTreeNodeDefinition&lt;EthernetExtractFilter, EthernetDataTuple, IpProtocol, Option&lt;Vector&lt;SingleDataSet&gt;&gt;&gt; getIpProtocolNodeDefinition() {\n        return new ExtractFilterTreeNodeDefinition&lt;&gt;(\n                ethernetExtractFilter -&gt; ethernetExtractFilter.networkLayerPduFilter().ipProtocolFilter().toValueFilter(),\n                getNodeBehaviour(ethernetDataTuple -&gt; ethernetDataTuple.networkLayerPdu().getIpProtocol())\n        );\n    }\n</code></pre>\n<p>}</p>\n<p>I have to check here if <code>ExtractFilterTreeNodeDefinition</code> was created with appropriate Functions as parameters when I call <code>getIpProtocolNodeDefinition()</code> statick method.</p>\n<p>I'd like to be sure that first argument is correct function, correctly map extractFilter to valueFilter:</p>\n<pre><code>ethernetExtractFilter -&gt; ethernetExtractFilter.networkLayerPduFilter().ipProtocolFilter().toValueFilter()\n</code></pre>\n<p>second one as well\nHow to approach to that problem?\nI would be grateful for suggestions how to achieve that.</p>\n"},{"tags":["java","android","flutter","kotlin","apk"],"comments":[{"owner":{"account_id":17148814,"reputation":174,"user_id":12411212,"display_name":"Abu Sayed"},"score":0,"creation_date":1698924474,"post_id":76595015,"comment_id":136467324,"body_markdown":"Just change the  targetSdkVersion 34 to 32 and make APK.Hope it will work","body":"Just change the  targetSdkVersion 34 to 32 and make APK.Hope it will work"}],"owner":{"account_id":16968776,"reputation":35,"user_id":12495516,"display_name":"Hossein Shahbodaghkhan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":770,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1688220091,"creation_date":1688220091,"question_id":76595015,"body_markdown":"I have a flutter project and I build the apk for installation, but I can&#39;t install it on android 13 but it&#39;s installed and work perfectly on android 14.\r\n\r\nI also have enough storage on my device and also enabled install from unknown sources.\r\nWhen I try to install it on android 13 it simply says app not installed.\r\n\r\nHere is my `app/build.gradle`:\r\n\r\n```\r\ndef localProperties = new Properties()\r\ndef localPropertiesFile = rootProject.file(&#39;local.properties&#39;)\r\nif (localPropertiesFile.exists()) {\r\n    localPropertiesFile.withReader(&#39;UTF-8&#39;) { reader -&gt;\r\n        localProperties.load(reader)\r\n    }\r\n}\r\n\r\ndef flutterRoot = localProperties.getProperty(&#39;flutter.sdk&#39;)\r\nif (flutterRoot == null) {\r\n    throw new GradleException(&quot;Flutter SDK not found. Define location with flutter.sdk in the local.properties file.&quot;)\r\n}\r\n\r\ndef flutterVersionCode = localProperties.getProperty(&#39;flutter.versionCode&#39;)\r\nif (flutterVersionCode == null) {\r\n    flutterVersionCode = &#39;1&#39;\r\n}\r\n\r\ndef flutterVersionName = localProperties.getProperty(&#39;flutter.versionName&#39;)\r\nif (flutterVersionName == null) {\r\n    flutterVersionName = &#39;1.0&#39;\r\n}\r\n\r\napply plugin: &#39;com.android.application&#39;\r\napply plugin: &#39;kotlin-android&#39;\r\napply from: &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;\r\n\r\nandroid {\r\n    compileSdkVersion 34\r\n\r\n    sourceSets {\r\n        main.java.srcDirs += &#39;src/main/kotlin&#39;\r\n    }\r\n\r\n    lintOptions {\r\n        disable &#39;InvalidPackage&#39;\r\n    }\r\n\r\n    aaptOptions {\r\n        cruncherEnabled = false\r\n    }\r\n\r\n    defaultConfig {\r\n        // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\r\n        applicationId &quot;com.example.vpn_app&quot;\r\n        minSdkVersion 16\r\n        targetSdkVersion 34\r\n        versionCode flutterVersionCode.toInteger()\r\n        versionName flutterVersionName\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            // TODO: Add your own signing config for the release build.\r\n            // Signing with the debug keys for now, so `flutter run --release` works.\r\n            signingConfig signingConfigs.debug\r\n        }\r\n    }\r\n}\r\n\r\nflutter {\r\n    source &#39;../..&#39;\r\n}\r\n\r\ndependencies {\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    androidTestImplementation &#39;androidx.test:runner:1.1.1&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.1.1&#39;\r\n}\r\n\r\n```\r\n\r\nand also here is my `mani/AndroidManifest.xml`:\r\n\r\n```\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.vpn_app&quot;&gt;\r\n    &lt;!-- io.flutter.app.FlutterApplication is an android.app.Application that\r\n         calls FlutterMain.startInitialization(this); in its onCreate method.\r\n         In most cases you can leave this as-is, but you if you want to provide\r\n         additional functionality it is fine to subclass or reimplement\r\n         FlutterApplication and put your custom class here. --&gt;\r\n    &lt;application\r\n        android:name=&quot;${applicationName}&quot;\r\n        android:label=&quot;vpn_app&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:launchMode=&quot;singleTop&quot;\r\n            android:theme=&quot;@style/LaunchTheme&quot;\r\n            android:configChanges=&quot;orientation|keyboardHidden|keyboard|screenSize|smallestScreenSize|locale|layoutDirection|fontScale|screenLayout|density|uiMode&quot;\r\n            android:hardwareAccelerated=&quot;true&quot;\r\n            android:windowSoftInputMode=&quot;adjustResize&quot;&gt;\r\n            &lt;!-- Specify that the launch screen should continue being displayed --&gt;\r\n            &lt;!-- until Flutter renders its first frame. --&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;io.flutter.embedding.android.SplashScreenDrawable&quot;\r\n                android:resource=&quot;@drawable/launch_background&quot; /&gt;\r\n            &lt;!-- Specifies an Android theme to apply to this Activity as soon as\r\n                 the Android process has started. This theme is visible to the user\r\n                 while the Flutter UI initializes. After that, this theme continues\r\n                 to determine the Window background behind the Flutter UI. --&gt;\r\n            &lt;meta-data\r\n              android:name=&quot;io.flutter.embedding.android.NormalTheme&quot;\r\n              android:resource=&quot;@style/NormalTheme&quot;\r\n              /&gt;\r\n            &lt;!-- Displays an Android View that continues showing the launch screen\r\n                 Drawable until Flutter paints its first frame, then this splash\r\n                 screen fades out. A splash screen is useful to avoid any visual\r\n                 gap between the end of Android&#39;s launch screen and the painting of\r\n                 Flutter&#39;s first frame. --&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;!-- Don&#39;t delete the meta-data below.\r\n             This is used by the Flutter tool to generate GeneratedPluginRegistrant.java --&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;flutterEmbedding&quot;\r\n            android:value=&quot;2&quot; /&gt;\r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n\r\n```\r\n\r\nAny help or advise is appreciated.","title":"Flutter APK does not install on android 13","body":"<p>I have a flutter project and I build the apk for installation, but I can't install it on android 13 but it's installed and work perfectly on android 14.</p>\n<p>I also have enough storage on my device and also enabled install from unknown sources.\nWhen I try to install it on android 13 it simply says app not installed.</p>\n<p>Here is my <code>app/build.gradle</code>:</p>\n<pre><code>def localProperties = new Properties()\ndef localPropertiesFile = rootProject.file('local.properties')\nif (localPropertiesFile.exists()) {\n    localPropertiesFile.withReader('UTF-8') { reader -&gt;\n        localProperties.load(reader)\n    }\n}\n\ndef flutterRoot = localProperties.getProperty('flutter.sdk')\nif (flutterRoot == null) {\n    throw new GradleException(&quot;Flutter SDK not found. Define location with flutter.sdk in the local.properties file.&quot;)\n}\n\ndef flutterVersionCode = localProperties.getProperty('flutter.versionCode')\nif (flutterVersionCode == null) {\n    flutterVersionCode = '1'\n}\n\ndef flutterVersionName = localProperties.getProperty('flutter.versionName')\nif (flutterVersionName == null) {\n    flutterVersionName = '1.0'\n}\n\napply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply from: &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;\n\nandroid {\n    compileSdkVersion 34\n\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n\n    lintOptions {\n        disable 'InvalidPackage'\n    }\n\n    aaptOptions {\n        cruncherEnabled = false\n    }\n\n    defaultConfig {\n        // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\n        applicationId &quot;com.example.vpn_app&quot;\n        minSdkVersion 16\n        targetSdkVersion 34\n        versionCode flutterVersionCode.toInteger()\n        versionName flutterVersionName\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            // TODO: Add your own signing config for the release build.\n            // Signing with the debug keys for now, so `flutter run --release` works.\n            signingConfig signingConfigs.debug\n        }\n    }\n}\n\nflutter {\n    source '../..'\n}\n\ndependencies {\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test:runner:1.1.1'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.1.1'\n}\n\n</code></pre>\n<p>and also here is my <code>mani/AndroidManifest.xml</code>:</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.vpn_app&quot;&gt;\n    &lt;!-- io.flutter.app.FlutterApplication is an android.app.Application that\n         calls FlutterMain.startInitialization(this); in its onCreate method.\n         In most cases you can leave this as-is, but you if you want to provide\n         additional functionality it is fine to subclass or reimplement\n         FlutterApplication and put your custom class here. --&gt;\n    &lt;application\n        android:name=&quot;${applicationName}&quot;\n        android:label=&quot;vpn_app&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;\n            android:launchMode=&quot;singleTop&quot;\n            android:theme=&quot;@style/LaunchTheme&quot;\n            android:configChanges=&quot;orientation|keyboardHidden|keyboard|screenSize|smallestScreenSize|locale|layoutDirection|fontScale|screenLayout|density|uiMode&quot;\n            android:hardwareAccelerated=&quot;true&quot;\n            android:windowSoftInputMode=&quot;adjustResize&quot;&gt;\n            &lt;!-- Specify that the launch screen should continue being displayed --&gt;\n            &lt;!-- until Flutter renders its first frame. --&gt;\n            &lt;meta-data\n                android:name=&quot;io.flutter.embedding.android.SplashScreenDrawable&quot;\n                android:resource=&quot;@drawable/launch_background&quot; /&gt;\n            &lt;!-- Specifies an Android theme to apply to this Activity as soon as\n                 the Android process has started. This theme is visible to the user\n                 while the Flutter UI initializes. After that, this theme continues\n                 to determine the Window background behind the Flutter UI. --&gt;\n            &lt;meta-data\n              android:name=&quot;io.flutter.embedding.android.NormalTheme&quot;\n              android:resource=&quot;@style/NormalTheme&quot;\n              /&gt;\n            &lt;!-- Displays an Android View that continues showing the launch screen\n                 Drawable until Flutter paints its first frame, then this splash\n                 screen fades out. A splash screen is useful to avoid any visual\n                 gap between the end of Android's launch screen and the painting of\n                 Flutter's first frame. --&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;!-- Don't delete the meta-data below.\n             This is used by the Flutter tool to generate GeneratedPluginRegistrant.java --&gt;\n        &lt;meta-data\n            android:name=&quot;flutterEmbedding&quot;\n            android:value=&quot;2&quot; /&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n\n</code></pre>\n<p>Any help or advise is appreciated.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688219543,"creation_date":1688219543,"answer_id":76594979,"question_id":76594937,"body_markdown":"The `plusMonths()`, `plusWeeks()` are meant to be generic for any calendar system, but the specific behavior of adding months, weeks, etc. can really vary between different calendars.\r\n\r\nAll these date classes use `ChronoLocalDate` interface, which has a method called `plus(long, TemporalUnit)` - and this is the best way of adding any amount of any unit of time to a date. The cool part is, each date class gets to decide how this method works for them, so if you want to add a month to a HijrahDate, you can do it like this, and be sure it&#39;s working:\r\n```java\r\nHijrahDate date = HijrahDate.now();\r\ndate = date.plus(1, ChronoUnit.MONTHS);\r\n```\r\nRead more: https://docs.oracle.com/javase/8/docs/api/java/time/chrono/ChronoLocalDate.html","title":"Why plusMonths, plusWeeks and etc are not public in java.time.chrono classes","body":"<p>The <code>plusMonths()</code>, <code>plusWeeks()</code> are meant to be generic for any calendar system, but the specific behavior of adding months, weeks, etc. can really vary between different calendars.</p>\n<p>All these date classes use <code>ChronoLocalDate</code> interface, which has a method called <code>plus(long, TemporalUnit)</code> - and this is the best way of adding any amount of any unit of time to a date. The cool part is, each date class gets to decide how this method works for them, so if you want to add a month to a HijrahDate, you can do it like this, and be sure it's working:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HijrahDate date = HijrahDate.now();\ndate = date.plus(1, ChronoUnit.MONTHS);\n</code></pre>\n<p>Read more: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/chrono/ChronoLocalDate.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/time/chrono/ChronoLocalDate.html</a></p>\n"}],"owner":{"account_id":28930613,"reputation":1,"user_id":22159417,"display_name":"Amer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688219543,"creation_date":1688218809,"question_id":76594937,"body_markdown":"In classes like `LocalDate`, `LocalDateTime` there are methods like `plusMonths()`, `plusWeeks()` and they can be used since they are public. However in `HijrahDate` class these methods are not public and they don&#39;t seem to be used in any class in this package.\r\n\r\n\r\n\r\nWhat&#39;s the point of these methods if they&#39;re not (and cannot be) used anywhere ?","title":"Why plusMonths, plusWeeks and etc are not public in java.time.chrono classes","body":"<p>In classes like <code>LocalDate</code>, <code>LocalDateTime</code> there are methods like <code>plusMonths()</code>, <code>plusWeeks()</code> and they can be used since they are public. However in <code>HijrahDate</code> class these methods are not public and they don't seem to be used in any class in this package.</p>\n<p>What's the point of these methods if they're not (and cannot be) used anywhere ?</p>\n"},{"tags":["java","database","spring-data-jpa","crud"],"answers":[{"tags":[],"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687336434,"creation_date":1687336434,"answer_id":76521415,"question_id":76519783,"body_markdown":"In your Mapping path you are missing leading slash(`&quot;/&quot;`). So it should be like below:\r\n\r\n    @PutMapping(path = &quot;/{productId}&quot;)\r\n    public void updateStudent(\r\n        @PathVariable(&quot;productId&quot;) Long productId,\r\n        @RequestParam(required = false) String title,\r\n        @RequestParam(required = false) double price,\r\n        @RequestParam(required = false) String description,\r\n        @RequestParam(required = false) String category,\r\n        @RequestParam(required = false) String image\r\n    )\r\n    {\r\n        productService.updateProduct(productId,title,price,description,category,image);\r\n    }","title":"Java spring JPA : Method &#39;PUT&#39; is not supported","body":"<p>In your Mapping path you are missing leading slash(<code>&quot;/&quot;</code>). So it should be like below:</p>\n<pre><code>@PutMapping(path = &quot;/{productId}&quot;)\npublic void updateStudent(\n    @PathVariable(&quot;productId&quot;) Long productId,\n    @RequestParam(required = false) String title,\n    @RequestParam(required = false) double price,\n    @RequestParam(required = false) String description,\n    @RequestParam(required = false) String category,\n    @RequestParam(required = false) String image\n)\n{\n    productService.updateProduct(productId,title,price,description,category,image);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14141446,"reputation":326,"user_id":10216101,"display_name":"iifast2"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688218980,"creation_date":1688218980,"answer_id":76594945,"question_id":76519783,"body_markdown":"it seems that the request is not being recognized as a PUT request, you can use this, just make sure that the URL is accessible : \r\n \r\n    http://localhost:8080/api/v1/products/3\r\n\r\nOr you can : \r\n\r\nChange the @PutMapping annotation in your controller to @PatchMapping. This will map the HTTP PATCH method to your update method instead of PUT.\r\n\r\nthen modify request to use the PATCH method instead of PUT : \r\n\r\n\r\n\r\n    PATCH http://localhost:8080/api/v1/products/3\r\n    Content-Type: application/json\r\n    \r\n    {\r\n      &quot;title&quot;: &quot;test&quot;\r\n    }\r\n\r\n","title":"Java spring JPA : Method &#39;PUT&#39; is not supported","body":"<p>it seems that the request is not being recognized as a PUT request, you can use this, just make sure that the URL is accessible :</p>\n<pre><code>http://localhost:8080/api/v1/products/3\n</code></pre>\n<p>Or you can :</p>\n<p>Change the @PutMapping annotation in your controller to @PatchMapping. This will map the HTTP PATCH method to your update method instead of PUT.</p>\n<p>then modify request to use the PATCH method instead of PUT :</p>\n<pre><code>PATCH http://localhost:8080/api/v1/products/3\nContent-Type: application/json\n\n{\n  &quot;title&quot;: &quot;test&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":28842520,"reputation":85,"user_id":22090364,"display_name":"BabouG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76521415,"answer_count":2,"score":2,"last_activity_date":1688218980,"creation_date":1687318555,"question_id":76519783,"body_markdown":"I have following problem. I just wanted to do a simple update request to my postgresql database.\r\nBut I always get following error code, if I try to test the request with Android Studio.\r\n\r\n\r\n```\r\n{\r\n  &quot;timestamp&quot;: &quot;2023-06-21T03:30:21.661+00:00&quot;,\r\n  &quot;status&quot;: 405,\r\n  &quot;error&quot;: &quot;Method Not Allowed&quot;,\r\n  &quot;message&quot;: &quot;Method &#39;PUT&#39; is not supported.&quot;,\r\n  &quot;path&quot;: &quot;/api/v1/products/3&quot;\r\n}\r\n```\r\n\r\nHere is my Controller:\r\n\r\n\r\n```\r\npackage com.mgg.flutterappbackend.products;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.List;\r\n\r\n@RestController\r\n@RequestMapping(&quot;api/v1/products&quot;)\r\npublic class ProductController {\r\n\r\n    private final ProductService productService;\r\n\r\n    @Autowired\r\n    public ProductController(ProductService productService) {\r\n        this.productService = productService;\r\n    }\r\n\r\n    @GetMapping\r\n    public List&lt;Product&gt; getProducts(){\r\n        return productService.getProducts();\r\n    }\r\n    @PostMapping\r\n    public void registerNewProduct(@RequestBody Product product){\r\n        productService.addNewProduct(product);\r\n    }\r\n    @DeleteMapping(path = &quot;{productId}&quot;)\r\n    public void deleteProduct(@PathVariable(&quot;productId&quot;) Long productId){\r\n        productService.deleteProduct(productId);\r\n    }\r\n    @PutMapping(path = &quot;{productId}&quot;)\r\n    public void updateStudent(\r\n        @PathVariable(&quot;productId&quot;) Long productId,\r\n        @RequestParam(required = false) String title,\r\n        @RequestParam(required = false) double price,\r\n        @RequestParam(required = false) String description,\r\n        @RequestParam(required = false) String category,\r\n        @RequestParam(required = false) String image\r\n    )\r\n    {\r\n        productService.updateProduct(productId,title,price,description,category,image);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nMy service \r\n\r\n\r\n```\r\npackage com.mgg.flutterappbackend.products;\r\n\r\nimport jakarta.transaction.Transactional;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\n\r\nimport java.util.List;\r\nimport java.util.Objects;\r\nimport java.util.Optional;\r\n\r\n@Service\r\npublic class ProductService {\r\n\r\n    private final ProductRepository productRepository;\r\n    @Autowired\r\n    public ProductService(ProductRepository productRepository) {\r\n        this.productRepository = productRepository;\r\n    }\r\n\r\n    public List&lt;Product&gt; getProducts() {\r\n        return productRepository.findAll();\r\n    }\r\n\r\n    public void addNewProduct(Product product) {\r\n        Optional&lt;Product&gt; productByName = productRepository.findProductByName(product.getTitle());\r\n        if (productByName.isPresent()){\r\n            throw new IllegalStateException(&quot;product already listed&quot;);\r\n        }\r\n        productRepository.save(product);\r\n\r\n\r\n    }\r\n\r\n    public void deleteProduct(Long productId) {\r\n        boolean exits = productRepository.existsById(productId);\r\n        if (!exits){\r\n            throw new IllegalStateException(&quot;product is not in the list&quot; + productId);\r\n        }\r\n        productRepository.deleteById(productId);\r\n    }\r\n    @Transactional\r\n    public void updateProduct(Long productId,String title, double price, String description, String category,String image ){\r\n        Product product = productRepository.findById(productId)\r\n                .orElseThrow(()-&gt; new IllegalStateException(\r\n                        &quot;product with id &quot; + productId + &quot;does not exits&quot;\r\n                ));\r\n        if (title != null  &amp;&amp;\r\n                title.length() &gt; 0 &amp;&amp;\r\n                !Objects.equals(product.getTitle(),title)) {\r\n            product.setTitle(title);\r\n        }\r\n        if (price == 0 &amp;&amp;\r\n                !(product.getPrice()==price)) {\r\n            product.setPrice(price);\r\n        }\r\n        if (description != null  &amp;&amp;\r\n                description.length() &gt; 0 &amp;&amp;\r\n                !Objects.equals(product.getDescription(),description)) {\r\n            product.setDescription(description);\r\n        }\r\n        if (category != null  &amp;&amp;\r\n                category.length() &gt; 0 &amp;&amp;\r\n                !Objects.equals(product.getCategory(),category)) {\r\n            product.setCategory(category);\r\n        }\r\n        if (image != null  &amp;&amp;\r\n                image.length() &gt; 0 &amp;&amp;\r\n                !Objects.equals(product.getImage(),image)) {\r\n            product.setImage(image);\r\n        }\r\n\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd here is the request from Android Studio: \r\n\r\n\r\n```\r\n###\r\nPUT http://localhost:8080/api/v1/products/3?title=test\r\nContent-Type: application/json\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nI&#39;m expecting that the data on my database should be updated with the request","title":"Java spring JPA : Method &#39;PUT&#39; is not supported","body":"<p>I have following problem. I just wanted to do a simple update request to my postgresql database.\nBut I always get following error code, if I try to test the request with Android Studio.</p>\n<pre><code>{\n  &quot;timestamp&quot;: &quot;2023-06-21T03:30:21.661+00:00&quot;,\n  &quot;status&quot;: 405,\n  &quot;error&quot;: &quot;Method Not Allowed&quot;,\n  &quot;message&quot;: &quot;Method 'PUT' is not supported.&quot;,\n  &quot;path&quot;: &quot;/api/v1/products/3&quot;\n}\n</code></pre>\n<p>Here is my Controller:</p>\n<pre><code>package com.mgg.flutterappbackend.products;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;api/v1/products&quot;)\npublic class ProductController {\n\n    private final ProductService productService;\n\n    @Autowired\n    public ProductController(ProductService productService) {\n        this.productService = productService;\n    }\n\n    @GetMapping\n    public List&lt;Product&gt; getProducts(){\n        return productService.getProducts();\n    }\n    @PostMapping\n    public void registerNewProduct(@RequestBody Product product){\n        productService.addNewProduct(product);\n    }\n    @DeleteMapping(path = &quot;{productId}&quot;)\n    public void deleteProduct(@PathVariable(&quot;productId&quot;) Long productId){\n        productService.deleteProduct(productId);\n    }\n    @PutMapping(path = &quot;{productId}&quot;)\n    public void updateStudent(\n        @PathVariable(&quot;productId&quot;) Long productId,\n        @RequestParam(required = false) String title,\n        @RequestParam(required = false) double price,\n        @RequestParam(required = false) String description,\n        @RequestParam(required = false) String category,\n        @RequestParam(required = false) String image\n    )\n    {\n        productService.updateProduct(productId,title,price,description,category,image);\n    }\n\n}\n\n</code></pre>\n<p>My service</p>\n<pre><code>package com.mgg.flutterappbackend.products;\n\nimport jakarta.transaction.Transactional;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n\nimport java.util.List;\nimport java.util.Objects;\nimport java.util.Optional;\n\n@Service\npublic class ProductService {\n\n    private final ProductRepository productRepository;\n    @Autowired\n    public ProductService(ProductRepository productRepository) {\n        this.productRepository = productRepository;\n    }\n\n    public List&lt;Product&gt; getProducts() {\n        return productRepository.findAll();\n    }\n\n    public void addNewProduct(Product product) {\n        Optional&lt;Product&gt; productByName = productRepository.findProductByName(product.getTitle());\n        if (productByName.isPresent()){\n            throw new IllegalStateException(&quot;product already listed&quot;);\n        }\n        productRepository.save(product);\n\n\n    }\n\n    public void deleteProduct(Long productId) {\n        boolean exits = productRepository.existsById(productId);\n        if (!exits){\n            throw new IllegalStateException(&quot;product is not in the list&quot; + productId);\n        }\n        productRepository.deleteById(productId);\n    }\n    @Transactional\n    public void updateProduct(Long productId,String title, double price, String description, String category,String image ){\n        Product product = productRepository.findById(productId)\n                .orElseThrow(()-&gt; new IllegalStateException(\n                        &quot;product with id &quot; + productId + &quot;does not exits&quot;\n                ));\n        if (title != null  &amp;&amp;\n                title.length() &gt; 0 &amp;&amp;\n                !Objects.equals(product.getTitle(),title)) {\n            product.setTitle(title);\n        }\n        if (price == 0 &amp;&amp;\n                !(product.getPrice()==price)) {\n            product.setPrice(price);\n        }\n        if (description != null  &amp;&amp;\n                description.length() &gt; 0 &amp;&amp;\n                !Objects.equals(product.getDescription(),description)) {\n            product.setDescription(description);\n        }\n        if (category != null  &amp;&amp;\n                category.length() &gt; 0 &amp;&amp;\n                !Objects.equals(product.getCategory(),category)) {\n            product.setCategory(category);\n        }\n        if (image != null  &amp;&amp;\n                image.length() &gt; 0 &amp;&amp;\n                !Objects.equals(product.getImage(),image)) {\n            product.setImage(image);\n        }\n\n\n    }\n\n}\n</code></pre>\n<p>And here is the request from Android Studio:</p>\n<pre><code>###\nPUT http://localhost:8080/api/v1/products/3?title=test\nContent-Type: application/json\n</code></pre>\n<p>I'm expecting that the data on my database should be updated with the request</p>\n"},{"tags":["java","maven","maven-surefire-plugin","java-platform-module-system"],"comments":[{"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"score":0,"creation_date":1683225282,"post_id":76175959,"comment_id":134338115,"body_markdown":"Another way to ask the question: given that I cannot do `--add-modules maven:coordinates:here` in my surefire `argLine`, where `maven:coordinates:here` is an automatic module, how do I get as close to that as possible?","body":"Another way to ask the question: given that I cannot do <code>--add-modules maven:coordinates:here</code> in my surefire <code>argLine</code>, where <code>maven:coordinates:here</code> is an automatic module, how do I get as close to that as possible?"},{"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"score":0,"creation_date":1683228401,"post_id":76175959,"comment_id":134338825,"body_markdown":"The plugin has changed since I last used it in an advanced manner, and apparently now you can also have a `src/test/resources/module-info.java`. Obviously your JUnit tests have to be in a different package, but if you do this, Surefire uses the module path more rigorously, detecting automatic modules automatically. I&#39;ll answer my own question for posterity once I can figure out how to explain it briefly.","body":"The plugin has changed since I last used it in an advanced manner, and apparently now you can also have a <code>src&#47;test&#47;resources&#47;module-info.java</code>. Obviously your JUnit tests have to be in a different package, but if you do this, Surefire uses the module path more rigorously, detecting automatic modules automatically. I&#39;ll answer my own question for posterity once I can figure out how to explain it briefly."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1683244851,"post_id":76175959,"comment_id":134341369,"body_markdown":"In theory, you just need to add `simplethingprovider.jar` to the module path - the binding (a module that `uses ThingProvider` is in the graph, add all modules that provide that as well) should do the rest. But I have no idea how to do that with the mavan surefire plugin.","body":"In theory, you just need to add <code>simplethingprovider.jar</code> to the module path - the binding (a module that <code>uses ThingProvider</code> is in the graph, add all modules that provide that as well) should do the rest. But I have no idea how to do that with the mavan surefire plugin."},{"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"score":0,"creation_date":1683247083,"post_id":76175959,"comment_id":134341578,"body_markdown":"Right; adding `simplethingprovider.jar` manually would be, actually, adding `~/.m2/repository/com/foo/bar/simplethingprovider/1.0.0/...etc.etc.etc.` to the module path, assuming you know where your repo is, etc. etc. etc. Luckily it turns out the `maven-surefire-plugin` has evolved to support a `module-info.java` in your `src/main/resources` and another one in `src/test/resources` and behaves differently if both are found. The solution turns out to be quite simple.","body":"Right; adding <code>simplethingprovider.jar</code> manually would be, actually, adding <code>~&#47;.m2&#47;repository&#47;com&#47;foo&#47;bar&#47;simplethingprovider&#47;1.0.0&#47;...et&zwnj;&#8203;c.etc.etc.</code> to the module path, assuming you know where your repo is, etc. etc. etc. Luckily it turns out the <code>maven-surefire-plugin</code> has evolved to support a <code>module-info.java</code> in your <code>src&#47;main&#47;resources</code> and another one in <code>src&#47;test&#47;resources</code> and behaves differently if both are found. The solution turns out to be quite simple."}],"answers":[{"tags":[],"owner":{"account_id":21851467,"reputation":682,"user_id":16143492,"display_name":"nineninesevenfour"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688218350,"creation_date":1688209656,"answer_id":76594410,"question_id":76175959,"body_markdown":"&gt; ..., but I want to understand why the --add-reads &quot;solution&quot; above does not work.\r\n\r\n`--add-reads` is the equivalent to the `requires` clause in `module-info.java`. Adding this would be contrary to the idea of `java.util.ServiceLoader`. The basic idea of it is, that the code facilitating it is *not* aware of which providers are actually implementing the service interface and that includes `module-info.java`. The only corresponding clause on consumer&#39;s side is - as you correctly wrote - `uses &lt;interface&gt;`. You already have that.\r\n\r\n&gt; How can I accomplish what I want to do here?\r\n\r\nWhat you need here is having your test implementation `SimpleThingProvider` on the **module path** (I think you also got that concept).\r\n\r\nThe `maven-surefire-plugin` version `3.0.0-M6` or newer (including `3.0.0`) adds dependencies with scope `test` automatically to the module path (it did *not* work between `3.0.0-M2` and `3.0.0-M5`).\r\n\r\nSimple solution\r\n---------------\r\nAdd the Maven module containing `SimpleThingProvider` with `&lt;scope&gt;test&lt;/scope&gt;` and pick a recent version (&gt;= 3.0.0-M6, which includes 3.0.0, 3.1.0 and 3.1.2) of `maven-surefire-plugin`.\r\n\r\nRemark: Adding an additional `&lt;argLine&gt;--module-path ...&lt;/argLine&gt;` did not work for me. I think the main reason is, that it would require the Surefire plugin to detect that specific argument and merge it with it&#39;s own, which seems not to be the case.\r\n\r\n#### It won&#39;t work in IntelliJ ####\r\nIntelliJ IDEA - unlike the Surefire plugin - does not add dependencies with scope `test` to the module path (yet). This would require to manually specify `--module-path` for the IDE test run, which can get extremely cumbersome. It can be avoided by additionally putting the service implementations into `src/main/resources/META-INF/services` plus adding the option &quot;*Do not use --module-path option*&quot; to the test run configuration. If you do not want to have `META-INF/services` in production code, it would be sufficient to put it once into `src/test/resources` alongside the testing code.\r\n\r\nPutting it in production code would additionally have the advantage that your service implementation(s) would work for consumers which are not Jigsaw/JMPS-aware.\r\n","title":"How can I add a module to the module path in using the Maven Surefire plugin?","body":"<blockquote>\n<p>..., but I want to understand why the --add-reads &quot;solution&quot; above does not work.</p>\n</blockquote>\n<p><code>--add-reads</code> is the equivalent to the <code>requires</code> clause in <code>module-info.java</code>. Adding this would be contrary to the idea of <code>java.util.ServiceLoader</code>. The basic idea of it is, that the code facilitating it is <em>not</em> aware of which providers are actually implementing the service interface and that includes <code>module-info.java</code>. The only corresponding clause on consumer's side is - as you correctly wrote - <code>uses &lt;interface&gt;</code>. You already have that.</p>\n<blockquote>\n<p>How can I accomplish what I want to do here?</p>\n</blockquote>\n<p>What you need here is having your test implementation <code>SimpleThingProvider</code> on the <strong>module path</strong> (I think you also got that concept).</p>\n<p>The <code>maven-surefire-plugin</code> version <code>3.0.0-M6</code> or newer (including <code>3.0.0</code>) adds dependencies with scope <code>test</code> automatically to the module path (it did <em>not</em> work between <code>3.0.0-M2</code> and <code>3.0.0-M5</code>).</p>\n<h2>Simple solution</h2>\n<p>Add the Maven module containing <code>SimpleThingProvider</code> with <code>&lt;scope&gt;test&lt;/scope&gt;</code> and pick a recent version (&gt;= 3.0.0-M6, which includes 3.0.0, 3.1.0 and 3.1.2) of <code>maven-surefire-plugin</code>.</p>\n<p>Remark: Adding an additional <code>&lt;argLine&gt;--module-path ...&lt;/argLine&gt;</code> did not work for me. I think the main reason is, that it would require the Surefire plugin to detect that specific argument and merge it with it's own, which seems not to be the case.</p>\n<h4>It won't work in IntelliJ</h4>\n<p>IntelliJ IDEA - unlike the Surefire plugin - does not add dependencies with scope <code>test</code> to the module path (yet). This would require to manually specify <code>--module-path</code> for the IDE test run, which can get extremely cumbersome. It can be avoided by additionally putting the service implementations into <code>src/main/resources/META-INF/services</code> plus adding the option &quot;<em>Do not use --module-path option</em>&quot; to the test run configuration. If you do not want to have <code>META-INF/services</code> in production code, it would be sufficient to put it once into <code>src/test/resources</code> alongside the testing code.</p>\n<p>Putting it in production code would additionally have the advantage that your service implementation(s) would work for consumers which are not Jigsaw/JMPS-aware.</p>\n"}],"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1688218350,"creation_date":1683221790,"question_id":76175959,"body_markdown":"I am using Maven and the `maven-surefire-plugin` (version 3.0.0).\r\n\r\nI am developing a Java (JPMS) module (`fancythingprovider`) that supplies a service provider (`provides ThingProvider with FancyThingProvider`).\r\n\r\nThere is another module (`thinguser`) that has a class (`ThingUser`) that loads `ThingProvider`s (`uses ThingProvider`).\r\n\r\nTo test my module, I have a normal JUnit class.  It uses `ThingUser` and expects to find my `FancyThingProvider`. This works fine.\r\n\r\nI would now like to have another module, `simplethingprovider`, be present at test time, so that `ThingUser` will &quot;see&quot; both `FancyThingProvider` and `SimpleThingProvider`.  I don&#39;t want `requires simplethingprovider` to be present in my `module-info.java` because, of course, my module itself doesn&#39;t actually need it.  I just want it in the module graph at test time.\r\n\r\nI am aware that the `maven-surefire-plugin` uses a combination of `--module-path` and `--patch-module` to make it look like my `fancythingprovider` project&#39;s `src/test/java` classes are part of the module declared by its `module-info.java` in `src/main/java/module-info.java`.  I am also aware that without a `requires` statement somewhere or some other mechanism to add it to the module graph, `simplethingprovider` will not appear in the module graph, even if it is on the test classpath (part of the unnamed module).\r\n\r\nI am reasonably familiar with the various command-line switches that `java` offers to monkey with the module graph, including `--add-reads`, `--add-modules` and the like.\r\n\r\nSo I thought that perhaps I could cause the `maven-surefire-plugin` to add the `simplethingprovider` module.\r\n\r\nUsing `argLine`, my first thought, which was dumb in hindsight, was to supply `--add-modules simplethingprovider`.  This won&#39;t work, of course, because `simplethingprovider` is not present in the module path that Surefire runs with, and it&#39;s not read by any other module.\r\n\r\nRealizing that `simplethingprovider`&#39;s jar file is on the test **class**path, not the module path, and therefore that it is part of the unnamed module, my second thought was to let the `thinguser` module read the unnamed module, so that it would find my `simplethingprovider`&#39;s service providers.  Using `argLine`, I tried `--add-reads thinguser=ALL-UNNAMED` (let `thinguser` read the unnamed module).  This did not work, which still mildly surprises me.\r\n\r\nThen I thought, oh, since `simplethingprovider` is on the classpath and not the module path, its `module-info.java` is irrelevant in this scenario, and that changes the semantics of how service providers are found. I cannot simply rely on a `provides` statement in its `module-info.java` since it is irrelevant; I have to _also_ make sure there is a `/META-INF/services/ThingProvider` service provider file at the root of the jar file, containing `SimpleThingProvider`.  I made this change but my `--add-reads` still does not work.\r\n\r\nHow can I accomplish what I want to do here?\r\n\r\nI am aware that I can set up a new Maven project with a proper `module-info.java` file (a new module) that then uses all the other modules and so on.  I am of course prepared to do that, but I want to understand why the `--add-reads` &quot;solution&quot; above does not work.","title":"How can I add a module to the module path in using the Maven Surefire plugin?","body":"<p>I am using Maven and the <code>maven-surefire-plugin</code> (version 3.0.0).</p>\n<p>I am developing a Java (JPMS) module (<code>fancythingprovider</code>) that supplies a service provider (<code>provides ThingProvider with FancyThingProvider</code>).</p>\n<p>There is another module (<code>thinguser</code>) that has a class (<code>ThingUser</code>) that loads <code>ThingProvider</code>s (<code>uses ThingProvider</code>).</p>\n<p>To test my module, I have a normal JUnit class.  It uses <code>ThingUser</code> and expects to find my <code>FancyThingProvider</code>. This works fine.</p>\n<p>I would now like to have another module, <code>simplethingprovider</code>, be present at test time, so that <code>ThingUser</code> will &quot;see&quot; both <code>FancyThingProvider</code> and <code>SimpleThingProvider</code>.  I don't want <code>requires simplethingprovider</code> to be present in my <code>module-info.java</code> because, of course, my module itself doesn't actually need it.  I just want it in the module graph at test time.</p>\n<p>I am aware that the <code>maven-surefire-plugin</code> uses a combination of <code>--module-path</code> and <code>--patch-module</code> to make it look like my <code>fancythingprovider</code> project's <code>src/test/java</code> classes are part of the module declared by its <code>module-info.java</code> in <code>src/main/java/module-info.java</code>.  I am also aware that without a <code>requires</code> statement somewhere or some other mechanism to add it to the module graph, <code>simplethingprovider</code> will not appear in the module graph, even if it is on the test classpath (part of the unnamed module).</p>\n<p>I am reasonably familiar with the various command-line switches that <code>java</code> offers to monkey with the module graph, including <code>--add-reads</code>, <code>--add-modules</code> and the like.</p>\n<p>So I thought that perhaps I could cause the <code>maven-surefire-plugin</code> to add the <code>simplethingprovider</code> module.</p>\n<p>Using <code>argLine</code>, my first thought, which was dumb in hindsight, was to supply <code>--add-modules simplethingprovider</code>.  This won't work, of course, because <code>simplethingprovider</code> is not present in the module path that Surefire runs with, and it's not read by any other module.</p>\n<p>Realizing that <code>simplethingprovider</code>'s jar file is on the test <strong>class</strong>path, not the module path, and therefore that it is part of the unnamed module, my second thought was to let the <code>thinguser</code> module read the unnamed module, so that it would find my <code>simplethingprovider</code>'s service providers.  Using <code>argLine</code>, I tried <code>--add-reads thinguser=ALL-UNNAMED</code> (let <code>thinguser</code> read the unnamed module).  This did not work, which still mildly surprises me.</p>\n<p>Then I thought, oh, since <code>simplethingprovider</code> is on the classpath and not the module path, its <code>module-info.java</code> is irrelevant in this scenario, and that changes the semantics of how service providers are found. I cannot simply rely on a <code>provides</code> statement in its <code>module-info.java</code> since it is irrelevant; I have to <em>also</em> make sure there is a <code>/META-INF/services/ThingProvider</code> service provider file at the root of the jar file, containing <code>SimpleThingProvider</code>.  I made this change but my <code>--add-reads</code> still does not work.</p>\n<p>How can I accomplish what I want to do here?</p>\n<p>I am aware that I can set up a new Maven project with a proper <code>module-info.java</code> file (a new module) that then uses all the other modules and so on.  I am of course prepared to do that, but I want to understand why the <code>--add-reads</code> &quot;solution&quot; above does not work.</p>\n"},{"tags":["java","angular","rest","primeng"],"answers":[{"tags":[],"owner":{"account_id":7858250,"reputation":431,"user_id":5939393,"display_name":"Pooja Mule"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1594789750,"creation_date":1594789750,"answer_id":62907958,"question_id":62907598,"body_markdown":"**Question 1**- Can I add formObj along with the upload - if so, how?\r\n\r\nIf you have to send the whole object in the formData there are 2 ways,\r\n 1. Stringify the object like- `formData.append(&quot;faqObj&quot;, JSON.stringify(faqObj));`\r\n    In this case, the server will have to parse the stringified object.\r\n 2. Another way to do it is to append the keys of the object looping through the object like **Object.keys(faqObj).forEach(ele =&gt; formData.append(\\`faqObj[${ele}]\\`), faqObj[ele])**\r\nIn this case, the server does not have to parse the object.\r\n\r\n**Question 2-** How can I send multiple files? formData.append(&quot;file&quot;, file); - this doesnt accept an array\r\n\r\nFor this, you have to loop through the files array as follows\r\n\r\n    uploadedFiles.forEach(file =&gt; formData.append(&#39;file[]&#39;, file))","title":"primeng fileUpload to send form data and passing file array to the service layer","body":"<p><strong>Question 1</strong>- Can I add formObj along with the upload - if so, how?</p>\n<p>If you have to send the whole object in the formData there are 2 ways,</p>\n<ol>\n<li>Stringify the object like- <code>formData.append(&quot;faqObj&quot;, JSON.stringify(faqObj));</code>\nIn this case, the server will have to parse the stringified object.</li>\n<li>Another way to do it is to append the keys of the object looping through the object like <strong>Object.keys(faqObj).forEach(ele =&gt; formData.append(`faqObj[${ele}]`), faqObj[ele])</strong>\nIn this case, the server does not have to parse the object.</li>\n</ol>\n<p><strong>Question 2-</strong> How can I send multiple files? formData.append(&quot;file&quot;, file); - this doesnt accept an array</p>\n<p>For this, you have to loop through the files array as follows</p>\n<pre><code>uploadedFiles.forEach(file =&gt; formData.append('file[]', file))\n</code></pre>\n"}],"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3497,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688218107,"creation_date":1594787184,"question_id":62907598,"body_markdown":"I am using p-fileUpload primeng component. I have a requirement where in addition to the files selected another p-multiselect in the form has to be submitted along. Below is the working code for fileupload. \r\n\r\nWhen I choose and click upload it uploads the file. I want to change ```uploadFileCtr($event)``` to ```uploadFileCtr($event,faqForm.value )``` and pass the commented code in ```uploadFileCtr()``` method in the ts file. I tried and added this line to the service.ts formdata:\r\n \r\n\r\n    formData.append(&quot;faqObj&quot;, faqObj);\r\n\r\nHowever, I couldn&#39;t get the object in my rest service. I tried to include another param in my POST method: `@FormDataParam(&quot;faqObj&quot;) Faq`. This gives me error.\r\n \r\nMy component.html look like this\r\n\r\n    &lt;form [formGroup]=&quot;faqForm&quot; &gt;\r\n        &lt;div class=&quot;row&quot;&gt;\r\n            &lt;div class=&quot;col-sm-4&quot;&gt;\r\n                &lt;p-fileUpload name=&quot;myfile[]&quot; multiple=&quot;multiple&quot; accept=&quot;.xlsx&quot; customUpload=&quot;true&quot;\r\n                        (uploadHandler)=&quot;uploadFileCtr($event)&quot;&gt;\r\n                &lt;/p-fileUpload&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;col-sm-4&quot;&gt;\r\n                &lt;label &gt;Board ID(s) *:&lt;/label&gt;\r\n                &lt;p-multiSelect [options]=&quot;boards&quot; formControlName=&quot;board&quot; [defaultLabel]=&quot;&#39;All Active Boards&#39;&quot; (onChange)=&quot;displayBoard($event)&quot;&gt;&lt;/p-multiSelect&gt; \r\n            &lt;/div&gt; \r\n            &lt;div class=&quot;col-sm-4&quot; *ngIf = &quot;show&quot;&gt;\r\n                &lt;label &gt;Board Title:&lt;/label&gt;\r\n                &lt;input class=&quot;pInputFilter pInputTxt&quot; type=&quot;text&quot; readonly id=&quot;boardname&quot; value={{this.userSelectedBoard}}&gt;  \r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/form&gt;\r\n\r\ncomponent.cs for uploadFileCtr is as below\r\n\r\n    uploadFileCtr(event) { \r\n          // faqObj.faqBoards =  faqObj.board.map(boardId=&gt;{\r\n          //   let boardObj:Board = new Board();\r\n          //   boardObj.id = boardId; \r\n          //   return boardObj;\r\n          // });\r\n            for (let file of event.files) {\r\n              this.uploadedFiles.push(file);\r\n            }\r\n            this.faqService.uploadFile(this.uploadedFiles).subscribe( posts =&gt;{\r\n                this.data = posts;\r\n            },\r\n            error =&gt; console.log(&quot;Error: &quot;, error),\r\n            () =&gt; {\r\n                this.errMsg = this.data.error; \r\n                // this.succMsg = this.data.success;  \r\n                if (this.errMsg) {\r\n                    console.log(&quot;errMsg: &quot;, this.errMsg);\r\n                    this.msgs = [];\r\n                    this.msgs.push({severity:&#39;error&#39;, summary:&#39;Error Message&#39;, detail:this.data.error});                \r\n                    this.status = &quot;error&quot;;\r\n                } else {\r\n                    // this.getCaseDocuments();\r\n                    this.msgs = [];\r\n                    this.msgs.push({severity:&#39;success&#39;, summary:&#39;Success Message&#39;, detail:this.data.success});                             \r\n                }\r\n            \r\n            });\r\n            this.faqForm.reset();\r\n        }\r\n    \t\r\n\r\n\t\r\nService.ts for the upload REST service is\r\n\r\n\tuploadFile( uploadedFiles: any[]){\r\n        let file: File = null;\r\n        let formData:FormData = new FormData(); \r\n        if (uploadedFiles != null &amp;&amp; uploadedFiles.length &gt; 0) {\r\n            file = uploadedFiles[0];\r\n        }      \r\n        if (file != null) {\r\n            formData.append(&quot;file&quot;, file);\r\n            formData.append(&quot;fileName&quot;, file.name);\r\n        } else {\r\n            formData.append(&quot;file&quot;, null);            \r\n            formData.append(&quot;fileName&quot;, &quot;&quot;);\r\n        }\r\n        return this.http.post(this.faqServiceURL +&quot;/upload&quot;, formData, { &#39;headers&#39;: this.headers });\r\n    }\r\n}\r\n\r\n    @POST\r\n    @Path(&quot;upload&quot;)\r\n    @Consumes(MediaType.MULTIPART_FORM_DATA)\r\n    @Produces(&quot;application/json&quot;)\r\n    public Response upload(@FormDataParam(&quot;file&quot;) InputStream is,\r\n                               @FormDataParam(&quot;fileName&quot;) String fileName){\r\n        logger.info(&quot;FaqService - upload&quot;);\r\n        System.out.println(&quot;upload : &quot;+fileName+&quot;  faqObj : &quot;); \r\n        ObjectMapper mapper = utilityObj.getMapperObj();\r\n        String jsonInString = &quot;&quot;;  ..//////\r\n    \t\r\n    \t}\r\n\r\n1. Can I add formobj along with the upload - if so, how?\r\n2. How can I send multiple files? formData.append(&quot;file&quot;, file); - this doesn&#39;t accept an array\r\n\r\n","title":"primeng fileUpload to send form data and passing file array to the service layer","body":"<p>I am using p-fileUpload primeng component. I have a requirement where in addition to the files selected another p-multiselect in the form has to be submitted along. Below is the working code for fileupload.</p>\n<p>When I choose and click upload it uploads the file. I want to change <code>uploadFileCtr($event)</code> to <code>uploadFileCtr($event,faqForm.value )</code> and pass the commented code in <code>uploadFileCtr()</code> method in the ts file. I tried and added this line to the service.ts formdata:</p>\n<pre><code>formData.append(&quot;faqObj&quot;, faqObj);\n</code></pre>\n<p>However, I couldn't get the object in my rest service. I tried to include another param in my POST method: <code>@FormDataParam(&quot;faqObj&quot;) Faq</code>. This gives me error.</p>\n<p>My component.html look like this</p>\n<pre><code>&lt;form [formGroup]=&quot;faqForm&quot; &gt;\n    &lt;div class=&quot;row&quot;&gt;\n        &lt;div class=&quot;col-sm-4&quot;&gt;\n            &lt;p-fileUpload name=&quot;myfile[]&quot; multiple=&quot;multiple&quot; accept=&quot;.xlsx&quot; customUpload=&quot;true&quot;\n                    (uploadHandler)=&quot;uploadFileCtr($event)&quot;&gt;\n            &lt;/p-fileUpload&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;col-sm-4&quot;&gt;\n            &lt;label &gt;Board ID(s) *:&lt;/label&gt;\n            &lt;p-multiSelect [options]=&quot;boards&quot; formControlName=&quot;board&quot; [defaultLabel]=&quot;'All Active Boards'&quot; (onChange)=&quot;displayBoard($event)&quot;&gt;&lt;/p-multiSelect&gt; \n        &lt;/div&gt; \n        &lt;div class=&quot;col-sm-4&quot; *ngIf = &quot;show&quot;&gt;\n            &lt;label &gt;Board Title:&lt;/label&gt;\n            &lt;input class=&quot;pInputFilter pInputTxt&quot; type=&quot;text&quot; readonly id=&quot;boardname&quot; value={{this.userSelectedBoard}}&gt;  \n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n<p>component.cs for uploadFileCtr is as below</p>\n<pre><code>uploadFileCtr(event) { \n      // faqObj.faqBoards =  faqObj.board.map(boardId=&gt;{\n      //   let boardObj:Board = new Board();\n      //   boardObj.id = boardId; \n      //   return boardObj;\n      // });\n        for (let file of event.files) {\n          this.uploadedFiles.push(file);\n        }\n        this.faqService.uploadFile(this.uploadedFiles).subscribe( posts =&gt;{\n            this.data = posts;\n        },\n        error =&gt; console.log(&quot;Error: &quot;, error),\n        () =&gt; {\n            this.errMsg = this.data.error; \n            // this.succMsg = this.data.success;  \n            if (this.errMsg) {\n                console.log(&quot;errMsg: &quot;, this.errMsg);\n                this.msgs = [];\n                this.msgs.push({severity:'error', summary:'Error Message', detail:this.data.error});                \n                this.status = &quot;error&quot;;\n            } else {\n                // this.getCaseDocuments();\n                this.msgs = [];\n                this.msgs.push({severity:'success', summary:'Success Message', detail:this.data.success});                             \n            }\n        \n        });\n        this.faqForm.reset();\n    }\n    \n</code></pre>\n<p>Service.ts for the upload REST service is</p>\n<pre><code>uploadFile( uploadedFiles: any[]){\n    let file: File = null;\n    let formData:FormData = new FormData(); \n    if (uploadedFiles != null &amp;&amp; uploadedFiles.length &gt; 0) {\n        file = uploadedFiles[0];\n    }      \n    if (file != null) {\n        formData.append(&quot;file&quot;, file);\n        formData.append(&quot;fileName&quot;, file.name);\n    } else {\n        formData.append(&quot;file&quot;, null);            \n        formData.append(&quot;fileName&quot;, &quot;&quot;);\n    }\n    return this.http.post(this.faqServiceURL +&quot;/upload&quot;, formData, { 'headers': this.headers });\n}\n</code></pre>\n<p>}</p>\n<pre><code>@POST\n@Path(&quot;upload&quot;)\n@Consumes(MediaType.MULTIPART_FORM_DATA)\n@Produces(&quot;application/json&quot;)\npublic Response upload(@FormDataParam(&quot;file&quot;) InputStream is,\n                           @FormDataParam(&quot;fileName&quot;) String fileName){\n    logger.info(&quot;FaqService - upload&quot;);\n    System.out.println(&quot;upload : &quot;+fileName+&quot;  faqObj : &quot;); \n    ObjectMapper mapper = utilityObj.getMapperObj();\n    String jsonInString = &quot;&quot;;  ..//////\n    \n    }\n</code></pre>\n<ol>\n<li>Can I add formobj along with the upload - if so, how?</li>\n<li>How can I send multiple files? formData.append(&quot;file&quot;, file); - this doesn't accept an array</li>\n</ol>\n"},{"tags":["java","spring-boot","h2"],"answers":[{"tags":[],"owner":{"account_id":7788110,"reputation":1429,"user_id":6306585,"accept_rate":60,"display_name":"Shakirov Ramil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675431884,"creation_date":1675431884,"answer_id":75336574,"question_id":75333868,"body_markdown":"H2 does not support accessing JSON attributes. See here for a list of supported functions: https://www.h2database.com/html/functions.html","title":"JSON_VALUE usage in H2 database","body":"<p>H2 does not support accessing JSON attributes. See here for a list of supported functions: <a href=\"https://www.h2database.com/html/functions.html\" rel=\"nofollow noreferrer\">https://www.h2database.com/html/functions.html</a></p>\n"},{"tags":[],"owner":{"account_id":407393,"reputation":1182,"user_id":777443,"accept_rate":89,"display_name":"Peter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688217741,"creation_date":1688217741,"answer_id":76594885,"question_id":75333868,"body_markdown":"At the time of this writing, Shakirov&#39;s answer is correct - H2 does not have a built in function to access JSON attributes. However, you can create a [user defined function][1] using whatever JSON library you want. Example:\r\n\r\n    CREATE ALIAS JSON_VALUE AS &#39;\r\n    String jsonValue(String json, String key) {\r\n\r\n        //Implement your code here and return a string\r\n\r\n        return &quot;&quot;;\r\n    }\r\n    &#39;;\r\n\r\nAnother option is to cast the JSON data to a string and use the built in REGEXP_SUBSTR to parse the data and return what you want. If your JSON is simple enough, you can try something like this:\r\n\r\n    /&quot;name&quot;(\\s*?:{1}\\s*?)&quot;(.*?)&quot;/g\r\n\r\nWhere &quot;name&quot; is the key you&#39;re looking for. You can test the regex [here][2]. Obviously you shouldn&#39;t use regex for complex JSON.\r\n\r\n  [1]: https://h2database.com/html/features.html#user_defined_functions\r\n  [2]: https://regex101.com/r/FONaIT/1\r\n","title":"JSON_VALUE usage in H2 database","body":"<p>At the time of this writing, Shakirov's answer is correct - H2 does not have a built in function to access JSON attributes. However, you can create a <a href=\"https://h2database.com/html/features.html#user_defined_functions\" rel=\"nofollow noreferrer\">user defined function</a> using whatever JSON library you want. Example:</p>\n<pre><code>CREATE ALIAS JSON_VALUE AS '\nString jsonValue(String json, String key) {\n\n    //Implement your code here and return a string\n\n    return &quot;&quot;;\n}\n';\n</code></pre>\n<p>Another option is to cast the JSON data to a string and use the built in REGEXP_SUBSTR to parse the data and return what you want. If your JSON is simple enough, you can try something like this:</p>\n<pre><code>/&quot;name&quot;(\\s*?:{1}\\s*?)&quot;(.*?)&quot;/g\n</code></pre>\n<p>Where &quot;name&quot; is the key you're looking for. You can test the regex <a href=\"https://regex101.com/r/FONaIT/1\" rel=\"nofollow noreferrer\">here</a>. Obviously you shouldn't use regex for complex JSON.</p>\n"}],"owner":{"account_id":5811540,"reputation":305,"user_id":4582425,"accept_rate":50,"display_name":"Jagrut Dalwadi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":824,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1688217741,"creation_date":1675416983,"question_id":75333868,"body_markdown":"In application code, we are using JSON_VALUE function for getting particular value from stored json. \r\n\r\n    SELECT * FROM EMPLOYEE WHERE JSON_VALUE(ADDR_JSON, &#39;$.pinCode&#39;) != &#39;390018&#39;\r\n\r\nWhen we are writing functional test cases which uses H2 database, it is resulting into following error: \r\n\r\n&gt; nested exception is java.sql.SQLSyntaxErrorException: user lacks privilege or object not found: JSON_VALUE in statement\r\n\r\nCan you please suggest if anyone has some solution on this ?","title":"JSON_VALUE usage in H2 database","body":"<p>In application code, we are using JSON_VALUE function for getting particular value from stored json.</p>\n<pre><code>SELECT * FROM EMPLOYEE WHERE JSON_VALUE(ADDR_JSON, '$.pinCode') != '390018'\n</code></pre>\n<p>When we are writing functional test cases which uses H2 database, it is resulting into following error:</p>\n<blockquote>\n<p>nested exception is java.sql.SQLSyntaxErrorException: user lacks privilege or object not found: JSON_VALUE in statement</p>\n</blockquote>\n<p>Can you please suggest if anyone has some solution on this ?</p>\n"},{"tags":["java","json","avro","jsonschema","jackson-dataformat-avro"],"answers":[{"tags":[],"owner":{"account_id":30898,"reputation":8917,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688217493,"creation_date":1688217493,"answer_id":76594862,"question_id":76574577,"body_markdown":"You can represent optional fields in Avro by making the field type a union between the actual type and null, e.g.:\r\n\r\n    {\r\n        &quot;name&quot;: &quot;username&quot;,\r\n        &quot;type&quot;: [\r\n          &quot;null&quot;,\r\n          &quot;string&quot;\r\n        ],\r\n        &quot;default&quot;: null\r\n    },\r\n\r\n&gt; **1. Does Avro schema allow conditional fields like JSON schema does using allOf, anyOf, dependencies etc.?**\r\n\r\nThere is no way to make the schema for one field dependent on the value of another field.\r\n\r\n&gt; **2. If not, what&#39;s the best way to achieve conditional validation in Avro?**\r\n\r\nSimply make the schema as retrictive as possible and then for any rules that you can&#39;t capture in the schema, simply apply them as part of a post-construction validation step.\r\n\r\nE.g. taking your examples:\r\n\r\n* If field1 is present, then field2 should be present too.\r\n\r\nSimply make field1 and field2 optional, and apply the check on field2 during validation.\r\n\r\n* If field2 is present, then field4 which is an enum of [a,b,c] can only have the value [a,b].\r\n\r\nAgain, simply apply the check on field4 during validation.\r\n\r\n&gt; **3. Alternatively, is there a tool to convert a JSON schema to AVSC (I already have a JSON schema defined with the conditional validation I need)?**\r\n\r\nI doubt it. In any case, even if one did exist, given that Avro Schema is less powerful than JSON Schema, it woudn&#39;t solve your problem.","title":"Does Avro Schema Allow Conditional Fields?","body":"<p>You can represent optional fields in Avro by making the field type a union between the actual type and null, e.g.:</p>\n<pre><code>{\n    &quot;name&quot;: &quot;username&quot;,\n    &quot;type&quot;: [\n      &quot;null&quot;,\n      &quot;string&quot;\n    ],\n    &quot;default&quot;: null\n},\n</code></pre>\n<blockquote>\n<p><strong>1. Does Avro schema allow conditional fields like JSON schema does using allOf, anyOf, dependencies etc.?</strong></p>\n</blockquote>\n<p>There is no way to make the schema for one field dependent on the value of another field.</p>\n<blockquote>\n<p><strong>2. If not, what's the best way to achieve conditional validation in Avro?</strong></p>\n</blockquote>\n<p>Simply make the schema as retrictive as possible and then for any rules that you can't capture in the schema, simply apply them as part of a post-construction validation step.</p>\n<p>E.g. taking your examples:</p>\n<ul>\n<li>If field1 is present, then field2 should be present too.</li>\n</ul>\n<p>Simply make field1 and field2 optional, and apply the check on field2 during validation.</p>\n<ul>\n<li>If field2 is present, then field4 which is an enum of [a,b,c] can only have the value [a,b].</li>\n</ul>\n<p>Again, simply apply the check on field4 during validation.</p>\n<blockquote>\n<p><strong>3. Alternatively, is there a tool to convert a JSON schema to AVSC (I already have a JSON schema defined with the conditional validation I need)?</strong></p>\n</blockquote>\n<p>I doubt it. In any case, even if one did exist, given that Avro Schema is less powerful than JSON Schema, it woudn't solve your problem.</p>\n"}],"owner":{"account_id":1616859,"reputation":177,"user_id":1525813,"accept_rate":50,"display_name":"RGB314"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1688217493,"creation_date":1687965559,"question_id":76574577,"body_markdown":"I&#39;m planning to use Avro&#39;s `Java` API to build out a schema (preferably by using a tool which converts POJOs to `AVSC`). \r\n\r\n1. Does Avro schema allow conditional fields like `JSON` schema does using `allOf`, `anyOf`, `dependencies` etc.?\r\n2. If not, what&#39;s the best way to achieve conditional validation in Avro?\r\n3. Alternatively, is there a tool to convert a `JSON` schema to `AVSC` (I already have a `JSON` schema defined with the conditional validation I need)?\r\n\r\n\r\n**For example:**\r\n\r\n - If `field1` is present, then `field2` should be present too.\r\n - `field3` should always be present.\r\n - If `field2` is present, then `field4` which is an `enum` of `[a,b,c]` can only have the value `[a,b]`.\r\n\r\n\r\n","title":"Does Avro Schema Allow Conditional Fields?","body":"<p>I'm planning to use Avro's <code>Java</code> API to build out a schema (preferably by using a tool which converts POJOs to <code>AVSC</code>).</p>\n<ol>\n<li>Does Avro schema allow conditional fields like <code>JSON</code> schema does using <code>allOf</code>, <code>anyOf</code>, <code>dependencies</code> etc.?</li>\n<li>If not, what's the best way to achieve conditional validation in Avro?</li>\n<li>Alternatively, is there a tool to convert a <code>JSON</code> schema to <code>AVSC</code> (I already have a <code>JSON</code> schema defined with the conditional validation I need)?</li>\n</ol>\n<p><strong>For example:</strong></p>\n<ul>\n<li>If <code>field1</code> is present, then <code>field2</code> should be present too.</li>\n<li><code>field3</code> should always be present.</li>\n<li>If <code>field2</code> is present, then <code>field4</code> which is an <code>enum</code> of <code>[a,b,c]</code> can only have the value <code>[a,b]</code>.</li>\n</ul>\n"},{"tags":["java","php","android","arrays","json"],"comments":[{"owner":{"account_id":935411,"reputation":1707,"user_id":964411,"accept_rate":42,"display_name":"SripadRaj"},"score":2,"creation_date":1531746099,"post_id":51362410,"comment_id":89697051,"body_markdown":"Please post  you crash stacktrace.","body":"Please post  you crash stacktrace."},{"owner":{"account_id":2855392,"reputation":1787,"user_id":2451763,"accept_rate":69,"display_name":"Sparker0i"},"score":2,"creation_date":1531746137,"post_id":51362410,"comment_id":89697069,"body_markdown":"Please post the relevant logcat. And I also sincerely hope that you are having a try catch block for catching sull null values","body":"Please post the relevant logcat. And I also sincerely hope that you are having a try catch block for catching sull null values"},{"owner":{"account_id":3544712,"reputation":4010,"user_id":2960971,"display_name":"IncredibleHat"},"score":1,"creation_date":1531746844,"post_id":51362410,"comment_id":89697529,"body_markdown":"You probably want to remove `array_values` from your `json_encode`, as that is simply returning the values of that array without any keyname. Unless that is what you want to happen. Seems odd why you bother to add a keyname, just to strip it out.","body":"You probably want to remove <code>array_values</code> from your <code>json_encode</code>, as that is simply returning the values of that array without any keyname. Unless that is what you want to happen. Seems odd why you bother to add a keyname, just to strip it out."},{"owner":{"account_id":3544712,"reputation":4010,"user_id":2960971,"display_name":"IncredibleHat"},"score":1,"creation_date":1531746878,"post_id":51362410,"comment_id":89697545,"body_markdown":"Regarding PHP end: Your script is at risk of [SQL Injection Attack](http://stackoverflow.com/questions/60174/how-can-i-prevent-sql-injection-in-php). Have a look at what happened to [Little Bobby Tables](http://bobby-tables.com/).Even [if you are escaping inputs, its not safe!](http://stackoverflow.com/questions/5741187/sql-injection-that-gets-around-mysql-real-escape-string) Use [prepared parameterized statements](http://php.net/manual/en/mysqli.quickstart.prepared-statements.php) instead.","body":"Regarding PHP end: Your script is at risk of <a href=\"http://stackoverflow.com/questions/60174/how-can-i-prevent-sql-injection-in-php\">SQL Injection Attack</a>. Have a look at what happened to <a href=\"http://bobby-tables.com/\" rel=\"nofollow noreferrer\">Little Bobby Tables</a>.Even <a href=\"http://stackoverflow.com/questions/5741187/sql-injection-that-gets-around-mysql-real-escape-string\">if you are escaping inputs, its not safe!</a> Use <a href=\"http://php.net/manual/en/mysqli.quickstart.prepared-statements.php\" rel=\"nofollow noreferrer\">prepared parameterized statements</a> instead."},{"owner":{"display_name":"user8959156"},"score":0,"creation_date":1531750114,"post_id":51362410,"comment_id":89699750,"body_markdown":"@SripadRaj I have added the logcat now","body":"@SripadRaj I have added the logcat now"},{"owner":{"account_id":17020749,"reputation":1278,"user_id":12313402,"display_name":"Vijay"},"score":0,"creation_date":1648492091,"post_id":51362410,"comment_id":126632496,"body_markdown":"NULL POINTER EXCEPTION","body":"NULL POINTER EXCEPTION"}],"answers":[{"tags":[],"owner":{"account_id":26606954,"reputation":7,"user_id":20227628,"display_name":"Edwin Tigor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688216949,"creation_date":1688216856,"answer_id":76594822,"question_id":51362410,"body_markdown":"You have to make sure image url always present on your php code. You can use a logic, If it is empty then set it as default image url link. for example src=&quot;img/no-photo.png&quot;.\r\n\r\nand marking the &quot;no-photo.png&quot; as known String image base64 on android from the &quot;no-photo.png&quot; on the server.\r\n\r\nSo, On android code. when you see the url is &quot;no-photo.png&quot; and base64 string is match, then do something.","title":"Why is my is my App crashing when getting empty data?","body":"<p>You have to make sure image url always present on your php code. You can use a logic, If it is empty then set it as default image url link. for example src=&quot;img/no-photo.png&quot;.</p>\n<p>and marking the &quot;no-photo.png&quot; as known String image base64 on android from the &quot;no-photo.png&quot; on the server.</p>\n<p>So, On android code. when you see the url is &quot;no-photo.png&quot; and base64 string is match, then do something.</p>\n"}],"owner":{"display_name":"user8959156"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1688216949,"creation_date":1531745920,"question_id":51362410,"body_markdown":"My app gets data from a PHP file. 3 normal textdata and 5 image urls. The app displays them in a recyclerview with cardviews.\r\n###My problem is, that the app crashes when getting empty image urls.\r\nBut with empty textdata the app works without problems.\r\n\r\n##Like:\r\n\r\ntextdata with content + image urls with content = works \r\n\r\nEmpty textdata + empty image urls = App crashes\r\n\r\nEmpty textdata + image urls with content = works \r\n\r\ntextdata with content + empty image urls = App crashes\r\n\r\n#This is the getting and sending (to RecyclerviewAdapter) Code:\r\n\r\n    public void JSON_DATA_WEB_CALL (String url){\r\n\r\n            jsonArrayRequest = new JsonArrayRequest(url,\r\n\r\n                    new Response.Listener&lt;JSONArray&gt;() {\r\n                        @Override\r\n                        public void onResponse(JSONArray response) {\r\n\r\n\r\n                            JSON_PARSE_DATA_AFTER_WEBCALL(response);\r\n                        }\r\n                    },\r\n                    new Response.ErrorListener() {\r\n                        @Override\r\n                        public void onErrorResponse(VolleyError error) {\r\n\r\n                        }\r\n                    });\r\n\r\n            requestQueue = Volley.newRequestQueue(this);\r\n\r\n            requestQueue.add(jsonArrayRequest);\r\n        }\r\n\r\n     public void JSON_PARSE_DATA_AFTER_WEBCALL(JSONArray array) {\r\n\r\n        for (int i = 0; i &lt; array.length(); i++) {\r\n\r\n            GetDataAdapter GetDataAdapter2 = new GetDataAdapter();\r\n\r\n            JSONObject json = null;\r\n\r\n            try {\r\n\r\n\r\n\r\n                json = array.getJSONObject(i);\r\n\r\n\r\n\r\n                    GetDataAdapter2.setImageUrl(json.getString(Image_URL_JSON));\r\n                    GetDataAdapter2.setImageUrl2(json.getString(Image_URL_JSON2));\r\n                    GetDataAdapter2.setImageUrl3(json.getString(Image_URL_JSON3));\r\n                    GetDataAdapter2.setImageUrl4(json.getString(Image_URL_JSON4));\r\n                    GetDataAdapter2.setImageUrl5(json.getString(Image_URL_JSON5));\r\n                    GetDataAdapter2.setPhone_number(json.getString(SOMETEXT));\r\n                    GetDataAdapter2.setName(json.getString(SOMETEXT2));\r\n\r\n                    GetDataAdapter2.setSubject2(json.getString(SOMETEXT3));\r\n\r\n            } catch (JSONException e) {\r\n\r\n                e.printStackTrace();\r\n            }\r\n            GetDataAdapter1.add(GetDataAdapter2);\r\n        }\r\n        recyclerViewadapter = new RecyclerViewAdapter(solutionTemplate.this, GetDataAdapter1, exerciseAdapter);\r\n\r\n        recyclerView.setAdapter(recyclerViewadapter);\r\n    }\r\n\r\n\r\n\r\n\r\n##The mainproblem is: \r\n          json = array.getJSONObject(i);\r\n\r\n                GetDataAdapter2.setImageUrl(json.getString(Image_URL_JSON));\r\n                GetDataAdapter2.setImageUrl2(json.getString(Image_URL_JSON2));\r\n                GetDataAdapter2.setImageUrl3(json.getString(Image_URL_JSON3));\r\n                GetDataAdapter2.setImageUrl4(json.getString(Image_URL_JSON4));\r\n                GetDataAdapter2.setImageUrl5(json.getString(Image_URL_JSON5));\r\n                GetDataAdapter2.setPhone_number(json.getString(SOMETEXT));\r\n                GetDataAdapter2.setName(json.getString(SOMETEXT2));\r\n\r\n                GetDataAdapter2.setSubject2(json.getString(SOMETEXT3));\r\n\r\n\r\n##Working:\r\n\r\n    json = array.getJSONObject(i);\r\n\r\n                GetDataAdapter2.setImageUrl(json.getString(Image_URL_JSON));\r\n                GetDataAdapter2.setImageUrl2(json.getString(Image_URL_JSON2));\r\n                GetDataAdapter2.setImageUrl3(json.getString(Image_URL_JSON3));\r\n                GetDataAdapter2.setImageUrl4(json.getString(Image_URL_JSON4));\r\n                GetDataAdapter2.setImageUrl5(json.getString(Image_URL_JSON5));\r\n\r\n##Not working:\r\n\r\n               GetDataAdapter2.setPhone_number(json.getString(SOMETEXT));\r\n                GetDataAdapter2.setName(json.getString(SOMETEXT2));\r\n                GetDataAdapter2.setSubject2(json.getString(SOMETEXT3));\r\n\r\n\r\n#Getting image urls with content is necassary!\r\nBut it should work without it!\r\n\r\n##This is the GetDataAdapter:\r\n\r\n    public String getPhone_number() {\r\n\r\n        return phone_number;\r\n    }\r\n\r\n    public void setPhone_number(String phone_number1) {\r\n\r\n        this.phone_number = phone_number1;\r\n    }\r\n\r\n    public String getSubject2() {\r\n\r\n        return subject2;\r\n    }\r\n\r\n    public void setSubject2(String subject2) {\r\n\r\n        this.subject2 = subject2;\r\n    }\r\n    public String getImageUrl() {\r\n\r\n        return ImageURL;\r\n    }\r\n    public void setImageUrl(String imageServerUrl) {\r\n\r\n        this.ImageURL = imageServerUrl;\r\n    }\r\n\r\n\r\n\r\n    public String getImageUrl2() {\r\n\r\n        return ImageURL2;\r\n    }\r\n\r\n    public void setImageUrl2(String imageServerUrl2) {\r\n\r\n        this.ImageURL2 = imageServerUrl2;\r\n    }\r\n\r\n\r\n\r\n    public String getImageUrl3() {\r\n\r\n        return ImageURL3;\r\n    }\r\n\r\n    public void setImageUrl3(String imageServerUrl3) {\r\n\r\n        this.ImageURL3 = imageServerUrl3;\r\n    }\r\n\r\n\r\n\r\n    public String getImageUrl4() {\r\n\r\n        return ImageURL4;\r\n    }\r\n\r\n    public void setImageUrl4(String imageServerUrl4) {\r\n\r\n        this.ImageURL4 = imageServerUrl4;\r\n    }\r\n\r\n\r\n\r\n    public String getImageUrl5() {\r\n\r\n        return ImageURL5;\r\n    }\r\n\r\n    public void setImageUrl5(String imageServerUrl5) {\r\n\r\n        this.ImageURL5 = imageServerUrl5;\r\n    }\r\n\r\n##RecyclerViewAdapter:\r\n\r\n    @Override\r\n    public void onBindViewHolder(final RecyclerView.ViewHolder holder, int position) {\r\n        if (holder instanceof ViewHolder) {\r\n\r\n            final GetDataAdapter current = getItem(position - 1);\r\n            final ViewHolder holder1 = (ViewHolder) holder;\r\n            final ImageLoader imageLoader = ImageAdapter.getInstance(context).getImageLoader();\r\n            final ImageLoader imageLoader2 = ImageAdapter.getInstance(context).getImageLoader();\r\n            final ImageLoader imageLoader3 = ImageAdapter.getInstance(context).getImageLoader();\r\n            final ImageLoader imageLoader4 = ImageAdapter.getInstance(context).getImageLoader();\r\n            final ImageLoader imageLoader5 = ImageAdapter.getInstance(context).getImageLoader();\r\n\r\n           imageLoader.get(current.getImageUrl(),\r\n                    ImageLoader.getImageListener(\r\n                            holder1.imageView1,\r\n                            R.mipmap.ic_launcher_image,\r\n                            android.R.drawable.ic_dialog_alert\r\n                    )\r\n            );\r\n            imageLoader2.get(current.getImageUrl2(),\r\n                    ImageLoader.getImageListener(\r\n                            holder1.imageView2,\r\n                            R.mipmap.ic_launcher_image,\r\n                            android.R.drawable.ic_dialog_alert\r\n                    )\r\n            );\r\n            imageLoader3.get(current.getImageUrl3(),\r\n                    ImageLoader.getImageListener(\r\n                            holder1.imageView3,\r\n                            R.mipmap.ic_launcher_image,\r\n                            android.R.drawable.ic_dialog_alert\r\n                    )\r\n            );\r\n            imageLoader4.get(current.getImageUrl4(),\r\n                    ImageLoader.getImageListener(\r\n                            holder1.imageView4,\r\n                            R.mipmap.ic_launcher_image,\r\n                            android.R.drawable.ic_dialog_alert\r\n                    )\r\n            );\r\n            imageLoader5.get(current.getImageUrl5(),\r\n                    ImageLoader.getImageListener(\r\n                            holder1.imageView5,\r\n                            R.mipmap.ic_launcher_image,\r\n                            android.R.drawable.ic_dialog_alert\r\n                    )\r\n            );\r\n\r\n\r\n        holder1.imageView1.setImageUrl(current.getImageUrl(), imageLoader);\r\n        holder1.imageView2.setImageUrl(current.getImageUrl2(), imageLoader2);\r\n        holder1.imageView3.setImageUrl(current.getImageUrl3(), imageLoader3);\r\n        holder1.imageView4.setImageUrl(current.getImageUrl4(), imageLoader4);\r\n        holder1.imageView5.setImageUrl(current.getImageUrl5(), imageLoader5);\r\n        holder1.NameTextView.setText(current.getName());\r\n        holder1.PhoneNumberTextView.setText(current.getPhone_number());\r\n        holder1.SubjectTextView.setText(current.getSubject2());\r\n\r\n#ImageAdapter:\r\n\r\n    public class ImageAdapter {\r\n\r\n    public static ImageAdapter imageAdapter;\r\n\r\n    public Network networkOBJ ;\r\n\r\n    public RequestQueue requestQueue1;\r\n\r\n    public ImageLoader Imageloader1;\r\n\r\n    public Cache cache1 ;\r\n\r\n    public static Context context1;\r\n\r\n    LruCache&lt;String, Bitmap&gt; LRUCACHE = new LruCache&lt;String, Bitmap&gt;(30);\r\n\r\n    private ImageAdapter(Context context) {\r\n\r\n        this.context1 = context;\r\n\r\n        this.requestQueue1 = RequestQueueFunction();\r\n\r\n        Imageloader1 = new ImageLoader(requestQueue1, new ImageLoader.ImageCache() {\r\n\r\n            @Override\r\n            public Bitmap getBitmap(String URL) {\r\n\r\n                return LRUCACHE.get(URL);\r\n            }\r\n\r\n            @Override\r\n            public void putBitmap(String url, Bitmap bitmap) {\r\n\r\n                LRUCACHE.put(url, bitmap);\r\n            }\r\n        });\r\n    }\r\n\r\n    public ImageLoader getImageLoader() {\r\n\r\n        return Imageloader1;\r\n    }\r\n\r\n    public static ImageAdapter getInstance(Context SynchronizedContext) {\r\n\r\n        if (imageAdapter == null) {\r\n\r\n            imageAdapter = new ImageAdapter(SynchronizedContext);\r\n        }\r\n        return imageAdapter;\r\n    }\r\n\r\n    public RequestQueue RequestQueueFunction() {\r\n\r\n        if (requestQueue1 == null) {\r\n\r\n            cache1 = new DiskBasedCache(context1.getCacheDir());\r\n\r\n            networkOBJ = new BasicNetwork(new HurlStack());\r\n\r\n            requestQueue1 = new RequestQueue(cache1, networkOBJ);\r\n\r\n            requestQueue1.start();\r\n        }\r\n        return requestQueue1;\r\n    }\r\n}\r\n\r\n\r\n##PHP:\r\n\r\n    &lt;?php\r\n\r\n\r\n\r\n\r\n     $conn = mysqli_connect(&#39;localhost&#39;, &#39;root&#39;, &#39;&#39;,&#39;webapp&#39;);\r\n     $id = $_GET[&#39;id&#39;];\r\n\r\n\r\n\t$sql = &quot;SELECT * FROM answers WHERE id=&#39;$id&#39; ORDER BY id DESC&quot;;\r\n\t\r\n\t$res = mysqli_query($conn,$sql);\r\n\t\r\n\t$result = array();\r\n\r\n\t\r\n\r\n\twhile($row = mysqli_fetch_array($res)){\r\n\t\tarray_push($result,array(\r\n\t\t\t&#39;url2&#39;=&gt;$row[&#39;images&#39;],\r\n\t\t\t&#39;url3&#39;=&gt;$row[&#39;images2&#39;],\r\n\t\t\t&#39;url4&#39;=&gt;$row[&#39;images3&#39;],\r\n\t\t\t&#39;url5&#39;=&gt;$row[&#39;images4&#39;],\r\n\t\t\t&#39;url6&#39;=&gt;$row[&#39;images5&#39;],\r\n\t\t\t&#39;subject&#39;=&gt;$row[&#39;subject&#39;],\r\n\t\t\t&#39;phone&#39;=&gt;$row[&#39;phone&#39;],\r\n\t\t\t&#39;name&#39;=&gt;$row[&#39;name&#39;]));\r\n\t}  \r\n\r\n\techo json_encode(array_values($result));\r\n\r\n\t\t\r\n\r\n\tmysqli_close($conn);\r\n\t\r\n\r\n          ?&gt;\r\n\r\n\r\nIf PHP sends `url2, url3, url4...` without content the app chrashes, but `phone, name, subject` with empty values works without problems.\r\n\r\n##I think Android has a Problem with converting empty imageurls and with displaying it.\r\n\r\n#EDIT:\r\nA lot of users said that I have to add the Logcat:\r\n\r\n\t\t07-16 13:12:10.713 1578-1990/system_process W/ActivityManager:   Force finishing activity com.example.jakob.webapplicationsave/.solutionTemplate\r\n\t\t07-16 13:12:10.822 1578-1990/system_process W/ActivityManager:   Force finishing activity com.example.jakob.webapplicationsave/.Main2Activity\r\n\t\t07-16 13:12:10.946 1578-2630/system_process I/OpenGLRenderer: Initialized EGL, version 1.4\r\n\t\t07-16 13:12:10.947 1578-2630/system_process D/EGL_emulation: eglCreateContext: 0x9c2be040: maj 2 min 0 rcv 2\r\n\t\t07-16 13:12:10.953 1578-2630/system_process D/EGL_emulation: eglMakeCurrent: 0x9c2be040: ver 2 0 (tinfo 0x9efbd6e0)\r\n\t\t07-16 13:12:10.962 1578-2630/system_process D/EGL_emulation: eglMakeCurrent: 0x9c2be040: ver 2 0 (tinfo 0x9efbd6e0)\r\n\t\t07-16 13:12:11.323 1578-1592/system_process W/ActivityManager: Activity pause timeout for ActivityRecord{e46f507 u0 com.example.jakob.webapplicationsave/.solutionTemplate t497 f}\r\n\t\t07-16 13:12:11.372 1930-2076/com.android.launcher3 I/OpenGLRenderer: Initialized EGL, version 1.4\r\n\t\t07-16 13:12:11.374 1930-2076/com.android.launcher3 D/EGL_emulation: eglCreateContext: 0xae414660: maj 2 min 0 rcv 2\r\n\t\t07-16 13:12:11.385 1930-2076/com.android.launcher3 D/EGL_emulation: eglMakeCurrent: 0xae414660: ver 2 0 (tinfo 0xae412440)\r\n\t\t07-16 13:12:11.423 1930-2076/com.android.launcher3 D/EGL_emulation: eglMakeCurrent: 0xae414660: ver 2 0 (tinfo 0xae412440)\r\n\t\t07-16 13:12:13.537 1270-1616/? W/audio_hw_generic: Not supplying enough data to HAL, expected position 38006369 , only wrote 37870012\r\n\t\t07-16 13:12:14.795 13519-13519/com.example.jakob.webapplicationsave I/Process: Sending signal. PID: 13519 SIG: 9\r\n\t\t07-16 13:12:14.814 1578-2630/system_process D/EGL_emulation: eglMakeCurrent: 0x9c2be040: ver 2 0 (tinfo 0x9efbd6e0)\r\n\t\t07-16 13:12:14.815 1578-2630/system_process E/Surface: getSlotFromBufferLocked: unknown buffer: 0x9b6834a0\r\n\t\t07-16 13:12:14.830 1578-2182/system_process E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 104)\r\n\t\t07-16 13:12:14.830 1578-2182/system_process W/InputMethodManagerService: Got RemoteException sending setActive(false) notification to pid 13519 uid 10062\r\n\t\t07-16 13:12:14.833 1578-2182/system_process E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 104)\r\n\t\t07-16 13:12:14.847 1578-1713/system_process D/GraphicsStats: Buffer count: 5\r\n\t\t07-16 13:12:14.847 1578-1625/system_process W/InputDispatcher: channel &#39;7af27b1 com.example.jakob.webapplicationsave/com.example.jakob.webapplicationsave.Main2Activity (server)&#39; ~ Consumer closed input channel or an error occurred.  events=0x9\r\n\t\t07-16 13:12:14.847 1578-2182/system_process I/WindowState: WIN DEATH: Window{7af27b1 u0 com.example.jakob.webapplicationsave/com.example.jakob.webapplicationsave.Main2Activity}\r\n\t\t07-16 13:12:14.847 1578-1625/system_process E/InputDispatcher: channel &#39;7af27b1 com.example.jakob.webapplicationsave/com.example.jakob.webapplicationsave.Main2Activity (server)&#39; ~ Channel is unrecoverably broken and will be disposed!\r\n\t\t07-16 13:12:14.847 1578-1625/system_process W/InputDispatcher: channel &#39;cd3daa3 com.example.jakob.webapplicationsave/com.example.jakob.webapplicationsave.solutionTemplate (server)&#39; ~ Consumer closed input channel or an error occurred.  events=0x9\r\n\t\t07-16 13:12:14.847 1578-1625/system_process E/InputDispatcher: channel &#39;cd3daa3 com.example.jakob.webapplicationsave/com.example.jakob.webapplicationsave.solutionTemplate (server)&#39; ~ Channel is unrecoverably broken and will be disposed!\r\n\t\t07-16 13:12:14.847 1578-2182/system_process W/InputDispatcher: Attempted to unregister already unregistered input channel &#39;7af27b1 com.example.jakob.webapplicationsave/com.example.jakob.webapplicationsave.Main2Activity (server)&#39;\r\n\t\t07-16 13:12:14.848 1578-2179/system_process I/WindowState: WIN DEATH: Window{cd3daa3 u0 com.example.jakob.webapplicationsave/com.example.jakob.webapplicationsave.solutionTemplate}\r\n\t\t07-16 13:12:14.848 1578-2179/system_process W/InputDispatcher: Attempted to unregister already unregistered input channel &#39;cd3daa3 com.example.jakob.webapplicationsave/com.example.jakob.webapplicationsave.solutionTemplate (server)&#39;\r\n\t\t07-16 13:12:14.853 1259-1259/? W/SurfaceFlinger: couldn&#39;t log to binary event log: overflow.\r\n\t\t07-16 13:12:14.853 1578-1963/system_process I/ActivityManager: Process com.example.jakob.webapplicationsave (pid 13519) has died\r\n\t\t07-16 13:12:15.026 1578-1597/system_process W/AppOps: Finishing op nesting under-run: uid 1000 pkg android code 24 time=0 duration=0 nesting=0\r\n\t\t07-16 13:12:17.958 1270-1616/? W/audio_hw_generic: Not supplying enough data to HAL, expected position 38145850 , only wrote 38008822\r\n\t\t07-16 13:13:00.065 1259-1351/? D/hwcomposer: hw_composer sent 312 syncs in 60s\r\n\t\t07-16 13:14:00.056 1259-1351/? D/hwcomposer: hw_composer sent 5 syncs in 60s\r\n\r\n","title":"Why is my is my App crashing when getting empty data?","body":"<p>My app gets data from a PHP file. 3 normal textdata and 5 image urls. The app displays them in a recyclerview with cardviews.</p>\n\n<h3>My problem is, that the app crashes when getting empty image urls.</h3>\n\n<p>But with empty textdata the app works without problems.</p>\n\n<h2>Like:</h2>\n\n<p>textdata with content + image urls with content = works </p>\n\n<p>Empty textdata + empty image urls = App crashes</p>\n\n<p>Empty textdata + image urls with content = works </p>\n\n<p>textdata with content + empty image urls = App crashes</p>\n\n<h1>This is the getting and sending (to RecyclerviewAdapter) Code:</h1>\n\n<pre><code>public void JSON_DATA_WEB_CALL (String url){\n\n        jsonArrayRequest = new JsonArrayRequest(url,\n\n                new Response.Listener&lt;JSONArray&gt;() {\n                    @Override\n                    public void onResponse(JSONArray response) {\n\n\n                        JSON_PARSE_DATA_AFTER_WEBCALL(response);\n                    }\n                },\n                new Response.ErrorListener() {\n                    @Override\n                    public void onErrorResponse(VolleyError error) {\n\n                    }\n                });\n\n        requestQueue = Volley.newRequestQueue(this);\n\n        requestQueue.add(jsonArrayRequest);\n    }\n\n public void JSON_PARSE_DATA_AFTER_WEBCALL(JSONArray array) {\n\n    for (int i = 0; i &lt; array.length(); i++) {\n\n        GetDataAdapter GetDataAdapter2 = new GetDataAdapter();\n\n        JSONObject json = null;\n\n        try {\n\n\n\n            json = array.getJSONObject(i);\n\n\n\n                GetDataAdapter2.setImageUrl(json.getString(Image_URL_JSON));\n                GetDataAdapter2.setImageUrl2(json.getString(Image_URL_JSON2));\n                GetDataAdapter2.setImageUrl3(json.getString(Image_URL_JSON3));\n                GetDataAdapter2.setImageUrl4(json.getString(Image_URL_JSON4));\n                GetDataAdapter2.setImageUrl5(json.getString(Image_URL_JSON5));\n                GetDataAdapter2.setPhone_number(json.getString(SOMETEXT));\n                GetDataAdapter2.setName(json.getString(SOMETEXT2));\n\n                GetDataAdapter2.setSubject2(json.getString(SOMETEXT3));\n\n        } catch (JSONException e) {\n\n            e.printStackTrace();\n        }\n        GetDataAdapter1.add(GetDataAdapter2);\n    }\n    recyclerViewadapter = new RecyclerViewAdapter(solutionTemplate.this, GetDataAdapter1, exerciseAdapter);\n\n    recyclerView.setAdapter(recyclerViewadapter);\n}\n</code></pre>\n\n<h2>The mainproblem is:</h2>\n\n<pre><code>      json = array.getJSONObject(i);\n\n            GetDataAdapter2.setImageUrl(json.getString(Image_URL_JSON));\n            GetDataAdapter2.setImageUrl2(json.getString(Image_URL_JSON2));\n            GetDataAdapter2.setImageUrl3(json.getString(Image_URL_JSON3));\n            GetDataAdapter2.setImageUrl4(json.getString(Image_URL_JSON4));\n            GetDataAdapter2.setImageUrl5(json.getString(Image_URL_JSON5));\n            GetDataAdapter2.setPhone_number(json.getString(SOMETEXT));\n            GetDataAdapter2.setName(json.getString(SOMETEXT2));\n\n            GetDataAdapter2.setSubject2(json.getString(SOMETEXT3));\n</code></pre>\n\n<h2>Working:</h2>\n\n<pre><code>json = array.getJSONObject(i);\n\n            GetDataAdapter2.setImageUrl(json.getString(Image_URL_JSON));\n            GetDataAdapter2.setImageUrl2(json.getString(Image_URL_JSON2));\n            GetDataAdapter2.setImageUrl3(json.getString(Image_URL_JSON3));\n            GetDataAdapter2.setImageUrl4(json.getString(Image_URL_JSON4));\n            GetDataAdapter2.setImageUrl5(json.getString(Image_URL_JSON5));\n</code></pre>\n\n<h2>Not working:</h2>\n\n<pre><code>           GetDataAdapter2.setPhone_number(json.getString(SOMETEXT));\n            GetDataAdapter2.setName(json.getString(SOMETEXT2));\n            GetDataAdapter2.setSubject2(json.getString(SOMETEXT3));\n</code></pre>\n\n<h1>Getting image urls with content is necassary!</h1>\n\n<p>But it should work without it!</p>\n\n<h2>This is the GetDataAdapter:</h2>\n\n<pre><code>public String getPhone_number() {\n\n    return phone_number;\n}\n\npublic void setPhone_number(String phone_number1) {\n\n    this.phone_number = phone_number1;\n}\n\npublic String getSubject2() {\n\n    return subject2;\n}\n\npublic void setSubject2(String subject2) {\n\n    this.subject2 = subject2;\n}\npublic String getImageUrl() {\n\n    return ImageURL;\n}\npublic void setImageUrl(String imageServerUrl) {\n\n    this.ImageURL = imageServerUrl;\n}\n\n\n\npublic String getImageUrl2() {\n\n    return ImageURL2;\n}\n\npublic void setImageUrl2(String imageServerUrl2) {\n\n    this.ImageURL2 = imageServerUrl2;\n}\n\n\n\npublic String getImageUrl3() {\n\n    return ImageURL3;\n}\n\npublic void setImageUrl3(String imageServerUrl3) {\n\n    this.ImageURL3 = imageServerUrl3;\n}\n\n\n\npublic String getImageUrl4() {\n\n    return ImageURL4;\n}\n\npublic void setImageUrl4(String imageServerUrl4) {\n\n    this.ImageURL4 = imageServerUrl4;\n}\n\n\n\npublic String getImageUrl5() {\n\n    return ImageURL5;\n}\n\npublic void setImageUrl5(String imageServerUrl5) {\n\n    this.ImageURL5 = imageServerUrl5;\n}\n</code></pre>\n\n<h2>RecyclerViewAdapter:</h2>\n\n<pre><code>@Override\npublic void onBindViewHolder(final RecyclerView.ViewHolder holder, int position) {\n    if (holder instanceof ViewHolder) {\n\n        final GetDataAdapter current = getItem(position - 1);\n        final ViewHolder holder1 = (ViewHolder) holder;\n        final ImageLoader imageLoader = ImageAdapter.getInstance(context).getImageLoader();\n        final ImageLoader imageLoader2 = ImageAdapter.getInstance(context).getImageLoader();\n        final ImageLoader imageLoader3 = ImageAdapter.getInstance(context).getImageLoader();\n        final ImageLoader imageLoader4 = ImageAdapter.getInstance(context).getImageLoader();\n        final ImageLoader imageLoader5 = ImageAdapter.getInstance(context).getImageLoader();\n\n       imageLoader.get(current.getImageUrl(),\n                ImageLoader.getImageListener(\n                        holder1.imageView1,\n                        R.mipmap.ic_launcher_image,\n                        android.R.drawable.ic_dialog_alert\n                )\n        );\n        imageLoader2.get(current.getImageUrl2(),\n                ImageLoader.getImageListener(\n                        holder1.imageView2,\n                        R.mipmap.ic_launcher_image,\n                        android.R.drawable.ic_dialog_alert\n                )\n        );\n        imageLoader3.get(current.getImageUrl3(),\n                ImageLoader.getImageListener(\n                        holder1.imageView3,\n                        R.mipmap.ic_launcher_image,\n                        android.R.drawable.ic_dialog_alert\n                )\n        );\n        imageLoader4.get(current.getImageUrl4(),\n                ImageLoader.getImageListener(\n                        holder1.imageView4,\n                        R.mipmap.ic_launcher_image,\n                        android.R.drawable.ic_dialog_alert\n                )\n        );\n        imageLoader5.get(current.getImageUrl5(),\n                ImageLoader.getImageListener(\n                        holder1.imageView5,\n                        R.mipmap.ic_launcher_image,\n                        android.R.drawable.ic_dialog_alert\n                )\n        );\n\n\n    holder1.imageView1.setImageUrl(current.getImageUrl(), imageLoader);\n    holder1.imageView2.setImageUrl(current.getImageUrl2(), imageLoader2);\n    holder1.imageView3.setImageUrl(current.getImageUrl3(), imageLoader3);\n    holder1.imageView4.setImageUrl(current.getImageUrl4(), imageLoader4);\n    holder1.imageView5.setImageUrl(current.getImageUrl5(), imageLoader5);\n    holder1.NameTextView.setText(current.getName());\n    holder1.PhoneNumberTextView.setText(current.getPhone_number());\n    holder1.SubjectTextView.setText(current.getSubject2());\n</code></pre>\n\n<h1>ImageAdapter:</h1>\n\n<pre><code>public class ImageAdapter {\n\npublic static ImageAdapter imageAdapter;\n\npublic Network networkOBJ ;\n\npublic RequestQueue requestQueue1;\n\npublic ImageLoader Imageloader1;\n\npublic Cache cache1 ;\n\npublic static Context context1;\n\nLruCache&lt;String, Bitmap&gt; LRUCACHE = new LruCache&lt;String, Bitmap&gt;(30);\n\nprivate ImageAdapter(Context context) {\n\n    this.context1 = context;\n\n    this.requestQueue1 = RequestQueueFunction();\n\n    Imageloader1 = new ImageLoader(requestQueue1, new ImageLoader.ImageCache() {\n\n        @Override\n        public Bitmap getBitmap(String URL) {\n\n            return LRUCACHE.get(URL);\n        }\n\n        @Override\n        public void putBitmap(String url, Bitmap bitmap) {\n\n            LRUCACHE.put(url, bitmap);\n        }\n    });\n}\n\npublic ImageLoader getImageLoader() {\n\n    return Imageloader1;\n}\n\npublic static ImageAdapter getInstance(Context SynchronizedContext) {\n\n    if (imageAdapter == null) {\n\n        imageAdapter = new ImageAdapter(SynchronizedContext);\n    }\n    return imageAdapter;\n}\n\npublic RequestQueue RequestQueueFunction() {\n\n    if (requestQueue1 == null) {\n\n        cache1 = new DiskBasedCache(context1.getCacheDir());\n\n        networkOBJ = new BasicNetwork(new HurlStack());\n\n        requestQueue1 = new RequestQueue(cache1, networkOBJ);\n\n        requestQueue1.start();\n    }\n    return requestQueue1;\n}\n</code></pre>\n\n<p>}</p>\n\n<h2>PHP:</h2>\n\n<pre><code>&lt;?php\n\n\n\n\n $conn = mysqli_connect('localhost', 'root', '','webapp');\n $id = $_GET['id'];\n\n\n$sql = \"SELECT * FROM answers WHERE id='$id' ORDER BY id DESC\";\n\n$res = mysqli_query($conn,$sql);\n\n$result = array();\n\n\n\nwhile($row = mysqli_fetch_array($res)){\n    array_push($result,array(\n        'url2'=&gt;$row['images'],\n        'url3'=&gt;$row['images2'],\n        'url4'=&gt;$row['images3'],\n        'url5'=&gt;$row['images4'],\n        'url6'=&gt;$row['images5'],\n        'subject'=&gt;$row['subject'],\n        'phone'=&gt;$row['phone'],\n        'name'=&gt;$row['name']));\n}  \n\necho json_encode(array_values($result));\n\n\n\nmysqli_close($conn);\n\n\n      ?&gt;\n</code></pre>\n\n<p>If PHP sends <code>url2, url3, url4...</code> without content the app chrashes, but <code>phone, name, subject</code> with empty values works without problems.</p>\n\n<h2>I think Android has a Problem with converting empty imageurls and with displaying it.</h2>\n\n<h1>EDIT:</h1>\n\n<p>A lot of users said that I have to add the Logcat:</p>\n\n<pre><code>    07-16 13:12:10.713 1578-1990/system_process W/ActivityManager:   Force finishing activity com.example.jakob.webapplicationsave/.solutionTemplate\n    07-16 13:12:10.822 1578-1990/system_process W/ActivityManager:   Force finishing activity com.example.jakob.webapplicationsave/.Main2Activity\n    07-16 13:12:10.946 1578-2630/system_process I/OpenGLRenderer: Initialized EGL, version 1.4\n    07-16 13:12:10.947 1578-2630/system_process D/EGL_emulation: eglCreateContext: 0x9c2be040: maj 2 min 0 rcv 2\n    07-16 13:12:10.953 1578-2630/system_process D/EGL_emulation: eglMakeCurrent: 0x9c2be040: ver 2 0 (tinfo 0x9efbd6e0)\n    07-16 13:12:10.962 1578-2630/system_process D/EGL_emulation: eglMakeCurrent: 0x9c2be040: ver 2 0 (tinfo 0x9efbd6e0)\n    07-16 13:12:11.323 1578-1592/system_process W/ActivityManager: Activity pause timeout for ActivityRecord{e46f507 u0 com.example.jakob.webapplicationsave/.solutionTemplate t497 f}\n    07-16 13:12:11.372 1930-2076/com.android.launcher3 I/OpenGLRenderer: Initialized EGL, version 1.4\n    07-16 13:12:11.374 1930-2076/com.android.launcher3 D/EGL_emulation: eglCreateContext: 0xae414660: maj 2 min 0 rcv 2\n    07-16 13:12:11.385 1930-2076/com.android.launcher3 D/EGL_emulation: eglMakeCurrent: 0xae414660: ver 2 0 (tinfo 0xae412440)\n    07-16 13:12:11.423 1930-2076/com.android.launcher3 D/EGL_emulation: eglMakeCurrent: 0xae414660: ver 2 0 (tinfo 0xae412440)\n    07-16 13:12:13.537 1270-1616/? W/audio_hw_generic: Not supplying enough data to HAL, expected position 38006369 , only wrote 37870012\n    07-16 13:12:14.795 13519-13519/com.example.jakob.webapplicationsave I/Process: Sending signal. PID: 13519 SIG: 9\n    07-16 13:12:14.814 1578-2630/system_process D/EGL_emulation: eglMakeCurrent: 0x9c2be040: ver 2 0 (tinfo 0x9efbd6e0)\n    07-16 13:12:14.815 1578-2630/system_process E/Surface: getSlotFromBufferLocked: unknown buffer: 0x9b6834a0\n    07-16 13:12:14.830 1578-2182/system_process E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 104)\n    07-16 13:12:14.830 1578-2182/system_process W/InputMethodManagerService: Got RemoteException sending setActive(false) notification to pid 13519 uid 10062\n    07-16 13:12:14.833 1578-2182/system_process E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 104)\n    07-16 13:12:14.847 1578-1713/system_process D/GraphicsStats: Buffer count: 5\n    07-16 13:12:14.847 1578-1625/system_process W/InputDispatcher: channel '7af27b1 com.example.jakob.webapplicationsave/com.example.jakob.webapplicationsave.Main2Activity (server)' ~ Consumer closed input channel or an error occurred.  events=0x9\n    07-16 13:12:14.847 1578-2182/system_process I/WindowState: WIN DEATH: Window{7af27b1 u0 com.example.jakob.webapplicationsave/com.example.jakob.webapplicationsave.Main2Activity}\n    07-16 13:12:14.847 1578-1625/system_process E/InputDispatcher: channel '7af27b1 com.example.jakob.webapplicationsave/com.example.jakob.webapplicationsave.Main2Activity (server)' ~ Channel is unrecoverably broken and will be disposed!\n    07-16 13:12:14.847 1578-1625/system_process W/InputDispatcher: channel 'cd3daa3 com.example.jakob.webapplicationsave/com.example.jakob.webapplicationsave.solutionTemplate (server)' ~ Consumer closed input channel or an error occurred.  events=0x9\n    07-16 13:12:14.847 1578-1625/system_process E/InputDispatcher: channel 'cd3daa3 com.example.jakob.webapplicationsave/com.example.jakob.webapplicationsave.solutionTemplate (server)' ~ Channel is unrecoverably broken and will be disposed!\n    07-16 13:12:14.847 1578-2182/system_process W/InputDispatcher: Attempted to unregister already unregistered input channel '7af27b1 com.example.jakob.webapplicationsave/com.example.jakob.webapplicationsave.Main2Activity (server)'\n    07-16 13:12:14.848 1578-2179/system_process I/WindowState: WIN DEATH: Window{cd3daa3 u0 com.example.jakob.webapplicationsave/com.example.jakob.webapplicationsave.solutionTemplate}\n    07-16 13:12:14.848 1578-2179/system_process W/InputDispatcher: Attempted to unregister already unregistered input channel 'cd3daa3 com.example.jakob.webapplicationsave/com.example.jakob.webapplicationsave.solutionTemplate (server)'\n    07-16 13:12:14.853 1259-1259/? W/SurfaceFlinger: couldn't log to binary event log: overflow.\n    07-16 13:12:14.853 1578-1963/system_process I/ActivityManager: Process com.example.jakob.webapplicationsave (pid 13519) has died\n    07-16 13:12:15.026 1578-1597/system_process W/AppOps: Finishing op nesting under-run: uid 1000 pkg android code 24 time=0 duration=0 nesting=0\n    07-16 13:12:17.958 1270-1616/? W/audio_hw_generic: Not supplying enough data to HAL, expected position 38145850 , only wrote 38008822\n    07-16 13:13:00.065 1259-1351/? D/hwcomposer: hw_composer sent 312 syncs in 60s\n    07-16 13:14:00.056 1259-1351/? D/hwcomposer: hw_composer sent 5 syncs in 60s\n</code></pre>\n"},{"tags":["java","multithreading","unit-testing","junit"],"comments":[{"owner":{"account_id":22651,"reputation":13651,"user_id":56076,"accept_rate":72,"display_name":"Don Branson"},"score":1,"creation_date":1279202199,"post_id":3256064,"comment_id":3365655,"body_markdown":"I asked a related (not duplicate) question some time back, and got some good answers from folks:\n\nhttp://stackoverflow.com/questions/537014/using-tdd-to-drive-out-thread-safe-code","body":"I asked a related (not duplicate) question some time back, and got some good answers from folks:  <a href=\"http://stackoverflow.com/questions/537014/using-tdd-to-drive-out-thread-safe-code\" title=\"using tdd to drive out thread safe code\">stackoverflow.com/questions/537014/&hellip;</a>"},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1510483446,"post_id":3256064,"comment_id":81445793,"body_markdown":"See also https://stackoverflow.com/questions/12159/how-should-i-unit-test-threaded-code","body":"See also <a href=\"https://stackoverflow.com/questions/12159/how-should-i-unit-test-threaded-code\" title=\"how should i unit test threaded code\">stackoverflow.com/questions/12159/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":128551,"reputation":57229,"user_id":326480,"accept_rate":82,"display_name":"mdma"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1279209599,"creation_date":1279201569,"answer_id":3256112,"question_id":3256064,"body_markdown":"There is [ConTest][1], and also [GroboUtils][2].\r\n\r\nI&#39;ve used GroboUtils many years ago, and it did the job. ConTest is newer, and would be my preferred starting point now, since rather than just relying on trial and error, the instrumentation forces specific interleavings of the threads, providing a deterministic test. In contrast, GroboUtils MultiThreadedTestRunner simply runs the tests and hopes the scheduler produces an interleaving that causes the thread bug to appear.\r\n\r\nEDIT: See also [ConcuTest][3] which also forces interleavings and is free.\r\n\r\n\r\n  [1]: http://www.ibm.com/developerworks/java/library/j-contest.html\r\n  [2]: http://groboutils.sourceforge.net/testing-junit/using_mtt.html\r\n  [3]: http://www.cs.rice.edu/~mgricken/research/concutest/","title":"How to write multi-threaded unit tests?","body":"<p>There is <a href=\"http://www.ibm.com/developerworks/java/library/j-contest.html\" rel=\"noreferrer\">ConTest</a>, and also <a href=\"http://groboutils.sourceforge.net/testing-junit/using_mtt.html\" rel=\"noreferrer\">GroboUtils</a>.</p>\n\n<p>I've used GroboUtils many years ago, and it did the job. ConTest is newer, and would be my preferred starting point now, since rather than just relying on trial and error, the instrumentation forces specific interleavings of the threads, providing a deterministic test. In contrast, GroboUtils MultiThreadedTestRunner simply runs the tests and hopes the scheduler produces an interleaving that causes the thread bug to appear.</p>\n\n<p>EDIT: See also <a href=\"http://www.cs.rice.edu/~mgricken/research/concutest/\" rel=\"noreferrer\">ConcuTest</a> which also forces interleavings and is free.</p>\n"},{"tags":[],"owner":{"account_id":35266,"reputation":1918,"user_id":99851,"display_name":"Holger Hoffst&#228;tte"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1279276731,"creation_date":1279276731,"answer_id":3263975,"question_id":3256064,"body_markdown":"There is also [MultithreadedTC][1] by Bill Pugh of FindBugs fame.\r\n\r\n\r\n  [1]: http://www.cs.umd.edu/projects/PL/multithreadedtc/index.html","title":"How to write multi-threaded unit tests?","body":"<p>There is also <a href=\"http://www.cs.umd.edu/projects/PL/multithreadedtc/index.html\" rel=\"nofollow noreferrer\">MultithreadedTC</a> by Bill Pugh of FindBugs fame.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1279352846,"creation_date":1279352846,"answer_id":3270675,"question_id":3256064,"body_markdown":"Just using the concurrency libraries would simplify your code.  You can turn your boiler plate code into one method.\r\n\r\nSomething like\r\n\r\n    public static void runAll(int times, Runnable... tests) {\r\n    \r\n    }\r\n\r\n","title":"How to write multi-threaded unit tests?","body":"<p>Just using the concurrency libraries would simplify your code.  You can turn your boiler plate code into one method.</p>\n\n<p>Something like</p>\n\n<pre><code>public static void runAll(int times, Runnable... tests) {\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":50156,"reputation":427,"user_id":149493,"display_name":"Raja Nagendra Kumar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1688216230,"creation_date":1688216230,"answer_id":76594789,"question_id":3256064,"body_markdown":"http://www.awaitility.org/ is the most modern assert testing for async code unit testing.","title":"How to write multi-threaded unit tests?","body":"<p><a href=\"http://www.awaitility.org/\" rel=\"nofollow noreferrer\">http://www.awaitility.org/</a> is the most modern assert testing for async code unit testing.</p>\n"}],"owner":{"account_id":127164,"reputation":15713,"user_id":324152,"accept_rate":63,"display_name":"MRalwasser"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5293,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":3256112,"answer_count":4,"score":15,"last_activity_date":1688216230,"creation_date":1279201313,"question_id":3256064,"body_markdown":"I&#39;d like to know if there are some unit testing frameworks which are capable of writing multi-threaded tests easily?\r\n\r\nI would imagine something like:\r\ninvoke a special test method by n threads at the same time for m times. After all test threads finished, an assertion method where some constraints should be validated would be invoked.\r\n\r\nMy current approach is to create Thread objects inside a junit test method, loop manually the real test cases inside each run() method, wait for all threads and then validate the assertions. But using this, I have a large boilerplate code block for each test.\r\n\r\nWhat are your experiences?","title":"How to write multi-threaded unit tests?","body":"<p>I'd like to know if there are some unit testing frameworks which are capable of writing multi-threaded tests easily?</p>\n\n<p>I would imagine something like:\ninvoke a special test method by n threads at the same time for m times. After all test threads finished, an assertion method where some constraints should be validated would be invoked.</p>\n\n<p>My current approach is to create Thread objects inside a junit test method, loop manually the real test cases inside each run() method, wait for all threads and then validate the assertions. But using this, I have a large boilerplate code block for each test.</p>\n\n<p>What are your experiences?</p>\n"},{"tags":["java","completable-future"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1511636568,"post_id":47489338,"comment_id":81934157,"body_markdown":"Did you try this in your IDE debugger?  Seems you could figure out what is happening quite easily with a few well-placed breakpoints.","body":"Did you try this in your IDE debugger?  Seems you could figure out what is happening quite easily with a few well-placed breakpoints."},{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":2,"creation_date":1511638402,"post_id":47489338,"comment_id":81934685,"body_markdown":"Interesting question! I added some formatting to your text, I hope that is okay. Note that you can use &quot;`&quot; around inline code to have it formatted as code, and you need an empty line to make a new paragraph.","body":"Interesting question! I added some formatting to your text, I hope that is okay. Note that you can use &quot;`&quot; around inline code to have it formatted as code, and you need an empty line to make a new paragraph."},{"owner":{"account_id":11174300,"reputation":1203,"user_id":8200378,"accept_rate":33,"display_name":"Yulin"},"score":1,"creation_date":1511713361,"post_id":47489338,"comment_id":81951800,"body_markdown":"Not except the &#39;thenApply&#39; case, I&#39;m new to concurrency and haven&#39;t had much practice on it, my na&#239;ve impression is that concurrent code problems are hard to track, so instead of try it myself I hope some one could give me a definitive answer on it to clear my confusions. @JimGarrison","body":"Not except the &#39;thenApply&#39; case, I&#39;m new to concurrency and haven&#39;t had much practice on it, my na&#239;ve impression is that concurrent code problems are hard to track, so instead of try it myself I hope some one could give me a definitive answer on it to clear my confusions. @JimGarrison"},{"owner":{"account_id":11174300,"reputation":1203,"user_id":8200378,"accept_rate":33,"display_name":"Yulin"},"score":0,"creation_date":1511713716,"post_id":47489338,"comment_id":81951905,"body_markdown":"Thanks for your corrections. @Lii","body":"Thanks for your corrections. @Lii"},{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":0,"creation_date":1512902223,"post_id":47489338,"comment_id":82436060,"body_markdown":"@Yulin Hello again! I&#39;d like to remind you that you should accept one of the answers if you think it solved your problem. That helps people see that the question does not need more attention. You also get a few points yourself by accepting an answer, and people may be more willing to answer your questions in the future. Here is some information: https://stackoverflow.com/help/accepted-answer","body":"@Yulin Hello again! I&#39;d like to remind you that you should accept one of the answers if you think it solved your problem. That helps people see that the question does not need more attention. You also get a few points yourself by accepting an answer, and people may be more willing to answer your questions in the future. Here is some information: <a href=\"https://stackoverflow.com/help/accepted-answer\">stackoverflow.com/help/accepted-answer</a>"},{"owner":{"account_id":11174300,"reputation":1203,"user_id":8200378,"accept_rate":33,"display_name":"Yulin"},"score":1,"creation_date":1512919950,"post_id":47489338,"comment_id":82440884,"body_markdown":"@Lii Didn&#39;t know there is a accept answer operation, now one answer is accepted. Thanks!","body":"@Lii Didn&#39;t know there is a accept answer operation, now one answer is accepted. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":1995799,"reputation":28352,"user_id":1788806,"accept_rate":94,"display_name":"Willi Mentzel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1511637841,"creation_date":1511636957,"answer_id":47489601,"question_id":47489338,"body_markdown":"This is what the documentation says about `CompletableFuture&#39;s` [`thenApplyAsync`][1]:\r\n\r\n&gt; Returns a new CompletionStage that, when this stage completes\r\n&gt; normally, is executed using this stage&#39;s default asynchronous\r\n&gt; execution facility, with this stage&#39;s result as the argument to the\r\n&gt; supplied function.\r\n\r\nSo, `thenApplyAsync` has to wait for the previous `thenApplyAsync&#39;s` result:\r\n\r\nIn your case you first do the synchronous work and then the asynchronous one. So, it does not matter that the second one is asynchronous because it is started only after the synchrounous work has finished.\r\n\r\nLet&#39;s switch it up. In some cases &quot;async result: 2&quot; will be printed first and in some cases &quot;sync result: 2&quot; will be printed first. Here it makes a difference because both call 1 and 2 can run asynchronously, call 1 on a separate thread and call 2 on some other thread, which might be the main thread.\r\n\r\n    CompletableFuture&lt;Integer&gt; future\r\n                    = CompletableFuture.supplyAsync(() -&gt; 0);\r\n            \r\n    future.thenApplyAsync(x -&gt; x + 1) // call 1\r\n                    .thenApplyAsync(x -&gt; x + 1)\r\n                    .thenAccept(x -&gt; System.out.println(&quot;async result: &quot; + x));\r\n    \r\n    future.thenApply(x -&gt; x + 1) // call 2\r\n                    .thenApply(x -&gt; x + 1)\r\n                    .thenAccept(x -&gt; System.out.println(&quot;sync result:&quot; + x));\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#thenApplyAsync-java.util.function.Function-","title":"What is the difference between thenApply and thenApplyAsync of Java CompletableFuture?","body":"<p>This is what the documentation says about <code>CompletableFuture's</code> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#thenApplyAsync-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>thenApplyAsync</code></a>:</p>\n\n<blockquote>\n  <p>Returns a new CompletionStage that, when this stage completes\n  normally, is executed using this stage's default asynchronous\n  execution facility, with this stage's result as the argument to the\n  supplied function.</p>\n</blockquote>\n\n<p>So, <code>thenApplyAsync</code> has to wait for the previous <code>thenApplyAsync's</code> result:</p>\n\n<p>In your case you first do the synchronous work and then the asynchronous one. So, it does not matter that the second one is asynchronous because it is started only after the synchrounous work has finished.</p>\n\n<p>Let's switch it up. In some cases \"async result: 2\" will be printed first and in some cases \"sync result: 2\" will be printed first. Here it makes a difference because both call 1 and 2 can run asynchronously, call 1 on a separate thread and call 2 on some other thread, which might be the main thread.</p>\n\n<pre><code>CompletableFuture&lt;Integer&gt; future\n                = CompletableFuture.supplyAsync(() -&gt; 0);\n\nfuture.thenApplyAsync(x -&gt; x + 1) // call 1\n                .thenApplyAsync(x -&gt; x + 1)\n                .thenAccept(x -&gt; System.out.println(\"async result: \" + x));\n\nfuture.thenApply(x -&gt; x + 1) // call 2\n                .thenApply(x -&gt; x + 1)\n                .thenAccept(x -&gt; System.out.println(\"sync result:\" + x));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1562546,"reputation":24865,"user_id":1452094,"display_name":"Kiskae"},"down_vote_count":0,"up_vote_count":86,"is_accepted":true,"score":86,"last_activity_date":1511637331,"creation_date":1511637331,"answer_id":47489654,"question_id":47489338,"body_markdown":"The difference has to do with the `Executor` that is responsible for running the code. Each operator on `CompletableFuture` generally has 3 versions.\r\n\r\n1. `thenApply(fn)` - runs `fn` on a thread defined by the `CompleteableFuture` on which it is called, so you generally cannot know where this will be executed. It might immediately execute if the result is already available.\r\n2. `thenApplyAsync(fn)` - runs `fn` on a environment-defined executor regardless of circumstances. For `CompletableFuture` this will generally be `ForkJoinPool.commonPool()`.\r\n3. `thenApplyAsync(fn,exec)` - runs `fn` on `exec`.\r\n\r\nIn the end the result is the same, but the scheduling behavior depends on the choice of method.","title":"What is the difference between thenApply and thenApplyAsync of Java CompletableFuture?","body":"<p>The difference has to do with the <code>Executor</code> that is responsible for running the code. Each operator on <code>CompletableFuture</code> generally has 3 versions.</p>\n\n<ol>\n<li><code>thenApply(fn)</code> - runs <code>fn</code> on a thread defined by the <code>CompleteableFuture</code> on which it is called, so you generally cannot know where this will be executed. It might immediately execute if the result is already available.</li>\n<li><code>thenApplyAsync(fn)</code> - runs <code>fn</code> on a environment-defined executor regardless of circumstances. For <code>CompletableFuture</code> this will generally be <code>ForkJoinPool.commonPool()</code>.</li>\n<li><code>thenApplyAsync(fn,exec)</code> - runs <code>fn</code> on <code>exec</code>.</li>\n</ol>\n\n<p>In the end the result is the same, but the scheduling behavior depends on the choice of method.</p>\n"},{"tags":[],"owner":{"account_id":3250192,"reputation":1922,"user_id":2740728,"display_name":"1283822"},"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1626105676,"creation_date":1532703846,"answer_id":51560731,"question_id":47489338,"body_markdown":"You&#39;re mis-quoting the article&#39;s examples, and so you&#39;re applying the article&#39;s conclusion incorrectly. I see two question in your question:\r\n\r\n**What is the correct usage of `.then___()`**\r\n\r\nIn both examples you quoted, which is not in the article, the second function has to wait for the first function to complete. Whenever you call `a.then___(b -&gt; ...)`, input `b` is the result of `a` and has to wait for `a` to complete, regardless of whether you use the methods named `Async` or not. The article&#39;s conclusion does not apply because you mis-quoted it.\r\n\r\nThe example in the article is actually\r\n\r\n```java\r\nCompletableFuture&lt;String&gt; receiver = CompletableFuture.supplyAsync(this::findReceiver);\r\n\r\nreceiver.thenApplyAsync(this::sendMsg);  \r\nreceiver.thenApplyAsync(this::sendMsg);  \r\n```\r\n\r\nNotice the `thenApplyAsync` both applied on `receiver`, not chained in the same statement. This means both function can start once `receiver` completes, in an unspecified order. (Any assumption of order is implementation dependent.)\r\n\r\n**To put it more clearly:**\r\n\r\n`a.thenApply(b).thenApply(c);` means the order is `a` finishes then `b` starts, `b` finishes, then `c` starts. \\\r\n`a.thenApplyAsync(b).thenApplyAsync(c);` will behave exactly the same as above as far as the ordering between `a` `b` `c` is concerned.\r\n\r\n`a.thenApply(b); a.thenApply(c);` means `a` finishes, then `b` or `c` can start, in any order. `b` and `c` don&#39;t have to wait for each other. \\\r\n`a.thenApplyAync(b); a.thenApplyAsync(c);` works the same way, as far as the order is concerned.\r\n\r\nYou should understand the above before reading the below. The above concerns asynchronous programming, without it you won&#39;t be able to use the APIs correctly. The below concerns thread management, with which you can optimize your program and avoid performance pitfalls. But you can&#39;t optimize your program without writing it correctly.\r\n\r\n---\r\n\r\n**As titled: Difference between `thenApply` and `thenApplyAsync` of Java CompletableFuture?**\r\n\r\nI must point out that the people who wrote the JSR must have confused the technical term &quot;Asynchronous Programming&quot;, and picked the names that are now confusing newcomers and veterans alike. To start, there is nothing in `thenApplyAsync` that is more asynchronous than `thenApply` from the contract of these methods.\r\n\r\nThe difference between the two has to do with on which thread the function is run. The function supplied to `thenApply` [may run on any of the threads](https://stackoverflow.com/a/46060587/2740728) that\r\n\r\n1. calls `complete`\r\n2. calls `thenApply` on the same instance\r\n\r\nwhile the 2 overloads of `thenApplyAsync` either \r\n\r\n1. uses a default `Executor` (a.k.a. thread pool), or \r\n2. uses a supplied `Executor`\r\n\r\nThe take away is that for `thenApply`, the runtime promises to eventually run your function using some executor which you do not control. If you want control of threads, use the Async variants. \r\n\r\nIf your function is lightweight, it doesn&#39;t matter which thread runs your function.\r\n\r\nIf your function is heavy CPU bound, you do not want to leave it to the runtime. If the runtime picks the network thread to run your function, the network thread can&#39;t spend time to handle network requests, causing network requests to wait longer in the queue and your server to become unresponsive. In that case you want to use `thenApplyAsync` with your own thread pool.\r\n\r\n---\r\n\r\n**Fun fact: Asynchrony != threads**\r\n\r\n`thenApply`/`thenApplyAsync`, and their counterparts `thenCompose`/`thenComposeAsync`, `handle`/`handleAsync`, `thenAccept`/`thenAcceptAsync`, are all asynchronous! The asynchronous nature of these function has to do with the fact that an asynchronous operation *eventually* calls `complete` or `completeExceptionally`. The idea came from Javascript, which is indeed asynchronous but isn&#39;t multi-threaded.\r\n","title":"What is the difference between thenApply and thenApplyAsync of Java CompletableFuture?","body":"<p>You're mis-quoting the article's examples, and so you're applying the article's conclusion incorrectly. I see two question in your question:</p>\n<p><strong>What is the correct usage of <code>.then___()</code></strong></p>\n<p>In both examples you quoted, which is not in the article, the second function has to wait for the first function to complete. Whenever you call <code>a.then___(b -&gt; ...)</code>, input <code>b</code> is the result of <code>a</code> and has to wait for <code>a</code> to complete, regardless of whether you use the methods named <code>Async</code> or not. The article's conclusion does not apply because you mis-quoted it.</p>\n<p>The example in the article is actually</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture&lt;String&gt; receiver = CompletableFuture.supplyAsync(this::findReceiver);\n\nreceiver.thenApplyAsync(this::sendMsg);  \nreceiver.thenApplyAsync(this::sendMsg);  \n</code></pre>\n<p>Notice the <code>thenApplyAsync</code> both applied on <code>receiver</code>, not chained in the same statement. This means both function can start once <code>receiver</code> completes, in an unspecified order. (Any assumption of order is implementation dependent.)</p>\n<p><strong>To put it more clearly:</strong></p>\n<p><code>a.thenApply(b).thenApply(c);</code> means the order is <code>a</code> finishes then <code>b</code> starts, <code>b</code> finishes, then <code>c</code> starts. <br />\n<code>a.thenApplyAsync(b).thenApplyAsync(c);</code> will behave exactly the same as above as far as the ordering between <code>a</code> <code>b</code> <code>c</code> is concerned.</p>\n<p><code>a.thenApply(b); a.thenApply(c);</code> means <code>a</code> finishes, then <code>b</code> or <code>c</code> can start, in any order. <code>b</code> and <code>c</code> don't have to wait for each other. <br />\n<code>a.thenApplyAync(b); a.thenApplyAsync(c);</code> works the same way, as far as the order is concerned.</p>\n<p>You should understand the above before reading the below. The above concerns asynchronous programming, without it you won't be able to use the APIs correctly. The below concerns thread management, with which you can optimize your program and avoid performance pitfalls. But you can't optimize your program without writing it correctly.</p>\n<hr />\n<p><strong>As titled: Difference between <code>thenApply</code> and <code>thenApplyAsync</code> of Java CompletableFuture?</strong></p>\n<p>I must point out that the people who wrote the JSR must have confused the technical term &quot;Asynchronous Programming&quot;, and picked the names that are now confusing newcomers and veterans alike. To start, there is nothing in <code>thenApplyAsync</code> that is more asynchronous than <code>thenApply</code> from the contract of these methods.</p>\n<p>The difference between the two has to do with on which thread the function is run. The function supplied to <code>thenApply</code> <a href=\"https://stackoverflow.com/a/46060587/2740728\">may run on any of the threads</a> that</p>\n<ol>\n<li>calls <code>complete</code></li>\n<li>calls <code>thenApply</code> on the same instance</li>\n</ol>\n<p>while the 2 overloads of <code>thenApplyAsync</code> either</p>\n<ol>\n<li>uses a default <code>Executor</code> (a.k.a. thread pool), or</li>\n<li>uses a supplied <code>Executor</code></li>\n</ol>\n<p>The take away is that for <code>thenApply</code>, the runtime promises to eventually run your function using some executor which you do not control. If you want control of threads, use the Async variants.</p>\n<p>If your function is lightweight, it doesn't matter which thread runs your function.</p>\n<p>If your function is heavy CPU bound, you do not want to leave it to the runtime. If the runtime picks the network thread to run your function, the network thread can't spend time to handle network requests, causing network requests to wait longer in the queue and your server to become unresponsive. In that case you want to use <code>thenApplyAsync</code> with your own thread pool.</p>\n<hr />\n<p><strong>Fun fact: Asynchrony != threads</strong></p>\n<p><code>thenApply</code>/<code>thenApplyAsync</code>, and their counterparts <code>thenCompose</code>/<code>thenComposeAsync</code>, <code>handle</code>/<code>handleAsync</code>, <code>thenAccept</code>/<code>thenAcceptAsync</code>, are all asynchronous! The asynchronous nature of these function has to do with the fact that an asynchronous operation <em>eventually</em> calls <code>complete</code> or <code>completeExceptionally</code>. The idea came from Javascript, which is indeed asynchronous but isn't multi-threaded.</p>\n"},{"tags":[],"owner":{"account_id":1281146,"reputation":1594,"user_id":1235217,"display_name":"Stefan Feuerhahn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565352834,"creation_date":1565346779,"answer_id":57428239,"question_id":47489338,"body_markdown":"The second step (i.e. computation) will always be executed after the first step.\r\n\r\n&gt; If the second step has to wait for the result of the first step then what is the point of Async?\r\n\r\nAsync means in this case that you are guaranteed that the method will return quickly and the computation will be executed in a different thread.\r\n\r\nWhen calling `thenApply` (without async), then you have no such guarantee. In this case the computation may be executed synchronously i.e. in the same thread that calls `thenApply` if the CompletableFuture is already completed by the time the method is called. But the computation may also be executed asynchronously by the thread that completes the future or some other thread that calls a method on the same `CompletableFuture`. This answer: https://stackoverflow.com/a/46062939/1235217 explained in detail what thenApply does and does not guarantee.\r\n\r\nSo when should you use `thenApply` and when `thenApplyAsync`? I use the following rule of thumb:\r\n\r\n- non-async: only if the task is very small and non-blocking, because in this case we don&#39;t care which of the possible threads executes it\r\n- async (often with an explicit executor as parameter): for all other tasks","title":"What is the difference between thenApply and thenApplyAsync of Java CompletableFuture?","body":"<p>The second step (i.e. computation) will always be executed after the first step.</p>\n\n<blockquote>\n  <p>If the second step has to wait for the result of the first step then what is the point of Async?</p>\n</blockquote>\n\n<p>Async means in this case that you are guaranteed that the method will return quickly and the computation will be executed in a different thread.</p>\n\n<p>When calling <code>thenApply</code> (without async), then you have no such guarantee. In this case the computation may be executed synchronously i.e. in the same thread that calls <code>thenApply</code> if the CompletableFuture is already completed by the time the method is called. But the computation may also be executed asynchronously by the thread that completes the future or some other thread that calls a method on the same <code>CompletableFuture</code>. This answer: <a href=\"https://stackoverflow.com/a/46062939/1235217\">https://stackoverflow.com/a/46062939/1235217</a> explained in detail what thenApply does and does not guarantee.</p>\n\n<p>So when should you use <code>thenApply</code> and when <code>thenApplyAsync</code>? I use the following rule of thumb:</p>\n\n<ul>\n<li>non-async: only if the task is very small and non-blocking, because in this case we don't care which of the possible threads executes it</li>\n<li>async (often with an explicit executor as parameter): for all other tasks</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":377533,"reputation":567,"user_id":3435329,"accept_rate":100,"display_name":"DLopes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662451263,"creation_date":1662451263,"answer_id":73618648,"question_id":47489338,"body_markdown":"In both `thenApplyAsync` and `thenApply` the `Consumer&lt;? super T&gt; action` passed to these methods will be called asynchronously and will not block the thread that specified the consumers.\r\n\r\nThe difference have to do with which thread will be responsible for calling the method `Consumer#accept(T t)`:\r\n\r\n**Consider an `AsyncHttpClient` call as below:** Notice the thread names printed below. I hope it give you clarity on the difference:\r\n\r\n```\r\n// running in the main method\r\n// public static void main(String[] args) ....\r\n\r\nCompletableFuture&lt;Response&gt; future =\r\n    asyncHttpClient.prepareGet(uri).execute().toCompletableFuture();\r\n\r\nlog.info(&quot;Current Thread &quot; + Thread.currentThread().getName());\r\n\r\n//Prints &quot;Current Thread main&quot;\r\n```\r\n\r\n**`thenApply` Will use the same thread that completed the future.**\r\n```\r\n//will use the dispatcher threads from the asyncHttpClient to call `consumer.apply`\r\n//The thread that completed the future will be blocked by the execution of the method `Consumer#accept(T t)`.\r\nfuture.thenApply(myResult -&gt; {\r\n    log.info(&quot;Applier Thread &quot; + Thread.currentThread().getName());\r\n    return myResult;\r\n})\r\n\r\n//Prints: &quot;Applier Thread httpclient-dispatch-8&quot;\r\n```\r\n\r\n\r\n**`thenApplyAsync` Will use the a thread from the Executor pool.**\r\n\r\n```\r\n//will use the threads from the CommonPool to call `consumer.accept`\r\n//The thread that completed the future WON&#39;T be blocked by the execution of the method `Consumer#accept(T t)`.\r\nfuture.thenApplyAsync(myResult -&gt; {\r\n    log.info(&quot;Applier Thread &quot; + Thread.currentThread().getName());\r\n    return myResult;\r\n})\r\n\r\n//Prints: &quot;Applier Thread ForkJoinPool.commonPool-worker-7&quot;\r\n```\r\n\r\n**`future.get()` Will block the main thread .**\r\n\r\n```\r\n//If called, `.get()` may block the main thread if the CompletableFuture is not completed.\r\nfuture.get();\r\n```\r\n\r\n### Conclusion\r\n\r\nThe `Async` suffix in the method `thenApplyAsync` means that the thread completing the future will not be blocked by the execution of the `Consumer#accept(T t) method`.\r\n\r\nThe usage of `thenApplyAsync` vs `thenApply` depends if you want to block the thread completing the future or not.\r\n\r\n","title":"What is the difference between thenApply and thenApplyAsync of Java CompletableFuture?","body":"<p>In both <code>thenApplyAsync</code> and <code>thenApply</code> the <code>Consumer&lt;? super T&gt; action</code> passed to these methods will be called asynchronously and will not block the thread that specified the consumers.</p>\n<p>The difference have to do with which thread will be responsible for calling the method <code>Consumer#accept(T t)</code>:</p>\n<p><strong>Consider an <code>AsyncHttpClient</code> call as below:</strong> Notice the thread names printed below. I hope it give you clarity on the difference:</p>\n<pre><code>// running in the main method\n// public static void main(String[] args) ....\n\nCompletableFuture&lt;Response&gt; future =\n    asyncHttpClient.prepareGet(uri).execute().toCompletableFuture();\n\nlog.info(&quot;Current Thread &quot; + Thread.currentThread().getName());\n\n//Prints &quot;Current Thread main&quot;\n</code></pre>\n<p><strong><code>thenApply</code> Will use the same thread that completed the future.</strong></p>\n<pre><code>//will use the dispatcher threads from the asyncHttpClient to call `consumer.apply`\n//The thread that completed the future will be blocked by the execution of the method `Consumer#accept(T t)`.\nfuture.thenApply(myResult -&gt; {\n    log.info(&quot;Applier Thread &quot; + Thread.currentThread().getName());\n    return myResult;\n})\n\n//Prints: &quot;Applier Thread httpclient-dispatch-8&quot;\n</code></pre>\n<p><strong><code>thenApplyAsync</code> Will use the a thread from the Executor pool.</strong></p>\n<pre><code>//will use the threads from the CommonPool to call `consumer.accept`\n//The thread that completed the future WON'T be blocked by the execution of the method `Consumer#accept(T t)`.\nfuture.thenApplyAsync(myResult -&gt; {\n    log.info(&quot;Applier Thread &quot; + Thread.currentThread().getName());\n    return myResult;\n})\n\n//Prints: &quot;Applier Thread ForkJoinPool.commonPool-worker-7&quot;\n</code></pre>\n<p><strong><code>future.get()</code> Will block the main thread .</strong></p>\n<pre><code>//If called, `.get()` may block the main thread if the CompletableFuture is not completed.\nfuture.get();\n</code></pre>\n<h3>Conclusion</h3>\n<p>The <code>Async</code> suffix in the method <code>thenApplyAsync</code> means that the thread completing the future will not be blocked by the execution of the <code>Consumer#accept(T t) method</code>.</p>\n<p>The usage of <code>thenApplyAsync</code> vs <code>thenApply</code> depends if you want to block the thread completing the future or not.</p>\n"},{"tags":[],"owner":{"account_id":6187275,"reputation":952,"user_id":4821027,"display_name":"Gautam Tadigoppula"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688216131,"creation_date":1688216131,"answer_id":76594787,"question_id":47489338,"body_markdown":" - Sync APIs: If results are readily available, it will use current main thread or it will use preceding task thread. We cannot provide executor service, it will use preceding task executor service.\r\n - Async APIs: Task always run on different thread than current running thread. We can also provide our own executor service based on IO or CPU intensive task.\r\n\r\n","title":"What is the difference between thenApply and thenApplyAsync of Java CompletableFuture?","body":"<ul>\n<li>Sync APIs: If results are readily available, it will use current main thread or it will use preceding task thread. We cannot provide executor service, it will use preceding task executor service.</li>\n<li>Async APIs: Task always run on different thread than current running thread. We can also provide our own executor service based on IO or CPU intensive task.</li>\n</ul>\n"}],"owner":{"account_id":11174300,"reputation":1203,"user_id":8200378,"accept_rate":33,"display_name":"Yulin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39713,"favorite_count":0,"down_vote_count":0,"up_vote_count":93,"accepted_answer_id":47489654,"answer_count":6,"score":93,"last_activity_date":1688216131,"creation_date":1511635064,"question_id":47489338,"body_markdown":"Suppose I have the following code:\r\n\r\n    CompletableFuture&lt;Integer&gt; future  \r\n            = CompletableFuture.supplyAsync( () -&gt; 0);\r\n\r\n`thenApply` case:\r\n\r\n    future.thenApply( x -&gt; x + 1 )\r\n          .thenApply( x -&gt; x + 1 )\r\n          .thenAccept( x -&gt; System.out.println(x));\r\n\r\nHere the output will be 2. Now in case of `thenApplyAsync`:\r\n\r\n    future.thenApplyAsync( x -&gt; x + 1 )   // first step\r\n          .thenApplyAsync( x -&gt; x + 1 )   // second step\r\n          .thenAccept( x -&gt; System.out.println(x)); // third step\r\n\r\nI read in this [blog][1] that each `thenApplyAsync` are executed in a separate thread and &#39;at the same time&#39;(that means following `thenApplyAsyncs` started before preceding `thenApplyAsyncs` finish), if so, what is the input argument value of the second step if the first step not finished?\r\n\r\nWhere will the result of the first step go if not taken by the second step? \r\nthe third step will take which step&#39;s result?\r\n\r\nIf the second step has to wait for the result of the first step then what is the point of `Async`?\r\n\r\nHere x -&gt; x + 1 is just to show the point, what I want know is in cases of very long computation.\r\n\r\n\r\n  [1]: http://www.deadcoderising.com/java8-writing-asynchronous-code-with-completablefuture/","title":"What is the difference between thenApply and thenApplyAsync of Java CompletableFuture?","body":"<p>Suppose I have the following code:</p>\n\n<pre><code>CompletableFuture&lt;Integer&gt; future  \n        = CompletableFuture.supplyAsync( () -&gt; 0);\n</code></pre>\n\n<p><code>thenApply</code> case:</p>\n\n<pre><code>future.thenApply( x -&gt; x + 1 )\n      .thenApply( x -&gt; x + 1 )\n      .thenAccept( x -&gt; System.out.println(x));\n</code></pre>\n\n<p>Here the output will be 2. Now in case of <code>thenApplyAsync</code>:</p>\n\n<pre><code>future.thenApplyAsync( x -&gt; x + 1 )   // first step\n      .thenApplyAsync( x -&gt; x + 1 )   // second step\n      .thenAccept( x -&gt; System.out.println(x)); // third step\n</code></pre>\n\n<p>I read in this <a href=\"http://www.deadcoderising.com/java8-writing-asynchronous-code-with-completablefuture/\" rel=\"noreferrer\">blog</a> that each <code>thenApplyAsync</code> are executed in a separate thread and 'at the same time'(that means following <code>thenApplyAsyncs</code> started before preceding <code>thenApplyAsyncs</code> finish), if so, what is the input argument value of the second step if the first step not finished?</p>\n\n<p>Where will the result of the first step go if not taken by the second step? \nthe third step will take which step's result?</p>\n\n<p>If the second step has to wait for the result of the first step then what is the point of <code>Async</code>?</p>\n\n<p>Here x -> x + 1 is just to show the point, what I want know is in cases of very long computation.</p>\n"},{"tags":["java","spring","mybatis","rest-assured"],"comments":[{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1687360179,"post_id":76473498,"comment_id":134926645,"body_markdown":"Your MyBatis config XML contains obvious error (`mappersss`), however, as you are using Spring Boot, you should let [mybatis-spring-boot](https://mybatis.org/spring-boot-starter/mybatis-spring-boot-autoconfigure/index.html) detect mappers. Please read the&#160;linked doc. If you are doing something complex, you should read the [mybatis-spring](https://mybatis.org/spring/) doc, too.","body":"Your MyBatis config XML contains obvious error (<code>mappersss</code>), however, as you are using Spring Boot, you should let <a href=\"https://mybatis.org/spring-boot-starter/mybatis-spring-boot-autoconfigure/index.html\" rel=\"nofollow noreferrer\">mybatis-spring-boot</a> detect mappers. Please read the linked doc. If you are doing something complex, you should read the <a href=\"https://mybatis.org/spring/\" rel=\"nofollow noreferrer\">mybatis-spring</a> doc, too."}],"owner":{"account_id":28819835,"reputation":1,"user_id":22072577,"display_name":"Abhijit Patel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688215819,"creation_date":1686745424,"question_id":76473498,"body_markdown":"I have created a new API automation code with Cucumber framework using mybatis to connect to a MySQL database. This is my second project using mybatis so I am familiar with it but am getting the following error when I call the save method:\r\n\r\nError I am getting in line of feature file-\r\n\r\n```\r\n When User retrieves data from DB using identifier &quot;&lt;apiIdentifier&gt;&quot;\r\n  | db_expected_obj      |\r\n```\r\n\r\n```\r\nThen the response code should be 200                                                            # com.tangoe.apglapiautomation.stepdefs.CommonStepDefs.verify_response_code_is_something(int)\r\n  When User retrieves data from DB using identifier &quot;v1quotequalifiergetall&quot;                      # com.tangoe.apglapiautomation.stepdefs.DBStepDefs.user_retrieves_data_from_db_using_identifier_something(java.lang.String,java.util.List&lt;java.lang.String&gt;)\r\n    | db_expected_obj |\r\n      org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.tangoe.apglapiautomation.db.mapper.QuoteQualifierMapper.getAllQuoteQualifier\r\n\tat org.apache.ibatis.binding.MapperMethod$SqlCommand.&lt;init&gt;(MapperMethod.java:235)\r\n\tat org.apache.ibatis.binding.MapperMethod.&lt;init&gt;(MapperMethod.java:53)\r\n\tat org.apache.ibatis.binding.MapperProxy.lambda$cachedInvoker$0(MapperProxy.java:108)\r\n\tat java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)\r\n\tat org.apache.ibatis.util.MapUtil.computeIfAbsent(MapUtil.java:35)\r\n\tat org.apache.ibatis.binding.MapperProxy.cachedInvoker(MapperProxy.java:95)\r\n\tat org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy85.getAllQuoteQualifier(Unknown Source)\r\n\tat com.tangoe.apglapiautomation.db.DBBatis.v1quotequalifiergetallExpected(DBBatis.java:74)\r\n\tat com.tangoe.apglapiautomation.stepdefs.DBStepDefs.user_retrieves_data_from_db_using_identifier_something(DBStepDefs.java:61)\r\n\tat .User retrieves data from DB using identifier &quot;v1quotequalifiergetall&quot;(file:///C:/Central_Apgl/tp_central_apgl/testAutomation/src/test/resources/features/quotequalifier.feature:9)\r\n```\r\n\r\n\r\nFeature file-\r\n\r\n```\r\n@v1 @Quotequalifier @getall @positive @testing\r\n  Scenario Outline: 01 Get Quotequalifier Info with &quot;&lt;case&gt;&quot;\r\n    Given a request with standard headers\r\n    When the user sends a GET request to the endpoint &quot;&lt;endpoint&gt;&quot;\r\n      | api_response_body | items |\r\n    Then the response code should be 200\r\n   When User retrieves data from DB using identifier &quot;&lt;apiIdentifier&gt;&quot;\r\n  | db_expected_obj      |\r\n#  Then Compare two stored variables\r\n  #    | api_response_body | db_expected_obj |\r\n  #  And Verify meta info using identifier &quot;&lt;apiIdentifier&gt;&quot;\r\n\r\n    Examples: \r\n      | case                                                                  | apiIdentifier          | endpoint                                                                                                                     |\r\n     # | positive case - Filter by quoteQualifierId                            | v1quotequalifiergetall | /apglmanager/api/v1/quoteQualifiers?limit=10&amp;quoteQualifierId={{items[1].id}}                                           |\r\n       #| positive case - Filter by quoteQualifierName                          | v1quotequalifiergetall | /apglmanager/api/v1/quoteQualifiers?limit=10&amp;quoteQualifierName={{items[1].name}}                                 |\r\n       #| positive case - Filter by quoteQualifier with special character       | v1quotequalifiergetall | /apglmanager/api/v1/quoteQualifiers?limit=10&amp;quoteQualifier={{items[1].quoteQualifier}}                                |\r\n       #| positive case - Filter by quoteQualifier with partial match           | v1quotequalifiergetall | /apglmanager/api/v1/quoteQualifiers?limit=10&amp;quoteQualifier=like|&#39;                                             |\r\n       #| positive case - Offset by 2                                           | v1quotequalifiergetall | /apglmanager/api/v1/quoteQualifiers?limit=1&amp;offset=0&amp;quoteQualifierId={{items[3].id}}                        |\r\n```\r\n\r\nStep definition file-other common step definition file is working\r\n\r\ndbstep definition file\r\n\r\n```\r\npackage com.tangoe.apglapiautomation.stepdefs;\r\n\r\nimport com.tangoe.apglapiautomation.db.DBBatis;\r\nimport com.tangoe.cucumberbot.api.ApiDataUtil;\r\nimport com.tangoe.cucumberbot.api.TestDataUtil;\r\n\r\nimport io.cucumber.datatable.DataTable;\r\nimport io.cucumber.java.en.And;\r\nimport io.cucumber.java.en.Then;\r\nimport org.apache.commons.lang3.StringUtils;\r\nimport org.json.JSONArray;\r\nimport org.json.JSONObject;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.testng.Assert;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\npublic class DBStepDefs {\r\n\r\n\t@Autowired\r\n\tprivate ApiDataUtil apiDataUtil;\r\n\r\n\t@Autowired\r\n\tprivate TestDataUtil testDataUtil;\r\n\r\n\t@Autowired\r\n\tprivate DBBatis dBBatis;\r\n\r\n\t@And(&quot;^User retrieves data from DB using identifier \\&quot;([^\\&quot;]*)\\&quot;$&quot;)\r\n\tpublic void user_retrieves_data_from_db_using_identifier_something(String identifier, List&lt;String&gt; details)\r\n\t\t\tthrows Throwable {\r\n\t\tString saveRecordsInKey = details.get(0);\r\n\t\tString getResponseKey = null;\r\n\t\tif (details.size() &gt; 1) {\r\n\t\t\tgetResponseKey = details.get(1);\r\n\t\t}\r\n\t\tHashMap&lt;String, Object&gt; saveMap = new HashMap&lt;&gt;();\r\n\r\n\t\tif (identifier.equals(&quot;v2currenciesgetall&quot;)) {\r\n\t\t\t/*List&lt;Map&lt;String, Object&gt;&gt; currencies = dBBatis.v2getAllCurrencyExpected();\r\n\t\t\tsaveMap.put(saveRecordsInKey, currencies);*/\r\n\t\t} else if (identifier.equals(&quot;v2currenciesget&quot;)) {\r\n\t\t\t/*Map&lt;String, Object&gt; currency = dBBatis.v2getAllCurrencyByIdExpected();\r\n\t\t\tsaveMap.put(saveRecordsInKey, currency);*/\r\n\t\t} else if (identifier.equals(&quot;v2countriesgetall&quot;)) {\r\n\t\t\t/*List&lt;Map&lt;String, Object&gt;&gt; countries = dBBatis.v2getAllCountryExpected();\r\n\t\t\tsaveMap.put(saveRecordsInKey, countries);*/\r\n\t\t} else if (identifier.equals(&quot;v2countriesget&quot;)) {\r\n\t\t\t/*Map&lt;String, Object&gt; country = dBBatis.v2getAllCountryByIdExpected();\r\n\t\t\tsaveMap.put(saveRecordsInKey, country);*/\r\n\t\t} else if (identifier.equals(&quot;v2vendorsgetall&quot;)) {\r\n\t\t\t/*List&lt;Map&lt;String, Object&gt;&gt; countries = dBBatis.v2getAllVendorExpected();\r\n\t\t\tsaveMap.put(saveRecordsInKey, countries);*/\r\n\t\t} else if (identifier.equals(&quot;v2getDeliveryMethodsByIdget&quot;)) {\r\n\t\t\t\t/*Map&lt;String, Object&gt; deliveryMethod = dBBatis.v2getDeliveryMethodsByIdExpected();\r\n\t\t\t\tsaveMap.put(saveRecordsInKey, deliveryMethod);*/\r\n\t\t\t}\r\n\t\telse if (identifier.equals(&quot;v1quotequalifiergetall&quot;)) {\r\n\t\tList&lt;Map&lt;String, Object&gt;&gt; countries = dBBatis.v1quotequalifiergetallExpected();\r\n\t\tsaveMap.put(saveRecordsInKey, countries);\r\n\t\t}\r\n\t\t\r\n\t\t \r\n\t\tapiDataUtil.setScenarioData(saveMap);\r\n\t}\r\n```\r\n\r\nMybatis file-\r\n\r\n```\r\npackage com.tangoe.apglapiautomation.db;\r\n\r\nimport com.fasterxml.jackson.core.type.TypeReference;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.tangoe.apglapiautomation.db.filter.CostCenterFilter;\r\nimport com.tangoe.apglapiautomation.db.filter.QuoteQualifierFilter;\r\nimport com.tangoe.apglapiautomation.db.mapper.QuoteQualifierMapper;\r\nimport com.tangoe.apglapiautomation.db.mapper.CostCenterMapper;\r\nimport com.tangoe.apglapiautomation.db.mapper.TenantMapper;\r\nimport com.tangoe.apglapiautomation.db.pojo.Tenant;\r\nimport com.tangoe.cucumberbot.api.TestDataUtil;\r\nimport io.cucumber.datatable.DataTable;\r\nimport org.apache.commons.lang3.RandomStringUtils;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Component;\r\nimport com.tangoe.cucumberbot.api.ApiDataUtil;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\n@Component\r\npublic class DBBatis {\r\n\t\r\n\t@Autowired\r\n\tprivate CostCenterMapper costCenterMapper;\r\n\r\n\t@Autowired\r\n\tprivate TenantMapper tenantMapper;\r\n\t\r\n\t@Autowired\r\n\tprivate QuoteQualifierMapper quoteQualifierMapper;\r\n\t\r\n\t@Autowired\r\n\tprivate ApiDataUtil apiDataUtil;\r\n\t\r\n\tprivate CostCenterFilter getCostCenterFilter() {\r\n\t\tCostCenterFilter costCenterFilter = new CostCenterFilter();\r\n\t\treturn costCenterFilter;\r\n\t}\r\n\t\r\n\tpublic Long getCostCenterCount() {\r\n\t\treturn costCenterMapper.getAllCostCenterCount(getCostCenterFilter());\r\n\t}\r\n\t\r\n\t/*private QuoteQualifierFilter getQuoteQualifierFilter() {\r\n\t\tQuoteQualifierFilter QuoteQualifierFilter = new QuoteQualifierFilter();\r\n\t\treturn QuoteQualifierFilter;\r\n\t}*/\r\n\t\r\n\tpublic Long getQuoteQualifierCount() {\r\n\t\treturn quoteQualifierMapper.getAllQuoteQualifierCount(getQuoteQualifierFilter());\r\n\t}\r\n\t\r\n\t/// quote qualifier\r\n\t\r\n\tprivate QuoteQualifierFilter getQuoteQualifierFilter() {\r\n\t\tQuoteQualifierFilter quoteQualifierFilter = new QuoteQualifierFilter();\r\n\t\tHashMap&lt;String, String&gt; paramsMap = quoteQualifierFilter.getParamsFromEndpoint(apiDataUtil.getEndPoint());\r\n\t\t\r\n\t\tif(paramsMap.containsKey(&quot;quoteQualifierId&quot;)) {\r\n\t\t\tquoteQualifierFilter.setquoteQualifierId(Long.parseLong(paramsMap.get(&quot;quoteQualifierId&quot;)));\r\n\t\t}\r\n\t\tif(paramsMap.containsKey(&quot;name&quot;)) {\r\n\t\t\tquoteQualifierFilter.setName(paramsMap.get(&quot;name&quot;));\r\n\t\t}\r\n\r\n\t\treturn quoteQualifierFilter;\r\n\t}\r\n\t\r\n\tpublic List&lt;Map&lt;String, Object&gt;&gt; v1quotequalifiergetallExpected() {\r\n\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\tList&lt;Map&lt;String, Object&gt;&gt; quotequalifier = mapper.convertValue(quoteQualifierMapper.getAllQuoteQualifier(getQuoteQualifierFilter() ), new TypeReference&lt;List&lt;Map&lt;String, Object&gt;&gt;&gt;() {});\r\n\t\treturn quotequalifier;\r\n\t}\r\n\r\n\tpublic List&lt;Map&lt;String, Object&gt;&gt; insertTenantRecords(DataTable dataTable) {\r\n\r\n\t\tList&lt;List&lt;String&gt;&gt; dataToCreate = dataTable.asLists();\r\n\r\n\t\tList&lt;Map&lt;String, Object&gt;&gt; createdData = new ArrayList&lt;&gt;();\r\n\t\tfor(List&lt;String&gt; eachRow : dataToCreate) {\r\n\t\t\tString randomNumber = RandomStringUtils.randomNumeric(6);\r\n\t\t\tTenant tenant = new Tenant();\r\n\t\t\ttenant.setShortName(eachRow.get(0)+randomNumber);\r\n\t\t\ttenant.setName(eachRow.get(1)+randomNumber);\r\n\t\t\ttenant.setUpperName(eachRow.get(2)+randomNumber);\r\n\t\t\ttenant.setStatus(eachRow.get(3));\r\n\t\t\ttenantMapper.insertTenant(tenant);\r\n\t\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\t\tMap&lt;String, Object&gt; createdTenant = mapper.convertValue(tenant, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {});\r\n\t\t\tcreatedTenant.put(TestDataUtil.dataCreatedFlagName, true);\r\n\t\t\tcreatedTenant.put(TestDataUtil.testDataFlagName, true);\r\n\t\t\tcreatedData.add(createdTenant);\r\n\t\t}\r\n\r\n\t\treturn createdData;\r\n\t}\r\n}\r\n```\r\n\r\nmapper xml file\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;\r\n&lt;mapper namespace=&quot;com.tangoe.apglapiautomation.db.mapper.QuoteQualifierMapper&quot;&gt;\r\n\r\n    &lt;resultMap id=&quot;quoteQualifierResultMap&quot; type=&quot;com.tangoe.apglapiautomation.db.pojo.QuoteQualifier&quot;&gt;\r\n        &lt;id property=&quot;id&quot; column=&quot;id&quot;/&gt;\r\n        &lt;result property=&quot;name&quot; column=&quot;name&quot;/&gt;\r\n        &lt;result property=&quot;quoteQualifier&quot; column=&quot;quote_qualifier&quot;/&gt;\r\n        &lt;result property=&quot;created&quot; column=&quot;created&quot;/&gt;\r\n        &lt;result property=&quot;createdBy&quot; column=&quot;created_by&quot;/&gt;\r\n    &lt;/resultMap&gt;\r\n    \r\n    &lt;select id=&quot;getAllQuoteQualifier&quot; resultMap=&quot;quoteQualifierResultMap&quot; parameterType=&quot;com.tangoe.apglapiautomation.db.filter.QuoteQualifierFilter&quot;&gt;\r\n        SELECT id, name, quoteQualifier, created, createdBy\r\n        FROM quote_qualifier\r\n    &lt;/select&gt;\r\n    \r\n&lt;/mapper&gt;\r\n```\r\n\r\npom.xml file\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.7&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.tangoe&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;apglapiautomation&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;apglapiautomation&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;android-json&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.tangoe&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumberbot&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.18&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;xml-apis&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t            &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\r\n\t            &lt;executions&gt;\r\n\t                &lt;execution&gt;\r\n\t                    &lt;id&gt;timestamp-property&lt;/id&gt;\r\n\t                    &lt;goals&gt;\r\n\t                        &lt;goal&gt;timestamp-property&lt;/goal&gt;\r\n\t                    &lt;/goals&gt;\r\n\t                    &lt;configuration&gt;\r\n\t                        &lt;name&gt;build.time&lt;/name&gt;\r\n\t                        &lt;pattern&gt;dd-MM-yyyy_HH-mm-ss&lt;/pattern&gt;\r\n\t                        &lt;locale&gt;en_US&lt;/locale&gt;\r\n\t                        &lt;timeZone&gt;IST&lt;/timeZone&gt;\r\n\t                        &lt;!-- timeZone&gt;EST5EDT&lt;/timeZone--&gt;\r\n\t                    &lt;/configuration&gt;\r\n\t                &lt;/execution&gt;\r\n\t            &lt;/executions&gt;\r\n\t        &lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n\t\t\t\t\t&lt;properties&gt;\r\n\t\t\t\t\t\t&lt;property&gt;\r\n\t\t\t\t\t\t\t&lt;name&gt;usedefaultlisteners&lt;/name&gt;\r\n\t\t\t\t\t\t\t&lt;value&gt;false&lt;/value&gt;\r\n\t\t\t\t\t\t&lt;/property&gt;\r\n\t\t\t\t\t\t&lt;property&gt;\r\n\t\t\t\t\t\t\t&lt;name&gt;listener&lt;/name&gt;\r\n\t\t\t\t\t\t\t&lt;value&gt;com.tangoe.cucumberbot.listeners.SuitesSummaryReport&lt;/value&gt;\r\n\t\t\t\t\t\t&lt;/property&gt;\r\n\t\t\t\t\t&lt;/properties&gt;\r\n\t\t\t\t\t&lt;suiteXmlFiles&gt;\r\n\t\t\t\t\t\t&lt;suiteXmlFiles&gt;${testSuite}&lt;/suiteXmlFiles&gt;\r\n\t\t\t\t\t&lt;/suiteXmlFiles&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nmapper interface file\r\n\r\n```\r\npackage com.tangoe.apglapiautomation.db.mapper;\r\n\r\nimport java.util.List;\r\n\r\nimport com.tangoe.apglapiautomation.db.filter.QuoteQualifierFilter;\r\nimport com.tangoe.apglapiautomation.db.pojo.QuoteQualifier;\r\n\r\npublic interface QuoteQualifierMapper {\r\n\t\r\n\tList&lt;QuoteQualifier&gt; getAllQuoteQualifier(QuoteQualifierFilter quoteQualifierFilter);\r\n\t\r\n\tQuoteQualifier getAllQuoteQualifierById(Long quoteQualifierId);\r\n\t\r\n\tLong getAllQuoteQualifierCount(QuoteQualifierFilter quoteQualifierFilter);\r\n}\r\n```\r\n\r\nmybatis config file\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n&lt;!DOCTYPE configuration\r\n        PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;\r\n        &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;\r\n&lt;configuration&gt;\r\n\t\r\n\t&lt;mappers&gt;\r\n\t\t&lt;mapper resource=&quot;mappersss/QuoteQualifierMapper.xml&quot; /&gt;\r\n\t\t&lt;/mappers&gt;\r\n&lt;/configura\r\n```\r\n\r\nI want to run  line of feature file code","title":"Mybatis- Invalid bound statement (not found):","body":"<p>I have created a new API automation code with Cucumber framework using mybatis to connect to a MySQL database. This is my second project using mybatis so I am familiar with it but am getting the following error when I call the save method:</p>\n<p>Error I am getting in line of feature file-</p>\n<pre><code> When User retrieves data from DB using identifier &quot;&lt;apiIdentifier&gt;&quot;\n  | db_expected_obj      |\n</code></pre>\n<pre><code>Then the response code should be 200                                                            # com.tangoe.apglapiautomation.stepdefs.CommonStepDefs.verify_response_code_is_something(int)\n  When User retrieves data from DB using identifier &quot;v1quotequalifiergetall&quot;                      # com.tangoe.apglapiautomation.stepdefs.DBStepDefs.user_retrieves_data_from_db_using_identifier_something(java.lang.String,java.util.List&lt;java.lang.String&gt;)\n    | db_expected_obj |\n      org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.tangoe.apglapiautomation.db.mapper.QuoteQualifierMapper.getAllQuoteQualifier\n    at org.apache.ibatis.binding.MapperMethod$SqlCommand.&lt;init&gt;(MapperMethod.java:235)\n    at org.apache.ibatis.binding.MapperMethod.&lt;init&gt;(MapperMethod.java:53)\n    at org.apache.ibatis.binding.MapperProxy.lambda$cachedInvoker$0(MapperProxy.java:108)\n    at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)\n    at org.apache.ibatis.util.MapUtil.computeIfAbsent(MapUtil.java:35)\n    at org.apache.ibatis.binding.MapperProxy.cachedInvoker(MapperProxy.java:95)\n    at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)\n    at jdk.proxy2/jdk.proxy2.$Proxy85.getAllQuoteQualifier(Unknown Source)\n    at com.tangoe.apglapiautomation.db.DBBatis.v1quotequalifiergetallExpected(DBBatis.java:74)\n    at com.tangoe.apglapiautomation.stepdefs.DBStepDefs.user_retrieves_data_from_db_using_identifier_something(DBStepDefs.java:61)\n    at .User retrieves data from DB using identifier &quot;v1quotequalifiergetall&quot;(file:///C:/Central_Apgl/tp_central_apgl/testAutomation/src/test/resources/features/quotequalifier.feature:9)\n</code></pre>\n<p>Feature file-</p>\n<pre><code>@v1 @Quotequalifier @getall @positive @testing\n  Scenario Outline: 01 Get Quotequalifier Info with &quot;&lt;case&gt;&quot;\n    Given a request with standard headers\n    When the user sends a GET request to the endpoint &quot;&lt;endpoint&gt;&quot;\n      | api_response_body | items |\n    Then the response code should be 200\n   When User retrieves data from DB using identifier &quot;&lt;apiIdentifier&gt;&quot;\n  | db_expected_obj      |\n#  Then Compare two stored variables\n  #    | api_response_body | db_expected_obj |\n  #  And Verify meta info using identifier &quot;&lt;apiIdentifier&gt;&quot;\n\n    Examples: \n      | case                                                                  | apiIdentifier          | endpoint                                                                                                                     |\n     # | positive case - Filter by quoteQualifierId                            | v1quotequalifiergetall | /apglmanager/api/v1/quoteQualifiers?limit=10&amp;quoteQualifierId={{items[1].id}}                                           |\n       #| positive case - Filter by quoteQualifierName                          | v1quotequalifiergetall | /apglmanager/api/v1/quoteQualifiers?limit=10&amp;quoteQualifierName={{items[1].name}}                                 |\n       #| positive case - Filter by quoteQualifier with special character       | v1quotequalifiergetall | /apglmanager/api/v1/quoteQualifiers?limit=10&amp;quoteQualifier={{items[1].quoteQualifier}}                                |\n       #| positive case - Filter by quoteQualifier with partial match           | v1quotequalifiergetall | /apglmanager/api/v1/quoteQualifiers?limit=10&amp;quoteQualifier=like|'                                             |\n       #| positive case - Offset by 2                                           | v1quotequalifiergetall | /apglmanager/api/v1/quoteQualifiers?limit=1&amp;offset=0&amp;quoteQualifierId={{items[3].id}}                        |\n</code></pre>\n<p>Step definition file-other common step definition file is working</p>\n<p>dbstep definition file</p>\n<pre><code>package com.tangoe.apglapiautomation.stepdefs;\n\nimport com.tangoe.apglapiautomation.db.DBBatis;\nimport com.tangoe.cucumberbot.api.ApiDataUtil;\nimport com.tangoe.cucumberbot.api.TestDataUtil;\n\nimport io.cucumber.datatable.DataTable;\nimport io.cucumber.java.en.And;\nimport io.cucumber.java.en.Then;\nimport org.apache.commons.lang3.StringUtils;\nimport org.json.JSONArray;\nimport org.json.JSONObject;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.testng.Assert;\n\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\npublic class DBStepDefs {\n\n    @Autowired\n    private ApiDataUtil apiDataUtil;\n\n    @Autowired\n    private TestDataUtil testDataUtil;\n\n    @Autowired\n    private DBBatis dBBatis;\n\n    @And(&quot;^User retrieves data from DB using identifier \\&quot;([^\\&quot;]*)\\&quot;$&quot;)\n    public void user_retrieves_data_from_db_using_identifier_something(String identifier, List&lt;String&gt; details)\n            throws Throwable {\n        String saveRecordsInKey = details.get(0);\n        String getResponseKey = null;\n        if (details.size() &gt; 1) {\n            getResponseKey = details.get(1);\n        }\n        HashMap&lt;String, Object&gt; saveMap = new HashMap&lt;&gt;();\n\n        if (identifier.equals(&quot;v2currenciesgetall&quot;)) {\n            /*List&lt;Map&lt;String, Object&gt;&gt; currencies = dBBatis.v2getAllCurrencyExpected();\n            saveMap.put(saveRecordsInKey, currencies);*/\n        } else if (identifier.equals(&quot;v2currenciesget&quot;)) {\n            /*Map&lt;String, Object&gt; currency = dBBatis.v2getAllCurrencyByIdExpected();\n            saveMap.put(saveRecordsInKey, currency);*/\n        } else if (identifier.equals(&quot;v2countriesgetall&quot;)) {\n            /*List&lt;Map&lt;String, Object&gt;&gt; countries = dBBatis.v2getAllCountryExpected();\n            saveMap.put(saveRecordsInKey, countries);*/\n        } else if (identifier.equals(&quot;v2countriesget&quot;)) {\n            /*Map&lt;String, Object&gt; country = dBBatis.v2getAllCountryByIdExpected();\n            saveMap.put(saveRecordsInKey, country);*/\n        } else if (identifier.equals(&quot;v2vendorsgetall&quot;)) {\n            /*List&lt;Map&lt;String, Object&gt;&gt; countries = dBBatis.v2getAllVendorExpected();\n            saveMap.put(saveRecordsInKey, countries);*/\n        } else if (identifier.equals(&quot;v2getDeliveryMethodsByIdget&quot;)) {\n                /*Map&lt;String, Object&gt; deliveryMethod = dBBatis.v2getDeliveryMethodsByIdExpected();\n                saveMap.put(saveRecordsInKey, deliveryMethod);*/\n            }\n        else if (identifier.equals(&quot;v1quotequalifiergetall&quot;)) {\n        List&lt;Map&lt;String, Object&gt;&gt; countries = dBBatis.v1quotequalifiergetallExpected();\n        saveMap.put(saveRecordsInKey, countries);\n        }\n        \n         \n        apiDataUtil.setScenarioData(saveMap);\n    }\n</code></pre>\n<p>Mybatis file-</p>\n<pre><code>package com.tangoe.apglapiautomation.db;\n\nimport com.fasterxml.jackson.core.type.TypeReference;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.tangoe.apglapiautomation.db.filter.CostCenterFilter;\nimport com.tangoe.apglapiautomation.db.filter.QuoteQualifierFilter;\nimport com.tangoe.apglapiautomation.db.mapper.QuoteQualifierMapper;\nimport com.tangoe.apglapiautomation.db.mapper.CostCenterMapper;\nimport com.tangoe.apglapiautomation.db.mapper.TenantMapper;\nimport com.tangoe.apglapiautomation.db.pojo.Tenant;\nimport com.tangoe.cucumberbot.api.TestDataUtil;\nimport io.cucumber.datatable.DataTable;\nimport org.apache.commons.lang3.RandomStringUtils;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\nimport com.tangoe.cucumberbot.api.ApiDataUtil;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\n@Component\npublic class DBBatis {\n    \n    @Autowired\n    private CostCenterMapper costCenterMapper;\n\n    @Autowired\n    private TenantMapper tenantMapper;\n    \n    @Autowired\n    private QuoteQualifierMapper quoteQualifierMapper;\n    \n    @Autowired\n    private ApiDataUtil apiDataUtil;\n    \n    private CostCenterFilter getCostCenterFilter() {\n        CostCenterFilter costCenterFilter = new CostCenterFilter();\n        return costCenterFilter;\n    }\n    \n    public Long getCostCenterCount() {\n        return costCenterMapper.getAllCostCenterCount(getCostCenterFilter());\n    }\n    \n    /*private QuoteQualifierFilter getQuoteQualifierFilter() {\n        QuoteQualifierFilter QuoteQualifierFilter = new QuoteQualifierFilter();\n        return QuoteQualifierFilter;\n    }*/\n    \n    public Long getQuoteQualifierCount() {\n        return quoteQualifierMapper.getAllQuoteQualifierCount(getQuoteQualifierFilter());\n    }\n    \n    /// quote qualifier\n    \n    private QuoteQualifierFilter getQuoteQualifierFilter() {\n        QuoteQualifierFilter quoteQualifierFilter = new QuoteQualifierFilter();\n        HashMap&lt;String, String&gt; paramsMap = quoteQualifierFilter.getParamsFromEndpoint(apiDataUtil.getEndPoint());\n        \n        if(paramsMap.containsKey(&quot;quoteQualifierId&quot;)) {\n            quoteQualifierFilter.setquoteQualifierId(Long.parseLong(paramsMap.get(&quot;quoteQualifierId&quot;)));\n        }\n        if(paramsMap.containsKey(&quot;name&quot;)) {\n            quoteQualifierFilter.setName(paramsMap.get(&quot;name&quot;));\n        }\n\n        return quoteQualifierFilter;\n    }\n    \n    public List&lt;Map&lt;String, Object&gt;&gt; v1quotequalifiergetallExpected() {\n        ObjectMapper mapper = new ObjectMapper();\n        List&lt;Map&lt;String, Object&gt;&gt; quotequalifier = mapper.convertValue(quoteQualifierMapper.getAllQuoteQualifier(getQuoteQualifierFilter() ), new TypeReference&lt;List&lt;Map&lt;String, Object&gt;&gt;&gt;() {});\n        return quotequalifier;\n    }\n\n    public List&lt;Map&lt;String, Object&gt;&gt; insertTenantRecords(DataTable dataTable) {\n\n        List&lt;List&lt;String&gt;&gt; dataToCreate = dataTable.asLists();\n\n        List&lt;Map&lt;String, Object&gt;&gt; createdData = new ArrayList&lt;&gt;();\n        for(List&lt;String&gt; eachRow : dataToCreate) {\n            String randomNumber = RandomStringUtils.randomNumeric(6);\n            Tenant tenant = new Tenant();\n            tenant.setShortName(eachRow.get(0)+randomNumber);\n            tenant.setName(eachRow.get(1)+randomNumber);\n            tenant.setUpperName(eachRow.get(2)+randomNumber);\n            tenant.setStatus(eachRow.get(3));\n            tenantMapper.insertTenant(tenant);\n            ObjectMapper mapper = new ObjectMapper();\n            Map&lt;String, Object&gt; createdTenant = mapper.convertValue(tenant, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {});\n            createdTenant.put(TestDataUtil.dataCreatedFlagName, true);\n            createdTenant.put(TestDataUtil.testDataFlagName, true);\n            createdData.add(createdTenant);\n        }\n\n        return createdData;\n    }\n}\n</code></pre>\n<p>mapper xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;\n&lt;mapper namespace=&quot;com.tangoe.apglapiautomation.db.mapper.QuoteQualifierMapper&quot;&gt;\n\n    &lt;resultMap id=&quot;quoteQualifierResultMap&quot; type=&quot;com.tangoe.apglapiautomation.db.pojo.QuoteQualifier&quot;&gt;\n        &lt;id property=&quot;id&quot; column=&quot;id&quot;/&gt;\n        &lt;result property=&quot;name&quot; column=&quot;name&quot;/&gt;\n        &lt;result property=&quot;quoteQualifier&quot; column=&quot;quote_qualifier&quot;/&gt;\n        &lt;result property=&quot;created&quot; column=&quot;created&quot;/&gt;\n        &lt;result property=&quot;createdBy&quot; column=&quot;created_by&quot;/&gt;\n    &lt;/resultMap&gt;\n    \n    &lt;select id=&quot;getAllQuoteQualifier&quot; resultMap=&quot;quoteQualifierResultMap&quot; parameterType=&quot;com.tangoe.apglapiautomation.db.filter.QuoteQualifierFilter&quot;&gt;\n        SELECT id, name, quoteQualifier, created, createdBy\n        FROM quote_qualifier\n    &lt;/select&gt;\n    \n&lt;/mapper&gt;\n</code></pre>\n<p>pom.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.7&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.tangoe&lt;/groupId&gt;\n    &lt;artifactId&gt;apglapiautomation&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;apglapiautomation&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\n                    &lt;artifactId&gt;android-json&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.tangoe&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumberbot&lt;/artifactId&gt;\n            &lt;version&gt;3.0.18&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;xml-apis&lt;/groupId&gt;\n                    &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;timestamp-property&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;timestamp-property&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;name&gt;build.time&lt;/name&gt;\n                            &lt;pattern&gt;dd-MM-yyyy_HH-mm-ss&lt;/pattern&gt;\n                            &lt;locale&gt;en_US&lt;/locale&gt;\n                            &lt;timeZone&gt;IST&lt;/timeZone&gt;\n                            &lt;!-- timeZone&gt;EST5EDT&lt;/timeZone--&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n                    &lt;properties&gt;\n                        &lt;property&gt;\n                            &lt;name&gt;usedefaultlisteners&lt;/name&gt;\n                            &lt;value&gt;false&lt;/value&gt;\n                        &lt;/property&gt;\n                        &lt;property&gt;\n                            &lt;name&gt;listener&lt;/name&gt;\n                            &lt;value&gt;com.tangoe.cucumberbot.listeners.SuitesSummaryReport&lt;/value&gt;\n                        &lt;/property&gt;\n                    &lt;/properties&gt;\n                    &lt;suiteXmlFiles&gt;\n                        &lt;suiteXmlFiles&gt;${testSuite}&lt;/suiteXmlFiles&gt;\n                    &lt;/suiteXmlFiles&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>mapper interface file</p>\n<pre><code>package com.tangoe.apglapiautomation.db.mapper;\n\nimport java.util.List;\n\nimport com.tangoe.apglapiautomation.db.filter.QuoteQualifierFilter;\nimport com.tangoe.apglapiautomation.db.pojo.QuoteQualifier;\n\npublic interface QuoteQualifierMapper {\n    \n    List&lt;QuoteQualifier&gt; getAllQuoteQualifier(QuoteQualifierFilter quoteQualifierFilter);\n    \n    QuoteQualifier getAllQuoteQualifierById(Long quoteQualifierId);\n    \n    Long getAllQuoteQualifierCount(QuoteQualifierFilter quoteQualifierFilter);\n}\n</code></pre>\n<p>mybatis config file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;!DOCTYPE configuration\n        PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;\n        &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;\n&lt;configuration&gt;\n    \n    &lt;mappers&gt;\n        &lt;mapper resource=&quot;mappersss/QuoteQualifierMapper.xml&quot; /&gt;\n        &lt;/mappers&gt;\n&lt;/configura\n</code></pre>\n<p>I want to run  line of feature file code</p>\n"},{"tags":["java","jmh"],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688214471,"creation_date":1688214471,"answer_id":76594710,"question_id":76522088,"body_markdown":"JMH is method-based framework, i.e. it measures performance of a method annotated with `@Benchmark`, so in your case there&#39;s no other way but to split the logic. Everything before the loop should be moved into `@Setup`-annotated method and the the loop into `@Benchmark`-annotated one. Pay attention, that in this case JMH must be run in single-shot mode or `@Setup` must be set into `Invocation` mode to have the futures recreated for each measurement.","title":"How can I use JMH to benchmark a specific part of a method","body":"<p>JMH is method-based framework, i.e. it measures performance of a method annotated with <code>@Benchmark</code>, so in your case there's no other way but to split the logic. Everything before the loop should be moved into <code>@Setup</code>-annotated method and the the loop into <code>@Benchmark</code>-annotated one. Pay attention, that in this case JMH must be run in single-shot mode or <code>@Setup</code> must be set into <code>Invocation</code> mode to have the futures recreated for each measurement.</p>\n"}],"owner":{"account_id":1460538,"reputation":4279,"user_id":1374987,"accept_rate":70,"display_name":"PentaKon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76594710,"answer_count":1,"score":1,"last_activity_date":1688214471,"creation_date":1687341783,"question_id":76522088,"body_markdown":"I&#39;m looking for a way to benchmark a specific for-loop inside a method. The for-loop **cannot be extracted and have its state initialized/mocked**.\r\n\r\n      void method(ScheduledExecutorService exec) throws Exception {\r\n        File testFile = new File(&quot;./test&quot;);\r\n        Collection&lt;Future&gt; futures = new HashSet&lt;&gt;();\r\n        testFile.createNewFile();\r\n        for (int i = 0; i &lt; 50; i++) {\r\n          final int j = i;\r\n          final Future&lt;?&gt; future = exec.submit(() -&gt; {\r\n            Files.write((&quot;Test-&quot; + j).getBytes(StandardCharsets.UTF_8), testFile);\r\n          });\r\n          futures.add(future);\r\n        }\r\n        // BENCHMARK HERE\r\n        for (Future future : futures) {\r\n          future.get();\r\n        }\r\n      }\r\nNotice that I&#39;m looking to benchmark only the `future.get()` part, using JMH. My research shows that JMH is like JUnit, i.e. it discovers `@Benchmark` annotated methods and runs those with a clean state, and also starts a new JVM process to run those benchmarks, which means we can&#39;t provide the `Collection&lt;Future&gt;` as state to a benchmarked method.\r\n\r\nYes I understand that I shouldn&#39;t benchmark File I/O but someone else is asking for JMH to be used instead of `System.currentTimeMillis` so I&#39;m looking to see if this is even possible before going back to block this requirement.","title":"How can I use JMH to benchmark a specific part of a method","body":"<p>I'm looking for a way to benchmark a specific for-loop inside a method. The for-loop <strong>cannot be extracted and have its state initialized/mocked</strong>.</p>\n<pre><code>  void method(ScheduledExecutorService exec) throws Exception {\n    File testFile = new File(&quot;./test&quot;);\n    Collection&lt;Future&gt; futures = new HashSet&lt;&gt;();\n    testFile.createNewFile();\n    for (int i = 0; i &lt; 50; i++) {\n      final int j = i;\n      final Future&lt;?&gt; future = exec.submit(() -&gt; {\n        Files.write((&quot;Test-&quot; + j).getBytes(StandardCharsets.UTF_8), testFile);\n      });\n      futures.add(future);\n    }\n    // BENCHMARK HERE\n    for (Future future : futures) {\n      future.get();\n    }\n  }\n</code></pre>\n<p>Notice that I'm looking to benchmark only the <code>future.get()</code> part, using JMH. My research shows that JMH is like JUnit, i.e. it discovers <code>@Benchmark</code> annotated methods and runs those with a clean state, and also starts a new JVM process to run those benchmarks, which means we can't provide the <code>Collection&lt;Future&gt;</code> as state to a benchmarked method.</p>\n<p>Yes I understand that I shouldn't benchmark File I/O but someone else is asking for JMH to be used instead of <code>System.currentTimeMillis</code> so I'm looking to see if this is even possible before going back to block this requirement.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":8218,"reputation":60148,"user_id":14690,"accept_rate":93,"display_name":"Milan Babukov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1222762901,"creation_date":1222762901,"answer_id":152213,"question_id":152205,"body_markdown":"Use &lt;a href=&quot;http://java.sun.com/j2se/1.4.2/docs/guide/misc/deprecation/deprecated.html&quot;&gt;@deprecated&lt;/a&gt; tag. Read the &lt;a href=&quot;http://java.sun.com/j2se/1.4.2/docs/guide/misc/deprecation/index.html&quot;&gt;Deprecation of APIs&lt;/a&gt; document for more info.\r\n\r\nAfter everyone using the code tells you they have cleaned up on their side, start removing the deprecated code and wait and see if someone complains - then tell them to fix their own code...","title":"How to handle functions deprecation in library?","body":"<p>Use <a href=\"http://java.sun.com/j2se/1.4.2/docs/guide/misc/deprecation/deprecated.html\" rel=\"nofollow noreferrer\">@deprecated</a> tag. Read the <a href=\"http://java.sun.com/j2se/1.4.2/docs/guide/misc/deprecation/index.html\" rel=\"nofollow noreferrer\">Deprecation of APIs</a> document for more info.</p>\n\n<p>After everyone using the code tells you they have cleaned up on their side, start removing the deprecated code and wait and see if someone complains - then tell them to fix their own code...</p>\n"},{"tags":[],"owner":{"account_id":9713,"reputation":52996,"user_id":18061,"accept_rate":83,"display_name":"Toon Krijthe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1222763212,"creation_date":1222763212,"answer_id":152229,"question_id":152205,"body_markdown":"It depends on how often the code is rebuild. For example, if there are 4 applications using the library, and they are rebuild daily, a month is a long enough time to fix the deprecated calls. \r\n\r\nAlso, if you use the deprecated tag, provide some comment on which code replaces the deprecated call.","title":"How to handle functions deprecation in library?","body":"<p>It depends on how often the code is rebuild. For example, if there are 4 applications using the library, and they are rebuild daily, a month is a long enough time to fix the deprecated calls. </p>\n\n<p>Also, if you use the deprecated tag, provide some comment on which code replaces the deprecated call.</p>\n"},{"tags":[],"owner":{"account_id":9413,"reputation":2958,"user_id":17382,"accept_rate":88,"display_name":"Chad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1222763336,"creation_date":1222763336,"answer_id":152234,"question_id":152205,"body_markdown":"Consider it this way, customer A downloads the latest version of you library file or frame work. He hits compile on this machine and suddenly he see thousands of errors because the member file or function does no longer exist. From this point on, you&#39;ve given the customer a reason why not to upgrade to your new version and to stay with the old version.\r\n\r\nRaymond Chen answers this the best with his blog about win32 API,\r\n\r\nThough, our experience in our software house has been, once the API has been written we have to carry the API to the end of the product life cycle. To help users to new versions, we provide backwards compatibility with the old commands in the new framework.","title":"How to handle functions deprecation in library?","body":"<p>Consider it this way, customer A downloads the latest version of you library file or frame work. He hits compile on this machine and suddenly he see thousands of errors because the member file or function does no longer exist. From this point on, you've given the customer a reason why not to upgrade to your new version and to stay with the old version.</p>\n\n<p>Raymond Chen answers this the best with his blog about win32 API,</p>\n\n<p>Though, our experience in our software house has been, once the API has been written we have to carry the API to the end of the product life cycle. To help users to new versions, we provide backwards compatibility with the old commands in the new framework.</p>\n"},{"tags":[],"owner":{"account_id":3591,"reputation":332917,"user_id":5190,"accept_rate":76,"display_name":"Vinko Vrsalovic"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1223845600,"creation_date":1222763362,"answer_id":152235,"question_id":152205,"body_markdown":"Set a date and publicize it in the @deprecated tag. The amount of time given to the removal depends on the amount of users your code has, how well connected you are with them and the the reason for the change.\r\n\r\nIf you have thousands of users and you barely talk to them, the time frame should probably be in the decades range :-)\r\n\r\nIf your users are your 10 coworkers and you see them daily, the time frame can easily be in the weeks range.\r\n\r\n\r\n    /**\r\n     * @deprecated\r\n     * This method will be removed after Halloween!\r\n     * @see #newLocationForFunctionality\r\n     */","title":"How to handle functions deprecation in library?","body":"<p>Set a date and publicize it in the @deprecated tag. The amount of time given to the removal depends on the amount of users your code has, how well connected you are with them and the the reason for the change.</p>\n\n<p>If you have thousands of users and you barely talk to them, the time frame should probably be in the decades range :-)</p>\n\n<p>If your users are your 10 coworkers and you see them daily, the time frame can easily be in the weeks range.</p>\n\n<pre><code>/**\n * @deprecated\n * This method will be removed after Halloween!\n * @see #newLocationForFunctionality\n */\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10786,"reputation":18872,"user_id":20520,"accept_rate":89,"display_name":"Diomidis Spinellis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1222763494,"creation_date":1222763494,"answer_id":152242,"question_id":152205,"body_markdown":"Given that this is a library, consider archiving a version with the deprecated functions.  Make this version available in both source code and compiled form, as a backup solution for those who haven&#39;t modernized their code to your new API.  (The binary form is needed, because even you may have trouble compiling the old version in a few years.)  Make it clear that this version will not be supported and enhanced.  Tag this version with a symbolic symbol in your version control system.  Then move forward.","title":"How to handle functions deprecation in library?","body":"<p>Given that this is a library, consider archiving a version with the deprecated functions.  Make this version available in both source code and compiled form, as a backup solution for those who haven't modernized their code to your new API.  (The binary form is needed, because even you may have trouble compiling the old version in a few years.)  Make it clear that this version will not be supported and enhanced.  Tag this version with a symbolic symbol in your version control system.  Then move forward.</p>\n"},{"tags":[],"owner":{"account_id":9344,"reputation":1701,"user_id":17222,"accept_rate":40,"display_name":"user17222"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1222764248,"creation_date":1222764248,"answer_id":152267,"question_id":152205,"body_markdown":"too bad you are not using .Net :(\r\n\r\nThe built in [Obsolete][1] attribute generates compiler warnings.\r\n\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/library/22kk2b44(VS.80).aspx","title":"How to handle functions deprecation in library?","body":"<p>too bad you are not using .Net :(</p>\n\n<p>The built in <a href=\"http://msdn.microsoft.com/en-us/library/22kk2b44(VS.80).aspx\" rel=\"nofollow noreferrer\">Obsolete</a> attribute generates compiler warnings.</p>\n"},{"tags":[],"owner":{"account_id":8474,"reputation":1772,"user_id":15296,"accept_rate":83,"display_name":"Oli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1222764724,"creation_date":1222764724,"answer_id":152285,"question_id":152205,"body_markdown":"It certainly depends at which scale your API is used and what you promised upfront to your customers.\r\n\r\nAs described by Vinko Vrsalovic, you should enter a date when they have to expect the abandon of the function.\r\n\r\nIn production, if it&#39;s &quot;just&quot; a matter of getting cleaner code, I tend to leave things in place even past the deprecating date as long as it doesn&#39;t break anything.\r\n\r\nOn the other hand in development I do it immediately, in order to get things sorted out quickly.","title":"How to handle functions deprecation in library?","body":"<p>It certainly depends at which scale your API is used and what you promised upfront to your customers.</p>\n\n<p>As described by Vinko Vrsalovic, you should enter a date when they have to expect the abandon of the function.</p>\n\n<p>In production, if it's \"just\" a matter of getting cleaner code, I tend to leave things in place even past the deprecating date as long as it doesn't break anything.</p>\n\n<p>On the other hand in development I do it immediately, in order to get things sorted out quickly.</p>\n"},{"tags":[],"owner":{"account_id":11787,"reputation":15498,"user_id":22904,"accept_rate":44,"display_name":"Giulio Piancastelli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1222810829,"creation_date":1222810829,"answer_id":155216,"question_id":152205,"body_markdown":"You may be interested in examples of how deprecation works in some other projects. For example, here follows what the [policy in the Django project for function deprecation][1] is:\r\n&gt; A minor release may deprecate certain features from previous releases. If a feature in version A.B is deprecated, it will continue to work in version A.B+1. In version A.B+2, use of the feature will raise a PendingDeprecationWarning but will continue to work. Version A.B+3 will remove the feature entirely.\r\n\r\n\r\n  [1]: http://docs.djangoproject.com/en/dev/internals/release-process/","title":"How to handle functions deprecation in library?","body":"<p>You may be interested in examples of how deprecation works in some other projects. For example, here follows what the <a href=\"http://docs.djangoproject.com/en/dev/internals/release-process/\" rel=\"nofollow noreferrer\">policy in the Django project for function deprecation</a> is:</p>\n\n<blockquote>\n  <p>A minor release may deprecate certain features from previous releases. If a feature in version A.B is deprecated, it will continue to work in version A.B+1. In version A.B+2, use of the feature will raise a PendingDeprecationWarning but will continue to work. Version A.B+3 will remove the feature entirely.</p>\n</blockquote>\n"}],"owner":{"account_id":544,"reputation":2192,"user_id":706,"accept_rate":50,"display_name":"JaanusSiim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":853,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":152235,"answer_count":8,"score":6,"last_activity_date":1688214082,"creation_date":1222762725,"question_id":152205,"body_markdown":"I&#39;m working on a Java library and would like to remove some functions from it. My reasons for this is public API and design cleanup. Some objects have setters, but should be immutable, some functionality has been implemented better/cleaner in different methods, etc.\r\n\r\nI have marked these methods &#39;deprecated&#39;, and would like to remove them eventually. At the moment I&#39;m thinking about removing these after few sprints (two week development cycles).\r\n\r\nAre there any &#39;best practices&#39; about removing redundant public code?\r\n\r\n","title":"How to handle functions deprecation in library?","body":"<p>I'm working on a Java library and would like to remove some functions from it. My reasons for this is public API and design cleanup. Some objects have setters, but should be immutable, some functionality has been implemented better/cleaner in different methods, etc.</p>\n<p>I have marked these methods 'deprecated', and would like to remove them eventually. At the moment I'm thinking about removing these after few sprints (two week development cycles).</p>\n<p>Are there any 'best practices' about removing redundant public code?</p>\n"},{"tags":["java","opencv","face-recognition","training-data"],"comments":[{"owner":{"account_id":59072,"reputation":92463,"user_id":176769,"accept_rate":100,"display_name":"karlphillip"},"score":0,"creation_date":1688194489,"post_id":76591533,"comment_id":135044083,"body_markdown":"How big is your training dataset?","body":"How big is your training dataset?"},{"owner":{"account_id":15726408,"reputation":165,"user_id":11347922,"display_name":"butexa"},"score":0,"creation_date":1688213734,"post_id":76591533,"comment_id":135045819,"body_markdown":"Pretty big. At the moment, 13k photos.","body":"Pretty big. At the moment, 13k photos."},{"owner":{"account_id":3072614,"reputation":12296,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":0,"creation_date":1688243715,"post_id":76591533,"comment_id":135048818,"body_markdown":"how about you train that _once_ instead of for _every prediction_","body":"how about you train that <i>once</i> instead of for <i>every prediction</i>"},{"owner":{"account_id":15726408,"reputation":165,"user_id":11347922,"display_name":"butexa"},"score":0,"creation_date":1688300151,"post_id":76591533,"comment_id":135052906,"body_markdown":"Yes, sure, but in order to do this it needs to finish first! The issue is that .train doesn&#39;t seem to finish. Maybe I will try to wait for more than 3 hours?","body":"Yes, sure, but in order to do this it needs to finish first! The issue is that .train doesn&#39;t seem to finish. Maybe I will try to wait for more than 3 hours?"},{"owner":{"account_id":3072614,"reputation":12296,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":0,"creation_date":1688302141,"post_id":76591533,"comment_id":135053096,"body_markdown":"try with 1/10 or 1/100 of the training set. observe training time. does it grow linearly, sublinearly, superlinearly? how does RAM usage behave? what size in bytes on storage is the dataset?","body":"try with 1/10 or 1/100 of the training set. observe training time. does it grow linearly, sublinearly, superlinearly? how does RAM usage behave? what size in bytes on storage is the dataset?"},{"owner":{"account_id":15726408,"reputation":165,"user_id":11347922,"display_name":"butexa"},"score":0,"creation_date":1689150412,"post_id":76591533,"comment_id":135171007,"body_markdown":"@ChristophRackwitz thanks for the reply! I will try and let you know. I can tell you right now that the dataset size is  2GB.","body":"@ChristophRackwitz thanks for the reply! I will try and let you know. I can tell you right now that the dataset size is  2GB."}],"owner":{"account_id":15726408,"reputation":165,"user_id":11347922,"display_name":"butexa"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688213788,"creation_date":1688150600,"question_id":76591533,"body_markdown":"Hello I am trying to train a dataset of images for face-recognition using `FaceRecognizer` of openCV.\r\n\r\nSnippet:\r\n\r\n    public static void recognize(String trainingDir, String imagePath)\r\n    \t{\r\n    \t\tMat testImage = imread(imagePath, IMREAD_GRAYSCALE);\r\n    \r\n    \t\tFile root = new File(trainingDir);\r\n    \r\n    \t\tFilenameFilter imgFilter = new FilenameFilter() {\r\n    \t\t\tpublic boolean accept(File dir, String name) {\r\n    \t\t\t\tname = name.toLowerCase();\r\n    \t\t\t\treturn name.endsWith(&quot;.jpg&quot;) || name.endsWith(&quot;.pgm&quot;) || name.endsWith(&quot;.png&quot;);\r\n    \t\t\t}\r\n    \t\t};\r\n    \r\n    \t\tFile[] imageFiles = root.listFiles(imgFilter);\r\n    \r\n    \t\tMatVector images = new MatVector(imageFiles.length);\r\n    \r\n    \t\tMat labels = new Mat(imageFiles.length, 1, CV_32SC1);\r\n    \t\tIntBuffer labelsBuf = labels.createBuffer();\r\n    \r\n    \t\tint counter = 0;\r\n    \r\n    \t\tfor (File image : imageFiles) {\r\n    \t\t\tMat img = imread(image.getAbsolutePath(), IMREAD_GRAYSCALE);\r\n    \r\n    \t\t\tint label = Integer.parseInt(image.getName().split(&quot;\\\\-&quot;)[0]);\r\n    \r\n    \t\t\timages.put(counter, img);\r\n    \r\n    \t\t\tlabelsBuf.put(counter, label);\r\n    \r\n    \t\t\tcounter++;\r\n    \t\t}\r\n    \t\t\r\n    \t\t//FaceRecognizer faceRecognizer = FisherFaceRecognizer.create();\r\n    \t\tFaceRecognizer faceRecognizer = EigenFaceRecognizer.create();\r\n    \t\t//FaceRecognizer faceRecognizer = LBPHFaceRecognizer.create();\r\n    \r\n    \t\tfaceRecognizer.train(images, labels);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;temp&quot;);\r\n    \r\n    \t\tIntPointer label = new IntPointer(1);\r\n    \t\tDoublePointer confidence = new DoublePointer(1);\r\n    \t\tfaceRecognizer.predict(testImage, label, confidence);\r\n    \t\tint predictedLabel = label.get(0);\r\n    \r\n    \t\tSystem.out.println(&quot;Predicted label: &quot; + predictedLabel);\r\n    \t}\r\n    \r\nIf I use `LBPHFaceRecognizer` the `train` method usually finishes after few minutes and I get the predicted label (even though it&#39;s a mismatch).\r\nHowever when I use `EigenFaceRecognizer` and `FisherFaceRecognizer`, even after hours of execution, the method `train` seems to never complete its execution, hence never getting the predicted label. Why would you think this happens?","title":"FaceRecognizer.train doesn&#39;t finish execution even after hours of waiting","body":"<p>Hello I am trying to train a dataset of images for face-recognition using <code>FaceRecognizer</code> of openCV.</p>\n<p>Snippet:</p>\n<pre><code>public static void recognize(String trainingDir, String imagePath)\n    {\n        Mat testImage = imread(imagePath, IMREAD_GRAYSCALE);\n\n        File root = new File(trainingDir);\n\n        FilenameFilter imgFilter = new FilenameFilter() {\n            public boolean accept(File dir, String name) {\n                name = name.toLowerCase();\n                return name.endsWith(&quot;.jpg&quot;) || name.endsWith(&quot;.pgm&quot;) || name.endsWith(&quot;.png&quot;);\n            }\n        };\n\n        File[] imageFiles = root.listFiles(imgFilter);\n\n        MatVector images = new MatVector(imageFiles.length);\n\n        Mat labels = new Mat(imageFiles.length, 1, CV_32SC1);\n        IntBuffer labelsBuf = labels.createBuffer();\n\n        int counter = 0;\n\n        for (File image : imageFiles) {\n            Mat img = imread(image.getAbsolutePath(), IMREAD_GRAYSCALE);\n\n            int label = Integer.parseInt(image.getName().split(&quot;\\\\-&quot;)[0]);\n\n            images.put(counter, img);\n\n            labelsBuf.put(counter, label);\n\n            counter++;\n        }\n        \n        //FaceRecognizer faceRecognizer = FisherFaceRecognizer.create();\n        FaceRecognizer faceRecognizer = EigenFaceRecognizer.create();\n        //FaceRecognizer faceRecognizer = LBPHFaceRecognizer.create();\n\n        faceRecognizer.train(images, labels);\n        \n        System.out.println(&quot;temp&quot;);\n\n        IntPointer label = new IntPointer(1);\n        DoublePointer confidence = new DoublePointer(1);\n        faceRecognizer.predict(testImage, label, confidence);\n        int predictedLabel = label.get(0);\n\n        System.out.println(&quot;Predicted label: &quot; + predictedLabel);\n    }\n</code></pre>\n<p>If I use <code>LBPHFaceRecognizer</code> the <code>train</code> method usually finishes after few minutes and I get the predicted label (even though it's a mismatch).\nHowever when I use <code>EigenFaceRecognizer</code> and <code>FisherFaceRecognizer</code>, even after hours of execution, the method <code>train</code> seems to never complete its execution, hence never getting the predicted label. Why would you think this happens?</p>\n"},{"tags":["java","android","ssl"],"answers":[{"tags":[],"owner":{"account_id":8849342,"reputation":29,"user_id":6609159,"accept_rate":80,"display_name":"Raghava Manchala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509430758,"creation_date":1509430758,"answer_id":47029019,"question_id":47028677,"body_markdown":"Change your Target SDK version to 23, hope your problem will be solved","title":"Same API works on Nougat (7.0), but does not work on Marshmallow OS (6.0 and below)","body":"<p>Change your Target SDK version to 23, hope your problem will be solved</p>\n"}],"owner":{"account_id":5501941,"reputation":57,"user_id":4371021,"display_name":"Dipak Kadam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1688213750,"creation_date":1509429079,"question_id":47028677,"body_markdown":"I am calling SAP API&#39;s with SSL configuration in my app I got response code 200 when app runs on Nougat it works fine.\r\n\r\nBut on Marshmallow OS 6.0 and below, it gives\r\n&gt; 400 (Bad request)\r\n\r\nI&#39;m unable to find the route cause. Please assist.\r\n\r\nGradle piece of code as per below:\r\n\r\n    android {\r\n        compileSdkVersion 25\r\n        buildToolsVersion &quot;25.0.3&quot;\r\n        defaultConfig {\r\n            applicationId &quot;xxx.xxx.xxx&quot;\r\n            minSdkVersion 16\r\n            targetSdkVersion 25\r\n            versionCode 3\r\n            versionName &quot;3.0&quot;\r\n            testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled true\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n     }","title":"Same API works on Nougat (7.0), but does not work on Marshmallow OS (6.0 and below)","body":"<p>I am calling SAP API's with SSL configuration in my app I got response code 200 when app runs on Nougat it works fine.</p>\n<p>But on Marshmallow OS 6.0 and below, it gives</p>\n<blockquote>\n<p>400 (Bad request)</p>\n</blockquote>\n<p>I'm unable to find the route cause. Please assist.</p>\n<p>Gradle piece of code as per below:</p>\n<pre><code>android {\n    compileSdkVersion 25\n    buildToolsVersion &quot;25.0.3&quot;\n    defaultConfig {\n        applicationId &quot;xxx.xxx.xxx&quot;\n        minSdkVersion 16\n        targetSdkVersion 25\n        versionCode 3\n        versionName &quot;3.0&quot;\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\n    }\n    buildTypes {\n        release {\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n }\n</code></pre>\n"},{"tags":["java","random","integer","long-integer","raw-data"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":4,"creation_date":1685101312,"post_id":76340399,"comment_id":134617986,"body_markdown":"maybe it would be wise to ask the &quot;GLI (Gaming Laboratories International) team&quot; or whoever tasked you with extracting raw data","body":"maybe it would be wise to ask the &quot;GLI (Gaming Laboratories International) team&quot; or whoever tasked you with extracting raw data"},{"owner":{"account_id":6009919,"reputation":547,"user_id":4720669,"display_name":"Aakash Patel"},"score":0,"creation_date":1685101721,"post_id":76340399,"comment_id":134618069,"body_markdown":"@user16320675 we are trying to findout the things from our end, so asked the question here","body":"@user16320675 we are trying to findout the things from our end, so asked the question here"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1685104534,"post_id":76340399,"comment_id":134618651,"body_markdown":"no sure what is meant by &#39;our end&#39;... who better would know &#39;the exact meaning or requirements of &quot;raw data&quot; &#39; (my understanding is that an integer {or long} already is raw data... unless they are composed, like bit-masks or so) || anyway the question is unclear (maybe clear for someone involved with that GLI)","body":"no sure what is meant by &#39;our end&#39;... who better would know &#39;the exact meaning or requirements of &quot;raw data&quot; &#39; (my understanding is that an integer {or long} already is raw data... unless they are composed, like bit-masks or so) || anyway the question is unclear (maybe clear for someone involved with that GLI)"},{"owner":{"account_id":6009919,"reputation":547,"user_id":4720669,"display_name":"Aakash Patel"},"score":0,"creation_date":1685104793,"post_id":76340399,"comment_id":134618711,"body_markdown":"@user16320675 please check the answer, this is what i need i believe, but will clarify the answer with GLI team","body":"@user16320675 please check the answer, this is what i need i believe, but will clarify the answer with GLI team"},{"owner":{"account_id":6128339,"reputation":4087,"user_id":4779472,"accept_rate":89,"display_name":"Rohit Gupta"},"score":0,"creation_date":1687487348,"post_id":76340399,"comment_id":134947100,"body_markdown":"Beats me why hex representation is raw data.  Its more encoded than the variables.  Nutty requirement.","body":"Beats me why hex representation is raw data.  Its more encoded than the variables.  Nutty requirement."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685105176,"creation_date":1685101902,"answer_id":76340545,"question_id":76340399,"body_markdown":"For integer\r\n\r\n    byte[] bytes = ByteBuffer.allocate(Integer.BYTES).putInt(42).array();\r\n    \r\n    for (byte b : bytes) {\r\n       System.out.format(&quot;0x%x &quot;, b);\r\n    }\r\n\r\nFor long\r\n\r\n    byte[] bytes = ByteBuffer.allocate(Long.BYTES).putLong(9876543210L).array();\r\n    \r\n    for (byte b : bytes) {\r\n       System.out.format(&quot;0x%x &quot;, b);\r\n    }\r\n\r\nThe above prints in hexadecimal format. To print each byte as 0/1 style bits use:\r\n\r\n       System.out.format(String.format(&quot;%8s&quot;, Integer.toBinaryString(b &amp; 0xFF)).replace(&#39; &#39;, &#39;0&#39;));\r\n\r\n","title":"Extracting Raw Data from Integer and Long Variables in Java","body":"<p>For integer</p>\n<pre><code>byte[] bytes = ByteBuffer.allocate(Integer.BYTES).putInt(42).array();\n\nfor (byte b : bytes) {\n   System.out.format(&quot;0x%x &quot;, b);\n}\n</code></pre>\n<p>For long</p>\n<pre><code>byte[] bytes = ByteBuffer.allocate(Long.BYTES).putLong(9876543210L).array();\n\nfor (byte b : bytes) {\n   System.out.format(&quot;0x%x &quot;, b);\n}\n</code></pre>\n<p>The above prints in hexadecimal format. To print each byte as 0/1 style bits use:</p>\n<pre><code>   System.out.format(String.format(&quot;%8s&quot;, Integer.toBinaryString(b &amp; 0xFF)).replace(' ', '0'));\n</code></pre>\n"}],"owner":{"account_id":6009919,"reputation":547,"user_id":4720669,"display_name":"Aakash Patel"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76340545,"answer_count":1,"score":-2,"last_activity_date":1688213688,"creation_date":1685100811,"question_id":76340399,"body_markdown":"I&#39;m working on a Java project where I have been tasked with extracting raw data from both integer and long variables.\r\n\r\nHere&#39;s an input:\r\n\r\n    Integer intValue = 42;\r\n    Long longValue = 9876543210L;\r\n    \r\nHow can I extract the raw data as bytes from intValue and longValue?","title":"Extracting Raw Data from Integer and Long Variables in Java","body":"<p>I'm working on a Java project where I have been tasked with extracting raw data from both integer and long variables.</p>\n<p>Here's an input:</p>\n<pre><code>Integer intValue = 42;\nLong longValue = 9876543210L;\n</code></pre>\n<p>How can I extract the raw data as bytes from intValue and longValue?</p>\n"},{"tags":["java","android","android-studio","wsl-2"],"answers":[{"tags":[],"owner":{"account_id":345487,"reputation":5160,"user_id":678448,"accept_rate":60,"display_name":"Thommy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683798695,"creation_date":1683798695,"answer_id":76226325,"question_id":76225337,"body_markdown":"Running java binary does not tell you about JAVA_HOME variable. Run echo $JAVA_HOME to see if its present, if not check here how to set it: https://stackoverflow.com/questions/24641536/how-to-set-java-home-in-linux-for-all-users","title":"Android Studio doesn&#39;t start on WSL (No JRE found)","body":"<p>Running java binary does not tell you about JAVA_HOME variable. Run echo $JAVA_HOME to see if its present, if not check here how to set it: <a href=\"https://stackoverflow.com/questions/24641536/how-to-set-java-home-in-linux-for-all-users\">How to set JAVA_HOME in Linux for all users</a></p>\n"},{"tags":[],"owner":{"account_id":27497842,"reputation":1,"user_id":20982085,"display_name":"Hadrian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686937129,"creation_date":1686933307,"answer_id":76492102,"question_id":76225337,"body_markdown":"I was in the same position for weeks, but I managed to get round it by downgrading Studio to [version 2021.1.1][1] \r\n\r\nAnd downgrading java to version 11 by running `sudo apt install openjdk-11-jre`. [Check this out][2] for further info on how and when to do this.\r\n\r\nMy next steps is to find out which is the latest version of each that I can use without breaking what now works.\r\n\r\n\r\n  [1]: https://developer.android.com/studio/archive\r\n  [2]: https://www.linuxcapable.com/how-to-install-openjdk-11-on-ubuntu-linux/","title":"Android Studio doesn&#39;t start on WSL (No JRE found)","body":"<p>I was in the same position for weeks, but I managed to get round it by downgrading Studio to <a href=\"https://developer.android.com/studio/archive\" rel=\"nofollow noreferrer\">version 2021.1.1</a></p>\n<p>And downgrading java to version 11 by running <code>sudo apt install openjdk-11-jre</code>. <a href=\"https://www.linuxcapable.com/how-to-install-openjdk-11-on-ubuntu-linux/\" rel=\"nofollow noreferrer\">Check this out</a> for further info on how and when to do this.</p>\n<p>My next steps is to find out which is the latest version of each that I can use without breaking what now works.</p>\n"},{"tags":[],"owner":{"account_id":28852506,"reputation":1,"user_id":22098099,"display_name":"Ivan Vyargizov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687193708,"creation_date":1687193708,"answer_id":76508647,"question_id":76225337,"body_markdown":"I had the same issue but this helps me: [Can I run android studio on windows 10 Subsystem Linux][1].\r\n\r\nMain point:\r\n 1. In addition to VcXsrv you need to install xfce4 on the unix side\r\n 2. Install missing libraries with: `sudo apt-get install lib32z1 lib32ncurses5 lib32bz2-1.0 lib32stdc++6`\r\n 3. I also added `export DISPLAY=:0` in `/etc/profile` instead of `export DISPLAY=[unix ip]:0` like it says in the article\r\n\r\nAfter all this I managed to run android studio on WSL\r\n\r\n  [1]: https://askubuntu.com/questions/1189343/can-i-run-android-studio-on-windows-10-subsystem-linux","title":"Android Studio doesn&#39;t start on WSL (No JRE found)","body":"<p>I had the same issue but this helps me: <a href=\"https://askubuntu.com/questions/1189343/can-i-run-android-studio-on-windows-10-subsystem-linux\">Can I run android studio on windows 10 Subsystem Linux</a>.</p>\n<p>Main point:</p>\n<ol>\n<li>In addition to VcXsrv you need to install xfce4 on the unix side</li>\n<li>Install missing libraries with: <code>sudo apt-get install lib32z1 lib32ncurses5 lib32bz2-1.0 lib32stdc++6</code></li>\n<li>I also added <code>export DISPLAY=:0</code> in <code>/etc/profile</code> instead of <code>export DISPLAY=[unix ip]:0</code> like it says in the article</li>\n</ol>\n<p>After all this I managed to run android studio on WSL</p>\n"},{"tags":[],"owner":{"account_id":7946874,"reputation":741,"user_id":7810510,"accept_rate":60,"display_name":"Ace Falobi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688213212,"creation_date":1688213212,"answer_id":76594630,"question_id":76225337,"body_markdown":"I encountered this error and this question while searching for a solution.\r\n\r\nYou can fix this by instead setting the `$STUDIO_JDK` variable to the `$JAVA_HOME` path. Hope this helps you also.","title":"Android Studio doesn&#39;t start on WSL (No JRE found)","body":"<p>I encountered this error and this question while searching for a solution.</p>\n<p>You can fix this by instead setting the <code>$STUDIO_JDK</code> variable to the <code>$JAVA_HOME</code> path. Hope this helps you also.</p>\n"}],"owner":{"account_id":26624402,"reputation":65,"user_id":20242664,"display_name":"Artem Pokhiliuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1110,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1688213212,"creation_date":1683792011,"question_id":76225337,"body_markdown":"Step 1. Installed java on my WSL by running\r\n\r\n    sudo apt install default-jdk\r\n\r\nwhen I run **java --version** it gives me **openjdk 11.0.18 2023-01-17**\r\n\r\nStep 2. Installed **VcXsrv X Server** on my Windows 10. Configured it so I&#39;m sure that it works (I mananged to start Ubuntu&#39;s calculator on it by running &quot;**xcalc**&quot; in the terminal)\r\n\r\nStep 3. Downloaded Android Studio linux package and unzipped it in my home directory subfolder.\r\n\r\nNow I am trying to start it by running &quot;**sh studio.sh**&quot; but an error from VcXsrv X Server is popping out:\r\n\r\n&gt; Cannot start Android Studio: No JRE found. Please make sure\r\n&gt; $STUDIO_JDK, $JDK_HOME, or $JAVA_HOME point to valid JRE installation.\r\n\r\nWhat am I supposed to do? Does it need me to install JDK on Windows as well and set env variables there?","title":"Android Studio doesn&#39;t start on WSL (No JRE found)","body":"<p>Step 1. Installed java on my WSL by running</p>\n<pre><code>sudo apt install default-jdk\n</code></pre>\n<p>when I run <strong>java --version</strong> it gives me <strong>openjdk 11.0.18 2023-01-17</strong></p>\n<p>Step 2. Installed <strong>VcXsrv X Server</strong> on my Windows 10. Configured it so I'm sure that it works (I mananged to start Ubuntu's calculator on it by running &quot;<strong>xcalc</strong>&quot; in the terminal)</p>\n<p>Step 3. Downloaded Android Studio linux package and unzipped it in my home directory subfolder.</p>\n<p>Now I am trying to start it by running &quot;<strong>sh studio.sh</strong>&quot; but an error from VcXsrv X Server is popping out:</p>\n<blockquote>\n<p>Cannot start Android Studio: No JRE found. Please make sure\n$STUDIO_JDK, $JDK_HOME, or $JAVA_HOME point to valid JRE installation.</p>\n</blockquote>\n<p>What am I supposed to do? Does it need me to install JDK on Windows as well and set env variables there?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1688242732,"post_id":76594543,"comment_id":135048738,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28930128,"reputation":1,"user_id":22159047,"display_name":"MA. Awan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688211742,"creation_date":1688211742,"question_id":76594543,"body_markdown":"I am new to Andriod development, I just started my first course on it. My problem is that i just made the simple learning app taught by the instructor ,the app is still showing the &quot;Hello &quot; instead of the work that I have done on it ,i want that work to be displayed on screen when I Run app on Emulator...so  can someone answer ??\r\n\r\nI try to search this,rest the activity.XML  but the same thing happening again and again","title":"Why my app always showing greeting preview instead of the work (design) that i have done on it?","body":"<p>I am new to Andriod development, I just started my first course on it. My problem is that i just made the simple learning app taught by the instructor ,the app is still showing the &quot;Hello &quot; instead of the work that I have done on it ,i want that work to be displayed on screen when I Run app on Emulator...so  can someone answer ??</p>\n<p>I try to search this,rest the activity.XML  but the same thing happening again and again</p>\n"},{"tags":["java","batch-file","concurrency","scheduling","netweaver"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1377082814,"post_id":18355588,"comment_id":26947090,"body_markdown":"Can you run these tasks in a single threaded pool?  This avoids concurrency.","body":"Can you run these tasks in a single threaded pool?  This avoids concurrency."}],"answers":[{"tags":[],"owner":{"account_id":3145978,"reputation":65,"user_id":2660452,"display_name":"Lookis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1377083125,"creation_date":1377083125,"answer_id":18355745,"question_id":18355588,"body_markdown":"you can route the jobs to every node just like db sharding, and you can handle it just like running in one node.\r\n\r\nor you have to use a center node, something like db or memory cache or zookeeper to prevent same job running on different nodes;","title":"Batch jobs - prevent concurrency","body":"<p>you can route the jobs to every node just like db sharding, and you can handle it just like running in one node.</p>\n\n<p>or you have to use a center node, something like db or memory cache or zookeeper to prevent same job running on different nodes;</p>\n"}],"owner":{"account_id":1660519,"reputation":253,"user_id":1528901,"accept_rate":25,"display_name":"gtopcu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":543,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688211298,"creation_date":1377082703,"question_id":18355588,"body_markdown":"I have several batch jobs running on a SAP Java system using SAP Java Scheduler. Unfortunately, I haven&#39;t come across any documentation that shows how to prevent concurrent executions for periodic jobs. All I&#39;ve seen is &quot;a new instance of the job will be executed at the next interval&quot;. This ruins my FIFO processing logic so I need to find a way to prevent it. If the scheduler API had a way of checking for the same job executions, this would be solved but haven&#39;t seen an example yet.\r\n\r\nAs a general architectural approach, other means to do this seems like using a DB table - an indicator table for marking current executions - or a JNDI parameter which would be checked first when the job starts. I could also &quot;attempt&quot; to use a static integer but that would fail me on clustered instances. The system is J2EE5 compliant and supports EJB 3.0, so a &quot;singleton EJB&quot; is not available either. I could set the max pool size for a bean and achieve a similar result maybe.\r\n\r\nI&#39;d like to hear your opinions on how to achieve this goal using different architectures.\r\n\r\nKind Regards,\r\n\r\nS. G&#246;khan Top&#231;u","title":"Batch jobs - prevent concurrency","body":"<p>I have several batch jobs running on a SAP Java system using SAP Java Scheduler. Unfortunately, I haven't come across any documentation that shows how to prevent concurrent executions for periodic jobs. All I've seen is &quot;a new instance of the job will be executed at the next interval&quot;. This ruins my FIFO processing logic so I need to find a way to prevent it. If the scheduler API had a way of checking for the same job executions, this would be solved but haven't seen an example yet.</p>\n<p>As a general architectural approach, other means to do this seems like using a DB table - an indicator table for marking current executions - or a JNDI parameter which would be checked first when the job starts. I could also &quot;attempt&quot; to use a static integer but that would fail me on clustered instances. The system is J2EE5 compliant and supports EJB 3.0, so a &quot;singleton EJB&quot; is not available either. I could set the max pool size for a bean and achieve a similar result maybe.</p>\n<p>I'd like to hear your opinions on how to achieve this goal using different architectures.</p>\n<p>Kind Regards,</p>\n<p>S. Gkhan Topu</p>\n"},{"tags":["java","bitmap","paint"],"owner":{"account_id":28930044,"reputation":1,"user_id":22158979,"display_name":"Marc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688210667,"creation_date":1688210667,"question_id":76594479,"body_markdown":"my task is it to laod a black/white Bitmap in an Boolean [][] array. every bit has some special informations. For now i got the bitmap load. But know i struggel with the drawing ob the Bitmap and the medianfilter . \r\n\r\nHere is my Bitmap class. For checking if the Bitmap is correctly loaded i implements a simple print.\r\n```\r\nimport java.io.DataInputStream;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.IOException;\r\nimport java.util.Scanner;\r\n\r\npublic class Bitmap {\r\n  String quelle;\r\n  static int width;\r\n  static int height;\r\n  int pictureStart;\r\n  int b;\r\n  static boolean[][] pixels;\r\n  \r\n  Bitmap(){\r\n//    Scanner sc = new Scanner(System.in);\r\n//    System.out.println(&quot;Bitte den Pfad des Bildes eingeben&quot;);\r\n//    this.quelle = sc.nextLine();\r\n    quelle = &quot;D:\\\\Jade-HS_Oldenburg\\\\Praktische Informatik1\\\\workspace\\\\workspace\\\\Info3_schmidt\\\\Bilder\\\\rose_von_sharon.bmp&quot;;\r\n    this.width = 0;\r\n    this.height = 0;\r\n    this.pictureStart = 0;\r\n    try(DataInputStream ds = new DataInputStream(new FileInputStream(quelle));){\r\n      ds.skipBytes(10);\r\n      \r\n      for(int i = 0; i &lt; 4; i++) {\r\n        pictureStart += ds.readUnsignedByte() * (int) Math.pow(256, i);\r\n      }\r\n      \r\n      ds.skipBytes(4);\r\n      \r\n      for(int i = 0; i &lt; 4; i++) {\r\n        width += ds.readUnsignedByte() * (int) Math.pow(256, i);\r\n      }\r\n      for(int i = 0; i &lt; 4; i++) {\r\n        height += ds.readUnsignedByte() * (int) Math.pow(256, i);\r\n      } \r\n      \r\n      System.out.println(&quot;Bildbeginn bei: &quot; + pictureStart);\r\n      System.out.println(&quot;Bildbreite: &quot; + width);\r\n      System.out.println(&quot;Bildh&#246;he: &quot; + height);\r\n      \r\n      ds.skipBytes(36);\r\n      \r\n      pixels = new boolean [height][width+3];\r\n      \r\n      for(int i = height-1; i &gt; -1; i--) {\r\n        for(int j = 0; j &lt; 1112; j += 8) {\r\n          b = ds.readUnsignedByte();\r\n          if(b / 128 == 1)\r\n            pixels[i][j] = true;\r\n          else\r\n            pixels[i][j] = false;\r\n          b %= 128;\r\n          if(b / 64 == 1)\r\n            pixels[i][j+1] = true;\r\n          else\r\n            pixels[i][j+1] = false;\r\n          b %= 64;\r\n          if(b / 32 == 1)\r\n            pixels[i][j+2] = true;\r\n          else\r\n            pixels[i][j+2] = false;\r\n          b %= 32;\r\n          if(b / 16 == 1)\r\n            pixels[i][j+3] = true;\r\n          else\r\n            pixels[i][j+3] = false;\r\n          b %= 16;\r\n          if(b / 8 == 1)\r\n            pixels[i][j+4] = true;\r\n          else\r\n            pixels[i][j+4] = false;\r\n          b %= 8;\r\n          if(b / 4 == 1)\r\n            pixels[i][j+5] = true;\r\n          else\r\n            pixels[i][j+5] = false;\r\n          b %= 4;\r\n          if(b / 2 == 1)\r\n            pixels[i][j+6] = true;\r\n          else\r\n            pixels[i][j+6] = false;\r\n          b %= 2;\r\n          if(b / 1 == 1)\r\n            pixels[i][j+7] = true;\r\n          else\r\n            pixels[i][j+7] = false;\r\n        }\r\n        ds.skipBytes(1);\r\n      }\r\n    }\r\n    catch(FileNotFoundException fn) {\r\n      System.out.println(&quot;Datei nicht gefunden&quot;);\r\n    }\r\n    catch(IOException io) {\r\n      System.out.println(&quot;Fehler&quot;);\r\n    }\r\n    \r\n    for(int i = 0; i &lt; height; i++) {\r\n      for(int j = 0; j &lt; width; j++) {\r\n        if(pixels[i][j])\r\n          System.out.print(&quot;x&quot;);\r\n        else\r\n          System.out.print(&quot; &quot;);\r\n      }\r\n      System.out.println();\r\n    }\r\n//    print();\r\n    View newview =new View();\r\n  \r\n  }\r\n  \r\n  \r\n\r\n  \r\n// public void print() {\r\n//   for(int i = 0; i &lt; height; i++) {\r\n//     for(int j = 0; j &lt; width; j++) {\r\n//       if(pixels[i][j])\r\n//         System.out.print(&quot;x&quot;);\r\n//       else\r\n//         System.out.print(&quot; &quot;);\r\n//     }\r\n//     System.out.println();\r\n//   }\r\n// }\r\n  public static void main(String[] args) {\r\n    Bitmap test = new Bitmap();\r\n    \r\n   \r\n  }\r\n\r\n}\r\n\r\n```\r\nand here ist my View\r\n\r\n\r\n```\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\n\r\npublic class View {\r\n  private JFrame frame;\r\n  private JLabel label;\r\n  private  int viewwidth;\r\n  private  int viewheight;\r\n  public static void main(String[] args) {\r\n\r\n}\r\n  \r\n  \r\n  /**\r\n   * Create the application.\r\n   * @wbp.parser.entryPoint\r\n   */\r\n  public View() {\r\n    initialize();\r\n  }\r\n  private void initialize() {\r\n    \r\n    frame =new JFrame();\r\n    frame.setBounds(100, 100, 450, 300);\r\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    JPanel panel = new JPanel();\r\n    panel.setToolTipText(&quot;&quot;);\r\n    panel.setBackground(new Color(255, 255, 255));\r\n    frame.getContentPane().add(panel);\r\n    panel.setLayout(new GridLayout(1, 0, 0, 0));\r\n    \r\n    viewwidth= frame.getSize().width /Bitmap.width;\r\n    viewheight=frame.getSize().height / Bitmap.width;\r\n\r\n    JPanel pic_new = new JPanel();\r\n\r\n    panel.add(pic_new);\r\n    \r\n    frame.setVisible(true);\r\n\r\n  }\r\n  public void paint(Graphics g) {\r\n    try {\r\n//        int pixelSize = old_pic.size(); // Gr&#246;&#223;e jedes Rechtecks, kann angepasst werden\r\n        for (int i = 0; i &lt; viewwidth; i++) {\r\n            for (int j = 0; j &lt; viewheight; j++) {\r\n                int c = Bitmap.getPixel(i,j);\r\n                if (Bitmap.pixels[i][j]) {\r\n                    g.setColor(Color.BLACK);\r\n                    g.fillRect(x,y,viewwidth,viewheight);\r\n                } else {\r\n                    g.setColor(Color.WHITE);\r\n                }\r\n                g.fillRect(x, y, viewheight, viewwidth);\r\n            }\r\n        }\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nI tried something with the paint() methode, but i think i dont understand it correctly.\r\n\r\nfor now i need to paint my Bitmap as like i did in the print out and the i need some Tricks for teh medianfilter.\r\n\r\nfor example:\r\n\r\nIn bytes 10 to 13 (first byte = 0), the actual start of the image is stored as a 4-byte number.\r\nIn bytes 18 to 21, the image width is stored as a 4-byte number.\r\nIn bytes 22 to 25, the image height is stored as a 4-byte number.\r\n\r\nAll 4-byte numbers are stored with the smallest byte first.\r\n\r\nStarting from the image beginning, the actual image data is stored:\r\n\r\nThe bottom row comes first, and the top row comes last.\r\nEach row&#39;s 8 pixels are represented by the 8 bits of a byte (1 = white, 0 = black).\r\nIf the number of pixels is not divisible by 8, the last byte is filled with zeros on the right.\r\nBy padding with 0 to 3 null bytes, each row consists of a number of bytes divisible by 4.\r\nAll rows of the image are stored consecutively in this manner.\r\n\r\nmy medianfilter should be a 3x3 Filter\r\n\r\nand i should use &lt;&lt;, &gt;&gt; &amp; and |  for Image processing at the bit level\r\n","title":"draw a black/white Bitmap with a medianfilter","body":"<p>my task is it to laod a black/white Bitmap in an Boolean [][] array. every bit has some special informations. For now i got the bitmap load. But know i struggel with the drawing ob the Bitmap and the medianfilter .</p>\n<p>Here is my Bitmap class. For checking if the Bitmap is correctly loaded i implements a simple print.</p>\n<pre><code>import java.io.DataInputStream;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.util.Scanner;\n\npublic class Bitmap {\n  String quelle;\n  static int width;\n  static int height;\n  int pictureStart;\n  int b;\n  static boolean[][] pixels;\n  \n  Bitmap(){\n//    Scanner sc = new Scanner(System.in);\n//    System.out.println(&quot;Bitte den Pfad des Bildes eingeben&quot;);\n//    this.quelle = sc.nextLine();\n    quelle = &quot;D:\\\\Jade-HS_Oldenburg\\\\Praktische Informatik1\\\\workspace\\\\workspace\\\\Info3_schmidt\\\\Bilder\\\\rose_von_sharon.bmp&quot;;\n    this.width = 0;\n    this.height = 0;\n    this.pictureStart = 0;\n    try(DataInputStream ds = new DataInputStream(new FileInputStream(quelle));){\n      ds.skipBytes(10);\n      \n      for(int i = 0; i &lt; 4; i++) {\n        pictureStart += ds.readUnsignedByte() * (int) Math.pow(256, i);\n      }\n      \n      ds.skipBytes(4);\n      \n      for(int i = 0; i &lt; 4; i++) {\n        width += ds.readUnsignedByte() * (int) Math.pow(256, i);\n      }\n      for(int i = 0; i &lt; 4; i++) {\n        height += ds.readUnsignedByte() * (int) Math.pow(256, i);\n      } \n      \n      System.out.println(&quot;Bildbeginn bei: &quot; + pictureStart);\n      System.out.println(&quot;Bildbreite: &quot; + width);\n      System.out.println(&quot;Bildhhe: &quot; + height);\n      \n      ds.skipBytes(36);\n      \n      pixels = new boolean [height][width+3];\n      \n      for(int i = height-1; i &gt; -1; i--) {\n        for(int j = 0; j &lt; 1112; j += 8) {\n          b = ds.readUnsignedByte();\n          if(b / 128 == 1)\n            pixels[i][j] = true;\n          else\n            pixels[i][j] = false;\n          b %= 128;\n          if(b / 64 == 1)\n            pixels[i][j+1] = true;\n          else\n            pixels[i][j+1] = false;\n          b %= 64;\n          if(b / 32 == 1)\n            pixels[i][j+2] = true;\n          else\n            pixels[i][j+2] = false;\n          b %= 32;\n          if(b / 16 == 1)\n            pixels[i][j+3] = true;\n          else\n            pixels[i][j+3] = false;\n          b %= 16;\n          if(b / 8 == 1)\n            pixels[i][j+4] = true;\n          else\n            pixels[i][j+4] = false;\n          b %= 8;\n          if(b / 4 == 1)\n            pixels[i][j+5] = true;\n          else\n            pixels[i][j+5] = false;\n          b %= 4;\n          if(b / 2 == 1)\n            pixels[i][j+6] = true;\n          else\n            pixels[i][j+6] = false;\n          b %= 2;\n          if(b / 1 == 1)\n            pixels[i][j+7] = true;\n          else\n            pixels[i][j+7] = false;\n        }\n        ds.skipBytes(1);\n      }\n    }\n    catch(FileNotFoundException fn) {\n      System.out.println(&quot;Datei nicht gefunden&quot;);\n    }\n    catch(IOException io) {\n      System.out.println(&quot;Fehler&quot;);\n    }\n    \n    for(int i = 0; i &lt; height; i++) {\n      for(int j = 0; j &lt; width; j++) {\n        if(pixels[i][j])\n          System.out.print(&quot;x&quot;);\n        else\n          System.out.print(&quot; &quot;);\n      }\n      System.out.println();\n    }\n//    print();\n    View newview =new View();\n  \n  }\n  \n  \n\n  \n// public void print() {\n//   for(int i = 0; i &lt; height; i++) {\n//     for(int j = 0; j &lt; width; j++) {\n//       if(pixels[i][j])\n//         System.out.print(&quot;x&quot;);\n//       else\n//         System.out.print(&quot; &quot;);\n//     }\n//     System.out.println();\n//   }\n// }\n  public static void main(String[] args) {\n    Bitmap test = new Bitmap();\n    \n   \n  }\n\n}\n\n</code></pre>\n<p>and here ist my View</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\n\npublic class View {\n  private JFrame frame;\n  private JLabel label;\n  private  int viewwidth;\n  private  int viewheight;\n  public static void main(String[] args) {\n\n}\n  \n  \n  /**\n   * Create the application.\n   * @wbp.parser.entryPoint\n   */\n  public View() {\n    initialize();\n  }\n  private void initialize() {\n    \n    frame =new JFrame();\n    frame.setBounds(100, 100, 450, 300);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    \n    JPanel panel = new JPanel();\n    panel.setToolTipText(&quot;&quot;);\n    panel.setBackground(new Color(255, 255, 255));\n    frame.getContentPane().add(panel);\n    panel.setLayout(new GridLayout(1, 0, 0, 0));\n    \n    viewwidth= frame.getSize().width /Bitmap.width;\n    viewheight=frame.getSize().height / Bitmap.width;\n\n    JPanel pic_new = new JPanel();\n\n    panel.add(pic_new);\n    \n    frame.setVisible(true);\n\n  }\n  public void paint(Graphics g) {\n    try {\n//        int pixelSize = old_pic.size(); // Gre jedes Rechtecks, kann angepasst werden\n        for (int i = 0; i &lt; viewwidth; i++) {\n            for (int j = 0; j &lt; viewheight; j++) {\n                int c = Bitmap.getPixel(i,j);\n                if (Bitmap.pixels[i][j]) {\n                    g.setColor(Color.BLACK);\n                    g.fillRect(x,y,viewwidth,viewheight);\n                } else {\n                    g.setColor(Color.WHITE);\n                }\n                g.fillRect(x, y, viewheight, viewwidth);\n            }\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\n}\n\n</code></pre>\n<p>I tried something with the paint() methode, but i think i dont understand it correctly.</p>\n<p>for now i need to paint my Bitmap as like i did in the print out and the i need some Tricks for teh medianfilter.</p>\n<p>for example:</p>\n<p>In bytes 10 to 13 (first byte = 0), the actual start of the image is stored as a 4-byte number.\nIn bytes 18 to 21, the image width is stored as a 4-byte number.\nIn bytes 22 to 25, the image height is stored as a 4-byte number.</p>\n<p>All 4-byte numbers are stored with the smallest byte first.</p>\n<p>Starting from the image beginning, the actual image data is stored:</p>\n<p>The bottom row comes first, and the top row comes last.\nEach row's 8 pixels are represented by the 8 bits of a byte (1 = white, 0 = black).\nIf the number of pixels is not divisible by 8, the last byte is filled with zeros on the right.\nBy padding with 0 to 3 null bytes, each row consists of a number of bytes divisible by 4.\nAll rows of the image are stored consecutively in this manner.</p>\n<p>my medianfilter should be a 3x3 Filter</p>\n<p>and i should use &lt;&lt;, &gt;&gt; &amp; and |  for Image processing at the bit level</p>\n"},{"tags":["java","file","inputstream"],"comments":[{"owner":{"account_id":188548,"reputation":55117,"user_id":427309,"accept_rate":95,"display_name":"Richard J. Ross III"},"score":0,"creation_date":1291141210,"post_id":4317035,"comment_id":4689144,"body_markdown":"Is this a built in function? or is it a custom function?","body":"Is this a built in function? or is it a custom function?"},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":2,"creation_date":1291141365,"post_id":4317035,"comment_id":4689172,"body_markdown":"@Richard: *&quot;I cannot change the signature of the method.&quot;*","body":"@Richard: <i>&quot;I cannot change the signature of the method.&quot;</i>"},{"owner":{"account_id":71932,"reputation":2395,"user_id":207868,"display_name":"Poindexter"},"score":0,"creation_date":1291141418,"post_id":4317035,"comment_id":4689180,"body_markdown":"Why exactly do you need a `File` object instead of the InputStream?","body":"Why exactly do you need a <code>File</code> object instead of the InputStream?"},{"owner":{"account_id":24660,"reputation":3054,"user_id":2639206,"accept_rate":73,"display_name":"Ram"},"score":3,"creation_date":1291142134,"post_id":4317035,"comment_id":4689301,"body_markdown":"I cannot use InputStream because the API I am using mandates File","body":"I cannot use InputStream because the API I am using mandates File"},{"owner":{"account_id":6718247,"reputation":909,"user_id":5179352,"accept_rate":42,"display_name":"Mike76"},"score":0,"creation_date":1552776625,"post_id":4317035,"comment_id":97141580,"body_markdown":"Seems to me that someone designed a broken API that only accepts files instead of InputStreams, and now you have to use this API","body":"Seems to me that someone designed a broken API that only accepts files instead of InputStreams, and now you have to use this API"}],"answers":[{"tags":[],"owner":{"account_id":240885,"reputation":13386,"user_id":511362,"accept_rate":71,"display_name":"Jan Thom&#228;"},"down_vote_count":1,"up_vote_count":32,"is_accepted":false,"score":31,"last_activity_date":1291141377,"creation_date":1291141377,"answer_id":4317087,"question_id":4317035,"body_markdown":"You can&#39;t. The input stream is just a generic stream of data and there is no guarantee that it actually originates from a File. If someone created an InputStream from reading a web service or just converted a String into an InputStream, there would be no way to link this to a file. So the only thing you can do is actually write data from the stream to a temporary file (e.g. using the File.createTempFile method) and feed this file into your method. ","title":"How to convert InputStream to virtual File","body":"<p>You can't. The input stream is just a generic stream of data and there is no guarantee that it actually originates from a File. If someone created an InputStream from reading a web service or just converted a String into an InputStream, there would be no way to link this to a file. So the only thing you can do is actually write data from the stream to a temporary file (e.g. using the File.createTempFile method) and feed this file into your method. </p>\n"},{"tags":[],"owner":{"account_id":1301807,"reputation":1960,"user_id":1251543,"display_name":"cobbzilla"},"down_vote_count":0,"up_vote_count":130,"is_accepted":true,"score":130,"last_activity_date":1366086636,"creation_date":1366084685,"answer_id":16028522,"question_id":4317035,"body_markdown":"Something like this should work. Note that for simplicity, I&#39;ve used a Java 7 feature (try block with closeable resource), and IOUtils from Apache commons-io. If you can&#39;t use those it&#39;ll be a little longer, but the same idea.\r\n\r\n    import org.apache.commons.io.IOUtils;\r\n\r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n\r\n    public class StreamUtil {\r\n\r\n        public static final String PREFIX = &quot;stream2file&quot;;\r\n        public static final String SUFFIX = &quot;.tmp&quot;;\r\n\r\n        public static File stream2file (InputStream in) throws IOException {\r\n            final File tempFile = File.createTempFile(PREFIX, SUFFIX);\r\n            tempFile.deleteOnExit();\r\n            try (FileOutputStream out = new FileOutputStream(tempFile)) {\r\n                IOUtils.copy(in, out);\r\n            }\r\n            return tempFile;\r\n        }\r\n\r\n    }\r\n","title":"How to convert InputStream to virtual File","body":"<p>Something like this should work. Note that for simplicity, I've used a Java 7 feature (try block with closeable resource), and IOUtils from Apache commons-io. If you can't use those it'll be a little longer, but the same idea.</p>\n\n<pre><code>import org.apache.commons.io.IOUtils;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\n\npublic class StreamUtil {\n\n    public static final String PREFIX = \"stream2file\";\n    public static final String SUFFIX = \".tmp\";\n\n    public static File stream2file (InputStream in) throws IOException {\n        final File tempFile = File.createTempFile(PREFIX, SUFFIX);\n        tempFile.deleteOnExit();\n        try (FileOutputStream out = new FileOutputStream(tempFile)) {\n            IOUtils.copy(in, out);\n        }\n        return tempFile;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12241406,"reputation":309,"user_id":8934374,"display_name":"Braden Borman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655483447,"creation_date":1655483447,"answer_id":72662325,"question_id":4317035,"body_markdown":"If you want to use the MultiPartFile in testing like getting a document from the resource folder -- you can use this.\r\n\r\n    import org.springframework.mock.web.MockMultipartFile;\r\n\r\n\r\n    ClassLoader classLoader = SomeClass.class.getClassLoader();\r\n    InputStream inputStream = classLoader.getResourceAsStream(BASE_DIR + fileName);\r\n    MockMultipartFile(&quot;file&quot;, &quot;NameOfTheFile&quot;, &quot;multipart/form-data&quot;, inputStream);","title":"How to convert InputStream to virtual File","body":"<p>If you want to use the MultiPartFile in testing like getting a document from the resource folder -- you can use this.</p>\n<pre><code>import org.springframework.mock.web.MockMultipartFile;\n\n\nClassLoader classLoader = SomeClass.class.getClassLoader();\nInputStream inputStream = classLoader.getResourceAsStream(BASE_DIR + fileName);\nMockMultipartFile(&quot;file&quot;, &quot;NameOfTheFile&quot;, &quot;multipart/form-data&quot;, inputStream);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2853776,"reputation":1477,"user_id":2450403,"accept_rate":94,"display_name":"Simmant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688210044,"creation_date":1688210044,"answer_id":76594443,"question_id":4317035,"body_markdown":"If anyone just wanted to read bytes from InputStream, for that job you don&#39;t have to create file and then read it from source.\r\n\r\nThis can be done with below example, and key method here are &quot;readAllBytes&quot;, which is introduce with JDK 9 in System class.\r\n\r\nExample:\r\n\r\n    URL url = new URL(&quot;http://www.google.com&quot;);\r\n    \t\tInputStream io = url.openStream();\r\n    \t\tSystem.setIn(io);\r\n    \t\tbyte[] bytes = System.in.readAllBytes();\r\n    \t\tString str = new String(bytes);\r\n    \t\tSystem.out.println(str);\r\n\r\n","title":"How to convert InputStream to virtual File","body":"<p>If anyone just wanted to read bytes from InputStream, for that job you don't have to create file and then read it from source.</p>\n<p>This can be done with below example, and key method here are &quot;readAllBytes&quot;, which is introduce with JDK 9 in System class.</p>\n<p>Example:</p>\n<pre><code>URL url = new URL(&quot;http://www.google.com&quot;);\n        InputStream io = url.openStream();\n        System.setIn(io);\n        byte[] bytes = System.in.readAllBytes();\n        String str = new String(bytes);\n        System.out.println(str);\n</code></pre>\n"}],"owner":{"account_id":24660,"reputation":3054,"user_id":2639206,"accept_rate":73,"display_name":"Ram"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115999,"favorite_count":0,"down_vote_count":0,"up_vote_count":86,"accepted_answer_id":16028522,"answer_count":4,"score":86,"last_activity_date":1688210044,"creation_date":1291141025,"question_id":4317035,"body_markdown":"I have a method which expects the one of the input variable to be of java.io.File type but what I get is only InputStream. Also, I cannot change the signature of the method.\r\n\r\nHow can I convert the InputStream into File type with out actually writing the file on to the filesystem?","title":"How to convert InputStream to virtual File","body":"<p>I have a method which expects the one of the input variable to be of java.io.File type but what I get is only InputStream. Also, I cannot change the signature of the method.</p>\n\n<p>How can I convert the InputStream into File type with out actually writing the file on to the filesystem?</p>\n"},{"tags":["java","arrays","split"],"answers":[{"tags":[],"owner":{"account_id":10295328,"reputation":640,"user_id":7595722,"display_name":"Rodentman87"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1585628040,"creation_date":1585628040,"answer_id":60943353,"question_id":60943319,"body_markdown":"You placed the variable declaration for `oldest` inside of the loop, so each time that a new line of input is read, `oldest` is set back to 0, if you move that outside of the while loop, your code should work properly as is.","title":"How do you get the name of the oldest person using split strings and array in Java","body":"<p>You placed the variable declaration for <code>oldest</code> inside of the loop, so each time that a new line of input is read, <code>oldest</code> is set back to 0, if you move that outside of the while loop, your code should work properly as is.</p>\n"},{"tags":[],"owner":{"account_id":26332392,"reputation":11,"user_id":22016865,"display_name":"Sushil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688209869,"creation_date":1688209869,"answer_id":76594426,"question_id":60943319,"body_markdown":"[Snippet of the output][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/px98q.png\r\n\r\nFolks who are still looking for the answer, here I am attaching the source code below for your reference. &#128071;&#127995;\r\n\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class NameOfTheOldest {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n            int old=0;\r\n            String s=&quot;&quot;;\r\n            while (true) {\r\n                String input = scanner.nextLine();\r\n                if (input.equals(&quot;&quot;)) {\r\n                    break;\r\n                }\r\n                String[] part = input.split(&quot;,&quot;);\r\n                //String name = part[0];                            \r\n                int age = Integer.valueOf(part[1]);\r\n                if (age&gt;old) {\r\n                    old=age;\r\n                    s = part[0];\r\n                }\r\n            }\r\n            System.out.println(&quot;Name of the oldest: &quot;+s);\r\n        } }","title":"How do you get the name of the oldest person using split strings and array in Java","body":"<p><a href=\"https://i.stack.imgur.com/px98q.png\" rel=\"nofollow noreferrer\">Snippet of the output</a></p>\n<p>Folks who are still looking for the answer, here I am attaching the source code below for your reference. </p>\n<pre><code>import java.util.Scanner;\n\npublic class NameOfTheOldest {\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        int old=0;\n        String s=&quot;&quot;;\n        while (true) {\n            String input = scanner.nextLine();\n            if (input.equals(&quot;&quot;)) {\n                break;\n            }\n            String[] part = input.split(&quot;,&quot;);\n            //String name = part[0];                            \n            int age = Integer.valueOf(part[1]);\n            if (age&gt;old) {\n                old=age;\n                s = part[0];\n            }\n        }\n        System.out.println(&quot;Name of the oldest: &quot;+s);\n    } }\n</code></pre>\n"}],"owner":{"account_id":18049692,"reputation":21,"user_id":13119691,"display_name":"bimyou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1467,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":60943353,"answer_count":2,"score":1,"last_activity_date":1688209869,"creation_date":1585627825,"question_id":60943319,"body_markdown":"I&#39;ve been staring at this problem for too long.. This is an exercise from https://java-programming.mooc.fi/part-3/4-using-strings and I have to get the name of the oldest person through splitting the strings and finding the name with the oldest age.\r\n\r\n \r\n\r\n    &gt; Sample Input: Johnny, 5\r\n    &gt;               Rose, 19\r\n    &gt;               Sam, 10\r\n\r\nDesired Output: Rose\r\n\r\n \r\n\r\n \r\n\r\nAny help would genuinely be appreciated. Thanks!\r\n\r\n \r\n\r\n \r\n\r\n \r\n\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class NameOfTheOldest {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n    \r\n            String name = &quot;&quot;;\r\n    \r\n            while (true) {\r\n    \r\n                String input = scanner.nextLine();\r\n    \r\n                if (input.equals(&quot;&quot;)) {\r\n    \r\n                    break;\r\n    \r\n                }\r\n    \r\n                String[] pieces = input.split(&quot;,&quot;);\r\n    \r\n                int age = Integer.valueOf(pieces[1]);\r\n    \r\n                int oldest = 0;\r\n    \r\n                if (age &gt; oldest) {\r\n    \r\n                    name = pieces[0];\r\n    \r\n                    oldest = age;\r\n    \r\n                }\r\n            }\r\n    \r\n            System.out.println(&quot;Name of the oldest: &quot; + name);\r\n        }\r\n    }\r\n     ","title":"How do you get the name of the oldest person using split strings and array in Java","body":"<p>I've been staring at this problem for too long.. This is an exercise from <a href=\"https://java-programming.mooc.fi/part-3/4-using-strings\" rel=\"nofollow noreferrer\">https://java-programming.mooc.fi/part-3/4-using-strings</a> and I have to get the name of the oldest person through splitting the strings and finding the name with the oldest age.</p>\n\n<pre><code>&gt; Sample Input: Johnny, 5\n&gt;               Rose, 19\n&gt;               Sam, 10\n</code></pre>\n\n<p>Desired Output: Rose</p>\n\n<p>Any help would genuinely be appreciated. Thanks!</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class NameOfTheOldest {\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        String name = \"\";\n\n        while (true) {\n\n            String input = scanner.nextLine();\n\n            if (input.equals(\"\")) {\n\n                break;\n\n            }\n\n            String[] pieces = input.split(\",\");\n\n            int age = Integer.valueOf(pieces[1]);\n\n            int oldest = 0;\n\n            if (age &gt; oldest) {\n\n                name = pieces[0];\n\n                oldest = age;\n\n            }\n        }\n\n        System.out.println(\"Name of the oldest: \" + name);\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","eclipse-rcp"],"answers":[{"tags":[],"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"down_vote_count":0,"up_vote_count":61,"is_accepted":false,"score":61,"last_activity_date":1237293434,"creation_date":1237293434,"answer_id":654043,"question_id":654037,"body_markdown":"The string is not translatable. It tells the Eclipse editor to not flag the string as unresourced. This is important for multilingual applications.","title":"What does $NON-NLS-1$ mean?","body":"<p>The string is not translatable. It tells the Eclipse editor to not flag the string as unresourced. This is important for multilingual applications.</p>\n"},{"tags":[],"owner":{"account_id":25166,"reputation":29119,"user_id":64495,"accept_rate":67,"display_name":"Bj&#246;rn"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1379365835,"creation_date":1237293513,"answer_id":654050,"question_id":654037,"body_markdown":"It tells the compiler not to complain about a non externalized string, and that it doesn&#39;t require localization.","title":"What does $NON-NLS-1$ mean?","body":"<p>It tells the compiler not to complain about a non externalized string, and that it doesn't require localization.</p>\n"},{"tags":[],"owner":{"account_id":13252,"reputation":7128,"user_id":26496,"accept_rate":79,"display_name":"Kees de Kooter"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1237293515,"creation_date":1237293515,"answer_id":654051,"question_id":654037,"body_markdown":"It&#39;s used by Eclipse to indicate that a string doesn&#39;t need to be translated, probably because it&#39;s not going to be seen by the application&#39;s users. ","title":"What does $NON-NLS-1$ mean?","body":"<p>It's used by Eclipse to indicate that a string doesn't need to be translated, probably because it's not going to be seen by the application's users. </p>\n"},{"tags":[],"owner":{"account_id":1889,"reputation":120472,"user_id":2603,"accept_rate":75,"display_name":"Aaron Maenpaa"},"down_vote_count":0,"up_vote_count":389,"is_accepted":true,"score":389,"last_activity_date":1237293634,"creation_date":1237293634,"answer_id":654056,"question_id":654037,"body_markdown":"They silence a warning that Eclipse emits when it encounters string literals (and has been configured to complain).\r\n\r\nThe idea is that UI messages should not be embedded as string literals, but rather sourced from a resource file (so that they can be translated, proofed, etc). Consequently, Eclipse can be configured to detect string literals, so that you don&#39;t accidentally have leave unexternalized UI strings in the code; however, there are strings which should not be externalized (such as regexps) and so, //$NON-NLS-1$ gives you a way to communicate that fact to the compiler.\r\n","title":"What does $NON-NLS-1$ mean?","body":"<p>They silence a warning that Eclipse emits when it encounters string literals (and has been configured to complain).</p>\n\n<p>The idea is that UI messages should not be embedded as string literals, but rather sourced from a resource file (so that they can be translated, proofed, etc). Consequently, Eclipse can be configured to detect string literals, so that you don't accidentally have leave unexternalized UI strings in the code; however, there are strings which should not be externalized (such as regexps) and so, //$NON-NLS-1$ gives you a way to communicate that fact to the compiler.</p>\n"},{"tags":[],"owner":{"account_id":125755,"reputation":1627,"user_id":321747,"accept_rate":50,"display_name":"fishjd"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1372189592,"creation_date":1297187614,"answer_id":4936503,"question_id":654037,"body_markdown":"If you are an Android developer.  All strings the user may see should be in the resource file /res/values/strings.xml to read strings.xml file in the code you use R.string.&lt;your key&gt;.  By adding the tag //$NON-NLS-$ you are noting that the string will not be seen by users.  \r\n\r\nThe warning in Eclipse Helios may be turned on at `Window -&gt; preferences -&gt; java -&gt; Compiler -&gt; code style -&gt; &quot;Non-externalized Strings (missing/unused &amp;NON-NLS$ tag)`.  \r\n\r\nIf you are planning on programming your activity to be multi-language, it would be recommended to turn this on.  And then adding the &amp;NON-NLS$ tag to strings that are internal to you activity.  Eclipse will add &amp;NON-NLS$ tag in the quick-fix if you right click on the warning or error.  ","title":"What does $NON-NLS-1$ mean?","body":"<p>If you are an Android developer.  All strings the user may see should be in the resource file /res/values/strings.xml to read strings.xml file in the code you use R.string..  By adding the tag //$NON-NLS-$ you are noting that the string will not be seen by users.  </p>\n\n<p>The warning in Eclipse Helios may be turned on at <code>Window -&gt; preferences -&gt; java -&gt; Compiler -&gt; code style -&gt; \"Non-externalized Strings (missing/unused &amp;NON-NLS$ tag)</code>.  </p>\n\n<p>If you are planning on programming your activity to be multi-language, it would be recommended to turn this on.  And then adding the &amp;NON-NLS$ tag to strings that are internal to you activity.  Eclipse will add &amp;NON-NLS$ tag in the quick-fix if you right click on the warning or error.  </p>\n"},{"tags":[],"owner":{"account_id":902304,"reputation":52117,"user_id":938111,"accept_rate":84,"display_name":"oHo"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1477496853,"creation_date":1477496519,"answer_id":40266605,"question_id":654037,"body_markdown":"`NON-NLS` means ***Non**-**N**ational **L**anguage **S**upport*.  \r\n[Wikipedia][WP] proposes also ***Non**-**N**ative **L**anguage **S**upport* (NLS) but this last one is not very used.\r\n\r\n**NLS** is about internationalizing your application. Eclipse help to locate hard-coded strings in your code. To indicate a string is not part of the internationalization, append the comment `//$NON-NLS-x$` where x is the position of the string. On the following example both `&quot;!&quot;` are hard-coded strings not part of the internationalization:\r\n\r\n     public String foo(String key) { \r\n       return &quot;!&quot; + key + &quot;!&quot;; //$NON-NLS-1$ //$NON-NLS-2$ \r\n     } \r\n\r\nNotes:\r\n\r\n* the leading `//` is necessary each time\r\n* no global `$NON-NLS$` for multiple strings within the same line  \r\n  (e.g. if your line has six strings, you have to write six times `//$NON-NLS-x$`)\r\n\r\nThe book [EMF: Eclipse Modeling Framework at page 250][p250] says:\r\n\r\n&gt; **Non-NLS Markers** Eclipse&#39;s Java compiler has the ability to flag non-externalized strings as a warning or error, in order to facilitate enablement of National Language Support (NLS). EMF-generated code does not use hard coded strings for messages that the user will see; however, string literals do appear frequently, for example, as keys for lookup of externalized strings in a property file. This property controls whether to include comments that mark those literals as non-translatable, so that the compiler will not flag them.\r\n\r\nFor more details see also the pages [The Generator GUI][R] and [How to Internationalize your Eclipse Plug-In][H].\r\n\r\nYou can enable/disable this feature. On Eclipse Neon go to  \r\n`Project &gt; Properties &gt; Java Compiler &gt; Errors/Warnings`  \r\nand select the field  \r\n`Non-externalized strings (missing/unused $NON-NLS$ tag)`\r\n\r\n[![Window of the Project Properties on Eclipse][P]][P]\r\n\r\n[WP]: https://en.wikipedia.org/wiki/Internationalization_and_localization#Naming\r\n[p250]: https://books.google.fr/books?id=ff-9ZYhvPwwC&amp;pg=PA250\r\n[R]: http://www.heod.ru/0131425420_ch11lev1sec2.shtml\r\n[H]: http://www.eclipse.org/articles/Article-Internationalization/how2I18n.html\r\n[P]: https://i.stack.imgur.com/bTeYj.png","title":"What does $NON-NLS-1$ mean?","body":"<p><code>NON-NLS</code> means <strong><em>Non</strong>-<strong>N</strong>ational <strong>L</strong>anguage <strong>S</strong>upport</em>.<br>\n<a href=\"https://en.wikipedia.org/wiki/Internationalization_and_localization#Naming\" rel=\"noreferrer\">Wikipedia</a> proposes also <strong><em>Non</strong>-<strong>N</strong>ative <strong>L</strong>anguage <strong>S</strong>upport</em> (NLS) but this last one is not very used.</p>\n\n<p><strong>NLS</strong> is about internationalizing your application. Eclipse help to locate hard-coded strings in your code. To indicate a string is not part of the internationalization, append the comment <code>//$NON-NLS-x$</code> where x is the position of the string. On the following example both <code>\"!\"</code> are hard-coded strings not part of the internationalization:</p>\n\n<pre><code> public String foo(String key) { \n   return \"!\" + key + \"!\"; //$NON-NLS-1$ //$NON-NLS-2$ \n } \n</code></pre>\n\n<p>Notes:</p>\n\n<ul>\n<li>the leading <code>//</code> is necessary each time</li>\n<li>no global <code>$NON-NLS$</code> for multiple strings within the same line<br>\n(e.g. if your line has six strings, you have to write six times <code>//$NON-NLS-x$</code>)</li>\n</ul>\n\n<p>The book <a href=\"https://books.google.fr/books?id=ff-9ZYhvPwwC&amp;pg=PA250\" rel=\"noreferrer\">EMF: Eclipse Modeling Framework at page 250</a> says:</p>\n\n<blockquote>\n  <p><strong>Non-NLS Markers</strong> Eclipse's Java compiler has the ability to flag non-externalized strings as a warning or error, in order to facilitate enablement of National Language Support (NLS). EMF-generated code does not use hard coded strings for messages that the user will see; however, string literals do appear frequently, for example, as keys for lookup of externalized strings in a property file. This property controls whether to include comments that mark those literals as non-translatable, so that the compiler will not flag them.</p>\n</blockquote>\n\n<p>For more details see also the pages <a href=\"http://www.heod.ru/0131425420_ch11lev1sec2.shtml\" rel=\"noreferrer\">The Generator GUI</a> and <a href=\"http://www.eclipse.org/articles/Article-Internationalization/how2I18n.html\" rel=\"noreferrer\">How to Internationalize your Eclipse Plug-In</a>.</p>\n\n<p>You can enable/disable this feature. On Eclipse Neon go to<br>\n<code>Project &gt; Properties &gt; Java Compiler &gt; Errors/Warnings</code><br>\nand select the field<br>\n<code>Non-externalized strings (missing/unused $NON-NLS$ tag)</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/bTeYj.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/bTeYj.png\" alt=\"Window of the Project Properties on Eclipse\"></a></p>\n"},{"tags":[],"owner":{"account_id":28352719,"reputation":1,"user_id":21683940,"display_name":"reset"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688209011,"creation_date":1688209011,"answer_id":76594377,"question_id":654037,"body_markdown":"It is an annotation that indicates that an annotated code element is a string which is not visible to users, which doesnt require localization, and which doesnt contain strings requiring localization. When you annotate an element with `NonNls`, localization tools will skip this element and strings inside it.","title":"What does $NON-NLS-1$ mean?","body":"<p>It is an annotation that indicates that an annotated code element is a string which is not visible to users, which doesnt require localization, and which doesnt contain strings requiring localization. When you annotate an element with <code>NonNls</code>, localization tools will skip this element and strings inside it.</p>\n"}],"owner":{"account_id":2259,"reputation":18603,"user_id":3122,"accept_rate":81,"display_name":"paulgreg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82843,"favorite_count":0,"down_vote_count":0,"up_vote_count":337,"accepted_answer_id":654056,"answer_count":7,"score":337,"last_activity_date":1688209011,"creation_date":1237293267,"question_id":654037,"body_markdown":"In Eclipse source code, I&#39;ve found some &#39;$NON-NLS-1$&#39; in comments used like that :\r\n\r\n    private String toolTip = &quot;&quot;; //$NON-NLS-1$\r\n\r\nWhat does that mean ?","title":"What does $NON-NLS-1$ mean?","body":"<p>In Eclipse source code, I've found some '$NON-NLS-1$' in comments used like that :</p>\n\n<pre><code>private String toolTip = \"\"; //$NON-NLS-1$\n</code></pre>\n\n<p>What does that mean ?</p>\n"},{"tags":["java","switch-statement","java-17"],"comments":[{"owner":{"account_id":25411796,"reputation":121,"user_id":19219457,"display_name":"mikegrep"},"score":1,"creation_date":1688209034,"post_id":76594338,"comment_id":135045372,"body_markdown":"You need to break the switch stamen cases.","body":"You need to break the switch stamen cases."},{"owner":{"account_id":23012756,"reputation":1,"user_id":17135043,"display_name":"NaveenB2004"},"score":0,"creation_date":1688211745,"post_id":76594338,"comment_id":135045616,"body_markdown":"Thanks for the suggestions! Really appreciate!","body":"Thanks for the suggestions! Really appreciate!"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1688212832,"post_id":76594338,"comment_id":135045721,"body_markdown":"But this information can and *should* be found in any basic switch statement tutorial. Consider availing yourself of the Java Tutorials.","body":"But this information can and <i>should</i> be found in any basic switch statement tutorial. Consider availing yourself of the Java Tutorials."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1688220625,"post_id":76594338,"comment_id":135046492,"body_markdown":"Link: [The Java Tutorials](https://docs.oracle.com/javase/tutorial/)","body":"Link: <a href=\"https://docs.oracle.com/javase/tutorial/\" rel=\"nofollow noreferrer\">The Java Tutorials</a>"},{"owner":{"account_id":23012756,"reputation":1,"user_id":17135043,"display_name":"NaveenB2004"},"score":0,"creation_date":1688231863,"post_id":76594338,"comment_id":135047612,"body_markdown":"I see ). Thanks for the reply!","body":"I see ). Thanks for the reply!"}],"answers":[{"tags":[],"owner":{"account_id":9171073,"reputation":732,"user_id":6818560,"accept_rate":12,"display_name":"lkay Gunel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688208917,"creation_date":1688208917,"answer_id":76594369,"question_id":76594338,"body_markdown":"You need to add &quot;break&quot; to switc-case definitions. When a switch statemnt matches, you need to prevent other matching checking. \r\n\r\nYou can use like this:  \r\n\r\n        switch (a) {\r\n            case 0:\r\n                System.out.println(0);\r\n                break;\r\n            case 1:\r\n                System.out.println(1);\r\n                break;\r\n            case 2:\r\n                System.out.println(2);\r\n                break;\r\n            case 3:\r\n                System.out.println(3);\r\n                break;\r\n            case 4:\r\n                System.out.println(4);\r\n                break;\r\n            case 5:\r\n                System.out.println(5);\r\n                break;\r\n        }","title":"Problem while using switch statement in my Java program","body":"<p>You need to add &quot;break&quot; to switc-case definitions. When a switch statemnt matches, you need to prevent other matching checking.</p>\n<p>You can use like this:</p>\n<pre><code>    switch (a) {\n        case 0:\n            System.out.println(0);\n            break;\n        case 1:\n            System.out.println(1);\n            break;\n        case 2:\n            System.out.println(2);\n            break;\n        case 3:\n            System.out.println(3);\n            break;\n        case 4:\n            System.out.println(4);\n            break;\n        case 5:\n            System.out.println(5);\n            break;\n    }\n</code></pre>\n"}],"owner":{"account_id":23012756,"reputation":1,"user_id":17135043,"display_name":"NaveenB2004"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1688211752,"accepted_answer_id":76594369,"answer_count":1,"score":-1,"last_activity_date":1688208917,"creation_date":1688208450,"question_id":76594338,"body_markdown":"I have a `jTabbedPane` in my program. When I click on a tab, I need to awake a specific method. I used a `switch` statement to invoke each method by catching the `StateChange` event. This is my code.\r\n\r\njTabbedPane :\r\n```\r\nprivate javax.swing.JTabbedPane jTabbedPane1;\r\njTabbedPane1 = new javax.swing.JTabbedPane();\r\njTabbedPane1.setBorder(javax.swing.BorderFactory.createEtchedBorder());\r\njTabbedPane1.setTabPlacement(javax.swing.JTabbedPane.LEFT);\r\njTabbedPane1.addChangeListener(new javax.swing.event.ChangeListener() {\r\n    public void stateChanged(javax.swing.event.ChangeEvent evt) {\r\n        jTabbedPane1StateChanged(evt);\r\n    }\r\n});\r\njTabbedPane1.addTab(&quot;tab0&quot;, jPanel0);\r\njTabbedPane1.addTab(&quot;tab1&quot;, jPanel1);\r\njTabbedPane1.addTab(&quot;tab2&quot;, jPanel2);\r\njTabbedPane1.addTab(&quot;tab3&quot;, jPanel3);\r\njTabbedPane1.addTab(&quot;tab4&quot;, jPanel4);\r\njTabbedPane1.addTab(&quot;tab5&quot;, jPanel5);\r\n```\r\n\r\nEvent Handler:\r\n```\r\nprivate void jTabbedPane1StateChanged(javax.swing.event.ChangeEvent evt) {\r\n  switch (jTabbedPane1.getSelectedIndex()) {\r\n     case 0:\r\n       method0();\r\n     case 1:\r\n       method1();\r\n     case 2:\r\n       method2();\r\n     case 3:\r\n       method3();\r\n     case 4:\r\n       method4();\r\n     case 5:\r\n       method5();\r\n  }\r\n}\r\n```\r\n\r\nBut, when I click on a tab, all methods are called. No error was shown. I&#39;m using `JDK 17`.\r\n```\r\njava 17.0.6 2023-01-17 LTS\r\nJava(TM) SE Runtime Environment (build 17.0.6+9-LTS-190)\r\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.6+9-LTS-190, mixed mode, sharing)\r\n```\r\n\r\nWhen I use the `if` statement instead of the `switch` statement, the code is working perfectly.\r\n\r\n```\r\nprivate void jTabbedPane1StateChanged(javax.swing.event.ChangeEvent evt) {\r\n  if (jTabbedPane1.getSelectedIndex() == 0) {\r\n    method0();\r\n  }\r\n  if (jTabbedPane1.getSelectedIndex() == 1) {\r\n    method1();\r\n  }\r\n  if (jTabbedPane1.getSelectedIndex() == 2) {\r\n    method2();\r\n  }\r\n  if (jTabbedPane1.getSelectedIndex() == 3) {\r\n    method3();\r\n  }\r\n  if (jTabbedPane1.getSelectedIndex() == 4) {\r\n    method4();\r\n  }\r\n  if (jTabbedPane1.getSelectedIndex() == 5) {\r\n    method5();\r\n  }\r\n}\r\n```\r\n\r\nWhat is the problem there?","title":"Problem while using switch statement in my Java program","body":"<p>I have a <code>jTabbedPane</code> in my program. When I click on a tab, I need to awake a specific method. I used a <code>switch</code> statement to invoke each method by catching the <code>StateChange</code> event. This is my code.</p>\n<p>jTabbedPane :</p>\n<pre><code>private javax.swing.JTabbedPane jTabbedPane1;\njTabbedPane1 = new javax.swing.JTabbedPane();\njTabbedPane1.setBorder(javax.swing.BorderFactory.createEtchedBorder());\njTabbedPane1.setTabPlacement(javax.swing.JTabbedPane.LEFT);\njTabbedPane1.addChangeListener(new javax.swing.event.ChangeListener() {\n    public void stateChanged(javax.swing.event.ChangeEvent evt) {\n        jTabbedPane1StateChanged(evt);\n    }\n});\njTabbedPane1.addTab(&quot;tab0&quot;, jPanel0);\njTabbedPane1.addTab(&quot;tab1&quot;, jPanel1);\njTabbedPane1.addTab(&quot;tab2&quot;, jPanel2);\njTabbedPane1.addTab(&quot;tab3&quot;, jPanel3);\njTabbedPane1.addTab(&quot;tab4&quot;, jPanel4);\njTabbedPane1.addTab(&quot;tab5&quot;, jPanel5);\n</code></pre>\n<p>Event Handler:</p>\n<pre><code>private void jTabbedPane1StateChanged(javax.swing.event.ChangeEvent evt) {\n  switch (jTabbedPane1.getSelectedIndex()) {\n     case 0:\n       method0();\n     case 1:\n       method1();\n     case 2:\n       method2();\n     case 3:\n       method3();\n     case 4:\n       method4();\n     case 5:\n       method5();\n  }\n}\n</code></pre>\n<p>But, when I click on a tab, all methods are called. No error was shown. I'm using <code>JDK 17</code>.</p>\n<pre><code>java 17.0.6 2023-01-17 LTS\nJava(TM) SE Runtime Environment (build 17.0.6+9-LTS-190)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.6+9-LTS-190, mixed mode, sharing)\n</code></pre>\n<p>When I use the <code>if</code> statement instead of the <code>switch</code> statement, the code is working perfectly.</p>\n<pre><code>private void jTabbedPane1StateChanged(javax.swing.event.ChangeEvent evt) {\n  if (jTabbedPane1.getSelectedIndex() == 0) {\n    method0();\n  }\n  if (jTabbedPane1.getSelectedIndex() == 1) {\n    method1();\n  }\n  if (jTabbedPane1.getSelectedIndex() == 2) {\n    method2();\n  }\n  if (jTabbedPane1.getSelectedIndex() == 3) {\n    method3();\n  }\n  if (jTabbedPane1.getSelectedIndex() == 4) {\n    method4();\n  }\n  if (jTabbedPane1.getSelectedIndex() == 5) {\n    method5();\n  }\n}\n</code></pre>\n<p>What is the problem there?</p>\n"},{"tags":["java","android","kotlin","android-jetpack-compose","android-splashscreen"],"answers":[{"tags":[],"owner":{"account_id":9450769,"reputation":1,"user_id":7027739,"display_name":"daniil krant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655987709,"creation_date":1655987709,"answer_id":72730267,"question_id":72730209,"body_markdown":"Try to rename the resource file.\r\nLooks like it interferes with some of Samsung&#39;s resource files and you have such runtime error.","title":"android.content.res.Resources$NotFoundException: Drawable compat_splash_screen_no_icon_background with resource ID #0x7f0801b6","body":"<p>Try to rename the resource file.\nLooks like it interferes with some of Samsung's resource files and you have such runtime error.</p>\n"},{"tags":[],"owner":{"account_id":2817598,"reputation":6001,"user_id":2422224,"display_name":"Ma3x"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655991629,"creation_date":1655990985,"answer_id":72731030,"question_id":72730209,"body_markdown":"This is currently an issue. You will have to wait a bit for the fix to ship, then update the `core-splashscreen` dependency to the latest version.\r\n\r\nIt is tracked here https://issuetracker.google.com/issues/229645249\r\nSee if the call order they suggest there helps you mitigate the problem.","title":"android.content.res.Resources$NotFoundException: Drawable compat_splash_screen_no_icon_background with resource ID #0x7f0801b6","body":"<p>This is currently an issue. You will have to wait a bit for the fix to ship, then update the <code>core-splashscreen</code> dependency to the latest version.</p>\n<p>It is tracked here <a href=\"https://issuetracker.google.com/issues/229645249\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/229645249</a>\nSee if the call order they suggest there helps you mitigate the problem.</p>\n"},{"tags":[],"owner":{"account_id":25600764,"reputation":89,"user_id":19375828,"display_name":"RahulK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655992253,"creation_date":1655992253,"answer_id":72731349,"question_id":72730209,"body_markdown":"The background must be a color value, drawables are not supported (at least for now). You can review the example in docs (https://developer.android.com/guide/topics/ui/splash-screen)\r\n\r\nworking example:\r\n\r\n    &lt;item name=&quot;windowSplashScreenBackground&quot;&gt;@color/colorPrimary&lt;/item&gt;","title":"android.content.res.Resources$NotFoundException: Drawable compat_splash_screen_no_icon_background with resource ID #0x7f0801b6","body":"<p>The background must be a color value, drawables are not supported (at least for now). You can review the example in docs (<a href=\"https://developer.android.com/guide/topics/ui/splash-screen\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/ui/splash-screen</a>)</p>\n<p>working example:</p>\n<pre><code>&lt;item name=&quot;windowSplashScreenBackground&quot;&gt;@color/colorPrimary&lt;/item&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1362691,"reputation":8188,"user_id":1299750,"accept_rate":71,"display_name":"idunnololz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679127549,"creation_date":1679127549,"answer_id":75774628,"question_id":72730209,"body_markdown":"This might be related to https://stackoverflow.com/questions/28983622/resourcesnotfoundexception-on-samsung\r\n\r\nYou can try disabling `isShrinkResources` on release builds.\r\n\r\nEg. In your project `build.gradle.kts` file\r\n```\r\n    buildTypes {\r\n        getByName(&quot;release&quot;) {\r\n            isShrinkResources = false\r\n        }\r\n    }\r\n\r\n```","title":"android.content.res.Resources$NotFoundException: Drawable compat_splash_screen_no_icon_background with resource ID #0x7f0801b6","body":"<p>This might be related to <a href=\"https://stackoverflow.com/questions/28983622/resourcesnotfoundexception-on-samsung\">Resources$NotFoundException on Samsung</a></p>\n<p>You can try disabling <code>isShrinkResources</code> on release builds.</p>\n<p>Eg. In your project <code>build.gradle.kts</code> file</p>\n<pre><code>    buildTypes {\n        getByName(&quot;release&quot;) {\n            isShrinkResources = false\n        }\n    }\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":106052,"reputation":7496,"user_id":444761,"accept_rate":41,"display_name":"Mark"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688208463,"creation_date":1687878385,"answer_id":76566263,"question_id":72730209,"body_markdown":"I had a similar issue and noticed the bug was only happening on low display density devices (lower than hdpi, i.e. `tvdpi`, `mdpi` and `ldpi`). So I managed to reproduce the crash by setting up a `tvdpi` emulator, and I also confirmed there was no crash on an `hdpi` emulator.\r\n\r\nAs a fix, I copied the `drawable` (webp) file from `drawable-xxxhdpi` to `drawable-mdpi` and scaled it down by a factor of 4 (512px to 128px) because `xxxhdpi` is 4x`mdpi`. See [official docs][1].\r\n\r\nNote: If you want to also support `ldpi`, you need to add a drawable in `drawable-ldpi` because it won&#39;t read it from any other drawable folder. You can scale down from 512px to 96px, for example.\r\n\r\n  [1]: https://developer.android.com/training/multiscreen/screendensities","title":"android.content.res.Resources$NotFoundException: Drawable compat_splash_screen_no_icon_background with resource ID #0x7f0801b6","body":"<p>I had a similar issue and noticed the bug was only happening on low display density devices (lower than hdpi, i.e. <code>tvdpi</code>, <code>mdpi</code> and <code>ldpi</code>). So I managed to reproduce the crash by setting up a <code>tvdpi</code> emulator, and I also confirmed there was no crash on an <code>hdpi</code> emulator.</p>\n<p>As a fix, I copied the <code>drawable</code> (webp) file from <code>drawable-xxxhdpi</code> to <code>drawable-mdpi</code> and scaled it down by a factor of 4 (512px to 128px) because <code>xxxhdpi</code> is 4x<code>mdpi</code>. See <a href=\"https://developer.android.com/training/multiscreen/screendensities\" rel=\"nofollow noreferrer\">official docs</a>.</p>\n<p>Note: If you want to also support <code>ldpi</code>, you need to add a drawable in <code>drawable-ldpi</code> because it won't read it from any other drawable folder. You can scale down from 512px to 96px, for example.</p>\n"}],"owner":{"account_id":16908317,"reputation":757,"user_id":12228079,"display_name":"Kunal Kalwar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1712,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1688208463,"creation_date":1655987474,"question_id":72730209,"body_markdown":"I am getting this issue only for samsung galaxy devices- Galaxy Tab A, Galaxy A03 Core, Galaxy A02, Galaxy A32\r\n\r\nFatal Exception: java.lang.RuntimeException: Unable to start activity ComponentInfo{com.myapp.application/com.myapp.application.ui.MainActivity}: android.content.res.Resources$NotFoundException: Drawable com.app.application:drawable/compat_splash_screen_no_icon_background with resource ID #0x7f0801b6\r\n\r\n\r\nMy configuration-&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n        &lt;style name=&quot;Theme.App.Starting&quot; parent=&quot;Theme.SplashScreen&quot;&gt;\r\n            &lt;item name=&quot;windowSplashScreenBackground&quot;&gt;@color/white&lt;/item&gt;\r\n    \r\n            &lt;item name=&quot;windowSplashScreenAnimatedIcon&quot;&gt;@drawable/splash_icon&lt;/item&gt;\r\n    \r\n            &lt;item name=&quot;postSplashScreenTheme&quot;&gt;@style/Theme.Triva.NoActionBar&lt;/item&gt;\r\n            &lt;item name=&quot;windowSplashScreenIconBackgroundColor&quot;&gt;@color/blue&lt;/item&gt;\r\n            &lt;item name=&quot;windowSplashScreenAnimationDuration&quot;&gt;800&lt;/item&gt;\r\n    \r\n            &lt;item name=&quot;android:forceDarkAllowed&quot; tools:targetApi=&quot;q&quot;&gt;false&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    &lt;/resources&gt;\r\n\r\nThis is the resource in read only file -&gt;\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1noxo.png\r\n  [2]: https://i.stack.imgur.com/3WX07.png","title":"android.content.res.Resources$NotFoundException: Drawable compat_splash_screen_no_icon_background with resource ID #0x7f0801b6","body":"<p>I am getting this issue only for samsung galaxy devices- Galaxy Tab A, Galaxy A03 Core, Galaxy A02, Galaxy A32</p>\n<p>Fatal Exception: java.lang.RuntimeException: Unable to start activity ComponentInfo{com.myapp.application/com.myapp.application.ui.MainActivity}: android.content.res.Resources$NotFoundException: Drawable com.app.application:drawable/compat_splash_screen_no_icon_background with resource ID #0x7f0801b6</p>\n<p>My configuration-&gt;</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n    &lt;style name=&quot;Theme.App.Starting&quot; parent=&quot;Theme.SplashScreen&quot;&gt;\n        &lt;item name=&quot;windowSplashScreenBackground&quot;&gt;@color/white&lt;/item&gt;\n\n        &lt;item name=&quot;windowSplashScreenAnimatedIcon&quot;&gt;@drawable/splash_icon&lt;/item&gt;\n\n        &lt;item name=&quot;postSplashScreenTheme&quot;&gt;@style/Theme.Triva.NoActionBar&lt;/item&gt;\n        &lt;item name=&quot;windowSplashScreenIconBackgroundColor&quot;&gt;@color/blue&lt;/item&gt;\n        &lt;item name=&quot;windowSplashScreenAnimationDuration&quot;&gt;800&lt;/item&gt;\n\n        &lt;item name=&quot;android:forceDarkAllowed&quot; tools:targetApi=&quot;q&quot;&gt;false&lt;/item&gt;\n    &lt;/style&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>This is the resource in read only file -&gt;</p>\n<p><a href=\"https://i.stack.imgur.com/1noxo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1noxo.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/3WX07.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3WX07.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","arrays","arraylist","getter-setter"],"comments":[{"owner":{"account_id":23627792,"reputation":178,"user_id":17660056,"display_name":"SickerDude43"},"score":0,"creation_date":1688207332,"post_id":76594207,"comment_id":135045191,"body_markdown":"I think I might be able to help you: But I&#39;m a bit confused about what you exactly want to do. The decrementItemQuantity function is correct and should be placed in the ItemClass. Now for every Item you possess there should be an Object of the Item Class. Where do you define these?","body":"I think I might be able to help you: But I&#39;m a bit confused about what you exactly want to do. The decrementItemQuantity function is correct and should be placed in the ItemClass. Now for every Item you possess there should be an Object of the Item Class. Where do you define these?"},{"owner":{"account_id":27135257,"reputation":1,"user_id":20676860,"display_name":"Dustin Minrod"},"score":0,"creation_date":1688207602,"post_id":76594207,"comment_id":135045219,"body_markdown":"in another class i have method where i get the object of the item class","body":"in another class i have method where i get the object of the item class"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1688208860,"post_id":76594207,"comment_id":135045356,"body_markdown":"What is `getItem(slot)` ? What is `slot`at all ? No code shows how it is created nor filled (with items, I guess). I guess you don&#39;t show all significant code.","body":"What is <code>getItem(slot)</code> ? What is <code>slot</code>at all ? No code shows how it is created nor filled (with items, I guess). I guess you don&#39;t show all significant code."},{"owner":{"account_id":23627792,"reputation":178,"user_id":17660056,"display_name":"SickerDude43"},"score":0,"creation_date":1688215326,"post_id":76594207,"comment_id":135045970,"body_markdown":"How do you do this? Probably you got something wrong when you create the Objects. But as @PeterMmm said: the significant code is missing","body":"How do you do this? Probably you got something wrong when you create the Objects. But as @PeterMmm said: the significant code is missing"}],"owner":{"account_id":27135257,"reputation":1,"user_id":20676860,"display_name":"Dustin Minrod"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688207644,"creation_date":1688206362,"question_id":76594207,"body_markdown":"Why does when a user purchase an item, the quantity of the item is not deducting or updating and still it is the same? what should i do to correct the implementation of this?\r\n\r\n```\r\n    public RegularVendingMachine createRegVM() {\r\n        RegularVendingMachine vendingMachine = new RegularVendingMachine();\r\n\r\n        int numSlots = readValidInteger(1, 8, &quot;\\nEnter no. of slot items (MAX: 8): &quot;);\r\n        int itemCount = readValidInteger(1, 10, &quot;Enter no. of items (MAX: 10): &quot;);\r\n        System.out.println(&quot;\\nItem Count: &quot; + itemCount);\r\n        vendingMachine.setItemCount(itemCount);\r\n\r\n        for (int i = 0; i &lt; numSlots; i++) {\r\n            System.out.println(&quot;===================================&quot;);\r\n            System.out.println(&quot;Enter details for Item &quot; + (i + 1) + &quot;:&quot;);\r\n            System.out.println(&quot;===================================&quot;);\r\n            String itemName = readString(&quot;Name of item: &quot;);\r\n            double price = readValidDouble(0, Double.MAX_VALUE, &quot;Enter a price for the item: &quot;);\r\n            int calories = readValidInteger(0, Integer.MAX_VALUE, &quot;Enter no. of calories of the item: &quot;);\r\n\r\n            Item item = new Item();\r\n            item.setItemName(itemName);\r\n            item.setItemPrice(price);\r\n            item.setItemCalories(calories);\r\n            vendingMachine.addItem(String.valueOf(i + 1), item);\r\n\r\n            System.out.println(&quot;Item &quot; + (i + 1) + &quot; Detials:&quot;);\r\n            System.out.println(&quot;Name: &quot; + item.getItemName());\r\n            System.out.println(&quot;Price: &quot; + item.getItemPrice());\r\n            System.out.println(&quot;Calories: &quot; + item.getItemCalories());\r\n        }\r\n\r\n        System.out.println(&quot;Your Regular Vending Machine is created successfully!&quot;);\r\n        System.out.println(&quot;Enjoy your goodies...&quot;);\r\n        return vendingMachine;\r\n    } \r\nprivate void displayAvailableItems() {\r\n        System.out.println();\r\n        System.out.println(&quot;Available Items:&quot;);\r\n        Map&lt;String, Item&gt; inventory = getInventory();\r\n        for (Map.Entry&lt;String, Item&gt; entry : inventory.entrySet()) {\r\n            String slot = entry.getKey();\r\n            Item item = entry.getValue();            \r\n            System.out.println(&quot;Slot &quot; + slot + &quot; - &quot; + item.getItemName() + &quot; - Php &quot; + item.getItemPrice() + &quot; - Quantity: &quot; + itemCount);\r\n        }\r\n    }\r\n\r\n    public void purchaseItem() {\r\n        System.out.println(&quot;&quot;);\r\n    public void purchaseItem() {\r\n    System.out.println();\r\n    displayAvailableItems();\r\n    System.out.println();\r\n    String slot = readValidString(&quot;Enter the slot of the item you want to purchase: &quot;);\r\n    double amount = readValidDouble(0, Double.MAX_VALUE, &quot;Enter the amount of money: &quot;);\r\n\r\n    Item item = getItem(slot);\r\n    if (item != null) {\r\n        if (item.isAvailable()) {\r\n            if (amount &gt;= item.getItemPrice()) {\r\n                double change = amount - item.getItemPrice();\r\n                System.out.println(&quot;\\nYou purchased: &quot; + item.getItemName());\r\n                System.out.println(&quot;Change: Php&quot; + change);\r\n                item.decrementItemQuantity(); // Decrement the item quantity by 1\r\n                item.incrementUnitsSold(); // Increment units sold count\r\n                salesSum += item.getItemPrice(); // Update the sales sum\r\n                System.out.println(&quot;Inventory updated successfully!&quot;);\r\n            } else {\r\n                System.out.println(&quot;Insufficient funds. Please insert more money.&quot;);\r\n            }\r\n        } else {\r\n            System.out.println(&quot;Item is out of stock.&quot;);\r\n        }\r\n    } else {\r\n        System.out.println(&quot;Invalid slot. Please try again.&quot;);\r\n    }\r\n}\r\n\r\n    public void updateInventory(String itemName) {\r\n        for (Slot slot : slots) {\r\n            ArrayList&lt;Item&gt; itemSlot = slot.getItemSlot();\r\n            for (Item item : itemSlot) {\r\n                if (item.getItemName().equals(itemName)) {\r\n                    item.setItemQuantity(item.getItemQuantity() + 1);\r\n                    System.out.println(&quot;Inventory updated for item: &quot; + itemName);\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n```\r\n\r\nhere is the 2nd class (Item): \r\n\r\n```\r\npublic class Item {\r\n    private String itemName;         // The name of the item\r\n    private double itemPrice;        // The price of the item\r\n    private int itemCalories;        // The calories of the item\r\n    private int itemQuantity;        // The quantity of the item\r\n    private boolean itemAvailability;    // The availability of the item\r\n    private int unitsSold;           // The number of units sold for the item\r\n\r\n    public Item() {\r\n        this.itemName = &quot;Empty&quot;;\r\n        this.itemPrice = -1;\r\n        this.itemCalories = -1;\r\n        this.itemQuantity = -1;\r\n        this.itemAvailability = false;\r\n    }\r\n\r\n    public Item(String itemName, int itemPrice, int itemCalories, int itemQuantity, boolean itemAvailability) {\r\n        this.itemName = itemName;\r\n        this.itemPrice = itemPrice;\r\n        this.itemCalories = itemCalories;\r\n        this.itemQuantity = itemQuantity;\r\n        this.itemAvailability = itemAvailability;\r\n    }\r\n\r\n    public String getItemName() {\r\n        return itemName;\r\n    }\r\n\r\n    public double getItemPrice() {\r\n        return itemPrice;\r\n\r\n    public int getItemCalories() {\r\n        return itemCalories;\r\n    }\r\n\r\n    public int getItemQuantity() {\r\n        return itemQuantity;\r\n    }\r\n\r\n    public boolean getItemAvailability() {\r\n        return itemAvailability;\r\n    }\r\n\r\n    public void setItemName(String itemName) {\r\n        this.itemName = itemName;\r\n    }\r\n\r\n    public void setItemPrice(double itemPrice) {\r\n        this.itemPrice = itemPrice;\r\n    }\r\n\r\n    public void setItemCalories(int itemCalories) {\r\n        this.itemCalories = itemCalories;\r\n    }\r\n\r\n    public void setItemQuantity(int itemQuantity) {\r\n        this.itemQuantity = itemQuantity;\r\n    }\r\n\r\n    public void setItemAvailability(boolean itemAvailability) {\r\n        this.itemAvailability = itemAvailability;\r\n    }\r\n\r\n    public boolean isAvailable() {\r\n        return itemQuantity &gt; 0;\r\n    }\r\n\r\n    public void itemRestock(int capacity) {\r\n        if (itemQuantity &lt; capacity) {\r\n            int addedItems = capacity - itemQuantity;\r\n            System.out.println(&quot;\\nRestocking &quot; + addedItems + &quot; &quot; + itemName + &quot;(s)...&quot;);\r\n            itemQuantity = capacity;\r\n            System.out.println(&quot;Restocking complete! The vending machine now has &quot; + itemQuantity + &quot; &quot; + itemName + &quot;(s).&quot;);\r\n        } else {\r\n            System.out.println(&quot;\\nNo restocking needed! The vending machine already has the maximum capacity of &quot; + itemQuantity + &quot; &quot; + itemName + &quot;(s).&quot;);\r\n        }\r\n    }\r\n\r\n    public double calculateTotalPrice(int quantity) {\r\n        return itemPrice * quantity;\r\n    }\r\n\r\n    public int getUnitsSold() {\r\n        return unitsSold;\r\n    }\r\n\r\n    public void incrementUnitsSold() {\r\n        unitsSold++;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\ni tried adding another method in item, which decreases the quantity by 1 but  still it does not work that the quantity should be reduced\r\n```    \r\npublic void decrementItemQuantity() {\r\n        if (itemQuantity &gt; 0) {\r\n            itemQuantity--;\r\n        }\r\n    }\r\n```","title":"How to decrement an item Quantity from an array in java if there are multiple classes?","body":"<p>Why does when a user purchase an item, the quantity of the item is not deducting or updating and still it is the same? what should i do to correct the implementation of this?</p>\n<pre><code>    public RegularVendingMachine createRegVM() {\n        RegularVendingMachine vendingMachine = new RegularVendingMachine();\n\n        int numSlots = readValidInteger(1, 8, &quot;\\nEnter no. of slot items (MAX: 8): &quot;);\n        int itemCount = readValidInteger(1, 10, &quot;Enter no. of items (MAX: 10): &quot;);\n        System.out.println(&quot;\\nItem Count: &quot; + itemCount);\n        vendingMachine.setItemCount(itemCount);\n\n        for (int i = 0; i &lt; numSlots; i++) {\n            System.out.println(&quot;===================================&quot;);\n            System.out.println(&quot;Enter details for Item &quot; + (i + 1) + &quot;:&quot;);\n            System.out.println(&quot;===================================&quot;);\n            String itemName = readString(&quot;Name of item: &quot;);\n            double price = readValidDouble(0, Double.MAX_VALUE, &quot;Enter a price for the item: &quot;);\n            int calories = readValidInteger(0, Integer.MAX_VALUE, &quot;Enter no. of calories of the item: &quot;);\n\n            Item item = new Item();\n            item.setItemName(itemName);\n            item.setItemPrice(price);\n            item.setItemCalories(calories);\n            vendingMachine.addItem(String.valueOf(i + 1), item);\n\n            System.out.println(&quot;Item &quot; + (i + 1) + &quot; Detials:&quot;);\n            System.out.println(&quot;Name: &quot; + item.getItemName());\n            System.out.println(&quot;Price: &quot; + item.getItemPrice());\n            System.out.println(&quot;Calories: &quot; + item.getItemCalories());\n        }\n\n        System.out.println(&quot;Your Regular Vending Machine is created successfully!&quot;);\n        System.out.println(&quot;Enjoy your goodies...&quot;);\n        return vendingMachine;\n    } \nprivate void displayAvailableItems() {\n        System.out.println();\n        System.out.println(&quot;Available Items:&quot;);\n        Map&lt;String, Item&gt; inventory = getInventory();\n        for (Map.Entry&lt;String, Item&gt; entry : inventory.entrySet()) {\n            String slot = entry.getKey();\n            Item item = entry.getValue();            \n            System.out.println(&quot;Slot &quot; + slot + &quot; - &quot; + item.getItemName() + &quot; - Php &quot; + item.getItemPrice() + &quot; - Quantity: &quot; + itemCount);\n        }\n    }\n\n    public void purchaseItem() {\n        System.out.println(&quot;&quot;);\n    public void purchaseItem() {\n    System.out.println();\n    displayAvailableItems();\n    System.out.println();\n    String slot = readValidString(&quot;Enter the slot of the item you want to purchase: &quot;);\n    double amount = readValidDouble(0, Double.MAX_VALUE, &quot;Enter the amount of money: &quot;);\n\n    Item item = getItem(slot);\n    if (item != null) {\n        if (item.isAvailable()) {\n            if (amount &gt;= item.getItemPrice()) {\n                double change = amount - item.getItemPrice();\n                System.out.println(&quot;\\nYou purchased: &quot; + item.getItemName());\n                System.out.println(&quot;Change: Php&quot; + change);\n                item.decrementItemQuantity(); // Decrement the item quantity by 1\n                item.incrementUnitsSold(); // Increment units sold count\n                salesSum += item.getItemPrice(); // Update the sales sum\n                System.out.println(&quot;Inventory updated successfully!&quot;);\n            } else {\n                System.out.println(&quot;Insufficient funds. Please insert more money.&quot;);\n            }\n        } else {\n            System.out.println(&quot;Item is out of stock.&quot;);\n        }\n    } else {\n        System.out.println(&quot;Invalid slot. Please try again.&quot;);\n    }\n}\n\n    public void updateInventory(String itemName) {\n        for (Slot slot : slots) {\n            ArrayList&lt;Item&gt; itemSlot = slot.getItemSlot();\n            for (Item item : itemSlot) {\n                if (item.getItemName().equals(itemName)) {\n                    item.setItemQuantity(item.getItemQuantity() + 1);\n                    System.out.println(&quot;Inventory updated for item: &quot; + itemName);\n                    return;\n                }\n            }\n        }\n</code></pre>\n<p>here is the 2nd class (Item):</p>\n<pre><code>public class Item {\n    private String itemName;         // The name of the item\n    private double itemPrice;        // The price of the item\n    private int itemCalories;        // The calories of the item\n    private int itemQuantity;        // The quantity of the item\n    private boolean itemAvailability;    // The availability of the item\n    private int unitsSold;           // The number of units sold for the item\n\n    public Item() {\n        this.itemName = &quot;Empty&quot;;\n        this.itemPrice = -1;\n        this.itemCalories = -1;\n        this.itemQuantity = -1;\n        this.itemAvailability = false;\n    }\n\n    public Item(String itemName, int itemPrice, int itemCalories, int itemQuantity, boolean itemAvailability) {\n        this.itemName = itemName;\n        this.itemPrice = itemPrice;\n        this.itemCalories = itemCalories;\n        this.itemQuantity = itemQuantity;\n        this.itemAvailability = itemAvailability;\n    }\n\n    public String getItemName() {\n        return itemName;\n    }\n\n    public double getItemPrice() {\n        return itemPrice;\n\n    public int getItemCalories() {\n        return itemCalories;\n    }\n\n    public int getItemQuantity() {\n        return itemQuantity;\n    }\n\n    public boolean getItemAvailability() {\n        return itemAvailability;\n    }\n\n    public void setItemName(String itemName) {\n        this.itemName = itemName;\n    }\n\n    public void setItemPrice(double itemPrice) {\n        this.itemPrice = itemPrice;\n    }\n\n    public void setItemCalories(int itemCalories) {\n        this.itemCalories = itemCalories;\n    }\n\n    public void setItemQuantity(int itemQuantity) {\n        this.itemQuantity = itemQuantity;\n    }\n\n    public void setItemAvailability(boolean itemAvailability) {\n        this.itemAvailability = itemAvailability;\n    }\n\n    public boolean isAvailable() {\n        return itemQuantity &gt; 0;\n    }\n\n    public void itemRestock(int capacity) {\n        if (itemQuantity &lt; capacity) {\n            int addedItems = capacity - itemQuantity;\n            System.out.println(&quot;\\nRestocking &quot; + addedItems + &quot; &quot; + itemName + &quot;(s)...&quot;);\n            itemQuantity = capacity;\n            System.out.println(&quot;Restocking complete! The vending machine now has &quot; + itemQuantity + &quot; &quot; + itemName + &quot;(s).&quot;);\n        } else {\n            System.out.println(&quot;\\nNo restocking needed! The vending machine already has the maximum capacity of &quot; + itemQuantity + &quot; &quot; + itemName + &quot;(s).&quot;);\n        }\n    }\n\n    public double calculateTotalPrice(int quantity) {\n        return itemPrice * quantity;\n    }\n\n    public int getUnitsSold() {\n        return unitsSold;\n    }\n\n    public void incrementUnitsSold() {\n        unitsSold++;\n    }\n}\n</code></pre>\n<p>i tried adding another method in item, which decreases the quantity by 1 but  still it does not work that the quantity should be reduced</p>\n<pre><code>public void decrementItemQuantity() {\n        if (itemQuantity &gt; 0) {\n            itemQuantity--;\n        }\n    }\n</code></pre>\n"},{"tags":["java","android","android-studio","material-ui","android-alertdialog"],"comments":[{"owner":{"account_id":25155166,"reputation":864,"user_id":19000086,"display_name":"zaid khan"},"score":0,"creation_date":1688203652,"post_id":76594011,"comment_id":135044816,"body_markdown":"you&#39;ve done dialog.dismiss inside onClick of the OK button , remove that line the dialog wont disappear","body":"you&#39;ve done dialog.dismiss inside onClick of the OK button , remove that line the dialog wont disappear"},{"owner":{"account_id":18000638,"reputation":531,"user_id":13082664,"display_name":"Meet Bhavsar"},"score":0,"creation_date":1688204210,"post_id":76594011,"comment_id":135044889,"body_markdown":"https://youtube.com/playlist?list=PLlSuJy9SfzvGnYnRnA4uWQEkmgSDDR-KT","body":"<a href=\"https://youtube.com/playlist?list=PLlSuJy9SfzvGnYnRnA4uWQEkmgSDDR-KT\" rel=\"nofollow noreferrer\">youtube.com/playlist?list=PLlSuJy9SfzvGnYnRnA4uWQEkmgSDDR-KT</a>"},{"owner":{"account_id":23467803,"reputation":23,"user_id":17521706,"display_name":"NewbieMF"},"score":0,"creation_date":1688204873,"post_id":76594011,"comment_id":135044959,"body_markdown":"it still disappear...","body":"it still disappear..."}],"answers":[{"tags":[],"owner":{"account_id":23467803,"reputation":23,"user_id":17521706,"display_name":"NewbieMF"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688206310,"creation_date":1688206310,"answer_id":76594202,"question_id":76594011,"body_markdown":"nvm, the Alert dialog is working. I just need to make the PostiveButton null and make the onClick listener separate from the PositiveButton , here is the code\r\n\r\n```\r\nMaterialAlertDialogBuilder builder = new MaterialAlertDialogBuilder(getContext())\r\n        .setTitle(&quot;Verifikasi email&quot;)\r\n        .setIcon(R.drawable.icons8_checkmark)\r\n        .setMessage(&quot;message&quot;)\r\n        .setView(viewDig)\r\n        .setPositiveButton(&quot;OK&quot;, null);\r\n\r\nAlertDialog dialog = builder.create();\r\ndialog.setCancelable(false);\r\n\r\ndialog.setOnShowListener(new DialogInterface.OnShowListener() {\r\n    @Override\r\n    public void onShow(DialogInterface dialogInterface) {\r\n        Button positiveButton = dialog.getButton(AlertDialog.BUTTON_POSITIVE);\r\n        positiveButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                // Do something when the &quot;OK&quot; button is clicked\r\n                // Add your desired functionality here\r\n\r\n                // To keep the dialog open, do not call dialog.dismiss()\r\n            }\r\n        });\r\n    }\r\n});\r\n\r\ndialog.show();\r\n\r\n```","title":"Android Material UI dialog, keep the dialog open when the button is pressed","body":"<p>nvm, the Alert dialog is working. I just need to make the PostiveButton null and make the onClick listener separate from the PositiveButton , here is the code</p>\n<pre><code>MaterialAlertDialogBuilder builder = new MaterialAlertDialogBuilder(getContext())\n        .setTitle(&quot;Verifikasi email&quot;)\n        .setIcon(R.drawable.icons8_checkmark)\n        .setMessage(&quot;message&quot;)\n        .setView(viewDig)\n        .setPositiveButton(&quot;OK&quot;, null);\n\nAlertDialog dialog = builder.create();\ndialog.setCancelable(false);\n\ndialog.setOnShowListener(new DialogInterface.OnShowListener() {\n    @Override\n    public void onShow(DialogInterface dialogInterface) {\n        Button positiveButton = dialog.getButton(AlertDialog.BUTTON_POSITIVE);\n        positiveButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                // Do something when the &quot;OK&quot; button is clicked\n                // Add your desired functionality here\n\n                // To keep the dialog open, do not call dialog.dismiss()\n            }\n        });\n    }\n});\n\ndialog.show();\n\n</code></pre>\n"}],"owner":{"account_id":23467803,"reputation":23,"user_id":17521706,"display_name":"NewbieMF"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76594202,"answer_count":1,"score":0,"last_activity_date":1688206310,"creation_date":1688203377,"question_id":76594011,"body_markdown":"I want my dialog to stay open when I press the OK button, because I want to make the Alert Dialog the place to input the verification code. Is there a way to keep the Alert Dialog from closing?\r\n\r\n```\r\n\r\n                                MaterialAlertDialogBuilder builder = new MaterialAlertDialogBuilder(getContext())\r\n                                        .setTitle(&quot;Verifikasi email&quot;)\r\n                                        .setIcon(R.drawable.icons8_checkmark)\r\n                                        .setMessage(&quot;message&quot;)\r\n                                        .setView(viewDig)\r\n                                        .setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\r\n                                            @Override\r\n                                            public void onClick(DialogInterface dialog, int which) {\r\n                                                // Aksi yang akan dilakukan ketika tombol &quot;OK&quot; diklik\r\n                                                dialog.dismiss();\r\n\r\n                                                StringBuilder sb = new StringBuilder();\r\n                                                for (EditText editText : editTexts) {\r\n                                                    sb.append(editText.getText().toString());\r\n                                                }\r\n                                                String verNum = sb.toString();\r\n\r\n                                                if (verNum.equals(activation)){\r\n                                                    // do something without closing the dialog\r\n                                                }else{\r\n                                                    // do something without closing the dialog\r\n                                                }\r\n                                            }\r\n                                        });\r\n                                builder.setCancelable(false);\r\n                                builder.show();\r\n```\r\n","title":"Android Material UI dialog, keep the dialog open when the button is pressed","body":"<p>I want my dialog to stay open when I press the OK button, because I want to make the Alert Dialog the place to input the verification code. Is there a way to keep the Alert Dialog from closing?</p>\n<pre><code>\n                                MaterialAlertDialogBuilder builder = new MaterialAlertDialogBuilder(getContext())\n                                        .setTitle(&quot;Verifikasi email&quot;)\n                                        .setIcon(R.drawable.icons8_checkmark)\n                                        .setMessage(&quot;message&quot;)\n                                        .setView(viewDig)\n                                        .setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\n                                            @Override\n                                            public void onClick(DialogInterface dialog, int which) {\n                                                // Aksi yang akan dilakukan ketika tombol &quot;OK&quot; diklik\n                                                dialog.dismiss();\n\n                                                StringBuilder sb = new StringBuilder();\n                                                for (EditText editText : editTexts) {\n                                                    sb.append(editText.getText().toString());\n                                                }\n                                                String verNum = sb.toString();\n\n                                                if (verNum.equals(activation)){\n                                                    // do something without closing the dialog\n                                                }else{\n                                                    // do something without closing the dialog\n                                                }\n                                            }\n                                        });\n                                builder.setCancelable(false);\n                                builder.show();\n</code></pre>\n"},{"tags":["java","amazon-ec2","api-key","aws-sdk-java-2.0"],"answers":[{"tags":[],"owner":{"account_id":24061328,"reputation":13,"user_id":18038530,"display_name":"torva"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688206126,"creation_date":1688206126,"answer_id":76594189,"question_id":75985828,"body_markdown":"The EC2 instance did not have permission to access the API Gateway.","title":"aws sdk in ubuntu ec2 instance","body":"<p>The EC2 instance did not have permission to access the API Gateway.</p>\n"}],"owner":{"account_id":24061328,"reputation":13,"user_id":18038530,"display_name":"torva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76594189,"answer_count":1,"score":0,"last_activity_date":1688206126,"creation_date":1681215532,"question_id":75985828,"body_markdown":"I am attempting to bulid a service that takes a webhook containing name, id, contact information and so on, and use the webhook to create an api key in aws api gateway. It is supposed to run in a ubuntu ec2 instance. The issue I have is when the program recives the webhook and about to execute, it goes idle as if it is waiting for more input. I did remote debugging to figure this out. When then code is ran on my local computer it works as expected.\r\n\r\nMethod call from the Main class where the code doesnt continue from:\r\n`generator.createAPIKey(util.getIdFromPayload(payload), &quot;created by the webhook&quot;);`\r\n\r\nThe method that is called in the generator class:\r\n\r\n```\r\npublic void createAPIKey(String name, String descritpion) {\r\n        setKeyValue();\r\n        CreateApiKeyRequest apiKeyRequest = CreateApiKeyRequest.builder()\r\n                .name(name)\r\n                .description(descritpion)\r\n                .enabled(true)\r\n                .value(keyValue)\r\n                .generateDistinctId(true)\r\n                .build();\r\n\r\n        response = apigateway.createApiKey(apiKeyRequest);\r\n    }\r\n```\r\n\r\nthe response is used to assing a useageplan (which it never reaches)\r\n\r\n```\r\npublic void assingUsagePlan(UsagePlan usagePlan) {\r\n        CreateUsagePlanKeyRequest request = CreateUsagePlanKeyRequest.builder()\r\n                   .usagePlanId(usagePlan.getPlanId())\r\n                   .keyId(response.id())\r\n                   .keyType(&quot;API_KEY&quot;)\r\n                   .build();\r\n\r\n        apigateway.createUsagePlanKey(request);\r\n    }\r\n```\r\n\r\nI have uploaded the .aws folder to the instance containing config and credentials files.\r\n\r\nSnippet from the pom.xml file\r\n\r\n```\r\n&lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n                &lt;artifactId&gt;bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${aws.java.sdk.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n&lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;appsync&lt;/artifactId&gt;\r\n            &lt;version&gt;2.20.18&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\r\n            &lt;version&gt;1.12.420&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;apigateway&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-java-sdk-api-gateway&lt;/artifactId&gt;\r\n            &lt;version&gt;1.12.405&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nIf it is intresting, this is how the id is retrived:\r\n\r\n```\r\npublic String getIdFromPayload(String payload){\r\n        JSONObject id = createJsonObj(payload);\r\n\r\n        return id.getString(&quot;id&quot;);\r\n    }\r\n```\r\n\r\nSo far have I tried messing around with the credentials, because that could be an issue, but so far no luck. What the program is ultimatly supposed to do is use the webhook id, and generate an api key and see it appear under the useageplan that is passed with the webhook using the aws sdk.\r\n\r\n**Update:**\r\nEC2 did not have the necessary permissions to access the API Gateway. That can be a solution to similar problems    ","title":"aws sdk in ubuntu ec2 instance","body":"<p>I am attempting to bulid a service that takes a webhook containing name, id, contact information and so on, and use the webhook to create an api key in aws api gateway. It is supposed to run in a ubuntu ec2 instance. The issue I have is when the program recives the webhook and about to execute, it goes idle as if it is waiting for more input. I did remote debugging to figure this out. When then code is ran on my local computer it works as expected.</p>\n<p>Method call from the Main class where the code doesnt continue from:\n<code>generator.createAPIKey(util.getIdFromPayload(payload), &quot;created by the webhook&quot;);</code></p>\n<p>The method that is called in the generator class:</p>\n<pre><code>public void createAPIKey(String name, String descritpion) {\n        setKeyValue();\n        CreateApiKeyRequest apiKeyRequest = CreateApiKeyRequest.builder()\n                .name(name)\n                .description(descritpion)\n                .enabled(true)\n                .value(keyValue)\n                .generateDistinctId(true)\n                .build();\n\n        response = apigateway.createApiKey(apiKeyRequest);\n    }\n</code></pre>\n<p>the response is used to assing a useageplan (which it never reaches)</p>\n<pre><code>public void assingUsagePlan(UsagePlan usagePlan) {\n        CreateUsagePlanKeyRequest request = CreateUsagePlanKeyRequest.builder()\n                   .usagePlanId(usagePlan.getPlanId())\n                   .keyId(response.id())\n                   .keyType(&quot;API_KEY&quot;)\n                   .build();\n\n        apigateway.createUsagePlanKey(request);\n    }\n</code></pre>\n<p>I have uploaded the .aws folder to the instance containing config and credentials files.</p>\n<p>Snippet from the pom.xml file</p>\n<pre><code>&lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n                &lt;artifactId&gt;bom&lt;/artifactId&gt;\n                &lt;version&gt;${aws.java.sdk.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.8.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;appsync&lt;/artifactId&gt;\n            &lt;version&gt;2.20.18&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\n            &lt;version&gt;1.12.420&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;apigateway&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk-api-gateway&lt;/artifactId&gt;\n            &lt;version&gt;1.12.405&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>If it is intresting, this is how the id is retrived:</p>\n<pre><code>public String getIdFromPayload(String payload){\n        JSONObject id = createJsonObj(payload);\n\n        return id.getString(&quot;id&quot;);\n    }\n</code></pre>\n<p>So far have I tried messing around with the credentials, because that could be an issue, but so far no luck. What the program is ultimatly supposed to do is use the webhook id, and generate an api key and see it appear under the useageplan that is passed with the webhook using the aws sdk.</p>\n<p><strong>Update:</strong>\nEC2 did not have the necessary permissions to access the API Gateway. That can be a solution to similar problems</p>\n"},{"tags":["java","spring","spring-boot","arangodb","aql"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688203903,"post_id":76593987,"comment_id":135044847,"body_markdown":"You haven&#39;t asked a question.","body":"You haven&#39;t asked a question."}],"owner":{"account_id":26332814,"reputation":11,"user_id":20067765,"display_name":"Denis Khvan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688205056,"creation_date":1688202991,"question_id":76593987,"body_markdown":"My technology stack: Spring Boot + ArangoDB.\r\nI have entities:\r\n```\r\nPerson {\r\nNameDetails nameDetails;\r\n}\r\n\r\nNameDetails {\r\nList&lt;Name&gt; name;\r\n}\r\n\r\nName {\r\nNameValue nameValue;\r\n}\r\n\r\nNameValue {\r\nString singleStringName;\r\n}\r\n```\r\n\r\nThere is a REST endpoint that accepts the String fullName parameter. I need to write an AQL query to the ArangoDB database to search for the fullName parameter.\r\n\r\nExample:\r\nPerson.nameDetails.name[*].nameValue.singleStringName has the string &quot;Randa Setiawan Nugraha&quot; and the endpoint receives the parameter &quot;Randa Nugraha&quot;, then the entity record with the string &quot;Randa Setiawan Nugraha&quot; should return. So there can be different variations of the incoming parameter to find the record.\r\n\r\nHow can I do this?","title":"I need to implement a fuzzy string search with Spring + ArangoDB","body":"<p>My technology stack: Spring Boot + ArangoDB.\nI have entities:</p>\n<pre><code>Person {\nNameDetails nameDetails;\n}\n\nNameDetails {\nList&lt;Name&gt; name;\n}\n\nName {\nNameValue nameValue;\n}\n\nNameValue {\nString singleStringName;\n}\n</code></pre>\n<p>There is a REST endpoint that accepts the String fullName parameter. I need to write an AQL query to the ArangoDB database to search for the fullName parameter.</p>\n<p>Example:\nPerson.nameDetails.name[*].nameValue.singleStringName has the string &quot;Randa Setiawan Nugraha&quot; and the endpoint receives the parameter &quot;Randa Nugraha&quot;, then the entity record with the string &quot;Randa Setiawan Nugraha&quot; should return. So there can be different variations of the incoming parameter to find the record.</p>\n<p>How can I do this?</p>\n"},{"tags":["java","spring-boot","spring-security","vaadin"],"owner":{"account_id":4907986,"reputation":1440,"user_id":3997460,"accept_rate":62,"display_name":"megloff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688204749,"creation_date":1688200428,"question_id":76593849,"body_markdown":"I am looking for an example how I can use multiple UserDetailsManager or UserDetailsService together with VaadinWebSecurity. Background, I am creating an app with Vaadin Flow and Spring Boot + Security which will have a Frontend for Registered Customers and a Backend for the App Administration. Unfortunately the Data Sources for the users Frontend and Backend will not be the same.\r\n\r\nI tried to instantiate two instances of VaadinWebSecurity but it seems not to work, because looking at the source code of Vaadin it is based on named Beans. Only one seems to be supported. \r\n\r\nAny suggestions?  I am using Vaadin WebFlow 24, Spring Boot 3 and Spring Security 6. \r\n\r\n```\r\n@EnableWebSecurity\r\n\r\n@Configuration\r\n@Order(Ordered.HIGHEST_PRECEDENCE)\r\n@Slf4j\r\npublic class SecurityFrontendConfig extends VaadinWebSecurity {\r\n        @Override\r\n         protected void configure(HttpSecurity http) throws Exception { ... }\r\n}\r\n\r\n@EnableWebSecurity\r\n@Configuration\r\n@Order(Ordered.LOWEST_PRECEDENCE)\r\n@Slf4j\r\npublic class SecurityBackendConfig extends VaadinWebSecurity {\r\n        @Override\r\n         protected void configure(HttpSecurity http) throws Exception { ... }\r\n}\r\n\r\n```\r\n","title":"Multiple UserDetailsManager in VaadinWebSecurity","body":"<p>I am looking for an example how I can use multiple UserDetailsManager or UserDetailsService together with VaadinWebSecurity. Background, I am creating an app with Vaadin Flow and Spring Boot + Security which will have a Frontend for Registered Customers and a Backend for the App Administration. Unfortunately the Data Sources for the users Frontend and Backend will not be the same.</p>\n<p>I tried to instantiate two instances of VaadinWebSecurity but it seems not to work, because looking at the source code of Vaadin it is based on named Beans. Only one seems to be supported.</p>\n<p>Any suggestions?  I am using Vaadin WebFlow 24, Spring Boot 3 and Spring Security 6.</p>\n<pre><code>@EnableWebSecurity\n\n@Configuration\n@Order(Ordered.HIGHEST_PRECEDENCE)\n@Slf4j\npublic class SecurityFrontendConfig extends VaadinWebSecurity {\n        @Override\n         protected void configure(HttpSecurity http) throws Exception { ... }\n}\n\n@EnableWebSecurity\n@Configuration\n@Order(Ordered.LOWEST_PRECEDENCE)\n@Slf4j\npublic class SecurityBackendConfig extends VaadinWebSecurity {\n        @Override\n         protected void configure(HttpSecurity http) throws Exception { ... }\n}\n\n</code></pre>\n"},{"tags":["java","swing","event-dispatch-thread"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1688205363,"post_id":76594079,"comment_id":135045007,"body_markdown":"That&#39;s not really how it should - instead, use an observer pattern so you can notified by what ever the user selects - or use modal `JDialog`","body":"That&#39;s not really how it should - instead, use an observer pattern so you can notified by what ever the user selects - or use modal <code>JDialog</code>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1688222574,"post_id":76594079,"comment_id":135046684,"body_markdown":"Or maybe a `JOptionPane`? See: [How to Make Dialogs](https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html) for more information.","body":"Or maybe a <code>JOptionPane</code>? See: <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html\" rel=\"nofollow noreferrer\">How to Make Dialogs</a> for more information."}],"owner":{"account_id":28923964,"reputation":1,"user_id":22154254,"display_name":"DaniloS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688204605,"creation_date":1688204605,"question_id":76594079,"body_markdown":"I created my own class to represent a menu that extends jFrame, I pass an enum to this class and based on the button that pushes the user in the related actionPerformed() methods I&#39;m going to set the value of this enum;\r\nthe problem is that being a thread it runs parallel to main, instead I would like to wait for the menu to finish to read the value of this enum variable and then decide what to do based on its value.\r\nSomeone can help me?\r\n\r\n\r\n\r\n\r\n\r\n```\r\npublic static void main(String args[]) {\r\n        OptionEnum option = null;\r\n        System.out.println(option+&quot; in main&quot;);\r\n        \r\n        java.awt.EventQueue.invokeLater(new Runnable() {\r\n            public void run() {\r\n                try {\r\n                    new Menu(&quot;.//resources//img//sfondoMenuTheLastofUS.jpg&quot;, opzione).setVisible(true);\r\n                } catch (ImgException ex) {\r\n                    Logger.getLogger(Menu.class.getName()).log(Level.SEVERE, null, ex);\r\n                }\r\n            }\r\n        });\r\n        /*try {\r\n            new Menu(&quot;.//resources//img//sfondoMenuTheLastofUS.jpg&quot;, opzione).setVisible(true);\r\n        } catch (ImgException ex) {\r\n            Logger.getLogger(Menu.class.getName()).log(Level.SEVERE, null, ex);\r\n        }*/\r\n        \r\n        System.out.println(option+&quot; in main2&quot;);       \r\n    }\r\n```\r\n","title":"How do I synchronize a frame in the event dispatcher in java?","body":"<p>I created my own class to represent a menu that extends jFrame, I pass an enum to this class and based on the button that pushes the user in the related actionPerformed() methods I'm going to set the value of this enum;\nthe problem is that being a thread it runs parallel to main, instead I would like to wait for the menu to finish to read the value of this enum variable and then decide what to do based on its value.\nSomeone can help me?</p>\n<pre><code>public static void main(String args[]) {\n        OptionEnum option = null;\n        System.out.println(option+&quot; in main&quot;);\n        \n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    new Menu(&quot;.//resources//img//sfondoMenuTheLastofUS.jpg&quot;, opzione).setVisible(true);\n                } catch (ImgException ex) {\n                    Logger.getLogger(Menu.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        });\n        /*try {\n            new Menu(&quot;.//resources//img//sfondoMenuTheLastofUS.jpg&quot;, opzione).setVisible(true);\n        } catch (ImgException ex) {\n            Logger.getLogger(Menu.class.getName()).log(Level.SEVERE, null, ex);\n        }*/\n        \n        System.out.println(option+&quot; in main2&quot;);       \n    }\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":8544053,"reputation":997,"user_id":6418029,"display_name":"Ashutosh"},"score":0,"creation_date":1688194739,"post_id":76593357,"comment_id":135044103,"body_markdown":"Does this answer your question? [NonUniqueDiscoveredSqlAliasException: Encountered a duplicated sql alias \\[ASC\\_ID\\] during auto-discovery of a native-sql query](https://stackoverflow.com/questions/21348177/nonuniquediscoveredsqlaliasexception-encountered-a-duplicated-sql-alias-asc-id)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/21348177/nonuniquediscoveredsqlaliasexception-encountered-a-duplicated-sql-alias-asc-id\">NonUniqueDiscoveredSqlAliasException: Encountered a duplicated sql alias &#91;ASC_ID&#93; during auto-discovery of a native-sql query</a>"},{"owner":{"account_id":27874325,"reputation":11,"user_id":21284127,"display_name":"it_tony"},"score":0,"creation_date":1688243183,"post_id":76593357,"comment_id":135048775,"body_markdown":"Unfortunately, this did not answer my question. Because one of the columns that match is the primary key of one table, I cannot set an alias for that column. If I use an &quot;AS&quot; clause in my SQL statement, an error is returned that the &quot;id&quot; column cannot be found. If I change the name of the &quot;id&quot; column within my model, MySQL will automatically create an &quot;id&quot; column for the table when the program is ran, and even if I change the name in MySQL workbench.","body":"Unfortunately, this did not answer my question. Because one of the columns that match is the primary key of one table, I cannot set an alias for that column. If I use an &quot;AS&quot; clause in my SQL statement, an error is returned that the &quot;id&quot; column cannot be found. If I change the name of the &quot;id&quot; column within my model, MySQL will automatically create an &quot;id&quot; column for the table when the program is ran, and even if I change the name in MySQL workbench."}],"owner":{"account_id":27874325,"reputation":11,"user_id":21284127,"display_name":"it_tony"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688204461,"creation_date":1688188348,"question_id":76593357,"body_markdown":"I am working with Spring Boot, Java, Hibernate, and MySQL to create a messaging application. My SQL statement works perfectly within MySQL Workbench, but it does not work within my application. When making a SQL call, I am receiving the error: [White Label Error Page](https://i.stack.imgur.com/wK9aY.jpg)\r\n\r\nHere are the two classes and their relationships within MySQL workbench (Constructors, Getters, &amp; Setters are removed for brevity):\r\n      \r\n```\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class User {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @NotEmpty(message = &quot;Username is required.&quot;)\r\n    @Size(min = 3, max = 25, message = &quot;Username must be between 8 and 25 characters long.&quot;)\r\n    private String userName;\r\n\r\n    @NotEmpty(message = &quot;Email is required.&quot;)\r\n    @Email(message = &quot;Please enter a valid email.&quot;)\r\n    private String email;\r\n\r\n    @NotEmpty(message = &quot;Password is required.&quot;)\r\n    @Size(min = 8, max = 128, message = &quot;Password must be between 8 and 128 characters.&quot;)\r\n    private String password;\r\n\r\n    @NotEmpty(message = &quot;Confirm password is required.&quot;)\r\n    @Size(min = 8, max = 128, message = &quot;Password must be between 8 and 128 characters.&quot;)\r\n    private String confirmPassword;\r\n\r\n    @Size(min = 0, max = 225, message = &quot;Bio must less than 255 characters.&quot;)\r\n    private String bio = &quot;&quot;;\r\n\r\n    @Lob\r\n    private Blob avi;\r\n\r\n    @Lob\r\n    private Blob header;\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.LAZY)\r\n    private List &lt; PublicMessage &gt; publicMessages;\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.LAZY)\r\n    private List &lt; PrivateMessage &gt; privateMessages;\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.LAZY)\r\n    private List &lt; Friend &gt; friends;\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.LAZY)\r\n    private List &lt; Reply &gt; replies;\r\n\r\n    @Column(updatable = false)\r\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n    private Date createdAt;\r\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n    private Date updatedAt;\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;privateMessages&quot;)\r\npublic class PrivateMessage {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Size(min = 1, max = 255, message = &quot;Body must be between 1 and 255 characters.&quot;)\r\n    private String body;\r\n\r\n    private Long recipientId;\r\n    private String recipientUserName;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinTable(name = &quot;user_privateMessages&quot;)\r\n    private User user;\r\n\r\n    @Column(updatable = false)\r\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n    private Date createdAt;\r\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n    private Date updatedAt;\r\n\r\n}\r\n```\r\n\r\nSQL statement from the PrivateMessageRepository:\r\n```\r\n@Query(value = &quot;SELECT * FROM MessagingApp.private_messages  LEFT JOIN MessagingApp.user_private_messages ON MessagingApp.private_messages.id = MessagingApp.user_private_messages.id WHERE user_id = ?1 AND recipient_id = ?2 ORDER BY MessagingApp.private_messages.created_at DESC;&quot;, nativeQuery = true)\r\npublic List&lt;PrivateMessage&gt; retrieveAllBetweenTwoUsers(Long senderId, Long receiverId);\r\n```\r\n\r\n[MySQL Workbench ERR Diagram](https://i.stack.imgur.com/hkbKy.jpg)\r\n\r\nI am familiar that with Hibernate, duplicate column names will result in this error, and that the workaround is to use an alias &amp; &quot;AS&quot; clause within the SQL statement. I have tried that workaround with the private_messages.id &amp; the user_private_messages.id, individually and together, to no avail. \r\n\r\nI am stumped because the only 2 columns that are named &quot;id&quot; are the PrivateMessages.id (primary key) and the &quot;id&quot; column within the joining table (user_private_messages), which links the user to their private messages. Any and all assistance is greatly appreciated!","title":"Java, Spring Boot, Hibernate, MySQL error: Encountered a duplicate sql alias [id] during auto-discovery of native-sql query","body":"<p>I am working with Spring Boot, Java, Hibernate, and MySQL to create a messaging application. My SQL statement works perfectly within MySQL Workbench, but it does not work within my application. When making a SQL call, I am receiving the error: <a href=\"https://i.stack.imgur.com/wK9aY.jpg\" rel=\"nofollow noreferrer\">White Label Error Page</a></p>\n<p>Here are the two classes and their relationships within MySQL workbench (Constructors, Getters, &amp; Setters are removed for brevity):</p>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @NotEmpty(message = &quot;Username is required.&quot;)\n    @Size(min = 3, max = 25, message = &quot;Username must be between 8 and 25 characters long.&quot;)\n    private String userName;\n\n    @NotEmpty(message = &quot;Email is required.&quot;)\n    @Email(message = &quot;Please enter a valid email.&quot;)\n    private String email;\n\n    @NotEmpty(message = &quot;Password is required.&quot;)\n    @Size(min = 8, max = 128, message = &quot;Password must be between 8 and 128 characters.&quot;)\n    private String password;\n\n    @NotEmpty(message = &quot;Confirm password is required.&quot;)\n    @Size(min = 8, max = 128, message = &quot;Password must be between 8 and 128 characters.&quot;)\n    private String confirmPassword;\n\n    @Size(min = 0, max = 225, message = &quot;Bio must less than 255 characters.&quot;)\n    private String bio = &quot;&quot;;\n\n    @Lob\n    private Blob avi;\n\n    @Lob\n    private Blob header;\n\n    @OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.LAZY)\n    private List &lt; PublicMessage &gt; publicMessages;\n\n    @OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.LAZY)\n    private List &lt; PrivateMessage &gt; privateMessages;\n\n    @OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.LAZY)\n    private List &lt; Friend &gt; friends;\n\n    @OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.LAZY)\n    private List &lt; Reply &gt; replies;\n\n    @Column(updatable = false)\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\n    private Date createdAt;\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\n    private Date updatedAt;\n}\n\n@Entity\n@Table(name = &quot;privateMessages&quot;)\npublic class PrivateMessage {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Size(min = 1, max = 255, message = &quot;Body must be between 1 and 255 characters.&quot;)\n    private String body;\n\n    private Long recipientId;\n    private String recipientUserName;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinTable(name = &quot;user_privateMessages&quot;)\n    private User user;\n\n    @Column(updatable = false)\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\n    private Date createdAt;\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\n    private Date updatedAt;\n\n}\n</code></pre>\n<p>SQL statement from the PrivateMessageRepository:</p>\n<pre><code>@Query(value = &quot;SELECT * FROM MessagingApp.private_messages  LEFT JOIN MessagingApp.user_private_messages ON MessagingApp.private_messages.id = MessagingApp.user_private_messages.id WHERE user_id = ?1 AND recipient_id = ?2 ORDER BY MessagingApp.private_messages.created_at DESC;&quot;, nativeQuery = true)\npublic List&lt;PrivateMessage&gt; retrieveAllBetweenTwoUsers(Long senderId, Long receiverId);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/hkbKy.jpg\" rel=\"nofollow noreferrer\">MySQL Workbench ERR Diagram</a></p>\n<p>I am familiar that with Hibernate, duplicate column names will result in this error, and that the workaround is to use an alias &amp; &quot;AS&quot; clause within the SQL statement. I have tried that workaround with the private_messages.id &amp; the user_private_messages.id, individually and together, to no avail.</p>\n<p>I am stumped because the only 2 columns that are named &quot;id&quot; are the PrivateMessages.id (primary key) and the &quot;id&quot; column within the joining table (user_private_messages), which links the user to their private messages. Any and all assistance is greatly appreciated!</p>\n"},{"tags":["java","swing","jtable"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1688202975,"post_id":76593976,"comment_id":135044753,"body_markdown":"All the `setBounds` and `setLayout(null)` is working against you - start by taking the time to learn and understand the layout system in Swing - [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html)","body":"All the <code>setBounds</code> and <code>setLayout(null)</code> is working against you - start by taking the time to learn and understand the layout system in Swing - <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a>"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688204018,"creation_date":1688204018,"answer_id":76594051,"question_id":76593976,"body_markdown":"All the `setBounds` and `setLayout(null)` is working against you - start by taking the time to learn and understand the layout system in Swing - [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html)\r\n\r\n# Why?\r\n\r\nBecause this is what your code produces on my system...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n# The &quot;compounding&quot; cause...\r\n\r\nUsing `null` layouts is the primary reasons for your issues, but...\r\n\r\n    JPanel panel = new JPanel();\r\n    SGDtb = new JTable();\r\n    SGDtb.setBounds(195, 15, 270, 260);\r\n    JScrollPane SGDjs = new JScrollPane(SGDtb);\r\n    SGDjs.setVisible(true);\r\n    SGDtb.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);\r\n    panel.add(SGDjs);\r\n\r\n`panel` is using a `FlowLayout` by default, so my guess is it&#39;s attempting to honour the `preferredSize` of the `SGDjs` scroll pane, but you&#39;ve ignored that and simply done what ever you want.\r\n\r\nAnd while I&#39;m on the subject, you should take the time to learn and use the established [coding conventions](https://www.oracle.com/technetwork/java/codeconventions-150003.pdf) it will make it easier for other people to read your code ... and for you to read theirs.\r\n\r\n# A possible solution...\r\n\r\n[![enter image description here][2]][2]\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Insets;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTable;\r\n    import javax.swing.border.EmptyBorder;\r\n    import javax.swing.table.DefaultTableModel;\r\n    import javax.swing.table.TableModel;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() {\r\n                setBorder(new EmptyBorder(32, 32, 32, 32));\r\n                setLayout(new BorderLayout());\r\n                JPanel actionPane = new JPanel(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.weightx = 1;\r\n                gbc.fill = GridBagConstraints.HORIZONTAL;\r\n                gbc.ipady = 16;\r\n                gbc.ipadx = 16;\r\n                gbc.insets = new Insets(4, 4, 4, 4);\r\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n                actionPane.add(new JButton(&quot;Home&quot;), gbc);\r\n                actionPane.add(new JButton(&quot;Insert&quot;), gbc);\r\n\r\n                // This could actually be managed seperatly, maybe in the `SOUTH`\r\n                // position of the `BorderLayout`\r\n                gbc.ipady = 0;\r\n                gbc.ipadx = 0;\r\n                gbc.weighty = 1;\r\n                gbc.anchor = gbc.PAGE_END;\r\n                actionPane.add(new JLabel(&quot;Bal: 0&quot;), gbc);\r\n\r\n                add(actionPane, BorderLayout.LINE_START);\r\n\r\n                add(new JScrollPane(new JTable(createTableModel())));\r\n            }\r\n\r\n            public TableModel createTableModel() {\r\n                DefaultTableModel model = new DefaultTableModel();\r\n                Object[] columnsName = new Object[4];\r\n                columnsName[0] = &quot;TransactionID&quot;;\r\n                columnsName[1] = &quot;AccountID&quot;;\r\n                columnsName[2] = &quot;Amount&quot;;\r\n                columnsName[3] = &quot;Description&quot;;\r\n                model.setColumnIdentifiers(columnsName);\r\n                for (int y = 0; y &lt; 100; y++) {\r\n                    Object[] Data = new Object[4];\r\n                    for (int x = 0; x &lt; 4; x++) {\r\n                        Data[x] = x + &quot;x&quot; + y;\r\n                    }\r\n                    model.addRow(Data);\r\n                }\r\n                return model;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nvojZ.png\r\n  [2]: https://i.stack.imgur.com/pya8n.png","title":"How to add a working scroll side bar to a JTable in Java","body":"<p>All the <code>setBounds</code> and <code>setLayout(null)</code> is working against you - start by taking the time to learn and understand the layout system in Swing - <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a></p>\n<h1>Why?</h1>\n<p>Because this is what your code produces on my system...</p>\n<p><a href=\"https://i.stack.imgur.com/nvojZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nvojZ.png\" alt=\"enter image description here\" /></a></p>\n<h1>The &quot;compounding&quot; cause...</h1>\n<p>Using <code>null</code> layouts is the primary reasons for your issues, but...</p>\n<pre><code>JPanel panel = new JPanel();\nSGDtb = new JTable();\nSGDtb.setBounds(195, 15, 270, 260);\nJScrollPane SGDjs = new JScrollPane(SGDtb);\nSGDjs.setVisible(true);\nSGDtb.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);\npanel.add(SGDjs);\n</code></pre>\n<p><code>panel</code> is using a <code>FlowLayout</code> by default, so my guess is it's attempting to honour the <code>preferredSize</code> of the <code>SGDjs</code> scroll pane, but you've ignored that and simply done what ever you want.</p>\n<p>And while I'm on the subject, you should take the time to learn and use the established <a href=\"https://www.oracle.com/technetwork/java/codeconventions-150003.pdf\" rel=\"nofollow noreferrer\">coding conventions</a> it will make it easier for other people to read your code ... and for you to read theirs.</p>\n<h1>A possible solution...</h1>\n<p><a href=\"https://i.stack.imgur.com/pya8n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pya8n.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.border.EmptyBorder;\nimport javax.swing.table.DefaultTableModel;\nimport javax.swing.table.TableModel;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            setBorder(new EmptyBorder(32, 32, 32, 32));\n            setLayout(new BorderLayout());\n            JPanel actionPane = new JPanel(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.weightx = 1;\n            gbc.fill = GridBagConstraints.HORIZONTAL;\n            gbc.ipady = 16;\n            gbc.ipadx = 16;\n            gbc.insets = new Insets(4, 4, 4, 4);\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n            actionPane.add(new JButton(&quot;Home&quot;), gbc);\n            actionPane.add(new JButton(&quot;Insert&quot;), gbc);\n\n            // This could actually be managed seperatly, maybe in the `SOUTH`\n            // position of the `BorderLayout`\n            gbc.ipady = 0;\n            gbc.ipadx = 0;\n            gbc.weighty = 1;\n            gbc.anchor = gbc.PAGE_END;\n            actionPane.add(new JLabel(&quot;Bal: 0&quot;), gbc);\n\n            add(actionPane, BorderLayout.LINE_START);\n\n            add(new JScrollPane(new JTable(createTableModel())));\n        }\n\n        public TableModel createTableModel() {\n            DefaultTableModel model = new DefaultTableModel();\n            Object[] columnsName = new Object[4];\n            columnsName[0] = &quot;TransactionID&quot;;\n            columnsName[1] = &quot;AccountID&quot;;\n            columnsName[2] = &quot;Amount&quot;;\n            columnsName[3] = &quot;Description&quot;;\n            model.setColumnIdentifiers(columnsName);\n            for (int y = 0; y &lt; 100; y++) {\n                Object[] Data = new Object[4];\n                for (int x = 0; x &lt; 4; x++) {\n                    Data[x] = x + &quot;x&quot; + y;\n                }\n                model.addRow(Data);\n            }\n            return model;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28929579,"reputation":1,"user_id":22158624,"display_name":"Artem Ershov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688204018,"creation_date":1688202751,"question_id":76593976,"body_markdown":"I am currently working on a program which includes having a JTable which contains several sections of data. However just like most times i assume having no scroll bar on the side means that I am missing a lof of the data which I am trying to show. I have attemped to create a scroll bar in several different ways, including full reworks of my JTable set up, however that just ended up breaking my program in other ways. \r\n\r\nBelow I have attached a copy of the code which is resposnible for the filling of the JTable with data and for the creating of the frame and the jtable it self. \r\n\r\n\r\n``` //Creates the frame \r\n\tpublic void create_frame3() {\r\n\t\tframe3 = new JFrame(&quot;SGD&quot;);\r\n\t\tframe3.setSize(250,250);\r\n\t\tframe3.setBounds(100, 100, 450, 300);\r\n\t\tframe3.getContentPane().setLayout(null);\r\n\t\tframe3.setBackground(Color.white);\r\n\t\tframe3.getRootPane().setWindowDecorationStyle(JRootPane.PLAIN_DIALOG);\r\n\t\thome2 = new JButton(&quot;Home2&quot;);\r\n\t\thome2.setBounds(20,20,100,50);\r\n\t\tinst = new JButton(&quot;insert&quot;);\r\n\t\tinst.setBounds(60,60,100,50);\r\n\t\tframe3.getContentPane().add(home2);\r\n\t\tframe3.getContentPane().add(inst);\r\n\t\tfinance_app obj=new finance_app();\t\t\r\n\t\thome2.addActionListener(obj);\r\n\t\tinst.addActionListener(obj);\r\n\t\tbalSGD = new JLabel(&quot;Bal:&quot;+calculateBal(arrlistW, arrlistD));\r\n\t\tbalSGD.setBounds(50,100,100,50);\r\n\t\tframe3.getContentPane().add(balSGD);\r\n    //the point at which the table is created \r\n\t\tJPanel panel = new JPanel();\r\n\t\tSGDtb = new JTable();\r\n\t\tSGDtb.setBounds(195, 15, 270, 260);\r\n\t\tJScrollPane SGDjs = new JScrollPane(SGDtb);\r\n\t\tSGDjs.setVisible(true);\r\n\t\tSGDtb.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);\r\n\t\tpanel.add(SGDjs);\r\n\t\tframe3.add(panel);\r\n\t\tframe3.getRootPane().setWindowDecorationStyle(JRootPane.PLAIN_DIALOG);\r\n\t\tframe3.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tSGDtb.setPreferredScrollableViewportSize(new Dimension(420,63));\r\n\t\tSGDtb.setFillsViewportHeight(true);\r\n\t\tframe3.getContentPane().add(SGDtb);\r\n    //method used for adding data \r\n\t\taddRowtoSGDJTable();\r\n\t\tframe3.setVisible(true);\r\n\t}\r\n```\r\n\r\n\r\n```\r\n    //Specific method used to add the rows to the table\r\n\tpublic void addRowtoSGDJTable() {\r\n\t\tDefaultTableModel model = (DefaultTableModel) SGDtb.getModel();\r\n\t\tObject[]columnsName = new Object[4];\r\n\t\tcolumnsName[0] = &quot;TransactionID&quot;;\r\n\t\tcolumnsName[1] = &quot;AccountID&quot;;\r\n\t\tcolumnsName[2] = &quot;Amount&quot;;\r\n\t\tcolumnsName[3] = &quot;Description&quot;;\r\n\t\tmodel.setColumnIdentifiers(columnsName);\r\n\t\tObject[] Data = new Object[4];\r\n\t\tfor(int x=0;x&lt;transaction.size();x++) {\r\n\t\t\tData[0] = transaction.get(x).getTransactionID();\r\n\t\t\tData[1] = transaction.get(x).getAccountID();\r\n\t\t\tData[2] = transaction.get(x).getTransactions();\r\n\t\t\tData[3] = transaction.get(x).getDescription();\r\n\t\t\tmodel.addRow(Data);\r\n\t\t}\r\n```\r\n\r\n\r\n\r\nI have attempted to use the JScrollPane and the JTable.AUTO_RESIZE_OFF however that method of adding the table did not work.","title":"How to add a working scroll side bar to a JTable in Java","body":"<p>I am currently working on a program which includes having a JTable which contains several sections of data. However just like most times i assume having no scroll bar on the side means that I am missing a lof of the data which I am trying to show. I have attemped to create a scroll bar in several different ways, including full reworks of my JTable set up, however that just ended up breaking my program in other ways.</p>\n<p>Below I have attached a copy of the code which is resposnible for the filling of the JTable with data and for the creating of the frame and the jtable it self.</p>\n<pre><code>    public void create_frame3() {\n        frame3 = new JFrame(&quot;SGD&quot;);\n        frame3.setSize(250,250);\n        frame3.setBounds(100, 100, 450, 300);\n        frame3.getContentPane().setLayout(null);\n        frame3.setBackground(Color.white);\n        frame3.getRootPane().setWindowDecorationStyle(JRootPane.PLAIN_DIALOG);\n        home2 = new JButton(&quot;Home2&quot;);\n        home2.setBounds(20,20,100,50);\n        inst = new JButton(&quot;insert&quot;);\n        inst.setBounds(60,60,100,50);\n        frame3.getContentPane().add(home2);\n        frame3.getContentPane().add(inst);\n        finance_app obj=new finance_app();      \n        home2.addActionListener(obj);\n        inst.addActionListener(obj);\n        balSGD = new JLabel(&quot;Bal:&quot;+calculateBal(arrlistW, arrlistD));\n        balSGD.setBounds(50,100,100,50);\n        frame3.getContentPane().add(balSGD);\n    //the point at which the table is created \n        JPanel panel = new JPanel();\n        SGDtb = new JTable();\n        SGDtb.setBounds(195, 15, 270, 260);\n        JScrollPane SGDjs = new JScrollPane(SGDtb);\n        SGDjs.setVisible(true);\n        SGDtb.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);\n        panel.add(SGDjs);\n        frame3.add(panel);\n        frame3.getRootPane().setWindowDecorationStyle(JRootPane.PLAIN_DIALOG);\n        frame3.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        SGDtb.setPreferredScrollableViewportSize(new Dimension(420,63));\n        SGDtb.setFillsViewportHeight(true);\n        frame3.getContentPane().add(SGDtb);\n    //method used for adding data \n        addRowtoSGDJTable();\n        frame3.setVisible(true);\n    }\n</code></pre>\n<pre><code>    //Specific method used to add the rows to the table\n    public void addRowtoSGDJTable() {\n        DefaultTableModel model = (DefaultTableModel) SGDtb.getModel();\n        Object[]columnsName = new Object[4];\n        columnsName[0] = &quot;TransactionID&quot;;\n        columnsName[1] = &quot;AccountID&quot;;\n        columnsName[2] = &quot;Amount&quot;;\n        columnsName[3] = &quot;Description&quot;;\n        model.setColumnIdentifiers(columnsName);\n        Object[] Data = new Object[4];\n        for(int x=0;x&lt;transaction.size();x++) {\n            Data[0] = transaction.get(x).getTransactionID();\n            Data[1] = transaction.get(x).getAccountID();\n            Data[2] = transaction.get(x).getTransactions();\n            Data[3] = transaction.get(x).getDescription();\n            model.addRow(Data);\n        }\n</code></pre>\n<p>I have attempted to use the JScrollPane and the JTable.AUTO_RESIZE_OFF however that method of adding the table did not work.</p>\n"},{"tags":["java","class","nullpointerexception","inputmismatchexception"],"answers":[{"tags":[],"owner":{"account_id":19642142,"reputation":23,"user_id":14377954,"display_name":"Vishal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688203950,"creation_date":1688203950,"answer_id":76594049,"question_id":76589086,"body_markdown":"The problem is in the main method when I am trying to store the values. That was not appropriate. The correct way is-\r\n\r\n```\r\npublic static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        System.out.print(&quot;Enter the number of banks: &quot;);\r\n        int numBanks = scanner.nextInt();\r\n        scanner.nextLine(); // Consume the newline character\r\n\r\n        Bank[] banks = new Bank[numBanks];\r\n\r\n        for (int i = 0; i &lt; numBanks; i++) \r\n            int bankId = scanner.nextInt();\r\n            scanner.nextLine(); // Consume the newline character\r\n\r\n            String bankName = scanner.nextLine();\r\n\r\n            int customers = scanner.nextInt();\r\n            scanner.nextLine(); // Consume the newline character\r\n\r\n            String bankCity = scanner.nextLine();\r\n\r\n            banks[i] = new Bank(bankId, bankName, customers, bankCity);\r\n        }\r\n\r\n        String cityToFind = scanner.nextLine();\r\n}\r\n```\r\n\r\nThis is the correct way to do so.","title":"How to store values in custom object array using Scanner in Java?","body":"<p>The problem is in the main method when I am trying to store the values. That was not appropriate. The correct way is-</p>\n<pre><code>public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        System.out.print(&quot;Enter the number of banks: &quot;);\n        int numBanks = scanner.nextInt();\n        scanner.nextLine(); // Consume the newline character\n\n        Bank[] banks = new Bank[numBanks];\n\n        for (int i = 0; i &lt; numBanks; i++) \n            int bankId = scanner.nextInt();\n            scanner.nextLine(); // Consume the newline character\n\n            String bankName = scanner.nextLine();\n\n            int customers = scanner.nextInt();\n            scanner.nextLine(); // Consume the newline character\n\n            String bankCity = scanner.nextLine();\n\n            banks[i] = new Bank(bankId, bankName, customers, bankCity);\n        }\n\n        String cityToFind = scanner.nextLine();\n}\n</code></pre>\n<p>This is the correct way to do so.</p>\n"}],"owner":{"account_id":19642142,"reputation":23,"user_id":14377954,"display_name":"Vishal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688203950,"creation_date":1688129384,"question_id":76589086,"body_markdown":"I was given an exam, where I had to create a class and after that, I had to write two functions in which the input parameter is an object Array and took the values from user input. Below is the code that I have written. But, I repetitively got **NullPointerException** and **InputMismatchException** in line number 17 &amp; 18. Please help me.\r\n\r\n```\r\nimport java.util.Scanner;\r\npublic class Solution\r\n{\r\npublic static void main(String[] args)\r\n{\r\n//code to read values\r\n//code to call required method\r\n//code to display the result\r\n\r\n    Scanner sc = new Scanner(System.in);\r\n    int tasks = sc.nextInt();\r\n    \r\n    Bank[] banks = new Bank[tasks];\r\n    \r\n    for(int i = 0; i &lt; tasks; i++){\r\n        int bankId = sc.nextInt();      \r\n        String bankName = sc.next();\r\n        int numberOfCustomers = sc.nextInt();\r\n        // banks[i].setNumberOfCustomers(numberOfCustomers);\r\n        String city = sc.nextLine();\r\n        // banks[i].setCity(city);\r\n        \r\n        banks[i] = new Bank(bankId, bankName, numberOfCustomers, city);\r\n    }\r\n    \r\n    \r\n    String city = sc.next();\r\n    \r\n    if(findAvgNumberOfCustomersByCity(banks, city) != 0){\r\n        System.out.println(findAvgNumberOfCustomersByCity(banks, city));\r\n    }\r\n    else{\r\n        System.out.println(&quot;No Bank found with matching criteria.&quot;);\r\n    }\r\n\r\n    String ans = getBankWithMinimumNoOfCustomers(banks);\r\n    if(ans.equals(null)){\r\n        System.out.println(&quot;No Bank found with matching criteria.&quot;);\r\n    }\r\n    else{\r\n        for(Bank b : banks){\r\n            if(b.getBankName().equals(ans)){\r\n                System.out.println(b.getBankId());\r\n                System.out.println(b.getBankName());\r\n                System.out.println(b.getNumberOfCustomers());\r\n                System.out.println(b.getCity());\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n//code the first method\r\npublic static double findAvgNumberOfCustomersByCity(Bank[] banks, String city){\r\n    \r\n    double ans = 0;\r\n    double total = 0, totalBanks = 0;\r\n    \r\n    for(Bank b : banks){\r\n        if(b.getCity().equals(city)){\r\n            total += b.getNumberOfCustomers();\r\n            totalBanks++;\r\n        }\r\n    }\r\n    \r\n    return (total/totalBanks);\r\n}\r\n\r\n//code the second method\r\npublic static String getBankWithMinimumNoOfCustomers(Bank[] banks){\r\n    int minNumber = Integer.MAX_VALUE;\r\n    String bankName = &quot;&quot;;\r\n    for(Bank b : banks){\r\n        if(b.getNumberOfCustomers() &lt; minNumber){\r\n            minNumber = b.getNumberOfCustomers();\r\n            bankName = b.getBankName();\r\n        }\r\n    }\r\n    \r\n    if(minNumber == Integer.MAX_VALUE){\r\n        return null;\r\n    }\r\n    else{\r\n        return bankName;\r\n    }\r\n}\r\n}\r\n\r\n//code the class\r\nclass Bank{\r\n    private int bankId;\r\n    private String bankName;\r\n    private int numberOfCustomers;\r\n    private String city;\r\n    \r\n    public Bank(int bankId, String bankName, int numberOfCustomers, String city){\r\n        this.bankId = bankId;\r\n        this.bankName = bankName;\r\n        this.numberOfCustomers = numberOfCustomers;\r\n        this.city = city;\r\n    }\r\n    public int getBankId(){\r\n        return this.bankId;\r\n    }\r\n    public void setBankId(int bankId){\r\n        this.bankId = bankId;\r\n    }\r\n    \r\n    public String getBankName(){\r\n        return this.bankName;\r\n    }\r\n    public void setBankName(String bankName){\r\n        this.bankName = bankName;\r\n    }\r\n    \r\n    public int getNumberOfCustomers(){\r\n        return this.numberOfCustomers;\r\n    }\r\n    public void setNumberOfCustomers(int numberOfCustomers){\r\n        this.numberOfCustomers = numberOfCustomers;\r\n    }\r\n    \r\n    public String getCity(){\r\n        return this.city;\r\n    }\r\n    public void setCity(String city){\r\n        this.city = city;\r\n    }\r\n}\r\n```\r\n\r\nAnyone please help me in finding the error in my code, I was flummoxed and have tried a lot to get the answer, but unable to get so.","title":"How to store values in custom object array using Scanner in Java?","body":"<p>I was given an exam, where I had to create a class and after that, I had to write two functions in which the input parameter is an object Array and took the values from user input. Below is the code that I have written. But, I repetitively got <strong>NullPointerException</strong> and <strong>InputMismatchException</strong> in line number 17 &amp; 18. Please help me.</p>\n<pre><code>import java.util.Scanner;\npublic class Solution\n{\npublic static void main(String[] args)\n{\n//code to read values\n//code to call required method\n//code to display the result\n\n    Scanner sc = new Scanner(System.in);\n    int tasks = sc.nextInt();\n    \n    Bank[] banks = new Bank[tasks];\n    \n    for(int i = 0; i &lt; tasks; i++){\n        int bankId = sc.nextInt();      \n        String bankName = sc.next();\n        int numberOfCustomers = sc.nextInt();\n        // banks[i].setNumberOfCustomers(numberOfCustomers);\n        String city = sc.nextLine();\n        // banks[i].setCity(city);\n        \n        banks[i] = new Bank(bankId, bankName, numberOfCustomers, city);\n    }\n    \n    \n    String city = sc.next();\n    \n    if(findAvgNumberOfCustomersByCity(banks, city) != 0){\n        System.out.println(findAvgNumberOfCustomersByCity(banks, city));\n    }\n    else{\n        System.out.println(&quot;No Bank found with matching criteria.&quot;);\n    }\n\n    String ans = getBankWithMinimumNoOfCustomers(banks);\n    if(ans.equals(null)){\n        System.out.println(&quot;No Bank found with matching criteria.&quot;);\n    }\n    else{\n        for(Bank b : banks){\n            if(b.getBankName().equals(ans)){\n                System.out.println(b.getBankId());\n                System.out.println(b.getBankName());\n                System.out.println(b.getNumberOfCustomers());\n                System.out.println(b.getCity());\n            }\n        }\n    }\n}\n\n//code the first method\npublic static double findAvgNumberOfCustomersByCity(Bank[] banks, String city){\n    \n    double ans = 0;\n    double total = 0, totalBanks = 0;\n    \n    for(Bank b : banks){\n        if(b.getCity().equals(city)){\n            total += b.getNumberOfCustomers();\n            totalBanks++;\n        }\n    }\n    \n    return (total/totalBanks);\n}\n\n//code the second method\npublic static String getBankWithMinimumNoOfCustomers(Bank[] banks){\n    int minNumber = Integer.MAX_VALUE;\n    String bankName = &quot;&quot;;\n    for(Bank b : banks){\n        if(b.getNumberOfCustomers() &lt; minNumber){\n            minNumber = b.getNumberOfCustomers();\n            bankName = b.getBankName();\n        }\n    }\n    \n    if(minNumber == Integer.MAX_VALUE){\n        return null;\n    }\n    else{\n        return bankName;\n    }\n}\n}\n\n//code the class\nclass Bank{\n    private int bankId;\n    private String bankName;\n    private int numberOfCustomers;\n    private String city;\n    \n    public Bank(int bankId, String bankName, int numberOfCustomers, String city){\n        this.bankId = bankId;\n        this.bankName = bankName;\n        this.numberOfCustomers = numberOfCustomers;\n        this.city = city;\n    }\n    public int getBankId(){\n        return this.bankId;\n    }\n    public void setBankId(int bankId){\n        this.bankId = bankId;\n    }\n    \n    public String getBankName(){\n        return this.bankName;\n    }\n    public void setBankName(String bankName){\n        this.bankName = bankName;\n    }\n    \n    public int getNumberOfCustomers(){\n        return this.numberOfCustomers;\n    }\n    public void setNumberOfCustomers(int numberOfCustomers){\n        this.numberOfCustomers = numberOfCustomers;\n    }\n    \n    public String getCity(){\n        return this.city;\n    }\n    public void setCity(String city){\n        this.city = city;\n    }\n}\n</code></pre>\n<p>Anyone please help me in finding the error in my code, I was flummoxed and have tried a lot to get the answer, but unable to get so.</p>\n"},{"tags":["java","jboss","ejb","wildfly","elytron"],"owner":{"account_id":12047855,"reputation":35,"user_id":8812144,"display_name":"ArtRac"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1688203636,"creation_date":1687786271,"question_id":76557187,"body_markdown":"I have an EJB client that connects to Wildfly 26. \r\nHow should I configure Wildfly so that the client can access bean A without a password and bean B and C require a password?\r\nHypothetical situation, I connect to the server without logging in, \r\nI get a list of e.g. languages or databases and then I have to log in to work on selected settings.","title":"How to configure Wildfly so that a client will has access to a one bean without a password and to the rest of beans will be required a password?","body":"<p>I have an EJB client that connects to Wildfly 26.\nHow should I configure Wildfly so that the client can access bean A without a password and bean B and C require a password?\nHypothetical situation, I connect to the server without logging in,\nI get a list of e.g. languages or databases and then I have to log in to work on selected settings.</p>\n"},{"tags":["java","spring","mockito","junit5"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1688133450,"post_id":76589555,"comment_id":135037206,"body_markdown":"So the mocked test code works but the production code doesn&#39;t? Then the problem must be in the production code.... which you haven&#39;t shown.","body":"So the mocked test code works but the production code doesn&#39;t? Then the problem must be in the production code.... which you haven&#39;t shown."},{"owner":{"account_id":2413196,"reputation":353,"user_id":2107839,"accept_rate":77,"display_name":"Khaled Ahmed Sobhy"},"score":0,"creation_date":1688134502,"post_id":76589555,"comment_id":135037402,"body_markdown":"The application is working fine on production. I mean when I run junit tests. the result of the mock is different in the test class and service class. it&#39;s just a sysout that shows the difference. The service layer always returns Optional.empty","body":"The application is working fine on production. I mean when I run junit tests. the result of the mock is different in the test class and service class. it&#39;s just a sysout that shows the difference. The service layer always returns Optional.empty"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1688134592,"post_id":76589555,"comment_id":135037419,"body_markdown":"Then the problem is probably in the Service class","body":"Then the problem is probably in the Service class"},{"owner":{"account_id":2413196,"reputation":353,"user_id":2107839,"accept_rate":77,"display_name":"Khaled Ahmed Sobhy"},"score":0,"creation_date":1688135037,"post_id":76589555,"comment_id":135037518,"body_markdown":"there isn&#39;t much in the service layer. just autowiring the merchantRepository and printing the line System.out.println(&quot;user: &quot;+merchantRepository.findByEmail(&quot;loggedInUser@email.com&quot;)); to see what is returning. It returns Optional.empty which is different from expected. I expect loggedInOptional as mocked","body":"there isn&#39;t much in the service layer. just autowiring the merchantRepository and printing the line System.out.println(&quot;user: &quot;+merchantRepository.findByEmail(&quot;loggedInUser@email.com&quot;)); to see what is returning. It returns Optional.empty which is different from expected. I expect loggedInOptional as mocked"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1688135446,"post_id":76589555,"comment_id":135037600,"body_markdown":"Are you mocking the Service too? It won&#39;t just magically use the mocked response from the repository.","body":"Are you mocking the Service too? It won&#39;t just magically use the mocked response from the repository."},{"owner":{"account_id":2413196,"reputation":353,"user_id":2107839,"accept_rate":77,"display_name":"Khaled Ahmed Sobhy"},"score":0,"creation_date":1688135652,"post_id":76589555,"comment_id":135037654,"body_markdown":"no. I am autowiring the service. It appears in the code. I want to mock the repository only (the database layer). I will perform the unit tests on the service layer","body":"no. I am autowiring the service. It appears in the code. I want to mock the repository only (the database layer). I will perform the unit tests on the service layer"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1688135765,"post_id":76589555,"comment_id":135037685,"body_markdown":"Right, so it must be in the Service. Place some breakpoints, attach a debugger and find out.","body":"Right, so it must be in the Service. Place some breakpoints, attach a debugger and find out."},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1688136641,"post_id":76589555,"comment_id":135037885,"body_markdown":"you should show us the actual service method the second sout doesn&#180;t make any sense in any context","body":"you should show us the actual service method the second sout doesn&#180;t make any sense in any context"},{"owner":{"account_id":12419314,"reputation":535,"user_id":11968199,"display_name":"Maksym Kosenko"},"score":0,"creation_date":1688138854,"post_id":76589555,"comment_id":135038342,"body_markdown":"The author does not understand what he is asking about, read general documentation about junit test first.","body":"The author does not understand what he is asking about, read general documentation about junit test first."},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1688144121,"post_id":76589555,"comment_id":135039394,"body_markdown":"what do you mean with this `However, it doesn&#39;t work correctly from the service layer (in merchantService for instance)`  ?  if you run normally and you dont have the merchant in the db it will return Optional.empty the reason it work in the Test is because you are mocking the return value and you are not even testing the service with the code you show us you are testing merchantRepository in the method loadContext() with a sout","body":"what do you mean with this <code>However, it doesn&#39;t work correctly from the service layer (in merchantService for instance)</code>  ?  if you run normally and you dont have the merchant in the db it will return Optional.empty the reason it work in the Test is because you are mocking the return value and you are not even testing the service with the code you show us you are testing merchantRepository in the method loadContext() with a sout"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1688159006,"post_id":76589555,"comment_id":135041715,"body_markdown":"How does `MerchantService` get hold of the `MerchantRepository`? Is the repository instance in the test the same instance as in the service? You can use a debugger to find out.","body":"How does <code>MerchantService</code> get hold of the <code>MerchantRepository</code>? Is the repository instance in the test the same instance as in the service? You can use a debugger to find out."},{"owner":{"account_id":2413196,"reputation":353,"user_id":2107839,"accept_rate":77,"display_name":"Khaled Ahmed Sobhy"},"score":0,"creation_date":1688194497,"post_id":76589555,"comment_id":135044084,"body_markdown":"I edited the question after more investigation. Actually, the merchantRepository mock is giving different result inside the test class. The results are different in the loadContext method and test method. So, it&#39;s not about the service layer. It is something in the unit test","body":"I edited the question after more investigation. Actually, the merchantRepository mock is giving different result inside the test class. The results are different in the loadContext method and test method. So, it&#39;s not about the service layer. It is something in the unit test"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688197036,"post_id":76589555,"comment_id":135044290,"body_markdown":"You have not answered the question that @knittl asked. Also, I would simplify things by not using `@TestInstance(Lifecycle.PER_CLASS)`.","body":"You have not answered the question that @knittl asked. Also, I would simplify things by not using <code>@TestInstance(Lifecycle.PER_CLASS)</code>."}],"answers":[{"tags":[],"owner":{"account_id":12419314,"reputation":535,"user_id":11968199,"display_name":"Maksym Kosenko"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1688134470,"creation_date":1688134470,"answer_id":76589702,"question_id":76589555,"body_markdown":"The answer is pretty obvious, in the real flow(not test one), namely merchantRepository is not able to find anything by email given. So you have to make sure if it is present within the final source(database/3rd party service). If it is present then provide with more details please, test class does not have anything common with the real application data.","title":"Mocking a repository that returns optional is always returning Optional.empty in the Unit Test","body":"<p>The answer is pretty obvious, in the real flow(not test one), namely merchantRepository is not able to find anything by email given. So you have to make sure if it is present within the final source(database/3rd party service). If it is present then provide with more details please, test class does not have anything common with the real application data.</p>\n"}],"owner":{"account_id":2413196,"reputation":353,"user_id":2107839,"accept_rate":77,"display_name":"Khaled Ahmed Sobhy"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1688203242,"creation_date":1688133277,"question_id":76589555,"body_markdown":"I am using java 17, spring 3.0.5 and junit 5 and mockito\r\nIt works correctly from the test class:\r\n```\r\n@SpringBootTest\r\n@TestInstance(Lifecycle.PER_CLASS)\r\nclass TaskApplicationTests {\r\n\r\n\t@MockBean\r\n\tprivate MerchantRepository merchantRepository;\r\n\t\r\n\t@MockBean\r\n\tprivate TransactionRepository transactionRepository;\r\n\t\r\n\t@Autowired\r\n\tprivate MerchantService merchantService;\r\n\t\r\n\t@Autowired\r\n\tprivate TransactionService transactionService;\r\n\t\r\n\t@BeforeAll\r\n\tpublic void loadContext() {\r\n\t\tMerchant loggedInUser = new Merchant();\r\n\t\tloggedInUser.setEmail(&quot;loggedInUser@email.com&quot;);\r\n\t\tOptional&lt;Merchant&gt; loggedInOptional = Optional.of(loggedInUser);\r\nwhen(merchantRepository.findByEmail(loggedInUser.getEmail())).thenReturn(loggedInOptional);\r\nSystem.out.println(&quot;user: &quot;+merchantRepository.findByEmail(loggedInUser.getEmail())); //user is returned correctly from loadContext method\r\n    }\r\n\r\n\r\n\t@Test\r\n\tvoid testMethod() {\r\n\t\tSystem.out.println(&quot;user: &quot;+merchantRepository.findByEmail(&quot;loggedInUser@email.com&quot;)); //outputs Optional.empty from test method\r\n\t}\r\n}\r\n```\r\n\r\nWhy is the @Test method having a different result?\r\n\r\nAny reason why that could happen?","title":"Mocking a repository that returns optional is always returning Optional.empty in the Unit Test","body":"<p>I am using java 17, spring 3.0.5 and junit 5 and mockito\nIt works correctly from the test class:</p>\n<pre><code>@SpringBootTest\n@TestInstance(Lifecycle.PER_CLASS)\nclass TaskApplicationTests {\n\n    @MockBean\n    private MerchantRepository merchantRepository;\n    \n    @MockBean\n    private TransactionRepository transactionRepository;\n    \n    @Autowired\n    private MerchantService merchantService;\n    \n    @Autowired\n    private TransactionService transactionService;\n    \n    @BeforeAll\n    public void loadContext() {\n        Merchant loggedInUser = new Merchant();\n        loggedInUser.setEmail(&quot;loggedInUser@email.com&quot;);\n        Optional&lt;Merchant&gt; loggedInOptional = Optional.of(loggedInUser);\nwhen(merchantRepository.findByEmail(loggedInUser.getEmail())).thenReturn(loggedInOptional);\nSystem.out.println(&quot;user: &quot;+merchantRepository.findByEmail(loggedInUser.getEmail())); //user is returned correctly from loadContext method\n    }\n\n\n    @Test\n    void testMethod() {\n        System.out.println(&quot;user: &quot;+merchantRepository.findByEmail(&quot;loggedInUser@email.com&quot;)); //outputs Optional.empty from test method\n    }\n}\n</code></pre>\n<p>Why is the @Test method having a different result?</p>\n<p>Any reason why that could happen?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1688127967,"post_id":76588895,"comment_id":135035941,"body_markdown":"&quot;I found a lot of answers how to do it if u work with xml, but i work with xml as text&quot;. No. You do it the way you found, using an XML parser.","body":"&quot;I found a lot of answers how to do it if u work with xml, but i work with xml as text&quot;. No. You do it the way you found, using an XML parser."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1688128231,"post_id":76588895,"comment_id":135035998,"body_markdown":"This looks to be an [XY Problem](https://xyproblem.info/). You should provide more clarity into what are you trying to achieve, what is the original problem you are trying to resolve. Why are you trying to do with the XML exactly?","body":"This looks to be an <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">XY Problem</a>. You should provide more clarity into what are you trying to achieve, what is the original problem you are trying to resolve. Why are you trying to do with the XML exactly?"},{"owner":{"account_id":24671638,"reputation":21,"user_id":18566586,"display_name":"Ruslan Fazylyanov"},"score":0,"creation_date":1688128415,"post_id":76588895,"comment_id":135036033,"body_markdown":"@aled i need to get operationId from this xml and use it next in my tests","body":"@aled i need to get operationId from this xml and use it next in my tests"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1688129056,"post_id":76588895,"comment_id":135036180,"body_markdown":"Then you need to parse the XML using a Java XML parser to extract the text value of the that element. You say you got different ideas. Please share them and what are the issues you are having with them. Your research should be part of the question. Please read [How to Ask](https://stackoverflow.com/help/how-to-ask).","body":"Then you need to parse the XML using a Java XML parser to extract the text value of the that element. You say you got different ideas. Please share them and what are the issues you are having with them. Your research should be part of the question. Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":12953224,"reputation":523,"user_id":9364868,"display_name":"Kedar"},"score":0,"creation_date":1688129498,"post_id":76588895,"comment_id":135036290,"body_markdown":"@RuslanFazylyanov Please check this thread it will help. https://stackoverflow.com/questions/4076910/how-to-retrieve-element-value-of-xml-using-java","body":"@RuslanFazylyanov Please check this thread it will help. <a href=\"https://stackoverflow.com/questions/4076910/how-to-retrieve-element-value-of-xml-using-java\" title=\"how to retrieve element value of xml using java\">stackoverflow.com/questions/4076910/&hellip;</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1688132008,"post_id":76588895,"comment_id":135036905,"body_markdown":"You wrote (in your question): _I need to get field value from this xml_ What field value do you need to get?","body":"You wrote (in your question): <i>I need to get field value from this xml</i> What field value do you need to get?"}],"answers":[{"tags":[],"owner":{"account_id":22604872,"reputation":2005,"user_id":16785907,"display_name":"Mikhail2048"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688134806,"creation_date":1688134806,"answer_id":76589756,"question_id":76588895,"body_markdown":"First, your XML is not correct and it won&#39;t be parsed by most libraries:\r\n\r\n```xml\r\n&lt;From&gt;\r\n  asfaoi232sdianscv \r\n&lt;/Fr&gt; &lt;!-- How do you expect this to work?  --&gt;\r\n```\r\n\r\n*Maybe* SAX parser will be able to handle it, but it&#39;s just due to the parsing mechanism and still it is not an excuse. I would suggest you to:\r\n\r\n1. Correct your XML to make it parsable\r\n2. And for parsing you can use Java DOM API. It is just easier and more readable than SAX. So use DOM if performance is not your concern. So your code would look like this. Here I just get the value of a specific element in the entire XML, if that is what you want:\r\n\r\n```java\r\ntry {\r\n    ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(&quot;... your stuff here ...&quot;.getBytes(StandardCharsets.UTF_8));\r\n    DocumentBuilderFactory documentBuilderFactory = DocumentBuilderFactory.newInstance();\r\n    Document parse = documentBuilderFactory.newDocumentBuilder().parse(byteArrayInputStream);\r\n    NodeList nodeList = parse.getElementsByTagName(&quot;Wllt&quot;);\r\n    Node item = nodeList.item(0);\r\n    System.out.println(item.getTextContent().trim());\r\n} catch (ParserConfigurationException | SAXException e) {\r\n    throw new RuntimeException(e);\r\n}\r\n``` \r\n\r\nYou can read more about Java DOM Api [in this article][1]. Have a nice day\r\n\r\n\r\n  [1]: https://zetcode.com/java/dom/","title":"how to get value from xml as text","body":"<p>First, your XML is not correct and it won't be parsed by most libraries:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;From&gt;\n  asfaoi232sdianscv \n&lt;/Fr&gt; &lt;!-- How do you expect this to work?  --&gt;\n</code></pre>\n<p><em>Maybe</em> SAX parser will be able to handle it, but it's just due to the parsing mechanism and still it is not an excuse. I would suggest you to:</p>\n<ol>\n<li>Correct your XML to make it parsable</li>\n<li>And for parsing you can use Java DOM API. It is just easier and more readable than SAX. So use DOM if performance is not your concern. So your code would look like this. Here I just get the value of a specific element in the entire XML, if that is what you want:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(&quot;... your stuff here ...&quot;.getBytes(StandardCharsets.UTF_8));\n    DocumentBuilderFactory documentBuilderFactory = DocumentBuilderFactory.newInstance();\n    Document parse = documentBuilderFactory.newDocumentBuilder().parse(byteArrayInputStream);\n    NodeList nodeList = parse.getElementsByTagName(&quot;Wllt&quot;);\n    Node item = nodeList.item(0);\n    System.out.println(item.getTextContent().trim());\n} catch (ParserConfigurationException | SAXException e) {\n    throw new RuntimeException(e);\n}\n</code></pre>\n<p>You can read more about Java DOM Api <a href=\"https://zetcode.com/java/dom/\" rel=\"nofollow noreferrer\">in this article</a>. Have a nice day</p>\n"}],"owner":{"account_id":24671638,"reputation":21,"user_id":18566586,"display_name":"Ruslan Fazylyanov"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76589756,"answer_count":1,"score":-1,"last_activity_date":1688202579,"creation_date":1688127887,"question_id":76588895,"body_markdown":"I new in Java. I get xml as text from Database. Next I need to get field value from this xml as text\r\nHow I can do it? I do not understand.\r\n\r\nMy xml example:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Document xmlns=&quot;urn:iso:std:iso:20022:tech:xsd:&quot;&gt;\r\n\t&lt;GetWlltInf&gt;\r\n\t\t&lt;MsgHdr&gt;\r\n\t\t\t&lt;MsgId&gt;123125412&lt;/MsgId&gt;\r\n\t\t\t&lt;CreDt&gt;2022-12-28T10:37:45.363Z&lt;/CreDt&gt;\r\n\t\t\t&lt;From&gt;\r\n\t\t\t\tasfaoi232sdianscv\r\n\t\t\t&lt;/Fr&gt;\r\n\t\t\t\t&lt;To&gt;lkmalksnd71t2987hd&lt;/To&gt;\r\n\t\t\t\t&lt;OperationId&gt;a3cf7eb8-372c-4712-82bf-1a926171a701&lt;/OperationId&gt;\r\n\t\t&lt;/MsgHdr&gt;\r\n\t\t&lt;Req&gt;\r\n\t\t\t&lt;ReqTp&gt;HSTR&lt;/ReqTp&gt;\r\n\t\t\t&lt;Prd&gt;\r\n\t\t\t\t&lt;FromDateTime&gt;\r\n\t\t\t\t\t2022-12-20T16:00:00.000Z\r\n\t\t\t\t&lt;/FrDtTm&gt;\r\n\t\t\t\t\t&lt;ToDateTime&gt;\r\n\t\t\t\t\t\t2022-12-22T00:00:00.000Z\r\n\t\t\t\t\t&lt;/ToDtTm&gt;\r\n\t\t\t&lt;/Prd\r\n\r\n\t\t\t&lt;ReqCrit&gt;\r\n\t\t\t\t&lt;Pty&gt;\r\n\t\t\t\t\t&lt;Wllt&gt;\r\n\t\t\t\t\t\t&lt;Id&gt;sck12312-asdasd621j23-asdasdgsfg&lt;/Id&gt;\r\n\t\t\t\t\t&lt;/Wllt&gt;\r\n\t\t\t\t&lt;/Pty&gt;\r\n\t\t\t&lt;/ReqCrit&gt;\r\n\t\t&lt;/Req&gt;\r\n\t&lt;/GetWlltInf&gt;\r\n&lt;/Document&gt;\r\n```\r\n\r\nI googled different ideas, but wasn&#39;t able to understand. And I found a lot of answers on how to do it if you work with xml, but I work with xml as text\r\n\r\nThanks a lot!","title":"how to get value from xml as text","body":"<p>I new in Java. I get xml as text from Database. Next I need to get field value from this xml as text\nHow I can do it? I do not understand.</p>\n<p>My xml example:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Document xmlns=&quot;urn:iso:std:iso:20022:tech:xsd:&quot;&gt;\n    &lt;GetWlltInf&gt;\n        &lt;MsgHdr&gt;\n            &lt;MsgId&gt;123125412&lt;/MsgId&gt;\n            &lt;CreDt&gt;2022-12-28T10:37:45.363Z&lt;/CreDt&gt;\n            &lt;From&gt;\n                asfaoi232sdianscv\n            &lt;/Fr&gt;\n                &lt;To&gt;lkmalksnd71t2987hd&lt;/To&gt;\n                &lt;OperationId&gt;a3cf7eb8-372c-4712-82bf-1a926171a701&lt;/OperationId&gt;\n        &lt;/MsgHdr&gt;\n        &lt;Req&gt;\n            &lt;ReqTp&gt;HSTR&lt;/ReqTp&gt;\n            &lt;Prd&gt;\n                &lt;FromDateTime&gt;\n                    2022-12-20T16:00:00.000Z\n                &lt;/FrDtTm&gt;\n                    &lt;ToDateTime&gt;\n                        2022-12-22T00:00:00.000Z\n                    &lt;/ToDtTm&gt;\n            &lt;/Prd\n\n            &lt;ReqCrit&gt;\n                &lt;Pty&gt;\n                    &lt;Wllt&gt;\n                        &lt;Id&gt;sck12312-asdasd621j23-asdasdgsfg&lt;/Id&gt;\n                    &lt;/Wllt&gt;\n                &lt;/Pty&gt;\n            &lt;/ReqCrit&gt;\n        &lt;/Req&gt;\n    &lt;/GetWlltInf&gt;\n&lt;/Document&gt;\n</code></pre>\n<p>I googled different ideas, but wasn't able to understand. And I found a lot of answers on how to do it if you work with xml, but I work with xml as text</p>\n<p>Thanks a lot!</p>\n"},{"tags":["java","gson","google-identity-toolkit"],"comments":[{"owner":{"account_id":923153,"reputation":5107,"user_id":954442,"accept_rate":83,"display_name":"Andrew Regan"},"score":0,"creation_date":1457821447,"post_id":35963769,"comment_id":59583012,"body_markdown":"I&#39;d say this was a bug in the Identity Toolkit / failure to deal cleanly with a bad response. I&#39;d suggest setting a breakpoint and examining the incoming response. Here&#39;s the code: https://github.com/google/identity-toolkit-java-client/blob/b1387d43e3ffeda4bf6794f5f5a58410b63d829e/src/main/java/com/google/identitytoolkit/GitkitVerifierManager.java#L94","body":"I&#39;d say this was a bug in the Identity Toolkit / failure to deal cleanly with a bad response. I&#39;d suggest setting a breakpoint and examining the incoming response. Here&#39;s the code: <a href=\"https://github.com/google/identity-toolkit-java-client/blob/b1387d43e3ffeda4bf6794f5f5a58410b63d829e/src/main/java/com/google/identitytoolkit/GitkitVerifierManager.java#L94\" rel=\"nofollow noreferrer\">github.com/google/identity-toolkit-java-client/blob/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2560351,"reputation":2223,"user_id":2221455,"display_name":"Jin Liu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458255796,"creation_date":1458255796,"answer_id":36073233,"question_id":35963769,"body_markdown":"Most likely the error is caused by the invalid private key. To isolate the root cause, you can grab the latest [Google Identity Toolkit library 1.2.6][1] which was just released. In this version the private key is no longer needed for token verification. Let us know if you still see the same error with the v1.2.6 library.\r\n\r\n\r\n  [1]: http://search.maven.org/#artifactdetails%7Ccom.google.identitytoolkit%7Cgitkitclient%7C1.2.6%7Cjar","title":"java.lang.UnsupportedOperationException: JsonObject","body":"<p>Most likely the error is caused by the invalid private key. To isolate the root cause, you can grab the latest <a href=\"http://search.maven.org/#artifactdetails%7Ccom.google.identitytoolkit%7Cgitkitclient%7C1.2.6%7Cjar\" rel=\"nofollow\">Google Identity Toolkit library 1.2.6</a> which was just released. In this version the private key is no longer needed for token verification. Let us know if you still see the same error with the v1.2.6 library.</p>\n"}],"owner":{"account_id":1050904,"reputation":138,"user_id":6055253,"display_name":"Carlos Kochhann"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8012,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1688202020,"creation_date":1457819614,"question_id":35963769,"body_markdown":"I&#39;m trying to make the Identity Toolkit work on my Java App Engine on Eclipse. It works fine until I have to choose my account on AccountChooser.com. After it&#39;s chosen, I&#39;m getting the following error:\r\n\r\n    HTTP ERROR 500\r\n    \r\n    Problem accessing /kalbasidentitytoolkit. Reason:\r\n    \r\n    JsonObject\r\n    \r\n    Caused by:\r\n    \r\n    java.lang.UnsupportedOperationException: JsonObject\r\n    \tat com.google.gson.JsonElement.getAsString(JsonElement.java:185)\r\n    \tat com.google.identitytoolkit.GitkitVerifierManager.parseCertsResponse(GitkitVerifierManager.java:94)\r\n\r\nWhat am I missing? The Quick-app using maven works fine.","title":"java.lang.UnsupportedOperationException: JsonObject","body":"<p>I'm trying to make the Identity Toolkit work on my Java App Engine on Eclipse. It works fine until I have to choose my account on AccountChooser.com. After it's chosen, I'm getting the following error:</p>\n\n<pre><code>HTTP ERROR 500\n\nProblem accessing /kalbasidentitytoolkit. Reason:\n\nJsonObject\n\nCaused by:\n\njava.lang.UnsupportedOperationException: JsonObject\n    at com.google.gson.JsonElement.getAsString(JsonElement.java:185)\n    at com.google.identitytoolkit.GitkitVerifierManager.parseCertsResponse(GitkitVerifierManager.java:94)\n</code></pre>\n\n<p>What am I missing? The Quick-app using maven works fine.</p>\n"},{"tags":["java","squid"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688202696,"post_id":76593933,"comment_id":135044731,"body_markdown":"You&#39;re setting your password to the user name.","body":"You&#39;re setting your password to the user name."},{"owner":{"account_id":23975794,"reputation":13,"user_id":17963908,"display_name":"YueYue"},"score":0,"creation_date":1688203478,"post_id":76593933,"comment_id":135044799,"body_markdown":"I corrected that by `System.setProperty(&quot;https.proxyPassword&quot;, authPassword);` but that still gives `java.io.IOException: Failed to authenticate with proxy`","body":"I corrected that by <code>System.setProperty(&quot;https.proxyPassword&quot;, authPassword);</code> but that still gives <code>java.io.IOException: Failed to authenticate with proxy</code>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688203552,"post_id":76593933,"comment_id":135044807,"body_markdown":"Did you fix &quot;http.proxyPassword&quot; as well?","body":"Did you fix &quot;http.proxyPassword&quot; as well?"},{"owner":{"account_id":23975794,"reputation":13,"user_id":17963908,"display_name":"YueYue"},"score":0,"creation_date":1688203570,"post_id":76593933,"comment_id":135044808,"body_markdown":"Yes I did, `System.setProperty(&quot;http.proxyPassword&quot;, authPassword);`","body":"Yes I did, <code>System.setProperty(&quot;http.proxyPassword&quot;, authPassword);</code>"},{"owner":{"account_id":23975794,"reputation":13,"user_id":17963908,"display_name":"YueYue"},"score":0,"creation_date":1688203597,"post_id":76593933,"comment_id":135044810,"body_markdown":"I add some `System.out.println()` and is seem that it print the username and password correctly","body":"I add some <code>System.out.println()</code> and is seem that it print the username and password correctly"},{"owner":{"account_id":23975794,"reputation":13,"user_id":17963908,"display_name":"YueYue"},"score":0,"creation_date":1688203936,"post_id":76593933,"comment_id":135044855,"body_markdown":"I found from squid connection log that all the connections that fails have no username but the connection tested with cURL is with username, does that mean I didnt set username correctly?","body":"I found from squid connection log that all the connections that fails have no username but the connection tested with cURL is with username, does that mean I didnt set username correctly?"}],"owner":{"account_id":23975794,"reputation":13,"user_id":17963908,"display_name":"YueYue"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688201944,"creation_date":1688201944,"question_id":76593933,"body_markdown":"I was trying to connect to internet with a Squid HTTP Proxy with Java, I looked at \r\n\r\nhttps://stackoverflow.com/questions/1626549/authenticated-http-proxy-with-java\r\n\r\nbut that returns `Failed to authenticate with proxy`.\r\nHere is my code so far:\r\n```java\r\nString proxyHost = config.getString(&quot;ProxyHost&quot;).trim();\r\n        String proxyPort = config.getString(&quot;ProxyPort&quot;).trim();\r\n        final String authUser = config.getString(&quot;ProxyUser&quot;).trim();\r\n        final String authPassword = config.getString(&quot;ProxyPw&quot;).trim();\r\n\r\n        if (!proxyHost.isEmpty() &amp;&amp; proxyHost != null) {\r\n            DiscordSRV.debug(&quot;Proxy host setting to &quot; + proxyHost);\r\n\r\n            Authenticator.setDefault(\r\n                    new Authenticator() {\r\n                        @Override\r\n                        public PasswordAuthentication getPasswordAuthentication() {\r\n                            return new PasswordAuthentication(authUser, authPassword.toCharArray());\r\n                        }\r\n                    });\r\n\r\n            try {\r\n\r\n                System.setProperty(&quot;jdk.http.auth.tunneling.disabledSchemes&quot;, &quot;&quot;);\r\n                // HTTP proxy\r\n                System.setProperty(&quot;http.proxyHost&quot;, proxyHost);\r\n                System.setProperty(&quot;http.proxyPort&quot;, proxyPort);\r\n                System.setProperty(&quot;http.proxyUser&quot;, authUser);\r\n                System.setProperty(&quot;http.proxyPassword&quot;, authUser);\r\n\r\n                // HTTPS proxy\r\n                System.setProperty(&quot;https.proxyHost&quot;, proxyHost);\r\n                System.setProperty(&quot;https.proxyPort&quot;, proxyPort);\r\n                System.setProperty(&quot;https.proxyUser&quot;, authUser);\r\n                System.setProperty(&quot;https.proxyPassword&quot;, authUser);\r\n\r\n                DiscordSRV.debug(&quot;Proxy successfully set&quot;);\r\n            } catch (Exception e) {\r\n                DiscordSRV.debug(&quot;Proxy settings failed to apply&quot;);\r\n            }\r\n        }\r\n``` \r\nI have already tested the proxy with cURL and the proxy works fine.","title":"Trying to use a Authenticated HTTP proxy in Java","body":"<p>I was trying to connect to internet with a Squid HTTP Proxy with Java, I looked at</p>\n<p><a href=\"https://stackoverflow.com/questions/1626549/authenticated-http-proxy-with-java\">Authenticated HTTP proxy with Java</a></p>\n<p>but that returns <code>Failed to authenticate with proxy</code>.\nHere is my code so far:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String proxyHost = config.getString(&quot;ProxyHost&quot;).trim();\n        String proxyPort = config.getString(&quot;ProxyPort&quot;).trim();\n        final String authUser = config.getString(&quot;ProxyUser&quot;).trim();\n        final String authPassword = config.getString(&quot;ProxyPw&quot;).trim();\n\n        if (!proxyHost.isEmpty() &amp;&amp; proxyHost != null) {\n            DiscordSRV.debug(&quot;Proxy host setting to &quot; + proxyHost);\n\n            Authenticator.setDefault(\n                    new Authenticator() {\n                        @Override\n                        public PasswordAuthentication getPasswordAuthentication() {\n                            return new PasswordAuthentication(authUser, authPassword.toCharArray());\n                        }\n                    });\n\n            try {\n\n                System.setProperty(&quot;jdk.http.auth.tunneling.disabledSchemes&quot;, &quot;&quot;);\n                // HTTP proxy\n                System.setProperty(&quot;http.proxyHost&quot;, proxyHost);\n                System.setProperty(&quot;http.proxyPort&quot;, proxyPort);\n                System.setProperty(&quot;http.proxyUser&quot;, authUser);\n                System.setProperty(&quot;http.proxyPassword&quot;, authUser);\n\n                // HTTPS proxy\n                System.setProperty(&quot;https.proxyHost&quot;, proxyHost);\n                System.setProperty(&quot;https.proxyPort&quot;, proxyPort);\n                System.setProperty(&quot;https.proxyUser&quot;, authUser);\n                System.setProperty(&quot;https.proxyPassword&quot;, authUser);\n\n                DiscordSRV.debug(&quot;Proxy successfully set&quot;);\n            } catch (Exception e) {\n                DiscordSRV.debug(&quot;Proxy settings failed to apply&quot;);\n            }\n        }\n</code></pre>\n<p>I have already tested the proxy with cURL and the proxy works fine.</p>\n"},{"tags":["java","build","jar","dependencies"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688202599,"post_id":76593907,"comment_id":135044724,"body_markdown":"It may help if you share some of the class names in that package -- perhaps the package name has changed.","body":"It may help if you share some of the class names in that package -- perhaps the package name has changed."},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1688206584,"post_id":76593907,"comment_id":135045120,"body_markdown":"Does the project use any build tools like maven or ant? Look for files like pom.xml or build.xml and edit their contents into your question if present.","body":"Does the project use any build tools like maven or ant? Look for files like pom.xml or build.xml and edit their contents into your question if present."}],"owner":{"account_id":13950401,"reputation":1,"user_id":10074046,"display_name":"Nishant Goyal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688201538,"creation_date":1688201538,"question_id":76593907,"body_markdown":"I am working on one project which is having legacy java code written around somewhere in 2002.\r\nThe code is using below dependency which is not present in our code base. I need to change the code but I am not able to compile/build the code because of the dependency.\r\n**import com.fujitsu.xml.navigator.*;**\r\n\r\nCan anyone help me finding this required dependency?\r\nThanks in advance!\r\n \r\n\r\nI have searched it on google but couldn&#39;t find this dependency.\r\nCan anyone help me finding this required dependency?","title":"Not able to find the required dependency (jar) in the legacy java code","body":"<p>I am working on one project which is having legacy java code written around somewhere in 2002.\nThe code is using below dependency which is not present in our code base. I need to change the code but I am not able to compile/build the code because of the dependency.\n<strong>import com.fujitsu.xml.navigator.*;</strong></p>\n<p>Can anyone help me finding this required dependency?\nThanks in advance!</p>\n<p>I have searched it on google but couldn't find this dependency.\nCan anyone help me finding this required dependency?</p>\n"},{"tags":["java","netbeans","encoding","utf-8","ide"],"comments":[{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":0,"creation_date":1688188951,"post_id":76593368,"comment_id":135043712,"body_markdown":"Maybe you are seeing the output in your CLI, wright? So maybe you are using a CLI code page which does not support outputing Vietnamese characters?","body":"Maybe you are seeing the output in your CLI, wright? So maybe you are using a CLI code page which does not support outputing Vietnamese characters?"},{"owner":{"account_id":23656134,"reputation":23,"user_id":17684402,"display_name":"Phm Ph&#250; Kh&#225;nh"},"score":0,"creation_date":1688189195,"post_id":76593368,"comment_id":135043730,"body_markdown":"Hello @gthanop, I am seeing it on the console of NetBeans, it used to be able to displaying Vietnamese.","body":"Hello @gthanop, I am seeing it on the console of NetBeans, it used to be able to displaying Vietnamese."},{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":0,"creation_date":1688189784,"post_id":76593368,"comment_id":135043765,"body_markdown":"In case you are certain that the files are saved in UTF-8 format then the last thing I can think of is to give the compiler [the --encoding option](https://docs.oracle.com/en/java/javase/20/docs/specs/man/javac.html#option-encoding). Maybe you should test your code without any IDE and see if it works, in order to better determine where the problem lies (eg on the IDE console, on the file encoding, on the compiler encoding, other, etc).","body":"In case you are certain that the files are saved in UTF-8 format then the last thing I can think of is to give the compiler <a href=\"https://docs.oracle.com/en/java/javase/20/docs/specs/man/javac.html#option-encoding\" rel=\"nofollow noreferrer\">the --encoding option</a>. Maybe you should test your code without any IDE and see if it works, in order to better determine where the problem lies (eg on the IDE console, on the file encoding, on the compiler encoding, other, etc)."},{"owner":{"account_id":23656134,"reputation":23,"user_id":17684402,"display_name":"Phm Ph&#250; Kh&#225;nh"},"score":0,"creation_date":1688192337,"post_id":76593368,"comment_id":135043911,"body_markdown":"I tried compile it on Terminal and PowerShell and got the unwanted ouput too.","body":"I tried compile it on Terminal and PowerShell and got the unwanted ouput too."}],"answers":[{"tags":[],"owner":{"account_id":23656134,"reputation":23,"user_id":17684402,"display_name":"Phm Ph&#250; Kh&#225;nh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688201421,"creation_date":1688194731,"answer_id":76593598,"question_id":76593368,"body_markdown":"So I apparently figured it out by myself. After putting the `-J-Dfile.encoding=UTF-8` inside the `netbeans_default_options` of `netbeans.conf` file, I have to change the `system locale` I recommend **saving your progress** before following these steps because **it requires a system reboot**:\r\n\r\n 1. Open Run dialog by pressing `Win + R`\r\n[![Run][1]][1]\r\n\r\n 2. Type `intl.cpl`, press enter to open `Region` dialog\r\n[![Region][2]][2]\r\n\r\n 3. Switch to `Administrative` tab and press `Change system locale`\r\n[![Change system locale][3]][3]\r\n\r\n 4. Check on `Beta: Use Unicode UTF-8 for worldwide language support`\r\n[![Beta: Use Unicode UTF-8 for worldwide language support][4]][4]\r\n\r\n 5. Press OK then restart your device.\r\n\r\nThis is also the way to make Windows Command Prompt to display in UTF-8 encoding, you can learn more about it [here][5]\r\n\r\n  [1]: https://i.stack.imgur.com/VGE8o.png\r\n  [2]: https://i.stack.imgur.com/NgMpf.png\r\n  [3]: https://i.stack.imgur.com/0yCRU.png\r\n  [4]: https://i.stack.imgur.com/5Q7OB.png\r\n  [5]: https://stackoverflow.com/a/57134096/17684402","title":"How to display Vietnamese output with NetBeans 18 and JDK 20","body":"<p>So I apparently figured it out by myself. After putting the <code>-J-Dfile.encoding=UTF-8</code> inside the <code>netbeans_default_options</code> of <code>netbeans.conf</code> file, I have to change the <code>system locale</code> I recommend <strong>saving your progress</strong> before following these steps because <strong>it requires a system reboot</strong>:</p>\n<ol>\n<li><p>Open Run dialog by pressing <code>Win + R</code>\n<a href=\"https://i.stack.imgur.com/VGE8o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VGE8o.png\" alt=\"Run\" /></a></p>\n</li>\n<li><p>Type <code>intl.cpl</code>, press enter to open <code>Region</code> dialog\n<a href=\"https://i.stack.imgur.com/NgMpf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NgMpf.png\" alt=\"Region\" /></a></p>\n</li>\n<li><p>Switch to <code>Administrative</code> tab and press <code>Change system locale</code>\n<a href=\"https://i.stack.imgur.com/0yCRU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0yCRU.png\" alt=\"Change system locale\" /></a></p>\n</li>\n<li><p>Check on <code>Beta: Use Unicode UTF-8 for worldwide language support</code>\n<a href=\"https://i.stack.imgur.com/5Q7OB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5Q7OB.png\" alt=\"Beta: Use Unicode UTF-8 for worldwide language support\" /></a></p>\n</li>\n<li><p>Press OK then restart your device.</p>\n</li>\n</ol>\n<p>This is also the way to make Windows Command Prompt to display in UTF-8 encoding, you can learn more about it <a href=\"https://stackoverflow.com/a/57134096/17684402\">here</a></p>\n"}],"owner":{"account_id":23656134,"reputation":23,"user_id":17684402,"display_name":"Phm Ph&#250; Kh&#225;nh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688201421,"creation_date":1688188735,"question_id":76593368,"body_markdown":"I used to be able to display UTF-8 encoding before my last windows reinstallation then I re-downloaded NetBeans and JDK (the version is specified on the title), suppose that I have these pieces of code in main method in a maven project:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n        System.out.println(&quot;&#226;y l&#224; mt vn bn Ting Vit&quot;);\r\n}\r\n```\r\n\r\nI am expecting the output to display exactly like what I put in the println method.\r\n\r\nI tried:\r\n\r\n- Putting the `-J-Dfile.encoding=UTF-8` inside the `netbeans_default_options `of `netbeans.conf `file.\r\n\r\n- Downgrade the JDK version to lower version (JDK-17).\r\n- I also tried other font styles (Consolas, Arial, etc...) in NetBeans (both **Tools -\\&gt; Options -\\&gt; Fonts &amp; Colors -\\&gt; Font**  and **Tools -\\&gt; Options -\\&gt; Miscellaneous -\\&gt; Font**)\r\n\r\nBut they seem not working. Do I have to download any other font style or anything else?\r\n\r\nThanks for spending time to reply.","title":"How to display Vietnamese output with NetBeans 18 and JDK 20","body":"<p>I used to be able to display UTF-8 encoding before my last windows reinstallation then I re-downloaded NetBeans and JDK (the version is specified on the title), suppose that I have these pieces of code in main method in a maven project:</p>\n<pre><code>public static void main(String[] args) {\n        System.out.println(&quot;y l mt vn bn Ting Vit&quot;);\n}\n</code></pre>\n<p>I am expecting the output to display exactly like what I put in the println method.</p>\n<p>I tried:</p>\n<ul>\n<li><p>Putting the <code>-J-Dfile.encoding=UTF-8</code> inside the <code>netbeans_default_options </code>of <code>netbeans.conf </code>file.</p>\n</li>\n<li><p>Downgrade the JDK version to lower version (JDK-17).</p>\n</li>\n<li><p>I also tried other font styles (Consolas, Arial, etc...) in NetBeans (both <strong>Tools -&gt; Options -&gt; Fonts &amp; Colors -&gt; Font</strong>  and <strong>Tools -&gt; Options -&gt; Miscellaneous -&gt; Font</strong>)</p>\n</li>\n</ul>\n<p>But they seem not working. Do I have to download any other font style or anything else?</p>\n<p>Thanks for spending time to reply.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":1417953,"reputation":45783,"user_id":1343161,"accept_rate":100,"display_name":"Keppil"},"score":67,"creation_date":1394779219,"post_id":22397861,"comment_id":34052636,"body_markdown":"_Why_ is always difficult to answer. The most correct answer is probably: Because the language designers figured it was a good idea.","body":"<i>Why</i> is always difficult to answer. The most correct answer is probably: Because the language designers figured it was a good idea."},{"owner":{"display_name":"user180100"},"score":0,"creation_date":1394779535,"post_id":22397861,"comment_id":34052744,"body_markdown":"some reading: http://javarevisited.blogspot.fr/2010/10/why-string-is-immutable-in-java.html","body":"some reading: <a href=\"http://javarevisited.blogspot.fr/2010/10/why-string-is-immutable-in-java.html\" rel=\"nofollow noreferrer\">javarevisited.blogspot.fr/2010/10/&hellip;</a>"},{"owner":{"display_name":"user180100"},"score":1,"creation_date":1394779559,"post_id":22397861,"comment_id":34052761,"body_markdown":"see also, [this answer](http://stackoverflow.com/a/2069014/180100)","body":"see also, <a href=\"http://stackoverflow.com/a/2069014/180100\">this answer</a>"},{"owner":{"account_id":442318,"reputation":7665,"user_id":832878,"accept_rate":72,"display_name":"Siyuan Ren"},"score":3,"creation_date":1394779644,"post_id":22397861,"comment_id":34052790,"body_markdown":"Your answer is not on the point. C++ `std::string` is mutable, but they have string pool as well (well, more correctly, character array pool).","body":"Your answer is not on the point. C++ <code>std::string</code> is mutable, but they have string pool as well (well, more correctly, character array pool)."},{"owner":{"account_id":2684795,"reputation":182430,"user_id":2319407,"display_name":"Dmitry Bychenko"},"score":0,"creation_date":1394779900,"post_id":22397861,"comment_id":34052876,"body_markdown":"Usually we design classes as immutable for them being thread safe and to optimize performance and memory consumption: if class is immutable all threads can only read the class and so every instance is thread safe. Immutable class instances have no need to re-allocate memory and so they are more CPU and memory effective.","body":"Usually we design classes as immutable for them being thread safe and to optimize performance and memory consumption: if class is immutable all threads can only read the class and so every instance is thread safe. Immutable class instances have no need to re-allocate memory and so they are more CPU and memory effective."},{"owner":{"account_id":2328177,"reputation":4759,"user_id":3237679,"accept_rate":64,"display_name":"rocking"},"score":0,"creation_date":1394780241,"post_id":22397861,"comment_id":34053043,"body_markdown":"@DmitryBychenko The answer I told is incorrect?","body":"@DmitryBychenko The answer I told is incorrect?"},{"owner":{"account_id":2328177,"reputation":4759,"user_id":3237679,"accept_rate":64,"display_name":"rocking"},"score":0,"creation_date":1394780326,"post_id":22397861,"comment_id":34053089,"body_markdown":"@Pawanmishra possible duplicate of question title. I do not want *why String is immutable* I am asking *Is my answer is right or not*","body":"@Pawanmishra possible duplicate of question title. I do not want <i>why String is immutable</i> I am asking <i>Is my answer is right or not</i>"},{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":3,"creation_date":1394780740,"post_id":22397861,"comment_id":34053270,"body_markdown":"@rocking To be honest, whether it&#39;s right or not kind of depends on how they read it. The thing is, Java can have a string pool *because* strings are immutable. If they decided to make strings mutable then they would not have used a string pool; so it may not be accurate to say &quot;string pool, therefore immutable strings&quot;; it&#39;s more the other way around. The *reasons* for choosing immutable strings are outlined below, and the string pool is a working strategy *because* of that. Still, your answer is not *incorrect*, it just doesn&#39;t seem complete. You&#39;ll just have to wait and see what they say.","body":"@rocking To be honest, whether it&#39;s right or not kind of depends on how they read it. The thing is, Java can have a string pool <i>because</i> strings are immutable. If they decided to make strings mutable then they would not have used a string pool; so it may not be accurate to say &quot;string pool, therefore immutable strings&quot;; it&#39;s more the other way around. The <i>reasons</i> for choosing immutable strings are outlined below, and the string pool is a working strategy <i>because</i> of that. Still, your answer is not <i>incorrect</i>, it just doesn&#39;t seem complete. You&#39;ll just have to wait and see what they say."},{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":0,"creation_date":1394780846,"post_id":22397861,"comment_id":34053321,"body_markdown":"(In other words; if you consider Security and Efficiency to be the primary design goals, then immutable strings are a means to meet those goals, and a string pool is an efficient implementation of immutable strings.)","body":"(In other words; if you consider Security and Efficiency to be the primary design goals, then immutable strings are a means to meet those goals, and a string pool is an efficient implementation of immutable strings.)"},{"owner":{"account_id":2328177,"reputation":4759,"user_id":3237679,"accept_rate":64,"display_name":"rocking"},"score":0,"creation_date":1394780847,"post_id":22397861,"comment_id":34053322,"body_markdown":"@JasonC Thanks for helping.Do you think should I wait for jDeveloper answer or you have any better answer or should I wait for other answers?","body":"@JasonC Thanks for helping.Do you think should I wait for jDeveloper answer or you have any better answer or should I wait for other answers?"},{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":0,"creation_date":1394780954,"post_id":22397861,"comment_id":34053379,"body_markdown":"@rocking I don&#39;t have an answer that&#39;s any better than the the links in the answers below (or in the question Pawan mishra linked). It&#39;s up to you if you want to wait for more answers or not.","body":"@rocking I don&#39;t have an answer that&#39;s any better than the the links in the answers below (or in the question Pawan mishra linked). It&#39;s up to you if you want to wait for more answers or not."},{"owner":{"account_id":3252869,"reputation":3935,"user_id":2742702,"accept_rate":73,"display_name":"Alex Mathew"},"score":0,"creation_date":1394781261,"post_id":22397861,"comment_id":34053496,"body_markdown":"Your answer is correct but some more factors are there for why string in java is immutable. [see my answer](http://stackoverflow.com/questions/22397861/why-string-is-immutable/22398222#22398222)","body":"Your answer is correct but some more factors are there for why string in java is immutable. <a href=\"http://stackoverflow.com/questions/22397861/why-string-is-immutable/22398222#22398222\">see my answer</a>"},{"owner":{"account_id":2684795,"reputation":182430,"user_id":2319407,"display_name":"Dmitry Bychenko"},"score":0,"creation_date":1394781708,"post_id":22397861,"comment_id":34053682,"body_markdown":"@rocking: Your answer is correct one (you&#39;ve mentioned string pool which is the means to make String being CPU and memory effective and the string pool is that useful because String is immutable). Probably, you should have added some words on thread safety.","body":"@rocking: Your answer is correct one (you&#39;ve mentioned string pool which is the means to make String being CPU and memory effective and the string pool is that useful because String is immutable). Probably, you should have added some words on thread safety."},{"owner":{"account_id":2394954,"reputation":4617,"user_id":2093934,"accept_rate":67,"display_name":"gifpif"},"score":0,"creation_date":1394783145,"post_id":22397861,"comment_id":34054323,"body_markdown":"@rocking your answer is just define how java string pool works. but the question is WHY?... why java do this....?","body":"@rocking your answer is just define how java string pool works. but the question is WHY?... why java do this....?"},{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":46,"creation_date":1394800413,"post_id":22397861,"comment_id":34064406,"body_markdown":"I simply cannot understand why this question was closed. The supposed related answer is not even about Java and does not address the main subject of this question, which is &quot;why&quot;. For me this us one of those cases of an irresponsible community acting on question they know nothing about. I have nominated it to reopen.","body":"I simply cannot understand why this question was closed. The supposed related answer is not even about Java and does not address the main subject of this question, which is &quot;why&quot;. For me this us one of those cases of an irresponsible community acting on question they know nothing about. I have nominated it to reopen."},{"owner":{"account_id":2328177,"reputation":4759,"user_id":3237679,"accept_rate":64,"display_name":"rocking"},"score":0,"creation_date":1395162320,"post_id":22397861,"comment_id":34207737,"body_markdown":"@EdwinDalorzo My question was whether the answer I gave is right or wrong but none has answered and instead they provided their answers","body":"@EdwinDalorzo My question was whether the answer I gave is right or wrong but none has answered and instead they provided their answers"},{"owner":{"account_id":41230,"reputation":37690,"user_id":119775,"accept_rate":76,"display_name":"Jean-Fran&#231;ois Corbett"},"score":0,"creation_date":1414154750,"post_id":22397861,"comment_id":41718954,"body_markdown":"Another duplicate: http://stackoverflow.com/questions/1552301/immutability-of-strings-in-java","body":"Another duplicate: <a href=\"http://stackoverflow.com/questions/1552301/immutability-of-strings-in-java\" title=\"immutability of strings in java\">stackoverflow.com/questions/1552301/&hellip;</a>"},{"owner":{"account_id":5247548,"reputation":580,"user_id":4192735,"accept_rate":88,"display_name":"Bhaumik Thakkar"},"score":0,"creation_date":1470917313,"post_id":22397861,"comment_id":65150806,"body_markdown":"MYSTERY CONTINUES :-D","body":"MYSTERY CONTINUES :-D"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1507790191,"post_id":22397861,"comment_id":80352844,"body_markdown":"@rocking That is a distinction without a difference. If your answer is correct it agrees with the others, and if it isn&#39;t orrect it wouldn&#39;t be much use merely to tell you &#39;no&#39; without stating the real reason why it is so.","body":"@rocking That is a distinction without a difference. If your answer is correct it agrees with the others, and if it isn&#39;t orrect it wouldn&#39;t be much use merely to tell you &#39;no&#39; without stating the real reason why it is so."}],"answers":[{"tags":[],"owner":{"account_id":125988,"reputation":4853,"user_id":2115021,"accept_rate":20,"display_name":"Kick"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1394779911,"creation_date":1394779213,"answer_id":22397880,"question_id":22397861,"body_markdown":"String class is `FINAL` it mean you can&#39;t create any class to inherit it and change the basic structure and make the Sting mutable.\r\n\r\nAnother thing instance variable and methods of String class that are provided are such that you can&#39;t change `String` object once created.\r\n\r\nThe reason what you have added doesn&#39;t make the String immutable at all.This all says how the String is stored in heap.Also string pool make the huge difference in performance\r\n\r\n\r\n\r\n","title":"Why is String immutable in Java?","body":"<p>String class is <code>FINAL</code> it mean you can't create any class to inherit it and change the basic structure and make the Sting mutable.</p>\n\n<p>Another thing instance variable and methods of String class that are provided are such that you can't change <code>String</code> object once created.</p>\n\n<p>The reason what you have added doesn't make the String immutable at all.This all says how the String is stored in heap.Also string pool make the huge difference in performance</p>\n"},{"tags":[],"owner":{"account_id":1299488,"reputation":6269,"user_id":1249710,"display_name":"JDGuide"},"down_vote_count":2,"up_vote_count":23,"is_accepted":false,"score":21,"last_activity_date":1510006594,"creation_date":1394779289,"answer_id":22397903,"question_id":22397861,"body_markdown":"Most important reason according to [this][1] article on DZone:\r\n\r\n&gt;**String Constant Pool**\r\n&gt;...\r\n&gt;If string is mutable, changing the string with one reference will lead to the wrong value for the other references.\r\n&gt;\r\n&gt;**Security**\r\n&gt;\r\n&gt;String is widely used as parameter for many java classes, e.g. network connection, opening files, etc. Were String not immutable, a connection or file would be changed and lead to serious security threat.\r\n&gt; ...\r\n   \r\n\r\nHope it will help you.\r\n\r\n\r\n  [1]: http://java.dzone.com/articles/why-string-immutable-java","title":"Why is String immutable in Java?","body":"<p>Most important reason according to <a href=\"http://java.dzone.com/articles/why-string-immutable-java\" rel=\"noreferrer\">this</a> article on DZone:</p>\n\n<blockquote>\n  <p><strong>String Constant Pool</strong>\n  ...\n  If string is mutable, changing the string with one reference will lead to the wrong value for the other references.</p>\n  \n  <p><strong>Security</strong></p>\n  \n  <p>String is widely used as parameter for many java classes, e.g. network connection, opening files, etc. Were String not immutable, a connection or file would be changed and lead to serious security threat.\n  ...</p>\n</blockquote>\n\n<p>Hope it will help you.</p>\n"},{"tags":[],"owner":{"display_name":"user508434"},"down_vote_count":2,"up_vote_count":194,"is_accepted":false,"score":192,"last_activity_date":1394784197,"creation_date":1394779976,"answer_id":22398067,"question_id":22397861,"body_markdown":"`String` is immutable for several reasons, here is a summary:\r\n\r\n- **Security**: parameters are typically represented as `String` in network connections, database connection urls, usernames/passwords etc. If it were mutable, these parameters could be easily changed.\r\n- **Synchronization** and concurrency:  making String immutable automatically makes them thread safe thereby solving the synchronization issues.\r\n- **Caching**: when compiler optimizes your String objects, it sees that if two objects have same value (a=&quot;test&quot;, and b=&quot;test&quot;) and thus you need only one string object (for both a and b, these two will point to the same object).\r\n- **Class loading**: `String` is used as arguments for class loading. If mutable, it could result in wrong class being loaded (because mutable objects change their state).\r\n\r\nThat being said, immutability of `String` only means you cannot change it using its public API. You can in fact bypass the normal API using reflection. See the answer **[here][1]**.\r\n\r\nIn your example, if `String` was mutable, then consider the following example:\r\n\r\n      String a=&quot;stack&quot;;\r\n      System.out.println(a);//prints stack\r\n      a.setValue(&quot;overflow&quot;);\r\n      System.out.println(a);//if mutable it would print overflow\r\n\r\n\r\n\r\n  \r\n\r\n  [1]: https://stackoverflow.com/questions/20945049/is-a-java-string-really-immutable","title":"Why is String immutable in Java?","body":"<p><code>String</code> is immutable for several reasons, here is a summary:</p>\n\n<ul>\n<li><strong>Security</strong>: parameters are typically represented as <code>String</code> in network connections, database connection urls, usernames/passwords etc. If it were mutable, these parameters could be easily changed.</li>\n<li><strong>Synchronization</strong> and concurrency:  making String immutable automatically makes them thread safe thereby solving the synchronization issues.</li>\n<li><strong>Caching</strong>: when compiler optimizes your String objects, it sees that if two objects have same value (a=\"test\", and b=\"test\") and thus you need only one string object (for both a and b, these two will point to the same object).</li>\n<li><strong>Class loading</strong>: <code>String</code> is used as arguments for class loading. If mutable, it could result in wrong class being loaded (because mutable objects change their state).</li>\n</ul>\n\n<p>That being said, immutability of <code>String</code> only means you cannot change it using its public API. You can in fact bypass the normal API using reflection. See the answer <strong><a href=\"https://stackoverflow.com/questions/20945049/is-a-java-string-really-immutable\">here</a></strong>.</p>\n\n<p>In your example, if <code>String</code> was mutable, then consider the following example:</p>\n\n<pre><code>  String a=\"stack\";\n  System.out.println(a);//prints stack\n  a.setValue(\"overflow\");\n  System.out.println(a);//if mutable it would print overflow\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3252869,"reputation":3935,"user_id":2742702,"accept_rate":73,"display_name":"Alex Mathew"},"down_vote_count":1,"up_vote_count":49,"is_accepted":false,"score":48,"last_activity_date":1509899234,"creation_date":1394780506,"answer_id":22398222,"question_id":22397861,"body_markdown":"Java Developers decide Strings are immutable due to the following aspect **design, efficiency, and security**.\r\n\r\n**Design**\r\nStrings are created in a special memory area in java heap known as &quot;String Intern pool&quot;. While you creating new String (Not in the case of using String() constructor or any other String functions which internally use the String() constructor for creating a new String object; String() constructor always create new string constant in the pool unless we call the method [intern()][1]) variable it searches the pool to check whether is it already exist.\r\nIf it is exist, then return reference of the existing String object.\r\nIf the String is not immutable, changing the String with one reference will lead to the wrong value for the other references.\r\n\r\nAccording to [this][2] article on DZone:\r\n&gt;**Security**\r\n&gt;String is widely used as parameter for many java classes, e.g. network connection, opening files, etc. Were String not immutable, a connection or file would be changed and lead to serious security threat.\r\n&gt;Mutable strings could cause security problem in Reflection too, as the parameters are strings.\r\n&gt;\r\n&gt;**Efficiency**\r\n&gt;The hashcode of string is frequently used in Java. For example, in a HashMap. Being immutable guarantees that hashcode will always the same, so that it can be cached without worrying the changes.That means, there is no need to calculate hashcode every time it is used.\r\n\r\n\r\n  [1]: http://java.dzone.com/articles/string-interning-what-why-and\r\n  [2]: http://java.dzone.com/articles/why-string-immutable-java","title":"Why is String immutable in Java?","body":"<p>Java Developers decide Strings are immutable due to the following aspect <strong>design, efficiency, and security</strong>.</p>\n\n<p><strong>Design</strong>\nStrings are created in a special memory area in java heap known as \"String Intern pool\". While you creating new String (Not in the case of using String() constructor or any other String functions which internally use the String() constructor for creating a new String object; String() constructor always create new string constant in the pool unless we call the method <a href=\"http://java.dzone.com/articles/string-interning-what-why-and\" rel=\"noreferrer\">intern()</a>) variable it searches the pool to check whether is it already exist.\nIf it is exist, then return reference of the existing String object.\nIf the String is not immutable, changing the String with one reference will lead to the wrong value for the other references.</p>\n\n<p>According to <a href=\"http://java.dzone.com/articles/why-string-immutable-java\" rel=\"noreferrer\">this</a> article on DZone:</p>\n\n<blockquote>\n  <p><strong>Security</strong>\n  String is widely used as parameter for many java classes, e.g. network connection, opening files, etc. Were String not immutable, a connection or file would be changed and lead to serious security threat.\n  Mutable strings could cause security problem in Reflection too, as the parameters are strings.</p>\n  \n  <p><strong>Efficiency</strong>\n  The hashcode of string is frequently used in Java. For example, in a HashMap. Being immutable guarantees that hashcode will always the same, so that it can be cached without worrying the changes.That means, there is no need to calculate hashcode every time it is used.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":469276,"reputation":23596,"user_id":875775,"display_name":"Tho"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1634045332,"creation_date":1452741252,"answer_id":34781087,"question_id":22397861,"body_markdown":"IMHO, this is the most important reason:\r\n\r\n&gt; String is Immutable in Java because String objects are **cached in\r\n&gt; String pool**. Since cached String literals are **shared between multiple\r\n&gt; clients** there is always a risk, where one client&#39;s action would affect\r\n&gt; all another client.\r\n\r\nRef: [Why String is Immutable or Final in Java][1]\r\n\r\n\r\n\r\n  [1]: http://javarevisited.blogspot.com/2010/10/why-string-is-immutable-in-java.html","title":"Why is String immutable in Java?","body":"<p>IMHO, this is the most important reason:</p>\n<blockquote>\n<p>String is Immutable in Java because String objects are <strong>cached in\nString pool</strong>. Since cached String literals are <strong>shared between multiple\nclients</strong> there is always a risk, where one client's action would affect\nall another client.</p>\n</blockquote>\n<p>Ref: <a href=\"http://javarevisited.blogspot.com/2010/10/why-string-is-immutable-in-java.html\" rel=\"nofollow noreferrer\">Why String is Immutable or Final in Java</a></p>\n"},{"tags":[],"owner":{"account_id":7034436,"reputation":137,"user_id":5510545,"display_name":"Akshay"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1485616356,"creation_date":1485616356,"answer_id":41911338,"question_id":22397861,"body_markdown":"You are right. `String` in java uses concept of `String Pool` literal. When a string is created and if the string already exists in the pool, the reference of the existing string will be returned, instead of creating a new object and returning its reference.If a string is not immutable, changing the string with one reference will lead to the wrong value for the other references.\r\n\r\nI would add one more thing, since `String` is immutable, it is safe for multi threading and a single String instance can be shared across different threads. This avoid the usage of synchronization for thread safety, Strings are implicitly `thread safe`.\r\n ","title":"Why is String immutable in Java?","body":"<p>You are right. <code>String</code> in java uses concept of <code>String Pool</code> literal. When a string is created and if the string already exists in the pool, the reference of the existing string will be returned, instead of creating a new object and returning its reference.If a string is not immutable, changing the string with one reference will lead to the wrong value for the other references.</p>\n\n<p>I would add one more thing, since <code>String</code> is immutable, it is safe for multi threading and a single String instance can be shared across different threads. This avoid the usage of synchronization for thread safety, Strings are implicitly <code>thread safe</code>.</p>\n"},{"tags":[],"owner":{"account_id":11103298,"reputation":31,"user_id":8151316,"display_name":"chaithanya krishna gogineni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498185972,"creation_date":1498185972,"answer_id":44712265,"question_id":22397861,"body_markdown":"String is given as immutable by Sun micro systems,because string can used to store as key in map collection.\r\nStringBuffer is mutable .That is the reason,It cannot be used as key in map object","title":"Why is String immutable in Java?","body":"<p>String is given as immutable by Sun micro systems,because string can used to store as key in map collection.\nStringBuffer is mutable .That is the reason,It cannot be used as key in map object</p>\n"},{"tags":[],"owner":{"account_id":2839582,"reputation":2040,"user_id":2679770,"accept_rate":89,"display_name":"darxtrix"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1507789209,"creation_date":1507789209,"answer_id":46702730,"question_id":22397861,"body_markdown":"From the `Security` point of view we can use this practical example:\r\n\r\n\r\n    DBCursor makeConnection(String IP,String PORT,String USER,String PASS,String TABLE) {\r\n        \r\n        // if strings were mutable IP,PORT,USER,PASS can be changed by validate function\r\n        Boolean validated = validate(IP,PORT,USER,PASS);\r\n    \r\n        // here we are not sure if IP, PORT, USER, PASS changed or not ??\r\n        if (validated) {\r\n             DBConnection conn = doConnection(IP,PORT,USER,PASS);\r\n        }\r\n        \r\n        // rest of the code goes here ....\r\n    }\r\n\r\n","title":"Why is String immutable in Java?","body":"<p>From the <code>Security</code> point of view we can use this practical example:</p>\n\n<pre><code>DBCursor makeConnection(String IP,String PORT,String USER,String PASS,String TABLE) {\n\n    // if strings were mutable IP,PORT,USER,PASS can be changed by validate function\n    Boolean validated = validate(IP,PORT,USER,PASS);\n\n    // here we are not sure if IP, PORT, USER, PASS changed or not ??\n    if (validated) {\n         DBConnection conn = doConnection(IP,PORT,USER,PASS);\n    }\n\n    // rest of the code goes here ....\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8635634,"reputation":618,"user_id":6465925,"accept_rate":75,"display_name":"sss"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1509886134,"creation_date":1509886134,"answer_id":47121747,"question_id":22397861,"body_markdown":"The most important reason of a String being made immutable in Java is __Security__ consideration. Next would be __Caching__. \r\n\r\nI believe other reasons given here, such as efficiency, concurrency, design and __string pool__ follows from the fact that String in made immutable. For eg. String Pool could be created because String was immutable and not the other way around.\r\n\r\nCheck Gosling interview transcript [here](http://www.artima.com/intv/gosling3P.html)\r\n&gt; From a strategic point of view, they tend to more often be trouble free. And there are usually things you can do with immutables that you can&#39;t do with mutable things, such as cache the result. If you pass a string to a file open method, or if you pass a string to a constructor for a label in a user interface, in some APIs (like in lots of the Windows APIs) you pass in an array of characters. The receiver of that object really has to copy it, because they don&#39;t know anything about the storage lifetime of it. And they don&#39;t know what&#39;s happening to the object, whether it is being changed under their feet.\r\n&gt; \r\n&gt; You end up getting almost forced to replicate the object because you don&#39;t know whether or not you get to own it. And one of the nice things about immutable objects is that the answer is, &quot;Yeah, of course you do.&quot; Because the question of ownership, who has the right to change it, doesn&#39;t exist.\r\n&gt; \r\n&gt; One of the things that forced Strings to be immutable was security. You have a file open method. You pass a String to it. And then it&#39;s doing all kind of authentication checks before it gets around to doing the OS call. If you manage to do something that effectively mutated the String, after the security check and before the OS call, then boom, you&#39;re in. But Strings are immutable, so that kind of attack doesn&#39;t work. That precise example is what really demanded that\r\n&gt; Strings be immutable","title":"Why is String immutable in Java?","body":"<p>The most important reason of a String being made immutable in Java is <strong>Security</strong> consideration. Next would be <strong>Caching</strong>. </p>\n\n<p>I believe other reasons given here, such as efficiency, concurrency, design and <strong>string pool</strong> follows from the fact that String in made immutable. For eg. String Pool could be created because String was immutable and not the other way around.</p>\n\n<p>Check Gosling interview transcript <a href=\"http://www.artima.com/intv/gosling3P.html\" rel=\"nofollow noreferrer\">here</a></p>\n\n<blockquote>\n  <p>From a strategic point of view, they tend to more often be trouble free. And there are usually things you can do with immutables that you can't do with mutable things, such as cache the result. If you pass a string to a file open method, or if you pass a string to a constructor for a label in a user interface, in some APIs (like in lots of the Windows APIs) you pass in an array of characters. The receiver of that object really has to copy it, because they don't know anything about the storage lifetime of it. And they don't know what's happening to the object, whether it is being changed under their feet.</p>\n  \n  <p>You end up getting almost forced to replicate the object because you don't know whether or not you get to own it. And one of the nice things about immutable objects is that the answer is, \"Yeah, of course you do.\" Because the question of ownership, who has the right to change it, doesn't exist.</p>\n  \n  <p>One of the things that forced Strings to be immutable was security. You have a file open method. You pass a String to it. And then it's doing all kind of authentication checks before it gets around to doing the OS call. If you manage to do something that effectively mutated the String, after the security check and before the OS call, then boom, you're in. But Strings are immutable, so that kind of attack doesn't work. That precise example is what really demanded that\n  Strings be immutable</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2374287,"reputation":4246,"user_id":2078093,"accept_rate":62,"display_name":"Naresh Joshi"},"down_vote_count":1,"up_vote_count":44,"is_accepted":false,"score":43,"last_activity_date":1544847336,"creation_date":1518868112,"answer_id":48840927,"question_id":22397861,"body_markdown":"We can not be sure of what was Java designers actually thinking while designing `String` but we can only conclude these reasons based on the advantages we get out of string immutability, Some of which are\n\n### 1. Existence of String Constant Pool\n\nAs discussed in [Why String is Stored in String Constant Pool](https://programmingmitra.com/2018/02/why-string-is-stored-in-constant-pool.html) article, every application creates too many string objects and in order to save JVM from first creating lots of string objects and then garbage collecting them. JVM stores all string objects in a separate memory area called String constant pool and reuses objects from that cached pool.\n\nWhenever we create a string literal JVM first sees if that literal is already present in constant pool or not and if it is there, new reference will start pointing to the same object in SCP.\n\n    String a = &quot;Naresh&quot;;\n    String b = &quot;Naresh&quot;;\n    String c = &quot;Naresh&quot;;\n\nIn above example string object with value `Naresh` will get created in SCP only once and all reference `a`, `b`, `c` will point to the same object but what if we try to make change in `a` e.g. `a.replace(&quot;a&quot;, &quot;&quot;)`.\n\nIdeally, `a` should have value `Nresh` but `b`, `c` should remain unchanged because as an end user we are making the change in `a` only. And we know `a`, `b`, `c` all are pointing the same object so if we make a change in `a`, others should also reflect the change.\n\nBut string immutability saves us from this scenario and due to the immutability of string object string object `Naresh` will never change. So when we make any change in `a` instead of change in string object `Naresh` JVM creates a new object assign it to `a` and then make change in that object.\n\nSo String pool is only possible because of String&#39;s immutability and if String would not have been immutable, then caching string objects and reusing them would not have a possibility because any variable woulds have changed the value and corrupted others.\n\nAnd That&#39;s why it is handled by JVM very specially and have been given a special memory area.\n\n### 2. Thread Safety\n\nAn object is called thread-safe when multiple threads are operating on it but none of them is able to corrupt its state and object hold the same state for every thread at any point in time.\n\nAs we an immutable object cannot be modified by anyone after its creation which makes every immutable object is thread safe by default. We do not need to apply any thread safety measures to it such as creating synchronized methods.\n\nSo due to its immutable nature string object can be shared by multiple threads and even if it is getting manipulated by many threads it will not change its value.\n\n### 3. Security\n\nIn every application, we need to pass several secrets e.g. user&#39;s user-name\\passwords, connection URLs and in general, all of this information is passed as the string object.\n\nNow suppose if String would not have been immutable in nature then it would cause a serious security threat to the application because these values are allowed to get changed and if it is allowed then these might get changed due to wrongly written code or any other person who have access to our variable references.\n\n### 4. Class Loading\n\nAs discussed in [Creating objects through Reflection in Java with Example](https://programmingmitra.com/2016/05/creating-objects-through-reflection-in-java-with-example.html), we can use `Class.forName(&quot;class_name&quot;)` method to load a class in memory which again calls other methods to do so. And even JVM uses these methods to load classes.\n\nBut if you see clearly all of these methods accepts the class name as a string object so Strings are used in java class loading and immutability provides security that correct class is getting loaded by `ClassLoader`.\n\nSuppose if String would not have been immutable and we are trying to load `java.lang.Object` which get changed to `org.theft.OurObject` in between and now all of our objects have a behavior which someone can use to unwanted things.\n\n### 5. HashCode Caching\n\nIf we are going to perform any hashing related operations on any object we must override the `hashCode()` method and try to generate an accurate hashcode by using the state of the object. If an object&#39;s state is getting changed which means its hashcode should also change.\n\nBecause String is immutable so the value one string object is holding will never get changed which means its hashcode will also not change which gives String class an opportunity to cache its hashcode during object creation.\n\nYes, String object caches its hashcode at the time of object creation which makes it the great candidate for hashing related operations because hashcode doesn&#39;t need to be calculated again which save us some time. This is why String is mostly used as `HashMap` keys.\n\nRead More on [Why String is Immutable and Final in Java][1].\n\n\n  [1]: https://programmingmitra.com/2018/02/why-string-is-immutable-and-final-in-java.html","title":"Why is String immutable in Java?","body":"<p>We can not be sure of what was Java designers actually thinking while designing <code>String</code> but we can only conclude these reasons based on the advantages we get out of string immutability, Some of which are</p>\n<h3>1. Existence of String Constant Pool</h3>\n<p>As discussed in <a href=\"https://programmingmitra.com/2018/02/why-string-is-stored-in-constant-pool.html\" rel=\"noreferrer\">Why String is Stored in String Constant Pool</a> article, every application creates too many string objects and in order to save JVM from first creating lots of string objects and then garbage collecting them. JVM stores all string objects in a separate memory area called String constant pool and reuses objects from that cached pool.</p>\n<p>Whenever we create a string literal JVM first sees if that literal is already present in constant pool or not and if it is there, new reference will start pointing to the same object in SCP.</p>\n<pre><code>String a = &quot;Naresh&quot;;\nString b = &quot;Naresh&quot;;\nString c = &quot;Naresh&quot;;\n</code></pre>\n<p>In above example string object with value <code>Naresh</code> will get created in SCP only once and all reference <code>a</code>, <code>b</code>, <code>c</code> will point to the same object but what if we try to make change in <code>a</code> e.g. <code>a.replace(&quot;a&quot;, &quot;&quot;)</code>.</p>\n<p>Ideally, <code>a</code> should have value <code>Nresh</code> but <code>b</code>, <code>c</code> should remain unchanged because as an end user we are making the change in <code>a</code> only. And we know <code>a</code>, <code>b</code>, <code>c</code> all are pointing the same object so if we make a change in <code>a</code>, others should also reflect the change.</p>\n<p>But string immutability saves us from this scenario and due to the immutability of string object string object <code>Naresh</code> will never change. So when we make any change in <code>a</code> instead of change in string object <code>Naresh</code> JVM creates a new object assign it to <code>a</code> and then make change in that object.</p>\n<p>So String pool is only possible because of String's immutability and if String would not have been immutable, then caching string objects and reusing them would not have a possibility because any variable woulds have changed the value and corrupted others.</p>\n<p>And That's why it is handled by JVM very specially and have been given a special memory area.</p>\n<h3>2. Thread Safety</h3>\n<p>An object is called thread-safe when multiple threads are operating on it but none of them is able to corrupt its state and object hold the same state for every thread at any point in time.</p>\n<p>As we an immutable object cannot be modified by anyone after its creation which makes every immutable object is thread safe by default. We do not need to apply any thread safety measures to it such as creating synchronized methods.</p>\n<p>So due to its immutable nature string object can be shared by multiple threads and even if it is getting manipulated by many threads it will not change its value.</p>\n<h3>3. Security</h3>\n<p>In every application, we need to pass several secrets e.g. user's user-name\\passwords, connection URLs and in general, all of this information is passed as the string object.</p>\n<p>Now suppose if String would not have been immutable in nature then it would cause a serious security threat to the application because these values are allowed to get changed and if it is allowed then these might get changed due to wrongly written code or any other person who have access to our variable references.</p>\n<h3>4. Class Loading</h3>\n<p>As discussed in <a href=\"https://programmingmitra.com/2016/05/creating-objects-through-reflection-in-java-with-example.html\" rel=\"noreferrer\">Creating objects through Reflection in Java with Example</a>, we can use <code>Class.forName(&quot;class_name&quot;)</code> method to load a class in memory which again calls other methods to do so. And even JVM uses these methods to load classes.</p>\n<p>But if you see clearly all of these methods accepts the class name as a string object so Strings are used in java class loading and immutability provides security that correct class is getting loaded by <code>ClassLoader</code>.</p>\n<p>Suppose if String would not have been immutable and we are trying to load <code>java.lang.Object</code> which get changed to <code>org.theft.OurObject</code> in between and now all of our objects have a behavior which someone can use to unwanted things.</p>\n<h3>5. HashCode Caching</h3>\n<p>If we are going to perform any hashing related operations on any object we must override the <code>hashCode()</code> method and try to generate an accurate hashcode by using the state of the object. If an object's state is getting changed which means its hashcode should also change.</p>\n<p>Because String is immutable so the value one string object is holding will never get changed which means its hashcode will also not change which gives String class an opportunity to cache its hashcode during object creation.</p>\n<p>Yes, String object caches its hashcode at the time of object creation which makes it the great candidate for hashing related operations because hashcode doesn't need to be calculated again which save us some time. This is why String is mostly used as <code>HashMap</code> keys.</p>\n<p>Read More on <a href=\"https://programmingmitra.com/2018/02/why-string-is-immutable-and-final-in-java.html\" rel=\"noreferrer\">Why String is Immutable and Final in Java</a>.</p>\n"},{"tags":[],"owner":{"account_id":9559954,"reputation":81,"user_id":7109836,"display_name":"Qeaxe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528162697,"creation_date":1528162697,"answer_id":50690864,"question_id":22397861,"body_markdown":"In addition to the great answers, I wanted to add a few points. Like Strings, Array holds a reference to the starting of the array so if you create two arrays `arr1` and `arr2` and did something like `arr2 = arr1` this will make the reference of `arr2` same as `arr1` hence changing value in one of them will result in change of the other one for example\r\n\r\n    public class Main {\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tint[] a = {1, 2, 3, 4};\r\n\t\t\tint[] b = a;\r\n\t\t\ta[0] = 8;\r\n\t\t\tb[1] = 7;\r\n\t\t\tSystem.out.println(&quot;A: &quot; + a[0] + &quot;, B: &quot; + b[0]);\r\n\t\t\tSystem.out.println(&quot;A: &quot; + a[1] + &quot;, B: &quot; + b[1]);\r\n\t\t\t//outputs\r\n\t\t\t//A: 8, B: 8\r\n\t\t\t//A: 7, B: 7\r\n\t\t}\r\n\t}\r\nNot only that it would cause bugs in the code it also can(and will) be exploited by malicious user. Suppose if you have a system that changes the admin password. The user have to first enter the `newPassword` and then the `oldPassword` if the `oldPassword` is same as the `adminPass` the program change the password by `adminPass = newPassword`. let&#39;s say that the new password has the same reference as the admin password so a bad programmer may create a `temp` variable to hold the admin password before the users inputs data if the `oldPassword` is equal to `temp` it changes the password otherwise `adminPass = temp`. Someone knowing that could easily enter the new password and never enter the old password and abracadabra he has admin access. Another thing I didn&#39;t understand when learning about Strings why doesn&#39;t JVM create a new string for every object and have a unique place in memory for it and you can just do that using `new String(&quot;str&quot;);` The reason you wouldn&#39;t want to always use `new` is because it&#39;s not memory efficient and it is slower in most cases [read more](https://stackoverflow.com/q/14757978/7109836).","title":"Why is String immutable in Java?","body":"<p>In addition to the great answers, I wanted to add a few points. Like Strings, Array holds a reference to the starting of the array so if you create two arrays <code>arr1</code> and <code>arr2</code> and did something like <code>arr2 = arr1</code> this will make the reference of <code>arr2</code> same as <code>arr1</code> hence changing value in one of them will result in change of the other one for example</p>\n\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        int[] a = {1, 2, 3, 4};\n        int[] b = a;\n        a[0] = 8;\n        b[1] = 7;\n        System.out.println(\"A: \" + a[0] + \", B: \" + b[0]);\n        System.out.println(\"A: \" + a[1] + \", B: \" + b[1]);\n        //outputs\n        //A: 8, B: 8\n        //A: 7, B: 7\n    }\n}\n</code></pre>\n\n<p>Not only that it would cause bugs in the code it also can(and will) be exploited by malicious user. Suppose if you have a system that changes the admin password. The user have to first enter the <code>newPassword</code> and then the <code>oldPassword</code> if the <code>oldPassword</code> is same as the <code>adminPass</code> the program change the password by <code>adminPass = newPassword</code>. let's say that the new password has the same reference as the admin password so a bad programmer may create a <code>temp</code> variable to hold the admin password before the users inputs data if the <code>oldPassword</code> is equal to <code>temp</code> it changes the password otherwise <code>adminPass = temp</code>. Someone knowing that could easily enter the new password and never enter the old password and abracadabra he has admin access. Another thing I didn't understand when learning about Strings why doesn't JVM create a new string for every object and have a unique place in memory for it and you can just do that using <code>new String(\"str\");</code> The reason you wouldn't want to always use <code>new</code> is because it's not memory efficient and it is slower in most cases <a href=\"https://stackoverflow.com/q/14757978/7109836\">read more</a>.</p>\n"},{"tags":[],"owner":{"account_id":9755346,"reputation":7480,"user_id":7232295,"accept_rate":86,"display_name":"Uddhav P. Gautam"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1532120142,"creation_date":1532120142,"answer_id":51450265,"question_id":22397861,"body_markdown":"If `HELLO` is your String then you can&#39;t change `HELLO` to `HILLO`. This property is called immutability property. \r\n\r\nYou can have multiple pointer String variable to point HELLO String. \r\n\r\nBut if HELLO is char Array then you can change HELLO to HILLO. Eg, \r\n\r\n    char[] charArr = &#39;HELLO&#39;;\r\n    char[1] = &#39;I&#39;; //you can do this\r\n\r\n**Answer:** \r\n\r\nProgramming languages have immutable data variables so that it can be used as keys in key, value pair. **String variables are used as keys/indices, so they are immutable**. ","title":"Why is String immutable in Java?","body":"<p>If <code>HELLO</code> is your String then you can't change <code>HELLO</code> to <code>HILLO</code>. This property is called immutability property. </p>\n\n<p>You can have multiple pointer String variable to point HELLO String. </p>\n\n<p>But if HELLO is char Array then you can change HELLO to HILLO. Eg, </p>\n\n<pre><code>char[] charArr = 'HELLO';\nchar[1] = 'I'; //you can do this\n</code></pre>\n\n<p><strong>Answer:</strong> </p>\n\n<p>Programming languages have immutable data variables so that it can be used as keys in key, value pair. <strong>String variables are used as keys/indices, so they are immutable</strong>. </p>\n"},{"tags":[],"owner":{"account_id":167824,"reputation":21098,"user_id":1439305,"accept_rate":81,"display_name":"Audrius Mekauskas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652456291,"creation_date":1652456291,"answer_id":72232140,"question_id":22397861,"body_markdown":"This probably has little to do with security because, very differently, security practices recommend using character arrays for passwords, not strings. This is because an array can be immediately erased when no longer needed. Differently, a string cannot be erased, because it is immutable. It may take long time before it is garbage collected, and even more before the content gets overwritten. \r\n\r\nI think that immutability was chosen to allow sharing the strings and they fragments easily. String assignment, picking a substring becomes a constant time operation, and string comparison largely also, because of the reusable hash codes that are part of the string data structure and can be compared first. \r\n\r\nFrom the other side, if the original string is huge (say large XML document), picking few symbols from there may prevent the whole document from being garbage collected. Because of that later Java versions seemed moved away from this immutability. Modern C++ has both mutable (std::string) and from C++17 also immutable ([std::string_view][1]) versions.\r\n\r\n\r\n  [1]: https://en.cppreference.com/w/cpp/string/basic_string_view","title":"Why is String immutable in Java?","body":"<p>This probably has little to do with security because, very differently, security practices recommend using character arrays for passwords, not strings. This is because an array can be immediately erased when no longer needed. Differently, a string cannot be erased, because it is immutable. It may take long time before it is garbage collected, and even more before the content gets overwritten.</p>\n<p>I think that immutability was chosen to allow sharing the strings and they fragments easily. String assignment, picking a substring becomes a constant time operation, and string comparison largely also, because of the reusable hash codes that are part of the string data structure and can be compared first.</p>\n<p>From the other side, if the original string is huge (say large XML document), picking few symbols from there may prevent the whole document from being garbage collected. Because of that later Java versions seemed moved away from this immutability. Modern C++ has both mutable (std::string) and from C++17 also immutable (<a href=\"https://en.cppreference.com/w/cpp/string/basic_string_view\" rel=\"nofollow noreferrer\">std::string_view</a>) versions.</p>\n"}],"owner":{"account_id":2328177,"reputation":4759,"user_id":3237679,"accept_rate":64,"display_name":"rocking"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248620,"favorite_count":0,"down_vote_count":3,"up_vote_count":227,"answer_count":13,"score":224,"last_activity_date":1688201042,"creation_date":1394779097,"question_id":22397861,"body_markdown":"I was asked in an interview why String is immutable\r\n\r\nI answered like this:\r\n\r\n&gt; When we create a string in Java like `String s1=&quot;hello&quot;;` then an\r\n&gt; object will be created in **string pool(hello)** and **s1** will be\r\n&gt; pointing to **hello**. Now if again we do `String s2=&quot;hello&quot;;` then\r\n&gt; another object will not be created, but **s2** will point to `hello`\r\n&gt; because **JVM** will first check if the same object is present in\r\n&gt; **string pool** or not. If not present, then only a new one is created, else not.\r\n\r\nNow if suppose Java allows string mutable then if we change **s1** to `hello world` then **s2** value will also be `hello world` so the Java String is immutable.\r\n\r\nIs my answer right or wrong?\r\n\r\n\r\n","title":"Why is String immutable in Java?","body":"<p>I was asked in an interview why String is immutable</p>\n<p>I answered like this:</p>\n<blockquote>\n<p>When we create a string in Java like <code>String s1=&quot;hello&quot;;</code> then an\nobject will be created in <strong>string pool(hello)</strong> and <strong>s1</strong> will be\npointing to <strong>hello</strong>. Now if again we do <code>String s2=&quot;hello&quot;;</code> then\nanother object will not be created, but <strong>s2</strong> will point to <code>hello</code>\nbecause <strong>JVM</strong> will first check if the same object is present in\n<strong>string pool</strong> or not. If not present, then only a new one is created, else not.</p>\n</blockquote>\n<p>Now if suppose Java allows string mutable then if we change <strong>s1</strong> to <code>hello world</code> then <strong>s2</strong> value will also be <code>hello world</code> so the Java String is immutable.</p>\n<p>Is my answer right or wrong?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1688175979,"post_id":76591917,"comment_id":135043086,"body_markdown":"Where are you stuck doing this?","body":"Where are you stuck doing this?"}],"answers":[{"tags":[],"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688200889,"creation_date":1688200889,"answer_id":76593871,"question_id":76591917,"body_markdown":"I would love to use [JsonPath](https://github.com/json-path/JsonPath) and filter for something like `$[?(@..id in [7,12])]`, yet this returns too much data. First of all, I would separate the entity from the dto/response, just to be sure to be able to manipulate the objects without changing the data persisted. Then it becomes just a tree traversal: a silly solution is\r\n\r\n    private static Person filter(Person person, Set&lt;Long&gt; ids) {\r\n        if (person == null) {\r\n            return null;\r\n        }\r\n        if (shouldDiscard(person, ids)) {\r\n            return null;\r\n        }\r\n        person.setChildren(\r\n            person.getChildren().stream()\r\n            .map(child -&gt; filter(child, ids))\r\n            .filter(Objects::nonNull)\r\n            .collect(Collectors.toList()));\r\n        return shouldDiscard(person, ids) ? null : person;\r\n    }\r\n\r\n    private static boolean shouldDiscard(Person person, Set&lt;Long&gt; ids) {\r\n        return isEmpty(person.getChildren()) &amp;&amp; !ids.contains(person.getId());\r\n    }\r\n\r\n    private static boolean isEmpty(Collection&lt;?&gt; collection) {\r\n        return collection == null || collection.stream().allMatch(Objects::isNull);\r\n    }","title":"Filter the tree response Java","body":"<p>I would love to use <a href=\"https://github.com/json-path/JsonPath\" rel=\"nofollow noreferrer\">JsonPath</a> and filter for something like <code>$[?(@..id in [7,12])]</code>, yet this returns too much data. First of all, I would separate the entity from the dto/response, just to be sure to be able to manipulate the objects without changing the data persisted. Then it becomes just a tree traversal: a silly solution is</p>\n<pre><code>private static Person filter(Person person, Set&lt;Long&gt; ids) {\n    if (person == null) {\n        return null;\n    }\n    if (shouldDiscard(person, ids)) {\n        return null;\n    }\n    person.setChildren(\n        person.getChildren().stream()\n        .map(child -&gt; filter(child, ids))\n        .filter(Objects::nonNull)\n        .collect(Collectors.toList()));\n    return shouldDiscard(person, ids) ? null : person;\n}\n\nprivate static boolean shouldDiscard(Person person, Set&lt;Long&gt; ids) {\n    return isEmpty(person.getChildren()) &amp;&amp; !ids.contains(person.getId());\n}\n\nprivate static boolean isEmpty(Collection&lt;?&gt; collection) {\n    return collection == null || collection.stream().allMatch(Objects::isNull);\n}\n</code></pre>\n"}],"owner":{"account_id":22566541,"reputation":407,"user_id":16753477,"display_name":"Cleiton Freitas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76593871,"answer_count":1,"score":1,"last_activity_date":1688200889,"creation_date":1688155131,"question_id":76591917,"body_markdown":"I have a `Person` class and an endpoint that generates the response in a tree, and it works. Now I need to add a filter with a list of `id` to create a response in this tree with the parents associated to the `id` of that list, below I show the response without filter and the expected response with the filter. How could I implement this filter?\r\n\r\n**Unfiltered response:**\r\n\r\n    [\r\n        {\r\n            &quot;id&quot;: 1,\r\n            &quot;fullName&quot;: &quot;William&quot;,\r\n            &quot;children&quot;: [\r\n                {\r\n                    &quot;id&quot;: 2,\r\n                    &quot;fullName&quot;: &quot;Henry&quot;,\r\n                    &quot;children&quot;: [\r\n                        {\r\n                            &quot;id&quot;: 3,\r\n                            &quot;fullName&quot;: &quot;Matt&quot;,\r\n                            &quot;children&quot;: [\r\n                                {\r\n                                    &quot;id&quot;: 7,\r\n                                    &quot;fullName&quot;: &quot;Sophi&quot;,\r\n                                    &quot;children&quot;: [],\r\n                                    &quot;rootParentId&quot;: 1\r\n                                }\r\n                            ],\r\n                            &quot;rootParentId&quot;: 1\r\n                        },\r\n                        {\r\n                            &quot;id&quot;: 4,\r\n                            &quot;fullName&quot;: &quot;Alisa&quot;,\r\n                            &quot;children&quot;: [\r\n                                {\r\n                                    &quot;id&quot;: 6,\r\n                                    &quot;fullName&quot;: &quot;Alexa&quot;,\r\n                                    &quot;children&quot;: [],\r\n                                    &quot;rootParentId&quot;: 1\r\n                                }\r\n                            ],\r\n                            &quot;rootParentId&quot;: 1\r\n                        }\r\n                    ],\r\n                    &quot;rootParentId&quot;: 1\r\n                },\r\n                {\r\n                    &quot;id&quot;: 5,\r\n                    &quot;fullName&quot;: &quot;May&quot;,\r\n                    &quot;children&quot;: [],\r\n                    &quot;rootParentId&quot;: 1\r\n                }\r\n            ],\r\n            &quot;rootParentId&quot;: 1\r\n        },\r\n        {\r\n            &quot;id&quot;: 8,\r\n            &quot;fullName&quot;: &quot;Olivia&quot;,\r\n            &quot;children&quot;: [\r\n                {\r\n                    &quot;id&quot;: 9,\r\n                    &quot;fullName&quot;: &quot;John&quot;,\r\n                    &quot;children&quot;: [\r\n                        {\r\n                            &quot;id&quot;: 11,\r\n                            &quot;fullName&quot;: &quot;Oliver&quot;,\r\n                            &quot;children&quot;: [],\r\n                            &quot;rootParentId&quot;: 8\r\n                        },\r\n                        {\r\n                            &quot;id&quot;: 12,\r\n                            &quot;fullName&quot;: &quot;Mia&quot;,\r\n                            &quot;children&quot;: [],\r\n                            &quot;rootParentId&quot;: 8\r\n                        }\r\n                    ],\r\n                    &quot;rootParentId&quot;: 8\r\n                },\r\n                {\r\n                    &quot;id&quot;: 10,\r\n                    &quot;fullName&quot;: &quot;Mary&quot;,\r\n                    &quot;children&quot;: [\r\n                        {\r\n                            &quot;id&quot;: 13,\r\n                            &quot;fullName&quot;: &quot;Evelyn&quot;,\r\n                            &quot;children&quot;: [],\r\n                            &quot;rootParentId&quot;: 8\r\n                        }\r\n                    ],\r\n                    &quot;rootParentId&quot;: 8\r\n                }\r\n            ],\r\n            &quot;rootParentId&quot;: 8\r\n        },\r\n        {\r\n            &quot;id&quot;: 14,\r\n            &quot;fullName&quot;: &quot;Eric&quot;,\r\n            &quot;children&quot;: [],\r\n            &quot;rootParentId&quot;: null\r\n        }\r\n    ]\r\n\r\n**filterList** = [ 7, 12 ]\r\n\r\n**Expected response with filter:**\r\n\r\n    [\r\n        {\r\n            &quot;id&quot;: 1,\r\n            &quot;fullName&quot;: &quot;William&quot;,\r\n            &quot;children&quot;: [\r\n                {\r\n                    &quot;id&quot;: 2,\r\n                    &quot;fullName&quot;: &quot;Henry&quot;,\r\n                    &quot;children&quot;: [\r\n                        {\r\n                            &quot;id&quot;: 3,\r\n                            &quot;fullName&quot;: &quot;Matt&quot;,\r\n                            &quot;children&quot;: [\r\n                                {\r\n                                    &quot;id&quot;: 7,\r\n                                    &quot;fullName&quot;: &quot;Sophi&quot;,\r\n                                    &quot;children&quot;: [],\r\n                                    &quot;rootParentId&quot;: 1\r\n                                }\r\n                            ],\r\n                            &quot;rootParentId&quot;: 1\r\n                        }                    \r\n                    ],\r\n                    &quot;rootParentId&quot;: 1\r\n                }\r\n            ],\r\n            &quot;rootParentId&quot;: 1\r\n        },\r\n        {\r\n            &quot;id&quot;: 8,\r\n            &quot;fullName&quot;: &quot;Olivia&quot;,\r\n            &quot;children&quot;: [\r\n                {\r\n                    &quot;id&quot;: 9,\r\n                    &quot;fullName&quot;: &quot;John&quot;,\r\n                    &quot;children&quot;: [\r\n                        {\r\n                            &quot;id&quot;: 12,\r\n                            &quot;fullName&quot;: &quot;Mia&quot;,\r\n                            &quot;children&quot;: [],\r\n                            &quot;rootParentId&quot;: 8\r\n                        }\r\n                    ],\r\n                    &quot;rootParentId&quot;: 8\r\n                }\r\n            ],\r\n            &quot;rootParentId&quot;: 8\r\n        }\r\n    ]\r\n\r\n**My Classes**\r\n\r\n**Model**\r\n\r\n    @Entity\r\n    @JsonIgnoreProperties({&quot;hibernate_lazy_initializer&quot;, &quot;handler&quot;})\r\n    @EqualsAndHashCode(onlyExplicitlyIncluded = true)\r\n    public class Person {\r\n    \r\n        @Id\r\n        @Getter\r\n        @Setter\r\n        @EqualsAndHashCode.Include\r\n        private Long id;\r\n    \r\n        @Getter\r\n        @Setter\r\n        private String fullName;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @Getter\r\n        @Setter\r\n        @JsonIgnore\r\n        private Person parent;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @Getter\r\n        @Setter\r\n        @JsonIgnore\r\n        private Person rootParent;\r\n    \r\n        @Transient\r\n        @Getter\r\n        @Setter\r\n        public List&lt;Person&gt; children = new ArrayList&lt;&gt;();\r\n    \r\n        public Long getRootParentId() {\r\n            if (parent != null) {\r\n                return parent.getRootParentId();\r\n            } else if (children != null &amp;&amp; !children.isEmpty()) {\r\n                return id;\r\n            } else return null;\r\n        }\r\n    \r\n    }\r\n\r\n**Repository**\r\n\r\n    @Repository\r\n    public interface PersonRepo extends JpaRepository&lt;Person, Long&gt; {\r\n    \r\n        @Query(&quot;SELECT p FROM Person p &quot;\r\n                + &quot; WHERE p.parent.id IS NULL&quot;)\r\n        List&lt;Person&gt; findRoots();\r\n    \r\n        @Query(&quot;SELECT p FROM Person p&quot;\r\n                + &quot; WHERE p.rootParent.id IN :rootIds &quot;)\r\n        List&lt;Person&gt; findChildrenInRoots(@Param(&quot;rootIds&quot;) List&lt;Long&gt; rootIds);\r\n    \r\n    }\r\n\r\n**Controller**\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/v1/person&quot;)\r\n    public class PersonController {\r\n    \r\n        @Autowired\r\n        private PersonRepo personRepo;\r\n        \r\n        @GetMapping(&quot;/tree&quot;)\r\n        @Transactional(readOnly = true)\r\n        public List&lt;Person&gt; getChildren() {\r\n            List&lt;Person&gt; rootCategories = personRepo.findRoots();\r\n    \r\n            List&lt;Long&gt; rootCategoryIds = rootCategories.stream().map(Person::getId).collect(Collectors.toList());\r\n    \r\n            List&lt;Person&gt; children = personRepo.findChildrenInRoots(rootCategoryIds);\r\n    \r\n            children.forEach(subCategory -&gt; {\r\n                subCategory.getParent().getChildren().add(subCategory);\r\n            });\r\n    \r\n            return rootCategories;\r\n        }\r\n    }\r\n\r\n**Data**\r\n\r\n    insert into PERSON values (1,&#39;William&#39;,null, null);\r\n    insert into PERSON values (2,&#39;Henry&#39;,1,1);\r\n    insert into PERSON values (3,&#39;Matt&#39;,2,1);\r\n    insert into PERSON values (4,&#39;Alisa&#39;,2,1);\r\n    insert into PERSON values (5,&#39;May&#39;,1,1);\r\n    insert into PERSON values (6,&#39;Alexa&#39;,4,1);\r\n    insert into PERSON values (7,&#39;Sophi&#39;,3,1);\r\n    insert into PERSON values (8,&#39;Olivia&#39;,null,null);\r\n    insert into PERSON values (9,&#39;John&#39;,8,8);\r\n    insert into PERSON values (10,&#39;Mary&#39;,8,8);\r\n    insert into PERSON values (11,&#39;Oliver&#39;,9,8);\r\n    insert into PERSON values (12,&#39;Mia&#39;,9,8);\r\n    insert into PERSON values (13,&#39;Evelyn&#39;,10,8);\r\n    insert into PERSON values (14,&#39;Eric&#39;,null,null);\r\n\r\nThank&#39;s for your help!","title":"Filter the tree response Java","body":"<p>I have a <code>Person</code> class and an endpoint that generates the response in a tree, and it works. Now I need to add a filter with a list of <code>id</code> to create a response in this tree with the parents associated to the <code>id</code> of that list, below I show the response without filter and the expected response with the filter. How could I implement this filter?</p>\n<p><strong>Unfiltered response:</strong></p>\n<pre><code>[\n    {\n        &quot;id&quot;: 1,\n        &quot;fullName&quot;: &quot;William&quot;,\n        &quot;children&quot;: [\n            {\n                &quot;id&quot;: 2,\n                &quot;fullName&quot;: &quot;Henry&quot;,\n                &quot;children&quot;: [\n                    {\n                        &quot;id&quot;: 3,\n                        &quot;fullName&quot;: &quot;Matt&quot;,\n                        &quot;children&quot;: [\n                            {\n                                &quot;id&quot;: 7,\n                                &quot;fullName&quot;: &quot;Sophi&quot;,\n                                &quot;children&quot;: [],\n                                &quot;rootParentId&quot;: 1\n                            }\n                        ],\n                        &quot;rootParentId&quot;: 1\n                    },\n                    {\n                        &quot;id&quot;: 4,\n                        &quot;fullName&quot;: &quot;Alisa&quot;,\n                        &quot;children&quot;: [\n                            {\n                                &quot;id&quot;: 6,\n                                &quot;fullName&quot;: &quot;Alexa&quot;,\n                                &quot;children&quot;: [],\n                                &quot;rootParentId&quot;: 1\n                            }\n                        ],\n                        &quot;rootParentId&quot;: 1\n                    }\n                ],\n                &quot;rootParentId&quot;: 1\n            },\n            {\n                &quot;id&quot;: 5,\n                &quot;fullName&quot;: &quot;May&quot;,\n                &quot;children&quot;: [],\n                &quot;rootParentId&quot;: 1\n            }\n        ],\n        &quot;rootParentId&quot;: 1\n    },\n    {\n        &quot;id&quot;: 8,\n        &quot;fullName&quot;: &quot;Olivia&quot;,\n        &quot;children&quot;: [\n            {\n                &quot;id&quot;: 9,\n                &quot;fullName&quot;: &quot;John&quot;,\n                &quot;children&quot;: [\n                    {\n                        &quot;id&quot;: 11,\n                        &quot;fullName&quot;: &quot;Oliver&quot;,\n                        &quot;children&quot;: [],\n                        &quot;rootParentId&quot;: 8\n                    },\n                    {\n                        &quot;id&quot;: 12,\n                        &quot;fullName&quot;: &quot;Mia&quot;,\n                        &quot;children&quot;: [],\n                        &quot;rootParentId&quot;: 8\n                    }\n                ],\n                &quot;rootParentId&quot;: 8\n            },\n            {\n                &quot;id&quot;: 10,\n                &quot;fullName&quot;: &quot;Mary&quot;,\n                &quot;children&quot;: [\n                    {\n                        &quot;id&quot;: 13,\n                        &quot;fullName&quot;: &quot;Evelyn&quot;,\n                        &quot;children&quot;: [],\n                        &quot;rootParentId&quot;: 8\n                    }\n                ],\n                &quot;rootParentId&quot;: 8\n            }\n        ],\n        &quot;rootParentId&quot;: 8\n    },\n    {\n        &quot;id&quot;: 14,\n        &quot;fullName&quot;: &quot;Eric&quot;,\n        &quot;children&quot;: [],\n        &quot;rootParentId&quot;: null\n    }\n]\n</code></pre>\n<p><strong>filterList</strong> = [ 7, 12 ]</p>\n<p><strong>Expected response with filter:</strong></p>\n<pre><code>[\n    {\n        &quot;id&quot;: 1,\n        &quot;fullName&quot;: &quot;William&quot;,\n        &quot;children&quot;: [\n            {\n                &quot;id&quot;: 2,\n                &quot;fullName&quot;: &quot;Henry&quot;,\n                &quot;children&quot;: [\n                    {\n                        &quot;id&quot;: 3,\n                        &quot;fullName&quot;: &quot;Matt&quot;,\n                        &quot;children&quot;: [\n                            {\n                                &quot;id&quot;: 7,\n                                &quot;fullName&quot;: &quot;Sophi&quot;,\n                                &quot;children&quot;: [],\n                                &quot;rootParentId&quot;: 1\n                            }\n                        ],\n                        &quot;rootParentId&quot;: 1\n                    }                    \n                ],\n                &quot;rootParentId&quot;: 1\n            }\n        ],\n        &quot;rootParentId&quot;: 1\n    },\n    {\n        &quot;id&quot;: 8,\n        &quot;fullName&quot;: &quot;Olivia&quot;,\n        &quot;children&quot;: [\n            {\n                &quot;id&quot;: 9,\n                &quot;fullName&quot;: &quot;John&quot;,\n                &quot;children&quot;: [\n                    {\n                        &quot;id&quot;: 12,\n                        &quot;fullName&quot;: &quot;Mia&quot;,\n                        &quot;children&quot;: [],\n                        &quot;rootParentId&quot;: 8\n                    }\n                ],\n                &quot;rootParentId&quot;: 8\n            }\n        ],\n        &quot;rootParentId&quot;: 8\n    }\n]\n</code></pre>\n<p><strong>My Classes</strong></p>\n<p><strong>Model</strong></p>\n<pre><code>@Entity\n@JsonIgnoreProperties({&quot;hibernate_lazy_initializer&quot;, &quot;handler&quot;})\n@EqualsAndHashCode(onlyExplicitlyIncluded = true)\npublic class Person {\n\n    @Id\n    @Getter\n    @Setter\n    @EqualsAndHashCode.Include\n    private Long id;\n\n    @Getter\n    @Setter\n    private String fullName;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @Getter\n    @Setter\n    @JsonIgnore\n    private Person parent;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @Getter\n    @Setter\n    @JsonIgnore\n    private Person rootParent;\n\n    @Transient\n    @Getter\n    @Setter\n    public List&lt;Person&gt; children = new ArrayList&lt;&gt;();\n\n    public Long getRootParentId() {\n        if (parent != null) {\n            return parent.getRootParentId();\n        } else if (children != null &amp;&amp; !children.isEmpty()) {\n            return id;\n        } else return null;\n    }\n\n}\n</code></pre>\n<p><strong>Repository</strong></p>\n<pre><code>@Repository\npublic interface PersonRepo extends JpaRepository&lt;Person, Long&gt; {\n\n    @Query(&quot;SELECT p FROM Person p &quot;\n            + &quot; WHERE p.parent.id IS NULL&quot;)\n    List&lt;Person&gt; findRoots();\n\n    @Query(&quot;SELECT p FROM Person p&quot;\n            + &quot; WHERE p.rootParent.id IN :rootIds &quot;)\n    List&lt;Person&gt; findChildrenInRoots(@Param(&quot;rootIds&quot;) List&lt;Long&gt; rootIds);\n\n}\n</code></pre>\n<p><strong>Controller</strong></p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/v1/person&quot;)\npublic class PersonController {\n\n    @Autowired\n    private PersonRepo personRepo;\n    \n    @GetMapping(&quot;/tree&quot;)\n    @Transactional(readOnly = true)\n    public List&lt;Person&gt; getChildren() {\n        List&lt;Person&gt; rootCategories = personRepo.findRoots();\n\n        List&lt;Long&gt; rootCategoryIds = rootCategories.stream().map(Person::getId).collect(Collectors.toList());\n\n        List&lt;Person&gt; children = personRepo.findChildrenInRoots(rootCategoryIds);\n\n        children.forEach(subCategory -&gt; {\n            subCategory.getParent().getChildren().add(subCategory);\n        });\n\n        return rootCategories;\n    }\n}\n</code></pre>\n<p><strong>Data</strong></p>\n<pre><code>insert into PERSON values (1,'William',null, null);\ninsert into PERSON values (2,'Henry',1,1);\ninsert into PERSON values (3,'Matt',2,1);\ninsert into PERSON values (4,'Alisa',2,1);\ninsert into PERSON values (5,'May',1,1);\ninsert into PERSON values (6,'Alexa',4,1);\ninsert into PERSON values (7,'Sophi',3,1);\ninsert into PERSON values (8,'Olivia',null,null);\ninsert into PERSON values (9,'John',8,8);\ninsert into PERSON values (10,'Mary',8,8);\ninsert into PERSON values (11,'Oliver',9,8);\ninsert into PERSON values (12,'Mia',9,8);\ninsert into PERSON values (13,'Evelyn',10,8);\ninsert into PERSON values (14,'Eric',null,null);\n</code></pre>\n<p>Thank's for your help!</p>\n"},{"tags":["java","arrays","exception"],"answers":[{"tags":[],"owner":{"account_id":5048364,"reputation":27671,"user_id":4053652,"display_name":"Stanislav"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1444197430,"creation_date":1444189283,"answer_id":32983425,"question_id":32983399,"body_markdown":"When you call the `String#getBytes`method you get a new array, initialized with the length equals to the number of bytes needed to represent the string. Due to [Java docs][1]:\r\n\r\n&gt;Encodes this String into a sequence of bytes using the given charset, storing the result into a new byte array.\r\n\r\n\r\nIn your case it&#39;s length equals to length the string (13 bytes) and it&#39;s less then 30 anyway. That is the reason you get this exception, while trying to get the 30th element.\r\n\r\nIf you need to initialize your buffer variable with an array you become from string, you need to use [System#arraycopy][2] method:\r\n\r\n    byte[] byteAr = s.getBytes();\r\n    System.arraycopy(byteAr, 0, buffer, 0, byteAr.length);\r\n\r\nIf you wish to know, what are values used to initialize an array by default, so it&#39;s a default velues for datatype your array consist of. In case of bytes, the default value is 0.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#getBytes()\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#arraycopy(java.lang.Object,%20int,%20java.lang.Object,%20int,%20int)","title":"Array index out of bound exception java","body":"<p>When you call the <code>String#getBytes</code>method you get a new array, initialized with the length equals to the number of bytes needed to represent the string. Due to <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#getBytes()\" rel=\"nofollow\">Java docs</a>:</p>\n\n<blockquote>\n  <p>Encodes this String into a sequence of bytes using the given charset, storing the result into a new byte array.</p>\n</blockquote>\n\n<p>In your case it's length equals to length the string (13 bytes) and it's less then 30 anyway. That is the reason you get this exception, while trying to get the 30th element.</p>\n\n<p>If you need to initialize your buffer variable with an array you become from string, you need to use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#arraycopy(java.lang.Object,%20int,%20java.lang.Object,%20int,%20int)\" rel=\"nofollow\">System#arraycopy</a> method:</p>\n\n<pre><code>byte[] byteAr = s.getBytes();\nSystem.arraycopy(byteAr, 0, buffer, 0, byteAr.length);\n</code></pre>\n\n<p>If you wish to know, what are values used to initialize an array by default, so it's a default velues for datatype your array consist of. In case of bytes, the default value is 0.</p>\n"},{"tags":[],"owner":{"account_id":788777,"reputation":28977,"user_id":857132,"accept_rate":69,"display_name":"John3136"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1444189326,"creation_date":1444189326,"answer_id":32983428,"question_id":32983399,"body_markdown":"Because `buffer=s.getBytes();` doesn&#39;t use the array you just allocated. It makes `buffer` reference a completely new array which in your example won&#39;t have 30 members.\r\n","title":"Array index out of bound exception java","body":"<p>Because <code>buffer=s.getBytes();</code> doesn't use the array you just allocated. It makes <code>buffer</code> reference a completely new array which in your example won't have 30 members.</p>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1444189335,"creation_date":1444189335,"answer_id":32983429,"question_id":32983399,"body_markdown":"The `buffer` you allocate is no longer reachable when you reassign the reference. I think you wanted to use [`System.arraycopy(Object src, int srcPos, Object dest, int destPos, int length)`](http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#arraycopy%28java.lang.Object,%20int,%20java.lang.Object,%20int,%20int%29) like\r\n\r\n    byte[] buffer=new byte[1000];\r\n    String s=&quot;i am a stupid&quot;;\r\n    byte[] bytes=s.getBytes();\r\n    System.arraycopy(bytes, 0, buffer, 0, bytes.length);\r\n\r\nNote that `buffer[30]` will default to a value of `0`.","title":"Array index out of bound exception java","body":"<p>The <code>buffer</code> you allocate is no longer reachable when you reassign the reference. I think you wanted to use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#arraycopy%28java.lang.Object,%20int,%20java.lang.Object,%20int,%20int%29\" rel=\"nofollow\"><code>System.arraycopy(Object src, int srcPos, Object dest, int destPos, int length)</code></a> like</p>\n\n<pre><code>byte[] buffer=new byte[1000];\nString s=\"i am a stupid\";\nbyte[] bytes=s.getBytes();\nSystem.arraycopy(bytes, 0, buffer, 0, bytes.length);\n</code></pre>\n\n<p>Note that <code>buffer[30]</code> will default to a value of <code>0</code>.</p>\n"}],"owner":{"account_id":7017219,"reputation":73,"user_id":5378121,"accept_rate":50,"display_name":"Vishal S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2112,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":32983425,"answer_count":3,"score":2,"last_activity_date":1688200278,"creation_date":1444189070,"question_id":32983399,"body_markdown":"The following code throws array index out of bound exception. I have initialized a size of 1000 yet not fully utilized. What exactly are the values of unused indices?\r\n\r\n   \r\n\r\n \r\n\r\n    byte[] buffer=new byte[1000];\r\n         String s=&quot;i am a stupid&quot;;\r\n         buffer=s.getBytes();\r\n         \r\n         System.out.println(buffer[30]);\r\n         ","title":"Array index out of bound exception java","body":"<p>The following code throws array index out of bound exception. I have initialized a size of 1000 yet not fully utilized. What exactly are the values of unused indices?</p>\n\n<pre><code>byte[] buffer=new byte[1000];\n     String s=\"i am a stupid\";\n     buffer=s.getBytes();\n\n     System.out.println(buffer[30]);\n</code></pre>\n"},{"tags":["java","scenebuilder"],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1449516881,"creation_date":1449516881,"answer_id":34141691,"question_id":34140126,"body_markdown":"SceneBuilder is not (and never was) part of the Oracle JavaFX distribution that is embedded in the Oracle Java 8 JRE/JDK binaries.  SceneBuilder is a separate download.  Oracle no longer provide binary distributions of SceneBuilder.  See: https://stackoverflow.com/questions/28880785/where-is-the-javafx-scene-builder-gone\r\n\r\nBinary SceneBuilder distributions are currently provided by Gluon and may be [downloaded from the Gluon site][1].  Gluon provide a .deb package, which is the package that you would use to install SceneBuilder on Ubuntu.  By examining the installed files of the .deb Gluon SceneBuilder distribution, you should be able to determine the location of the binary file for SceneBuilder for that distribution.\r\n\r\n  [1]: http://gluonhq.com/open-source/scene-builder/","title":"Scenebuiler for Ubuntu: where can I find the bin?","body":"<p>SceneBuilder is not (and never was) part of the Oracle JavaFX distribution that is embedded in the Oracle Java 8 JRE/JDK binaries.  SceneBuilder is a separate download.  Oracle no longer provide binary distributions of SceneBuilder.  See: <a href=\"https://stackoverflow.com/questions/28880785/where-is-the-javafx-scene-builder-gone\">Where has the JavaFX scene builder gone?</a></p>\n\n<p>Binary SceneBuilder distributions are currently provided by Gluon and may be <a href=\"http://gluonhq.com/open-source/scene-builder/\" rel=\"nofollow noreferrer\">downloaded from the Gluon site</a>.  Gluon provide a .deb package, which is the package that you would use to install SceneBuilder on Ubuntu.  By examining the installed files of the .deb Gluon SceneBuilder distribution, you should be able to determine the location of the binary file for SceneBuilder for that distribution.</p>\n"},{"tags":[],"owner":{"account_id":10601721,"reputation":345,"user_id":7808477,"display_name":"jmarina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688199794,"creation_date":1688199794,"answer_id":76593819,"question_id":34140126,"body_markdown":"if you are on ubuntu, look for the installed SceneBuilder binary here:\r\n\r\n    /opt/scenebuilder/bin\r\n\r\nnote that to configure it in intellij you need to specify the path and the name of the executable included, like so:\r\n\r\n    /opt/scenebuilder/bin/SceneBuilder\r\n","title":"Scenebuiler for Ubuntu: where can I find the bin?","body":"<p>if you are on ubuntu, look for the installed SceneBuilder binary here:</p>\n<pre><code>/opt/scenebuilder/bin\n</code></pre>\n<p>note that to configure it in intellij you need to specify the path and the name of the executable included, like so:</p>\n<pre><code>/opt/scenebuilder/bin/SceneBuilder\n</code></pre>\n"}],"owner":{"account_id":90426,"reputation":31165,"user_id":248959,"accept_rate":61,"display_name":"tirenweb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688199794,"creation_date":1449511156,"question_id":34140126,"body_markdown":"I&#39;m following this [tutorial][1]. In it, you can find this sentence:\r\n\r\n&gt; Navigate to the JavaFX preferences. Specify the path to your Scene\r\n&gt; Builder executable.\r\n\r\nand this picture:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nMy question is: where can I find that file after installing JavaFX for Ubuntu?\r\n\r\n\r\n  [1]: http://code.makery.ch/library/javafx-8-tutorial/part1/\r\n  [2]: http://i.stack.imgur.com/zt72W.png","title":"Scenebuiler for Ubuntu: where can I find the bin?","body":"<p>I'm following this <a href=\"http://code.makery.ch/library/javafx-8-tutorial/part1/\" rel=\"nofollow noreferrer\">tutorial</a>. In it, you can find this sentence:</p>\n\n<blockquote>\n  <p>Navigate to the JavaFX preferences. Specify the path to your Scene\n  Builder executable.</p>\n</blockquote>\n\n<p>and this picture:</p>\n\n<p><a href=\"https://i.stack.imgur.com/zt72W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zt72W.png\" alt=\"enter image description here\"></a></p>\n\n<p>My question is: where can I find that file after installing JavaFX for Ubuntu?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1688185502,"post_id":76593158,"comment_id":135043546,"body_markdown":"If you want to call `generateCommand` multiple times, why does it have a `@Bean` annotation?","body":"If you want to call <code>generateCommand</code> multiple times, why does it have a <code>@Bean</code> annotation?"}],"answers":[{"tags":[],"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688198982,"creation_date":1688198982,"answer_id":76593774,"question_id":76593158,"body_markdown":"Your example looks strange, as @tgdavies noticed. Depends on what you mean with &quot;should dynamically return the inheritors of abstract class&quot;: as it is, it looks like that `CommandGenerator` should be &quot;the&quot; bean (as is correctly annotated), and the method `generateCommand` to generate/retrieve the `Command` should be called while performing business logic. If you want to generate just a `Command` bean (in a certain [scope](https://www.baeldung.com/spring-bean-scopes)) from configuration or other parameters, then there are (at least) two ways:\r\n\r\n* one is to use a [`@Value`](https://www.baeldung.com/spring-value-annotation) to read the string from somewhere (not just configuration);\r\n* another similar idea, but that I like more (as it is easier to not use field injection) is to use [`@ConfigurationalProperties`](https://www.baeldung.com/configuration-properties-in-spring-boot) and change the bean signature to use the object which encapsulates the string you need.\r\n\r\nYet, I would put the bean definition in a `@Configuration` annotated class, not a `@Service` one:\r\n\r\n    @Configuration\r\n    public class CommandConfiguration {\r\n\r\n      //other bean definitions\r\n    \r\n      @Bean\r\n      public Command command(CommandGenerator generator, String message) {\r\n        return generator.generateCommand(message);\r\n      }\r\n\r\n    }","title":"Using string variable as function parameter in @Bean method","body":"<p>Your example looks strange, as @tgdavies noticed. Depends on what you mean with &quot;should dynamically return the inheritors of abstract class&quot;: as it is, it looks like that <code>CommandGenerator</code> should be &quot;the&quot; bean (as is correctly annotated), and the method <code>generateCommand</code> to generate/retrieve the <code>Command</code> should be called while performing business logic. If you want to generate just a <code>Command</code> bean (in a certain <a href=\"https://www.baeldung.com/spring-bean-scopes\" rel=\"nofollow noreferrer\">scope</a>) from configuration or other parameters, then there are (at least) two ways:</p>\n<ul>\n<li>one is to use a <a href=\"https://www.baeldung.com/spring-value-annotation\" rel=\"nofollow noreferrer\"><code>@Value</code></a> to read the string from somewhere (not just configuration);</li>\n<li>another similar idea, but that I like more (as it is easier to not use field injection) is to use <a href=\"https://www.baeldung.com/configuration-properties-in-spring-boot\" rel=\"nofollow noreferrer\"><code>@ConfigurationalProperties</code></a> and change the bean signature to use the object which encapsulates the string you need.</li>\n</ul>\n<p>Yet, I would put the bean definition in a <code>@Configuration</code> annotated class, not a <code>@Service</code> one:</p>\n<pre><code>@Configuration\npublic class CommandConfiguration {\n\n  //other bean definitions\n\n  @Bean\n  public Command command(CommandGenerator generator, String message) {\n    return generator.generateCommand(message);\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":19863126,"reputation":21,"user_id":14551078,"display_name":"Kirikllz909"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":76593774,"answer_count":1,"score":0,"last_activity_date":1688198982,"creation_date":1688182317,"question_id":76593158,"body_markdown":"So I have class CommandGenerator that should dynamically return the inheritors of abstract class command depending on the received String msg. How can I do this? At the moment there is such a code that gives an error:\r\n\r\n    Consider defining a bean of type &#39;java.lang.String&#39; in your configuration.\r\n\r\n```\r\n@Service\r\npublic class CommandGenerator&lt;T extends Command&gt; {\r\n\r\n    @Autowired\r\n    List&lt;CommandFactory&lt;T&gt;&gt; commandFactories;\r\n    private List&lt;T&gt; commands;\r\n\r\n    @Bean\r\n    public T generateCommand(String msg) {\r\n        // Some code\r\n    }\r\n}\r\n```","title":"Using string variable as function parameter in @Bean method","body":"<p>So I have class CommandGenerator that should dynamically return the inheritors of abstract class command depending on the received String msg. How can I do this? At the moment there is such a code that gives an error:</p>\n<pre><code>Consider defining a bean of type 'java.lang.String' in your configuration.\n</code></pre>\n<pre><code>@Service\npublic class CommandGenerator&lt;T extends Command&gt; {\n\n    @Autowired\n    List&lt;CommandFactory&lt;T&gt;&gt; commandFactories;\n    private List&lt;T&gt; commands;\n\n    @Bean\n    public T generateCommand(String msg) {\n        // Some code\n    }\n}\n</code></pre>\n"},{"tags":["java","chargebee"],"answers":[{"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688130828,"creation_date":1688130828,"answer_id":76589258,"question_id":76589163,"body_markdown":"The `replaceItemsList(true)` method will indeed replace the existing list of items in the subscription, but you&#39;re missing a step to add the new list of items to the subscription update request:\r\n\r\n```java\r\npublic void removeAddon(Subscription subscription, String itemPriceId) {\r\n    try {\r\n        List&lt;Subscription.SubscriptionItem&gt; items = subscription.subscriptionItems();\r\n\r\n        Subscription.SubscriptionItem item = subscription.subscriptionItems()\r\n                        .stream()\r\n                        .filter(current -&gt; current.itemPriceId().equals(itemPriceId))\r\n                        .toList().get(0);\r\n\r\n        items.remove(item);\r\n\r\n        Subscription.UpdateForItemsRequest updateRequest = Subscription.updateForItems(subscription.id())\r\n                .replaceItemsList(true)\r\n                .endOfTerm(false);\r\n        \r\n        for (Subscription.SubscriptionItem updatedItem : items) {\r\n            updateRequest = updateRequest.subscriptionItemPriceId(updatedItem.itemPriceId());\r\n        }\r\n\r\n        updateRequest.request();\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```","title":"How to replace a list of items in a subscription in chargebee","body":"<p>The <code>replaceItemsList(true)</code> method will indeed replace the existing list of items in the subscription, but you're missing a step to add the new list of items to the subscription update request:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void removeAddon(Subscription subscription, String itemPriceId) {\n    try {\n        List&lt;Subscription.SubscriptionItem&gt; items = subscription.subscriptionItems();\n\n        Subscription.SubscriptionItem item = subscription.subscriptionItems()\n                        .stream()\n                        .filter(current -&gt; current.itemPriceId().equals(itemPriceId))\n                        .toList().get(0);\n\n        items.remove(item);\n\n        Subscription.UpdateForItemsRequest updateRequest = Subscription.updateForItems(subscription.id())\n                .replaceItemsList(true)\n                .endOfTerm(false);\n        \n        for (Subscription.SubscriptionItem updatedItem : items) {\n            updateRequest = updateRequest.subscriptionItemPriceId(updatedItem.itemPriceId());\n        }\n\n        updateRequest.request();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24061328,"reputation":13,"user_id":18038530,"display_name":"torva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688198406,"creation_date":1688198406,"answer_id":76593750,"question_id":76589163,"body_markdown":"Thank you for your response! This almost solved it. However a few mistakes I did. The &quot;item&quot; is a copy of one of the items in the list, so it does not have the same referance, so it does not get removed. I used \r\n`items.removeIf(item -&gt; item.itemPriceId().equals(itemPriceId));` \r\ninstead.\r\n\r\nIn your for loop you forgot a few steps as well, the subscriptionItemItemPriceId expects a index, and you need to provide the quantity. This was not hard to solve tho. ","title":"How to replace a list of items in a subscription in chargebee","body":"<p>Thank you for your response! This almost solved it. However a few mistakes I did. The &quot;item&quot; is a copy of one of the items in the list, so it does not have the same referance, so it does not get removed. I used\n<code>items.removeIf(item -&gt; item.itemPriceId().equals(itemPriceId));</code>\ninstead.</p>\n<p>In your for loop you forgot a few steps as well, the subscriptionItemItemPriceId expects a index, and you need to provide the quantity. This was not hard to solve tho.</p>\n"}],"owner":{"account_id":24061328,"reputation":13,"user_id":18038530,"display_name":"torva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76589258,"answer_count":2,"score":0,"last_activity_date":1688198653,"creation_date":1688129970,"question_id":76589163,"body_markdown":"I have an issue where we need to be able to replace a list of items, with an new list where one item given as parameter is removed. (As far as I understand is this the only way to remove a item from an subscription with the product catalog 2.0.\r\n\r\n```\r\npublic void removeAddon(Subscription subscription, String itemPriceId){\r\n        try{\r\n            List&lt;Subscription.SubscriptionItem&gt; items = subscription.subscriptionItems();\r\n\r\n            items.removeIf(item -&gt; item.itemPriceId().equals(itemPriceId));\r\n\r\n            Subscription.UpdateForItemsRequest request = Subscription.updateForItems(subscription.id())\r\n                    .replaceItemsList(true)\r\n                    .endOfTerm(false);\r\n            int index = 0;\r\n            for(Subscription.SubscriptionItem updatedItem : items){\r\n                request = request\r\n                        .subscriptionItemItemPriceId(index, updatedItem.itemPriceId())\r\n                        .subscriptionItemQuantity(index, updatedItem.quantity());\r\n                index++;\r\n            }\r\n            request.request();\r\n        }catch (Exception e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\nThere should somehow be a way to replace the old list of items with the new one given the replaceItemsList method that they provide. But so far I have not been able to find any. The documentation simply says:\r\n\r\n&gt; &quot;replaceItemsList(val) optional, boolean  \r\nIf **`true`** then the existing **`subscription_items`** list for the subscription is replaced by the one provided. If **`false`** then the provided **`subscription_items`** list gets added to the existing list.&quot; But nothing about how and where the list should be provided.\r\n\r\nEDIT: Issue Resolved\r\n\r\n","title":"How to replace a list of items in a subscription in chargebee","body":"<p>I have an issue where we need to be able to replace a list of items, with an new list where one item given as parameter is removed. (As far as I understand is this the only way to remove a item from an subscription with the product catalog 2.0.</p>\n<pre><code>public void removeAddon(Subscription subscription, String itemPriceId){\n        try{\n            List&lt;Subscription.SubscriptionItem&gt; items = subscription.subscriptionItems();\n\n            items.removeIf(item -&gt; item.itemPriceId().equals(itemPriceId));\n\n            Subscription.UpdateForItemsRequest request = Subscription.updateForItems(subscription.id())\n                    .replaceItemsList(true)\n                    .endOfTerm(false);\n            int index = 0;\n            for(Subscription.SubscriptionItem updatedItem : items){\n                request = request\n                        .subscriptionItemItemPriceId(index, updatedItem.itemPriceId())\n                        .subscriptionItemQuantity(index, updatedItem.quantity());\n                index++;\n            }\n            request.request();\n        }catch (Exception e){\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>There should somehow be a way to replace the old list of items with the new one given the replaceItemsList method that they provide. But so far I have not been able to find any. The documentation simply says:</p>\n<blockquote>\n<p>&quot;replaceItemsList(val) optional, boolean<br />\nIf <strong><code>true</code></strong> then the existing <strong><code>subscription_items</code></strong> list for the subscription is replaced by the one provided. If <strong><code>false</code></strong> then the provided <strong><code>subscription_items</code></strong> list gets added to the existing list.&quot; But nothing about how and where the list should be provided.</p>\n</blockquote>\n<p>EDIT: Issue Resolved</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1688197094,"post_id":76593693,"comment_id":135044295,"body_markdown":"`col.set(i,col.get(i-1))` is copy one element *which is an array reference* to another. You then have two elements which refer to the same array. However you modify that array, you&#39;ll see the change whether you get to it via one element or the other. It&#39;s not clear why you&#39;ve got that loop in the first place, to be honest.","body":"<code>col.set(i,col.get(i-1))</code> is copy one element <i>which is an array reference</i> to another. You then have two elements which refer to the same array. However you modify that array, you&#39;ll see the change whether you get to it via one element or the other. It&#39;s not clear why you&#39;ve got that loop in the first place, to be honest."},{"owner":{"account_id":28929212,"reputation":1,"user_id":22158324,"display_name":"Lipe"},"score":0,"creation_date":1688197485,"post_id":76593693,"comment_id":135044326,"body_markdown":"Can I replace the element and dont copy?","body":"Can I replace the element and dont copy?"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1688197966,"post_id":76593693,"comment_id":135044362,"body_markdown":"I don&#39;t know what you mean. It doesn&#39;t help that you haven&#39;t explained what you&#39;re trying to achieve. But it&#39;s really important that you understand how reference types work in Java, and that a `List` in Java *always* contains references.","body":"I don&#39;t know what you mean. It doesn&#39;t help that you haven&#39;t explained what you&#39;re trying to achieve. But it&#39;s really important that you understand how reference types work in Java, and that a <code>List</code> in Java <i>always</i> contains references."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688198518,"post_id":76593693,"comment_id":135044414,"body_markdown":"You can *not* call `List.set`, and instead do `col.get(i)[0] = col.get(i-1)[0]; col.get(i)[1] = col.get(i-1)[1];` But it isn&#39;t clear from your question what you want to do.","body":"You can <i>not</i> call <code>List.set</code>, and instead do <code>col.get(i)[0] = col.get(i-1)[0]; col.get(i)[1] = col.get(i-1)[1];</code> But it isn&#39;t clear from your question what you want to do."}],"owner":{"account_id":28929212,"reputation":1,"user_id":22158324,"display_name":"Lipe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688196908,"creation_date":1688196908,"question_id":76593693,"body_markdown":"I replace elements of Arraylist by using this code:\r\n\r\n```\r\n    public static void main(String[] args) {\r\n        List&lt;int[]&gt; col = new ArrayList&lt;&gt;(List.of(new int[]{11, 122}, new int[]{92, 324}, new int[]{24, 56}));\r\n        for (int i = col.size() - 1; i != 0; i--) {\r\n            col.set(i,col.get(i-1));\r\n        }\r\n        col.get(0)[0] -= 32;\r\n    }\r\n```\r\n\r\nI want to print new elements of Arraylist, but I got {[-21, 122],[-21, 122],[92, 324]}. I want to print {[-21, 122],[11, 122],[92, 324]}. How can I do this?\r\n","title":"When I edit first element in Arraylist, second edit too","body":"<p>I replace elements of Arraylist by using this code:</p>\n<pre><code>    public static void main(String[] args) {\n        List&lt;int[]&gt; col = new ArrayList&lt;&gt;(List.of(new int[]{11, 122}, new int[]{92, 324}, new int[]{24, 56}));\n        for (int i = col.size() - 1; i != 0; i--) {\n            col.set(i,col.get(i-1));\n        }\n        col.get(0)[0] -= 32;\n    }\n</code></pre>\n<p>I want to print new elements of Arraylist, but I got {[-21, 122],[-21, 122],[92, 324]}. I want to print {[-21, 122],[11, 122],[92, 324]}. How can I do this?</p>\n"},{"tags":["java","logging","log4j2","logback","java-service-wrapper"],"owner":{"account_id":3650018,"reputation":565,"user_id":3042420,"accept_rate":39,"display_name":"Arun Rahul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1688196529,"creation_date":1688196022,"question_id":76593659,"body_markdown":"We have one J2EE service deployed as service using JSW (Tanuki Software). Here is my logging configuration\r\n```\r\nwrapper.console.format=LPTM\r\nwrapper.console.loglevel=INFO\r\nwrapper.console.flush=TRUE\r\n```\r\n\r\nWhen ever we log exception stack traces, they are being split into multiple log events which is very annoying to debug. Log looks as follows\r\n\r\nSimple log statement\r\n\r\n`log.error(&quot;error happened during authorization check&quot;, e)`\r\n\r\n**e** represents exception in above log\r\n\r\n```\r\nINFO   | jvm 2    | 2023/07/01 12:09:46 | Caused by: java.lang.reflect.InvocationTargetException: null\r\nINFO   | jvm 2    | 2023/07/01 12:09:46 | \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\nINFO   | jvm 2    | 2023/07/01 12:09:46 | \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\nINFO   | jvm 2    | 2023/07/01 12:09:46 | \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nINFO   | jvm 2    | 2023/07/01 12:09:46 | \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n```\r\n\r\nI tried with JUL, Log4j2, Logback and the issue remains. I think it is issue with wrapper itself.\r\n\r\nHas anyone ever faced it? \r\nIs there a config or setting that can stop splitting the exception stack trace into multiple lines.\r\n\r\nThanks\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Java Service Wrapper exception stack trace is split into multiple log events","body":"<p>We have one J2EE service deployed as service using JSW (Tanuki Software). Here is my logging configuration</p>\n<pre><code>wrapper.console.format=LPTM\nwrapper.console.loglevel=INFO\nwrapper.console.flush=TRUE\n</code></pre>\n<p>When ever we log exception stack traces, they are being split into multiple log events which is very annoying to debug. Log looks as follows</p>\n<p>Simple log statement</p>\n<p><code>log.error(&quot;error happened during authorization check&quot;, e)</code></p>\n<p><strong>e</strong> represents exception in above log</p>\n<pre><code>INFO   | jvm 2    | 2023/07/01 12:09:46 | Caused by: java.lang.reflect.InvocationTargetException: null\nINFO   | jvm 2    | 2023/07/01 12:09:46 |   at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nINFO   | jvm 2    | 2023/07/01 12:09:46 |   at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nINFO   | jvm 2    | 2023/07/01 12:09:46 |   at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nINFO   | jvm 2    | 2023/07/01 12:09:46 |   at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n</code></pre>\n<p>I tried with JUL, Log4j2, Logback and the issue remains. I think it is issue with wrapper itself.</p>\n<p>Has anyone ever faced it?\nIs there a config or setting that can stop splitting the exception stack trace into multiple lines.</p>\n<p>Thanks</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688194934,"creation_date":1688194934,"answer_id":76593608,"question_id":76593561,"body_markdown":"The first code that loads from the database that I see is\r\n```\r\nprivate void initAsciiArts_Art() {\r\n  DatabaseReference databaseRef = FirebaseDatabase.getInstance().getReference().child(&quot;art&quot;);\r\n  databaseRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n    public void onDataChange(@NotNull DataSnapshot dataSnapshot) {\r\n      for (DataSnapshot artSnapshot : dataSnapshot.getChildren()) {\r\n        String asciiArt = (String) artSnapshot.getValue();\r\n        asciiArts.add(asciiArt);\r\n      }\r\n    }\r\n    ...\r\n```\r\nAnd that loads this data:\r\n```\r\n&quot;art&quot;: [\r\n  {\r\n    &quot;MrIncredibleArt&quot;: &quot;stringexample4&quot;\r\n  },\r\n  {\r\n    &quot;GhostFace&quot;: &quot;stringexample5&quot;\r\n  },\r\n  ...\r\n],\r\n```\r\n\r\nNow that the elements in the `art` array are **objects** here, not simple values. So the `artSnapshot.getValue()` is also an object, not a simple string. To get the key/value pair(s) in that object, you need to loop over its children again:\r\n\r\n```\r\nprivate void initAsciiArts_Art() {\r\n  DatabaseReference databaseRef = FirebaseDatabase.getInstance().getReference().child(&quot;art&quot;);\r\n  databaseRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n    public void onDataChange(@NotNull DataSnapshot dataSnapshot) {\r\n      for (DataSnapshot artSnapshot : dataSnapshot.getChildren()) {\r\n        for (DataSnapshot kvpSnapshot : artSnapshot.getChildren()) {\r\n          String key = kvpSnapshot.getKey();\r\n          String value = kvpSnapshot.getValue(String.class);\r\n          Log.i(&quot;Firebase&quot;, key+&quot;: &#39;&quot;+value+&quot;&#39;&quot;);\r\n          asciiArts.add(key);\r\n        }\r\n      }\r\n    }\r\n    ...\r\n```\r\n\r\n\r\n---\r\n\r\nFinally note that you need to inform the adapter when you change its data, otherwise it won&#39;t be repainted. You can do that by [calling `notifyDataSetChanged`](https://developer.android.com/reference/android/widget/BaseAdapter#notifyDataSetChanged()) on it at the end of `onDataChange`.","title":"Storing Strings from Firebase as a List of String in Shared Preferences","body":"<p>The first code that loads from the database that I see is</p>\n<pre><code>private void initAsciiArts_Art() {\n  DatabaseReference databaseRef = FirebaseDatabase.getInstance().getReference().child(&quot;art&quot;);\n  databaseRef.addListenerForSingleValueEvent(new ValueEventListener() {\n    public void onDataChange(@NotNull DataSnapshot dataSnapshot) {\n      for (DataSnapshot artSnapshot : dataSnapshot.getChildren()) {\n        String asciiArt = (String) artSnapshot.getValue();\n        asciiArts.add(asciiArt);\n      }\n    }\n    ...\n</code></pre>\n<p>And that loads this data:</p>\n<pre><code>&quot;art&quot;: [\n  {\n    &quot;MrIncredibleArt&quot;: &quot;stringexample4&quot;\n  },\n  {\n    &quot;GhostFace&quot;: &quot;stringexample5&quot;\n  },\n  ...\n],\n</code></pre>\n<p>Now that the elements in the <code>art</code> array are <strong>objects</strong> here, not simple values. So the <code>artSnapshot.getValue()</code> is also an object, not a simple string. To get the key/value pair(s) in that object, you need to loop over its children again:</p>\n<pre><code>private void initAsciiArts_Art() {\n  DatabaseReference databaseRef = FirebaseDatabase.getInstance().getReference().child(&quot;art&quot;);\n  databaseRef.addListenerForSingleValueEvent(new ValueEventListener() {\n    public void onDataChange(@NotNull DataSnapshot dataSnapshot) {\n      for (DataSnapshot artSnapshot : dataSnapshot.getChildren()) {\n        for (DataSnapshot kvpSnapshot : artSnapshot.getChildren()) {\n          String key = kvpSnapshot.getKey();\n          String value = kvpSnapshot.getValue(String.class);\n          Log.i(&quot;Firebase&quot;, key+&quot;: '&quot;+value+&quot;'&quot;);\n          asciiArts.add(key);\n        }\n      }\n    }\n    ...\n</code></pre>\n<hr />\n<p>Finally note that you need to inform the adapter when you change its data, otherwise it won't be repainted. You can do that by <a href=\"https://developer.android.com/reference/android/widget/BaseAdapter#notifyDataSetChanged()\" rel=\"nofollow noreferrer\">calling <code>notifyDataSetChanged</code></a> on it at the end of <code>onDataChange</code>.</p>\n"}],"owner":{"account_id":17183107,"reputation":245,"user_id":12438238,"display_name":"Vasant Raval"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688194934,"creation_date":1688193841,"question_id":76593561,"body_markdown":"I am developing an app that retrieves strings from Firebase when launched. These strings are then stored in a shared preference. Later, the app retrieves the strings from the shared preference and creates a local list of strings. I use a RecyclerView adapter class to display the strings in the RecyclerView.\r\n\r\nHere is an example of the sample data stored in the Firebase Realtime Database:\r\n\r\n```\r\n{\r\n&quot;art&quot;: [\r\n{\r\n&quot;MrIncredibleArt&quot;: &quot;stringexample4&quot;\r\n},\r\n{\r\n&quot;GhostFace&quot;: &quot;stringexample5&quot;\r\n},\r\n...\r\n],\r\n&quot;nsfw&quot;: [\r\n{\r\n&quot;AnyLoser1&quot;: &quot;stringtrollface1&quot;\r\n},\r\n{\r\n&quot;AnyLoser2&quot;: &quot;stringexample2&quot;\r\n},\r\n...\r\n]\r\n}\r\n```\r\n\r\nTo retrieve the values from the &quot;art&quot; key, I have attempted the following code to check if the data can be populated in the RecyclerView:\r\n\r\n```java\r\npublic class MemeFragment extends Fragment {\r\nList&lt;String&gt; asciiArts = new ArrayList&lt;&gt;();\r\n\r\nu/Override\r\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\r\nBundle savedInstanceState) {\r\nView view = inflater.inflate(R.layout.meme_fragment, container, false);\r\ninitAsciiArts_Art();\r\nRecyclerView recyclerView = view.findViewById(R.id.recycler_view_meme);\r\nrecyclerView.setNestedScrollingEnabled(false);\r\nrecyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\r\n\r\ntry {\r\nMemeAdapter_Meme adapter = new MemeAdapter_Meme(asciiArts, requireContext(), this);\r\nrecyclerView.setHasFixedSize(true);\r\nrecyclerView.setAdapter(adapter);\r\n} catch (Exception e) {\r\ne.printStackTrace();\r\n// Handle the exception here\r\n}\r\n\r\nreturn view;\r\n}\r\n\r\nprivate void initAsciiArts_Art() {\r\nDatabaseReference databaseRef = FirebaseDatabase.getInstance().getReference().child(&quot;art&quot;);\r\ndatabaseRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\nu/Override\r\npublic void onDataChange(@NotNull DataSnapshot dataSnapshot) {\r\nfor (DataSnapshot artSnapshot : dataSnapshot.getChildren()) {\r\nString asciiArt = (String) artSnapshot.getValue();\r\nasciiArts.add(asciiArt);\r\n}\r\n}\r\n\r\nu/Override\r\npublic void onCancelled(@NotNull DatabaseError databaseError) {\r\nLog.e(&quot;Firebase&quot;, &quot;Failed to retrieve art data: &quot; + databaseError.getMessage());\r\n}\r\n});\r\n}\r\n}\r\n```\r\n\r\nHowever, the adapter is not being populated with the data using this approach.\r\n\r\nPreviously, all the strings were stored in the `strings.xml` file, and I was able to populate the adapter using the following code:\r\n\r\n```java\r\nprivate void initAsciiArts_Art_Local() {\r\ntry {\r\nasciiArts.addAll(Arrays.asList(\r\ngetResources().getString(R.string.troll_face1),\r\ngetResources().getString(R.string.troll_face3),\r\n...\r\n));\r\n} catch (Exception e) {\r\ne.printStackTrace();\r\n}\r\n}\r\n```\r\n\r\nThis method worked perfectly.","title":"Storing Strings from Firebase as a List of String in Shared Preferences","body":"<p>I am developing an app that retrieves strings from Firebase when launched. These strings are then stored in a shared preference. Later, the app retrieves the strings from the shared preference and creates a local list of strings. I use a RecyclerView adapter class to display the strings in the RecyclerView.</p>\n<p>Here is an example of the sample data stored in the Firebase Realtime Database:</p>\n<pre><code>{\n&quot;art&quot;: [\n{\n&quot;MrIncredibleArt&quot;: &quot;stringexample4&quot;\n},\n{\n&quot;GhostFace&quot;: &quot;stringexample5&quot;\n},\n...\n],\n&quot;nsfw&quot;: [\n{\n&quot;AnyLoser1&quot;: &quot;stringtrollface1&quot;\n},\n{\n&quot;AnyLoser2&quot;: &quot;stringexample2&quot;\n},\n...\n]\n}\n</code></pre>\n<p>To retrieve the values from the &quot;art&quot; key, I have attempted the following code to check if the data can be populated in the RecyclerView:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MemeFragment extends Fragment {\nList&lt;String&gt; asciiArts = new ArrayList&lt;&gt;();\n\nu/Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\nBundle savedInstanceState) {\nView view = inflater.inflate(R.layout.meme_fragment, container, false);\ninitAsciiArts_Art();\nRecyclerView recyclerView = view.findViewById(R.id.recycler_view_meme);\nrecyclerView.setNestedScrollingEnabled(false);\nrecyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\n\ntry {\nMemeAdapter_Meme adapter = new MemeAdapter_Meme(asciiArts, requireContext(), this);\nrecyclerView.setHasFixedSize(true);\nrecyclerView.setAdapter(adapter);\n} catch (Exception e) {\ne.printStackTrace();\n// Handle the exception here\n}\n\nreturn view;\n}\n\nprivate void initAsciiArts_Art() {\nDatabaseReference databaseRef = FirebaseDatabase.getInstance().getReference().child(&quot;art&quot;);\ndatabaseRef.addListenerForSingleValueEvent(new ValueEventListener() {\nu/Override\npublic void onDataChange(@NotNull DataSnapshot dataSnapshot) {\nfor (DataSnapshot artSnapshot : dataSnapshot.getChildren()) {\nString asciiArt = (String) artSnapshot.getValue();\nasciiArts.add(asciiArt);\n}\n}\n\nu/Override\npublic void onCancelled(@NotNull DatabaseError databaseError) {\nLog.e(&quot;Firebase&quot;, &quot;Failed to retrieve art data: &quot; + databaseError.getMessage());\n}\n});\n}\n}\n</code></pre>\n<p>However, the adapter is not being populated with the data using this approach.</p>\n<p>Previously, all the strings were stored in the <code>strings.xml</code> file, and I was able to populate the adapter using the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void initAsciiArts_Art_Local() {\ntry {\nasciiArts.addAll(Arrays.asList(\ngetResources().getString(R.string.troll_face1),\ngetResources().getString(R.string.troll_face3),\n...\n));\n} catch (Exception e) {\ne.printStackTrace();\n}\n}\n</code></pre>\n<p>This method worked perfectly.</p>\n"},{"tags":["java","spring","spring-boot","sap-business-technology-platform"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1528826606,"post_id":50823200,"comment_id":88651425,"body_markdown":"[edit] your question and include the COMPLETE stack trace, including all &quot;Caused by&quot; sections.","body":"<a href=\"https://stackoverflow.com/posts/50823200/edit\">edit</a> your question and include the COMPLETE stack trace, including all &quot;Caused by&quot; sections."},{"owner":{"account_id":6020653,"reputation":855,"user_id":4727842,"accept_rate":84,"display_name":"Grayden Hormes"},"score":0,"creation_date":1528827564,"post_id":50823200,"comment_id":88651919,"body_markdown":"@JimGarrison From the first log file? Stackoverflow won&#39;t let me include the entire log file so I included only the unique lines.","body":"@JimGarrison From the first log file? Stackoverflow won&#39;t let me include the entire log file so I included only the unique lines."}],"owner":{"account_id":6020653,"reputation":855,"user_id":4727842,"accept_rate":84,"display_name":"Grayden Hormes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688193093,"creation_date":1528826550,"question_id":50823200,"body_markdown":"based on this guide here:\r\n\r\nhttps://medium.com/pacroy/running-spring-boot-application-on-sap-cloud-platform-ceede6d65106\r\n\r\nI have downloaded the code here and built it as a war file.\r\n\r\nhttps://github.com/pacroy/spring-boot-helloscp\r\n\r\nI have then deployed the war to my neo environment. After starting the application it then allocates the environment but hangs indefinitely on the starting indicator.\r\n\r\nThe first log file created contains a large stack trace:\r\n\r\n\r\n\r\n    FILE_TYPE:DAAA96DE-B0FB-4c6e-AF7B-A445F5BF9BE2\r\n    FILE_ID:1528757579497\r\n    ENCODING:[UTF8|NWCJS:ASCII]\r\n    RECORD_SEPARATOR:124\r\n    COLUMN_SEPARATOR:35\r\n    ESC_CHARACTER:92\r\n    COLUMNS:Time|Severity|Logger|Thread|n/a|Text|\r\n    SEVERITY_MAP:FINEST|Information|FINER|Information|FINE|Information|CONFIG|Information|DEBUG|Information|PATH|Information|INFO|Information|WARNING|Warning|ERROR|Error|SEVERE|Error|FATAL|Error\r\n    HEADER_END\r\n    \r\n    2018 06 11 22:53:11#INFO#LJS_OUTPUT#Thread-13##22:53:11.308 [localhost-startStop-1] ERROR org.slf4j.helpers.Util - SLF4J: Class path contains multiple SLF4J bindings.|\r\n    2018 06 11 22:53:11#INFO#LJS_OUTPUT#Thread-13##22:53:11.316 [localhost-startStop-1] ERROR org.slf4j.helpers.Util - SLF4J: Found binding in [jar:file:/usr/sap/ljs/bin/logback-classic.jar!/org/slf4j/impl/StaticLoggerBinder.class]|\r\n    2018 06 11 22:53:11#INFO#LJS_OUTPUT#Thread-13##22:53:11.316 [localhost-startStop-1] ERROR org.slf4j.helpers.Util - SLF4J: Found binding in [jar:file:/usr/sap/ljs/webapps/helloscp/WEB-INF/lib/logback-classic-1.1.7.jar!/org/slf4j/impl/StaticLoggerBinder.class]|\r\n    2018 06 11 22:53:11#INFO#LJS_OUTPUT#Thread-13##22:53:11.317 [localhost-startStop-1] ERROR org.slf4j.helpers.Util - SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.|\r\n    2018 06 11 22:53:11#INFO#LJS_OUTPUT#Thread-13##22:53:11.668 [localhost-startStop-1] ERROR org.slf4j.helpers.Util - SLF4J: Actual binding is of type [ch.qos.logback.classic.util.ContextSelectorStaticBinder]|\r\n    2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14##Exception in thread &quot;RMI TCP Connection(idle)&quot; java.lang.StackOverflowError|\r\n    2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14##\tat org.apache.juli.logging.DirectJDKLog.log(DirectJDKLog.java:169)|\r\n    2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14##\tat org.apache.juli.logging.DirectJDKLog.debug(DirectJDKLog.java:103)|\r\n    2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14##\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1154)|\r\n    2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14##\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1119)|\r\n    2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14##\tat org.slf4j.bridge.SLF4JBridgeHandler.getSLF4JLogger(SLF4JBridgeHandler.java:198)|\r\n    2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14##\tat org.slf4j.bridge.SLF4JBridgeHandler.publish(SLF4JBridgeHandler.java:293)|\r\n    2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14##\tat java.util.logging.Logger.log(Logger.java:738)|\r\n    2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14##\tat java.util.logging.Logger.doLog(Logger.java:765)|\r\n    2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14##\tat java.util.logging.Logger.logp(Logger.java:931)|\r\n    2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14##\tat org.apache.juli.logging.DirectJDKLog.log(DirectJDKLog.java:180)|\r\n    2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14##\tat org.apache.juli.logging.DirectJDKLog.debug(DirectJDKLog.java:103)|\r\n    2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14##\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1154)|\r\n    2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14##\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1119)|\r\n    2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14##\tat org.slf4j.bridge.SLF4JBridgeHandler.getSLF4JLogger(SLF4JBridgeHandler.java:198)|\r\n    2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14##\tat org.slf4j.bridge.SLF4JBridgeHandler.publish(SLF4JBridgeHandler.java:293)|\r\n    2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14##\tat java.util.logging.Logger.log(Logger.java:738)|\r\n    2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14##\tat java.util.logging.Logger.doLog(Logger.java:765)|\r\n    2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14##\tat java.util.logging.Logger.logp(Logger.java:931)|\r\n    \r\nThe last 9 line are then repeated until the bottom:\r\n\r\n    2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14##\tat org.apache.juli.logging.DirectJDKLog.log(DirectJDKLog.java:180)|\r\n    2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14##\tat org.apache.juli.logging.DirectJDKLog.debug(DirectJDKLog.java:103)|\r\n    2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14##\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1154)|\r\n    2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14##\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1119)|\r\n    2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14##\tat org.slf4j.bridge.SLF4JBridgeHandler.getSLF4JLogger(SLF4JBridgeHandler.java:198)|\r\n    2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14##\tat org.slf4j.bridge.SLF4JBridgeHandler.publish(SLF4JBridgeHandler.java:293)|\r\n    2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14##\tat java.util.logging.Logger.log(Logger.java:738)|\r\n    2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14##\tat java.util.logging.Logger.doLog(Logger.java:765)|\r\n    2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14##\tat java.util.logging.Logger.logp(Logger.java:931)|\r\n    2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14##\tat sun.rmi.runtime.Log$LoggerLog.log(Log.java:229)|\r\n    2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14##\tat sun.rmi.transport.tcp.TCPConnection.close(TCPConnection.java:219)|\r\n    2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14##\tat sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:597)|\r\n    2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14##\tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)|\r\n    2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14##\tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)|\r\n    2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14##\tat java.security.AccessController.doPrivileged(Native Method)|\r\n    2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14##\tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)|\r\n    2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14##\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)|\r\n    2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14##\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)|\r\n    2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14##\tat java.lang.Thread.run(Thread.java:808)|\r\n    \r\nThe top part repeated many times before getting to the last part.\r\n\r\nThe garbage collection log looks like this:\r\n\r\n    2018-06-11T22:53:06.936+0000: 6.091: [GC (CMS Initial Mark) 2018-06-11T22:53:06.936+0000: 6.091: [GC (CMS Initial Mark) 6.091: [ParNew: 136862K-&gt;13193K(189952K), 0.0774287 secs] 136862K-&gt;13193K(1234432K), 0.0774859 secs] [Times: user=0.04 sys=0.00, real=0.08 secs] \r\n    [1 CMS-initial-mark: 0K(1044480K)] 13193K(1234432K), 0.0940998 secs] [Times: user=0.05 sys=0.00, real=0.10 secs] \r\n    2018-06-11T22:53:07.044+0000: 6.199: [CMS-concurrent-mark-start]\r\n    2018-06-11T22:53:07.055+0000: 6.210: [CMS-concurrent-mark: 0.011/0.011 secs] [Times: user=0.01 sys=0.00, real=0.01 secs] \r\n    2018-06-11T22:53:07.083+0000: 6.237: [CMS-concurrent-preclean-start]\r\n    2018-06-11T22:53:07.085+0000: 6.239: [CMS-concurrent-preclean: 0.001/0.001 secs] [Times: user=0.00 sys=0.00, real=0.00 secs] \r\n    2018-06-11T22:53:07.085+0000: 6.239: [CMS-concurrent-abortable-preclean-start]\r\n    2018-06-11T22:53:09.101+0000: 8.255: [CMS-concurrent-abortable-preclean: 1.634/2.016 secs] [Times: user=1.79 sys=0.06, real=2.02 secs] \r\n    2018-06-11T22:53:09.101+0000: 8.255: [GC (CMS Final Remark) [YG occupancy: 100172 K (189952 K)]8.256: [Rescan (parallel) , 0.0467687 secs]8.302: [weak refs processing, 0.0000982 secs]8.302: [class unloading, 0.0034457 secs]8.306: [scrub symbol table, 0.0043437 secs]8.310: [scrub string table, 0.0008146 secs][1 CMS-remark: 0K(1044480K)] 100172K(1234432K), 0.0563585 secs] [Times: user=0.05 sys=0.00, real=0.06 secs] \r\n    2018-06-11T22:53:09.165+0000: 8.319: [CMS-concurrent-sweep-start]\r\n    2018-06-11T22:53:09.165+0000: 8.319: [CMS-concurrent-sweep: 0.000/0.000 secs] [Times: user=0.00 sys=0.00, real=0.01 secs] \r\n    2018-06-11T22:53:09.165+0000: 8.319: [CMS-concurrent-reset-start]\r\n    2018-06-11T22:53:09.190+0000: 8.345: [CMS-concurrent-reset: 0.022/0.025 secs] [Times: user=0.01 sys=0.02, real=0.02 secs] \r\n    2018-06-11T22:53:09.923+0000: 9.077: [GC (Allocation Failure) 9.077: [ParNew: 184201K-&gt;8052K(189952K), 0.0768536 secs] 184201K-&gt;19261K(1234432K), 0.0769170 secs] [Times: user=0.07 sys=0.01, real=0.08 secs] \r\n    2018-06-11T22:53:10.781+0000: 9.935: [GC (Allocation Failure) 9.935: [ParNew: 179060K-&gt;11585K(189952K), 0.0294688 secs] 190269K-&gt;22794K(1234432K), 0.0295479 secs] [Times: user=0.03 sys=0.00, real=0.03 secs] \r\n    2018-06-11T22:53:13.361+0000: 12.516: [GC (Allocation Failure) 12.516: [ParNew: 182593K-&gt;4682K(189952K), 0.0324057 secs] 193802K-&gt;19258K(1234432K), 0.0324760 secs] [Times: user=0.03 sys=0.00, real=0.03 secs] \r\n    2018-06-11T22:55:11.521+0000: 130.675: [GC (Allocation Failure) 130.675: [ParNew: 175690K-&gt;3079K(189952K), 0.0497712 secs] 190266K-&gt;17654K(1234432K), 0.0498596 secs] [Times: user=0.03 sys=0.00, real=0.05 secs] \r\n\r\nThe another log file looks like this:\r\n\r\n    FILE_TYPE:DAAA96DE-B0FB-4c6e-AF7B-A445F5BF9BE2\r\n    FILE_ID:1528758813082\r\n    ENCODING:[UTF8|NWCJS:ASCII]\r\n    RECORD_SEPARATOR:124\r\n    COLUMN_SEPARATOR:35\r\n    ESC_CHARACTER:92\r\n    COLUMNS:Time|Severity|Logger|Thread|n/a|Text|\r\n    SEVERITY_MAP:FINEST|Information|FINER|Information|FINE|Information|CONFIG|Information|DEBUG|Information|PATH|Information|INFO|Information|WARNING|Warning|ERROR|Error|SEVERE|Error|FATAL|Error\r\n    HEADER_END\r\n    \r\n    2018 06 11 23:13:42#INFO#LJS_OUTPUT#Thread-13##23:13:42.283 [localhost-startStop-1] ERROR org.slf4j.helpers.Util - SLF4J: Class path contains multiple SLF4J bindings.|\r\n    2018 06 11 23:13:42#INFO#LJS_OUTPUT#Thread-13##23:13:42.289 [localhost-startStop-1] ERROR org.slf4j.helpers.Util - SLF4J: Found binding in [jar:file:/usr/sap/ljs/bin/logback-classic.jar!/org/slf4j/impl/StaticLoggerBinder.class]|\r\n    2018 06 11 23:13:42#INFO#LJS_OUTPUT#Thread-13##23:13:42.290 [localhost-startStop-1] ERROR org.slf4j.helpers.Util - SLF4J: Found binding in [jar:file:/usr/sap/ljs/webapps/helloscp/WEB-INF/lib/logback-classic-1.1.7.jar!/org/slf4j/impl/StaticLoggerBinder.class]|\r\n    2018 06 11 23:13:42#INFO#LJS_OUTPUT#Thread-13##23:13:42.291 [localhost-startStop-1] ERROR org.slf4j.helpers.Util - SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.|\r\n    2018 06 11 23:13:42#INFO#LJS_OUTPUT#Thread-13##23:13:42.553 [localhost-startStop-1] ERROR org.slf4j.helpers.Util - SLF4J: Actual binding is of type [ch.qos.logback.classic.util.ContextSelectorStaticBinder\r\n\r\nAnd the last log file that I can see looks like this:\r\n\r\n    ---\r\n    VM version: Nov 29 2017 10:19:58 - 81_REL - optU - linux amd64 - 6 - bas2:297759 (mixed mode)\r\n    \r\n    Time:2018-06-1122:53:13\r\n    Pid: 16411\r\n    Hostname: vsa4371811\r\n    current dir: /usr/sap/ljs\r\n    ---\r\n       :    [140545891444480]   22:53:13 ***ERROR (:0): StackOverflowError\r\n       :    [140545929889536]   22:53:13 ***ERROR (:0): StackOverflowError\r\n       :    [140545891444480]   22:53:13 ***ERROR (:0): StackOverflowError\r\n       :    [140545929889536]   22:53:13 ***ERROR (:0): StackOverflowError\r\n       :    [140545891444480]   22:53:13 ***ERROR (:0): StackOverflowError\r\n\r\nI have tried this with another spring boot application (The one I am actually trying to get to run) with identical results. I have also tried with a Lite compute unit and a Pro compute unit. This is both set to an apache tomcat 8 server.\r\n\r\nSo I am wondering what could be wrong here?\r\n","title":"Uploading war file hangs on starting in SAP Cloud Platform Neo","body":"<p>based on this guide here:</p>\n\n<p><a href=\"https://medium.com/pacroy/running-spring-boot-application-on-sap-cloud-platform-ceede6d65106\" rel=\"nofollow noreferrer\">https://medium.com/pacroy/running-spring-boot-application-on-sap-cloud-platform-ceede6d65106</a></p>\n\n<p>I have downloaded the code here and built it as a war file.</p>\n\n<p><a href=\"https://github.com/pacroy/spring-boot-helloscp\" rel=\"nofollow noreferrer\">https://github.com/pacroy/spring-boot-helloscp</a></p>\n\n<p>I have then deployed the war to my neo environment. After starting the application it then allocates the environment but hangs indefinitely on the starting indicator.</p>\n\n<p>The first log file created contains a large stack trace:</p>\n\n<pre><code>FILE_TYPE:DAAA96DE-B0FB-4c6e-AF7B-A445F5BF9BE2\nFILE_ID:1528757579497\nENCODING:[UTF8|NWCJS:ASCII]\nRECORD_SEPARATOR:124\nCOLUMN_SEPARATOR:35\nESC_CHARACTER:92\nCOLUMNS:Time|Severity|Logger|Thread|n/a|Text|\nSEVERITY_MAP:FINEST|Information|FINER|Information|FINE|Information|CONFIG|Information|DEBUG|Information|PATH|Information|INFO|Information|WARNING|Warning|ERROR|Error|SEVERE|Error|FATAL|Error\nHEADER_END\n\n2018 06 11 22:53:11#INFO#LJS_OUTPUT#Thread-13##22:53:11.308 [localhost-startStop-1] ERROR org.slf4j.helpers.Util - SLF4J: Class path contains multiple SLF4J bindings.|\n2018 06 11 22:53:11#INFO#LJS_OUTPUT#Thread-13##22:53:11.316 [localhost-startStop-1] ERROR org.slf4j.helpers.Util - SLF4J: Found binding in [jar:file:/usr/sap/ljs/bin/logback-classic.jar!/org/slf4j/impl/StaticLoggerBinder.class]|\n2018 06 11 22:53:11#INFO#LJS_OUTPUT#Thread-13##22:53:11.316 [localhost-startStop-1] ERROR org.slf4j.helpers.Util - SLF4J: Found binding in [jar:file:/usr/sap/ljs/webapps/helloscp/WEB-INF/lib/logback-classic-1.1.7.jar!/org/slf4j/impl/StaticLoggerBinder.class]|\n2018 06 11 22:53:11#INFO#LJS_OUTPUT#Thread-13##22:53:11.317 [localhost-startStop-1] ERROR org.slf4j.helpers.Util - SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.|\n2018 06 11 22:53:11#INFO#LJS_OUTPUT#Thread-13##22:53:11.668 [localhost-startStop-1] ERROR org.slf4j.helpers.Util - SLF4J: Actual binding is of type [ch.qos.logback.classic.util.ContextSelectorStaticBinder]|\n2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14##Exception in thread \"RMI TCP Connection(idle)\" java.lang.StackOverflowError|\n2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14## at org.apache.juli.logging.DirectJDKLog.log(DirectJDKLog.java:169)|\n2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14## at org.apache.juli.logging.DirectJDKLog.debug(DirectJDKLog.java:103)|\n2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14## at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1154)|\n2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14## at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1119)|\n2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14## at org.slf4j.bridge.SLF4JBridgeHandler.getSLF4JLogger(SLF4JBridgeHandler.java:198)|\n2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14## at org.slf4j.bridge.SLF4JBridgeHandler.publish(SLF4JBridgeHandler.java:293)|\n2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14## at java.util.logging.Logger.log(Logger.java:738)|\n2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14## at java.util.logging.Logger.doLog(Logger.java:765)|\n2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14## at java.util.logging.Logger.logp(Logger.java:931)|\n2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14## at org.apache.juli.logging.DirectJDKLog.log(DirectJDKLog.java:180)|\n2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14## at org.apache.juli.logging.DirectJDKLog.debug(DirectJDKLog.java:103)|\n2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14## at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1154)|\n2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14## at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1119)|\n2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14## at org.slf4j.bridge.SLF4JBridgeHandler.getSLF4JLogger(SLF4JBridgeHandler.java:198)|\n2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14## at org.slf4j.bridge.SLF4JBridgeHandler.publish(SLF4JBridgeHandler.java:293)|\n2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14## at java.util.logging.Logger.log(Logger.java:738)|\n2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14## at java.util.logging.Logger.doLog(Logger.java:765)|\n2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14## at java.util.logging.Logger.logp(Logger.java:931)|\n</code></pre>\n\n<p>The last 9 line are then repeated until the bottom:</p>\n\n<pre><code>2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14## at org.apache.juli.logging.DirectJDKLog.log(DirectJDKLog.java:180)|\n2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14## at org.apache.juli.logging.DirectJDKLog.debug(DirectJDKLog.java:103)|\n2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14## at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1154)|\n2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14## at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1119)|\n2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14## at org.slf4j.bridge.SLF4JBridgeHandler.getSLF4JLogger(SLF4JBridgeHandler.java:198)|\n2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14## at org.slf4j.bridge.SLF4JBridgeHandler.publish(SLF4JBridgeHandler.java:293)|\n2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14## at java.util.logging.Logger.log(Logger.java:738)|\n2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14## at java.util.logging.Logger.doLog(Logger.java:765)|\n2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14## at java.util.logging.Logger.logp(Logger.java:931)|\n2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14## at sun.rmi.runtime.Log$LoggerLog.log(Log.java:229)|\n2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14## at sun.rmi.transport.tcp.TCPConnection.close(TCPConnection.java:219)|\n2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14## at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:597)|\n2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14## at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)|\n2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14## at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)|\n2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14## at java.security.AccessController.doPrivileged(Native Method)|\n2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14## at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)|\n2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14## at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)|\n2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14## at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)|\n2018 06 11 22:53:13#INFO#LJS_OUTPUT#Thread-14## at java.lang.Thread.run(Thread.java:808)|\n</code></pre>\n\n<p>The top part repeated many times before getting to the last part.</p>\n\n<p>The garbage collection log looks like this:</p>\n\n<pre><code>2018-06-11T22:53:06.936+0000: 6.091: [GC (CMS Initial Mark) 2018-06-11T22:53:06.936+0000: 6.091: [GC (CMS Initial Mark) 6.091: [ParNew: 136862K-&gt;13193K(189952K), 0.0774287 secs] 136862K-&gt;13193K(1234432K), 0.0774859 secs] [Times: user=0.04 sys=0.00, real=0.08 secs] \n[1 CMS-initial-mark: 0K(1044480K)] 13193K(1234432K), 0.0940998 secs] [Times: user=0.05 sys=0.00, real=0.10 secs] \n2018-06-11T22:53:07.044+0000: 6.199: [CMS-concurrent-mark-start]\n2018-06-11T22:53:07.055+0000: 6.210: [CMS-concurrent-mark: 0.011/0.011 secs] [Times: user=0.01 sys=0.00, real=0.01 secs] \n2018-06-11T22:53:07.083+0000: 6.237: [CMS-concurrent-preclean-start]\n2018-06-11T22:53:07.085+0000: 6.239: [CMS-concurrent-preclean: 0.001/0.001 secs] [Times: user=0.00 sys=0.00, real=0.00 secs] \n2018-06-11T22:53:07.085+0000: 6.239: [CMS-concurrent-abortable-preclean-start]\n2018-06-11T22:53:09.101+0000: 8.255: [CMS-concurrent-abortable-preclean: 1.634/2.016 secs] [Times: user=1.79 sys=0.06, real=2.02 secs] \n2018-06-11T22:53:09.101+0000: 8.255: [GC (CMS Final Remark) [YG occupancy: 100172 K (189952 K)]8.256: [Rescan (parallel) , 0.0467687 secs]8.302: [weak refs processing, 0.0000982 secs]8.302: [class unloading, 0.0034457 secs]8.306: [scrub symbol table, 0.0043437 secs]8.310: [scrub string table, 0.0008146 secs][1 CMS-remark: 0K(1044480K)] 100172K(1234432K), 0.0563585 secs] [Times: user=0.05 sys=0.00, real=0.06 secs] \n2018-06-11T22:53:09.165+0000: 8.319: [CMS-concurrent-sweep-start]\n2018-06-11T22:53:09.165+0000: 8.319: [CMS-concurrent-sweep: 0.000/0.000 secs] [Times: user=0.00 sys=0.00, real=0.01 secs] \n2018-06-11T22:53:09.165+0000: 8.319: [CMS-concurrent-reset-start]\n2018-06-11T22:53:09.190+0000: 8.345: [CMS-concurrent-reset: 0.022/0.025 secs] [Times: user=0.01 sys=0.02, real=0.02 secs] \n2018-06-11T22:53:09.923+0000: 9.077: [GC (Allocation Failure) 9.077: [ParNew: 184201K-&gt;8052K(189952K), 0.0768536 secs] 184201K-&gt;19261K(1234432K), 0.0769170 secs] [Times: user=0.07 sys=0.01, real=0.08 secs] \n2018-06-11T22:53:10.781+0000: 9.935: [GC (Allocation Failure) 9.935: [ParNew: 179060K-&gt;11585K(189952K), 0.0294688 secs] 190269K-&gt;22794K(1234432K), 0.0295479 secs] [Times: user=0.03 sys=0.00, real=0.03 secs] \n2018-06-11T22:53:13.361+0000: 12.516: [GC (Allocation Failure) 12.516: [ParNew: 182593K-&gt;4682K(189952K), 0.0324057 secs] 193802K-&gt;19258K(1234432K), 0.0324760 secs] [Times: user=0.03 sys=0.00, real=0.03 secs] \n2018-06-11T22:55:11.521+0000: 130.675: [GC (Allocation Failure) 130.675: [ParNew: 175690K-&gt;3079K(189952K), 0.0497712 secs] 190266K-&gt;17654K(1234432K), 0.0498596 secs] [Times: user=0.03 sys=0.00, real=0.05 secs] \n</code></pre>\n\n<p>The another log file looks like this:</p>\n\n<pre><code>FILE_TYPE:DAAA96DE-B0FB-4c6e-AF7B-A445F5BF9BE2\nFILE_ID:1528758813082\nENCODING:[UTF8|NWCJS:ASCII]\nRECORD_SEPARATOR:124\nCOLUMN_SEPARATOR:35\nESC_CHARACTER:92\nCOLUMNS:Time|Severity|Logger|Thread|n/a|Text|\nSEVERITY_MAP:FINEST|Information|FINER|Information|FINE|Information|CONFIG|Information|DEBUG|Information|PATH|Information|INFO|Information|WARNING|Warning|ERROR|Error|SEVERE|Error|FATAL|Error\nHEADER_END\n\n2018 06 11 23:13:42#INFO#LJS_OUTPUT#Thread-13##23:13:42.283 [localhost-startStop-1] ERROR org.slf4j.helpers.Util - SLF4J: Class path contains multiple SLF4J bindings.|\n2018 06 11 23:13:42#INFO#LJS_OUTPUT#Thread-13##23:13:42.289 [localhost-startStop-1] ERROR org.slf4j.helpers.Util - SLF4J: Found binding in [jar:file:/usr/sap/ljs/bin/logback-classic.jar!/org/slf4j/impl/StaticLoggerBinder.class]|\n2018 06 11 23:13:42#INFO#LJS_OUTPUT#Thread-13##23:13:42.290 [localhost-startStop-1] ERROR org.slf4j.helpers.Util - SLF4J: Found binding in [jar:file:/usr/sap/ljs/webapps/helloscp/WEB-INF/lib/logback-classic-1.1.7.jar!/org/slf4j/impl/StaticLoggerBinder.class]|\n2018 06 11 23:13:42#INFO#LJS_OUTPUT#Thread-13##23:13:42.291 [localhost-startStop-1] ERROR org.slf4j.helpers.Util - SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.|\n2018 06 11 23:13:42#INFO#LJS_OUTPUT#Thread-13##23:13:42.553 [localhost-startStop-1] ERROR org.slf4j.helpers.Util - SLF4J: Actual binding is of type [ch.qos.logback.classic.util.ContextSelectorStaticBinder\n</code></pre>\n\n<p>And the last log file that I can see looks like this:</p>\n\n<pre><code>---\nVM version: Nov 29 2017 10:19:58 - 81_REL - optU - linux amd64 - 6 - bas2:297759 (mixed mode)\n\nTime:2018-06-1122:53:13\nPid: 16411\nHostname: vsa4371811\ncurrent dir: /usr/sap/ljs\n---\n   :    [140545891444480]   22:53:13 ***ERROR (:0): StackOverflowError\n   :    [140545929889536]   22:53:13 ***ERROR (:0): StackOverflowError\n   :    [140545891444480]   22:53:13 ***ERROR (:0): StackOverflowError\n   :    [140545929889536]   22:53:13 ***ERROR (:0): StackOverflowError\n   :    [140545891444480]   22:53:13 ***ERROR (:0): StackOverflowError\n</code></pre>\n\n<p>I have tried this with another spring boot application (The one I am actually trying to get to run) with identical results. I have also tried with a Lite compute unit and a Pro compute unit. This is both set to an apache tomcat 8 server.</p>\n\n<p>So I am wondering what could be wrong here?</p>\n"},{"tags":["java","ejb","weblogic","schedule"],"comments":[{"owner":{"account_id":2708748,"reputation":188,"user_id":2337743,"display_name":"Mario.Cadiz"},"score":0,"creation_date":1692801333,"post_id":76593512,"comment_id":135674086,"body_markdown":"Please provide the versions of WLS and JDK. Also, make sure WLS applied the latest PSU.","body":"Please provide the versions of WLS and JDK. Also, make sure WLS applied the latest PSU."}],"owner":{"account_id":9427277,"reputation":113,"user_id":7011841,"display_name":"Reza"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688192545,"creation_date":1688192545,"question_id":76593512,"body_markdown":"i have two ejb schedulers inside a class running on a weblogic server. it works fine except in some rare occasions where one of them (the first timer) does not even trigger, while the other one is working. i get aware of it by looking at server logs and see no logs available for it. i wonder why it never gets triggered!\r\n\r\nthe problem is solved by restarting the server node on which the timers are working on. \r\n````\r\n@Singleton\r\npublic class SamanElectronicPaymentTimer {\r\n\r\n\r\n    @Inject\r\n    private EntityManager em;\r\n\r\n    @Inject\r\n    @WebProperties\r\n    Bundle webProperties;\r\n    @Inject\r\n    SamanElectronicPaymentService samanElectronicPaymentService;\r\n    @Inject\r\n    private RestServices restServices;\r\n\r\n    @Inject\r\n    private CreateHistory createHistory;\r\n\r\n    @Schedule(minute = &quot;*/5&quot;, dayOfMonth = &quot;*&quot;, hour = &quot;*&quot;, month = &quot;*&quot;, year = &quot;*&quot;, second = &quot;20&quot;, persistent = false)\r\n\r\n    public void samanElectronicCheckPayment() {\r\n        try {\r\n            Logger.getLogger(DebitInstallmentPaymentTimer.class.getName()).log(Level.INFO, &quot;samanElectronicCheckPayment is running&quot;);\r\n            if (checkTrueNode()) {\r\n\r\n                payCheckSamanManualyTimer();\r\n                Logger.getLogger(SamanElectronicPaymentTimer.class.getName()).log(Level.INFO, &quot;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; samanElectronicCheckPaymentTimer End&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\r\n            }\r\n        } catch (Exception ex) {\r\n            Logger.getLogger(SamanElectronicPaymentTimer.class.getName()).log(Level.SEVERE, ex.getMessage());\r\n        }\r\n    }\r\n\r\n\r\n    @Schedule(minute = &quot;*/20&quot;, hour = &quot;*&quot;, second = &quot;10&quot;, persistent = false)\r\n    public void createDebitWithTimer() {\r\n        if (checkTrueNode()) {\r\n            try {\r\n                List&lt;OnlinePaymentInfo&gt; onlinePaymentInfoList = this.em.createNamedQuery(&quot;getOnlinePaymentInfo.fortimer.creatDebit&quot;)\r\n                        .setMaxResults(1000)\r\n                        .getResultList();\r\n                if (onlinePaymentInfoList.size() &gt; 0) {\r\n\r\n                    for (OnlinePaymentInfo onlinePaymentInfotmp : onlinePaymentInfoList) {\r\n                        Logger.getLogger(this.getClass().getName()).log(Level.INFO, onlinePaymentInfotmp.toString());\r\n                        createHistory.createHistoryByTimer(onlinePaymentInfotmp);\r\n\r\n                    }\r\n                    Logger.getLogger(this.getClass().getName()).log(Level.INFO, onlinePaymentInfoList.size() + &quot; histories created!&quot;);\r\n                }\r\n            } catch (Exception ex) {\r\n                Logger.getLogger(this.getClass().getName()).log(Level.SEVERE, &quot;sabegheTimer went wrong:: &quot; + ex);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\n    private boolean checkTrueNode() {\r\n        try {\r\n            InitialContext ctx = new InitialContext();\r\n            MBeanServer mBeanServer = (MBeanServer) ctx.lookup(&quot;java:comp/env/jmx/runtime&quot;);\r\n            String serverName = System.getProperty(&quot;weblogic.Name&quot;);\r\n            ObjectName serverRuntime = new ObjectName(&quot;com.bea:Name=&quot; + serverName + &quot;,Type=ServerRuntime&quot;);\r\n            String listenAddress = mBeanServer.getAttribute(serverRuntime, &quot;ListenAddress&quot;).toString();\r\n            String listenPort = mBeanServer.getAttribute(serverRuntime, &quot;ListenPort&quot;).toString();\r\n            Logger.getLogger(DebitInstallmentPaymentTimer.class.getName()).log(Level.INFO, &quot;listenPort is :&quot; + listenPort.toString());\r\n            Logger.getLogger(DebitInstallmentPaymentTimer.class.getName()).log(Level.INFO, &quot;ListenAddress is :&quot; + listenAddress.toString());\r\n            if (listenPort.equals(&quot;9091&quot;) &amp;&amp; listenAddress.contains(&quot;eservice-n3.tamin.org&quot;)) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n            return false;\r\n        }\r\n    }\r\n````\r\n\r\nwhile the first scheduler not even gets triggered in very rare cases, the second timer keeps throwing the following exception. which points to the fact that the named query `getOnlinePaymentInfo.fortimer.creatDebit` gets timeout. but executing the query on database encounters no timeout issue and runs within few seconds. \r\n\r\nboth problems disappear by restarting the server.\r\n````\r\n&lt;Jun 28, 2023 1:20:37,835 PM IRST&gt; &lt;Error&gt; &lt;EJB&gt; &lt;BEA-011088&gt; &lt;The following error occurred while invoking the ejbTimeout(javax.ejb.Timer) method of EJB SamanElectronicPaymentTimer(Application: eservice-web, EJBComponent: eservice-web.war).\r\njavax.ejb.EJBException: EJB Exception: : com.oracle.pitchfork.interfaces.LifecycleCallbackException: Failure to invoke public java.lang.Object org.jboss.weld.ejb.SessionBeanInterceptor.aroundInvoke(javax.interceptor.InvocationContext) throws java.lang.Exception on bean class class org.jboss.weld.ejb.SessionBeanInterceptor with args: [LifecycleEventCallbackInvocationContext(1523997077)]\r\n\tat com.oracle.pitchfork.inject.Jsr250Metadata.invokeLifecycleMethod(Jsr250Metadata.java:391)\r\n\tat com.oracle.pitchfork.intercept.LifecycleEventCallbackInvocationContext.proceed(LifecycleEventCallbackInvocationContext.java:121)\r\n\tat com.oracle.pitchfork.intercept.LifecycleEventCallbackInvocationContext.proceed(LifecycleEventCallbackInvocationContext.java:150)\r\n\tat com.oracle.pitchfork.intercept.InterceptionMetadata.invokeTimeoutMethod(InterceptionMetadata.java:626)\r\n\tat weblogic.ejb.container.injection.EjbComponentCreatorImpl.invokeTimer(EjbComponentCreatorImpl.java:71)\r\n\tat weblogic.ejb.container.injection.InjectionBasedEjbComponentCreator.invokeTimer(InjectionBasedEjbComponentCreator.java:193)\r\n\tat weblogic.ejb.container.manager.BaseEJBManager.invokeTimeoutMethod(BaseEJBManager.java:199)\r\n\tat weblogic.ejb.container.timer.TimerImpl.timerExpired(TimerImpl.java:343)\r\n\tat weblogic.timers.internal.TimerImpl.run(TimerImpl.java:301)\r\n\tat weblogic.work.SelfTuningWorkManagerImpl$WorkAdapterImpl.run(SelfTuningWorkManagerImpl.java:678)\r\n\tat weblogic.invocation.ComponentInvocationContextManager._runAs(ComponentInvocationContextManager.java:352)\r\n\tat weblogic.invocation.ComponentInvocationContextManager.runAs(ComponentInvocationContextManager.java:337)\r\n\tat weblogic.work.LivePartitionUtility.doRunWorkUnderContext(LivePartitionUtility.java:57)\r\n\tat weblogic.work.PartitionUtility.runWorkUnderContext(PartitionUtility.java:41)\r\n\tat weblogic.work.SelfTuningWorkManagerImpl.runWorkUnderContext(SelfTuningWorkManagerImpl.java:652)\r\n\tat weblogic.work.ExecuteThread.execute(ExecuteThread.java:420)\r\n\tat weblogic.work.ExecuteThread.run(ExecuteThread.java:360)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat sun.reflect.GeneratedMethodAccessor254.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.oracle.pitchfork.inject.Jsr250Metadata.invokeLifecycleMethod(Jsr250Metadata.java:388)\r\n\t... 16 more\r\nCaused by: com.oracle.pitchfork.interfaces.LifecycleCallbackException: Failure to invoke timeout method public void ir.tamin.insurance.eservice.ws.rest.bank.SamanElectronicPaymentTimer.createDebitWithTimer() on bean class class ir.tamin.insurance.eservice.ws.rest.bank.SamanElectronicPaymentTimer_9io334_Impl with args: []]\r\n\tat com.oracle.pitchfork.inject.Jsr250Metadata.invokeTimeoutMethodInternal(Jsr250Metadata.java:376)\r\n\tat com.oracle.pitchfork.intercept.LifecycleEventCallbackInvocationContext.proceed(LifecycleEventCallbackInvocationContext.java:126)\r\n\tat org.jboss.weld.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:73)\r\n\tat org.jboss.weld.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)\r\n\t... 20 more\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat sun.reflect.GeneratedMethodAccessor3729.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.oracle.pitchfork.inject.Jsr250Metadata.invokeTimeoutMethodInternal(Jsr250Metadata.java:373)\r\n\t... 23 more\r\nCaused by: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.6.5.v20170607-b3d05bd): org.eclipse.persistence.exceptions.DatabaseException\r\nInternal Exception: java.sql.SQLException: Attempt to set connection harvestable to false but the connection is already closed.\r\nError Code: 0\r\nCall: SELECT * FROM (SELECT /*+ FIRST_ROWS(1000) */ a.*, ROWNUM rnum  FROM (SELECT RESNUM AS a1, AMOUNT AS a2, CONFIRM_DATE AS a3, CONTRACT_NUMBER AS a4, CREATE_DATE AS a5, END_DATE AS a6, GARDESH_END_DATE AS a7, GARDESH_START_DATE AS a8, SOLDIER_INST_COUNT AS a9, INSURANCE_ID AS a10, NATIONAL_CODE AS a11, ORD_ORDNO AS a12, ORP_ORDROW AS a13, REFNUM AS a14, RRN AS a15, SECUREPAN AS a16, SERVICENAME AS a17, START_DATE AS a18, STATE AS a19, STATUS AS a20, SYSTEMTYPE AS a21, TICKET AS a22, TICKET_BCKUP AS a23, TRACENO AS a24, USER_ID AS a25, WAGE AS a26 FROM ONLINEPAYMENTINFO WHERE (((((TICKET IS NOT NULL) AND (ORD_ORDNO IS NULL)) AND (ORP_ORDROW IS NULL)) AND STATE LIKE ?) AND (SYSTEMTYPE IN (?, ?, ?)))) a WHERE ROWNUM &lt;= ?) WHERE rnum &gt; ?\r\n\tbind =&gt; [%SUCCESSFUL%, 01, 03, 04, 1000, 0]\r\nQuery: ReadAllQuery(name=&quot;getOnlinePaymentInfo.fortimer.creatDebit&quot; referenceClass=OnlinePaymentInfo sql=&quot;SELECT * FROM (SELECT /*+ FIRST_ROWS(1000) */ a.*, ROWNUM rnum  FROM (SELECT RESNUM AS a1, AMOUNT AS a2, CONFIRM_DATE AS a3, CONTRACT_NUMBER AS a4, CREATE_DATE AS a5, END_DATE AS a6, GARDESH_END_DATE AS a7, GARDESH_START_DATE AS a8, SOLDIER_INST_COUNT AS a9, INSURANCE_ID AS a10, NATIONAL_CODE AS a11, ORD_ORDNO AS a12, ORP_ORDROW AS a13, REFNUM AS a14, RRN AS a15, SECUREPAN AS a16, SERVICENAME AS a17, START_DATE AS a18, STATE AS a19, STATUS AS a20, SYSTEMTYPE AS a21, TICKET AS a22, TICKET_BCKUP AS a23, TRACENO AS a24, USER_ID AS a25, WAGE AS a26 FROM ONLINEPAYMENTINFO WHERE (((((TICKET IS NOT NULL) AND (ORD_ORDNO IS NULL)) AND (ORP_ORDROW IS NULL)) AND STATE LIKE ?) AND (SYSTEMTYPE IN (?, ?, ?)))) a WHERE ROWNUM &lt;= ?) WHERE rnum &gt; ?&quot;)\r\n\tat org.eclipse.persistence.internal.jpa.QueryImpl.getDetailedException(QueryImpl.java:387)\r\n\tat org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:260)\r\n\tat org.eclipse.persistence.internal.jpa.QueryImpl.getResultList(QueryImpl.java:478)\r\n\tat ir.tamin.insurance.eservice.ws.rest.bank.SamanElectronicPaymentTimer.createDebitWithTimer(SamanElectronicPaymentTimer.java:68)\r\n\t... 27 more\r\nCaused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.6.5.v20170607-b3d05bd): org.eclipse.persistence.exceptions.DatabaseException\r\nInternal Exception: java.sql.SQLException: Attempt to set connection harvestable to false but the connection is already closed.\r\nError Code: 0\r\nCall: SELECT * FROM (SELECT /*+ FIRST_ROWS(1000) */ a.*, ROWNUM rnum  FROM (SELECT RESNUM AS a1, AMOUNT AS a2, CONFIRM_DATE AS a3, CONTRACT_NUMBER AS a4, CREATE_DATE AS a5, END_DATE AS a6, GARDESH_END_DATE AS a7, GARDESH_START_DATE AS a8, SOLDIER_INST_COUNT AS a9, INSURANCE_ID AS a10, NATIONAL_CODE AS a11, ORD_ORDNO AS a12, ORP_ORDROW AS a13, REFNUM AS a14, RRN AS a15, SECUREPAN AS a16, SERVICENAME AS a17, START_DATE AS a18, STATE AS a19, STATUS AS a20, SYSTEMTYPE AS a21, TICKET AS a22, TICKET_BCKUP AS a23, TRACENO AS a24, USER_ID AS a25, WAGE AS a26 FROM ONLINEPAYMENTINFO WHERE (((((TICKET IS NOT NULL) AND (ORD_ORDNO IS NULL)) AND (ORP_ORDROW IS NULL)) AND STATE LIKE ?) AND (SYSTEMTYPE IN (?, ?, ?)))) a WHERE ROWNUM &lt;= ?) WHERE rnum &gt; ?\r\n\tbind =&gt; [%SUCCESSFUL%, 01, 03, 04, 1000, 0]\r\nQuery: ReadAllQuery(name=&quot;getOnlinePaymentInfo.fortimer.creatDebit&quot; referenceClass=OnlinePaymentInfo sql=&quot;SELECT * FROM (SELECT /*+ FIRST_ROWS(1000) */ a.*, ROWNUM rnum  FROM (SELECT RESNUM AS a1, AMOUNT AS a2, CONFIRM_DATE AS a3, CONTRACT_NUMBER AS a4, CREATE_DATE AS a5, END_DATE AS a6, GARDESH_END_DATE AS a7, GARDESH_START_DATE AS a8, SOLDIER_INST_COUNT AS a9, INSURANCE_ID AS a10, NATIONAL_CODE AS a11, ORD_ORDNO AS a12, ORP_ORDROW AS a13, REFNUM AS a14, RRN AS a15, SECUREPAN AS a16, SERVICENAME AS a17, START_DATE AS a18, STATE AS a19, STATUS AS a20, SYSTEMTYPE AS a21, TICKET AS a22, TICKET_BCKUP AS a23, TRACENO AS a24, USER_ID AS a25, WAGE AS a26 FROM ONLINEPAYMENTINFO WHERE (((((TICKET IS NOT NULL) AND (ORD_ORDNO IS NULL)) AND (ORP_ORDROW IS NULL)) AND STATE LIKE ?) AND (SYSTEMTYPE IN (?, ?, ?)))) a WHERE ROWNUM &lt;= ?) WHERE rnum &gt; ?&quot;)\r\n\tat org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:316)\r\n\tat org.eclipse.persistence.sessions.JNDIConnector.connect(JNDIConnector.java:147)\r\n\tat org.eclipse.persistence.sessions.DatasourceLogin.connectToDatasource(DatasourceLogin.java:162)\r\n\tat org.eclipse.persistence.internal.databaseaccess.DatasourceAccessor.connectInternal(DatasourceAccessor.java:346)\r\n\tat org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.connectInternal(DatabaseAccessor.java:309)\r\n\tat org.eclipse.persistence.internal.databaseaccess.DatasourceAccessor.reconnect(DatasourceAccessor.java:581)\r\n\tat org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.reconnect(DatabaseAccessor.java:1634)\r\n\tat org.eclipse.persistence.internal.databaseaccess.DatasourceAccessor.incrementCallCount(DatasourceAccessor.java:321)\r\n\tat org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:615)\r\n\tat org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:560)\r\n\tat org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2062)\r\n\tat org.eclipse.persistence.sessions.server.ServerSession.executeCall(ServerSession.java:570)\r\n\tat org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:261)\r\n\tat org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:260)\r\n\tat org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:246)\r\n\tat org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeSelectCall(DatasourceCallQueryMechanism.java:317)\r\n\tat org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.selectAllRows(DatasourceCallQueryMechanism.java:712)\r\n\tat org.eclipse.persistence.internal.queries.ExpressionQueryMechanism.selectAllRowsFromTable(ExpressionQueryMechanism.java:2740)\r\n\tat org.eclipse.persistence.internal.queries.ExpressionQueryMechanism.selectAllRows(ExpressionQueryMechanism.java:2693)\r\n\tat org.eclipse.persistence.queries.ReadAllQuery.executeObjectLevelReadQuery(ReadAllQuery.java:559)\r\n\tat org.eclipse.persistence.queries.ObjectLevelReadQuery.executeDatabaseQuery(ObjectLevelReadQuery.java:1175)\r\n\tat org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)\r\n\tat org.eclipse.persistence.queries.ObjectLevelReadQuery.execute(ObjectLevelReadQuery.java:1134)\r\n\tat org.eclipse.persistence.queries.ReadAllQuery.execute(ReadAllQuery.java:460)\r\n\tat org.eclipse.persistence.queries.ObjectLevelReadQuery.executeInUnitOfWork(ObjectLevelReadQuery.java:1222)\r\n\tat org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2899)\r\n\tat org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1863)\r\n\tat org.eclipse.persistence.internal.sessions.AbstractSession.retryQuery(AbstractSession.java:1934)\r\n\tat org.eclipse.persistence.sessions.server.ClientSession.retryQuery(ClientSession.java:697)\r\n\tat org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.retryQuery(UnitOfWorkImpl.java:5539)\r\n\tat org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1900)\r\n\tat org.eclipse.persistence.internal.sessions.AbstractSession.retryQuery(AbstractSession.java:1934)\r\n\tat org.eclipse.persistence.sessions.server.ClientSession.retryQuery(ClientSession.java:697)\r\n\tat org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.retryQuery(UnitOfWorkImpl.java:5539)\r\n\tat org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1900)\r\n\tat org.eclipse.persistence.internal.sessions.AbstractSession.retryQuery(AbstractSession.java:1934)\r\n\tat org.eclipse.persistence.sessions.server.ClientSession.retryQuery(ClientSession.java:697)\r\n\tat org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.retryQuery(UnitOfWorkImpl.java:5539)\r\n\tat org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1900)\r\n\tat org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1845)\r\n\tat org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1810)\r\n\tat org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:258)\r\n\t... 29 more\r\nCaused by: java.sql.SQLException: Attempt to set connection harvestable to false but the connection is already closed.\r\n\tat weblogic.jdbc.wrapper.Connection.setConnectionHarvestable(Connection.java:1590)\r\n\tat weblogic.jdbc.common.internal.RmiDataSource.getConnectionInternal(RmiDataSource.java:673)\r\n\tat weblogic.jdbc.common.internal.RmiDataSource.getConnection(RmiDataSource.java:594)\r\n\tat weblogic.jdbc.common.internal.RmiDataSource.getConnection(RmiDataSource.java:587)\r\n\tat org.eclipse.persistence.sessions.JNDIConnector.connect(JNDIConnector.java:135)\r\n\t... 69 more\r\n\r\n\tat weblogic.ejb.container.internal.EJBRuntimeUtils.asEJBException(EJBRuntimeUtils.java:86)\r\n\tat weblogic.ejb.container.internal.BaseLocalObject.handleSystemException(BaseLocalObject.java:461)\r\n\tat weblogic.ejb.container.internal.BaseLocalObject.handleSystemException(BaseLocalObject.java:410)\r\n\tat weblogic.ejb.container.internal.BaseLocalObject.postInvoke1(BaseLocalObject.java:239)\r\n\tat weblogic.ejb.container.internal.TimerDrivenLocalObject.postInvoke(TimerDrivenLocalObject.java:53)\r\n\tTruncated.\r\nCaused By: com.oracle.pitchfork.interfaces.LifecycleCallbackException: Failure to invoke public java.lang.Object org.jboss.weld.ejb.SessionBeanInterceptor.aroundInvoke(javax.interceptor.InvocationContext) throws java.lang.Exception on bean class class org.jboss.weld.ejb.SessionBeanInterceptor with args: [LifecycleEventCallbackInvocationContext(1523997077)]\r\n\tat com.oracle.pitchfork.inject.Jsr250Metadata.invokeLifecycleMethod(Jsr250Metadata.java:391)\r\n\tat com.oracle.pitchfork.intercept.LifecycleEventCallbackInvocationContext.proceed(LifecycleEventCallbackInvocationContext.java:121)\r\n\tat com.oracle.pitchfork.intercept.LifecycleEventCallbackInvocationContext.proceed(LifecycleEventCallbackInvocationContext.java:150)\r\n\tat com.oracle.pitchfork.intercept.InterceptionMetadata.invokeTimeoutMethod(InterceptionMetadata.java:626)\r\n\tat weblogic.ejb.container.injection.EjbComponentCreatorImpl.invokeTimer(EjbComponentCreatorImpl.java:71)\r\n\tTruncated.\r\nCaused By: java.lang.reflect.InvocationTargetException\r\n\tat sun.reflect.GeneratedMethodAccessor254.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.oracle.pitchfork.inject.Jsr250Metadata.invokeLifecycleMethod(Jsr250Metadata.java:388)\r\n\tat com.oracle.pitchfork.intercept.LifecycleEventCallbackInvocationContext.proceed(LifecycleEventCallbackInvocationContext.java:121)\r\n\tTruncated.\r\nCaused By: com.oracle.pitchfork.interfaces.LifecycleCallbackException: Failure to invoke timeout method public void ir.tamin.insurance.eservice.ws.rest.bank.SamanElectronicPaymentTimer.createDebitWithTimer() on bean class class ir.tamin.insurance.eservice.ws.rest.bank.SamanElectronicPaymentTimer_9io334_Impl with args: []]\r\n\tat com.oracle.pitchfork.inject.Jsr250Metadata.invokeTimeoutMethodInternal(Jsr250Metadata.java:376)\r\n\tat com.oracle.pitchfork.intercept.LifecycleEventCallbackInvocationContext.proceed(LifecycleEventCallbackInvocationContext.java:126)\r\n\tat org.jboss.weld.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:73)\r\n\tat org.jboss.weld.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)\r\n\tat sun.reflect.GeneratedMethodAccessor254.invoke(Unknown Source)\r\n\tTruncated.\r\nCaused By: java.lang.reflect.InvocationTargetException\r\n\tat sun.reflect.GeneratedMethodAccessor3729.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.oracle.pitchfork.inject.Jsr250Metadata.invokeTimeoutMethodInternal(Jsr250Metadata.java:373)\r\n\tat com.oracle.pitchfork.intercept.LifecycleEventCallbackInvocationContext.proceed(LifecycleEventCallbackInvocationContext.java:126)\r\n\tTruncated.\r\nCaused By: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.6.5.v20170607-b3d05bd): org.eclipse.persistence.exceptions.DatabaseException\r\nInternal Exception: java.sql.SQLException: Attempt to set connection harvestable to false but the connection is already closed.\r\nError Code: 0\r\nCall: SELECT * FROM (SELECT /*+ FIRST_ROWS(1000) */ a.*, ROWNUM rnum  FROM (SELECT RESNUM AS a1, AMOUNT AS a2, CONFIRM_DATE AS a3, CONTRACT_NUMBER AS a4, CREATE_DATE AS a5, END_DATE AS a6, GARDESH_END_DATE AS a7, GARDESH_START_DATE AS a8, SOLDIER_INST_COUNT AS a9, INSURANCE_ID AS a10, NATIONAL_CODE AS a11, ORD_ORDNO AS a12, ORP_ORDROW AS a13, REFNUM AS a14, RRN AS a15, SECUREPAN AS a16, SERVICENAME AS a17, START_DATE AS a18, STATE AS a19, STATUS AS a20, SYSTEMTYPE AS a21, TICKET AS a22, TICKET_BCKUP AS a23, TRACENO AS a24, USER_ID AS a25, WAGE AS a26 FROM ONLINEPAYMENTINFO WHERE (((((TICKET IS NOT NULL) AND (ORD_ORDNO IS NULL)) AND (ORP_ORDROW IS NULL)) AND STATE LIKE ?) AND (SYSTEMTYPE IN (?, ?, ?)))) a WHERE ROWNUM &lt;= ?) WHERE rnum &gt; ?\r\n\tbind =&gt; [%SUCCESSFUL%, 01, 03, 04, 1000, 0]\r\nQuery: ReadAllQuery(name=&quot;getOnlinePaymentInfo.fortimer.creatDebit&quot; referenceClass=OnlinePaymentInfo sql=&quot;SELECT * FROM (SELECT /*+ FIRST_ROWS(1000) */ a.*, ROWNUM rnum  FROM (SELECT RESNUM AS a1, AMOUNT AS a2, CONFIRM_DATE AS a3, CONTRACT_NUMBER AS a4, CREATE_DATE AS a5, END_DATE AS a6, GARDESH_END_DATE AS a7, GARDESH_START_DATE AS a8, SOLDIER_INST_COUNT AS a9, INSURANCE_ID AS a10, NATIONAL_CODE AS a11, ORD_ORDNO AS a12, ORP_ORDROW AS a13, REFNUM AS a14, RRN AS a15, SECUREPAN AS a16, SERVICENAME AS a17, START_DATE AS a18, STATE AS a19, STATUS AS a20, SYSTEMTYPE AS a21, TICKET AS a22, TICKET_BCKUP AS a23, TRACENO AS a24, USER_ID AS a25, WAGE AS a26 FROM ONLINEPAYMENTINFO WHERE (((((TICKET IS NOT NULL) AND (ORD_ORDNO IS NULL)) AND (ORP_ORDROW IS NULL)) AND STATE LIKE ?) AND (SYSTEMTYPE IN (?, ?, ?)))) a WHERE ROWNUM &lt;= ?) WHERE rnum &gt; ?&quot;)\r\n\tat org.eclipse.persistence.internal.jpa.QueryImpl.getDetailedException(QueryImpl.java:387)\r\n\tat org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:260)\r\n\tat org.eclipse.persistence.internal.jpa.QueryImpl.getResultList(QueryImpl.java:478)\r\n\tat ir.tamin.insurance.eservice.ws.rest.bank.SamanElectronicPaymentTimer.createDebitWithTimer(SamanElectronicPaymentTimer.java:68)\r\n\tat sun.reflect.GeneratedMethodAccessor3729.invoke(Unknown Source)\r\n\tTruncated.\r\nCaused By: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.6.5.v20170607-b3d05bd): org.eclipse.persistence.exceptions.DatabaseException\r\nInternal Exception: java.sql.SQLException: Attempt to set connection harvestable to false but the connection is already closed.\r\nError Code: 0\r\nCall: SELECT * FROM (SELECT /*+ FIRST_ROWS(1000) */ a.*, ROWNUM rnum  FROM (SELECT RESNUM AS a1, AMOUNT AS a2, CONFIRM_DATE AS a3, CONTRACT_NUMBER AS a4, CREATE_DATE AS a5, END_DATE AS a6, GARDESH_END_DATE AS a7, GARDESH_START_DATE AS a8, SOLDIER_INST_COUNT AS a9, INSURANCE_ID AS a10, NATIONAL_CODE AS a11, ORD_ORDNO AS a12, ORP_ORDROW AS a13, REFNUM AS a14, RRN AS a15, SECUREPAN AS a16, SERVICENAME AS a17, START_DATE AS a18, STATE AS a19, STATUS AS a20, SYSTEMTYPE AS a21, TICKET AS a22, TICKET_BCKUP AS a23, TRACENO AS a24, USER_ID AS a25, WAGE AS a26 FROM ONLINEPAYMENTINFO WHERE (((((TICKET IS NOT NULL) AND (ORD_ORDNO IS NULL)) AND (ORP_ORDROW IS NULL)) AND STATE LIKE ?) AND (SYSTEMTYPE IN (?, ?, ?)))) a WHERE ROWNUM &lt;= ?) WHERE rnum &gt; ?\r\n\tbind =&gt; [%SUCCESSFUL%, 01, 03, 04, 1000, 0]\r\nQuery: ReadAllQuery(name=&quot;getOnlinePaymentInfo.fortimer.creatDebit&quot; referenceClass=OnlinePaymentInfo sql=&quot;SELECT * FROM (SELECT /*+ FIRST_ROWS(1000) */ a.*, ROWNUM rnum  FROM (SELECT RESNUM AS a1, AMOUNT AS a2, CONFIRM_DATE AS a3, CONTRACT_NUMBER AS a4, CREATE_DATE AS a5, END_DATE AS a6, GARDESH_END_DATE AS a7, GARDESH_START_DATE AS a8, SOLDIER_INST_COUNT AS a9, INSURANCE_ID AS a10, NATIONAL_CODE AS a11, ORD_ORDNO AS a12, ORP_ORDROW AS a13, REFNUM AS a14, RRN AS a15, SECUREPAN AS a16, SERVICENAME AS a17, START_DATE AS a18, STATE AS a19, STATUS AS a20, SYSTEMTYPE AS a21, TICKET AS a22, TICKET_BCKUP AS a23, TRACENO AS a24, USER_ID AS a25, WAGE AS a26 FROM ONLINEPAYMENTINFO WHERE (((((TICKET IS NOT NULL) AND (ORD_ORDNO IS NULL)) AND (ORP_ORDROW IS NULL)) AND STATE LIKE ?) AND (SYSTEMTYPE IN (?, ?, ?)))) a WHERE ROWNUM &lt;= ?) WHERE rnum &gt; ?&quot;)\r\n\tat org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:316)\r\n\tat org.eclipse.persistence.sessions.JNDIConnector.connect(JNDIConnector.java:147)\r\n\tat org.eclipse.persistence.sessions.DatasourceLogin.connectToDatasource(DatasourceLogin.java:162)\r\n\tat org.eclipse.persistence.internal.databaseaccess.DatasourceAccessor.connectInternal(DatasourceAccessor.java:346)\r\n\tat org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.connectInternal(DatabaseAccessor.java:309)\r\n\tTruncated.\r\nCaused By: java.sql.SQLException: Attempt to set connection harvestable to false but the connection is already closed.\r\n\tat weblogic.jdbc.wrapper.Connection.setConnectionHarvestable(Connection.java:1590)\r\n\tat weblogic.jdbc.common.internal.RmiDataSource.getConnectionInternal(RmiDataSource.java:673)\r\n\tat weblogic.jdbc.common.internal.RmiDataSource.getConnection(RmiDataSource.java:594)\r\n\tat weblogic.jdbc.common.internal.RmiDataSource.getConnection(RmiDataSource.java:587)\r\n\tat org.eclipse.persistence.sessions.JNDIConnector.connect(JNDIConnector.java:135)\r\n\tTruncated.\r\n&gt; \r\n````\r\ni have no idea why a timer would stop working at the first place, plus why the transaction times out while it is not executing the query directly on database?\r\n\r\ndoes weblogic stop a scheduler when it is failed to do the job on every execution? ","title":"ejb timer (scheduler) does not trigger","body":"<p>i have two ejb schedulers inside a class running on a weblogic server. it works fine except in some rare occasions where one of them (the first timer) does not even trigger, while the other one is working. i get aware of it by looking at server logs and see no logs available for it. i wonder why it never gets triggered!</p>\n<p>the problem is solved by restarting the server node on which the timers are working on.</p>\n<pre><code>@Singleton\npublic class SamanElectronicPaymentTimer {\n\n\n    @Inject\n    private EntityManager em;\n\n    @Inject\n    @WebProperties\n    Bundle webProperties;\n    @Inject\n    SamanElectronicPaymentService samanElectronicPaymentService;\n    @Inject\n    private RestServices restServices;\n\n    @Inject\n    private CreateHistory createHistory;\n\n    @Schedule(minute = &quot;*/5&quot;, dayOfMonth = &quot;*&quot;, hour = &quot;*&quot;, month = &quot;*&quot;, year = &quot;*&quot;, second = &quot;20&quot;, persistent = false)\n\n    public void samanElectronicCheckPayment() {\n        try {\n            Logger.getLogger(DebitInstallmentPaymentTimer.class.getName()).log(Level.INFO, &quot;samanElectronicCheckPayment is running&quot;);\n            if (checkTrueNode()) {\n\n                payCheckSamanManualyTimer();\n                Logger.getLogger(SamanElectronicPaymentTimer.class.getName()).log(Level.INFO, &quot;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; samanElectronicCheckPaymentTimer End&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\n            }\n        } catch (Exception ex) {\n            Logger.getLogger(SamanElectronicPaymentTimer.class.getName()).log(Level.SEVERE, ex.getMessage());\n        }\n    }\n\n\n    @Schedule(minute = &quot;*/20&quot;, hour = &quot;*&quot;, second = &quot;10&quot;, persistent = false)\n    public void createDebitWithTimer() {\n        if (checkTrueNode()) {\n            try {\n                List&lt;OnlinePaymentInfo&gt; onlinePaymentInfoList = this.em.createNamedQuery(&quot;getOnlinePaymentInfo.fortimer.creatDebit&quot;)\n                        .setMaxResults(1000)\n                        .getResultList();\n                if (onlinePaymentInfoList.size() &gt; 0) {\n\n                    for (OnlinePaymentInfo onlinePaymentInfotmp : onlinePaymentInfoList) {\n                        Logger.getLogger(this.getClass().getName()).log(Level.INFO, onlinePaymentInfotmp.toString());\n                        createHistory.createHistoryByTimer(onlinePaymentInfotmp);\n\n                    }\n                    Logger.getLogger(this.getClass().getName()).log(Level.INFO, onlinePaymentInfoList.size() + &quot; histories created!&quot;);\n                }\n            } catch (Exception ex) {\n                Logger.getLogger(this.getClass().getName()).log(Level.SEVERE, &quot;sabegheTimer went wrong:: &quot; + ex);\n            }\n        }\n\n    }\n\n\n    private boolean checkTrueNode() {\n        try {\n            InitialContext ctx = new InitialContext();\n            MBeanServer mBeanServer = (MBeanServer) ctx.lookup(&quot;java:comp/env/jmx/runtime&quot;);\n            String serverName = System.getProperty(&quot;weblogic.Name&quot;);\n            ObjectName serverRuntime = new ObjectName(&quot;com.bea:Name=&quot; + serverName + &quot;,Type=ServerRuntime&quot;);\n            String listenAddress = mBeanServer.getAttribute(serverRuntime, &quot;ListenAddress&quot;).toString();\n            String listenPort = mBeanServer.getAttribute(serverRuntime, &quot;ListenPort&quot;).toString();\n            Logger.getLogger(DebitInstallmentPaymentTimer.class.getName()).log(Level.INFO, &quot;listenPort is :&quot; + listenPort.toString());\n            Logger.getLogger(DebitInstallmentPaymentTimer.class.getName()).log(Level.INFO, &quot;ListenAddress is :&quot; + listenAddress.toString());\n            if (listenPort.equals(&quot;9091&quot;) &amp;&amp; listenAddress.contains(&quot;eservice-n3.tamin.org&quot;)) {\n                return true;\n            } else {\n                return false;\n            }\n        } catch (Exception ex) {\n            ex.printStackTrace();\n            return false;\n        }\n    }\n</code></pre>\n<p>while the first scheduler not even gets triggered in very rare cases, the second timer keeps throwing the following exception. which points to the fact that the named query <code>getOnlinePaymentInfo.fortimer.creatDebit</code> gets timeout. but executing the query on database encounters no timeout issue and runs within few seconds.</p>\n<p>both problems disappear by restarting the server.</p>\n<pre><code>&lt;Jun 28, 2023 1:20:37,835 PM IRST&gt; &lt;Error&gt; &lt;EJB&gt; &lt;BEA-011088&gt; &lt;The following error occurred while invoking the ejbTimeout(javax.ejb.Timer) method of EJB SamanElectronicPaymentTimer(Application: eservice-web, EJBComponent: eservice-web.war).\njavax.ejb.EJBException: EJB Exception: : com.oracle.pitchfork.interfaces.LifecycleCallbackException: Failure to invoke public java.lang.Object org.jboss.weld.ejb.SessionBeanInterceptor.aroundInvoke(javax.interceptor.InvocationContext) throws java.lang.Exception on bean class class org.jboss.weld.ejb.SessionBeanInterceptor with args: [LifecycleEventCallbackInvocationContext(1523997077)]\n    at com.oracle.pitchfork.inject.Jsr250Metadata.invokeLifecycleMethod(Jsr250Metadata.java:391)\n    at com.oracle.pitchfork.intercept.LifecycleEventCallbackInvocationContext.proceed(LifecycleEventCallbackInvocationContext.java:121)\n    at com.oracle.pitchfork.intercept.LifecycleEventCallbackInvocationContext.proceed(LifecycleEventCallbackInvocationContext.java:150)\n    at com.oracle.pitchfork.intercept.InterceptionMetadata.invokeTimeoutMethod(InterceptionMetadata.java:626)\n    at weblogic.ejb.container.injection.EjbComponentCreatorImpl.invokeTimer(EjbComponentCreatorImpl.java:71)\n    at weblogic.ejb.container.injection.InjectionBasedEjbComponentCreator.invokeTimer(InjectionBasedEjbComponentCreator.java:193)\n    at weblogic.ejb.container.manager.BaseEJBManager.invokeTimeoutMethod(BaseEJBManager.java:199)\n    at weblogic.ejb.container.timer.TimerImpl.timerExpired(TimerImpl.java:343)\n    at weblogic.timers.internal.TimerImpl.run(TimerImpl.java:301)\n    at weblogic.work.SelfTuningWorkManagerImpl$WorkAdapterImpl.run(SelfTuningWorkManagerImpl.java:678)\n    at weblogic.invocation.ComponentInvocationContextManager._runAs(ComponentInvocationContextManager.java:352)\n    at weblogic.invocation.ComponentInvocationContextManager.runAs(ComponentInvocationContextManager.java:337)\n    at weblogic.work.LivePartitionUtility.doRunWorkUnderContext(LivePartitionUtility.java:57)\n    at weblogic.work.PartitionUtility.runWorkUnderContext(PartitionUtility.java:41)\n    at weblogic.work.SelfTuningWorkManagerImpl.runWorkUnderContext(SelfTuningWorkManagerImpl.java:652)\n    at weblogic.work.ExecuteThread.execute(ExecuteThread.java:420)\n    at weblogic.work.ExecuteThread.run(ExecuteThread.java:360)\nCaused by: java.lang.reflect.InvocationTargetException\n    at sun.reflect.GeneratedMethodAccessor254.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at com.oracle.pitchfork.inject.Jsr250Metadata.invokeLifecycleMethod(Jsr250Metadata.java:388)\n    ... 16 more\nCaused by: com.oracle.pitchfork.interfaces.LifecycleCallbackException: Failure to invoke timeout method public void ir.tamin.insurance.eservice.ws.rest.bank.SamanElectronicPaymentTimer.createDebitWithTimer() on bean class class ir.tamin.insurance.eservice.ws.rest.bank.SamanElectronicPaymentTimer_9io334_Impl with args: []]\n    at com.oracle.pitchfork.inject.Jsr250Metadata.invokeTimeoutMethodInternal(Jsr250Metadata.java:376)\n    at com.oracle.pitchfork.intercept.LifecycleEventCallbackInvocationContext.proceed(LifecycleEventCallbackInvocationContext.java:126)\n    at org.jboss.weld.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:73)\n    at org.jboss.weld.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)\n    ... 20 more\nCaused by: java.lang.reflect.InvocationTargetException\n    at sun.reflect.GeneratedMethodAccessor3729.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at com.oracle.pitchfork.inject.Jsr250Metadata.invokeTimeoutMethodInternal(Jsr250Metadata.java:373)\n    ... 23 more\nCaused by: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.6.5.v20170607-b3d05bd): org.eclipse.persistence.exceptions.DatabaseException\nInternal Exception: java.sql.SQLException: Attempt to set connection harvestable to false but the connection is already closed.\nError Code: 0\nCall: SELECT * FROM (SELECT /*+ FIRST_ROWS(1000) */ a.*, ROWNUM rnum  FROM (SELECT RESNUM AS a1, AMOUNT AS a2, CONFIRM_DATE AS a3, CONTRACT_NUMBER AS a4, CREATE_DATE AS a5, END_DATE AS a6, GARDESH_END_DATE AS a7, GARDESH_START_DATE AS a8, SOLDIER_INST_COUNT AS a9, INSURANCE_ID AS a10, NATIONAL_CODE AS a11, ORD_ORDNO AS a12, ORP_ORDROW AS a13, REFNUM AS a14, RRN AS a15, SECUREPAN AS a16, SERVICENAME AS a17, START_DATE AS a18, STATE AS a19, STATUS AS a20, SYSTEMTYPE AS a21, TICKET AS a22, TICKET_BCKUP AS a23, TRACENO AS a24, USER_ID AS a25, WAGE AS a26 FROM ONLINEPAYMENTINFO WHERE (((((TICKET IS NOT NULL) AND (ORD_ORDNO IS NULL)) AND (ORP_ORDROW IS NULL)) AND STATE LIKE ?) AND (SYSTEMTYPE IN (?, ?, ?)))) a WHERE ROWNUM &lt;= ?) WHERE rnum &gt; ?\n    bind =&gt; [%SUCCESSFUL%, 01, 03, 04, 1000, 0]\nQuery: ReadAllQuery(name=&quot;getOnlinePaymentInfo.fortimer.creatDebit&quot; referenceClass=OnlinePaymentInfo sql=&quot;SELECT * FROM (SELECT /*+ FIRST_ROWS(1000) */ a.*, ROWNUM rnum  FROM (SELECT RESNUM AS a1, AMOUNT AS a2, CONFIRM_DATE AS a3, CONTRACT_NUMBER AS a4, CREATE_DATE AS a5, END_DATE AS a6, GARDESH_END_DATE AS a7, GARDESH_START_DATE AS a8, SOLDIER_INST_COUNT AS a9, INSURANCE_ID AS a10, NATIONAL_CODE AS a11, ORD_ORDNO AS a12, ORP_ORDROW AS a13, REFNUM AS a14, RRN AS a15, SECUREPAN AS a16, SERVICENAME AS a17, START_DATE AS a18, STATE AS a19, STATUS AS a20, SYSTEMTYPE AS a21, TICKET AS a22, TICKET_BCKUP AS a23, TRACENO AS a24, USER_ID AS a25, WAGE AS a26 FROM ONLINEPAYMENTINFO WHERE (((((TICKET IS NOT NULL) AND (ORD_ORDNO IS NULL)) AND (ORP_ORDROW IS NULL)) AND STATE LIKE ?) AND (SYSTEMTYPE IN (?, ?, ?)))) a WHERE ROWNUM &lt;= ?) WHERE rnum &gt; ?&quot;)\n    at org.eclipse.persistence.internal.jpa.QueryImpl.getDetailedException(QueryImpl.java:387)\n    at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:260)\n    at org.eclipse.persistence.internal.jpa.QueryImpl.getResultList(QueryImpl.java:478)\n    at ir.tamin.insurance.eservice.ws.rest.bank.SamanElectronicPaymentTimer.createDebitWithTimer(SamanElectronicPaymentTimer.java:68)\n    ... 27 more\nCaused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.6.5.v20170607-b3d05bd): org.eclipse.persistence.exceptions.DatabaseException\nInternal Exception: java.sql.SQLException: Attempt to set connection harvestable to false but the connection is already closed.\nError Code: 0\nCall: SELECT * FROM (SELECT /*+ FIRST_ROWS(1000) */ a.*, ROWNUM rnum  FROM (SELECT RESNUM AS a1, AMOUNT AS a2, CONFIRM_DATE AS a3, CONTRACT_NUMBER AS a4, CREATE_DATE AS a5, END_DATE AS a6, GARDESH_END_DATE AS a7, GARDESH_START_DATE AS a8, SOLDIER_INST_COUNT AS a9, INSURANCE_ID AS a10, NATIONAL_CODE AS a11, ORD_ORDNO AS a12, ORP_ORDROW AS a13, REFNUM AS a14, RRN AS a15, SECUREPAN AS a16, SERVICENAME AS a17, START_DATE AS a18, STATE AS a19, STATUS AS a20, SYSTEMTYPE AS a21, TICKET AS a22, TICKET_BCKUP AS a23, TRACENO AS a24, USER_ID AS a25, WAGE AS a26 FROM ONLINEPAYMENTINFO WHERE (((((TICKET IS NOT NULL) AND (ORD_ORDNO IS NULL)) AND (ORP_ORDROW IS NULL)) AND STATE LIKE ?) AND (SYSTEMTYPE IN (?, ?, ?)))) a WHERE ROWNUM &lt;= ?) WHERE rnum &gt; ?\n    bind =&gt; [%SUCCESSFUL%, 01, 03, 04, 1000, 0]\nQuery: ReadAllQuery(name=&quot;getOnlinePaymentInfo.fortimer.creatDebit&quot; referenceClass=OnlinePaymentInfo sql=&quot;SELECT * FROM (SELECT /*+ FIRST_ROWS(1000) */ a.*, ROWNUM rnum  FROM (SELECT RESNUM AS a1, AMOUNT AS a2, CONFIRM_DATE AS a3, CONTRACT_NUMBER AS a4, CREATE_DATE AS a5, END_DATE AS a6, GARDESH_END_DATE AS a7, GARDESH_START_DATE AS a8, SOLDIER_INST_COUNT AS a9, INSURANCE_ID AS a10, NATIONAL_CODE AS a11, ORD_ORDNO AS a12, ORP_ORDROW AS a13, REFNUM AS a14, RRN AS a15, SECUREPAN AS a16, SERVICENAME AS a17, START_DATE AS a18, STATE AS a19, STATUS AS a20, SYSTEMTYPE AS a21, TICKET AS a22, TICKET_BCKUP AS a23, TRACENO AS a24, USER_ID AS a25, WAGE AS a26 FROM ONLINEPAYMENTINFO WHERE (((((TICKET IS NOT NULL) AND (ORD_ORDNO IS NULL)) AND (ORP_ORDROW IS NULL)) AND STATE LIKE ?) AND (SYSTEMTYPE IN (?, ?, ?)))) a WHERE ROWNUM &lt;= ?) WHERE rnum &gt; ?&quot;)\n    at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:316)\n    at org.eclipse.persistence.sessions.JNDIConnector.connect(JNDIConnector.java:147)\n    at org.eclipse.persistence.sessions.DatasourceLogin.connectToDatasource(DatasourceLogin.java:162)\n    at org.eclipse.persistence.internal.databaseaccess.DatasourceAccessor.connectInternal(DatasourceAccessor.java:346)\n    at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.connectInternal(DatabaseAccessor.java:309)\n    at org.eclipse.persistence.internal.databaseaccess.DatasourceAccessor.reconnect(DatasourceAccessor.java:581)\n    at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.reconnect(DatabaseAccessor.java:1634)\n    at org.eclipse.persistence.internal.databaseaccess.DatasourceAccessor.incrementCallCount(DatasourceAccessor.java:321)\n    at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:615)\n    at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:560)\n    at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2062)\n    at org.eclipse.persistence.sessions.server.ServerSession.executeCall(ServerSession.java:570)\n    at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:261)\n    at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:260)\n    at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:246)\n    at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeSelectCall(DatasourceCallQueryMechanism.java:317)\n    at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.selectAllRows(DatasourceCallQueryMechanism.java:712)\n    at org.eclipse.persistence.internal.queries.ExpressionQueryMechanism.selectAllRowsFromTable(ExpressionQueryMechanism.java:2740)\n    at org.eclipse.persistence.internal.queries.ExpressionQueryMechanism.selectAllRows(ExpressionQueryMechanism.java:2693)\n    at org.eclipse.persistence.queries.ReadAllQuery.executeObjectLevelReadQuery(ReadAllQuery.java:559)\n    at org.eclipse.persistence.queries.ObjectLevelReadQuery.executeDatabaseQuery(ObjectLevelReadQuery.java:1175)\n    at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)\n    at org.eclipse.persistence.queries.ObjectLevelReadQuery.execute(ObjectLevelReadQuery.java:1134)\n    at org.eclipse.persistence.queries.ReadAllQuery.execute(ReadAllQuery.java:460)\n    at org.eclipse.persistence.queries.ObjectLevelReadQuery.executeInUnitOfWork(ObjectLevelReadQuery.java:1222)\n    at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2899)\n    at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1863)\n    at org.eclipse.persistence.internal.sessions.AbstractSession.retryQuery(AbstractSession.java:1934)\n    at org.eclipse.persistence.sessions.server.ClientSession.retryQuery(ClientSession.java:697)\n    at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.retryQuery(UnitOfWorkImpl.java:5539)\n    at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1900)\n    at org.eclipse.persistence.internal.sessions.AbstractSession.retryQuery(AbstractSession.java:1934)\n    at org.eclipse.persistence.sessions.server.ClientSession.retryQuery(ClientSession.java:697)\n    at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.retryQuery(UnitOfWorkImpl.java:5539)\n    at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1900)\n    at org.eclipse.persistence.internal.sessions.AbstractSession.retryQuery(AbstractSession.java:1934)\n    at org.eclipse.persistence.sessions.server.ClientSession.retryQuery(ClientSession.java:697)\n    at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.retryQuery(UnitOfWorkImpl.java:5539)\n    at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1900)\n    at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1845)\n    at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1810)\n    at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:258)\n    ... 29 more\nCaused by: java.sql.SQLException: Attempt to set connection harvestable to false but the connection is already closed.\n    at weblogic.jdbc.wrapper.Connection.setConnectionHarvestable(Connection.java:1590)\n    at weblogic.jdbc.common.internal.RmiDataSource.getConnectionInternal(RmiDataSource.java:673)\n    at weblogic.jdbc.common.internal.RmiDataSource.getConnection(RmiDataSource.java:594)\n    at weblogic.jdbc.common.internal.RmiDataSource.getConnection(RmiDataSource.java:587)\n    at org.eclipse.persistence.sessions.JNDIConnector.connect(JNDIConnector.java:135)\n    ... 69 more\n\n    at weblogic.ejb.container.internal.EJBRuntimeUtils.asEJBException(EJBRuntimeUtils.java:86)\n    at weblogic.ejb.container.internal.BaseLocalObject.handleSystemException(BaseLocalObject.java:461)\n    at weblogic.ejb.container.internal.BaseLocalObject.handleSystemException(BaseLocalObject.java:410)\n    at weblogic.ejb.container.internal.BaseLocalObject.postInvoke1(BaseLocalObject.java:239)\n    at weblogic.ejb.container.internal.TimerDrivenLocalObject.postInvoke(TimerDrivenLocalObject.java:53)\n    Truncated.\nCaused By: com.oracle.pitchfork.interfaces.LifecycleCallbackException: Failure to invoke public java.lang.Object org.jboss.weld.ejb.SessionBeanInterceptor.aroundInvoke(javax.interceptor.InvocationContext) throws java.lang.Exception on bean class class org.jboss.weld.ejb.SessionBeanInterceptor with args: [LifecycleEventCallbackInvocationContext(1523997077)]\n    at com.oracle.pitchfork.inject.Jsr250Metadata.invokeLifecycleMethod(Jsr250Metadata.java:391)\n    at com.oracle.pitchfork.intercept.LifecycleEventCallbackInvocationContext.proceed(LifecycleEventCallbackInvocationContext.java:121)\n    at com.oracle.pitchfork.intercept.LifecycleEventCallbackInvocationContext.proceed(LifecycleEventCallbackInvocationContext.java:150)\n    at com.oracle.pitchfork.intercept.InterceptionMetadata.invokeTimeoutMethod(InterceptionMetadata.java:626)\n    at weblogic.ejb.container.injection.EjbComponentCreatorImpl.invokeTimer(EjbComponentCreatorImpl.java:71)\n    Truncated.\nCaused By: java.lang.reflect.InvocationTargetException\n    at sun.reflect.GeneratedMethodAccessor254.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at com.oracle.pitchfork.inject.Jsr250Metadata.invokeLifecycleMethod(Jsr250Metadata.java:388)\n    at com.oracle.pitchfork.intercept.LifecycleEventCallbackInvocationContext.proceed(LifecycleEventCallbackInvocationContext.java:121)\n    Truncated.\nCaused By: com.oracle.pitchfork.interfaces.LifecycleCallbackException: Failure to invoke timeout method public void ir.tamin.insurance.eservice.ws.rest.bank.SamanElectronicPaymentTimer.createDebitWithTimer() on bean class class ir.tamin.insurance.eservice.ws.rest.bank.SamanElectronicPaymentTimer_9io334_Impl with args: []]\n    at com.oracle.pitchfork.inject.Jsr250Metadata.invokeTimeoutMethodInternal(Jsr250Metadata.java:376)\n    at com.oracle.pitchfork.intercept.LifecycleEventCallbackInvocationContext.proceed(LifecycleEventCallbackInvocationContext.java:126)\n    at org.jboss.weld.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:73)\n    at org.jboss.weld.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)\n    at sun.reflect.GeneratedMethodAccessor254.invoke(Unknown Source)\n    Truncated.\nCaused By: java.lang.reflect.InvocationTargetException\n    at sun.reflect.GeneratedMethodAccessor3729.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at com.oracle.pitchfork.inject.Jsr250Metadata.invokeTimeoutMethodInternal(Jsr250Metadata.java:373)\n    at com.oracle.pitchfork.intercept.LifecycleEventCallbackInvocationContext.proceed(LifecycleEventCallbackInvocationContext.java:126)\n    Truncated.\nCaused By: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.6.5.v20170607-b3d05bd): org.eclipse.persistence.exceptions.DatabaseException\nInternal Exception: java.sql.SQLException: Attempt to set connection harvestable to false but the connection is already closed.\nError Code: 0\nCall: SELECT * FROM (SELECT /*+ FIRST_ROWS(1000) */ a.*, ROWNUM rnum  FROM (SELECT RESNUM AS a1, AMOUNT AS a2, CONFIRM_DATE AS a3, CONTRACT_NUMBER AS a4, CREATE_DATE AS a5, END_DATE AS a6, GARDESH_END_DATE AS a7, GARDESH_START_DATE AS a8, SOLDIER_INST_COUNT AS a9, INSURANCE_ID AS a10, NATIONAL_CODE AS a11, ORD_ORDNO AS a12, ORP_ORDROW AS a13, REFNUM AS a14, RRN AS a15, SECUREPAN AS a16, SERVICENAME AS a17, START_DATE AS a18, STATE AS a19, STATUS AS a20, SYSTEMTYPE AS a21, TICKET AS a22, TICKET_BCKUP AS a23, TRACENO AS a24, USER_ID AS a25, WAGE AS a26 FROM ONLINEPAYMENTINFO WHERE (((((TICKET IS NOT NULL) AND (ORD_ORDNO IS NULL)) AND (ORP_ORDROW IS NULL)) AND STATE LIKE ?) AND (SYSTEMTYPE IN (?, ?, ?)))) a WHERE ROWNUM &lt;= ?) WHERE rnum &gt; ?\n    bind =&gt; [%SUCCESSFUL%, 01, 03, 04, 1000, 0]\nQuery: ReadAllQuery(name=&quot;getOnlinePaymentInfo.fortimer.creatDebit&quot; referenceClass=OnlinePaymentInfo sql=&quot;SELECT * FROM (SELECT /*+ FIRST_ROWS(1000) */ a.*, ROWNUM rnum  FROM (SELECT RESNUM AS a1, AMOUNT AS a2, CONFIRM_DATE AS a3, CONTRACT_NUMBER AS a4, CREATE_DATE AS a5, END_DATE AS a6, GARDESH_END_DATE AS a7, GARDESH_START_DATE AS a8, SOLDIER_INST_COUNT AS a9, INSURANCE_ID AS a10, NATIONAL_CODE AS a11, ORD_ORDNO AS a12, ORP_ORDROW AS a13, REFNUM AS a14, RRN AS a15, SECUREPAN AS a16, SERVICENAME AS a17, START_DATE AS a18, STATE AS a19, STATUS AS a20, SYSTEMTYPE AS a21, TICKET AS a22, TICKET_BCKUP AS a23, TRACENO AS a24, USER_ID AS a25, WAGE AS a26 FROM ONLINEPAYMENTINFO WHERE (((((TICKET IS NOT NULL) AND (ORD_ORDNO IS NULL)) AND (ORP_ORDROW IS NULL)) AND STATE LIKE ?) AND (SYSTEMTYPE IN (?, ?, ?)))) a WHERE ROWNUM &lt;= ?) WHERE rnum &gt; ?&quot;)\n    at org.eclipse.persistence.internal.jpa.QueryImpl.getDetailedException(QueryImpl.java:387)\n    at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:260)\n    at org.eclipse.persistence.internal.jpa.QueryImpl.getResultList(QueryImpl.java:478)\n    at ir.tamin.insurance.eservice.ws.rest.bank.SamanElectronicPaymentTimer.createDebitWithTimer(SamanElectronicPaymentTimer.java:68)\n    at sun.reflect.GeneratedMethodAccessor3729.invoke(Unknown Source)\n    Truncated.\nCaused By: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.6.5.v20170607-b3d05bd): org.eclipse.persistence.exceptions.DatabaseException\nInternal Exception: java.sql.SQLException: Attempt to set connection harvestable to false but the connection is already closed.\nError Code: 0\nCall: SELECT * FROM (SELECT /*+ FIRST_ROWS(1000) */ a.*, ROWNUM rnum  FROM (SELECT RESNUM AS a1, AMOUNT AS a2, CONFIRM_DATE AS a3, CONTRACT_NUMBER AS a4, CREATE_DATE AS a5, END_DATE AS a6, GARDESH_END_DATE AS a7, GARDESH_START_DATE AS a8, SOLDIER_INST_COUNT AS a9, INSURANCE_ID AS a10, NATIONAL_CODE AS a11, ORD_ORDNO AS a12, ORP_ORDROW AS a13, REFNUM AS a14, RRN AS a15, SECUREPAN AS a16, SERVICENAME AS a17, START_DATE AS a18, STATE AS a19, STATUS AS a20, SYSTEMTYPE AS a21, TICKET AS a22, TICKET_BCKUP AS a23, TRACENO AS a24, USER_ID AS a25, WAGE AS a26 FROM ONLINEPAYMENTINFO WHERE (((((TICKET IS NOT NULL) AND (ORD_ORDNO IS NULL)) AND (ORP_ORDROW IS NULL)) AND STATE LIKE ?) AND (SYSTEMTYPE IN (?, ?, ?)))) a WHERE ROWNUM &lt;= ?) WHERE rnum &gt; ?\n    bind =&gt; [%SUCCESSFUL%, 01, 03, 04, 1000, 0]\nQuery: ReadAllQuery(name=&quot;getOnlinePaymentInfo.fortimer.creatDebit&quot; referenceClass=OnlinePaymentInfo sql=&quot;SELECT * FROM (SELECT /*+ FIRST_ROWS(1000) */ a.*, ROWNUM rnum  FROM (SELECT RESNUM AS a1, AMOUNT AS a2, CONFIRM_DATE AS a3, CONTRACT_NUMBER AS a4, CREATE_DATE AS a5, END_DATE AS a6, GARDESH_END_DATE AS a7, GARDESH_START_DATE AS a8, SOLDIER_INST_COUNT AS a9, INSURANCE_ID AS a10, NATIONAL_CODE AS a11, ORD_ORDNO AS a12, ORP_ORDROW AS a13, REFNUM AS a14, RRN AS a15, SECUREPAN AS a16, SERVICENAME AS a17, START_DATE AS a18, STATE AS a19, STATUS AS a20, SYSTEMTYPE AS a21, TICKET AS a22, TICKET_BCKUP AS a23, TRACENO AS a24, USER_ID AS a25, WAGE AS a26 FROM ONLINEPAYMENTINFO WHERE (((((TICKET IS NOT NULL) AND (ORD_ORDNO IS NULL)) AND (ORP_ORDROW IS NULL)) AND STATE LIKE ?) AND (SYSTEMTYPE IN (?, ?, ?)))) a WHERE ROWNUM &lt;= ?) WHERE rnum &gt; ?&quot;)\n    at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:316)\n    at org.eclipse.persistence.sessions.JNDIConnector.connect(JNDIConnector.java:147)\n    at org.eclipse.persistence.sessions.DatasourceLogin.connectToDatasource(DatasourceLogin.java:162)\n    at org.eclipse.persistence.internal.databaseaccess.DatasourceAccessor.connectInternal(DatasourceAccessor.java:346)\n    at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.connectInternal(DatabaseAccessor.java:309)\n    Truncated.\nCaused By: java.sql.SQLException: Attempt to set connection harvestable to false but the connection is already closed.\n    at weblogic.jdbc.wrapper.Connection.setConnectionHarvestable(Connection.java:1590)\n    at weblogic.jdbc.common.internal.RmiDataSource.getConnectionInternal(RmiDataSource.java:673)\n    at weblogic.jdbc.common.internal.RmiDataSource.getConnection(RmiDataSource.java:594)\n    at weblogic.jdbc.common.internal.RmiDataSource.getConnection(RmiDataSource.java:587)\n    at org.eclipse.persistence.sessions.JNDIConnector.connect(JNDIConnector.java:135)\n    Truncated.\n&gt; \n</code></pre>\n<p>i have no idea why a timer would stop working at the first place, plus why the transaction times out while it is not executing the query directly on database?</p>\n<p>does weblogic stop a scheduler when it is failed to do the job on every execution?</p>\n"},{"tags":["java","selenium-webdriver","sap-fiori"],"comments":[{"owner":{"account_id":9862817,"reputation":5309,"user_id":7305183,"display_name":"Murthi"},"score":1,"creation_date":1530603165,"post_id":51148776,"comment_id":89281650,"body_markdown":"please share the html code?","body":"please share the html code?"},{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":1,"creation_date":1530604247,"post_id":51148776,"comment_id":89282177,"body_markdown":"Relevant HTML, code trials and error stack trace please","body":"Relevant HTML, code trials and error stack trace please"}],"answers":[{"tags":[],"owner":{"display_name":"user6177399"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530614116,"creation_date":1530614116,"answer_id":51152425,"question_id":51148776,"body_markdown":"This question is pretty generic.\r\nIt should be possible, to use Selenium for testing UI5 apps.\r\n[Here][1] it says that you need to install additional Selenium web drivers.\r\n\r\nYou might also want to check out OPA5, as described under [Testing][2] \r\nand under [Integration Testing with One Page Acceptance Tests (OPA5)][3].\r\n\r\n[This blog][4] compares Selenium and OPA5.\r\n\r\nThis thread https://stackoverflow.com/questions/24934012/automated-ui-tests-for-sap-ui5 might also be helpful.\r\n\r\n\r\n  [1]: https://openui5.hana.ondemand.com/#/topic/0976bc2b589741dcb54ff491a8ddc75b\r\n  [2]: https://sapui5.hana.ondemand.com/#/topic/7cdee404cac441888539ed7bfe076e57\r\n  [3]: https://sapui5.hana.ondemand.com/#/topic/2696ab50faad458f9b4027ec2f9b884d.html\r\n  [4]: https://blogs.sap.com/2014/10/16/javascript-based-integration-tests-for-sapui5-apps-with-opa/","title":"How to Automate SAP Fiori Using Selenium (JAVA)","body":"<p>This question is pretty generic.\nIt should be possible, to use Selenium for testing UI5 apps.\n<a href=\"https://openui5.hana.ondemand.com/#/topic/0976bc2b589741dcb54ff491a8ddc75b\" rel=\"nofollow noreferrer\">Here</a> it says that you need to install additional Selenium web drivers.</p>\n\n<p>You might also want to check out OPA5, as described under <a href=\"https://sapui5.hana.ondemand.com/#/topic/7cdee404cac441888539ed7bfe076e57\" rel=\"nofollow noreferrer\">Testing</a> \nand under <a href=\"https://sapui5.hana.ondemand.com/#/topic/2696ab50faad458f9b4027ec2f9b884d.html\" rel=\"nofollow noreferrer\">Integration Testing with One Page Acceptance Tests (OPA5)</a>.</p>\n\n<p><a href=\"https://blogs.sap.com/2014/10/16/javascript-based-integration-tests-for-sapui5-apps-with-opa/\" rel=\"nofollow noreferrer\">This blog</a> compares Selenium and OPA5.</p>\n\n<p>This thread <a href=\"https://stackoverflow.com/questions/24934012/automated-ui-tests-for-sap-ui5\">Automated UI tests for SAP UI5</a> might also be helpful.</p>\n"}],"owner":{"account_id":2540139,"reputation":35,"user_id":2206095,"display_name":"Royze"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688191358,"creation_date":1530602657,"question_id":51148776,"body_markdown":"I want to know how to automate SAP Fiori (Browser) using Selenium in Java?\r\n\r\nDid I need to install some external tools or need to enable some SAP configuration in order to read the element inside Fiori interface?\r\n\r\nI already tried to read Fiori element but the selenium keep on telling that the element cannot be found.\r\n\r\n*Thanks for your kind respond guys I try with Xpath that include (contains) it seems working but with normal get by.id/class/tag it seems some value cannot be read by Selenium. Just one thing I&#39;m not sure, did HTTP / HTTPS affect the Selenium detection?*","title":"How to Automate SAP Fiori Using Selenium (JAVA)","body":"<p>I want to know how to automate SAP Fiori (Browser) using Selenium in Java?</p>\n<p>Did I need to install some external tools or need to enable some SAP configuration in order to read the element inside Fiori interface?</p>\n<p>I already tried to read Fiori element but the selenium keep on telling that the element cannot be found.</p>\n<p><em>Thanks for your kind respond guys I try with Xpath that include (contains) it seems working but with normal get by.id/class/tag it seems some value cannot be read by Selenium. Just one thing I'm not sure, did HTTP / HTTPS affect the Selenium detection?</em></p>\n"},{"tags":["java","eclipse","batch-file","jar","business-objects"],"comments":[{"owner":{"account_id":4915933,"reputation":67612,"user_id":3959875,"display_name":"wOxxOm"},"score":0,"creation_date":1441715004,"post_id":32457540,"comment_id":52777378,"body_markdown":"Windows batch-file interpreter puts the quotes after `=` inside the variable, so try changing all assignments to the correct Windows-specific syntax: `set &quot;varname=value&quot;` (note the opening quote location)","body":"Windows batch-file interpreter puts the quotes after <code>=</code> inside the variable, so try changing all assignments to the correct Windows-specific syntax: <code>set &quot;varname=value&quot;</code> (note the opening quote location)"},{"owner":{"account_id":6919616,"reputation":76,"user_id":5312704,"display_name":"Linus Nox"},"score":0,"creation_date":1441715188,"post_id":32457540,"comment_id":52777506,"body_markdown":"@wOxxOm Thanks for your answer. I&#39;ll try it out as soon as possible. I just have to wait until the stage is up and running again. I let you know.","body":"@wOxxOm Thanks for your answer. I&#39;ll try it out as soon as possible. I just have to wait until the stage is up and running again. I let you know."},{"owner":{"account_id":6919616,"reputation":76,"user_id":5312704,"display_name":"Linus Nox"},"score":0,"creation_date":1441720062,"post_id":32457540,"comment_id":52781126,"body_markdown":"YES! it worked. Thank you. It truly are the small things which may or may not run your program.","body":"YES! it worked. Thank you. It truly are the small things which may or may not run your program."}],"owner":{"account_id":6919616,"reputation":76,"user_id":5312704,"display_name":"Linus Nox"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1600,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688191191,"creation_date":1441714360,"question_id":32457540,"body_markdown":"I&#39;ve written a small program to document all properties of a unx universe using semantic layer. In my build path I have cesdk.jar, sl_sdk.jar and all jars from `C:\\Program Files (x86)\\SAP BusinessObjects\\SAP BusinessObjects Enterprise XI 4.0\\dataAccess\\connectionServer\\java` added.\r\n\r\nThe program works fine in eclipse (Mars), however when I export it as Runnable Jar-file (copy required libraries into a sub-folder next to the jar file) and run it with the following .bat file, I get this error when loading the businesslayer:\r\n\r\n    com.sap.tools.commons.exception.NestedException: Interface requested not found : csLIB\r\n\tat com.sap.tools.commons.exception.NestedException.create(Unknown Source)\r\n\tat com.businessobjects.mds.services.parser.decoder.DataFoundationSQLDecoder.getPRM(DataFoundationSQLDecoder.java:82)\r\n\tat com.businessobjects.mds.services.parser.decoder.DataFoundationSQLDecoder.&lt;init&gt;(DataFoundationSQLDecoder.java:97)\r\n\tat com.businessobjects.mds.services.parser.decoder.UniverseSQLDecoder.&lt;init&gt;(UniverseSQLDecoder.java:40)\r\n\tat com.businessobjects.mds.services.parser.EncodeDecodeHelper.decodeExpression(EncodeDecodeHelper.java:303)\r\n\tat com.businessobjects.mds.services.helpers.BindingHelper.decodeExpression(BindingHelper.java:250)\r\n\tat com.businessobjects.mds.services.helpers.BindingHelper.decodeResultExpression(BindingHelper.java:264)\r\n\tat com.sap.sl.sdk.authoring.businesslayer.internal.services.MdsToSdkBusinessLayerConverter.getResultExpression(MdsToSdkBusinessLayerConverter.java:371)\r\n\tat com.sap.sl.sdk.authoring.businesslayer.internal.services.MdsToSdkBusinessLayerConverter.copyBusinessItemProperties(MdsToSdkBusinessLayerConverter.java:326)\r\n\tat com.sap.sl.sdk.authoring.businesslayer.internal.services.MdsToSdkBusinessLayerConverter.createSdkItem(MdsToSdkBusinessLayerConverter.java:275)\r\n\tat com.sap.sl.sdk.authoring.businesslayer.internal.services.MdsToSdkBusinessLayerConverter.copyMdsToSdk(MdsToSdkBusinessLayerConverter.java:227)\r\n\tat com.sap.sl.sdk.authoring.businesslayer.internal.services.MdsToSdkBusinessLayerConverter.copyMdsToSdk(MdsToSdkBusinessLayerConverter.java:234)\r\n\tat com.sap.sl.sdk.authoring.businesslayer.internal.services.MdsToSdkBusinessLayerConverter.createSdkModel(MdsToSdkBusinessLayerConverter.java:153)\r\n\tat com.sap.sl.sdk.authoring.businesslayer.internal.services.BusinessLayerModelToModel.createSdkModel(BusinessLayerModelToModel.java:31)\r\n\tat com.sap.sl.sdk.authoring.local.internal.services.LocalResourceServiceImpl.createSdkBusinessLayer(LocalResourceServiceImpl.java:191)\r\n\tat com.sap.sl.sdk.authoring.local.internal.services.LocalResourceServiceImpl.loadInternal(LocalResourceServiceImpl.java:170)\r\n\tat com.sap.sl.sdk.authoring.local.internal.services.LocalResourceServiceImpl.load(LocalResourceServiceImpl.java:131)\r\n\tat at.arz.universechangemanagement.manager.UniversumsManager.createUniverseBlx(UniversumsManager.java:94)\r\n\tat at.arz.universechangemanagement.UniverseChangeManagement.addLocalUniverse(UniverseChangeManagement.java:41)\r\n\tat at.arz.universechangemanagement.UniverseChangeManagement.addLocalUniverse(UniverseChangeManagement.java:36)\r\n\tat at.arz.universechangemanagement.gui.Gui$AddLocalUniverse.handle(Gui.java:176)\r\n\tat at.arz.universechangemanagement.gui.Gui$AddLocalUniverse.handle(Gui.java:1)\r\n\tat com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(Unknown Source)\r\n\tat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(Unknown Source)\r\n\tat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(Unknown Source)\r\n\tat com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(Unknown Source)\r\n\tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\r\n\tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\r\n\tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\r\n\tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\r\n\tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\r\n\tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\r\n\tat com.sun.javafx.event.EventUtil.fireEventImpl(Unknown Source)\r\n\tat com.sun.javafx.event.EventUtil.fireEvent(Unknown Source)\r\n\tat javafx.event.Event.fireEvent(Unknown Source)\r\n\tat javafx.scene.Scene$ClickGenerator.postProcess(Unknown Source)\r\n\tat javafx.scene.Scene$ClickGenerator.access$8100(Unknown Source)\r\n\tat javafx.scene.Scene$MouseHandler.process(Unknown Source)\r\n\tat javafx.scene.Scene$MouseHandler.access$1500(Unknown Source)\r\n\tat javafx.scene.Scene.impl_processMouseEvent(Unknown Source)\r\n\tat javafx.scene.Scene$ScenePeerListener.mouseEvent(Unknown Source)\r\n\tat com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(Unknown Source)\r\n\tat com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(Unknown Source)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$355(Unknown Source)\r\n\tat com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(Unknown Source)\r\n\tat com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(Unknown Source)\r\n\tat com.sun.glass.ui.View.handleMouseEvent(Unknown Source)\r\n\tat com.sun.glass.ui.View.notifyMouse(Unknown Source)\r\n\tat com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat com.sun.glass.ui.win.WinApplication.lambda$null$149(Unknown Source)\r\n\tat java.lang.Thread.run(Unknown Source)\r\n    Caused by: com.sap.connectivity.cs.core.CSError: Interface requested not found : csLIB\r\n\tat com.sap.connectivity.cs.extended.ImplementationManager.getImplementation(ImplementationManager.java:151)\r\n\tat com.sap.connectivity.cs.extended.ImplementationManager.getConfiguration(ImplementationManager.java:195)\r\n\tat com.sap.connectivity.cs.extended.NLDBProvider.populateMap(NLDBProvider.java:49)\r\n\tat com.sap.connectivity.cs.extended.NLDBProvider.getManager(NLDBProvider.java:157)\r\n\tat com.sap.connectivity.cs.extended.Provider.getEnvironment(Provider.java:93)\r\n\tat com.sap.connectivity.cs.extended.ConnectionServer.JobProfile(ConnectionServer.java:532)\r\n\tat com.sap.connectivity.cs.api.trace.EnvironmentLogger.JobProfile(EnvironmentLogger.java:609)\r\n\tat com.businessobjects.mds.services.relational.PrmProperties.getDbParameterSet(PrmProperties.java:1426)\r\n\tat com.businessobjects.mds.services.relational.PrmProperties.loadFunctions(PrmProperties.java:1469)\r\n\tat com.businessobjects.mds.services.relational.PrmProperties.loadParameters(PrmProperties.java:1443)\r\n\tat com.businessobjects.mds.services.relational.PrmProperties.&lt;init&gt;(PrmProperties.java:160)\r\n\tat com.businessobjects.mds.services.relational.CsService.getPRMProperties(CsService.java:1385)\r\n\tat com.businessobjects.mds.services.parser.decoder.DataFoundationSQLDecoder.getPRM(DataFoundationSQLDecoder.java:80)\r\n\t... 50 more\r\n    Caused by: java.lang.UnsatisfiedLinkError: no cs_jni in java.library.path\r\n\tat java.lang.ClassLoader.loadLibrary(Unknown Source)\r\n\tat java.lang.Runtime.loadLibrary0(Unknown Source)\r\n\tat java.lang.System.loadLibrary(Unknown Source)\r\n\tat com.sap.connectivity.cs.library.ConnectionServer.&lt;clinit&gt;(ConnectionServer.java:330)\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Unknown Source)\r\n\tat com.businessobjects.connectionserver.ConnectionServer.getImplementation(ConnectionServer.java:461)\r\n\tat com.businessobjects.connectionserver.ConnectionServer.getInstance(ConnectionServer.java:132)\r\n\tat com.sap.connectivity.cs.extended.ImplementationManager.getImplementation(ImplementationManager.java:144)\r\n\t... 62 more\r\n\r\n\r\nMy .bat-File:\r\n\r\n    @echo OFF\r\n    SET classpath=&quot;C:/Program Files (x86)/SAP BusinessObjects/SAP BusinessObjects Enterprise XI 4.0/SL SDK/java/sl_sdk.jar&quot; &amp; SET path=&quot;C:/Program Files (x86)/SAP BusinessObjects/SAP BusinessObjects Enterprise XI 4.0/win32_x86;%path%&quot; &amp; &quot;C:\\Users\\rpci322\\Programme\\jre1.8.0_60\\bin\\java.exe&quot; -Dbusinessobjects.connectivity.directory=&quot;C:\\Program Files (x86)\\SAP BusinessObjects\\SAP BusinessObjects Enterprise XI 4.0\\dataAccess\\connectionServer&quot; -jar UniverseChangeManagement.jar\r\n    PAUSE\r\n\r\nI&#39;ve the BO 4.1 SP 6 installed and I am running the jar file with Java 8 Update 60 (due to some fancy javafx action) 32 bit version.\r\n","title":"Interface requested not found : csLIB, when loading Businesslayer","body":"<p>I've written a small program to document all properties of a unx universe using semantic layer. In my build path I have cesdk.jar, sl_sdk.jar and all jars from <code>C:\\Program Files (x86)\\SAP BusinessObjects\\SAP BusinessObjects Enterprise XI 4.0\\dataAccess\\connectionServer\\java</code> added.</p>\n<p>The program works fine in eclipse (Mars), however when I export it as Runnable Jar-file (copy required libraries into a sub-folder next to the jar file) and run it with the following .bat file, I get this error when loading the businesslayer:</p>\n<pre><code>com.sap.tools.commons.exception.NestedException: Interface requested not found : csLIB\nat com.sap.tools.commons.exception.NestedException.create(Unknown Source)\nat com.businessobjects.mds.services.parser.decoder.DataFoundationSQLDecoder.getPRM(DataFoundationSQLDecoder.java:82)\nat com.businessobjects.mds.services.parser.decoder.DataFoundationSQLDecoder.&lt;init&gt;(DataFoundationSQLDecoder.java:97)\nat com.businessobjects.mds.services.parser.decoder.UniverseSQLDecoder.&lt;init&gt;(UniverseSQLDecoder.java:40)\nat com.businessobjects.mds.services.parser.EncodeDecodeHelper.decodeExpression(EncodeDecodeHelper.java:303)\nat com.businessobjects.mds.services.helpers.BindingHelper.decodeExpression(BindingHelper.java:250)\nat com.businessobjects.mds.services.helpers.BindingHelper.decodeResultExpression(BindingHelper.java:264)\nat com.sap.sl.sdk.authoring.businesslayer.internal.services.MdsToSdkBusinessLayerConverter.getResultExpression(MdsToSdkBusinessLayerConverter.java:371)\nat com.sap.sl.sdk.authoring.businesslayer.internal.services.MdsToSdkBusinessLayerConverter.copyBusinessItemProperties(MdsToSdkBusinessLayerConverter.java:326)\nat com.sap.sl.sdk.authoring.businesslayer.internal.services.MdsToSdkBusinessLayerConverter.createSdkItem(MdsToSdkBusinessLayerConverter.java:275)\nat com.sap.sl.sdk.authoring.businesslayer.internal.services.MdsToSdkBusinessLayerConverter.copyMdsToSdk(MdsToSdkBusinessLayerConverter.java:227)\nat com.sap.sl.sdk.authoring.businesslayer.internal.services.MdsToSdkBusinessLayerConverter.copyMdsToSdk(MdsToSdkBusinessLayerConverter.java:234)\nat com.sap.sl.sdk.authoring.businesslayer.internal.services.MdsToSdkBusinessLayerConverter.createSdkModel(MdsToSdkBusinessLayerConverter.java:153)\nat com.sap.sl.sdk.authoring.businesslayer.internal.services.BusinessLayerModelToModel.createSdkModel(BusinessLayerModelToModel.java:31)\nat com.sap.sl.sdk.authoring.local.internal.services.LocalResourceServiceImpl.createSdkBusinessLayer(LocalResourceServiceImpl.java:191)\nat com.sap.sl.sdk.authoring.local.internal.services.LocalResourceServiceImpl.loadInternal(LocalResourceServiceImpl.java:170)\nat com.sap.sl.sdk.authoring.local.internal.services.LocalResourceServiceImpl.load(LocalResourceServiceImpl.java:131)\nat at.arz.universechangemanagement.manager.UniversumsManager.createUniverseBlx(UniversumsManager.java:94)\nat at.arz.universechangemanagement.UniverseChangeManagement.addLocalUniverse(UniverseChangeManagement.java:41)\nat at.arz.universechangemanagement.UniverseChangeManagement.addLocalUniverse(UniverseChangeManagement.java:36)\nat at.arz.universechangemanagement.gui.Gui$AddLocalUniverse.handle(Gui.java:176)\nat at.arz.universechangemanagement.gui.Gui$AddLocalUniverse.handle(Gui.java:1)\nat com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(Unknown Source)\nat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(Unknown Source)\nat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(Unknown Source)\nat com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(Unknown Source)\nat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\nat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\nat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\nat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\nat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\nat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\nat com.sun.javafx.event.EventUtil.fireEventImpl(Unknown Source)\nat com.sun.javafx.event.EventUtil.fireEvent(Unknown Source)\nat javafx.event.Event.fireEvent(Unknown Source)\nat javafx.scene.Scene$ClickGenerator.postProcess(Unknown Source)\nat javafx.scene.Scene$ClickGenerator.access$8100(Unknown Source)\nat javafx.scene.Scene$MouseHandler.process(Unknown Source)\nat javafx.scene.Scene$MouseHandler.access$1500(Unknown Source)\nat javafx.scene.Scene.impl_processMouseEvent(Unknown Source)\nat javafx.scene.Scene$ScenePeerListener.mouseEvent(Unknown Source)\nat com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(Unknown Source)\nat com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(Unknown Source)\nat java.security.AccessController.doPrivileged(Native Method)\nat com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$355(Unknown Source)\nat com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(Unknown Source)\nat com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(Unknown Source)\nat com.sun.glass.ui.View.handleMouseEvent(Unknown Source)\nat com.sun.glass.ui.View.notifyMouse(Unknown Source)\nat com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\nat com.sun.glass.ui.win.WinApplication.lambda$null$149(Unknown Source)\nat java.lang.Thread.run(Unknown Source)\nCaused by: com.sap.connectivity.cs.core.CSError: Interface requested not found : csLIB\nat com.sap.connectivity.cs.extended.ImplementationManager.getImplementation(ImplementationManager.java:151)\nat com.sap.connectivity.cs.extended.ImplementationManager.getConfiguration(ImplementationManager.java:195)\nat com.sap.connectivity.cs.extended.NLDBProvider.populateMap(NLDBProvider.java:49)\nat com.sap.connectivity.cs.extended.NLDBProvider.getManager(NLDBProvider.java:157)\nat com.sap.connectivity.cs.extended.Provider.getEnvironment(Provider.java:93)\nat com.sap.connectivity.cs.extended.ConnectionServer.JobProfile(ConnectionServer.java:532)\nat com.sap.connectivity.cs.api.trace.EnvironmentLogger.JobProfile(EnvironmentLogger.java:609)\nat com.businessobjects.mds.services.relational.PrmProperties.getDbParameterSet(PrmProperties.java:1426)\nat com.businessobjects.mds.services.relational.PrmProperties.loadFunctions(PrmProperties.java:1469)\nat com.businessobjects.mds.services.relational.PrmProperties.loadParameters(PrmProperties.java:1443)\nat com.businessobjects.mds.services.relational.PrmProperties.&lt;init&gt;(PrmProperties.java:160)\nat com.businessobjects.mds.services.relational.CsService.getPRMProperties(CsService.java:1385)\nat com.businessobjects.mds.services.parser.decoder.DataFoundationSQLDecoder.getPRM(DataFoundationSQLDecoder.java:80)\n... 50 more\nCaused by: java.lang.UnsatisfiedLinkError: no cs_jni in java.library.path\nat java.lang.ClassLoader.loadLibrary(Unknown Source)\nat java.lang.Runtime.loadLibrary0(Unknown Source)\nat java.lang.System.loadLibrary(Unknown Source)\nat com.sap.connectivity.cs.library.ConnectionServer.&lt;clinit&gt;(ConnectionServer.java:330)\nat java.lang.Class.forName0(Native Method)\nat java.lang.Class.forName(Unknown Source)\nat com.businessobjects.connectionserver.ConnectionServer.getImplementation(ConnectionServer.java:461)\nat com.businessobjects.connectionserver.ConnectionServer.getInstance(ConnectionServer.java:132)\nat com.sap.connectivity.cs.extended.ImplementationManager.getImplementation(ImplementationManager.java:144)\n... 62 more\n</code></pre>\n<p>My .bat-File:</p>\n<pre><code>@echo OFF\nSET classpath=&quot;C:/Program Files (x86)/SAP BusinessObjects/SAP BusinessObjects Enterprise XI 4.0/SL SDK/java/sl_sdk.jar&quot; &amp; SET path=&quot;C:/Program Files (x86)/SAP BusinessObjects/SAP BusinessObjects Enterprise XI 4.0/win32_x86;%path%&quot; &amp; &quot;C:\\Users\\rpci322\\Programme\\jre1.8.0_60\\bin\\java.exe&quot; -Dbusinessobjects.connectivity.directory=&quot;C:\\Program Files (x86)\\SAP BusinessObjects\\SAP BusinessObjects Enterprise XI 4.0\\dataAccess\\connectionServer&quot; -jar UniverseChangeManagement.jar\nPAUSE\n</code></pre>\n<p>I've the BO 4.1 SP 6 installed and I am running the jar file with Java 8 Update 60 (due to some fancy javafx action) 32 bit version.</p>\n"},{"tags":["java","android","android-bluetooth","android-12"],"owner":{"account_id":15615953,"reputation":1,"user_id":11266163,"display_name":"nidhi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688191111,"creation_date":1688191111,"question_id":76593461,"body_markdown":"I have an one app , in there i am using BT to take input from user using voice recognization. &amp; based on user input i am giving some message to user using MP3 file or using TTS. But the issue is the voice coming to BT is breaking with android version 12 and below. If i am not Using any BT logic that time if BT is connected , that time its take input from mobile speaker &amp; give output to BT without any breaking.\r\n\r\n\r\nFirst i am checking the Bluetooth is connected with mobile or not and whatever Bluetooth is connected i am fetching the id of that Bluetooth device.\r\n\r\n**Permissions:**\r\n\r\n       String[] PERMISSIONS = {  //for Android 11\r\n            Manifest.permission.ACCESS_FINE_LOCATION,\r\n            Manifest.permission.ACCESS_COARSE_LOCATION,\r\n            Manifest.permission.CALL_PHONE,\r\n            Manifest.permission.READ_PHONE_STATE,\r\n            Manifest.permission.RECORD_AUDIO,\r\n            Manifest.permission.ACCESS_NETWORK_STATE,\r\n            Manifest.permission.CAMERA,\r\n\r\n\r\n      };\r\n      /*permission for android \r\n      version 11*/\r\n      String[] BACKGROUNDLOCAION ={\r\n            Manifest.permission.ACCESS_BACKGROUND_LOCATION\r\n     };\r\n     /*permission for android version 12 and Above*/\r\n     String[] PERMISSIONS12AndAbove ={\r\n            Manifest.permission.ACCESS_FINE_LOCATION,\r\n            Manifest.permission.ACCESS_COARSE_LOCATION,\r\n            Manifest.permission.CALL_PHONE,\r\n            Manifest.permission.READ_PHONE_STATE,\r\n            Manifest.permission.RECORD_AUDIO,\r\n            Manifest.permission.ACCESS_NETWORK_STATE,\r\n            Manifest.permission.CAMERA,\r\n            android.Manifest.permission.BLUETOOTH_CONNECT\r\n     };\r\n     /*Permission for android version android 10 and below*/\r\n     String [] PERMISSIONS10AndBelow={\r\n            Manifest.permission.ACCESS_FINE_LOCATION,\r\n            Manifest.permission.ACCESS_COARSE_LOCATION,\r\n            Manifest.permission.CALL_PHONE,\r\n            Manifest.permission.READ_PHONE_STATE,\r\n            Manifest.permission.RECORD_AUDIO,\r\n            Manifest.permission.ACCESS_NETWORK_STATE,\r\n            Manifest.permission.CAMERA,\r\n            Manifest.permission.BLUETOOTH_ADMIN,\r\n            Manifest.permission.BLUETOOTH\r\n     };\r\n\r\nThis Method i am calling first inside Oncreate &amp; after that whenever i got BluetoothDevice.ACTION_ACL_CONNECTED through BroadcastReceiver\r\n\r\n**Code to fetch Id of connected Bluetooth headset:** \r\n \r\n```\r\n private void bluetoothListener() {\r\n   deviceconnected=0;\r\n   BluetoothProfile.ServiceListener serviceListener = new BluetoothProfile.ServiceListener() {\r\n            @Override\r\n            public void onServiceConnected(int profile, BluetoothProfile proxy) {\r\n\r\n                if (profile == A2DP || profile == BluetoothProfile.HEADSET) {\r\n                    List&lt;BluetoothDevice&gt; devices = proxy.getConnectedDevices();\r\n                    System.out.println(&quot;Listed device : &quot;+devices.size());\r\n                    if(devices.size() &gt;0){\r\n                        BluetoothDevice device = devices.get(0);\r\n                        if (proxy.getConnectionState(device) == BluetoothProfile.STATE_CONNECTED &amp;&amp;                   deviceconnected&lt;1) {\r\n                            // Device is currently connected and in use\r\n                            deviceconnected = 1;\r\n                            @SuppressLint(&quot;MissingPermission&quot;)\r\n                            String deviceName = device.getName();\r\n                            \r\n```\r\n       deviceAddress = device.getAddress();\r\n\r\n```\r\n                        }\r\n                        else{\r\n                            if(proxy.getConnectionState(device) ==  BluetoothProfile.STATE_DISCONNECTED){\r\n                                setAudioRoutingToDefault(getApplicationContext());\r\n                            }\r\n                        }\r\n                    }\r\n                    else{\r\n                        if(devices.size()==0){\r\n                            setAudioRoutingToDefault(getApplicationContext());\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            @Override\r\n            public void onServiceDisconnected(int profile) {\r\n                // Do nothing\r\n            }\r\n        };\r\n        bluetoothAdapter.getProfileProxy(getApplicationContext(), serviceListener,     BluetoothProfile.A2DP);\r\n        //bluetoothAdapter.getProfileProxy(getApplicationContext(), serviceListener,    BluetoothProfile.HEADSET);\r\n}\r\n```\r\n\r\nWhenever i am activating voice recognization that time i am checking the deviceAddress and based on that i am calling the method\r\n\r\n**Code for check the Bluetooth state &amp; connected device id:** \r\n\r\n`private void startSpeechRecognition() {\r\n        //For Bluetooth\r\n       \r\n```\r\n     if (bluetoothAdapter != null &amp;&amp; bluetoothAdapter.isEnabled()){\r\n            if(deviceAddress!=&quot;&quot;) {\r\n                setAudioRoutingToBluetooth(getApplicationContext(), deviceAddress);\r\n            }\r\n            else{\r\n                setAudioRoutingToDefault(getApplicationContext());\r\n            }\r\n        }\r\n        else{\r\n            setAudioRoutingToDefault(getApplicationContext());\r\n        }\r\n```\r\n\r\n        speechRecognizer = SpeechRecognizer.createSpeechRecognizer(MainActivity.this);\r\n        speechRecognizerIntent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\r\n            speechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_SPEECH_INPUT_COMPLETE_SILENCE_LENGTH_MILLIS, /*600000*/5000);\r\n        speechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_SPEECH_INPUT_POSSIBLY_COMPLETE_SILENCE_LENGTH_MILLIS, /*600000*/5000);\r\n        speechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL,RecognizerIntent.LANGUAGE_MODE  L_FREE_FORM);\r\n        speechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE, new Locale(&quot;en&quot;, &quot;IN&quot;));\r\n        speechRecognizer.setRecognitionListener(new RecognitionListener() {\r\n            @Override\r\n            public void onReadyForSpeech(Bundle bundle) {\r\n                System.out.println(&quot;onReadyForSpeech&quot; + bundle);\r\n            }\r\n            ....\r\n  }\r\n`\r\n\r\n**code for set Bluetooth device as input &amp; output:**\r\n\r\n  `private void setAudioRoutingToBluetooth(Context context, String deviceid) {\r\n        AudioManager audioManager = (AudioManager) context.getSystemService(Context.AUDIO_SERVICE);\r\n        System.out.println(&quot;Device id&quot;+deviceid);\r\n        String id = deviceid;\r\n        Toast.makeText(getApplicationContext(),&quot;communicate with BT&quot;,Toast.LENGTH_SHORT).show();\r\n        // Set audio routing to connected Bluetooth device\r\n        audioManager.setMode(AudioManager.MODE_IN_COMMUNICATION);\r\n        audioManager.setSpeakerphoneOn(false);\r\n        audioManager.setBluetoothScoOn(true);\r\n        audioManager.startBluetoothSco();\r\n\r\n        \r\n```\r\n        audioManager.setParameters(&quot;input_device=&quot; + id);\r\n        audioManager.setParameters(&quot;input_device=&quot; + id);\r\n\r\n```\r\n       }`\r\n\r\nso using this code i am able to give input from Bluetooth headset , and it is correct . but in return the output is breaking.\r\n\r\n\r\n**code for communicate with Mobile speaker when Bluetooth device is null or Bluetooth is not enable:**\r\n `private void setAudioRoutingToDefault(Context context) {\r\n        AudioManager audioManager = (AudioManager) context.getSystemService(Context.AUDIO_SERVICE);\r\n\r\n        // Revert to default audio routing (e.g., mobile speaker or earpiece)\r\n        audioManager.setMode(AudioManager.MODE_NORMAL);\r\n        audioManager.setSpeakerphoneOn(true);\r\n        audioManager.setBluetoothScoOn(false);\r\n        audioManager.stopBluetoothSco();\r\n        System.out.println(&quot;Mobile speaker connected&quot;);\r\n        \r\n```\r\n      audioManager.setParameters(&quot;input_device=1;output_device=0&quot;);\r\n\r\n```\r\n    }`","title":"With Android 12 and below Using BT headset the output voice is breaking - Android development","body":"<p>I have an one app , in there i am using BT to take input from user using voice recognization. &amp; based on user input i am giving some message to user using MP3 file or using TTS. But the issue is the voice coming to BT is breaking with android version 12 and below. If i am not Using any BT logic that time if BT is connected , that time its take input from mobile speaker &amp; give output to BT without any breaking.</p>\n<p>First i am checking the Bluetooth is connected with mobile or not and whatever Bluetooth is connected i am fetching the id of that Bluetooth device.</p>\n<p><strong>Permissions:</strong></p>\n<pre><code>   String[] PERMISSIONS = {  //for Android 11\n        Manifest.permission.ACCESS_FINE_LOCATION,\n        Manifest.permission.ACCESS_COARSE_LOCATION,\n        Manifest.permission.CALL_PHONE,\n        Manifest.permission.READ_PHONE_STATE,\n        Manifest.permission.RECORD_AUDIO,\n        Manifest.permission.ACCESS_NETWORK_STATE,\n        Manifest.permission.CAMERA,\n\n\n  };\n  /*permission for android \n  version 11*/\n  String[] BACKGROUNDLOCAION ={\n        Manifest.permission.ACCESS_BACKGROUND_LOCATION\n };\n /*permission for android version 12 and Above*/\n String[] PERMISSIONS12AndAbove ={\n        Manifest.permission.ACCESS_FINE_LOCATION,\n        Manifest.permission.ACCESS_COARSE_LOCATION,\n        Manifest.permission.CALL_PHONE,\n        Manifest.permission.READ_PHONE_STATE,\n        Manifest.permission.RECORD_AUDIO,\n        Manifest.permission.ACCESS_NETWORK_STATE,\n        Manifest.permission.CAMERA,\n        android.Manifest.permission.BLUETOOTH_CONNECT\n };\n /*Permission for android version android 10 and below*/\n String [] PERMISSIONS10AndBelow={\n        Manifest.permission.ACCESS_FINE_LOCATION,\n        Manifest.permission.ACCESS_COARSE_LOCATION,\n        Manifest.permission.CALL_PHONE,\n        Manifest.permission.READ_PHONE_STATE,\n        Manifest.permission.RECORD_AUDIO,\n        Manifest.permission.ACCESS_NETWORK_STATE,\n        Manifest.permission.CAMERA,\n        Manifest.permission.BLUETOOTH_ADMIN,\n        Manifest.permission.BLUETOOTH\n };\n</code></pre>\n<p>This Method i am calling first inside Oncreate &amp; after that whenever i got BluetoothDevice.ACTION_ACL_CONNECTED through BroadcastReceiver</p>\n<p><strong>Code to fetch Id of connected Bluetooth headset:</strong></p>\n<pre><code> private void bluetoothListener() {\n   deviceconnected=0;\n   BluetoothProfile.ServiceListener serviceListener = new BluetoothProfile.ServiceListener() {\n            @Override\n            public void onServiceConnected(int profile, BluetoothProfile proxy) {\n\n                if (profile == A2DP || profile == BluetoothProfile.HEADSET) {\n                    List&lt;BluetoothDevice&gt; devices = proxy.getConnectedDevices();\n                    System.out.println(&quot;Listed device : &quot;+devices.size());\n                    if(devices.size() &gt;0){\n                        BluetoothDevice device = devices.get(0);\n                        if (proxy.getConnectionState(device) == BluetoothProfile.STATE_CONNECTED &amp;&amp;                   deviceconnected&lt;1) {\n                            // Device is currently connected and in use\n                            deviceconnected = 1;\n                            @SuppressLint(&quot;MissingPermission&quot;)\n                            String deviceName = device.getName();\n                            \n</code></pre>\n<pre><code>   deviceAddress = device.getAddress();\n</code></pre>\n<pre><code>                        }\n                        else{\n                            if(proxy.getConnectionState(device) ==  BluetoothProfile.STATE_DISCONNECTED){\n                                setAudioRoutingToDefault(getApplicationContext());\n                            }\n                        }\n                    }\n                    else{\n                        if(devices.size()==0){\n                            setAudioRoutingToDefault(getApplicationContext());\n                        }\n                    }\n                }\n            }\n            @Override\n            public void onServiceDisconnected(int profile) {\n                // Do nothing\n            }\n        };\n        bluetoothAdapter.getProfileProxy(getApplicationContext(), serviceListener,     BluetoothProfile.A2DP);\n        //bluetoothAdapter.getProfileProxy(getApplicationContext(), serviceListener,    BluetoothProfile.HEADSET);\n}\n</code></pre>\n<p>Whenever i am activating voice recognization that time i am checking the deviceAddress and based on that i am calling the method</p>\n<p><strong>Code for check the Bluetooth state &amp; connected device id:</strong></p>\n<p>`private void startSpeechRecognition() {\n//For Bluetooth</p>\n<pre><code>     if (bluetoothAdapter != null &amp;&amp; bluetoothAdapter.isEnabled()){\n            if(deviceAddress!=&quot;&quot;) {\n                setAudioRoutingToBluetooth(getApplicationContext(), deviceAddress);\n            }\n            else{\n                setAudioRoutingToDefault(getApplicationContext());\n            }\n        }\n        else{\n            setAudioRoutingToDefault(getApplicationContext());\n        }\n</code></pre>\n<pre><code>    speechRecognizer = SpeechRecognizer.createSpeechRecognizer(MainActivity.this);\n    speechRecognizerIntent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\n        speechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_SPEECH_INPUT_COMPLETE_SILENCE_LENGTH_MILLIS, /*600000*/5000);\n    speechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_SPEECH_INPUT_POSSIBLY_COMPLETE_SILENCE_LENGTH_MILLIS, /*600000*/5000);\n    speechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL,RecognizerIntent.LANGUAGE_MODE  L_FREE_FORM);\n    speechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE, new Locale(&quot;en&quot;, &quot;IN&quot;));\n    speechRecognizer.setRecognitionListener(new RecognitionListener() {\n        @Override\n        public void onReadyForSpeech(Bundle bundle) {\n            System.out.println(&quot;onReadyForSpeech&quot; + bundle);\n        }\n        ....\n</code></pre>\n<p>}\n`</p>\n<p><strong>code for set Bluetooth device as input &amp; output:</strong></p>\n<p>`private void setAudioRoutingToBluetooth(Context context, String deviceid) {\nAudioManager audioManager = (AudioManager) context.getSystemService(Context.AUDIO_SERVICE);\nSystem.out.println(&quot;Device id&quot;+deviceid);\nString id = deviceid;\nToast.makeText(getApplicationContext(),&quot;communicate with BT&quot;,Toast.LENGTH_SHORT).show();\n// Set audio routing to connected Bluetooth device\naudioManager.setMode(AudioManager.MODE_IN_COMMUNICATION);\naudioManager.setSpeakerphoneOn(false);\naudioManager.setBluetoothScoOn(true);\naudioManager.startBluetoothSco();</p>\n<pre><code>        audioManager.setParameters(&quot;input_device=&quot; + id);\n        audioManager.setParameters(&quot;input_device=&quot; + id);\n\n</code></pre>\n<pre><code>   }`\n</code></pre>\n<p>so using this code i am able to give input from Bluetooth headset , and it is correct . but in return the output is breaking.</p>\n<p><strong>code for communicate with Mobile speaker when Bluetooth device is null or Bluetooth is not enable:</strong>\n`private void setAudioRoutingToDefault(Context context) {\nAudioManager audioManager = (AudioManager) context.getSystemService(Context.AUDIO_SERVICE);</p>\n<pre><code>    // Revert to default audio routing (e.g., mobile speaker or earpiece)\n    audioManager.setMode(AudioManager.MODE_NORMAL);\n    audioManager.setSpeakerphoneOn(true);\n    audioManager.setBluetoothScoOn(false);\n    audioManager.stopBluetoothSco();\n    System.out.println(&quot;Mobile speaker connected&quot;);\n    \n</code></pre>\n<pre><code>      audioManager.setParameters(&quot;input_device=1;output_device=0&quot;);\n\n</code></pre>\n<pre><code>}`\n</code></pre>\n"},{"tags":["java","eclipse","business-objects"],"owner":{"account_id":9871914,"reputation":200,"user_id":7311219,"display_name":"squashpat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688191019,"creation_date":1494584799,"question_id":43935469,"body_markdown":"Installed Design Studio and Eclipse with JDK8.\r\nWin 10, default Browser is Chrome, also tried with Edge as default.\r\nIn the Run Configuration is jre 1.8.0_133 \r\n\r\nGuideline: [GuideLine][1]\r\nDownloaded Examples: [Examples][2]\r\n\r\nI followed the guideline, but get stucked in \r\n3.1.7 Testing a Sample SDK ExtensionProcedure --&gt; by point 3.1.7 **K** &quot;Add SDK&quot;, because the list is empty, so can&#39;t choose anything.\r\n\r\nWhen i try to run a example Project. Design Studio opening and closing right away.\r\n\r\nI Tried with Eclipse Juno, Mars and Neon, right now iam using Mars v2.\r\n\r\nAny Solution for that?\r\n\r\nEclipse console:\r\n\r\n&gt; !SESSION 2017-05-12 12:18:07.241\r\n&gt; ----------------------------------------------- eclipse.buildId=@qualifier@ java.version=1.8.0_131 java.vendor=Oracle\r\n&gt; Corporation BootLoader constants: OS=win32, ARCH=x86_64, WS=win32,\r\n&gt; NL=de_DE Framework arguments:  -product com.sap.ip.bi.zen Command-line\r\n&gt; arguments:  -product com.sap.ip.bi.zen -data\r\n&gt; C:\\ds_sdk_workspace/../runtime-SDK -dev\r\n&gt; file:C:/ds_sdk_workspace/.metadata/.plugins/org.eclipse.pde.core/SDK/dev.properties\r\n&gt; -os win32 -ws win32 -arch x86_64 -consoleLog\r\n&gt; \r\n&gt; !ENTRY org.eclipse.equinox.ds 1 0 2017-05-12 12:18:08.121 !MESSAGE\r\n&gt; Could not bind a reference of component\r\n&gt; com.sap.ip.bi.base.application.DeclaredServiceActivator. The reference\r\n&gt; is: Reference[name = IActivatorBase, interface =\r\n&gt; com.sap.ip.bi.base.bundle.IActivatorBase, policy = dynamic,\r\n&gt; cardinality = 0..n, target = null, bind = addRICActivator, unbind =\r\n&gt; removeRICActivator]\r\n&gt; \r\n&gt; !ENTRY org.eclipse.update.configurator 4 0 2017-05-12 12:18:16.319\r\n&gt; !MESSAGE Unable to find feature.xml in directory: C:\\Program Files\\SAP\r\n&gt; BusinessObjects\\Design Studio\\features\\__sap.dir\r\n&gt; \r\n&gt; !ENTRY org.eclipse.core.resources 2 10035 2017-05-12 12:18:16.942\r\n&gt; !MESSAGE The workspace exited with unsaved changes in the previous\r\n&gt; session; refreshing workspace to recover changes.\r\n&gt; \r\n&gt; !ENTRY com.sap.ip.bi.zen 4 0 2017-05-12 12:18:19.451 !MESSAGE Failed\r\n&gt; to create temporary folder !STACK 1\r\n&gt; org.eclipse.core.internal.resources.ResourceException: Resource\r\n&gt; &#39;/com.sap.ip.bi.zen&#39; is not open.\r\n\r\n\r\n  [1]: https://help.sap.com/viewer/7979f8ee98004609ae4ae22b5e4a335d/1.6.4.0/en-US\r\n  [2]: https://help.sap.com/http.svc/rc/87a79279928f47c38bbddacf558f5d06/1.6.4.0/en-US/DS_16SP04_SDK_SAMPLES.zip","title":"Eclipse Design Studio crash after start","body":"<p>Installed Design Studio and Eclipse with JDK8.\nWin 10, default Browser is Chrome, also tried with Edge as default.\nIn the Run Configuration is jre 1.8.0_133 </p>\n\n<p>Guideline: <a href=\"https://help.sap.com/viewer/7979f8ee98004609ae4ae22b5e4a335d/1.6.4.0/en-US\" rel=\"nofollow noreferrer\">GuideLine</a>\nDownloaded Examples: <a href=\"https://help.sap.com/http.svc/rc/87a79279928f47c38bbddacf558f5d06/1.6.4.0/en-US/DS_16SP04_SDK_SAMPLES.zip\" rel=\"nofollow noreferrer\">Examples</a></p>\n\n<p>I followed the guideline, but get stucked in \n3.1.7 Testing a Sample SDK ExtensionProcedure --> by point 3.1.7 <strong>K</strong> \"Add SDK\", because the list is empty, so can't choose anything.</p>\n\n<p>When i try to run a example Project. Design Studio opening and closing right away.</p>\n\n<p>I Tried with Eclipse Juno, Mars and Neon, right now iam using Mars v2.</p>\n\n<p>Any Solution for that?</p>\n\n<p>Eclipse console:</p>\n\n<blockquote>\n  <p>!SESSION 2017-05-12 12:18:07.241\n  ----------------------------------------------- eclipse.buildId=@qualifier@ java.version=1.8.0_131 java.vendor=Oracle\n  Corporation BootLoader constants: OS=win32, ARCH=x86_64, WS=win32,\n  NL=de_DE Framework arguments:  -product com.sap.ip.bi.zen Command-line\n  arguments:  -product com.sap.ip.bi.zen -data\n  C:\\ds_sdk_workspace/../runtime-SDK -dev\n  file:C:/ds_sdk_workspace/.metadata/.plugins/org.eclipse.pde.core/SDK/dev.properties\n  -os win32 -ws win32 -arch x86_64 -consoleLog</p>\n  \n  <p>!ENTRY org.eclipse.equinox.ds 1 0 2017-05-12 12:18:08.121 !MESSAGE\n  Could not bind a reference of component\n  com.sap.ip.bi.base.application.DeclaredServiceActivator. The reference\n  is: Reference[name = IActivatorBase, interface =\n  com.sap.ip.bi.base.bundle.IActivatorBase, policy = dynamic,\n  cardinality = 0..n, target = null, bind = addRICActivator, unbind =\n  removeRICActivator]</p>\n  \n  <p>!ENTRY org.eclipse.update.configurator 4 0 2017-05-12 12:18:16.319\n  !MESSAGE Unable to find feature.xml in directory: C:\\Program Files\\SAP\n  BusinessObjects\\Design Studio\\features__sap.dir</p>\n  \n  <p>!ENTRY org.eclipse.core.resources 2 10035 2017-05-12 12:18:16.942\n  !MESSAGE The workspace exited with unsaved changes in the previous\n  session; refreshing workspace to recover changes.</p>\n  \n  <p>!ENTRY com.sap.ip.bi.zen 4 0 2017-05-12 12:18:19.451 !MESSAGE Failed\n  to create temporary folder !STACK 1\n  org.eclipse.core.internal.resources.ResourceException: Resource\n  '/com.sap.ip.bi.zen' is not open.</p>\n</blockquote>\n"},{"tags":["java","localhost","webdynpro","sap-enterprise-portal"],"comments":[{"owner":{"account_id":45726,"reputation":1746,"user_id":134921,"display_name":"Bryan Cain"},"score":0,"creation_date":1480432956,"post_id":40861110,"comment_id":68954423,"body_markdown":"I&#39;m not going to list this as an answer, because I&#39;ve only had to deal with this on the Web Dynpro ABAP side.  But, what I have to say may help.  We were unable to make this work in WDA simply.  Prior to release 7.03/7.31 and the introduction of HTML islands, we took the local machine IP and did a DNS lookup to get the hostname.  After HTML Islands, we were able to touch the local machine, but in order to get the machine name we had to build a web service than ran on the target machine to get that info back to the application.  Hope that at least points you in a helpful direction.","body":"I&#39;m not going to list this as an answer, because I&#39;ve only had to deal with this on the Web Dynpro ABAP side.  But, what I have to say may help.  We were unable to make this work in WDA simply.  Prior to release 7.03/7.31 and the introduction of HTML islands, we took the local machine IP and did a DNS lookup to get the hostname.  After HTML Islands, we were able to touch the local machine, but in order to get the machine name we had to build a web service than ran on the target machine to get that info back to the application.  Hope that at least points you in a helpful direction."},{"owner":{"account_id":2541030,"reputation":389,"user_id":2206834,"accept_rate":46,"display_name":"user2206834"},"score":0,"creation_date":1481202998,"post_id":40861110,"comment_id":69288089,"body_markdown":"Thanks for the answer. I resolved my issue by doing a CMD-command (nslookup &lt;ip-address&gt;) in my java code and picked the exact line with the name of the machine. After getting the appropriate line, a filtered the result with a regex to get the workstation name.","body":"Thanks for the answer. I resolved my issue by doing a CMD-command (nslookup &lt;ip-address&gt;) in my java code and picked the exact line with the name of the machine. After getting the appropriate line, a filtered the result with a regex to get the workstation name."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1565141432,"post_id":40861110,"comment_id":101255373,"body_markdown":"&#39;The localhost of the local machine&#39; meaningless. The local machine is always `localhost` or `127.0.0.1`. If you mean its public DNS name or IP address please say so.","body":"&#39;The localhost of the local machine&#39; meaningless. The local machine is always <code>localhost</code> or <code>127.0.0.1</code>. If you mean its public DNS name or IP address please say so."}],"answers":[{"tags":[],"owner":{"account_id":542551,"reputation":10395,"user_id":911419,"accept_rate":79,"display_name":"Suncatcher"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1565132271,"creation_date":1565132271,"answer_id":57384997,"question_id":40861110,"body_markdown":"Just to add the implementation of way chosen by OP:\r\n\r\n\timport java.util.regex.Pattern;\r\n\timport java.io.*;\r\n\r\n\tpublic class nslookup\r\n\t{\r\n\t  public static void main(String[] args)\r\n\t  {\r\n\t\t  try {\r\n\t\t\t\t\tProcess p = Runtime.getRuntime().exec(&quot;cmd /c nslookup 192.168.0.1&quot;);\r\n\t\t\t\t\tBufferedReader bi = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n\t\t\t\t\tString line = &quot;&quot;;\r\n\t\t\t\t\tline = bi.readLine();\r\n\t\t\t\t\twhile ( line != null ) {\r\n\t\t\t\t\t\t\tif ( line.indexOf(&quot;Non-existent&quot;) != -1 ) {\r\n\t\t\t\t\t\t\t\t\tSystem.out.println(&quot;The host/domain doesn&#39;t exist&quot;);\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (line.matches(&quot;Server:\\\\s+.+$&quot;)) {\r\n\t\t\t\t\t\t\t\tMatcher matcher = Pattern.compile(&quot;(Server:\\\\s+)([a-z0-9\\\\-]+[\\\\.]{1}[a-z0-9\\\\-]+([\\\\.]{1}[a-z0-9\\\\-]+)?([\\\\.]{1}[a-z0-9\\\\-]+)?)&quot;).matcher(line);\r\n\t\t\t\t\t\t\t\tif (matcher.find()) {\r\n\t\t\t\t\t\t\t\tString result = matcher.group(2);\r\n\t\t\t\t\t\t\t\tSystem.out.println(result);\r\n\t\t\t\t\t\t\t\tSystem.exit(42);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tline = bi.readLine();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbi.close();\r\n\t\t } catch (IOException ioe) {\r\n\t\t\tioe.printStackTrace(); }\r\n\t  }\r\n\t}","title":"Get localhost of client machine in Java WD","body":"<p>Just to add the implementation of way chosen by OP:</p>\n\n<pre><code>import java.util.regex.Pattern;\nimport java.io.*;\n\npublic class nslookup\n{\n  public static void main(String[] args)\n  {\n      try {\n                Process p = Runtime.getRuntime().exec(\"cmd /c nslookup 192.168.0.1\");\n                BufferedReader bi = new BufferedReader(new InputStreamReader(p.getInputStream()));\n                String line = \"\";\n                line = bi.readLine();\n                while ( line != null ) {\n                        if ( line.indexOf(\"Non-existent\") != -1 ) {\n                                System.out.println(\"The host/domain doesn't exist\");\n                                break;\n                        }\n                        if (line.matches(\"Server:\\\\s+.+$\")) {\n                            Matcher matcher = Pattern.compile(\"(Server:\\\\s+)([a-z0-9\\\\-]+[\\\\.]{1}[a-z0-9\\\\-]+([\\\\.]{1}[a-z0-9\\\\-]+)?([\\\\.]{1}[a-z0-9\\\\-]+)?)\").matcher(line);\n                            if (matcher.find()) {\n                            String result = matcher.group(2);\n                            System.out.println(result);\n                            System.exit(42);\n                            }\n                        }\n                        line = bi.readLine();\n                }\n                bi.close();\n     } catch (IOException ioe) {\n        ioe.printStackTrace(); }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":2541030,"reputation":389,"user_id":2206834,"accept_rate":46,"display_name":"user2206834"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":263,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1688189680,"creation_date":1480408437,"question_id":40861110,"body_markdown":"I have created a Java Web Dynpro in the portal intranet. \r\nThe localhost of the local machine is needed, but I&#39;m only able to get the servername, serverlocalhost and the local machine ip-address. \r\n\r\nWhen I&#39;m running following code on a local java program, I&#39;m getting:\r\n- **Workstation**: BEWSP\r\n- **IP**: 10.10.19.112\r\n\r\nWhen I&#39;m running following code on a SAP Portal program, I&#39;m getting: \r\n- **Workstation**: SAPDEP\r\n- **IP**: 10.10.19.112\r\n\r\nI need to get BEWSP in my SAP Portal application, any idea to do this?\r\n\r\n               InetAddress ip = InetAddress.getLocalHost();\r\n\t\t\t   String workstation = &quot;&quot;;\r\n\t\t\t   String currentip = &quot;&quot;;\r\n\t\t\t   //Workstation\r\n\t\t\t   System.out.println(&quot;Workstation : &quot; + ip.getHostName());\r\n\t\t\t   workstation = &quot;&quot; + ip.getHostName();\r\n\r\n\t\t\t   //Ip address\r\n\t\t\t   System.out.println(&quot;Current IP address : &quot; + ip.getHostAddress());\r\n\t\t\t   currentip = &quot;&quot; +  ip.getHostAddress(); \r\n\r\n\r\nKR","title":"Get localhost of client machine in Java WD","body":"<p>I have created a Java Web Dynpro in the portal intranet.\nThe localhost of the local machine is needed, but I'm only able to get the servername, serverlocalhost and the local machine ip-address.</p>\n<p>When I'm running following code on a local java program, I'm getting:</p>\n<ul>\n<li><strong>Workstation</strong>: BEWSP</li>\n<li><strong>IP</strong>: 10.10.19.112</li>\n</ul>\n<p>When I'm running following code on a SAP Portal program, I'm getting:</p>\n<ul>\n<li><strong>Workstation</strong>: SAPDEP</li>\n<li><strong>IP</strong>: 10.10.19.112</li>\n</ul>\n<p>I need to get BEWSP in my SAP Portal application, any idea to do this?</p>\n<pre><code>           InetAddress ip = InetAddress.getLocalHost();\n           String workstation = &quot;&quot;;\n           String currentip = &quot;&quot;;\n           //Workstation\n           System.out.println(&quot;Workstation : &quot; + ip.getHostName());\n           workstation = &quot;&quot; + ip.getHostName();\n\n           //Ip address\n           System.out.println(&quot;Current IP address : &quot; + ip.getHostAddress());\n           currentip = &quot;&quot; +  ip.getHostAddress(); \n</code></pre>\n<p>KR</p>\n"},{"tags":["java","itext","webdynpro"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1387193910,"post_id":20608016,"comment_id":30841086,"body_markdown":"You *have already created a table* - do you mean you already have a PDF with a table? Or a gui table? Or some abstract data table?","body":"You <i>have already created a table</i> - do you mean you already have a PDF with a table? Or a gui table? Or some abstract data table?"},{"owner":{"account_id":2541030,"reputation":389,"user_id":2206834,"accept_rate":46,"display_name":"user2206834"},"score":0,"creation_date":1387198332,"post_id":20608016,"comment_id":30843539,"body_markdown":"I already created a PDF file with a table (id: Table1)","body":"I already created a PDF file with a table (id: Table1)"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1387202177,"post_id":20608016,"comment_id":30845828,"body_markdown":"Is the structure known to you? I.e. do you know the relevant table coordinates (column coordinates, column styles, position of new rows, ...)? Then your task is feasible. Please be aware that in the PDF there is no table structure as such anymore, merely some lines and / or colored backgrounds and some text positioned at funny positions.","body":"Is the structure known to you? I.e. do you know the relevant table coordinates (column coordinates, column styles, position of new rows, ...)? Then your task is feasible. Please be aware that in the PDF there is no table structure as such anymore, merely some lines and / or colored backgrounds and some text positioned at funny positions."}],"answers":[{"tags":[],"owner":{"account_id":1841310,"reputation":65,"user_id":1670640,"display_name":"Golam Rabbi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1387191273,"creation_date":1387191273,"answer_id":20609123,"question_id":20608016,"body_markdown":"[How-to-add-row-in-jtable][1]\r\n may help you. Instead iText, You can print your table using Jtable&#39;s built in print method. Go to [this][2] link for more. \r\n\r\nThanks.  \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3549206/how-to-add-row-in-jtable\r\n  [2]: http://docs.oracle.com/javase/tutorial/uiswing/misc/printtable.html","title":"iText Filling existing table PDF","body":"<p><a href=\"https://stackoverflow.com/questions/3549206/how-to-add-row-in-jtable\">How-to-add-row-in-jtable</a>\n may help you. Instead iText, You can print your table using Jtable's built in print method. Go to <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/misc/printtable.html\" rel=\"nofollow noreferrer\">this</a> link for more. </p>\n\n<p>Thanks.  </p>\n"}],"owner":{"account_id":2541030,"reputation":389,"user_id":2206834,"accept_rate":46,"display_name":"user2206834"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":630,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688189620,"creation_date":1387188156,"question_id":20608016,"body_markdown":"I&#39;m trying to fill an existing table in my PDF.\r\nI found some examples on iText but they always create a new table and then fills it.\r\n\r\nIn my case I have already created a table and now I want to add rows to this.\r\n\r\nIs it possible to do this?","title":"iText Filling existing table PDF","body":"<p>I'm trying to fill an existing table in my PDF.\nI found some examples on iText but they always create a new table and then fills it.</p>\n<p>In my case I have already created a table and now I want to add rows to this.</p>\n<p>Is it possible to do this?</p>\n"},{"tags":["java","soa","saprfc","webdynpro"],"answers":[{"tags":[],"owner":{"account_id":20725,"reputation":4287,"user_id":49804,"display_name":"PATRY Guillaume"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1503911295,"creation_date":1285627149,"answer_id":3808430,"question_id":3807987,"body_markdown":"You don&#39;t need webdynpro to perform this operation. Webdynpro can be seen as a framework, and it won&#39;t be easy to integrate it into your own application. \r\n\r\n[JCO][1] is a java component (library) allowing the connection to a SAP system. It&#39;s quite easy to use. I&#39;ve integrated the lib into application on WebSphere and Tomcat, without any problem. Some tutorials are available [here][3] \r\n\r\nThe JCO will be used to call Remote-enabled functions on the SAP side (RFC). There are a lot of standard function available. Since you didn&#39;t gave us any information on your field, i can&#39;t really help on this. If you got access to an R/3 system, transaction BAPI can give you an idea of what already exists.\r\n\r\nIf there is no function that correspond to your needs, then an ABBAPer can help you. If you don&#39;t need a &quot;expensive big-name outsourcing firms&quot;, then a freelance could be the solution. \r\n\r\nHowever, if you plug into an existing SAP component (and i don&#39;t see why you would want to connect to SAP if it does not use SAP...), the apparently &quot;simple&quot; request can be more complex than you think.\r\n\r\nRegards    \r\nGuillaume\r\n\r\n  [1]: http://help.sap.com/saphelp_nw04/helpdata/en/6f/1bd5c6a85b11d6b28500508b5d5211/content.htm\r\n  [2]: http://www.winfobase.de/lehre/lv_materialien.nsf/intern01/1DDA0D7896600DF5C125709F0045ED23/$FILE/Tips&amp;Tricks_JCo_Programming.pdf\r\n  [3]: http://www.vogella.de/articles/SAPJCo/article.html\r\n  [4]: http://www.pdfmanual.net/thomas-g-schuessler-arasoft-gmbh-sap-java-connector-tutorial.html#","title":"How do I create an SAP interface to pull some data from our webapplication?","body":"<p>You don't need webdynpro to perform this operation. Webdynpro can be seen as a framework, and it won't be easy to integrate it into your own application. </p>\n\n<p><a href=\"http://help.sap.com/saphelp_nw04/helpdata/en/6f/1bd5c6a85b11d6b28500508b5d5211/content.htm\" rel=\"nofollow noreferrer\">JCO</a> is a java component (library) allowing the connection to a SAP system. It's quite easy to use. I've integrated the lib into application on WebSphere and Tomcat, without any problem. Some tutorials are available <a href=\"http://www.vogella.de/articles/SAPJCo/article.html\" rel=\"nofollow noreferrer\">here</a> </p>\n\n<p>The JCO will be used to call Remote-enabled functions on the SAP side (RFC). There are a lot of standard function available. Since you didn't gave us any information on your field, i can't really help on this. If you got access to an R/3 system, transaction BAPI can give you an idea of what already exists.</p>\n\n<p>If there is no function that correspond to your needs, then an ABBAPer can help you. If you don't need a \"expensive big-name outsourcing firms\", then a freelance could be the solution. </p>\n\n<p>However, if you plug into an existing SAP component (and i don't see why you would want to connect to SAP if it does not use SAP...), the apparently \"simple\" request can be more complex than you think.</p>\n\n<p>Regards<br>\nGuillaume</p>\n"},{"tags":[],"owner":{"account_id":82096,"reputation":306,"user_id":231100,"display_name":"franblay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1288784700,"creation_date":1288784700,"answer_id":4086676,"question_id":3807987,"body_markdown":"You can pull data from your app. in many ways.&lt;br&gt;\r\nIf your app. has some web service interface you can build web service clients in SAP to fetch the data you need. See [here](http://help.sap.com/saphelp_nw2004s/helpdata/en/bf/d005244e9d1d4d92b2fe7935556b4c/content.htm).&lt;br&gt;\r\nUsing Native SQL you can access directly from SAP to your app. database, suppossing you have network acces to it. See [here](http://help.sap.com/saphelp_nw70/helpdata/en/fc/eb3976358411d1829f0000e829fbfe/content.htm).&lt;br&gt;\r\nAlso, as stated in the previous answer, you can acces SAP system from your java app. through [JCo](http://help.sap.com/saphelp_nw04/helpdata/en/6f/1bd5c6a85b11d6b28500508b5d5211/content.htm) or through [web services](http://help.sap.com/saphelp_nw2004s/helpdata/en/e5/a68d10f4eb894087fc9c1c3f9ae433/content.htm).&lt;br&gt;\r\nThere are more imaginative forms, as plain text file transfer, [EDI](http://en.wikipedia.org/wiki/Electronic_Data_Interchange), [REST](http://en.wikipedia.org/wiki/Representational_State_Transfer), [SAP PI](http://help.sap.com/saphelp_nw04/helpdata/en/14/80243b4a66ae0ce10000000a11402f/frameset.htm)... SAP is full of ways to interface with the rest of the world!&lt;br&gt;\r\n&lt;br&gt;\r\nRegards","title":"How do I create an SAP interface to pull some data from our webapplication?","body":"<p>You can pull data from your app. in many ways.<br>\nIf your app. has some web service interface you can build web service clients in SAP to fetch the data you need. See <a href=\"http://help.sap.com/saphelp_nw2004s/helpdata/en/bf/d005244e9d1d4d92b2fe7935556b4c/content.htm\" rel=\"nofollow\">here</a>.<br>\nUsing Native SQL you can access directly from SAP to your app. database, suppossing you have network acces to it. See <a href=\"http://help.sap.com/saphelp_nw70/helpdata/en/fc/eb3976358411d1829f0000e829fbfe/content.htm\" rel=\"nofollow\">here</a>.<br>\nAlso, as stated in the previous answer, you can acces SAP system from your java app. through <a href=\"http://help.sap.com/saphelp_nw04/helpdata/en/6f/1bd5c6a85b11d6b28500508b5d5211/content.htm\" rel=\"nofollow\">JCo</a> or through <a href=\"http://help.sap.com/saphelp_nw2004s/helpdata/en/e5/a68d10f4eb894087fc9c1c3f9ae433/content.htm\" rel=\"nofollow\">web services</a>.<br>\nThere are more imaginative forms, as plain text file transfer, <a href=\"http://en.wikipedia.org/wiki/Electronic_Data_Interchange\" rel=\"nofollow\">EDI</a>, <a href=\"http://en.wikipedia.org/wiki/Representational_State_Transfer\" rel=\"nofollow\">REST</a>, <a href=\"http://help.sap.com/saphelp_nw04/helpdata/en/14/80243b4a66ae0ce10000000a11402f/frameset.htm\" rel=\"nofollow\">SAP PI</a>... SAP is full of ways to interface with the rest of the world!<br>\n<br>\nRegards</p>\n"}],"owner":{"account_id":654190,"reputation":11,"user_id":459964,"display_name":"G Sharman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7906,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1688189589,"creation_date":1285622517,"question_id":3807987,"body_markdown":"We have a Java web application built on a relational database and we would like to create a SAP module to pull some data in from this application into SAP.\r\n\r\nWhat would be involved?\r\n\r\nMy understanding so far is that we would need a Java Web Dynpro interface built to import the data from our web-app using SOA.\r\n\r\nAlso, looking for a vendor who would be able to implement this module for us. I have already looked at some big-name Indian vendors but I feel our requirements would be sufficiently small and un-complicated to not required expensive big-name outsourcing firms.\r\n\r\nAny suggestions?","title":"How do I create an SAP interface to pull some data from our webapplication?","body":"<p>We have a Java web application built on a relational database and we would like to create a SAP module to pull some data in from this application into SAP.</p>\n<p>What would be involved?</p>\n<p>My understanding so far is that we would need a Java Web Dynpro interface built to import the data from our web-app using SOA.</p>\n<p>Also, looking for a vendor who would be able to implement this module for us. I have already looked at some big-name Indian vendors but I feel our requirements would be sufficiently small and un-complicated to not required expensive big-name outsourcing firms.</p>\n<p>Any suggestions?</p>\n"},{"tags":["java","android","animation","imageview","ontouchlistener"],"answers":[{"tags":[],"owner":{"account_id":6979173,"reputation":942,"user_id":6576302,"display_name":"C.F.G"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688189571,"creation_date":1688188370,"answer_id":76593359,"question_id":76431011,"body_markdown":"The intend of \r\nyour linked post \r\n\r\nhttps://stackoverflow.com/q/1634252/6576302\r\n\r\nis to rotate a view forever but what you want is a custom rotation. You can rotate any view using `setRotation(float angle)`. Make sure that the view has free space for rotating.\r\n\r\n\r\n    public class Test2 extends Fragment implements View.OnClickListener {\r\n    \r\n    float rotationAngle = 0; // &lt;------- added\r\n    ...\r\n    \r\n    ...\r\n    \r\n    @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            binding = FragmentTest2Binding.inflate(inflater, container, false);\r\n    \r\n            // Define and registrate RepeatListener on the action button\r\n    \r\n    \r\n            binding.buttonAction.setOnTouchListener(new RepeatListener(30, 30, view -&gt; {\r\n                rotationAngle += 5;\r\n                binding.fan.setRotation(-rotationAngle); // I want to rotate counter-clock-wise\r\n    \r\n            }));\r\n    \r\n    \r\n            return binding.getRoot();\r\n    \r\n        }\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LFDbb.gif","title":"How to combine a RepeatListener in Android with a smooth image rotation","body":"<p>The intend of\nyour linked post</p>\n<p><a href=\"https://stackoverflow.com/q/1634252/6576302\">How to make a smooth image rotation in Android?</a></p>\n<p>is to rotate a view forever but what you want is a custom rotation. You can rotate any view using <code>setRotation(float angle)</code>. Make sure that the view has free space for rotating.</p>\n<pre><code>public class Test2 extends Fragment implements View.OnClickListener {\n\nfloat rotationAngle = 0; // &lt;------- added\n...\n\n...\n\n@Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        binding = FragmentTest2Binding.inflate(inflater, container, false);\n\n        // Define and registrate RepeatListener on the action button\n\n\n        binding.buttonAction.setOnTouchListener(new RepeatListener(30, 30, view -&gt; {\n            rotationAngle += 5;\n            binding.fan.setRotation(-rotationAngle); // I want to rotate counter-clock-wise\n\n        }));\n\n\n        return binding.getRoot();\n\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/LFDbb.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LFDbb.gif\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76593359,"answer_count":1,"score":0,"last_activity_date":1688189571,"creation_date":1686220900,"question_id":76431011,"body_markdown":"I have a Fragment with a ImageView (Fan) and an action button. When pressing the action button the ImageView should rotate by using the animation approach from https://stackoverflow.com/questions/1634252/how-to-make-a-smooth-image-rotation-in-android. Here is the screenshot of the layout:\r\n[![enter image description here][1]][1]\r\n\r\nActually this works fine when I just press the button once and release it. However, when having a RepeatListener and pressing and holding it there are 2 problems:\r\n\r\n 1. The `binding.fan.startAnimation(rotate);` is called several times within a short time. This leads to setting back the ImageView such that it does not seem to animate until the button is not pressed any more\r\n 2. When the button is not pressed any more, the ImageView should stay at the very position that it has had when the button was released. So it should not turn back to its original state.\r\n\r\nCan you think of a approach to archieve this?\r\n\r\nHere is the Java code of the Fragment with the RepeatListener\r\n\r\n    package com.example.game;\r\n    \r\n    import android.content.pm.ActivityInfo;\r\n    import android.graphics.Point;\r\n    import android.os.Bundle;\r\n    import android.view.Display;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.view.WindowManager;\r\n    import android.view.animation.Animation;\r\n    import android.view.animation.LinearInterpolator;\r\n    import android.view.animation.RotateAnimation;\r\n    import androidx.fragment.app.Fragment;\r\n    import com.example.game.databinding.FragmentTest2Binding;\r\n    \r\n    \r\n    \r\n    public class Test2 extends Fragment implements View.OnClickListener {\r\n    \r\n    \r\n        private FragmentTest2Binding binding;\r\n        int widthDisplay;\r\n        int heightDisplay;\r\n    \r\n        public Test2() {\r\n            // Required empty public constructor\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            getActivity().setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);\r\n    \r\n    \r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            binding = FragmentTest2Binding.inflate(inflater, container, false);\r\n    \r\n            WindowManager wm = (WindowManager) getActivity().getWindowManager();\r\n            Display display = wm.getDefaultDisplay();\r\n            Point size = new Point();\r\n            display.getSize(size);\r\n            widthDisplay = size.x;\r\n            heightDisplay = size.y;\r\n            container.getContext();\r\n    \r\n            //Define the rotation animation\r\n            RotateAnimation rotate = new RotateAnimation(0, 180, Animation.RELATIVE_TO_SELF, 0.5f, Animation.RELATIVE_TO_SELF, 0.5f);\r\n            rotate.setDuration(1000);\r\n            rotate.setInterpolator(new LinearInterpolator());\r\n            rotate.setFillAfter(true);\r\n            binding.fan.setAnimation(rotate);\r\n    \r\n    \r\n            // Define and registrate RepeatListener on the action button\r\n    \r\n    \r\n            binding.buttonAction.setOnTouchListener((View.OnTouchListener) new RepeatListener(30, 30, new View.OnClickListener() {\r\n    \r\n                @Override\r\n                public void onClick(View view) {\r\n    \r\n                    binding.fan.startAnimation(rotate);\r\n                    // the code to execute repeatedly\r\n    \r\n                }\r\n            }));\r\n    \r\n    \r\n            return binding.getRoot();\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onClick(View v) {\r\n    \r\n        }\r\n    }\r\n\r\nThis is the XML layout file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;@drawable/game_test_background_hp_fan&quot;\r\n        tools:context=&quot;.MainActivity&quot;\r\n        android:id=&quot;@+id/constraintLayout&quot;&gt;\r\n    \r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/button_action&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            android:text=&quot;Button&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHeight_percent=&quot;0.102&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.373&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.745&quot;\r\n            app:layout_constraintWidth_percent=&quot;0.12&quot; /&gt;\r\n    \r\n        &lt;ImageView\r\n            android:id=&quot;@+id/fan&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHeight_percent=&quot;0.09&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.539&quot;\r\n            app:layout_constraintVertical_bias= &quot;0.51&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:srcCompat=&quot;@drawable/heat_pump_fan&quot; /&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n**Edit**: Here is the java class of the RepeatListener:\r\n\r\n    import android.os.Handler;\r\n    import android.view.MotionEvent;\r\n    import android.view.View;\r\n    \r\n    /**\r\n     * A class, that can be used as a TouchListener on any view (e.g. a Button).\r\n     * It cyclically runs a clickListener, emulating keyboard-like behaviour. First\r\n     * click is fired immediately, next one after the initialInterval, and subsequent\r\n     * ones after the normalInterval.\r\n     *\r\n     * &lt;p&gt;Interval is scheduled after the onClick completes, so it has to run fast.\r\n     * If it runs slow, it does not generate skipped onClicks. Can be rewritten to\r\n     * achieve this.\r\n     */\r\n    public class RepeatListener implements View.OnTouchListener {\r\n    \r\n        private Handler handler = new Handler();\r\n    \r\n        private int initialInterval;\r\n        private final int normalInterval;\r\n        private final View.OnClickListener clickListener;\r\n        private View touchedView;\r\n    \r\n        private Runnable handlerRunnable = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                if(touchedView.isEnabled()) {\r\n                    handler.postDelayed(this, normalInterval);\r\n                    clickListener.onClick(touchedView);\r\n                } else {\r\n                    // if the view was disabled by the clickListener, remove the callback\r\n                    handler.removeCallbacks(handlerRunnable);\r\n                    touchedView.setPressed(false);\r\n                    touchedView = null;\r\n                }\r\n            }\r\n        };\r\n    \r\n        /**\r\n         * @param initialInterval The interval after first click event\r\n         * @param normalInterval The interval after second and subsequent click\r\n         *       events\r\n         * @param clickListener The OnClickListener, that will be called\r\n         *       periodically\r\n         */\r\n        public RepeatListener(int initialInterval, int normalInterval,\r\n                              View.OnClickListener clickListener) {\r\n            if (clickListener == null)\r\n                throw new IllegalArgumentException(&quot;null runnable&quot;);\r\n            if (initialInterval &lt; 0 || normalInterval &lt; 0)\r\n                throw new IllegalArgumentException(&quot;negative interval&quot;);\r\n    \r\n            this.initialInterval = initialInterval;\r\n            this.normalInterval = normalInterval;\r\n            this.clickListener = clickListener;\r\n        }\r\n    \r\n        public boolean onTouch(View view, MotionEvent motionEvent) {\r\n            switch (motionEvent.getAction()) {\r\n                case MotionEvent.ACTION_DOWN:\r\n                    handler.removeCallbacks(handlerRunnable);\r\n                    handler.postDelayed(handlerRunnable, initialInterval);\r\n                    touchedView = view;\r\n                    touchedView.setPressed(true);\r\n                    clickListener.onClick(view);\r\n                    return true;\r\n                case MotionEvent.ACTION_UP:\r\n                case MotionEvent.ACTION_CANCEL:\r\n                    handler.removeCallbacks(handlerRunnable);\r\n                    touchedView.setPressed(false);\r\n                    touchedView = null;\r\n                    return true;\r\n            }\r\n    \r\n            return false;\r\n        }\r\n    \r\n    }\r\n\r\n**Reminder**: Does anyone kow how to do this?\r\n\r\n  [1]: https://i.stack.imgur.com/Jj2ey.png","title":"How to combine a RepeatListener in Android with a smooth image rotation","body":"<p>I have a Fragment with a ImageView (Fan) and an action button. When pressing the action button the ImageView should rotate by using the animation approach from <a href=\"https://stackoverflow.com/questions/1634252/how-to-make-a-smooth-image-rotation-in-android\">How to make a smooth image rotation in Android?</a>. Here is the screenshot of the layout:\n<a href=\"https://i.stack.imgur.com/Jj2ey.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jj2ey.png\" alt=\"enter image description here\" /></a></p>\n<p>Actually this works fine when I just press the button once and release it. However, when having a RepeatListener and pressing and holding it there are 2 problems:</p>\n<ol>\n<li>The <code>binding.fan.startAnimation(rotate);</code> is called several times within a short time. This leads to setting back the ImageView such that it does not seem to animate until the button is not pressed any more</li>\n<li>When the button is not pressed any more, the ImageView should stay at the very position that it has had when the button was released. So it should not turn back to its original state.</li>\n</ol>\n<p>Can you think of a approach to archieve this?</p>\n<p>Here is the Java code of the Fragment with the RepeatListener</p>\n<pre><code>package com.example.game;\n\nimport android.content.pm.ActivityInfo;\nimport android.graphics.Point;\nimport android.os.Bundle;\nimport android.view.Display;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.view.WindowManager;\nimport android.view.animation.Animation;\nimport android.view.animation.LinearInterpolator;\nimport android.view.animation.RotateAnimation;\nimport androidx.fragment.app.Fragment;\nimport com.example.game.databinding.FragmentTest2Binding;\n\n\n\npublic class Test2 extends Fragment implements View.OnClickListener {\n\n\n    private FragmentTest2Binding binding;\n    int widthDisplay;\n    int heightDisplay;\n\n    public Test2() {\n        // Required empty public constructor\n    }\n\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        getActivity().setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);\n\n\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        binding = FragmentTest2Binding.inflate(inflater, container, false);\n\n        WindowManager wm = (WindowManager) getActivity().getWindowManager();\n        Display display = wm.getDefaultDisplay();\n        Point size = new Point();\n        display.getSize(size);\n        widthDisplay = size.x;\n        heightDisplay = size.y;\n        container.getContext();\n\n        //Define the rotation animation\n        RotateAnimation rotate = new RotateAnimation(0, 180, Animation.RELATIVE_TO_SELF, 0.5f, Animation.RELATIVE_TO_SELF, 0.5f);\n        rotate.setDuration(1000);\n        rotate.setInterpolator(new LinearInterpolator());\n        rotate.setFillAfter(true);\n        binding.fan.setAnimation(rotate);\n\n\n        // Define and registrate RepeatListener on the action button\n\n\n        binding.buttonAction.setOnTouchListener((View.OnTouchListener) new RepeatListener(30, 30, new View.OnClickListener() {\n\n            @Override\n            public void onClick(View view) {\n\n                binding.fan.startAnimation(rotate);\n                // the code to execute repeatedly\n\n            }\n        }));\n\n\n        return binding.getRoot();\n\n    }\n\n    @Override\n    public void onClick(View v) {\n\n    }\n}\n</code></pre>\n<p>This is the XML layout file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@drawable/game_test_background_hp_fan&quot;\n    tools:context=&quot;.MainActivity&quot;\n    android:id=&quot;@+id/constraintLayout&quot;&gt;\n\n\n    &lt;Button\n        android:id=&quot;@+id/button_action&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:text=&quot;Button&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHeight_percent=&quot;0.102&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.373&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.745&quot;\n        app:layout_constraintWidth_percent=&quot;0.12&quot; /&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/fan&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;0dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHeight_percent=&quot;0.09&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.539&quot;\n        app:layout_constraintVertical_bias= &quot;0.51&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:srcCompat=&quot;@drawable/heat_pump_fan&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><strong>Edit</strong>: Here is the java class of the RepeatListener:</p>\n<pre><code>import android.os.Handler;\nimport android.view.MotionEvent;\nimport android.view.View;\n\n/**\n * A class, that can be used as a TouchListener on any view (e.g. a Button).\n * It cyclically runs a clickListener, emulating keyboard-like behaviour. First\n * click is fired immediately, next one after the initialInterval, and subsequent\n * ones after the normalInterval.\n *\n * &lt;p&gt;Interval is scheduled after the onClick completes, so it has to run fast.\n * If it runs slow, it does not generate skipped onClicks. Can be rewritten to\n * achieve this.\n */\npublic class RepeatListener implements View.OnTouchListener {\n\n    private Handler handler = new Handler();\n\n    private int initialInterval;\n    private final int normalInterval;\n    private final View.OnClickListener clickListener;\n    private View touchedView;\n\n    private Runnable handlerRunnable = new Runnable() {\n        @Override\n        public void run() {\n            if(touchedView.isEnabled()) {\n                handler.postDelayed(this, normalInterval);\n                clickListener.onClick(touchedView);\n            } else {\n                // if the view was disabled by the clickListener, remove the callback\n                handler.removeCallbacks(handlerRunnable);\n                touchedView.setPressed(false);\n                touchedView = null;\n            }\n        }\n    };\n\n    /**\n     * @param initialInterval The interval after first click event\n     * @param normalInterval The interval after second and subsequent click\n     *       events\n     * @param clickListener The OnClickListener, that will be called\n     *       periodically\n     */\n    public RepeatListener(int initialInterval, int normalInterval,\n                          View.OnClickListener clickListener) {\n        if (clickListener == null)\n            throw new IllegalArgumentException(&quot;null runnable&quot;);\n        if (initialInterval &lt; 0 || normalInterval &lt; 0)\n            throw new IllegalArgumentException(&quot;negative interval&quot;);\n\n        this.initialInterval = initialInterval;\n        this.normalInterval = normalInterval;\n        this.clickListener = clickListener;\n    }\n\n    public boolean onTouch(View view, MotionEvent motionEvent) {\n        switch (motionEvent.getAction()) {\n            case MotionEvent.ACTION_DOWN:\n                handler.removeCallbacks(handlerRunnable);\n                handler.postDelayed(handlerRunnable, initialInterval);\n                touchedView = view;\n                touchedView.setPressed(true);\n                clickListener.onClick(view);\n                return true;\n            case MotionEvent.ACTION_UP:\n            case MotionEvent.ACTION_CANCEL:\n                handler.removeCallbacks(handlerRunnable);\n                touchedView.setPressed(false);\n                touchedView = null;\n                return true;\n        }\n\n        return false;\n    }\n\n}\n</code></pre>\n<p><strong>Reminder</strong>: Does anyone kow how to do this?</p>\n"},{"tags":["java","compilation","jogl"],"comments":[{"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"score":0,"creation_date":1688231567,"post_id":76593392,"comment_id":135047581,"body_markdown":"At first, rather post your JOGL specific questions on our official forum https://forum.jogamp.org as a very few contributors are active on StackOverflow. Secondly, JOGL depends on GlueGen, WriteCloneable comes from GlueGen. Either use JogAmp fat JAR or use both JOGL and GlueGen JARs to compile and run your program.","body":"At first, rather post your JOGL specific questions on our official forum <a href=\"https://forum.jogamp.org\" rel=\"nofollow noreferrer\">forum.jogamp.org</a> as a very few contributors are active on StackOverflow. Secondly, JOGL depends on GlueGen, WriteCloneable comes from GlueGen. Either use JogAmp fat JAR or use both JOGL and GlueGen JARs to compile and run your program."},{"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"score":0,"creation_date":1688231652,"post_id":76593392,"comment_id":135047590,"body_markdown":"I advise you to follow our instructions in our wiki: https://jogamp.org/wiki/index.php?title=Setting_up_a_JogAmp_project_in_your_favorite_IDE#Compile_and_run_your_project_from_the_command_line As you can see, both GlueGen and JOGL must be in the classpath. Is gluegen-rt in your classpath?","body":"I advise you to follow our instructions in our wiki: <a href=\"https://jogamp.org/wiki/index.php?title=Setting_up_a_JogAmp_project_in_your_favorite_IDE#Compile_and_run_your_project_from_the_command_line\" rel=\"nofollow noreferrer\">jogamp.org/wiki/&hellip;</a> As you can see, both GlueGen and JOGL must be in the classpath. Is gluegen-rt in your classpath?"},{"owner":{"account_id":28928801,"reputation":1,"user_id":22158015,"display_name":"Joseph me Altfeld"},"score":0,"creation_date":1688278205,"post_id":76593392,"comment_id":135050892,"body_markdown":"Thank you for your advice gouessej .   I go to forum.jogamp and post my question.","body":"Thank you for your advice gouessej .   I go to forum.jogamp and post my question."}],"owner":{"account_id":28928801,"reputation":1,"user_id":22158015,"display_name":"Joseph me Altfeld"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688189543,"creation_date":1688189543,"question_id":76593392,"body_markdown":"I get JOGL library form jogamp.org and extract\r\nDirectory structure is not changed\r\nI write sample code as below\r\n\r\n\r\n\r\n```\r\nimport com.jogamp.opengl.GL;\r\nimport com.jogamp.opengl.GLAutoDrawable;\r\nimport com.jogamp.opengl.GLCapabilities;\r\nimport com.jogamp.opengl.GLEventListener;\r\nimport com.jogamp.opengl.GLProfile;\r\nimport com.jogamp.newt.event.WindowAdapter;\r\nimport com.jogamp.newt.event.WindowEvent;\r\nimport com.jogamp.newt.opengl.GLWindow;\r\nimport com.jogamp.opengl.util.Animator;\r\n\r\npublic class FirstStepNewt implements GLEventListener { //(1)\r\n\t\r\n    public static void main(String[] args) {\r\n        new FirstStepNewt();\r\n    }\r\n\t\r\n    public FirstStepNewt() {\r\n\tGLCapabilities caps = new GLCapabilities(GLProfile.get(GLProfile.GL2));//(2)\r\n\tGLWindow glWindow = GLWindow.create(caps); //(3)\r\n\tglWindow.setTitle(&quot;First demo (Newt)&quot;); //(4)\r\n\tglWindow.setSize(300, 300); //(5)\r\n\r\ntype here\r\n```\r\n\r\nand compile\r\nthen error occur at GLWindow.create\r\nerror message is cannot acceess WriteCloneable\r\nhow can I solve this problem\r\n\r\nI check classpath\r\nI consult JOGL api but word WriteCloneable is not found ","title":"JOGL sample code compile error &quot;cannot access WriteCloneable&quot;","body":"<p>I get JOGL library form jogamp.org and extract\nDirectory structure is not changed\nI write sample code as below</p>\n<pre><code>import com.jogamp.opengl.GL;\nimport com.jogamp.opengl.GLAutoDrawable;\nimport com.jogamp.opengl.GLCapabilities;\nimport com.jogamp.opengl.GLEventListener;\nimport com.jogamp.opengl.GLProfile;\nimport com.jogamp.newt.event.WindowAdapter;\nimport com.jogamp.newt.event.WindowEvent;\nimport com.jogamp.newt.opengl.GLWindow;\nimport com.jogamp.opengl.util.Animator;\n\npublic class FirstStepNewt implements GLEventListener { //(1)\n    \n    public static void main(String[] args) {\n        new FirstStepNewt();\n    }\n    \n    public FirstStepNewt() {\n    GLCapabilities caps = new GLCapabilities(GLProfile.get(GLProfile.GL2));//(2)\n    GLWindow glWindow = GLWindow.create(caps); //(3)\n    glWindow.setTitle(&quot;First demo (Newt)&quot;); //(4)\n    glWindow.setSize(300, 300); //(5)\n\ntype here\n</code></pre>\n<p>and compile\nthen error occur at GLWindow.create\nerror message is cannot acceess WriteCloneable\nhow can I solve this problem</p>\n<p>I check classpath\nI consult JOGL api but word WriteCloneable is not found</p>\n"},{"tags":["java","git","webdynpro"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1445849235,"post_id":33341531,"comment_id":54478931,"body_markdown":"Can you tell me more about the automatically generated files?  Are these files something which should be versioned?  It sounds as though they should not.  Once we answer this question, we can address what might be needed from Git to solve your use case.","body":"Can you tell me more about the automatically generated files?  Are these files something which should be versioned?  It sounds as though they should not.  Once we answer this question, we can address what might be needed from Git to solve your use case."},{"owner":{"account_id":3034783,"reputation":4015,"user_id":2573127,"accept_rate":84,"display_name":"IceFire"},"score":0,"creation_date":1445882712,"post_id":33341531,"comment_id":54500794,"body_markdown":"I am not entirely sure where the trouble would start (I could just try out Git, though, to tell you). There are several webdynpro-related files like .wdcomponent, .wdinterface and the like. Also, there is a folder with &quot;gen_wdp&quot;, where mainly Java classes lie that are generated, though.","body":"I am not entirely sure where the trouble would start (I could just try out Git, though, to tell you). There are several webdynpro-related files like .wdcomponent, .wdinterface and the like. Also, there is a folder with &quot;gen_wdp&quot;, where mainly Java classes lie that are generated, though."}],"answers":[{"tags":[],"owner":{"account_id":228635,"reputation":4631,"user_id":491071,"display_name":"number23_cn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1446084281,"creation_date":1446084281,"answer_id":33404764,"question_id":33341531,"body_markdown":"I use Git on prod project, there is my `.gitignore` file:\r\n\r\n    bin/\r\n    gen/\r\n    gen_ddic/\r\n    gen_wdp/\r\n    gen_cmi/\r\n    dependencies.properties\r\n    .project\r\n    .classpath\r\n    .settings/\r\n\r\na tips: one man on one WebDynpro Component is easy for git.","title":"can you version-control Java Web Dynpro projects with Git and, if yes, what do you have to consider?","body":"<p>I use Git on prod project, there is my <code>.gitignore</code> file:</p>\n\n<pre><code>bin/\ngen/\ngen_ddic/\ngen_wdp/\ngen_cmi/\ndependencies.properties\n.project\n.classpath\n.settings/\n</code></pre>\n\n<p>a tips: one man on one WebDynpro Component is easy for git.</p>\n"}],"owner":{"account_id":3034783,"reputation":4015,"user_id":2573127,"accept_rate":84,"display_name":"IceFire"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":33404764,"answer_count":1,"score":0,"last_activity_date":1688189310,"creation_date":1445848837,"question_id":33341531,"body_markdown":"we have a small SAP server with a Web Dynpro Java stack. At the moment, each one of us has a local copy of the corresponding project. Changes from one person have to be merged with another person&#39;s changes by hand.\r\n\r\nWe have not yet tried using Git before. However, some of my colleagues have tried SVN and found that automatically generated files are a huge problem. Also, view files seem to cause inconsistencies, so that one has to clean and rebuild the Java Web Dynpro project several times in order to get it to work again.\r\n\r\nThis all seems not really comfortable, at least we backed off from using SVN. Personally I like Git more anyways.\r\n\r\nIs there any best practice out there how to use Git to version-control Java Web Dynpro projects, so that collaboration works in a somewhat reliable way?\r\n\r\nAll the best,\r\nMichael","title":"can you version-control Java Web Dynpro projects with Git and, if yes, what do you have to consider?","body":"<p>we have a small SAP server with a Web Dynpro Java stack. At the moment, each one of us has a local copy of the corresponding project. Changes from one person have to be merged with another person's changes by hand.</p>\n<p>We have not yet tried using Git before. However, some of my colleagues have tried SVN and found that automatically generated files are a huge problem. Also, view files seem to cause inconsistencies, so that one has to clean and rebuild the Java Web Dynpro project several times in order to get it to work again.</p>\n<p>This all seems not really comfortable, at least we backed off from using SVN. Personally I like Git more anyways.</p>\n<p>Is there any best practice out there how to use Git to version-control Java Web Dynpro projects, so that collaboration works in a somewhat reliable way?</p>\n<p>All the best,\nMichael</p>\n"},{"tags":["java","webdynpro"],"answers":[{"tags":[],"owner":{"account_id":542551,"reputation":10395,"user_id":911419,"accept_rate":79,"display_name":"Suncatcher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464774139,"creation_date":1464774139,"answer_id":37565011,"question_id":37559383,"body_markdown":"It seems to be some incompatibility of your component with the new version of Netweaver. Have you followed the procedure of migrating [described here][1]?\r\nThe best you can do here is to test the second (lower) active app, and if it works, to delete the first erroneous one.\r\n\r\n\r\n  [1]: http://scn.sap.com/community/web-dynpro-java/blog/2013/02/22/migration-of-web-dynpro-java-dcs-from-70-to-731-stepwise-procedure-and-troubleshooting","title":"Webdynpro: component doesnot merge after migrate","body":"<p>It seems to be some incompatibility of your component with the new version of Netweaver. Have you followed the procedure of migrating <a href=\"http://scn.sap.com/community/web-dynpro-java/blog/2013/02/22/migration-of-web-dynpro-java-dcs-from-70-to-731-stepwise-procedure-and-troubleshooting\" rel=\"nofollow\">described here</a>?\nThe best you can do here is to test the second (lower) active app, and if it works, to delete the first erroneous one.</p>\n"}],"owner":{"account_id":6437790,"reputation":864,"user_id":4988686,"accept_rate":63,"display_name":"Phm Quc Bo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688189216,"creation_date":1464754929,"question_id":37559383,"body_markdown":"I have component and want to migrate to 7.3. But after migrated, I see 2 components (1 old &amp; 1 new), but I want to only 1 component after migrated. Do you know root cause and best practice to complete?  \r\nThanks\r\n \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/i65VU.png","title":"Webdynpro: component doesnot merge after migrate","body":"<p>I have component and want to migrate to 7.3. But after migrated, I see 2 components (1 old &amp; 1 new), but I want to only 1 component after migrated. Do you know root cause and best practice to complete?<br>\nThanks</p>\n\n<p><a href=\"https://i.stack.imgur.com/i65VU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i65VU.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","webdynpro"],"answers":[{"tags":[],"owner":{"account_id":542551,"reputation":10395,"user_id":911419,"accept_rate":79,"display_name":"Suncatcher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476965653,"creation_date":1476965653,"answer_id":40154146,"question_id":39783409,"body_markdown":"You have several options here. **First optio**n:\r\n\r\n    wdContext.node&lt;YourNode&gt;.getLeadSelection().index();\r\n\r\nPay attention to get lead selection of your node but not of the root context. Also context mapping should be properly defined for this to work.\r\n\r\n**Second option** is to use [wdDoModifyView event][1]:\r\n\r\n    wdDoModifyView(...)\r\n    {\r\n    if (firstTime)\r\n     {\r\n      IWDLinkToAction link = (IWDLinkToAction) view.getElement(&quot;LinkID&quot;);\r\n      link.mappingOfOnAction().addSourceMapping(&quot;nodeElement&quot;, &quot;rowElement&quot;);\r\n     }\r\n    }\r\n\r\nHere we map built-in parameter `nodeElement` to our target `rowElemen` parameter which would be used in *LinkToAction* handler.\r\n\r\n    void onActionLinkClicked(..., I&lt;DataSourceNode&gt;Element rowElement)\r\n    {\r\n     /* do whatever with row element */\r\n    }\r\n\r\n\r\n  [1]: https://wiki.scn.sap.com/wiki/display/WDJava/Methods+Present+in+the+View+and+Component+controllers","title":"Get index of LinkToAction on table - WD Java","body":"<p>You have several options here. <strong>First optio</strong>n:</p>\n\n<pre><code>wdContext.node&lt;YourNode&gt;.getLeadSelection().index();\n</code></pre>\n\n<p>Pay attention to get lead selection of your node but not of the root context. Also context mapping should be properly defined for this to work.</p>\n\n<p><strong>Second option</strong> is to use <a href=\"https://wiki.scn.sap.com/wiki/display/WDJava/Methods+Present+in+the+View+and+Component+controllers\" rel=\"nofollow\">wdDoModifyView event</a>:</p>\n\n<pre><code>wdDoModifyView(...)\n{\nif (firstTime)\n {\n  IWDLinkToAction link = (IWDLinkToAction) view.getElement(\"LinkID\");\n  link.mappingOfOnAction().addSourceMapping(\"nodeElement\", \"rowElement\");\n }\n}\n</code></pre>\n\n<p>Here we map built-in parameter <code>nodeElement</code> to our target <code>rowElemen</code> parameter which would be used in <em>LinkToAction</em> handler.</p>\n\n<pre><code>void onActionLinkClicked(..., I&lt;DataSourceNode&gt;Element rowElement)\n{\n /* do whatever with row element */\n}\n</code></pre>\n"}],"owner":{"account_id":6437790,"reputation":864,"user_id":4988686,"accept_rate":63,"display_name":"Phm Quc Bo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688189208,"creation_date":1475207585,"question_id":39783409,"body_markdown":"I have a data table and I want to show detail when clicking each row on it. But the index always returns 0.\r\n\r\n    int index= wdContext.getCurrentElement().index();\r\n    wdComponentAPI.getMessageManager().reportSuccess(&quot;test &quot;+ index);\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/NjV6M.png\r\n\r\nPlease help me review and give your thoughts.\r\n","title":"Get index of LinkToAction on table - WD Java","body":"<p>I have a data table and I want to show detail when clicking each row on it. But the index always returns 0.</p>\n\n<pre><code>int index= wdContext.getCurrentElement().index();\nwdComponentAPI.getMessageManager().reportSuccess(\"test \"+ index);\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/NjV6M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NjV6M.png\" alt=\"enter image description here\"></a></p>\n\n<p>Please help me review and give your thoughts.</p>\n"},{"tags":["java","installation","webdynpro"],"answers":[{"tags":[],"owner":{"account_id":59614,"reputation":2781,"user_id":178341,"accept_rate":100,"display_name":"Stefan Ernst"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1262619011,"creation_date":1262619011,"answer_id":2000204,"question_id":1999076,"body_markdown":"here is a 90 days trial:\r\nhttp://www.sdn.sap.com/irj/scn/downloads?rid=/library/uuid/50c58b14-da6d-2a10-ca94-a3c0937828d6\r\n\r\nTo develope effectivly with webdynpro, you need at least some kind of SAP-Knowledge and most importantly a ERP backend system because the most common use case for webdynpro is RFC from SAP Portal to SAP ECC.\r\n\r\nSAP DevStudio is a lot different from the classical Eclipse, and so is Webdynpro Development in general. It doesnt feel like java anymore.","title":"how to set up environment for web dynpro?","body":"<p>here is a 90 days trial:\n<a href=\"http://www.sdn.sap.com/irj/scn/downloads?rid=/library/uuid/50c58b14-da6d-2a10-ca94-a3c0937828d6\" rel=\"nofollow noreferrer\">http://www.sdn.sap.com/irj/scn/downloads?rid=/library/uuid/50c58b14-da6d-2a10-ca94-a3c0937828d6</a></p>\n\n<p>To develope effectivly with webdynpro, you need at least some kind of SAP-Knowledge and most importantly a ERP backend system because the most common use case for webdynpro is RFC from SAP Portal to SAP ECC.</p>\n\n<p>SAP DevStudio is a lot different from the classical Eclipse, and so is Webdynpro Development in general. It doesnt feel like java anymore.</p>\n"},{"tags":[],"owner":{"account_id":76469,"reputation":18423,"user_id":218890,"accept_rate":64,"display_name":"vwegert"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1262630728,"creation_date":1262630728,"answer_id":2001352,"question_id":1999076,"body_markdown":"Be aware that there are two different &quot;flavors&quot; of WebDynpro - WebDypro for Java and WebDynpro for ABAP. I can&#39;t speak for the Java version, but obviously the ABAP version requires an ABAP stack. You can get a complete stack from http://www.sdn.sap.com/irj/sdn/linux?rid=/webcontent/uuid/b0448801-3905-2a10-b681-a803b2409ead","title":"how to set up environment for web dynpro?","body":"<p>Be aware that there are two different \"flavors\" of WebDynpro - WebDypro for Java and WebDynpro for ABAP. I can't speak for the Java version, but obviously the ABAP version requires an ABAP stack. You can get a complete stack from <a href=\"http://www.sdn.sap.com/irj/sdn/linux?rid=/webcontent/uuid/b0448801-3905-2a10-b681-a803b2409ead\" rel=\"nofollow noreferrer\">http://www.sdn.sap.com/irj/sdn/linux?rid=/webcontent/uuid/b0448801-3905-2a10-b681-a803b2409ead</a></p>\n"},{"tags":[],"owner":{"display_name":"user85262"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1264290544,"creation_date":1264290544,"answer_id":2125261,"question_id":1999076,"body_markdown":"You will have to set up an environment containing at least of the SAP Netweaver Developer Studio (a customized Eclipse 3.3) and the SAP NetWeaver Application Server. As oozoo already mentioned, there is a trial version containing both components.\r\n\r\nWith this trial version you can try some tutorials from the SAP Developer Network. The following page is a good starting point:\r\nhttp://wiki.sdn.sap.com/wiki/display/WDJava/Welcome+to+Web+Dynpro+Java!\r\n\r\nFor developing in Web Dynpro it is not mandatory to know about SAP ERP systems. In my company for example, we use it to build GUIs for various preexisting Oracle DBs. But I agree that Web Dynpro differs a lot from most other Java Web Frameworks. It has a very unique component model that takes some time to get used to.\r\n\r\nWhat&#39;s also quite special is that you don&#39;t code any HTML or JavaScript by hand. You only use the many GUI components provided by Web Dynpro. It is comparable to GWT in that respect. Only in the most recent version you can use so called WebWidgets in to include some custom HTML for special use cases.\r\n\r\nUsually Web Dynpro is used in combination with the NetWeaver Development Infrastructure (NWDI) which consists amongst others of a proprietary source control system (Design Time Repository - DTR), a software lifecycle mangagement tool (Change Management Service - CMS) and a continous integration server (Component Build Service - CBS).","title":"how to set up environment for web dynpro?","body":"<p>You will have to set up an environment containing at least of the SAP Netweaver Developer Studio (a customized Eclipse 3.3) and the SAP NetWeaver Application Server. As oozoo already mentioned, there is a trial version containing both components.</p>\n\n<p>With this trial version you can try some tutorials from the SAP Developer Network. The following page is a good starting point:\n<a href=\"http://wiki.sdn.sap.com/wiki/display/WDJava/Welcome+to+Web+Dynpro+Java\" rel=\"nofollow noreferrer\">http://wiki.sdn.sap.com/wiki/display/WDJava/Welcome+to+Web+Dynpro+Java</a>!</p>\n\n<p>For developing in Web Dynpro it is not mandatory to know about SAP ERP systems. In my company for example, we use it to build GUIs for various preexisting Oracle DBs. But I agree that Web Dynpro differs a lot from most other Java Web Frameworks. It has a very unique component model that takes some time to get used to.</p>\n\n<p>What's also quite special is that you don't code any HTML or JavaScript by hand. You only use the many GUI components provided by Web Dynpro. It is comparable to GWT in that respect. Only in the most recent version you can use so called WebWidgets in to include some custom HTML for special use cases.</p>\n\n<p>Usually Web Dynpro is used in combination with the NetWeaver Development Infrastructure (NWDI) which consists amongst others of a proprietary source control system (Design Time Repository - DTR), a software lifecycle mangagement tool (Change Management Service - CMS) and a continous integration server (Component Build Service - CBS).</p>\n"}],"owner":{"account_id":17753,"reputation":1494,"user_id":40070,"accept_rate":44,"display_name":"Shaw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2397,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1688189187,"creation_date":1262605992,"question_id":1999076,"body_markdown":"Is there a way I can learn on Web Dynpro without having to set up an SAP environment? There was an opening for a job requiring Web Dynpro skills and it was mentioned alongside with other Java skills. I wanted to apply but have no clue on Web Dynpro, and so wanted to set up an environment to understand what it is all about.\r\n\r\nCan someone tell me if I can get free software to learn more about it?\r\nDo I need to know about SAP and other SAP specifics to work on Web Dynpro?\r\nDo I need to have a fully configured SAP environment before I can meaningfully develop a sample application?\r\n\r\nHow is developing in Web Dynpro different from other typical Java environments?\r\n","title":"how to set up environment for web dynpro?","body":"<p>Is there a way I can learn on Web Dynpro without having to set up an SAP environment? There was an opening for a job requiring Web Dynpro skills and it was mentioned alongside with other Java skills. I wanted to apply but have no clue on Web Dynpro, and so wanted to set up an environment to understand what it is all about.</p>\n<p>Can someone tell me if I can get free software to learn more about it?\nDo I need to know about SAP and other SAP specifics to work on Web Dynpro?\nDo I need to have a fully configured SAP environment before I can meaningfully develop a sample application?</p>\n<p>How is developing in Web Dynpro different from other typical Java environments?</p>\n"},{"tags":["java","pdf","itext","webdynpro"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1386956668,"post_id":20572735,"comment_id":30772701,"body_markdown":"1) There is no need to add the major tag in the title. 2) Use a consistent and logical indent for code blocks.  The indentation of the code is intended to help people understand the program flow.","body":"1) There is no need to add the major tag in the title. 2) Use a consistent and logical indent for code blocks.  The indentation of the code is intended to help people understand the program flow."},{"owner":{"account_id":1779372,"reputation":76344,"user_id":1622493,"display_name":"Bruno Lowagie"},"score":0,"creation_date":1386957295,"post_id":20572735,"comment_id":30773047,"body_markdown":"Define &quot;Print&quot;. Do you see the fields when you open the form using a PDF viewer? Maybe you&#39;re experiencing this problem: http://stackoverflow.com/questions/20526634/acroform-values-missing-after-flattening","body":"Define &quot;Print&quot;. Do you see the fields when you open the form using a PDF viewer? Maybe you&#39;re experiencing this problem: <a href=\"http://stackoverflow.com/questions/20526634/acroform-values-missing-after-flattening\" title=\"acroform values missing after flattening\">stackoverflow.com/questions/20526634/&hellip;</a>"},{"owner":{"account_id":2541030,"reputation":389,"user_id":2206834,"accept_rate":46,"display_name":"user2206834"},"score":0,"creation_date":1387142298,"post_id":20572735,"comment_id":30823080,"body_markdown":"When I print the PDF he shows the right PDF but the inputfields stays empty...I think I missed something because he shows the perfect PDF but without the values that I&#39;ve setted to the correct fields...I made a new Java Class and this code works perfect with the values in the fields, so there is something different between a normal java class and when I use it in my WebDynPro","body":"When I print the PDF he shows the right PDF but the inputfields stays empty...I think I missed something because he shows the perfect PDF but without the values that I&#39;ve setted to the correct fields...I made a new Java Class and this code works perfect with the values in the fields, so there is something different between a normal java class and when I use it in my WebDynPro"},{"owner":{"account_id":1779372,"reputation":76344,"user_id":1622493,"display_name":"Bruno Lowagie"},"score":0,"creation_date":1387183172,"post_id":20572735,"comment_id":30835003,"body_markdown":"So you&#39;re saying that the problem can only be reproduced in a WebDynPro environment? In that case, very few people on SO will be able to help you. I&#39;d start by double-checking if you&#39;re using the same iText version both on WebDynPro as well as in your standalone test.","body":"So you&#39;re saying that the problem can only be reproduced in a WebDynPro environment? In that case, very few people on SO will be able to help you. I&#39;d start by double-checking if you&#39;re using the same iText version both on WebDynPro as well as in your standalone test."},{"owner":{"account_id":2541030,"reputation":389,"user_id":2206834,"accept_rate":46,"display_name":"user2206834"},"score":0,"creation_date":1387198684,"post_id":20572735,"comment_id":30843749,"body_markdown":"My mistake excuse me, already fix that problem. @Lowagie, zou je ook eens naar mijn volgend probleem kunnen kijken? (http://stackoverflow.com/questions/20608016/itext-filling-existing-table-pdf)...ik heb in adobe livecycle een pdf gemaakt met tabel, en nu zou ik deze willen opvullen? Het grote probleem is dat je in elk voorbeeld een nieuwe pdf aanmaakt, maar bij mij is het een bestaand document dus ik kan geen gebruik maken van Document.","body":"My mistake excuse me, already fix that problem. @Lowagie, zou je ook eens naar mijn volgend probleem kunnen kijken? (<a href=\"http://stackoverflow.com/questions/20608016/itext-filling-existing-table-pdf)...ik\" title=\"itext filling existing table pdf)...ik\">stackoverflow.com/questions/20608016/&hellip;</a> heb in adobe livecycle een pdf gemaakt met tabel, en nu zou ik deze willen opvullen? Het grote probleem is dat je in elk voorbeeld een nieuwe pdf aanmaakt, maar bij mij is het een bestaand document dus ik kan geen gebruik maken van Document."}],"owner":{"account_id":2541030,"reputation":389,"user_id":2206834,"accept_rate":46,"display_name":"user2206834"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688189037,"creation_date":1386956537,"question_id":20572735,"body_markdown":"I&#39;m working on a Java Webdynpro where I try to print out a Interactive PDF form.\r\nI&#39;ve been following the tutorial on: http://itextpdf.com/\r\n\r\nNow when I print my new PDF &#39;temp.pdf&#39;, it shows the template with the correct text but the field are still empty.\r\nDid I miss something in my code?\r\n\r\n## Code\r\n\r\n    public byte[] GetPDFFromFolder( java.lang.String folderPath )\r\n    {\r\n    //@@begin GetPDFFromFolder()\r\n\r\n    byte[] byteLink = new byte[4096];\r\n    IResource folder = null;\r\n    Content content = null;\r\n    \r\n    try {\r\n    IResourceContext rctx =     ResourceFactory.getInstance().getServiceContext(&quot;cmadmin_service&quot;);\r\n    RID sisFolderRID = RID.getRID(folderPath);\r\n    folder = ResourceFactory.getInstance().getResource(sisFolderRID, rctx);\r\n    } catch (ResourceException e) {\r\n    e.printStackTrace();\r\n    }\r\n    \r\n    \r\n    StringBuilder bf = new StringBuilder();\r\n    \r\n    try {\r\n    PdfWriter writer = null;\r\n    \r\n    File file = new File(&quot;temp.pdf&quot;);\r\n    \r\n    try {\r\n    FileOutputStream out = new FileOutputStream(file);\r\n    if (folder.isCollection()) {\r\n    ICollection folderColl = (ICollection) folder;\r\n    IResourceListIterator it = folderColl.getChildren().listIterator();\r\n    \r\n    IResource res = it.next();\r\n    try {\r\n    try {\r\n    \r\n    InputStream in = res.getContent().getInputStream();\r\n    \r\n    PdfReader reader = new PdfReader(in);\r\n    try {\r\n    \r\n    PdfStamper stamper = new PdfStamper(reader, out);\r\n    \r\n    \r\n    AcroFields form = stamper.getAcroFields();\r\n    \r\n    \r\n    if (&quot;Document1.pdf&quot;.equals(res.getName())){\r\n    form.setField(&quot;TextField1Vertegenwoordigd&quot;, &quot;Van Den Berghe Tim&quot;);\r\n    form.setField(&quot;TextField2Directeur&quot;, &quot;341 - Carrefour Evere&quot;);\r\n    form.setField(&quot;TextField3Nr&quot;, &quot;5588&quot;);\r\n    form.setField(&quot;TextField4RPR&quot;, &quot;RPR waarde&quot;);\r\n    form.setField(&quot;TextField5BTW&quot;, &quot;9999-999-999&quot;);\r\n    form.setField(&quot;TextField6Euro&quot;, &quot;100&quot;);\r\n    form.setField(&quot;TextField7Periode&quot;, &quot;8 maanden&quot;);\r\n    form.setField(&quot;TextField8Totaal&quot;, &quot;133&quot;);\r\n    form.setField(&quot;TextField9Producten&quot;, &quot;Cd - Eminem&quot;);\r\n    form.setField(&quot;TextField9Producten&quot;, &quot;Bruin banket brood&quot;);\r\n    form.setField(&quot;TextField10Vanaf&quot;, &quot;06/08/2013&quot;);\r\n    form.setField(&quot;TextField11Op&quot;, &quot;06/09/2013&quot;);\r\n    form.setField(&quot;TextField12Te&quot;, &quot;06/08/2013&quot;);\r\n    form.setField(&quot;TextField13Op&quot;, &quot;06/09/2013&quot;);\r\n    } \r\n    else {// doesn&#39;t matter}\r\n    \r\n    stamper.close();\r\n    reader.close();\r\n    out.close();\r\n    \r\n    \r\n    FileInputStream inn = new FileInputStream(file);\r\n    \r\n    byteLink = IOUtils.toByteArray(inn); \r\n    } catch (DocumentException e) {\r\n    e.printStackTrace();\r\n    }\r\n    } catch (ContentException e) {\r\n    e.printStackTrace();\r\n    }\r\n    } catch (IOException e) {\r\n    e.printStackTrace();\r\n    }\r\n    }\r\n    } catch (FileNotFoundException e) {\r\n    e.printStackTrace();\r\n    }\r\n    } catch (ResourceException e) {\r\n    e.printStackTrace();\r\n    }\r\n    \r\n    \r\n    return byteLink;\r\n    //@@end\r\n    }","title":"Webdynpro iText interactive PDF form","body":"<p>I'm working on a Java Webdynpro where I try to print out a Interactive PDF form.\nI've been following the tutorial on: <a href=\"http://itextpdf.com/\" rel=\"nofollow noreferrer\">http://itextpdf.com/</a></p>\n<p>Now when I print my new PDF 'temp.pdf', it shows the template with the correct text but the field are still empty.\nDid I miss something in my code?</p>\n<h2>Code</h2>\n<pre><code>public byte[] GetPDFFromFolder( java.lang.String folderPath )\n{\n//@@begin GetPDFFromFolder()\n\nbyte[] byteLink = new byte[4096];\nIResource folder = null;\nContent content = null;\n\ntry {\nIResourceContext rctx =     ResourceFactory.getInstance().getServiceContext(&quot;cmadmin_service&quot;);\nRID sisFolderRID = RID.getRID(folderPath);\nfolder = ResourceFactory.getInstance().getResource(sisFolderRID, rctx);\n} catch (ResourceException e) {\ne.printStackTrace();\n}\n\n\nStringBuilder bf = new StringBuilder();\n\ntry {\nPdfWriter writer = null;\n\nFile file = new File(&quot;temp.pdf&quot;);\n\ntry {\nFileOutputStream out = new FileOutputStream(file);\nif (folder.isCollection()) {\nICollection folderColl = (ICollection) folder;\nIResourceListIterator it = folderColl.getChildren().listIterator();\n\nIResource res = it.next();\ntry {\ntry {\n\nInputStream in = res.getContent().getInputStream();\n\nPdfReader reader = new PdfReader(in);\ntry {\n\nPdfStamper stamper = new PdfStamper(reader, out);\n\n\nAcroFields form = stamper.getAcroFields();\n\n\nif (&quot;Document1.pdf&quot;.equals(res.getName())){\nform.setField(&quot;TextField1Vertegenwoordigd&quot;, &quot;Van Den Berghe Tim&quot;);\nform.setField(&quot;TextField2Directeur&quot;, &quot;341 - Carrefour Evere&quot;);\nform.setField(&quot;TextField3Nr&quot;, &quot;5588&quot;);\nform.setField(&quot;TextField4RPR&quot;, &quot;RPR waarde&quot;);\nform.setField(&quot;TextField5BTW&quot;, &quot;9999-999-999&quot;);\nform.setField(&quot;TextField6Euro&quot;, &quot;100&quot;);\nform.setField(&quot;TextField7Periode&quot;, &quot;8 maanden&quot;);\nform.setField(&quot;TextField8Totaal&quot;, &quot;133&quot;);\nform.setField(&quot;TextField9Producten&quot;, &quot;Cd - Eminem&quot;);\nform.setField(&quot;TextField9Producten&quot;, &quot;Bruin banket brood&quot;);\nform.setField(&quot;TextField10Vanaf&quot;, &quot;06/08/2013&quot;);\nform.setField(&quot;TextField11Op&quot;, &quot;06/09/2013&quot;);\nform.setField(&quot;TextField12Te&quot;, &quot;06/08/2013&quot;);\nform.setField(&quot;TextField13Op&quot;, &quot;06/09/2013&quot;);\n} \nelse {// doesn't matter}\n\nstamper.close();\nreader.close();\nout.close();\n\n\nFileInputStream inn = new FileInputStream(file);\n\nbyteLink = IOUtils.toByteArray(inn); \n} catch (DocumentException e) {\ne.printStackTrace();\n}\n} catch (ContentException e) {\ne.printStackTrace();\n}\n} catch (IOException e) {\ne.printStackTrace();\n}\n}\n} catch (FileNotFoundException e) {\ne.printStackTrace();\n}\n} catch (ResourceException e) {\ne.printStackTrace();\n}\n\n\nreturn byteLink;\n//@@end\n}\n</code></pre>\n"},{"tags":["java","sql","webdynpro","sap-enterprise-portal"],"answers":[{"tags":[],"owner":{"account_id":5473807,"reputation":4760,"user_id":4352356,"display_name":"Spock"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1418740665,"creation_date":1418739311,"answer_id":27506666,"question_id":27506515,"body_markdown":"the IN statement in SQL cannot accept a wild card character. You would have to add a OR to your query to get it to work...\r\n\r\n    select * \r\n    from RC_Recall t INNER JOIN RC_RECALLSTORE s ON t.ID = s.RECALLID\r\n    where t.creationdate &gt;= ?1 \r\n    AND t.enddate &lt;= ?2 \r\n    AND t.id LIKE ?3 \r\n    AND (&#39;%&#39; = ?4 OR t.afdeling IN (?4))\r\n    AND (&#39;%&#39; = ?5 OR s.storeid IN (?5))\r\n    ORDER BY ID DESC\r\n\r\nIf you&#39;re using parameter position to pass parameters, you&#39;ll probably have to change it to \r\n    \r\n    AND (&#39;%&#39; = ?4 OR t.afdeling IN (?5))\r\n    AND (&#39;%&#39; = ?6 OR s.storeid IN (?7))\r\n\r\nHope that helps\r\n\r\n","title":"SQL selecting all records with IN statement","body":"<p>the IN statement in SQL cannot accept a wild card character. You would have to add a OR to your query to get it to work...</p>\n\n<pre><code>select * \nfrom RC_Recall t INNER JOIN RC_RECALLSTORE s ON t.ID = s.RECALLID\nwhere t.creationdate &gt;= ?1 \nAND t.enddate &lt;= ?2 \nAND t.id LIKE ?3 \nAND ('%' = ?4 OR t.afdeling IN (?4))\nAND ('%' = ?5 OR s.storeid IN (?5))\nORDER BY ID DESC\n</code></pre>\n\n<p>If you're using parameter position to pass parameters, you'll probably have to change it to </p>\n\n<pre><code>AND ('%' = ?4 OR t.afdeling IN (?5))\nAND ('%' = ?6 OR s.storeid IN (?7))\n</code></pre>\n\n<p>Hope that helps</p>\n"},{"tags":[],"owner":{"account_id":404410,"reputation":709,"user_id":772712,"accept_rate":40,"display_name":"Jitendra Vispute"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1418739490,"creation_date":1418739490,"answer_id":27506720,"question_id":27506515,"body_markdown":"Rather hard coding query, You might build query dynamically based on input. i.e. whichever input is present add only those criteria in where clause.","title":"SQL selecting all records with IN statement","body":"<p>Rather hard coding query, You might build query dynamically based on input. i.e. whichever input is present add only those criteria in where clause.</p>\n"}],"owner":{"account_id":5495298,"reputation":63,"user_id":4366642,"accept_rate":75,"display_name":"Timvdb92"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":27506666,"answer_count":2,"score":1,"last_activity_date":1688188999,"creation_date":1418738831,"question_id":27506515,"body_markdown":"In my case, only the first 2 parameters are mandatory. When the users hasn&#39;t given the rest of the parameters, I&#39;m using the charachter &#39;%&#39; for the LIKE statement so all data will be shown. Any idea how to solve this for the IN statement? The solution param IN (&#39;%&#39;) is not working =&gt; Null\r\n\r\n\r\n**Parameters:**&lt;br/&gt;\r\njava.sql.Timestamp, java.sql.Timestamp, java.lang.String, java.lang.String, java.lang.String, java.lang.String\r\n\r\n**Query:**&lt;br/&gt;\r\n\r\n    SELECT * \r\n    FROM RC_Recall t INNER JOIN RC_RECALLSTORE s ON t.ID = s.RECALLID\r\n    WHERE t.creationdate &gt;= ?1 AND t.enddate &lt;= ?2 AND  t.id LIKE ?3 \r\n          AND t.afdeling IN (?4) AND s.storeid IN (?5)\r\n    ORDER BY ID DESC","title":"SQL selecting all records with IN statement","body":"<p>In my case, only the first 2 parameters are mandatory. When the users hasn't given the rest of the parameters, I'm using the charachter '%' for the LIKE statement so all data will be shown. Any idea how to solve this for the IN statement? The solution param IN ('%') is not working => Null</p>\n\n<p><strong>Parameters:</strong><br/>\njava.sql.Timestamp, java.sql.Timestamp, java.lang.String, java.lang.String, java.lang.String, java.lang.String</p>\n\n<p><strong>Query:</strong><br/></p>\n\n<pre><code>SELECT * \nFROM RC_Recall t INNER JOIN RC_RECALLSTORE s ON t.ID = s.RECALLID\nWHERE t.creationdate &gt;= ?1 AND t.enddate &lt;= ?2 AND  t.id LIKE ?3 \n      AND t.afdeling IN (?4) AND s.storeid IN (?5)\nORDER BY ID DESC\n</code></pre>\n"},{"tags":["java","vert.x"],"answers":[{"tags":[],"owner":{"account_id":175525,"reputation":1174,"user_id":405613,"display_name":"Oliver Marienfeld"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688186106,"creation_date":1688186106,"answer_id":76593285,"question_id":76587480,"body_markdown":"You probably want to catch all (other) failures before you `recover` with `LogicFunctions`. That way, only failures from `Validator` will get propagated downstream. You can explicitly configure `Future` to do that:\r\n\r\n    .compose(LogicFunctions.doOperation())\r\n    .otherwiseEmpty()\r\n    .compose(Validator.validateChangedObjectDTO())\r\n    .recover(LogicFunctions.getNewObjectDTO())\r\n\r\nIn that example, I simply map all failures to `null`, using `otherwiseEmpty`. That way, `Validator` will get `null` if anything goes wrong in the prior computations. You can also use `recover` or `otherwise` to map to something else.\r\n\r\nIf youre looking for some more fine-grained control of what should happen when, you could checkout SmallRye Mutiny, which is also supported by Vert.x. `Uni` is roughly equal to `Future` but has an `onFailure` method which you can [call with the expected exception][1].\r\n\r\n\r\n  [1]: https://javadoc.io/static/io.smallrye.reactive/mutiny/2.3.1/io.smallrye.mutiny/io/smallrye/mutiny/Uni.html#onFailure(java.lang.Class)","title":"Recovering one specific future in a future composition","body":"<p>You probably want to catch all (other) failures before you <code>recover</code> with <code>LogicFunctions</code>. That way, only failures from <code>Validator</code> will get propagated downstream. You can explicitly configure <code>Future</code> to do that:</p>\n<pre><code>.compose(LogicFunctions.doOperation())\n.otherwiseEmpty()\n.compose(Validator.validateChangedObjectDTO())\n.recover(LogicFunctions.getNewObjectDTO())\n</code></pre>\n<p>In that example, I simply map all failures to <code>null</code>, using <code>otherwiseEmpty</code>. That way, <code>Validator</code> will get <code>null</code> if anything goes wrong in the prior computations. You can also use <code>recover</code> or <code>otherwise</code> to map to something else.</p>\n<p>If youre looking for some more fine-grained control of what should happen when, you could checkout SmallRye Mutiny, which is also supported by Vert.x. <code>Uni</code> is roughly equal to <code>Future</code> but has an <code>onFailure</code> method which you can <a href=\"https://javadoc.io/static/io.smallrye.reactive/mutiny/2.3.1/io.smallrye.mutiny/io/smallrye/mutiny/Uni.html#onFailure(java.lang.Class)\" rel=\"nofollow noreferrer\">call with the expected exception</a>.</p>\n"}],"owner":{"display_name":"user19938273"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688186106,"creation_date":1688115566,"question_id":76587480,"body_markdown":"I am currently developing a feature using vertx and Futures to allow a highly asynchronous processing.\r\n\r\nFor that, I am making use of future sequentially future composition, consisting of futures for validation, object building, request sending, etc.\r\n\r\nI got to a point, where I want to validate a certain object, and if the validation(-future) fails, I want to &quot;recover&quot; it with getting a newly created object.\r\nHowever, I only want to recover it if exactly the future before failed, and none before that one.\r\n\r\nabstracted eg.:\r\n```java\r\npublic final Handler&lt;Message&lt;String&gt;&gt; getRequestHandler() {\r\n    return message -&gt; Future.succededFuture(message)\r\n            .compose(Validator.validateMessage()) // returns the messages string/body\r\n            .compose(Validator.validateString()) // returns the functions input string\r\n            .compose(JsonMapper.mapJsonToClass(ObjectDTO.class)) // returns the mapped ObjectDTO\r\n            .compose(LogicFunctions.doOperation()) // returns the same ObjectDTO after applying changes\r\n\r\n            // If it fails here, I want to instead return a different ObjectDTO (inside a future)\r\n            .compose(Validator.validateChangedObjectDTO()) // returns the same validated ObjectDTO\r\n\r\n            // This Function shall recover the failed Future and return the different ObjectDTO\r\n            .recover(LogicFunctions.getNewObjectDTO()) // returns the new ObjectDTO\r\n\r\n            //...\r\n            .onComplete(\r\n                //...\r\n            );\r\n}\r\n```\r\n\r\nThe compose/recover javadoc says `When this future fails, the failure will be propagated to the returned future and the mapper will not be called.`. This in my understand means, the CompositeFuture won&#39;t fail instantly, instead the failure will be passed on until it reaches the end of the composition and all futures &quot;failed&quot;.\r\nThis means, if one of the early validation Futures fails (eg. `Validator.validateMessage()`), they will pass their failure through until the `recover(LogicFunctions.getNewObjectDTO())` gets called with the passed on `Throwable`. \r\n\r\nMy `LogicFunctions.getNewObjectDTO()` however expect a programm-state (in my case: an expired token and the need to refresh it) and certain `Throwable` to operate correctly and refresh correctly. If it gets called in a different programm-state, it might have negative sideeffects.\r\n\r\nI probably could validate the Throwable inside LogicFunctions.getNewObjectDTO(), however I don&#39;t want to jump in and out of futures based on input parameters, or have futures which just pass on errors if its not a certain error they listen for.\r\n\r\nIs there a way to ONLY recover if the one prior future failed? If not, am I using a wrong aproach?\r\n\r\nStill new to Vertx and honestly also to asynchronous event handling, so please bare with me.","title":"Recovering one specific future in a future composition","body":"<p>I am currently developing a feature using vertx and Futures to allow a highly asynchronous processing.</p>\n<p>For that, I am making use of future sequentially future composition, consisting of futures for validation, object building, request sending, etc.</p>\n<p>I got to a point, where I want to validate a certain object, and if the validation(-future) fails, I want to &quot;recover&quot; it with getting a newly created object.\nHowever, I only want to recover it if exactly the future before failed, and none before that one.</p>\n<p>abstracted eg.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final Handler&lt;Message&lt;String&gt;&gt; getRequestHandler() {\n    return message -&gt; Future.succededFuture(message)\n            .compose(Validator.validateMessage()) // returns the messages string/body\n            .compose(Validator.validateString()) // returns the functions input string\n            .compose(JsonMapper.mapJsonToClass(ObjectDTO.class)) // returns the mapped ObjectDTO\n            .compose(LogicFunctions.doOperation()) // returns the same ObjectDTO after applying changes\n\n            // If it fails here, I want to instead return a different ObjectDTO (inside a future)\n            .compose(Validator.validateChangedObjectDTO()) // returns the same validated ObjectDTO\n\n            // This Function shall recover the failed Future and return the different ObjectDTO\n            .recover(LogicFunctions.getNewObjectDTO()) // returns the new ObjectDTO\n\n            //...\n            .onComplete(\n                //...\n            );\n}\n</code></pre>\n<p>The compose/recover javadoc says <code>When this future fails, the failure will be propagated to the returned future and the mapper will not be called.</code>. This in my understand means, the CompositeFuture won't fail instantly, instead the failure will be passed on until it reaches the end of the composition and all futures &quot;failed&quot;.\nThis means, if one of the early validation Futures fails (eg. <code>Validator.validateMessage()</code>), they will pass their failure through until the <code>recover(LogicFunctions.getNewObjectDTO())</code> gets called with the passed on <code>Throwable</code>.</p>\n<p>My <code>LogicFunctions.getNewObjectDTO()</code> however expect a programm-state (in my case: an expired token and the need to refresh it) and certain <code>Throwable</code> to operate correctly and refresh correctly. If it gets called in a different programm-state, it might have negative sideeffects.</p>\n<p>I probably could validate the Throwable inside LogicFunctions.getNewObjectDTO(), however I don't want to jump in and out of futures based on input parameters, or have futures which just pass on errors if its not a certain error they listen for.</p>\n<p>Is there a way to ONLY recover if the one prior future failed? If not, am I using a wrong aproach?</p>\n<p>Still new to Vertx and honestly also to asynchronous event handling, so please bare with me.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1688186473,"post_id":76593266,"comment_id":135043599,"body_markdown":"You can use Maven shade plugin to rename the dependency, but what is yarn? nodejs yarnpkg or hadoop yarn, or something else?","body":"You can use Maven shade plugin to rename the dependency, but what is yarn? nodejs yarnpkg or hadoop yarn, or something else?"},{"owner":{"account_id":2067336,"reputation":2848,"user_id":1842599,"display_name":"Andrej Istomin"},"score":0,"creation_date":1688186489,"post_id":76593266,"comment_id":135043601,"body_markdown":"Sorry, your question is not clear. What is the &quot;another package&quot;??? You mean another library? What library?","body":"Sorry, your question is not clear. What is the &quot;another package&quot;??? You mean another library? What library?"},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1688188155,"post_id":76593266,"comment_id":135043679,"body_markdown":"Add more logs coming from your build tool, with the messages you are receiving, and if you can, show us from how many different places you are taking your dependencies. If I understand well what is happening to you.","body":"Add more logs coming from your build tool, with the messages you are receiving, and if you can, show us from how many different places you are taking your dependencies. If I understand well what is happening to you."}],"owner":{"account_id":28928689,"reputation":21,"user_id":22157931,"display_name":"Stronwood"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1688185572,"creation_date":1688185572,"question_id":76593266,"body_markdown":"Currently trying to use the CompoundNBT class from here - https://nekoyue.github.io/ForgeJavaDocs-NG/javadoc/1.16.5/net/minecraft/nbt/CompoundNBT.html\r\n\r\nBut another package (yarn) has the same class name with the same import statement (net.minecraft.nbt)\r\n\r\nI&#39;m wondering how I&#39;d go about specifying that I want the first one because it&#39;s currently defaulting to the yarn import, and I can&#39;t import any classes from forge that don&#39;t exist in yarn.","title":"Two different imports with same path - how to handle?","body":"<p>Currently trying to use the CompoundNBT class from here - <a href=\"https://nekoyue.github.io/ForgeJavaDocs-NG/javadoc/1.16.5/net/minecraft/nbt/CompoundNBT.html\" rel=\"nofollow noreferrer\">https://nekoyue.github.io/ForgeJavaDocs-NG/javadoc/1.16.5/net/minecraft/nbt/CompoundNBT.html</a></p>\n<p>But another package (yarn) has the same class name with the same import statement (net.minecraft.nbt)</p>\n<p>I'm wondering how I'd go about specifying that I want the first one because it's currently defaulting to the yarn import, and I can't import any classes from forge that don't exist in yarn.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":9958458,"reputation":313,"user_id":7368514,"accept_rate":44,"display_name":"Master Qiao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688184969,"creation_date":1688184969,"answer_id":76593253,"question_id":76592864,"body_markdown":"I removed ```spring-boot-devtools``` dependency and somehow it gets solved.","title":"Cannot exclude DataSourceAutoConfiguration for it is not auto-configuation class","body":"<p>I removed <code>spring-boot-devtools</code> dependency and somehow it gets solved.</p>\n"}],"owner":{"account_id":9958458,"reputation":313,"user_id":7368514,"accept_rate":44,"display_name":"Master Qiao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688184969,"creation_date":1688172119,"question_id":76592864,"body_markdown":"I exclude `DataSourceAutoConfiguration` with the following code\r\n```\r\n@SpringBootApplication(exclude = { DataSourceAutoConfiguration.class })\r\npublic class MainApplication {\r\n}\r\n```\r\nIt works well if I run it in SpringToolSuite4.\r\nBut once I package the project to jar and run it in alone environment, I get an error\r\n\r\n```\r\n2023-07-01 08:19:41,379 [main] ERROR SpringApplication -Application run failed\r\njava.lang.IllegalStateException: The following classes could not be excluded because they are not auto-configuration classes:\r\n        - org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration\r\n\r\n        at org.springframework.boot.autoconfigure.AutoConfigurationImportSelector.handleInvalidExcludes(AutoConfigurationImportSelector.java:222)\r\n        at org.springframework.boot.autoconfigure.AutoConfigurationImportSelector.checkExcludedClasses(AutoConfigurationImportSelector.java:208)\r\n```\r\n\r\nSomeone can tell me what should I do to solve this?","title":"Cannot exclude DataSourceAutoConfiguration for it is not auto-configuation class","body":"<p>I exclude <code>DataSourceAutoConfiguration</code> with the following code</p>\n<pre><code>@SpringBootApplication(exclude = { DataSourceAutoConfiguration.class })\npublic class MainApplication {\n}\n</code></pre>\n<p>It works well if I run it in SpringToolSuite4.\nBut once I package the project to jar and run it in alone environment, I get an error</p>\n<pre><code>2023-07-01 08:19:41,379 [main] ERROR SpringApplication -Application run failed\njava.lang.IllegalStateException: The following classes could not be excluded because they are not auto-configuration classes:\n        - org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration\n\n        at org.springframework.boot.autoconfigure.AutoConfigurationImportSelector.handleInvalidExcludes(AutoConfigurationImportSelector.java:222)\n        at org.springframework.boot.autoconfigure.AutoConfigurationImportSelector.checkExcludedClasses(AutoConfigurationImportSelector.java:208)\n</code></pre>\n<p>Someone can tell me what should I do to solve this?</p>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688184372,"creation_date":1688184372,"answer_id":76593232,"question_id":76588758,"body_markdown":"The corresponding transformation expression is this:\r\n\r\n    field(data\r\n          .field(weight: eval(weight.expression),\r\n                 height: eval(height.expression),\r\n                 columnPipe.field(pipeTotalWeight: eval(pipeTotalWeight.expression),\r\n                                  PipeCapLiters: eval(PipeCapLiters.expression)\r\n                 ),\r\n          )\r\n    )\r\n\r\nThe question is how to build this expression from your JSON object.  It&#39;s a little bit complicated. I found a solution is to flatten the JSON to filter all `.expression` elements first, and then reconstruct the JSON.  The next step is to build the transformation expression from the reconstructed JSON.\r\n\r\n    String expression = josson.getString(\r\n        &quot;flatten(&#39;_&#39;).~&#39;.*_expression$&#39;*.get(..).map(key::value).mergeObjects().unflatten(&#39;_&#39;)&quot; +\r\n        &quot;.concat(&#39;field(&#39;,&quot; +\r\n        &quot;        entries()&quot; +\r\n        &quot;        .concat(key,&quot; +\r\n        &quot;                &#39;.field(&#39;,&quot; +\r\n        &quot;                value&quot; +\r\n        &quot;                  .entries()&quot; +\r\n        &quot;                  .concat(key,&quot; +\r\n        &quot;                          if([isNotEmpty(value.expression)],&quot; +\r\n        &quot;                             concat(&#39;: eval(&#39;, key, &#39;.expression)&#39;),&quot; +\r\n        &quot;                             concat(&#39;.field(&#39;,&quot; +\r\n        &quot;                                    value&quot; +\r\n        &quot;                                      .entries()&quot; +\r\n        &quot;                                      .concat(key, &#39;: eval(&#39;, key, &#39;.expression)&#39;)&quot; +\r\n        &quot;                                      .join(&#39;,&#39;),&quot; +\r\n        &quot;                                    &#39;)&#39;&quot; +\r\n        &quot;                             )&quot; +\r\n        &quot;                          )&quot; +\r\n        &quot;                   )&quot; +\r\n        &quot;                  .join(&#39;,&#39;),&quot; +\r\n        &quot;                &#39;)&#39;&quot; +\r\n        &quot;         )&quot; +\r\n        &quot;        .join(&#39;,&#39;),&quot; +\r\n        &quot;        &#39;)&#39;&quot; +\r\n        &quot; )&quot;);\r\n","title":"Filter JSON Data upto 2nd or 3rd Level","body":"<p>The corresponding transformation expression is this:</p>\n<pre><code>field(data\n      .field(weight: eval(weight.expression),\n             height: eval(height.expression),\n             columnPipe.field(pipeTotalWeight: eval(pipeTotalWeight.expression),\n                              PipeCapLiters: eval(PipeCapLiters.expression)\n             ),\n      )\n)\n</code></pre>\n<p>The question is how to build this expression from your JSON object.  It's a little bit complicated. I found a solution is to flatten the JSON to filter all <code>.expression</code> elements first, and then reconstruct the JSON.  The next step is to build the transformation expression from the reconstructed JSON.</p>\n<pre><code>String expression = josson.getString(\n    &quot;flatten('_').~'.*_expression$'*.get(..).map(key::value).mergeObjects().unflatten('_')&quot; +\n    &quot;.concat('field(',&quot; +\n    &quot;        entries()&quot; +\n    &quot;        .concat(key,&quot; +\n    &quot;                '.field(',&quot; +\n    &quot;                value&quot; +\n    &quot;                  .entries()&quot; +\n    &quot;                  .concat(key,&quot; +\n    &quot;                          if([isNotEmpty(value.expression)],&quot; +\n    &quot;                             concat(': eval(', key, '.expression)'),&quot; +\n    &quot;                             concat('.field(',&quot; +\n    &quot;                                    value&quot; +\n    &quot;                                      .entries()&quot; +\n    &quot;                                      .concat(key, ': eval(', key, '.expression)')&quot; +\n    &quot;                                      .join(','),&quot; +\n    &quot;                                    ')'&quot; +\n    &quot;                             )&quot; +\n    &quot;                          )&quot; +\n    &quot;                   )&quot; +\n    &quot;                  .join(','),&quot; +\n    &quot;                ')'&quot; +\n    &quot;         )&quot; +\n    &quot;        .join(','),&quot; +\n    &quot;        ')'&quot; +\n    &quot; )&quot;);\n</code></pre>\n"}],"owner":{"account_id":1675064,"reputation":103,"user_id":1540802,"display_name":"Pranav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76593232,"answer_count":1,"score":0,"last_activity_date":1688184372,"creation_date":1688126691,"question_id":76588758,"body_markdown":"Original Post: [Evaluate JSON Object recursively][1]\r\n\r\nWe are using JSON library https://github.com/octomix/josson\r\n\r\nwe have JSON Object as below\r\n```\r\n{\r\n  &quot;selectionModel&quot;: {\r\n    &quot;dp_speed&quot;: &quot;0&quot;,\r\n    &quot;moc&quot;: &quot;CI-0&quot;\r\n  },\r\n  &quot;data&quot;: {\r\n    &quot;B&quot;: &quot;220&quot;,\r\n    &quot;h2&quot;: &quot;1000&quot;,\r\n    &quot;h6&quot;: &quot;175&quot;,\r\n    &quot;weight&quot;: {\r\n      &quot;expression&quot;: &quot;calc(B+h2)&quot;\r\n    },\r\n    &quot;height&quot;: {\r\n      &quot;expression&quot;: &quot;calc(B+h6)&quot;\r\n    },\r\n    &quot;columnPipe&quot;: {\r\n      &quot;pipeTotalWeight&quot;: {\r\n        &quot;expression&quot;: &quot;calc(if(length==0,680,700),length:$.data.columnPipe.pipeTotalLength)&quot;\r\n      },\r\n      &quot;pipeTotalLength&quot;: 1200,\r\n      &quot;PipeCapLiters&quot;: {\r\n        &quot;expression&quot;: &quot;calc(if(length==0,70,100),length:$.data.columnPipe.pipeTotalLength)&quot;\r\n      },\r\n      &quot;pipeTopPipeqty&quot;: 1\r\n    }\r\n  },\r\n  &quot;tbl05FlangeMasterDischarge&quot;: {\r\n    &quot;flangeId&quot;: 3835,\r\n    &quot;flangetype&quot;: &quot;RF&quot;,\r\n    &quot;size&quot;: 150\r\n  }\r\n}\r\n```\r\n\r\nRequired Output\r\n\r\n```\r\n{\r\n  &quot;selectionModel&quot;: {\r\n    &quot;dp_speed&quot;: &quot;0&quot;,\r\n    &quot;moc&quot;: &quot;CI-0&quot;\r\n  },\r\n  &quot;data&quot;: {\r\n    &quot;B&quot;: &quot;220&quot;,\r\n    &quot;h2&quot;: &quot;1000&quot;,\r\n    &quot;h6&quot;: &quot;175&quot;,\r\n    &quot;weight&quot;: 1220.0,\r\n    &quot;height&quot;: 395.0,\r\n    &quot;columnPipe&quot;: {\r\n      &quot;pipeTotalWeight&quot;: 700.0,\r\n      &quot;pipeTotalLength&quot;: 1200,\r\n      &quot;PipeCapLiters&quot;: 100.0,\r\n      &quot;pipeTopPipeqty&quot;: 1\r\n    }\r\n  },\r\n  &quot;tbl05FlangeMasterDischarge&quot;: {\r\n    &quot;flangeId&quot;: 3835,\r\n    &quot;flangetype&quot;: &quot;RF&quot;,\r\n    &quot;size&quot;: 150\r\n  }\r\n}\r\n```\r\n\r\nAs suggested in original post we are able to evaluate only 1st Level i.e till **data** node and not till **data.columnPipe** node as below\r\n```\r\nString a = &quot;{\\&quot;selectionModel\\&quot;:{\\&quot;dp_speed\\&quot;:\\&quot;0\\&quot;,\\&quot;moc\\&quot;:\\&quot;CI-0\\&quot;},\\&quot;data\\&quot;:{\\&quot;B\\&quot;:\\&quot;220\\&quot;,\\&quot;h2\\&quot;:\\&quot;1000\\&quot;,\\&quot;h6\\&quot;:\\&quot;175\\&quot;,\\&quot;weight\\&quot;:{\\&quot;expression\\&quot;:\\&quot;calc(B+h2)\\&quot;},\\&quot;height\\&quot;:{\\&quot;expression\\&quot;:\\&quot;calc(B+h6)\\&quot;},\\&quot;columnPipe\\&quot;:{\\&quot;pipeTotalWeight\\&quot;:{\\&quot;expression\\&quot;:\\&quot;calc(if(length==0,680,700),length:$.data.columnPipe.pipeTotalLength)\\&quot;},\\&quot;pipeTotalLength\\&quot;:1200,\\&quot;PipeCapLiters\\&quot;:{\\&quot;expression\\&quot;:\\&quot;calc(if(length==0,70,100),length:$.data.columnPipe.pipeTotalLength)\\&quot;},\\&quot;pipeTopPipeqty\\&quot;:1}},\\&quot;tbl05FlangeMasterDischarge\\&quot;:{\\&quot;flangeId\\&quot;:3835,\\&quot;flangetype\\&quot;:\\&quot;RF\\&quot;,\\&quot;size\\&quot;:150}}&quot;;\r\n\r\nJosson josson = Josson.fromJsonString(a);\r\n\r\nString expression = josson.getString(&quot;entries()&quot; + &quot;.concat(&#39;field(&#39;,&quot; + &quot;        key,&quot; + &quot;        value.entries()&quot;\r\n\t\t\t\t+ &quot;             .[isNotEmpty(value.expression)]*&quot; + &quot;             .concat(&#39;.field(&#39;,key,&#39;: eval(&#39;,key,&#39;.expression))&#39;)&quot;\r\n\t\t\t\t+ &quot;             .join(),&quot; + &quot;        &#39;)&#39;)&quot; + &quot;.join(&#39;.&#39;)&quot;);\r\n\r\nSystem.out.println(expression);\r\nSystem.out.println(josson.getNode(expression));\r\n```\r\n\r\nOutput of above code\r\n```\r\nfield(selectionModel).field(data.field(weight: eval(weight.expression)).field(height: eval(height.expression))).field(tbl05FlangeMasterDischarge)\r\n\r\n{&quot;selectionModel&quot;:{&quot;dp_speed&quot;:&quot;0&quot;,&quot;moc&quot;:&quot;CI-0&quot;},&quot;data&quot;:{&quot;B&quot;:&quot;220&quot;,&quot;h2&quot;:&quot;1000&quot;,&quot;h6&quot;:&quot;175&quot;,&quot;weight&quot;:1220.0,&quot;height&quot;:395.0,&quot;columnPipe&quot;:{&quot;pipeTotalWeight&quot;:{&quot;expression&quot;:&quot;calc(if(length==0,680,700),length:$.data.columnPipe.pipeTotalLength)&quot;},&quot;pipeTotalLength&quot;:1200,&quot;PipeCapLiters&quot;:{&quot;expression&quot;:&quot;calc(if(length==0,70,100),length:$.data.columnPipe.pipeTotalLength)&quot;},&quot;pipeTopPipeqty&quot;:1}},&quot;tbl05FlangeMasterDischarge&quot;:{&quot;flangeId&quot;:3835,&quot;flangetype&quot;:&quot;RF&quot;,&quot;size&quot;:150}}\r\n```\r\n\r\nAs you see we are only able to query till 1st Level\r\n\r\nRequired Output\r\n\r\n```\r\nfield(selectionModel).field(data.field(weight: eval(weight.expression)).field(height: eval(height.expression)).field(columnPipe.field(PipeCapLiters: eval(PipeCapLiters.expression)).field(pipeTotalWeight: eval(pipeTotalWeight.expression)))).field(tbl05FlangeMasterDischarge)\r\n\r\n{&quot;selectionModel&quot;:{&quot;dp_speed&quot;:&quot;0&quot;,&quot;moc&quot;:&quot;CI-0&quot;},&quot;data&quot;:{&quot;B&quot;:&quot;220&quot;,&quot;h2&quot;:&quot;1000&quot;,&quot;h6&quot;:&quot;175&quot;,&quot;weight&quot;:1220.0,&quot;height&quot;:395.0,&quot;columnPipe&quot;:{&quot;pipeTotalWeight&quot;:700.0,&quot;pipeTotalLength&quot;:1200,&quot;PipeCapLiters&quot;:100.0,&quot;pipeTopPipeqty&quot;:1}},&quot;tbl05FlangeMasterDischarge&quot;:{&quot;flangeId&quot;:3835,&quot;flangetype&quot;:&quot;RF&quot;,&quot;size&quot;:150}}\r\n```\r\n\r\nhow do we concat expression till 2nd level\r\n\r\n  [1]: https://stackoverflow.com/questions/75563953/evaluate-json-object-recursively","title":"Filter JSON Data upto 2nd or 3rd Level","body":"<p>Original Post: <a href=\"https://stackoverflow.com/questions/75563953/evaluate-json-object-recursively\">Evaluate JSON Object recursively</a></p>\n<p>We are using JSON library <a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<p>we have JSON Object as below</p>\n<pre><code>{\n  &quot;selectionModel&quot;: {\n    &quot;dp_speed&quot;: &quot;0&quot;,\n    &quot;moc&quot;: &quot;CI-0&quot;\n  },\n  &quot;data&quot;: {\n    &quot;B&quot;: &quot;220&quot;,\n    &quot;h2&quot;: &quot;1000&quot;,\n    &quot;h6&quot;: &quot;175&quot;,\n    &quot;weight&quot;: {\n      &quot;expression&quot;: &quot;calc(B+h2)&quot;\n    },\n    &quot;height&quot;: {\n      &quot;expression&quot;: &quot;calc(B+h6)&quot;\n    },\n    &quot;columnPipe&quot;: {\n      &quot;pipeTotalWeight&quot;: {\n        &quot;expression&quot;: &quot;calc(if(length==0,680,700),length:$.data.columnPipe.pipeTotalLength)&quot;\n      },\n      &quot;pipeTotalLength&quot;: 1200,\n      &quot;PipeCapLiters&quot;: {\n        &quot;expression&quot;: &quot;calc(if(length==0,70,100),length:$.data.columnPipe.pipeTotalLength)&quot;\n      },\n      &quot;pipeTopPipeqty&quot;: 1\n    }\n  },\n  &quot;tbl05FlangeMasterDischarge&quot;: {\n    &quot;flangeId&quot;: 3835,\n    &quot;flangetype&quot;: &quot;RF&quot;,\n    &quot;size&quot;: 150\n  }\n}\n</code></pre>\n<p>Required Output</p>\n<pre><code>{\n  &quot;selectionModel&quot;: {\n    &quot;dp_speed&quot;: &quot;0&quot;,\n    &quot;moc&quot;: &quot;CI-0&quot;\n  },\n  &quot;data&quot;: {\n    &quot;B&quot;: &quot;220&quot;,\n    &quot;h2&quot;: &quot;1000&quot;,\n    &quot;h6&quot;: &quot;175&quot;,\n    &quot;weight&quot;: 1220.0,\n    &quot;height&quot;: 395.0,\n    &quot;columnPipe&quot;: {\n      &quot;pipeTotalWeight&quot;: 700.0,\n      &quot;pipeTotalLength&quot;: 1200,\n      &quot;PipeCapLiters&quot;: 100.0,\n      &quot;pipeTopPipeqty&quot;: 1\n    }\n  },\n  &quot;tbl05FlangeMasterDischarge&quot;: {\n    &quot;flangeId&quot;: 3835,\n    &quot;flangetype&quot;: &quot;RF&quot;,\n    &quot;size&quot;: 150\n  }\n}\n</code></pre>\n<p>As suggested in original post we are able to evaluate only 1st Level i.e till <strong>data</strong> node and not till <strong>data.columnPipe</strong> node as below</p>\n<pre><code>String a = &quot;{\\&quot;selectionModel\\&quot;:{\\&quot;dp_speed\\&quot;:\\&quot;0\\&quot;,\\&quot;moc\\&quot;:\\&quot;CI-0\\&quot;},\\&quot;data\\&quot;:{\\&quot;B\\&quot;:\\&quot;220\\&quot;,\\&quot;h2\\&quot;:\\&quot;1000\\&quot;,\\&quot;h6\\&quot;:\\&quot;175\\&quot;,\\&quot;weight\\&quot;:{\\&quot;expression\\&quot;:\\&quot;calc(B+h2)\\&quot;},\\&quot;height\\&quot;:{\\&quot;expression\\&quot;:\\&quot;calc(B+h6)\\&quot;},\\&quot;columnPipe\\&quot;:{\\&quot;pipeTotalWeight\\&quot;:{\\&quot;expression\\&quot;:\\&quot;calc(if(length==0,680,700),length:$.data.columnPipe.pipeTotalLength)\\&quot;},\\&quot;pipeTotalLength\\&quot;:1200,\\&quot;PipeCapLiters\\&quot;:{\\&quot;expression\\&quot;:\\&quot;calc(if(length==0,70,100),length:$.data.columnPipe.pipeTotalLength)\\&quot;},\\&quot;pipeTopPipeqty\\&quot;:1}},\\&quot;tbl05FlangeMasterDischarge\\&quot;:{\\&quot;flangeId\\&quot;:3835,\\&quot;flangetype\\&quot;:\\&quot;RF\\&quot;,\\&quot;size\\&quot;:150}}&quot;;\n\nJosson josson = Josson.fromJsonString(a);\n\nString expression = josson.getString(&quot;entries()&quot; + &quot;.concat('field(',&quot; + &quot;        key,&quot; + &quot;        value.entries()&quot;\n                + &quot;             .[isNotEmpty(value.expression)]*&quot; + &quot;             .concat('.field(',key,': eval(',key,'.expression))')&quot;\n                + &quot;             .join(),&quot; + &quot;        ')')&quot; + &quot;.join('.')&quot;);\n\nSystem.out.println(expression);\nSystem.out.println(josson.getNode(expression));\n</code></pre>\n<p>Output of above code</p>\n<pre><code>field(selectionModel).field(data.field(weight: eval(weight.expression)).field(height: eval(height.expression))).field(tbl05FlangeMasterDischarge)\n\n{&quot;selectionModel&quot;:{&quot;dp_speed&quot;:&quot;0&quot;,&quot;moc&quot;:&quot;CI-0&quot;},&quot;data&quot;:{&quot;B&quot;:&quot;220&quot;,&quot;h2&quot;:&quot;1000&quot;,&quot;h6&quot;:&quot;175&quot;,&quot;weight&quot;:1220.0,&quot;height&quot;:395.0,&quot;columnPipe&quot;:{&quot;pipeTotalWeight&quot;:{&quot;expression&quot;:&quot;calc(if(length==0,680,700),length:$.data.columnPipe.pipeTotalLength)&quot;},&quot;pipeTotalLength&quot;:1200,&quot;PipeCapLiters&quot;:{&quot;expression&quot;:&quot;calc(if(length==0,70,100),length:$.data.columnPipe.pipeTotalLength)&quot;},&quot;pipeTopPipeqty&quot;:1}},&quot;tbl05FlangeMasterDischarge&quot;:{&quot;flangeId&quot;:3835,&quot;flangetype&quot;:&quot;RF&quot;,&quot;size&quot;:150}}\n</code></pre>\n<p>As you see we are only able to query till 1st Level</p>\n<p>Required Output</p>\n<pre><code>field(selectionModel).field(data.field(weight: eval(weight.expression)).field(height: eval(height.expression)).field(columnPipe.field(PipeCapLiters: eval(PipeCapLiters.expression)).field(pipeTotalWeight: eval(pipeTotalWeight.expression)))).field(tbl05FlangeMasterDischarge)\n\n{&quot;selectionModel&quot;:{&quot;dp_speed&quot;:&quot;0&quot;,&quot;moc&quot;:&quot;CI-0&quot;},&quot;data&quot;:{&quot;B&quot;:&quot;220&quot;,&quot;h2&quot;:&quot;1000&quot;,&quot;h6&quot;:&quot;175&quot;,&quot;weight&quot;:1220.0,&quot;height&quot;:395.0,&quot;columnPipe&quot;:{&quot;pipeTotalWeight&quot;:700.0,&quot;pipeTotalLength&quot;:1200,&quot;PipeCapLiters&quot;:100.0,&quot;pipeTopPipeqty&quot;:1}},&quot;tbl05FlangeMasterDischarge&quot;:{&quot;flangeId&quot;:3835,&quot;flangetype&quot;:&quot;RF&quot;,&quot;size&quot;:150}}\n</code></pre>\n<p>how do we concat expression till 2nd level</p>\n"},{"tags":["java","android","rest","android-volley"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1688119523,"post_id":76587843,"comment_id":135034257,"body_markdown":"`Trust anchor for certification path not found.` usually means you are using a self-signed certificate on the server or the CA that has issued the certificate is unknown to Android. You can use https://www.ssllabs.com/ssltest/ to test a server for common SSL mistakes (the HTTPS server if there is one running). BTW: It is usually a bad idea to directly communicate to a MySQL database from within an Android app. Everybody who has the APK can then extract the database credentials and access the database on raw level making all modifications allowed by the credentials.","body":"<code>Trust anchor for certification path not found.</code> usually means you are using a self-signed certificate on the server or the CA that has issued the certificate is unknown to Android. You can use <a href=\"https://www.ssllabs.com/ssltest/\" rel=\"nofollow noreferrer\">ssllabs.com/ssltest</a> to test a server for common SSL mistakes (the HTTPS server if there is one running). BTW: It is usually a bad idea to directly communicate to a MySQL database from within an Android app. Everybody who has the APK can then extract the database credentials and access the database on raw level making all modifications allowed by the credentials."}],"answers":[{"tags":[],"owner":{"account_id":239809,"reputation":7564,"user_id":1209216,"accept_rate":52,"display_name":"user1209216"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688119241,"creation_date":1688119241,"answer_id":76587904,"question_id":76587843,"body_markdown":"Your ssl certificate is not trusted. Either correct your ssl configuration on server, or bypass ssl errors in your app (not recommended).","title":"javax.net.ssl.SSLHandshakeException in Android Studio","body":"<p>Your ssl certificate is not trusted. Either correct your ssl configuration on server, or bypass ssl errors in your app (not recommended).</p>\n"},{"tags":[],"owner":{"account_id":26606954,"reputation":7,"user_id":20227628,"display_name":"Edwin Tigor"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1688119966,"creation_date":1688119397,"answer_id":76587934,"question_id":76587843,"body_markdown":"Depends on server capability. You can try Heliohost built-in ssl.\r\n\r\nI had an account on infinityfree too. I heard they can fix your ssl problems if you upgrade your account into paid plan.","title":"javax.net.ssl.SSLHandshakeException in Android Studio","body":"<p>Depends on server capability. You can try Heliohost built-in ssl.</p>\n<p>I had an account on infinityfree too. I heard they can fix your ssl problems if you upgrade your account into paid plan.</p>\n"},{"tags":[],"owner":{"account_id":6736921,"reputation":948,"user_id":5191371,"accept_rate":0,"display_name":"Milad Bahmanabadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688183664,"creation_date":1688183664,"answer_id":76593206,"question_id":76587843,"body_markdown":"If you want to bypass SSL, try this code:\r\n\r\n    private static void enableHTTPS() {\r\n        try {\r\n            TrustManager[] trustAllCerts = new TrustManager[]{new X509TrustManager() {\r\n                public X509Certificate[] getAcceptedIssuers() {\r\n                    return new X509Certificate[0];\r\n                }\r\n\r\n                @Override\r\n                public void checkClientTrusted(X509Certificate[] certs, String authType) {\r\n                }\r\n\r\n                @Override\r\n                public void checkServerTrusted(X509Certificate[] certs, String authType) {\r\n                }\r\n            }};\r\n\r\n            SSLContext sc = SSLContext.getInstance(&quot;SSL&quot;);\r\n            sc.init(null, trustAllCerts, new SecureRandom());\r\n            HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\r\n            HttpsURLConnection.setDefaultHostnameVerifier(new HostnameVerifier() {\r\n                @Override\r\n                public boolean verify(String arg0, SSLSession arg1) {\r\n                    return true;\r\n                }\r\n            });\r\n        } catch (Exception ignored) {\r\n        }\r\n    }\r\n\r\nIf not, try to add the certificate to your JDK using this command:\r\n\r\n    keytool -import -alias joe -file mycert.cer -keystore mycerts -storepass changeit\r\n\r\n","title":"javax.net.ssl.SSLHandshakeException in Android Studio","body":"<p>If you want to bypass SSL, try this code:</p>\n<pre><code>private static void enableHTTPS() {\n    try {\n        TrustManager[] trustAllCerts = new TrustManager[]{new X509TrustManager() {\n            public X509Certificate[] getAcceptedIssuers() {\n                return new X509Certificate[0];\n            }\n\n            @Override\n            public void checkClientTrusted(X509Certificate[] certs, String authType) {\n            }\n\n            @Override\n            public void checkServerTrusted(X509Certificate[] certs, String authType) {\n            }\n        }};\n\n        SSLContext sc = SSLContext.getInstance(&quot;SSL&quot;);\n        sc.init(null, trustAllCerts, new SecureRandom());\n        HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\n        HttpsURLConnection.setDefaultHostnameVerifier(new HostnameVerifier() {\n            @Override\n            public boolean verify(String arg0, SSLSession arg1) {\n                return true;\n            }\n        });\n    } catch (Exception ignored) {\n    }\n}\n</code></pre>\n<p>If not, try to add the certificate to your JDK using this command:</p>\n<pre><code>keytool -import -alias joe -file mycert.cer -keystore mycerts -storepass changeit\n</code></pre>\n"}],"owner":{"account_id":23467803,"reputation":23,"user_id":17521706,"display_name":"NewbieMF"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":354,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76593206,"answer_count":3,"score":1,"last_activity_date":1688183664,"creation_date":1688118686,"question_id":76587843,"body_markdown":"I created a REST API for my application to connect to the MYSQL database by hosting at infinityfree, my website already has an SSL certificate which I got directly from infinityfree.\r\nBut when I use the REST API in my android studio project and run the application this error appears:\r\n\r\n\r\n```none\r\nD/Linux: [Posix_connect Debug]Process com.abiapp.androidukk :443 \r\nW/System.err: com.android.volley.NoConnectionError: javax.net.ssl.SSLHandshakeException: java.security.cert.CertPathValidatorException: Trust anchor for certification path not found.\r\nW/System.err:     at com.android.volley.toolbox.NetworkUtility.shouldRetryException(NetworkUtility.java:173)\r\nW/System.err:     at com.android.volley.toolbox.BasicNetwork.performRequest(BasicNetwork.java:145)\r\nW/System.err:     at com.android.volley.NetworkDispatcher.processRequest(NetworkDispatcher.java:132)\r\nW/System.err:     at com.android.volley.NetworkDispatcher.processRequest(NetworkDispatcher.java:111)\r\nW/System.err:     at com.android.volley.NetworkDispatcher.run(NetworkDispatcher.java:90)\r\nW/System.err: Caused by: javax.net.ssl.SSLHandshakeException: java.security.cert.CertPathValidatorException: Trust anchor for certification path not found.\r\nW/System.err:     at com.android.org.conscrypt.SSLUtils.toSSLHandshakeException(SSLUtils.java:362)\r\nW/System.err:     at com.android.org.conscrypt.ConscryptEngine.convertException(ConscryptEngine.java:1134)\r\nW/System.err:     at com.android.org.conscrypt.ConscryptEngine.readPlaintextData(ConscryptEngine.java:1089)\r\nW/System.err:     at com.android.org.conscrypt.ConscryptEngine.unwrap(ConscryptEngine.java:876)\r\nW/System.err:     at com.android.org.conscrypt.ConscryptEngine.unwrap(ConscryptEngine.java:747)\r\nW/System.err:     at com.android.org.conscrypt.ConscryptEngine.unwrap(ConscryptEngine.java:712)\r\nW/System.err:     at com.android.org.conscrypt.ConscryptEngineSocket$SSLInputStream.processDataFromSocket(ConscryptEngineSocket.java:849)\r\nW/System.err:     at com.android.org.conscrypt.ConscryptEngineSocket$SSLInputStream.access$100(ConscryptEngineSocket.java:722)\r\nW/System.err:     at com.android.org.conscrypt.ConscryptEngineSocket.doHandshake(ConscryptEngineSocket.java:238)\r\nW/System.err:     at com.android.org.conscrypt.ConscryptEngineSocket.startHandshake(ConscryptEngineSocket.java:217)\r\nW/System.err:     at com.android.okhttp.internal.io.RealConnection.connectTls(RealConnection.java:196)\r\nW/System.err:     at com.android.okhttp.internal.io.RealConnection.connectSocket(RealConnection.java:153)\r\nW/System.err:     at com.android.okhttp.internal.io.RealConnection.connect(RealConnection.java:116)\r\nW/System.err:     at com.android.okhttp.internal.http.StreamAllocation.findConnection(StreamAllocation.java:186)\r\nW/System.err:     at com.android.okhttp.internal.http.StreamAllocation.findHealthyConnection(StreamAllocation.java:128)\r\nW/System.err:     at com.android.okhttp.internal.http.StreamAllocation.newStream(StreamAllocation.java:97)\r\nW/System.err:     at com.android.okhttp.internal.http.HttpEngine.connect(HttpEngine.java:289)\r\nW/System.err:     at com.android.okhttp.internal.http.HttpEngine.sendRequest(HttpEngine.java:232)\r\nW/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.execute(HttpURLConnectionImpl.java:465)\r\nW/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.connect(HttpURLConnectionImpl.java:131)\r\nW/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getOutputStream(HttpURLConnectionImpl.java:262)\r\nW/System.err:     at com.android.okhttp.internal.huc.DelegatingHttpsURLConnection.getOutputStream(DelegatingHttpsURLConnection.java:219)\r\nW/System.err:     at com.android.okhttp.internal.huc.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:30)\r\nW/System.err:     at com.android.volley.toolbox.HurlStack.createOutputStream(HurlStack.java:319)\r\nW/System.err:     at com.android.volley.toolbox.HurlStack.addBody(HurlStack.java:301)\r\nW/System.err:     at com.android.volley.toolbox.HurlStack.addBodyIfExists(HurlStack.java:285)\r\nW/System.err:     at com.android.volley.toolbox.HurlStack.setConnectionParametersForRequest(HurlStack.java:257)\r\nW/System.err:     at com.android.volley.toolbox.HurlStack.executeRequest(HurlStack.java:89)\r\nW/System.err:     at com.android.volley.toolbox.BasicNetwork.performRequest(BasicNetwork.java:104)\r\nW/System.err: \t... 3 more\r\nW/System.err: Caused by: java.security.cert.CertificateException: java.security.cert.CertPathValidatorException: Trust anchor for certification path not found.\r\nW/System.err:     at com.android.org.conscrypt.TrustManagerImpl.checkTrustedRecursive(TrustManagerImpl.java:661)\r\nW/System.err:     at com.android.org.conscrypt.TrustManagerImpl.checkTrusted(TrustManagerImpl.java:510)\r\nW/System.err:     at com.android.org.conscrypt.TrustManagerImpl.checkTrusted(TrustManagerImpl.java:428)\r\nW/System.err:     at com.android.org.conscrypt.TrustManagerImpl.getTrustedChainForServer(TrustManagerImpl.java:356)\r\nW/System.err:     at android.security.net.config.NetworkSecurityTrustManager.checkServerTrusted(NetworkSecurityTrustManager.java:94)\r\nW/System.err:     at android.security.net.config.RootTrustManager.checkServerTrusted(RootTrustManager.java:90)\r\nW/System.err:     at com.android.org.conscrypt.ConscryptEngineSocket$2.checkServerTrusted(ConscryptEngineSocket.java:161)\r\nW/System.err:     at com.android.org.conscrypt.Platform.checkServerTrusted(Platform.java:250)\r\nW/System.err:     at com.android.org.conscrypt.ConscryptEngine.verifyCertificateChain(ConscryptEngine.java:1644)\r\nW/System.err:     at com.android.org.conscrypt.NativeCrypto.ENGINE_SSL_read_direct(Native Method)\r\nW/System.err:     at com.android.org.conscrypt.NativeSsl.readDirectByteBuffer(NativeSsl.java:568)\r\nW/System.err:     at com.android.org.conscrypt.ConscryptEngine.readPlaintextDataDirect(ConscryptEngine.java:1095)\r\nW/System.err:     at com.android.org.conscrypt.ConscryptEngine.readPlaintextData(ConscryptEngine.java:1079)\r\nW/System.err: \t... 29 more\r\nW/System.err: Caused by: java.security.cert.CertPathValidatorException: Trust anchor for certification path not found.\r\nW/System.err: \t... 42 more\r\nI/InputTransport: Create ARC handle: 0x78a4e05920\r\nD/ViewRootImpl[StartActivity]: msg2 update new insets InsetsState: {mDisplayFrame=Rect(0, 0 - 1080, 2340), mSources= { InsetsSource: {mType=ITYPE_STATUS_BAR, mFrame=[0,0][1080,96], mVisible=true}, InsetsSource: {mType=ITYPE_TOP_GESTURES, mFrame=[0,0][1080,96], mVisible=true}, InsetsSource: {mType=ITYPE_LEFT_GESTURES, mFrame=[0,0][0,0], mVisible=true}, InsetsSource: {mType=ITYPE_RIGHT_GESTURES, mFrame=[0,0][0,0], mVisible=true}, InsetsSource: {mType=ITYPE_TOP_TAPPABLE_ELEMENT, mFrame=[0,0][1080,96], mVisible=true}, InsetsSource: {mType=ITYPE_LEFT_DISPLAY_CUTOUT, mFrame=[0,0][-2147483648,2340], mVisible=true}, InsetsSource: {mType=ITYPE_TOP_DISPLAY_CUTOUT, mFrame=[0,0][1080,96], mVisible=true}, InsetsSource: {mType=ITYPE_RIGHT_DISPLAY_CUTOUT, mFrame=[2147483647,0][1080,2340], mVisible=true}, InsetsSource: {mType=ITYPE_BOTTOM_DISPLAY_CUTOUT, mFrame=[0,2147483647][1080,2340], mVisible=true}, InsetsSource: {mType=ITYPE_IME, mFrame=[0,0][0,0], mVisible=false}, InsetsSource: {mType=ITYPE_SEC_IME, mFrame=[0,0][0,0], mVisible=false} }\r\n```\r\n\r\n\r\n\r\nI use the Volley library to access the REST API, before when I hosted the REST API on 000webhost everything was running normally, what&#39;s wrong?\r\n","title":"javax.net.ssl.SSLHandshakeException in Android Studio","body":"<p>I created a REST API for my application to connect to the MYSQL database by hosting at infinityfree, my website already has an SSL certificate which I got directly from infinityfree.\nBut when I use the REST API in my android studio project and run the application this error appears:</p>\n<pre class=\"lang-none prettyprint-override\"><code>D/Linux: [Posix_connect Debug]Process com.abiapp.androidukk :443 \nW/System.err: com.android.volley.NoConnectionError: javax.net.ssl.SSLHandshakeException: java.security.cert.CertPathValidatorException: Trust anchor for certification path not found.\nW/System.err:     at com.android.volley.toolbox.NetworkUtility.shouldRetryException(NetworkUtility.java:173)\nW/System.err:     at com.android.volley.toolbox.BasicNetwork.performRequest(BasicNetwork.java:145)\nW/System.err:     at com.android.volley.NetworkDispatcher.processRequest(NetworkDispatcher.java:132)\nW/System.err:     at com.android.volley.NetworkDispatcher.processRequest(NetworkDispatcher.java:111)\nW/System.err:     at com.android.volley.NetworkDispatcher.run(NetworkDispatcher.java:90)\nW/System.err: Caused by: javax.net.ssl.SSLHandshakeException: java.security.cert.CertPathValidatorException: Trust anchor for certification path not found.\nW/System.err:     at com.android.org.conscrypt.SSLUtils.toSSLHandshakeException(SSLUtils.java:362)\nW/System.err:     at com.android.org.conscrypt.ConscryptEngine.convertException(ConscryptEngine.java:1134)\nW/System.err:     at com.android.org.conscrypt.ConscryptEngine.readPlaintextData(ConscryptEngine.java:1089)\nW/System.err:     at com.android.org.conscrypt.ConscryptEngine.unwrap(ConscryptEngine.java:876)\nW/System.err:     at com.android.org.conscrypt.ConscryptEngine.unwrap(ConscryptEngine.java:747)\nW/System.err:     at com.android.org.conscrypt.ConscryptEngine.unwrap(ConscryptEngine.java:712)\nW/System.err:     at com.android.org.conscrypt.ConscryptEngineSocket$SSLInputStream.processDataFromSocket(ConscryptEngineSocket.java:849)\nW/System.err:     at com.android.org.conscrypt.ConscryptEngineSocket$SSLInputStream.access$100(ConscryptEngineSocket.java:722)\nW/System.err:     at com.android.org.conscrypt.ConscryptEngineSocket.doHandshake(ConscryptEngineSocket.java:238)\nW/System.err:     at com.android.org.conscrypt.ConscryptEngineSocket.startHandshake(ConscryptEngineSocket.java:217)\nW/System.err:     at com.android.okhttp.internal.io.RealConnection.connectTls(RealConnection.java:196)\nW/System.err:     at com.android.okhttp.internal.io.RealConnection.connectSocket(RealConnection.java:153)\nW/System.err:     at com.android.okhttp.internal.io.RealConnection.connect(RealConnection.java:116)\nW/System.err:     at com.android.okhttp.internal.http.StreamAllocation.findConnection(StreamAllocation.java:186)\nW/System.err:     at com.android.okhttp.internal.http.StreamAllocation.findHealthyConnection(StreamAllocation.java:128)\nW/System.err:     at com.android.okhttp.internal.http.StreamAllocation.newStream(StreamAllocation.java:97)\nW/System.err:     at com.android.okhttp.internal.http.HttpEngine.connect(HttpEngine.java:289)\nW/System.err:     at com.android.okhttp.internal.http.HttpEngine.sendRequest(HttpEngine.java:232)\nW/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.execute(HttpURLConnectionImpl.java:465)\nW/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.connect(HttpURLConnectionImpl.java:131)\nW/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getOutputStream(HttpURLConnectionImpl.java:262)\nW/System.err:     at com.android.okhttp.internal.huc.DelegatingHttpsURLConnection.getOutputStream(DelegatingHttpsURLConnection.java:219)\nW/System.err:     at com.android.okhttp.internal.huc.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:30)\nW/System.err:     at com.android.volley.toolbox.HurlStack.createOutputStream(HurlStack.java:319)\nW/System.err:     at com.android.volley.toolbox.HurlStack.addBody(HurlStack.java:301)\nW/System.err:     at com.android.volley.toolbox.HurlStack.addBodyIfExists(HurlStack.java:285)\nW/System.err:     at com.android.volley.toolbox.HurlStack.setConnectionParametersForRequest(HurlStack.java:257)\nW/System.err:     at com.android.volley.toolbox.HurlStack.executeRequest(HurlStack.java:89)\nW/System.err:     at com.android.volley.toolbox.BasicNetwork.performRequest(BasicNetwork.java:104)\nW/System.err:   ... 3 more\nW/System.err: Caused by: java.security.cert.CertificateException: java.security.cert.CertPathValidatorException: Trust anchor for certification path not found.\nW/System.err:     at com.android.org.conscrypt.TrustManagerImpl.checkTrustedRecursive(TrustManagerImpl.java:661)\nW/System.err:     at com.android.org.conscrypt.TrustManagerImpl.checkTrusted(TrustManagerImpl.java:510)\nW/System.err:     at com.android.org.conscrypt.TrustManagerImpl.checkTrusted(TrustManagerImpl.java:428)\nW/System.err:     at com.android.org.conscrypt.TrustManagerImpl.getTrustedChainForServer(TrustManagerImpl.java:356)\nW/System.err:     at android.security.net.config.NetworkSecurityTrustManager.checkServerTrusted(NetworkSecurityTrustManager.java:94)\nW/System.err:     at android.security.net.config.RootTrustManager.checkServerTrusted(RootTrustManager.java:90)\nW/System.err:     at com.android.org.conscrypt.ConscryptEngineSocket$2.checkServerTrusted(ConscryptEngineSocket.java:161)\nW/System.err:     at com.android.org.conscrypt.Platform.checkServerTrusted(Platform.java:250)\nW/System.err:     at com.android.org.conscrypt.ConscryptEngine.verifyCertificateChain(ConscryptEngine.java:1644)\nW/System.err:     at com.android.org.conscrypt.NativeCrypto.ENGINE_SSL_read_direct(Native Method)\nW/System.err:     at com.android.org.conscrypt.NativeSsl.readDirectByteBuffer(NativeSsl.java:568)\nW/System.err:     at com.android.org.conscrypt.ConscryptEngine.readPlaintextDataDirect(ConscryptEngine.java:1095)\nW/System.err:     at com.android.org.conscrypt.ConscryptEngine.readPlaintextData(ConscryptEngine.java:1079)\nW/System.err:   ... 29 more\nW/System.err: Caused by: java.security.cert.CertPathValidatorException: Trust anchor for certification path not found.\nW/System.err:   ... 42 more\nI/InputTransport: Create ARC handle: 0x78a4e05920\nD/ViewRootImpl[StartActivity]: msg2 update new insets InsetsState: {mDisplayFrame=Rect(0, 0 - 1080, 2340), mSources= { InsetsSource: {mType=ITYPE_STATUS_BAR, mFrame=[0,0][1080,96], mVisible=true}, InsetsSource: {mType=ITYPE_TOP_GESTURES, mFrame=[0,0][1080,96], mVisible=true}, InsetsSource: {mType=ITYPE_LEFT_GESTURES, mFrame=[0,0][0,0], mVisible=true}, InsetsSource: {mType=ITYPE_RIGHT_GESTURES, mFrame=[0,0][0,0], mVisible=true}, InsetsSource: {mType=ITYPE_TOP_TAPPABLE_ELEMENT, mFrame=[0,0][1080,96], mVisible=true}, InsetsSource: {mType=ITYPE_LEFT_DISPLAY_CUTOUT, mFrame=[0,0][-2147483648,2340], mVisible=true}, InsetsSource: {mType=ITYPE_TOP_DISPLAY_CUTOUT, mFrame=[0,0][1080,96], mVisible=true}, InsetsSource: {mType=ITYPE_RIGHT_DISPLAY_CUTOUT, mFrame=[2147483647,0][1080,2340], mVisible=true}, InsetsSource: {mType=ITYPE_BOTTOM_DISPLAY_CUTOUT, mFrame=[0,2147483647][1080,2340], mVisible=true}, InsetsSource: {mType=ITYPE_IME, mFrame=[0,0][0,0], mVisible=false}, InsetsSource: {mType=ITYPE_SEC_IME, mFrame=[0,0][0,0], mVisible=false} }\n</code></pre>\n<p>I use the Volley library to access the REST API, before when I hosted the REST API on 000webhost everything was running normally, what's wrong?</p>\n"},{"tags":["java","selenium-webdriver","automation","selenium-java"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1688011250,"post_id":76577944,"comment_id":135017181,"body_markdown":"Post the error message as the plain text format not as an image","body":"Post the error message as the plain text format not as an image"},{"owner":{"account_id":28916027,"reputation":1,"user_id":22147972,"display_name":"Test Bite"},"score":0,"creation_date":1688011383,"post_id":76577944,"comment_id":135017191,"body_markdown":"The error message while hovering is :\ncom.sun.jdi.InvocationException: Exception occurred in target VM occurred invoking method.","body":"The error message while hovering is : com.sun.jdi.InvocationException: Exception occurred in target VM occurred invoking method."}],"answers":[{"tags":[],"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688018175,"creation_date":1688018175,"answer_id":76578380,"question_id":76577944,"body_markdown":"In your situation, the issue arises when you try to cast an object of type `jdk.proxy2.$Proxy4` to `org.openqa.selenium.By`, which is not a valid casting operation.\r\n\r\nWhen utilizing PageFactory, it creates proxies for variables annotated with @FindBy. The InvocationHandler manages tasks such as searching for elements. For instance, when driver.findElements() is used, it interacts with the proxy, which then invokes the actual method. This is why the class is represented as class jdk.proxy2.$Proxy.\r\n\r\nIn your specific case, you are actually attempting to cast a proxied object of type `org.openqa.selenium.remote.RemoteWebElement` to `org.openqa.selenium.By`, which is not allowed.\r\n\r\nBy making the following modification to your code, the exception should be resolved:\r\n\r\n    wait.until(ExpectedConditions.visibilityOf(webelement));\r\n\r\n","title":"I&#39;m getting an error while hovering over the object and hence the automation script is failing","body":"<p>In your situation, the issue arises when you try to cast an object of type <code>jdk.proxy2.$Proxy4</code> to <code>org.openqa.selenium.By</code>, which is not a valid casting operation.</p>\n<p>When utilizing PageFactory, it creates proxies for variables annotated with @FindBy. The InvocationHandler manages tasks such as searching for elements. For instance, when driver.findElements() is used, it interacts with the proxy, which then invokes the actual method. This is why the class is represented as class jdk.proxy2.$Proxy.</p>\n<p>In your specific case, you are actually attempting to cast a proxied object of type <code>org.openqa.selenium.remote.RemoteWebElement</code> to <code>org.openqa.selenium.By</code>, which is not allowed.</p>\n<p>By making the following modification to your code, the exception should be resolved:</p>\n<pre><code>wait.until(ExpectedConditions.visibilityOf(webelement));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18412051,"reputation":144,"user_id":13412076,"display_name":"arpita biswas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688027041,"creation_date":1688027041,"answer_id":76579281,"question_id":76577944,"body_markdown":"Please see the below code it works for me. Just need to add an wait after launching the web URL.\r\n\r\n\t// TODO Auto-generated method stub\r\n\t  \tWebDriverManager.chromedriver().setup();\r\n\t\tWebDriver driver = new ChromeDriver();\r\n        driver.manage().window().maximize();\t\t\r\n        driver.get(&quot;https://opensource-demo.orangehrmlive.com/web/index.php/auth/login&quot;);\r\n        Thread.sleep(3000);\r\n        driver.findElement(By.name(&quot;username&quot;)).sendKeys(&quot;Admin&quot;);\r\n        driver.findElement(By.name(&quot;password&quot;)).sendKeys(&quot;admin123&quot;);\r\n        driver.findElement(By.xpath(&quot;//button[@type=&#39;submit&#39;]&quot;)).click();\r\n        ","title":"I&#39;m getting an error while hovering over the object and hence the automation script is failing","body":"<p>Please see the below code it works for me. Just need to add an wait after launching the web URL.</p>\n<pre><code>// TODO Auto-generated method stub\n    WebDriverManager.chromedriver().setup();\n    WebDriver driver = new ChromeDriver();\n    driver.manage().window().maximize();        \n    driver.get(&quot;https://opensource-demo.orangehrmlive.com/web/index.php/auth/login&quot;);\n    Thread.sleep(3000);\n    driver.findElement(By.name(&quot;username&quot;)).sendKeys(&quot;Admin&quot;);\n    driver.findElement(By.name(&quot;password&quot;)).sendKeys(&quot;admin123&quot;);\n    driver.findElement(By.xpath(&quot;//button[@type='submit']&quot;)).click();\n    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":9166757,"reputation":121,"user_id":6816011,"display_name":"CodeGreen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688179855,"creation_date":1688030948,"answer_id":76579791,"question_id":76577944,"body_markdown":"Instead of explicitly waiting for elements, you can add a default wait time in you page object initialisation code using thie:\r\n \r\n```\r\n// Set the timeout value (in seconds) as per your needs\r\nPageFactory.initElements(new AjaxElementLocatorFactory(driver, 10), this); \r\n```","title":"I&#39;m getting an error while hovering over the object and hence the automation script is failing","body":"<p>Instead of explicitly waiting for elements, you can add a default wait time in you page object initialisation code using thie:</p>\n<pre><code>// Set the timeout value (in seconds) as per your needs\nPageFactory.initElements(new AjaxElementLocatorFactory(driver, 10), this); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688042581,"creation_date":1688041131,"answer_id":76580991,"question_id":76577944,"body_markdown":"In the _**Page objects and methods**_ class you have used:\r\n\r\n\tPageFactory.initElements(driver, this);\r\n\t\r\nAs per the documentation of [_Class PageFactory_](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/PageFactory.html):\r\n\r\n- [_`initElements(SearchContext searchContext, java.lang.Class&lt;T&gt; pageClassToProxy)`_](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/PageFactory.html#initElements(org.openqa.selenium.SearchContext,java.lang.Class)): This method instantiates an instance of the given class, and set a lazy proxy for each of the `WebElement` and `List&lt;WebElement&gt;` fields that have been declared, assuming that the field name is also the HTML element&#39;s &quot;id&quot; or &quot;name&quot;. This method returns an instantiated instance of the class with `WebElement` and `List&lt;WebElement&gt;` fields proxied.\r\n\r\nSo the following `@FindBys`:\r\n\r\n- `@FindBy(xpath=&quot;//input[@name=&#39;username&#39;]&quot;) public WebElement in_username;`\r\n- `@FindBy(xpath=&quot;//input[@name=&#39;password&#39;]&quot;) WebElement in_password;`\r\n- `@FindBy(xpath=&quot;//button[@type=&#39;submit&#39;]&quot;) WebElement btn_submit;`\r\n\r\nare proxied fileds. When you try to use those in conjunction with [By](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/By.html) class:\r\n\r\n    wait.until(ExpectedConditions.visibilityOfElementLocated((By) findby));\r\n\r\nyou are facing:\r\n\r\n\tException in thread &quot;main&quot; java.lang.ClassCastException: class jdk.proxy2.$Proxy4 cannot be cast to class org.openqa.selenium.By (jdk.proxy2.$Proxy4 is in module jdk.proxy2 of loader &#39;app&#39;; org.openqa.selenium.By is in unnamed module of loader &#39;app&#39;)\r\n\r\n\r\n----------\r\n\r\n\r\n\t\r\nSolution\r\n--------\r\nTo wait for the visibility of the _`in_username`_ field and send a character sequence, you can add two methods in the _**LoginPage**_ class as follows:\r\n\r\n    public void LoginPage()\r\n    {\r\n        WebElement element = new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(LoginPage.getUsernameElement()));\r\n        email.sendKeys(&quot;TestBite&quot;);\r\n    }\r\n\r\n    public WebElement getUsernameElement()\r\n    {\r\n        return in_username;\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\nReferences\r\n----------\r\nYou can find a couple of relevant detailed discussion in:\r\n\r\n- [How to add explicit wait in PageFactory in PageObjectModel?](https://stackoverflow.com/a/54177337/7429447)\r\n- [How to wait for invisibility of an element through PageFactory using Selenium and Java](https://stackoverflow.com/a/54670978/7429447)","title":"I&#39;m getting an error while hovering over the object and hence the automation script is failing","body":"<p>In the <em><strong>Page objects and methods</strong></em> class you have used:</p>\n<pre><code>PageFactory.initElements(driver, this);\n</code></pre>\n<p>As per the documentation of <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/PageFactory.html\" rel=\"nofollow noreferrer\"><em>Class PageFactory</em></a>:</p>\n<ul>\n<li><a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/PageFactory.html#initElements(org.openqa.selenium.SearchContext,java.lang.Class)\" rel=\"nofollow noreferrer\"><em><code>initElements(SearchContext searchContext, java.lang.Class&lt;T&gt; pageClassToProxy)</code></em></a>: This method instantiates an instance of the given class, and set a lazy proxy for each of the <code>WebElement</code> and <code>List&lt;WebElement&gt;</code> fields that have been declared, assuming that the field name is also the HTML element's &quot;id&quot; or &quot;name&quot;. This method returns an instantiated instance of the class with <code>WebElement</code> and <code>List&lt;WebElement&gt;</code> fields proxied.</li>\n</ul>\n<p>So the following <code>@FindBys</code>:</p>\n<ul>\n<li><code>@FindBy(xpath=&quot;//input[@name='username']&quot;) public WebElement in_username;</code></li>\n<li><code>@FindBy(xpath=&quot;//input[@name='password']&quot;) WebElement in_password;</code></li>\n<li><code>@FindBy(xpath=&quot;//button[@type='submit']&quot;) WebElement btn_submit;</code></li>\n</ul>\n<p>are proxied fileds. When you try to use those in conjunction with <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/By.html\" rel=\"nofollow noreferrer\">By</a> class:</p>\n<pre><code>wait.until(ExpectedConditions.visibilityOfElementLocated((By) findby));\n</code></pre>\n<p>you are facing:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ClassCastException: class jdk.proxy2.$Proxy4 cannot be cast to class org.openqa.selenium.By (jdk.proxy2.$Proxy4 is in module jdk.proxy2 of loader 'app'; org.openqa.selenium.By is in unnamed module of loader 'app')\n</code></pre>\n<hr />\n<h2>Solution</h2>\n<p>To wait for the visibility of the <em><code>in_username</code></em> field and send a character sequence, you can add two methods in the <em><strong>LoginPage</strong></em> class as follows:</p>\n<pre><code>public void LoginPage()\n{\n    WebElement element = new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(LoginPage.getUsernameElement()));\n    email.sendKeys(&quot;TestBite&quot;);\n}\n\npublic WebElement getUsernameElement()\n{\n    return in_username;\n}\n</code></pre>\n<hr />\n<h2>References</h2>\n<p>You can find a couple of relevant detailed discussion in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/54177337/7429447\">How to add explicit wait in PageFactory in PageObjectModel?</a></li>\n<li><a href=\"https://stackoverflow.com/a/54670978/7429447\">How to wait for invisibility of an element through PageFactory using Selenium and Java</a></li>\n</ul>\n"}],"owner":{"account_id":28916027,"reputation":1,"user_id":22147972,"display_name":"Test Bite"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1688179855,"creation_date":1688010414,"question_id":76577944,"body_markdown":"I have written a simple Selenium-based automation script for a login page. But I have a separate class for page objects and methods, another class for reusable components, and then the test class. \r\n\r\nPage objects and methods \r\n----------------------------\r\n\r\n```\r\npublic class LoginPage extends ReusableComponents {\r\n\tWebDriver driver;\r\n\t\r\n\t@FindBy(xpath=&quot;//input[@name=&#39;username&#39;]&quot;)\r\n\tpublic WebElement in_username;\r\n\t\r\n\t@FindBy(xpath=&quot;//input[@name=&#39;password&#39;]&quot;)\r\n\tWebElement in_password;\r\n\t\r\n\t@FindBy(xpath=&quot;//button[@type=&#39;submit&#39;]&quot;)\r\n\tWebElement btn_submit;\r\n\t\r\n\tpublic LoginPage(WebDriver driver) {\r\n\t\tsuper(driver);\r\n\t\tthis.driver = driver;\r\n\t\tPageFactory.initElements(driver, this);\r\n\t}\r\n\t\r\n\tpublic void enterUname(String uname)  {\r\n\t\tin_username.sendKeys(uname);\r\n\t}\r\n\t\r\n\tpublic void enterPassword(String pass) {\r\n\t\tin_password.sendKeys(pass);\r\n\t}\r\n\t\r\n\tpublic void clickSubmit() {\r\n\t\tbtn_submit.click();\r\n\t}\t\r\n}\r\n```\r\n\r\nReusable component class\r\n----------------------------------------\r\n\r\n```\r\npublic class ReusableComponents {\r\n\t\r\n\tWebDriver driver;\r\n\r\n\tpublic ReusableComponents(WebDriver driver) {\r\n\t\tthis.driver = driver;\r\n\t}\r\n\t\r\n\tpublic void setup()  {\r\n        WebDriverManager.chromedriver().setup();\r\n        driver = new ChromeDriver();\r\n        driver.manage().window().maximize();\r\n        driver.get(&quot;https://opensource-demo.orangehrmlive.com/web/index.php/auth/login&quot;);\r\n\t}\r\n\r\n\tpublic void waitElementToAppear(WebElement findby){\r\n\t\t\r\n\t\tWebDriverWait wait = new WebDriverWait(driver, 30);\r\n\t\twait.until(ExpectedConditions.visibilityOfElementLocated((By) findby));\r\n\t\t\t\t\r\n\t}\r\n\t\r\n\tpublic void closeBrowser() {\r\n\t\tdriver.close();\r\n\t}\t\r\n}\r\n```\r\n\r\nTest class\r\n----------------------------------\r\n\r\n```\r\npublic class OpenBrowser {\r\n\tstatic WebDriver driver;\r\n\r\n\tpublic static void main(String[] args) {\r\n        \r\n\t\tLoginPage login = new LoginPage(driver);\r\n\t\tReusableComponents common = new ReusableComponents(driver);\r\n\t\tcommon.setup();\r\n\t\tcommon.waitElementToAppear(login.in_username);\r\n\t\tlogin.enterUname(&quot;Admin&quot;);\r\n\t\tlogin.enterPassword(&quot;admin123&quot;);\r\n\t\tlogin.clickSubmit();\r\n\t\tcommon.closeBrowser();\r\n\t\t\r\n\t}\r\n}\r\n```\r\nError Log\r\n---------------\r\n\r\n        SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\n    SLF4J: Defaulting to no-operation (NOP) logger implementation\r\n    SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n    Starting ChromeDriver 114.0.5735.90 (386bc09e8f4f2e025eddae123f36f6263096ae49-refs/branch-heads/5735@{#1052}) on port 31559\r\n    Only local connections are allowed.\r\n    Please see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\n    ChromeDriver was started successfully.\r\n    Jun 29, 2023 8:43:53 AM org.openqa.selenium.remote.ProtocolHandshake createSession\r\n    INFO: Detected dialect: W3C\r\n    Exception in thread &quot;main&quot; java.lang.ClassCastException: class jdk.proxy2.$Proxy4 cannot be cast to class org.openqa.selenium.By (jdk.proxy2.$Proxy4 is in module jdk.proxy2 of loader &#39;app&#39;; org.openqa.selenium.By is in the unnamed module of loader &#39;app&#39;)\r\n    \tat com.orange.reusablecomponents.ReusableComponents.waitElementToAppear(ReusableComponents.java:32)\r\n    \tat com.orangehrm.OpenBrowser.main(OpenBrowser.java:27)\r\n\r\n*When I hover over the &quot;in_username&quot; object in the test in debug mode it gives me an error as I have attached here. Could someone please help me resolve this?*\r\n\r\nScreenshot of the error:\r\n\r\n[![Screenshot of the error][1]][1]\r\n\r\nI tried creating a webelement object but didn&#39;t help. \r\n\r\n[1]: https://i.stack.imgur.com/OQXyu.png","title":"I&#39;m getting an error while hovering over the object and hence the automation script is failing","body":"<p>I have written a simple Selenium-based automation script for a login page. But I have a separate class for page objects and methods, another class for reusable components, and then the test class.</p>\n<h2>Page objects and methods</h2>\n<pre><code>public class LoginPage extends ReusableComponents {\n    WebDriver driver;\n    \n    @FindBy(xpath=&quot;//input[@name='username']&quot;)\n    public WebElement in_username;\n    \n    @FindBy(xpath=&quot;//input[@name='password']&quot;)\n    WebElement in_password;\n    \n    @FindBy(xpath=&quot;//button[@type='submit']&quot;)\n    WebElement btn_submit;\n    \n    public LoginPage(WebDriver driver) {\n        super(driver);\n        this.driver = driver;\n        PageFactory.initElements(driver, this);\n    }\n    \n    public void enterUname(String uname)  {\n        in_username.sendKeys(uname);\n    }\n    \n    public void enterPassword(String pass) {\n        in_password.sendKeys(pass);\n    }\n    \n    public void clickSubmit() {\n        btn_submit.click();\n    }   \n}\n</code></pre>\n<h2>Reusable component class</h2>\n<pre><code>public class ReusableComponents {\n    \n    WebDriver driver;\n\n    public ReusableComponents(WebDriver driver) {\n        this.driver = driver;\n    }\n    \n    public void setup()  {\n        WebDriverManager.chromedriver().setup();\n        driver = new ChromeDriver();\n        driver.manage().window().maximize();\n        driver.get(&quot;https://opensource-demo.orangehrmlive.com/web/index.php/auth/login&quot;);\n    }\n\n    public void waitElementToAppear(WebElement findby){\n        \n        WebDriverWait wait = new WebDriverWait(driver, 30);\n        wait.until(ExpectedConditions.visibilityOfElementLocated((By) findby));\n                \n    }\n    \n    public void closeBrowser() {\n        driver.close();\n    }   \n}\n</code></pre>\n<h2>Test class</h2>\n<pre><code>public class OpenBrowser {\n    static WebDriver driver;\n\n    public static void main(String[] args) {\n        \n        LoginPage login = new LoginPage(driver);\n        ReusableComponents common = new ReusableComponents(driver);\n        common.setup();\n        common.waitElementToAppear(login.in_username);\n        login.enterUname(&quot;Admin&quot;);\n        login.enterPassword(&quot;admin123&quot;);\n        login.clickSubmit();\n        common.closeBrowser();\n        \n    }\n}\n</code></pre>\n<h2>Error Log</h2>\n<pre><code>    SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nStarting ChromeDriver 114.0.5735.90 (386bc09e8f4f2e025eddae123f36f6263096ae49-refs/branch-heads/5735@{#1052}) on port 31559\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\nJun 29, 2023 8:43:53 AM org.openqa.selenium.remote.ProtocolHandshake createSession\nINFO: Detected dialect: W3C\nException in thread &quot;main&quot; java.lang.ClassCastException: class jdk.proxy2.$Proxy4 cannot be cast to class org.openqa.selenium.By (jdk.proxy2.$Proxy4 is in module jdk.proxy2 of loader 'app'; org.openqa.selenium.By is in the unnamed module of loader 'app')\n    at com.orange.reusablecomponents.ReusableComponents.waitElementToAppear(ReusableComponents.java:32)\n    at com.orangehrm.OpenBrowser.main(OpenBrowser.java:27)\n</code></pre>\n<p><em>When I hover over the &quot;in_username&quot; object in the test in debug mode it gives me an error as I have attached here. Could someone please help me resolve this?</em></p>\n<p>Screenshot of the error:</p>\n<p><a href=\"https://i.stack.imgur.com/OQXyu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OQXyu.png\" alt=\"Screenshot of the error\" /></a></p>\n<p>I tried creating a webelement object but didn't help.</p>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":11253290,"reputation":1289,"user_id":9167731,"display_name":"Semyon Kirekov"},"score":0,"creation_date":1688156731,"post_id":76590312,"comment_id":135041403,"body_markdown":"Can you provide entities&#39; declaration?","body":"Can you provide entities&#39; declaration?"},{"owner":{"account_id":7938134,"reputation":173,"user_id":5995606,"display_name":"ahgpoug"},"score":0,"creation_date":1688158616,"post_id":76590312,"comment_id":135041669,"body_markdown":"@SemyonKirekov, updated my question with declarations","body":"@SemyonKirekov, updated my question with declarations"}],"answers":[{"tags":[],"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688175408,"creation_date":1688175408,"answer_id":76592975,"question_id":76590312,"body_markdown":"I am not certain familiar with pessimistic write locking. I only know about pessimistic locking (without the word &quot;write&quot;). It seems to be a very vendor specific thing. \r\n\r\nI think it is a very special vendor thing that is more than part of the SQL syntax and semantic. I think pessimistic **write** locking is a deep cut in the cache behavior hibernate does not provide nativly.","title":"Spring JPA + Hibernate + Postgres - unable to perform &quot;FOR UPDATE OF&quot; query","body":"<p>I am not certain familiar with pessimistic write locking. I only know about pessimistic locking (without the word &quot;write&quot;). It seems to be a very vendor specific thing.</p>\n<p>I think it is a very special vendor thing that is more than part of the SQL syntax and semantic. I think pessimistic <strong>write</strong> locking is a deep cut in the cache behavior hibernate does not provide nativly.</p>\n"}],"owner":{"account_id":7938134,"reputation":173,"user_id":5995606,"display_name":"ahgpoug"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1688175408,"creation_date":1688138872,"question_id":76590312,"body_markdown":"I&#39;m trying to implement pessimistic write locking on table without locking a related ones using JPA and Hibernate on Postgres database.\r\n\r\nCurrent configuration:\r\n\r\n - Java 17\r\n - Spring Boot 3.0.7 \r\n - Hibernate 6.1.7.Final \r\n - Postgres 14.7\r\n\r\nI&#39;m not using explicit hibernate dialect declaration. According to [this][1] - hibernate should configure dialect itself.\r\n\r\nMy current JPA repository code:\r\n\r\n```\r\n@Lock(LockModeType.PESSIMISTIC_WRITE)\r\n@QueryHints({\r\n\t@QueryHint(name = AvailableSettings.DEFAULT_BATCH_FETCH_SIZE, value = &quot;&quot; + Integer.MIN_VALUE),\r\n\t@QueryHint(name = AvailableSettings.USE_SECOND_LEVEL_CACHE, value = &quot;false&quot;),\r\n\t@QueryHint(name = AvailableSettings.JAKARTA_LOCK_TIMEOUT, value = &quot;-2&quot;),\r\n\t@QueryHint(name = &quot;org.hibernate.lockMode.ps&quot;, value = &quot;NONE&quot;)\r\n})\r\n@Query(value = &quot;&quot;&quot;\r\n\tSELECT p\r\n\tFROM Payment p\r\n\t\tJOIN FETCH p.status ps\r\n\tWHERE ps.name IN :statuses\r\n&quot;&quot;&quot;)\r\nStream&lt;Payment&gt; getPaymentsStream(@Param(&quot;statuses&quot;) List&lt;String&gt; statuses);\r\n```\r\n\r\nWhat do I expect:\r\n\r\n```\r\nSELECT p1_0.*, --just skipped fields\r\n    s1_0.id,\r\n    s1_0.name\r\nFROM\r\n    payment p1_0\r\nJOIN payment_status s1_0 ON\r\n    s1_0.id = p1_0.status_id\r\n    s1_0.name IN(?,?)\r\nFOR UPDATE OF p1_0 SKIP LOCKED\r\n```\r\n\r\nWhat I get\r\n```\r\nSELECT p1_0.*, --just skipped fields\r\n    s1_0.id,\r\n    s1_0.name\r\nFROM\r\n    payment p1_0\r\nJOIN payment_status s1_0 ON\r\n    s1_0.id = p1_0.status_id\r\n    s1_0.name IN(?,?)\r\n\r\nselect id from payment_status where id =? for update skip locked\r\nselect id from payment where id =? for update skip locked\r\n```\r\n\r\nI&#39;ve added `org.hibernate.lockMode.ps` hint according to [this][2] answer but nothing changed.\r\nAlso, I&#39;ve already tested with `nativeQuery = true` and everything works fine. But I don&#39;t want to use this approach due to possible compatibility issues.\r\n\r\nAre there any ways to make `FOR UPDATE OF` work in Hibernate without writing native queries?\r\n\r\nThank you in advance.\r\n\r\n**UPD1**\r\n\r\nEntity declarations\r\n\r\n```\r\n@Data\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\n@DynamicUpdate\r\n@DynamicInsert\r\n@EqualsAndHashCode\r\n@Table(name = &quot;payment&quot;, schema = &quot;xxx&quot;)\r\n@ToString\r\npublic class Payment implements Serializable {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n\t\r\n\t/* column definitions */\r\n    \r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;status_id&quot;, referencedColumnName = &quot;id&quot;, nullable = true)\r\n    private PaymentStatus status;\r\n}\r\n\r\n@Data\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\n@DynamicUpdate\r\n@DynamicInsert\r\n@EqualsAndHashCode\r\n@Table(name = &quot;payment_status&quot;, schema = &quot;xxx&quot;)\r\n@ToString\r\npublic class PaymentStatus implements Serializable {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/74582515/5995606\r\n  [2]: https://stackoverflow.com/a/63842764/5995606","title":"Spring JPA + Hibernate + Postgres - unable to perform &quot;FOR UPDATE OF&quot; query","body":"<p>I'm trying to implement pessimistic write locking on table without locking a related ones using JPA and Hibernate on Postgres database.</p>\n<p>Current configuration:</p>\n<ul>\n<li>Java 17</li>\n<li>Spring Boot 3.0.7</li>\n<li>Hibernate 6.1.7.Final</li>\n<li>Postgres 14.7</li>\n</ul>\n<p>I'm not using explicit hibernate dialect declaration. According to <a href=\"https://stackoverflow.com/a/74582515/5995606\">this</a> - hibernate should configure dialect itself.</p>\n<p>My current JPA repository code:</p>\n<pre><code>@Lock(LockModeType.PESSIMISTIC_WRITE)\n@QueryHints({\n    @QueryHint(name = AvailableSettings.DEFAULT_BATCH_FETCH_SIZE, value = &quot;&quot; + Integer.MIN_VALUE),\n    @QueryHint(name = AvailableSettings.USE_SECOND_LEVEL_CACHE, value = &quot;false&quot;),\n    @QueryHint(name = AvailableSettings.JAKARTA_LOCK_TIMEOUT, value = &quot;-2&quot;),\n    @QueryHint(name = &quot;org.hibernate.lockMode.ps&quot;, value = &quot;NONE&quot;)\n})\n@Query(value = &quot;&quot;&quot;\n    SELECT p\n    FROM Payment p\n        JOIN FETCH p.status ps\n    WHERE ps.name IN :statuses\n&quot;&quot;&quot;)\nStream&lt;Payment&gt; getPaymentsStream(@Param(&quot;statuses&quot;) List&lt;String&gt; statuses);\n</code></pre>\n<p>What do I expect:</p>\n<pre><code>SELECT p1_0.*, --just skipped fields\n    s1_0.id,\n    s1_0.name\nFROM\n    payment p1_0\nJOIN payment_status s1_0 ON\n    s1_0.id = p1_0.status_id\n    s1_0.name IN(?,?)\nFOR UPDATE OF p1_0 SKIP LOCKED\n</code></pre>\n<p>What I get</p>\n<pre><code>SELECT p1_0.*, --just skipped fields\n    s1_0.id,\n    s1_0.name\nFROM\n    payment p1_0\nJOIN payment_status s1_0 ON\n    s1_0.id = p1_0.status_id\n    s1_0.name IN(?,?)\n\nselect id from payment_status where id =? for update skip locked\nselect id from payment where id =? for update skip locked\n</code></pre>\n<p>I've added <code>org.hibernate.lockMode.ps</code> hint according to <a href=\"https://stackoverflow.com/a/63842764/5995606\">this</a> answer but nothing changed.\nAlso, I've already tested with <code>nativeQuery = true</code> and everything works fine. But I don't want to use this approach due to possible compatibility issues.</p>\n<p>Are there any ways to make <code>FOR UPDATE OF</code> work in Hibernate without writing native queries?</p>\n<p>Thank you in advance.</p>\n<p><strong>UPD1</strong></p>\n<p>Entity declarations</p>\n<pre><code>@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@DynamicUpdate\n@DynamicInsert\n@EqualsAndHashCode\n@Table(name = &quot;payment&quot;, schema = &quot;xxx&quot;)\n@ToString\npublic class Payment implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n    \n    /* column definitions */\n    \n    @ManyToOne\n    @JoinColumn(name = &quot;status_id&quot;, referencedColumnName = &quot;id&quot;, nullable = true)\n    private PaymentStatus status;\n}\n\n@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@DynamicUpdate\n@DynamicInsert\n@EqualsAndHashCode\n@Table(name = &quot;payment_status&quot;, schema = &quot;xxx&quot;)\n@ToString\npublic class PaymentStatus implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n}\n</code></pre>\n"},{"tags":["java","list","arraylist","java-20"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1688167781,"post_id":76592664,"comment_id":135042598,"body_markdown":"You declare local variables (since they are inside a method), they can&#39;t be `static` or have access modifiers. You seem to want to define fields (those are inside classes, but outside of their methods).","body":"You declare local variables (since they are inside a method), they can&#39;t be <code>static</code> or have access modifiers. You seem to want to define fields (those are inside classes, but outside of their methods)."},{"owner":{"account_id":16912818,"reputation":1,"user_id":12231492,"display_name":"Joey Tat&#250;"},"score":0,"creation_date":1688168635,"post_id":76592664,"comment_id":135042662,"body_markdown":"@JoachimSauer Yup. I see it now. D&#39;oh! Just need someone to say it to me to make me realise. The ArrayLists are meant to be declared above the PSVM. Thanks. I feel so silly. Also, I would like to point out it&#39;s 12:43am. Yup, I&#39;m going to take a break. Thanks again.","body":"@JoachimSauer Yup. I see it now. D&#39;oh! Just need someone to say it to me to make me realise. The ArrayLists are meant to be declared above the PSVM. Thanks. I feel so silly. Also, I would like to point out it&#39;s 12:43am. Yup, I&#39;m going to take a break. Thanks again."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1688171132,"post_id":76592664,"comment_id":135042834,"body_markdown":"In that case, please consider deleting the question.","body":"In that case, please consider deleting the question."}],"owner":{"account_id":16912818,"reputation":1,"user_id":12231492,"display_name":"Joey Tat&#250;"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1688172146,"answer_count":0,"score":0,"last_activity_date":1688172211,"creation_date":1688166997,"question_id":76592664,"body_markdown":"I&#39;m trying to follow a YouTube tutorial on creating a TicTacToe game.\r\n\r\nI&#39;m following along, and the instructions and I&#39;m trying to create the `playerPositions` and `computerPositions` as ArrayLists. These need to be public/global/static so methods can read them. But if I try to add &quot;public&quot;, &quot;static&quot;, &quot;protected&quot;, etc in front of the ArrayList, it provides an error and suggests I remove the &quot;public&quot;, etc.\r\n\r\nI think this is an error specifically for Java 17 to Java 20. Other versions don&#39;t seem to have this error. \r\n\r\nI&#39;ve indicated where the ArrayLists are declared and where they&#39;re used.\r\n\r\n    package youtube.alexlee;\r\n    \r\n    import java.util.*;\r\n    \r\n    public class TicTacToe {\r\n        public static void main(String[] args) {\r\n            \r\n            // ***** \r\n            ArrayList&lt;Integer&gt; playerPositions = new ArrayList&lt;Integer&gt;();\r\n            ArrayList&lt;Integer&gt; computerPositions = new ArrayList&lt;Integer&gt;();\r\n    \r\n            char[][] gameBoard = {\r\n                    {&#39;1&#39;, &#39;|&#39;, &#39;2&#39;, &#39;|&#39;, &#39;3&#39; },\r\n                    {&#39;-&#39;, &#39;+&#39;, &#39;-&#39;, &#39;+&#39;, &#39;-&#39; },\r\n                    {&#39;4&#39;, &#39;|&#39;, &#39;5&#39;, &#39;|&#39;, &#39;6&#39; },\r\n                    {&#39;-&#39;, &#39;+&#39;, &#39;-&#39;, &#39;+&#39;, &#39;-&#39; },\r\n                    {&#39;7&#39;, &#39;|&#39;, &#39;8&#39;, &#39;|&#39;, &#39;9&#39; }\r\n            };\r\n    \r\n            while (true) {\r\n                Scanner scan = new Scanner(System.in);\r\n                System.out.println(&quot;Enter number (1-9) to place marker.&quot;);\r\n                int playerPos = scan.nextInt();\r\n                System.out.println(&quot;You selected: &quot; + playerPos);\r\n                placePiece(gameBoard, playerPos, &quot;player&quot;);\r\n    \r\n                Random rand = new Random();\r\n                int compPos = rand.nextInt(9) + 1;\r\n                placePiece(gameBoard, compPos, &quot;computer&quot;);\r\n                System.out.println(&quot;Computer selected: &quot; + compPos);\r\n    \r\n                printGameBoard(gameBoard);\r\n    \r\n                String winning = checkWinner();\r\n                System.out.println(winning);\r\n                if (winning.equals(&quot;Congratulations, you win!&quot;) || winning.equals(&quot;Sorry! Computer wins!&quot;)){\r\n                    System.exit(0);\r\n                }\r\n            }\r\n        }\r\n    \r\n        private static void placePiece(char[][] gameBoard, int pos, String user) {\r\n    \r\n            char symbol = &#39; &#39;;\r\n    \r\n            if (user.equals(&quot;player&quot;)) {\r\n                symbol = &#39;X&#39;;\r\n                // ***** \r\n                playerPositions.add(pos);\r\n            } else if (user.equals(&quot;computer&quot;)) {\r\n                symbol = &#39;O&#39;;\r\n                // ***** \r\n                computerPositions.add(pos);\r\n            }\r\n    \r\n            switch (pos) {\r\n                case 1 -&gt; gameBoard[0][0] = symbol;\r\n                case 2 -&gt; gameBoard[0][2] = symbol;\r\n                case 3 -&gt; gameBoard[0][4] = symbol;\r\n                case 4 -&gt; gameBoard[2][0] = symbol;\r\n                case 5 -&gt; gameBoard[2][2] = symbol;\r\n                case 6 -&gt; gameBoard[2][4] = symbol;\r\n                case 7 -&gt; gameBoard[4][0] = symbol;\r\n                case 8 -&gt; gameBoard[4][2] = symbol;\r\n                case 9 -&gt; gameBoard[4][4] = symbol;\r\n            }\r\n        }\r\n    \r\n        private static void printGameBoard(char[][] gameBoard) {\r\n            for (char[] row : gameBoard) {\r\n                for (char c : row) {\r\n                    System.out.print(c);\r\n                }\r\n                System.out.println();\r\n            }\r\n        }\r\n    \r\n        public static String checkWinner() {\r\n            List&lt;Integer&gt; topRow = Arrays.asList(1, 2, 3);\r\n            List&lt;Integer&gt; middleRow = Arrays.asList(4, 5, 6);\r\n            List&lt;Integer&gt; bottomRow = Arrays.asList(7, 8, 9);\r\n    \r\n            List&lt;Integer&gt; leftCol = Arrays.asList(1, 4, 7);\r\n            List&lt;Integer&gt; middleCol = Arrays.asList(2, 5, 8);\r\n            List&lt;Integer&gt; rightCol = Arrays.asList(3, 6, 9);\r\n    \r\n            List&lt;Integer&gt; cross1 = Arrays.asList(1, 5, 9);\r\n            List&lt;Integer&gt; cross2 = Arrays.asList(7, 5, 3);\r\n    \r\n            List&lt;List&gt; winningConditions = new ArrayList&lt;List&gt;();\r\n            winningConditions.add(topRow);\r\n            winningConditions.add(middleRow);\r\n            winningConditions.add(bottomRow);\r\n    \r\n            winningConditions.add(leftCol);\r\n            winningConditions.add(middleCol);\r\n            winningConditions.add(rightCol);\r\n    \r\n            winningConditions.add(cross1);\r\n            winningConditions.add(cross2);\r\n    \r\n            for (List l : winningConditions){\r\n                // ***** \r\n                if(playerPositions.containsAll(l)){\r\n                    return &quot;Congratulations, you win!&quot;;\r\n                }\r\n                // ***** \r\n                else if(computerPositions.contains(l)){\r\n                    return &quot;Sorry! Computer wins!&quot;;\r\n                }\r\n                // ***** \r\n                else if(playerPositions.size() + computerPositions.size() == 9){\r\n                    return &quot;It&#39;s a tie!&quot;;\r\n                }\r\n            }\r\n    \r\n            return &quot;&quot;;\r\n        }\r\n    }\r\n\r\n\r\nI expected to use `static` as (e.g.) `static ArrayList&lt;Integer&gt; playerPositions = new ArrayList&lt;Integer&gt;();` but it results in an error. I also tried `public static` and `protected static` among other combinations. ","title":"Java 20: Unable to declare a global variable with &quot;static&quot;","body":"<p>I'm trying to follow a YouTube tutorial on creating a TicTacToe game.</p>\n<p>I'm following along, and the instructions and I'm trying to create the <code>playerPositions</code> and <code>computerPositions</code> as ArrayLists. These need to be public/global/static so methods can read them. But if I try to add &quot;public&quot;, &quot;static&quot;, &quot;protected&quot;, etc in front of the ArrayList, it provides an error and suggests I remove the &quot;public&quot;, etc.</p>\n<p>I think this is an error specifically for Java 17 to Java 20. Other versions don't seem to have this error.</p>\n<p>I've indicated where the ArrayLists are declared and where they're used.</p>\n<pre><code>package youtube.alexlee;\n\nimport java.util.*;\n\npublic class TicTacToe {\n    public static void main(String[] args) {\n        \n        // ***** \n        ArrayList&lt;Integer&gt; playerPositions = new ArrayList&lt;Integer&gt;();\n        ArrayList&lt;Integer&gt; computerPositions = new ArrayList&lt;Integer&gt;();\n\n        char[][] gameBoard = {\n                {'1', '|', '2', '|', '3' },\n                {'-', '+', '-', '+', '-' },\n                {'4', '|', '5', '|', '6' },\n                {'-', '+', '-', '+', '-' },\n                {'7', '|', '8', '|', '9' }\n        };\n\n        while (true) {\n            Scanner scan = new Scanner(System.in);\n            System.out.println(&quot;Enter number (1-9) to place marker.&quot;);\n            int playerPos = scan.nextInt();\n            System.out.println(&quot;You selected: &quot; + playerPos);\n            placePiece(gameBoard, playerPos, &quot;player&quot;);\n\n            Random rand = new Random();\n            int compPos = rand.nextInt(9) + 1;\n            placePiece(gameBoard, compPos, &quot;computer&quot;);\n            System.out.println(&quot;Computer selected: &quot; + compPos);\n\n            printGameBoard(gameBoard);\n\n            String winning = checkWinner();\n            System.out.println(winning);\n            if (winning.equals(&quot;Congratulations, you win!&quot;) || winning.equals(&quot;Sorry! Computer wins!&quot;)){\n                System.exit(0);\n            }\n        }\n    }\n\n    private static void placePiece(char[][] gameBoard, int pos, String user) {\n\n        char symbol = ' ';\n\n        if (user.equals(&quot;player&quot;)) {\n            symbol = 'X';\n            // ***** \n            playerPositions.add(pos);\n        } else if (user.equals(&quot;computer&quot;)) {\n            symbol = 'O';\n            // ***** \n            computerPositions.add(pos);\n        }\n\n        switch (pos) {\n            case 1 -&gt; gameBoard[0][0] = symbol;\n            case 2 -&gt; gameBoard[0][2] = symbol;\n            case 3 -&gt; gameBoard[0][4] = symbol;\n            case 4 -&gt; gameBoard[2][0] = symbol;\n            case 5 -&gt; gameBoard[2][2] = symbol;\n            case 6 -&gt; gameBoard[2][4] = symbol;\n            case 7 -&gt; gameBoard[4][0] = symbol;\n            case 8 -&gt; gameBoard[4][2] = symbol;\n            case 9 -&gt; gameBoard[4][4] = symbol;\n        }\n    }\n\n    private static void printGameBoard(char[][] gameBoard) {\n        for (char[] row : gameBoard) {\n            for (char c : row) {\n                System.out.print(c);\n            }\n            System.out.println();\n        }\n    }\n\n    public static String checkWinner() {\n        List&lt;Integer&gt; topRow = Arrays.asList(1, 2, 3);\n        List&lt;Integer&gt; middleRow = Arrays.asList(4, 5, 6);\n        List&lt;Integer&gt; bottomRow = Arrays.asList(7, 8, 9);\n\n        List&lt;Integer&gt; leftCol = Arrays.asList(1, 4, 7);\n        List&lt;Integer&gt; middleCol = Arrays.asList(2, 5, 8);\n        List&lt;Integer&gt; rightCol = Arrays.asList(3, 6, 9);\n\n        List&lt;Integer&gt; cross1 = Arrays.asList(1, 5, 9);\n        List&lt;Integer&gt; cross2 = Arrays.asList(7, 5, 3);\n\n        List&lt;List&gt; winningConditions = new ArrayList&lt;List&gt;();\n        winningConditions.add(topRow);\n        winningConditions.add(middleRow);\n        winningConditions.add(bottomRow);\n\n        winningConditions.add(leftCol);\n        winningConditions.add(middleCol);\n        winningConditions.add(rightCol);\n\n        winningConditions.add(cross1);\n        winningConditions.add(cross2);\n\n        for (List l : winningConditions){\n            // ***** \n            if(playerPositions.containsAll(l)){\n                return &quot;Congratulations, you win!&quot;;\n            }\n            // ***** \n            else if(computerPositions.contains(l)){\n                return &quot;Sorry! Computer wins!&quot;;\n            }\n            // ***** \n            else if(playerPositions.size() + computerPositions.size() == 9){\n                return &quot;It's a tie!&quot;;\n            }\n        }\n\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n<p>I expected to use <code>static</code> as (e.g.) <code>static ArrayList&lt;Integer&gt; playerPositions = new ArrayList&lt;Integer&gt;();</code> but it results in an error. I also tried <code>public static</code> and <code>protected static</code> among other combinations.</p>\n"},{"tags":["java","selenium-webdriver","selenium-java"],"comments":[{"owner":{"account_id":1856464,"reputation":514,"user_id":1681917,"accept_rate":100,"display_name":"Ahamed Abdul Rahman"},"score":0,"creation_date":1688179141,"post_id":76592810,"comment_id":135043246,"body_markdown":"You mean to say, the element is not accessible? Is it throwing NoSuchElementException? If no exception is thrown, did you try clicking via Actions class?","body":"You mean to say, the element is not accessible? Is it throwing NoSuchElementException? If no exception is thrown, did you try clicking via Actions class?"}],"owner":{"account_id":25375740,"reputation":1,"user_id":21056069,"display_name":"Andr&#233; Belforte"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688170797,"creation_date":1688170435,"question_id":76592810,"body_markdown":"[enter image description here](https://i.stack.imgur.com/2PeZH.png)\r\n\r\ndriver.findElement(By.xpath(&quot;//*[@id=\\&quot;myModal\\&quot;]/div/div/div[2]/div/div[1]/div/div/div/div[1]/input&quot;)).sendKeys(&quot;Andre Felipe&quot;);\r\n\r\n\r\nI use the code above to fill in the field but it stays fixed. I&#39;ve tried simulating a click and enter and it didn&#39;t work.\r\n\r\nI tried to simulate a click and Enter and it didn&#39;t work.Selenium managed to type but I couldn&#39;t find a way to fix the data in the form field.","title":"How to use Selenium to fill a form field - input vs__search","body":"<p><a href=\"https://i.stack.imgur.com/2PeZH.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>driver.findElement(By.xpath(&quot;//*[@id=&quot;myModal&quot;]/div/div/div[2]/div/div[1]/div/div/div/div[1]/input&quot;)).sendKeys(&quot;Andre Felipe&quot;);</p>\n<p>I use the code above to fill in the field but it stays fixed. I've tried simulating a click and enter and it didn't work.</p>\n<p>I tried to simulate a click and Enter and it didn't work.Selenium managed to type but I couldn't find a way to fix the data in the form field.</p>\n"},{"tags":["java","dependency-management"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1688172872,"post_id":76592737,"comment_id":135042912,"body_markdown":"If the libraries are built &quot;correctly&quot;, then the implementation JARs will not contain the API classes, thus the API JARs are still required at run-time.","body":"If the libraries are built &quot;correctly&quot;, then the implementation JARs will not contain the API classes, thus the API JARs are still required at run-time."},{"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"score":0,"creation_date":1688240325,"post_id":76592737,"comment_id":135048508,"body_markdown":"@Slaw That means do you mean that here slf4j and jakarta-mail/activation libraries are not built correctly?","body":"@Slaw That means do you mean that here slf4j and jakarta-mail/activation libraries are not built correctly?"},{"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"score":0,"creation_date":1688240458,"post_id":76592737,"comment_id":135048527,"body_markdown":"@Slaw because I have observed and also read on web that jakarta-mail and jakarta-activation implementation JARs also has API classes. And about slf4j-simple they say if it is in your class path then no need to have it&#39;s API until you do not have any other logging mechanism than slf4j","body":"@Slaw because I have observed and also read on web that jakarta-mail and jakarta-activation implementation JARs also has API classes. And about slf4j-simple they say if it is in your class path then no need to have it&#39;s API until you do not have any other logging mechanism than slf4j"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1688241941,"post_id":76592737,"comment_id":135048667,"body_markdown":"`slf4j-api` is a transitive dependency of `slf4j-simple`, so yes, you can simply declare a dependency on the latter only, and the former will be implicitly pulled in. However, the `slf4j-api` classes are not contained in the `slf4j-simple` JAR. And those classes are needed at run-time, so you need the `slf4j-api` JAR on the run-time class-path/module-path. I don&#39;t know for sure how Jakarta Mail is organized, but I&#39;d suspect something similar.","body":"<code>slf4j-api</code> is a transitive dependency of <code>slf4j-simple</code>, so yes, you can simply declare a dependency on the latter only, and the former will be implicitly pulled in. However, the <code>slf4j-api</code> classes are not contained in the <code>slf4j-simple</code> JAR. And those classes are needed at run-time, so you need the <code>slf4j-api</code> JAR on the run-time class-path/module-path. I don&#39;t know for sure how Jakarta Mail is organized, but I&#39;d suspect something similar."}],"answers":[{"tags":[],"owner":{"account_id":353069,"reputation":7200,"user_id":690553,"accept_rate":76,"display_name":"Amir Pashazadeh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688170788,"creation_date":1688170788,"answer_id":76592819,"question_id":76592737,"body_markdown":"Try not to do it, not all implementation packages contain APIs too. If you **exclude** such dependency, your will encounter class-loader errors on runtime.\r\n\r\nBesides try to have `implementation` dependency on APIs and `runtimeOnly` dependency on implementations. This way the compiler enforces you just using APIs and not implementations (which are usually lead to vendor-lock-in and version-lock-ins).\r\n\r\n","title":"Does API JARs are required at runtime?","body":"<p>Try not to do it, not all implementation packages contain APIs too. If you <strong>exclude</strong> such dependency, your will encounter class-loader errors on runtime.</p>\n<p>Besides try to have <code>implementation</code> dependency on APIs and <code>runtimeOnly</code> dependency on implementations. This way the compiler enforces you just using APIs and not implementations (which are usually lead to vendor-lock-in and version-lock-ins).</p>\n"}],"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688170788,"creation_date":1688168491,"question_id":76592737,"body_markdown":"In my one of the project I am using slf4j-simple and simple-java-mail with some other dependencies. When I see `Gradle runtimeClasspath` (also added screenshot below) in IntelliJ then I see that slf4j-api, jakarta-mail-api and jakarta-activation-api is also part of runtime along with it&#39;s actual implementation JARs like slf4j-simple, jakarta-mail and jakarta-activation respectively. It is also seen that slf4j-simple also delivers slf4j-api even though that is a compile time dependency. \r\n\r\n[![enter image description here](https://i.stack.imgur.com/jgVNx.png)](https://i.stack.imgur.com/jgVNx.png)\r\n\r\n\r\n\r\nIs it safe to remove all API JARs manually by mentioning `exclusion` in my project&#39;s build.gradle file? Can we consider that always any API jar should not be part of runtime ? \r\n\r\nCan anyone also give specification about this for each of above mentioned libraries ?","title":"Does API JARs are required at runtime?","body":"<p>In my one of the project I am using slf4j-simple and simple-java-mail with some other dependencies. When I see <code>Gradle runtimeClasspath</code> (also added screenshot below) in IntelliJ then I see that slf4j-api, jakarta-mail-api and jakarta-activation-api is also part of runtime along with it's actual implementation JARs like slf4j-simple, jakarta-mail and jakarta-activation respectively. It is also seen that slf4j-simple also delivers slf4j-api even though that is a compile time dependency.</p>\n<p><a href=\"https://i.stack.imgur.com/jgVNx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jgVNx.png\" alt=\"enter image description here\" /></a></p>\n<p>Is it safe to remove all API JARs manually by mentioning <code>exclusion</code> in my project's build.gradle file? Can we consider that always any API jar should not be part of runtime ?</p>\n<p>Can anyone also give specification about this for each of above mentioned libraries ?</p>\n"},{"tags":["java"],"owner":{"account_id":27866300,"reputation":13,"user_id":21277722,"display_name":"kanishka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688168893,"creation_date":1688168893,"question_id":76592751,"body_markdown":"I am trying to add an USB event listener using javaX. I used following code to implement the listener. \r\n\r\n    import javax.usb.*;\r\n    import javax.usb.event.*;\r\n    \r\n    public class USBEventListener implements UsbServicesListener {\r\n    \r\n        private final WinController controller;\r\n        private UsbServices usbServices;\r\n    \r\n    \r\n        public USBEventListener(WinController _controller){\r\n    \r\n            controller = _controller;\r\n            try {\r\n                usbServices = UsbHostManager.getUsbServices();\r\n                usbServices.addUsbServicesListener(this);\r\n            } catch (UsbException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void usbDeviceAttached(UsbServicesEvent usbServicesEvent) {\r\n    \r\n            controller.readUSBDevices();\r\n            System.out.println(&quot;Device Connected&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void usbDeviceDetached(UsbServicesEvent usbServicesEvent) {\r\n    \r\n            controller.readUSBDevices();\r\n            System.out.println(&quot;Device Detached&quot;);\r\n    \r\n        }\r\n    }\r\n\r\nHowever when tried to use it, I get a usb exception and the traceback is as below:\r\n\r\n    javax.usb.UsbException: The UsbServices implementation class \r\n\r\n    org.usb4java.javax.Services was not found : org.usb4java.javax.Services\r\n    \tat usb.api@1.0.2/javax.usb.UsbHostManager.createUsbServices(Unknown Source)\r\n    \tat usb.api@1.0.2/javax.usb.UsbHostManager.getUsbServices(Unknown Source)\r\n    \tat com.kanishkawithanawasam.winboot.winboot/com.kanishkawithanawasam.winboot.winboot.config.USBEventListener.&lt;init&gt;(USBEventListener.java:17)\r\n    \tat com.kanishkawithanawasam.winboot.winboot/com.kanishkawithanawasam.winboot.winboot.config.WinController.start(WinController.java:37)\r\n    \tat com.kanishkawithanawasam.winboot.winboot/com.kanishkawithanawasam.winboot.winboot.WinBootMain.start(WinBootMain.java:21)\r\n    \tat javafx.graphics@20/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:839)\r\n    \tat javafx.graphics@20/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:483)\r\n    \tat javafx.graphics@20/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\r\n    \tat javafx.graphics@20/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455)\r\n    \tat javafx.graphics@20/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\r\n\r\nFurther information:\r\n\r\n - JDK: OpenJDK 20.0.1\r\n - JavaX version 1.0.2\r\n - Platform: MacOS Ventura 13.4.1 (22F82)\r\n\r\n\r\nPlease can someone help me to solve this Issue? I tried searching on the internet and the documentation but could not find a solution.","title":"How to fix Java org.usb4java.javax.Services was not found error?","body":"<p>I am trying to add an USB event listener using javaX. I used following code to implement the listener.</p>\n<pre><code>import javax.usb.*;\nimport javax.usb.event.*;\n\npublic class USBEventListener implements UsbServicesListener {\n\n    private final WinController controller;\n    private UsbServices usbServices;\n\n\n    public USBEventListener(WinController _controller){\n\n        controller = _controller;\n        try {\n            usbServices = UsbHostManager.getUsbServices();\n            usbServices.addUsbServicesListener(this);\n        } catch (UsbException e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    public void usbDeviceAttached(UsbServicesEvent usbServicesEvent) {\n\n        controller.readUSBDevices();\n        System.out.println(&quot;Device Connected&quot;);\n    }\n\n    @Override\n    public void usbDeviceDetached(UsbServicesEvent usbServicesEvent) {\n\n        controller.readUSBDevices();\n        System.out.println(&quot;Device Detached&quot;);\n\n    }\n}\n</code></pre>\n<p>However when tried to use it, I get a usb exception and the traceback is as below:</p>\n<pre><code>javax.usb.UsbException: The UsbServices implementation class \n\norg.usb4java.javax.Services was not found : org.usb4java.javax.Services\n    at usb.api@1.0.2/javax.usb.UsbHostManager.createUsbServices(Unknown Source)\n    at usb.api@1.0.2/javax.usb.UsbHostManager.getUsbServices(Unknown Source)\n    at com.kanishkawithanawasam.winboot.winboot/com.kanishkawithanawasam.winboot.winboot.config.USBEventListener.&lt;init&gt;(USBEventListener.java:17)\n    at com.kanishkawithanawasam.winboot.winboot/com.kanishkawithanawasam.winboot.winboot.config.WinController.start(WinController.java:37)\n    at com.kanishkawithanawasam.winboot.winboot/com.kanishkawithanawasam.winboot.winboot.WinBootMain.start(WinBootMain.java:21)\n    at javafx.graphics@20/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:839)\n    at javafx.graphics@20/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:483)\n    at javafx.graphics@20/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\n    at javafx.graphics@20/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455)\n    at javafx.graphics@20/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\n</code></pre>\n<p>Further information:</p>\n<ul>\n<li>JDK: OpenJDK 20.0.1</li>\n<li>JavaX version 1.0.2</li>\n<li>Platform: MacOS Ventura 13.4.1 (22F82)</li>\n</ul>\n<p>Please can someone help me to solve this Issue? I tried searching on the internet and the documentation but could not find a solution.</p>\n"},{"tags":["java","hibernate","hibernate-mapping"],"answers":[{"tags":[],"owner":{"account_id":11038736,"reputation":1112,"user_id":8107504,"display_name":"Parth Manaktala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688168659,"creation_date":1687555495,"answer_id":76543554,"question_id":76492679,"body_markdown":"You have the following options here, \r\n\r\n&lt;h1&gt; Option 1 &lt;/h1&gt;\r\n\r\nUse JPQL something like this\r\n\r\n    @Query(&quot;&quot;&quot;\r\n          SELECT new com.package.entity.ClassName(p.children)\r\n          FROM Parent p\r\n          WHERE p.id = :parentId\r\n          &quot;&quot;&quot;)\r\n\r\nMake sure that the constructer you are using exists in the class, \r\n\r\n&lt;h1&gt; Option 2 &lt;/h1&gt;\r\n\r\nUse a @NamedNativeQuery instead of normal @Query\r\n\r\nFor Example: \r\nEntity Class:\r\n\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Data\r\n    @Entity\r\n    @SqlResultSetMapping(\r\n            name = &quot;userEntityMapping&quot;,\r\n            classes = {\r\n                    @ConstructorResult(\r\n                            targetClass = StatsDTO.class,\r\n                            columns = {\r\n                                    @ColumnResult(name = &quot;campId&quot;, type = Integer.class),\r\n                                    @ColumnResult(name = &quot;userCount&quot;, type = Byte.class),\r\n                                    @ColumnResult(name = &quot;modifiedAt&quot;, type = Instant.class)\r\n                            }\r\n                    )\r\n            }\r\n    )\r\n    @NamedNativeQuery(\r\n            name = &quot;UserEntity.getStatsDTO&quot;,\r\n            query = &quot;YOUR_QUERY&quot;,\r\n            resultSetMapping = &quot;userEntityMapping&quot;\r\n    )\r\n    @Table(name = &quot;user_campaign_objective&quot;)\r\n    public class UserEntity implements Serializable {\r\n        private static final long serialVersionUID = 1224483473794225719L;\r\n    \r\n        @Id\r\n        @Column(name = &quot;campaign_id&quot;)\r\n        private BigInteger campId;\r\n    }\r\n\r\nRepository Class:\r\n\r\n    public interface UserRepository extends CrudRepository&lt;UserEntity, Long&gt; {\r\n        @Query(nativeQuery = true)\r\n        List&lt;StatsDTO&gt; getStatsDTO(Long campId);\r\n    }\r\n\r\n\r\n&lt;h1&gt; Option 3 &lt;/h1&gt;\r\n\r\nUse Projection Interface\r\n\r\n    public interface QueryResponse {\r\n        String getColumn1();\r\n        Byte getColumn2();\r\n        Integer getColumn3();\r\n    }\r\n\r\nMake sure the column names are exact in the getters\r\n","title":"Query for JSON mapped field in isolation using hibernate","body":"<p>You have the following options here,</p>\n<h1> Option 1 </h1>\n<p>Use JPQL something like this</p>\n<pre><code>@Query(&quot;&quot;&quot;\n      SELECT new com.package.entity.ClassName(p.children)\n      FROM Parent p\n      WHERE p.id = :parentId\n      &quot;&quot;&quot;)\n</code></pre>\n<p>Make sure that the constructer you are using exists in the class,</p>\n<h1> Option 2 </h1>\n<p>Use a @NamedNativeQuery instead of normal @Query</p>\n<p>For Example:\nEntity Class:</p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Data\n@Entity\n@SqlResultSetMapping(\n        name = &quot;userEntityMapping&quot;,\n        classes = {\n                @ConstructorResult(\n                        targetClass = StatsDTO.class,\n                        columns = {\n                                @ColumnResult(name = &quot;campId&quot;, type = Integer.class),\n                                @ColumnResult(name = &quot;userCount&quot;, type = Byte.class),\n                                @ColumnResult(name = &quot;modifiedAt&quot;, type = Instant.class)\n                        }\n                )\n        }\n)\n@NamedNativeQuery(\n        name = &quot;UserEntity.getStatsDTO&quot;,\n        query = &quot;YOUR_QUERY&quot;,\n        resultSetMapping = &quot;userEntityMapping&quot;\n)\n@Table(name = &quot;user_campaign_objective&quot;)\npublic class UserEntity implements Serializable {\n    private static final long serialVersionUID = 1224483473794225719L;\n\n    @Id\n    @Column(name = &quot;campaign_id&quot;)\n    private BigInteger campId;\n}\n</code></pre>\n<p>Repository Class:</p>\n<pre><code>public interface UserRepository extends CrudRepository&lt;UserEntity, Long&gt; {\n    @Query(nativeQuery = true)\n    List&lt;StatsDTO&gt; getStatsDTO(Long campId);\n}\n</code></pre>\n<h1> Option 3 </h1>\n<p>Use Projection Interface</p>\n<pre><code>public interface QueryResponse {\n    String getColumn1();\n    Byte getColumn2();\n    Integer getColumn3();\n}\n</code></pre>\n<p>Make sure the column names are exact in the getters</p>\n"}],"owner":{"account_id":24111,"reputation":1133,"user_id":61104,"accept_rate":85,"display_name":"Kevin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76543554,"answer_count":1,"score":0,"last_activity_date":1688168659,"creation_date":1686939020,"question_id":76492679,"body_markdown":"I have a `Hibernate` entity with a field that maps to a `jsonb` column. I can store and retrieve it using a `Repository` easily if I operate on the entire object:\r\n\r\n```java\r\n@Entity\r\npublic class Parent {\r\n...\r\n  @Column(name = &quot;children&quot;, nullable = false, columnDefinition = &quot;JSONB&quot;)\r\n  @Type(JsonType.class)\r\n  List&lt;Child&gt; children;\r\n...\r\n```\r\n\r\nI would like to add a `Repository` method to load that column in isolation. I have tried:\r\n\r\n```java\r\n\r\n  @Query(&quot;&quot;&quot;\r\n      SELECT p.children\r\n      FROM Parent p\r\n      WHERE p.id = :parentId\r\n      &quot;&quot;&quot;)\r\n  List&lt;Child&gt; getChildren(@Param(&quot;parentId&quot;) long parentId);\r\n```\r\n\r\nThat gives me the error:\r\n\r\n```\r\norg.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [org.springframework.data.jpa.repository.query.AbstractJpaQuery$TupleConverter$TupleBackedMap] to type [com.example.Child]\r\n\tat org.springframework.core.convert.support.GenericConversionService.handleConverterNotFound(GenericConversionService.java:322)\r\n\tat org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:195)\r\n\tat org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:175)\r\n...\r\n```\r\n\r\nThe converter must exist in my project because I can load the `Parent` class as a whole, and the `List&lt;Child&gt;` is there. How can I re-use that to allow me to load this column in isolation?","title":"Query for JSON mapped field in isolation using hibernate","body":"<p>I have a <code>Hibernate</code> entity with a field that maps to a <code>jsonb</code> column. I can store and retrieve it using a <code>Repository</code> easily if I operate on the entire object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Parent {\n...\n  @Column(name = &quot;children&quot;, nullable = false, columnDefinition = &quot;JSONB&quot;)\n  @Type(JsonType.class)\n  List&lt;Child&gt; children;\n...\n</code></pre>\n<p>I would like to add a <code>Repository</code> method to load that column in isolation. I have tried:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n  @Query(&quot;&quot;&quot;\n      SELECT p.children\n      FROM Parent p\n      WHERE p.id = :parentId\n      &quot;&quot;&quot;)\n  List&lt;Child&gt; getChildren(@Param(&quot;parentId&quot;) long parentId);\n</code></pre>\n<p>That gives me the error:</p>\n<pre><code>org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [org.springframework.data.jpa.repository.query.AbstractJpaQuery$TupleConverter$TupleBackedMap] to type [com.example.Child]\n    at org.springframework.core.convert.support.GenericConversionService.handleConverterNotFound(GenericConversionService.java:322)\n    at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:195)\n    at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:175)\n...\n</code></pre>\n<p>The converter must exist in my project because I can load the <code>Parent</code> class as a whole, and the <code>List&lt;Child&gt;</code> is there. How can I re-use that to allow me to load this column in isolation?</p>\n"},{"tags":["java","tcp","p2p"],"owner":{"account_id":25555881,"reputation":29,"user_id":19339443,"display_name":"small_potato"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688165806,"creation_date":1688165806,"question_id":76592613,"body_markdown":"So on this project I need to transfer the file from one client to another in java. This has a menu, where if you type DOWNLOAD and some other things the process will start. But it seems I&#39;m stuck on the other client waiting for a command from the console, and even when I do type it it only stays on the while=true part. This is the code in question for the client.\r\n\r\n```\r\npackage napster;\r\n\r\nimport java.io.*;\r\nimport java.net.*;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\nimport java.rmi.NotBoundException;\r\nimport java.rmi.registry.LocateRegistry;\r\nimport java.rmi.registry.Registry;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class TPCCliente {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        try {\r\n            String serverHost = &quot;localhost&quot;; // Endere&#231;o do servidor RMI -&gt; &quot;127.0.0.1&quot;\r\n            int serverPort = 1099; // Porta do servidor RMI\r\n\r\n            // Obt&#233;m uma refer&#234;ncia para o registro RMI no servidor\r\n            Registry registry = LocateRegistry.getRegistry(serverHost, serverPort);\r\n\r\n            // Obt&#233;m a refer&#234;ncia para o objeto remoto do servidor\r\n            napster.JoinService clientJOIN = (napster.JoinService) registry.lookup(&quot;JoinService&quot;);\r\n            napster.SearchService clientSEARCH = (napster.SearchService) registry.lookup(&quot;SearchService&quot;);\r\n            napster.UpdateService clientUPDATE = (napster.UpdateService) registry.lookup(&quot;UpdateService&quot;);\r\n\r\n            // Dados do cliente\r\n            InetAddress enderecoIP = InetAddress.getLocalHost();  // IP\r\n            String peerIP = enderecoIP.getHostAddress();\r\n\r\n            ServerSocket serverSocket = new ServerSocket(0);   // PORTA\r\n            int peerPort = serverSocket.getLocalPort();\r\n\r\n            // lista dos arquivos da pasta, l&#243;gica abaixo\r\n            List&lt;String&gt; nomesArquivos = listarArquivosNaPasta(&quot;C:\\\\Users\\\\Helena\\\\Documents\\\\projeto napster\\\\cliente1&quot;);\r\n            String pasta = &quot;C:\\\\Users\\\\Helena\\\\Documents\\\\projeto napster\\\\cliente1&quot;;\r\n\r\n            String nomesArquivosEM_STRING = String.join(&quot; &quot;, nomesArquivos);  // faz a lista virar uma &#250;nica string\r\n\r\n            // Chama o m&#233;todo JOIN no servidor (menu interativo)\r\n            System.out.println(&quot;Digite JOIN para se conectar ao servidor.&quot;);\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));  // cria inst&#226;ncia para ler o teclado\r\n            String chaveJOIN = reader.readLine();\r\n            while (!chaveJOIN.equals(&quot;JOIN&quot;)) {      // loop at&#233; que o join seja requisitado para o servidor\r\n                System.out.println(&quot;Digite JOIN para se conectar ao servidor.&quot;);\r\n                chaveJOIN = reader.readLine();\r\n            }\r\n            String juntar = clientJOIN.join(peerIP, peerPort, nomesArquivos);\r\n\r\n            // Processa a resposta do servidor\r\n            System.out.println(&quot;Resposta do servidor: &quot; + juntar);\r\n            System.out.println(&quot;Sou peer &quot; + peerIP + &quot;:&quot; + peerPort + &quot; com arquivos &quot; + nomesArquivosEM_STRING);\r\n\r\n            while (true) {\r\n                // todo l&#243;gica para os requests\r\n                System.out.println(&quot;Digite SEARCH para pesquisar arquivo, DOWNLOAD para baixar arquivo e UPDATE para atualizar o servidor&quot;);\r\n                BufferedReader input = new BufferedReader(new InputStreamReader(clientseederSocket.getInputStream()));\r\n                BufferedReader consoleInput = new BufferedReader(new InputStreamReader(System.in));\r\n\r\n// Verificar qual fonte de entrada est&#225; dispon&#237;vel primeiro\r\n                if (input.ready()) {\r\n                    // Ler do fluxo de entrada do socket\r\n                    String mensagem = input.readLine();\r\n                    // Processar a mensagem recebida do socket\r\n                    // ...\r\n                } else if (consoleInput.ready()) {\r\n                    // Ler do console\r\n                    String entradaConsole = consoleInput.readLine();\r\n                    // Processar a entrada do console\r\n                    // ...\r\n                }\r\n                String pedidoProServer = reader.readLine();\r\n                if (pedidoProServer.equals(&quot;SEARCH&quot;)) {\r\n                    System.out.println(&quot;Digite o nome do arquivo que deseja procurar.&quot;);\r\n                    String pesquisa = reader.readLine();\r\n                    String pesquisar = clientSEARCH.search(pesquisa);\r\n                    System.out.println(pesquisar);\r\n                } else if (pedidoProServer.equals(&quot;DOWNLOAD&quot;)) {\r\n\r\n                    System.out.println(&quot;Digite o clientkey de quem quiser baixar&quot;);\r\n                    String chaveCliente = reader.readLine();\r\n                    String[] partes = chaveCliente.split(&quot;:&quot;);  // divide a chave em suas partes\r\n                    String ClienteSeederIP = partes[0];\r\n                    int ClienteSeederPorta = Integer.parseInt(partes[1]);\r\n\r\n                    Socket seederSocket = new Socket(ClienteSeederIP, ClienteSeederPorta);\r\n                    DataOutputStream seederOutput = new DataOutputStream(seederSocket.getOutputStream());\r\n                    BufferedReader input = new BufferedReader(new InputStreamReader(seederSocket.getInputStream()));\r\n\r\n                    // Enviar mensagem de solicita&#231;&#227;o para o cliente seeder\r\n                    seederOutput.writeBytes(&quot;DOWNLOAD_REQUEST\\n&quot;);\r\n\r\n                    // Enviar o nome do arquivo que deseja baixar para o cliente seeder\r\n                    System.out.println(&quot;Digite o nome do arquivo que deseja baixar:&quot;);\r\n                    String nomeArquivoDownload = reader.readLine();\r\n                    seederOutput.writeBytes(nomeArquivoDownload + &quot;\\n&quot;);\r\n\r\n                    // Recebe resposta do cliente seeder\r\n                    BufferedReader seederResponse = new BufferedReader(new InputStreamReader(seederSocket.getInputStream()));\r\n                    String response = seederResponse.readLine();\r\n                    System.out.println(response);\r\n\r\n                    if (response.equals(&quot;DOWNLOAD_ACCEPTED&quot;)) {\r\n                        // Recebe o arquivo do cliente que possui o arquivo\r\n                        InputStream fileStream = seederSocket.getInputStream();\r\n                        String fileName = seederResponse.readLine();\r\n                        long fileSize = Long.parseLong(seederResponse.readLine());\r\n\r\n                        // Envia mensagem de confirma&#231;&#227;o para o ClienteSeeder\r\n                        Socket clientSeederSocket = serverSocket.accept();\r\n\r\n                        // Envia a mensagem de confirma&#231;&#227;o para o ClienteSeeder\r\n                        DataOutputStream clientSeederOutput = new DataOutputStream(clientSeederSocket.getOutputStream());\r\n                        clientSeederOutput.writeBytes(&quot;CONFIRMATION_REQUEST\\n&quot;);\r\n\r\n                        // Recebe a resposta do ClienteSeeder\r\n                        BufferedReader clientSeederResponse = new BufferedReader(new InputStreamReader(clientSeederSocket.getInputStream()));\r\n                        String clientSeederReply = clientSeederResponse.readLine();\r\n                        System.out.println(&quot;Resposta do ClienteSeeder: &quot; + clientSeederReply);\r\n\r\n                        // Se o ClienteSeeder aceitar a transfer&#234;ncia, inicie o processo de download\r\n                        if (clientSeederReply.equals(&quot;ACCEPT&quot;)) {\r\n                            FileOutputStream fileOutput = new FileOutputStream(pasta + &quot;\\\\&quot; + fileName);\r\n                            byte[] buffer = new byte[1024];\r\n                            int bytesRead;\r\n                            long totalBytesRead = 0;\r\n\r\n                            while ((bytesRead = fileStream.read(buffer)) != -1) {\r\n                                fileOutput.write(buffer, 0, bytesRead);\r\n                                totalBytesRead += bytesRead;\r\n\r\n                                if (totalBytesRead == fileSize) {\r\n                                    break;\r\n                                }\r\n                            }\r\n\r\n                            fileOutput.close();\r\n                            System.out.println(&quot;Download conclu&#237;do!&quot;);\r\n                        } else {\r\n                            System.out.println(&quot;Transfer&#234;ncia rejeitada pelo ClienteSeeder.&quot;);\r\n                        }\r\n\r\n                        // Fecha o socket do ClienteSeeder\r\n                        clientSeederSocket.close();\r\n                    }\r\n                } else if (pedidoProServer.equals(&quot;UPDATE&quot;)) {\r\n                    // atualiza lista de arquivos no servidor\r\n                    clientUPDATE.update(peerIP, peerPort, nomesArquivos);\r\n                    System.out.println(&quot;Arquivos atualizados no servidor!&quot;);\r\n                } else if (pedidoProServer.equals(&quot;DOWNLOAD_REQUEST&quot;)) {\r\n                    // Receber o nome do arquivo solicitado do cliente requisitante\r\n                    String nomeArquivoDownload = reader.readLine();\r\n\r\n                    // Verificar se o arquivo existe no diret&#243;rio do cliente seeder\r\n                    String caminhoArquivo = pasta + &quot;\\\\&quot; + nomeArquivoDownload;\r\n                    File arquivo = new File(caminhoArquivo);\r\n\r\n                    if (arquivo.exists()) {\r\n                        // Enviar resposta de aceita&#231;&#227;o para o cliente requisitante\r\n                        DataOutputStream clientOutput = new DataOutputStream(serverSocket.accept().getOutputStream());\r\n                        clientOutput.writeBytes(&quot;DOWNLOAD_ACCEPT\\n&quot;);\r\n\r\n                        // Enviar o nome do arquivo e o tamanho para o cliente requisitante\r\n                        clientOutput.writeBytes(nomeArquivoDownload + &quot;\\n&quot;);\r\n                    } else {\r\n                        // Enviar resposta de arquivo n&#227;o encontrado para o cliente requisitante\r\n                        DataOutputStream clientOutput = new DataOutputStream(serverSocket.accept().getOutputStream());\r\n                        clientOutput.writeBytes(&quot;FILE_NOT_FOUND\\n&quot;);\r\n                    }\r\n                }\r\n            }\r\n        } catch (IOException | NotBoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private static List&lt;String&gt; listarArquivosNaPasta(String pasta) throws IOException {\r\n        List&lt;String&gt; nomesArquivos = new ArrayList&lt;&gt;();\r\n        Files.list(Paths.get(pasta)).forEach(path -&gt; nomesArquivos.add(path.getFileName().toString()));\r\n        return nomesArquivos;\r\n    }\r\n}\r\n```\r\n\r\nThank you!","title":"How do you connect peer2peer in java?","body":"<p>So on this project I need to transfer the file from one client to another in java. This has a menu, where if you type DOWNLOAD and some other things the process will start. But it seems I'm stuck on the other client waiting for a command from the console, and even when I do type it it only stays on the while=true part. This is the code in question for the client.</p>\n<pre><code>package napster;\n\nimport java.io.*;\nimport java.net.*;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.rmi.NotBoundException;\nimport java.rmi.registry.LocateRegistry;\nimport java.rmi.registry.Registry;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class TPCCliente {\n\n    public static void main(String[] args) {\n\n        try {\n            String serverHost = &quot;localhost&quot;; // Endereo do servidor RMI -&gt; &quot;127.0.0.1&quot;\n            int serverPort = 1099; // Porta do servidor RMI\n\n            // Obtm uma referncia para o registro RMI no servidor\n            Registry registry = LocateRegistry.getRegistry(serverHost, serverPort);\n\n            // Obtm a referncia para o objeto remoto do servidor\n            napster.JoinService clientJOIN = (napster.JoinService) registry.lookup(&quot;JoinService&quot;);\n            napster.SearchService clientSEARCH = (napster.SearchService) registry.lookup(&quot;SearchService&quot;);\n            napster.UpdateService clientUPDATE = (napster.UpdateService) registry.lookup(&quot;UpdateService&quot;);\n\n            // Dados do cliente\n            InetAddress enderecoIP = InetAddress.getLocalHost();  // IP\n            String peerIP = enderecoIP.getHostAddress();\n\n            ServerSocket serverSocket = new ServerSocket(0);   // PORTA\n            int peerPort = serverSocket.getLocalPort();\n\n            // lista dos arquivos da pasta, lgica abaixo\n            List&lt;String&gt; nomesArquivos = listarArquivosNaPasta(&quot;C:\\\\Users\\\\Helena\\\\Documents\\\\projeto napster\\\\cliente1&quot;);\n            String pasta = &quot;C:\\\\Users\\\\Helena\\\\Documents\\\\projeto napster\\\\cliente1&quot;;\n\n            String nomesArquivosEM_STRING = String.join(&quot; &quot;, nomesArquivos);  // faz a lista virar uma nica string\n\n            // Chama o mtodo JOIN no servidor (menu interativo)\n            System.out.println(&quot;Digite JOIN para se conectar ao servidor.&quot;);\n            BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));  // cria instncia para ler o teclado\n            String chaveJOIN = reader.readLine();\n            while (!chaveJOIN.equals(&quot;JOIN&quot;)) {      // loop at que o join seja requisitado para o servidor\n                System.out.println(&quot;Digite JOIN para se conectar ao servidor.&quot;);\n                chaveJOIN = reader.readLine();\n            }\n            String juntar = clientJOIN.join(peerIP, peerPort, nomesArquivos);\n\n            // Processa a resposta do servidor\n            System.out.println(&quot;Resposta do servidor: &quot; + juntar);\n            System.out.println(&quot;Sou peer &quot; + peerIP + &quot;:&quot; + peerPort + &quot; com arquivos &quot; + nomesArquivosEM_STRING);\n\n            while (true) {\n                // todo lgica para os requests\n                System.out.println(&quot;Digite SEARCH para pesquisar arquivo, DOWNLOAD para baixar arquivo e UPDATE para atualizar o servidor&quot;);\n                BufferedReader input = new BufferedReader(new InputStreamReader(clientseederSocket.getInputStream()));\n                BufferedReader consoleInput = new BufferedReader(new InputStreamReader(System.in));\n\n// Verificar qual fonte de entrada est disponvel primeiro\n                if (input.ready()) {\n                    // Ler do fluxo de entrada do socket\n                    String mensagem = input.readLine();\n                    // Processar a mensagem recebida do socket\n                    // ...\n                } else if (consoleInput.ready()) {\n                    // Ler do console\n                    String entradaConsole = consoleInput.readLine();\n                    // Processar a entrada do console\n                    // ...\n                }\n                String pedidoProServer = reader.readLine();\n                if (pedidoProServer.equals(&quot;SEARCH&quot;)) {\n                    System.out.println(&quot;Digite o nome do arquivo que deseja procurar.&quot;);\n                    String pesquisa = reader.readLine();\n                    String pesquisar = clientSEARCH.search(pesquisa);\n                    System.out.println(pesquisar);\n                } else if (pedidoProServer.equals(&quot;DOWNLOAD&quot;)) {\n\n                    System.out.println(&quot;Digite o clientkey de quem quiser baixar&quot;);\n                    String chaveCliente = reader.readLine();\n                    String[] partes = chaveCliente.split(&quot;:&quot;);  // divide a chave em suas partes\n                    String ClienteSeederIP = partes[0];\n                    int ClienteSeederPorta = Integer.parseInt(partes[1]);\n\n                    Socket seederSocket = new Socket(ClienteSeederIP, ClienteSeederPorta);\n                    DataOutputStream seederOutput = new DataOutputStream(seederSocket.getOutputStream());\n                    BufferedReader input = new BufferedReader(new InputStreamReader(seederSocket.getInputStream()));\n\n                    // Enviar mensagem de solicitao para o cliente seeder\n                    seederOutput.writeBytes(&quot;DOWNLOAD_REQUEST\\n&quot;);\n\n                    // Enviar o nome do arquivo que deseja baixar para o cliente seeder\n                    System.out.println(&quot;Digite o nome do arquivo que deseja baixar:&quot;);\n                    String nomeArquivoDownload = reader.readLine();\n                    seederOutput.writeBytes(nomeArquivoDownload + &quot;\\n&quot;);\n\n                    // Recebe resposta do cliente seeder\n                    BufferedReader seederResponse = new BufferedReader(new InputStreamReader(seederSocket.getInputStream()));\n                    String response = seederResponse.readLine();\n                    System.out.println(response);\n\n                    if (response.equals(&quot;DOWNLOAD_ACCEPTED&quot;)) {\n                        // Recebe o arquivo do cliente que possui o arquivo\n                        InputStream fileStream = seederSocket.getInputStream();\n                        String fileName = seederResponse.readLine();\n                        long fileSize = Long.parseLong(seederResponse.readLine());\n\n                        // Envia mensagem de confirmao para o ClienteSeeder\n                        Socket clientSeederSocket = serverSocket.accept();\n\n                        // Envia a mensagem de confirmao para o ClienteSeeder\n                        DataOutputStream clientSeederOutput = new DataOutputStream(clientSeederSocket.getOutputStream());\n                        clientSeederOutput.writeBytes(&quot;CONFIRMATION_REQUEST\\n&quot;);\n\n                        // Recebe a resposta do ClienteSeeder\n                        BufferedReader clientSeederResponse = new BufferedReader(new InputStreamReader(clientSeederSocket.getInputStream()));\n                        String clientSeederReply = clientSeederResponse.readLine();\n                        System.out.println(&quot;Resposta do ClienteSeeder: &quot; + clientSeederReply);\n\n                        // Se o ClienteSeeder aceitar a transferncia, inicie o processo de download\n                        if (clientSeederReply.equals(&quot;ACCEPT&quot;)) {\n                            FileOutputStream fileOutput = new FileOutputStream(pasta + &quot;\\\\&quot; + fileName);\n                            byte[] buffer = new byte[1024];\n                            int bytesRead;\n                            long totalBytesRead = 0;\n\n                            while ((bytesRead = fileStream.read(buffer)) != -1) {\n                                fileOutput.write(buffer, 0, bytesRead);\n                                totalBytesRead += bytesRead;\n\n                                if (totalBytesRead == fileSize) {\n                                    break;\n                                }\n                            }\n\n                            fileOutput.close();\n                            System.out.println(&quot;Download concludo!&quot;);\n                        } else {\n                            System.out.println(&quot;Transferncia rejeitada pelo ClienteSeeder.&quot;);\n                        }\n\n                        // Fecha o socket do ClienteSeeder\n                        clientSeederSocket.close();\n                    }\n                } else if (pedidoProServer.equals(&quot;UPDATE&quot;)) {\n                    // atualiza lista de arquivos no servidor\n                    clientUPDATE.update(peerIP, peerPort, nomesArquivos);\n                    System.out.println(&quot;Arquivos atualizados no servidor!&quot;);\n                } else if (pedidoProServer.equals(&quot;DOWNLOAD_REQUEST&quot;)) {\n                    // Receber o nome do arquivo solicitado do cliente requisitante\n                    String nomeArquivoDownload = reader.readLine();\n\n                    // Verificar se o arquivo existe no diretrio do cliente seeder\n                    String caminhoArquivo = pasta + &quot;\\\\&quot; + nomeArquivoDownload;\n                    File arquivo = new File(caminhoArquivo);\n\n                    if (arquivo.exists()) {\n                        // Enviar resposta de aceitao para o cliente requisitante\n                        DataOutputStream clientOutput = new DataOutputStream(serverSocket.accept().getOutputStream());\n                        clientOutput.writeBytes(&quot;DOWNLOAD_ACCEPT\\n&quot;);\n\n                        // Enviar o nome do arquivo e o tamanho para o cliente requisitante\n                        clientOutput.writeBytes(nomeArquivoDownload + &quot;\\n&quot;);\n                    } else {\n                        // Enviar resposta de arquivo no encontrado para o cliente requisitante\n                        DataOutputStream clientOutput = new DataOutputStream(serverSocket.accept().getOutputStream());\n                        clientOutput.writeBytes(&quot;FILE_NOT_FOUND\\n&quot;);\n                    }\n                }\n            }\n        } catch (IOException | NotBoundException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private static List&lt;String&gt; listarArquivosNaPasta(String pasta) throws IOException {\n        List&lt;String&gt; nomesArquivos = new ArrayList&lt;&gt;();\n        Files.list(Paths.get(pasta)).forEach(path -&gt; nomesArquivos.add(path.getFileName().toString()));\n        return nomesArquivos;\n    }\n}\n</code></pre>\n<p>Thank you!</p>\n"},{"tags":["java","android","bazel"],"owner":{"account_id":2406772,"reputation":307,"user_id":2103010,"accept_rate":29,"display_name":"Ben Leitner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688165618,"creation_date":1688165618,"question_id":76592603,"body_markdown":"I guess I don&#39;t understand Android manifests enough: I&#39;ve been trying to figure this out for a while now and nothing seems to work:\r\n\r\nI have a `bazel` environment set up and I have a `maven_install` to grab a bunch of android stuff and then a custom build rule that just generates a simple local repo with a `BUILD` file with some targets.  The purpose of this is to try and group things sensibly so I can load what I need as `@android//:whatever` targets.\r\n\r\nThe app in question is just a little demo app for some LaTeX related widgets I made.  The `android_library` target builds just fine, but when I try to build the `android_binary` target I get:\r\n\r\n```\r\nERROR: C:/projects/java/latex/java/com/bdl/latex/android/demo/BUILD:1:15: Merging manifest for //java/com/bdl/latex/android/demo:app failed: (Exit 1): ResourceProcessorBusyBox.exe failed: error executing command (from target //java/com/b\r\ndl/latex/android/demo:app) bazel-out\\x64_windows-opt-exec-2B5CBBC6\\bin\\external\\bazel_tools\\src\\tools\\android\\java\\com\\google\\devtools\\build\\android\\ResourceProcessorBusyBox.exe ... (remaining 1 argument skipped)\r\nError: D:\\_bazel_out\\fk7lkimo\\execroot\\bdl_latex\\java\\com\\bdl\\latex\\android\\demo\\AndroidManifest.xml:20:19-74 Error:\r\n        Attribute provider#androidx.startup.InitializationProvider@authorities value=(androidx.lifecycle.process.androidx-startup) from [@maven_android//:androidx_lifecycle_lifecycle_process] AndroidManifest16331845056188086597.xml:20:19\r\n-74\r\n        is also present at [@maven_android//:androidx_startup_startup_runtime] AndroidManifest9826536139099638492.xml:20:19-74 value=(androidx.startup.androidx-startup).\r\n        Suggestion: add &#39;tools:replace=&quot;android:authorities&quot;&#39; to &lt;provider&gt; element at AndroidManifest.xml:20:9-22:20 to override.\r\nJun 30, 2023 3:19:14 PM com.google.devtools.build.android.ResourceProcessorBusyBox processRequest\r\nSEVERE: Error during processing\r\ncom.google.devtools.build.android.AndroidManifestProcessor$ManifestProcessingException: Manifest merger failed : Attribute provider#androidx.startup.InitializationProvider@authorities value=(androidx.lifecycle.process.androidx-startup) f\r\nrom [@maven_android//:androidx_lifecycle_lifecycle_process] AndroidManifest16331845056188086597.xml:20:19-74\r\n        is also present at [@maven_android//:androidx_startup_startup_runtime] AndroidManifest9826536139099638492.xml:20:19-74 value=(androidx.startup.androidx-startup).\r\n        Suggestion: add &#39;tools:replace=&quot;android:authorities&quot;&#39; to &lt;provider&gt; element at AndroidManifest.xml:20:9-22:20 to override.\r\n        at com.google.devtools.build.android.AndroidManifestProcessor.mergeManifest(AndroidManifestProcessor.java:186)\r\n        at com.google.devtools.build.android.ManifestMergerAction.main(ManifestMergerAction.java:228)\r\n        at com.google.devtools.build.android.ResourceProcessorBusyBox$Tool$5.call(ResourceProcessorBusyBox.java:97)\r\n        at com.google.devtools.build.android.ResourceProcessorBusyBox.processRequest(ResourceProcessorBusyBox.java:251)\r\n        at com.google.devtools.build.android.ResourceProcessorBusyBox.main(ResourceProcessorBusyBox.java:181)\r\n\r\nException in thread &quot;main&quot; com.google.devtools.build.android.AndroidManifestProcessor$ManifestProcessingException: Manifest merger failed : Attribute provider#androidx.startup.InitializationProvider@authorities value=(androidx.lifecycle.\r\nprocess.androidx-startup) from [@maven_android//:androidx_lifecycle_lifecycle_process] AndroidManifest16331845056188086597.xml:20:19-74\r\n        is also present at [@maven_android//:androidx_startup_startup_runtime] AndroidManifest9826536139099638492.xml:20:19-74 value=(androidx.startup.androidx-startup).\r\n        Suggestion: add &#39;tools:replace=&quot;android:authorities&quot;&#39; to &lt;provider&gt; element at AndroidManifest.xml:20:9-22:20 to override.\r\n        at com.google.devtools.build.android.AndroidManifestProcessor.mergeManifest(AndroidManifestProcessor.java:186)\r\n        at com.google.devtools.build.android.ManifestMergerAction.main(ManifestMergerAction.java:228)\r\n        at com.google.devtools.build.android.ResourceProcessorBusyBox$Tool$5.call(ResourceProcessorBusyBox.java:97)\r\n        at com.google.devtools.build.android.ResourceProcessorBusyBox.processRequest(ResourceProcessorBusyBox.java:251)\r\n        at com.google.devtools.build.android.ResourceProcessorBusyBox.main(ResourceProcessorBusyBox.java:181)\r\nWarning:\r\nSee http://g.co/androidstudio/manifest-merger for more information about the manifest merger.\r\nTarget //java/com/bdl/latex/android/demo:app failed to build\r\nUse --verbose_failures to see the command lines of failed build steps.\r\nINFO: Elapsed time: 191.291s, Critical Path: 98.62s\r\nINFO: 1030 processes: 48 internal, 812 local, 170 worker.\r\nFAILED: Build did NOT complete successfully\r\n```\r\n\r\nOk, so in two different things from my maven pull: `androidx_lifecycle_lifecycle_process` (directly present) and `androidx_startup_startup_runtime` (indirect) there is a specification for a `provider` for this value.\r\n\r\nThe recommendation is to add `tools:replace=&quot;android:authorities&quot;` to `&lt;provider&gt;` element in `&quot;AndroidManifest.xml&quot;`.  But it doesn&#39;t specify which one.  None of the `AndroidManifest.xml` files I have in my project currently have a `&lt;provider&gt;` tag.\r\n\r\nMy &quot;root&quot; manifest (where the `android_binary` target is) looks like:\r\n```\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n  package=&quot;com.bdl.latex.android.demo&quot;\r\n  android:versionCode=&quot;1&quot;\r\n  android:versionName=&quot;1.0&quot;&gt;\r\n\r\n  &lt;uses-sdk\r\n    android:minSdkVersion=&quot;28&quot;\r\n    android:targetSdkVersion=&quot;28&quot;/&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\nand my main manifest file (where the `android_library` target is) looks like:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest\r\n  xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n  package=&quot;com.bdl.latex.android.demo.app&quot;&gt;\r\n\r\n  &lt;uses-sdk\r\n    android:minSdkVersion=&quot;28&quot;\r\n    android:targetSdkVersion=&quot;28&quot;/&gt;\r\n\r\n  &lt;application\r\n    android:name=&quot;.AndroidLatexDemoApp&quot;\r\n    android:allowBackup=&quot;true&quot;\r\n    android:icon=&quot;@mipmap/ic_launcher&quot;\r\n    android:label=&quot;@string/app_name&quot;\r\n    android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n    android:supportsRtl=&quot;true&quot;\r\n    android:theme=&quot;@style/AppTheme&quot;&gt;\r\n    &lt;activity\r\n      android:name=&quot;.LaTeXActivity&quot;\r\n      android:label=&quot;@string/app_name&quot;\r\n      android:theme=&quot;@style/AppTheme.NoActionBar&quot;&gt;\r\n      &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\r\n\r\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\r\n      &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;\r\n  &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\nThings I&#39;ve tried:\r\n\r\n* Adding `tools:replace=&quot;android:authorities&quot;` to the `&lt;application&gt;` tag, as I&#39;ve seen for some other values.  This fails with:\r\n```\r\nERROR: C:/projects/java/latex/java/com/bdl/latex/android/demo/app/BUILD:21:16: Merging manifest for //java/com/bdl/latex/android/demo/app:demo failed: (Exit 1): ResourceProcessorBusyBox.exe failed: error executing command (from target //\r\njava/com/bdl/latex/android/demo/app:demo) bazel-out\\x64_windows-opt-exec-2B5CBBC6\\bin\\external\\bazel_tools\\src\\tools\\android\\java\\com\\google\\devtools\\build\\android\\ResourceProcessorBusyBox.exe ... (remaining 1 argument skipped)\r\nError: D:\\_bazel_out\\fk7lkimo\\execroot\\bdl_latex\\java\\com\\bdl\\latex\\android\\demo\\app\\AndroidManifest.xml:11:3-30:17 Error:                   \r\n        tools:replace specified at line:11 for attribute android:authorities, but no new value specified                                     \r\nError: D:\\_bazel_out\\fk7lkimo\\execroot\\bdl_latex\\java\\com\\bdl\\latex\\android\\demo\\app\\AndroidManifest.xml Error:                              \r\n        Validation failed, exiting                                                                                                           \r\nJun 30, 2023 3:32:06 PM com.google.devtools.build.android.ResourceProcessorBusyBox processRequest                                            \r\nSEVERE: Error during processing                                                                                                              \r\ncom.google.devtools.build.android.AndroidManifestProcessor$ManifestProcessingException: Manifest merger failed with multiple errors, see logs\r\n        at com.google.devtools.build.android.AndroidManifestProcessor.mergeManifest(AndroidManifestProcessor.java:186)\r\n        at com.google.devtools.build.android.ManifestMergerAction.main(ManifestMergerAction.java:228)\r\n        at com.google.devtools.build.android.ResourceProcessorBusyBox$Tool$5.call(ResourceProcessorBusyBox.java:97)\r\n        at com.google.devtools.build.android.ResourceProcessorBusyBox.processRequest(ResourceProcessorBusyBox.java:251)\r\n        at com.google.devtools.build.android.ResourceProcessorBusyBox.main(ResourceProcessorBusyBox.java:181)\r\n\r\nException in thread &quot;main&quot; com.google.devtools.build.android.AndroidManifestProcessor$ManifestProcessingException: Manifest merger failed with multiple errors, see logs\r\n        at com.google.devtools.build.android.AndroidManifestProcessor.mergeManifest(AndroidManifestProcessor.java:186)\r\n        at com.google.devtools.build.android.ManifestMergerAction.main(ManifestMergerAction.java:228)\r\n        at com.google.devtools.build.android.ResourceProcessorBusyBox$Tool$5.call(ResourceProcessorBusyBox.java:97)\r\n        at com.google.devtools.build.android.ResourceProcessorBusyBox.processRequest(ResourceProcessorBusyBox.java:251)\r\n        at com.google.devtools.build.android.ResourceProcessorBusyBox.main(ResourceProcessorBusyBox.java:181)\r\nWarning:\r\nSee http://g.co/androidstudio/manifest-merger for more information about the manifest merger.\r\nTarget //java/com/bdl/latex/android/demo:app failed to build\r\nUse --verbose_failures to see the command lines of failed build steps.\r\nINFO: Elapsed time: 1.325s, Critical Path: 0.75s\r\nINFO: 3 processes: 3 internal.\r\nFAILED: Build did NOT complete successfully\r\n```\r\n\r\n* Adding a `&lt;provider&gt;` tag to the application.  Extracting values from the original error, I tried: `&lt;provider android:authorities=&quot;androidx.startup.androidx-startup&quot; android:name=&quot;androidx.startup.InitializationProvider&quot; /&gt;`  This brought back the original error.\r\n\r\n* Keeping the `&lt;provider&gt;` tag and re-adding the `tools:replace` so the manifest looked like:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest\r\n  xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n  xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n  package=&quot;com.bdl.latex.android.demo.app&quot;&gt;\r\n...\r\n  &lt;application\r\n     ...\r\n    tools:replace=&quot;android:authorities&quot;&gt;\r\n    &lt;provider android:authorities=&quot;androidx.startup.androidx-startup&quot; android:name=&quot;androidx.startup.InitializationProvider&quot; /&gt;\r\n    &lt;activity&gt;...&lt;/activity&gt;\r\n  &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n```\r\n\r\nThis brought back the 2nd error, with `tools:replace specified at line:11 for attribute android:authorities, but no new value specified`\r\n\r\n* Keeping the `&lt;provider&gt;` tag and moving the `tools:replace` attribute inside it (because the original error did specify that I should put it in a `&lt;provider&gt;` tag. This brought back the first error message again\r\n\r\nOk... well, when it gives this error message it does point to the `AndroidManifest.xml` file in the root (`android_binary`) package, so... let&#39;s try some things there, even though that manifest is pretty empty.\r\n\r\n* Add the `&lt;provider&gt;` tag with `tools:replace` included to that manifest file: Error 1 (conflict)\r\n\r\n* Add `tools:replace=&quot;android:authorities&quot;` to the root tag without a `&lt;provider&gt;`: error 2 (no new value)\r\n\r\n* Add `tools:replace=&quot;android:authorities&quot;` to the root tag and a separate `&lt;provider&gt;`: error 2 (no new value)\r\n\r\n\r\nAnd at that point I gave up and wrote this.\r\n\r\nHopefully someone can help me find the correct incantation.\r\n","title":"Conflicts and Errors with tools:replace in bazel android environment","body":"<p>I guess I don't understand Android manifests enough: I've been trying to figure this out for a while now and nothing seems to work:</p>\n<p>I have a <code>bazel</code> environment set up and I have a <code>maven_install</code> to grab a bunch of android stuff and then a custom build rule that just generates a simple local repo with a <code>BUILD</code> file with some targets.  The purpose of this is to try and group things sensibly so I can load what I need as <code>@android//:whatever</code> targets.</p>\n<p>The app in question is just a little demo app for some LaTeX related widgets I made.  The <code>android_library</code> target builds just fine, but when I try to build the <code>android_binary</code> target I get:</p>\n<pre><code>ERROR: C:/projects/java/latex/java/com/bdl/latex/android/demo/BUILD:1:15: Merging manifest for //java/com/bdl/latex/android/demo:app failed: (Exit 1): ResourceProcessorBusyBox.exe failed: error executing command (from target //java/com/b\ndl/latex/android/demo:app) bazel-out\\x64_windows-opt-exec-2B5CBBC6\\bin\\external\\bazel_tools\\src\\tools\\android\\java\\com\\google\\devtools\\build\\android\\ResourceProcessorBusyBox.exe ... (remaining 1 argument skipped)\nError: D:\\_bazel_out\\fk7lkimo\\execroot\\bdl_latex\\java\\com\\bdl\\latex\\android\\demo\\AndroidManifest.xml:20:19-74 Error:\n        Attribute provider#androidx.startup.InitializationProvider@authorities value=(androidx.lifecycle.process.androidx-startup) from [@maven_android//:androidx_lifecycle_lifecycle_process] AndroidManifest16331845056188086597.xml:20:19\n-74\n        is also present at [@maven_android//:androidx_startup_startup_runtime] AndroidManifest9826536139099638492.xml:20:19-74 value=(androidx.startup.androidx-startup).\n        Suggestion: add 'tools:replace=&quot;android:authorities&quot;' to &lt;provider&gt; element at AndroidManifest.xml:20:9-22:20 to override.\nJun 30, 2023 3:19:14 PM com.google.devtools.build.android.ResourceProcessorBusyBox processRequest\nSEVERE: Error during processing\ncom.google.devtools.build.android.AndroidManifestProcessor$ManifestProcessingException: Manifest merger failed : Attribute provider#androidx.startup.InitializationProvider@authorities value=(androidx.lifecycle.process.androidx-startup) f\nrom [@maven_android//:androidx_lifecycle_lifecycle_process] AndroidManifest16331845056188086597.xml:20:19-74\n        is also present at [@maven_android//:androidx_startup_startup_runtime] AndroidManifest9826536139099638492.xml:20:19-74 value=(androidx.startup.androidx-startup).\n        Suggestion: add 'tools:replace=&quot;android:authorities&quot;' to &lt;provider&gt; element at AndroidManifest.xml:20:9-22:20 to override.\n        at com.google.devtools.build.android.AndroidManifestProcessor.mergeManifest(AndroidManifestProcessor.java:186)\n        at com.google.devtools.build.android.ManifestMergerAction.main(ManifestMergerAction.java:228)\n        at com.google.devtools.build.android.ResourceProcessorBusyBox$Tool$5.call(ResourceProcessorBusyBox.java:97)\n        at com.google.devtools.build.android.ResourceProcessorBusyBox.processRequest(ResourceProcessorBusyBox.java:251)\n        at com.google.devtools.build.android.ResourceProcessorBusyBox.main(ResourceProcessorBusyBox.java:181)\n\nException in thread &quot;main&quot; com.google.devtools.build.android.AndroidManifestProcessor$ManifestProcessingException: Manifest merger failed : Attribute provider#androidx.startup.InitializationProvider@authorities value=(androidx.lifecycle.\nprocess.androidx-startup) from [@maven_android//:androidx_lifecycle_lifecycle_process] AndroidManifest16331845056188086597.xml:20:19-74\n        is also present at [@maven_android//:androidx_startup_startup_runtime] AndroidManifest9826536139099638492.xml:20:19-74 value=(androidx.startup.androidx-startup).\n        Suggestion: add 'tools:replace=&quot;android:authorities&quot;' to &lt;provider&gt; element at AndroidManifest.xml:20:9-22:20 to override.\n        at com.google.devtools.build.android.AndroidManifestProcessor.mergeManifest(AndroidManifestProcessor.java:186)\n        at com.google.devtools.build.android.ManifestMergerAction.main(ManifestMergerAction.java:228)\n        at com.google.devtools.build.android.ResourceProcessorBusyBox$Tool$5.call(ResourceProcessorBusyBox.java:97)\n        at com.google.devtools.build.android.ResourceProcessorBusyBox.processRequest(ResourceProcessorBusyBox.java:251)\n        at com.google.devtools.build.android.ResourceProcessorBusyBox.main(ResourceProcessorBusyBox.java:181)\nWarning:\nSee http://g.co/androidstudio/manifest-merger for more information about the manifest merger.\nTarget //java/com/bdl/latex/android/demo:app failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 191.291s, Critical Path: 98.62s\nINFO: 1030 processes: 48 internal, 812 local, 170 worker.\nFAILED: Build did NOT complete successfully\n</code></pre>\n<p>Ok, so in two different things from my maven pull: <code>androidx_lifecycle_lifecycle_process</code> (directly present) and <code>androidx_startup_startup_runtime</code> (indirect) there is a specification for a <code>provider</code> for this value.</p>\n<p>The recommendation is to add <code>tools:replace=&quot;android:authorities&quot;</code> to <code>&lt;provider&gt;</code> element in <code>&quot;AndroidManifest.xml&quot;</code>.  But it doesn't specify which one.  None of the <code>AndroidManifest.xml</code> files I have in my project currently have a <code>&lt;provider&gt;</code> tag.</p>\n<p>My &quot;root&quot; manifest (where the <code>android_binary</code> target is) looks like:</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n  package=&quot;com.bdl.latex.android.demo&quot;\n  android:versionCode=&quot;1&quot;\n  android:versionName=&quot;1.0&quot;&gt;\n\n  &lt;uses-sdk\n    android:minSdkVersion=&quot;28&quot;\n    android:targetSdkVersion=&quot;28&quot;/&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>and my main manifest file (where the <code>android_library</code> target is) looks like:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest\n  xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n  package=&quot;com.bdl.latex.android.demo.app&quot;&gt;\n\n  &lt;uses-sdk\n    android:minSdkVersion=&quot;28&quot;\n    android:targetSdkVersion=&quot;28&quot;/&gt;\n\n  &lt;application\n    android:name=&quot;.AndroidLatexDemoApp&quot;\n    android:allowBackup=&quot;true&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/AppTheme&quot;&gt;\n    &lt;activity\n      android:name=&quot;.LaTeXActivity&quot;\n      android:label=&quot;@string/app_name&quot;\n      android:theme=&quot;@style/AppTheme.NoActionBar&quot;&gt;\n      &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\n\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\n      &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n  &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>Things I've tried:</p>\n<ul>\n<li>Adding <code>tools:replace=&quot;android:authorities&quot;</code> to the <code>&lt;application&gt;</code> tag, as I've seen for some other values.  This fails with:</li>\n</ul>\n<pre><code>ERROR: C:/projects/java/latex/java/com/bdl/latex/android/demo/app/BUILD:21:16: Merging manifest for //java/com/bdl/latex/android/demo/app:demo failed: (Exit 1): ResourceProcessorBusyBox.exe failed: error executing command (from target //\njava/com/bdl/latex/android/demo/app:demo) bazel-out\\x64_windows-opt-exec-2B5CBBC6\\bin\\external\\bazel_tools\\src\\tools\\android\\java\\com\\google\\devtools\\build\\android\\ResourceProcessorBusyBox.exe ... (remaining 1 argument skipped)\nError: D:\\_bazel_out\\fk7lkimo\\execroot\\bdl_latex\\java\\com\\bdl\\latex\\android\\demo\\app\\AndroidManifest.xml:11:3-30:17 Error:                   \n        tools:replace specified at line:11 for attribute android:authorities, but no new value specified                                     \nError: D:\\_bazel_out\\fk7lkimo\\execroot\\bdl_latex\\java\\com\\bdl\\latex\\android\\demo\\app\\AndroidManifest.xml Error:                              \n        Validation failed, exiting                                                                                                           \nJun 30, 2023 3:32:06 PM com.google.devtools.build.android.ResourceProcessorBusyBox processRequest                                            \nSEVERE: Error during processing                                                                                                              \ncom.google.devtools.build.android.AndroidManifestProcessor$ManifestProcessingException: Manifest merger failed with multiple errors, see logs\n        at com.google.devtools.build.android.AndroidManifestProcessor.mergeManifest(AndroidManifestProcessor.java:186)\n        at com.google.devtools.build.android.ManifestMergerAction.main(ManifestMergerAction.java:228)\n        at com.google.devtools.build.android.ResourceProcessorBusyBox$Tool$5.call(ResourceProcessorBusyBox.java:97)\n        at com.google.devtools.build.android.ResourceProcessorBusyBox.processRequest(ResourceProcessorBusyBox.java:251)\n        at com.google.devtools.build.android.ResourceProcessorBusyBox.main(ResourceProcessorBusyBox.java:181)\n\nException in thread &quot;main&quot; com.google.devtools.build.android.AndroidManifestProcessor$ManifestProcessingException: Manifest merger failed with multiple errors, see logs\n        at com.google.devtools.build.android.AndroidManifestProcessor.mergeManifest(AndroidManifestProcessor.java:186)\n        at com.google.devtools.build.android.ManifestMergerAction.main(ManifestMergerAction.java:228)\n        at com.google.devtools.build.android.ResourceProcessorBusyBox$Tool$5.call(ResourceProcessorBusyBox.java:97)\n        at com.google.devtools.build.android.ResourceProcessorBusyBox.processRequest(ResourceProcessorBusyBox.java:251)\n        at com.google.devtools.build.android.ResourceProcessorBusyBox.main(ResourceProcessorBusyBox.java:181)\nWarning:\nSee http://g.co/androidstudio/manifest-merger for more information about the manifest merger.\nTarget //java/com/bdl/latex/android/demo:app failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 1.325s, Critical Path: 0.75s\nINFO: 3 processes: 3 internal.\nFAILED: Build did NOT complete successfully\n</code></pre>\n<ul>\n<li><p>Adding a <code>&lt;provider&gt;</code> tag to the application.  Extracting values from the original error, I tried: <code>&lt;provider android:authorities=&quot;androidx.startup.androidx-startup&quot; android:name=&quot;androidx.startup.InitializationProvider&quot; /&gt;</code>  This brought back the original error.</p>\n</li>\n<li><p>Keeping the <code>&lt;provider&gt;</code> tag and re-adding the <code>tools:replace</code> so the manifest looked like:</p>\n</li>\n</ul>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest\n  xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n  xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n  package=&quot;com.bdl.latex.android.demo.app&quot;&gt;\n...\n  &lt;application\n     ...\n    tools:replace=&quot;android:authorities&quot;&gt;\n    &lt;provider android:authorities=&quot;androidx.startup.androidx-startup&quot; android:name=&quot;androidx.startup.InitializationProvider&quot; /&gt;\n    &lt;activity&gt;...&lt;/activity&gt;\n  &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>This brought back the 2nd error, with <code>tools:replace specified at line:11 for attribute android:authorities, but no new value specified</code></p>\n<ul>\n<li>Keeping the <code>&lt;provider&gt;</code> tag and moving the <code>tools:replace</code> attribute inside it (because the original error did specify that I should put it in a <code>&lt;provider&gt;</code> tag. This brought back the first error message again</li>\n</ul>\n<p>Ok... well, when it gives this error message it does point to the <code>AndroidManifest.xml</code> file in the root (<code>android_binary</code>) package, so... let's try some things there, even though that manifest is pretty empty.</p>\n<ul>\n<li><p>Add the <code>&lt;provider&gt;</code> tag with <code>tools:replace</code> included to that manifest file: Error 1 (conflict)</p>\n</li>\n<li><p>Add <code>tools:replace=&quot;android:authorities&quot;</code> to the root tag without a <code>&lt;provider&gt;</code>: error 2 (no new value)</p>\n</li>\n<li><p>Add <code>tools:replace=&quot;android:authorities&quot;</code> to the root tag and a separate <code>&lt;provider&gt;</code>: error 2 (no new value)</p>\n</li>\n</ul>\n<p>And at that point I gave up and wrote this.</p>\n<p>Hopefully someone can help me find the correct incantation.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":1,"creation_date":1687198220,"post_id":76507273,"comment_id":134900363,"body_markdown":"what is the error you are getting? is that code enough to be considered a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example). Tesseract support [indian languages](https://indic-ocr.github.io/tessdata/). Could you give details about the libraries that are being used? based on the lines showed, looks like this is for an android app. Please edit your post trying to add debugging details. Also you can check the article [how to ask](https://stackoverflow.com/help/how-to-ask)","body":"what is the error you are getting? is that code enough to be considered a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Tesseract support <a href=\"https://indic-ocr.github.io/tessdata/\" rel=\"nofollow noreferrer\">indian languages</a>. Could you give details about the libraries that are being used? based on the lines showed, looks like this is for an android app. Please edit your post trying to add debugging details. Also you can check the article <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a>"},{"owner":{"account_id":28840349,"reputation":1,"user_id":22088760,"display_name":"nikhil achalkar"},"score":0,"creation_date":1687225459,"post_id":76507273,"comment_id":134903557,"body_markdown":"This is the dependency used:- dependencies {\n    implementation &#39;com.rmtheis:tess-two:1.0.2&#39;\n}\nThe error is that the part is not able to extract the text.","body":"This is the dependency used:- dependencies {     implementation &#39;com.rmtheis:tess-two:1.0.2&#39; } The error is that the part is not able to extract the text."},{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":0,"creation_date":1687278095,"post_id":76507273,"comment_id":134912995,"body_markdown":"instead of posting your answer to my questions here in comments, edit your post (you can find the button under your question) and add all the debugging details. Show the full message, not just a description. Without a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) is hard to help you","body":"instead of posting your answer to my questions here in comments, edit your post (you can find the button under your question) and add all the debugging details. Show the full message, not just a description. Without a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> is hard to help you"}],"owner":{"account_id":28840349,"reputation":1,"user_id":22088760,"display_name":"nikhil achalkar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688164199,"creation_date":1687182538,"question_id":76507273,"body_markdown":"I have performed all the steps in code with keeping all the trained data files in asserts directory and the PDF to image as a step in the code but my app crashes for it\r\n\r\nThis is the code\r\n\r\n\r\n```java\r\npublic class PDFUtils {\r\n\r\n    private static final String TAG = &quot;pdf ocr&quot;;\r\n    private static final String TESS_DATA = &quot;/tessdata&quot;;\r\n    private static final String LANG = &quot;mar+hin&quot;;\r\n\r\n    public static String extractText(Context context, Uri pdfUri) {\r\n        // Initialize Tesseract OCR\r\n        String dataPath = context.getFilesDir() + TESS_DATA;\r\n        prepareTesseract(context, dataPath);\r\n        TessBaseAPI tessBaseAPI = new TessBaseAPI();\r\n        tessBaseAPI.init(dataPath, LANG);\r\n\r\n        // Load and process PDF pages\r\n        String extractedText = &quot;&quot;;\r\n        try {\r\n            ParcelFileDescriptor fileDescriptor = context.getContentResolver().openFileDescriptor(pdfUri, &quot;r&quot;);\r\n            if (fileDescriptor != null) {\r\n                PdfRenderer pdfRenderer = new PdfRenderer(fileDescriptor);\r\n                int pageCount = pdfRenderer.getPageCount();\r\n\r\n                for (int pageIndex = 0; pageIndex &lt; pageCount; pageIndex++) {\r\n                    PdfRenderer.Page page = pdfRenderer.openPage(pageIndex);\r\n\r\n                    // Render the PDF page as a bitmap image\r\n                    Bitmap pageBitmap = Bitmap.createBitmap(page.getWidth(), page.getHeight(), Bitmap.Config.ARGB_8888);\r\n                    page.render(pageBitmap, null, null, PdfRenderer.Page.RENDER_MODE_FOR_DISPLAY);\r\n\r\n                    // Process the bitmap image using Tesseract\r\n                    tessBaseAPI.setImage(pageBitmap);\r\n                    extractedText += tessBaseAPI.getUTF8Text();\r\n\r\n                    // Close the current page\r\n                    page.close();\r\n                }\r\n\r\n                // Close the PDF renderer\r\n                pdfRenderer.close();\r\n                fileDescriptor.close();\r\n            }\r\n        } catch (IOException e) {\r\n            Log.e(TAG, &quot;Error loading PDF and extracting text: &quot; + e.getMessage());\r\n        }\r\n\r\n        // Clean up\r\n        tessBaseAPI.end();\r\n\r\n        return extractedText;\r\n    }\r\n\r\n    private static void prepareTesseract(Context context, String dataPath) {\r\n        try {\r\n            String fileList[] = context.getAssets().list(&quot;&quot;);\r\n            for (String fileName : fileList) {\r\n                String pathToDataFile = dataPath + TESS_DATA + &quot;/&quot; + fileName;\r\n                if (!(new File(pathToDataFile)).exists()) {\r\n                    InputStream in = context.getAssets().open(fileName);\r\n                    OutputStream out = new FileOutputStream(pathToDataFile);\r\n\r\n                    byte[] buffer = new byte[1024];\r\n                    int read;\r\n                    while ((read = in.read(buffer)) != -1) {\r\n                        out.write(buffer, 0, read);\r\n                    }\r\n\r\n                    out.flush();\r\n                    out.close();\r\n                    in.close();\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            Log.e(TAG, &quot;Error preparing Tesseract OCR data: &quot; + e.getMessage());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd how I call it:-\r\n\r\n```java\r\npublic class MyActivity extends AppCompatActivity {\r\n\r\n    // ...\r\n\r\n    public void yourPublicFunction() {\r\n        Uri pdfUri = ...; // Seting the PDF file URI here\r\n        String extractedText = PDFUtils.extractText(this, pdfUri);\r\n        Log.d(TAG, &quot;Extracted Text: &quot; + extractedText);\r\n\r\n        \r\n    }\r\n}\r\n```\r\n\r\nSo I am unable to find the bug in it. I have also tried to do it using itext7 library but in that code I am only able to extract the English text from the pdf. But not the Indian languages.\r\n\r\nBut by using the Tessaract I am unable to extract anything and the app crashes.\r\n","title":"How can I extract Indian languages text such as Marathi from a PDF using Tessaract ocr in Android Studio using Java","body":"<p>I have performed all the steps in code with keeping all the trained data files in asserts directory and the PDF to image as a step in the code but my app crashes for it</p>\n<p>This is the code</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PDFUtils {\n\n    private static final String TAG = &quot;pdf ocr&quot;;\n    private static final String TESS_DATA = &quot;/tessdata&quot;;\n    private static final String LANG = &quot;mar+hin&quot;;\n\n    public static String extractText(Context context, Uri pdfUri) {\n        // Initialize Tesseract OCR\n        String dataPath = context.getFilesDir() + TESS_DATA;\n        prepareTesseract(context, dataPath);\n        TessBaseAPI tessBaseAPI = new TessBaseAPI();\n        tessBaseAPI.init(dataPath, LANG);\n\n        // Load and process PDF pages\n        String extractedText = &quot;&quot;;\n        try {\n            ParcelFileDescriptor fileDescriptor = context.getContentResolver().openFileDescriptor(pdfUri, &quot;r&quot;);\n            if (fileDescriptor != null) {\n                PdfRenderer pdfRenderer = new PdfRenderer(fileDescriptor);\n                int pageCount = pdfRenderer.getPageCount();\n\n                for (int pageIndex = 0; pageIndex &lt; pageCount; pageIndex++) {\n                    PdfRenderer.Page page = pdfRenderer.openPage(pageIndex);\n\n                    // Render the PDF page as a bitmap image\n                    Bitmap pageBitmap = Bitmap.createBitmap(page.getWidth(), page.getHeight(), Bitmap.Config.ARGB_8888);\n                    page.render(pageBitmap, null, null, PdfRenderer.Page.RENDER_MODE_FOR_DISPLAY);\n\n                    // Process the bitmap image using Tesseract\n                    tessBaseAPI.setImage(pageBitmap);\n                    extractedText += tessBaseAPI.getUTF8Text();\n\n                    // Close the current page\n                    page.close();\n                }\n\n                // Close the PDF renderer\n                pdfRenderer.close();\n                fileDescriptor.close();\n            }\n        } catch (IOException e) {\n            Log.e(TAG, &quot;Error loading PDF and extracting text: &quot; + e.getMessage());\n        }\n\n        // Clean up\n        tessBaseAPI.end();\n\n        return extractedText;\n    }\n\n    private static void prepareTesseract(Context context, String dataPath) {\n        try {\n            String fileList[] = context.getAssets().list(&quot;&quot;);\n            for (String fileName : fileList) {\n                String pathToDataFile = dataPath + TESS_DATA + &quot;/&quot; + fileName;\n                if (!(new File(pathToDataFile)).exists()) {\n                    InputStream in = context.getAssets().open(fileName);\n                    OutputStream out = new FileOutputStream(pathToDataFile);\n\n                    byte[] buffer = new byte[1024];\n                    int read;\n                    while ((read = in.read(buffer)) != -1) {\n                        out.write(buffer, 0, read);\n                    }\n\n                    out.flush();\n                    out.close();\n                    in.close();\n                }\n            }\n        } catch (IOException e) {\n            Log.e(TAG, &quot;Error preparing Tesseract OCR data: &quot; + e.getMessage());\n        }\n    }\n}\n</code></pre>\n<p>And how I call it:-</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyActivity extends AppCompatActivity {\n\n    // ...\n\n    public void yourPublicFunction() {\n        Uri pdfUri = ...; // Seting the PDF file URI here\n        String extractedText = PDFUtils.extractText(this, pdfUri);\n        Log.d(TAG, &quot;Extracted Text: &quot; + extractedText);\n\n        \n    }\n}\n</code></pre>\n<p>So I am unable to find the bug in it. I have also tried to do it using itext7 library but in that code I am only able to extract the English text from the pdf. But not the Indian languages.</p>\n<p>But by using the Tessaract I am unable to extract anything and the app crashes.</p>\n"},{"tags":["java","kotlin","protocol-buffers"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687392665,"creation_date":1687392665,"answer_id":76527870,"question_id":76527691,"body_markdown":"It sounds like you&#39;re not correctly compiling or generating the Java proto and gRPC classes that are necessary to use gRPC for Kotlin.  It is normal and expected that the code you&#39;ve shown should only generates one Kotlin file.\r\n\r\n(If you&#39;re looking for Kotlin DSLs for your proto messages etc., that&#39;s a separate feature of protobuf, not gRPC.)","title":"gRPC Kotlin Codegen Plugin for Protobuf Compiler it generates only one class","body":"<p>It sounds like you're not correctly compiling or generating the Java proto and gRPC classes that are necessary to use gRPC for Kotlin.  It is normal and expected that the code you've shown should only generates one Kotlin file.</p>\n<p>(If you're looking for Kotlin DSLs for your proto messages etc., that's a separate feature of protobuf, not gRPC.)</p>\n"},{"tags":[],"owner":{"account_id":28851,"reputation":29373,"user_id":77409,"accept_rate":100,"display_name":"James Ward"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688161152,"creation_date":1688152438,"answer_id":76591707,"question_id":76527691,"body_markdown":"You also need to run protoc with the [java plugin](https://repo1.maven.org/maven2/io/grpc/protoc-gen-grpc-java/1.56.0/) to generate the Java classes.  Something like:\r\n```\r\n# generate java message stubs\r\nprotoc --java_out=. --proto_path=. HelloService.proto\r\n\r\n# generate kotlin message stubs\r\nprotoc --kotlin_out=. --proto_path=. HelloService.proto\r\n\r\n# generate java service stubs\r\nprotoc --grpc-java_out=. --plugin=protoc-gen-grpc-java=protoc-gen-grpc-java.exe --proto_path=. HelloService.proto\r\n\r\n# generate kotlin service stubs\r\nprotoc --grpc-kotlin_out=. --plugin=protoc-gen-grpc-kotlin=protoc-gen-grpc-kotlin.sh --proto_path=. HelloService.proto\r\n```","title":"gRPC Kotlin Codegen Plugin for Protobuf Compiler it generates only one class","body":"<p>You also need to run protoc with the <a href=\"https://repo1.maven.org/maven2/io/grpc/protoc-gen-grpc-java/1.56.0/\" rel=\"nofollow noreferrer\">java plugin</a> to generate the Java classes.  Something like:</p>\n<pre><code># generate java message stubs\nprotoc --java_out=. --proto_path=. HelloService.proto\n\n# generate kotlin message stubs\nprotoc --kotlin_out=. --proto_path=. HelloService.proto\n\n# generate java service stubs\nprotoc --grpc-java_out=. --plugin=protoc-gen-grpc-java=protoc-gen-grpc-java.exe --proto_path=. HelloService.proto\n\n# generate kotlin service stubs\nprotoc --grpc-kotlin_out=. --plugin=protoc-gen-grpc-kotlin=protoc-gen-grpc-kotlin.sh --proto_path=. HelloService.proto\n</code></pre>\n"}],"owner":{"account_id":3330839,"reputation":1207,"user_id":2799824,"display_name":"Rafael Souza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688161152,"creation_date":1687389155,"question_id":76527691,"body_markdown":"I&#39;m trying to generate classes for my grpc client in kotlin but it only generates one class I&#39;m following this tutorial [link][1] I already have protoc installed on my ubuntu I will post how is the protoc-gen-grpc-kotlin.sh and my proto. If anyone knows where I&#39;m going wrong, I&#39;d appreciate it.\r\n\r\n\r\n  [1]: https://github.com/grpc/grpc-kotlin/tree/master/compiler#manual-protoc-usage\r\n\r\nmy protoc-gen-grpc-kotlin.sh:\r\n\r\n    #!/usr/bin/bash\r\n    \r\n    DIR=&quot;$( cd &quot;$( dirname &quot;${BASH_SOURCE[0]}&quot; )&quot; &gt;/dev/null 2&gt;&amp;1 &amp;&amp; pwd )&quot;\r\n    java -jar $DIR/protoc-gen-grpc-kotlin-1.3.0-jdk8.jar $@\r\n\r\n\r\nI am using **protoc-gen-grpc-kotlin-1.3.0-jdk8.jar** plugin\r\n\r\nMy java version is 17 but I tested it with version 8 and it didn&#39;t work either\r\n\r\nMy HelloService.proto:\r\n\r\n    syntax = &quot;proto3&quot;;\r\n    package com.example.grpc;\r\n    option java_multiple_files = true;\r\n    //import &quot;google/api/annotations.proto&quot;;\r\n    \r\n    message HelloRequest {\r\n        string firstName = 1;\r\n        string lastName = 2;\r\n    }\r\n    \r\n    message HelloResponse {\r\n        string greeting =1;\r\n    }\r\n    \r\n    service HelloService {\r\n        rpc hello (HelloRequest) returns (HelloResponse) {}\r\n    //    rpc hello(HelloRequest) returns (HelloResponse){\r\n    //        option (google.api.http) = {\r\n    //            post: &quot;/demo/item&quot;\r\n    //            body: &quot;*&quot;\r\n    //        };\r\n    //    }\r\n    }\r\n\r\n\r\nprotoc command:\r\n\r\n    protoc --kotlin_out=. --java_out=. --plugin=protoc-gen-kotlin=protoc-gen-grpc-kotlin.sh --proto_path=. HelloService.proto\r\n\r\n\r\n\r\n\r\nJava classes are normally generated but Create only one kotlin service\r\n\r\nThanks!\r\n\r\n\r\n\r\n\r\n","title":"gRPC Kotlin Codegen Plugin for Protobuf Compiler it generates only one class","body":"<p>I'm trying to generate classes for my grpc client in kotlin but it only generates one class I'm following this tutorial <a href=\"https://github.com/grpc/grpc-kotlin/tree/master/compiler#manual-protoc-usage\" rel=\"nofollow noreferrer\">link</a> I already have protoc installed on my ubuntu I will post how is the protoc-gen-grpc-kotlin.sh and my proto. If anyone knows where I'm going wrong, I'd appreciate it.</p>\n<p>my protoc-gen-grpc-kotlin.sh:</p>\n<pre><code>#!/usr/bin/bash\n\nDIR=&quot;$( cd &quot;$( dirname &quot;${BASH_SOURCE[0]}&quot; )&quot; &gt;/dev/null 2&gt;&amp;1 &amp;&amp; pwd )&quot;\njava -jar $DIR/protoc-gen-grpc-kotlin-1.3.0-jdk8.jar $@\n</code></pre>\n<p>I am using <strong>protoc-gen-grpc-kotlin-1.3.0-jdk8.jar</strong> plugin</p>\n<p>My java version is 17 but I tested it with version 8 and it didn't work either</p>\n<p>My HelloService.proto:</p>\n<pre><code>syntax = &quot;proto3&quot;;\npackage com.example.grpc;\noption java_multiple_files = true;\n//import &quot;google/api/annotations.proto&quot;;\n\nmessage HelloRequest {\n    string firstName = 1;\n    string lastName = 2;\n}\n\nmessage HelloResponse {\n    string greeting =1;\n}\n\nservice HelloService {\n    rpc hello (HelloRequest) returns (HelloResponse) {}\n//    rpc hello(HelloRequest) returns (HelloResponse){\n//        option (google.api.http) = {\n//            post: &quot;/demo/item&quot;\n//            body: &quot;*&quot;\n//        };\n//    }\n}\n</code></pre>\n<p>protoc command:</p>\n<pre><code>protoc --kotlin_out=. --java_out=. --plugin=protoc-gen-kotlin=protoc-gen-grpc-kotlin.sh --proto_path=. HelloService.proto\n</code></pre>\n<p>Java classes are normally generated but Create only one kotlin service</p>\n<p>Thanks!</p>\n"},{"tags":["java","postgresql","spring-boot"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1688150141,"post_id":76591381,"comment_id":135040339,"body_markdown":"The url is incorrect.","body":"The url is incorrect."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1688150530,"post_id":76591381,"comment_id":135040393,"body_markdown":"Remove javax.persistence dependency from pom.xml. It is old and not needed.","body":"Remove javax.persistence dependency from pom.xml. It is old and not needed."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1688150615,"post_id":76591381,"comment_id":135040406,"body_markdown":"@Jens url is correct as it defaults to localhost.","body":"@Jens url is correct as it defaults to localhost."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1688150679,"post_id":76591381,"comment_id":135040414,"body_markdown":"Add no-args constructor to the entity class.","body":"Add no-args constructor to the entity class."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1688150768,"post_id":76591381,"comment_id":135040424,"body_markdown":"Remove RestController annotation from the main application class.","body":"Remove RestController annotation from the main application class."},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1688154219,"post_id":76591381,"comment_id":135041020,"body_markdown":"How do you know it hasn&#39;t detected the dialect? Can you share the log output when you start your app?","body":"How do you know it hasn&#39;t detected the dialect? Can you share the log output when you start your app?"},{"owner":{"account_id":24365804,"reputation":21,"user_id":18299566,"display_name":"Israel Sanchez"},"score":0,"creation_date":1688254773,"post_id":76591381,"comment_id":135049649,"body_markdown":"@AndyWilkinson \n\nHere is the log output: https://imgur.com/a/PnXWDXP\n\nHere is an image of my project directory with the packages: https://imgur.com/a/3Kl7mSF","body":"@AndyWilkinson   Here is the log output: <a href=\"https://imgur.com/a/PnXWDXP\" rel=\"nofollow noreferrer\">imgur.com/a/PnXWDXP</a>  Here is an image of my project directory with the packages: <a href=\"https://imgur.com/a/3Kl7mSF\" rel=\"nofollow noreferrer\">imgur.com/a/3Kl7mSF</a>"},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1688284947,"post_id":76591381,"comment_id":135051451,"body_markdown":"Thanks for the logs but I can&#39;t see any sign of a problem with the database or the dialect. Can you describe the error that you&#39;re seeing and provide a [complete yet minimal example](/help/mcve) that reproduces it.","body":"Thanks for the logs but I can&#39;t see any sign of a problem with the database or the dialect. Can you describe the error that you&#39;re seeing and provide a <a href=\"/help/mcve\">complete yet minimal example</a> that reproduces it."},{"owner":{"account_id":24365804,"reputation":21,"user_id":18299566,"display_name":"Israel Sanchez"},"score":0,"creation_date":1688316504,"post_id":76591381,"comment_id":135054814,"body_markdown":"@AndyWilkinson So I followed AmigosCode&#39;s tutorial and this a part of his output log: https://imgur.com/a/UiBrEI0","body":"@AndyWilkinson So I followed AmigosCode&#39;s tutorial and this a part of his output log: <a href=\"https://imgur.com/a/UiBrEI0\" rel=\"nofollow noreferrer\">imgur.com/a/UiBrEI0</a>"},{"owner":{"account_id":24365804,"reputation":21,"user_id":18299566,"display_name":"Israel Sanchez"},"score":0,"creation_date":1688316558,"post_id":76591381,"comment_id":135054824,"body_markdown":"@AndyWilkinson The HHH000400 log is whats missing","body":"@AndyWilkinson The HHH000400 log is whats missing"},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1688375038,"post_id":76591381,"comment_id":135060889,"body_markdown":"Unfortunately, with no apparent error and no complete yet minimal example, it isn&#39;t clear why that one line of logging is of such importance. It&#39;s quite possible that Hibernate isn&#39;t logging anything because you&#39;ve told it the dialect to use. In other words, there&#39;s nothing for it to detect.","body":"Unfortunately, with no apparent error and no complete yet minimal example, it isn&#39;t clear why that one line of logging is of such importance. It&#39;s quite possible that Hibernate isn&#39;t logging anything because you&#39;ve told it the dialect to use. In other words, there&#39;s nothing for it to detect."}],"owner":{"account_id":24365804,"reputation":21,"user_id":18299566,"display_name":"Israel Sanchez"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":335,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1688161078,"creation_date":1688148872,"question_id":76591381,"body_markdown":"I am trying to make a web-based Java application using Spring Boot. So far, I have set up my PostgreSQL database, classes, controllers and service classes, but for some reason, when I run my application, it doesn&#39;t seem to be detecting the dialect I coded in my applications.properties folder\r\n\r\nHere is the code from my applications.properites folder:\r\n\r\n    spring.datasource.url=jdbc:postgresql:letscook\r\n    spring.datasource.username=\r\n    spring.datasource.password=\r\n    spring.jpa.hibernate.ddl-auto=create-drop\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n\r\nHere&#39;s my pom.xml file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;LetsCook&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt; \r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;persistence-api&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\nHere is my SpringBoot Application class:\r\n\r\n    package com.example.LetsCook;\r\n\r\n    import java.util.List;\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.context.properties.EnableConfigurationProperties;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import com.example.LetsCook.FoodDish.FoodDish;\r\n    \r\n    @SpringBootApplication\r\n    @EnableConfigurationProperties\r\n    @RestController\r\n    public class LetsCookApplication {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(LetsCookApplication.class, args);\r\n    \t}\r\n    }\r\n\r\nHere is my FoodDish Class:\r\n\r\n    package com.example.LetsCook.FoodDish;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.SequenceGenerator;\r\n    import javax.persistence.Table;\r\n    \r\n    @Entity(name = &quot;FoodDish&quot;)\r\n    @Table(name = &quot;fooddish&quot;)\r\n    public class FoodDish {\r\n    \t\r\n    \tpublic enum Meal {\r\n    \t\tBREAKFAST,\r\n    \t\tLUNCH,\r\n    \t\tDINNER\r\n    \t}\r\n    \t@Id\r\n    \t@SequenceGenerator(name = &quot;letscook_sequence&quot;, sequenceName = &quot;letscook_sequence&quot;, allocationSize = 1)\r\n    \t@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;letscook_sequence&quot;)\r\n    \tprivate int id;\r\n    \tprivate Meal mealType;\r\n    \tprivate String dishName;\r\n    \tprivate String[] ingredients;\r\n    \tprivate int calories;\r\n    \t\r\n    \tpublic FoodDish (Meal mealType, String dishName, String[] ingredientList, int calories) {\r\n    \t\tthis.mealType = mealType;\r\n    \t\tthis.dishName = dishName;\r\n    \t\tthis.ingredients = ingredientList;\r\n    \t\tthis.calories = calories;\r\n    \t}\r\n    \tpublic Meal getMealtype() {\r\n    \t\treturn mealType;\r\n    \t}\r\n    \tpublic void setMealType(Meal newMealType) {\r\n    \t\tthis.mealType = newMealType;\r\n    \t}\r\n    \tpublic String getDishName() {\r\n    \t\treturn dishName;\r\n    \t}\r\n    \tpublic void setDishName(String newDishName) {\r\n    \t\tthis.dishName = newDishName;\r\n    \t}\r\n    \tpublic String[] getIngredients() {\r\n    \t\treturn ingredients;\r\n    \t}\r\n    \t\r\n    \tpublic void setIngredients(String[] newIngredientList) {\r\n    \t\tthis.ingredients = newIngredientList;\r\n    \t}\r\n    \tpublic int getCalories() {\r\n    \t\treturn calories;\r\n    \t}\r\n    \tpublic void setCalories(int newCalories) {\r\n    \t\tthis.calories = newCalories;\r\n    \t}\r\n    \tpublic void getDishInfo() {\r\n    \t\tSystem.out.println(&quot;Name of Dish: &quot; + dishName);\r\n    \t\tSystem.out.print(&quot;Ingredients: &quot;);\r\n    \t\tfor (int i = 0; i &lt; ingredients.length; i++) {\r\n    \t\t\tif (i &lt; ingredients.length - 1) {\r\n    \t\t\t\tSystem.out.print(ingredients[i] + &quot;, &quot;);\r\n    \t\t\t}\r\n    \t\t\telse {\r\n    \t\t\t\tSystem.out.print(ingredients[i] + &#39;\\n&#39;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;Calories: &quot; + calories);\r\n    \t}\r\n    }\r\n\r\n\r\nHere is my FoodDishController class:\r\n\r\n    package com.example.LetsCook.FoodDish;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    @RequestMapping(path = &quot;api/fooddish&quot;)\r\n    public class FoodDishController {\r\n    \tprivate final FoodDishService foodDishService;\r\n    \t@Autowired\r\n    \tpublic FoodDishController(FoodDishService foodDishService) {\r\n    \t\tthis.foodDishService = foodDishService;\r\n    \t}\r\n    \t@GetMapping\r\n    \tpublic List&lt;FoodDish&gt; getFoodDishes() {\r\n    \t\treturn foodDishService.getFoodDishes();\r\n     \t}\r\n    }\r\n\r\nLastly, here is my FoodDishService class:\r\n\r\n    package com.example.LetsCook.FoodDish;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.springframework.stereotype.Service;\r\n    \r\n    @Service\r\n    public class FoodDishService {\r\n    \tpublic List&lt;FoodDish&gt; getFoodDishes() {\r\n    \t\treturn List.of(new FoodDish(FoodDish.Meal.BREAKFAST, &quot;Cake&quot;, new String[]{&quot;flour&quot;, &quot;egg&quot;, &quot;frosting&quot;}, 300));\r\n    \t}\r\n    }\r\n\r\n","title":"Why doesn&#39;t Spring Boot detect my PostgreSQL Dialect?","body":"<p>I am trying to make a web-based Java application using Spring Boot. So far, I have set up my PostgreSQL database, classes, controllers and service classes, but for some reason, when I run my application, it doesn't seem to be detecting the dialect I coded in my applications.properties folder</p>\n<p>Here is the code from my applications.properites folder:</p>\n<pre><code>spring.datasource.url=jdbc:postgresql:letscook\nspring.datasource.username=\nspring.datasource.password=\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.properties.hibernate.format_sql=true\n</code></pre>\n<p>Here's my pom.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.example&lt;/groupId&gt;\n&lt;artifactId&gt;demo&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;LetsCook&lt;/name&gt;\n&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt; \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;persistence-api&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>Here is my SpringBoot Application class:</p>\n<pre><code>package com.example.LetsCook;\n\nimport java.util.List;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.example.LetsCook.FoodDish.FoodDish;\n\n@SpringBootApplication\n@EnableConfigurationProperties\n@RestController\npublic class LetsCookApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(LetsCookApplication.class, args);\n    }\n}\n</code></pre>\n<p>Here is my FoodDish Class:</p>\n<pre><code>package com.example.LetsCook.FoodDish;\nimport javax.persistence.Id;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.SequenceGenerator;\nimport javax.persistence.Table;\n\n@Entity(name = &quot;FoodDish&quot;)\n@Table(name = &quot;fooddish&quot;)\npublic class FoodDish {\n    \n    public enum Meal {\n        BREAKFAST,\n        LUNCH,\n        DINNER\n    }\n    @Id\n    @SequenceGenerator(name = &quot;letscook_sequence&quot;, sequenceName = &quot;letscook_sequence&quot;, allocationSize = 1)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;letscook_sequence&quot;)\n    private int id;\n    private Meal mealType;\n    private String dishName;\n    private String[] ingredients;\n    private int calories;\n    \n    public FoodDish (Meal mealType, String dishName, String[] ingredientList, int calories) {\n        this.mealType = mealType;\n        this.dishName = dishName;\n        this.ingredients = ingredientList;\n        this.calories = calories;\n    }\n    public Meal getMealtype() {\n        return mealType;\n    }\n    public void setMealType(Meal newMealType) {\n        this.mealType = newMealType;\n    }\n    public String getDishName() {\n        return dishName;\n    }\n    public void setDishName(String newDishName) {\n        this.dishName = newDishName;\n    }\n    public String[] getIngredients() {\n        return ingredients;\n    }\n    \n    public void setIngredients(String[] newIngredientList) {\n        this.ingredients = newIngredientList;\n    }\n    public int getCalories() {\n        return calories;\n    }\n    public void setCalories(int newCalories) {\n        this.calories = newCalories;\n    }\n    public void getDishInfo() {\n        System.out.println(&quot;Name of Dish: &quot; + dishName);\n        System.out.print(&quot;Ingredients: &quot;);\n        for (int i = 0; i &lt; ingredients.length; i++) {\n            if (i &lt; ingredients.length - 1) {\n                System.out.print(ingredients[i] + &quot;, &quot;);\n            }\n            else {\n                System.out.print(ingredients[i] + '\\n');\n            }\n        }\n        System.out.println(&quot;Calories: &quot; + calories);\n    }\n}\n</code></pre>\n<p>Here is my FoodDishController class:</p>\n<pre><code>package com.example.LetsCook.FoodDish;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(path = &quot;api/fooddish&quot;)\npublic class FoodDishController {\n    private final FoodDishService foodDishService;\n    @Autowired\n    public FoodDishController(FoodDishService foodDishService) {\n        this.foodDishService = foodDishService;\n    }\n    @GetMapping\n    public List&lt;FoodDish&gt; getFoodDishes() {\n        return foodDishService.getFoodDishes();\n    }\n}\n</code></pre>\n<p>Lastly, here is my FoodDishService class:</p>\n<pre><code>package com.example.LetsCook.FoodDish;\n\nimport java.util.List;\n\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class FoodDishService {\n    public List&lt;FoodDish&gt; getFoodDishes() {\n        return List.of(new FoodDish(FoodDish.Meal.BREAKFAST, &quot;Cake&quot;, new String[]{&quot;flour&quot;, &quot;egg&quot;, &quot;frosting&quot;}, 300));\n    }\n}\n</code></pre>\n"},{"tags":["javascript","java","spring-boot","cors","fetch-api"],"comments":[{"owner":{"account_id":1807376,"reputation":1019,"user_id":1644214,"accept_rate":100,"display_name":"alvonellos"},"score":0,"creation_date":1688147561,"post_id":76589676,"comment_id":135039972,"body_markdown":"@Override\n    public void addCorsMappings(CorsRegistry registry) {\n        //https://www.baeldung.com/spring-cors\n        registry.addMapping(&quot;/**&quot;)\n             .allowedOrigins(&quot;*&quot;)\n             .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;, &quot;PATCH&quot;)\n             .allowedHeaders(&quot;*&quot;)\n             //.allowCredentials(true)\n             .maxAge(3600);\n    }\n}","body":"@Override     public void addCorsMappings(CorsRegistry registry) {         //<a href=\"https://www.baeldung.com/spring-cors\" rel=\"nofollow noreferrer\">baeldung.com/spring-cors</a>         registry.addMapping(&quot;/**&quot;)              .allowedOrigins(&quot;<i>&quot;)              .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;, &quot;PATCH&quot;)              .allowedHeaders(&quot;</i>&quot;)              //.allowCredentials(true)              .maxAge(3600);     } }"}],"answers":[{"tags":[],"owner":{"account_id":25798368,"reputation":36,"user_id":19541194,"display_name":"Razmik Vardanyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688160295,"creation_date":1688160244,"answer_id":76592281,"question_id":76589676,"body_markdown":"You can try this code for your gateway. For me it is working, and one thing to advice no need cors config for each microservice, because if you are using gateway it will be the only one service which should keep connection with front end other microservices should be closed from outside requests:\r\n\r\n        @Configuration\r\n        public class CorsConfig {\r\n    \r\n        private final ConfigConstants constants;\r\n    \r\n      public CorsConfig(ConfigConstants constants) {\r\n        this.constants = constants;\r\n      }\r\n    \r\n      @Bean\r\n      public FilterRegistrationBean&lt;CorsFilter&gt; customCorsFilter() {\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        CorsConfiguration config = new CorsConfiguration();\r\n        config.setAllowCredentials(true);\r\n        config.addAllowedOrigin(constants.getAllowedUrl());\r\n        config.addAllowedHeader(constants.getAllowedHeaders());\r\n        config.setAllowedMethods(constants.getAllowedMethods());\r\n        source.registerCorsConfiguration(constants.getAllowedPattern(), config);\r\n        FilterRegistrationBean&lt;CorsFilter&gt; bean = new FilterRegistrationBean&lt;&gt;(new CorsFilter(source));\r\n        bean.setOrder(HIGHEST_PRECEDENCE);\r\n        return bean;\r\n      }\r\n    }\r\n\r\n","title":"CORS Error when send to request to gateway but it works when I send it to Microservice","body":"<p>You can try this code for your gateway. For me it is working, and one thing to advice no need cors config for each microservice, because if you are using gateway it will be the only one service which should keep connection with front end other microservices should be closed from outside requests:</p>\n<pre><code>    @Configuration\n    public class CorsConfig {\n\n    private final ConfigConstants constants;\n\n  public CorsConfig(ConfigConstants constants) {\n    this.constants = constants;\n  }\n\n  @Bean\n  public FilterRegistrationBean&lt;CorsFilter&gt; customCorsFilter() {\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    CorsConfiguration config = new CorsConfiguration();\n    config.setAllowCredentials(true);\n    config.addAllowedOrigin(constants.getAllowedUrl());\n    config.addAllowedHeader(constants.getAllowedHeaders());\n    config.setAllowedMethods(constants.getAllowedMethods());\n    source.registerCorsConfiguration(constants.getAllowedPattern(), config);\n    FilterRegistrationBean&lt;CorsFilter&gt; bean = new FilterRegistrationBean&lt;&gt;(new CorsFilter(source));\n    bean.setOrder(HIGHEST_PRECEDENCE);\n    return bean;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":18393352,"reputation":41,"user_id":13398481,"display_name":"Yekta Y&#252;ksel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":325,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1688160295,"creation_date":1688134291,"question_id":76589676,"body_markdown":"I am building an app using react and spring boot. I have a gateway and a BFF and trying to direct request gateway to bff. While trying to direct POST requests through gateway I get 403 error. Here is the gateway application.properties:\r\n\r\n        eureka.client.service-url.defaultZone=http://eureka:password@localhost:8761/eureka\r\n    spring.application.name=api-gateway\r\n    spring.main.web-application-type=reactive\r\n    \r\n    logging.level.root=INFO\r\n    logging.level.org.springframework.cloud.gateway.route.RouteDefinitionLocator=INFO\r\n    logging.level.org.springframework.cloud.gateway=TRACE\r\n    \r\n    spring.cloud.gateway.discovery.locator.enabled=true\r\n    spring.cloud.gateway.discovery.locator.lower-case-service-id=true\r\n    \r\n    ## BFF Service Route\r\n    spring.cloud.gateway.routes[0].id=bff\r\n    spring.cloud.gateway.routes[0].uri=http://localhost:8085\r\n    spring.cloud.gateway.routes[0].predicates[0]=Path=/**\r\n    spring.cloud.gateway.routes[0].predicates[1]=Method=GET,POST,DELETE, OPTIONS\r\n    \r\n    ## Order Service Route\r\n    spring.cloud.gateway.routes[1].id=order\r\n    spring.cloud.gateway.routes[1].uri=lb://order\r\n    spring.cloud.gateway.routes[1].predicates[0]=Path=/**\r\n    \r\n    \r\n    ## Discovery Server Route\r\n    spring.cloud.gateway.routes[2].id=discovery-service\r\n    spring.cloud.gateway.routes[2].uri=http://localhost:8761\r\n    spring.cloud.gateway.routes[2].predicates[0]=Path=/eureka/web\r\n    spring.cloud.gateway.routes[2].filters[0]=SetPath=/\r\n    \r\n    ##Discovery Server Static Resources Route\r\n    spring.cloud.gateway.routes[3].id=discovery-service-static\r\n    spring.cloud.gateway.routes[3].uri=http://localhost:8761\r\n    spring.cloud.gateway.routes[3].predicates[0]=Path=/eureka/**\r\n    \r\n    spring.security.oauth2.resourceserver.jwt.issuer-uri=http://localhost:8181/realms/spring-boot-microsevices-realm\r\n\r\nCorsConfig I have in gateway:\r\n\r\n    package com.mealkit.gateway.config;\r\n    \r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.web.servlet.config.annotation.CorsRegistry;\r\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n    \r\n    @Configuration\r\n    public class CorsConfig {\r\n    \r\n        @Bean\r\n        public WebMvcConfigurer corsConfigurer() {\r\n            return new WebMvcConfigurer() {\r\n                @Override\r\n                public void addCorsMappings(CorsRegistry registry) {\r\n                    registry.addMapping(&quot;/**&quot;)  // All endpoints in the application\r\n                            .allowedOrigins(&quot;http://localhost:3000&quot;)  // Or other origins\r\n                            .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;HEAD&quot;, &quot;OPTIONS&quot;)\r\n                            .allowedHeaders(&quot;*&quot;)// Or other HTTP methods\r\n                            .allowCredentials(true);\r\n                }\r\n            }; }}\r\n\r\nController of bff (btw it works when I directly send the request to bff)\r\n\r\n    package com.mealkit.bff.web.product;\r\n    \r\n    \r\n    import com.mealkit.bff.api.model.product.request.ProductApiInput;\r\n    import com.mealkit.bff.api.model.product.response.ProductApiOutput;\r\n    import com.mealkit.bff.api.service.product.product.ProductService;\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    import java.util.List;\r\n    \r\n    @RestController\r\n    @RequiredArgsConstructor\r\n    @RequestMapping(&quot;/api/product&quot;)\r\n    @CrossOrigin(value = &quot;http://localhost:3000&quot;)\r\n    public class ProductWebApi {\r\n    \r\n        private final ProductService productService;\r\n        @GetMapping(&quot;/getProductById/{productId}&quot;)\r\n        public ResponseEntity&lt;ProductApiOutput&gt; getProductById(@PathVariable Long productId) throws Exception {\r\n            return productService.getProductById(productId);\r\n        }\r\n    \r\n        @PostMapping(value = &quot;/getProductsById&quot;)\r\n        public ResponseEntity&lt;List&lt;ProductApiOutput&gt;&gt; getProductsById(@RequestBody List&lt;Long&gt; productIdList) {\r\n            return productService.getProductsById(productIdList);\r\n        }\r\n    \r\n        @PostMapping(&quot;/getProductsByTag&quot;)\r\n        public ResponseEntity&lt;List&lt;ProductApiOutput&gt;&gt; getProductByTag(@RequestBody List&lt;Long&gt; tagIdList) {\r\n            return productService.getProductByTag(tagIdList);\r\n        }\r\n    \r\n        @DeleteMapping(&quot;/deleteProduct/{productId}&quot;)\r\n        public ResponseEntity&lt;Void&gt; deleteProduct(@PathVariable Long productId) {\r\n            productService.deleteProduct(productId);\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n        }\r\n    \r\n        @PutMapping(&quot;/updateProduct&quot;)\r\n        public ResponseEntity&lt;Void&gt; updateProduct(@RequestBody ProductApiInput productApiInput) {\r\n            productService.updateProduct(productApiInput);\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n        }\r\n    \r\n        @PostMapping(&quot;/createProduct&quot;)\r\n        public ResponseEntity&lt;Void&gt; createProduct(@RequestBody ProductApiInput productApiInput) {\r\n            productService.createProduct(productApiInput);\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n        }\r\n    }\r\n\r\nhere is the code I manage the request on frontend:\r\n\r\n    const URL = &quot;http://localhost:&quot;;\r\n    const PORT = &quot;8080&quot;;\r\n    const ORDER_PORT = &quot;8080&quot;;\r\n    const ORDER_ENDPOINT = &quot;/api/v1/order&quot;;\r\n    const PRODUCT_ENDPOINT = &quot;/api/product&quot;;\r\n    const TAG_ENDPOINT = &quot;/api/tag&quot;;\r\n    const BUSINESS_ENDPOINT = &quot;/api/business&quot;;\r\n    \r\n    export const getProductById = async (productId) =&gt; {\r\n      try {\r\n        const response = await fetch(\r\n          `${URL}${PORT}${PRODUCT_ENDPOINT}/getProductById/${productId}`\r\n        );\r\n        const data = await response.json();\r\n        return data;\r\n      } catch (error) {\r\n        console.error(&quot;Error:&quot;, error);\r\n        throw error;\r\n      }\r\n    };\r\n    \r\n    export const getProductsByTag = async (tags) =&gt; {\r\n      try {\r\n        const response = await fetch(\r\n          `${URL}${PORT}${PRODUCT_ENDPOINT}/getProductsByTag`,\r\n          {\r\n            method: &quot;POST&quot;,\r\n            headers: {\r\n              &quot;Content-Type&quot;: &quot;application/json&quot;,\r\n            },\r\n            body: JSON.stringify(tags),\r\n          }\r\n        );\r\n        const data = await response.json();\r\n        return data;\r\n      } catch (error) {\r\n        console.error(&quot;Error:&quot;, error);\r\n        throw error;\r\n      }\r\n    };\r\n    \r\n    export const getProductsById = async (productIdList) =&gt; {\r\n      try {\r\n        const response = await fetch(\r\n          `${URL}${PORT}${PRODUCT_ENDPOINT}/getProductsById`,\r\n          {\r\n            method: &quot;POST&quot;,\r\n            headers: {\r\n              &#39;Content-Type&#39;: &#39;application/json&#39;\r\n            },\r\n            body: JSON.stringify(productIdList),\r\n          }\r\n        );\r\n        const data = await response.json();\r\n        return data;\r\n      } catch (error) {\r\n        console.error(&quot;Error:&quot;, error);\r\n        throw error;\r\n      }\r\n    };\r\n    \r\n    export const getTagsByIds = async (tagIdList) =&gt; {\r\n      try {\r\n        const response = await fetch(`${TAG_ENDPOINT}/getTagsByIds`, {\r\n          method: &quot;POST&quot;,\r\n          headers: {\r\n            &#39;Accept&#39;: &#39;application/json&#39;,\r\n            &#39;Content-Type&#39;: &#39;application/json&#39;\r\n          },\r\n          body: JSON.stringify(tagIdList),\r\n        });\r\n        const data = await response.json();\r\n        return data;\r\n      } catch (error) {\r\n        console.error(&quot;Error:&quot;, error);\r\n        throw error;\r\n      }\r\n    };\r\n    \r\n    export const getTagById = async (tagId) =&gt; {\r\n      try {\r\n        const response = await fetch(\r\n          `${TAG_ENDPOINT}/getTagById/${tagId}`\r\n        );\r\n        const data = await response.json();\r\n        return data;\r\n      } catch (error) {\r\n        console.error(&quot;Error:&quot;, error);\r\n        throw error;\r\n      }\r\n    };\r\n    \r\n    export const getTags = async () =&gt; {\r\n      try {\r\n        const response = await fetch(`${URL}${PORT}${TAG_ENDPOINT}/getTags`);\r\n        const data = await response.json();\r\n        return data;\r\n      } catch (error) {\r\n        console.error(&quot;Error:&quot;, error);\r\n        throw error;\r\n      }\r\n    };\r\n    \r\n    export const businessGetProductById = async (productId) =&gt; {\r\n      try {\r\n        const response = await fetch(\r\n          `${URL}${PORT}${BUSINESS_ENDPOINT}/getProductById/${productId}`\r\n        );\r\n        const data = await response.json();\r\n        return data;\r\n      } catch (error) {\r\n        console.error(&quot;Error:&quot;, error);\r\n        throw error;\r\n      }\r\n    };\r\n    export const placeOrder = async (products) =&gt; {\r\n      try {\r\n        const response = await fetch(\r\n          `${URL}${ORDER_PORT}${ORDER_ENDPOINT}`,\r\n          {\r\n            method: &quot;POST&quot;,\r\n            headers: {\r\n              &quot;Content-Type&quot;: &quot;application/json&quot;,\r\n            },\r\n            body: JSON.stringify(products),\r\n          }\r\n        );\r\n        const data = await response.json();\r\n        return data;\r\n      } catch (error) {\r\n        console.error(&quot;Error:&quot;, error);\r\n        throw error;\r\n      }\r\n    };\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"CORS Error when send to request to gateway but it works when I send it to Microservice","body":"<p>I am building an app using react and spring boot. I have a gateway and a BFF and trying to direct request gateway to bff. While trying to direct POST requests through gateway I get 403 error. Here is the gateway application.properties:</p>\n<pre><code>    eureka.client.service-url.defaultZone=http://eureka:password@localhost:8761/eureka\nspring.application.name=api-gateway\nspring.main.web-application-type=reactive\n\nlogging.level.root=INFO\nlogging.level.org.springframework.cloud.gateway.route.RouteDefinitionLocator=INFO\nlogging.level.org.springframework.cloud.gateway=TRACE\n\nspring.cloud.gateway.discovery.locator.enabled=true\nspring.cloud.gateway.discovery.locator.lower-case-service-id=true\n\n## BFF Service Route\nspring.cloud.gateway.routes[0].id=bff\nspring.cloud.gateway.routes[0].uri=http://localhost:8085\nspring.cloud.gateway.routes[0].predicates[0]=Path=/**\nspring.cloud.gateway.routes[0].predicates[1]=Method=GET,POST,DELETE, OPTIONS\n\n## Order Service Route\nspring.cloud.gateway.routes[1].id=order\nspring.cloud.gateway.routes[1].uri=lb://order\nspring.cloud.gateway.routes[1].predicates[0]=Path=/**\n\n\n## Discovery Server Route\nspring.cloud.gateway.routes[2].id=discovery-service\nspring.cloud.gateway.routes[2].uri=http://localhost:8761\nspring.cloud.gateway.routes[2].predicates[0]=Path=/eureka/web\nspring.cloud.gateway.routes[2].filters[0]=SetPath=/\n\n##Discovery Server Static Resources Route\nspring.cloud.gateway.routes[3].id=discovery-service-static\nspring.cloud.gateway.routes[3].uri=http://localhost:8761\nspring.cloud.gateway.routes[3].predicates[0]=Path=/eureka/**\n\nspring.security.oauth2.resourceserver.jwt.issuer-uri=http://localhost:8181/realms/spring-boot-microsevices-realm\n</code></pre>\n<p>CorsConfig I have in gateway:</p>\n<pre><code>package com.mealkit.gateway.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\n@Configuration\npublic class CorsConfig {\n\n    @Bean\n    public WebMvcConfigurer corsConfigurer() {\n        return new WebMvcConfigurer() {\n            @Override\n            public void addCorsMappings(CorsRegistry registry) {\n                registry.addMapping(&quot;/**&quot;)  // All endpoints in the application\n                        .allowedOrigins(&quot;http://localhost:3000&quot;)  // Or other origins\n                        .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;HEAD&quot;, &quot;OPTIONS&quot;)\n                        .allowedHeaders(&quot;*&quot;)// Or other HTTP methods\n                        .allowCredentials(true);\n            }\n        }; }}\n</code></pre>\n<p>Controller of bff (btw it works when I directly send the request to bff)</p>\n<pre><code>package com.mealkit.bff.web.product;\n\n\nimport com.mealkit.bff.api.model.product.request.ProductApiInput;\nimport com.mealkit.bff.api.model.product.response.ProductApiOutput;\nimport com.mealkit.bff.api.service.product.product.ProductService;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@RestController\n@RequiredArgsConstructor\n@RequestMapping(&quot;/api/product&quot;)\n@CrossOrigin(value = &quot;http://localhost:3000&quot;)\npublic class ProductWebApi {\n\n    private final ProductService productService;\n    @GetMapping(&quot;/getProductById/{productId}&quot;)\n    public ResponseEntity&lt;ProductApiOutput&gt; getProductById(@PathVariable Long productId) throws Exception {\n        return productService.getProductById(productId);\n    }\n\n    @PostMapping(value = &quot;/getProductsById&quot;)\n    public ResponseEntity&lt;List&lt;ProductApiOutput&gt;&gt; getProductsById(@RequestBody List&lt;Long&gt; productIdList) {\n        return productService.getProductsById(productIdList);\n    }\n\n    @PostMapping(&quot;/getProductsByTag&quot;)\n    public ResponseEntity&lt;List&lt;ProductApiOutput&gt;&gt; getProductByTag(@RequestBody List&lt;Long&gt; tagIdList) {\n        return productService.getProductByTag(tagIdList);\n    }\n\n    @DeleteMapping(&quot;/deleteProduct/{productId}&quot;)\n    public ResponseEntity&lt;Void&gt; deleteProduct(@PathVariable Long productId) {\n        productService.deleteProduct(productId);\n        return new ResponseEntity&lt;&gt;(HttpStatus.OK);\n    }\n\n    @PutMapping(&quot;/updateProduct&quot;)\n    public ResponseEntity&lt;Void&gt; updateProduct(@RequestBody ProductApiInput productApiInput) {\n        productService.updateProduct(productApiInput);\n        return new ResponseEntity&lt;&gt;(HttpStatus.OK);\n    }\n\n    @PostMapping(&quot;/createProduct&quot;)\n    public ResponseEntity&lt;Void&gt; createProduct(@RequestBody ProductApiInput productApiInput) {\n        productService.createProduct(productApiInput);\n        return new ResponseEntity&lt;&gt;(HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>here is the code I manage the request on frontend:</p>\n<pre><code>const URL = &quot;http://localhost:&quot;;\nconst PORT = &quot;8080&quot;;\nconst ORDER_PORT = &quot;8080&quot;;\nconst ORDER_ENDPOINT = &quot;/api/v1/order&quot;;\nconst PRODUCT_ENDPOINT = &quot;/api/product&quot;;\nconst TAG_ENDPOINT = &quot;/api/tag&quot;;\nconst BUSINESS_ENDPOINT = &quot;/api/business&quot;;\n\nexport const getProductById = async (productId) =&gt; {\n  try {\n    const response = await fetch(\n      `${URL}${PORT}${PRODUCT_ENDPOINT}/getProductById/${productId}`\n    );\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error(&quot;Error:&quot;, error);\n    throw error;\n  }\n};\n\nexport const getProductsByTag = async (tags) =&gt; {\n  try {\n    const response = await fetch(\n      `${URL}${PORT}${PRODUCT_ENDPOINT}/getProductsByTag`,\n      {\n        method: &quot;POST&quot;,\n        headers: {\n          &quot;Content-Type&quot;: &quot;application/json&quot;,\n        },\n        body: JSON.stringify(tags),\n      }\n    );\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error(&quot;Error:&quot;, error);\n    throw error;\n  }\n};\n\nexport const getProductsById = async (productIdList) =&gt; {\n  try {\n    const response = await fetch(\n      `${URL}${PORT}${PRODUCT_ENDPOINT}/getProductsById`,\n      {\n        method: &quot;POST&quot;,\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(productIdList),\n      }\n    );\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error(&quot;Error:&quot;, error);\n    throw error;\n  }\n};\n\nexport const getTagsByIds = async (tagIdList) =&gt; {\n  try {\n    const response = await fetch(`${TAG_ENDPOINT}/getTagsByIds`, {\n      method: &quot;POST&quot;,\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(tagIdList),\n    });\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error(&quot;Error:&quot;, error);\n    throw error;\n  }\n};\n\nexport const getTagById = async (tagId) =&gt; {\n  try {\n    const response = await fetch(\n      `${TAG_ENDPOINT}/getTagById/${tagId}`\n    );\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error(&quot;Error:&quot;, error);\n    throw error;\n  }\n};\n\nexport const getTags = async () =&gt; {\n  try {\n    const response = await fetch(`${URL}${PORT}${TAG_ENDPOINT}/getTags`);\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error(&quot;Error:&quot;, error);\n    throw error;\n  }\n};\n\nexport const businessGetProductById = async (productId) =&gt; {\n  try {\n    const response = await fetch(\n      `${URL}${PORT}${BUSINESS_ENDPOINT}/getProductById/${productId}`\n    );\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error(&quot;Error:&quot;, error);\n    throw error;\n  }\n};\nexport const placeOrder = async (products) =&gt; {\n  try {\n    const response = await fetch(\n      `${URL}${ORDER_PORT}${ORDER_ENDPOINT}`,\n      {\n        method: &quot;POST&quot;,\n        headers: {\n          &quot;Content-Type&quot;: &quot;application/json&quot;,\n        },\n        body: JSON.stringify(products),\n      }\n    );\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error(&quot;Error:&quot;, error);\n    throw error;\n  }\n};\n</code></pre>\n"},{"tags":["java","android","xml"],"answers":[{"tags":[],"owner":{"account_id":20873906,"reputation":11,"user_id":15333182,"display_name":"Ethan Hubbartt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688160235,"creation_date":1688160235,"answer_id":76592279,"question_id":76585056,"body_markdown":"Fixed just needed to add these proguard rules\r\n\r\n    -dontwarn org.w3c.dom.**\r\n    -keep class org.w3c.dom.**{*;}\r\n    -dontwarn javax.xml.**\r\n    -keep class javax.xml.**{*;}","title":"Dom4j not working after building android app","body":"<p>Fixed just needed to add these proguard rules</p>\n<pre><code>-dontwarn org.w3c.dom.**\n-keep class org.w3c.dom.**{*;}\n-dontwarn javax.xml.**\n-keep class javax.xml.**{*;}\n</code></pre>\n"}],"owner":{"account_id":20873906,"reputation":11,"user_id":15333182,"display_name":"Ethan Hubbartt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688160235,"creation_date":1688079517,"question_id":76585056,"body_markdown":"I have an android app that uses java and ive been trying to use dom4j Document to parse some XML files. The XML is provides as text such as\r\n\r\n```\r\nSAXReader reader = new SAXReader();\r\nDocument document = reader.read(new StringReader(xmlText));\r\n\r\n```\r\n\r\n\r\nThis all works fine in the compiler but does not work after building but i see no build warnings or errors related to this. I have seen a few posts online about compatibility with doc4j and android but im unsure why this would be failing.\r\n\r\nHere is the dependency im using\r\n```\r\nimplementation &#39;org.dom4j:dom4j:2.1.3&#39;\r\n```\r\nAnd here are the proguard rules\r\n\r\n```\r\n-keep class org.dom4j.** { *; }\r\n-keepclassmembers class org.dom4j.** { *; }\r\n-dontwarn org.dom4j.**\r\n-dontwarn org.xml.sax.**\r\n-keep class org.xml.sax.**{*;}\r\n```\r\n\r\nI have tried to use string editing to get this task done as well as XMLPull parse but those are quite more verbose and hard to use and im struggling to convert my code to work properly with those. \r\n\r\n\r\nSo far i have tried a variety of progruard rules and trying to re-write the code using the build in xml parser tools but that has not been going well. ","title":"Dom4j not working after building android app","body":"<p>I have an android app that uses java and ive been trying to use dom4j Document to parse some XML files. The XML is provides as text such as</p>\n<pre><code>SAXReader reader = new SAXReader();\nDocument document = reader.read(new StringReader(xmlText));\n\n</code></pre>\n<p>This all works fine in the compiler but does not work after building but i see no build warnings or errors related to this. I have seen a few posts online about compatibility with doc4j and android but im unsure why this would be failing.</p>\n<p>Here is the dependency im using</p>\n<pre><code>implementation 'org.dom4j:dom4j:2.1.3'\n</code></pre>\n<p>And here are the proguard rules</p>\n<pre><code>-keep class org.dom4j.** { *; }\n-keepclassmembers class org.dom4j.** { *; }\n-dontwarn org.dom4j.**\n-dontwarn org.xml.sax.**\n-keep class org.xml.sax.**{*;}\n</code></pre>\n<p>I have tried to use string editing to get this task done as well as XMLPull parse but those are quite more verbose and hard to use and im struggling to convert my code to work properly with those.</p>\n<p>So far i have tried a variety of progruard rules and trying to re-write the code using the build in xml parser tools but that has not been going well.</p>\n"},{"tags":["java","biginteger","ip2location"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1688067555,"post_id":76584044,"comment_id":135027908,"body_markdown":"`long` is restricted to numbers between -9223372036854775808 to 9223372036854775807, inclusive - `BigInteger`  - 2^2147483647 (exclusive) to +2^2147483647 (exclusive) -- posted numbers are well within the `long` range","body":"<code>long</code> is restricted to numbers between -9223372036854775808 to 9223372036854775807, inclusive - <code>BigInteger</code>  - 2^2147483647 (exclusive) to +2^2147483647 (exclusive) -- posted numbers are well within the <code>long</code> range"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1688073770,"post_id":76584044,"comment_id":135028917,"body_markdown":"What is the algorithm that you are talking about? That is needed to understand the question.","body":"What is the algorithm that you are talking about? That is needed to understand the question."},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1688128703,"post_id":76584044,"comment_id":135036102,"body_markdown":"They&#39;re just integers, plain and simple. Are you asking if they&#39;ll fit in a java `long`?","body":"They&#39;re just integers, plain and simple. Are you asking if they&#39;ll fit in a java <code>long</code>?"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1688081568,"creation_date":1688070868,"answer_id":76584447,"question_id":76584044,"body_markdown":"You asked:\r\n&gt;Are these Java long integer or BigInteger format numbers?\r\n\r\nThey are `long` values.\r\n\r\nIn Java, you can see the `min` and `max` by using setting `MIN_VALUE` and `MAX_VALUE` for each of `Byte, Short, Integer, Long, Float, and Double`.  You can see how many bits wide they are by using SIZE.\r\n\r\nExamples:\r\n```\r\nSystem.out.println(Long.MAX_VALUE);\r\nSystem.out.println(Long.SIZE);\r\n```\r\nprints\r\n```\r\n9223372036854775807\r\n64\r\n```\r\nCheck out [Double](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Double.html) and [Float](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Float.html) for more constants such as MIN_EXPONENT and PRECISION.\r\n\r\nFor requirements exceeding those types, check out [BigInteger](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/math/BigInteger.html) and [BigDecimal](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/math/BigDecimal.html)\r\n\r\nAlso, if you want to find the maximum number of digits, in a `long` (similar for `int, short, or byte`, you can do the following:\r\n```\r\ndouble digitsInLong = (Long.SIZE*Math.log(2))/Math.log(10);\r\nSystem.out.println(digitsInLong);\r\n```\r\nprints\r\n```\r\n19.265919722494793\r\n```\r\nThis says there can be between `19` and `20` digits.  All longs can have `19` digits but some longs with `20` will overflow the `63` bit size limit for positive numbers.","title":"Are these Java long integer or BigInteger format numbers? IP2Location csv database","body":"<p>You asked:</p>\n<blockquote>\n<p>Are these Java long integer or BigInteger format numbers?</p>\n</blockquote>\n<p>They are <code>long</code> values.</p>\n<p>In Java, you can see the <code>min</code> and <code>max</code> by using setting <code>MIN_VALUE</code> and <code>MAX_VALUE</code> for each of <code>Byte, Short, Integer, Long, Float, and Double</code>.  You can see how many bits wide they are by using SIZE.</p>\n<p>Examples:</p>\n<pre><code>System.out.println(Long.MAX_VALUE);\nSystem.out.println(Long.SIZE);\n</code></pre>\n<p>prints</p>\n<pre><code>9223372036854775807\n64\n</code></pre>\n<p>Check out <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Double.html\" rel=\"nofollow noreferrer\">Double</a> and <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Float.html\" rel=\"nofollow noreferrer\">Float</a> for more constants such as MIN_EXPONENT and PRECISION.</p>\n<p>For requirements exceeding those types, check out <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/math/BigInteger.html\" rel=\"nofollow noreferrer\">BigInteger</a> and <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\">BigDecimal</a></p>\n<p>Also, if you want to find the maximum number of digits, in a <code>long</code> (similar for <code>int, short, or byte</code>, you can do the following:</p>\n<pre><code>double digitsInLong = (Long.SIZE*Math.log(2))/Math.log(10);\nSystem.out.println(digitsInLong);\n</code></pre>\n<p>prints</p>\n<pre><code>19.265919722494793\n</code></pre>\n<p>This says there can be between <code>19</code> and <code>20</code> digits.  All longs can have <code>19</code> digits but some longs with <code>20</code> will overflow the <code>63</code> bit size limit for positive numbers.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1688071901,"creation_date":1688071901,"answer_id":76584545,"question_id":76584044,"body_markdown":"You can use the _[Long#parseLong](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Long.html#parseLong(java.lang.String))_ method, to convert a _String_ value to a  _[long](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html)_ primitive data-type.\r\n\r\n```java\r\nString[] a = { &quot;281470698522624&quot;,&quot;281470698524671&quot;,&quot;CN&quot;,&quot;China&quot;,&quot;Guangdong&quot;,&quot;Guangzhou&quot; };\r\nString[] b = { &quot;281470698524672&quot;,&quot;281470698528767&quot;,&quot;JP&quot;,&quot;Japan&quot;,&quot;Tokyo&quot;,&quot;Tokyo&quot; };\r\nlong a0 = Long.parseLong(a[0]);\r\nlong a1 = Long.parseLong(a[1]);\r\nlong b0 = Long.parseLong(b[0]);\r\nlong b1 = Long.parseLong(b[1]);\r\nSystem.out.println(&quot;a0 = &quot; + a0);\r\nSystem.out.println(&quot;a1 = &quot; + a1);\r\nSystem.out.println(&quot;b0 = &quot; + b0);\r\nSystem.out.println(&quot;b1 = &quot; + b1);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\na0 = 281470698522624\r\na1 = 281470698524671\r\nb0 = 281470698524672\r\nb1 = 281470698528767\r\n```\r\n\r\nIf you&#39;d like to use the _[BigInteger](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/BigInteger.html)_ class, you can simply supply the _String_ value as the parameter of the constructor method.\r\n\r\n```java\r\nBigInteger a0 = new BigInteger(a[0]);\r\nBigInteger a1 = new BigInteger(a[1]);\r\nBigInteger b0 = new BigInteger(b[0]);\r\nBigInteger b1 = new BigInteger(b[1]);\r\n```","title":"Are these Java long integer or BigInteger format numbers? IP2Location csv database","body":"<p>You can use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Long.html#parseLong(java.lang.String)\" rel=\"nofollow noreferrer\">Long#parseLong</a></em> method, to convert a <em>String</em> value to a  <em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">long</a></em> primitive data-type.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] a = { &quot;281470698522624&quot;,&quot;281470698524671&quot;,&quot;CN&quot;,&quot;China&quot;,&quot;Guangdong&quot;,&quot;Guangzhou&quot; };\nString[] b = { &quot;281470698524672&quot;,&quot;281470698528767&quot;,&quot;JP&quot;,&quot;Japan&quot;,&quot;Tokyo&quot;,&quot;Tokyo&quot; };\nlong a0 = Long.parseLong(a[0]);\nlong a1 = Long.parseLong(a[1]);\nlong b0 = Long.parseLong(b[0]);\nlong b1 = Long.parseLong(b[1]);\nSystem.out.println(&quot;a0 = &quot; + a0);\nSystem.out.println(&quot;a1 = &quot; + a1);\nSystem.out.println(&quot;b0 = &quot; + b0);\nSystem.out.println(&quot;b1 = &quot; + b1);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>a0 = 281470698522624\na1 = 281470698524671\nb0 = 281470698524672\nb1 = 281470698528767\n</code></pre>\n<p>If you'd like to use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/BigInteger.html\" rel=\"nofollow noreferrer\">BigInteger</a></em> class, you can simply supply the <em>String</em> value as the parameter of the constructor method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>BigInteger a0 = new BigInteger(a[0]);\nBigInteger a1 = new BigInteger(a[1]);\nBigInteger b0 = new BigInteger(b[0]);\nBigInteger b1 = new BigInteger(b[1]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1688080255,"creation_date":1688080255,"answer_id":76585095,"question_id":76584044,"body_markdown":"It [__is documented__](https://www.ip2location.com/database/db4-ip-country-region-city-isp):\r\n\r\n```\r\nip_from\tINT(10)  / Decimal(39,0) \tFirst IP address in netblock.\r\nip_to\tINT(10)  / Decimal(39,0) \tLast IP address in netblock.\r\n```\r\n\r\nGiven that your samples consist of more than 10 digits, you have the IPv6 version of DB4. Which would have been a good thing to mention in your question. These numbers can grow very large - larger than `long` can support (which can go as far as `Long.MAX_VALUE`, which is `2^63-1`, far less than 39 nines, which is as far as these numbers can theoretically go.\r\n\r\nYou could represent them with `BigInteger`, or 2 longs (IPv6 addresses are 128 bits long, and longs are 64 bit, so 2 longs can do it - given that this is basic IPv6 info, I don&#39;t think it&#39;s useful or necessary for IP2Location to mention this. In fact, calling it &#39;decimal(39,0)&#39; is a bit of a daft way to state &#39;IPv6 address as a single number stated in decimal&#39;. At any rate, they represent InetAddresses, so you might want to use the class that actually describes what it is, namely, [`InetAddress`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/net/InetAddress.html).\r\n","title":"Are these Java long integer or BigInteger format numbers? IP2Location csv database","body":"<p>It <a href=\"https://www.ip2location.com/database/db4-ip-country-region-city-isp\" rel=\"nofollow noreferrer\"><strong>is documented</strong></a>:</p>\n<pre><code>ip_from INT(10)  / Decimal(39,0)    First IP address in netblock.\nip_to   INT(10)  / Decimal(39,0)    Last IP address in netblock.\n</code></pre>\n<p>Given that your samples consist of more than 10 digits, you have the IPv6 version of DB4. Which would have been a good thing to mention in your question. These numbers can grow very large - larger than <code>long</code> can support (which can go as far as <code>Long.MAX_VALUE</code>, which is <code>2^63-1</code>, far less than 39 nines, which is as far as these numbers can theoretically go.</p>\n<p>You could represent them with <code>BigInteger</code>, or 2 longs (IPv6 addresses are 128 bits long, and longs are 64 bit, so 2 longs can do it - given that this is basic IPv6 info, I don't think it's useful or necessary for IP2Location to mention this. In fact, calling it 'decimal(39,0)' is a bit of a daft way to state 'IPv6 address as a single number stated in decimal'. At any rate, they represent InetAddresses, so you might want to use the class that actually describes what it is, namely, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/net/InetAddress.html\" rel=\"nofollow noreferrer\"><code>InetAddress</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":5478644,"reputation":653,"user_id":4355877,"accept_rate":82,"display_name":"Mick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688160231,"creation_date":1688160231,"answer_id":76592278,"question_id":76584044,"body_markdown":"I found methods for everything that I need in this...\r\n\r\n    IPAddress Java library\r\n    https://seancfoley.github.io/IPAddress/\r\n\r\nThe manager of this library has posted this link in a few of the threads on this topic.","title":"Are these Java long integer or BigInteger format numbers? IP2Location csv database","body":"<p>I found methods for everything that I need in this...</p>\n<pre><code>IPAddress Java library\nhttps://seancfoley.github.io/IPAddress/\n</code></pre>\n<p>The manager of this library has posted this link in a few of the threads on this topic.</p>\n"}],"owner":{"account_id":5478644,"reputation":653,"user_id":4355877,"accept_rate":82,"display_name":"Mick"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1688160231,"creation_date":1688066512,"question_id":76584044,"body_markdown":"I have never used long integer or BigInteger format numbers in my Java code, and this aspect of the IP2Location databases does not appear to be documented. I need to know which it is, so that I can write some simple code to compare numbers for greater that or equal. Here are a couple of lines of data from the file...\r\n\r\n    &quot;281470698522624&quot;,&quot;281470698524671&quot;,&quot;CN&quot;,&quot;China&quot;,&quot;Guangdong&quot;,&quot;Guangzhou&quot;\r\n    &quot;281470698524672&quot;,&quot;281470698528767&quot;,&quot;JP&quot;,&quot;Japan&quot;,&quot;Tokyo&quot;,&quot;Tokyo&quot;\r\n\r\nEDIT: The two numbers at the  beginning of each line represent a range of IP addresses that are located in the city identified by the last 4 entries on the line. I convert my IP address to a decimal notation following a known algorithm, then search thru the file sequentially until I find a second number that is greater than or equal to my IP. Then I have the location data :)\r\nQED\r\n\r\nHope you can help, \r\n***Mick*** :)","title":"Are these Java long integer or BigInteger format numbers? IP2Location csv database","body":"<p>I have never used long integer or BigInteger format numbers in my Java code, and this aspect of the IP2Location databases does not appear to be documented. I need to know which it is, so that I can write some simple code to compare numbers for greater that or equal. Here are a couple of lines of data from the file...</p>\n<pre><code>&quot;281470698522624&quot;,&quot;281470698524671&quot;,&quot;CN&quot;,&quot;China&quot;,&quot;Guangdong&quot;,&quot;Guangzhou&quot;\n&quot;281470698524672&quot;,&quot;281470698528767&quot;,&quot;JP&quot;,&quot;Japan&quot;,&quot;Tokyo&quot;,&quot;Tokyo&quot;\n</code></pre>\n<p>EDIT: The two numbers at the  beginning of each line represent a range of IP addresses that are located in the city identified by the last 4 entries on the line. I convert my IP address to a decimal notation following a known algorithm, then search thru the file sequentially until I find a second number that is greater than or equal to my IP. Then I have the location data :)\nQED</p>\n<p>Hope you can help,\n<em><strong>Mick</strong></em> :)</p>\n"},{"tags":["java","spring-data-jpa","double","precision"],"answers":[{"tags":[],"owner":{"account_id":1447743,"reputation":2678,"user_id":1379730,"accept_rate":52,"display_name":"Jason"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688159579,"creation_date":1688159579,"answer_id":76592242,"question_id":76592211,"body_markdown":"Turns out that actually my problem is most likely exactly that I don&#39;t use a `BigDecimal`. Based on the comments [in the accepted answer of this thread][1], the `scale` parameter of the `@Column` annotation will NOT work for `Double` fields, but it WILL work for `BigDecimal` fields.\r\n\r\n  [1]: https://stackoverflow.com/questions/4078559/how-to-specify-doubles-precision-on-hibernate","title":"[Spring Data JPA]: @Column(scale) parameter has no effect","body":"<p>Turns out that actually my problem is most likely exactly that I don't use a <code>BigDecimal</code>. Based on the comments <a href=\"https://stackoverflow.com/questions/4078559/how-to-specify-doubles-precision-on-hibernate\">in the accepted answer of this thread</a>, the <code>scale</code> parameter of the <code>@Column</code> annotation will NOT work for <code>Double</code> fields, but it WILL work for <code>BigDecimal</code> fields.</p>\n"},{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1688159751,"creation_date":1688159751,"answer_id":76592253,"question_id":76592211,"body_markdown":"Here is the answer shown below\r\n\r\nIn this updated **AccountDao**, the balance field is now of type BigDecimal, and the `@Column` annotation includes `precision = 15` and `scale = 2`. The precision attribute represents the total number of digits to be stored, and the scale attribute represents the number of digits to the right of the decimal point.\r\n\r\nHere is the AccountDao shown below\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Table(name = &quot;ACCOUNT&quot;)\r\n    public class AccountDao {\r\n    \r\n      @Id\r\n      @Column(name = &quot;id&quot;, nullable = false)\r\n      private String id;\r\n    \r\n      @Column(name = &quot;balance&quot;, precision = 15, scale = 2)\r\n      private BigDecimal balance;\r\n    \r\n      @Column(name = &quot;currency&quot;)\r\n      @Enumerated(EnumType.STRING)\r\n      private Currency currency;\r\n    \r\n      @Column(name = &quot;created_at&quot;)\r\n      private Date createdAt;\r\n    \r\n      // equals(), hashcode()\r\n    }\r\n\r\n","title":"[Spring Data JPA]: @Column(scale) parameter has no effect","body":"<p>Here is the answer shown below</p>\n<p>In this updated <strong>AccountDao</strong>, the balance field is now of type BigDecimal, and the <code>@Column</code> annotation includes <code>precision = 15</code> and <code>scale = 2</code>. The precision attribute represents the total number of digits to be stored, and the scale attribute represents the number of digits to the right of the decimal point.</p>\n<p>Here is the AccountDao shown below</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@ToString\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name = &quot;ACCOUNT&quot;)\npublic class AccountDao {\n\n  @Id\n  @Column(name = &quot;id&quot;, nullable = false)\n  private String id;\n\n  @Column(name = &quot;balance&quot;, precision = 15, scale = 2)\n  private BigDecimal balance;\n\n  @Column(name = &quot;currency&quot;)\n  @Enumerated(EnumType.STRING)\n  private Currency currency;\n\n  @Column(name = &quot;created_at&quot;)\n  private Date createdAt;\n\n  // equals(), hashcode()\n}\n</code></pre>\n"}],"owner":{"account_id":1447743,"reputation":2678,"user_id":1379730,"accept_rate":52,"display_name":"Jason"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76592242,"answer_count":2,"score":0,"last_activity_date":1688159751,"creation_date":1688159190,"question_id":76592211,"body_markdown":"I have the following DAO that is supposed to model bank accounts. \r\n\r\n```java\r\n@Entity\r\n@Getter\r\n@Setter\r\n@ToString\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Table(name = &quot;ACCOUNT&quot;)\r\npublic class AccountDao {\r\n\r\n  @Id\r\n  @Column(name = &quot;id&quot;, nullable = false)\r\n  private String id;\r\n\r\n  @Column(name = &quot;balance&quot;, scale = 2)\r\n  private Double balance;\r\n\r\n  @Column(name = &quot;currency&quot;)\r\n  @Enumerated(EnumType.STRING)\r\n  private Currency currency;\r\n\r\n  @Column(name = &quot;created_at&quot;)\r\n  private Date createdAt;\r\n\r\n  // equals(), hashcode()\r\n}\r\n```\r\n\r\n*(I am aware that for balances one ought to best use `BigDecimal` instead of `Float` or `Double`, and it&#39;s happening in the next iteration. This is not production - grade code by any means.)*\r\n\r\nMy repository for this DAO simply extends `JPARepository&lt;AccountDao, String&gt;`:\r\n\r\n```java\r\npublic interface AccountRepository extends JpaRepository&lt;AccountDao, String&gt; {}\r\n```\r\n\r\nThe relevant controller and service class methods are relatively straightforward:\r\n\r\nController POST endpoint:\r\n\r\n```java\r\n @PostMapping(&quot;/newaccount&quot;)\r\n  public ResponseEntity&lt;EntityModel&lt;AccountDto&gt;&gt; postNewAccount(@RequestBody AccountDto accountDto) {\r\n    accountService.storeAccount(accountDto);\r\n    return ResponseEntity.ok(accountModelAssembler.toModel(accountDto));\r\n  }\r\n```\r\n\r\nService method `storeAccount()`:\r\n\r\n```java\r\npublic void storeAccount(AccountDto accountDto) throws AccountAlreadyExistsException{\r\n    Optional&lt;AccountDao&gt; accountDao = accountRepository.findById(accountDto.getId());\r\n    if (accountDao.isEmpty()) {\r\n      accountRepository.save(\r\n          new AccountDao(\r\n              accountDto.getId(), accountDto.getBalance(), accountDto.getCurrency(), new Date()));\r\n    } else {\r\n      throw new AccountAlreadyExistsException(accountDto.getId());\r\n    }\r\n  }\r\n```\r\n\r\nWhen I `POST` the following payload:\r\n\r\n```json\r\n{\r\n    &quot;id&quot; : &quot;acc2&quot;,\r\n    &quot;balance&quot; : 1022.3678234,\r\n    &quot;currency&quot; : &quot;USD&quot;\r\n}\r\n```\r\n\r\nMy database (MySQL Ver 8.0.33-0ubuntu0.20.04.2) persists the `Double` with all the decimal digits, ignoring the `scale = 2` option that I have provided to the `@Column` annotation. \r\n\r\n\r\n```sql\r\nmysql&gt; select * from account where id = &#39;acc2&#39;;\r\n+------+--------------+----------------------------+----------+\r\n| id   | balance      | created_at                 | currency |\r\n+------+--------------+----------------------------+----------+\r\n| acc2 | 1022.3678234 | 2023-06-30 23:48:10.230000 | USD      |\r\n+------+--------------+----------------------------+----------+\r\n```\r\n\r\nWhy does this happen? What am I doing wrong here (besides not using `BigDecimal`; see above)?","title":"[Spring Data JPA]: @Column(scale) parameter has no effect","body":"<p>I have the following DAO that is supposed to model bank accounts.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Getter\n@Setter\n@ToString\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name = &quot;ACCOUNT&quot;)\npublic class AccountDao {\n\n  @Id\n  @Column(name = &quot;id&quot;, nullable = false)\n  private String id;\n\n  @Column(name = &quot;balance&quot;, scale = 2)\n  private Double balance;\n\n  @Column(name = &quot;currency&quot;)\n  @Enumerated(EnumType.STRING)\n  private Currency currency;\n\n  @Column(name = &quot;created_at&quot;)\n  private Date createdAt;\n\n  // equals(), hashcode()\n}\n</code></pre>\n<p><em>(I am aware that for balances one ought to best use <code>BigDecimal</code> instead of <code>Float</code> or <code>Double</code>, and it's happening in the next iteration. This is not production - grade code by any means.)</em></p>\n<p>My repository for this DAO simply extends <code>JPARepository&lt;AccountDao, String&gt;</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface AccountRepository extends JpaRepository&lt;AccountDao, String&gt; {}\n</code></pre>\n<p>The relevant controller and service class methods are relatively straightforward:</p>\n<p>Controller POST endpoint:</p>\n<pre class=\"lang-java prettyprint-override\"><code> @PostMapping(&quot;/newaccount&quot;)\n  public ResponseEntity&lt;EntityModel&lt;AccountDto&gt;&gt; postNewAccount(@RequestBody AccountDto accountDto) {\n    accountService.storeAccount(accountDto);\n    return ResponseEntity.ok(accountModelAssembler.toModel(accountDto));\n  }\n</code></pre>\n<p>Service method <code>storeAccount()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void storeAccount(AccountDto accountDto) throws AccountAlreadyExistsException{\n    Optional&lt;AccountDao&gt; accountDao = accountRepository.findById(accountDto.getId());\n    if (accountDao.isEmpty()) {\n      accountRepository.save(\n          new AccountDao(\n              accountDto.getId(), accountDto.getBalance(), accountDto.getCurrency(), new Date()));\n    } else {\n      throw new AccountAlreadyExistsException(accountDto.getId());\n    }\n  }\n</code></pre>\n<p>When I <code>POST</code> the following payload:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;id&quot; : &quot;acc2&quot;,\n    &quot;balance&quot; : 1022.3678234,\n    &quot;currency&quot; : &quot;USD&quot;\n}\n</code></pre>\n<p>My database (MySQL Ver 8.0.33-0ubuntu0.20.04.2) persists the <code>Double</code> with all the decimal digits, ignoring the <code>scale = 2</code> option that I have provided to the <code>@Column</code> annotation.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>mysql&gt; select * from account where id = 'acc2';\n+------+--------------+----------------------------+----------+\n| id   | balance      | created_at                 | currency |\n+------+--------------+----------------------------+----------+\n| acc2 | 1022.3678234 | 2023-06-30 23:48:10.230000 | USD      |\n+------+--------------+----------------------------+----------+\n</code></pre>\n<p>Why does this happen? What am I doing wrong here (besides not using <code>BigDecimal</code>; see above)?</p>\n"},{"tags":["java","spring","spring-boot","dependency-injection","guice"],"answers":[{"tags":[],"owner":{"account_id":8642274,"reputation":750,"user_id":6470613,"display_name":"Jerin D Joy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687206344,"creation_date":1600329719,"answer_id":63933739,"question_id":63933520,"body_markdown":"You should be able to autowire dependencies from an external jar by using componentscan if there are classes annotated as autowire candidates (`@Bean`, `@Component`,..)\r\n\r\n`@ComponentScan` would not find any candidates for autowiring unless there are any candidates which are qualified for autowiring is available in the external library.\r\n\r\nInstead, you can define an `@Bean` annotation and return a new instance of the class you want to return in your @Configuration class.\r\n\r\n    @Configuration\r\n    public class MyConfig {\r\n    \r\n      @Bean\r\n      public MyExternalBean myExternalBean() {\r\n         return new MyExternalBean();\r\n      }\r\n    }\r\n\r\n\r\nand in the class you need to use it, write :\r\n\r\n    @Autowired\r\n    private MyExternalBean myExternalBean;\r\n\r\nIf you need autoconfiguration, refer : https://docs.spring.io/spring-boot/docs/2.0.0.M3/reference/html/boot-features-developing-auto-configuration.html. Here, you make use of spring.factories and specify the classes available for autoconfiguration so that you need not specify `@ComponentScan` in every project you use that external jar (applicable when the jar is developed by you or your company for use in other projects and not for third-party jars).","title":"Can spring boot&#39;s @Autowired inject dependencies from a jar(included in classpath) which is using GUICE for DI?","body":"<p>You should be able to autowire dependencies from an external jar by using componentscan if there are classes annotated as autowire candidates (<code>@Bean</code>, <code>@Component</code>,..)</p>\n<p><code>@ComponentScan</code> would not find any candidates for autowiring unless there are any candidates which are qualified for autowiring is available in the external library.</p>\n<p>Instead, you can define an <code>@Bean</code> annotation and return a new instance of the class you want to return in your @Configuration class.</p>\n<pre><code>@Configuration\npublic class MyConfig {\n\n  @Bean\n  public MyExternalBean myExternalBean() {\n     return new MyExternalBean();\n  }\n}\n</code></pre>\n<p>and in the class you need to use it, write :</p>\n<pre><code>@Autowired\nprivate MyExternalBean myExternalBean;\n</code></pre>\n<p>If you need autoconfiguration, refer : <a href=\"https://docs.spring.io/spring-boot/docs/2.0.0.M3/reference/html/boot-features-developing-auto-configuration.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.0.0.M3/reference/html/boot-features-developing-auto-configuration.html</a>. Here, you make use of spring.factories and specify the classes available for autoconfiguration so that you need not specify <code>@ComponentScan</code> in every project you use that external jar (applicable when the jar is developed by you or your company for use in other projects and not for third-party jars).</p>\n"},{"tags":[],"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688158975,"creation_date":1688158975,"answer_id":76592199,"question_id":63933520,"body_markdown":"There isn&#39;t enough detail in the question to show a definitive answer, but have you seen Spring Guice (https://github.com/spring-projects/spring-guice)? It is designed for that kind of integration. You would need to identify the Guice `Module(s)` in `com.package.dependency` and register them as Spring components.","title":"Can spring boot&#39;s @Autowired inject dependencies from a jar(included in classpath) which is using GUICE for DI?","body":"<p>There isn't enough detail in the question to show a definitive answer, but have you seen Spring Guice (<a href=\"https://github.com/spring-projects/spring-guice\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-guice</a>)? It is designed for that kind of integration. You would need to identify the Guice <code>Module(s)</code> in <code>com.package.dependency</code> and register them as Spring components.</p>\n"}],"owner":{"account_id":12887882,"reputation":1,"user_id":11681056,"display_name":"abhishek gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":527,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688158975,"creation_date":1600329010,"question_id":63933520,"body_markdown":"I have a base package which is using **guice** for DI. I am using this as a library in my other project where I am using Spring boot So can I autowire dependencies from that jar to my spring boot project. \r\nLet&#39;s say the artifact of the base package is com.package.dependency and my spring boot project is `com.example.spring-boot` \r\nI have tried\r\n\r\n     @ComponentScan(basePackages = {&quot;com.example.spring-boot&quot;,&quot;com.package.dependency&quot;})\r\n\r\n but it does not work.","title":"Can spring boot&#39;s @Autowired inject dependencies from a jar(included in classpath) which is using GUICE for DI?","body":"<p>I have a base package which is using <strong>guice</strong> for DI. I am using this as a library in my other project where I am using Spring boot So can I autowire dependencies from that jar to my spring boot project.\nLet's say the artifact of the base package is com.package.dependency and my spring boot project is <code>com.example.spring-boot</code>\nI have tried</p>\n<pre><code> @ComponentScan(basePackages = {&quot;com.example.spring-boot&quot;,&quot;com.package.dependency&quot;})\n</code></pre>\n<p>but it does not work.</p>\n"},{"tags":["java","segmentation-fault","jvm","fatal-error"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1688129184,"post_id":76589052,"comment_id":135036205,"body_markdown":"You should not use the one line format for an error log. Please use the multi line [code format](https://stackoverflow.com/editing-help#code) for code, errors and logs.","body":"You should not use the one line format for an error log. Please use the multi line <a href=\"https://stackoverflow.com/editing-help#code\">code format</a> for code, errors and logs."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1688129324,"post_id":76589052,"comment_id":135036246,"body_markdown":"Are there more lines to the error? Share the custom code too. It could be a Java bug also. Did you change the JDK version too? And what Java arguments are you using to launch the server?","body":"Are there more lines to the error? Share the custom code too. It could be a Java bug also. Did you change the JDK version too? And what Java arguments are you using to launch the server?"},{"owner":{"account_id":5615986,"reputation":61,"user_id":4447312,"display_name":"lorenzo"},"score":0,"creation_date":1688139308,"post_id":76589052,"comment_id":135038457,"body_markdown":"Thanks aled, added further info to description","body":"Thanks aled, added further info to description"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1688141454,"post_id":76589052,"comment_id":135038867,"body_markdown":"The error message mentioned ClientEnvironmentServiceImpl.isMobileDevice(). You are showing a different method.","body":"The error message mentioned ClientEnvironmentServiceImpl.isMobileDevice(). You are showing a different method."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1688143320,"post_id":76589052,"comment_id":135039247,"body_markdown":"Are those all the lines of the error? I don&#39;t see a thread or the rest of the stacktrace.","body":"Are those all the lines of the error? I don&#39;t see a thread or the rest of the stacktrace."},{"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"score":0,"creation_date":1688152264,"post_id":76589052,"comment_id":135040682,"body_markdown":"The error message has &quot;c2&quot;, which suggests that the c2/server compiler is at fault. Try running with the `-client` option added to the command line.","body":"The error message has &quot;c2&quot;, which suggests that the c2/server compiler is at fault. Try running with the <code>-client</code> option added to the command line."},{"owner":{"account_id":5615986,"reputation":61,"user_id":4447312,"display_name":"lorenzo"},"score":0,"creation_date":1688157635,"post_id":76589052,"comment_id":135041540,"body_markdown":"aled, added thread and upper part of stacktrace. Tks","body":"aled, added thread and upper part of stacktrace. Tks"},{"owner":{"account_id":5615986,"reputation":61,"user_id":4447312,"display_name":"lorenzo"},"score":0,"creation_date":1688157808,"post_id":76589052,"comment_id":135041562,"body_markdown":"Thanks boneill. What the -client option is supposed to do? We experienced the problem and we aren&#39;t able to reproduce, so we would like to investigate the problem on the base of the evidence collected or find a way to reproduce it.","body":"Thanks boneill. What the -client option is supposed to do? We experienced the problem and we aren&#39;t able to reproduce, so we would like to investigate the problem on the base of the evidence collected or find a way to reproduce it."},{"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"score":0,"creation_date":1688180250,"post_id":76589052,"comment_id":135043292,"body_markdown":"@lorenzo c1 is the &quot;client&quot; compiler, and c2 is the &quot;server&quot; compiler. Nowadays tiered compilation is used, and so both c1 and c2 are used. You can explicitly choose one over the other, to see if it helps work around the problem. I think in the end, you&#39;ll need a newer JVM (which hopefully has a fix) or you need to file a Java bug report. https://www.oracle.com/java/technologies/whitepaper.html","body":"@lorenzo c1 is the &quot;client&quot; compiler, and c2 is the &quot;server&quot; compiler. Nowadays tiered compilation is used, and so both c1 and c2 are used. You can explicitly choose one over the other, to see if it helps work around the problem. I think in the end, you&#39;ll need a newer JVM (which hopefully has a fix) or you need to file a Java bug report. <a href=\"https://www.oracle.com/java/technologies/whitepaper.html\" rel=\"nofollow noreferrer\">oracle.com/java/technologies/whitepaper.html</a>"}],"owner":{"account_id":5615986,"reputation":61,"user_id":4447312,"display_name":"lorenzo"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688157585,"creation_date":1688129125,"question_id":76589052,"body_markdown":"We are moving our J2EE application from WebSphere to JBoss.\r\n\r\nIn first smoke tests we had a couple of time a JVM crash, but we aren&#39;t able to find the path to reproduce the problem yet.\r\n\r\nThe JVM crash causes the following:\r\n\r\n    # A fatal error has been detected by the Java Runtime Environment:\r\n    #\r\n    #  SIGSEGV (0xb) at pc=0x00007fff8df86788, pid=3555039, tid=821817\r\n    #\r\n    # JRE version: OpenJDK Runtime Environment 18.9 (11.0.12+7) (build 11.0.12+7-LTS)\r\n    # Java VM: OpenJDK 64-Bit Server VM 18.9 (11.0.12+7-LTS, mixed mode, tiered, compressed oops, g1 gc, linux-ppc64le)\r\n    # Problematic frame:\r\n    # J 210874 c2 custom.package.ClientEnvironmentServiceImpl.isMobileDevice(Ljava/lang/String;Ljavax/servlet/http/Cookie;)Ljava/lang/Boolean; (64 bytes) @ 0x00007fff8df86788 [0x00007fff8df85e80+0x0000000000000908]\r\n\r\nThis the command line and arguments to start the server\r\n\r\n    Command Line: -D[Standalone] -Xlog:gc*:file=/logs/jboss/cert/Product/gc.log:time,uptimemillis:filecount=5,filesize=3M -Xms9216m -Xmx12288m -XX:MetaspaceSize=96M -XX:MaxMetaspaceSize=1024m -Djava.net.preferIPv4Stack=true -Djboss.modules.system.pkgs=org.jboss.byteman -Djboss.as.management.blocking.timeout=10800 -Djorg.jboss.resolver.warning=true -Djava.awt.headless=true -Dgw.server.mode=prod -Dgw.cc.env=FORM -Dgw.cc.serverid=FORM1NSSA -Duser.region=US --add-exports=java.base/sun.nio.ch=ALL-UNNAMED --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED --add-exports=jdk.unsupported/sun.reflect=ALL-UNNAMED -Dorg.jboss.boot.log.file=/logs/jboss/cert/Product/server.log -Dlogging.configuration=file:/product/jboss-servers/cert/Product/configuration/logging.properties -agentpath:/product/dynatrace/agent/bin/1.265.152.20230519-165227/linux-ppcle-64/liboneagentloader.so=loglevelcon=none,datastorage=/dynatrace/runtime,logdir=/dynatrace/logs /product/jboss-eap/cert/jboss-modules.jar -mp /product/jboss-eap/cert/modules org.jboss.as.standalone -Djboss.home.dir=/product/jboss-eap/cert -Djboss.server.base.dir=/product/jboss-servers/cert/Product -Djboss.server.base.dir=/product/jboss-servers/cert/Product -Djboss.server.config.dir=/product/jboss-servers/cert/Product/configuration -Djboss.server.data.dir=/product/jboss-servers/cert/Product/data -Djboss.server.log.dir=/product/jboss-servers/cert/Product/logs -Djboss.server.temp.dir=/product/jboss-servers/cert/Product/tmp -Djboss.server.deploy.dir=/product/jboss-servers/cert/Product/deployments --server-config=standalone-full.xml -Djboss.bind.address.management=0.0.0.0 -Djboss.bind.address=0.0.0.0 -Djboss.socket.binding.port-offset=100\r\n\r\nThose information about underlying components:\r\n\r\n    Host: POWER9 (architected), altivec supported, 40 cores, 22G, Red Hat Enterprise Linux release 8.5 (Ootpa)\r\n\r\nThis is the thread/upper part of stacktrace involved\r\n\r\n```\r\nCurrent thread (0x0000010064c4e800):  JavaThread &quot;webcontainer-worker task-68&quot; [_thread_in_Java, id=821817, stack(0x00007fff197a0000,0x00007fff199a0000)]\r\n\r\nStack: [0x00007fff197a0000,0x00007fff199a0000],  sp=0x00007fff19999f50,  free space=2023k\r\nNative frames: (J=compiled Java code, A=aot compiled Java code, j=interpreted, Vv=VM code, C=native code)\r\nJ 210874 c2\r\ncustom.package.ClientEnvironmentServiceImpl.isMobileDevice(Ljava/lang/String;Ljavax/servlet/http/Cookie;)Ljava/lang/Boolean; (64 bytes) @ 0x00007fff8df86788 [0x00007fff8df85e80+0x0000000000000908]\r\nj custom.package.ClientEnvironmentServiceImpl.isMobileDevice(Ljavax/servlet/http/HttpServletRequest;)Ljava/lang/Boolean;+16\r\nj  custom.package.DeviceDetectionUtil.isMobile()Z+7\r\nj  pcfc.expressions.FNOLWizard_BasicInfoScreen_01autoExpressions$FNOLWizard_BasicInfoScreenExpressionsImpl.visible_152()Ljava/lang/Boolean;+4\r\njdk.internal.reflect.GeneratedMethodAccessor2744.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;+36\r\nJ 201421 c2 \r\n```\r\n\r\nThis the code involved\r\n\r\n  \r\n\r\n    `private String resolveCookieName()\r\n    {\r\n    String customName = getCustomCookieName();\r\n    if (null != customName) {\r\n    return customName;\r\n    }\r\n    return ClientEnvironmentConstants.COOKIE_DEVICE;\r\n    }`\r\n\r\nWhat we see, in both occurrences, is that the &quot;problematic frame&quot; is the same, and it&#39;s a custom code. \r\nHow could we use this information to investigate or reproduce the problem?\r\n\r\n\r\n\r\nWe tried to reproduce the navigation in the application that caused the problem 2 times, without any problem. In the previous application server (with different JVM) we have never seen this problem.\r\n\r\n\r\nThanks in advance\r\n","title":"A fatal error has been detected by the Java Runtime Environment: SIGSEGV, Problematic frame: custom code","body":"<p>We are moving our J2EE application from WebSphere to JBoss.</p>\n<p>In first smoke tests we had a couple of time a JVM crash, but we aren't able to find the path to reproduce the problem yet.</p>\n<p>The JVM crash causes the following:</p>\n<pre><code># A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x00007fff8df86788, pid=3555039, tid=821817\n#\n# JRE version: OpenJDK Runtime Environment 18.9 (11.0.12+7) (build 11.0.12+7-LTS)\n# Java VM: OpenJDK 64-Bit Server VM 18.9 (11.0.12+7-LTS, mixed mode, tiered, compressed oops, g1 gc, linux-ppc64le)\n# Problematic frame:\n# J 210874 c2 custom.package.ClientEnvironmentServiceImpl.isMobileDevice(Ljava/lang/String;Ljavax/servlet/http/Cookie;)Ljava/lang/Boolean; (64 bytes) @ 0x00007fff8df86788 [0x00007fff8df85e80+0x0000000000000908]\n</code></pre>\n<p>This the command line and arguments to start the server</p>\n<pre><code>Command Line: -D[Standalone] -Xlog:gc*:file=/logs/jboss/cert/Product/gc.log:time,uptimemillis:filecount=5,filesize=3M -Xms9216m -Xmx12288m -XX:MetaspaceSize=96M -XX:MaxMetaspaceSize=1024m -Djava.net.preferIPv4Stack=true -Djboss.modules.system.pkgs=org.jboss.byteman -Djboss.as.management.blocking.timeout=10800 -Djorg.jboss.resolver.warning=true -Djava.awt.headless=true -Dgw.server.mode=prod -Dgw.cc.env=FORM -Dgw.cc.serverid=FORM1NSSA -Duser.region=US --add-exports=java.base/sun.nio.ch=ALL-UNNAMED --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED --add-exports=jdk.unsupported/sun.reflect=ALL-UNNAMED -Dorg.jboss.boot.log.file=/logs/jboss/cert/Product/server.log -Dlogging.configuration=file:/product/jboss-servers/cert/Product/configuration/logging.properties -agentpath:/product/dynatrace/agent/bin/1.265.152.20230519-165227/linux-ppcle-64/liboneagentloader.so=loglevelcon=none,datastorage=/dynatrace/runtime,logdir=/dynatrace/logs /product/jboss-eap/cert/jboss-modules.jar -mp /product/jboss-eap/cert/modules org.jboss.as.standalone -Djboss.home.dir=/product/jboss-eap/cert -Djboss.server.base.dir=/product/jboss-servers/cert/Product -Djboss.server.base.dir=/product/jboss-servers/cert/Product -Djboss.server.config.dir=/product/jboss-servers/cert/Product/configuration -Djboss.server.data.dir=/product/jboss-servers/cert/Product/data -Djboss.server.log.dir=/product/jboss-servers/cert/Product/logs -Djboss.server.temp.dir=/product/jboss-servers/cert/Product/tmp -Djboss.server.deploy.dir=/product/jboss-servers/cert/Product/deployments --server-config=standalone-full.xml -Djboss.bind.address.management=0.0.0.0 -Djboss.bind.address=0.0.0.0 -Djboss.socket.binding.port-offset=100\n</code></pre>\n<p>Those information about underlying components:</p>\n<pre><code>Host: POWER9 (architected), altivec supported, 40 cores, 22G, Red Hat Enterprise Linux release 8.5 (Ootpa)\n</code></pre>\n<p>This is the thread/upper part of stacktrace involved</p>\n<pre><code>Current thread (0x0000010064c4e800):  JavaThread &quot;webcontainer-worker task-68&quot; [_thread_in_Java, id=821817, stack(0x00007fff197a0000,0x00007fff199a0000)]\n\nStack: [0x00007fff197a0000,0x00007fff199a0000],  sp=0x00007fff19999f50,  free space=2023k\nNative frames: (J=compiled Java code, A=aot compiled Java code, j=interpreted, Vv=VM code, C=native code)\nJ 210874 c2\ncustom.package.ClientEnvironmentServiceImpl.isMobileDevice(Ljava/lang/String;Ljavax/servlet/http/Cookie;)Ljava/lang/Boolean; (64 bytes) @ 0x00007fff8df86788 [0x00007fff8df85e80+0x0000000000000908]\nj custom.package.ClientEnvironmentServiceImpl.isMobileDevice(Ljavax/servlet/http/HttpServletRequest;)Ljava/lang/Boolean;+16\nj  custom.package.DeviceDetectionUtil.isMobile()Z+7\nj  pcfc.expressions.FNOLWizard_BasicInfoScreen_01autoExpressions$FNOLWizard_BasicInfoScreenExpressionsImpl.visible_152()Ljava/lang/Boolean;+4\njdk.internal.reflect.GeneratedMethodAccessor2744.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;+36\nJ 201421 c2 \n</code></pre>\n<p>This the code involved</p>\n<pre><code>`private String resolveCookieName()\n{\nString customName = getCustomCookieName();\nif (null != customName) {\nreturn customName;\n}\nreturn ClientEnvironmentConstants.COOKIE_DEVICE;\n}`\n</code></pre>\n<p>What we see, in both occurrences, is that the &quot;problematic frame&quot; is the same, and it's a custom code.\nHow could we use this information to investigate or reproduce the problem?</p>\n<p>We tried to reproduce the navigation in the application that caused the problem 2 times, without any problem. In the previous application server (with different JVM) we have never seen this problem.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","tomcat","servlets"],"answers":[{"tags":[],"owner":{"account_id":2067336,"reputation":2848,"user_id":1842599,"display_name":"Andrej Istomin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688156782,"creation_date":1688154561,"answer_id":76591877,"question_id":76591810,"body_markdown":"This parsing logic you have in your servlets is not safe:\r\n```\r\nint number1=Integer.parseInt(req.getParameter(&quot;num1&quot;));\r\nint number2=Integer.parseInt(req.getParameter(&quot;num2&quot;));\r\n```\r\nJava will not be able to parse `int` from parameter if parameter is `null` or not a number. In your particular case one of the parameters is `null`. But generally, as it&#39;s a user input, you need to validate if parameters `num1` and `num2` can be parsed or you need to catch an exception and process it (show meaningful error like &quot;Please input correct data&quot; etc.). You may check this [question][1], you&#39;ll get the idea. \r\n\r\nAlso you have a bug in the HTML, `=` is missing, so your inputs do not have a name, here you already loosing your parameters, they will not correctly come to the servlet. The code should look something like that:\r\n```\r\n&lt;form action=&quot;servlet1&quot; method=&quot;post&quot;&gt;\r\n    &lt;label&gt;Enter the first number:&lt;/label&gt;\r\n    &lt;input type=&quot;text&quot; name=&quot;num1&quot;/&gt;\r\n         \r\n    &lt;label&gt;Enter the second number:&lt;/label&gt;\r\n    &lt;input type=&quot;text&quot; name=&quot;num2&quot;/&gt;\r\n         \r\n    &lt;button type=&quot;submit&quot;&gt;Submit&lt;/button&gt;\r\n         \r\n&lt;/form&gt;\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6456219/java-checking-if-parseint-throws-exception","title":"How to resolve the error: &quot;Message Cannot parse null string&quot;","body":"<p>This parsing logic you have in your servlets is not safe:</p>\n<pre><code>int number1=Integer.parseInt(req.getParameter(&quot;num1&quot;));\nint number2=Integer.parseInt(req.getParameter(&quot;num2&quot;));\n</code></pre>\n<p>Java will not be able to parse <code>int</code> from parameter if parameter is <code>null</code> or not a number. In your particular case one of the parameters is <code>null</code>. But generally, as it's a user input, you need to validate if parameters <code>num1</code> and <code>num2</code> can be parsed or you need to catch an exception and process it (show meaningful error like &quot;Please input correct data&quot; etc.). You may check this <a href=\"https://stackoverflow.com/questions/6456219/java-checking-if-parseint-throws-exception\">question</a>, you'll get the idea.</p>\n<p>Also you have a bug in the HTML, <code>=</code> is missing, so your inputs do not have a name, here you already loosing your parameters, they will not correctly come to the servlet. The code should look something like that:</p>\n<pre><code>&lt;form action=&quot;servlet1&quot; method=&quot;post&quot;&gt;\n    &lt;label&gt;Enter the first number:&lt;/label&gt;\n    &lt;input type=&quot;text&quot; name=&quot;num1&quot;/&gt;\n         \n    &lt;label&gt;Enter the second number:&lt;/label&gt;\n    &lt;input type=&quot;text&quot; name=&quot;num2&quot;/&gt;\n         \n    &lt;button type=&quot;submit&quot;&gt;Submit&lt;/button&gt;\n         \n&lt;/form&gt;\n</code></pre>\n"}],"owner":{"account_id":23751949,"reputation":23,"user_id":17768586,"display_name":"ssc1234"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":764,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76591877,"answer_count":1,"score":1,"last_activity_date":1688156782,"creation_date":1688153772,"question_id":76591810,"body_markdown":"The error I am getting is:\r\nHTTP Status 500  Internal Server Error\r\nType Exception Report\r\n\r\nI am following a tutorial and am doing just as the instruction giver says.\r\n\r\nThe error I am getting is:\r\nCannot parse null string\r\nThe server encountered an unexpected condition that prevented it from fulfilling the request.\r\njava.lang.NumberFormatException: Cannot parse null string\r\n\r\nServlet1.java\r\n```\r\npackage com.servlets;\r\n \r\nimport java.io.IOException;\r\n \r\nimport javax.servlet.RequestDispatcher;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n \r\n@WebServlet(&quot;/servlet1&quot;)\r\npublic class Servlet1 extends HttpServlet{\r\n \r\n    @Override\r\n    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n        // TODO Auto-generated method stub\r\n         \r\n        int number1=Integer.parseInt(req.getParameter(&quot;num1&quot;));\r\n        int number2=Integer.parseInt(req.getParameter(&quot;num2&quot;));\r\n         \r\n        int sum=number1+number2;\r\n         \r\n        req.setAttribute(&quot;s&quot;, sum);\r\n        RequestDispatcher rd=req.getRequestDispatcher(&quot;/servlet2&quot;);\r\n        rd.forward(req, resp);\r\n    }\r\n}\r\n```\r\n\r\nServlet2.java\r\n```\r\npackage com.servlets;\r\n \r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\n \r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n \r\n@WebServlet(&quot;/servlet2&quot;)\r\npublic class Servlet2 extends HttpServlet{\r\n     \r\n     \r\n    @Override\r\n    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n        // TODO Auto-generated method stub\r\n \r\n        int number1=Integer.parseInt(req.getParameter(&quot;num1&quot;));\r\n        int number2=Integer.parseInt(req.getParameter(&quot;num2&quot;));\r\n         \r\n        resp.setContentType(&quot;index/html&quot;);\r\n         \r\n        int product=number1*number2;\r\n        int sum=(int) req.getAttribute(&quot;s&quot;);\r\n        PrintWriter out=resp.getWriter();\r\n    }\r\n}\r\n```\r\n\r\nindex.html\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n&lt;title&gt;Insert title here&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;h1&gt;This is the Form&lt;/h1&gt;\r\n    &lt;br&gt;\r\n    &lt;br&gt;\r\n     \r\n    &lt;form action=&quot;servlet1&quot; method=&quot;post&quot;&gt;\r\n        &lt;label&gt;Enter the first number:&lt;/label&gt;\r\n        &lt;input type=&quot;text&quot; name&quot;num1&quot;/&gt;\r\n         \r\n        &lt;label&gt;Enter the second number:&lt;/label&gt;\r\n        &lt;input type=&quot;text&quot; name&quot;num2&quot;/&gt;\r\n         \r\n        &lt;button type=&quot;submit&quot;&gt;Submit&lt;/button&gt;\r\n         \r\n    &lt;/form&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```","title":"How to resolve the error: &quot;Message Cannot parse null string&quot;","body":"<p>The error I am getting is:\nHTTP Status 500  Internal Server Error\nType Exception Report</p>\n<p>I am following a tutorial and am doing just as the instruction giver says.</p>\n<p>The error I am getting is:\nCannot parse null string\nThe server encountered an unexpected condition that prevented it from fulfilling the request.\njava.lang.NumberFormatException: Cannot parse null string</p>\n<p>Servlet1.java</p>\n<pre><code>package com.servlets;\n \nimport java.io.IOException;\n \nimport javax.servlet.RequestDispatcher;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n \n@WebServlet(&quot;/servlet1&quot;)\npublic class Servlet1 extends HttpServlet{\n \n    @Override\n    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n        // TODO Auto-generated method stub\n         \n        int number1=Integer.parseInt(req.getParameter(&quot;num1&quot;));\n        int number2=Integer.parseInt(req.getParameter(&quot;num2&quot;));\n         \n        int sum=number1+number2;\n         \n        req.setAttribute(&quot;s&quot;, sum);\n        RequestDispatcher rd=req.getRequestDispatcher(&quot;/servlet2&quot;);\n        rd.forward(req, resp);\n    }\n}\n</code></pre>\n<p>Servlet2.java</p>\n<pre><code>package com.servlets;\n \nimport java.io.IOException;\nimport java.io.PrintWriter;\n \nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n \n@WebServlet(&quot;/servlet2&quot;)\npublic class Servlet2 extends HttpServlet{\n     \n     \n    @Override\n    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n        // TODO Auto-generated method stub\n \n        int number1=Integer.parseInt(req.getParameter(&quot;num1&quot;));\n        int number2=Integer.parseInt(req.getParameter(&quot;num2&quot;));\n         \n        resp.setContentType(&quot;index/html&quot;);\n         \n        int product=number1*number2;\n        int sum=(int) req.getAttribute(&quot;s&quot;);\n        PrintWriter out=resp.getWriter();\n    }\n}\n</code></pre>\n<p>index.html</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n&lt;title&gt;Insert title here&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;This is the Form&lt;/h1&gt;\n    &lt;br&gt;\n    &lt;br&gt;\n     \n    &lt;form action=&quot;servlet1&quot; method=&quot;post&quot;&gt;\n        &lt;label&gt;Enter the first number:&lt;/label&gt;\n        &lt;input type=&quot;text&quot; name&quot;num1&quot;/&gt;\n         \n        &lt;label&gt;Enter the second number:&lt;/label&gt;\n        &lt;input type=&quot;text&quot; name&quot;num2&quot;/&gt;\n         \n        &lt;button type=&quot;submit&quot;&gt;Submit&lt;/button&gt;\n         \n    &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9657,"page":335,"page_size":100}
