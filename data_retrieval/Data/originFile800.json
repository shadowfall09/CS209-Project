{"items":[{"tags":["java","json","google-cloud-firestore"],"comments":[{"owner":{"account_id":10161899,"reputation":140,"user_id":10598286,"display_name":"Irfan Yaqub"},"score":0,"creation_date":1671346690,"post_id":74839585,"comment_id":132077340,"body_markdown":"data is coming from firestore, the picture I have attached is the data stored there. Document.getData is the data coming from firestore(firebase).","body":"data is coming from firestore, the picture I have attached is the data stored there. Document.getData is the data coming from firestore(firebase)."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1671347856,"post_id":74839585,"comment_id":132077458,"body_markdown":"Why are you using Gson instead of directly mapping a document into an object of type `Assignmentsdata`? Please respond using @AlexMamo","body":"Why are you using Gson instead of directly mapping a document into an object of type <code>Assignmentsdata</code>? Please respond using @AlexMamo"},{"owner":{"account_id":10161899,"reputation":140,"user_id":10598286,"display_name":"Irfan Yaqub"},"score":0,"creation_date":1671348219,"post_id":74839585,"comment_id":132077511,"body_markdown":"@AlexMamo , The outcome is the same. I have tried direct mapping as well.  Which is a document.toObject(Assignmentsdata.class);  Error is the same.","body":"@AlexMamo , The outcome is the same. I have tried direct mapping as well.  Which is a document.toObject(Assignmentsdata.class);  Error is the same."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1671348396,"post_id":74839585,"comment_id":132077523,"body_markdown":"Sorry, I should have asked: What&#39;s the value of `gson.toJson(document.getData())`?","body":"Sorry, I should have asked: What&#39;s the value of <code>gson.toJson(document.getData())</code>?"},{"owner":{"account_id":10161899,"reputation":140,"user_id":10598286,"display_name":"Irfan Yaqub"},"score":0,"creation_date":1671348523,"post_id":74839585,"comment_id":132077540,"body_markdown":"@tgdavies The picture showing the value of gson.toJson(document.getData()). The object you can see in the picture is the outcome of the document.getData.","body":"@tgdavies The picture showing the value of gson.toJson(document.getData()). The object you can see in the picture is the outcome of the document.getData."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1671351123,"post_id":74839585,"comment_id":132077856,"body_markdown":"But what actual JSON string does it get turned into?","body":"But what actual JSON string does it get turned into?"},{"owner":{"account_id":10161899,"reputation":140,"user_id":10598286,"display_name":"Irfan Yaqub"},"score":0,"creation_date":1671351995,"post_id":74839585,"comment_id":132077944,"body_markdown":"It will be turned inot an Object called Assignmentsdata, i have made it bold as a custom object.","body":"It will be turned inot an Object called Assignmentsdata, i have made it bold as a custom object."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1671353253,"post_id":74839585,"comment_id":132078108,"body_markdown":"I mean the String `json`. What is the value of that?","body":"I mean the String <code>json</code>. What is the value of that?"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1671354049,"post_id":74839585,"comment_id":132078187,"body_markdown":"Say you say that `document.toObject(Assignmentsdata.class)` produces a `Expected BEGIN_ARRAY but was NUMBER at line 1`?","body":"Say you say that <code>document.toObject(Assignmentsdata.class)</code> produces a <code>Expected BEGIN_ARRAY but was NUMBER at line 1</code>?"},{"owner":{"account_id":10161899,"reputation":140,"user_id":10598286,"display_name":"Irfan Yaqub"},"score":0,"creation_date":1671354817,"post_id":74839585,"comment_id":132078298,"body_markdown":"@AlexMamo Yes and I get that error at this line consumer.accept. I made a heading with bold text where I get an error.","body":"@AlexMamo Yes and I get that error at this line consumer.accept. I made a heading with bold text where I get an error."},{"owner":{"account_id":10161899,"reputation":140,"user_id":10598286,"display_name":"Irfan Yaqub"},"score":0,"creation_date":1671354858,"post_id":74839585,"comment_id":132078300,"body_markdown":"@AlexMamo Here is the complete error. Cached document data: {exStatus=0, groupName=Math 101, teacherId=irfan, game_nameId=2, levelId=1, students=[{teacherName=irfan, studentName=Alli, fullName=Teacher, status=2}], progress=[], startTime=1671299947129, sectionId=1, endTime=1671991147130, assignmentId=irfan 1671299952415, number_of_exercises=10}  com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was NUMBER at line 1 column 167 path $.progress","body":"@AlexMamo Here is the complete error. Cached document data: {exStatus=0, groupName=Math 101, teacherId=irfan, game_nameId=2, levelId=1, students=[{teacherName=irfan, studentName=Alli, fullName=Teacher, status=2}], progress=[], startTime=1671299947129, sectionId=1, endTime=1671991147130, assignmentId=irfan 1671299952415, number_of_exercises=10}  com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was NUMBER at line 1 column 167 path $.progress"},{"owner":{"account_id":10161899,"reputation":140,"user_id":10598286,"display_name":"Irfan Yaqub"},"score":0,"creation_date":1671354973,"post_id":74839585,"comment_id":132078320,"body_markdown":"@tgdavies I posted the whole object that I receive, with an error in the above comment.","body":"@tgdavies I posted the whole object that I receive, with an error in the above comment."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1671355094,"post_id":74839585,"comment_id":132078338,"body_markdown":"If that&#39;s the value of the string, it is not valid JSON. But I don&#39;t think that&#39;s the value of the string.","body":"If that&#39;s the value of the string, it is not valid JSON. But I don&#39;t think that&#39;s the value of the string."},{"owner":{"account_id":10161899,"reputation":140,"user_id":10598286,"display_name":"Irfan Yaqub"},"score":0,"creation_date":1671355295,"post_id":74839585,"comment_id":132078365,"body_markdown":"That&#39;s the Jason Firebase provide, plus I attached the error with it too. Please if you could post the correct one json.","body":"That&#39;s the Jason Firebase provide, plus I attached the error with it too. Please if you could post the correct one json."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1671361256,"post_id":74839585,"comment_id":132079222,"body_markdown":"What type of the object is `consumer`? Btw, mapping a document into an object of type Assignmentsdata, can never throw such an exception.","body":"What type of the object is <code>consumer</code>? Btw, mapping a document into an object of type Assignmentsdata, can never throw such an exception."},{"owner":{"account_id":10161899,"reputation":140,"user_id":10598286,"display_name":"Irfan Yaqub"},"score":0,"creation_date":1671362758,"post_id":74839585,"comment_id":132079458,"body_markdown":"@AlexMamo Thank you for your answer and time.  I am posting an answer. why i received this error.","body":"@AlexMamo Thank you for your answer and time.  I am posting an answer. why i received this error."}],"answers":[{"tags":[],"owner":{"account_id":10161899,"reputation":140,"user_id":10598286,"display_name":"Irfan Yaqub"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671363418,"creation_date":1671363418,"answer_id":74840975,"question_id":74839585,"body_markdown":"I was receiving the above error at this code. \r\n\r\n    consumer.accept(filtered_invitation_list);\r\n                                } catch (Exception e) {\r\n                                    Log.d(&quot;Failure&quot;, &quot;Here is get the exception: &quot;, e);\r\n                                }\r\n                            }\r\n\r\n&gt; But there was no problem on Mapping the objects coming from firestore, The problem was with ViewModel and observing the list of Objects coming from firestore. I had some Assignments already which I saved locally, because of a mismatch of the Object structure or fields, it was giving an error in my Fragment class, but the error was observed in my repository. I know its a little tricky why the error coming back to the repository.\r\n\r\n    viewModel.getActiveAssignments.observe(getViewLifecycleOwner(), this::getAssignmentsData);\r\n    private void getAssignmentsData(ArrayList&lt;Assignmentsdata&gt; assignmentsdata) {\r\n        // get the data saved locally and merge with new incoming. \r\n ","title":"Expected BEGIN_ARRAY but was NUMBER at line 1 column 167 path $.progress","body":"<p>I was receiving the above error at this code.</p>\n<pre><code>consumer.accept(filtered_invitation_list);\n                            } catch (Exception e) {\n                                Log.d(&quot;Failure&quot;, &quot;Here is get the exception: &quot;, e);\n                            }\n                        }\n</code></pre>\n<blockquote>\n<p>But there was no problem on Mapping the objects coming from firestore, The problem was with ViewModel and observing the list of Objects coming from firestore. I had some Assignments already which I saved locally, because of a mismatch of the Object structure or fields, it was giving an error in my Fragment class, but the error was observed in my repository. I know its a little tricky why the error coming back to the repository.</p>\n</blockquote>\n<pre><code>viewModel.getActiveAssignments.observe(getViewLifecycleOwner(), this::getAssignmentsData);\nprivate void getAssignmentsData(ArrayList&lt;Assignmentsdata&gt; assignmentsdata) {\n    // get the data saved locally and merge with new incoming. \n</code></pre>\n"}],"owner":{"account_id":10161899,"reputation":140,"user_id":10598286,"display_name":"Irfan Yaqub"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1671363452,"creation_date":1671345997,"question_id":74839585,"body_markdown":"I have read couple of answers based on that particular problem. and I am aware of that in my Custom object(AssignmentData), it is expecting array, But it is actually an array on firestore with the name of progress as well.\r\n**Here is the firestore document**\r\n\r\n    assignmentId\r\n           &quot;irfan 1671299952415&quot;\r\n    endTime\r\n            &quot;1671991147130&quot;\r\n    exStatus\r\n            0\r\n    game_nameId\r\n            2\r\n    groupName\r\n           &quot;Math 101&quot;\r\n    levelId\r\n            &quot;1&quot;\r\n    number_of_exercises\r\n            10\r\n\r\n    progress\r\n            []\r\n   sectionId\r\n           &quot;1&quot;\r\n\r\n\r\n**My Custom Object**\r\n\r\n    public class Assignmentsdata implements Serializable {\r\n\r\n    @SerializedName(&quot;exStatus&quot;)\r\n    @Expose\r\n    private Integer exStatus;\r\n    @SerializedName(&quot;groupName&quot;)\r\n    @Expose\r\n    private String groupName;\r\n    @SerializedName(&quot;teacherId&quot;)\r\n    @Expose\r\n    private String teacherId;\r\n    @SerializedName(&quot;game_nameId&quot;)\r\n    @Expose\r\n    private Integer gameNameId;\r\n    @SerializedName(&quot;levelId&quot;)\r\n    @Expose\r\n    private String levelId;\r\n    @SerializedName(&quot;students&quot;)\r\n    @Expose\r\n    private List&lt;PersonModel&gt; students = null;\r\n    @SerializedName(&quot;progress&quot;)\r\n    @Expose\r\n    private ArrayList&lt;String&gt; progress = null;\r\n\r\n    public Integer getExStatus() {\r\n        return exStatus;\r\n    }\r\n\r\n    public void setExStatus(Integer exStatus) {\r\n        this.exStatus = exStatus;\r\n    }\r\n\r\n    public String getGroupName() {\r\n        return groupName;\r\n    }\r\n\r\n    public void setGroupName(String groupName) {\r\n        this.groupName = groupName;\r\n    }\r\n\r\n    public String getTeacherId() {\r\n        return teacherId;\r\n    }\r\n\r\n    public void setTeacherId(String teacherId) {\r\n        this.teacherId = teacherId;\r\n    }\r\n\r\n    public Integer getGame_nameId() {\r\n        return gameNameId;\r\n    }\r\n\r\n    public void setGameNameId(Integer gameNameId) {\r\n        this.gameNameId = gameNameId;\r\n    }\r\n\r\n  \r\n\r\n    public ArrayList&lt;String&gt; getProgress() {\r\n        return progress;\r\n    }\r\n\r\n    public void setProgress(ArrayList&lt;String&gt; progress) {\r\n        this.progress = progress;\r\n    }\r\n\r\n*There is an array and i am expecting an array then what is causing an error?*\r\n\r\n     DocumentSnapshot document = task.getResult();\r\n                                try {\r\n                                    Gson gson = new Gson();\r\n                                    String json = gson.toJson(document.getData());\r\n\r\n         // tried map directly from document but outcome is same.\r\n        //Assignmentsdata assignmentsdata = document.toObject(Assignmentsdata.class);\r\n                                    Assignmentsdata assignmentsdata = gson.fromJson(json, Assignmentsdata.class);\r\n\r\n                                    if (assignmentsdata != null) {\r\n                                        filtered_invitation_list.add(assignmentsdata);\r\n                                    }\r\n                                }catch (NullPointerException e){\r\n                                   Log.d(&quot;Failure&quot;, &quot;No exception here: &quot;, \r\n                                }\r\n\r\n\r\n                                if (finalI == teachers.size() - 1) {\r\n                                    try {\r\n**Error shows in Exception below not above where it is actually getting the object.**\r\n                                   \r\n\r\n     consumer.accept(filtered_invitation_list);\r\n                                    } catch (Exception e) {\r\n                                        Log.d(&quot;Failure&quot;, &quot;Here is get the exception: &quot;, e);\r\n                                    }\r\n    \r\n                                }\r\n","title":"Expected BEGIN_ARRAY but was NUMBER at line 1 column 167 path $.progress","body":"<p>I have read couple of answers based on that particular problem. and I am aware of that in my Custom object(AssignmentData), it is expecting array, But it is actually an array on firestore with the name of progress as well.\n<strong>Here is the firestore document</strong></p>\n<pre><code>assignmentId\n       &quot;irfan 1671299952415&quot;\nendTime\n        &quot;1671991147130&quot;\nexStatus\n        0\ngame_nameId\n        2\ngroupName\n       &quot;Math 101&quot;\nlevelId\n        &quot;1&quot;\nnumber_of_exercises\n        10\n\nprogress\n        []\n</code></pre>\n<p>sectionId\n&quot;1&quot;</p>\n<p><strong>My Custom Object</strong></p>\n<pre><code>public class Assignmentsdata implements Serializable {\n\n@SerializedName(&quot;exStatus&quot;)\n@Expose\nprivate Integer exStatus;\n@SerializedName(&quot;groupName&quot;)\n@Expose\nprivate String groupName;\n@SerializedName(&quot;teacherId&quot;)\n@Expose\nprivate String teacherId;\n@SerializedName(&quot;game_nameId&quot;)\n@Expose\nprivate Integer gameNameId;\n@SerializedName(&quot;levelId&quot;)\n@Expose\nprivate String levelId;\n@SerializedName(&quot;students&quot;)\n@Expose\nprivate List&lt;PersonModel&gt; students = null;\n@SerializedName(&quot;progress&quot;)\n@Expose\nprivate ArrayList&lt;String&gt; progress = null;\n\npublic Integer getExStatus() {\n    return exStatus;\n}\n\npublic void setExStatus(Integer exStatus) {\n    this.exStatus = exStatus;\n}\n\npublic String getGroupName() {\n    return groupName;\n}\n\npublic void setGroupName(String groupName) {\n    this.groupName = groupName;\n}\n\npublic String getTeacherId() {\n    return teacherId;\n}\n\npublic void setTeacherId(String teacherId) {\n    this.teacherId = teacherId;\n}\n\npublic Integer getGame_nameId() {\n    return gameNameId;\n}\n\npublic void setGameNameId(Integer gameNameId) {\n    this.gameNameId = gameNameId;\n}\n\n\n\npublic ArrayList&lt;String&gt; getProgress() {\n    return progress;\n}\n\npublic void setProgress(ArrayList&lt;String&gt; progress) {\n    this.progress = progress;\n}\n</code></pre>\n<p><em>There is an array and i am expecting an array then what is causing an error?</em></p>\n<pre><code> DocumentSnapshot document = task.getResult();\n                            try {\n                                Gson gson = new Gson();\n                                String json = gson.toJson(document.getData());\n\n     // tried map directly from document but outcome is same.\n    //Assignmentsdata assignmentsdata = document.toObject(Assignmentsdata.class);\n                                Assignmentsdata assignmentsdata = gson.fromJson(json, Assignmentsdata.class);\n\n                                if (assignmentsdata != null) {\n                                    filtered_invitation_list.add(assignmentsdata);\n                                }\n                            }catch (NullPointerException e){\n                               Log.d(&quot;Failure&quot;, &quot;No exception here: &quot;, \n                            }\n\n\n                            if (finalI == teachers.size() - 1) {\n                                try {\n</code></pre>\n<p><strong>Error shows in Exception below not above where it is actually getting the object.</strong></p>\n<pre><code> consumer.accept(filtered_invitation_list);\n                                } catch (Exception e) {\n                                    Log.d(&quot;Failure&quot;, &quot;Here is get the exception: &quot;, e);\n                                }\n\n                            }\n</code></pre>\n"},{"tags":["java","spring-data-jpa","querydsl"],"answers":[{"comments":[{"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1671304918,"post_id":74835977,"comment_id":132072560,"body_markdown":"@Abdel Here at SO we use votes to say &quot;Thank You&quot; or mark helpful answers.","body":"@Abdel Here at SO we use votes to say &quot;Thank You&quot; or mark helpful answers."}],"tags":[],"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671297785,"creation_date":1671297301,"answer_id":74835977,"question_id":74834218,"body_markdown":"To construct complex boolean queries like this you can use [`com.querydsl.core.BooleanBuilder`][1]:\r\n\r\n```java\r\npublic List&lt;MyEntity&gt; getMyQuery(FiltersDTO filters) {\r\n    MyEntity myEntity = QModel.myEntity;\r\n\r\n    // build an optional WHERE clause with predicates using AND conjunctions \r\n    BooleanBuilder builder = new BooleanBuilder();\r\n\r\n    if (filters.getId() != null) {\r\n        builder.and(myEntity.id.eq(filters.getId()));   \r\n    }\r\n    \r\n    if (filters.getName() != null) {\r\n        builder.and(myEntity.id.eq(filters.getName()));   \r\n    }\r\n    \r\n    // construct the query\r\n    return getJPAQueryFactory().selectFrom(myEntity)\r\n        .limit(20)\r\n        .where(builder)  // myEntity.id eq id1 AND myEntity.name eq name1\r\n        .fetch();            \r\n}\r\n```\r\n\r\n### See also\r\nSimilar questions:\r\n* https://stackoverflow.com/questions/61598374/dynamic-search-term-sql-query-with-spring-jpa-or-querydsl/61599367#61599367\r\n* https://stackoverflow.com/questions/8183329/jpa-querybuilder\r\n* https://stackoverflow.com/questions/6251054/how-to-write-jpa-query-with-boolean-condition\r\n\r\nReferences:\r\n* QueryDSL Reference Guide: [3.1.1.&#160;Complex predicates](http://querydsl.com/static/querydsl/latest/reference/html/ch03.html#d0e2053)\r\n* QueryDSL Issue on GitHub: [BooleanBuilder with multiple AND conditions &#183; Discussion #2936](https://github.com/querydsl/querydsl/discussions/2936)\r\n* Baeldung&#39;s Tutorial: [A Guide to Querydsl with JPA](https://www.baeldung.com/querydsl-with-jpa-tutorial)\r\n\r\n\r\n  [1]: http://querydsl.com/static/querydsl/5.0.0/apidocs/com/querydsl/core/BooleanBuilder.html","title":"Build WHERE clause dynamically based on filter in queryDSL","body":"<p>To construct complex boolean queries like this you can use <a href=\"http://querydsl.com/static/querydsl/5.0.0/apidocs/com/querydsl/core/BooleanBuilder.html\" rel=\"nofollow noreferrer\"><code>com.querydsl.core.BooleanBuilder</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;MyEntity&gt; getMyQuery(FiltersDTO filters) {\n    MyEntity myEntity = QModel.myEntity;\n\n    // build an optional WHERE clause with predicates using AND conjunctions \n    BooleanBuilder builder = new BooleanBuilder();\n\n    if (filters.getId() != null) {\n        builder.and(myEntity.id.eq(filters.getId()));   \n    }\n    \n    if (filters.getName() != null) {\n        builder.and(myEntity.id.eq(filters.getName()));   \n    }\n    \n    // construct the query\n    return getJPAQueryFactory().selectFrom(myEntity)\n        .limit(20)\n        .where(builder)  // myEntity.id eq id1 AND myEntity.name eq name1\n        .fetch();            \n}\n</code></pre>\n<h3>See also</h3>\n<p>Similar questions:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/61598374/dynamic-search-term-sql-query-with-spring-jpa-or-querydsl/61599367#61599367\">Dynamic search term SQL query with Spring JPA or QueryDSL</a></li>\n<li><a href=\"https://stackoverflow.com/questions/8183329/jpa-querybuilder\">JPA QueryBuilder</a></li>\n<li><a href=\"https://stackoverflow.com/questions/6251054/how-to-write-jpa-query-with-boolean-condition\">How to write JPA query with boolean condition</a></li>\n</ul>\n<p>References:</p>\n<ul>\n<li>QueryDSL Reference Guide: <a href=\"http://querydsl.com/static/querydsl/latest/reference/html/ch03.html#d0e2053\" rel=\"nofollow noreferrer\">3.1.1. Complex predicates</a></li>\n<li>QueryDSL Issue on GitHub: <a href=\"https://github.com/querydsl/querydsl/discussions/2936\" rel=\"nofollow noreferrer\">BooleanBuilder with multiple AND conditions · Discussion #2936</a></li>\n<li>Baeldung's Tutorial: <a href=\"https://www.baeldung.com/querydsl-with-jpa-tutorial\" rel=\"nofollow noreferrer\">A Guide to Querydsl with JPA</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":14707994,"reputation":162,"user_id":10622099,"display_name":"DaniyalVaghar"},"score":1,"creation_date":1671334773,"post_id":74836824,"comment_id":132076342,"body_markdown":"you right.i edited my answer","body":"you right.i edited my answer"}],"tags":[],"owner":{"account_id":14707994,"reputation":162,"user_id":10622099,"display_name":"DaniyalVaghar"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671362874,"creation_date":1671304655,"answer_id":74836824,"question_id":74834218,"body_markdown":"You can implement the `Specification` interface in JPA:\r\n \r\n1. first of all, create a `Filter` class with static predicate-methods to handle fields in WHERE clause:\r\n\r\n```java\r\npublic class Filter{\r\n\r\n    public static Specification&lt;BlocageDeblocageCompte&gt; hasName(String name) {\r\n        return (root, query, cb) -&gt; {\r\n            if (name == null || name.equals(&quot;&quot;)) {\r\n                 return cb.isTrue(cb.literal(true)); // always true = no filtering\r\n            }\r\n            return cb.like(root.get(&quot;name&quot;), &quot;%&quot; + name + &quot;%&quot;);\r\n        };\r\n    }\r\n\r\n    public static Specification&lt;ActiveAlarm&gt; hasId(Integer id) {\r\n        return (root, query, cb) -&gt; {\r\n            if (id == null) {\r\n                return cb.isTrue(cb.literal(true)); // always true = no filtering\r\n            }\r\n            return cb.equal(root.get(&quot;id&quot;), id);\r\n        };\r\n    }\r\n}\r\n```\r\n\r\n2. then, use the `Filter` class in your methods:\r\n\r\n```\r\nrepository.findAll(where(Filter.hasName(filters.getName()).and(Filter.hasId(filters.getId()));\r\n```\r\n\r\nFor more details, see:\r\n* Baeldung:\r\n[REST Query Language with Spring Data JPA Specifications](https://www.baeldung.com/rest-api-search-language-spring-data-specifications)\r\n* Spring blog: [Advanced Spring Data JPA - Specifications and Querydsl](https://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl/)\r\n* Kailas Nath on Medium: [Using JPA Specification Interface To Implement Dynamic Filters](https://medium.com/cleartax-engineering/using-jpa-specification-interface-to-implement-dynamic-filters-ea5d022b67f1)\r\n* DZone: [Java: Using the Specification Pattern With JPA](https://dzone.com/articles/java-using-specification)","title":"Build WHERE clause dynamically based on filter in queryDSL","body":"<p>You can implement the <code>Specification</code> interface in JPA:</p>\n<ol>\n<li>first of all, create a <code>Filter</code> class with static predicate-methods to handle fields in WHERE clause:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class Filter{\n\n    public static Specification&lt;BlocageDeblocageCompte&gt; hasName(String name) {\n        return (root, query, cb) -&gt; {\n            if (name == null || name.equals(&quot;&quot;)) {\n                 return cb.isTrue(cb.literal(true)); // always true = no filtering\n            }\n            return cb.like(root.get(&quot;name&quot;), &quot;%&quot; + name + &quot;%&quot;);\n        };\n    }\n\n    public static Specification&lt;ActiveAlarm&gt; hasId(Integer id) {\n        return (root, query, cb) -&gt; {\n            if (id == null) {\n                return cb.isTrue(cb.literal(true)); // always true = no filtering\n            }\n            return cb.equal(root.get(&quot;id&quot;), id);\n        };\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>then, use the <code>Filter</code> class in your methods:</li>\n</ol>\n<pre><code>repository.findAll(where(Filter.hasName(filters.getName()).and(Filter.hasId(filters.getId()));\n</code></pre>\n<p>For more details, see:</p>\n<ul>\n<li>Baeldung:\n<a href=\"https://www.baeldung.com/rest-api-search-language-spring-data-specifications\" rel=\"nofollow noreferrer\">REST Query Language with Spring Data JPA Specifications</a></li>\n<li>Spring blog: <a href=\"https://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl/\" rel=\"nofollow noreferrer\">Advanced Spring Data JPA - Specifications and Querydsl</a></li>\n<li>Kailas Nath on Medium: <a href=\"https://medium.com/cleartax-engineering/using-jpa-specification-interface-to-implement-dynamic-filters-ea5d022b67f1\" rel=\"nofollow noreferrer\">Using JPA Specification Interface To Implement Dynamic Filters</a></li>\n<li>DZone: <a href=\"https://dzone.com/articles/java-using-specification\" rel=\"nofollow noreferrer\">Java: Using the Specification Pattern With JPA</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1671304976,"post_id":74836844,"comment_id":132072568,"body_markdown":"Please show your solution (as code) - [example] with explanation. This is not an answer that helps other fellows which have similar issues.","body":"Please show your solution (as code) - <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with explanation. This is not an answer that helps other fellows which have similar issues."},{"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1671305819,"post_id":74836844,"comment_id":132072781,"body_markdown":"What are `QmyEntity`, `ffiltresDTO` and `QmyEntity`, where defined ? Still not a [example], please also pay attention to proper formatting.","body":"What are <code>QmyEntity</code>, <code>ffiltresDTO</code> and <code>QmyEntity</code>, where defined ? Still not a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, please also pay attention to proper formatting."}],"tags":[],"owner":{"account_id":24989359,"reputation":45,"user_id":18850747,"display_name":"Abdel"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1671305553,"creation_date":1671304847,"answer_id":74836844,"question_id":74834218,"body_markdown":"\r\nI found out a simple solution, when we do WHERE on all of them it transform automatically the second where to AND. thank u guys.\r\n\r\n    \tJPAQuery&lt;MyEntity&gt; myEntityJPAQUERY=\r\n    \t\t\tgetJPAQueryFactory()\r\n    \t\t\t\t\t.selectFrom(QmyEntity);\r\n    \t\r\n    \tif (filtresDTO.getId() != null) {\r\n    \t\tmyEntityJPAQUERY=myEntityJPAQUERY.where(QmyEntity.id.eq(ffiltresDTO.getId()));\r\n\r\n    \tif (filtresDTO.getName() != null) {\r\n    myEntityJPAQUERY=myEntityJPAQUERY.where(QmyEntity.name.eq(ffiltresDTO.getName()))\r\n    \t}","title":"Build WHERE clause dynamically based on filter in queryDSL","body":"<p>I found out a simple solution, when we do WHERE on all of them it transform automatically the second where to AND. thank u guys.</p>\n<pre><code>    JPAQuery&lt;MyEntity&gt; myEntityJPAQUERY=\n            getJPAQueryFactory()\n                    .selectFrom(QmyEntity);\n    \n    if (filtresDTO.getId() != null) {\n        myEntityJPAQUERY=myEntityJPAQUERY.where(QmyEntity.id.eq(ffiltresDTO.getId()));\n\n    if (filtresDTO.getName() != null) {\nmyEntityJPAQUERY=myEntityJPAQUERY.where(QmyEntity.name.eq(ffiltresDTO.getName()))\n    }\n</code></pre>\n"}],"owner":{"account_id":24989359,"reputation":45,"user_id":18850747,"display_name":"Abdel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1041,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1671362874,"creation_date":1671281647,"question_id":74834218,"body_markdown":"I have a query that needs a dynamic SQL `WHERE` clauses based on filters.\r\n\r\n### Issue\r\nIt may give me a *NullPointerException* (NPE) if I&#39;m adding an `&quot;AND&quot;` while the previous filter is not existing.\r\n\r\n### Code\r\n```    \r\npublic List&lt;BlocageDeblocageCompte&gt; getMyQuery(FiltersDTO filters) {\r\n\r\n    JPAQuery&lt;MY_ENTITY&gt; myEntity = getJPAQueryFactory().selectFrom(myEntity).limit(20);\r\n    BooleanExpression whereClause = null;\r\n\r\n    boolean whereClauseAdded = false;\r\n    boolean ifNoFilter = Stream.of(myEntity).allMatch(Objects::isNull);\r\n\r\n    if (ifNoFilter) {\r\n        return new ArrayList&lt;&gt;(myEntity.fetchAll().fetch());\r\n    }\r\n    \t\t\r\n    if (filters.getId() != null) {\r\n        whereClause = myEntity.id.eq(filters.getId());\r\n        whereClauseAdded = true;\r\n    }\r\n\r\n    if (filters.getName() != null) {\r\n        if (whereClauseAdded) {\r\n    \t    whereClause = whereClause.and(myEntity.id.eq(filters.getName()));\r\n    \t} else {\r\n    \t    whereClause = myEntity.id.eq(filters.getName());\r\n    \t\twhereClauseAdded = true;\r\n    \t}\r\n    }\r\n\r\n    // remaining code\r\n}\r\n```\r\n### Question\r\nIs there a better way to add the filters, without risking a NPE?","title":"Build WHERE clause dynamically based on filter in queryDSL","body":"<p>I have a query that needs a dynamic SQL <code>WHERE</code> clauses based on filters.</p>\n<h3>Issue</h3>\n<p>It may give me a <em>NullPointerException</em> (NPE) if I'm adding an <code>&quot;AND&quot;</code> while the previous filter is not existing.</p>\n<h3>Code</h3>\n<pre><code>public List&lt;BlocageDeblocageCompte&gt; getMyQuery(FiltersDTO filters) {\n\n    JPAQuery&lt;MY_ENTITY&gt; myEntity = getJPAQueryFactory().selectFrom(myEntity).limit(20);\n    BooleanExpression whereClause = null;\n\n    boolean whereClauseAdded = false;\n    boolean ifNoFilter = Stream.of(myEntity).allMatch(Objects::isNull);\n\n    if (ifNoFilter) {\n        return new ArrayList&lt;&gt;(myEntity.fetchAll().fetch());\n    }\n            \n    if (filters.getId() != null) {\n        whereClause = myEntity.id.eq(filters.getId());\n        whereClauseAdded = true;\n    }\n\n    if (filters.getName() != null) {\n        if (whereClauseAdded) {\n            whereClause = whereClause.and(myEntity.id.eq(filters.getName()));\n        } else {\n            whereClause = myEntity.id.eq(filters.getName());\n            whereClauseAdded = true;\n        }\n    }\n\n    // remaining code\n}\n</code></pre>\n<h3>Question</h3>\n<p>Is there a better way to add the filters, without risking a NPE?</p>\n"},{"tags":["java","javaparser"],"answers":[{"tags":[],"owner":{"account_id":6470949,"reputation":382,"user_id":5011127,"accept_rate":0,"display_name":"jpl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670407215,"creation_date":1670407215,"answer_id":74714800,"question_id":74691352,"body_markdown":"As far as I know comments are associated with AST nodes so you can&#39;t do what you want to do.","title":"How to add a line comment just after a method with JavaParser","body":"<p>As far as I know comments are associated with AST nodes so you can't do what you want to do.</p>\n"},{"tags":[],"owner":{"account_id":4835964,"reputation":1710,"user_id":3902663,"accept_rate":78,"display_name":"SATO Yusuke"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671362689,"creation_date":1671362689,"answer_id":74840913,"question_id":74691352,"body_markdown":"Instead of adding a single-line comment just after a method, I added a comment at the last line of the method with this code:\r\n\r\n```java\r\npublic static void main(String[] args) throws IOException {\r\n    Log.setAdapter(new Log.StandardOutStandardErrorAdapter());\r\n\r\n    Path inPath = Paths.get(&quot;/path/to/input/source&quot;);\r\n    SourceRoot sourceRoot = new SourceRoot(inPath);\r\n    List&lt;ParseResult&lt;CompilationUnit&gt;&gt; p = sourceRoot.tryToParseParallelized();\r\n\r\n    Iterator&lt;ParseResult&lt;CompilationUnit&gt;&gt; it = p.iterator();\r\n    while (it.hasNext()) {\r\n        ParseResult&lt;CompilationUnit&gt; pr = it.next();\r\n        pr.getResult().ifPresent(cu -&gt; {\r\n            cu.accept(new ModifierVisitor&lt;Void&gt;() {\r\n                @Override\r\n                public Visitable visit(MethodDeclaration n, Void arg) {\r\n                    List&lt;MarkerAnnotationExpr&gt; list = n.findAll(MarkerAnnotationExpr.class);\r\n                    Iterator&lt;MarkerAnnotationExpr&gt; it = list.iterator();\r\n                    while (it.hasNext()) {\r\n                        MarkerAnnotationExpr ann = it.next();\r\n                        if (ann.getNameAsString().equals(&quot;lombok.Generated&quot;) || ann.getNameAsString().equals(&quot;Generated&quot;)) {\r\n                            ann.setLineComment(&quot;parasoft-begin-suppress ALL&quot;);\r\n                            List&lt;Node&gt; childNodeList = n.getChildNodes();\r\n                            // The last child node will be &quot;{ ~ }&quot;\r\n                            Node lastChildNode = childNodeList.get(childNodeList.size() - 1);\r\n                            // This line comment will be inserted at the last line of the method\r\n                            lastChildNode.addOrphanComment(new LineComment(&quot;parasoft-end-suppress ALL&quot;));\r\n                        }\r\n                    }\r\n                    return super.visit(n, arg);\r\n                }\r\n            }, null);\r\n        });\r\n    }\r\n\r\n    Path outPath = Paths.get(&quot;/path/to/output/source&quot;);\r\n    sourceRoot.saveAll(outPath);\r\n}\r\n```\r\n\r\nWith this code and the following source,\r\n```java\r\n@lombok.Generated\r\nvoid generatedMethod() {\r\n    System.out.println(&quot;DUMMY&quot;);\r\n}\r\n```\r\n\r\nI got the following result (Parasoft Jtest will ignore all statements in this method):\r\n\r\n```java\r\n// parasoft-begin-suppress ALL\r\n@lombok.Generated\r\nvoid generatedMethod() {\r\n    System.out.println(&quot;DUMMY&quot;);\r\n    // parasoft-end-suppress ALL\r\n}\r\n```\r\n","title":"How to add a line comment just after a method with JavaParser","body":"<p>Instead of adding a single-line comment just after a method, I added a comment at the last line of the method with this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws IOException {\n    Log.setAdapter(new Log.StandardOutStandardErrorAdapter());\n\n    Path inPath = Paths.get(&quot;/path/to/input/source&quot;);\n    SourceRoot sourceRoot = new SourceRoot(inPath);\n    List&lt;ParseResult&lt;CompilationUnit&gt;&gt; p = sourceRoot.tryToParseParallelized();\n\n    Iterator&lt;ParseResult&lt;CompilationUnit&gt;&gt; it = p.iterator();\n    while (it.hasNext()) {\n        ParseResult&lt;CompilationUnit&gt; pr = it.next();\n        pr.getResult().ifPresent(cu -&gt; {\n            cu.accept(new ModifierVisitor&lt;Void&gt;() {\n                @Override\n                public Visitable visit(MethodDeclaration n, Void arg) {\n                    List&lt;MarkerAnnotationExpr&gt; list = n.findAll(MarkerAnnotationExpr.class);\n                    Iterator&lt;MarkerAnnotationExpr&gt; it = list.iterator();\n                    while (it.hasNext()) {\n                        MarkerAnnotationExpr ann = it.next();\n                        if (ann.getNameAsString().equals(&quot;lombok.Generated&quot;) || ann.getNameAsString().equals(&quot;Generated&quot;)) {\n                            ann.setLineComment(&quot;parasoft-begin-suppress ALL&quot;);\n                            List&lt;Node&gt; childNodeList = n.getChildNodes();\n                            // The last child node will be &quot;{ ~ }&quot;\n                            Node lastChildNode = childNodeList.get(childNodeList.size() - 1);\n                            // This line comment will be inserted at the last line of the method\n                            lastChildNode.addOrphanComment(new LineComment(&quot;parasoft-end-suppress ALL&quot;));\n                        }\n                    }\n                    return super.visit(n, arg);\n                }\n            }, null);\n        });\n    }\n\n    Path outPath = Paths.get(&quot;/path/to/output/source&quot;);\n    sourceRoot.saveAll(outPath);\n}\n</code></pre>\n<p>With this code and the following source,</p>\n<pre class=\"lang-java prettyprint-override\"><code>@lombok.Generated\nvoid generatedMethod() {\n    System.out.println(&quot;DUMMY&quot;);\n}\n</code></pre>\n<p>I got the following result (Parasoft Jtest will ignore all statements in this method):</p>\n<pre class=\"lang-java prettyprint-override\"><code>// parasoft-begin-suppress ALL\n@lombok.Generated\nvoid generatedMethod() {\n    System.out.println(&quot;DUMMY&quot;);\n    // parasoft-end-suppress ALL\n}\n</code></pre>\n"}],"owner":{"account_id":4835964,"reputation":1710,"user_id":3902663,"accept_rate":78,"display_name":"SATO Yusuke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74840913,"answer_count":2,"score":1,"last_activity_date":1671362689,"creation_date":1670257631,"question_id":74691352,"body_markdown":"## What I want to do\r\n\r\nI am trying to add a single-line comments around a method annotated with `@lombok.Generated` to tell Parasoft Jtest to suppress the reporting of findings in the method like this:\r\n\r\n```java\r\n// parasoft-begin-suppress ALL\r\n@lombok.Generated\r\nvoid generatedMethod() {\r\n}\r\n// parasoft-end-suppress ALL\r\n```\r\n\r\n## What I tried\r\n\r\nTo add these comments, I wrote a Java program that adds comments to Java sources with JavaParser.\r\nI have successfully added the comment before the annotation with this code based on the [JavaParser sample project](https://github.com/javaparser/javaparser-maven-sample/blob/master/src/main/java/com/yourorganization/maven_sample/LogicPositivizer.java) :\r\n\r\n```java\r\npublic static void main(String[] args) throws IOException {\r\n    Log.setAdapter(new Log.StandardOutStandardErrorAdapter());\r\n\r\n    Path inPath = Paths.get(&quot;/path/to/input/source&quot;);\r\n    SourceRoot sourceRoot = new SourceRoot(inPath);\r\n    List&lt;ParseResult&lt;CompilationUnit&gt;&gt; p = sourceRoot.tryToParseParallelized();\r\n\r\n    Iterator&lt;ParseResult&lt;CompilationUnit&gt;&gt; it = p.iterator();\r\n    while (it.hasNext()) {\r\n        ParseResult&lt;CompilationUnit&gt; pr = it.next();\r\n        pr.getResult().ifPresent(cu -&gt; {\r\n            cu.accept(new ModifierVisitor&lt;Void&gt;() {\r\n\r\n                @Override\r\n                public Visitable visit(MethodDeclaration n, Void arg) {\r\n                    List&lt;MarkerAnnotationExpr&gt; list = n.findAll(MarkerAnnotationExpr.class);\r\n                    Iterator&lt;MarkerAnnotationExpr&gt; it = list.iterator();\r\n                    while (it.hasNext()) {\r\n                        MarkerAnnotationExpr ann = it.next();\r\n                        if (ann.getNameAsString().equals(&quot;lombok.Generated&quot;)) {\r\n                            ann.setLineComment(&quot;// parasoft-begin-suppress ALL&quot;);\r\n                            List&lt;Node&gt; childNodeList = n.getChildNodes();\r\n                            // childNodeList.add(new LineComment(&quot;// parasoft-end-suppress ALL&quot;));\r\n                        }\r\n                    }\r\n                    return super.visit(n, arg);\r\n                }\r\n            }, null);\r\n        });\r\n    }\r\n\r\n    Path outPath = Paths.get(&quot;/path/to/output/source&quot;);\r\n    sourceRoot.saveAll(outPath);\r\n}\r\n```\r\n\r\n## Problem\r\n\r\nI couldn&#39;t add the comment after the method with `childNodeList.add(new LineComment(&quot;// parasoft-end-suppress ALL&quot;));`.\r\nThe Javadoc of [`Node#getChildNodes`](https://javadoc.io/static/com.github.javaparser/javaparser-core/3.24.8/com/github/javaparser/ast/Node.html#getChildNodes--) says `You can add and remove nodes from this list by adding or removing nodes from the fields of this node.`, but I got `UnsupportedOperationException` when I call `childNodeList.add()`.\r\n\r\n\r\n\r\n## Question\r\n\r\nHow can I add a line comment just after a method with JavaParser?\r\n","title":"How to add a line comment just after a method with JavaParser","body":"<h2>What I want to do</h2>\n<p>I am trying to add a single-line comments around a method annotated with <code>@lombok.Generated</code> to tell Parasoft Jtest to suppress the reporting of findings in the method like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// parasoft-begin-suppress ALL\n@lombok.Generated\nvoid generatedMethod() {\n}\n// parasoft-end-suppress ALL\n</code></pre>\n<h2>What I tried</h2>\n<p>To add these comments, I wrote a Java program that adds comments to Java sources with JavaParser.\nI have successfully added the comment before the annotation with this code based on the <a href=\"https://github.com/javaparser/javaparser-maven-sample/blob/master/src/main/java/com/yourorganization/maven_sample/LogicPositivizer.java\" rel=\"nofollow noreferrer\">JavaParser sample project</a> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws IOException {\n    Log.setAdapter(new Log.StandardOutStandardErrorAdapter());\n\n    Path inPath = Paths.get(&quot;/path/to/input/source&quot;);\n    SourceRoot sourceRoot = new SourceRoot(inPath);\n    List&lt;ParseResult&lt;CompilationUnit&gt;&gt; p = sourceRoot.tryToParseParallelized();\n\n    Iterator&lt;ParseResult&lt;CompilationUnit&gt;&gt; it = p.iterator();\n    while (it.hasNext()) {\n        ParseResult&lt;CompilationUnit&gt; pr = it.next();\n        pr.getResult().ifPresent(cu -&gt; {\n            cu.accept(new ModifierVisitor&lt;Void&gt;() {\n\n                @Override\n                public Visitable visit(MethodDeclaration n, Void arg) {\n                    List&lt;MarkerAnnotationExpr&gt; list = n.findAll(MarkerAnnotationExpr.class);\n                    Iterator&lt;MarkerAnnotationExpr&gt; it = list.iterator();\n                    while (it.hasNext()) {\n                        MarkerAnnotationExpr ann = it.next();\n                        if (ann.getNameAsString().equals(&quot;lombok.Generated&quot;)) {\n                            ann.setLineComment(&quot;// parasoft-begin-suppress ALL&quot;);\n                            List&lt;Node&gt; childNodeList = n.getChildNodes();\n                            // childNodeList.add(new LineComment(&quot;// parasoft-end-suppress ALL&quot;));\n                        }\n                    }\n                    return super.visit(n, arg);\n                }\n            }, null);\n        });\n    }\n\n    Path outPath = Paths.get(&quot;/path/to/output/source&quot;);\n    sourceRoot.saveAll(outPath);\n}\n</code></pre>\n<h2>Problem</h2>\n<p>I couldn't add the comment after the method with <code>childNodeList.add(new LineComment(&quot;// parasoft-end-suppress ALL&quot;));</code>.\nThe Javadoc of <a href=\"https://javadoc.io/static/com.github.javaparser/javaparser-core/3.24.8/com/github/javaparser/ast/Node.html#getChildNodes--\" rel=\"nofollow noreferrer\"><code>Node#getChildNodes</code></a> says <code>You can add and remove nodes from this list by adding or removing nodes from the fields of this node.</code>, but I got <code>UnsupportedOperationException</code> when I call <code>childNodeList.add()</code>.</p>\n<h2>Question</h2>\n<p>How can I add a line comment just after a method with JavaParser?</p>\n"},{"tags":["java","recursion","lambda"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1459484096,"post_id":36347888,"comment_id":60316981,"body_markdown":"I&#39;m confused why you do `files.stream().filter(predicate1.and(predicate2))` twice","body":"I&#39;m confused why you do <code>files.stream().filter(predicate1.and(predicate2))</code> twice"},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":1,"creation_date":1459484330,"post_id":36347888,"comment_id":60317055,"body_markdown":"what is the value of `maxDepth`, and why do you use `Arrays.asList(file)` for single file? this clearly will cause the recursion to be called with the same parameter all over again","body":"what is the value of <code>maxDepth</code>, and why do you use <code>Arrays.asList(file)</code> for single file? this clearly will cause the recursion to be called with the same parameter all over again"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1459484377,"post_id":36347888,"comment_id":60317073,"body_markdown":"&quot;As a alternative&quot; to what? What are  you trying to *do*? Because you&#39;re basically asking an [XY question](http://meta.stackexchange.com/a/66378) here.","body":"&quot;As a alternative&quot; to what? What are  you trying to <i>do</i>? Because you&#39;re basically asking an <a href=\"http://meta.stackexchange.com/a/66378\">XY question</a> here."},{"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"score":0,"creation_date":1671363108,"post_id":36347888,"comment_id":132079514,"body_markdown":"Why not using Files API which remove most of this boiler plate : https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#find-java.nio.file.Path-int-java.util.function.BiPredicate-java.nio.file.FileVisitOption...- or https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#walkFileTree-java.nio.file.Path-java.nio.file.FileVisitor- ?","body":"Why not using Files API which remove most of this boiler plate : <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#find-java.nio.file.Path-int-java.util.function.BiPredicate-java.nio.file.FileVisitOption...-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/nio/file/&hellip;</a> or <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#walkFileTree-java.nio.file.Path-java.nio.file.FileVisitor-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/nio/file/&hellip;</a> ?"}],"answers":[{"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1459485238,"post_id":36347976,"comment_id":60317306,"body_markdown":"I&#39;ve never seen &quot;recurse&quot; hyphenated.","body":"I&#39;ve never seen &quot;recurse&quot; hyphenated."},{"owner":{"account_id":2734210,"reputation":6420,"user_id":2357233,"accept_rate":100,"display_name":"JamesENL"},"score":1,"creation_date":1459488990,"post_id":36347976,"comment_id":60318455,"body_markdown":"Unless you&#39;re talking about someone continually swearing","body":"Unless you&#39;re talking about someone continually swearing"}],"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1459518729,"creation_date":1459484459,"answer_id":36347976,"question_id":36347888,"body_markdown":"You recurse infinitely. If `file` isn&#39;t a directory, you still walk it again. Check that `file` is a directory first, something like,\r\n\r\n\tif (file.isDirectory()) {\r\n\t\tStream&lt;File&gt; filteredDirectories = files.stream()\r\n                .filter(predicate1.and(predicate2));\r\n\t\tint currentDepth = ++depth;\r\n\t\tfilteredDirectories.forEach(f -&gt; walk(f, currentDepth));\r\n\t}\r\n\r\n","title":"java.lang.StackOverflowError issue with Lambda and recursion","body":"<p>You recurse infinitely. If <code>file</code> isn't a directory, you still walk it again. Check that <code>file</code> is a directory first, something like,</p>\n\n<pre><code>if (file.isDirectory()) {\n    Stream&lt;File&gt; filteredDirectories = files.stream()\n            .filter(predicate1.and(predicate2));\n    int currentDepth = ++depth;\n    filteredDirectories.forEach(f -&gt; walk(f, currentDepth));\n}\n</code></pre>\n"}],"owner":{"account_id":111490,"reputation":296,"user_id":294499,"accept_rate":62,"display_name":"sij"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1592,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671362278,"creation_date":1459483831,"question_id":36347888,"body_markdown":"When I use the old fashion list.iterator() for doing recursion on directory the below code works, but I don&#39;t understand the the cause of stackoverflow which appears only when I use lambda as per Java 8 style. \r\n\r\n\tprivate void walk(File file, int depth) {\r\n\t\tif (depth &gt;= maxDepth)\r\n\t\t\treturn;\t\t\r\n\t\tList&lt;File&gt; files = file.isDirectory()?Arrays.asList(file.listFiles()):Arrays.asList(file);\r\n\t\tfilesStream.addAll(files.stream()\r\n\t\t\t\t\t\t    .filter(predicate1.and(predicate2))\r\n\t\t\t\t\t\t\t.collect(Collectors.toList()));\r\n\t\tStream&lt;File&gt; filteredDirectories = files.stream()\r\n\t\t\t\t\t\t\t\t\t\t\t\t.filter(predicate3.and(predicate4));\r\n\t\tint currentDepth = ++depth;\r\n\t\tfilteredDirectories.forEach(f -&gt; walk(f, currentDepth));\r\n\t}\t\r\n\r\n\r\nBelow is the stacktrace \r\n\r\n    java.lang.StackOverflowError\r\n\tat java.util.Collection.stream(Collection.java:581)\r\n\tat org.util.DirectoryManager.walk(DirectoryManager.java:192)\r\n\tat org.util.DirectoryManager.lambda$12(DirectoryManager.java:198)\r\n\tat org.util.DirectoryManager$$Lambda$10/1068824137.accept(Unknown Source)\r\n\tat java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n\tat java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)\r\n\tat java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:512)\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:502)\r\n\tat java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n\tat java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)\r\n\tat org.util.DirectoryManager.walk(DirectoryManager.java:198)\r\n\tat org.util.DirectoryManager.lambda$12(DirectoryManager.java:198)\r\n\tat org.util.DirectoryManager$$Lambda$10/1068824137.accept(Unknown Source)\r\n\tat java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n\tat java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)\r\n\tat java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:512)\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:502)\r\n\tat java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n\tat java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)\r\n\tat org.util.DirectoryManager.walk(DirectoryManager.java:198)\r\n\tat org.util.DirectoryManager.lambda$12(DirectoryManager.java:198)\r\n\tat org.util.DirectoryManager$$Lambda$10/1068824137.accept(Unknown Source)\r\n\tat java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n\tat java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)\r\n    ...\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)\r\n\tat org.util.DirectoryManager.walk(DirectoryManager.java:198)\r\n\tat org.util.DirectoryManager.lambda$12(DirectoryManager.java:198)\r\n\tat org.util.DirectoryManager$$Lambda$10/1068824137.accept(Unknown Source)\r\n\tat java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n\tat java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)\r\n\tat java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:512)\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:502)\r\n\tat java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n\tat java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n","title":"java.lang.StackOverflowError issue with Lambda and recursion","body":"<p>When I use the old fashion list.iterator() for doing recursion on directory the below code works, but I don't understand the the cause of stackoverflow which appears only when I use lambda as per Java 8 style. </p>\n\n<pre><code>private void walk(File file, int depth) {\n    if (depth &gt;= maxDepth)\n        return;     \n    List&lt;File&gt; files = file.isDirectory()?Arrays.asList(file.listFiles()):Arrays.asList(file);\n    filesStream.addAll(files.stream()\n                        .filter(predicate1.and(predicate2))\n                        .collect(Collectors.toList()));\n    Stream&lt;File&gt; filteredDirectories = files.stream()\n                                            .filter(predicate3.and(predicate4));\n    int currentDepth = ++depth;\n    filteredDirectories.forEach(f -&gt; walk(f, currentDepth));\n}   \n</code></pre>\n\n<p>Below is the stacktrace </p>\n\n<pre><code>java.lang.StackOverflowError\nat java.util.Collection.stream(Collection.java:581)\nat org.util.DirectoryManager.walk(DirectoryManager.java:192)\nat org.util.DirectoryManager.lambda$12(DirectoryManager.java:198)\nat org.util.DirectoryManager$$Lambda$10/1068824137.accept(Unknown Source)\nat java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\nat java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)\nat java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)\nat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:512)\nat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:502)\nat java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\nat java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\nat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\nat java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)\nat org.util.DirectoryManager.walk(DirectoryManager.java:198)\nat org.util.DirectoryManager.lambda$12(DirectoryManager.java:198)\nat org.util.DirectoryManager$$Lambda$10/1068824137.accept(Unknown Source)\nat java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\nat java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)\nat java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)\nat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:512)\nat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:502)\nat java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\nat java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\nat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\nat java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)\nat org.util.DirectoryManager.walk(DirectoryManager.java:198)\nat org.util.DirectoryManager.lambda$12(DirectoryManager.java:198)\nat org.util.DirectoryManager$$Lambda$10/1068824137.accept(Unknown Source)\nat java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\nat java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)\n...\nat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\nat java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)\nat org.util.DirectoryManager.walk(DirectoryManager.java:198)\nat org.util.DirectoryManager.lambda$12(DirectoryManager.java:198)\nat org.util.DirectoryManager$$Lambda$10/1068824137.accept(Unknown Source)\nat java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\nat java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)\nat java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)\nat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:512)\nat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:502)\nat java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\nat java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\nat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n</code></pre>\n"},{"tags":["java","api","junit5","rest-assured","request-headers"],"comments":[{"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"score":0,"creation_date":1671305453,"post_id":74836888,"comment_id":132072703,"body_markdown":"Could you post the whole class? The part which sends the actual request is not shown.","body":"Could you post the whole class? The part which sends the actual request is not shown."},{"owner":{"account_id":27031406,"reputation":1,"user_id":20587710,"display_name":"Josu&#233; Lima"},"score":0,"creation_date":1671336317,"post_id":74836888,"comment_id":132076456,"body_markdown":"@SimGel I reposted all the content of the class.","body":"@SimGel I reposted all the content of the class."},{"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"score":0,"creation_date":1671360131,"post_id":74836888,"comment_id":132079034,"body_markdown":"This should be impossible at least on theory. Headers are stored in HashMap so duplicate keys should not be allowed. Its more logical to be problem in the logging library.","body":"This should be impossible at least on theory. Headers are stored in HashMap so duplicate keys should not be allowed. Its more logical to be problem in the logging library."}],"owner":{"account_id":27031406,"reputation":1,"user_id":20587710,"display_name":"Josu&#233; Lima"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671361989,"creation_date":1671305197,"question_id":74836888,"body_markdown":"how are you?\r\n\r\nI&#39;m having trouble running my automated API test suite.\r\n\r\n**Problem:**\r\n\r\nWhen I run the API tests within a JUnit5 suite class, I noticed that with each test run, the Header of my request is duplicated or even tripled. This results in the failure of further tests.\r\n\r\nThe strange thing is that the tests that fail in this run work normally when run individually.\r\n\r\n\r\n```\r\nprivate static RequestSpecification reqSpec;\r\nprivate static ResponseSpecification respSpec;\r\n\r\n@BeforeAll\r\npublic static void setup(){\r\n\r\n    baseURI = BASE_URI;\r\n    port = PORT;\r\n\r\n    reqSpec = new RequestSpecBuilder()\r\n            .log(LogDetail.ALL)\r\n            .setContentType(CONTENT_TYPE)\r\n            .setAccept(&quot;application/json&quot;)\r\n            .build();\r\n\r\n    respSpec = new ResponseSpecBuilder()\r\n            .expectResponseTime(lessThan(TIMEOUT))\r\n            .log(LogDetail.ALL)\r\n            .build();\r\n\r\n    requestSpecification = reqSpec;\r\n    responseSpecification = respSpec;\r\n}\r\n```\r\nIn the code above, center the RequestSpecification in a `@BeforeAll` for each test case.\r\n```\r\n\r\n```\r\n    package tests.booker;\r\n    \r\n    import core.BaseRequestSpecification;\r\n    import entities.PayLoads;\r\n    import org.apache.http.HttpStatus;\r\n    import org.junit.jupiter.api.DisplayName;\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    import static io.restassured.RestAssured.given;\r\n    public class CreateBooking extends BaseRequestSpecification {\r\n    \r\n        private final String RESOURCE_BOOKER_ID = &quot;booking&quot;;\r\n    \r\n        @Test\r\n        @DisplayName(&quot;Listar IDs de Bookings&quot;)\r\n        public void listarIDsDeBooking() {\r\n    \r\n                    given()\r\n                        .body(PayLoads.criarNewBooking())\r\n                        .pathParams(&quot;recurso&quot;, RESOURCE_BOOKER_ID)\r\n                    .when()\r\n                        .post(&quot;/{recurso}&quot;)\r\n                    .then()\r\n                        .statusCode(HttpStatus.SC_OK);\r\n        }\r\n    }\r\n```\r\nRequest method:\tPOST\r\nRequest URI:\thttps://restful-booker.herokuapp.com:443/booking\r\nProxy:\t\t\t&lt;none&gt;\r\nRequest params:\t&lt;none&gt;\r\nQuery params:\t&lt;none&gt;\r\nForm params:\t&lt;none&gt;\r\nPath params:\trecurso=booking\r\nHeaders:\t\tAccept=application/json\r\n\t\t\t\tContent-Type=application/json\r\nCookies:\t\t&lt;none&gt;\r\nMultiparts:\t\t&lt;none&gt;\r\nBody:\r\n{\r\n    &quot;firstname&quot;: &quot;Rafael&quot;,\r\n    &quot;lastname&quot;: &quot;Pereira&quot;,\r\n    &quot;totalprice&quot;: 350,\r\n    &quot;depositpaid&quot;: true,\r\n    &quot;bookingdates&quot;: {\r\n        &quot;checkin&quot;: &quot;2022-01-01&quot;,\r\n        &quot;checkout&quot;: &quot;2022-09-08&quot;\r\n    },\r\n    &quot;additionalneeds&quot;: &quot;Breakfast&quot;\r\n}\r\nRequest method:\tPOST\r\nRequest URI:\thttps://restful-booker.herokuapp.com:443/booking\r\nProxy:\t\t\t&lt;none&gt;\r\nRequest params:\t&lt;none&gt;\r\nQuery params:\t&lt;none&gt;\r\nForm params:\t&lt;none&gt;\r\nPath params:\trecurso=booking\r\nHeaders:\t\tAccept=application/json\r\n\t\t\t\tContent-Type=application/json\r\nCookies:\t\t&lt;none&gt;\r\nMultiparts:\t\t&lt;none&gt;\r\nBody:\r\n{\r\n    &quot;firstname&quot;: &quot;Rafael&quot;,\r\n    &quot;lastname&quot;: &quot;Pereira&quot;,\r\n    &quot;totalprice&quot;: 350,\r\n    &quot;depositpaid&quot;: true,\r\n    &quot;bookingdates&quot;: {\r\n        &quot;checkin&quot;: &quot;2022-01-01&quot;,\r\n        &quot;checkout&quot;: &quot;2022-09-08&quot;\r\n    },\r\n    &quot;additionalneeds&quot;: &quot;Breakfast&quot;\r\n}\r\nHTTP/1.1 200 OK\r\nServer: Cowboy\r\nConnection: keep-alive\r\nX-Powered-By: Express\r\nContent-Type: application/json; charset=utf-8\r\nContent-Length: 202\r\nEtag: W/&quot;ca-SeG/svUxAe31ACn85hvsVDB4nWM&quot;\r\nDate: Sun, 18 Dec 2022 03:34:57 GMT\r\nVia: 1.1 vegur\r\n\r\n{\r\n    &quot;bookingid&quot;: 1897,\r\n    &quot;booking&quot;: {\r\n        &quot;firstname&quot;: &quot;Rafael&quot;,\r\n        &quot;lastname&quot;: &quot;Pereira&quot;,\r\n        &quot;totalprice&quot;: 350,\r\n        &quot;depositpaid&quot;: true,\r\n        &quot;bookingdates&quot;: {\r\n            &quot;checkin&quot;: &quot;2022-01-01&quot;,\r\n            &quot;checkout&quot;: &quot;2022-09-08&quot;\r\n        },\r\n        &quot;additionalneeds&quot;: &quot;Breakfast&quot;\r\n    }\r\n}\r\n\r\n```\r\n\r\nlooking at the console output, they noticed that the API header is assembled a second time. this occurs with the other tests in the suite.\r\n\r\n\r\nA similar problem: https://stackoverflow.com/questions/72860454/duplicate-headers-are-added-at-runtime-in-rest-assured","title":"Duplicate headers while running API regression tests","body":"<p>how are you?</p>\n<p>I'm having trouble running my automated API test suite.</p>\n<p><strong>Problem:</strong></p>\n<p>When I run the API tests within a JUnit5 suite class, I noticed that with each test run, the Header of my request is duplicated or even tripled. This results in the failure of further tests.</p>\n<p>The strange thing is that the tests that fail in this run work normally when run individually.</p>\n<pre><code>private static RequestSpecification reqSpec;\nprivate static ResponseSpecification respSpec;\n\n@BeforeAll\npublic static void setup(){\n\n    baseURI = BASE_URI;\n    port = PORT;\n\n    reqSpec = new RequestSpecBuilder()\n            .log(LogDetail.ALL)\n            .setContentType(CONTENT_TYPE)\n            .setAccept(&quot;application/json&quot;)\n            .build();\n\n    respSpec = new ResponseSpecBuilder()\n            .expectResponseTime(lessThan(TIMEOUT))\n            .log(LogDetail.ALL)\n            .build();\n\n    requestSpecification = reqSpec;\n    responseSpecification = respSpec;\n}\n</code></pre>\n<p>In the code above, center the RequestSpecification in a <code>@BeforeAll</code> for each test case.</p>\n<pre><code>\n</code></pre>\n<pre><code>package tests.booker;\n\nimport core.BaseRequestSpecification;\nimport entities.PayLoads;\nimport org.apache.http.HttpStatus;\nimport org.junit.jupiter.api.DisplayName;\nimport org.junit.jupiter.api.Test;\n\nimport static io.restassured.RestAssured.given;\npublic class CreateBooking extends BaseRequestSpecification {\n\n    private final String RESOURCE_BOOKER_ID = &quot;booking&quot;;\n\n    @Test\n    @DisplayName(&quot;Listar IDs de Bookings&quot;)\n    public void listarIDsDeBooking() {\n\n                given()\n                    .body(PayLoads.criarNewBooking())\n                    .pathParams(&quot;recurso&quot;, RESOURCE_BOOKER_ID)\n                .when()\n                    .post(&quot;/{recurso}&quot;)\n                .then()\n                    .statusCode(HttpStatus.SC_OK);\n    }\n}\n</code></pre>\n<pre><code>Request method: POST\nRequest URI:    https://restful-booker.herokuapp.com:443/booking\nProxy:          &lt;none&gt;\nRequest params: &lt;none&gt;\nQuery params:   &lt;none&gt;\nForm params:    &lt;none&gt;\nPath params:    recurso=booking\nHeaders:        Accept=application/json\n                Content-Type=application/json\nCookies:        &lt;none&gt;\nMultiparts:     &lt;none&gt;\nBody:\n{\n    &quot;firstname&quot;: &quot;Rafael&quot;,\n    &quot;lastname&quot;: &quot;Pereira&quot;,\n    &quot;totalprice&quot;: 350,\n    &quot;depositpaid&quot;: true,\n    &quot;bookingdates&quot;: {\n        &quot;checkin&quot;: &quot;2022-01-01&quot;,\n        &quot;checkout&quot;: &quot;2022-09-08&quot;\n    },\n    &quot;additionalneeds&quot;: &quot;Breakfast&quot;\n}\nRequest method: POST\nRequest URI:    https://restful-booker.herokuapp.com:443/booking\nProxy:          &lt;none&gt;\nRequest params: &lt;none&gt;\nQuery params:   &lt;none&gt;\nForm params:    &lt;none&gt;\nPath params:    recurso=booking\nHeaders:        Accept=application/json\n                Content-Type=application/json\nCookies:        &lt;none&gt;\nMultiparts:     &lt;none&gt;\nBody:\n{\n    &quot;firstname&quot;: &quot;Rafael&quot;,\n    &quot;lastname&quot;: &quot;Pereira&quot;,\n    &quot;totalprice&quot;: 350,\n    &quot;depositpaid&quot;: true,\n    &quot;bookingdates&quot;: {\n        &quot;checkin&quot;: &quot;2022-01-01&quot;,\n        &quot;checkout&quot;: &quot;2022-09-08&quot;\n    },\n    &quot;additionalneeds&quot;: &quot;Breakfast&quot;\n}\nHTTP/1.1 200 OK\nServer: Cowboy\nConnection: keep-alive\nX-Powered-By: Express\nContent-Type: application/json; charset=utf-8\nContent-Length: 202\nEtag: W/&quot;ca-SeG/svUxAe31ACn85hvsVDB4nWM&quot;\nDate: Sun, 18 Dec 2022 03:34:57 GMT\nVia: 1.1 vegur\n\n{\n    &quot;bookingid&quot;: 1897,\n    &quot;booking&quot;: {\n        &quot;firstname&quot;: &quot;Rafael&quot;,\n        &quot;lastname&quot;: &quot;Pereira&quot;,\n        &quot;totalprice&quot;: 350,\n        &quot;depositpaid&quot;: true,\n        &quot;bookingdates&quot;: {\n            &quot;checkin&quot;: &quot;2022-01-01&quot;,\n            &quot;checkout&quot;: &quot;2022-09-08&quot;\n        },\n        &quot;additionalneeds&quot;: &quot;Breakfast&quot;\n    }\n}\n\n</code></pre>\n<p>looking at the console output, they noticed that the API header is assembled a second time. this occurs with the other tests in the suite.</p>\n<p>A similar problem: <a href=\"https://stackoverflow.com/questions/72860454/duplicate-headers-are-added-at-runtime-in-rest-assured\">Duplicate headers are added at runtime in Rest assured</a></p>\n"},{"tags":["java","generics","linked-list"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1671361343,"post_id":74840783,"comment_id":132079239,"body_markdown":"How about a static method `public static int sum(JList&lt;Integer&gt; list)`?","body":"How about a static method <code>public static int sum(JList&lt;Integer&gt; list)</code>?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1671361765,"post_id":74840783,"comment_id":132079310,"body_markdown":"You get the _&quot;Cannot instantiate the type JList&quot;_ because `JList` is abstract. You cannot create instances of an abstract class.","body":"You get the <i>&quot;Cannot instantiate the type JList&quot;</i> because <code>JList</code> is abstract. You cannot create instances of an abstract class."}],"answers":[{"comments":[{"owner":{"account_id":27280704,"reputation":33,"user_id":20800644,"display_name":"Jasper"},"score":0,"creation_date":1671363365,"post_id":74840860,"comment_id":132079547,"body_markdown":"But then I would have to create a new Integer list with JListInteger right? I would like to still do that via JList&lt;Integer&gt;","body":"But then I would have to create a new Integer list with JListInteger right? I would like to still do that via JList&lt;Integer&gt;"},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1671363716,"post_id":74840860,"comment_id":132079611,"body_markdown":"@Jasper Yes, you&#39;ll have to create an instance of `JListInteger`.","body":"@Jasper Yes, you&#39;ll have to create an instance of <code>JListInteger</code>."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1671364212,"post_id":74840860,"comment_id":132079695,"body_markdown":"@Jasper That would always have been the case, even with your original attempt.","body":"@Jasper That would always have been the case, even with your original attempt."},{"owner":{"account_id":27280704,"reputation":33,"user_id":20800644,"display_name":"Jasper"},"score":0,"creation_date":1671365182,"post_id":74840860,"comment_id":132079855,"body_markdown":"Is there no possible way around that?","body":"Is there no possible way around that?"},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1671365978,"post_id":74840860,"comment_id":132079981,"body_markdown":"@Jasper you can take the static method approach khelwood suggested in a comment, but if you want an instance method, I don&#39;t think there is.","body":"@Jasper you can take the static method approach khelwood suggested in a comment, but if you want an instance method, I don&#39;t think there is."}],"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671361934,"creation_date":1671361934,"answer_id":74840860,"question_id":74840783,"body_markdown":"Your inheritance attempt is correct. Just don&#39;t make the base class `abstract`, so that you can instantiate it.\r\n\r\n    public class JList&lt;T&gt; {\r\n        public JNode&lt;T&gt; sentinel;\r\n    \r\n        public JList() {\r\n            this.sentinel = new JNode&lt;T&gt;();\r\n        }\r\n    }\r\n\r\nNote that the `sum` method should only be defined for the `JListInteger` sub class, since the base class doesn&#39;t necessarily support `sum` operation.\r\n","title":"Method of generic Java class that only works for Integer","body":"<p>Your inheritance attempt is correct. Just don't make the base class <code>abstract</code>, so that you can instantiate it.</p>\n<pre><code>public class JList&lt;T&gt; {\n    public JNode&lt;T&gt; sentinel;\n\n    public JList() {\n        this.sentinel = new JNode&lt;T&gt;();\n    }\n}\n</code></pre>\n<p>Note that the <code>sum</code> method should only be defined for the <code>JListInteger</code> sub class, since the base class doesn't necessarily support <code>sum</code> operation.</p>\n"}],"owner":{"account_id":27280704,"reputation":33,"user_id":20800644,"display_name":"Jasper"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":74840860,"answer_count":1,"score":1,"last_activity_date":1671361934,"creation_date":1671361102,"question_id":74840783,"body_markdown":"I have a generic class like the Java Linked List with a method sum() which should only be accessible if the list is of type Integer.\r\nThe constructor and sum() method look like this:\r\n\r\n\r\n```\r\npublic class JList&lt;T&gt; {\r\n\tpublic JNode&lt;T&gt; sentinel;\r\n\r\n\tpublic JList() {\r\n\t\tthis.sentinel = new JNode&lt;T&gt;();\r\n\t}\r\n\r\n\t// Sum of every entry\r\n\tpublic int sum() {\r\n\t\tJNode&lt;Integer&gt; n = (JNode&lt;Integer&gt;) this.sentinel.next;\r\n\t\tint sum = 0;\r\n\r\n\t\twhile (n != null) {\r\n\t\t\tsum += n.element;\r\n\t\t\tn = n.next;\r\n\t\t}\r\n\t\treturn sum;\r\n\t}\r\n\r\n...\r\n\r\n```\r\n\r\nBefore executing the method I dont want to ask whether the sentinel is instace of Integer. I was wondering if there was a way to not show sum() at all if the list is of type String\r\n\r\nI tried changing JList to an abstract class and implementing a seperate class for Integers like this:\r\n\r\n\r\n```\r\npublic abstract class JList&lt;T&gt; {\r\n\tpublic JNode&lt;T&gt; sentinel;\r\n\r\n\tpublic JList() {\r\n\t\tthis.sentinel = new JNode&lt;T&gt;();\r\n\t}\r\n\t\r\n\tpublic abstract int sum();\r\n\r\n```\r\n\r\nand \r\n\r\n\r\n```\r\npublic class JListInteger extends JList&lt;Integer&gt; {\r\n\r\n\tpublic int sum() {\r\n\t\tJNode&lt;Integer&gt; n = (JNode&lt;Integer&gt;) this.sentinel.next;\r\n\t\tint sum = 0;\r\n\r\n\t\twhile (n != null) {\r\n\t\t\tsum += n.element;\r\n\t\t\tn = n.next;\r\n\t\t}\r\n\t\treturn sum;\r\n\t}\r\n}\r\n\r\n```\r\n \r\nBut when trying to create a list \r\n\r\n\r\n```\r\npublic class Test {\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tJList&lt;String&gt; l1 = new JList&lt;&gt;();\r\n\t}\r\n}\r\n\r\n```\r\n\r\n it says &quot;Cannot instantiate the type JList&quot;\r\n","title":"Method of generic Java class that only works for Integer","body":"<p>I have a generic class like the Java Linked List with a method sum() which should only be accessible if the list is of type Integer.\nThe constructor and sum() method look like this:</p>\n<pre><code>public class JList&lt;T&gt; {\n    public JNode&lt;T&gt; sentinel;\n\n    public JList() {\n        this.sentinel = new JNode&lt;T&gt;();\n    }\n\n    // Sum of every entry\n    public int sum() {\n        JNode&lt;Integer&gt; n = (JNode&lt;Integer&gt;) this.sentinel.next;\n        int sum = 0;\n\n        while (n != null) {\n            sum += n.element;\n            n = n.next;\n        }\n        return sum;\n    }\n\n...\n\n</code></pre>\n<p>Before executing the method I dont want to ask whether the sentinel is instace of Integer. I was wondering if there was a way to not show sum() at all if the list is of type String</p>\n<p>I tried changing JList to an abstract class and implementing a seperate class for Integers like this:</p>\n<pre><code>public abstract class JList&lt;T&gt; {\n    public JNode&lt;T&gt; sentinel;\n\n    public JList() {\n        this.sentinel = new JNode&lt;T&gt;();\n    }\n    \n    public abstract int sum();\n\n</code></pre>\n<p>and</p>\n<pre><code>public class JListInteger extends JList&lt;Integer&gt; {\n\n    public int sum() {\n        JNode&lt;Integer&gt; n = (JNode&lt;Integer&gt;) this.sentinel.next;\n        int sum = 0;\n\n        while (n != null) {\n            sum += n.element;\n            n = n.next;\n        }\n        return sum;\n    }\n}\n\n</code></pre>\n<p>But when trying to create a list</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n\n        JList&lt;String&gt; l1 = new JList&lt;&gt;();\n    }\n}\n\n</code></pre>\n<p>it says &quot;Cannot instantiate the type JList&quot;</p>\n"},{"tags":["java","oracle","jdbc","memory-leaks","hikaricp"],"comments":[{"owner":{"account_id":255184,"reputation":7191,"user_id":535060,"accept_rate":94,"display_name":"Somaiah Kumbera"},"score":0,"creation_date":1602008757,"post_id":44557667,"comment_id":113582184,"body_markdown":"Great esoteric question. Had the same problem, your question helped me resolve it.","body":"Great esoteric question. Had the same problem, your question helped me resolve it."}],"answers":[{"comments":[{"owner":{"account_id":11120555,"reputation":43,"user_id":8163532,"display_name":"JustinL"},"score":0,"creation_date":1497529746,"post_id":44561885,"comment_id":76123569,"body_markdown":"Thank you so much! That makes sense now. I thought closing the unwrapped would release references to the Pooled Connection and it should at the very least be GC&#39;d. Now i see where it is, patch on the way :)","body":"Thank you so much! That makes sense now. I thought closing the unwrapped would release references to the Pooled Connection and it should at the very least be GC&#39;d. Now i see where it is, patch on the way :)"}],"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1671361638,"creation_date":1497513572,"answer_id":44561885,"question_id":44557667,"body_markdown":"What you are doing in `getUnwrappedConnection()` is not what you should be doing: if you are unwrapping, then you need to make sure you also hold on to the connection pool connection, as closing that connection is what returns it to the pool. So first get the connection from the pool, and only unwrap at the point you really need it, and then, when you are done, close the original connection you obtained from the data source. \r\n\r\nDo **not** close the unwrapped connection, because that will close the actual physical connection, and that will defeat the purpose of using a connection pool.\r\n\r\nSo in short:\r\n\r\n```java\r\ntry (Connection connection = dataSource.getConnection()) {\r\n    OracleConnection unwrapped = connection.unwrap(oracle.jdbc.driver.OracleConnection.class)\r\n\r\n    ...\r\n\r\n    // Do not close (or use try-with-resources) on unwrapped\r\n}\r\n```","title":"HikariCP Connection Leak using unwrapped oracle.jdbc.driver.T4CConnection","body":"<p>What you are doing in <code>getUnwrappedConnection()</code> is not what you should be doing: if you are unwrapping, then you need to make sure you also hold on to the connection pool connection, as closing that connection is what returns it to the pool. So first get the connection from the pool, and only unwrap at the point you really need it, and then, when you are done, close the original connection you obtained from the data source.</p>\n<p>Do <strong>not</strong> close the unwrapped connection, because that will close the actual physical connection, and that will defeat the purpose of using a connection pool.</p>\n<p>So in short:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (Connection connection = dataSource.getConnection()) {\n    OracleConnection unwrapped = connection.unwrap(oracle.jdbc.driver.OracleConnection.class)\n\n    ...\n\n    // Do not close (or use try-with-resources) on unwrapped\n}\n</code></pre>\n"}],"owner":{"account_id":11120555,"reputation":43,"user_id":8163532,"display_name":"JustinL"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4695,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":44561885,"answer_count":1,"score":4,"last_activity_date":1671361638,"creation_date":1497494539,"question_id":44557667,"body_markdown":"I am having an issue with a resource leak using HikariCP with an Unwrapped Connection. A little explanation then the code.\r\n\r\nI must use an unwrapped connection to access Oracle methods for oracle.sql.BFILE. This is streaming a binary out of an Oracle Directory.\r\n\r\nDataSource Example:\r\n\r\n    private static DataSource unwrapDatasource;\r\n    public static synchronized DataSource getUnwrappedDataSource() {\r\n        if (unwrapDatasource == null) {\r\n            HikariConfig config = new HikariConfig();\r\n            config.setMaximumPoolSize(50);\r\n            config.setLeakDetectionThreshold(120000);\r\n            config.setJdbcUrl(DATABASEURL);\r\n            config.addDataSourceProperty(&quot;user&quot;, USERNAME);\r\n            config.addDataSourceProperty(&quot;password&quot;, DBPASSWORD);\r\n            config.addDataSourceProperty(&quot;driverType&quot;, &quot;thin&quot;);\r\n            config.setDriverClassName(&quot;oracle.jdbc.pool.OracleDataSource&quot;);\r\n            config.setMaxLifetime(300000);\r\n            config.setPoolName(&quot;UNWRAP&quot;);\r\n            unwrapDatasource = new HikariDataSource(config);\r\n        }\r\n        \r\n        return unwrapDatasource;\r\n    }\r\n\r\n      public static Connection getUnwrappedConnection() {\r\n        Connection con = null;\r\n        try {\r\n            con = this.getUnwrappedDataSource().getConnection().unwrap(oracle.jdbc.driver.OracleConnection.class);\r\n        } catch (SQLException ex) {\r\n            //logger junk ommitted for brevity\r\n        }\r\n        return con;\r\n    }\r\n\r\nUsing HikariCP-java7-2.4.12 as the app is very old and running on tomcat-6.\r\nHere is sample of the Connection that gets reported as Leaked with \r\n\r\n        com.zaxxer.hikari.pool.ProxyLeakTask.run(poolProxyLeak.java:91) : &lt;Connection leak detection triggered for {}, stack trace follows&gt;\r\n    java.lang.Exception: Apparent connection leak detected\r\n        at myapp.package.obfuscated.getUnwrapConnection(DataSourceConstants.java:253)\r\n        at myapp.package.obfuscated.BB.execute(DatabaseCallingClass2.java:106)\r\n        at myapp.package.obfuscated.BB.execute(DatabaseCallingClass2.java:85)\r\n        at myapp.package.obfuscated.AA.execute(DataBaseCallingClass.java:52)\r\n        at org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:425)\r\n        at org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:228)\r\n        at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)\r\n        at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:643)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:723)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n        at org.displaytag.filter.ResponseOverrideFilter.doFilter(ResponseOverrideFilter.java:123)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:563)\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:293)\r\n        at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:859)\r\n        at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:610)\r\n        at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:503)\r\n        at java.lang.Thread.run(Thread.java:745)\r\n\r\nHere is the Connection and how it is used:\r\n\r\n         Connection con = null;\r\n         PreparedStatement pstmt = null;\r\n         OracleResultSet rs = null;\r\n         InputStream inputStream = null;\r\n         StringBuilder stringBuilder = new StringBuilder(128);\r\n         try {\r\n                con = DataSourceConstants.getUnwrappedConnection();\r\n            \r\n                pstmt = con.prepareStatement(&quot;SELECT BFILENAME(&#39;ORACLE_DIR&#39;, &#39;fileDownload.12345&#39;) AS BFILE from dual&quot; );  //hardcoded for example\r\n                rs = (OracleResultSet) pstmt.executeQuery();\r\n                \r\n                rs.next();  //Assumption if rs.next() blows up, catch would grab it and resources would all attempt to close in finally block\r\n                \r\n                bfile = rs.getBFILE(1);\r\n                bfile.open();\r\n                inputStream = bfile.getBinaryStream();\r\n                char c;\r\n                long size = bfile.length();\r\n                \r\n                int i = 0;\r\n                do {\r\n                    c= (char) inputStream.read();\r\n                    stringBuilder.append(c);\r\n                } while (++i &lt; size);\r\n                \r\n                } catch (Exception ex) {\r\n                  //logger ommitted but not throwing here\r\n                } finally {\r\n                 //cleanup resources\r\n                 try { inputStream.close(); } catch (Exception ex) {}\r\n                 try { bfile.close(); } catch (Exception ex) {}\r\n                 try { rs.close(); } catch (Exception ex) {}\r\n                 try { pstmt.close(); } catch (Exception ex) {}\r\n                 try {con.close();  } catch (Exception ex){}\r\n                }\r\n           //use stringBuilder later in built output.\r\nSo The above retrieves an unwrapped T4CConnection so that I can use the OracleResultSet and BFILE / getBFILE(). This works and I get the result that I want, however two separate Classes using this structure to retrieve a BFILE are both Leaking, and another method that doesn&#39;t use BFILE but is using an Unwrapped Connection to use OracleCallableStatement is also leaking. I have instantiated 3 DataSources to split all of the connectors by type/function, the only pool that Leaks is the one using Datasource.getConnection().unwrap(oracle.jdbc.driver.OracleConnection.class) for its connectors.\r\n\r\nAm I doing something wrong with an unwrapped connection? Why is this the only one that leaks? Is this a known driver bug? (I haven&#39;t come up with any articles on it) BFILE doesn&#39;t seem to be very popular...","title":"HikariCP Connection Leak using unwrapped oracle.jdbc.driver.T4CConnection","body":"<p>I am having an issue with a resource leak using HikariCP with an Unwrapped Connection. A little explanation then the code.</p>\n\n<p>I must use an unwrapped connection to access Oracle methods for oracle.sql.BFILE. This is streaming a binary out of an Oracle Directory.</p>\n\n<p>DataSource Example:</p>\n\n<pre><code>private static DataSource unwrapDatasource;\npublic static synchronized DataSource getUnwrappedDataSource() {\n    if (unwrapDatasource == null) {\n        HikariConfig config = new HikariConfig();\n        config.setMaximumPoolSize(50);\n        config.setLeakDetectionThreshold(120000);\n        config.setJdbcUrl(DATABASEURL);\n        config.addDataSourceProperty(\"user\", USERNAME);\n        config.addDataSourceProperty(\"password\", DBPASSWORD);\n        config.addDataSourceProperty(\"driverType\", \"thin\");\n        config.setDriverClassName(\"oracle.jdbc.pool.OracleDataSource\");\n        config.setMaxLifetime(300000);\n        config.setPoolName(\"UNWRAP\");\n        unwrapDatasource = new HikariDataSource(config);\n    }\n\n    return unwrapDatasource;\n}\n\n  public static Connection getUnwrappedConnection() {\n    Connection con = null;\n    try {\n        con = this.getUnwrappedDataSource().getConnection().unwrap(oracle.jdbc.driver.OracleConnection.class);\n    } catch (SQLException ex) {\n        //logger junk ommitted for brevity\n    }\n    return con;\n}\n</code></pre>\n\n<p>Using HikariCP-java7-2.4.12 as the app is very old and running on tomcat-6.\nHere is sample of the Connection that gets reported as Leaked with </p>\n\n<pre><code>    com.zaxxer.hikari.pool.ProxyLeakTask.run(poolProxyLeak.java:91) : &lt;Connection leak detection triggered for {}, stack trace follows&gt;\njava.lang.Exception: Apparent connection leak detected\n    at myapp.package.obfuscated.getUnwrapConnection(DataSourceConstants.java:253)\n    at myapp.package.obfuscated.BB.execute(DatabaseCallingClass2.java:106)\n    at myapp.package.obfuscated.BB.execute(DatabaseCallingClass2.java:85)\n    at myapp.package.obfuscated.AA.execute(DataBaseCallingClass.java:52)\n    at org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:425)\n    at org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:228)\n    at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)\n    at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:643)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:723)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.displaytag.filter.ResponseOverrideFilter.doFilter(ResponseOverrideFilter.java:123)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:563)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:293)\n    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:859)\n    at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:610)\n    at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:503)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>Here is the Connection and how it is used:</p>\n\n<pre><code>     Connection con = null;\n     PreparedStatement pstmt = null;\n     OracleResultSet rs = null;\n     InputStream inputStream = null;\n     StringBuilder stringBuilder = new StringBuilder(128);\n     try {\n            con = DataSourceConstants.getUnwrappedConnection();\n\n            pstmt = con.prepareStatement(\"SELECT BFILENAME('ORACLE_DIR', 'fileDownload.12345') AS BFILE from dual\" );  //hardcoded for example\n            rs = (OracleResultSet) pstmt.executeQuery();\n\n            rs.next();  //Assumption if rs.next() blows up, catch would grab it and resources would all attempt to close in finally block\n\n            bfile = rs.getBFILE(1);\n            bfile.open();\n            inputStream = bfile.getBinaryStream();\n            char c;\n            long size = bfile.length();\n\n            int i = 0;\n            do {\n                c= (char) inputStream.read();\n                stringBuilder.append(c);\n            } while (++i &lt; size);\n\n            } catch (Exception ex) {\n              //logger ommitted but not throwing here\n            } finally {\n             //cleanup resources\n             try { inputStream.close(); } catch (Exception ex) {}\n             try { bfile.close(); } catch (Exception ex) {}\n             try { rs.close(); } catch (Exception ex) {}\n             try { pstmt.close(); } catch (Exception ex) {}\n             try {con.close();  } catch (Exception ex){}\n            }\n       //use stringBuilder later in built output.\n</code></pre>\n\n<p>So The above retrieves an unwrapped T4CConnection so that I can use the OracleResultSet and BFILE / getBFILE(). This works and I get the result that I want, however two separate Classes using this structure to retrieve a BFILE are both Leaking, and another method that doesn't use BFILE but is using an Unwrapped Connection to use OracleCallableStatement is also leaking. I have instantiated 3 DataSources to split all of the connectors by type/function, the only pool that Leaks is the one using Datasource.getConnection().unwrap(oracle.jdbc.driver.OracleConnection.class) for its connectors.</p>\n\n<p>Am I doing something wrong with an unwrapped connection? Why is this the only one that leaks? Is this a known driver bug? (I haven't come up with any articles on it) BFILE doesn't seem to be very popular...</p>\n"},{"tags":["java","jersey","glassfish","jetty"],"comments":[{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1671488722,"post_id":74839526,"comment_id":132106497,"body_markdown":"See [ask]. Describe your problem before showing the error message.","body":"See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. Describe your problem before showing the error message."}],"owner":{"account_id":16019801,"reputation":11,"user_id":11561559,"display_name":"Aryan Nale"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671361338,"creation_date":1671345354,"question_id":74839526,"body_markdown":"\r\n```\r\n\r\n  Failed startup of context o.e.j.w.WebAppContext@2b474e19{/application,file:///private/var/folders/m6/1hhw77gs0cb4b843wsk_1pn00000gr/T/jetty-0_0_0_0-8081-application-5_2_6_war-application-any-2769690816992481852/webapp/,UNAVAILABLE}{./webapps/application-5.2.6.war}\r\n    javax.servlet.ServletException: org.glassfish.jersey.servlet.ServletContainer-494bace6==org.glassfish.jersey.servlet.ServletContainer@18497314{jsp=null,order=1,inst=true,async=true,src=EMBEDDED:null,STARTED}\r\n\tat org.eclipse.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:650)\r\n\tat org.eclipse.jetty.servlet.ServletHolder.initialize(ServletHolder.java:415)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.lambda$initialize$0(ServletHandler.java:731)\r\n\tat java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:483)\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\r\n\tat java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:313)\r\n\tat java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743)\r\n\tat java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:647)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.initialize(ServletHandler.java:755)\r\n\tat org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:379)\r\n\tat org.eclipse.jetty.webapp.WebAppContext.startWebapp(WebAppContext.java:1449)\r\n\tat org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1414)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:911)\r\n\tat org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:288)\r\n\tat org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:524)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:169)\r\n\tat org.eclipse.jetty.server.Server.start(Server.java:423)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:110)\r\n\tat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:97)\r\n\tat org.eclipse.jetty.server.Server.doStart(Server.java:387)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\r\n\tat one.card.jetty.Jetty.startService(Jetty.java:61)\r\n\tat org.jpos.q2.QBeanSupport.start(QBeanSupport.java:137)\r\n\tat sun.reflect.GeneratedMethodAccessor34.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat sun.reflect.misc.Trampoline.invoke(MethodUtil.java:72)\r\n\tat sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:276)\r\n\tat com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:112)\r\n\tat com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:46)\r\n\tat com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:237)\r\n\tat com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:138)\r\n\tat com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:252)\r\n\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n\tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n\tat org.jpos.q2.QFactory.startQBean(QFactory.java:176)\r\n\tat org.jpos.q2.Q2.start(Q2.java:633)\r\n\tat org.jpos.q2.Q2.deploy(Q2.java:418)\r\n\tat org.jpos.q2.Q2.run(Q2.java:267)\r\n\tat java.lang.Thread.run(Thread.java:750)\r\nCaused by: java.lang.ClassCastException: Cannot cast org.glassfish.jersey.inject.hk2.Hk2InjectionManagerFactory to org.glassfish.jersey.internal.inject.InjectionManagerFactory\r\n\tat java.lang.Class.cast(Class.java:3397)\r\n\tat org.glassfish.jersey.internal.ServiceFinder$LazyObjectIterator.hasNext(ServiceFinder.java:690)\r\n\tat org.glassfish.jersey.internal.inject.Injections.lookupService(Injections.java:88)\r\n\tat org.glassfish.jersey.internal.inject.Injections.lookupInjectionManagerFactory(Injections.java:73)\r\n\tat org.glassfish.jersey.internal.inject.Injections.createInjectionManager(Injections.java:69)\r\n\tat org.glassfish.jersey.server.ApplicationHandler.&lt;init&gt;(ApplicationHandler.java:282)\r\n\tat org.glassfish.jersey.servlet.WebComponent.&lt;init&gt;(WebComponent.java:335)\r\n\tat org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:178)\r\n\tat org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:370)\r\n\tat javax.servlet.GenericServlet.init(GenericServlet.java:203)\r\n\tat org.eclipse.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:632)\r\n\t... 44 common frames omitted\r\n\r\n```\r\n\r\nFailed to start the application error. current version of Jersey is 2.31. I have tried updating jersey version also, but still facing issue. I am not able to progress, and not sure what needs to be done to remove this error. I have verified the war file and its available there. ","title":"Cannot cast org.glassfish.jersey.inject.hk2.Hk2InjectionManagerFactory to org.glassfish.jersey.internal.inject.InjectionManagerFactory","body":"<pre><code>\n  Failed startup of context o.e.j.w.WebAppContext@2b474e19{/application,file:///private/var/folders/m6/1hhw77gs0cb4b843wsk_1pn00000gr/T/jetty-0_0_0_0-8081-application-5_2_6_war-application-any-2769690816992481852/webapp/,UNAVAILABLE}{./webapps/application-5.2.6.war}\n    javax.servlet.ServletException: org.glassfish.jersey.servlet.ServletContainer-494bace6==org.glassfish.jersey.servlet.ServletContainer@18497314{jsp=null,order=1,inst=true,async=true,src=EMBEDDED:null,STARTED}\n    at org.eclipse.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:650)\n    at org.eclipse.jetty.servlet.ServletHolder.initialize(ServletHolder.java:415)\n    at org.eclipse.jetty.servlet.ServletHandler.lambda$initialize$0(ServletHandler.java:731)\n    at java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:483)\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n    at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:313)\n    at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743)\n    at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:647)\n    at org.eclipse.jetty.servlet.ServletHandler.initialize(ServletHandler.java:755)\n    at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:379)\n    at org.eclipse.jetty.webapp.WebAppContext.startWebapp(WebAppContext.java:1449)\n    at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1414)\n    at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:911)\n    at org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:288)\n    at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:524)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:169)\n    at org.eclipse.jetty.server.Server.start(Server.java:423)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:110)\n    at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:97)\n    at org.eclipse.jetty.server.Server.doStart(Server.java:387)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\n    at one.card.jetty.Jetty.startService(Jetty.java:61)\n    at org.jpos.q2.QBeanSupport.start(QBeanSupport.java:137)\n    at sun.reflect.GeneratedMethodAccessor34.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:72)\n    at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:276)\n    at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:112)\n    at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:46)\n    at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:237)\n    at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:138)\n    at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:252)\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n    at org.jpos.q2.QFactory.startQBean(QFactory.java:176)\n    at org.jpos.q2.Q2.start(Q2.java:633)\n    at org.jpos.q2.Q2.deploy(Q2.java:418)\n    at org.jpos.q2.Q2.run(Q2.java:267)\n    at java.lang.Thread.run(Thread.java:750)\nCaused by: java.lang.ClassCastException: Cannot cast org.glassfish.jersey.inject.hk2.Hk2InjectionManagerFactory to org.glassfish.jersey.internal.inject.InjectionManagerFactory\n    at java.lang.Class.cast(Class.java:3397)\n    at org.glassfish.jersey.internal.ServiceFinder$LazyObjectIterator.hasNext(ServiceFinder.java:690)\n    at org.glassfish.jersey.internal.inject.Injections.lookupService(Injections.java:88)\n    at org.glassfish.jersey.internal.inject.Injections.lookupInjectionManagerFactory(Injections.java:73)\n    at org.glassfish.jersey.internal.inject.Injections.createInjectionManager(Injections.java:69)\n    at org.glassfish.jersey.server.ApplicationHandler.&lt;init&gt;(ApplicationHandler.java:282)\n    at org.glassfish.jersey.servlet.WebComponent.&lt;init&gt;(WebComponent.java:335)\n    at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:178)\n    at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:370)\n    at javax.servlet.GenericServlet.init(GenericServlet.java:203)\n    at org.eclipse.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:632)\n    ... 44 common frames omitted\n\n</code></pre>\n<p>Failed to start the application error. current version of Jersey is 2.31. I have tried updating jersey version also, but still facing issue. I am not able to progress, and not sure what needs to be done to remove this error. I have verified the war file and its available there.</p>\n"},{"tags":["java","spring-boot","asynchronous","redis","lettuce"],"owner":{"account_id":20667761,"reputation":53,"user_id":15174185,"display_name":"Chaithra Shenoy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671361286,"creation_date":1671361286,"question_id":74840805,"body_markdown":"I want to implement Redis asynchronously using the lettuce-core library and also implement the connection pool with desired timeout and pool size. \r\n","title":"How to configure redis asynchronously using lettuce library","body":"<p>I want to implement Redis asynchronously using the lettuce-core library and also implement the connection pool with desired timeout and pool size.</p>\n"},{"tags":["java","intellij-idea","lambda"],"comments":[{"owner":{"account_id":6303362,"reputation":525,"user_id":4897257,"display_name":"John Gallagher"},"score":0,"creation_date":1502644870,"post_id":45662950,"comment_id":78283527,"body_markdown":"You probably switched your java version to 1.6 by accident. Try updating java to 1.8 in order to have access to lambda function api&#39;s.","body":"You probably switched your java version to 1.6 by accident. Try updating java to 1.8 in order to have access to lambda function api&#39;s."},{"owner":{"account_id":10255560,"reputation":185,"user_id":7568511,"accept_rate":64,"display_name":"jordibenck"},"score":0,"creation_date":1502644930,"post_id":45662950,"comment_id":78283554,"body_markdown":"I only have java 8 installed, both SDK and JRE 8 version 144","body":"I only have java 8 installed, both SDK and JRE 8 version 144"},{"owner":{"account_id":9910243,"reputation":901,"user_id":7337255,"display_name":"Aleksei Budiak"},"score":0,"creation_date":1502645029,"post_id":45662950,"comment_id":78283570,"body_markdown":"Check your java version with `java -version` command. If by some reason you have 1.6 version then uninstall it or set `JAVA_HOME` environment variable to `jre_1.8.X/bin` directory.","body":"Check your java version with <code>java -version</code> command. If by some reason you have 1.6 version then uninstall it or set <code>JAVA_HOME</code> environment variable to <code>jre_1.8.X&#47;bin</code> directory."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1502645077,"post_id":45662950,"comment_id":78283593,"body_markdown":"Check your IDE settings, you may have it (or gradle) to Java 1.6","body":"Check your IDE settings, you may have it (or gradle) to Java 1.6"},{"owner":{"account_id":10299696,"reputation":2315,"user_id":7598776,"display_name":"Robin Topper"},"score":0,"creation_date":1502645230,"post_id":45662950,"comment_id":78283633,"body_markdown":"[This answer/suggestion](https://stackoverflow.com/a/45361596/7598776) might help","body":"<a href=\"https://stackoverflow.com/a/45361596/7598776\">This answer/suggestion</a> might help"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1502645273,"post_id":45662950,"comment_id":78283642,"body_markdown":"You can&#39;t expect to use Java 1.8 features with `-source 1.6`.","body":"You can&#39;t expect to use Java 1.8 features with <code>-source 1.6</code>."}],"answers":[{"tags":[],"owner":{"account_id":5058098,"reputation":1679,"user_id":4060667,"accept_rate":50,"display_name":"Deepak Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1502645361,"creation_date":1502645361,"answer_id":45663039,"question_id":45662950,"body_markdown":"Check `Settings -&gt; Compiler - &gt; Java Compiler`. \r\nIf that doesn&#39;t work,\r\nfor **MAVEN:** you can set it in your pom.xml, like this:\r\n\r\n    &lt;properties&gt;\r\n      &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n      &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\nfor gradle :\r\n\r\n    sourceCompatibility = &quot;1.8&quot;; \r\n    targetCompatibility = &quot;1.8&quot;; // defaults to sourceCompatibility","title":"Why do I get error &quot;Lambda expressions are not supported in -source 1.6&quot;?","body":"<p>Check <code>Settings -&gt; Compiler - &gt; Java Compiler</code>. \nIf that doesn't work,\nfor <strong>MAVEN:</strong> you can set it in your pom.xml, like this:</p>\n\n<pre><code>&lt;properties&gt;\n  &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n  &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>for gradle :</p>\n\n<pre><code>sourceCompatibility = \"1.8\"; \ntargetCompatibility = \"1.8\"; // defaults to sourceCompatibility\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6656175,"reputation":17964,"user_id":5136659,"accept_rate":60,"display_name":"Ali Faris"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1502646068,"creation_date":1502645618,"answer_id":45663075,"question_id":45662950,"body_markdown":"that because in you IDEA the *Project language level* set to **&quot;6 - @Override in interface&quot;**\r\n\r\nto solve goto:  \r\n\r\n    File -&gt; Other Setting -&gt; Default Project Structure\r\n\r\n now change **Project language level** to `Lambdas , type annotation etc.` and then click **OK**","title":"Why do I get error &quot;Lambda expressions are not supported in -source 1.6&quot;?","body":"<p>that because in you IDEA the <em>Project language level</em> set to <strong>\"6 - @Override in interface\"</strong></p>\n\n<p>to solve goto:  </p>\n\n<pre><code>File -&gt; Other Setting -&gt; Default Project Structure\n</code></pre>\n\n<p>now change <strong>Project language level</strong> to <code>Lambdas , type annotation etc.</code> and then click <strong>OK</strong></p>\n"}],"owner":{"account_id":10255560,"reputation":185,"user_id":7568511,"accept_rate":64,"display_name":"jordibenck"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":543,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":45663039,"answer_count":2,"score":1,"last_activity_date":1671361285,"creation_date":1502644771,"question_id":45662950,"body_markdown":"I&#39;m using IntelliJ Idea and I get this error.\r\n\r\n&gt; Lambda expressions are not supported in -source 1.6\r\n\r\n Got this when I updated from 2016 to the 2017 version of the community edition after I did something with gradle.\r\n\r\nSettings: Java compiler: Project bytecode version: 1.8\r\nModules bytecode version: 1.8\r\nProject SDK: 1.8\r\nProject language level: default(8)\r\nModules 1.8 as well\r\n ","title":"Why do I get error &quot;Lambda expressions are not supported in -source 1.6&quot;?","body":"<p>I'm using IntelliJ Idea and I get this error.</p>\n<blockquote>\n<p>Lambda expressions are not supported in -source 1.6</p>\n</blockquote>\n<p>Got this when I updated from 2016 to the 2017 version of the community edition after I did something with gradle.</p>\n<p>Settings: Java compiler: Project bytecode version: 1.8\nModules bytecode version: 1.8\nProject SDK: 1.8\nProject language level: default(8)\nModules 1.8 as well</p>\n"},{"tags":["java","lambda"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1572192304,"post_id":58581039,"comment_id":103476553,"body_markdown":"You&#39;re not using `id` so what&#39;s the point? If you were to use it, Java implicitly captures the variable for you.","body":"You&#39;re not using <code>id</code> so what&#39;s the point? If you were to use it, Java implicitly captures the variable for you."},{"owner":{"account_id":4796691,"reputation":2276,"user_id":10116440,"display_name":"Guerlando OCs"},"score":0,"creation_date":1572192339,"post_id":58581039,"comment_id":103476565,"body_markdown":"@SotiriosDelimanolis I&#39;m using it when I do `return onAcquireNewFrameFfmpeg(id);`","body":"@SotiriosDelimanolis I&#39;m using it when I do <code>return onAcquireNewFrameFfmpeg(id);</code>"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":3,"creation_date":1572192484,"post_id":58581039,"comment_id":103476603,"body_markdown":"I mean in your lambda version. Lambda capture is implicit in Java. `myFrameAcquirerFunction  = () -&gt; ByteBuffer.allocate(id);` or whateveryou want to do with the `id`.","body":"I mean in your lambda version. Lambda capture is implicit in Java. <code>myFrameAcquirerFunction  = () -&gt; ByteBuffer.allocate(id);</code> or whateveryou want to do with the <code>id</code>."}],"owner":{"account_id":4796691,"reputation":2276,"user_id":10116440,"display_name":"Guerlando OCs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671361227,"creation_date":1572192142,"question_id":58581039,"body_markdown":"    public interface FrameAcquirer {\r\n        public ByteBuffer onAcquireNewFrame();\r\n    }\r\n\r\n\r\nI want to create `FrameAcquirer` instances that implement the onAcquireNewFrame lambda function, but I want it to have internal components, just like C++:\r\n\r\n    public class FfmpegFrameAcquirer implements FrameAcquirer {\r\n        int id;\r\n        public FfmpegFrameAcquirer(int id) {\r\n            this.id = id;\r\n        }\r\n        public ByteBuffer onAcquireNewFrame() {\r\n            return onAcquireNewFrameFfmpeg(id);\r\n        }\r\n        public native ByteBuffer onAcquireNewFrameFfmpeg(int id);\r\n    }\r\n\r\nBut in order to create a `FrameAcquirer` lambda function I should do this\r\n\r\n    FrameAcquirer myFrameAcquirerFunction = () -&gt; {return null;}\r\n\r\nThere&#39;s no place to initiate my `FfmpegFrameAcquirer` with its id.\r\n\r\nIn C++ I&#39;d simply do\r\n\r\n    FrameAcquirer myFrameAcquirerFunction = [id](){return nullptr;}","title":"How to have java lambda functions with members just like C++ lambda functions?","body":"<pre><code>public interface FrameAcquirer {\n    public ByteBuffer onAcquireNewFrame();\n}\n</code></pre>\n\n<p>I want to create <code>FrameAcquirer</code> instances that implement the onAcquireNewFrame lambda function, but I want it to have internal components, just like C++:</p>\n\n<pre><code>public class FfmpegFrameAcquirer implements FrameAcquirer {\n    int id;\n    public FfmpegFrameAcquirer(int id) {\n        this.id = id;\n    }\n    public ByteBuffer onAcquireNewFrame() {\n        return onAcquireNewFrameFfmpeg(id);\n    }\n    public native ByteBuffer onAcquireNewFrameFfmpeg(int id);\n}\n</code></pre>\n\n<p>But in order to create a <code>FrameAcquirer</code> lambda function I should do this</p>\n\n<pre><code>FrameAcquirer myFrameAcquirerFunction = () -&gt; {return null;}\n</code></pre>\n\n<p>There's no place to initiate my <code>FfmpegFrameAcquirer</code> with its id.</p>\n\n<p>In C++ I'd simply do</p>\n\n<pre><code>FrameAcquirer myFrameAcquirerFunction = [id](){return nullptr;}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1460344994,"post_id":36539308,"comment_id":60680850,"body_markdown":"*I want to be able to run commands like javac and java directly from my phone* Short answer; **no**. Longer answer; maybe if you want to run a full system emulator but it will be ***slow***.","body":"<i>I want to be able to run commands like javac and java directly from my phone</i> Short answer; <b>no</b>. Longer answer; maybe if you want to run a full system emulator but it will be <b><i>slow</i></b>."},{"owner":{"account_id":6268259,"reputation":111,"user_id":4873223,"display_name":"moderatelygood"},"score":0,"creation_date":1460345174,"post_id":36539308,"comment_id":60680901,"body_markdown":"Which emulator would be sufficient and how would I implement it. My phone has a decent processor so I would like to try the emulator out","body":"Which emulator would be sufficient and how would I implement it. My phone has a decent processor so I would like to try the emulator out"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1460345587,"post_id":36539308,"comment_id":60680998,"body_markdown":"See this [Reddit](https://www.reddit.com/r/androidapps/comments/3hjf11/is_there_any_good_pc_virtualizationx86_emulator/).","body":"See this <a href=\"https://www.reddit.com/r/androidapps/comments/3hjf11/is_there_any_good_pc_virtualizationx86_emulator/\" rel=\"nofollow noreferrer\">Reddit</a>."},{"owner":{"account_id":110558,"reputation":10111,"user_id":292502,"accept_rate":83,"display_name":"Csaba Toth"},"score":0,"creation_date":1460439248,"post_id":36539308,"comment_id":60728690,"body_markdown":"It&#39;s promising that in the future Google will contribute to the `OpneJDK` project. So we should see new Java features on Android, but that&#39;s only about Java language features. Google can still keep some own proprietary binary format, like `dex` is right now. It&#39;s a question how much you&#39;ll be able to find `javac` and other tools. But the embracement of the `OpenJDK` is a promising direction.","body":"It&#39;s promising that in the future Google will contribute to the <code>OpneJDK</code> project. So we should see new Java features on Android, but that&#39;s only about Java language features. Google can still keep some own proprietary binary format, like <code>dex</code> is right now. It&#39;s a question how much you&#39;ll be able to find <code>javac</code> and other tools. But the embracement of the <code>OpenJDK</code> is a promising direction."},{"owner":{"account_id":6268259,"reputation":111,"user_id":4873223,"display_name":"moderatelygood"},"score":0,"creation_date":1460529606,"post_id":36539308,"comment_id":60778629,"body_markdown":"It would be great if the integration of OpenJDK into Android N would ensure capability to run it directly in the terminal, but historically Google has made many java updates for android that only serve the purpose of android app development rather than java development. I guess until then we can never be certain of the status of direct access to the jdk commands within android.","body":"It would be great if the integration of OpenJDK into Android N would ensure capability to run it directly in the terminal, but historically Google has made many java updates for android that only serve the purpose of android app development rather than java development. I guess until then we can never be certain of the status of direct access to the jdk commands within android."},{"owner":{"account_id":3533928,"reputation":376,"user_id":2952723,"display_name":"Harshiv"},"score":0,"creation_date":1490359408,"post_id":36539308,"comment_id":73089246,"body_markdown":"@moderatelygood , did you get JDK working on Device?","body":"@moderatelygood , did you get JDK working on Device?"}],"answers":[{"comments":[{"owner":{"account_id":6268259,"reputation":111,"user_id":4873223,"display_name":"moderatelygood"},"score":0,"creation_date":1460346624,"post_id":36539508,"comment_id":60681207,"body_markdown":"Unfortunately, the link you posted gives a 404 error. I think it is outdated but if you can verify and/or update the link that would be great.","body":"Unfortunately, the link you posted gives a 404 error. I think it is outdated but if you can verify and/or update the link that would be great."},{"owner":{"account_id":6268259,"reputation":111,"user_id":4873223,"display_name":"moderatelygood"},"score":0,"creation_date":1460348695,"post_id":36539508,"comment_id":60681723,"body_markdown":"The apk file downloads but Install System throws a java io exception when overwrite is both checked and unchecked","body":"The apk file downloads but Install System throws a java io exception when overwrite is both checked and unchecked"},{"owner":{"account_id":3533928,"reputation":376,"user_id":2952723,"display_name":"Harshiv"},"score":0,"creation_date":1460348864,"post_id":36539508,"comment_id":60681758,"body_markdown":"If you had Terminal IDE already installed before this MOD installation,  it won&#39;t work,  in that case un-install previous version,then install The MOD","body":"If you had Terminal IDE already installed before this MOD installation,  it won&#39;t work,  in that case un-install previous version,then install The MOD"},{"owner":{"account_id":6268259,"reputation":111,"user_id":4873223,"display_name":"moderatelygood"},"score":0,"creation_date":1460348868,"post_id":36539508,"comment_id":60681760,"body_markdown":"OnePlus 2 running CM 13, which is based on Android 6.0","body":"OnePlus 2 running CM 13, which is based on Android 6.0"},{"owner":{"account_id":6268259,"reputation":111,"user_id":4873223,"display_name":"moderatelygood"},"score":0,"creation_date":1460348948,"post_id":36539508,"comment_id":60681778,"body_markdown":"I had uninstalled the old Terminal IDE as well with no luck","body":"I had uninstalled the old Terminal IDE as well with no luck"},{"owner":{"account_id":3533928,"reputation":376,"user_id":2952723,"display_name":"Harshiv"},"score":0,"creation_date":1460349049,"post_id":36539508,"comment_id":60681797,"body_markdown":"1.rename the apk as .zip -&gt; find and extract system.something.mp3","body":"1.rename the apk as .zip -&gt; find and extract system.something.mp3"},{"owner":{"account_id":3533928,"reputation":376,"user_id":2952723,"display_name":"Harshiv"},"score":0,"creation_date":1460349133,"post_id":36539508,"comment_id":60681821,"body_markdown":"2 rename .mp3 with system.xx.tar.gz, extract it and move it&#39;s content to terminal IDE&#39;s ~/system/folder","body":"2 rename .mp3 with system.xx.tar.gz, extract it and move it&#39;s content to terminal IDE&#39;s ~/system/folder"},{"owner":{"account_id":6268259,"reputation":111,"user_id":4873223,"display_name":"moderatelygood"},"score":0,"creation_date":1460352699,"post_id":36539508,"comment_id":60682839,"body_markdown":"Since Terminal IDE is not installing, I cannot see its system folder location","body":"Since Terminal IDE is not installing, I cannot see its system folder location"},{"owner":{"account_id":6268259,"reputation":111,"user_id":4873223,"display_name":"moderatelygood"},"score":0,"creation_date":1460354024,"post_id":36539508,"comment_id":60683364,"body_markdown":"I found the system folder location but the installer now throws null pointer exception for searching through an array with length 0","body":"I found the system folder location but the installer now throws null pointer exception for searching through an array with length 0"},{"owner":{"account_id":3533928,"reputation":376,"user_id":2952723,"display_name":"Harshiv"},"score":0,"creation_date":1460358871,"post_id":36539508,"comment_id":60685692,"body_markdown":"if rooted,Go to : `/data/data/com.spartacusrex.spartacussuide/files/` if you don&#39;t see following folders there,  then create them manually :","body":"if rooted,Go to : <code>&#47;data&#47;data&#47;com.spartacusrex.spartacussuide&#47;files&#47;</code> if you don&#39;t see following folders there,  then create them manually :"},{"owner":{"account_id":3533928,"reputation":376,"user_id":2952723,"display_name":"Harshiv"},"score":0,"creation_date":1460359242,"post_id":36539508,"comment_id":60685898,"body_markdown":"`system`  `tmp` ,then put extracted contents of system.tar.gz there. Or other simple way: if you can install the Terminal IDE from play store and installation of system is done, then you just have to replace the ~/system/bin/ folder&#39;s content with that extracted MOD&#39;s system /bin/. Only replacing binaries in there should work too. Not sure if Google messed with /system/lib again in Marshmallow.","body":"<code>system</code>  <code>tmp</code> ,then put extracted contents of system.tar.gz there. Or other simple way: if you can install the Terminal IDE from play store and installation of system is done, then you just have to replace the ~/system/bin/ folder&#39;s content with that extracted MOD&#39;s system /bin/. Only replacing binaries in there should work too. Not sure if Google messed with /system/lib again in Marshmallow."},{"owner":{"account_id":6268259,"reputation":111,"user_id":4873223,"display_name":"moderatelygood"},"score":0,"creation_date":1460389678,"post_id":36539508,"comment_id":60707178,"body_markdown":"the Install System fails","body":"the Install System fails"},{"owner":{"account_id":3533928,"reputation":376,"user_id":2952723,"display_name":"Harshiv"},"score":0,"creation_date":1460389822,"post_id":36539508,"comment_id":60707290,"body_markdown":"And you can browse to `/data/data/com.spartacusrex.spartacuside/files/` and have read/write rights ?","body":"And you can browse to <code>&#47;data&#47;data&#47;com.spartacusrex.spartacuside&#47;files&#47;</code> and have read/write rights ?"},{"owner":{"account_id":6268259,"reputation":111,"user_id":4873223,"display_name":"moderatelygood"},"score":0,"creation_date":1460389946,"post_id":36539508,"comment_id":60707391,"body_markdown":"No i used root permissions to put the system folder there so ill try giving the app root permissions","body":"No i used root permissions to put the system folder there so ill try giving the app root permissions"},{"owner":{"account_id":3533928,"reputation":376,"user_id":2952723,"display_name":"Harshiv"},"score":0,"creation_date":1460390514,"post_id":36539508,"comment_id":60707802,"body_markdown":"Try it. If doesn&#39;t work,  then try downloading the Play Store version of Terminal IDE(If it lets you install the system then things will be fine. In any case inform here what happens.","body":"Try it. If doesn&#39;t work,  then try downloading the Play Store version of Terminal IDE(If it lets you install the system then things will be fine. In any case inform here what happens."},{"owner":{"account_id":6268259,"reputation":111,"user_id":4873223,"display_name":"moderatelygood"},"score":0,"creation_date":1460399740,"post_id":36539508,"comment_id":60713487,"body_markdown":"I downloaded the app from the Play Store then moved the system folder into /data/data/com.spartacusrex.spartacuside/files and created a tmp folder as well. This time there is a filenotfound exception due to permission denied. The app does not request root permission but it needs root permissions to install system for some reason. But I suspect the app will work once I force it to run as root.","body":"I downloaded the app from the Play Store then moved the system folder into /data/data/com.spartacusrex.spartacuside/files and created a tmp folder as well. This time there is a filenotfound exception due to permission denied. The app does not request root permission but it needs root permissions to install system for some reason. But I suspect the app will work once I force it to run as root."},{"owner":{"account_id":6268259,"reputation":111,"user_id":4873223,"display_name":"moderatelygood"},"score":0,"creation_date":1460429938,"post_id":36539508,"comment_id":60725960,"body_markdown":"I am getting this error, haven&#39;t typed it all up to test it though http://m.imgur.com/i1SpCu7","body":"I am getting this error, haven&#39;t typed it all up to test it though <a href=\"http://m.imgur.com/i1SpCu7\" rel=\"nofollow noreferrer\">m.imgur.com/i1SpCu7</a>"},{"owner":{"account_id":3533928,"reputation":376,"user_id":2952723,"display_name":"Harshiv"},"score":1,"creation_date":1460430187,"post_id":36539508,"comment_id":60726009,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/108873/discussion-between-harshiv-and-moderatelygood).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/108873/discussion-between-harshiv-and-moderatelygood\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":3533928,"reputation":376,"user_id":2952723,"display_name":"Harshiv"},"comment_count":18,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460433373,"creation_date":1460346421,"answer_id":36539508,"question_id":36539308,"body_markdown":"Actually Terminal can be used if you&#39;re only interested in `javac` , `java`, `jar` . That is , you can use these three on Lollipop. I am using Terminal IDE on Android 5.1.1, it works as expected. The usable version can be found at [https://www.dropbox.com/s/h2d23ecbrt2akeu/terminalide-2.02-binary-mod-signed.apk?dl=0][1]. If you want to give it a try then open this mod terminal and do : `cp /system/lib/libjavacrypto.so ~/system/lib` , copying this library should do the job(did for me) leaving `java` and `dx` commands working. \r\n\r\n\r\n  [1]: https://www.dropbox.com/s/h2d23ecbrt2akeu/terminalide-2.02-binary-mod-signed.apk?dl=0","title":"Is it possible to install the JDK on an android device?","body":"<p>Actually Terminal can be used if you're only interested in <code>javac</code> , <code>java</code>, <code>jar</code> . That is , you can use these three on Lollipop. I am using Terminal IDE on Android 5.1.1, it works as expected. The usable version can be found at <a href=\"https://www.dropbox.com/s/h2d23ecbrt2akeu/terminalide-2.02-binary-mod-signed.apk?dl=0\" rel=\"nofollow\">https://www.dropbox.com/s/h2d23ecbrt2akeu/terminalide-2.02-binary-mod-signed.apk?dl=0</a>. If you want to give it a try then open this mod terminal and do : <code>cp /system/lib/libjavacrypto.so ~/system/lib</code> , copying this library should do the job(did for me) leaving <code>java</code> and <code>dx</code> commands working. </p>\n"},{"tags":[],"owner":{"account_id":10325694,"reputation":331,"user_id":7617228,"display_name":"rps"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1494745063,"creation_date":1494745063,"answer_id":43961210,"question_id":36539308,"body_markdown":"@moderatelygood Go to Google Play Store and download GNURoot Debian. It is a fakeroot, i.e. terminal emulator. Many other terminal emulators are available in the Play Sore, but this ine is very good. It  lives at https://github.com/corbinlc/GNURootDebian and website is http://corbinlc.github.io/GNURootDebian    You can download many packages like this:\r\n\r\napt-get update\r\n\r\napt-get install default-jdk   \r\n\r\napt-get install python \r\n\r\nand so on.\r\n\r\nYou would be able to compile/run programs in these languages. Use some text editor to write programs, like Jota Text Editor, also available in Play Store.","title":"Is it possible to install the JDK on an android device?","body":"<p>@moderatelygood Go to Google Play Store and download GNURoot Debian. It is a fakeroot, i.e. terminal emulator. Many other terminal emulators are available in the Play Sore, but this ine is very good. It  lives at <a href=\"https://github.com/corbinlc/GNURootDebian\" rel=\"nofollow noreferrer\">https://github.com/corbinlc/GNURootDebian</a> and website is <a href=\"http://corbinlc.github.io/GNURootDebian\" rel=\"nofollow noreferrer\">http://corbinlc.github.io/GNURootDebian</a>    You can download many packages like this:</p>\n\n<p>apt-get update</p>\n\n<p>apt-get install default-jdk   </p>\n\n<p>apt-get install python </p>\n\n<p>and so on.</p>\n\n<p>You would be able to compile/run programs in these languages. Use some text editor to write programs, like Jota Text Editor, also available in Play Store.</p>\n"},{"tags":[],"owner":{"account_id":11051005,"reputation":131,"user_id":8115456,"accept_rate":100,"display_name":"beewall"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1555438639,"creation_date":1555438224,"answer_id":55714233,"question_id":36539308,"body_markdown":"If you have [Termux][1], you can download the deb file [here][2], and install it with `apt-get install /path/to/deb`. A command to download and install the JRE and JDK for arm: \r\n\r\n&lt;!-- language: bash --&gt;\r\n\r\n    cd ~ # Change to home directory\r\n    apt-get install -y wget # BusyBox wget doesn&#39;t support HTTPS\r\n    hash -d wget # Forgets the BusyBox wget path so new one is used\r\n    wget https://archive.org/download/openjdk-9-jre-headless_9.2017.8.20-1_x86_64/openjdk-9-jre-headless_9.2017.8.20-1_arm.deb # Download JRE\r\n    wget https://archive.org/download/openjdk-9-jre-headless_9.2017.8.20-1_x86_64/openjdk-9-jdk-headless_9.2017.8.20-1_arm.deb # Download JDK\r\n    apt-get install -y ./openjdk-9-jre-headless_9.2017.8.20-1_arm.deb ./openjdk-9-jdk-headless_9.2017.8.20-1_arm.deb # Install the files\r\n    rm openjdk-9-*.deb # Remove the files after because they&#39;re huge\r\n\r\nOr a one-liner to copy and paste:\r\n\r\n&lt;!-- language: bash --&gt;\r\n\r\n    cd ~ &amp;&amp; apt-get install -y wget &amp;&amp; hash -d wget &amp;&amp; wget https://archive.org/download/openjdk-9-jre-headless_9.2017.8.20-1_x86_64/openjdk-9-jre-headless_9.2017.8.20-1_arm.deb &amp;&amp; wget https://archive.org/download/openjdk-9-jre-headless_9.2017.8.20-1_x86_64/openjdk-9-jdk-headless_9.2017.8.20-1_arm.deb &amp;&amp; apt-get install -y ./openjdk-9-jre-headless_9.2017.8.20-1_arm.deb ./openjdk-9-jdk-headless_9.2017.8.20-1_arm.deb &amp;&amp; rm openjdk-9-*.deb\r\n\r\nTo install for another architecture, replace occurences of &quot;arm&quot; with the correct architecture. There are files for &quot;arm&quot; (most 32-bit phones), &quot;aarch64&quot; (ARM64/armv8, most 64-bit phones), &quot;i686&quot; (x86), and &quot;x86_64&quot;. Most phones have either arm or aarch64. I believe the arm version should at least work on aarch64 (may be wrong?), so arm should work for almost everyone. But if you know what your device has, use that instead. \r\n\r\nEdit: to find your device&#39;s architecture, run `uname -m` from Termux. \r\n\r\n  [1]: https://termux.com\r\n  [2]: https://archive.org/download/openjdk-9-jre-headless_9.2017.8.20-1_x86_64","title":"Is it possible to install the JDK on an android device?","body":"<p>If you have <a href=\"https://termux.com\" rel=\"nofollow noreferrer\">Termux</a>, you can download the deb file <a href=\"https://archive.org/download/openjdk-9-jre-headless_9.2017.8.20-1_x86_64\" rel=\"nofollow noreferrer\">here</a>, and install it with <code>apt-get install /path/to/deb</code>. A command to download and install the JRE and JDK for arm: </p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>cd ~ # Change to home directory\napt-get install -y wget # BusyBox wget doesn't support HTTPS\nhash -d wget # Forgets the BusyBox wget path so new one is used\nwget https://archive.org/download/openjdk-9-jre-headless_9.2017.8.20-1_x86_64/openjdk-9-jre-headless_9.2017.8.20-1_arm.deb # Download JRE\nwget https://archive.org/download/openjdk-9-jre-headless_9.2017.8.20-1_x86_64/openjdk-9-jdk-headless_9.2017.8.20-1_arm.deb # Download JDK\napt-get install -y ./openjdk-9-jre-headless_9.2017.8.20-1_arm.deb ./openjdk-9-jdk-headless_9.2017.8.20-1_arm.deb # Install the files\nrm openjdk-9-*.deb # Remove the files after because they're huge\n</code></pre>\n\n<p>Or a one-liner to copy and paste:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>cd ~ &amp;&amp; apt-get install -y wget &amp;&amp; hash -d wget &amp;&amp; wget https://archive.org/download/openjdk-9-jre-headless_9.2017.8.20-1_x86_64/openjdk-9-jre-headless_9.2017.8.20-1_arm.deb &amp;&amp; wget https://archive.org/download/openjdk-9-jre-headless_9.2017.8.20-1_x86_64/openjdk-9-jdk-headless_9.2017.8.20-1_arm.deb &amp;&amp; apt-get install -y ./openjdk-9-jre-headless_9.2017.8.20-1_arm.deb ./openjdk-9-jdk-headless_9.2017.8.20-1_arm.deb &amp;&amp; rm openjdk-9-*.deb\n</code></pre>\n\n<p>To install for another architecture, replace occurences of \"arm\" with the correct architecture. There are files for \"arm\" (most 32-bit phones), \"aarch64\" (ARM64/armv8, most 64-bit phones), \"i686\" (x86), and \"x86_64\". Most phones have either arm or aarch64. I believe the arm version should at least work on aarch64 (may be wrong?), so arm should work for almost everyone. But if you know what your device has, use that instead. </p>\n\n<p>Edit: to find your device's architecture, run <code>uname -m</code> from Termux. </p>\n"},{"tags":[],"owner":{"account_id":26517793,"reputation":1,"user_id":20152024,"display_name":"Programer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664854436,"creation_date":1664854368,"answer_id":73942890,"question_id":36539308,"body_markdown":"Java can installed on termux. INSTALLION of java on termux take very short period of time and install directly from termux-source, this program really work for me, i am dame sure it will also work for you also......\r\n\r\n     git clone https://github.com/EagleComrade/Termux-java.git\r\n\r\n     cd Termux-java\r\n     \r\n     chmod +x install.sh\r\n\r\n     bash install.sh\r\n\r\n\r\n","title":"Is it possible to install the JDK on an android device?","body":"<p>Java can installed on termux. INSTALLION of java on termux take very short period of time and install directly from termux-source, this program really work for me, i am dame sure it will also work for you also......</p>\n<pre><code> git clone https://github.com/EagleComrade/Termux-java.git\n\n cd Termux-java\n \n chmod +x install.sh\n\n bash install.sh\n</code></pre>\n"}],"owner":{"account_id":6268259,"reputation":111,"user_id":4873223,"display_name":"moderatelygood"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26999,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":4,"score":11,"last_activity_date":1671361224,"creation_date":1460344925,"question_id":36539308,"body_markdown":"I want to be able to compile and run basic java apps within the android terminal termux. I checked out Terminal IDE, but that is incompatible with Android 5.0+. Additionally, I tried to install the arm64 jdk from Oracle&#39;s website, which android fails to recognize. I am running CM 13 and to clarify, I want to be able to run commands like javac and java directly from my phone.","title":"Is it possible to install the JDK on an android device?","body":"<p>I want to be able to compile and run basic java apps within the android terminal termux. I checked out Terminal IDE, but that is incompatible with Android 5.0+. Additionally, I tried to install the arm64 jdk from Oracle's website, which android fails to recognize. I am running CM 13 and to clarify, I want to be able to run commands like javac and java directly from my phone.</p>\n"},{"tags":["java","lambda","jvm","java-8"],"comments":[{"owner":{"account_id":155231,"reputation":5278,"user_id":371737,"accept_rate":88,"display_name":"Crembo"},"score":0,"creation_date":1429188519,"post_id":29674645,"comment_id":47488033,"body_markdown":"Not an answer to your question, but my guess is that every time you call `x1()` it creates a new `x` object, which obviously makes the lambda different. Contrary to that, `x2` is always the same as it returns a static object that doesn&#39;t change.","body":"Not an answer to your question, but my guess is that every time you call <code>x1()</code> it creates a new <code>x</code> object, which obviously makes the lambda different. Contrary to that, <code>x2</code> is always the same as it returns a static object that doesn&#39;t change."},{"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"score":0,"creation_date":1429188593,"post_id":29674645,"comment_id":47488111,"body_markdown":"@Crembo interesting guess, but if you will change it to `() -&gt; new Object()`  it will return same lambda object also.","body":"@Crembo interesting guess, but if you will change it to <code>() -&gt; new Object()</code>  it will return same lambda object also."},{"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"score":0,"creation_date":1429188628,"post_id":29674645,"comment_id":47488142,"body_markdown":"@Crembo BTW, in `x1()` no new objects are created","body":"@Crembo BTW, in <code>x1()</code> no new objects are created"},{"owner":{"account_id":155231,"reputation":5278,"user_id":371737,"accept_rate":88,"display_name":"Crembo"},"score":0,"creation_date":1429188881,"post_id":29674645,"comment_id":47488330,"body_markdown":"Maybe the JVM cannot infer that and thus assumes it&#39;s a new object just to be safe?","body":"Maybe the JVM cannot infer that and thus assumes it&#39;s a new object just to be safe?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1429190854,"post_id":29674645,"comment_id":47489912,"body_markdown":"Everything has been explained [here](http://stackoverflow.com/a/23991339/2711488) and [here](http://stackoverflow.com/a/27524543/2711488)","body":"Everything has been explained <a href=\"http://stackoverflow.com/a/23991339/2711488\">here</a> and <a href=\"http://stackoverflow.com/a/27524543/2711488\">here</a>"},{"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"score":0,"creation_date":1429191003,"post_id":29674645,"comment_id":47490060,"body_markdown":"@Holger I&#39;m not agree with you. This is different things.","body":"@Holger I&#39;m not agree with you. This is different things."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1429191421,"post_id":29674645,"comment_id":47490435,"body_markdown":"It’s *exactly* the same thing. Just follow the link(s). The answers even cite the same parts of the specification (you have asked for) as the answers here. The close reason is not that the wording of the question matches, but that it *already has an answer* there.","body":"It’s <i>exactly</i> the same thing. Just follow the link(s). The answers even cite the same parts of the specification (you have asked for) as the answers here. The close reason is not that the wording of the question matches, but that it <i>already has an answer</i> there."}],"answers":[{"tags":[],"owner":{"account_id":5667881,"reputation":4161,"user_id":4483548,"display_name":"BretC"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1429189644,"creation_date":1429187671,"answer_id":29674891,"question_id":29674645,"body_markdown":"(Edited this as my previous answer was rubbish!)\n\nThis document http://cr.openjdk.java.net/~briangoetz/lambda/lambda-translation.html provides an explanation.\n\nThese sections from that document should help answer your question...\n\n&gt; **Desugaring example -- &quot;stateless&quot; lambdas**\n&gt;\n&gt; The simplest form of lambda expression to translate is one that captures no state from its enclosing scope (a stateless lambda):\n\n...and...\n\n&gt; **Desugaring example -- lambdas capturing immutable values**\n&gt;\n&gt; The other form of lambda expression involves capture of enclosing final (or effectively final) local variables, and/or fields from enclosing instances (which we can treat as capture of the final enclosing this reference).\n\nYour second method (x2) is an example of the first type of lamba (a stateless one that captures no state from it&#39;s enclosing scope) and this is probably why the same lamba is returned in each case.\n\nIf you use javap to print out the generated bytecode, you can also see that there is a difference between the two blocks generated...\n\n    &gt;javap -p -c L2.class\n    \n    public class L2 {\n      public static java.lang.Object o;\n    \n      public L2();\n        Code:\n           0: aload_0\n           1: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\n           4: return\n    \n      public static java.util.concurrent.Callable&lt;java.lang.Object&gt; x1();\n        Code:\n           0: getstatic     #2                  // Field o:Ljava/lang/Object;\n           3: astore_0\n           4: aload_0\n           5: invokedynamic #3,  0              // InvokeDynamic #0:call:(Ljava/lang/Object;)Ljava/util/concurrent/Callable;\n          10: areturn\n    \n      public static java.util.concurrent.Callable&lt;java.lang.Object&gt; x2();\n        Code:\n           0: invokedynamic #4,  0              // InvokeDynamic #1:call:()Ljava/util/concurrent/Callable;\n           5: areturn\n    \n      private static java.lang.Object lambda$x2$1() throws java.lang.Exception;\n        Code:\n           0: getstatic     #2                  // Field o:Ljava/lang/Object;\n           3: areturn\n    \n      private static java.lang.Object lambda$x1$0(java.lang.Object) throws java.lang.Exception;\n        Code:\n           0: aload_0\n           1: areturn\n    \n      static {};\n        Code:\n           0: new           #5                  // class java/lang/Object\n           3: dup\n           4: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\n           7: putstatic     #2                  // Field o:Ljava/lang/Object;\n          10: return\n    }\n\n","title":"When does JVM decide to reuse old lambda?","body":"<p>(Edited this as my previous answer was rubbish!)</p>\n<p>This document <a href=\"http://cr.openjdk.java.net/%7Ebriangoetz/lambda/lambda-translation.html\" rel=\"nofollow noreferrer\">http://cr.openjdk.java.net/~briangoetz/lambda/lambda-translation.html</a> provides an explanation.</p>\n<p>These sections from that document should help answer your question...</p>\n<blockquote>\n<p><strong>Desugaring example -- &quot;stateless&quot; lambdas</strong></p>\n<p>The simplest form of lambda expression to translate is one that captures no state from its enclosing scope (a stateless lambda):</p>\n</blockquote>\n<p>...and...</p>\n<blockquote>\n<p><strong>Desugaring example -- lambdas capturing immutable values</strong></p>\n<p>The other form of lambda expression involves capture of enclosing final (or effectively final) local variables, and/or fields from enclosing instances (which we can treat as capture of the final enclosing this reference).</p>\n</blockquote>\n<p>Your second method (x2) is an example of the first type of lamba (a stateless one that captures no state from it's enclosing scope) and this is probably why the same lamba is returned in each case.</p>\n<p>If you use javap to print out the generated bytecode, you can also see that there is a difference between the two blocks generated...</p>\n<pre><code>&gt;javap -p -c L2.class\n\npublic class L2 {\n  public static java.lang.Object o;\n\n  public L2();\n    Code:\n       0: aload_0\n       1: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\n       4: return\n\n  public static java.util.concurrent.Callable&lt;java.lang.Object&gt; x1();\n    Code:\n       0: getstatic     #2                  // Field o:Ljava/lang/Object;\n       3: astore_0\n       4: aload_0\n       5: invokedynamic #3,  0              // InvokeDynamic #0:call:(Ljava/lang/Object;)Ljava/util/concurrent/Callable;\n      10: areturn\n\n  public static java.util.concurrent.Callable&lt;java.lang.Object&gt; x2();\n    Code:\n       0: invokedynamic #4,  0              // InvokeDynamic #1:call:()Ljava/util/concurrent/Callable;\n       5: areturn\n\n  private static java.lang.Object lambda$x2$1() throws java.lang.Exception;\n    Code:\n       0: getstatic     #2                  // Field o:Ljava/lang/Object;\n       3: areturn\n\n  private static java.lang.Object lambda$x1$0(java.lang.Object) throws java.lang.Exception;\n    Code:\n       0: aload_0\n       1: areturn\n\n  static {};\n    Code:\n       0: new           #5                  // class java/lang/Object\n       3: dup\n       4: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\n       7: putstatic     #2                  // Field o:Ljava/lang/Object;\n      10: return\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"score":0,"creation_date":1429189060,"post_id":29675351,"comment_id":47488455,"body_markdown":"Do you mean, that `x2()` in my example *can* return different objects?","body":"Do you mean, that <code>x2()</code> in my example <i>can</i> return different objects?"},{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":1,"creation_date":1429189108,"post_id":29675351,"comment_id":47488496,"body_markdown":"@Andremoniy Yes, it can. That is what the specs say.","body":"@Andremoniy Yes, it can. That is what the specs say."},{"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"score":0,"creation_date":1429189256,"post_id":29675351,"comment_id":47488599,"body_markdown":"With my full respect to you, I can not see in this part of `JLS` directive to the fact, that create new instance or use existing - is undefined behaivour. It just tells, that it could be reused, or could be created new.","body":"With my full respect to you, I can not see in this part of <code>JLS</code> directive to the fact, that create new instance or use existing - is undefined behaivour. It just tells, that it could be reused, or could be created new."},{"owner":{"account_id":1181066,"reputation":19241,"user_id":1155984,"display_name":"uraimo"},"score":0,"creation_date":1429189268,"post_id":29675351,"comment_id":47488609,"body_markdown":"Imho, actually, on the jvm, it never will, updating my answer (long explanation).","body":"Imho, actually, on the jvm, it never will, updating my answer (long explanation)."},{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":1,"creation_date":1429189396,"post_id":29675351,"comment_id":47488712,"body_markdown":"@Andremoniy Basically saying that - it could reuse instance or not, itself is the proof of non-unique identity of a lambda. So you should generally not depend upon the identity of lambdas - like, invoking `equals()` method on them (such thing will not have consistent results)","body":"@Andremoniy Basically saying that - it could reuse instance or not, itself is the proof of non-unique identity of a lambda. So you should generally not depend upon the identity of lambdas - like, invoking <code>equals()</code> method on them (such thing will not have consistent results)"},{"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"score":0,"creation_date":1429189791,"post_id":29675351,"comment_id":47489020,"body_markdown":"So, we should accept the fact that this JVM&#39;s decision is fully indefinite and nobody knows how it works. Yes?","body":"So, we should accept the fact that this JVM&#39;s decision is fully indefinite and nobody knows how it works. Yes?"},{"owner":{"account_id":1181066,"reputation":19241,"user_id":1155984,"display_name":"uraimo"},"score":0,"creation_date":1429190372,"post_id":29675351,"comment_id":47489539,"body_markdown":"If you mean &quot;generic JVM&quot;, i&#39;d say that&#39;s correct, each jvm implementation is free to behave in either way.","body":"If you mean &quot;generic JVM&quot;, i&#39;d say that&#39;s correct, each jvm implementation is free to behave in either way."},{"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"score":0,"creation_date":1429191071,"post_id":29675351,"comment_id":47490120,"body_markdown":"Ok, just wondering, do you agree with @Hoger that this question is duplicate of that question that he marked?","body":"Ok, just wondering, do you agree with @Hoger that this question is duplicate of that question that he marked?"},{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":3,"creation_date":1429191527,"post_id":29675351,"comment_id":47490526,"body_markdown":"@Andremoniy Well, the question might not be duplicate, but both have the same answers.","body":"@Andremoniy Well, the question might not be duplicate, but both have the same answers."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1429191533,"post_id":29675351,"comment_id":47490533,"body_markdown":"@Andremoniy: obviously, it’s the same, as this answer is exactly the same as [this answer](http://stackoverflow.com/a/27524543/2711488)","body":"@Andremoniy: obviously, it’s the same, as this answer is exactly the same as <a href=\"http://stackoverflow.com/a/27524543/2711488\">this answer</a>"},{"owner":{"account_id":1181066,"reputation":19241,"user_id":1155984,"display_name":"uraimo"},"score":0,"creation_date":1429191699,"post_id":29675351,"comment_id":47490683,"body_markdown":"Not completely identical to the second one since you where asking precisely when (as in how the JVM decide if it has to) this caching happens. The answer to the first question instead explains in a clear way how this works, so in that case i&#39;d say it&#39;s a possible duplicate.","body":"Not completely identical to the second one since you where asking precisely when (as in how the JVM decide if it has to) this caching happens. The answer to the first question instead explains in a clear way how this works, so in that case i&#39;d say it&#39;s a possible duplicate."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1429192257,"post_id":29675351,"comment_id":47491133,"body_markdown":"@uraimo: well, since this question consists of two questions in one, both being duplicates of older questions, everyone can always dispute a close vote for either. However I simply decided to refer to the one which contains a reference to the other (plus the specification) when closing.","body":"@uraimo: well, since this question consists of two questions in one, both being duplicates of older questions, everyone can always dispute a close vote for either. However I simply decided to refer to the one which contains a reference to the other (plus the specification) when closing."}],"tags":[],"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"comment_count":12,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1429188892,"creation_date":1429188892,"answer_id":29675351,"question_id":29674645,"body_markdown":"You can&#39;t be sure about the identity of the object returned for a lambda expression. It can be a new instance, or a pre-existing instance.\n\nThis is specified in [JLS &amp;sect;15.27.4][1]:\n\n&gt; At run time, evaluation of a lambda expression is similar to evaluation of a class instance creation expression, insofar as normal completion produces a reference to an object. Evaluation of a lambda expression is distinct from execution of the lambda body.\n&gt;\n&gt; Either a new instance of a class with the properties below is allocated and initialized, or an existing instance of a class with the properties below is referenced. If a new instance is to be created, but there is insufficient space to allocate the object, evaluation of the lambda expression completes abruptly by throwing an OutOfMemoryError.\n\n\n  [1]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.27.4","title":"When does JVM decide to reuse old lambda?","body":"<p>You can't be sure about the identity of the object returned for a lambda expression. It can be a new instance, or a pre-existing instance.</p>\n<p>This is specified in <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.27.4\" rel=\"noreferrer\">JLS §15.27.4</a>:</p>\n<blockquote>\n<p>At run time, evaluation of a lambda expression is similar to evaluation of a class instance creation expression, insofar as normal completion produces a reference to an object. Evaluation of a lambda expression is distinct from execution of the lambda body.</p>\n<p>Either a new instance of a class with the properties below is allocated and initialized, or an existing instance of a class with the properties below is referenced. If a new instance is to be created, but there is insufficient space to allocate the object, evaluation of the lambda expression completes abruptly by throwing an OutOfMemoryError.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"score":0,"creation_date":1429189356,"post_id":29675394,"comment_id":47488670,"body_markdown":"Could you please explain it more detailed for my stupidity: I can not catch your idea about `invokedynamic`","body":"Could you please explain it more detailed for my stupidity: I can not catch your idea about <code>invokedynamic</code>"},{"owner":{"account_id":1181066,"reputation":19241,"user_id":1155984,"display_name":"uraimo"},"score":1,"creation_date":1429191325,"post_id":29675394,"comment_id":47490351,"body_markdown":"Edited, quite complex question.","body":"Edited, quite complex question."},{"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"score":0,"creation_date":1429191430,"post_id":29675394,"comment_id":47490446,"body_markdown":"thanks, and do you agree that my question is duplicate? If no, I call you upon reopen it","body":"thanks, and do you agree that my question is duplicate? If no, I call you upon reopen it"}],"tags":[],"owner":{"account_id":1181066,"reputation":19241,"user_id":1155984,"display_name":"uraimo"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1429191257,"creation_date":1429189003,"answer_id":29675394,"question_id":29674645,"body_markdown":"After some investigations, it looks like it depends on the fact that the creation of lambda expressions is performed through [invokedynamic][1] and what you see is a side-effect of how invokedynamic behaves on the Oracle&#39;s JVM.\r\n\r\nDecompiling your `x1()` and `x2()` methods:\r\n\r\n    public static java.util.concurrent.Callable x1();\r\n    Code:\r\n      stack=1, locals=1, args_size=0\r\n         0: getstatic     #2                  // Field o:Ljava/lang/Object;\r\n         3: astore_0\r\n         4: aload_0\r\n         5: invokedynamic #3,  0              // InvokeDynamic #0:call:(Ljava/lang/Object;)Ljava/util/concurrent/Callable;\r\n        10: areturn\r\n \r\n    public static java.util.concurrent.Callable x2();\r\n    Code:\r\n      stack=1, locals=0, args_size=0\r\n         0: invokedynamic #4,  0              // InvokeDynamic #1:call:()Ljava/util/concurrent/Callable;\r\n         5: areturn\r\n\r\nRelevant section of the Constant pool:\r\n\r\n     #3 = InvokeDynamic      #0:#37         // #0:call:(Ljava/lang/Object;)Ljava/util/concurrent/Callable;\r\n     #4 = InvokeDynamic      #1:#39         // #1:call:()Ljava/util/concurrent/Callable;\r\n\r\n\r\nBootstrapMethods:\r\n\r\n    0: #34 invokestatic java/lang/invoke/LambdaMetafactory.metafactory:(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodHandle;Ljava/lang/invoke/MethodType;)Ljava/lang/invoke/CallSite;\r\n    Method arguments:\r\n      #35 ()Ljava/lang/Object;\r\n      #36 invokestatic Test.lambda$x1$0:(Ljava/lang/Object;)Ljava/lang/Object;\r\n      #35 ()Ljava/lang/Object;\r\n    1: #34 invokestatic java/lang/invoke/LambdaMetafactory.metafactory:(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodHandle;Ljava/lang/invoke/MethodType;)Ljava/lang/invoke/CallSite;\r\n    Method arguments:\r\n      #35 ()Ljava/lang/Object;\r\n      #38 invokestatic Test.lambda$x2$1:()Ljava/lang/Object;\r\n      #35 ()Ljava/lang/Object;\r\n\r\nAs explained [here][2]:\r\n\r\n&gt; Because each invokedynamic instruction links (in general) to a\r\n&gt; different call site **(we have two call sites, one for each xN function)**, the constant pool cache must contain a separate\r\n&gt; entry for each invokedynamic instruction. (Other invoke instructions\r\n&gt; can share CP cache entries, if they use the same symbolic reference in\r\n&gt; the constant pool.)\r\n&gt; \r\n&gt; A Constant Pool cache entry (&quot;CPCE&quot;), when resolved, has one or two words of\r\n&gt; metadata and/or offset information.\r\n&gt; \r\n&gt; For invokedynamic, a resolved CPCE contains a Method* pointer to a\r\n&gt; concrete adapter method providing the exact behavior of the call.\r\n&gt; There is also a reference parameter associated with the call site\r\n&gt; called the appendix, which is stored in the resolved_references array\r\n&gt; for the CPCE.\r\n&gt; \r\n&gt; The method is called an adapter because (generally speaking) it\r\n&gt; shuffles arguments, extracts a target method handle from the call\r\n&gt; site, and invokes the method handle.\r\n&gt; \r\n&gt; The extra reference parameter is called the appendix because it is\r\n&gt; appended to the argument list when the invokedynamic instruction is\r\n&gt; executed.\r\n&gt; \r\n&gt; Typically the appendix is the CallSite reference produced by the\r\n&gt; bootstrap method, but the JVM does not care about this. As long as the\r\n&gt; adapter method in the CPCE knows what to do with the appendix stored\r\n&gt; with the CPCE, all is well.\r\n&gt; \r\n&gt; As a corner case, if the appendix value is null, it is not pushed at\r\n&gt; all, and the adapter method must not expect the extra argument. **The\r\n&gt; adapter method in this case could be a *permanently* linked reference to\r\n&gt; a static method with a signature consistent with the invokedynamic\r\n&gt; instruction. This would in effect turn the invokedynamic into a simple\r\n&gt; invokestatic. Many other such strength reduction optimizations are\r\n&gt; possible.**\r\n\r\nI&#39;m interpreting that &quot;This would *in effect* turn&quot; as meaning that in such circumstances (adapter with no parameters) the invokedynamic will effectively behave like and invokestatic call and that the adapter will be cached and reused. \r\n\r\nAll this is specific to the Oracle&#39;s JVM, but i suspect that regarding to this aspect, this one is the most obvious choice and i&#39;d expect to see something like this even in other jvm implementations.\r\n\r\nAlso, check this good [answer][3] for a cleaner rephrasing of that quote, way better than how i&#39;d be able to explain it.\r\n\r\n\r\n  [1]: http://www.javaworld.com/article/2860079/scripting-jvm-languages/invokedynamic-101.html\r\n  [2]: https://wikis.oracle.com/display/HotSpotInternals/Method+handles+and+invokedynamic\r\n  [3]: https://stackoverflow.com/a/23991339/1155984","title":"When does JVM decide to reuse old lambda?","body":"<p>After some investigations, it looks like it depends on the fact that the creation of lambda expressions is performed through <a href=\"http://www.javaworld.com/article/2860079/scripting-jvm-languages/invokedynamic-101.html\" rel=\"nofollow noreferrer\">invokedynamic</a> and what you see is a side-effect of how invokedynamic behaves on the Oracle's JVM.</p>\n\n<p>Decompiling your <code>x1()</code> and <code>x2()</code> methods:</p>\n\n<pre><code>public static java.util.concurrent.Callable x1();\nCode:\n  stack=1, locals=1, args_size=0\n     0: getstatic     #2                  // Field o:Ljava/lang/Object;\n     3: astore_0\n     4: aload_0\n     5: invokedynamic #3,  0              // InvokeDynamic #0:call:(Ljava/lang/Object;)Ljava/util/concurrent/Callable;\n    10: areturn\n\npublic static java.util.concurrent.Callable x2();\nCode:\n  stack=1, locals=0, args_size=0\n     0: invokedynamic #4,  0              // InvokeDynamic #1:call:()Ljava/util/concurrent/Callable;\n     5: areturn\n</code></pre>\n\n<p>Relevant section of the Constant pool:</p>\n\n<pre><code> #3 = InvokeDynamic      #0:#37         // #0:call:(Ljava/lang/Object;)Ljava/util/concurrent/Callable;\n #4 = InvokeDynamic      #1:#39         // #1:call:()Ljava/util/concurrent/Callable;\n</code></pre>\n\n<p>BootstrapMethods:</p>\n\n<pre><code>0: #34 invokestatic java/lang/invoke/LambdaMetafactory.metafactory:(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodHandle;Ljava/lang/invoke/MethodType;)Ljava/lang/invoke/CallSite;\nMethod arguments:\n  #35 ()Ljava/lang/Object;\n  #36 invokestatic Test.lambda$x1$0:(Ljava/lang/Object;)Ljava/lang/Object;\n  #35 ()Ljava/lang/Object;\n1: #34 invokestatic java/lang/invoke/LambdaMetafactory.metafactory:(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodHandle;Ljava/lang/invoke/MethodType;)Ljava/lang/invoke/CallSite;\nMethod arguments:\n  #35 ()Ljava/lang/Object;\n  #38 invokestatic Test.lambda$x2$1:()Ljava/lang/Object;\n  #35 ()Ljava/lang/Object;\n</code></pre>\n\n<p>As explained <a href=\"https://wikis.oracle.com/display/HotSpotInternals/Method+handles+and+invokedynamic\" rel=\"nofollow noreferrer\">here</a>:</p>\n\n<blockquote>\n  <p>Because each invokedynamic instruction links (in general) to a\n  different call site <strong>(we have two call sites, one for each xN function)</strong>, the constant pool cache must contain a separate\n  entry for each invokedynamic instruction. (Other invoke instructions\n  can share CP cache entries, if they use the same symbolic reference in\n  the constant pool.)</p>\n  \n  <p>A Constant Pool cache entry (\"CPCE\"), when resolved, has one or two words of\n  metadata and/or offset information.</p>\n  \n  <p>For invokedynamic, a resolved CPCE contains a Method* pointer to a\n  concrete adapter method providing the exact behavior of the call.\n  There is also a reference parameter associated with the call site\n  called the appendix, which is stored in the resolved_references array\n  for the CPCE.</p>\n  \n  <p>The method is called an adapter because (generally speaking) it\n  shuffles arguments, extracts a target method handle from the call\n  site, and invokes the method handle.</p>\n  \n  <p>The extra reference parameter is called the appendix because it is\n  appended to the argument list when the invokedynamic instruction is\n  executed.</p>\n  \n  <p>Typically the appendix is the CallSite reference produced by the\n  bootstrap method, but the JVM does not care about this. As long as the\n  adapter method in the CPCE knows what to do with the appendix stored\n  with the CPCE, all is well.</p>\n  \n  <p>As a corner case, if the appendix value is null, it is not pushed at\n  all, and the adapter method must not expect the extra argument. <strong>The\n  adapter method in this case could be a <em>permanently</em> linked reference to\n  a static method with a signature consistent with the invokedynamic\n  instruction. This would in effect turn the invokedynamic into a simple\n  invokestatic. Many other such strength reduction optimizations are\n  possible.</strong></p>\n</blockquote>\n\n<p>I'm interpreting that \"This would <em>in effect</em> turn\" as meaning that in such circumstances (adapter with no parameters) the invokedynamic will effectively behave like and invokestatic call and that the adapter will be cached and reused. </p>\n\n<p>All this is specific to the Oracle's JVM, but i suspect that regarding to this aspect, this one is the most obvious choice and i'd expect to see something like this even in other jvm implementations.</p>\n\n<p>Also, check this good <a href=\"https://stackoverflow.com/a/23991339/1155984\">answer</a> for a cleaner rephrasing of that quote, way better than how i'd be able to explain it.</p>\n"},{"comments":[{"owner":{"account_id":2468965,"reputation":26460,"user_id":2151351,"display_name":"a better oliver"},"score":1,"creation_date":1429218070,"post_id":29676210,"comment_id":47508767,"body_markdown":"`Lambda$x2` doesn&#39;t have `Object o`, does it? That&#39;s basically what this question is all about.","body":"<code>Lambda$x2</code> doesn&#39;t have <code>Object o</code>, does it? That&#39;s basically what this question is all about."}],"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1429221073,"creation_date":1429190881,"answer_id":29676210,"question_id":29674645,"body_markdown":"As it was [already pointed out][1], the actual behavior is not specified by the JLS, a future version is allowed to derive from the current implementation as long as the JLS remains fullfilled.\r\n\r\n**Here is what happens in a current version of HotSpot:**\r\n\r\nAny lambda expression is bound via an *invokedynamic* call site. This call site requests a bootstrap method to bind a factory for an instance that implements the functional interface of the lambda expression. As arguments, any variables that are required to execute the lambda expression are handed to the factory. The body of the lambda expression is instead copied into a method inside of the class. \r\n\r\nFor your example, the desuggared version would look like the following code snipped with the *invokedynamic* instruction in angle brackets:\r\n\r\n    class Foo {\r\n      public static Object o = new Object();\r\n\r\n      public static Callable x1() {\r\n        Object x = o;\r\n        return Bootstrap.&lt;makeCallable&gt;(x);\r\n      }\r\n    \r\n      private static Object lambda$x1(Object x) { return x; }\r\n    \r\n      public static Callable x2() {\r\n        return Bootstrap.&lt;makeCallable&gt;();\r\n      }\r\n\r\n      private static void lambda$x2() { return Foo.o; }\r\n    }\r\n\r\nThe boostrap method (which is actually located in `java.lang.invoke.LambdaMetafactory`) is then asked to bind the call site on its first invocation. For lambda expressions, this binding will never change, the bootstrap method is therefore only called once. In order to being able to bind a class that implements the functional interface, the bootstrap method must first create a class at runtime which look like the following for example:\r\n\r\n    class Lambda$x1 implements Callable {\r\n      private static Callable make(Object x) { return new Lambda$x1(x); }\r\n      private final Object x; // constructor omitted\r\n      @Override public Object call() { return x; }\r\n    }\r\n\r\n    class Lambda$x2 implements Callable {\r\n      @Override public Object call() { return Foo.o; } \r\n    }\r\n\r\nAfter creating these classes, the *invokedynamic* instruction is bound to invoke the factory method that is defined by the first class to the call site. For the second class, no factory is created as the class is fully stateless. Therefore, the bootstrap method creates a singleton instance of the class and binds the instance directly to the call site (using a constant `MethodHandle`).\r\n\r\nIn order to invoke static methods from another class, an anonymous class loader is used for loading the lambda classes. If you want to know more, I recently [summarized my findings on lambda expressions][2]. \r\n\r\nBut again, **always code against the spec, not the implementation**. This can change!\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.27.4\r\n  [2]: http://mydailyjava.blogspot.no/2015/03/dismantling-invokedynamic.html","title":"When does JVM decide to reuse old lambda?","body":"<p>As it was <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.27.4\" rel=\"nofollow\">already pointed out</a>, the actual behavior is not specified by the JLS, a future version is allowed to derive from the current implementation as long as the JLS remains fullfilled.</p>\n\n<p><strong>Here is what happens in a current version of HotSpot:</strong></p>\n\n<p>Any lambda expression is bound via an <em>invokedynamic</em> call site. This call site requests a bootstrap method to bind a factory for an instance that implements the functional interface of the lambda expression. As arguments, any variables that are required to execute the lambda expression are handed to the factory. The body of the lambda expression is instead copied into a method inside of the class. </p>\n\n<p>For your example, the desuggared version would look like the following code snipped with the <em>invokedynamic</em> instruction in angle brackets:</p>\n\n<pre><code>class Foo {\n  public static Object o = new Object();\n\n  public static Callable x1() {\n    Object x = o;\n    return Bootstrap.&lt;makeCallable&gt;(x);\n  }\n\n  private static Object lambda$x1(Object x) { return x; }\n\n  public static Callable x2() {\n    return Bootstrap.&lt;makeCallable&gt;();\n  }\n\n  private static void lambda$x2() { return Foo.o; }\n}\n</code></pre>\n\n<p>The boostrap method (which is actually located in <code>java.lang.invoke.LambdaMetafactory</code>) is then asked to bind the call site on its first invocation. For lambda expressions, this binding will never change, the bootstrap method is therefore only called once. In order to being able to bind a class that implements the functional interface, the bootstrap method must first create a class at runtime which look like the following for example:</p>\n\n<pre><code>class Lambda$x1 implements Callable {\n  private static Callable make(Object x) { return new Lambda$x1(x); }\n  private final Object x; // constructor omitted\n  @Override public Object call() { return x; }\n}\n\nclass Lambda$x2 implements Callable {\n  @Override public Object call() { return Foo.o; } \n}\n</code></pre>\n\n<p>After creating these classes, the <em>invokedynamic</em> instruction is bound to invoke the factory method that is defined by the first class to the call site. For the second class, no factory is created as the class is fully stateless. Therefore, the bootstrap method creates a singleton instance of the class and binds the instance directly to the call site (using a constant <code>MethodHandle</code>).</p>\n\n<p>In order to invoke static methods from another class, an anonymous class loader is used for loading the lambda classes. If you want to know more, I recently <a href=\"http://mydailyjava.blogspot.no/2015/03/dismantling-invokedynamic.html\" rel=\"nofollow\">summarized my findings on lambda expressions</a>. </p>\n\n<p>But again, <strong>always code against the spec, not the implementation</strong>. This can change!</p>\n"},{"comments":[{"owner":{"account_id":2468965,"reputation":26460,"user_id":2151351,"display_name":"a better oliver"},"score":0,"creation_date":1429218677,"post_id":29682141,"comment_id":47509102,"body_markdown":"The lambda returned by `x1` doesn&#39;t use `o`. And `o` wouldn&#39;t have to be `final` anyway because it&#39;s not a variable.","body":"The lambda returned by <code>x1</code> doesn&#39;t use <code>o</code>. And <code>o</code> wouldn&#39;t have to be <code>final</code> anyway because it&#39;s not a variable."},{"owner":{"account_id":889447,"reputation":1823,"user_id":928038,"display_name":"Joe Lee-Moyet"},"score":0,"creation_date":1429220402,"post_id":29682141,"comment_id":47509946,"body_markdown":"@zeroflagL `x1()` depends on `o` - if an external caller gets a function object from `x1` and then sets `o` to refer to a different object, the returned function still needs to give the object that was in `o` when `x1` was called, therefore it wouldn&#39;t be correct for `x1` to always return the same Callable.","body":"@zeroflagL <code>x1()</code> depends on <code>o</code> - if an external caller gets a function object from <code>x1</code> and then sets <code>o</code> to refer to a different object, the returned function still needs to give the object that was in <code>o</code> when <code>x1</code> was called, therefore it wouldn&#39;t be correct for <code>x1</code> to always return the same Callable."},{"owner":{"account_id":2468965,"reputation":26460,"user_id":2151351,"display_name":"a better oliver"},"score":0,"creation_date":1429220896,"post_id":29682141,"comment_id":47510185,"body_markdown":"The returned function only references `x`. Even if `o` was final the lambda instances would still be different for every call. `o` doesn&#39;t matter.","body":"The returned function only references <code>x</code>. Even if <code>o</code> was final the lambda instances would still be different for every call. <code>o</code> doesn&#39;t matter."},{"owner":{"account_id":889447,"reputation":1823,"user_id":928038,"display_name":"Joe Lee-Moyet"},"score":0,"creation_date":1429227023,"post_id":29682141,"comment_id":47512402,"body_markdown":"I know the function only closes over `x`- my point is that in theory, were `o` to be final, a compiler could see that the behaviour of the returned function object is constant and could re-use the same Callable instance.  Whether or not the Java specification allows such an optimisation is another question.","body":"I know the function only closes over <code>x</code>- my point is that in theory, were <code>o</code> to be final, a compiler could see that the behaviour of the returned function object is constant and could re-use the same Callable instance.  Whether or not the Java specification allows such an optimisation is another question."},{"owner":{"account_id":2468965,"reputation":26460,"user_id":2151351,"display_name":"a better oliver"},"score":0,"creation_date":1429260705,"post_id":29682141,"comment_id":47525376,"body_markdown":"Ok, I understand your point, but think about it: If `o` was final, then you wouldn&#39;t assign it to a variable in the first place. So even in theory a compiler wouldn&#39;t optimize in that case because no one expects this to happen.","body":"Ok, I understand your point, but think about it: If <code>o</code> was final, then you wouldn&#39;t assign it to a variable in the first place. So even in theory a compiler wouldn&#39;t optimize in that case because no one expects this to happen."}],"tags":[],"owner":{"account_id":889447,"reputation":1823,"user_id":928038,"display_name":"Joe Lee-Moyet"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429205878,"creation_date":1429205878,"answer_id":29682141,"question_id":29674645,"body_markdown":"There is no way for the compiler to optimise `x1()` to return the same lambda -- the behaviour would then be different.  Since `o` is not final, the lambda returned needs to capture the state of that field (with the `x` variable) as its value could change between calling `x1()` and invoking the returned lambda.\r\n\r\nThat&#39;s not to say that there aren&#39;t situations where the compiler theoretically _could_ reuse the instance but doesn&#39;t (the other answers give some insight into that) -- only that this isn&#39;t one of those cases.","title":"When does JVM decide to reuse old lambda?","body":"<p>There is no way for the compiler to optimise <code>x1()</code> to return the same lambda -- the behaviour would then be different.  Since <code>o</code> is not final, the lambda returned needs to capture the state of that field (with the <code>x</code> variable) as its value could change between calling <code>x1()</code> and invoking the returned lambda.</p>\n\n<p>That's not to say that there aren't situations where the compiler theoretically <em>could</em> reuse the instance but doesn't (the other answers give some insight into that) -- only that this isn't one of those cases.</p>\n"}],"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1584,"favorite_count":0,"down_vote_count":1,"up_vote_count":23,"accepted_answer_id":29675351,"answer_count":5,"score":22,"last_activity_date":1671361167,"creation_date":1429187063,"question_id":29674645,"body_markdown":"Consider the following code fragment:\r\n\r\n    public static Object o = new Object();\r\n\r\n    public static Callable x1() {\r\n        Object x = o;\r\n        return () -&gt; x;\r\n    }\r\n\r\n    public static Callable x2() {\r\n        return () -&gt; o;\r\n    }\r\n\r\nMethod `x2()` will always return the same lamba object, while `x1()` will always create a new one:\r\n\r\n        System.out.println(x1());\r\n        System.out.println(x1());\r\n        System.out.println(x2());\r\n        System.out.println(x2());\r\n\r\nIt will printout something like this:\r\n\r\n    TestLambda$$Lambda$1/821270929@4a574795\r\n    TestLambda$$Lambda$1/821270929@f6f4d33\r\n    TestLambda$$Lambda$2/603742814@7adf9f5f\r\n    TestLambda$$Lambda$2/603742814@7adf9f5f\r\n\r\nWhere (in the JVM specification I suppose) is this rule of the lambda reuse described? How does JVM decide when to reuse or not?","title":"When does JVM decide to reuse old lambda?","body":"<p>Consider the following code fragment:</p>\n<pre><code>public static Object o = new Object();\n\npublic static Callable x1() {\n    Object x = o;\n    return () -&gt; x;\n}\n\npublic static Callable x2() {\n    return () -&gt; o;\n}\n</code></pre>\n<p>Method <code>x2()</code> will always return the same lamba object, while <code>x1()</code> will always create a new one:</p>\n<pre><code>    System.out.println(x1());\n    System.out.println(x1());\n    System.out.println(x2());\n    System.out.println(x2());\n</code></pre>\n<p>It will printout something like this:</p>\n<pre><code>TestLambda$$Lambda$1/821270929@4a574795\nTestLambda$$Lambda$1/821270929@f6f4d33\nTestLambda$$Lambda$2/603742814@7adf9f5f\nTestLambda$$Lambda$2/603742814@7adf9f5f\n</code></pre>\n<p>Where (in the JVM specification I suppose) is this rule of the lambda reuse described? How does JVM decide when to reuse or not?</p>\n"},{"tags":["java","lambda","java-8","java-stream"],"comments":[{"owner":{"account_id":3454996,"reputation":5649,"user_id":2893693,"accept_rate":83,"display_name":"J-J"},"score":0,"creation_date":1477643611,"post_id":40300819,"comment_id":67859750,"body_markdown":"it is explained here..\nhttp://www.lambdafaq.org/what-are-the-reasons-for-the-restriction-to-effective-immutability/","body":"it is explained here.. <a href=\"http://www.lambdafaq.org/what-are-the-reasons-for-the-restriction-to-effective-immutability/\" rel=\"nofollow noreferrer\">lambdafaq.org/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":971196,"reputation":24175,"user_id":993742,"display_name":"isnot2bad"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1477644169,"creation_date":1477643751,"answer_id":40301137,"question_id":40300819,"body_markdown":"Generally, the time and place of creation of a lambda expression differs from the time and place of execution. Sometimes, a lambda expression is created in method A and executed in method B half minutes or hours later. And it might be executed on a different thread. So it would not be sensible to write to variables with method scope (i.e. stack variables that only exist while the method is executed). Read access to those variable is allowed as their value is &#39;copied&#39; into the lambda expression at creation time.\r\n\r\nIn your case, it might be easier to give up streams and use the `List` version of `Files.lines(...)`, so you can iterate via for-loop:\r\n\r\n    List&lt;String&gt; lines = Files.readAllLines(Paths.get(filename));\r\n    int testNum = 500;\r\n    for(String line : lines) {\r\n        System.out.println(line + testNum);\r\n        testNum++;\r\n    }\r\n\r\n","title":"Reading text file using stream - Variable in lambda expression","body":"<p>Generally, the time and place of creation of a lambda expression differs from the time and place of execution. Sometimes, a lambda expression is created in method A and executed in method B half minutes or hours later. And it might be executed on a different thread. So it would not be sensible to write to variables with method scope (i.e. stack variables that only exist while the method is executed). Read access to those variable is allowed as their value is 'copied' into the lambda expression at creation time.</p>\n\n<p>In your case, it might be easier to give up streams and use the <code>List</code> version of <code>Files.lines(...)</code>, so you can iterate via for-loop:</p>\n\n<pre><code>List&lt;String&gt; lines = Files.readAllLines(Paths.get(filename));\nint testNum = 500;\nfor(String line : lines) {\n    System.out.println(line + testNum);\n    testNum++;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9322191,"reputation":771,"user_id":6920612,"display_name":"iamorozov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477643981,"creation_date":1477643981,"answer_id":40301207,"question_id":40300819,"body_markdown":"If you want to use streams for this task you can create a specific String consumer https://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html\r\n\r\n    String fileName = &quot;test.txt&quot;;\r\n\r\n    Stream&lt;String&gt; readFileStream = null;\r\n    try {\r\n        readFileStream = Files.lines(Paths.get(fileName));\r\n\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n    readFileStream.forEach(\r\n        new Consumer&lt;String&gt;() {\r\n            int testNum = 1024;\r\n            public void accept(String line) {\r\n                try {\r\n                    System.out.println(line + testNum++);\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n    });","title":"Reading text file using stream - Variable in lambda expression","body":"<p>If you want to use streams for this task you can create a specific String consumer <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html\" rel=\"nofollow\">https://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html</a></p>\n\n<pre><code>String fileName = \"test.txt\";\n\nStream&lt;String&gt; readFileStream = null;\ntry {\n    readFileStream = Files.lines(Paths.get(fileName));\n\n} catch (IOException e) {\n    e.printStackTrace();\n}\n\nreadFileStream.forEach(\n    new Consumer&lt;String&gt;() {\n        int testNum = 1024;\n        public void accept(String line) {\n            try {\n                System.out.println(line + testNum++);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n});\n</code></pre>\n"}],"owner":{"display_name":"user6937004"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":838,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1671361159,"creation_date":1477642545,"question_id":40300819,"body_markdown":"I would like to read a text file, work with the string I have from each line, add a variable and continue.\r\nFor example: I have a text file with three lines and I&#39;d like to add a variable to the end of each line which gets upped by one for each line.\r\n\r\nTo break everything down I made an example program but I still do not get fully behind it.\r\n\r\nMy text file &quot;test.txt&quot; has three lines of text &quot;Line1&quot;, &quot;Line2&quot; and &quot;Line3&quot; and I have an Integer named testNum with a value of 500 which I would like to up after each line.\r\n\r\nMy code is the following:\r\n\r\n    String fileName = &quot;test.txt&quot;;\r\n    int testNum = 1024;\r\n\r\n    Stream&lt;String&gt; readFileStream = null;\r\n    try {\r\n        readFileStream = Files.lines(Paths.get(fileName));\r\n\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n    readFileStream.forEach( line -&gt; {            \r\n        System.out.println(line+testNum);\r\n        testNum++;\r\n    });\r\n\r\nNow I understand that the issue lies in the lambda expression. Can someone explain to me why I need local variables for the lambda expression and am unable to access variables declared outside from it?\r\n\r\nMoreover, I tried to change my code to use a for each instead but for each seems not applicable for &quot;Stream&quot;, e.g.:\r\n\r\n    for(String line : readFileStream){\r\n    }\r\n\r\nThanks a lot in advance.\r\n","title":"Reading text file using stream - Variable in lambda expression","body":"<p>I would like to read a text file, work with the string I have from each line, add a variable and continue.\nFor example: I have a text file with three lines and I'd like to add a variable to the end of each line which gets upped by one for each line.</p>\n<p>To break everything down I made an example program but I still do not get fully behind it.</p>\n<p>My text file &quot;test.txt&quot; has three lines of text &quot;Line1&quot;, &quot;Line2&quot; and &quot;Line3&quot; and I have an Integer named testNum with a value of 500 which I would like to up after each line.</p>\n<p>My code is the following:</p>\n<pre><code>String fileName = &quot;test.txt&quot;;\nint testNum = 1024;\n\nStream&lt;String&gt; readFileStream = null;\ntry {\n    readFileStream = Files.lines(Paths.get(fileName));\n\n} catch (IOException e) {\n    e.printStackTrace();\n}\nreadFileStream.forEach( line -&gt; {            \n    System.out.println(line+testNum);\n    testNum++;\n});\n</code></pre>\n<p>Now I understand that the issue lies in the lambda expression. Can someone explain to me why I need local variables for the lambda expression and am unable to access variables declared outside from it?</p>\n<p>Moreover, I tried to change my code to use a for each instead but for each seems not applicable for &quot;Stream&quot;, e.g.:</p>\n<pre><code>for(String line : readFileStream){\n}\n</code></pre>\n<p>Thanks a lot in advance.</p>\n"},{"tags":["java","lambda","java-8","functional-programming"],"comments":[{"owner":{"account_id":2366187,"reputation":60172,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1528668846,"post_id":50788477,"comment_id":88583326,"body_markdown":"Sorry, really not sure what you are asking. The argument comes from wherever the lambda is called. So `myMethod` seems to take a `Consumer&lt;String&gt;` or some such; at some later point something will call `accept` on that `Consumer` and provide a `String`; this then becomes the argument.","body":"Sorry, really not sure what you are asking. The argument comes from wherever the lambda is called. So <code>myMethod</code> seems to take a <code>Consumer&lt;String&gt;</code> or some such; at some later point something will call <code>accept</code> on that <code>Consumer</code> and provide a <code>String</code>; this then becomes the argument."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1528670265,"post_id":50788477,"comment_id":88583614,"body_markdown":"A Lambda expression in Java is a short hand for the full java code providing an implementation of the interface in question.  The names  on the left side of the arrow are just placeholders, not full code.  Note that a lambda expression is a _definition_ not an invocation.","body":"A Lambda expression in Java is a short hand for the full java code providing an implementation of the interface in question.  The names  on the left side of the arrow are just placeholders, not full code.  Note that a lambda expression is a <i>definition</i> not an invocation."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1528675334,"post_id":50788477,"comment_id":88584410,"body_markdown":"Re, &quot;I was wondering if lamba expressions could create new objects automatically.&quot; Yes. Every time a lambda is evaluated, it creates a new instance of an anonymous inner class, exactly the way @YassinHajaj shows in his answer.","body":"Re, &quot;I was wondering if lamba expressions could create new objects automatically.&quot; Yes. Every time a lambda is evaluated, it creates a new instance of an anonymous inner class, exactly the way @YassinHajaj shows in his answer."}],"answers":[{"comments":[{"owner":{"account_id":13287424,"reputation":1400,"user_id":9593060,"display_name":"Mattia Surricchio"},"score":0,"creation_date":1528668957,"post_id":50788498,"comment_id":88583353,"body_markdown":"Got it, that&#39;s what i expected! I got some problems with this question: https://stackoverflow.com/questions/38030534/javafx-combobox-image\nThis line: comboBox.setCellFactory(c -&gt; new StatusListCell());\nWhere is c taken from? It should be a ListCell, but it&#39;s not declared!","body":"Got it, that&#39;s what i expected! I got some problems with this question: <a href=\"https://stackoverflow.com/questions/38030534/javafx-combobox-image\" title=\"javafx combobox image\">stackoverflow.com/questions/38030534/javafx-combobox-image</a> This line: comboBox.setCellFactory(c -&gt; new StatusListCell()); Where is c taken from? It should be a ListCell, but it&#39;s not declared!"},{"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"score":1,"creation_date":1528669240,"post_id":50788498,"comment_id":88583420,"body_markdown":"@MattiaSurricchio You do not need to worry about the `c` in your case since the function does not use it and returns a new instance of another object.. It&#39;s not declared because it&#39;s used by JavaFX in the background when needed. Your function will be invoked with a certain value but always return a new instance of the other object...","body":"@MattiaSurricchio You do not need to worry about the <code>c</code> in your case since the function does not use it and returns a new instance of another object.. It&#39;s not declared because it&#39;s used by JavaFX in the background when needed. Your function will be invoked with a certain value but always return a new instance of the other object..."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1528675197,"post_id":50788498,"comment_id":88584387,"body_markdown":"Um, the answer to the question asked, &quot;Does lamba expression automatically create new object?&quot; is _yes_, just like you show in your example, `new Consumer&lt;String&gt;...`","body":"Um, the answer to the question asked, &quot;Does lamba expression automatically create new object?&quot; is <i>yes</i>, just like you show in your example, <code>new Consumer&lt;String&gt;...</code>"},{"owner":{"account_id":2366187,"reputation":60172,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1528698439,"post_id":50788498,"comment_id":88589046,"body_markdown":"@jameslarge what makes you think that? It may _behave_ (somewhat) like an anonymous class but its scoping rules are completely different and the language spec does not require that a new object is created. A lambda is an `invokedynamic` call site.","body":"@jameslarge what makes you think that? It may <i>behave</i> (somewhat) like an anonymous class but its scoping rules are completely different and the language spec does not require that a new object is created. A lambda is an <code>invokedynamic</code> call site."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1528710302,"post_id":50788498,"comment_id":88595356,"body_markdown":"@jameslarge that’s the question in the *title*, which has been answered in [Does a lambda expression create an object on the heap every time it&#39;s executed?](https://stackoverflow.com/q/27524445/2711488) with “no, not always”, but that isn’t what the OP has asked in the question’s body. I’d say, the title needs a rework, however, I don’t know how to put the OP’s actual question into a single phrase…","body":"@jameslarge that’s the question in the <i>title</i>, which has been answered in <a href=\"https://stackoverflow.com/q/27524445/2711488\">Does a lambda expression create an object on the heap every time it&#39;s executed?</a> with “no, not always”, but that isn’t what the OP has asked in the question’s body. I’d say, the title needs a rework, however, I don’t know how to put the OP’s actual question into a single phrase…"},{"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"score":0,"creation_date":1528713950,"post_id":50788498,"comment_id":88597676,"body_markdown":"@Holger *Does lamba expression automatically create new object for its entry parameters?*","body":"@Holger <i>Does lamba expression automatically create new object for its entry parameters?</i>"},{"owner":{"account_id":13287424,"reputation":1400,"user_id":9593060,"display_name":"Mattia Surricchio"},"score":1,"creation_date":1528732550,"post_id":50788498,"comment_id":88609397,"body_markdown":"Edited as suggested","body":"Edited as suggested"}],"tags":[],"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"comment_count":7,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1528668688,"creation_date":1528668688,"answer_id":50788498,"question_id":50788477,"body_markdown":"`c` is actually only a placeholder, like a parameter in a method would be (which does not differ from the functioning of the lambda here).\r\n\r\n    myClass.myMethod(c -&gt; {my overridden code});\r\n\r\nis the equivalent of the following\r\n\r\n    myClass.myMethod(new Consumer&lt;String&gt;(){\r\n        @Override\r\n        public void accept(String c) {\r\n            {my overridden code}\r\n        }\r\n    }\r\n\r\nSo the answer to your question is : No. The lambda represents a method, a function but is not an executable piece by itself, it has to be invoked with outside parameters.","title":"Does lambda expression automatically create new object for its entry parameters?","body":"<p><code>c</code> is actually only a placeholder, like a parameter in a method would be (which does not differ from the functioning of the lambda here).</p>\n\n<pre><code>myClass.myMethod(c -&gt; {my overridden code});\n</code></pre>\n\n<p>is the equivalent of the following</p>\n\n<pre><code>myClass.myMethod(new Consumer&lt;String&gt;(){\n    @Override\n    public void accept(String c) {\n        {my overridden code}\n    }\n}\n</code></pre>\n\n<p>So the answer to your question is : No. The lambda represents a method, a function but is not an executable piece by itself, it has to be invoked with outside parameters.</p>\n"}],"owner":{"account_id":13287424,"reputation":1400,"user_id":9593060,"display_name":"Mattia Surricchio"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":50788498,"answer_count":1,"score":1,"last_activity_date":1671361074,"creation_date":1528668443,"question_id":50788477,"body_markdown":"I am new to functional programming, so far i have understood how to use it, anonymous function etc.\r\n\r\nI saw many examples of code where the object needed as parameter in my lambda expression actually doesn&#39;t exist in that moment (it isn&#39;t instantiated).\r\n\r\nFor example, is this:\r\n\r\n    myClass.myMethod(c -&gt; {my overridden code});\r\nthe same as this\r\n\r\n    myClass.myMethod(new String() -&gt; {my overridden code});\r\n\r\nconsidering that `c` is not declared in my code and `myMethod` correctly implements a functional interface which abstract method requires a String? \r\n\r\n**EDIT**:\r\n\r\n  I got some problems with this question:\r\nhttps://stackoverflow.com/questions/38030534/javafx-combobox-image\r\nWith this part of code:\r\n\r\n    comboBox.setCellFactory(c -&gt; new StatusListCell());\r\nI can&#39;t figure out where c is taken from, it&#39;s not declared at all, that&#39;s why i was wondering if lambda expressions could create new objects automatically.","title":"Does lambda expression automatically create new object for its entry parameters?","body":"<p>I am new to functional programming, so far i have understood how to use it, anonymous function etc.</p>\n<p>I saw many examples of code where the object needed as parameter in my lambda expression actually doesn't exist in that moment (it isn't instantiated).</p>\n<p>For example, is this:</p>\n<pre><code>myClass.myMethod(c -&gt; {my overridden code});\n</code></pre>\n<p>the same as this</p>\n<pre><code>myClass.myMethod(new String() -&gt; {my overridden code});\n</code></pre>\n<p>considering that <code>c</code> is not declared in my code and <code>myMethod</code> correctly implements a functional interface which abstract method requires a String?</p>\n<p><strong>EDIT</strong>:</p>\n<p>I got some problems with this question:\n<a href=\"https://stackoverflow.com/questions/38030534/javafx-combobox-image\">JavaFX ComboBox Image</a>\nWith this part of code:</p>\n<pre><code>comboBox.setCellFactory(c -&gt; new StatusListCell());\n</code></pre>\n<p>I can't figure out where c is taken from, it's not declared at all, that's why i was wondering if lambda expressions could create new objects automatically.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1671343641,"post_id":74839019,"comment_id":132077014,"body_markdown":"it seems expected result for `3 2 1` should be `1` since we always may find `2` using binary search, and for `3 2 5 4 6 7` expected result should be `4`","body":"it seems expected result for <code>3 2 1</code> should be <code>1</code> since we always may find <code>2</code> using binary search, and for <code>3 2 5 4 6 7</code> expected result should be <code>4</code>"},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":1,"creation_date":1671360004,"post_id":74839019,"comment_id":132079012,"body_markdown":"Please don&#39;t tag with `dsa` (read its description)","body":"Please don&#39;t tag with <code>dsa</code> (read its description)"}],"owner":{"account_id":25720471,"reputation":11,"user_id":19477539,"display_name":"Lalit LP"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671359987,"creation_date":1671335272,"question_id":74839019,"body_markdown":"#### Problem Statement\r\nGiven an unsorted array of N integers, your task is to find all the elements which can be found through a traditional binary search. An element is binary searchable if it can be found for any value of pivot.\r\nFor example:- Suppose the given array is [3, 2, 5, 4, 6, 7] and target = 6, we can find 6 because we will reach 6 at last. But for the target = 4, it will not be possible when the pivot is 5.\r\n\r\n##### Input\r\nThe first line of input contains a single integer N. The next line of input contains N space separated integers depicting the array.\r\n\r\n##### Constraints\r\n1 &lt;= N &lt;= 100000  \r\n1 &lt;= Arr[i] &lt;= 1000000\r\n\r\n##### Output\r\nPrint the number of elements that can be found using the traditional binary search.\r\n\r\nExample  \r\nSample Input\r\n```none\r\n3\r\n3 2 1\r\n```\r\nSample Output\r\n```\r\n0\r\n```\r\nSample Input\r\n```\r\n6\r\n3 2 5 4 6 7\r\n```\r\nSample Output\r\n```\r\n2\r\n```\r\n-----------------------------\r\n```\r\nclass Main {\r\n    // public static long binarySearchable(int[] Arr, int n) {\r\n    //     // int n = nums.length;\r\n    //     // long count = 0;\r\n\r\n    //     // int[] maxLeft = new int[n];\r\n    //     // maxLeft[0] = nums[0];\r\n    //     // for (int i = 1; i &lt; n; i++) {\r\n    //     //     maxLeft[i] = Math.max(maxLeft[i - 1], nums[i]);\r\n    //     // }\r\n\r\n    //     // int minRight = Integer.MAX_VALUE;\r\n    //     // for (int i = n - 1; i &gt;= 0; i--) {\r\n    //     //     minRight = Math.min(minRight, nums[i]);\r\n    //     //     if (nums[i] &lt;= minRight &amp;&amp; nums[i] &gt;= maxLeft[i]) {\r\n    //     //         count++;\r\n    //     //     }\r\n    //     // }\r\n\r\n    //     // return count;\r\n    //     if(n &lt;= 1) return n;\r\n    //     int[] leftmax = new int[n];\r\n    //     int[] rightmin = new int[n];\r\n    //     int min = Integer.MAX_VALUE, max = Integer.MIN_VALUE;\r\n    //     for(int i = 0; i &lt; n; i++){\r\n    //         min = Math.min(min, Arr[n-1-i]);\r\n    //         rightmin[n-i-1] = min;\r\n    //         max = Math.max(max, Arr[i]);\r\n    //         leftmax[i] = max;\r\n    //     }\r\n    //     int count = 0;\r\n    //     for(int i = 0; i &lt; n; i++) {\r\n    //         if(leftmax[i] == Arr[i] &amp;&amp; rightmin[i] == Arr[i]) count++;\r\n    //     }\r\n    //     return count;\r\n    // }\r\n\r\n    // static int getBinarySearchableNumbers(int[] arr) {\r\n    //     int[] largest = new int[arr.length], smallest = new int[arr.length];\r\n    //     int binarySearchableCount = 0;\r\n\r\n    //     if (arr.length == 0 || arr.length ==1) {\r\n    //         return arr.length;\r\n    //     }\r\n    //     for (int i=0;i&lt; arr.length;i++) {\r\n    //         if (i == 0) {\r\n    //             largest[i] = arr[i];\r\n    //             continue;\r\n    //         }\r\n\r\n    //         if (arr[i] &gt;= largest[i-1]) {\r\n    //             largest[i] = arr[i];\r\n    //         } else {\r\n    //             largest[i] = largest[i-1];\r\n    //         }\r\n    //     }\r\n\r\n    //     for (int i=arr.length-1;i &gt;= 0;i--) {\r\n    //         if (i == arr.length-1) {\r\n    //             smallest[i] = arr[i];\r\n    //             continue;\r\n    //         }\r\n\r\n    //         if (arr[i] &lt;= smallest[i+1]) {\r\n    //             smallest[i] = arr[i];\r\n    //         } else {\r\n    //             smallest[i] = smallest[i+1];\r\n    //         }\r\n    //     }\r\n\r\n    //     for (int i=0;i&lt;arr.length;i++) {\r\n    //         if (arr[i] == smallest[i] &amp;&amp; arr[i] == largest[i]) {\r\n    //             binarySearchableCount++;\r\n    //         }\r\n    //     }\r\n\r\n    //     return binarySearchableCount;\r\n    // }\r\n    public static int howMany(int[] sequence) {\r\n\t\t\r\n\t\tint count = 0;\r\n\t\tint temp;\r\n\t\tfor(int i=0;i&lt;sequence.length;i++) {\r\n\t\t\ttemp = 0;\r\n\t\t\tfor(int j=0;j&lt;i;j++) {\r\n\t\t\t\t\r\n\t\t\t\tif(sequence[j]&gt;sequence[i]) {\r\n\t\t\t\t\t\ttemp = 1;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor(int k=i+1;k&lt;sequence.length;k++) {\r\n\t\t\t\tif(sequence[k]&lt;sequence[i]) {\r\n\t\t\t\t\ttemp = 1;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(temp==0)\r\n\t\t\tcount++;\r\n\t\t}\r\n\t\treturn count;\r\n\t}\r\n\r\n    public static void main (String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        int N = sc.nextInt();\r\n        int[] arr = new int[N];\r\n        for (int i = 0; i &lt; N; i++) {\r\n            arr[i] = sc.nextInt();\r\n        }\r\n        System.out.println(howMany(arr));\r\n    }\r\n```\r\n\r\n\r\nThe first commented code giving Wrong output and second code giving TLE what is wrong in this program... Please Suggest me ","title":"Binary Searchable Problem Statement Giving TLE error","body":"<h4>Problem Statement</h4>\n<p>Given an unsorted array of N integers, your task is to find all the elements which can be found through a traditional binary search. An element is binary searchable if it can be found for any value of pivot.\nFor example:- Suppose the given array is [3, 2, 5, 4, 6, 7] and target = 6, we can find 6 because we will reach 6 at last. But for the target = 4, it will not be possible when the pivot is 5.</p>\n<h5>Input</h5>\n<p>The first line of input contains a single integer N. The next line of input contains N space separated integers depicting the array.</p>\n<h5>Constraints</h5>\n<p>1 &lt;= N &lt;= 100000<br />\n1 &lt;= Arr[i] &lt;= 1000000</p>\n<h5>Output</h5>\n<p>Print the number of elements that can be found using the traditional binary search.</p>\n<p>Example<br />\nSample Input</p>\n<pre class=\"lang-none prettyprint-override\"><code>3\n3 2 1\n</code></pre>\n<p>Sample Output</p>\n<pre><code>0\n</code></pre>\n<p>Sample Input</p>\n<pre><code>6\n3 2 5 4 6 7\n</code></pre>\n<p>Sample Output</p>\n<pre><code>2\n</code></pre>\n<hr />\n<pre><code>class Main {\n    // public static long binarySearchable(int[] Arr, int n) {\n    //     // int n = nums.length;\n    //     // long count = 0;\n\n    //     // int[] maxLeft = new int[n];\n    //     // maxLeft[0] = nums[0];\n    //     // for (int i = 1; i &lt; n; i++) {\n    //     //     maxLeft[i] = Math.max(maxLeft[i - 1], nums[i]);\n    //     // }\n\n    //     // int minRight = Integer.MAX_VALUE;\n    //     // for (int i = n - 1; i &gt;= 0; i--) {\n    //     //     minRight = Math.min(minRight, nums[i]);\n    //     //     if (nums[i] &lt;= minRight &amp;&amp; nums[i] &gt;= maxLeft[i]) {\n    //     //         count++;\n    //     //     }\n    //     // }\n\n    //     // return count;\n    //     if(n &lt;= 1) return n;\n    //     int[] leftmax = new int[n];\n    //     int[] rightmin = new int[n];\n    //     int min = Integer.MAX_VALUE, max = Integer.MIN_VALUE;\n    //     for(int i = 0; i &lt; n; i++){\n    //         min = Math.min(min, Arr[n-1-i]);\n    //         rightmin[n-i-1] = min;\n    //         max = Math.max(max, Arr[i]);\n    //         leftmax[i] = max;\n    //     }\n    //     int count = 0;\n    //     for(int i = 0; i &lt; n; i++) {\n    //         if(leftmax[i] == Arr[i] &amp;&amp; rightmin[i] == Arr[i]) count++;\n    //     }\n    //     return count;\n    // }\n\n    // static int getBinarySearchableNumbers(int[] arr) {\n    //     int[] largest = new int[arr.length], smallest = new int[arr.length];\n    //     int binarySearchableCount = 0;\n\n    //     if (arr.length == 0 || arr.length ==1) {\n    //         return arr.length;\n    //     }\n    //     for (int i=0;i&lt; arr.length;i++) {\n    //         if (i == 0) {\n    //             largest[i] = arr[i];\n    //             continue;\n    //         }\n\n    //         if (arr[i] &gt;= largest[i-1]) {\n    //             largest[i] = arr[i];\n    //         } else {\n    //             largest[i] = largest[i-1];\n    //         }\n    //     }\n\n    //     for (int i=arr.length-1;i &gt;= 0;i--) {\n    //         if (i == arr.length-1) {\n    //             smallest[i] = arr[i];\n    //             continue;\n    //         }\n\n    //         if (arr[i] &lt;= smallest[i+1]) {\n    //             smallest[i] = arr[i];\n    //         } else {\n    //             smallest[i] = smallest[i+1];\n    //         }\n    //     }\n\n    //     for (int i=0;i&lt;arr.length;i++) {\n    //         if (arr[i] == smallest[i] &amp;&amp; arr[i] == largest[i]) {\n    //             binarySearchableCount++;\n    //         }\n    //     }\n\n    //     return binarySearchableCount;\n    // }\n    public static int howMany(int[] sequence) {\n        \n        int count = 0;\n        int temp;\n        for(int i=0;i&lt;sequence.length;i++) {\n            temp = 0;\n            for(int j=0;j&lt;i;j++) {\n                \n                if(sequence[j]&gt;sequence[i]) {\n                        temp = 1;\n                        break;\n                    }\n            }\n            for(int k=i+1;k&lt;sequence.length;k++) {\n                if(sequence[k]&lt;sequence[i]) {\n                    temp = 1;\n                    break;\n                }\n            }\n            if(temp==0)\n            count++;\n        }\n        return count;\n    }\n\n    public static void main (String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int N = sc.nextInt();\n        int[] arr = new int[N];\n        for (int i = 0; i &lt; N; i++) {\n            arr[i] = sc.nextInt();\n        }\n        System.out.println(howMany(arr));\n    }\n</code></pre>\n<p>The first commented code giving Wrong output and second code giving TLE what is wrong in this program... Please Suggest me</p>\n"},{"tags":["java","android","android-studio","tensorflow-lite"],"comments":[{"owner":{"account_id":7235145,"reputation":1198,"user_id":5520677,"display_name":"Radu M"},"score":1,"creation_date":1671360705,"post_id":74840687,"comment_id":132079139,"body_markdown":"https://developer.android.com/codelabs/digit-classifier-tflite#1 - have a look at this for the TensorFlow Lite part","body":"<a href=\"https://developer.android.com/codelabs/digit-classifier-tflite#1\" rel=\"nofollow noreferrer\">developer.android.com/codelabs/digit-classifier-tflite#1</a> - have a look at this for the TensorFlow Lite part"}],"owner":{"account_id":27078042,"reputation":1,"user_id":20627611,"display_name":"Zeshan Naveed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671359891,"creation_date":1671359891,"question_id":74840687,"body_markdown":"I have a ML model which i have exported as tensorflow Lite file. I need to integrate it to the Android Application(Java - Android Studio) to generate results according to the Cough Input via mic. I&#39;m newbie to this. I have attached the python code and also java code below:\r\n\r\n\r\nHere&#39;s the project file\r\n\r\nhttps://github.com/zeshannaveed568/CoughDetectionSystem\r\n\r\n\r\n\r\nHere&#39;s the snippets to the the ML model code.\r\n\r\n```\r\n%pip install keras\r\n%pip install --upgrade pip\r\n%pip install requests\r\n%pip install tqdm\r\n%pip install pillow\r\n%pip install tensorflow\r\n%pip install tensorflow==2.0.0-rc0\r\n%pip install -U imbalanced-learn\r\n%pip install matplotlib\r\n%pip install scipy\r\n%pip install pandas-datareader\r\n%pip install pandas\r\n%pip install numpy\r\n%pip install jsonlib\r\n%pip install protobuf\r\n%pip install oc\r\n\r\nlabels = {&quot;Asthma&quot; : 0, &quot;Covid&quot; : 1, &quot;Flu&quot; : 2, &quot;COPD&quot; : 3, &quot;Lung Cancer&quot; : 4}\r\nimport json\r\nimport os\r\nimport numpy as np\r\nX = []\r\ny = []\r\nfor disease, label in labels.items():\r\n    folder_path = &quot;./pulmonary-diseaes-dataset/&quot; + disease\r\n    for file_name in os.listdir(folder_path):\r\n        with open(folder_path + &quot;/&quot; + file_name) as file:\r\n            arr = np.array(json.load(file))\r\n            X.append(arr)\r\n            for i in range(arr.shape[0]):\r\n                y.append(label)\r\na = X[0]\r\nfor i in range(1,len(X)):\r\n  a = np.vstack((a, X[i]))\r\nX = a\r\nX.shape\r\nimport matplotlib.pyplot as plt\r\n\r\ncounts = [0] * len(labels)\r\nfor i in y:\r\n    counts[i] += 1\r\n\r\nnames = list(labels.keys())\r\n\r\nplt.figure(figsize=(9, 3))\r\n\r\nplt.bar(names, counts)\r\nfrom sklearn.model_selection import train_test_split\r\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size = 0.2, random_state = 42)\r\nfrom imblearn.over_sampling import SMOTE \r\nX_train = np.reshape(X_train, (X_train.shape[0], int(X_train.shape[1] * X_train.shape[2])))\r\nX_train.shape\r\nsm = SMOTE()\r\nX_train , y_train = sm.fit_resample(X_train, y_train)\r\nX_train = np.reshape(X_train, (X_train.shape[0],  45, 216))\r\nX_train.shape\r\ncounts = [0] * len(labels)\r\nfor i in y_train:\r\n    counts[i] += 1\r\n\r\nnames = list(labels.keys())\r\n\r\nplt.figure(figsize=(9, 3))\r\n\r\nplt.bar(names, counts)\r\nX_train, X_test = X_train[..., np.newaxis] , X_test[..., np.newaxis]\r\nX_train.shape, X_test.shape\r\nfrom tensorflow.keras.utils import to_categorical\r\ny_test_2 , y_train_2 = y_test.copy(), y_train.copy()\r\ny_test , y_train = to_categorical(y_test) , to_categorical(y_train)\r\nimport tensorflow as tf\r\nfrom tensorflow import keras\r\ndef get_model():\r\n    model = keras.Sequential()\r\n\r\n    model.add(keras.layers.Conv2D(32, (3, 3), activation=&#39;relu&#39;, input_shape=(X_train.shape[1], X_train.shape[2], 1)) )\r\n    model.add(keras.layers.MaxPooling2D((3, 3), strides=(2, 2), padding=&#39;same&#39;))\r\n    model.add(keras.layers.BatchNormalization())\r\n\r\n    model.add(keras.layers.Conv2D(32, (3, 3), activation=&#39;relu&#39;))\r\n    model.add(keras.layers.MaxPooling2D((3, 3), strides=(2, 2), padding=&#39;same&#39;))\r\n    model.add(keras.layers.BatchNormalization())\r\n\r\n    model.add(keras.layers.Conv2D(32, (2, 2), activation=&#39;relu&#39;))\r\n    model.add(keras.layers.MaxPooling2D((2, 2), strides=(2, 2), padding=&#39;same&#39;))\r\n    model.add(keras.layers.BatchNormalization())\r\n\r\n    model.add(keras.layers.Flatten())\r\n    model.add(keras.layers.Dense(64, activation=&#39;relu&#39;))\r\n    model.add(keras.layers.Dropout(0.3))\r\n\r\n    model.add(keras.layers.Dense(len(labels),   activation=&#39;softmax&#39;))\r\n\r\n    optimiser = tf.keras.optimizers.Adam(learning_rate=0.0001)\r\n    model.compile(optimizer=optimiser,\r\n                      loss=&#39;categorical_crossentropy&#39;,\r\n                      metrics=[&#39;categorical_accuracy&#39;])\r\n    return model\r\nmodel = get_model()\r\nhistory = model.fit(X_train, y_train, validation_data=(X_test, y_test), batch_size=32, epochs=100)\r\nimport matplotlib.pyplot as plt\r\ndef plot_history(history):\r\n    plt.plot(history.history[&#39;categorical_accuracy&#39;])\r\n    plt.plot(history.history[&#39;val_categorical_accuracy&#39;])\r\n    plt.title(&#39;model accuracy&#39;)\r\n    plt.ylabel(&#39;accuracy&#39;)\r\n    plt.xlabel(&#39;epoch&#39;)\r\n    plt.legend([&#39;train&#39;, &#39;test&#39;], loc=&#39;upper left&#39;)\r\n    plt.show()\r\n    # summarize history for loss\r\n    plt.plot(history.history[&#39;loss&#39;])\r\n    plt.plot(history.history[&#39;val_loss&#39;])\r\n    plt.title(&#39;model loss&#39;)\r\n    plt.ylabel(&#39;loss&#39;)\r\n    plt.xlabel(&#39;epoch&#39;)\r\n    plt.legend([&#39;train&#39;, &#39;test&#39;], loc=&#39;upper left&#39;)\r\n    plt.show()\r\nplot_history(history)\r\ndef print_classification_report():\r\n    pred = model.predict(X_test)\r\n    y_pred = []\r\n    for i in range(pred.shape[0]):\r\n      index = -1\r\n      maxVal = 0\r\n      for j in range(pred.shape[1]):\r\n        if pred[i][j] &gt; maxVal:\r\n          index = j\r\n          maxVal = pred[i][j]\r\n      y_pred.append(index)\r\n    from sklearn.metrics import classification_report\r\n    print(classification_report(y_test_2, y_pred))\r\nprint_classification_report()\r\nX_train = X_train[ : , 4 : 17, : ]\r\nX_test = X_test[: , 4:17, : ]\r\nX_train.shape, X_test.shape\r\nmodel = get_model()\r\nhistory = model.fit(X_train, y_train, validation_data=(X_test, y_test), batch_size=32, epochs=100)\r\nimport pickle\r\npickle.dump(model, open(&quot;model.pkl&quot;, &quot;wb&quot;))\r\nplot_history(history)\r\nprint_classification_report()\r\nconverter = tf.lite.TFLiteConverter.from_keras_model(model)\r\ntflite_model = converter.convert()\r\n\r\nwith open(&#39;model.tflite&#39;, &#39;wb&#39;) as f:\r\n  f.write(tflite_model)\r\n```\r\n\r\n\r\n\r\nHere the code of java where I need to Implement this functionality:\r\n\r\nHere&#39;s the layout Ss\r\n\r\nhttps://i.stack.imgur.com/0CbBM.jpg\r\n\r\n\r\nThis is where i need to implement this model to fetch results\r\n\r\n\r\n```\r\n\r\n\r\n        floatRecord.setOnLongClickListener(new View.OnLongClickListener() {\r\n            @Override\r\n            public boolean onLongClick(View v) {\r\n                startRecording();\r\n                return true;\r\n            }\r\n        });\r\n\r\n        return view;\r\n\r\n    }\r\n    private void startRecording() {\r\n        //start on press and hold and stop on release\r\n        //check if permission is granted\r\n        if (ContextCompat.checkSelfPermission(getActivity(), Manifest.permission.RECORD_AUDIO) == PackageManager.PERMISSION_GRANTED) {\r\n            //Passing an intent to record audio\r\n            Intent intent = new Intent(MediaStore.Audio.Media.RECORD_SOUND_ACTION);\r\n            startActivityForResult(intent, 1);\r\n\r\n        } else {\r\n            requestPermissions(new String[]{Manifest.permission.RECORD_AUDIO}, 1);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\nLet me know if you need more details\r\n\r\nI&#39;m expecting if you can tell me details of how to implement the press and hold to record audio functionality in android studio. and also integration of tslite model to this particular applicaiton","title":"how to integrate tensorflow lite model to Android App","body":"<p>I have a ML model which i have exported as tensorflow Lite file. I need to integrate it to the Android Application(Java - Android Studio) to generate results according to the Cough Input via mic. I'm newbie to this. I have attached the python code and also java code below:</p>\n<p>Here's the project file</p>\n<p><a href=\"https://github.com/zeshannaveed568/CoughDetectionSystem\" rel=\"nofollow noreferrer\">https://github.com/zeshannaveed568/CoughDetectionSystem</a></p>\n<p>Here's the snippets to the the ML model code.</p>\n<pre><code>%pip install keras\n%pip install --upgrade pip\n%pip install requests\n%pip install tqdm\n%pip install pillow\n%pip install tensorflow\n%pip install tensorflow==2.0.0-rc0\n%pip install -U imbalanced-learn\n%pip install matplotlib\n%pip install scipy\n%pip install pandas-datareader\n%pip install pandas\n%pip install numpy\n%pip install jsonlib\n%pip install protobuf\n%pip install oc\n\nlabels = {&quot;Asthma&quot; : 0, &quot;Covid&quot; : 1, &quot;Flu&quot; : 2, &quot;COPD&quot; : 3, &quot;Lung Cancer&quot; : 4}\nimport json\nimport os\nimport numpy as np\nX = []\ny = []\nfor disease, label in labels.items():\n    folder_path = &quot;./pulmonary-diseaes-dataset/&quot; + disease\n    for file_name in os.listdir(folder_path):\n        with open(folder_path + &quot;/&quot; + file_name) as file:\n            arr = np.array(json.load(file))\n            X.append(arr)\n            for i in range(arr.shape[0]):\n                y.append(label)\na = X[0]\nfor i in range(1,len(X)):\n  a = np.vstack((a, X[i]))\nX = a\nX.shape\nimport matplotlib.pyplot as plt\n\ncounts = [0] * len(labels)\nfor i in y:\n    counts[i] += 1\n\nnames = list(labels.keys())\n\nplt.figure(figsize=(9, 3))\n\nplt.bar(names, counts)\nfrom sklearn.model_selection import train_test_split\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size = 0.2, random_state = 42)\nfrom imblearn.over_sampling import SMOTE \nX_train = np.reshape(X_train, (X_train.shape[0], int(X_train.shape[1] * X_train.shape[2])))\nX_train.shape\nsm = SMOTE()\nX_train , y_train = sm.fit_resample(X_train, y_train)\nX_train = np.reshape(X_train, (X_train.shape[0],  45, 216))\nX_train.shape\ncounts = [0] * len(labels)\nfor i in y_train:\n    counts[i] += 1\n\nnames = list(labels.keys())\n\nplt.figure(figsize=(9, 3))\n\nplt.bar(names, counts)\nX_train, X_test = X_train[..., np.newaxis] , X_test[..., np.newaxis]\nX_train.shape, X_test.shape\nfrom tensorflow.keras.utils import to_categorical\ny_test_2 , y_train_2 = y_test.copy(), y_train.copy()\ny_test , y_train = to_categorical(y_test) , to_categorical(y_train)\nimport tensorflow as tf\nfrom tensorflow import keras\ndef get_model():\n    model = keras.Sequential()\n\n    model.add(keras.layers.Conv2D(32, (3, 3), activation='relu', input_shape=(X_train.shape[1], X_train.shape[2], 1)) )\n    model.add(keras.layers.MaxPooling2D((3, 3), strides=(2, 2), padding='same'))\n    model.add(keras.layers.BatchNormalization())\n\n    model.add(keras.layers.Conv2D(32, (3, 3), activation='relu'))\n    model.add(keras.layers.MaxPooling2D((3, 3), strides=(2, 2), padding='same'))\n    model.add(keras.layers.BatchNormalization())\n\n    model.add(keras.layers.Conv2D(32, (2, 2), activation='relu'))\n    model.add(keras.layers.MaxPooling2D((2, 2), strides=(2, 2), padding='same'))\n    model.add(keras.layers.BatchNormalization())\n\n    model.add(keras.layers.Flatten())\n    model.add(keras.layers.Dense(64, activation='relu'))\n    model.add(keras.layers.Dropout(0.3))\n\n    model.add(keras.layers.Dense(len(labels),   activation='softmax'))\n\n    optimiser = tf.keras.optimizers.Adam(learning_rate=0.0001)\n    model.compile(optimizer=optimiser,\n                      loss='categorical_crossentropy',\n                      metrics=['categorical_accuracy'])\n    return model\nmodel = get_model()\nhistory = model.fit(X_train, y_train, validation_data=(X_test, y_test), batch_size=32, epochs=100)\nimport matplotlib.pyplot as plt\ndef plot_history(history):\n    plt.plot(history.history['categorical_accuracy'])\n    plt.plot(history.history['val_categorical_accuracy'])\n    plt.title('model accuracy')\n    plt.ylabel('accuracy')\n    plt.xlabel('epoch')\n    plt.legend(['train', 'test'], loc='upper left')\n    plt.show()\n    # summarize history for loss\n    plt.plot(history.history['loss'])\n    plt.plot(history.history['val_loss'])\n    plt.title('model loss')\n    plt.ylabel('loss')\n    plt.xlabel('epoch')\n    plt.legend(['train', 'test'], loc='upper left')\n    plt.show()\nplot_history(history)\ndef print_classification_report():\n    pred = model.predict(X_test)\n    y_pred = []\n    for i in range(pred.shape[0]):\n      index = -1\n      maxVal = 0\n      for j in range(pred.shape[1]):\n        if pred[i][j] &gt; maxVal:\n          index = j\n          maxVal = pred[i][j]\n      y_pred.append(index)\n    from sklearn.metrics import classification_report\n    print(classification_report(y_test_2, y_pred))\nprint_classification_report()\nX_train = X_train[ : , 4 : 17, : ]\nX_test = X_test[: , 4:17, : ]\nX_train.shape, X_test.shape\nmodel = get_model()\nhistory = model.fit(X_train, y_train, validation_data=(X_test, y_test), batch_size=32, epochs=100)\nimport pickle\npickle.dump(model, open(&quot;model.pkl&quot;, &quot;wb&quot;))\nplot_history(history)\nprint_classification_report()\nconverter = tf.lite.TFLiteConverter.from_keras_model(model)\ntflite_model = converter.convert()\n\nwith open('model.tflite', 'wb') as f:\n  f.write(tflite_model)\n</code></pre>\n<p>Here the code of java where I need to Implement this functionality:</p>\n<p>Here's the layout Ss</p>\n<p><a href=\"https://i.stack.imgur.com/0CbBM.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/0CbBM.jpg</a></p>\n<p>This is where i need to implement this model to fetch results</p>\n<pre><code>\n\n        floatRecord.setOnLongClickListener(new View.OnLongClickListener() {\n            @Override\n            public boolean onLongClick(View v) {\n                startRecording();\n                return true;\n            }\n        });\n\n        return view;\n\n    }\n    private void startRecording() {\n        //start on press and hold and stop on release\n        //check if permission is granted\n        if (ContextCompat.checkSelfPermission(getActivity(), Manifest.permission.RECORD_AUDIO) == PackageManager.PERMISSION_GRANTED) {\n            //Passing an intent to record audio\n            Intent intent = new Intent(MediaStore.Audio.Media.RECORD_SOUND_ACTION);\n            startActivityForResult(intent, 1);\n\n        } else {\n            requestPermissions(new String[]{Manifest.permission.RECORD_AUDIO}, 1);\n        }\n    }\n\n\n\n\n\n\n</code></pre>\n<p>Let me know if you need more details</p>\n<p>I'm expecting if you can tell me details of how to implement the press and hold to record audio functionality in android studio. and also integration of tslite model to this particular applicaiton</p>\n"},{"tags":["java","jsp"],"owner":{"account_id":26480472,"reputation":1,"user_id":20119784,"display_name":"Dhinakaran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671359820,"creation_date":1671359820,"question_id":74840683,"body_markdown":"In my question is, I am working on library management system.\r\n- going to add new book one book have many authors, I have 2 athours but field is one in jsp page.\r\n\r\nI think on that field I am going to take how many author write a book like(1 or 2).\r\ngetting that value I am going to loop the author input field but how to do it i don&#39;t know can you help me.\r\nTHIS IS MY JSP CODE.....\r\n\r\n\r\n```\r\n        &lt;form method=&quot;post&quot;&gt;\r\n            &lt;label&gt;Name&lt;/label&gt;\r\n            &lt;br/&gt;\r\n            &lt;input type=&quot;text&quot; id=&quot;name&quot; name=&quot;name&quot;&gt;&lt;br/&gt;\r\n            &lt;br/&gt;\r\n            &lt;label&gt;how many authors write this book&lt;/label&gt;\r\n            &lt;br/&gt;\r\n            &lt;!--in this line i am getting number of author --&gt;\r\n            &lt;input type=&quot;text&quot; id=&quot;numberofauthor&quot; name=&quot;numberofauthor&quot;/&gt;\r\n\r\n            &lt;!--then how to iterate the author field--&gt; \r\n            &lt;c:forEach items=&quot;${numberofauthor}&quot; var=&quot;numberofauthor&quot;&gt;\r\n                &lt;input type=&quot;text&quot; id=&quot;author&quot; name=&quot;author&quot;&gt;&lt;br/&gt;\r\n                &lt;br/&gt;\r\n            &lt;/c:forEach&gt;\r\n                \r\n            &lt;button class=&quot;btn btn-primary&quot;&gt;Register&lt;/button&gt;\r\n        &lt;/form&gt;\r\n```\r\n","title":"how to iterate the input field in jsp page","body":"<p>In my question is, I am working on library management system.</p>\n<ul>\n<li>going to add new book one book have many authors, I have 2 athours but field is one in jsp page.</li>\n</ul>\n<p>I think on that field I am going to take how many author write a book like(1 or 2).\ngetting that value I am going to loop the author input field but how to do it i don't know can you help me.\nTHIS IS MY JSP CODE.....</p>\n<pre><code>        &lt;form method=&quot;post&quot;&gt;\n            &lt;label&gt;Name&lt;/label&gt;\n            &lt;br/&gt;\n            &lt;input type=&quot;text&quot; id=&quot;name&quot; name=&quot;name&quot;&gt;&lt;br/&gt;\n            &lt;br/&gt;\n            &lt;label&gt;how many authors write this book&lt;/label&gt;\n            &lt;br/&gt;\n            &lt;!--in this line i am getting number of author --&gt;\n            &lt;input type=&quot;text&quot; id=&quot;numberofauthor&quot; name=&quot;numberofauthor&quot;/&gt;\n\n            &lt;!--then how to iterate the author field--&gt; \n            &lt;c:forEach items=&quot;${numberofauthor}&quot; var=&quot;numberofauthor&quot;&gt;\n                &lt;input type=&quot;text&quot; id=&quot;author&quot; name=&quot;author&quot;&gt;&lt;br/&gt;\n                &lt;br/&gt;\n            &lt;/c:forEach&gt;\n                \n            &lt;button class=&quot;btn btn-primary&quot;&gt;Register&lt;/button&gt;\n        &lt;/form&gt;\n</code></pre>\n"},{"tags":["java","spring","hibernate-mapping","mapstruct"],"comments":[{"owner":{"account_id":5945706,"reputation":1374,"user_id":4675277,"accept_rate":78,"display_name":"Anand Vaidya"},"score":0,"creation_date":1596270982,"post_id":63202629,"comment_id":111763380,"body_markdown":"Are you getting null return or NullPointer?","body":"Are you getting null return or NullPointer?"},{"owner":{"account_id":18619699,"reputation":136,"user_id":13570210,"display_name":"Kenez92"},"score":0,"creation_date":1596284873,"post_id":63202629,"comment_id":111766541,"body_markdown":"This returns null. Should return mapped object but this object is always null","body":"This returns null. Should return mapped object but this object is always null"}],"answers":[{"tags":[],"owner":{"account_id":1128956,"reputation":19775,"user_id":1115491,"display_name":"Filip"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1596351801,"creation_date":1596351801,"answer_id":63213287,"question_id":63202629,"body_markdown":"It returns null because you have a `@Spy`. This means that Mockito will wrap the implementation in an instance of its own and then invoke the methods (if it is null it will return null for the methods).\r\n\r\nYou should probably use `@SpyBean` and `@MockBean` from Spring Boot if you want to have the beans which are available in your application context spied or mocked.","title":"Why mapper returns null?","body":"<p>It returns null because you have a <code>@Spy</code>. This means that Mockito will wrap the implementation in an instance of its own and then invoke the methods (if it is null it will return null for the methods).</p>\n<p>You should probably use <code>@SpyBean</code> and <code>@MockBean</code> from Spring Boot if you want to have the beans which are available in your application context spied or mocked.</p>\n"},{"tags":[],"owner":{"account_id":15718964,"reputation":1,"user_id":11342409,"display_name":"Satyam agarwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671359441,"creation_date":1671359441,"answer_id":74840637,"question_id":63202629,"body_markdown":"Instead of using\r\n\r\n    @Spy\r\n    private CouponMapper couponMapper;\r\n\r\nuse-\r\n\r\n    private final CouponMapper couponMapper= Mappers.getMapper(CouponMapper.class);\r\n\r\nusing Mappers.getMapper will solve this issue, I tried using @SpyBean and @MockBean did not worked for me.","title":"Why mapper returns null?","body":"<p>Instead of using</p>\n<pre><code>@Spy\nprivate CouponMapper couponMapper;\n</code></pre>\n<p>use-</p>\n<pre><code>private final CouponMapper couponMapper= Mappers.getMapper(CouponMapper.class);\n</code></pre>\n<p>using Mappers.getMapper will solve this issue, I tried using @SpyBean and @MockBean did not worked for me.</p>\n"}],"owner":{"account_id":18619699,"reputation":136,"user_id":13570210,"display_name":"Kenez92"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2857,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":63213287,"answer_count":2,"score":0,"last_activity_date":1671359441,"creation_date":1596265091,"question_id":63202629,"body_markdown":"Question: Why mapper returns null ?\r\n\r\nCan anybody explain me why my mapper(mapstruct) returns null ? When I implement my own mapper then its ok.\r\n\r\n```\r\n@RunWith(MockitoJUnitRunner.class)\r\n@SpringBootTest\r\nclass CouponServiceTestSuite {\r\n    @InjectMocks\r\n    private CouponService couponService;\r\n    @Mock\r\n    private CouponRepository couponRepository;\r\n    @Spy\r\n    private CouponDto couponDto;\r\n    @Spy\r\n    private CouponMapper couponMapper;\r\n\r\n\r\n    @Test\r\n    public void testMapper() {\r\n        Coupon coupon = createCoupon();\r\n        CouponDto couponDto = couponMapper.mapToCouponDto(coupon);\r\n\r\n        System.out.println(couponDto); // RETURN NULL\r\n    }\r\n```\r\n\r\n```\r\n@Component\r\n@Mapper\r\npublic interface CouponMapper {\r\n\r\n    Coupon mapToCoupon(CouponDto couponDto);\r\n\r\n    CouponDto mapToCouponDto(Coupon coupon);\r\n\r\n    default List&lt;CouponDto&gt; mapToCouponDtoList(List&lt;Coupon&gt; couponList) {\r\n        if (couponList == null) {\r\n            return new ArrayList&lt;&gt;();\r\n        }\r\n        return new ArrayList&lt;&gt;(couponList).stream()\r\n                .map(this::mapToCouponDto)\r\n                .collect(Collectors.toList());\r\n    }\r\n}\r\n```\r\n\r\nhttps://github.com/kenez92/BetWinner2/blob/CouponServiceTestSuite/src/test/java/com/kenez92/betwinner/service/CouponServiceTestSuite.java\r\n\r\nThank you :)","title":"Why mapper returns null?","body":"<p>Question: Why mapper returns null ?</p>\n<p>Can anybody explain me why my mapper(mapstruct) returns null ? When I implement my own mapper then its ok.</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\n@SpringBootTest\nclass CouponServiceTestSuite {\n    @InjectMocks\n    private CouponService couponService;\n    @Mock\n    private CouponRepository couponRepository;\n    @Spy\n    private CouponDto couponDto;\n    @Spy\n    private CouponMapper couponMapper;\n\n\n    @Test\n    public void testMapper() {\n        Coupon coupon = createCoupon();\n        CouponDto couponDto = couponMapper.mapToCouponDto(coupon);\n\n        System.out.println(couponDto); // RETURN NULL\n    }\n</code></pre>\n<pre><code>@Component\n@Mapper\npublic interface CouponMapper {\n\n    Coupon mapToCoupon(CouponDto couponDto);\n\n    CouponDto mapToCouponDto(Coupon coupon);\n\n    default List&lt;CouponDto&gt; mapToCouponDtoList(List&lt;Coupon&gt; couponList) {\n        if (couponList == null) {\n            return new ArrayList&lt;&gt;();\n        }\n        return new ArrayList&lt;&gt;(couponList).stream()\n                .map(this::mapToCouponDto)\n                .collect(Collectors.toList());\n    }\n}\n</code></pre>\n<p><a href=\"https://github.com/kenez92/BetWinner2/blob/CouponServiceTestSuite/src/test/java/com/kenez92/betwinner/service/CouponServiceTestSuite.java\" rel=\"nofollow noreferrer\">https://github.com/kenez92/BetWinner2/blob/CouponServiceTestSuite/src/test/java/com/kenez92/betwinner/service/CouponServiceTestSuite.java</a></p>\n<p>Thank you :)</p>\n"},{"tags":["java","android","datetime","file-sorting"],"comments":[{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1671356970,"post_id":74840214,"comment_id":132078606,"body_markdown":"Can you use the result from &quot;ls&quot; , parse it, sort it, and then save the result where you need it? Also, can you use `new File(...).listFiles()` instead of using &quot;ls&quot; command? Makes it less work as you won&#39;t need to parse the result of &quot;ls&quot; command...","body":"Can you use the result from &quot;ls&quot; , parse it, sort it, and then save the result where you need it? Also, can you use <code>new File(...).listFiles()</code> instead of using &quot;ls&quot; command? Makes it less work as you won&#39;t need to parse the result of &quot;ls&quot; command..."},{"owner":{"account_id":19756212,"reputation":91,"user_id":14466436,"display_name":"ANDuser"},"score":0,"creation_date":1671358253,"post_id":74840214,"comment_id":132078787,"body_markdown":"errors like, `File cannot be resolved to a type`","body":"errors like, <code>File cannot be resolved to a type</code>"},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1671359323,"post_id":74840214,"comment_id":132078911,"body_markdown":"So import it. It&#39;s this one: https://docs.oracle.com/javase/7/docs/api/java/io/File.html , so you need to add `import java.io.File;` .","body":"So import it. It&#39;s this one: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/File.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/io/File.html</a> , so you need to add <code>import java.io.File;</code> ."},{"owner":{"account_id":19756212,"reputation":91,"user_id":14466436,"display_name":"ANDuser"},"score":0,"creation_date":1671383019,"post_id":74840214,"comment_id":132083162,"body_markdown":"It Not possible to import anything in Sketchware, other than what it had imported according to blocks, components we used in development.  *Import block* is only available in mods","body":"It Not possible to import anything in Sketchware, other than what it had imported according to blocks, components we used in development.  <i>Import block</i> is only available in mods"},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1671393291,"post_id":74840214,"comment_id":132084834,"body_markdown":"So use directly instead of importing , meaning `new java.io.File(...).listFiles()`","body":"So use directly instead of importing , meaning <code>new java.io.File(...).listFiles()</code>"}],"answers":[{"tags":[],"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671357977,"creation_date":1671357977,"answer_id":74840492,"question_id":74840214,"body_markdown":"I face same issue in show last edited image in first of all [SORT BY TIME], I found solution for me and this code will be help into sort arraylist by time.\r\n\r\n```java\r\nCollections.sort(myList, new Comparator&lt;MyObject&gt;() {\r\n  public int compare(MyObject o1, MyObject o2) {\r\n      return o1.getDateTime().compareTo(o2.getDateTime());\r\n  }\r\n});\r\n```","title":"file list sort by modified time in android [using sketchware]","body":"<p>I face same issue in show last edited image in first of all [SORT BY TIME], I found solution for me and this code will be help into sort arraylist by time.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collections.sort(myList, new Comparator&lt;MyObject&gt;() {\n  public int compare(MyObject o1, MyObject o2) {\n      return o1.getDateTime().compareTo(o2.getDateTime());\n  }\n});\n</code></pre>\n"}],"owner":{"account_id":19756212,"reputation":91,"user_id":14466436,"display_name":"ANDuser"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671357977,"creation_date":1671354818,"question_id":74840214,"body_markdown":"im trying to get a file list at the directory ```&quot;/storage/emulated/0/tmp/subtmp/&quot;```\r\nthen **sort** it in **newest first** order./get sorted list stating itself.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n^ this is the order I&#39;m trying to achieve.\r\n\r\n```sh\r\nfourth\r\nthird\r\nfirst\r\nlast\r\nsecond\r\n```\r\n^this is what i get using,\r\n[![enter image description here][2]][2]\r\n_OR_\r\n[![enter image description here][3]][3]\r\n\r\n&gt;I tried using `lastModified()` but it errors, looks like, there is no `File` data type...\r\n\r\n&gt;so i tried to fetch `view-source:` `file:///storage/emulated/0/tmp/subtmp/`\r\n[![enter image description here][4]][4]\r\n,which contains modified date &amp; time.&lt;br&gt;\r\n_but_&lt;br&gt;\r\nthat **didn&#39;t** happened..\r\n\r\n&gt;then i tried using [ls command],\r\n```java\r\ntry {\r\n\r\nRuntime.getRuntime().exec(&quot;ls -t /storage/emulated/0/tmp/subtmp/&quot;); \r\n\r\nedittext.setText(&quot;done&quot;);\r\n\r\n} catch (Exception e ) {\r\n\r\nedittext.setText(&quot;not done&quot;);\r\nans.setText(e.toString());\r\n\r\n}\r\n```\r\n&gt;and\r\n```java\r\ntry {\r\n\r\nRuntime.getRuntime().exec(&quot;ls -t /storage/emulated/0/tmp/subtmp/ &gt; /storage/emulated/0/tmp/output.txt&quot;); //to read and delete\r\n\r\nedittext.setText(&quot;done&quot;);\r\n\r\n} catch (Exception e ) {\r\n\r\nedittext.setText(&quot;not done&quot;);\r\nans.setText(e.toString());\r\n\r\n}\r\n```\r\n&gt;but,.. no new files are created on `/storage/emulated/0/tmp/`\r\n\r\n---\r\n\r\n## so, is it possible to sort files in sketchware\r\n* it doesnt have any block to get sorted list\r\n* it does have a **add source directly** block\r\n\r\n  [1]: https://i.stack.imgur.com/bi65q.png\r\n  [2]: https://i.stack.imgur.com/2qQHe.png\r\n  [3]: https://i.stack.imgur.com/nyhEY.png\r\n  [4]: https://i.stack.imgur.com/bFkOa.png","title":"file list sort by modified time in android [using sketchware]","body":"<p>im trying to get a file list at the directory <code>&quot;/storage/emulated/0/tmp/subtmp/&quot;</code>\nthen <strong>sort</strong> it in <strong>newest first</strong> order./get sorted list stating itself.</p>\n<p><a href=\"https://i.stack.imgur.com/bi65q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bi65q.png\" alt=\"enter image description here\" /></a>\n^ this is the order I'm trying to achieve.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>fourth\nthird\nfirst\nlast\nsecond\n</code></pre>\n<p>^this is what i get using,\n<a href=\"https://i.stack.imgur.com/2qQHe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2qQHe.png\" alt=\"enter image description here\" /></a>\n<em>OR</em>\n<a href=\"https://i.stack.imgur.com/nyhEY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nyhEY.png\" alt=\"enter image description here\" /></a></p>\n<blockquote>\n<p>I tried using <code>lastModified()</code> but it errors, looks like, there is no <code>File</code> data type...</p>\n</blockquote>\n<blockquote>\n<p>so i tried to fetch <code>view-source:</code> <code>file:///storage/emulated/0/tmp/subtmp/</code>\n<a href=\"https://i.stack.imgur.com/bFkOa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bFkOa.png\" alt=\"enter image description here\" /></a>\n,which contains modified date &amp; time.<br>\n<em>but</em><br>\nthat <strong>didn't</strong> happened..</p>\n</blockquote>\n<blockquote>\n<p>then i tried using [ls command],</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n\nRuntime.getRuntime().exec(&quot;ls -t /storage/emulated/0/tmp/subtmp/&quot;); \n\nedittext.setText(&quot;done&quot;);\n\n} catch (Exception e ) {\n\nedittext.setText(&quot;not done&quot;);\nans.setText(e.toString());\n\n}\n</code></pre>\n<blockquote>\n<p>and</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n\nRuntime.getRuntime().exec(&quot;ls -t /storage/emulated/0/tmp/subtmp/ &gt; /storage/emulated/0/tmp/output.txt&quot;); //to read and delete\n\nedittext.setText(&quot;done&quot;);\n\n} catch (Exception e ) {\n\nedittext.setText(&quot;not done&quot;);\nans.setText(e.toString());\n\n}\n</code></pre>\n<blockquote>\n<p>but,.. no new files are created on <code>/storage/emulated/0/tmp/</code></p>\n</blockquote>\n<hr />\n<h2>so, is it possible to sort files in sketchware</h2>\n<ul>\n<li>it doesnt have any block to get sorted list</li>\n<li>it does have a <strong>add source directly</strong> block</li>\n</ul>\n"},{"tags":["javascript","java","google-chrome","selenium-webdriver"],"owner":{"account_id":27287960,"reputation":11,"user_id":20806842,"display_name":"Ruturaj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671357354,"creation_date":1671356479,"question_id":74840356,"body_markdown":"We have one url in our community where if I try to edit the article and click on cancel then I get a pop up saying &quot;Leave site changes may not be saved&quot; when I accept this alert with code `driver.switchTo().alert().accept()` the page is redirecting to the correct page but this pop up will still remain on the page and it is blocking further execution.\r\n\r\nI am attaching some screenshot for reference. \r\n\r\nPop up: \r\n\r\n![enter image description here](https://i.stack.imgur.com/swmBm.png)\r\n\r\ncode: \r\n\r\n![enter image description here](https://i.stack.imgur.com/gRnPX.png)\r\n\r\n=\\&gt;I tried with driver.switchTo().alert().accept() method it is accepting but pop will still remain on the screen. If I try to execute same piece of code again then I&#39;m getting error &quot;No alert Present exception&quot; but I can see the alert present on the web page.\r\n\r\n=\\&gt; I tried using Actions class with below code\r\n```\r\nActions act = new Actions(driver);\r\nact.sendKeys(Keys.ENTER).build().perform();\r\n```\r\nbut this gives exception saying &quot;unhandled alert&quot; are present on the web page but after accepting if I try to execute the code nothing is happening.\r\n\r\n=\\&gt; It is javascript alert and let me know if I can use JavaScript executor if yes let me know how can we use to accept this alert","title":"The pop up &quot;Leave site changes may not be saved&quot; is not getting closed even after accepting it via driver.switchTo().alert().accept()","body":"<p>We have one url in our community where if I try to edit the article and click on cancel then I get a pop up saying &quot;Leave site changes may not be saved&quot; when I accept this alert with code <code>driver.switchTo().alert().accept()</code> the page is redirecting to the correct page but this pop up will still remain on the page and it is blocking further execution.</p>\n<p>I am attaching some screenshot for reference.</p>\n<p>Pop up:</p>\n<p><img src=\"https://i.stack.imgur.com/swmBm.png\" alt=\"enter image description here\" /></p>\n<p>code:</p>\n<p><img src=\"https://i.stack.imgur.com/gRnPX.png\" alt=\"enter image description here\" /></p>\n<p>=&gt;I tried with driver.switchTo().alert().accept() method it is accepting but pop will still remain on the screen. If I try to execute same piece of code again then I'm getting error &quot;No alert Present exception&quot; but I can see the alert present on the web page.</p>\n<p>=&gt; I tried using Actions class with below code</p>\n<pre><code>Actions act = new Actions(driver);\nact.sendKeys(Keys.ENTER).build().perform();\n</code></pre>\n<p>but this gives exception saying &quot;unhandled alert&quot; are present on the web page but after accepting if I try to execute the code nothing is happening.</p>\n<p>=&gt; It is javascript alert and let me know if I can use JavaScript executor if yes let me know how can we use to accept this alert</p>\n"},{"tags":["java","android","kotlin","widget","drawable"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1671262018,"post_id":74832184,"comment_id":132065665,"body_markdown":"Use views.setImageUri(). Ofcourse you cannot convert an uri to a resource integer.","body":"Use views.setImageUri(). Ofcourse you cannot convert an uri to a resource integer."},{"owner":{"account_id":27279256,"reputation":3,"user_id":20799395,"display_name":"Kisbet"},"score":0,"creation_date":1671262075,"post_id":74832184,"comment_id":132065674,"body_markdown":"its not working","body":"its not working"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1671262112,"post_id":74832184,"comment_id":132065683,"body_markdown":"What is &#39;not working&#39;? Show your code. Views.setImageDrawable().","body":"What is &#39;not working&#39;? Show your code. Views.setImageDrawable()."},{"owner":{"account_id":27279256,"reputation":3,"user_id":20799395,"display_name":"Kisbet"},"score":0,"creation_date":1671262421,"post_id":74832184,"comment_id":132065723,"body_markdown":"i edit my Question and there is no method called imageView.setImageDrawable()","body":"i edit my Question and there is no method called imageView.setImageDrawable()"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1671262562,"post_id":74832184,"comment_id":132065739,"body_markdown":"&quot;myUri&quot; is not a valid uri. And we still dont know the meaning of &#39;not working&#39;.","body":"&quot;myUri&quot; is not a valid uri. And we still dont know the meaning of &#39;not working&#39;."},{"owner":{"account_id":27279256,"reputation":3,"user_id":20799395,"display_name":"Kisbet"},"score":0,"creation_date":1671262673,"post_id":74832184,"comment_id":132065751,"body_markdown":"I know i am retriving uri from firebase database i just dont want to show details about uri","body":"I know i am retriving uri from firebase database i just dont want to show details about uri"},{"owner":{"account_id":27279256,"reputation":3,"user_id":20799395,"display_name":"Kisbet"},"score":0,"creation_date":1671262914,"post_id":74832184,"comment_id":132065782,"body_markdown":"I try to mean when i say &#39;not working&#39; i am doing everything fine when i use views.setImageViewUri is not working but when i user setImageViewResources my code is working","body":"I try to mean when i say &#39;not working&#39; i am doing everything fine when i use views.setImageViewUri is not working but when i user setImageViewResources my code is working"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1671262915,"post_id":74832184,"comment_id":132065783,"body_markdown":"You do not have to post the details of your firebase uri if you post you firebase uri","body":"You do not have to post the details of your firebase uri if you post you firebase uri"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1671263016,"post_id":74832184,"comment_id":132065796,"body_markdown":"Not working? What happens instead? Errors? Exceptions? If it contained already an image then is it erased? Not working? What is not working?","body":"Not working? What happens instead? Errors? Exceptions? If it contained already an image then is it erased? Not working? What is not working?"},{"owner":{"account_id":27279256,"reputation":3,"user_id":20799395,"display_name":"Kisbet"},"score":0,"creation_date":1671264302,"post_id":74832184,"comment_id":132065939,"body_markdown":"widget image doesn&#39;t show up","body":"widget image doesn&#39;t show up"}],"answers":[{"comments":[{"owner":{"account_id":27279256,"reputation":3,"user_id":20799395,"display_name":"Kisbet"},"score":0,"creation_date":1671261942,"post_id":74832351,"comment_id":132065660,"body_markdown":"views.setImageViewResource method is want Integer from me so this is not working becasue its drawable","body":"views.setImageViewResource method is want Integer from me so this is not working becasue its drawable"},{"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"score":0,"creation_date":1671262258,"post_id":74832351,"comment_id":132065706,"body_markdown":"you must me use `imageView.setImageDrawable();` instand of `views.setImageViewResource();`","body":"you must me use <code>imageView.setImageDrawable();</code> instand of <code>views.setImageViewResource();</code>"},{"owner":{"account_id":27279256,"reputation":3,"user_id":20799395,"display_name":"Kisbet"},"score":0,"creation_date":1671262508,"post_id":74832351,"comment_id":132065733,"body_markdown":"There is no method called imageView.setImageDrawable()","body":"There is no method called imageView.setImageDrawable()"},{"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"score":0,"creation_date":1671262890,"post_id":74832351,"comment_id":132065779,"body_markdown":"then you must be convert drawable to int you will found on : https://stackoverflow.com/questions/8642823/using-setimagedrawable-dynamically-to-set-image-in-an-imageview","body":"then you must be convert drawable to int you will found on : <a href=\"https://stackoverflow.com/questions/8642823/using-setimagedrawable-dynamically-to-set-image-in-an-imageview\" title=\"using setimagedrawable dynamically to set image in an imageview\">stackoverflow.com/questions/8642823/&hellip;</a>"},{"owner":{"account_id":27279256,"reputation":3,"user_id":20799395,"display_name":"Kisbet"},"score":0,"creation_date":1671344043,"post_id":74832351,"comment_id":132077050,"body_markdown":"Can i removing the activity input and replacing it with context? And What should I write in the name input in the link you sent?","body":"Can i removing the activity input and replacing it with context? And What should I write in the name input in the link you sent?"},{"owner":{"account_id":27279256,"reputation":3,"user_id":20799395,"display_name":"Kisbet"},"score":0,"creation_date":1671347602,"post_id":74832351,"comment_id":132077432,"body_markdown":"And my uri is this type https://media.istockphoto.com/id/1162019476/tr/foto%C4%9Fraf/oyuncak-yar%C4%B1%C5%9F-arabas%C4%B1nda-boy-ve-k%C3%B6pek.jpg?s=1024x1024&amp;w=is&amp;k=20&amp;c=TxRP45SO7Eja8IKQ0KFqHZAbzXuvWWVD3sLsQUpSc-A=","body":"And my uri is this type <a href=\"https://media.istockphoto.com/id/1162019476/tr/foto%C4%9Fraf/oyuncak-yar%C4%B1%C5%9F-arabas%C4%B1nda-boy-ve-k%C3%B6pek.jpg?s=1024x1024&amp;w=is&amp;k=20&amp;c=TxRP45SO7Eja8IKQ0KFqHZAbzXuvWWVD3sLsQUpSc-A=\" rel=\"nofollow noreferrer\">media.istockphoto.com/id/1162019476/tr/foto%C4%9Fraf/&hellip;</a>"},{"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"score":0,"creation_date":1671356786,"post_id":74832351,"comment_id":132078583,"body_markdown":"This is url of image if you want to show your image in imageview then use Glide library for image loading.","body":"This is url of image if you want to show your image in imageview then use Glide library for image loading."},{"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"score":0,"creation_date":1671356831,"post_id":74832351,"comment_id":132078590,"body_markdown":"Or you can also use image after download in your devices storage","body":"Or you can also use image after download in your devices storage"},{"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"score":0,"creation_date":1671356880,"post_id":74832351,"comment_id":132078597,"body_markdown":"Yes you can replace with context","body":"Yes you can replace with context"}],"tags":[],"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"comment_count":9,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671357293,"creation_date":1671260854,"answer_id":74832351,"question_id":74832184,"body_markdown":"If your Uri is of this type: `android.resource://your.package.name/drawable/drawable_name`\r\n\r\nSo you use this code in your project. It will help you.\r\n\r\n```\r\npublic Drawable getDrawableFromUri(Activity activity, Uri uri) {\r\n        try {\r\n            InputStream inputStream = activity.getContentResolver().openInputStream(uri);\r\n            return Drawable.createFromStream(inputStream, uri.toString());\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n```\r\n\r\n**OR**\r\n\r\nIf your Uri is of this type: `https://url.image.jpg`\r\n\r\nSo you use Glide library in your project for load Image.\r\n\r\n- build.gradle\r\n\r\n```\r\nrepositories {\r\n  google()\r\n  mavenCentral()\r\n}\r\n\r\ndependencies {\r\n  implementation &#39;com.github.bumptech.glide:glide:4.14.2&#39;\r\n  annotationProcessor &#39;com.github.bumptech.glide:compiler:4.14.2&#39;\r\n}\r\n```\r\n\r\n- activity.java\r\n\r\n```java\r\n String URL = &quot;https://media.istockphoto.com/id/1162019476/tr/fotoğraf/oyuncak-yarış-arabasında-boy-ve-k&#246;pek.jpg?s=1024x1024&amp;w=is&amp;k=20&amp;c=TxRP45SO7Eja8IKQ0KFqHZAbzXuvWWVD3sLsQUpSc-A=&quot;\r\n\r\n Glide\r\n    .with(YOUR_CONTEXT)\r\n    .load(URL)\r\n    .into(YOUR_IMAGE_VIEW);\r\n```\r\n","title":"How to transform uri to integer for drawable?","body":"<p>If your Uri is of this type: <code>android.resource://your.package.name/drawable/drawable_name</code></p>\n<p>So you use this code in your project. It will help you.</p>\n<pre><code>public Drawable getDrawableFromUri(Activity activity, Uri uri) {\n        try {\n            InputStream inputStream = activity.getContentResolver().openInputStream(uri);\n            return Drawable.createFromStream(inputStream, uri.toString());\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n</code></pre>\n<p><strong>OR</strong></p>\n<p>If your Uri is of this type: <code>https://url.image.jpg</code></p>\n<p>So you use Glide library in your project for load Image.</p>\n<ul>\n<li>build.gradle</li>\n</ul>\n<pre><code>repositories {\n  google()\n  mavenCentral()\n}\n\ndependencies {\n  implementation 'com.github.bumptech.glide:glide:4.14.2'\n  annotationProcessor 'com.github.bumptech.glide:compiler:4.14.2'\n}\n</code></pre>\n<ul>\n<li>activity.java</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code> String URL = &quot;https://media.istockphoto.com/id/1162019476/tr/fotoğraf/oyuncak-yarış-arabasında-boy-ve-köpek.jpg?s=1024x1024&amp;w=is&amp;k=20&amp;c=TxRP45SO7Eja8IKQ0KFqHZAbzXuvWWVD3sLsQUpSc-A=&quot;\n\n Glide\n    .with(YOUR_CONTEXT)\n    .load(URL)\n    .into(YOUR_IMAGE_VIEW);\n</code></pre>\n"}],"owner":{"account_id":27279256,"reputation":3,"user_id":20799395,"display_name":"Kisbet"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74832351,"answer_count":1,"score":0,"last_activity_date":1671357293,"creation_date":1671258006,"question_id":74832184,"body_markdown":"I am working on widgets and i need to use this views.setImageViewResource method in AppWidgetProvider but this method wants integer\r\n but i have uri how can i solve this problem?\r\n\r\n    class AppWidgetBroadcast : AppWidgetProvider() {\r\n    private lateinit var database: DatabaseReference\r\n    private lateinit var mydatabase: FirebaseDatabase\r\n\r\n    override fun onUpdate(\r\n        context: Context,\r\n        appWidgetManager: AppWidgetManager,\r\n        appWidgetIds: IntArray\r\n    ) {\r\n        // Perform this loop procedure for each widget that belongs to this\r\n        // provider.\r\n        appWidgetIds.forEach { appWidgetId -&gt;\r\n            // Create an Intent to launch ExampleActivity.\r\n            val pendingIntent: PendingIntent = PendingIntent.getActivity(\r\n                /* context = */ context,\r\n                /* requestCode = */  0,\r\n                /* intent = */ Intent(context, WidgetDetailsActivity::class.java),\r\n                /* flags = */ PendingIntent.FLAG_UPDATE_CURRENT or PendingIntent.FLAG_IMMUTABLE\r\n            )\r\n\r\n            // Get the layout for the widget and attach an on-click listener\r\n            // to the button.\r\n            val string=&quot;sa&quot;\r\n            val uri:String=&quot;myUri&quot;\r\n            var imageuri: Uri = Uri.parse(uri)\r\n            val views: RemoteViews = RemoteViews(context.packageName,R.layout.activity_widget_details).apply {\r\n                setOnClickPendingIntent(R.id.fullImageWidget, pendingIntent)\r\n\r\n\r\n            }\r\n\r\n\r\n\r\n            // Tell the AppWidgetManager to perform an update on the current\r\n            // widget.\r\n            //views.setImageViewUri(R.id.fullImageWidget,null)\r\n\r\n            views.setImageViewUri(R.id.fullImageWidget,imageuri)\r\n            appWidgetManager.updateAppWidget(appWidgetId, views)\r\n        }\r\n    }\r\n\r\n}","title":"How to transform uri to integer for drawable?","body":"<p>I am working on widgets and i need to use this views.setImageViewResource method in AppWidgetProvider but this method wants integer\nbut i have uri how can i solve this problem?</p>\n<pre><code>class AppWidgetBroadcast : AppWidgetProvider() {\nprivate lateinit var database: DatabaseReference\nprivate lateinit var mydatabase: FirebaseDatabase\n\noverride fun onUpdate(\n    context: Context,\n    appWidgetManager: AppWidgetManager,\n    appWidgetIds: IntArray\n) {\n    // Perform this loop procedure for each widget that belongs to this\n    // provider.\n    appWidgetIds.forEach { appWidgetId -&gt;\n        // Create an Intent to launch ExampleActivity.\n        val pendingIntent: PendingIntent = PendingIntent.getActivity(\n            /* context = */ context,\n            /* requestCode = */  0,\n            /* intent = */ Intent(context, WidgetDetailsActivity::class.java),\n            /* flags = */ PendingIntent.FLAG_UPDATE_CURRENT or PendingIntent.FLAG_IMMUTABLE\n        )\n\n        // Get the layout for the widget and attach an on-click listener\n        // to the button.\n        val string=&quot;sa&quot;\n        val uri:String=&quot;myUri&quot;\n        var imageuri: Uri = Uri.parse(uri)\n        val views: RemoteViews = RemoteViews(context.packageName,R.layout.activity_widget_details).apply {\n            setOnClickPendingIntent(R.id.fullImageWidget, pendingIntent)\n\n\n        }\n\n\n\n        // Tell the AppWidgetManager to perform an update on the current\n        // widget.\n        //views.setImageViewUri(R.id.fullImageWidget,null)\n\n        views.setImageViewUri(R.id.fullImageWidget,imageuri)\n        appWidgetManager.updateAppWidget(appWidgetId, views)\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring-webflux"],"comments":[{"owner":{"account_id":6605,"reputation":61212,"user_id":11182,"display_name":"Lex Li"},"score":0,"creation_date":1671305042,"post_id":74836120,"comment_id":132072593,"body_markdown":"While you might be new to Spring, you are not new to Stack Overflow. Don&#39;t misuse tags and read them before tagging. The mono tag is clear for something else.","body":"While you might be new to Spring, you are not new to Stack Overflow. Don&#39;t misuse tags and read them before tagging. The mono tag is clear for something else."}],"answers":[{"comments":[{"owner":{"account_id":6645589,"reputation":602,"user_id":5129821,"accept_rate":91,"display_name":"Dasun"},"score":0,"creation_date":1671420455,"post_id":74837425,"comment_id":132088530,"body_markdown":"Hi @asceta.\nThank you for the reply. why you pass Mono&lt;UserRequest&gt; user? Actually we are following api first approach with swagger. This is something auto genarated based on api.yml.","body":"Hi @asceta. Thank you for the reply. why you pass Mono&lt;UserRequest&gt; user? Actually we are following api first approach with swagger. This is something auto genarated based on api.yml."}],"tags":[],"owner":{"account_id":2407634,"reputation":282,"user_id":2103637,"display_name":"asceta"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671310666,"creation_date":1671310666,"answer_id":74837425,"question_id":74836120,"body_markdown":"You can add `.zipWith(user, (foundUser, user) -&gt; ...` (or simples `.zipWith(user)` that returns `Tuple`).\r\n\r\n\r\nSamples:\r\n\r\n\r\n```java\r\n    @Test\r\n    void x1() {\r\n        Mono&lt;String&gt; m1 = Mono.just(&quot;S1&quot;);\r\n        Mono&lt;String&gt; m2 = Mono.just(&quot;S2&quot;);\r\n\r\n        m1\r\n            .switchIfEmpty(Mono.error(new NotFoundException(&quot;User not found&quot;)))\r\n            .zipWith(m2, (s1, s2) -&gt; s1.concat(s2)) // can be simplified to &#39;String::concat&#39;\r\n            .as(StepVerifier::create)\r\n            .assertNext(s -&gt; assertThat(s)\r\n                .isEqualTo(&quot;S1S2&quot;)\r\n            )\r\n            .verifyComplete();\r\n    }\r\n\r\n    @Test\r\n    void x2() {\r\n        Mono&lt;String&gt; m1 = Mono.just(&quot;S1&quot;);\r\n        Mono&lt;String&gt; m2 = Mono.error(new RuntimeException(&quot;some-error&quot;));\r\n\r\n        m1\r\n            .switchIfEmpty(Mono.error(new NotFoundException(&quot;User not found&quot;)))\r\n            .zipWith(m2, String::concat)\r\n            .as(StepVerifier::create)\r\n            .expectErrorSatisfies(throwable -&gt; assertThat(throwable)\r\n                .isInstanceOf(RuntimeException.class)\r\n                .hasMessage(&quot;some-error&quot;)\r\n            )\r\n            .verify();\r\n    }\r\n\r\n    @Test\r\n    void x3() {\r\n        Mono&lt;String&gt; m1 = Mono.error(new RuntimeException(&quot;some-error&quot;));\r\n        Mono&lt;String&gt; m2 = Mono.just(&quot;S2&quot;);\r\n\r\n        m1\r\n            .switchIfEmpty(Mono.error(new NotFoundException(&quot;User not found&quot;)))\r\n            .zipWith(m2, String::concat)\r\n            .as(StepVerifier::create)\r\n            .expectErrorSatisfies(throwable -&gt; assertThat(throwable)\r\n                .isInstanceOf(RuntimeException.class)\r\n                .hasMessage(&quot;some-error&quot;)\r\n            )\r\n            .verify();\r\n    }\r\n\r\n    @Test\r\n    void x4() {\r\n        Mono&lt;String&gt; m1 = Mono.empty();\r\n        Mono&lt;String&gt; m2 = Mono.just(&quot;S2&quot;);\r\n\r\n        m1\r\n            .switchIfEmpty(Mono.error(new NotFoundException(&quot;User not found&quot;)))\r\n            .zipWith(m2, String::concat)\r\n            .as(StepVerifier::create)\r\n            .expectErrorSatisfies(throwable -&gt; assertThat(throwable)\r\n                .isInstanceOf(NotFoundException.class)\r\n                .hasMessage(&quot;User not found&quot;)\r\n            )\r\n            .verify();\r\n    }\r\n```\r\n\r\nBtw, there is a super-handy documentation from reactor: https://projectreactor.io/docs/core/release/reference/#which-operator\r\n\r\nI am also wondering why you pass `Mono&lt;UserRequest&gt; user` - where does it come from and why you cannot use plain `UserRequest user`?\r\n\r\nAlso, your repository is suspicious - why `findById` returns a reactive object, while `save` does not? It looks like a blocking call, hence you loose benefits of webflux/reactor.","title":"How to write Update API in Spring web flux?","body":"<p>You can add <code>.zipWith(user, (foundUser, user) -&gt; ...</code> (or simples <code>.zipWith(user)</code> that returns <code>Tuple</code>).</p>\n<p>Samples:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    void x1() {\n        Mono&lt;String&gt; m1 = Mono.just(&quot;S1&quot;);\n        Mono&lt;String&gt; m2 = Mono.just(&quot;S2&quot;);\n\n        m1\n            .switchIfEmpty(Mono.error(new NotFoundException(&quot;User not found&quot;)))\n            .zipWith(m2, (s1, s2) -&gt; s1.concat(s2)) // can be simplified to 'String::concat'\n            .as(StepVerifier::create)\n            .assertNext(s -&gt; assertThat(s)\n                .isEqualTo(&quot;S1S2&quot;)\n            )\n            .verifyComplete();\n    }\n\n    @Test\n    void x2() {\n        Mono&lt;String&gt; m1 = Mono.just(&quot;S1&quot;);\n        Mono&lt;String&gt; m2 = Mono.error(new RuntimeException(&quot;some-error&quot;));\n\n        m1\n            .switchIfEmpty(Mono.error(new NotFoundException(&quot;User not found&quot;)))\n            .zipWith(m2, String::concat)\n            .as(StepVerifier::create)\n            .expectErrorSatisfies(throwable -&gt; assertThat(throwable)\n                .isInstanceOf(RuntimeException.class)\n                .hasMessage(&quot;some-error&quot;)\n            )\n            .verify();\n    }\n\n    @Test\n    void x3() {\n        Mono&lt;String&gt; m1 = Mono.error(new RuntimeException(&quot;some-error&quot;));\n        Mono&lt;String&gt; m2 = Mono.just(&quot;S2&quot;);\n\n        m1\n            .switchIfEmpty(Mono.error(new NotFoundException(&quot;User not found&quot;)))\n            .zipWith(m2, String::concat)\n            .as(StepVerifier::create)\n            .expectErrorSatisfies(throwable -&gt; assertThat(throwable)\n                .isInstanceOf(RuntimeException.class)\n                .hasMessage(&quot;some-error&quot;)\n            )\n            .verify();\n    }\n\n    @Test\n    void x4() {\n        Mono&lt;String&gt; m1 = Mono.empty();\n        Mono&lt;String&gt; m2 = Mono.just(&quot;S2&quot;);\n\n        m1\n            .switchIfEmpty(Mono.error(new NotFoundException(&quot;User not found&quot;)))\n            .zipWith(m2, String::concat)\n            .as(StepVerifier::create)\n            .expectErrorSatisfies(throwable -&gt; assertThat(throwable)\n                .isInstanceOf(NotFoundException.class)\n                .hasMessage(&quot;User not found&quot;)\n            )\n            .verify();\n    }\n</code></pre>\n<p>Btw, there is a super-handy documentation from reactor: <a href=\"https://projectreactor.io/docs/core/release/reference/#which-operator\" rel=\"nofollow noreferrer\">https://projectreactor.io/docs/core/release/reference/#which-operator</a></p>\n<p>I am also wondering why you pass <code>Mono&lt;UserRequest&gt; user</code> - where does it come from and why you cannot use plain <code>UserRequest user</code>?</p>\n<p>Also, your repository is suspicious - why <code>findById</code> returns a reactive object, while <code>save</code> does not? It looks like a blocking call, hence you loose benefits of webflux/reactor.</p>\n"},{"tags":[],"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671356984,"creation_date":1671312679,"answer_id":74837594,"question_id":74836120,"body_markdown":"&gt; // How to get passed user object from Mono&lt;UserRequest&gt;\r\n\r\nStart with that Mono (the repository calls are non-reactive operations anyway):\r\n\r\n    public Mono&lt;User&gt; updateUser(String userId, Mono&lt;UserRequest&gt; user){\r\n        return user.map(request -&gt; ...);\r\n    }\r\n\r\nRead: Once the UserRequest object is available, do ...","title":"How to write Update API in Spring web flux?","body":"<blockquote>\n<p>// How to get passed user object from Mono</p>\n</blockquote>\n<p>Start with that Mono (the repository calls are non-reactive operations anyway):</p>\n<pre><code>public Mono&lt;User&gt; updateUser(String userId, Mono&lt;UserRequest&gt; user){\n    return user.map(request -&gt; ...);\n}\n</code></pre>\n<p>Read: Once the UserRequest object is available, do ...</p>\n"}],"owner":{"account_id":6645589,"reputation":602,"user_id":5129821,"accept_rate":91,"display_name":"Dasun"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74837425,"answer_count":2,"score":0,"last_activity_date":1671356984,"creation_date":1671298546,"question_id":74836120,"body_markdown":"I am pretty new to Spring web flux reactive programming. So this is little confusing.\r\n\r\nI am writing update API with spring web flux. Passed request body tp the update method is a Mono of request. So My problem is How can I get the request body and perform with? . Please check the commented line in following code.\r\n\r\n    public Mono&lt;User&gt; updateUser(String userId, Mono&lt;UserRequest&gt; user){\r\n    \r\n        return userRepository.findById(userId)\r\n            .switchIfEmpty(Mono.error(new NotFoundException(&quot;User not found&quot;)))\r\n            .flatMap(foundUser -&gt; {\r\n                // How to get passed user object from Mono&lt;UserRequest&gt;\r\n                modelMapper.map(source, foundUser);\r\n                return Mono.just(userRepository.save(foundUser))\r\n            })\r\n    }\r\n\r\nThank you.","title":"How to write Update API in Spring web flux?","body":"<p>I am pretty new to Spring web flux reactive programming. So this is little confusing.</p>\n<p>I am writing update API with spring web flux. Passed request body tp the update method is a Mono of request. So My problem is How can I get the request body and perform with? . Please check the commented line in following code.</p>\n<pre><code>public Mono&lt;User&gt; updateUser(String userId, Mono&lt;UserRequest&gt; user){\n\n    return userRepository.findById(userId)\n        .switchIfEmpty(Mono.error(new NotFoundException(&quot;User not found&quot;)))\n        .flatMap(foundUser -&gt; {\n            // How to get passed user object from Mono&lt;UserRequest&gt;\n            modelMapper.map(source, foundUser);\n            return Mono.just(userRepository.save(foundUser))\n        })\n}\n</code></pre>\n<p>Thank you.</p>\n"},{"tags":["java","macos","command-line","terminal"],"answers":[{"comments":[{"owner":{"account_id":399875,"reputation":1008,"user_id":765523,"accept_rate":50,"display_name":"austin"},"score":2,"creation_date":1404945266,"post_id":5721558,"comment_id":38237743,"body_markdown":"mixing your solution with that of Moritz, if Safari is not your default browser use `open -a Safari &lt;url&gt;`","body":"mixing your solution with that of Moritz, if Safari is not your default browser use <code>open -a Safari &lt;url&gt;</code>"},{"owner":{"account_id":2625266,"reputation":563,"user_id":2272422,"display_name":"Joe Steele"},"score":0,"creation_date":1690477500,"post_id":5721558,"comment_id":135362842,"body_markdown":"This _sort_ of works. However it will also launch the default browser at the same time at least on Ventura. I have not yet found a solution that ONLY launches Safari when Safari is not configured as the default browser.","body":"This <i>sort</i> of works. However it will also launch the default browser at the same time at least on Ventura. I have not yet found a solution that ONLY launches Safari when Safari is not configured as the default browser."}],"tags":[],"owner":{"account_id":106291,"reputation":22384,"user_id":283200,"display_name":"Kai Sternad"},"comment_count":2,"down_vote_count":1,"up_vote_count":20,"is_accepted":true,"score":19,"last_activity_date":1303241107,"creation_date":1303241107,"answer_id":5721558,"question_id":5721528,"body_markdown":"If Safari is your default browser, you just use \r\n\r\n    open &lt;url&gt;\r\n\r\nfor example:\r\n    \r\n    open http://www.google.com\r\n\r\nYou can also use this command to open any file with its registered application.","title":"Terminal command to open Safari","body":"<p>If Safari is your default browser, you just use </p>\n\n<pre><code>open &lt;url&gt;\n</code></pre>\n\n<p>for example:</p>\n\n<pre><code>open http://www.google.com\n</code></pre>\n\n<p>You can also use this command to open any file with its registered application.</p>\n"},{"comments":[{"owner":{"account_id":298997,"reputation":5316,"user_id":605328,"accept_rate":87,"display_name":"Giannis"},"score":0,"creation_date":1303241966,"post_id":5721591,"comment_id":6542721,"body_markdown":"Could you tell me the difference between /user/bin/ open and the way @bunting suggested ?","body":"Could you tell me the difference between /user/bin/ open and the way @bunting suggested ?"},{"owner":{"account_id":173271,"reputation":14142,"user_id":401835,"display_name":"Moritz"},"score":0,"creation_date":1303242174,"post_id":5721591,"comment_id":6542769,"body_markdown":"`/usr/bin/open` is just the full path. You will need the full path if you use e.g. `ProcessBuilder` to execute it.","body":"<code>&#47;usr&#47;bin&#47;open</code> is just the full path. You will need the full path if you use e.g. <code>ProcessBuilder</code> to execute it."}],"tags":[],"owner":{"account_id":173271,"reputation":14142,"user_id":401835,"display_name":"Moritz"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1303241322,"creation_date":1303241322,"answer_id":5721591,"question_id":5721528,"body_markdown":"There are several ways to do this. The simplest way would be to use `/usr/bin/open`:\r\n\r\n    /usr/bin/open http://stackoverflow.com/\r\n\r\nwill open the URL in the standard browser or\r\n\r\n    /usr/bin/open -a Safari http://stackoverflow.com/\r\n\r\nwill explicitly use Safari.\r\n\r\nYou can also use AppleScript via the `javax.script` API (JSR 223) but I do not know the syntax right now.","title":"Terminal command to open Safari","body":"<p>There are several ways to do this. The simplest way would be to use <code>/usr/bin/open</code>:</p>\n\n<pre><code>/usr/bin/open http://stackoverflow.com/\n</code></pre>\n\n<p>will open the URL in the standard browser or</p>\n\n<pre><code>/usr/bin/open -a Safari http://stackoverflow.com/\n</code></pre>\n\n<p>will explicitly use Safari.</p>\n\n<p>You can also use AppleScript via the <code>javax.script</code> API (JSR 223) but I do not know the syntax right now.</p>\n"},{"comments":[{"owner":{"account_id":298997,"reputation":5316,"user_id":605328,"accept_rate":87,"display_name":"Giannis"},"score":0,"creation_date":1572340870,"post_id":58604297,"comment_id":103519988,"body_markdown":"Thats exactly the same as existing answer? :)","body":"Thats exactly the same as existing answer? :)"}],"tags":[],"owner":{"account_id":9512344,"reputation":756,"user_id":7069907,"display_name":"Antonio1996"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1572340275,"creation_date":1572340275,"answer_id":58604297,"question_id":5721528,"body_markdown":"You could use the `open` command on MacOS. (see `man open` for more information about this command).\r\n\r\nIn your case you can write something like that: `open -a Safari https://www.stackoverflow.com` and it works. (NB: Remember to specify the protocol!)\r\n\r\nIn addition, I wrote an useful script to interact with Safari from MacOS and one of the options of this script is exactly what you want, see it on GitHub here https://github.com/antoniolanza1996/openSafariFromTerminal","title":"Terminal command to open Safari","body":"<p>You could use the <code>open</code> command on MacOS. (see <code>man open</code> for more information about this command).</p>\n\n<p>In your case you can write something like that: <code>open -a Safari https://www.stackoverflow.com</code> and it works. (NB: Remember to specify the protocol!)</p>\n\n<p>In addition, I wrote an useful script to interact with Safari from MacOS and one of the options of this script is exactly what you want, see it on GitHub here <a href=\"https://github.com/antoniolanza1996/openSafariFromTerminal\" rel=\"nofollow noreferrer\">https://github.com/antoniolanza1996/openSafariFromTerminal</a></p>\n"}],"owner":{"account_id":298997,"reputation":5316,"user_id":605328,"accept_rate":87,"display_name":"Giannis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29097,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"accepted_answer_id":5721558,"answer_count":3,"score":10,"last_activity_date":1671356461,"creation_date":1303240860,"question_id":5721528,"body_markdown":"Is there a way to open a new Safari tab with a given URL using a terminal command?\r\nI&#39;m only interested for it to work on OSX at this point. \r\n\r\nI want to use that command to open a new tab from a java application.","title":"Terminal command to open Safari","body":"<p>Is there a way to open a new Safari tab with a given URL using a terminal command?\nI'm only interested for it to work on OSX at this point.</p>\n<p>I want to use that command to open a new tab from a java application.</p>\n"},{"tags":["java","annotations"],"answers":[{"comments":[{"owner":{"account_id":112033,"reputation":9456,"user_id":295675,"accept_rate":69,"display_name":"David Liu"},"score":0,"creation_date":1509997674,"post_id":47109848,"comment_id":81239252,"body_markdown":"Ah, didn&#39;t know that you could put annotations within the generic itself! Thanks!","body":"Ah, didn&#39;t know that you could put annotations within the generic itself! Thanks!"},{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":1,"creation_date":1647380477,"post_id":47109848,"comment_id":126355994,"body_markdown":"This doesn&#39;t seem to work, at least no on Intellij/Java 8.  Perhaps annotating types in a generic came later?","body":"This doesn&#39;t seem to work, at least no on Intellij/Java 8.  Perhaps annotating types in a generic came later?"},{"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"score":1,"creation_date":1651876108,"post_id":47109848,"comment_id":127477055,"body_markdown":"This does work on Java 8.  Regarding IntelliJ, you need to use a separate tool, the Checker Framework, which the answer links to.  You didn&#39;t say what the problem was other than &quot;doesn&#39;t seem to work&quot;; did you import the `@Nullable` annotation?","body":"This does work on Java 8.  Regarding IntelliJ, you need to use a separate tool, the Checker Framework, which the answer links to.  You didn&#39;t say what the problem was other than &quot;doesn&#39;t seem to work&quot;; did you import the <code>@Nullable</code> annotation?"}],"tags":[],"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"comment_count":3,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1671356334,"creation_date":1509792167,"answer_id":47109848,"question_id":47103586,"body_markdown":"To specify that a list may contain null elements, declare the list element types using Java&#39;s type annotation feature.  For example:\r\n\r\n```java\r\nList&lt;@Nullable String&gt; mylist;\r\n```\r\n\r\nMany tools exist for checking nullness, and each one defines its own `@Nullable` annotation.  Many of the tools can read and interpret other tools&#39; annotations.\r\n\r\nMost of the tools make `@NonNull` the default annotation, so if you just write `List&lt;String&gt;` the tool interprets that as `List&lt;@NonNull String&gt;`.  This choice reduces the clutter in your code.\r\n\r\nA list of the different tools and their annotations can be found in the [Checker Framework manual](https://checkerframework.org/manual/#nullness-related-work).\r\n\r\nSome of the tools are bug detectors that find *some* null pointer exceptions, and others are verification tools that guarantee that your code has *no* null pointer exceptions.  The right tool for you depends on your situation; here is [a comparison](https://checkerframework.org/manual/#other-tools) of the two types of tools.\r\n","title":"Is there a Java annotation for noting that a List may contain nulls?","body":"<p>To specify that a list may contain null elements, declare the list element types using Java's type annotation feature.  For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;@Nullable String&gt; mylist;\n</code></pre>\n<p>Many tools exist for checking nullness, and each one defines its own <code>@Nullable</code> annotation.  Many of the tools can read and interpret other tools' annotations.</p>\n<p>Most of the tools make <code>@NonNull</code> the default annotation, so if you just write <code>List&lt;String&gt;</code> the tool interprets that as <code>List&lt;@NonNull String&gt;</code>.  This choice reduces the clutter in your code.</p>\n<p>A list of the different tools and their annotations can be found in the <a href=\"https://checkerframework.org/manual/#nullness-related-work\" rel=\"nofollow noreferrer\">Checker Framework manual</a>.</p>\n<p>Some of the tools are bug detectors that find <em>some</em> null pointer exceptions, and others are verification tools that guarantee that your code has <em>no</em> null pointer exceptions.  The right tool for you depends on your situation; here is <a href=\"https://checkerframework.org/manual/#other-tools\" rel=\"nofollow noreferrer\">a comparison</a> of the two types of tools.</p>\n"},{"tags":[],"owner":{"account_id":7060392,"reputation":126,"user_id":5405874,"display_name":"Umeshsolanki"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618395720,"creation_date":1618395720,"answer_id":67089867,"question_id":47103586,"body_markdown":"It&#39;ll lead to compilation error. \r\n\r\n&gt; &#39;@Nullable&#39; not applicable to type use\r\n\r\nWe can&#39;t put @Nullable annotation in type definition. Optional class can help here.   \r\n\r\n    List&lt;@Nullable String&gt; mylist;\r\n","title":"Is there a Java annotation for noting that a List may contain nulls?","body":"<p>It'll lead to compilation error.</p>\n<blockquote>\n<p>'@Nullable' not applicable to type use</p>\n</blockquote>\n<p>We can't put @Nullable annotation in type definition. Optional class can help here.</p>\n<pre><code>List&lt;@Nullable String&gt; mylist;\n</code></pre>\n"}],"owner":{"account_id":112033,"reputation":9456,"user_id":295675,"accept_rate":69,"display_name":"David Liu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":988,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":47109848,"answer_count":2,"score":2,"last_activity_date":1671356334,"creation_date":1509739035,"question_id":47103586,"body_markdown":"Is there something like a @ContainsNulls annotation that notes that there may be nulls inside a List?","title":"Is there a Java annotation for noting that a List may contain nulls?","body":"<p>Is there something like a @ContainsNulls annotation that notes that there may be nulls inside a List?</p>\n"},{"tags":["java","runtime-error"],"comments":[{"owner":{"display_name":"user15314575"},"score":0,"creation_date":1671351377,"post_id":74839835,"comment_id":132077878,"body_markdown":"`return gcd(y, x % y)` in `long  gcd(long x, long y)` will do the trick. However, your current code results in a divide by 0 error. For calculating GCD and LCM look at this: https://stackoverflow.com/questions/4201860/how-to-find-gcd-lcm-on-a-set-of-numbers","body":"<code>return gcd(y, x % y)</code> in <code>long  gcd(long x, long y)</code> will do the trick. However, your current code results in a divide by 0 error. For calculating GCD and LCM look at this: <a href=\"https://stackoverflow.com/questions/4201860/how-to-find-gcd-lcm-on-a-set-of-numbers\" title=\"how to find gcd lcm on a set of numbers\">stackoverflow.com/questions/4201860/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":26845407,"reputation":19,"user_id":20431236,"display_name":"prabin chand"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1671350025,"creation_date":1671350025,"answer_id":74839858,"question_id":74839835,"body_markdown":"If you divide some digit by 0  it will throw an error known as : **java.lang.ArithmeticException**\r\n\r\n&gt;Solution \r\n1. try, catch block\r\n2. in catch block you can show msg to user (&quot;Number cannot be divided by 0&quot;)","title":"I am facing an error in the following java code can anyone help me out","body":"<p>If you divide some digit by 0  it will throw an error known as : <strong>java.lang.ArithmeticException</strong></p>\n<blockquote>\n<p>Solution</p>\n</blockquote>\n<ol>\n<li>try, catch block</li>\n<li>in catch block you can show msg to user (&quot;Number cannot be divided by 0&quot;)</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":4440515,"reputation":1161,"user_id":3615143,"accept_rate":42,"display_name":"YvesHendseth"},"score":0,"creation_date":1671538214,"post_id":74840229,"comment_id":132116387,"body_markdown":"This is not really an answer, more a hint/idea. These kind of message should be placed as a comment to the question, not as an answer.","body":"This is not really an answer, more a hint/idea. These kind of message should be placed as a comment to the question, not as an answer."}],"tags":[],"owner":{"account_id":26916427,"reputation":1,"user_id":20491133,"display_name":"Gil Elbaz"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671355021,"creation_date":1671355021,"answer_id":74840229,"question_id":74839835,"body_markdown":"If I&#39;m getting this right, it looks like there is a problem with your function &quot;gcd&quot;: the recursive loop will never end \r\n","title":"I am facing an error in the following java code can anyone help me out","body":"<p>If I'm getting this right, it looks like there is a problem with your function &quot;gcd&quot;: the recursive loop will never end</p>\n"}],"owner":{"account_id":26059418,"reputation":1,"user_id":19761018,"display_name":"Neel Mishra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1671355713,"creation_date":1671349709,"question_id":74839835,"body_markdown":"```java\r\nclass Solution {\r\n  \r\n    long  maxGcd(int  N) {\r\n        long  a = (N * (N - 1))/ gcd(N,N-1);\r\n        long  b = ((N-2)*(N-3))/ gcd(N-2,N-3);\r\n        long  c = (a*b)/ gcd(a,b);\r\n        long  num = N*(N-1);\r\n        int count = 0;\r\n        for (int i = N - 2; i &gt;= 1; i--) {\r\n            if (gcd(num, i) == 1) {\r\n                num *= i;\r\n                count++;\r\n            }\r\n            if (count == 2) break;\r\n        }\r\n        return  Math.max(c, num);\r\n    }\r\n\r\n    long  gcd(long x, long y)\r\n    {\r\n        if(y==0)\r\n        return x;\r\n        return gcd(y,x*y);\r\n    }\r\n}\r\n```\r\n\r\nError:\r\n&gt;Exception in thread &quot;main&quot; java.lang.ArithmeticException: / by zero\r\n\r\nI think I am getting this error because if, at some point, b=0  then c will be undefined. I tried changing it to\r\n```java\r\nif(b!=0){\r\n    long c =(a*b)/gcd(a,b)\r\n```\r\nbut after running it, gives an error saying \r\n```none\r\nprog.java:43: error: cannot find symbol\r\n        return  Math.max(c, num);\r\n```\r\nCan anyone help me with the solution of this error?\r\n\r\nGiven an integer N. Find maximum LCM (Least Common Multiple) that can be obtained from four numbers less than or equal to N.  \r\nNote: Duplicate numbers can be used.\r\n\r\nExample 1:\r\n\r\nInput:  \r\nN = 4  \r\nOutput: 12  \r\nExplanation:  \r\nThe four numbers can be [4,4,3,2] or\r\n[4,4,4,3], etc. It can be shown that 12 is\r\nthe maximum LCM of four numbers that can\r\nbe obtained from numbers less than or equal \r\nto 4.\r\n\r\nI have tried the above problem but it was giving me unexpected error.","title":"I am facing an error in the following java code can anyone help me out","body":"<pre class=\"lang-java prettyprint-override\"><code>class Solution {\n  \n    long  maxGcd(int  N) {\n        long  a = (N * (N - 1))/ gcd(N,N-1);\n        long  b = ((N-2)*(N-3))/ gcd(N-2,N-3);\n        long  c = (a*b)/ gcd(a,b);\n        long  num = N*(N-1);\n        int count = 0;\n        for (int i = N - 2; i &gt;= 1; i--) {\n            if (gcd(num, i) == 1) {\n                num *= i;\n                count++;\n            }\n            if (count == 2) break;\n        }\n        return  Math.max(c, num);\n    }\n\n    long  gcd(long x, long y)\n    {\n        if(y==0)\n        return x;\n        return gcd(y,x*y);\n    }\n}\n</code></pre>\n<p>Error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.ArithmeticException: / by zero</p>\n</blockquote>\n<p>I think I am getting this error because if, at some point, b=0  then c will be undefined. I tried changing it to</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(b!=0){\n    long c =(a*b)/gcd(a,b)\n</code></pre>\n<p>but after running it, gives an error saying</p>\n<pre class=\"lang-none prettyprint-override\"><code>prog.java:43: error: cannot find symbol\n        return  Math.max(c, num);\n</code></pre>\n<p>Can anyone help me with the solution of this error?</p>\n<p>Given an integer N. Find maximum LCM (Least Common Multiple) that can be obtained from four numbers less than or equal to N.<br />\nNote: Duplicate numbers can be used.</p>\n<p>Example 1:</p>\n<p>Input:<br />\nN = 4<br />\nOutput: 12<br />\nExplanation:<br />\nThe four numbers can be [4,4,3,2] or\n[4,4,4,3], etc. It can be shown that 12 is\nthe maximum LCM of four numbers that can\nbe obtained from numbers less than or equal\nto 4.</p>\n<p>I have tried the above problem but it was giving me unexpected error.</p>\n"},{"tags":["java","gradle","java-17"],"answers":[{"tags":[],"owner":{"account_id":4231656,"reputation":1566,"user_id":3463844,"display_name":"Esteban"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671355649,"creation_date":1671355649,"answer_id":74840295,"question_id":74840276,"body_markdown":"I fixed the issue upgrading Gradle to 7.6\r\n\r\n    ------------------------------------------------------------\r\n    Gradle 7.6\r\n    ------------------------------------------------------------\r\n    \r\n    Build time:   2022-11-25 13:35:10 UTC\r\n    Revision:     daece9dbc5b79370cc8e4fd6fe4b2cd400e150a8\r\n    \r\n    Kotlin:       1.7.10\r\n    Groovy:       3.0.13\r\n    Ant:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\r\n    JVM:          17.0.5 (Amazon.com Inc. 17.0.5+8-LTS)\r\n    OS:           Windows 10 10.0 amd64","title":"Gradle generated Unsupported class file major version 63","body":"<p>I fixed the issue upgrading Gradle to 7.6</p>\n<pre><code>------------------------------------------------------------\nGradle 7.6\n------------------------------------------------------------\n\nBuild time:   2022-11-25 13:35:10 UTC\nRevision:     daece9dbc5b79370cc8e4fd6fe4b2cd400e150a8\n\nKotlin:       1.7.10\nGroovy:       3.0.13\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\nJVM:          17.0.5 (Amazon.com Inc. 17.0.5+8-LTS)\nOS:           Windows 10 10.0 amd64\n</code></pre>\n"}],"owner":{"account_id":4231656,"reputation":1566,"user_id":3463844,"display_name":"Esteban"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1362,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74840295,"answer_count":1,"score":0,"last_activity_date":1671355649,"creation_date":1671355458,"question_id":74840276,"body_markdown":"I&#39;m trying to migrate from Java 8 to Java 17 and I&#39;m having some issues with Gradle.\r\n\r\nHere is my java version:\r\n\r\n    openjdk 17.0.5 2022-10-18 LTS\r\n    OpenJDK Runtime Environment Corretto-17.0.5.8.1 (build 17.0.5+8-LTS)\r\n    OpenJDK 64-Bit Server VM Corretto-17.0.5.8.1 (build 17.0.5+8-LTS, mixed mode, sharing)\r\n\r\nHere is my gradle version\r\n\r\n    ------------------------------------------------------------\r\n    Gradle 7.5.1\r\n    ------------------------------------------------------------\r\n    \r\n    Build time:   2022-08-05 21:17:56 UTC\r\n    Revision:     d1daa0cbf1a0103000b71484e1dbfe096e095918\r\n    \r\n    Kotlin:       1.6.21\r\n    Groovy:       3.0.10\r\n    Ant:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\r\n    JVM:          17.0.5 (Amazon.com Inc. 17.0.5+8-LTS)\r\n    OS:           Windows 10 10.0 amd64\r\n\r\nI&#39;m also using Eclipse 2022-12 and when I try to get a list of tasks with the Gradle plugin, I get\r\n\r\n    Execution failed for task &#39;:buildSrc:compileGroovyPlugins&#39;.\r\n    &gt; BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;precompiled_ProjectbJavaConventions&#39; Unsupported class file major version 63\r\n\r\nAny idea of how to fix this...\r\nThanks!\r\n","title":"Gradle generated Unsupported class file major version 63","body":"<p>I'm trying to migrate from Java 8 to Java 17 and I'm having some issues with Gradle.</p>\n<p>Here is my java version:</p>\n<pre><code>openjdk 17.0.5 2022-10-18 LTS\nOpenJDK Runtime Environment Corretto-17.0.5.8.1 (build 17.0.5+8-LTS)\nOpenJDK 64-Bit Server VM Corretto-17.0.5.8.1 (build 17.0.5+8-LTS, mixed mode, sharing)\n</code></pre>\n<p>Here is my gradle version</p>\n<pre><code>------------------------------------------------------------\nGradle 7.5.1\n------------------------------------------------------------\n\nBuild time:   2022-08-05 21:17:56 UTC\nRevision:     d1daa0cbf1a0103000b71484e1dbfe096e095918\n\nKotlin:       1.6.21\nGroovy:       3.0.10\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\nJVM:          17.0.5 (Amazon.com Inc. 17.0.5+8-LTS)\nOS:           Windows 10 10.0 amd64\n</code></pre>\n<p>I'm also using Eclipse 2022-12 and when I try to get a list of tasks with the Gradle plugin, I get</p>\n<pre><code>Execution failed for task ':buildSrc:compileGroovyPlugins'.\n&gt; BUG! exception in phase 'semantic analysis' in source unit 'precompiled_ProjectbJavaConventions' Unsupported class file major version 63\n</code></pre>\n<p>Any idea of how to fix this...\nThanks!</p>\n"},{"tags":["java","mocking","mockito","annotations","powermock"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1671208437,"post_id":74826749,"comment_id":132056899,"body_markdown":"`eq`, `any` and all other argument matchers always return `null`.","body":"<code>eq</code>, <code>any</code> and all other argument matchers always return <code>null</code>."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1671208469,"post_id":74826749,"comment_id":132056910,"body_markdown":"Does this answer your question? [PowerMockito is calling real method instead of mocked private one](https://stackoverflow.com/questions/42018713/powermockito-is-calling-real-method-instead-of-mocked-private-one)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/42018713/powermockito-is-calling-real-method-instead-of-mocked-private-one\">PowerMockito is calling real method instead of mocked private one</a>"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1671208532,"post_id":74826749,"comment_id":132056925,"body_markdown":"You could try the `PowerMockito.doReturn(…).when(…)` form instead of `when(…).thenReturn(…)`.","body":"You could try the <code>PowerMockito.doReturn(…).when(…)</code> form instead of <code>when(…).thenReturn(…)</code>."},{"owner":{"account_id":15064613,"reputation":596,"user_id":10872189,"display_name":"Ugo Evola"},"score":0,"creation_date":1671208886,"post_id":74826749,"comment_id":132057016,"body_markdown":"Thanks @knittl \nthat&#39;s work for me with PowerMockito.doReturn(…).when(…)","body":"Thanks @knittl  that&#39;s work for me with PowerMockito.doReturn(…).when(…)"},{"owner":{"account_id":15064613,"reputation":596,"user_id":10872189,"display_name":"Ugo Evola"},"score":0,"creation_date":1671208999,"post_id":74826749,"comment_id":132057056,"body_markdown":"I just need to add @Spy on my service","body":"I just need to add @Spy on my service"}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671355549,"creation_date":1671355549,"answer_id":74840285,"question_id":74826749,"body_markdown":"This has nothing to do with the annotation really, but with calling the real method with null values.\r\n\r\n```\r\nPowerMockito.when(service, &quot;computeDataModel&quot;, eq(user), eq(configuration), eq(providedDataModel))\r\n    .thenReturn(dataModel);\r\n```\r\n\r\ncalls the real method.\r\n\r\n`eq` is a matcher and returns `null`, effectively calling your method with 3 null arguments.\r\n\r\nIf you want to avoid calling your real method, you could use a different method of PowerMockito:\r\n\r\n```\r\nPowerMockito.doReturn(dataModel)\r\n    .when(service, &quot;computeDataModel&quot;, eq(user), eq(configuration), eq(providedDataModel));\r\n```","title":"org.jetbrains.annotations @NotNull interfare with Mockito when mock a private method","body":"<p>This has nothing to do with the annotation really, but with calling the real method with null values.</p>\n<pre><code>PowerMockito.when(service, &quot;computeDataModel&quot;, eq(user), eq(configuration), eq(providedDataModel))\n    .thenReturn(dataModel);\n</code></pre>\n<p>calls the real method.</p>\n<p><code>eq</code> is a matcher and returns <code>null</code>, effectively calling your method with 3 null arguments.</p>\n<p>If you want to avoid calling your real method, you could use a different method of PowerMockito:</p>\n<pre><code>PowerMockito.doReturn(dataModel)\n    .when(service, &quot;computeDataModel&quot;, eq(user), eq(configuration), eq(providedDataModel));\n</code></pre>\n"}],"owner":{"account_id":15064613,"reputation":596,"user_id":10872189,"display_name":"Ugo Evola"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74840285,"answer_count":1,"score":0,"last_activity_date":1671355549,"creation_date":1671205697,"question_id":74826749,"body_markdown":"I&#39;m trying to mock a private method of my service with powermock by passing it the mockito matcher &quot;eq&quot; for its arguments. One of those argument is annotated with the @NotNull decorator from jetbrains.\r\n\r\nWhen I run the test, I get the following error:\r\n\r\n**java.lang.IllegalArgumentException: Argument for @NotNull parameter X of Y must not be null**\r\n\r\nTarget for testing\r\n```java\r\nimport org.jetbrains.annotations.NotNull;\r\n...\r\n\r\nclass Service {\r\n...\r\n  private Map&lt;String, Object&gt; computeDataModel(User user, @NotNull Configuration configuration, Object providedDataModel) {...\r\n}\r\n```\r\n\r\nTest Class\r\n```java\r\nPowerMockito.when(service, &quot;computeDataModel&quot;, eq(user), eq(configuration), eq(providedDataModel)).thenReturn(dataModel);\r\n```\r\n\r\nI also tried with any(Configuration.class) but without success.\r\n\r\nDo you know how to process ?\r\nThank you for your attention","title":"org.jetbrains.annotations @NotNull interfare with Mockito when mock a private method","body":"<p>I'm trying to mock a private method of my service with powermock by passing it the mockito matcher &quot;eq&quot; for its arguments. One of those argument is annotated with the @NotNull decorator from jetbrains.</p>\n<p>When I run the test, I get the following error:</p>\n<p><strong>java.lang.IllegalArgumentException: Argument for @NotNull parameter X of Y must not be null</strong></p>\n<p>Target for testing</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.jetbrains.annotations.NotNull;\n...\n\nclass Service {\n...\n  private Map&lt;String, Object&gt; computeDataModel(User user, @NotNull Configuration configuration, Object providedDataModel) {...\n}\n</code></pre>\n<p>Test Class</p>\n<pre class=\"lang-java prettyprint-override\"><code>PowerMockito.when(service, &quot;computeDataModel&quot;, eq(user), eq(configuration), eq(providedDataModel)).thenReturn(dataModel);\n</code></pre>\n<p>I also tried with any(Configuration.class) but without success.</p>\n<p>Do you know how to process ?\nThank you for your attention</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1671340943,"post_id":74838895,"comment_id":132076793,"body_markdown":"Please, share your **attempt** and specify the problem you&#39;ve encountered. Every question on StackOverflow is expected to demonstrate an effort. See [How do I ask a good question?](https://stackoverflow.com/help/how-to-ask)","body":"Please, share your <b>attempt</b> and specify the problem you&#39;ve encountered. Every question on StackOverflow is expected to demonstrate an effort. See <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a>"}],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1671338235,"creation_date":1671338235,"answer_id":74839153,"question_id":74838895,"body_markdown":"I will start off by saying that [`Stream::flatMap`][1] is definitely a weird option to choose. There are way better options, like just using a plain [`Stream::map`][2], or better yet, [`Collectors::toMap`][3]. In fact, I&#39;d go so far as to say that using [`Stream::flatMap`][1] would be a misuse of the library and probably something that would get red-flagged during a code review.\r\n\r\nThat said, if you must use a [`Stream::flatMap`][1], then here is how I would do it.\r\n\r\n```java\r\n\r\n   private void soq_20221217() // https://stackoverflow.com/questions/74838895/java8-flatmap-mapstring-liststring-to-mapstring-integer-where-the-int\r\n   {\r\n   \r\n      //https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#summingInt-java.util.function.ToIntFunction-\r\n      final Map&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\r\n      \r\n      map.put(&quot;abc&quot;, List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;));\r\n      map.put(&quot;defg&quot;, List.of(&quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;));\r\n      map.put(&quot;hijkl&quot;, List.of(&quot;h&quot;, &quot;i&quot;, &quot;j&quot;, &quot;k&quot;, &quot;l&quot;));\r\n      \r\n      final \r\n         Map&lt;String, Integer&gt; \r\n         //var \r\n         counts = \r\n            map\r\n               .entrySet()\r\n               .stream()\r\n               .flatMap(each -&gt; Stream.of(Map.entry(each.getKey(), each.getValue().size())))\r\n               .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue))\r\n               ;\r\n         \r\n      counts.entrySet().forEach(System.out::println);\r\n   \r\n   }\r\n   \r\n```\r\n\r\nBut like I said, the above is kind of undesirable. Here is a better way in my opinion. It&#39;s simpler too.\r\n\r\n```java\r\n\r\n   private void soq_20221217_better() // https://stackoverflow.com/questions/74838895/java8-flatmap-mapstring-liststring-to-mapstring-integer-where-the-int\r\n   {\r\n   \r\n      //https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#summingInt-java.util.function.ToIntFunction-\r\n      final Map&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\r\n      \r\n      map.put(&quot;abc&quot;, List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;));\r\n      map.put(&quot;defg&quot;, List.of(&quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;));\r\n      map.put(&quot;hijkl&quot;, List.of(&quot;h&quot;, &quot;i&quot;, &quot;j&quot;, &quot;k&quot;, &quot;l&quot;));\r\n      \r\n      final \r\n         Map&lt;String, Integer&gt; \r\n         //var \r\n         counts = \r\n            map\r\n               .entrySet()\r\n               .stream()\r\n               .collect(Collectors.toMap(Map.Entry::getKey, (each) -&gt; each.getValue().size()))\r\n               ;\r\n         \r\n      counts.entrySet().forEach(System.out::println);\r\n   \r\n   }\r\n\r\n```\r\n\r\nIgnoring the fact that it is one less line of code, it&#39;s also better because, unlike the first example, it follows the rules.\r\n\r\nThe entire point of [`Stream::flatMap`][1] is that sometimes, you have a Stream of objects, where each of those objects is also capable of being stream&#39;ed in some way. So, you call [`Stream::flatMap`][1] to map each object into a Stream, then merge each of those streams into your current one (also called flattening).\r\n\r\nFor example, you have a `Stream&lt;String, List&lt;String&gt;&gt;`. A `List&lt;String&gt;` can be stream&#39;ed, so I can understand why you might think to do that.\r\n\r\nHowever, your primary goal here is to go from `Map&lt;String, List&lt;String&gt;&gt;` to a `Map&lt;String, Integer&gt;`. Yes, you can stream the `List`, but what would that give you? How would streaming the `List&lt;String&gt;` help you get to your goal?\r\n\r\nAs I showed, there are some roundabout ways of using [`Stream::flatMap`][1] to get to your goal, but there is a perfectly useful [`List::size`][4] function that can directly take you to your answer. Just use that function, and group your elements into a `Map&lt;String, Integer&gt;`. Job done.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#flatMap-java.util.function.Function-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#map-java.util.function.Function-\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toMap-java.util.function.Function-java.util.function.Function-\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/List.html#size--","title":"Java8: flatMap() Map&lt;String, List&lt;String&gt;&gt; to Map&lt;String, Integer&gt; where the Integer is the size of List&lt;String&gt; in initial map?","body":"<p>I will start off by saying that <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#flatMap-java.util.function.Function-\" rel=\"noreferrer\"><code>Stream::flatMap</code></a> is definitely a weird option to choose. There are way better options, like just using a plain <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#map-java.util.function.Function-\" rel=\"noreferrer\"><code>Stream::map</code></a>, or better yet, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toMap-java.util.function.Function-java.util.function.Function-\" rel=\"noreferrer\"><code>Collectors::toMap</code></a>. In fact, I'd go so far as to say that using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#flatMap-java.util.function.Function-\" rel=\"noreferrer\"><code>Stream::flatMap</code></a> would be a misuse of the library and probably something that would get red-flagged during a code review.</p>\n<p>That said, if you must use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#flatMap-java.util.function.Function-\" rel=\"noreferrer\"><code>Stream::flatMap</code></a>, then here is how I would do it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n   private void soq_20221217() // https://stackoverflow.com/questions/74838895/java8-flatmap-mapstring-liststring-to-mapstring-integer-where-the-int\n   {\n   \n      //https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#summingInt-java.util.function.ToIntFunction-\n      final Map&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\n      \n      map.put(&quot;abc&quot;, List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;));\n      map.put(&quot;defg&quot;, List.of(&quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;));\n      map.put(&quot;hijkl&quot;, List.of(&quot;h&quot;, &quot;i&quot;, &quot;j&quot;, &quot;k&quot;, &quot;l&quot;));\n      \n      final \n         Map&lt;String, Integer&gt; \n         //var \n         counts = \n            map\n               .entrySet()\n               .stream()\n               .flatMap(each -&gt; Stream.of(Map.entry(each.getKey(), each.getValue().size())))\n               .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue))\n               ;\n         \n      counts.entrySet().forEach(System.out::println);\n   \n   }\n   \n</code></pre>\n<p>But like I said, the above is kind of undesirable. Here is a better way in my opinion. It's simpler too.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n   private void soq_20221217_better() // https://stackoverflow.com/questions/74838895/java8-flatmap-mapstring-liststring-to-mapstring-integer-where-the-int\n   {\n   \n      //https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#summingInt-java.util.function.ToIntFunction-\n      final Map&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\n      \n      map.put(&quot;abc&quot;, List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;));\n      map.put(&quot;defg&quot;, List.of(&quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;));\n      map.put(&quot;hijkl&quot;, List.of(&quot;h&quot;, &quot;i&quot;, &quot;j&quot;, &quot;k&quot;, &quot;l&quot;));\n      \n      final \n         Map&lt;String, Integer&gt; \n         //var \n         counts = \n            map\n               .entrySet()\n               .stream()\n               .collect(Collectors.toMap(Map.Entry::getKey, (each) -&gt; each.getValue().size()))\n               ;\n         \n      counts.entrySet().forEach(System.out::println);\n   \n   }\n\n</code></pre>\n<p>Ignoring the fact that it is one less line of code, it's also better because, unlike the first example, it follows the rules.</p>\n<p>The entire point of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#flatMap-java.util.function.Function-\" rel=\"noreferrer\"><code>Stream::flatMap</code></a> is that sometimes, you have a Stream of objects, where each of those objects is also capable of being stream'ed in some way. So, you call <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#flatMap-java.util.function.Function-\" rel=\"noreferrer\"><code>Stream::flatMap</code></a> to map each object into a Stream, then merge each of those streams into your current one (also called flattening).</p>\n<p>For example, you have a <code>Stream&lt;String, List&lt;String&gt;&gt;</code>. A <code>List&lt;String&gt;</code> can be stream'ed, so I can understand why you might think to do that.</p>\n<p>However, your primary goal here is to go from <code>Map&lt;String, List&lt;String&gt;&gt;</code> to a <code>Map&lt;String, Integer&gt;</code>. Yes, you can stream the <code>List</code>, but what would that give you? How would streaming the <code>List&lt;String&gt;</code> help you get to your goal?</p>\n<p>As I showed, there are some roundabout ways of using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#flatMap-java.util.function.Function-\" rel=\"noreferrer\"><code>Stream::flatMap</code></a> to get to your goal, but there is a perfectly useful <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#size--\" rel=\"noreferrer\"><code>List::size</code></a> function that can directly take you to your answer. Just use that function, and group your elements into a <code>Map&lt;String, Integer&gt;</code>. Job done.</p>\n"},{"tags":[],"owner":{"account_id":11253290,"reputation":1289,"user_id":9167731,"display_name":"Semyon Kirekov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671354449,"creation_date":1671354449,"answer_id":74840184,"question_id":74838895,"body_markdown":"```java\r\nMap&lt;String, List&lt;String&gt;&gt; map = ...;\r\nMap&lt;String, Integer&gt; result = \r\n    map.entrySet()\r\n       .stream()\r\n       .collect(toMap(Map.Entry::getKey, e -&gt; e.getValue().size()));\r\n```","title":"Java8: flatMap() Map&lt;String, List&lt;String&gt;&gt; to Map&lt;String, Integer&gt; where the Integer is the size of List&lt;String&gt; in initial map?","body":"<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, List&lt;String&gt;&gt; map = ...;\nMap&lt;String, Integer&gt; result = \n    map.entrySet()\n       .stream()\n       .collect(toMap(Map.Entry::getKey, e -&gt; e.getValue().size()));\n</code></pre>\n"}],"owner":{"account_id":20833547,"reputation":1212,"user_id":15302273,"display_name":"stacktrace2234"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1671380209,"answer_count":2,"score":-1,"last_activity_date":1671354449,"creation_date":1671332950,"question_id":74838895,"body_markdown":"So if I have a map:\r\n\r\n`Map&lt;String, List&lt;String&gt;&gt;` I want to end up with a map that holds the Key and the size of the list:\r\n\r\n`Map&lt;String, Integer&gt;`?\r\n\r\nAny good way to end up with this using the flatMap() of Java 8 streams?","title":"Java8: flatMap() Map&lt;String, List&lt;String&gt;&gt; to Map&lt;String, Integer&gt; where the Integer is the size of List&lt;String&gt; in initial map?","body":"<p>So if I have a map:</p>\n<p><code>Map&lt;String, List&lt;String&gt;&gt;</code> I want to end up with a map that holds the Key and the size of the list:</p>\n<p><code>Map&lt;String, Integer&gt;</code>?</p>\n<p>Any good way to end up with this using the flatMap() of Java 8 streams?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"score":0,"creation_date":1671352624,"post_id":74840015,"comment_id":132078021,"body_markdown":"`doctors` is null at `for (Doctor doctor : doctors) {...`. You can avoid the exception by putting a null check before this. However, to ensure the desired functionality - check if the `manager` is initialized properly and is returning the values you are expecting here.","body":"<code>doctors</code> is null at <code>for (Doctor doctor : doctors) {...</code>. You can avoid the exception by putting a null check before this. However, to ensure the desired functionality - check if the <code>manager</code> is initialized properly and is returning the values you are expecting here."}],"answers":[{"tags":[],"owner":{"account_id":3801293,"reputation":2150,"user_id":3154883,"display_name":"Brother"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671352926,"creation_date":1671352926,"answer_id":74840077,"question_id":74840015,"body_markdown":"The problem lies in your constructor.\r\n\r\nYou are creating the manager, but never instantiating the doctors list there.\r\n```\r\npublic WestminsterSkinConsultationManagerGUI() {\r\n        // Initialize the manager\r\n        manager = new WestminsterSkinConsultationManager();\r\n        this.doctors = new ArrayList&lt;Doctor&gt;();\r\n```\r\ninstead of are instantiating the local `this.doctors` of your JFrame class `WestminsterSkinConsultationManagerGUI`.\r\n\r\nAnd then, you are using the manager one on the loop:\r\n```\r\nList&lt;Doctor&gt; doctors = manager.getDoctors();\r\n```\r\nIf the idea is the manager controlling the doctors list, remove the local one and change the constructor of `WestminsterSkinConsultationManagerGUI`:\r\n```\r\npublic WestminsterSkinConsultationManagerGUI() {\r\n        // Initialize the manager\r\n        manager = new WestminsterSkinConsultationManager();\r\n        ...\r\n}\r\n```\r\nand internally on `WestminsterSkinConsultationManager` it creates the doctors list, like:\r\n```\r\npublic WestminsterSkinConsultationManager() {\r\n  this.doctors = new ArrayList&lt;Doctor&gt;();\r\n}\r\n```\r\nThis will avoid the doctors issue of being null.\r\nAlso, remove the local doctors of your JFrame class to avoid this confusion =)","title":"Cannot invoke &quot;java.util.List.iterator()&quot; error","body":"<p>The problem lies in your constructor.</p>\n<p>You are creating the manager, but never instantiating the doctors list there.</p>\n<pre><code>public WestminsterSkinConsultationManagerGUI() {\n        // Initialize the manager\n        manager = new WestminsterSkinConsultationManager();\n        this.doctors = new ArrayList&lt;Doctor&gt;();\n</code></pre>\n<p>instead of are instantiating the local <code>this.doctors</code> of your JFrame class <code>WestminsterSkinConsultationManagerGUI</code>.</p>\n<p>And then, you are using the manager one on the loop:</p>\n<pre><code>List&lt;Doctor&gt; doctors = manager.getDoctors();\n</code></pre>\n<p>If the idea is the manager controlling the doctors list, remove the local one and change the constructor of <code>WestminsterSkinConsultationManagerGUI</code>:</p>\n<pre><code>public WestminsterSkinConsultationManagerGUI() {\n        // Initialize the manager\n        manager = new WestminsterSkinConsultationManager();\n        ...\n}\n</code></pre>\n<p>and internally on <code>WestminsterSkinConsultationManager</code> it creates the doctors list, like:</p>\n<pre><code>public WestminsterSkinConsultationManager() {\n  this.doctors = new ArrayList&lt;Doctor&gt;();\n}\n</code></pre>\n<p>This will avoid the doctors issue of being null.\nAlso, remove the local doctors of your JFrame class to avoid this confusion =)</p>\n"}],"owner":{"account_id":20110979,"reputation":65,"user_id":14747381,"display_name":"Private_xoxo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":836,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671353869,"answer_count":1,"score":0,"last_activity_date":1671352926,"creation_date":1671352093,"question_id":74840015,"body_markdown":"I&#39;m trying to create a GUI for my console application but I run into an error when trying to use the print button which I cannot understand why.\r\n\r\nThis is the Code\r\n\r\n        package com.company;\r\n    import java.util.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.text.DateFormat;\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    import java.util.List;\r\n    import javax.swing.*;\r\n    \r\n    public class WestminsterSkinConsultationManagerGUI extends JFrame {\r\n        private static WestminsterSkinConsultationManager manager;\r\n        private final ArrayList&lt;Doctor&gt; doctors;\r\n        private JTextField nameField;\r\n        private JTextField surnameField;\r\n        private JTextField dobField;\r\n        private JTextField mobileField;\r\n        private JTextField licenseField;\r\n        private JTextField specializationField;\r\n        private JTextField deleteField;\r\n        private JButton addButton;\r\n        private JButton deleteButton;\r\n        private JButton printButton;\r\n        private JButton saveButton;\r\n        private JButton exitButton;\r\n        private JTextArea doctorListArea;\r\n    \r\n        public WestminsterSkinConsultationManagerGUI() {\r\n            // Initialize the manager\r\n            manager = new WestminsterSkinConsultationManager();\r\n            this.doctors = new ArrayList&lt;Doctor&gt;();\r\n    \r\n    \r\n            // Set up the frame\r\n            setTitle(&quot;Westminster Skin Consultation Manager&quot;);\r\n            setSize(600, 400);\r\n            setLocationRelativeTo(null);\r\n            setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n    \r\n            // Create the panel for the input fields\r\n            JPanel inputPanel = new JPanel();\r\n            inputPanel.setLayout(new GridLayout(7, 2));\r\n    \r\n            // Create the input fields\r\n            nameField = new JTextField();\r\n            surnameField = new JTextField();\r\n            dobField = new JTextField();\r\n            mobileField = new JTextField();\r\n            licenseField = new JTextField();\r\n            specializationField = new JTextField();\r\n            deleteField = new JTextField();\r\n    \r\n            // Add the input fields to the panel\r\n            inputPanel.add(new JLabel(&quot;Name:&quot;));\r\n            inputPanel.add(nameField);\r\n            inputPanel.add(new JLabel(&quot;Surname:&quot;));\r\n            inputPanel.add(surnameField);\r\n            inputPanel.add(new JLabel(&quot;Date of birth:&quot;));\r\n            inputPanel.add(dobField);\r\n            inputPanel.add(new JLabel(&quot;Mobile number:&quot;));\r\n            inputPanel.add(mobileField);\r\n            inputPanel.add(new JLabel(&quot;Medical license number:&quot;));\r\n            inputPanel.add(licenseField);\r\n            inputPanel.add(new JLabel(&quot;Specialization:&quot;));\r\n            inputPanel.add(specializationField);\r\n            inputPanel.add(new JLabel(&quot;Medical license number to delete:&quot;));\r\n            inputPanel.add(deleteField);\r\n    \r\n            // Create the panel for the buttons\r\n            JPanel buttonPanel = new JPanel();\r\n            buttonPanel.setLayout(new GridLayout(5, 1));\r\n    \r\n            // Create the buttons\r\n            addButton = new JButton(&quot;Add Doctor&quot;);\r\n            deleteButton = new JButton(&quot;Delete Doctor&quot;);\r\n            printButton = new JButton(&quot;Print Doctors&quot;);\r\n            saveButton = new JButton(&quot;Save to File&quot;);\r\n            exitButton = new JButton(&quot;Exit&quot;);\r\n    \r\n            // Add the buttons to the panel\r\n            buttonPanel.add(addButton);\r\n            buttonPanel.add(deleteButton);\r\n            buttonPanel.add(printButton);\r\n            buttonPanel.add(saveButton);\r\n            buttonPanel.add(exitButton);\r\n    \r\n            // Create the panel for the doctor list\r\n            JPanel listPanel = new JPanel();\r\n            doctorListArea = new JTextArea();\r\n            doctorListArea.setEditable(false);\r\n            JScrollPane scrollPane = new JScrollPane(doctorListArea);\r\n            listPanel.add(scrollPane);\r\n    \r\n            // Add the input panel, button panel, and list panel to the frame\r\n            add(inputPanel, BorderLayout.WEST);\r\n            add(buttonPanel, BorderLayout.EAST);\r\n            add(listPanel, BorderLayout.SOUTH);\r\n    \r\n            // Add action listeners to the buttons\r\n            addButton.addActionListener(new AddButtonListener());\r\n            deleteButton.addActionListener(new DeleteButtonListener());\r\n            printButton.addActionListener(new PrintButtonListener());\r\n            saveButton.addActionListener(new SaveButtonListener());\r\n            exitButton.addActionListener(new ExitButtonListener());\r\n    \r\n            // Display the frame\r\n            setVisible(true);\r\n        }\r\n    \r\n        // Inner class for the Add button listener\r\n        private class AddButtonListener implements ActionListener {\r\n            public void actionPerformed(ActionEvent e) {\r\n                // Get the input values\r\n                String name = nameField.getText();\r\n                String surname = surnameField.getText();\r\n                String dobString = dobField.getText();\r\n                String mobile = mobileField.getText();\r\n                String license = licenseField.getText();\r\n                String specialization = specializationField.getText();\r\n    \r\n                // Create a new doctor object with the input values\r\n                DateFormat df = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n                Date dob = null;\r\n                try {\r\n                    dob = df.parse(dobString);\r\n                } catch (ParseException ex) {\r\n                    JOptionPane.showMessageDialog(null, &quot;Error: Invalid date of birth format. Use dd/MM/yyyy.&quot;);\r\n                    return;\r\n                }\r\n                Doctor doctor = new Doctor(name, surname, dob, mobile, license, specialization);\r\n    \r\n                // Add the doctor to the manager\r\n                manager.addDoctor(doctor);\r\n            }\r\n        }\r\n    \r\n        // Inner class for the Delete button listener\r\n        private class DeleteButtonListener implements ActionListener {\r\n            public void actionPerformed(ActionEvent e) {\r\n                // Get the medical license number to delete\r\n                String license = deleteField.getText();\r\n    \r\n                // Delete the doctor with the specified medical license number\r\n                manager.deleteDoctor(license);\r\n            }\r\n        }\r\n    \r\n        // Inner class for the Print button listener\r\n        private class PrintButtonListener implements ActionListener {\r\n            public void actionPerformed(ActionEvent e) {\r\n                // Clear the text area\r\n                doctorListArea.setText(&quot;&quot;);\r\n    \r\n    \r\n                    // Print the list of doctors\r\n                    List&lt;Doctor&gt; doctors = manager.getDoctors();\r\n                    for (Doctor doctor : doctors) {\r\n                        doctorListArea.append(&quot;Name: &quot; + doctor.getName() + &quot;\\n&quot;);\r\n                        doctorListArea.append(&quot;Surname: &quot; + doctor.getSurname() + &quot;\\n&quot;);\r\n                        doctorListArea.append(&quot;Date of birth: &quot; + doctor.getDateOfBirth() + &quot;\\n&quot;);\r\n                        doctorListArea.append(&quot;Mobile number: &quot; + doctor.getMobileNumber() + &quot;\\n&quot;);\r\n                        doctorListArea.append(&quot;Medical license number: &quot; + doctor.getMedicalLicenceNumber() + &quot;\\n&quot;);\r\n                        doctorListArea.append(&quot;Specialization: &quot; + doctor.getSpecialisation() + &quot;\\n\\n&quot;);\r\n                    }\r\n                }\r\n            }\r\n    \r\n            // Inner class for the Save button listener\r\n            private static class SaveButtonListener implements ActionListener {\r\n                public void actionPerformed(ActionEvent e) {\r\n                    // Save the list of doctors to a file\r\n                    manager.saveToFile();\r\n                }\r\n            }\r\n    \r\n            // Inner class for the Exit button listener\r\n            private static class ExitButtonListener implements ActionListener {\r\n                public void actionPerformed(ActionEvent e) {\r\n                    // Close the program\r\n                    System.exit(0);\r\n                }\r\n            }\r\n    \r\n            public static void main(String[] args) {\r\n                new WestminsterSkinConsultationManagerGUI();\r\n            }\r\n        }\r\n\r\nThis is the error I Get \r\n\r\n&gt; Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot invoke &quot;java.util.List.iterator()&quot; because &quot;doctors&quot; is null\r\n\tat com.company.WestminsterSkinConsultationManagerGUI$PrintButtonListener.actionPerformed(WestminsterSkinConsultationManagerGUI.java:158)\r\n\tat java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)\r\n\tat java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2313)\r\n\tat java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\r\n\tat java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\r\n\tat java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\r\n\tat java.desktop/java.awt.Component.processMouseEvent(Component.java:6616)\r\n\tat java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3398)\r\n\tat java.desktop/java.awt.Component.processEvent(Component.java:6381)\r\n\tat java.desktop/java.awt.Container.processEvent(Container.java:2266)\r\n\tat java.desktop/java.awt.Component.dispatchEventImpl(Component.java:4991)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4823)\r\n\tat java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\r\n\tat java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4575)\r\n\tat java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\r\n\tat java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4823)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:775)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:747)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:744)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n\r\n","title":"Cannot invoke &quot;java.util.List.iterator()&quot; error","body":"<p>I'm trying to create a GUI for my console application but I run into an error when trying to use the print button which I cannot understand why.</p>\n<p>This is the Code</p>\n<pre><code>    package com.company;\nimport java.util.*;\nimport java.awt.*;\nimport java.awt.event.*;\nimport java.text.DateFormat;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.util.List;\nimport javax.swing.*;\n\npublic class WestminsterSkinConsultationManagerGUI extends JFrame {\n    private static WestminsterSkinConsultationManager manager;\n    private final ArrayList&lt;Doctor&gt; doctors;\n    private JTextField nameField;\n    private JTextField surnameField;\n    private JTextField dobField;\n    private JTextField mobileField;\n    private JTextField licenseField;\n    private JTextField specializationField;\n    private JTextField deleteField;\n    private JButton addButton;\n    private JButton deleteButton;\n    private JButton printButton;\n    private JButton saveButton;\n    private JButton exitButton;\n    private JTextArea doctorListArea;\n\n    public WestminsterSkinConsultationManagerGUI() {\n        // Initialize the manager\n        manager = new WestminsterSkinConsultationManager();\n        this.doctors = new ArrayList&lt;Doctor&gt;();\n\n\n        // Set up the frame\n        setTitle(&quot;Westminster Skin Consultation Manager&quot;);\n        setSize(600, 400);\n        setLocationRelativeTo(null);\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n\n        // Create the panel for the input fields\n        JPanel inputPanel = new JPanel();\n        inputPanel.setLayout(new GridLayout(7, 2));\n\n        // Create the input fields\n        nameField = new JTextField();\n        surnameField = new JTextField();\n        dobField = new JTextField();\n        mobileField = new JTextField();\n        licenseField = new JTextField();\n        specializationField = new JTextField();\n        deleteField = new JTextField();\n\n        // Add the input fields to the panel\n        inputPanel.add(new JLabel(&quot;Name:&quot;));\n        inputPanel.add(nameField);\n        inputPanel.add(new JLabel(&quot;Surname:&quot;));\n        inputPanel.add(surnameField);\n        inputPanel.add(new JLabel(&quot;Date of birth:&quot;));\n        inputPanel.add(dobField);\n        inputPanel.add(new JLabel(&quot;Mobile number:&quot;));\n        inputPanel.add(mobileField);\n        inputPanel.add(new JLabel(&quot;Medical license number:&quot;));\n        inputPanel.add(licenseField);\n        inputPanel.add(new JLabel(&quot;Specialization:&quot;));\n        inputPanel.add(specializationField);\n        inputPanel.add(new JLabel(&quot;Medical license number to delete:&quot;));\n        inputPanel.add(deleteField);\n\n        // Create the panel for the buttons\n        JPanel buttonPanel = new JPanel();\n        buttonPanel.setLayout(new GridLayout(5, 1));\n\n        // Create the buttons\n        addButton = new JButton(&quot;Add Doctor&quot;);\n        deleteButton = new JButton(&quot;Delete Doctor&quot;);\n        printButton = new JButton(&quot;Print Doctors&quot;);\n        saveButton = new JButton(&quot;Save to File&quot;);\n        exitButton = new JButton(&quot;Exit&quot;);\n\n        // Add the buttons to the panel\n        buttonPanel.add(addButton);\n        buttonPanel.add(deleteButton);\n        buttonPanel.add(printButton);\n        buttonPanel.add(saveButton);\n        buttonPanel.add(exitButton);\n\n        // Create the panel for the doctor list\n        JPanel listPanel = new JPanel();\n        doctorListArea = new JTextArea();\n        doctorListArea.setEditable(false);\n        JScrollPane scrollPane = new JScrollPane(doctorListArea);\n        listPanel.add(scrollPane);\n\n        // Add the input panel, button panel, and list panel to the frame\n        add(inputPanel, BorderLayout.WEST);\n        add(buttonPanel, BorderLayout.EAST);\n        add(listPanel, BorderLayout.SOUTH);\n\n        // Add action listeners to the buttons\n        addButton.addActionListener(new AddButtonListener());\n        deleteButton.addActionListener(new DeleteButtonListener());\n        printButton.addActionListener(new PrintButtonListener());\n        saveButton.addActionListener(new SaveButtonListener());\n        exitButton.addActionListener(new ExitButtonListener());\n\n        // Display the frame\n        setVisible(true);\n    }\n\n    // Inner class for the Add button listener\n    private class AddButtonListener implements ActionListener {\n        public void actionPerformed(ActionEvent e) {\n            // Get the input values\n            String name = nameField.getText();\n            String surname = surnameField.getText();\n            String dobString = dobField.getText();\n            String mobile = mobileField.getText();\n            String license = licenseField.getText();\n            String specialization = specializationField.getText();\n\n            // Create a new doctor object with the input values\n            DateFormat df = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n            Date dob = null;\n            try {\n                dob = df.parse(dobString);\n            } catch (ParseException ex) {\n                JOptionPane.showMessageDialog(null, &quot;Error: Invalid date of birth format. Use dd/MM/yyyy.&quot;);\n                return;\n            }\n            Doctor doctor = new Doctor(name, surname, dob, mobile, license, specialization);\n\n            // Add the doctor to the manager\n            manager.addDoctor(doctor);\n        }\n    }\n\n    // Inner class for the Delete button listener\n    private class DeleteButtonListener implements ActionListener {\n        public void actionPerformed(ActionEvent e) {\n            // Get the medical license number to delete\n            String license = deleteField.getText();\n\n            // Delete the doctor with the specified medical license number\n            manager.deleteDoctor(license);\n        }\n    }\n\n    // Inner class for the Print button listener\n    private class PrintButtonListener implements ActionListener {\n        public void actionPerformed(ActionEvent e) {\n            // Clear the text area\n            doctorListArea.setText(&quot;&quot;);\n\n\n                // Print the list of doctors\n                List&lt;Doctor&gt; doctors = manager.getDoctors();\n                for (Doctor doctor : doctors) {\n                    doctorListArea.append(&quot;Name: &quot; + doctor.getName() + &quot;\\n&quot;);\n                    doctorListArea.append(&quot;Surname: &quot; + doctor.getSurname() + &quot;\\n&quot;);\n                    doctorListArea.append(&quot;Date of birth: &quot; + doctor.getDateOfBirth() + &quot;\\n&quot;);\n                    doctorListArea.append(&quot;Mobile number: &quot; + doctor.getMobileNumber() + &quot;\\n&quot;);\n                    doctorListArea.append(&quot;Medical license number: &quot; + doctor.getMedicalLicenceNumber() + &quot;\\n&quot;);\n                    doctorListArea.append(&quot;Specialization: &quot; + doctor.getSpecialisation() + &quot;\\n\\n&quot;);\n                }\n            }\n        }\n\n        // Inner class for the Save button listener\n        private static class SaveButtonListener implements ActionListener {\n            public void actionPerformed(ActionEvent e) {\n                // Save the list of doctors to a file\n                manager.saveToFile();\n            }\n        }\n\n        // Inner class for the Exit button listener\n        private static class ExitButtonListener implements ActionListener {\n            public void actionPerformed(ActionEvent e) {\n                // Close the program\n                System.exit(0);\n            }\n        }\n\n        public static void main(String[] args) {\n            new WestminsterSkinConsultationManagerGUI();\n        }\n    }\n</code></pre>\n<p>This is the error I Get</p>\n<blockquote>\n<p>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot invoke &quot;java.util.List.iterator()&quot; because &quot;doctors&quot; is null\nat com.company.WestminsterSkinConsultationManagerGUI$PrintButtonListener.actionPerformed(WestminsterSkinConsultationManagerGUI.java:158)\nat java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)\nat java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2313)\nat java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\nat java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\nat java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\nat java.desktop/java.awt.Component.processMouseEvent(Component.java:6616)\nat java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3398)\nat java.desktop/java.awt.Component.processEvent(Component.java:6381)\nat java.desktop/java.awt.Container.processEvent(Container.java:2266)\nat java.desktop/java.awt.Component.dispatchEventImpl(Component.java:4991)\nat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\nat java.desktop/java.awt.Component.dispatchEvent(Component.java:4823)\nat java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\nat java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4575)\nat java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\nat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\nat java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\nat java.desktop/java.awt.Component.dispatchEvent(Component.java:4823)\nat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:775)\nat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\nat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\nat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\nat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\nat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\nat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:747)\nat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\nat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\nat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\nat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:744)\nat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\nat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\nat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\nat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\nat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\nat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)</p>\n</blockquote>\n"},{"tags":["java","mongodb","mongo-java-driver"],"answers":[{"tags":[],"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671352241,"creation_date":1671352241,"answer_id":74840029,"question_id":74839897,"body_markdown":"you need to use Bulk Insert operations from your stream. please read:\r\n[Bulk Insert][1]\r\n\r\ntry to execute() the bulk after a reasonable number of documents (inside your consumer lambda) because after all there is a limit to the size of the request Mongo can handle. \r\n\r\n  [1]: https://www.mongodb.com/docs/manual/reference/method/Bulk.insert/","title":"Java MongoDB bulk insert from stream","body":"<p>you need to use Bulk Insert operations from your stream. please read:\n<a href=\"https://www.mongodb.com/docs/manual/reference/method/Bulk.insert/\" rel=\"nofollow noreferrer\">Bulk Insert</a></p>\n<p>try to execute() the bulk after a reasonable number of documents (inside your consumer lambda) because after all there is a limit to the size of the request Mongo can handle.</p>\n"}],"owner":{"account_id":7517740,"reputation":7252,"user_id":5710637,"display_name":"fafl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74840029,"answer_count":1,"score":0,"last_activity_date":1671352241,"creation_date":1671350567,"question_id":74839897,"body_markdown":"I&#39;m trying to insert a few million documents into MongoDB in one operation. Using `MongoCollection.insertMany` does not work for me because it takes a `List` as input and my data does not fit in memory.\r\n\r\nIs it possible to insert documents from a stream instead?","title":"Java MongoDB bulk insert from stream","body":"<p>I'm trying to insert a few million documents into MongoDB in one operation. Using <code>MongoCollection.insertMany</code> does not work for me because it takes a <code>List</code> as input and my data does not fit in memory.</p>\n<p>Is it possible to insert documents from a stream instead?</p>\n"},{"tags":["java","mysql","multithreading","javafx"],"comments":[{"owner":{"account_id":1078945,"reputation":7426,"user_id":1076480,"accept_rate":57,"display_name":"David Ehrmann"},"score":1,"creation_date":1431650674,"post_id":30249493,"comment_id":48599952,"body_markdown":"Why do you want to run the query in a second thread when it looks like you&#39;ll need the result in the current thread?","body":"Why do you want to run the query in a second thread when it looks like you&#39;ll need the result in the current thread?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1431655051,"post_id":30249493,"comment_id":48601183,"body_markdown":"@DavidEhrmann Typically, accessing databases is a long-running process, so it should not be done on the FX Application Thread (as it will make the UI unresponsive). So the OP&#39;s instinct is correct here: execute the long-running process on another thread: (s)he just needs to schedule the processing of the results back on the FX Application Thread.","body":"@DavidEhrmann Typically, accessing databases is a long-running process, so it should not be done on the FX Application Thread (as it will make the UI unresponsive). So the OP&#39;s instinct is correct here: execute the long-running process on another thread: (s)he just needs to schedule the processing of the results back on the FX Application Thread."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1431655608,"post_id":30249493,"comment_id":48601325,"body_markdown":"Mnemonics: I don&#39;t really understand what your actual example is supposed to do. You read a bunch of rows from the database, and for each row set the text of a (single, fixed) label. The net result (if you fix the threading error) is that the label would just show the value of the last row read from the database; all the other rows are just discarded. I provided a high-level answer to your question (which I think is actually what you seem to be looking for), but I deliberately didn&#39;t reference your example as I don&#39;t really know what it&#39;s supposed to do.","body":"Mnemonics: I don&#39;t really understand what your actual example is supposed to do. You read a bunch of rows from the database, and for each row set the text of a (single, fixed) label. The net result (if you fix the threading error) is that the label would just show the value of the last row read from the database; all the other rows are just discarded. I provided a high-level answer to your question (which I think is actually what you seem to be looking for), but I deliberately didn&#39;t reference your example as I don&#39;t really know what it&#39;s supposed to do."},{"owner":{"account_id":3949656,"reputation":679,"user_id":3260638,"accept_rate":71,"display_name":"Mnemonics"},"score":0,"creation_date":1431685318,"post_id":30249493,"comment_id":48613821,"body_markdown":"The query is this: &quot;select c_name from course where c_code = 1&quot;. Because the c_code is pk in the table it only returns one row. Nothing advanced. I do understand your confusion, I&#39;ve used &#39;while&#39; instead of &#39;if&#39; and I apologize for the confusion. I will edit my question. I will go through your post in a minute. Thanks for helping me.","body":"The query is this: &quot;select c_name from course where c_code = 1&quot;. Because the c_code is pk in the table it only returns one row. Nothing advanced. I do understand your confusion, I&#39;ve used &#39;while&#39; instead of &#39;if&#39; and I apologize for the confusion. I will edit my question. I will go through your post in a minute. Thanks for helping me."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1431688959,"post_id":30249493,"comment_id":48616056,"body_markdown":"Ah, ok, that does make sense then. Updated answer to include that specific case.","body":"Ah, ok, that does make sense then. Updated answer to include that specific case."}],"answers":[{"tags":[],"owner":{"account_id":118410,"reputation":62929,"user_id":309412,"accept_rate":74,"display_name":"Lie Ryan"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1431651577,"creation_date":1431650913,"answer_id":30249807,"question_id":30249493,"body_markdown":"This has nothing to do with database. JavaFx, like pretty much all GUI libraries, requires that you only use the main UI thread to modify the GUI.\r\n\r\nYou need to pass the data from the database back to the main UI thread. Use Platform.runLater() to schedule a Runnable to be run in the main UI thread.\r\n\r\n    public void getCourseNameOnClick(){\r\n        new Thread(new Runnable(){\r\n            public void run(){\r\n                String courseName = requestCourseName();\r\n                Platform.runLater(new Runnable(){\r\n                    courseCodeLbl.setText(courseName)\r\n                });\r\n            }\r\n        }, &quot;Thread A&quot;).start();\r\n    }\r\n   \r\n\r\nAlternatively, you can [use Task](https://stackoverflow.com/questions/13784333/platform-runlater-and-task-javafx).","title":"Using threads to make database requests","body":"<p>This has nothing to do with database. JavaFx, like pretty much all GUI libraries, requires that you only use the main UI thread to modify the GUI.</p>\n\n<p>You need to pass the data from the database back to the main UI thread. Use Platform.runLater() to schedule a Runnable to be run in the main UI thread.</p>\n\n<pre><code>public void getCourseNameOnClick(){\n    new Thread(new Runnable(){\n        public void run(){\n            String courseName = requestCourseName();\n            Platform.runLater(new Runnable(){\n                courseCodeLbl.setText(courseName)\n            });\n        }\n    }, \"Thread A\").start();\n}\n</code></pre>\n\n<p>Alternatively, you can <a href=\"https://stackoverflow.com/questions/13784333/platform-runlater-and-task-javafx\">use Task</a>.</p>\n"},{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":0,"down_vote_count":0,"up_vote_count":63,"is_accepted":true,"score":63,"last_activity_date":1671351250,"creation_date":1431654967,"answer_id":30250308,"question_id":30249493,"body_markdown":"**Threading Rules for JavaFX**\r\n\r\nThere are two basic rules for threads and JavaFX:\r\n\r\n 1. Any code that modifies or accesses the state of a node that is part of a scene graph **must** be executed on the JavaFX application thread. Certain other operations (e.g. creating new `Stage`s) are also bound by this rule.\r\n 2. Any code that may take a long time to run **should** be executed on a background thread (i.e. not on the FX Application Thread).\r\n\r\nThe reason for the first rule is that, like most UI toolkits, the framework is written without any synchronization on the state of elements of the scene graph. Adding synchronization incurs a performance cost, and this turns out to be a prohibitive cost for UI toolkits. Thus only one thread can safely access this state. Since the UI thread (FX Application Thread for JavaFX) needs to access this state to render the scene, the FX Application Thread is the only thread on which you can access &quot;live&quot; scene graph state. In JavaFX 8 and later, most methods subject to this rule perform checks and throw runtime exceptions if the rule is violated. (This is in contrast to Swing, where you can write &quot;illegal&quot; code and it may appear to run fine, but is in fact prone to random and unpredictable failure at arbitrary time.) ***This is the cause of the `IllegalStateException` you are seeing***: you are calling `courseCodeLbl.setText(...)` from a thread other than the FX Application Thread.\r\n\r\nThe reason for the second rule is that the FX Application Thread, as well as being responsible for processing user events, is also responsible for rendering the scene. Thus if you perform a long-running operation on that thread, the UI will not be rendered until that operation is complete, and will become unresponsive to user events. While this won&#39;t generate exceptions or cause corrupt object state (as violating rule 1 will), it (at best) creates a poor user experience.\r\n\r\nThus if you have a long-running operation (such as accessing a database) that needs to update the UI on completion, the basic plan is to perform the long-running operation in a background thread, returning the results of the operation when it is complete, and then schedule an update to the UI on the UI (FX Application) thread. All single-threaded UI toolkits have a mechanism to do this: in JavaFX you can do so by calling `Platform.runLater(Runnable r)` to execute `r.run()` on the FX Application Thread. (In Swing, you can call `SwingUtilities.invokeLater(Runnable r)` to execute `r.run()` on the AWT event dispatch thread.) JavaFX (see later in this answer) also provides some higher-level API for managing the communication back to the FX Application Thread.\r\n\r\n**General Good Practices for Multithreading**\r\n\r\nThe best practice for working with multiple threads is to structure code that is to be executed on a &quot;user-defined&quot; thread as an object that is initialized with some fixed state, has a method to perform the operation, and on completion returns an object representing the result. Using [immutable objects][1], in particular, a [`record`][2], for the initialized state and computation result is highly desirable. The idea here is to eliminate the possibility of any mutable state being visible from multiple threads as far as possible. Accessing data from a database fits this idiom nicely: you can initialize your &quot;worker&quot; object with the parameters for the database access (search terms, etc). Perform the database query and get a result set, use the result set to populate a collection of domain objects, and return the collection at the end.\r\n\r\nIn some cases it will be necessary to share mutable state between multiple threads. When this absolutely has to be done, you need to carefully synchronize access to that state to avoid observing the state in an inconsistent state (there are other more subtle issues that need to be addressed, such as liveness of the state, etc). The strong recommendation when this is needed is to use a high-level library to manage these complexities for you.\r\n\r\n**Using the javafx.concurrent API**\r\n\r\nJavaFX provides a [concurrency API](http://docs.oracle.com/javase/8/javafx/api/javafx/concurrent/package-summary.html) that is designed for executing code in a background thread, with API specifically designed for updating the JavaFX UI on completion of (or during) the execution of that code. This API is designed to interact with the [`java.util.concurrent` API](http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/package-summary.html), which provides general facilities for writing multithreaded code (but with no UI hooks). The key class in `javafx.concurrent` is [`Task`](http://docs.oracle.com/javase/8/javafx/api/javafx/concurrent/Task.html), which represents a single, one-off, unit of work intended to be performed on a background thread. This class defines a single abstract method, `call()`, which takes no parameters, returns a result, and may throw checked exceptions. `Task` implements `Runnable` with its `run()` method simply invoking `call()`. `Task` also has a collection of methods which are guaranteed to update state on the FX Application Thread, such as [`updateProgress(...)`](http://docs.oracle.com/javase/8/javafx/api/javafx/concurrent/Task.html#updateProgress-long-long-), [`updateMessage(...)`](http://docs.oracle.com/javase/8/javafx/api/javafx/concurrent/Task.html#updateMessage-java.lang.String-), etc. It defines some observable properties (e.g. [`state`](http://docs.oracle.com/javase/8/javafx/api/javafx/concurrent/Task.html#stateProperty--) and [`value`](http://docs.oracle.com/javase/8/javafx/api/javafx/concurrent/Task.html#valueProperty--)): listeners to these properties will be notified of changes on the FX Application Thread. Finally, there are some convenience methods to register handlers ([`setOnSucceeded(...)`](http://docs.oracle.com/javase/8/javafx/api/javafx/concurrent/Task.html#setOnSucceeded-javafx.event.EventHandler-), [`setOnFailed(...)`](http://docs.oracle.com/javase/8/javafx/api/javafx/concurrent/Task.html#setOnFailed-javafx.event.EventHandler-), etc); any handlers registered via these methods will also be invoked on the FX Application Thread.\r\n\r\nSo the general formula for retrieving data from a database is:\r\n\r\n 1. Create a `Task` to handle the call to the database.\r\n 2. Initialize the `Task` with any state that is needed to perform the database call.\r\n 3. Implement the task&#39;s `call()` method to perform the database call, returning the results of the call.\r\n 4. Register a handler with the task to send the results to the UI when it is complete.\r\n 5. Invoke the task on a background thread.\r\n\r\nFor database access, I strongly recommend encapsulating the actual database code in a separate class that knows nothing about the UI ([Data Access Object design pattern](http://en.wikipedia.org/wiki/Data_access_object)). Then just have the task invoke the methods on the data access object.\r\n\r\nSo you might have a DAO class like this (note there is no UI code here):\r\n\r\n    public class WidgetDAO {\r\n    \r\n        // In real life, you might want a connection pool here, though for\r\n        // desktop applications a single connection often suffices:\r\n        private Connection conn ;\r\n    \r\n        public WidgetDAO() throws Exception {\r\n            conn = ... ; // initialize connection (or connection pool...)\r\n        }\r\n    \r\n        public List&lt;Widget&gt; getWidgetsByType(String type) throws SQLException {\r\n            try (PreparedStatement pstmt = conn.prepareStatement(&quot;select * from widget where type = ?&quot;)) {\r\n                pstmt.setString(1, type);\r\n                ResultSet rs = pstmt.executeQuery();\r\n                List&lt;Widget&gt; widgets = new ArrayList&lt;&gt;();\r\n                while (rs.next()) {\r\n                    Widget widget = new Widget();\r\n                    widget.setName(rs.getString(&quot;name&quot;));\r\n                    widget.setNumberOfBigRedButtons(rs.getString(&quot;btnCount&quot;));\r\n                    // ...\r\n                    widgets.add(widget);\r\n                }\r\n                return widgets ;\r\n            }\r\n        }\r\n    \r\n        // ...\r\n\r\n        public void shutdown() throws Exception {\r\n            conn.close();\r\n        }\r\n    }\r\n\r\nRetrieving a bunch of widgets might take a long time, so any calls from a UI class (e.g a controller class) should schedule this on a background thread. A controller class might look like this:\r\n\r\n    public class MyController {\r\n    \r\n        private WidgetDAO widgetAccessor ;\r\n        \r\n        // java.util.concurrent.Executor typically provides a pool of threads...\r\n        private Executor exec ;\r\n    \r\n        @FXML\r\n        private TextField widgetTypeSearchField ;\r\n    \r\n        @FXML\r\n        private TableView&lt;Widget&gt; widgetTable ;\r\n    \r\n        public void initialize() throws Exception {\r\n            widgetAccessor = new WidgetDAO();\r\n    \r\n            // create executor that uses daemon threads:\r\n            exec = Executors.newCachedThreadPool(runnable -&gt; {\r\n                Thread t = new Thread(runnable);\r\n                t.setDaemon(true);\r\n                return t ;\r\n            });\r\n        }\r\n    \r\n        // handle search button:\r\n        @FXML\r\n        public void searchWidgets() {\r\n            final String searchString = widgetTypeSearchField.getText();\r\n            Task&lt;List&lt;Widget&gt;&gt; widgetSearchTask = new Task&lt;List&lt;Widget&gt;&gt;() {\r\n                @Override\r\n                public List&lt;Widget&gt; call() throws Exception {\r\n                    return widgetAccessor.getWidgetsByType(searchString);\r\n                }\r\n            };\r\n    \r\n            widgetSearchTask.setOnFailed(e -&gt; {\r\n               widgetSearchTask.getException().printStackTrace();\r\n                // inform user of error...\r\n            });\r\n\r\n            widgetSearchTask.setOnSucceeded(e -&gt; \r\n                // Task.getValue() gives the value returned from call()...\r\n                widgetTable.getItems().setAll(widgetSearchTask.getValue()));\r\n    \r\n            // run the task using a thread from the thread pool:\r\n            exec.execute(widgetSearchTask);\r\n        }\r\n    \r\n        // ...\r\n    }\r\n\r\nNotice how the call to the (potentially) long-running DAO method is wrapped in a `Task` which is run on a background thread (via the accessor) to prevent blocking the UI (rule 2 above). The update to the UI (`widgetTable.setItems(...)`) is actually executed back on the FX Application Thread, using the `Task`&#39;s convenience callback method [`setOnSucceeded(...)`](http://docs.oracle.com/javase/8/javafx/api/javafx/concurrent/Task.html#setOnSucceeded-javafx.event.EventHandler-) (satisfying rule 1). \r\n\r\nIn your case, the database access you are performing returns a single result, so you might have a method like\r\n\r\n    public class MyDAO {\r\n    \r\n        private Connection conn ; \r\n    \r\n        // constructor etc...\r\n    \r\n        public Course getCourseByCode(int code) throws SQLException {\r\n            try (PreparedStatement pstmt = conn.prepareStatement(&quot;select * from course where c_code = ?&quot;)) {\r\n                pstmt.setInt(1, code);\r\n                ResultSet results = pstmt.executeQuery();\r\n                if (results.next()) {\r\n                    Course course = new Course();\r\n                    course.setName(results.getString(&quot;c_name&quot;));\r\n                    // etc...\r\n                    return course ;\r\n                } else {\r\n                    // maybe throw an exception if you want to insist course with given code exists\r\n                    // or consider using Optional&lt;Course&gt;...\r\n                    return null ;\r\n                }\r\n            }\r\n        }\r\n    \r\n        // ...\r\n    }\r\n\r\nAnd then your controller code would look like\r\n\r\n    final int courseCode = Integer.valueOf(courseId.getText());\r\n    Task&lt;Course&gt; courseTask = new Task&lt;Course&gt;() {\r\n        @Override\r\n        public Course call() throws Exception {\r\n            return myDAO.getCourseByCode(courseCode);\r\n        }\r\n    };\r\n    courseTask.setOnSucceeded(e -&gt; {\r\n        Course course = courseTask.getCourse();\r\n        if (course != null) {\r\n            courseCodeLbl.setText(course.getName());\r\n        }\r\n    });\r\n    exec.execute(courseTask);\r\n\r\nThe [API docs for `Task`](http://docs.oracle.com/javase/8/javafx/api/javafx/concurrent/Task.html) have many more examples, including updating the `progress` property of the task (useful for progress bars..., etc.\r\n\r\n**Related**\r\n\r\n * https://stackoverflow.com/questions/14878788/javafx-background-thread-for-sql-query\r\n * [Sample for accessing a local database from JavaFX using concurrent tasks for database operations so that the UI remains responsive.][3]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/concurrency/imstrat.html\r\n  [2]: https://docs.oracle.com/en/java/javase/19/language/records.html\r\n  [3]: https://gist.github.com/jewelsea/4957967","title":"Using threads to make database requests","body":"<p><strong>Threading Rules for JavaFX</strong></p>\n<p>There are two basic rules for threads and JavaFX:</p>\n<ol>\n<li>Any code that modifies or accesses the state of a node that is part of a scene graph <strong>must</strong> be executed on the JavaFX application thread. Certain other operations (e.g. creating new <code>Stage</code>s) are also bound by this rule.</li>\n<li>Any code that may take a long time to run <strong>should</strong> be executed on a background thread (i.e. not on the FX Application Thread).</li>\n</ol>\n<p>The reason for the first rule is that, like most UI toolkits, the framework is written without any synchronization on the state of elements of the scene graph. Adding synchronization incurs a performance cost, and this turns out to be a prohibitive cost for UI toolkits. Thus only one thread can safely access this state. Since the UI thread (FX Application Thread for JavaFX) needs to access this state to render the scene, the FX Application Thread is the only thread on which you can access &quot;live&quot; scene graph state. In JavaFX 8 and later, most methods subject to this rule perform checks and throw runtime exceptions if the rule is violated. (This is in contrast to Swing, where you can write &quot;illegal&quot; code and it may appear to run fine, but is in fact prone to random and unpredictable failure at arbitrary time.) <em><strong>This is the cause of the <code>IllegalStateException</code> you are seeing</strong></em>: you are calling <code>courseCodeLbl.setText(...)</code> from a thread other than the FX Application Thread.</p>\n<p>The reason for the second rule is that the FX Application Thread, as well as being responsible for processing user events, is also responsible for rendering the scene. Thus if you perform a long-running operation on that thread, the UI will not be rendered until that operation is complete, and will become unresponsive to user events. While this won't generate exceptions or cause corrupt object state (as violating rule 1 will), it (at best) creates a poor user experience.</p>\n<p>Thus if you have a long-running operation (such as accessing a database) that needs to update the UI on completion, the basic plan is to perform the long-running operation in a background thread, returning the results of the operation when it is complete, and then schedule an update to the UI on the UI (FX Application) thread. All single-threaded UI toolkits have a mechanism to do this: in JavaFX you can do so by calling <code>Platform.runLater(Runnable r)</code> to execute <code>r.run()</code> on the FX Application Thread. (In Swing, you can call <code>SwingUtilities.invokeLater(Runnable r)</code> to execute <code>r.run()</code> on the AWT event dispatch thread.) JavaFX (see later in this answer) also provides some higher-level API for managing the communication back to the FX Application Thread.</p>\n<p><strong>General Good Practices for Multithreading</strong></p>\n<p>The best practice for working with multiple threads is to structure code that is to be executed on a &quot;user-defined&quot; thread as an object that is initialized with some fixed state, has a method to perform the operation, and on completion returns an object representing the result. Using <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/imstrat.html\" rel=\"nofollow noreferrer\">immutable objects</a>, in particular, a <a href=\"https://docs.oracle.com/en/java/javase/19/language/records.html\" rel=\"nofollow noreferrer\"><code>record</code></a>, for the initialized state and computation result is highly desirable. The idea here is to eliminate the possibility of any mutable state being visible from multiple threads as far as possible. Accessing data from a database fits this idiom nicely: you can initialize your &quot;worker&quot; object with the parameters for the database access (search terms, etc). Perform the database query and get a result set, use the result set to populate a collection of domain objects, and return the collection at the end.</p>\n<p>In some cases it will be necessary to share mutable state between multiple threads. When this absolutely has to be done, you need to carefully synchronize access to that state to avoid observing the state in an inconsistent state (there are other more subtle issues that need to be addressed, such as liveness of the state, etc). The strong recommendation when this is needed is to use a high-level library to manage these complexities for you.</p>\n<p><strong>Using the javafx.concurrent API</strong></p>\n<p>JavaFX provides a <a href=\"http://docs.oracle.com/javase/8/javafx/api/javafx/concurrent/package-summary.html\" rel=\"nofollow noreferrer\">concurrency API</a> that is designed for executing code in a background thread, with API specifically designed for updating the JavaFX UI on completion of (or during) the execution of that code. This API is designed to interact with the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/package-summary.html\" rel=\"nofollow noreferrer\"><code>java.util.concurrent</code> API</a>, which provides general facilities for writing multithreaded code (but with no UI hooks). The key class in <code>javafx.concurrent</code> is <a href=\"http://docs.oracle.com/javase/8/javafx/api/javafx/concurrent/Task.html\" rel=\"nofollow noreferrer\"><code>Task</code></a>, which represents a single, one-off, unit of work intended to be performed on a background thread. This class defines a single abstract method, <code>call()</code>, which takes no parameters, returns a result, and may throw checked exceptions. <code>Task</code> implements <code>Runnable</code> with its <code>run()</code> method simply invoking <code>call()</code>. <code>Task</code> also has a collection of methods which are guaranteed to update state on the FX Application Thread, such as <a href=\"http://docs.oracle.com/javase/8/javafx/api/javafx/concurrent/Task.html#updateProgress-long-long-\" rel=\"nofollow noreferrer\"><code>updateProgress(...)</code></a>, <a href=\"http://docs.oracle.com/javase/8/javafx/api/javafx/concurrent/Task.html#updateMessage-java.lang.String-\" rel=\"nofollow noreferrer\"><code>updateMessage(...)</code></a>, etc. It defines some observable properties (e.g. <a href=\"http://docs.oracle.com/javase/8/javafx/api/javafx/concurrent/Task.html#stateProperty--\" rel=\"nofollow noreferrer\"><code>state</code></a> and <a href=\"http://docs.oracle.com/javase/8/javafx/api/javafx/concurrent/Task.html#valueProperty--\" rel=\"nofollow noreferrer\"><code>value</code></a>): listeners to these properties will be notified of changes on the FX Application Thread. Finally, there are some convenience methods to register handlers (<a href=\"http://docs.oracle.com/javase/8/javafx/api/javafx/concurrent/Task.html#setOnSucceeded-javafx.event.EventHandler-\" rel=\"nofollow noreferrer\"><code>setOnSucceeded(...)</code></a>, <a href=\"http://docs.oracle.com/javase/8/javafx/api/javafx/concurrent/Task.html#setOnFailed-javafx.event.EventHandler-\" rel=\"nofollow noreferrer\"><code>setOnFailed(...)</code></a>, etc); any handlers registered via these methods will also be invoked on the FX Application Thread.</p>\n<p>So the general formula for retrieving data from a database is:</p>\n<ol>\n<li>Create a <code>Task</code> to handle the call to the database.</li>\n<li>Initialize the <code>Task</code> with any state that is needed to perform the database call.</li>\n<li>Implement the task's <code>call()</code> method to perform the database call, returning the results of the call.</li>\n<li>Register a handler with the task to send the results to the UI when it is complete.</li>\n<li>Invoke the task on a background thread.</li>\n</ol>\n<p>For database access, I strongly recommend encapsulating the actual database code in a separate class that knows nothing about the UI (<a href=\"http://en.wikipedia.org/wiki/Data_access_object\" rel=\"nofollow noreferrer\">Data Access Object design pattern</a>). Then just have the task invoke the methods on the data access object.</p>\n<p>So you might have a DAO class like this (note there is no UI code here):</p>\n<pre><code>public class WidgetDAO {\n\n    // In real life, you might want a connection pool here, though for\n    // desktop applications a single connection often suffices:\n    private Connection conn ;\n\n    public WidgetDAO() throws Exception {\n        conn = ... ; // initialize connection (or connection pool...)\n    }\n\n    public List&lt;Widget&gt; getWidgetsByType(String type) throws SQLException {\n        try (PreparedStatement pstmt = conn.prepareStatement(&quot;select * from widget where type = ?&quot;)) {\n            pstmt.setString(1, type);\n            ResultSet rs = pstmt.executeQuery();\n            List&lt;Widget&gt; widgets = new ArrayList&lt;&gt;();\n            while (rs.next()) {\n                Widget widget = new Widget();\n                widget.setName(rs.getString(&quot;name&quot;));\n                widget.setNumberOfBigRedButtons(rs.getString(&quot;btnCount&quot;));\n                // ...\n                widgets.add(widget);\n            }\n            return widgets ;\n        }\n    }\n\n    // ...\n\n    public void shutdown() throws Exception {\n        conn.close();\n    }\n}\n</code></pre>\n<p>Retrieving a bunch of widgets might take a long time, so any calls from a UI class (e.g a controller class) should schedule this on a background thread. A controller class might look like this:</p>\n<pre><code>public class MyController {\n\n    private WidgetDAO widgetAccessor ;\n    \n    // java.util.concurrent.Executor typically provides a pool of threads...\n    private Executor exec ;\n\n    @FXML\n    private TextField widgetTypeSearchField ;\n\n    @FXML\n    private TableView&lt;Widget&gt; widgetTable ;\n\n    public void initialize() throws Exception {\n        widgetAccessor = new WidgetDAO();\n\n        // create executor that uses daemon threads:\n        exec = Executors.newCachedThreadPool(runnable -&gt; {\n            Thread t = new Thread(runnable);\n            t.setDaemon(true);\n            return t ;\n        });\n    }\n\n    // handle search button:\n    @FXML\n    public void searchWidgets() {\n        final String searchString = widgetTypeSearchField.getText();\n        Task&lt;List&lt;Widget&gt;&gt; widgetSearchTask = new Task&lt;List&lt;Widget&gt;&gt;() {\n            @Override\n            public List&lt;Widget&gt; call() throws Exception {\n                return widgetAccessor.getWidgetsByType(searchString);\n            }\n        };\n\n        widgetSearchTask.setOnFailed(e -&gt; {\n           widgetSearchTask.getException().printStackTrace();\n            // inform user of error...\n        });\n\n        widgetSearchTask.setOnSucceeded(e -&gt; \n            // Task.getValue() gives the value returned from call()...\n            widgetTable.getItems().setAll(widgetSearchTask.getValue()));\n\n        // run the task using a thread from the thread pool:\n        exec.execute(widgetSearchTask);\n    }\n\n    // ...\n}\n</code></pre>\n<p>Notice how the call to the (potentially) long-running DAO method is wrapped in a <code>Task</code> which is run on a background thread (via the accessor) to prevent blocking the UI (rule 2 above). The update to the UI (<code>widgetTable.setItems(...)</code>) is actually executed back on the FX Application Thread, using the <code>Task</code>'s convenience callback method <a href=\"http://docs.oracle.com/javase/8/javafx/api/javafx/concurrent/Task.html#setOnSucceeded-javafx.event.EventHandler-\" rel=\"nofollow noreferrer\"><code>setOnSucceeded(...)</code></a> (satisfying rule 1).</p>\n<p>In your case, the database access you are performing returns a single result, so you might have a method like</p>\n<pre><code>public class MyDAO {\n\n    private Connection conn ; \n\n    // constructor etc...\n\n    public Course getCourseByCode(int code) throws SQLException {\n        try (PreparedStatement pstmt = conn.prepareStatement(&quot;select * from course where c_code = ?&quot;)) {\n            pstmt.setInt(1, code);\n            ResultSet results = pstmt.executeQuery();\n            if (results.next()) {\n                Course course = new Course();\n                course.setName(results.getString(&quot;c_name&quot;));\n                // etc...\n                return course ;\n            } else {\n                // maybe throw an exception if you want to insist course with given code exists\n                // or consider using Optional&lt;Course&gt;...\n                return null ;\n            }\n        }\n    }\n\n    // ...\n}\n</code></pre>\n<p>And then your controller code would look like</p>\n<pre><code>final int courseCode = Integer.valueOf(courseId.getText());\nTask&lt;Course&gt; courseTask = new Task&lt;Course&gt;() {\n    @Override\n    public Course call() throws Exception {\n        return myDAO.getCourseByCode(courseCode);\n    }\n};\ncourseTask.setOnSucceeded(e -&gt; {\n    Course course = courseTask.getCourse();\n    if (course != null) {\n        courseCodeLbl.setText(course.getName());\n    }\n});\nexec.execute(courseTask);\n</code></pre>\n<p>The <a href=\"http://docs.oracle.com/javase/8/javafx/api/javafx/concurrent/Task.html\" rel=\"nofollow noreferrer\">API docs for <code>Task</code></a> have many more examples, including updating the <code>progress</code> property of the task (useful for progress bars..., etc.</p>\n<p><strong>Related</strong></p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/14878788/javafx-background-thread-for-sql-query\">JavaFX - Background Thread for SQL Query</a></li>\n<li><a href=\"https://gist.github.com/jewelsea/4957967\" rel=\"nofollow noreferrer\">Sample for accessing a local database from JavaFX using concurrent tasks for database operations so that the UI remains responsive.</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1956160,"reputation":36345,"user_id":1759128,"accept_rate":54,"display_name":"ItachiUchiha"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1434693765,"creation_date":1431655379,"answer_id":30250362,"question_id":30249493,"body_markdown":"&gt; Exception in thread &quot;Thread A&quot; java.lang.IllegalStateException: Not on FX application thread; currentThread = Thread A\r\n\r\nThe exception is trying to tell you that you are trying to access JavaFX scene graph outside the JavaFX application thread. But where ??\r\n\r\n    courseCodeLbl.setText(rs.getString(1)); // &lt;--- The culprit\r\n\r\n&gt; If I can&#39;t do this how do I use a background thread?\r\n\r\nThe are different approaches which leads to similar solutions.\r\n\r\nWrap you Scene graph element with Platform.runLater\r\n---------------------------------------------------\r\n\r\nThere easier and most simple way is to wrap the above line in `Plaform.runLater`, such that it gets executed on JavaFX Application thread.\r\n\r\n    Platform.runLater(() -&gt; courseCodeLbl.setText(rs.getString(1)));\r\n\r\nUse Task\r\n--------\r\n\r\nThe *better approach* to go with these scenarios is to use [Task](http://docs.oracle.com/javase/8/javafx/api/javafx/concurrent/Task.html), which has specialized methods to send back updates. In the following example, I am using `updateMessage` to update the message. This property is bind to `courseCodeLbl` textProperty.\r\n\r\n   \r\n    Task&lt;Void&gt; task = new Task&lt;Void&gt;() {\r\n        @Override\r\n        public Void call() {\r\n            String courseName = &quot;&quot;;\r\n            Course c = new Course();\r\n            c.setCCode(Integer.valueOf(courseId.getText()));\r\n            mController = new ModelController(c);\r\n            try {\r\n                ResultSet rs = mController.&lt;Course&gt;get();\r\n                if(rs.next()) {\r\n                    // update message property\r\n                    updateMessage(rs.getString(1));\r\n                }\r\n            } catch (SQLException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n\r\n    public void getCourseNameOnClick(){\r\n        try {\r\n            Thread t = new Thread(task);\r\n            // To update the label\r\n            courseCodeLbl.textProperty.bind(task.messageProperty());\r\n            t.setDaemon(true); // Imp! missing in your code\r\n            t.start();\r\n        } catch (NumberFormatException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n","title":"Using threads to make database requests","body":"<blockquote>\n  <p>Exception in thread \"Thread A\" java.lang.IllegalStateException: Not on FX application thread; currentThread = Thread A</p>\n</blockquote>\n\n<p>The exception is trying to tell you that you are trying to access JavaFX scene graph outside the JavaFX application thread. But where ??</p>\n\n<pre><code>courseCodeLbl.setText(rs.getString(1)); // &lt;--- The culprit\n</code></pre>\n\n<blockquote>\n  <p>If I can't do this how do I use a background thread?</p>\n</blockquote>\n\n<p>The are different approaches which leads to similar solutions.</p>\n\n<h2>Wrap you Scene graph element with Platform.runLater</h2>\n\n<p>There easier and most simple way is to wrap the above line in <code>Plaform.runLater</code>, such that it gets executed on JavaFX Application thread.</p>\n\n<pre><code>Platform.runLater(() -&gt; courseCodeLbl.setText(rs.getString(1)));\n</code></pre>\n\n<h2>Use Task</h2>\n\n<p>The <em>better approach</em> to go with these scenarios is to use <a href=\"http://docs.oracle.com/javase/8/javafx/api/javafx/concurrent/Task.html\" rel=\"noreferrer\">Task</a>, which has specialized methods to send back updates. In the following example, I am using <code>updateMessage</code> to update the message. This property is bind to <code>courseCodeLbl</code> textProperty.</p>\n\n<pre><code>Task&lt;Void&gt; task = new Task&lt;Void&gt;() {\n    @Override\n    public Void call() {\n        String courseName = \"\";\n        Course c = new Course();\n        c.setCCode(Integer.valueOf(courseId.getText()));\n        mController = new ModelController(c);\n        try {\n            ResultSet rs = mController.&lt;Course&gt;get();\n            if(rs.next()) {\n                // update message property\n                updateMessage(rs.getString(1));\n            }\n        } catch (SQLException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        return null;\n    }\n}\n\npublic void getCourseNameOnClick(){\n    try {\n        Thread t = new Thread(task);\n        // To update the label\n        courseCodeLbl.textProperty.bind(task.messageProperty());\n        t.setDaemon(true); // Imp! missing in your code\n        t.start();\n    } catch (NumberFormatException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3949656,"reputation":679,"user_id":3260638,"accept_rate":71,"display_name":"Mnemonics"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17681,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":30250308,"answer_count":3,"score":29,"last_activity_date":1671351250,"creation_date":1431648668,"question_id":30249493,"body_markdown":"I&#39;m trying to understand how threads works in java. This is a simple database request that returns a ResultSet. I&#39;m using JavaFx.\r\n\r\n        package application;\r\n    \r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    \r\n    import javafx.fxml.FXML;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.control.TextField;\r\n    \r\n    public class Controller{\r\n    \t@FXML\r\n    \tprivate Button getCourseBtn;\r\n    \t@FXML\r\n    \tprivate TextField courseId;\r\n    \t@FXML\r\n    \tprivate Label courseCodeLbl;\r\n    \tprivate ModelController mController;\r\n    \t\r\n    \tprivate void requestCourseName(){\r\n    \t\tString courseName = &quot;&quot;;\r\n    \t\tCourse c = new Course();\r\n    \t\tc.setCCode(Integer.valueOf(courseId.getText()));\r\n    \t\tmController = new ModelController(c);\r\n    \t\ttry {\r\n    \t\t\tResultSet rs = mController.&lt;Course&gt;get();\r\n    \t\t\tif(rs.next()){\r\n    \t\t\t\tcourseCodeLbl.setText(rs.getString(1));\r\n    \t\t\t}\r\n    \t\t} catch (SQLException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    //\t\treturn courseName;\r\n    \t}\r\n    \r\n    \tpublic void getCourseNameOnClick(){\r\n    \t\ttry {\r\n    //\t\t\t\tcourseCodeLbl.setText(requestCourseName());\r\n    \t\t\tThread t = new Thread(new Runnable(){\r\n    \t\t\t\tpublic void run(){\r\n    \t\t\t\t\trequestCourseName();\r\n    \t\t\t\t}\r\n    \t\t\t}, &quot;Thread A&quot;);\r\n    \t\t\tt.start();\r\n    \t\t} catch (NumberFormatException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    }\r\nThis returns an exception: \r\n\r\n&gt; Exception in thread &quot;Thread A&quot; java.lang.IllegalStateException: Not on FX application thread; currentThread = Thread A\r\n\r\nHow do I correctly implement threading so that every database request is executed in a second thread instead of the main thread?\r\n\r\nI&#39;ve heard of implementing Runnable but then how do I invoke different methods in run method? \r\n\r\nNever worked with threading before but I thought it&#39;s time for it.","title":"Using threads to make database requests","body":"<p>I'm trying to understand how threads works in java. This is a simple database request that returns a ResultSet. I'm using JavaFx.</p>\n\n<pre><code>    package application;\n\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\n\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TextField;\n\npublic class Controller{\n    @FXML\n    private Button getCourseBtn;\n    @FXML\n    private TextField courseId;\n    @FXML\n    private Label courseCodeLbl;\n    private ModelController mController;\n\n    private void requestCourseName(){\n        String courseName = \"\";\n        Course c = new Course();\n        c.setCCode(Integer.valueOf(courseId.getText()));\n        mController = new ModelController(c);\n        try {\n            ResultSet rs = mController.&lt;Course&gt;get();\n            if(rs.next()){\n                courseCodeLbl.setText(rs.getString(1));\n            }\n        } catch (SQLException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n//      return courseName;\n    }\n\n    public void getCourseNameOnClick(){\n        try {\n//              courseCodeLbl.setText(requestCourseName());\n            Thread t = new Thread(new Runnable(){\n                public void run(){\n                    requestCourseName();\n                }\n            }, \"Thread A\");\n            t.start();\n        } catch (NumberFormatException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n\n<p>This returns an exception: </p>\n\n<blockquote>\n  <p>Exception in thread \"Thread A\" java.lang.IllegalStateException: Not on FX application thread; currentThread = Thread A</p>\n</blockquote>\n\n<p>How do I correctly implement threading so that every database request is executed in a second thread instead of the main thread?</p>\n\n<p>I've heard of implementing Runnable but then how do I invoke different methods in run method? </p>\n\n<p>Never worked with threading before but I thought it's time for it.</p>\n"},{"tags":["java","json","string","utf-8","unicode-escapes"],"comments":[{"owner":{"account_id":14801365,"reputation":376,"user_id":15322661,"display_name":"Rustam"},"score":0,"creation_date":1671301092,"post_id":74836309,"comment_id":132071799,"body_markdown":"It depends from what lib do you use `JSONObject `, the problem is in `js.toString()` method. could you add a full package name for `JSONObject`?","body":"It depends from what lib do you use <code>JSONObject </code>, the problem is in <code>js.toString()</code> method. could you add a full package name for <code>JSONObject</code>?"},{"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"score":0,"creation_date":1671303760,"post_id":74836309,"comment_id":132072313,"body_markdown":"You can modify the string before adding it to the json map. see: https://stackoverflow.com/questions/6230190/convert-international-string-to-u-codes-in-java","body":"You can modify the string before adding it to the json map. see: <a href=\"https://stackoverflow.com/questions/6230190/convert-international-string-to-u-codes-in-java\" title=\"convert international string to u codes in java\">stackoverflow.com/questions/6230190/&hellip;</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1671319600,"post_id":74836309,"comment_id":132074972,"body_markdown":"Surely then you&#39;d want to do `js.put(&quot;lastReason&quot;,&quot;nguy\\\\u1EC5n&quot;);`?","body":"Surely then you&#39;d want to do <code>js.put(&quot;lastReason&quot;,&quot;nguy\\\\u1EC5n&quot;);</code>?"},{"owner":{"account_id":25568520,"reputation":43,"user_id":19349288,"display_name":"Nguyen"},"score":0,"creation_date":1671330630,"post_id":74836309,"comment_id":132076022,"body_markdown":"@g00se sure, i need to sync up all string with escape unicode.","body":"@g00se sure, i need to sync up all string with escape unicode."},{"owner":{"account_id":25568520,"reputation":43,"user_id":19349288,"display_name":"Nguyen"},"score":0,"creation_date":1671330782,"post_id":74836309,"comment_id":132076036,"body_markdown":"@SimGel if there is not any solution, i must loop all key in JSON and subkey contains JSON to escape them.","body":"@SimGel if there is not any solution, i must loop all key in JSON and subkey contains JSON to escape them."},{"owner":{"account_id":25568520,"reputation":43,"user_id":19349288,"display_name":"Nguyen"},"score":0,"creation_date":1671330924,"post_id":74836309,"comment_id":132076047,"body_markdown":"@Rustam I added JSONObject package (org.json.JSONObject), but it does&#39;nt do escapse string.","body":"@Rustam I added JSONObject package (org.json.JSONObject), but it does&#39;nt do escapse string."},{"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"score":0,"creation_date":1671362371,"post_id":74836309,"comment_id":132079404,"body_markdown":"If you want to encode the string during seralization another option would be to use `Jackson` with a custom serializer: https://www.baeldung.com/jackson-custom-serialization","body":"If you want to encode the string during seralization another option would be to use <code>Jackson</code> with a custom serializer: <a href=\"https://www.baeldung.com/jackson-custom-serialization\" rel=\"nofollow noreferrer\">baeldung.com/jackson-custom-serialization</a>"},{"owner":{"account_id":25568520,"reputation":43,"user_id":19349288,"display_name":"Nguyen"},"score":0,"creation_date":1671418169,"post_id":74836309,"comment_id":132088298,"body_markdown":"@SimGel thanks, i want to a way to dump json to string similar with json.dumps() in Python. In Python, when I used ```json.dumps(json_var)``` , json string is encoded automatically. For Java, are there any solution for that problem?","body":"@SimGel thanks, i want to a way to dump json to string similar with json.dumps() in Python. In Python, when I used <code>json.dumps(json_var)</code> , json string is encoded automatically. For Java, are there any solution for that problem?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1671452254,"post_id":74836309,"comment_id":132095143,"body_markdown":"Why, btw, do you need this escaped form?","body":"Why, btw, do you need this escaped form?"}],"answers":[{"comments":[{"owner":{"account_id":25568520,"reputation":43,"user_id":19349288,"display_name":"Nguyen"},"score":0,"creation_date":1671354206,"post_id":74839843,"comment_id":132078204,"body_markdown":"thank you so much, so only way translate text before putting ```JSONObject```.","body":"thank you so much, so only way translate text before putting <code>JSONObject</code>."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1671356394,"post_id":74839843,"comment_id":132078522,"body_markdown":"Note that there is also the method [StringEscapeUtils.escapeJson()](https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringEscapeUtils.html#escapeJson(java.lang.String)) where _&quot;The only difference between Java strings and Json strings is that in Json, forward-slash (/) is escaped&quot;_. A minor point, but using `escapeJson()` instead of `escapeJava()` might make a bit more sense for the OP&#39;s use case, if only for clarity.","body":"Note that there is also the method <a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringEscapeUtils.html#escapeJson(java.lang.String)\" rel=\"nofollow noreferrer\">StringEscapeUtils.escapeJson()</a> where <i>&quot;The only difference between Java strings and Json strings is that in Json, forward-slash (/) is escaped&quot;</i>. A minor point, but using <code>escapeJson()</code> instead of <code>escapeJava()</code> might make a bit more sense for the OP&#39;s use case, if only for clarity."}],"tags":[],"owner":{"account_id":16729724,"reputation":546,"user_id":12092416,"display_name":"Sergei"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671350985,"creation_date":1671349790,"answer_id":74839843,"question_id":74836309,"body_markdown":"You can use [apache commons-text](https://github.com/apache/commons-text) library to change a string to use Unicode escape sequences. Use `org.apache.commons.text.StringEscapeUtils` to translate the text before adding it to `JSONObject`.\r\n\r\n```\r\nStringEscapeUtils.escapeJava(&quot;nguyễn&quot;)\r\n```\r\nwill produce\r\n```\r\nnguy\\u1EC5n\r\n```\r\n\r\nOne possible problem with using `StringEscapeUtils` might be that it will escape control characters as well. If there is a tab character at the end of the string it will be translated to `\\t`. I.e.:\r\n\r\n```\r\nStringEscapeUtils.escapeJava(&quot;nguyễn\\t&quot;)\r\n```\r\nwill produce an incorrect string:\r\n```\r\nnguy\\u1EC5n\\t\r\n```\r\n\r\nYou can use `org.apache.commons.text.translate.UnicodeEscaper` to get around this but it will translate every character in the string to a Unicode escape sequence. I.e.:\r\n```\r\nUnicodeEscaper ue = new UnicodeEscaper();\r\nue.translate(rawString);\r\n```\r\nwill produce\r\n```\r\n\\u006E\\u0067\\u0075\\u0079\\u1EC5\\u006E\r\n\r\nor \r\n\r\n\\u006E\\u0067\\u0075\\u0079\\u1EC5\\u006E\\u0009\r\n```\r\n\r\nWhether it is a problem or not is up to you to decide.","title":"How to convert utf8 string to escape string in JSON Java?","body":"<p>You can use <a href=\"https://github.com/apache/commons-text\" rel=\"nofollow noreferrer\">apache commons-text</a> library to change a string to use Unicode escape sequences. Use <code>org.apache.commons.text.StringEscapeUtils</code> to translate the text before adding it to <code>JSONObject</code>.</p>\n<pre><code>StringEscapeUtils.escapeJava(&quot;nguyễn&quot;)\n</code></pre>\n<p>will produce</p>\n<pre><code>nguy\\u1EC5n\n</code></pre>\n<p>One possible problem with using <code>StringEscapeUtils</code> might be that it will escape control characters as well. If there is a tab character at the end of the string it will be translated to <code>\\t</code>. I.e.:</p>\n<pre><code>StringEscapeUtils.escapeJava(&quot;nguyễn\\t&quot;)\n</code></pre>\n<p>will produce an incorrect string:</p>\n<pre><code>nguy\\u1EC5n\\t\n</code></pre>\n<p>You can use <code>org.apache.commons.text.translate.UnicodeEscaper</code> to get around this but it will translate every character in the string to a Unicode escape sequence. I.e.:</p>\n<pre><code>UnicodeEscaper ue = new UnicodeEscaper();\nue.translate(rawString);\n</code></pre>\n<p>will produce</p>\n<pre><code>\\u006E\\u0067\\u0075\\u0079\\u1EC5\\u006E\n\nor \n\n\\u006E\\u0067\\u0075\\u0079\\u1EC5\\u006E\\u0009\n</code></pre>\n<p>Whether it is a problem or not is up to you to decide.</p>\n"}],"owner":{"account_id":25568520,"reputation":43,"user_id":19349288,"display_name":"Nguyen"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":533,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671350985,"creation_date":1671300135,"question_id":74836309,"body_markdown":"I want to convert a UTF-8 string to escape \\uXXX format in value of JSON Object.\r\n\r\n\r\nI used both JSON Object and Gson, but did not work for me in this case:\r\n```\r\nJSONObject js = new JSONObject();\r\njs.put(&quot;lastReason&quot;,&quot;nguyễn&quot;);\r\nSystem.out.println(js.toString());\r\n```\r\nand\r\n```\r\nGson gson = new Gson();\r\nString new_js = gson.toJson(js.toString());\r\nSystem.out.println(new_js);\r\n```\r\n\r\n**Output: {&quot;test&quot;:&quot;nguyễn&quot;}**\r\n\r\nBut i am expect that my result is:\r\n\r\n**Expected Output: {&quot;test&quot;:&quot;nguy\\\\u1EC5n&quot;}**\r\n\r\nAny solutions for this case, please help me to resolve it.","title":"How to convert utf8 string to escape string in JSON Java?","body":"<p>I want to convert a UTF-8 string to escape \\uXXX format in value of JSON Object.</p>\n<p>I used both JSON Object and Gson, but did not work for me in this case:</p>\n<pre><code>JSONObject js = new JSONObject();\njs.put(&quot;lastReason&quot;,&quot;nguyễn&quot;);\nSystem.out.println(js.toString());\n</code></pre>\n<p>and</p>\n<pre><code>Gson gson = new Gson();\nString new_js = gson.toJson(js.toString());\nSystem.out.println(new_js);\n</code></pre>\n<p><strong>Output: {&quot;test&quot;:&quot;nguyễn&quot;}</strong></p>\n<p>But i am expect that my result is:</p>\n<p><strong>Expected Output: {&quot;test&quot;:&quot;nguy\\u1EC5n&quot;}</strong></p>\n<p>Any solutions for this case, please help me to resolve it.</p>\n"},{"tags":["java","boolean","semantics"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1413747329,"post_id":26454507,"comment_id":41549857,"body_markdown":"&quot;code snippets&quot; are for HTML/CSS/JS. Java code should be wrappedn in &quot;code sample&quot; since you can&#39;t run it in browser.","body":"&quot;code snippets&quot; are for HTML/CSS/JS. Java code should be wrappedn in &quot;code sample&quot; since you can&#39;t run it in browser."},{"owner":{"account_id":514320,"reputation":24520,"user_id":1392132,"accept_rate":91,"display_name":"5gon12eder"},"score":0,"creation_date":1413749684,"post_id":26454507,"comment_id":41550595,"body_markdown":"You have run across the [*dangling else*](https://en.wikipedia.org/wiki/Dangling_else) issue.  Probably, this was an educational example to make you aware of it?","body":"You have run across the <a href=\"https://en.wikipedia.org/wiki/Dangling_else\" rel=\"nofollow noreferrer\"><i>dangling else</i></a> issue.  Probably, this was an educational example to make you aware of it?"}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1413747342,"creation_date":1413747342,"answer_id":26454529,"question_id":26454507,"body_markdown":"This would fix the conditions :\r\n\r\n    if (typeA || type B) {\r\n      if (typeA &amp;&amp; typeB)\r\n        System.out.print(&quot;Type AB&quot;);\r\n    } else {\r\n        System.out.print(&quot;Type O&quot;);\r\n    }\r\n\r\nWithout the curly braces, the else would be matched to the inner if, but you want to match it to the outer if.","title":"Java, Insert a {} pair to make the code segment work as it should","body":"<p>This would fix the conditions :</p>\n\n<pre><code>if (typeA || type B) {\n  if (typeA &amp;&amp; typeB)\n    System.out.print(\"Type AB\");\n} else {\n    System.out.print(\"Type O\");\n}\n</code></pre>\n\n<p>Without the curly braces, the else would be matched to the inner if, but you want to match it to the outer if.</p>\n"},{"tags":[],"owner":{"account_id":51914,"reputation":67911,"user_id":155137,"accept_rate":91,"display_name":"Martijn Courteaux"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1413747550,"creation_date":1413747550,"answer_id":26454564,"question_id":26454507,"body_markdown":"The problem is that your code gets compile like this:\r\n\r\n    if (typeA || type B)\r\n      if (typeA &amp;&amp; typeB)\r\n        System.out.print(&quot;Type AB&quot;);\r\n      else \r\n        System.out.print(&quot;Type O&quot;);\r\n\r\nSo, the IDE you use thinks that you might have meant to do it differently (because of your intendation that does not fit the way is is going to be compiled) and suggests you to add brackets to make it work like you want it (and the way that fits the indentation you used):\r\n\r\n    if (typeA || type B)\r\n    {\r\n      if (typeA &amp;&amp; typeB)\r\n        System.out.print(&quot;Type AB&quot;);\r\n    }\r\n    else \r\n    {\r\n      System.out.print(&quot;Type O&quot;);\r\n    }","title":"Java, Insert a {} pair to make the code segment work as it should","body":"<p>The problem is that your code gets compile like this:</p>\n\n<pre><code>if (typeA || type B)\n  if (typeA &amp;&amp; typeB)\n    System.out.print(\"Type AB\");\n  else \n    System.out.print(\"Type O\");\n</code></pre>\n\n<p>So, the IDE you use thinks that you might have meant to do it differently (because of your intendation that does not fit the way is is going to be compiled) and suggests you to add brackets to make it work like you want it (and the way that fits the indentation you used):</p>\n\n<pre><code>if (typeA || type B)\n{\n  if (typeA &amp;&amp; typeB)\n    System.out.print(\"Type AB\");\n}\nelse \n{\n  System.out.print(\"Type O\");\n}\n</code></pre>\n"}],"owner":{"display_name":"user3946132"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":5,"up_vote_count":2,"accepted_answer_id":26454529,"answer_count":2,"score":-3,"last_activity_date":1671350721,"creation_date":1413747243,"question_id":26454507,"body_markdown":"The following code fragment is supposed to print &quot;Type AB&quot; when `boolean` variables `typeA` and `typeB` are both true, and print &quot;Type O&quot; when both variables are false. Instead, it prints &quot;Type O&quot; whenever just one of the variables is false. \r\n\r\nI don&#39;t see the error in the code, what&#39;s wrong with it? I think it&#39;s useless as it doesn&#39;t print out whether one is Type A or Type B. Why not insert System.out.print(&quot;Type A&quot;) or System.out.print(&quot;Type B&quot;) after the first line? \r\n\r\n    if (typeA || type B)\r\n        if (typeA &amp;&amp; typeB)\r\n            System.out.print(&quot;Type AB&quot;);\r\n        else \r\n            System.out.print(&quot;Type O&quot;);\r\n\r\n","title":"Java, Insert a {} pair to make the code segment work as it should","body":"<p>The following code fragment is supposed to print &quot;Type AB&quot; when <code>boolean</code> variables <code>typeA</code> and <code>typeB</code> are both true, and print &quot;Type O&quot; when both variables are false. Instead, it prints &quot;Type O&quot; whenever just one of the variables is false.</p>\n<p>I don't see the error in the code, what's wrong with it? I think it's useless as it doesn't print out whether one is Type A or Type B. Why not insert System.out.print(&quot;Type A&quot;) or System.out.print(&quot;Type B&quot;) after the first line?</p>\n<pre><code>if (typeA || type B)\n    if (typeA &amp;&amp; typeB)\n        System.out.print(&quot;Type AB&quot;);\n    else \n        System.out.print(&quot;Type O&quot;);\n</code></pre>\n"},{"tags":["java","android","google-cloud-firestore"],"comments":[{"owner":{"account_id":7953408,"reputation":1827,"user_id":6003541,"display_name":"Rafał Sokalski"},"score":0,"creation_date":1671272105,"post_id":74833180,"comment_id":132066875,"body_markdown":"What&#39;s the type of dateObject field and collection chatMessages?","body":"What&#39;s the type of dateObject field and collection chatMessages?"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1671278948,"post_id":74833180,"comment_id":132067884,"body_markdown":"Why don&#39;t you perform a query to get the messages alredy sorted?","body":"Why don&#39;t you perform a query to get the messages alredy sorted?"},{"owner":{"account_id":15416071,"reputation":25,"user_id":11121521,"display_name":"Sunny Dowari"},"score":0,"creation_date":1671280606,"post_id":74833180,"comment_id":132068139,"body_markdown":"import java.util.Date;\n\npublic String senderId, receiverId, message, dateTime;\n    public Date dateObject;\n\nthis is what i have in chatMessages adapter....","body":"import java.util.Date;  public String senderId, receiverId, message, dateTime;     public Date dateObject;  this is what i have in chatMessages adapter...."},{"owner":{"account_id":15416071,"reputation":25,"user_id":11121521,"display_name":"Sunny Dowari"},"score":0,"creation_date":1671281318,"post_id":74833180,"comment_id":132068248,"body_markdown":"@AlexMamo, i dunno, i mean i went this direction...but please tell me how would i go about it?   also i am using Firestore NoSQL database","body":"@AlexMamo, i dunno, i mean i went this direction...but please tell me how would i go about it?   also i am using Firestore NoSQL database"},{"owner":{"account_id":15416071,"reputation":25,"user_id":11121521,"display_name":"Sunny Dowari"},"score":0,"creation_date":1671294625,"post_id":74833180,"comment_id":132070665,"body_markdown":"i hope this pastebin is helpful, resides the whole part of the code \nhttps://pastebin.com/Qj9cX0MN","body":"i hope this pastebin is helpful, resides the whole part of the code  <a href=\"https://pastebin.com/Qj9cX0MN\" rel=\"nofollow noreferrer\">pastebin.com/Qj9cX0MN</a>"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1671345578,"post_id":74833180,"comment_id":132077226,"body_markdown":"Please edit your question and add your database structure as a screenshot and indicate the exact documents you want to get and the exact order.","body":"Please edit your question and add your database structure as a screenshot and indicate the exact documents you want to get and the exact order."},{"owner":{"account_id":15416071,"reputation":25,"user_id":11121521,"display_name":"Sunny Dowari"},"score":0,"creation_date":1671350609,"post_id":74833180,"comment_id":132077808,"body_markdown":"i have edited the code, and seems to fetch me the desired result now, could you please check once, if this is the right approach, compared to the old one.","body":"i have edited the code, and seems to fetch me the desired result now, could you please check once, if this is the right approach, compared to the old one."}],"owner":{"account_id":15416071,"reputation":25,"user_id":11121521,"display_name":"Sunny Dowari"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671350537,"creation_date":1671270940,"question_id":74833180,"body_markdown":"[![enter image description here][1]][1][![enter image description here][2]][2]this code here, after the sort method, the obj1 and obj2 comparison is greyed out, and the editor suggests to convert it into `Comparator.comparing`, which does not do the job and the chats of the reciever stays as a sticky constant, while sender chats keep going above it, \r\n\r\n\r\n[![the database][2]][2]\r\n\r\n    ```   \r\n    Collections.sort(chatMessages,\r\n                        (obj1, obj2) -&gt; obj1.dateObject.compareTo(obj2.dateObject));\r\n                if(count == 0) {\r\n                    chatAdapter.notifyDataSetChanged();\r\n    \r\n    } else {\r\n    }\r\n\r\n\r\n\r\n```\r\n//new lines of code that seem to work\r\nchatMessages.sort(Comparator.comparing(obj -&gt; obj.dateObject));\r\n            if(count == 0) {\r\n                chatAdapter.notifyDataSetChanged();\r\n```\r\n\r\n\r\nand the last part, to be more specific with change of events, and use notifyDataSetChanged() as a last resort.\r\n\r\n\r\n\r\n        \r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ymNzt.png\r\n  [2]: https://i.stack.imgur.com/1EY8D.png\r\n  [3]: https://i.stack.imgur.com/LIGx6.jpg","title":"sorting messages, obj comparison is greyed out and is asking to be replaced with &quot;comparator.comparing&quot;, which doesn&#39;t work","body":"<p><a href=\"https://i.stack.imgur.com/ymNzt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ymNzt.png\" alt=\"enter image description here\" /></a><a href=\"https://i.stack.imgur.com/1EY8D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1EY8D.png\" alt=\"enter image description here\" /></a>this code here, after the sort method, the obj1 and obj2 comparison is greyed out, and the editor suggests to convert it into <code>Comparator.comparing</code>, which does not do the job and the chats of the reciever stays as a sticky constant, while sender chats keep going above it,</p>\n<p><a href=\"https://i.stack.imgur.com/1EY8D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1EY8D.png\" alt=\"the database\" /></a></p>\n<pre><code>```   \nCollections.sort(chatMessages,\n                    (obj1, obj2) -&gt; obj1.dateObject.compareTo(obj2.dateObject));\n            if(count == 0) {\n                chatAdapter.notifyDataSetChanged();\n\n} else {\n}\n</code></pre>\n<pre><code>//new lines of code that seem to work\nchatMessages.sort(Comparator.comparing(obj -&gt; obj.dateObject));\n            if(count == 0) {\n                chatAdapter.notifyDataSetChanged();\n</code></pre>\n<p>and the last part, to be more specific with change of events, and use notifyDataSetChanged() as a last resort.</p>\n<p><a href=\"https://i.stack.imgur.com/LIGx6.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LIGx6.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","tomcat"],"comments":[{"owner":{"account_id":4487116,"reputation":429,"user_id":3649352,"accept_rate":67,"display_name":"Kunal Varpe"},"score":0,"creation_date":1671343963,"post_id":74839088,"comment_id":132077048,"body_markdown":"What is tomcat version where you are deploying this application? As you are using the servlet API &gt; 4.0 you need tomcat 9.0. If you are not using 9.0 try it once and let me know the result.","body":"What is tomcat version where you are deploying this application? As you are using the servlet API &gt; 4.0 you need tomcat 9.0. If you are not using 9.0 try it once and let me know the result."},{"owner":{"account_id":20892011,"reputation":99,"user_id":15347191,"display_name":"Nguyen Cuc"},"score":0,"creation_date":1671346742,"post_id":74839088,"comment_id":132077348,"body_markdown":"@KunalVarpe I am using Tomcat v10.0, should I delete it and reinstall it again ?","body":"@KunalVarpe I am using Tomcat v10.0, should I delete it and reinstall it again ?"},{"owner":{"account_id":4487116,"reputation":429,"user_id":3649352,"accept_rate":67,"display_name":"Kunal Varpe"},"score":0,"creation_date":1671347209,"post_id":74839088,"comment_id":132077390,"body_markdown":"No if you are using the version greater than 9.0 then it would be fine. Can you create complete minimal project which can run deploy and reproduces the issue?","body":"No if you are using the version greater than 9.0 then it would be fine. Can you create complete minimal project which can run deploy and reproduces the issue?"},{"owner":{"account_id":20892011,"reputation":99,"user_id":15347191,"display_name":"Nguyen Cuc"},"score":0,"creation_date":1671348489,"post_id":74839088,"comment_id":132077533,"body_markdown":"@KunalVarpe thanks for your comment. I think the problem is because of the Tomcat v10.0, because when I delete it and reinstall Tomcat v9.0.62, my code ran ok with no problem.","body":"@KunalVarpe thanks for your comment. I think the problem is because of the Tomcat v10.0, because when I delete it and reinstall Tomcat v9.0.62, my code ran ok with no problem."},{"owner":{"account_id":1696393,"reputation":748,"user_id":1557707,"accept_rate":67,"display_name":"vish213"},"score":0,"creation_date":1671352191,"post_id":74839088,"comment_id":132077966,"body_markdown":"Can you please double check the URL you&#39;re hitting? If your war file is named something else, you need to map URL accordingly. See if it&#39;s http://localhost:8080/DemoSpringMVC-0.0.1-SNAPSHOT/","body":"Can you please double check the URL you&#39;re hitting? If your war file is named something else, you need to map URL accordingly. See if it&#39;s <a href=\"http://localhost:8080/DemoSpringMVC-0.0.1-SNAPSHOT/\" rel=\"nofollow noreferrer\">localhost:8080/DemoSpringMVC-0.0.1-SNAPSHOT</a>"}],"answers":[{"tags":[],"owner":{"account_id":4487116,"reputation":429,"user_id":3649352,"accept_rate":67,"display_name":"Kunal Varpe"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1671350058,"creation_date":1671350058,"answer_id":74839860,"question_id":74839088,"body_markdown":"As per your code you are using servlet API 4.0 which needs Tomcat 9.0 and you mentioned that you are using Tomcat 10, so try using the Tomcat 9.0+ version.","title":"Tomcat Spring can not realize the path of the file even the path has been added to servlet.xml and HomeController.java file?","body":"<p>As per your code you are using servlet API 4.0 which needs Tomcat 9.0 and you mentioned that you are using Tomcat 10, so try using the Tomcat 9.0+ version.</p>\n"}],"owner":{"account_id":20892011,"reputation":99,"user_id":15347191,"display_name":"Nguyen Cuc"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671350058,"creation_date":1671336558,"question_id":74839088,"body_markdown":"I am newbie with Java Spring and making a very simple program with Spring.\r\n\r\nI decided to put my web.xml, demo-config.servet.xml and some folders and xml files into one path to make it to be clear.\r\n\r\nThen, I updated the HomeController.java file :\r\n\r\n    package DemoSpringMVC.Controller;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    @Controller\r\n    public class HomeController {\r\n\t@RequestMapping(&quot;/&quot;)\r\n\tpublic String Index() {\r\n\t\treturn &quot;user/index&quot;;\r\n\t}\r\n    }\r\n\r\nand I updated the demo-config-servlet.xml file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans \r\n    http://www.springframework.org/schema/beans/spring-beans.xsd\r\n\t\thttp://www.springframework.org/schema/context \r\n    http://www.springframework.org/schema/context/spring-context-4.3.xsd&quot;&gt;\r\n    &lt;context:component-scan\r\n\t\tbase-package=&quot;DemoSpringMVC&quot;&gt;&lt;/context:component-scan&gt;\r\n\t\t&lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n\t\t\t&lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot;&gt;&lt;/property&gt;\r\n\t\t\t&lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;&gt;&lt;/property&gt;\r\n\t\t&lt;/bean&gt;\r\n        &lt;/beans&gt;\r\n\r\nThe eclipse shows no error, so I thought that I have no error.\r\n\r\nBut when I ran my DemoSpringMVC, it show me that the link is inactive ? As you can see in this picture ?\r\n\r\n[![My problem][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ximBF.png\r\n\r\nHere is my code, if you need to reference\r\n\r\n    https://github.com/nguyencuc2586/Spring3.1\r\n\r\nCould you please give me some advices ? Thank you in advance.","title":"Tomcat Spring can not realize the path of the file even the path has been added to servlet.xml and HomeController.java file?","body":"<p>I am newbie with Java Spring and making a very simple program with Spring.</p>\n<p>I decided to put my web.xml, demo-config.servet.xml and some folders and xml files into one path to make it to be clear.</p>\n<p>Then, I updated the HomeController.java file :</p>\n<pre><code>package DemoSpringMVC.Controller;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\n@Controller\npublic class HomeController {\n@RequestMapping(&quot;/&quot;)\npublic String Index() {\n    return &quot;user/index&quot;;\n}\n}\n</code></pre>\n<p>and I updated the demo-config-servlet.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxmlns:context=&quot;http://www.springframework.org/schema/context&quot;\nxsi:schemaLocation=&quot;http://www.springframework.org/schema/beans \nhttp://www.springframework.org/schema/beans/spring-beans.xsd\n    http://www.springframework.org/schema/context \nhttp://www.springframework.org/schema/context/spring-context-4.3.xsd&quot;&gt;\n&lt;context:component-scan\n    base-package=&quot;DemoSpringMVC&quot;&gt;&lt;/context:component-scan&gt;\n    &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    &lt;/beans&gt;\n</code></pre>\n<p>The eclipse shows no error, so I thought that I have no error.</p>\n<p>But when I ran my DemoSpringMVC, it show me that the link is inactive ? As you can see in this picture ?</p>\n<p><a href=\"https://i.stack.imgur.com/ximBF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ximBF.png\" alt=\"My problem\" /></a></p>\n<p>Here is my code, if you need to reference</p>\n<pre><code>https://github.com/nguyencuc2586/Spring3.1\n</code></pre>\n<p>Could you please give me some advices ? Thank you in advance.</p>\n"},{"tags":["java","methods","compiler-errors","return-value"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1671314181,"post_id":74837717,"comment_id":132074254,"body_markdown":"The method does return the value. You just are trying to use it wrong. You need to assign the return value to a variable if you want to use it: `int choice = choiceList();`. Note that the name can of the variable can be chosen by you, so `int alibaba = choiceList();`  and then doing `switch(alibaba)` is just as valid. The name of the variable inside the method and the name of the variable you assign the return value to have no relationship to another.","body":"The method does return the value. You just are trying to use it wrong. You need to assign the return value to a variable if you want to use it: <code>int choice = choiceList();</code>. Note that the name can of the variable can be chosen by you, so <code>int alibaba = choiceList();</code>  and then doing <code>switch(alibaba)</code> is just as valid. The name of the variable inside the method and the name of the variable you assign the return value to have no relationship to another."},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1671314453,"post_id":74837717,"comment_id":132074288,"body_markdown":"I just realized that you are also trying to define your method inside the main method.... This is not valid java. You can&#39;t define methods inside other methods. Honestly I would recommend taking a step back reading a basic tutorial about how methods/ return values etc work in java.","body":"I just realized that you are also trying to define your method inside the main method.... This is not valid java. You can&#39;t define methods inside other methods. Honestly I would recommend taking a step back reading a basic tutorial about how methods/ return values etc work in java."},{"owner":{"account_id":27284869,"reputation":21,"user_id":20804209,"display_name":"Edgar"},"score":0,"creation_date":1671349213,"post_id":74837717,"comment_id":132077618,"body_markdown":"Thanks a lot- int choice = choiceList();== worked fine. I&#39;m new to java and still learning, reading. And sometimes there are spots where logic just don&#39;t work, and just need to know.","body":"Thanks a lot- int choice = choiceList();== worked fine. I&#39;m new to java and still learning, reading. And sometimes there are spots where logic just don&#39;t work, and just need to know."}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671314440,"creation_date":1671314440,"answer_id":74837752,"question_id":74837717,"body_markdown":"Right now you&#39;re ignoring the return value of `choiceList`. You could save it to a variable in order to use it:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n\r\n    int choice = choiceList();\r\n\r\n    switch (choice) {\r\n        // decide what to do based on the value of choice\r\n```","title":"Method don&#39;t return int value from scanner in method","body":"<p>Right now you're ignoring the return value of <code>choiceList</code>. You could save it to a variable in order to use it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n\n    int choice = choiceList();\n\n    switch (choice) {\n        // decide what to do based on the value of choice\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671314552,"creation_date":1671314552,"answer_id":74837765,"question_id":74837717,"body_markdown":"You have also a mismatch in your brackets as your `choiceList` method seems part of the `main` method. Please see my following correction of your code which also includes the other&#39;s suggestions that you should store the return value of your `choiceList` method in a new variable which you would evalute in your switch:\r\n\r\n```Java\r\npublic static void main(String[] args) {\r\n\r\n  int choice = choiceList();\r\n  switch (choice) {\r\n      case 1:\r\n          // do something\r\n          break;\r\n      case 2:\r\n          // do something\r\n          break;\r\n      case 0:\r\n          break;\r\n  }\r\n} // end the main method\r\n\r\npublic static int choiceList() {\r\n    Scanner jauns = new Scanner(System.in);\r\n    System.out.println(&quot;1. Show the seats&quot;);\r\n    System.out.println(&quot;2. Buy a ticket&quot;);\r\n    System.out.println(&quot;0. Exit&quot;);\r\n    int choice = jauns.nextInt();\r\n    return choice;\r\n}\r\n\r\n```","title":"Method don&#39;t return int value from scanner in method","body":"<p>You have also a mismatch in your brackets as your <code>choiceList</code> method seems part of the <code>main</code> method. Please see my following correction of your code which also includes the other's suggestions that you should store the return value of your <code>choiceList</code> method in a new variable which you would evalute in your switch:</p>\n<pre><code>public static void main(String[] args) {\n\n  int choice = choiceList();\n  switch (choice) {\n      case 1:\n          // do something\n          break;\n      case 2:\n          // do something\n          break;\n      case 0:\n          break;\n  }\n} // end the main method\n\npublic static int choiceList() {\n    Scanner jauns = new Scanner(System.in);\n    System.out.println(&quot;1. Show the seats&quot;);\n    System.out.println(&quot;2. Buy a ticket&quot;);\n    System.out.println(&quot;0. Exit&quot;);\n    int choice = jauns.nextInt();\n    return choice;\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23054148,"reputation":46,"user_id":17170444,"display_name":"Artur Radiuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671314707,"creation_date":1671314707,"answer_id":74837786,"question_id":74837717,"body_markdown":"The problem is that value returned by choiceList method is not assigned to variable. You can try smth like this: \r\n\r\n    public static void main(String[] args) {\r\n\r\n        int choice = choiceList();\r\n\r\n        switch (choice) {\r\n            case 1:\r\n                // do something\r\n                break;\r\n            case 2:\r\n                // do something\r\n                break;\r\n            case 0:\r\n                break;\r\n        }\r\n\r\n    }\r\n\r\n    public static int choiceList() {\r\n        Scanner jauns = new Scanner(System.in);\r\n        System.out.println(&quot;1. Show the seats&quot;);\r\n        System.out.println(&quot;2. Buy a ticket&quot;);\r\n        System.out.println(&quot;0. Exit&quot;);\r\n        int choice = jauns.nextInt();\r\n        return choice;\r\n    }","title":"Method don&#39;t return int value from scanner in method","body":"<p>The problem is that value returned by choiceList method is not assigned to variable. You can try smth like this:</p>\n<pre><code>public static void main(String[] args) {\n\n    int choice = choiceList();\n\n    switch (choice) {\n        case 1:\n            // do something\n            break;\n        case 2:\n            // do something\n            break;\n        case 0:\n            break;\n    }\n\n}\n\npublic static int choiceList() {\n    Scanner jauns = new Scanner(System.in);\n    System.out.println(&quot;1. Show the seats&quot;);\n    System.out.println(&quot;2. Buy a ticket&quot;);\n    System.out.println(&quot;0. Exit&quot;);\n    int choice = jauns.nextInt();\n    return choice;\n}\n</code></pre>\n"}],"owner":{"account_id":27284869,"reputation":21,"user_id":20804209,"display_name":"Edgar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1671349247,"creation_date":1671314042,"question_id":74837717,"body_markdown":"\r\n    public static void main(String[] args) {\r\n\r\n        choiceList();\r\n\r\n        switch (choice) {\r\n            case 1:\r\n            // do something\r\n            break;\r\n            case 2:\r\n            // do something\r\n            break;\r\n            case 0:\r\n            break;\r\n        }\r\n     }\r\n     public static int choiceList() {\r\n         Scanner jauns = new Scanner(System.in);\r\n         System.out.println(&quot;1. Show the seats&quot;);\r\n         System.out.println(&quot;2. Buy a ticket&quot;);\r\n         System.out.println(&quot;0. Exit&quot;);\r\n         int choice = jauns.nextInt();\r\n         return choice;\r\n     }\r\n    \r\n\r\n\r\nThe thing is that the method choiceList() dont return int choice. IDE shows - java: cannot find symbol\r\nIf i declare this method in /public static void main/ method it shows - void cannot return, but it is java main method and cannot be changed. So how can i return int value from method in main method?\r\n\r\n\r\n\r\n\r\nThis is a bit confusing, tried to look up everywhere... Thats not all code, but the part that doesn&#39;t work.. Thanks in advance!","title":"Method don&#39;t return int value from scanner in method","body":"<pre><code>public static void main(String[] args) {\n\n    choiceList();\n\n    switch (choice) {\n        case 1:\n        // do something\n        break;\n        case 2:\n        // do something\n        break;\n        case 0:\n        break;\n    }\n }\n public static int choiceList() {\n     Scanner jauns = new Scanner(System.in);\n     System.out.println(&quot;1. Show the seats&quot;);\n     System.out.println(&quot;2. Buy a ticket&quot;);\n     System.out.println(&quot;0. Exit&quot;);\n     int choice = jauns.nextInt();\n     return choice;\n }\n</code></pre>\n<p>The thing is that the method choiceList() dont return int choice. IDE shows - java: cannot find symbol\nIf i declare this method in /public static void main/ method it shows - void cannot return, but it is java main method and cannot be changed. So how can i return int value from method in main method?</p>\n<p>This is a bit confusing, tried to look up everywhere... Thats not all code, but the part that doesn't work.. Thanks in advance!</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1671347862,"post_id":74839584,"comment_id":132077459,"body_markdown":"If you hover over the code, I expect Android Studio will tell you why it&#39;s highlighted.","body":"If you hover over the code, I expect Android Studio will tell you why it&#39;s highlighted."},{"owner":{"account_id":20561769,"reputation":454,"user_id":15092122,"display_name":"Saurav Rao"},"score":0,"creation_date":1671348693,"post_id":74839584,"comment_id":132077558,"body_markdown":"If you click on ! in triangle (in top right corner of the editor), it will show you all the warnings that highlights the code","body":"If you click on ! in triangle (in top right corner of the editor), it will show you all the warnings that highlights the code"},{"owner":{"account_id":26845407,"reputation":19,"user_id":20431236,"display_name":"prabin chand"},"score":0,"creation_date":1671349858,"post_id":74839584,"comment_id":132077695,"body_markdown":"@SauravRao , help me with this.\nhttps://stackoverflow.com/questions/74834819/how-to-implement-onclicklistener-inside-dialogbox-which-is-inside-fragment-in-an","body":"@SauravRao , help me with this. <a href=\"https://stackoverflow.com/questions/74834819/how-to-implement-onclicklistener-inside-dialogbox-which-is-inside-fragment-in-an\" title=\"how to implement onclicklistener inside dialogbox which is inside fragment in an\">stackoverflow.com/questions/74834819/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":26845407,"reputation":19,"user_id":20431236,"display_name":"prabin chand"},"score":0,"creation_date":1671348681,"post_id":74839733,"comment_id":132077556,"body_markdown":"Yes, did that and it added &quot;@SuppressLint(&quot;ClickableViewAccessibility&quot;)&quot;","body":"Yes, did that and it added &quot;@SuppressLint(&quot;ClickableViewAccessibility&quot;)&quot;"},{"owner":{"account_id":18724988,"reputation":519,"user_id":13651898,"display_name":"Supun Ayeshmantha"},"score":0,"creation_date":1671349008,"post_id":74839733,"comment_id":132077589,"body_markdown":"For that suppression try this &gt; https://stackoverflow.com/a/47134490/13651898","body":"For that suppression try this &gt; <a href=\"https://stackoverflow.com/a/47134490/13651898\">stackoverflow.com/a/47134490/13651898</a>"},{"owner":{"account_id":26845407,"reputation":19,"user_id":20431236,"display_name":"prabin chand"},"score":0,"creation_date":1671349823,"post_id":74839733,"comment_id":132077692,"body_markdown":"Will you help me answering this ?\nhttps://stackoverflow.com/questions/74834819/how-to-implement-onclicklistener-inside-dialogbox-which-is-inside-fragment-in-an","body":"Will you help me answering this ? <a href=\"https://stackoverflow.com/questions/74834819/how-to-implement-onclicklistener-inside-dialogbox-which-is-inside-fragment-in-an\" title=\"how to implement onclicklistener inside dialogbox which is inside fragment in an\">stackoverflow.com/questions/74834819/&hellip;</a>"}],"tags":[],"owner":{"account_id":18724988,"reputation":519,"user_id":13651898,"display_name":"Supun Ayeshmantha"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671348370,"creation_date":1671348370,"answer_id":74839733,"question_id":74839584,"body_markdown":"Codes automatically get highlighted if there&#39;s  any warning or suggestions for a code block . In this case , the Android studio suggests to use a lambda function. \r\n\r\nTo see the suggestion ,\r\n \r\n1. Hover over the code block \r\n2. Right click &gt; Show context Action\r\n3. Alt + Enter\r\n\r\n ","title":"Why is Android studio is showing yellow highlighted in this code?","body":"<p>Codes automatically get highlighted if there's  any warning or suggestions for a code block . In this case , the Android studio suggests to use a lambda function.</p>\n<p>To see the suggestion ,</p>\n<ol>\n<li>Hover over the code block</li>\n<li>Right click &gt; Show context Action</li>\n<li>Alt + Enter</li>\n</ol>\n"}],"owner":{"account_id":26845407,"reputation":19,"user_id":20431236,"display_name":"prabin chand"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74839733,"answer_count":1,"score":0,"last_activity_date":1671348370,"creation_date":1671345995,"question_id":74839584,"body_markdown":"Helloe everyone!\r\nI am curious to know why android studio is showing yellow highlighted in this portion of code.\r\n\r\nI am using this touch listener on EditTextView because I want to hide something when this EditTextView is clicked/\r\n\r\n&gt;&gt;snippet of code\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/crrgB.png","title":"Why is Android studio is showing yellow highlighted in this code?","body":"<p>Helloe everyone!\nI am curious to know why android studio is showing yellow highlighted in this portion of code.</p>\n<p>I am using this touch listener on EditTextView because I want to hide something when this EditTextView is clicked/</p>\n<blockquote>\n<blockquote>\n<p>snippet of code</p>\n</blockquote>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/crrgB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/crrgB.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","arrays","for-loop","arraylist","calculator"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1671351045,"post_id":74839705,"comment_id":132077848,"body_markdown":"Perhaps [reverse Polish notation](https://en.wikipedia.org/wiki/Reverse_Polish_notation) or postfix can be of some help in organizing your code.  Generally, you parse the expression, then once your parsing is correct, you calculate the expression.","body":"Perhaps <a href=\"https://en.wikipedia.org/wiki/Reverse_Polish_notation\" rel=\"nofollow noreferrer\">reverse Polish notation</a> or postfix can be of some help in organizing your code.  Generally, you parse the expression, then once your parsing is correct, you calculate the expression."}],"owner":{"account_id":19664361,"reputation":13,"user_id":14395158,"display_name":"IamTufa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671347908,"creation_date":1671347908,"question_id":74839705,"body_markdown":"```\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.Scanner;\r\npublic class Model {\r\n\t  \r\n\tprivate ArrayList&lt;String&gt; num = new ArrayList&lt;&gt;();\r\n\tprivate ArrayList&lt;String&gt; op = new ArrayList&lt;&gt;();\r\n\tprivate ArrayList&lt;String&gt; num1 = new ArrayList&lt;&gt;();\r\n\tprivate ArrayList&lt;String&gt; op1 = new ArrayList&lt;&gt;();\r\n\tprivate Scanner sc = new Scanner(System.in);\r\n\t\r\n\tprivate ArrayList&lt;String&gt; ope = new ArrayList&lt;&gt;();\r\n\tprivate ArrayList&lt;Double&gt; nume = new ArrayList&lt;&gt;();\r\n\t\r\n\tpublic Model()\r\n\t{\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void split()\r\n\t{\r\n\t\tString exp= sc.next();\r\n\t\tString num[]= exp.split(&quot;[/+/*/-]&quot;);\r\n\t\tString op[]= exp.split(&quot;[0123456789]&quot;);\r\n\t\t\r\n\t\tfor(String x : num)\r\n\t\t{\r\n\t\t\tthis.num.add(x);\r\n\t\t\tthis.num1.add(x);\r\n\t\t}\r\n\t\r\n\t\t\r\n\t\tfor(int i =1; i&lt;op.length; i++)\r\n\t\t{\r\n\t\t\tthis.op.add(op[i]);\r\n\t\t\tthis.op1.add(op[i]);\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\t\r\n\t}\r\n\tpublic void precedence_work()\r\n\t{\r\n\t\tfor(int i=0; i &lt;op.size();i++)\r\n\t\t{\r\n\t\t\tString num = &quot;&quot;;\r\n\t\t\tif(this.op.get(i).equals(&quot;*&quot;)||this.op.get(i).equals(&quot;/&quot;))\r\n\t\t\t{\r\n\t\t\t\textra_split(i);\r\n\t\t\t\tnum = calculate_split();\r\n\t\t\t\t\r\n\t\t\t\tthis.op1.remove(i);\r\n\t\t\t\tthis.num1.set(i, num);\r\n\t\t\t\tthis.num1.remove(i+1);\r\n\t\t\t\tSystem.out.println(i + &quot; loop debug&quot;);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\tfor(int i=0; i &lt;3;i++)\r\n\t\t{\r\n\t\t\t\r\n\t\t\textra_split(i);\r\n\t\t\tString num = calculate_split();\r\n\t\t\t\r\n\t\t\tthis.op1.remove(i);\r\n\t\t\tthis.num1.set(i, num);\r\n\t\t\tthis.num1.remove(i+1);\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(num);\r\n\t}\r\n\r\n\tprivate void extra_split(int index)\r\n\t{\t\r\n\t\t\r\n\t\r\n\t\tope.add(this.op.get(index));\r\n\t\tnume.add(Double.parseDouble(num.get(index))); //specifying the needed high precedence expression to be worked on\r\n\t\tnume.add(Double.parseDouble(num.get(index+1)));//by putting them ina specific arraylist to make stuff easier to work with\r\n\t\t\r\n\t\r\n\t}\r\n\tprivate String calculate_split()\r\n\t{\r\n\t\tdouble num = 0;\r\n\t\tif(ope.get(0).equals(&quot;*&quot;)  )\r\n\t\t{\r\n\t\t\t num = nume.get(0)*nume.get(1);\r\n\t\t\t System.out.println(num);\r\n\t\t}\r\n\t\telse if(ope.get(0).equals(&quot;/&quot;)  )\r\n\t\t{\r\n\t\t\t num = (nume.get(0))/(nume.get(1));\r\n\t\t}\r\n\t\telse if(ope.get(0).equals(&quot;+&quot;)  )\r\n\t\t{\r\n\t\t\t num = nume.get(0)+nume.get(1);\r\n\t\t}\r\n\t\telse if(ope.get(0).equals(&quot;-&quot;)  )\r\n\t\t{\r\n\t\t\t num = nume.get(0)-nume.get(1);\r\n\t\t}\r\n\t\telse\r\n\t\t\tSystem.out.println(&quot;Error!&quot;);\r\n\t\tSystem.out.println(&quot;Nume before, debug:&quot; + nume);\r\n\t\tSystem.out.println(&quot;Ope before, debug:&quot; + ope);\r\n\t\tthis.ope.remove(0);\r\n\t\tthis.nume.remove(nume.get(0));//because whenever i put index 0 or index 1, it is giving error but somehow this works\r\n\t\tthis.nume.remove(nume.get(0));\r\n\t\tSystem.out.println(&quot;Nume after, debug:&quot; + nume);\r\n\t\tSystem.out.println(&quot;Ope after, debug:&quot; + ope);\r\n\t\treturn Double.toString(num);\r\n\t\t\r\n\t\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nI tried playing a lot around indexes, making the arraylist having the values but opposite then I use the index in a decrementing manner but it still did not work, and I did other ways but they did not make any sense but I was just hoping they work. \r\n\r\nExplanation of the code: the algorithm i am trying to do is the following\r\n\r\nUser enters: 1+3*2-3*5\r\nSplit the operators and numbers and put them in different arraylist\r\nnum arraylist [1, 3, 2, 3 , 5]\r\noperator arraylist[+, *, -, *]\r\n\r\nlook at the op and num arraylist , you will realize that if &quot;*&quot; is index  1 in op arraylist then the number supposedly to be before it is index 1 in the num arraylist and the number after it is index 1 +1 = 2 \r\n\r\nso 3*2 but to make the code easier to calculate, i put that two specific numbers with the following operator in a different arraylist nume and ope, so when i am working on this nummber the nume is [3,2] ope[*] however after finishing from calculating this, the  arraylist is reset in order for the next expression to be worked on`","title":"I am building a calculator, the user enters something similar to this: 3+2*7/4 and the code calculate it.However i have a big problem with the indexes","body":"<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Scanner;\npublic class Model {\n      \n    private ArrayList&lt;String&gt; num = new ArrayList&lt;&gt;();\n    private ArrayList&lt;String&gt; op = new ArrayList&lt;&gt;();\n    private ArrayList&lt;String&gt; num1 = new ArrayList&lt;&gt;();\n    private ArrayList&lt;String&gt; op1 = new ArrayList&lt;&gt;();\n    private Scanner sc = new Scanner(System.in);\n    \n    private ArrayList&lt;String&gt; ope = new ArrayList&lt;&gt;();\n    private ArrayList&lt;Double&gt; nume = new ArrayList&lt;&gt;();\n    \n    public Model()\n    {\n        \n    }\n    \n    public void split()\n    {\n        String exp= sc.next();\n        String num[]= exp.split(&quot;[/+/*/-]&quot;);\n        String op[]= exp.split(&quot;[0123456789]&quot;);\n        \n        for(String x : num)\n        {\n            this.num.add(x);\n            this.num1.add(x);\n        }\n    \n        \n        for(int i =1; i&lt;op.length; i++)\n        {\n            this.op.add(op[i]);\n            this.op1.add(op[i]);\n            \n            \n        }\n\n        \n    }\n    public void precedence_work()\n    {\n        for(int i=0; i &lt;op.size();i++)\n        {\n            String num = &quot;&quot;;\n            if(this.op.get(i).equals(&quot;*&quot;)||this.op.get(i).equals(&quot;/&quot;))\n            {\n                extra_split(i);\n                num = calculate_split();\n                \n                this.op1.remove(i);\n                this.num1.set(i, num);\n                this.num1.remove(i+1);\n                System.out.println(i + &quot; loop debug&quot;);\n            }\n            \n        }\n        for(int i=0; i &lt;3;i++)\n        {\n            \n            extra_split(i);\n            String num = calculate_split();\n            \n            this.op1.remove(i);\n            this.num1.set(i, num);\n            this.num1.remove(i+1);\n        }\n        \n        System.out.println(num);\n    }\n\n    private void extra_split(int index)\n    {   \n        \n    \n        ope.add(this.op.get(index));\n        nume.add(Double.parseDouble(num.get(index))); //specifying the needed high precedence expression to be worked on\n        nume.add(Double.parseDouble(num.get(index+1)));//by putting them ina specific arraylist to make stuff easier to work with\n        \n    \n    }\n    private String calculate_split()\n    {\n        double num = 0;\n        if(ope.get(0).equals(&quot;*&quot;)  )\n        {\n             num = nume.get(0)*nume.get(1);\n             System.out.println(num);\n        }\n        else if(ope.get(0).equals(&quot;/&quot;)  )\n        {\n             num = (nume.get(0))/(nume.get(1));\n        }\n        else if(ope.get(0).equals(&quot;+&quot;)  )\n        {\n             num = nume.get(0)+nume.get(1);\n        }\n        else if(ope.get(0).equals(&quot;-&quot;)  )\n        {\n             num = nume.get(0)-nume.get(1);\n        }\n        else\n            System.out.println(&quot;Error!&quot;);\n        System.out.println(&quot;Nume before, debug:&quot; + nume);\n        System.out.println(&quot;Ope before, debug:&quot; + ope);\n        this.ope.remove(0);\n        this.nume.remove(nume.get(0));//because whenever i put index 0 or index 1, it is giving error but somehow this works\n        this.nume.remove(nume.get(0));\n        System.out.println(&quot;Nume after, debug:&quot; + nume);\n        System.out.println(&quot;Ope after, debug:&quot; + ope);\n        return Double.toString(num);\n        \n    \n        \n    }\n    \n}\n</code></pre>\n<p>I tried playing a lot around indexes, making the arraylist having the values but opposite then I use the index in a decrementing manner but it still did not work, and I did other ways but they did not make any sense but I was just hoping they work.</p>\n<p>Explanation of the code: the algorithm i am trying to do is the following</p>\n<p>User enters: 1+3<em>2-3</em>5\nSplit the operators and numbers and put them in different arraylist\nnum arraylist [1, 3, 2, 3 , 5]\noperator arraylist[+, *, -, *]</p>\n<p>look at the op and num arraylist , you will realize that if &quot;*&quot; is index  1 in op arraylist then the number supposedly to be before it is index 1 in the num arraylist and the number after it is index 1 +1 = 2</p>\n<p>so 3<em>2 but to make the code easier to calculate, i put that two specific numbers with the following operator in a different arraylist nume and ope, so when i am working on this nummber the nume is [3,2] ope[</em>] however after finishing from calculating this, the  arraylist is reset in order for the next expression to be worked on`</p>\n"},{"tags":["java","bit-manipulation","64-bit","biginteger","multiplication"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1513947813,"post_id":47941995,"comment_id":82853451,"body_markdown":"Find a math library that handles that in an optimized fashion?","body":"Find a math library that handles that in an optimized fashion?"},{"owner":{"account_id":2366187,"reputation":60172,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1513947881,"post_id":47941995,"comment_id":82853483,"body_markdown":"Have you played with the [unsigned utility methods](https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html#parseUnsignedLong-java.lang.String-)?","body":"Have you played with the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html#parseUnsignedLong-java.lang.String-\" rel=\"nofollow noreferrer\">unsigned utility methods</a>?"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1513948001,"post_id":47941995,"comment_id":82853530,"body_markdown":"I wonder what your use case is that makes the built in 64 bit long multiplication is inadequate.","body":"I wonder what your use case is that makes the built in 64 bit long multiplication is inadequate."},{"owner":{"account_id":2184749,"reputation":717,"user_id":1933399,"accept_rate":29,"display_name":"The Shoe Shiner"},"score":0,"creation_date":1513948634,"post_id":47941995,"comment_id":82853793,"body_markdown":"I&#39;ve looked for a library, but couldnt find one. Everyone says use BigInteger, but im not multiplying 1000 digit numbers, so it&#39;s too much overhead.\n\nI have looked at the unisigned utility methods, but they only add overhead by converting to strings, which is unnecessary.\n\nHere is my use case:  -1501598000831384712l x -735932670715772870l;","body":"I&#39;ve looked for a library, but couldnt find one. Everyone says use BigInteger, but im not multiplying 1000 digit numbers, so it&#39;s too much overhead.  I have looked at the unisigned utility methods, but they only add overhead by converting to strings, which is unnecessary.  Here is my use case:  -1501598000831384712l x -735932670715772870l;"},{"owner":{"account_id":12459950,"reputation":466,"user_id":9071912,"display_name":"AdamPillingTech"},"score":0,"creation_date":1513948858,"post_id":47941995,"comment_id":82853889,"body_markdown":"are you sure you can&#39;t simply multiply the 2 longs together?  https://www.javamex.com/java_equivalents/unsigned_arithmetic.shtml  &quot;unsigned addition, subtraction and multiplication are identical: we can just use the ordinary +, - and * operators;&quot;","body":"are you sure you can&#39;t simply multiply the 2 longs together?  <a href=\"https://www.javamex.com/java_equivalents/unsigned_arithmetic.shtml\" rel=\"nofollow noreferrer\">javamex.com/java_equivalents/unsigned_arithmetic.shtml</a>  &quot;unsigned addition, subtraction and multiplication are identical: we can just use the ordinary +, - and * operators;&quot;"},{"owner":{"account_id":2184749,"reputation":717,"user_id":1933399,"accept_rate":29,"display_name":"The Shoe Shiner"},"score":0,"creation_date":1513949037,"post_id":47941995,"comment_id":82853966,"body_markdown":"It doesnt have anything to do with the sign really. It&#39;s the overflow that&#39;s the problem. Regardless of the sign,  the result of the above operation overflows the 64 bits that a long can use. The sign is only a problem when trying to move it into a BigInteger, because a big integer respects the 2&#39;s compliment (signed) value. Keep in mind, the above use case is still *unsigned*. It&#39;s just the representation that&#39;s signed. If you move that string into a BigInteger it will then become *signed*, which is incorrect.","body":"It doesnt have anything to do with the sign really. It&#39;s the overflow that&#39;s the problem. Regardless of the sign,  the result of the above operation overflows the 64 bits that a long can use. The sign is only a problem when trying to move it into a BigInteger, because a big integer respects the 2&#39;s compliment (signed) value. Keep in mind, the above use case is still <i>unsigned</i>. It&#39;s just the representation that&#39;s signed. If you move that string into a BigInteger it will then become <i>signed</i>, which is incorrect."},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":0,"creation_date":1513949257,"post_id":47941995,"comment_id":82854080,"body_markdown":"You can easily turn longs into BigIntegers in an unsigned way though","body":"You can easily turn longs into BigIntegers in an unsigned way though"},{"owner":{"account_id":2184749,"reputation":717,"user_id":1933399,"accept_rate":29,"display_name":"The Shoe Shiner"},"score":0,"creation_date":1513950236,"post_id":47941995,"comment_id":82854554,"body_markdown":"Can you explain? The unsigned bits of -1501598000831384712 will not fit into a java long.","body":"Can you explain? The unsigned bits of -1501598000831384712 will not fit into a java long."},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":0,"creation_date":1513954584,"post_id":47941995,"comment_id":82856415,"body_markdown":"They do, because they&#39;re the same bits, just with a different interpretation. All you need to do is to perform the conversion in an unsigned way. For example, add `BigInteger.valueOf(2).pow(64)` if the input is negative.","body":"They do, because they&#39;re the same bits, just with a different interpretation. All you need to do is to perform the conversion in an unsigned way. For example, add <code>BigInteger.valueOf(2).pow(64)</code> if the input is negative."},{"owner":{"account_id":2184749,"reputation":717,"user_id":1933399,"accept_rate":29,"display_name":"The Shoe Shiner"},"score":0,"creation_date":1513961919,"post_id":47941995,"comment_id":82859517,"body_markdown":"No, they do not fit. You cannot represent the *exact* bits of that literal in a way that that java interprets as positive long. It will always be negatively signed.  So show me how I would get the bits of -1501598000831384712 into a BigInteger correctly (without converting to a byte array, which defeats the entire purpose, per my original post)","body":"No, they do not fit. You cannot represent the <i>exact</i> bits of that literal in a way that that java interprets as positive long. It will always be negatively signed.  So show me how I would get the bits of -1501598000831384712 into a BigInteger correctly (without converting to a byte array, which defeats the entire purpose, per my original post)"},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":0,"creation_date":1513964569,"post_id":47941995,"comment_id":82860470,"body_markdown":"Bits are just bits. Java calling the long negative doesn&#39;t mean the bits aren&#39;t there. But all of that is just leading to using BigInteger, which you said you didn&#39;t want to do, so you can use one of the other &quot;high bits of multiplication&quot; techniques.","body":"Bits are just bits. Java calling the long negative doesn&#39;t mean the bits aren&#39;t there. But all of that is just leading to using BigInteger, which you said you didn&#39;t want to do, so you can use one of the other &quot;high bits of multiplication&quot; techniques."},{"owner":{"account_id":2184749,"reputation":717,"user_id":1933399,"accept_rate":29,"display_name":"The Shoe Shiner"},"score":0,"creation_date":1513968931,"post_id":47941995,"comment_id":82862022,"body_markdown":"Sorry man, but if you put those two negative numbers directly into BigIntegers and multiply them, you get 1105075027093306281540683661382363440, which is not the correct answer. As I said before, BigInteger does not respect the unsigned bit representation. It interprets it as a literal value.","body":"Sorry man, but if you put those two negative numbers directly into BigIntegers and multiply them, you get 1105075027093306281540683661382363440, which is not the correct answer. As I said before, BigInteger does not respect the unsigned bit representation. It interprets it as a literal value."},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":0,"creation_date":1513969555,"post_id":47941995,"comment_id":82862265,"body_markdown":"Yea that&#39;s why I said &quot;add [stuff] if the input is negative&quot;. That fixes the interpretation.","body":"Yea that&#39;s why I said &quot;add [stuff] if the input is negative&quot;. That fixes the interpretation."},{"owner":{"account_id":2184749,"reputation":717,"user_id":1933399,"accept_rate":29,"display_name":"The Shoe Shiner"},"score":0,"creation_date":1513970339,"post_id":47941995,"comment_id":82862566,"body_markdown":"I agree that will work, but I guess IMO that didn&#39;t exactly fit the description of &quot;easily turn longs into BigIntegers&quot;. It requires an extra unnecessary operation. The solution below is more what I was looking for. Last step is to check the performance!","body":"I agree that will work, but I guess IMO that didn&#39;t exactly fit the description of &quot;easily turn longs into BigIntegers&quot;. It requires an extra unnecessary operation. The solution below is more what I was looking for. Last step is to check the performance!"}],"answers":[{"comments":[{"owner":{"account_id":2184749,"reputation":717,"user_id":1933399,"accept_rate":29,"display_name":"The Shoe Shiner"},"score":0,"creation_date":1513969307,"post_id":47945607,"comment_id":82862185,"body_markdown":"Excellent. This is what I was looking for, the other code just had some flaws in the addition that caused overflows. Thanks!","body":"Excellent. This is what I was looking for, the other code just had some flaws in the addition that caused overflows. Thanks!"},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":1,"creation_date":1513970569,"post_id":47945607,"comment_id":82862664,"body_markdown":"FWIW the performance of this should be a lot worse than if you did the same thing with native code. Native code can do it in just one multiplication instead of 4 plus a bunch of filler. A JNI call does have overhead of course, so hopefully you can move an entire loop to the native side.","body":"FWIW the performance of this should be a lot worse than if you did the same thing with native code. Native code can do it in just one multiplication instead of 4 plus a bunch of filler. A JNI call does have overhead of course, so hopefully you can move an entire loop to the native side."},{"owner":{"account_id":2184749,"reputation":717,"user_id":1933399,"accept_rate":29,"display_name":"The Shoe Shiner"},"score":0,"creation_date":1513970763,"post_id":47945607,"comment_id":82862752,"body_markdown":"Gotcha.  That may end up happening, but at least for future reference I&#39;ll understand the most performant way to do it in Java!","body":"Gotcha.  That may end up happening, but at least for future reference I&#39;ll understand the most performant way to do it in Java!"},{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":1,"creation_date":1514099689,"post_id":47945607,"comment_id":82886748,"body_markdown":"@DanWatson: `the other code just had some flaws in the addition that caused overflows` if you can edit or comment that *other code* easily enough, by all means do so.","body":"@DanWatson: <code>the other code just had some flaws in the addition that caused overflows</code> if you can edit or comment that <i>other code</i> easily enough, by all means do so."},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":0,"creation_date":1514123967,"post_id":47945607,"comment_id":82891505,"body_markdown":"@greybeard it&#39;s possible to add the scaled upper half of `t00` to `t01` (or `t10`) but I could not find a way to do it that actually helps - though I did not benchmark it and perhaps the slightly different structure matters in practice.","body":"@greybeard it&#39;s possible to add the scaled upper half of <code>t00</code> to <code>t01</code> (or <code>t10</code>) but I could not find a way to do it that actually helps - though I did not benchmark it and perhaps the slightly different structure matters in practice."},{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1671345689,"post_id":47945607,"comment_id":132077241,"body_markdown":"expect result as 128 bit number, else suggest &quot;return x*y&quot;","body":"expect result as 128 bit number, else suggest &quot;return x*y&quot;"}],"tags":[],"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"comment_count":6,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1671347657,"creation_date":1513965934,"answer_id":47945607,"question_id":47941995,"body_markdown":"As of Java 9 (which was a bit too new at the time this question was asked), there is now a trivial way to get the upper half of the 128-bit product of two *signed* 64-bit integers: [`Math.multiplyHigh`](https://docs.oracle.com/javase/9/docs/api/java/lang/Math.html#multiplyHigh-long-long-)\r\n\r\nThere is a relatively simple conversion from &quot;upper half of signed product&quot; to &quot;upper half unsigned product&quot; (see Hacker&#39;s Delight chapter 8), which can be used to implement an unsigned multiply high like this:\r\n\r\n    static long multiplyHighUnsigned(long x, long y) {\r\n        long signedUpperHalf = Math.multiplyHigh(x, y);\r\n        return signedUpperHalf + ((x &gt;&gt; 63) &amp; y) + ((y &gt;&gt; 63) &amp; x);\r\n    }\r\n\r\nThis has the potential to be more efficient (on platforms on which `multiplyHigh` is treated as an intrinsic function by the JIT) than the more manual approach used by the old answer, which I will leave below the line.\r\n\r\n\r\n----------\r\n\r\n\r\nIt can be done manually without BigInteger by splitting the longs up into two halves, creating the partial products, and then summing them up. Naturally the low half of the sum can be left out.\r\n\r\nThe partial products overlap, like this:\r\n\r\n      LL\r\n     LH\r\n     HL\r\n    HH\r\n\r\nSo the high halves of LH and HL must be added to the high result, and furthermore the low halves of LH and HL together with the high half of LL may carry into the bits of the high half of the result. The low half of LL is not used.\r\n\r\nSo something like this (only slightly tested):\r\n\r\n    static long hmul(long x, long y) {\r\n        long m32 = 0xffffffffL;\r\n        // split\r\n        long xl = x &amp; m32;\r\n        long xh = x &gt;&gt;&gt; 32;\r\n        long yl = y &amp; m32;\r\n        long yh = y &gt;&gt;&gt; 32;\r\n        // partial products\r\n        long t00 = xl * yl;\r\n        long t01 = xh * yl;\r\n        long t10 = xl * yh;\r\n        long t11 = xh * yh;\r\n        // resolve sum and carries\r\n        // high halves of t10 and t01 overlap with the low half of t11\r\n        t11 += (t10 &gt;&gt;&gt; 32) + (t01 &gt;&gt;&gt; 32);\r\n        // the sum of the low halves of t10 + t01 plus\r\n        // the high half of t00 may carry into the high half of the result\r\n        long tc = (t10 &amp; m32) + (t01 &amp; m32) + (t00 &gt;&gt;&gt; 32);\r\n        t11 += tc &gt;&gt;&gt; 32;\r\n        return t11;\r\n    }\r\n\r\nThis of course treats the input as *unsigned*, which does not mean they have to be positive in the sense that Java would treat them as positive, you can absolutely input -1501598000831384712L and -735932670715772870L and the [right answer][1] comes out, as confirmed by [wolfram alpha][2].\r\n\r\nIf you are prepared to interface with native code, in C++ with MSVC you could use [__umulh][3], and with GCC/Clang you can make the product as an `__uint128_t` and just shift it right, the codegen for that is [actually fine][4], it doesn&#39;t cause a full 128x128 multiply.\r\n\r\n\r\n  [1]: https://ideone.com/JlMJva\r\n  [2]: http://www.wolframalpha.com/input/?i=0xeb294092f5023378%20*%200xf5c971229761c03a\r\n  [3]: https://msdn.microsoft.com/en-us/library/67xf5cy5.aspx\r\n  [4]: https://godbolt.org/g/AfdtJr","title":"How can I handle 128 bit little endian multiplication in Java without resorting to BigInteger","body":"<p>As of Java 9 (which was a bit too new at the time this question was asked), there is now a trivial way to get the upper half of the 128-bit product of two <em>signed</em> 64-bit integers: <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/Math.html#multiplyHigh-long-long-\" rel=\"nofollow noreferrer\"><code>Math.multiplyHigh</code></a></p>\n<p>There is a relatively simple conversion from &quot;upper half of signed product&quot; to &quot;upper half unsigned product&quot; (see Hacker's Delight chapter 8), which can be used to implement an unsigned multiply high like this:</p>\n<pre><code>static long multiplyHighUnsigned(long x, long y) {\n    long signedUpperHalf = Math.multiplyHigh(x, y);\n    return signedUpperHalf + ((x &gt;&gt; 63) &amp; y) + ((y &gt;&gt; 63) &amp; x);\n}\n</code></pre>\n<p>This has the potential to be more efficient (on platforms on which <code>multiplyHigh</code> is treated as an intrinsic function by the JIT) than the more manual approach used by the old answer, which I will leave below the line.</p>\n<hr />\n<p>It can be done manually without BigInteger by splitting the longs up into two halves, creating the partial products, and then summing them up. Naturally the low half of the sum can be left out.</p>\n<p>The partial products overlap, like this:</p>\n<pre><code>  LL\n LH\n HL\nHH\n</code></pre>\n<p>So the high halves of LH and HL must be added to the high result, and furthermore the low halves of LH and HL together with the high half of LL may carry into the bits of the high half of the result. The low half of LL is not used.</p>\n<p>So something like this (only slightly tested):</p>\n<pre><code>static long hmul(long x, long y) {\n    long m32 = 0xffffffffL;\n    // split\n    long xl = x &amp; m32;\n    long xh = x &gt;&gt;&gt; 32;\n    long yl = y &amp; m32;\n    long yh = y &gt;&gt;&gt; 32;\n    // partial products\n    long t00 = xl * yl;\n    long t01 = xh * yl;\n    long t10 = xl * yh;\n    long t11 = xh * yh;\n    // resolve sum and carries\n    // high halves of t10 and t01 overlap with the low half of t11\n    t11 += (t10 &gt;&gt;&gt; 32) + (t01 &gt;&gt;&gt; 32);\n    // the sum of the low halves of t10 + t01 plus\n    // the high half of t00 may carry into the high half of the result\n    long tc = (t10 &amp; m32) + (t01 &amp; m32) + (t00 &gt;&gt;&gt; 32);\n    t11 += tc &gt;&gt;&gt; 32;\n    return t11;\n}\n</code></pre>\n<p>This of course treats the input as <em>unsigned</em>, which does not mean they have to be positive in the sense that Java would treat them as positive, you can absolutely input -1501598000831384712L and -735932670715772870L and the <a href=\"https://ideone.com/JlMJva\" rel=\"nofollow noreferrer\">right answer</a> comes out, as confirmed by <a href=\"http://www.wolframalpha.com/input/?i=0xeb294092f5023378%20*%200xf5c971229761c03a\" rel=\"nofollow noreferrer\">wolfram alpha</a>.</p>\n<p>If you are prepared to interface with native code, in C++ with MSVC you could use <a href=\"https://msdn.microsoft.com/en-us/library/67xf5cy5.aspx\" rel=\"nofollow noreferrer\">__umulh</a>, and with GCC/Clang you can make the product as an <code>__uint128_t</code> and just shift it right, the codegen for that is <a href=\"https://godbolt.org/g/AfdtJr\" rel=\"nofollow noreferrer\">actually fine</a>, it doesn't cause a full 128x128 multiply.</p>\n"}],"owner":{"account_id":2184749,"reputation":717,"user_id":1933399,"accept_rate":29,"display_name":"The Shoe Shiner"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":586,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":47945607,"answer_count":1,"score":2,"last_activity_date":1671347657,"creation_date":1513947670,"question_id":47941995,"body_markdown":"I need to multiply two 8 byte (64 bit) arrays in the fastest way possible. The byte arrays are little endian. The arrays can be wrapped in a ByteBuffer and treated as little endian to easily resolve a java &quot;long&quot; value that correctly represents the bytes (but not the real nominal value since java longs are 2s compliment).\r\n\r\nJava&#39;s standard way to handle large math is BigInteger. But that implementation is slow and unnecessary since im very strictly working with 64 bits x 64 bits. In addition, you can&#39;t throw the &quot;long&quot; value into one because the nominal value is incorrect, and I can&#39;t use the byte array directly because it&#39;s little endian. I need to be able to do this without having to use up more memory / CPU to reverse the array. This type of multiplication should be able to execute 1m+ times per second. BigInteger doesn&#39;t really come close to meeting that requirement anyway, so I&#39;m trying to do it via splitting the high order bits from the low order bits, but I can&#39;t get it working consistently.\r\n\r\nThe high-order-bits-only code is only working for a subset of longs because even the intermediate addition can overflow. I got my current code from this answer....\r\n\r\n[https://stackoverflow.com/questions/18859207/high-bits-of-long-multiplication-in-java][1]\r\n\r\nIs there a more generic pattern for getting hi/lo order bits from 128 bit multiplication? That works for the largest long values?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/18859207/high-bits-of-long-multiplication-in-java\r\n\r\nEdit:\r\n\r\nFWIW I&#39;m prepared for the answer to be.. &quot;cant do that in java, do it in c++ and call via JNI&quot;. Though I&#39;m hoping someone can give a java solution before it comes to that.","title":"How can I handle 128 bit little endian multiplication in Java without resorting to BigInteger","body":"<p>I need to multiply two 8 byte (64 bit) arrays in the fastest way possible. The byte arrays are little endian. The arrays can be wrapped in a ByteBuffer and treated as little endian to easily resolve a java \"long\" value that correctly represents the bytes (but not the real nominal value since java longs are 2s compliment).</p>\n\n<p>Java's standard way to handle large math is BigInteger. But that implementation is slow and unnecessary since im very strictly working with 64 bits x 64 bits. In addition, you can't throw the \"long\" value into one because the nominal value is incorrect, and I can't use the byte array directly because it's little endian. I need to be able to do this without having to use up more memory / CPU to reverse the array. This type of multiplication should be able to execute 1m+ times per second. BigInteger doesn't really come close to meeting that requirement anyway, so I'm trying to do it via splitting the high order bits from the low order bits, but I can't get it working consistently.</p>\n\n<p>The high-order-bits-only code is only working for a subset of longs because even the intermediate addition can overflow. I got my current code from this answer....</p>\n\n<p><a href=\"https://stackoverflow.com/questions/18859207/high-bits-of-long-multiplication-in-java\">high bits of long multiplication in Java?</a></p>\n\n<p>Is there a more generic pattern for getting hi/lo order bits from 128 bit multiplication? That works for the largest long values?</p>\n\n<p>Edit:</p>\n\n<p>FWIW I'm prepared for the answer to be.. \"cant do that in java, do it in c++ and call via JNI\". Though I'm hoping someone can give a java solution before it comes to that.</p>\n"},{"tags":["java","android","android-studio","logic"],"comments":[{"owner":{"account_id":18724988,"reputation":519,"user_id":13651898,"display_name":"Supun Ayeshmantha"},"score":0,"creation_date":1671350238,"post_id":74834819,"comment_id":132077749,"body_markdown":"I didn&#39;t get your questiion . Do you want to add a setOnClickListner function to a item inside a custom dialog?","body":"I didn&#39;t get your questiion . Do you want to add a setOnClickListner function to a item inside a custom dialog?"},{"owner":{"account_id":26845407,"reputation":19,"user_id":20431236,"display_name":"prabin chand"},"score":0,"creation_date":1671351586,"post_id":74834819,"comment_id":132077905,"body_markdown":"yes,  i want to user seOnClickListener(this) inside custom dialog. how can i do that ?","body":"yes,  i want to user seOnClickListener(this) inside custom dialog. how can i do that ?"},{"owner":{"account_id":18724988,"reputation":519,"user_id":13651898,"display_name":"Supun Ayeshmantha"},"score":0,"creation_date":1671351733,"post_id":74834819,"comment_id":132077919,"body_markdown":"You already done that on ImageView calendarImg ??","body":"You already done that on ImageView calendarImg ??"},{"owner":{"account_id":26845407,"reputation":19,"user_id":20431236,"display_name":"prabin chand"},"score":0,"creation_date":1671395472,"post_id":74834819,"comment_id":132085190,"body_markdown":"Yes, i did but i want to code like this : calendarImg.setOnClickListener(this)","body":"Yes, i did but i want to code like this : calendarImg.setOnClickListener(this)"},{"owner":{"account_id":18724988,"reputation":519,"user_id":13651898,"display_name":"Supun Ayeshmantha"},"score":0,"creation_date":1671433194,"post_id":74834819,"comment_id":132090190,"body_markdown":"When you click on a dialog button , You need to run a function in Fragment? Then you need to try a callback function","body":"When you click on a dialog button , You need to run a function in Fragment? Then you need to try a callback function"},{"owner":{"account_id":26845407,"reputation":19,"user_id":20431236,"display_name":"prabin chand"},"score":0,"creation_date":1671458621,"post_id":74834819,"comment_id":132097125,"body_markdown":"how can i use callback function?","body":"how can i use callback function?"},{"owner":{"account_id":18724988,"reputation":519,"user_id":13651898,"display_name":"Supun Ayeshmantha"},"score":0,"creation_date":1671502458,"post_id":74834819,"comment_id":132108606,"body_markdown":"try this https://stackoverflow.com/questions/3398363/how-to-define-callbacks-in-android  in java. but It will be easy in kotlin","body":"try this <a href=\"https://stackoverflow.com/questions/3398363/how-to-define-callbacks-in-android\" title=\"how to define callbacks in android\">stackoverflow.com/questions/3398363/&hellip;</a>  in java. but It will be easy in kotlin"}],"owner":{"account_id":26845407,"reputation":19,"user_id":20431236,"display_name":"prabin chand"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671346221,"creation_date":1671286777,"question_id":74834819,"body_markdown":"I want to implement View.onClickListener inside **DialogPlus** but i dont know how to implement it inside Dialogbox .\r\nI have implemented and overriden onClickListener in ExpenseFragment class and performed fab.setOnClickListener(this) it&#39;s working fine.\r\n\r\nIn the same way i also want to perform someIV.setOnClickListener(this) and perform required action in dialogView which is inside addNote().\r\n\r\n\r\n\r\n\r\n&gt;&gt;Here&#39;s my code ....\r\n\r\n\r\n\r\n\r\n    public class ExpenseFragment extends Fragment implements View.OnClickListener {\r\n        private TextView totalExpenseTV;\r\n        private FloatingActionButton fab;\r\n        private RecyclerView recyclerView;\r\n        private ImageView filterIcon;\r\n        private PieChart pieChart;\r\n    \r\n        private Animation rotateForward, rotateBackward;\r\n    \r\n        private FirebaseRecyclerOptions&lt;ExpenseModel&gt; options;\r\n        private MyAdapter adapter;\r\n    \r\n        private int calendarImgClick = 0;\r\n    \r\n        public void onViewCreated(@NonNull View attachInParentView, Bundle savedInstanceState) {\r\n            super.onViewCreated(attachInParentView, savedInstanceState);\r\n            findViewByIDS(attachInParentView);\r\n            setupRecyclerView();\r\n            fabAnimation();\r\n            fab.setOnClickListener(this);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n            // Inflate the layout for this fragment\r\n            return inflater.inflate(R.layout.fragment_expense, container, false);\r\n        }\r\n    \r\n        private void fabAnimation() {\r\n            rotateForward = AnimationUtils.loadAnimation(getActivity(), R.anim.rotate_forward);\r\n            rotateBackward = AnimationUtils.loadAnimation(getActivity(), R.anim.rotate_backward);\r\n            rotateBackward.setDuration(300);\r\n            rotateForward.setDuration(300);\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void onClick(View view) {\r\n            fab.startAnimation(rotateForward);\r\n            rotateForward.setAnimationListener(new Animation.AnimationListener() {\r\n                @Override\r\n                public void onAnimationStart(Animation animation) {\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onAnimationEnd(Animation animation) {\r\n                    addNote();\r\n                }\r\n    \r\n                @Override\r\n                public void onAnimationRepeat(Animation animation) {\r\n    \r\n                }\r\n            });\r\n        }\r\n    \r\n        private void addNote() {\r\n            if (getActivity() != null) {\r\n                DialogPlus dialog = DialogPlus.newDialog(getActivity())\r\n                        .setContentHolder(new ViewHolder(R.layout.add_expense_layout))\r\n                        .setExpanded(false)\r\n                        .setOnDismissListener(new OnDismissListener() {\r\n                            @Override\r\n                            public void onDismiss(DialogPlus dialog) {\r\n                                fab.startAnimation(rotateBackward);\r\n                            }\r\n                        })\r\n                        .create();\r\n    \r\n                View myView = dialog.getHolderView();\r\n                TextView expense_date = myView.findViewById(R.id.expense_date);\r\n                EditText expense_title = myView.findViewById(R.id.expense_title);\r\n                EditText expense_amount = myView.findViewById(R.id.expense_amount);\r\n                Button add_note_button = myView.findViewById(R.id.add_note_btn);\r\n                ImageView calendarImg = myView.findViewById(R.id.add_calendar);\r\n                CalendarView calendarView = myView.findViewById(R.id.calenderView);\r\n                LinearLayout linearLayout = myView.findViewById(R.id.linearCalenderLayout);\r\n    \r\n                ImageView grocery = myView.findViewById(R.id.grocery);\r\n                ImageView bike = myView.findViewById(R.id.bike);\r\n                ImageView rent= myView.findViewById(R.id.rent);\r\n                ImageView foods = myView.findViewById(R.id.foods);\r\n                ImageView beer= myView.findViewById(R.id.beer);\r\n                LinearLayout categoryIconsLayout = myView.findViewById(R.id.categoryIconsLayout);\r\n                TextView selectCategory_heading = myView.findViewById(R.id.selectCategory_heading);\r\n    \r\n    \r\n    \r\n                calendarImg.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View view) {\r\n                        setCalendarVisibility(linearLayout, selectCategory_heading, categoryIconsLayout);\r\n                    }\r\n                });\r\n    \r\n                dialog.show();\r\n            }\r\n        }\r\n    \r\n        private void setCalendarVisibility(LinearLayout setCalendarVisible, TextView setSelectCateVisible, LinearLayout iconsLayoutVisible) {\r\n            calendarImgClick++;\r\n            if (calendarImgClick &gt;= 2) {\r\n                setCalendarVisible.setVisibility(View.GONE);\r\n                setSelectCateVisible.setVisibility(View.VISIBLE);\r\n                iconsLayoutVisible.setVisibility(View.VISIBLE);\r\n                calendarImgClick = 0;\r\n            } else {\r\n                setCalendarVisible.setVisibility(View.VISIBLE);\r\n                setSelectCateVisible.setVisibility(View.GONE);\r\n                iconsLayoutVisible.setVisibility(View.GONE);\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n        private void animateCalendarView(LinearLayout ll, CalendarView cv) {\r\n            ll.animate().rotationBy(-180f).setDuration(500);\r\n            cv.animate().rotationBy(180f).setDuration(400);\r\n    \r\n        }\r\n    \r\n        private void findViewByIDS(View v) {\r\n            totalExpenseTV = v.findViewById(R.id.totalRsTitle);\r\n            fab = v.findViewById(R.id.fab);\r\n            recyclerView = v.findViewById(R.id.recyclerView);\r\n            filterIcon = v.findViewById(R.id.filterIcon);\r\n            pieChart = v.findViewById(R.id.pieChartHis);\r\n    \r\n        }\r\n    \r\n        private void setupRecyclerView() {\r\n            LinearLayoutManager layoutManager = new LinearLayoutManager(getActivity());\r\n            recyclerView.setLayoutManager(layoutManager);\r\n            recyclerView.setItemAnimator(null);\r\n            if (getActivity() != null) {\r\n                Query query = FirebaseReference.expenseReference(getActivity())\r\n                        .orderByChild(&quot;milli&quot;);\r\n                options = new FirebaseRecyclerOptions.Builder&lt;ExpenseModel&gt;()\r\n                        .setQuery(query, ExpenseModel.class)\r\n                        .build();\r\n    \r\n                adapter = new MyAdapter(options, getActivity());\r\n                recyclerView.setAdapter(adapter);\r\n            }\r\n        }\r\n    \r\n    \r\n        // OS operations starts here . . . . . . .\r\n        @Override\r\n        public void onStart() {\r\n            super.onStart();\r\n            adapter.startListening();\r\n        }\r\n    \r\n        @Override\r\n        public void onStop() {\r\n            super.onStop();\r\n            adapter.stopListening();\r\n        }\r\n    \r\n        @Override\r\n        public void onDestroy() {\r\n            super.onDestroy();\r\n            adapter.stopListening();\r\n        }\r\n    \r\n    }","title":"How to implement onClickListener inside DialogBox which is inside Fragment in android studio?","body":"<p>I want to implement View.onClickListener inside <strong>DialogPlus</strong> but i dont know how to implement it inside Dialogbox .\nI have implemented and overriden onClickListener in ExpenseFragment class and performed fab.setOnClickListener(this) it's working fine.</p>\n<p>In the same way i also want to perform someIV.setOnClickListener(this) and perform required action in dialogView which is inside addNote().</p>\n<blockquote>\n<blockquote>\n<p>Here's my code ....</p>\n</blockquote>\n</blockquote>\n<pre><code>public class ExpenseFragment extends Fragment implements View.OnClickListener {\n    private TextView totalExpenseTV;\n    private FloatingActionButton fab;\n    private RecyclerView recyclerView;\n    private ImageView filterIcon;\n    private PieChart pieChart;\n\n    private Animation rotateForward, rotateBackward;\n\n    private FirebaseRecyclerOptions&lt;ExpenseModel&gt; options;\n    private MyAdapter adapter;\n\n    private int calendarImgClick = 0;\n\n    public void onViewCreated(@NonNull View attachInParentView, Bundle savedInstanceState) {\n        super.onViewCreated(attachInParentView, savedInstanceState);\n        findViewByIDS(attachInParentView);\n        setupRecyclerView();\n        fabAnimation();\n        fab.setOnClickListener(this);\n\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        return inflater.inflate(R.layout.fragment_expense, container, false);\n    }\n\n    private void fabAnimation() {\n        rotateForward = AnimationUtils.loadAnimation(getActivity(), R.anim.rotate_forward);\n        rotateBackward = AnimationUtils.loadAnimation(getActivity(), R.anim.rotate_backward);\n        rotateBackward.setDuration(300);\n        rotateForward.setDuration(300);\n    }\n\n\n    @Override\n    public void onClick(View view) {\n        fab.startAnimation(rotateForward);\n        rotateForward.setAnimationListener(new Animation.AnimationListener() {\n            @Override\n            public void onAnimationStart(Animation animation) {\n\n            }\n\n            @Override\n            public void onAnimationEnd(Animation animation) {\n                addNote();\n            }\n\n            @Override\n            public void onAnimationRepeat(Animation animation) {\n\n            }\n        });\n    }\n\n    private void addNote() {\n        if (getActivity() != null) {\n            DialogPlus dialog = DialogPlus.newDialog(getActivity())\n                    .setContentHolder(new ViewHolder(R.layout.add_expense_layout))\n                    .setExpanded(false)\n                    .setOnDismissListener(new OnDismissListener() {\n                        @Override\n                        public void onDismiss(DialogPlus dialog) {\n                            fab.startAnimation(rotateBackward);\n                        }\n                    })\n                    .create();\n\n            View myView = dialog.getHolderView();\n            TextView expense_date = myView.findViewById(R.id.expense_date);\n            EditText expense_title = myView.findViewById(R.id.expense_title);\n            EditText expense_amount = myView.findViewById(R.id.expense_amount);\n            Button add_note_button = myView.findViewById(R.id.add_note_btn);\n            ImageView calendarImg = myView.findViewById(R.id.add_calendar);\n            CalendarView calendarView = myView.findViewById(R.id.calenderView);\n            LinearLayout linearLayout = myView.findViewById(R.id.linearCalenderLayout);\n\n            ImageView grocery = myView.findViewById(R.id.grocery);\n            ImageView bike = myView.findViewById(R.id.bike);\n            ImageView rent= myView.findViewById(R.id.rent);\n            ImageView foods = myView.findViewById(R.id.foods);\n            ImageView beer= myView.findViewById(R.id.beer);\n            LinearLayout categoryIconsLayout = myView.findViewById(R.id.categoryIconsLayout);\n            TextView selectCategory_heading = myView.findViewById(R.id.selectCategory_heading);\n\n\n\n            calendarImg.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    setCalendarVisibility(linearLayout, selectCategory_heading, categoryIconsLayout);\n                }\n            });\n\n            dialog.show();\n        }\n    }\n\n    private void setCalendarVisibility(LinearLayout setCalendarVisible, TextView setSelectCateVisible, LinearLayout iconsLayoutVisible) {\n        calendarImgClick++;\n        if (calendarImgClick &gt;= 2) {\n            setCalendarVisible.setVisibility(View.GONE);\n            setSelectCateVisible.setVisibility(View.VISIBLE);\n            iconsLayoutVisible.setVisibility(View.VISIBLE);\n            calendarImgClick = 0;\n        } else {\n            setCalendarVisible.setVisibility(View.VISIBLE);\n            setSelectCateVisible.setVisibility(View.GONE);\n            iconsLayoutVisible.setVisibility(View.GONE);\n\n        }\n\n    }\n\n    private void animateCalendarView(LinearLayout ll, CalendarView cv) {\n        ll.animate().rotationBy(-180f).setDuration(500);\n        cv.animate().rotationBy(180f).setDuration(400);\n\n    }\n\n    private void findViewByIDS(View v) {\n        totalExpenseTV = v.findViewById(R.id.totalRsTitle);\n        fab = v.findViewById(R.id.fab);\n        recyclerView = v.findViewById(R.id.recyclerView);\n        filterIcon = v.findViewById(R.id.filterIcon);\n        pieChart = v.findViewById(R.id.pieChartHis);\n\n    }\n\n    private void setupRecyclerView() {\n        LinearLayoutManager layoutManager = new LinearLayoutManager(getActivity());\n        recyclerView.setLayoutManager(layoutManager);\n        recyclerView.setItemAnimator(null);\n        if (getActivity() != null) {\n            Query query = FirebaseReference.expenseReference(getActivity())\n                    .orderByChild(&quot;milli&quot;);\n            options = new FirebaseRecyclerOptions.Builder&lt;ExpenseModel&gt;()\n                    .setQuery(query, ExpenseModel.class)\n                    .build();\n\n            adapter = new MyAdapter(options, getActivity());\n            recyclerView.setAdapter(adapter);\n        }\n    }\n\n\n    // OS operations starts here . . . . . . .\n    @Override\n    public void onStart() {\n        super.onStart();\n        adapter.startListening();\n    }\n\n    @Override\n    public void onStop() {\n        super.onStop();\n        adapter.stopListening();\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        adapter.stopListening();\n    }\n\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8275711,"reputation":84,"user_id":6221995,"display_name":"Jacob Webb"},"score":1,"creation_date":1671345967,"post_id":74839551,"comment_id":132077267,"body_markdown":"Try cars.add(0, cars.get(cars.size() - 1))","body":"Try cars.add(0, cars.get(cars.size() - 1))"},{"owner":{"account_id":14679090,"reputation":1356,"user_id":10601203,"display_name":"Jesse"},"score":1,"creation_date":1671346022,"post_id":74839551,"comment_id":132077272,"body_markdown":"Question, why are you adding foods to a list called `cars`? Just curious.","body":"Question, why are you adding foods to a list called <code>cars</code>? Just curious."},{"owner":{"account_id":20780824,"reputation":29149,"user_id":15261315,"display_name":"Chris"},"score":0,"creation_date":1671346165,"post_id":74839551,"comment_id":132077289,"body_markdown":"Really oddly named cars?","body":"Really oddly named cars?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1671347697,"post_id":74839551,"comment_id":132077441,"body_markdown":"Did you search? Did you look through [the docs](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/ArrayList.html)? Did you try something?","body":"Did you search? Did you look through <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">the docs</a>? Did you try something?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1671347994,"post_id":74839551,"comment_id":132077477,"body_markdown":"Note: Doing something like `cars.add(0, cars.get(cars.size() - 1))` will work, but that makes the first and last element the same instance; this may be okay for an immutable object like instances of `String`, but for mutable objects this could lead to unintended side effects.","body":"Note: Doing something like <code>cars.add(0, cars.get(cars.size() - 1))</code> will work, but that makes the first and last element the same instance; this may be okay for an immutable object like instances of <code>String</code>, but for mutable objects this could lead to unintended side effects."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1671360572,"post_id":74839551,"comment_id":132079112,"body_markdown":"@Slaw Correct. On the other hand having two object representing the same car could lead to other undesirable results, such as inconsistent updates. The choice needs to taken based on the particular situation, and in some situations there is no perfect solution.","body":"@Slaw Correct. On the other hand having two object representing the same car could lead to other undesirable results, such as inconsistent updates. The choice needs to taken based on the particular situation, and in some situations there is no perfect solution."}],"answers":[{"tags":[],"owner":{"account_id":19705398,"reputation":197,"user_id":14427209,"display_name":"TECH FREEKS"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1671345976,"creation_date":1671345976,"answer_id":74839581,"question_id":74839551,"body_markdown":"You can do something like this:\r\n\r\n    import java.util.ArrayList;\r\n    \r\n    public class Main {\r\n      public static void main(String[] args) {\r\n        ArrayList&lt;String&gt; cars = new ArrayList&lt;String&gt;();\r\n        cars.add(&quot;Apple&quot;);\r\n        cars.add(&quot;Tomato&quot;);\r\n        cars.add(&quot;Patato&quot;);\r\n        cars.add(&quot;Cabbage&quot;);\r\n    \r\n        // Geting the last element of the list\r\n        String lastElement = cars.get(cars.size() - 1);\r\n    \r\n        // Adding the last element to the starting of the list\r\n        cars.add(0, lastElement);\r\n    \r\n        System.out.println(cars);  // This should out put your expected result.\r\n      }\r\n    }\r\n\r\n","title":"Array list duplication in java","body":"<p>You can do something like this:</p>\n<pre><code>import java.util.ArrayList;\n\npublic class Main {\n  public static void main(String[] args) {\n    ArrayList&lt;String&gt; cars = new ArrayList&lt;String&gt;();\n    cars.add(&quot;Apple&quot;);\n    cars.add(&quot;Tomato&quot;);\n    cars.add(&quot;Patato&quot;);\n    cars.add(&quot;Cabbage&quot;);\n\n    // Geting the last element of the list\n    String lastElement = cars.get(cars.size() - 1);\n\n    // Adding the last element to the starting of the list\n    cars.add(0, lastElement);\n\n    System.out.println(cars);  // This should out put your expected result.\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20780824,"reputation":29149,"user_id":15261315,"display_name":"Chris"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671346138,"creation_date":1671346138,"answer_id":74839592,"question_id":74839551,"body_markdown":"Since you specify needing a _copy_ of the list, you might add the last element to an empty `ArrayList&lt;String&gt;` then use `addAll` to add the original list elements.\r\n\r\n```\r\nArrayList&lt;String&gt; copiedArraylist = new ArrayList&lt;String&gt;();\r\ncopiedArraylist.add(cars.get(cars.size()-1);\r\ncopiedArraylist.addAll(1, cars);\r\n```","title":"Array list duplication in java","body":"<p>Since you specify needing a <em>copy</em> of the list, you might add the last element to an empty <code>ArrayList&lt;String&gt;</code> then use <code>addAll</code> to add the original list elements.</p>\n<pre><code>ArrayList&lt;String&gt; copiedArraylist = new ArrayList&lt;String&gt;();\ncopiedArraylist.add(cars.get(cars.size()-1);\ncopiedArraylist.addAll(1, cars);\n</code></pre>\n"}],"owner":{"display_name":"user20714961"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1671346138,"creation_date":1671345616,"question_id":74839551,"body_markdown":"I have an array list of String element I want to duplicate last element of that list and that duplicate element set in the 0th position of same list. how to duplicate array list.\r\n\r\nbelow is my input list:\r\n\r\n```\r\nList [&quot;Apple&quot;,&quot;Tomato&quot;,&quot;Patato&quot;,&quot;Brinjal&quot;,&quot;Cabbage&quot;]\r\n```\r\n\r\nI want below type of list as output:\r\n\r\n```\r\nList [&quot;Cabbage&quot;,&quot;Apple&quot;,&quot;Tomato&quot;,&quot;Patato&quot;,&quot;Brinjal&quot;,&quot;Cabbage&quot;]\r\n```\r\n\r\n```\r\npublic class Main {\r\n  public static void main(String[] args) {\r\n    ArrayList&lt;String&gt; cars = new ArrayList&lt;String&gt;();\r\n    cars.add(&quot;Apple&quot;);\r\n    cars.add(&quot;Tomato&quot;);\r\n    cars.add(&quot;Patato&quot;);\r\n    cars.add(&quot;Cabbage&quot;);\r\n    System.out.println(cars);\r\n  }\r\n}\r\n```","title":"Array list duplication in java","body":"<p>I have an array list of String element I want to duplicate last element of that list and that duplicate element set in the 0th position of same list. how to duplicate array list.</p>\n<p>below is my input list:</p>\n<pre><code>List [&quot;Apple&quot;,&quot;Tomato&quot;,&quot;Patato&quot;,&quot;Brinjal&quot;,&quot;Cabbage&quot;]\n</code></pre>\n<p>I want below type of list as output:</p>\n<pre><code>List [&quot;Cabbage&quot;,&quot;Apple&quot;,&quot;Tomato&quot;,&quot;Patato&quot;,&quot;Brinjal&quot;,&quot;Cabbage&quot;]\n</code></pre>\n<pre><code>public class Main {\n  public static void main(String[] args) {\n    ArrayList&lt;String&gt; cars = new ArrayList&lt;String&gt;();\n    cars.add(&quot;Apple&quot;);\n    cars.add(&quot;Tomato&quot;);\n    cars.add(&quot;Patato&quot;);\n    cars.add(&quot;Cabbage&quot;);\n    System.out.println(cars);\n  }\n}\n</code></pre>\n"},{"tags":["java","jsp"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1671267032,"post_id":74832812,"comment_id":132066228,"body_markdown":"The problem seems to be in the configuration of the Tomcat in your IDE. The port does not have to do anything with the JSP or your sourcecode. So which IDE do you use to perform the &quot;Run As&quot;?","body":"The problem seems to be in the configuration of the Tomcat in your IDE. The port does not have to do anything with the JSP or your sourcecode. So which IDE do you use to perform the &quot;Run As&quot;?"},{"owner":{"account_id":20892011,"reputation":99,"user_id":15347191,"display_name":"Nguyen Cuc"},"score":0,"creation_date":1671267234,"post_id":74832812,"comment_id":132066250,"body_markdown":"@cyberbrain thanks for your comment, I used eclipse to ran my Demo","body":"@cyberbrain thanks for your comment, I used eclipse to ran my Demo"}],"answers":[{"comments":[{"owner":{"account_id":20892011,"reputation":99,"user_id":15347191,"display_name":"Nguyen Cuc"},"score":0,"creation_date":1671333183,"post_id":74833263,"comment_id":132076207,"body_markdown":"Thanks for your comment, your code is right but I still do not understand how it work ? ( I mean what is this code mean ? (&lt;param-value&gt;/WEB-INF/demo-config-servlet.xml&lt;/param-value&gt;) ?) and some your update code ? could you please explain them for me ?","body":"Thanks for your comment, your code is right but I still do not understand how it work ? ( I mean what is this code mean ? (&lt;param-value&gt;/WEB-INF/demo-config-servlet.xml&lt;/param-value&gt;&zwnj;&#8203;) ?) and some your update code ? could you please explain them for me ?"}],"tags":[],"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671345311,"creation_date":1671271737,"answer_id":74833263,"question_id":74832812,"body_markdown":"Looked at your code on GitHub. There are a couple of issues in `web.xml`. \r\n- You need to tell the `DispatcherServlet` to load the context configuration (the one you defined in the `demo-config-servlet.xml`) by specifying the `contextConfigLocation` init-param. \r\n- Also map the dispatcher servlet correctly. \r\n\r\nLook at the updated `web.xml` below (added comments at the sections I added/modified):\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app&gt;\r\n\t&lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;demo-config&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n\t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;\r\n    \r\n    &lt;!-- Mapped the servlet to &#39;/&#39; --&gt;\r\n    &lt;servlet-mapping&gt;\r\n\t    &lt;servlet-name&gt;demo-config&lt;/servlet-name&gt;\r\n\t    &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n&lt;/web-app&gt;\r\n```\r\n\r\nEDIT: Added some explanation of the changes\r\n\r\nSpring Dispatcher servlet mapping needs to be a valid url-pattern. `/` in the pattern means that the servlet will be mapped to the &#39;root&#39;\r\n\r\n```&lt;url-pattern&gt;/&lt;url-pattern&gt;```\r\n\r\n\r\nIn your case, this should take care of the issue. However, if for some reason the context still does not load, try specifying the context configuration to the servlet by using the `&lt;init-param&gt;` settings given below:\r\n\r\n```\r\n&lt;!-- Added the context configuration below --&gt;\r\n&lt;init-param&gt;\r\n\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t&lt;param-value&gt;/WEB-INF/demo-config-servlet.xml&lt;/param-value&gt;\r\n&lt;/init-param&gt;\r\n```\r\n\r\nRead about the configuration in the docs here - https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/mvc.html#mvc-servlet\r\n\r\n\r\n","title":"java problem : index.jsp file can not display to specified port?","body":"<p>Looked at your code on GitHub. There are a couple of issues in <code>web.xml</code>.</p>\n<ul>\n<li>You need to tell the <code>DispatcherServlet</code> to load the context configuration (the one you defined in the <code>demo-config-servlet.xml</code>) by specifying the <code>contextConfigLocation</code> init-param.</li>\n<li>Also map the dispatcher servlet correctly.</li>\n</ul>\n<p>Look at the updated <code>web.xml</code> below (added comments at the sections I added/modified):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;demo-config&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    \n    &lt;!-- Mapped the servlet to '/' --&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;demo-config&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>EDIT: Added some explanation of the changes</p>\n<p>Spring Dispatcher servlet mapping needs to be a valid url-pattern. <code>/</code> in the pattern means that the servlet will be mapped to the 'root'</p>\n<p><code>&lt;url-pattern&gt;/&lt;url-pattern&gt;</code></p>\n<p>In your case, this should take care of the issue. However, if for some reason the context still does not load, try specifying the context configuration to the servlet by using the <code>&lt;init-param&gt;</code> settings given below:</p>\n<pre><code>&lt;!-- Added the context configuration below --&gt;\n&lt;init-param&gt;\n    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n    &lt;param-value&gt;/WEB-INF/demo-config-servlet.xml&lt;/param-value&gt;\n&lt;/init-param&gt;\n</code></pre>\n<p>Read about the configuration in the docs here - <a href=\"https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/mvc.html#mvc-servlet\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/mvc.html#mvc-servlet</a></p>\n"}],"owner":{"account_id":20892011,"reputation":99,"user_id":15347191,"display_name":"Nguyen Cuc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671345311,"creation_date":1671266644,"question_id":74832812,"body_markdown":"I am writing a very simple demo java spring website and here is my problem.\r\n\r\nI put the index.jsp file in this folder\r\n\r\n    src/main/webapp/index.jsp\r\n\r\nAnd the file is very simple\r\n\r\nI configured my file as the tutorial (changed all the port from 8080 to 8888), in the folder src/main/webapp/WEB-INF I made 2 files\r\n\r\ndemo-config-servlet.xml and web.xml, there were no error.\r\n\r\nThen I ran the file index.jsp, there was no error, as you can see in this picture\r\n\r\n[![when I ran the file index.jsp][1]][1]\r\n\r\n\r\nBut when I ran DemoSpringMVC by Run As -&gt; Run on Server -&gt; (I choose Tomcat v10.0)\r\nI got this error\r\n\r\n[![my error][2]][2]\r\n\r\nHere is my code\r\n\r\n    https://github.com/nguyencuc2586/Demo\r\n\r\nDo you think it is because of the port 8888 ? Or the version of Tomcat ?\r\nCould you please give me some advices ? Thank you in advance.\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9rYQF.jpg\r\n  [2]: https://i.stack.imgur.com/KxjxC.jpg","title":"java problem : index.jsp file can not display to specified port?","body":"<p>I am writing a very simple demo java spring website and here is my problem.</p>\n<p>I put the index.jsp file in this folder</p>\n<pre><code>src/main/webapp/index.jsp\n</code></pre>\n<p>And the file is very simple</p>\n<p>I configured my file as the tutorial (changed all the port from 8080 to 8888), in the folder src/main/webapp/WEB-INF I made 2 files</p>\n<p>demo-config-servlet.xml and web.xml, there were no error.</p>\n<p>Then I ran the file index.jsp, there was no error, as you can see in this picture</p>\n<p><a href=\"https://i.stack.imgur.com/9rYQF.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9rYQF.jpg\" alt=\"when I ran the file index.jsp\" /></a></p>\n<p>But when I ran DemoSpringMVC by Run As -&gt; Run on Server -&gt; (I choose Tomcat v10.0)\nI got this error</p>\n<p><a href=\"https://i.stack.imgur.com/KxjxC.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KxjxC.jpg\" alt=\"my error\" /></a></p>\n<p>Here is my code</p>\n<pre><code>https://github.com/nguyencuc2586/Demo\n</code></pre>\n<p>Do you think it is because of the port 8888 ? Or the version of Tomcat ?\nCould you please give me some advices ? Thank you in advance.</p>\n"},{"tags":["java","google-play"],"answers":[{"tags":[],"owner":{"account_id":16132132,"reputation":119,"user_id":19181443,"display_name":"Vithor Carlos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671345260,"creation_date":1671345260,"answer_id":74839520,"question_id":74839493,"body_markdown":"My sugestion is call:\r\n\r\n```\r\nif(task.isCanceled()) {\r\n /// code\r\n}\r\n\r\nOR \r\n\r\nif(appUpdateInfo.installStatus() === InstallStatus.CANCELED){\r\n /// code..\r\n/// if ok call showCompleteUpdate();\r\n}\r\n```\r\nBut i do know how to do here :/ i&#39;m beginner in java.\r\ndo i just need to call the function to activate the evaluation flow or refresh again after x days? How can I do this calculation and what do I need to do?","title":"Show soft upgrade or share review again after user declines upgrade","body":"<p>My sugestion is call:</p>\n<pre><code>if(task.isCanceled()) {\n /// code\n}\n\nOR \n\nif(appUpdateInfo.installStatus() === InstallStatus.CANCELED){\n /// code..\n/// if ok call showCompleteUpdate();\n}\n</code></pre>\n<p>But i do know how to do here :/ i'm beginner in java.\ndo i just need to call the function to activate the evaluation flow or refresh again after x days? How can I do this calculation and what do I need to do?</p>\n"}],"owner":{"account_id":16132132,"reputation":119,"user_id":19181443,"display_name":"Vithor Carlos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671345260,"creation_date":1671344908,"question_id":74839493,"body_markdown":"I am beginner in Native Java for android.\r\nI would like to know how I can ask the user to update the app again only after the days I choose?\r\nCurrently when the user clicks cancel a soft update, the app asks for the update again after the user enters the App, and this is annoying. Please, can someone help me?\r\n\r\nHow can I do this for IN-APP-REVIEW as well?\r\nWhen the user declines an evaluation within flow(), I ask for an evaluation again after X days..\r\n\r\nReview Code Flow:\r\n\r\n```\r\n  void activateReviewInfo()\r\n  {\r\n    final Handler handler = new Handler(Looper.getMainLooper());\r\n    handler.postDelayed(() -&gt; {\r\n      manager = ReviewManagerFactory.create(this);\r\n\r\n      Task&lt;ReviewInfo&gt; request = manager.requestReviewFlow();\r\n      request.addOnCompleteListener(task -&gt; {\r\n        if (task.isSuccessful()) {\r\n          reviewInfo = task.getResult();\r\n          Task&lt;Void&gt; flow = manager.launchReviewFlow(this, reviewInfo);\r\n\r\n          flow.addOnCompleteListener(result -&gt; {\r\n          });\r\n        }\r\n      });\r\n\r\n      request.addOnFailureListener(e -&gt; System.out.println(e.getMessage()));\r\n    }, 15000);\r\n  }\r\n```\r\n\r\n\r\nIn-App-Update\r\n```\r\n  private ReviewInfo reviewInfo;\r\n  private ReviewManager manager;\r\n\r\n  private static final int RC_APP_UPDATE = 100;\r\n\r\n  @Override\r\n  protected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(null);\r\n    if (new ReviewsManager().getDaysAppInstaled(this) &gt;= 7) {\r\n      activateReviewInfo();\r\n    }\r\n    activateUpdate();\r\n  }\r\n\r\n  void activateUpdate(){\r\n    final Handler handler = new Handler(Looper.getMainLooper());\r\n    handler.postDelayed(() -&gt; {\r\n      AppUpdateManager mAppUpdateManager = AppUpdateManagerFactory.create(this);\r\n      Task&lt;AppUpdateInfo&gt; appUpdateInfoTask = mAppUpdateManager.getAppUpdateInfo();\r\n\r\n      appUpdateInfoTask.addOnSuccessListener(result -&gt; {\r\n        if (result.updateAvailability() == UpdateAvailability.UPDATE_AVAILABLE\r\n                &amp;&amp; result.isUpdateTypeAllowed(AppUpdateType.FLEXIBLE)) {\r\n          try {\r\n            mAppUpdateManager.startUpdateFlowForResult(result, AppUpdateType.FLEXIBLE, MainActivity.this, RC_APP_UPDATE);\r\n          } catch (IntentSender.SendIntentException e) {\r\n            System.out.println(e.getMessage());\r\n          }\r\n\r\n        }\r\n      });\r\n      mAppUpdateManager.registerListener(installStateUpdatedListener);\r\n    }, 9000);\r\n  }\r\n\r\n  private final InstallStateUpdatedListener installStateUpdatedListener = installState -&gt; {\r\n    if (installState.installStatus() == InstallStatus.DOWNLOADED) {\r\n      showCompleteUpdate();\r\n    }\r\n  };\r\n\r\n  private void showCompleteUpdate() {\r\n    AppUpdateManager mAppUpdateManager = AppUpdateManagerFactory.create(this);\r\n    Snackbar snackbar = Snackbar.make(findViewById(android.R.id.content), &quot;Atualiza&#231;&#227;o pronta para ser Instalada...&quot;,\r\n            Snackbar.LENGTH_INDEFINITE);\r\n\r\n    snackbar.setAction(&quot;Instalar&quot;, view -&gt; mAppUpdateManager.completeUpdate());\r\n\r\n    snackbar.show();\r\n  }\r\n\r\n  @Override\r\n  public void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n    super.onActivityResult(requestCode, resultCode, data);\r\n    if (requestCode == RC_APP_UPDATE &amp;&amp; resultCode != RESULT_OK) {\r\n      Toast.makeText(this, &quot;Cancelado&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n  }\r\n\r\n  private void installAppIfHaveDownload () {\r\n    AppUpdateManager mAppUpdateManager = AppUpdateManagerFactory.create(this);\r\n    mAppUpdateManager.getAppUpdateInfo().addOnSuccessListener(appUpdateInfo -&gt; {\r\n      if(appUpdateInfo.installStatus() == InstallStatus.DOWNLOADED) {\r\n        showCompleteUpdate();\r\n      }\r\n    });\r\n  }\r\n\r\n  private void unregisterListenerIfAppIsInstalled () {\r\n    AppUpdateManager mAppUpdateManager = AppUpdateManagerFactory.create(this);\r\n    mAppUpdateManager.getAppUpdateInfo().addOnSuccessListener(appUpdateInfo -&gt; {\r\n      if(appUpdateInfo.installStatus() == InstallStatus.INSTALLED) {\r\n        mAppUpdateManager.unregisterListener(installStateUpdatedListener);\r\n      }\r\n    });\r\n  }\r\n\r\n@Override\r\n  protected void onStop() {\r\n    super.onStop();\r\n    unregisterListenerIfAppIsInstalled();\r\n  }\r\n\r\n  @Override\r\n  protected void onResume() {\r\n    super.onResume();\r\n    installAppIfHaveDownload();\r\n  }\r\n\r\n  @Override\r\n  protected void onDestroy() {\r\n    super.onDestroy();\r\n    reviewInfo = null;\r\n    manager = null;\r\n  }\r\n\r\n```","title":"Show soft upgrade or share review again after user declines upgrade","body":"<p>I am beginner in Native Java for android.\nI would like to know how I can ask the user to update the app again only after the days I choose?\nCurrently when the user clicks cancel a soft update, the app asks for the update again after the user enters the App, and this is annoying. Please, can someone help me?</p>\n<p>How can I do this for IN-APP-REVIEW as well?\nWhen the user declines an evaluation within flow(), I ask for an evaluation again after X days..</p>\n<p>Review Code Flow:</p>\n<pre><code>  void activateReviewInfo()\n  {\n    final Handler handler = new Handler(Looper.getMainLooper());\n    handler.postDelayed(() -&gt; {\n      manager = ReviewManagerFactory.create(this);\n\n      Task&lt;ReviewInfo&gt; request = manager.requestReviewFlow();\n      request.addOnCompleteListener(task -&gt; {\n        if (task.isSuccessful()) {\n          reviewInfo = task.getResult();\n          Task&lt;Void&gt; flow = manager.launchReviewFlow(this, reviewInfo);\n\n          flow.addOnCompleteListener(result -&gt; {\n          });\n        }\n      });\n\n      request.addOnFailureListener(e -&gt; System.out.println(e.getMessage()));\n    }, 15000);\n  }\n</code></pre>\n<p>In-App-Update</p>\n<pre><code>  private ReviewInfo reviewInfo;\n  private ReviewManager manager;\n\n  private static final int RC_APP_UPDATE = 100;\n\n  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(null);\n    if (new ReviewsManager().getDaysAppInstaled(this) &gt;= 7) {\n      activateReviewInfo();\n    }\n    activateUpdate();\n  }\n\n  void activateUpdate(){\n    final Handler handler = new Handler(Looper.getMainLooper());\n    handler.postDelayed(() -&gt; {\n      AppUpdateManager mAppUpdateManager = AppUpdateManagerFactory.create(this);\n      Task&lt;AppUpdateInfo&gt; appUpdateInfoTask = mAppUpdateManager.getAppUpdateInfo();\n\n      appUpdateInfoTask.addOnSuccessListener(result -&gt; {\n        if (result.updateAvailability() == UpdateAvailability.UPDATE_AVAILABLE\n                &amp;&amp; result.isUpdateTypeAllowed(AppUpdateType.FLEXIBLE)) {\n          try {\n            mAppUpdateManager.startUpdateFlowForResult(result, AppUpdateType.FLEXIBLE, MainActivity.this, RC_APP_UPDATE);\n          } catch (IntentSender.SendIntentException e) {\n            System.out.println(e.getMessage());\n          }\n\n        }\n      });\n      mAppUpdateManager.registerListener(installStateUpdatedListener);\n    }, 9000);\n  }\n\n  private final InstallStateUpdatedListener installStateUpdatedListener = installState -&gt; {\n    if (installState.installStatus() == InstallStatus.DOWNLOADED) {\n      showCompleteUpdate();\n    }\n  };\n\n  private void showCompleteUpdate() {\n    AppUpdateManager mAppUpdateManager = AppUpdateManagerFactory.create(this);\n    Snackbar snackbar = Snackbar.make(findViewById(android.R.id.content), &quot;Atualização pronta para ser Instalada...&quot;,\n            Snackbar.LENGTH_INDEFINITE);\n\n    snackbar.setAction(&quot;Instalar&quot;, view -&gt; mAppUpdateManager.completeUpdate());\n\n    snackbar.show();\n  }\n\n  @Override\n  public void onActivityResult(int requestCode, int resultCode, Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    if (requestCode == RC_APP_UPDATE &amp;&amp; resultCode != RESULT_OK) {\n      Toast.makeText(this, &quot;Cancelado&quot;, Toast.LENGTH_SHORT).show();\n    }\n  }\n\n  private void installAppIfHaveDownload () {\n    AppUpdateManager mAppUpdateManager = AppUpdateManagerFactory.create(this);\n    mAppUpdateManager.getAppUpdateInfo().addOnSuccessListener(appUpdateInfo -&gt; {\n      if(appUpdateInfo.installStatus() == InstallStatus.DOWNLOADED) {\n        showCompleteUpdate();\n      }\n    });\n  }\n\n  private void unregisterListenerIfAppIsInstalled () {\n    AppUpdateManager mAppUpdateManager = AppUpdateManagerFactory.create(this);\n    mAppUpdateManager.getAppUpdateInfo().addOnSuccessListener(appUpdateInfo -&gt; {\n      if(appUpdateInfo.installStatus() == InstallStatus.INSTALLED) {\n        mAppUpdateManager.unregisterListener(installStateUpdatedListener);\n      }\n    });\n  }\n\n@Override\n  protected void onStop() {\n    super.onStop();\n    unregisterListenerIfAppIsInstalled();\n  }\n\n  @Override\n  protected void onResume() {\n    super.onResume();\n    installAppIfHaveDownload();\n  }\n\n  @Override\n  protected void onDestroy() {\n    super.onDestroy();\n    reviewInfo = null;\n    manager = null;\n  }\n\n</code></pre>\n"},{"tags":["java","spring","jackson","jersey","jersey-2.0"],"owner":{"account_id":3922966,"reputation":68,"user_id":3244539,"display_name":"MikePappa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671344349,"creation_date":1671344349,"question_id":74839457,"body_markdown":"I&#39;m getting compilation error in code for writing container response in my jersey application.\r\nI have posted the code below, is anyone can help me ?\r\nIm using Jersey 2.37\r\nThanks\r\n\r\n    ContainerResponseWriter filter(ContainerRequest request, ContainerResponseWriter response){\r\n    response.setContainerResponseWritter(new Adaptor(response.getContainerResponseWritter()));\r\n}\r\n\r\n\r\n**error:incompatable types:ContainerResponse cannot be converted to ContainerResponseWriter**","title":"Error while writing container response in Jersey 2.x Application","body":"<p>I'm getting compilation error in code for writing container response in my jersey application.\nI have posted the code below, is anyone can help me ?\nIm using Jersey 2.37\nThanks</p>\n<pre><code>ContainerResponseWriter filter(ContainerRequest request, ContainerResponseWriter response){\nresponse.setContainerResponseWritter(new Adaptor(response.getContainerResponseWritter()));\n</code></pre>\n<p>}</p>\n<p><strong>error:incompatable types:ContainerResponse cannot be converted to ContainerResponseWriter</strong></p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":289963,"reputation":2107,"user_id":591234,"accept_rate":50,"display_name":"Sashi"},"score":1,"creation_date":1671328870,"post_id":74838684,"comment_id":132075890,"body_markdown":"Maven &#39;Bill of Materials&#39; (BoM) was created exactly for this purpose - https://reflectoring.io/maven-bom/","body":"Maven &#39;Bill of Materials&#39; (BoM) was created exactly for this purpose - <a href=\"https://reflectoring.io/maven-bom/\" rel=\"nofollow noreferrer\">reflectoring.io/maven-bom</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1671329479,"post_id":74838684,"comment_id":132075932,"body_markdown":"Look at having a parent pom. A BoM is great for dependencies, but you will probably also want some standard plugin configuration.","body":"Look at having a parent pom. A BoM is great for dependencies, but you will probably also want some standard plugin configuration."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":2,"creation_date":1671330450,"post_id":74838684,"comment_id":132076010,"body_markdown":"I would discourage you to share parent poms across different teams: sooner or later that turns every child project&#39;s pom into endless list of overrides. It is more preferable to manage set of maven archetypes","body":"I would discourage you to share parent poms across different teams: sooner or later that turns every child project&#39;s pom into endless list of overrides. It is more preferable to manage set of maven archetypes"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671525494,"post_id":74839452,"comment_id":132112501,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74839452/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":19047256,"reputation":13,"user_id":13906188,"display_name":"Robert"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671344268,"creation_date":1671344268,"answer_id":74839452,"question_id":74838684,"body_markdown":"Thanks to @Andrey, looks like maven archetypes is what am looking for. ","title":"Is it possible to bundle up default project maven dependencies together to have a starter kit to achieve uniformity across Java projects?","body":"<p>Thanks to @Andrey, looks like maven archetypes is what am looking for.</p>\n"}],"owner":{"account_id":19047256,"reputation":13,"user_id":13906188,"display_name":"Robert"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671344268,"creation_date":1671328622,"question_id":74838684,"body_markdown":"We are working with multiple team members and would like to have a standard pom.xml in Java. Question is, is it possible to bundle up common dependancies as one, then when pulled into a project, it brings uniformity?\r\n\r\nAnyone?\r\n\r\nDifferent team members have been using different dependancies, we would like to have a standard starter kit.","title":"Is it possible to bundle up default project maven dependencies together to have a starter kit to achieve uniformity across Java projects?","body":"<p>We are working with multiple team members and would like to have a standard pom.xml in Java. Question is, is it possible to bundle up common dependancies as one, then when pulled into a project, it brings uniformity?</p>\n<p>Anyone?</p>\n<p>Different team members have been using different dependancies, we would like to have a standard starter kit.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":1,"creation_date":1622440858,"post_id":67768600,"comment_id":119784157,"body_markdown":"Consider putting a print statement in that loop. See what number it actually gets to and see if there&#39;s any significance to the stopping point.","body":"Consider putting a print statement in that loop. See what number it actually gets to and see if there&#39;s any significance to the stopping point."},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":5,"creation_date":1622440938,"post_id":67768600,"comment_id":119784175,"body_markdown":"Alternatively declare `i` outside of the loop and print `i` after the loop to see its value.","body":"Alternatively declare <code>i</code> outside of the loop and print <code>i</code> after the loop to see its value."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":2,"creation_date":1622441867,"post_id":67768600,"comment_id":119784438,"body_markdown":"Why do you believe that is an infinite loop? Do you believe that an `int` value can somehow count to infinity?","body":"Why do you believe that is an infinite loop? Do you believe that an <code>int</code> value can somehow count to infinity?"},{"owner":{"account_id":3596675,"reputation":3616,"user_id":3001150,"accept_rate":57,"display_name":"Raildex"},"score":1,"creation_date":1622446525,"post_id":67768600,"comment_id":119785905,"body_markdown":"you should take a look at what a integer overflow and underflow is.","body":"you should take a look at what a integer overflow and underflow is."}],"answers":[{"tags":[],"owner":{"account_id":13058613,"reputation":189,"user_id":10141528,"display_name":"Leif Messinger LOAF"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1622440946,"creation_date":1622440946,"answer_id":67768628,"question_id":67768600,"body_markdown":"Either the compiler smartened up and knew that nothing was done in that loop (which shouldn&#39;t matter, because even the for conditions can edit stuff)\r\n\r\nor `i` looped 2 million something times and overflowed into negative numbers, making it less than 0.","title":"Code written after infinite loop executes","body":"<p>Either the compiler smartened up and knew that nothing was done in that loop (which shouldn't matter, because even the for conditions can edit stuff)</p>\n<p>or <code>i</code> looped 2 million something times and overflowed into negative numbers, making it less than 0.</p>\n"},{"tags":[],"owner":{"account_id":15359124,"reputation":157,"user_id":11080569,"display_name":"singhV"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1622441351,"creation_date":1622441351,"answer_id":67768686,"question_id":67768600,"body_markdown":"When i becomes greater than max value(2147483648 - that can be represented in 32 bits), it overflows to its min value. \r\nIt runs exaclty Integer.MAX_VALUE times, because Integer.MAX_VALUE + 1 is Integer.MIN_VALUE, a negative number.\r\n\r\nYou can visualize your code like this :\r\n\r\n    class Main {\r\n    public static void main(String[] args) {\r\n        int i = 0;\r\n        for(i=0; i&gt;=0; i++){}\r\n        System.out.println(&quot;Hello, World : &quot;+ i);\r\n    }\r\n}\r\n","title":"Code written after infinite loop executes","body":"<p>When i becomes greater than max value(2147483648 - that can be represented in 32 bits), it overflows to its min value.\nIt runs exaclty Integer.MAX_VALUE times, because Integer.MAX_VALUE + 1 is Integer.MIN_VALUE, a negative number.</p>\n<p>You can visualize your code like this :</p>\n<pre><code>class Main {\npublic static void main(String[] args) {\n    int i = 0;\n    for(i=0; i&gt;=0; i++){}\n    System.out.println(&quot;Hello, World : &quot;+ i);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":2799929,"reputation":8527,"user_id":2408342,"accept_rate":90,"display_name":"Roshana Pitigala"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1622441831,"creation_date":1622441831,"answer_id":67768768,"question_id":67768600,"body_markdown":"This loop is not an infinite loop. It goes until the `i` reaches `Integer.MAX_VALUE`. Then `i` becomes `Integer.MIN_VALUE` which is a negative value. Run the code below and check the output.\r\n\r\n    int x = Integer.MAX_VALUE;\r\n    x++;\r\n    System.out.println(x);\r\n\r\nIf you want the loop to be infinite use,\r\n\r\n    for ( ; ; ){\r\n    }","title":"Code written after infinite loop executes","body":"<p>This loop is not an infinite loop. It goes until the <code>i</code> reaches <code>Integer.MAX_VALUE</code>. Then <code>i</code> becomes <code>Integer.MIN_VALUE</code> which is a negative value. Run the code below and check the output.</p>\n<pre><code>int x = Integer.MAX_VALUE;\nx++;\nSystem.out.println(x);\n</code></pre>\n<p>If you want the loop to be infinite use,</p>\n<pre><code>for ( ; ; ){\n}\n</code></pre>\n"}],"owner":{"account_id":21140597,"reputation":573,"user_id":15543100,"display_name":"Ayush"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230,"favorite_count":0,"down_vote_count":6,"up_vote_count":4,"accepted_answer_id":67768768,"answer_count":3,"score":-2,"last_activity_date":1671343429,"creation_date":1622440700,"question_id":67768600,"body_markdown":"The following code shows an empty `infinite loop` and code written after the loop prints &quot;Hello, World&quot;.\r\n\r\nIn this example, the `println` statement to print the statement `synchronously` and thus theoretically, after the `infinite loop` nothing should be printed, but still when on running the code, it prints &quot;Hello, World&quot;.\r\n\r\nSo, why is the code written after an infinite loop executing?\r\n\r\n```\r\npublic class Main{\r\n    public static void main(String[] args){\r\n        for(int i=0; i&gt;=0; i++){}\r\n        System.out.println(&quot;Hello, World&quot;); // This is printed on the console\r\n    }\r\n}\r\n```\r\n\r\nI tried searching goole and stackoverflow for it, but could not find an answer for the problem.\\\r\nThank you.","title":"Code written after infinite loop executes","body":"<p>The following code shows an empty <code>infinite loop</code> and code written after the loop prints &quot;Hello, World&quot;.</p>\n<p>In this example, the <code>println</code> statement to print the statement <code>synchronously</code> and thus theoretically, after the <code>infinite loop</code> nothing should be printed, but still when on running the code, it prints &quot;Hello, World&quot;.</p>\n<p>So, why is the code written after an infinite loop executing?</p>\n<pre><code>public class Main{\n    public static void main(String[] args){\n        for(int i=0; i&gt;=0; i++){}\n        System.out.println(&quot;Hello, World&quot;); // This is printed on the console\n    }\n}\n</code></pre>\n<p>I tried searching goole and stackoverflow for it, but could not find an answer for the problem.<br />\nThank you.</p>\n"},{"tags":["java","android","arrays","java-8"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1671345263,"post_id":74839334,"comment_id":132077194,"body_markdown":"If you only need the one object that has the largest a and b and the smallest c, then there’s no reason to sort the entire list. Use [`Collections.max(Collection, Comparator)`](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Collections.html#max(java.util.Collection,java.util.Comparator)) with a suitable comparator, for example the one from the answer.","body":"If you only need the one object that has the largest a and b and the smallest c, then there’s no reason to sort the entire list. Use <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Collections.html#max(java.util.Collection,java.util.Comparator)\" rel=\"nofollow noreferrer\"><code>Collections.max(Collection, Comparator)</code></a> with a suitable comparator, for example the one from the answer."}],"answers":[{"comments":[{"owner":{"account_id":27286810,"reputation":13,"user_id":20805846,"display_name":"Alek San"},"score":0,"creation_date":1671344066,"post_id":74839381,"comment_id":132077054,"body_markdown":"This helped, but c still returns the largest value... Log:\n\n`A: 10 - C: 5 - B: 15`\n`A: 7 - C: 4 - B: 11`\n`A: 6 - C: 0 - B: 6`\n`A: 5 - C: 1 - B: 6`\n`A: 5 - C: 1 - B: 6`\n`A: 4 - C: 2 - B: 6`","body":"This helped, but c still returns the largest value... Log:  <code>A: 10 - C: 5 - B: 15</code> <code>A: 7 - C: 4 - B: 11</code> <code>A: 6 - C: 0 - B: 6</code> <code>A: 5 - C: 1 - B: 6</code> <code>A: 5 - C: 1 - B: 6</code> <code>A: 4 - C: 2 - B: 6</code>"},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1671344321,"post_id":74839381,"comment_id":132077080,"body_markdown":"@AlekSan Well, it first orders by A in descending order. Only for entries having same A it orders by B, and only for entries of same A,B it orders by C. Your largest A is 10, and  there&#39;s only one object with A==10, so that one will be first in the sorted list.","body":"@AlekSan Well, it first orders by A in descending order. Only for entries having same A it orders by B, and only for entries of same A,B it orders by C. Your largest A is 10, and  there&#39;s only one object with A==10, so that one will be first in the sorted list."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1671344402,"post_id":74839381,"comment_id":132077093,"body_markdown":"It should probably be `comparingInt` or `comparingDouble` depending on the type of `valueA`. Similarly `thenComparingInt`, etc.","body":"It should probably be <code>comparingInt</code> or <code>comparingDouble</code> depending on the type of <code>valueA</code>. Similarly <code>thenComparingInt</code>, etc."},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1671344580,"post_id":74839381,"comment_id":132077115,"body_markdown":"@OleV.V. It passes compilation as is. I just tried with `comparingInt` and `thenComparingInt`, and it did not compile.","body":"@OleV.V. It passes compilation as is. I just tried with <code>comparingInt</code> and <code>thenComparingInt</code>, and it did not compile."},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1671345124,"post_id":74839381,"comment_id":132077177,"body_markdown":"@OleV.V. OP wrote they are `int`. I created a basic `Values` class with those 3 methods to test compilation.","body":"@OleV.V. OP wrote they are <code>int</code>. I created a basic <code>Values</code> class with those 3 methods to test compilation."},{"owner":{"account_id":27286810,"reputation":13,"user_id":20805846,"display_name":"Alek San"},"score":0,"creation_date":1671345402,"post_id":74839381,"comment_id":132077207,"body_markdown":"@Eran Yes, the logic is returning as it should, but would it be possible for it to return the value of a and b that is closest to the maximum where c is closest to the minimum? Let me know if this got confusing.","body":"@Eran Yes, the logic is returning as it should, but would it be possible for it to return the value of a and b that is closest to the maximum where c is closest to the minimum? Let me know if this got confusing."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1671345699,"post_id":74839381,"comment_id":132077246,"body_markdown":"I did the same. This compiles fine: `mList.sort (Comparator.comparingInt(Values::getValueA).reversed () .thenComparing(Comparator.comparingInt(Values::getValueB).reversed ()) .thenComparingInt(Values::getValueC));` (sorry about the bad readability in the comment). So `thenComparing` without `Int` before `(Comparator.comparingInt(...` and with `Int` in the other places. What you get from neglecting this is needless boxing and unboxing. You still get the expected result in the end.","body":"I did the same. This compiles fine: <code>mList.sort (Comparator.comparingInt(Values::getValueA).reversed () .thenComparing(Comparator.comparingInt(Values::getValueB).re&zwnj;&#8203;versed ()) .thenComparingInt(Values::getValueC));</code> (sorry about the bad readability in the comment). So <code>thenComparing</code> without <code>Int</code> before <code>(Comparator.comparingInt(...</code> and with <code>Int</code> in the other places. What you get from neglecting this is needless boxing and unboxing. You still get the expected result in the end."},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":1,"creation_date":1671345710,"post_id":74839381,"comment_id":132077247,"body_markdown":"@AlekSan You&#39;ll have to define some function that behaves like the required behavior. For example, you can order by `C/A*B`, so smaller Cs will push you to the beginning of the List and large As and Bs will also push you to the beginning of the List.","body":"@AlekSan You&#39;ll have to define some function that behaves like the required behavior. For example, you can order by <code>C&#47;A*B</code>, so smaller Cs will push you to the beginning of the List and large As and Bs will also push you to the beginning of the List."},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1671346366,"post_id":74839381,"comment_id":132077307,"body_markdown":"@OleV.V. which Java version are you using? I tried your code and get `The type Values does not define getValueA(T) that is applicable here` and `The method comparingInt(ToIntFunction&lt;? super T&gt;) in the type Comparator is not applicable for the arguments (Values::getValueB)`","body":"@OleV.V. which Java version are you using? I tried your code and get <code>The type Values does not define getValueA(T) that is applicable here</code> and <code>The method comparingInt(ToIntFunction&lt;? super T&gt;) in the type Comparator is not applicable for the arguments (Values::getValueB)</code>"},{"owner":{"account_id":27286810,"reputation":13,"user_id":20805846,"display_name":"Alek San"},"score":0,"creation_date":1671346535,"post_id":74839381,"comment_id":132077326,"body_markdown":"OK. But this has already helped me a lot. I believe I can work on the code to make it work the way I need it to. Many thanks to both of you for your help. I believe that if I order by the largest value of b and then by the smallest value of c, by logic, a will be the closest to the maximum.","body":"OK. But this has already helped me a lot. I believe I can work on the code to make it work the way I need it to. Many thanks to both of you for your help. I believe that if I order by the largest value of b and then by the smallest value of c, by logic, a will be the closest to the maximum."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1671347061,"post_id":74839381,"comment_id":132077376,"body_markdown":"Interesting. I used openjdk-18.0.1.1. But it compiles fine with java-11-openjdk too. [See it compile online with Java 12](https://ideone.com/xDZbon) (that program does nothing sensible whatsoever, but it compiles).","body":"Interesting. I used openjdk-18.0.1.1. But it compiles fine with java-11-openjdk too. <a href=\"https://ideone.com/xDZbon\" rel=\"nofollow noreferrer\">See it compile online with Java 12</a> (that program does nothing sensible whatsoever, but it compiles)."},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1671347259,"post_id":74839381,"comment_id":132077399,"body_markdown":"@OleV.V. I&#39;m using Java 11 on eclipse. (java-11-openjdk-11.0.8-2)","body":"@OleV.V. I&#39;m using Java 11 on eclipse. (java-11-openjdk-11.0.8-2)"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1671352074,"post_id":74839381,"comment_id":132077957,"body_markdown":"I haven’t guessed what you have done wrong. On my Eclipse version 2019-03 (4.11.0) the code from [my link](https://ideone.com/xDZbon) also compiles and runs fine no matter if using jdk-11.0..3 or 1.8.0_101.","body":"I haven’t guessed what you have done wrong. On my Eclipse version 2019-03 (4.11.0) the code from <a href=\"https://ideone.com/xDZbon\" rel=\"nofollow noreferrer\">my link</a> also compiles and runs fine no matter if using jdk-11.0..3 or 1.8.0_101."}],"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":13,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671343196,"creation_date":1671342893,"answer_id":74839381,"question_id":74839334,"body_markdown":"It looks like you want to sort in descending order by the first property, then in descending order by the second property, then in ascending order by the third property. You can do so by chaining `Comparator`s.\r\n\r\n    list.sort (Comparator.comparing (Values::getValueA).reversed ()\r\n                         .thenComparing (Comparator.comparing (Values::getValueB).reversed ())\r\n                         .thenComparing(Values::getValueC));","title":"Sort a List of object with 3 diferent numbers","body":"<p>It looks like you want to sort in descending order by the first property, then in descending order by the second property, then in ascending order by the third property. You can do so by chaining <code>Comparator</code>s.</p>\n<pre><code>list.sort (Comparator.comparing (Values::getValueA).reversed ()\n                     .thenComparing (Comparator.comparing (Values::getValueB).reversed ())\n                     .thenComparing(Values::getValueC));\n</code></pre>\n"}],"owner":{"account_id":27286810,"reputation":13,"user_id":20805846,"display_name":"Alek San"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74839381,"answer_count":1,"score":1,"last_activity_date":1671343266,"creation_date":1671342172,"question_id":74839334,"body_markdown":"I have a list of objects \r\n\r\n    List&lt;Values&gt; mList = new Arraylist...\r\n\r\nwhere a, b and c have different values which I don&#39;t know. I need to return the position of largest value of a and b and the smallest value of c. How to organize this list so that position 0 has the corresponding entry? \r\n\r\nI tried something like\r\n\r\n    mList.sort(p1, p2 -&gt; Math.max(p1.getValueA, Math.min(p1.getValueB, p2.getValueC))`\r\n\r\nwith no results...\r\n\r\n(The values are int)","title":"Sort a List of object with 3 diferent numbers","body":"<p>I have a list of objects</p>\n<pre><code>List&lt;Values&gt; mList = new Arraylist...\n</code></pre>\n<p>where a, b and c have different values which I don't know. I need to return the position of largest value of a and b and the smallest value of c. How to organize this list so that position 0 has the corresponding entry?</p>\n<p>I tried something like</p>\n<pre><code>mList.sort(p1, p2 -&gt; Math.max(p1.getValueA, Math.min(p1.getValueB, p2.getValueC))`\n</code></pre>\n<p>with no results...</p>\n<p>(The values are int)</p>\n"},{"tags":["javascript","java","encryption","cryptojs"],"comments":[{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1671349538,"post_id":74839342,"comment_id":132077655,"body_markdown":"The JavaScript code is missing the port of `key = Arrays.copyOf(key, 16)`, i.e. the keys differ. Note that the code has security vulnerabilities: ECB is insecure, as is using a fast digest as key derivation, and even worse if the digest itself is insecure.","body":"The JavaScript code is missing the port of <code>key = Arrays.copyOf(key, 16)</code>, i.e. the keys differ. Note that the code has security vulnerabilities: ECB is insecure, as is using a fast digest as key derivation, and even worse if the digest itself is insecure."}],"owner":{"account_id":7665731,"reputation":2078,"user_id":5809504,"accept_rate":62,"display_name":"Smit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671342697,"creation_date":1671342282,"question_id":74839342,"body_markdown":"Here is my AES Library in Java:\r\n\r\n```\r\npublic class AESUtil {\r\n\r\n  private SecretKeySpec secretKey;\r\n\r\n  public static void main(String[] args) {\r\n    String str = args[1];\r\n    String salt = args[2];\r\n\r\n    AESUtil aesUtil = new AESUtil();\r\n\r\n    if (args[0].equals(&quot;D&quot;)) {\r\n      //Going to Decrypt\r\n      System.out.println(aesUtil.decrypt(str, salt));\r\n    } else {\r\n      //Going to Encrypt\r\n      System.out.println(aesUtil.encrypt(str, salt));\r\n    }\r\n  }\r\n\r\n  public String encrypt(final String strToEncrypt, final String secret) {\r\n    try {\r\n      setKey(secret);\r\n      Cipher cipher = Cipher.getInstance(&quot;AES/ECB/PKCS5Padding&quot;);\r\n      cipher.init(Cipher.ENCRYPT_MODE, secretKey);\r\n      return Base64.getEncoder()\r\n          .encodeToString(cipher.doFinal(strToEncrypt.getBytes(StandardCharsets.UTF_8)));\r\n    } catch (Exception e) {\r\n      System.out.println(&quot;Error while encrypting: &quot; + e.toString());\r\n    }\r\n    return null;\r\n  }\r\n\r\n  public String decrypt(final String strToDecrypt, final String secret) {\r\n    try {\r\n      setKey(secret);\r\n      Cipher cipher = Cipher.getInstance(&quot;AES/ECB/PKCS5PADDING&quot;);\r\n      cipher.init(Cipher.DECRYPT_MODE, secretKey);\r\n      return new String(cipher.doFinal(Base64.getDecoder()\r\n          .decode(strToDecrypt)));\r\n    } catch (Exception e) {\r\n      System.out.println(&quot;Error while decrypting: &quot; + e.toString());\r\n    }\r\n    return null;\r\n  }\r\n\r\n  private void setKey(final String myKey) {\r\n    MessageDigest sha = null;\r\n    try {\r\n      byte[] key = myKey.getBytes(StandardCharsets.UTF_8);\r\n      sha = MessageDigest.getInstance(&quot;SHA-1&quot;);\r\n      key = sha.digest(key);\r\n\r\n      key = Arrays.copyOf(key, 16);\r\n\r\n      secretKey = new SecretKeySpec(key, &quot;AES&quot;);\r\n    } catch (NoSuchAlgorithmException e) {\r\n      e.printStackTrace();\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nHere is my Decryption Logic in Javascript using CryptoJS lib:\r\n```\r\nfunction decrypt() {\r\n    var hashedKey = CryptoJS.SHA1(CryptoJS.enc.Utf8.parse(document.getElementById(&quot;pass&quot;).value));\r\n    console.log(hashedKey)\r\n    \r\n    var encryptedCipherText = document.getElementById(&quot;text&quot;).value;\r\n    console.log(encryptedCipherText)\r\n\r\n    var decryptedData = CryptoJS.AES.decrypt(encryptedCipherText, hashedKey,\r\n      {\r\n        mode: CryptoJS.mode.ECB,\r\n        padding: CryptoJS.pad.Pkcs7\r\n      })\r\n    console.log(decryptedData)\r\n\r\n    var decryptedText = decryptedData.toString(CryptoJS.enc.Utf8);\r\n    console.log(decryptedText)\r\n\r\n    document.getElementById(&quot;decrypted&quot;).innerHTML = decryptedText;\r\n    document.getElementById(&quot;result&quot;).innerHTML = &#39;&#39;;\r\n  }\r\n```\r\n\r\nIn Java:\r\n\r\nFor:\r\n\r\nPlain Text: `This Value is to Encrypt`\r\n\r\nSecret: `shh!`\r\n\r\nEncrypted Value: `i8DHmeHuoQWv3rwZ+cybgSdSkyUX7MAcU54NUf2iyxU=`\r\n\r\nHowever when putting the same value in Javascript:\r\n\r\n[![HTML View][1]][1]\r\n\r\nI have a high suspect on SHA1 logic i have in Java, that might be causing the issue. But not sure on how to validate that.\r\n\r\n  [1]: https://i.stack.imgur.com/RGkF9.png","title":"Crypto JS and Java Security Library for replicate both Encryption and Decryption","body":"<p>Here is my AES Library in Java:</p>\n<pre><code>public class AESUtil {\n\n  private SecretKeySpec secretKey;\n\n  public static void main(String[] args) {\n    String str = args[1];\n    String salt = args[2];\n\n    AESUtil aesUtil = new AESUtil();\n\n    if (args[0].equals(&quot;D&quot;)) {\n      //Going to Decrypt\n      System.out.println(aesUtil.decrypt(str, salt));\n    } else {\n      //Going to Encrypt\n      System.out.println(aesUtil.encrypt(str, salt));\n    }\n  }\n\n  public String encrypt(final String strToEncrypt, final String secret) {\n    try {\n      setKey(secret);\n      Cipher cipher = Cipher.getInstance(&quot;AES/ECB/PKCS5Padding&quot;);\n      cipher.init(Cipher.ENCRYPT_MODE, secretKey);\n      return Base64.getEncoder()\n          .encodeToString(cipher.doFinal(strToEncrypt.getBytes(StandardCharsets.UTF_8)));\n    } catch (Exception e) {\n      System.out.println(&quot;Error while encrypting: &quot; + e.toString());\n    }\n    return null;\n  }\n\n  public String decrypt(final String strToDecrypt, final String secret) {\n    try {\n      setKey(secret);\n      Cipher cipher = Cipher.getInstance(&quot;AES/ECB/PKCS5PADDING&quot;);\n      cipher.init(Cipher.DECRYPT_MODE, secretKey);\n      return new String(cipher.doFinal(Base64.getDecoder()\n          .decode(strToDecrypt)));\n    } catch (Exception e) {\n      System.out.println(&quot;Error while decrypting: &quot; + e.toString());\n    }\n    return null;\n  }\n\n  private void setKey(final String myKey) {\n    MessageDigest sha = null;\n    try {\n      byte[] key = myKey.getBytes(StandardCharsets.UTF_8);\n      sha = MessageDigest.getInstance(&quot;SHA-1&quot;);\n      key = sha.digest(key);\n\n      key = Arrays.copyOf(key, 16);\n\n      secretKey = new SecretKeySpec(key, &quot;AES&quot;);\n    } catch (NoSuchAlgorithmException e) {\n      e.printStackTrace();\n    }\n  }\n}\n</code></pre>\n<p>Here is my Decryption Logic in Javascript using CryptoJS lib:</p>\n<pre><code>function decrypt() {\n    var hashedKey = CryptoJS.SHA1(CryptoJS.enc.Utf8.parse(document.getElementById(&quot;pass&quot;).value));\n    console.log(hashedKey)\n    \n    var encryptedCipherText = document.getElementById(&quot;text&quot;).value;\n    console.log(encryptedCipherText)\n\n    var decryptedData = CryptoJS.AES.decrypt(encryptedCipherText, hashedKey,\n      {\n        mode: CryptoJS.mode.ECB,\n        padding: CryptoJS.pad.Pkcs7\n      })\n    console.log(decryptedData)\n\n    var decryptedText = decryptedData.toString(CryptoJS.enc.Utf8);\n    console.log(decryptedText)\n\n    document.getElementById(&quot;decrypted&quot;).innerHTML = decryptedText;\n    document.getElementById(&quot;result&quot;).innerHTML = '';\n  }\n</code></pre>\n<p>In Java:</p>\n<p>For:</p>\n<p>Plain Text: <code>This Value is to Encrypt</code></p>\n<p>Secret: <code>shh!</code></p>\n<p>Encrypted Value: <code>i8DHmeHuoQWv3rwZ+cybgSdSkyUX7MAcU54NUf2iyxU=</code></p>\n<p>However when putting the same value in Javascript:</p>\n<p><a href=\"https://i.stack.imgur.com/RGkF9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RGkF9.png\" alt=\"HTML View\" /></a></p>\n<p>I have a high suspect on SHA1 logic i have in Java, that might be causing the issue. But not sure on how to validate that.</p>\n"},{"tags":["java","sqlite","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671315420,"creation_date":1671315420,"answer_id":74837846,"question_id":74836183,"body_markdown":"It looks like you call `storeFoodDataInArrayList()` multiple times which populates the `food_ID` array, but you never clear that array. \r\n\r\nClear the `food_ID` array before populating it.","title":"How do I make Recycler view replace existing items instead of adding to it?","body":"<p>It looks like you call <code>storeFoodDataInArrayList()</code> multiple times which populates the <code>food_ID</code> array, but you never clear that array.</p>\n<p>Clear the <code>food_ID</code> array before populating it.</p>\n"},{"tags":[],"owner":{"account_id":27248541,"reputation":31,"user_id":20773419,"display_name":"Henchman8908"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671342674,"creation_date":1671342674,"answer_id":74839369,"question_id":74836183,"body_markdown":"Solved: Had to pass Custom Adapter to a custom object and read the ArrayList from the object, which let me sort based on SQL queries.","title":"How do I make Recycler view replace existing items instead of adding to it?","body":"<p>Solved: Had to pass Custom Adapter to a custom object and read the ArrayList from the object, which let me sort based on SQL queries.</p>\n"}],"owner":{"account_id":27248541,"reputation":31,"user_id":20773419,"display_name":"Henchman8908"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74839369,"answer_count":2,"score":0,"last_activity_date":1671342674,"creation_date":1671299100,"question_id":74836183,"body_markdown":"I&#39;ve figured out how to get the sorted data with a query and pass that to the Recycler view, *but it only adds to the RecyclerView instead of replacing the already existing items*. Uploaded the code to Pastebin since code irrelevant to the problem is in the class.\r\n\r\nMyDatabaseHelper class = https://pastebin.com/fXHw5ccb\r\n\r\nCustomAdapter class = https://pastebin.com/4epLqWzJ\r\n\r\nMainActivity class = https://pastebin.com/h5mDQunv\r\n\r\nIncluding \r\n```\r\n    customAdapter.notifyDataSetChanged();\r\n    recyclerView.setAdapter(customAdapter);\r\n```\r\nor removing it doesn&#39;t solve the problem.\r\n\r\nHow it looks: https://i.stack.imgur.com/FK8iD.png\r\n\r\nHow I want it to look after clicking the [menu sort item][1]: https://i.stack.imgur.com/RSNEL.png\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AJPrI.png","title":"How do I make Recycler view replace existing items instead of adding to it?","body":"<p>I've figured out how to get the sorted data with a query and pass that to the Recycler view, <em>but it only adds to the RecyclerView instead of replacing the already existing items</em>. Uploaded the code to Pastebin since code irrelevant to the problem is in the class.</p>\n<p>MyDatabaseHelper class = <a href=\"https://pastebin.com/fXHw5ccb\" rel=\"nofollow noreferrer\">https://pastebin.com/fXHw5ccb</a></p>\n<p>CustomAdapter class = <a href=\"https://pastebin.com/4epLqWzJ\" rel=\"nofollow noreferrer\">https://pastebin.com/4epLqWzJ</a></p>\n<p>MainActivity class = <a href=\"https://pastebin.com/h5mDQunv\" rel=\"nofollow noreferrer\">https://pastebin.com/h5mDQunv</a></p>\n<p>Including</p>\n<pre><code>    customAdapter.notifyDataSetChanged();\n    recyclerView.setAdapter(customAdapter);\n</code></pre>\n<p>or removing it doesn't solve the problem.</p>\n<p>How it looks: <a href=\"https://i.stack.imgur.com/FK8iD.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/FK8iD.png</a></p>\n<p>How I want it to look after clicking the <a href=\"https://i.stack.imgur.com/AJPrI.png\" rel=\"nofollow noreferrer\">menu sort item</a>: <a href=\"https://i.stack.imgur.com/RSNEL.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/RSNEL.png</a></p>\n"},{"tags":["java","jar","obfuscation","source-code-protection"],"comments":[{"owner":{"account_id":253331,"reputation":22640,"user_id":531954,"accept_rate":69,"display_name":"Danubian Sailor"},"score":0,"creation_date":1323166603,"post_id":8351848,"comment_id":10369292,"body_markdown":"Please edit your question because it&#39;s really hard to understand.","body":"Please edit your question because it&#39;s really hard to understand."},{"owner":{"display_name":"user180100"},"score":0,"creation_date":1323670093,"post_id":8351848,"comment_id":10476437,"body_markdown":"possible duplicate of [&quot;undecompilable&quot; source code in java](http://stackoverflow.com/questions/3797055/undecompilable-source-code-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/3797055/undecompilable-source-code-in-java\">&quot;undecompilable&quot; source code in java</a>"}],"answers":[{"tags":[],"owner":{"account_id":120028,"reputation":35744,"user_id":312172,"accept_rate":86,"display_name":"user unknown"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1323672593,"creation_date":1323672593,"answer_id":8470817,"question_id":8351848,"body_markdown":"If you don&#39;t insert your source code in the jar, your sourcecode isn&#39;t what is decompiled by a decompiler, but something similar. \r\n\r\nHowever, you may use an obfuscator to make code decompilation produce very ugly code like [Proguard][1].\r\n\r\n&gt; ProGuard is a free Java class file shrinker, optimizer, obfuscator,\r\n&gt; and preverifier. It detects and removes unused classes, fields,\r\n&gt; methods, and attributes. It optimizes bytecode and removes unused\r\n&gt; instructions. It renames the remaining classes, fields, and methods\r\n&gt; using short meaningless names. Finally, it preverifies the processed\r\n&gt; code for Java 6 or for Java Micro Edition.\r\n\r\nSearch for other products with the term *obfuscator*.\r\n\r\n  [1]: http://proguard.sourceforge.net/","title":"How to prevent jar decompilation","body":"<p>If you don't insert your source code in the jar, your sourcecode isn't what is decompiled by a decompiler, but something similar. </p>\n\n<p>However, you may use an obfuscator to make code decompilation produce very ugly code like <a href=\"http://proguard.sourceforge.net/\" rel=\"nofollow\">Proguard</a>.</p>\n\n<blockquote>\n  <p>ProGuard is a free Java class file shrinker, optimizer, obfuscator,\n  and preverifier. It detects and removes unused classes, fields,\n  methods, and attributes. It optimizes bytecode and removes unused\n  instructions. It renames the remaining classes, fields, and methods\n  using short meaningless names. Finally, it preverifies the processed\n  code for Java 6 or for Java Micro Edition.</p>\n</blockquote>\n\n<p>Search for other products with the term <em>obfuscator</em>.</p>\n"},{"comments":[{"owner":{"account_id":114151,"reputation":32353,"user_id":300311,"accept_rate":88,"display_name":"Erick Robertson"},"score":0,"creation_date":1380776735,"post_id":11331796,"comment_id":28327776,"body_markdown":"+1 What a great answer! &quot;You&#39;re a lot more likely to beat would-be pirates through frequent, meaningful updates than you are by bothering your customers with increasingly onerous security measures.&quot; http://www.codinghorror.com/blog/2005/05/obfuscating-code.html","body":"+1 What a great answer! &quot;You&#39;re a lot more likely to beat would-be pirates through frequent, meaningful updates than you are by bothering your customers with increasingly onerous security measures.&quot; <a href=\"http://www.codinghorror.com/blog/2005/05/obfuscating-code.html\" rel=\"nofollow noreferrer\">codinghorror.com/blog/2005/05/obfuscating-code.html</a>"},{"owner":{"account_id":2048853,"reputation":1976,"user_id":1828296,"accept_rate":75,"display_name":"lospejos"},"score":0,"creation_date":1469135435,"post_id":11331796,"comment_id":64425858,"body_markdown":"Agree, because if your code transferred and executed into another environment / host - it could be: stopped, debugged, evaluated, transformed etc. You only **could try** to harden this or, as @Antimony said, give no reason to do it: 1) use technologies that require a more higher level of knowledge to decompile (see f.e. http://www.jproductivity.com/); 2) have a low price for your product, 3) use cloud/server logic (don&#39;t move code to the client). Also see here: http://stackoverflow.com/questions/2443542/how-to-protect-compiled-java-classes","body":"Agree, because if your code transferred and executed into another environment / host - it could be: stopped, debugged, evaluated, transformed etc. You only <b>could try</b> to harden this or, as @Antimony said, give no reason to do it: 1) use technologies that require a more higher level of knowledge to decompile (see f.e. <a href=\"http://www.jproductivity.com/\" rel=\"nofollow noreferrer\">jproductivity.com</a>); 2) have a low price for your product, 3) use cloud/server logic (don&#39;t move code to the client). Also see here: <a href=\"http://stackoverflow.com/questions/2443542/how-to-protect-compiled-java-classes\" title=\"how to protect compiled java classes\">stackoverflow.com/questions/2443542/&hellip;</a>"}],"tags":[],"owner":{"account_id":1520477,"reputation":38093,"user_id":1420279,"accept_rate":80,"display_name":"Antimony"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1341415057,"creation_date":1341415057,"answer_id":11331796,"question_id":8351848,"body_markdown":"The best way to stop your jar from being decompiled is to give users no reason to want to. Obfuscation is just a bandaid. In fact, some people will probably reverse it just for the challenge if it&#39;s famous enough.","title":"How to prevent jar decompilation","body":"<p>The best way to stop your jar from being decompiled is to give users no reason to want to. Obfuscation is just a bandaid. In fact, some people will probably reverse it just for the challenge if it's famous enough.</p>\n"}],"owner":{"account_id":383424,"reputation":321,"user_id":739268,"accept_rate":48,"display_name":"Eshika"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6589,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":8470817,"answer_count":2,"score":4,"last_activity_date":1671342398,"creation_date":1322800680,"question_id":8351848,"body_markdown":"I have created a plugin project in Eclipse, distributed as a jar.\r\nThe user can take this jar and decompile it using JAD. \r\n**Is there any way so that i can stop the decompilation of a jar file?**\r\nOr, at least, to hide my source code from the user?\r\n","title":"How to prevent jar decompilation","body":"<p>I have created a plugin project in Eclipse, distributed as a jar.\nThe user can take this jar and decompile it using JAD. \n<strong>Is there any way so that i can stop the decompilation of a jar file?</strong>\nOr, at least, to hide my source code from the user?</p>\n"},{"tags":["java","jar","decompiler"],"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1495388771,"post_id":44099855,"comment_id":75220227,"body_markdown":"Using Java 8 confuses decompilers which don&#39;t support it. Fernflower (built in to InteliJ) seems to handle Java 8 just fine.","body":"Using Java 8 confuses decompilers which don&#39;t support it. Fernflower (built in to InteliJ) seems to handle Java 8 just fine."}],"answers":[{"comments":[{"owner":{"account_id":5553643,"reputation":801,"user_id":4405866,"display_name":"prakash krishnan"},"score":0,"creation_date":1527423256,"post_id":44100090,"comment_id":88114843,"body_markdown":"Lambdas as in the Java 8 Lambdas. Would appreciate if you could give an example of this please.","body":"Lambdas as in the Java 8 Lambdas. Would appreciate if you could give an example of this please."}],"tags":[],"owner":{"account_id":1520477,"reputation":38093,"user_id":1420279,"accept_rate":80,"display_name":"Antimony"},"comment_count":1,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1495389604,"creation_date":1495389604,"answer_id":44100090,"question_id":44099855,"body_markdown":"One very simple approach is to add lambdas to your class. Many decompilers can&#39;t handle lambdas. Another thing you can do is give your class a Unicode name, especially one using astral characters. Unicode class names are tricky to implement correctly, so most decompilers don&#39;t. Try-with-resources is another good thing to try, since it is complex and doesn&#39;t have any equivalent in vanilla Java code.\r\n\r\nThis won&#39;t break a good decompiler, but that&#39;s not what you&#39;re asking for.","title":"How to protect jar from &quot;simple/easy&quot; decompilation","body":"<p>One very simple approach is to add lambdas to your class. Many decompilers can't handle lambdas. Another thing you can do is give your class a Unicode name, especially one using astral characters. Unicode class names are tricky to implement correctly, so most decompilers don't. Try-with-resources is another good thing to try, since it is complex and doesn't have any equivalent in vanilla Java code.</p>\n\n<p>This won't break a good decompiler, but that's not what you're asking for.</p>\n"}],"owner":{"account_id":184631,"reputation":4733,"user_id":420803,"accept_rate":65,"display_name":"Enrique"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9124,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"answer_count":1,"score":2,"last_activity_date":1671342253,"creation_date":1495388144,"question_id":44099855,"body_markdown":"I know this is a very common question, and a good topic is actually here:   \r\nhttps://stackoverflow.com/questions/49379/how-to-lock-compiled-java-classes-to-prevent-decompilation   \r\n\r\nBut I&#39;m asking something different, not an absolute protection, but at least some basic protection against decompilers.    \r\n\r\nI have tried some decompilers like JD and Jode with some .jar files, and they couldn&#39;t decompile all the .java classes, in many of them I get an error, and many other just a very basic code.   \r\nHow are they protecting the jar files from those decompilers? when I use the same decompilers with my jar all the classes are decompiled with full detail.   \r\n  \r\nSo basically my question is, what could be causing this error on those decompilers? is because the java classes are encrypted? \r\n\r\n**EDIT:**    \r\nI have noted Jode is showing this error in some java files:   \r\n\r\n    Exception while decompiling:java.lang.NoClassDefFoundError: [package.ClassName]\r\n    \tat jode.bytecode.ClassInfo.loadInfo(ClassInfo.java:631)\r\n    \tat jode.decompiler.ClassAnalyzer.&lt;init&gt;(ClassAnalyzer.java:86)\r\n    \tat jode.decompiler.ClassAnalyzer.&lt;init&gt;(ClassAnalyzer.java:123)\r\n    \tat jode.decompiler.Decompiler.decompile(Decompiler.java:191)\r\n    \tat jode.swingui.Main.run(Main.java:204)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n\r\n\r\nAlso tried with FernFlower decompiler, with this error:   \r\n\r\n    java.lang.ClassCastException: g cannot be cast to T\r\n            at bK.a(Unknown Source)\r\n            at T.a(Unknown Source)\r\n            at bK.&lt;init&gt;(Unknown Source)\r\n            at bW.a(Unknown Source)\r\n            at bW.&lt;init&gt;(Unknown Source)\r\n            at bW.&lt;init&gt;(Unknown Source)\r\n            at i.a(Unknown Source)\r\n            at i.a(Unknown Source)\r\n            at i.a(Unknown Source)\r\n            at de.fernflower.main.decompiler.ConsoleDecompiler.addSpace(Unknown Source)\r\n            at de.fernflower.main.decompiler.ConsoleDecompiler.main(Unknown Source)\r\n\r\n\r\n\r\nWhat was the protection there? I think that could be good enough for my jar files\r\n\r\n","title":"How to protect jar from &quot;simple/easy&quot; decompilation","body":"<p>I know this is a very common question, and a good topic is actually here:<br>\n<a href=\"https://stackoverflow.com/questions/49379/how-to-lock-compiled-java-classes-to-prevent-decompilation\">How to lock compiled Java classes to prevent decompilation?</a>   </p>\n\n<p>But I'm asking something different, not an absolute protection, but at least some basic protection against decompilers.    </p>\n\n<p>I have tried some decompilers like JD and Jode with some .jar files, and they couldn't decompile all the .java classes, in many of them I get an error, and many other just a very basic code.<br>\nHow are they protecting the jar files from those decompilers? when I use the same decompilers with my jar all the classes are decompiled with full detail.   </p>\n\n<p>So basically my question is, what could be causing this error on those decompilers? is because the java classes are encrypted? </p>\n\n<p><strong>EDIT:</strong><br>\nI have noted Jode is showing this error in some java files:   </p>\n\n<pre><code>Exception while decompiling:java.lang.NoClassDefFoundError: [package.ClassName]\n    at jode.bytecode.ClassInfo.loadInfo(ClassInfo.java:631)\n    at jode.decompiler.ClassAnalyzer.&lt;init&gt;(ClassAnalyzer.java:86)\n    at jode.decompiler.ClassAnalyzer.&lt;init&gt;(ClassAnalyzer.java:123)\n    at jode.decompiler.Decompiler.decompile(Decompiler.java:191)\n    at jode.swingui.Main.run(Main.java:204)\n    at java.lang.Thread.run(Unknown Source)\n</code></pre>\n\n<p>Also tried with FernFlower decompiler, with this error:   </p>\n\n<pre><code>java.lang.ClassCastException: g cannot be cast to T\n        at bK.a(Unknown Source)\n        at T.a(Unknown Source)\n        at bK.&lt;init&gt;(Unknown Source)\n        at bW.a(Unknown Source)\n        at bW.&lt;init&gt;(Unknown Source)\n        at bW.&lt;init&gt;(Unknown Source)\n        at i.a(Unknown Source)\n        at i.a(Unknown Source)\n        at i.a(Unknown Source)\n        at de.fernflower.main.decompiler.ConsoleDecompiler.addSpace(Unknown Source)\n        at de.fernflower.main.decompiler.ConsoleDecompiler.main(Unknown Source)\n</code></pre>\n\n<p>What was the protection there? I think that could be good enough for my jar files</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1671329745,"post_id":74838722,"comment_id":132075961,"body_markdown":"In the first example `listvar` has the type `List&lt;type&gt;`, in the second, it has the type `ArrayList&lt;type&gt;`. That&#39;s the only difference. So in the second case we could call `listvar.trimToSize()`, which does not exist on `List`, only on `ArrayList`.","body":"In the first example <code>listvar</code> has the type <code>List&lt;type&gt;</code>, in the second, it has the type <code>ArrayList&lt;type&gt;</code>. That&#39;s the only difference. So in the second case we could call <code>listvar.trimToSize()</code>, which does not exist on <code>List</code>, only on <code>ArrayList</code>."},{"owner":{"account_id":15172161,"reputation":11,"user_id":10947881,"display_name":"Ely Meyers"},"score":0,"creation_date":1671329970,"post_id":74838722,"comment_id":132075977,"body_markdown":"@tgdavies so correct me if I&#39;m wrong but the first one is type list and second is type arraylist but since List is an interface and can&#39;t be instantiated, the `new ArrayList&lt;type&gt;()` in both just uses the ArrayList constructor?","body":"@tgdavies so correct me if I&#39;m wrong but the first one is type list and second is type arraylist but since List is an interface and can&#39;t be instantiated, the <code>new ArrayList&lt;type&gt;()</code> in both just uses the ArrayList constructor?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1671330223,"post_id":74838722,"comment_id":132075995,"body_markdown":"The right hand side of the assignment is exactly the same in both cases -- an ArrayList instance is created. You could write `Object listvar = new ArrayList&lt;type&gt;();` and an ArrayList is still created.","body":"The right hand side of the assignment is exactly the same in both cases -- an ArrayList instance is created. You could write <code>Object listvar = new ArrayList&lt;type&gt;();</code> and an ArrayList is still created."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1671330888,"post_id":74838722,"comment_id":132076044,"body_markdown":"This question and its answers might help  https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface","body":"This question and its answers might help  <a href=\"https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface\" title=\"what does it mean to program to an interface\">stackoverflow.com/questions/383947/&hellip;</a>"},{"owner":{"account_id":15237737,"reputation":484,"user_id":10994912,"display_name":"George R"},"score":1,"creation_date":1671331303,"post_id":74838722,"comment_id":132076069,"body_markdown":"Does this answer your question? [Type List vs type ArrayList in Java](https://stackoverflow.com/questions/2279030/type-list-vs-type-arraylist-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2279030/type-list-vs-type-arraylist-in-java\">Type List vs type ArrayList in Java</a>"}],"answers":[{"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1671332016,"post_id":74838777,"comment_id":132076121,"body_markdown":"You are *not* creating a &quot;version of ArrayList&quot;. An *identical* ArrayList is created in both cases. The reference listvar has a different type in each case, and the reference can only be used to call methods present in that type, but the objects are identical.","body":"You are <i>not</i> creating a &quot;version of ArrayList&quot;. An <i>identical</i> ArrayList is created in both cases. The reference listvar has a different type in each case, and the reference can only be used to call methods present in that type, but the objects are identical."},{"owner":{"account_id":27213791,"reputation":452,"user_id":20744164,"display_name":"Teddy"},"score":0,"creation_date":1671332590,"post_id":74838777,"comment_id":132076163,"body_markdown":"@tgdavies thank you for your input. I have edited my answer to be more clear.","body":"@tgdavies thank you for your input. I have edited my answer to be more clear."}],"tags":[],"owner":{"account_id":27213791,"reputation":452,"user_id":20744164,"display_name":"Teddy"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671332562,"creation_date":1671330549,"answer_id":74838777,"question_id":74838722,"body_markdown":"ArrayList is a class while List is an interface.\r\nthis is why you can do `new ArrayList&lt;type&gt;` but not `new List&lt;type&gt;`\r\n\r\nIf you do `List&lt;type&gt; listvar = new ArrayList&lt;type&gt;();` you create a reference of ArrayList which can only use the functionality which the List interface defines.\r\n\r\nIn both cases you still have an ArrayList.","title":"Instantiating List generics with List&lt;type&gt; vs ArrayList&lt;type&gt;","body":"<p>ArrayList is a class while List is an interface.\nthis is why you can do <code>new ArrayList&lt;type&gt;</code> but not <code>new List&lt;type&gt;</code></p>\n<p>If you do <code>List&lt;type&gt; listvar = new ArrayList&lt;type&gt;();</code> you create a reference of ArrayList which can only use the functionality which the List interface defines.</p>\n<p>In both cases you still have an ArrayList.</p>\n"}],"owner":{"account_id":15172161,"reputation":11,"user_id":10947881,"display_name":"Ely Meyers"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1671341026,"answer_count":1,"score":-1,"last_activity_date":1671341231,"creation_date":1671329434,"question_id":74838722,"body_markdown":"Teaching myself java and am a little confused on the differences between the two methods of creating a List type object.\r\n\r\nWhat&#39;s the difference between:\r\n\r\n```\r\nList&lt;type&gt; listvar = new ArrayList&lt;type&gt;();\r\n```\r\n\r\nand\r\n\r\n```\r\nArrayList&lt;type&gt; listvar = new ArrayList&lt;type&gt;();\r\n```","title":"Instantiating List generics with List&lt;type&gt; vs ArrayList&lt;type&gt;","body":"<p>Teaching myself java and am a little confused on the differences between the two methods of creating a List type object.</p>\n<p>What's the difference between:</p>\n<pre><code>List&lt;type&gt; listvar = new ArrayList&lt;type&gt;();\n</code></pre>\n<p>and</p>\n<pre><code>ArrayList&lt;type&gt; listvar = new ArrayList&lt;type&gt;();\n</code></pre>\n"},{"tags":["java","arrays","recursion","bluej"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1671341136,"post_id":74839173,"comment_id":132076807,"body_markdown":"In your search for the next square to put a queen you are starting from (0, 0) each time. This causes your algorithm to find an identical solution several times. Instead only start the search in the next square (or even the next row) from where the previous queen was put.","body":"In your search for the next square to put a queen you are starting from (0, 0) each time. This causes your algorithm to find an identical solution several times. Instead only start the search in the next square (or even the next row) from where the previous queen was put."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1671386172,"post_id":74839173,"comment_id":132083621,"body_markdown":"The way I would do (which is not the only way) would be pass a row number (0 through 7) to `solve()` so that the method will only search fields in that row before (if successful) passing the next higher row number to the recursive call. (And no, I am not finishing your code for you. Its your exercise and you who should learn from coding it. I won’t deprive you of that benefit. If you want a finished solution, you can find one on the Internet.)","body":"The way I would do (which is not the only way) would be pass a row number (0 through 7) to <code>solve()</code> so that the method will only search fields in that row before (if successful) passing the next higher row number to the recursive call. (And no, I am not finishing your code for you. Its your exercise and you who should learn from coding it. I won’t deprive you of that benefit. If you want a finished solution, you can find one on the Internet.)"},{"owner":{"account_id":27286584,"reputation":21,"user_id":20805651,"display_name":"doug"},"score":0,"creation_date":1671387048,"post_id":74839173,"comment_id":132083770,"body_markdown":"thank you so much I think i got it to work, just gotta test it a few more times!","body":"thank you so much I think i got it to work, just gotta test it a few more times!"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1671392221,"post_id":74839173,"comment_id":132084654,"body_markdown":"That’s so good to read! Thanks for reporting back. You can consider posting your solution as an answer yo your own question.","body":"That’s so good to read! Thanks for reporting back. You can consider posting your solution as an answer yo your own question."}],"owner":{"account_id":27286584,"reputation":21,"user_id":20805651,"display_name":"doug"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1671340592,"creation_date":1671338492,"question_id":74839173,"body_markdown":"I made the 8x8 chess board and have a lot of the code done, but for some reason it only print out one solution, does anyone know why this may be and how I can fix it?\r\n\r\n```\r\npublic class NonAttackingQueens {\r\n    private int[][] board;\r\n    private int solutionCount = 0;\r\n    private boolean solutionFound = false;\r\n\r\n    public NonAttackingQueens() {\r\n        board = new int[8][8];\r\n    }\r\n\r\n    public boolean canPlace(int x, int y) {\r\n        // Check if a queen is already placed at position (x, y)\r\n        if (board[x][y] == 1) {\r\n            return false;\r\n        }\r\n\r\n        // Check horizontal positions\r\n        for (int i = 0; i &lt; 8; i++) {\r\n            if (board[x][i] == 1) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        // Check vertical positions\r\n        for (int i = 0; i &lt; 8; i++) {\r\n            if (board[i][y] == 1) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        // Check diagonal positions\r\n        for (int i = 0; i &lt; 8; i++) {\r\n            for (int j = 0; j &lt; 8; j++) {\r\n                if (board[i][j] == 1 &amp;&amp; (Math.abs(i - x) == Math.abs(j - y))) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\npublic void solve() {\r\n    // Check if the solutionCount has reached 92\r\n    if (solutionCount == 92) {\r\n        return;\r\n    }\r\n\r\n    // Check if all 8 queens have been placed\r\n    int queensPlaced = 0;\r\n    for (int i = 0; i &lt; 8; i++) {\r\n        for (int j = 0; j &lt; 8; j++) {\r\n            if (board[i][j] == 1) {\r\n                queensPlaced++;\r\n            }\r\n        }\r\n    }\r\n    if (queensPlaced == 8) {\r\n        // All positions have been checked, so we have found a solution\r\n        solutionCount++;\r\n        System.out.println(&quot;Solution &quot; + solutionCount + &quot;:&quot;);\r\n        print();\r\n        return;\r\n    }\r\n\r\n    // Try to place a queen at each position on the board\r\n    for (int i = 0; i &lt; 8; i++) {\r\n        for (int j = 0; j &lt; 8; j++) {\r\n            if (canPlace(i, j)) {\r\n                // Place a queen at position (i, j) and try to solve the rest of the board\r\n                board[i][j] = 1;\r\n                solve();\r\n                // Backtrack: remove the queen from position (i, j) and try the next position\r\n                board[i][j] = 0;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n    public void print() {\r\n        for (int i = 0; i &lt; 8; i++) {\r\n            for (int j = 0; j &lt; 8; j++) {\r\n                if (board[i][j] == 1) {\r\n                    System.out.print(&quot; X&quot;);\r\n                } else {\r\n                    System.out.print(&quot; O&quot;);\r\n                }\r\n            }\r\n            System.out.println();\r\n        }\r\n        System.out.println(&quot;---------------&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\nI&#39;m doing this in blueJ, so I tried to run the `void solve();` method and it runs, but it only prints out the first of 92 solutions 92 times. It should print out all 92 different solutions.","title":"Creating a non-Attacking Queens game that is supposed to print out all 92 solutions of 8 queens on a chess board that cannot attack eachother","body":"<p>I made the 8x8 chess board and have a lot of the code done, but for some reason it only print out one solution, does anyone know why this may be and how I can fix it?</p>\n<pre><code>public class NonAttackingQueens {\n    private int[][] board;\n    private int solutionCount = 0;\n    private boolean solutionFound = false;\n\n    public NonAttackingQueens() {\n        board = new int[8][8];\n    }\n\n    public boolean canPlace(int x, int y) {\n        // Check if a queen is already placed at position (x, y)\n        if (board[x][y] == 1) {\n            return false;\n        }\n\n        // Check horizontal positions\n        for (int i = 0; i &lt; 8; i++) {\n            if (board[x][i] == 1) {\n                return false;\n            }\n        }\n\n        // Check vertical positions\n        for (int i = 0; i &lt; 8; i++) {\n            if (board[i][y] == 1) {\n                return false;\n            }\n        }\n\n        // Check diagonal positions\n        for (int i = 0; i &lt; 8; i++) {\n            for (int j = 0; j &lt; 8; j++) {\n                if (board[i][j] == 1 &amp;&amp; (Math.abs(i - x) == Math.abs(j - y))) {\n                    return false;\n                }\n            }\n        }\n\n        return true;\n    }\n\npublic void solve() {\n    // Check if the solutionCount has reached 92\n    if (solutionCount == 92) {\n        return;\n    }\n\n    // Check if all 8 queens have been placed\n    int queensPlaced = 0;\n    for (int i = 0; i &lt; 8; i++) {\n        for (int j = 0; j &lt; 8; j++) {\n            if (board[i][j] == 1) {\n                queensPlaced++;\n            }\n        }\n    }\n    if (queensPlaced == 8) {\n        // All positions have been checked, so we have found a solution\n        solutionCount++;\n        System.out.println(&quot;Solution &quot; + solutionCount + &quot;:&quot;);\n        print();\n        return;\n    }\n\n    // Try to place a queen at each position on the board\n    for (int i = 0; i &lt; 8; i++) {\n        for (int j = 0; j &lt; 8; j++) {\n            if (canPlace(i, j)) {\n                // Place a queen at position (i, j) and try to solve the rest of the board\n                board[i][j] = 1;\n                solve();\n                // Backtrack: remove the queen from position (i, j) and try the next position\n                board[i][j] = 0;\n            }\n        }\n    }\n}\n\n    public void print() {\n        for (int i = 0; i &lt; 8; i++) {\n            for (int j = 0; j &lt; 8; j++) {\n                if (board[i][j] == 1) {\n                    System.out.print(&quot; X&quot;);\n                } else {\n                    System.out.print(&quot; O&quot;);\n                }\n            }\n            System.out.println();\n        }\n        System.out.println(&quot;---------------&quot;);\n    }\n}\n</code></pre>\n<p>I'm doing this in blueJ, so I tried to run the <code>void solve();</code> method and it runs, but it only prints out the first of 92 solutions 92 times. It should print out all 92 different solutions.</p>\n"},{"tags":["java","for-loop","iteration","incompatibletypeerror"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1671338568,"post_id":74839098,"comment_id":132076607,"body_markdown":"Change `Map parameter` to `Map&lt;String, Object&gt; parameter`.","body":"Change <code>Map parameter</code> to <code>Map&lt;String, Object&gt; parameter</code>."},{"owner":{"account_id":16398229,"reputation":1,"user_id":11845046,"display_name":"Aido"},"score":0,"creation_date":1671339932,"post_id":74839098,"comment_id":132076706,"body_markdown":"Thanks. It helps with the initial error but generate the next one\n\n&quot;name clash: createSQLQuery(String,Map&lt;String,Object&gt;) in DaoImpl and createSQLQuery(String,Map) in Dao have the same erasure, yet neither overrides the other&quot;","body":"Thanks. It helps with the initial error but generate the next one  &quot;name clash: createSQLQuery(String,Map&lt;String,Object&gt;) in DaoImpl and createSQLQuery(String,Map) in Dao have the same erasure, yet neither overrides the other&quot;"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1671339968,"post_id":74839098,"comment_id":132076710,"body_markdown":"Do the same for `Dao`.","body":"Do the same for <code>Dao</code>."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1671343172,"post_id":74839098,"comment_id":132076973,"body_markdown":"Besides import statements, you shouldn&#39;t have the word `Map` in your code _anywhere_ without a `&lt;` after it, and the same with `List`.","body":"Besides import statements, you shouldn&#39;t have the word <code>Map</code> in your code <i>anywhere</i> without a <code>&lt;</code> after it, and the same with <code>List</code>."}],"owner":{"account_id":16398229,"reputation":1,"user_id":11845046,"display_name":"Aido"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671337438,"answer_count":0,"score":0,"last_activity_date":1671338481,"creation_date":1671336888,"question_id":74839098,"body_markdown":"sI have Class 1 where I have\r\n\r\n`protected Map&lt;String, Object&gt; parameter = new HashMap&lt;String, Object&gt;();\r\n`\r\nI have Class 2 that extends Class1 and where I do\r\n\r\n`List list = this.dao.createSQLQuery(query, this.parameter);`\r\n\r\ncreateSQLQuery method for dao looks like this:\r\n\r\n    public List createSQLQuery(final String query, final Map parameter) {\r\n    \r\n                        for (final String key : parameter.keySet()) {\r\n    \r\n                         . . .\r\n    } }\r\n\r\n\r\nWhy do I have a error in the for cycle line - “incompatible types: Object cannot be converted to String”?\r\n\r\nAs I understand my case is not the raw type issue because I declare `parameter` as Map&lt;String, Object&gt; so `parameter.keySet()` has to return set of Strings\r\n","title":"Why do I have incompatible types error when Iterate Map in Java using keySet()?","body":"<p>sI have Class 1 where I have</p>\n<p><code>protected Map&lt;String, Object&gt; parameter = new HashMap&lt;String, Object&gt;(); </code>\nI have Class 2 that extends Class1 and where I do</p>\n<p><code>List list = this.dao.createSQLQuery(query, this.parameter);</code></p>\n<p>createSQLQuery method for dao looks like this:</p>\n<pre><code>public List createSQLQuery(final String query, final Map parameter) {\n\n                    for (final String key : parameter.keySet()) {\n\n                     . . .\n} }\n</code></pre>\n<p>Why do I have a error in the for cycle line - “incompatible types: Object cannot be converted to String”?</p>\n<p>As I understand my case is not the raw type issue because I declare <code>parameter</code> as Map&lt;String, Object&gt; so <code>parameter.keySet()</code> has to return set of Strings</p>\n"},{"tags":["java","spring","mongodb","spring-boot","crud"],"owner":{"account_id":27183059,"reputation":11,"user_id":20717961,"display_name":"Sohaib"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671338416,"creation_date":1671338416,"question_id":74839169,"body_markdown":"Lately, I have been working on an ecommerce website. So far, I have a basic POJO called &quot;Product&quot; which is supposed to represent each individual product for sale. I also have a ProductController, which performs the basic CRUD operations. \r\n\r\nI have been wanting to create a ShoppingCart, and for each Product, there needs to be an option to add the Product to the ShoppingCart (the option is shown when you open a specific page of a product). The user should also be able to open the ShoppingCart and see the products inside. \r\n\r\nI am having trouble though because I am not sure how to go about creating this. Am I supposed to create a separate ShoppingCart POJO that contains an arraylist of Products? Or am I supposed to keep the arraylist of products inside of the Product POJO? Or do I need to do something else entirely? \r\n\r\nHere is my code so far, which does not work because Eclipse is saying that &quot;the dependencies of some of the beans in the application context form a cycle&quot;:\r\n\r\nProductController.java\r\n````\r\npackage com.ecommerce.website.controller;\r\n\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.data.repository.ListCrudRepository;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.ModelAttribute;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\n\r\nimport com.ecommerce.website.model.Product;\r\nimport com.ecommerce.website.repository.ProductRepository;\r\n\r\n\r\n/**This is the product controller class. It has different mappings as well as the methods that allow \r\n * the user to perform the different CRUD operations with regard to the products. */\r\n@Controller\r\npublic class ProductController {\r\n\r\n\t//Creating ProductRepository object and injecting dependency using @Autowired\r\n    @Autowired\r\n    ProductRepository productRepository;\r\n\r\n    //This method maps for /product endpoint. It gathers the products from the database and displays them via product.html\r\n    //@model The model being passed in to hold the products from database\r\n    //return product.html page\r\n    @RequestMapping(&quot;/product&quot;)\r\n    public String product(Model model) {\r\n    \t\r\n    \t//Find all products from database, and put them in model, and the name of this model is &quot;products&quot; \r\n    \t//html page will use &quot;products&quot; to display/modify the model\r\n        model.addAttribute(&quot;products&quot;, productRepository.findAll());\r\n        \r\n        //Display html page\r\n        return &quot;product&quot;;\r\n    }\r\n\r\n    //This method maps for /create endpoint. It shows the &quot;create product&quot; html page\r\n    //@model The model being passed in to hold the products from database\r\n    //return create.html page\r\n    @RequestMapping(&quot;/create&quot;)\r\n    public String create(Model model) {\r\n    \t\r\n    \t//Display html page\r\n        return &quot;create&quot;;\r\n    }\r\n\r\n    //This method maps for /save endpoint. It allows the user to save a product from the create.html page\r\n    //prodName&#39;s (and the other variables passed in) value is captured from html page using @RequestParam\r\n    //return show.html page that shows the product and its information \r\n    @RequestMapping(&quot;/save&quot;)\r\n    public String save(@RequestParam String prodName, @RequestParam String prodDesc, @RequestParam Double prodPrice, @RequestParam String prodImage) {\r\n    \t\r\n    \t//Create new product object, and enter information into the product&#39;s fields; values are what is passed in using @RequestParam\r\n        Product product = new Product();\r\n        product.setProdName(prodName);\r\n        product.setProdDesc(prodDesc);\r\n        product.setProdPrice(prodPrice);\r\n        product.setProdImage(prodImage);\r\n        \r\n        //Save the product\r\n        productRepository.save(product);\r\n\r\n        //Return to show.html to show the created product\r\n        return &quot;redirect:/show/&quot; + product.getId();\r\n    }\r\n\r\n    //This method maps for /show/{id} endpoint. \r\n    //id that is given the value of {id} from the URL via @Pathvariable \r\n    //@model The model being passed in to hold the product from database\r\n    //return show.html page\r\n    @RequestMapping(&quot;/show/{id}&quot;)\r\n    public String show(@PathVariable String id, Model model) {\r\n    \t\r\n    \t//Find product from database that has the id that is being searched for, and put it in model, and the name of this model is &quot;product&quot; \r\n    \t//html page will use &quot;product&quot; to display/modify the model\r\n        model.addAttribute(&quot;product&quot;, productRepository.findById(id).get());\r\n        \r\n        //Display html page\r\n        return &quot;show&quot;;\r\n    }\r\n    \r\n    //This method maps for /delete endpoint. It uses the id to find the product that needs to be deleted and deletes it \r\n    //id&#39;s value is captured from html page using @RequestParam\r\n    //return product.html page\r\n    @RequestMapping(&quot;/delete&quot;)\r\n    public String delete(@RequestParam String id) {\r\n    \t\r\n    \t//Search for the product and delete it\r\n        Optional&lt;Product&gt; product = productRepository.findById(id);\r\n        productRepository.delete(product.get());\r\n\r\n        //Redirected back to product list page \r\n        return &quot;redirect:/product&quot;;\r\n    }\r\n    \r\n    //This method maps for /edit/{id} endpoint. \r\n    //id that is given the value of {id} from the URL via @Pathvariable \r\n    //@model The model being passed in to hold the product from database\r\n    //return edit.html page\r\n    @RequestMapping(&quot;/edit/{id}&quot;)\r\n    public String edit(@PathVariable String id, Model model) {\r\n    \t\r\n    \t//Find product from database that has the id that is being searched for, put it in model, and the name of this model is &quot;product&quot; \r\n    \t//html page will use &quot;product&quot; to display/modify the model\r\n        model.addAttribute(&quot;product&quot;, productRepository.findById(id).get());\r\n        \r\n        //Display html page\r\n        return &quot;edit&quot;;\r\n    }\r\n    \r\n    //This method maps for /update endpoint. \r\n    //id&#39;s (and the other variables passed in) value is captured from html page using @RequestParam\r\n    //return show.html that shows the product and its information \r\n    @RequestMapping(&quot;/update&quot;)\r\n    public String update(@RequestParam String id, @RequestParam String prodName, @RequestParam String prodDesc, @RequestParam Double prodPrice, @RequestParam String prodImage) {\r\n        \r\n    \t//Search for the product\r\n    \tOptional&lt;Product&gt; product = productRepository.findById(id);\r\n    \t\r\n    \t//Updating the product&#39;s fields; new values are what is passed in using @RequestParam\r\n        product.get().setProdName(prodName);\r\n        product.get().setProdDesc(prodDesc);\r\n        product.get().setProdPrice(prodPrice);\r\n        product.get().setProdImage(prodImage);\r\n        \r\n        //Saving the product \r\n        productRepository.save(product.get());\r\n\r\n        //Redirecting to show.html page that shows the updated product and its information \r\n        return &quot;redirect:/show/&quot; + product.get().getId();\r\n    }\r\n\t\r\n\t\r\n\t\r\n}\r\n````\r\n\r\nShoppingCartController.java\r\n````\r\npackage com.ecommerce.website.controller;\r\n\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.data.repository.CrudRepository;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\n\r\nimport com.ecommerce.website.model.Product;\r\nimport com.ecommerce.website.model.ShoppingCart;\r\nimport com.ecommerce.website.repository.ShoppingCartRepository;\r\n\r\n\r\n@Controller\r\npublic class ShoppingCartController {\r\n\t\r\n\t//Inject dependency \r\n\t@Autowired\r\n\tShoppingCartRepository shoppingCartRepository;\r\n\t\r\n\t//Creating productRepository and shoppingCart objects \r\n\tCrudRepository&lt;Product, String&gt; productRepository;\r\n\tShoppingCart shoppingCart = new ShoppingCart(); \r\n\t\r\n\t@RequestMapping(&quot;/showShoppingCart&quot;)\r\n\tpublic String showShoppingCart(Model model) {\r\n\t\t\r\n\t\t//Getting the arraylist of products inside of the shoppingCartRepository\r\n\t\tmodel.addAttribute(&quot;shoppingcart&quot;, shoppingCartRepository.showShoppingCartProducts());\r\n\t\t\r\n\t\t//Return page showing shoppingcart.html\r\n\t\treturn &quot;shoppingcart&quot;; \r\n\t}\r\n\t\r\n\t@RequestMapping(&quot;/addToShoppingCart/{id}&quot;) \r\n\tpublic String addToShoppingCart(@PathVariable String id) {\t\r\n\t\t\r\n\t\t//ShoppingCart object\r\n\t\tShoppingCart shoppingCart = new ShoppingCart(); \r\n\t\r\n\t\t//Find product from database that has the id that is being searched for\r\n\t\tOptional&lt;Product&gt; productToBeAdded = productRepository.findById(id);\r\n\t\t\r\n\t\t//Add the product to the shoppingCart\r\n\t\tshoppingCart.addProductToShoppingCart(productToBeAdded);\r\n\t\t\r\n\t\t//Saving the shoppingCart to the shoppingCartRepository\r\n\t\tshoppingCartRepository.save(shoppingCart);\r\n       \r\n\t\t//Stay on the same page\r\n\t\treturn null;\r\n\r\n\t}\r\n\t\r\n}\r\n````\r\n\r\n\r\nProduct.java\r\n````\r\npackage com.ecommerce.website.model;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.data.annotation.Id;\r\nimport org.springframework.data.mongodb.core.mapping.Document;\r\n\r\nimport jakarta.validation.constraints.Max;\r\nimport jakarta.validation.constraints.Min;\r\n\r\n/**This is the product POJO class. It connects to the products collection in MongoDB. It also has different\r\n * properties that vary depending on the product. Additionally, it contains getter and setter methods. */\r\n@Document(collection = &quot;products&quot;)\r\npublic class Product {\r\n\t\r\n\t//Fields (@Id used to mark primary key)\r\n    @Id\r\n    String id;\r\n    \r\n//    @NotBlank\r\n    @Max(value=10, message=&quot;must be less than or equal to 10&quot;)\r\n    String prodName;\r\n    \r\n//  @NotBlank\r\n    String prodDesc;\r\n    \r\n    @Min((long) 5d)\r\n    Double prodPrice;\r\n    String prodImage;\r\n    \r\n\r\n    //Constructors, getters, and setters\r\n    public Product() {\r\n    }\r\n\r\n    public Product(String id, @Max(value = 10, message = &quot;must be less than or equal to 10&quot;) String prodName,\r\n\t\t\tString prodDesc, @Min(5) Double prodPrice, String prodImage, ArrayList&lt;Optional&lt;Product&gt;&gt; productsInShoppingCart,\r\n\t\t\tint shoppingCartCount, double shoppingCartTotalPrice) {\r\n\t\tsuper();\r\n\t\tthis.id = id;\r\n\t\tthis.prodName = prodName;\r\n\t\tthis.prodDesc = prodDesc;\r\n\t\tthis.prodPrice = prodPrice;\r\n\t\tthis.prodImage = prodImage;\r\n\t\t\r\n\t}\r\n\r\n\tpublic String getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(String id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getProdName() {\r\n\t\treturn prodName;\r\n\t}\r\n\r\n\tpublic void setProdName(String prodName) {\r\n\t\tthis.prodName = prodName;\r\n\t}\r\n\r\n\tpublic String getProdDesc() {\r\n\t\treturn prodDesc;\r\n\t}\r\n\r\n\tpublic void setProdDesc(String prodDesc) {\r\n\t\tthis.prodDesc = prodDesc;\r\n\t}\r\n\r\n\tpublic Double getProdPrice() {\r\n\t\treturn prodPrice;\r\n\t}\r\n\r\n\tpublic void setProdPrice(Double prodPrice) {\r\n\t\tthis.prodPrice = prodPrice;\r\n\t}\r\n\r\n\tpublic String getProdImage() {\r\n\t\treturn prodImage;\r\n\t}\r\n\r\n\tpublic void setProdImage(String prodImage) {\r\n\t\tthis.prodImage = prodImage;\r\n\t}\r\n    \r\n}\r\n````\r\n\r\n\r\nShoppingCart.java\r\n````\r\npackage com.ecommerce.website.model;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.data.annotation.Id;\r\nimport org.springframework.data.mongodb.core.mapping.Document;\r\n\r\n@Document(collection=&quot;shoppingcarts&quot;)\r\npublic class ShoppingCart {\r\n\t\r\n\t//Primary key to represent shopping cart\r\n\t@Id\r\n\tString shoppingCartId;\r\n\t\r\n\t//Arraylist to hold products \r\n\tArrayList&lt;Optional&lt;Product&gt;&gt; shoppingCartItems;\r\n\t\r\n\t//Variables to display the number of products and the total price of the products in the cart\r\n\tint shoppingCartCount; \r\n\tdouble shoppingCartTotalPrice;\r\n\t\r\n\t//Constructors \r\n\tpublic ShoppingCart() {\r\n    }\r\n\r\n\tpublic ShoppingCart(String shoppingCartId, ArrayList&lt;Optional&lt;Product&gt;&gt; shoppingCartItems, int shoppingCartCount,\r\n\t\t\tdouble shoppingCartTotalPrice) {\r\n\t\tthis.shoppingCartId = shoppingCartId;\r\n\t\tthis.shoppingCartItems = shoppingCartItems;\r\n\t\tthis.shoppingCartCount = shoppingCartCount;\r\n\t\tthis.shoppingCartTotalPrice = shoppingCartTotalPrice;\r\n\t}\r\n\t\r\n\t//Method to add a product to shoppingCartItems \r\n\tpublic void addProductToShoppingCart(Optional&lt;Product&gt; product) {\r\n\t\tshoppingCartItems.add(product);\r\n\t}\r\n\t\r\n\t//Method to return products inside of shoppingCartItems\r\n\tpublic ArrayList&lt;Optional&lt;Product&gt;&gt; getShoppingCartItems() {\r\n\t\treturn shoppingCartItems;\r\n\t}\r\n\r\n\t//Getters and setters \r\n\tpublic String getShoppingCartId() {\r\n\t\treturn shoppingCartId;\r\n\t}\r\n\r\n\tpublic void setShoppingCartId(String shoppingCartId) {\r\n\t\tthis.shoppingCartId = shoppingCartId;\r\n\t}\r\n\r\n\tpublic void setShoppingCartItems(ArrayList&lt;Optional&lt;Product&gt;&gt; shoppingCartItems) {\r\n\t\tthis.shoppingCartItems = shoppingCartItems;\r\n\t}\r\n\r\n\tpublic int getShoppingCartCount() {\r\n\t\treturn shoppingCartCount;\r\n\t}\r\n\r\n\tpublic void setShoppingCartCount(int shoppingCartCount) {\r\n\t\tthis.shoppingCartCount = shoppingCartCount;\r\n\t}\r\n\r\n\tpublic double getShoppingCartTotalPrice() {\r\n\t\treturn shoppingCartTotalPrice;\r\n\t}\r\n\r\n\tpublic void setShoppingCartTotalPrice(double shoppingCartTotalPrice) {\r\n\t\tthis.shoppingCartTotalPrice = shoppingCartTotalPrice;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t\r\n}\r\n````\r\n\r\nProductRepository.java\r\n````\r\npackage com.ecommerce.website.repository;\r\n\r\n\r\nimport org.springframework.data.mongodb.repository.MongoRepository;\r\n\r\nimport com.ecommerce.website.model.Product;\r\n\r\n/**This is the product repository. This is what connects the project model/POJO to the database. Also, the\\\r\n * interface extends from the MongoRepository so that the latter has access to the CRUD functionalities */\r\npublic interface ProductRepository extends MongoRepository&lt;Product, String&gt; {\r\n\r\n\t\r\n\t\r\n}\r\n````\r\n\r\nShoppingCartRepository.java\r\n````\r\npackage com.ecommerce.website.repository;\r\n\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.data.mongodb.repository.MongoRepository;\r\n\r\nimport com.ecommerce.website.model.Product;\r\nimport com.ecommerce.website.model.ShoppingCart;\r\n\r\npublic interface ShoppingCartRepository extends MongoRepository&lt;ShoppingCart, String&gt; {\r\n\r\n\t//Method to show products inside of shopping cart\r\n\tpublic ArrayList&lt;Optional&lt;Product&gt;&gt; showShoppingCartProducts();\r\n\t\r\n\t\r\n}\r\n````\r\n\r\nShoppingCartRepositoryImpl.java\r\n````\r\npackage com.ecommerce.website.repository;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\nimport java.util.function.Function;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.data.domain.Example;\r\nimport org.springframework.data.domain.Page;\r\nimport org.springframework.data.domain.Pageable;\r\nimport org.springframework.data.domain.Sort;\r\nimport org.springframework.data.repository.query.FluentQuery.FetchableFluentQuery;\r\n\r\nimport com.ecommerce.website.model.Product;\r\nimport com.ecommerce.website.model.ShoppingCart;\r\n\r\npublic class ShoppingCartRepositoryImpl implements ShoppingCartRepository {\r\n\r\n\t//Inject dependency \r\n\t@Autowired\r\n\tShoppingCartRepository shoppingCartRepository;\r\n\t\r\n\t//shoppingCart object \r\n\tShoppingCart shoppingCart; \r\n\r\n\t\r\n\t//Method to show products inside of shopping cart\r\n\t@Override\r\n\tpublic ArrayList&lt;Optional&lt;Product&gt;&gt; showShoppingCartProducts() {\r\n\t\t\t\r\n\t\treturn shoppingCart.getShoppingCartItems();\r\n\t\t\t\r\n\t}\r\n\t\t\r\n\t@Override\r\n\tpublic &lt;S extends ShoppingCart&gt; S insert(S entity) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic &lt;S extends ShoppingCart&gt; List&lt;S&gt; insert(Iterable&lt;S&gt; entities) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic &lt;S extends ShoppingCart&gt; List&lt;S&gt; findAll(Example&lt;S&gt; example) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic &lt;S extends ShoppingCart&gt; List&lt;S&gt; findAll(Example&lt;S&gt; example, Sort sort) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic &lt;S extends ShoppingCart&gt; List&lt;S&gt; saveAll(Iterable&lt;S&gt; entities) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic List&lt;ShoppingCart&gt; findAll() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic List&lt;ShoppingCart&gt; findAllById(Iterable&lt;String&gt; ids) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic &lt;S extends ShoppingCart&gt; S save(S entity) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Optional&lt;ShoppingCart&gt; findById(String id) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean existsById(String id) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn false;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic long count() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn 0;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void deleteById(String id) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void delete(ShoppingCart entity) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void deleteAllById(Iterable&lt;? extends String&gt; ids) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void deleteAll(Iterable&lt;? extends ShoppingCart&gt; entities) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void deleteAll() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic List&lt;ShoppingCart&gt; findAll(Sort sort) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Page&lt;ShoppingCart&gt; findAll(Pageable pageable) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic &lt;S extends ShoppingCart&gt; Optional&lt;S&gt; findOne(Example&lt;S&gt; example) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic &lt;S extends ShoppingCart&gt; Page&lt;S&gt; findAll(Example&lt;S&gt; example, Pageable pageable) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic &lt;S extends ShoppingCart&gt; long count(Example&lt;S&gt; example) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn 0;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic &lt;S extends ShoppingCart&gt; boolean exists(Example&lt;S&gt; example) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn false;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic &lt;S extends ShoppingCart, R&gt; R findBy(Example&lt;S&gt; example,\r\n\t\t\tFunction&lt;FetchableFluentQuery&lt;S&gt;, R&gt; queryFunction) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n}\r\n````\r\n\r\n\r\nshow.html (page to show each product)\r\n````\r\n&lt;!DOCTYPE HTML&gt;\r\n&lt;html lang=&quot;en&quot;\r\n      xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n      xmlns:th=&quot;http://www.thymeleaf.org&quot;\r\n      xmlns:layout=&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;\r\n      layout:decorate=&quot;default&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;Show Product&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;div layout:fragment=&quot;content&quot; class=&quot;row&quot;&gt;\r\n            &lt;div class=&quot;col-xs-8 col-md-8&quot;&gt;\r\n            \r\n            \t&lt;!-- Link that maps to /product, which takes the user to product.html --&gt;\r\n                &lt;h3&gt;\r\n                    &lt;a href=&quot;/product&quot; class=&quot;btn btn-primary&quot;&gt;&lt;span class=&quot;glyphicon glyphicon-list&quot;&gt;&lt;/span&gt;Product List&lt;/a&gt;\r\n                    \r\n                &lt;/h3&gt;\r\n                \r\n                &lt;!-- Text showing the product name, image, description, and price (uses the model from /show to access this information) --&gt;\r\n                &lt;h2 th:text=&quot;${product.prodName}&quot;&gt;&lt;/h2&gt;\r\n                &lt;h2&gt;&lt;img th:src=&quot;${product.prodImage}&quot; width=&quot;200&quot; /&gt;&lt;/h2&gt;\r\n                &lt;dl class=&quot;list&quot;&gt;\r\n                    &lt;dt&gt;Product Description&lt;/dt&gt;\r\n                    &lt;dd th:text=&quot;${product.prodDesc}&quot;&gt;&lt;/dd&gt;\r\n                    &lt;dt&gt;Product Price&lt;/dt&gt;\r\n                    &lt;dd th:text=&quot;${product.prodPrice}&quot;&gt;&lt;/dd&gt;\r\n                &lt;/dl&gt;\r\n                \r\n                &lt;!-- Mapping to the /delete endpoint --&gt;\r\n                &lt;form action=&quot;/delete&quot;&gt;\r\n                \r\n                \t&lt;!-- Input that contains name=&quot;id&quot; so that the endpoint can capture it using @RequestParam --&gt;\r\n                    &lt;input type=&quot;hidden&quot; name=&quot;id&quot; th:value=&quot;${product.id}&quot; /&gt;\r\n                    \r\n                    &lt;!-- Buttons: first deletes the product; second maps to the /edit endpoint, which takes the user to edit.html\r\n                    \t for whichever product the product.id is for (id is appended to the URL, which is how the /show endpoint\r\n                    \t is able to access it --&gt;\r\n                    &lt;h2&gt;&lt;input type=&quot;submit&quot; class=&quot;btn btn-danger&quot; value=&quot;Delete&quot; onclick=&quot;return confirm(&#39;Are you sure?&#39;);&quot; /&gt;\r\n                        &lt;a th:href=&quot;@{&#39;/edit/&#39; + ${product.id}}&quot; class=&quot;btn btn-warning&quot;&gt;Edit&lt;/a&gt;&lt;/h2&gt;\r\n                &lt;/form&gt;\r\n                \r\n                &lt;!-- Mapping to the /delete endpoint --&gt;\r\n                &lt;form action=&quot;/addToShoppingCart/{id}&quot;&gt;\r\n                \r\n                \t&lt;!-- Input that contains name=&quot;id&quot; so that the endpoint can capture it using @RequestParam --&gt;\r\n                    &lt;h2&gt;&lt;input type=&quot;hidden&quot; name=&quot;id&quot; th:value=&quot;${product.id}&quot; /&gt;\r\n                    \t&lt;a th:href=&quot;@{&#39;/addToShoppingCart/&#39; + ${product.id}}&quot; class=&quot;btn btn-warning&quot;&gt;Add to Cart&lt;/a&gt;&lt;/h2&gt;\r\n                    \r\n                    \r\n                &lt;/form&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n````\r\n\r\nshoppingcart.html (to show the shopping cart of items)\r\n````\r\n&lt;!DOCTYPE HTML&gt;\r\n&lt;html lang=&quot;en&quot;\r\n      xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n      xmlns:th=&quot;http://www.thymeleaf.org&quot;\r\n      xmlns:layout=&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;\r\n      layout:decorate=&quot;default&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;Shopping Cart&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;div layout:fragment=&quot;content&quot; class=&quot;row&quot;&gt;\r\n            &lt;div class=&quot;col-xs-8 col-md-8&quot;&gt;\r\n            \r\n            \t&lt;!-- Link that maps to /create, which takes the user to create.html --&gt;\r\n                &lt;h3&gt;\r\n                    &lt;a href=&quot;/create&quot; class=&quot;btn btn-primary&quot;&gt;&lt;span class=&quot;glyphicon glyphicon-plus-sign&quot;&gt;&lt;/span&gt;Create Product&lt;/a&gt;\r\n                &lt;/h3&gt;\r\n                \r\n                &lt;h2&gt;Shopping Cart&lt;/h2&gt;\r\n                \r\n                &lt;div class=&quot;table-responsive&quot;&gt;\r\n                \r\n                \t&lt;!-- Table to show the user all the products from the database --&gt;\r\n                    &lt;table class=&quot;table&quot; id=&quot;product-table&quot;&gt;\r\n                    \r\n                    \t&lt;!-- Table headers --&gt;\r\n                        &lt;thead&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;th&gt;Product Name&lt;/th&gt;\r\n                                &lt;th&gt;Product Desc&lt;/th&gt;\r\n                                &lt;th&gt;Product Price&lt;/th&gt;\r\n                            &lt;/tr&gt;\r\n                        &lt;/thead&gt;\r\n                        &lt;tbody&gt;\r\n                        \t\r\n                        \t&lt;!-- Looping through each product in &quot;products&quot; from /product endpoint --&gt;\r\n                            &lt;tr th:each=&quot;product : ${shoppingcart}&quot;&gt;\r\n                            \r\n                            \t&lt;!-- For each product, make its name a link that maps to /show endpoint, which takes the user to show.html \r\n                            \t     for whichever product the product.id is for (id is appended to the URL, which is how the /show endpoint\r\n                            \t     is able to access it --&gt;\r\n                                &lt;td&gt;&lt;a th:text=&quot;${product.prodName}&quot; th:href=&quot;@{&#39;/show/&#39; + ${product.id}}&quot;&gt;&lt;/a&gt;&lt;/td&gt;\r\n                                &lt;td th:text=&quot;${product.prodDesc}&quot;&gt;&lt;/td&gt;\r\n                                &lt;td th:text=&quot;${product.prodPrice}&quot;&gt;&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                        &lt;/tbody&gt;\r\n                    &lt;/table&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n````\r\n\r\n\r\n\r\n\r\n\r\nAt first, I tried creating an arraylist called ShoppingCart inside of my Product POJO, and then putting that arraylist inside of a model so that it can be displayed in the shoppingcart.html page, but that did not work. Then, I tried creating a separate ShoppingCart POJO, but so far, that has not worked for me. ","title":"How would I go about Creating a ShoppingCart inside of an Ecommerce Website (using Eclipse and MongoDB)","body":"<p>Lately, I have been working on an ecommerce website. So far, I have a basic POJO called &quot;Product&quot; which is supposed to represent each individual product for sale. I also have a ProductController, which performs the basic CRUD operations.</p>\n<p>I have been wanting to create a ShoppingCart, and for each Product, there needs to be an option to add the Product to the ShoppingCart (the option is shown when you open a specific page of a product). The user should also be able to open the ShoppingCart and see the products inside.</p>\n<p>I am having trouble though because I am not sure how to go about creating this. Am I supposed to create a separate ShoppingCart POJO that contains an arraylist of Products? Or am I supposed to keep the arraylist of products inside of the Product POJO? Or do I need to do something else entirely?</p>\n<p>Here is my code so far, which does not work because Eclipse is saying that &quot;the dependencies of some of the beans in the application context form a cycle&quot;:</p>\n<p>ProductController.java</p>\n<pre><code>package com.ecommerce.website.controller;\n\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.repository.ListCrudRepository;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\n\nimport com.ecommerce.website.model.Product;\nimport com.ecommerce.website.repository.ProductRepository;\n\n\n/**This is the product controller class. It has different mappings as well as the methods that allow \n * the user to perform the different CRUD operations with regard to the products. */\n@Controller\npublic class ProductController {\n\n    //Creating ProductRepository object and injecting dependency using @Autowired\n    @Autowired\n    ProductRepository productRepository;\n\n    //This method maps for /product endpoint. It gathers the products from the database and displays them via product.html\n    //@model The model being passed in to hold the products from database\n    //return product.html page\n    @RequestMapping(&quot;/product&quot;)\n    public String product(Model model) {\n        \n        //Find all products from database, and put them in model, and the name of this model is &quot;products&quot; \n        //html page will use &quot;products&quot; to display/modify the model\n        model.addAttribute(&quot;products&quot;, productRepository.findAll());\n        \n        //Display html page\n        return &quot;product&quot;;\n    }\n\n    //This method maps for /create endpoint. It shows the &quot;create product&quot; html page\n    //@model The model being passed in to hold the products from database\n    //return create.html page\n    @RequestMapping(&quot;/create&quot;)\n    public String create(Model model) {\n        \n        //Display html page\n        return &quot;create&quot;;\n    }\n\n    //This method maps for /save endpoint. It allows the user to save a product from the create.html page\n    //prodName's (and the other variables passed in) value is captured from html page using @RequestParam\n    //return show.html page that shows the product and its information \n    @RequestMapping(&quot;/save&quot;)\n    public String save(@RequestParam String prodName, @RequestParam String prodDesc, @RequestParam Double prodPrice, @RequestParam String prodImage) {\n        \n        //Create new product object, and enter information into the product's fields; values are what is passed in using @RequestParam\n        Product product = new Product();\n        product.setProdName(prodName);\n        product.setProdDesc(prodDesc);\n        product.setProdPrice(prodPrice);\n        product.setProdImage(prodImage);\n        \n        //Save the product\n        productRepository.save(product);\n\n        //Return to show.html to show the created product\n        return &quot;redirect:/show/&quot; + product.getId();\n    }\n\n    //This method maps for /show/{id} endpoint. \n    //id that is given the value of {id} from the URL via @Pathvariable \n    //@model The model being passed in to hold the product from database\n    //return show.html page\n    @RequestMapping(&quot;/show/{id}&quot;)\n    public String show(@PathVariable String id, Model model) {\n        \n        //Find product from database that has the id that is being searched for, and put it in model, and the name of this model is &quot;product&quot; \n        //html page will use &quot;product&quot; to display/modify the model\n        model.addAttribute(&quot;product&quot;, productRepository.findById(id).get());\n        \n        //Display html page\n        return &quot;show&quot;;\n    }\n    \n    //This method maps for /delete endpoint. It uses the id to find the product that needs to be deleted and deletes it \n    //id's value is captured from html page using @RequestParam\n    //return product.html page\n    @RequestMapping(&quot;/delete&quot;)\n    public String delete(@RequestParam String id) {\n        \n        //Search for the product and delete it\n        Optional&lt;Product&gt; product = productRepository.findById(id);\n        productRepository.delete(product.get());\n\n        //Redirected back to product list page \n        return &quot;redirect:/product&quot;;\n    }\n    \n    //This method maps for /edit/{id} endpoint. \n    //id that is given the value of {id} from the URL via @Pathvariable \n    //@model The model being passed in to hold the product from database\n    //return edit.html page\n    @RequestMapping(&quot;/edit/{id}&quot;)\n    public String edit(@PathVariable String id, Model model) {\n        \n        //Find product from database that has the id that is being searched for, put it in model, and the name of this model is &quot;product&quot; \n        //html page will use &quot;product&quot; to display/modify the model\n        model.addAttribute(&quot;product&quot;, productRepository.findById(id).get());\n        \n        //Display html page\n        return &quot;edit&quot;;\n    }\n    \n    //This method maps for /update endpoint. \n    //id's (and the other variables passed in) value is captured from html page using @RequestParam\n    //return show.html that shows the product and its information \n    @RequestMapping(&quot;/update&quot;)\n    public String update(@RequestParam String id, @RequestParam String prodName, @RequestParam String prodDesc, @RequestParam Double prodPrice, @RequestParam String prodImage) {\n        \n        //Search for the product\n        Optional&lt;Product&gt; product = productRepository.findById(id);\n        \n        //Updating the product's fields; new values are what is passed in using @RequestParam\n        product.get().setProdName(prodName);\n        product.get().setProdDesc(prodDesc);\n        product.get().setProdPrice(prodPrice);\n        product.get().setProdImage(prodImage);\n        \n        //Saving the product \n        productRepository.save(product.get());\n\n        //Redirecting to show.html page that shows the updated product and its information \n        return &quot;redirect:/show/&quot; + product.get().getId();\n    }\n    \n    \n    \n}\n</code></pre>\n<p>ShoppingCartController.java</p>\n<pre><code>package com.ecommerce.website.controller;\n\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.repository.CrudRepository;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\n\nimport com.ecommerce.website.model.Product;\nimport com.ecommerce.website.model.ShoppingCart;\nimport com.ecommerce.website.repository.ShoppingCartRepository;\n\n\n@Controller\npublic class ShoppingCartController {\n    \n    //Inject dependency \n    @Autowired\n    ShoppingCartRepository shoppingCartRepository;\n    \n    //Creating productRepository and shoppingCart objects \n    CrudRepository&lt;Product, String&gt; productRepository;\n    ShoppingCart shoppingCart = new ShoppingCart(); \n    \n    @RequestMapping(&quot;/showShoppingCart&quot;)\n    public String showShoppingCart(Model model) {\n        \n        //Getting the arraylist of products inside of the shoppingCartRepository\n        model.addAttribute(&quot;shoppingcart&quot;, shoppingCartRepository.showShoppingCartProducts());\n        \n        //Return page showing shoppingcart.html\n        return &quot;shoppingcart&quot;; \n    }\n    \n    @RequestMapping(&quot;/addToShoppingCart/{id}&quot;) \n    public String addToShoppingCart(@PathVariable String id) {  \n        \n        //ShoppingCart object\n        ShoppingCart shoppingCart = new ShoppingCart(); \n    \n        //Find product from database that has the id that is being searched for\n        Optional&lt;Product&gt; productToBeAdded = productRepository.findById(id);\n        \n        //Add the product to the shoppingCart\n        shoppingCart.addProductToShoppingCart(productToBeAdded);\n        \n        //Saving the shoppingCart to the shoppingCartRepository\n        shoppingCartRepository.save(shoppingCart);\n       \n        //Stay on the same page\n        return null;\n\n    }\n    \n}\n</code></pre>\n<p>Product.java</p>\n<pre><code>package com.ecommerce.website.model;\n\nimport java.util.ArrayList;\nimport java.util.Optional;\n\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.mongodb.core.mapping.Document;\n\nimport jakarta.validation.constraints.Max;\nimport jakarta.validation.constraints.Min;\n\n/**This is the product POJO class. It connects to the products collection in MongoDB. It also has different\n * properties that vary depending on the product. Additionally, it contains getter and setter methods. */\n@Document(collection = &quot;products&quot;)\npublic class Product {\n    \n    //Fields (@Id used to mark primary key)\n    @Id\n    String id;\n    \n//    @NotBlank\n    @Max(value=10, message=&quot;must be less than or equal to 10&quot;)\n    String prodName;\n    \n//  @NotBlank\n    String prodDesc;\n    \n    @Min((long) 5d)\n    Double prodPrice;\n    String prodImage;\n    \n\n    //Constructors, getters, and setters\n    public Product() {\n    }\n\n    public Product(String id, @Max(value = 10, message = &quot;must be less than or equal to 10&quot;) String prodName,\n            String prodDesc, @Min(5) Double prodPrice, String prodImage, ArrayList&lt;Optional&lt;Product&gt;&gt; productsInShoppingCart,\n            int shoppingCartCount, double shoppingCartTotalPrice) {\n        super();\n        this.id = id;\n        this.prodName = prodName;\n        this.prodDesc = prodDesc;\n        this.prodPrice = prodPrice;\n        this.prodImage = prodImage;\n        \n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getProdName() {\n        return prodName;\n    }\n\n    public void setProdName(String prodName) {\n        this.prodName = prodName;\n    }\n\n    public String getProdDesc() {\n        return prodDesc;\n    }\n\n    public void setProdDesc(String prodDesc) {\n        this.prodDesc = prodDesc;\n    }\n\n    public Double getProdPrice() {\n        return prodPrice;\n    }\n\n    public void setProdPrice(Double prodPrice) {\n        this.prodPrice = prodPrice;\n    }\n\n    public String getProdImage() {\n        return prodImage;\n    }\n\n    public void setProdImage(String prodImage) {\n        this.prodImage = prodImage;\n    }\n    \n}\n</code></pre>\n<p>ShoppingCart.java</p>\n<pre><code>package com.ecommerce.website.model;\n\nimport java.util.ArrayList;\nimport java.util.Optional;\n\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.mongodb.core.mapping.Document;\n\n@Document(collection=&quot;shoppingcarts&quot;)\npublic class ShoppingCart {\n    \n    //Primary key to represent shopping cart\n    @Id\n    String shoppingCartId;\n    \n    //Arraylist to hold products \n    ArrayList&lt;Optional&lt;Product&gt;&gt; shoppingCartItems;\n    \n    //Variables to display the number of products and the total price of the products in the cart\n    int shoppingCartCount; \n    double shoppingCartTotalPrice;\n    \n    //Constructors \n    public ShoppingCart() {\n    }\n\n    public ShoppingCart(String shoppingCartId, ArrayList&lt;Optional&lt;Product&gt;&gt; shoppingCartItems, int shoppingCartCount,\n            double shoppingCartTotalPrice) {\n        this.shoppingCartId = shoppingCartId;\n        this.shoppingCartItems = shoppingCartItems;\n        this.shoppingCartCount = shoppingCartCount;\n        this.shoppingCartTotalPrice = shoppingCartTotalPrice;\n    }\n    \n    //Method to add a product to shoppingCartItems \n    public void addProductToShoppingCart(Optional&lt;Product&gt; product) {\n        shoppingCartItems.add(product);\n    }\n    \n    //Method to return products inside of shoppingCartItems\n    public ArrayList&lt;Optional&lt;Product&gt;&gt; getShoppingCartItems() {\n        return shoppingCartItems;\n    }\n\n    //Getters and setters \n    public String getShoppingCartId() {\n        return shoppingCartId;\n    }\n\n    public void setShoppingCartId(String shoppingCartId) {\n        this.shoppingCartId = shoppingCartId;\n    }\n\n    public void setShoppingCartItems(ArrayList&lt;Optional&lt;Product&gt;&gt; shoppingCartItems) {\n        this.shoppingCartItems = shoppingCartItems;\n    }\n\n    public int getShoppingCartCount() {\n        return shoppingCartCount;\n    }\n\n    public void setShoppingCartCount(int shoppingCartCount) {\n        this.shoppingCartCount = shoppingCartCount;\n    }\n\n    public double getShoppingCartTotalPrice() {\n        return shoppingCartTotalPrice;\n    }\n\n    public void setShoppingCartTotalPrice(double shoppingCartTotalPrice) {\n        this.shoppingCartTotalPrice = shoppingCartTotalPrice;\n    }\n    \n    \n    \n    \n}\n</code></pre>\n<p>ProductRepository.java</p>\n<pre><code>package com.ecommerce.website.repository;\n\n\nimport org.springframework.data.mongodb.repository.MongoRepository;\n\nimport com.ecommerce.website.model.Product;\n\n/**This is the product repository. This is what connects the project model/POJO to the database. Also, the\\\n * interface extends from the MongoRepository so that the latter has access to the CRUD functionalities */\npublic interface ProductRepository extends MongoRepository&lt;Product, String&gt; {\n\n    \n    \n}\n</code></pre>\n<p>ShoppingCartRepository.java</p>\n<pre><code>package com.ecommerce.website.repository;\n\n\nimport java.util.ArrayList;\nimport java.util.Optional;\n\nimport org.springframework.data.mongodb.repository.MongoRepository;\n\nimport com.ecommerce.website.model.Product;\nimport com.ecommerce.website.model.ShoppingCart;\n\npublic interface ShoppingCartRepository extends MongoRepository&lt;ShoppingCart, String&gt; {\n\n    //Method to show products inside of shopping cart\n    public ArrayList&lt;Optional&lt;Product&gt;&gt; showShoppingCartProducts();\n    \n    \n}\n</code></pre>\n<p>ShoppingCartRepositoryImpl.java</p>\n<pre><code>package com.ecommerce.website.repository;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Optional;\nimport java.util.function.Function;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.domain.Example;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.data.domain.Sort;\nimport org.springframework.data.repository.query.FluentQuery.FetchableFluentQuery;\n\nimport com.ecommerce.website.model.Product;\nimport com.ecommerce.website.model.ShoppingCart;\n\npublic class ShoppingCartRepositoryImpl implements ShoppingCartRepository {\n\n    //Inject dependency \n    @Autowired\n    ShoppingCartRepository shoppingCartRepository;\n    \n    //shoppingCart object \n    ShoppingCart shoppingCart; \n\n    \n    //Method to show products inside of shopping cart\n    @Override\n    public ArrayList&lt;Optional&lt;Product&gt;&gt; showShoppingCartProducts() {\n            \n        return shoppingCart.getShoppingCartItems();\n            \n    }\n        \n    @Override\n    public &lt;S extends ShoppingCart&gt; S insert(S entity) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public &lt;S extends ShoppingCart&gt; List&lt;S&gt; insert(Iterable&lt;S&gt; entities) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public &lt;S extends ShoppingCart&gt; List&lt;S&gt; findAll(Example&lt;S&gt; example) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public &lt;S extends ShoppingCart&gt; List&lt;S&gt; findAll(Example&lt;S&gt; example, Sort sort) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public &lt;S extends ShoppingCart&gt; List&lt;S&gt; saveAll(Iterable&lt;S&gt; entities) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public List&lt;ShoppingCart&gt; findAll() {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public List&lt;ShoppingCart&gt; findAllById(Iterable&lt;String&gt; ids) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public &lt;S extends ShoppingCart&gt; S save(S entity) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public Optional&lt;ShoppingCart&gt; findById(String id) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public boolean existsById(String id) {\n        // TODO Auto-generated method stub\n        return false;\n    }\n\n    @Override\n    public long count() {\n        // TODO Auto-generated method stub\n        return 0;\n    }\n\n    @Override\n    public void deleteById(String id) {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void delete(ShoppingCart entity) {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void deleteAllById(Iterable&lt;? extends String&gt; ids) {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void deleteAll(Iterable&lt;? extends ShoppingCart&gt; entities) {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void deleteAll() {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public List&lt;ShoppingCart&gt; findAll(Sort sort) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public Page&lt;ShoppingCart&gt; findAll(Pageable pageable) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public &lt;S extends ShoppingCart&gt; Optional&lt;S&gt; findOne(Example&lt;S&gt; example) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public &lt;S extends ShoppingCart&gt; Page&lt;S&gt; findAll(Example&lt;S&gt; example, Pageable pageable) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public &lt;S extends ShoppingCart&gt; long count(Example&lt;S&gt; example) {\n        // TODO Auto-generated method stub\n        return 0;\n    }\n\n    @Override\n    public &lt;S extends ShoppingCart&gt; boolean exists(Example&lt;S&gt; example) {\n        // TODO Auto-generated method stub\n        return false;\n    }\n\n    @Override\n    public &lt;S extends ShoppingCart, R&gt; R findBy(Example&lt;S&gt; example,\n            Function&lt;FetchableFluentQuery&lt;S&gt;, R&gt; queryFunction) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n}\n</code></pre>\n<p>show.html (page to show each product)</p>\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html lang=&quot;en&quot;\n      xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\n      xmlns:th=&quot;http://www.thymeleaf.org&quot;\n      xmlns:layout=&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;\n      layout:decorate=&quot;default&quot;&gt;\n    &lt;head&gt;\n        &lt;title&gt;Show Product&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div layout:fragment=&quot;content&quot; class=&quot;row&quot;&gt;\n            &lt;div class=&quot;col-xs-8 col-md-8&quot;&gt;\n            \n                &lt;!-- Link that maps to /product, which takes the user to product.html --&gt;\n                &lt;h3&gt;\n                    &lt;a href=&quot;/product&quot; class=&quot;btn btn-primary&quot;&gt;&lt;span class=&quot;glyphicon glyphicon-list&quot;&gt;&lt;/span&gt;Product List&lt;/a&gt;\n                    \n                &lt;/h3&gt;\n                \n                &lt;!-- Text showing the product name, image, description, and price (uses the model from /show to access this information) --&gt;\n                &lt;h2 th:text=&quot;${product.prodName}&quot;&gt;&lt;/h2&gt;\n                &lt;h2&gt;&lt;img th:src=&quot;${product.prodImage}&quot; width=&quot;200&quot; /&gt;&lt;/h2&gt;\n                &lt;dl class=&quot;list&quot;&gt;\n                    &lt;dt&gt;Product Description&lt;/dt&gt;\n                    &lt;dd th:text=&quot;${product.prodDesc}&quot;&gt;&lt;/dd&gt;\n                    &lt;dt&gt;Product Price&lt;/dt&gt;\n                    &lt;dd th:text=&quot;${product.prodPrice}&quot;&gt;&lt;/dd&gt;\n                &lt;/dl&gt;\n                \n                &lt;!-- Mapping to the /delete endpoint --&gt;\n                &lt;form action=&quot;/delete&quot;&gt;\n                \n                    &lt;!-- Input that contains name=&quot;id&quot; so that the endpoint can capture it using @RequestParam --&gt;\n                    &lt;input type=&quot;hidden&quot; name=&quot;id&quot; th:value=&quot;${product.id}&quot; /&gt;\n                    \n                    &lt;!-- Buttons: first deletes the product; second maps to the /edit endpoint, which takes the user to edit.html\n                         for whichever product the product.id is for (id is appended to the URL, which is how the /show endpoint\n                         is able to access it --&gt;\n                    &lt;h2&gt;&lt;input type=&quot;submit&quot; class=&quot;btn btn-danger&quot; value=&quot;Delete&quot; onclick=&quot;return confirm('Are you sure?');&quot; /&gt;\n                        &lt;a th:href=&quot;@{'/edit/' + ${product.id}}&quot; class=&quot;btn btn-warning&quot;&gt;Edit&lt;/a&gt;&lt;/h2&gt;\n                &lt;/form&gt;\n                \n                &lt;!-- Mapping to the /delete endpoint --&gt;\n                &lt;form action=&quot;/addToShoppingCart/{id}&quot;&gt;\n                \n                    &lt;!-- Input that contains name=&quot;id&quot; so that the endpoint can capture it using @RequestParam --&gt;\n                    &lt;h2&gt;&lt;input type=&quot;hidden&quot; name=&quot;id&quot; th:value=&quot;${product.id}&quot; /&gt;\n                        &lt;a th:href=&quot;@{'/addToShoppingCart/' + ${product.id}}&quot; class=&quot;btn btn-warning&quot;&gt;Add to Cart&lt;/a&gt;&lt;/h2&gt;\n                    \n                    \n                &lt;/form&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>shoppingcart.html (to show the shopping cart of items)</p>\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html lang=&quot;en&quot;\n      xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\n      xmlns:th=&quot;http://www.thymeleaf.org&quot;\n      xmlns:layout=&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;\n      layout:decorate=&quot;default&quot;&gt;\n    &lt;head&gt;\n        &lt;title&gt;Shopping Cart&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div layout:fragment=&quot;content&quot; class=&quot;row&quot;&gt;\n            &lt;div class=&quot;col-xs-8 col-md-8&quot;&gt;\n            \n                &lt;!-- Link that maps to /create, which takes the user to create.html --&gt;\n                &lt;h3&gt;\n                    &lt;a href=&quot;/create&quot; class=&quot;btn btn-primary&quot;&gt;&lt;span class=&quot;glyphicon glyphicon-plus-sign&quot;&gt;&lt;/span&gt;Create Product&lt;/a&gt;\n                &lt;/h3&gt;\n                \n                &lt;h2&gt;Shopping Cart&lt;/h2&gt;\n                \n                &lt;div class=&quot;table-responsive&quot;&gt;\n                \n                    &lt;!-- Table to show the user all the products from the database --&gt;\n                    &lt;table class=&quot;table&quot; id=&quot;product-table&quot;&gt;\n                    \n                        &lt;!-- Table headers --&gt;\n                        &lt;thead&gt;\n                            &lt;tr&gt;\n                                &lt;th&gt;Product Name&lt;/th&gt;\n                                &lt;th&gt;Product Desc&lt;/th&gt;\n                                &lt;th&gt;Product Price&lt;/th&gt;\n                            &lt;/tr&gt;\n                        &lt;/thead&gt;\n                        &lt;tbody&gt;\n                            \n                            &lt;!-- Looping through each product in &quot;products&quot; from /product endpoint --&gt;\n                            &lt;tr th:each=&quot;product : ${shoppingcart}&quot;&gt;\n                            \n                                &lt;!-- For each product, make its name a link that maps to /show endpoint, which takes the user to show.html \n                                     for whichever product the product.id is for (id is appended to the URL, which is how the /show endpoint\n                                     is able to access it --&gt;\n                                &lt;td&gt;&lt;a th:text=&quot;${product.prodName}&quot; th:href=&quot;@{'/show/' + ${product.id}}&quot;&gt;&lt;/a&gt;&lt;/td&gt;\n                                &lt;td th:text=&quot;${product.prodDesc}&quot;&gt;&lt;/td&gt;\n                                &lt;td th:text=&quot;${product.prodPrice}&quot;&gt;&lt;/td&gt;\n                            &lt;/tr&gt;\n                        &lt;/tbody&gt;\n                    &lt;/table&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>At first, I tried creating an arraylist called ShoppingCart inside of my Product POJO, and then putting that arraylist inside of a model so that it can be displayed in the shoppingcart.html page, but that did not work. Then, I tried creating a separate ShoppingCart POJO, but so far, that has not worked for me.</p>\n"},{"tags":["java","lambda","functional-programming","currying"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671292460,"creation_date":1671291562,"answer_id":74835334,"question_id":74835227,"body_markdown":"&gt; I know that I&#39;m not supposed to return `Void` with the `Function` interface. How can I change the method definition so that it can be called in a similar way?\r\n\r\nYou can change the return type of `write()` method to `Function&lt;String,Consumer&lt;String&gt;&gt;` (a *Function* producing a *Consumer*). Since you don&#39;t need to produce any result, it doesn&#39;t make sense to use a *Function*. When you only need to fire an action, it&#39;s a job for a `Consumer` implementation.\r\n\r\n    public static Function&lt;String, Consumer&lt;String&gt;&gt;\r\n    write(BiConsumer&lt;BufferedWriter, String&gt; consumer) {\r\n        \r\n        return resourcePath -&gt; data -&gt;  {\r\n            if(data != null) {\r\n                try(var bufferedWriter = new BufferedWriter(new FileWriter(resourcePath))) {\r\n                    consumer.accept(bufferedWriter, data);\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\n*Usage example (*`write().apply().accept()`*):*\r\n\r\n```\r\nwrite((bufferedWriter, data) -&gt; {\r\n    // write to file here\r\n}).apply(&quot;path&quot;).accept(&quot;data&quot;);\r\n```\r\n\r\n***Sidenote:** always use [try-with-resources][try-with-resources] to make sure that your resources are properly closed.*\r\n\r\n\r\n\r\n   [try-with-resources]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html","title":"Writing Content to a Text File with Currying","body":"<blockquote>\n<p>I know that I'm not supposed to return <code>Void</code> with the <code>Function</code> interface. How can I change the method definition so that it can be called in a similar way?</p>\n</blockquote>\n<p>You can change the return type of <code>write()</code> method to <code>Function&lt;String,Consumer&lt;String&gt;&gt;</code> (a <em>Function</em> producing a <em>Consumer</em>). Since you don't need to produce any result, it doesn't make sense to use a <em>Function</em>. When you only need to fire an action, it's a job for a <code>Consumer</code> implementation.</p>\n<pre><code>public static Function&lt;String, Consumer&lt;String&gt;&gt;\nwrite(BiConsumer&lt;BufferedWriter, String&gt; consumer) {\n    \n    return resourcePath -&gt; data -&gt;  {\n        if(data != null) {\n            try(var bufferedWriter = new BufferedWriter(new FileWriter(resourcePath))) {\n                consumer.accept(bufferedWriter, data);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    };\n}\n</code></pre>\n<p><em>Usage example (</em><code>write().apply().accept()</code><em>):</em></p>\n<pre><code>write((bufferedWriter, data) -&gt; {\n    // write to file here\n}).apply(&quot;path&quot;).accept(&quot;data&quot;);\n</code></pre>\n<p><em><strong>Sidenote:</strong> always use <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> to make sure that your resources are properly closed.</em></p>\n"}],"owner":{"account_id":24385909,"reputation":198,"user_id":18316696,"display_name":"CM K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74835334,"answer_count":1,"score":2,"last_activity_date":1671338149,"creation_date":1671290369,"question_id":74835227,"body_markdown":"```java\r\npublic static Function&lt;String, Function&lt;String, Void&gt;&gt; \r\nwrite(BiConsumer&lt;BufferedWriter, String&gt; consumer) {\r\n    return resourcePath -&gt; data -&gt;  {\r\n        if(data != null) {\r\n            try {\r\n                BufferedWriter bufferedWriter = new BufferedWriter(new FileWriter(resourcePath));\r\n                consumer.accept(bufferedWriter, data);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n}\r\n```\r\n\r\nI&#39;m trying to write to a text file using the above method by applying the concept of currying. The first lambda expression receives the file path as parameter and the second one takes in a String value that should be written to the text file. The `write` method receives a `BiConsumer` argument because data is written differently depending on the context (appending to the end of the file, replacing a specific line in the file etc.). It can be called like this:\r\n\r\n```java\r\nDataAccess.write((bufferedWriter, data) -&gt; {\r\n    // write to file here\r\n}).apply(&quot;path&quot;).apply(&quot;data&quot;);\r\n```\r\n\r\nI know that I&#39;m not supposed to return `Void` with the `Function` interface. How can I change the method definition so that it can be called in a similar way? If possible, I would still like to apply currying in this case.","title":"Writing Content to a Text File with Currying","body":"<pre class=\"lang-java prettyprint-override\"><code>public static Function&lt;String, Function&lt;String, Void&gt;&gt; \nwrite(BiConsumer&lt;BufferedWriter, String&gt; consumer) {\n    return resourcePath -&gt; data -&gt;  {\n        if(data != null) {\n            try {\n                BufferedWriter bufferedWriter = new BufferedWriter(new FileWriter(resourcePath));\n                consumer.accept(bufferedWriter, data);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n        return null;\n    };\n}\n</code></pre>\n<p>I'm trying to write to a text file using the above method by applying the concept of currying. The first lambda expression receives the file path as parameter and the second one takes in a String value that should be written to the text file. The <code>write</code> method receives a <code>BiConsumer</code> argument because data is written differently depending on the context (appending to the end of the file, replacing a specific line in the file etc.). It can be called like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DataAccess.write((bufferedWriter, data) -&gt; {\n    // write to file here\n}).apply(&quot;path&quot;).apply(&quot;data&quot;);\n</code></pre>\n<p>I know that I'm not supposed to return <code>Void</code> with the <code>Function</code> interface. How can I change the method definition so that it can be called in a similar way? If possible, I would still like to apply currying in this case.</p>\n"},{"tags":["java","data-structures","concurrency","java.util.concurrent","concurrenthashmap"],"answers":[{"comments":[{"owner":{"account_id":8234234,"reputation":19,"user_id":6194027,"display_name":"uideveloperui"},"score":0,"creation_date":1523801867,"post_id":49839635,"comment_id":86700442,"body_markdown":"Thanks Stephen. But I am still did not get use of Segments here .What if I used array of String instead of array of segments ? Would it work?","body":"Thanks Stephen. But I am still did not get use of Segments here .What if I used array of String instead of array of segments ? Would it work?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1523831975,"post_id":49839635,"comment_id":86709863,"body_markdown":"It could be made to work, more or less.  In the Java 8 implementation, the `Segment` class is a subclass of `ReentrantLock`.","body":"It could be made to work, more or less.  In the Java 8 implementation, the <code>Segment</code> class is a subclass of <code>ReentrantLock</code>."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1523846747,"post_id":49839635,"comment_id":86712602,"body_markdown":"So ... if the code was changed to use `synchronized` locking rather than `Lock` locking, then you could use a `String`.","body":"So ... if the code was changed to use <code>synchronized</code> locking rather than <code>Lock</code> locking, then you could use a <code>String</code>."},{"owner":{"account_id":1587820,"reputation":627,"user_id":1471779,"accept_rate":67,"display_name":"Bhushan Karmarkar"},"score":0,"creation_date":1559897574,"post_id":49839635,"comment_id":99571032,"body_markdown":"@StephenC I&#39;ve java 1.8.0.151 on my machine. I went through the source code, and it seems the Segment is not used for synchronization. Instead, lock is acquired directly on &#39;Node&#39; which is nothing but the Entry.","body":"@StephenC I&#39;ve java 1.8.0.151 on my machine. I went through the source code, and it seems the Segment is not used for synchronization. Instead, lock is acquired directly on &#39;Node&#39; which is nothing but the Entry."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1523832076,"creation_date":1523778507,"answer_id":49839635,"question_id":49838527,"body_markdown":"&gt; Will this above single array &quot;table&quot; hold entries for all the segments?\r\n\r\nYes.\r\n\r\n&gt; I am confused why aren&#39;t there multiple arrays for each segment defined above?\r\n\r\nBecause, the `Segment` objects really serve as locks for segments of the main `entries` array.   The segments are conceptual &quot;slices&quot; of the main array.\r\n\r\n&gt; Instead of using segment and locking it, when cant a lock be acquired Entry object and perform write/update ?\r\n\r\nAn operation that updates the `ConcurrentHashMap` will typically read and write the main `entries` array.  Simply locking one `Entry` is not sufficient to perform table insertions and deletions safely.\r\n\r\n-----------------\r\n\r\nIf the descriptions in that article are confusing, you could also look at the source code directly; e.g. http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/util/concurrent/ConcurrentHashMap.java/","title":"Why does concurrentHashMap need an array of Segment? Why cant it acquire lock on node?","body":"<blockquote>\n  <p>Will this above single array \"table\" hold entries for all the segments?</p>\n</blockquote>\n\n<p>Yes.</p>\n\n<blockquote>\n  <p>I am confused why aren't there multiple arrays for each segment defined above?</p>\n</blockquote>\n\n<p>Because, the <code>Segment</code> objects really serve as locks for segments of the main <code>entries</code> array.   The segments are conceptual \"slices\" of the main array.</p>\n\n<blockquote>\n  <p>Instead of using segment and locking it, when cant a lock be acquired Entry object and perform write/update ?</p>\n</blockquote>\n\n<p>An operation that updates the <code>ConcurrentHashMap</code> will typically read and write the main <code>entries</code> array.  Simply locking one <code>Entry</code> is not sufficient to perform table insertions and deletions safely.</p>\n\n<hr>\n\n<p>If the descriptions in that article are confusing, you could also look at the source code directly; e.g. <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/util/concurrent/ConcurrentHashMap.java/\" rel=\"nofollow noreferrer\">http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/util/concurrent/ConcurrentHashMap.java/</a></p>\n"},{"tags":[],"owner":{"account_id":4294116,"reputation":140,"user_id":3509606,"display_name":"Gautam Tyagi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671337090,"creation_date":1535892251,"answer_id":52137155,"question_id":49838527,"body_markdown":"There is no array of Segments in ConcurrentHashMap since Java 8 and onwards. It directly has an array of `Node&lt;K,V&gt;` as a table.","title":"Why does concurrentHashMap need an array of Segment? Why cant it acquire lock on node?","body":"<p>There is no array of Segments in ConcurrentHashMap since Java 8 and onwards. It directly has an array of <code>Node&lt;K,V&gt;</code> as a table.</p>\n"},{"tags":[],"owner":{"account_id":9827031,"reputation":61,"user_id":7279963,"display_name":"Avi Tyagi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559672037,"creation_date":1559671707,"answer_id":56449237,"question_id":49838527,"body_markdown":"**Java 8 onward** there is no segment array, **lock is acquired on the first node of the LinkedList** of a particular hashed index/bucket of the internal hash table array.\r\n&lt;/br&gt;\r\n[ConcurrentHashMap internal][1]\r\n\r\n\r\n  [1]: http://techmastertutorial.in/java-collection-internal-concurrent-hashmap.html","title":"Why does concurrentHashMap need an array of Segment? Why cant it acquire lock on node?","body":"<p><strong>Java 8 onward</strong> there is no segment array, <strong>lock is acquired on the first node of the LinkedList</strong> of a particular hashed index/bucket of the internal hash table array.\n\n<a href=\"http://techmastertutorial.in/java-collection-internal-concurrent-hashmap.html\" rel=\"nofollow noreferrer\">ConcurrentHashMap internal</a></p>\n"}],"owner":{"account_id":8234234,"reputation":19,"user_id":6194027,"display_name":"uideveloperui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":795,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1671337090,"creation_date":1523767069,"question_id":49838527,"body_markdown":"I was reading this article to understand how ConcurrentHashMap worked internally: https://dzone.com/articles/how-concurrenthashmap-works-internally-in-java\r\n\r\nBut I do not understand use of Segments here. It is `public final Segment[] segments = new Segment[32]` in this article.\r\nBefore I read this article, my understanding was there would be multiple Entry tables &amp; each segment would hold reference of one array of the multiple. But in this article there is only one\r\n\r\n     protected transient Entry[] table; \r\n\r\nMy questions are:\r\n\r\n1) Will this above single array &quot;**table**&quot; hold entry for all the segments? Meaning, if I put 2 entries in ConcurrentHashMap, which would return 2 different segments, would it still go under same entry table above? I am confused why aren&#39;t there multiple arrays for each segment defined above?\r\n\r\n2) Instead of using a segment and locking it, when can&#39;t a lock be acquired Entry object and perform write/update?","title":"Why does concurrentHashMap need an array of Segment? Why cant it acquire lock on node?","body":"<p>I was reading this article to understand how ConcurrentHashMap worked internally: <a href=\"https://dzone.com/articles/how-concurrenthashmap-works-internally-in-java\" rel=\"nofollow noreferrer\">https://dzone.com/articles/how-concurrenthashmap-works-internally-in-java</a></p>\n<p>But I do not understand use of Segments here. It is <code>public final Segment[] segments = new Segment[32]</code> in this article.\nBefore I read this article, my understanding was there would be multiple Entry tables &amp; each segment would hold reference of one array of the multiple. But in this article there is only one</p>\n<pre><code> protected transient Entry[] table; \n</code></pre>\n<p>My questions are:</p>\n<ol>\n<li><p>Will this above single array &quot;<strong>table</strong>&quot; hold entry for all the segments? Meaning, if I put 2 entries in ConcurrentHashMap, which would return 2 different segments, would it still go under same entry table above? I am confused why aren't there multiple arrays for each segment defined above?</p>\n</li>\n<li><p>Instead of using a segment and locking it, when can't a lock be acquired Entry object and perform write/update?</p>\n</li>\n</ol>\n"},{"tags":["java","outputstream"],"answers":[{"tags":[],"owner":{"account_id":30387,"reputation":62490,"user_id":82865,"accept_rate":71,"display_name":"Jonathan Holloway"},"comment_count":0,"down_vote_count":0,"up_vote_count":71,"is_accepted":false,"score":71,"last_activity_date":1671336199,"creation_date":1238196979,"answer_id":691820,"question_id":691813,"body_markdown":"Apache Commons IO has the following:\r\n\r\nhttps://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/output/NullOutputStream.html\r\n","title":"Is there a Null OutputStream in Java?","body":"<p>Apache Commons IO has the following:</p>\n<p><a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/output/NullOutputStream.html\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/output/NullOutputStream.html</a></p>\n"},{"comments":[{"owner":{"account_id":13883,"reputation":84930,"user_id":28128,"accept_rate":88,"display_name":"David Grayson"},"score":0,"creation_date":1364252463,"post_id":691827,"comment_id":22167681,"body_markdown":"I get the error:  &quot;cannot assign a value to final variable out&quot;","body":"I get the error:  &quot;cannot assign a value to final variable out&quot;"}],"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1364257058,"creation_date":1238197536,"answer_id":691827,"question_id":691813,"body_markdown":"No, but it is pretty easy to implement.\r\n\r\nSee this question [&quot;How to remove System.out.println from codebase&quot;][1] \r\n\r\n\r\nAnd then you just have to:\r\n\r\n    System.setOut( DevNull.out );\r\n\r\n&lt;strike&gt;Or something like that :)&lt;/strike&gt;\r\n\r\n[System.setOut(PrintStream)][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/572134/how-to-remove-system-out-printlns-from-codebase/572222#572222\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#setOut%28java.io.PrintStream%29","title":"Is there a Null OutputStream in Java?","body":"<p>No, but it is pretty easy to implement.</p>\n\n<p>See this question <a href=\"https://stackoverflow.com/questions/572134/how-to-remove-system-out-printlns-from-codebase/572222#572222\">\"How to remove System.out.println from codebase\"</a> </p>\n\n<p>And then you just have to:</p>\n\n<pre><code>System.setOut( DevNull.out );\n</code></pre>\n\n<p><strike>Or something like that :)</strike></p>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#setOut%28java.io.PrintStream%29\" rel=\"nofollow noreferrer\">System.setOut(PrintStream)</a></p>\n"},{"comments":[{"owner":{"account_id":46010,"reputation":5245,"user_id":135807,"accept_rate":65,"display_name":"Aftershock"},"score":0,"creation_date":1409656014,"post_id":691835,"comment_id":40028445,"body_markdown":"here http://alvinalexander.com/java/jwarehouse/commons-io-2.0/src/main/java/org/apache/commons/io/output/NullOutputStream.java.shtml","body":"here <a href=\"http://alvinalexander.com/java/jwarehouse/commons-io-2.0/src/main/java/org/apache/commons/io/output/NullOutputStream.java.shtml\" rel=\"nofollow noreferrer\">alvinalexander.com/java/jwarehouse/commons-io-2.0/src/main/j&zwnj;&#8203;ava/&hellip;</a>"}],"tags":[],"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1339573305,"creation_date":1238197901,"answer_id":691835,"question_id":691813,"body_markdown":"Rehashing the answers already provided -\r\n\r\nJava does not have a `NullOutputStream` class. You could however roll your own `OutputStream` that ignores any data written to it -  in other words `write(int b)`, `write(byte[] b)` and `write(byte[] b, int off, int len)` will have empty method bodies. This is what the Common IO `NullOutputStream` class does.","title":"Is there a Null OutputStream in Java?","body":"<p>Rehashing the answers already provided -</p>\n\n<p>Java does not have a <code>NullOutputStream</code> class. You could however roll your own <code>OutputStream</code> that ignores any data written to it -  in other words <code>write(int b)</code>, <code>write(byte[] b)</code> and <code>write(byte[] b, int off, int len)</code> will have empty method bodies. This is what the Common IO <code>NullOutputStream</code> class does.</p>\n"},{"comments":[{"owner":{"account_id":2112055,"reputation":553,"user_id":1877143,"display_name":"Hank Schultz"},"score":17,"creation_date":1441375334,"post_id":692580,"comment_id":52668123,"body_markdown":"This can also be easily implemented wherever you need it using something like this:\n\n`OutputStream nullOutputStream = new OutputStream()\n    {\n        @Override\n        public void write(int b)\n        {\n        }\n    };`","body":"This can also be easily implemented wherever you need it using something like this:  <code>OutputStream nullOutputStream = new OutputStream()     {         @Override         public void write(int b)         {         }     };</code>"},{"owner":{"account_id":7342678,"reputation":474,"user_id":5591561,"accept_rate":44,"display_name":"neoexpert"},"score":0,"creation_date":1670937485,"post_id":692580,"comment_id":131984643,"body_markdown":"for performance reasons you should also override the other wirte(...) methods, see comments in the java.io.OutputStream source code","body":"for performance reasons you should also override the other wirte(...) methods, see comments in the java.io.OutputStream source code"}],"tags":[],"owner":{"account_id":246,"reputation":107913,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"comment_count":2,"down_vote_count":1,"up_vote_count":126,"is_accepted":false,"score":125,"last_activity_date":1671336072,"creation_date":1238236725,"answer_id":692580,"question_id":691813,"body_markdown":"Java 11+:\r\n\r\n[OutputStream.nullOutputStream()](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/OutputStream.html#nullOutputStream())\r\n\r\nJava 11-:\r\n\r\n    /** Writes to nowhere. */\r\n    public class NullOutputStream extends OutputStream {\r\n      @Override\r\n      public void write(int b) throws IOException {}\r\n    }","title":"Is there a Null OutputStream in Java?","body":"<p>Java 11+:</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/OutputStream.html#nullOutputStream()\" rel=\"noreferrer\">OutputStream.nullOutputStream()</a></p>\n<p>Java 11-:</p>\n<pre><code>/** Writes to nowhere. */\npublic class NullOutputStream extends OutputStream {\n  @Override\n  public void write(int b) throws IOException {}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":205044,"reputation":22510,"user_id":453590,"accept_rate":100,"display_name":"haylem"},"comment_count":0,"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1463132666,"creation_date":1337712310,"answer_id":10708117,"question_id":691813,"body_markdown":"It&#39;s not mentioned yet, so I&#39;ll also add **[Guava][1]&#39;s [ByteStreams][2].[nullOutputStream()][3]**, as some might prefer Guava over Apache Commons IO or already have it in their project.\r\n\r\n**Note:** If you use an older version of Guava (from 1.0 to 13.0), you want to use [com.google.io.NullOutputStream][4].\r\n\r\n\r\n  [1]: https://github.com/google/guava\r\n  [2]: http://google.github.io/guava/releases/19.0/api/docs/com/google/common/io/ByteStreams.html\r\n  [3]: http://google.github.io/guava/releases/19.0/api/docs/com/google/common/io/ByteStreams.html#nullOutputStream()\r\n  [4]: http://docs.guava-libraries.googlecode.com/git-history/5e074af6a526af39a4410a836517e57c72aa50bb/javadoc/com/google/common/io/NullOutputStream.html","title":"Is there a Null OutputStream in Java?","body":"<p>It's not mentioned yet, so I'll also add <strong><a href=\"https://github.com/google/guava\" rel=\"noreferrer\">Guava</a>'s <a href=\"http://google.github.io/guava/releases/19.0/api/docs/com/google/common/io/ByteStreams.html\" rel=\"noreferrer\">ByteStreams</a>.<a href=\"http://google.github.io/guava/releases/19.0/api/docs/com/google/common/io/ByteStreams.html#nullOutputStream()\" rel=\"noreferrer\">nullOutputStream()</a></strong>, as some might prefer Guava over Apache Commons IO or already have it in their project.</p>\n\n<p><strong>Note:</strong> If you use an older version of Guava (from 1.0 to 13.0), you want to use <a href=\"http://docs.guava-libraries.googlecode.com/git-history/5e074af6a526af39a4410a836517e57c72aa50bb/javadoc/com/google/common/io/NullOutputStream.html\" rel=\"noreferrer\">com.google.io.NullOutputStream</a>.</p>\n"},{"comments":[{"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"score":0,"creation_date":1512641780,"post_id":25771819,"comment_id":82344314,"body_markdown":"This is Windows specific.","body":"This is Windows specific."}],"tags":[],"owner":{"account_id":5012024,"reputation":1,"user_id":4028013,"display_name":"Dominik"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1410371139,"creation_date":1410371139,"answer_id":25771819,"question_id":691813,"body_markdown":"I believe that this is what you&#39;re looking for, I was looking for the same thing:\r\nThis is for redirecting output streams from standard error, standard out in ProcessBuilder objects.\r\n\r\n&gt; Blockquote\r\n\r\n    pb.redirectError( ProcessBuilder.Redirect.appendTo( new File( &quot;NUL:&quot; ) ) );\r\n\r\n- Dom","title":"Is there a Null OutputStream in Java?","body":"<p>I believe that this is what you're looking for, I was looking for the same thing:\nThis is for redirecting output streams from standard error, standard out in ProcessBuilder objects.</p>\n\n<blockquote>\n  <p>Blockquote</p>\n</blockquote>\n\n<pre><code>pb.redirectError( ProcessBuilder.Redirect.appendTo( new File( \"NUL:\" ) ) );\n</code></pre>\n\n<ul>\n<li>Dom</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":326925,"reputation":14868,"user_id":648955,"accept_rate":62,"display_name":"leventov"},"comment_count":0,"down_vote_count":0,"up_vote_count":53,"is_accepted":true,"score":53,"last_activity_date":1568064203,"creation_date":1538611978,"answer_id":52637240,"question_id":691813,"body_markdown":"Since Java 11, there is a static utility that does exactly what you need, a static factory method [`OutputStream.nullOutputStream()`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/OutputStream.html#nullOutputStream()):\r\n\r\n&gt; Returns a new OutputStream which discards all bytes. The returned stream is initially open. The stream is closed by calling the close() method. Subsequent calls to close() have no effect.","title":"Is there a Null OutputStream in Java?","body":"<p>Since Java 11, there is a static utility that does exactly what you need, a static factory method <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/OutputStream.html#nullOutputStream()\" rel=\"noreferrer\"><code>OutputStream.nullOutputStream()</code></a>:</p>\n\n<blockquote>\n  <p>Returns a new OutputStream which discards all bytes. The returned stream is initially open. The stream is closed by calling the close() method. Subsequent calls to close() have no effect.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1075172,"reputation":5529,"user_id":1073487,"display_name":"Red Boy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1543301802,"creation_date":1543174253,"answer_id":53471093,"question_id":691813,"body_markdown":"There is new boy in the town, that takes care of this like a charm, just few lines of code should work.\r\nIts **[JDK 11][1]** and [nullWriter()][2] has been introduced there, that takes care of this. Here goes the code to deal with same old problem, new way without worrying about Operating System(OS).\r\n\r\n    String fileContent = &quot;Welcome to StackOverflow readers !! Here goes the question link...&quot;;\r\n    Writer writer = Writer.nullWriter();\r\n    writer.write(fileContent);\r\n    writer.close();\r\n\r\nHope this may help someone!\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/Writer.html#nullWriter()","title":"Is there a Null OutputStream in Java?","body":"<p>There is new boy in the town, that takes care of this like a charm, just few lines of code should work.\nIts <strong><a href=\"https://docs.oracle.com/en/java/javase/11/\" rel=\"nofollow noreferrer\">JDK 11</a></strong> and <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/Writer.html#nullWriter()\" rel=\"nofollow noreferrer\">nullWriter()</a> has been introduced there, that takes care of this. Here goes the code to deal with same old problem, new way without worrying about Operating System(OS).</p>\n\n<pre><code>String fileContent = \"Welcome to StackOverflow readers !! Here goes the question link...\";\nWriter writer = Writer.nullWriter();\nwriter.write(fileContent);\nwriter.close();\n</code></pre>\n\n<p>Hope this may help someone!</p>\n"},{"tags":[],"owner":{"account_id":8153190,"reputation":131,"user_id":6139588,"display_name":"Gunter Zeilinger"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1577450330,"creation_date":1577450330,"answer_id":59500950,"question_id":691813,"body_markdown":"Java 11 added [OutputStream.nullOutputStream()](https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/io/OutputStream.html#nullOutputStream())","title":"Is there a Null OutputStream in Java?","body":"<p>Java 11 added <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/io/OutputStream.html#nullOutputStream()\" rel=\"noreferrer\">OutputStream.nullOutputStream()</a></p>\n"}],"owner":{"account_id":30002,"reputation":37409,"user_id":81491,"accept_rate":82,"display_name":"Brandon Yarbrough"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47911,"favorite_count":0,"down_vote_count":0,"up_vote_count":133,"accepted_answer_id":52637240,"answer_count":9,"score":133,"last_activity_date":1671336199,"creation_date":1238196809,"question_id":691813,"body_markdown":"I need to specify an `OutputStream` for an API I&#39;m using, but I don&#39;t actually have a need for the output.  Does Java have an `OutputStream` equivalent to `&gt; /dev/null`?","title":"Is there a Null OutputStream in Java?","body":"<p>I need to specify an <code>OutputStream</code> for an API I'm using, but I don't actually have a need for the output.  Does Java have an <code>OutputStream</code> equivalent to <code>&gt; /dev/null</code>?</p>\n"},{"tags":["java","file-io","inputstream"],"answers":[{"comments":[{"owner":{"account_id":2066135,"reputation":884,"user_id":2350744,"display_name":"Dmitry Avgustis"},"score":0,"creation_date":1619532494,"post_id":5090961,"comment_id":118930189,"body_markdown":"Is it needed in case of junit tests? Won&#39;t be resources released after process exists?","body":"Is it needed in case of junit tests? Won&#39;t be resources released after process exists?"},{"owner":{"account_id":105902,"reputation":3968,"user_id":282345,"accept_rate":88,"display_name":"asgs"},"score":0,"creation_date":1619699579,"post_id":5090961,"comment_id":118987648,"body_markdown":"yeah, after the process exits, there&#39;s nothing to utilize. So, OS will reclaim the resource. But the idea is to keep the tests running in a stable manner instead of waiting for the exit to do the job. it&#39;s like asking &quot;what if I switch off my device?&quot; :-) Also, it depends on the OS. Check this question on [doesnt-the-jvm-release-all-the-resources-that-are-not-explicitly-closed-by-the-programmer](https://stackoverflow.com/questions/18654570/doesnt-the-jvm-release-all-the-resources-that-are-not-explicitly-closed-by-the) for more details","body":"yeah, after the process exits, there&#39;s nothing to utilize. So, OS will reclaim the resource. But the idea is to keep the tests running in a stable manner instead of waiting for the exit to do the job. it&#39;s like asking &quot;what if I switch off my device?&quot; :-) Also, it depends on the OS. Check this question on <a href=\"https://stackoverflow.com/questions/18654570/doesnt-the-jvm-release-all-the-resources-that-are-not-explicitly-closed-by-the\">doesnt-the-jvm-release-all-the-resources-that-are-not-explic&zwnj;&#8203;itly-closed-by-the-p&zwnj;&#8203;rogrammer</a> for more details"}],"tags":[],"owner":{"account_id":105902,"reputation":3968,"user_id":282345,"accept_rate":88,"display_name":"asgs"},"comment_count":2,"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1463644023,"creation_date":1298464358,"answer_id":5090961,"question_id":5090937,"body_markdown":"Yes, you need to `close` the inputstream if you want your system resources released back.\r\n\r\n[`FileInputStream.close()`](http://download.oracle.com/javase/6/docs/api/java/io/FileInputStream.html#close()) is what you need.","title":"Do I have to close FileInputStream?","body":"<p>Yes, you need to <code>close</code> the inputstream if you want your system resources released back.</p>\n\n<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/io/FileInputStream.html#close()\" rel=\"noreferrer\"><code>FileInputStream.close()</code></a> is what you need.</p>\n"},{"comments":[{"owner":{"account_id":69301,"reputation":10391,"user_id":201722,"accept_rate":95,"display_name":"luis.espinal"},"score":7,"creation_date":1298467435,"post_id":5091196,"comment_id":5705328,"body_markdown":"Just a small comment - you also need to wrap the `close()` statement with a try/catch as `close()` declares to throw a checked IOException. In fact, you can&#39;t use finally like that. You can only have a try/finally with runtime exceptions. But with checked exceptions like IOException and subclasses of it, you have to have a try/catch or a try/catch/finally... it won&#39;t compile with just try/finally.","body":"Just a small comment - you also need to wrap the <code>close()</code> statement with a try/catch as <code>close()</code> declares to throw a checked IOException. In fact, you can&#39;t use finally like that. You can only have a try/finally with runtime exceptions. But with checked exceptions like IOException and subclasses of it, you have to have a try/catch or a try/catch/finally... it won&#39;t compile with just try/finally."},{"owner":{"account_id":137237,"reputation":13989,"user_id":341291,"accept_rate":76,"display_name":"Axel"},"score":3,"creation_date":1298469609,"post_id":5091196,"comment_id":5705818,"body_markdown":"Depends whether IOException is declared for the method. If you catch it, you should know what to do with it. The important part is putting the close() in a finally block. In fact the automatic handling of this is one of the features I&#39;m really looking forward to seeing in Java 7.","body":"Depends whether IOException is declared for the method. If you catch it, you should know what to do with it. The important part is putting the close() in a finally block. In fact the automatic handling of this is one of the features I&#39;m really looking forward to seeing in Java 7."}],"tags":[],"owner":{"account_id":137237,"reputation":13989,"user_id":341291,"accept_rate":76,"display_name":"Axel"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1298465668,"creation_date":1298465668,"answer_id":5091196,"question_id":5090937,"body_markdown":"    FileInputStream fi=null;\r\n    try {\r\n        fi=new FileInputStream(&quot;c:\\\\search.xls&quot;);\r\n        Workbook w=Workbook.getWorkbook(fi);\r\n        Sheet s=w.getSheet(0);\r\n    } finally {\r\n        if (fi!=null) {\r\n            fi.close();\r\n        }\r\n    }\r\n\r\n","title":"Do I have to close FileInputStream?","body":"<pre><code>FileInputStream fi=null;\ntry {\n    fi=new FileInputStream(\"c:\\\\search.xls\");\n    Workbook w=Workbook.getWorkbook(fi);\n    Sheet s=w.getSheet(0);\n} finally {\n    if (fi!=null) {\n        fi.close();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1762499,"reputation":5333,"user_id":1609201,"accept_rate":64,"display_name":"Elist"},"score":1,"creation_date":1533740988,"post_id":5091344,"comment_id":90459910,"body_markdown":"Good reasons for closing resources. I would add `too many open files` and memory leaks to that list, especially for long living processes.","body":"Good reasons for closing resources. I would add <code>too many open files</code> and memory leaks to that list, especially for long living processes."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1533755816,"post_id":5091344,"comment_id":90467926,"body_markdown":"@Elist it needs to be a long time between GCs as they get closed on clean up.","body":"@Elist it needs to be a long time between GCs as they get closed on clean up."},{"owner":{"account_id":1762499,"reputation":5333,"user_id":1609201,"accept_rate":64,"display_name":"Elist"},"score":1,"creation_date":1533756725,"post_id":5091344,"comment_id":90468293,"body_markdown":"True, long life of a process probably isn&#39;t usually the cause. More commonly - recursively reading files / directories can cause `too many open files`. Anyway, I have seen both cases myself, so whatever the trigger is, it is a real life scenario.","body":"True, long life of a process probably isn&#39;t usually the cause. More commonly - recursively reading files / directories can cause <code>too many open files</code>. Anyway, I have seen both cases myself, so whatever the trigger is, it is a real life scenario."}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":3,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1298466635,"creation_date":1298466635,"answer_id":5091344,"question_id":5090937,"body_markdown":"You either need to close(), or end your program. \r\n\r\nHowever you can run into confusing issues if you don&#39;t close the file as\r\n\r\n - sometimes test are run individually or a group of test are run in the same process. (So you could have a test which works one way but not the other)\r\n - you cannot rename or delete an open file.\r\n\r\nIt is best practice to always close your resources which you are finished with them, however I see unit tests as scripts which don&#39;t always have to follow best practice.","title":"Do I have to close FileInputStream?","body":"<p>You either need to close(), or end your program. </p>\n\n<p>However you can run into confusing issues if you don't close the file as</p>\n\n<ul>\n<li>sometimes test are run individually or a group of test are run in the same process. (So you could have a test which works one way but not the other)</li>\n<li>you cannot rename or delete an open file.</li>\n</ul>\n\n<p>It is best practice to always close your resources which you are finished with them, however I see unit tests as scripts which don't always have to follow best practice.</p>\n"},{"comments":[{"owner":{"account_id":113266,"reputation":62487,"user_id":298389,"accept_rate":100,"display_name":"om-nom-nom"},"score":3,"creation_date":1392129823,"post_id":5091531,"comment_id":32817293,"body_markdown":"It is really awful approach to blindly follow established rules without criticism and understanding the *why?* part. *Bad things will happen* -- oh common?! Programming is not a voodoo magic, without mentioning consequences (**file can&#39;t be moved, in general, memory leaks might be introduced, [os pool of file handles might be exausted](https://stackoverflow.com/questions/1661322/too-many-open-file-handles)**) of not properly freed resources your answer is useless and moreover harmful. **Downvoted.**","body":"It is really awful approach to blindly follow established rules without criticism and understanding the <i>why?</i> part. <i>Bad things will happen</i> -- oh common?! Programming is not a voodoo magic, without mentioning consequences (<b>file can&#39;t be moved, in general, memory leaks might be introduced, <a href=\"https://stackoverflow.com/questions/1661322/too-many-open-file-handles\">os pool of file handles might be exausted</a></b>) of not properly freed resources your answer is useless and moreover harmful. <b>Downvoted.</b>"},{"owner":{"account_id":69301,"reputation":10391,"user_id":201722,"accept_rate":95,"display_name":"luis.espinal"},"score":1,"creation_date":1392138932,"post_id":5091531,"comment_id":32824009,"body_markdown":"Oooo, I use a form of speech and you go &quot;ZOMG he believes in voodoo&quot;  (as opposed to &quot;hhhh, he didn&#39;t spell it out and opted for some vernacular.&quot; There are a quite a few other responses that do not spell out the consequences, and unless you went out to neg-rep them, you are simply climbing a bunch of soap boxes on a biased high horse. Why I don&#39;t spell the issues (and why most people in this thread did not)? Because they are easy to find the appropriate literature, available to anyone doing a modicum of research. Your choice if you find that inappropriate.","body":"Oooo, I use a form of speech and you go &quot;ZOMG he believes in voodoo&quot;  (as opposed to &quot;hhhh, he didn&#39;t spell it out and opted for some vernacular.&quot; There are a quite a few other responses that do not spell out the consequences, and unless you went out to neg-rep them, you are simply climbing a bunch of soap boxes on a biased high horse. Why I don&#39;t spell the issues (and why most people in this thread did not)? Because they are easy to find the appropriate literature, available to anyone doing a modicum of research. Your choice if you find that inappropriate."}],"tags":[],"owner":{"account_id":69301,"reputation":10391,"user_id":201722,"accept_rate":95,"display_name":"luis.espinal"},"comment_count":2,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1298467642,"creation_date":1298467642,"answer_id":5091531,"question_id":5090937,"body_markdown":"Basic CompSci 101 tell us to make sure to close resources that we open, in Java or any language. So yes, you need to close them. Bad juju is bound to happen when you do not do so.\r\n\r\nAlso, you should learn (and have the inclination) to use the Javadocs. Look up at the Javadoc for FileInputStream and Closeable. The answers are there.","title":"Do I have to close FileInputStream?","body":"<p>Basic CompSci 101 tell us to make sure to close resources that we open, in Java or any language. So yes, you need to close them. Bad juju is bound to happen when you do not do so.</p>\n\n<p>Also, you should learn (and have the inclination) to use the Javadocs. Look up at the Javadoc for FileInputStream and Closeable. The answers are there.</p>\n"},{"comments":[{"owner":{"account_id":17668693,"reputation":342,"user_id":12825435,"display_name":"Hitesh Kumar Saini"},"score":0,"creation_date":1662984575,"post_id":5091880,"comment_id":130125181,"body_markdown":"This actually is a better answer. I was calling close/release on both the objects.","body":"This actually is a better answer. I was calling close/release on both the objects."},{"owner":{"account_id":378670,"reputation":3959,"user_id":731548,"accept_rate":33,"display_name":"cquezel"},"score":0,"creation_date":1671333199,"post_id":5091880,"comment_id":132076209,"body_markdown":"@HiteshKumarSaini The fact that a Closeable A class&#39;s constructor takes in a Closeable B class type constrctor parameter says nothing about how A will deal with B&#39;s close() method. The Workbook class does not close the InputStream. See my answer below.","body":"@HiteshKumarSaini The fact that a Closeable A class&#39;s constructor takes in a Closeable B class type constrctor parameter says nothing about how A will deal with B&#39;s close() method. The Workbook class does not close the InputStream. See my answer below."}],"tags":[],"owner":{"account_id":64278,"reputation":2734,"user_id":189849,"accept_rate":73,"display_name":"pcjuzer"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1657109128,"creation_date":1298469620,"answer_id":5091880,"question_id":5090937,"body_markdown":"It&#39;s always a good idea to close resources you use, **BUT**:\r\n\r\nIf you use resource **A** in resource **B**, it&#39;s sensible to close **B** instead of **A** if it has a method for it.\r\n\r\nIn your case, you use `FileInputStream` in `Workbook`, so you&#39;d better to close `Workbook` and rely on `Workbook` that it will close `FileInputStream`.\r\n\r\nIn this particular case, actually, `Workbook` [will close][1] `FileInputStream` at the end of the `getWorkbook()` method but it&#39;s still a good idea to [close][2] `Workbook` to be able to be garbage collected.\r\n\r\n\r\n  [1]: http://www.javadocexamples.com/jxl/jxl.Workbook-source.html\r\n  [2]: http://jexcelapi.sourceforge.net/resources/javadocs/2_6_10/docs/jxl/Workbook.html#close%28%29","title":"Do I have to close FileInputStream?","body":"<p>It's always a good idea to close resources you use, <strong>BUT</strong>:</p>\n<p>If you use resource <strong>A</strong> in resource <strong>B</strong>, it's sensible to close <strong>B</strong> instead of <strong>A</strong> if it has a method for it.</p>\n<p>In your case, you use <code>FileInputStream</code> in <code>Workbook</code>, so you'd better to close <code>Workbook</code> and rely on <code>Workbook</code> that it will close <code>FileInputStream</code>.</p>\n<p>In this particular case, actually, <code>Workbook</code> <a href=\"http://www.javadocexamples.com/jxl/jxl.Workbook-source.html\" rel=\"nofollow noreferrer\">will close</a> <code>FileInputStream</code> at the end of the <code>getWorkbook()</code> method but it's still a good idea to <a href=\"http://jexcelapi.sourceforge.net/resources/javadocs/2_6_10/docs/jxl/Workbook.html#close%28%29\" rel=\"nofollow noreferrer\">close</a> <code>Workbook</code> to be able to be garbage collected.</p>\n"},{"tags":[],"owner":{"account_id":6908286,"reputation":225,"user_id":5305250,"accept_rate":100,"display_name":"full_stuck_developer"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1464638440,"creation_date":1464638440,"answer_id":37532925,"question_id":5090937,"body_markdown":"Yes! you should always release the resources once after you are done with them. Java has a powerful mechanism for Garbage Collection(note that it is different thing compare to resource management/leaks.) \r\nSo a Garbage collector can not determine that if you need the resource in future or not? Failing to release resources may cause issues like- Denial of services, poor performance .\r\n\r\nAs already answered but another effort less way is [try with resources][1] \r\n\r\n        try (FileInputStream fi = new FileInputStream(&quot;c:\\\\search.xls&quot;)) {\r\n\t\t\t\r\n\t\t     //do something with fi.\r\n\t\t     //fi.getChannel() ;\r\n\t\t\t\r\n\t    } catch(IOException e) {\r\n\t\t    // exception handling.\r\n\t    } finally {\r\n\t\t// some statements for finally.\r\n\t   }\r\n\r\nNow you don&#39;t need to explicitly call fi.close() method. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html","title":"Do I have to close FileInputStream?","body":"<p>Yes! you should always release the resources once after you are done with them. Java has a powerful mechanism for Garbage Collection(note that it is different thing compare to resource management/leaks.) \nSo a Garbage collector can not determine that if you need the resource in future or not? Failing to release resources may cause issues like- Denial of services, poor performance .</p>\n\n<p>As already answered but another effort less way is <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"noreferrer\">try with resources</a> </p>\n\n<pre><code>    try (FileInputStream fi = new FileInputStream(\"c:\\\\search.xls\")) {\n\n         //do something with fi.\n         //fi.getChannel() ;\n\n    } catch(IOException e) {\n        // exception handling.\n    } finally {\n    // some statements for finally.\n   }\n</code></pre>\n\n<p>Now you don't need to explicitly call fi.close() method. </p>\n"},{"comments":[{"owner":{"account_id":1604214,"reputation":4524,"user_id":1484621,"accept_rate":70,"display_name":"Yu Jiaao"},"score":0,"creation_date":1537066576,"post_id":47880204,"comment_id":91646408,"body_markdown":"But the `Workbook` interface does not have a method called `close`, how do I can close the `Workbook` ?","body":"But the <code>Workbook</code> interface does not have a method called <code>close</code>, how do I can close the <code>Workbook</code> ?"},{"owner":{"account_id":378670,"reputation":3959,"user_id":731548,"accept_rate":33,"display_name":"cquezel"},"score":0,"creation_date":1671333263,"post_id":47880204,"comment_id":132076213,"body_markdown":"Are you sure the Workbook&#39;s close() method closes the InputStream? See my answer below.","body":"Are you sure the Workbook&#39;s close() method closes the InputStream? See my answer below."}],"tags":[],"owner":{"account_id":8801604,"reputation":131,"user_id":6577528,"display_name":"Tony"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513659052,"creation_date":1513659052,"answer_id":47880204,"question_id":5090937,"body_markdown":"Recently, when I tried to refactor my code, I had to move the workbook creation to another method, and the FileInputStream is created in that method. That method creates a FileInputStream and returns a Workbook. But FileInputStream is not visible from the main method; so how will I close my FileInputStream at the end of main method? The answer is, you don&#39;t have to close FileInputStream, instead you just close the workbook, which internally closes FileInputStream. In short, it is  incorrect to say that you must close FileInputStream no matter what. ","title":"Do I have to close FileInputStream?","body":"<p>Recently, when I tried to refactor my code, I had to move the workbook creation to another method, and the FileInputStream is created in that method. That method creates a FileInputStream and returns a Workbook. But FileInputStream is not visible from the main method; so how will I close my FileInputStream at the end of main method? The answer is, you don't have to close FileInputStream, instead you just close the workbook, which internally closes FileInputStream. In short, it is  incorrect to say that you must close FileInputStream no matter what. </p>\n"},{"tags":[],"owner":{"account_id":1604214,"reputation":4524,"user_id":1484621,"accept_rate":70,"display_name":"Yu Jiaao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537102527,"creation_date":1537102527,"answer_id":52354347,"question_id":5090937,"body_markdown":"I do such a way to ensure to close the excel file input stream, this maybe helps\r\n\r\n\r\n    abstract int workWithWorkBook(Workbook workBook);\r\n\r\n    protected int doWorkBook(Path excelFile) throws IOException {\r\n        File f = excelFile.toFile();\r\n        \r\n        try (FileInputStream excelContent = new FileInputStream(excelFile.toFile())){\r\n            POIFSFileSystem fileSystem = new POIFSFileSystem(excelContent);\r\n            Workbook workBook = null;\r\n            if (f.getName().endsWith(&quot;xls&quot;)) {\r\n                workBook = new HSSFWorkbook(fileSystem);\r\n            } else if (f.getName().endsWith(&quot;xlsx&quot;)) {\r\n                workBook = new XSSFWorkbook(excelContent);\r\n            }\r\n            return workWithWorkBook(workBook);\r\n\r\n        }catch (Exception e){\r\n            e.printStackTrace();\r\n            throw e;\r\n        }\r\n    }\r\n\r\n\r\n9b9ea92b-5b63-47f9-a865-fd40dd602cd5\r\n","title":"Do I have to close FileInputStream?","body":"<p>I do such a way to ensure to close the excel file input stream, this maybe helps</p>\n\n<pre><code>abstract int workWithWorkBook(Workbook workBook);\n\nprotected int doWorkBook(Path excelFile) throws IOException {\n    File f = excelFile.toFile();\n\n    try (FileInputStream excelContent = new FileInputStream(excelFile.toFile())){\n        POIFSFileSystem fileSystem = new POIFSFileSystem(excelContent);\n        Workbook workBook = null;\n        if (f.getName().endsWith(\"xls\")) {\n            workBook = new HSSFWorkbook(fileSystem);\n        } else if (f.getName().endsWith(\"xlsx\")) {\n            workBook = new XSSFWorkbook(excelContent);\n        }\n        return workWithWorkBook(workBook);\n\n    }catch (Exception e){\n        e.printStackTrace();\n        throw e;\n    }\n}\n</code></pre>\n\n<p>9b9ea92b-5b63-47f9-a865-fd40dd602cd5</p>\n"},{"tags":[],"owner":{"account_id":21387620,"reputation":1,"user_id":15752309,"display_name":"Sandip Shinde"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619240899,"creation_date":1619236899,"answer_id":67239206,"question_id":5090937,"body_markdown":"Do something like this.\r\n    \r\n    \r\n    \r\n    FileInputStream fi=null;\r\n    try{\r\n    fi = new FileInputStream(&quot;c:\\\\search.xls&quot;);\r\n    Workbook w=Workbook.getWorkbook(fi);\r\n    Sheet s=w.getSheet(0);\r\n    }catch(IOException ioe){\r\n    }finally{\r\n    if(fi != null){\r\n    fi.close();\r\n    }\r\n    fi = null;//This will be hint to get finalize() called on fi so that underlying resources used will released like files opened.\r\n    }\r\n    \r\n    \r\n\r\n","title":"Do I have to close FileInputStream?","body":"<p>Do something like this.</p>\n<pre><code>FileInputStream fi=null;\ntry{\nfi = new FileInputStream(&quot;c:\\\\search.xls&quot;);\nWorkbook w=Workbook.getWorkbook(fi);\nSheet s=w.getSheet(0);\n}catch(IOException ioe){\n}finally{\nif(fi != null){\nfi.close();\n}\nfi = null;//This will be hint to get finalize() called on fi so that underlying resources used will released like files opened.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":378670,"reputation":3959,"user_id":731548,"accept_rate":33,"display_name":"cquezel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671333386,"creation_date":1671333042,"answer_id":74838902,"question_id":5090937,"body_markdown":"The Workbook implements the Closeable interface which indicates that you should call the close() method or use a try with resources to free resources acquired by a Workbook object.\r\n\r\nYou can’t conclude anything on how the InputStream resource is used by the Workbook by simply observing that the Workbook has a close() method.\r\n\r\nWhat really goes on is that the Workbook constructor uses the stream to initialize itself. The constructor does not keep a reference to the stream. The Workbook constructor does not close the InputStream. It is your responsibility to close the InputStream and you can do this immediately after the Workbook object is constructed. The following code is therefore OK:\r\n\r\n\tprivate static Workbook getWorkbook() throws IOException {\r\n\t\ttry (InputStream is = ...) {\r\n\t\t\treturn WorkbookFactory.create(is); // newer API\r\n\t\t}\r\n\t}\r\n\r\n\t\ttry (Workbook workbook = getWorkbook()) {\r\n\t\t\tSheet sheet = workbook.getSheet(&quot;SheetName&quot;);\r\n\t\t\t...\r\n\t\t}\r\n\r\n","title":"Do I have to close FileInputStream?","body":"<p>The Workbook implements the Closeable interface which indicates that you should call the close() method or use a try with resources to free resources acquired by a Workbook object.</p>\n<p>You can’t conclude anything on how the InputStream resource is used by the Workbook by simply observing that the Workbook has a close() method.</p>\n<p>What really goes on is that the Workbook constructor uses the stream to initialize itself. The constructor does not keep a reference to the stream. The Workbook constructor does not close the InputStream. It is your responsibility to close the InputStream and you can do this immediately after the Workbook object is constructed. The following code is therefore OK:</p>\n<pre><code>private static Workbook getWorkbook() throws IOException {\n    try (InputStream is = ...) {\n        return WorkbookFactory.create(is); // newer API\n    }\n}\n\n    try (Workbook workbook = getWorkbook()) {\n        Sheet sheet = workbook.getSheet(&quot;SheetName&quot;);\n        ...\n    }\n</code></pre>\n"}],"owner":{"account_id":561695,"reputation":351,"user_id":630180,"display_name":"Olaganathan.S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61296,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"answer_count":10,"score":35,"last_activity_date":1671333386,"creation_date":1298464173,"question_id":5090937,"body_markdown":"I am working as a trainee in Test Automation.\r\nI am working with creating Junit code with Eclipse and run using Eclipse.\r\nIn that I am retriving the datas from excel sheet using FileInputStream function.\r\n\r\n    FileInputStream fi=new FileInputStream(&quot;c:\\\\search.xls&quot;);\r\n    Workbook w=Workbook.getWorkbook(fi);\r\n    Sheet s=w.getSheet(0);\r\n\r\n \r\nIs it necessary to close the Inputstream function? If it so please guide me with some codings.\r\n","title":"Do I have to close FileInputStream?","body":"<p>I am working as a trainee in Test Automation.\nI am working with creating Junit code with Eclipse and run using Eclipse.\nIn that I am retriving the datas from excel sheet using FileInputStream function.</p>\n\n<pre><code>FileInputStream fi=new FileInputStream(\"c:\\\\search.xls\");\nWorkbook w=Workbook.getWorkbook(fi);\nSheet s=w.getSheet(0);\n</code></pre>\n\n<p>Is it necessary to close the Inputstream function? If it so please guide me with some codings.</p>\n"},{"tags":["java","string","format"],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671333208,"creation_date":1671333208,"answer_id":74838910,"question_id":74838809,"body_markdown":"I would use a *regular expression* with two groups. One to match any non-whitespace after `My name is ` ending with a comma, the other to match any consecutive digits after `I&#39;m` and ending in `years old`. Like,\r\n\r\n\tString str = &quot;My name is Mike, and I&#39;m 18 years old&quot;;\r\n\tPattern p = Pattern.compile(&quot;My name is (\\\\S+), and I&#39;m (\\\\d+) years old&quot;);\r\n\tMatcher m = p.matcher(str);\r\n\tif (m.find()) {\r\n\t\tSystem.out.printf(&quot;name=%s,age=%d%n&quot;, m.group(1), \r\n\t\t\t\tInteger.parseInt(m.group(2)));\r\n\t}\r\n\r\nWhich outputs\r\n\r\n    name=Mike,age=18\r\n","title":"Get string of corresponding placeholder according to format string","body":"<p>I would use a <em>regular expression</em> with two groups. One to match any non-whitespace after <code>My name is </code> ending with a comma, the other to match any consecutive digits after <code>I'm</code> and ending in <code>years old</code>. Like,</p>\n<pre><code>String str = &quot;My name is Mike, and I'm 18 years old&quot;;\nPattern p = Pattern.compile(&quot;My name is (\\\\S+), and I'm (\\\\d+) years old&quot;);\nMatcher m = p.matcher(str);\nif (m.find()) {\n    System.out.printf(&quot;name=%s,age=%d%n&quot;, m.group(1), \n            Integer.parseInt(m.group(2)));\n}\n</code></pre>\n<p>Which outputs</p>\n<pre><code>name=Mike,age=18\n</code></pre>\n"}],"owner":{"account_id":19925271,"reputation":77,"user_id":16305949,"display_name":"233"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1671641301,"accepted_answer_id":74838910,"answer_count":1,"score":1,"last_activity_date":1671333208,"creation_date":1671331248,"question_id":74838809,"body_markdown":"How can I get strings of corresponding placeholder according to format string？\r\n\r\nFor example:\r\n\r\nThe format string is `My name is %s, and I&#39;m %d years old`, and I have a string `My name is Mike, and I&#39;m 18 years old`。How to get `Mike` and `18` according to the format string, which correspond to placeholder `%s` and `%d` separately？","title":"Get string of corresponding placeholder according to format string","body":"<p>How can I get strings of corresponding placeholder according to format string？</p>\n<p>For example:</p>\n<p>The format string is <code>My name is %s, and I'm %d years old</code>, and I have a string <code>My name is Mike, and I'm 18 years old</code>。How to get <code>Mike</code> and <code>18</code> according to the format string, which correspond to placeholder <code>%s</code> and <code>%d</code> separately？</p>\n"},{"tags":["java","jdbc","datasource"],"comments":[{"owner":{"account_id":14687437,"reputation":105,"user_id":11017218,"display_name":"Chan Guan Yu"},"score":0,"creation_date":1671270177,"post_id":74833058,"comment_id":132066604,"body_markdown":"Could you please help to add in your codes?","body":"Could you please help to add in your codes?"},{"owner":{"account_id":24960547,"reputation":83,"user_id":18824568,"display_name":"Andrzej Jankowski"},"score":0,"creation_date":1671270338,"post_id":74833058,"comment_id":132066627,"body_markdown":"@ChanGuanYu no code, theoretical question.  I just want to know that contains method DataSource.getConnection for create connection. Is that using DriverManager under?","body":"@ChanGuanYu no code, theoretical question.  I just want to know that contains method DataSource.getConnection for create connection. Is that using DriverManager under?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1671275995,"post_id":74833058,"comment_id":132067430,"body_markdown":"A `javax.sql.DataSource` is an _interface_ it does nothing by itself, how or what it does depends on the concrete implementation, as long as it conforms to the JDBC requirements.","body":"A <code>javax.sql.DataSource</code> is an <i>interface</i> it does nothing by itself, how or what it does depends on the concrete implementation, as long as it conforms to the JDBC requirements."}],"answers":[{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1671276198,"post_id":74833183,"comment_id":132067459,"body_markdown":"_&quot;DataSource.getConnection() could return the same Connection object each time it is called.&quot;_ although technically possible, doing that would violate the JDBC requirements that a connection returned by a data source should behave the same as if it was a new physical connection (that is, after `close()` all derived objects are closed, and the connection behaves as a closed connection). This is why connection pools generally use some form of proxy or wrapping connection, so the proxy behaves as closed, while the underlying physical connection is returned to the pool for reuse.","body":"<i>&quot;DataSource.getConnection() could return the same Connection object each time it is called.&quot;</i> although technically possible, doing that would violate the JDBC requirements that a connection returned by a data source should behave the same as if it was a new physical connection (that is, after <code>close()</code> all derived objects are closed, and the connection behaves as a closed connection). This is why connection pools generally use some form of proxy or wrapping connection, so the proxy behaves as closed, while the underlying physical connection is returned to the pool for reuse."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1671284523,"post_id":74833183,"comment_id":132068837,"body_markdown":"That is a good point.  Updated.","body":"That is a good point.  Updated."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1671333138,"creation_date":1671270957,"answer_id":74833183,"question_id":74833058,"body_markdown":"The answers to your question can be deduced from the `DataSource` [javadoc][1].  \r\n\r\n&gt; *&quot;The `DataSource` interface is implemented by a driver vendor. There are three types of implementations:*\r\n&gt; \r\n&gt; - *Basic implementation -- produces a standard `Connection` object*\r\n&gt; - *Connection pooling implementation -- produces a `Connection` object that will automatically participate in connection pooling. This\r\n&gt; implementation works with a middle-tier connection pooling manager.*\r\n&gt; - *Distributed transaction implementation -- produces a `Connection` object that may be used for distributed transactions and almost always\r\n&gt; participates in connection pooling. This implementation works with a\r\n&gt; middle-tier transaction manager and almost always with a connection\r\n&gt; pooling manager.*&quot;\r\n\r\nThus:\r\n\r\n&gt; I wondered how works method `getConnection()` at `DataSource`?\r\n\r\nIt is vendor specific, and depends on the type of implementation that the vendor provides.\r\n\r\n&gt; I assume that `DataSource` calling `DriverManager.getConnection` every time when we call `DataSource.getConnection` with our properties that we setting in `DataSource`. Is that true?\r\n\r\nNot necessarily.  For example, `DataSource.getConnection()` *could* return the same `Connection` object each time it is called.  Or more plausibly, it could return a new `Connection` proxy for an underlying database pool connection that has been recycled.  Furthermore, that `DriverManager` method is not necessarily called to get the connection.\r\n\r\nIf you want to know how a specific `DataSource` works, you would need to look at the vendor documentation ... or alternatively its source code.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/javax/sql/DataSource.html","title":"How does JDBC DataSource works?","body":"<p>The answers to your question can be deduced from the <code>DataSource</code> <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/sql/DataSource.html\" rel=\"nofollow noreferrer\">javadoc</a>.</p>\n<blockquote>\n<p><em>&quot;The <code>DataSource</code> interface is implemented by a driver vendor. There are three types of implementations:</em></p>\n<ul>\n<li><em>Basic implementation -- produces a standard <code>Connection</code> object</em></li>\n<li><em>Connection pooling implementation -- produces a <code>Connection</code> object that will automatically participate in connection pooling. This\nimplementation works with a middle-tier connection pooling manager.</em></li>\n<li><em>Distributed transaction implementation -- produces a <code>Connection</code> object that may be used for distributed transactions and almost always\nparticipates in connection pooling. This implementation works with a\nmiddle-tier transaction manager and almost always with a connection\npooling manager.</em>&quot;</li>\n</ul>\n</blockquote>\n<p>Thus:</p>\n<blockquote>\n<p>I wondered how works method <code>getConnection()</code> at <code>DataSource</code>?</p>\n</blockquote>\n<p>It is vendor specific, and depends on the type of implementation that the vendor provides.</p>\n<blockquote>\n<p>I assume that <code>DataSource</code> calling <code>DriverManager.getConnection</code> every time when we call <code>DataSource.getConnection</code> with our properties that we setting in <code>DataSource</code>. Is that true?</p>\n</blockquote>\n<p>Not necessarily.  For example, <code>DataSource.getConnection()</code> <em>could</em> return the same <code>Connection</code> object each time it is called.  Or more plausibly, it could return a new <code>Connection</code> proxy for an underlying database pool connection that has been recycled.  Furthermore, that <code>DriverManager</code> method is not necessarily called to get the connection.</p>\n<p>If you want to know how a specific <code>DataSource</code> works, you would need to look at the vendor documentation ... or alternatively its source code.</p>\n"}],"owner":{"account_id":24960547,"reputation":83,"user_id":18824568,"display_name":"Andrzej Jankowski"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74833183,"answer_count":1,"score":0,"last_activity_date":1671333138,"creation_date":1671269585,"question_id":74833058,"body_markdown":"I wondered how works method **getConnection()** at DataSource? I assume that DataSource calling **DriverManager.getConnection** every time when we call **DataSource.getConnection** with our properties that we setting in DataSource. Is that true?","title":"How does JDBC DataSource works?","body":"<p>I wondered how works method <strong>getConnection()</strong> at DataSource? I assume that DataSource calling <strong>DriverManager.getConnection</strong> every time when we call <strong>DataSource.getConnection</strong> with our properties that we setting in DataSource. Is that true?</p>\n"},{"tags":["java","spring","paketo"],"answers":[{"comments":[{"owner":{"account_id":2379900,"reputation":4402,"user_id":2194119,"accept_rate":76,"display_name":"Rad"},"score":0,"creation_date":1671350338,"post_id":74838898,"comment_id":132077774,"body_markdown":"Thanks for the answer and the links. I created the issue and added it to the roadmap. Let&#39;s see. One quick question, is there anyway to turn them off?","body":"Thanks for the answer and the links. I created the issue and added it to the roadmap. Let&#39;s see. One quick question, is there anyway to turn them off?"},{"owner":{"account_id":1731647,"reputation":14046,"user_id":1585136,"display_name":"Daniel Mikusa"},"score":1,"creation_date":1671650708,"post_id":74838898,"comment_id":132146835,"body_markdown":"No, not without removing from the code and rebuilding.","body":"No, not without removing from the code and rebuilding."}],"tags":[],"owner":{"account_id":1731647,"reputation":14046,"user_id":1585136,"display_name":"Daniel Mikusa"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671332975,"creation_date":1671332975,"answer_id":74838898,"question_id":74829832,"body_markdown":"No, sorry. The logging format in Paketo Buildpacks, and the helpers (technical name is exec.d processes) that get installed, are not configurable at this time.\r\n\r\nThere is some work that has been done in [libcnb](https://github.com/buildpacks/libcnb) which is the upstream library that the Java-related buildpacks use that would allow customized loggers. In theory, it should be possible to allow changing to a JSON-based logging format. That would require the v2.0 of the library which has yet to be released.\r\n\r\nI suggest adding this as a suggestion for the [2023 Roadmap](https://github.com/orgs/paketo-buildpacks/discussions/58). There&#39;s presently a discussion going on where the project is soliciting new features. You can also open an issue under the [Java buildpack](https://github.com/paketo-buildpacks/java/issues) for tracking.","title":"Paketo BuildPacks Java JSON Log for Spring Boot Application","body":"<p>No, sorry. The logging format in Paketo Buildpacks, and the helpers (technical name is exec.d processes) that get installed, are not configurable at this time.</p>\n<p>There is some work that has been done in <a href=\"https://github.com/buildpacks/libcnb\" rel=\"nofollow noreferrer\">libcnb</a> which is the upstream library that the Java-related buildpacks use that would allow customized loggers. In theory, it should be possible to allow changing to a JSON-based logging format. That would require the v2.0 of the library which has yet to be released.</p>\n<p>I suggest adding this as a suggestion for the <a href=\"https://github.com/orgs/paketo-buildpacks/discussions/58\" rel=\"nofollow noreferrer\">2023 Roadmap</a>. There's presently a discussion going on where the project is soliciting new features. You can also open an issue under the <a href=\"https://github.com/paketo-buildpacks/java/issues\" rel=\"nofollow noreferrer\">Java buildpack</a> for tracking.</p>\n"},{"comments":[{"owner":{"account_id":2379900,"reputation":4402,"user_id":2194119,"accept_rate":76,"display_name":"Rad"},"score":1,"creation_date":1671350282,"post_id":74838907,"comment_id":132077762,"body_markdown":"Thanks for the information. Yes, you&#39;re right. We already have fluent-bit configured to aggregate logs in our cluster but all of our application logs are in JSON format and customizing the fluent-bit configuration just for a few non-JSON lines is a bit suboptimal. I&#39;d rather turn them off if it&#39;s not possible to make them JSON.","body":"Thanks for the information. Yes, you&#39;re right. We already have fluent-bit configured to aggregate logs in our cluster but all of our application logs are in JSON format and customizing the fluent-bit configuration just for a few non-JSON lines is a bit suboptimal. I&#39;d rather turn them off if it&#39;s not possible to make them JSON."}],"tags":[],"owner":{"account_id":27286212,"reputation":11,"user_id":20805328,"display_name":"Ashish Mittal"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671333086,"creation_date":1671333086,"answer_id":74838907,"question_id":74829832,"body_markdown":"It is not possible to directly configure Paketo BuildPacks to print log messages in JSON format. Paketo BuildPacks are designed to be used with Cloud Foundry, which uses a specific logging format that is based on log lines written to STDOUT. This format is not compatible with JSON, and there is no built-in support for converting log messages to JSON within Paketo BuildPacks.\r\n\r\nOne potential solution to this problem would be to use a log aggregation and analysis tool that is capable of parsing and analyzing log messages written in the Cloud Foundry format. There are many different tools available that can do this, including Elastic Stack (formerly known as the ELK stack), Splunk, and Logz.io. These tools can parse and analyze log messages written in the Cloud Foundry format, and they can provide you with powerful analytics and visualization features to help you understand and optimize your application&#39;s performance.\r\n\r\nAnother potential solution would be to use a log forwarding tool to send your log messages to a log analysis tool or service that is capable of parsing and analyzing JSON logs. There are many different log forwarding tools available, including Logstash, Fluentd, and rsyslog. These tools can collect log messages from your application and send them to a destination of your choice, such as a log analysis tool or a centralized log management service.","title":"Paketo BuildPacks Java JSON Log for Spring Boot Application","body":"<p>It is not possible to directly configure Paketo BuildPacks to print log messages in JSON format. Paketo BuildPacks are designed to be used with Cloud Foundry, which uses a specific logging format that is based on log lines written to STDOUT. This format is not compatible with JSON, and there is no built-in support for converting log messages to JSON within Paketo BuildPacks.</p>\n<p>One potential solution to this problem would be to use a log aggregation and analysis tool that is capable of parsing and analyzing log messages written in the Cloud Foundry format. There are many different tools available that can do this, including Elastic Stack (formerly known as the ELK stack), Splunk, and Logz.io. These tools can parse and analyze log messages written in the Cloud Foundry format, and they can provide you with powerful analytics and visualization features to help you understand and optimize your application's performance.</p>\n<p>Another potential solution would be to use a log forwarding tool to send your log messages to a log analysis tool or service that is capable of parsing and analyzing JSON logs. There are many different log forwarding tools available, including Logstash, Fluentd, and rsyslog. These tools can collect log messages from your application and send them to a destination of your choice, such as a log analysis tool or a centralized log management service.</p>\n"}],"owner":{"account_id":2379900,"reputation":4402,"user_id":2194119,"accept_rate":76,"display_name":"Rad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74838898,"answer_count":2,"score":0,"last_activity_date":1671333086,"creation_date":1671225265,"question_id":74829832,"body_markdown":"We are using Paketo BuildPacks for our Spring Boot application. We configured all logs to be JSON written to STDOUT. The issue is that there&#39;s a few lines of logs by Paketo during startup:\r\n```\r\nSetting Active Processor Count to 2\r\nCalculated JVM Memory Configuration: -XX:MaxDirectMemorySize=10M -Xmx1643814K -XX:MaxMetaspaceSize=146137K -XX:ReservedCodeCacheSize=240M -Xss1M (Total Memory: 2G, Thread Count: 50, Loaded Class Count: 23387, Headroom: 0%)\r\nEnabling Java Native Memory Tracking\r\nAdding 124 container CA certificates to JVM truststore\r\nSpring Cloud Bindings Enabled\r\nPicked up JAVA_TOOL_OPTIONS: -Djava.security.properties=/layers/paketo-buildpacks_bellsoft-liberica/java-security-properties/java-security.properties -XX:+ExitOnOutOfMemoryError -XX:ActiveProcessorCount=2 -XX:MaxDirectMemorySize=10M -Xmx1643814K -XX:MaxMetaspaceSize=146137K -XX:ReservedCodeCacheSize=240M -Xss1M -XX:+UnlockDiagnosticVMOptions -XX:NativeMemoryTracking=summary -XX:+PrintNMTStatistics -Dorg.springframework.cloud.bindings.boot.enable=true\r\n```\r\nIs there any way to configure Paketo to print the above as JSON:\r\n```\r\n{ timestamp: 1234567890, &quot;app&quot;: &quot;my-service&quot;, &quot;message&quot;: &quot;Setting Active Processor Count to 2&quot; }\r\n```","title":"Paketo BuildPacks Java JSON Log for Spring Boot Application","body":"<p>We are using Paketo BuildPacks for our Spring Boot application. We configured all logs to be JSON written to STDOUT. The issue is that there's a few lines of logs by Paketo during startup:</p>\n<pre><code>Setting Active Processor Count to 2\nCalculated JVM Memory Configuration: -XX:MaxDirectMemorySize=10M -Xmx1643814K -XX:MaxMetaspaceSize=146137K -XX:ReservedCodeCacheSize=240M -Xss1M (Total Memory: 2G, Thread Count: 50, Loaded Class Count: 23387, Headroom: 0%)\nEnabling Java Native Memory Tracking\nAdding 124 container CA certificates to JVM truststore\nSpring Cloud Bindings Enabled\nPicked up JAVA_TOOL_OPTIONS: -Djava.security.properties=/layers/paketo-buildpacks_bellsoft-liberica/java-security-properties/java-security.properties -XX:+ExitOnOutOfMemoryError -XX:ActiveProcessorCount=2 -XX:MaxDirectMemorySize=10M -Xmx1643814K -XX:MaxMetaspaceSize=146137K -XX:ReservedCodeCacheSize=240M -Xss1M -XX:+UnlockDiagnosticVMOptions -XX:NativeMemoryTracking=summary -XX:+PrintNMTStatistics -Dorg.springframework.cloud.bindings.boot.enable=true\n</code></pre>\n<p>Is there any way to configure Paketo to print the above as JSON:</p>\n<pre><code>{ timestamp: 1234567890, &quot;app&quot;: &quot;my-service&quot;, &quot;message&quot;: &quot;Setting Active Processor Count to 2&quot; }\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":18173824,"reputation":1226,"user_id":13222971,"display_name":"Michael Kreutz"},"score":0,"creation_date":1589118609,"post_id":61713091,"comment_id":109160176,"body_markdown":"What is your intention of the qualifier `@Qualifier(&quot;fake demo&quot;) PersonDao personDao` ?","body":"What is your intention of the qualifier <code>@Qualifier(&quot;fake demo&quot;) PersonDao personDao</code> ?"},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":1,"creation_date":1589119129,"post_id":61713091,"comment_id":109160379,"body_markdown":"`PersonDao` is not a `JpaRepository` nor a spring bean, you have to define it to be both","body":"<code>PersonDao</code> is not a <code>JpaRepository</code> nor a spring bean, you have to define it to be both"},{"owner":{"account_id":14326900,"reputation":15587,"user_id":10348758,"display_name":"ESCoder"},"score":0,"creation_date":1589119297,"post_id":61713091,"comment_id":109160455,"body_markdown":"Okay @Lino, I got it, and my application started running successfully","body":"Okay @Lino, I got it, and my application started running successfully"}],"answers":[{"tags":[],"owner":{"account_id":18173824,"reputation":1226,"user_id":13222971,"display_name":"Michael Kreutz"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1589119611,"creation_date":1589118941,"answer_id":61713193,"question_id":61713091,"body_markdown":"By adding the qualifier `@Qualifier(&quot;fake demo&quot;)` to `public PersonService(@Qualifier(&quot;fake demo&quot;) PersonDao personDao)` a bean with that qualifier is searched to be injected in `PersonService` which does not exist. You can declare this qualifier as well on `PersonDao` or remove it. I would recommend removing it. In addition you should annotate `PersonDao` with `@Repository` and extend interface `org.springframework.data.repository.Repository`.","title":"Parameter 0 of constructor in &#39; &#39; required a bean of type &#39; &#39; that could not be found","body":"<p>By adding the qualifier <code>@Qualifier(\"fake demo\")</code> to <code>public PersonService(@Qualifier(\"fake demo\") PersonDao personDao)</code> a bean with that qualifier is searched to be injected in <code>PersonService</code> which does not exist. You can declare this qualifier as well on <code>PersonDao</code> or remove it. I would recommend removing it. In addition you should annotate <code>PersonDao</code> with <code>@Repository</code> and extend interface <code>org.springframework.data.repository.Repository</code>.</p>\n"},{"tags":[],"owner":{"account_id":24707741,"reputation":1,"user_id":18786010,"display_name":"Victor Honorato"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671330191,"creation_date":1671330191,"answer_id":74838759,"question_id":61713091,"body_markdown":"Make sure the model, controller, and repository folders are at the same level as the main SpringbootApplication.java file","title":"Parameter 0 of constructor in &#39; &#39; required a bean of type &#39; &#39; that could not be found","body":"<p>Make sure the model, controller, and repository folders are at the same level as the main SpringbootApplication.java file</p>\n"}],"owner":{"account_id":14326900,"reputation":15587,"user_id":10348758,"display_name":"ESCoder"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2713,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":61713193,"answer_count":2,"score":1,"last_activity_date":1671330191,"creation_date":1589118480,"question_id":61713091,"body_markdown":"I am creating a `spring boot application`, wherein any client can submit the request, these request can be `GET`, `PUT`, `POST`, `DELETE`. \r\n\r\nBut while creating this application, I am getting the following errors:\r\n\r\n\r\n\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Parameter 0 of constructor in com.idr.springboot.service.PersonService required a bean of type &#39;com.idr.springboot.dao.PersonDao&#39; that could not be found.\r\n    \r\n    The following candidates were found but could not be injected:\r\n    \t- User-defined bean\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider revisiting the entries above or defining a bean of type &#39;com.idr.springboot.dao.PersonDao&#39; in your configuration.\r\n\r\n\r\nThe structure of my application is:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**PersonDao.java**\r\n\r\n    package com.idr.springboot.dao;\r\n    \r\n    import com.idr.springboot.model.Person;\r\n    import java.util.UUID;\r\n\r\n\r\n    public interface PersonDao {\r\n    \r\n        int insertPerson(UUID id, Person person);\r\n    \r\n        default int insertPerson(Person person) {\r\n            UUID id = UUID.randomUUID();\r\n            return insertPerson(id, person);\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n**PersonService.java**\r\n\r\n    package com.idr.springboot.service;\r\n    \r\n    import com.idr.springboot.dao.PersonDao;\r\n    import com.idr.springboot.model.Person;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Qualifier;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    @Service\r\n    public class PersonService {\r\n    \r\n    \r\n        private final PersonDao personDao;\r\n    \r\n        @Autowired\r\n        public PersonService(@Qualifier(&quot;fake demo&quot;) PersonDao personDao) {\r\n            this.personDao = personDao;\r\n        }\r\n    \r\n    \r\n        public int addPerson(Person person) {\r\n            return personDao.insertPerson(person);\r\n        }\r\n    }\r\n\r\nI know that many questions with the following error, are already been asked, but still I am not able to solve this.\r\n\r\n    Parameter 0 of constructor in com.idr.springboot.service.PersonService required a bean of type &#39;com.idr.springboot.dao.PersonDao&#39; that could not be found.\r\n\r\nI have tried to annotate `PersonDao.java` with `@Service`, `@Repository`, `@Component`, but still I am getting the same error.\r\n\r\nI have even tried solutions from these SO answers :\r\n\r\n(1) https://stackoverflow.com/questions/52841620/parameter-0-of-constructor-in-required-a-bean-of-type-java-lang-string-that-co\r\n\r\n(2) https://stackoverflow.com/questions/52180328/spring-error-parameter-0-of-constructor-in-service-required-a-bean-of-type-con\r\n\r\n(3) https://stackoverflow.com/questions/50412208/parameter-0-of-constructor-in-spring-boot\r\n\r\nBut still I am not able to resolve my issue.\r\n\r\n  [1]: https://i.stack.imgur.com/zrWiZ.png\r\n\r\n\r\n","title":"Parameter 0 of constructor in &#39; &#39; required a bean of type &#39; &#39; that could not be found","body":"<p>I am creating a <code>spring boot application</code>, wherein any client can submit the request, these request can be <code>GET</code>, <code>PUT</code>, <code>POST</code>, <code>DELETE</code>.</p>\n<p>But while creating this application, I am getting the following errors:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of constructor in com.idr.springboot.service.PersonService required a bean of type 'com.idr.springboot.dao.PersonDao' that could not be found.\n\nThe following candidates were found but could not be injected:\n    - User-defined bean\n\n\nAction:\n\nConsider revisiting the entries above or defining a bean of type 'com.idr.springboot.dao.PersonDao' in your configuration.\n</code></pre>\n<p>The structure of my application is:</p>\n<p><a href=\"https://i.stack.imgur.com/zrWiZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zrWiZ.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>PersonDao.java</strong></p>\n<pre><code>package com.idr.springboot.dao;\n\nimport com.idr.springboot.model.Person;\nimport java.util.UUID;\n\n\npublic interface PersonDao {\n\n    int insertPerson(UUID id, Person person);\n\n    default int insertPerson(Person person) {\n        UUID id = UUID.randomUUID();\n        return insertPerson(id, person);\n    }\n\n\n}\n</code></pre>\n<p><strong>PersonService.java</strong></p>\n<pre><code>package com.idr.springboot.service;\n\nimport com.idr.springboot.dao.PersonDao;\nimport com.idr.springboot.model.Person;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class PersonService {\n\n\n    private final PersonDao personDao;\n\n    @Autowired\n    public PersonService(@Qualifier(&quot;fake demo&quot;) PersonDao personDao) {\n        this.personDao = personDao;\n    }\n\n\n    public int addPerson(Person person) {\n        return personDao.insertPerson(person);\n    }\n}\n</code></pre>\n<p>I know that many questions with the following error, are already been asked, but still I am not able to solve this.</p>\n<pre><code>Parameter 0 of constructor in com.idr.springboot.service.PersonService required a bean of type 'com.idr.springboot.dao.PersonDao' that could not be found.\n</code></pre>\n<p>I have tried to annotate <code>PersonDao.java</code> with <code>@Service</code>, <code>@Repository</code>, <code>@Component</code>, but still I am getting the same error.</p>\n<p>I have even tried solutions from these SO answers :</p>\n<p>(1) <a href=\"https://stackoverflow.com/questions/52841620/parameter-0-of-constructor-in-required-a-bean-of-type-java-lang-string-that-co\">Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found</a></p>\n<p>(2) <a href=\"https://stackoverflow.com/questions/52180328/spring-error-parameter-0-of-constructor-in-service-required-a-bean-of-type-con\">Spring - Error Parameter 0 of constructor in Service required a bean of type Configuration that could not be found</a></p>\n<p>(3) <a href=\"https://stackoverflow.com/questions/50412208/parameter-0-of-constructor-in-spring-boot\">Parameter 0 of constructor in ..... Spring Boot</a></p>\n<p>But still I am not able to resolve my issue.</p>\n"},{"tags":["java","multithreading","concurrency","hashmap","concurrenthashmap"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1586621967,"post_id":61159929,"comment_id":108196688,"body_markdown":"No, you don&#39;t need to worry about this. The class has been specifically designed to handle this.","body":"No, you don&#39;t need to worry about this. The class has been specifically designed to handle this."}],"answers":[{"comments":[{"owner":{"account_id":2791492,"reputation":73,"user_id":2401646,"display_name":"Animesh Gaitonde"},"score":0,"creation_date":1586631535,"post_id":61160140,"comment_id":108200486,"body_markdown":"Thanks for the help.","body":"Thanks for the help."}],"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1586622752,"creation_date":1586622752,"answer_id":61160140,"question_id":61159929,"body_markdown":"Rehashing only occurs when re-sizing the hash table.\r\n\r\nIf `get()` is called *during* the re-size operation, then the `put()` hasn&#39;t completed yet, so the `get()` won&#39;t see the new value, which is as it should be.\r\n\r\nRemember, the table bins are in an array, and arrays are fixed-size, so re-sizing means an entirely new hash table. That new hash table is not available to other threads until the re-size has completed. Until then, all other threads calling `get()` will see the old hash table.","title":"Retrieval during Rehashing in Concurrent HashMap","body":"<p>Rehashing only occurs when re-sizing the hash table.</p>\n\n<p>If <code>get()</code> is called <em>during</em> the re-size operation, then the <code>put()</code> hasn't completed yet, so the <code>get()</code> won't see the new value, which is as it should be.</p>\n\n<p>Remember, the table bins are in an array, and arrays are fixed-size, so re-sizing means an entirely new hash table. That new hash table is not available to other threads until the re-size has completed. Until then, all other threads calling <code>get()</code> will see the old hash table.</p>\n"}],"owner":{"account_id":2791492,"reputation":73,"user_id":2401646,"display_name":"Animesh Gaitonde"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1671328786,"creation_date":1586621792,"question_id":61159929,"body_markdown":"I have read about the implementation of ConcurrentHashMap which states:\r\n\r\n&gt; ConcurrentHashMap does not block when performing retrieval\r\n&gt; operations, and there is no locking for the usual operations.\r\n\r\nSo let&#39;s say we call `put()` method and `get()` method simultaneously: if `put()` performs rehashing don&#39;t we need to synchronize the `get()` method? The `get()` method will determine the bucket using `hash % N` (where N is size of the hashmap). Shouldn&#39;t the bucket calculation method of `get()` be impacted because of rehashing? ","title":"Retrieval during Rehashing in Concurrent HashMap","body":"<p>I have read about the implementation of ConcurrentHashMap which states:</p>\n<blockquote>\n<p>ConcurrentHashMap does not block when performing retrieval\noperations, and there is no locking for the usual operations.</p>\n</blockquote>\n<p>So let's say we call <code>put()</code> method and <code>get()</code> method simultaneously: if <code>put()</code> performs rehashing don't we need to synchronize the <code>get()</code> method? The <code>get()</code> method will determine the bucket using <code>hash % N</code> (where N is size of the hashmap). Shouldn't the bucket calculation method of <code>get()</code> be impacted because of rehashing?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1671304732,"post_id":74836782,"comment_id":132072515,"body_markdown":"`resList` has been declared as `List&lt;String&gt; resList=new ArrayList&lt;&gt;()` and you are returning `resList` i.e. the return type should be `List&lt;String&gt;`. You have declared the return type wrongly as `Map&lt;String,List&lt;String&gt;&gt;`.","body":"<code>resList</code> has been declared as <code>List&lt;String&gt; resList=new ArrayList&lt;&gt;()</code> and you are returning <code>resList</code> i.e. the return type should be <code>List&lt;String&gt;</code>. You have declared the return type wrongly as <code>Map&lt;String,List&lt;String&gt;&gt;</code>."},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1671305048,"post_id":74836782,"comment_id":132072594,"body_markdown":"Alternatively, the type of `resList` should be declared as `List&lt;List&lt;String&gt;&gt;`.","body":"Alternatively, the type of <code>resList</code> should be declared as <code>List&lt;List&lt;String&gt;&gt;</code>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1671333535,"post_id":74836782,"comment_id":132076234,"body_markdown":"I cannot reproduce exactly. Instead I get *Cannot resolve method &#39;get&#39; in &#39;Entry&#39;*.","body":"I cannot reproduce exactly. Instead I get <i>Cannot resolve method &#39;get&#39; in &#39;Entry&#39;</i>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1671333730,"post_id":74836782,"comment_id":132076252,"body_markdown":"What is the expected behaviour of your method? Something with anagrams, but more exactly?","body":"What is the expected behaviour of your method? Something with anagrams, but more exactly?"}],"answers":[{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1671333873,"post_id":74836880,"comment_id":132076266,"body_markdown":"It looks correct to me. A simpler (or at least shorter) version of the same would be `return new ArrayList&lt;&gt;(anagrams.values());`.","body":"It looks correct to me. A simpler (or at least shorter) version of the same would be <code>return new ArrayList&lt;&gt;(anagrams.values());</code>."}],"tags":[],"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671305121,"creation_date":1671305121,"answer_id":74836880,"question_id":74836782,"body_markdown":"You last code section should look something like this:\r\n\r\n\r\n```java\r\nList&lt;List&lt;String&gt;&gt; resList=new ArrayList&lt;&gt;();\r\n\r\nfor(Map.Entry&lt;String,List&lt;String&gt;&gt; _itr:anagrams.entrySet()){\r\n    resList.add(_itr.getValue());\r\n}\r\n\r\nreturn resList;\r\n```","title":"Line 24: error: incompatible types: List&lt;String&gt; cannot be converted to String","body":"<p>You last code section should look something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;List&lt;String&gt;&gt; resList=new ArrayList&lt;&gt;();\n\nfor(Map.Entry&lt;String,List&lt;String&gt;&gt; _itr:anagrams.entrySet()){\n    resList.add(_itr.getValue());\n}\n\nreturn resList;\n</code></pre>\n"}],"owner":{"account_id":25163082,"reputation":1,"user_id":19006988,"display_name":"Himanshu Kumar Singh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":401,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1671327009,"creation_date":1671304429,"question_id":74836782,"body_markdown":"```\r\nclass Solution {\r\n    public List&lt;List&lt;String&gt;&gt; groupAnagrams(String[] strs) {\r\n        \r\n        if(strs.length==0)\r\n           return new ArrayList&lt;&gt;();\r\n           \r\n        Map&lt;String,List&lt;String&gt;&gt; anagrams=new HashMap&lt;&gt;();\r\n        String anagram_key;\r\n        \r\n        for(String s:strs){\r\n            char[] arr=s.toCharArray();\r\n            Arrays.sort(arr);\r\n            anagram_key=String.valueOf(arr);\r\n\r\n            if(!anagrams.containsKey(anagram_key))\r\n                anagrams.put(anagram_key,new ArrayList&lt;&gt;());\r\n\r\n            anagrams.get(anagram_key).add(s);\r\n        }\r\n        \r\n        List&lt;String&gt; resList=new ArrayList&lt;&gt;();\r\n\r\n        for(Map.Entry&lt;String,List&lt;String&gt;&gt; _itr:anagrams.entrySet()){\r\n            resList.add(_itr.get());\r\n        }\r\n\r\n        return resList;\r\n    }\r\n}\r\n```\r\n\r\n\r\nWas Expecting List Of String Array.\r\nRunning fine on my Intellij Idea IDE but not on leet code\r\n\r\nThe Error shown on leetcode is as follows:\r\nPlease Review + Any Effective Source To Learn More About Errors.\r\n\r\n\r\n```\r\nLine 24: error: incompatible types: List&lt;String&gt; cannot be converted to String\r\n    resList.add(_itr.getValue());\r\n                             ^\r\nLine 27: error: incompatible types: List&lt;String&gt; cannot be converted to List&lt;List&lt;String&gt;&gt;\r\nreturn resList;\r\n       ^\r\n2 errors\r\n```\r\n","title":"Line 24: error: incompatible types: List&lt;String&gt; cannot be converted to String","body":"<pre><code>class Solution {\n    public List&lt;List&lt;String&gt;&gt; groupAnagrams(String[] strs) {\n        \n        if(strs.length==0)\n           return new ArrayList&lt;&gt;();\n           \n        Map&lt;String,List&lt;String&gt;&gt; anagrams=new HashMap&lt;&gt;();\n        String anagram_key;\n        \n        for(String s:strs){\n            char[] arr=s.toCharArray();\n            Arrays.sort(arr);\n            anagram_key=String.valueOf(arr);\n\n            if(!anagrams.containsKey(anagram_key))\n                anagrams.put(anagram_key,new ArrayList&lt;&gt;());\n\n            anagrams.get(anagram_key).add(s);\n        }\n        \n        List&lt;String&gt; resList=new ArrayList&lt;&gt;();\n\n        for(Map.Entry&lt;String,List&lt;String&gt;&gt; _itr:anagrams.entrySet()){\n            resList.add(_itr.get());\n        }\n\n        return resList;\n    }\n}\n</code></pre>\n<p>Was Expecting List Of String Array.\nRunning fine on my Intellij Idea IDE but not on leet code</p>\n<p>The Error shown on leetcode is as follows:\nPlease Review + Any Effective Source To Learn More About Errors.</p>\n<pre><code>Line 24: error: incompatible types: List&lt;String&gt; cannot be converted to String\n    resList.add(_itr.getValue());\n                             ^\nLine 27: error: incompatible types: List&lt;String&gt; cannot be converted to List&lt;List&lt;String&gt;&gt;\nreturn resList;\n       ^\n2 errors\n</code></pre>\n"},{"tags":["java","lambda","kotlin"],"answers":[{"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1463034910,"creation_date":1425918533,"answer_id":28947061,"question_id":28946145,"body_markdown":"I&#39;m not certain about the Kotlin syntax, but you can certainly trim it down by returning the boolean expression directly, eliminating the `if`:\r\n\r\n    val files = File(SECTIONS_DIR).listFiles(object : FilenameFilter {\r\n                override fun accept(dir: File?, filename: String): Boolean {\r\n                    return filename.matches(regex)\r\n                }\r\n            })\r\n\r\nI believe the Kotlin lambda syntax would look like this:\r\n\r\n    val files = File(SECTIONS_DIR).listFiles { dir, filename -&gt; filename.matches(regex) }\r\n\r\nEdit: removed unnecessary parentheses based on feedback from Sergey Mashkov. Thanks!","title":"How to use Lambda expression to make Java method calls less verbose in Kotlin?","body":"<p>I'm not certain about the Kotlin syntax, but you can certainly trim it down by returning the boolean expression directly, eliminating the <code>if</code>:</p>\n\n<pre><code>val files = File(SECTIONS_DIR).listFiles(object : FilenameFilter {\n            override fun accept(dir: File?, filename: String): Boolean {\n                return filename.matches(regex)\n            }\n        })\n</code></pre>\n\n<p>I believe the Kotlin lambda syntax would look like this:</p>\n\n<pre><code>val files = File(SECTIONS_DIR).listFiles { dir, filename -&gt; filename.matches(regex) }\n</code></pre>\n\n<p>Edit: removed unnecessary parentheses based on feedback from Sergey Mashkov. Thanks!</p>\n"},{"tags":[],"owner":{"account_id":4528511,"reputation":85092,"user_id":3679676,"accept_rate":100,"display_name":"Jayson Minard"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1451701782,"creation_date":1451701782,"answer_id":34562031,"question_id":28946145,"body_markdown":"To clarify the shortest form:\r\n\r\n    val files = File(SECTIONS_DIR).listFiles { dir, filename -&gt; filename.matches(regex) }","title":"How to use Lambda expression to make Java method calls less verbose in Kotlin?","body":"<p>To clarify the shortest form:</p>\n\n<pre><code>val files = File(SECTIONS_DIR).listFiles { dir, filename -&gt; filename.matches(regex) }\n</code></pre>\n"}],"owner":{"account_id":478889,"reputation":12327,"user_id":891242,"accept_rate":58,"display_name":"ZakTaccardi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":911,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":28947061,"answer_count":2,"score":4,"last_activity_date":1671326825,"creation_date":1425915954,"question_id":28946145,"body_markdown":"Can the below function be less verbose with a Lambda expression? How can I trim it down? It is calling the `FilenameFilter.accept()` Java method.\r\n\r\n    val files = File(SECTIONS_DIR).listFiles(object : FilenameFilter {\r\n                override fun accept(dir: File?, filename: String): Boolean {\r\n                    if (filename.matches(regex))\r\n                        return true\r\n                    else\r\n                        return false\r\n                }\r\n            })","title":"How to use Lambda expression to make Java method calls less verbose in Kotlin?","body":"<p>Can the below function be less verbose with a Lambda expression? How can I trim it down? It is calling the <code>FilenameFilter.accept()</code> Java method.</p>\n\n<pre><code>val files = File(SECTIONS_DIR).listFiles(object : FilenameFilter {\n            override fun accept(dir: File?, filename: String): Boolean {\n                if (filename.matches(regex))\n                    return true\n                else\n                    return false\n            }\n        })\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","auth0"],"answers":[{"comments":[{"owner":{"account_id":27284087,"reputation":11,"user_id":20803525,"display_name":"yolo_do"},"score":0,"creation_date":1671309773,"post_id":74836959,"comment_id":132073569,"body_markdown":"Hi, thanks for the reply. Do you know what audience means in Auth0? I&#39;m not exactly sure how to use it when deploying spring locally","body":"Hi, thanks for the reply. Do you know what audience means in Auth0? I&#39;m not exactly sure how to use it when deploying spring locally"},{"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"score":0,"creation_date":1671310626,"post_id":74836959,"comment_id":132073697,"body_markdown":"&quot;The audience (presented as the aud claim in the access token) defines the intended recipients of the token.&quot; See: https://community.auth0.com/t/what-is-the-audience/71414\n\nSo your app can check if the token was generated for your api. This usefull if the token may contain different claims for different APIs (resource servers)\n\nAll this is defined in the JWT specification https://datatracker.ietf.org/doc/html/rfc9068","body":"&quot;The audience (presented as the aud claim in the access token) defines the intended recipients of the token.&quot; See: <a href=\"https://community.auth0.com/t/what-is-the-audience/71414\" rel=\"nofollow noreferrer\">community.auth0.com/t/what-is-the-audience/71414</a>  So your app can check if the token was generated for your api. This usefull if the token may contain different claims for different APIs (resource servers)  All this is defined in the JWT specification <a href=\"https://datatracker.ietf.org/doc/html/rfc9068\" rel=\"nofollow noreferrer\">datatracker.ietf.org/doc/html/rfc9068</a>"}],"tags":[],"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671305811,"creation_date":1671305811,"answer_id":74836959,"question_id":74836906,"body_markdown":"Setup Sprint security for your application. There is even an example form Auth0 on hwoto do this: https://auth0.com/docs/quickstart/backend/java-spring-security5/interactive\r\n\r\nOnce you have spring security running you can annotate your methods accordingly. e.g. `@PreAuthorize(&quot;isAuthenticated()&quot;)`\r\n\r\nIf the authorization check fails spring will respond with the error code `403` automatically.","title":"Authenticating Spring Boot APIs","body":"<p>Setup Sprint security for your application. There is even an example form Auth0 on hwoto do this: <a href=\"https://auth0.com/docs/quickstart/backend/java-spring-security5/interactive\" rel=\"nofollow noreferrer\">https://auth0.com/docs/quickstart/backend/java-spring-security5/interactive</a></p>\n<p>Once you have spring security running you can annotate your methods accordingly. e.g. <code>@PreAuthorize(&quot;isAuthenticated()&quot;)</code></p>\n<p>If the authorization check fails spring will respond with the error code <code>403</code> automatically.</p>\n"},{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671326597,"creation_date":1671323522,"answer_id":74838401,"question_id":74836906,"body_markdown":"The audience of an access token is the resource-server the token was emitted for. In your case, probably `http://localhost:8080`. This will change in production. This audience should be requested by clients when getting an access-token.\r\n\r\nResource-servers should be configured with `spring-boot-starter-oauth2-resource-server`. Spring default HTTP status for unauthorized request is 302 (redirect to login), but it is best practice for resource-servers to return 401, and it&#39;s an easy task:\r\n```java\r\nhttp.exceptionHandling().authenticationEntryPoint((request, response, authException) -&gt; {\r\n  response.addHeader(HttpHeaders.WWW_AUTHENTICATE, &quot;Basic realm=\\&quot;Restricted Content\\&quot;&quot;);\r\n  response.sendError(HttpStatus.UNAUTHORIZED.value(), HttpStatus.UNAUTHORIZED.getReasonPhrase());\r\n});\r\n```\r\nFor more details about resource-server configuration, you can have a look at [this tutorials][1] I wrote. It cover authorities mapping and role based access-control. It is designed for Keycloak, but switching to any other OIDC authorization-server (including Auth0) is mostly a matter of editing properties (except for the 1st tutorial where authorities converter implementation must be slightly modified to read the claim(s) you configured in Auth0 to put groups / roles). \r\n\r\nHow clients get an access token depends on the use-case: if acting on behalf of a user, `authorization-code` flow (with PKCE for &quot;rich&quot; clients) should be used, but we client is a acting in its own name (without the context of a specific authenticated user), then `client-credentials` should be used. For Spring clients (Thymeleaf UI as well as REST clients like `WebClient`, use `spring-boot-starter-oauth2-client`.\r\n\r\nI strongly recommend you use JUnit instead of a client UI to test your app. Refer to the tutorials I already linked if you don&#39;t know how to mock identities and HTTP requests. \r\n\r\nIf you still want to build a client with UI to query your API, you might save quite some time by exposing OpenAPI spec (see springdoc-openapi for that) and generate a client library with openapi-generator. \r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials","title":"Authenticating Spring Boot APIs","body":"<p>The audience of an access token is the resource-server the token was emitted for. In your case, probably <code>http://localhost:8080</code>. This will change in production. This audience should be requested by clients when getting an access-token.</p>\n<p>Resource-servers should be configured with <code>spring-boot-starter-oauth2-resource-server</code>. Spring default HTTP status for unauthorized request is 302 (redirect to login), but it is best practice for resource-servers to return 401, and it's an easy task:</p>\n<pre class=\"lang-java prettyprint-override\"><code>http.exceptionHandling().authenticationEntryPoint((request, response, authException) -&gt; {\n  response.addHeader(HttpHeaders.WWW_AUTHENTICATE, &quot;Basic realm=\\&quot;Restricted Content\\&quot;&quot;);\n  response.sendError(HttpStatus.UNAUTHORIZED.value(), HttpStatus.UNAUTHORIZED.getReasonPhrase());\n});\n</code></pre>\n<p>For more details about resource-server configuration, you can have a look at <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\" rel=\"nofollow noreferrer\">this tutorials</a> I wrote. It cover authorities mapping and role based access-control. It is designed for Keycloak, but switching to any other OIDC authorization-server (including Auth0) is mostly a matter of editing properties (except for the 1st tutorial where authorities converter implementation must be slightly modified to read the claim(s) you configured in Auth0 to put groups / roles).</p>\n<p>How clients get an access token depends on the use-case: if acting on behalf of a user, <code>authorization-code</code> flow (with PKCE for &quot;rich&quot; clients) should be used, but we client is a acting in its own name (without the context of a specific authenticated user), then <code>client-credentials</code> should be used. For Spring clients (Thymeleaf UI as well as REST clients like <code>WebClient</code>, use <code>spring-boot-starter-oauth2-client</code>.</p>\n<p>I strongly recommend you use JUnit instead of a client UI to test your app. Refer to the tutorials I already linked if you don't know how to mock identities and HTTP requests.</p>\n<p>If you still want to build a client with UI to query your API, you might save quite some time by exposing OpenAPI spec (see springdoc-openapi for that) and generate a client library with openapi-generator.</p>\n"}],"owner":{"account_id":27284087,"reputation":11,"user_id":20803525,"display_name":"yolo_do"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1671326597,"creation_date":1671305342,"question_id":74836906,"body_markdown":"Background: \r\n\r\nI have some APIs routes (~15 or so) that I want to authenticate. Right now, I can run the spring boot server locally (`mvn spring boot run`) and call all of the APIs. I can also deploy to Heroku and call the APIs from the Heroku cloud platform. This is great!\r\n\r\nHere are the problem:\r\n\r\n1. I need to provide authentication for the APIs. The idea is that when running the spring boot server, I would need to pass in a token in order for the API call to work. If not, then I should get some unauthorized error(401 or 403 I think). Additionally, I would need to be able to seperate these APIs by roles (user, admin, etc).\r\n\r\n2. Ideally, I would want to build a test client(perhaps a webpage) that could call these APIs. I&#39;m not exactly sure how authentication would work here. \r\n\r\n\r\n\r\n\r\nI&#39;m a bit confused because I tried working with Auth0 but that only seems to apply for 1 API? Auth0 allows for me to generate tokens but I&#39;m not exactly sure how to integrate it with SpringBoot. It asks for an audience but I&#39;m not sure what that should(especially since I&#39;m running the Spring Boot server locally).  \r\n\r\nThe next thing I was going to look at was Spring Security. ","title":"Authenticating Spring Boot APIs","body":"<p>Background:</p>\n<p>I have some APIs routes (~15 or so) that I want to authenticate. Right now, I can run the spring boot server locally (<code>mvn spring boot run</code>) and call all of the APIs. I can also deploy to Heroku and call the APIs from the Heroku cloud platform. This is great!</p>\n<p>Here are the problem:</p>\n<ol>\n<li><p>I need to provide authentication for the APIs. The idea is that when running the spring boot server, I would need to pass in a token in order for the API call to work. If not, then I should get some unauthorized error(401 or 403 I think). Additionally, I would need to be able to seperate these APIs by roles (user, admin, etc).</p>\n</li>\n<li><p>Ideally, I would want to build a test client(perhaps a webpage) that could call these APIs. I'm not exactly sure how authentication would work here.</p>\n</li>\n</ol>\n<p>I'm a bit confused because I tried working with Auth0 but that only seems to apply for 1 API? Auth0 allows for me to generate tokens but I'm not exactly sure how to integrate it with SpringBoot. It asks for an audience but I'm not sure what that should(especially since I'm running the Spring Boot server locally).</p>\n<p>The next thing I was going to look at was Spring Security.</p>\n"},{"tags":["java","http2","java-10","java-11","java-http-client"],"answers":[{"comments":[{"owner":{"account_id":20298,"reputation":26693,"user_id":48382,"accept_rate":61,"display_name":"Krzysztof Krasoń"},"score":4,"creation_date":1536849136,"post_id":52315693,"comment_id":91579289,"body_markdown":"Yes, but e.g. Apache HttpClient allows customization of that header since some time: https://stackoverflow.com/questions/6045911/how-can-i-override-the-host-header-in-the-request-when-using-apache-commons-ht similarly curl allows customization of Host header (it takes precedence over the URL). So it is a reasonable expectation have same functionality in this http client.","body":"Yes, but e.g. Apache HttpClient allows customization of that header since some time: <a href=\"https://stackoverflow.com/questions/6045911/how-can-i-override-the-host-header-in-the-request-when-using-apache-commons-ht\" title=\"how can i override the host header in the request when using apache commons ht\">stackoverflow.com/questions/6045911/&hellip;</a> similarly curl allows customization of Host header (it takes precedence over the URL). So it is a reasonable expectation have same functionality in this http client."},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":1,"creation_date":1536864381,"post_id":52315693,"comment_id":91587348,"body_markdown":"@KrzysztofKrasoń Though I am not in the position to define the reason why the implementation of the other clients differs. Yet to what I could further dig into is that [RFC2616](https://tools.ietf.org/html/rfc2616) specifies the same and the answer to [what is the http host header](https://stackoverflow.com/questions/43156023/what-is-http-host-header) also emphasizes on the note that the URI should be such that the host and the port should be read from it.","body":"@KrzysztofKrasoń Though I am not in the position to define the reason why the implementation of the other clients differs. Yet to what I could further dig into is that <a href=\"https://tools.ietf.org/html/rfc2616\" rel=\"nofollow noreferrer\">RFC2616</a> specifies the same and the answer to <a href=\"https://stackoverflow.com/questions/43156023/what-is-http-host-header\">what is the http host header</a> also emphasizes on the note that the URI should be such that the host and the port should be read from it."},{"owner":{"account_id":20298,"reputation":26693,"user_id":48382,"accept_rate":61,"display_name":"Krzysztof Krasoń"},"score":0,"creation_date":1536912052,"post_id":52315693,"comment_id":91601840,"body_markdown":"While you are correct according to the RFC, but almost all web clients allow some level of customization - which is very convenient thing for developers, e.g. I would expect to be able to override all headers that are produced by given http client - this allows easy debugging of the applications being developed.","body":"While you are correct according to the RFC, but almost all web clients allow some level of customization - which is very convenient thing for developers, e.g. I would expect to be able to override all headers that are produced by given http client - this allows easy debugging of the applications being developed."},{"owner":{"account_id":20298,"reputation":26693,"user_id":48382,"accept_rate":61,"display_name":"Krzysztof Krasoń"},"score":1,"creation_date":1537445058,"post_id":52315693,"comment_id":91792211,"body_markdown":"It is the correct answer for java 11, let&#39;s hope it will change in some next release.","body":"It is the correct answer for java 11, let&#39;s hope it will change in some next release."}],"tags":[],"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1546187227,"creation_date":1536848216,"answer_id":52315693,"question_id":52315472,"body_markdown":"The behavior from the Java11 client code seems correct. The [Host](https://www.rfc-editor.org/rfc/rfc7230#section-5.4) section elaborates on the details. By the way, from the documentation of `HttpRequest` builder `header(String name, String value)` :\r\n\r\n    *    @throws IllegalArgumentException if the header name or value is not\r\n    *    valid, see &lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc7230#section-3.2&quot;&gt;\r\n    *    RFC 7230 section-3.2&lt;/a&gt;, or the header name or value is restricted\r\n    *    by the implementation.\r\n\r\n***Update***: See this, for answer [pertaining to JDK/12](https://stackoverflow.com/a/53616986/1746118).","title":"How to customise &quot;host&quot; header in Java http client","body":"<p>The behavior from the Java11 client code seems correct. The <a href=\"https://www.rfc-editor.org/rfc/rfc7230#section-5.4\" rel=\"nofollow noreferrer\">Host</a> section elaborates on the details. By the way, from the documentation of <code>HttpRequest</code> builder <code>header(String name, String value)</code> :</p>\n<pre><code>*    @throws IllegalArgumentException if the header name or value is not\n*    valid, see &lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc7230#section-3.2&quot;&gt;\n*    RFC 7230 section-3.2&lt;/a&gt;, or the header name or value is restricted\n*    by the implementation.\n</code></pre>\n<p><em><strong>Update</strong></em>: See this, for answer <a href=\"https://stackoverflow.com/a/53616986/1746118\">pertaining to JDK/12</a>.</p>\n"},{"tags":[],"owner":{"account_id":20298,"reputation":26693,"user_id":48382,"accept_rate":61,"display_name":"Krzysztof Krasoń"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1671326362,"creation_date":1543939565,"answer_id":53616986,"question_id":52315472,"body_markdown":"As of Java 12 (EA build 22) it has been solved by additional property `jdk.httpclient.allowRestrictedHeaders` (see https://bugs.openjdk.java.net/browse/JDK-8213696).\r\n\r\nSo now one can override `Host` (or any other restricted header) by executing the code with:\r\n```\r\njava -Djdk.httpclient.allowRestrictedHeaders=host ...\r\n```\r\n\r\nAllowing multiple restricted headers are as follows:\r\n```\r\njava -Djdk.httpclient.allowRestrictedHeaders=connection,content-length,host\r\n```\r\nand you can set it up in the eclipse menu &gt; Run &gt; Run Cunfigurations\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hFrcd.jpg","title":"How to customise &quot;host&quot; header in Java http client","body":"<p>As of Java 12 (EA build 22) it has been solved by additional property <code>jdk.httpclient.allowRestrictedHeaders</code> (see <a href=\"https://bugs.openjdk.java.net/browse/JDK-8213696\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8213696</a>).</p>\n<p>So now one can override <code>Host</code> (or any other restricted header) by executing the code with:</p>\n<pre><code>java -Djdk.httpclient.allowRestrictedHeaders=host ...\n</code></pre>\n<p>Allowing multiple restricted headers are as follows:</p>\n<pre><code>java -Djdk.httpclient.allowRestrictedHeaders=connection,content-length,host\n</code></pre>\n<p>and you can set it up in the eclipse menu &gt; Run &gt; Run Cunfigurations\n<a href=\"https://i.stack.imgur.com/hFrcd.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hFrcd.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":20298,"reputation":26693,"user_id":48382,"accept_rate":61,"display_name":"Krzysztof Krasoń"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16246,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":53616986,"answer_count":2,"score":17,"last_activity_date":1671326362,"creation_date":1536847437,"question_id":52315472,"body_markdown":"Here&#39;s my code:\r\n\r\n    HttpClient client = HttpClient.newHttpClient();\r\n    HttpRequest request = HttpRequest.newBuilder()\r\n        .uri(URI.create(&quot;http://127.0.0.1:8081/&quot;))\r\n        .header(&quot;Host&quot;, &quot;test.example.com&quot;)\r\n        .build();\r\n    client.send(request, HttpResponse.BodyHandlers.ofString());\r\n\r\n\r\nAs a result I see that the above code sends:\r\n\r\n    GET / HTTP/1.1\r\n    Connection: Upgrade, HTTP2-Settings\r\n    Content-Length: 0\r\n    Host: 127.0.0.1:8081\r\n    HTTP2-Settings: AAEAAEAAAAIAAAABAAMAAABkAAQBAAAAAAUAAEAA\r\n    Upgrade: h2c\r\n    User-Agent: Java-http-client/10\r\n    Host: test.example.com\r\n\r\nAs you can see it sends two `Host` headers (the one from URI and the one I specified), but I would like it to send the `Host` header that I specified, not the one from the URI.\r\nIs it possible with this client?\r\n\r\n\r\nEDIT: In Java 11, it gets even worse (you need to change the client.send line to: `client.send(request, HttpResponse.BodyHandlers.ofString());`):\r\n\r\n    java.lang.IllegalArgumentException: restricted header name: &quot;Host&quot;\r\n\r\nHow can I customize that header (needed for testing of virtual hosts)?\r\n\r\nI also tried the `setHeader` and get exactly the same problem (either double `Host` headers, or the exception).\r\n\r\nEDIT: I reported a [JDK bug][1].\r\n\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-8210740","title":"How to customise &quot;host&quot; header in Java http client","body":"<p>Here's my code:</p>\n\n<pre><code>HttpClient client = HttpClient.newHttpClient();\nHttpRequest request = HttpRequest.newBuilder()\n    .uri(URI.create(\"http://127.0.0.1:8081/\"))\n    .header(\"Host\", \"test.example.com\")\n    .build();\nclient.send(request, HttpResponse.BodyHandlers.ofString());\n</code></pre>\n\n<p>As a result I see that the above code sends:</p>\n\n<pre><code>GET / HTTP/1.1\nConnection: Upgrade, HTTP2-Settings\nContent-Length: 0\nHost: 127.0.0.1:8081\nHTTP2-Settings: AAEAAEAAAAIAAAABAAMAAABkAAQBAAAAAAUAAEAA\nUpgrade: h2c\nUser-Agent: Java-http-client/10\nHost: test.example.com\n</code></pre>\n\n<p>As you can see it sends two <code>Host</code> headers (the one from URI and the one I specified), but I would like it to send the <code>Host</code> header that I specified, not the one from the URI.\nIs it possible with this client?</p>\n\n<p>EDIT: In Java 11, it gets even worse (you need to change the client.send line to: <code>client.send(request, HttpResponse.BodyHandlers.ofString());</code>):</p>\n\n<pre><code>java.lang.IllegalArgumentException: restricted header name: \"Host\"\n</code></pre>\n\n<p>How can I customize that header (needed for testing of virtual hosts)?</p>\n\n<p>I also tried the <code>setHeader</code> and get exactly the same problem (either double <code>Host</code> headers, or the exception).</p>\n\n<p>EDIT: I reported a <a href=\"https://bugs.openjdk.java.net/browse/JDK-8210740\" rel=\"noreferrer\">JDK bug</a>.</p>\n"},{"tags":["java","regex"],"answers":[{"comments":[{"owner":{"account_id":19553412,"reputation":185,"user_id":14308420,"display_name":"leonaugust"},"score":1,"creation_date":1670924554,"post_id":74782117,"comment_id":131980056,"body_markdown":"Great thanks. First approach also matches class names and ips.\nBut the second regex works well","body":"Great thanks. First approach also matches class names and ips. But the second regex works well"}],"tags":[],"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670921304,"creation_date":1670921304,"answer_id":74782117,"question_id":74781728,"body_markdown":"If you want to exclude `[traceId=` you might write the pattern as\r\n\r\n    (?&lt;!\\[traceId=)\\b[\\w-]+\\.[\\w-]+\\.[\\w-]+\\b\r\n\r\n[Regex demo](https://regex101.com/r/YHVrO3/1)\r\n\r\nOr if you want to match a `9` before the first dot and assert one of the chars listed in the character class or the end of the string at the end of the pattern:\r\n\r\n    (?&lt;!\\[traceId=)\\b[\\w-]*9\\.[\\w-]+\\.[\\w-]+(?=[\\s\\&quot;\\\\,)\\]]|$)\r\n\r\n[Regex demo](https://regex101.com/r/rExDdx/1)","title":"JWT ES256 regex, not able to add exclusions","body":"<p>If you want to exclude <code>[traceId=</code> you might write the pattern as</p>\n<pre><code>(?&lt;!\\[traceId=)\\b[\\w-]+\\.[\\w-]+\\.[\\w-]+\\b\n</code></pre>\n<p><a href=\"https://regex101.com/r/YHVrO3/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n<p>Or if you want to match a <code>9</code> before the first dot and assert one of the chars listed in the character class or the end of the string at the end of the pattern:</p>\n<pre><code>(?&lt;!\\[traceId=)\\b[\\w-]*9\\.[\\w-]+\\.[\\w-]+(?=[\\s\\&quot;\\\\,)\\]]|$)\n</code></pre>\n<p><a href=\"https://regex101.com/r/rExDdx/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n"}],"owner":{"account_id":19553412,"reputation":185,"user_id":14308420,"display_name":"leonaugust"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74782117,"answer_count":1,"score":0,"last_activity_date":1671324972,"creation_date":1670919023,"question_id":74781728,"body_markdown":"I created a pattern to match JWT(**ES256**).\r\n\r\n    (([a-zA-Z]+([0-9]+[a-zA-Z]+)+)9).*?([a-zA-Z]+([0-9]+[a-zA-Z]+)+).(.*?)(?=[\\s\\&quot;\\\\,\\)\\]])\r\n\r\nWhich works and finds jwt tokens in the logs for further masking.\r\nBut it also has a lot of false positives and matches content it shouldn&#39;t match.\r\n\r\n&gt; Example string:\r\n&gt; \r\n&gt; (traceId content was masked, I changed it to jwt to reproduce issue)\r\n\r\n    [traceId=eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJ0ZXN0Iiwic3ViIjoiam9obiIsImF1ZCI6ImNvbm5vciIsImlhdCI6NjY2NjY2NjY5OSwiZXhwIjo2NjcwNTc0NTk5fQ.fh3NKfJMO3QNYrC6Lq6TG5qdJ8kgQmubfJh5bqTengiVB8q2MdfjNwVajZNMpaPKOCSoReVuRcVyJoFQwT16-w] DEBUG something\r\n\r\nI want to add exclusions with the negative lookbehind, to match only if it doesn&#39;t contain certain words like ***traceId*** or other params. But it&#39;s not working for this pattern.\r\n\r\n    (?&lt;=(?&lt;!traceId))(([a-zA-Z]+([0-9]+[a-zA-Z]+)+)9).*?([a-zA-Z]+([0-9]+[a-zA-Z]+)+).(.*?)(?=[\\s\\&quot;\\\\,\\)\\]])\r\n\r\nSidenote: the matches aren&#39;t at the beginning all the time as with *traceId* case.\r\nThey can be in any part of the string.\r\n\r\n---\r\nJava 11","title":"JWT ES256 regex, not able to add exclusions","body":"<p>I created a pattern to match JWT(<strong>ES256</strong>).</p>\n<pre><code>(([a-zA-Z]+([0-9]+[a-zA-Z]+)+)9).*?([a-zA-Z]+([0-9]+[a-zA-Z]+)+).(.*?)(?=[\\s\\&quot;\\\\,\\)\\]])\n</code></pre>\n<p>Which works and finds jwt tokens in the logs for further masking.\nBut it also has a lot of false positives and matches content it shouldn't match.</p>\n<blockquote>\n<p>Example string:</p>\n<p>(traceId content was masked, I changed it to jwt to reproduce issue)</p>\n</blockquote>\n<pre><code>[traceId=eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJ0ZXN0Iiwic3ViIjoiam9obiIsImF1ZCI6ImNvbm5vciIsImlhdCI6NjY2NjY2NjY5OSwiZXhwIjo2NjcwNTc0NTk5fQ.fh3NKfJMO3QNYrC6Lq6TG5qdJ8kgQmubfJh5bqTengiVB8q2MdfjNwVajZNMpaPKOCSoReVuRcVyJoFQwT16-w] DEBUG something\n</code></pre>\n<p>I want to add exclusions with the negative lookbehind, to match only if it doesn't contain certain words like <em><strong>traceId</strong></em> or other params. But it's not working for this pattern.</p>\n<pre><code>(?&lt;=(?&lt;!traceId))(([a-zA-Z]+([0-9]+[a-zA-Z]+)+)9).*?([a-zA-Z]+([0-9]+[a-zA-Z]+)+).(.*?)(?=[\\s\\&quot;\\\\,\\)\\]])\n</code></pre>\n<p>Sidenote: the matches aren't at the beginning all the time as with <em>traceId</em> case.\nThey can be in any part of the string.</p>\n<hr />\n<p>Java 11</p>\n"},{"tags":["java","php"],"comments":[{"owner":{"account_id":196869,"reputation":402550,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":0,"creation_date":1671247139,"post_id":74831550,"comment_id":132064306,"body_markdown":"OT: The curly-brace syntax (`$text{$i}`) has been deprecated since PHP version 7.4.0, and removed altogether in version 8.0.0. Use square-brace syntax instead (`$text[$i]`).","body":"OT: The curly-brace syntax (<code>$text{$i}</code>) has been deprecated since PHP version 7.4.0, and removed altogether in version 8.0.0. Use square-brace syntax instead (<code>$text[$i]</code>)."},{"owner":{"account_id":196869,"reputation":402550,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":1,"creation_date":1671247194,"post_id":74831550,"comment_id":132064311,"body_markdown":"Regarding your problem, do PHP really have a &quot;character&quot; type, or is it just a kind of string? And if it has character then it clearly isn&#39;t a generic integer type as in Java. You need to convert the character to its corresponding encoded integer value (and back to a character).","body":"Regarding your problem, do PHP really have a &quot;character&quot; type, or is it just a kind of string? And if it has character then it clearly isn&#39;t a generic integer type as in Java. You need to convert the character to its corresponding encoded integer value (and back to a character)."}],"answers":[{"tags":[],"owner":{"account_id":13217898,"reputation":64,"user_id":9545766,"display_name":"Umut S&#252;rmeli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671324257,"creation_date":1671324257,"answer_id":74838431,"question_id":74831550,"body_markdown":"    &lt;?php\r\n    $key = 6;\r\n        $text = &#39;Sample Text&#39;;\r\n        for($i = 0;$i &lt; strlen($text);$i++){\r\n            $char = $text{$i};\r\n            $charcode = ord($char);\r\n            $charcode -=$key;\r\n            //echo $charcode.&#39;-&#39;;\r\n            if($charcode&lt;0) {$charcode+=256;}\r\n            $charcode%=256;\r\n            $char = chr($charcode);\r\n            echo $char;\r\n        }\r\n\r\n\r\n\r\n","title":"A non-numeric value encountered","body":"<pre><code>&lt;?php\n$key = 6;\n    $text = 'Sample Text';\n    for($i = 0;$i &lt; strlen($text);$i++){\n        $char = $text{$i};\n        $charcode = ord($char);\n        $charcode -=$key;\n        //echo $charcode.'-';\n        if($charcode&lt;0) {$charcode+=256;}\n        $charcode%=256;\n        $char = chr($charcode);\n        echo $char;\n    }\n</code></pre>\n"}],"owner":{"account_id":27278248,"reputation":23,"user_id":20798529,"display_name":"Just Wonderi&#39;n Around"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74838431,"answer_count":1,"score":2,"last_activity_date":1671324257,"creation_date":1671246760,"question_id":74831550,"body_markdown":"I have here a java code, what I&#39;m trying to do is create a php equivalent of this:\r\n\r\n```\r\n String text = &quot;Sample Text&quot;;\r\n                int key = 6;\r\n\t\tfor(int i =0; i &lt; text.length();i++) {\r\n\t\t\tchar ch = text.charAt(i);\r\n\t\t\tch -= key;\r\n                        System.out.print(ch);\r\n\t\t}\r\n```\r\nOutput:\r\n\r\nM[gjf_N_rn\r\n\r\n\r\n\r\n\r\n\r\nThis is my php code. I got an Error &quot;Warning: A non-numeric value encountered&quot;.\r\n```\r\n$key = 6;\r\n\t$text = &#39;Sample Text&#39;;\r\n\tfor($i = 0;$i &lt; strlen($text);$i++){\r\n\t\t$char = $text{$i};\r\n\t\t$char -= $key;\r\n\t\techo $char;\r\n\t}\r\n```\r\nI certainly get an error here.\r\n```\r\n\r\n    $char -= $key;","title":"A non-numeric value encountered","body":"<p>I have here a java code, what I'm trying to do is create a php equivalent of this:</p>\n<pre><code> String text = &quot;Sample Text&quot;;\n                int key = 6;\n        for(int i =0; i &lt; text.length();i++) {\n            char ch = text.charAt(i);\n            ch -= key;\n                        System.out.print(ch);\n        }\n</code></pre>\n<p>Output:</p>\n<p>M[gjf_N_rn</p>\n<p>This is my php code. I got an Error &quot;Warning: A non-numeric value encountered&quot;.</p>\n<pre><code>$key = 6;\n    $text = 'Sample Text';\n    for($i = 0;$i &lt; strlen($text);$i++){\n        $char = $text{$i};\n        $char -= $key;\n        echo $char;\n    }\n</code></pre>\n<p>I certainly get an error here.</p>\n<pre><code>\n    $char -= $key;\n</code></pre>\n"},{"tags":["java","junit","static","mockito"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1671350282,"post_id":74837748,"comment_id":132077761,"body_markdown":"The real solution is: don&#39;t use statics, inject your dependencies.","body":"The real solution is: don&#39;t use statics, inject your dependencies."}],"answers":[{"comments":[{"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"score":0,"creation_date":1671316832,"post_id":74837921,"comment_id":132074629,"body_markdown":"thank you! I will try it out. Should I use Spy also?","body":"thank you! I will try it out. Should I use Spy also?"},{"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"score":0,"creation_date":1671316960,"post_id":74837921,"comment_id":132074655,"body_markdown":"@likejudo use `spy` on what? Here you&#39;re mocking the behavior of `Transport`, and then verifying that given some arguments, `MailSender` calls `Transport.send` with the message object you expected. I don&#39;t see what you&#39;d need to spy here - could you clarify what you meant please?","body":"@likejudo use <code>spy</code> on what? Here you&#39;re mocking the behavior of <code>Transport</code>, and then verifying that given some arguments, <code>MailSender</code> calls <code>Transport.send</code> with the message object you expected. I don&#39;t see what you&#39;d need to spy here - could you clarify what you meant please?"},{"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"score":0,"creation_date":1671322897,"post_id":74837921,"comment_id":132075318,"body_markdown":"The `MailSender` class has a `@Value` field. (SpringBoot app)","body":"The <code>MailSender</code> class has a <code>@Value</code> field. (SpringBoot app)"},{"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"score":0,"creation_date":1671332553,"post_id":74837921,"comment_id":132076161,"body_markdown":"@Murenik I got an error: `org.mockito.exceptions.base.MockitoException:\nAn unexpected error occurred while verifying a static stub\nTo correctly verify a stub, invoke a single static method of javax.mail.Transport in the provided lambda.\nFor example, if a method &#39;sample&#39; was defined, provide a lambda or anonymous class containing the code () -&gt; Transport.sample() or Transport::sample`","body":"@Murenik I got an error: <code>org.mockito.exceptions.base.MockitoException: An unexpected error occurred while verifying a static stub To correctly verify a stub, invoke a single static method of javax.mail.Transport in the provided lambda. For example, if a method &#39;sample&#39; was defined, provide a lambda or anonymous class containing the code () -&gt; Transport.sample() or Transport::sample</code>"},{"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"score":0,"creation_date":1671353101,"post_id":74837921,"comment_id":132078083,"body_markdown":"@likejudo that shouldn&#39;t happen with this sample. Can you share your code?","body":"@likejudo that shouldn&#39;t happen with this sample. Can you share your code?"},{"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"score":0,"creation_date":1671476425,"post_id":74837921,"comment_id":132103235,"body_markdown":"It works now. Thank you for your help which came at a critical time for me. Shalom and God bless you","body":"It works now. Thank you for your help which came at a critical time for me. Shalom and God bless you"}],"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671323774,"creation_date":1671316366,"answer_id":74837921,"question_id":74837748,"body_markdown":"Modern versions of Mockito allow you to mock static methods.\r\n\r\nFirst, you need to include the inline mock-maker. Just replace your `mockito-core` artifact with the `mockito-inline` artifact. E.g., if you&#39;re using Maven:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n    &lt;version&gt;4.10.0&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThen, you can crate a `MockedStatic` for the `Transport` class, call your `sendMail` method and verify that it passes the right arguments to `Transport.send`. E.g., as a simplistic example, I&#39;ve only verified the `fromAddress` is used correctly:\r\n\r\n```java\r\n@Test\r\npublic void testSendMail() throws Exception {\r\n    try (MockedStatic&lt;Transport&gt; mockedTransport = Mockito.mockStatic(Transport.class)) {\r\n        MailSender.sendMail(&quot;from&quot;, &quot;message&quot;, &quot;to&quot;);\r\n        mockedTransport.verify(() -&gt; Transport.send(Mockito.argThat(message -&gt; {\r\n            try {\r\n                // This just verified the &quot;from&quot; of the message\r\n                // but of course you can have more elaborate logic here\r\n                return message.getFrom()[0].toString().contains(&quot;from&quot;);\r\n            } catch (MessagingException e) {\r\n                return false;\r\n            }\r\n        })));\r\n    }\r\n}\r\n```","title":"How to mock javax.mail.Transport in a class using just Mockito/JUnit?","body":"<p>Modern versions of Mockito allow you to mock static methods.</p>\n<p>First, you need to include the inline mock-maker. Just replace your <code>mockito-core</code> artifact with the <code>mockito-inline</code> artifact. E.g., if you're using Maven:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n    &lt;version&gt;4.10.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then, you can crate a <code>MockedStatic</code> for the <code>Transport</code> class, call your <code>sendMail</code> method and verify that it passes the right arguments to <code>Transport.send</code>. E.g., as a simplistic example, I've only verified the <code>fromAddress</code> is used correctly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void testSendMail() throws Exception {\n    try (MockedStatic&lt;Transport&gt; mockedTransport = Mockito.mockStatic(Transport.class)) {\n        MailSender.sendMail(&quot;from&quot;, &quot;message&quot;, &quot;to&quot;);\n        mockedTransport.verify(() -&gt; Transport.send(Mockito.argThat(message -&gt; {\n            try {\n                // This just verified the &quot;from&quot; of the message\n                // but of course you can have more elaborate logic here\n                return message.getFrom()[0].toString().contains(&quot;from&quot;);\n            } catch (MessagingException e) {\n                return false;\n            }\n        })));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":763,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74837921,"answer_count":1,"score":1,"last_activity_date":1671323774,"creation_date":1671314413,"question_id":74837748,"body_markdown":"The solutions in the question [here][1] use PowerMock. Is it possible to do this in just Mockito/JUnit?\r\n\r\nI have a `MailSender` class with a method, \r\n\r\n    sendMail(String fromAddress, String message, String toAddress);\r\n\r\nInternally, of course, it fills in the fields to construct a `MimeMessage` and uses the company&#39;s mail server to send the message.\r\n\r\nBut the last line is \r\n\r\n    javax.mail.Transport.send(mimeMessage);\r\n\r\nI am trying to write a Junit test for the class but I do not know how to mock the Transport so that an email is not actually sent.\r\n\r\nIn MailSender, how should I modify the class to mock the call to `javax.mail.Transport`? \r\n\r\n\r\n    public class MailSender {\r\n    \r\n    \r\n        static boolean sendMail(String fromAddress, String message, String toAddress) {\r\n           //...\r\n           MimeMessage message;\r\n           //... create the message and fill in the fields\r\n           // \r\n           transport.send(message);\r\n    \r\n        }\r\n    }\r\n\r\nFor the JUnit test, I do not know what to put here. I tried this - it does not compile but I wanted to know if I am on the right track.\r\n\r\n    class MailSenderTest {\r\n    \r\n    @Mock\r\n    MailSender mailSender;\r\n    \r\n    @InjectMocks\r\n    Transport transport\r\n    \r\n    @Test\r\n    void sendMail() {\r\n        Mockito.when(transport.sendMessage(any(), any()).thenReturn(true);\r\n        assertEquals(true, mailSender.sendMail(&quot;me@gmail.com&quot;, &quot;hi&quot;, &quot;&quot;you@gmail.com&quot;&quot;);\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/17457386/mocking-javax-mail-transport","title":"How to mock javax.mail.Transport in a class using just Mockito/JUnit?","body":"<p>The solutions in the question <a href=\"https://stackoverflow.com/questions/17457386/mocking-javax-mail-transport\">here</a> use PowerMock. Is it possible to do this in just Mockito/JUnit?</p>\n<p>I have a <code>MailSender</code> class with a method,</p>\n<pre><code>sendMail(String fromAddress, String message, String toAddress);\n</code></pre>\n<p>Internally, of course, it fills in the fields to construct a <code>MimeMessage</code> and uses the company's mail server to send the message.</p>\n<p>But the last line is</p>\n<pre><code>javax.mail.Transport.send(mimeMessage);\n</code></pre>\n<p>I am trying to write a Junit test for the class but I do not know how to mock the Transport so that an email is not actually sent.</p>\n<p>In MailSender, how should I modify the class to mock the call to <code>javax.mail.Transport</code>?</p>\n<pre><code>public class MailSender {\n\n\n    static boolean sendMail(String fromAddress, String message, String toAddress) {\n       //...\n       MimeMessage message;\n       //... create the message and fill in the fields\n       // \n       transport.send(message);\n\n    }\n}\n</code></pre>\n<p>For the JUnit test, I do not know what to put here. I tried this - it does not compile but I wanted to know if I am on the right track.</p>\n<pre><code>class MailSenderTest {\n\n@Mock\nMailSender mailSender;\n\n@InjectMocks\nTransport transport\n\n@Test\nvoid sendMail() {\n    Mockito.when(transport.sendMessage(any(), any()).thenReturn(true);\n    assertEquals(true, mailSender.sendMail(&quot;me@gmail.com&quot;, &quot;hi&quot;, &quot;&quot;you@gmail.com&quot;&quot;);\n}\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","spring-boot","cors"],"answers":[{"tags":[],"owner":{"account_id":8520141,"reputation":3512,"user_id":6387370,"accept_rate":55,"display_name":"zakaria amine"},"comment_count":0,"down_vote_count":0,"up_vote_count":53,"is_accepted":true,"score":53,"last_activity_date":1491130774,"creation_date":1491130774,"answer_id":43167508,"question_id":43166984,"body_markdown":"I found a solution, after analyzing http requests, I noticed that Access-Control-Allow-Methods header was missing the DELETE method, so I have added it by delete the `@CrossOrigin` annotation, and adding this bean to the configuration: \r\n\r\n            @Bean\r\n    \t    public WebMvcConfigurer corsConfigurer() {\r\n    \t        return new WebMvcConfigurerAdapter() {\r\n    \t            @Override\r\n    \t            public void addCorsMappings(CorsRegistry registry) {\r\n    \t                registry.addMapping(&quot;/robotpart/**&quot;).allowedOrigins(&quot;*&quot;).allowedMethods(&quot;GET&quot;, &quot;POST&quot;,&quot;PUT&quot;, &quot;DELETE&quot;);\r\n    \t                \r\n    \t                \r\n    \t            }\r\n    \t        };\r\n    \t    }\r\n\r\n","title":"Delete Method Cors issue in Rest Controller","body":"<p>I found a solution, after analyzing http requests, I noticed that Access-Control-Allow-Methods header was missing the DELETE method, so I have added it by delete the <code>@CrossOrigin</code> annotation, and adding this bean to the configuration: </p>\n\n<pre><code>        @Bean\n        public WebMvcConfigurer corsConfigurer() {\n            return new WebMvcConfigurerAdapter() {\n                @Override\n                public void addCorsMappings(CorsRegistry registry) {\n                    registry.addMapping(\"/robotpart/**\").allowedOrigins(\"*\").allowedMethods(\"GET\", \"POST\",\"PUT\", \"DELETE\");\n\n\n                }\n            };\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9130923,"reputation":2029,"user_id":6792588,"display_name":"Naor Bar"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647332920,"creation_date":1647332589,"answer_id":71479040,"question_id":43166984,"body_markdown":"Adding to the answers above, the reason why disabling CORS won&#39;t work for DELETE (but works for GET and POST) is that this is the default behavior for the WebMvcConfigurer as stated here (highlighted in  yellow):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dgATa.png","title":"Delete Method Cors issue in Rest Controller","body":"<p>Adding to the answers above, the reason why disabling CORS won't work for DELETE (but works for GET and POST) is that this is the default behavior for the WebMvcConfigurer as stated here (highlighted in  yellow):</p>\n<p><a href=\"https://i.stack.imgur.com/dgATa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dgATa.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":16985365,"reputation":146,"user_id":12286281,"display_name":"Gustavo Barros"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660142036,"creation_date":1660142036,"answer_id":73308188,"question_id":43166984,"body_markdown":"This is my CORS configuration, it may be helpful to somebody\r\n\r\n    @Bean\r\n    CorsConfigurationSource corsConfigurationSource() {\r\n        final UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n\r\n        CorsConfiguration corsConfiguration = new CorsConfiguration().applyPermitDefaultValues();\r\n        corsConfiguration.addAllowedMethod(HttpMethod.DELETE);\r\n        corsConfiguration.addAllowedMethod(HttpMethod.PATCH);\r\n        source.registerCorsConfiguration(&quot;/**&quot;, corsConfiguration);\r\n\r\n        return source;\r\n    }","title":"Delete Method Cors issue in Rest Controller","body":"<p>This is my CORS configuration, it may be helpful to somebody</p>\n<pre><code>@Bean\nCorsConfigurationSource corsConfigurationSource() {\n    final UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n\n    CorsConfiguration corsConfiguration = new CorsConfiguration().applyPermitDefaultValues();\n    corsConfiguration.addAllowedMethod(HttpMethod.DELETE);\n    corsConfiguration.addAllowedMethod(HttpMethod.PATCH);\n    source.registerCorsConfiguration(&quot;/**&quot;, corsConfiguration);\n\n    return source;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4189559,"reputation":59,"user_id":3851980,"display_name":"user3851980"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671322643,"creation_date":1671322643,"answer_id":74838343,"question_id":43166984,"body_markdown":"Some of the previous answers have been very helpful, however, in my case (spring boot 2.7.4) I had to configure cors like this:\r\n\r\n```\r\n@Configuration\r\n@EnableWebMvc\r\npublic class CorsConfiguration implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addCorsMappings(CorsRegistry registry) {\r\n        registry.addMapping(&quot;/**&quot;).allowedMethods(&quot;GET&quot;, &quot;POST&quot;,&quot;PUT&quot;, &quot;DELETE&quot;);\r\n    }\r\n}\r\n```","title":"Delete Method Cors issue in Rest Controller","body":"<p>Some of the previous answers have been very helpful, however, in my case (spring boot 2.7.4) I had to configure cors like this:</p>\n<pre><code>@Configuration\n@EnableWebMvc\npublic class CorsConfiguration implements WebMvcConfigurer {\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;).allowedMethods(&quot;GET&quot;, &quot;POST&quot;,&quot;PUT&quot;, &quot;DELETE&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8520141,"reputation":3512,"user_id":6387370,"accept_rate":55,"display_name":"zakaria amine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16855,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":43167508,"answer_count":4,"score":19,"last_activity_date":1671322643,"creation_date":1491126809,"question_id":43166984,"body_markdown":"I have some Rest endpoints in my project which I call from a client application in another server. I have successfully disabled Cors using the `@CrossOrigin` annotation, and all the methods work fine except the Delete method which throws the following error on Chrome: \r\n\r\n`XMLHttpRequest cannot load http://localhost:8856/robotpart/1291542214/compatibilities. Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource. Origin &#39;http://127.0.0.1:8888&#39; is therefore not allowed access. The response had HTTP status code 403.`\r\n\r\nHere is my controller: \r\n\r\n    @CrossOrigin(origins = &quot;*&quot;)\r\n    @ExposesResourceFor(RobotPart.class)\r\n    public class RobotPartController {\r\n    \r\n    \t  //All endpoints are working except the Delete Mapping\r\n    \r\n    \t@GetMapping(&quot;/robotpart&quot;)\r\n    \tpublic ResponseEntity&lt;List&lt;RobotPartResource&gt;&gt; listAllParts() {\r\n    \t    //..\r\n    \t}\r\n    \r\n    \t@GetMapping(&quot;/robotpart/{id}&quot;)\r\n    \tpublic ResponseEntity&lt;RobotPartResource&gt; getById(@PathVariable Integer id) {\r\n    \t\t//..\r\n    \t}\r\n    \r\n    \r\n    \t@GetMapping(&quot;/robotpart/{id}/compatibilities&quot;)\r\n    \tpublic ResponseEntity&lt;Collection&lt;RobotPartResource&gt;&gt; getRobotCompatibilities(@PathVariable Integer id,\r\n    \t\t  //..\r\n    \t}\r\n    \r\n    \r\n    \t@PostMapping(&quot;/robotpart&quot;)\r\n    \tpublic ResponseEntity&lt;RobotPartResource&gt; getById(@RequestBody @Valid RobotPart newRobot) {\r\n    \t\t//..\r\n    \r\n    \t@PutMapping(&quot;/robotpart/{id}&quot;)\r\n    \tpublic ResponseEntity&lt;RobotPartResource&gt; modify(@PathVariable Integer id, @Valid @RequestBody RobotPart newRobot) {\r\n    \r\n    \t     //...\r\n    \t}\r\n    \r\n    \t@DeleteMapping(&quot;/robotpart/{id}&quot;)\r\n    \tpublic ResponseEntity&lt;RobotPart&gt; deleteById(@PathVariable Integer id) {\r\n    \r\n    \t\t//...\r\n    \t}\r\n    \r\n    \t}\r\n\r\nAny way around it? ","title":"Delete Method Cors issue in Rest Controller","body":"<p>I have some Rest endpoints in my project which I call from a client application in another server. I have successfully disabled Cors using the <code>@CrossOrigin</code> annotation, and all the methods work fine except the Delete method which throws the following error on Chrome: </p>\n\n<p><code>XMLHttpRequest cannot load http://localhost:8856/robotpart/1291542214/compatibilities. Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin 'http://127.0.0.1:8888' is therefore not allowed access. The response had HTTP status code 403.</code></p>\n\n<p>Here is my controller: </p>\n\n<pre><code>@CrossOrigin(origins = \"*\")\n@ExposesResourceFor(RobotPart.class)\npublic class RobotPartController {\n\n      //All endpoints are working except the Delete Mapping\n\n    @GetMapping(\"/robotpart\")\n    public ResponseEntity&lt;List&lt;RobotPartResource&gt;&gt; listAllParts() {\n        //..\n    }\n\n    @GetMapping(\"/robotpart/{id}\")\n    public ResponseEntity&lt;RobotPartResource&gt; getById(@PathVariable Integer id) {\n        //..\n    }\n\n\n    @GetMapping(\"/robotpart/{id}/compatibilities\")\n    public ResponseEntity&lt;Collection&lt;RobotPartResource&gt;&gt; getRobotCompatibilities(@PathVariable Integer id,\n          //..\n    }\n\n\n    @PostMapping(\"/robotpart\")\n    public ResponseEntity&lt;RobotPartResource&gt; getById(@RequestBody @Valid RobotPart newRobot) {\n        //..\n\n    @PutMapping(\"/robotpart/{id}\")\n    public ResponseEntity&lt;RobotPartResource&gt; modify(@PathVariable Integer id, @Valid @RequestBody RobotPart newRobot) {\n\n         //...\n    }\n\n    @DeleteMapping(\"/robotpart/{id}\")\n    public ResponseEntity&lt;RobotPart&gt; deleteById(@PathVariable Integer id) {\n\n        //...\n    }\n\n    }\n</code></pre>\n\n<p>Any way around it? </p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1671086870,"post_id":74807701,"comment_id":132022975,"body_markdown":"what is being printed?","body":"what is being printed?"},{"owner":{"account_id":27258546,"reputation":3,"user_id":20781726,"display_name":"Darshan Kadam"},"score":0,"creation_date":1671087013,"post_id":74807701,"comment_id":132023006,"body_markdown":"[, , , , , , , , , , , , , , , , 1000.00, 1060.00, 1495.00, 1799.00, 1799.00, 1999.00, 225.00, 2799.00, 330.00, 396.00, 479.00, 500.00, 719.00, 739.00, 747.00, 797.00, 995.00, 995.00] This is getting printed","body":"[, , , , , , , , , , , , , , , , 1000.00, 1060.00, 1495.00, 1799.00, 1799.00, 1999.00, 225.00, 2799.00, 330.00, 396.00, 479.00, 500.00, 719.00, 739.00, 747.00, 797.00, 995.00, 995.00] This is getting printed"},{"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"score":3,"creation_date":1671087144,"post_id":74807701,"comment_id":132023038,"body_markdown":"@DarshanKadam, These are properly sorted String`s. You obviously want to sort numbers, not strings.","body":"@DarshanKadam, These are properly sorted String`s. You obviously want to sort numbers, not strings."},{"owner":{"account_id":27258546,"reputation":3,"user_id":20781726,"display_name":"Darshan Kadam"},"score":0,"creation_date":1671087230,"post_id":74807701,"comment_id":132023055,"body_markdown":"Yes actually want to sort these numbers in ascending","body":"Yes actually want to sort these numbers in ascending"},{"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"score":1,"creation_date":1671087273,"post_id":74807701,"comment_id":132023065,"body_markdown":"Your call to `Collections.sort(v);` will sort the Strings according to the logic in `String.compare`, not by number","body":"Your call to <code>Collections.sort(v);</code> will sort the Strings according to the logic in <code>String.compare</code>, not by number"},{"owner":{"account_id":27258546,"reputation":3,"user_id":20781726,"display_name":"Darshan Kadam"},"score":0,"creation_date":1671087543,"post_id":74807701,"comment_id":132023135,"body_markdown":"Understood, so they are sorting only the first letter of each result","body":"Understood, so they are sorting only the first letter of each result"}],"answers":[{"comments":[{"owner":{"account_id":27258546,"reputation":3,"user_id":20781726,"display_name":"Darshan Kadam"},"score":0,"creation_date":1671087685,"post_id":74807824,"comment_id":132023170,"body_markdown":"Can you do this with Arraylist please?","body":"Can you do this with Arraylist please?"},{"owner":{"account_id":27258546,"reputation":3,"user_id":20781726,"display_name":"Darshan Kadam"},"score":0,"creation_date":1671088318,"post_id":74807824,"comment_id":132023298,"body_markdown":"double j= Double.parseDouble(c.get(i).getText().replaceAll(&quot;[₹,]&quot;, &quot;&quot;));\n\t\t\tv.add(j); will this work from my code ?","body":"double j= Double.parseDouble(c.get(i).getText().replaceAll(&quot;[₹,]&quot;, &quot;&quot;)); \t\t\tv.add(j); will this work from my code ?"},{"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"score":0,"creation_date":1671088474,"post_id":74807824,"comment_id":132023332,"body_markdown":"@DarshanKadam, You need to completely exclude empty lines from your List, because `Double.parseDouble(&quot;&quot;)` will throw&#39;s `NumberFormatException`.","body":"@DarshanKadam, You need to completely exclude empty lines from your List, because <code>Double.parseDouble(&quot;&quot;)</code> will throw&#39;s <code>NumberFormatException</code>."},{"owner":{"account_id":27258546,"reputation":3,"user_id":20781726,"display_name":"Darshan Kadam"},"score":0,"creation_date":1671089224,"post_id":74807824,"comment_id":132023516,"body_markdown":"{String j= c.get(i).getText().replaceAll(&quot;[₹,]&quot;, &quot;&quot;);\n\t\t\tv.add(j);\n\t\t}\n\t\tCollections.sort(v, Comparator.comparingDouble(Double::parseDouble));\n\t\t   System.out.println(v);\n\t\t  }\n\n}  Tried this but getting error","body":"{String j= c.get(i).getText().replaceAll(&quot;[₹,]&quot;, &quot;&quot;); \t\t\tv.add(j); \t\t} \t\tCollections.sort(v, Comparator.comparingDouble(Double::parseDouble)); \t\t   System.out.println(v); \t\t  }  }  Tried this but getting error"},{"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"score":0,"creation_date":1671090138,"post_id":74807824,"comment_id":132023736,"body_markdown":"@DarshanKadam, `if (!j.isEmpty()) v.add(j);`","body":"@DarshanKadam, <code>if (!j.isEmpty()) v.add(j);</code>"}],"tags":[],"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671322523,"creation_date":1671087594,"answer_id":74807824,"question_id":74807701,"body_markdown":"The problem is that your code is sorting strings, not numbers. And he does the job exactly right.\r\n\r\nDepending on whether you want to convert your strings to numbers and work as numbers, or you want to leave strings as they are, you can use code like this:\r\n\r\n```      \r\n// if you want output as Doubles\r\nv.stream()\r\n   .map(Double::parseDouble)\r\n   .sorted()\r\n   .forEach(System.out::println);\r\n\r\n// or if you want Strings\r\nv.stream()\r\n    .sorted(Comparator.comparingDouble(Double::parseDouble))\r\n    .forEach(System.out::println);\r\n```\r\n\r\nor without using StreamAPI:\r\n```\r\n// sort List&lt;String&gt; by it&#39;s Double values\r\nCollections.sort(v, Comparator.comparingDouble(Double::parseDouble));\r\n```\r\n\r\nYou will still get an error because there are empty strings in your list that can not be converted to numbers. There is no way to convert `&quot;&quot;` to any number. Thus, you need to take care that your list does not contain empty strings, as well as `null` values.\r\n\r\nOne way to do this:\r\n```\r\nString j = c.get(i).getText().replaceAll(&quot;[₹,]&quot;, &quot;&quot;);\r\nif (!j.isEmpty) {\r\n    v.add(j);\r\n}\r\n```","title":"Cannot Sort prices from low to high and cannot get max and min prices from below code in java","body":"<p>The problem is that your code is sorting strings, not numbers. And he does the job exactly right.</p>\n<p>Depending on whether you want to convert your strings to numbers and work as numbers, or you want to leave strings as they are, you can use code like this:</p>\n<pre><code>// if you want output as Doubles\nv.stream()\n   .map(Double::parseDouble)\n   .sorted()\n   .forEach(System.out::println);\n\n// or if you want Strings\nv.stream()\n    .sorted(Comparator.comparingDouble(Double::parseDouble))\n    .forEach(System.out::println);\n</code></pre>\n<p>or without using StreamAPI:</p>\n<pre><code>// sort List&lt;String&gt; by it's Double values\nCollections.sort(v, Comparator.comparingDouble(Double::parseDouble));\n</code></pre>\n<p>You will still get an error because there are empty strings in your list that can not be converted to numbers. There is no way to convert <code>&quot;&quot;</code> to any number. Thus, you need to take care that your list does not contain empty strings, as well as <code>null</code> values.</p>\n<p>One way to do this:</p>\n<pre><code>String j = c.get(i).getText().replaceAll(&quot;[₹,]&quot;, &quot;&quot;);\nif (!j.isEmpty) {\n    v.add(j);\n}\n</code></pre>\n"}],"owner":{"account_id":27258546,"reputation":3,"user_id":20781726,"display_name":"Darshan Kadam"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1671089288,"accepted_answer_id":74807824,"answer_count":1,"score":-1,"last_activity_date":1671322523,"creation_date":1671086693,"question_id":74807701,"body_markdown":"driver.get(&quot;https://www.amazon.in/gp/bestsellers/?ref_=nav_cs_bestsellers&quot;);\r\n\t\tList&lt;String&gt; v= new ArrayList&lt;String&gt;();\r\n\t\t\r\nList &lt;WebElement&gt; c=driver.findElements(By.cssSelector(&quot;span[class=&#39;a-size-base a-color-price&#39;]&quot;));\r\n\t\t\r\n\t\tfor(int i=0;i&lt;c.size();i++)\r\n\t\t{\r\n\t   \r\n\t\t\tString j= c.get(i).getText().replaceAll(&quot;[₹,]&quot;, &quot;&quot;);\r\n\t\t\tv.add(j);\r\n\t\t}\r\n\t\tCollections.sort(v, Comparator.comparingDouble(Double::parseDouble));\r\n\t\t   System.out.println(v);\r\n\t\t  \r\n\t}\r\n}\r\n\r\nException in thread &quot;main&quot; java.lang.NumberFormatException: empty String\r\n\tat java.base/jdk.internal.math.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:1842)\r\n\tat java.base/jdk.internal.math.FloatingDecimal.parseDouble(FloatingDecimal.java:110)\r\n\tat java.base/java.lang.Double.parseDouble(Double.java:735)\r\n\tat java.base/java.util.Comparator.lambda$comparingDouble$8dcf42ea$1(Comparator.java:536)\r\n\tat java.base/java.util.TimSort.binarySort(TimSort.java:296)\r\n\tat java.base/java.util.TimSort.sort(TimSort.java:221)\r\n\tat java.base/java.util.Arrays.sort(Arrays.java:1307)\r\n\tat java.base/java.util.ArrayList.sort(ArrayList.java:1721)\r\n\tat java.base/java.util.Collections.sort(Collections.java:179)\r\n\tat sortingg.main(sortingg.java:29)\r\n\r\n\r\n\r\nShould get sorted prices and min and max prices. Cannot Sort prices from low to high and cannot get max and min prices from below code in java","title":"Cannot Sort prices from low to high and cannot get max and min prices from below code in java","body":"<p>driver.get(&quot;https://www.amazon.in/gp/bestsellers/?ref_=nav_cs_bestsellers&quot;);\nList v= new ArrayList();</p>\n<p>List  c=driver.findElements(By.cssSelector(&quot;span[class='a-size-base a-color-price']&quot;));</p>\n<pre><code>    for(int i=0;i&lt;c.size();i++)\n    {\n   \n        String j= c.get(i).getText().replaceAll(&quot;[₹,]&quot;, &quot;&quot;);\n        v.add(j);\n    }\n    Collections.sort(v, Comparator.comparingDouble(Double::parseDouble));\n       System.out.println(v);\n      \n}\n</code></pre>\n<p>}</p>\n<p>Exception in thread &quot;main&quot; java.lang.NumberFormatException: empty String\nat java.base/jdk.internal.math.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:1842)\nat java.base/jdk.internal.math.FloatingDecimal.parseDouble(FloatingDecimal.java:110)\nat java.base/java.lang.Double.parseDouble(Double.java:735)\nat java.base/java.util.Comparator.lambda$comparingDouble$8dcf42ea$1(Comparator.java:536)\nat java.base/java.util.TimSort.binarySort(TimSort.java:296)\nat java.base/java.util.TimSort.sort(TimSort.java:221)\nat java.base/java.util.Arrays.sort(Arrays.java:1307)\nat java.base/java.util.ArrayList.sort(ArrayList.java:1721)\nat java.base/java.util.Collections.sort(Collections.java:179)\nat sortingg.main(sortingg.java:29)</p>\n<p>Should get sorted prices and min and max prices. Cannot Sort prices from low to high and cannot get max and min prices from below code in java</p>\n"},{"tags":["java","spring-boot","jpa","oauth-2.0"],"comments":[{"owner":{"account_id":16950641,"reputation":583,"user_id":12260247,"display_name":"bob tang"},"score":0,"creation_date":1585617224,"post_id":60941802,"comment_id":107818434,"body_markdown":"have you tried to specify the schema? @Table(name= &quot;users&quot;, schema = &quot;targetSchemaName&quot;)","body":"have you tried to specify the schema? @Table(name= &quot;users&quot;, schema = &quot;targetSchemaName&quot;)"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1585618556,"post_id":60941802,"comment_id":107818717,"body_markdown":"What database is this?","body":"What database is this?"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1585618635,"post_id":60941802,"comment_id":107818728,"body_markdown":"Please provide full stacktrace.","body":"Please provide full stacktrace."},{"owner":{"account_id":14728558,"reputation":36,"user_id":10636649,"display_name":"Juance"},"score":0,"creation_date":1585619670,"post_id":60941802,"comment_id":107818922,"body_markdown":"@Andreas Sorry! I used mysql database with dialect MySQL57Dialect\n\n`spring.jpa.database-platform=org.hibernate.dialect.MySQL57Dialect`","body":"@Andreas Sorry! I used mysql database with dialect MySQL57Dialect  <code>spring.jpa.database-platform=org.hibernate.dialect.MySQL57Di&zwnj;&#8203;alect</code>"},{"owner":{"account_id":14728558,"reputation":36,"user_id":10636649,"display_name":"Juance"},"score":0,"creation_date":1585619754,"post_id":60941802,"comment_id":107818943,"body_markdown":"@bobtang No, what scheme should I provide? never use schemas for my entities","body":"@bobtang No, what scheme should I provide? never use schemas for my entities"},{"owner":{"account_id":16950641,"reputation":583,"user_id":12260247,"display_name":"bob tang"},"score":0,"creation_date":1585625069,"post_id":60941802,"comment_id":107819996,"body_markdown":"@Juance your db name","body":"@Juance your db name"},{"owner":{"account_id":14728558,"reputation":36,"user_id":10636649,"display_name":"Juance"},"score":0,"creation_date":1585628904,"post_id":60941802,"comment_id":107820801,"body_markdown":"@bobtang i added the schema to the entity but the problem continues","body":"@bobtang i added the schema to the entity but the problem continues"},{"owner":{"account_id":14728558,"reputation":36,"user_id":10636649,"display_name":"Juance"},"score":0,"creation_date":1585633882,"post_id":60941802,"comment_id":107821956,"body_markdown":"i test my app from postman, and this is send from service `{\n    &quot;error&quot;: &quot;invalid_grant&quot;,\n    &quot;error_description&quot;: &quot;Bad credentials&quot;\n}` could it be something wrong with the frontend?","body":"i test my app from postman, and this is send from service <code>{     &quot;error&quot;: &quot;invalid_grant&quot;,     &quot;error_description&quot;: &quot;Bad credentials&quot; }</code> could it be something wrong with the frontend?"}],"answers":[{"tags":[],"owner":{"account_id":14728558,"reputation":36,"user_id":10636649,"display_name":"Juance"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585638494,"creation_date":1585638494,"answer_id":60945113,"question_id":60941802,"body_markdown":"\r\nResolved! I couldn&#39;t see the error when my app was on Tomcat. I tried Postman and the mistake was that the authorities could not be null, if or if you need a role.","title":"could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet with oauth","body":"<p>Resolved! I couldn't see the error when my app was on Tomcat. I tried Postman and the mistake was that the authorities could not be null, if or if you need a role.</p>\n"},{"tags":[],"owner":{"account_id":19366029,"reputation":21,"user_id":14160297,"display_name":"Naman Mishra"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1628778009,"creation_date":1628754705,"answer_id":68753549,"question_id":60941802,"body_markdown":"\r\n    @Column(name = &quot;lastModifiedBy&quot;)\r\n    private int lastModifiedBy;\r\n\r\n    @Column(name = &quot;lastModifedOn&quot;)\r\n    private Date lastModifiedOn;\r\n\r\nThere was a typo in my code `lastModifedOn`, I changed it to `lastModifiedOn` and the issue was fixed forever.","title":"could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet with oauth","body":"<pre><code>@Column(name = &quot;lastModifiedBy&quot;)\nprivate int lastModifiedBy;\n\n@Column(name = &quot;lastModifedOn&quot;)\nprivate Date lastModifiedOn;\n</code></pre>\n<p>There was a typo in my code <code>lastModifedOn</code>, I changed it to <code>lastModifiedOn</code> and the issue was fixed forever.</p>\n"},{"tags":[],"owner":{"account_id":20833834,"reputation":1,"user_id":15795723,"display_name":"Blas Albir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647364742,"creation_date":1647364415,"answer_id":71486344,"question_id":60941802,"body_markdown":"Sometimes happens with database queries, in query, the cause of the error is: the database to which the table is built is different from the database to which the configuration file is connected, and the address of the database to which the table is built is not checked carefully.\r\n\r\nYou must add scheme, example: myScheme.myTable. \r\ngreetings..","title":"could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet with oauth","body":"<p>Sometimes happens with database queries, in query, the cause of the error is: the database to which the table is built is different from the database to which the configuration file is connected, and the address of the database to which the table is built is not checked carefully.</p>\n<p>You must add scheme, example: myScheme.myTable.\ngreetings..</p>\n"}],"owner":{"account_id":14728558,"reputation":36,"user_id":10636649,"display_name":"Juance"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33749,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1671321935,"creation_date":1585616036,"question_id":60941802,"body_markdown":"I am doing a rest service with java spring boot. The tables are created correctly in the database and locally test everything works correctly, but when I mount the .war in a tomcat in my vps the Fail starts.\r\n\r\nDoing a POST request to /oatuh/ token to login throws me an exception:\r\n\r\n    &quot;could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet&quot;\r\n\r\nAttached image:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/u1Z00.png\r\n\r\nUser Entity:\r\n\r\n     @Entity\r\n     @Table(name = &quot;users&quot;)\r\n     public class UserEntity implements Serializable {\r\n    \r\n    /**\r\n     * \r\n     */\r\n    private static final long serialVersionUID = -7125479784396028079L;\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;user_id&quot;)\r\n    private Long id;\r\n    \r\n    @Column(name = &quot;username&quot;, unique = true)\r\n    private String username;\r\n    \r\n    @Column(name = &quot;password&quot;)\r\n    private String password;\r\n    \r\n    @Column(name = &quot;email&quot;, unique = true)\r\n    private String email;\r\n\r\nDAO:\r\n\r\n    @Repository\r\n    public interface UserDao extends JpaRepository&lt;UserEntity, Long&gt;{\r\n    \r\n    @Query(&quot;select u from UserEntity u where u.username = ?1&quot;)\r\n    public UserEntity findByUsername(String username);\r\n    \r\n    }\r\n\r\nService:\r\n\r\n    @Override\r\n    @Transactional(readOnly = true)\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        UserEntity user = userDao.findByUsername(username);\r\n        System.out.println(user);\r\n    \r\n        if (user == null) {\r\n            log.error(&quot;El usuario no existe en la base de datos.&quot;);\r\n            throw new UsernameNotFoundException(&quot;Usuario inexistente en la base de datos&quot;);\r\n        }\r\n    \r\n        return new User(user.getUsername(), user.getPassword(), true, true, true, true, null);\r\n     }","title":"could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet with oauth","body":"<p>I am doing a rest service with java spring boot. The tables are created correctly in the database and locally test everything works correctly, but when I mount the .war in a tomcat in my vps the Fail starts.</p>\n\n<p>Doing a POST request to /oatuh/ token to login throws me an exception:</p>\n\n<pre><code>\"could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\"\n</code></pre>\n\n<p>Attached image:\n<a href=\"https://i.stack.imgur.com/u1Z00.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u1Z00.png\" alt=\"enter image description here\"></a></p>\n\n<p>User Entity:</p>\n\n<pre><code> @Entity\n @Table(name = \"users\")\n public class UserEntity implements Serializable {\n\n/**\n * \n */\nprivate static final long serialVersionUID = -7125479784396028079L;\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = \"user_id\")\nprivate Long id;\n\n@Column(name = \"username\", unique = true)\nprivate String username;\n\n@Column(name = \"password\")\nprivate String password;\n\n@Column(name = \"email\", unique = true)\nprivate String email;\n</code></pre>\n\n<p>DAO:</p>\n\n<pre><code>@Repository\npublic interface UserDao extends JpaRepository&lt;UserEntity, Long&gt;{\n\n@Query(\"select u from UserEntity u where u.username = ?1\")\npublic UserEntity findByUsername(String username);\n\n}\n</code></pre>\n\n<p>Service:</p>\n\n<pre><code>@Override\n@Transactional(readOnly = true)\npublic UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n    UserEntity user = userDao.findByUsername(username);\n    System.out.println(user);\n\n    if (user == null) {\n        log.error(\"El usuario no existe en la base de datos.\");\n        throw new UsernameNotFoundException(\"Usuario inexistente en la base de datos\");\n    }\n\n    return new User(user.getUsername(), user.getPassword(), true, true, true, true, null);\n }\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":4487116,"reputation":429,"user_id":3649352,"accept_rate":67,"display_name":"Kunal Varpe"},"score":0,"creation_date":1671344566,"post_id":74838290,"comment_id":132077113,"body_markdown":"Can you please provide the minimal project or code to reproduce this example. From the stacktrace it looks like spring starter web is in the classpath but your pom does not have it.","body":"Can you please provide the minimal project or code to reproduce this example. From the stacktrace it looks like spring starter web is in the classpath but your pom does not have it."}],"owner":{"account_id":419000,"reputation":1,"user_id":795926,"display_name":"rohitchandra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671321613,"creation_date":1671321613,"question_id":74838290,"body_markdown":"    **POM dependency**\r\n        &lt;parent&gt;\r\n        \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;2.4.13&lt;/version&gt;\r\n        \t\t&lt;relativePath /&gt; \r\n        \t&lt;/parent&gt;\r\n        &lt;dependency&gt;\r\n        \t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n        \t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n        \t\t\t\t&lt;version&gt;2020.0.2&lt;/version&gt;\r\n        \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n        \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n        \t\t\t&lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n        \t\t    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n        \t\t    &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n        \t\t&lt;/dependency&gt;\r\n    Jars used by call hierarchy: \r\n        org.springframework.boot:spring-boot-starter-web:jar:2.4.13:compile\r\n         org.springframework.boot:spring-boot-starter-json:jar:2.4.13:compile\r\n         com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.11.4:compile\r\n         com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.11.4:compile\r\n         com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.11.4:compile\r\n        org.springframework.boot:spring-boot-starter-tomcat:jar:2.4.13:compile\r\n        \r\n   ***Error log:***\r\n     ==================================================   &quot;org.springframework.boot.SpringApplication&quot;,&quot;methodName&quot;:&quot;reportFailure&quot;,&quot;fileName&quot;:&quot;SpringApplication.java&quot;,&quot;lineNumber&quot;:860},&quot;msg&quot;:&quot;Application run failed&quot;,&quot;throwable&quot;:&quot;java.lang.IllegalStateException: Failed to execute ApplicationRunner\\n\\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:802)\\n\\tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:789)\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:346)\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1329)\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1318)\\n\\tat \r\n        sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\\n\\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\\n\\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\\n\\tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88)\\nCaused by: java.lang.IllegalArgumentException: Unable to deserialize the execution context\\n\\tat org.springframework.batch.core.repository.dao.JdbcExecutionContextDao$ExecutionContextRowMapper.mapRow(JdbcExecutionContextDao.java:328)\\n\\tat org.springframework.batch.core.repository.dao.JdbcExecutionContextDao$ExecutionContextRowMapper.mapRow(JdbcExecutionContextDao.java:312)\\n\\tat org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:94)\\n\\tat org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:61)\\n\\tat org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:723)\\n\\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:651)\\n\\tat org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:713)\\n\\tat org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:744)\\n\\tat org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:757)\\n\\tat org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:815)\\n\\tat org.springframework.batch.core.repository.dao.JdbcExecutionContextDao.getExecutionContext(JdbcExecutionContextDao.java:114)\\n\\tat org.springframework.batch.core.explore.support.SimpleJobExplorer.getJobExecutionDependencies(SimpleJobExplorer.java:239)\\n\\tat org.springframework.batch.core.explore.support.SimpleJobExplorer.getLastJobExecution(SimpleJobExplorer.java:104)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\\n\\tat org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\n\\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\\n\\tat com.sun.proxy.$Proxy87.getLastJobExecution(Unknown Source)\\n\\tat org.springframework.batch.core.JobParametersBuilder.getNextJobParameters(JobParametersBuilder.java:265)\\n\\tat org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.getNextJobParameters(JobLauncherApplicationRunner.java:213)\\n\\tat org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.execute(JobLauncherApplicationRunner.java:198)\\n\\tat org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.executeLocalJobs(JobLauncherApplicationRunner.java:173)\\n\\tat org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.launchJobFromProperties(JobLauncherApplicationRunner.java:160)\\n\\tat org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.run(JobLauncherApplicationRunner.java:155)\\n\\tat org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.run(JobLauncherApplicationRunner.java:150)\\n\\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:799)\\n\\t... 13 more\\nCaused by: com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Missing type id when trying to resolve subtype of [map type; class java.util.HashMap, [simple type, class java.lang.String] -&gt; [simple type, class java.lang.Object]]: missing type id property &#39;@class&#39;\\n at [Source: (ByteArrayInputStream); line: 1, column: 46]\\n\\tat com.fasterxml.jackson.databind.exc.InvalidTypeIdException.from(InvalidTypeIdException.java:43)\\n\\tat com.fasterxml.jackson.databind.DeserializationContext.missingTypeIdException(DeserializationContext.java:1794)\\n\\tat com.fasterxml.jackson.databind.DeserializationContext.handleMissingTypeId(DeserializationContext.java:1323)\\n\\tat com.fasterxml.jackson.databind.jsontype.impl.TypeDeserializerBase._handleMissingTypeId(TypeDeserializerBase.java:302)\\n\\tat com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer._deserializeTypedUsingDefaultImpl(AsPropertyTypeDeserializer.java:166)\\n\\tat com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromObject(AsPropertyTypeDeserializer.java:107)\\n\\tat com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserializeWithType(MapDeserializer.java:413)\\n\\tat com.fasterxml.jackson.databind.deser.impl.TypeWrappedDeserializer.deserialize(TypeWrappedDeserializer.java:68)\\n\\tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4526)\\n\\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3513)\\n\\tat org.springframework.batch.core.repository.dao.Jackson2ExecutionContextStringSerializer.deserialize(Jackson2ExecutionContextStringSerializer.java:133)\\n\\tat org.springframework.batch.core.repository.dao.Jackson2ExecutionContextStringSerializer.deserialize(Jackson2ExecutionContextStringSerializer.java:104)\\n\\tat org.springframework.batch.core.repository.dao.JdbcExecutionContextDao$ExecutionContextRowMapper.mapRow(JdbcExecutionContextDao.java:325)\\n\\t... 44 more\\n&quot;}\r\n        \r\n\r\n","title":"fasterxml.jackson.databind.exc.InvalidTypeIdException: Missing type id when trying to resolve subtype of [map type; class java.util.HashMap, [simple","body":"<pre><code>**POM dependency**\n    &lt;parent&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n            &lt;version&gt;2.4.13&lt;/version&gt;\n            &lt;relativePath /&gt; \n        &lt;/parent&gt;\n    &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                    &lt;version&gt;2020.0.2&lt;/version&gt;\n                    &lt;type&gt;pom&lt;/type&gt;\n                    &lt;scope&gt;import&lt;/scope&gt;\n                &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n                &lt;version&gt;3.0.1&lt;/version&gt;\n            &lt;/dependency&gt;\nJars used by call hierarchy: \n    org.springframework.boot:spring-boot-starter-web:jar:2.4.13:compile\n     org.springframework.boot:spring-boot-starter-json:jar:2.4.13:compile\n     com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.11.4:compile\n     com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.11.4:compile\n     com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.11.4:compile\n    org.springframework.boot:spring-boot-starter-tomcat:jar:2.4.13:compile\n    \n</code></pre>\n<p><em><strong>Error log:</strong></em>\n==================================================   &quot;org.springframework.boot.SpringApplication&quot;,&quot;methodName&quot;:&quot;reportFailure&quot;,&quot;fileName&quot;:&quot;SpringApplication.java&quot;,&quot;lineNumber&quot;:860},&quot;msg&quot;:&quot;Application run failed&quot;,&quot;throwable&quot;:&quot;java.lang.IllegalStateException: Failed to execute ApplicationRunner\\n\\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:802)\\n\\tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:789)\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:346)\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1329)\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1318)\\n\\tat\nsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\\n\\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\\n\\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\\n\\tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88)\\nCaused by: java.lang.IllegalArgumentException: Unable to deserialize the execution context\\n\\tat org.springframework.batch.core.repository.dao.JdbcExecutionContextDao$ExecutionContextRowMapper.mapRow(JdbcExecutionContextDao.java:328)\\n\\tat org.springframework.batch.core.repository.dao.JdbcExecutionContextDao$ExecutionContextRowMapper.mapRow(JdbcExecutionContextDao.java:312)\\n\\tat org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:94)\\n\\tat org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:61)\\n\\tat org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:723)\\n\\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:651)\\n\\tat org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:713)\\n\\tat org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:744)\\n\\tat org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:757)\\n\\tat org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:815)\\n\\tat org.springframework.batch.core.repository.dao.JdbcExecutionContextDao.getExecutionContext(JdbcExecutionContextDao.java:114)\\n\\tat org.springframework.batch.core.explore.support.SimpleJobExplorer.getJobExecutionDependencies(SimpleJobExplorer.java:239)\\n\\tat org.springframework.batch.core.explore.support.SimpleJobExplorer.getLastJobExecution(SimpleJobExplorer.java:104)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\\n\\tat org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\n\\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\\n\\tat com.sun.proxy.$Proxy87.getLastJobExecution(Unknown Source)\\n\\tat org.springframework.batch.core.JobParametersBuilder.getNextJobParameters(JobParametersBuilder.java:265)\\n\\tat org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.getNextJobParameters(JobLauncherApplicationRunner.java:213)\\n\\tat org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.execute(JobLauncherApplicationRunner.java:198)\\n\\tat org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.executeLocalJobs(JobLauncherApplicationRunner.java:173)\\n\\tat org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.launchJobFromProperties(JobLauncherApplicationRunner.java:160)\\n\\tat org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.run(JobLauncherApplicationRunner.java:155)\\n\\tat org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.run(JobLauncherApplicationRunner.java:150)\\n\\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:799)\\n\\t... 13 more\\nCaused by: com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Missing type id when trying to resolve subtype of [map type; class java.util.HashMap, [simple type, class java.lang.String] -&gt; [simple type, class java.lang.Object]]: missing type id property '@class'\\n at [Source: (ByteArrayInputStream); line: 1, column: 46]\\n\\tat com.fasterxml.jackson.databind.exc.InvalidTypeIdException.from(InvalidTypeIdException.java:43)\\n\\tat com.fasterxml.jackson.databind.DeserializationContext.missingTypeIdException(DeserializationContext.java:1794)\\n\\tat com.fasterxml.jackson.databind.DeserializationContext.handleMissingTypeId(DeserializationContext.java:1323)\\n\\tat com.fasterxml.jackson.databind.jsontype.impl.TypeDeserializerBase._handleMissingTypeId(TypeDeserializerBase.java:302)\\n\\tat com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer._deserializeTypedUsingDefaultImpl(AsPropertyTypeDeserializer.java:166)\\n\\tat com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromObject(AsPropertyTypeDeserializer.java:107)\\n\\tat com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserializeWithType(MapDeserializer.java:413)\\n\\tat com.fasterxml.jackson.databind.deser.impl.TypeWrappedDeserializer.deserialize(TypeWrappedDeserializer.java:68)\\n\\tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4526)\\n\\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3513)\\n\\tat org.springframework.batch.core.repository.dao.Jackson2ExecutionContextStringSerializer.deserialize(Jackson2ExecutionContextStringSerializer.java:133)\\n\\tat org.springframework.batch.core.repository.dao.Jackson2ExecutionContextStringSerializer.deserialize(Jackson2ExecutionContextStringSerializer.java:104)\\n\\tat org.springframework.batch.core.repository.dao.JdbcExecutionContextDao$ExecutionContextRowMapper.mapRow(JdbcExecutionContextDao.java:325)\\n\\t... 44 more\\n&quot;}</p>\n"},{"tags":["java","spring","maven","intellij-idea","model-view-controller"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":1,"creation_date":1616240116,"post_id":66718629,"comment_id":117943120,"body_markdown":"Could you please ad more information and screenshots to clarify the issue?","body":"Could you please ad more information and screenshots to clarify the issue?"},{"owner":{"account_id":14993298,"reputation":1,"user_id":10823593,"display_name":"Nikita Manektalia"},"score":0,"creation_date":1616257574,"post_id":66718629,"comment_id":117947835,"body_markdown":"Hi actually maven dependency have been fetched from central repository and shown in m2 repository but dependency are not resolving in files intelli-j 2020.3 version and maven using 3.6.1 the jdk version is 1.8.It is a Multimodule project","body":"Hi actually maven dependency have been fetched from central repository and shown in m2 repository but dependency are not resolving in files intelli-j 2020.3 version and maven using 3.6.1 the jdk version is 1.8.It is a Multimodule project"},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1616270024,"post_id":66718629,"comment_id":117951346,"body_markdown":"So, you have red code showing &quot;Cannot resolve&quot; even needed dependencies are mention in pom and listed under &quot;External Dependencies&quot; node in Project Tree?","body":"So, you have red code showing &quot;Cannot resolve&quot; even needed dependencies are mention in pom and listed under &quot;External Dependencies&quot; node in Project Tree?"},{"owner":{"account_id":14993298,"reputation":1,"user_id":10823593,"display_name":"Nikita Manektalia"},"score":0,"creation_date":1616304835,"post_id":66718629,"comment_id":117957091,"body_markdown":"yes you are right correct The same thing is happening,can you suggest anything","body":"yes you are right correct The same thing is happening,can you suggest anything"},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1616675259,"post_id":66718629,"comment_id":118080379,"body_markdown":"Have you tried to run &quot;File | Invalidate Caches&quot;?","body":"Have you tried to run &quot;File | Invalidate Caches&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":20890656,"reputation":64,"user_id":15346086,"display_name":"Nisha Jha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618591445,"creation_date":1618591445,"answer_id":67129145,"question_id":66718629,"body_markdown":"1. In the Settings/Preferences dialog Ctrl+Alt+S, go to Build, Execution, Deployment | Compiler | Java Compiler.\r\n\r\n2. On the page that opens, check if the Project bytecode version and Target bytecode version match, or leave the Target bytecode version option blank so it can be determined from JDK.","title":"Using Intelli-j maven dependency not resolving","body":"<ol>\n<li><p>In the Settings/Preferences dialog Ctrl+Alt+S, go to Build, Execution, Deployment | Compiler | Java Compiler.</p>\n</li>\n<li><p>On the page that opens, check if the Project bytecode version and Target bytecode version match, or leave the Target bytecode version option blank so it can be determined from JDK.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":22172255,"reputation":1,"user_id":20727635,"display_name":"AdrianHuamani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671319706,"creation_date":1671319617,"answer_id":74838158,"question_id":66718629,"body_markdown":"\r\nThe problem may be the version of maven configured in intellij idea, in my case I followed the following steps to use the most recent version of maven.\r\n\r\n1. From the main menu select File | Settings/Preferences | Build, Execution, Deployment |Build Tools | Maven.\r\n\r\n2. On the Maven settings page, in the Maven home directory field, specify the location of the Maven custom version installation. For the Maven wrapper, select the use Maven wrapper option from the list. In this case the version of Maven defined in the .mvn/wrapper/maven-wrapper.properties file will be used.\r\n\r\n[Add maven local to IDE][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UctAt.png","title":"Using Intelli-j maven dependency not resolving","body":"<p>The problem may be the version of maven configured in intellij idea, in my case I followed the following steps to use the most recent version of maven.</p>\n<ol>\n<li><p>From the main menu select File | Settings/Preferences | Build, Execution, Deployment |Build Tools | Maven.</p>\n</li>\n<li><p>On the Maven settings page, in the Maven home directory field, specify the location of the Maven custom version installation. For the Maven wrapper, select the use Maven wrapper option from the list. In this case the version of Maven defined in the .mvn/wrapper/maven-wrapper.properties file will be used.</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/UctAt.png\" rel=\"nofollow noreferrer\">Add maven local to IDE</a></p>\n"}],"owner":{"account_id":14993298,"reputation":1,"user_id":10823593,"display_name":"Nikita Manektalia"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1671319706,"creation_date":1616219305,"question_id":66718629,"body_markdown":"Intelli-j maven dependency not resolving IDE taking java 11 JDK while the jars were imported by running on command prompt by setting java 8 path.Is this root cause that dependency not resolving?\r\n\r\nAny suggestion shall be helpful","title":"Using Intelli-j maven dependency not resolving","body":"<p>Intelli-j maven dependency not resolving IDE taking java 11 JDK while the jars were imported by running on command prompt by setting java 8 path.Is this root cause that dependency not resolving?</p>\n<p>Any suggestion shall be helpful</p>\n"},{"tags":["java","algorithm","numbers"],"comments":[{"owner":{"account_id":1507181,"reputation":13906,"user_id":1410303,"accept_rate":40,"display_name":"SomeDude"},"score":0,"creation_date":1671313468,"post_id":74837623,"comment_id":132074142,"body_markdown":"Hint: Build a [`TreeMap`](https://docs.oracle.com/javase/8/docs/api/java/util/TreeMap.html) with number of occurrences as value from the original number.","body":"Hint: Build a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/TreeMap.html\" rel=\"nofollow noreferrer\"><code>TreeMap</code></a> with number of occurrences as value from the original number."},{"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"score":0,"creation_date":1671313560,"post_id":74837623,"comment_id":132074158,"body_markdown":"@SomeDude, what is the next step once TreeMap is created, lets say [{1,1}, {2,1}, {5,1}, {8,1}] for the first example","body":"@SomeDude, what is the next step once TreeMap is created, lets say [{1,1}, {2,1}, {5,1}, {8,1}] for the first example"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":2,"creation_date":1671313843,"post_id":74837623,"comment_id":132074210,"body_markdown":"One thing to point out is that your first statement `if(X &gt; Y) return &quot;-1&quot;;` is incorrect.  Consider `x = 9231;\n y = 2314`.  `X` is greater than `Y` but  `2139` satisfies the requirements as stated.","body":"One thing to point out is that your first statement <code>if(X &gt; Y) return &quot;-1&quot;;</code> is incorrect.  Consider <code>x = 9231;  y = 2314</code>.  <code>X</code> is greater than <code>Y</code> but  <code>2139</code> satisfies the requirements as stated."},{"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"score":0,"creation_date":1671314788,"post_id":74837623,"comment_id":132074336,"body_markdown":"@AlexanderIvanchenko, we should not have leading zeros for the generated output. I will update my post to add that condition.","body":"@AlexanderIvanchenko, we should not have leading zeros for the generated output. I will update my post to add that condition."}],"answers":[{"comments":[{"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"score":0,"creation_date":1671314068,"post_id":74837713,"comment_id":132074237,"body_markdown":"Thank you, what is the time complexity for this approach, can you please provide that also","body":"Thank you, what is the time complexity for this approach, can you please provide that also"},{"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"score":0,"creation_date":1671314240,"post_id":74837713,"comment_id":132074261,"body_markdown":"@learner for every digit of Y, you go over all the (remaining) digits of X. This is O(n^2), where n is the number of digits","body":"@learner for every digit of Y, you go over all the (remaining) digits of X. This is O(n^2), where n is the number of digits"}],"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671313976,"creation_date":1671313976,"answer_id":74837713,"question_id":74837623,"body_markdown":"I&#39;d break both numbers down to digits, and then for each digit of `y`, look for the greatest (remaining) digit of `x` that is not greater than it. In each step, if no such digit is found, `-1` can be returned. \r\n\r\n    public static long process(long src, long max) {\r\n        long result = 0L;\r\n        List&lt;Long&gt; srcDigits = getDigits(src);\r\n        List&lt;Long&gt; maxDigits = getDigits(max);\r\n        for (Long maxDigit : maxDigits) {\r\n            Optional&lt;Long&gt; digit = \r\n                srcDigits.stream().filter(d -&gt; d &lt;= maxDigit).max(Comparator.naturalOrder());\r\n            if (digit.isEmpty()) {\r\n                return -1L;\r\n            }\r\n            long srcDigit = digit.get();\r\n            result *= 10;\r\n            result += srcDigit;\r\n            srcDigits.remove(srcDigit);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    private static List&lt;Long&gt; getDigits(long num) {\r\n        List&lt;Long&gt; digits = new LinkedList&lt;&gt;();\r\n        while (num &gt; 0) {\r\n            digits.add(0, num % 10);\r\n            num /= 10;\r\n        }\r\n        return digits;\r\n    }","title":"Find largest possible number less than Y","body":"<p>I'd break both numbers down to digits, and then for each digit of <code>y</code>, look for the greatest (remaining) digit of <code>x</code> that is not greater than it. In each step, if no such digit is found, <code>-1</code> can be returned.</p>\n<pre><code>public static long process(long src, long max) {\n    long result = 0L;\n    List&lt;Long&gt; srcDigits = getDigits(src);\n    List&lt;Long&gt; maxDigits = getDigits(max);\n    for (Long maxDigit : maxDigits) {\n        Optional&lt;Long&gt; digit = \n            srcDigits.stream().filter(d -&gt; d &lt;= maxDigit).max(Comparator.naturalOrder());\n        if (digit.isEmpty()) {\n            return -1L;\n        }\n        long srcDigit = digit.get();\n        result *= 10;\n        result += srcDigit;\n        srcDigits.remove(srcDigit);\n    }\n    return result;\n}\n\nprivate static List&lt;Long&gt; getDigits(long num) {\n    List&lt;Long&gt; digits = new LinkedList&lt;&gt;();\n    while (num &gt; 0) {\n        digits.add(0, num % 10);\n        num /= 10;\n    }\n    return digits;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":21521055,"reputation":409,"user_id":15862198,"display_name":"Utkarsh Sahu"},"score":0,"creation_date":1671340366,"post_id":74837727,"comment_id":132076739,"body_markdown":"This shall work only if the number of given digits and the number of digits in the least number are equal.","body":"This shall work only if the number of given digits and the number of digits in the least number are equal."}],"tags":[],"owner":{"account_id":21251572,"reputation":129,"user_id":15633731,"display_name":"Yosef.Schwartz"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671314149,"creation_date":1671314149,"answer_id":74837727,"question_id":74837623,"body_markdown":"You can iterate over `Y`, and each iteration look on X and find the greater possible digit in the remains digits in `X` that is less than or equal to `Y[i]`, if found take it and place it in `results[i]` (don’t forget to remove it from `X`), if not - return false.","title":"Find largest possible number less than Y","body":"<p>You can iterate over <code>Y</code>, and each iteration look on X and find the greater possible digit in the remains digits in <code>X</code> that is less than or equal to <code>Y[i]</code>, if found take it and place it in <code>results[i]</code> (don’t forget to remove it from <code>X</code>), if not - return false.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671319463,"creation_date":1671319131,"answer_id":74838128,"question_id":74837623,"body_markdown":"The idea introduced in the [answer by @Mureinik][answerLink] can be enhanced by reducing the number of iterations.\r\n\r\nWe can create an array `int[]` of size `10` representing frequencies of each digit in the number `x`. It would eliminate the need of performing removal on the list which has a cost of **O(n)** like in the linked answer (instead the corresponding element would be decremented in **O(1)**). Also, the size of the array of frequents is less than the maximum possible number of digits in the `long` number. These advantages would be more significant if `x` and `y` would be represented as `BigInteger` or numeric `String`s.\r\n\r\n    public static String process(long x, long y) {\r\n        \r\n        int[] target = toArray(y);\r\n        \r\n        int[] frequencies = getFrequencies(x);\r\n        int[] result = new int[target.length];\r\n        \r\n        for (int i = 0; i &lt; target.length; i++) {\r\n            int nextDigit = getIndex(frequencies, target[i]); // performs at most 10 iterations\r\n            \r\n            if (nextDigit == -1) return &quot;-1&quot;;\r\n            \r\n            result[i] = nextDigit;    // O(1)\r\n            frequencies[nextDigit]--; // O(1)\r\n        }\r\n        \r\n        return toString(result);\r\n    }\r\n    \r\n    public static int getIndex(int[] freq, int digit) {\r\n        int nextDigit = -1;\r\n        for (int i = digit; i &gt; 0; i--) {\r\n            if (freq[i] &gt; 0) {\r\n                nextDigit = i;\r\n                break;\r\n            }\r\n        }\r\n        return nextDigit;\r\n    }\r\n    \r\n    public static int[] toArray(long num) {\r\n        \r\n        return LongStream.iterate(num, n -&gt; n &gt; 0, n -&gt; n / 10)\r\n            .map(n -&gt; n % 10)\r\n            .collect(\r\n                ArrayDeque&lt;Long&gt;::new,\r\n                Deque::offerFirst,\r\n                Collection::addAll\r\n            )\r\n            .stream()\r\n            .mapToInt(Long::intValue)\r\n            .toArray();\r\n    }\r\n    \r\n    public static int[] getFrequencies(long num) {\r\n        int[] freq = new int[10];\r\n        long cur = num;\r\n        while (cur != 0) {\r\n            freq[(int) (cur % 10)]++;\r\n            cur /= 10;\r\n        }\r\n        return freq;\r\n    }\r\n    \r\n    public static String toString(int[] arr) {\r\n        \r\n        return Arrays.stream(arr).mapToObj(String::valueOf).collect(Collectors.joining());\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(process(2851, 8774));\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\n8521\r\n```\r\n\r\n\r\n\r\n   [answerLink]: https://stackoverflow.com/a/74837713/17949945","title":"Find largest possible number less than Y","body":"<p>The idea introduced in the <a href=\"https://stackoverflow.com/a/74837713/17949945\">answer by @Mureinik</a> can be enhanced by reducing the number of iterations.</p>\n<p>We can create an array <code>int[]</code> of size <code>10</code> representing frequencies of each digit in the number <code>x</code>. It would eliminate the need of performing removal on the list which has a cost of <strong>O(n)</strong> like in the linked answer (instead the corresponding element would be decremented in <strong>O(1)</strong>). Also, the size of the array of frequents is less than the maximum possible number of digits in the <code>long</code> number. These advantages would be more significant if <code>x</code> and <code>y</code> would be represented as <code>BigInteger</code> or numeric <code>String</code>s.</p>\n<pre><code>public static String process(long x, long y) {\n    \n    int[] target = toArray(y);\n    \n    int[] frequencies = getFrequencies(x);\n    int[] result = new int[target.length];\n    \n    for (int i = 0; i &lt; target.length; i++) {\n        int nextDigit = getIndex(frequencies, target[i]); // performs at most 10 iterations\n        \n        if (nextDigit == -1) return &quot;-1&quot;;\n        \n        result[i] = nextDigit;    // O(1)\n        frequencies[nextDigit]--; // O(1)\n    }\n    \n    return toString(result);\n}\n\npublic static int getIndex(int[] freq, int digit) {\n    int nextDigit = -1;\n    for (int i = digit; i &gt; 0; i--) {\n        if (freq[i] &gt; 0) {\n            nextDigit = i;\n            break;\n        }\n    }\n    return nextDigit;\n}\n\npublic static int[] toArray(long num) {\n    \n    return LongStream.iterate(num, n -&gt; n &gt; 0, n -&gt; n / 10)\n        .map(n -&gt; n % 10)\n        .collect(\n            ArrayDeque&lt;Long&gt;::new,\n            Deque::offerFirst,\n            Collection::addAll\n        )\n        .stream()\n        .mapToInt(Long::intValue)\n        .toArray();\n}\n\npublic static int[] getFrequencies(long num) {\n    int[] freq = new int[10];\n    long cur = num;\n    while (cur != 0) {\n        freq[(int) (cur % 10)]++;\n        cur /= 10;\n    }\n    return freq;\n}\n\npublic static String toString(int[] arr) {\n    \n    return Arrays.stream(arr).mapToObj(String::valueOf).collect(Collectors.joining());\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(process(2851, 8774));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>8521\n</code></pre>\n"}],"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"closed_date":1671386373,"answer_count":3,"score":3,"last_activity_date":1671319463,"creation_date":1671313020,"question_id":74837623,"body_markdown":"Re-arrange the number `X` and find the greatest possible number that is less than or equal to `Y`. If that is not possible then return `-1`.\r\nAlso, we should not have leading zeros for the generated output\r\n\r\n**Example:**\r\n\r\n    X = 2851\r\n    Y = 8774\r\n\r\n**Ans:**\r\n\r\n    8521\r\n\r\n**Explanation:** 8521 is less than or equal to 8774 and it is the largest possible number.\r\n\r\n\r\nThis is the code I tried:\r\n\r\n    public String process(long X, long Y) {\r\n     if(X &gt; Y) return &quot;-1&quot;;\r\n     char[] arr = (&quot;&quot;+X).toCharArray();\r\n     Arrays.sort(arr);\r\n     String s = new String(arr);\r\n     s = new StringBuilder(s).reverse().toString();\r\n     long x1 = Long.parseLong(s);\r\n     if(x1 &lt;= Y) return &quot;&quot; + x1;\r\n     return &quot;=1&quot;;\r\n    }\r\n\r\nMy approach is not correct as I am checking for the largest possible number always for the given digits in X. What is the correct approach to solve this program?\r\n\r\nAnother sample test case that fails with my program is:\r\n\r\n**Example:**\r\n\r\n    X = 12222\r\n    Y = 21111\r\n\r\n**Expected Ans:**\r\n\r\n    12222\r\n\r\n","title":"Find largest possible number less than Y","body":"<p>Re-arrange the number <code>X</code> and find the greatest possible number that is less than or equal to <code>Y</code>. If that is not possible then return <code>-1</code>.\nAlso, we should not have leading zeros for the generated output</p>\n<p><strong>Example:</strong></p>\n<pre><code>X = 2851\nY = 8774\n</code></pre>\n<p><strong>Ans:</strong></p>\n<pre><code>8521\n</code></pre>\n<p><strong>Explanation:</strong> 8521 is less than or equal to 8774 and it is the largest possible number.</p>\n<p>This is the code I tried:</p>\n<pre><code>public String process(long X, long Y) {\n if(X &gt; Y) return &quot;-1&quot;;\n char[] arr = (&quot;&quot;+X).toCharArray();\n Arrays.sort(arr);\n String s = new String(arr);\n s = new StringBuilder(s).reverse().toString();\n long x1 = Long.parseLong(s);\n if(x1 &lt;= Y) return &quot;&quot; + x1;\n return &quot;=1&quot;;\n}\n</code></pre>\n<p>My approach is not correct as I am checking for the largest possible number always for the given digits in X. What is the correct approach to solve this program?</p>\n<p>Another sample test case that fails with my program is:</p>\n<p><strong>Example:</strong></p>\n<pre><code>X = 12222\nY = 21111\n</code></pre>\n<p><strong>Expected Ans:</strong></p>\n<pre><code>12222\n</code></pre>\n"},{"tags":["java","authentication","config","ioexception","jaas"],"comments":[{"owner":{"account_id":10384769,"reputation":41,"user_id":7658281,"display_name":"Ludwig Bckrt"},"score":0,"creation_date":1495986004,"post_id":44228582,"comment_id":75468144,"body_markdown":"Ah some parts are german so here the translations:\nDatei = file\nVerzeichnis = directory\nnicht = not\nvorhanden = present (available)","body":"Ah some parts are german so here the translations: Datei = file Verzeichnis = directory nicht = not vorhanden = present (available)"}],"answers":[{"tags":[],"owner":{"account_id":8448295,"reputation":702,"user_id":6338085,"display_name":"David Miller"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671319221,"creation_date":1671319221,"answer_id":74838137,"question_id":44228582,"body_markdown":"Looks like your jaas.conf can&#39;t be found.\r\n\r\nHave you added this jvmArg?\r\n\r\n    java -Djava.security.auth.login.config=src/main/resources/jaas/jaas.config\r\n\r\nYou might have to change the path to your jaas.conf as the example is my path.\r\n","title":"Java IOException jaas.conf (File or Directory not present)","body":"<p>Looks like your jaas.conf can't be found.</p>\n<p>Have you added this jvmArg?</p>\n<pre><code>java -Djava.security.auth.login.config=src/main/resources/jaas/jaas.config\n</code></pre>\n<p>You might have to change the path to your jaas.conf as the example is my path.</p>\n"}],"owner":{"account_id":10384769,"reputation":41,"user_id":7658281,"display_name":"Ludwig Bckrt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1334,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1671319221,"creation_date":1495982957,"question_id":44228582,"body_markdown":"I&#39;m trying to create a Login using JAAS. \r\nI always get an `IOException` when the method, which calls the `login()` method, is called.\r\n\r\nThe method where I call the `login()` method:\r\n\r\n    @FXML\r\n\tvoid anmeldenButton(ActionEvent event) throws LoginException {\r\n\t\tname = tfbn.getText();\r\n\t\tpassword = tfpw.getText();\r\n\r\n\t\ttry {\r\n\t\t\tLoginContext lc = new LoginContext(&quot;LoginConfig&quot;, new CallbackHandler(name, password));\r\n\t\t\tlc.login();\r\n\t\t} catch (LoginException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\nThe Config file: \r\n\r\n    LoginConfig {\r\n       application.LoginModule required;\r\n    };\r\n\r\nThe error: \r\n\r\n        Exception in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n    \tat javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1774)\r\n    \tat javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1657)\r\n    \tat com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n    \tat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\r\n    \tat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n    \tat com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n    \tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n    \tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n    \tat com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n    \tat javafx.event.Event.fireEvent(Event.java:198)\r\n    \tat javafx.scene.Node.fireEvent(Node.java:8413)\r\n    \tat javafx.scene.control.Button.fire(Button.java:185)\r\n    \tat com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:182)\r\n    \tat com.sun.javafx.scene.control.skin.BehaviorSkinBase$1.handle(BehaviorSkinBase.java:96)\r\n    \tat com.sun.javafx.scene.control.skin.BehaviorSkinBase$1.handle(BehaviorSkinBase.java:89)\r\n    \tat com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:218)\r\n    \tat com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n    \tat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\r\n    \tat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n    \tat com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n    \tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n    \tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n    \tat com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n    \tat javafx.event.Event.fireEvent(Event.java:198)\r\n    \tat javafx.scene.Scene$MouseHandler.process(Scene.java:3757)\r\n    \tat javafx.scene.Scene$MouseHandler.access$1500(Scene.java:3485)\r\n    \tat javafx.scene.Scene.impl_processMouseEvent(Scene.java:1762)\r\n    \tat javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2494)\r\n    \tat com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:381)\r\n    \tat com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:295)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$354(GlassViewEventHandler.java:417)\r\n    \tat com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:389)\r\n    \tat com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:416)\r\n    \tat com.sun.glass.ui.View.handleMouseEvent(View.java:555)\r\n    \tat com.sun.glass.ui.View.notifyMouse(View.java:937)\r\n    \tat com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n    \tat com.sun.glass.ui.win.WinApplication.lambda$null$148(WinApplication.java:191)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat sun.reflect.misc.Trampoline.invoke(Unknown Source)\r\n    \tat sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat sun.reflect.misc.MethodUtil.invoke(Unknown Source)\r\n    \tat javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1769)\r\n    \t... 52 more\r\n    Caused by: java.lang.SecurityException: java.io.IOException: jaas.conf (Datei oder Verzeichnis nicht vorhanden)\r\n    \tat sun.security.provider.ConfigFile$Spi.&lt;init&gt;(Unknown Source)\r\n    \tat sun.security.provider.ConfigFile.&lt;init&gt;(Unknown Source)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\r\n    \tat java.lang.reflect.Constructor.newInstance(Unknown Source)\r\n    \tat java.lang.Class.newInstance(Unknown Source)\r\n    \tat javax.security.auth.login.Configuration$2.run(Unknown Source)\r\n    \tat javax.security.auth.login.Configuration$2.run(Unknown Source)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat javax.security.auth.login.Configuration.getConfiguration(Unknown Source)\r\n    \tat javax.security.auth.login.LoginContext$1.run(Unknown Source)\r\n    \tat javax.security.auth.login.LoginContext$1.run(Unknown Source)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat javax.security.auth.login.LoginContext.init(Unknown Source)\r\n    \tat javax.security.auth.login.LoginContext.&lt;init&gt;(Unknown Source)\r\n    \tat application.AccountController.anmeldenButton(AccountController.java:43)\r\n    \t... 62 more\r\n    Caused by: java.io.IOException: jaas.conf (Datei oder Verzeichnis nicht vorhanden)\r\n    \tat sun.security.provider.ConfigFile$Spi.ioException(Unknown Source)\r\n    \tat sun.security.provider.ConfigFile$Spi.init(Unknown Source)\r\n    \t... 79 more\r\n\r\nI can&#39;t figure out what the problem is.","title":"Java IOException jaas.conf (File or Directory not present)","body":"<p>I'm trying to create a Login using JAAS. \nI always get an <code>IOException</code> when the method, which calls the <code>login()</code> method, is called.</p>\n\n<p>The method where I call the <code>login()</code> method:</p>\n\n<pre><code>@FXML\nvoid anmeldenButton(ActionEvent event) throws LoginException {\n    name = tfbn.getText();\n    password = tfpw.getText();\n\n    try {\n        LoginContext lc = new LoginContext(\"LoginConfig\", new CallbackHandler(name, password));\n        lc.login();\n    } catch (LoginException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>The Config file: </p>\n\n<pre><code>LoginConfig {\n   application.LoginModule required;\n};\n</code></pre>\n\n<p>The error: </p>\n\n<pre><code>    Exception in thread \"JavaFX Application Thread\" java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n    at javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1774)\n    at javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1657)\n    at com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\n    at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.scene.Node.fireEvent(Node.java:8413)\n    at javafx.scene.control.Button.fire(Button.java:185)\n    at com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:182)\n    at com.sun.javafx.scene.control.skin.BehaviorSkinBase$1.handle(BehaviorSkinBase.java:96)\n    at com.sun.javafx.scene.control.skin.BehaviorSkinBase$1.handle(BehaviorSkinBase.java:89)\n    at com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:218)\n    at com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\n    at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.scene.Scene$MouseHandler.process(Scene.java:3757)\n    at javafx.scene.Scene$MouseHandler.access$1500(Scene.java:3485)\n    at javafx.scene.Scene.impl_processMouseEvent(Scene.java:1762)\n    at javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2494)\n    at com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:381)\n    at com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:295)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$354(GlassViewEventHandler.java:417)\n    at com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:389)\n    at com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:416)\n    at com.sun.glass.ui.View.handleMouseEvent(View.java:555)\n    at com.sun.glass.ui.View.notifyMouse(View.java:937)\n    at com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at com.sun.glass.ui.win.WinApplication.lambda$null$148(WinApplication.java:191)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at sun.reflect.misc.Trampoline.invoke(Unknown Source)\n    at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at sun.reflect.misc.MethodUtil.invoke(Unknown Source)\n    at javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1769)\n    ... 52 more\nCaused by: java.lang.SecurityException: java.io.IOException: jaas.conf (Datei oder Verzeichnis nicht vorhanden)\n    at sun.security.provider.ConfigFile$Spi.&lt;init&gt;(Unknown Source)\n    at sun.security.provider.ConfigFile.&lt;init&gt;(Unknown Source)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n    at java.lang.reflect.Constructor.newInstance(Unknown Source)\n    at java.lang.Class.newInstance(Unknown Source)\n    at javax.security.auth.login.Configuration$2.run(Unknown Source)\n    at javax.security.auth.login.Configuration$2.run(Unknown Source)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at javax.security.auth.login.Configuration.getConfiguration(Unknown Source)\n    at javax.security.auth.login.LoginContext$1.run(Unknown Source)\n    at javax.security.auth.login.LoginContext$1.run(Unknown Source)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at javax.security.auth.login.LoginContext.init(Unknown Source)\n    at javax.security.auth.login.LoginContext.&lt;init&gt;(Unknown Source)\n    at application.AccountController.anmeldenButton(AccountController.java:43)\n    ... 62 more\nCaused by: java.io.IOException: jaas.conf (Datei oder Verzeichnis nicht vorhanden)\n    at sun.security.provider.ConfigFile$Spi.ioException(Unknown Source)\n    at sun.security.provider.ConfigFile$Spi.init(Unknown Source)\n    ... 79 more\n</code></pre>\n\n<p>I can't figure out what the problem is.</p>\n"},{"tags":["java","input"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1671317927,"post_id":74837741,"comment_id":132074791,"body_markdown":"Does anything on the following page  help? https://stackoverflow.com/questions/26446599/how-to-use-java-util-scanner-to-correctly-read-user-input-from-system-in-and-act","body":"Does anything on the following page  help? <a href=\"https://stackoverflow.com/questions/26446599/how-to-use-java-util-scanner-to-correctly-read-user-input-from-system-in-and-act\" title=\"how to use java util scanner to correctly read user input from system in and act\">stackoverflow.com/questions/26446599/&hellip;</a>"},{"owner":{"account_id":4010701,"reputation":15103,"user_id":4398966,"accept_rate":64,"display_name":"DCR"},"score":0,"creation_date":1671318318,"post_id":74837741,"comment_id":132074835,"body_markdown":"roflol.  That&#39;s like asking someone the meaning of life and being given the entire encyclopedia. No, that was NOT helpful.  See my answer below.  Thanks for the reference.","body":"roflol.  That&#39;s like asking someone the meaning of life and being given the entire encyclopedia. No, that was NOT helpful.  See my answer below.  Thanks for the reference."}],"answers":[{"tags":[],"owner":{"account_id":4010701,"reputation":15103,"user_id":4398966,"accept_rate":64,"display_name":"DCR"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671318089,"creation_date":1671318089,"answer_id":74838047,"question_id":74837741,"body_markdown":"here&#39;s what I&#39;ve come up with as a better way:\r\n\r\n    boolean valid = false;\r\n    while (!valid) {            \r\n            valid = kb.hasNextInt() ;\r\n            if (valid) {\r\n                nextTask = kb.nextInt();\r\n                if(nextTask &lt; 1 || (nextTask &gt; 5 &amp;&amp; nextTask != 9)) {\r\n                    System.out.print(&quot;please enter task number (1-5, or 9); &quot;);\r\n                    valid = false;\r\n                }\r\n            }\r\n            else {\r\n                System.out.print(&quot;Please enter a valid number&quot;);\r\n            }\r\n            kb.nextLine();\r\n    }","title":"java get correct input from keyboard","body":"<p>here's what I've come up with as a better way:</p>\n<pre><code>boolean valid = false;\nwhile (!valid) {            \n        valid = kb.hasNextInt() ;\n        if (valid) {\n            nextTask = kb.nextInt();\n            if(nextTask &lt; 1 || (nextTask &gt; 5 &amp;&amp; nextTask != 9)) {\n                System.out.print(&quot;please enter task number (1-5, or 9); &quot;);\n                valid = false;\n            }\n        }\n        else {\n            System.out.print(&quot;Please enter a valid number&quot;);\n        }\n        kb.nextLine();\n}\n</code></pre>\n"}],"owner":{"account_id":4010701,"reputation":15103,"user_id":4398966,"accept_rate":64,"display_name":"DCR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671318089,"creation_date":1671314352,"question_id":74837741,"body_markdown":"I need the user to input a number 1-5 or 9 from the keyboard and want to keep prompting  until they input a correct number.  Here&#39;s the code that I have:\r\n\r\n    String taskInput = kb.nextLine();\r\n    Scanner kbString = new Scanner(taskInput);\r\n\r\n    boolean validInput = false;\r\n    boolean validSelection;\r\n        \r\n    while(!validInput){\r\n        validSelection = false;\r\n        while (!kbString.hasNextInt()){\r\n            System.out.print(&quot;Please enter a task number; &quot;); \r\n            taskInput = kb.nextLine();\r\n            kbString = new Scanner(taskInput);\r\n        }\r\n        \r\n        while(!validSelection){        \r\n            if(kbString.hasNextInt()) {\r\n                nextTask = kbString.nextInt();\r\n                if(nextTask &lt; 1 || (nextTask &gt; 5 &amp;&amp; nextTask != 9)) {                         \r\n                    validSelection = true;\r\n                }else{\r\n                    validInput = true;\r\n                    validSelection = true;\r\n                }                    \r\n            }\r\n        }\r\n    }\r\n\r\nThis works but I find it a little confusing as we need to set validSelection = true even when the user inputs a bad number e.g. 7.  Is there a cleaner way of doing this? ","title":"java get correct input from keyboard","body":"<p>I need the user to input a number 1-5 or 9 from the keyboard and want to keep prompting  until they input a correct number.  Here's the code that I have:</p>\n<pre><code>String taskInput = kb.nextLine();\nScanner kbString = new Scanner(taskInput);\n\nboolean validInput = false;\nboolean validSelection;\n    \nwhile(!validInput){\n    validSelection = false;\n    while (!kbString.hasNextInt()){\n        System.out.print(&quot;Please enter a task number; &quot;); \n        taskInput = kb.nextLine();\n        kbString = new Scanner(taskInput);\n    }\n    \n    while(!validSelection){        \n        if(kbString.hasNextInt()) {\n            nextTask = kbString.nextInt();\n            if(nextTask &lt; 1 || (nextTask &gt; 5 &amp;&amp; nextTask != 9)) {                         \n                validSelection = true;\n            }else{\n                validInput = true;\n                validSelection = true;\n            }                    \n        }\n    }\n}\n</code></pre>\n<p>This works but I find it a little confusing as we need to set validSelection = true even when the user inputs a bad number e.g. 7.  Is there a cleaner way of doing this?</p>\n"},{"tags":["java","android","flutter","kotlin","gradle"],"owner":{"account_id":12966074,"reputation":167,"user_id":9373556,"display_name":"rizky ramadhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":335,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671316936,"creation_date":1671316936,"question_id":74837968,"body_markdown":"When running ```flutter build apk --release```, I get the following:\r\n\r\n```\r\nw: Runtime JAR files in the classpath should have the same version. These files were found in the classpath:\r\n    C:/Users/rizky/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-jdk8/1.6.10/e80fe6ac3c3573a80305f5ec43f86b829e8ab53d/kotlin-stdlib-jdk8-1.6.10.jar (version 1.6)\r\n    C:/Users/rizky/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-jdk7/1.6.21/568c1b78a8e17a4f35b31f0a74e2916095ed74c2/kotlin-stdlib-jdk7-1.6.21.jar (version 1.6)\r\n    C:/Users/rizky/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.7.10/d2abf9e77736acc4450dc4a3f707fa2c10f5099d/kotlin-stdlib-1.7.10.jar (version 1.7)\r\n    C:/Users/rizky/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-common/1.7.10/bac80c520d0a9e3f3673bc2658c6ed02ef45a76a/kotlin-stdlib-common-1.7.10.jar (version 1.7)\r\nw: Some runtime JAR files in the classpath have an incompatible version. Consider removing them from the classpath\r\ne: C:/Users/rizky/.gradle/caches/modules-2/files-2.1/androidx.annotation/annotation/1.5.0/857678d6b4ca7b28571ef7935c668bdb57e15027/annotation-1.5.0.jar!/META-INF/annotation.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.7.1, expected version is 1.5.1.\r\ne: C:/Users/rizky/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.7.10/d2abf9e77736acc4450dc4a3f707fa2c10f5099d/kotlin-stdlib-1.7.10.jar!/META-INF/kotlin-stdlib.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.7.1, expected version is 1.5.1.\r\ne: C:/Users/rizky/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-common/1.7.10/bac80c520d0a9e3f3673bc2658c6ed02ef45a76a/kotlin-stdlib-common-1.7.10.jar!/META-INF/kotlin-stdlib-common.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.7.1, expected version is 1.5.1.\r\nw: Runtime JAR files in the classpath should have the same version. These files were found in the classpath:\r\n    C:/Users/rizky/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-jdk8/1.6.10/e80fe6ac3c3573a80305f5ec43f86b829e8ab53d/kotlin-stdlib-jdk8-1.6.10.jar (version 1.6)\r\n    C:/Users/rizky/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-jdk7/1.6.21/568c1b78a8e17a4f35b31f0a74e2916095ed74c2/kotlin-stdlib-jdk7-1.6.21.jar (version 1.6)\r\n    C:/Users/rizky/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.7.10/d2abf9e77736acc4450dc4a3f707fa2c10f5099d/kotlin-stdlib-1.7.10.jar (version 1.7)\r\n    C:/Users/rizky/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-common/1.7.10/bac80c520d0a9e3f3673bc2658c6ed02ef45a76a/kotlin-stdlib-common-1.7.10.jar (version 1.7)\r\nw: Some runtime JAR files in the classpath have an incompatible version. Consider removing them from the classpath\r\n```\r\n\r\nI have already done some of the suggestions I&#39;ve found online but so far nothing have worked. In ```android/build.gradle```:\r\n\r\n```\r\nbuildscript {\r\n    ext.kotlin_version = &#39;1.6.10&#39;\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.1.2&#39;\r\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n}\r\n\r\nrootProject.buildDir = &#39;../build&#39;\r\nsubprojects {\r\n    project.buildDir = &quot;${rootProject.buildDir}/${project.name}&quot;\r\n}\r\nsubprojects {\r\n    project.evaluationDependsOn(&#39;:app&#39;)\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n```\r\n\r\nAnd in ```app/build.gradle```:\r\n\r\n```\r\ndef localProperties = new Properties()\r\ndef localPropertiesFile = rootProject.file(&#39;local.properties&#39;)\r\nif (localPropertiesFile.exists()) {\r\n    localPropertiesFile.withReader(&#39;UTF-8&#39;) { reader -&gt;\r\n        localProperties.load(reader)\r\n    }\r\n}\r\n\r\ndef flutterRoot = localProperties.getProperty(&#39;flutter.sdk&#39;)\r\nif (flutterRoot == null) {\r\n    throw new GradleException(&quot;Flutter SDK not found. Define location with flutter.sdk in the local.properties file.&quot;)\r\n}\r\n\r\ndef flutterVersionCode = localProperties.getProperty(&#39;flutter.versionCode&#39;)\r\nif (flutterVersionCode == null) {\r\n    flutterVersionCode = &#39;1&#39;\r\n}\r\n\r\ndef flutterVersionName = localProperties.getProperty(&#39;flutter.versionName&#39;)\r\nif (flutterVersionName == null) {\r\n    flutterVersionName = &#39;1.0&#39;\r\n}\r\n\r\napply plugin: &#39;com.android.application&#39;\r\napply plugin: &#39;kotlin-android&#39;\r\napply from: &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;\r\n\r\nandroid {\r\n    compileSdkVersion 33\r\n    ndkVersion flutter.ndkVersion\r\n\r\n    compileOptions {\r\n        coreLibraryDesugaringEnabled true\r\n\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n    kotlinOptions {\r\n        jvmTarget = &#39;1.8&#39;\r\n    }\r\n\r\n    sourceSets {\r\n        main.java.srcDirs += &#39;src/main/kotlin&#39;\r\n    }\r\n\r\n    defaultConfig {\r\n        // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\r\n        applicationId &quot;com.example.lindu&quot;\r\n        // You can update the following values to match your application needs.\r\n        // For more information, see: https://docs.flutter.dev/deployment/android#reviewing-the-build-configuration.\r\n        minSdkVersion flutter.minSdkVersion\r\n        targetSdkVersion flutter.targetSdkVersion\r\n        versionCode flutterVersionCode.toInteger()\r\n        versionName flutterVersionName\r\n\r\n        multiDexEnabled true\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            // TODO: Add your own signing config for the release build.\r\n            // Signing with the debug keys for now, so `flutter run --release` works.\r\n            signingConfig signingConfigs.debug\r\n        }\r\n    }\r\n}\r\n\r\nflutter {\r\n    source &#39;../..&#39;\r\n}\r\n\r\ndependencies {\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version&quot;\r\n    coreLibraryDesugaring &#39;com.android.tools:desugar_jdk_libs:1.1.5&#39;\r\n}\r\n```\r\n\r\nI&#39;ve been able to build my apk no problem before, I added workmanager to my pubsec.yaml and this issue started coming up. Any help appreciated I&#39;ve been stuck on this for awhile! Thank you!","title":"Flutter Error: Some runtime JAR files in the classpath have an incompatible version. Consider removing them from the classpath","body":"<p>When running <code>flutter build apk --release</code>, I get the following:</p>\n<pre><code>w: Runtime JAR files in the classpath should have the same version. These files were found in the classpath:\n    C:/Users/rizky/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-jdk8/1.6.10/e80fe6ac3c3573a80305f5ec43f86b829e8ab53d/kotlin-stdlib-jdk8-1.6.10.jar (version 1.6)\n    C:/Users/rizky/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-jdk7/1.6.21/568c1b78a8e17a4f35b31f0a74e2916095ed74c2/kotlin-stdlib-jdk7-1.6.21.jar (version 1.6)\n    C:/Users/rizky/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.7.10/d2abf9e77736acc4450dc4a3f707fa2c10f5099d/kotlin-stdlib-1.7.10.jar (version 1.7)\n    C:/Users/rizky/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-common/1.7.10/bac80c520d0a9e3f3673bc2658c6ed02ef45a76a/kotlin-stdlib-common-1.7.10.jar (version 1.7)\nw: Some runtime JAR files in the classpath have an incompatible version. Consider removing them from the classpath\ne: C:/Users/rizky/.gradle/caches/modules-2/files-2.1/androidx.annotation/annotation/1.5.0/857678d6b4ca7b28571ef7935c668bdb57e15027/annotation-1.5.0.jar!/META-INF/annotation.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.7.1, expected version is 1.5.1.\ne: C:/Users/rizky/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.7.10/d2abf9e77736acc4450dc4a3f707fa2c10f5099d/kotlin-stdlib-1.7.10.jar!/META-INF/kotlin-stdlib.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.7.1, expected version is 1.5.1.\ne: C:/Users/rizky/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-common/1.7.10/bac80c520d0a9e3f3673bc2658c6ed02ef45a76a/kotlin-stdlib-common-1.7.10.jar!/META-INF/kotlin-stdlib-common.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.7.1, expected version is 1.5.1.\nw: Runtime JAR files in the classpath should have the same version. These files were found in the classpath:\n    C:/Users/rizky/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-jdk8/1.6.10/e80fe6ac3c3573a80305f5ec43f86b829e8ab53d/kotlin-stdlib-jdk8-1.6.10.jar (version 1.6)\n    C:/Users/rizky/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-jdk7/1.6.21/568c1b78a8e17a4f35b31f0a74e2916095ed74c2/kotlin-stdlib-jdk7-1.6.21.jar (version 1.6)\n    C:/Users/rizky/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.7.10/d2abf9e77736acc4450dc4a3f707fa2c10f5099d/kotlin-stdlib-1.7.10.jar (version 1.7)\n    C:/Users/rizky/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-common/1.7.10/bac80c520d0a9e3f3673bc2658c6ed02ef45a76a/kotlin-stdlib-common-1.7.10.jar (version 1.7)\nw: Some runtime JAR files in the classpath have an incompatible version. Consider removing them from the classpath\n</code></pre>\n<p>I have already done some of the suggestions I've found online but so far nothing have worked. In <code>android/build.gradle</code>:</p>\n<pre><code>buildscript {\n    ext.kotlin_version = '1.6.10'\n    repositories {\n        google()\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.1.2'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\nrootProject.buildDir = '../build'\nsubprojects {\n    project.buildDir = &quot;${rootProject.buildDir}/${project.name}&quot;\n}\nsubprojects {\n    project.evaluationDependsOn(':app')\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>And in <code>app/build.gradle</code>:</p>\n<pre><code>def localProperties = new Properties()\ndef localPropertiesFile = rootProject.file('local.properties')\nif (localPropertiesFile.exists()) {\n    localPropertiesFile.withReader('UTF-8') { reader -&gt;\n        localProperties.load(reader)\n    }\n}\n\ndef flutterRoot = localProperties.getProperty('flutter.sdk')\nif (flutterRoot == null) {\n    throw new GradleException(&quot;Flutter SDK not found. Define location with flutter.sdk in the local.properties file.&quot;)\n}\n\ndef flutterVersionCode = localProperties.getProperty('flutter.versionCode')\nif (flutterVersionCode == null) {\n    flutterVersionCode = '1'\n}\n\ndef flutterVersionName = localProperties.getProperty('flutter.versionName')\nif (flutterVersionName == null) {\n    flutterVersionName = '1.0'\n}\n\napply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply from: &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;\n\nandroid {\n    compileSdkVersion 33\n    ndkVersion flutter.ndkVersion\n\n    compileOptions {\n        coreLibraryDesugaringEnabled true\n\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n\n    defaultConfig {\n        // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\n        applicationId &quot;com.example.lindu&quot;\n        // You can update the following values to match your application needs.\n        // For more information, see: https://docs.flutter.dev/deployment/android#reviewing-the-build-configuration.\n        minSdkVersion flutter.minSdkVersion\n        targetSdkVersion flutter.targetSdkVersion\n        versionCode flutterVersionCode.toInteger()\n        versionName flutterVersionName\n\n        multiDexEnabled true\n    }\n\n    buildTypes {\n        release {\n            // TODO: Add your own signing config for the release build.\n            // Signing with the debug keys for now, so `flutter run --release` works.\n            signingConfig signingConfigs.debug\n        }\n    }\n}\n\nflutter {\n    source '../..'\n}\n\ndependencies {\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version&quot;\n    coreLibraryDesugaring 'com.android.tools:desugar_jdk_libs:1.1.5'\n}\n</code></pre>\n<p>I've been able to build my apk no problem before, I added workmanager to my pubsec.yaml and this issue started coming up. Any help appreciated I've been stuck on this for awhile! Thank you!</p>\n"},{"tags":["java","multithreading","server"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1671320893,"post_id":74837444,"comment_id":132075110,"body_markdown":"By the way, you need to keep that reference to your `Executor` to eventually shut it down. Otherwise its backing pool of threads may continue running past the end of your app, running indefinitely, like a zombie &#129503;‍♂️.","body":"By the way, you need to keep that reference to your <code>Executor</code> to eventually shut it down. Otherwise its backing pool of threads may continue running past the end of your app, running indefinitely, like a zombie 🧟‍♂️."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1671321505,"post_id":74837444,"comment_id":132075182,"body_markdown":"By the way, this comment is incorrect, as instantiating a `Runnable` is *not* creating a thread: *// Create a new thread for the client and submit it to the thread pool*","body":"By the way, this comment is incorrect, as instantiating a <code>Runnable</code> is <i>not</i> creating a thread: <i>// Create a new thread for the client and submit it to the thread pool</i>"}],"answers":[{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1671321186,"post_id":74837951,"comment_id":132075136,"body_markdown":"Good Answer. Note to the reader: ASCII and Unicode [provide four characters](https://en.m.wikipedia.org/wiki/Delimiter#ASCII_delimited_text) expressly for the purpose of delimiting such data.","body":"Good Answer. Note to the reader: ASCII and Unicode <a href=\"https://en.m.wikipedia.org/wiki/Delimiter#ASCII_delimited_text\" rel=\"nofollow noreferrer\">provide four characters</a> expressly for the purpose of delimiting such data."}],"tags":[],"owner":{"account_id":4319681,"reputation":2422,"user_id":3528321,"display_name":"Dan Bonachea"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671316774,"creation_date":1671316774,"answer_id":74837951,"question_id":74837444,"body_markdown":"The &quot;An established connection was aborted by the software in your host machine&quot; exception is the client noticing the server process has crashed and closed the connection, while writing at Client.java:83.\r\n\r\nIt would be more helpful to see crash information from the Server process where the defect appears to occur. However even without that, I notice you are using a space-delimited protocol, ie:\r\n\r\nClient:\r\n```java\r\n// Send the ADD command and the bug report details to the server\r\noutToServer.writeBytes(&quot;ADD &quot; + appName + &quot; &quot; + dateTime + &quot; &quot; + platform + &quot; &quot; + problem + &quot; &quot; + status + &quot;\\n&quot;);\r\n``` \r\n\r\nServer:\r\n```java\r\n else if (request.startsWith(&quot;ADD&quot;))\r\n {\r\n     // Parse the request\r\n     String[] tokens = request.split(&quot; &quot;);\r\n     String appName = tokens[1];\r\n     String dateTimeStamp = tokens[2];\r\n     String platform = tokens[3];\r\n     String problemDesc = tokens[4];\r\n     String status = tokens[5];\r\n\r\n     // Add the bug report to the database\r\n     int bugId = nextBugId++;\r\n     bugDatabase.put(bugId, appName + &quot; &quot; + dateTimeStamp + &quot; &quot; + platform + &quot; &quot; + problemDesc + &quot; &quot; + status);\r\n     outToClient.writeBytes(&quot;OK &quot; + bugId + &quot;\\n&quot;);\r\n\r\n```\r\nHowever this probably only functions as you intend if none of those fields includes an embedded space character! If they do, then it throws off the server parsing of the fields, and the trailing words in your new record will be truncated. The same assumption/problem occurs elsewhere in the server code.\r\n\r\nI&#39;m not sure why this would cause an actual crash, but you should probably choose a better delimiter character that is less likely to appear embedded in the field values.\r\n","title":"Constant crashes with my Java Multi-threaded TCP Server","body":"<p>The &quot;An established connection was aborted by the software in your host machine&quot; exception is the client noticing the server process has crashed and closed the connection, while writing at Client.java:83.</p>\n<p>It would be more helpful to see crash information from the Server process where the defect appears to occur. However even without that, I notice you are using a space-delimited protocol, ie:</p>\n<p>Client:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Send the ADD command and the bug report details to the server\noutToServer.writeBytes(&quot;ADD &quot; + appName + &quot; &quot; + dateTime + &quot; &quot; + platform + &quot; &quot; + problem + &quot; &quot; + status + &quot;\\n&quot;);\n</code></pre>\n<p>Server:</p>\n<pre class=\"lang-java prettyprint-override\"><code> else if (request.startsWith(&quot;ADD&quot;))\n {\n     // Parse the request\n     String[] tokens = request.split(&quot; &quot;);\n     String appName = tokens[1];\n     String dateTimeStamp = tokens[2];\n     String platform = tokens[3];\n     String problemDesc = tokens[4];\n     String status = tokens[5];\n\n     // Add the bug report to the database\n     int bugId = nextBugId++;\n     bugDatabase.put(bugId, appName + &quot; &quot; + dateTimeStamp + &quot; &quot; + platform + &quot; &quot; + problemDesc + &quot; &quot; + status);\n     outToClient.writeBytes(&quot;OK &quot; + bugId + &quot;\\n&quot;);\n\n</code></pre>\n<p>However this probably only functions as you intend if none of those fields includes an embedded space character! If they do, then it throws off the server parsing of the fields, and the trailing words in your new record will be truncated. The same assumption/problem occurs elsewhere in the server code.</p>\n<p>I'm not sure why this would cause an actual crash, but you should probably choose a better delimiter character that is less likely to appear embedded in the field values.</p>\n"}],"owner":{"account_id":27284739,"reputation":11,"user_id":20804099,"display_name":"John Iron"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671316774,"creation_date":1671310897,"question_id":74837444,"body_markdown":"So i know this is a big one with a lot of code but i dont know what the issue is as the login system seems to work fine but when i try to add a bug or view a bug it will crash the server and i have to restart \r\nServer :\r\n\r\n\r\n```\r\nimport java.io.*;\r\nimport java.net.*;\r\nimport java.util.*;\r\nimport java.util.concurrent.Executor;\r\nimport java.util.concurrent.Executors;\r\n\r\npublic class Server\r\n{\r\n    // User database\r\n    private static Map&lt;String, String&gt; userDatabase = new HashMap&lt;&gt;();\r\n\r\n    // Bug report database\r\n    private static Map&lt;Integer, String&gt; bugDatabase = new HashMap&lt;&gt;();\r\n    private static int nextBugId = 1;\r\n\r\n    public static void main(String[] args) throws Exception\r\n    {\r\n        // Create a server socket\r\n        ServerSocket welcomeSocket = new ServerSocket(6789);\r\n\r\n        // Create a thread pool with a fixed number of threads\r\n        Executor executor = Executors.newFixedThreadPool(10);\r\n\r\n        while (true)\r\n        {\r\n            // Accept a new client connection\r\n            Socket connectionSocket = welcomeSocket.accept();\r\n\r\n            // Create a new thread for the client and submit it to the thread pool\r\n            Runnable clientHandler = new ClientHandler(connectionSocket);\r\n            executor.execute(clientHandler);\r\n        }\r\n    }\r\n\r\n    // Inner class for handling client requests\r\n    private static class ClientHandler implements Runnable\r\n    {\r\n        private Socket connectionSocket;\r\n        private BufferedReader inFromClient;\r\n        private DataOutputStream outToClient;\r\n\r\n        public ClientHandler(Socket socket) throws Exception\r\n        {\r\n            connectionSocket = socket;\r\n            inFromClient = new BufferedReader(new InputStreamReader(connectionSocket.getInputStream()));\r\n            outToClient = new DataOutputStream(connectionSocket.getOutputStream());\r\n        }\r\n\r\n        public void run()\r\n        {\r\n            try\r\n            {\r\n                // Read request from the client\r\n                String request = inFromClient.readLine();\r\n\r\n                if (request.startsWith(&quot;REGISTER&quot;))\r\n                {\r\n                    // Parse the request\r\n                    String[] tokens = request.split(&quot; &quot;);\r\n                    String username = tokens[1];\r\n                    String password = tokens[2];\r\n\r\n                    // Check if the username is already taken\r\n                    if (userDatabase.containsKey(username))\r\n                    {\r\n                        outToClient.writeBytes(&quot;ERROR: Username already taken\\n&quot;);\r\n                    }\r\n                    else\r\n                    {\r\n                        // Add the user to the database\r\n                        userDatabase.put(username, password);\r\n                        outToClient.writeBytes(&quot;OK\\n&quot;);\r\n                    }\r\n                }\r\n                else if (request.startsWith(&quot;LOGIN&quot;))\r\n                {\r\n                    // Parse the request\r\n                    String[] tokens = request.split(&quot; &quot;);\r\n                    String username = tokens[1];\r\n                    String password = tokens[2];\r\n\r\n                    // Check if the username and password are correct\r\n                    if (!userDatabase.containsKey(username))\r\n                    {\r\n                        outToClient.writeBytes(&quot;ERROR: Invalid username\\n&quot;);\r\n                    }\r\n                    else if (!userDatabase.get(username).equals(password))\r\n                    {\r\n                        outToClient.writeBytes(&quot;ERROR: Invalid password\\n&quot;);\r\n                    }\r\n                    else\r\n                    {\r\n                        outToClient.writeBytes(&quot;OK\\n&quot;);\r\n                    }\r\n                }\r\n                else if (request.startsWith(&quot;ADD&quot;))\r\n                {\r\n                    // Parse the request\r\n                    String[] tokens = request.split(&quot; &quot;);\r\n                    String appName = tokens[1];\r\n                    String dateTimeStamp = tokens[2];\r\n                    String platform = tokens[3];\r\n                    String problemDesc = tokens[4];\r\n                    String status = tokens[5];\r\n\r\n                    // Add the bug report to the database\r\n                    int bugId = nextBugId++;\r\n                    bugDatabase.put(bugId, appName + &quot; &quot; + dateTimeStamp + &quot; &quot; + platform + &quot; &quot; + problemDesc + &quot; &quot; + status);\r\n                    outToClient.writeBytes(&quot;OK &quot; + bugId + &quot;\\n&quot;);\r\n                }\r\n                else if (request.startsWith(&quot;UPDATE&quot;))\r\n                {\r\n                    // Parse the request\r\n                    String[] tokens = request.split(&quot; &quot;);\r\n                    int bugId = Integer.parseInt(tokens[1]);\r\n                    String newStatus = tokens[2];\r\n\r\n                    // Update the bug report in the database\r\n                    if (updateBugStatus(bugId, newStatus))\r\n                    {\r\n                        outToClient.writeBytes(&quot;OK\\n&quot;);\r\n                    }\r\n                    else\r\n                    {\r\n                        outToClient.writeBytes(&quot;ERROR: Invalid bug ID\\n&quot;);\r\n                    }\r\n                }\r\n                else if (request.startsWith(&quot;VIEW&quot;))\r\n                {\r\n                    // Send all the bug reports to the client\r\n                    for (int bugId : bugDatabase.keySet())\r\n                    {\r\n                        outToClient.writeBytes(bugId + &quot; &quot; + bugDatabase.get(bugId) + &quot;\\n&quot;);\r\n                    }\r\n                    outToClient.writeBytes(&quot;OK\\n&quot;);\r\n                }\r\n                else if (request.startsWith(&quot;QUIT&quot;))\r\n                {\r\n                    // Close the connection to the client\r\n                    connectionSocket.close();\r\n                }\r\n                else\r\n                {\r\n                    // Print an error message if the request is invalid\r\n                    outToClient.writeBytes(&quot;ERROR: Invalid request\\n&quot;);\r\n                }\r\n            }\r\n            catch (IOException ex)\r\n            {\r\n                System.out.println(&quot;Error: An I/O exception occurred&quot;);\r\n            }\r\n        }        // Helper method to update the status of a bug report in the database\r\n        private boolean updateBugStatus(int bugId, String newStatus)\r\n        {\r\n            if (!bugDatabase.containsKey(bugId))\r\n            {\r\n                return false;\r\n            }\r\n\r\n            String[] bugDetails = bugDatabase.get(bugId).split(&quot; &quot;);\r\n            bugDetails[4] = newStatus;\r\n            bugDatabase.put(bugId, String.join(&quot; &quot;, bugDetails));\r\n            return true;\r\n        }\r\n    }\r\n}                    \t\t\r\n\r\n```\r\n\r\n```\r\nimport java.io.*;\r\nimport java.net.*;\r\nimport java.util.*;\r\n\r\npublic class Client\r\n{\r\n    public static void main(String[] args)\r\n    {\r\n        try\r\n        {\r\n            // Create a socket to connect to the server\r\n            Socket clientSocket = new Socket(&quot;localhost&quot;, 6789);\r\n\r\n            // Create input and output streams to read from and write to the server\r\n            BufferedReader inFromServer = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\r\n            DataOutputStream outToServer = new DataOutputStream(clientSocket.getOutputStream());\r\n\r\n            // Read input from the user\r\n            BufferedReader userInput = new BufferedReader(new InputStreamReader(System.in));\r\n\r\n            while (true)\r\n            {\r\n                // Print a prompt to the user\r\n                System.out.print(&quot;Enter a command (REGISTER, LOGIN, or QUIT): &quot;);\r\n\r\n                // Read the command from the user\r\n                String command = userInput.readLine();\r\n\r\n                if (command.equals(&quot;REGISTER&quot;))\r\n                {\r\n                    // Read the username and password from the user\r\n                    System.out.print(&quot;Enter a username: &quot;);\r\n                    String username = userInput.readLine();\r\n                    System.out.print(&quot;Enter a password: &quot;);\r\n                    String password = userInput.readLine();\r\n\r\n                    // Send the REGISTER command and the username and password to the server\r\n                    outToServer.writeBytes(&quot;REGISTER &quot; + username + &quot; &quot; + password + &quot;\\n&quot;);\r\n\r\n                    // Read the response from the server\r\n                    String response = inFromServer.readLine();\r\n                    System.out.println(response);\r\n                }\r\n                else if (command.equals(&quot;LOGIN&quot;))\r\n                {\r\n                    // Read the username and password from the user\r\n                    System.out.print(&quot;Enter a username: &quot;);\r\n                    String username = userInput.readLine();\r\n                    System.out.print(&quot;Enter a password: &quot;);\r\n                    String password = userInput.readLine();\r\n\r\n                    // Send the LOGIN command and the username and password to the server\r\n                    outToServer.writeBytes(&quot;LOGIN &quot; + username + &quot; &quot; + password + &quot;\\n&quot;);\r\n\r\n                    // Read the response from the server\r\n                    String response = inFromServer.readLine();\r\n                    System.out.println(response);\r\n\r\n                    // If the login was successful, allow the user to add a bug report\r\n                    if (response.equals(&quot;OK&quot;))\r\n                    {\r\n                        while (true)\r\n                        {\r\n                            // Print a prompt to the user\r\n                            System.out.print(&quot;Enter a command (ADD, UPDATE,VIEW ,or QUIT): &quot;);\r\n\r\n                            // Read the command from the user\r\n                            String command2 = userInput.readLine();\r\n\r\n                            if (command2.equals(&quot;ADD&quot;))\r\n                            {\r\n                                // Read the bug report details from the user\r\n                                System.out.print(&quot;Enter the application name: &quot;);\r\n                                String appName = userInput.readLine();\r\n                                System.out.print(&quot;Enter the date and time stamp: &quot;);\r\n                                String dateTime = userInput.readLine();\r\n                                System.out.print(&quot;Enter the platform: &quot;);\r\n                                String platform = userInput.readLine();\r\n                                System.out.print(&quot;Enter the problem description: &quot;);\r\n                                String problem = userInput.readLine();\r\n                                System.out.print(&quot;Enter the status (Open, Assigned, or Closed): &quot;);\r\n                                String status = userInput.readLine();\r\n\r\n                                // Send the ADD command and the bug report details to the server\r\n                                outToServer.writeBytes(&quot;ADD &quot; + appName + &quot; &quot; + dateTime + &quot; &quot; + platform + &quot; &quot; + problem + &quot; &quot; + status + &quot;\\n&quot;);\r\n\r\n                                // Read the response from the server\r\n                                String response2 = inFromServer.readLine();\r\n                                System.out.println(response2);\r\n                            }\r\n                            else if (command2.equals(&quot;UPDATE&quot;))\r\n                            {\r\n                                // Read the bug report ID and new status from the user\r\n                                System.out.print(&quot;Enter the bug report ID: &quot;);\r\n                                int bugId = Integer.parseInt(userInput.readLine());\r\n                                System.out.print(&quot;Enter the new status (Open, Assigned, or Closed): &quot;);\r\n                                String newStatus = userInput.readLine();\r\n\r\n                                // Send the UPDATE command and the bug report ID and new status to the server\r\n                                outToServer.writeBytes(&quot;UPDATE &quot; + bugId + &quot; &quot; + newStatus + &quot;\\n&quot;);\r\n\r\n                                // Read the response from the server\r\n                                String updateResponse = inFromServer.readLine();\r\n                                System.out.println(updateResponse);\r\n                            }\r\n                            else if (command2.equals(&quot;VIEW&quot;))\r\n                            {\r\n                                // Send the VIEW command to the server\r\n                                outToServer.writeBytes(&quot;VIEW\\n&quot;);\r\n\r\n                                // Read the response from the server\r\n                                String response2 = inFromServer.readLine();\r\n\r\n                                // Print the bug reports received from the server\r\n                                while (!response2.equals(&quot;OK&quot;))\r\n                                {\r\n                                    System.out.println(response2);\r\n                                    response2 = inFromServer.readLine();\r\n                                }\r\n                            }\r\n                            else if (command2.equals(&quot;QUIT&quot;))\r\n                            {\r\n                                // Send the QUIT command to the server\r\n                                outToServer.writeBytes(&quot;QUIT\\n&quot;);\r\n\r\n                                // Close the connection to the server\r\n                                clientSocket.close();\r\n\r\n                                // Terminate the loop\r\n                                break;\r\n                            }\r\n                            else\r\n                            {\r\n                                // Print an error message if the command is invalid\r\n                                System.out.println(&quot;Invalid command&quot;);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                else if (command.equals(&quot;QUIT&quot;))\r\n                {\r\n                    // Send the QUIT command to the server\r\n                    outToServer.writeBytes(&quot;QUIT\\n&quot;);\r\n\r\n                    // Close the connection to the server\r\n                    clientSocket.close();\r\n\r\n                    // Terminate the loop\r\n                    break;\r\n                }\r\n                else\r\n                {\r\n                    // Print an error message if the command is invalid\r\n                    System.out.println(&quot;Invalid command&quot;);\r\n                }\r\n            }\r\n        }\r\n        catch (UnknownHostException ex)\r\n        {\r\n            System.out.println(&quot;Error: Unable to connect to the server&quot;);\r\n        }\r\n        catch (IOException ex)\r\n        {\r\n            System.out.println(&quot;Error: An I/O exception occurred&quot;);\r\n        }\r\n        catch (NumberFormatException ex)\r\n        {\r\n            System.out.println(&quot;Error: Invalid input&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI just want to simply make it so that the bugs are registered to the server and then can be show on the client side without anything crashing\r\n\r\nthe execption thrown :\r\n\r\n    Exception in thread &quot;main&quot; java.net.SocketException: An established connection was aborted by the software in your host machine\r\n    \tat java.base/sun.nio.ch.NioSocketImpl.implWrite(NioSocketImpl.java:420)\r\n    \tat java.base/sun.nio.ch.NioSocketImpl.write(NioSocketImpl.java:440)\r\n    \tat java.base/sun.nio.ch.NioSocketImpl$2.write(NioSocketImpl.java:826)\r\n    \tat java.base/java.net.Socket$SocketOutputStream.write(Socket.java:1035)\r\n    \tat java.base/java.net.Socket$SocketOutputStream.write(Socket.java:1031)\r\n    \tat java.base/java.io.DataOutputStream.writeBytes(DataOutputStream.java:282)\r\n    \tat Client.main(Client.java:83)","title":"Constant crashes with my Java Multi-threaded TCP Server","body":"<p>So i know this is a big one with a lot of code but i dont know what the issue is as the login system seems to work fine but when i try to add a bug or view a bug it will crash the server and i have to restart\nServer :</p>\n<pre><code>import java.io.*;\nimport java.net.*;\nimport java.util.*;\nimport java.util.concurrent.Executor;\nimport java.util.concurrent.Executors;\n\npublic class Server\n{\n    // User database\n    private static Map&lt;String, String&gt; userDatabase = new HashMap&lt;&gt;();\n\n    // Bug report database\n    private static Map&lt;Integer, String&gt; bugDatabase = new HashMap&lt;&gt;();\n    private static int nextBugId = 1;\n\n    public static void main(String[] args) throws Exception\n    {\n        // Create a server socket\n        ServerSocket welcomeSocket = new ServerSocket(6789);\n\n        // Create a thread pool with a fixed number of threads\n        Executor executor = Executors.newFixedThreadPool(10);\n\n        while (true)\n        {\n            // Accept a new client connection\n            Socket connectionSocket = welcomeSocket.accept();\n\n            // Create a new thread for the client and submit it to the thread pool\n            Runnable clientHandler = new ClientHandler(connectionSocket);\n            executor.execute(clientHandler);\n        }\n    }\n\n    // Inner class for handling client requests\n    private static class ClientHandler implements Runnable\n    {\n        private Socket connectionSocket;\n        private BufferedReader inFromClient;\n        private DataOutputStream outToClient;\n\n        public ClientHandler(Socket socket) throws Exception\n        {\n            connectionSocket = socket;\n            inFromClient = new BufferedReader(new InputStreamReader(connectionSocket.getInputStream()));\n            outToClient = new DataOutputStream(connectionSocket.getOutputStream());\n        }\n\n        public void run()\n        {\n            try\n            {\n                // Read request from the client\n                String request = inFromClient.readLine();\n\n                if (request.startsWith(&quot;REGISTER&quot;))\n                {\n                    // Parse the request\n                    String[] tokens = request.split(&quot; &quot;);\n                    String username = tokens[1];\n                    String password = tokens[2];\n\n                    // Check if the username is already taken\n                    if (userDatabase.containsKey(username))\n                    {\n                        outToClient.writeBytes(&quot;ERROR: Username already taken\\n&quot;);\n                    }\n                    else\n                    {\n                        // Add the user to the database\n                        userDatabase.put(username, password);\n                        outToClient.writeBytes(&quot;OK\\n&quot;);\n                    }\n                }\n                else if (request.startsWith(&quot;LOGIN&quot;))\n                {\n                    // Parse the request\n                    String[] tokens = request.split(&quot; &quot;);\n                    String username = tokens[1];\n                    String password = tokens[2];\n\n                    // Check if the username and password are correct\n                    if (!userDatabase.containsKey(username))\n                    {\n                        outToClient.writeBytes(&quot;ERROR: Invalid username\\n&quot;);\n                    }\n                    else if (!userDatabase.get(username).equals(password))\n                    {\n                        outToClient.writeBytes(&quot;ERROR: Invalid password\\n&quot;);\n                    }\n                    else\n                    {\n                        outToClient.writeBytes(&quot;OK\\n&quot;);\n                    }\n                }\n                else if (request.startsWith(&quot;ADD&quot;))\n                {\n                    // Parse the request\n                    String[] tokens = request.split(&quot; &quot;);\n                    String appName = tokens[1];\n                    String dateTimeStamp = tokens[2];\n                    String platform = tokens[3];\n                    String problemDesc = tokens[4];\n                    String status = tokens[5];\n\n                    // Add the bug report to the database\n                    int bugId = nextBugId++;\n                    bugDatabase.put(bugId, appName + &quot; &quot; + dateTimeStamp + &quot; &quot; + platform + &quot; &quot; + problemDesc + &quot; &quot; + status);\n                    outToClient.writeBytes(&quot;OK &quot; + bugId + &quot;\\n&quot;);\n                }\n                else if (request.startsWith(&quot;UPDATE&quot;))\n                {\n                    // Parse the request\n                    String[] tokens = request.split(&quot; &quot;);\n                    int bugId = Integer.parseInt(tokens[1]);\n                    String newStatus = tokens[2];\n\n                    // Update the bug report in the database\n                    if (updateBugStatus(bugId, newStatus))\n                    {\n                        outToClient.writeBytes(&quot;OK\\n&quot;);\n                    }\n                    else\n                    {\n                        outToClient.writeBytes(&quot;ERROR: Invalid bug ID\\n&quot;);\n                    }\n                }\n                else if (request.startsWith(&quot;VIEW&quot;))\n                {\n                    // Send all the bug reports to the client\n                    for (int bugId : bugDatabase.keySet())\n                    {\n                        outToClient.writeBytes(bugId + &quot; &quot; + bugDatabase.get(bugId) + &quot;\\n&quot;);\n                    }\n                    outToClient.writeBytes(&quot;OK\\n&quot;);\n                }\n                else if (request.startsWith(&quot;QUIT&quot;))\n                {\n                    // Close the connection to the client\n                    connectionSocket.close();\n                }\n                else\n                {\n                    // Print an error message if the request is invalid\n                    outToClient.writeBytes(&quot;ERROR: Invalid request\\n&quot;);\n                }\n            }\n            catch (IOException ex)\n            {\n                System.out.println(&quot;Error: An I/O exception occurred&quot;);\n            }\n        }        // Helper method to update the status of a bug report in the database\n        private boolean updateBugStatus(int bugId, String newStatus)\n        {\n            if (!bugDatabase.containsKey(bugId))\n            {\n                return false;\n            }\n\n            String[] bugDetails = bugDatabase.get(bugId).split(&quot; &quot;);\n            bugDetails[4] = newStatus;\n            bugDatabase.put(bugId, String.join(&quot; &quot;, bugDetails));\n            return true;\n        }\n    }\n}                           \n\n</code></pre>\n<pre><code>import java.io.*;\nimport java.net.*;\nimport java.util.*;\n\npublic class Client\n{\n    public static void main(String[] args)\n    {\n        try\n        {\n            // Create a socket to connect to the server\n            Socket clientSocket = new Socket(&quot;localhost&quot;, 6789);\n\n            // Create input and output streams to read from and write to the server\n            BufferedReader inFromServer = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\n            DataOutputStream outToServer = new DataOutputStream(clientSocket.getOutputStream());\n\n            // Read input from the user\n            BufferedReader userInput = new BufferedReader(new InputStreamReader(System.in));\n\n            while (true)\n            {\n                // Print a prompt to the user\n                System.out.print(&quot;Enter a command (REGISTER, LOGIN, or QUIT): &quot;);\n\n                // Read the command from the user\n                String command = userInput.readLine();\n\n                if (command.equals(&quot;REGISTER&quot;))\n                {\n                    // Read the username and password from the user\n                    System.out.print(&quot;Enter a username: &quot;);\n                    String username = userInput.readLine();\n                    System.out.print(&quot;Enter a password: &quot;);\n                    String password = userInput.readLine();\n\n                    // Send the REGISTER command and the username and password to the server\n                    outToServer.writeBytes(&quot;REGISTER &quot; + username + &quot; &quot; + password + &quot;\\n&quot;);\n\n                    // Read the response from the server\n                    String response = inFromServer.readLine();\n                    System.out.println(response);\n                }\n                else if (command.equals(&quot;LOGIN&quot;))\n                {\n                    // Read the username and password from the user\n                    System.out.print(&quot;Enter a username: &quot;);\n                    String username = userInput.readLine();\n                    System.out.print(&quot;Enter a password: &quot;);\n                    String password = userInput.readLine();\n\n                    // Send the LOGIN command and the username and password to the server\n                    outToServer.writeBytes(&quot;LOGIN &quot; + username + &quot; &quot; + password + &quot;\\n&quot;);\n\n                    // Read the response from the server\n                    String response = inFromServer.readLine();\n                    System.out.println(response);\n\n                    // If the login was successful, allow the user to add a bug report\n                    if (response.equals(&quot;OK&quot;))\n                    {\n                        while (true)\n                        {\n                            // Print a prompt to the user\n                            System.out.print(&quot;Enter a command (ADD, UPDATE,VIEW ,or QUIT): &quot;);\n\n                            // Read the command from the user\n                            String command2 = userInput.readLine();\n\n                            if (command2.equals(&quot;ADD&quot;))\n                            {\n                                // Read the bug report details from the user\n                                System.out.print(&quot;Enter the application name: &quot;);\n                                String appName = userInput.readLine();\n                                System.out.print(&quot;Enter the date and time stamp: &quot;);\n                                String dateTime = userInput.readLine();\n                                System.out.print(&quot;Enter the platform: &quot;);\n                                String platform = userInput.readLine();\n                                System.out.print(&quot;Enter the problem description: &quot;);\n                                String problem = userInput.readLine();\n                                System.out.print(&quot;Enter the status (Open, Assigned, or Closed): &quot;);\n                                String status = userInput.readLine();\n\n                                // Send the ADD command and the bug report details to the server\n                                outToServer.writeBytes(&quot;ADD &quot; + appName + &quot; &quot; + dateTime + &quot; &quot; + platform + &quot; &quot; + problem + &quot; &quot; + status + &quot;\\n&quot;);\n\n                                // Read the response from the server\n                                String response2 = inFromServer.readLine();\n                                System.out.println(response2);\n                            }\n                            else if (command2.equals(&quot;UPDATE&quot;))\n                            {\n                                // Read the bug report ID and new status from the user\n                                System.out.print(&quot;Enter the bug report ID: &quot;);\n                                int bugId = Integer.parseInt(userInput.readLine());\n                                System.out.print(&quot;Enter the new status (Open, Assigned, or Closed): &quot;);\n                                String newStatus = userInput.readLine();\n\n                                // Send the UPDATE command and the bug report ID and new status to the server\n                                outToServer.writeBytes(&quot;UPDATE &quot; + bugId + &quot; &quot; + newStatus + &quot;\\n&quot;);\n\n                                // Read the response from the server\n                                String updateResponse = inFromServer.readLine();\n                                System.out.println(updateResponse);\n                            }\n                            else if (command2.equals(&quot;VIEW&quot;))\n                            {\n                                // Send the VIEW command to the server\n                                outToServer.writeBytes(&quot;VIEW\\n&quot;);\n\n                                // Read the response from the server\n                                String response2 = inFromServer.readLine();\n\n                                // Print the bug reports received from the server\n                                while (!response2.equals(&quot;OK&quot;))\n                                {\n                                    System.out.println(response2);\n                                    response2 = inFromServer.readLine();\n                                }\n                            }\n                            else if (command2.equals(&quot;QUIT&quot;))\n                            {\n                                // Send the QUIT command to the server\n                                outToServer.writeBytes(&quot;QUIT\\n&quot;);\n\n                                // Close the connection to the server\n                                clientSocket.close();\n\n                                // Terminate the loop\n                                break;\n                            }\n                            else\n                            {\n                                // Print an error message if the command is invalid\n                                System.out.println(&quot;Invalid command&quot;);\n                            }\n                        }\n                    }\n                }\n                else if (command.equals(&quot;QUIT&quot;))\n                {\n                    // Send the QUIT command to the server\n                    outToServer.writeBytes(&quot;QUIT\\n&quot;);\n\n                    // Close the connection to the server\n                    clientSocket.close();\n\n                    // Terminate the loop\n                    break;\n                }\n                else\n                {\n                    // Print an error message if the command is invalid\n                    System.out.println(&quot;Invalid command&quot;);\n                }\n            }\n        }\n        catch (UnknownHostException ex)\n        {\n            System.out.println(&quot;Error: Unable to connect to the server&quot;);\n        }\n        catch (IOException ex)\n        {\n            System.out.println(&quot;Error: An I/O exception occurred&quot;);\n        }\n        catch (NumberFormatException ex)\n        {\n            System.out.println(&quot;Error: Invalid input&quot;);\n        }\n    }\n}\n\n\n\n\n</code></pre>\n<p>I just want to simply make it so that the bugs are registered to the server and then can be show on the client side without anything crashing</p>\n<p>the execption thrown :</p>\n<pre><code>Exception in thread &quot;main&quot; java.net.SocketException: An established connection was aborted by the software in your host machine\n    at java.base/sun.nio.ch.NioSocketImpl.implWrite(NioSocketImpl.java:420)\n    at java.base/sun.nio.ch.NioSocketImpl.write(NioSocketImpl.java:440)\n    at java.base/sun.nio.ch.NioSocketImpl$2.write(NioSocketImpl.java:826)\n    at java.base/java.net.Socket$SocketOutputStream.write(Socket.java:1035)\n    at java.base/java.net.Socket$SocketOutputStream.write(Socket.java:1031)\n    at java.base/java.io.DataOutputStream.writeBytes(DataOutputStream.java:282)\n    at Client.main(Client.java:83)\n</code></pre>\n"},{"tags":["java","spring-boot","junit","microservices","spring-cloud"],"comments":[{"owner":{"account_id":14486057,"reputation":264,"user_id":10463949,"display_name":"rostIvan"},"score":0,"creation_date":1671316032,"post_id":74737014,"comment_id":132074518,"body_markdown":"The repo link is not accesable","body":"The repo link is not accesable"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1671316269,"post_id":74737014,"comment_id":132074562,"body_markdown":"@rostIvan I revised the link. You can access the link now.","body":"@rostIvan I revised the link. You can access the link now."}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":355,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671316246,"creation_date":1670538438,"question_id":74737014,"body_markdown":"I have a problem about running any test of service regarding spring boot microservice.\r\n\r\nThe **issue** is located at **OrderControllerTest** of order service.\r\n\r\nAfter running all services up, I tried to run any test of **OrderControllerTest** but I got this issue shown below.\r\n\r\nI got **Status = 404** as `authenticate/login` belongs to auth service.\r\n\r\nI have an **auth service** to implement the process of authentication and authorization with JWT.\r\n\r\nTh request url which I want to request is `http://AUTH-SERVICE/authenticate/login`\r\n\r\nHow can I fix it?\r\n\r\nI tried to use some options but they didn&#39;t help me fix the issue.\r\n\r\n    JWTResponse response = restTemplate.postForObject(&quot;http://localhost:7777/authenticate/login&quot;, loginRequest, JWTResponse.class);\r\n\r\n    JWTResponse response = restTemplate.postForObject(&quot;http://AUTH-SERVICE:7777/authenticate/login&quot;, loginRequest, JWTResponse.class);\r\n\r\nWhat should I do?\r\n\r\nHere is the test method.\r\n\r\n        @Test\r\n        @DisplayName(&quot;Place Order -- Success Scenario&quot;)\r\n        @WithMockUser(username = &quot;User&quot;, authorities = { &quot;ROLE_USER&quot; })\r\n        void test_When_placeOrder_DoPayment_Success() throws Exception {\r\n    \r\n            OrderRequest orderRequest = getMockOrderRequest();\r\n            String jwt = getJWTTokenForRoleUser();\r\n    \r\n            MvcResult mvcResult\r\n                    = mockMvc.perform(MockMvcRequestBuilders.post(&quot;/order/placeorder&quot;)\r\n                            .contentType(MediaType.APPLICATION_JSON_VALUE)\r\n                            .header(&quot;Authorization&quot;, &quot;Bearer &quot; + jwt)\r\n                            .content(objectMapper.writeValueAsString(orderRequest)))\r\n                    .andExpect(MockMvcResultMatchers.status().isOk())\r\n                    .andReturn();\r\n    \r\n            String orderId = mvcResult.getResponse().getContentAsString();\r\n    \r\n            Optional&lt;Order&gt; order = orderRepository.findById(Long.valueOf(orderId));\r\n            assertTrue(order.isPresent());\r\n    \r\n            Order o = order.get();\r\n            assertEquals(Long.parseLong(orderId), o.getId());\r\n            assertEquals(&quot;PLACED&quot;, o.getOrderStatus());\r\n            assertEquals(orderRequest.getTotalAmount(), o.getAmount());\r\n            assertEquals(orderRequest.getQuantity(), o.getQuantity());\r\n    \r\n        }\r\n\r\nHere is the getJWTTokenForRoleUser method shown below.\r\n\r\n    private String getJWTTokenForRoleUser() throws Exception {\r\n    \r\n            var loginRequest = new LoginRequest(&quot;User&quot;,&quot;User&quot;);\r\n    \r\n            // HERE IS THE PROBLEM \r\n            MvcResult result = mockMvc.perform(MockMvcRequestBuilders.post(&quot;/authenticate/login&quot;)\r\n                            .contentType(MediaType.APPLICATION_JSON)\r\n                            .content(asJsonString(loginRequest)))\r\n                    .andDo(MockMvcResultHandlers.print())\r\n                    .andExpect(MockMvcResultMatchers.status().isOk())\r\n                    .andReturn();\r\n    \r\n            String content = result.getResponse().getContentAsString();\r\n            var loggedUser = objectMapper.readValue(content, JWTResponse.class);\r\n    \r\n            String jwt = jwtUtils.getUserNameFromJwtToken(loggedUser.getToken());\r\n    \r\n            return jwt;\r\n        }\r\n\r\n\r\nHere is the **getUserNameFromJwtToken** of JwtUtils in **order service**\r\n\r\n    public String getUserNameFromJwtToken(String token) {\r\n         if(token.startsWith(&quot;Bearer&quot;)){\r\n                    token = token.substring(7);\r\n         }\r\n         String username= Jwts.parser().setSigningKey(jwtSecret).parseClaimsJws(token).getBody().getSubject();\r\n         return username;\r\n    }\r\n\r\n\r\nHere is the repo : [Link][1]\r\n\r\n**To run the app,**\r\n\r\n1 ) Run Service Registery (Eureka Server)\r\n\r\n2 ) Run config server\r\n\r\n3 ) Run zipkin and redis through these commands shown below on docker\r\n\r\n      docker run -d -p 9411:9411 openzipkin/zipkin\r\n      docker run -d --name redis -p 6379:6379 redis\r\n\r\n4 ) Run api gateway\r\n\r\n5 ) Run other services\r\n\r\n\r\n  [1]: https://github.com/Rapter1990/springbootmicroservicedailybuffer","title":"Spring Boot Microservice - JUnit Controller Test - Cannot call url of another module from one module ( Status 404 ) How to mock microservice","body":"<p>I have a problem about running any test of service regarding spring boot microservice.</p>\n<p>The <strong>issue</strong> is located at <strong>OrderControllerTest</strong> of order service.</p>\n<p>After running all services up, I tried to run any test of <strong>OrderControllerTest</strong> but I got this issue shown below.</p>\n<p>I got <strong>Status = 404</strong> as <code>authenticate/login</code> belongs to auth service.</p>\n<p>I have an <strong>auth service</strong> to implement the process of authentication and authorization with JWT.</p>\n<p>Th request url which I want to request is <code>http://AUTH-SERVICE/authenticate/login</code></p>\n<p>How can I fix it?</p>\n<p>I tried to use some options but they didn't help me fix the issue.</p>\n<pre><code>JWTResponse response = restTemplate.postForObject(&quot;http://localhost:7777/authenticate/login&quot;, loginRequest, JWTResponse.class);\n\nJWTResponse response = restTemplate.postForObject(&quot;http://AUTH-SERVICE:7777/authenticate/login&quot;, loginRequest, JWTResponse.class);\n</code></pre>\n<p>What should I do?</p>\n<p>Here is the test method.</p>\n<pre><code>    @Test\n    @DisplayName(&quot;Place Order -- Success Scenario&quot;)\n    @WithMockUser(username = &quot;User&quot;, authorities = { &quot;ROLE_USER&quot; })\n    void test_When_placeOrder_DoPayment_Success() throws Exception {\n\n        OrderRequest orderRequest = getMockOrderRequest();\n        String jwt = getJWTTokenForRoleUser();\n\n        MvcResult mvcResult\n                = mockMvc.perform(MockMvcRequestBuilders.post(&quot;/order/placeorder&quot;)\n                        .contentType(MediaType.APPLICATION_JSON_VALUE)\n                        .header(&quot;Authorization&quot;, &quot;Bearer &quot; + jwt)\n                        .content(objectMapper.writeValueAsString(orderRequest)))\n                .andExpect(MockMvcResultMatchers.status().isOk())\n                .andReturn();\n\n        String orderId = mvcResult.getResponse().getContentAsString();\n\n        Optional&lt;Order&gt; order = orderRepository.findById(Long.valueOf(orderId));\n        assertTrue(order.isPresent());\n\n        Order o = order.get();\n        assertEquals(Long.parseLong(orderId), o.getId());\n        assertEquals(&quot;PLACED&quot;, o.getOrderStatus());\n        assertEquals(orderRequest.getTotalAmount(), o.getAmount());\n        assertEquals(orderRequest.getQuantity(), o.getQuantity());\n\n    }\n</code></pre>\n<p>Here is the getJWTTokenForRoleUser method shown below.</p>\n<pre><code>private String getJWTTokenForRoleUser() throws Exception {\n\n        var loginRequest = new LoginRequest(&quot;User&quot;,&quot;User&quot;);\n\n        // HERE IS THE PROBLEM \n        MvcResult result = mockMvc.perform(MockMvcRequestBuilders.post(&quot;/authenticate/login&quot;)\n                        .contentType(MediaType.APPLICATION_JSON)\n                        .content(asJsonString(loginRequest)))\n                .andDo(MockMvcResultHandlers.print())\n                .andExpect(MockMvcResultMatchers.status().isOk())\n                .andReturn();\n\n        String content = result.getResponse().getContentAsString();\n        var loggedUser = objectMapper.readValue(content, JWTResponse.class);\n\n        String jwt = jwtUtils.getUserNameFromJwtToken(loggedUser.getToken());\n\n        return jwt;\n    }\n</code></pre>\n<p>Here is the <strong>getUserNameFromJwtToken</strong> of JwtUtils in <strong>order service</strong></p>\n<pre><code>public String getUserNameFromJwtToken(String token) {\n     if(token.startsWith(&quot;Bearer&quot;)){\n                token = token.substring(7);\n     }\n     String username= Jwts.parser().setSigningKey(jwtSecret).parseClaimsJws(token).getBody().getSubject();\n     return username;\n}\n</code></pre>\n<p>Here is the repo : <a href=\"https://github.com/Rapter1990/springbootmicroservicedailybuffer\" rel=\"nofollow noreferrer\">Link</a></p>\n<p><strong>To run the app,</strong></p>\n<p>1 ) Run Service Registery (Eureka Server)</p>\n<p>2 ) Run config server</p>\n<p>3 ) Run zipkin and redis through these commands shown below on docker</p>\n<pre><code>  docker run -d -p 9411:9411 openzipkin/zipkin\n  docker run -d --name redis -p 6379:6379 redis\n</code></pre>\n<p>4 ) Run api gateway</p>\n<p>5 ) Run other services</p>\n"},{"tags":["java","android-studio"],"answers":[{"comments":[{"owner":{"account_id":5838262,"reputation":1034,"user_id":4600638,"accept_rate":0,"display_name":"Vaibhav More"},"score":0,"creation_date":1671553743,"post_id":74837880,"comment_id":132121893,"body_markdown":"@NAREN BAIRAGi can you please also upvote the answer if it solved your issue","body":"@NAREN BAIRAGi can you please also upvote the answer if it solved your issue"}],"tags":[],"owner":{"account_id":5838262,"reputation":1034,"user_id":4600638,"accept_rate":0,"display_name":"Vaibhav More"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671315757,"creation_date":1671315757,"answer_id":74837880,"question_id":74835377,"body_markdown":"You are initializing a new jsonArray that&#39;s not the way to do it\r\n\r\nInstead of this\r\n\r\n    JSONArray jsonArray = new JSONArray(response.getJSONArray(&quot;records&quot;).getJSONObject(1));\r\n\r\nDo this\r\n\r\n    JSONArray jsonArray = response.getJSONArray(&quot;records&quot;);\r\n    JSONObject jsonObject = jsonArray.getJSONObject(1));\r\n\r\nBy doing it this way you will also get your second json object into `jsonObject` variable\r\n\r\n\r\n","title":"Not a primitive array: class org.json.JSONArray","body":"<p>You are initializing a new jsonArray that's not the way to do it</p>\n<p>Instead of this</p>\n<pre><code>JSONArray jsonArray = new JSONArray(response.getJSONArray(&quot;records&quot;).getJSONObject(1));\n</code></pre>\n<p>Do this</p>\n<pre><code>JSONArray jsonArray = response.getJSONArray(&quot;records&quot;);\nJSONObject jsonObject = jsonArray.getJSONObject(1));\n</code></pre>\n<p>By doing it this way you will also get your second json object into <code>jsonObject</code> variable</p>\n"}],"owner":{"account_id":27282704,"reputation":13,"user_id":20802374,"display_name":"NAREN BAIRAGi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74837880,"answer_count":1,"score":1,"last_activity_date":1671315757,"creation_date":1671292007,"question_id":74835377,"body_markdown":"`{\r\n    &quot;records&quot;: [\r\n        {\r\n            &quot;id&quot;: &quot;rec43JpMrSsSmAoGG&quot;,\r\n            &quot;createdTime&quot;: &quot;2022-12-17T15:30:47.000Z&quot;,\r\n            &quot;fields&quot;: {\r\n                &quot;Name&quot;: &quot;green.&quot;\r\n            }\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;recBfJzGGNdwRiCWR&quot;,\r\n            &quot;createdTime&quot;: &quot;2022-12-17T15:31:16.000Z&quot;,\r\n            &quot;fields&quot;: {\r\n                &quot;Name&quot;: &quot;yellow.&quot;\r\n            }\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;recDynbN2dibdMLvO&quot;,\r\n            &quot;createdTime&quot;: &quot;2022-12-17T15:31:16.000Z&quot;,\r\n            &quot;fields&quot;: {\r\n                &quot;Name&quot;: &quot;purple.&quot;\r\n            }\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;recNZMK3mZda33CXU&quot;,\r\n            &quot;createdTime&quot;: &quot;2022-12-17T15:31:16.000Z&quot;,\r\n            &quot;fields&quot;: {\r\n                &quot;Name&quot;: &quot;brown.&quot;\r\n            }\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;reca6MBTrUKQXqcIl&quot;,\r\n            &quot;createdTime&quot;: &quot;2022-12-17T15:31:16.000Z&quot;,\r\n            &quot;fields&quot;: {\r\n                &quot;Name&quot;: &quot;pink.&quot;\r\n            }\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;recdM8t7quScDwRLF&quot;,\r\n            &quot;createdTime&quot;: &quot;2022-12-17T15:31:16.000Z&quot;,\r\n            &quot;fields&quot;: {\r\n                &quot;Name&quot;: &quot;orange.&quot;\r\n            }\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;recq5aeM3M7Gjsif9&quot;,\r\n            &quot;createdTime&quot;: &quot;2022-12-17T15:30:47.000Z&quot;,\r\n            &quot;fields&quot;: {\r\n                &quot;Name&quot;: &quot;blue.&quot;\r\n            }\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;recxcNttZ5UoamShI&quot;,\r\n            &quot;createdTime&quot;: &quot;2022-12-17T15:30:47.000Z&quot;,\r\n            &quot;fields&quot;: {\r\n                &quot;Name&quot;: &quot;red.&quot;\r\n            }\r\n        }\r\n    ]\r\n}\r\n`\r\n\r\nits my Json file but i hew to use Volley laibery but ex. Not a primitive array: class org.json.JSONArray\r\nhelp us \r\njava code is\r\n\r\n\r\n\r\n```\r\nRequestQueue queue = Volley.newRequestQueue(this);\r\n        String url =&quot;http://loclhost:1111/json&quot;;\r\n         JsonObjectRequest jsonArryRequest =new JsonObjectRequest(Request.Method.GET, url, null, new Response.Listener&lt;JSONObject&gt;() {\r\n             @Override\r\n             public void onResponse(JSONObject response) {\r\n\r\n                 try {\r\n\r\n                    JSONArray jsonArray = new JSONArray(response.getJSONArray(&quot;records&quot;).getJSONObject(1));\r\n\r\n                 } catch (JSONException e) {\r\n                     e.printStackTrace();\r\n                     Log.d(&quot;Papa&quot;,&quot;Ex - &quot;+e.getMessage());\r\n                 }\r\n\r\n             }\r\n         }, new Response.ErrorListener() {\r\n             @Override\r\n             public void onErrorResponse(VolleyError error) {\r\n                 String errorm = error.getMessage();\r\n                 Log.d(&quot;papa&quot;, &quot;error : &quot;+errorm);\r\n\r\n             }\r\n         });\r\n\r\n         queue.add(jsonArryRequest);\r\n```\r\n","title":"Not a primitive array: class org.json.JSONArray","body":"<p><code>{ &quot;records&quot;: [ { &quot;id&quot;: &quot;rec43JpMrSsSmAoGG&quot;, &quot;createdTime&quot;: &quot;2022-12-17T15:30:47.000Z&quot;, &quot;fields&quot;: { &quot;Name&quot;: &quot;green.&quot; } }, { &quot;id&quot;: &quot;recBfJzGGNdwRiCWR&quot;, &quot;createdTime&quot;: &quot;2022-12-17T15:31:16.000Z&quot;, &quot;fields&quot;: { &quot;Name&quot;: &quot;yellow.&quot; } }, { &quot;id&quot;: &quot;recDynbN2dibdMLvO&quot;, &quot;createdTime&quot;: &quot;2022-12-17T15:31:16.000Z&quot;, &quot;fields&quot;: { &quot;Name&quot;: &quot;purple.&quot; } }, { &quot;id&quot;: &quot;recNZMK3mZda33CXU&quot;, &quot;createdTime&quot;: &quot;2022-12-17T15:31:16.000Z&quot;, &quot;fields&quot;: { &quot;Name&quot;: &quot;brown.&quot; } }, { &quot;id&quot;: &quot;reca6MBTrUKQXqcIl&quot;, &quot;createdTime&quot;: &quot;2022-12-17T15:31:16.000Z&quot;, &quot;fields&quot;: { &quot;Name&quot;: &quot;pink.&quot; } }, { &quot;id&quot;: &quot;recdM8t7quScDwRLF&quot;, &quot;createdTime&quot;: &quot;2022-12-17T15:31:16.000Z&quot;, &quot;fields&quot;: { &quot;Name&quot;: &quot;orange.&quot; } }, { &quot;id&quot;: &quot;recq5aeM3M7Gjsif9&quot;, &quot;createdTime&quot;: &quot;2022-12-17T15:30:47.000Z&quot;, &quot;fields&quot;: { &quot;Name&quot;: &quot;blue.&quot; } }, { &quot;id&quot;: &quot;recxcNttZ5UoamShI&quot;, &quot;createdTime&quot;: &quot;2022-12-17T15:30:47.000Z&quot;, &quot;fields&quot;: { &quot;Name&quot;: &quot;red.&quot; } } ] } </code></p>\n<p>its my Json file but i hew to use Volley laibery but ex. Not a primitive array: class org.json.JSONArray\nhelp us\njava code is</p>\n<pre><code>RequestQueue queue = Volley.newRequestQueue(this);\n        String url =&quot;http://loclhost:1111/json&quot;;\n         JsonObjectRequest jsonArryRequest =new JsonObjectRequest(Request.Method.GET, url, null, new Response.Listener&lt;JSONObject&gt;() {\n             @Override\n             public void onResponse(JSONObject response) {\n\n                 try {\n\n                    JSONArray jsonArray = new JSONArray(response.getJSONArray(&quot;records&quot;).getJSONObject(1));\n\n                 } catch (JSONException e) {\n                     e.printStackTrace();\n                     Log.d(&quot;Papa&quot;,&quot;Ex - &quot;+e.getMessage());\n                 }\n\n             }\n         }, new Response.ErrorListener() {\n             @Override\n             public void onErrorResponse(VolleyError error) {\n                 String errorm = error.getMessage();\n                 Log.d(&quot;papa&quot;, &quot;error : &quot;+errorm);\n\n             }\n         });\n\n         queue.add(jsonArryRequest);\n</code></pre>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":23698132,"reputation":21,"user_id":17721607,"display_name":"cSquared"},"score":0,"creation_date":1639989398,"post_id":70418918,"comment_id":124479456,"body_markdown":"It may be a font/typeface issue. I removed the font and it seems be ok. But the font was working well before. This problem just appeared 1 or 2 days ago.","body":"It may be a font/typeface issue. I removed the font and it seems be ok. But the font was working well before. This problem just appeared 1 or 2 days ago."},{"owner":{"account_id":4351641,"reputation":2121,"user_id":3551778,"accept_rate":50,"display_name":"Vikalp"},"score":0,"creation_date":1646129198,"post_id":70418918,"comment_id":126042212,"body_markdown":"Did you find any solution to this? This issue randomly occurs in my code when trying to inflate a layout inside RecyclerView.","body":"Did you find any solution to this? This issue randomly occurs in my code when trying to inflate a layout inside RecyclerView."},{"owner":{"account_id":23698132,"reputation":21,"user_id":17721607,"display_name":"cSquared"},"score":0,"creation_date":1649128567,"post_id":70418918,"comment_id":126791592,"body_markdown":"@Vikalp Nope... I even don&#39;t know the reason why the exception occurs...","body":"@Vikalp Nope... I even don&#39;t know the reason why the exception occurs..."}],"answers":[{"tags":[],"owner":{"account_id":7955691,"reputation":69,"user_id":6005097,"display_name":"uğur sinan sağıroğlu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671315519,"creation_date":1671315519,"answer_id":74837857,"question_id":70418918,"body_markdown":"I faced this same error.\r\nAnd I ended up to solution changing my &#39;ı&#39; character in res folder(strings.xml) with &#39;i&#39;.\r\n\r\n\r\n    &lt;resources&gt;\r\n      &lt;string name=&quot;app_name&quot;&gt;En Yakın Nobetci Eczane&lt;/string&gt;\r\n    &lt;/resources&gt;\r\nto\r\n\r\n    &lt;resources&gt;\r\n      &lt;string name=&quot;app_name&quot;&gt;En Yakin Nobetci Eczane&lt;/string&gt;\r\n    &lt;/resources&gt;\r\n\r\n\r\n","title":"App crashes irregularly and throws JNI error: input is not valid Modified UTF-8","body":"<p>I faced this same error.\nAnd I ended up to solution changing my 'ı' character in res folder(strings.xml) with 'i'.</p>\n<pre><code>&lt;resources&gt;\n  &lt;string name=&quot;app_name&quot;&gt;En Yakın Nobetci Eczane&lt;/string&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>to</p>\n<pre><code>&lt;resources&gt;\n  &lt;string name=&quot;app_name&quot;&gt;En Yakin Nobetci Eczane&lt;/string&gt;\n&lt;/resources&gt;\n</code></pre>\n"}],"owner":{"account_id":23698132,"reputation":21,"user_id":17721607,"display_name":"cSquared"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":536,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1671315519,"creation_date":1639987447,"question_id":70418918,"body_markdown":"My Android app crashes irregularly and throws JNI error. The error info is:\r\n\r\n```\r\n2021-12-20 15:31:26.895 2726-2726/com.csquared.minetune.app A/ed.minetune.ap: java_vm_ext.cc:578] JNI DETECTED ERROR IN APPLICATION: input is not valid Modified UTF-8: illegal start byte 0xb0\r\n    java_vm_ext.cc:578]     string: &#39;���n&#39;\r\n    java_vm_ext.cc:578]     input: &#39;&lt;0xb0&gt; 0xce 0x1e 0xfb 0x6e&#39;\r\n    java_vm_ext.cc:578]     in call to NewStringUTF\r\n    java_vm_ext.cc:578]     from android.util.SparseArray android.content.res.AssetManager.nativeGetAssignedPackageIdentifiers(long, boolean, boolean)\r\n```\r\n\r\nThis error always appears when I start a new fragment. It seems to be thrown from an Android SDK built-in method. It&#39;s really weird because at the time when I am posting this question, the app crashes every time when I direct to a new fragment, but after few minutes, the crashes disappear and it seems that there&#39;s nothing wrong. Really need help.\r\n\r\nThe full error info about ```AssetManager.nativeGetAssignedPackageIdentifiers()``` is:\r\n\r\n```\r\n2021-12-20 16:21:39.297 20354-20354/com.csquared.minetune.app A/ed.minetune.ap: runtime.cc:677]   native: #203 pc 00000000002fed48  /apex/com.android.art/lib64/libart.so (art::interpreter::Execute(art::Thread*, art::CodeItemDataAccessor const&amp;, art::ShadowFrame&amp;, art::JValue, bool, bool) (.llvm.7983234147973590803)+268)\r\n    runtime.cc:677]   native: #204 pc 0000000000629a84  /apex/com.android.art/lib64/libart.so (artQuickToInterpreterBridge+796)\r\n    runtime.cc:677]   native: #205 pc 000000000013dff8  /apex/com.android.art/lib64/libart.so (art_quick_to_interpreter_bridge+88)\r\n    runtime.cc:677]   native: #206 pc 0000000000afdf0c  /system/framework/arm64/boot-framework.oat (com.android.internal.os.ZygoteInit.main+2444)\r\n    runtime.cc:677]   native: #207 pc 00000000001347e8  /apex/com.android.art/lib64/libart.so (art_quick_invoke_static_stub+568)\r\n    runtime.cc:677]   native: #208 pc 0000000000198eb0  /apex/com.android.art/lib64/libart.so (art::ArtMethod::Invoke(art::Thread*, unsigned int*, unsigned int, art::JValue*, char const*)+232)\r\n    runtime.cc:677]   native: #209 pc 0000000000532198  /apex/com.android.art/lib64/libart.so (art::(anonymous namespace)::InvokeWithArgArray(art::ScopedObjectAccessAlreadyRunnable const&amp;, art::ArtMethod*, art::(anonymous namespace)::ArgArray*, art::JValue*, char const*)+104)\r\n    runtime.cc:677]   native: #210 pc 0000000000531d90  /apex/com.android.art/lib64/libart.so (art::JValue art::InvokeWithVarArgs&lt;art::ArtMethod*&gt;(art::ScopedObjectAccessAlreadyRunnable const&amp;, _jobject*, art::ArtMethod*, std::__va_list)+428)\r\n    runtime.cc:677]   native: #211 pc 0000000000532cf8  /apex/com.android.art/lib64/libart.so (art::JValue art::InvokeWithVarArgs&lt;_jmethodID*&gt;(art::ScopedObjectAccessAlreadyRunnable const&amp;, _jobject*, _jmethodID*, std::__va_list)+92)\r\n    runtime.cc:677]   native: #212 pc 00000000004249f4  /apex/com.android.art/lib64/libart.so (art::JNI&lt;true&gt;::CallStaticVoidMethodV(_JNIEnv*, _jclass*, _jmethodID*, std::__va_list)+656)\r\n    runtime.cc:677]   native: #213 pc 000000000009d434  /system/lib64/libandroid_runtime.so (_JNIEnv::CallStaticVoidMethod(_jclass*, _jmethodID*, ...)+124)\r\n    runtime.cc:677]   native: #214 pc 00000000000a5a8c  /system/lib64/libandroid_runtime.so (android::AndroidRuntime::start(char const*, android::Vector&lt;android::String8&gt; const&amp;, bool)+848)\r\n    runtime.cc:677]   native: #215 pc 000000000000358c  /system/bin/app_process64 (main+1348)\r\n    runtime.cc:677]   native: #216 pc 000000000004a1e4  /apex/com.android.runtime/lib64/bionic/libc.so (__libc_init+108)\r\n    runtime.cc:677]   at android.content.res.AssetManager.nativeGetAssignedPackageIdentifiers(Native method)\r\n    runtime.cc:677]   at android.content.res.AssetManager.getAssignedPackageIdentifiers(AssetManager.java:1496)\r\n    runtime.cc:677]   - locked &lt;0x0e52873d&gt; (a android.content.res.AssetManager)\r\n    runtime.cc:677]   at android.content.res.AssetManager.getAssignedPackageIdentifiers(AssetManager.java:1486)\r\n    runtime.cc:677]   at android.graphics.Typeface$Builder.createAssetUid(Typeface.java:637)\r\n    runtime.cc:677]   at android.graphics.Typeface$Builder.access$000(Typeface.java:452)\r\n    runtime.cc:677]   at android.graphics.Typeface.findFromCache(Typeface.java:407)\r\n    runtime.cc:677]   - locked &lt;0x04865b32&gt; (a java.lang.Object)\r\n    runtime.cc:677]   at android.content.res.ResourcesImpl.loadFont(ResourcesImpl.java:1192)\r\n    runtime.cc:677]   at android.content.res.Resources.getFont(Resources.java:545)\r\n    runtime.cc:677]   at android.content.res.TypedArray.getFont(TypedArray.java:1036)\r\n    runtime.cc:677]   at android.widget.TextView.readTextAppearance(TextView.java:4357)\r\n    runtime.cc:677]   at android.widget.TextView.&lt;init&gt;(TextView.java:1360)\r\n    runtime.cc:677]   at android.widget.TextView.&lt;init&gt;(TextView.java:1241)\r\n    runtime.cc:677]   at androidx.appcompat.widget.AppCompatTextView.&lt;init&gt;(AppCompatTextView.java:102)\r\n    runtime.cc:677]   at com.google.android.material.textview.MaterialTextView.&lt;init&gt;(MaterialTextView.java:93)\r\n    runtime.cc:677]   at com.google.android.material.textview.MaterialTextView.&lt;init&gt;(MaterialTextView.java:88)\r\n2021-12-20 16:21:39.297 20354-20354/com.csquared.minetune.app A/ed.minetune.ap: runtime.cc:677]   at com.google.android.material.textview.MaterialTextView.&lt;init&gt;(MaterialTextView.java:83)\r\n    runtime.cc:677]   at com.google.android.material.theme.MaterialComponentsViewInflater.createTextView(MaterialComponentsViewInflater.java:61)\r\n    runtime.cc:677]   at androidx.appcompat.app.AppCompatViewInflater.createView(AppCompatViewInflater.java:115)\r\n    runtime.cc:677]   at androidx.appcompat.app.AppCompatDelegateImpl.createView(AppCompatDelegateImpl.java:1563)\r\n    runtime.cc:677]   at androidx.appcompat.app.AppCompatDelegateImpl.onCreateView(AppCompatDelegateImpl.java:1614)\r\n    runtime.cc:677]   at android.view.LayoutInflater$FactoryMerger.onCreateView(LayoutInflater.java:240)\r\n    runtime.cc:677]   at android.view.LayoutInflater.tryCreateView(LayoutInflater.java:1059)\r\n    runtime.cc:677]   at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:995)\r\n    runtime.cc:677]   at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:959)\r\n    runtime.cc:677]   at android.view.LayoutInflater.rInflate(LayoutInflater.java:1121)\r\n    runtime.cc:677]   at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\r\n    runtime.cc:677]   at android.view.LayoutInflater.rInflate(LayoutInflater.java:1124)\r\n    runtime.cc:677]   at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\r\n    runtime.cc:677]   at android.view.LayoutInflater.rInflate(LayoutInflater.java:1124)\r\n    runtime.cc:677]   at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\r\n    runtime.cc:677]   at android.view.LayoutInflater.inflate(LayoutInflater.java:680)\r\n    runtime.cc:677]   - locked &lt;0x07aa4083&gt; (a java.lang.Object[])\r\n    runtime.cc:677]   at android.view.LayoutInflater.inflate(LayoutInflater.java:532)\r\n    runtime.cc:677]   at com.csquared.minetune.app.databinding.FragmentSearchBinding.inflate(FragmentSearchBinding.java:45)\r\n    runtime.cc:677]   at com.csquared.minetune.app.databinding.FragmentSearchBinding.inflate(FragmentSearchBinding.java:39)\r\n    runtime.cc:677]   at com.csquared.minetune.app.ui.main.search.SearchFragment.onCreateView(SearchFragment.kt:22)\r\n    runtime.cc:677]   at androidx.fragment.app.Fragment.performCreateView(Fragment.java:2963)\r\n    runtime.cc:677]   at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:518)\r\n    runtime.cc:677]   at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:282)\r\n    runtime.cc:677]   at androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:2189)\r\n    runtime.cc:677]   at androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:2106)\r\n    runtime.cc:677]   at androidx.fragment.app.FragmentManager.execPendingActions(FragmentManager.java:2002)\r\n    runtime.cc:677]   at androidx.fragment.app.FragmentManager$5.run(FragmentManager.java:524)\r\n    runtime.cc:677]   at android.os.Handler.handleCallback(Handler.java:938)\r\n    runtime.cc:677]   at android.os.Handler.dispatchMessage(Handler.java:99)\r\n    runtime.cc:677]   at android.os.Looper.loop(Looper.java:246)\r\n    runtime.cc:677]   at android.app.ActivityThread.main(ActivityThread.java:8633)\r\n    runtime.cc:677]   at java.lang.reflect.Method.invoke(Native method)\r\n    runtime.cc:677]   at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\r\n    runtime.cc:677]   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\r\n    runtime.cc:677] \r\n2021-12-20 16:21:39.297 20354-20354/com.csquared.minetune.app A/ed.minetune.ap: runtime.cc:685] JNI DETECTED ERROR IN APPLICATION: input is not valid Modified UTF-8: illegal continuation byte 0x32\r\n    runtime.cc:685]     string: &#39;�2!�n&#39;\r\n    runtime.cc:685]     input: &#39;0xd0 &lt;0x32&gt; 0x21 0xdb 0x6e&#39;\r\n    runtime.cc:685]     in call to NewStringUTF\r\n    runtime.cc:685]     from android.util.SparseArray android.content.res.AssetManager.nativeGetAssignedPackageIdentifiers(long, boolean, boolean)\r\n2021-12-20 16:21:39.297 20354-20354/com.csquared.minetune.app A/libc: Fatal signal 6 (SIGABRT), code -1 (SI_QUEUE) in tid 20354 (ed.minetune.app), pid 20354 (ed.minetune.app)\r\n```","title":"App crashes irregularly and throws JNI error: input is not valid Modified UTF-8","body":"<p>My Android app crashes irregularly and throws JNI error. The error info is:</p>\n<pre><code>2021-12-20 15:31:26.895 2726-2726/com.csquared.minetune.app A/ed.minetune.ap: java_vm_ext.cc:578] JNI DETECTED ERROR IN APPLICATION: input is not valid Modified UTF-8: illegal start byte 0xb0\n    java_vm_ext.cc:578]     string: '���n'\n    java_vm_ext.cc:578]     input: '&lt;0xb0&gt; 0xce 0x1e 0xfb 0x6e'\n    java_vm_ext.cc:578]     in call to NewStringUTF\n    java_vm_ext.cc:578]     from android.util.SparseArray android.content.res.AssetManager.nativeGetAssignedPackageIdentifiers(long, boolean, boolean)\n</code></pre>\n<p>This error always appears when I start a new fragment. It seems to be thrown from an Android SDK built-in method. It's really weird because at the time when I am posting this question, the app crashes every time when I direct to a new fragment, but after few minutes, the crashes disappear and it seems that there's nothing wrong. Really need help.</p>\n<p>The full error info about <code>AssetManager.nativeGetAssignedPackageIdentifiers()</code> is:</p>\n<pre><code>2021-12-20 16:21:39.297 20354-20354/com.csquared.minetune.app A/ed.minetune.ap: runtime.cc:677]   native: #203 pc 00000000002fed48  /apex/com.android.art/lib64/libart.so (art::interpreter::Execute(art::Thread*, art::CodeItemDataAccessor const&amp;, art::ShadowFrame&amp;, art::JValue, bool, bool) (.llvm.7983234147973590803)+268)\n    runtime.cc:677]   native: #204 pc 0000000000629a84  /apex/com.android.art/lib64/libart.so (artQuickToInterpreterBridge+796)\n    runtime.cc:677]   native: #205 pc 000000000013dff8  /apex/com.android.art/lib64/libart.so (art_quick_to_interpreter_bridge+88)\n    runtime.cc:677]   native: #206 pc 0000000000afdf0c  /system/framework/arm64/boot-framework.oat (com.android.internal.os.ZygoteInit.main+2444)\n    runtime.cc:677]   native: #207 pc 00000000001347e8  /apex/com.android.art/lib64/libart.so (art_quick_invoke_static_stub+568)\n    runtime.cc:677]   native: #208 pc 0000000000198eb0  /apex/com.android.art/lib64/libart.so (art::ArtMethod::Invoke(art::Thread*, unsigned int*, unsigned int, art::JValue*, char const*)+232)\n    runtime.cc:677]   native: #209 pc 0000000000532198  /apex/com.android.art/lib64/libart.so (art::(anonymous namespace)::InvokeWithArgArray(art::ScopedObjectAccessAlreadyRunnable const&amp;, art::ArtMethod*, art::(anonymous namespace)::ArgArray*, art::JValue*, char const*)+104)\n    runtime.cc:677]   native: #210 pc 0000000000531d90  /apex/com.android.art/lib64/libart.so (art::JValue art::InvokeWithVarArgs&lt;art::ArtMethod*&gt;(art::ScopedObjectAccessAlreadyRunnable const&amp;, _jobject*, art::ArtMethod*, std::__va_list)+428)\n    runtime.cc:677]   native: #211 pc 0000000000532cf8  /apex/com.android.art/lib64/libart.so (art::JValue art::InvokeWithVarArgs&lt;_jmethodID*&gt;(art::ScopedObjectAccessAlreadyRunnable const&amp;, _jobject*, _jmethodID*, std::__va_list)+92)\n    runtime.cc:677]   native: #212 pc 00000000004249f4  /apex/com.android.art/lib64/libart.so (art::JNI&lt;true&gt;::CallStaticVoidMethodV(_JNIEnv*, _jclass*, _jmethodID*, std::__va_list)+656)\n    runtime.cc:677]   native: #213 pc 000000000009d434  /system/lib64/libandroid_runtime.so (_JNIEnv::CallStaticVoidMethod(_jclass*, _jmethodID*, ...)+124)\n    runtime.cc:677]   native: #214 pc 00000000000a5a8c  /system/lib64/libandroid_runtime.so (android::AndroidRuntime::start(char const*, android::Vector&lt;android::String8&gt; const&amp;, bool)+848)\n    runtime.cc:677]   native: #215 pc 000000000000358c  /system/bin/app_process64 (main+1348)\n    runtime.cc:677]   native: #216 pc 000000000004a1e4  /apex/com.android.runtime/lib64/bionic/libc.so (__libc_init+108)\n    runtime.cc:677]   at android.content.res.AssetManager.nativeGetAssignedPackageIdentifiers(Native method)\n    runtime.cc:677]   at android.content.res.AssetManager.getAssignedPackageIdentifiers(AssetManager.java:1496)\n    runtime.cc:677]   - locked &lt;0x0e52873d&gt; (a android.content.res.AssetManager)\n    runtime.cc:677]   at android.content.res.AssetManager.getAssignedPackageIdentifiers(AssetManager.java:1486)\n    runtime.cc:677]   at android.graphics.Typeface$Builder.createAssetUid(Typeface.java:637)\n    runtime.cc:677]   at android.graphics.Typeface$Builder.access$000(Typeface.java:452)\n    runtime.cc:677]   at android.graphics.Typeface.findFromCache(Typeface.java:407)\n    runtime.cc:677]   - locked &lt;0x04865b32&gt; (a java.lang.Object)\n    runtime.cc:677]   at android.content.res.ResourcesImpl.loadFont(ResourcesImpl.java:1192)\n    runtime.cc:677]   at android.content.res.Resources.getFont(Resources.java:545)\n    runtime.cc:677]   at android.content.res.TypedArray.getFont(TypedArray.java:1036)\n    runtime.cc:677]   at android.widget.TextView.readTextAppearance(TextView.java:4357)\n    runtime.cc:677]   at android.widget.TextView.&lt;init&gt;(TextView.java:1360)\n    runtime.cc:677]   at android.widget.TextView.&lt;init&gt;(TextView.java:1241)\n    runtime.cc:677]   at androidx.appcompat.widget.AppCompatTextView.&lt;init&gt;(AppCompatTextView.java:102)\n    runtime.cc:677]   at com.google.android.material.textview.MaterialTextView.&lt;init&gt;(MaterialTextView.java:93)\n    runtime.cc:677]   at com.google.android.material.textview.MaterialTextView.&lt;init&gt;(MaterialTextView.java:88)\n2021-12-20 16:21:39.297 20354-20354/com.csquared.minetune.app A/ed.minetune.ap: runtime.cc:677]   at com.google.android.material.textview.MaterialTextView.&lt;init&gt;(MaterialTextView.java:83)\n    runtime.cc:677]   at com.google.android.material.theme.MaterialComponentsViewInflater.createTextView(MaterialComponentsViewInflater.java:61)\n    runtime.cc:677]   at androidx.appcompat.app.AppCompatViewInflater.createView(AppCompatViewInflater.java:115)\n    runtime.cc:677]   at androidx.appcompat.app.AppCompatDelegateImpl.createView(AppCompatDelegateImpl.java:1563)\n    runtime.cc:677]   at androidx.appcompat.app.AppCompatDelegateImpl.onCreateView(AppCompatDelegateImpl.java:1614)\n    runtime.cc:677]   at android.view.LayoutInflater$FactoryMerger.onCreateView(LayoutInflater.java:240)\n    runtime.cc:677]   at android.view.LayoutInflater.tryCreateView(LayoutInflater.java:1059)\n    runtime.cc:677]   at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:995)\n    runtime.cc:677]   at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:959)\n    runtime.cc:677]   at android.view.LayoutInflater.rInflate(LayoutInflater.java:1121)\n    runtime.cc:677]   at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\n    runtime.cc:677]   at android.view.LayoutInflater.rInflate(LayoutInflater.java:1124)\n    runtime.cc:677]   at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\n    runtime.cc:677]   at android.view.LayoutInflater.rInflate(LayoutInflater.java:1124)\n    runtime.cc:677]   at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\n    runtime.cc:677]   at android.view.LayoutInflater.inflate(LayoutInflater.java:680)\n    runtime.cc:677]   - locked &lt;0x07aa4083&gt; (a java.lang.Object[])\n    runtime.cc:677]   at android.view.LayoutInflater.inflate(LayoutInflater.java:532)\n    runtime.cc:677]   at com.csquared.minetune.app.databinding.FragmentSearchBinding.inflate(FragmentSearchBinding.java:45)\n    runtime.cc:677]   at com.csquared.minetune.app.databinding.FragmentSearchBinding.inflate(FragmentSearchBinding.java:39)\n    runtime.cc:677]   at com.csquared.minetune.app.ui.main.search.SearchFragment.onCreateView(SearchFragment.kt:22)\n    runtime.cc:677]   at androidx.fragment.app.Fragment.performCreateView(Fragment.java:2963)\n    runtime.cc:677]   at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:518)\n    runtime.cc:677]   at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:282)\n    runtime.cc:677]   at androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:2189)\n    runtime.cc:677]   at androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:2106)\n    runtime.cc:677]   at androidx.fragment.app.FragmentManager.execPendingActions(FragmentManager.java:2002)\n    runtime.cc:677]   at androidx.fragment.app.FragmentManager$5.run(FragmentManager.java:524)\n    runtime.cc:677]   at android.os.Handler.handleCallback(Handler.java:938)\n    runtime.cc:677]   at android.os.Handler.dispatchMessage(Handler.java:99)\n    runtime.cc:677]   at android.os.Looper.loop(Looper.java:246)\n    runtime.cc:677]   at android.app.ActivityThread.main(ActivityThread.java:8633)\n    runtime.cc:677]   at java.lang.reflect.Method.invoke(Native method)\n    runtime.cc:677]   at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\n    runtime.cc:677]   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\n    runtime.cc:677] \n2021-12-20 16:21:39.297 20354-20354/com.csquared.minetune.app A/ed.minetune.ap: runtime.cc:685] JNI DETECTED ERROR IN APPLICATION: input is not valid Modified UTF-8: illegal continuation byte 0x32\n    runtime.cc:685]     string: '�2!�n'\n    runtime.cc:685]     input: '0xd0 &lt;0x32&gt; 0x21 0xdb 0x6e'\n    runtime.cc:685]     in call to NewStringUTF\n    runtime.cc:685]     from android.util.SparseArray android.content.res.AssetManager.nativeGetAssignedPackageIdentifiers(long, boolean, boolean)\n2021-12-20 16:21:39.297 20354-20354/com.csquared.minetune.app A/libc: Fatal signal 6 (SIGABRT), code -1 (SI_QUEUE) in tid 20354 (ed.minetune.app), pid 20354 (ed.minetune.app)\n</code></pre>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":26291632,"reputation":67,"user_id":19958572,"display_name":"pralxx"},"score":0,"creation_date":1671314248,"post_id":74837127,"comment_id":132074263,"body_markdown":"Thank you so much. Now seeing your answer. I think my question was not very good. I might not want the whole car object, let&#39;s say I only want the plates. So filtering by all mazdas give me a list containing the plates.","body":"Thank you so much. Now seeing your answer. I think my question was not very good. I might not want the whole car object, let&#39;s say I only want the plates. So filtering by all mazdas give me a list containing the plates."},{"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"score":0,"creation_date":1671314647,"post_id":74837127,"comment_id":132074310,"body_markdown":"Filter the cars first and map afterwards. See updated answer.","body":"Filter the cars first and map afterwards. See updated answer."},{"owner":{"account_id":26291632,"reputation":67,"user_id":19958572,"display_name":"pralxx"},"score":0,"creation_date":1671318978,"post_id":74837127,"comment_id":132074915,"body_markdown":"Thank you it worked. But now I am trying to do the same thing again in a different class and compiler is not allowing me to use .collect(Collectors.toList()); again. i can&#39;t use that twice in the same file?","body":"Thank you it worked. But now I am trying to do the same thing again in a different class and compiler is not allowing me to use .collect(Collectors.toList()); again. i can&#39;t use that twice in the same file?"},{"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"score":0,"creation_date":1671362486,"post_id":74837127,"comment_id":132079422,"body_markdown":"You can use `collect`once per stream. If you want to apply another filter just start over with `Cars().stream().filter(...).collect(...)`","body":"You can use <code>collect</code>once per stream. If you want to apply another filter just start over with <code>Cars().stream().filter(...).collect(...)</code>"}],"tags":[],"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1671314590,"creation_date":1671307372,"answer_id":74837127,"question_id":74837074,"body_markdown":"If you use `.map(Car::getMake)` you are only returning the value of `getMake` to the list.\r\nIf you need access to the whole `car` object you have to use the `filter` function on the stream.\r\n\r\n```java\r\nCars().stream().filter(car -&gt; car.getMake().equals(&quot;Mazda&quot;)).collect(Collectors.toList());\r\n```\r\n\r\n**Edit:**\r\n\r\nUpdated code based on the comments:\r\n\r\n```java\r\nCars().stream()\r\n      .filter(car -&gt; car.getMake().equals(&quot;Mazda&quot;))\r\n      .map(Car::getPlate)\r\n      .collect(Collectors.toList());\r\n```","title":"How to use stream to get some fields from a list","body":"<p>If you use <code>.map(Car::getMake)</code> you are only returning the value of <code>getMake</code> to the list.\nIf you need access to the whole <code>car</code> object you have to use the <code>filter</code> function on the stream.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Cars().stream().filter(car -&gt; car.getMake().equals(&quot;Mazda&quot;)).collect(Collectors.toList());\n</code></pre>\n<p><strong>Edit:</strong></p>\n<p>Updated code based on the comments:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Cars().stream()\n      .filter(car -&gt; car.getMake().equals(&quot;Mazda&quot;))\n      .map(Car::getPlate)\n      .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671314027,"creation_date":1671313087,"answer_id":74837629,"question_id":74837074,"body_markdown":"Using a stream to get a specific car make will work.  But have you considered using a stream to populate a map to get any list of car makes in relatively constant time?\r\n\r\n```\r\nrecord Car(String getMake, String getModel /* other attributes as required*/) {\r\n     public String toString() {\r\n         return &quot;Make = %s, Model = %s&quot;.formatted(getMake(), getModel());\r\n     }\r\n }\r\n List&lt;Car&gt; cars = List.of(\r\n         new Car(&quot;Toyota&quot;, &quot;Camry&quot;),\r\n         new Car(&quot;Toyota&quot;, &quot;Corolla&quot;),\r\n         new Car(&quot;Mazda&quot;, &quot;CX-9&quot;),\r\n         new Car(&quot;Mazda&quot;, &quot;Mazda3&quot;),\r\n         new Car(&quot;Mazda&quot;, &quot;CX-5&quot;),\r\n         new Car(&quot;Mazda&quot;, &quot;CX-30&quot;),\r\n         new Car(&quot;Mazda&quot;, &quot;MX-30&quot;));\r\n```\r\nThe following groups the cars by make and puts them in a list for that make.\r\n```\r\nMap&lt;String, List&lt;Car&gt;&gt; carMakes = \r\n   cars.stream().collect(Collectors.groupingBy(Car::getMake));\r\n \r\nList&lt;Car&gt; mazda = carMakes.get(&quot;Mazda&quot;);\r\nSystem.out.println(&quot;All Mazdas&quot;);\r\nmazda.forEach(System.out::println);\r\n\r\nList&lt;Car&gt; toyotas = carMakes.get(&quot;Toyota&quot;);\r\nSystem.out.println(&quot;All Toyotas&quot;);\r\ntoyotas.forEach(System.out::println);\r\n```\r\nprints\r\n```\r\nAll Mazdas\r\nMake = Mazda, Model = CX-9\r\nMake = Mazda, Model = Mazda3\r\nMake = Mazda, Model = CX-5\r\nMake = Mazda, Model = CX-30\r\nMake = Mazda, Model = MX-30\r\nAll Toyotas\r\nMake = Toyota, Model = Camry\r\nMake = Toyota, Model = Corolla\r\n","title":"How to use stream to get some fields from a list","body":"<p>Using a stream to get a specific car make will work.  But have you considered using a stream to populate a map to get any list of car makes in relatively constant time?</p>\n<pre><code>record Car(String getMake, String getModel /* other attributes as required*/) {\n     public String toString() {\n         return &quot;Make = %s, Model = %s&quot;.formatted(getMake(), getModel());\n     }\n }\n List&lt;Car&gt; cars = List.of(\n         new Car(&quot;Toyota&quot;, &quot;Camry&quot;),\n         new Car(&quot;Toyota&quot;, &quot;Corolla&quot;),\n         new Car(&quot;Mazda&quot;, &quot;CX-9&quot;),\n         new Car(&quot;Mazda&quot;, &quot;Mazda3&quot;),\n         new Car(&quot;Mazda&quot;, &quot;CX-5&quot;),\n         new Car(&quot;Mazda&quot;, &quot;CX-30&quot;),\n         new Car(&quot;Mazda&quot;, &quot;MX-30&quot;));\n</code></pre>\n<p>The following groups the cars by make and puts them in a list for that make.</p>\n<pre><code>Map&lt;String, List&lt;Car&gt;&gt; carMakes = \n   cars.stream().collect(Collectors.groupingBy(Car::getMake));\n \nList&lt;Car&gt; mazda = carMakes.get(&quot;Mazda&quot;);\nSystem.out.println(&quot;All Mazdas&quot;);\nmazda.forEach(System.out::println);\n\nList&lt;Car&gt; toyotas = carMakes.get(&quot;Toyota&quot;);\nSystem.out.println(&quot;All Toyotas&quot;);\ntoyotas.forEach(System.out::println);\n</code></pre>\n<p>prints</p>\n<pre><code>All Mazdas\nMake = Mazda, Model = CX-9\nMake = Mazda, Model = Mazda3\nMake = Mazda, Model = CX-5\nMake = Mazda, Model = CX-30\nMake = Mazda, Model = MX-30\nAll Toyotas\nMake = Toyota, Model = Camry\nMake = Toyota, Model = Corolla\n</code></pre>\n"}],"owner":{"account_id":26291632,"reputation":67,"user_id":19958572,"display_name":"pralxx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74837127,"answer_count":2,"score":1,"last_activity_date":1671314590,"creation_date":1671306905,"question_id":74837074,"body_markdown":"I have a list of Cars. In this List have a class Car, that have fields like make, model, color, owner, plate. \r\n\r\nAnd I want to get a list of Cars that have a similar make. So I want to use stream to do this. \r\nI know how to get all car makes but not a specific kind of car make. \r\nSo if I want all the car makes I would do like\r\n\r\n```\r\nCars().stream().map(Car::getMake).collect(Collectors.toList());\r\n```\r\n\r\nBut if I want just the car maker that are equal to Mazda for example, how would I do? \r\n","title":"How to use stream to get some fields from a list","body":"<p>I have a list of Cars. In this List have a class Car, that have fields like make, model, color, owner, plate.</p>\n<p>And I want to get a list of Cars that have a similar make. So I want to use stream to do this.\nI know how to get all car makes but not a specific kind of car make.\nSo if I want all the car makes I would do like</p>\n<pre><code>Cars().stream().map(Car::getMake).collect(Collectors.toList());\n</code></pre>\n<p>But if I want just the car maker that are equal to Mazda for example, how would I do?</p>\n"},{"tags":["java","jvm","decompiling"],"comments":[{"owner":{"account_id":3145317,"reputation":16386,"user_id":4271923,"display_name":"Ped7g"},"score":0,"creation_date":1474541033,"post_id":49379,"comment_id":66577652,"body_markdown":"Even the disassembled native code is quite readable to some people anyway, you would have to probably use some obfuscator or hand made assembly to make it non-obvious (common C++ compiled with optimization is readable enough). Whatever code runs on user&#39;s device, can be intercepted. Although the cost/skill requirements of such interception may be quite high, for example breaking into smart-card &quot;tamper-proof&quot; chips code is not trivial, only doable with top equipment and skill. With Java classes... I wouldn&#39;t bother much, you can probably encrypt them enough to turn script kids away, not more.","body":"Even the disassembled native code is quite readable to some people anyway, you would have to probably use some obfuscator or hand made assembly to make it non-obvious (common C++ compiled with optimization is readable enough). Whatever code runs on user&#39;s device, can be intercepted. Although the cost/skill requirements of such interception may be quite high, for example breaking into smart-card &quot;tamper-proof&quot; chips code is not trivial, only doable with top equipment and skill. With Java classes... I wouldn&#39;t bother much, you can probably encrypt them enough to turn script kids away, not more."}],"answers":[{"tags":[],"owner":{"account_id":1676,"reputation":68570,"user_id":2260,"accept_rate":87,"display_name":"Daren Thomas"},"comment_count":0,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1220867033,"creation_date":1220867033,"answer_id":49385,"question_id":49379,"body_markdown":"No matter what you do, it can be &#39;decompiled&#39;. Heck, you can just disassemble it. Or look at a memory dump to find your constants. You see, the computer needs to know them, so your code will need to too.\r\n\r\nWhat to do about this?\r\n\r\nTry not to ship the key as a hardcoded constant in your code: Keep it as a per-user setting. Make the user responsible for looking after that key.","title":"How to lock compiled Java classes to prevent decompilation?","body":"<p>No matter what you do, it can be 'decompiled'. Heck, you can just disassemble it. Or look at a memory dump to find your constants. You see, the computer needs to know them, so your code will need to too.</p>\n\n<p>What to do about this?</p>\n\n<p>Try not to ship the key as a hardcoded constant in your code: Keep it as a per-user setting. Make the user responsible for looking after that key.</p>\n"},{"comments":[{"owner":{"account_id":36646,"reputation":4143,"user_id":104564,"accept_rate":100,"display_name":"Jim Rush"},"score":2,"creation_date":1277381067,"post_id":49397,"comment_id":3190453,"body_markdown":"I&#39;ve used this technique before and it works fine.  However, from an attack perspective, the first approach would be to just modify the code that performs the license check and remove it.  There are things you can do to make this attack vector harder, but if you give the attacker control of the hardware, your destined to fail with a suitably motivated and skilled attacker.  In practice, the goal is just to keep the mostly honest people, honest.","body":"I&#39;ve used this technique before and it works fine.  However, from an attack perspective, the first approach would be to just modify the code that performs the license check and remove it.  There are things you can do to make this attack vector harder, but if you give the attacker control of the hardware, your destined to fail with a suitably motivated and skilled attacker.  In practice, the goal is just to keep the mostly honest people, honest."}],"tags":[],"owner":{"account_id":1676,"reputation":68570,"user_id":2260,"accept_rate":87,"display_name":"Daren Thomas"},"comment_count":1,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1322387886,"creation_date":1220867793,"answer_id":49397,"question_id":49379,"body_markdown":"Disclaimer: I am not a security expert.\r\n\r\nThis sounds like a bad idea: You are letting someone encrypt stuff with a &#39;hidden&#39; key that you give him. I don&#39;t think this can be made secure.\r\n\r\nMaybe asymmetrical keys could work:\r\n\r\n  - deploy an encrypted license with a public key to decrypt\r\n  - let the customer create a new license and send it to you for encryption\r\n  - send a new license back to the client.\r\n\r\nI&#39;m not sure, but I believe the client can actually encrypt the license key with the public key you gave him. You can then decrypt it with your private key and re-encrypt as well.\r\n\r\nYou could keep a separate public/private key pair per customer to make sure you actually are getting stuff from the right customer - now *you* are responsible for the keys...\r\n","title":"How to lock compiled Java classes to prevent decompilation?","body":"<p>Disclaimer: I am not a security expert.</p>\n\n<p>This sounds like a bad idea: You are letting someone encrypt stuff with a 'hidden' key that you give him. I don't think this can be made secure.</p>\n\n<p>Maybe asymmetrical keys could work:</p>\n\n<ul>\n<li>deploy an encrypted license with a public key to decrypt</li>\n<li>let the customer create a new license and send it to you for encryption</li>\n<li>send a new license back to the client.</li>\n</ul>\n\n<p>I'm not sure, but I believe the client can actually encrypt the license key with the public key you gave him. You can then decrypt it with your private key and re-encrypt as well.</p>\n\n<p>You could keep a separate public/private key pair per customer to make sure you actually are getting stuff from the right customer - now <em>you</em> are responsible for the keys...</p>\n"},{"comments":[{"owner":{"account_id":43564,"reputation":3133,"user_id":127430,"display_name":"Dmitry Leskov"},"score":0,"creation_date":1306146443,"post_id":49400,"comment_id":7065818,"body_markdown":"In fact, there is a proper, hack-proof solution that btw looks like a dongle:  http://www.excelsior-usa.com/blog/excelsior-jet/java-bytecode-encryption-revisited/","body":"In fact, there is a proper, hack-proof solution that btw looks like a dongle:  <a href=\"http://www.excelsior-usa.com/blog/excelsior-jet/java-bytecode-encryption-revisited/\" rel=\"nofollow noreferrer\">excelsior-usa.com/blog/excelsior-jet/&hellip;</a>"},{"owner":{"account_id":2147,"reputation":38490,"user_id":2961,"accept_rate":79,"display_name":"Stu Thompson"},"score":0,"creation_date":1375974899,"post_id":49400,"comment_id":26547963,"body_markdown":"@DmitryLeskov &#39;hack resistant&#39;, maybe.  But it is merely a speed bump to anyone who wants at the code.  At the end of the day, the byte code has to run on a host platform unencrypted.  Full stop.","body":"@DmitryLeskov &#39;hack resistant&#39;, maybe.  But it is merely a speed bump to anyone who wants at the code.  At the end of the day, the byte code has to run on a host platform unencrypted.  Full stop."},{"owner":{"account_id":43564,"reputation":3133,"user_id":127430,"display_name":"Dmitry Leskov"},"score":0,"creation_date":1376120842,"post_id":49400,"comment_id":26601982,"body_markdown":"You have not read the post I linked to. The bytecode is *converted* to the dongle&#39;s CPU code and encrypted. When the end user runs the protected app, that encrypted code is transferred to the &quot;dongle&quot;. The dongle decrypts and runs it on its CPU.","body":"You have not read the post I linked to. The bytecode is <i>converted</i> to the dongle&#39;s CPU code and encrypted. When the end user runs the protected app, that encrypted code is transferred to the &quot;dongle&quot;. The dongle decrypts and runs it on its CPU."},{"owner":{"account_id":970066,"reputation":4079,"user_id":992765,"accept_rate":51,"display_name":"odiszapc"},"score":3,"creation_date":1426350542,"post_id":49400,"comment_id":46340410,"body_markdown":"Corporate teenage gamers.","body":"Corporate teenage gamers."}],"tags":[],"owner":{"account_id":2147,"reputation":38490,"user_id":2961,"accept_rate":79,"display_name":"Stu Thompson"},"comment_count":4,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1488899558,"creation_date":1220868128,"answer_id":49400,"question_id":49379,"body_markdown":"@jatanp: or better yet, they can decompile, remove the licensing code, and recompile.  With Java, I don&#39;t really think there is a proper, hack-proof solution to this problem.  Not even an evil little dongle could prevent this with Java.\r\n\r\nMy own biz managers worry about this, and I think too much.  But then again, we sell our application into large corporates who tend to abide by licensing conditions--generally a safe environment thanks to the bean counters and lawyers.  The act of decompiling itself can be illegal if your license is written correctly. \r\n\r\nSo, I have to ask, do you *really* need hardened protection like you are seeking for your application?  What does your customer base look like?  (Corporates?  Or the teenage gamer masses, where this would be more of an issue?)","title":"How to lock compiled Java classes to prevent decompilation?","body":"<p>@jatanp: or better yet, they can decompile, remove the licensing code, and recompile.  With Java, I don't really think there is a proper, hack-proof solution to this problem.  Not even an evil little dongle could prevent this with Java.</p>\n\n<p>My own biz managers worry about this, and I think too much.  But then again, we sell our application into large corporates who tend to abide by licensing conditions--generally a safe environment thanks to the bean counters and lawyers.  The act of decompiling itself can be illegal if your license is written correctly. </p>\n\n<p>So, I have to ask, do you <em>really</em> need hardened protection like you are seeking for your application?  What does your customer base look like?  (Corporates?  Or the teenage gamer masses, where this would be more of an issue?)</p>\n"},{"tags":[],"owner":{"account_id":1440,"reputation":957,"user_id":1920,"display_name":"Erlend Halvorsen"},"comment_count":0,"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1220868145,"creation_date":1220868145,"answer_id":49401,"question_id":49379,"body_markdown":"As long as they have access to both the encrypted data and the software that decrypts it, there is basically no way you can make this completely secure. Ways this has been solved before is to use some form of external black box to handle encryption/decryption, like dongles, remote authentication servers, etc. But even then, given that the user has full access to their own system, this only makes things difficult, not impossible -unless you can tie your product directly to the functionality stored in the &quot;black box&quot;, as, say, online gaming servers.","title":"How to lock compiled Java classes to prevent decompilation?","body":"<p>As long as they have access to both the encrypted data and the software that decrypts it, there is basically no way you can make this completely secure. Ways this has been solved before is to use some form of external black box to handle encryption/decryption, like dongles, remote authentication servers, etc. But even then, given that the user has full access to their own system, this only makes things difficult, not impossible -unless you can tie your product directly to the functionality stored in the \"black box\", as, say, online gaming servers.</p>\n"},{"comments":[{"owner":{"account_id":1520477,"reputation":38093,"user_id":1420279,"accept_rate":80,"display_name":"Antimony"},"score":17,"creation_date":1364782308,"post_id":49428,"comment_id":22359352,"body_markdown":"+1 for &quot;Locks are for animals&quot;. I guess the appropriate term here would be script kiddies.","body":"+1 for &quot;Locks are for animals&quot;. I guess the appropriate term here would be script kiddies."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1464483291,"post_id":49428,"comment_id":62505251,"body_markdown":"You mean GCJ, and it&#39;s dead.","body":"You mean GCJ, and it&#39;s dead."},{"owner":{"account_id":11381299,"reputation":76,"user_id":8344146,"display_name":"J.Profi"},"score":1,"creation_date":1500649102,"post_id":49428,"comment_id":77447630,"body_markdown":"Componio jar file encryption is dead too. Use [JarProtector](http://bfa-it.com/?lang=en&amp;id=products/jarprotector) instead.","body":"Componio jar file encryption is dead too. Use <a href=\"http://bfa-it.com/?lang=en&amp;id=products/jarprotector\" rel=\"nofollow noreferrer\">JarProtector</a> instead."},{"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"score":0,"creation_date":1652260565,"post_id":49428,"comment_id":127561087,"body_markdown":"I&#39;m not convinced that encrypting jar files helps. That can be defeated just with the tools that ship with java. [jhsdb can pull class files straight out of memory](https://3keys.medium.com/cracking-encrypted-java-applications-using-jhsdb-hotspot-debugger-d22d1669acec)","body":"I&#39;m not convinced that encrypting jar files helps. That can be defeated just with the tools that ship with java. <a href=\"https://3keys.medium.com/cracking-encrypted-java-applications-using-jhsdb-hotspot-debugger-d22d1669acec\" rel=\"nofollow noreferrer\">jhsdb can pull class files straight out of memory</a>"}],"tags":[],"owner":{"account_id":1285,"reputation":8351,"user_id":1712,"accept_rate":84,"display_name":"Roland Tepp"},"comment_count":4,"down_vote_count":0,"up_vote_count":103,"is_accepted":true,"score":103,"last_activity_date":1322388354,"creation_date":1220869759,"answer_id":49428,"question_id":49379,"body_markdown":"Some of the more advanced Java bytecode obfuscators do much more than just class name mangling. [Zelix KlassMaster][1], for example, can also scramble your code flow in a way that makes it really hard to follow and works as an excellent code optimizer...\r\n\r\nAlso many of the obfuscators are also able to scramble your string constants and remove unused code.\r\n\r\nAnother possible solution (not necessarily excluding the obfuscation) is to use [encrypted JAR files][2] and a custom classloader that does the decryption (preferably using native runtime library).\r\n\r\nThird (and possibly offering the strongest protection) is to use native ahead of time compilers like [GCC][3] or [Excelsior JET][4], for example, that compile your Java code directly to a platform specific native binary.\r\n\r\nIn any case You&#39;ve got to remember that as the saying goes in Estonian &quot;Locks are for animals&quot;. Meaning that every bit of code is available (loaded into memory) during the runtime and given enough skill, determination and motivation, people can and will decompile, unscramble and hack your code... Your job is simply to make the process as uncomfortable as you can and still keep the thing working...\r\n\r\n  [1]: http://www.zelix.com/\r\n  [2]: http://www.componio.com/products/jinstaller/jinstaller_secure_edition/jarcryp.html\r\n  [3]: http://en.wikipedia.org/wiki/GNU_Compiler_Collection\r\n  [4]: http://www.excelsior-usa.com/jet.html\r\n","title":"How to lock compiled Java classes to prevent decompilation?","body":"<p>Some of the more advanced Java bytecode obfuscators do much more than just class name mangling. <a href=\"http://www.zelix.com/\" rel=\"noreferrer\">Zelix KlassMaster</a>, for example, can also scramble your code flow in a way that makes it really hard to follow and works as an excellent code optimizer...</p>\n\n<p>Also many of the obfuscators are also able to scramble your string constants and remove unused code.</p>\n\n<p>Another possible solution (not necessarily excluding the obfuscation) is to use <a href=\"http://www.componio.com/products/jinstaller/jinstaller_secure_edition/jarcryp.html\" rel=\"noreferrer\">encrypted JAR files</a> and a custom classloader that does the decryption (preferably using native runtime library).</p>\n\n<p>Third (and possibly offering the strongest protection) is to use native ahead of time compilers like <a href=\"http://en.wikipedia.org/wiki/GNU_Compiler_Collection\" rel=\"noreferrer\">GCC</a> or <a href=\"http://www.excelsior-usa.com/jet.html\" rel=\"noreferrer\">Excelsior JET</a>, for example, that compile your Java code directly to a platform specific native binary.</p>\n\n<p>In any case You've got to remember that as the saying goes in Estonian \"Locks are for animals\". Meaning that every bit of code is available (loaded into memory) during the runtime and given enough skill, determination and motivation, people can and will decompile, unscramble and hack your code... Your job is simply to make the process as uncomfortable as you can and still keep the thing working...</p>\n"},{"tags":[],"owner":{"account_id":2824,"reputation":1811,"user_id":3993,"display_name":"hakan"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1380101329,"creation_date":1220872844,"answer_id":49494,"question_id":49379,"body_markdown":"If you&#39;re looking for a licensing solution, you can check out the [TrueLicense API][1]. It&#39;s based on the use of asymmetrical keys. However, it doesn&#39;t mean your application cannot be cracked. Every application can be cracked with enough effort. What really important is, as [Stu answered][2], figuring out how strong protection you need. \r\n\r\n  [1]: http://java.net/projects/truelicense/\r\n  [2]: https://stackoverflow.com/questions/49379/how-to-lock-compiled-java-classes-to-prevent-decompilation/49400#49400\r\n","title":"How to lock compiled Java classes to prevent decompilation?","body":"<p>If you're looking for a licensing solution, you can check out the <a href=\"http://java.net/projects/truelicense/\" rel=\"nofollow noreferrer\">TrueLicense API</a>. It's based on the use of asymmetrical keys. However, it doesn't mean your application cannot be cracked. Every application can be cracked with enough effort. What really important is, as <a href=\"https://stackoverflow.com/questions/49379/how-to-lock-compiled-java-classes-to-prevent-decompilation/49400#49400\">Stu answered</a>, figuring out how strong protection you need. </p>\n"},{"tags":[],"owner":{"account_id":408,"reputation":4792,"user_id":518,"accept_rate":86,"display_name":"Telcontar"},"comment_count":0,"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1350755737,"creation_date":1220878857,"answer_id":49651,"question_id":49379,"body_markdown":"I don&#39;t think there exists any effective offline antipiracy method. The videogame industry has tried to find that many times and their programs has always been cracked. The only solution is that the program must be run online connected with your servers, so that you can verify the lincense key, and that there is only one active connecion by the licensee at a time. This is how [World of Warcraft][1] or [Diablo][2] works. Even tough there are private servers developed for them to bypass the security. \r\n\r\nHaving said that, I don&#39;t believe that mid/large corporations use illegal copied software, because the cost of the license for them is minimal (perhaps, I don&#39;t know how much you are goig to charge for your program) compared to the cost of a trial version.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/World_of_Warcraft\r\n  [2]: http://en.wikipedia.org/wiki/Diablo_%28video_game%29\r\n","title":"How to lock compiled Java classes to prevent decompilation?","body":"<p>I don't think there exists any effective offline antipiracy method. The videogame industry has tried to find that many times and their programs has always been cracked. The only solution is that the program must be run online connected with your servers, so that you can verify the lincense key, and that there is only one active connecion by the licensee at a time. This is how <a href=\"http://en.wikipedia.org/wiki/World_of_Warcraft\" rel=\"nofollow noreferrer\">World of Warcraft</a> or <a href=\"http://en.wikipedia.org/wiki/Diablo_%28video_game%29\" rel=\"nofollow noreferrer\">Diablo</a> works. Even tough there are private servers developed for them to bypass the security. </p>\n\n<p>Having said that, I don't believe that mid/large corporations use illegal copied software, because the cost of the license for them is minimal (perhaps, I don't know how much you are goig to charge for your program) compared to the cost of a trial version.</p>\n"},{"comments":[{"owner":{"account_id":1520477,"reputation":38093,"user_id":1420279,"accept_rate":80,"display_name":"Antimony"},"score":0,"creation_date":1364782498,"post_id":9598442,"comment_id":22359384,"body_markdown":"How exactly do you intend to detect a patched JVM? Anyway, all this does is make things slightly harder.","body":"How exactly do you intend to detect a patched JVM? Anyway, all this does is make things slightly harder."},{"owner":{"account_id":1509160,"reputation":827,"user_id":1411701,"accept_rate":73,"display_name":"Ascendant"},"score":0,"creation_date":1373418876,"post_id":9598442,"comment_id":25547362,"body_markdown":"Can&#39;t you just find a call to defineClass() in your app launcher ? When you make that call, you have to hand in an array of decrypted bytes anyway. Isn&#39;t that another point where the original source could leak ?","body":"Can&#39;t you just find a call to defineClass() in your app launcher ? When you make that call, you have to hand in an array of decrypted bytes anyway. Isn&#39;t that another point where the original source could leak ?"},{"owner":{"account_id":1026117,"reputation":1066,"user_id":1035398,"display_name":"Patrick M"},"score":5,"creation_date":1396074573,"post_id":9598442,"comment_id":34638086,"body_markdown":"I don&#39;t really agree with this answer.  To me this sounds like, &quot;Question: What&#39;s the easiest way to find Pi?  Answer: Take 2*Pi and divide by two.&quot;  I am not disagreeing with the idea, but could you include more details?  For instance, do you expect the main program to be written in pure java?  Does that include the code that&#39;s looking for modifications?","body":"I don&#39;t really agree with this answer.  To me this sounds like, &quot;Question: What&#39;s the easiest way to find Pi?  Answer: Take 2*Pi and divide by two.&quot;  I am not disagreeing with the idea, but could you include more details?  For instance, do you expect the main program to be written in pure java?  Does that include the code that&#39;s looking for modifications?"}],"tags":[],"owner":{"account_id":1286744,"reputation":75,"user_id":1239661,"display_name":"Yury Bendersky"},"comment_count":3,"down_vote_count":3,"up_vote_count":7,"is_accepted":false,"score":4,"last_activity_date":1350770176,"creation_date":1331110984,"answer_id":9598442,"question_id":49379,"body_markdown":"You can use byte-code encryption with no fear. \r\n\r\nThe fact is that the cited above paper “Cracking Java byte-code encryption” contains a logic fallacy. The main claim of the paper is *before running all classes must be decrypted and passed to the &lt;code&gt;ClassLoader.defineClass(...)&lt;/code&gt; method*. But this is not true. \r\n\r\nThe assumption missed here is *provided that they are running in authentic, or standard, java run-time environment*. Nothing can oblige the protected java app not only to launch these classes but even decrypt and pass them to &lt;code&gt;ClassLoader&lt;/code&gt;. In other words, if you are in standard JRE you can&#39;t intercept &lt;code&gt;defineClass(...)&lt;/code&gt; method because the standard java has no API for this purpose, and if you use modified JRE with patched &lt;code&gt;ClassLoader&lt;/code&gt; or any other “hacker trick” you can&#39;t do it because protected java app will not work at all, and therefore you will have nothing to intercept. And absolutely doesn&#39;t matter which “patch finder” is used or which trick is used by hackers. These technical details are a quite different story. ","title":"How to lock compiled Java classes to prevent decompilation?","body":"<p>You can use byte-code encryption with no fear. </p>\n\n<p>The fact is that the cited above paper “Cracking Java byte-code encryption” contains a logic fallacy. The main claim of the paper is <em>before running all classes must be decrypted and passed to the <code>ClassLoader.defineClass(...)</code> method</em>. But this is not true. </p>\n\n<p>The assumption missed here is <em>provided that they are running in authentic, or standard, java run-time environment</em>. Nothing can oblige the protected java app not only to launch these classes but even decrypt and pass them to <code>ClassLoader</code>. In other words, if you are in standard JRE you can't intercept <code>defineClass(...)</code> method because the standard java has no API for this purpose, and if you use modified JRE with patched <code>ClassLoader</code> or any other “hacker trick” you can't do it because protected java app will not work at all, and therefore you will have nothing to intercept. And absolutely doesn't matter which “patch finder” is used or which trick is used by hackers. These technical details are a quite different story. </p>\n"},{"tags":[],"owner":{"account_id":6543336,"reputation":59,"user_id":5060052,"display_name":"S Harish Morampudi"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1442577144,"creation_date":1442577144,"answer_id":32651383,"question_id":49379,"body_markdown":"Q: If I encrypt my .class files and use a custom classloader to load and decrypt them on the fly, will this prevent decompilation?\r\n\r\nA: The problem of preventing Java byte-code decompilation is almost as old the language itself. Despite a range of obfuscation tools available on the market, novice Java programmers continue to think of new and clever ways to protect their intellectual property. In this Java Q&amp;A installment, I dispel some myths around an idea frequently rehashed in discussion forums.\r\n\r\nThe extreme ease with which Java .class files can be reconstructed into Java sources that closely resemble the originals has a lot to do with Java byte-code design goals and trade-offs. Among other things, Java byte code was designed for compactness, platform independence, network mobility, and ease of analysis by byte-code interpreters and JIT (just-in-time)/HotSpot dynamic compilers. Arguably, the compiled .class files express the programmer&#39;s intent so clearly they could be easier to analyze than the original source code.\r\n\r\nSeveral things can be done, if not to prevent decompilation completely, at least to make it more difficult. For example, as a post-compilation step you could massage the .class data to make the byte code either harder to read when decompiled or harder to decompile into valid Java code (or both). Techniques like performing extreme method name overloading work well for the former, and manipulating control flow to create control structures not possible to represent through Java syntax work well for the latter. The more successful commercial obfuscators use a mix of these and other techniques.\r\n\r\nUnfortunately, both approaches must actually change the code the JVM will run, and many users are afraid (rightfully so) that this transformation may add new bugs to their applications. Furthermore, method and field renaming can cause reflection calls to stop working. Changing actual class and package names can break several other Java APIs (JNDI (Java Naming and Directory Interface), URL providers, etc.). In addition to altered names, if the association between class byte-code offsets and source line numbers is altered, recovering the original exception stack traces could become difficult.\r\n\r\nThen there is the option of obfuscating the original Java source code. But fundamentally this causes a similar set of problems.\r\nEncrypt, not obfuscate?\r\n\r\nPerhaps the above has made you think, &quot;Well, what if instead of manipulating byte code I encrypt all my classes after compilation and decrypt them on the fly inside the JVM (which can be done with a custom classloader)? Then the JVM executes my original byte code and yet there is nothing to decompile or reverse engineer, right?&quot;\r\n\r\nUnfortunately, you would be wrong, both in thinking that you were the first to come up with this idea and in thinking that it actually works. And the reason has nothing to do with the strength of your encryption scheme.\r\n","title":"How to lock compiled Java classes to prevent decompilation?","body":"<p>Q: If I encrypt my .class files and use a custom classloader to load and decrypt them on the fly, will this prevent decompilation?</p>\n\n<p>A: The problem of preventing Java byte-code decompilation is almost as old the language itself. Despite a range of obfuscation tools available on the market, novice Java programmers continue to think of new and clever ways to protect their intellectual property. In this Java Q&amp;A installment, I dispel some myths around an idea frequently rehashed in discussion forums.</p>\n\n<p>The extreme ease with which Java .class files can be reconstructed into Java sources that closely resemble the originals has a lot to do with Java byte-code design goals and trade-offs. Among other things, Java byte code was designed for compactness, platform independence, network mobility, and ease of analysis by byte-code interpreters and JIT (just-in-time)/HotSpot dynamic compilers. Arguably, the compiled .class files express the programmer's intent so clearly they could be easier to analyze than the original source code.</p>\n\n<p>Several things can be done, if not to prevent decompilation completely, at least to make it more difficult. For example, as a post-compilation step you could massage the .class data to make the byte code either harder to read when decompiled or harder to decompile into valid Java code (or both). Techniques like performing extreme method name overloading work well for the former, and manipulating control flow to create control structures not possible to represent through Java syntax work well for the latter. The more successful commercial obfuscators use a mix of these and other techniques.</p>\n\n<p>Unfortunately, both approaches must actually change the code the JVM will run, and many users are afraid (rightfully so) that this transformation may add new bugs to their applications. Furthermore, method and field renaming can cause reflection calls to stop working. Changing actual class and package names can break several other Java APIs (JNDI (Java Naming and Directory Interface), URL providers, etc.). In addition to altered names, if the association between class byte-code offsets and source line numbers is altered, recovering the original exception stack traces could become difficult.</p>\n\n<p>Then there is the option of obfuscating the original Java source code. But fundamentally this causes a similar set of problems.\nEncrypt, not obfuscate?</p>\n\n<p>Perhaps the above has made you think, \"Well, what if instead of manipulating byte code I encrypt all my classes after compilation and decrypt them on the fly inside the JVM (which can be done with a custom classloader)? Then the JVM executes my original byte code and yet there is nothing to decompile or reverse engineer, right?\"</p>\n\n<p>Unfortunately, you would be wrong, both in thinking that you were the first to come up with this idea and in thinking that it actually works. And the reason has nothing to do with the strength of your encryption scheme.</p>\n"}],"owner":{"account_id":734,"reputation":4042,"user_id":959,"accept_rate":52,"display_name":"jatanp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96133,"favorite_count":0,"down_vote_count":4,"up_vote_count":109,"accepted_answer_id":49428,"answer_count":9,"score":105,"last_activity_date":1671314406,"creation_date":1220866738,"question_id":49379,"body_markdown":"How do I lock compiled Java classes to prevent decompilation?\r\n\r\nI know this must be very well discussed topic on the Internet, but I could not come to any conclusion after referring them.\r\n\r\nMany people do suggest obfuscator, but they just do renaming of classes, methods, and fields with tough-to-remember character sequences but what about sensitive constant values?\r\n\r\nFor example, you have developed the encryption and decryption component based on a password based encryption technique. Now in this case, any average Java person can use [JAD][1] to decompile the class file and easily retrieve the password value (defined as constant) as well as [salt][2] and in turn can decrypt the data by writing small independent program!\r\n\r\nOr should such sensitive components be built in native code (for example, VC++) and call them via [JNI][3]?\r\n\r\n  [1]: http://www.kpdus.com/jad.html\r\n  [2]: http://en.wikipedia.org/wiki/Salt_%28cryptography%29\r\n  [3]: http://en.wikipedia.org/wiki/Java_Native_Interface\r\n","title":"How to lock compiled Java classes to prevent decompilation?","body":"<p>How do I lock compiled Java classes to prevent decompilation?</p>\n\n<p>I know this must be very well discussed topic on the Internet, but I could not come to any conclusion after referring them.</p>\n\n<p>Many people do suggest obfuscator, but they just do renaming of classes, methods, and fields with tough-to-remember character sequences but what about sensitive constant values?</p>\n\n<p>For example, you have developed the encryption and decryption component based on a password based encryption technique. Now in this case, any average Java person can use <a href=\"http://www.kpdus.com/jad.html\" rel=\"noreferrer\">JAD</a> to decompile the class file and easily retrieve the password value (defined as constant) as well as <a href=\"http://en.wikipedia.org/wiki/Salt_%28cryptography%29\" rel=\"noreferrer\">salt</a> and in turn can decrypt the data by writing small independent program!</p>\n\n<p>Or should such sensitive components be built in native code (for example, VC++) and call them via <a href=\"http://en.wikipedia.org/wiki/Java_Native_Interface\" rel=\"noreferrer\">JNI</a>?</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1669649837,"post_id":74602676,"comment_id":131684472,"body_markdown":"Well, as you already found out, you can&#39;t do it in one go. `Student` must be inserted first to generate the ID, only then you can save the address. Also, you probably want `insertable = true`","body":"Well, as you already found out, you can&#39;t do it in one go. <code>Student</code> must be inserted first to generate the ID, only then you can save the address. Also, you probably want <code>insertable = true</code>"},{"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"score":1,"creation_date":1669676370,"post_id":74602676,"comment_id":131692506,"body_markdown":"@XtremeBaumer kindly disagree, actually the mechanism is very straight forward to persist entities which have one-to-one association and cascading with in one transaction, deferable constraint can be very handy in this cases.","body":"@XtremeBaumer kindly disagree, actually the mechanism is very straight forward to persist entities which have one-to-one association and cascading with in one transaction, deferable constraint can be very handy in this cases."},{"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"score":0,"creation_date":1669676452,"post_id":74602676,"comment_id":131692520,"body_markdown":"An answer provided, if it suits you requirement please consider to upvote and accept it cause it take considerable time from me, otherwise feel free to leave comment, i will gladly be here to help you.","body":"An answer provided, if it suits you requirement please consider to upvote and accept it cause it take considerable time from me, otherwise feel free to leave comment, i will gladly be here to help you."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1669792897,"post_id":74602676,"comment_id":131721035,"body_markdown":"@Lunatic one transaction sure, but not a single call to `repo.save()` which then should save both entities, which is what OP is actually asking for. It is possible if both entities have generated identifiers, but not as OP has it set up","body":"@Lunatic one transaction sure, but not a single call to <code>repo.save()</code> which then should save both entities, which is what OP is actually asking for. It is possible if both entities have generated identifiers, but not as OP has it set up"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1669793274,"post_id":74602676,"comment_id":131721140,"body_markdown":"Also from what I could find, deferred constraints seems to be Postgres specific which might not work for OP","body":"Also from what I could find, deferred constraints seems to be Postgres specific which might not work for OP"}],"answers":[{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671314286,"creation_date":1669676267,"answer_id":74607369,"question_id":74602676,"body_markdown":"you asked\r\n\r\n&gt;  How to Save both (entity and associated entity) at one go.\r\n\r\nLet just translate &quot;one go&quot; as a one transaction, they are many ways to achieve it all of them lay in the fact that for [persisted][1] entity flushing being done at proper point of time before committing the whole transaction.\r\n\r\n**Solution**\r\n\r\nOne practice is adopt a behind cache mechanism upon JPA specifications and having [deferable constraint][2]. persist `Student` and `Address` entity first to obtain an id from generator from database with flushing, then create proper binding and association between them and finally commit the transaction.\r\n\r\nTo demonstrate it, begin with session abstraction i.e [EntityManager][3] which stands as first level cache and you can instantiate it via [EntityManagerFactory][4] which indeed stands for second level cache.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n    EntityManager entityManager = entityManagerFactory.createEntityManager();\r\n    entityManager.getTransaction().begin();\r\n    entityManager.persist(Not_associated_entities);\r\n    ...\r\n    flush();\r\n    ...\r\n    entityManager.merge(associated_entities);\r\n    ...\r\n    entityManager.getTransaction().commit();\r\n    entityManager.close();\r\n\r\n\r\nAlso specifically for PK and FK columns are most often indexed, so sharing the PK can reduce the index footprint by half, which is desirable since you want to store all your indexes into memory to speed up index scanning, you may for OneToOne association optimization in this [article][5].\r\n\r\n**Caution**\r\n\r\nAlways [close][6] all the manual instantiation of entityManager.\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/hibernate-lifecycle/#:~:text=In%20Hibernate%2C%20we%20can%20either,various%20stages%20of%20the%20lifecycle.\r\n  [2]: https://www.postgresql.org/docs/current/sql-set-constraints.html#:~:text=DEFERRED%20constraints%20are%20not%20checked,INITIALLY%20IMMEDIATE%20%2C%20or%20NOT%20DEFERRABLE%20.\r\n  [3]: https://docs.jboss.org/hibernate/jpa/2.1/api/javax/persistence/EntityManager.html\r\n  [4]: https://docs.oracle.com/javaee/7/api/javax/persistence/EntityManagerFactory.html\r\n  [5]: https://vladmihalcea.com/the-best-way-to-map-a-onetoone-relationship-with-jpa-and-hibernate/\r\n  [6]: https://stackoverflow.com/questions/10762974/should-jpa-entity-manager-be-closed","title":"Sprint Data JPA - save child entity with parent with shared primary key","body":"<p>you asked</p>\n<blockquote>\n<p>How to Save both (entity and associated entity) at one go.</p>\n</blockquote>\n<p>Let just translate &quot;one go&quot; as a one transaction, they are many ways to achieve it all of them lay in the fact that for <a href=\"https://www.geeksforgeeks.org/hibernate-lifecycle/#:%7E:text=In%20Hibernate%2C%20we%20can%20either,various%20stages%20of%20the%20lifecycle.\" rel=\"nofollow noreferrer\">persisted</a> entity flushing being done at proper point of time before committing the whole transaction.</p>\n<p><strong>Solution</strong></p>\n<p>One practice is adopt a behind cache mechanism upon JPA specifications and having <a href=\"https://www.postgresql.org/docs/current/sql-set-constraints.html#:%7E:text=DEFERRED%20constraints%20are%20not%20checked,INITIALLY%20IMMEDIATE%20%2C%20or%20NOT%20DEFERRABLE%20.\" rel=\"nofollow noreferrer\">deferable constraint</a>. persist <code>Student</code> and <code>Address</code> entity first to obtain an id from generator from database with flushing, then create proper binding and association between them and finally commit the transaction.</p>\n<p>To demonstrate it, begin with session abstraction i.e <a href=\"https://docs.jboss.org/hibernate/jpa/2.1/api/javax/persistence/EntityManager.html\" rel=\"nofollow noreferrer\">EntityManager</a> which stands as first level cache and you can instantiate it via <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/EntityManagerFactory.html\" rel=\"nofollow noreferrer\">EntityManagerFactory</a> which indeed stands for second level cache.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>EntityManager entityManager = entityManagerFactory.createEntityManager();\nentityManager.getTransaction().begin();\nentityManager.persist(Not_associated_entities);\n...\nflush();\n...\nentityManager.merge(associated_entities);\n...\nentityManager.getTransaction().commit();\nentityManager.close();\n</code></pre>\n<p>Also specifically for PK and FK columns are most often indexed, so sharing the PK can reduce the index footprint by half, which is desirable since you want to store all your indexes into memory to speed up index scanning, you may for OneToOne association optimization in this <a href=\"https://vladmihalcea.com/the-best-way-to-map-a-onetoone-relationship-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">article</a>.</p>\n<p><strong>Caution</strong></p>\n<p>Always <a href=\"https://stackoverflow.com/questions/10762974/should-jpa-entity-manager-be-closed\">close</a> all the manual instantiation of entityManager.</p>\n"}],"owner":{"account_id":11802803,"reputation":531,"user_id":8636060,"accept_rate":50,"display_name":"Atul "},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671314286,"creation_date":1669648432,"question_id":74602676,"body_markdown":"I have two tables &#39;STUDENT&#39;(pk - student_id autogenerated) and &#39;Address&#39; . address_id is pk of Address table and it must be same value as student_id .\r\n\r\nentities : \r\n\r\n    @Entity\r\n    @Table(name = &quot;student&quot;)\r\n    Public class Student{\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        @Column(name = &quot;STUDENT_ID&quot;,updatable = false,insertable = false)\r\n        private long Id;\r\n    \r\n    \r\n        @OneToOne(cascade = CascadeType.ALL)\r\n        @JoinColumn(name=&quot;STUDENT_ID&quot;)\r\n        private Address address;\r\n    \r\n    .....\r\n    //getters setters\r\n    }\r\n    \r\n    \r\n    @Entity\r\n    @Table(name = &quot;address&quot;)\r\n    Public class Address{\r\n    \r\n        @Id\r\n        @Column(name = &quot;ADDRSS_ID&quot;,updatable = false,insertable = false)\r\n        private long Id;\r\n    \r\n    \r\n        @OneToOne\r\n        private Student student;\r\n    \r\n    .....\r\n    //getters setters\r\n    }\r\n    \r\n    \r\n    \r\n    service \r\n    \r\n    public class Service {\r\n    \r\n     @Autowired StudentRepository repo;\r\n    \r\n     public void saveStudent(Student s){\r\n    \r\n     repo.save(s)\r\n    }\r\n    \r\n    }\r\n\r\nProblem that i am facing is because of cascade.ALL \r\nJPA trying to save child entity i.e. Address before parent entity Student, but ADDRESS_ID is having NOT NULL Constraint and I am getting Constraint Violation Exception.\r\nHow to Save both at one go. PLEASE Help . Thanks in advance\r\n","title":"Sprint Data JPA - save child entity with parent with shared primary key","body":"<p>I have two tables 'STUDENT'(pk - student_id autogenerated) and 'Address' . address_id is pk of Address table and it must be same value as student_id .</p>\n<p>entities :</p>\n<pre><code>@Entity\n@Table(name = &quot;student&quot;)\nPublic class Student{\n\n    @Id\n    @GeneratedValue\n    @Column(name = &quot;STUDENT_ID&quot;,updatable = false,insertable = false)\n    private long Id;\n\n\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name=&quot;STUDENT_ID&quot;)\n    private Address address;\n\n.....\n//getters setters\n}\n\n\n@Entity\n@Table(name = &quot;address&quot;)\nPublic class Address{\n\n    @Id\n    @Column(name = &quot;ADDRSS_ID&quot;,updatable = false,insertable = false)\n    private long Id;\n\n\n    @OneToOne\n    private Student student;\n\n.....\n//getters setters\n}\n\n\n\nservice \n\npublic class Service {\n\n @Autowired StudentRepository repo;\n\n public void saveStudent(Student s){\n\n repo.save(s)\n}\n\n}\n</code></pre>\n<p>Problem that i am facing is because of cascade.ALL\nJPA trying to save child entity i.e. Address before parent entity Student, but ADDRESS_ID is having NOT NULL Constraint and I am getting Constraint Violation Exception.\nHow to Save both at one go. PLEASE Help . Thanks in advance</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":14824883,"reputation":735,"user_id":10706099,"display_name":"Mayur"},"score":0,"creation_date":1556799282,"post_id":55952203,"comment_id":98556284,"body_markdown":"if(result.equals(&quot;&quot;)) use this","body":"if(result.equals(&quot;&quot;)) use this"},{"owner":{"account_id":3512072,"reputation":17986,"user_id":2936153,"display_name":"Rohit5k2"},"score":1,"creation_date":1556799299,"post_id":55952203,"comment_id":98556297,"body_markdown":"probably because result is not null. It has a string &quot;null&quot; in it. try `&quot;null&quot;.equalsignorecase(result) || result == null`","body":"probably because result is not null. It has a string &quot;null&quot; in it. try <code>&quot;null&quot;.equalsignorecase(result) || result == null</code>"},{"owner":{"account_id":8942455,"reputation":1317,"user_id":6671004,"display_name":"Shrey Garg"},"score":0,"creation_date":1556799306,"post_id":55952203,"comment_id":98556303,"body_markdown":"Check if the value in your `result` string is &quot;nul&quot;","body":"Check if the value in your <code>result</code> string is &quot;nul&quot;"},{"owner":{"account_id":8942455,"reputation":1317,"user_id":6671004,"display_name":"Shrey Garg"},"score":0,"creation_date":1556799348,"post_id":55952203,"comment_id":98556325,"body_markdown":"@MayurPanchal - doing that will throw a NPE when result is null","body":"@MayurPanchal - doing that will throw a NPE when result is null"},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1556799375,"post_id":55952203,"comment_id":98556343,"body_markdown":"Debug this .. Can it be the case the result contains `&quot;null&quot;` . Use `TextUtils.isEmpty()` for string ..","body":"Debug this .. Can it be the case the result contains <code>&quot;null&quot;</code> . Use <code>TextUtils.isEmpty()</code> for string .."}],"answers":[{"tags":[],"owner":{"account_id":14824883,"reputation":735,"user_id":10706099,"display_name":"Mayur"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556800046,"creation_date":1556800046,"answer_id":55952461,"question_id":55952203,"body_markdown":"Create one method to string null or not\r\n\r\n    public boolean isEmptyString(String inputStr) {\r\n            if (inputStr != null &amp;&amp; !inputStr.equals(&quot;&quot;) &amp;&amp; inputStr.toString().trim().length() &gt; 0) {\r\n                return false;\r\n            } else\r\n                return true;\r\n        }\r\n\r\nUse this method like this\r\n\r\n    if(isEmptyString(result))\r\n    {\r\n    ///Null\r\n    else\r\n    {\r\n    /// Not null\r\n    }","title":"Android - The text view text is returning null but the condition doesn&#39;t match","body":"<p>Create one method to string null or not</p>\n\n<pre><code>public boolean isEmptyString(String inputStr) {\n        if (inputStr != null &amp;&amp; !inputStr.equals(\"\") &amp;&amp; inputStr.toString().trim().length() &gt; 0) {\n            return false;\n        } else\n            return true;\n    }\n</code></pre>\n\n<p>Use this method like this</p>\n\n<pre><code>if(isEmptyString(result))\n{\n///Null\nelse\n{\n/// Not null\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4571218,"reputation":12646,"user_id":3710865,"accept_rate":54,"display_name":"sasikumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1556801462,"creation_date":1556801462,"answer_id":55952899,"question_id":55952203,"body_markdown":"    if (result != null &amp;&amp; !result.isEmpty())\r\n    {\r\n            tvResult.setVisibility(View.VISIBLE);\r\n            tvError.setVisibility(View.INVISIBLE);\r\n            Log.d(&quot;Error&quot;, &quot;not null&quot;);\r\n     }\r\n     else{\r\n            tvResult.setVisibility(View.INVISIBLE);\r\n            tvError.setVisibility(View.VISIBLE);\r\n            Log.d(&quot;Error&quot;, &quot;null&quot;);\r\n     }\r\n\r\n","title":"Android - The text view text is returning null but the condition doesn&#39;t match","body":"<pre><code>if (result != null &amp;&amp; !result.isEmpty())\n{\n        tvResult.setVisibility(View.VISIBLE);\n        tvError.setVisibility(View.INVISIBLE);\n        Log.d(\"Error\", \"not null\");\n }\n else{\n        tvResult.setVisibility(View.INVISIBLE);\n        tvError.setVisibility(View.VISIBLE);\n        Log.d(\"Error\", \"null\");\n }\n</code></pre>\n"}],"owner":{"account_id":5490196,"reputation":670,"user_id":4363776,"accept_rate":100,"display_name":"David Gomes"},"comment_count":5,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":665,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1556824312,"accepted_answer_id":55952899,"answer_count":2,"score":-2,"last_activity_date":1671313853,"creation_date":1556799133,"question_id":55952203,"body_markdown":"I&#39;m following a Android Studio tutorial and this:\r\n\r\n    @Override\r\n        protected void onPostExecute(String result) {\r\n            TextView tvResult = (TextView)findViewById(R.id.tvResponse);\r\n            TextView tvError = (TextView)findViewById(R.id.tvError);\r\n\r\n            tvResult.setText(result);\r\n\r\n            mLoadingProgress.setVisibility(View.INVISIBLE);\r\n\r\n            Log.d(&quot;Error&quot;, result);\r\n            if(result == null) {\r\n                tvResult.setVisibility(View.INVISIBLE);\r\n                tvError.setVisibility(View.VISIBLE);\r\n                Log.d(&quot;Error&quot;, &quot;null&quot;);\r\n            }\r\n            else {\r\n                tvResult.setVisibility(View.VISIBLE);\r\n                tvError.setVisibility(View.INVISIBLE);\r\n                Log.d(&quot;Error&quot;, &quot;not null&quot;);\r\n            }\r\n        }\r\n\r\nFor some reason lands the else, even though the result is null.\r\n\r\nI ran it in debugging mode and the log it shows is:\r\n\r\n    D/Error: null\r\n        not null","title":"Android - The text view text is returning null but the condition doesn&#39;t match","body":"<p>I'm following a Android Studio tutorial and this:</p>\n<pre><code>@Override\n    protected void onPostExecute(String result) {\n        TextView tvResult = (TextView)findViewById(R.id.tvResponse);\n        TextView tvError = (TextView)findViewById(R.id.tvError);\n\n        tvResult.setText(result);\n\n        mLoadingProgress.setVisibility(View.INVISIBLE);\n\n        Log.d(&quot;Error&quot;, result);\n        if(result == null) {\n            tvResult.setVisibility(View.INVISIBLE);\n            tvError.setVisibility(View.VISIBLE);\n            Log.d(&quot;Error&quot;, &quot;null&quot;);\n        }\n        else {\n            tvResult.setVisibility(View.VISIBLE);\n            tvError.setVisibility(View.INVISIBLE);\n            Log.d(&quot;Error&quot;, &quot;not null&quot;);\n        }\n    }\n</code></pre>\n<p>For some reason lands the else, even though the result is null.</p>\n<p>I ran it in debugging mode and the log it shows is:</p>\n<pre><code>D/Error: null\n    not null\n</code></pre>\n"},{"tags":["java","android","kotlin","for-loop"],"comments":[{"owner":{"account_id":10434847,"reputation":968,"user_id":7693494,"display_name":"Erwin Kurniawan A"},"score":0,"creation_date":1671297073,"post_id":74835641,"comment_id":132071078,"body_markdown":"create a counter variable to store index and increase it in loop","body":"create a counter variable to store index and increase it in loop"},{"owner":{"account_id":24811857,"reputation":30,"user_id":18693210,"display_name":"Berk Sunduri"},"score":0,"creation_date":1671297844,"post_id":74835641,"comment_id":132071218,"body_markdown":"I tried doing that I declared a counter like private int index = 0 and used it like: \n\nbutton.setImageBitmap(bitmapArray.get(index));\nindex++; \n\ninside of the onClick activity for the button but the app just crashes.","body":"I tried doing that I declared a counter like private int index = 0 and used it like:   button.setImageBitmap(bitmapArray.get(index)); index++;   inside of the onClick activity for the button but the app just crashes."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1671298840,"post_id":74835641,"comment_id":132071411,"body_markdown":"It sounds like there&#39;s a bug in how you did that, so you should show us what exactly that code is and how it failed.","body":"It sounds like there&#39;s a bug in how you did that, so you should show us what exactly that code is and how it failed."},{"owner":{"account_id":24811857,"reputation":30,"user_id":18693210,"display_name":"Berk Sunduri"},"score":0,"creation_date":1671299273,"post_id":74835641,"comment_id":132071479,"body_markdown":"On the second run the code did work but now I realized that I have another problem. Before this code I tried to duplicate an ArrayList inside itself by just doing ArrayList.add(ArrayList) but that doesn&#39;t seem to work because the array should have 4 elements but when I iterate over it it just shows 2 elements. That&#39;s why it just breaks when I click 2 times to the screen.","body":"On the second run the code did work but now I realized that I have another problem. Before this code I tried to duplicate an ArrayList inside itself by just doing ArrayList.add(ArrayList) but that doesn&#39;t seem to work because the array should have 4 elements but when I iterate over it it just shows 2 elements. That&#39;s why it just breaks when I click 2 times to the screen."},{"owner":{"account_id":24811857,"reputation":30,"user_id":18693210,"display_name":"Berk Sunduri"},"score":0,"creation_date":1671299980,"post_id":74835641,"comment_id":132071604,"body_markdown":"Even if I use this method it would be pretty hard to set it up. Because I would have to check if the index count is lower than the ArrayList size and if it is Equal to I would have to reset it which then it would just add the same photos everywhere on click and not remember which photo it added.","body":"Even if I use this method it would be pretty hard to set it up. Because I would have to check if the index count is lower than the ArrayList size and if it is Equal to I would have to reset it which then it would just add the same photos everywhere on click and not remember which photo it added."}],"answers":[{"comments":[{"owner":{"account_id":24811857,"reputation":30,"user_id":18693210,"display_name":"Berk Sunduri"},"score":0,"creation_date":1671309037,"post_id":74836716,"comment_id":132073438,"body_markdown":"Hey, great answer and I think it would work if I can implement it correctly. I tried doing that but instead of strings I am using buttons and another arraylist for bitmap images. I tried implementing your code to mine but it gives an error saying: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0. I am adding elements to your list type with .add (example: buttons.add(button1). I dont think there is a problem with that. (here is my code:https://pastebin.com/Rh9vcNbz)","body":"Hey, great answer and I think it would work if I can implement it correctly. I tried doing that but instead of strings I am using buttons and another arraylist for bitmap images. I tried implementing your code to mine but it gives an error saying: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0. I am adding elements to your list type with .add (example: buttons.add(button1). I dont think there is a problem with that. (here is my code:<a href=\"https://pastebin.com/Rh9vcNbz\" rel=\"nofollow noreferrer\">pastebin.com/Rh9vcNbz</a>)"},{"owner":{"account_id":7235145,"reputation":1198,"user_id":5520677,"display_name":"Radu M"},"score":0,"creation_date":1671309139,"post_id":74836716,"comment_id":132073457,"body_markdown":"I tested mine actually in a Unit Test before posting it in here, I don&#39;t think that my &quot;loop implementation&quot; has an issue. \n\nCould you maybe post the full code that throws the IndexOutOfBoundsException in your Question?","body":"I tested mine actually in a Unit Test before posting it in here, I don&#39;t think that my &quot;loop implementation&quot; has an issue.   Could you maybe post the full code that throws the IndexOutOfBoundsException in your Question?"},{"owner":{"account_id":24811857,"reputation":30,"user_id":18693210,"display_name":"Berk Sunduri"},"score":0,"creation_date":1671309244,"post_id":74836716,"comment_id":132073481,"body_markdown":"Just added a pastebin","body":"Just added a pastebin"},{"owner":{"account_id":7235145,"reputation":1198,"user_id":5520677,"display_name":"Radu M"},"score":0,"creation_date":1671310183,"post_id":74836716,"comment_id":132073637,"body_markdown":"I can&#39;t run the code for me, because I am missing all the Firebase things, but I am pretty sure, that the mistake in your code is the following line\n\nbutton.setImageBitmap(bitmapArray.get(index));\n\n\nThose images, you put in this list, are being loaded from the Firebase Storage - could you debug, if they are actually in the list? \n\nI mean you iterate over a List with 4 Buttons in it, and then you make the assumption, that all those images have been loaded successfully so you have a 4 by 4 List.\n\n(A list with 4 Buttons and another List with Images)","body":"I can&#39;t run the code for me, because I am missing all the Firebase things, but I am pretty sure, that the mistake in your code is the following line  button.setImageBitmap(bitmapArray.get(index));   Those images, you put in this list, are being loaded from the Firebase Storage - could you debug, if they are actually in the list?   I mean you iterate over a List with 4 Buttons in it, and then you make the assumption, that all those images have been loaded successfully so you have a 4 by 4 List.  (A list with 4 Buttons and another List with Images)"},{"owner":{"account_id":7235145,"reputation":1198,"user_id":5520677,"display_name":"Radu M"},"score":0,"creation_date":1671310323,"post_id":74836716,"comment_id":132073650,"body_markdown":"I updated my answer - I took your code and wrote something very similar, but just that my Bitmaps are not being loaded from the Firebase Storage (which could go wrong) and then you get an index out of bounds exception, because you are at button nr 1 and you want to load the image list at first index - but this list is now empty, because it could not get filled.","body":"I updated my answer - I took your code and wrote something very similar, but just that my Bitmaps are not being loaded from the Firebase Storage (which could go wrong) and then you get an index out of bounds exception, because you are at button nr 1 and you want to load the image list at first index - but this list is now empty, because it could not get filled."},{"owner":{"account_id":24811857,"reputation":30,"user_id":18693210,"display_name":"Berk Sunduri"},"score":0,"creation_date":1671310398,"post_id":74836716,"comment_id":132073663,"body_markdown":"I realized that I never explained what I am trying to do. I am trying to create a memory card game(matching cards) which I am storing all of the images in a firebase storage. There is 44 cards in the storage and I am grabbing 2 cards and duplicating them to create a 2x2 matching card game. For this I am getting the 2 cards I need storing them in a temporary file and adding them to a bitmap arraylist where I want to randomly set them to cards.","body":"I realized that I never explained what I am trying to do. I am trying to create a memory card game(matching cards) which I am storing all of the images in a firebase storage. There is 44 cards in the storage and I am grabbing 2 cards and duplicating them to create a 2x2 matching card game. For this I am getting the 2 cards I need storing them in a temporary file and adding them to a bitmap arraylist where I want to randomly set them to cards."},{"owner":{"account_id":7235145,"reputation":1198,"user_id":5520677,"display_name":"Radu M"},"score":0,"creation_date":1671310498,"post_id":74836716,"comment_id":132073682,"body_markdown":"Please also implement the failureListener when you load the images from the Firebase Storage, you should get an error here","body":"Please also implement the failureListener when you load the images from the Firebase Storage, you should get an error here"},{"owner":{"account_id":24811857,"reputation":30,"user_id":18693210,"display_name":"Berk Sunduri"},"score":0,"creation_date":1671311435,"post_id":74836716,"comment_id":132073836,"body_markdown":"Right now it is working kind of randomly. So it sometimes can retrieve the file and sometimes doesn&#39;t. But I don&#39;t think it shuffles the bitmap when I do Collections.shuffle(bitmapArray)","body":"Right now it is working kind of randomly. So it sometimes can retrieve the file and sometimes doesn&#39;t. But I don&#39;t think it shuffles the bitmap when I do Collections.shuffle(bitmapArray)"},{"owner":{"account_id":7235145,"reputation":1198,"user_id":5520677,"display_name":"Radu M"},"score":0,"creation_date":1671312110,"post_id":74836716,"comment_id":132073947,"body_markdown":"Well you need to think about, what to do, when you are not being able to load the pictures - if its a network ressource, it can have many &quot;issues&quot; - authentication, bad internet connection or no internet connection at all, permissions problems to access the given ressource and so on.\n\nAnyway - your question was about a &quot;forEachIndexed&quot; in Java - I think the question itself is answered from my opinion.","body":"Well you need to think about, what to do, when you are not being able to load the pictures - if its a network ressource, it can have many &quot;issues&quot; - authentication, bad internet connection or no internet connection at all, permissions problems to access the given ressource and so on.  Anyway - your question was about a &quot;forEachIndexed&quot; in Java - I think the question itself is answered from my opinion."},{"owner":{"account_id":24811857,"reputation":30,"user_id":18693210,"display_name":"Berk Sunduri"},"score":0,"creation_date":1671315192,"post_id":74836716,"comment_id":132074397,"body_markdown":"Yes your answer really solved my problem. Thank you very much for your answer. Sorry for taking your time. Have a nice day!","body":"Yes your answer really solved my problem. Thank you very much for your answer. Sorry for taking your time. Have a nice day!"},{"owner":{"account_id":7235145,"reputation":1198,"user_id":5520677,"display_name":"Radu M"},"score":0,"creation_date":1671315247,"post_id":74836716,"comment_id":132074406,"body_markdown":"Don&#39;t be sorry mate, we are all here in the same boat. I just wanted to focus on the question otherwise we could discuss here for the next 10 hours.","body":"Don&#39;t be sorry mate, we are all here in the same boat. I just wanted to focus on the question otherwise we could discuss here for the next 10 hours."},{"owner":{"account_id":24811857,"reputation":30,"user_id":18693210,"display_name":"Berk Sunduri"},"score":0,"creation_date":1671317519,"post_id":74836716,"comment_id":132074736,"body_markdown":"I guess you are right. I couldn&#39;t solve my problems so I turned the code into Kotlin and tried doing it there but it still gave me the same problem. (IndexOutOfBounds) So I think I am doing something wrong on retrieving the images from firebase.","body":"I guess you are right. I couldn&#39;t solve my problems so I turned the code into Kotlin and tried doing it there but it still gave me the same problem. (IndexOutOfBounds) So I think I am doing something wrong on retrieving the images from firebase."}],"tags":[],"owner":{"account_id":7235145,"reputation":1198,"user_id":5520677,"display_name":"Radu M"},"comment_count":12,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671310429,"creation_date":1671303770,"answer_id":74836716,"question_id":74835641,"body_markdown":"I work with Java and Kotlin for some years now and sadly I think that there is nothing in Java (atleast which is standard) that can deliver you something like Kotlin does with its **forEachIndexed**.\r\n\r\nI mean if you look at the implementation of the &quot;forEachIndexed&quot;...\r\n\r\nIt is nothing more then this:\r\n\r\n```kotlin\r\nvar index = 0\r\nfor (item in this) action(checkIndexOverflow(index++), item)\r\n```\r\n\r\nit basically creates an **int** variable for you, and increments it, while iterating over the List and invoking your Lambda.\r\n\r\n\r\nIf you still want something similar, which is still &quot;hacky&quot; - I wrote something for you, not that I want to say that it is perfect but does the job - and it is still generic.\r\n\r\nNew Classes:\r\n```java\r\n\r\npublic interface IndexedAction&lt;T&gt; {\r\n    void action(T item, int index);\r\n}\r\n\r\npublic class ExtendedArrayList&lt;T&gt; extends ArrayList&lt;T&gt; {\r\n    public void forEachIndexed(IndexedAction&lt;T&gt; indexedAction) {\r\n        int i = 0;\r\n        for (T element : this) {\r\n            indexedAction.action(element, i);\r\n            i++;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n**Usage**:\r\n```java\r\n      @Test // Robolectric Unit Test\r\n    public void myTest() {\r\n        ExtendedArrayList&lt;Bitmap&gt; bitmapArray = new ExtendedArrayList&lt;&gt;();\r\n        ExtendedArrayList&lt;ImageButton&gt; buttons = new ExtendedArrayList&lt;&gt;();\r\n        Application context = RuntimeEnvironment.application;\r\n        int width = 200;\r\n        int height = 100;\r\n        Bitmap bitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888);\r\n        bitmapArray.add(bitmap);\r\n        bitmapArray.add(bitmap);\r\n        bitmapArray.add(bitmap);\r\n        bitmapArray.add(bitmap);\r\n        Collections.shuffle(bitmapArray);\r\n        ImageButton button1 = new ImageButton(context);\r\n        ImageButton button2 = new ImageButton(context);\r\n        ImageButton button3 = new ImageButton(context);\r\n        ImageButton button4 = new ImageButton(context);\r\n\r\n        buttons.add(button1);\r\n        buttons.add(button2);\r\n        buttons.add(button3);\r\n        buttons.add(button4);\r\n        buttons.forEachIndexed((button, index) -&gt; \r\n            button.setImageBitmap(bitmapArray.get(index)));\r\n        }\r\n```\r\n\r\n ","title":"Android forEachIndexed() function on Java","body":"<p>I work with Java and Kotlin for some years now and sadly I think that there is nothing in Java (atleast which is standard) that can deliver you something like Kotlin does with its <strong>forEachIndexed</strong>.</p>\n<p>I mean if you look at the implementation of the &quot;forEachIndexed&quot;...</p>\n<p>It is nothing more then this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>var index = 0\nfor (item in this) action(checkIndexOverflow(index++), item)\n</code></pre>\n<p>it basically creates an <strong>int</strong> variable for you, and increments it, while iterating over the List and invoking your Lambda.</p>\n<p>If you still want something similar, which is still &quot;hacky&quot; - I wrote something for you, not that I want to say that it is perfect but does the job - and it is still generic.</p>\n<p>New Classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic interface IndexedAction&lt;T&gt; {\n    void action(T item, int index);\n}\n\npublic class ExtendedArrayList&lt;T&gt; extends ArrayList&lt;T&gt; {\n    public void forEachIndexed(IndexedAction&lt;T&gt; indexedAction) {\n        int i = 0;\n        for (T element : this) {\n            indexedAction.action(element, i);\n            i++;\n        }\n    }\n}\n</code></pre>\n<p><strong>Usage</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>      @Test // Robolectric Unit Test\n    public void myTest() {\n        ExtendedArrayList&lt;Bitmap&gt; bitmapArray = new ExtendedArrayList&lt;&gt;();\n        ExtendedArrayList&lt;ImageButton&gt; buttons = new ExtendedArrayList&lt;&gt;();\n        Application context = RuntimeEnvironment.application;\n        int width = 200;\n        int height = 100;\n        Bitmap bitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888);\n        bitmapArray.add(bitmap);\n        bitmapArray.add(bitmap);\n        bitmapArray.add(bitmap);\n        bitmapArray.add(bitmap);\n        Collections.shuffle(bitmapArray);\n        ImageButton button1 = new ImageButton(context);\n        ImageButton button2 = new ImageButton(context);\n        ImageButton button3 = new ImageButton(context);\n        ImageButton button4 = new ImageButton(context);\n\n        buttons.add(button1);\n        buttons.add(button2);\n        buttons.add(button3);\n        buttons.add(button4);\n        buttons.forEachIndexed((button, index) -&gt; \n            button.setImageBitmap(bitmapArray.get(index)));\n        }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7235145,"reputation":1198,"user_id":5520677,"display_name":"Radu M"},"score":0,"creation_date":1671313481,"post_id":74837656,"comment_id":132074144,"body_markdown":"Yea also looks ugly, because of the static call and that I need to give the List as Parameter inside, but I mean, its an option. Thanks for sharing this too.","body":"Yea also looks ugly, because of the static call and that I need to give the List as Parameter inside, but I mean, its an option. Thanks for sharing this too."}],"tags":[],"owner":{"account_id":1353955,"reputation":2623,"user_id":1292745,"display_name":"gpunto"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671313393,"creation_date":1671313393,"answer_id":74837656,"question_id":74835641,"body_markdown":"If you have the Kotlin stdlib in the project but are working on a Java file, you can use Kotlin&#39;s `forEachIndexed` from Java. It&#39;s not particularly pretty but it&#39;s doable:\r\n\r\n```\r\nimport kotlin.collections.CollectionsKt;\r\n\r\n...\r\n\r\nCollectionsKt.forEachIndexed(list, (index, element) -&gt; {\r\n    doSomething();\r\n    return Unit.INSTANCE;\r\n});\r\n```\r\n","title":"Android forEachIndexed() function on Java","body":"<p>If you have the Kotlin stdlib in the project but are working on a Java file, you can use Kotlin's <code>forEachIndexed</code> from Java. It's not particularly pretty but it's doable:</p>\n<pre><code>import kotlin.collections.CollectionsKt;\n\n...\n\nCollectionsKt.forEachIndexed(list, (index, element) -&gt; {\n    doSomething();\n    return Unit.INSTANCE;\n});\n</code></pre>\n"}],"owner":{"account_id":24811857,"reputation":30,"user_id":18693210,"display_name":"Berk Sunduri"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74836716,"answer_count":2,"score":0,"last_activity_date":1671313393,"creation_date":1671294298,"question_id":74835641,"body_markdown":"Hey I&#39;d like to ask if there is any way that I can use the Kotlins forEachIndexed() function for lists in Java? I searched everywhere but I couldn&#39;t find anything. I want to iterate over a list of ImageButtons and to each list item I want to set an Image from another list of bitmap image. So in Kotlin it would be:\r\n```\r\nbuttons.forEachIndexed{index, button -&gt;\r\n    button.setOnclickListener{\r\n    button.setImageResource(images[index])\r\n     }\r\n   }\r\n\r\n```\r\nThe way I am iterating over buttons is \r\n```\r\nfor(ImageButton button: buttons)\r\n```\r\n but I don&#39;t have any way to iterate over the indices. Can I somehow turn the Kotlin code above to Java?\r\n\r\nHere is my code so far:pastebin.com/Rh9vcNbz","title":"Android forEachIndexed() function on Java","body":"<p>Hey I'd like to ask if there is any way that I can use the Kotlins forEachIndexed() function for lists in Java? I searched everywhere but I couldn't find anything. I want to iterate over a list of ImageButtons and to each list item I want to set an Image from another list of bitmap image. So in Kotlin it would be:</p>\n<pre><code>buttons.forEachIndexed{index, button -&gt;\n    button.setOnclickListener{\n    button.setImageResource(images[index])\n     }\n   }\n\n</code></pre>\n<p>The way I am iterating over buttons is</p>\n<pre><code>for(ImageButton button: buttons)\n</code></pre>\n<p>but I don't have any way to iterate over the indices. Can I somehow turn the Kotlin code above to Java?</p>\n<p>Here is my code so far:pastebin.com/Rh9vcNbz</p>\n"},{"tags":["java","kotlin","classpath"],"comments":[{"owner":{"account_id":13722742,"reputation":16988,"user_id":10134209,"display_name":"gidds"},"score":0,"creation_date":1671319682,"post_id":74837606,"comment_id":132074979,"body_markdown":"Why are you including Lib2.jar in the classpath when running the Java version, but not when running the Kotlin version?","body":"Why are you including Lib2.jar in the classpath when running the Java version, but not when running the Kotlin version?"},{"owner":{"account_id":997544,"reputation":2566,"user_id":1013139,"accept_rate":51,"display_name":"rysv"},"score":0,"creation_date":1671329046,"post_id":74837606,"comment_id":132075905,"body_markdown":"@gidds comparison is at the compilation step. For example, `javac -cp build2/Lib2.jar -d main JavaMain.java` works but if I replace javac with kotlinc and the source file name as in `kotlinc -cp build2/Lib2.jar -d main KotlinTest.kt` I see the error.","body":"@gidds comparison is at the compilation step. For example, <code>javac -cp build2&#47;Lib2.jar -d main JavaMain.java</code> works but if I replace javac with kotlinc and the source file name as in <code>kotlinc -cp build2&#47;Lib2.jar -d main KotlinTest.kt</code> I see the error."}],"owner":{"account_id":997544,"reputation":2566,"user_id":1013139,"accept_rate":51,"display_name":"rysv"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671312863,"creation_date":1671312863,"question_id":74837606,"body_markdown":"Have a very basic Java/Kotlin dependency issue when we have chained dependencies. I posted a similar question before, but now I removed Gradle from the equation and tried directly with java/kotlin. Have \r\n\r\n    Main --&gt; Lib2 --&gt; Lib1\r\n\r\nLib1.java:\r\n\r\n    package com.test.lib1;\r\n\r\n    public interface Lib1 {\r\n    }\r\n\r\nLib2.java:\r\n\r\n    package com.test.lib2;\r\n\r\n    public interface Lib2 extends com.test.lib1.Lib1 {\r\n        public String msg = &quot;Hello message from Lib2&quot;;\r\n    }\r\n\r\nJavaMain.java:\r\n\r\n    package com.test.main;\r\n\r\n    import com.test.lib2.Lib2;\r\n\r\n    public class JavaMain {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;++++ Java TEST: &quot; + Lib2.msg);\r\n        }\r\n    }\r\n\r\nWhen I run this, it works and prints `++++ Java TEST: Hello message from Lib2`. However when I build this Kotlin program compilation fails.\r\n\r\nKotlinTest.kt:\r\n\r\n    package com.test.main\r\n\r\n    import com.test.lib2.Lib2\r\n\r\n    fun main() {\r\n        println(&quot;++++ KT TEST: &quot; + Lib2.msg)\r\n    }\r\n\r\nError I get: `&quot;error: supertypes of the following classes cannot be resolved. Please make sure you have the required dependencies in the classpath: class com.test.lib2.Lib2, unresolved supertypes: com.test.lib1.Lib1&quot;.`\r\n\r\nHere is the shell script I used to build/run:\r\n\r\n    #!/bin/bash\r\n\r\n    set -e\r\n\r\n    rm -rf build1 build2\r\n    mkdir build1 build2\r\n\r\n    echo &quot;Building Lib1 ...&quot;\r\n    javac -d build1 Lib1.java\r\n    (cd build1; jar cvf Lib1.jar *; cd ..)\r\n\r\n    echo &quot;Building Lib2 ...&quot;\r\n    javac -cp build1 -d build2 Lib2.java\r\n    (cd build2; jar cvf Lib2.jar *; cd ..)\r\n\r\n    if [ &quot;$1&quot; == &quot;kotlin&quot; ]; then\r\n        echo &quot;&quot;\r\n        echo &quot;Building kotlin program ...&quot;\r\n        kotlinc -cp build2 KotlinTest.kt\r\n        #kotlinc -cp build2:build1 KotlinTest.kt\r\n        kotlin com.test.main.KotlinTest\r\n    else\r\n        echo &quot;&quot;\r\n        echo &quot;Building java program ...&quot;\r\n        rm -rf main\r\n        mkdir main\r\n        javac -cp build2/Lib2.jar -d main JavaMain.java\r\n\r\n        echo &quot;Running Java program ...&quot;\r\n        java -cp build2/Lib2.jar:main com.test.main.JavaMain\r\n    fi\r\n\r\nWhy Java and Kotlin are behaving differently? The fact that Lib2 uses Lib1 shouldn&#39;t be entirely contained with Lib2, and the Main class shouldn&#39;t be worrying about Lib1 at all? Java version tried both 1.8 and 11, Kotlin version `1.7.21`.\r\n","title":"error: supertypes of the following classes cannot be resolved. Please make sure you have the required dependencies","body":"<p>Have a very basic Java/Kotlin dependency issue when we have chained dependencies. I posted a similar question before, but now I removed Gradle from the equation and tried directly with java/kotlin. Have</p>\n<pre><code>Main --&gt; Lib2 --&gt; Lib1\n</code></pre>\n<p>Lib1.java:</p>\n<pre><code>package com.test.lib1;\n\npublic interface Lib1 {\n}\n</code></pre>\n<p>Lib2.java:</p>\n<pre><code>package com.test.lib2;\n\npublic interface Lib2 extends com.test.lib1.Lib1 {\n    public String msg = &quot;Hello message from Lib2&quot;;\n}\n</code></pre>\n<p>JavaMain.java:</p>\n<pre><code>package com.test.main;\n\nimport com.test.lib2.Lib2;\n\npublic class JavaMain {\n    public static void main(String[] args) {\n        System.out.println(&quot;++++ Java TEST: &quot; + Lib2.msg);\n    }\n}\n</code></pre>\n<p>When I run this, it works and prints <code>++++ Java TEST: Hello message from Lib2</code>. However when I build this Kotlin program compilation fails.</p>\n<p>KotlinTest.kt:</p>\n<pre><code>package com.test.main\n\nimport com.test.lib2.Lib2\n\nfun main() {\n    println(&quot;++++ KT TEST: &quot; + Lib2.msg)\n}\n</code></pre>\n<p>Error I get: <code>&quot;error: supertypes of the following classes cannot be resolved. Please make sure you have the required dependencies in the classpath: class com.test.lib2.Lib2, unresolved supertypes: com.test.lib1.Lib1&quot;.</code></p>\n<p>Here is the shell script I used to build/run:</p>\n<pre><code>#!/bin/bash\n\nset -e\n\nrm -rf build1 build2\nmkdir build1 build2\n\necho &quot;Building Lib1 ...&quot;\njavac -d build1 Lib1.java\n(cd build1; jar cvf Lib1.jar *; cd ..)\n\necho &quot;Building Lib2 ...&quot;\njavac -cp build1 -d build2 Lib2.java\n(cd build2; jar cvf Lib2.jar *; cd ..)\n\nif [ &quot;$1&quot; == &quot;kotlin&quot; ]; then\n    echo &quot;&quot;\n    echo &quot;Building kotlin program ...&quot;\n    kotlinc -cp build2 KotlinTest.kt\n    #kotlinc -cp build2:build1 KotlinTest.kt\n    kotlin com.test.main.KotlinTest\nelse\n    echo &quot;&quot;\n    echo &quot;Building java program ...&quot;\n    rm -rf main\n    mkdir main\n    javac -cp build2/Lib2.jar -d main JavaMain.java\n\n    echo &quot;Running Java program ...&quot;\n    java -cp build2/Lib2.jar:main com.test.main.JavaMain\nfi\n</code></pre>\n<p>Why Java and Kotlin are behaving differently? The fact that Lib2 uses Lib1 shouldn't be entirely contained with Lib2, and the Main class shouldn't be worrying about Lib1 at all? Java version tried both 1.8 and 11, Kotlin version <code>1.7.21</code>.</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud-feign","openfeign"],"comments":[{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":0,"creation_date":1671308705,"post_id":74837077,"comment_id":132073352,"body_markdown":"Tried naming field `accessToken` instead of `access_token`?","body":"Tried naming field <code>accessToken</code> instead of <code>access_token</code>?"},{"owner":{"account_id":26289969,"reputation":313,"user_id":19957114,"display_name":"dev-rifaii"},"score":0,"creation_date":1671308881,"post_id":74837077,"comment_id":132073402,"body_markdown":"@ILyaCyclone yes, same thing","body":"@ILyaCyclone yes, same thing"},{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":0,"creation_date":1671311710,"post_id":74837077,"comment_id":132073876,"body_markdown":"You can set logging level to FULL https://docs.spring.io/spring-cloud-openfeign/docs/current/reference/html/#feign-logging and check actual response from remote API.","body":"You can set logging level to FULL <a href=\"https://docs.spring.io/spring-cloud-openfeign/docs/current/reference/html/#feign-logging\" rel=\"nofollow noreferrer\">docs.spring.io/spring-cloud-openfeign/docs/current/reference&zwnj;&#8203;/&hellip;</a> and check actual response from remote API."},{"owner":{"account_id":26289969,"reputation":313,"user_id":19957114,"display_name":"dev-rifaii"},"score":0,"creation_date":1671315406,"post_id":74837077,"comment_id":132074432,"body_markdown":"@ILyaCyclone that helped thanks. I had to set content type to APPLICATION_FORM_URLENCODED_VALUE","body":"@ILyaCyclone that helped thanks. I had to set content type to APPLICATION_FORM_URLENCODED_VALUE"}],"answers":[{"comments":[{"owner":{"account_id":26289969,"reputation":313,"user_id":19957114,"display_name":"dev-rifaii"},"score":0,"creation_date":1671315438,"post_id":74837529,"comment_id":132074434,"body_markdown":"Setting content type to application/x-www-form-urlencoded did the job. Thanks","body":"Setting content type to application/x-www-form-urlencoded did the job. Thanks"}],"tags":[],"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671311823,"creation_date":1671311823,"answer_id":74837529,"question_id":74837077,"body_markdown":"First of all you have declared two path variables which dont show up the path:\r\n`@PathVariable String code` and `@PathVariable(&quot;redirect_uri&quot;) String redirectUrl`.\r\n\r\nOverall it looks like you are trying to request an oauth access token which requires an request of content type `application/x-www-form-urlencoded`.\r\n\r\nMaybee this helps: https://stackoverflow.com/questions/35803093/how-to-post-form-url-encoded-data-with-spring-cloud-feign","title":"OpenFeign not decoding response","body":"<p>First of all you have declared two path variables which dont show up the path:\n<code>@PathVariable String code</code> and <code>@PathVariable(&quot;redirect_uri&quot;) String redirectUrl</code>.</p>\n<p>Overall it looks like you are trying to request an oauth access token which requires an request of content type <code>application/x-www-form-urlencoded</code>.</p>\n<p>Maybee this helps: <a href=\"https://stackoverflow.com/questions/35803093/how-to-post-form-url-encoded-data-with-spring-cloud-feign\">How to POST form-url-encoded data with Spring Cloud Feign</a></p>\n"}],"owner":{"account_id":26289969,"reputation":313,"user_id":19957114,"display_name":"dev-rifaii"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":380,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74837529,"answer_count":1,"score":0,"last_activity_date":1671311823,"creation_date":1671306926,"question_id":74837077,"body_markdown":"```java\r\n@FeignClient(name = &quot;Authorization-API&quot;, url = &quot;https://www.reddit.com/api/v1&quot;)\r\npublic interface AuthorizationApi {\r\n\r\n    @RequestMapping(method = RequestMethod.POST, value = &quot;/access_token&quot;)\r\n    Token getToken(@PathVariable(&quot;grant_type&quot;) String grantType,\r\n                      @PathVariable String code,\r\n                      @PathVariable(&quot;redirect_uri&quot;) String redirectUrl,\r\n                      @RequestHeader(name = &quot;Authorization&quot;) String authorizationHeader,\r\n                      @RequestHeader(&quot;User-agent&quot;) String agent\r\n    );\r\n}\r\n\r\n```\r\n\r\nCall:\r\n\r\n```java\r\n        Token token = authorizationApi.getToken(\r\n                &quot;authorization_code&quot;,\r\n                code,\r\n                REDIRECT_URI,\r\n                getAuthorizationCredentials(),\r\n                &quot;porymol&quot;);\r\n        System.out.println(token.access_token()); //returns null\r\n```\r\n\r\nToken record:\r\n\r\n```java\r\npublic record Token(String access_token, String token_type, Long expires_in, String scope, String refresh_token) {\r\n}\r\n```\r\n\r\nWhen I make request from Postman I get this response:\r\n\r\n```json\r\n{\r\n    &quot;access_token&quot;: &quot;token&quot;,\r\n    &quot;token_type&quot;: &quot;bearer&quot;,\r\n    &quot;expires_in&quot;: 86400,\r\n    &quot;refresh_token&quot;: &quot;token&quot;,\r\n    &quot;scope&quot;: &quot;read&quot;\r\n}\r\n```\r\nTrying to get any value from Token returns null\r\n\r\nJava 17, Spring boot 3\r\n\r\nAny idea what&#39;s going wrong here?","title":"OpenFeign not decoding response","body":"<pre class=\"lang-java prettyprint-override\"><code>@FeignClient(name = &quot;Authorization-API&quot;, url = &quot;https://www.reddit.com/api/v1&quot;)\npublic interface AuthorizationApi {\n\n    @RequestMapping(method = RequestMethod.POST, value = &quot;/access_token&quot;)\n    Token getToken(@PathVariable(&quot;grant_type&quot;) String grantType,\n                      @PathVariable String code,\n                      @PathVariable(&quot;redirect_uri&quot;) String redirectUrl,\n                      @RequestHeader(name = &quot;Authorization&quot;) String authorizationHeader,\n                      @RequestHeader(&quot;User-agent&quot;) String agent\n    );\n}\n\n</code></pre>\n<p>Call:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        Token token = authorizationApi.getToken(\n                &quot;authorization_code&quot;,\n                code,\n                REDIRECT_URI,\n                getAuthorizationCredentials(),\n                &quot;porymol&quot;);\n        System.out.println(token.access_token()); //returns null\n</code></pre>\n<p>Token record:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record Token(String access_token, String token_type, Long expires_in, String scope, String refresh_token) {\n}\n</code></pre>\n<p>When I make request from Postman I get this response:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;access_token&quot;: &quot;token&quot;,\n    &quot;token_type&quot;: &quot;bearer&quot;,\n    &quot;expires_in&quot;: 86400,\n    &quot;refresh_token&quot;: &quot;token&quot;,\n    &quot;scope&quot;: &quot;read&quot;\n}\n</code></pre>\n<p>Trying to get any value from Token returns null</p>\n<p>Java 17, Spring boot 3</p>\n<p>Any idea what's going wrong here?</p>\n"},{"tags":["java","javafx","graph","jfreechart","jfreechart-fx"],"answers":[{"comments":[{"owner":{"account_id":22023992,"reputation":33,"user_id":16292314,"display_name":"armitageshanks99"},"score":0,"creation_date":1667035242,"post_id":74241708,"comment_id":131078808,"body_markdown":"How would i implement the getOLRegression() method into my code to plot a scatterplot. please","body":"How would i implement the getOLRegression() method into my code to plot a scatterplot. please"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1667067919,"post_id":74241708,"comment_id":131085110,"body_markdown":"As your code may have evolved, please [edit] your question to include a [mre] that shows your revised approach.","body":"As your code may have evolved, please <a href=\"https://stackoverflow.com/posts/74241708/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that shows your revised approach."},{"owner":{"account_id":22023992,"reputation":33,"user_id":16292314,"display_name":"armitageshanks99"},"score":0,"creation_date":1667399845,"post_id":74241708,"comment_id":131158314,"body_markdown":"I&#39;ve amended my question with a minimal reproducible example however it doesn&#39;t plot the line of best fit or add a button to give the gradient. could i please have some help.","body":"I&#39;ve amended my question with a minimal reproducible example however it doesn&#39;t plot the line of best fit or add a button to give the gradient. could i please have some help."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1667409853,"post_id":74241708,"comment_id":131162409,"body_markdown":"I&#39;ve elaborated above; you should then be able to add/update a second series as shown [here](https://stackoverflow.com/a/61398612/230513).","body":"I&#39;ve elaborated above; you should then be able to add/update a second series as shown <a href=\"https://stackoverflow.com/a/61398612/230513\">here</a>."},{"owner":{"account_id":22023992,"reputation":33,"user_id":16292314,"display_name":"armitageshanks99"},"score":0,"creation_date":1667564050,"post_id":74241708,"comment_id":131201738,"body_markdown":"How would I add a button which brings up a visible line of best fit please.","body":"How would I add a button which brings up a visible line of best fit please."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1667564480,"post_id":74241708,"comment_id":131201872,"body_markdown":"Same as the example: add a series with two points calculated from the equation.","body":"Same as the example: add a series with two points calculated from the equation."},{"owner":{"account_id":22023992,"reputation":33,"user_id":16292314,"display_name":"armitageshanks99"},"score":0,"creation_date":1668289130,"post_id":74241708,"comment_id":131370468,"body_markdown":"I&#39;ve ammended my code with an attempt to add a line of best fit however I cant get the line of best fit to show up please could I have some help.","body":"I&#39;ve ammended my code with an attempt to add a line of best fit however I cant get the line of best fit to show up please could I have some help."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1668293723,"post_id":74241708,"comment_id":131371272,"body_markdown":"You&#39;ll need a second series for the trend line, which should be updated in the listener.","body":"You&#39;ll need a second series for the trend line, which should be updated in the listener."},{"owner":{"account_id":22023992,"reputation":33,"user_id":16292314,"display_name":"armitageshanks99"},"score":0,"creation_date":1671311672,"post_id":74241708,"comment_id":132073869,"body_markdown":"I&#39;ve ammended the code to make a minimal reproducible example, I&#39;ve attempted to create a second series trend but when I try to create plot and chart in the createchart() method i get met with the error saying exception in the start method I have tried creating plot and chart in the start method however the best fit line doesnt appear . thanks for your help so far","body":"I&#39;ve ammended the code to make a minimal reproducible example, I&#39;ve attempted to create a second series trend but when I try to create plot and chart in the createchart() method i get met with the error saying exception in the start method I have tried creating plot and chart in the start method however the best fit line doesnt appear . thanks for your help so far"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1671321241,"post_id":74241708,"comment_id":132075145,"body_markdown":"In `start()`, invoke `addChangeListener()` only _after_ you&#39;ve added some data and invoked `createChart()`; otherwise the the listener will fire before it has anything to work with.","body":"In <code>start()</code>, invoke <code>addChangeListener()</code> only <i>after</i> you&#39;ve added some data and invoked <code>createChart()</code>; otherwise the the listener will fire before it has anything to work with."},{"owner":{"account_id":22023992,"reputation":33,"user_id":16292314,"display_name":"armitageshanks99"},"score":0,"creation_date":1671796705,"post_id":74241708,"comment_id":132178143,"body_markdown":"thank you the best fit line appears so does the equation of the line however after inputting 2 points an error comes up &#39;exception in application start method&#39; but the application still works fine just the error comes up in intelij","body":"thank you the best fit line appears so does the equation of the line however after inputting 2 points an error comes up &#39;exception in application start method&#39; but the application still works fine just the error comes up in intelij"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1671799946,"post_id":74241708,"comment_id":132179036,"body_markdown":"I suspect the repeated addition of `trend` to the `dataset`, seen [here](https://stackoverflow.com/q/74889977/230513). If not, [edit] your question to to show your current approach and the error you encounter.","body":"I suspect the repeated addition of <code>trend</code> to the <code>dataset</code>, seen <a href=\"https://stackoverflow.com/q/74889977/230513\">here</a>. If not, <a href=\"https://stackoverflow.com/posts/74241708/edit\">edit</a> your question to to show your current approach and the error you encounter."},{"owner":{"account_id":22023992,"reputation":33,"user_id":16292314,"display_name":"armitageshanks99"},"score":0,"creation_date":1675375479,"post_id":74241708,"comment_id":132921641,"body_markdown":"thanks for your help trashgod how would I make this best fit line curved and implement this with the getPowerRegression() method.","body":"thanks for your help trashgod how would I make this best fit line curved and implement this with the getPowerRegression() method."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1675392585,"post_id":74241708,"comment_id":132924248,"body_markdown":"Same way, but open a new question; note, you&#39;ll need more than two points for the curve.","body":"Same way, but open a new question; note, you&#39;ll need more than two points for the curve."}],"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":14,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668293646,"creation_date":1666998807,"answer_id":74241708,"question_id":74237309,"body_markdown":"As shown [here][1], call [`Regression.getOLSRegression()`][2] and display the result. You can do this in your &lt;kbd&gt;Add&lt;/kbd&gt; button handler, as suggested in your question, or in a [`SeriesChangeListener`][3], as shown below. This fragment simply prints the equation of the line, but you can update the display as desired.\r\n\r\n    private final XYSeries series = new XYSeries(&quot;Voltage&quot;);\r\n    private final XYSeries trend = new XYSeries(&quot;Trend&quot;);\r\n    private final XYSeriesCollection dataset = new XYSeriesCollection(series);\r\n    …\r\n    // https://stackoverflow.com/a/61398612/230513\r\n    series.addChangeListener((event) -&gt; {\r\n        double[] coefficients = Regression.getOLSRegression(dataset, 0);\r\n        double b = coefficients[0]; // intercept\r\n        double m = coefficients[1]; // slope\r\n        System.out.println(&quot;y = &quot; + m + &quot; x + &quot; + b);\r\n    });\r\n\r\nNote that the `series` will need at least two values, and it should be added to the collection only once. In particular,\r\n\r\n- Don&#39;t recreate the `dataset` in `createChart()`\r\n- Don&#39;t recreate the choice boxes in `start()`\r\n- Add a `TextField` to the toolbar and invoke `setText()` in the change listener; the displayed equation will update as points are added.\r\n- Create an `XYSeries` named  `trend` and add into the `dataset`, then update the series in the change listener.\r\n\r\n        var equation = new TextField();\r\n        series.addChangeListener((event) -&gt; {\r\n            …\r\n            equation.setText(&quot;y = &quot; + m + &quot;x + &quot; + b);\r\n            double x = series.getDataItem(0).getXValue();\r\n            trend.clear();\r\n            trend.add(x, m * x + b);\r\n            x = series.getDataItem(series.getItemCount() - 1).getXValue();\r\n            trend.add(x, m * x + b);\r\n        });\r\n\r\n[![image][4]][4]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/61398612/230513\r\n  [2]: https://www.jfree.org/jfreechart/javadoc/org/jfree/data/statistics/Regression.html#getOLSRegression(org.jfree.data.xy.XYDataset,int)\r\n  [3]: https://www.jfree.org/jfreechart/javadoc/org/jfree/data/general/SeriesChangeListener.html\r\n  [4]: https://i.stack.imgur.com/O6Sjm.png","title":"How would I find the gradient of a best-fit line for input values on a scatterplot","body":"<p>As shown <a href=\"https://stackoverflow.com/a/61398612/230513\">here</a>, call <a href=\"https://www.jfree.org/jfreechart/javadoc/org/jfree/data/statistics/Regression.html#getOLSRegression(org.jfree.data.xy.XYDataset,int)\" rel=\"nofollow noreferrer\"><code>Regression.getOLSRegression()</code></a> and display the result. You can do this in your <kbd>Add</kbd> button handler, as suggested in your question, or in a <a href=\"https://www.jfree.org/jfreechart/javadoc/org/jfree/data/general/SeriesChangeListener.html\" rel=\"nofollow noreferrer\"><code>SeriesChangeListener</code></a>, as shown below. This fragment simply prints the equation of the line, but you can update the display as desired.</p>\n<pre><code>private final XYSeries series = new XYSeries(&quot;Voltage&quot;);\nprivate final XYSeries trend = new XYSeries(&quot;Trend&quot;);\nprivate final XYSeriesCollection dataset = new XYSeriesCollection(series);\n…\n// https://stackoverflow.com/a/61398612/230513\nseries.addChangeListener((event) -&gt; {\n    double[] coefficients = Regression.getOLSRegression(dataset, 0);\n    double b = coefficients[0]; // intercept\n    double m = coefficients[1]; // slope\n    System.out.println(&quot;y = &quot; + m + &quot; x + &quot; + b);\n});\n</code></pre>\n<p>Note that the <code>series</code> will need at least two values, and it should be added to the collection only once. In particular,</p>\n<ul>\n<li><p>Don't recreate the <code>dataset</code> in <code>createChart()</code></p>\n</li>\n<li><p>Don't recreate the choice boxes in <code>start()</code></p>\n</li>\n<li><p>Add a <code>TextField</code> to the toolbar and invoke <code>setText()</code> in the change listener; the displayed equation will update as points are added.</p>\n</li>\n<li><p>Create an <code>XYSeries</code> named  <code>trend</code> and add into the <code>dataset</code>, then update the series in the change listener.</p>\n<pre><code>  var equation = new TextField();\n  series.addChangeListener((event) -&gt; {\n      …\n      equation.setText(&quot;y = &quot; + m + &quot;x + &quot; + b);\n      double x = series.getDataItem(0).getXValue();\n      trend.clear();\n      trend.add(x, m * x + b);\n      x = series.getDataItem(series.getItemCount() - 1).getXValue();\n      trend.add(x, m * x + b);\n  });\n</code></pre>\n</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/O6Sjm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O6Sjm.png\" alt=\"image\" /></a></p>\n"}],"owner":{"account_id":22023992,"reputation":33,"user_id":16292314,"display_name":"armitageshanks99"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1671311783,"creation_date":1666969501,"question_id":74237309,"body_markdown":"Based on this [example][1], the below code plots a scatterplot to which double values can be input via a spinner. I&#39;d like to plot a line of best fit on the scatter plot in order to calculate the gradient and find an average for the values which the value I get for gradient. I&#39;d like it to be output onto a text box when a button is pressed. Help would be greatly appreciated.\r\n\r\n```\r\npackage Grava;\r\n\r\n        import javafx.application.Application;\r\n        import javafx.geometry.Pos;\r\n        import javafx.scene.Scene;\r\n        import javafx.scene.control.Button;\r\n        import javafx.scene.control.TextField;\r\n        import javafx.scene.control.*;\r\n        import javafx.scene.image.Image;\r\n        import javafx.scene.layout.BorderPane;\r\n        import javafx.scene.layout.HBox;\r\n        import javafx.stage.Stage;\r\n        import org.jfree.chart.ChartFactory;\r\n        import org.jfree.chart.JFreeChart;\r\n        import org.jfree.chart.fx.ChartViewer;\r\n        import org.jfree.chart.plot.XYPlot;\r\n        import org.jfree.chart.renderer.xy.XYLineAndShapeRenderer;\r\n        import org.jfree.data.statistics.Regression;\r\n        import org.jfree.data.xy.XYSeries;\r\n        import org.jfree.data.xy.XYSeriesCollection;\r\n\r\npublic class ScatterAdd extends Application {\r\n\r\n\r\n    private final XYSeries series = new XYSeries(&quot;Voltage&quot;);\r\n    private final XYSeries trend = new XYSeries(&quot;Trend&quot;);\r\n    private final XYSeriesCollection dataset = new XYSeriesCollection(series);\r\n\r\n    ChoiceBox&lt;String&gt; domainLabels = new ChoiceBox&lt;&gt;();\r\n    ChoiceBox&lt;String&gt; rangeLabels = new ChoiceBox&lt;&gt;();\r\n\r\n    private JFreeChart createChart() throws Exception {\r\n        /*\r\n        JFreeChart chart = createChart();\r\n        domainLabels.getSelectionModel().selectedItemProperty().addListener((ov, s0, s1) -&gt; {\r\n            chart.getXYPlot().getDomainAxis().setLabel(s1);\r\n        });\r\n        rangeLabels.getSelectionModel().selectedItemProperty().addListener((ov, s0, s1) -&gt; {\r\n            chart.getXYPlot().getRangeAxis().setLabel(s1);\r\n        });\r\n        XYPlot plot = createChart().getXYPlot();\r\n        XYLineAndShapeRenderer r = (XYLineAndShapeRenderer) plot.getRenderer();\r\n        r.setSeriesLinesVisible(1, Boolean.TRUE);\r\n        r.setSeriesShapesVisible(1, Boolean.FALSE);\r\n        this part gives me an error when i create it in the createChart() method\r\n        */\r\n         \r\n        return ChartFactory.createScatterPlot(&quot;VI Characteristics&quot;, &quot;Current&quot;, &quot;Voltage&quot;, dataset);\r\n        \r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n\r\n        Image image = new Image(&quot;Grava.logo.png&quot;);\r\n        stage.getIcons().add(image);\r\n\r\n        var equation = new TextField();\r\n\r\n\r\n\r\n        series.addChangeListener((event) -&gt; {\r\n            double[] coefficients = Regression.getOLSRegression(dataset, 0);\r\n            double b = coefficients[0]; // intercept\r\n            double m = coefficients[1]; // slope\r\n            double x = series.getDataItem(0).getXValue();\r\n            trend.add(x, m * x + b);\r\n            x = series.getDataItem(series.getItemCount() - 1).getXValue();\r\n            trend.add(x, m * x + b);\r\n            dataset.addSeries(trend);\r\n            equation.setText(&quot;y = &quot; + m + &quot; x + &quot; + b);\r\n\r\n        });\r\n\r\n\r\n\r\n\r\n        domainLabels.getItems().addAll(&quot;Current&quot;, &quot;Seconds&quot;);\r\n        domainLabels.setValue(&quot;Current&quot;);\r\n\r\n        rangeLabels.getItems().addAll(&quot;Voltage&quot;, &quot;Metres&quot;);\r\n        rangeLabels.setValue(&quot;Voltage&quot;);\r\n\r\n        var xSpin = new Spinner&lt;Double&gt;(-10000000.000, 10000000.000, 0, 0.1);\r\n        xSpin.setEditable(true);\r\n        xSpin.setPromptText(&quot;Xvalue&quot;);\r\n\r\n        var ySpin = new Spinner&lt;Double&gt;(-10000000.000, 10000000.000, 0, 0.1);\r\n        ySpin.setEditable(true);\r\n        ySpin.setPromptText(&quot;Yvalue&quot;);\r\n\r\n        var button = new Button(&quot;Add&quot;);\r\n        button.setOnAction(ae -&gt; series.add(xSpin.getValue(), ySpin.getValue()));\r\n\r\n\r\n        HBox xBox = new HBox();\r\n        xBox.getChildren().addAll(domainLabels);\r\n\r\n        HBox yBox = new HBox();\r\n        yBox.getChildren().addAll(rangeLabels);\r\n\r\n        var enter = new ToolBar(xBox, xSpin, yBox, ySpin, button, equation);\r\n        BorderPane.setAlignment(enter, Pos.CENTER);\r\n\r\n        BorderPane root = new BorderPane();\r\n        root.setCenter(new ChartViewer(createChart()));\r\n        root.setBottom(enter);\r\n\r\n        stage.setTitle(&quot;ScatterAdd&quot;);\r\n        stage.setScene(new Scene(root, 720, 480));\r\n        stage.show();\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/74184741/230513","title":"How would I find the gradient of a best-fit line for input values on a scatterplot","body":"<p>Based on this <a href=\"https://stackoverflow.com/a/74184741/230513\">example</a>, the below code plots a scatterplot to which double values can be input via a spinner. I'd like to plot a line of best fit on the scatter plot in order to calculate the gradient and find an average for the values which the value I get for gradient. I'd like it to be output onto a text box when a button is pressed. Help would be greatly appreciated.</p>\n<pre><code>package Grava;\n\n        import javafx.application.Application;\n        import javafx.geometry.Pos;\n        import javafx.scene.Scene;\n        import javafx.scene.control.Button;\n        import javafx.scene.control.TextField;\n        import javafx.scene.control.*;\n        import javafx.scene.image.Image;\n        import javafx.scene.layout.BorderPane;\n        import javafx.scene.layout.HBox;\n        import javafx.stage.Stage;\n        import org.jfree.chart.ChartFactory;\n        import org.jfree.chart.JFreeChart;\n        import org.jfree.chart.fx.ChartViewer;\n        import org.jfree.chart.plot.XYPlot;\n        import org.jfree.chart.renderer.xy.XYLineAndShapeRenderer;\n        import org.jfree.data.statistics.Regression;\n        import org.jfree.data.xy.XYSeries;\n        import org.jfree.data.xy.XYSeriesCollection;\n\npublic class ScatterAdd extends Application {\n\n\n    private final XYSeries series = new XYSeries(&quot;Voltage&quot;);\n    private final XYSeries trend = new XYSeries(&quot;Trend&quot;);\n    private final XYSeriesCollection dataset = new XYSeriesCollection(series);\n\n    ChoiceBox&lt;String&gt; domainLabels = new ChoiceBox&lt;&gt;();\n    ChoiceBox&lt;String&gt; rangeLabels = new ChoiceBox&lt;&gt;();\n\n    private JFreeChart createChart() throws Exception {\n        /*\n        JFreeChart chart = createChart();\n        domainLabels.getSelectionModel().selectedItemProperty().addListener((ov, s0, s1) -&gt; {\n            chart.getXYPlot().getDomainAxis().setLabel(s1);\n        });\n        rangeLabels.getSelectionModel().selectedItemProperty().addListener((ov, s0, s1) -&gt; {\n            chart.getXYPlot().getRangeAxis().setLabel(s1);\n        });\n        XYPlot plot = createChart().getXYPlot();\n        XYLineAndShapeRenderer r = (XYLineAndShapeRenderer) plot.getRenderer();\n        r.setSeriesLinesVisible(1, Boolean.TRUE);\n        r.setSeriesShapesVisible(1, Boolean.FALSE);\n        this part gives me an error when i create it in the createChart() method\n        */\n         \n        return ChartFactory.createScatterPlot(&quot;VI Characteristics&quot;, &quot;Current&quot;, &quot;Voltage&quot;, dataset);\n        \n    }\n\n    @Override\n    public void start(Stage stage) throws Exception {\n\n        Image image = new Image(&quot;Grava.logo.png&quot;);\n        stage.getIcons().add(image);\n\n        var equation = new TextField();\n\n\n\n        series.addChangeListener((event) -&gt; {\n            double[] coefficients = Regression.getOLSRegression(dataset, 0);\n            double b = coefficients[0]; // intercept\n            double m = coefficients[1]; // slope\n            double x = series.getDataItem(0).getXValue();\n            trend.add(x, m * x + b);\n            x = series.getDataItem(series.getItemCount() - 1).getXValue();\n            trend.add(x, m * x + b);\n            dataset.addSeries(trend);\n            equation.setText(&quot;y = &quot; + m + &quot; x + &quot; + b);\n\n        });\n\n\n\n\n        domainLabels.getItems().addAll(&quot;Current&quot;, &quot;Seconds&quot;);\n        domainLabels.setValue(&quot;Current&quot;);\n\n        rangeLabels.getItems().addAll(&quot;Voltage&quot;, &quot;Metres&quot;);\n        rangeLabels.setValue(&quot;Voltage&quot;);\n\n        var xSpin = new Spinner&lt;Double&gt;(-10000000.000, 10000000.000, 0, 0.1);\n        xSpin.setEditable(true);\n        xSpin.setPromptText(&quot;Xvalue&quot;);\n\n        var ySpin = new Spinner&lt;Double&gt;(-10000000.000, 10000000.000, 0, 0.1);\n        ySpin.setEditable(true);\n        ySpin.setPromptText(&quot;Yvalue&quot;);\n\n        var button = new Button(&quot;Add&quot;);\n        button.setOnAction(ae -&gt; series.add(xSpin.getValue(), ySpin.getValue()));\n\n\n        HBox xBox = new HBox();\n        xBox.getChildren().addAll(domainLabels);\n\n        HBox yBox = new HBox();\n        yBox.getChildren().addAll(rangeLabels);\n\n        var enter = new ToolBar(xBox, xSpin, yBox, ySpin, button, equation);\n        BorderPane.setAlignment(enter, Pos.CENTER);\n\n        BorderPane root = new BorderPane();\n        root.setCenter(new ChartViewer(createChart()));\n        root.setBottom(enter);\n\n        stage.setTitle(&quot;ScatterAdd&quot;);\n        stage.setScene(new Scene(root, 720, 480));\n        stage.show();\n\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"},{"tags":["java","json","mongodb","postgresql","database-migration"],"comments":[{"owner":{"account_id":2919557,"reputation":7353,"user_id":2502126,"accept_rate":20,"display_name":"Buzz Moschetti"},"score":0,"creation_date":1671223833,"post_id":74828191,"comment_id":132061108,"body_markdown":"Welcome!   Do you actually *need* to convert to a MongoDB ObjectId()?   If you do not set `_id` in the `java.util.Map` that you intend to insert into MongoDB, the Java driver will create one for you.","body":"Welcome!   Do you actually <i>need</i> to convert to a MongoDB ObjectId()?   If you do not set <code>_id</code> in the <code>java.util.Map</code> that you intend to insert into MongoDB, the Java driver will create one for you."},{"owner":{"account_id":27275154,"reputation":11,"user_id":20795891,"display_name":"Vasavi"},"score":0,"creation_date":1671249507,"post_id":74828191,"comment_id":132064475,"body_markdown":"Yes I need to, because this is not only for _id field, there are other fields which has object ID as values in mongo. Those values need to be converted from postgres ID to mongoID","body":"Yes I need to, because this is not only for _id field, there are other fields which has object ID as values in mongo. Those values need to be converted from postgres ID to mongoID"}],"answers":[{"comments":[{"owner":{"account_id":27275154,"reputation":11,"user_id":20795891,"display_name":"Vasavi"},"score":0,"creation_date":1671458059,"post_id":74837463,"comment_id":132096936,"body_markdown":"Can you please explain with any code, as I&#39;m new to postgresql. Thanks","body":"Can you please explain with any code, as I&#39;m new to postgresql. Thanks"},{"owner":{"account_id":2919557,"reputation":7353,"user_id":2502126,"accept_rate":20,"display_name":"Buzz Moschetti"},"score":0,"creation_date":1671459693,"post_id":74837463,"comment_id":132097459,"body_markdown":"This is beyond the scope of question particularly due to connection and driver class details.   I recommend searching for &quot;postgres java select JSON column example&quot;","body":"This is beyond the scope of question particularly due to connection and driver class details.   I recommend searching for &quot;postgres java select JSON column example&quot;"}],"tags":[],"owner":{"account_id":2919557,"reputation":7353,"user_id":2502126,"accept_rate":20,"display_name":"Buzz Moschetti"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671311103,"creation_date":1671311103,"answer_id":74837463,"question_id":74828191,"body_markdown":"You need to parse the JSON array, then call your converter for each item in the array.   There are many JSON parsing options available.  ","title":"Migrate postgresql JSON array of IDs to Mongodb ObjectID","body":"<p>You need to parse the JSON array, then call your converter for each item in the array.   There are many JSON parsing options available.</p>\n"}],"owner":{"account_id":27275154,"reputation":11,"user_id":20795891,"display_name":"Vasavi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671311103,"creation_date":1671213604,"question_id":74828191,"body_markdown":"I&#39;m trying migrate from postgres db to mongodb. I&#39;ve a field JSON in postgres table, which has key and value pairs. I need to fetch the value based on JSON key and convert those values(values are basically postgres id) to Mongo objectID and then map those to mongo document. \r\nJSON field looks like this\r\n```{&quot;A&quot;:[&quot;06992a6fef0bcfc1ede998ac7da8f08b&quot;,&quot;7d1d55e1078191e53244c41d6b55b3a3&quot;,&quot;31571835c6600517f4e4c15b5144959b&quot;],\r\n&quot;B&quot;:[&quot;956c5b0a5341d14c23ceed071bf136f8&quot;]}\r\n```\r\nI&#39;ve written a function in java to convert postgres ID column to mongoID.\r\n\r\n```\r\npublic String convertIDToMongo(String colName){\r\n    ---encoding logic\r\n}\r\n```\r\nThis is working when the field is explicitly available in the table and also if the field datatype is not an array. In case of JSON and array, is there a way to fetch set of values from JSON field and convert them into Mongo Object ID?\r\n```\r\n&quot;Select json::json-&gt;&#39;A&#39; from table&quot; ``` \r\n\r\ngives me the value [&quot;06992a6fef0bcfc1ede998ac7da8f08b&quot;,&quot;7d1d55e1078191e53244c41d6b55b3a3&quot;,&quot;31571835c6600517f4e4c15b5144959b&quot;] But I need some help to convert this list of IDs to Mongo Object IDs. Below is how I convert for non JSON field with one postgres ID value to Mongo ID.\r\n```\r\n&quot;Select &quot; + convertIDToMongo(&#39;colName&#39;) + &quot; as \\&quot;_id\\&quot;, \\n&quot; +\r\n```\r\nAny help is greatly appreciated. Thanks.\r\n\r\n","title":"Migrate postgresql JSON array of IDs to Mongodb ObjectID","body":"<p>I'm trying migrate from postgres db to mongodb. I've a field JSON in postgres table, which has key and value pairs. I need to fetch the value based on JSON key and convert those values(values are basically postgres id) to Mongo objectID and then map those to mongo document.\nJSON field looks like this</p>\n<pre><code>&quot;B&quot;:[&quot;956c5b0a5341d14c23ceed071bf136f8&quot;]}\n</code></pre>\n<p>I've written a function in java to convert postgres ID column to mongoID.</p>\n<pre><code>public String convertIDToMongo(String colName){\n    ---encoding logic\n}\n</code></pre>\n<p>This is working when the field is explicitly available in the table and also if the field datatype is not an array. In case of JSON and array, is there a way to fetch set of values from JSON field and convert them into Mongo Object ID?</p>\n<pre><code>&quot;Select json::json-&gt;'A' from table&quot; ``` \n\ngives me the value [&quot;06992a6fef0bcfc1ede998ac7da8f08b&quot;,&quot;7d1d55e1078191e53244c41d6b55b3a3&quot;,&quot;31571835c6600517f4e4c15b5144959b&quot;] But I need some help to convert this list of IDs to Mongo Object IDs. Below is how I convert for non JSON field with one postgres ID value to Mongo ID.\n</code></pre>\n<p>&quot;Select &quot; + convertIDToMongo('colName') + &quot; as &quot;_id&quot;, \\n&quot; +</p>\n<pre><code>Any help is greatly appreciated. Thanks.\n\n</code></pre>\n"},{"tags":["java","file"],"comments":[{"owner":{"display_name":"user20716279"},"score":0,"creation_date":1671223569,"post_id":74829236,"comment_id":132061045,"body_markdown":"i just run it and it work as you said it rename the new file back to the old one do you get any exception ? for this line client.delete(); could your check it&#39;s boolan return if it return true or false","body":"i just run it and it work as you said it rename the new file back to the old one do you get any exception ? for this line client.delete(); could your check it&#39;s boolan return if it return true or false"},{"owner":{"account_id":22941830,"reputation":1,"user_id":17074463,"display_name":"hodaifa yahia"},"score":0,"creation_date":1671225841,"post_id":74829236,"comment_id":132061535,"body_markdown":"it was return false","body":"it was return false"},{"owner":{"display_name":"user20716279"},"score":0,"creation_date":1671226299,"post_id":74829236,"comment_id":132061652,"body_markdown":"the only thing i can think of is the permission of file so right click the file and see if your current account has write permission for it","body":"the only thing i can think of is the permission of file so right click the file and see if your current account has write permission for it"},{"owner":{"account_id":22941830,"reputation":1,"user_id":17074463,"display_name":"hodaifa yahia"},"score":0,"creation_date":1671226690,"post_id":74829236,"comment_id":132061733,"body_markdown":"i don&#39;t know how i can do this or could u be more clear sir","body":"i don&#39;t know how i can do this or could u be more clear sir"},{"owner":{"display_name":"user20716279"},"score":0,"creation_date":1671227058,"post_id":74829236,"comment_id":132061805,"body_markdown":"it different based on your operating system so try to google how to check file permission for your operating system and you will get many pages on how  to do that","body":"it different based on your operating system so try to google how to check file permission for your operating system and you will get many pages on how  to do that"},{"owner":{"display_name":"user20716279"},"score":0,"creation_date":1671227877,"post_id":74829236,"comment_id":132061997,"body_markdown":"for example this https://www.microcenter.com/tech_center/article/10900/how-to-check-or-change-file-permissions-in-windows-10 show you the steps for windows 10 use steps from 1 to 5 if you have different os let me know and i search it for you","body":"for example this <a href=\"https://www.microcenter.com/tech_center/article/10900/how-to-check-or-change-file-permissions-in-windows-10\" rel=\"nofollow noreferrer\">microcenter.com/tech_center/article/10900/&hellip;</a> show you the steps for windows 10 use steps from 1 to 5 if you have different os let me know and i search it for you"}],"owner":{"account_id":22941830,"reputation":1,"user_id":17074463,"display_name":"hodaifa yahia"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671310497,"creation_date":1671220808,"question_id":74829236,"body_markdown":"```\r\n\r\npublic class Client {\r\n\tprivate Scanner scanner;\r\n\tprivate String fileClient=&quot;client.txt&quot;;\r\n\tpublic File client =new File(fileClient);\r\n\t\r\n\r\npublic void deletClient() {\r\n\t\t\tint lineRemove =GetLineRemove();\r\n\t\t\tString tempFile=&quot;temp.txt&quot;;\r\n\t\t\tFile newfile=new File(tempFile);\r\n\t\t\tint line=0;\r\n\t\t\tString currentLine;\r\n\t\t\t\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tFileWriter fw=new FileWriter(tempFile,true);\r\n\t\t\t\tBufferedWriter bw=new BufferedWriter(fw);\r\n\t\t\t\tPrintWriter pw=new PrintWriter(bw);\r\n\t\t\t\t\r\n\t\t\t\tFileReader fr=new FileReader(fileClient);\r\n\t\t\t\tBufferedReader br=new BufferedReader(fr);\r\n\t\t\t\t\r\n\t\t\t\twhile((currentLine=br.readLine())!=null ) {\r\n\t\t\t\t\tline++;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(line !=lineRemove) {\r\n\t\t\t\t\t\tpw.println(currentLine);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tpw.flush();\r\n\t\t\t\tfr.close();\r\n\t\t\t\tbw.close();\r\n\t\t\t\tpw.close();\r\n\t\t\t\tbr.close();\r\n\t\t\t\tfw.close();\r\n\t\t\t // i try to delet a file\r\n\t\t\t\tclient.delete();\r\n                        // create a file have the same name \r\n\t\t\t\tFile dumy=new File(fileClient);\r\n                      // rename it to first file \r\n\t\t\t\tnewfile.renameTo(dumy);\r\n\t\t\t\t\r\n\t\t\t}catch(Exception e){\r\n\t\t\t\tSystem.out.print(e);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\r\n```\r\n\r\nI want to remove a line from a file but when i do that i found the first file still exist and the second file what should get rename to the first file still have has it name temp  i don&#39;t know should do so i hope u can help me to know where is the problem.","title":"Deleting a record in a file in Java","body":"<pre><code>\npublic class Client {\n    private Scanner scanner;\n    private String fileClient=&quot;client.txt&quot;;\n    public File client =new File(fileClient);\n    \n\npublic void deletClient() {\n            int lineRemove =GetLineRemove();\n            String tempFile=&quot;temp.txt&quot;;\n            File newfile=new File(tempFile);\n            int line=0;\n            String currentLine;\n            \n            \n            try {\n                FileWriter fw=new FileWriter(tempFile,true);\n                BufferedWriter bw=new BufferedWriter(fw);\n                PrintWriter pw=new PrintWriter(bw);\n                \n                FileReader fr=new FileReader(fileClient);\n                BufferedReader br=new BufferedReader(fr);\n                \n                while((currentLine=br.readLine())!=null ) {\n                    line++;\n                    \n                    if(line !=lineRemove) {\n                        pw.println(currentLine);\n                    }\n                }\n                pw.flush();\n                fr.close();\n                bw.close();\n                pw.close();\n                br.close();\n                fw.close();\n             // i try to delet a file\n                client.delete();\n                        // create a file have the same name \n                File dumy=new File(fileClient);\n                      // rename it to first file \n                newfile.renameTo(dumy);\n                \n            }catch(Exception e){\n                System.out.print(e);\n            }\n            \n        }\n\n</code></pre>\n<p>I want to remove a line from a file but when i do that i found the first file still exist and the second file what should get rename to the first file still have has it name temp  i don't know should do so i hope u can help me to know where is the problem.</p>\n"},{"tags":["java","spring-boot","api","rest","tomcat"],"comments":[{"owner":{"account_id":2705448,"reputation":130,"user_id":2335143,"accept_rate":40,"display_name":"Nariman"},"score":0,"creation_date":1667250085,"post_id":74268806,"comment_id":131121425,"body_markdown":"if you do not add any customisation, the context path in Tomcat is the name of the jar file.\n\nHave you tried to extend SpringBootServletInitializer?","body":"if you do not add any customisation, the context path in Tomcat is the name of the jar file.  Have you tried to extend SpringBootServletInitializer?"},{"owner":{"account_id":2354215,"reputation":522,"user_id":2062407,"accept_rate":50,"display_name":"ali4j"},"score":0,"creation_date":1667282549,"post_id":74268806,"comment_id":131126361,"body_markdown":"Please provide the details of the error you&#39;re getting while reaching the endpoint .","body":"Please provide the details of the error you&#39;re getting while reaching the endpoint ."}],"answers":[{"comments":[{"owner":{"account_id":3762388,"reputation":97,"user_id":3126929,"display_name":"CodeGrinder"},"score":0,"creation_date":1667286637,"post_id":74269106,"comment_id":131127142,"body_markdown":"My bad. I had the additional configuration from the beginning. I mean: `org.springframework.boot:spring-boot-starter-tomcat` in `build.gradle` which allows me to execute `war` task and class `ServletInitializer` which implements `SpringBootServletInitializer`. However it still doesn&#39;t work. I thought that I maybe have wrong path in bowser.","body":"My bad. I had the additional configuration from the beginning. I mean: <code>org.springframework.boot:spring-boot-starter-tomcat</code> in <code>build.gradle</code> which allows me to execute <code>war</code> task and class <code>ServletInitializer</code> which implements <code>SpringBootServletInitializer</code>. However it still doesn&#39;t work. I thought that I maybe have wrong path in bowser."}],"tags":[],"owner":{"account_id":2705448,"reputation":130,"user_id":2335143,"accept_rate":40,"display_name":"Nariman"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667250277,"creation_date":1667250277,"answer_id":74269106,"question_id":74268806,"body_markdown":"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.traditional-deployment\r\n\r\nThe first step in producing a deployable war file is to provide a SpringBootServletInitializer subclass and override its configure method. Doing so makes use of Spring Framework’s servlet 3.0 support and lets you configure your application when it is launched by the servlet container.","title":"Cannot execute SpringBoot endpoint on Tomcat","body":"<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.traditional-deployment\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.traditional-deployment</a></p>\n<p>The first step in producing a deployable war file is to provide a SpringBootServletInitializer subclass and override its configure method. Doing so makes use of Spring Framework’s servlet 3.0 support and lets you configure your application when it is launched by the servlet container.</p>\n"},{"comments":[{"owner":{"account_id":3762388,"reputation":97,"user_id":3126929,"display_name":"CodeGrinder"},"score":0,"creation_date":1667286657,"post_id":74270012,"comment_id":131127146,"body_markdown":"My bad. I had the additional configuration from the beginning. I mean: `org.springframework.boot:spring-boot-starter-tomcat` in `build.gradle` which allows me to execute `war` task and class `ServletInitializer` which implements `SpringBootServletInitializer`. However it still doesn&#39;t work. I thought that I maybe have wrong path in bowser.","body":"My bad. I had the additional configuration from the beginning. I mean: <code>org.springframework.boot:spring-boot-starter-tomcat</code> in <code>build.gradle</code> which allows me to execute <code>war</code> task and class <code>ServletInitializer</code> which implements <code>SpringBootServletInitializer</code>. However it still doesn&#39;t work. I thought that I maybe have wrong path in bowser."}],"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667258363,"creation_date":1667258363,"answer_id":74270012,"question_id":74268806,"body_markdown":"*first step*: is to configure your maven file to generate a `war` package.\r\n\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n*second step*: is to make your main class extends `SpringBootServletInitializer`\r\n\r\n    @SpringBootApplication\r\n    public class Application extends SpringBootServletInitializer {\r\n    \r\n        @Override\r\n        protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n            return application.sources(Application.class);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    }\r\n\r\nCheck this [link][1] for more details.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.traditional-deployment","title":"Cannot execute SpringBoot endpoint on Tomcat","body":"<p><em>first step</em>: is to configure your maven file to generate a <code>war</code> package.</p>\n<pre><code>&lt;packaging&gt;war&lt;/packaging&gt;\n</code></pre>\n<p><em>second step</em>: is to make your main class extends <code>SpringBootServletInitializer</code></p>\n<pre><code>@SpringBootApplication\npublic class Application extends SpringBootServletInitializer {\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(Application.class);\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n<p>Check this <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.traditional-deployment\" rel=\"nofollow noreferrer\">link</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":3762388,"reputation":97,"user_id":3126929,"display_name":"CodeGrinder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671310300,"creation_date":1671310300,"answer_id":74837395,"question_id":74268806,"body_markdown":"The reason is that I tried to run it on Apache Tomcat 10. It runs smoothly on Tomcat 9.","title":"Cannot execute SpringBoot endpoint on Tomcat","body":"<p>The reason is that I tried to run it on Apache Tomcat 10. It runs smoothly on Tomcat 9.</p>\n"}],"owner":{"account_id":3762388,"reputation":97,"user_id":3126929,"display_name":"CodeGrinder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":477,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74837395,"answer_count":3,"score":0,"last_activity_date":1671310300,"creation_date":1667248160,"question_id":74268806,"body_markdown":"I developed a following endpoint using SpringBoot:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;api/v1&quot;)\r\n    public class UserResource {\r\n    \r\n        @GetMapping(&quot;users&quot;)\r\n        public ResponseEntity&lt;List&lt;User&gt;&gt; getUsers() {\r\n            return ResponseEntity.ok().body(List.of(new User(&quot;George&quot;, &quot;Walker&quot;)));\r\n        }\r\n    \r\n    }\r\n\r\nThe endpoint works when I launched it using `bootRun` Gradle task.\r\n\r\nThe endpoint can be reached using: `http://localhost:8080/api/v1/users`\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThen I build a war file using `war` Gradle Task and I deploy it using Tomcat.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI try to reach the same endpoint using the URL: `http://localhost:8080/user-service-api-0.0.1-SNAPSHOT-plain/api/v1/users`, but it fails. The Tomcat is up, the app is deployed, but the endpoint is not accessible.\r\n\r\nIn addition to that I have in `build.gradle` entry: `org.springframework.boot:spring-boot-starter-tomcat` and a class: \r\n\r\n```\r\npackage net.bean.userserviceapi;\r\n\r\nimport org.springframework.boot.builder.SpringApplicationBuilder;\r\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\r\n\r\npublic class ServletInitializer extends SpringBootServletInitializer {\r\n\r\n\t@Override\r\n\tprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n\t\treturn application.sources(UserServiceApiApplication.class);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nWhat am I doing wrong?\r\n\r\nThank you.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6ZsfV.png\r\n  [2]: https://i.stack.imgur.com/vgBo7.png","title":"Cannot execute SpringBoot endpoint on Tomcat","body":"<p>I developed a following endpoint using SpringBoot:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;api/v1&quot;)\npublic class UserResource {\n\n    @GetMapping(&quot;users&quot;)\n    public ResponseEntity&lt;List&lt;User&gt;&gt; getUsers() {\n        return ResponseEntity.ok().body(List.of(new User(&quot;George&quot;, &quot;Walker&quot;)));\n    }\n\n}\n</code></pre>\n<p>The endpoint works when I launched it using <code>bootRun</code> Gradle task.</p>\n<p>The endpoint can be reached using: <code>http://localhost:8080/api/v1/users</code></p>\n<p><a href=\"https://i.stack.imgur.com/6ZsfV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6ZsfV.png\" alt=\"enter image description here\" /></a></p>\n<p>Then I build a war file using <code>war</code> Gradle Task and I deploy it using Tomcat.</p>\n<p><a href=\"https://i.stack.imgur.com/vgBo7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vgBo7.png\" alt=\"enter image description here\" /></a></p>\n<p>I try to reach the same endpoint using the URL: <code>http://localhost:8080/user-service-api-0.0.1-SNAPSHOT-plain/api/v1/users</code>, but it fails. The Tomcat is up, the app is deployed, but the endpoint is not accessible.</p>\n<p>In addition to that I have in <code>build.gradle</code> entry: <code>org.springframework.boot:spring-boot-starter-tomcat</code> and a class:</p>\n<pre><code>package net.bean.userserviceapi;\n\nimport org.springframework.boot.builder.SpringApplicationBuilder;\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\n\npublic class ServletInitializer extends SpringBootServletInitializer {\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(UserServiceApiApplication.class);\n    }\n\n}\n\n</code></pre>\n<p>What am I doing wrong?</p>\n<p>Thank you.</p>\n"},{"tags":["java","arrays","class"],"answers":[{"tags":[],"owner":{"account_id":27284373,"reputation":11,"user_id":20803788,"display_name":"lucas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671308975,"creation_date":1671308975,"answer_id":74837288,"question_id":74836541,"body_markdown":"I think the error is in this line of updateSnowFlakes():\r\n```\r\nRandom random = new Random(); \r\nif (x + random.nextInt(3) - 1 &lt; GRID_WIDTH || x + random.nextInt(3) - 1 &gt; GRID_WIDTH) {\r\n                        return;\r\n}\r\n```\r\nI believe this is supposed to end the function if the new x would cause the snowflake to go off the grid.\r\nHowever, it instead ends the function whenever the new x is greater than or less than ```GRID_WIDTH```. \r\n\r\nThis means that the function will only ever continue if the new x = ```GRID_WIDTH```. \r\n\r\nTo fix this, try changing it to:\r\n```\r\nRandom random = new Random(); \r\nif (x + random.nextInt(3) - 1 &lt; 0 || x + random.nextInt(3) - 1 &gt; GRID_WIDTH) {\r\n                        return;\r\n}\r\n```\r\n","title":"Pixelart Snowfall animation in Java","body":"<p>I think the error is in this line of updateSnowFlakes():</p>\n<pre><code>Random random = new Random(); \nif (x + random.nextInt(3) - 1 &lt; GRID_WIDTH || x + random.nextInt(3) - 1 &gt; GRID_WIDTH) {\n                        return;\n}\n</code></pre>\n<p>I believe this is supposed to end the function if the new x would cause the snowflake to go off the grid.\nHowever, it instead ends the function whenever the new x is greater than or less than <code>GRID_WIDTH</code>.</p>\n<p>This means that the function will only ever continue if the new x = <code>GRID_WIDTH</code>.</p>\n<p>To fix this, try changing it to:</p>\n<pre><code>Random random = new Random(); \nif (x + random.nextInt(3) - 1 &lt; 0 || x + random.nextInt(3) - 1 &gt; GRID_WIDTH) {\n                        return;\n}\n</code></pre>\n"}],"owner":{"account_id":27283786,"reputation":11,"user_id":20803288,"display_name":"Dr.Maxwell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671308975,"creation_date":1671302190,"question_id":74836541,"body_markdown":"Hello im making a Snowfall animation in Java, but i have a few problems. The Snowflakes should be rectangles which have a random gray color between 100-255.I need to use a grid with array of arrays and once per call to the draw method, a snowflake can change columns by either -1, 0, or +1 if it falls down (changes the row) and the column in the new row is not already occupied.  My problem now is, that The snowflakes arent moving downwards and so they just go from left to right in the first row and after a few seconds they stop getting drawn.\r\n\r\nThis is my code for the grid class. And in the updateSnowflakes method is the not working snowflake movement.\r\n\r\n```java\r\npublic class Grid {\r\n\r\n    private static final int CANVAS_HEIGHT = 800;\r\n    private static final int CANVAS_WIDTH = 800;\r\n    public int GRID_HEIGHT = CANVAS_HEIGHT;\r\n    public int GRID_WIDTH = CANVAS_WIDTH;\r\n    public int SNOWFLAKE_WIDTH = GRID_WIDTH / GRID_WIDTH;\r\n    public int SNOWFLAKE_HEIGHT = GRID_HEIGHT / GRID_HEIGHT;\r\n\r\n\r\n    public GridView[][] elements;\r\n\r\n\r\n    public Grid(int GRID_HEIGHT, int GRID_WIDTH, int SNOWFLAKE_HEIGHT, int SNOWFLAKE_WIDTH) {\r\n        this.GRID_HEIGHT = GRID_HEIGHT;\r\n        this.GRID_WIDTH = GRID_WIDTH;\r\n        this.SNOWFLAKE_HEIGHT = SNOWFLAKE_HEIGHT;\r\n        this.SNOWFLAKE_WIDTH = SNOWFLAKE_WIDTH;\r\n        elements = new GridView[GRID_WIDTH][GRID_HEIGHT];\r\n        for (int y = 0; y &lt; elements.length; y++) {\r\n            for (int x = 0; x &lt; elements[y].length; x++) {\r\n                elements[y][x] = new GridView(y * SNOWFLAKE_HEIGHT, x * SNOWFLAKE_WIDTH);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    public void drawSnowflakes() {\r\n        for (int i = 0; i &lt; elements[0].length; i++) {\r\n            boolean shouldDrawSnowflake = Math.random() &lt; (1f / 80f);\r\n            Random random = new Random();\r\n            int low = 100;\r\n            int high = 256;\r\n            int g = random.nextInt(high - low) + low;\r\n            Color snowflakeColor = new Color(g, g, g, g);\r\n\r\n            if (shouldDrawSnowflake &amp;&amp; !elements[i][0].hasSnowflake) {\r\n                Rectangle rectangle = new Rectangle(i,0, SNOWFLAKE_WIDTH, SNOWFLAKE_HEIGHT, snowflakeColor);\r\n                elements[i][0].rectangle = rectangle;\r\n                elements[i][0].hasSnowflake = true;\r\n                rectangle.draw();\r\n\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    public void updateSnowflakes() {\r\n\r\n        for (int y = 0; y &lt; elements.length; y++) {\r\n            for (int x = 0; x &lt; elements[y].length; x++) {\r\n                GridView gridcell = elements[x][y];\r\n                if (gridcell.hasSnowflake) {\r\n                    if (y + 1 &gt; CANVAS_HEIGHT) {\r\n                        return;\r\n                    }\r\n                    Random random = new Random();\r\n                    if (x + random.nextInt(3) - 1 &lt; GRID_WIDTH || x + random.nextInt(3) - 1 &gt; GRID_WIDTH) {\r\n                        return;\r\n                    }\r\n                    GridView nextGridCell;\r\n                    nextGridCell=elements[x+ random.nextInt(3)-1][y+1];\r\n                    if (nextGridCell.hasSnowflake == true) {\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Pixelart Snowfall animation in Java","body":"<p>Hello im making a Snowfall animation in Java, but i have a few problems. The Snowflakes should be rectangles which have a random gray color between 100-255.I need to use a grid with array of arrays and once per call to the draw method, a snowflake can change columns by either -1, 0, or +1 if it falls down (changes the row) and the column in the new row is not already occupied.  My problem now is, that The snowflakes arent moving downwards and so they just go from left to right in the first row and after a few seconds they stop getting drawn.</p>\n<p>This is my code for the grid class. And in the updateSnowflakes method is the not working snowflake movement.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Grid {\n\n    private static final int CANVAS_HEIGHT = 800;\n    private static final int CANVAS_WIDTH = 800;\n    public int GRID_HEIGHT = CANVAS_HEIGHT;\n    public int GRID_WIDTH = CANVAS_WIDTH;\n    public int SNOWFLAKE_WIDTH = GRID_WIDTH / GRID_WIDTH;\n    public int SNOWFLAKE_HEIGHT = GRID_HEIGHT / GRID_HEIGHT;\n\n\n    public GridView[][] elements;\n\n\n    public Grid(int GRID_HEIGHT, int GRID_WIDTH, int SNOWFLAKE_HEIGHT, int SNOWFLAKE_WIDTH) {\n        this.GRID_HEIGHT = GRID_HEIGHT;\n        this.GRID_WIDTH = GRID_WIDTH;\n        this.SNOWFLAKE_HEIGHT = SNOWFLAKE_HEIGHT;\n        this.SNOWFLAKE_WIDTH = SNOWFLAKE_WIDTH;\n        elements = new GridView[GRID_WIDTH][GRID_HEIGHT];\n        for (int y = 0; y &lt; elements.length; y++) {\n            for (int x = 0; x &lt; elements[y].length; x++) {\n                elements[y][x] = new GridView(y * SNOWFLAKE_HEIGHT, x * SNOWFLAKE_WIDTH);\n            }\n        }\n\n    }\n\n    public void drawSnowflakes() {\n        for (int i = 0; i &lt; elements[0].length; i++) {\n            boolean shouldDrawSnowflake = Math.random() &lt; (1f / 80f);\n            Random random = new Random();\n            int low = 100;\n            int high = 256;\n            int g = random.nextInt(high - low) + low;\n            Color snowflakeColor = new Color(g, g, g, g);\n\n            if (shouldDrawSnowflake &amp;&amp; !elements[i][0].hasSnowflake) {\n                Rectangle rectangle = new Rectangle(i,0, SNOWFLAKE_WIDTH, SNOWFLAKE_HEIGHT, snowflakeColor);\n                elements[i][0].rectangle = rectangle;\n                elements[i][0].hasSnowflake = true;\n                rectangle.draw();\n\n\n            }\n        }\n    }\n\n\n    public void updateSnowflakes() {\n\n        for (int y = 0; y &lt; elements.length; y++) {\n            for (int x = 0; x &lt; elements[y].length; x++) {\n                GridView gridcell = elements[x][y];\n                if (gridcell.hasSnowflake) {\n                    if (y + 1 &gt; CANVAS_HEIGHT) {\n                        return;\n                    }\n                    Random random = new Random();\n                    if (x + random.nextInt(3) - 1 &lt; GRID_WIDTH || x + random.nextInt(3) - 1 &gt; GRID_WIDTH) {\n                        return;\n                    }\n                    GridView nextGridCell;\n                    nextGridCell=elements[x+ random.nextInt(3)-1][y+1];\n                    if (nextGridCell.hasSnowflake == true) {\n                        return;\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","gson","quarkus","smallrye-reactive-messaging"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1671308882,"post_id":74828960,"comment_id":132073403,"body_markdown":"Your error is from Jackson, so why are you trying to use Gson? Creating a new ObjectMapper will not fix the builtin Kafka JSON Deserializer. Call `mapper.registerModule`, not make a brand new one","body":"Your error is from Jackson, so why are you trying to use Gson? Creating a new ObjectMapper will not fix the builtin Kafka JSON Deserializer. Call <code>mapper.registerModule</code>, not make a brand new one"},{"owner":{"account_id":18576371,"reputation":1314,"user_id":13536950,"display_name":"rafaelpadu"},"score":1,"creation_date":1671453963,"post_id":74828960,"comment_id":132095638,"body_markdown":"You&#39;re right. But the issue was the serialization in the producer. I was using Gson.toJson() function. When I changed it to ObjectMapper.registerModule(new JavaTimeModule()).writeValueAsString() worked just fine!","body":"You&#39;re right. But the issue was the serialization in the producer. I was using Gson.toJson() function. When I changed it to ObjectMapper.registerModule(new JavaTimeModule()).writeValueAsString() worked just fine!"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1671454291,"post_id":74828960,"comment_id":132095740,"body_markdown":"Feel free to put your working code below as an a answer","body":"Feel free to put your working code below as an a answer"}],"owner":{"account_id":18576371,"reputation":1314,"user_id":13536950,"display_name":"rafaelpadu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":445,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671308945,"creation_date":1671218893,"question_id":74828960,"body_markdown":"I&#39;m trying to deserialize an object using Kafka inside a Quarkus Project JDK-17. But It simply won&#39;t work. I was having the same issue when serializing the message inside the same project, but using  `ObjectMapper().registerModule(new JavaTimeModule());` solved the issue.\r\n\r\nNow that I need to consume the same object, inside the same project, It won&#39;t work. I&#39;ve I already tried the following:\r\n\r\n    new ObjectMapper().registerModule(new JavaTimeModule());\r\n    mapper.readValue(data, BudgetToMarinaOrderDTO.class);\r\n\r\n2:\r\n\r\n    new ObjectMapper().registerModule(new JavaTimeModule()).disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\r\n    mapper.readValue(data, BudgetToMarinaOrderDTO.class);\r\n\r\n3:\r\n\r\n    Gson gson = new GsonBuilder().create();\r\n    gson.fromJson(data, BudgetToMarinaOrderDTO.class);\r\n\r\n4:\r\n\r\n    gsonBuilder.registerTypeAdapter(LocalDateTime.class, new CustomLocalDateTimeDeserializer());\r\n    Gson gson = gsonBuilder.setPrettyPrinting().create();\r\n    gson.fromJson(data, BudgetToMarinaOrderDTO.class);\r\n\r\nThese are the related dependencies that I&#39;m using:\r\n \r\n        \r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-smallrye-reactive-messaging-kafka&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n                &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n                &lt;version&gt;2.10&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nEach one of those gives me a different Error, but they all talk about the same thing...\r\nHere&#39;s one of these errors:\r\n\r\n    com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.time.LocalDateTime` from Object value (","title":"Cant Deserialize LocalDateTime in Quarkus","body":"<p>I'm trying to deserialize an object using Kafka inside a Quarkus Project JDK-17. But It simply won't work. I was having the same issue when serializing the message inside the same project, but using  <code>ObjectMapper().registerModule(new JavaTimeModule());</code> solved the issue.</p>\n<p>Now that I need to consume the same object, inside the same project, It won't work. I've I already tried the following:</p>\n<pre><code>new ObjectMapper().registerModule(new JavaTimeModule());\nmapper.readValue(data, BudgetToMarinaOrderDTO.class);\n</code></pre>\n<p>2:</p>\n<pre><code>new ObjectMapper().registerModule(new JavaTimeModule()).disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\nmapper.readValue(data, BudgetToMarinaOrderDTO.class);\n</code></pre>\n<p>3:</p>\n<pre><code>Gson gson = new GsonBuilder().create();\ngson.fromJson(data, BudgetToMarinaOrderDTO.class);\n</code></pre>\n<p>4:</p>\n<pre><code>gsonBuilder.registerTypeAdapter(LocalDateTime.class, new CustomLocalDateTimeDeserializer());\nGson gson = gsonBuilder.setPrettyPrinting().create();\ngson.fromJson(data, BudgetToMarinaOrderDTO.class);\n</code></pre>\n<p>These are the related dependencies that I'm using:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-smallrye-reactive-messaging-kafka&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.10&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Each one of those gives me a different Error, but they all talk about the same thing...\nHere's one of these errors:</p>\n<pre><code>com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.time.LocalDateTime` from Object value (\n</code></pre>\n"},{"tags":["java","casting"],"comments":[{"owner":{"account_id":445,"reputation":114845,"user_id":572,"accept_rate":90,"display_name":"Thomas Owens"},"score":11,"creation_date":1255983167,"post_id":1590831,"comment_id":1454271,"body_markdown":"I&#39;m curious as to why you would have to do this. If you have a `long`, why can&#39;t you just work with a `long`? That way, you&#39;ll never have to worry about this.","body":"I&#39;m curious as to why you would have to do this. If you have a <code>long</code>, why can&#39;t you just work with a <code>long</code>? That way, you&#39;ll never have to worry about this."},{"owner":{"account_id":54976,"reputation":14415,"user_id":164553,"accept_rate":100,"display_name":"Brigham"},"score":36,"creation_date":1255983669,"post_id":1590831,"comment_id":1454311,"body_markdown":"Two code paths. One is legacy and needs ints. That legacy data SHOULD all fit in an int, but I want to throw an exception if that assumption is violated.\n\nThe other code path will use longs and won&#39;t need the cast.","body":"Two code paths. One is legacy and needs ints. That legacy data SHOULD all fit in an int, but I want to throw an exception if that assumption is violated.  The other code path will use longs and won&#39;t need the cast."},{"owner":{"account_id":180120,"reputation":438,"user_id":413233,"display_name":"skot"},"score":15,"creation_date":1360537554,"post_id":1590831,"comment_id":20733794,"body_markdown":"There are lots of things you can&#39;t do with longs eg index an array.","body":"There are lots of things you can&#39;t do with longs eg index an array."},{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":8,"creation_date":1409558569,"post_id":1590831,"comment_id":39991020,"body_markdown":"@TommyHerbert, How on earth is safe converting of longs to ints a code smell?","body":"@TommyHerbert, How on earth is safe converting of longs to ints a code smell?"},{"owner":{"account_id":1032845,"reputation":3336,"user_id":2698167,"accept_rate":33,"display_name":"Tuntable"},"score":0,"creation_date":1596186289,"post_id":1590831,"comment_id":111737572,"body_markdown":"Generally avoid assuming how a broken cast would work.  Certainly C compilers can do weird things.  Better to test against max int and min int, or to mask off the bottom 32 bits.  Not checking for integer overflow is an idiocy Java inherited from C.  It costs nothing using hardware traps.  More sophisticated languages like Visual Basic do check by default, and that has saved me on a few occasions.","body":"Generally avoid assuming how a broken cast would work.  Certainly C compilers can do weird things.  Better to test against max int and min int, or to mask off the bottom 32 bits.  Not checking for integer overflow is an idiocy Java inherited from C.  It costs nothing using hardware traps.  More sophisticated languages like Visual Basic do check by default, and that has saved me on a few occasions."}],"answers":[{"comments":[{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":7,"creation_date":1255983879,"post_id":1590842,"comment_id":1454325,"body_markdown":"I&#39;d always do the range check as `(!(Integer.MIN_VALUE &lt;= l &amp;&amp; l &lt;= Integer.MAX_VALUE))`. I find it difficult to get my head around other ways of doing it. Pity Java does not have `unless`.","body":"I&#39;d always do the range check as <code>(!(Integer.MIN_VALUE &lt;= l &amp;&amp; l &lt;= Integer.MAX_VALUE))</code>. I find it difficult to get my head around other ways of doing it. Pity Java does not have <code>unless</code>."},{"owner":{"account_id":5807,"reputation":392471,"user_id":9530,"accept_rate":78,"display_name":"Adam Rosenfield"},"score":5,"creation_date":1255983887,"post_id":1590842,"comment_id":1454326,"body_markdown":"+1.  This falls exactly under the &quot;exceptions should be used for *exceptional* conditions&quot; rule.","body":"+1.  This falls exactly under the &quot;exceptions should be used for <i>exceptional</i> conditions&quot; rule."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":4,"creation_date":1255984075,"post_id":1590842,"comment_id":1454342,"body_markdown":"(In a modern general-purpose language it would be: &quot;Eh? But ints have arbitrary size?&quot;)","body":"(In a modern general-purpose language it would be: &quot;Eh? But ints have arbitrary size?&quot;)"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":7,"creation_date":1255985779,"post_id":1590842,"comment_id":1454515,"body_markdown":"@Tom: Personal preference, I guess - I prefer to have as few negatives as possible. If I&#39;m looking at an &quot;if&quot; with a body which throws an exception, I&#39;d like to see conditions that make it look exceptional - like the value being &quot;off the bottom end&quot; of `int`.","body":"@Tom: Personal preference, I guess - I prefer to have as few negatives as possible. If I&#39;m looking at an &quot;if&quot; with a body which throws an exception, I&#39;d like to see conditions that make it look exceptional - like the value being &quot;off the bottom end&quot; of <code>int</code>."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1256002730,"post_id":1590842,"comment_id":1455637,"body_markdown":"I look at it from a whitelist sort of view point. These are the values that *I am* interested in. The language design forces the negative.","body":"I look at it from a whitelist sort of view point. These are the values that <i>I am</i> interested in. The language design forces the negative."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":6,"creation_date":1256016008,"post_id":1590842,"comment_id":1456342,"body_markdown":"@Tom: In that case I&#39;d remove the negative, put the cast/return inside the &quot;if&quot; body, and then throw an exception afterwards, if you see what I mean.","body":"@Tom: In that case I&#39;d remove the negative, put the cast/return inside the &quot;if&quot; body, and then throw an exception afterwards, if you see what I mean."},{"owner":{"account_id":1680813,"reputation":687,"user_id":1545084,"accept_rate":83,"display_name":"Gladclef"},"score":0,"creation_date":1492019108,"post_id":1590842,"comment_id":73814749,"body_markdown":"I suggest using ArithmeticException instead, to match the interface of the Java8 Math.toIntExact(...).","body":"I suggest using ArithmeticException instead, to match the interface of the Java8 Math.toIntExact(...)."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":7,"down_vote_count":3,"up_vote_count":307,"is_accepted":false,"score":304,"last_activity_date":1310405057,"creation_date":1255983242,"answer_id":1590842,"question_id":1590831,"body_markdown":"I think I&#39;d do it as simply as:\r\n\r\n    public static int safeLongToInt(long l) {\r\n        if (l &lt; Integer.MIN_VALUE || l &gt; Integer.MAX_VALUE) {\r\n            throw new IllegalArgumentException\r\n                (l + &quot; cannot be cast to int without changing its value.&quot;);\r\n        }\r\n        return (int) l;\r\n    }\r\n\r\nI think that expresses the intent more clearly than the repeated casting... but it&#39;s somewhat subjective.\r\n\r\nNote of potential interest - in C# it would just be:\r\n\r\n    return checked ((int) l);","title":"Safely casting long to int in Java","body":"<p>I think I'd do it as simply as:</p>\n\n<pre><code>public static int safeLongToInt(long l) {\n    if (l &lt; Integer.MIN_VALUE || l &gt; Integer.MAX_VALUE) {\n        throw new IllegalArgumentException\n            (l + \" cannot be cast to int without changing its value.\");\n    }\n    return (int) l;\n}\n</code></pre>\n\n<p>I think that expresses the intent more clearly than the repeated casting... but it's somewhat subjective.</p>\n\n<p>Note of potential interest - in C# it would just be:</p>\n\n<pre><code>return checked ((int) l);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1255983877,"post_id":1590872,"comment_id":1454324,"body_markdown":"I don&#39;t see what signedness has to do with it. Could you give an example which *doesn&#39;t* lose information but *does* fail the test? 2^31 would be cast to Integer.MIN_VALUE (i.e. -2^31) so information has been lost.","body":"I don&#39;t see what signedness has to do with it. Could you give an example which <i>doesn&#39;t</i> lose information but <i>does</i> fail the test? 2^31 would be cast to Integer.MIN_VALUE (i.e. -2^31) so information has been lost."},{"owner":{"account_id":56304,"reputation":117517,"user_id":168657,"accept_rate":92,"display_name":"mob"},"score":0,"creation_date":1255985266,"post_id":1590872,"comment_id":1454459,"body_markdown":"@Jon Skeet:  Maybe me and the OP are talking past each other. `(int) 0xFFFFFFFF` and `(long) 0xFFFFFFFFL` have different values, but they both contain the same &quot;information&quot;, and it is almost trivial to extract the original long value from the int.","body":"@Jon Skeet:  Maybe me and the OP are talking past each other. <code>(int) 0xFFFFFFFF</code> and <code>(long) 0xFFFFFFFFL</code> have different values, but they both contain the same &quot;information&quot;, and it is almost trivial to extract the original long value from the int."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1255985705,"post_id":1590872,"comment_id":1454510,"body_markdown":"How can you extract the original long value from the int, when the long could have been -1 to start with, instead of 0xFFFFFFFF?","body":"How can you extract the original long value from the int, when the long could have been -1 to start with, instead of 0xFFFFFFFF?"},{"owner":{"account_id":56304,"reputation":117517,"user_id":168657,"accept_rate":92,"display_name":"mob"},"score":0,"creation_date":1255987321,"post_id":1590872,"comment_id":1454669,"body_markdown":"Sorry if I&quot;m not clear. I&#39;m saying that if the long and the int both contain the same 32 bits of information, and if the 32nd bit is set, then the int value is different from the long value, but that it is easy to get the long value.","body":"Sorry if I&quot;m not clear. I&#39;m saying that if the long and the int both contain the same 32 bits of information, and if the 32nd bit is set, then the int value is different from the long value, but that it is easy to get the long value."},{"owner":{"account_id":38079,"reputation":6558,"user_id":109079,"display_name":"Partly Cloudy"},"score":0,"creation_date":1360974835,"post_id":1590872,"comment_id":20908550,"body_markdown":"@mob what is this in reference to? OP&#39;s code correctly reports that long values &gt; 2^{31} cannot be casted to ints","body":"@mob what is this in reference to? OP&#39;s code correctly reports that long values &gt; 2^{31} cannot be casted to ints"},{"owner":{"account_id":56304,"reputation":117517,"user_id":168657,"accept_rate":92,"display_name":"mob"},"score":0,"creation_date":1360975343,"post_id":1590872,"comment_id":20908645,"body_markdown":"In Java, any primitive type can be cast to int.","body":"In Java, any primitive type can be cast to int."}],"tags":[],"owner":{"account_id":56304,"reputation":117517,"user_id":168657,"accept_rate":92,"display_name":"mob"},"comment_count":6,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1255984781,"creation_date":1255983541,"answer_id":1590872,"question_id":1590831,"body_markdown":"Java integer types are represented as signed. With an input between 2&lt;SUP&gt;31&lt;/SUP&gt; and 2&lt;SUP&gt;32&lt;/SUP&gt; (or -2&lt;SUP&gt;31&lt;/SUP&gt; and -2&lt;SUP&gt;32&lt;/SUP&gt;) the cast would succeed but your test would fail. \r\n\r\nWhat to check for is whether all of the high bits of the `long` are all the same:\r\n\r\n    public static final long LONG_HIGH_BITS = 0xFFFFFFFF80000000L;\r\n    public static int safeLongToInt(long l) {\r\n        if ((l &amp; LONG_HIGH_BITS) == 0 || (l &amp; LONG_HIGH_BITS) == LONG_HIGH_BITS) {\r\n            return (int) l;\r\n        } else {\r\n            throw new IllegalArgumentException(&quot;...&quot;);\r\n        }\r\n    }","title":"Safely casting long to int in Java","body":"<p>Java integer types are represented as signed. With an input between 2<SUP>31</SUP> and 2<SUP>32</SUP> (or -2<SUP>31</SUP> and -2<SUP>32</SUP>) the cast would succeed but your test would fail. </p>\n\n<p>What to check for is whether all of the high bits of the <code>long</code> are all the same:</p>\n\n<pre><code>public static final long LONG_HIGH_BITS = 0xFFFFFFFF80000000L;\npublic static int safeLongToInt(long l) {\n    if ((l &amp; LONG_HIGH_BITS) == 0 || (l &amp; LONG_HIGH_BITS) == LONG_HIGH_BITS) {\n        return (int) l;\n    } else {\n        throw new IllegalArgumentException(\"...\");\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":27543,"reputation":7198,"user_id":72810,"accept_rate":61,"display_name":"lexicalscope"},"score":1,"creation_date":1418986108,"post_id":1590914,"comment_id":43554132,"body_markdown":"This is what recent versions of Google Guava Ints::checkedCast do.","body":"This is what recent versions of Google Guava Ints::checkedCast do."}],"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1255983757,"creation_date":1255983757,"answer_id":1590914,"question_id":1590831,"body_markdown":"I claim that the obvious way to see whether casting a value changed the value would be to cast and check the result. I would, however, remove the unnecessary cast when comparing. I&#39;m also not too keen on one letter variable names (exception `x` and `y`, but not when they mean row and column (sometimes respectively)).\r\n\r\n    public static int intValue(long value) {\r\n        int valueInt = (int)value;\r\n        if (valueInt != value) {\r\n            throw new IllegalArgumentException(\r\n                &quot;The long value &quot;+value+&quot; is not within range of the int type&quot;\r\n            );\r\n        }\r\n        return valueInt;\r\n    }\r\n\r\nHowever, really I would want to avoid this conversion if at all possible. Obviously sometimes it&#39;s not possible, but in those cases `IllegalArgumentException` is almost certainly the wrong exception to be throwing as far as client code is concerned.","title":"Safely casting long to int in Java","body":"<p>I claim that the obvious way to see whether casting a value changed the value would be to cast and check the result. I would, however, remove the unnecessary cast when comparing. I'm also not too keen on one letter variable names (exception <code>x</code> and <code>y</code>, but not when they mean row and column (sometimes respectively)).</p>\n\n<pre><code>public static int intValue(long value) {\n    int valueInt = (int)value;\n    if (valueInt != value) {\n        throw new IllegalArgumentException(\n            \"The long value \"+value+\" is not within range of the int type\"\n        );\n    }\n    return valueInt;\n}\n</code></pre>\n\n<p>However, really I would want to avoid this conversion if at all possible. Obviously sometimes it's not possible, but in those cases <code>IllegalArgumentException</code> is almost certainly the wrong exception to be throwing as far as client code is concerned.</p>\n"},{"comments":[{"owner":{"account_id":38079,"reputation":6558,"user_id":109079,"display_name":"Partly Cloudy"},"score":3,"creation_date":1360974701,"post_id":7390554,"comment_id":20908521,"body_markdown":"Guava&#39;s `Ints.checkedCast` does exactly what OP does, incidentally","body":"Guava&#39;s <code>Ints.checkedCast</code> does exactly what OP does, incidentally"},{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":15,"creation_date":1381175161,"post_id":7390554,"comment_id":28467441,"body_markdown":"+1 for Guava solution, though no real need to wrap it in another method, just call `Ints.checkedCast(l)` directly.","body":"+1 for Guava solution, though no real need to wrap it in another method, just call <code>Ints.checkedCast(l)</code> directly."},{"owner":{"account_id":341779,"reputation":3729,"user_id":672584,"accept_rate":62,"display_name":"Jake Walsh"},"score":8,"creation_date":1404149891,"post_id":7390554,"comment_id":37920647,"body_markdown":"Guava also has `Ints.saturatedCast` which will return the nearest value instead of throwing an exception.","body":"Guava also has <code>Ints.saturatedCast</code> which will return the nearest value instead of throwing an exception."},{"owner":{"account_id":477556,"reputation":2253,"user_id":889126,"accept_rate":80,"display_name":"Osify"},"score":0,"creation_date":1434513345,"post_id":7390554,"comment_id":49804802,"body_markdown":"Yes, it&#39;s safe to use existing api as my case, the library already in the project: to throw exception if invalid: Ints.checkedCast(long) and Ints.saturatedCast(long) to get the nearest for converting long to int.","body":"Yes, it&#39;s safe to use existing api as my case, the library already in the project: to throw exception if invalid: Ints.checkedCast(long) and Ints.saturatedCast(long) to get the nearest for converting long to int."}],"tags":[],"owner":{"account_id":214107,"reputation":4672,"user_id":467874,"accept_rate":92,"display_name":"brabec"},"comment_count":4,"down_vote_count":1,"up_vote_count":137,"is_accepted":false,"score":136,"last_activity_date":1504013753,"creation_date":1315842568,"answer_id":7390554,"question_id":1590831,"body_markdown":"With Google Guava&#39;s [Ints][1] class, your method can be changed to:\r\n\r\n    public static int safeLongToInt(long l) {\r\n        return Ints.checkedCast(l);\r\n    }\r\n\r\nFrom the linked docs:\r\n\r\n&gt; checkedCast\r\n&gt; ---\r\n&gt; `public static int checkedCast(long value)`\r\n\r\n&gt; Returns the int value that is equal to `value`, if possible.\r\n\r\n&gt; **Parameters:**\r\n&gt; `value` - any value in the range of the `int` type\r\n\r\n&gt; **Returns:**\r\n&gt; the `int` value that equals `value`\r\n\r\n&gt; **Throws:**\r\n&gt; `IllegalArgumentException` - if `value` is greater than `Integer.MAX_VALUE` or less than `Integer.MIN_VALUE`\r\n\r\nIncidentally, you don&#39;t need the `safeLongToInt` wrapper, unless you want to leave it in place for changing out the functionality without extensive refactoring of course.\r\n\r\n  [1]: http://google.github.io/guava/releases/23.0/api/docs/com/google/common/primitives/Ints.html#checkedCast-long-","title":"Safely casting long to int in Java","body":"<p>With Google Guava's <a href=\"http://google.github.io/guava/releases/23.0/api/docs/com/google/common/primitives/Ints.html#checkedCast-long-\" rel=\"noreferrer\">Ints</a> class, your method can be changed to:</p>\n\n<pre><code>public static int safeLongToInt(long l) {\n    return Ints.checkedCast(l);\n}\n</code></pre>\n\n<p>From the linked docs:</p>\n\n<blockquote>\n  <h2>checkedCast</h2>\n  \n  <p><code>public static int checkedCast(long value)</code></p>\n  \n  <p>Returns the int value that is equal to <code>value</code>, if possible.</p>\n  \n  <p><strong>Parameters:</strong>\n  <code>value</code> - any value in the range of the <code>int</code> type</p>\n  \n  <p><strong>Returns:</strong>\n  the <code>int</code> value that equals <code>value</code></p>\n  \n  <p><strong>Throws:</strong>\n  <code>IllegalArgumentException</code> - if <code>value</code> is greater than <code>Integer.MAX_VALUE</code> or less than <code>Integer.MIN_VALUE</code></p>\n</blockquote>\n\n<p>Incidentally, you don't need the <code>safeLongToInt</code> wrapper, unless you want to leave it in place for changing out the functionality without extensive refactoring of course.</p>\n"},{"comments":[{"owner":{"account_id":154897,"reputation":3959,"user_id":371169,"display_name":"Andreas"},"score":0,"creation_date":1381412009,"post_id":8710093,"comment_id":28575979,"body_markdown":"You will get a NumberFormatException on &quot;real long&quot; values:\n    `Integer.valueOf(Long.MAX_VALUE.toString());`\n    results in `java.lang.NumberFormatException: For input string: &quot;9223372036854775807&quot;`\n that pretty much obfuscates the Out-Of-Range-Exception because it is now treated in the same way a string containing letters is treated.","body":"You will get a NumberFormatException on &quot;real long&quot; values:     <code>Integer.valueOf(Long.MAX_VALUE.toString());</code>     results in <code>java.lang.NumberFormatException: For input string: &quot;9223372036854775807&quot;</code>  that pretty much obfuscates the Out-Of-Range-Exception because it is now treated in the same way a string containing letters is treated."},{"owner":{"account_id":1168998,"reputation":10625,"user_id":1146608,"accept_rate":88,"display_name":"Patrick M"},"score":2,"creation_date":1427909219,"post_id":8710093,"comment_id":46970232,"body_markdown":"It also doesn&#39;t compile because you don&#39;t always return a value.","body":"It also doesn&#39;t compile because you don&#39;t always return a value."}],"tags":[],"owner":{"account_id":425849,"reputation":495,"user_id":806721,"accept_rate":20,"display_name":"Rajat Anantharam"},"comment_count":2,"down_vote_count":9,"up_vote_count":2,"is_accepted":false,"score":-7,"last_activity_date":1325582567,"creation_date":1325582567,"answer_id":8710093,"question_id":1590831,"body_markdown":"One other solution can be: \r\n\r\n\r\n    public int longToInt(Long longVariable)\r\n    {\r\n        try { \r\n                return Integer.valueOf(longVariable.toString()); \r\n            } catch(IllegalArgumentException e) { \r\n                   Log.e(e.printstackstrace()); \r\n            }\r\n    }\r\n\r\n\r\nI have tried this for cases where the client is doing a POST and the server DB understands only Integers while the client has a Long. \r\n","title":"Safely casting long to int in Java","body":"<p>One other solution can be: </p>\n\n<pre><code>public int longToInt(Long longVariable)\n{\n    try { \n            return Integer.valueOf(longVariable.toString()); \n        } catch(IllegalArgumentException e) { \n               Log.e(e.printstackstrace()); \n        }\n}\n</code></pre>\n\n<p>I have tried this for cases where the client is doing a POST and the server DB understands only Integers while the client has a Long. </p>\n"},{"comments":[{"owner":{"account_id":1435828,"reputation":288,"user_id":1357233,"display_name":"Vitaliy Kulikov"},"score":0,"creation_date":1380026370,"post_id":10323852,"comment_id":28037939,"body_markdown":"seems, you are wrong ... it will be working nice then negative. also, what does mean `too low` ? please, provide use-case.","body":"seems, you are wrong ... it will be working nice then negative. also, what does mean <code>too low</code> ? please, provide use-case."},{"owner":{"account_id":1435828,"reputation":288,"user_id":1357233,"display_name":"Vitaliy Kulikov"},"score":0,"creation_date":1380026523,"post_id":10323852,"comment_id":28038025,"body_markdown":"this solution is the fast one and safe one, then we are talking to cast Long to Int to obey result.","body":"this solution is the fast one and safe one, then we are talking to cast Long to Int to obey result."}],"tags":[],"owner":{"account_id":1435828,"reputation":288,"user_id":1357233,"display_name":"Vitaliy Kulikov"},"comment_count":2,"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1344634433,"creation_date":1335388208,"answer_id":10323852,"question_id":1590831,"body_markdown":"here is a solution, in case you don&#39;t care about value in case it is bigger then needed ;)\r\n\r\n    public static int safeLongToInt(long l) {\r\n        return (int) Math.max(Math.min(Integer.MAX_VALUE, l), Integer.MIN_VALUE);\r\n    }","title":"Safely casting long to int in Java","body":"<p>here is a solution, in case you don't care about value in case it is bigger then needed ;)</p>\n\n<pre><code>public static int safeLongToInt(long l) {\n    return (int) Math.max(Math.min(Integer.MAX_VALUE, l), Integer.MIN_VALUE);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1243932,"reputation":2419,"user_id":1210278,"accept_rate":64,"display_name":"Riking"},"score":13,"creation_date":1398284889,"post_id":14687705,"comment_id":35584609,"body_markdown":"Well, it&#39;s allocating and throwing away a BigDecimal just to get at what should be a utility method, so yeah, that&#39;s not the best process.","body":"Well, it&#39;s allocating and throwing away a BigDecimal just to get at what should be a utility method, so yeah, that&#39;s not the best process."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1541599732,"post_id":14687705,"comment_id":93270960,"body_markdown":"@Riking in that regard, it’s better to use `BigDecimal.valueOf(aLong)`, instead of `new BigDecimal(aLong)`, to denote that a new instance is not required. Whether the execution environment does caching at that method, is implementation specific, just like the possible presence of Escape Analysis. In most real life cases, this has no impact on the performance.","body":"@Riking in that regard, it’s better to use <code>BigDecimal.valueOf(aLong)</code>, instead of <code>new BigDecimal(aLong)</code>, to denote that a new instance is not required. Whether the execution environment does caching at that method, is implementation specific, just like the possible presence of Escape Analysis. In most real life cases, this has no impact on the performance."}],"tags":[],"owner":{"account_id":872974,"reputation":491,"user_id":1598586,"display_name":"Jaime Saiz"},"comment_count":2,"down_vote_count":3,"up_vote_count":32,"is_accepted":false,"score":29,"last_activity_date":1359984215,"creation_date":1359984215,"answer_id":14687705,"question_id":1590831,"body_markdown":"With BigDecimal:\r\n\r\n    long aLong = ...;\r\n    int anInt = new BigDecimal(aLong).intValueExact(); // throws ArithmeticException\r\n                                                       // if outside bounds","title":"Safely casting long to int in Java","body":"<p>With BigDecimal:</p>\n\n<pre><code>long aLong = ...;\nint anInt = new BigDecimal(aLong).intValueExact(); // throws ArithmeticException\n                                                   // if outside bounds\n</code></pre>\n"},{"comments":[{"owner":{"account_id":44179,"reputation":1963,"user_id":129501,"accept_rate":83,"display_name":"sixones"},"score":1,"creation_date":1475242877,"post_id":16957114,"comment_id":66878730,"body_markdown":"The `+ 0` adds nothing to this conversion, it might work if Java treated numeric type concatenation in a similar way to strings, but since it doesn&#39;t your doing an add operation for no reason.","body":"The <code>+ 0</code> adds nothing to this conversion, it might work if Java treated numeric type concatenation in a similar way to strings, but since it doesn&#39;t your doing an add operation for no reason."}],"tags":[],"owner":{"account_id":2140534,"reputation":604,"user_id":1899285,"accept_rate":23,"display_name":"Maury"},"comment_count":1,"down_vote_count":4,"up_vote_count":4,"is_accepted":false,"score":0,"last_activity_date":1370507018,"creation_date":1370507018,"answer_id":16957114,"question_id":1590831,"body_markdown":"    (int) (longType + 0)\r\n\r\nbut Long can not exceed the maximum :)","title":"Safely casting long to int in Java","body":"<pre><code>(int) (longType + 0)\n</code></pre>\n\n<p>but Long can not exceed the maximum :)</p>\n"},{"comments":[{"owner":{"account_id":42117,"reputation":30319,"user_id":122607,"accept_rate":92,"display_name":"Pops"},"score":4,"creation_date":1379551978,"post_id":18614858,"comment_id":27872849,"body_markdown":"Your attempt to help is appreciated, but giving an example of something that doesn&#39;t work isn&#39;t quite the same as providing a solution that does work. If you would edit to add a correct way, this could be pretty good; otherwise, it&#39;s not really suitable to be posted as an answer.","body":"Your attempt to help is appreciated, but giving an example of something that doesn&#39;t work isn&#39;t quite the same as providing a solution that does work. If you would edit to add a correct way, this could be pretty good; otherwise, it&#39;s not really suitable to be posted as an answer."},{"owner":{"account_id":154897,"reputation":3959,"user_id":371169,"display_name":"Andreas"},"score":4,"creation_date":1379587805,"post_id":18614858,"comment_id":27885499,"body_markdown":"Okay, why not having both DOs and DONTs? Tbh, sometimes I wish I had a list of how to not do things (DONTs) to check whether I used such a pattern/code. Anyway, I can delete this &quot;answer&quot;.","body":"Okay, why not having both DOs and DONTs? Tbh, sometimes I wish I had a list of how to not do things (DONTs) to check whether I used such a pattern/code. Anyway, I can delete this &quot;answer&quot;."},{"owner":{"account_id":65930,"reputation":4225,"user_id":193705,"accept_rate":81,"display_name":"Peter Wippermann"},"score":1,"creation_date":1380695271,"post_id":18614858,"comment_id":28292537,"body_markdown":"Good anti-pattern. Anyway it would have been great if you explained what happens if the long value is out-of-range for int? I guess there will be a ClassCastException or something like this?","body":"Good anti-pattern. Anyway it would have been great if you explained what happens if the long value is out-of-range for int? I guess there will be a ClassCastException or something like this?"},{"owner":{"account_id":154897,"reputation":3959,"user_id":371169,"display_name":"Andreas"},"score":2,"creation_date":1380712920,"post_id":18614858,"comment_id":28300030,"body_markdown":"@PeterWippermann: I have added some more info. Do you consider them understandable resp. explanatory enough?","body":"@PeterWippermann: I have added some more info. Do you consider them understandable resp. explanatory enough?"}],"tags":[],"owner":{"account_id":154897,"reputation":3959,"user_id":371169,"display_name":"Andreas"},"comment_count":4,"down_vote_count":4,"up_vote_count":15,"is_accepted":false,"score":11,"last_activity_date":1380712875,"creation_date":1378300386,"answer_id":18614858,"question_id":1590831,"body_markdown":"**DONT: This is not a solution!**\r\n\r\nMy first approach was:\r\n\r\n    public int longToInt(long theLongOne) {\r\n      return Long.valueOf(theLongOne).intValue();\r\n    }\r\n\r\nBut that merely just casts the long to an int, potentially creating new `Long` instances or retrieving them from the Long pool.\r\n\r\n---\r\n\r\nThe drawbacks\r\n\r\n1. `Long.valueOf` creates a new `Long` instance if the number is not within `Long`&#39;s pool range [-128, 127].\r\n\r\n2. The `intValue` implementation does nothing more than:\r\n\r\n        return (int)value;\r\n\r\nSo this can be considered even worse than just casting the `long` to `int`.\r\n","title":"Safely casting long to int in Java","body":"<p><strong>DONT: This is not a solution!</strong></p>\n\n<p>My first approach was:</p>\n\n<pre><code>public int longToInt(long theLongOne) {\n  return Long.valueOf(theLongOne).intValue();\n}\n</code></pre>\n\n<p>But that merely just casts the long to an int, potentially creating new <code>Long</code> instances or retrieving them from the Long pool.</p>\n\n<hr>\n\n<p>The drawbacks</p>\n\n<ol>\n<li><p><code>Long.valueOf</code> creates a new <code>Long</code> instance if the number is not within <code>Long</code>'s pool range [-128, 127].</p></li>\n<li><p>The <code>intValue</code> implementation does nothing more than:</p>\n\n<pre><code>return (int)value;\n</code></pre></li>\n</ol>\n\n<p>So this can be considered even worse than just casting the <code>long</code> to <code>int</code>.</p>\n"},{"comments":[{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":7,"creation_date":1509097391,"post_id":32869210,"comment_id":80891480,"body_markdown":"We also have `addExact` and `multiplyExact`. Of note is that division (`MIN_VALUE/-1`) and absolute value (`abs(MIN_VALUE)`) do not have safe convenience methods.","body":"We also have <code>addExact</code> and <code>multiplyExact</code>. Of note is that division (<code>MIN_VALUE&#47;-1</code>) and absolute value (<code>abs(MIN_VALUE)</code>) do not have safe convenience methods."},{"owner":{"account_id":5630551,"reputation":1846,"user_id":4457630,"display_name":"Yamashiro Rion"},"score":0,"creation_date":1556878518,"post_id":32869210,"comment_id":98586244,"body_markdown":"But what&#39;s a difference of using `Math.toIntExact()` instead of usual cast to `int`? The implementation of `Math.toIntExact()` just casts `long` to `int`.","body":"But what&#39;s a difference of using <code>Math.toIntExact()</code> instead of usual cast to <code>int</code>? The implementation of <code>Math.toIntExact()</code> just casts <code>long</code> to <code>int</code>."},{"owner":{"account_id":1189453,"reputation":7989,"user_id":1162647,"accept_rate":69,"display_name":"Pierre-Antoine"},"score":3,"creation_date":1556885713,"post_id":32869210,"comment_id":98589819,"body_markdown":"@YamashiroRion Actually the implementation of toIntExact first checks whether the cast would lead to an overflow, in which case it throws an ArithmeticException. Only if the cast is safe it then performs cast from long to int which it returns.\nIn other words, if you try to cast a long number that cannot be represented as int (eg any number strictly above 2 147 483 647) it will throw an ArithmeticException. If you do the same with a simple cast, your resulting int value will be wrong.","body":"@YamashiroRion Actually the implementation of toIntExact first checks whether the cast would lead to an overflow, in which case it throws an ArithmeticException. Only if the cast is safe it then performs cast from long to int which it returns. In other words, if you try to cast a long number that cannot be represented as int (eg any number strictly above 2 147 483 647) it will throw an ArithmeticException. If you do the same with a simple cast, your resulting int value will be wrong."}],"tags":[],"owner":{"account_id":1189453,"reputation":7989,"user_id":1162647,"accept_rate":69,"display_name":"Pierre-Antoine"},"comment_count":3,"down_vote_count":2,"up_vote_count":653,"is_accepted":true,"score":651,"last_activity_date":1671308807,"creation_date":1443624622,"answer_id":32869210,"question_id":1590831,"body_markdown":"A method was added in **Java 8**:\r\n\r\n    import static java.lang.Math.toIntExact;\r\n\r\n    long foo = 10L;\r\n    int bar = toIntExact(foo);\r\n\r\nWill throw an `ArithmeticException` in case of overflow. \r\n\r\nSee: [`Math.toIntExact(long)`][1] \r\n\r\nSeveral other overflow safe methods have been added to Java 8. They end with *exact*. \r\n\r\nExamples: \r\n\r\n - `Math.incrementExact(long)`\r\n - `Math.subtractExact(long, long)`\r\n - `Math.decrementExact(long)`\r\n - `Math.negateExact(long),`\r\n - `Math.subtractExact(int, int)`\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#toIntExact-long-","title":"Safely casting long to int in Java","body":"<p>A method was added in <strong>Java 8</strong>:</p>\n<pre><code>import static java.lang.Math.toIntExact;\n\nlong foo = 10L;\nint bar = toIntExact(foo);\n</code></pre>\n<p>Will throw an <code>ArithmeticException</code> in case of overflow.</p>\n<p>See: <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#toIntExact-long-\" rel=\"noreferrer\"><code>Math.toIntExact(long)</code></a></p>\n<p>Several other overflow safe methods have been added to Java 8. They end with <em>exact</em>.</p>\n<p>Examples:</p>\n<ul>\n<li><code>Math.incrementExact(long)</code></li>\n<li><code>Math.subtractExact(long, long)</code></li>\n<li><code>Math.decrementExact(long)</code></li>\n<li><code>Math.negateExact(long),</code></li>\n<li><code>Math.subtractExact(int, int)</code></li>\n</ul>\n"}],"owner":{"account_id":54976,"reputation":14415,"user_id":164553,"accept_rate":100,"display_name":"Brigham"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":624138,"favorite_count":0,"down_vote_count":0,"up_vote_count":545,"accepted_answer_id":32869210,"answer_count":10,"score":545,"last_activity_date":1671308807,"creation_date":1255983051,"question_id":1590831,"body_markdown":"What&#39;s the most idiomatic way in Java to verify that a cast from `long` to `int` does not lose any information?\r\n\r\nThis is my current implementation:\r\n\r\n    public static int safeLongToInt(long l) {\r\n        int i = (int)l;\r\n        if ((long)i != l) {\r\n            throw new IllegalArgumentException(l + &quot; cannot be cast to int without changing its value.&quot;);\r\n        }\r\n        return i;\r\n    }","title":"Safely casting long to int in Java","body":"<p>What's the most idiomatic way in Java to verify that a cast from <code>long</code> to <code>int</code> does not lose any information?</p>\n\n<p>This is my current implementation:</p>\n\n<pre><code>public static int safeLongToInt(long l) {\n    int i = (int)l;\n    if ((long)i != l) {\n        throw new IllegalArgumentException(l + \" cannot be cast to int without changing its value.\");\n    }\n    return i;\n}\n</code></pre>\n"},{"tags":["java","mongodb","lambda"],"comments":[{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1514299213,"post_id":47979978,"comment_id":82928607,"body_markdown":"What&#39;s unclear in the error message? You can iterate on it. The problem is that there are two different ways (i.e. two different forEach() methods), and the compiler can&#39;t figure out the way you want.","body":"What&#39;s unclear in the error message? You can iterate on it. The problem is that there are two different ways (i.e. two different forEach() methods), and the compiler can&#39;t figure out the way you want."}],"answers":[{"comments":[{"owner":{"account_id":11578983,"reputation":131,"user_id":8483472,"display_name":"Sayed Sadat"},"score":0,"creation_date":1671308470,"post_id":47980036,"comment_id":132073301,"body_markdown":"For me, casting to (Consumer&lt;? super String&gt;) worked instead of (Consumer&lt;String&gt;). Can you explain why?","body":"For me, casting to (Consumer&lt;? super String&gt;) worked instead of (Consumer&lt;String&gt;). Can you explain why?"}],"tags":[],"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1514300792,"creation_date":1514299082,"answer_id":47980036,"question_id":47979978,"body_markdown":"You can help the compiler resolve the ambiguity by casting to `Consumer&lt;String&gt;`\r\n\r\n\r\n    mongoClient.listDatabaseNames()\r\n               .forEach((Consumer&lt;String&gt;) System.out::println);\r\n\r\n","title":"Ambiguous reference to forEach when listing mongoDB&#39;s database in Java","body":"<p>You can help the compiler resolve the ambiguity by casting to <code>Consumer&lt;String&gt;</code></p>\n\n<pre><code>mongoClient.listDatabaseNames()\n           .forEach((Consumer&lt;String&gt;) System.out::println);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":216316,"reputation":8480,"user_id":471481,"accept_rate":100,"display_name":"Andrei Sfat"},"score":1,"creation_date":1514299677,"post_id":47980071,"comment_id":82928783,"body_markdown":"downvoter, please justify your reasoning behind your decision of downvoting. If you consider my answer is not correct, help me out correct my answer if you know better","body":"downvoter, please justify your reasoning behind your decision of downvoting. If you consider my answer is not correct, help me out correct my answer if you know better"},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1514299882,"post_id":47980071,"comment_id":82928856,"body_markdown":"1. you can use a forEach, and don&#39;t need to use a for loop to fix the issue. 2. the forEach() provided by MongoIterable is Java 8 lambda compliant, since it&#39;s a functional interface. If it were not, the compiler would precisely not generate this error message. The fact that it gives this error message shows that System.out::println can be inferred as a Block.","body":"1. you can use a forEach, and don&#39;t need to use a for loop to fix the issue. 2. the forEach() provided by MongoIterable is Java 8 lambda compliant, since it&#39;s a functional interface. If it were not, the compiler would precisely not generate this error message. The fact that it gives this error message shows that System.out::println can be inferred as a Block."},{"owner":{"account_id":216316,"reputation":8480,"user_id":471481,"accept_rate":100,"display_name":"Andrei Sfat"},"score":0,"creation_date":1514300198,"post_id":47980071,"comment_id":82928984,"body_markdown":"appreciate your reply. thanks. will update my answer","body":"appreciate your reply. thanks. will update my answer"},{"owner":{"account_id":216316,"reputation":8480,"user_id":471481,"accept_rate":100,"display_name":"Andrei Sfat"},"score":0,"creation_date":1514300437,"post_id":47980071,"comment_id":82929076,"body_markdown":"@JBNizet, let me know if this seems better or needs adjustments","body":"@JBNizet, let me know if this seems better or needs adjustments"},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1514300583,"post_id":47980071,"comment_id":82929121,"body_markdown":"It&#39;s OK now. Although I would just use Consumer&lt;String&gt;.","body":"It&#39;s OK now. Although I would just use Consumer&lt;String&gt;."},{"owner":{"account_id":1295105,"reputation":1763,"user_id":1246369,"accept_rate":50,"display_name":"Asu"},"score":0,"creation_date":1587681333,"post_id":47980071,"comment_id":108614855,"body_markdown":"The linked issue is now &#39;closed&#39; by deprecating the Block version. However, the compiler is still complaining, so that&#39;s a shoddy way to close an issue...","body":"The linked issue is now &#39;closed&#39; by deprecating the Block version. However, the compiler is still complaining, so that&#39;s a shoddy way to close an issue..."}],"tags":[],"owner":{"account_id":216316,"reputation":8480,"user_id":471481,"accept_rate":100,"display_name":"Andrei Sfat"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1514300701,"creation_date":1514299274,"answer_id":47980071,"question_id":47979978,"body_markdown":"`listDatabaseNames()` exposes to different `forEach` methods. One can receive as argument `Block&lt;? super String&gt; block` and the second one receive `Consumer&lt;? super String&gt; consumer`.\r\nIn order to avoid this ambiguity you will need to cast it to your needs.\r\n\r\n      mongoClient1.listDatabaseNames()\r\n                  .forEach((Block&lt;String&gt;) System.out::println);\r\n\r\n\r\nThere is also an open issue about this [here][1]\r\n\r\n\r\n  [1]: https://jira.mongodb.org/browse/JAVA-2010\r\n\r\n","title":"Ambiguous reference to forEach when listing mongoDB&#39;s database in Java","body":"<p><code>listDatabaseNames()</code> exposes to different <code>forEach</code> methods. One can receive as argument <code>Block&lt;? super String&gt; block</code> and the second one receive <code>Consumer&lt;? super String&gt; consumer</code>.\nIn order to avoid this ambiguity you will need to cast it to your needs.</p>\n\n<pre><code>  mongoClient1.listDatabaseNames()\n              .forEach((Block&lt;String&gt;) System.out::println);\n</code></pre>\n\n<p>There is also an open issue about this <a href=\"https://jira.mongodb.org/browse/JAVA-2010\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":11578983,"reputation":131,"user_id":8483472,"display_name":"Sayed Sadat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671308636,"creation_date":1671308636,"answer_id":74837250,"question_id":47979978,"body_markdown":"This ambiguity can be resolved by casting to `(Consumer&lt;? super String&gt;)`\r\n\r\n    mongoClient.listDatabaseNames()\r\n           .forEach((Consumer&lt;? super String&gt;)  name -&gt; System.out.println(name));","title":"Ambiguous reference to forEach when listing mongoDB&#39;s database in Java","body":"<p>This ambiguity can be resolved by casting to <code>(Consumer&lt;? super String&gt;)</code></p>\n<pre><code>mongoClient.listDatabaseNames()\n       .forEach((Consumer&lt;? super String&gt;)  name -&gt; System.out.println(name));\n</code></pre>\n"}],"owner":{"account_id":5635379,"reputation":3281,"user_id":6822876,"accept_rate":74,"display_name":"Carrein"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3015,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":47980036,"answer_count":3,"score":6,"last_activity_date":1671308636,"creation_date":1514298740,"question_id":47979978,"body_markdown":"I&#39;m following this [guide][1] to try and setup a mongoDB database.\r\n\r\n    mongoClient.listDatabaseNames().forEach(System.out::println);\r\n\r\n`getDatabaseNames()` is deprecated and replaced.\r\n\r\nHowever this line gives the following error:\r\n\r\n    error: reference to forEach is ambiguous\r\n        mongoClient.listDatabaseNames().forEach(System.out::println);\r\n                                       ^\r\n      both method forEach(Consumer&lt;? super T&gt;) in Iterable and method forEach(Block&lt;? super TResult&gt;) in MongoIterable match\r\n      where T,TResult are type-variables:\r\n        T extends Object declared in interface Iterable\r\n        TResult extends Object declared in interface MongoIterable\r\n\r\nThe documentation states that listDatabaseNames() returns a `ListDatabasesIterable`, why can I not iterate through this list?\r\n\r\n  [1]: http://www.baeldung.com/java-mongodb","title":"Ambiguous reference to forEach when listing mongoDB&#39;s database in Java","body":"<p>I'm following this <a href=\"http://www.baeldung.com/java-mongodb\" rel=\"noreferrer\">guide</a> to try and setup a mongoDB database.</p>\n\n<pre><code>mongoClient.listDatabaseNames().forEach(System.out::println);\n</code></pre>\n\n<p><code>getDatabaseNames()</code> is deprecated and replaced.</p>\n\n<p>However this line gives the following error:</p>\n\n<pre><code>error: reference to forEach is ambiguous\n    mongoClient.listDatabaseNames().forEach(System.out::println);\n                                   ^\n  both method forEach(Consumer&lt;? super T&gt;) in Iterable and method forEach(Block&lt;? super TResult&gt;) in MongoIterable match\n  where T,TResult are type-variables:\n    T extends Object declared in interface Iterable\n    TResult extends Object declared in interface MongoIterable\n</code></pre>\n\n<p>The documentation states that listDatabaseNames() returns a <code>ListDatabasesIterable</code>, why can I not iterate through this list?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9423,"page":800,"page_size":100}
