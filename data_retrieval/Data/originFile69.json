{"items":[{"tags":["java","inputstream","apache-commons","outputstream","apache-commons-exec"],"answers":[{"tags":[],"owner":{"account_id":4910153,"reputation":435,"user_id":3955663,"display_name":"MichalVales"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1526663173,"creation_date":1526663173,"answer_id":50416193,"question_id":50398031,"body_markdown":"Okay, I solved this using built-in tools rather than external libraries. I was able to achieve my goal thanks to independant thread which reads `Process`&#39; `InputStream`:\r\n\r\n    ProcessBuilder builder = new ProcessBuilder(command);\r\n\tProcess process = builder.start();\r\n\r\n\tBufferedWriter writer = new BufferedWriter(new OutputStreamWriter(process.getOutputStream()));\r\n\tStreamReader outputReader = new StreamReader(process.getInputStream(), System.out);\r\n\toutputReader.start();\r\n\tStreamReader err = new StreamReader(process.getErrorStream(), System.err);\r\n\terr.start();\r\n\r\n\tfor (int i = 0; i &lt; 3; i++) {\r\n\t    Thread.sleep(5000);\r\n\t    writer.write(internalProcessCommand + &quot;\\n&quot;);\r\n\t    writer.flush();\r\n\t}\r\n\twriter.write(&quot;exit\\n&quot;);\r\n\twriter.flush();\r\n\r\n\twhile (process.isAlive()) {\r\n\t    System.out.println(&quot;alive?&quot;);\r\n\t    Thread.sleep(100);\r\n\t}\r\n\tSystem.out.println(&quot;dead&quot;);\r\n\toutputReader.shutdown();\r\n\terr.shutdown();\r\n\r\nStreamReader:\r\n\r\n    class StreamReader extends Thread {\r\n\r\n        private AtomicBoolean running = new AtomicBoolean(false);\r\n        private InputStream in;\r\n        private OutputStream out;\r\n\r\n        public StreamReader(InputStream in, OutputStream out) {\r\n\t        this.in = in;\r\n\t        this.out = out;\r\n\t        running.set(true);\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n\t        Scanner scanner = new Scanner(in);\r\n\t        PrintWriter writer = new PrintWriter(out, true);\r\n\t        while (running.get()) {\r\n\t            if (scanner.hasNextLine()) {\r\n\t\t            writer.println(scanner.nextLine());\r\n\t            }\r\n\t        }\r\n\t        scanner.close();\r\n        }\r\n\r\n        public void shutdown() {\r\n\t        running.set(false);\r\n        }\r\n\r\n    }","title":"Apache Commons exec PumpStreamHandler continuous input","body":"<p>Okay, I solved this using built-in tools rather than external libraries. I was able to achieve my goal thanks to independant thread which reads <code>Process</code>' <code>InputStream</code>:</p>\n\n<pre><code>ProcessBuilder builder = new ProcessBuilder(command);\nProcess process = builder.start();\n\nBufferedWriter writer = new BufferedWriter(new OutputStreamWriter(process.getOutputStream()));\nStreamReader outputReader = new StreamReader(process.getInputStream(), System.out);\noutputReader.start();\nStreamReader err = new StreamReader(process.getErrorStream(), System.err);\nerr.start();\n\nfor (int i = 0; i &lt; 3; i++) {\n    Thread.sleep(5000);\n    writer.write(internalProcessCommand + \"\\n\");\n    writer.flush();\n}\nwriter.write(\"exit\\n\");\nwriter.flush();\n\nwhile (process.isAlive()) {\n    System.out.println(\"alive?\");\n    Thread.sleep(100);\n}\nSystem.out.println(\"dead\");\noutputReader.shutdown();\nerr.shutdown();\n</code></pre>\n\n<p>StreamReader:</p>\n\n<pre><code>class StreamReader extends Thread {\n\n    private AtomicBoolean running = new AtomicBoolean(false);\n    private InputStream in;\n    private OutputStream out;\n\n    public StreamReader(InputStream in, OutputStream out) {\n        this.in = in;\n        this.out = out;\n        running.set(true);\n    }\n\n    @Override\n    public void run() {\n        Scanner scanner = new Scanner(in);\n        PrintWriter writer = new PrintWriter(out, true);\n        while (running.get()) {\n            if (scanner.hasNextLine()) {\n                writer.println(scanner.nextLine());\n            }\n        }\n        scanner.close();\n    }\n\n    public void shutdown() {\n        running.set(false);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1282599,"reputation":521,"user_id":1777770,"display_name":"champagniac"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699705206,"creation_date":1616701536,"answer_id":66806555,"question_id":50398031,"body_markdown":"A solution is to copy the implementation of [PumpStreamHandler][1]  and [StreamPumper][2], to let say ImmediatePumpStreamHandler and ImmediateStreamPumper, and make the following two changes:\r\n\r\n - Add `os.flush();` directly after `os.write(buf, 0, length);` on line 108 in ImmediateStreamPumper.\r\n - Change `new StreamPumper(...)` to `new ImmediateStreamPumper(...)` on line 269 in ImmediatePumpStreamHandler.\r\n\r\n  [1]: https://commons.apache.org/proper/commons-exec/apidocs/src-html/org/apache/commons/exec/PumpStreamHandler.html\r\n  [2]: https://commons.apache.org/proper/commons-exec/apidocs/src-html/org/apache/commons/exec/StreamPumper.html","title":"Apache Commons exec PumpStreamHandler continuous input","body":"<p>A solution is to copy the implementation of <a href=\"https://commons.apache.org/proper/commons-exec/apidocs/src-html/org/apache/commons/exec/PumpStreamHandler.html\" rel=\"nofollow noreferrer\">PumpStreamHandler</a>  and <a href=\"https://commons.apache.org/proper/commons-exec/apidocs/src-html/org/apache/commons/exec/StreamPumper.html\" rel=\"nofollow noreferrer\">StreamPumper</a>, to let say ImmediatePumpStreamHandler and ImmediateStreamPumper, and make the following two changes:</p>\n<ul>\n<li>Add <code>os.flush();</code> directly after <code>os.write(buf, 0, length);</code> on line 108 in ImmediateStreamPumper.</li>\n<li>Change <code>new StreamPumper(...)</code> to <code>new ImmediateStreamPumper(...)</code> on line 269 in ImmediatePumpStreamHandler.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":82626,"reputation":12122,"user_id":232175,"accept_rate":62,"display_name":"Matthias"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624959445,"creation_date":1624959445,"answer_id":68176156,"question_id":50398031,"body_markdown":"Based on the answer given by @champagniac, I have created a simple fix which introduces additional flushing by only replacing the `PumpStreamHandler`:\r\n\r\n    public class PumpStreamHandlerFixed extends PumpStreamHandler\r\n    {\r\n      public PumpStreamHandlerFixed()\r\n      {\r\n        super();\r\n      }\r\n    \r\n      public PumpStreamHandlerFixed(OutputStream out, OutputStream err, InputStream input)\r\n      {\r\n        super(out, err, input);\r\n      }\r\n    \r\n      public PumpStreamHandlerFixed(OutputStream out, OutputStream err)\r\n      {\r\n        super(out, err);\r\n      }\r\n    \r\n      public PumpStreamHandlerFixed(OutputStream outAndErr)\r\n      {\r\n        super(outAndErr);\r\n      }\r\n    \r\n      @Override\r\n      protected Thread createPump(InputStream is, OutputStream os, boolean closeWhenExhausted)\r\n      {\r\n        os = new AutoFlushingOutputStream(os);\r\n    \r\n        final Thread result = new Thread(new StreamPumper(is, os, closeWhenExhausted), &quot;Exec Stream Pumper&quot;);\r\n        result.setDaemon(true);\r\n        return result;\r\n      }\r\n    }\r\n    \r\n    class AutoFlushingOutputStream extends OutputStream\r\n    {\r\n      private final OutputStream decorated;\r\n    \r\n      public AutoFlushingOutputStream(OutputStream decorated)\r\n      {\r\n        this.decorated = decorated;\r\n      }\r\n    \r\n      @Override\r\n      public void write(byte[] b, int off, int len) throws IOException\r\n      {\r\n        this.decorated.write(b, off, len);\r\n        this.decorated.flush();\r\n      }\r\n    \r\n      @Override\r\n      public void write(int b) throws IOException\r\n      {\r\n        this.decorated.write(b);\r\n        this.decorated.flush();\r\n      }\r\n    \r\n      @Override\r\n      public void close() throws IOException\r\n      {\r\n        this.decorated.close();\r\n      }\r\n    \r\n      @Override\r\n      public void flush() throws IOException\r\n      {\r\n        this.decorated.flush();\r\n      }\r\n    }\r\n\r\n","title":"Apache Commons exec PumpStreamHandler continuous input","body":"<p>Based on the answer given by @champagniac, I have created a simple fix which introduces additional flushing by only replacing the <code>PumpStreamHandler</code>:</p>\n<pre><code>public class PumpStreamHandlerFixed extends PumpStreamHandler\n{\n  public PumpStreamHandlerFixed()\n  {\n    super();\n  }\n\n  public PumpStreamHandlerFixed(OutputStream out, OutputStream err, InputStream input)\n  {\n    super(out, err, input);\n  }\n\n  public PumpStreamHandlerFixed(OutputStream out, OutputStream err)\n  {\n    super(out, err);\n  }\n\n  public PumpStreamHandlerFixed(OutputStream outAndErr)\n  {\n    super(outAndErr);\n  }\n\n  @Override\n  protected Thread createPump(InputStream is, OutputStream os, boolean closeWhenExhausted)\n  {\n    os = new AutoFlushingOutputStream(os);\n\n    final Thread result = new Thread(new StreamPumper(is, os, closeWhenExhausted), &quot;Exec Stream Pumper&quot;);\n    result.setDaemon(true);\n    return result;\n  }\n}\n\nclass AutoFlushingOutputStream extends OutputStream\n{\n  private final OutputStream decorated;\n\n  public AutoFlushingOutputStream(OutputStream decorated)\n  {\n    this.decorated = decorated;\n  }\n\n  @Override\n  public void write(byte[] b, int off, int len) throws IOException\n  {\n    this.decorated.write(b, off, len);\n    this.decorated.flush();\n  }\n\n  @Override\n  public void write(int b) throws IOException\n  {\n    this.decorated.write(b);\n    this.decorated.flush();\n  }\n\n  @Override\n  public void close() throws IOException\n  {\n    this.decorated.close();\n  }\n\n  @Override\n  public void flush() throws IOException\n  {\n    this.decorated.flush();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":4910153,"reputation":435,"user_id":3955663,"display_name":"MichalVales"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1185,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":50416193,"answer_count":3,"score":3,"last_activity_date":1699705206,"creation_date":1526580850,"question_id":50398031,"body_markdown":"I am trying to solve interaction with command line process using Apache Commons exec. I&#39;m stuck with following code:\r\n\r\n    ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n\tByteArrayOutputStream ins = new ByteArrayOutputStream();\r\n\tOutputStreamWriter ow = new OutputStreamWriter(ins);\r\n\tBufferedWriter writer = new BufferedWriter(ow);\r\n\tByteArrayInputStream in = new ByteArrayInputStream(ins.toByteArray());\r\n    PumpStreamHandler psh = new PumpStreamHandler(out, null, in);\r\n\tCommandLine cl = CommandLine.parse(initProcess);\r\n\tDefaultExecutor exec = new DefaultExecutor();\r\n\tDefaultExecuteResultHandler resultHandler = new DefaultExecuteResultHandler();\r\n\texec.setStreamHandler(psh);\r\n\ttry {\r\n\t    exec.execute(cl, resultHandler);\r\n\t    int i = 0;\r\n\t    while (true) {\r\n\t\t    String o = out.toString();\r\n\t\t    if (!o.trim().isEmpty()) {\r\n\t\t        System.out.println(o);\r\n\t\t        out.reset();\r\n\t\t    }\r\n            // --- PROBLEM start ---\r\n\t\t    if (i == 3) {\r\n\t\t        writer.write(internalProcessCommand); \r\n                // string with or without trailing \\n, both tested\r\n\t\t        writer.flush();\r\n\t\t        writer.close();\r\n                // tested even ins.write(internalProcessCommand.getBytes())\r\n\t\t    }\r\n            // --- PROBLEM end ---\r\n\t\t    Thread.sleep(3000);\r\n\t\t    i++;\r\n\t    }\r\n\t} catch (ExecuteException e) {\r\n\t    System.err.println(e.getMessage());\r\n\t}\r\n\r\nI hope my code is clear. I continuously read `out` and print it after 3 seconds while clearing stream. Problem is input to `in` passed to `PumpStreamHandler`. I need to pass process commands from code itself, continuously and dynamically as if I was interacting with process through CLI. When I simply use `System.in` as `PumpStreamHandler` argument, I can write process commands from console fine. How can I manage to have same result passing strings from code?\r\n\r\n**Edit:** \r\nI also tried to connect `PipedInputStream` receiving data from `PipedOutputStream`, but it seems that data can be read only after closing `PipedOutputStream` which makes it un-reusable thus I can&#39;t achieve interactivity.\r\n\r\n**Edit 2:**\r\nSolved myself. Solution in answer below. Howgh. :-)","title":"Apache Commons exec PumpStreamHandler continuous input","body":"<p>I am trying to solve interaction with command line process using Apache Commons exec. I'm stuck with following code:</p>\n\n<pre><code>ByteArrayOutputStream out = new ByteArrayOutputStream();\nByteArrayOutputStream ins = new ByteArrayOutputStream();\nOutputStreamWriter ow = new OutputStreamWriter(ins);\nBufferedWriter writer = new BufferedWriter(ow);\nByteArrayInputStream in = new ByteArrayInputStream(ins.toByteArray());\nPumpStreamHandler psh = new PumpStreamHandler(out, null, in);\nCommandLine cl = CommandLine.parse(initProcess);\nDefaultExecutor exec = new DefaultExecutor();\nDefaultExecuteResultHandler resultHandler = new DefaultExecuteResultHandler();\nexec.setStreamHandler(psh);\ntry {\n    exec.execute(cl, resultHandler);\n    int i = 0;\n    while (true) {\n        String o = out.toString();\n        if (!o.trim().isEmpty()) {\n            System.out.println(o);\n            out.reset();\n        }\n        // --- PROBLEM start ---\n        if (i == 3) {\n            writer.write(internalProcessCommand); \n            // string with or without trailing \\n, both tested\n            writer.flush();\n            writer.close();\n            // tested even ins.write(internalProcessCommand.getBytes())\n        }\n        // --- PROBLEM end ---\n        Thread.sleep(3000);\n        i++;\n    }\n} catch (ExecuteException e) {\n    System.err.println(e.getMessage());\n}\n</code></pre>\n\n<p>I hope my code is clear. I continuously read <code>out</code> and print it after 3 seconds while clearing stream. Problem is input to <code>in</code> passed to <code>PumpStreamHandler</code>. I need to pass process commands from code itself, continuously and dynamically as if I was interacting with process through CLI. When I simply use <code>System.in</code> as <code>PumpStreamHandler</code> argument, I can write process commands from console fine. How can I manage to have same result passing strings from code?</p>\n\n<p><strong>Edit:</strong> \nI also tried to connect <code>PipedInputStream</code> receiving data from <code>PipedOutputStream</code>, but it seems that data can be read only after closing <code>PipedOutputStream</code> which makes it un-reusable thus I can't achieve interactivity.</p>\n\n<p><strong>Edit 2:</strong>\nSolved myself. Solution in answer below. Howgh. :-)</p>\n"},{"tags":["java","sql","persistence","persistence.xml"],"comments":[{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":1,"creation_date":1369728914,"post_id":16786587,"comment_id":24189882,"body_markdown":"Your psql command tells nothing about &quot;mydb&quot; - it just connects to the default DB. Try to connect to mydb or see if it&#39;s there (I suppose that was &quot;\\l&quot;, have no Postgresql here)","body":"Your psql command tells nothing about &quot;mydb&quot; - it just connects to the default DB. Try to connect to mydb or see if it&#39;s there (I suppose that was &quot;\\l&quot;, have no Postgresql here)"},{"owner":{"account_id":1798222,"reputation":319,"user_id":1637142,"display_name":"Hassan Shahid"},"score":0,"creation_date":1371593157,"post_id":16786587,"comment_id":24877187,"body_markdown":"Your persistence.xml file suggests the database it should be connecting to is called magick, but your STDERR suggests it&#39;s trying to connect to a database called mydb.  Unless you purposely changed that in the copy/paste, it doesn&#39;t seem like it&#39;s even using that configuration.","body":"Your persistence.xml file suggests the database it should be connecting to is called magick, but your STDERR suggests it&#39;s trying to connect to a database called mydb.  Unless you purposely changed that in the copy/paste, it doesn&#39;t seem like it&#39;s even using that configuration."}],"answers":[{"tags":[],"owner":{"account_id":1317232,"reputation":3875,"user_id":1263837,"accept_rate":11,"display_name":"Kundan Atre"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1388060282,"creation_date":1388060282,"answer_id":20784703,"question_id":16786587,"body_markdown":"In my case it was because of wrong username and password given. ","title":"PSQLException: FATAL: database &quot;mydb&quot; does not exist","body":"<p>In my case it was because of wrong username and password given. </p>\n"}],"owner":{"account_id":412334,"reputation":33756,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8166,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1699704095,"creation_date":1369727273,"question_id":16786587,"body_markdown":"I&#39;m having a weird problem with my app trying to connect to PostgreSQL with Jdbc driver version: 8.4-702.jdbc4\r\n\r\nIt seems it can&#39;t find the DB defined in the persistence.xml where it&#39;s there.\r\n\r\n**Error:**\r\n\r\n    [INFO] Caused by: org.postgresql.util.PSQLException: FATAL: database &quot;mydb&quot; does not exist\r\n    [INFO] \tat org.postgresql.core.v3.ConnectionFactoryImpl.readStartupMessages(ConnectionFactoryImpl.java:464)\r\n    [INFO] \tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:112)\r\n    [INFO] \tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:66)\r\n    [INFO] \tat org.postgresql.jdbc2.AbstractJdbc2Connection.&lt;init&gt;(AbstractJdbc2Connection.java:125)\r\n    [INFO] \tat org.postgresql.jdbc3.AbstractJdbc3Connection.&lt;init&gt;(AbstractJdbc3Connection.java:30)\r\n    [INFO] \tat org.postgresql.jdbc3g.AbstractJdbc3gConnection.&lt;init&gt;(AbstractJdbc3gConnection.java:22)\r\n    [INFO] \tat org.postgresql.jdbc4.AbstractJdbc4Connection.&lt;init&gt;(AbstractJdbc4Connection.java:30)\r\n    [INFO] \tat org.postgresql.jdbc4.Jdbc4Connection.&lt;init&gt;(Jdbc4Connection.java:24)\r\n    [INFO] \tat org.postgresql.Driver.makeConnection(Driver.java:393)\r\n    [INFO] \tat org.postgresql.Driver.connect(Driver.java:267)\r\n    [INFO] \tat java.sql.DriverManager.getConnection(DriverManager.java:579)\r\n    [INFO] \tat java.sql.DriverManager.getConnection(DriverManager.java:221)\r\n    [INFO] \tat org.postgresql.ds.common.BaseDataSource.getConnection(BaseDataSource.java:89)\r\n    [INFO] \tat org.postgresql.ds.common.BaseDataSource.getConnection(BaseDataSource.java:72)\r\n    [INFO] \tat org.apache.shiro.realm.jdbc.JdbcRealm.doGetAuthenticationInfo(JdbcRealm.java:215\r\n\r\nHowever I can do this w/o problems in the shell:\r\n\r\n    $ psql -U postgres -h 192.168.145.128\r\n\r\n**persistence.xml**\r\n\r\n      &lt;properties&gt;\r\n         &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\r\n\t     &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:postgresql://192.168.145.128:5432/mydb&quot; /&gt;\r\n\t     &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.postgresql.Driver&quot; /&gt;\r\n \t     &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;postgres&quot; /&gt; \r\n \t     &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;postgres&quot; /&gt; \r\n      &lt;/properties&gt;\r\n\r\nWhat could be the problem? ","title":"PSQLException: FATAL: database &quot;mydb&quot; does not exist","body":"<p>I'm having a weird problem with my app trying to connect to PostgreSQL with Jdbc driver version: 8.4-702.jdbc4</p>\n\n<p>It seems it can't find the DB defined in the persistence.xml where it's there.</p>\n\n<p><strong>Error:</strong></p>\n\n<pre><code>[INFO] Caused by: org.postgresql.util.PSQLException: FATAL: database \"mydb\" does not exist\n[INFO]  at org.postgresql.core.v3.ConnectionFactoryImpl.readStartupMessages(ConnectionFactoryImpl.java:464)\n[INFO]  at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:112)\n[INFO]  at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:66)\n[INFO]  at org.postgresql.jdbc2.AbstractJdbc2Connection.&lt;init&gt;(AbstractJdbc2Connection.java:125)\n[INFO]  at org.postgresql.jdbc3.AbstractJdbc3Connection.&lt;init&gt;(AbstractJdbc3Connection.java:30)\n[INFO]  at org.postgresql.jdbc3g.AbstractJdbc3gConnection.&lt;init&gt;(AbstractJdbc3gConnection.java:22)\n[INFO]  at org.postgresql.jdbc4.AbstractJdbc4Connection.&lt;init&gt;(AbstractJdbc4Connection.java:30)\n[INFO]  at org.postgresql.jdbc4.Jdbc4Connection.&lt;init&gt;(Jdbc4Connection.java:24)\n[INFO]  at org.postgresql.Driver.makeConnection(Driver.java:393)\n[INFO]  at org.postgresql.Driver.connect(Driver.java:267)\n[INFO]  at java.sql.DriverManager.getConnection(DriverManager.java:579)\n[INFO]  at java.sql.DriverManager.getConnection(DriverManager.java:221)\n[INFO]  at org.postgresql.ds.common.BaseDataSource.getConnection(BaseDataSource.java:89)\n[INFO]  at org.postgresql.ds.common.BaseDataSource.getConnection(BaseDataSource.java:72)\n[INFO]  at org.apache.shiro.realm.jdbc.JdbcRealm.doGetAuthenticationInfo(JdbcRealm.java:215\n</code></pre>\n\n<p>However I can do this w/o problems in the shell:</p>\n\n<pre><code>$ psql -U postgres -h 192.168.145.128\n</code></pre>\n\n<p><strong>persistence.xml</strong></p>\n\n<pre><code>  &lt;properties&gt;\n     &lt;property name=\"hibernate.hbm2ddl.auto\" value=\"update\"/&gt;\n     &lt;property name=\"javax.persistence.jdbc.url\" value=\"jdbc:postgresql://192.168.145.128:5432/mydb\" /&gt;\n     &lt;property name=\"javax.persistence.jdbc.driver\" value=\"org.postgresql.Driver\" /&gt;\n     &lt;property name=\"javax.persistence.jdbc.user\" value=\"postgres\" /&gt; \n     &lt;property name=\"javax.persistence.jdbc.password\" value=\"postgres\" /&gt; \n  &lt;/properties&gt;\n</code></pre>\n\n<p>What could be the problem? </p>\n"},{"tags":["java","selenium","screenshot","testng"],"answers":[{"comments":[{"owner":{"account_id":1584933,"reputation":121,"user_id":1469519,"accept_rate":0,"display_name":"Vlad"},"score":0,"creation_date":1394816437,"post_id":11131419,"comment_id":34075830,"body_markdown":"Hi Satish, thank you for your answer but I guess I was asking a different question. I modified my original comment to clarify my problem.","body":"Hi Satish, thank you for your answer but I guess I was asking a different question. I modified my original comment to clarify my problem."}],"tags":[],"owner":{"account_id":1533549,"reputation":226,"user_id":1430147,"accept_rate":71,"display_name":"satish john"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1340252316,"creation_date":1340252316,"answer_id":11131419,"question_id":11122261,"body_markdown":"I have also implemented the same extending Testng TestListenerAdapter. By capturing the screenshot then attach it to the Testng Report with the image of size height=100 and width=100 with onTestFailure. Please see below if this helps solve your problem\r\n\r\n\t\tFile scrFile = ((TakesScreenshot) WebdriverManager.globalDriverInstance).getScreenshotAs(OutputType.FILE);\r\n\t      //Needs Commons IO library\r\n\t      try {\r\n\t\t\tFileUtils.copyFile(scrFile, new File(file.getAbsolutePath()+ &quot;/selenium-reports/html/&quot; + result.getName() + &quot;.jpg&quot;));\r\n\t\t\tReporter.log(&quot;&lt;a href=&#39;&quot;+ file.getAbsolutePath()+&quot;/selenium-reports/html/&quot; + result.getName() + &quot;.jpg&#39;&gt; &lt;img src=&#39;&quot;+ file.getAbsolutePath()+&quot;/selenium-reports/html/&quot;+ result.getName() + &quot;.jpg&#39; height=&#39;100&#39; width=&#39;100&#39;/&gt; &lt;/a&gt;&quot;);\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tReporter.setCurrentTestResult(null);","title":"Attaching screenshots to TestNG Failed methods results","body":"<p>I have also implemented the same extending Testng TestListenerAdapter. By capturing the screenshot then attach it to the Testng Report with the image of size height=100 and width=100 with onTestFailure. Please see below if this helps solve your problem</p>\n\n<pre><code>    File scrFile = ((TakesScreenshot) WebdriverManager.globalDriverInstance).getScreenshotAs(OutputType.FILE);\n      //Needs Commons IO library\n      try {\n        FileUtils.copyFile(scrFile, new File(file.getAbsolutePath()+ \"/selenium-reports/html/\" + result.getName() + \".jpg\"));\n        Reporter.log(\"&lt;a href='\"+ file.getAbsolutePath()+\"/selenium-reports/html/\" + result.getName() + \".jpg'&gt; &lt;img src='\"+ file.getAbsolutePath()+\"/selenium-reports/html/\"+ result.getName() + \".jpg' height='100' width='100'/&gt; &lt;/a&gt;\");\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    Reporter.setCurrentTestResult(null);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1584933,"reputation":121,"user_id":1469519,"accept_rate":0,"display_name":"Vlad"},"score":0,"creation_date":1394816576,"post_id":16574765,"comment_id":34075926,"body_markdown":"Thanks for response Kamal. I modified my question with more details and screenshot to illustrate my problem.","body":"Thanks for response Kamal. I modified my question with more details and screenshot to illustrate my problem."}],"tags":[],"owner":{"account_id":2432062,"reputation":1,"user_id":2387423,"display_name":"Kamal Chhajed"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1368651125,"creation_date":1368651125,"answer_id":16574765,"question_id":11122261,"body_markdown":"In addition to above don&#39;t forget to add following lines to your testng suite xml\r\n\r\n    &lt;listeners&gt;\r\n    \t&lt;listener class-name=&quot;com.tests.DotTestListener&quot; /&gt;\r\n    &lt;/listeners&gt;\r\n\r\n**OR** \r\n\r\npassing as listner parameter if you are executing it from command line\r\n\r\n    java -classpath testng.jar;%CLASSPATH% org.testng.TestNG -listener com.tests.DotTestListener test\\testng.xml\r\n\r\nReference : http://testng.org/doc/documentation-main.html#logging-listeners","title":"Attaching screenshots to TestNG Failed methods results","body":"<p>In addition to above don't forget to add following lines to your testng suite xml</p>\n\n<pre><code>&lt;listeners&gt;\n    &lt;listener class-name=\"com.tests.DotTestListener\" /&gt;\n&lt;/listeners&gt;\n</code></pre>\n\n<p><strong>OR</strong> </p>\n\n<p>passing as listner parameter if you are executing it from command line</p>\n\n<pre><code>java -classpath testng.jar;%CLASSPATH% org.testng.TestNG -listener com.tests.DotTestListener test\\testng.xml\n</code></pre>\n\n<p>Reference : <a href=\"http://testng.org/doc/documentation-main.html#logging-listeners\" rel=\"nofollow\">http://testng.org/doc/documentation-main.html#logging-listeners</a></p>\n"},{"tags":[],"owner":{"account_id":3819061,"reputation":1,"user_id":3167606,"display_name":"Vinh Trang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397612809,"creation_date":1397612809,"answer_id":23097558,"question_id":11122261,"body_markdown":"I&#39;ve had same problem but it solved. By implementing SuitePanel you will be able to add screenshot as you want\r\nhttps://github.com/cbeust/testng/blob/master/src/main/java/org/testng/reporters/jq/SuitePanel.java\r\n\r\nI almost don&#39;t change the original code except \r\n\r\n\r\n\t... \r\n\t// Description?\r\n    String description = tr.getMethod().getDescription();\r\n    if (! Strings.isNullOrEmpty(description)) {\r\n        xsb.push(&quot;em&quot;);\r\n        xsb.addString(&quot;(&quot; + description + &quot;)&quot;);\r\n        xsb.pop(&quot;em&quot;);\r\n    }\r\n\t// Add screen shot here\r\n\txsb.push(“img”,”src”,imagePath);\r\n\txsb.pop(“img”);\r\n\r\n    xsb.pop(D);\r\n    xsb.pop(D);\r\n","title":"Attaching screenshots to TestNG Failed methods results","body":"<p>I've had same problem but it solved. By implementing SuitePanel you will be able to add screenshot as you want\n<a href=\"https://github.com/cbeust/testng/blob/master/src/main/java/org/testng/reporters/jq/SuitePanel.java\" rel=\"nofollow\">https://github.com/cbeust/testng/blob/master/src/main/java/org/testng/reporters/jq/SuitePanel.java</a></p>\n\n<p>I almost don't change the original code except </p>\n\n<pre><code>... \n// Description?\nString description = tr.getMethod().getDescription();\nif (! Strings.isNullOrEmpty(description)) {\n    xsb.push(\"em\");\n    xsb.addString(\"(\" + description + \")\");\n    xsb.pop(\"em\");\n}\n// Add screen shot here\nxsb.push(“img”,”src”,imagePath);\nxsb.pop(“img”);\n\nxsb.pop(D);\nxsb.pop(D);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2050353,"reputation":4625,"user_id":1829500,"accept_rate":57,"display_name":"Mrunal Gosar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466402655,"creation_date":1466402655,"answer_id":37915513,"question_id":11122261,"body_markdown":"If you want to show the screen shot on the failed method then you will have to capture the exception and modify its message content and add img html to that and then it will appear. Let me know if you need example","title":"Attaching screenshots to TestNG Failed methods results","body":"<p>If you want to show the screen shot on the failed method then you will have to capture the exception and modify its message content and add img html to that and then it will appear. Let me know if you need example</p>\n"},{"tags":[],"owner":{"account_id":2300729,"reputation":71,"user_id":2021076,"accept_rate":60,"display_name":"AnkitSingh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504855886,"creation_date":1504855577,"answer_id":46110919,"question_id":11122261,"body_markdown":"I had same issue but its fixed now. I made a method to catcher screenshot in base class. this method return full path of screenshot. \r\n\r\n    public String getScreenshot (String screenshotName, WebDriver driver) throws IOException{\r\n\t\tDateFormat dateformate = new SimpleDateFormat(&quot;dd-mm-yy-hh-mm-ss&quot;);\r\n\t\tDate date = new Date();\r\n\t\tString currentdate = dateformate.format(date);\r\n\t\tString imageName =screenshotName+currentdate;\r\n\t\tTakesScreenshot ts=(TakesScreenshot)driver;\r\n\t\tFile source=ts.getScreenshotAs(OutputType.FILE);\r\n\t\tString location =System.getProperty(&quot;user.dir&quot;)+&quot;\\\\testOutput\\\\screenshot\\\\&quot;+imageName+&quot;.png&quot;;\r\n\t\tFile screenshotLocation =new File (location);\r\n\t\tFileUtils.copyFile(source, screenshotLocation);\r\n\t\treturn location;\r\n\r\n\t}\r\n\r\nAdd use this path to add screenshot in testng report as well as report log by updating testng TestNgListener- \r\n\r\n    public void onTestFailure(ITestResult arg0) {\r\n\t\tObject currentClass = arg0.getInstance();\r\n\t\tWebDriver driver = ((BrowserSetup) currentClass).getDriver();\r\n\t\tString name = arg0.getName();\r\n\t\tSystem.out.println(name);\r\n\t\ttry {\r\n\t\t\tString screenshotPath =getScreenshot(name, driver);\r\n\t\t\tSystem.out.println(&quot;Screenshot taken&quot;);\r\n\t\t\tString path = &quot;&lt;img src=\\&quot;file://&quot; + screenshotPath + &quot;\\&quot; alt=\\&quot;\\&quot;/&gt;&quot;;\r\n\t\t\tSystem.out.println(screenshotPath+&quot; and path - &quot;+path);\r\n\t\t\tReporter.log(&quot;Capcher screenshot path is &quot;+path);\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(&quot;Exception while takescreenshot &quot;+e.getMessage());\r\n\t\t}\r\n\t\tprintTestResults(arg0);\r\n\r\n\t}\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DWTjG.png","title":"Attaching screenshots to TestNG Failed methods results","body":"<p>I had same issue but its fixed now. I made a method to catcher screenshot in base class. this method return full path of screenshot. </p>\n\n<pre><code>public String getScreenshot (String screenshotName, WebDriver driver) throws IOException{\n    DateFormat dateformate = new SimpleDateFormat(\"dd-mm-yy-hh-mm-ss\");\n    Date date = new Date();\n    String currentdate = dateformate.format(date);\n    String imageName =screenshotName+currentdate;\n    TakesScreenshot ts=(TakesScreenshot)driver;\n    File source=ts.getScreenshotAs(OutputType.FILE);\n    String location =System.getProperty(\"user.dir\")+\"\\\\testOutput\\\\screenshot\\\\\"+imageName+\".png\";\n    File screenshotLocation =new File (location);\n    FileUtils.copyFile(source, screenshotLocation);\n    return location;\n\n}\n</code></pre>\n\n<p>Add use this path to add screenshot in testng report as well as report log by updating testng TestNgListener- </p>\n\n<pre><code>public void onTestFailure(ITestResult arg0) {\n    Object currentClass = arg0.getInstance();\n    WebDriver driver = ((BrowserSetup) currentClass).getDriver();\n    String name = arg0.getName();\n    System.out.println(name);\n    try {\n        String screenshotPath =getScreenshot(name, driver);\n        System.out.println(\"Screenshot taken\");\n        String path = \"&lt;img src=\\\"file://\" + screenshotPath + \"\\\" alt=\\\"\\\"/&gt;\";\n        System.out.println(screenshotPath+\" and path - \"+path);\n        Reporter.log(\"Capcher screenshot path is \"+path);\n    } catch (Exception e) {\n        System.out.println(\"Exception while takescreenshot \"+e.getMessage());\n    }\n    printTestResults(arg0);\n\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/DWTjG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DWTjG.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":5006535,"reputation":1029,"user_id":4024038,"accept_rate":83,"display_name":"Nael Marwan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520835858,"creation_date":1520835858,"answer_id":49229227,"question_id":11122261,"body_markdown":"I suggest you to use ReportNG instead of the primitive TestNG reports.","title":"Attaching screenshots to TestNG Failed methods results","body":"<p>I suggest you to use ReportNG instead of the primitive TestNG reports.</p>\n"},{"tags":[],"owner":{"account_id":8986403,"reputation":292,"user_id":6699861,"display_name":"Serhii Matvienko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578836158,"creation_date":1578836158,"answer_id":59704346,"question_id":11122261,"body_markdown":"\r\nIf the problem only with getting screenshots, you can try to get it like this:\r\n\r\n\r\n    private static byte[] GetCropImg(IWebDriver targetChrome, IWebElement targetElement)\r\n            {\r\n                var screenshot = ((ITakesScreenshot)targetChrome).GetScreenshot();\r\n                var location = targetElement.Location;\r\n                using (MemoryStream stream = new MemoryStream(screenshot.AsByteArray))\r\n                {\r\n                    var rect = new Rectangle(location.X, location.Y, targetElement.Size.Width, targetElement.Size.Height);\r\n                    using (Bitmap bmpImage = new Bitmap(stream))\r\n                    {\r\n                        using (Bitmap cropedImag = bmpImage.Clone(rect, bmpImage.PixelFormat))\r\n                        {\r\n                            using (MemoryStream ms = new MemoryStream())\r\n                            {\r\n                                cropedImag.Save(ms, ImageFormat.Jpeg);\r\n                                \r\n                                byte[] byteImage = ms.ToArray();\r\n                                return byteImage;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\nand then you can save file or save sting64\r\n\r\n    var imgString64 = Convert.ToBase64String(byteImage); //Get Base64\r\n\r\nPS: on JAVA it should be almost the same)","title":"Attaching screenshots to TestNG Failed methods results","body":"<p>If the problem only with getting screenshots, you can try to get it like this:</p>\n\n<pre><code>private static byte[] GetCropImg(IWebDriver targetChrome, IWebElement targetElement)\n        {\n            var screenshot = ((ITakesScreenshot)targetChrome).GetScreenshot();\n            var location = targetElement.Location;\n            using (MemoryStream stream = new MemoryStream(screenshot.AsByteArray))\n            {\n                var rect = new Rectangle(location.X, location.Y, targetElement.Size.Width, targetElement.Size.Height);\n                using (Bitmap bmpImage = new Bitmap(stream))\n                {\n                    using (Bitmap cropedImag = bmpImage.Clone(rect, bmpImage.PixelFormat))\n                    {\n                        using (MemoryStream ms = new MemoryStream())\n                        {\n                            cropedImag.Save(ms, ImageFormat.Jpeg);\n\n                            byte[] byteImage = ms.ToArray();\n                            return byteImage;\n                        }\n                    }\n                }\n            }\n        }\n</code></pre>\n\n<p>and then you can save file or save sting64</p>\n\n<pre><code>var imgString64 = Convert.ToBase64String(byteImage); //Get Base64\n</code></pre>\n\n<p>PS: on JAVA it should be almost the same)</p>\n"},{"tags":[],"owner":{"account_id":8037196,"reputation":958,"user_id":6059967,"display_name":"Justin Lambert"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592482438,"creation_date":1592482438,"answer_id":62449730,"question_id":11122261,"body_markdown":"[![enter image description here][1]][1]you can get failed test cases screen shots with name of failed test class by using @After method.\r\nUse below code segment\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/n0OJy.png\r\n  [2]: https://i.stack.imgur.com/HlRTq.png","title":"Attaching screenshots to TestNG Failed methods results","body":"<p><a href=\"https://i.stack.imgur.com/n0OJy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n0OJy.png\" alt=\"enter image description here\"></a>you can get failed test cases screen shots with name of failed test class by using @After method.\nUse below code segment\n<a href=\"https://i.stack.imgur.com/HlRTq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HlRTq.png\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":1584933,"reputation":121,"user_id":1469519,"accept_rate":0,"display_name":"Vlad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14192,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":8,"score":7,"last_activity_date":1699704095,"creation_date":1340204025,"question_id":11122261,"body_markdown":"I am looking for a way to attach a screenshot to Results section of TestNG Report for the failed methods.\r\n\r\nSo far I was able to attache my screenshots to Reporter Output by implementing this:\r\n\r\n   `Reporter.log(&quot;&lt;br&gt; &lt;img src=.\\\\screenshots\\\\&quot; + fileName  + &quot; /&gt; &lt;br&gt;&quot;);` \r\n\r\nbut still struggling with adding them to Test Results section of failed methods.\r\n\r\nI was able to implement Listener and intercept onTestFailure actions which was originally suggested here: \r\nhttps://stackoverflow.com/questions/8939337/how-can-i-include-a-failure-screenshot-to-the-testng-report\r\n\r\nHere is an example of that:\r\n\r\n    \t@Override\r\n    public void onTestFailure(ITestResult result) { \r\n\t\tReporter.setCurrentTestResult(result); \r\n\t\tReporter.log(&quot;&lt;br&gt; &lt;img src=.\\\\screenshots\\\\Untitled.png /&gt; &lt;br&gt;&quot;);\r\n\t\tReporter.setCurrentTestResult(null); \r\n\t}\r\n\r\nBut Reporter.log function still pushes my information in the Reporter output log but not in the Results-&gt;Failed methods-&gt;Failed method log.\r\n\r\nUpdate (03/14/14): I&#39;ve attached screenshot to clarify my question. The problem is not in capturing screenshot and attaching it to Report. That part works fine. The problem is that screenshot is attached to Test Output part of the report but I want to see it in Results -&gt; Failed Methods.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/66mhp.jpg","title":"Attaching screenshots to TestNG Failed methods results","body":"<p>I am looking for a way to attach a screenshot to Results section of TestNG Report for the failed methods.</p>\n\n<p>So far I was able to attache my screenshots to Reporter Output by implementing this:</p>\n\n<p><code>Reporter.log(\"&lt;br&gt; &lt;img src=.\\\\screenshots\\\\\" + fileName  + \" /&gt; &lt;br&gt;\");</code> </p>\n\n<p>but still struggling with adding them to Test Results section of failed methods.</p>\n\n<p>I was able to implement Listener and intercept onTestFailure actions which was originally suggested here: \n<a href=\"https://stackoverflow.com/questions/8939337/how-can-i-include-a-failure-screenshot-to-the-testng-report\">How can I include a failure screenshot to the testNG report</a></p>\n\n<p>Here is an example of that:</p>\n\n<pre><code>    @Override\npublic void onTestFailure(ITestResult result) { \n    Reporter.setCurrentTestResult(result); \n    Reporter.log(\"&lt;br&gt; &lt;img src=.\\\\screenshots\\\\Untitled.png /&gt; &lt;br&gt;\");\n    Reporter.setCurrentTestResult(null); \n}\n</code></pre>\n\n<p>But Reporter.log function still pushes my information in the Reporter output log but not in the Results->Failed methods->Failed method log.</p>\n\n<p>Update (03/14/14): I've attached screenshot to clarify my question. The problem is not in capturing screenshot and attaching it to Report. That part works fine. The problem is that screenshot is attached to Test Output part of the report but I want to see it in Results -> Failed Methods.</p>\n\n<p><img src=\"https://i.stack.imgur.com/66mhp.jpg\" alt=\"enter image description here\"></p>\n"},{"tags":["java","unit-testing","junit","mocking","mockito"],"comments":[{"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"score":4,"creation_date":1694965390,"post_id":77122530,"comment_id":135957796,"body_markdown":"Why do you want to mock the list in the first place? Why not use a real one, like an `ArrayList`?","body":"Why do you want to mock the list in the first place? Why not use a real one, like an <code>ArrayList</code>?"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1694965665,"post_id":77122530,"comment_id":135957822,"body_markdown":"@ndc85430 this is a question/problem often encountered by newcomers. Somehow we ended up with the notion of &quot;only a single class&quot; and &quot;everyhing must be mocked&quot;. It is completely confusing and non-transparent why the list is not empty, but still doesn&#39;t sum its elements. Why can&#39;t Mockito read our minds?","body":"@ndc85430 this is a question/problem often encountered by newcomers. Somehow we ended up with the notion of &quot;only a single class&quot; and &quot;everyhing must be mocked&quot;. It is completely confusing and non-transparent why the list is not empty, but still doesn&#39;t sum its elements. Why can&#39;t Mockito read our minds?"},{"owner":{"account_id":3597514,"reputation":117173,"user_id":3001761,"display_name":"jonrsharpe"},"score":1,"creation_date":1694965750,"post_id":77122530,"comment_id":135957834,"body_markdown":"_&quot;Since only a single class should be tested in a unit test, everything else must be mocked&quot;_ - not *everything*; for one thing, you generally shouldn&#39;t mock what you don&#39;t own. Your method accepts a list, unless you&#39;re planning a very implementation-coupled test (which TDD should be helping you avoid) using real collections isn&#39;t inappropriate. As to why your specific test double is a problem: what&#39;s its size?","body":"<i>&quot;Since only a single class should be tested in a unit test, everything else must be mocked&quot;</i> - not <i>everything</i>; for one thing, you generally shouldn&#39;t mock what you don&#39;t own. Your method accepts a list, unless you&#39;re planning a very implementation-coupled test (which TDD should be helping you avoid) using real collections isn&#39;t inappropriate. As to why your specific test double is a problem: what&#39;s its size?"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1694965753,"post_id":77122530,"comment_id":135957835,"body_markdown":"@jonrsharpe Why did you remove the tags? They are clearly relevant to the question (it is about mocking and _unit_ testing)","body":"@jonrsharpe Why did you remove the tags? They are clearly relevant to the question (it is about mocking and <i>unit</i> testing)"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1694965932,"post_id":77122530,"comment_id":135957861,"body_markdown":"I don&#39;t understand how this question is lacking details or clarity? It includes a [mre] (copy-pastable), it states the problem, it asks a single, specific question. I&#39;ll gladly add the missing details if you let me know what.","body":"I don&#39;t understand how this question is lacking details or clarity? It includes a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (copy-pastable), it states the problem, it asks a single, specific question. I&#39;ll gladly add the missing details if you let me know what."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1694966107,"post_id":77122530,"comment_id":135957880,"body_markdown":"@jonrsharpe the size of the list? You&#39;d expect it to be 1, because there is one element in the list (`get(0)` returns the element). It is not 1, but why is that? How to explain to someone on their first day of unit testing?","body":"@jonrsharpe the size of the list? You&#39;d expect it to be 1, because there is one element in the list (<code>get(0)</code> returns the element). It is not 1, but why is that? How to explain to someone on their first day of unit testing?"},{"owner":{"account_id":3597514,"reputation":117173,"user_id":3001761,"display_name":"jonrsharpe"},"score":1,"creation_date":1694966349,"post_id":77122530,"comment_id":135957905,"body_markdown":"What is the intent here? Was this supposed to be self-answered, a canonical of some kind? Or do you actually not understand what&#39;s happening in the code you&#39;ve posted? I wouldn&#39;t expect the size to be 1, and if uncertain I&#39;d log or debug it. Who&#39;s the beginner (_is_ this your first day of unit testing)? What _&quot;misguided &quot;suggestions&quot;&quot;_ (and they might be misguided but they&#39;re definitely suggestions).","body":"What is the intent here? Was this supposed to be self-answered, a canonical of some kind? Or do you actually not understand what&#39;s happening in the code you&#39;ve posted? I wouldn&#39;t expect the size to be 1, and if uncertain I&#39;d log or debug it. Who&#39;s the beginner (<i>is</i> this your first day of unit testing)? What <i>&quot;misguided &quot;suggestions&quot;&quot;</i> (and they might be misguided but they&#39;re definitely suggestions)."},{"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"score":0,"creation_date":1694967550,"post_id":77122530,"comment_id":135958041,"body_markdown":"I think mockito gives you a default implementation for isEmpty returning true all the way.","body":"I think mockito gives you a default implementation for isEmpty returning true all the way."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1695639329,"post_id":77122530,"comment_id":136046706,"body_markdown":"@Karsten it&#39;s the other way round. The default implementation by Mockito returns the default value for a data type (plus special handling of collections)","body":"@Karsten it&#39;s the other way round. The default implementation by Mockito returns the default value for a data type (plus special handling of collections)"}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695017421,"creation_date":1694967502,"answer_id":77122702,"question_id":77122530,"body_markdown":"The problem is that `Mockito.mock` creates a mock object with no stubbed behavior, which means that all methods will return a default value for their return type (empty collections, 0 for numbers, false for booleans, null for objects).\r\n\r\nStubbing the `get` call does not magically add items to the list and does not affect the return value of `isEmpty()` nor that of `size()`. The mocked &quot;list&quot; is not a real list. It is a mock object without any behavior. An empty shell. It only does what it is explicitly told in the test. \r\n\r\nApplying the rules from the first paragraph lets us deduce:\r\n\r\n* `mockList.isEmpty()` returns `false` (the default value for a boolean)\r\n* `mockList.size()` returns `0` (the default value for a numeric type)\r\n\r\nIf Mockito is applied carelessly, you&#39;ll end up with zombie objects, which pretend that they are working, while they do not behave like their real counterparts. In case of the list, it seems to be non-empty but has a size of 0 at the same time; that doesn&#39;t make sense for a list!\r\n\r\nNot everything must be mocked. It is okay to test the interaction between objects (of the same unit). A unit is not a single class! (but it could be). Even Mockito itself [advises against mocking everything](https://github.com/mockito/mockito/wiki/How-to-write-good-tests#dont-mock-everything-its-an-anti-pattern):\r\n\r\n&gt; If everything is mocked, are we really testing the production code? Don&#39;t hesitate to not mock!\r\n\r\nOn the same page, they explain that [_value objects_ shouldn&#39;t be mocked](https://github.com/mockito/mockito/wiki/How-to-write-good-tests#dont-mock-value-objects) either. A list is clearly a value object (it is a data holder without any interesting behavior).\r\n\r\nLast but not least, [don&#39;t mock types that you don&#39;t own](https://github.com/mockito/mockito/wiki/How-to-write-good-tests#dont-mock-a-type-you-dont-own).\r\n\r\nThe test becomes a lot shorter, simpler, and more correct by using a real list instance – and it actually works and is testing your logic:\r\n\r\n```\r\nclass UnitTest {\r\n  @Test void sum_single() {\r\n    final List&lt;Integer&gt; list = List.of(42);\r\n    assertEquals(42, Sum.sum(list));\r\n  }\r\n}\r\n```\r\n\r\n*****\r\n\r\n**TLDR**: Only mock if necessary. It is often easier to start without mocks and only introduce mock objects if it actually makes your tests simpler and more maintainable. Mocks are useful to hide external, complex behavior or to abstract IO, but they shouldn&#39;t be used for everything. A &quot;unit&quot; can be more than a single class or a single method.\r\n\r\nTo quote the Mockito wiki one final time:\r\n\r\n&gt; Don&#39;t hesitate to **not** mock!","title":"How to loop a mocked list?","body":"<p>The problem is that <code>Mockito.mock</code> creates a mock object with no stubbed behavior, which means that all methods will return a default value for their return type (empty collections, 0 for numbers, false for booleans, null for objects).</p>\n<p>Stubbing the <code>get</code> call does not magically add items to the list and does not affect the return value of <code>isEmpty()</code> nor that of <code>size()</code>. The mocked &quot;list&quot; is not a real list. It is a mock object without any behavior. An empty shell. It only does what it is explicitly told in the test.</p>\n<p>Applying the rules from the first paragraph lets us deduce:</p>\n<ul>\n<li><code>mockList.isEmpty()</code> returns <code>false</code> (the default value for a boolean)</li>\n<li><code>mockList.size()</code> returns <code>0</code> (the default value for a numeric type)</li>\n</ul>\n<p>If Mockito is applied carelessly, you'll end up with zombie objects, which pretend that they are working, while they do not behave like their real counterparts. In case of the list, it seems to be non-empty but has a size of 0 at the same time; that doesn't make sense for a list!</p>\n<p>Not everything must be mocked. It is okay to test the interaction between objects (of the same unit). A unit is not a single class! (but it could be). Even Mockito itself <a href=\"https://github.com/mockito/mockito/wiki/How-to-write-good-tests#dont-mock-everything-its-an-anti-pattern\" rel=\"nofollow noreferrer\">advises against mocking everything</a>:</p>\n<blockquote>\n<p>If everything is mocked, are we really testing the production code? Don't hesitate to not mock!</p>\n</blockquote>\n<p>On the same page, they explain that <a href=\"https://github.com/mockito/mockito/wiki/How-to-write-good-tests#dont-mock-value-objects\" rel=\"nofollow noreferrer\"><em>value objects</em> shouldn't be mocked</a> either. A list is clearly a value object (it is a data holder without any interesting behavior).</p>\n<p>Last but not least, <a href=\"https://github.com/mockito/mockito/wiki/How-to-write-good-tests#dont-mock-a-type-you-dont-own\" rel=\"nofollow noreferrer\">don't mock types that you don't own</a>.</p>\n<p>The test becomes a lot shorter, simpler, and more correct by using a real list instance – and it actually works and is testing your logic:</p>\n<pre><code>class UnitTest {\n  @Test void sum_single() {\n    final List&lt;Integer&gt; list = List.of(42);\n    assertEquals(42, Sum.sum(list));\n  }\n}\n</code></pre>\n<hr />\n<p><strong>TLDR</strong>: Only mock if necessary. It is often easier to start without mocks and only introduce mock objects if it actually makes your tests simpler and more maintainable. Mocks are useful to hide external, complex behavior or to abstract IO, but they shouldn't be used for everything. A &quot;unit&quot; can be more than a single class or a single method.</p>\n<p>To quote the Mockito wiki one final time:</p>\n<blockquote>\n<p>Don't hesitate to <strong>not</strong> mock!</p>\n</blockquote>\n"}],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1699703549,"creation_date":1694965177,"question_id":77122530,"body_markdown":"I am writing a unit test for a simple method. Since only a single class should be tested in a unit test, everything else must be mocked. The method accepts a single list; Mocking the input list results in some really weird behavior. The list seems to be empty and non-empty at the same time, even though I set elements with Mockito.\r\n\r\n```\r\nclass Sum {\r\n  static long sum(final List&lt;Integer&gt; list) {\r\n    if (list.isEmpty()) {\r\n      return -1L;\r\n    }\r\n\r\n    long sum = 0L;\r\n    for (int i = 0; i &lt; list.size(); ++i) {\r\n      sum += list.get(i);\r\n    }\r\n    return sum;\r\n  }\r\n}\r\n\r\nclass UnitTest {\r\n  @Test void sum_single() {\r\n    final List&lt;Integer&gt; listMock = Mockito.mock();\r\n    Mockito.when(listMock.get(0)).thenReturn(42);\r\n\r\n    assertFalse(listMock.isEmpty());   // list is non-empty\r\n    assertEquals(42, listMock.get(0)); // the element is in the list!\r\n    assertEquals(42, Sum.sum(listMock));\r\n  }\r\n}\r\n```\r\n\r\nThe test is failing with the following error:\r\n\r\n```\r\norg.opentest4j.AssertionFailedError: expected: &lt;42&gt; but was: &lt;0&gt;\r\n```\r\n\r\nWhat gives? Somehow, the element in the list is not summed, even though I have put it at index 0 in the list (I even verify the element in the test before testing my class). Furthermore, the list is obviously non-empty as verified in test itself (and if it were empty, the method would return -1).\r\n\r\nWhy is this test not working? It does everything according to the book: only a single class is tested, all other classes are mocked, the mock is set up with a value. What do I have to change so that the test verifies that the elements in the list are correctly summed?","title":"How to loop a mocked list?","body":"<p>I am writing a unit test for a simple method. Since only a single class should be tested in a unit test, everything else must be mocked. The method accepts a single list; Mocking the input list results in some really weird behavior. The list seems to be empty and non-empty at the same time, even though I set elements with Mockito.</p>\n<pre><code>class Sum {\n  static long sum(final List&lt;Integer&gt; list) {\n    if (list.isEmpty()) {\n      return -1L;\n    }\n\n    long sum = 0L;\n    for (int i = 0; i &lt; list.size(); ++i) {\n      sum += list.get(i);\n    }\n    return sum;\n  }\n}\n\nclass UnitTest {\n  @Test void sum_single() {\n    final List&lt;Integer&gt; listMock = Mockito.mock();\n    Mockito.when(listMock.get(0)).thenReturn(42);\n\n    assertFalse(listMock.isEmpty());   // list is non-empty\n    assertEquals(42, listMock.get(0)); // the element is in the list!\n    assertEquals(42, Sum.sum(listMock));\n  }\n}\n</code></pre>\n<p>The test is failing with the following error:</p>\n<pre><code>org.opentest4j.AssertionFailedError: expected: &lt;42&gt; but was: &lt;0&gt;\n</code></pre>\n<p>What gives? Somehow, the element in the list is not summed, even though I have put it at index 0 in the list (I even verify the element in the test before testing my class). Furthermore, the list is obviously non-empty as verified in test itself (and if it were empty, the method would return -1).</p>\n<p>Why is this test not working? It does everything according to the book: only a single class is tested, all other classes are mocked, the mock is set up with a value. What do I have to change so that the test verifies that the elements in the list are correctly summed?</p>\n"},{"tags":["java","file","utf-8","java-11"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1699446168,"post_id":77445484,"comment_id":136531777,"body_markdown":"which filesystem do you use? does the file show up correctly in command prompt with the `dir` command? What is the filename when you do a `new File(&quot;C:/Users/MyUser/Desktop/MeinOrdner&quot;).list()`?","body":"which filesystem do you use? does the file show up correctly in command prompt with the <code>dir</code> command? What is the filename when you do a <code>new File(&quot;C:&#47;Users&#47;MyUser&#47;Desktop&#47;MeinOrdner&quot;).list()</code>?"},{"owner":{"account_id":13817170,"reputation":1662,"user_id":9973516,"display_name":"Ada"},"score":0,"creation_date":1699446263,"post_id":77445484,"comment_id":136531790,"body_markdown":"Does this answer your question? [java.io.File: accessing files with invalid filename encodings](https://stackoverflow.com/questions/22775758/java-io-file-accessing-files-with-invalid-filename-encodings)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/22775758/java-io-file-accessing-files-with-invalid-filename-encodings\">java.io.File: accessing files with invalid filename encodings</a>"},{"owner":{"account_id":21083423,"reputation":51,"user_id":16942771,"display_name":"HansJuergen"},"score":0,"creation_date":1699448348,"post_id":77445484,"comment_id":136532162,"body_markdown":"@cyberbrain Im working on windows. The file shows up correctly in the command pompt with `dir`. `.list()` returns  [Z_�berdenken]","body":"@cyberbrain Im working on windows. The file shows up correctly in the command pompt with <code>dir</code>. <code>.list()</code> returns  [Z_�berdenken]"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699448970,"post_id":77445484,"comment_id":136532288,"body_markdown":"BTW `new File(path)` does **not** create the file - it is just a path; and `File#isFile` will return `false` for a non existing file ([javadoc](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html) of `File`: &quot;An abstract representation of file and directory **pathnames**.&quot; - emphasis added)","body":"BTW <code>new File(path)</code> does <b>not</b> create the file - it is just a path; and <code>File#isFile</code> will return <code>false</code> for a non existing file (<a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html\" rel=\"nofollow noreferrer\">javadoc</a> of <code>File</code>: &quot;An abstract representation of file and directory <b>pathnames</b>.&quot; - emphasis added)"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1699449147,"post_id":77445484,"comment_id":136532318,"body_markdown":"Windows supports multiple file systems, so still the interesting thing for me would be, what file system you use. IIRC the encoding of filenames could depend on that. Testing here with a (German) Windows 10, I get the correct name with `dir` and Java on a NTFS filesystem.","body":"Windows supports multiple file systems, so still the interesting thing for me would be, what file system you use. IIRC the encoding of filenames could depend on that. Testing here with a (German) Windows 10, I get the correct name with <code>dir</code> and Java on a NTFS filesystem."},{"owner":{"account_id":21083423,"reputation":51,"user_id":16942771,"display_name":"HansJuergen"},"score":0,"creation_date":1699449467,"post_id":77445484,"comment_id":136532374,"body_markdown":"@cyberbrain Im also using NTFS. I Also get the correct name with dir. But .list() returns [Z_�berdenken]","body":"@cyberbrain Im also using NTFS. I Also get the correct name with dir. But .list() returns [Z_�berdenken]"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699453740,"post_id":77445484,"comment_id":136533405,"body_markdown":"maybe you must call `myPathFile.createNewFile();` to really create a new file on the disk (not just a *pathname*... as I already indicated) only if the directory already exists, otherwise it must be created too -- but posted code is sure not the code being executed, so hard to know if there are no other problems...","body":"maybe you must call <code>myPathFile.createNewFile();</code> to really create a new file on the disk (not just a <i>pathname</i>... as I already indicated) only if the directory already exists, otherwise it must be created too -- but posted code is sure not the code being executed, so hard to know if there are no other problems..."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699454030,"post_id":77445484,"comment_id":136533503,"body_markdown":"( &quot;*rename the file to Z_Ueberdenken.txt*&quot;  ?? But `Z_&#220;berdenken` in given path is a folder, not a file )","body":"( &quot;<i>rename the file to Z_Ueberdenken.txt</i>&quot;  ?? But <code>Z_&#220;berdenken</code> in given path is a folder, not a file )"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1699519706,"post_id":77445484,"comment_id":136542988,"body_markdown":"How did you verify what `.list()` returns? Printing to the console bears a potentially lossy conversion on its own.","body":"How did you verify what <code>.list()</code> returns? Printing to the console bears a potentially lossy conversion on its own."}],"answers":[{"tags":[],"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699702917,"creation_date":1699700354,"answer_id":77464805,"question_id":77445484,"body_markdown":"First, some basics of the `java.io.File` class:\r\n- To create a directory use method `mkdir()`.\r\n- To create a file use method `createNewFile()`.\r\n- To check whether a file or directory already exists use method `exists()`.\r\n- When creating a file, its parent directory must already exist. For example, if creating file **D:\\Z_&#220;berdenken\\check.txt**, the directory **Z_&#220;berdenken** must already exist; method `createNewFile()` will not create it for you.\r\n\r\nGiven that, creating directories and files is a straightforward process using the `File` class. Here&#39;s a working example:\r\n\r\n    package umlaut;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    public class Umlaut {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            String dirPath = &quot;d:\\\\temp\\\\Z_&#220;berdenken2&quot;; // Directory name includes &quot;&#220;&quot;\r\n            String filePath = dirPath + &quot;\\\\test4.txt&quot;;\r\n            File dir = new File(dirPath);\r\n            if (!dir.exists()) { // Create parent directory for new files.\r\n                new Umlaut().createDir(dirPath);\r\n            }\r\n            if (dir.exists()) {\r\n                System.out.println(&quot;Is &quot; + dirPath + &quot; a file? &quot; + dir.isFile());\r\n                System.out.println(&quot;Is &quot; + dirPath + &quot; a directory? &quot; + dir.isDirectory());\r\n                new Umlaut().createFile(filePath);\r\n            } else {\r\n                System.out.println(&quot;Unable to create directory &quot; + dirPath);\r\n            }\r\n        }\r\n    \r\n        public boolean createDir(String path) throws IOException {\r\n            System.out.println(&quot;Directory to be created: &quot; + path);\r\n            File myPathFile = new File(path);\r\n            return myPathFile.mkdir();\r\n        }\r\n    \r\n        public void createFile(String path) throws IOException {\r\n            System.out.println(&quot;File to be created: &quot; + path);\r\n            File myPathFile = new File(path);\r\n            if (myPathFile.exists()) {\r\n                System.out.println(&quot;Not creating &quot; + myPathFile + &quot; because it already exists.&quot;);\r\n            } else {\r\n                System.out.println(&quot;Creation of file &quot; + myPathFile + (myPathFile.createNewFile() ? &quot; successful.&quot; : &quot; failed.&quot;));\r\n            }\r\n            System.out.println(&quot;Is &quot; + path + &quot; a file? &quot; + myPathFile.isFile());\r\n            System.out.println(&quot;Is &quot; + path + &quot; a directory? &quot; + myPathFile.isDirectory());\r\n        }\r\n    }\r\n\r\nThis is the console output:\r\n\r\n    Is d:\\temp\\Z_&#220;berdenken2 a file? false\r\n    Is d:\\temp\\Z_&#220;berdenken2 a directory? true\r\n    File to be created: d:\\temp\\Z_&#220;berdenken2\\test4.txt\r\n    Creation of file d:\\temp\\Z_&#220;berdenken2\\test4.txt successful.\r\n    Is d:\\temp\\Z_&#220;berdenken2\\test4.txt a file? true\r\n    Is d:\\temp\\Z_&#220;berdenken2\\test4.txt a directory? false\r\n\r\nNotes:\r\n- The code provided in the question was not doing anything to create a physical directory or file. Simply passing a path to one of the constructors of `File` using `final File myPathFile = new File(path)` will instantiate a `File` object, but will not create a physical file on disk.\r\n- I don&#39;t think that the use of an umlaut in the directory name is relevant. At least it was not an issue for me. But what does matter is whether or not the `File` you are trying to create already exists, so allow for that in your code.\r\n- My environment was JDK 11 on Windows 10, using locale *English (United States)*.\r\n- I did not need to configure anything with respect to my locale, use of UTF-8 or encoding, and I did not provide any compiler or run time options. Everything worked fine using default settings.\r\n- I noticed an article titled [How to save text files in Java with umlauts](https://blog.dotmaui.com/2018/10/18/how-to-save-text-files-in-java-with-umlauts/) which may be of interest. It&#39;s not directly relevant to your problem because it relates to a file&#39;s content rather than it&#39;s name, but it does offer a completely different approach for file creation without using the `File` class.\r\n","title":"Creating a file from a absolute path, which is containing a german umlaut","body":"<p>First, some basics of the <code>java.io.File</code> class:</p>\n<ul>\n<li>To create a directory use method <code>mkdir()</code>.</li>\n<li>To create a file use method <code>createNewFile()</code>.</li>\n<li>To check whether a file or directory already exists use method <code>exists()</code>.</li>\n<li>When creating a file, its parent directory must already exist. For example, if creating file <strong>D:\\Z_Überdenken\\check.txt</strong>, the directory <strong>Z_Überdenken</strong> must already exist; method <code>createNewFile()</code> will not create it for you.</li>\n</ul>\n<p>Given that, creating directories and files is a straightforward process using the <code>File</code> class. Here's a working example:</p>\n<pre><code>package umlaut;\n\nimport java.io.File;\nimport java.io.IOException;\n\npublic class Umlaut {\n\n    public static void main(String[] args) throws IOException {\n        String dirPath = &quot;d:\\\\temp\\\\Z_Überdenken2&quot;; // Directory name includes &quot;Ü&quot;\n        String filePath = dirPath + &quot;\\\\test4.txt&quot;;\n        File dir = new File(dirPath);\n        if (!dir.exists()) { // Create parent directory for new files.\n            new Umlaut().createDir(dirPath);\n        }\n        if (dir.exists()) {\n            System.out.println(&quot;Is &quot; + dirPath + &quot; a file? &quot; + dir.isFile());\n            System.out.println(&quot;Is &quot; + dirPath + &quot; a directory? &quot; + dir.isDirectory());\n            new Umlaut().createFile(filePath);\n        } else {\n            System.out.println(&quot;Unable to create directory &quot; + dirPath);\n        }\n    }\n\n    public boolean createDir(String path) throws IOException {\n        System.out.println(&quot;Directory to be created: &quot; + path);\n        File myPathFile = new File(path);\n        return myPathFile.mkdir();\n    }\n\n    public void createFile(String path) throws IOException {\n        System.out.println(&quot;File to be created: &quot; + path);\n        File myPathFile = new File(path);\n        if (myPathFile.exists()) {\n            System.out.println(&quot;Not creating &quot; + myPathFile + &quot; because it already exists.&quot;);\n        } else {\n            System.out.println(&quot;Creation of file &quot; + myPathFile + (myPathFile.createNewFile() ? &quot; successful.&quot; : &quot; failed.&quot;));\n        }\n        System.out.println(&quot;Is &quot; + path + &quot; a file? &quot; + myPathFile.isFile());\n        System.out.println(&quot;Is &quot; + path + &quot; a directory? &quot; + myPathFile.isDirectory());\n    }\n}\n</code></pre>\n<p>This is the console output:</p>\n<pre><code>Is d:\\temp\\Z_Überdenken2 a file? false\nIs d:\\temp\\Z_Überdenken2 a directory? true\nFile to be created: d:\\temp\\Z_Überdenken2\\test4.txt\nCreation of file d:\\temp\\Z_Überdenken2\\test4.txt successful.\nIs d:\\temp\\Z_Überdenken2\\test4.txt a file? true\nIs d:\\temp\\Z_Überdenken2\\test4.txt a directory? false\n</code></pre>\n<p>Notes:</p>\n<ul>\n<li>The code provided in the question was not doing anything to create a physical directory or file. Simply passing a path to one of the constructors of <code>File</code> using <code>final File myPathFile = new File(path)</code> will instantiate a <code>File</code> object, but will not create a physical file on disk.</li>\n<li>I don't think that the use of an umlaut in the directory name is relevant. At least it was not an issue for me. But what does matter is whether or not the <code>File</code> you are trying to create already exists, so allow for that in your code.</li>\n<li>My environment was JDK 11 on Windows 10, using locale <em>English (United States)</em>.</li>\n<li>I did not need to configure anything with respect to my locale, use of UTF-8 or encoding, and I did not provide any compiler or run time options. Everything worked fine using default settings.</li>\n<li>I noticed an article titled <a href=\"https://blog.dotmaui.com/2018/10/18/how-to-save-text-files-in-java-with-umlauts/\" rel=\"nofollow noreferrer\">How to save text files in Java with umlauts</a> which may be of interest. It's not directly relevant to your problem because it relates to a file's content rather than it's name, but it does offer a completely different approach for file creation without using the <code>File</code> class.</li>\n</ul>\n"}],"owner":{"account_id":21083423,"reputation":51,"user_id":16942771,"display_name":"HansJuergen"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699702917,"creation_date":1699445941,"question_id":77445484,"body_markdown":"I have a problem with creating a file from a absolute path, which is containing a german umlaut. (Working on windows)\r\nThis is a example code:\r\n\r\n     public void createFile(String path) {\r\n          System.out.println(&quot;Path: &quot; + path);  \r\n          final File myPathFile = new File(path)\r\n          if(!myPathFile.isFile()){\r\n              System.out.println(&quot;No file&quot;);\r\n          }\r\nLog results: \r\n\r\n    Path: C:\\Users\\MyUser\\Desktop\\MeinOrdner\\Z_&#220;berdenken\\check.txt\r\n    No file\r\n\r\nI tried to rename the  folder to Z_Ueberdenken and adjusted the path variable as well.\r\nThen it worked perfectly. So the problem is the umlaut `&#220;`. How can I fix this?","title":"Creating a file from a absolute path, which is containing a german umlaut","body":"<p>I have a problem with creating a file from a absolute path, which is containing a german umlaut. (Working on windows)\nThis is a example code:</p>\n<pre><code> public void createFile(String path) {\n      System.out.println(&quot;Path: &quot; + path);  \n      final File myPathFile = new File(path)\n      if(!myPathFile.isFile()){\n          System.out.println(&quot;No file&quot;);\n      }\n</code></pre>\n<p>Log results:</p>\n<pre><code>Path: C:\\Users\\MyUser\\Desktop\\MeinOrdner\\Z_Überdenken\\check.txt\nNo file\n</code></pre>\n<p>I tried to rename the  folder to Z_Ueberdenken and adjusted the path variable as well.\nThen it worked perfectly. So the problem is the umlaut <code>Ü</code>. How can I fix this?</p>\n"},{"tags":["java","html","selenium-webdriver","webdriverwait"],"answers":[{"comments":[{"owner":{"account_id":9448867,"reputation":1,"user_id":22465217,"display_name":"rusty"},"score":0,"creation_date":1699635461,"post_id":77457855,"comment_id":136560999,"body_markdown":"I&#39;m struggling to find the element itself. The desired element is what I can&#39;t find. What element loads after the table?","body":"I&#39;m struggling to find the element itself. The desired element is what I can&#39;t find. What element loads after the table?"},{"owner":{"account_id":27938804,"reputation":102,"user_id":21335232,"display_name":"Bhairu"},"score":0,"creation_date":1700025480,"post_id":77457855,"comment_id":136603054,"body_markdown":"@rusty First check it in manually, then see how much time it takes to load the element and then scrape ur coding according.","body":"@rusty First check it in manually, then see how much time it takes to load the element and then scrape ur coding according."}],"tags":[],"owner":{"account_id":27938804,"reputation":102,"user_id":21335232,"display_name":"Bhairu"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699594475,"creation_date":1699593769,"answer_id":77457855,"question_id":77457515,"body_markdown":"        **Solution 1:**  \r\n        \r\n          Please try the below mechanism, actually, it will be polling every second and it stops the polling once you it get the desired element, it might work for you.\r\n            \r\n            FluentWait&lt;WebDriver&gt; wait = new FluentWait&lt;&gt; (driver)\r\n              .withTimeout (10, TimeUnit.SECONDS)\r\n              .pollingEvery (1, TimeUnit.SECONDS)\r\n              .ignoring (NoSuchElementException.class);\r\n            \r\n            // Define the locator of the element to be clicked\r\n            By locator = By.id(&quot;&quot;);\r\n            \r\n            // Wait until the element is clickable\r\n            WebElement element = wait.until (ExpectedConditions.elementToBeClickable (locator));\r\n            \r\n            // Click on the element\r\n            element.click();\r\n        \r\n        **Solutions 2:**\r\n        \r\n        here you can use the if-else condition to wait for until desired element.\r\n    \r\n    //add loop \r\n    for(i=0;i&lt;=10)\r\n    {\r\n        boolean WaitforThisElement=driver.findelement(By.xpath(&quot;pass the path of the waiting elememnt&quot;).isDisplayed();\r\n        if(WaitforThisElement==true)\r\n        {\r\n        //write the code for the further activities.\r\n        \r\n    \r\n    //if the desired element is found it cannot move to the else block and will end the loop and come out from the loop and move to the next code.\r\n    \r\n        }\r\n        else\r\n        {\r\n        //wait for the 10 seconds.\r\n        Thread.wait(10000);\r\n    //Increase the loop count\r\n    i++\r\n        }\r\n}\r\n","title":"How to find the correct wait command for a dynamic table element?","body":"<pre><code>    **Solution 1:**  \n    \n      Please try the below mechanism, actually, it will be polling every second and it stops the polling once you it get the desired element, it might work for you.\n        \n        FluentWait&lt;WebDriver&gt; wait = new FluentWait&lt;&gt; (driver)\n          .withTimeout (10, TimeUnit.SECONDS)\n          .pollingEvery (1, TimeUnit.SECONDS)\n          .ignoring (NoSuchElementException.class);\n        \n        // Define the locator of the element to be clicked\n        By locator = By.id(&quot;&quot;);\n        \n        // Wait until the element is clickable\n        WebElement element = wait.until (ExpectedConditions.elementToBeClickable (locator));\n        \n        // Click on the element\n        element.click();\n    \n    **Solutions 2:**\n    \n    here you can use the if-else condition to wait for until desired element.\n\n//add loop \nfor(i=0;i&lt;=10)\n{\n    boolean WaitforThisElement=driver.findelement(By.xpath(&quot;pass the path of the waiting elememnt&quot;).isDisplayed();\n    if(WaitforThisElement==true)\n    {\n    //write the code for the further activities.\n    \n\n//if the desired element is found it cannot move to the else block and will end the loop and come out from the loop and move to the next code.\n\n    }\n    else\n    {\n    //wait for the 10 seconds.\n    Thread.wait(10000);\n//Increase the loop count\ni++\n    }\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":9448867,"reputation":1,"user_id":22465217,"display_name":"rusty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699702905,"creation_date":1699586217,"question_id":77457515,"body_markdown":"The website is https://www.nseindia.com/get-quotes/derivatives?symbol=AARTIIND\r\n\r\nHere is my code:\r\n\r\n    driver.get(&quot;https://www.nseindia.com/get-quotes/derivatives?symbol=AARTIIND&quot;);\r\n\ttry {\r\n\t\twait.until(ExpectedConditions.elementToBeClickable(By.id(&quot;optionChain&quot;)));\r\n\t} catch (Exception e) {\r\n\t}\r\n\tdriver.findElement(By.id(&quot;optionChain&quot;)).click();\r\n\ttry {\r\n\t\twait.until(ExpectedConditions.numberOfElementsToBeMoreThan(By.xpath(&quot;/html/body/div[10]/div[1]/div/section/div/div/div/div/div[1]/div[2]/div/div/div/div[2]/div[2]/div[2]/div/table[1]/tbody/tr&quot;), 10));\r\n\t} catch (Exception e) {\r\n\t}\r\n\tThread.sleep(10000);\r\n\tList&lt;WebElement&gt; table = driver.findElements(By.xpath(&quot;/html/body/div[10]/div[1]/div/section/div/div/div/div/div[1]/div[2]/div/div/div/div[2]/div[2]/div[2]/div/table[1]/tbody/tr&quot;));\r\n\tint optionChainSize = table.size();\r\n\t\t\t\r\nI want to remove the Thread.sleep() command, but it invariably ends up with optionChainSize = 0.\r\n\r\nI use &quot;wait.until(ExpectedConditions...&quot; to wait for the &quot;Option Chain&quot; element to load, and click it. Thereafter a table appears, but try as I might, I cannot get the program to wait for it to load, except a crude Thread.sleep command.\r\n\r\nI have tried the bottom row that says &quot;tot&quot;, the top right where it says &quot;Underlying:&quot;, but they all just appear to load before the table. I have tried &quot;numberOfElementsToBeMoreThan&quot; and put the locator for the &quot;tr&quot; xpath, as follows:\r\n\r\n    try {\r\n\t\twait.until(ExpectedConditions.numberOfElementsToBeMoreThan(By.xpath(&quot;/html/body/div[10]/div[1]/div/section/div/div/div/div/div[1]/div[2]/div/div/div/div[2]/div[2]/div[2]/div/table[1]/tbody/tr&quot;), 10));\r\n\t} catch (Exception e) {\r\n\t\t\t\r\n\r\nIs there any way to do this right? I don&#39;t understand the &quot;staleness&quot; property, could that be of use?","title":"How to find the correct wait command for a dynamic table element?","body":"<p>The website is <a href=\"https://www.nseindia.com/get-quotes/derivatives?symbol=AARTIIND\" rel=\"nofollow noreferrer\">https://www.nseindia.com/get-quotes/derivatives?symbol=AARTIIND</a></p>\n<p>Here is my code:</p>\n<pre><code>driver.get(&quot;https://www.nseindia.com/get-quotes/derivatives?symbol=AARTIIND&quot;);\ntry {\n    wait.until(ExpectedConditions.elementToBeClickable(By.id(&quot;optionChain&quot;)));\n} catch (Exception e) {\n}\ndriver.findElement(By.id(&quot;optionChain&quot;)).click();\ntry {\n    wait.until(ExpectedConditions.numberOfElementsToBeMoreThan(By.xpath(&quot;/html/body/div[10]/div[1]/div/section/div/div/div/div/div[1]/div[2]/div/div/div/div[2]/div[2]/div[2]/div/table[1]/tbody/tr&quot;), 10));\n} catch (Exception e) {\n}\nThread.sleep(10000);\nList&lt;WebElement&gt; table = driver.findElements(By.xpath(&quot;/html/body/div[10]/div[1]/div/section/div/div/div/div/div[1]/div[2]/div/div/div/div[2]/div[2]/div[2]/div/table[1]/tbody/tr&quot;));\nint optionChainSize = table.size();\n        \n</code></pre>\n<p>I want to remove the Thread.sleep() command, but it invariably ends up with optionChainSize = 0.</p>\n<p>I use &quot;wait.until(ExpectedConditions...&quot; to wait for the &quot;Option Chain&quot; element to load, and click it. Thereafter a table appears, but try as I might, I cannot get the program to wait for it to load, except a crude Thread.sleep command.</p>\n<p>I have tried the bottom row that says &quot;tot&quot;, the top right where it says &quot;Underlying:&quot;, but they all just appear to load before the table. I have tried &quot;numberOfElementsToBeMoreThan&quot; and put the locator for the &quot;tr&quot; xpath, as follows:</p>\n<pre><code>try {\n    wait.until(ExpectedConditions.numberOfElementsToBeMoreThan(By.xpath(&quot;/html/body/div[10]/div[1]/div/section/div/div/div/div/div[1]/div[2]/div/div/div/div[2]/div[2]/div[2]/div/table[1]/tbody/tr&quot;), 10));\n} catch (Exception e) {\n        \n</code></pre>\n<p>Is there any way to do this right? I don't understand the &quot;staleness&quot; property, could that be of use?</p>\n"},{"tags":["java","layout","controls","swt","drawing"],"answers":[{"comments":[{"owner":{"account_id":9787909,"reputation":3,"user_id":7253624,"display_name":"Johannes1984"},"score":0,"creation_date":1699714813,"post_id":77464716,"comment_id":136567543,"body_markdown":"Thanks. I had to call redraw() on a Table. Reason: There was a main shell and on top a modal shell where the user determined a new value for the Table in the main shell. When the user confirmed the new value, the modal shell disappeared and I added the new value to the Table as new line. The new line appeared visually empty. Only when the user hovered the mouse pointer on it or set keyboard focus there, the value appeared. But calling redraw() on the Table let the value appear immediately.","body":"Thanks. I had to call redraw() on a Table. Reason: There was a main shell and on top a modal shell where the user determined a new value for the Table in the main shell. When the user confirmed the new value, the modal shell disappeared and I added the new value to the Table as new line. The new line appeared visually empty. Only when the user hovered the mouse pointer on it or set keyboard focus there, the value appeared. But calling redraw() on the Table let the value appear immediately."},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1699718464,"post_id":77464716,"comment_id":136567921,"body_markdown":"I always use the JFace `TableViewer` for tables, so I&#39;m not sure if redraw is needed on a plain Table or not.","body":"I always use the JFace <code>TableViewer</code> for tables, so I&#39;m not sure if redraw is needed on a plain Table or not."}],"tags":[],"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699701957,"creation_date":1699698555,"answer_id":77464716,"question_id":77464660,"body_markdown":"`redraw` requests that the control should be redrawn the next time the event loop runs. Most of the time redraws are managed automatically, calling `redraw` explicitly is rare - usually if you are writing your own control extending `Canvas`.\r\n\r\n`update` requests the control is redrawn immediately - used when drawing things like a &quot;rubber band&quot; tracking a mouse drag.\r\n\r\n`reskin` is intended for the Eclipse RCP CSS support, it isn&#39;t something you would normally call.\r\n\r\n`requestLayout` just requests that the `layout` method be called as soon as possible. This may be faster that calling `layout` directly.\r\n\r\n`pack` is equivalent to:\r\n```\r\nsetSize(computeSize(SWT.DEFAULT, SWT.DEFAULT, changed));\r\n```\r\nIt just sets the control to the computed size.\r\n\r\nThe Eclipse [SWT](https://www.eclipse.org/swt/) site also has lots of example and article.\r\n","title":"Java SWT: Difference between redraw, reskin, update and requestLayout (and pack)","body":"<p><code>redraw</code> requests that the control should be redrawn the next time the event loop runs. Most of the time redraws are managed automatically, calling <code>redraw</code> explicitly is rare - usually if you are writing your own control extending <code>Canvas</code>.</p>\n<p><code>update</code> requests the control is redrawn immediately - used when drawing things like a &quot;rubber band&quot; tracking a mouse drag.</p>\n<p><code>reskin</code> is intended for the Eclipse RCP CSS support, it isn't something you would normally call.</p>\n<p><code>requestLayout</code> just requests that the <code>layout</code> method be called as soon as possible. This may be faster that calling <code>layout</code> directly.</p>\n<p><code>pack</code> is equivalent to:</p>\n<pre><code>setSize(computeSize(SWT.DEFAULT, SWT.DEFAULT, changed));\n</code></pre>\n<p>It just sets the control to the computed size.</p>\n<p>The Eclipse <a href=\"https://www.eclipse.org/swt/\" rel=\"nofollow noreferrer\">SWT</a> site also has lots of example and article.</p>\n"}],"owner":{"account_id":9787909,"reputation":3,"user_id":7253624,"display_name":"Johannes1984"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77464716,"answer_count":1,"score":0,"last_activity_date":1699701957,"creation_date":1699697375,"question_id":77464660,"body_markdown":"Can anybody please explain to me the difference of the methods `Control.redraw()`, `Control.update()`, `Widget.reskin()`, `Control.requestLayout()` and `Control.pack()`?\r\nUnfortunately the API documentation does not tell so much about the differences.\r\n\r\nI guess the following:\r\n\r\n`Control.requestLayout()` means calculating the size and position of a control inside a Composite when its content (like a text in a label or text field) has changed and perhaps its displayed size/position is not anymore appropriate.\r\nI think I understand `Control.pack()`: It is just a part of `Control.requestLayout` or rather `Composite.layout()` as only the size of controls will be changed but not the position.\r\n\r\n`Control.redraw()` and `Control.update()`: It seems to me that both methods just paint the control again and you call them when the operating system does not show it correctly anymore. You call the methods if size and position have not changed. The difference between both methods is that `update()` repaints the control immediately whereas `redraw()` can do it after some time.\r\n\r\nI don&#39;t understand when I need to call `Widget.reskin()`. It seems to me the same as `Control.redraw()`.","title":"Java SWT: Difference between redraw, reskin, update and requestLayout (and pack)","body":"<p>Can anybody please explain to me the difference of the methods <code>Control.redraw()</code>, <code>Control.update()</code>, <code>Widget.reskin()</code>, <code>Control.requestLayout()</code> and <code>Control.pack()</code>?\nUnfortunately the API documentation does not tell so much about the differences.</p>\n<p>I guess the following:</p>\n<p><code>Control.requestLayout()</code> means calculating the size and position of a control inside a Composite when its content (like a text in a label or text field) has changed and perhaps its displayed size/position is not anymore appropriate.\nI think I understand <code>Control.pack()</code>: It is just a part of <code>Control.requestLayout</code> or rather <code>Composite.layout()</code> as only the size of controls will be changed but not the position.</p>\n<p><code>Control.redraw()</code> and <code>Control.update()</code>: It seems to me that both methods just paint the control again and you call them when the operating system does not show it correctly anymore. You call the methods if size and position have not changed. The difference between both methods is that <code>update()</code> repaints the control immediately whereas <code>redraw()</code> can do it after some time.</p>\n<p>I don't understand when I need to call <code>Widget.reskin()</code>. It seems to me the same as <code>Control.redraw()</code>.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":4073450,"reputation":1868,"user_id":9130109,"display_name":"EL TEGANI MOHAMED"},"score":0,"creation_date":1699701477,"post_id":77464785,"comment_id":136566350,"body_markdown":"This can be verified by referring to the documentation available on WhatsApp.","body":"This can be verified by referring to the documentation available on WhatsApp."}],"owner":{"account_id":23958830,"reputation":59,"user_id":17949254,"display_name":"Viacheslav Kolisnichenko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699700936,"creation_date":1699699767,"question_id":77464785,"body_markdown":"I have an Android application in which I receive a text message via WhatsApp. I want that when I receive a message with an SMS code, my Android application will catch it and insert it into the field with the code. Is it possible to listen to the receipt of the desired SMS in WhatsApp?","title":"Automatically insert otp code from whatsapp","body":"<p>I have an Android application in which I receive a text message via WhatsApp. I want that when I receive a message with an SMS code, my Android application will catch it and insert it into the field with the code. Is it possible to listen to the receipt of the desired SMS in WhatsApp?</p>\n"},{"tags":["java","spring","spring-boot","bean-validation","hibernate-validator"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1698859152,"post_id":77404307,"comment_id":136459236,"body_markdown":"Does this help - [Java Spring Rest validation configure property access](https://stackoverflow.com/questions/39164077/java-spring-rest-validation-configure-property-access)?","body":"Does this help - <a href=\"https://stackoverflow.com/questions/39164077/java-spring-rest-validation-configure-property-access\">Java Spring Rest validation configure property access</a>?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1698911228,"post_id":77404307,"comment_id":136464956,"body_markdown":"@Chaosfire I tried but unfortunately have the same issue. Please read topic update","body":"@Chaosfire I tried but unfortunately have the same issue. Please read topic update"},{"owner":{"account_id":21260902,"reputation":984,"user_id":15641685,"display_name":"Huu Phuong Vu"},"score":0,"creation_date":1699342859,"post_id":77404307,"comment_id":136516287,"body_markdown":"Would be easier if the full stacktrace is included in the question","body":"Would be easier if the full stacktrace is included in the question"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1699348838,"post_id":77404307,"comment_id":136517213,"body_markdown":"@Huu Phuong Vu added stacktrace","body":"@Huu Phuong Vu added stacktrace"},{"owner":{"account_id":4514344,"reputation":31626,"user_id":3669624,"accept_rate":100,"display_name":"cнŝdk"},"score":0,"creation_date":1699349372,"post_id":77404307,"comment_id":136517313,"body_markdown":"Can you show us your `myDto`  accessors?","body":"Can you show us your <code>myDto</code>  accessors?"},{"owner":{"account_id":21260902,"reputation":984,"user_id":15641685,"display_name":"Huu Phuong Vu"},"score":0,"creation_date":1699377897,"post_id":77404307,"comment_id":136523057,"body_markdown":"@gstackoverflow please show full class of `CustomUserPatchRequestDto` that includes setter and getter of `myDto`","body":"@gstackoverflow please show full class of <code>CustomUserPatchRequestDto</code> that includes setter and getter of <code>myDto</code>"},{"owner":{"account_id":21260902,"reputation":984,"user_id":15641685,"display_name":"Huu Phuong Vu"},"score":0,"creation_date":1699378065,"post_id":77404307,"comment_id":136523085,"body_markdown":"This type that you&#39;re using seems to be causing the issue `JsonNullable&lt;@Valid MyDto&gt;`. Have you tried to use type `MyDto` directly? I doubt there will be any issue with using `MyDto` type directly.","body":"This type that you&#39;re using seems to be causing the issue <code>JsonNullable&lt;@Valid MyDto&gt;</code>. Have you tried to use type <code>MyDto</code> directly? I doubt there will be any issue with using <code>MyDto</code> type directly."}],"answers":[{"comments":[{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1699359443,"post_id":77437092,"comment_id":136519245,"body_markdown":"The aim of validation is getting **correct** error in case if value is invalid. Spring tries to say me that it can&#39;t execute validation.  But in case if I pass correct value - there is no error. I can&#39;t understand why to be honest.","body":"The aim of validation is getting <b>correct</b> error in case if value is invalid. Spring tries to say me that it can&#39;t execute validation.  But in case if I pass correct value - there is no error. I can&#39;t understand why to be honest."},{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1699359772,"post_id":77437092,"comment_id":136519297,"body_markdown":"@gstackoverflow it actually executed the validation, which found your field to be invalid and has thrown the exception, but the exception message is misleading.","body":"@gstackoverflow it actually executed the validation, which found your field to be invalid and has thrown the exception, but the exception message is misleading."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1699360100,"post_id":77437092,"comment_id":136519355,"body_markdown":"you are correct, I want to get proper error message","body":"you are correct, I want to get proper error message"}],"tags":[],"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699349905,"creation_date":1699349905,"answer_id":77437092,"question_id":77404307,"body_markdown":"**12sdfdsf3** is an invalid email and it will throw an error, because you have the `@Email` annotation, so your values should look like **a@b.c**. You will need to pass valid values to this field.","title":"JSR-303 validated property &#39;myDto.mail&#39; does not have a corresponding accessor for Spring data binding - check your DataBinder&#39;s configuration","body":"<p><strong>12sdfdsf3</strong> is an invalid email and it will throw an error, because you have the <code>@Email</code> annotation, so your values should look like <strong>a@b.c</strong>. You will need to pass valid values to this field.</p>\n"},{"comments":[{"owner":{"account_id":950197,"reputation":1687,"user_id":976509,"display_name":"vl4d1m1r4"},"score":1,"creation_date":1699732149,"post_id":77464641,"comment_id":136569385,"body_markdown":"Yes, this is the same issue like here: https://github.com/spring-projects/spring-framework/issues/29043. `JsonNullable` is essentially a custom container type for Spring, it only supports `Optional` out of the box. The proposed solution is similar to this one, with only difference that it only returns `violation.getInitialValue()` if there is an exception.","body":"Yes, this is the same issue like here: <a href=\"https://github.com/spring-projects/spring-framework/issues/29043\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-framework/issues/29043</a>. <code>JsonNullable</code> is essentially a custom container type for Spring, it only supports <code>Optional</code> out of the box. The proposed solution is similar to this one, with only difference that it only returns <code>violation.getInitialValue()</code> if there is an exception."}],"tags":[],"owner":{"account_id":5862834,"reputation":3736,"user_id":6066470,"display_name":"Nick"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699699720,"creation_date":1699696948,"answer_id":77464641,"question_id":77404307,"body_markdown":"The problem is somewhere with `JsonNullable`. If you declare a field simply as `MyDto` then spring will throw correct validation exception\r\n\r\nSo what happens is that spring, when there is a validation error, tries to get the value of the `myDto.mail` field, but cannot do this because through reflection for the `myDto` field it receives the `JsonNullabl`e type instead of `MyDto`.  You can bypass this behavior by overriding the `getRejectedValue` method. It is better to leave the rest of the code as in the original `ValidationAutoConfiguration.class`\r\n\r\n```\r\n@Configuration\r\nclass ValidationConfig {\r\n    @Bean\r\n    @Primary\r\n    fun defaultValidator(applicationContext: ApplicationContext?): LocalValidatorFactoryBean? {\r\n        val factoryBean = object : LocalValidatorFactoryBean() {\r\n            override fun getRejectedValue(field: String, violation: ConstraintViolation&lt;Any&gt;, bindingResult: BindingResult): Any? {\r\n                return violation.getInvalidValue()\r\n            }\r\n        }\r\n        val interpolatorFactory = MessageInterpolatorFactory(applicationContext)\r\n        factoryBean.messageInterpolator = interpolatorFactory.getObject()\r\n        return factoryBean\r\n    }\r\n}\r\n```","title":"JSR-303 validated property &#39;myDto.mail&#39; does not have a corresponding accessor for Spring data binding - check your DataBinder&#39;s configuration","body":"<p>The problem is somewhere with <code>JsonNullable</code>. If you declare a field simply as <code>MyDto</code> then spring will throw correct validation exception</p>\n<p>So what happens is that spring, when there is a validation error, tries to get the value of the <code>myDto.mail</code> field, but cannot do this because through reflection for the <code>myDto</code> field it receives the <code>JsonNullabl</code>e type instead of <code>MyDto</code>.  You can bypass this behavior by overriding the <code>getRejectedValue</code> method. It is better to leave the rest of the code as in the original <code>ValidationAutoConfiguration.class</code></p>\n<pre><code>@Configuration\nclass ValidationConfig {\n    @Bean\n    @Primary\n    fun defaultValidator(applicationContext: ApplicationContext?): LocalValidatorFactoryBean? {\n        val factoryBean = object : LocalValidatorFactoryBean() {\n            override fun getRejectedValue(field: String, violation: ConstraintViolation&lt;Any&gt;, bindingResult: BindingResult): Any? {\n                return violation.getInvalidValue()\n            }\n        }\n        val interpolatorFactory = MessageInterpolatorFactory(applicationContext)\n        factoryBean.messageInterpolator = interpolatorFactory.getObject()\n        return factoryBean\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77464641,"answer_count":2,"score":3,"last_activity_date":1699699720,"creation_date":1698857843,"question_id":77404307,"body_markdown":"I have following Dto classes structure\r\n\r\n    public class MyDto {\r\n        @Email\r\n        private String mail;\r\n    \r\n        public String getMail() {\r\n            return mail;\r\n        }\r\n    \r\n        public void setMail(String mail) {\r\n           this.mail = mail;\r\n       }\r\n    }\r\n\r\n    @Generated(value = &quot;org.openapitools.codegen.languages.SpringCodegen&quot;, date = &quot;2023-11-01T17:12:49.075897700+03:00[Europe/Moscow]&quot;)\r\n    public class CustomUserPatchRequestDto {\r\n        @JsonProperty(&quot;myDto&quot;)\r\n        @Valid\r\n        private JsonNullable&lt;@Valid MyDto&gt; myDto;\r\n        // getter and setter\r\n        ...\r\n\r\nAnd following controller \r\n\r\n    @RestController\r\n    @Validated\r\n    class MyController() {\r\n      @RequestMapping(\r\n            method = [PATCH],\r\n            value = [&quot;/userscustom/{id}&quot;],\r\n            produces = [&quot;application/json&quot;],\r\n            consumes = [&quot;application/merge-patch+json&quot;]\r\n        )\r\n        fun patchUserCustom(\r\n            @Parameter(name = &quot;id&quot;, description = &quot;&quot;, required = true,in= PATH) @PathVariable(&quot;id&quot;) id: String?\r\n         @Valid @RequestBody userPatchRequestDto: CustomUserPatchRequestDto?\r\n        ): ResponseEntity&lt;String?&gt;? {\r\n            return ResponseEntity.ok(&quot;ok&quot;)\r\n        }\r\n\r\nWhen I send requet with body \r\n\r\n    {\r\n      &quot;myDto&quot;: {\r\n        &quot;mail&quot;: &quot;12sdfdsf3&quot;\r\n      }\r\n    }\r\n\r\nI get error response: \r\n\r\n    {\r\n      &quot;code&quot;: 500,\r\n      &quot;reason&quot;: &quot;JSR-303 validated property &#39;myDto.mail&#39; does not have a corresponding accessor for Spring data binding - check your DataBinder&#39;s configuration (bean property versus direct field access)&quot;\r\n    }\r\n\r\nHow can i fix it?\r\n\r\nI tried to add `@Valid` annotation everywhere but no luck\r\n\r\nUpdate\r\n-\r\n\r\nTried to add **InitBinder** in Controller :\r\n\r\n    @InitBinder\r\n    private fun activateDirectFieldAccess(dataBinder: DataBinder) {\r\n        println(&quot;Working Inner&quot;)\r\n        dataBinder.initDirectFieldAccess();\r\n    }\r\n\r\nAlso tried to add separated class: \r\n\r\n    @ControllerAdvice\r\n    class CustomControllerAdvice {\r\n    \r\n        @InitBinder\r\n        private fun activateDirectFieldAccess(dataBinder: DataBinder) {\r\n            println(&quot;Working Inner&quot;)\r\n            dataBinder.initDirectFieldAccess();\r\n        }\r\n    }\r\n\r\nIn both cases I see message \r\n\r\n    Working Inner\r\n\r\nin console. So this code was executed.\r\n\r\nBut unfortunately I still have the same issue.\r\n\r\n\r\n**P.S.** \r\n\r\nstacktrace is:\r\n\r\n\r\n\r\n    java.lang.IllegalStateException: JSR-303 validated property &#39;myDto.mail&#39; does not have a corresponding accessor for Spring data binding - check your DataBinder&#39;s configuration (bean property versus direct field access)\r\n        at org.springframework.validation.beanvalidation.SpringValidatorAdapter.processConstraintViolations(SpringValidatorAdapter.java:182)\r\n        at org.springframework.validation.beanvalidation.SpringValidatorAdapter.validate(SpringValidatorAdapter.java:104)\r\n        at org.springframework.boot.autoconfigure.validation.ValidatorAdapter.validate(ValidatorAdapter.java:66)\r\n        at org.springframework.validation.DataBinder.validate(DataBinder.java:932)\r\n        at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.validateIfApplicable(AbstractMessageConverterMethodArgumentResolver.java:248)\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:142)\r\n        at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179)\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146)\r\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\r\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\r\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\r\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\r\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:888)\r\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n        at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)\r\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\r\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\r\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\r\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\r\n        at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\r\n        at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\r\n        at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\r\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\r\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\r\n        at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\r\n        at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n        at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\r\n        at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\r\n        at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\r\n        at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\r\n        at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)\r\n    2023-11-07T12:10:09.874+03:00 ERROR 284 --- [nio-8080-exec-1] t.i.exception.RestExceptionHandler   : JSR-303 validated property &#39;myDto.mail&#39; does not have a corresponding accessor for Spring data binding - check your DataBinder&#39;s configuration (bean property versus direct field access)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)\r\n        at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\r\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\r\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\r\n        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\r\n        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n        at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)\r\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\r\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)\r\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\n    Caused by: org.springframework.beans.NotReadablePropertyException: Invalid property &#39;myDto.mail&#39; of bean class [dto.CustomUserPatchRequestDto]: Bean property &#39;myDto.mail&#39; is not readable or has an invalid getter method: Does the return type of the getter match the parameter type of the setter?\r\n        at org.springframework.beans.AbstractNestablePropertyAccessor.getPropertyValue(AbstractNestablePropertyAccessor.java:626)\r\n    Caused by: org.springframework.beans.NotReadablePropertyException: Invalid property &#39;myDto.mail&#39; of bean class [dto.CustomUserPatchRequestDto]: Bean property &#39;myDto.mail&#39; is not readable or has an invalid getter method: Does the return type of the getter match the parameter type of the setter?\r\n    \r\n    at org.springframework.beans.AbstractNestablePropertyAccessor.getPropertyValue(AbstractNestablePropertyAccessor.java:616)\r\n    at org.springframework.validation.AbstractPropertyBindingResult.getActualFieldValue(AbstractPropertyBindingResult.java:104)\r\n    at org.springframework.validation.AbstractBindingResult.getRawFieldValue(AbstractBindingResult.java:281)\r\n    at org.springframework.validation.beanvalidation.SpringValidatorAdapter.getRejectedValue(SpringValidatorAdapter.java:312)\r\n    at org.springframework.validation.beanvalidation.SpringValidatorAdapter.processConstraintViolations(SpringValidatorAdapter.java:168)\r\n    ... 119 more\r\n\r\nUpdate\r\n-\r\n\r\nVery weird thing that if I pass correct email then I don&#39;t see any error and everything is ok. So the problem happens only if I pass invalid email and issue in exception text and type","title":"JSR-303 validated property &#39;myDto.mail&#39; does not have a corresponding accessor for Spring data binding - check your DataBinder&#39;s configuration","body":"<p>I have following Dto classes structure</p>\n<pre><code>public class MyDto {\n    @Email\n    private String mail;\n\n    public String getMail() {\n        return mail;\n    }\n\n    public void setMail(String mail) {\n       this.mail = mail;\n   }\n}\n\n@Generated(value = &quot;org.openapitools.codegen.languages.SpringCodegen&quot;, date = &quot;2023-11-01T17:12:49.075897700+03:00[Europe/Moscow]&quot;)\npublic class CustomUserPatchRequestDto {\n    @JsonProperty(&quot;myDto&quot;)\n    @Valid\n    private JsonNullable&lt;@Valid MyDto&gt; myDto;\n    // getter and setter\n    ...\n</code></pre>\n<p>And following controller</p>\n<pre><code>@RestController\n@Validated\nclass MyController() {\n  @RequestMapping(\n        method = [PATCH],\n        value = [&quot;/userscustom/{id}&quot;],\n        produces = [&quot;application/json&quot;],\n        consumes = [&quot;application/merge-patch+json&quot;]\n    )\n    fun patchUserCustom(\n        @Parameter(name = &quot;id&quot;, description = &quot;&quot;, required = true,in= PATH) @PathVariable(&quot;id&quot;) id: String?\n     @Valid @RequestBody userPatchRequestDto: CustomUserPatchRequestDto?\n    ): ResponseEntity&lt;String?&gt;? {\n        return ResponseEntity.ok(&quot;ok&quot;)\n    }\n</code></pre>\n<p>When I send requet with body</p>\n<pre><code>{\n  &quot;myDto&quot;: {\n    &quot;mail&quot;: &quot;12sdfdsf3&quot;\n  }\n}\n</code></pre>\n<p>I get error response:</p>\n<pre><code>{\n  &quot;code&quot;: 500,\n  &quot;reason&quot;: &quot;JSR-303 validated property 'myDto.mail' does not have a corresponding accessor for Spring data binding - check your DataBinder's configuration (bean property versus direct field access)&quot;\n}\n</code></pre>\n<p>How can i fix it?</p>\n<p>I tried to add <code>@Valid</code> annotation everywhere but no luck</p>\n<h2>Update</h2>\n<p>Tried to add <strong>InitBinder</strong> in Controller :</p>\n<pre><code>@InitBinder\nprivate fun activateDirectFieldAccess(dataBinder: DataBinder) {\n    println(&quot;Working Inner&quot;)\n    dataBinder.initDirectFieldAccess();\n}\n</code></pre>\n<p>Also tried to add separated class:</p>\n<pre><code>@ControllerAdvice\nclass CustomControllerAdvice {\n\n    @InitBinder\n    private fun activateDirectFieldAccess(dataBinder: DataBinder) {\n        println(&quot;Working Inner&quot;)\n        dataBinder.initDirectFieldAccess();\n    }\n}\n</code></pre>\n<p>In both cases I see message</p>\n<pre><code>Working Inner\n</code></pre>\n<p>in console. So this code was executed.</p>\n<p>But unfortunately I still have the same issue.</p>\n<p><strong>P.S.</strong></p>\n<p>stacktrace is:</p>\n<pre><code>java.lang.IllegalStateException: JSR-303 validated property 'myDto.mail' does not have a corresponding accessor for Spring data binding - check your DataBinder's configuration (bean property versus direct field access)\n    at org.springframework.validation.beanvalidation.SpringValidatorAdapter.processConstraintViolations(SpringValidatorAdapter.java:182)\n    at org.springframework.validation.beanvalidation.SpringValidatorAdapter.validate(SpringValidatorAdapter.java:104)\n    at org.springframework.boot.autoconfigure.validation.ValidatorAdapter.validate(ValidatorAdapter.java:66)\n    at org.springframework.validation.DataBinder.validate(DataBinder.java:932)\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.validateIfApplicable(AbstractMessageConverterMethodArgumentResolver.java:248)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:142)\n    at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)\n    at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:888)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\n    at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)\n    at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)\n    at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)\n    at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)\n2023-11-07T12:10:09.874+03:00 ERROR 284 --- [nio-8080-exec-1] t.i.exception.RestExceptionHandler   : JSR-303 validated property 'myDto.mail' does not have a corresponding accessor for Spring data binding - check your DataBinder's configuration (bean property versus direct field access)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: org.springframework.beans.NotReadablePropertyException: Invalid property 'myDto.mail' of bean class [dto.CustomUserPatchRequestDto]: Bean property 'myDto.mail' is not readable or has an invalid getter method: Does the return type of the getter match the parameter type of the setter?\n    at org.springframework.beans.AbstractNestablePropertyAccessor.getPropertyValue(AbstractNestablePropertyAccessor.java:626)\nCaused by: org.springframework.beans.NotReadablePropertyException: Invalid property 'myDto.mail' of bean class [dto.CustomUserPatchRequestDto]: Bean property 'myDto.mail' is not readable or has an invalid getter method: Does the return type of the getter match the parameter type of the setter?\n\nat org.springframework.beans.AbstractNestablePropertyAccessor.getPropertyValue(AbstractNestablePropertyAccessor.java:616)\nat org.springframework.validation.AbstractPropertyBindingResult.getActualFieldValue(AbstractPropertyBindingResult.java:104)\nat org.springframework.validation.AbstractBindingResult.getRawFieldValue(AbstractBindingResult.java:281)\nat org.springframework.validation.beanvalidation.SpringValidatorAdapter.getRejectedValue(SpringValidatorAdapter.java:312)\nat org.springframework.validation.beanvalidation.SpringValidatorAdapter.processConstraintViolations(SpringValidatorAdapter.java:168)\n... 119 more\n</code></pre>\n<h2>Update</h2>\n<p>Very weird thing that if I pass correct email then I don't see any error and everything is ok. So the problem happens only if I pass invalid email and issue in exception text and type</p>\n"},{"tags":["java","spring","spring-boot","heap-memory"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695611747,"post_id":77159839,"comment_id":136042762,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":2016079,"reputation":1865,"user_id":1803356,"accept_rate":71,"display_name":"suiwenfeng"},"score":0,"creation_date":1698129017,"post_id":77159839,"comment_id":136362472,"body_markdown":"you can use one heapdump as baseline, then compare to get which instances increased. after look at the image you post, maybe traceid used as metrics tag.","body":"you can use one heapdump as baseline, then compare to get which instances increased. after look at the image you post, maybe traceid used as metrics tag."}],"answers":[{"tags":[],"owner":{"account_id":3175617,"reputation":1,"user_id":2683573,"display_name":"saiyantan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695408480,"creation_date":1695408480,"answer_id":77160050,"question_id":77159839,"body_markdown":"There are a couple of cases where CPU utilization is consistent -  \r\n1. check the db connection pool size \r\n2. any executor service that is used not close after use\r\n3. any thread pool executor services sed - check core threads  ","title":"Spring Boot API CPU not returning to idle levels when handling errors","body":"<p>There are a couple of cases where CPU utilization is consistent -</p>\n<ol>\n<li>check the db connection pool size</li>\n<li>any executor service that is used not close after use</li>\n<li>any thread pool executor services sed - check core threads</li>\n</ol>\n"}],"owner":{"account_id":29511472,"reputation":1,"user_id":22616409,"display_name":"shivkumar98"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699699289,"creation_date":1695406020,"question_id":77159839,"body_markdown":"I have a Sprint Boot API application which has been experiencing slowdown once a month or so. The only way to rectify this is to restart the application. \r\n\r\nInvestigation into metrics and usage of API helped us figure out that spamming HTTP requests to a specific controller which would lead to exception being thrown causes the CPU utilization not to return to normal. The CPU util hovers between 25-35% consistently when the requests are spammed. The exact steps to reproduce are:\r\n\r\n1) Execute a bash script with infinite loop to send HTTP requests which throw an exception (run multiple instances)\r\n2) Wait till server has reached 100% cpu util\r\n3) Wait 15 minutes\r\n4) Stop infinite loop in bash script\r\n\r\nUsing Java Visual, we can see the cpu util hovering around 25% when the HTTP requests stop:\r\n[enter image description here](https://i.stack.imgur.com/dJ7Yr.png)\r\n\r\nWe have tried multiple things such as upgrading the spring boot version, setting the system variable LatencyUtils.useActualTime to false, performing garbage collection.\r\n\r\nWhen we look at the heap histogram, we can see the class with highest instances is io.micrometer.core.instrument.Tag[]:\r\n[enter image description here](https://i.stack.imgur.com/lCv92.png)\r\n\r\nAny suggestions would be greatly appreciated :) \r\n\r\nCPU util/memory going back to idle levels when the application isn&#39;t receiving any requests","title":"Spring Boot API CPU not returning to idle levels when handling errors","body":"<p>I have a Sprint Boot API application which has been experiencing slowdown once a month or so. The only way to rectify this is to restart the application.</p>\n<p>Investigation into metrics and usage of API helped us figure out that spamming HTTP requests to a specific controller which would lead to exception being thrown causes the CPU utilization not to return to normal. The CPU util hovers between 25-35% consistently when the requests are spammed. The exact steps to reproduce are:</p>\n<ol>\n<li>Execute a bash script with infinite loop to send HTTP requests which throw an exception (run multiple instances)</li>\n<li>Wait till server has reached 100% cpu util</li>\n<li>Wait 15 minutes</li>\n<li>Stop infinite loop in bash script</li>\n</ol>\n<p>Using Java Visual, we can see the cpu util hovering around 25% when the HTTP requests stop:\n<a href=\"https://i.stack.imgur.com/dJ7Yr.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>We have tried multiple things such as upgrading the spring boot version, setting the system variable LatencyUtils.useActualTime to false, performing garbage collection.</p>\n<p>When we look at the heap histogram, we can see the class with highest instances is io.micrometer.core.instrument.Tag[]:\n<a href=\"https://i.stack.imgur.com/lCv92.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Any suggestions would be greatly appreciated :)</p>\n<p>CPU util/memory going back to idle levels when the application isn't receiving any requests</p>\n"},{"tags":["java","memory","heap-memory","metaspace"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1698748986,"post_id":77395159,"comment_id":136441964,"body_markdown":"VIRT includes all mapped memory, even if its hasn&#39;t been used. https://serverfault.com/questions/138427/what-does-virtual-memory-size-in-top-mean","body":"VIRT includes all mapped memory, even if its hasn&#39;t been used. <a href=\"https://serverfault.com/questions/138427/what-does-virtual-memory-size-in-top-mean\" title=\"what does virtual memory size in top mean\">serverfault.com/questions/138427/&hellip;</a>"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1698749668,"post_id":77395159,"comment_id":136442106,"body_markdown":"From the linked question: those 0.5 GB encompass all the program code of the JVM itself and its libraries, the memory mapped JAR files that constitute the classpath and many things more.","body":"From the linked question: those 0.5 GB encompass all the program code of the JVM itself and its libraries, the memory mapped JAR files that constitute the classpath and many things more."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1698749854,"post_id":77395159,"comment_id":136442134,"body_markdown":"... and the stacks and various other data structured allocated by the JVM internals that are neither heap or metaspace.  Basically, all sorts of things that you most likely don&#39;t need to know about.","body":"... and the stacks and various other data structured allocated by the JVM internals that are neither heap or metaspace.  Basically, all sorts of things that you most likely don&#39;t need to know about."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1698749947,"post_id":77395159,"comment_id":136442148,"body_markdown":"Saying it is &quot;excessive&quot; presupposes that you know what the memory is used for.  But if you don&#39;t like it, there are other programming languages ... specially designed for memory misers :-)","body":"Saying it is &quot;excessive&quot; presupposes that you know what the memory is used for.  But if you don&#39;t like it, there are other programming languages ... specially designed for memory misers :-)"}],"owner":{"account_id":7287293,"reputation":3,"user_id":5554988,"display_name":"Martijn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1698749588,"answer_count":0,"score":0,"last_activity_date":1699699125,"creation_date":1698748610,"question_id":77395159,"body_markdown":"My java process uses 1,8g memory, but Xmx (768m) and metaspace together only add up to ~1,3g:\r\n\r\n1. What is the missing 0,5g being used for?\r\n2. Is there a way to have influence over this amount?\r\n\r\nI have tried using 2 different vms (eclipse jre17-temurin and amazon jdk17-corretto) and both seem to behave the same\r\n\r\n[top command that shows 1,8g](https://i.stack.imgur.com/PJ5xH.png)\r\n\r\n\r\n```\r\nroot@012c846e6fdd:/usr/local/tomcat# jattach 40 jcmd &quot;VM.native_memory&quot;\r\nConnected to remote JVM\r\nJVM response code = 0\r\n\r\nNative Memory Tracking:\r\n\r\n(Omitting categories weighting less than 1KB)\r\n\r\nTotal: reserved=2567596KB, committed=1284664KB\r\n       malloc: 113456KB #1462750\r\n       mmap:   reserved=2454140KB, committed=1171208KB\r\n\r\n-                 Java Heap (reserved=786432KB, committed=760832KB)\r\n                            (mmap: reserved=786432KB, committed=760832KB)\r\n\r\n-                     Class (reserved=1052664KB, committed=29688KB)\r\n                            (classes #37343)\r\n                            (  instance classes #34992, array classes #2351)\r\n                            (malloc=4088KB #91969)\r\n                            (mmap: reserved=1048576KB, committed=25600KB)\r\n                            (  Metadata:   )\r\n                            (    reserved=212992KB, committed=210880KB)\r\n                            (    used=210351KB)\r\n                            (    waste=529KB =0.25%)\r\n                            (  Class space:)\r\n                            (    reserved=1048576KB, committed=25600KB)\r\n                            (    used=25027KB)\r\n                            (    waste=573KB =2.24%)\r\n\r\n-                    Thread (reserved=84198KB, committed=7938KB)\r\n                            (thread #82)\r\n                            (stack: reserved=83968KB, committed=7708KB)\r\n                            (malloc=135KB #497)\r\n                            (arena=95KB #163)\r\n\r\n-                      Code (reserved=255546KB, committed=102094KB)\r\n                            (malloc=7858KB #29903)\r\n                            (mmap: reserved=247688KB, committed=94236KB)\r\n\r\n-                        GC (reserved=85611KB, committed=84679KB)\r\n                            (malloc=23459KB #61207)\r\n                            (mmap: reserved=62152KB, committed=61220KB)\r\n\r\n-                  Compiler (reserved=693KB, committed=693KB)\r\n                            (malloc=529KB #3360)\r\n                            (arena=165KB #5)\r\n\r\n-                  Internal (reserved=4293KB, committed=4293KB)\r\n                            (malloc=4257KB #40522)\r\n                            (mmap: reserved=36KB, committed=36KB)\r\n\r\n-                     Other (reserved=4453KB, committed=4453KB)\r\n                            (malloc=4453KB #44)\r\n\r\n-                    Symbol (reserved=43130KB, committed=43130KB)\r\n                            (malloc=41076KB #1227006)\r\n                            (arena=2054KB #1)\r\n\r\n-    Native Memory Tracking (reserved=22878KB, committed=22878KB)\r\n                            (malloc=22KB #334)\r\n                            (tracking overhead=22855KB)\r\n\r\n-        Shared class space (reserved=12288KB, committed=10688KB)\r\n                            (mmap: reserved=12288KB, committed=10688KB)\r\n\r\n-               Arena Chunk (reserved=199KB, committed=199KB)\r\n                            (malloc=199KB)\r\n\r\n-                   Tracing (reserved=32KB, committed=32KB)\r\n                            (arena=32KB #1)\r\n\r\n-                    Module (reserved=979KB, committed=979KB)\r\n                            (malloc=979KB #5196)\r\n\r\n-                 Safepoint (reserved=8KB, committed=8KB)\r\n                            (mmap: reserved=8KB, committed=8KB)\r\n\r\n-           Synchronization (reserved=136KB, committed=136KB)\r\n                            (malloc=136KB #1454)\r\n\r\n-            Serviceability (reserved=1KB, committed=1KB)\r\n                            (malloc=1KB #12)\r\n\r\n-                 Metaspace (reserved=214005KB, committed=211893KB)\r\n                            (malloc=1013KB #741)\r\n                            (mmap: reserved=212992KB, committed=210880KB)\r\n\r\n-      String Deduplication (reserved=1KB, committed=1KB)\r\n                            (malloc=1KB #8)\r\n\r\n-           Object Monitors (reserved=48KB, committed=48KB)\r\n                            (malloc=48KB #237)\r\n\r\n```\r\n\r\n\r\nI expected the total memory usage of the java process to be the same as the summary of the VM.native_memory and maybe a little bit extra for the jvm, but 500m seems excessive.","title":"How come java process seems to use more memory than heap and metaspace combined?","body":"<p>My java process uses 1,8g memory, but Xmx (768m) and metaspace together only add up to ~1,3g:</p>\n<ol>\n<li>What is the missing 0,5g being used for?</li>\n<li>Is there a way to have influence over this amount?</li>\n</ol>\n<p>I have tried using 2 different vms (eclipse jre17-temurin and amazon jdk17-corretto) and both seem to behave the same</p>\n<p><a href=\"https://i.stack.imgur.com/PJ5xH.png\" rel=\"nofollow noreferrer\">top command that shows 1,8g</a></p>\n<pre><code>root@012c846e6fdd:/usr/local/tomcat# jattach 40 jcmd &quot;VM.native_memory&quot;\nConnected to remote JVM\nJVM response code = 0\n\nNative Memory Tracking:\n\n(Omitting categories weighting less than 1KB)\n\nTotal: reserved=2567596KB, committed=1284664KB\n       malloc: 113456KB #1462750\n       mmap:   reserved=2454140KB, committed=1171208KB\n\n-                 Java Heap (reserved=786432KB, committed=760832KB)\n                            (mmap: reserved=786432KB, committed=760832KB)\n\n-                     Class (reserved=1052664KB, committed=29688KB)\n                            (classes #37343)\n                            (  instance classes #34992, array classes #2351)\n                            (malloc=4088KB #91969)\n                            (mmap: reserved=1048576KB, committed=25600KB)\n                            (  Metadata:   )\n                            (    reserved=212992KB, committed=210880KB)\n                            (    used=210351KB)\n                            (    waste=529KB =0.25%)\n                            (  Class space:)\n                            (    reserved=1048576KB, committed=25600KB)\n                            (    used=25027KB)\n                            (    waste=573KB =2.24%)\n\n-                    Thread (reserved=84198KB, committed=7938KB)\n                            (thread #82)\n                            (stack: reserved=83968KB, committed=7708KB)\n                            (malloc=135KB #497)\n                            (arena=95KB #163)\n\n-                      Code (reserved=255546KB, committed=102094KB)\n                            (malloc=7858KB #29903)\n                            (mmap: reserved=247688KB, committed=94236KB)\n\n-                        GC (reserved=85611KB, committed=84679KB)\n                            (malloc=23459KB #61207)\n                            (mmap: reserved=62152KB, committed=61220KB)\n\n-                  Compiler (reserved=693KB, committed=693KB)\n                            (malloc=529KB #3360)\n                            (arena=165KB #5)\n\n-                  Internal (reserved=4293KB, committed=4293KB)\n                            (malloc=4257KB #40522)\n                            (mmap: reserved=36KB, committed=36KB)\n\n-                     Other (reserved=4453KB, committed=4453KB)\n                            (malloc=4453KB #44)\n\n-                    Symbol (reserved=43130KB, committed=43130KB)\n                            (malloc=41076KB #1227006)\n                            (arena=2054KB #1)\n\n-    Native Memory Tracking (reserved=22878KB, committed=22878KB)\n                            (malloc=22KB #334)\n                            (tracking overhead=22855KB)\n\n-        Shared class space (reserved=12288KB, committed=10688KB)\n                            (mmap: reserved=12288KB, committed=10688KB)\n\n-               Arena Chunk (reserved=199KB, committed=199KB)\n                            (malloc=199KB)\n\n-                   Tracing (reserved=32KB, committed=32KB)\n                            (arena=32KB #1)\n\n-                    Module (reserved=979KB, committed=979KB)\n                            (malloc=979KB #5196)\n\n-                 Safepoint (reserved=8KB, committed=8KB)\n                            (mmap: reserved=8KB, committed=8KB)\n\n-           Synchronization (reserved=136KB, committed=136KB)\n                            (malloc=136KB #1454)\n\n-            Serviceability (reserved=1KB, committed=1KB)\n                            (malloc=1KB #12)\n\n-                 Metaspace (reserved=214005KB, committed=211893KB)\n                            (malloc=1013KB #741)\n                            (mmap: reserved=212992KB, committed=210880KB)\n\n-      String Deduplication (reserved=1KB, committed=1KB)\n                            (malloc=1KB #8)\n\n-           Object Monitors (reserved=48KB, committed=48KB)\n                            (malloc=48KB #237)\n\n</code></pre>\n<p>I expected the total memory usage of the java process to be the same as the summary of the VM.native_memory and maybe a little bit extra for the jvm, but 500m seems excessive.</p>\n"},{"tags":["java","spring","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1699541122,"post_id":77451086,"comment_id":136547289,"body_markdown":"Seems like you have a relationship between the two entities. Just an opinion: Your service layer should handle setting the CustomerDetails.pdfGenerateFlag flag when it makes LineItem modifications and deal with the entity object directly - this will ensure that any instances of CustomerDetails you have cached reflect the current value and don&#39;t become out of synch with what is in the DB.","body":"Seems like you have a relationship between the two entities. Just an opinion: Your service layer should handle setting the CustomerDetails.pdfGenerateFlag flag when it makes LineItem modifications and deal with the entity object directly - this will ensure that any instances of CustomerDetails you have cached reflect the current value and don&#39;t become out of synch with what is in the DB."}],"answers":[{"tags":[],"owner":{"account_id":9727934,"reputation":2489,"user_id":7214142,"display_name":"Yuriy Tsarkov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699699115,"creation_date":1699699115,"answer_id":77464745,"question_id":77451086,"body_markdown":"[Spring Data JPA][1] reference says\r\n&gt; Spring Data JPA aims to significantly improve the implementation of\r\n&gt; data access layers by reducing the effort to the amount that’s\r\n&gt; actually needed.\r\n\r\nAs for me, it means whatever you use to work with data, you should work with data you use. Using one entity&#39;s repo for modifying another entity is absolutely misleading. `JpaRepository` is just a suitable abstraction designed to simplify an interaction with database and can be replaced with JDBC call or whatever. What will you think of this method functionality in a while, looking at the name of the `LineRepository.changePdfGenerateFlag(long)` method? How will you understand it works with another entity?\r\n\r\nYour necessity to reset the flag of one entity when another has been changed is a kind of business requirement, so it would be wise to make it a part of the business layer, not infrastructure. \r\n\r\nIf I did this task, I would create separate service methods for updating and creating entities and within each of them the opposite repository would be invoked\r\n\r\n    @Transactional // atomicity for both create CD and update LD\r\n    public CustomerDetails createCustomerDetails(CustomerDetailsDto dto) {\r\n    \tCustomerDetails customerDetails = customerDetailsRepository.save(create(dto));\r\n    \t// btw, do they both have the same ID? How do you handle it?\r\n    \tlineDetailsRepository.changeFlag(&lt;line_detail_id&gt;, &lt;flag_value&gt;);\r\n    \treturn customerDetails;\r\n    }\r\n\r\n  [1]: https://spring.io/projects/spring-data-jpa","title":"Is it a good practice to write a jpql query of another entity in a JpaRepository defined for different entity?","body":"<p><a href=\"https://spring.io/projects/spring-data-jpa\" rel=\"nofollow noreferrer\">Spring Data JPA</a> reference says</p>\n<blockquote>\n<p>Spring Data JPA aims to significantly improve the implementation of\ndata access layers by reducing the effort to the amount that’s\nactually needed.</p>\n</blockquote>\n<p>As for me, it means whatever you use to work with data, you should work with data you use. Using one entity's repo for modifying another entity is absolutely misleading. <code>JpaRepository</code> is just a suitable abstraction designed to simplify an interaction with database and can be replaced with JDBC call or whatever. What will you think of this method functionality in a while, looking at the name of the <code>LineRepository.changePdfGenerateFlag(long)</code> method? How will you understand it works with another entity?</p>\n<p>Your necessity to reset the flag of one entity when another has been changed is a kind of business requirement, so it would be wise to make it a part of the business layer, not infrastructure.</p>\n<p>If I did this task, I would create separate service methods for updating and creating entities and within each of them the opposite repository would be invoked</p>\n<pre><code>@Transactional // atomicity for both create CD and update LD\npublic CustomerDetails createCustomerDetails(CustomerDetailsDto dto) {\n    CustomerDetails customerDetails = customerDetailsRepository.save(create(dto));\n    // btw, do they both have the same ID? How do you handle it?\n    lineDetailsRepository.changeFlag(&lt;line_detail_id&gt;, &lt;flag_value&gt;);\n    return customerDetails;\n}\n</code></pre>\n"}],"owner":{"account_id":19680594,"reputation":149,"user_id":14407807,"display_name":"Farha Mansuri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699699115,"creation_date":1699513377,"question_id":77451086,"body_markdown":"I have 2 entities in my database CustomerDetails &amp; LineDetails. In CustomerDetails table there is a flag pdf_generate_flag, datatype of which is set to boolean.\r\nSo everytime, when there is a request to add or update either CustomerDetails or LineDetails i need to change the flag to false. \r\nSo for CustomerDetail object, i set the pdf_generate_value in the CustomerDetail object itself, so while updating it will set the value to false.\r\nBut for LineDetails i need to write a query to update its value to false explicitly.\r\n\r\nI can write this method in CustomerRepository and autowired it in LineImpl and called it but it is never called from CustomerImpl.\r\nSo should i write this method in LineRepository? Which one is the good practice. Working in both the ways.\r\n\r\nThis is my lineRepo and i am updating customer entity from it.\r\n```\r\n@Repository\r\npublic interface LineRepository extends JpaRepository&lt;LineDetails, Long&gt; {\r\n    @Modifying\r\n    @Query(&quot;update CustomerDetails c set c.pdfGenerateFlag = 0 where c.id = :id&quot;)\r\n    void changePdfGenerateFlag(Long id);\r\n}\r\n```\r\n\r\nSame method should i write it in customerRepo and autowire it in LineImp or should i directly call LineRepo? Which one will be a good practice?\r\n\r\nI have tried both the ways and it is working. ","title":"Is it a good practice to write a jpql query of another entity in a JpaRepository defined for different entity?","body":"<p>I have 2 entities in my database CustomerDetails &amp; LineDetails. In CustomerDetails table there is a flag pdf_generate_flag, datatype of which is set to boolean.\nSo everytime, when there is a request to add or update either CustomerDetails or LineDetails i need to change the flag to false.\nSo for CustomerDetail object, i set the pdf_generate_value in the CustomerDetail object itself, so while updating it will set the value to false.\nBut for LineDetails i need to write a query to update its value to false explicitly.</p>\n<p>I can write this method in CustomerRepository and autowired it in LineImpl and called it but it is never called from CustomerImpl.\nSo should i write this method in LineRepository? Which one is the good practice. Working in both the ways.</p>\n<p>This is my lineRepo and i am updating customer entity from it.</p>\n<pre><code>@Repository\npublic interface LineRepository extends JpaRepository&lt;LineDetails, Long&gt; {\n    @Modifying\n    @Query(&quot;update CustomerDetails c set c.pdfGenerateFlag = 0 where c.id = :id&quot;)\n    void changePdfGenerateFlag(Long id);\n}\n</code></pre>\n<p>Same method should i write it in customerRepo and autowire it in LineImp or should i directly call LineRepo? Which one will be a good practice?</p>\n<p>I have tried both the ways and it is working.</p>\n"},{"tags":["java","intellij-idea","heap-memory","adoptopenjdk"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1699352865,"post_id":77437401,"comment_id":136518034,"body_markdown":"`-Xmx128M` is a JVM argument, not an argument for your application.","body":"<code>-Xmx128M</code> is a JVM argument, not an argument for your application."},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":1,"creation_date":1699354279,"post_id":77437401,"comment_id":136518307,"body_markdown":"You added it as command line argument, it is a VM argument.","body":"You added it as command line argument, it is a VM argument."},{"owner":{"account_id":8986732,"reputation":1074,"user_id":6700091,"display_name":"Kamil Bęben"},"score":0,"creation_date":1699359750,"post_id":77437401,"comment_id":136519292,"body_markdown":"I see, thank you for the clarification. I have somehow missed that","body":"I see, thank you for the clarification. I have somehow missed that"}],"owner":{"account_id":8986732,"reputation":1074,"user_id":6700091,"display_name":"Kamil Bęben"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1699352837,"answer_count":0,"score":0,"last_activity_date":1699698953,"creation_date":1699352562,"question_id":77437401,"body_markdown":"# Problem\r\nI am trying to restrict max heap size of the application running under Intellij IDEA - in order to detect memory problems as early as possible.\r\n\r\nSo far I have tried to pass custom JVM option in *Run/Debug Configurations &gt; CLI arguments to your application.*\r\n\r\n    -Xmx128M\r\n\r\nThis resulted in Intellij producing the following command:\r\n\r\n    /usr/lib/jvm/adoptopenjdk-11-hotspot-amd64/bin/java \\\r\n      -Dfile.encoding=UTF-8 \\\r\n      -classpath /home/username/ws/projectname/target/classes:/home/username/.m2/repository/org/jetbrains/annotations/23.0.0/annotations-23.0.0.jar:/home/username/.m2/repository/org/reflections/reflections/0.9.10/reflections-0.9.10.jar:/home/username/.m2/repository/org/javassist/javassist/3.19.0-GA/javassist-3.19.0-GA.jar:/home/username/.m2/repository/com/google/code/findbugs/annotations/2.0.1/annotations-2.0.1.jar:/home/username/.m2/repository/com/github/matejtymes/javafixes/1.3.2/javafixes-1.3.2.jar:...:/home/username/.m2/repository/org/bgee/log4jdbc-log4j2/log4jdbc-log4j2-jdbc4.1/1.16/log4jdbc-log4j2-jdbc4.1-1.16.jar com.companyname.rootpackage.MainApplicationClass \\\r\n      -Xmx128M\r\n\r\nWhich does not restrict max heap size to 128MB. But this would have:\r\n\r\n    /usr/lib/jvm/adoptopenjdk-11-hotspot-amd64/bin/java \\\r\n      -Xmx128M \\\r\n      -Dfile.encoding=UTF-8 \\\r\n      -classpath /home/username/ws/projectname/target/classes:/home/username/.m2/repository/org/jetbrains/annotations/23.0.0/annotations-23.0.0.jar:/home/username/.m2/repository/org/reflections/reflections/0.9.10/reflections-0.9.10.jar:/home/username/.m2/repository/org/javassist/javassist/3.19.0-GA/javassist-3.19.0-GA.jar:/home/username/.m2/repository/com/google/code/findbugs/annotations/2.0.1/annotations-2.0.1.jar:/home/username/.m2/repository/com/github/matejtymes/javafixes/1.3.2/javafixes-1.3.2.jar:...:/home/username/.m2/repository/org/bgee/log4jdbc-log4j2/log4jdbc-log4j2-jdbc4.1/1.16/log4jdbc-log4j2-jdbc4.1-1.16.jar com.companyname.rootpackage.MainApplicationClass\r\n\r\nI have changed paths and project names, and cut-out large portion of the jars added to classpath.\r\n\r\nI know that the first command does not restrict maximum heap size because I have seen the output of `Runtime.getRuntime().maxMemory()` - which returned ~5GB (1/4th of total RAM available on my development machine - that&#39;s the default JDK setting).\r\n\r\nI know that the second command *does* restrict maximum heap size because I have tried it outside of Intellij. The output of `Runtime.getRuntime().maxMemory()` had changed accordingly.\r\n\r\n# Questions\r\n1. Is it normal for `-Xmx` option to work only it it&#39;s defined before the classpath?\r\n2. Is it possible to restrict max heap size of the application in other way than by using `CLI arguments to your application.`?\r\n\r\n# Versions used\r\n\r\nJava\r\n\r\n    openjdk 11.0.11 2021-04-20\r\n    OpenJDK Runtime Environment AdoptOpenJDK-11.0.11+9 (build 11.0.11+9)\r\n    OpenJDK 64-Bit Server VM AdoptOpenJDK-11.0.11+9 (build 11.0.11+9, mixed mode)\r\n\r\nIntellij IDEA\r\n\r\n    IntelliJ IDEA 2023.2.2 (Community Edition)\r\n    Build #IC-232.9921.47, built on September 12, 2023\r\n\r\nOS\r\n\r\n    PRETTY_NAME=&quot;Debian GNU/Linux bookworm/sid&quot;\r\n","title":"Restricting max heap size of application running under Intellij IDEA","body":"<h1>Problem</h1>\n<p>I am trying to restrict max heap size of the application running under Intellij IDEA - in order to detect memory problems as early as possible.</p>\n<p>So far I have tried to pass custom JVM option in <em>Run/Debug Configurations &gt; CLI arguments to your application.</em></p>\n<pre><code>-Xmx128M\n</code></pre>\n<p>This resulted in Intellij producing the following command:</p>\n<pre><code>/usr/lib/jvm/adoptopenjdk-11-hotspot-amd64/bin/java \\\n  -Dfile.encoding=UTF-8 \\\n  -classpath /home/username/ws/projectname/target/classes:/home/username/.m2/repository/org/jetbrains/annotations/23.0.0/annotations-23.0.0.jar:/home/username/.m2/repository/org/reflections/reflections/0.9.10/reflections-0.9.10.jar:/home/username/.m2/repository/org/javassist/javassist/3.19.0-GA/javassist-3.19.0-GA.jar:/home/username/.m2/repository/com/google/code/findbugs/annotations/2.0.1/annotations-2.0.1.jar:/home/username/.m2/repository/com/github/matejtymes/javafixes/1.3.2/javafixes-1.3.2.jar:...:/home/username/.m2/repository/org/bgee/log4jdbc-log4j2/log4jdbc-log4j2-jdbc4.1/1.16/log4jdbc-log4j2-jdbc4.1-1.16.jar com.companyname.rootpackage.MainApplicationClass \\\n  -Xmx128M\n</code></pre>\n<p>Which does not restrict max heap size to 128MB. But this would have:</p>\n<pre><code>/usr/lib/jvm/adoptopenjdk-11-hotspot-amd64/bin/java \\\n  -Xmx128M \\\n  -Dfile.encoding=UTF-8 \\\n  -classpath /home/username/ws/projectname/target/classes:/home/username/.m2/repository/org/jetbrains/annotations/23.0.0/annotations-23.0.0.jar:/home/username/.m2/repository/org/reflections/reflections/0.9.10/reflections-0.9.10.jar:/home/username/.m2/repository/org/javassist/javassist/3.19.0-GA/javassist-3.19.0-GA.jar:/home/username/.m2/repository/com/google/code/findbugs/annotations/2.0.1/annotations-2.0.1.jar:/home/username/.m2/repository/com/github/matejtymes/javafixes/1.3.2/javafixes-1.3.2.jar:...:/home/username/.m2/repository/org/bgee/log4jdbc-log4j2/log4jdbc-log4j2-jdbc4.1/1.16/log4jdbc-log4j2-jdbc4.1-1.16.jar com.companyname.rootpackage.MainApplicationClass\n</code></pre>\n<p>I have changed paths and project names, and cut-out large portion of the jars added to classpath.</p>\n<p>I know that the first command does not restrict maximum heap size because I have seen the output of <code>Runtime.getRuntime().maxMemory()</code> - which returned ~5GB (1/4th of total RAM available on my development machine - that's the default JDK setting).</p>\n<p>I know that the second command <em>does</em> restrict maximum heap size because I have tried it outside of Intellij. The output of <code>Runtime.getRuntime().maxMemory()</code> had changed accordingly.</p>\n<h1>Questions</h1>\n<ol>\n<li>Is it normal for <code>-Xmx</code> option to work only it it's defined before the classpath?</li>\n<li>Is it possible to restrict max heap size of the application in other way than by using <code>CLI arguments to your application.</code>?</li>\n</ol>\n<h1>Versions used</h1>\n<p>Java</p>\n<pre><code>openjdk 11.0.11 2021-04-20\nOpenJDK Runtime Environment AdoptOpenJDK-11.0.11+9 (build 11.0.11+9)\nOpenJDK 64-Bit Server VM AdoptOpenJDK-11.0.11+9 (build 11.0.11+9, mixed mode)\n</code></pre>\n<p>Intellij IDEA</p>\n<pre><code>IntelliJ IDEA 2023.2.2 (Community Edition)\nBuild #IC-232.9921.47, built on September 12, 2023\n</code></pre>\n<p>OS</p>\n<pre><code>PRETTY_NAME=&quot;Debian GNU/Linux bookworm/sid&quot;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1699680340,"post_id":77463948,"comment_id":136565058,"body_markdown":"If your queue is small, your tasks are simply rejected, if your queue is large, then `get` waits for the task to be picked up by a thread in the thread pool, which makes `get` time out.","body":"If your queue is small, your tasks are simply rejected, if your queue is large, then <code>get</code> waits for the task to be picked up by a thread in the thread pool, which makes <code>get</code> time out."}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699698849,"creation_date":1699698849,"answer_id":77464736,"question_id":77463948,"body_markdown":"&gt; [...] why the CompletableFuture.get() is blocked by the Thread.sleep()?\r\n\r\nIn your code the `Thread.sleep()` is executed before the work task produces a result:\r\n\r\n    Supplier&lt;Void&gt; task = () -&gt; {\r\n        try {\r\n            TimeUnit.MILLISECONDS.sleep(200);  // this is the sleep\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        return null;  // here the work task produces the result\r\n    };\r\n\r\n`Completable.get()` retrieves the result that this work task produces. It cannot retrieve that result before the work task has produced it and is therefore delayed by the `Thread.sleep()`.\r\n\r\n-----\r\n&gt; When the queue size less that 16 it works fine and be able to get result within 200~300ms. However when I adjust queue size to 30 I get TimeoutException.\r\n\r\nThis happens because of the interaction between\r\n- number of threads creating work tasks (30)\r\n- ThreadExecutor core pool size (4)\r\n- ThreadExecutor maximum pool size (16)\r\n- maximum capacity of the work queue (10, 30)\r\n\r\nThe ThreadExecutor spawns up to _core pool size_ threads as soon as work arrives (https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/ThreadPoolExecutor.html):\r\n\r\n&gt; Core and maximum pool sizes\r\n&gt;\r\n&gt; A ThreadPoolExecutor will automatically adjust the pool size [...]. When a new task is submitted in method execute(Runnable), if fewer than corePoolSize threads are running, a new thread is created to handle the request, even if other worker threads are idle. Else if fewer than maximumPoolSize threads are running, a new thread will be created to handle the request only if the queue is full. [...]\r\n\r\nIf the maximum queue size is low (10) the 30 threads creating new work tasks will quickly generate more than corePoolSize + queueSize (4 + 10 = 14) work tasks and the ThreadPoolExecutor will start more threads up to the maximum pool size (16).\r\n\r\nAt this point you have 16 threads executing work tasks and a queue of another 10 work tasks. Of your 30 threads creating new work tasks 26 are blocked (because their work tasks are either executing or waiting in the work queue), the other 4 threads are creating work tasks that get rejected (because the work queue is full).\r\n\r\nIf a work tasks is completed, the thread that executed it fetches the next work task from the work queue which has been sitting there for about 200ms (it will never much longer because the work queue size is small compared to the number of threads in the ThreadPoolExecutor) and therefore can successfully completed within the time limit of 1000ms that the creating thread is willing to wait.\r\n\r\nThe whole picture changes when you raise the maximum work queue size to 30. In this case the work queue will never be full and the ThreadPoolExecutor will only start corePoolSize threads (i.e. 4 threads):\r\n\r\n- you have 30 threads creating work tasks (within a few milliseconds)\r\n- the ThreadPoolExecutor will create 4 threads to handle 4 of these work tasks\r\n- 26 work tasks will be stored in the work queue\r\n\r\n- after 200ms the 4 threads of the ThreadPoolExecutor will have finished 4 work tasks and will pick the next work tasks.\r\n\r\n- after 400ms the 4 threads of the ThreadPoolExecutor will have finished 8 work tasks.\r\n\r\n- after 600ms the 4 threads of the ThreadPoolExecutor will have finished 12 work tasks.\r\n\r\n- after 800ms the 4 threads of the ThreadPoolExecutor will have finished 16 work tasks.\r\n\r\n- after 1000ms the 4 threads of the ThreadPoolExecutor will have finished 20 work tasks.\r\n\r\nAnd now 10 of those 30 work tasks that where created during the first few milliseconds will start to time out.","title":"Why is CompletableFuture.get() blocked by Thread.sleep()?","body":"<blockquote>\n<p>[...] why the CompletableFuture.get() is blocked by the Thread.sleep()?</p>\n</blockquote>\n<p>In your code the <code>Thread.sleep()</code> is executed before the work task produces a result:</p>\n<pre><code>Supplier&lt;Void&gt; task = () -&gt; {\n    try {\n        TimeUnit.MILLISECONDS.sleep(200);  // this is the sleep\n    } catch (InterruptedException e) {\n        throw new RuntimeException(e);\n    }\n    return null;  // here the work task produces the result\n};\n</code></pre>\n<p><code>Completable.get()</code> retrieves the result that this work task produces. It cannot retrieve that result before the work task has produced it and is therefore delayed by the <code>Thread.sleep()</code>.</p>\n<hr />\n<blockquote>\n<p>When the queue size less that 16 it works fine and be able to get result within 200~300ms. However when I adjust queue size to 30 I get TimeoutException.</p>\n</blockquote>\n<p>This happens because of the interaction between</p>\n<ul>\n<li>number of threads creating work tasks (30)</li>\n<li>ThreadExecutor core pool size (4)</li>\n<li>ThreadExecutor maximum pool size (16)</li>\n<li>maximum capacity of the work queue (10, 30)</li>\n</ul>\n<p>The ThreadExecutor spawns up to <em>core pool size</em> threads as soon as work arrives (<a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/ThreadPoolExecutor.html</a>):</p>\n<blockquote>\n<p>Core and maximum pool sizes</p>\n<p>A ThreadPoolExecutor will automatically adjust the pool size [...]. When a new task is submitted in method execute(Runnable), if fewer than corePoolSize threads are running, a new thread is created to handle the request, even if other worker threads are idle. Else if fewer than maximumPoolSize threads are running, a new thread will be created to handle the request only if the queue is full. [...]</p>\n</blockquote>\n<p>If the maximum queue size is low (10) the 30 threads creating new work tasks will quickly generate more than corePoolSize + queueSize (4 + 10 = 14) work tasks and the ThreadPoolExecutor will start more threads up to the maximum pool size (16).</p>\n<p>At this point you have 16 threads executing work tasks and a queue of another 10 work tasks. Of your 30 threads creating new work tasks 26 are blocked (because their work tasks are either executing or waiting in the work queue), the other 4 threads are creating work tasks that get rejected (because the work queue is full).</p>\n<p>If a work tasks is completed, the thread that executed it fetches the next work task from the work queue which has been sitting there for about 200ms (it will never much longer because the work queue size is small compared to the number of threads in the ThreadPoolExecutor) and therefore can successfully completed within the time limit of 1000ms that the creating thread is willing to wait.</p>\n<p>The whole picture changes when you raise the maximum work queue size to 30. In this case the work queue will never be full and the ThreadPoolExecutor will only start corePoolSize threads (i.e. 4 threads):</p>\n<ul>\n<li><p>you have 30 threads creating work tasks (within a few milliseconds)</p>\n</li>\n<li><p>the ThreadPoolExecutor will create 4 threads to handle 4 of these work tasks</p>\n</li>\n<li><p>26 work tasks will be stored in the work queue</p>\n</li>\n<li><p>after 200ms the 4 threads of the ThreadPoolExecutor will have finished 4 work tasks and will pick the next work tasks.</p>\n</li>\n<li><p>after 400ms the 4 threads of the ThreadPoolExecutor will have finished 8 work tasks.</p>\n</li>\n<li><p>after 600ms the 4 threads of the ThreadPoolExecutor will have finished 12 work tasks.</p>\n</li>\n<li><p>after 800ms the 4 threads of the ThreadPoolExecutor will have finished 16 work tasks.</p>\n</li>\n<li><p>after 1000ms the 4 threads of the ThreadPoolExecutor will have finished 20 work tasks.</p>\n</li>\n</ul>\n<p>And now 10 of those 30 work tasks that where created during the first few milliseconds will start to time out.</p>\n"}],"owner":{"account_id":10624443,"reputation":13,"user_id":7824488,"display_name":"jason wu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77464736,"answer_count":1,"score":1,"last_activity_date":1699698849,"creation_date":1699678569,"question_id":77463948,"body_markdown":"I have no idea why the CompletableFuture.get() is blocked by the Thread.sleep()? Why does the size of LinkedBlockingQueue will affect the probability of TimeoutException ?\r\n \r\nThanks.\r\n\r\n```\r\nimport com.google.common.collect.Queues;\r\n\r\nimport java.util.concurrent.CompletableFuture;\r\nimport java.util.concurrent.ThreadPoolExecutor;\r\nimport java.util.concurrent.TimeUnit;\r\nimport java.util.concurrent.TimeoutException;\r\nimport java.util.function.Supplier;\r\n\r\npublic class TaskSleepTest {\r\n\r\n    private static final ThreadPoolExecutor EXECUTOR = new ThreadPoolExecutor(4, 16, 1, TimeUnit.MINUTES, Queues.newLinkedBlockingQueue(10));\r\n\r\n    public static void main(String[] args) {\r\n        for (int i = 0; i &lt; 30; i++) {\r\n            new Thread(() -&gt; {\r\n                for (int i1 = 0; i1 &lt; 2000; i1++) {\r\n                    Supplier&lt;Void&gt; task = () -&gt; {\r\n                        try {\r\n                            TimeUnit.MILLISECONDS.sleep(200);\r\n                        } catch (InterruptedException e) {\r\n                            throw new RuntimeException(e);\r\n                        }\r\n                        return null;\r\n                    };\r\n                    testSleep(task);\r\n                }\r\n            }).start();\r\n        }\r\n    }\r\n\r\n    private static void testSleep(Supplier&lt;Void&gt; task) {\r\n        long start = System.currentTimeMillis();\r\n        try {\r\n            CompletableFuture.supplyAsync(task, EXECUTOR).whenComplete((t, throwable) -&gt; {\r\n                if (throwable != null) {\r\n                    System.out.println(&quot;error&quot;);\r\n                }\r\n            }).get(1000, TimeUnit.MILLISECONDS);\r\n            long end = System.currentTimeMillis();\r\n            System.out.println(&quot;success ----------&quot; + Thread.currentThread().getName() + &quot;:&quot; + (end - start));\r\n        } catch (TimeoutException ex) {\r\n            long end = System.currentTimeMillis();\r\n            System.out.println(&quot;TimeoutException ----------&quot; + Thread.currentThread().getName() + &quot;:&quot; + (end - start));\r\n        } catch (Exception ex) {\r\n            long end = System.currentTimeMillis();\r\n            System.out.println(&quot;Exception ----------&quot; + Thread.currentThread().getName() + &quot;:&quot; + (end - start));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nWhen the queue size less that 16 it works fine and be able to get result within 200~300ms. However when I adjust queue size to 30 I get TimeoutException.","title":"Why is CompletableFuture.get() blocked by Thread.sleep()?","body":"<p>I have no idea why the CompletableFuture.get() is blocked by the Thread.sleep()? Why does the size of LinkedBlockingQueue will affect the probability of TimeoutException ?</p>\n<p>Thanks.</p>\n<pre><code>import com.google.common.collect.Queues;\n\nimport java.util.concurrent.CompletableFuture;\nimport java.util.concurrent.ThreadPoolExecutor;\nimport java.util.concurrent.TimeUnit;\nimport java.util.concurrent.TimeoutException;\nimport java.util.function.Supplier;\n\npublic class TaskSleepTest {\n\n    private static final ThreadPoolExecutor EXECUTOR = new ThreadPoolExecutor(4, 16, 1, TimeUnit.MINUTES, Queues.newLinkedBlockingQueue(10));\n\n    public static void main(String[] args) {\n        for (int i = 0; i &lt; 30; i++) {\n            new Thread(() -&gt; {\n                for (int i1 = 0; i1 &lt; 2000; i1++) {\n                    Supplier&lt;Void&gt; task = () -&gt; {\n                        try {\n                            TimeUnit.MILLISECONDS.sleep(200);\n                        } catch (InterruptedException e) {\n                            throw new RuntimeException(e);\n                        }\n                        return null;\n                    };\n                    testSleep(task);\n                }\n            }).start();\n        }\n    }\n\n    private static void testSleep(Supplier&lt;Void&gt; task) {\n        long start = System.currentTimeMillis();\n        try {\n            CompletableFuture.supplyAsync(task, EXECUTOR).whenComplete((t, throwable) -&gt; {\n                if (throwable != null) {\n                    System.out.println(&quot;error&quot;);\n                }\n            }).get(1000, TimeUnit.MILLISECONDS);\n            long end = System.currentTimeMillis();\n            System.out.println(&quot;success ----------&quot; + Thread.currentThread().getName() + &quot;:&quot; + (end - start));\n        } catch (TimeoutException ex) {\n            long end = System.currentTimeMillis();\n            System.out.println(&quot;TimeoutException ----------&quot; + Thread.currentThread().getName() + &quot;:&quot; + (end - start));\n        } catch (Exception ex) {\n            long end = System.currentTimeMillis();\n            System.out.println(&quot;Exception ----------&quot; + Thread.currentThread().getName() + &quot;:&quot; + (end - start));\n        }\n    }\n}\n</code></pre>\n<p>When the queue size less that 16 it works fine and be able to get result within 200~300ms. However when I adjust queue size to 30 I get TimeoutException.</p>\n"},{"tags":["java","spring-boot","maven"],"owner":{"account_id":23154605,"reputation":1,"user_id":17256050,"display_name":"guagua"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1699698737,"creation_date":1699698737,"question_id":77464731,"body_markdown":"I changed the source code a little.\r\nhttps://github.com/joelittlejohn/jsonschema2pojo\r\n\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.jsonschema2pojo&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jsonschema2pojo-core&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nrename it 1.2.1-MYRELEASE\r\n\r\n\r\n    &lt;parent&gt;\r\n    &lt;artifactId&gt;jsonschema2pojo&lt;/artifactId&gt;\r\n    &lt;groupId&gt;org.jsonschema2pojo&lt;/groupId&gt;\r\n    &lt;version&gt;1.2.1&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;jsonschema2pojo-core&lt;/artifactId&gt;\r\n\r\n    &lt;name&gt;jsonschema2pojo-core&lt;/name&gt;\r\n    add this line\r\n    &lt;version&gt;1.2.1-MYRELEASE&lt;/version&gt;`\r\n\r\nthen put it in my project, The dependent jars in this pom cannot be loaded into the spring boot package\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.jsonschema2pojo&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jsonschema2pojo-core&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2.1-MYRELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nmy project jar apaas-admin.jar missing jsonschema2pojo-core dependency jars\r\n\r\n\r\n\r\n[enter image description here](https://i.stack.imgur.com/Ls25p.png)","title":"What to do when packaging spring boot with incomplete dependency packages","body":"<p>I changed the source code a little.\n<a href=\"https://github.com/joelittlejohn/jsonschema2pojo\" rel=\"nofollow noreferrer\">https://github.com/joelittlejohn/jsonschema2pojo</a></p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.jsonschema2pojo&lt;/groupId&gt;\n&lt;artifactId&gt;jsonschema2pojo-core&lt;/artifactId&gt;\n&lt;version&gt;1.2.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>rename it 1.2.1-MYRELEASE</p>\n<pre><code>&lt;parent&gt;\n&lt;artifactId&gt;jsonschema2pojo&lt;/artifactId&gt;\n&lt;groupId&gt;org.jsonschema2pojo&lt;/groupId&gt;\n&lt;version&gt;1.2.1&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;artifactId&gt;jsonschema2pojo-core&lt;/artifactId&gt;\n\n&lt;name&gt;jsonschema2pojo-core&lt;/name&gt;\nadd this line\n&lt;version&gt;1.2.1-MYRELEASE&lt;/version&gt;`\n</code></pre>\n<p>then put it in my project, The dependent jars in this pom cannot be loaded into the spring boot package</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.jsonschema2pojo&lt;/groupId&gt;\n&lt;artifactId&gt;jsonschema2pojo-core&lt;/artifactId&gt;\n&lt;version&gt;1.2.1-MYRELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>my project jar apaas-admin.jar missing jsonschema2pojo-core dependency jars</p>\n<p><a href=\"https://i.stack.imgur.com/Ls25p.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","android","calendar"],"comments":[{"owner":{"account_id":24162446,"reputation":216,"user_id":18125775,"display_name":"Shreyas Sparrow"},"score":0,"creation_date":1699714949,"post_id":77464729,"comment_id":136567558,"body_markdown":"Do you know how many events present in database and also how many events present for the month? If the database is yours I would recommend to use database index.","body":"Do you know how many events present in database and also how many events present for the month? If the database is yours I would recommend to use database index."},{"owner":{"account_id":19346094,"reputation":13,"user_id":14144627,"display_name":"ubik41"},"score":0,"creation_date":1699718569,"post_id":77464729,"comment_id":136567934,"body_markdown":"Helo, I&#39;m using the database of Android calendars. In a week there about 60 events, in a months about 250. In the database there must be over 1000 events. What do you mean with database index?","body":"Helo, I&#39;m using the database of Android calendars. In a week there about 60 events, in a months about 250. In the database there must be over 1000 events. What do you mean with database index?"},{"owner":{"account_id":24162446,"reputation":216,"user_id":18125775,"display_name":"Shreyas Sparrow"},"score":0,"creation_date":1699785355,"post_id":77464729,"comment_id":136572698,"body_markdown":"I mean if the database is yours you can create a database index to make the retrieval fast","body":"I mean if the database is yours you can create a database index to make the retrieval fast"},{"owner":{"account_id":19346094,"reputation":13,"user_id":14144627,"display_name":"ubik41"},"score":0,"creation_date":1699807846,"post_id":77464729,"comment_id":136574845,"body_markdown":"No, the database is not mine. It uses the android database for calendars. Look at https://developer.android.com/reference/android/provider/CalendarContract","body":"No, the database is not mine. It uses the android database for calendars. Look at <a href=\"https://developer.android.com/reference/android/provider/CalendarContract\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/provider/&hellip;</a>"}],"owner":{"account_id":19346094,"reputation":13,"user_id":14144627,"display_name":"ubik41"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699698712,"creation_date":1699698712,"question_id":77464729,"body_markdown":"Helo,\r\n\r\nI&#39;ve got this code snippet:\r\n\r\n            Uri uri = Uri.parse(CalendarContract.Instances.CONTENT_URI + &quot;/&quot; +\r\n                Long.toString(from) + &quot;/&quot; +\r\n                Long.toString(to));\r\n\r\n        \r\n        String selection = &quot;(&quot; + selection_allcalendars + &quot; (deleted != 1) AND (&quot; + CalendarContract.Instances.ALL_DAY + &quot; = 0))&quot;;\r\n\r\n        cur = cr.query(uri, mProjection, selection, null, CalendarContract.Instances.DTSTART + &quot; ASC&quot;);\r\n\r\nIt queries the Android calendar events for the time between *from* (in milliseconds) and *to* (in milliseconds).\r\n\r\nThis works really good, when I want to query all events for a day (app runs in 60 milliseconds). It also works fine, when I query the calendar events for a week (app runs in 80 milliseconds).\r\n\r\nBut why it takes so long time (e. g. 2-4 seconds), when I want to query the events for a month? My app, which I develop hangs...\r\n\r\nHow can I solve this problem? Thank you!","title":"CalendarContract slow in Android","body":"<p>Helo,</p>\n<p>I've got this code snippet:</p>\n<pre><code>        Uri uri = Uri.parse(CalendarContract.Instances.CONTENT_URI + &quot;/&quot; +\n            Long.toString(from) + &quot;/&quot; +\n            Long.toString(to));\n\n    \n    String selection = &quot;(&quot; + selection_allcalendars + &quot; (deleted != 1) AND (&quot; + CalendarContract.Instances.ALL_DAY + &quot; = 0))&quot;;\n\n    cur = cr.query(uri, mProjection, selection, null, CalendarContract.Instances.DTSTART + &quot; ASC&quot;);\n</code></pre>\n<p>It queries the Android calendar events for the time between <em>from</em> (in milliseconds) and <em>to</em> (in milliseconds).</p>\n<p>This works really good, when I want to query all events for a day (app runs in 60 milliseconds). It also works fine, when I query the calendar events for a week (app runs in 80 milliseconds).</p>\n<p>But why it takes so long time (e. g. 2-4 seconds), when I want to query the events for a month? My app, which I develop hangs...</p>\n<p>How can I solve this problem? Thank you!</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1698244720,"post_id":77359189,"comment_id":136381073,"body_markdown":"*&quot; why is the `timeSelector` width on the right different from the popup&#39;s&quot;* You made the `timeSelector` the root of the scene, so it is going to be sized to fill the whole scene. The scene is constrained to a minimum size by the window (which needs to be able to hold the window decorations). If you wrap the `timeSelector` in any layout pane, it should have the width specified in the FXML file (note however that it is very bad practice to hard-code sizes in this way).","body":"<i>&quot; why is the <code>timeSelector</code> width on the right different from the popup&#39;s&quot;</i> You made the <code>timeSelector</code> the root of the scene, so it is going to be sized to fill the whole scene. The scene is constrained to a minimum size by the window (which needs to be able to hold the window decorations). If you wrap the <code>timeSelector</code> in any layout pane, it should have the width specified in the FXML file (note however that it is very bad practice to hard-code sizes in this way)."},{"owner":{"account_id":26636851,"reputation":31,"user_id":20253139,"display_name":"雨夜带刀不带伞"},"score":0,"creation_date":1698306465,"post_id":77359189,"comment_id":136389186,"body_markdown":"@James_D, thanks.","body":"@James_D, thanks."},{"owner":{"account_id":26636851,"reputation":31,"user_id":20253139,"display_name":"雨夜带刀不带伞"},"score":0,"creation_date":1698340465,"post_id":77359189,"comment_id":136396325,"body_markdown":"@jewelsea: Thank you for your advice, but I&#39;m just doing this for the convenience of writing examples","body":"@jewelsea: Thank you for your advice, but I&#39;m just doing this for the convenience of writing examples"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1698371150,"post_id":77359189,"comment_id":136400074,"body_markdown":"I tried this on MacBook Pro, OS X x64 13.6, OpenJDK 21.0.1, JavaFX 21.  It did not reproduce.  One pane did not look more blurry than the other to me (could just be my eyesight, but I do see blurriness on the screenshot in your question).  I also tried screenshotting and zooming the screenshot and could not detect any clarity difference.  So perhaps your issue is platform-specific.","body":"I tried this on MacBook Pro, OS X x64 13.6, OpenJDK 21.0.1, JavaFX 21.  It did not reproduce.  One pane did not look more blurry than the other to me (could just be my eyesight, but I do see blurriness on the screenshot in your question).  I also tried screenshotting and zooming the screenshot and could not detect any clarity difference.  So perhaps your issue is platform-specific."},{"owner":{"account_id":26636851,"reputation":31,"user_id":20253139,"display_name":"雨夜带刀不带伞"},"score":0,"creation_date":1698379845,"post_id":77359189,"comment_id":136400682,"body_markdown":"@jewelsea: Is your display scaling 100%?","body":"@jewelsea: Is your display scaling 100%?"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1698385784,"post_id":77359189,"comment_id":136401112,"body_markdown":"No, it is the monitor on the MacBook. Native is 3072x1920.  I run it at 1536x960 which is 2:1, so 4 native pixels to one virtual one.  The output of `System.out.println(Screen.getPrimary())` is `bounds:Rectangle2D [minX=0.0, minY=0.0, maxX=1536.0, maxY=960.0, width=1536.0, height=960.0] visualBounds:Rectangle2D [minX=0.0, minY=25.0, maxX=1536.0, maxY=905.0, width=1536.0, height=880.0] dpi:112.0 outputScale:(2.0,2.0)`.  The [output scale](https://openjfx.io/javadoc/17/javafx.graphics/javafx/stage/Screen.html#getOutputScaleX()) printed last is the scaling.","body":"No, it is the monitor on the MacBook. Native is 3072x1920.  I run it at 1536x960 which is 2:1, so 4 native pixels to one virtual one.  The output of <code>System.out.println(Screen.getPrimary())</code> is <code>bounds:Rectangle2D [minX=0.0, minY=0.0, maxX=1536.0, maxY=960.0, width=1536.0, height=960.0] visualBounds:Rectangle2D [minX=0.0, minY=25.0, maxX=1536.0, maxY=905.0, width=1536.0, height=880.0] dpi:112.0 outputScale:(2.0,2.0)</code>.  The <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/stage/Screen.html#getOutputScaleX()\" rel=\"nofollow noreferrer\">output scale</a> printed last is the scaling."}],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699697279,"creation_date":1699696810,"answer_id":77464635,"question_id":77359189,"body_markdown":"This is something that the OS specific\r\nimplementation does. \r\n\r\nThe popup is rendered at a given size when using 100%. If you zoom everything to 125% in your OS, you are not resizing the windows only. You are resizing everything to a bigger size.\r\n\r\nImagine a sharp foto of 400x400px. And now you resize it to 500x500px. Where do the 100px come from? They do NOT exist. \r\n\r\nThis is the much more interesting question. :)\r\n\r\nYour computer does the best it can to &quot;compute&quot; this pixels in combination with the JFX implememtation.\r\n\r\nWhat I want to say is: The popup implementation of JFX is the reason OR your OS is the reason.","title":"why Javafx popup font is blur","body":"<p>This is something that the OS specific\nimplementation does.</p>\n<p>The popup is rendered at a given size when using 100%. If you zoom everything to 125% in your OS, you are not resizing the windows only. You are resizing everything to a bigger size.</p>\n<p>Imagine a sharp foto of 400x400px. And now you resize it to 500x500px. Where do the 100px come from? They do NOT exist.</p>\n<p>This is the much more interesting question. :)</p>\n<p>Your computer does the best it can to &quot;compute&quot; this pixels in combination with the JFX implememtation.</p>\n<p>What I want to say is: The popup implementation of JFX is the reason OR your OS is the reason.</p>\n"}],"owner":{"account_id":26636851,"reputation":31,"user_id":20253139,"display_name":"雨夜带刀不带伞"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1699697279,"creation_date":1698234538,"question_id":77359189,"body_markdown":"On Windows 11 with Java 17 abd JavaFX 17, I&#39;m trying to customize components.\r\n\r\n[![screen capture][1]][1]\r\n\r\nOn the left is popup. Font is blurred, This only happens when the displayr is scaled at 125%, and I&#39;m using a 2k display. \r\nAnd why is the `timeSelector` width on the right different from the popup&#39;s? I didn&#39;t add extra setting width code. This is strange.\r\n\r\nThis is minimal reproducible example:\r\n\r\n    public void start(Stage primaryStage) {\r\n        Scene scene = new Scene(buildFlowPane());\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n        Platform.runLater(() -&gt; {\r\n            Popup popup = new Popup();\r\n            popup.getContent().add(buildFlowPane());\r\n            popup.setAnchorX(600);\r\n            popup.show(primaryStage);\r\n        });\r\n    }\r\n    private FlowPane buildFlowPane(){\r\n        FlowPane flowPane = new FlowPane(){{setStyle(&quot;&quot;&quot;\r\n                    -fx-padding: 2;\r\n                    -fx-effect: dropshadow(gaussian, rgba(0, 0, 0, 0.5), 10, 0, 0, 0);\r\n                    -fx-background-radius: 5;\r\n                    -fx-background-color: white;\r\n                    &quot;&quot;&quot;);}};\r\n        flowPane.setMinWidth(86);\r\n        flowPane.setMaxWidth(86);\r\n        flowPane.setHgap(1.5);\r\n        flowPane.getChildren().add(buildScrollPane());\r\n        flowPane.getChildren().add(buildScrollPane());\r\n        return flowPane;\r\n    }\r\n    private ScrollPane buildScrollPane(){\r\n        ScrollPane scrollPane = new ScrollPane(){{setStyle(&quot;&quot;&quot;\r\n                -fx-padding: 0;\r\n                -fx-background-color: transparent;\r\n                -fx-border-color: transparent;\r\n                -fx-background-insets: 0;\r\n                -fx-hbar-policy: never;\r\n                -fx-vbar-policy: never;\r\n                &quot;&quot;&quot;);}};\r\n        scrollPane.setMaxHeight(180);\r\n        VBox vBox = new VBox(){{setStyle(&quot;-fx-background-color: white;&quot;);}};\r\n        ObservableList&lt;Node&gt; children = vBox.getChildren();\r\n        for (int i = 0; i &lt; 24; i++) {\r\n            children.add(buildLabel(String.valueOf(i)));\r\n        }\r\n        scrollPane.setContent(vBox);\r\n        return scrollPane;\r\n    }\r\n    private Label buildLabel(String text){\r\n        return new Label(text){{setStyle(&quot;-fx-pref-width: 38;-fx-pref-height: 29;-fx-alignment: CENTER;-fx-background-radius: 5;-fx-background-color: white&quot;);}};\r\n    }\r\n\r\nHere is a screenshot of the example\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XPZWg.png\r\n  [2]: https://i.stack.imgur.com/GsFos.png","title":"why Javafx popup font is blur","body":"<p>On Windows 11 with Java 17 abd JavaFX 17, I'm trying to customize components.</p>\n<p><a href=\"https://i.stack.imgur.com/XPZWg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XPZWg.png\" alt=\"screen capture\" /></a></p>\n<p>On the left is popup. Font is blurred, This only happens when the displayr is scaled at 125%, and I'm using a 2k display.\nAnd why is the <code>timeSelector</code> width on the right different from the popup's? I didn't add extra setting width code. This is strange.</p>\n<p>This is minimal reproducible example:</p>\n<pre><code>public void start(Stage primaryStage) {\n    Scene scene = new Scene(buildFlowPane());\n    primaryStage.setScene(scene);\n    primaryStage.show();\n    Platform.runLater(() -&gt; {\n        Popup popup = new Popup();\n        popup.getContent().add(buildFlowPane());\n        popup.setAnchorX(600);\n        popup.show(primaryStage);\n    });\n}\nprivate FlowPane buildFlowPane(){\n    FlowPane flowPane = new FlowPane(){{setStyle(&quot;&quot;&quot;\n                -fx-padding: 2;\n                -fx-effect: dropshadow(gaussian, rgba(0, 0, 0, 0.5), 10, 0, 0, 0);\n                -fx-background-radius: 5;\n                -fx-background-color: white;\n                &quot;&quot;&quot;);}};\n    flowPane.setMinWidth(86);\n    flowPane.setMaxWidth(86);\n    flowPane.setHgap(1.5);\n    flowPane.getChildren().add(buildScrollPane());\n    flowPane.getChildren().add(buildScrollPane());\n    return flowPane;\n}\nprivate ScrollPane buildScrollPane(){\n    ScrollPane scrollPane = new ScrollPane(){{setStyle(&quot;&quot;&quot;\n            -fx-padding: 0;\n            -fx-background-color: transparent;\n            -fx-border-color: transparent;\n            -fx-background-insets: 0;\n            -fx-hbar-policy: never;\n            -fx-vbar-policy: never;\n            &quot;&quot;&quot;);}};\n    scrollPane.setMaxHeight(180);\n    VBox vBox = new VBox(){{setStyle(&quot;-fx-background-color: white;&quot;);}};\n    ObservableList&lt;Node&gt; children = vBox.getChildren();\n    for (int i = 0; i &lt; 24; i++) {\n        children.add(buildLabel(String.valueOf(i)));\n    }\n    scrollPane.setContent(vBox);\n    return scrollPane;\n}\nprivate Label buildLabel(String text){\n    return new Label(text){{setStyle(&quot;-fx-pref-width: 38;-fx-pref-height: 29;-fx-alignment: CENTER;-fx-background-radius: 5;-fx-background-color: white&quot;);}};\n}\n</code></pre>\n<p>Here is a screenshot of the example</p>\n<p><a href=\"https://i.stack.imgur.com/GsFos.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GsFos.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","google-play-services"],"comments":[{"owner":{"account_id":1098191,"reputation":177,"user_id":1091318,"display_name":"kamiyar"},"score":0,"creation_date":1692730989,"post_id":71914259,"comment_id":135663805,"body_markdown":"Hi, did you or anyone solve this?","body":"Hi, did you or anyone solve this?"}],"owner":{"account_id":2512482,"reputation":2024,"user_id":2184601,"accept_rate":64,"display_name":"ohthepain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":972,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1699696929,"creation_date":1650298346,"question_id":71914259,"body_markdown":"I have a Unity 2020.3.32f1 game and need to fix Google Play login. I upgraded to 0.11.1 \r\n\r\nNow I get an exception \r\n&gt; AndroidJavaException: java.lang.ClassNotFoundException: com.google.android.gms.games.PlayGames\r\n\r\nwhen I try to init the library \r\n&gt;&gt;        public GooglePlayService()\r\n&gt;&gt;        {\r\n&gt;&gt;            InitStatus = InitStatus.NotInitialized;\r\n&gt;&gt;            LoginStatus = LoginStatus.NotLoggedIn;\r\n&gt;&gt;            PlayGamesPlatform.DebugLogEnabled = true;\r\n&gt;&gt;            PlayGamesPlatform.Activate();\r\n&gt;&gt;            Log(&quot;PlayGamesPlatform.Activated&quot;);\r\n&gt;&gt;        }\r\n\r\nFollowing their instructions on adding Proguard and minify did not help. \r\n\r\nI am a bit of an Android noob so it&#39;s probably something basic.\r\n\r\nNotes:\r\n- I ran the Android dependency resolver.  \r\n- Minify is turned on for release\r\n- Min API Level 19 \r\n- Target API level 30 \r\n- I am using the internal build system\r\n- No strange characters in my project path\r\n","title":"Adding Google Play to Unity Project -&gt; java.lang.ClassNotFoundException: com.google.android.gms.games.PlayGames","body":"<p>I have a Unity 2020.3.32f1 game and need to fix Google Play login. I upgraded to 0.11.1</p>\n<p>Now I get an exception</p>\n<blockquote>\n<p>AndroidJavaException: java.lang.ClassNotFoundException: com.google.android.gms.games.PlayGames</p>\n</blockquote>\n<p>when I try to init the library</p>\n<blockquote>\n<blockquote>\n<pre><code>   public GooglePlayService()\n   {\n       InitStatus = InitStatus.NotInitialized;\n       LoginStatus = LoginStatus.NotLoggedIn;\n       PlayGamesPlatform.DebugLogEnabled = true;\n       PlayGamesPlatform.Activate();\n       Log(&quot;PlayGamesPlatform.Activated&quot;);\n   }\n</code></pre>\n</blockquote>\n</blockquote>\n<p>Following their instructions on adding Proguard and minify did not help.</p>\n<p>I am a bit of an Android noob so it's probably something basic.</p>\n<p>Notes:</p>\n<ul>\n<li>I ran the Android dependency resolver.</li>\n<li>Minify is turned on for release</li>\n<li>Min API Level 19</li>\n<li>Target API level 30</li>\n<li>I am using the internal build system</li>\n<li>No strange characters in my project path</li>\n</ul>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1683848311,"post_id":76231895,"comment_id":134433443,"body_markdown":"At first glance it looks like a version incompatibility in the runtime.","body":"At first glance it looks like a version incompatibility in the runtime."},{"owner":{"account_id":4984786,"reputation":422,"user_id":4008741,"accept_rate":57,"display_name":"batmaniac7"},"score":0,"creation_date":1685808549,"post_id":76231895,"comment_id":134714319,"body_markdown":"did you  get past this issue?","body":"did you  get past this issue?"},{"owner":{"account_id":4670821,"reputation":303,"user_id":3953227,"accept_rate":42,"display_name":"mvm"},"score":0,"creation_date":1693974212,"post_id":76231895,"comment_id":135828712,"body_markdown":"Did you resolve this issue?","body":"Did you resolve this issue?"}],"answers":[{"tags":[],"owner":{"account_id":29878285,"reputation":1,"user_id":22897893,"display_name":"Supercat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699696566,"creation_date":1699696566,"answer_id":77464618,"question_id":76231895,"body_markdown":"I had same problem after update from spring 5 to spring 6.\r\nFor any reason in dependency folder stay old spring-boot-autoconfigure file from version 2. Just declare it in your pom file for version 3:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n ","title":"Spring Web Application + Java 17 and Tomcat 10.1 - onStartup(jakarta.servlet.ServletContext)&#39; org.springframework.web.WebApplicationInitializer","body":"<p>I had same problem after update from spring 5 to spring 6.\nFor any reason in dependency folder stay old spring-boot-autoconfigure file from version 2. Just declare it in your pom file for version 3:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n        &lt;version&gt;3.1.4&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":7689979,"reputation":21,"user_id":5826577,"display_name":"ramt"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":672,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699696566,"creation_date":1683842791,"question_id":76231895,"body_markdown":"I am not sure why there&#39;s a reference to *org.springframework.boot.autoconfigure.jersey.JerseyAutoConfiguration$JerseyWebApplicationInitializer* given that there is no Spring Boot dependency - confirmed by checking using the maven command: *mvn dependency:tree*\r\n\r\nBelow is the error on startup.\r\n\r\n\r\n```\r\nCaused by: java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/myapp]]\r\n\tat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n\tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:878)\r\n\t... 21 more\r\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/myapp]]\r\n\tat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871)\r\n\t... 21 more\r\nCaused by: java.lang.AbstractMethodError: Receiver class org.springframework.boot.autoconfigure.jersey.JerseyAutoConfiguration$JerseyWebApplicationInitializer does not define or inherit an implementation of the resolved method &#39;abstract void onStartup(jakarta.servlet.ServletContext)&#39; of interface org.springframework.web.WebApplicationInitializer.\r\n\tat org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:171)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4882)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t... 27 more\r\n\r\nMay 12, 2023 4:53:16 AM org.apache.coyote.AbstractProtocol pause\r\nINFO: Pausing ProtocolHandler [&quot;http-nio-8082&quot;]\r\nMay 12, 2023 4:53:16 AM org.apache.catalina.core.StandardService stopInternal\r\nINFO: Stopping service [Catalina]\r\nMay 12, 2023 4:53:16 AM org.apache.coyote.AbstractProtocol destroy\r\nINFO: Destroying ProtocolHandler [&quot;http-nio-8082&quot;]\r\n\r\n```\r\npom.xml\r\n```\r\n...\r\n&lt;spring.version&gt;6.0.8&lt;/spring.version&gt;\r\n...\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nTomcat should start with no errors","title":"Spring Web Application + Java 17 and Tomcat 10.1 - onStartup(jakarta.servlet.ServletContext)&#39; org.springframework.web.WebApplicationInitializer","body":"<p>I am not sure why there's a reference to <em>org.springframework.boot.autoconfigure.jersey.JerseyAutoConfiguration$JerseyWebApplicationInitializer</em> given that there is no Spring Boot dependency - confirmed by checking using the maven command: <em>mvn dependency:tree</em></p>\n<p>Below is the error on startup.</p>\n<pre><code>Caused by: java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/myapp]]\n    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:878)\n    ... 21 more\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/myapp]]\n    at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871)\n    ... 21 more\nCaused by: java.lang.AbstractMethodError: Receiver class org.springframework.boot.autoconfigure.jersey.JerseyAutoConfiguration$JerseyWebApplicationInitializer does not define or inherit an implementation of the resolved method 'abstract void onStartup(jakarta.servlet.ServletContext)' of interface org.springframework.web.WebApplicationInitializer.\n    at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:171)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4882)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    ... 27 more\n\nMay 12, 2023 4:53:16 AM org.apache.coyote.AbstractProtocol pause\nINFO: Pausing ProtocolHandler [&quot;http-nio-8082&quot;]\nMay 12, 2023 4:53:16 AM org.apache.catalina.core.StandardService stopInternal\nINFO: Stopping service [Catalina]\nMay 12, 2023 4:53:16 AM org.apache.coyote.AbstractProtocol destroy\nINFO: Destroying ProtocolHandler [&quot;http-nio-8082&quot;]\n\n</code></pre>\n<p>pom.xml</p>\n<pre><code>...\n&lt;spring.version&gt;6.0.8&lt;/spring.version&gt;\n...\n&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;       \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Tomcat should start with no errors</p>\n"},{"tags":["java","object","oop","generics","methods"],"answers":[{"tags":[],"owner":{"account_id":60456,"reputation":55971,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681485805,"creation_date":1681485805,"answer_id":76016661,"question_id":76016572,"body_markdown":"So `r1` is not accessible from within the `Person` class, because it is not defined there.  You&#39;re going to need to use the local `robotOwned` object instead:\r\n\r\n    private void isOwnedby() {\r\n        System.out.println(robotOwned.rname() + &quot;is owned by&quot; + this.name);\r\n    }\r\n\r\nAdditional recommendations:\r\n\r\n - Avoid single-character variable names.  Descriptive variable names are better for everyone.\r\n - It&#39;s usually a good idea to only have one Java class per file.\r\n - delux247 has a good idea about checking for null before trying to return the robot&#39;s name.\r\n","title":"How to access the attributes of another class in the a class method","body":"<p>So <code>r1</code> is not accessible from within the <code>Person</code> class, because it is not defined there.  You're going to need to use the local <code>robotOwned</code> object instead:</p>\n<pre><code>private void isOwnedby() {\n    System.out.println(robotOwned.rname() + &quot;is owned by&quot; + this.name);\n}\n</code></pre>\n<p>Additional recommendations:</p>\n<ul>\n<li>Avoid single-character variable names.  Descriptive variable names are better for everyone.</li>\n<li>It's usually a good idea to only have one Java class per file.</li>\n<li>delux247 has a good idea about checking for null before trying to return the robot's name.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3814,"reputation":2176,"user_id":5569,"accept_rate":80,"display_name":"delux247"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1681485831,"creation_date":1681485831,"answer_id":76016664,"question_id":76016572,"body_markdown":"Change\r\n\r\n    System.out.println(r1.rname() + &quot;is owned by&quot; + this.name);\r\n\r\nto\r\n\r\n    if(robotOwned != null){\r\n      System.out.println(robotOwned.rname() + &quot;is owned by&quot; + this.name);\r\n    } else{\r\n      System.out.println(this.name + &quot; does not own a robot&quot;);\r\n    }","title":"How to access the attributes of another class in the a class method","body":"<p>Change</p>\n<pre><code>System.out.println(r1.rname() + &quot;is owned by&quot; + this.name);\n</code></pre>\n<p>to</p>\n<pre><code>if(robotOwned != null){\n  System.out.println(robotOwned.rname() + &quot;is owned by&quot; + this.name);\n} else{\n  System.out.println(this.name + &quot; does not own a robot&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22809059,"reputation":1,"user_id":18040297,"display_name":"Gabriel Mathiuce"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1699695161,"creation_date":1681485976,"answer_id":76016682,"question_id":76016572,"body_markdown":"Your Person class does not know that r1 refers to in the line:     `System.out.println(r1.rname() + &quot;is owned by&quot; + this.name);`\r\nSo, what you need to do is pass a Robot as a parameter to the method &quot;isOwnedby()&quot;, e.g. :\r\n\r\n    void isOwnedby(Robot r1)\r\n        {\r\n            System.out.println(r1.rname() + &quot;is owned by&quot; + this.name);\r\n        }\r\n\r\n","title":"How to access the attributes of another class in the a class method","body":"<p>Your Person class does not know that r1 refers to in the line:     <code>System.out.println(r1.rname() + &quot;is owned by&quot; + this.name);</code>\nSo, what you need to do is pass a Robot as a parameter to the method &quot;isOwnedby()&quot;, e.g. :</p>\n<pre><code>void isOwnedby(Robot r1)\n    {\n        System.out.println(r1.rname() + &quot;is owned by&quot; + this.name);\n    }\n</code></pre>\n"}],"owner":{"account_id":26963704,"reputation":11,"user_id":20530956,"display_name":"Nikhil Koshti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1699695161,"creation_date":1681485115,"question_id":76016572,"body_markdown":"Basically, I wanted to print (robot_name &quot;is owned by&quot; person_name) where robot_name is the atrribute of class Robot and person_name is of class Person.\r\nI am printing this in method of class Person named as isOwnedby()\r\n\r\nActually, I want to access rname attribute of r1 object of class Robot in the function of class Person named as isOwnedby(). But, iam getteing following errors,\r\n\r\n\r\nerror: cannot find symbol\r\n        System.out.println(r1.rname() + &quot;is owned by&quot; + this.name);\r\n                           ^\r\n  symbol:   variable r1\r\n  location: class Person\r\n\r\n\r\nThe code snippet is as follows,\r\n\r\n```\r\npublic class Main\r\n{\r\n\tpublic static void main(String[] args) {\r\n\t\t//Robot class objects\r\n\t\tRobot r1 = new Robot(&quot;Jerry&quot;, &quot;Red&quot;, 30);\r\n\t\tr1.introduceself();\r\n\t\tRobot r2 = new Robot(&quot;Tom&quot;, &quot;Blue&quot;, 40);\r\n\t\tr2.introduceself();\r\n\t\t\r\n\t\t//Person class objects\r\n\t\tPerson p1 = new Person(&quot;Alice&quot;, &quot;Aggresive&quot;, false);\r\n\t\tPerson p2 = new Person(&quot;Becky&quot;, &quot;Talkative&quot;, true);\r\n\t\tp1.robotOwned = r2;\r\n\t        p2.robotOwned = r1;\r\n\t\t\r\n\t\tp1.robotOwned.introduceself(); //same as r2.introduceself()\r\n\t\tp2.robotOwned.introduceself(); //same as r1.introduceself()\r\n\t\tp1.isOwnedby();\r\n\t}\r\n}\r\n\r\nclass Robot \r\n{\r\n    String rname;\r\n    String color;\r\n    int weight;\r\n    \r\n    //constructor\r\n    Robot (String n, String c, int w)\r\n    {\r\n        this.rname = n;\r\n        this.color = c;\r\n        this.weight = w;\r\n    }\r\n    \r\n    void introduceself()\r\n    {\r\n        System.out.println(&quot;My name is &quot; + this.rname);\r\n    }\r\n    \r\n    public String rname()\r\n    {\r\n        return rname;\r\n    }\r\n}\r\n\r\nclass Person\r\n{\r\n    String name;\r\n    String personality;\r\n    boolean isSitting;\r\n    Robot robotOwned;\r\n    \r\n    //constructor\r\n    Person (String n, String p, boolean i)\r\n    {\r\n        this.name = n;\r\n        this.personality = p;\r\n        this.isSitting = i;\r\n    }\r\n    \r\n    \r\n    //methods\r\n    \r\n    void isOwnedby()\r\n    {\r\n        System.out.println(r1.rname() + &quot;is owned by&quot; + this.name);\r\n    }\r\n      \r\n    public String pname()\r\n    {\r\n        return name;\r\n    }\r\n}\r\n```\r\n","title":"How to access the attributes of another class in the a class method","body":"<p>Basically, I wanted to print (robot_name &quot;is owned by&quot; person_name) where robot_name is the atrribute of class Robot and person_name is of class Person.\nI am printing this in method of class Person named as isOwnedby()</p>\n<p>Actually, I want to access rname attribute of r1 object of class Robot in the function of class Person named as isOwnedby(). But, iam getteing following errors,</p>\n<p>error: cannot find symbol\nSystem.out.println(r1.rname() + &quot;is owned by&quot; + this.name);\n^\nsymbol:   variable r1\nlocation: class Person</p>\n<p>The code snippet is as follows,</p>\n<pre><code>public class Main\n{\n    public static void main(String[] args) {\n        //Robot class objects\n        Robot r1 = new Robot(&quot;Jerry&quot;, &quot;Red&quot;, 30);\n        r1.introduceself();\n        Robot r2 = new Robot(&quot;Tom&quot;, &quot;Blue&quot;, 40);\n        r2.introduceself();\n        \n        //Person class objects\n        Person p1 = new Person(&quot;Alice&quot;, &quot;Aggresive&quot;, false);\n        Person p2 = new Person(&quot;Becky&quot;, &quot;Talkative&quot;, true);\n        p1.robotOwned = r2;\n            p2.robotOwned = r1;\n        \n        p1.robotOwned.introduceself(); //same as r2.introduceself()\n        p2.robotOwned.introduceself(); //same as r1.introduceself()\n        p1.isOwnedby();\n    }\n}\n\nclass Robot \n{\n    String rname;\n    String color;\n    int weight;\n    \n    //constructor\n    Robot (String n, String c, int w)\n    {\n        this.rname = n;\n        this.color = c;\n        this.weight = w;\n    }\n    \n    void introduceself()\n    {\n        System.out.println(&quot;My name is &quot; + this.rname);\n    }\n    \n    public String rname()\n    {\n        return rname;\n    }\n}\n\nclass Person\n{\n    String name;\n    String personality;\n    boolean isSitting;\n    Robot robotOwned;\n    \n    //constructor\n    Person (String n, String p, boolean i)\n    {\n        this.name = n;\n        this.personality = p;\n        this.isSitting = i;\n    }\n    \n    \n    //methods\n    \n    void isOwnedby()\n    {\n        System.out.println(r1.rname() + &quot;is owned by&quot; + this.name);\n    }\n      \n    public String pname()\n    {\n        return name;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jwt"],"answers":[{"comments":[{"owner":{"account_id":25091091,"reputation":3,"user_id":18942722,"display_name":"ramalandajo"},"score":0,"creation_date":1699753549,"post_id":77464549,"comment_id":136570941,"body_markdown":"But if the key is generated randomly each time I run the app how do I know what to store in the .env file?","body":"But if the key is generated randomly each time I run the app how do I know what to store in the .env file?"},{"owner":{"account_id":19242426,"reputation":158,"user_id":14062144,"display_name":"Ilya Lisov"},"score":0,"creation_date":1699858454,"post_id":77464549,"comment_id":136579015,"body_markdown":"do not generate new key every time, store secret and generate key based on this secret `Key key = Keys.hmacShaKeyFor(jwtProperties.getSecret().getBytes());`","body":"do not generate new key every time, store secret and generate key based on this secret <code>Key key = Keys.hmacShaKeyFor(jwtProperties.getSecret().getBytes());</code>"}],"tags":[],"owner":{"account_id":19242426,"reputation":158,"user_id":14062144,"display_name":"Ilya Lisov"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699695060,"creation_date":1699695060,"answer_id":77464549,"question_id":77463327,"body_markdown":"You can store your secret in `.env` file and put a placeholder in `application.properties`.\r\n\r\n1) Put `.env` file in your project root.\r\n2) Add line `SECRET_KEY=somekey`\r\n3) Adjust `application.properties` to contain next properties:\r\n\r\n```\r\nspring.config.import=optional:file:.env[.properties]\r\njwtKey=${SECRET_KEY}\r\n```\r\n\r\n4) Get key in application via `@Value(&#39;${jwtKey}&#39;)\r\n\r\nAfter this, Spring will take your key from `application.properties` and goes down to `.env` file.\r\n\r\nThis `.env` file is stored only on your computer, do not share it across the Internet.\r\n\r\nAlso with this approach any developer can provide its own secret key and run your app.\r\n\r\n**RECOMENDATIONS:**\r\n * Move as much properties as you can to `.env` file. It will make your app more configurable without rebuilding (for example when use Docker)","title":"How to get secret key for reading JWT in Spring Boot","body":"<p>You can store your secret in <code>.env</code> file and put a placeholder in <code>application.properties</code>.</p>\n<ol>\n<li>Put <code>.env</code> file in your project root.</li>\n<li>Add line <code>SECRET_KEY=somekey</code></li>\n<li>Adjust <code>application.properties</code> to contain next properties:</li>\n</ol>\n<pre><code>spring.config.import=optional:file:.env[.properties]\njwtKey=${SECRET_KEY}\n</code></pre>\n<ol start=\"4\">\n<li>Get key in application via `@Value('${jwtKey}')</li>\n</ol>\n<p>After this, Spring will take your key from <code>application.properties</code> and goes down to <code>.env</code> file.</p>\n<p>This <code>.env</code> file is stored only on your computer, do not share it across the Internet.</p>\n<p>Also with this approach any developer can provide its own secret key and run your app.</p>\n<p><strong>RECOMENDATIONS:</strong></p>\n<ul>\n<li>Move as much properties as you can to <code>.env</code> file. It will make your app more configurable without rebuilding (for example when use Docker)</li>\n</ul>\n"}],"owner":{"account_id":25091091,"reputation":3,"user_id":18942722,"display_name":"ramalandajo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699695060,"creation_date":1699659272,"question_id":77463327,"body_markdown":"I am doing a simple spring boot app, I already did the login method which creates the JWT signed with a secret key. The secret key is autogenerated each time I run the app in the SecurityConfig class. Now what I want to do is get the token from any request and verify the role of the user (which I implemented using a simple Enumeration with 3 different type of users) to see if that role is authorized or not to do the request. I have seen some people writing the secret key in the application.properties and accessing it with the @Value annotation, however because the secret key is autogenerated, I cannot save it in the application.properties. I know storing it in application.properties is not safe, but its just a project i&#39;m doing to improve my knowledge, not really trying to be super safe here. Any tips on how to inject/get the secret key for reading any jwt?\r\n\r\nHere is the method that creates the secret key in the SecurityConfig class\r\n```\r\n    @Bean\r\n    public SecretKey secretKey() {\r\n        SecretKey secretKey = Keys.secretKeyFor(SignatureAlgorithm.HS256);\r\n        byte[] encodedKey = secretKey.getEncoded();\r\n        String encodedKeyBase64 = Base64.getEncoder().encodeToString(encodedKey);\r\n\r\n        System.out.println(&quot;Secret Key (Base64): &quot; + encodedKeyBase64);\r\n\r\n        return secretKey;\r\n    }\r\n```\r\nWhich is then passed for the constructor of the JwtAuthFilter\r\n```\r\n    @Bean\r\n    public JwtAuthFilter jwtAuth() {\r\n        return new JwtAuthFilter(secretKey());\r\n    }\r\n```\r\nHere is what I had planned for reading the JWT in the controller for creating buildings (edificio = building its just in spanish)\r\n```\r\n@RestController\r\n@RequestMapping(path =&quot;tpo_apis/edificios&quot;)\r\npublic class EdificioController {\r\n\r\n    @Autowired\r\n    private EdificioService edificioService;\r\n    @Value(&quot;${jwt.secret}&quot;)\r\n    private SecretKey secret;\r\n\r\n    @PostMapping(path =&quot;/&quot;)\r\n    public ResponseEntity&lt;?&gt; createEdificio(@RequestBody EdificioModel edificio, @RequestHeader(name = &quot;Authorization&quot;) String token) throws Exception {\r\n        Claims claims = Jwts.parser()\r\n                .verifyWith(secret) // secret should be the secret key to read the token\r\n                .build()\r\n                .parseSignedClaims(token.replace(&quot;Bearer &quot;, &quot;&quot;))\r\n                .getPayload();\r\n\r\n        System.out.println(claims.getSubject());\r\n        return new ResponseEntity&lt;&gt;(edificioService.createEdificio(edificio), HttpStatus.CREATED);\r\n```\r\nAnd here is how I did the creation of the JWT although I dont think it really matters.\r\n```\r\n    @PostMapping(&quot;/login&quot;)\r\n    public ResponseEntity&lt;String&gt; login(@RequestBody UsuarioModelDTO credentials) {\r\n        // Validar las credenciales aqu&#237; (puedes usar Spring Security u otros\r\n        // mecanismos)\r\n        UsuarioModel usuario = this.usuarioService.findUsuario(credentials.getUsuario(), credentials.getPassword());\r\n        if (usuario != null) {\r\n            // Crear el token JWT\r\n            String token = Jwts.builder()\r\n                    .subject(credentials.getUsuario()).issuedAt(new Date())\r\n                    .claim(&quot;rol&quot;, usuario.getTipoUsuario())\r\n                    .issuedAt(new Date())\r\n                    .expiration(new Date(System.currentTimeMillis() + EXPIRATION_TIME_IN_MIN * 60 * 1000))\r\n                    .signWith(secretKey, SignatureAlgorithm.HS256).compact();\r\n            return new ResponseEntity&lt;&gt;(token, HttpStatus.OK);\r\n```","title":"How to get secret key for reading JWT in Spring Boot","body":"<p>I am doing a simple spring boot app, I already did the login method which creates the JWT signed with a secret key. The secret key is autogenerated each time I run the app in the SecurityConfig class. Now what I want to do is get the token from any request and verify the role of the user (which I implemented using a simple Enumeration with 3 different type of users) to see if that role is authorized or not to do the request. I have seen some people writing the secret key in the application.properties and accessing it with the @Value annotation, however because the secret key is autogenerated, I cannot save it in the application.properties. I know storing it in application.properties is not safe, but its just a project i'm doing to improve my knowledge, not really trying to be super safe here. Any tips on how to inject/get the secret key for reading any jwt?</p>\n<p>Here is the method that creates the secret key in the SecurityConfig class</p>\n<pre><code>    @Bean\n    public SecretKey secretKey() {\n        SecretKey secretKey = Keys.secretKeyFor(SignatureAlgorithm.HS256);\n        byte[] encodedKey = secretKey.getEncoded();\n        String encodedKeyBase64 = Base64.getEncoder().encodeToString(encodedKey);\n\n        System.out.println(&quot;Secret Key (Base64): &quot; + encodedKeyBase64);\n\n        return secretKey;\n    }\n</code></pre>\n<p>Which is then passed for the constructor of the JwtAuthFilter</p>\n<pre><code>    @Bean\n    public JwtAuthFilter jwtAuth() {\n        return new JwtAuthFilter(secretKey());\n    }\n</code></pre>\n<p>Here is what I had planned for reading the JWT in the controller for creating buildings (edificio = building its just in spanish)</p>\n<pre><code>@RestController\n@RequestMapping(path =&quot;tpo_apis/edificios&quot;)\npublic class EdificioController {\n\n    @Autowired\n    private EdificioService edificioService;\n    @Value(&quot;${jwt.secret}&quot;)\n    private SecretKey secret;\n\n    @PostMapping(path =&quot;/&quot;)\n    public ResponseEntity&lt;?&gt; createEdificio(@RequestBody EdificioModel edificio, @RequestHeader(name = &quot;Authorization&quot;) String token) throws Exception {\n        Claims claims = Jwts.parser()\n                .verifyWith(secret) // secret should be the secret key to read the token\n                .build()\n                .parseSignedClaims(token.replace(&quot;Bearer &quot;, &quot;&quot;))\n                .getPayload();\n\n        System.out.println(claims.getSubject());\n        return new ResponseEntity&lt;&gt;(edificioService.createEdificio(edificio), HttpStatus.CREATED);\n</code></pre>\n<p>And here is how I did the creation of the JWT although I dont think it really matters.</p>\n<pre><code>    @PostMapping(&quot;/login&quot;)\n    public ResponseEntity&lt;String&gt; login(@RequestBody UsuarioModelDTO credentials) {\n        // Validar las credenciales aquí (puedes usar Spring Security u otros\n        // mecanismos)\n        UsuarioModel usuario = this.usuarioService.findUsuario(credentials.getUsuario(), credentials.getPassword());\n        if (usuario != null) {\n            // Crear el token JWT\n            String token = Jwts.builder()\n                    .subject(credentials.getUsuario()).issuedAt(new Date())\n                    .claim(&quot;rol&quot;, usuario.getTipoUsuario())\n                    .issuedAt(new Date())\n                    .expiration(new Date(System.currentTimeMillis() + EXPIRATION_TIME_IN_MIN * 60 * 1000))\n                    .signWith(secretKey, SignatureAlgorithm.HS256).compact();\n            return new ResponseEntity&lt;&gt;(token, HttpStatus.OK);\n</code></pre>\n"},{"tags":["java","spring-boot","validation"],"comments":[{"owner":{"account_id":6371426,"reputation":470,"user_id":4943720,"display_name":"Johannes Becker"},"score":0,"creation_date":1699516158,"post_id":77448764,"comment_id":136542312,"body_markdown":"You should consider &quot;accepting&quot; correct answers.","body":"You should consider &quot;accepting&quot; correct answers."}],"answers":[{"comments":[{"owner":{"account_id":29858470,"reputation":1,"user_id":22882742,"display_name":"Deepak Kumar"},"score":0,"creation_date":1699614447,"post_id":77448962,"comment_id":136557189,"body_markdown":"private String mobNo; is not in String it is in Long","body":"private String mobNo; is not in String it is in Long"}],"tags":[],"owner":{"account_id":4989848,"reputation":1603,"user_id":4012408,"display_name":"Rafael Guillen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699695044,"creation_date":1699477775,"answer_id":77448962,"question_id":77448764,"body_markdown":"According to your description, you need a `String` instead a `Long` for `mobNo`. Imagine you have a phone number like this: `0005550001`, as a `Long` the value is `550001`. The validation for a `String` should be something like:\r\n\r\n```\r\n@Size(min = 10, max = 10, message = &quot;Mobile number length should be 10 characters.&quot;)\r\nprivate String mobNo;\r\n```\r\n\r\nEdit:\r\nA good and more comprehensive alternative is to validate against a regular expression matching 10 digits:\r\n```\r\n@Pattern(regexp = &quot;^\\d{10}$&quot;, message = &quot;Mobile number length should be 10 characters.&quot;)\r\nprivate String mobNo;\r\n```\r\n\r\nEdit:\r\nAdding comment to the answer\r\n\r\nIf `mobNo` is a `Long` and you can&#39;t change it to `String`, validate it with:\r\n\r\n```java\r\n@Min(1_000_000_000L)\r\n@Max(9_999_999_999L)\r\nLong mobNo\r\n```\r\n\r\nThis is the value range where a Long has 10 digits.\r\n\r\nHowever, consider the example above before choosing Long or a phone number field: \r\n\r\nEx:`0_005_550_001`, \r\n\r\nthis is a valid phone number, but as a `Long` its represented like `550001`.","title":"javax entity validation is not working for @Min and @Max having same value(like moblieNo should be of exact 10 digits)","body":"<p>According to your description, you need a <code>String</code> instead a <code>Long</code> for <code>mobNo</code>. Imagine you have a phone number like this: <code>0005550001</code>, as a <code>Long</code> the value is <code>550001</code>. The validation for a <code>String</code> should be something like:</p>\n<pre><code>@Size(min = 10, max = 10, message = &quot;Mobile number length should be 10 characters.&quot;)\nprivate String mobNo;\n</code></pre>\n<p>Edit:\nA good and more comprehensive alternative is to validate against a regular expression matching 10 digits:</p>\n<pre><code>@Pattern(regexp = &quot;^\\d{10}$&quot;, message = &quot;Mobile number length should be 10 characters.&quot;)\nprivate String mobNo;\n</code></pre>\n<p>Edit:\nAdding comment to the answer</p>\n<p>If <code>mobNo</code> is a <code>Long</code> and you can't change it to <code>String</code>, validate it with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Min(1_000_000_000L)\n@Max(9_999_999_999L)\nLong mobNo\n</code></pre>\n<p>This is the value range where a Long has 10 digits.</p>\n<p>However, consider the example above before choosing Long or a phone number field:</p>\n<p>Ex:<code>0_005_550_001</code>,</p>\n<p>this is a valid phone number, but as a <code>Long</code> its represented like <code>550001</code>.</p>\n"},{"tags":[],"owner":{"account_id":6371426,"reputation":470,"user_id":4943720,"display_name":"Johannes Becker"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699477866,"creation_date":1699477866,"answer_id":77448971,"question_id":77448764,"body_markdown":"You have a field defined as Long, which is a number. The @min @max annotations are used for numeric comparison. So actually you say `10 &lt;= mobNo &lt;= 10`. Which means mobNo must be equal to 10.\r\n\r\nInterpreting your messages, what you actually want to do is, having a phone number with ten digits (which would be a string and not long). If it is a String the @Size(min,max) annotation can be used. See documentation.","title":"javax entity validation is not working for @Min and @Max having same value(like moblieNo should be of exact 10 digits)","body":"<p>You have a field defined as Long, which is a number. The @min @max annotations are used for numeric comparison. So actually you say <code>10 &lt;= mobNo &lt;= 10</code>. Which means mobNo must be equal to 10.</p>\n<p>Interpreting your messages, what you actually want to do is, having a phone number with ten digits (which would be a string and not long). If it is a String the @Size(min,max) annotation can be used. See documentation.</p>\n"}],"owner":{"account_id":29858470,"reputation":1,"user_id":22882742,"display_name":"Deepak Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1699695044,"creation_date":1699475369,"question_id":77448764,"body_markdown":"        @NotNull(message = &quot;Mobile number cannot be null.&quot;)\r\n\t@Max(value = 10, message =&quot;Mobile number length should be 10 characters.&quot; )\r\n\t@Min(value = 10, message =&quot;Mobile number length should be 10 characters.&quot; )\r\n\t@Column(name = &quot;mob_no&quot;)\r\n\tprivate Long mobNo;\r\n\r\nit should not give the message  &quot;Mobile number length should be 10 characters.&quot; in case giving 10 Digits value","title":"javax entity validation is not working for @Min and @Max having same value(like moblieNo should be of exact 10 digits)","body":"<pre><code>    @NotNull(message = &quot;Mobile number cannot be null.&quot;)\n@Max(value = 10, message =&quot;Mobile number length should be 10 characters.&quot; )\n@Min(value = 10, message =&quot;Mobile number length should be 10 characters.&quot; )\n@Column(name = &quot;mob_no&quot;)\nprivate Long mobNo;\n</code></pre>\n<p>it should not give the message  &quot;Mobile number length should be 10 characters.&quot; in case giving 10 Digits value</p>\n"},{"tags":["java","javafx","java-20"],"answers":[{"comments":[{"owner":{"account_id":29234450,"reputation":17,"user_id":22397364,"display_name":"Rashid"},"score":0,"creation_date":1699696248,"post_id":77464533,"comment_id":136565966,"body_markdown":"it&#39;s worked. Thanks for your Answer","body":"it&#39;s worked. Thanks for your Answer"},{"owner":{"account_id":29234450,"reputation":17,"user_id":22397364,"display_name":"Rashid"},"score":0,"creation_date":1699696571,"post_id":77464533,"comment_id":136565985,"body_markdown":"I have one doubt also, My Anchorpane is auto fit with screen size, So How can I achieve that the loaded FXML file fit with `anchrMaster`","body":"I have one doubt also, My Anchorpane is auto fit with screen size, So How can I achieve that the loaded FXML file fit with <code>anchrMaster</code>"},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1699697080,"post_id":77464533,"comment_id":136566018,"body_markdown":"You could try: stage.setMaximized(true);.","body":"You could try: stage.setMaximized(true);."},{"owner":{"account_id":29234450,"reputation":17,"user_id":22397364,"display_name":"Rashid"},"score":0,"creation_date":1699944784,"post_id":77464533,"comment_id":136591013,"body_markdown":"David, Your answer is worked. But its showing this Error `java.lang.IllegalArgumentException: AnchorPane[id=anchrMaster]is already inside a scene-graph and cannot be set as root`. So please suggest.","body":"David, Your answer is worked. But its showing this Error <code>java.lang.IllegalArgumentException: AnchorPane[id=anchrMaster]is already inside a scene-graph and cannot be set as root</code>. So please suggest."},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1699946842,"post_id":77464533,"comment_id":136591264,"body_markdown":"Your exception text says everything about the problem. If you need more help, please create a new question in SO, so that others can answer too.","body":"Your exception text says everything about the problem. If you need more help, please create a new question in SO, so that others can answer too."}],"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"comment_count":5,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1699695006,"creation_date":1699694669,"answer_id":77464533,"question_id":77464314,"body_markdown":"**Preface:**\r\n\r\nYour code/stacktrace looks like `anchrMaster` is an `AnchorPane` and you are loading a `SplitPane` into it.\r\n\r\nThe method `loader.load()` loads the fxml file and returns a node of the root tag of the fxml file.\r\n\r\nI suggest, that your fxml file has a `SplitPane` as root node.\r\n\r\n**Solution:**\r\n\r\nLoad your fxml file into a parent node object and replace the content of your `AnchorPane` with it.\r\n\r\n    Parent root = loader.load();\r\n    anchrMaster.getChildren().clear();\r\n    anchrMaster.getChildren().add(root);","title":"Load FXML Files in Anchorpane","body":"<p><strong>Preface:</strong></p>\n<p>Your code/stacktrace looks like <code>anchrMaster</code> is an <code>AnchorPane</code> and you are loading a <code>SplitPane</code> into it.</p>\n<p>The method <code>loader.load()</code> loads the fxml file and returns a node of the root tag of the fxml file.</p>\n<p>I suggest, that your fxml file has a <code>SplitPane</code> as root node.</p>\n<p><strong>Solution:</strong></p>\n<p>Load your fxml file into a parent node object and replace the content of your <code>AnchorPane</code> with it.</p>\n<pre><code>Parent root = loader.load();\nanchrMaster.getChildren().clear();\nanchrMaster.getChildren().add(root);\n</code></pre>\n"}],"owner":{"account_id":29234450,"reputation":17,"user_id":22397364,"display_name":"Rashid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77464533,"answer_count":1,"score":0,"last_activity_date":1699695006,"creation_date":1699689719,"question_id":77464314,"body_markdown":"I Have a Main Anchorpane. Inside this anchorpane I have a Splitpane and inside this splitpane there is two Anchorpane(masterAnchorpane and sidebarAnchorpane). So I want to load rest of my FXML files in masterAnchorpane [IMAGE ATTACHED FOR REFERENCE](https://i.stack.imgur.com/NCuX6.png).\r\nI tried so many solutions in this case, but I can&#39;t solve this issue.\r\n\r\nThis is my code. Also I try many of codes to solve this.\r\n\r\n```\r\nFXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;/FXML/CRM/Customer/customerMaster.fxml&quot;));\r\n                anchrMaster = loader.load();\r\n                CustomerMasterController cmc = loader.getController();\r\n                scene_customer = new Scene(anchrMaster);\r\n                stage_customer.setScene(scene_customer);\r\n                stage_customer.setResizable(false);\r\n                cmc.setStage(stage_customer);\r\n                stage_customer.show();\r\n```\r\nError Shows in this code\r\n\r\n```\r\nclass javafx.scene.control.SplitPane cannot be cast to class \r\njavafx.scene.layout.AnchorPane (javafx.scene.control.SplitPane is in module \r\njavafx.controls@20 of loader &#39;app&#39;; javafx.scene.layout.AnchorPane is in \r\nmodule javafx.graphics@20 of loader &#39;app&#39;)\r\n```\r\n\r\n\r\nSo please help to solve this issue.\r\nI&#39;m a newbie in java and also there is limited references for Javafx20.\r\nThanks for Advance","title":"Load FXML Files in Anchorpane","body":"<p>I Have a Main Anchorpane. Inside this anchorpane I have a Splitpane and inside this splitpane there is two Anchorpane(masterAnchorpane and sidebarAnchorpane). So I want to load rest of my FXML files in masterAnchorpane <a href=\"https://i.stack.imgur.com/NCuX6.png\" rel=\"nofollow noreferrer\">IMAGE ATTACHED FOR REFERENCE</a>.\nI tried so many solutions in this case, but I can't solve this issue.</p>\n<p>This is my code. Also I try many of codes to solve this.</p>\n<pre><code>FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;/FXML/CRM/Customer/customerMaster.fxml&quot;));\n                anchrMaster = loader.load();\n                CustomerMasterController cmc = loader.getController();\n                scene_customer = new Scene(anchrMaster);\n                stage_customer.setScene(scene_customer);\n                stage_customer.setResizable(false);\n                cmc.setStage(stage_customer);\n                stage_customer.show();\n</code></pre>\n<p>Error Shows in this code</p>\n<pre><code>class javafx.scene.control.SplitPane cannot be cast to class \njavafx.scene.layout.AnchorPane (javafx.scene.control.SplitPane is in module \njavafx.controls@20 of loader 'app'; javafx.scene.layout.AnchorPane is in \nmodule javafx.graphics@20 of loader 'app')\n</code></pre>\n<p>So please help to solve this issue.\nI'm a newbie in java and also there is limited references for Javafx20.\nThanks for Advance</p>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":29180693,"reputation":1,"user_id":22354956,"display_name":"Max"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699694942,"creation_date":1699694942,"question_id":77464541,"body_markdown":"I have a \r\n\r\n```java\r\npublic class OAuth2AuthenticationSuccessHandler extends SavedRequestAwareAuthenticationSuccessHandler\r\n```\r\n\r\nwith method\r\n\r\n```java\r\n    @Override\r\n    public void onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response,\r\n            Authentication authentication) throws IOException, ServletException {\r\n        User user = processOidcUser((DefaultOidcUser) authentication.getPrincipal());\r\n        Authentication auth = new UsernamePasswordAuthenticationToken(user, user.getPassword(), user.getAuthorities());\r\n        SecurityContextHolder.getContext().setAuthentication(auth);\r\n        super.onAuthenticationSuccess(request, response, authentication);\r\n    }\r\n```\r\n\r\nand it works fine. I can login either with Username and Password or with OAuth2.\r\n\r\nBut for some reason, in both options, there seems to be a \r\n\r\n```java\r\nSavedRequest savedRequest = this.requestCache.getRequest(request, response);\r\n```\r\n\r\nwhich has a bug: If there is an element on the frontpage that cannot be loaded, the SavedRequest does not forward to the URL where it should with &quot;?continue&quot;, but instead it forwards to the URL which returned 404.\r\n\r\n\r\nI can only avoid this by not having dead links anywhere, but as this can happen from time to time, it is annoying that this happens even after I specified setDefaultTargetUrl(&quot;/&quot;); it still forwards to the dead link.\r\n\r\nI also tried to check this link in SavedRequest for status code, but apparently, Spring resolves the 404 internally and returns 200 on the 404 page.","title":"Prevent 404 to load from SavedRequest","body":"<p>I have a</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class OAuth2AuthenticationSuccessHandler extends SavedRequestAwareAuthenticationSuccessHandler\n</code></pre>\n<p>with method</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public void onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response,\n            Authentication authentication) throws IOException, ServletException {\n        User user = processOidcUser((DefaultOidcUser) authentication.getPrincipal());\n        Authentication auth = new UsernamePasswordAuthenticationToken(user, user.getPassword(), user.getAuthorities());\n        SecurityContextHolder.getContext().setAuthentication(auth);\n        super.onAuthenticationSuccess(request, response, authentication);\n    }\n</code></pre>\n<p>and it works fine. I can login either with Username and Password or with OAuth2.</p>\n<p>But for some reason, in both options, there seems to be a</p>\n<pre class=\"lang-java prettyprint-override\"><code>SavedRequest savedRequest = this.requestCache.getRequest(request, response);\n</code></pre>\n<p>which has a bug: If there is an element on the frontpage that cannot be loaded, the SavedRequest does not forward to the URL where it should with &quot;?continue&quot;, but instead it forwards to the URL which returned 404.</p>\n<p>I can only avoid this by not having dead links anywhere, but as this can happen from time to time, it is annoying that this happens even after I specified setDefaultTargetUrl(&quot;/&quot;); it still forwards to the dead link.</p>\n<p>I also tried to check this link in SavedRequest for status code, but apparently, Spring resolves the 404 internally and returns 200 on the 404 page.</p>\n"},{"tags":["java","jobs","nomad"],"owner":{"account_id":16204734,"reputation":1,"user_id":11700212,"display_name":"Игорь Аксёнов"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699694692,"creation_date":1699694692,"question_id":77464535,"body_markdown":"If a nomad job got 137 error or template re-rendered after changing value in vault, job restarts and then stuck in pending state. Driver java. Jobs with driver exec restarts succesfully. Nomad version 1.6.2.\r\n[job](https://i.stack.imgur.com/kPQFp.png)\r\n[task](https://i.stack.imgur.com/rkmej.png)\r\nJob hcl:\r\n\r\n```\r\njob &quot;conv&quot; {\r\n  datacenters = [&quot;main&quot;]\r\n  type        = &quot;service&quot;\r\npriority = 55\r\n  \r\n  update {\r\n    max_parallel      = 1\r\n    min_healthy_time  = &quot;10s&quot;\r\n    healthy_deadline  = &quot;1m&quot;\r\n    progress_deadline = &quot;1m1s&quot;\r\n    auto_revert       = false\r\n    canary            = 0\r\n  }\r\n\r\n  \r\n  migrate {\r\n    max_parallel     = 1\r\n    health_check     = &quot;checks&quot;\r\n    min_healthy_time = &quot;10s&quot;\r\n    healthy_deadline = &quot;1m&quot;\r\n  }\r\n\r\n  reschedule {\r\n    delay          = &quot;30s&quot;\r\n    delay_function = &quot;constant&quot;\r\n    unlimited      = true\r\n  }\r\n\r\n  group &quot;processing&quot; {\r\n    count = 1\r\n\r\n    restart {\r\n      attempts = 2\r\n      interval = &quot;1m&quot;\r\n      delay    = &quot;15s&quot;\r\n      mode     = &quot;fail&quot;\r\n    }\r\n\r\n    task &quot;conv&quot; {\r\n      driver = &quot;java&quot;\r\n\r\n      resources {\r\n        cpu = 12000\r\n        memory = 4096\r\n      }\r\n\r\n\tconfig {\r\n    jar_path    = &quot;local/conv-3.24.2.jar&quot;\r\n\targs = [&quot;--mode&quot;, &quot;service&quot;]\r\n\tclass_path = &quot;/local&quot;\r\n    jvm_options = [&quot;-Xmx4096m&quot;, &quot;-Xms2048m&quot;]\r\n  }\r\n\r\n\r\n\t   artifact {\r\n        source      = &quot;http://nexus.XXXX/repository/raw/XXXX/3.24.2/conv-3.24.2.tar&quot;\r\n        destination = &quot;local/&quot;\r\n      }\r\n\r\n\r\n      template {\r\n        data        = &lt;&lt;EOTC\r\nmaximumPoolSize={{with secret &quot;kv/conv&quot; }}{{.Data.data.maximumPoolSize}}{{ end }}\r\nEOTC\r\n        destination = &quot;./config.properties&quot;\r\n      }\r\n\r\n      service {\r\n        name = &quot;conv&quot;\r\n        tags = [&quot;processing&quot;]\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n\r\nTryed to run this job as exec, restarted succesfully. Error occurs only with java driver.","title":"Hashicorp nomad job stuck in pending after restart","body":"<p>If a nomad job got 137 error or template re-rendered after changing value in vault, job restarts and then stuck in pending state. Driver java. Jobs with driver exec restarts succesfully. Nomad version 1.6.2.\n<a href=\"https://i.stack.imgur.com/kPQFp.png\" rel=\"nofollow noreferrer\">job</a>\n<a href=\"https://i.stack.imgur.com/rkmej.png\" rel=\"nofollow noreferrer\">task</a>\nJob hcl:</p>\n<pre><code>job &quot;conv&quot; {\n  datacenters = [&quot;main&quot;]\n  type        = &quot;service&quot;\npriority = 55\n  \n  update {\n    max_parallel      = 1\n    min_healthy_time  = &quot;10s&quot;\n    healthy_deadline  = &quot;1m&quot;\n    progress_deadline = &quot;1m1s&quot;\n    auto_revert       = false\n    canary            = 0\n  }\n\n  \n  migrate {\n    max_parallel     = 1\n    health_check     = &quot;checks&quot;\n    min_healthy_time = &quot;10s&quot;\n    healthy_deadline = &quot;1m&quot;\n  }\n\n  reschedule {\n    delay          = &quot;30s&quot;\n    delay_function = &quot;constant&quot;\n    unlimited      = true\n  }\n\n  group &quot;processing&quot; {\n    count = 1\n\n    restart {\n      attempts = 2\n      interval = &quot;1m&quot;\n      delay    = &quot;15s&quot;\n      mode     = &quot;fail&quot;\n    }\n\n    task &quot;conv&quot; {\n      driver = &quot;java&quot;\n\n      resources {\n        cpu = 12000\n        memory = 4096\n      }\n\n    config {\n    jar_path    = &quot;local/conv-3.24.2.jar&quot;\n    args = [&quot;--mode&quot;, &quot;service&quot;]\n    class_path = &quot;/local&quot;\n    jvm_options = [&quot;-Xmx4096m&quot;, &quot;-Xms2048m&quot;]\n  }\n\n\n       artifact {\n        source      = &quot;http://nexus.XXXX/repository/raw/XXXX/3.24.2/conv-3.24.2.tar&quot;\n        destination = &quot;local/&quot;\n      }\n\n\n      template {\n        data        = &lt;&lt;EOTC\nmaximumPoolSize={{with secret &quot;kv/conv&quot; }}{{.Data.data.maximumPoolSize}}{{ end }}\nEOTC\n        destination = &quot;./config.properties&quot;\n      }\n\n      service {\n        name = &quot;conv&quot;\n        tags = [&quot;processing&quot;]\n      }\n    }\n  }\n}\n</code></pre>\n<p>Tryed to run this job as exec, restarted succesfully. Error occurs only with java driver.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":3,"creation_date":1699548881,"post_id":77454960,"comment_id":136548983,"body_markdown":"What does your professor / teacher mean by &quot;without an index&quot; ?","body":"What does your professor / teacher mean by &quot;without an index&quot; ?"},{"owner":{"account_id":2168880,"reputation":15313,"user_id":1921385,"display_name":"Moob"},"score":0,"creation_date":1699549525,"post_id":77454960,"comment_id":136549123,"body_markdown":"Does this answer your question? [How do I reverse an int array in Java?](https://stackoverflow.com/questions/2137755/how-do-i-reverse-an-int-array-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2137755/how-do-i-reverse-an-int-array-in-java\">How do I reverse an int array in Java?</a>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1699549727,"post_id":77454960,"comment_id":136549181,"body_markdown":"@Moob -- I can&#39;t speak for the O/P, but my guess is &quot;No&quot;. The O/P has specific requirements to use recursion and &quot;without an index&quot;. I&#39;m not sure what is meant by the latter.","body":"@Moob -- I can&#39;t speak for the O/P, but my guess is &quot;No&quot;. The O/P has specific requirements to use recursion and &quot;without an index&quot;. I&#39;m not sure what is meant by the latter."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1699549975,"post_id":77454960,"comment_id":136549241,"body_markdown":"By the way, the requirement to use recursion does not necessarily mean the recursive method has to be `int[] Problem5(int[] myArray)`. You could code, for example, a different method that uses recursion, such as `public static int [] reverse (int [] arr)` or `public static int [] reverse (int [] arr, int foo)`. The method `Problem5 (int[] myArray)` would call that method.","body":"By the way, the requirement to use recursion does not necessarily mean the recursive method has to be <code>int[] Problem5(int[] myArray)</code>. You could code, for example, a different method that uses recursion, such as <code>public static int [] reverse (int [] arr)</code> or <code>public static int [] reverse (int [] arr, int foo)</code>. The method <code>Problem5 (int[] myArray)</code> would call that method."},{"owner":{"account_id":29865868,"reputation":11,"user_id":22888500,"display_name":"poet_will"},"score":0,"creation_date":1699550658,"post_id":77454960,"comment_id":136549393,"body_markdown":"@OldDogProgrammer the only parameters into the method is the array of integers.  I cannot change those parameters, therefore I cannot use any index parameters.","body":"@OldDogProgrammer the only parameters into the method is the array of integers.  I cannot change those parameters, therefore I cannot use any index parameters."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1699551065,"post_id":77454960,"comment_id":136549483,"body_markdown":"Yes, I assume `public int[] Problem5(int[] myArray)` is mandatory. But, within that, you should be able to use indexes.  I would guess you would also be allowed to use a different method that *does* take values of indexes parameters. But, I suspect it would have to be a *method you code*.  That would prohibit using built-in methods of `Collections` or `Arrays` API.","body":"Yes, I assume <code>public int[] Problem5(int[] myArray)</code> is mandatory. But, within that, you should be able to use indexes.  I would guess you would also be allowed to use a different method that <i>does</i> take values of indexes parameters. But, I suspect it would have to be a <i>method you code</i>.  That would prohibit using built-in methods of <code>Collections</code> or <code>Arrays</code> API."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1699551275,"post_id":77454960,"comment_id":136549518,"body_markdown":"@poet_will You would need to somehow keep track of the index. Are you allowed to use class variable (static) or instance variable for that? Or another method with array and index parameters, which will be the actual recursive method, and you will call it inside `Problem5`?","body":"@poet_will You would need to somehow keep track of the index. Are you allowed to use class variable (static) or instance variable for that? Or another method with array and index parameters, which will be the actual recursive method, and you will call it inside <code>Problem5</code>?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1699551496,"post_id":77454960,"comment_id":136549557,"body_markdown":"Off-topic: I noticed `public int[] Problem5` is an instance method, but references no instance variables. Should it be `static` instead of an instance method?","body":"Off-topic: I noticed <code>public int[] Problem5</code> is an instance method, but references no instance variables. Should it be <code>static</code> instead of an instance method?"},{"owner":{"account_id":29865868,"reputation":11,"user_id":22888500,"display_name":"poet_will"},"score":0,"creation_date":1699551513,"post_id":77454960,"comment_id":136549562,"body_markdown":"@Chaosfire yes I can use class and method variables.  The method cannot take in a parameter to be used as the index.","body":"@Chaosfire yes I can use class and method variables.  The method cannot take in a parameter to be used as the index."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1699552581,"post_id":77454960,"comment_id":136549736,"body_markdown":"@poet_will: I don&#39;t think you understand what we are saying. Yes, you are not allowed to change the return type, the name, or the parameter types or order of the `Problem5` method. But, we are suggesting you code an additional method that uses recursion, and  takes what parameters you need to solve the problem. Let&#39;s say you code a method `foo`. Somewhere inside `Problem5`, you call `foo`.  It will be `foo` that does the recursion. Chaosfire also wants to know if you are allowed to add instance variables to the class.","body":"@poet_will: I don&#39;t think you understand what we are saying. Yes, you are not allowed to change the return type, the name, or the parameter types or order of the <code>Problem5</code> method. But, we are suggesting you code an additional method that uses recursion, and  takes what parameters you need to solve the problem. Let&#39;s say you code a method <code>foo</code>. Somewhere inside <code>Problem5</code>, you call <code>foo</code>.  It will be <code>foo</code> that does the recursion. Chaosfire also wants to know if you are allowed to add instance variables to the class."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1699552957,"post_id":77454960,"comment_id":136549812,"body_markdown":"Or, there could be instance variables already in the class you are allowed to use.","body":"Or, there could be instance variables already in the class you are allowed to use."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1699627880,"post_id":77454960,"comment_id":136559507,"body_markdown":"There seems to be some sort of misunderstanding or miscommunication here. I suggest you talk with your professor / teacher. It might help if you show the professor / teacher this page.","body":"There seems to be some sort of misunderstanding or miscommunication here. I suggest you talk with your professor / teacher. It might help if you show the professor / teacher this page."}],"answers":[{"comments":[{"owner":{"account_id":29865868,"reputation":11,"user_id":22888500,"display_name":"poet_will"},"score":0,"creation_date":1699549394,"post_id":77455049,"comment_id":136549098,"body_markdown":"Thanks for the comment.  Unfortunately I cannot set myArray.length outside of the method.  There are other methods in the class that use the same &quot;myArray&quot; name and I cannot change it.","body":"Thanks for the comment.  Unfortunately I cannot set myArray.length outside of the method.  There are other methods in the class that use the same &quot;myArray&quot; name and I cannot change it."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1699628156,"post_id":77455049,"comment_id":136559567,"body_markdown":"@poet_will : The code in main in this answer is just for test / demonstration. The code you need, in the `Problem5` method doesn&#39;t set the length of the array.","body":"@poet_will : The code in main in this answer is just for test / demonstration. The code you need, in the <code>Problem5</code> method doesn&#39;t set the length of the array."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1699628646,"post_id":77455049,"comment_id":136559676,"body_markdown":"@poet_will:  Within the `Problem5` method, `myArray` is a *local* variable name. If there happens to be an instance or class variable also named `myArray`, that variable name is hidden by the local.  Search for &quot;Java variable shadowing&quot;. Within `Problem5` method, you won&#39;t know if local variable name `myArray` refers to the instance variable of the same name unless you test for that. If `Problem5` is part of `class Foo`, you couldh ave`public class Foo { int [] myArray; ... public void bar () { ... int [] bat = {100,50,-20,80,80,80,70,-40,10}; int [] bin = Problem5 (bat); ...}`","body":"@poet_will:  Within the <code>Problem5</code> method, <code>myArray</code> is a <i>local</i> variable name. If there happens to be an instance or class variable also named <code>myArray</code>, that variable name is hidden by the local.  Search for &quot;Java variable shadowing&quot;. Within <code>Problem5</code> method, you won&#39;t know if local variable name <code>myArray</code> refers to the instance variable of the same name unless you test for that. If <code>Problem5</code> is part of <code>class Foo</code>, you couldh ave<code>public class Foo { int [] myArray; ... public void bar () { ... int [] bat = {100,50,-20,80,80,80,70,-40,10}; int [] bin = Problem5 (bat); ...}</code>"},{"owner":{"account_id":4107094,"reputation":350,"user_id":3370777,"display_name":"James"},"score":0,"creation_date":1699728446,"post_id":77455049,"comment_id":136569021,"body_markdown":"@poet_will this means that if there is another variable named `myArray` defined at a higher scope (i.e. in a class), it will be &#39;shadowed&#39; in the method. The method will only see and manipulate the `myArray` that was passed to it. not the class-level unless we refert to it","body":"@poet_will this means that if there is another variable named <code>myArray</code> defined at a higher scope (i.e. in a class), it will be &#39;shadowed&#39; in the method. The method will only see and manipulate the <code>myArray</code> that was passed to it. not the class-level unless we refert to it"}],"tags":[],"owner":{"account_id":4107094,"reputation":350,"user_id":3370777,"display_name":"James"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699549131,"creation_date":1699549131,"answer_id":77455049,"question_id":77454960,"body_markdown":"`ArrayIndexOutOfBoundsException` means there is something wrong with how you are updating your variables.  \r\nyou have to try reverse an array using recursion:  \r\n```\r\npublic class Main {\r\n   static int beginning = 0;\r\n   static int end;\r\n\r\n   public static void main(String[] args) {\r\n       int[] myArray = {1, 2, 3, 4, 5};\r\n       end = myArray.length - 1;\r\n       Problem5(myArray);\r\n       for (int num : myArray) {\r\n           System.out.print(num + &quot; &quot;);\r\n       }\r\n   }\r\n\r\n   public static void Problem5(int[] myArray) {\r\n       if (beginning &gt;= end) {\r\n           return;\r\n       } else {\r\n           int temp = myArray[beginning];\r\n           myArray[beginning] = myArray[end];\r\n           myArray[end] = temp;\r\n       }\r\n       beginning++;\r\n       end--;\r\n       Problem5(myArray);\r\n   }\r\n}\r\n\r\n```\r\nBefore the elements and in the if statement i cheked `beginning &gt;= end` in order to avoid the variable error.","title":"Reverse an array of integers using recursion without creating a second array and without an index","body":"<p><code>ArrayIndexOutOfBoundsException</code> means there is something wrong with how you are updating your variables.<br />\nyou have to try reverse an array using recursion:</p>\n<pre><code>public class Main {\n   static int beginning = 0;\n   static int end;\n\n   public static void main(String[] args) {\n       int[] myArray = {1, 2, 3, 4, 5};\n       end = myArray.length - 1;\n       Problem5(myArray);\n       for (int num : myArray) {\n           System.out.print(num + &quot; &quot;);\n       }\n   }\n\n   public static void Problem5(int[] myArray) {\n       if (beginning &gt;= end) {\n           return;\n       } else {\n           int temp = myArray[beginning];\n           myArray[beginning] = myArray[end];\n           myArray[end] = temp;\n       }\n       beginning++;\n       end--;\n       Problem5(myArray);\n   }\n}\n\n</code></pre>\n<p>Before the elements and in the if statement i cheked <code>beginning &gt;= end</code> in order to avoid the variable error.</p>\n"},{"comments":[{"owner":{"account_id":29865868,"reputation":11,"user_id":22888500,"display_name":"poet_will"},"score":0,"creation_date":1699550379,"post_id":77455094,"comment_id":136549333,"body_markdown":"These methods take in a start and end index values.  The method parameter I have only takes in an Array.  Therefore I&#39;m trying to solve the problem by using only the array and variables that I create.","body":"These methods take in a start and end index values.  The method parameter I have only takes in an Array.  Therefore I&#39;m trying to solve the problem by using only the array and variables that I create."},{"owner":{"account_id":3440545,"reputation":612,"user_id":2882619,"accept_rate":78,"display_name":"Ali Malek"},"score":1,"creation_date":1699550774,"post_id":77455094,"comment_id":136549425,"body_markdown":"@poet_will here also the Method Problem5 just takes one input (the array). then we create another method that can accept more input and to the recursion. By the way, if you need to use recursion you need somehow pass the start and end variables to the next method call. There is no magic, except using`ThreadLocal` which I don&#39;t recommend for solving this problem.","body":"@poet_will here also the Method Problem5 just takes one input (the array). then we create another method that can accept more input and to the recursion. By the way, if you need to use recursion you need somehow pass the start and end variables to the next method call. There is no magic, except using<code>ThreadLocal</code> which I don&#39;t recommend for solving this problem."}],"tags":[],"owner":{"account_id":3440545,"reputation":612,"user_id":2882619,"accept_rate":78,"display_name":"Ali Malek"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699550954,"creation_date":1699549633,"answer_id":77455094,"question_id":77454960,"body_markdown":"In the solution below you can reverse the array without any extra space, no extra array, and no temp for swapping the start and end of the array.\r\n\r\n```Java\r\n    public int[] Problem5(int[] arr) {\r\n        return reverse(arr, 0, arr.length - 1); // use length - 1 to avoid index out of bound in accessing array\r\n    }\r\n\r\n    // By this method you can pass the new start and end \r\n    // Also you will do the recursion by this method\r\n    private static int[] reverse(int[] arr, int start, int end) {\r\n        if (start &gt; end) {\r\n            return arr;\r\n        }\r\n\r\n        // swap integers without temp\r\n        // x, y = 2, 3\r\n        // x = x + y = 2 + 3 = 5\r\n        // y = x - y = 5 - 3 = 2\r\n        // x = x - y = 5 - 2 = 3\r\n        arr[start] = arr[start] + arr[end];\r\n        arr[end] = arr[start] - arr[end];\r\n        arr[start] = arr[start] - arr[end];\r\n\r\n        //Move the indexes\r\n        start++;\r\n        end--;\r\n\r\n        return reverse(arr, start, end);\r\n    }\r\n```\r\n\r\nSolution with simple swapping:\r\n\r\n\r\n```Java\r\n    public int[] Problem5(int[] arr) {\r\n        return reverse(arr, 0, arr.length - 1); // use length - 1 to avoid index out of bound in accessing array\r\n    }\r\n\r\n    // By this method you can pass the new start and end \r\n    // Also you will do the recursion by this method\r\n    private static int[] reverse(int[] arr, int start, int end) {\r\n        if (start &gt; end) {\r\n            return arr;\r\n        }\r\n\r\n        int temp = arr[start];\r\n        arr[start] = arr[end];\r\n        arr[end] = temp;\r\n\r\n        //Move the indexes\r\n        start++;\r\n        end--;\r\n\r\n        return reverse(arr, start, end);\r\n    }\r\n```","title":"Reverse an array of integers using recursion without creating a second array and without an index","body":"<p>In the solution below you can reverse the array without any extra space, no extra array, and no temp for swapping the start and end of the array.</p>\n<pre><code>    public int[] Problem5(int[] arr) {\n        return reverse(arr, 0, arr.length - 1); // use length - 1 to avoid index out of bound in accessing array\n    }\n\n    // By this method you can pass the new start and end \n    // Also you will do the recursion by this method\n    private static int[] reverse(int[] arr, int start, int end) {\n        if (start &gt; end) {\n            return arr;\n        }\n\n        // swap integers without temp\n        // x, y = 2, 3\n        // x = x + y = 2 + 3 = 5\n        // y = x - y = 5 - 3 = 2\n        // x = x - y = 5 - 2 = 3\n        arr[start] = arr[start] + arr[end];\n        arr[end] = arr[start] - arr[end];\n        arr[start] = arr[start] - arr[end];\n\n        //Move the indexes\n        start++;\n        end--;\n\n        return reverse(arr, start, end);\n    }\n</code></pre>\n<p>Solution with simple swapping:</p>\n<pre><code>    public int[] Problem5(int[] arr) {\n        return reverse(arr, 0, arr.length - 1); // use length - 1 to avoid index out of bound in accessing array\n    }\n\n    // By this method you can pass the new start and end \n    // Also you will do the recursion by this method\n    private static int[] reverse(int[] arr, int start, int end) {\n        if (start &gt; end) {\n            return arr;\n        }\n\n        int temp = arr[start];\n        arr[start] = arr[end];\n        arr[end] = temp;\n\n        //Move the indexes\n        start++;\n        end--;\n\n        return reverse(arr, start, end);\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":29865868,"reputation":11,"user_id":22888500,"display_name":"poet_will"},"score":1,"creation_date":1699550411,"post_id":77455117,"comment_id":136549342,"body_markdown":"I cannot change the method parameters.","body":"I cannot change the method parameters."}],"tags":[],"owner":{"account_id":4010701,"reputation":15103,"user_id":4398966,"accept_rate":64,"display_name":"DCR"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699693857,"creation_date":1699549770,"answer_id":77455117,"question_id":77454960,"body_markdown":"place your start and end as parameters to your method.\r\n\r\n\r\n\r\n    public int[] Problem5(int[] myArray, int start, int end) {\r\n        \r\n        int temp = 0;\r\n        \r\n        if(start &gt; end) {\r\n            return myArray;\r\n        }\r\n        else {\r\n            temp = myArray[beginning];\r\n            myArray[beginning] = myArray[end];\r\n            myArray[end] = temp;\r\n        }\r\n        start++;\r\n        end--;\r\n        \r\n        return Problem5(myArray,start end);\r\n    }\r\n\r\n\r\n","title":"Reverse an array of integers using recursion without creating a second array and without an index","body":"<p>place your start and end as parameters to your method.</p>\n<pre><code>public int[] Problem5(int[] myArray, int start, int end) {\n    \n    int temp = 0;\n    \n    if(start &gt; end) {\n        return myArray;\n    }\n    else {\n        temp = myArray[beginning];\n        myArray[beginning] = myArray[end];\n        myArray[end] = temp;\n    }\n    start++;\n    end--;\n    \n    return Problem5(myArray,start end);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":319988,"reputation":10980,"user_id":638028,"accept_rate":91,"display_name":"Klitos Kyriacou"},"score":0,"creation_date":1699550125,"post_id":77455138,"comment_id":136549272,"body_markdown":"`reverse(copyOfRange(...))` won&#39;t work because it will reverse a _copy_ of the array, but you want to reverse a subrange of the original array.","body":"<code>reverse(copyOfRange(...))</code> won&#39;t work because it will reverse a <i>copy</i> of the array, but you want to reverse a subrange of the original array."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1699551320,"post_id":77455138,"comment_id":136549530,"body_markdown":"The O/P is a student, and unlikely to have encountered generics at this point.  So, why not stick with `int`?","body":"The O/P is a student, and unlikely to have encountered generics at this point.  So, why not stick with <code>int</code>?"}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699549949,"creation_date":1699549949,"answer_id":77455138,"question_id":77454960,"body_markdown":"That was a challenge, I had to look it up.\r\n\r\nUtilize the _[Arrays#copyOfRange](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Arrays.html#copyOfRange(T[],int,int))_ method to _shallow copy_ the array.\r\n\r\n```java\r\n&lt;T&gt; void reverse(T[] a) {\r\n    if (a.length == 1) return;\r\n    T t = a[0];\r\n    a[0] = a[a.length - 1];\r\n    a[a.length - 1] = t;\r\n    reverse(Arrays.copyOfRange(a, 1, a.length));\r\n}\r\n```\r\n\r\nAlternately, here is an example using a starting and ending index.\r\n\r\n```java\r\n&lt;T&gt; void reverse(T[] a, int i, int j) {\r\n    if (i == j) return;\r\n    T t = a[i];\r\n    a[i] = a[j];\r\n    a[j] = t;\r\n    reverse(a, ++i, --j);\r\n}\r\n```","title":"Reverse an array of integers using recursion without creating a second array and without an index","body":"<p>That was a challenge, I had to look it up.</p>\n<p>Utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Arrays.html#copyOfRange(T%5B%5D,int,int)\" rel=\"nofollow noreferrer\">Arrays#copyOfRange</a></em> method to <em>shallow copy</em> the array.</p>\n<pre class=\"lang-java prettyprint-override\"><code>&lt;T&gt; void reverse(T[] a) {\n    if (a.length == 1) return;\n    T t = a[0];\n    a[0] = a[a.length - 1];\n    a[a.length - 1] = t;\n    reverse(Arrays.copyOfRange(a, 1, a.length));\n}\n</code></pre>\n<p>Alternately, here is an example using a starting and ending index.</p>\n<pre class=\"lang-java prettyprint-override\"><code>&lt;T&gt; void reverse(T[] a, int i, int j) {\n    if (i == j) return;\n    T t = a[i];\n    a[i] = a[j];\n    a[j] = t;\n    reverse(a, ++i, --j);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699553858,"creation_date":1699553357,"answer_id":77455464,"question_id":77454960,"body_markdown":"With instance variable a solution can be like this:\r\n```\r\npublic class Test {\r\n\r\n    private int currentIndex = 0;//probably need better name\r\n\r\n    public int[] Problem5(int[] myArray) {\r\n        if (currentIndex == myArray.length / 2) {\r\n            //you have reached the middle of the array\r\n            //everything is swapped\r\n            currentIndex = 0;//reset index if you need to use same instance again\r\n            return myArray;\r\n        }\r\n        int firstIndex = currentIndex;\r\n        int secondIndex = myArray.length - 1 - firstIndex;\r\n\r\n        int temp = myArray[firstIndex];\r\n        myArray[firstIndex] = myArray[secondIndex];\r\n        myArray[secondIndex] = temp;\r\n        currentIndex++;//update index before next recursive call\r\n        return Problem5(myArray);\r\n    }\r\n}\r\n```\r\nAlso you can use second method to do the actual recursion, without changing `Problem5`:\r\n```\r\npublic class Test {\r\n\r\n    public int[] Problem5(int[] myArray) {\r\n        //this method has remained unchanged\r\n        return actualRecursiveMethod(myArray, 0);\r\n    }\r\n\r\n    private static int[] actualRecursiveMethod(int[] myArray, int index) {\r\n        //the &#39;magic&#39; happens here\r\n        if (index == myArray.length / 2) {\r\n            //you have reached the middle of the array\r\n            //everything is swapped\r\n            return myArray;\r\n        }\r\n        int secondIndex = myArray.length - 1 - index;\r\n\r\n        int temp = myArray[index];\r\n        myArray[index] = myArray[secondIndex];\r\n        myArray[secondIndex] = temp;\r\n        //call recursively with next index\r\n        return actualRecursiveMethod(myArray, index + 1);\r\n    }\r\n}\r\n```","title":"Reverse an array of integers using recursion without creating a second array and without an index","body":"<p>With instance variable a solution can be like this:</p>\n<pre><code>public class Test {\n\n    private int currentIndex = 0;//probably need better name\n\n    public int[] Problem5(int[] myArray) {\n        if (currentIndex == myArray.length / 2) {\n            //you have reached the middle of the array\n            //everything is swapped\n            currentIndex = 0;//reset index if you need to use same instance again\n            return myArray;\n        }\n        int firstIndex = currentIndex;\n        int secondIndex = myArray.length - 1 - firstIndex;\n\n        int temp = myArray[firstIndex];\n        myArray[firstIndex] = myArray[secondIndex];\n        myArray[secondIndex] = temp;\n        currentIndex++;//update index before next recursive call\n        return Problem5(myArray);\n    }\n}\n</code></pre>\n<p>Also you can use second method to do the actual recursion, without changing <code>Problem5</code>:</p>\n<pre><code>public class Test {\n\n    public int[] Problem5(int[] myArray) {\n        //this method has remained unchanged\n        return actualRecursiveMethod(myArray, 0);\n    }\n\n    private static int[] actualRecursiveMethod(int[] myArray, int index) {\n        //the 'magic' happens here\n        if (index == myArray.length / 2) {\n            //you have reached the middle of the array\n            //everything is swapped\n            return myArray;\n        }\n        int secondIndex = myArray.length - 1 - index;\n\n        int temp = myArray[index];\n        myArray[index] = myArray[secondIndex];\n        myArray[secondIndex] = temp;\n        //call recursively with next index\n        return actualRecursiveMethod(myArray, index + 1);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29865868,"reputation":11,"user_id":22888500,"display_name":"poet_will"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1699693857,"creation_date":1699548282,"question_id":77454960,"body_markdown":"I am banging my head against the wall with this one. Here is what I have so far:\r\n```java\r\npublic int[] Problem5(int[] myArray) {\r\n\tend = myArray.length;\r\n\tint temp = 0;\r\n\t\r\n\tif(beginning &gt; end) {\r\n\t\treturn myArray;\r\n\t}\r\n\telse {\r\n\t\ttemp = myArray[beginning];\r\n\t\tmyArray[beginning] = myArray[end];\r\n\t\tmyArray[end] = temp;\r\n\t}\r\n\tbeginning ++;\r\n\tend--;\r\n\t\r\n\treturn Problem5(myArray);\r\n}\r\n```\r\n\r\nFirstly, I think I have to figure out how to not reset &quot;end&quot; to the array length each time. I&#39;m not sure how to handle that because I need to set it the first time.\r\n\r\nSecondly, I&#39;m getting an ArrayIndexOutOfBoundsException at the line &quot;myArray[beginning] = myArray[end];&quot;.  I&#39;m not sure how to handle that in the if statement.","title":"Reverse an array of integers using recursion without creating a second array and without an index","body":"<p>I am banging my head against the wall with this one. Here is what I have so far:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int[] Problem5(int[] myArray) {\n    end = myArray.length;\n    int temp = 0;\n    \n    if(beginning &gt; end) {\n        return myArray;\n    }\n    else {\n        temp = myArray[beginning];\n        myArray[beginning] = myArray[end];\n        myArray[end] = temp;\n    }\n    beginning ++;\n    end--;\n    \n    return Problem5(myArray);\n}\n</code></pre>\n<p>Firstly, I think I have to figure out how to not reset &quot;end&quot; to the array length each time. I'm not sure how to handle that because I need to set it the first time.</p>\n<p>Secondly, I'm getting an ArrayIndexOutOfBoundsException at the line &quot;myArray[beginning] = myArray[end];&quot;.  I'm not sure how to handle that in the if statement.</p>\n"},{"tags":["java","android","google-maps","gps","geolocation"],"answers":[{"tags":[],"owner":{"account_id":4194226,"reputation":345,"user_id":3436004,"display_name":"muruthi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1443709082,"creation_date":1443709082,"answer_id":32889905,"question_id":32889431,"body_markdown":"You can easily archive that using the Google Maps Android API V2. Just send the current cab location LatLng values to your Java Application over a messaging &amp; networking protocol. You can place the POST request in the setOnMyLocationChangeListener of the GoogleMap object.\r\n\r\n    map.setOnMyLocationChangeListener(new GoogleMap.OnMyLocationChangeListener() {\r\n            @Override\r\n            public void onMyLocationChange(Location location) {\r\n                double lat =  location.getLatitude();\r\n                double lng = location.getLongitude();\r\n                //TODO: Send longitude and latitude to JAVA app\r\n            }\r\n        });","title":"How to remotely track movement of android phone on map of a java desktop application using gps of android","body":"<p>You can easily archive that using the Google Maps Android API V2. Just send the current cab location LatLng values to your Java Application over a messaging &amp; networking protocol. You can place the POST request in the setOnMyLocationChangeListener of the GoogleMap object.</p>\n\n<pre><code>map.setOnMyLocationChangeListener(new GoogleMap.OnMyLocationChangeListener() {\n        @Override\n        public void onMyLocationChange(Location location) {\n            double lat =  location.getLatitude();\n            double lng = location.getLongitude();\n            //TODO: Send longitude and latitude to JAVA app\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":4545436,"reputation":611,"user_id":3692178,"accept_rate":85,"display_name":"Krishna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":770,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":32889905,"answer_count":1,"score":0,"last_activity_date":1699693805,"creation_date":1443707698,"question_id":32889431,"body_markdown":"I developed an android application in which shows the current location of the user and updates the movement on google map API 2 in that application. My requirement is to remotely track and draw the path of this android device on java application on desktop/laptop.\r\n\r\nusage: Cab driver uses the android application.\r\nCabs owner uses the desktop application.","title":"How to remotely track movement of android phone on map of a java desktop application using gps of android","body":"<p>I developed an android application in which shows the current location of the user and updates the movement on google map API 2 in that application. My requirement is to remotely track and draw the path of this android device on java application on desktop/laptop.</p>\n\n<p>usage: Cab driver uses the android application.\nCabs owner uses the desktop application.</p>\n"},{"tags":["java","spring-boot","jsonschema","spring-cloud-stream","confluent-schema-registry"],"answers":[{"tags":[],"owner":{"account_id":16087023,"reputation":21,"user_id":11611443,"display_name":"Iheb Ben Romdhane"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681375826,"creation_date":1680875590,"answer_id":75959051,"question_id":75957256,"body_markdown":"I resolved the problem: I just add \r\n`use.latest.version: true` \r\nto get the schema from the server of schema registry.\r\n\r\nWithout this option Spring will not get the actual version of the schema.","title":"Json schema registry spring cloud kafka","body":"<p>I resolved the problem: I just add\n<code>use.latest.version: true</code>\nto get the schema from the server of schema registry.</p>\n<p>Without this option Spring will not get the actual version of the schema.</p>\n"}],"owner":{"account_id":16087023,"reputation":21,"user_id":11611443,"display_name":"Iheb Ben Romdhane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75959051,"answer_count":1,"score":0,"last_activity_date":1699693683,"creation_date":1680860291,"question_id":75957256,"body_markdown":"i work with spring cloud stream kafka , i have an issue with with json schema registry , i save my schema with the api of confluent but always i had this problem  \r\n\r\n&gt; org.springframework.messaging.MessageHandlingException: error occurred\r\n&gt; in message handler\r\n&gt; [org.springframework.cloud.stream.binder.kafka.KafkaMessageChannelBinder$ProducerConfigurationMessageHandler@65ffd83e];\r\n&gt; nested exception is\r\n&gt; org.apache.kafka.common.errors.SerializationException: Error\r\n&gt; retrieving JSON schema:\r\n&gt; {&quot;$schema&quot;:&quot;http://json-schema.org/draft-07/schema#&quot; \r\n&gt; \r\n\r\nPs: the schema used is too long\r\n\r\nWhat might the problem be?\r\n\r\n","title":"Json schema registry spring cloud kafka","body":"<p>i work with spring cloud stream kafka , i have an issue with with json schema registry , i save my schema with the api of confluent but always i had this problem</p>\n<blockquote>\n<p>org.springframework.messaging.MessageHandlingException: error occurred\nin message handler\n[org.springframework.cloud.stream.binder.kafka.KafkaMessageChannelBinder$ProducerConfigurationMessageHandler@65ffd83e];\nnested exception is\norg.apache.kafka.common.errors.SerializationException: Error\nretrieving JSON schema:\n{&quot;$schema&quot;:&quot;http://json-schema.org/draft-07/schema#&quot;</p>\n</blockquote>\n<p>Ps: the schema used is too long</p>\n<p>What might the problem be?</p>\n"},{"tags":["java","spring","spring-boot","spring-jdbc"],"comments":[{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1699614246,"post_id":77459468,"comment_id":136557157,"body_markdown":"could you also share `Role` entity class ?","body":"could you also share <code>Role</code> entity class ?"},{"owner":{"account_id":18945056,"reputation":13,"user_id":13888041,"display_name":"p1e0"},"score":0,"creation_date":1699615687,"post_id":77459468,"comment_id":136557374,"body_markdown":"I&#39;m sorry, yes it is, I updated the post.","body":"I&#39;m sorry, yes it is, I updated the post."},{"owner":{"account_id":29161129,"reputation":86,"user_id":22339877,"display_name":"Flavian Diol D"},"score":0,"creation_date":1699633982,"post_id":77459468,"comment_id":136560767,"body_markdown":"Yes, I have faced such situations, idk if this is actually a bug or something. But try to restart your IDE and try running it again, for me it works sometimes. Well, I know this is stupid, but anyway give it a try. And if it doesn&#39;t work, could you add your application.properties along your post?","body":"Yes, I have faced such situations, idk if this is actually a bug or something. But try to restart your IDE and try running it again, for me it works sometimes. Well, I know this is stupid, but anyway give it a try. And if it doesn&#39;t work, could you add your application.properties along your post?"},{"owner":{"account_id":18945056,"reputation":13,"user_id":13888041,"display_name":"p1e0"},"score":0,"creation_date":1699650060,"post_id":77459468,"comment_id":136563052,"body_markdown":"Oh yes, how could I forget about it, I updated the post @FlavianDiolD\nAbout restart IDE, I tried it several times before creating this question : )","body":"Oh yes, how could I forget about it, I updated the post @FlavianDiolD About restart IDE, I tried it several times before creating this question : )"},{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1699674556,"post_id":77459468,"comment_id":136564809,"body_markdown":"I&#39;d look to see whether you have some conflicting implementation in your build.gradle.  Might make sense to use `start.spring.io` and selectively add.  Also, with your query, you use findByName with an enum that will basically return an enum wrapped in a Role?  Are you sure that&#39;s what you want?","body":"I&#39;d look to see whether you have some conflicting implementation in your build.gradle.  Might make sense to use <code>start.spring.io</code> and selectively add.  Also, with your query, you use findByName with an enum that will basically return an enum wrapped in a Role?  Are you sure that&#39;s what you want?"},{"owner":{"account_id":18945056,"reputation":13,"user_id":13888041,"display_name":"p1e0"},"score":0,"creation_date":1699693524,"post_id":77459468,"comment_id":136565784,"body_markdown":"p.s. thanks everyone, the problem was in the project dependencies, I was using JPD and R2DBC and most likely Spring got confused and couldn&#39;t bind Bean-s. I removed the dependencies I didn&#39;t need, I&#39;ve updated the post as the gradlew* file already looks like.","body":"p.s. thanks everyone, the problem was in the project dependencies, I was using JPD and R2DBC and most likely Spring got confused and couldn&#39;t bind Bean-s. I removed the dependencies I didn&#39;t need, I&#39;ve updated the post as the gradlew* file already looks like."}],"answers":[{"comments":[{"owner":{"account_id":18945056,"reputation":13,"user_id":13888041,"display_name":"p1e0"},"score":0,"creation_date":1699693385,"post_id":77463727,"comment_id":136565772,"body_markdown":"Hi! Thanks, the problem is really in the dependencies, I was trying to solve this problem myself and I went through all the dependencies and the problem was solved, and your answer also confirms it, thank you!","body":"Hi! Thanks, the problem is really in the dependencies, I was trying to solve this problem myself and I went through all the dependencies and the problem was solved, and your answer also confirms it, thank you!"}],"tags":[],"owner":{"account_id":29161129,"reputation":86,"user_id":22339877,"display_name":"Flavian Diol D"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699670465,"creation_date":1699670465,"answer_id":77463727,"question_id":77459468,"body_markdown":"Okay so the entire problem is that Spring is not able to decide how to create your Repository class, since you are having multiple `starter-data` projects implemented in your project. That is, you are using MySQL as your vendor, and for using an ORM with MySQL only JPA would suffice, but for any reasons like you want to write clear queries you may want to add JDBC as well, but removing R2DBC implementation and the unwanted Drivers from the dependencies cleared out your problem.\r\n\r\n    dependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-rest&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-jdbc&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;me.paulschwarz:spring-dotenv:4.0.0&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-validation:3.1.5&#39;\r\n    implementation &#39;org.mapstruct:mapstruct-processor:1.6.0.Beta1&#39;\r\n    implementation &#39;org.mapstruct:mapstruct:1.6.0.Beta1&#39;\r\n    implementation &#39;com.auth0:java-jwt:4.4.0&#39;\r\n    implementation &#39;io.jsonwebtoken:jjwt:0.12.3&#39;\r\n    implementation &#39;io.jsonwebtoken:jjwt-api:0.12.3&#39;\r\n    runtimeOnly &#39;io.jsonwebtoken:jjwt-jackson:0.12.3&#39;\r\n    runtimeOnly &#39;io.jsonwebtoken:jjwt-impl:0.12.3&#39;\r\n    implementation &#39;org.flywaydb:flyway-core&#39;\r\n    runtimeOnly &#39;org.flywaydb:flyway-mysql&#39;\r\n    compileOnly &#39;org.projectlombok:lombok&#39;\r\n    developmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n    runtimeOnly &#39;com.mysql:mysql-connector-j&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    testImplementation &#39;io.projectreactor:reactor-test&#39;\r\n    testImplementation &#39;org.springframework.restdocs:spring-restdocs-mockmvc&#39;\r\n    testImplementation &#39;org.springframework.security:spring-security-test&#39;}\r\n\r\nthis will run your project\r\n\r\nand one more thing, I am not sure if Spring provides engine specific Dialects, but 5InnoDB Dialect is definitely not gonna work, you might want to implement an engine specific Driver then, else you could simply use `MySQLDialect` and your project would start running, without any problem.\r\n\r\nThe issue was with Spring not knowing in which flavor it should create your repository class. And therefore left it uncreated, which later reflected in a bean not found exception.\r\n\r\nHope you understood the problem.","title":"Spring can&#39;t find the Repository bean in the Service","body":"<p>Okay so the entire problem is that Spring is not able to decide how to create your Repository class, since you are having multiple <code>starter-data</code> projects implemented in your project. That is, you are using MySQL as your vendor, and for using an ORM with MySQL only JPA would suffice, but for any reasons like you want to write clear queries you may want to add JDBC as well, but removing R2DBC implementation and the unwanted Drivers from the dependencies cleared out your problem.</p>\n<pre><code>dependencies {\nimplementation 'org.springframework.boot:spring-boot-starter-data-jpa'\nimplementation 'org.springframework.boot:spring-boot-starter-data-rest'\nimplementation 'org.springframework.boot:spring-boot-starter-jdbc'\nimplementation 'org.springframework.boot:spring-boot-starter-web'\nimplementation 'me.paulschwarz:spring-dotenv:4.0.0'\nimplementation 'org.springframework.boot:spring-boot-starter-security'\nimplementation 'org.springframework.boot:spring-boot-starter-validation:3.1.5'\nimplementation 'org.mapstruct:mapstruct-processor:1.6.0.Beta1'\nimplementation 'org.mapstruct:mapstruct:1.6.0.Beta1'\nimplementation 'com.auth0:java-jwt:4.4.0'\nimplementation 'io.jsonwebtoken:jjwt:0.12.3'\nimplementation 'io.jsonwebtoken:jjwt-api:0.12.3'\nruntimeOnly 'io.jsonwebtoken:jjwt-jackson:0.12.3'\nruntimeOnly 'io.jsonwebtoken:jjwt-impl:0.12.3'\nimplementation 'org.flywaydb:flyway-core'\nruntimeOnly 'org.flywaydb:flyway-mysql'\ncompileOnly 'org.projectlombok:lombok'\ndevelopmentOnly 'org.springframework.boot:spring-boot-devtools'\nruntimeOnly 'com.mysql:mysql-connector-j'\nannotationProcessor 'org.projectlombok:lombok'\ntestImplementation 'org.springframework.boot:spring-boot-starter-test'\ntestImplementation 'io.projectreactor:reactor-test'\ntestImplementation 'org.springframework.restdocs:spring-restdocs-mockmvc'\ntestImplementation 'org.springframework.security:spring-security-test'}\n</code></pre>\n<p>this will run your project</p>\n<p>and one more thing, I am not sure if Spring provides engine specific Dialects, but 5InnoDB Dialect is definitely not gonna work, you might want to implement an engine specific Driver then, else you could simply use <code>MySQLDialect</code> and your project would start running, without any problem.</p>\n<p>The issue was with Spring not knowing in which flavor it should create your repository class. And therefore left it uncreated, which later reflected in a bean not found exception.</p>\n<p>Hope you understood the problem.</p>\n"}],"owner":{"account_id":18945056,"reputation":13,"user_id":13888041,"display_name":"p1e0"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77463727,"answer_count":1,"score":0,"last_activity_date":1699693655,"creation_date":1699613787,"question_id":77459468,"body_markdown":"I have a problem when launching the application :\r\n\r\n    Description:\r\n    \r\n    Parameter 0 of constructor in com.backend.services.RoleService required a bean of type &#39;com.backend.repository.RoleRepository&#39; that could not be found.\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;com.backend.repository.RoleRepository&#39; in your configuration.\r\n\r\nHas anyone experienced this problem?\r\n\r\n**Project structure:**\r\n\r\n*com.backend*\r\n\r\n    entity.Role\r\n   \r\n    enums.ERole\r\n    \r\n    repository.RoleRepository\r\n    \r\n    services.RoleService\r\n**Its code**\r\n\r\nApplication.yml (dev I using it)\r\n```yml\r\nspring:\r\n  config:\r\n    activate:\r\n      on-profile: &quot;dev&quot;\r\n  datasource:\r\n    url: jdbc:mysql://localhost:3306/${MYSQL_DATABASE}\r\n    username: ${MYSQL_USER}\r\n    password: ${MYSQL_PASSWORD}\r\n    driver-class-name: com.mysql.cj.jdbc.Driver\r\n  jpa:\r\n    hibernate:\r\n      ddl-auto: create\r\n    show-sql: true\r\n    properties:\r\n      hibernate:\r\n        dialect: &quot;org.hibernate.dialect.MySQL5InnoDBDialect&quot;\r\n  flyway:\r\n    enabled: true\r\n    url: jdbc:mysql://localhost:3306/${MYSQL_DATABASE}\r\n    locations: classpath:db/migration\r\n    user: ${MYSQL_USER}\r\n    password: ${MYSQL_PASSWORD}\r\n    create-schemas: true\r\n    default-schema: ${MYSQL_DATABASE}\r\n#logging:\r\n#  level:\r\n#    root: debug\r\n\r\njwtSecret: &quot;superkode&quot;\r\njwtExpirationMs: 86400000\r\njwtRefreshExpirationMs: 120000\r\n\r\n```\r\nEntity:\r\n```\r\npackage com.backend.entity;\r\n\r\nimport com.backend.enums.ERole;\r\nimport jakarta.persistence.*;\r\nimport lombok.*;\r\n\r\nimport java.math.BigInteger;\r\n\r\n@Entity\r\n@Table(name = &quot;roles&quot;)\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Role {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(length = 20, nullable = false)\r\n    private ERole name;\r\n}\r\n```\r\nEnum:\r\n```\r\npackage com.backend.enums;\r\n\r\npublic enum ERole {\r\n    USER,\r\n    BUSINESS,\r\n    ADMIN\r\n}\r\n```\r\nService:\r\n```java\r\npackage com.backend.services;\r\n\r\n\r\nimport com.backend.entity.Role;\r\nimport com.backend.enums.ERole;\r\nimport com.backend.repository.RoleRepository;\r\n\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.Optional;\r\n\r\n@Service\r\npublic class RoleService {\r\n    private final RoleRepository roleRepository;\r\n\r\n    public RoleService(RoleRepository roleRepository) {\r\n        this.roleRepository = roleRepository;\r\n    }\r\n\r\n    public Optional&lt;Role&gt; findByName(ERole name) {\r\n        return roleRepository.findByName(name);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nRepository:\r\n```java\r\npackage com.backend.repository;\r\n\r\nimport com.backend.entity.Role;\r\nimport com.backend.enums.ERole;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport java.util.Optional;\r\n\r\n@Repository\r\npublic interface RoleRepository extends JpaRepository&lt;Role, Long&gt; {\r\n    Optional&lt;Role&gt; findByName(ERole name);\r\n}\r\n```\r\nWhat I tried:\r\n\r\n1) Add @Autowired, and I get an error like this\r\n\r\n2) Add package scanning anotation to BackendApplication, and I get a similar error\r\n\r\nI use gradlew: \r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;3.1.5&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.1.3&#39;\r\n    id &#39;org.asciidoctor.jvm.convert&#39; version &#39;3.3.2&#39;\r\n}\r\n\r\ngroup = &#39;com.backend&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\n\r\njava {\r\n    sourceCompatibility = &#39;17&#39;\r\n}\r\n\r\nconfigurations {\r\n    compileOnly {\r\n        extendsFrom annotationProcessor\r\n    }\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\next {\r\n    set(&#39;snippetsDir&#39;, file(&quot;build/generated-snippets&quot;))\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jdbc&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-r2dbc&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-rest&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-jdbc&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;me.paulschwarz:spring-dotenv:4.0.0&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-validation:3.1.5&#39;\r\n    implementation &#39;org.mapstruct:mapstruct-processor:1.6.0.Beta1&#39;\r\n    implementation &#39;org.mapstruct:mapstruct:1.6.0.Beta1&#39;\r\n    implementation &#39;com.auth0:java-jwt:4.4.0&#39;\r\n    implementation &#39;io.jsonwebtoken:jjwt:0.12.3&#39;\r\n    implementation &#39;io.jsonwebtoken:jjwt-api:0.12.3&#39;\r\n    runtimeOnly &#39;io.jsonwebtoken:jjwt-jackson:0.12.3&#39;\r\n    runtimeOnly &#39;io.jsonwebtoken:jjwt-impl:0.12.3&#39;\r\n    implementation &#39;org.flywaydb:flyway-core&#39;\r\n    runtimeOnly &#39;org.flywaydb:flyway-mysql&#39;\r\n    compileOnly &#39;org.projectlombok:lombok&#39;\r\n    developmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n    runtimeOnly &#39;com.h2database:h2&#39;\r\n    runtimeOnly &#39;com.mysql:mysql-connector-j&#39;\r\n    runtimeOnly &#39;io.asyncer:r2dbc-mysql&#39;\r\n    runtimeOnly &#39;io.r2dbc:r2dbc-h2&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    testImplementation &#39;io.projectreactor:reactor-test&#39;\r\n    testImplementation &#39;org.springframework.restdocs:spring-restdocs-mockmvc&#39;\r\n    testImplementation &#39;org.springframework.security:spring-security-test&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n    outputs.dir snippetsDir\r\n    useJUnitPlatform()\r\n}\r\n\r\ntasks.named(&#39;asciidoctor&#39;) {\r\n    inputs.dir snippetsDir\r\n    dependsOn test\r\n}\r\n```\r\n\r\nAnd Application file:\r\n\r\n```\r\npackage com.backend;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration;\r\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\r\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n\r\n@SpringBootApplication\r\npublic class BackendApplication {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(BackendApplication.class, args);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n**[SOLVED]**\r\n**I refactored gradlew, removed conflicting dependencies with DB:**\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;3.1.5&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.1.3&#39;\r\n}\r\n\r\ngroup = &#39;com.backend&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\n\r\njava {\r\n    sourceCompatibility = &#39;17&#39;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web:3.1.5&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa:3.1.5&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-security:3.1.5&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-validation:3.1.5&#39;\r\n    implementation &#39;com.mysql:mysql-connector-j:8.2.0&#39;\r\n    implementation &#39;com.auth0:java-jwt:4.4.0&#39;\r\n    implementation &#39;io.jsonwebtoken:jjwt-api:0.12.3&#39;\r\n    implementation &#39;me.paulschwarz:spring-dotenv:4.0.0&#39;\r\n    implementation &#39;org.flywaydb:flyway-core:10.0.0&#39;\r\n    implementation &#39;org.flywaydb:flyway-mysql:10.0.0&#39;\r\n    compileOnly &#39;org.projectlombok:lombok:1.18.30&#39;\r\n    runtimeOnly &#39;io.jsonwebtoken:jjwt-impl:0.12.3&#39;\r\n    runtimeOnly &#39;io.jsonwebtoken:jjwt-jackson:0.12.3&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    testImplementation &#39;io.projectreactor:reactor-test&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n    useJUnitPlatform()\r\n}\r\n\r\n```","title":"Spring can&#39;t find the Repository bean in the Service","body":"<p>I have a problem when launching the application :</p>\n<pre><code>Description:\n\nParameter 0 of constructor in com.backend.services.RoleService required a bean of type 'com.backend.repository.RoleRepository' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'com.backend.repository.RoleRepository' in your configuration.\n</code></pre>\n<p>Has anyone experienced this problem?</p>\n<p><strong>Project structure:</strong></p>\n<p><em>com.backend</em></p>\n<pre><code>entity.Role\n\nenums.ERole\n\nrepository.RoleRepository\n\nservices.RoleService\n</code></pre>\n<p><strong>Its code</strong></p>\n<p>Application.yml (dev I using it)</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  config:\n    activate:\n      on-profile: &quot;dev&quot;\n  datasource:\n    url: jdbc:mysql://localhost:3306/${MYSQL_DATABASE}\n    username: ${MYSQL_USER}\n    password: ${MYSQL_PASSWORD}\n    driver-class-name: com.mysql.cj.jdbc.Driver\n  jpa:\n    hibernate:\n      ddl-auto: create\n    show-sql: true\n    properties:\n      hibernate:\n        dialect: &quot;org.hibernate.dialect.MySQL5InnoDBDialect&quot;\n  flyway:\n    enabled: true\n    url: jdbc:mysql://localhost:3306/${MYSQL_DATABASE}\n    locations: classpath:db/migration\n    user: ${MYSQL_USER}\n    password: ${MYSQL_PASSWORD}\n    create-schemas: true\n    default-schema: ${MYSQL_DATABASE}\n#logging:\n#  level:\n#    root: debug\n\njwtSecret: &quot;superkode&quot;\njwtExpirationMs: 86400000\njwtRefreshExpirationMs: 120000\n\n</code></pre>\n<p>Entity:</p>\n<pre><code>package com.backend.entity;\n\nimport com.backend.enums.ERole;\nimport jakarta.persistence.*;\nimport lombok.*;\n\nimport java.math.BigInteger;\n\n@Entity\n@Table(name = &quot;roles&quot;)\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Role {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(length = 20, nullable = false)\n    private ERole name;\n}\n</code></pre>\n<p>Enum:</p>\n<pre><code>package com.backend.enums;\n\npublic enum ERole {\n    USER,\n    BUSINESS,\n    ADMIN\n}\n</code></pre>\n<p>Service:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.backend.services;\n\n\nimport com.backend.entity.Role;\nimport com.backend.enums.ERole;\nimport com.backend.repository.RoleRepository;\n\nimport org.springframework.stereotype.Service;\n\nimport java.util.Optional;\n\n@Service\npublic class RoleService {\n    private final RoleRepository roleRepository;\n\n    public RoleService(RoleRepository roleRepository) {\n        this.roleRepository = roleRepository;\n    }\n\n    public Optional&lt;Role&gt; findByName(ERole name) {\n        return roleRepository.findByName(name);\n    }\n\n}\n\n</code></pre>\n<p>Repository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.backend.repository;\n\nimport com.backend.entity.Role;\nimport com.backend.enums.ERole;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.Optional;\n\n@Repository\npublic interface RoleRepository extends JpaRepository&lt;Role, Long&gt; {\n    Optional&lt;Role&gt; findByName(ERole name);\n}\n</code></pre>\n<p>What I tried:</p>\n<ol>\n<li><p>Add @Autowired, and I get an error like this</p>\n</li>\n<li><p>Add package scanning anotation to BackendApplication, and I get a similar error</p>\n</li>\n</ol>\n<p>I use gradlew:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.1.5'\n    id 'io.spring.dependency-management' version '1.1.3'\n    id 'org.asciidoctor.jvm.convert' version '3.3.2'\n}\n\ngroup = 'com.backend'\nversion = '0.0.1-SNAPSHOT'\n\njava {\n    sourceCompatibility = '17'\n}\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    set('snippetsDir', file(&quot;build/generated-snippets&quot;))\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jdbc'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-data-r2dbc'\n    implementation 'org.springframework.boot:spring-boot-starter-data-rest'\n    implementation 'org.springframework.boot:spring-boot-starter-jdbc'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'me.paulschwarz:spring-dotenv:4.0.0'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'org.springframework.boot:spring-boot-starter-validation:3.1.5'\n    implementation 'org.mapstruct:mapstruct-processor:1.6.0.Beta1'\n    implementation 'org.mapstruct:mapstruct:1.6.0.Beta1'\n    implementation 'com.auth0:java-jwt:4.4.0'\n    implementation 'io.jsonwebtoken:jjwt:0.12.3'\n    implementation 'io.jsonwebtoken:jjwt-api:0.12.3'\n    runtimeOnly 'io.jsonwebtoken:jjwt-jackson:0.12.3'\n    runtimeOnly 'io.jsonwebtoken:jjwt-impl:0.12.3'\n    implementation 'org.flywaydb:flyway-core'\n    runtimeOnly 'org.flywaydb:flyway-mysql'\n    compileOnly 'org.projectlombok:lombok'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    runtimeOnly 'com.h2database:h2'\n    runtimeOnly 'com.mysql:mysql-connector-j'\n    runtimeOnly 'io.asyncer:r2dbc-mysql'\n    runtimeOnly 'io.r2dbc:r2dbc-h2'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'io.projectreactor:reactor-test'\n    testImplementation 'org.springframework.restdocs:spring-restdocs-mockmvc'\n    testImplementation 'org.springframework.security:spring-security-test'\n}\n\ntasks.named('test') {\n    outputs.dir snippetsDir\n    useJUnitPlatform()\n}\n\ntasks.named('asciidoctor') {\n    inputs.dir snippetsDir\n    dependsOn test\n}\n</code></pre>\n<p>And Application file:</p>\n<pre><code>package com.backend;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\n@SpringBootApplication\npublic class BackendApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(BackendApplication.class, args);\n    }\n\n}\n</code></pre>\n<p><strong>[SOLVED]</strong>\n<strong>I refactored gradlew, removed conflicting dependencies with DB:</strong></p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.1.5'\n    id 'io.spring.dependency-management' version '1.1.3'\n}\n\ngroup = 'com.backend'\nversion = '0.0.1-SNAPSHOT'\n\njava {\n    sourceCompatibility = '17'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web:3.1.5'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa:3.1.5'\n    implementation 'org.springframework.boot:spring-boot-starter-security:3.1.5'\n    implementation 'org.springframework.boot:spring-boot-starter-validation:3.1.5'\n    implementation 'com.mysql:mysql-connector-j:8.2.0'\n    implementation 'com.auth0:java-jwt:4.4.0'\n    implementation 'io.jsonwebtoken:jjwt-api:0.12.3'\n    implementation 'me.paulschwarz:spring-dotenv:4.0.0'\n    implementation 'org.flywaydb:flyway-core:10.0.0'\n    implementation 'org.flywaydb:flyway-mysql:10.0.0'\n    compileOnly 'org.projectlombok:lombok:1.18.30'\n    runtimeOnly 'io.jsonwebtoken:jjwt-impl:0.12.3'\n    runtimeOnly 'io.jsonwebtoken:jjwt-jackson:0.12.3'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'io.projectreactor:reactor-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","unique"],"comments":[{"owner":{"account_id":26462151,"reputation":132,"user_id":20160920,"display_name":"Portal"},"score":0,"creation_date":1687891809,"post_id":76567813,"comment_id":134999900,"body_markdown":"could append a UUID to the name or a similarly unlikely to repeat system","body":"could append a UUID to the name or a similarly unlikely to repeat system"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1687892328,"post_id":76567813,"comment_id":134999992,"body_markdown":"Generate random suffix, composed of random numbers(for example), append it to name, check if taken. If your random generation algorithm is good enough, you should have low collisions. You may want to consider indexing the username in db, to make the lookup faster.","body":"Generate random suffix, composed of random numbers(for example), append it to name, check if taken. If your random generation algorithm is good enough, you should have low collisions. You may want to consider indexing the username in db, to make the lookup faster."},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1687892880,"post_id":76567813,"comment_id":135000076,"body_markdown":"Jim`&lt;current_nano_second&gt;`_`&lt;random_number&gt;`: current nano second will always increase, while you random number will be random. Quite impossible to have the same user name that way, I think.","body":"Jim<code>&lt;current_nano_second&gt;</code>_<code>&lt;random_number&gt;</code>: current nano second will always increase, while you random number will be random. Quite impossible to have the same user name that way, I think."},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1687899615,"post_id":76567813,"comment_id":135001238,"body_markdown":"Why generate the username at all?  If the user just enters their email address, it will be unique.","body":"Why generate the username at all?  If the user just enters their email address, it will be unique."},{"owner":{"account_id":6857935,"reputation":1648,"user_id":5272951,"display_name":"Dumbo"},"score":0,"creation_date":1687936422,"post_id":76567813,"comment_id":135004940,"body_markdown":"Easiest way - concatenate random number -&gt; try to save it to DB (unique column) -&gt; handle duplicate exception -&gt; rerun same flow till success.","body":"Easiest way - concatenate random number -&gt; try to save it to DB (unique column) -&gt; handle duplicate exception -&gt; rerun same flow till success."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1687963039,"post_id":76567813,"comment_id":135010747,"body_markdown":"Please don&#39;t post images of code, errors, logs, or other text; see [ask]","body":"Please don&#39;t post images of code, errors, logs, or other text; see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"}],"answers":[{"tags":[],"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699692427,"creation_date":1687963166,"answer_id":76574266,"question_id":76567813,"body_markdown":"From a architectural point of view: a microservice who generate and store all used usernames in a database might be a good approach. It is called the single-source-of-truth principle.\r\n\r\nBut do we need this? It depends on the expected amount of users. Do you expect about 5.000.000.000.000.000.000.000.000.000.000.000 users? A uuid is a good bet. Otherwise I would take the size of the users-table. If Jim is the 20th user, his generated username might be Jim20.\r\n\r\nNo need for random numbers, right?","title":"Spring Boot: How to generate unique username based on name during registration of user","body":"<p>From a architectural point of view: a microservice who generate and store all used usernames in a database might be a good approach. It is called the single-source-of-truth principle.</p>\n<p>But do we need this? It depends on the expected amount of users. Do you expect about 5.000.000.000.000.000.000.000.000.000.000.000 users? A uuid is a good bet. Otherwise I would take the size of the users-table. If Jim is the 20th user, his generated username might be Jim20.</p>\n<p>No need for random numbers, right?</p>\n"}],"owner":{"account_id":22492886,"reputation":5,"user_id":16690377,"display_name":"Tornike"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":304,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"answer_count":1,"score":-3,"last_activity_date":1699692427,"creation_date":1687891510,"question_id":76567813,"body_markdown":"I have spring boot application and simple UserService which is called by controller. During registration I want to generate unique username (that is not present is database) based on name.\r\nFor example, if name is Jim username should be name + random number (Jim342123).\r\n\r\nBasically it is the same idea how twitter generates username.\r\n\r\nUser can input same name Jim and in very rare cases username can be same (Jim342123).\r\n\r\n[UserSerivce](https://i.stack.imgur.com/9xX1B.png)\r\n\r\nHow to avoid generating same username or how to handle if same username will be generated?\r\n\r\nWhat is best way to achieve this?\r\n\r\nWhat is best way to implement generateUsername() method?\r\n\r\nI tried something like this but I don&#39;t think it is good solution.\r\n\r\n[Bad Solution](https://i.stack.imgur.com/Wjezy.png)","title":"Spring Boot: How to generate unique username based on name during registration of user","body":"<p>I have spring boot application and simple UserService which is called by controller. During registration I want to generate unique username (that is not present is database) based on name.\nFor example, if name is Jim username should be name + random number (Jim342123).</p>\n<p>Basically it is the same idea how twitter generates username.</p>\n<p>User can input same name Jim and in very rare cases username can be same (Jim342123).</p>\n<p><a href=\"https://i.stack.imgur.com/9xX1B.png\" rel=\"nofollow noreferrer\">UserSerivce</a></p>\n<p>How to avoid generating same username or how to handle if same username will be generated?</p>\n<p>What is best way to achieve this?</p>\n<p>What is best way to implement generateUsername() method?</p>\n<p>I tried something like this but I don't think it is good solution.</p>\n<p><a href=\"https://i.stack.imgur.com/Wjezy.png\" rel=\"nofollow noreferrer\">Bad Solution</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":5,"creation_date":1589965732,"post_id":61909211,"comment_id":109499196,"body_markdown":"You need to write a custom `Comparator`.","body":"You need to write a custom <code>Comparator</code>."}],"answers":[{"comments":[{"owner":{"account_id":18160407,"reputation":21,"user_id":13211884,"display_name":"Atif_karim"},"score":0,"creation_date":1589977242,"post_id":61909580,"comment_id":109505451,"body_markdown":"Thank you all for your replies but I just wanted to know if there&#39;s any other way of doing this other than using hashmaps or comparators? I again thank you for your input but I am looking for more very level one way of solving this problem.","body":"Thank you all for your replies but I just wanted to know if there&#39;s any other way of doing this other than using hashmaps or comparators? I again thank you for your input but I am looking for more very level one way of solving this problem."}],"tags":[],"owner":{"account_id":6379952,"reputation":3111,"user_id":4949750,"display_name":"Amongalen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589966807,"creation_date":1589966807,"answer_id":61909580,"question_id":61909211,"body_markdown":"As Kayaman said in the comment, probably the best approach will be to implement a dedicated `Comparator` for this task and use it to sort the array.\r\nIt could look something like this:\r\n\r\n    public class StringVowelCountComparator implements Comparator&lt;String&gt; {  \r\n        @Override\r\n        public int compare(String first, String second) {\r\n           return (countVowels(first) - countVowels(second));\r\n        }\r\n    \r\n        private int countVowels(String string){\r\n           int count = 0;\r\n           char[] chars = string.toCharArray();\r\n           for (int i = 0; i &lt; chars.length; i++) {\r\n              if(ar[i] == &#39;a&#39;|| ar[i] == &#39;e&#39;|| ar[i] == &#39;i&#39; || ar[i] == &#39;o&#39; ||ar[i] == &#39;u&#39;|| ar[i] == &#39;A&#39; || ar[i] == &#39;E&#39; || ar[i] == &#39;I&#39; || ar[i] == &#39;O&#39; ||ar[i] == &#39;U&#39;){\r\n                 count ++;\r\n              }\r\n           }\r\n           return count;        \r\n        }\r\n    }\r\n\r\nAnd then in your code you just call it like this:\r\n\r\n    Arrays.sort(list, new StringVowelCountComparator());","title":"How to sort an array of string in descending order by the number of vowels each string has","body":"<p>As Kayaman said in the comment, probably the best approach will be to implement a dedicated <code>Comparator</code> for this task and use it to sort the array.\nIt could look something like this:</p>\n\n<pre><code>public class StringVowelCountComparator implements Comparator&lt;String&gt; {  \n    @Override\n    public int compare(String first, String second) {\n       return (countVowels(first) - countVowels(second));\n    }\n\n    private int countVowels(String string){\n       int count = 0;\n       char[] chars = string.toCharArray();\n       for (int i = 0; i &lt; chars.length; i++) {\n          if(ar[i] == 'a'|| ar[i] == 'e'|| ar[i] == 'i' || ar[i] == 'o' ||ar[i] == 'u'|| ar[i] == 'A' || ar[i] == 'E' || ar[i] == 'I' || ar[i] == 'O' ||ar[i] == 'U'){\n             count ++;\n          }\n       }\n       return count;        \n    }\n}\n</code></pre>\n\n<p>And then in your code you just call it like this:</p>\n\n<pre><code>Arrays.sort(list, new StringVowelCountComparator());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9424981,"reputation":88,"user_id":7010245,"display_name":"Tanya"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1589968269,"creation_date":1589967490,"answer_id":61909792,"question_id":61909211,"body_markdown":"You can use a custom comparator like this:\r\n\r\n   \r\n\r\n     \r\n\r\n\r\n&gt;     \r\n&gt;     class SortByNumberOfVowels implements Comparator&lt;String&gt;\r\n&gt;     {\r\n&gt;         @Override\r\n&gt;         public int compare ( String o1, String o2 ) {\r\n&gt;             return numOfVowels(o2) - numOfVowels(o1) ;\r\n&gt;         }\r\n&gt;     \r\n&gt;         private int numOfVowels ( String o1 ) {\r\n&gt;             int ctr = 0;\r\n&gt;             for(int i = 0;i&lt;o1.length ();i++) {\r\n&gt;                 if(&quot;AEIOUaeiou&quot;.indexOf(o1.charAt ( i )) != -1)\r\n&gt;                     ctr++;\r\n&gt;             }\r\n&gt;             return ctr;\r\n&gt;         }\r\n&gt;     }\r\n&gt;     \r\n&gt;     public class hello {\r\n&gt;     \r\n&gt;         public static void main ( String[] args ) {\r\n&gt;             List&lt;String&gt; list = new ArrayList&lt;&gt; (  );\r\n&gt;             list.add(&quot;eaiou&quot;);list.add(&quot;hello&quot;);list.add(&quot;aaaaaaaaaaaaa&quot;);\r\n&gt;             Collections.sort(list, new SortByNumberOfVowels());\r\n&gt;             System.out.println(list);\r\n&gt;         }\r\n&gt;     }\r\n\r\nTime complexity will be **nlog(n)*|s|** where **n** = size of list and **|s|** is the average length of strings.\r\n","title":"How to sort an array of string in descending order by the number of vowels each string has","body":"<p>You can use a custom comparator like this:</p>\n\n<blockquote>\n<pre><code>class SortByNumberOfVowels implements Comparator&lt;String&gt;\n{\n    @Override\n    public int compare ( String o1, String o2 ) {\n        return numOfVowels(o2) - numOfVowels(o1) ;\n    }\n\n    private int numOfVowels ( String o1 ) {\n        int ctr = 0;\n        for(int i = 0;i&lt;o1.length ();i++) {\n            if(\"AEIOUaeiou\".indexOf(o1.charAt ( i )) != -1)\n                ctr++;\n        }\n        return ctr;\n    }\n}\n\npublic class hello {\n\n    public static void main ( String[] args ) {\n        List&lt;String&gt; list = new ArrayList&lt;&gt; (  );\n        list.add(\"eaiou\");list.add(\"hello\");list.add(\"aaaaaaaaaaaaa\");\n        Collections.sort(list, new SortByNumberOfVowels());\n        System.out.println(list);\n    }\n}\n</code></pre>\n</blockquote>\n\n<p>Time complexity will be <strong>nlog(n)*|s|</strong> where <strong>n</strong> = size of list and <strong>|s|</strong> is the average length of strings.</p>\n"},{"comments":[{"owner":{"account_id":8609891,"reputation":2036,"user_id":6448656,"display_name":"Rishabh Agarwal"},"score":0,"creation_date":1590072887,"post_id":61909873,"comment_id":109546935,"body_markdown":"HashMap in Java don&#39;t allow repetition of keys, and here for keys you are using number of vowels.\n\nThis won&#39;t work.","body":"HashMap in Java don&#39;t allow repetition of keys, and here for keys you are using number of vowels.  This won&#39;t work."}],"tags":[],"owner":{"account_id":18633105,"reputation":59,"user_id":13580623,"display_name":"ShaliniCodes"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1589972730,"creation_date":1589967715,"answer_id":61909873,"question_id":61909211,"body_markdown":"This might not be the most efficient way but it will give you the output.\r\n\r\n1.Store the value of count and index of the strings in list (i) in a HashMap. HashMap(count, i)\r\n\r\n2.Sort the keys of the HashMap. One way to do it is using Collections.sort()\r\n   \r\n      ArrayList&lt;String&gt; keys =  new ArrayList&lt;String&gt;(hash_map.keySet()); \r\n            Collections.sort(keys); \r\n\r\n3.Iterate through keys and print the value for each.\r\n   \r\n     for (String s : keys)  \r\n            System.out.println(hash_map.get(s));\r\n","title":"How to sort an array of string in descending order by the number of vowels each string has","body":"<p>This might not be the most efficient way but it will give you the output.</p>\n\n<p>1.Store the value of count and index of the strings in list (i) in a HashMap. HashMap(count, i)</p>\n\n<p>2.Sort the keys of the HashMap. One way to do it is using Collections.sort()</p>\n\n<pre><code>  ArrayList&lt;String&gt; keys =  new ArrayList&lt;String&gt;(hash_map.keySet()); \n        Collections.sort(keys); \n</code></pre>\n\n<p>3.Iterate through keys and print the value for each.</p>\n\n<pre><code> for (String s : keys)  \n        System.out.println(hash_map.get(s));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":18160407,"reputation":21,"user_id":13211884,"display_name":"Atif_karim"},"score":0,"creation_date":1589998475,"post_id":61913226,"comment_id":109517999,"body_markdown":"bro, you are a lifesaver but could you explain me:\n\nArrays.stream(list).sorted((o1, o2) -&gt; vowels(o2) - vowels(o1)).collect(Collectors.toList()).toArray(sorted); \n\nThis line cause I got the method as it is nothing but a counter, but what is o1 and o2 stuff","body":"bro, you are a lifesaver but could you explain me:  Arrays.stream(list).sorted((o1, o2) -&gt; vowels(o2) - vowels(o1)).collect(Collectors.toList()).toArray(sorted);   This line cause I got the method as it is nothing but a counter, but what is o1 and o2 stuff"},{"owner":{"account_id":8503655,"reputation":1414,"user_id":6375917,"display_name":"TongChen"},"score":0,"creation_date":1590021611,"post_id":61913226,"comment_id":109526868,"body_markdown":"when we sort array,the most basic thing is compare two elements in the array.when use java stream API,o1 and o2 is elements in stream we execute compare operation.Java Stream API support many method to help us process data，you can find document from [here](https://docs.oracle.com/javase/8/docs/api/index.html)","body":"when we sort array,the most basic thing is compare two elements in the array.when use java stream API,o1 and o2 is elements in stream we execute compare operation.Java Stream API support many method to help us process data，you can find document from <a href=\"https://docs.oracle.com/javase/8/docs/api/index.html\" rel=\"nofollow noreferrer\">here</a>"}],"tags":[],"owner":{"account_id":8503655,"reputation":1414,"user_id":6375917,"display_name":"TongChen"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589977871,"creation_date":1589977871,"answer_id":61913226,"question_id":61909211,"body_markdown":"**Problem in your annotate**\r\n\r\n`n=input.nextInt();` just read a int but not discard the other world in the line。\r\n\r\nI change your code and it works well.\r\n\r\n~~~\r\npublic static void main(String[] args) throws Exception {\r\n\tScanner input = new Scanner(System.in);\r\n\tint n;\r\n\tSystem.out.print(&quot;Enter the amount of words you wanna input: \\n&quot;);\r\n\tn = input.nextInt();\r\n\tinput.nextLine();\r\n\r\n\tString[] list = new String[n];\r\n\r\n\tfor (int i = 0; i &lt; n; i++) {\r\n\t\tSystem.out.print(&quot;Enter the &quot; + (i + 1) + &quot; word: &quot;);\r\n\t\tString inputContent = input.nextLine();\r\n\t\tlist[i] = inputContent;\r\n\t}\r\n\tString[] sorted = new String[3];\r\n\tArrays.stream(list).sorted((o1, o2) -&gt; vowels(o2) - vowels(o1)).collect(Collectors.toList()).toArray(sorted);\r\n\tfor (int i = 0; i &lt; n; i++) {\r\n\t\tSystem.out.println(&quot;&quot; + sorted[i]);\r\n\t}\r\n}\r\n~~~\r\n\r\nextract a method to number vowels of input string:\r\n\r\n~~~\r\nprivate static int vowels(String input) {\r\n\tString vowels = &quot;AEIOUaeiou&quot;;\r\n\tchar[] chars = input.toCharArray();\r\n\tint count = 0;\r\n\tfor (char ch : chars) {\r\n\t\tif (vowels.contains(ch + &quot;&quot;)) {\r\n\t\t\tcount++;\r\n\t\t}\r\n\t}\r\n\treturn count;\r\n}\r\n~~~","title":"How to sort an array of string in descending order by the number of vowels each string has","body":"<p><strong>Problem in your annotate</strong></p>\n\n<p><code>n=input.nextInt();</code> just read a int but not discard the other world in the line。</p>\n\n<p>I change your code and it works well.</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    Scanner input = new Scanner(System.in);\n    int n;\n    System.out.print(\"Enter the amount of words you wanna input: \\n\");\n    n = input.nextInt();\n    input.nextLine();\n\n    String[] list = new String[n];\n\n    for (int i = 0; i &lt; n; i++) {\n        System.out.print(\"Enter the \" + (i + 1) + \" word: \");\n        String inputContent = input.nextLine();\n        list[i] = inputContent;\n    }\n    String[] sorted = new String[3];\n    Arrays.stream(list).sorted((o1, o2) -&gt; vowels(o2) - vowels(o1)).collect(Collectors.toList()).toArray(sorted);\n    for (int i = 0; i &lt; n; i++) {\n        System.out.println(\"\" + sorted[i]);\n    }\n}\n</code></pre>\n\n<p>extract a method to number vowels of input string:</p>\n\n<pre><code>private static int vowels(String input) {\n    String vowels = \"AEIOUaeiou\";\n    char[] chars = input.toCharArray();\n    int count = 0;\n    for (char ch : chars) {\n        if (vowels.contains(ch + \"\")) {\n            count++;\n        }\n    }\n    return count;\n}\n</code></pre>\n"}],"owner":{"account_id":18160407,"reputation":21,"user_id":13211884,"display_name":"Atif_karim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61909792,"answer_count":4,"score":0,"last_activity_date":1699689583,"creation_date":1589965626,"question_id":61909211,"body_markdown":"How should I sort individual strings in descending order. For example if I enter the the size of the array 3 and enter the strings &quot;hello&quot;, &quot;rip hi&quot;, &quot;AEIOU&quot; I should get &quot;AEIOU&quot;, &quot;rip hi&quot;,&quot;hello&quot; as return after sorting.\r\n\r\nThis is how far I have come:\r\n\r\n            Scanner input=new Scanner(System.in);\r\n            int n;\r\n            System.out.print(&quot;Enter the amount of words you wanna input: &quot;);\r\n            n=input.nextInt();\r\n            System.out.println();\r\n            \r\n            String[] list=new String[n];\r\n            String[] list2=new String[n];\r\n            /// this loop will take input of strings \r\n            for (int i = 0; i &lt; n; i++) {\r\n                input.nextLine(); // I don&#39;t know why but my first iteration&#39;s scanner was being skipped that is why \r\n                                  // I used another input.nextLine pls don&#39;t cut marks \r\n                System.out.print(&quot;Enter the &quot;+(i+1)+&quot; word: &quot;);\r\n                list[i]=input.nextLine();\r\n            }\r\n            /// this loop will sort the array by taking individual strings and breaking them in char array and counting how many times\r\n            /// a vowel is present but how to sort ?\r\n            for(int i=0;i&lt;n;i++)\r\n                {\r\n                    String temp= list[i];\r\n                    char[] ar = temp.toCharArray();\r\n                    for (int j = 0; j &lt; ar.length; j++) {\r\n                        int count=0;\r\n                        int count2;\r\n                        if(ar[j] == &#39;a&#39;|| ar[j] == &#39;e&#39;|| ar[j] == &#39;i&#39; || ar[j] == &#39;o&#39; ||ar[j] == &#39;u&#39;|| ar[j] == &#39;A&#39; || ar[j] == &#39;E&#39; || ar[j] == &#39;I&#39; || ar[j] == &#39;O&#39; ||ar[j] == &#39;U&#39;){\r\n                            count ++;\r\n                        }\r\n                        if(count&gt;0 &amp;&amp; count&gt;count2){\r\n                            String temp1=String.copyValueOf(ar);\r\n                        }\r\n                        else{\r\n                            \r\n                        }\r\n                    }\r\n                 \r\n                }\r\n            /// this loop would show the sorted array\r\n            for (int i = 0; i &lt; n; i++) {\r\n                System.out.println(&quot;&quot;+list[i]);\r\n            }\r\n\r\n","title":"How to sort an array of string in descending order by the number of vowels each string has","body":"<p>How should I sort individual strings in descending order. For example if I enter the the size of the array 3 and enter the strings &quot;hello&quot;, &quot;rip hi&quot;, &quot;AEIOU&quot; I should get &quot;AEIOU&quot;, &quot;rip hi&quot;,&quot;hello&quot; as return after sorting.</p>\n<p>This is how far I have come:</p>\n<pre><code>        Scanner input=new Scanner(System.in);\n        int n;\n        System.out.print(&quot;Enter the amount of words you wanna input: &quot;);\n        n=input.nextInt();\n        System.out.println();\n        \n        String[] list=new String[n];\n        String[] list2=new String[n];\n        /// this loop will take input of strings \n        for (int i = 0; i &lt; n; i++) {\n            input.nextLine(); // I don't know why but my first iteration's scanner was being skipped that is why \n                              // I used another input.nextLine pls don't cut marks \n            System.out.print(&quot;Enter the &quot;+(i+1)+&quot; word: &quot;);\n            list[i]=input.nextLine();\n        }\n        /// this loop will sort the array by taking individual strings and breaking them in char array and counting how many times\n        /// a vowel is present but how to sort ?\n        for(int i=0;i&lt;n;i++)\n            {\n                String temp= list[i];\n                char[] ar = temp.toCharArray();\n                for (int j = 0; j &lt; ar.length; j++) {\n                    int count=0;\n                    int count2;\n                    if(ar[j] == 'a'|| ar[j] == 'e'|| ar[j] == 'i' || ar[j] == 'o' ||ar[j] == 'u'|| ar[j] == 'A' || ar[j] == 'E' || ar[j] == 'I' || ar[j] == 'O' ||ar[j] == 'U'){\n                        count ++;\n                    }\n                    if(count&gt;0 &amp;&amp; count&gt;count2){\n                        String temp1=String.copyValueOf(ar);\n                    }\n                    else{\n                        \n                    }\n                }\n             \n            }\n        /// this loop would show the sorted array\n        for (int i = 0; i &lt; n; i++) {\n            System.out.println(&quot;&quot;+list[i]);\n        }\n</code></pre>\n"},{"tags":["java","arraylist","hashmap"],"comments":[{"owner":{"display_name":"user180100"},"score":3,"creation_date":1396714168,"post_id":22883256,"comment_id":34918048,"body_markdown":"You might want to step up the design and use real objects, maybe introduce a `Substitution` (2 `char` fields `from`, `to`), then you will be working on a list of `Substitution`. Back to your problem, you&#39;re modifying a collection you&#39;re iteration on and that is forbidden and throws a `ConcurrentModificationException`.","body":"You might want to step up the design and use real objects, maybe introduce a <code>Substitution</code> (2 <code>char</code> fields <code>from</code>, <code>to</code>), then you will be working on a list of <code>Substitution</code>. Back to your problem, you&#39;re modifying a collection you&#39;re iteration on and that is forbidden and throws a <code>ConcurrentModificationException</code>."},{"owner":{"account_id":1441481,"reputation":10825,"user_id":1361506,"display_name":"azurefrog"},"score":0,"creation_date":1396714582,"post_id":22883256,"comment_id":34918200,"body_markdown":"Actually, you can modify a collection you are working on, *if* you use an Iterator instead of a foreach loop, using iter.remove().  But that still won&#39;t let you do a removeAll().","body":"Actually, you can modify a collection you are working on, <i>if</i> you use an Iterator instead of a foreach loop, using iter.remove().  But that still won&#39;t let you do a removeAll()."}],"answers":[{"comments":[{"owner":{"account_id":1441481,"reputation":10825,"user_id":1361506,"display_name":"azurefrog"},"score":0,"creation_date":1396715312,"post_id":22883535,"comment_id":34918435,"body_markdown":"I think he wants to remove the current hashmap, plus all other hashmaps which contain the same mapping.","body":"I think he wants to remove the current hashmap, plus all other hashmaps which contain the same mapping."},{"owner":{"account_id":49719,"reputation":309,"user_id":148175,"accept_rate":64,"display_name":"J. Bend"},"score":0,"creation_date":1396716727,"post_id":22883535,"comment_id":34918902,"body_markdown":"@azurefrog That&#39;s right, I want to remove several hashmap elements.","body":"@azurefrog That&#39;s right, I want to remove several hashmap elements."}],"tags":[],"owner":{"account_id":3308685,"reputation":450,"user_id":2782670,"accept_rate":100,"display_name":"bgth"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1396754429,"creation_date":1396715114,"answer_id":22883535,"question_id":22883256,"body_markdown":"Use Iterator. My Solution is working but may be it requires tuning for performance.\r\n\r\n       Iterator&lt;Map&lt;String,String&gt;&gt; all_keys_iterator = all_keys.iterator();\r\n       List&lt;Map&lt;String,String&gt;&gt; all_keys_new = new ArrayList&lt;Map&lt;String,String&gt;&gt; ();\r\n       \r\n       while(all_keys_iterator.hasNext()) {\r\n       \tMap&lt;String,String&gt; copyMap = new HashMap&lt;String,String&gt; ();\r\n       \t\r\n       \tMap&lt;String,String&gt; all_keys_map = all_keys_iterator.next();\r\n       \tfor(String key: all_keys_map.keySet()) {\r\n       \t\tif (!key.equalsIgnoreCase(&quot;key1&quot;)){\r\n       \t\t\tcopyMap.put(key, all_keys_map.get(key));\r\n       \t\t}\r\n       \t}\r\n       \tif(!copyMap.isEmpty()) {\r\n       \t\tall_keys_iterator.remove();\r\n       \t\tall_keys_new.add(copyMap);\r\n       \t}       \t\t       \r\n       }\r\n       \r\n       all_keys.addAll(all_keys_new);\r\n       \r\n       for(Map&lt;String,String&gt; map: all_keys) {\r\n       \tfor(String key: map.keySet()) {\r\n       \t\tSystem.out.println(&quot;key: &quot; + key + &quot; Value: &quot; + map.get(key));\r\n       \t}\r\n       }","title":"how to delete several items simultaneously from a ArrayList","body":"<p>Use Iterator. My Solution is working but may be it requires tuning for performance.</p>\n\n<pre><code>   Iterator&lt;Map&lt;String,String&gt;&gt; all_keys_iterator = all_keys.iterator();\n   List&lt;Map&lt;String,String&gt;&gt; all_keys_new = new ArrayList&lt;Map&lt;String,String&gt;&gt; ();\n\n   while(all_keys_iterator.hasNext()) {\n    Map&lt;String,String&gt; copyMap = new HashMap&lt;String,String&gt; ();\n\n    Map&lt;String,String&gt; all_keys_map = all_keys_iterator.next();\n    for(String key: all_keys_map.keySet()) {\n        if (!key.equalsIgnoreCase(\"key1\")){\n            copyMap.put(key, all_keys_map.get(key));\n        }\n    }\n    if(!copyMap.isEmpty()) {\n        all_keys_iterator.remove();\n        all_keys_new.add(copyMap);\n    }                      \n   }\n\n   all_keys.addAll(all_keys_new);\n\n   for(Map&lt;String,String&gt; map: all_keys) {\n    for(String key: map.keySet()) {\n        System.out.println(\"key: \" + key + \" Value: \" + map.get(key));\n    }\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699689498,"creation_date":1396722955,"answer_id":22885072,"question_id":22883256,"body_markdown":"It was lready mentioned that you have to be careful when removing elements from a collection that you are currently iterating over. This may easily cause a `ConcurrentModificationException`. For &quot;complicated&quot; cases where you can not easily use an iterator, a pattern that can often be applied is that instead of doing something like\r\n\r\n    Collection&lt;Element&gt; collection = ...\r\n    for (Element element : collection)\r\n    {\r\n        if (hasToBeRemoved(element)) \r\n        {\r\n            // Will cause a ConcurrentModificationException!\r\n            collection.remove(element);\r\n        }\r\n    }\r\n\r\nyou collect the elements to be removed, and remove them all at once\r\n\r\n    Collection&lt;Element&gt; collection = ...\r\n    Collection&lt;Element&gt; elementsToRemove = new List&lt;Element&gt;();\r\n    for (Element element : collection)\r\n    {\r\n        if (hasToBeRemoved(element)) \r\n        {\r\n            elementsToRemove.add(element);\r\n        }\r\n    }\r\n    collection.removeAll(elementsToRemove);\r\n\r\nAccording to the code, you seem to have tried something similar, with your `keys_to_delete`, but that&#39;s not entirely clear. \r\n\r\n\r\nAnd as mentioned in the comment, you should consider dedicated data structures for the substitutions etc. But even if you wish to stick to Lists and Maps for this purpose, you should *always* use the *interface* in the declarations. So instead of \r\n\r\n    ArrayList&lt;HashMap&lt;Character,Character&gt;&gt; allKeys = ...\r\n\r\nyou should write\r\n\r\n    List&lt;Map&lt;Character,Character&gt;&gt; allKeys = ... \r\n\r\n\r\n----------\r\n\r\nHowever, regarding the actual question: It seems like the main issue can be resolved by introducing a method like `computeKeysContaining(maps, entry)` that returns all maps from a given collection that contain a certain entry. \r\n\r\n    import java.util.ArrayList;\r\n    import java.util.LinkedHashMap;\r\n    import java.util.LinkedHashSet;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Map.Entry;\r\n    import java.util.Set;\r\n\r\n    public class MapListKeyRemoval\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            List&lt;Map&lt;Character,Character&gt;&gt; allKeys = generateAllCombinations();\r\n\r\n            print(&quot;All keys&quot;, allKeys);\r\n\r\n            Set&lt;Map&lt;Character,Character&gt;&gt; keysToDelete = \r\n                new LinkedHashSet&lt;Map&lt;Character,Character&gt;&gt;();\r\n            for (Map&lt;Character, Character&gt; key : allKeys)\r\n            {\r\n                for (Entry&lt;Character, Character&gt; entry : key.entrySet())\r\n                {\r\n                    if (isInvalidMapping(entry))\r\n                    {\r\n                        System.out.println(&quot;Invalid mapping: &quot;+entry);\r\n                        Set&lt;Map&lt;Character, Character&gt;&gt; keysWithInvalidMapping =\r\n                            computeKeysContaining(allKeys, entry);\r\n\r\n                        print(&quot;Keys with invalid mapping&quot;, keysWithInvalidMapping);\r\n\r\n                        keysToDelete.addAll(keysWithInvalidMapping);\r\n                    }\r\n                }\r\n            }\r\n            print(&quot;Keys to delete&quot;, keysToDelete);\r\n\r\n            allKeys.removeAll(keysToDelete);\r\n\r\n            print(&quot;All keys after removal&quot;, allKeys);\r\n        }\r\n\r\n        private static void print(\r\n            String message, Iterable&lt;Map&lt;Character,Character&gt;&gt; keys)\r\n        {\r\n            System.out.println(message);\r\n            for (Map&lt;Character, Character&gt; key : keys)\r\n            {\r\n                System.out.println(key);\r\n            }\r\n        }\r\n\r\n        private static Set&lt;Map&lt;Character, Character&gt;&gt; computeKeysContaining(\r\n            List&lt;Map&lt;Character,Character&gt;&gt; allKeys,\r\n            Entry&lt;Character, Character&gt; entry)\r\n        {\r\n            Set&lt;Map&lt;Character,Character&gt;&gt; keysContainingEntry =  \r\n                new LinkedHashSet&lt;Map&lt;Character,Character&gt;&gt;();\r\n            for (Map&lt;Character, Character&gt; key : allKeys)\r\n            {\r\n                Object value = key.get(entry.getKey());\r\n                if (value != null &amp;&amp; value.equals(entry.getValue()))\r\n                {\r\n                    keysContainingEntry.add(key);\r\n                }\r\n            }\r\n            return keysContainingEntry;\r\n        }\r\n\r\n        private static boolean isInvalidMapping(Entry&lt;Character, Character&gt; entry)\r\n        {\r\n            return entry.getKey().equals(&#39;g&#39;) &amp;&amp; entry.getValue().equals(&#39;h&#39;);\r\n        }\r\n\r\n        private static List&lt;Map&lt;Character, Character&gt;&gt; generateAllCombinations()\r\n        {\r\n            List&lt;Map&lt;Character, Character&gt;&gt; result = \r\n                new ArrayList&lt;Map&lt;Character,Character&gt;&gt;();\r\n            result.add(createMapping(&#39;f&#39;,&#39;i&#39;,&#39;r&#39;,&#39;s&#39;,&#39;t&#39;,&#39;-&#39;,&#39;g&#39;,&#39;h&#39;));\r\n            result.add(createMapping(&#39;s&#39;,&#39;e&#39;,&#39;c&#39;,&#39;o&#39;,&#39;n&#39;,&#39;d&#39;,&#39;g&#39;,&#39;x&#39;));\r\n            result.add(createMapping(&#39;t&#39;,&#39;h&#39;,&#39;i&#39;,&#39;r&#39;,&#39;d&#39;,&#39;-&#39;,&#39;g&#39;,&#39;h&#39;));\r\n            result.add(createMapping(&#39;f&#39;,&#39;o&#39;,&#39;u&#39;,&#39;r&#39;,&#39;t&#39;,&#39;h&#39;,&#39;g&#39;,&#39;x&#39;));\r\n            return result;\r\n        }\r\n\r\n        private static Map&lt;Character, Character&gt; createMapping(char ... c)\r\n        {\r\n            Map&lt;Character, Character&gt; map = \r\n                new LinkedHashMap&lt;Character, Character&gt;();\r\n            for (int i=0; i&lt;c.length/2; i++)\r\n            {\r\n                map.put(c[i*2+0], c[i*2+1]);\r\n            }\r\n            return map;\r\n        }\r\n    }","title":"how to delete several items simultaneously from a ArrayList","body":"<p>It was lready mentioned that you have to be careful when removing elements from a collection that you are currently iterating over. This may easily cause a <code>ConcurrentModificationException</code>. For &quot;complicated&quot; cases where you can not easily use an iterator, a pattern that can often be applied is that instead of doing something like</p>\n<pre><code>Collection&lt;Element&gt; collection = ...\nfor (Element element : collection)\n{\n    if (hasToBeRemoved(element)) \n    {\n        // Will cause a ConcurrentModificationException!\n        collection.remove(element);\n    }\n}\n</code></pre>\n<p>you collect the elements to be removed, and remove them all at once</p>\n<pre><code>Collection&lt;Element&gt; collection = ...\nCollection&lt;Element&gt; elementsToRemove = new List&lt;Element&gt;();\nfor (Element element : collection)\n{\n    if (hasToBeRemoved(element)) \n    {\n        elementsToRemove.add(element);\n    }\n}\ncollection.removeAll(elementsToRemove);\n</code></pre>\n<p>According to the code, you seem to have tried something similar, with your <code>keys_to_delete</code>, but that's not entirely clear.</p>\n<p>And as mentioned in the comment, you should consider dedicated data structures for the substitutions etc. But even if you wish to stick to Lists and Maps for this purpose, you should <em>always</em> use the <em>interface</em> in the declarations. So instead of</p>\n<pre><code>ArrayList&lt;HashMap&lt;Character,Character&gt;&gt; allKeys = ...\n</code></pre>\n<p>you should write</p>\n<pre><code>List&lt;Map&lt;Character,Character&gt;&gt; allKeys = ... \n</code></pre>\n<hr />\n<p>However, regarding the actual question: It seems like the main issue can be resolved by introducing a method like <code>computeKeysContaining(maps, entry)</code> that returns all maps from a given collection that contain a certain entry.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.LinkedHashMap;\nimport java.util.LinkedHashSet;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Map.Entry;\nimport java.util.Set;\n\npublic class MapListKeyRemoval\n{\n    public static void main(String[] args)\n    {\n        List&lt;Map&lt;Character,Character&gt;&gt; allKeys = generateAllCombinations();\n\n        print(&quot;All keys&quot;, allKeys);\n\n        Set&lt;Map&lt;Character,Character&gt;&gt; keysToDelete = \n            new LinkedHashSet&lt;Map&lt;Character,Character&gt;&gt;();\n        for (Map&lt;Character, Character&gt; key : allKeys)\n        {\n            for (Entry&lt;Character, Character&gt; entry : key.entrySet())\n            {\n                if (isInvalidMapping(entry))\n                {\n                    System.out.println(&quot;Invalid mapping: &quot;+entry);\n                    Set&lt;Map&lt;Character, Character&gt;&gt; keysWithInvalidMapping =\n                        computeKeysContaining(allKeys, entry);\n\n                    print(&quot;Keys with invalid mapping&quot;, keysWithInvalidMapping);\n\n                    keysToDelete.addAll(keysWithInvalidMapping);\n                }\n            }\n        }\n        print(&quot;Keys to delete&quot;, keysToDelete);\n\n        allKeys.removeAll(keysToDelete);\n\n        print(&quot;All keys after removal&quot;, allKeys);\n    }\n\n    private static void print(\n        String message, Iterable&lt;Map&lt;Character,Character&gt;&gt; keys)\n    {\n        System.out.println(message);\n        for (Map&lt;Character, Character&gt; key : keys)\n        {\n            System.out.println(key);\n        }\n    }\n\n    private static Set&lt;Map&lt;Character, Character&gt;&gt; computeKeysContaining(\n        List&lt;Map&lt;Character,Character&gt;&gt; allKeys,\n        Entry&lt;Character, Character&gt; entry)\n    {\n        Set&lt;Map&lt;Character,Character&gt;&gt; keysContainingEntry =  \n            new LinkedHashSet&lt;Map&lt;Character,Character&gt;&gt;();\n        for (Map&lt;Character, Character&gt; key : allKeys)\n        {\n            Object value = key.get(entry.getKey());\n            if (value != null &amp;&amp; value.equals(entry.getValue()))\n            {\n                keysContainingEntry.add(key);\n            }\n        }\n        return keysContainingEntry;\n    }\n\n    private static boolean isInvalidMapping(Entry&lt;Character, Character&gt; entry)\n    {\n        return entry.getKey().equals('g') &amp;&amp; entry.getValue().equals('h');\n    }\n\n    private static List&lt;Map&lt;Character, Character&gt;&gt; generateAllCombinations()\n    {\n        List&lt;Map&lt;Character, Character&gt;&gt; result = \n            new ArrayList&lt;Map&lt;Character,Character&gt;&gt;();\n        result.add(createMapping('f','i','r','s','t','-','g','h'));\n        result.add(createMapping('s','e','c','o','n','d','g','x'));\n        result.add(createMapping('t','h','i','r','d','-','g','h'));\n        result.add(createMapping('f','o','u','r','t','h','g','x'));\n        return result;\n    }\n\n    private static Map&lt;Character, Character&gt; createMapping(char ... c)\n    {\n        Map&lt;Character, Character&gt; map = \n            new LinkedHashMap&lt;Character, Character&gt;();\n        for (int i=0; i&lt;c.length/2; i++)\n        {\n            map.put(c[i*2+0], c[i*2+1]);\n        }\n        return map;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":49719,"reputation":309,"user_id":148175,"accept_rate":64,"display_name":"J. Bend"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":422,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1699689498,"creation_date":1396713815,"question_id":22883256,"body_markdown":"I&#39;m having trouble with a homework, the thing is I have around 40.000 `HashMap&lt;Character,Character&gt;` objects stored in a `ArrayList&lt;HashMap&lt;Character,Character&gt;&gt; `object.\r\n\r\nEach object `HashMap&lt;Character,Character&gt;` object represent a key for a substitution cipher. So one HashMap object might be: `a-&gt;a; b-&gt;b; c-&gt;c; d-&gt;d; e-&gt;e; f-&gt;f; g-&gt;h; h-&gt;g`\r\nwhich means that the g and h are swapped during encription/decryption.\r\n\r\nThe problem is that I&#39;m coding a brute force attack on this cipher, so I&#39;m looping over those 40.000 keys. \r\n\r\nWhen the program detects that say g-&gt;h It&#39;s a wrong substitution, I want to delete all the HashMap objects that contain this entry, not only the current element that I&#39;m working with inside the loop and thus be able to avoid checking the keys one by one.\r\n\r\nSo far I&#39;ve tried the following, but its getting stuck no exception or anything just doesnt finish, not even while debugging: \r\n\r\n      ArrayList&lt;HashMap&lt;Character,Character&gt;&gt; all_keys = new ...`\r\n      all_keys = generateAllCombinations();`\r\n      ArrayList&lt;HashMap&lt;Character,Character&gt;&gt; keys_to_delete = new ...`\r\n      \r\n      for(HashMap&lt;Character,Character&gt; key:all_keys){`\r\n         all_keys.removeAll(keys_to_delete);\r\n         \\\\other stuff going on...`\r\n            if (!letters[0].getChar().equals(Constants.CHAR_E)){\r\n\t         Character invChar = key.get(Constants.CHAR_E);\r\n\t\t      for(HashMap&lt;Character,Character&gt; key2 : all_keys){\r\n\t\t            if(key2.get(Constants.CHAR_E).equals(invChar)){\r\n\t\t\t         keys_to_delete.add(key2);\r\n\t\t            }\r\n\t\t      }\r\n\t\t\t\t\r\n\t    }\r\n       }\r\n","title":"how to delete several items simultaneously from a ArrayList","body":"<p>I'm having trouble with a homework, the thing is I have around 40.000 <code>HashMap&lt;Character,Character&gt;</code> objects stored in a <code>ArrayList&lt;HashMap&lt;Character,Character&gt;&gt;</code>object.</p>\n\n<p>Each object <code>HashMap&lt;Character,Character&gt;</code> object represent a key for a substitution cipher. So one HashMap object might be: <code>a-&gt;a; b-&gt;b; c-&gt;c; d-&gt;d; e-&gt;e; f-&gt;f; g-&gt;h; h-&gt;g</code>\nwhich means that the g and h are swapped during encription/decryption.</p>\n\n<p>The problem is that I'm coding a brute force attack on this cipher, so I'm looping over those 40.000 keys. </p>\n\n<p>When the program detects that say g->h It's a wrong substitution, I want to delete all the HashMap objects that contain this entry, not only the current element that I'm working with inside the loop and thus be able to avoid checking the keys one by one.</p>\n\n<p>So far I've tried the following, but its getting stuck no exception or anything just doesnt finish, not even while debugging: </p>\n\n<pre><code>  ArrayList&lt;HashMap&lt;Character,Character&gt;&gt; all_keys = new ...`\n  all_keys = generateAllCombinations();`\n  ArrayList&lt;HashMap&lt;Character,Character&gt;&gt; keys_to_delete = new ...`\n\n  for(HashMap&lt;Character,Character&gt; key:all_keys){`\n     all_keys.removeAll(keys_to_delete);\n     \\\\other stuff going on...`\n        if (!letters[0].getChar().equals(Constants.CHAR_E)){\n         Character invChar = key.get(Constants.CHAR_E);\n          for(HashMap&lt;Character,Character&gt; key2 : all_keys){\n                if(key2.get(Constants.CHAR_E).equals(invChar)){\n                 keys_to_delete.add(key2);\n                }\n          }\n\n    }\n   }\n</code></pre>\n"},{"tags":["java","encryption"],"comments":[{"owner":{"account_id":97082,"reputation":375036,"user_id":263525,"accept_rate":85,"display_name":"Denys S&#233;guret"},"score":0,"creation_date":1451139998,"post_id":34472215,"comment_id":56685585,"body_markdown":"What did you try ? What was the problem ?","body":"What did you try ? What was the problem ?"},{"owner":{"account_id":296447,"reputation":1429,"user_id":601409,"accept_rate":89,"display_name":"EkcenierK"},"score":0,"creation_date":1451140094,"post_id":34472215,"comment_id":56685609,"body_markdown":"At Stack Overflow we help with specific programming problems with your own code. We will not write the code for you as this discourages you from learning. Please attempt the problem yourself, then show us your implementation. If you have specific problems with your code after that, then we can help you to solve them by giving you pointers.","body":"At Stack Overflow we help with specific programming problems with your own code. We will not write the code for you as this discourages you from learning. Please attempt the problem yourself, then show us your implementation. If you have specific problems with your code after that, then we can help you to solve them by giving you pointers."},{"owner":{"account_id":7510466,"reputation":49,"user_id":5705593,"display_name":"Max"},"score":0,"creation_date":1451140313,"post_id":34472215,"comment_id":56685661,"body_markdown":"Hi hi, just pasted my code above, thanks for the reminder.","body":"Hi hi, just pasted my code above, thanks for the reminder."}],"answers":[{"tags":[],"owner":{"account_id":203680,"reputation":112068,"user_id":451475,"accept_rate":100,"display_name":"zaph"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1451140773,"creation_date":1451140773,"answer_id":34472315,"question_id":34472215,"body_markdown":"The requirement: &quot;(Note: Your encrypted string should preserve spacing and punctuation.)&quot; is not handled by the code, in particular alphabet only contains lower case letters. You are going to need to handle all character code from 0x20 through 0x7f.\r\n\r\nFor &quot;double&quot; Caesar Cipher create a subroutine that performs a single Caesar Cipher on a string and than call that function first with the original input and the first key and then again with that output and the second key.","title":"Java Caesar Cipher, use 2 keys","body":"<p>The requirement: \"(Note: Your encrypted string should preserve spacing and punctuation.)\" is not handled by the code, in particular alphabet only contains lower case letters. You are going to need to handle all character code from 0x20 through 0x7f.</p>\n\n<p>For \"double\" Caesar Cipher create a subroutine that performs a single Caesar Cipher on a string and than call that function first with the original input and the first key and then again with that output and the second key.</p>\n"},{"tags":[],"owner":{"account_id":8212808,"reputation":1,"user_id":6180263,"display_name":"bele semu "},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460189399,"creation_date":1460189055,"answer_id":36514317,"question_id":34472215,"body_markdown":"i see the problem appears,when idx2 is greater than index of the for loop  (i.e j+1 &gt; encrypted.length()). to compute idx2, u need to check the size of i+1(j).\r\n\r\n    if (i+1 &lt; encrypted.length()) {\r\n         int j = i+1;\r\n         char ch2 = encrypted.charAt(j);\r\n         char currChar2 = Character.toLowerCase(ch2);\r\n         //Find the index of currChar in the alphabet (call it idx)\r\n         int idx2 = alphabet.indexOf(currChar2);\r\n            if (idx2 != -1) {\r\n               char newChar2 = shiftedAlphabet2.charAt(idx2);\r\n               //Replace the ith character of encrypted with newChar\r\n               encrypted.setCharAt(j, newChar2);\r\n            }\r\n         }\r\n    }\r\n\r\n","title":"Java Caesar Cipher, use 2 keys","body":"<p>i see the problem appears,when idx2 is greater than index of the for loop  (i.e j+1 > encrypted.length()). to compute idx2, u need to check the size of i+1(j).</p>\n\n<pre><code>if (i+1 &lt; encrypted.length()) {\n     int j = i+1;\n     char ch2 = encrypted.charAt(j);\n     char currChar2 = Character.toLowerCase(ch2);\n     //Find the index of currChar in the alphabet (call it idx)\n     int idx2 = alphabet.indexOf(currChar2);\n        if (idx2 != -1) {\n           char newChar2 = shiftedAlphabet2.charAt(idx2);\n           //Replace the ith character of encrypted with newChar\n           encrypted.setCharAt(j, newChar2);\n        }\n     }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2493825,"reputation":1697,"user_id":2170766,"display_name":"RamPrakash"},"score":1,"creation_date":1576099584,"post_id":59294226,"comment_id":104793232,"body_markdown":"adding explanation to answer will help users.","body":"adding explanation to answer will help users."}],"tags":[],"owner":{"account_id":17289022,"reputation":1,"user_id":12521007,"display_name":"محمد أحمد"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576099059,"creation_date":1576099059,"answer_id":59294226,"question_id":34472215,"body_markdown":"//here is the complete correct answer\r\n\r\n    public class CaesarCipher {\r\n    //this method to encrypt a messgae using a key \r\n    String encrypt (String input, int key){\r\n     \r\n    // convert the original message to temp upper case letters  \r\n    String input2 = input.toUpperCase(); \r\n    // using string builder rather than normal string\r\n    StringBuilder sb= new StringBuilder(input2);\r\n    // default alphabet\r\n    String alphabet = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n    // shiftted alphabet\r\n    String shifttedAlphabet= alphabet.substring(key)+alphabet.substring(0,key);\r\n   \r\n    // itterating around the original message to get each char and then getting its index\r\n    // then getting the equilvent char in the shiftted alphabet\r\n    for (int i = 0; i &lt;sb.length();i++){\r\n    \r\n    char currentChar = sb.charAt(i);\r\n    int currentIndex = alphabet.indexOf(currentChar);\r\n    \r\n    if (currentIndex != -1){\r\n    char shifttedChar = shifttedAlphabet.charAt(currentIndex);\r\n    sb.setCharAt(i,shifttedChar);\r\n                           }\r\n    }\r\n    // converting the builder string to a normal string \r\n    String encrypted = sb.toString();\r\n    // getting every char to its normal case even lower or upper\r\n    for (int i =0 ;i &lt; input.length(); i ++){\r\n    boolean upper = Character.isUpperCase(input.charAt(i));\r\n    if(upper){sb.setCharAt(i,Character.toUpperCase(encrypted.charAt(i)));}\r\n    else {sb.setCharAt(i,Character.toLowerCase(encrypted.charAt(i)));}\r\n    \r\n    }\r\n    // restting the encrypted message after editting to the lower nad upper case state\r\n    encrypted = sb.toString();\r\n    // returning the encrypted string \r\n    return encrypted;\r\n    }\r\n\r\n    // this method to encrypt using two keys\r\n    String encryptTwoKeys (String input ,int key1 , int key2){\r\n       String encryptedKey1= encrypt (input, key1); \r\n       String encryptedKey2= encrypt (input, key2); \r\n      \r\n       StringBuilder finalEncrypted = new StringBuilder (input);\r\n       \r\n     \r\n       \r\n        for (int i = 0 ; i &lt;encryptedKey1.length();i +=2){\r\n        char currentChar = encryptedKey1.charAt(i);\r\n         finalEncrypted.replace(i, i+1,String.valueOf(currentChar));\r\n        \r\n        \r\n        }\r\n       \r\n        for (int i = 1 ; i &lt;encryptedKey2.length();i +=2){\r\n        char currentChar = encryptedKey2.charAt(i);\r\n         finalEncrypted.replace(i, i+1,String.valueOf(currentChar));\r\n        \r\n        \r\n        }\r\n       \r\n    return finalEncrypted.toString();\r\n    }\r\n\r\n    void testEncryptTwoKeys(){\r\n    String encrypted = encryptTwoKeys(&quot;At noon be in the conference room with your hat on for a surprise party. YELL LOUD!&quot;, 8, 21);\r\n    System.out.println (encrypted);\r\n    String decrypted = encryptTwoKeys(encrypted, 26-8, 26-21);\r\n    System.out.println (decrypted);\r\n    \r\n    \r\n    }\r\n\r\n    void testEncrypt(){\r\n    FileResource fr = new FileResource();\r\n    String message = fr.asString();\r\n    String encrypted = encrypt(message, 15);\r\n    System.out.println(&quot;key is &quot; +15+ &quot;\\n&quot; + encrypted);\r\n\r\n    }\r\n\r\n}","title":"Java Caesar Cipher, use 2 keys","body":"<p>//here is the complete correct answer</p>\n\n<pre><code>public class CaesarCipher {\n//this method to encrypt a messgae using a key \nString encrypt (String input, int key){\n\n// convert the original message to temp upper case letters  \nString input2 = input.toUpperCase(); \n// using string builder rather than normal string\nStringBuilder sb= new StringBuilder(input2);\n// default alphabet\nString alphabet = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n// shiftted alphabet\nString shifttedAlphabet= alphabet.substring(key)+alphabet.substring(0,key);\n\n// itterating around the original message to get each char and then getting its index\n// then getting the equilvent char in the shiftted alphabet\nfor (int i = 0; i &lt;sb.length();i++){\n\nchar currentChar = sb.charAt(i);\nint currentIndex = alphabet.indexOf(currentChar);\n\nif (currentIndex != -1){\nchar shifttedChar = shifttedAlphabet.charAt(currentIndex);\nsb.setCharAt(i,shifttedChar);\n                       }\n}\n// converting the builder string to a normal string \nString encrypted = sb.toString();\n// getting every char to its normal case even lower or upper\nfor (int i =0 ;i &lt; input.length(); i ++){\nboolean upper = Character.isUpperCase(input.charAt(i));\nif(upper){sb.setCharAt(i,Character.toUpperCase(encrypted.charAt(i)));}\nelse {sb.setCharAt(i,Character.toLowerCase(encrypted.charAt(i)));}\n\n}\n// restting the encrypted message after editting to the lower nad upper case state\nencrypted = sb.toString();\n// returning the encrypted string \nreturn encrypted;\n}\n\n// this method to encrypt using two keys\nString encryptTwoKeys (String input ,int key1 , int key2){\n   String encryptedKey1= encrypt (input, key1); \n   String encryptedKey2= encrypt (input, key2); \n\n   StringBuilder finalEncrypted = new StringBuilder (input);\n\n\n\n    for (int i = 0 ; i &lt;encryptedKey1.length();i +=2){\n    char currentChar = encryptedKey1.charAt(i);\n     finalEncrypted.replace(i, i+1,String.valueOf(currentChar));\n\n\n    }\n\n    for (int i = 1 ; i &lt;encryptedKey2.length();i +=2){\n    char currentChar = encryptedKey2.charAt(i);\n     finalEncrypted.replace(i, i+1,String.valueOf(currentChar));\n\n\n    }\n\nreturn finalEncrypted.toString();\n}\n\nvoid testEncryptTwoKeys(){\nString encrypted = encryptTwoKeys(\"At noon be in the conference room with your hat on for a surprise party. YELL LOUD!\", 8, 21);\nSystem.out.println (encrypted);\nString decrypted = encryptTwoKeys(encrypted, 26-8, 26-21);\nSystem.out.println (decrypted);\n\n\n}\n\nvoid testEncrypt(){\nFileResource fr = new FileResource();\nString message = fr.asString();\nString encrypted = encrypt(message, 15);\nSystem.out.println(\"key is \" +15+ \"\\n\" + encrypted);\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"comments":[{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1600195615,"post_id":63905833,"comment_id":113009955,"body_markdown":"Why did you copy and paste another answer?","body":"Why did you copy and paste another answer?"}],"tags":[],"owner":{"account_id":19520524,"reputation":1,"user_id":14282522,"display_name":"aminos"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699689342,"creation_date":1600186071,"answer_id":63905833,"question_id":34472215,"body_markdown":"With importing respective libraries, here&#39;s complete answer located:\r\n\r\n&lt;!-- begin snippet: js hide: true console: true babel: true --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    import edu.duke.*;\r\n\r\n    public class CaesarCipher {\r\n    //this method to encrypt a messgae using a key \r\n    String encrypt (String input, int key){\r\n    // convert the original message to temp upper case letters  \r\n    String input2 = input.toUpperCase(); \r\n    // using string builder rather than normal string\r\n    StringBuilder sb= new StringBuilder(input2);\r\n    // default alphabet\r\n    String alphabet = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n    // shiftted alphabet\r\n    String shifttedAlphabet= alphabet.substring(key)+alphabet.substring(0,key);\r\n\r\n    // iterating over the original message to get each char and then getting its index\r\n    // then getting the equivalent char in the shifted alphabet\r\n    for (int i = 0; i &lt;sb.length();i++){\r\n\r\n    char currentChar = sb.charAt(i);\r\n    int currentIndex = alphabet.indexOf(currentChar);\r\n\r\n    if (currentIndex != -1) {\r\n        char shifttedChar = shifttedAlphabet.charAt(currentIndex);\r\n        sb.setCharAt(i,shifttedChar);\r\n    }\r\n    }\r\n    // converting the builder string to a normal string \r\n    String encrypted = sb.toString();\r\n    // getting every char to its normal case even lower or upper\r\n    for (int i =0 ;i &lt; input.length(); i ++){\r\n    boolean upper = Character.isUpperCase(input.charAt(i));\r\n    if(upper){sb.setCharAt(i,Character.toUpperCase(encrypted.charAt(i)));}\r\n    else {sb.setCharAt(i,Character.toLowerCase(encrypted.charAt(i)));}\r\n\r\n    }\r\n    // resting the encrypted message after editing to the lower nad upper case state\r\n    encrypted = sb.toString();\r\n    // returning the encrypted string \r\n    return encrypted;\r\n    }\r\n\r\n    // this method to encrypt using two keys\r\n    String encryptTwoKeys (String input ,int key1 , int key2){\r\n       String encryptedKey1= encrypt (input, key1); \r\n       String encryptedKey2= encrypt (input, key2); \r\n\r\n       StringBuilder finalEncrypted = new StringBuilder (input);\r\n\r\n       for (int i = 0 ; i &lt;encryptedKey1.length();i +=2) {\r\n        char currentChar = encryptedKey1.charAt(i);\r\n         finalEncrypted.replace(i, i+1,String.valueOf(currentChar));\r\n        }\r\n\r\n        for (int i = 1 ; i &lt;encryptedKey2.length();i +=2) {\r\n           char currentChar = encryptedKey2.charAt(i);\r\n           finalEncrypted.replace(i, i+1,String.valueOf(currentChar));\r\n        }\r\n\r\n       return finalEncrypted.toString();\r\n    }\r\n\r\n    void testEncryptTwoKeys() {\r\n    String encrypted = encryptTwoKeys(&quot;Can you imagine life WITHOUT the internet AND computers in your pocket?&quot;, 21,8 );\r\n    System.out.println (encrypted);\r\n    String decrypted = encryptTwoKeys(encrypted, 26-21, 26-8);\r\n    System.out.println (decrypted);\r\n    }\r\n\r\n    void testEncrypt()\r\n    {\r\n       FileResource fr = new FileResource();\r\n       String message = fr.asString();\r\n       String encrypted = encrypt(message, 15);\r\n       System.out.println(&quot;key is &quot; +15+ &quot;\\n&quot; + encrypted);\r\n    }\r\n    }\r\n","title":"Java Caesar Cipher, use 2 keys","body":"<p>With importing respective libraries, here's complete answer located:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import edu.duke.*;\n\npublic class CaesarCipher {\n//this method to encrypt a messgae using a key \nString encrypt (String input, int key){\n// convert the original message to temp upper case letters  \nString input2 = input.toUpperCase(); \n// using string builder rather than normal string\nStringBuilder sb= new StringBuilder(input2);\n// default alphabet\nString alphabet = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\n// shiftted alphabet\nString shifttedAlphabet= alphabet.substring(key)+alphabet.substring(0,key);\n\n// iterating over the original message to get each char and then getting its index\n// then getting the equivalent char in the shifted alphabet\nfor (int i = 0; i &lt;sb.length();i++){\n\nchar currentChar = sb.charAt(i);\nint currentIndex = alphabet.indexOf(currentChar);\n\nif (currentIndex != -1) {\n    char shifttedChar = shifttedAlphabet.charAt(currentIndex);\n    sb.setCharAt(i,shifttedChar);\n}\n}\n// converting the builder string to a normal string \nString encrypted = sb.toString();\n// getting every char to its normal case even lower or upper\nfor (int i =0 ;i &lt; input.length(); i ++){\nboolean upper = Character.isUpperCase(input.charAt(i));\nif(upper){sb.setCharAt(i,Character.toUpperCase(encrypted.charAt(i)));}\nelse {sb.setCharAt(i,Character.toLowerCase(encrypted.charAt(i)));}\n\n}\n// resting the encrypted message after editing to the lower nad upper case state\nencrypted = sb.toString();\n// returning the encrypted string \nreturn encrypted;\n}\n\n// this method to encrypt using two keys\nString encryptTwoKeys (String input ,int key1 , int key2){\n   String encryptedKey1= encrypt (input, key1); \n   String encryptedKey2= encrypt (input, key2); \n\n   StringBuilder finalEncrypted = new StringBuilder (input);\n\n   for (int i = 0 ; i &lt;encryptedKey1.length();i +=2) {\n    char currentChar = encryptedKey1.charAt(i);\n     finalEncrypted.replace(i, i+1,String.valueOf(currentChar));\n    }\n\n    for (int i = 1 ; i &lt;encryptedKey2.length();i +=2) {\n       char currentChar = encryptedKey2.charAt(i);\n       finalEncrypted.replace(i, i+1,String.valueOf(currentChar));\n    }\n\n   return finalEncrypted.toString();\n}\n\nvoid testEncryptTwoKeys() {\nString encrypted = encryptTwoKeys(&quot;Can you imagine life WITHOUT the internet AND computers in your pocket?&quot;, 21,8 );\nSystem.out.println (encrypted);\nString decrypted = encryptTwoKeys(encrypted, 26-21, 26-8);\nSystem.out.println (decrypted);\n}\n\nvoid testEncrypt()\n{\n   FileResource fr = new FileResource();\n   String message = fr.asString();\n   String encrypted = encrypt(message, 15);\n   System.out.println(&quot;key is &quot; +15+ &quot;\\n&quot; + encrypted);\n}\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1675775787,"post_id":75351314,"comment_id":132997805,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75351314/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27707172,"reputation":1,"user_id":21150560,"display_name":"Raihan Laskar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675590443,"creation_date":1675589842,"answer_id":75351314,"question_id":34472215,"body_markdown":"     import java.util.Scanner;\r\n\r\n    public class caesarCipher {\r\n     \r\n       /* This method is used to both encrypt and decrypt */\r\n    \r\n    public static String encrypt(String input, int key1, int key2) {\r\n        int pos = -1, pos1 = -1;\r\n       \r\n        String alphabet = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;; /* Take whole \r\n        alphabet as a string */\r\n        \r\n      /* modify the encrypted string use string builder */\r\n       \r\n       StringBuilder encrypted = new StringBuilder(input);\r\n      \r\n             for (int i = 0; i &lt; encrypted.length(); i++) {\r\n                 /* take each character from the string */\r\n            char sample = encrypted.charAt(i);\r\n            /* We have to perform only with alphabet */\r\n            if (Character.isAlphabetic(sample)) {\r\n                /* check the position as key1 for even and key2 for odd position */\r\n                if (i % 2 == 0) {\r\n                    /*\r\n                     * if the character is uppercase nothing to do\r\n                     * cause we take alphabet in total uppercase\r\n                     */\r\n                    if (Character.isUpperCase(sample)) {\r\n                        /* find the position of the character from the alphabet */\r\n                        pos = alphabet.indexOf(sample);\r\n                        /* set the position as key */\r\n                        pos = (pos + key1) % 26;\r\n                        /* find the letter with updated position from the alphabet */\r\n                        char res = alphabet.charAt(pos);\r\n                        /* modify it */\r\n                        encrypted.setCharAt(i, res);\r\n\r\n                    }\r\n                    /* if the character is in lowercase */\r\n                    else {\r\n                        /* convert it to uppercase to find */\r\n                        pos = alphabet.indexOf(Character.toUpperCase(sample));\r\n                        pos = (pos + key1) % 26;\r\n                        char res = alphabet.charAt(pos);\r\n                        /* convert the desired output in lowercase then modify it */\r\n                        encrypted.setCharAt(i, Character.toLowerCase(res));\r\n\r\n                    }\r\n                    pos = -1;\r\n                }\r\n                /* same above procedure in case of odd position */\r\n                else {\r\n                    if (Character.isUpperCase(sample)) {\r\n                        pos1 = alphabet.indexOf(sample);\r\n                        pos1 = (pos1 + key2) % 26;\r\n                        char res1 = alphabet.charAt(pos1);\r\n                        encrypted.setCharAt(i, res1);\r\n\r\n                    } else {\r\n                        pos1 = alphabet.indexOf(Character.toUpperCase(sample));\r\n                        pos1 = (pos1 + key2) % 26;\r\n                        char res1 = alphabet.charAt(pos1);\r\n                        encrypted.setCharAt(i, Character.toLowerCase(res1));\r\n\r\n                    }\r\n                    pos1 = -1;\r\n                }\r\n            }\r\n        }\r\n        return encrypted.toString();\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        // TODO Auto-generated method stub\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.println(&quot;Enter the string:&quot;);\r\n        String input = sc.nextLine();\r\n        System.out.println(&quot;Enter the key1:&quot;);\r\n        int key1 = sc.nextInt();\r\n        System.out.println(&quot;Enter the key2:&quot;);\r\n        int key2 = sc.nextInt();\r\n        /*\r\n         * for both encryt and decrypt use the same method but for decrypt key will be\r\n         * 26-key\r\n         */\r\n        String e = encrypt(input, key1, key2);\r\n        System.out.println(&quot;...........After encryption...........\\n&quot; + e);\r\n        String d = encrypt(e, (26 - key1), (26 - key2));\r\n        System.out.println(&quot;...........After decryption...........\\n&quot; + d);\r\n    } \r\n            }\r\n    /* Compile and enjoy */","title":"Java Caesar Cipher, use 2 keys","body":"<pre><code> import java.util.Scanner;\n\npublic class caesarCipher {\n \n   /* This method is used to both encrypt and decrypt */\n\npublic static String encrypt(String input, int key1, int key2) {\n    int pos = -1, pos1 = -1;\n   \n    String alphabet = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;; /* Take whole \n    alphabet as a string */\n    \n  /* modify the encrypted string use string builder */\n   \n   StringBuilder encrypted = new StringBuilder(input);\n  \n         for (int i = 0; i &lt; encrypted.length(); i++) {\n             /* take each character from the string */\n        char sample = encrypted.charAt(i);\n        /* We have to perform only with alphabet */\n        if (Character.isAlphabetic(sample)) {\n            /* check the position as key1 for even and key2 for odd position */\n            if (i % 2 == 0) {\n                /*\n                 * if the character is uppercase nothing to do\n                 * cause we take alphabet in total uppercase\n                 */\n                if (Character.isUpperCase(sample)) {\n                    /* find the position of the character from the alphabet */\n                    pos = alphabet.indexOf(sample);\n                    /* set the position as key */\n                    pos = (pos + key1) % 26;\n                    /* find the letter with updated position from the alphabet */\n                    char res = alphabet.charAt(pos);\n                    /* modify it */\n                    encrypted.setCharAt(i, res);\n\n                }\n                /* if the character is in lowercase */\n                else {\n                    /* convert it to uppercase to find */\n                    pos = alphabet.indexOf(Character.toUpperCase(sample));\n                    pos = (pos + key1) % 26;\n                    char res = alphabet.charAt(pos);\n                    /* convert the desired output in lowercase then modify it */\n                    encrypted.setCharAt(i, Character.toLowerCase(res));\n\n                }\n                pos = -1;\n            }\n            /* same above procedure in case of odd position */\n            else {\n                if (Character.isUpperCase(sample)) {\n                    pos1 = alphabet.indexOf(sample);\n                    pos1 = (pos1 + key2) % 26;\n                    char res1 = alphabet.charAt(pos1);\n                    encrypted.setCharAt(i, res1);\n\n                } else {\n                    pos1 = alphabet.indexOf(Character.toUpperCase(sample));\n                    pos1 = (pos1 + key2) % 26;\n                    char res1 = alphabet.charAt(pos1);\n                    encrypted.setCharAt(i, Character.toLowerCase(res1));\n\n                }\n                pos1 = -1;\n            }\n        }\n    }\n    return encrypted.toString();\n\n}\n\npublic static void main(String[] args) {\n    // TODO Auto-generated method stub\n    Scanner sc = new Scanner(System.in);\n    System.out.println(&quot;Enter the string:&quot;);\n    String input = sc.nextLine();\n    System.out.println(&quot;Enter the key1:&quot;);\n    int key1 = sc.nextInt();\n    System.out.println(&quot;Enter the key2:&quot;);\n    int key2 = sc.nextInt();\n    /*\n     * for both encryt and decrypt use the same method but for decrypt key will be\n     * 26-key\n     */\n    String e = encrypt(input, key1, key2);\n    System.out.println(&quot;...........After encryption...........\\n&quot; + e);\n    String d = encrypt(e, (26 - key1), (26 - key2));\n    System.out.println(&quot;...........After decryption...........\\n&quot; + d);\n} \n        }\n/* Compile and enjoy */\n</code></pre>\n"}],"owner":{"account_id":7510466,"reputation":49,"user_id":5705593,"display_name":"Max"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7499,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":5,"score":-1,"last_activity_date":1699689342,"creation_date":1451139964,"question_id":34472215,"body_markdown":"Encrypt the following phrase with the algorithm described for using two Caesar Cipher keys, with key1 = 8 and key2 = 21.\r\n\r\nAt noon be in the conference room with your hat on for a surprise party. YELL LOUD!\r\n\r\nWhat is the encrypted string?\r\n\r\n(Note: Your encrypted string should preserve spacing and punctuation.)\r\n\r\nThe original input is \r\n\r\nAt noon be in the conference room with your hat on for a surprise party. YELL LOUD!\r\n\r\nThe desired result is \r\n\r\nio iwjv jz dv bcm kjvammmikz mwju edbc twpz pvb wi awm v ncmxmqnm xvzog. tmgt tjcy!\r\n\r\n \r\nI am not able to write the correct Java code for this problem. Please help, thank you very much!\r\n\r\nMy code is \r\n\r\n    import edu.duke.*;\r\n    \r\n    public class CaesarCipher {\r\n        public String encrypt(String input, int key1, int key2) {\r\n            //Make a StringBuilder with message (encrypted)\r\n            StringBuilder encrypted = new StringBuilder(input);\r\n            //Write down the alphabet\r\n            String checker = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n            String alphabet = checker.toLowerCase();\r\n            //Compute the shifted alphabet\r\n            String shiftedAlphabet1 = alphabet.substring(key1)+\r\n            alphabet.substring(0,key1);\r\n            String shiftedAlphabet2 = alphabet.substring(key2) + alphabet.substring(0,key2);\r\n            //Count from 0 to &lt; length of encrypted, (call it i)\r\n            for(int i = 0; i &lt; encrypted.length(); i+=2) {\r\n                //Look at the ith character of encrypted (call it currChar)\r\n                char currChar1 = encrypted.charAt(i);\r\n                int j = i+1;\r\n                char currChar2 = encrypted.charAt(j);\r\n                //Find the index of currChar in the alphabet (call it idx)\r\n                int idx1 = alphabet.indexOf(currChar1);\r\n                int idx2 = alphabet.indexOf(currChar2);\r\n                //If currChar is in the alphabet\r\n                if(idx1 != -1){\r\n                    //Get the idxth character of shiftedAlphabet (newChar)\r\n                    char newChar1 = shiftedAlphabet1.charAt(idx1);\r\n                    encrypted.setCharAt(i, newChar1);\r\n                    \r\n                    char newChar2 = shiftedAlphabet2.charAt(idx2);\r\n                    encrypted.setCharAt(j, newChar2);\r\n                    }\r\n                    //Replace the ith character of encrypted with newChar\r\n          \r\n                }\r\n                //Otherwise: do nothing\r\n            }\r\n            //Your answer is the String inside of encrypted\r\n            return encrypted.toString();\r\n        }\r\n        public void testCaesar() {\r\n            int key1 = 8;\r\n            int key2 = 21;\r\n            FileResource fr = new FileResource();\r\n            String messagechecker = &#39;At noon be in the conference room with your hat on for a surprise party. YELL LOUD!&#39;;\r\n            String message = messagechecker.toLowerCase();\r\n            String encrypted = encrypt(message, key1, key2);\r\n            System.out.println(encrypted);\r\n            String decrypted = encrypt(encrypted, 26-key1,26-key2);\r\n            System.out.println(decrypted);\r\n        }\r\n    }","title":"Java Caesar Cipher, use 2 keys","body":"<p>Encrypt the following phrase with the algorithm described for using two Caesar Cipher keys, with key1 = 8 and key2 = 21.</p>\n\n<p>At noon be in the conference room with your hat on for a surprise party. YELL LOUD!</p>\n\n<p>What is the encrypted string?</p>\n\n<p>(Note: Your encrypted string should preserve spacing and punctuation.)</p>\n\n<p>The original input is </p>\n\n<p>At noon be in the conference room with your hat on for a surprise party. YELL LOUD!</p>\n\n<p>The desired result is </p>\n\n<p>io iwjv jz dv bcm kjvammmikz mwju edbc twpz pvb wi awm v ncmxmqnm xvzog. tmgt tjcy!</p>\n\n<p>I am not able to write the correct Java code for this problem. Please help, thank you very much!</p>\n\n<p>My code is </p>\n\n<pre><code>import edu.duke.*;\n\npublic class CaesarCipher {\n    public String encrypt(String input, int key1, int key2) {\n        //Make a StringBuilder with message (encrypted)\n        StringBuilder encrypted = new StringBuilder(input);\n        //Write down the alphabet\n        String checker = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n        String alphabet = checker.toLowerCase();\n        //Compute the shifted alphabet\n        String shiftedAlphabet1 = alphabet.substring(key1)+\n        alphabet.substring(0,key1);\n        String shiftedAlphabet2 = alphabet.substring(key2) + alphabet.substring(0,key2);\n        //Count from 0 to &lt; length of encrypted, (call it i)\n        for(int i = 0; i &lt; encrypted.length(); i+=2) {\n            //Look at the ith character of encrypted (call it currChar)\n            char currChar1 = encrypted.charAt(i);\n            int j = i+1;\n            char currChar2 = encrypted.charAt(j);\n            //Find the index of currChar in the alphabet (call it idx)\n            int idx1 = alphabet.indexOf(currChar1);\n            int idx2 = alphabet.indexOf(currChar2);\n            //If currChar is in the alphabet\n            if(idx1 != -1){\n                //Get the idxth character of shiftedAlphabet (newChar)\n                char newChar1 = shiftedAlphabet1.charAt(idx1);\n                encrypted.setCharAt(i, newChar1);\n\n                char newChar2 = shiftedAlphabet2.charAt(idx2);\n                encrypted.setCharAt(j, newChar2);\n                }\n                //Replace the ith character of encrypted with newChar\n\n            }\n            //Otherwise: do nothing\n        }\n        //Your answer is the String inside of encrypted\n        return encrypted.toString();\n    }\n    public void testCaesar() {\n        int key1 = 8;\n        int key2 = 21;\n        FileResource fr = new FileResource();\n        String messagechecker = 'At noon be in the conference room with your hat on for a surprise party. YELL LOUD!';\n        String message = messagechecker.toLowerCase();\n        String encrypted = encrypt(message, key1, key2);\n        System.out.println(encrypted);\n        String decrypted = encrypt(encrypted, 26-key1,26-key2);\n        System.out.println(decrypted);\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2307770,"reputation":171,"user_id":2026680,"accept_rate":70,"display_name":"OcelotcR"},"score":0,"creation_date":1515073553,"post_id":48096609,"comment_id":83168057,"body_markdown":"Well, you just change imageFileName to what you want, or pass in a paramater to it?","body":"Well, you just change imageFileName to what you want, or pass in a paramater to it?"},{"owner":{"account_id":12329277,"reputation":69,"user_id":8995866,"accept_rate":57,"display_name":"Medhat Khalifa"},"score":0,"creation_date":1515073879,"post_id":48096609,"comment_id":83168261,"body_markdown":"already I passed the needed file name to File.createTempFile  ,  but it add random number after the input file name","body":"already I passed the needed file name to File.createTempFile  ,  but it add random number after the input file name"},{"owner":{"account_id":8393641,"reputation":850,"user_id":6301562,"display_name":"dawis11"},"score":0,"creation_date":1570391329,"post_id":48096609,"comment_id":102890089,"body_markdown":"Possible duplicate of [How to create a temp file in java without the random number appended to the filename?](https://stackoverflow.com/questions/9594886/how-to-create-a-temp-file-in-java-without-the-random-number-appended-to-the-file)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/9594886/how-to-create-a-temp-file-in-java-without-the-random-number-appended-to-the-file\">How to create a temp file in java without the random number appended to the filename?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1851318,"reputation":6677,"user_id":1677824,"accept_rate":83,"display_name":"Akhil"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1515074563,"creation_date":1515074563,"answer_id":48096915,"question_id":48096609,"body_markdown":"You can not do this with `File.createTempFile()`, [Below is from documentation][1] \r\n&gt; File createTempFile (String\r\n&gt; prefix, \r\n&gt;                 String suffix, \r\n&gt;                 File directory) Creates a new empty file in the specified directory, using the given prefix and suffix strings to\r\n&gt; generate its name. If this method returns successfully then it is\r\n&gt; guaranteed that:\r\n&gt; \r\n&gt; The file denoted by the returned abstract pathname did not exist\r\n&gt; before this method was invoked, and Neither this method nor any of its\r\n&gt; variants will return the same abstract pathname again in the current\r\n&gt; invocation of the virtual machine.\r\n\r\n\r\nHowever you can use `File(String pathname)` for creating a file with specified name and path, not to forget you will need [WRITE_EXTERNAL_STORAGE][2] if you writing to external storage\r\n\r\n\r\n&gt; Creates a new File instance by converting the given pathname string\r\n&gt; into an abstract pathname.\r\n\r\n\r\n\r\n  [1]: https://developer.android.com/reference/java/io/File.html#createTempFile(java.lang.String,%20java.lang.String,%20java.io.File)\r\n  [2]: https://developer.android.com/reference/android/Manifest.permission.html#WRITE_EXTERNAL_STORAGE","title":"Create Temp File with specific name","body":"<p>You can not do this with <code>File.createTempFile()</code>, <a href=\"https://developer.android.com/reference/java/io/File.html#createTempFile(java.lang.String,%20java.lang.String,%20java.io.File)\" rel=\"nofollow noreferrer\">Below is from documentation</a> </p>\n\n<blockquote>\n  <p>File createTempFile (String\n  prefix, \n                  String suffix, \n                  File directory) Creates a new empty file in the specified directory, using the given prefix and suffix strings to\n  generate its name. If this method returns successfully then it is\n  guaranteed that:</p>\n  \n  <p>The file denoted by the returned abstract pathname did not exist\n  before this method was invoked, and Neither this method nor any of its\n  variants will return the same abstract pathname again in the current\n  invocation of the virtual machine.</p>\n</blockquote>\n\n<p>However you can use <code>File(String pathname)</code> for creating a file with specified name and path, not to forget you will need <a href=\"https://developer.android.com/reference/android/Manifest.permission.html#WRITE_EXTERNAL_STORAGE\" rel=\"nofollow noreferrer\">WRITE_EXTERNAL_STORAGE</a> if you writing to external storage</p>\n\n<blockquote>\n  <p>Creates a new File instance by converting the given pathname string\n  into an abstract pathname.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":12368064,"reputation":843,"user_id":9019332,"display_name":"global_warming"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515135588,"creation_date":1515135588,"answer_id":48108698,"question_id":48096609,"body_markdown":"In your case use this if you want to store file with specific name:\r\n    \r\n    File image = new File(\r\n            storageDir1 , \r\n            imageFileName + \r\n            &quot;.jpg&quot;\r\n    );","title":"Create Temp File with specific name","body":"<p>In your case use this if you want to store file with specific name:</p>\n\n<pre><code>File image = new File(\n        storageDir1 , \n        imageFileName + \n        \".jpg\"\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8201651,"reputation":1736,"user_id":6172826,"display_name":"seunggabi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699689279,"creation_date":1699689279,"answer_id":77464295,"question_id":48096609,"body_markdown":"### use /tmp/{fileName}\r\n```\r\nFile tempFile = new File(\r\n    &quot;/tmp/&quot;,\r\n    fileName\r\n);\r\n```\r\n","title":"Create Temp File with specific name","body":"<h3>use /tmp/{fileName}</h3>\n<pre><code>File tempFile = new File(\n    &quot;/tmp/&quot;,\n    fileName\n);\n</code></pre>\n"}],"owner":{"account_id":12329277,"reputation":69,"user_id":8995866,"accept_rate":57,"display_name":"Medhat Khalifa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7972,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1699689279,"creation_date":1515073391,"question_id":48096609,"body_markdown":"I need to create Temp `File` with specific name without Random Number and if there are no solutions, How can I rename the generate file in `Internal storage `\r\n\r\n    private File createImageFile() throws IOException {\r\n \r\n        //storageDir.mkdirs();\r\n        String imageFileName = Integer.toString(ImgCount)+&quot;temp&quot;;\r\n        File storageDir1= getExternalFilesDir(Environment.DIRECTORY_PICTURES+ImgDir);\r\n        File image = File.createTempFile(\r\n                imageFileName,  /* prefix */\r\n                &quot;.jpg&quot;,         /* suffix */\r\n                storageDir1     /* directory */\r\n        );\r\n\r\n        mCurrentPhotoPath = image.getAbsolutePath();\r\n        return image;\r\n    }\r\n\r\nthe create file is saved like this \r\n`/storage/emulated/0/Android/data/....../**1temp1004505332.jpg**`","title":"Create Temp File with specific name","body":"<p>I need to create Temp <code>File</code> with specific name without Random Number and if there are no solutions, How can I rename the generate file in <code>Internal storage</code></p>\n\n<pre><code>private File createImageFile() throws IOException {\n\n    //storageDir.mkdirs();\n    String imageFileName = Integer.toString(ImgCount)+\"temp\";\n    File storageDir1= getExternalFilesDir(Environment.DIRECTORY_PICTURES+ImgDir);\n    File image = File.createTempFile(\n            imageFileName,  /* prefix */\n            \".jpg\",         /* suffix */\n            storageDir1     /* directory */\n    );\n\n    mCurrentPhotoPath = image.getAbsolutePath();\n    return image;\n}\n</code></pre>\n\n<p>the create file is saved like this \n<code>/storage/emulated/0/Android/data/....../**1temp1004505332.jpg**</code></p>\n"},{"tags":["java","excel","image","cell","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":41845,"reputation":792,"user_id":121735,"display_name":"liya"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1264485483,"creation_date":1264485483,"answer_id":2137728,"question_id":2135586,"body_markdown":"There is no images cells in Excel,you need to add the images to the worksheet.\r\n\r\n\r\n    HSSFWorkbook workbook;        \r\n    workbook.addPicture(pngData, HSSFWorkbook.PICTURE_TYPE_PNG);","title":"Is there a way to add an image to a Cell using the POI Api?","body":"<p>There is no images cells in Excel,you need to add the images to the worksheet.</p>\n\n<pre><code>HSSFWorkbook workbook;        \nworkbook.addPicture(pngData, HSSFWorkbook.PICTURE_TYPE_PNG);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29808352,"reputation":1,"user_id":22844375,"display_name":"Furqan Ahmed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699688521,"creation_date":1699688521,"answer_id":77464261,"question_id":2135586,"body_markdown":"This is how I add an image to Excel workbook using Apache POI\r\n\r\n    try {\r\n        \t\tInputStream imageStream = new FileInputStream(image.getFile());\r\n        \t\tbyte[] imageBytes = IOUtils.toByteArray(imageStream);\r\n        \t\tString extension = DocumentUtil.getFileExtension(image.getFile().getAbsolutePath());\r\n        \t\tint pictureTypeId = getWorkbookPictureTypeId(extension);\r\n        \t\tint pictureId = workbook.addPicture(imageBytes, pictureTypeId);\r\n        \t\tXSSFDrawing drawing = (XSSFDrawing) sheet.createDrawingPatriarch();\r\n        \t\tXSSFClientAnchor imageAnchor = new XSSFClientAnchor();\r\n        \t\timageAnchor.setCol1(cell.getColumnIndex());\r\n        \t\timageAnchor.setCol2(cell.getColumnIndex()+1);\r\n        \t\timageAnchor.setRow1(cell.getRowIndex());\r\n        \t\timageAnchor.setRow2(cell.getRowIndex()+1);\r\n        \t\t\r\n        \t\tXSSFPicture excelImage = drawing.createPicture(imageAnchor, pictureId);\r\n        \t\t\r\n        \t\t//get image width and height to adjust the cell row.\r\n        \t\tDouble height = excelImage.getImageDimension().getHeight();\r\n        \t\tshort heightInShort = height.shortValue();\r\n        \t\tshort EmuUnitInShort = image.getHeight().shortValue();\r\n        \t\tcell.getRow().setHeight((short)(heightInShort*EmuUnitInShort));\r\n        \t} catch(Exception e) {\r\n        \t\tlog.error(e.getMessage(), e);\r\n        \t}","title":"Is there a way to add an image to a Cell using the POI Api?","body":"<p>This is how I add an image to Excel workbook using Apache POI</p>\n<pre><code>try {\n            InputStream imageStream = new FileInputStream(image.getFile());\n            byte[] imageBytes = IOUtils.toByteArray(imageStream);\n            String extension = DocumentUtil.getFileExtension(image.getFile().getAbsolutePath());\n            int pictureTypeId = getWorkbookPictureTypeId(extension);\n            int pictureId = workbook.addPicture(imageBytes, pictureTypeId);\n            XSSFDrawing drawing = (XSSFDrawing) sheet.createDrawingPatriarch();\n            XSSFClientAnchor imageAnchor = new XSSFClientAnchor();\n            imageAnchor.setCol1(cell.getColumnIndex());\n            imageAnchor.setCol2(cell.getColumnIndex()+1);\n            imageAnchor.setRow1(cell.getRowIndex());\n            imageAnchor.setRow2(cell.getRowIndex()+1);\n            \n            XSSFPicture excelImage = drawing.createPicture(imageAnchor, pictureId);\n            \n            //get image width and height to adjust the cell row.\n            Double height = excelImage.getImageDimension().getHeight();\n            short heightInShort = height.shortValue();\n            short EmuUnitInShort = image.getHeight().shortValue();\n            cell.getRow().setHeight((short)(heightInShort*EmuUnitInShort));\n        } catch(Exception e) {\n            log.error(e.getMessage(), e);\n        }\n</code></pre>\n"}],"owner":{"account_id":79529,"reputation":449,"user_id":225436,"accept_rate":60,"display_name":"Thiago Valle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1384,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":2137728,"answer_count":2,"score":0,"last_activity_date":1699688521,"creation_date":1264453181,"question_id":2135586,"body_markdown":"I&#39;m making an application that converts our data structure to an excel file. We&#39;re currently using POI to do the conversion.\r\n\r\nThe problem is that the Cell only supports Strings, Numbers and formulas, and our data structure supports images. Is there a way to add images to cells?","title":"Is there a way to add an image to a Cell using the POI Api?","body":"<p>I'm making an application that converts our data structure to an excel file. We're currently using POI to do the conversion.</p>\n\n<p>The problem is that the Cell only supports Strings, Numbers and formulas, and our data structure supports images. Is there a way to add images to cells?</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":1,"creation_date":1699643041,"post_id":77462115,"comment_id":136562168,"body_markdown":"Don&#39;t know about correct, but with `n&lt;=20` even extreme brute force is feasible. Backtrack through all the possible pairings?","body":"Don&#39;t know about correct, but with <code>n&lt;=20</code> even extreme brute force is feasible. Backtrack through all the possible pairings?"},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":1,"creation_date":1699643313,"post_id":77462115,"comment_id":136562204,"body_markdown":"Or sligthly less bruteforcy and probably still correct - find the pair with the highest gcd, remove, repeat.","body":"Or sligthly less bruteforcy and probably still correct - find the pair with the highest gcd, remove, repeat."},{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1699646626,"post_id":77462115,"comment_id":136562611,"body_markdown":"Irrelevant to the question, but for coding style, I recommend always using curly braces even if it&#39;s only one line: `if(shouldDoStuff){ doStuff }`. It makes intention unambiguous. Omitting them _will_ come back to bite you eventually.","body":"Irrelevant to the question, but for coding style, I recommend always using curly braces even if it&#39;s only one line: <code>if(shouldDoStuff){ doStuff }</code>. It makes intention unambiguous. Omitting them <i>will</i> come back to bite you eventually."},{"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"score":2,"creation_date":1699651230,"post_id":77462115,"comment_id":136563189,"body_markdown":"@teapot418 Counterexample to the greedy algorithm: `[3, 4, 15, 20]`. Greedy chooses gcd(15,20) then gcd(3,4) for a total of 6. But the correct answer is gcd(3,15) and gcd(4,20) for a total of 7.","body":"@teapot418 Counterexample to the greedy algorithm: <code>[3, 4, 15, 20]</code>. Greedy chooses gcd(15,20) then gcd(3,4) for a total of 6. But the correct answer is gcd(3,15) and gcd(4,20) for a total of 7."},{"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"score":0,"creation_date":1699661210,"post_id":77462115,"comment_id":136564056,"body_markdown":"I&#39;d go with a bottom up dynamic programming approach. The subproblems can be represented by a 20-bit number where a 0 bit means a number that hasn&#39;t been used yet, and a 1 bit means the number has been used. There are half a million subproblems to solve.","body":"I&#39;d go with a bottom up dynamic programming approach. The subproblems can be represented by a 20-bit number where a 0 bit means a number that hasn&#39;t been used yet, and a 1 bit means the number has been used. There are half a million subproblems to solve."},{"owner":{"account_id":17772156,"reputation":362,"user_id":12905411,"display_name":"technotigr"},"score":0,"creation_date":1699662701,"post_id":77462115,"comment_id":136564152,"body_markdown":"@user3386109, can you show the pseudo-code for the dynamic programming approach?","body":"@user3386109, can you show the pseudo-code for the dynamic programming approach?"},{"owner":{"account_id":17772156,"reputation":362,"user_id":12905411,"display_name":"technotigr"},"score":0,"creation_date":1699662771,"post_id":77462115,"comment_id":136564155,"body_markdown":"@teapot418, I tried the approach `find the pair with the highest gcd, remove, repeat` it worked for only few inputs and fails for case mentioned by  \nuser3386109","body":"@teapot418, I tried the approach <code>find the pair with the highest gcd, remove, repeat</code> it worked for only few inputs and fails for case mentioned by   user3386109"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699688684,"post_id":77462115,"comment_id":136565482,"body_markdown":"@user3386109 that *information* is not enough - there is more than one possibility (3?) to create two pairs given 4 numbers","body":"@user3386109 that <i>information</i> is not enough - there is more than one possibility (3?) to create two pairs given 4 numbers"},{"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"score":0,"creation_date":1699688848,"post_id":77462115,"comment_id":136565489,"body_markdown":"@user3386109, I question whether dynamic programming can be used here, based on my understanding of the problem. If you believe it can you need to flesh out the details, preferably in an answer. DP depends on the &quot;principal of optimality&quot; being satisfied. In a nutshell, it means once you arrive in a certain state S, the optimal solution when traversing from S to an end state does not depend on how you reached S; hence, the concept of state variables. What do you see as the state variables?","body":"@user3386109, I question whether dynamic programming can be used here, based on my understanding of the problem. If you believe it can you need to flesh out the details, preferably in an answer. DP depends on the &quot;principal of optimality&quot; being satisfied. In a nutshell, it means once you arrive in a certain state S, the optimal solution when traversing from S to an end state does not depend on how you reached S; hence, the concept of state variables. What do you see as the state variables?"},{"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"score":0,"creation_date":1699691216,"post_id":77462115,"comment_id":136565620,"body_markdown":"@CarySwoveland DP depends on identifying common subproblems, and solving each subproblem exactly once. For example, consider an input array with 20 elements. If we begin by pairing element 1 with 2, and element 3 with 4, then that leaves the subproblem of finding the best pairings for the remaining 16 elements. OTOH, if we start with pairs [1,3],[2,4], or [1,4],[2,3], then we&#39;ll get a different partial sum for the first four elements, and we&#39;re left with the exact same subproblem (finding the best sum for the remaining 16 elements).","body":"@CarySwoveland DP depends on identifying common subproblems, and solving each subproblem exactly once. For example, consider an input array with 20 elements. If we begin by pairing element 1 with 2, and element 3 with 4, then that leaves the subproblem of finding the best pairings for the remaining 16 elements. OTOH, if we start with pairs [1,3],[2,4], or [1,4],[2,3], then we&#39;ll get a different partial sum for the first four elements, and we&#39;re left with the exact same subproblem (finding the best sum for the remaining 16 elements)."},{"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"score":0,"creation_date":1699693398,"post_id":77462115,"comment_id":136565774,"body_markdown":"@user3386109, doesn&#39;t that amount to smart enumeration, by using information obtained when solving for `[1,3],[2,4]` when dealing with `[1,4],[2,3]`, but what does that have to do with dynamic programming? Again, I encourge you to put up a DP solution. If it works it would be great.","body":"@user3386109, doesn&#39;t that amount to smart enumeration, by using information obtained when solving for <code>[1,3],[2,4]</code> when dealing with <code>[1,4],[2,3]</code>, but what does that have to do with dynamic programming? Again, I encourge you to put up a DP solution. If it works it would be great."},{"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"score":0,"creation_date":1699694172,"post_id":77462115,"comment_id":136565818,"body_markdown":"From [this article](https://en.wikipedia.org/wiki/Dynamic_programming), dynamic programming *&quot;refers to simplifying a complicated problem by breaking it down into simpler sub-problems&quot;*. And yes, you could call that smart enumeration if you want.","body":"From <a href=\"https://en.wikipedia.org/wiki/Dynamic_programming\" rel=\"nofollow noreferrer\">this article</a>, dynamic programming <i>&quot;refers to simplifying a complicated problem by breaking it down into simpler sub-problems&quot;</i>. And yes, you could call that smart enumeration if you want."}],"answers":[{"comments":[{"owner":{"account_id":13238661,"reputation":554,"user_id":9559946,"display_name":"Kryštof Vosyka"},"score":0,"creation_date":1699658837,"post_id":77462574,"comment_id":136563883,"body_markdown":"OP didn&#39;t specify that elements may not repeat in the array. The code currently fails for array [5,5] (should return 5, but your code returns 0)","body":"OP didn&#39;t specify that elements may not repeat in the array. The code currently fails for array [5,5] (should return 5, but your code returns 0)"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1699661431,"post_id":77462574,"comment_id":136564077,"body_markdown":"@KryštofVosyka, you should write an answer!","body":"@KryštofVosyka, you should write an answer!"},{"owner":{"account_id":13238661,"reputation":554,"user_id":9559946,"display_name":"Kryštof Vosyka"},"score":0,"creation_date":1699666961,"post_id":77462574,"comment_id":136564446,"body_markdown":"@Reilas You beat me to it.","body":"@Reilas You beat me to it."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1699669785,"post_id":77462574,"comment_id":136564571,"body_markdown":"@KryštofVosyka, I thought it was incorrect?","body":"@KryštofVosyka, I thought it was incorrect?"},{"owner":{"account_id":13238661,"reputation":554,"user_id":9559946,"display_name":"Kryštof Vosyka"},"score":0,"creation_date":1699670596,"post_id":77462574,"comment_id":136564622,"body_markdown":"Yes, it still is incorrect. But I&#39;ve written an answer :-)","body":"Yes, it still is incorrect. But I&#39;ve written an answer :-)"}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":5,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1699658434,"creation_date":1699646326,"answer_id":77462574,"question_id":77462115,"body_markdown":"Calculate the _greatest common factor_ of all pairs, and _sum_ the values.\r\n\r\nHere is an example.\r\n\r\n```java\r\nint solve(int[] ar) {\r\n    Set&lt;Integer&gt; s = new HashSet&lt;&gt;();\r\n    for (int a : ar)\r\n        for (int b : ar) {\r\n            if (a == b) continue;\r\n            s.add(gcd(a, b));\r\n        }\r\n    return s.stream().mapToInt(x -&gt; x).sum();\r\n}\r\n```\r\n\r\nAlternately, use a _stream_.\r\n\r\n```java\r\nint solve(int[] ar) {\r\n    return Arrays.stream(ar)\r\n                 .flatMap(x -&gt; Arrays.stream(ar)\r\n                                     .map(y -&gt; x == y ? 0 : gcd(x, y)))\r\n                 .distinct()\r\n                 .sum();\r\n}\r\n```","title":"Find GCD pairs for given array","body":"<p>Calculate the <em>greatest common factor</em> of all pairs, and <em>sum</em> the values.</p>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int solve(int[] ar) {\n    Set&lt;Integer&gt; s = new HashSet&lt;&gt;();\n    for (int a : ar)\n        for (int b : ar) {\n            if (a == b) continue;\n            s.add(gcd(a, b));\n        }\n    return s.stream().mapToInt(x -&gt; x).sum();\n}\n</code></pre>\n<p>Alternately, use a <em>stream</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int solve(int[] ar) {\n    return Arrays.stream(ar)\n                 .flatMap(x -&gt; Arrays.stream(ar)\n                                     .map(y -&gt; x == y ? 0 : gcd(x, y)))\n                 .distinct()\n                 .sum();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"score":0,"creation_date":1699688289,"post_id":77463618,"comment_id":136565455,"body_markdown":"The can be thought of as a &quot;greedy&quot; heuristic algorithm. The problem is that you have no way of measuring the quality of the solutions it produces; i.e., by how much the value your solution might deviate from the optimal value. That problem is shared, of course, with most heuristics for optimization problems. The exceptions are heuristics for certain problems that provide upper bounds on the difference between the values for solutions generated and the (unknown) optimal value. I don&#39;t see how such bounds might be calculated for this problem.","body":"The can be thought of as a &quot;greedy&quot; heuristic algorithm. The problem is that you have no way of measuring the quality of the solutions it produces; i.e., by how much the value your solution might deviate from the optimal value. That problem is shared, of course, with most heuristics for optimization problems. The exceptions are heuristics for certain problems that provide upper bounds on the difference between the values for solutions generated and the (unknown) optimal value. I don&#39;t see how such bounds might be calculated for this problem."},{"owner":{"account_id":13238661,"reputation":554,"user_id":9559946,"display_name":"Kryštof Vosyka"},"score":1,"creation_date":1699691286,"post_id":77463618,"comment_id":136565625,"body_markdown":"@Cary Swoveland I&#39;d be happily proved wrong, however my code should visit every possible **set** of pairs of numbers and select the one with highest value. Can you provide reasoning or ideally counterexample that proves my code wrong?","body":"@Cary Swoveland I&#39;d be happily proved wrong, however my code should visit every possible <b>set</b> of pairs of numbers and select the one with highest value. Can you provide reasoning or ideally counterexample that proves my code wrong?"},{"owner":{"account_id":13238661,"reputation":554,"user_id":9559946,"display_name":"Kryštof Vosyka"},"score":0,"creation_date":1699692376,"post_id":77463618,"comment_id":136565706,"body_markdown":"My code (should) be correct by induction, even if awfully inefficient. Two-element array is obviously correct, for four-element array we take all the (eight) possible pairs, for each compute GDC of both the pair and remaining array, then choose the best score.","body":"My code (should) be correct by induction, even if awfully inefficient. Two-element array is obviously correct, for four-element array we take all the (eight) possible pairs, for each compute GDC of both the pair and remaining array, then choose the best score."},{"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"score":1,"creation_date":1699727687,"post_id":77463618,"comment_id":136568939,"body_markdown":"@KryštofVosyka Your code is correct. As you stated, it tries every possible set of pairs. The code in edit is brilliant! It still tries every possible set of pairs, but does so much more efficiently than the original code.","body":"@KryštofVosyka Your code is correct. As you stated, it tries every possible set of pairs. The code in edit is brilliant! It still tries every possible set of pairs, but does so much more efficiently than the original code."}],"tags":[],"owner":{"account_id":13238661,"reputation":554,"user_id":9559946,"display_name":"Kryštof Vosyka"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699676491,"creation_date":1699666946,"answer_id":77463618,"question_id":77462115,"body_markdown":"We can recursively search all possible ways to compute total GCD. How?\r\n\r\nIf the array contains just two elements, we can just return GCD of it&#39;s two elements.\r\n\r\nIf it contains more, let&#39;s iterate over all the pairs of values. For each pair, we compute it&#39;s GCD, and we also call our function recursively with a copy of the array with the two values removed. If we add the result of both computations together, we get a total GCD for our currently selected pair of values.\r\n\r\nNow we just keep track of the best GCD we found so far, and return it at the end.\r\n\r\nHere is code that (should) do exactly that.\r\n\r\n```java\r\nint solve(int[] ar) {\r\n  // If we have only two elements, there&#39;s not much else we can do.\r\n  if(ar.length == 2) {\r\n    return gcd(ar[0], ar[1]);\r\n  }\r\n\r\n  //Keep track of the largest GCD\r\n  int best = 0;\r\n  \r\n  // for every pair of values in the array\r\n  //  make a copy of the array without the pair and call recursively\r\n  for(int i = 0; i &lt; ar.length; i++) {\r\n    for(int j = i + 1; j &lt; ar.length; j++) {\r\n      \r\n      int score = gcd(ar[i], ar[j]);\r\n      \r\n      // Make a copy\r\n      int[] ar2 = new int[ar.length - 2];\r\n      int copy_k = 0;\r\n      for(int k=0; k &lt; ar.length; k++) {\r\n        // Skip values that we already visited\r\n        if(k == i || k == j) {\r\n          continue;\r\n        }\r\n        \r\n        ar2[copy_k] = ar[k];\r\n        copy_k += 1;\r\n      }\r\n      \r\n      // Call recursively\r\n      score += solve(ar2);\r\n      \r\n      if(score &gt; best) // We found a better pair\r\n        best = score;\r\n    }\r\n  }\r\n  \r\n  return best;\r\n}\r\n```\r\n\r\nThis algorithm is quite slow. If you need to speed it up, there are at least two areas of possible improvement:\r\n * Computing GCD is an expensive operation. *Pre-computing GCD for all possible unique pairs of values and storing them in a hashmap would eliminate double-computing.*\r\n * It checks some possible permutations multiple times. (e.g. selecting first pair and then second pair in the next recursion is the same as selecting second pair and then first) *I have some vague idea on how to solve that, but it&#39;s too late in the night today, sorry.*\r\n\r\n**It is very likely that faster algorithm exists, this is just from the top of my head.**\r\n\r\n**Edit**: Well, after some sleep, it dawned on me. If we omit the outer loop when creating pairs, we won&#39;t get any duplicate ordering of pairs. Basically just replacing `i` with 0 everywhere, like so:\r\n```java\r\nfor(int j = 1; j &lt; ar.length; j++) {\r\n    \r\n  int score = gcd(ar[0], ar[j]);\r\n  \r\n  // Make a copy\r\n  int[] ar2 = new int[ar.length - 2];\r\n  int copy_k = 0;\r\n  for(int k=1; k &lt; ar.length; k++) {\r\n    // Skip values that we already visited\r\n    if(k == j) {\r\n      continue;\r\n    }\r\n    \r\n    ar2[copy_k] = ar[k];\r\n    copy_k += 1;\r\n  }\r\n}\r\n\r\n```","title":"Find GCD pairs for given array","body":"<p>We can recursively search all possible ways to compute total GCD. How?</p>\n<p>If the array contains just two elements, we can just return GCD of it's two elements.</p>\n<p>If it contains more, let's iterate over all the pairs of values. For each pair, we compute it's GCD, and we also call our function recursively with a copy of the array with the two values removed. If we add the result of both computations together, we get a total GCD for our currently selected pair of values.</p>\n<p>Now we just keep track of the best GCD we found so far, and return it at the end.</p>\n<p>Here is code that (should) do exactly that.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int solve(int[] ar) {\n  // If we have only two elements, there's not much else we can do.\n  if(ar.length == 2) {\n    return gcd(ar[0], ar[1]);\n  }\n\n  //Keep track of the largest GCD\n  int best = 0;\n  \n  // for every pair of values in the array\n  //  make a copy of the array without the pair and call recursively\n  for(int i = 0; i &lt; ar.length; i++) {\n    for(int j = i + 1; j &lt; ar.length; j++) {\n      \n      int score = gcd(ar[i], ar[j]);\n      \n      // Make a copy\n      int[] ar2 = new int[ar.length - 2];\n      int copy_k = 0;\n      for(int k=0; k &lt; ar.length; k++) {\n        // Skip values that we already visited\n        if(k == i || k == j) {\n          continue;\n        }\n        \n        ar2[copy_k] = ar[k];\n        copy_k += 1;\n      }\n      \n      // Call recursively\n      score += solve(ar2);\n      \n      if(score &gt; best) // We found a better pair\n        best = score;\n    }\n  }\n  \n  return best;\n}\n</code></pre>\n<p>This algorithm is quite slow. If you need to speed it up, there are at least two areas of possible improvement:</p>\n<ul>\n<li>Computing GCD is an expensive operation. <em>Pre-computing GCD for all possible unique pairs of values and storing them in a hashmap would eliminate double-computing.</em></li>\n<li>It checks some possible permutations multiple times. (e.g. selecting first pair and then second pair in the next recursion is the same as selecting second pair and then first) <em>I have some vague idea on how to solve that, but it's too late in the night today, sorry.</em></li>\n</ul>\n<p><strong>It is very likely that faster algorithm exists, this is just from the top of my head.</strong></p>\n<p><strong>Edit</strong>: Well, after some sleep, it dawned on me. If we omit the outer loop when creating pairs, we won't get any duplicate ordering of pairs. Basically just replacing <code>i</code> with 0 everywhere, like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(int j = 1; j &lt; ar.length; j++) {\n    \n  int score = gcd(ar[0], ar[j]);\n  \n  // Make a copy\n  int[] ar2 = new int[ar.length - 2];\n  int copy_k = 0;\n  for(int k=1; k &lt; ar.length; k++) {\n    // Skip values that we already visited\n    if(k == j) {\n      continue;\n    }\n    \n    ar2[copy_k] = ar[k];\n    copy_k += 1;\n  }\n}\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699688893,"post_id":77464149,"comment_id":136565491,"body_markdown":"&quot;*Most languages provide a method or function to compute each positive integer&#39;s* prime factorization.&quot; -&gt; so Java - the question is marked with that tag - is not one of &quot;Most languages&quot; :-(  at least I do not know that method in the standard library","body":"&quot;<i>Most languages provide a method or function to compute each positive integer&#39;s</i> prime factorization.&quot; -&gt; so Java - the question is marked with that tag - is not one of &quot;Most languages&quot; :-(  at least I do not know that method in the standard library"},{"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"score":0,"creation_date":1699689726,"post_id":77464149,"comment_id":136565538,"body_markdown":"@user85421, then I guess for Java one would have to [roll their own](https://www.geeksforgeeks.org/java-program-for-efficiently-print-all-prime-factors-of-a-given-number/), which would not be difficult.","body":"@user85421, then I guess for Java one would have to <a href=\"https://www.geeksforgeeks.org/java-program-for-efficiently-print-all-prime-factors-of-a-given-number/\" rel=\"nofollow noreferrer\">roll their own</a>, which would not be difficult."}],"tags":[],"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699688172,"creation_date":1699685004,"answer_id":77464149,"question_id":77462115,"body_markdown":"**WARNING: There is no free lunch!**\r\n\r\n**The problem**\r\n\r\nI understand that, given an array containing an even number of positive integers, the problem can viewed as first partitioning the array into two equal-size arrays, then establishing a 1-1 mapping between those two arrays, after which the GCDs of all mapped pairs are computed and summed. The objective is to find a partition and subsequent 1-1 mapping that yields the smallest sum of GDCs.\r\n\r\n**Illustrative array**\r\n\r\nSuppose the given array is as follows.\r\n\r\n    arr = [317, 29, 355, 388, 214, 375, 186, 301, 374, 323]\r\n\r\n**Prime factorization**\r\n\r\nMost languages provide a method or function to compute each positive integer&#39;s *prime factorization*. For example, the prime factorization of `388` can be found to equal `(2^2)*(97^1)`, where `2` and `97` are primes. This can be represented by the array `[[2,2], [97,1]]` where each element is comprised of a prime and its exponent.\r\n\r\nIf we compute the prime factorization for each element of `arr` we may construct a hash (a.k.a hash table, dictionary) such as the following.\r\n\r\n    PF = {\r\n      317=&gt;[[317, 1]],\r\n       29=&gt;[[29, 1]],\r\n      355=&gt;[[5, 1], [71, 1]],\r\n      388=&gt;[[2, 2], [97, 1]],\r\n      214=&gt;[[2, 1], [107, 1]],\r\n      375=&gt;[[3, 1], [5, 3]],\r\n      186=&gt;[[2, 1], [3, 1], [31, 1]],\r\n      301=&gt;[[7, 1], [43, 1]],\r\n      374=&gt;[[2, 1], [11, 1], [17, 1]],\r\n      323=&gt;[[17, 1], [19, 1]]\r\n    }\r\n\r\nThis allows us to quickly retrieve the prime factorization for any element of  `arr`:\r\n\r\n    PF[388]\r\n      #=&gt;[[2, 2], [97, 1]]\r\n\r\n**Computing GCDs from prime factorizations**\r\n\r\nNext, for any two positive integers, say `108` and `360`, consider how their GCD is computed, given their prime factorizations.\r\n\r\n    PF = { 108=&gt;[[2, 2], [3, 3]], 360=&gt;[[2, 3], [3, 2], [5, 1]] }\r\n\r\nIf we view this as\r\n\r\n    PF = { 108=&gt;[[2, 2], [3, 3], [5, 0]], 360=&gt;[[2, 3], [3, 2], [5, 1]] }\r\n\r\nwe see that the GDC equals\r\n\r\n   2&lt;sup&gt;min{2,3}&lt;/sup&gt; * 3&lt;sup&gt;min{3,2}&lt;/sup&gt; * 5&lt;sup&gt;min{0,1}&lt;/sup&gt; = 2&lt;sup&gt;2&lt;/sup&gt; * 3&lt;sup&gt;2&lt;/sup&gt; * 5&lt;sup&gt;0&lt;/sup&gt; = 4 * 9 * 1 = 36\r\n\r\nWe may now construct a hash that maps each pair of elements of `arr` into their GDC:\r\n\r\n    GDC = {\r\n      [317,29]=&gt;&lt;gdc&gt;, [317,355]=&gt;&lt;gdc&gt;,...,[317,323]=&gt;&lt;gdc&gt;,\r\n      [29,355]=&gt;&lt;gdc&gt;,  [29,355]=&gt;&lt;gdc&gt;,..., [29,323]=&gt;&lt;gdc&gt;,\r\n      ...\r\n      [374,323]=&gt;&lt;gdc&gt; \r\n    }\r\n\r\nNote that since `GDC[[x,y]] == GDC[[y,x]]` we need only compute one-half of the pairs.\r\n\r\n**Partition the given array into equal-size partitions**\r\n\r\nSuppose we partition `arr` into two equal-size arrays. For example,\r\n\r\n    a1 = [375, 355, 186, 323, 29]\r\n    a2 = [317, 388, 214, 301, 374]\r\n\r\n**Solve an assignment problem for each partition**\r\n\r\nFor this partition we wish to find the 1-1 mapping between `a1` and `a2` that minimizes the sum of the (here `5`) GCD&#39;s. This is called an [assignment problem](https://en.wikipedia.org/wiki/Assignment_problem), a type of *linear program* (LP).\r\n\r\nThis can be formulated as an LP with (here 25) variables x&lt;sub&gt;i,j&lt;/sub&gt;, each of which equals `1` if element `a1[i]` is *assigned* to element `a2[j]` and equals `0` otherwise. The model also has (here `5`) constraints that ensure each element of `a1` is assigned to exactly one element of `a2` and (here `5`) constraints that ensure each element `a2` is assigned to exactly one element of `a1`.\r\n\r\nThough LP variables are not restricted to taking on integer values, it is known that the optimal value of each assignment problem variable will equal `0` or `1`.\r\n\r\nEvery assignment problem is characterized by a matrix of *distances*. Here that matrix is `5x5`, each `i,j` element being taken from the GDC hash corresponding to a pair `[a1[i], a2[j])`. The value of a given assignment is the sum of the distances associated with the assignment. The optimal solution is an assignment whose value is minimum over all possible assignments.\r\n\r\nAssignment problems can be solved relatively quickly using either the Simplex Method, a specialized algorithm for the assignment problem alone or another general-purpose LP algorithm.\r\n\r\n**Enumerate partitions of the given array to find an optimum**\r\n\r\nWe now have a way to way to obtain the optimal assignment for each partition of `arr` into two equal-size arrays. If `arr` contains `n` elements there are `n!/((((n/2)!)^2)` such partitions. For the example (for which `n = 10`) that is `252` partitions.\r\n\r\nIt therefore remains to enumerate all such partitions and select one (possibly the only one) for which the optimal value of that associated assignment problem is minimal. For the example we are dealing with we wish to obtain &quot;all combinations of 10 elements taken 5 at a time&quot;:\r\n\r\n    [\r\n      [317, 29, 355, 388, 214],\r\n      [317, 29, 355, 388, 375],\r\n      ...\r\n      [214, 186, 301, 374, 323],\r\n      [375, 186, 301, 374, 323]\r\n    ]\r\n\r\nThese are the `a1` arrays. Each corresponding `a2` array equals `arr - a1(i)`:\r\n\r\n    [\r\n      [[317, 29, 355, 388, 214], [375, 186, 301, 374, 323]],\r\n      [[317, 29, 355, 388, 375], [214, 186, 301, 374, 323]],\r\n      ...\r\n      [[214, 186, 301, 374, 323], [317, 29, 355, 388, 375]],\r\n      [[375, 186, 301, 374, 323], [317, 29, 355, 388, 214]]\r\n    ]\r\n\r\n","title":"Find GCD pairs for given array","body":"<p><strong>WARNING: There is no free lunch!</strong></p>\n<p><strong>The problem</strong></p>\n<p>I understand that, given an array containing an even number of positive integers, the problem can viewed as first partitioning the array into two equal-size arrays, then establishing a 1-1 mapping between those two arrays, after which the GCDs of all mapped pairs are computed and summed. The objective is to find a partition and subsequent 1-1 mapping that yields the smallest sum of GDCs.</p>\n<p><strong>Illustrative array</strong></p>\n<p>Suppose the given array is as follows.</p>\n<pre><code>arr = [317, 29, 355, 388, 214, 375, 186, 301, 374, 323]\n</code></pre>\n<p><strong>Prime factorization</strong></p>\n<p>Most languages provide a method or function to compute each positive integer's <em>prime factorization</em>. For example, the prime factorization of <code>388</code> can be found to equal <code>(2^2)*(97^1)</code>, where <code>2</code> and <code>97</code> are primes. This can be represented by the array <code>[[2,2], [97,1]]</code> where each element is comprised of a prime and its exponent.</p>\n<p>If we compute the prime factorization for each element of <code>arr</code> we may construct a hash (a.k.a hash table, dictionary) such as the following.</p>\n<pre><code>PF = {\n  317=&gt;[[317, 1]],\n   29=&gt;[[29, 1]],\n  355=&gt;[[5, 1], [71, 1]],\n  388=&gt;[[2, 2], [97, 1]],\n  214=&gt;[[2, 1], [107, 1]],\n  375=&gt;[[3, 1], [5, 3]],\n  186=&gt;[[2, 1], [3, 1], [31, 1]],\n  301=&gt;[[7, 1], [43, 1]],\n  374=&gt;[[2, 1], [11, 1], [17, 1]],\n  323=&gt;[[17, 1], [19, 1]]\n}\n</code></pre>\n<p>This allows us to quickly retrieve the prime factorization for any element of  <code>arr</code>:</p>\n<pre><code>PF[388]\n  #=&gt;[[2, 2], [97, 1]]\n</code></pre>\n<p><strong>Computing GCDs from prime factorizations</strong></p>\n<p>Next, for any two positive integers, say <code>108</code> and <code>360</code>, consider how their GCD is computed, given their prime factorizations.</p>\n<pre><code>PF = { 108=&gt;[[2, 2], [3, 3]], 360=&gt;[[2, 3], [3, 2], [5, 1]] }\n</code></pre>\n<p>If we view this as</p>\n<pre><code>PF = { 108=&gt;[[2, 2], [3, 3], [5, 0]], 360=&gt;[[2, 3], [3, 2], [5, 1]] }\n</code></pre>\n<p>we see that the GDC equals</p>\n<p>2<sup>min{2,3}</sup> * 3<sup>min{3,2}</sup> * 5<sup>min{0,1}</sup> = 2<sup>2</sup> * 3<sup>2</sup> * 5<sup>0</sup> = 4 * 9 * 1 = 36</p>\n<p>We may now construct a hash that maps each pair of elements of <code>arr</code> into their GDC:</p>\n<pre><code>GDC = {\n  [317,29]=&gt;&lt;gdc&gt;, [317,355]=&gt;&lt;gdc&gt;,...,[317,323]=&gt;&lt;gdc&gt;,\n  [29,355]=&gt;&lt;gdc&gt;,  [29,355]=&gt;&lt;gdc&gt;,..., [29,323]=&gt;&lt;gdc&gt;,\n  ...\n  [374,323]=&gt;&lt;gdc&gt; \n}\n</code></pre>\n<p>Note that since <code>GDC[[x,y]] == GDC[[y,x]]</code> we need only compute one-half of the pairs.</p>\n<p><strong>Partition the given array into equal-size partitions</strong></p>\n<p>Suppose we partition <code>arr</code> into two equal-size arrays. For example,</p>\n<pre><code>a1 = [375, 355, 186, 323, 29]\na2 = [317, 388, 214, 301, 374]\n</code></pre>\n<p><strong>Solve an assignment problem for each partition</strong></p>\n<p>For this partition we wish to find the 1-1 mapping between <code>a1</code> and <code>a2</code> that minimizes the sum of the (here <code>5</code>) GCD's. This is called an <a href=\"https://en.wikipedia.org/wiki/Assignment_problem\" rel=\"nofollow noreferrer\">assignment problem</a>, a type of <em>linear program</em> (LP).</p>\n<p>This can be formulated as an LP with (here 25) variables x<sub>i,j</sub>, each of which equals <code>1</code> if element <code>a1[i]</code> is <em>assigned</em> to element <code>a2[j]</code> and equals <code>0</code> otherwise. The model also has (here <code>5</code>) constraints that ensure each element of <code>a1</code> is assigned to exactly one element of <code>a2</code> and (here <code>5</code>) constraints that ensure each element <code>a2</code> is assigned to exactly one element of <code>a1</code>.</p>\n<p>Though LP variables are not restricted to taking on integer values, it is known that the optimal value of each assignment problem variable will equal <code>0</code> or <code>1</code>.</p>\n<p>Every assignment problem is characterized by a matrix of <em>distances</em>. Here that matrix is <code>5x5</code>, each <code>i,j</code> element being taken from the GDC hash corresponding to a pair <code>[a1[i], a2[j])</code>. The value of a given assignment is the sum of the distances associated with the assignment. The optimal solution is an assignment whose value is minimum over all possible assignments.</p>\n<p>Assignment problems can be solved relatively quickly using either the Simplex Method, a specialized algorithm for the assignment problem alone or another general-purpose LP algorithm.</p>\n<p><strong>Enumerate partitions of the given array to find an optimum</strong></p>\n<p>We now have a way to way to obtain the optimal assignment for each partition of <code>arr</code> into two equal-size arrays. If <code>arr</code> contains <code>n</code> elements there are <code>n!/((((n/2)!)^2)</code> such partitions. For the example (for which <code>n = 10</code>) that is <code>252</code> partitions.</p>\n<p>It therefore remains to enumerate all such partitions and select one (possibly the only one) for which the optimal value of that associated assignment problem is minimal. For the example we are dealing with we wish to obtain &quot;all combinations of 10 elements taken 5 at a time&quot;:</p>\n<pre><code>[\n  [317, 29, 355, 388, 214],\n  [317, 29, 355, 388, 375],\n  ...\n  [214, 186, 301, 374, 323],\n  [375, 186, 301, 374, 323]\n]\n</code></pre>\n<p>These are the <code>a1</code> arrays. Each corresponding <code>a2</code> array equals <code>arr - a1(i)</code>:</p>\n<pre><code>[\n  [[317, 29, 355, 388, 214], [375, 186, 301, 374, 323]],\n  [[317, 29, 355, 388, 375], [214, 186, 301, 374, 323]],\n  ...\n  [[214, 186, 301, 374, 323], [317, 29, 355, 388, 375]],\n  [[375, 186, 301, 374, 323], [317, 29, 355, 388, 214]]\n]\n</code></pre>\n"}],"owner":{"account_id":17772156,"reputation":362,"user_id":12905411,"display_name":"technotigr"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1699688172,"creation_date":1699640491,"question_id":77462115,"body_markdown":"Given an array of integers of size n, where n is an even number. Pick 2 numbers from the array and find the GCD. Similarly, pick 2 items from the remaining items in the array and find the GCD. Repeat the steps to find the GCD pairs. Sum the GCD values and get the highest sum.\r\n\r\n**constraints:**\r\n\r\n    n is in range 2 to 20\r\n    arr[i] is in range 1 to 10^9\r\n\r\n**Example 1:** \r\n\r\n    arr = [3,4,9,5]\r\n\r\n**Answer:**\r\n\r\n    4\r\n\r\n**Explanation:**\r\n\r\n    a) gcd of (4,5) is 1\r\n    b) gcd of (3,9) is 3\r\n    Sum = 1+3 = 4. This is the highest possible GCD sum.\r\n\r\n\r\n**Example 2:** \r\n\r\n    arr = [1,2,3,4,5,6]\r\n\r\n**Answer:**\r\n\r\n    6\r\n\r\n**Explanation:**\r\n\r\n    a) gcd of (1,5) is 1\r\n    b) gcd of (2,4) is 2\r\n    c) gcd of (3,6) is 3\r\n    Sum = 1+2+3 = 6. This is the highest possible GCD sum.\r\n\r\nThis is my code:\r\n\r\n    public static int solve(int[] ar) {\r\n       int n = ar.length;\r\n       Arrays.sort(ar);\r\n       int sum = 0;\r\n       for(int i=0; i&lt;n/2; i++) {\r\n         int a = ar.get(i), b = ar.get(n-i-1);\r\n         int c = gcd(a,b); \r\n         sum += c;\r\n       }\r\n       return sum;\r\n    }\r\n\r\n    static int gcd(int a, int b)\r\n    {\r\n        // if b=0, a is the GCD\r\n        if (b == 0)\r\n            return a;\r\n \r\n        // call the gcd() method recursively by\r\n        // replacing a with b and b with\r\n        // modulus(a,b) as long as b != 0\r\n        else\r\n            return gcd(b, a % b);\r\n    }\r\n\r\nMy code is working for 1st example and gives the wrong output for the second example. \r\nI have debugged and found that the approach I am using is not correct. What is the correct approach to solve this problem?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Find GCD pairs for given array","body":"<p>Given an array of integers of size n, where n is an even number. Pick 2 numbers from the array and find the GCD. Similarly, pick 2 items from the remaining items in the array and find the GCD. Repeat the steps to find the GCD pairs. Sum the GCD values and get the highest sum.</p>\n<p><strong>constraints:</strong></p>\n<pre><code>n is in range 2 to 20\narr[i] is in range 1 to 10^9\n</code></pre>\n<p><strong>Example 1:</strong></p>\n<pre><code>arr = [3,4,9,5]\n</code></pre>\n<p><strong>Answer:</strong></p>\n<pre><code>4\n</code></pre>\n<p><strong>Explanation:</strong></p>\n<pre><code>a) gcd of (4,5) is 1\nb) gcd of (3,9) is 3\nSum = 1+3 = 4. This is the highest possible GCD sum.\n</code></pre>\n<p><strong>Example 2:</strong></p>\n<pre><code>arr = [1,2,3,4,5,6]\n</code></pre>\n<p><strong>Answer:</strong></p>\n<pre><code>6\n</code></pre>\n<p><strong>Explanation:</strong></p>\n<pre><code>a) gcd of (1,5) is 1\nb) gcd of (2,4) is 2\nc) gcd of (3,6) is 3\nSum = 1+2+3 = 6. This is the highest possible GCD sum.\n</code></pre>\n<p>This is my code:</p>\n<pre><code>public static int solve(int[] ar) {\n   int n = ar.length;\n   Arrays.sort(ar);\n   int sum = 0;\n   for(int i=0; i&lt;n/2; i++) {\n     int a = ar.get(i), b = ar.get(n-i-1);\n     int c = gcd(a,b); \n     sum += c;\n   }\n   return sum;\n}\n\nstatic int gcd(int a, int b)\n{\n    // if b=0, a is the GCD\n    if (b == 0)\n        return a;\n\n    // call the gcd() method recursively by\n    // replacing a with b and b with\n    // modulus(a,b) as long as b != 0\n    else\n        return gcd(b, a % b);\n}\n</code></pre>\n<p>My code is working for 1st example and gives the wrong output for the second example.\nI have debugged and found that the approach I am using is not correct. What is the correct approach to solve this problem?</p>\n"},{"tags":["java","ftp","apache-commons-net"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1564981266,"post_id":57352335,"comment_id":101192517,"body_markdown":"What are you hoping to achieve by doing this?  If you want to close after arbitrary idle time then maybe set  up a timer thread","body":"What are you hoping to achieve by doing this?  If you want to close after arbitrary idle time then maybe set  up a timer thread"}],"answers":[{"comments":[{"owner":{"account_id":15993722,"reputation":67,"user_id":11542190,"display_name":"mgjang"},"score":0,"creation_date":1564983591,"post_id":57352480,"comment_id":101193037,"body_markdown":"Documents show that noop commands are sent to the ftp server via the setControlKeepAliveTimeout (Sec) method to avoid idle states.But the method doesn’t work properly.","body":"Documents show that noop commands are sent to the ftp server via the setControlKeepAliveTimeout (Sec) method to avoid idle states.But the method doesn’t work properly."},{"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1564992748,"post_id":57352480,"comment_id":101196402,"body_markdown":"`setControlKeepAliveTimeout` is not to keep the connection alive when idle. It servers as a workaround for routers that close the seemingly idle control connection during lengthy transfers: *&quot;FTP servers know that the control connection is in use, so won&#39;t close it through lack of activity, but it&#39;s a lot harder for network routers to know that the control and data connections are associated with each other. Some routers may treat the control connection as idle, and disconnect it if the transfer over the data connection takes longer than the allowable idle time for the router.&quot;*","body":"<code>setControlKeepAliveTimeout</code> is not to keep the connection alive when idle. It servers as a workaround for routers that close the seemingly idle control connection during lengthy transfers: <i>&quot;FTP servers know that the control connection is in use, so won&#39;t close it through lack of activity, but it&#39;s a lot harder for network routers to know that the control and data connections are associated with each other. Some routers may treat the control connection as idle, and disconnect it if the transfer over the data connection takes longer than the allowable idle time for the router.&quot;</i>"},{"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1564992758,"post_id":57352480,"comment_id":101196408,"body_markdown":"If you want to keep the connection alive, when really idle, you need to call `sendNoOp` explicitly in regular intervals.","body":"If you want to keep the connection alive, when really idle, you need to call <code>sendNoOp</code> explicitly in regular intervals."}],"tags":[],"owner":{"account_id":3701398,"reputation":116692,"user_id":3081018,"display_name":"Steffen Ullrich"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1564981807,"creation_date":1564981807,"answer_id":57352480,"question_id":57352335,"body_markdown":"The FTP client cannot control the settings of the FTP server. \r\n\r\nBut what you are asking looks more like an [XY problem](https://en.wikipedia.org/wiki/XY_problem) where X is probably that you want to prevent the server to close an idle connection an Y is the idea of a solution you came up with: controlling the servers timeout from the client side. Only, this solution will not work.\r\n\r\nInstead you need to tackle the real reason why the server is closing the connection: because of no activity from the client. This problem can be tackled simply by the client interacting with the server. This way is even [documented](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html). To cite:\r\n\r\n&gt; You should keep in mind that the FTP server may choose to prematurely close a connection if the client has been idle for longer than a given time period (usually 900 seconds). ... You may __avoid server disconnections while the client is idle by periodically sending NOOP commands to the server__.\r\n\r\n","title":"Can the FTP client control FTP server time-out settings?","body":"<p>The FTP client cannot control the settings of the FTP server. </p>\n\n<p>But what you are asking looks more like an <a href=\"https://en.wikipedia.org/wiki/XY_problem\" rel=\"noreferrer\">XY problem</a> where X is probably that you want to prevent the server to close an idle connection an Y is the idea of a solution you came up with: controlling the servers timeout from the client side. Only, this solution will not work.</p>\n\n<p>Instead you need to tackle the real reason why the server is closing the connection: because of no activity from the client. This problem can be tackled simply by the client interacting with the server. This way is even <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html\" rel=\"noreferrer\">documented</a>. To cite:</p>\n\n<blockquote>\n  <p>You should keep in mind that the FTP server may choose to prematurely close a connection if the client has been idle for longer than a given time period (usually 900 seconds). ... You may <strong>avoid server disconnections while the client is idle by periodically sending NOOP commands to the server</strong>.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1699693176,"post_id":77464230,"comment_id":136565762,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77464230/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29136366,"reputation":1,"user_id":22320433,"display_name":"emp"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699687735,"creation_date":1699687735,"answer_id":77464230,"question_id":57352335,"body_markdown":"I used the WireShark to see if the config of setControlKeepAliveTimeout() work,  and found than it only works when ftp uploading or downloading files","title":"Can the FTP client control FTP server time-out settings?","body":"<p>I used the WireShark to see if the config of setControlKeepAliveTimeout() work,  and found than it only works when ftp uploading or downloading files</p>\n"}],"owner":{"account_id":15993722,"reputation":67,"user_id":11542190,"display_name":"mgjang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1788,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57352480,"answer_count":2,"score":1,"last_activity_date":1699687735,"creation_date":1564980578,"question_id":57352335,"body_markdown":"I am using **Apache Commons-Net** library in Java\r\n\r\nWhat I want is to set the connection time-out of the FTP-server on the client stage\r\nusing java-code\r\n\r\n   example :\r\n    \r\n   If I look at the FTP server&#39;s vsftpd.conf settings file,\r\n    \r\n   there is a `idle_session_timeout=600` setting\r\n\r\n\r\nI wonder if this idle time-out can be controlled by FTP-client using java code\r\n\r\nThe method below, which I tried but not all worked\r\n\r\n    FTPClient.setControlKeepAliveTimeout(sec);\r\n    FTPClient.setConnectTimeout(ms);\r\n    FTPClient.setDataTimeout(ms);\r\n    FTPClient.connect();\r\n    FTPClient.setSoTimeout(ms);\r\n\r\nPlease help me :)\r\n\r\n","title":"Can the FTP client control FTP server time-out settings?","body":"<p>I am using <strong>Apache Commons-Net</strong> library in Java</p>\n\n<p>What I want is to set the connection time-out of the FTP-server on the client stage\nusing java-code</p>\n\n<p>example :</p>\n\n<p>If I look at the FTP server's vsftpd.conf settings file,</p>\n\n<p>there is a <code>idle_session_timeout=600</code> setting</p>\n\n<p>I wonder if this idle time-out can be controlled by FTP-client using java code</p>\n\n<p>The method below, which I tried but not all worked</p>\n\n<pre><code>FTPClient.setControlKeepAliveTimeout(sec);\nFTPClient.setConnectTimeout(ms);\nFTPClient.setDataTimeout(ms);\nFTPClient.connect();\nFTPClient.setSoTimeout(ms);\n</code></pre>\n\n<p>Please help me :)</p>\n"},{"tags":["java","spring","spring-data-jpa"],"comments":[{"owner":{"account_id":29161129,"reputation":86,"user_id":22339877,"display_name":"Flavian Diol D"},"score":0,"creation_date":1699684958,"post_id":77464128,"comment_id":136565253,"body_markdown":"without knowing the `id` of the user, you might not be able to do what you want. Getting the `id` from the client is not a big deal, if you can do that. It&#39;ll simplify your whole problem.","body":"without knowing the <code>id</code> of the user, you might not be able to do what you want. Getting the <code>id</code> from the client is not a big deal, if you can do that. It&#39;ll simplify your whole problem."},{"owner":{"account_id":29877272,"reputation":1,"user_id":22897142,"display_name":"AlexJavaCoder"},"score":0,"creation_date":1699685347,"post_id":77464128,"comment_id":136565275,"body_markdown":"Client wants to register a new object, which may not be saved in DB yet and may not have an id. I just want to verify that the object at the specified address definitely wasn&#39;t saved yet. So I don&#39;t know the id","body":"Client wants to register a new object, which may not be saved in DB yet and may not have an id. I just want to verify that the object at the specified address definitely wasn&#39;t saved yet. So I don&#39;t know the id"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1699685948,"post_id":77464128,"comment_id":136565309,"body_markdown":"&quot;*And I want to find the corresponding object in my DB according to equals() and hashCode() methods using JPA repository.*&quot; - You do realize that this would entail that we have to transfer and map the entire database table, yes? The database has no notion of `equals()` and `hashCode()`; we&#39;d need to do this in the application. In other words: the entire table has to be transferred to the application, and each row has to be mapped to a java object.","body":"&quot;<i>And I want to find the corresponding object in my DB according to equals() and hashCode() methods using JPA repository.</i>&quot; - You do realize that this would entail that we have to transfer and map the entire database table, yes? The database has no notion of <code>equals()</code> and <code>hashCode()</code>; we&#39;d need to do this in the application. In other words: the entire table has to be transferred to the application, and each row has to be mapped to a java object."},{"owner":{"account_id":29877272,"reputation":1,"user_id":22897142,"display_name":"AlexJavaCoder"},"score":0,"creation_date":1699794047,"post_id":77464128,"comment_id":136573464,"body_markdown":"Well, now I use this JPA method:\n\n`Optional&lt;ObjectAddress&gt; findByCountryAndRegionAndCountyAndSettlementAndDistrictAndStreetAndHouseNumberAndBuildingAndApartmentNumber(String country, String region, String county, String settlement, String district, String street, String houseNumber, String building,\n            int apartmentNumber);`\n\nI think, it is converted into an SQL query with long WHEN statement. Of course It&#39;s executed by DBMS. And it doesn&#39;t fetch all the data from the table.\n\nI just want to know if I can use a little syntactic sugar instead of this long and ugly method.","body":"Well, now I use this JPA method:  <code>Optional&lt;ObjectAddress&gt; findByCountryAndRegionAndCountyAndSettlementAndDistrictAndSt&zwnj;&#8203;reetAndHouseNumberAn&zwnj;&#8203;dBuildingAndApartmen&zwnj;&#8203;tNumber(String country, String region, String county, String settlement, String district, String street, String houseNumber, String building,             int apartmentNumber);</code>  I think, it is converted into an SQL query with long WHEN statement. Of course It&#39;s executed by DBMS. And it doesn&#39;t fetch all the data from the table.  I just want to know if I can use a little syntactic sugar instead of this long and ugly method."}],"answers":[{"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1699697032,"post_id":77464229,"comment_id":136566014,"body_markdown":"This is dangerous. The `hashCode()` function does neither define an address, nor is it guaranteed to be unique. Even if we add the address to the hashing function, it is not guaranteed that the hash code is unique. We could prefix the hash code with the address, this would, however, require that we need the id to query the hash code.","body":"This is dangerous. The <code>hashCode()</code> function does neither define an address, nor is it guaranteed to be unique. Even if we add the address to the hashing function, it is not guaranteed that the hash code is unique. We could prefix the hash code with the address, this would, however, require that we need the id to query the hash code."}],"tags":[],"owner":{"account_id":13803181,"reputation":93,"user_id":9962727,"display_name":"Vivek Raman"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699687727,"creation_date":1699687727,"answer_id":77464229,"question_id":77464128,"body_markdown":"Since you want to use `hashCode()` and `equals()` via your JPA repository, you have the option of defining a new column on your entity. You can simply add a field like so:\r\n\r\n```java\r\n@Setter(accessLevel = AccessLevel.PRIVATE)\r\nprivate String uniqueAddressCode = String.valueOf(this.hashCode());\r\n```\r\n\r\nUpdate your table&#39;s schema to add this field, and now you can query by `uniqueAddressCode` using your JPA repository to locate duplicate address records.\r\n\r\nNote that you will need to handle cases where the address is updated, and cases where different users enter the exact same address, leading to a clashing `hashCode`. Towards that end, I&#39;d recommend adding the user ID as a part of the `hashCode` evaluation.","title":"Find by equals() in Spring Data JPA","body":"<p>Since you want to use <code>hashCode()</code> and <code>equals()</code> via your JPA repository, you have the option of defining a new column on your entity. You can simply add a field like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Setter(accessLevel = AccessLevel.PRIVATE)\nprivate String uniqueAddressCode = String.valueOf(this.hashCode());\n</code></pre>\n<p>Update your table's schema to add this field, and now you can query by <code>uniqueAddressCode</code> using your JPA repository to locate duplicate address records.</p>\n<p>Note that you will need to handle cases where the address is updated, and cases where different users enter the exact same address, leading to a clashing <code>hashCode</code>. Towards that end, I'd recommend adding the user ID as a part of the <code>hashCode</code> evaluation.</p>\n"}],"owner":{"account_id":29877272,"reputation":1,"user_id":22897142,"display_name":"AlexJavaCoder"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699687727,"creation_date":1699684425,"question_id":77464128,"body_markdown":"Let&#39;s say I have object address entity with the overridden equals() and hashCode():\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@Entity\r\npublic class ObjectAddress {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.UUID)\r\n    private UUID id;\r\n    \r\n    private String country;\r\n    \r\n    private String region;\r\n    \r\n    private String county;\r\n    \r\n    private String settlement;\r\n    \r\n    private String district;\r\n    \r\n    private String street;\r\n    \r\n    private String houseNumber;\r\n    \r\n    private String building;\r\n    \r\n    private Integer apartmentNumber;\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        ObjectAdress that = (ObjectAdress) o;\r\n        return Objects.equals(country, that.country) &amp;&amp; Objects.equals(region, that.region) &amp;&amp; Objects.equals(county, that.county) &amp;&amp; Objects.equals(settlement, that.settlement) &amp;&amp; Objects.equals(district, that.district) &amp;&amp; Objects.equals(street, that.street) &amp;&amp; Objects.equals(houseNumber, that.houseNumber) &amp;&amp; Objects.equals(building, that.building) &amp;&amp; Objects.equals(apartmentNumber, that.apartmentNumber);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(country, region, county, settlement, district, street, houseNumber, building, apartmentNumber);\r\n    }\r\n}\r\n```\r\n\r\nA user sends me a request to register their property at the specified address. I want to check that this object hasn&#39;t been registered yet. But I don&#39;t know the id. And I want to find the corresponding object in my DB according to equals() and hashCode() methods using JPA repository.\r\n\r\nHow can I achieve this (if I don&#39;t want to manually specify all the fields)?","title":"Find by equals() in Spring Data JPA","body":"<p>Let's say I have object address entity with the overridden equals() and hashCode():</p>\n<pre><code>@Getter\n@Setter\n@Entity\npublic class ObjectAddress {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.UUID)\n    private UUID id;\n    \n    private String country;\n    \n    private String region;\n    \n    private String county;\n    \n    private String settlement;\n    \n    private String district;\n    \n    private String street;\n    \n    private String houseNumber;\n    \n    private String building;\n    \n    private Integer apartmentNumber;\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        ObjectAdress that = (ObjectAdress) o;\n        return Objects.equals(country, that.country) &amp;&amp; Objects.equals(region, that.region) &amp;&amp; Objects.equals(county, that.county) &amp;&amp; Objects.equals(settlement, that.settlement) &amp;&amp; Objects.equals(district, that.district) &amp;&amp; Objects.equals(street, that.street) &amp;&amp; Objects.equals(houseNumber, that.houseNumber) &amp;&amp; Objects.equals(building, that.building) &amp;&amp; Objects.equals(apartmentNumber, that.apartmentNumber);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(country, region, county, settlement, district, street, houseNumber, building, apartmentNumber);\n    }\n}\n</code></pre>\n<p>A user sends me a request to register their property at the specified address. I want to check that this object hasn't been registered yet. But I don't know the id. And I want to find the corresponding object in my DB according to equals() and hashCode() methods using JPA repository.</p>\n<p>How can I achieve this (if I don't want to manually specify all the fields)?</p>\n"},{"tags":["java","selenium-webdriver","appium-android"],"comments":[{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1685531693,"post_id":76372834,"comment_id":134672356,"body_markdown":"It&#39;s `InvalidSelectorException`. Check if `text(\\&quot;Link Patient to Doctor\\&quot;)` identifies the element uniquely, possibly `text(&#39;Link Patient to Doctor&#39;)` would.","body":"It&#39;s <code>InvalidSelectorException</code>. Check if <code>text(\\&quot;Link Patient to Doctor\\&quot;)</code> identifies the element uniquely, possibly <code>text(&#39;Link Patient to Doctor&#39;)</code> would."},{"owner":{"account_id":26854175,"reputation":1,"user_id":20438687,"display_name":"vishakha"},"score":0,"creation_date":1685533047,"post_id":76372834,"comment_id":134672652,"body_markdown":"thank you but i tried other elements too..still not working","body":"thank you but i tried other elements too..still not working"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1699874045,"post_id":77464205,"comment_id":136581403,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77464205/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29877517,"reputation":1,"user_id":22897328,"display_name":"Gopinath Angusamy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699686797,"creation_date":1699686797,"answer_id":77464205,"question_id":76372834,"body_markdown":"Try this there is issues in your code. try this. \r\ndriver.findElement(AppiumBy.androidUIAutomator(&quot;new UiScrollable(new UiSelector()).scrollIntoView(new UiSelector().text(\\&quot;WebView\\&quot;));&quot;)).click();","title":"Automatic scroll to element using Appium is not working in android","body":"<p>Try this there is issues in your code. try this.\ndriver.findElement(AppiumBy.androidUIAutomator(&quot;new UiScrollable(new UiSelector()).scrollIntoView(new UiSelector().text(&quot;WebView&quot;));&quot;)).click();</p>\n"}],"owner":{"account_id":26854175,"reputation":1,"user_id":20438687,"display_name":"vishakha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699686797,"creation_date":1685531152,"question_id":76372834,"body_markdown":"I am trying to automate android application.in which I need to scroll down to one element and given scroll code are not working\r\n\r\nAppium Scroll code is not working\r\n\r\nI have tried this code\r\n\r\n    MobileElement l=driver.findElement( io.appium.java_client.MobileBy.AndroidUIAutomator(&quot;new UiScrollable(new UiSelector().scrollIntoView(new UiSelector().text(\\&quot;Link Patient to Doctor\\&quot;);&quot;));\r\n    l.click();\r\n\r\nalso tried this code\r\n\r\n    MobileElement li=driver.findElement(MobileBy.\r\n     * AndroidUIAutomator(&quot;new UiScrollable(new    UiSelector().scrollable(true).instance(0)).scrollIntoView(new UiSelector().textContains(\\&quot;Link Patient to Doctor\\&quot;).instance(0))&quot;\r\n     * ));li.click();\r\n\r\nthe page should scroll dowm to the Given text\r\n\r\nmy appium version is 2.0.0-beta.71\r\nnpm is 9.5.1\r\n\r\n\r\n\r\n\r\nbut its not scrolling down and showing the error:\r\n\r\n&gt; org.open\r\n&gt; qa.selenium.InvalidSelectorException: Could not parse selector\r\n&gt; expression `new UiScrollable(new UiSelector().scrollIntoView(new\r\n&gt; UiSelector().text(&quot;Link Patient to Doctor&quot;)`: Unclosed paren in\r\n&gt; expression For documentation on this error, please visit:\r\n&gt; https://www.seleniumhq.org/exceptions/invalid_selector_exception.html\r\n&gt; Build info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time:\r\n&gt; &#39;2018-11-14T08:17:03&#39; System info: host: &#39;DESKTOP-VQLLA2K&#39;, ip:\r\n&gt; &#39;192.168.56.1&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version:\r\n&gt; &#39;10.0&#39;, java.version: &#39;19.0.1&#39; Driver info:\r\n&gt; io.appium.java_client.AppiumDriver Capabilities {app:\r\n&gt; D:\\\\app-release.apk, appActivity: com.calculator_apps.MainAct...,\r\n&gt; appPackage: com.calculator_apps, automationName: UiAutomator2,\r\n&gt; databaseEnabled: false, desired: {app: D:\\\\app-release.apk,\r\n&gt; appActivity: com.calculator_apps.MainAct..., appPackage:\r\n&gt; com.calculator_apps, automationName: UiAutomator2, deviceName:\r\n&gt; samsung, platformName: android, platformVersion: 10}, deviceApiLevel:\r\n&gt; 29, deviceManufacturer: samsung, deviceModel: SM-A305F, deviceName:\r\n&gt; RZ8M5181Y3M, deviceScreenDensity: 420, deviceScreenSize: 1080x2340,\r\n&gt; deviceUDID: RZ8M5181Y3M, javascriptEnabled: true,\r\n&gt; locationContextEnabled: false, networkConnectionEnabled: true,\r\n&gt; pixelRatio: 2.625, platform: LINUX, platformName: Android,\r\n&gt; platformVersion: 10, statBarHeight: 83, takesScreenshot: true,\r\n&gt; viewportRect: {height: 2048, left: 0, top: 83, width: 1080}, warnings:\r\n&gt; {}, webStorageEnabled: false} Session ID:\r\n&gt; 9641d029-12e2-4f87-bab0-86d49bcbeaa2\r\n&gt; *** Element info: {Using=-android uiautomator, value=new UiScrollable(new UiSelector().scrollIntoView(new\r\n&gt; UiSelector().text(&quot;Link Patient to Doctor&quot;);}\r\n\r\n\r\nplease reply if anyone knows the solution\r\n\r\n","title":"Automatic scroll to element using Appium is not working in android","body":"<p>I am trying to automate android application.in which I need to scroll down to one element and given scroll code are not working</p>\n<p>Appium Scroll code is not working</p>\n<p>I have tried this code</p>\n<pre><code>MobileElement l=driver.findElement( io.appium.java_client.MobileBy.AndroidUIAutomator(&quot;new UiScrollable(new UiSelector().scrollIntoView(new UiSelector().text(\\&quot;Link Patient to Doctor\\&quot;);&quot;));\nl.click();\n</code></pre>\n<p>also tried this code</p>\n<pre><code>MobileElement li=driver.findElement(MobileBy.\n * AndroidUIAutomator(&quot;new UiScrollable(new    UiSelector().scrollable(true).instance(0)).scrollIntoView(new UiSelector().textContains(\\&quot;Link Patient to Doctor\\&quot;).instance(0))&quot;\n * ));li.click();\n</code></pre>\n<p>the page should scroll dowm to the Given text</p>\n<p>my appium version is 2.0.0-beta.71\nnpm is 9.5.1</p>\n<p>but its not scrolling down and showing the error:</p>\n<blockquote>\n<p>org.open\nqa.selenium.InvalidSelectorException: Could not parse selector\nexpression <code>new UiScrollable(new UiSelector().scrollIntoView(new UiSelector().text(&quot;Link Patient to Doctor&quot;)</code>: Unclosed paren in\nexpression For documentation on this error, please visit:\n<a href=\"https://www.seleniumhq.org/exceptions/invalid_selector_exception.html\" rel=\"nofollow noreferrer\">https://www.seleniumhq.org/exceptions/invalid_selector_exception.html</a>\nBuild info: version: '3.141.59', revision: 'e82be7d358', time:\n'2018-11-14T08:17:03' System info: host: 'DESKTOP-VQLLA2K', ip:\n'192.168.56.1', os.name: 'Windows 10', os.arch: 'amd64', os.version:\n'10.0', java.version: '19.0.1' Driver info:\nio.appium.java_client.AppiumDriver Capabilities {app:\nD:\\app-release.apk, appActivity: com.calculator_apps.MainAct...,\nappPackage: com.calculator_apps, automationName: UiAutomator2,\ndatabaseEnabled: false, desired: {app: D:\\app-release.apk,\nappActivity: com.calculator_apps.MainAct..., appPackage:\ncom.calculator_apps, automationName: UiAutomator2, deviceName:\nsamsung, platformName: android, platformVersion: 10}, deviceApiLevel:\n29, deviceManufacturer: samsung, deviceModel: SM-A305F, deviceName:\nRZ8M5181Y3M, deviceScreenDensity: 420, deviceScreenSize: 1080x2340,\ndeviceUDID: RZ8M5181Y3M, javascriptEnabled: true,\nlocationContextEnabled: false, networkConnectionEnabled: true,\npixelRatio: 2.625, platform: LINUX, platformName: Android,\nplatformVersion: 10, statBarHeight: 83, takesScreenshot: true,\nviewportRect: {height: 2048, left: 0, top: 83, width: 1080}, warnings:\n{}, webStorageEnabled: false} Session ID:\n9641d029-12e2-4f87-bab0-86d49bcbeaa2\n*** Element info: {Using=-android uiautomator, value=new UiScrollable(new UiSelector().scrollIntoView(new\nUiSelector().text(&quot;Link Patient to Doctor&quot;);}</p>\n</blockquote>\n<p>please reply if anyone knows the solution</p>\n"},{"tags":["java","pdf-generation","itext7"],"answers":[{"comments":[{"owner":{"account_id":14720853,"reputation":1079,"user_id":10631518,"display_name":"AllirionX"},"score":0,"creation_date":1579236922,"post_id":40860358,"comment_id":105706683,"body_markdown":"Is this documented somewhere?","body":"Is this documented somewhere?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1579252253,"post_id":40860358,"comment_id":105711672,"body_markdown":"@AllirionX In https://itextpdf.com/en/resources/books/itext-7-building-blocks/chapter-2-adding-content-canvas-or-document - but it is a bit hidden among more complex `AreaBreak` usages.","body":"@AllirionX In <a href=\"https://itextpdf.com/en/resources/books/itext-7-building-blocks/chapter-2-adding-content-canvas-or-document\" rel=\"nofollow noreferrer\">itextpdf.com/en/resources/books/itext-7-building-blocks/&hellip;</a> - but it is a bit hidden among more complex <code>AreaBreak</code> usages."},{"owner":{"account_id":14720853,"reputation":1079,"user_id":10631518,"display_name":"AllirionX"},"score":0,"creation_date":1579252371,"post_id":40860358,"comment_id":105711737,"body_markdown":"Thanks! It&#39;s very useful, I was getting mad trying to add a simple paragraph to a new page.","body":"Thanks! It&#39;s very useful, I was getting mad trying to add a simple paragraph to a new page."},{"owner":{"account_id":1268668,"reputation":1140,"user_id":1225421,"display_name":"Alex P."},"score":0,"creation_date":1679770342,"post_id":40860358,"comment_id":133781662,"body_markdown":"@mkl getting &quot;Access denied&quot; on trying to access that link. Is that only for commercial access?","body":"@mkl getting &quot;Access denied&quot; on trying to access that link. Is that only for commercial access?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1679987434,"post_id":40860358,"comment_id":133814834,"body_markdown":"@AlexP. *&quot;Is that only for commercial access?&quot;* - No, the book merely moved to a different URL, see https://kb.itextpdf.com/home/it7kb/ebooks/itext-7-building-blocks/chapter-2-adding-content-to-a-canvas-or-a-document - marketing likes to re-structure the site...","body":"@AlexP. <i>&quot;Is that only for commercial access?&quot;</i> - No, the book merely moved to a different URL, see <a href=\"https://kb.itextpdf.com/home/it7kb/ebooks/itext-7-building-blocks/chapter-2-adding-content-to-a-canvas-or-a-document\" rel=\"nofollow noreferrer\">kb.itextpdf.com/home/it7kb/ebooks/itext-7-building-blocks/&hellip;</a> - marketing likes to re-structure the site..."}],"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"comment_count":5,"down_vote_count":0,"up_vote_count":54,"is_accepted":true,"score":54,"last_activity_date":1480408689,"creation_date":1480405653,"answer_id":40860358,"question_id":40859431,"body_markdown":"In iText 7 the `newPage` method has become a special case of an area break:\r\n\r\n    Document document = ...;\r\n    [....add some content...]\r\n    document.add(new AreaBreak(AreaBreakType.NEXT_PAGE));\r\n    [...add some content on next page...]\r\n\r\n","title":"Adding a new page in PDF using itext 7","body":"<p>In iText 7 the <code>newPage</code> method has become a special case of an area break:</p>\n\n<pre><code>Document document = ...;\n[....add some content...]\ndocument.add(new AreaBreak(AreaBreakType.NEXT_PAGE));\n[...add some content on next page...]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5767963,"reputation":29,"user_id":4552286,"display_name":"thefastlane"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1617638811,"creation_date":1617638811,"answer_id":66955967,"question_id":40859431,"body_markdown":"If you&#39;re using C# and refactoring code that referenced iText 5 (like I was) try putting the iText 7 method in an override.\r\n\r\n    public static class Itext7DocumentExtensions\r\n    {\r\n        public static void NewPage(this Document document)\r\n        {\r\n            document.Add(new AreaBreak(AreaBreakType.NEXT_PAGE));\r\n        }\r\n    }\r\n\r\n\r\nNow you can call `document.NewPage();`","title":"Adding a new page in PDF using itext 7","body":"<p>If you're using C# and refactoring code that referenced iText 5 (like I was) try putting the iText 7 method in an override.</p>\n<pre><code>public static class Itext7DocumentExtensions\n{\n    public static void NewPage(this Document document)\n    {\n        document.Add(new AreaBreak(AreaBreakType.NEXT_PAGE));\n    }\n}\n</code></pre>\n<p>Now you can call <code>document.NewPage();</code></p>\n"}],"owner":{"account_id":1831207,"reputation":1151,"user_id":1662570,"accept_rate":75,"display_name":"Karthick Radhakrishnan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28336,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":40860358,"answer_count":2,"score":24,"last_activity_date":1699686419,"creation_date":1480402101,"question_id":40859431,"body_markdown":"I&#39;m trying to create a PDF Document using iText 7 with below code and my PDF documents contents are overlapping in same page when generated.(i.e in Page 1).\r\n\r\nI see the \r\n\r\n&gt; document.newPage();\r\n\r\n method is missing in iText 7. How can i add pages to my PDF document without using pdfDocumet.copyPages(...) or PDFmerger in itext 7.\r\n\r\n        \r\n\r\n            PdfDocument pdfDoc = new PdfDocument(new PdfWriter(dest));\t\t\r\n    \t\tpdfDoc.addNewPage();\r\n    \t\tDocument PageOnedocument = new Document(pdfDoc,PageSize.A4);\t\t\t\r\n    \t\taddPageOneContents(PageOnedocument);  \r\n    \t\t\r\n    \t\t\r\n    \t\tpdfDoc.addNewPage();\r\n    \t\tDocument PageTwodocument = new Document(pdfDoc,PageSize.A4);\t\t\t\r\n    \t\taddPageTwoContents(PageTwodocument);  \r\n            \r\n    \t\tpdfDoc.close();\r\n    \t\tPageOnedocument.close();\r\n    \t\tPageTwodocument.close();","title":"Adding a new page in PDF using itext 7","body":"<p>I'm trying to create a PDF Document using iText 7 with below code and my PDF documents contents are overlapping in same page when generated.(i.e in Page 1).</p>\n\n<p>I see the </p>\n\n<blockquote>\n  <p>document.newPage();</p>\n</blockquote>\n\n<p>method is missing in iText 7. How can i add pages to my PDF document without using pdfDocumet.copyPages(...) or PDFmerger in itext 7.</p>\n\n<pre><code>        PdfDocument pdfDoc = new PdfDocument(new PdfWriter(dest));      \n        pdfDoc.addNewPage();\n        Document PageOnedocument = new Document(pdfDoc,PageSize.A4);            \n        addPageOneContents(PageOnedocument);  \n\n\n        pdfDoc.addNewPage();\n        Document PageTwodocument = new Document(pdfDoc,PageSize.A4);            \n        addPageTwoContents(PageTwodocument);  \n\n        pdfDoc.close();\n        PageOnedocument.close();\n        PageTwodocument.close();\n</code></pre>\n"},{"tags":["java","apache-spark","minio"],"comments":[{"owner":{"account_id":2611206,"reputation":12820,"user_id":2261274,"display_name":"stevel"},"score":0,"creation_date":1699882955,"post_id":77464170,"comment_id":136582990,"body_markdown":"check the clocks are in sync. stores generally reject calls where the signing timestamp is too old, to defend against replay attacks.","body":"check the clocks are in sync. stores generally reject calls where the signing timestamp is too old, to defend against replay attacks."},{"owner":{"account_id":5681691,"reputation":373,"user_id":4492655,"accept_rate":80,"display_name":"VGH"},"score":0,"creation_date":1700112789,"post_id":77464170,"comment_id":136615352,"body_markdown":"@stevel thanks for the reply. However I was trying different things in the minikube and had to delete minio pod which was running on my local system. With the new pod writing to minio is working fine. If I get same error again will check whether clocks are in sync.","body":"@stevel thanks for the reply. However I was trying different things in the minikube and had to delete minio pod which was running on my local system. With the new pod writing to minio is working fine. If I get same error again will check whether clocks are in sync."}],"owner":{"account_id":5681691,"reputation":373,"user_id":4492655,"accept_rate":80,"display_name":"VGH"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1699685781,"creation_date":1699685781,"question_id":77464170,"body_markdown":"I&#39;m connecting to **MinIO** from spark Java code\r\n\r\n    static void minIOReadWriteTester()\r\n         {\r\n        \t SparkSession spark = SparkSession.builder()\r\n    \t                .appName(&quot;spark-with-nats&quot;)\r\n    \t                .master(&quot;local&quot;)\r\n    \t                  .config(&quot;spark.jars&quot;,\r\n    \t                  &quot;libs/nats-spark-connector-balanced_2.12-1.1.4.jar,&quot;+&quot;libs/jnats-2.17.1.jar&quot;\r\n    \t                  )\r\n    \t                 .config(&quot;spark.sql.streaming.checkpointLocation&quot;,&quot;tmp/checkpoint&quot;)\r\n    \t      \t\t\t.config(&quot;fs.s3a.access.key&quot;, &quot;minioadmin&quot;)\r\n    \t      \t        .config(&quot;fs.s3a.secret.key&quot;, &quot;minioadmin&quot;)\r\n    \t      \t        .config(&quot;fs.s3a.endpoint&quot;, &quot;http://127.0.0.1:9000&quot;)\r\n    \t      \t        .config(&quot;fs.s3a.connection.ssl.enabled&quot;, &quot;true&quot;)\r\n    \t      \t        .config(&quot;fs.s3a.path.style.access&quot;, &quot;true&quot;)\r\n    \t      \t        .config(&quot;fs.s3a.attempts.maximum&quot;, &quot;1&quot;)\r\n    \t      \t        .config(&quot;fs.s3a.connection.establish.timeout&quot;, &quot;5000&quot;)\r\n    \t      \t        .config(&quot;fs.s3a.connection.timeout&quot;, &quot;10000&quot;)\r\n    \t      \t        .config(&quot;fs.s3a.impl&quot;, &quot;org.apache.hadoop.fs.s3a.S3AFileSystem&quot;)\r\n    \t                  .getOrCreate();\r\n        \t\r\n    //    \t Dataset&lt;Row&gt; dftest = spark.read().load(&quot;s3a://testbucket/SampleFiles/output/parquet&quot;);\r\n    //    \t dftest.show();\r\n        \t\r\n        \t Dataset&lt;Row&gt; df = spark.readStream()\r\n    \t                .format(&quot;nats&quot;)\r\n    \t                .option(&quot;nats.host&quot;, &quot;localhost&quot;)\r\n    \t                .option(&quot;nats.port&quot;, 4222)\r\n    \t                .option(&quot;nats.stream.name&quot;, &quot;my_stream4&quot;)\r\n    \t                .option(&quot;nats.stream.subjects&quot;, &quot;mysub4&quot;)\r\n    \t                .option(&quot;nats.durable.name&quot;, &quot;my_consumer&quot;)\r\n    \t                // wait 90 seconds for an ack before resending a message\r\n    \t                .option(&quot;nats.msg.ack.wait.secs&quot;, 90)\r\n    \t                .load();\r\n    \t        System.out.println(&quot;Successfully read nats stream !&quot;);\r\n    \t        df.createOrReplaceTempView(&quot;natsmessages&quot;);\r\n    \t        Dataset&lt;Row&gt; filteredDf = spark.sql(&quot;select * from natsmessages&quot;);\r\n    \t       \r\n    \t        StreamingQuery query;\r\n    \t        try {\r\n    \t            query = filteredDf\r\n    \t            \t\t  .writeStream()\r\n    \t                      .outputMode(&quot;append&quot;)\r\n    \t                      .format(&quot;parquet&quot;)\r\n    \t                      .option(&quot;truncate&quot;, false)\r\n    \t                      .option(&quot;path&quot;, &quot;s3a://testbucket/SampleFiles/output/parquet&quot;)\r\n    \t                      .start();\r\n    \t            query.awaitTermination();\r\n    \t        } catch (Exception e) {\r\n    \t            e.printStackTrace();\r\n    \t        }\r\n         }\r\n\r\n**This code was working yesterday** . Without any code changes it started giving java.nio.file.AccessDeniedException !\r\n\r\n    java.nio.file.AccessDeniedException: s3a://testbucket/SampleFiles/output/parquet/_spark_metadata: getFileStatus on s3a://testbucket/SampleFiles/output/parquet/_spark_metadata: com.amazonaws.services.s3.model.AmazonS3Exception: Forbidden (Service: Amazon S3; Status Code: 403; Error Code: 403 Forbidden; Request ID: 1796779F1EDE98D3; S3 Extended Request ID: dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8; Proxy: null), S3 Extended Request ID: dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8:403 Forbidden\r\n\tat org.apache.hadoop.fs.s3a.S3AUtils.translateException(S3AUtils.java:255)\r\n\tat org.apache.hadoop.fs.s3a.S3AUtils.translateException(S3AUtils.java:175)\r\n\tat org.apache.hadoop.fs.s3a.S3AFileSystem.s3GetFileStatus(S3AFileSystem.java:3796)\r\n\tat org.apache.hadoop.fs.s3a.S3AFileSystem.innerGetFileStatus(S3AFileSystem.java:3688)\r\n\tat org.apache.hadoop.fs.s3a.S3AFileSystem.lambda$getFileStatus$24(S3AFileSystem.java:3556)\r\n\tat org.apache.hadoop.fs.statistics.impl.IOStatisticsBinding.lambda$trackDurationOfOperation$5(IOStatisticsBinding.java:499)\r\n\tat org.apache.hadoop.fs.statistics.impl.IOStatisticsBinding.trackDuration(IOStatisticsBinding.java:444)\r\n\tat org.apache.hadoop.fs.s3a.S3AFileSystem.trackDurationAndSpan(S3AFileSystem.java:2337)\r\n\tat org.apache.hadoop.fs.s3a.S3AFileSystem.trackDurationAndSpan(S3AFileSystem.java:2356)\r\n\tat org.apache.hadoop.fs.s3a.S3AFileSystem.getFileStatus(S3AFileSystem.java:3554)\r\n\tat org.apache.hadoop.fs.DelegateToFileSystem.getFileStatus(DelegateToFileSystem.java:128)\r\n\tat org.apache.hadoop.fs.FileContext$15.next(FileContext.java:1247)\r\n\tat org.apache.hadoop.fs.FileContext$15.next(FileContext.java:1243)\r\n\tat org.apache.hadoop.fs.FSLinkResolver.resolve(FSLinkResolver.java:90)\r\n\tat org.apache.hadoop.fs.FileContext.getFileStatus(FileContext.java:1249)\r\n\tat org.apache.hadoop.fs.FileContext$Util.exists(FileContext.java:1747)\r\n\tat org.apache.spark.sql.execution.streaming.FileContextBasedCheckpointFileManager.exists(CheckpointFileManager.scala:341)\r\n\tat org.apache.spark.sql.execution.streaming.HDFSMetadataLog.&lt;init&gt;(HDFSMetadataLog.scala:63)\r\n\tat org.apache.spark.sql.execution.streaming.CompactibleFileStreamLog.&lt;init&gt;(CompactibleFileStreamLog.scala:48)\r\n\tat org.apache.spark.sql.execution.streaming.FileStreamSinkLog.&lt;init&gt;(FileStreamSinkLog.scala:86)\r\n\tat org.apache.spark.sql.execution.streaming.FileStreamSink.&lt;init&gt;(FileStreamSink.scala:139)\r\n\tat org.apache.spark.sql.execution.datasources.DataSource.createSink(DataSource.scala:326)\r\n\tat org.apache.spark.sql.streaming.DataStreamWriter.createV1Sink(DataStreamWriter.scala:436)\r\n\tat org.apache.spark.sql.streaming.DataStreamWriter.startInternal(DataStreamWriter.scala:403)\r\n\tat org.apache.spark.sql.streaming.DataStreamWriter.start(DataStreamWriter.scala:249)\r\n\r\nInterestingly If I uncomment reading file from minio code, above code won&#39;t give any error and works as expected! ( both reading and writing from MinIO works)\r\n     \t \r\n\r\n    Dataset&lt;Row&gt; dftest = spark.read().load(&quot;s3a://testbucket/SampleFiles/output/parquet&quot;);\r\n\r\n Not sure how working code which was working yesterday started giving this error without any code changes ! And moreover if I keep file reading code and after that if I write file to MinIO it works ! Not able to understand this strange behavior. \r\n I&#39;m running my spark Java Code locally on my windows machine and MinIO is running on my local Kubernetes ( minikube)\r\nNot just with spark streaming, tried to save a normal csv file on MinIO even then it&#39;s not working.Any idea how to fix this error ?","title":"Writing file to MinIO from Spark Java code gives an error","body":"<p>I'm connecting to <strong>MinIO</strong> from spark Java code</p>\n<pre><code>static void minIOReadWriteTester()\n     {\n         SparkSession spark = SparkSession.builder()\n                    .appName(&quot;spark-with-nats&quot;)\n                    .master(&quot;local&quot;)\n                      .config(&quot;spark.jars&quot;,\n                      &quot;libs/nats-spark-connector-balanced_2.12-1.1.4.jar,&quot;+&quot;libs/jnats-2.17.1.jar&quot;\n                      )\n                     .config(&quot;spark.sql.streaming.checkpointLocation&quot;,&quot;tmp/checkpoint&quot;)\n                    .config(&quot;fs.s3a.access.key&quot;, &quot;minioadmin&quot;)\n                    .config(&quot;fs.s3a.secret.key&quot;, &quot;minioadmin&quot;)\n                    .config(&quot;fs.s3a.endpoint&quot;, &quot;http://127.0.0.1:9000&quot;)\n                    .config(&quot;fs.s3a.connection.ssl.enabled&quot;, &quot;true&quot;)\n                    .config(&quot;fs.s3a.path.style.access&quot;, &quot;true&quot;)\n                    .config(&quot;fs.s3a.attempts.maximum&quot;, &quot;1&quot;)\n                    .config(&quot;fs.s3a.connection.establish.timeout&quot;, &quot;5000&quot;)\n                    .config(&quot;fs.s3a.connection.timeout&quot;, &quot;10000&quot;)\n                    .config(&quot;fs.s3a.impl&quot;, &quot;org.apache.hadoop.fs.s3a.S3AFileSystem&quot;)\n                      .getOrCreate();\n        \n//       Dataset&lt;Row&gt; dftest = spark.read().load(&quot;s3a://testbucket/SampleFiles/output/parquet&quot;);\n//       dftest.show();\n        \n         Dataset&lt;Row&gt; df = spark.readStream()\n                    .format(&quot;nats&quot;)\n                    .option(&quot;nats.host&quot;, &quot;localhost&quot;)\n                    .option(&quot;nats.port&quot;, 4222)\n                    .option(&quot;nats.stream.name&quot;, &quot;my_stream4&quot;)\n                    .option(&quot;nats.stream.subjects&quot;, &quot;mysub4&quot;)\n                    .option(&quot;nats.durable.name&quot;, &quot;my_consumer&quot;)\n                    // wait 90 seconds for an ack before resending a message\n                    .option(&quot;nats.msg.ack.wait.secs&quot;, 90)\n                    .load();\n            System.out.println(&quot;Successfully read nats stream !&quot;);\n            df.createOrReplaceTempView(&quot;natsmessages&quot;);\n            Dataset&lt;Row&gt; filteredDf = spark.sql(&quot;select * from natsmessages&quot;);\n           \n            StreamingQuery query;\n            try {\n                query = filteredDf\n                          .writeStream()\n                          .outputMode(&quot;append&quot;)\n                          .format(&quot;parquet&quot;)\n                          .option(&quot;truncate&quot;, false)\n                          .option(&quot;path&quot;, &quot;s3a://testbucket/SampleFiles/output/parquet&quot;)\n                          .start();\n                query.awaitTermination();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n     }\n</code></pre>\n<p><strong>This code was working yesterday</strong> . Without any code changes it started giving java.nio.file.AccessDeniedException !</p>\n<pre><code>java.nio.file.AccessDeniedException: s3a://testbucket/SampleFiles/output/parquet/_spark_metadata: getFileStatus on s3a://testbucket/SampleFiles/output/parquet/_spark_metadata: com.amazonaws.services.s3.model.AmazonS3Exception: Forbidden (Service: Amazon S3; Status Code: 403; Error Code: 403 Forbidden; Request ID: 1796779F1EDE98D3; S3 Extended Request ID: dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8; Proxy: null), S3 Extended Request ID: dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8:403 Forbidden\nat org.apache.hadoop.fs.s3a.S3AUtils.translateException(S3AUtils.java:255)\nat org.apache.hadoop.fs.s3a.S3AUtils.translateException(S3AUtils.java:175)\nat org.apache.hadoop.fs.s3a.S3AFileSystem.s3GetFileStatus(S3AFileSystem.java:3796)\nat org.apache.hadoop.fs.s3a.S3AFileSystem.innerGetFileStatus(S3AFileSystem.java:3688)\nat org.apache.hadoop.fs.s3a.S3AFileSystem.lambda$getFileStatus$24(S3AFileSystem.java:3556)\nat org.apache.hadoop.fs.statistics.impl.IOStatisticsBinding.lambda$trackDurationOfOperation$5(IOStatisticsBinding.java:499)\nat org.apache.hadoop.fs.statistics.impl.IOStatisticsBinding.trackDuration(IOStatisticsBinding.java:444)\nat org.apache.hadoop.fs.s3a.S3AFileSystem.trackDurationAndSpan(S3AFileSystem.java:2337)\nat org.apache.hadoop.fs.s3a.S3AFileSystem.trackDurationAndSpan(S3AFileSystem.java:2356)\nat org.apache.hadoop.fs.s3a.S3AFileSystem.getFileStatus(S3AFileSystem.java:3554)\nat org.apache.hadoop.fs.DelegateToFileSystem.getFileStatus(DelegateToFileSystem.java:128)\nat org.apache.hadoop.fs.FileContext$15.next(FileContext.java:1247)\nat org.apache.hadoop.fs.FileContext$15.next(FileContext.java:1243)\nat org.apache.hadoop.fs.FSLinkResolver.resolve(FSLinkResolver.java:90)\nat org.apache.hadoop.fs.FileContext.getFileStatus(FileContext.java:1249)\nat org.apache.hadoop.fs.FileContext$Util.exists(FileContext.java:1747)\nat org.apache.spark.sql.execution.streaming.FileContextBasedCheckpointFileManager.exists(CheckpointFileManager.scala:341)\nat org.apache.spark.sql.execution.streaming.HDFSMetadataLog.&lt;init&gt;(HDFSMetadataLog.scala:63)\nat org.apache.spark.sql.execution.streaming.CompactibleFileStreamLog.&lt;init&gt;(CompactibleFileStreamLog.scala:48)\nat org.apache.spark.sql.execution.streaming.FileStreamSinkLog.&lt;init&gt;(FileStreamSinkLog.scala:86)\nat org.apache.spark.sql.execution.streaming.FileStreamSink.&lt;init&gt;(FileStreamSink.scala:139)\nat org.apache.spark.sql.execution.datasources.DataSource.createSink(DataSource.scala:326)\nat org.apache.spark.sql.streaming.DataStreamWriter.createV1Sink(DataStreamWriter.scala:436)\nat org.apache.spark.sql.streaming.DataStreamWriter.startInternal(DataStreamWriter.scala:403)\nat org.apache.spark.sql.streaming.DataStreamWriter.start(DataStreamWriter.scala:249)\n</code></pre>\n<p>Interestingly If I uncomment reading file from minio code, above code won't give any error and works as expected! ( both reading and writing from MinIO works)</p>\n<pre><code>Dataset&lt;Row&gt; dftest = spark.read().load(&quot;s3a://testbucket/SampleFiles/output/parquet&quot;);\n</code></pre>\n<p>Not sure how working code which was working yesterday started giving this error without any code changes ! And moreover if I keep file reading code and after that if I write file to MinIO it works ! Not able to understand this strange behavior.\nI'm running my spark Java Code locally on my windows machine and MinIO is running on my local Kubernetes ( minikube)\nNot just with spark streaming, tried to save a normal csv file on MinIO even then it's not working.Any idea how to fix this error ?</p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":7152403,"reputation":12017,"user_id":5465973,"accept_rate":57,"display_name":"Pierre B."},"score":0,"creation_date":1511347693,"post_id":47432047,"comment_id":81819646,"body_markdown":"In your build log: `unexpected end of stream on Connection{repo.maven.apache.org:443` Do you or your company network have some kind of proxy configured? That may cause your issue. Search for Maven proxy issues you&#39;ll have plenty of resources.","body":"In your build log: <code>unexpected end of stream on Connection{repo.maven.apache.org:443</code> Do you or your company network have some kind of proxy configured? That may cause your issue. Search for Maven proxy issues you&#39;ll have plenty of resources."}],"answers":[{"comments":[{"owner":{"account_id":9763101,"reputation":101,"user_id":7237555,"accept_rate":27,"display_name":"Albertus"},"score":0,"creation_date":1511406318,"post_id":47440312,"comment_id":81849058,"body_markdown":"what means of install the pom? adding the jar in pom? I had setting the settingproxy.xml but still failed. I configure the proxy similar the setting in my browser. any solution?","body":"what means of install the pom? adding the jar in pom? I had setting the settingproxy.xml but still failed. I configure the proxy similar the setting in my browser. any solution?"}],"tags":[],"owner":{"account_id":5405393,"reputation":11,"user_id":4304081,"display_name":"Angel Brun"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511370369,"creation_date":1511370369,"answer_id":47440312,"question_id":47432047,"body_markdown":"The problem probably occurs by proxy configuration (as Pierre B. mentions)\r\n\r\nCreate a maven project on my dev and install your pom.\r\nIt ended successfully.\r\n\r\nIDE:Luna Service Release 2 (4.4.2) Build id: 20150219-0600\r\nMAVEN Version:apache-maven-3.3.3\r\nJDK:java version &quot;1.8.0_131&quot;\r\nJava(TM) SE Runtime Environment (build 1.8.0_131-b11)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.131-b11, mixed mode)\r\n\r\nnote: remember to configure the maven file: **settingsProxy.xml** inside the conf folder inside the maven installation and configure it in the case of using eclipse path: windows-preferences-Maven-User Settings\r\n\r\nCopy result:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/59wn4.jpg","title":"Unresolveable build extension: or one of its dependencies could not be resolved: Failed to read artifact descriptor","body":"<p>The problem probably occurs by proxy configuration (as Pierre B. mentions)</p>\n\n<p>Create a maven project on my dev and install your pom.\nIt ended successfully.</p>\n\n<p>IDE:Luna Service Release 2 (4.4.2) Build id: 20150219-0600\nMAVEN Version:apache-maven-3.3.3\nJDK:java version \"1.8.0_131\"\nJava(TM) SE Runtime Environment (build 1.8.0_131-b11)\nJava HotSpot(TM) 64-Bit Server VM (build 25.131-b11, mixed mode)</p>\n\n<p>note: remember to configure the maven file: <strong>settingsProxy.xml</strong> inside the conf folder inside the maven installation and configure it in the case of using eclipse path: windows-preferences-Maven-User Settings</p>\n\n<p>Copy result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/59wn4.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/59wn4.jpg\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":9763101,"reputation":101,"user_id":7237555,"accept_rate":27,"display_name":"Albertus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9946,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1699682500,"creation_date":1511345807,"question_id":47432047,"body_markdown":"I have a problem with run the maven install. when I imported the project, pom.xml file show an error:\r\n\r\n&gt; Multiple annotations found at this line:\r\n&gt; \t- Project build error: Unresolveable build extension: Plugin org.apache.felix:maven-bundle-plugin:2.3.7 or one of its dependencies\r\n&gt; could not be resolved: Failed  \t to read artifact descriptor for\r\n&gt; org.apache.felix:maven-bundle-plugin:jar:2.3.7\r\n&gt; \t- Error resolving version for plugin &#39;org.apache.maven.plugins:maven-site-plugin&#39; from the repositories\r\n&gt; [local (C:\\Users\\c76266\\.m2\\repository),  \t release.fusesource.org\r\n&gt; (http://repo.fusesource.com/nexus/content/repositories/releases),\r\n&gt; ea.fusesource.org\r\n&gt; (http://repo.fusesource.com/nexus/content/groups/ea),  \t central\r\n&gt; (https://repo.maven.apache.org/maven2)]: Plugin not found in any\r\n&gt; plugin repository\r\n\r\nI had updated project and this step cannot solving this problem. when I run maven install or clean show an error:\r\n\r\n    [INFO] Scanning for projects...\r\n    [INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/felix/maven-bundle-plugin/2.3.7/maven-bundle-plugin-2.3.7.pom\r\n    [ERROR] [ERROR] Some problems were encountered while processing the POMs:\r\n    [ERROR] Unresolveable build extension: Plugin org.apache.felix:maven-bundle-plugin:2.3.7 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.felix:maven-bundle-plugin:jar:2.3.7 @ \r\n    [ERROR] Unknown packaging: bundle @ line 9, column 13\r\n     @ \r\n    [ERROR] The build could not read 1 project -&gt; [Help 1]\r\n    [ERROR]   \r\n    [ERROR]   The project com.prudential.integration.middleware:crm-services:1.0.0-SNAPSHOT (C:\\Users\\c76266\\Documents\\workspace-sts-3.8.3.RELEASE\\crm-services\\pom.xml) has 2 errors\r\n    [ERROR]     Unresolveable build extension: Plugin org.apache.felix:maven-bundle-plugin:2.3.7 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.felix:maven-bundle-plugin:jar:2.3.7: Could not transfer artifact org.apache.felix:maven-bundle-plugin:pom:2.3.7 from/to central (https://repo.maven.apache.org/maven2): unexpected end of stream on Connection{repo.maven.apache.org:443, proxy=HTTP @ /10.171.74.5:8080 hostAddress=10.171.74.5 cipherSuite=none protocol=http/1.1} (recycle count=0): \\n not found: size=0 content=... -&gt; [Help 2]\r\n    [ERROR]     Unknown packaging: bundle @ line 9, column 13\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException\r\n    [ERROR] [Help 2] http://cwiki.apache.org/confluence/display/MAVEN/PluginManagerException\r\n\r\nHow to fixed this problem? below my pom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.prudential.integration.middleware&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;crm-services&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;bundle&lt;/packaging&gt;\r\n    \t&lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n    \t&lt;name&gt;CRM SERVICES&lt;/name&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;release.fusesource.org&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;FuseSource Release Repository&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;http://repo.fusesource.com/nexus/content/repositories/releases&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t\t&lt;releases&gt;\r\n    \t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t&lt;/releases&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;ea.fusesource.org&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;FuseSource Community Early Access Release Repository&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;http://repo.fusesource.com/nexus/content/groups/ea&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t\t&lt;releases&gt;\r\n    \t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t&lt;/releases&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n    \r\n    \t&lt;pluginRepositories&gt;\r\n    \t\t&lt;pluginRepository&gt;\r\n    \t\t\t&lt;id&gt;release.fusesource.org&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;FuseSource Release Repository&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;http://repo.fusesource.com/nexus/content/repositories/releases&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t\t&lt;releases&gt;\r\n    \t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t&lt;/releases&gt;\r\n    \t\t&lt;/pluginRepository&gt;\r\n    \t\t&lt;pluginRepository&gt;\r\n    \t\t\t&lt;id&gt;ea.fusesource.org&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;FuseSource Community Early Access Release Repository&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;http://repo.fusesource.com/nexus/content/groups/ea&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t\t&lt;releases&gt;\r\n    \t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t&lt;/releases&gt;\r\n    \t\t&lt;/pluginRepository&gt;\r\n    \t&lt;/pluginRepositories&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;camel-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.15.1.redhat-620133&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;camel-jaxb&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.15.1.redhat-620133&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;camel-jackson&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.15.1.redhat-620133&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;camel-mail&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.15.1.redhat-620133&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;camel-cxf&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.15.1.redhat-620133&lt;/version&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;asm&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;asm&lt;/groupId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cxf-rt-frontend-jaxrs&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.4.redhat-620133&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cxf-rt-transports-http-jetty&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.4.redhat-620133&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-email&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.10&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.3.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- Database --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;camel-sql&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.15.1.redhat-620133&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.microsoft.sqlserver.jdbc&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;sqlserverjdbc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;9.1-901-1.jdbc4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- logging --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.7.10&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.7.10&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2.17&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.prudential.integration.middleware&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;common-utilities&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.prudential.integration.middleware.common&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;prudential-fuse-common-dao&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.prudential.integration.middleware.common&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;prudential-fuse-common-model&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.prudential.enc&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;pruencutil&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;defaultGoal&gt;install&lt;/defaultGoal&gt;\r\n    \r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.5.1&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;1.7&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;1.7&lt;/target&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.6&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t\t&lt;!-- allows the route to be ran via &#39;mvn camel:run&#39; --&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;camel-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.15.1.redhat-620133&lt;/version&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t\t&lt;!-- to generate the MANIFEST-FILE of the bundle --&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.3.7&lt;/version&gt;\r\n    \t\t\t\t&lt;extensions&gt;true&lt;/extensions&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;instructions&gt;\r\n    \t\t\t\t\t\t&lt;Bundle-SymbolicName&gt;crm-service&lt;/Bundle-SymbolicName&gt;\r\n    \t\t\t\t\t\t&lt;Export-Package /&gt;\r\n    \t\t\t\t\t\t&lt;Import-Package&gt;*&lt;/Import-Package&gt;\r\n    \t\t\t\t\t\t&lt;Embed-Dependency&gt;sqlserverjdbc,commons-lang3,commons-dbcp,commons-codec,commons-email,postgresql,pruencutil&lt;/Embed-Dependency&gt;\r\n    \t\t\t\t\t&lt;/instructions&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n","title":"Unresolveable build extension: or one of its dependencies could not be resolved: Failed to read artifact descriptor","body":"<p>I have a problem with run the maven install. when I imported the project, pom.xml file show an error:</p>\n\n<blockquote>\n  <p>Multiple annotations found at this line:\n    - Project build error: Unresolveable build extension: Plugin org.apache.felix:maven-bundle-plugin:2.3.7 or one of its dependencies\n  could not be resolved: Failed      to read artifact descriptor for\n  org.apache.felix:maven-bundle-plugin:jar:2.3.7\n    - Error resolving version for plugin 'org.apache.maven.plugins:maven-site-plugin' from the repositories\n  [local (C:\\Users\\c76266.m2\\repository),       release.fusesource.org\n  (<a href=\"http://repo.fusesource.com/nexus/content/repositories/releases\" rel=\"nofollow noreferrer\">http://repo.fusesource.com/nexus/content/repositories/releases</a>),\n  ea.fusesource.org\n  (<a href=\"http://repo.fusesource.com/nexus/content/groups/ea\" rel=\"nofollow noreferrer\">http://repo.fusesource.com/nexus/content/groups/ea</a>),      central\n  (<a href=\"https://repo.maven.apache.org/maven2)]\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2)]</a>: Plugin not found in any\n  plugin repository</p>\n</blockquote>\n\n<p>I had updated project and this step cannot solving this problem. when I run maven install or clean show an error:</p>\n\n<pre><code>[INFO] Scanning for projects...\n[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/felix/maven-bundle-plugin/2.3.7/maven-bundle-plugin-2.3.7.pom\n[ERROR] [ERROR] Some problems were encountered while processing the POMs:\n[ERROR] Unresolveable build extension: Plugin org.apache.felix:maven-bundle-plugin:2.3.7 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.felix:maven-bundle-plugin:jar:2.3.7 @ \n[ERROR] Unknown packaging: bundle @ line 9, column 13\n @ \n[ERROR] The build could not read 1 project -&gt; [Help 1]\n[ERROR]   \n[ERROR]   The project com.prudential.integration.middleware:crm-services:1.0.0-SNAPSHOT (C:\\Users\\c76266\\Documents\\workspace-sts-3.8.3.RELEASE\\crm-services\\pom.xml) has 2 errors\n[ERROR]     Unresolveable build extension: Plugin org.apache.felix:maven-bundle-plugin:2.3.7 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.felix:maven-bundle-plugin:jar:2.3.7: Could not transfer artifact org.apache.felix:maven-bundle-plugin:pom:2.3.7 from/to central (https://repo.maven.apache.org/maven2): unexpected end of stream on Connection{repo.maven.apache.org:443, proxy=HTTP @ /10.171.74.5:8080 hostAddress=10.171.74.5 cipherSuite=none protocol=http/1.1} (recycle count=0): \\n not found: size=0 content=... -&gt; [Help 2]\n[ERROR]     Unknown packaging: bundle @ line 9, column 13\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException\n[ERROR] [Help 2] http://cwiki.apache.org/confluence/display/MAVEN/PluginManagerException\n</code></pre>\n\n<p>How to fixed this problem? below my pom.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.prudential.integration.middleware&lt;/groupId&gt;\n    &lt;artifactId&gt;crm-services&lt;/artifactId&gt;\n    &lt;packaging&gt;bundle&lt;/packaging&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;name&gt;CRM SERVICES&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;release.fusesource.org&lt;/id&gt;\n            &lt;name&gt;FuseSource Release Repository&lt;/name&gt;\n            &lt;url&gt;http://repo.fusesource.com/nexus/content/repositories/releases&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/releases&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;ea.fusesource.org&lt;/id&gt;\n            &lt;name&gt;FuseSource Community Early Access Release Repository&lt;/name&gt;\n            &lt;url&gt;http://repo.fusesource.com/nexus/content/groups/ea&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/releases&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;release.fusesource.org&lt;/id&gt;\n            &lt;name&gt;FuseSource Release Repository&lt;/name&gt;\n            &lt;url&gt;http://repo.fusesource.com/nexus/content/repositories/releases&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/releases&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;ea.fusesource.org&lt;/id&gt;\n            &lt;name&gt;FuseSource Community Early Access Release Repository&lt;/name&gt;\n            &lt;url&gt;http://repo.fusesource.com/nexus/content/groups/ea&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/releases&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-core&lt;/artifactId&gt;\n            &lt;version&gt;2.15.1.redhat-620133&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-jaxb&lt;/artifactId&gt;\n            &lt;version&gt;2.15.1.redhat-620133&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-jackson&lt;/artifactId&gt;\n            &lt;version&gt;2.15.1.redhat-620133&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-mail&lt;/artifactId&gt;\n            &lt;version&gt;2.15.1.redhat-620133&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-cxf&lt;/artifactId&gt;\n            &lt;version&gt;2.15.1.redhat-620133&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;asm&lt;/artifactId&gt;\n                    &lt;groupId&gt;asm&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n            &lt;artifactId&gt;cxf-rt-frontend-jaxrs&lt;/artifactId&gt;\n            &lt;version&gt;3.0.4.redhat-620133&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n            &lt;artifactId&gt;cxf-rt-transports-http-jetty&lt;/artifactId&gt;\n            &lt;version&gt;3.0.4.redhat-620133&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-email&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n            &lt;version&gt;1.10&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Database --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-sql&lt;/artifactId&gt;\n            &lt;version&gt;2.15.1.redhat-620133&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;sqlserverjdbc&lt;/artifactId&gt;\n            &lt;version&gt;4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;9.1-901-1.jdbc4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- logging --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;1.7.10&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;version&gt;1.7.10&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.17&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.prudential.integration.middleware&lt;/groupId&gt;\n            &lt;artifactId&gt;common-utilities&lt;/artifactId&gt;\n            &lt;version&gt;1.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.prudential.integration.middleware.common&lt;/groupId&gt;\n            &lt;artifactId&gt;prudential-fuse-common-dao&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.prudential.integration.middleware.common&lt;/groupId&gt;\n            &lt;artifactId&gt;prudential-fuse-common-model&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.prudential.enc&lt;/groupId&gt;\n            &lt;artifactId&gt;pruencutil&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;defaultGoal&gt;install&lt;/defaultGoal&gt;\n\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.7&lt;/source&gt;\n                    &lt;target&gt;1.7&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.6&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;!-- allows the route to be ran via 'mvn camel:run' --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n                &lt;artifactId&gt;camel-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.15.1.redhat-620133&lt;/version&gt;\n            &lt;/plugin&gt;\n\n            &lt;!-- to generate the MANIFEST-FILE of the bundle --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.3.7&lt;/version&gt;\n                &lt;extensions&gt;true&lt;/extensions&gt;\n                &lt;configuration&gt;\n                    &lt;instructions&gt;\n                        &lt;Bundle-SymbolicName&gt;crm-service&lt;/Bundle-SymbolicName&gt;\n                        &lt;Export-Package /&gt;\n                        &lt;Import-Package&gt;*&lt;/Import-Package&gt;\n                        &lt;Embed-Dependency&gt;sqlserverjdbc,commons-lang3,commons-dbcp,commons-codec,commons-email,postgresql,pruencutil&lt;/Embed-Dependency&gt;\n                    &lt;/instructions&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","javafx","scenebuilder"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1400276118,"post_id":23704723,"comment_id":36427838,"body_markdown":"Basically the same way you opened the first window... Can you show us what you have tried?","body":"Basically the same way you opened the first window... Can you show us what you have tried?"},{"owner":{"account_id":4482487,"reputation":11,"user_id":3646204,"display_name":"user3646204"},"score":0,"creation_date":1400291422,"post_id":23704723,"comment_id":36431448,"body_markdown":"This is how I have my first window set up\n\n\t@Override\n\tpublic void start(Stage primaryStage) throws Exception \n\t{\n\t\tParent root = FXMLLoader.load(getClass().getResource(&quot;Main.fxml&quot;));\n\t\tScene scene = new Scene(root);\n\t\t\n\t\tprimaryStage.setResizable(false);\n\t\tprimaryStage.setScene(scene);\n\t\tprimaryStage.setTitle(&quot;Hello World!&quot;);\n\t\tprimaryStage.show();\n\t}\n\nSo I could copy that but change the values for my new window? Then how would I link that for my button? I&#39;ve tried some Event handlers but to no avail.","body":"This is how I have my first window set up  \t@Override \tpublic void start(Stage primaryStage) throws Exception  \t{ \t\tParent root = FXMLLoader.load(getClass().getResource(&quot;Main.fxml&quot;)); \t\tScene scene = new Scene(root); \t\t \t\tprimaryStage.setResizable(false); \t\tprimaryStage.setScene(scene); \t\tprimaryStage.setTitle(&quot;Hello World!&quot;); \t\tprimaryStage.show(); \t}  So I could copy that but change the values for my new window? Then how would I link that for my button? I&#39;ve tried some Event handlers but to no avail."},{"owner":{"account_id":4482487,"reputation":11,"user_id":3646204,"display_name":"user3646204"},"score":0,"creation_date":1400291954,"post_id":23704723,"comment_id":36431527,"body_markdown":"Sorry, didn&#39;t know comments can&#39;t have code snippets, I will properly code this in an answer when my 8 hours limit is up","body":"Sorry, didn&#39;t know comments can&#39;t have code snippets, I will properly code this in an answer when my 8 hours limit is up"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1400295287,"post_id":23704723,"comment_id":36431921,"body_markdown":"(I edited your question and added your code: go ahead and delete your comments to keep this cleaner.)","body":"(I edited your question and added your code: go ahead and delete your comments to keep this cleaner.)"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1400295377,"post_id":23704723,"comment_id":36431937,"body_markdown":"Can you show the code for the event handler you tried? You basically just create a new Stage and then do exactly what you do for your primary stage in the start method.","body":"Can you show the code for the event handler you tried? You basically just create a new Stage and then do exactly what you do for your primary stage in the start method."}],"answers":[{"tags":[],"owner":{"account_id":2701814,"reputation":7439,"user_id":2332384,"accept_rate":68,"display_name":"Mateus Viccari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400470255,"creation_date":1400470255,"answer_id":23729320,"question_id":23704723,"body_markdown":"If you are using FXML, on the button there is a property called onAction. You can find it on the &quot;Code&quot; section in scene builder, or directly on the .fxml file.\r\nThere you just type the name of a method.\r\n\r\nThen, you need to create this method in the controller class of your scene. If you have not created a controller for your scene, you just need to set the property &quot;controller&quot; in your scene&#39;s root element, just like you did with the onAction of the button.\r\n\r\nIn the method you have created, you just type the code to open the new scene, something like this:\r\n\r\n    FXMLLoader fxmlLoader = new FXMLLoader(getClass().getResource(&quot;/org/yourcompanyname/yourapplicationname/layouts/nameOfYourFxmlFile.fxml&quot;));\r\n    Parent root = fxmlLoader.load();\r\n    Stage stage = new Stage();\r\n    stage.initModality(Modality.APPLICATION_MODAL);\r\n    stage.setOpacity(1);\r\n    stage.setTitle(&quot;My New Stage Title&quot;);\r\n    stage.setScene(new Scene(root, 450, 450));\r\n    stage.showAndWait();","title":"In JavaFX &amp; Scene Builder, how do I open a new window when clicking a button?","body":"<p>If you are using FXML, on the button there is a property called onAction. You can find it on the \"Code\" section in scene builder, or directly on the .fxml file.\nThere you just type the name of a method.</p>\n\n<p>Then, you need to create this method in the controller class of your scene. If you have not created a controller for your scene, you just need to set the property \"controller\" in your scene's root element, just like you did with the onAction of the button.</p>\n\n<p>In the method you have created, you just type the code to open the new scene, something like this:</p>\n\n<pre><code>FXMLLoader fxmlLoader = new FXMLLoader(getClass().getResource(\"/org/yourcompanyname/yourapplicationname/layouts/nameOfYourFxmlFile.fxml\"));\nParent root = fxmlLoader.load();\nStage stage = new Stage();\nstage.initModality(Modality.APPLICATION_MODAL);\nstage.setOpacity(1);\nstage.setTitle(\"My New Stage Title\");\nstage.setScene(new Scene(root, 450, 450));\nstage.showAndWait();\n</code></pre>\n"}],"owner":{"account_id":4482487,"reputation":11,"user_id":3646204,"display_name":"user3646204"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12556,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1699682500,"creation_date":1400275236,"question_id":23704723,"body_markdown":"I&#39;ve already got the FXML file for the second window, and I&#39;m lost from here. How do I get my program to open the new window and FXML after I press a button?\r\n\r\nThis is how I have my first window set up \r\n\r\n    @Override \r\n    public void start(Stage primaryStage) throws Exception { \r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;Main.fxml&quot;)); \r\n        Scene scene = new Scene(root); primaryStage.setResizable(false);    \r\n        primaryStage.setScene(scene); \r\n        primaryStage.setTitle(&quot;Hello World!&quot;); \r\n        primaryStage.show(); \r\n    } \r\n\r\nSo I could copy that but change the values for my new window? Then how would I link that for my button? I&#39;ve tried some Event handlers but to no avail.","title":"In JavaFX &amp; Scene Builder, how do I open a new window when clicking a button?","body":"<p>I've already got the FXML file for the second window, and I'm lost from here. How do I get my program to open the new window and FXML after I press a button?</p>\n\n<p>This is how I have my first window set up </p>\n\n<pre><code>@Override \npublic void start(Stage primaryStage) throws Exception { \n    Parent root = FXMLLoader.load(getClass().getResource(\"Main.fxml\")); \n    Scene scene = new Scene(root); primaryStage.setResizable(false);    \n    primaryStage.setScene(scene); \n    primaryStage.setTitle(\"Hello World!\"); \n    primaryStage.show(); \n} \n</code></pre>\n\n<p>So I could copy that but change the values for my new window? Then how would I link that for my button? I've tried some Event handlers but to no avail.</p>\n"},{"tags":["java","mysql","minecraft","bungeecord"],"answers":[{"comments":[{"owner":{"account_id":26121316,"reputation":1,"user_id":19813560,"display_name":"ItDragClick"},"score":0,"creation_date":1661088738,"post_id":73434710,"comment_id":129683558,"body_markdown":"String name is the guild name and the code is always output with false\nMy database have 3 column name, displayname, owner\nowner of the guild is uuid name and displayname is the name String","body":"String name is the guild name and the code is always output with false My database have 3 column name, displayname, owner owner of the guild is uuid name and displayname is the name String"},{"owner":{"account_id":26108999,"reputation":52,"user_id":19803256,"display_name":"Linus Groschke"},"score":0,"creation_date":1661095706,"post_id":73434710,"comment_id":129685084,"body_markdown":"Do you get any exceptions?","body":"Do you get any exceptions?"},{"owner":{"account_id":26121316,"reputation":1,"user_id":19813560,"display_name":"ItDragClick"},"score":0,"creation_date":1661100642,"post_id":73434710,"comment_id":129686103,"body_markdown":"I don&#39;t know what you mean by &quot;exceptions&quot;, I&#39;m new to MySQL and I want to learn it. I&#39;m good at Lua Roblox, my Java skill is average. I have no knowledge about MySQL because I just start learning it yesterday.","body":"I don&#39;t know what you mean by &quot;exceptions&quot;, I&#39;m new to MySQL and I want to learn it. I&#39;m good at Lua Roblox, my Java skill is average. I have no knowledge about MySQL because I just start learning it yesterday."},{"owner":{"account_id":26108999,"reputation":52,"user_id":19803256,"display_name":"Linus Groschke"},"score":0,"creation_date":1661101464,"post_id":73434710,"comment_id":129686310,"body_markdown":"„Exceptions“ aren’t a MySQL thing. To put it simple: Are there any errors in the BungeeCord console?","body":"„Exceptions“ aren’t a MySQL thing. To put it simple: Are there any errors in the BungeeCord console?"},{"owner":{"account_id":26121316,"reputation":1,"user_id":19813560,"display_name":"ItDragClick"},"score":0,"creation_date":1661168488,"post_id":73434710,"comment_id":129699816,"body_markdown":"Thx i just did it","body":"Thx i just did it"}],"tags":[],"owner":{"account_id":26108999,"reputation":52,"user_id":19803256,"display_name":"Linus Groschke"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699680829,"creation_date":1661087319,"answer_id":73434710,"question_id":73434331,"body_markdown":"I&#39;d suggest you to learn more about the basics of programming in Java! Minecraft is a great way to start into programming, but you should be interested in doing things properly.\r\n\r\n``` lang-java\r\npublic static boolean hasGuild(String name) {\r\n        PreparedStatement statement = null;\r\n        ResultSet resultSet = null;\r\n        try {\r\n            statement = connection.prepareStatement(&quot;SELECT COUNT(name) FROM guild WHERE name = ?&quot;);\r\n            statement.setString(1, name);\r\n\r\n            resultSet = statement.executeQuery();\r\n            if (resultSet.next()) return resultSet.getInt(1) &gt; 0;\r\n        } catch (SQLException e) {\r\n            // TODO properly handle exception\r\n        } finally {\r\n            if (resultSet != null) {\r\n                try {\r\n                    resultSet.close();\r\n                } catch (SQLException e) {\r\n                    // TODO properly handle exception\r\n                }\r\n            }\r\n\r\n            if (statement != null) {\r\n                try {\r\n                    statement.close();\r\n                } catch (SQLException e) {\r\n                    // TODO properly handle exception\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n```\r\n\r\nSome thoughts on what this code is doing:\r\n\r\n - Asking the database for the number of rows whose name column matches the given string. Always make sure that you only request the data that&#39;s necessary for your purpose. Requesting all columns with their data is overkill if you only want to answer if there are any rows or not.\r\n\r\n - If the number of rows is greater than zero, it&#39;ll return true, because there are rows with a matching name column.\r\n\r\nSome thoughts you should make yourself:\r\n\r\n - What is contained in the name column? If it&#39;s the guild&#39;s name, then that&#39;s fine, but if that&#39;s the player&#39;s name you should consider re-thinking your code. Player&#39;s in Minecraft can change their name and hence would lose their guild on your server. Players in Minecraft are uniquely identified by their UUID, which will never change. Maybe consider using the UUID then!\r\n\r\n - In order for the query to be as fast a possible you should set an INDEX on the name column. That will speed up the lookup proccess even if there are plenty of rows!","title":"check row if not exist mysql and got output to boolean bukkit","body":"<p>I'd suggest you to learn more about the basics of programming in Java! Minecraft is a great way to start into programming, but you should be interested in doing things properly.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean hasGuild(String name) {\n        PreparedStatement statement = null;\n        ResultSet resultSet = null;\n        try {\n            statement = connection.prepareStatement(&quot;SELECT COUNT(name) FROM guild WHERE name = ?&quot;);\n            statement.setString(1, name);\n\n            resultSet = statement.executeQuery();\n            if (resultSet.next()) return resultSet.getInt(1) &gt; 0;\n        } catch (SQLException e) {\n            // TODO properly handle exception\n        } finally {\n            if (resultSet != null) {\n                try {\n                    resultSet.close();\n                } catch (SQLException e) {\n                    // TODO properly handle exception\n                }\n            }\n\n            if (statement != null) {\n                try {\n                    statement.close();\n                } catch (SQLException e) {\n                    // TODO properly handle exception\n                }\n            }\n        }\n        return false;\n    }\n</code></pre>\n<p>Some thoughts on what this code is doing:</p>\n<ul>\n<li><p>Asking the database for the number of rows whose name column matches the given string. Always make sure that you only request the data that's necessary for your purpose. Requesting all columns with their data is overkill if you only want to answer if there are any rows or not.</p>\n</li>\n<li><p>If the number of rows is greater than zero, it'll return true, because there are rows with a matching name column.</p>\n</li>\n</ul>\n<p>Some thoughts you should make yourself:</p>\n<ul>\n<li><p>What is contained in the name column? If it's the guild's name, then that's fine, but if that's the player's name you should consider re-thinking your code. Player's in Minecraft can change their name and hence would lose their guild on your server. Players in Minecraft are uniquely identified by their UUID, which will never change. Maybe consider using the UUID then!</p>\n</li>\n<li><p>In order for the query to be as fast a possible you should set an INDEX on the name column. That will speed up the lookup proccess even if there are plenty of rows!</p>\n</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1661402656,"post_id":73435130,"comment_id":129764783,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/73435130/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26121316,"reputation":1,"user_id":19813560,"display_name":"ItDragClick"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661402626,"creation_date":1661090152,"answer_id":73435130,"question_id":73434331,"body_markdown":"in the try, i try sout resultSet and statement before close and it send this to me\r\n\r\nresultSet :\r\n\r\n    com.mysql.cj.jdbc.ClientPreparedStatement: SELECT COUNT(name) FROM guild WHERE name = &#39;a&#39;\r\n\r\nstatement :\r\n\r\n    com.mysql.cj.jdbc.ClientPreparedStatement: SELECT COUNT(name) FROM guild WHERE name = ** NOT SPECIFIED **\r\n\r\nand return false is my test at last it will return true if it have if not it will return false\r\n","title":"check row if not exist mysql and got output to boolean bukkit","body":"<p>in the try, i try sout resultSet and statement before close and it send this to me</p>\n<p>resultSet :</p>\n<pre><code>com.mysql.cj.jdbc.ClientPreparedStatement: SELECT COUNT(name) FROM guild WHERE name = 'a'\n</code></pre>\n<p>statement :</p>\n<pre><code>com.mysql.cj.jdbc.ClientPreparedStatement: SELECT COUNT(name) FROM guild WHERE name = ** NOT SPECIFIED **\n</code></pre>\n<p>and return false is my test at last it will return true if it have if not it will return false</p>\n"}],"owner":{"account_id":26121316,"reputation":1,"user_id":19813560,"display_name":"ItDragClick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73434710,"answer_count":2,"score":-1,"last_activity_date":1699680829,"creation_date":1661084284,"question_id":73434331,"body_markdown":"I have tried this so many times but I never did it, this is my code\r\n\r\n    public static Boolean checkhaveguild(String name) {\r\n        try {\r\n            Statement statement = connection.createStatement();\r\n            PreparedStatement ps = connection.prepareStatement(&quot;SELECT * FROM guild&quot;);\r\n            System.out.println(statement.execute(&quot;SELECT * FROM guild WHERE name = &quot;+name+&quot;&quot;));\r\n            System.out.println(&quot;----------&quot;);\r\n        } catch (SQLException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        return false;\r\n    }\r\n\r\nI am doing a guild plugin on BungeeCord and getting data from MySQL\r\nThe code is about checking if the row does not exist and output to boolean","title":"check row if not exist mysql and got output to boolean bukkit","body":"<p>I have tried this so many times but I never did it, this is my code</p>\n<pre><code>public static Boolean checkhaveguild(String name) {\n    try {\n        Statement statement = connection.createStatement();\n        PreparedStatement ps = connection.prepareStatement(&quot;SELECT * FROM guild&quot;);\n        System.out.println(statement.execute(&quot;SELECT * FROM guild WHERE name = &quot;+name+&quot;&quot;));\n        System.out.println(&quot;----------&quot;);\n    } catch (SQLException e) {\n        throw new RuntimeException(e);\n    }\n    return false;\n}\n</code></pre>\n<p>I am doing a guild plugin on BungeeCord and getting data from MySQL\nThe code is about checking if the row does not exist and output to boolean</p>\n"},{"tags":["java","spring","spring-boot","distributed-transactions"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1680784527,"post_id":75949411,"comment_id":133958588,"body_markdown":"The fact that it isn&#39;t in the dependencies doesn&#39;t mean you cannot use it.","body":"The fact that it isn&#39;t in the dependencies doesn&#39;t mean you cannot use it."},{"owner":{"account_id":191280,"reputation":15745,"user_id":431769,"accept_rate":78,"display_name":"hudi"},"score":0,"creation_date":1680994697,"post_id":75949411,"comment_id":133988536,"body_markdown":"what do you mean ? I dont want to mix jakarta in new spring boot 3 vs javax in this old dependencies","body":"what do you mean ? I dont want to mix jakarta in new spring boot 3 vs javax in this old dependencies"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681026412,"post_id":75949411,"comment_id":133990744,"body_markdown":"Narayana has a Jakarta based implementation afaik whic you can use (manual configuration required) with Spring Boot. Which is what i meant, the fact that Sprng Boot doesn&#39;t provide management for something automatically doesn&#39;t mean it cannot be used. If it implements the proper interfaces you can add manual configuration.","body":"Narayana has a Jakarta based implementation afaik whic you can use (manual configuration required) with Spring Boot. Which is what i meant, the fact that Sprng Boot doesn&#39;t provide management for something automatically doesn&#39;t mean it cannot be used. If it implements the proper interfaces you can add manual configuration."},{"owner":{"account_id":2338104,"reputation":9101,"user_id":2049986,"accept_rate":89,"display_name":"Jacob van Lingen"},"score":0,"creation_date":1684238348,"post_id":75949411,"comment_id":134485610,"body_markdown":"There is now a `transactions-spring-boot3-starter` see also: https://www.atomikos.com/Blog/ReleasesCategory.","body":"There is now a <code>transactions-spring-boot3-starter</code> see also: <a href=\"https://www.atomikos.com/Blog/ReleasesCategory\" rel=\"nofollow noreferrer\">atomikos.com/Blog/ReleasesCategory</a>."}],"answers":[{"tags":[],"owner":{"account_id":5331841,"reputation":63,"user_id":4252229,"display_name":"simyaci"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695159792,"creation_date":1695159792,"answer_id":77138113,"question_id":75949411,"body_markdown":"Spring had direct support for distributed transaction tools like Atomikos in the past. However, starting from Spring 3, this support has been discontinued, as indicated in the Spring Boot 3.0 Migration Guide. You can use followıng dependency. \r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;com.atomikos&lt;/groupId&gt;\r\n       &lt;artifactId&gt;transactions-spring-boot3-starter&lt;/artifactId&gt;\r\n       &lt;version&gt;6.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;javax.transaction&lt;/groupId&gt;\r\n       &lt;artifactId&gt;jta&lt;/artifactId&gt;\r\n       &lt;version&gt;1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nYou can look at [here][1] for full code and article. \r\n\r\n\r\n  [1]: https://github.com/ahmetuygun/xa-demo","title":"How to replace atomikos in distributed transaction in spring boot 3","body":"<p>Spring had direct support for distributed transaction tools like Atomikos in the past. However, starting from Spring 3, this support has been discontinued, as indicated in the Spring Boot 3.0 Migration Guide. You can use followıng dependency.</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;com.atomikos&lt;/groupId&gt;\n   &lt;artifactId&gt;transactions-spring-boot3-starter&lt;/artifactId&gt;\n   &lt;version&gt;6.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n   &lt;groupId&gt;javax.transaction&lt;/groupId&gt;\n   &lt;artifactId&gt;jta&lt;/artifactId&gt;\n   &lt;version&gt;1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>You can look at <a href=\"https://github.com/ahmetuygun/xa-demo\" rel=\"nofollow noreferrer\">here</a> for full code and article.</p>\n"},{"tags":[],"owner":{"account_id":38554,"reputation":484,"user_id":110737,"display_name":"Guy Pardon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696934272,"creation_date":1696934272,"answer_id":77265036,"question_id":75949411,"body_markdown":"Courtesy of the Spring Boot team, Atomikos now includes its own starter project for spring boot - supporting both JakartaEE _and_ &quot;good old&quot; javax EE.\r\n\r\nJust check [the atomikos website][1] for the latest.\r\n\r\n\r\n  [1]: https://www.atomikos.com","title":"How to replace atomikos in distributed transaction in spring boot 3","body":"<p>Courtesy of the Spring Boot team, Atomikos now includes its own starter project for spring boot - supporting both JakartaEE <em>and</em> &quot;good old&quot; javax EE.</p>\n<p>Just check <a href=\"https://www.atomikos.com\" rel=\"nofollow noreferrer\">the atomikos website</a> for the latest.</p>\n"}],"owner":{"account_id":191280,"reputation":15745,"user_id":431769,"accept_rate":78,"display_name":"hudi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1276,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1699679740,"creation_date":1680783309,"question_id":75949411,"body_markdown":"I try to follow migration guide when atomikos was removed in spring boot 3:\r\nhttps://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide\r\n\r\nbut I can no see information about it. Other frameworks like [narayana][1] or bitronix is also not in spring boot dependencies.  \r\n\r\n\r\n  [1]: https://github.com/snowdrop/narayana-spring-boot/issues/95","title":"How to replace atomikos in distributed transaction in spring boot 3","body":"<p>I try to follow migration guide when atomikos was removed in spring boot 3:\n<a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide</a></p>\n<p>but I can no see information about it. Other frameworks like <a href=\"https://github.com/snowdrop/narayana-spring-boot/issues/95\" rel=\"nofollow noreferrer\">narayana</a> or bitronix is also not in spring boot dependencies.</p>\n"},{"tags":["java","list","algorithm","optimization","multidimensional-array"],"comments":[{"owner":{"account_id":2805962,"reputation":18615,"user_id":2413201,"accept_rate":88,"display_name":"Armali"},"score":0,"creation_date":1699620284,"post_id":77459697,"comment_id":136558101,"body_markdown":"What _will exceed at least 100,000_: the length of _a_, the lengths of _a1, a2, a3,..._, both? Same for _b_?","body":"What <i>will exceed at least 100,000</i>: the length of <i>a</i>, the lengths of <i>a1, a2, a3,...</i>, both? Same for <i>b</i>?"},{"owner":{"account_id":2805962,"reputation":18615,"user_id":2413201,"accept_rate":88,"display_name":"Armali"},"score":0,"creation_date":1699620432,"post_id":77459697,"comment_id":136558125,"body_markdown":"How many different individual strings are in _b_? (In your example, there are four: a, d, c, x.)","body":"How many different individual strings are in <i>b</i>? (In your example, there are four: a, d, c, x.)"},{"owner":{"account_id":25998407,"reputation":13,"user_id":19709339,"display_name":"noen"},"score":0,"creation_date":1699621023,"post_id":77459697,"comment_id":136558226,"body_markdown":"a and b will be almost identical. However, the length of each item is mostly less than 10.\nThe string is just an example and could be in the thousands.\nMaybe there is no same string per item.","body":"a and b will be almost identical. However, the length of each item is mostly less than 10. The string is just an example and could be in the thousands. Maybe there is no same string per item."},{"owner":{"account_id":2805962,"reputation":18615,"user_id":2413201,"accept_rate":88,"display_name":"Armali"},"score":0,"creation_date":1699622434,"post_id":77459697,"comment_id":136558500,"body_markdown":"I didn&#39;t ask about _same string per item_, but rather in the whole _b_ altogether, i. e. is there a considerable amount of strings occurring in multiple items of _b_ (as does `a` in your example)? - The answer must be yes, since you mention only thousands of strings and at least 100,000 items, right?","body":"I didn&#39;t ask about <i>same string per item</i>, but rather in the whole <i>b</i> altogether, i. e. is there a considerable amount of strings occurring in multiple items of <i>b</i> (as does <code>a</code> in your example)? - The answer must be yes, since you mention only thousands of strings and at least 100,000 items, right?"},{"owner":{"account_id":25998407,"reputation":13,"user_id":19709339,"display_name":"noen"},"score":0,"creation_date":1699624066,"post_id":77459697,"comment_id":136558801,"body_markdown":"right, My goal is to find all lists that contain at least one item.","body":"right, My goal is to find all lists that contain at least one item."},{"owner":{"account_id":2805962,"reputation":18615,"user_id":2413201,"accept_rate":88,"display_name":"Armali"},"score":0,"creation_date":1699624753,"post_id":77459697,"comment_id":136558930,"body_markdown":"Your statement _My goal is to find all lists that contain at least one item_ is confusing, not only because it has nothing to do with my preceding question, but also since before you denoted as _item_ the things like _b1,b2,b3..._, i. e. _item_ is a list of strings. Did you rather mean _My goal is to find all lists that contain at least one string from an item_?","body":"Your statement <i>My goal is to find all lists that contain at least one item</i> is confusing, not only because it has nothing to do with my preceding question, but also since before you denoted as <i>item</i> the things like <i>b1,b2,b3...</i>, i. e. <i>item</i> is a list of strings. Did you rather mean <i>My goal is to find all lists that contain at least one string from an item</i>?"},{"owner":{"account_id":25998407,"reputation":13,"user_id":19709339,"display_name":"noen"},"score":1,"creation_date":1699625683,"post_id":77459697,"comment_id":136559107,"body_markdown":"Thanks for pointing this out, I&#39;ll modify it soon","body":"Thanks for pointing this out, I&#39;ll modify it soon"},{"owner":{"account_id":2805962,"reputation":18615,"user_id":2413201,"accept_rate":88,"display_name":"Armali"},"score":0,"creation_date":1699626143,"post_id":77459697,"comment_id":136559193,"body_markdown":"No big deal, it was only a comment after all; the question itself seems clear enough in this respect.","body":"No big deal, it was only a comment after all; the question itself seems clear enough in this respect."}],"answers":[{"tags":[],"owner":{"account_id":8884226,"reputation":514,"user_id":6633045,"display_name":"phuongnq1995"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699678134,"creation_date":1699678134,"answer_id":77463929,"question_id":77459697,"body_markdown":"I&#39;m not sure that there is a way to reduce it to below `O(n^2)` but to reduce it to `O(n^2)` we can reduce `List.contains` `O(n)` by `HashMap.get` which is `O(1)` time complexity.\r\n\r\nThe suggestion is instead of checking `contains`, we find the indexes of elements in list `a`, and `b` elements will get that indexes and get the corresponding list of `a`. \r\n\r\nFirstly, build a `Map` containing elements of `a` as key and value as its indexes.\r\n```\r\n\r\n    Map&lt;String, Set&lt;Integer&gt;&gt; aInSet = new HashMap&lt;&gt;();\r\n    \r\n    for (int i = 0; i &lt; a.size(); i++) {\r\n        for (String elem : a.get(i)) {\r\n            Set&lt;Integer&gt; elementSet = aInSet.getOrDefault(elem, new HashSet&lt;&gt;());\r\n            elementSet.add(i);\r\n            aInSet.put(elem, elementSet);\r\n        }\r\n     }\r\n\r\n```\r\nHere is the output of `aInSet`, now we have the index list of elements belonging to.\r\n```\r\na=[0, 2], b=[0], c=[0], d=[1, 2], e=[1], f=[1, 2]\r\n```\r\nThen we combine the indexes of a list of elements in `b` to get the corresponding in `a`.\r\n\r\nEx for `[a, d]`, we have a combined set `[0, 1, 2]`. Here is the code\r\n```\r\n\r\n    Map&lt;List&lt;String&gt;, List&lt;List&lt;String&gt;&gt;&gt; result = new HashMap&lt;&gt;();\r\n\r\n    for (List&lt;String&gt; elem : b) {\r\n        Set&lt;Integer&gt; elemSet = new HashSet&lt;&gt;();\r\n        for (String elemB: elem) {\r\n            elemSet.addAll(aInSet.getOrDefault(elemB, new HashSet&lt;&gt;()));\r\n        }\r\n        List&lt;List&lt;String&gt;&gt; listContainElem = elemSet.stream()\r\n            .map(a::get)\r\n            .collect(Collectors.toList());\r\n        result.put(elem, listContainElem);\r\n    }\r\n\r\n```","title":"check duplication of two 2-dimensional-list algorithm?","body":"<p>I'm not sure that there is a way to reduce it to below <code>O(n^2)</code> but to reduce it to <code>O(n^2)</code> we can reduce <code>List.contains</code> <code>O(n)</code> by <code>HashMap.get</code> which is <code>O(1)</code> time complexity.</p>\n<p>The suggestion is instead of checking <code>contains</code>, we find the indexes of elements in list <code>a</code>, and <code>b</code> elements will get that indexes and get the corresponding list of <code>a</code>.</p>\n<p>Firstly, build a <code>Map</code> containing elements of <code>a</code> as key and value as its indexes.</p>\n<pre><code>\n    Map&lt;String, Set&lt;Integer&gt;&gt; aInSet = new HashMap&lt;&gt;();\n    \n    for (int i = 0; i &lt; a.size(); i++) {\n        for (String elem : a.get(i)) {\n            Set&lt;Integer&gt; elementSet = aInSet.getOrDefault(elem, new HashSet&lt;&gt;());\n            elementSet.add(i);\n            aInSet.put(elem, elementSet);\n        }\n     }\n\n</code></pre>\n<p>Here is the output of <code>aInSet</code>, now we have the index list of elements belonging to.</p>\n<pre><code>a=[0, 2], b=[0], c=[0], d=[1, 2], e=[1], f=[1, 2]\n</code></pre>\n<p>Then we combine the indexes of a list of elements in <code>b</code> to get the corresponding in <code>a</code>.</p>\n<p>Ex for <code>[a, d]</code>, we have a combined set <code>[0, 1, 2]</code>. Here is the code</p>\n<pre><code>\n    Map&lt;List&lt;String&gt;, List&lt;List&lt;String&gt;&gt;&gt; result = new HashMap&lt;&gt;();\n\n    for (List&lt;String&gt; elem : b) {\n        Set&lt;Integer&gt; elemSet = new HashSet&lt;&gt;();\n        for (String elemB: elem) {\n            elemSet.addAll(aInSet.getOrDefault(elemB, new HashSet&lt;&gt;()));\n        }\n        List&lt;List&lt;String&gt;&gt; listContainElem = elemSet.stream()\n            .map(a::get)\n            .collect(Collectors.toList());\n        result.put(elem, listContainElem);\n    }\n\n</code></pre>\n"}],"owner":{"account_id":25998407,"reputation":13,"user_id":19709339,"display_name":"noen"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77463929,"answer_count":1,"score":1,"last_activity_date":1699678134,"creation_date":1699616008,"question_id":77459697,"body_markdown":"Two List\\&lt;List\\&lt;string\\&gt;\\&gt; are given (referred to as a and b).\r\n\r\nit returns: Map\\&lt;List\\&lt;string\\&gt;, List\\&lt;List\\&lt;string\\&gt;\\&gt;\\&gt;\r\n\r\n- let the items of a, b them a1, a2, a3,... and b1,b2,b3...\r\n- Select only items with overlapping strings ​​among the elements of b1 and a1 (List\\&lt;string\\&gt;) \r\n- Enter key = b1, value = a1 in result.\r\n\r\nex)\r\n\r\n```ansi\r\nDefine a and b as follows:\r\na = [a, b, c], [d, e, f], [a, d, f]\r\nb = [a, d], [a], [c], [x]\r\n\r\nit returns : \r\nkey        value \r\n[a,d]    | [a,b,c],[d,e,f],[a,d,f] \r\n[a]      | [a,b,c],[a,d,f] \r\n[c]      | [a,b,c] \r\n[x]      | empty list\r\n```\r\nIn reality, the length of the list in a and b will exceed at least 100,000.\r\nI tried this method using the List.contains, but time complexity was O(n^3) at the worst case.  \r\nHere is my code, I want to reduce the time complexity of that algorithm below O(n^2).\r\n\r\n```java\r\n public Map&lt;List&lt;String&gt;, List&lt;List&lt;String&gt;&gt;&gt; compute(List&lt;List&lt;String&gt;&gt; a, List&lt;List&lt;String&gt;&gt; b) {\r\n\r\n        Map&lt;List&lt;String&gt;, List&lt;List&lt;String&gt;&gt;&gt; result = new HashMap&lt;&gt;();\r\n\r\n        for (List&lt;String&gt; elem : b) {\r\n            result.put(elem, a.stream().filter(e -&gt; e.stream().anyMatch(elem::contains)).toList());\r\n        }\r\n        return result;\r\n    }\r\n```","title":"check duplication of two 2-dimensional-list algorithm?","body":"<p>Two List&lt;List&lt;string&gt;&gt; are given (referred to as a and b).</p>\n<p>it returns: Map&lt;List&lt;string&gt;, List&lt;List&lt;string&gt;&gt;&gt;</p>\n<ul>\n<li>let the items of a, b them a1, a2, a3,... and b1,b2,b3...</li>\n<li>Select only items with overlapping strings ​​among the elements of b1 and a1 (List&lt;string&gt;)</li>\n<li>Enter key = b1, value = a1 in result.</li>\n</ul>\n<p>ex)</p>\n<pre><code>Define a and b as follows:\na = [a, b, c], [d, e, f], [a, d, f]\nb = [a, d], [a], [c], [x]\n\nit returns : \nkey        value \n[a,d]    | [a,b,c],[d,e,f],[a,d,f] \n[a]      | [a,b,c],[a,d,f] \n[c]      | [a,b,c] \n[x]      | empty list\n</code></pre>\n<p>In reality, the length of the list in a and b will exceed at least 100,000.\nI tried this method using the List.contains, but time complexity was O(n^3) at the worst case.<br />\nHere is my code, I want to reduce the time complexity of that algorithm below O(n^2).</p>\n<pre class=\"lang-java prettyprint-override\"><code> public Map&lt;List&lt;String&gt;, List&lt;List&lt;String&gt;&gt;&gt; compute(List&lt;List&lt;String&gt;&gt; a, List&lt;List&lt;String&gt;&gt; b) {\n\n        Map&lt;List&lt;String&gt;, List&lt;List&lt;String&gt;&gt;&gt; result = new HashMap&lt;&gt;();\n\n        for (List&lt;String&gt; elem : b) {\n            result.put(elem, a.stream().filter(e -&gt; e.stream().anyMatch(elem::contains)).toList());\n        }\n        return result;\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","events","event-listener"],"answers":[{"comments":[{"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"score":0,"creation_date":1699729109,"post_id":77463924,"comment_id":136569086,"body_markdown":"what is the latest official recommended way then in spring boot documentation? annotation? I might refactor to that then, thanks","body":"what is the latest official recommended way then in spring boot documentation? annotation? I might refactor to that then, thanks"}],"tags":[],"owner":{"account_id":5378281,"reputation":1519,"user_id":4284406,"accept_rate":25,"display_name":"Kenny Tai Huynh"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1699677932,"creation_date":1699677932,"answer_id":77463924,"question_id":77463574,"body_markdown":"Based on the document, they are almost the same\r\n\r\n&gt; There are two ways to define a listener. We can either use the @EventListener annotation or implement the ApplicationListener interface. In either case, the listener class has to be managed by Spring.Blockquote\r\n\r\nBut if you use @EvenListener, it will automatically register the ApplicationListener. The whole quote are:\r\n\r\n&gt; Starting with Spring 4.1 it’s now possible to simply annotate a method of a managed bean with @EventListener to automatically register an ApplicationListener matching the signature of the method\r\n\r\nIn the official site, the doc also explains that the annotation make it easier to use + shorter. The link should be: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/event/EventListener.html\r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/ApplicationListener.html\r\n\r\nHope this help.","title":"Java ApplicationEvents: Difference between @EventListener annotation and ApplicationListener interface","body":"<p>Based on the document, they are almost the same</p>\n<blockquote>\n<p>There are two ways to define a listener. We can either use the @EventListener annotation or implement the ApplicationListener interface. In either case, the listener class has to be managed by Spring.Blockquote</p>\n</blockquote>\n<p>But if you use @EvenListener, it will automatically register the ApplicationListener. The whole quote are:</p>\n<blockquote>\n<p>Starting with Spring 4.1 it’s now possible to simply annotate a method of a managed bean with @EventListener to automatically register an ApplicationListener matching the signature of the method</p>\n</blockquote>\n<p>In the official site, the doc also explains that the annotation make it easier to use + shorter. The link should be: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/event/EventListener.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/event/EventListener.html</a></p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/ApplicationListener.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/ApplicationListener.html</a></p>\n<p>Hope this help.</p>\n"}],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77463924,"answer_count":1,"score":2,"last_activity_date":1699677932,"creation_date":1699665573,"question_id":77463574,"body_markdown":"I am using Java ApplicationEvents to publish and then subscribe listen to an event. What is the difference between `@EventListener` annotation and `ApplicationListener` interface. Any differences, or the same functionality?\r\n\r\nResource: https://reflectoring.io/spring-boot-application-events-explained/\r\n\r\n**Method 1:**\r\n\r\n    @Component\r\n    class UserRemovedListener {\r\n    \r\n      @EventListener(condition = &quot;#event.name eq &#39;reflectoring&#39;&quot;)\r\n      void handleConditionalListener(UserRemovedEvent event) {\r\n        // handle UserRemovedEvent\r\n      }\r\n    }\r\n\r\n**Method 2:**\r\n\r\n    @Component\r\n    class UserCreatedListener implements ApplicationListener&lt;UserCreatedEvent&gt; {\r\n    \r\n      @Override\r\n      public void onApplicationEvent(UserCreatedEvent event) {\r\n        // handle UserCreatedEvent\r\n      }\r\n    }","title":"Java ApplicationEvents: Difference between @EventListener annotation and ApplicationListener interface","body":"<p>I am using Java ApplicationEvents to publish and then subscribe listen to an event. What is the difference between <code>@EventListener</code> annotation and <code>ApplicationListener</code> interface. Any differences, or the same functionality?</p>\n<p>Resource: <a href=\"https://reflectoring.io/spring-boot-application-events-explained/\" rel=\"nofollow noreferrer\">https://reflectoring.io/spring-boot-application-events-explained/</a></p>\n<p><strong>Method 1:</strong></p>\n<pre><code>@Component\nclass UserRemovedListener {\n\n  @EventListener(condition = &quot;#event.name eq 'reflectoring'&quot;)\n  void handleConditionalListener(UserRemovedEvent event) {\n    // handle UserRemovedEvent\n  }\n}\n</code></pre>\n<p><strong>Method 2:</strong></p>\n<pre><code>@Component\nclass UserCreatedListener implements ApplicationListener&lt;UserCreatedEvent&gt; {\n\n  @Override\n  public void onApplicationEvent(UserCreatedEvent event) {\n    // handle UserCreatedEvent\n  }\n}\n</code></pre>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1663061595,"post_id":73700516,"comment_id":130144935,"body_markdown":"Note that if your regex needs to use `*` as a literal character it needs to be escaped in most cases, i.e. `\\*`.","body":"Note that if your regex needs to use <code>*</code> as a literal character it needs to be escaped in most cases, i.e. <code>\\*</code>."}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1663061579,"creation_date":1663061579,"answer_id":73700632,"question_id":73700516,"body_markdown":"You can use\r\n```none\r\n^(?:\\*|\\*?\\p{L}+(?:\\h+\\p{L}*)*+\\*?)$\r\n```\r\nSee the [regex demo][1].\r\n\r\n*Details*:\r\n\r\n - `^` - start of string\r\n - `(?:\\*|\\*?\\p{L}+(?:\\h+\\p{L}*)*+\\*?)` - either of the two patterns:\r\n   - `\\*` - an asterisk\r\n   - `|` - or\r\n   - `\\*?` - an optional asterisk\r\n   - `\\p{L}+` - one or more letters\r\n   - `(?:\\h+\\p{L}*)*+` - one or more repetitions of one or more horizontal whitespaces followed with zero or more letters\r\n   - `\\*?` - an optional asterisk\r\n - `$` - end of string.\r\n\r\nIn Java:\r\n```java\r\nbool matched = text.matches(&quot;\\\\*|\\\\*?\\\\p{L}+(?:\\\\h+\\\\p{L}*)*+\\\\*?&quot;);\r\n```\r\n\r\n  [1]: https://regex101.com/r/zbJ04F/1","title":"Regex- Allow * in the beginning and in the end of a string and allow only *","body":"<p>You can use</p>\n<pre class=\"lang-none prettyprint-override\"><code>^(?:\\*|\\*?\\p{L}+(?:\\h+\\p{L}*)*+\\*?)$\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/zbJ04F/1\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n<p><em>Details</em>:</p>\n<ul>\n<li><code>^</code> - start of string</li>\n<li><code>(?:\\*|\\*?\\p{L}+(?:\\h+\\p{L}*)*+\\*?)</code> - either of the two patterns:\n<ul>\n<li><code>\\*</code> - an asterisk</li>\n<li><code>|</code> - or</li>\n<li><code>\\*?</code> - an optional asterisk</li>\n<li><code>\\p{L}+</code> - one or more letters</li>\n<li><code>(?:\\h+\\p{L}*)*+</code> - one or more repetitions of one or more horizontal whitespaces followed with zero or more letters</li>\n<li><code>\\*?</code> - an optional asterisk</li>\n</ul>\n</li>\n<li><code>$</code> - end of string.</li>\n</ul>\n<p>In Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>bool matched = text.matches(&quot;\\\\*|\\\\*?\\\\p{L}+(?:\\\\h+\\\\p{L}*)*+\\\\*?&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2425186,"reputation":1052,"user_id":2117294,"display_name":"Zak"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699677557,"creation_date":1663061892,"answer_id":73700708,"question_id":73700516,"body_markdown":"Escape the asterisk with a backslash so that it isn&#39;t interpreted as a greedy repetition quantifier: `\\*`.\r\n\r\nUse beginning (`^`) and end (`$`) anchors to ensure that your asterisk can only occur at the start or end of the string.\r\n\r\nLastly, use a negative lookahead (`(?!...)`) to ensure that the match can&#39;t only be two asterisks.\r\n\r\nPutting it all together, you get:\r\n\r\n`(?!^\\*\\*$)^\\*?[\\p{L} ]*\\*?$`\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/3832970/wiktor-stribi%C5%BCew","title":"Regex- Allow * in the beginning and in the end of a string and allow only *","body":"<p>Escape the asterisk with a backslash so that it isn't interpreted as a greedy repetition quantifier: <code>\\*</code>.</p>\n<p>Use beginning (<code>^</code>) and end (<code>$</code>) anchors to ensure that your asterisk can only occur at the start or end of the string.</p>\n<p>Lastly, use a negative lookahead (<code>(?!...)</code>) to ensure that the match can't only be two asterisks.</p>\n<p>Putting it all together, you get:</p>\n<p><code>(?!^\\*\\*$)^\\*?[\\p{L} ]*\\*?$</code></p>\n"},{"tags":[],"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663062924,"creation_date":1663062426,"answer_id":73700843,"question_id":73700516,"body_markdown":"Here is a regex that might be shorter and efficient:\r\n\r\n```Java\r\n^(?:\\*?[\\p{L}\\h]+\\*?|\\*)$\r\n```\r\n\r\n[RegEx Demo][1]\r\n\r\n\r\n  [1]: https://regex101.com/r/2YEVgZ/2\r\n\r\n**RegEx Breakup:**\r\n\r\n- `^`: Start\r\n- `(?:`: Start non-capture group\r\n  - `\\*?`: Match an optional `*`\r\n  - `[\\p{L}\\h]+`: Match 1+ of any unicode letter or horizontal whitespace\r\n  - `\\*?`: Match an optional `*`\r\n  - `|`: OR\r\n  - `\\*`: Match a single `*`\r\n- `)`: End non-capture group\r\n- `$`: End\r\n\r\n**Java Code:**\r\n\r\n```Java\r\nfinal String regex = &quot;^(?:\\\\*?[\\\\p{L}\\\\h]+\\\\*?|\\\\*)$&quot;;\r\nString s = &quot;* cit *&quot;;\r\nSystem.out.println( s.matches(regex) );\r\n```","title":"Regex- Allow * in the beginning and in the end of a string and allow only *","body":"<p>Here is a regex that might be shorter and efficient:</p>\n<pre><code>^(?:\\*?[\\p{L}\\h]+\\*?|\\*)$\n</code></pre>\n<p><a href=\"https://regex101.com/r/2YEVgZ/2\" rel=\"nofollow noreferrer\">RegEx Demo</a></p>\n<p><strong>RegEx Breakup:</strong></p>\n<ul>\n<li><code>^</code>: Start</li>\n<li><code>(?:</code>: Start non-capture group\n<ul>\n<li><code>\\*?</code>: Match an optional <code>*</code></li>\n<li><code>[\\p{L}\\h]+</code>: Match 1+ of any unicode letter or horizontal whitespace</li>\n<li><code>\\*?</code>: Match an optional <code>*</code></li>\n<li><code>|</code>: OR</li>\n<li><code>\\*</code>: Match a single <code>*</code></li>\n</ul>\n</li>\n<li><code>)</code>: End non-capture group</li>\n<li><code>$</code>: End</li>\n</ul>\n<p><strong>Java Code:</strong></p>\n<pre><code>final String regex = &quot;^(?:\\\\*?[\\\\p{L}\\\\h]+\\\\*?|\\\\*)$&quot;;\nString s = &quot;* cit *&quot;;\nSystem.out.println( s.matches(regex) );\n</code></pre>\n"}],"owner":{"account_id":26197793,"reputation":23,"user_id":19878667,"display_name":"Anna Stasinopoulou"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73700843,"answer_count":3,"score":2,"last_activity_date":1699677557,"creation_date":1663061041,"question_id":73700516,"body_markdown":"I need to write a regex that validates the input for a city.\r\nExcept for characters only spaces are allowed and * acts as a wildcard character, so it can be either in the end or in the beginning of the string. * character should be allowed to be the only input as well.\r\n\r\nAccepted strings:\r\n- `*city`\r\n- `*cit *`\r\n- `&#39;*&#39;`  (only asterisk)\r\n- `*city one`\r\n\r\nNot accepted strings:\r\n- `**`\r\n- `*!@`\r\n- `%^&amp;*`\r\n\r\nI have written this, but it doesn&#39;t allow only `&#39;*&quot;` as input. Any ideas?\r\n`&#39;^.*[A-Za-z&#192;-&#214;&#216;-&#246;&#248;-ž ]{1,34}.*$&#39;`\r\n","title":"Regex- Allow * in the beginning and in the end of a string and allow only *","body":"<p>I need to write a regex that validates the input for a city.\nExcept for characters only spaces are allowed and * acts as a wildcard character, so it can be either in the end or in the beginning of the string. * character should be allowed to be the only input as well.</p>\n<p>Accepted strings:</p>\n<ul>\n<li><code>*city</code></li>\n<li><code>*cit *</code></li>\n<li><code>'*'</code>  (only asterisk)</li>\n<li><code>*city one</code></li>\n</ul>\n<p>Not accepted strings:</p>\n<ul>\n<li><code>**</code></li>\n<li><code>*!@</code></li>\n<li><code>%^&amp;*</code></li>\n</ul>\n<p>I have written this, but it doesn't allow only <code>'*&quot;</code> as input. Any ideas?\n<code>'^.*[A-Za-zÀ-ÖØ-öø-ž ]{1,34}.*$'</code></p>\n"},{"tags":["java","encoding","uuid","base62"],"comments":[{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":1,"creation_date":1537394749,"post_id":52414740,"comment_id":91773327,"body_markdown":"mime base64 does not use dash or underscore","body":"mime base64 does not use dash or underscore"},{"owner":{"account_id":2379900,"reputation":4402,"user_id":2194119,"accept_rate":76,"display_name":"Rad"},"score":0,"creation_date":1537394972,"post_id":52414740,"comment_id":91773400,"body_markdown":"@IłyaBursov MIME Base64 makes it even worth since it needs URL encoding.","body":"@IłyaBursov MIME Base64 makes it even worth since it needs URL encoding."},{"owner":{"account_id":2379900,"reputation":4402,"user_id":2194119,"accept_rate":76,"display_name":"Rad"},"score":1,"creation_date":1537395091,"post_id":52414740,"comment_id":91773428,"body_markdown":"@RusselYang dash and underscore don&#39;t need escaping, am I missing something?","body":"@RusselYang dash and underscore don&#39;t need escaping, am I missing something?"},{"owner":{"account_id":59094,"reputation":2641,"user_id":176838,"accept_rate":100,"display_name":"Russel Yang"},"score":0,"creation_date":1537395177,"post_id":52414740,"comment_id":91773455,"body_markdown":"@Rad. you are right. then why not just base64, you can include raw UUID string too.","body":"@Rad. you are right. then why not just base64, you can include raw UUID string too."},{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":0,"creation_date":1537395185,"post_id":52414740,"comment_id":91773458,"body_markdown":"@Rad not really, both `+` and `/` are allowed in URLs, so you might need correct decoding, to avoid conversion","body":"@Rad not really, both <code>+</code> and <code>&#47;</code> are allowed in URLs, so you might need correct decoding, to avoid conversion"},{"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"score":0,"creation_date":1537395331,"post_id":52414740,"comment_id":91773502,"body_markdown":"You&#39;re probably better off using the standard Base64Url encoding -- this is exactly what it was designed for.","body":"You&#39;re probably better off using the standard Base64Url encoding -- this is exactly what it was designed for."},{"owner":{"account_id":2379900,"reputation":4402,"user_id":2194119,"accept_rate":76,"display_name":"Rad"},"score":0,"creation_date":1537395515,"post_id":52414740,"comment_id":91773555,"body_markdown":"@IłyaBursov I&#39;m not following, `/` must be encoded in the URL, right? that&#39;s why we have `Base64Url`. I don&#39;t like to have anything other than alphanumeric, let alone slash (`foo/bar` -&gt; `foo%2Fbar`)","body":"@IłyaBursov I&#39;m not following, <code>&#47;</code> must be encoded in the URL, right? that&#39;s why we have <code>Base64Url</code>. I don&#39;t like to have anything other than alphanumeric, let alone slash (<code>foo&#47;bar</code> -&gt; <code>foo%2Fbar</code>)"},{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":0,"creation_date":1537395629,"post_id":52414740,"comment_id":91773588,"body_markdown":"@Rad no, look at your browser - it has unescaped slashes `https://stackoverflow.com/questions/52414740/encoding-uuid-to-base62-in-java`","body":"@Rad no, look at your browser - it has unescaped slashes <code>https:&#47;&#47;stackoverflow.com&#47;questions&#47;52414740&#47;encoding-uuid-t&zwnj;&#8203;o-base62-in-java</code>"},{"owner":{"account_id":2379900,"reputation":4402,"user_id":2194119,"accept_rate":76,"display_name":"Rad"},"score":0,"creation_date":1537396025,"post_id":52414740,"comment_id":91773691,"body_markdown":"@IłyaBursov, yes but then how can I extract the `{user-id}` segment from `/users/foo/bar` (URL template: `/users/{user-id}`)? (Even if it&#39;s possible seems really weird to me, no?)","body":"@IłyaBursov, yes but then how can I extract the <code>{user-id}</code> segment from <code>&#47;users&#47;foo&#47;bar</code> (URL template: <code>&#47;users&#47;{user-id}</code>)? (Even if it&#39;s possible seems really weird to me, no?)"},{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":0,"creation_date":1537396101,"post_id":52414740,"comment_id":91773704,"body_markdown":"@Rad something like `rawUrl.substring(rawUrl.indexOf(&quot;/user/&quot;))` will give you string back","body":"@Rad something like <code>rawUrl.substring(rawUrl.indexOf(&quot;&#47;user&#47;&quot;))</code> will give you string back"},{"owner":{"account_id":2379900,"reputation":4402,"user_id":2194119,"accept_rate":76,"display_name":"Rad"},"score":0,"creation_date":1537396165,"post_id":52414740,"comment_id":91773724,"body_markdown":"quote: Using standard Base64 in URL requires encoding of `+`, `/` and `=` characters into special percent-encoded hexadecimal sequences, which makes the string unnecessarily longer.","body":"quote: Using standard Base64 in URL requires encoding of <code>+</code>, <code>&#47;</code> and <code>=</code> characters into special percent-encoded hexadecimal sequences, which makes the string unnecessarily longer."},{"owner":{"account_id":2379900,"reputation":4402,"user_id":2194119,"accept_rate":76,"display_name":"Rad"},"score":0,"creation_date":1537396260,"post_id":52414740,"comment_id":91773743,"body_markdown":"Yes, but if I were your developer and came to you with that code in my spring application what would be your reaction? :D","body":"Yes, but if I were your developer and came to you with that code in my spring application what would be your reaction? :D"},{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":0,"creation_date":1537396263,"post_id":52414740,"comment_id":91773744,"body_markdown":"@Rad it is true _only_ if you&#39;re using `/` as special delimiter (which a lot of systems do), but you can parse raw url by yourself","body":"@Rad it is true <i>only</i> if you&#39;re using <code>&#47;</code> as special delimiter (which a lot of systems do), but you can parse raw url by yourself"},{"owner":{"account_id":2379900,"reputation":4402,"user_id":2194119,"accept_rate":76,"display_name":"Rad"},"score":0,"creation_date":1537396292,"post_id":52414740,"comment_id":91773750,"body_markdown":"Yes, got your point.","body":"Yes, got your point."},{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":0,"creation_date":1537396369,"post_id":52414740,"comment_id":91773764,"body_markdown":"@Rad my reaction would be `oh, they&#39;re trying to optimize size of the url and they avoid unneeded parsing, which is faster, cool` :)","body":"@Rad my reaction would be <code>oh, they&#39;re trying to optimize size of the url and they avoid unneeded parsing, which is faster, cool</code> :)"},{"owner":{"account_id":2379900,"reputation":4402,"user_id":2194119,"accept_rate":76,"display_name":"Rad"},"score":0,"creation_date":1537396851,"post_id":52414740,"comment_id":91773889,"body_markdown":"@IłyaBursov then I&#39;d love to work in your team :)","body":"@IłyaBursov then I&#39;d love to work in your team :)"}],"answers":[{"comments":[{"owner":{"account_id":2379900,"reputation":4402,"user_id":2194119,"accept_rate":76,"display_name":"Rad"},"score":1,"creation_date":1566459940,"post_id":57595217,"comment_id":101664995,"body_markdown":"I&#39;m pretty sure I had found this lib at the time, but can&#39;t recall why I didn&#39;t use it.","body":"I&#39;m pretty sure I had found this lib at the time, but can&#39;t recall why I didn&#39;t use it."},{"owner":{"account_id":419389,"reputation":91,"user_id":796527,"display_name":"Alessandro"},"score":1,"creation_date":1683277277,"post_id":57595217,"comment_id":134345357,"body_markdown":"Quick warning about FriendlyID vs. other Base62 libs: FriendlyID uses inversed letter case compared to standard Base62. Its alphabet is 0123456789ABC...abc... and not the standard 0123456789abc...ABC...","body":"Quick warning about FriendlyID vs. other Base62 libs: FriendlyID uses inversed letter case compared to standard Base62. Its alphabet is 0123456789ABC...abc... and not the standard 0123456789abc...ABC..."}],"tags":[],"owner":{"account_id":3697687,"reputation":1590,"user_id":3078523,"display_name":"user3078523"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1566402591,"creation_date":1566402270,"answer_id":57595217,"question_id":52414740,"body_markdown":"You might want to try this library: https://github.com/Devskiller/friendly-id\n\n&gt; The FriendlyID library converts a given UUID (with 36 characters) to a URL-friendly ID (a &quot;FriendlyID&quot;) which is based on Base62 (with a maximum of 22 characters), as in the example below:\n&gt;\n&gt;        UUID                                        Friendly ID\n&gt;        \n&gt;        c3587ec5-0976-497f-8374-61e0c2ea3da5   -&gt;   5wbwf6yUxVBcr48AMbz9cb\n&gt;        |                                           |                              \n&gt;        36 characters                               22 characters or less\n&gt;\n&gt;In addition, this library allows to:\n&gt;\n&gt;- convert from a FriendlyID back to the original UUID; and\n&gt;- create a new, random FriendlyID\n","title":"Encoding UUID to Base62 (not Base64) in Java","body":"<p>You might want to try this library: <a href=\"https://github.com/Devskiller/friendly-id\" rel=\"nofollow noreferrer\">https://github.com/Devskiller/friendly-id</a></p>\n<blockquote>\n<p>The FriendlyID library converts a given UUID (with 36 characters) to a URL-friendly ID (a &quot;FriendlyID&quot;) which is based on Base62 (with a maximum of 22 characters), as in the example below:</p>\n<pre><code>   UUID                                        Friendly ID\n   \n   c3587ec5-0976-497f-8374-61e0c2ea3da5   -&gt;   5wbwf6yUxVBcr48AMbz9cb\n   |                                           |                              \n   36 characters                               22 characters or less\n</code></pre>\n<p>In addition, this library allows to:</p>\n<ul>\n<li>convert from a FriendlyID back to the original UUID; and</li>\n<li>create a new, random FriendlyID</li>\n</ul>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1053260,"reputation":1032,"user_id":1056610,"display_name":"fabiolimace"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1699676837,"creation_date":1629834898,"answer_id":68913412,"question_id":52414740,"body_markdown":"You can encode UUIDs efficiently to base-62 using [`Base62Codec`](https://github.com/f4b6a3/uuid-creator/wiki/4.0.-Library-codecs#base62codec).\r\n\r\n```java\r\nString string = Base62Codec.INSTANCE.encode(uuid);\r\n```\r\n\r\nYou can also generate Friendly IDs with 22 characters or less.\r\n\r\n```java\r\npublic static String getFriendlyID() {\r\n    return Base62Codec.INSTANCE.encode(UUID.randomUUID());\r\n}\r\n\r\npublic static String getFriendlyID(int length) {\r\n    return Base62Codec.INSTANCE.encode(UUID.randomUUID())\r\n                      .substring(0, Math.min(length, 22));\r\n}\r\n```\r\n\r\n`Base62Codec` is a codec of [uuid-creator](https://github.com/f4b6a3/uuid-creator).\r\n\r\n**NOTE:** the alphabet used by `Base62Codec` is &quot;0-9A-Za-z&quot;, which is compatible with &quot;C&quot; collation (LC_COLLATE=C), which in turn makes `libc` sort strings in ASCII order, i.e., &quot;AAA&quot; is sorted before &quot;aaa&quot;.\r\n\r\n---\r\n**Disclaimer**: I&#39;m the main contributor of `uuid-creator`.","title":"Encoding UUID to Base62 (not Base64) in Java","body":"<p>You can encode UUIDs efficiently to base-62 using <a href=\"https://github.com/f4b6a3/uuid-creator/wiki/4.0.-Library-codecs#base62codec\" rel=\"nofollow noreferrer\"><code>Base62Codec</code></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string = Base62Codec.INSTANCE.encode(uuid);\n</code></pre>\n<p>You can also generate Friendly IDs with 22 characters or less.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String getFriendlyID() {\n    return Base62Codec.INSTANCE.encode(UUID.randomUUID());\n}\n\npublic static String getFriendlyID(int length) {\n    return Base62Codec.INSTANCE.encode(UUID.randomUUID())\n                      .substring(0, Math.min(length, 22));\n}\n</code></pre>\n<p><code>Base62Codec</code> is a codec of <a href=\"https://github.com/f4b6a3/uuid-creator\" rel=\"nofollow noreferrer\">uuid-creator</a>.</p>\n<p><strong>NOTE:</strong> the alphabet used by <code>Base62Codec</code> is &quot;0-9A-Za-z&quot;, which is compatible with &quot;C&quot; collation (LC_COLLATE=C), which in turn makes <code>libc</code> sort strings in ASCII order, i.e., &quot;AAA&quot; is sorted before &quot;aaa&quot;.</p>\n<hr />\n<p><strong>Disclaimer</strong>: I'm the main contributor of <code>uuid-creator</code>.</p>\n"}],"owner":{"account_id":2379900,"reputation":4402,"user_id":2194119,"accept_rate":76,"display_name":"Rad"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9018,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":57595217,"answer_count":2,"score":8,"last_activity_date":1699676837,"creation_date":1537394349,"question_id":52414740,"body_markdown":"I&#39;m trying to shorten UUID values (stored in DB as UUID, not string) to be embedded in URLs. I&#39;m aware of Base64 for URL, but trying to see if I can make it without dash and underscore characters.\r\nSo I would like to convert UUID to base62. After a lot of googling I found:  \r\n\r\n1. There&#39;s not a standard for this (something like RFC2045), am I right?  \r\n\r\n2. Most importantly there&#39;s no proper implementation for it. I found a lot of snippets on how to do it, but with some sort of note that &quot;this is a naive implementation&quot; or something. Is there a proper implementation (I don&#39;t mind the exact interpretation how the mapping should be done as long as it&#39;s done properly)?  \r\n\r\n3. There are some base classes in Apache Commons Codec and Guava which are extended for Base32 and Base64, but I didn&#39;t find it easy to extend it for Base62. Is it even possible to do it (considering the fact that the mapping is fundamentally different)?  \r\nThanks.","title":"Encoding UUID to Base62 (not Base64) in Java","body":"<p>I'm trying to shorten UUID values (stored in DB as UUID, not string) to be embedded in URLs. I'm aware of Base64 for URL, but trying to see if I can make it without dash and underscore characters.\nSo I would like to convert UUID to base62. After a lot of googling I found:  </p>\n\n<ol>\n<li><p>There's not a standard for this (something like RFC2045), am I right?  </p></li>\n<li><p>Most importantly there's no proper implementation for it. I found a lot of snippets on how to do it, but with some sort of note that \"this is a naive implementation\" or something. Is there a proper implementation (I don't mind the exact interpretation how the mapping should be done as long as it's done properly)?  </p></li>\n<li><p>There are some base classes in Apache Commons Codec and Guava which are extended for Base32 and Base64, but I didn't find it easy to extend it for Base62. Is it even possible to do it (considering the fact that the mapping is fundamentally different)?<br>\nThanks.</p></li>\n</ol>\n"},{"tags":["java","eclipse","sap-gui"],"comments":[{"owner":{"account_id":306692,"reputation":5903,"user_id":617581,"display_name":"Dirk Trilsbeek"},"score":1,"creation_date":1680246807,"post_id":75895758,"comment_id":133868910,"body_markdown":"GUI 770 for Java doens&#39;t seem to support aarch64. But in the download center I can see a MacOS on ARM64 version for GUI 780. You should try installing that one.","body":"GUI 770 for Java doens&#39;t seem to support aarch64. But in the download center I can see a MacOS on ARM64 version for GUI 780. You should try installing that one."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1680247962,"post_id":75895758,"comment_id":133869121,"body_markdown":"What Dirk Trilsbeek says. aarch64 means ARM 64 bit alias Apple silicon (M1/M2), but you have x86 64 bit, running via Rosetta 2.","body":"What Dirk Trilsbeek says. aarch64 means ARM 64 bit alias Apple silicon (M1/M2), but you have x86 64 bit, running via Rosetta 2."},{"owner":{"account_id":12578778,"reputation":12323,"user_id":9150270,"display_name":"Sandra Rossi"},"score":1,"creation_date":1680249260,"post_id":75895758,"comment_id":133869398,"body_markdown":"I have edited your question to include the essence from external links (otherwise the question will have no interest for future visitors if the external links disappear).​ Please review and make sure it&#39;s okay for you.","body":"I have edited your question to include the essence from external links (otherwise the question will have no interest for future visitors if the external links disappear).​ Please review and make sure it&#39;s okay for you."}],"answers":[{"tags":[],"owner":{"account_id":306692,"reputation":5903,"user_id":617581,"display_name":"Dirk Trilsbeek"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680255945,"creation_date":1680255945,"answer_id":75897057,"question_id":75895758,"body_markdown":"As already mentioned in the comments: M1 uses a new architecture, and while GUI 770 can run on an M1 chip, eclipse probably needs native support instead of an emulation, therefore you need to switch to a GUI version that natively supports ARM64 apple silicon. SAP GUI 7.80 should (and does, as the comments suggest) work.","title":"Failed to open the SAP GUI for Java: No compatible installation of SAP GUI for Java was found","body":"<p>As already mentioned in the comments: M1 uses a new architecture, and while GUI 770 can run on an M1 chip, eclipse probably needs native support instead of an emulation, therefore you need to switch to a GUI version that natively supports ARM64 apple silicon. SAP GUI 7.80 should (and does, as the comments suggest) work.</p>\n"}],"owner":{"account_id":21356813,"reputation":43,"user_id":15725657,"display_name":"jesuismert"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":776,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699675532,"creation_date":1680246519,"question_id":75895758,"body_markdown":"Building Eclipse I want for SAP GUI on macOS Ventura 13.3 M1 Pro. I set up SAPGUI 7.70rev6 aarc64 and Eclipse Software via https://tools.hana.ondemand.com/latest.\r\n\r\nSAP GUI working correctly. But I&#39;ll use Eclipse for ABAP developing. This error is getting when I launch (F8) ABAP program on Eclipse:\r\n\r\n&gt; Failed to open the SAP GUI for Java: No compatible installation of SAP GUI for Java was found. Minimum version is 074000000000. Required architecture is aarch64. Please install a compatible SAP GUI version. \r\n&gt;\r\n&gt; Installed versions: /Applications/SAP Clients/SAPGIJl 7.70rev6/SAPGUl 7.70rev6.app (077000040600, x86_64)\r\n&gt;\r\n&gt; [![enter image description here][1]][1]\r\n\r\nI tried [this solution (remove and reinstall SAP GUI then restart Eclipse/ADT)][2] but it doesn&#39;t work. I have not found how to clear all SAP GUI directory. Only, I did uninstall &amp; reinstall the SAP GUI. \r\n\r\nAlso,\r\n\r\nBefore, I was getting the JavaFX error [same like here][3]:\r\n&gt; The system reqirements are not met.\r\n&gt;\r\n&gt; Could not find: javafx.properties in: /Users/.../.p2/pool/plugins/org.ecIipse.justj.openjdk.hotspot.jre.full.macosx.x86_64_17.0.0.v20211012-1O59/jre/lib \r\n&gt;\r\n&gt; Your Java Virtual Machine seems not to support JavaFX, required to run the SAP GUI for Java 7.50 rev 12. \r\n&gt;\r\n&gt; Please make sure you provide a valid path to the Java FX modules during gui installation. \r\n&gt;\r\n&gt; See the SAP GUI for Java documentation, chapter 5.1 for in depth information about Java FX and modules. \r\n\r\nI solved it out update with Java JDK8 &amp; SDK21 and adding parameters line to eclipse.ini. Now, I&#39;m only getting the error on the top image.\r\n\r\n&gt; Failed to open the SAP GUI for Java: No compatible installation of SAP GUI for Java was found. Minimum version is 074000000000. Required architecture is aarch64. Please install a compatible SAP GUI version.\r\nInstalled versions:\r\n/Applications/SAP Clients/SAPGUI 7.70rev6/SAPGUI 7.70rev6.app (077000040600, x86_64)\r\n\r\nHelp me please, How can I solve that?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WiL99.jpg\r\n  [2]: https://answers.sap.com/questions/13282095/eclipseadt-cannot-find-sapgui-for-java-on-linux-sy.html\r\n  [3]: https://community.neptune-software.com/topics/abap/blogs/how-to-setup--eclipse-to-work-with--s-a-p--gui-for--java","title":"Failed to open the SAP GUI for Java: No compatible installation of SAP GUI for Java was found","body":"<p>Building Eclipse I want for SAP GUI on macOS Ventura 13.3 M1 Pro. I set up SAPGUI 7.70rev6 aarc64 and Eclipse Software via <a href=\"https://tools.hana.ondemand.com/latest\" rel=\"nofollow noreferrer\">https://tools.hana.ondemand.com/latest</a>.</p>\n<p>SAP GUI working correctly. But I'll use Eclipse for ABAP developing. This error is getting when I launch (F8) ABAP program on Eclipse:</p>\n<blockquote>\n<p>Failed to open the SAP GUI for Java: No compatible installation of SAP GUI for Java was found. Minimum version is 074000000000. Required architecture is aarch64. Please install a compatible SAP GUI version.</p>\n<p>Installed versions: /Applications/SAP Clients/SAPGIJl 7.70rev6/SAPGUl 7.70rev6.app (077000040600, x86_64)</p>\n<p><a href=\"https://i.stack.imgur.com/WiL99.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WiL99.jpg\" alt=\"enter image description here\" /></a></p>\n</blockquote>\n<p>I tried <a href=\"https://answers.sap.com/questions/13282095/eclipseadt-cannot-find-sapgui-for-java-on-linux-sy.html\" rel=\"nofollow noreferrer\">this solution (remove and reinstall SAP GUI then restart Eclipse/ADT)</a> but it doesn't work. I have not found how to clear all SAP GUI directory. Only, I did uninstall &amp; reinstall the SAP GUI.</p>\n<p>Also,</p>\n<p>Before, I was getting the JavaFX error <a href=\"https://community.neptune-software.com/topics/abap/blogs/how-to-setup--eclipse-to-work-with--s-a-p--gui-for--java\" rel=\"nofollow noreferrer\">same like here</a>:</p>\n<blockquote>\n<p>The system reqirements are not met.</p>\n<p>Could not find: javafx.properties in: /Users/.../.p2/pool/plugins/org.ecIipse.justj.openjdk.hotspot.jre.full.macosx.x86_64_17.0.0.v20211012-1O59/jre/lib</p>\n<p>Your Java Virtual Machine seems not to support JavaFX, required to run the SAP GUI for Java 7.50 rev 12.</p>\n<p>Please make sure you provide a valid path to the Java FX modules during gui installation.</p>\n<p>See the SAP GUI for Java documentation, chapter 5.1 for in depth information about Java FX and modules.</p>\n</blockquote>\n<p>I solved it out update with Java JDK8 &amp; SDK21 and adding parameters line to eclipse.ini. Now, I'm only getting the error on the top image.</p>\n<blockquote>\n<p>Failed to open the SAP GUI for Java: No compatible installation of SAP GUI for Java was found. Minimum version is 074000000000. Required architecture is aarch64. Please install a compatible SAP GUI version.\nInstalled versions:\n/Applications/SAP Clients/SAPGUI 7.70rev6/SAPGUI 7.70rev6.app (077000040600, x86_64)</p>\n</blockquote>\n<p>Help me please, How can I solve that?</p>\n"},{"tags":["java","spring","spring-boot","jaxb","java-11"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1699857263,"post_id":77463846,"comment_id":136578913,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/77463846/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":9804449,"reputation":1172,"user_id":7264739,"display_name":"Destroy666"},"score":0,"creation_date":1700016017,"post_id":77463846,"comment_id":136602305,"body_markdown":"Hello, please don&#39;t post code only and add an explantation as to why you think that this is the optimal solution. People are supposed to learn from your answer, which might not occur if they just copy paste code without knowing why it should be used.","body":"Hello, please don&#39;t post code only and add an explantation as to why you think that this is the optimal solution. People are supposed to learn from your answer, which might not occur if they just copy paste code without knowing why it should be used."}],"tags":[],"owner":{"account_id":11808664,"reputation":1,"user_id":9103056,"display_name":"Igor Gatsev"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699674771,"creation_date":1699674771,"answer_id":77463846,"question_id":76234431,"body_markdown":"It&#39;s works for me\r\n\r\n    ExecutorService pool = Executors.newFixedThreadPool(10);\r\n    \r\n            CompletableFuture.runAsync(() -&gt; {\r\n                   testFunc()\r\n            }, pool).join();","title":"Implementation of JAXB-API has not been found on module path or classpath not found in CompletableFuture.runAsync(() -&gt; {}","body":"<p>It's works for me</p>\n<pre><code>ExecutorService pool = Executors.newFixedThreadPool(10);\n\n        CompletableFuture.runAsync(() -&gt; {\n               testFunc()\n        }, pool).join();\n</code></pre>\n"}],"owner":{"account_id":13298032,"reputation":137,"user_id":9600331,"display_name":"vishal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699674771,"creation_date":1683879834,"question_id":76234431,"body_markdown":"While using JAXB-API with CompletableFuture.runAsync gives error for module not found while if I use the same function without CompletableFuture it works fine\r\n\r\nSo, do you have any dependency here that it won&#39;t work with async functions ?\r\n\r\n```\r\nCompletableFuture.runAsync(() =&gt; {\r\n  testFunc()\r\n})\r\n\r\npublic void testFunc() {\r\n----\r\nPerforms some task using JAXB \r\n----\r\n}\r\n```\r\n\r\nthis gives module not found exception, while\r\n\r\n```\r\ntestFunc();\r\n\r\npublic void testFunc() {\r\n----\r\nPerforms some task using JAXB \r\n----\r\n}\r\n```\r\nThis works, why is that so ?\r\n","title":"Implementation of JAXB-API has not been found on module path or classpath not found in CompletableFuture.runAsync(() -&gt; {}","body":"<p>While using JAXB-API with CompletableFuture.runAsync gives error for module not found while if I use the same function without CompletableFuture it works fine</p>\n<p>So, do you have any dependency here that it won't work with async functions ?</p>\n<pre><code>CompletableFuture.runAsync(() =&gt; {\n  testFunc()\n})\n\npublic void testFunc() {\n----\nPerforms some task using JAXB \n----\n}\n</code></pre>\n<p>this gives module not found exception, while</p>\n<pre><code>testFunc();\n\npublic void testFunc() {\n----\nPerforms some task using JAXB \n----\n}\n</code></pre>\n<p>This works, why is that so ?</p>\n"},{"tags":["java","android","c","android-ndk","signals"],"comments":[{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":0,"creation_date":1513699782,"post_id":47873847,"comment_id":82748152,"body_markdown":"What you can do in a signal handler is fairly restricted. For example, using dynamic memory allocation in a signal handler (`ThrowNew` sounds like it will try to allocate some memory) is considered undefined behavior in C++. I know this is C, but there&#39;s a good chance similar restrictions apply there.","body":"What you can do in a signal handler is fairly restricted. For example, using dynamic memory allocation in a signal handler (<code>ThrowNew</code> sounds like it will try to allocate some memory) is considered undefined behavior in C++. I know this is C, but there&#39;s a good chance similar restrictions apply there."},{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":0,"creation_date":1513699931,"post_id":47873847,"comment_id":82748243,"body_markdown":"See https://stackoverflow.com/a/34553070/1524450 for additional info.","body":"See <a href=\"https://stackoverflow.com/a/34553070/1524450\">stackoverflow.com/a/34553070/1524450</a> for additional info."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1699673925,"creation_date":1534060485,"answer_id":51806859,"question_id":47873847,"body_markdown":"I don&#39;t know if what you are trying to do here is technically possible.  @Michael&#39;s comments imply that it isn&#39;t possible.\r\n\r\nBut if it is possible, it is a bad idea.  \r\n\r\nBy the time the native code you are using has triggered a SIGSEGV, it could have done untold damage; e.g. overwriting objects in the heap, etcetera.  If you attempt to recover, there is a significant chance that the damage *that has already occurred* will lead to unexpected behavior or incorrect results.  Worse still, it could cause the application to lock up or the GC to crash some time (maybe hours) later due to heap corruption, stuck threads, etcetera.\r\n\r\nThis is why it is standard behavior for a JVM to panic when an unexpected SIGSEGV occurs in native code OR in Java code.  And why JVMs provide no way to suppress these panics.\r\n\r\nWhile it is nice to give the users a meaningful error, there is not much meaningful that you can tell them if you are getting random SIGSEGV errors and other JVM panics.  You should focus on fixing the cause of the panics.","title":"Replacing JNI Crashes by Exceptions on Android","body":"<p>I don't know if what you are trying to do here is technically possible.  @Michael's comments imply that it isn't possible.</p>\n<p>But if it is possible, it is a bad idea.</p>\n<p>By the time the native code you are using has triggered a SIGSEGV, it could have done untold damage; e.g. overwriting objects in the heap, etcetera.  If you attempt to recover, there is a significant chance that the damage <em>that has already occurred</em> will lead to unexpected behavior or incorrect results.  Worse still, it could cause the application to lock up or the GC to crash some time (maybe hours) later due to heap corruption, stuck threads, etcetera.</p>\n<p>This is why it is standard behavior for a JVM to panic when an unexpected SIGSEGV occurs in native code OR in Java code.  And why JVMs provide no way to suppress these panics.</p>\n<p>While it is nice to give the users a meaningful error, there is not much meaningful that you can tell them if you are getting random SIGSEGV errors and other JVM panics.  You should focus on fixing the cause of the panics.</p>\n"}],"owner":{"account_id":5866150,"reputation":371,"user_id":4620047,"display_name":"Martin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1989,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"closed_date":1534071804,"answer_count":1,"score":9,"last_activity_date":1699673925,"creation_date":1513619412,"question_id":47873847,"body_markdown":"I have developed an Android application that uses a native C library. I could successfully compile the whole thing using JNI, and everything works smoothly.\r\n\r\nHowever, every now and then the native C library crashes (most frequently with a SIGSEGV). This, in turn, causes my application to crash without any meaningful notice for the user. What I would like to achieve is the following:\r\n\r\n 1. Catch the signal in the native code using a signal handler (sigaction) to prevent random crashes\r\n 2. Throw an exception in the C library that Java can catch\r\n 3. Catch the exception in Java, generate a meaningful warning message for the user and keep the app running\r\n\r\nIn case that this is of any use for you - the JNI code runs in a separate thread (to be more precise inside an AsyncTask). \r\n\r\nI already checked &lt;http://blog.httrack.com/blog/2013/08/23/catching-posix-signals-on-android/&gt; and &lt;https://github.com/xroche/coffeecatch&gt;\r\nbut I cannot get it to compile.\r\n\r\nFollowing the suggestions from &lt;https://stackoverflow.com/questions/230689/best-way-to-throw-exceptions-in-jni-code&gt; and &lt;https://stackoverflow.com/questions/30105719/how-to-catch-jni-crashes-as-exceptions-using-signal-handling-based-mechanism-in&gt; and &lt;https://www.developer.com/java/data/exception-handling-in-jni.html&gt;\r\nI carried out the following steps:\r\n\r\nIn my native code I added the following function that (to my understanding) sets up a signal handler:\r\n\r\n    void initializeSignalHandler(JNIEnv* env){\r\n        int watched_signals[] = { SIGABRT, SIGILL, SIGSEGV, SIGINT, SIGKILL }; // 6, 4, 11, 2, 9\r\n        struct sigaction sighandler;\r\n        memset(&amp;sighandler, 0, sizeof(sighandler));\r\n    \r\n        sighandler.sa_sigaction = &amp;sighandler_func;\r\n        sighandler.sa_mask = 0;\r\n        sighandler.sa_flags = SA_SIGINFO | SA_ONSTACK;\r\n        for(int ii=0; ii&lt;5; ii++){\r\n            int signal = watched_signals[ii];\r\n            sigaction(signal, &amp;sighandler, NULL);        \r\n        }\r\n        env = env;\r\n    }\r\n\r\nMy function that handles these signals looks like this:\r\n\r\n    void sighandler_func(int sig, siginfo_t* sig_info, void* ptr){\r\n        printerr(&quot;Sighandler: &quot;, sig);\r\n        jclass jcls = (*env)-&gt;FindClass(env, &quot;java/lang/Error&quot;);\r\n        jboolean flag = (*env)-&gt;ExceptionCheck(env);\r\n        if (flag) {\r\n            (*env)-&gt;ExceptionClear(env);\r\n            /* code to handle exception */\r\n        }\r\n        if (jcls!=NULL){\r\n            printerr(&quot;Throwing exception&quot;);\r\n            (*env)-&gt;ThrowNew(env, jcls, &quot;error message&quot;);\r\n        }\r\n    }\r\n\r\n\r\nMy critical JNI function begins by configuring the signal handler:\r\n\r\n    JNIEXPORT jint JNICALL Java_android_playground_criticalFuction\r\n    \t(JNIEnv *env, jclass c, jlong handle, jshortArray out_buffer){\r\n\r\n    \r\n        // new signal handler\r\n        struct sigaction sighandler;\r\n        initializeSignalHandler(env);\r\n        \r\n        // ...here goes the critical code\r\n    }\r\n\r\n\r\n\r\nWhen a SIGILL occurs in my native C code the following happens:\r\n\r\n1) On my debug terminal I get the following four messages\r\n\r\n - Sighandler: 4 (that corresponds to SIGILL)\r\n - Throwing exception\r\n - Sighandler: 4\r\n - Sighandler: 11\r\n\r\n2) The app window closes but I do not get the Android message \r\n      &quot;Unfortunately ... was closed&quot; that usually appears when an app crashes\r\n      \r\nI do not really understand why I get the third and fourth signal message as I would  assume that the exception is thrown. In addition, I think that the exception is never really thrown (to Java).\r\n \r\nI am lost and any help is greatly appreciated.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Replacing JNI Crashes by Exceptions on Android","body":"<p>I have developed an Android application that uses a native C library. I could successfully compile the whole thing using JNI, and everything works smoothly.</p>\n\n<p>However, every now and then the native C library crashes (most frequently with a SIGSEGV). This, in turn, causes my application to crash without any meaningful notice for the user. What I would like to achieve is the following:</p>\n\n<ol>\n<li>Catch the signal in the native code using a signal handler (sigaction) to prevent random crashes</li>\n<li>Throw an exception in the C library that Java can catch</li>\n<li>Catch the exception in Java, generate a meaningful warning message for the user and keep the app running</li>\n</ol>\n\n<p>In case that this is of any use for you - the JNI code runs in a separate thread (to be more precise inside an AsyncTask). </p>\n\n<p>I already checked <a href=\"http://blog.httrack.com/blog/2013/08/23/catching-posix-signals-on-android/\" rel=\"noreferrer\">http://blog.httrack.com/blog/2013/08/23/catching-posix-signals-on-android/</a> and <a href=\"https://github.com/xroche/coffeecatch\" rel=\"noreferrer\">https://github.com/xroche/coffeecatch</a>\nbut I cannot get it to compile.</p>\n\n<p>Following the suggestions from <a href=\"https://stackoverflow.com/questions/230689/best-way-to-throw-exceptions-in-jni-code\">Best way to throw exceptions in JNI code?</a> and <a href=\"https://stackoverflow.com/questions/30105719/how-to-catch-jni-crashes-as-exceptions-using-signal-handling-based-mechanism-in\">How to catch JNI Crashes as exceptions using Signal handling based mechanism in Java</a> and <a href=\"https://www.developer.com/java/data/exception-handling-in-jni.html\" rel=\"noreferrer\">https://www.developer.com/java/data/exception-handling-in-jni.html</a>\nI carried out the following steps:</p>\n\n<p>In my native code I added the following function that (to my understanding) sets up a signal handler:</p>\n\n<pre><code>void initializeSignalHandler(JNIEnv* env){\n    int watched_signals[] = { SIGABRT, SIGILL, SIGSEGV, SIGINT, SIGKILL }; // 6, 4, 11, 2, 9\n    struct sigaction sighandler;\n    memset(&amp;sighandler, 0, sizeof(sighandler));\n\n    sighandler.sa_sigaction = &amp;sighandler_func;\n    sighandler.sa_mask = 0;\n    sighandler.sa_flags = SA_SIGINFO | SA_ONSTACK;\n    for(int ii=0; ii&lt;5; ii++){\n        int signal = watched_signals[ii];\n        sigaction(signal, &amp;sighandler, NULL);        \n    }\n    env = env;\n}\n</code></pre>\n\n<p>My function that handles these signals looks like this:</p>\n\n<pre><code>void sighandler_func(int sig, siginfo_t* sig_info, void* ptr){\n    printerr(\"Sighandler: \", sig);\n    jclass jcls = (*env)-&gt;FindClass(env, \"java/lang/Error\");\n    jboolean flag = (*env)-&gt;ExceptionCheck(env);\n    if (flag) {\n        (*env)-&gt;ExceptionClear(env);\n        /* code to handle exception */\n    }\n    if (jcls!=NULL){\n        printerr(\"Throwing exception\");\n        (*env)-&gt;ThrowNew(env, jcls, \"error message\");\n    }\n}\n</code></pre>\n\n<p>My critical JNI function begins by configuring the signal handler:</p>\n\n<pre><code>JNIEXPORT jint JNICALL Java_android_playground_criticalFuction\n    (JNIEnv *env, jclass c, jlong handle, jshortArray out_buffer){\n\n\n    // new signal handler\n    struct sigaction sighandler;\n    initializeSignalHandler(env);\n\n    // ...here goes the critical code\n}\n</code></pre>\n\n<p>When a SIGILL occurs in my native C code the following happens:</p>\n\n<p>1) On my debug terminal I get the following four messages</p>\n\n<ul>\n<li>Sighandler: 4 (that corresponds to SIGILL)</li>\n<li>Throwing exception</li>\n<li>Sighandler: 4</li>\n<li>Sighandler: 11</li>\n</ul>\n\n<p>2) The app window closes but I do not get the Android message \n      \"Unfortunately ... was closed\" that usually appears when an app crashes</p>\n\n<p>I do not really understand why I get the third and fourth signal message as I would  assume that the exception is thrown. In addition, I think that the exception is never really thrown (to Java).</p>\n\n<p>I am lost and any help is greatly appreciated.</p>\n"},{"tags":["java","nested","do-while"],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699672723,"creation_date":1666907319,"answer_id":74228664,"question_id":74226734,"body_markdown":"Recommendation:\r\n- If you want a faster answer, share a runnable code.\r\n- ALWAYS indent your code, it will be easier to read.\r\n- The name of the variables are so important, so please, give them an appropriate name to know what they contain. (For example, you declared a variable &quot;total&quot; which will contain the average result, it will be reasonable to call it &quot;avg&quot; or &quot;average&quot;)\r\n\r\n\r\nthis is a test class:\r\n\r\n    class StackOverflowTest {\r\n    \r\n        // regex pattern\r\n    \tprivate static final String REGEX_Y_OR_N = &quot;^[yn]$&quot;;\r\n    \t\r\n    \t@Test\r\n    \tvoid execute() {\r\n    \t\t\r\n    \t\tScanner scan = new Scanner(System.in);\r\n    \t\t\r\n    \t\tString needToContinue = &quot;x&quot;;\r\n    \t\t\r\n            // loop until the user press &quot;n&quot;\r\n    \t\tdo {\r\n    \t\t\t\r\n                // for each iteration, tot and count will be reinitialized\r\n    \t\t\tint tot = 0;\r\n    \t\t\tint count = 0;\r\n    \t\t\t\r\n                // loop until the user enter 5 numbers\r\n    \t\t\tdo {\r\n    \t\t\t\t\r\n    \t\t\t\tSystem.out.print(&quot;Enter a number : &quot;);\r\n    \t\t\t\t\r\n    \t\t\t\tint input;\r\n    \t\t\t\tif (scan.hasNextInt()) {\r\n    \t\t\t\t\tinput = scan.nextInt();\r\n    \t\t\t\t\tcount++;\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tSystem.out.println(&quot;Number is invalid.&quot;+&quot;\\n&quot;);\r\n    \t\t\t\t\tscan.next();\r\n    \t\t\t\t\tcontinue;\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\ttot += input;\r\n    \r\n    \t\t\t} while (count &lt; 5);\r\n    \r\n    \t\t\tdouble avg = tot / 5;\r\n    \r\n    \t\t\tSystem.out.println(&quot;The average is : &quot; + avg + &quot; .&quot;);\r\n    \r\n    \t\t\tSystem.out.println(&quot;\\n&quot;+&quot; [do you want to continue press [ y ] for yes and [ n ] for no ]: &quot;);\r\n    \t\t\t\r\n                // loop until a valid character is entered (&quot;y&quot; or &quot;n&quot;)\r\n    \t\t\tdo {\r\n    \t\t\t\t\r\n    \t\t\t\tneedToContinue = scan.next();\r\n    \t\t\t\t\r\n    \t\t\t\tif (!needToContinue.matches(REGEX_Y_OR_N)) {\r\n    \t\t\t\t\tSystem.out.println(&quot;\\n&quot;+&quot;Invalid character!&quot;+&quot;\\n&quot;);\r\n    \t\t\t\t\tSystem.out.println(&quot; [do you want to continue press [ y ] for yes and [ n ] for no ]: &quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t} while (!needToContinue.matches(REGEX_Y_OR_N)); \r\n    \t\t\t\r\n    \r\n    \t\t} while (needToContinue.contains(&quot;y&quot;));\r\n    \t\t\r\n    \t\tscan.close();\r\n    \t}\r\n    \t\r\n    }\r\n\r\n","title":"How do you loop but make the value back to 0 the variable d1 is stacking the input making the average double the amount?","body":"<p>Recommendation:</p>\n<ul>\n<li>If you want a faster answer, share a runnable code.</li>\n<li>ALWAYS indent your code, it will be easier to read.</li>\n<li>The name of the variables are so important, so please, give them an appropriate name to know what they contain. (For example, you declared a variable &quot;total&quot; which will contain the average result, it will be reasonable to call it &quot;avg&quot; or &quot;average&quot;)</li>\n</ul>\n<p>this is a test class:</p>\n<pre><code>class StackOverflowTest {\n\n    // regex pattern\n    private static final String REGEX_Y_OR_N = &quot;^[yn]$&quot;;\n    \n    @Test\n    void execute() {\n        \n        Scanner scan = new Scanner(System.in);\n        \n        String needToContinue = &quot;x&quot;;\n        \n        // loop until the user press &quot;n&quot;\n        do {\n            \n            // for each iteration, tot and count will be reinitialized\n            int tot = 0;\n            int count = 0;\n            \n            // loop until the user enter 5 numbers\n            do {\n                \n                System.out.print(&quot;Enter a number : &quot;);\n                \n                int input;\n                if (scan.hasNextInt()) {\n                    input = scan.nextInt();\n                    count++;\n                } else {\n                    System.out.println(&quot;Number is invalid.&quot;+&quot;\\n&quot;);\n                    scan.next();\n                    continue;\n                }\n                \n                tot += input;\n\n            } while (count &lt; 5);\n\n            double avg = tot / 5;\n\n            System.out.println(&quot;The average is : &quot; + avg + &quot; .&quot;);\n\n            System.out.println(&quot;\\n&quot;+&quot; [do you want to continue press [ y ] for yes and [ n ] for no ]: &quot;);\n            \n            // loop until a valid character is entered (&quot;y&quot; or &quot;n&quot;)\n            do {\n                \n                needToContinue = scan.next();\n                \n                if (!needToContinue.matches(REGEX_Y_OR_N)) {\n                    System.out.println(&quot;\\n&quot;+&quot;Invalid character!&quot;+&quot;\\n&quot;);\n                    System.out.println(&quot; [do you want to continue press [ y ] for yes and [ n ] for no ]: &quot;);\n                }\n                \n            } while (!needToContinue.matches(REGEX_Y_OR_N)); \n            \n\n        } while (needToContinue.contains(&quot;y&quot;));\n        \n        scan.close();\n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":26752776,"reputation":1,"user_id":20351881,"display_name":"Ddsec"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699672768,"creation_date":1666895359,"question_id":74226734,"body_markdown":"    \r\n       do{\r\n        do{\r\n          System.out.print(&quot;Enter number&quot; + count + &quot;:&quot;);\r\n            if(scan.hasNextInt()){\r\n            d1 = scan.nextInt();\r\n            count ++;\r\n              }\r\n            else{\r\n                System.out.print(&quot;Number is invalid. &quot;);\r\n                scan.next();\r\n                continue;\r\n                   \r\n               }\r\n             t+=d1;\r\n          \r\n           }while(count&lt;=5);\r\n       \r\n           total = t / 5;\r\n           \r\n           System.out.print(&quot;The average is :&quot; + total + &quot; .&quot; );\r\n           \r\n           System.out.print(&quot; [do you want to continue press[ y ]for yes and [ n]  for no ]:&quot;);\r\n          \r\n\r\nI tried placing the t+= inside and outside of the brackets but no good still the same result\r\nthis part is where I am confused because the t+=d1 will stack the more I loop e.g. all my 5 numbers is 25 then avg is 25 then I press y then loops back I enter same 5 of 25 then the avg is 50","title":"How do you loop but make the value back to 0 the variable d1 is stacking the input making the average double the amount?","body":"<pre><code>   do{\n    do{\n      System.out.print(&quot;Enter number&quot; + count + &quot;:&quot;);\n        if(scan.hasNextInt()){\n        d1 = scan.nextInt();\n        count ++;\n          }\n        else{\n            System.out.print(&quot;Number is invalid. &quot;);\n            scan.next();\n            continue;\n               \n           }\n         t+=d1;\n      \n       }while(count&lt;=5);\n   \n       total = t / 5;\n       \n       System.out.print(&quot;The average is :&quot; + total + &quot; .&quot; );\n       \n       System.out.print(&quot; [do you want to continue press[ y ]for yes and [ n]  for no ]:&quot;);\n      \n</code></pre>\n<p>I tried placing the t+= inside and outside of the brackets but no good still the same result\nthis part is where I am confused because the t+=d1 will stack the more I loop e.g. all my 5 numbers is 25 then avg is 25 then I press y then loops back I enter same 5 of 25 then the avg is 50</p>\n"},{"tags":["java","partial-classes"],"comments":[{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":10,"creation_date":1332781000,"post_id":9876339,"comment_id":12595027,"body_markdown":"&quot;Some of the service methods really belong in their own class and seem kind of illogical in the same class.&quot; Then why are you trying to put them in one class? Why not just put them in separate classes? see [Single responsibility principle](http://en.wikipedia.org/wiki/Single_responsibility_principle)","body":"&quot;Some of the service methods really belong in their own class and seem kind of illogical in the same class.&quot; Then why are you trying to put them in one class? Why not just put them in separate classes? see <a href=\"http://en.wikipedia.org/wiki/Single_responsibility_principle\" rel=\"nofollow noreferrer\">Single responsibility principle</a>"},{"owner":{"account_id":120154,"reputation":10077,"user_id":312407,"accept_rate":100,"display_name":"Mike Clark"},"score":0,"creation_date":1332781359,"post_id":9876339,"comment_id":12595145,"body_markdown":"Java does not have built-in functionality that will make this easy for you.  There are a few third party libraries that can help you implement this.  My suggestion is to try to solve your problem without such a preprocessor.  For simple things, introducing a preprocessor may cost you far more than it saves you.","body":"Java does not have built-in functionality that will make this easy for you.  There are a few third party libraries that can help you implement this.  My suggestion is to try to solve your problem without such a preprocessor.  For simple things, introducing a preprocessor may cost you far more than it saves you."},{"owner":{"account_id":47622,"reputation":148558,"user_id":141172,"accept_rate":88,"display_name":"Eric J."},"score":1,"creation_date":1332781664,"post_id":9876339,"comment_id":12595239,"body_markdown":"@Jesper: He&#39;s actually trying to implement the single responsibility principle, but is not using composition to achieve it.","body":"@Jesper: He&#39;s actually trying to implement the single responsibility principle, but is not using composition to achieve it."}],"answers":[{"comments":[{"owner":{"account_id":78522,"reputation":31537,"user_id":223429,"display_name":"Eugene Kuleshov"},"score":0,"creation_date":1332781258,"post_id":9876391,"comment_id":12595109,"body_markdown":"That would lead to unreadable and hard to maintain code. With Java it is better to stay away from any pre-processors like that.","body":"That would lead to unreadable and hard to maintain code. With Java it is better to stay away from any pre-processors like that."},{"owner":{"account_id":47622,"reputation":148558,"user_id":141172,"accept_rate":88,"display_name":"Eric J."},"score":1,"creation_date":1332781312,"post_id":9876391,"comment_id":12595129,"body_markdown":"@Eugene: Correct.  First, I answered his question then suggested a better approach.  I edited my answer to make it clearer that a pre-processor route is not recommended.","body":"@Eugene: Correct.  First, I answered his question then suggested a better approach.  I edited my answer to make it clearer that a pre-processor route is not recommended."}],"tags":[],"owner":{"account_id":47622,"reputation":148558,"user_id":141172,"accept_rate":88,"display_name":"Eric J."},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1332781751,"creation_date":1332780997,"answer_id":9876391,"question_id":9876339,"body_markdown":"Before going that route, you might want to consider the [Builder design pattern][1].  That allows your service to aggregate implementations that are implemented in separate classes.  No need for a pre-compiler, and very clean from an OO perspective.\r\n\r\nEach component class has a specific, narrow responsibility, with the service class enlisting the services of it&#39;s component classes to implement just the responsibility of the service.\r\n\r\nIf you really want to (**not recommended**), you can use a pre-processor to assemble parts of a class prior to compilation.\r\n\r\nThe only scenario where a pre-processor might make sense is if some of your implementation is code-generated and other parts are hand-coded. A straightforward approach might be to `#include` the externally defined class fragments in your main .java file and run a C pre-processor over the file before compilation.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Builder_pattern\r\n","title":"A way to implement partial classes in java","body":"<p>Before going that route, you might want to consider the <a href=\"http://en.wikipedia.org/wiki/Builder_pattern\" rel=\"nofollow\">Builder design pattern</a>.  That allows your service to aggregate implementations that are implemented in separate classes.  No need for a pre-compiler, and very clean from an OO perspective.</p>\n\n<p>Each component class has a specific, narrow responsibility, with the service class enlisting the services of it's component classes to implement just the responsibility of the service.</p>\n\n<p>If you really want to (<strong>not recommended</strong>), you can use a pre-processor to assemble parts of a class prior to compilation.</p>\n\n<p>The only scenario where a pre-processor might make sense is if some of your implementation is code-generated and other parts are hand-coded. A straightforward approach might be to <code>#include</code> the externally defined class fragments in your main .java file and run a C pre-processor over the file before compilation.</p>\n"},{"comments":[{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":3,"creation_date":1332782712,"post_id":9876414,"comment_id":12595605,"body_markdown":"Implementing multiple interfaces in a single class is more or less the inverse of partial classes.","body":"Implementing multiple interfaces in a single class is more or less the inverse of partial classes."}],"tags":[],"owner":{"account_id":78522,"reputation":31537,"user_id":223429,"display_name":"Eugene Kuleshov"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1699672408,"creation_date":1332781113,"answer_id":9876414,"question_id":9876339,"body_markdown":"You can declare methods through multiple interfaces and then let your concrete classes implement multiple interfaces.\r\n\r\nMoreover, with `java.lang.Proxy`, you can assemble your service from multiple interfaces and delegate actual method calls to a separate implementation.","title":"A way to implement partial classes in java","body":"<p>You can declare methods through multiple interfaces and then let your concrete classes implement multiple interfaces.</p>\n<p>Moreover, with <code>java.lang.Proxy</code>, you can assemble your service from multiple interfaces and delegate actual method calls to a separate implementation.</p>\n"},{"comments":[{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":6,"creation_date":1332789645,"post_id":9876419,"comment_id":12598137,"body_markdown":"@EricJ. - I understand that partial classes have their uses. However, they can easily turn into a nightmare. Microsoft itself [suggests](http://msdn.microsoft.com/en-us/library/wa80x488%28v=vs.80%29.aspx) that they are useful for multiple programmers to work separately on a class implementation. Imagine how much fun it would be when a partial class you&#39;re working on all of a sudden (unbeknownst to you) inherits from some new base class because some other programmer decided her partial class would benefit from it. There are other such horrors. I repeat: thankfully, Java is free of this.","body":"@EricJ. - I understand that partial classes have their uses. However, they can easily turn into a nightmare. Microsoft itself <a href=\"http://msdn.microsoft.com/en-us/library/wa80x488%28v=vs.80%29.aspx\" rel=\"nofollow noreferrer\">suggests</a> that they are useful for multiple programmers to work separately on a class implementation. Imagine how much fun it would be when a partial class you&#39;re working on all of a sudden (unbeknownst to you) inherits from some new base class because some other programmer decided her partial class would benefit from it. There are other such horrors. I repeat: thankfully, Java is free of this."},{"owner":{"account_id":1403075,"reputation":12629,"user_id":1331488,"accept_rate":62,"display_name":"Seraphim&#39;s"},"score":11,"creation_date":1357557863,"post_id":9876419,"comment_id":19678477,"body_markdown":"Partial classes are very usefull in forms when you have to separate UI management code and everything else. But I admit, I tried to use them in other circumstances, and sometime I got lost. If you think you need to split a class (not a form) maybe you need to reingegnerize your approach...","body":"Partial classes are very usefull in forms when you have to separate UI management code and everything else. But I admit, I tried to use them in other circumstances, and sometime I got lost. If you think you need to split a class (not a form) maybe you need to reingegnerize your approach..."},{"owner":{"account_id":56326,"reputation":8327,"user_id":168719,"accept_rate":74,"display_name":"Konrad Morawski"},"score":18,"creation_date":1388244964,"post_id":9876419,"comment_id":31212939,"body_markdown":"`Imagine how much fun it would be when a partial class you&#39;re working on all of a sudden (unbeknownst to you) inherits from some new base class because some other programmer decided her partial class would benefit from it` - it&#39;s also bad if the class in question was not a partial class. I don&#39;t think the class being partial is very important here at all.","body":"<code>Imagine how much fun it would be when a partial class you&#39;re working on all of a sudden (unbeknownst to you) inherits from some new base class because some other programmer decided her partial class would benefit from it</code> - it&#39;s also bad if the class in question was not a partial class. I don&#39;t think the class being partial is very important here at all."},{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":0,"creation_date":1388272073,"post_id":9876419,"comment_id":31220868,"body_markdown":"@KonradMorawski - But the danger is greatly enhanced. From [the docs](http://msdn.microsoft.com/en-us/library/wa80x488%28v=vs.80%29.aspx): _&quot;If any of the parts declare a base type, then the entire type inherits that class.&quot;_ Usually if you inherit from some class, you have every reason to expect to be informed of changes to the base class (at a minimum, there&#39;s usually a new version release). With partial classes, you might get no warning at all because the change can come from a peer.","body":"@KonradMorawski - But the danger is greatly enhanced. From <a href=\"http://msdn.microsoft.com/en-us/library/wa80x488%28v=vs.80%29.aspx\" rel=\"nofollow noreferrer\">the docs</a>: <i>&quot;If any of the parts declare a base type, then the entire type inherits that class.&quot;</i> Usually if you inherit from some class, you have every reason to expect to be informed of changes to the base class (at a minimum, there&#39;s usually a new version release). With partial classes, you might get no warning at all because the change can come from a peer."},{"owner":{"account_id":110545,"reputation":31530,"user_id":292477,"accept_rate":84,"display_name":"Krumelur"},"score":26,"creation_date":1437307468,"post_id":9876419,"comment_id":50964951,"body_markdown":"Partial classes are highly useful if one of the &quot;programmers&quot; is not human, i.e. code generation. That is the only use case I can see, but a *very* strong one, that separates structure at the source level from structure at the API level.","body":"Partial classes are highly useful if one of the &quot;programmers&quot; is not human, i.e. code generation. That is the only use case I can see, but a <i>very</i> strong one, that separates structure at the source level from structure at the API level."},{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":0,"creation_date":1437317017,"post_id":9876419,"comment_id":50967495,"body_markdown":"@Krumelur - I completely agree that partial classes are useful with automatic code generation. Unfortunately, Microsoft also sees another use case—independent of code generation: _&quot;When working on large projects, spreading a class over separate files allows multiple programmers to work on it simultaneously.&quot;_ That&#39;s a use case that I see as likely to cause more problems than it solves. Avoiding those problems requires an extra layer of discipline that is not enforced by the language and not defined in any documents that I&#39;ve seen.","body":"@Krumelur - I completely agree that partial classes are useful with automatic code generation. Unfortunately, Microsoft also sees another use case—independent of code generation: <i>&quot;When working on large projects, spreading a class over separate files allows multiple programmers to work on it simultaneously.&quot;</i> That&#39;s a use case that I see as likely to cause more problems than it solves. Avoiding those problems requires an extra layer of discipline that is not enforced by the language and not defined in any documents that I&#39;ve seen."},{"owner":{"account_id":2712636,"reputation":61,"user_id":2340705,"display_name":"CNad"},"score":0,"creation_date":1618597854,"post_id":9876419,"comment_id":118659486,"body_markdown":"Another useful case for partial classes is if a class implements more than one interface.  You can move the separate implementations to partial classes instead of using regions:\nFoo.cs (inheritance, ctor, private method, field)\nFoo.IFoo.cs (public methods for iFoo)\nFoo.IBar.cs (public method for IBar)\n\nThis also helps when you have lots of people on the project and need to delegate the implementation of different aspects to different team members.","body":"Another useful case for partial classes is if a class implements more than one interface.  You can move the separate implementations to partial classes instead of using regions: Foo.cs (inheritance, ctor, private method, field) Foo.IFoo.cs (public methods for iFoo) Foo.IBar.cs (public method for IBar)  This also helps when you have lots of people on the project and need to delegate the implementation of different aspects to different team members."}],"tags":[],"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"comment_count":7,"down_vote_count":11,"up_vote_count":55,"is_accepted":true,"score":44,"last_activity_date":1417536438,"creation_date":1332781125,"answer_id":9876419,"question_id":9876339,"body_markdown":"There is nothing like partial classes in Java. You can achieve many of the same benefits using aggregation, delegation, and abstract base classes.\r\n\r\n&lt;sub&gt;(I have caved to peer pressure and eliminated the &amp;ldquo;thankfully&amp;rdquo; remark that has generated so much heat in the comments. Evidently that little aside seems to have earned me four downvotes, despite being irrelevant to the answer.)&lt;/sub&gt;","title":"A way to implement partial classes in java","body":"<p>There is nothing like partial classes in Java. You can achieve many of the same benefits using aggregation, delegation, and abstract base classes.</p>\n\n<p><sub>(I have caved to peer pressure and eliminated the &ldquo;thankfully&rdquo; remark that has generated so much heat in the comments. Evidently that little aside seems to have earned me four downvotes, despite being irrelevant to the answer.)</sub></p>\n"},{"tags":[],"owner":{"account_id":2362964,"reputation":31,"user_id":2069266,"display_name":"abgalphabet"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1391259799,"creation_date":1360776240,"answer_id":14859283,"question_id":9876339,"body_markdown":"Aspectj can be the answer to C#/.net partial class feature!\r\nSpring Roo is one of the typical development framework using aspectj to divide a class functionalities into several different files.","title":"A way to implement partial classes in java","body":"<p>Aspectj can be the answer to C#/.net partial class feature!\nSpring Roo is one of the typical development framework using aspectj to divide a class functionalities into several different files.</p>\n"},{"tags":[],"owner":{"account_id":141692,"reputation":2838,"user_id":348917,"accept_rate":96,"display_name":"Chad Harrison"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547864026,"creation_date":1547864026,"answer_id":54263554,"question_id":9876339,"body_markdown":"I hate to bring up an old thread, but thought I would bring a new perspective in respect to the given answers.  **Aspect Oriented** programming may better achieve what you&#39;re trying to implement cross-cutting concerns. \r\n\r\nYou&#39;re looking for a robust associative solution where you can parse out the implementing details to different controlling methods.  The [Spring framework][1] is very prominent in this space and often is associated with micro-services these days.\r\n\r\n\r\n  [1]: https://dzone.com/articles/overview-of-spring-aspect-oriented-programming-aop","title":"A way to implement partial classes in java","body":"<p>I hate to bring up an old thread, but thought I would bring a new perspective in respect to the given answers.  <strong>Aspect Oriented</strong> programming may better achieve what you're trying to implement cross-cutting concerns. </p>\n\n<p>You're looking for a robust associative solution where you can parse out the implementing details to different controlling methods.  The <a href=\"https://dzone.com/articles/overview-of-spring-aspect-oriented-programming-aop\" rel=\"nofollow noreferrer\">Spring framework</a> is very prominent in this space and often is associated with micro-services these days.</p>\n"}],"owner":{"account_id":377597,"reputation":9529,"user_id":729820,"accept_rate":84,"display_name":"SoftwareSavant"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52968,"favorite_count":0,"down_vote_count":1,"up_vote_count":36,"accepted_answer_id":9876419,"answer_count":5,"score":35,"last_activity_date":1699672408,"creation_date":1332780813,"question_id":9876339,"body_markdown":"I have an interface that I want to implement in separate classes after doing a quick google search apparently, \r\nJava doesn&#39;t have partial classes.  Is there a way that I can do this or am I stuck throwing all of my code into one class?\r\n\r\nBasically, I am trying to write a service.\r\nSome of the service methods really belong in their own class and seem kind of illogical in the same class.  Here is an example of what I am trying to do.\r\n\r\n    package com.upmc.esdm.messaging.epcd.service;\r\n    import java.util.List;\r\n\r\n    import javax.ejb.Remote;\r\n\r\n    import com.upmc.esdm.messaging.epcd13jpa.entities.EmailDomainTrust;\r\n\r\n\r\n    @Remote\r\n    public interface MessagingInterfaceRemote {\r\n\tpublic List&lt;EmailDomainTrust&gt; getEmailDomains();\r\n\r\n        public int upDateQualityTable();\r\n\r\n        public string isLogial();\r\n\r\n        public byte[] ToWritePartialClassesInJava();\r\n    }\r\n\r\n\r\nI would normally have partial classes in C# and I would put similar methods that return similar values into one partial class (or maybe classes that update a record in one class).  How would I implement this?  Or should I just put all the method implementations into one class?\r\n\r\nThanks.","title":"A way to implement partial classes in java","body":"<p>I have an interface that I want to implement in separate classes after doing a quick google search apparently, \nJava doesn't have partial classes.  Is there a way that I can do this or am I stuck throwing all of my code into one class?</p>\n\n<p>Basically, I am trying to write a service.\nSome of the service methods really belong in their own class and seem kind of illogical in the same class.  Here is an example of what I am trying to do.</p>\n\n<pre><code>package com.upmc.esdm.messaging.epcd.service;\nimport java.util.List;\n\nimport javax.ejb.Remote;\n\nimport com.upmc.esdm.messaging.epcd13jpa.entities.EmailDomainTrust;\n\n\n@Remote\npublic interface MessagingInterfaceRemote {\npublic List&lt;EmailDomainTrust&gt; getEmailDomains();\n\n    public int upDateQualityTable();\n\n    public string isLogial();\n\n    public byte[] ToWritePartialClassesInJava();\n}\n</code></pre>\n\n<p>I would normally have partial classes in C# and I would put similar methods that return similar values into one partial class (or maybe classes that update a record in one class).  How would I implement this?  Or should I just put all the method implementations into one class?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","multithreading","file-io"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1699645707,"post_id":77462438,"comment_id":136562499,"body_markdown":"Checking `available()` introduces a read-before-use race condition (i.e. when you &quot;see&quot; 5 bytes available, by the time you call `read()` that number may be higher or lower, depending on what else happens). Also generally speaking reading from a single file will almost never be faster when done from multiple threads. You&#39;re probably better off reading from the file in just a single thread and then distributing the work to do onto different threads from there.","body":"Checking <code>available()</code> introduces a read-before-use race condition (i.e. when you &quot;see&quot; 5 bytes available, by the time you call <code>read()</code> that number may be higher or lower, depending on what else happens). Also generally speaking reading from a single file will almost never be faster when done from multiple threads. You&#39;re probably better off reading from the file in just a single thread and then distributing the work to do onto different threads from there."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1699657653,"post_id":77462438,"comment_id":136563803,"body_markdown":"Did none of [the existing Questions](https://www.ecosia.org/search?tts=st_asaf_macos&amp;q=java%20read%20file%20being%20modified%20site%3Astackoverflow.com) help you?","body":"Did none of <a href=\"https://www.ecosia.org/search?tts=st_asaf_macos&amp;q=java%20read%20file%20being%20modified%20site%3Astackoverflow.com\" rel=\"nofollow noreferrer\">the existing Questions</a> help you?"},{"owner":{"account_id":43015,"reputation":3712,"user_id":125540,"accept_rate":75,"display_name":"Harry"},"score":0,"creation_date":1699671084,"post_id":77462438,"comment_id":136564645,"body_markdown":"@JoachimSauer I should have mentioned that each reader thread opens its own `FileInputStream`. In another process, this would anyway be necessary. I&#39;m only not sure if multiple readers each with their own instance of `FileInputStream` would result in thread contention caused slowless at the JVM or the OS level.","body":"@JoachimSauer I should have mentioned that each reader thread opens its own <code>FileInputStream</code>. In another process, this would anyway be necessary. I&#39;m only not sure if multiple readers each with their own instance of <code>FileInputStream</code> would result in thread contention caused slowless at the JVM or the OS level."},{"owner":{"account_id":43015,"reputation":3712,"user_id":125540,"accept_rate":75,"display_name":"Harry"},"score":0,"creation_date":1699671315,"post_id":77462438,"comment_id":136564659,"body_markdown":"@BasilBourque No. Please don&#39;t downvote at your whim, if it&#39;s you did it. There isn&#39;t a single question in your search link that answers what I asked. Just typing in some keywords and seeing several results show up doesn&#39;t mean the question has already been answered","body":"@BasilBourque No. Please don&#39;t downvote at your whim, if it&#39;s you did it. There isn&#39;t a single question in your search link that answers what I asked. Just typing in some keywords and seeing several results show up doesn&#39;t mean the question has already been answered"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1699675245,"post_id":77462438,"comment_id":136564833,"body_markdown":"@Harry Not my down-vote, but no up-vote either. I find it hard to believe none of those search results resolve your issue, but I&#39;ve not studied them yet.","body":"@Harry Not my down-vote, but no up-vote either. I find it hard to believe none of those search results resolve your issue, but I&#39;ve not studied them yet."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1699675325,"post_id":77462438,"comment_id":136564840,"body_markdown":"By the way, Java 19 is past its end-of-life. Always use the latest version, or one of the Long-Term Support (LTS) versions: 8, 11, 17, 21.","body":"By the way, Java 19 is past its end-of-life. Always use the latest version, or one of the Long-Term Support (LTS) versions: 8, 11, 17, 21."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1699772479,"post_id":77462438,"comment_id":136571786,"body_markdown":"So you want each thread to read the entirety of the created file? I&#39;d still reduce that to a single one and then distribute the data as appropriate with less heavy in-process methods, but at least this *could* work.","body":"So you want each thread to read the entirety of the created file? I&#39;d still reduce that to a single one and then distribute the data as appropriate with less heavy in-process methods, but at least this <i>could</i> work."}],"owner":{"account_id":43015,"reputation":3712,"user_id":125540,"accept_rate":75,"display_name":"Harry"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1699672272,"creation_date":1699644587,"question_id":77462438,"body_markdown":"I have one thread writing events in real time to a file.\r\n\r\nI want to have a large number of reader threads, possibly virtual threads, in the same or different process, reading off of this file using `FileInputStream`. **(EDIT: Each reader thread uses its own `FileInputStream` instance.)**\r\n\r\nAssuming that the reader threads always check the value returned by `InputStream:available()` before doing the reads, will they block or contend with each other on a multicore machine when reading same or different sections of the file? Will it help if the disk is SSD because it has no platter rotation and reading-head movement?\r\n\r\nI ask this especially because I do not know what all goes on in the Java or the OS code.\r\n\r\nRelated question: Is there a more time-efficient way to do what I&#39;m trying to do? \r\n\r\nI am using Java 19.x on Linux 6.x.\r\n","title":"Java: Many threads or processes reading a file","body":"<p>I have one thread writing events in real time to a file.</p>\n<p>I want to have a large number of reader threads, possibly virtual threads, in the same or different process, reading off of this file using <code>FileInputStream</code>. <strong>(EDIT: Each reader thread uses its own <code>FileInputStream</code> instance.)</strong></p>\n<p>Assuming that the reader threads always check the value returned by <code>InputStream:available()</code> before doing the reads, will they block or contend with each other on a multicore machine when reading same or different sections of the file? Will it help if the disk is SSD because it has no platter rotation and reading-head movement?</p>\n<p>I ask this especially because I do not know what all goes on in the Java or the OS code.</p>\n<p>Related question: Is there a more time-efficient way to do what I'm trying to do?</p>\n<p>I am using Java 19.x on Linux 6.x.</p>\n"},{"tags":["java","spring","dependency-injection","lombok"],"comments":[{"owner":{"account_id":5120170,"reputation":521,"user_id":4104015,"display_name":"Kevin Davin"},"score":2,"creation_date":1469421996,"post_id":38549657,"comment_id":64510543,"body_markdown":"Already ask on github  https://github.com/rzwitserloot/lombok/issues/745","body":"Already ask on github  <a href=\"https://github.com/rzwitserloot/lombok/issues/745\" rel=\"nofollow noreferrer\">github.com/rzwitserloot/lombok/issues/745</a>"},{"owner":{"account_id":226545,"reputation":9656,"user_id":487649,"accept_rate":67,"display_name":"Nikola Yovchev"},"score":0,"creation_date":1481558366,"post_id":38549657,"comment_id":69413537,"body_markdown":"I also think it&#39;s something that isn&#39;t so hard to add esp if the annotation fits both an instance variable and a parameter in a constructor, like @Qualifier does.","body":"I also think it&#39;s something that isn&#39;t so hard to add esp if the annotation fits both an instance variable and a parameter in a constructor, like @Qualifier does."}],"answers":[{"comments":[{"owner":{"account_id":975547,"reputation":511,"user_id":9550551,"display_name":"Didier Breedt"},"score":1,"creation_date":1560430352,"post_id":50287955,"comment_id":99739644,"body_markdown":"I noticed that the `@Qualifier` part can come in-between `private final` and the interface. I prefer this as it keeps `private final` neatly aligned with auto-qualified counterparts.","body":"I noticed that the <code>@Qualifier</code> part can come in-between <code>private final</code> and the interface. I prefer this as it keeps <code>private final</code> neatly aligned with auto-qualified counterparts."},{"owner":{"account_id":226545,"reputation":9656,"user_id":487649,"accept_rate":67,"display_name":"Nikola Yovchev"},"score":2,"creation_date":1560501292,"post_id":50287955,"comment_id":99765383,"body_markdown":"Of course, it&#39;s just a matter of ordering and convention, however officially you&#39;d put annotations before modifiers, or on a separate row: https://stackoverflow.com/questions/22838634/is-it-legal-to-put-annotation-after-access-modifier-in-java-7-or-java-8","body":"Of course, it&#39;s just a matter of ordering and convention, however officially you&#39;d put annotations before modifiers, or on a separate row: <a href=\"https://stackoverflow.com/questions/22838634/is-it-legal-to-put-annotation-after-access-modifier-in-java-7-or-java-8\" title=\"is it legal to put annotation after access modifier in java 7 or java 8\">stackoverflow.com/questions/22838634/&hellip;</a>"},{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":0,"creation_date":1660728656,"post_id":50287955,"comment_id":129598952,"body_markdown":"works flawlessly!","body":"works flawlessly!"},{"owner":{"account_id":3303925,"reputation":2096,"user_id":2779330,"accept_rate":60,"display_name":"Bojan Vukasovic"},"score":1,"creation_date":1662060595,"post_id":50287955,"comment_id":129925389,"body_markdown":"Seems that you can use also `@Resource @NonNull private final SomeDestination someDestination1;` even without repeating of the variable name (since in your Qualifier example you need to mention variable name, so you have to type it twice). You don&#39;t need lombok.config in this case. (resource is `import javax.annotation.Resource;`).","body":"Seems that you can use also <code>@Resource @NonNull private final SomeDestination someDestination1;</code> even without repeating of the variable name (since in your Qualifier example you need to mention variable name, so you have to type it twice). You don&#39;t need lombok.config in this case. (resource is <code>import javax.annotation.Resource;</code>)."},{"owner":{"account_id":226545,"reputation":9656,"user_id":487649,"accept_rate":67,"display_name":"Nikola Yovchev"},"score":0,"creation_date":1662105837,"post_id":50287955,"comment_id":129933603,"body_markdown":"@BojanVukasovic what you mention is similar to the following answer: https://stackoverflow.com/a/52540251 . The problem I see with this approach is that whether the code works depends on the variable name, which is what the original poster was trying to avoid by using the `@Qualifier` annotation and setting it there.","body":"@BojanVukasovic what you mention is similar to the following answer: <a href=\"https://stackoverflow.com/a/52540251\">stackoverflow.com/a/52540251</a> . The problem I see with this approach is that whether the code works depends on the variable name, which is what the original poster was trying to avoid by using the <code>@Qualifier</code> annotation and setting it there."},{"owner":{"account_id":3303925,"reputation":2096,"user_id":2779330,"accept_rate":60,"display_name":"Bojan Vukasovic"},"score":0,"creation_date":1662113850,"post_id":50287955,"comment_id":129936177,"body_markdown":"@NikolaYovchev yes, exactly. So instead repeating two times someDestination1 (in qualifier and variable name), why not have it only once as variable name... Less code is almost always better code.","body":"@NikolaYovchev yes, exactly. So instead repeating two times someDestination1 (in qualifier and variable name), why not have it only once as variable name... Less code is almost always better code."},{"owner":{"account_id":226545,"reputation":9656,"user_id":487649,"accept_rate":67,"display_name":"Nikola Yovchev"},"score":0,"creation_date":1662115800,"post_id":50287955,"comment_id":129936785,"body_markdown":"@BojanVukasovic not sure if you got my point. Having injection depend on variable name is arguably worse than having to explicitly declare what actual  dependency you want based on the `@Qualifier` annotation (which is the purpose of the annotation). \n\nWith what you propose, you save having to type the `@Qualifier` annotation, but injection will fail every time when somebody changes the variable name (without that being obvious until your test catches it, or worse, in prod), which is what the poster was trying to avoid.","body":"@BojanVukasovic not sure if you got my point. Having injection depend on variable name is arguably worse than having to explicitly declare what actual  dependency you want based on the <code>@Qualifier</code> annotation (which is the purpose of the annotation).   With what you propose, you save having to type the <code>@Qualifier</code> annotation, but injection will fail every time when somebody changes the variable name (without that being obvious until your test catches it, or worse, in prod), which is what the poster was trying to avoid."},{"owner":{"account_id":3303925,"reputation":2096,"user_id":2779330,"accept_rate":60,"display_name":"Bojan Vukasovic"},"score":1,"creation_date":1662126946,"post_id":50287955,"comment_id":129940777,"body_markdown":"@NikolaYovchev In that case, just use `@Resource(name=&quot;someDestination1&quot;)`. It will fail if someone changes the bean name and - you save yourself from adding lombok.config","body":"@NikolaYovchev In that case, just use <code>@Resource(name=&quot;someDestination1&quot;)</code>. It will fail if someone changes the bean name and - you save yourself from adding lombok.config"},{"owner":{"account_id":226545,"reputation":9656,"user_id":487649,"accept_rate":67,"display_name":"Nikola Yovchev"},"score":0,"creation_date":1662196819,"post_id":50287955,"comment_id":129953822,"body_markdown":"@BojanVukasovic I am not sure if I get your proposal. `@Resource` can&#39;t be used on a constructor, only on fields, etc. The OP wanted to use **constructor** injection (which is the arguably best way of doing DI) AND `@Qualifier`. The original problem was `lombok` didn&#39;t copy/didn&#39;t have a way to copy the `@Qualifier` annotation on the generated constructor, but with the new `config` option introduced in `1.18.4`, it can do so. If I understood you wrong, maybe you can demonstrate a small repo with `@Resource` and constructor injection?","body":"@BojanVukasovic I am not sure if I get your proposal. <code>@Resource</code> can&#39;t be used on a constructor, only on fields, etc. The OP wanted to use <b>constructor</b> injection (which is the arguably best way of doing DI) AND <code>@Qualifier</code>. The original problem was <code>lombok</code> didn&#39;t copy/didn&#39;t have a way to copy the <code>@Qualifier</code> annotation on the generated constructor, but with the new <code>config</code> option introduced in <code>1.18.4</code>, it can do so. If I understood you wrong, maybe you can demonstrate a small repo with <code>@Resource</code> and constructor injection?"},{"owner":{"account_id":3303925,"reputation":2096,"user_id":2779330,"accept_rate":60,"display_name":"Bojan Vukasovic"},"score":1,"creation_date":1662456902,"post_id":50287955,"comment_id":130004008,"body_markdown":"@NikolaYovchev yes, it cannot be set on constructor (and it will not be copied to constructor), but it works with constructor injection. At least this is what I see when I test it and manually decompile the generated class.","body":"@NikolaYovchev yes, it cannot be set on constructor (and it will not be copied to constructor), but it works with constructor injection. At least this is what I see when I test it and manually decompile the generated class."},{"owner":{"account_id":1393034,"reputation":2479,"user_id":1323374,"accept_rate":50,"display_name":"Ninja"},"score":0,"creation_date":1669207505,"post_id":50287955,"comment_id":131591428,"body_markdown":"The code in this answer  works! and it failed after I use `@RequiredArgsConstructor(onConstructor = @__(@Autowired))?`...","body":"The code in this answer  works! and it failed after I use <code>@RequiredArgsConstructor(onConstructor = @__(@Autowired))?</code>..."},{"owner":{"account_id":226545,"reputation":9656,"user_id":487649,"accept_rate":67,"display_name":"Nikola Yovchev"},"score":0,"creation_date":1669216136,"post_id":50287955,"comment_id":131594846,"body_markdown":"@Ninja indeed, in the past, it was required to use `@RequiredArgsConstructor(onConstructor = @__(@Autowired))` but nowadays `Spring` is smart enough so simply `@RequiredArgsConstructor` is sufficient.","body":"@Ninja indeed, in the past, it was required to use <code>@RequiredArgsConstructor(onConstructor = @__(@Autowired))</code> but nowadays <code>Spring</code> is smart enough so simply <code>@RequiredArgsConstructor</code> is sufficient."}],"tags":[],"owner":{"account_id":226545,"reputation":9656,"user_id":487649,"accept_rate":67,"display_name":"Nikola Yovchev"},"comment_count":12,"down_vote_count":0,"up_vote_count":243,"is_accepted":true,"score":243,"last_activity_date":1699670315,"creation_date":1526026503,"answer_id":50287955,"question_id":38549657,"body_markdown":"You can have a service defined like this:\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class SomeRouterService {\r\n\t\r\n\t   @Qualifier(&quot;someDestination1&quot;) @NonNull private final SomeDestination someDestination1;\r\n\t   @Qualifier(&quot;someDestination2&quot;) @NonNull private final SomeDestination someDestination2;\r\n\t\r\n\t   public void onMessage(Message message) {\r\n\t       // some code to route stuff based on something to either destination1 or destination2\r\n\t   }\r\n\t\r\n     } \r\n\r\n\r\nProvided that you have a `lombok.config` file like this in the root of the project:\r\n\r\n    # Copy the Qualifier annotation from the instance variables to the constructor\r\n    # see https://github.com/rzwitserloot/lombok/issues/745\r\n    lombok.copyableAnnotations += org.springframework.beans.factory.annotation.Qualifier\r\n    lombok.copyableAnnotations += org.springframework.beans.factory.annotation.Value\r\n\r\nThis was introduced in lombok 1.18.4, I wrote about it in my blogpost, and I am proud to say I was one of the main driving forces pushing for the implementation of the feature.\r\n\r\n  \r\n - The [blog post where the issue is discussed][1] in detail\r\n - The original [issue on github][2]\r\n - And a small [github project to see it in action][3] \r\n\r\n\r\n  [1]: https://ath3nd.wordpress.com/2018/12/13/spring-lombok-or-injection-just-became-a-bit-easier-part-2-of-2/\r\n  [2]: https://github.com/rzwitserloot/lombok/issues/745\r\n  [3]: https://github.com/lc-nyovchev/lombok-spring-qualifier","title":"Is it possible to add qualifiers in @RequiredArgsConstructor(onConstructor = @__(@Autowired))?","body":"<p>You can have a service defined like this:</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class SomeRouterService {\n\n   @Qualifier(&quot;someDestination1&quot;) @NonNull private final SomeDestination someDestination1;\n   @Qualifier(&quot;someDestination2&quot;) @NonNull private final SomeDestination someDestination2;\n\n   public void onMessage(Message message) {\n       // some code to route stuff based on something to either destination1 or destination2\n   }\n\n } \n</code></pre>\n<p>Provided that you have a <code>lombok.config</code> file like this in the root of the project:</p>\n<pre><code># Copy the Qualifier annotation from the instance variables to the constructor\n# see https://github.com/rzwitserloot/lombok/issues/745\nlombok.copyableAnnotations += org.springframework.beans.factory.annotation.Qualifier\nlombok.copyableAnnotations += org.springframework.beans.factory.annotation.Value\n</code></pre>\n<p>This was introduced in lombok 1.18.4, I wrote about it in my blogpost, and I am proud to say I was one of the main driving forces pushing for the implementation of the feature.</p>\n<ul>\n<li>The <a href=\"https://ath3nd.wordpress.com/2018/12/13/spring-lombok-or-injection-just-became-a-bit-easier-part-2-of-2/\" rel=\"nofollow noreferrer\">blog post where the issue is discussed</a> in detail</li>\n<li>The original <a href=\"https://github.com/rzwitserloot/lombok/issues/745\" rel=\"nofollow noreferrer\">issue on github</a></li>\n<li>And a small <a href=\"https://github.com/lc-nyovchev/lombok-spring-qualifier\" rel=\"nofollow noreferrer\">github project to see it in action</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":5789010,"reputation":3745,"user_id":4567218,"display_name":"Leonid Dashko"},"score":0,"creation_date":1614960618,"post_id":52540251,"comment_id":117553498,"body_markdown":"It doesn&#39;t work if used with @MockBean. Spring boot 2.2.5.RELEASE.","body":"It doesn&#39;t work if used with @MockBean. Spring boot 2.2.5.RELEASE."},{"owner":{"account_id":2651121,"reputation":4898,"user_id":2292766,"accept_rate":80,"display_name":"Hannes Schneidermayer"},"score":0,"creation_date":1661275730,"post_id":52540251,"comment_id":129731900,"body_markdown":"nice one, i like it","body":"nice one, i like it"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1672236899,"post_id":52540251,"comment_id":132248244,"body_markdown":"Unfortunately it doesn&#39;t work for me although I tried it","body":"Unfortunately it doesn&#39;t work for me although I tried it"}],"tags":[],"owner":{"account_id":11410365,"reputation":1115,"user_id":8364683,"display_name":"Алексей Виноградов"},"comment_count":3,"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1538061460,"creation_date":1538061460,"answer_id":52540251,"question_id":38549657,"body_markdown":"You may use spring trick to qualify field by naming it with desired qualifier without @Qualifier annotation.\r\n\r\n    @RequiredArgsConstructor\r\n    public class ValidationController {\r\n    \r\n      //@Qualifier(&quot;xmlFormValidator&quot;)\r\n        private final Validator xmlFormValidator;","title":"Is it possible to add qualifiers in @RequiredArgsConstructor(onConstructor = @__(@Autowired))?","body":"<p>You may use spring trick to qualify field by naming it with desired qualifier without @Qualifier annotation.</p>\n\n<pre><code>@RequiredArgsConstructor\npublic class ValidationController {\n\n  //@Qualifier(\"xmlFormValidator\")\n    private final Validator xmlFormValidator;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3044863,"reputation":958,"user_id":2580829,"display_name":"David Barda"},"score":4,"creation_date":1609155743,"post_id":65104379,"comment_id":115760461,"body_markdown":"I don&#39;t think this is true, the field name is usually not something people aware will affect application behavior, and it may cause mysterious issues that are hard to detect.","body":"I don&#39;t think this is true, the field name is usually not something people aware will affect application behavior, and it may cause mysterious issues that are hard to detect."},{"owner":{"account_id":12838985,"reputation":385,"user_id":9287587,"display_name":"scott"},"score":0,"creation_date":1609209992,"post_id":65104379,"comment_id":115777773,"body_markdown":"@DavidBarda you are right from this perspective, thanks for your comment","body":"@DavidBarda you are right from this perspective, thanks for your comment"}],"tags":[],"owner":{"account_id":12838985,"reputation":385,"user_id":9287587,"display_name":"scott"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1606896913,"creation_date":1606896913,"answer_id":65104379,"question_id":38549657,"body_markdown":"I haven&#39;t test whether the accepted answer works well, but instead of create or edit lombok&#39;s config file, I think the cleaner way is rename the member variable to which name you want to qualifier.\r\n\r\n    // Error code without edit lombok config\r\n    @Service\r\n    @RequiredArgsConstructor(onConstructor = @__(@Autowired))\r\n    public class Foo {\r\n        @Qualifier(&quot;anotherDao&quot;) UserDao userDao;\r\n    }\r\nJust remove @Qualifier and change your variable&#39;s name\r\n\r\n    // Works well\r\n    @Service\r\n    @RequiredArgsConstructor(onConstructor = @__(@Autowired))\r\n    public class Foo {\r\n        UserDao anotherDao;\r\n    }","title":"Is it possible to add qualifiers in @RequiredArgsConstructor(onConstructor = @__(@Autowired))?","body":"<p>I haven't test whether the accepted answer works well, but instead of create or edit lombok's config file, I think the cleaner way is rename the member variable to which name you want to qualifier.</p>\n<pre><code>// Error code without edit lombok config\n@Service\n@RequiredArgsConstructor(onConstructor = @__(@Autowired))\npublic class Foo {\n    @Qualifier(&quot;anotherDao&quot;) UserDao userDao;\n}\n</code></pre>\n<p>Just remove @Qualifier and change your variable's name</p>\n<pre><code>// Works well\n@Service\n@RequiredArgsConstructor(onConstructor = @__(@Autowired))\npublic class Foo {\n    UserDao anotherDao;\n}\n</code></pre>\n"}],"owner":{"account_id":6087813,"reputation":15135,"user_id":4751165,"accept_rate":96,"display_name":"Pau"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80765,"favorite_count":0,"down_vote_count":0,"up_vote_count":114,"accepted_answer_id":50287955,"answer_count":3,"score":114,"last_activity_date":1699670315,"creation_date":1469344782,"question_id":38549657,"body_markdown":"If I wanted to use the annotation `@Qualifier` on a constructor dependency injection, I would have something like the following:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public class Example {\r\n\t\r\n        private final ComponentExample component;\r\n\r\n        @Autowired\r\n        public Example(@Qualifier(&quot;someComponent&quot;) ComponentExample component) {\r\n            this.component = component;\r\n        }\r\n    }\r\n\r\nI know Lombok&#39;s annotations to reduce boilerplate code and don&#39;t have to include a constructor would be as follows: `@RequiredArgsConstructors(onConstructor=@__(@Inject))` but this only works with properties without qualifiers. \r\n\r\nAnyone know if it is possible to add qualifiers in `@RequiredArgsConstructor(onConstructor = @__(@Autowired))`?","title":"Is it possible to add qualifiers in @RequiredArgsConstructor(onConstructor = @__(@Autowired))?","body":"<p>If I wanted to use the annotation <code>@Qualifier</code> on a constructor dependency injection, I would have something like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Example {\n\n    private final ComponentExample component;\n\n    @Autowired\n    public Example(@Qualifier(&quot;someComponent&quot;) ComponentExample component) {\n        this.component = component;\n    }\n}\n</code></pre>\n<p>I know Lombok's annotations to reduce boilerplate code and don't have to include a constructor would be as follows: <code>@RequiredArgsConstructors(onConstructor=@__(@Inject))</code> but this only works with properties without qualifiers.</p>\n<p>Anyone know if it is possible to add qualifiers in <code>@RequiredArgsConstructor(onConstructor = @__(@Autowired))</code>?</p>\n"},{"tags":["java","jndi","activemq-artemis","hornetq","jboss-eap-7"],"answers":[{"comments":[{"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"score":0,"creation_date":1699867348,"post_id":77463631,"comment_id":136580269,"body_markdown":"I can&#39;t agree more than what Justin wrote: you would need to register the queue with Wildfly JNDI store if you want to be able to access it.","body":"I can&#39;t agree more than what Justin wrote: you would need to register the queue with Wildfly JNDI store if you want to be able to access it."},{"owner":{"account_id":29874574,"reputation":3,"user_id":22895123,"display_name":"Pedroz141"},"score":0,"creation_date":1699891682,"post_id":77463631,"comment_id":136584783,"body_markdown":"Thank you for your quick response and the queue creation configuration correction. However, I understand that the WildFly Management Client would be used if it knew the name and number of queues needed. I used &quot;MyQName&quot; to simplify the case, but in the real case the queue names are obtained from a database and the name and quantity vary, that&#39;s why I need a way to do it in code. Will there be any workaround for what I need to do?","body":"Thank you for your quick response and the queue creation configuration correction. However, I understand that the WildFly Management Client would be used if it knew the name and number of queues needed. I used &quot;MyQName&quot; to simplify the case, but in the real case the queue names are obtained from a database and the name and quantity vary, that&#39;s why I need a way to do it in code. Will there be any workaround for what I need to do?"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1699893122,"post_id":77463631,"comment_id":136585079,"body_markdown":"You _can_ do it in code. You&#39;ve got a handful of different options available, but if you&#39;re using Java then [this class](https://github.com/wildfly/wildfly-core/blob/main/cli/src/main/java/org/jboss/as/cli/scriptsupport/CLI.java) is probably the easiest to use.","body":"You <i>can</i> do it in code. You&#39;ve got a handful of different options available, but if you&#39;re using Java then <a href=\"https://github.com/wildfly/wildfly-core/blob/main/cli/src/main/java/org/jboss/as/cli/scriptsupport/CLI.java\" rel=\"nofollow noreferrer\">this class</a> is probably the easiest to use."}],"tags":[],"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699667123,"creation_date":1699667123,"answer_id":77463631,"question_id":77462537,"body_markdown":"The JSON you&#39;re passing to [`ActiveMQServerControl.createQueue`](https://activemq.apache.org/components/artemis/documentation/javadocs/javadoc-latest/org/apache/activemq/artemis/api/core/management/ActiveMQServerControl.html#createQueue(java.lang.String)) contains &quot;entries&quot; which is not valid. See the JavaDoc for [`QueueConfiguration`](https://activemq.apache.org/components/artemis/documentation/javadocs/javadoc-latest/org/apache/activemq/artemis/api/core/QueueConfiguration.html) for details on what properties are valid.\r\n\r\nThat said, you almost certainly should be using one of the [WildFly Management Clients][1] instead of trying to work directly with the embedded instance of ActiveMQ Artemis. By using WildFly management you&#39;ll have access to a rich model, including all the necessary JMS related operations (including [adding a queue][2]). Furthermore, those changes will be reflected _in the model_ which provides benefits like automatically updating the XML configuration file (e.g. `standalone-full.xml`) on disk.\r\n\r\nIt&#39;s important to note that in this context WildFly itself manages the JNDI entries, not ActiveMQ Artemis. That&#39;s why when you look up JMS admin objects in WildFly you use `org.wildfly.naming.client.WildFlyInitialContextFactory` rather than a class from ActiveMQ Artemis.\r\n\r\n\r\n  [1]: https://docs.wildfly.org/23/Admin_Guide.html#Management_Clients\r\n  [2]: https://docs.wildfly.org/23/wildscribe/subsystem/messaging-activemq/server/jms-queue/index.html#op-add","title":"JBoss 7.4 ActiveMQ Artemis Queue Can&#39;t binding to a specific JNDI name","body":"<p>The JSON you're passing to <a href=\"https://activemq.apache.org/components/artemis/documentation/javadocs/javadoc-latest/org/apache/activemq/artemis/api/core/management/ActiveMQServerControl.html#createQueue(java.lang.String)\" rel=\"nofollow noreferrer\"><code>ActiveMQServerControl.createQueue</code></a> contains &quot;entries&quot; which is not valid. See the JavaDoc for <a href=\"https://activemq.apache.org/components/artemis/documentation/javadocs/javadoc-latest/org/apache/activemq/artemis/api/core/QueueConfiguration.html\" rel=\"nofollow noreferrer\"><code>QueueConfiguration</code></a> for details on what properties are valid.</p>\n<p>That said, you almost certainly should be using one of the <a href=\"https://docs.wildfly.org/23/Admin_Guide.html#Management_Clients\" rel=\"nofollow noreferrer\">WildFly Management Clients</a> instead of trying to work directly with the embedded instance of ActiveMQ Artemis. By using WildFly management you'll have access to a rich model, including all the necessary JMS related operations (including <a href=\"https://docs.wildfly.org/23/wildscribe/subsystem/messaging-activemq/server/jms-queue/index.html#op-add\" rel=\"nofollow noreferrer\">adding a queue</a>). Furthermore, those changes will be reflected <em>in the model</em> which provides benefits like automatically updating the XML configuration file (e.g. <code>standalone-full.xml</code>) on disk.</p>\n<p>It's important to note that in this context WildFly itself manages the JNDI entries, not ActiveMQ Artemis. That's why when you look up JMS admin objects in WildFly you use <code>org.wildfly.naming.client.WildFlyInitialContextFactory</code> rather than a class from ActiveMQ Artemis.</p>\n"}],"owner":{"account_id":29874574,"reputation":3,"user_id":22895123,"display_name":"Pedroz141"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77463631,"answer_count":1,"score":0,"last_activity_date":1699667123,"creation_date":1699645803,"question_id":77462537,"body_markdown":"I&#39;m working on a JBoss migration from EAP 6.4 to 7.4.\r\nOne of the issues found is the replacement of HornetQ with ActiveMQ Artemis version 2.16.0.redhat-00022. My issue in specific is the JNDI binding for the created queues.\r\n\r\nOn HornetQ the following code was used to create the queue:\r\n```\r\nimport org.hornetq.api.jms.management.JMSServerControl;\r\n...\r\n...\r\nJMSServerControl srv_c = getJMSServerControl(); // this method gets the object from MBServer\r\nsrv.createQueue(&quot;MyQName&quot;, &quot;queue/MyQName&quot;, null, false);\r\n```\r\n\r\nIn the other part of the code, I&#39;m able to search the queue via JNDI name:\r\n\r\n```java\r\nimport javax.jms.Queue;\r\n...\r\n...\r\nctx = new InitialContext();\r\nQueue ourQueue = (Queue) ctx.lookup(&quot;queue/MyQName&quot;);\r\nif(ourQueue == null) {\r\n  log.error(&quot;Queue not found!&quot;);\r\n} else {\r\n  log.info(&quot;Queue found&quot;);\r\n}\r\n```\r\n\r\nLooking for an equivalent on Artemis I tried to use **ActiveMQServerControl** and specify the configuration for the queue creation.\r\n\r\n```\r\nimport org.apache.activemq.artemis.api.core.management.ActiveMQServerControl;\r\n...\r\n...\r\nActiveMQServerControl srv_c = getJMSServerControl(); // also found via MBServer\r\nString queueConfig = &quot;{&quot; +\r\n  &quot;\\&quot;name\\&quot;: \\&quot;MyQName\\&quot;,&quot; +\r\n  &quot;\\&quot;address\\&quot;: \\&quot;jms.queue.MyQName\\&quot;,&quot; +\r\n  &quot;\\&quot;durable\\&quot;: false,&quot; +\r\n  &quot;\\&quot;entries\\&quot;: [\\&quot;java:/queue/MyQName\\&quot;]&quot; +\r\n  &quot;}&quot;;\r\nsrv_c.createQueue(queueConfig);\r\n```\r\nHowever, when I try to find the queue via JNDI it always returns that the object doesn&#39;t exist. Across the system the queues are retrieved via JNDI which is why I need to do it this way.","title":"JBoss 7.4 ActiveMQ Artemis Queue Can&#39;t binding to a specific JNDI name","body":"<p>I'm working on a JBoss migration from EAP 6.4 to 7.4.\nOne of the issues found is the replacement of HornetQ with ActiveMQ Artemis version 2.16.0.redhat-00022. My issue in specific is the JNDI binding for the created queues.</p>\n<p>On HornetQ the following code was used to create the queue:</p>\n<pre><code>import org.hornetq.api.jms.management.JMSServerControl;\n...\n...\nJMSServerControl srv_c = getJMSServerControl(); // this method gets the object from MBServer\nsrv.createQueue(&quot;MyQName&quot;, &quot;queue/MyQName&quot;, null, false);\n</code></pre>\n<p>In the other part of the code, I'm able to search the queue via JNDI name:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.jms.Queue;\n...\n...\nctx = new InitialContext();\nQueue ourQueue = (Queue) ctx.lookup(&quot;queue/MyQName&quot;);\nif(ourQueue == null) {\n  log.error(&quot;Queue not found!&quot;);\n} else {\n  log.info(&quot;Queue found&quot;);\n}\n</code></pre>\n<p>Looking for an equivalent on Artemis I tried to use <strong>ActiveMQServerControl</strong> and specify the configuration for the queue creation.</p>\n<pre><code>import org.apache.activemq.artemis.api.core.management.ActiveMQServerControl;\n...\n...\nActiveMQServerControl srv_c = getJMSServerControl(); // also found via MBServer\nString queueConfig = &quot;{&quot; +\n  &quot;\\&quot;name\\&quot;: \\&quot;MyQName\\&quot;,&quot; +\n  &quot;\\&quot;address\\&quot;: \\&quot;jms.queue.MyQName\\&quot;,&quot; +\n  &quot;\\&quot;durable\\&quot;: false,&quot; +\n  &quot;\\&quot;entries\\&quot;: [\\&quot;java:/queue/MyQName\\&quot;]&quot; +\n  &quot;}&quot;;\nsrv_c.createQueue(queueConfig);\n</code></pre>\n<p>However, when I try to find the queue via JNDI it always returns that the object doesn't exist. Across the system the queues are retrieved via JNDI which is why I need to do it this way.</p>\n"},{"tags":["java","spring-boot","nullpointerexception","mockito","junit5"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1699599371,"post_id":77457787,"comment_id":136554805,"body_markdown":"When you create a new `taskService` in `setUp`, you are replacing the instance of `TaskService` which had the mocks injected.","body":"When you create a new <code>taskService</code> in <code>setUp</code>, you are replacing the instance of <code>TaskService</code> which had the mocks injected."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1699599419,"post_id":77457787,"comment_id":136554808,"body_markdown":"I suggest using constructor injection, by the way. That would have made this problem clearer.","body":"I suggest using constructor injection, by the way. That would have made this problem clearer."},{"owner":{"account_id":29869439,"reputation":1,"user_id":22891133,"display_name":"Natalia"},"score":0,"creation_date":1699660224,"post_id":77457787,"comment_id":136563968,"body_markdown":"Even after removing service = new TaskService(userService), the error persists.\nImplementing dependency injection in TaskService like that because I was having a circular dependency error.","body":"Even after removing service = new TaskService(userService), the error persists. Implementing dependency injection in TaskService like that because I was having a circular dependency error."}],"answers":[{"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1699613250,"post_id":77458368,"comment_id":136556981,"body_markdown":"They should be able to just remove the line `service = new TaskService(userService);`. I expect Mockito will do field and ctor injection simultaneously.","body":"They should be able to just remove the line <code>service = new TaskService(userService);</code>. I expect Mockito will do field and ctor injection simultaneously."},{"owner":{"account_id":29869439,"reputation":1,"user_id":22891133,"display_name":"Natalia"},"score":0,"creation_date":1699659837,"post_id":77458368,"comment_id":136563941,"body_markdown":"Even after removing service = new TaskService(userService), the error persists.","body":"Even after removing service = new TaskService(userService), the error persists."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1699664408,"post_id":77458368,"comment_id":136564274,"body_markdown":"Exactly the same error?","body":"Exactly the same error?"},{"owner":{"account_id":29869439,"reputation":1,"user_id":22891133,"display_name":"Natalia"},"score":0,"creation_date":1699667072,"post_id":77458368,"comment_id":136564453,"body_markdown":"Yes, the same error","body":"Yes, the same error"},{"owner":{"account_id":29869439,"reputation":1,"user_id":22891133,"display_name":"Natalia"},"score":0,"creation_date":1699676554,"post_id":77458368,"comment_id":136564886,"body_markdown":"I found out what was causing the error.The @Autowired was being ignored due to the @Autowired in the constructor, so I refactored it and it looks like this:`\n`TaskService {\n    private final TaskRepository taskRepository;\n    private final UserService userService;\n\n    @Autowired\n    public TaskService(@Lazy UserService userService, TaskRepository taskRepository) {\n        this.userService = userService;\n        this.taskRepository = taskRepository;\n    }\n}`","body":"I found out what was causing the error.The @Autowired was being ignored due to the @Autowired in the constructor, so I refactored it and it looks like this:` <code>TaskService {     private final TaskRepository taskRepository;     private final UserService userService;      @Autowired     public TaskService(@Lazy UserService userService, TaskRepository taskRepository) {         this.userService = userService;         this.taskRepository = taskRepository;     } }</code>"}],"tags":[],"owner":{"account_id":4727352,"reputation":1053,"user_id":3823862,"accept_rate":100,"display_name":"mirzak"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699602054,"creation_date":1699602054,"answer_id":77458368,"question_id":77457787,"body_markdown":"Issue you have here is that you are overriding the TaskService to which you have injected the mocks. You create new instance of it in the setup. \r\n\r\nIf possible you can have something like this \r\n\r\n    @Mock\r\n    Repository repository;\r\n    @Mock\r\n    OtherService otherService;\r\n    TaskService service;\r\n\r\n    @Setup\r\n    void setup() {\r\n        service = new TaskService(repository, otherService);\r\n    }\r\nIf you can not inject the repository using constructor injection, then you can do what you did previously, but inject the other service the same way you inject your repository. \r\n\r\nThird option you have is to set the other service via setter in the task service, but I would not recommend doing this.\r\n\r\n","title":"Repository is not being mocked JUnit5","body":"<p>Issue you have here is that you are overriding the TaskService to which you have injected the mocks. You create new instance of it in the setup.</p>\n<p>If possible you can have something like this</p>\n<pre><code>@Mock\nRepository repository;\n@Mock\nOtherService otherService;\nTaskService service;\n\n@Setup\nvoid setup() {\n    service = new TaskService(repository, otherService);\n}\n</code></pre>\n<p>If you can not inject the repository using constructor injection, then you can do what you did previously, but inject the other service the same way you inject your repository.</p>\n<p>Third option you have is to set the other service via setter in the task service, but I would not recommend doing this.</p>\n"}],"owner":{"account_id":29869439,"reputation":1,"user_id":22891133,"display_name":"Natalia"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1699605125,"answer_count":1,"score":0,"last_activity_date":1699667038,"creation_date":1699592327,"question_id":77457787,"body_markdown":"I&#39;m encountering the following error when I run the unit test:\r\nError:java.lang.NullPointerException: Cannot invoke &quot;com.example.gerenciadordetarefas.repository.task.TaskRepository.findById(Object)&quot; because &quot;this.taskRepository&quot; is null\r\n\r\nI know that the repository is not being mocked, but I don&#39;t know why.\r\n\r\nTaskServiceTest\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\nclass TaskServiceTest {\r\n    @Mock\r\n    private TaskRepository repository;\r\n\r\n    @InjectMocks\r\n    private  TaskService service;\r\n\r\n    @Mock\r\n    private UserService userService;\r\n    private static final String TASK_ID_1 = &quot;652d960af866034b686cca97&quot;;\r\n    private static final String TASK_ID_2 = &quot;252d960af866034b686cca92&quot;;\r\n    private static final String USER_ID_1 = &quot;642f6ab6813d692cef4795cc&quot;;\r\n\r\n    private final User user1 = User.builder()\r\n            .id(USER_ID_1)\r\n            .name(&quot;Maria Silva&quot;)\r\n            .assignedTasks(new ArrayList&lt;&gt;())\r\n            .build();\r\n    private final Task task = Task.builder()\r\n            .title(&quot;teste&quot;)\r\n            .description(&quot;teste aqui&quot;)\r\n            .dateOfCreation(LocalDate.now())\r\n            .dueDate(LocalDate.now())\r\n            .assigne(Collections.singletonList(user1))\r\n            .build();\r\n\r\n    private final TaskDto taskD = TaskDto.builder()\r\n            .title(&quot;teste&quot;)\r\n            .description(&quot;teste aqui&quot;)\r\n            .dateOfCreation(LocalDate.now())\r\n            .dueDate(LocalDate.now())\r\n            .assigne(Collections.singletonList(USER_ID_1))\r\n            .build();\r\n\r\n\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        // MockitoAnnotations.initMocks(this);\r\n        service = new TaskService(userService);\r\n        Mockito.lenient().when(userService.getUserById(USER_ID_1)).thenReturn(user1);\r\n        Mockito.lenient().when(repository.save(Mockito.any(Task.class))).thenReturn(task);\r\n        Mockito.lenient().when(repository.findById(TASK_ID_1)).thenReturn(Optional.of(task));\r\n    }\r\n\r\n    @Test\r\n    @DisplayName(&quot;Verificar se o objeto Task est&#225; sendo criado &quot;)\r\n    void createTask() {\r\n        service.createTask(taskD);\r\n        verify(repository, times(1)).save(task);\r\n\r\n    }\r\n```\r\nTaskService:\r\n\r\n```\r\n@Service\r\npublic class TaskService {\r\n    @Autowired\r\n    private TaskRepository taskRepository;\r\n    private final UserService userService;\r\n    @Autowired\r\n    public TaskService(@Lazy UserService userService) {\r\n        this.userService = userService;\r\n    }\r\n\r\n    public TaskDtoResponse createTask(TaskDto taskDto) {\r\n        Task task = TaskMapper.taskDtoToTask(taskDto);\r\n        this.addToAssigne(taskDto, task);\r\n        taskRepository.save(task);\r\n        return TaskMapper.taskToTaskDtoResponse(task);\r\n    }\r\n    public Task addToAssigne(TaskDto taskDto, Task task){\r\n        List&lt;String&gt;assigne = taskDto.getAssigne();\r\n        assigne.forEach(id -&gt; {\r\n            User user = userService.getUserById(id);\r\n            task.getAssigne().add(user);\r\n        });\r\n        return task;\r\n    }\r\n}\r\n```\r\nTaskRepository:\r\n\r\n```\r\n@Repository\r\npublic interface TaskRepository extends MongoRepository&lt;Task, String&gt; {\r\n    @Query(&quot;{_id: {$in:?0}})&quot;)\r\n    List&lt;Task&gt; findByIds(List&lt;String&gt; ids);\r\n}\r\n```\r\nUserService:\r\n\r\n```\r\n@Service\r\npublic class UserService {\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Autowired\r\n    private TaskService taskService;\r\n\r\n\r\n    public UserDtoResponse createUser(UserDto userDto)  {\r\n        User user = UserMapper.userDtoToUser(userDto);\r\n        if(userDto.getAssignedTasks() != null){\r\n            this.addToTaskList(userDto, user);\r\n        }\r\n        userRepository.save(user);\r\n        return UserMapper.userToUserDtoResponse(user);\r\n    }\r\n    public User addToTaskList(UserDto userDto, User user){\r\n        List&lt;String&gt;assignedTasks =  userDto.getAssignedTasks();\r\n        assignedTasks.forEach(id-&gt; {\r\n            Task task = taskService.getTaskById(id);\r\n            user.getAssignedTasks().add(task);\r\n        });\r\n        return user;\r\n    }\r\n}\r\n```\r\nHow can I make the test createTask() pass?\r\n\r\n","title":"Repository is not being mocked JUnit5","body":"<p>I'm encountering the following error when I run the unit test:\nError:java.lang.NullPointerException: Cannot invoke &quot;com.example.gerenciadordetarefas.repository.task.TaskRepository.findById(Object)&quot; because &quot;this.taskRepository&quot; is null</p>\n<p>I know that the repository is not being mocked, but I don't know why.</p>\n<p>TaskServiceTest</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass TaskServiceTest {\n    @Mock\n    private TaskRepository repository;\n\n    @InjectMocks\n    private  TaskService service;\n\n    @Mock\n    private UserService userService;\n    private static final String TASK_ID_1 = &quot;652d960af866034b686cca97&quot;;\n    private static final String TASK_ID_2 = &quot;252d960af866034b686cca92&quot;;\n    private static final String USER_ID_1 = &quot;642f6ab6813d692cef4795cc&quot;;\n\n    private final User user1 = User.builder()\n            .id(USER_ID_1)\n            .name(&quot;Maria Silva&quot;)\n            .assignedTasks(new ArrayList&lt;&gt;())\n            .build();\n    private final Task task = Task.builder()\n            .title(&quot;teste&quot;)\n            .description(&quot;teste aqui&quot;)\n            .dateOfCreation(LocalDate.now())\n            .dueDate(LocalDate.now())\n            .assigne(Collections.singletonList(user1))\n            .build();\n\n    private final TaskDto taskD = TaskDto.builder()\n            .title(&quot;teste&quot;)\n            .description(&quot;teste aqui&quot;)\n            .dateOfCreation(LocalDate.now())\n            .dueDate(LocalDate.now())\n            .assigne(Collections.singletonList(USER_ID_1))\n            .build();\n\n\n\n    @BeforeEach\n    void setUp() {\n        // MockitoAnnotations.initMocks(this);\n        service = new TaskService(userService);\n        Mockito.lenient().when(userService.getUserById(USER_ID_1)).thenReturn(user1);\n        Mockito.lenient().when(repository.save(Mockito.any(Task.class))).thenReturn(task);\n        Mockito.lenient().when(repository.findById(TASK_ID_1)).thenReturn(Optional.of(task));\n    }\n\n    @Test\n    @DisplayName(&quot;Verificar se o objeto Task está sendo criado &quot;)\n    void createTask() {\n        service.createTask(taskD);\n        verify(repository, times(1)).save(task);\n\n    }\n</code></pre>\n<p>TaskService:</p>\n<pre><code>@Service\npublic class TaskService {\n    @Autowired\n    private TaskRepository taskRepository;\n    private final UserService userService;\n    @Autowired\n    public TaskService(@Lazy UserService userService) {\n        this.userService = userService;\n    }\n\n    public TaskDtoResponse createTask(TaskDto taskDto) {\n        Task task = TaskMapper.taskDtoToTask(taskDto);\n        this.addToAssigne(taskDto, task);\n        taskRepository.save(task);\n        return TaskMapper.taskToTaskDtoResponse(task);\n    }\n    public Task addToAssigne(TaskDto taskDto, Task task){\n        List&lt;String&gt;assigne = taskDto.getAssigne();\n        assigne.forEach(id -&gt; {\n            User user = userService.getUserById(id);\n            task.getAssigne().add(user);\n        });\n        return task;\n    }\n}\n</code></pre>\n<p>TaskRepository:</p>\n<pre><code>@Repository\npublic interface TaskRepository extends MongoRepository&lt;Task, String&gt; {\n    @Query(&quot;{_id: {$in:?0}})&quot;)\n    List&lt;Task&gt; findByIds(List&lt;String&gt; ids);\n}\n</code></pre>\n<p>UserService:</p>\n<pre><code>@Service\npublic class UserService {\n    @Autowired\n    private UserRepository userRepository;\n\n    @Autowired\n    private TaskService taskService;\n\n\n    public UserDtoResponse createUser(UserDto userDto)  {\n        User user = UserMapper.userDtoToUser(userDto);\n        if(userDto.getAssignedTasks() != null){\n            this.addToTaskList(userDto, user);\n        }\n        userRepository.save(user);\n        return UserMapper.userToUserDtoResponse(user);\n    }\n    public User addToTaskList(UserDto userDto, User user){\n        List&lt;String&gt;assignedTasks =  userDto.getAssignedTasks();\n        assignedTasks.forEach(id-&gt; {\n            Task task = taskService.getTaskById(id);\n            user.getAssignedTasks().add(task);\n        });\n        return user;\n    }\n}\n</code></pre>\n<p>How can I make the test createTask() pass?</p>\n"},{"tags":["java","android","layout","admob","ads"],"answers":[{"tags":[],"owner":{"account_id":29841276,"reputation":16,"user_id":22869431,"display_name":"Omar Samara"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699666915,"creation_date":1699666915,"answer_id":77463616,"question_id":77434307,"body_markdown":"hello so after a while i figure the problem.\r\n\r\nmy app was going well until i upgrade the target version to android 13 or api 33, my app is using external storage permission but in api 33 to ask for this permission you need a new permission that introduced just for api 33 and up, so my app target api 33 but devices with api 33 and up can&#39;t use it because i was asking for the wrong permission and that why admob restrict ads on my app, after i fix everything admob serve ads to my app again \r\n\r\nfor more details read here\r\nhttps://stackoverflow.com/questions/73826323/android-api-33-permissions-are-not-granted ","title":"my android app get ads restriction from admob with the reason site behavior: navigation but i can&#39;t understand why?","body":"<p>hello so after a while i figure the problem.</p>\n<p>my app was going well until i upgrade the target version to android 13 or api 33, my app is using external storage permission but in api 33 to ask for this permission you need a new permission that introduced just for api 33 and up, so my app target api 33 but devices with api 33 and up can't use it because i was asking for the wrong permission and that why admob restrict ads on my app, after i fix everything admob serve ads to my app again</p>\n<p>for more details read here\n<a href=\"https://stackoverflow.com/questions/73826323/android-api-33-permissions-are-not-granted\">Android API 33 permissions are not granted</a></p>\n"}],"owner":{"account_id":29841276,"reputation":16,"user_id":22869431,"display_name":"Omar Samara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77463616,"answer_count":1,"score":0,"last_activity_date":1699666915,"creation_date":1699305500,"question_id":77434307,"body_markdown":"my android app get ads restriction from admob with the reason site behavior: navigation but i can&#39;t understand why?\r\n\r\nthis is my app and i review it on many devices mobiles tablets and on many screen sizes from small to xx-large screen and everything is okay.\r\n\r\nbut admob still insist on the same problem which is Site Behavior: Navigation without giving me any more details?\r\n\r\nthis is my app store link\r\nhttps://play.google.com/store/apps/details?id=com.wallpaperfountain.bluerosewallpapers62\r\n\r\ncan any one help me and told me why and where is the error in my app?\r\n\r\ni solved all the layout problems in my app and now everything work clearly and i can&#39;t find any problem but although admob team insist that my app have a problem without telling me where exactly so i hope from expert people to install my app and tell me if they can figure where is the problem","title":"my android app get ads restriction from admob with the reason site behavior: navigation but i can&#39;t understand why?","body":"<p>my android app get ads restriction from admob with the reason site behavior: navigation but i can't understand why?</p>\n<p>this is my app and i review it on many devices mobiles tablets and on many screen sizes from small to xx-large screen and everything is okay.</p>\n<p>but admob still insist on the same problem which is Site Behavior: Navigation without giving me any more details?</p>\n<p>this is my app store link\n<a href=\"https://play.google.com/store/apps/details?id=com.wallpaperfountain.bluerosewallpapers62\" rel=\"nofollow noreferrer\">https://play.google.com/store/apps/details?id=com.wallpaperfountain.bluerosewallpapers62</a></p>\n<p>can any one help me and told me why and where is the error in my app?</p>\n<p>i solved all the layout problems in my app and now everything work clearly and i can't find any problem but although admob team insist that my app have a problem without telling me where exactly so i hope from expert people to install my app and tell me if they can figure where is the problem</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":944674,"reputation":307,"user_id":972156,"accept_rate":60,"display_name":"ThomasDKim"},"score":0,"creation_date":1421286605,"post_id":27955587,"comment_id":44306115,"body_markdown":"Is there more elegant way to do this?","body":"Is there more elegant way to do this?"},{"owner":{"account_id":336687,"reputation":1696,"user_id":664479,"display_name":"Stuart Siegler"},"score":0,"creation_date":1421287113,"post_id":27955587,"comment_id":44306196,"body_markdown":"Looks like you still have the file open (for reading) in the first line.","body":"Looks like you still have the file open (for reading) in the first line."},{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1421287821,"post_id":27955587,"comment_id":44306341,"body_markdown":"Close the FileReader. Depending on a lot of things, often you can&#39;t write to a file while something else is reading from it.","body":"Close the FileReader. Depending on a lot of things, often you can&#39;t write to a file while something else is reading from it."},{"owner":{"account_id":944674,"reputation":307,"user_id":972156,"accept_rate":60,"display_name":"ThomasDKim"},"score":0,"creation_date":1421344538,"post_id":27955587,"comment_id":44332412,"body_markdown":"Yes, closing the FileReader did it!!  Thanks Stuart Siegler and immibis!","body":"Yes, closing the FileReader did it!!  Thanks Stuart Siegler and immibis!"}],"answers":[{"tags":[],"owner":{"account_id":9142061,"reputation":1295,"user_id":6799603,"display_name":"Gajender Singh"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1476787025,"creation_date":1476787025,"answer_id":40105959,"question_id":27955587,"body_markdown":"place this code \r\n\r\n    try (FileWriter file = new FileWriter(&quot;/C:/Users/itaas/Desktop/text1.txt&quot;)) {\r\n    \t\t\tfile.write(js.toString());\r\n    \t\t\tSystem.out.println(&quot;Successfully Copied JSON Object to File...&quot;);\r\n    \t\t\tSystem.out.println(&quot;\\nJSON Object: &quot; + js);\r\n    \t\t\t\r\n    \t\t}\r\n         \r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }","title":"java - update .json file (using json.simple)","body":"<p>place this code </p>\n\n<pre><code>try (FileWriter file = new FileWriter(\"/C:/Users/itaas/Desktop/text1.txt\")) {\n            file.write(js.toString());\n            System.out.println(\"Successfully Copied JSON Object to File...\");\n            System.out.println(\"\\nJSON Object: \" + js);\n\n        }\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13795858,"reputation":69,"user_id":9957095,"display_name":"Dilip Kumar Muniraju"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1567760234,"creation_date":1567760234,"answer_id":57818834,"question_id":27955587,"body_markdown":"    //this worked for me\r\n\r\n        package com.FLP.utils;\r\n\r\n        import java.io.FileReader;\r\n        import java.io.IOException;\r\n        import java.io.Reader;\r\n        import java.io.FileWriter;\r\n\r\n       import org.json.simple.JSONArray;\r\n       import org.json.simple.JSONObject;\r\n       import org.json.simple.parser.JSONParser;\r\n       import org.json.simple.parser.ParseException;\r\n\r\n       @SuppressWarnings(&quot;unchecked&quot;)\r\n       public class TestDataReader {\r\n\r\n\t    public static void main(String[] args) {\t\t\r\n\t\r\n\t\ttry (Reader reader = new FileReader(&quot;.\\\\testdata\\\\TC_11.json&quot;)) {\r\n\t\t\t// Read JSON file\r\n\t\t\tJSONParser parser = new JSONParser();\r\n\t\t\tJSONObject data = (JSONObject) parser.parse(reader);\r\n\t\t\tdata.put(key value);\r\n\t\t\t@SuppressWarnings(&quot;resource&quot;)\r\n\t\t\tFileWriter file = new FileWriter(&quot;.\\\\testdata\\\\TC_11.json&quot;);\r\n\t\t\tfile.write(data.toJSONString());\r\n\t\t\tfile.flush();\r\n\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t   } catch (ParseException e1) {\r\n\t\t\t    e1.printStackTrace();\r\n\t\t   }\r\n       }\r\n\r\n       }\r\n","title":"java - update .json file (using json.simple)","body":"<pre><code>//this worked for me\n\n    package com.FLP.utils;\n\n    import java.io.FileReader;\n    import java.io.IOException;\n    import java.io.Reader;\n    import java.io.FileWriter;\n\n   import org.json.simple.JSONArray;\n   import org.json.simple.JSONObject;\n   import org.json.simple.parser.JSONParser;\n   import org.json.simple.parser.ParseException;\n\n   @SuppressWarnings(\"unchecked\")\n   public class TestDataReader {\n\n    public static void main(String[] args) {        \n\n    try (Reader reader = new FileReader(\".\\\\testdata\\\\TC_11.json\")) {\n        // Read JSON file\n        JSONParser parser = new JSONParser();\n        JSONObject data = (JSONObject) parser.parse(reader);\n        data.put(key value);\n        @SuppressWarnings(\"resource\")\n        FileWriter file = new FileWriter(\".\\\\testdata\\\\TC_11.json\");\n        file.write(data.toJSONString());\n        file.flush();\n\n    } catch (IOException e) {\n        e.printStackTrace();\n       } catch (ParseException e1) {\n            e1.printStackTrace();\n       }\n   }\n\n   }\n</code></pre>\n"}],"owner":{"account_id":944674,"reputation":307,"user_id":972156,"accept_rate":60,"display_name":"ThomasDKim"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9794,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1699664885,"creation_date":1421286406,"question_id":27955587,"body_markdown":"I have a .json file that i am using like a property file.  After reading the json file, i get the value from &quot;Execute&quot; node and then I want to update the &quot;Execute&quot; node with a value of &quot;N&quot;.\r\n\r\nMy json file looks like this. {&quot;RunDate&quot;:&quot;2015-01-12&quot;,&quot;Execute&quot;:&quot;Y&quot;}.  I wrote the code to read the json file and i am trying to update the file by writing a new file.  \r\n\r\n    JSONParser parser = new JSONParser();\r\n        try {\r\n            FileReader fr = new FileReader(&quot;c:\\\\B\\\\myControl.json&quot;);\r\n            \r\n            Object obj = parser.parse(fr);\r\n            \r\n            JSONObject jsonObject = (JSONObject) obj;\r\n            ExecuteRun = (String) jsonObject.get(&quot;Execute&quot;);\r\n            \r\n            RunDate = (String) jsonObject.get(&quot;RunDate&quot;);\r\n            //update\r\n\r\n            jsonObject.put(&quot;Execute&quot;, &quot;N&quot;);\r\n            jsonObject.put(&quot;RunDate&quot;, RunDate);\r\n            \r\n            FileWriter file = new FileWriter(&quot;c:\\\\B\\\\mycontrol.json&quot;, true);\r\n            try {\r\n                file.write(jsonObject.toJSONString());\r\n                \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                file.flush();\r\n                file.close();\r\n            }\r\n        } catch(Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\nThe FileWriter line gets &quot;access denied&quot; error.  \r\n\r\nCan anyone help me out?","title":"java - update .json file (using json.simple)","body":"<p>I have a .json file that i am using like a property file.  After reading the json file, i get the value from \"Execute\" node and then I want to update the \"Execute\" node with a value of \"N\".</p>\n\n<p>My json file looks like this. {\"RunDate\":\"2015-01-12\",\"Execute\":\"Y\"}.  I wrote the code to read the json file and i am trying to update the file by writing a new file.  </p>\n\n<pre><code>JSONParser parser = new JSONParser();\n    try {\n        FileReader fr = new FileReader(\"c:\\\\B\\\\myControl.json\");\n\n        Object obj = parser.parse(fr);\n\n        JSONObject jsonObject = (JSONObject) obj;\n        ExecuteRun = (String) jsonObject.get(\"Execute\");\n\n        RunDate = (String) jsonObject.get(\"RunDate\");\n        //update\n\n        jsonObject.put(\"Execute\", \"N\");\n        jsonObject.put(\"RunDate\", RunDate);\n\n        FileWriter file = new FileWriter(\"c:\\\\B\\\\mycontrol.json\", true);\n        try {\n            file.write(jsonObject.toJSONString());\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            file.flush();\n            file.close();\n        }\n    } catch(Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>The FileWriter line gets \"access denied\" error.  </p>\n\n<p>Can anyone help me out?</p>\n"},{"tags":["java","string","substring","multiline"],"comments":[{"owner":{"account_id":483595,"reputation":7038,"user_id":898763,"accept_rate":71,"display_name":"amaidment"},"score":0,"creation_date":1699532689,"post_id":77452826,"comment_id":136545462,"body_markdown":"@Abra sure - examples added. They&#39;re not specific to my particular use case (which relates to implementing a protocol, in which the input is source code and the line/character indexes are the caret position in the source code), but hopefully will illustrate the functional requirements.","body":"@Abra sure - examples added. They&#39;re not specific to my particular use case (which relates to implementing a protocol, in which the input is source code and the line/character indexes are the caret position in the source code), but hopefully will illustrate the functional requirements."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1699537446,"post_id":77453375,"comment_id":136546449,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77453375/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":22495353,"reputation":23,"user_id":16692426,"display_name":"Konstanius EU"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699534510,"creation_date":1699534510,"answer_id":77453375,"question_id":77452826,"body_markdown":"Using existing System classes and methods will always get you a longer way, they are more efficient and get you to your result with more precision.\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            String text = &quot;&quot;&quot;\r\n                    hello\r\n                    world\r\n                    how\r\n                    are\r\n                    you?&quot;&quot;&quot;;\r\n            System.out.println(substring(text, 0, 2)); // he\r\n            System.out.println(substring(text, 1, 3)); // hello\\nwor\r\n            System.out.println(substring(text, 3, 0)); // hello\\nworld\\nhow\\n\r\n            try {\r\n                System.out.println(substring(text, 6, 0)); // Line index out of bounds\r\n            } catch (IndexOutOfBoundsException e) {\r\n                System.out.println(e.getMessage());\r\n            }\r\n            try {\r\n                System.out.println(substring(text, 0, 6)); // Range [0, 6) out of bounds for length 5\r\n            } catch (IndexOutOfBoundsException e) {\r\n                System.out.println(e.getMessage());\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Returns the substring of the given string up to the given character index on the given line index.\r\n         *\r\n         * @param text      input text\r\n         * @param line      line index (starting at 0 for the first line)\r\n         * @param character character index (starting at 0 for the first character)\r\n         * @return substring\r\n         */\r\n        public static String substring(String text, int line, int character) throws IndexOutOfBoundsException {\r\n            Scanner scanner = new Scanner(text);\r\n            int lineCount = 0;\r\n            StringBuilder sb = new StringBuilder();\r\n            while (scanner.hasNextLine()) {\r\n                String lineText = scanner.nextLine();\r\n                if (lineCount == line) {\r\n                    sb.append(lineText, 0, character);\r\n                    break;\r\n                } else {\r\n                    sb.append(lineText);\r\n                    sb.append(System.lineSeparator());\r\n                }\r\n                lineCount++;\r\n            }\r\n            if (lineCount &lt; line) {\r\n                throw new IndexOutOfBoundsException(&quot;Line index out of bounds&quot;);\r\n            }\r\n\r\n            return sb.toString();\r\n        }\r\n    }","title":"Java substring of multi-line String up to nth line and character index on that line","body":"<p>Using existing System classes and methods will always get you a longer way, they are more efficient and get you to your result with more precision.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        String text = &quot;&quot;&quot;\n                hello\n                world\n                how\n                are\n                you?&quot;&quot;&quot;;\n        System.out.println(substring(text, 0, 2)); // he\n        System.out.println(substring(text, 1, 3)); // hello\\nwor\n        System.out.println(substring(text, 3, 0)); // hello\\nworld\\nhow\\n\n        try {\n            System.out.println(substring(text, 6, 0)); // Line index out of bounds\n        } catch (IndexOutOfBoundsException e) {\n            System.out.println(e.getMessage());\n        }\n        try {\n            System.out.println(substring(text, 0, 6)); // Range [0, 6) out of bounds for length 5\n        } catch (IndexOutOfBoundsException e) {\n            System.out.println(e.getMessage());\n        }\n    }\n\n    /**\n     * Returns the substring of the given string up to the given character index on the given line index.\n     *\n     * @param text      input text\n     * @param line      line index (starting at 0 for the first line)\n     * @param character character index (starting at 0 for the first character)\n     * @return substring\n     */\n    public static String substring(String text, int line, int character) throws IndexOutOfBoundsException {\n        Scanner scanner = new Scanner(text);\n        int lineCount = 0;\n        StringBuilder sb = new StringBuilder();\n        while (scanner.hasNextLine()) {\n            String lineText = scanner.nextLine();\n            if (lineCount == line) {\n                sb.append(lineText, 0, character);\n                break;\n            } else {\n                sb.append(lineText);\n                sb.append(System.lineSeparator());\n            }\n            lineCount++;\n        }\n        if (lineCount &lt; line) {\n            throw new IndexOutOfBoundsException(&quot;Line index out of bounds&quot;);\n        }\n\n        return sb.toString();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":483595,"reputation":7038,"user_id":898763,"accept_rate":71,"display_name":"amaidment"},"score":1,"creation_date":1699542377,"post_id":77453683,"comment_id":136547582,"body_markdown":"+1 - I like that; it&#39;s certainly neater, and I&#39;ve updated my buildSubstring() based on this (and given credit); but with 3 differences, i) we can use Stream.limit(line + 1) to only populate the String[] with the lines we&#39;re interested in; ii) a quick return if line &gt; no. of lines; iii) a Math.min() on the last line in case character is beyond the length of the line.","body":"+1 - I like that; it&#39;s certainly neater, and I&#39;ve updated my buildSubstring() based on this (and given credit); but with 3 differences, i) we can use Stream.limit(line + 1) to only populate the String[] with the lines we&#39;re interested in; ii) a quick return if line &gt; no. of lines; iii) a Math.min() on the last line in case character is beyond the length of the line."}],"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699537433,"creation_date":1699537433,"answer_id":77453683,"question_id":77452826,"body_markdown":"Assuming you don&#39;t have a huge input, I would just split the input into rows and store in an array and use an IntStream and map each row index to the whole line except the line is equal to the parameter `line` then just map to a substring. something like:\r\n\r\n    public static String buildSubstring(String text, int line, int character){\r\n        String[] rows = text.lines().toArray(String[]::new);\r\n\r\n        return IntStream.range(0, line + 1)\r\n                        .mapToObj(i -&gt; i == line ? rows[i].substring(0,character) : rows[i])\r\n                        .collect(Collectors.joining(System.lineSeparator()));\r\n    }","title":"Java substring of multi-line String up to nth line and character index on that line","body":"<p>Assuming you don't have a huge input, I would just split the input into rows and store in an array and use an IntStream and map each row index to the whole line except the line is equal to the parameter <code>line</code> then just map to a substring. something like:</p>\n<pre><code>public static String buildSubstring(String text, int line, int character){\n    String[] rows = text.lines().toArray(String[]::new);\n\n    return IntStream.range(0, line + 1)\n                    .mapToObj(i -&gt; i == line ? rows[i].substring(0,character) : rows[i])\n                    .collect(Collectors.joining(System.lineSeparator()));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18532949,"reputation":215,"user_id":13503258,"display_name":"DONGMO BERNARD GERAUD"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699541590,"creation_date":1699541590,"answer_id":77454133,"question_id":77452826,"body_markdown":"I think this solution will work for almost all Java versions.\r\n```\r\npublic static String indexSubstring(String text, int line, int character) {\r\n\tString result = &quot;&quot;;\r\n\ttry {\r\n\t\tString[] lines = text.split(&quot;\\n&quot;);\r\n\t\tfor (int i = 0; i &lt; line; i++) {\r\n\t\t\tresult += lines[i] + &quot;\\n&quot;;\r\n\t\t}\r\n\t\tresult += lines[line].substring(0, character);\r\n\t\treturn result;\r\n\t} catch (Exception e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n\treturn result;\r\n}\r\n```\r\nI tested it with java 15 and it works for all multi-line strin of the form &quot;&quot;&quot;**your multi-line string here**&quot;&quot;&quot;;","title":"Java substring of multi-line String up to nth line and character index on that line","body":"<p>I think this solution will work for almost all Java versions.</p>\n<pre><code>public static String indexSubstring(String text, int line, int character) {\n    String result = &quot;&quot;;\n    try {\n        String[] lines = text.split(&quot;\\n&quot;);\n        for (int i = 0; i &lt; line; i++) {\n            result += lines[i] + &quot;\\n&quot;;\n        }\n        result += lines[line].substring(0, character);\n        return result;\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return result;\n}\n</code></pre>\n<p>I tested it with java 15 and it works for all multi-line strin of the form &quot;&quot;&quot;<strong>your multi-line string here</strong>&quot;&quot;&quot;;</p>\n"},{"tags":[],"owner":{"account_id":10759610,"reputation":12648,"user_id":7916438,"display_name":"tevemadar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699542580,"creation_date":1699542580,"answer_id":77454260,"question_id":77452826,"body_markdown":"If you are okay with getting back the substring with the original line breaks (*), you can loop over the characters, and do a single actual `substring()` call at the very end only:\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString n = &quot;hello\\nworld\\nhow\\nare\\nyou?&quot;;\r\n\t\tString r = &quot;hello\\rworld\\rhow\\rare\\ryou?&quot;;\r\n\t\tString rn = &quot;hello\\r\\nworld\\r\\nhow\\r\\nare\\r\\nyou?&quot;;\r\n\t\tSystem.out.println(substring(n, 0, 2));\r\n\t\tSystem.out.println(substring(r, 0, 2));\r\n\t\tSystem.out.println(substring(rn, 0, 2));\r\n\t\tSystem.out.println(substring(n, 1, 3));\r\n\t\tSystem.out.println(substring(r, 1, 3));\r\n\t\tSystem.out.println(substring(rn, 1, 3));\r\n\t\tSystem.out.println(substring(n, 3, 0));\r\n\t\tSystem.out.println(substring(r, 3, 0));\r\n\t\tSystem.out.println(substring(rn, 3, 0));\r\n\t}\r\n\r\n\tpublic static String substring(String text, int line, int character) {\r\n\t\tint pos = 0;\r\n\t\tchar sep = 0;\r\n\t\twhile (line &gt; 0) {\r\n\t\t\tchar c = text.charAt(pos++);\r\n\t\t\tif (c == &#39;\\n&#39; || c == &#39;\\r&#39;) {\r\n\t\t\t\tif (sep == 0)\r\n\t\t\t\t\tsep = c;\r\n\t\t\t\tif (c == sep)\r\n\t\t\t\t\tline--;\r\n\t\t\t}\r\n\t\t}\r\n\t\tchar c = text.charAt(pos);\r\n\t\tif (c != sep &amp;&amp; (c == &#39;\\n&#39; || c == &#39;\\r&#39;))\r\n\t\t\tpos++;\r\n\t\treturn text.substring(0, pos + character);\r\n\t}\r\n\r\nThe assumption is that line breaks are consistent in the string, so encountering the first actual line break character means all the other ones are will look the same, and the other character is either not used, or can be ignored (but still needs a bit of special handling after the loop).\r\n\r\nThe code actually works here: https://ideone.com/AWLBuD, however (*) applies, as you can see IdeOne succeeds with the conversion most of the time, but in the case when the `substring(x, 3, 0)` produces a string with an &quot;original&quot; line break at the end, and then it gets `println()`-d (adding a &quot;native&quot; linebreak), it results in 2 or 1 total line breaks printed depending on whether the &quot;original&quot; linebreak matches with the &quot;native&quot; linebreak or not. I think it may happen in actual consoles too.","title":"Java substring of multi-line String up to nth line and character index on that line","body":"<p>If you are okay with getting back the substring with the original line breaks (*), you can loop over the characters, and do a single actual <code>substring()</code> call at the very end only:</p>\n<pre><code>public static void main(String[] args) {\n    String n = &quot;hello\\nworld\\nhow\\nare\\nyou?&quot;;\n    String r = &quot;hello\\rworld\\rhow\\rare\\ryou?&quot;;\n    String rn = &quot;hello\\r\\nworld\\r\\nhow\\r\\nare\\r\\nyou?&quot;;\n    System.out.println(substring(n, 0, 2));\n    System.out.println(substring(r, 0, 2));\n    System.out.println(substring(rn, 0, 2));\n    System.out.println(substring(n, 1, 3));\n    System.out.println(substring(r, 1, 3));\n    System.out.println(substring(rn, 1, 3));\n    System.out.println(substring(n, 3, 0));\n    System.out.println(substring(r, 3, 0));\n    System.out.println(substring(rn, 3, 0));\n}\n\npublic static String substring(String text, int line, int character) {\n    int pos = 0;\n    char sep = 0;\n    while (line &gt; 0) {\n        char c = text.charAt(pos++);\n        if (c == '\\n' || c == '\\r') {\n            if (sep == 0)\n                sep = c;\n            if (c == sep)\n                line--;\n        }\n    }\n    char c = text.charAt(pos);\n    if (c != sep &amp;&amp; (c == '\\n' || c == '\\r'))\n        pos++;\n    return text.substring(0, pos + character);\n}\n</code></pre>\n<p>The assumption is that line breaks are consistent in the string, so encountering the first actual line break character means all the other ones are will look the same, and the other character is either not used, or can be ignored (but still needs a bit of special handling after the loop).</p>\n<p>The code actually works here: <a href=\"https://ideone.com/AWLBuD\" rel=\"nofollow noreferrer\">https://ideone.com/AWLBuD</a>, however (*) applies, as you can see IdeOne succeeds with the conversion most of the time, but in the case when the <code>substring(x, 3, 0)</code> produces a string with an &quot;original&quot; line break at the end, and then it gets <code>println()</code>-d (adding a &quot;native&quot; linebreak), it results in 2 or 1 total line breaks printed depending on whether the &quot;original&quot; linebreak matches with the &quot;native&quot; linebreak or not. I think it may happen in actual consoles too.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699664140,"creation_date":1699664140,"answer_id":77463530,"question_id":77452826,"body_markdown":"&gt; _&quot;... How can one get the character position in a multi-line `String` for the nth line and the character index on that line? &lt;br&gt; i.e. for use in string.substring(0, x). ...&quot;_\r\n\r\nCount the new-line delimiters with a _regular expression pattern_.\r\n\r\nHere is an example.\r\n\r\n```java\r\nString substring(String text, int line, int character) {\r\n    Pattern p = Pattern.compile(&quot;\\\\R&quot;);\r\n    Matcher m = p.matcher(text);\r\n    int o = 0;\r\n    while (line-- &gt; 0 &amp;&amp; m.find()) o = m.end();\r\n    return text.substring(0, o + character);\r\n}\r\n```","title":"Java substring of multi-line String up to nth line and character index on that line","body":"<blockquote>\n<p><em>&quot;... How can one get the character position in a multi-line <code>String</code> for the nth line and the character index on that line? <br> i.e. for use in string.substring(0, x). ...&quot;</em></p>\n</blockquote>\n<p>Count the new-line delimiters with a <em>regular expression pattern</em>.</p>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String substring(String text, int line, int character) {\n    Pattern p = Pattern.compile(&quot;\\\\R&quot;);\n    Matcher m = p.matcher(text);\n    int o = 0;\n    while (line-- &gt; 0 &amp;&amp; m.find()) o = m.end();\n    return text.substring(0, o + character);\n}\n</code></pre>\n"}],"owner":{"account_id":483595,"reputation":7038,"user_id":898763,"accept_rate":71,"display_name":"amaidment"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":5,"score":1,"last_activity_date":1699664140,"creation_date":1699529703,"question_id":77452826,"body_markdown":"In Java, given a multi-line `String` I want to get the substring from the beginning up to the nth line and the character index on that line. (Both line and character indexes are zero-based.)\r\n\r\nFor example, if we were to implement a method like this: \r\n\r\n```\r\n  /**\r\n   * Returns the substring of the given string up to the given character index on the given line index.\r\n   *\r\n   * @param text      input text\r\n   * @param line      line index\r\n   * @param character character index\r\n   * @return substring\r\n   */\r\n  public static String substring(String text, int line, int character);\r\n```\r\n\r\nThen, consider the following multi-line String:\r\n\r\n&gt; hello&lt;br&gt;world&lt;br&gt;how&lt;br&gt;are&lt;br&gt;you?\r\n\r\nFor given inputs, the above method should return\r\n- substring(text, 0, 2);\r\n\r\n&gt; he\r\n\r\n- substring(text, 1, 3);\r\n&gt; hello&lt;br&gt;wor\r\n\r\n- substring(text, 3, 0);\r\n&gt; hello&lt;br&gt;world&lt;br&gt;how&lt;br&gt;&lt;br&gt;\r\n\r\nI&#39;ve considered a couple of approaches:\r\n\r\n 1. Construct the substring, by operating on the `String` up to the nth line:&lt;br&gt;\r\nOne approach is to use [`string.lines()`][1], and build the substring.\r\nSomething like this: &lt;br&gt;\r\nUPDATE: updated with an improved &amp; neater implementation, based upon Eritrean&#39;s [answer][2]:\r\n\r\n```\r\n  public static String buildSubstring(String text, int line, int character) {\r\n    long textLines = text.lines().limit(line + 1).count();\r\n    if (line &gt; textLines) {\r\n      return text;\r\n    } else {\r\n      String[] rows = text.lines().toArray(String[]::new);\r\n      return IntStream.range(0, line + 1)\r\n          .mapToObj(i -&gt; {\r\n            String lineText = rows[i];\r\n            return i == line ? lineText.substring(0, Math.min(character, lineText.length())) : lineText;\r\n          })\r\n          .collect(Collectors.joining(System.lineSeparator()));\r\n    }\r\n  }\r\n```\r\n\r\nHowever, my main concern would be the performance impact of excessive String creation. \r\n\r\n2. Get the substring up to the character index in the original String:\r\n&lt;br&gt;\r\nA more intuitive approach might be to use [`string.substring(0, x)`][3], where x is the character index - in the original multi-line `String` - for the nth line and the position in that line.\r\n&lt;br&gt;\r\nHowever, I don&#39;t have a clear idea as to what might be the best approach of finding that character index in the original String.\r\n&lt;br&gt;\r\nOne approach could be to iteratively use [`string.indexOf(System.lineSeparator(),lineIndex)`][4] to identify the location of the line in the original String, and add the character index on that line. Something like this:\r\n\r\n```\r\n  public static String indexSubstring(String text, int line, int character) {\r\n    String separator = System.lineSeparator();\r\n    int separatorLength = separator.length();\r\n\r\n    int lineIndex = 0;\r\n    if (line &gt; 0) {\r\n      lineIndex = text.indexOf(separator) + separatorLength;\r\n      for (int i = 1; i &lt; line; i++) {\r\n        lineIndex = text.indexOf(separator, lineIndex) + separatorLength;\r\n      }\r\n    }\r\n    return text.substring(0, lineIndex + character);\r\n  }\r\n```\r\n\r\nHowever, this will not handle cases if the line separators in the text are different from the `System.lineSeparator()`; which is the case in my situation - that is, the original text could come from a unix or Windows environment and/or this functionality might be executed on a unix or Windows environment, and they need to be interoperable.\r\n&lt;br&gt;\r\nOf course, one could do a `string.replaceAll(&quot;\\\\r?\\\\n, System.lineSeparator())`, but that&#39;s going to do even more `String` creation than for the first approach using `string.lines()`.\r\n\r\nNote: For the purposes of this question, I&#39;m not dealing with error cases - for example, that either of the line/character indexes are beyond the length of the original `String`, or the character index is beyond the length of the line. Those will be factored in later, once I&#39;ve decided upon the underlying approach; or, for simplicity, we can assume that it will return everything on the line or in the input text.\r\n\r\nQuestions: \r\n 1. How can one get the character position in a multi-line `String` for the nth line and the character index on that line? &lt;br&gt; i.e. for use in string.substring(0, x).\r\n 2. Is there a better approach than either of those I&#39;ve set out above to get the substring?\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#lines()\r\n  [2]: https://stackoverflow.com/a/77453683/898763\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#substring(int,int)\r\n  [4]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#indexOf(java.lang.String,int)","title":"Java substring of multi-line String up to nth line and character index on that line","body":"<p>In Java, given a multi-line <code>String</code> I want to get the substring from the beginning up to the nth line and the character index on that line. (Both line and character indexes are zero-based.)</p>\n<p>For example, if we were to implement a method like this:</p>\n<pre><code>  /**\n   * Returns the substring of the given string up to the given character index on the given line index.\n   *\n   * @param text      input text\n   * @param line      line index\n   * @param character character index\n   * @return substring\n   */\n  public static String substring(String text, int line, int character);\n</code></pre>\n<p>Then, consider the following multi-line String:</p>\n<blockquote>\n<p>hello<br>world<br>how<br>are<br>you?</p>\n</blockquote>\n<p>For given inputs, the above method should return</p>\n<ul>\n<li>substring(text, 0, 2);</li>\n</ul>\n<blockquote>\n<p>he</p>\n</blockquote>\n<ul>\n<li>substring(text, 1, 3);</li>\n</ul>\n<blockquote>\n<p>hello<br>wor</p>\n</blockquote>\n<ul>\n<li>substring(text, 3, 0);</li>\n</ul>\n<blockquote>\n<p>hello<br>world<br>how<br><br></p>\n</blockquote>\n<p>I've considered a couple of approaches:</p>\n<ol>\n<li>Construct the substring, by operating on the <code>String</code> up to the nth line:<br>\nOne approach is to use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#lines()\" rel=\"nofollow noreferrer\"><code>string.lines()</code></a>, and build the substring.\nSomething like this: <br>\nUPDATE: updated with an improved &amp; neater implementation, based upon Eritrean's <a href=\"https://stackoverflow.com/a/77453683/898763\">answer</a>:</li>\n</ol>\n<pre><code>  public static String buildSubstring(String text, int line, int character) {\n    long textLines = text.lines().limit(line + 1).count();\n    if (line &gt; textLines) {\n      return text;\n    } else {\n      String[] rows = text.lines().toArray(String[]::new);\n      return IntStream.range(0, line + 1)\n          .mapToObj(i -&gt; {\n            String lineText = rows[i];\n            return i == line ? lineText.substring(0, Math.min(character, lineText.length())) : lineText;\n          })\n          .collect(Collectors.joining(System.lineSeparator()));\n    }\n  }\n</code></pre>\n<p>However, my main concern would be the performance impact of excessive String creation.</p>\n<ol start=\"2\">\n<li>Get the substring up to the character index in the original String:\n<br>\nA more intuitive approach might be to use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#substring(int,int)\" rel=\"nofollow noreferrer\"><code>string.substring(0, x)</code></a>, where x is the character index - in the original multi-line <code>String</code> - for the nth line and the position in that line.\n<br>\nHowever, I don't have a clear idea as to what might be the best approach of finding that character index in the original String.\n<br>\nOne approach could be to iteratively use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#indexOf(java.lang.String,int)\" rel=\"nofollow noreferrer\"><code>string.indexOf(System.lineSeparator(),lineIndex)</code></a> to identify the location of the line in the original String, and add the character index on that line. Something like this:</li>\n</ol>\n<pre><code>  public static String indexSubstring(String text, int line, int character) {\n    String separator = System.lineSeparator();\n    int separatorLength = separator.length();\n\n    int lineIndex = 0;\n    if (line &gt; 0) {\n      lineIndex = text.indexOf(separator) + separatorLength;\n      for (int i = 1; i &lt; line; i++) {\n        lineIndex = text.indexOf(separator, lineIndex) + separatorLength;\n      }\n    }\n    return text.substring(0, lineIndex + character);\n  }\n</code></pre>\n<p>However, this will not handle cases if the line separators in the text are different from the <code>System.lineSeparator()</code>; which is the case in my situation - that is, the original text could come from a unix or Windows environment and/or this functionality might be executed on a unix or Windows environment, and they need to be interoperable.\n<br>\nOf course, one could do a <code>string.replaceAll(&quot;\\\\r?\\\\n, System.lineSeparator())</code>, but that's going to do even more <code>String</code> creation than for the first approach using <code>string.lines()</code>.</p>\n<p>Note: For the purposes of this question, I'm not dealing with error cases - for example, that either of the line/character indexes are beyond the length of the original <code>String</code>, or the character index is beyond the length of the line. Those will be factored in later, once I've decided upon the underlying approach; or, for simplicity, we can assume that it will return everything on the line or in the input text.</p>\n<p>Questions:</p>\n<ol>\n<li>How can one get the character position in a multi-line <code>String</code> for the nth line and the character index on that line? <br> i.e. for use in string.substring(0, x).</li>\n<li>Is there a better approach than either of those I've set out above to get the substring?</li>\n</ol>\n"},{"tags":["java","selenium-webdriver","xpath","css-selectors"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1699596605,"post_id":77457840,"comment_id":136554546,"body_markdown":"Can you share URL?","body":"Can you share URL?"}],"answers":[{"comments":[{"owner":{"account_id":28168441,"reputation":1,"user_id":21527320,"display_name":"Venkatram Ayyer"},"score":0,"creation_date":1699601710,"post_id":77458089,"comment_id":136555086,"body_markdown":"Hi Pradheep - It is there in the first image in the question","body":"Hi Pradheep - It is there in the first image in the question"}],"tags":[],"owner":{"account_id":15459133,"reputation":1,"user_id":11152232,"display_name":"Pradheep Raaj"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699597935,"creation_date":1699597935,"answer_id":77458089,"question_id":77457840,"body_markdown":"Is this button / link is placed in url which you opens fresh and click it?\r\nIf yes pls check whether all the components are loaded when the page is loaded. May be there is any component which loads as ajax and may be causing a interruption. \r\nAnd pls post the console dom of the button\r\n","title":"Java + Selenium - Unable to Click Dropdown(Not a Select dropdown) and Select a Value from the drop down","body":"<p>Is this button / link is placed in url which you opens fresh and click it?\nIf yes pls check whether all the components are loaded when the page is loaded. May be there is any component which loads as ajax and may be causing a interruption.\nAnd pls post the console dom of the button</p>\n"},{"comments":[{"owner":{"account_id":28168441,"reputation":1,"user_id":21527320,"display_name":"Venkatram Ayyer"},"score":0,"creation_date":1699672696,"post_id":77463465,"comment_id":136564730,"body_markdown":"Thanks for the suggestion that not to initialize weblement before it is displayed.\n\nElement is not visible till i click on the dropdown, so it fails in the step visibilityOfElementLocated .. \n\nBut I have used JScript Executor with Action Class and it works but not consistent...","body":"Thanks for the suggestion that not to initialize weblement before it is displayed.  Element is not visible till i click on the dropdown, so it fails in the step visibilityOfElementLocated ..   But I have used JScript Executor with Action Class and it works but not consistent..."},{"owner":{"account_id":27733412,"reputation":161,"user_id":21171478,"display_name":"qatesterbecomingprogrammer"},"score":0,"creation_date":1699704618,"post_id":77463465,"comment_id":136566617,"body_markdown":"@VenkatramAyyer have you clicked on drop down button?","body":"@VenkatramAyyer have you clicked on drop down button?"},{"owner":{"account_id":28168441,"reputation":1,"user_id":21527320,"display_name":"Venkatram Ayyer"},"score":0,"creation_date":1699719181,"post_id":77463465,"comment_id":136568027,"body_markdown":"qatesterbecomingprogrammer - Sometimes it clicks some time it does not click. That is the thing. If it clicks than it selects the value and it is done","body":"qatesterbecomingprogrammer - Sometimes it clicks some time it does not click. That is the thing. If it clicks than it selects the value and it is done"},{"owner":{"account_id":27733412,"reputation":161,"user_id":21171478,"display_name":"qatesterbecomingprogrammer"},"score":0,"creation_date":1699752047,"post_id":77463465,"comment_id":136570840,"body_markdown":"Then you have to apply two same waits on drop down as well.","body":"Then you have to apply two same waits on drop down as well."},{"owner":{"account_id":28168441,"reputation":1,"user_id":21527320,"display_name":"Venkatram Ayyer"},"score":0,"creation_date":1700046536,"post_id":77463465,"comment_id":136605989,"body_markdown":"Added more wait but same result cannot see the dropdown clicked each time.","body":"Added more wait but same result cannot see the dropdown clicked each time."}],"tags":[],"owner":{"account_id":27733412,"reputation":161,"user_id":21171478,"display_name":"qatesterbecomingprogrammer"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699662414,"creation_date":1699662414,"answer_id":77463465,"question_id":77457840,"body_markdown":"Try to apply waits, two times... One for displaying and the other for clickable.\r\n\r\n\r\n    String valueXpath = &quot;//[@data-value=&#39;Otro&#39;]&quot;\r\n    WebDriverWait wait = new WebDriverWait(driver,30);\r\n    wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(valueXpath)));\r\n    \r\n    wait.until(ExpectedConditions.elementToBeClickable(By.xpath(valueXpath)));\r\n\r\n    WebElement dropDownValueToBeSelected = driver.findElement(By.xpath, valueXpath);\r\n    dropDownValueToBeSelected.click();\r\n\r\n**Remember, don&#39;t initialize webelement, before it gets displayed.**\r\n","title":"Java + Selenium - Unable to Click Dropdown(Not a Select dropdown) and Select a Value from the drop down","body":"<p>Try to apply waits, two times... One for displaying and the other for clickable.</p>\n<pre><code>String valueXpath = &quot;//[@data-value='Otro']&quot;\nWebDriverWait wait = new WebDriverWait(driver,30);\nwait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(valueXpath)));\n\nwait.until(ExpectedConditions.elementToBeClickable(By.xpath(valueXpath)));\n\nWebElement dropDownValueToBeSelected = driver.findElement(By.xpath, valueXpath);\ndropDownValueToBeSelected.click();\n</code></pre>\n<p><strong>Remember, don't initialize webelement, before it gets displayed.</strong></p>\n"}],"owner":{"account_id":28168441,"reputation":1,"user_id":21527320,"display_name":"Venkatram Ayyer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1699662414,"creation_date":1699593499,"question_id":77457840,"body_markdown":"In JAVA Selenium - I am not able to click the dropdown and select a value from it, this is not a select dropdown. This is a saleforce site. I have seen it working 1 in 10 executions but not getting it work consistently.  \r\n  \r\n  \r\n[enter image description here](https://i.stack.imgur.com/lbiUN.png)    \r\nThis is the HTML for the dropdown and it is not getting clicked, the xpath for the dropdown used is \r\n\r\n```\r\n//*[@data-name=&#39;billingRoadType&#39;]//*[name()=&#39;lightning-base-combobox&#39;]//button\r\n```\r\n\r\n  \r\n  \r\n[enter image description here](https://i.stack.imgur.com/yVcUP.png)   \r\nThis is the HTML for the dropdown values. the xpath for the dropdown value used is   \r\n  \r\n//\\*\\[@data-name=&#39;billingRoadType&#39;\\]//\\*\\[@data-value=&#39;Otro&#39;\\]\r\n\r\n  \r\n \r\n\r\nHave tried JavaScript executor, Action class and click sometimes the JSExecutor works but that is like 1 in 10 times.The application is in salesforce. Have tried explicit waits also but not working\r\n\r\nGetting NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//*[@data-name=&#39;billingRoadType&#39;]//*[@data-value=&#39;Otro&#39;]&quot;}","title":"Java + Selenium - Unable to Click Dropdown(Not a Select dropdown) and Select a Value from the drop down","body":"<p>In JAVA Selenium - I am not able to click the dropdown and select a value from it, this is not a select dropdown. This is a saleforce site. I have seen it working 1 in 10 executions but not getting it work consistently.</p>\n<p><a href=\"https://i.stack.imgur.com/lbiUN.png\" rel=\"nofollow noreferrer\">enter image description here</a><br />\nThis is the HTML for the dropdown and it is not getting clicked, the xpath for the dropdown used is</p>\n<pre><code>//*[@data-name='billingRoadType']//*[name()='lightning-base-combobox']//button\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/yVcUP.png\" rel=\"nofollow noreferrer\">enter image description here</a><br />\nThis is the HTML for the dropdown values. the xpath for the dropdown value used is</p>\n<p>//*[@data-name='billingRoadType']//*[@data-value='Otro']</p>\n<p>Have tried JavaScript executor, Action class and click sometimes the JSExecutor works but that is like 1 in 10 times.The application is in salesforce. Have tried explicit waits also but not working</p>\n<p>Getting NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//<em>[@data-name='billingRoadType']//</em>[@data-value='Otro']&quot;}</p>\n"},{"tags":["java","loops","methods","conditional-statements"],"comments":[{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":6,"creation_date":1699541850,"post_id":77454162,"comment_id":136547430,"body_markdown":"Post your code as text in the question, do not post images of it","body":"Post your code as text in the question, do not post images of it"},{"owner":{"account_id":41710,"reputation":38344,"user_id":121309,"accept_rate":100,"display_name":"Hans Keﬆing"},"score":1,"creation_date":1699542227,"post_id":77454162,"comment_id":136547547,"body_markdown":"For that first top-line, temporarily replace the `_` with `=`, just to see what happens ...","body":"For that first top-line, temporarily replace the <code>_</code> with <code>=</code>, just to see what happens ..."},{"owner":{"account_id":9995852,"reputation":6086,"user_id":7393478,"display_name":"Kaddath"},"score":1,"creation_date":1699542872,"post_id":77454162,"comment_id":136547678,"body_markdown":"Your beginning of solution is interesting because you mentally decomposed in rows and noticed this particularity: there is 1 more &quot;boundary&quot; than the number or squares in a grid. You seemed to have traduced this idea with having a separate loop for the top line. First advice: your function &quot;square&quot; should be called &quot;row&quot; to fit to what it currently does. Another advice: the concept of rectangles in programming usually involves 2 nested loops, cubes would involve 3 nested loops, etc","body":"Your beginning of solution is interesting because you mentally decomposed in rows and noticed this particularity: there is 1 more &quot;boundary&quot; than the number or squares in a grid. You seemed to have traduced this idea with having a separate loop for the top line. First advice: your function &quot;square&quot; should be called &quot;row&quot; to fit to what it currently does. Another advice: the concept of rectangles in programming usually involves 2 nested loops, cubes would involve 3 nested loops, etc"},{"owner":{"account_id":41710,"reputation":38344,"user_id":121309,"accept_rate":100,"display_name":"Hans Keﬆing"},"score":0,"creation_date":1699543423,"post_id":77454162,"comment_id":136547790,"body_markdown":"Carefully inspect your output. Your inner side-walls are doubled - think about why that is so?","body":"Carefully inspect your output. Your inner side-walls are doubled - think about why that is so?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1699546334,"post_id":77454162,"comment_id":136548439,"body_markdown":"You should edit the question to show example input and actual output. If reasonable, the assignment should also be in text. See https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors","body":"You should edit the question to show example input and actual output. If reasonable, the assignment should also be in text. See <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors\" title=\"why should i not upload images of code data errors\">meta.stackoverflow.com/questions/285551/&hellip;</a>"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1699548239,"post_id":77454162,"comment_id":136548846,"body_markdown":"&quot;is about using methods&quot; - I can think of two methods: 1) receiving number of columns to print one row; 2) receiving both number of rows and columns to print all rows, using the first method - eventually these methods would also receive the character/string used as borders (a third method could be to print each cell) || BTW the problem can be solved without implementing methods in one line using the `repeat()`...","body":"&quot;is about using methods&quot; - I can think of two methods: 1) receiving number of columns to print one row; 2) receiving both number of rows and columns to print all rows, using the first method - eventually these methods would also receive the character/string used as borders (a third method could be to print each cell) || BTW the problem can be solved without implementing methods in one line using the <code>repeat()</code>..."}],"answers":[{"comments":[{"owner":{"account_id":29811349,"reputation":23,"user_id":22846704,"display_name":"Daniel Mases"},"score":1,"creation_date":1699546130,"post_id":77454484,"comment_id":136548396,"body_markdown":"That was very helpful, I was analysing the logic you used and it was very clear after I understood.  Thank you so much for it.","body":"That was very helpful, I was analysing the logic you used and it was very clear after I understood.  Thank you so much for it."}],"tags":[],"owner":{"account_id":19458299,"reputation":150,"user_id":14233099,"display_name":"der da"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699547134,"creation_date":1699544394,"answer_id":77454484,"question_id":77454162,"body_markdown":"This should do what you want it to. Use `java.util.Scanner` to get the input of the user for the number of rows and the number of columns. Then print the squares with some `for`-loops. If you are concerned about efficiency use `StringBuilder` instead, but I didn&#39;t use it here to keep it simple.\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class Practice {\r\n    public static void main(String[] args) {\r\n        printGrid();\r\n    }\r\n\r\n    public static void printGrid() {\r\n        // get input\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(&quot;Enter rows&quot;);\r\n        int rows = scanner.nextInt();\r\n        System.out.println(&quot;Enter columns&quot;);\r\n        int cols = scanner.nextInt();\r\n        scanner.close()\r\n\r\n        // print top line\r\n        if (rows &gt; 0) {\r\n            System.out.print(&quot; &quot;);  // padding\r\n            for (int i = 0; i &lt; cols; i++) {\r\n                System.out.print(&quot;_ &quot;);\r\n            }\r\n            System.out.println();  // new line\r\n        }\r\n        for (int i = 0; i &lt; rows; i++) {\r\n            // print left line\r\n            System.out.print(&quot;|&quot;);\r\n            for (int j = 0; j &lt; cols; j++) {\r\n                System.out.print(&quot;_|&quot;);\r\n            }\r\n            System.out.println();  // new line\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"How can I make a grid using &quot; | &quot; and &quot; _ &quot; on java?","body":"<p>This should do what you want it to. Use <code>java.util.Scanner</code> to get the input of the user for the number of rows and the number of columns. Then print the squares with some <code>for</code>-loops. If you are concerned about efficiency use <code>StringBuilder</code> instead, but I didn't use it here to keep it simple.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Practice {\n    public static void main(String[] args) {\n        printGrid();\n    }\n\n    public static void printGrid() {\n        // get input\n        Scanner scanner = new Scanner(System.in);\n        System.out.println(&quot;Enter rows&quot;);\n        int rows = scanner.nextInt();\n        System.out.println(&quot;Enter columns&quot;);\n        int cols = scanner.nextInt();\n        scanner.close()\n\n        // print top line\n        if (rows &gt; 0) {\n            System.out.print(&quot; &quot;);  // padding\n            for (int i = 0; i &lt; cols; i++) {\n                System.out.print(&quot;_ &quot;);\n            }\n            System.out.println();  // new line\n        }\n        for (int i = 0; i &lt; rows; i++) {\n            // print left line\n            System.out.print(&quot;|&quot;);\n            for (int j = 0; j &lt; cols; j++) {\n                System.out.print(&quot;_|&quot;);\n            }\n            System.out.println();  // new line\n        }\n    }\n}\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":29811349,"reputation":23,"user_id":22846704,"display_name":"Daniel Mases"},"score":1,"creation_date":1699546893,"post_id":77454582,"comment_id":136548555,"body_markdown":"That is amazing. I did not know about this repeat code, very simple to understand too. But I did not get that &quot;&gt;!&quot; at the end of the code, what is that for?","body":"That is amazing. I did not know about this repeat code, very simple to understand too. But I did not get that &quot;&gt;!&quot; at the end of the code, what is that for?"},{"owner":{"account_id":2714969,"reputation":5858,"user_id":2342558,"accept_rate":67,"display_name":"user2342558"},"score":0,"creation_date":1699547183,"post_id":77454582,"comment_id":136548628,"body_markdown":"@DanielMases glad to help you :) (that &quot;&gt;!&quot; was a copy-paste error, I removed it thanks)","body":"@DanielMases glad to help you :) (that &quot;&gt;!&quot; was a copy-paste error, I removed it thanks)"},{"owner":{"account_id":2714969,"reputation":5858,"user_id":2342558,"accept_rate":67,"display_name":"user2342558"},"score":0,"creation_date":1699547250,"post_id":77454582,"comment_id":136548643,"body_markdown":"@DanielMases and welcome to the amazing world of Java programming ;-)","body":"@DanielMases and welcome to the amazing world of Java programming ;-)"},{"owner":{"account_id":2714969,"reputation":5858,"user_id":2342558,"accept_rate":67,"display_name":"user2342558"},"score":0,"creation_date":1699549100,"post_id":77454582,"comment_id":136549031,"body_markdown":"@DanielMases see my edit, I added a method","body":"@DanielMases see my edit, I added a method"},{"owner":{"account_id":29811349,"reputation":23,"user_id":22846704,"display_name":"Daniel Mases"},"score":0,"creation_date":1699555685,"post_id":77454582,"comment_id":136550259,"body_markdown":"Thank you so much for it. It has been difficult so far, but I&#39;m committed to get better at this. Really appreciate your help :)","body":"Thank you so much for it. It has been difficult so far, but I&#39;m committed to get better at this. Really appreciate your help :)"}],"tags":[],"owner":{"account_id":2714969,"reputation":5858,"user_id":2342558,"accept_rate":67,"display_name":"user2342558"},"comment_count":5,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1699562122,"creation_date":1699545178,"answer_id":77454582,"question_id":77454162,"body_markdown":"I put some spoiler so first you can try to solve it on your own.\r\n\r\nIf you carefully observe this, how many rows do you see?\r\n\r\n     _ _ \r\n    |_|_|\r\n    |_|_|\r\n\r\n&gt;! 3 rows, always one more due to the &#39;header&#39; one: ` _ _ `\r\n\r\nHow many of those follow the same pattern?\r\n\r\n&gt;! all but not the first one\r\n\r\nYou can achieve that with this code:\r\n\r\n&gt;!&lt;code&gt;public static void main(String[] args) {&lt;/code&gt;&lt;br&gt;\r\n&gt;!&lt;code&gt;    generateSquare(2, 2);&lt;/code&gt;&lt;br&gt;\r\n&gt;!&lt;code&gt;}&lt;/code&gt;&lt;br&gt;&lt;br&gt;\r\n&gt;!&lt;code&gt;private static void generateSquare(int qtyRows, int qtyCols) {&lt;/code&gt;&lt;br&gt;\r\n&gt;!&lt;code&gt;    System.out.println(&quot; _&quot;.repeat(qtyCols));&lt;/code&gt;&lt;br&gt;\r\n&gt;!&lt;code&gt;    &lt;/code&gt;&lt;br&gt;\r\n&gt;!&lt;code&gt;    for(int x = 0; x &lt; qtyRows; x++) {  &lt;/code&gt;&lt;br&gt;\r\n&gt;!&lt;code&gt;      System.out.println(&quot;|&quot; + &quot;_|&quot;.repeat(qtyCols));&lt;/code&gt;&lt;br&gt;\r\n&gt;!&lt;code&gt;    }&lt;/code&gt;&lt;br&gt;\r\n&gt;!&lt;code&gt;}&lt;/code&gt;&lt;br&gt;\r\n\r\nNote the use of the repeat method on a String object, that let you repeat that string without the need of a loop.","title":"How can I make a grid using &quot; | &quot; and &quot; _ &quot; on java?","body":"<p>I put some spoiler so first you can try to solve it on your own.</p>\n<p>If you carefully observe this, how many rows do you see?</p>\n<pre><code> _ _ \n|_|_|\n|_|_|\n</code></pre>\n<blockquote class=\"spoiler\">\n<p> 3 rows, always one more due to the 'header' one: <code>_ _</code></p>\n</blockquote>\n<p>How many of those follow the same pattern?</p>\n<blockquote class=\"spoiler\">\n<p> all but not the first one</p>\n</blockquote>\n<p>You can achieve that with this code:</p>\n<blockquote class=\"spoiler\">\n<p><code>public static void main(String[] args) {</code><br>\n<code>    generateSquare(2, 2);</code><br>\n<code>}</code><br><br>\n<code>private static void generateSquare(int qtyRows, int qtyCols) {</code><br>\n<code>    System.out.println(&quot; <em>&quot;.repeat(qtyCols));</code><br>\n<code>    </code><br>\n<code>    for(int x = 0; x &lt; qtyRows; x++) {  </code><br>\n<code>      System.out.println(&quot;|&quot; + &quot;</em>|&quot;.repeat(qtyCols));</code><br>\n<code>    }</code><br>\n<code>}</code><br></p>\n</blockquote>\n<p>Note the use of the repeat method on a String object, that let you repeat that string without the need of a loop.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699662210,"creation_date":1699662210,"answer_id":77463457,"question_id":77454162,"body_markdown":"Here is an example using the _[StringBuilder](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/StringBuilder.html)_, and _[Formatter](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Formatter.html)_, classes.\r\n\r\n```java\r\nvoid draw(int r, int c) {\r\n    StringBuilder s = new StringBuilder();\r\n    Formatter f = new Formatter(s);\r\n    f.format(&quot;%s%n&quot;, &quot; _&quot;.repeat(c));\r\n    for (int i = 0, j; i &lt; r; i++) {\r\n        for (j = 0; j &lt; c; j++) f.format(&quot;|_&quot;);\r\n        f.format(&quot;|%n&quot;);\r\n    }\r\n    f.flush();\r\n    System.out.println(s);\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n _ _\r\n|_|_|\r\n|_|_|\r\n```\r\n\r\n```none\r\n _ _ _ _ _ _ _ _ _ _ _ _\r\n|_|_|_|_|_|_|_|_|_|_|_|_|\r\n|_|_|_|_|_|_|_|_|_|_|_|_|\r\n|_|_|_|_|_|_|_|_|_|_|_|_|\r\n|_|_|_|_|_|_|_|_|_|_|_|_|\r\n|_|_|_|_|_|_|_|_|_|_|_|_|\r\n|_|_|_|_|_|_|_|_|_|_|_|_|\r\n|_|_|_|_|_|_|_|_|_|_|_|_|\r\n|_|_|_|_|_|_|_|_|_|_|_|_|\r\n|_|_|_|_|_|_|_|_|_|_|_|_|\r\n|_|_|_|_|_|_|_|_|_|_|_|_|\r\n```","title":"How can I make a grid using &quot; | &quot; and &quot; _ &quot; on java?","body":"<p>Here is an example using the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/StringBuilder.html\" rel=\"nofollow noreferrer\">StringBuilder</a></em>, and <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Formatter.html\" rel=\"nofollow noreferrer\">Formatter</a></em>, classes.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void draw(int r, int c) {\n    StringBuilder s = new StringBuilder();\n    Formatter f = new Formatter(s);\n    f.format(&quot;%s%n&quot;, &quot; _&quot;.repeat(c));\n    for (int i = 0, j; i &lt; r; i++) {\n        for (j = 0; j &lt; c; j++) f.format(&quot;|_&quot;);\n        f.format(&quot;|%n&quot;);\n    }\n    f.flush();\n    System.out.println(s);\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code> _ _\n|_|_|\n|_|_|\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code> _ _ _ _ _ _ _ _ _ _ _ _\n|_|_|_|_|_|_|_|_|_|_|_|_|\n|_|_|_|_|_|_|_|_|_|_|_|_|\n|_|_|_|_|_|_|_|_|_|_|_|_|\n|_|_|_|_|_|_|_|_|_|_|_|_|\n|_|_|_|_|_|_|_|_|_|_|_|_|\n|_|_|_|_|_|_|_|_|_|_|_|_|\n|_|_|_|_|_|_|_|_|_|_|_|_|\n|_|_|_|_|_|_|_|_|_|_|_|_|\n|_|_|_|_|_|_|_|_|_|_|_|_|\n|_|_|_|_|_|_|_|_|_|_|_|_|\n</code></pre>\n"}],"owner":{"account_id":29811349,"reputation":23,"user_id":22846704,"display_name":"Daniel Mases"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":77454484,"answer_count":3,"score":0,"last_activity_date":1699662210,"creation_date":1699541748,"question_id":77454162,"body_markdown":"I&#39;m a beginner at Java, and my programming teacher gave us an assignment that we need to make a grid of little squares using &quot;|&quot; and &quot;_&quot;.\r\n[Assignment](https://i.stack.imgur.com/wC7zX.png)\r\n\r\nI know this might look stupid, but it was the best that I could do. I managed to make the columns, but now I don&#39;t know how to make the rows.\r\n```java\r\npackage practice;\r\n\r\npublic class practice {\r\n\t\r\n\tpublic static void main (String[] args) {\r\n\t\r\n\tsquares(4);\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\tpublic static void squares(int number) {\r\n\t\tfor (int i=0; i&lt;number; i++) {\r\n\t\tSystem.out.print(&quot; _&quot;);\r\n\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\r\n\t\tfor (int i=0; i&lt;number; i++) {\r\n\t\tSystem.out.print(&quot;|_&quot;);\r\n\t\t}\r\n\t\t\tSystem.out.print(&quot;|&quot;);\r\n\t\t\tSystem.out.println();\r\n\t\r\n\t}\r\n\t\r\n}\r\n```\r\nUntil now I have learned how to use conditionals and loops, and this assignment is about using methods.","title":"How can I make a grid using &quot; | &quot; and &quot; _ &quot; on java?","body":"<p>I'm a beginner at Java, and my programming teacher gave us an assignment that we need to make a grid of little squares using &quot;|&quot; and &quot;_&quot;.\n<a href=\"https://i.stack.imgur.com/wC7zX.png\" rel=\"nofollow noreferrer\">Assignment</a></p>\n<p>I know this might look stupid, but it was the best that I could do. I managed to make the columns, but now I don't know how to make the rows.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package practice;\n\npublic class practice {\n    \n    public static void main (String[] args) {\n    \n    squares(4);\n        \n    }\n    \n    \n    public static void squares(int number) {\n        for (int i=0; i&lt;number; i++) {\n        System.out.print(&quot; _&quot;);\n        }\n            System.out.println();\n    \n        for (int i=0; i&lt;number; i++) {\n        System.out.print(&quot;|_&quot;);\n        }\n            System.out.print(&quot;|&quot;);\n            System.out.println();\n    \n    }\n    \n}\n</code></pre>\n<p>Until now I have learned how to use conditionals and loops, and this assignment is about using methods.</p>\n"},{"tags":["java","javafx","maven-2","ivy","maven-central"],"answers":[{"tags":[],"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1699661667,"creation_date":1699660351,"answer_id":77463376,"question_id":77463354,"body_markdown":"1. First obtain the `javafx.platform` value of the native components from the [POM](https://repo1.maven.org/maven2/org/openjfx/javafx/20.0.1/javafx-20.0.1.pom).\r\n2. Ensure the `ivy.xml` is configured to use the correct `xmlns:m`.\r\n3. Add `m:classifier=&quot;linux&quot;` (or `linux-aarch64`, `mac-aarch64`, etc).\r\n4. Native platform jars should show in `.ivy2/cache`\r\n\r\n\r\n`ivy.xml`\r\n```xml\r\n&lt;ivy-module version=&quot;2.0&quot; xmlns:m=&quot;https://ant.apache.org/ivy/maven&quot;&gt;\r\n    &lt;info organisation=&quot;org.my&quot; module=&quot;my-proj&quot;/&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency org=&quot;org.openjfx&quot; name=&quot;javafx-graphics&quot; rev=&quot;21.0.1&quot; /&gt;\r\n        &lt;dependency org=&quot;org.openjfx&quot; name=&quot;javafx-graphics&quot; rev=&quot;21.0.1&quot; m:classifier=&quot;linux&quot;/&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/ivy-module&gt;\r\n```\r\n\r\n```bash\r\nls ~/.ivy2/cache/org.openjfx/javafx-graphics/jars\r\n# javafx-graphics-21.0.1.jar\r\n# javafx-graphics-21.0.1-linux.jar\r\n```\r\n","title":"Download JavaFX dependency using Ivy","body":"<ol>\n<li>First obtain the <code>javafx.platform</code> value of the native components from the <a href=\"https://repo1.maven.org/maven2/org/openjfx/javafx/20.0.1/javafx-20.0.1.pom\" rel=\"nofollow noreferrer\">POM</a>.</li>\n<li>Ensure the <code>ivy.xml</code> is configured to use the correct <code>xmlns:m</code>.</li>\n<li>Add <code>m:classifier=&quot;linux&quot;</code> (or <code>linux-aarch64</code>, <code>mac-aarch64</code>, etc).</li>\n<li>Native platform jars should show in <code>.ivy2/cache</code></li>\n</ol>\n<p><code>ivy.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;ivy-module version=&quot;2.0&quot; xmlns:m=&quot;https://ant.apache.org/ivy/maven&quot;&gt;\n    &lt;info organisation=&quot;org.my&quot; module=&quot;my-proj&quot;/&gt;\n    &lt;dependencies&gt;\n        &lt;dependency org=&quot;org.openjfx&quot; name=&quot;javafx-graphics&quot; rev=&quot;21.0.1&quot; /&gt;\n        &lt;dependency org=&quot;org.openjfx&quot; name=&quot;javafx-graphics&quot; rev=&quot;21.0.1&quot; m:classifier=&quot;linux&quot;/&gt;\n    &lt;/dependencies&gt;\n&lt;/ivy-module&gt;\n</code></pre>\n<pre class=\"lang-bash prettyprint-override\"><code>ls ~/.ivy2/cache/org.openjfx/javafx-graphics/jars\n# javafx-graphics-21.0.1.jar\n# javafx-graphics-21.0.1-linux.jar\n</code></pre>\n"}],"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":77463376,"answer_count":1,"score":5,"last_activity_date":1699661667,"creation_date":1699659722,"question_id":77463354,"body_markdown":"I&#39;m looking to fetch JavaFX from Maven Central using Ivy.\r\n\r\nThis works to get the Java dependencies, but not the native dependencies.\r\n\r\nExpected:\r\n\r\n* `javafx-graphics-21.0.1.jar`\r\n* `javafx-graphics-21.0.1-linux.jar`\r\n\r\nActual:\r\n* `javafx-graphics-21.0.1.jar`\r\n* **MISSING** `javafx-graphics-21.0.1-linux.jar`\r\n\r\nHow do I also obtain the native components?\r\n\r\n`ivy.xml`\r\n```xml\r\n&lt;ivy-module version=&quot;2.0&quot; xmlns:m=&quot;https://ant.apache.org/ivy/maven&quot;&gt;\r\n    &lt;info organisation=&quot;org.my&quot; module=&quot;my-proj&quot;/&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency org=&quot;org.openjfx&quot; name=&quot;javafx-graphics&quot; rev=&quot;21.0.1&quot; /&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/ivy-module&gt;\r\n```\r\n\r\n```bash\r\nivy &amp;&amp; ls ~/.ivy2/cache/org.openjfx/javafx-graphics/jars\r\n# javafx-graphics-21.0.1.jar\r\n```\r\n\r\nHere&#39;s the POM: https://repo1.maven.org/maven2/org/openjfx/javafx/20.0.1/javafx-20.0.1.pom\r\n\r\nRelated: https://stackoverflow.com/questions/55615864\r\n\r\nI&#39;m adding the `maven-2` tag because [Ivy uses the Maven 2 repositories](https://ant.apache.org/ivy/history/master/tutorial/start.html):\r\n\r\n&gt; With no specific settings, Ivy uses the Maven 2 repository to resolve the dependencies you declare in an Ivy file.","title":"Download JavaFX dependency using Ivy","body":"<p>I'm looking to fetch JavaFX from Maven Central using Ivy.</p>\n<p>This works to get the Java dependencies, but not the native dependencies.</p>\n<p>Expected:</p>\n<ul>\n<li><code>javafx-graphics-21.0.1.jar</code></li>\n<li><code>javafx-graphics-21.0.1-linux.jar</code></li>\n</ul>\n<p>Actual:</p>\n<ul>\n<li><code>javafx-graphics-21.0.1.jar</code></li>\n<li><strong>MISSING</strong> <code>javafx-graphics-21.0.1-linux.jar</code></li>\n</ul>\n<p>How do I also obtain the native components?</p>\n<p><code>ivy.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;ivy-module version=&quot;2.0&quot; xmlns:m=&quot;https://ant.apache.org/ivy/maven&quot;&gt;\n    &lt;info organisation=&quot;org.my&quot; module=&quot;my-proj&quot;/&gt;\n    &lt;dependencies&gt;\n        &lt;dependency org=&quot;org.openjfx&quot; name=&quot;javafx-graphics&quot; rev=&quot;21.0.1&quot; /&gt;\n    &lt;/dependencies&gt;\n&lt;/ivy-module&gt;\n</code></pre>\n<pre class=\"lang-bash prettyprint-override\"><code>ivy &amp;&amp; ls ~/.ivy2/cache/org.openjfx/javafx-graphics/jars\n# javafx-graphics-21.0.1.jar\n</code></pre>\n<p>Here's the POM: <a href=\"https://repo1.maven.org/maven2/org/openjfx/javafx/20.0.1/javafx-20.0.1.pom\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/org/openjfx/javafx/20.0.1/javafx-20.0.1.pom</a></p>\n<p>Related: <a href=\"https://stackoverflow.com/questions/55615864\">How to make maven request the correct javafx dependancies on linux</a></p>\n<p>I'm adding the <code>maven-2</code> tag because <a href=\"https://ant.apache.org/ivy/history/master/tutorial/start.html\" rel=\"nofollow noreferrer\">Ivy uses the Maven 2 repositories</a>:</p>\n<blockquote>\n<p>With no specific settings, Ivy uses the Maven 2 repository to resolve the dependencies you declare in an Ivy file.</p>\n</blockquote>\n"},{"tags":["java","icalendar","ical4j"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699625957,"post_id":77459202,"comment_id":136559153,"body_markdown":"`LocalDateTime` does not have time zone information; what happens if you use a `OffsetDateTime` or `ZonedDateTime` with UTC as time zone? (I do not know `VEvent`, so just guessing)","body":"<code>LocalDateTime</code> does not have time zone information; what happens if you use a <code>OffsetDateTime</code> or <code>ZonedDateTime</code> with UTC as time zone? (I do not know <code>VEvent</code>, so just guessing)"},{"owner":{"account_id":17578660,"reputation":89,"user_id":12752873,"display_name":"Sivaranjani Duraisamy"},"score":0,"creation_date":1699627485,"post_id":77459202,"comment_id":136559419,"body_markdown":"It still does not append the Z","body":"It still does not append the Z"}],"answers":[{"tags":[],"owner":{"account_id":54555,"reputation":711,"user_id":163223,"display_name":"fortuna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699660740,"creation_date":1699660740,"answer_id":77463391,"question_id":77459202,"body_markdown":"Here are some examples from the ical4j unit tests:\r\n\r\n            date                                                | expectedString\r\n        LocalDate.of(2023, 11, 10)                          | &#39;DTSTART;VALUE=DATE:20231110\\r\\n&#39;\r\n        LocalDateTime.of(2023, 11, 10, 1, 1, 1)             | &#39;DTSTART:20231110T010101\\r\\n&#39;\r\n        LocalDateTime.of(2023, 11, 10, 1, 1, 1)\r\n                .atZone(ZoneId.of(&#39;Australia/Melbourne&#39;))   | &#39;DTSTART;TZID=Australia/Melbourne:20231110T010101\\r\\n&#39;\r\n        LocalDateTime.of(2023, 11, 10, 1, 1, 1)\r\n                .toInstant(ZoneOffset.UTC)                  | &#39;DTSTART:20231110T010101Z\\r\\n&#39;\r\n\r\nCurrently a `LocalDateTime` is interpreted as floating time in ical4j, so you need to use `Instant` to represent UTC.\r\n\r\nhttps://github.com/ical4j/ical4j/blob/674cc6860871f9fe6157a152ad2a4436824ada04/src/test/groovy/net/fortuna/ical4j/model/property/DtStartTestSpec.groovy#L58\r\n","title":"Creating the ical file not appending Z for UTC","body":"<p>Here are some examples from the ical4j unit tests:</p>\n<pre><code>        date                                                | expectedString\n    LocalDate.of(2023, 11, 10)                          | 'DTSTART;VALUE=DATE:20231110\\r\\n'\n    LocalDateTime.of(2023, 11, 10, 1, 1, 1)             | 'DTSTART:20231110T010101\\r\\n'\n    LocalDateTime.of(2023, 11, 10, 1, 1, 1)\n            .atZone(ZoneId.of('Australia/Melbourne'))   | 'DTSTART;TZID=Australia/Melbourne:20231110T010101\\r\\n'\n    LocalDateTime.of(2023, 11, 10, 1, 1, 1)\n            .toInstant(ZoneOffset.UTC)                  | 'DTSTART:20231110T010101Z\\r\\n'\n</code></pre>\n<p>Currently a <code>LocalDateTime</code> is interpreted as floating time in ical4j, so you need to use <code>Instant</code> to represent UTC.</p>\n<p><a href=\"https://github.com/ical4j/ical4j/blob/674cc6860871f9fe6157a152ad2a4436824ada04/src/test/groovy/net/fortuna/ical4j/model/property/DtStartTestSpec.groovy#L58\" rel=\"nofollow noreferrer\">https://github.com/ical4j/ical4j/blob/674cc6860871f9fe6157a152ad2a4436824ada04/src/test/groovy/net/fortuna/ical4j/model/property/DtStartTestSpec.groovy#L58</a></p>\n"}],"owner":{"account_id":17578660,"reputation":89,"user_id":12752873,"display_name":"Sivaranjani Duraisamy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699660740,"creation_date":1699611317,"question_id":77459202,"body_markdown":"I have the following code, which is generating the ics file successfully. But I wanted the DTSTART to append with Z at the end as it is UTC, but that is not happening. \r\n\r\n\r\n      public class IcalGenerator {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            /* Create the event */\r\n            String eventSummary = &quot;New Year&quot;;\r\n            LocalDateTime start = LocalDateTime.now(ZoneId.of(&quot;UTC&quot;));\r\n            VEvent event = new VEvent(start, Duration.of(30, ChronoUnit.MINUTES), eventSummary);\r\n            event.add(new Clazz(Clazz.VALUE_PUBLIC));\r\n            event.add(new Description(&quot;New meeting&quot;));\r\n    \r\n            /* Create calendar */\r\n            Calendar icsCalendar = new Calendar();\r\n            var version = new Version();\r\n            version.setValue(Version.VALUE_2_0);\r\n            icsCalendar.add(version);\r\n    \r\n            // Set the location\r\n            Location location = new Location(&quot;Conference Room&quot;);\r\n    \r\n            // Add the Location to the event\r\n            event.add(location);\r\n    \r\n            /* Add event to calendar */\r\n            icsCalendar.add(event);\r\n    \r\n            /* Create a file */\r\n            String filePath = &quot;my_meeting.ics&quot;;\r\n            FileOutputStream out = null;\r\n            try {\r\n    \r\n                out = new FileOutputStream(filePath);\r\n                CalendarOutputter outputter = new CalendarOutputter();\r\n                outputter.output(icsCalendar, out);\r\n    \r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            } catch (ValidationException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                if (out != null) {\r\n                    try {\r\n                        out.close();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n\r\nCan you help me what I am missing? I wanted finally **DTSTART:20231110T164148Z** instead of **DTSTART:20231110T164148**\r\n\r\nWhen I append manually Z then it works good.\r\n\r\n","title":"Creating the ical file not appending Z for UTC","body":"<p>I have the following code, which is generating the ics file successfully. But I wanted the DTSTART to append with Z at the end as it is UTC, but that is not happening.</p>\n<pre><code>  public class IcalGenerator {\n\n    public static void main(String[] args) {\n\n        /* Create the event */\n        String eventSummary = &quot;New Year&quot;;\n        LocalDateTime start = LocalDateTime.now(ZoneId.of(&quot;UTC&quot;));\n        VEvent event = new VEvent(start, Duration.of(30, ChronoUnit.MINUTES), eventSummary);\n        event.add(new Clazz(Clazz.VALUE_PUBLIC));\n        event.add(new Description(&quot;New meeting&quot;));\n\n        /* Create calendar */\n        Calendar icsCalendar = new Calendar();\n        var version = new Version();\n        version.setValue(Version.VALUE_2_0);\n        icsCalendar.add(version);\n\n        // Set the location\n        Location location = new Location(&quot;Conference Room&quot;);\n\n        // Add the Location to the event\n        event.add(location);\n\n        /* Add event to calendar */\n        icsCalendar.add(event);\n\n        /* Create a file */\n        String filePath = &quot;my_meeting.ics&quot;;\n        FileOutputStream out = null;\n        try {\n\n            out = new FileOutputStream(filePath);\n            CalendarOutputter outputter = new CalendarOutputter();\n            outputter.output(icsCalendar, out);\n\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (ValidationException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            if (out != null) {\n                try {\n                    out.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n\n    }\n}\n</code></pre>\n<p>Can you help me what I am missing? I wanted finally <strong>DTSTART:20231110T164148Z</strong> instead of <strong>DTSTART:20231110T164148</strong></p>\n<p>When I append manually Z then it works good.</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":1,"creation_date":1699660136,"post_id":77463352,"comment_id":136563960,"body_markdown":"https://pypi.org/project/groovy-parser/","body":"<a href=\"https://pypi.org/project/groovy-parser/\" rel=\"nofollow noreferrer\">pypi.org/project/groovy-parser</a>"},{"owner":{"account_id":248321,"reputation":62658,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":1,"creation_date":1699660756,"post_id":77463352,"comment_id":136564015,"body_markdown":"Does this answer your question? [Parse build.gradle programmatically](https://stackoverflow.com/questions/57527328/parse-build-gradle-programmatically)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/57527328/parse-build-gradle-programmatically\">Parse build.gradle programmatically</a>"},{"owner":{"account_id":23865731,"reputation":1,"user_id":17868087,"display_name":"Hofi"},"score":0,"creation_date":1699664775,"post_id":77463352,"comment_id":136564301,"body_markdown":"@KarlKnechtel I tried this one, but it is only for parsing — I don&#39;t think it allows you to edit the gradle.build file","body":"@KarlKnechtel I tried this one, but it is only for parsing — I don&#39;t think it allows you to edit the gradle.build file"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1699667381,"post_id":77463352,"comment_id":136564473,"body_markdown":"You have to write the update logic.","body":"You have to write the update logic."}],"owner":{"account_id":23865731,"reputation":1,"user_id":17868087,"display_name":"Hofi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1699660736,"creation_date":1699659667,"question_id":77463352,"body_markdown":"I&#39;m currently looking for an approach which allows me to **parse** and **edit** a **build.gradle** file of existing projects. I want to have an automated way to add certain dependencies, parts of the buildscript or the whole buildscript, add something to subprojects part of the file, and so on.\r\n\r\nI tried to use the CodeVisitorSupport library, but I think it doesn&#39;t allow me to edit the build.gradle file, but only to parse and execute it.\r\nThe commandLine API only allows it to execute tasks, but I found nothing regarding to possibility to alter the built.gradle file.\r\n\r\nI wrote a python script, which is a little unstable, which allows me to do the job, but I would like to have a better automated way to parse, edit and save the build.gradle file. ","title":"How to parse and edit build.gradle files?","body":"<p>I'm currently looking for an approach which allows me to <strong>parse</strong> and <strong>edit</strong> a <strong>build.gradle</strong> file of existing projects. I want to have an automated way to add certain dependencies, parts of the buildscript or the whole buildscript, add something to subprojects part of the file, and so on.</p>\n<p>I tried to use the CodeVisitorSupport library, but I think it doesn't allow me to edit the build.gradle file, but only to parse and execute it.\nThe commandLine API only allows it to execute tasks, but I found nothing regarding to possibility to alter the built.gradle file.</p>\n<p>I wrote a python script, which is a little unstable, which allows me to do the job, but I would like to have a better automated way to parse, edit and save the build.gradle file.</p>\n"},{"tags":["java","mysql","bcrypt"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1699664720,"post_id":77463371,"comment_id":136564298,"body_markdown":"That code doesn&#39;t compile.","body":"That code doesn&#39;t compile."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1699664846,"post_id":77463371,"comment_id":136564307,"body_markdown":"It is not clear where you are stuck. You seem to have a crypt library that you&#39;re using (`if (BCrypt.checkpw()){`) but you also seem to use a password in your where clause. What exactly is your question?","body":"It is not clear where you are stuck. You seem to have a crypt library that you&#39;re using (<code>if (BCrypt.checkpw()){</code>) but you also seem to use a password in your where clause. What exactly is your question?"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1699687776,"post_id":77463371,"comment_id":136565429,"body_markdown":"A password hash must be compared to another password hash (using the same salt) for equality. Also, I believe the `BCrypt.checkpw()` method requires parameters.","body":"A password hash must be compared to another password hash (using the same salt) for equality. Also, I believe the <code>BCrypt.checkpw()</code> method requires parameters."}],"owner":{"account_id":29875770,"reputation":1,"user_id":22896006,"display_name":"julio cesar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699660540,"creation_date":1699660243,"question_id":77463371,"body_markdown":"I have a login program which takes the information from one db and passes it to the other home section, I want to save an encrypted password (bcript) in the db and in the login it says, for example:\r\ndb: `$2a$12$MzhYAeNkuDd/8GaYKPyI5uqe/ANa5sVD3.AdP5TgaFX6MbLTNEkia`\r\nlogin: `con123`\r\nand allow me to enter.\r\n\r\n\r\nWhat should I add to it to do all that?\r\n\r\ncode: \r\n```\r\npublic class CLogin {\r\n\t\r\n\tprivate String password =&quot;con123&quot;;\r\n\r\n\tpublic void validateUser(JTextField user, JPasswordField password){\r\n\t\ttry {\r\n\t\t\tResultSet rs=null;\r\n\t\t\tPreparedStatement ps= null;\r\n\t\t\t\r\n\t\t\tClasses.CConexionConnectionObject = new Classes.CConexion();\r\n\t\t\t\r\n\t\t\tString query=&quot;select * from user where user.UserLogin =(?) and user.PasswordLogin=(?);&quot;;\r\n\t\t\tps=connectionObject.setConnection().prepareStatement(query);\r\n\t\t\t\r\n\t\t\tString pass\r\n\t\t\tString contra = String.valueOf(password.getPassword());\r\n\t\t\t\r\n\t\t\tps.setString(1, user.getText());\r\n\t\t\tps.setString(2,con);\r\n\t\t\t\r\n\t\t\trs = ps.executeQuery();\r\n\t\t\t\r\n\t\t\tif (rs.next()) {\r\n\t\t\t\t\r\n\t\t\t\tJOptionPane.showMessageDialog(null,&quot;User is Correct&quot;);\r\n\t\t\t\tFromMenuMenu object = new FromMenu();\r\n\t\t\t\tobjectMenu.setVisible(true);\r\n\t\t\t\tif (BCrypt.checkpw()){\r\n\t\t\t\t\t\r\n\t\t\t\t}else{\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tJOptionPane.showMessageDialog(null,&quot;User is INCORRECT, TRY AGAIN&quot;);\r\n\t\t\t}\r\n\t\t\t\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\tJOptionPane.showMessageDialog(null,&quot;ERROR: &quot;+e.toString());\r\n\t\t}\r\n\t}\r\n\t\r\n}\r\n```\r\nI&#39;m looking for information on the internet but I can&#39;t find anything consistent, or I don&#39;t know how to search.","title":"How to check a bcrypt password in java without framework","body":"<p>I have a login program which takes the information from one db and passes it to the other home section, I want to save an encrypted password (bcript) in the db and in the login it says, for example:\ndb: <code>$2a$12$MzhYAeNkuDd/8GaYKPyI5uqe/ANa5sVD3.AdP5TgaFX6MbLTNEkia</code>\nlogin: <code>con123</code>\nand allow me to enter.</p>\n<p>What should I add to it to do all that?</p>\n<p>code:</p>\n<pre><code>public class CLogin {\n    \n    private String password =&quot;con123&quot;;\n\n    public void validateUser(JTextField user, JPasswordField password){\n        try {\n            ResultSet rs=null;\n            PreparedStatement ps= null;\n            \n            Classes.CConexionConnectionObject = new Classes.CConexion();\n            \n            String query=&quot;select * from user where user.UserLogin =(?) and user.PasswordLogin=(?);&quot;;\n            ps=connectionObject.setConnection().prepareStatement(query);\n            \n            String pass\n            String contra = String.valueOf(password.getPassword());\n            \n            ps.setString(1, user.getText());\n            ps.setString(2,con);\n            \n            rs = ps.executeQuery();\n            \n            if (rs.next()) {\n                \n                JOptionPane.showMessageDialog(null,&quot;User is Correct&quot;);\n                FromMenuMenu object = new FromMenu();\n                objectMenu.setVisible(true);\n                if (BCrypt.checkpw()){\n                    \n                }else{\n                    \n                }\n            }\n            else\n            {\n                JOptionPane.showMessageDialog(null,&quot;User is INCORRECT, TRY AGAIN&quot;);\n            }\n            \n\n        } catch (Exception e) {\n            JOptionPane.showMessageDialog(null,&quot;ERROR: &quot;+e.toString());\n        }\n    }\n    \n}\n</code></pre>\n<p>I'm looking for information on the internet but I can't find anything consistent, or I don't know how to search.</p>\n"},{"tags":["java","performance","intellij-idea"],"comments":[{"owner":{"account_id":9629069,"reputation":589,"user_id":7147702,"accept_rate":75,"display_name":"aphrid"},"score":4,"creation_date":1505797026,"post_id":46292095,"comment_id":79546746,"body_markdown":"Are you setting any breakpoints on method signatures themselves instead of method bodies? That dramatically slows things down.","body":"Are you setting any breakpoints on method signatures themselves instead of method bodies? That dramatically slows things down."},{"owner":{"account_id":3977767,"reputation":22190,"user_id":3280538,"accept_rate":74,"display_name":"flakes"},"score":0,"creation_date":1505797118,"post_id":46292095,"comment_id":79546771,"body_markdown":"Also tell intellij to clear all your existing breakpoints in case they exist in long forgotten code.","body":"Also tell intellij to clear all your existing breakpoints in case they exist in long forgotten code."},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1505818329,"post_id":46292095,"comment_id":79559156,"body_markdown":"See https://intellij-support.jetbrains.com/hc/articles/206544799.","body":"See <a href=\"https://intellij-support.jetbrains.com/hc/articles/206544799\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/articles/206544799</a>."},{"owner":{"account_id":6813724,"reputation":473,"user_id":5243096,"accept_rate":25,"display_name":"swathi"},"score":1,"creation_date":1505865765,"post_id":46292095,"comment_id":79584510,"body_markdown":"I tried all the options which you mentioned but still it is very slow.","body":"I tried all the options which you mentioned but still it is very slow."},{"owner":{"account_id":3078593,"reputation":3418,"user_id":2607372,"accept_rate":87,"display_name":"vikramvi"},"score":0,"creation_date":1664520799,"post_id":46292095,"comment_id":130494913,"body_markdown":"Issue still exists with 2022.1.3 version","body":"Issue still exists with 2022.1.3 version"}],"answers":[{"comments":[{"owner":{"account_id":6813724,"reputation":473,"user_id":5243096,"accept_rate":25,"display_name":"swathi"},"score":2,"creation_date":1505865816,"post_id":46292330,"comment_id":79584525,"body_markdown":"I cleared all the breakpoints and set a break point for a line which is inside the method but still it is very slow.I am running intellij as admin","body":"I cleared all the breakpoints and set a break point for a line which is inside the method but still it is very slow.I am running intellij as admin"},{"owner":{"account_id":10998452,"reputation":2722,"user_id":8079754,"display_name":"Moe"},"score":0,"creation_date":1505865933,"post_id":46292330,"comment_id":79584552,"body_markdown":"Maybe reinstall jdk and IntelliJ?","body":"Maybe reinstall jdk and IntelliJ?"},{"owner":{"account_id":6813724,"reputation":473,"user_id":5243096,"accept_rate":25,"display_name":"swathi"},"score":0,"creation_date":1506055689,"post_id":46292330,"comment_id":79673825,"body_markdown":"if i ran normal java application ,it is working fine.If I run appium testcases with intelliji then the debugger is slow","body":"if i ran normal java application ,it is working fine.If I run appium testcases with intelliji then the debugger is slow"},{"owner":{"account_id":10998452,"reputation":2722,"user_id":8079754,"display_name":"Moe"},"score":3,"creation_date":1506057735,"post_id":46292330,"comment_id":79674410,"body_markdown":"Can you please confirm if you have any breakpoints set? open up the breakpoint window in IntelliJ and make sure there is nothing set. let me know the outcome and I&#39;ll try to assist further.  `Run --&gt; View Breakpoints`. If you find any, remove them all then try run debug again (is it still slow?)","body":"Can you please confirm if you have any breakpoints set? open up the breakpoint window in IntelliJ and make sure there is nothing set. let me know the outcome and I&#39;ll try to assist further.  <code>Run --&gt; View Breakpoints</code>. If you find any, remove them all then try run debug again (is it still slow?)"},{"owner":{"account_id":6813724,"reputation":473,"user_id":5243096,"accept_rate":25,"display_name":"swathi"},"score":0,"creation_date":1506303034,"post_id":46292330,"comment_id":79750057,"body_markdown":"I removed all the breakpoints and tried to run it .But it is still slow in debug mode with appium but it is running fine for normal java application.","body":"I removed all the breakpoints and tried to run it .But it is still slow in debug mode with appium but it is running fine for normal java application."},{"owner":{"account_id":10998452,"reputation":2722,"user_id":8079754,"display_name":"Moe"},"score":0,"creation_date":1506307254,"post_id":46292330,"comment_id":79750872,"body_markdown":"Can you try to isolate the issue to determine what exactly is slow? is it certain parts of the code? is it initializing the tests? is it certain calls that are giving you performance problems?","body":"Can you try to isolate the issue to determine what exactly is slow? is it certain parts of the code? is it initializing the tests? is it certain calls that are giving you performance problems?"},{"owner":{"account_id":6813724,"reputation":473,"user_id":5243096,"accept_rate":25,"display_name":"swathi"},"score":0,"creation_date":1506317367,"post_id":46292330,"comment_id":79753268,"body_markdown":"Automate any mobile app test either android or iOS using appium with java and try to debug the code.Then it is taking 1 or 3  minutes to  step over to the next step and fetch the variable values.Hover the mouse on any variable is also not working.","body":"Automate any mobile app test either android or iOS using appium with java and try to debug the code.Then it is taking 1 or 3  minutes to  step over to the next step and fetch the variable values.Hover the mouse on any variable is also not working."},{"owner":{"account_id":380321,"reputation":305,"user_id":734257,"display_name":"Heezer"},"score":0,"creation_date":1659090509,"post_id":46292330,"comment_id":129218183,"body_markdown":"In my case it was an accidentally set Java Field Watchpoint (breakpoint for an instance variable), removing it solved the slowness issue in debug mode.","body":"In my case it was an accidentally set Java Field Watchpoint (breakpoint for an instance variable), removing it solved the slowness issue in debug mode."}],"tags":[],"owner":{"account_id":10998452,"reputation":2722,"user_id":8079754,"display_name":"Moe"},"comment_count":8,"down_vote_count":1,"up_vote_count":41,"is_accepted":false,"score":40,"last_activity_date":1602335388,"creation_date":1505798121,"answer_id":46292330,"question_id":46292095,"body_markdown":"Remove breakpoints off your method and use them inside the method as that can cause your debug to take a very long time.\r\n\r\nTry running IntelliJ as admin. I had this issue at work where debugging was extremely slow and running as admin actually made it a lot faster.\r\n\r\nhttps://stackoverflow.com/questions/31062069/method-breakpoints-may-dramatically-slow-down-debugging\r\n\r\nThere is a simple explanation from the IntelliJ Team: &quot;Method breakpoints will slow down debugger a lot because of the JVM design, they are expensive to evaluate&quot;\r\n\r\nhttps://intellij-support.jetbrains.com/hc/en-us/articles/206544799-Java-slow-performance-or-hangups-when-starting-debugger-and-stepping","title":"Intelliji idea is very slow in debug mode and it is running perfectly in normal mode","body":"<p>Remove breakpoints off your method and use them inside the method as that can cause your debug to take a very long time.</p>\n<p>Try running IntelliJ as admin. I had this issue at work where debugging was extremely slow and running as admin actually made it a lot faster.</p>\n<p><a href=\"https://stackoverflow.com/questions/31062069/method-breakpoints-may-dramatically-slow-down-debugging\">Method breakpoints may dramatically slow down debugging</a></p>\n<p>There is a simple explanation from the IntelliJ Team: &quot;Method breakpoints will slow down debugger a lot because of the JVM design, they are expensive to evaluate&quot;</p>\n<p><a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/206544799-Java-slow-performance-or-hangups-when-starting-debugger-and-stepping\" rel=\"noreferrer\">https://intellij-support.jetbrains.com/hc/en-us/articles/206544799-Java-slow-performance-or-hangups-when-starting-debugger-and-stepping</a></p>\n"},{"tags":[],"owner":{"account_id":10824901,"reputation":745,"user_id":7961080,"accept_rate":67,"display_name":"Aman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505798142,"creation_date":1505798142,"answer_id":46292336,"question_id":46292095,"body_markdown":"I faced similar problem with the Eclipse also and found the solution.\r\nIt is happening because your IntelliJ is using online Java and not using the same which is installed in your system.\r\n\r\nYou should set the java path to your system one in the IntelliJ configuration. Below link will help you for the same:  \r\nhttps://intellij-support.jetbrains.com/hc/en-us/articles/206544879-Selecting-the-JDK-version-the-IDE-will-run-under\r\n\r\nHope this will help you. :-)","title":"Intelliji idea is very slow in debug mode and it is running perfectly in normal mode","body":"<p>I faced similar problem with the Eclipse also and found the solution.\nIt is happening because your IntelliJ is using online Java and not using the same which is installed in your system.</p>\n\n<p>You should set the java path to your system one in the IntelliJ configuration. Below link will help you for the same:<br>\n<a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/206544879-Selecting-the-JDK-version-the-IDE-will-run-under\" rel=\"nofollow noreferrer\">https://intellij-support.jetbrains.com/hc/en-us/articles/206544879-Selecting-the-JDK-version-the-IDE-will-run-under</a></p>\n\n<p>Hope this will help you. :-)</p>\n"},{"tags":[],"owner":{"account_id":558770,"reputation":16438,"user_id":755804,"accept_rate":20,"display_name":"18446744073709551615"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1511791977,"creation_date":1511791977,"answer_id":47512980,"question_id":46292095,"body_markdown":"I have solved a similar problem by disabling breakpoints; it was remote debugging.\r\nI did not make any performance measurements, but it looks like it is ok to have about 10 active breakpoints, but disastrous to have about 100 of them (I guess, the breakpoint list is sent over the network).\r\n\r\nIdea lets you to group breakpoints and disable the whole groups.\r\n\r\nNote that a click on the wrong mouse button clears your breakpoint instead of letting you edit its condition, so be careful!\r\n","title":"Intelliji idea is very slow in debug mode and it is running perfectly in normal mode","body":"<p>I have solved a similar problem by disabling breakpoints; it was remote debugging.\nI did not make any performance measurements, but it looks like it is ok to have about 10 active breakpoints, but disastrous to have about 100 of them (I guess, the breakpoint list is sent over the network).</p>\n\n<p>Idea lets you to group breakpoints and disable the whole groups.</p>\n\n<p>Note that a click on the wrong mouse button clears your breakpoint instead of letting you edit its condition, so be careful!</p>\n"},{"comments":[{"owner":{"account_id":2700762,"reputation":358,"user_id":2331537,"display_name":"Narendra Reddy"},"score":0,"creation_date":1569475919,"post_id":56635914,"comment_id":102610164,"body_markdown":"I also faced similar issue... but i had breakpoint at field level. the sprint boot application took 10 times more than normal boot time..","body":"I also faced similar issue... but i had breakpoint at field level. the sprint boot application took 10 times more than normal boot time.."}],"tags":[],"owner":{"account_id":13149223,"reputation":689,"user_id":9498369,"display_name":"Arul Rozario"},"comment_count":1,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1576836327,"creation_date":1560791053,"answer_id":56635914,"question_id":46292095,"body_markdown":"I had the similar issue. In my case it was **method breakpoints**. There was just one break point on a method. My spring boot app took around 20 mins to launch. When I removed the breakpoints it took 4 seconds to launch.\r\n\r\nI also changed the debugger settings.\r\n\r\n  1. Unchecked - Enable alternative view view for Collections classes\r\n  2. Unchecked - Enable &#39;toString()&#39; object view:\r\n\r\nbut these settings didn&#39;t make a difference.","title":"Intelliji idea is very slow in debug mode and it is running perfectly in normal mode","body":"<p>I had the similar issue. In my case it was <strong>method breakpoints</strong>. There was just one break point on a method. My spring boot app took around 20 mins to launch. When I removed the breakpoints it took 4 seconds to launch.</p>\n\n<p>I also changed the debugger settings.</p>\n\n<ol>\n<li>Unchecked - Enable alternative view view for Collections classes</li>\n<li>Unchecked - Enable 'toString()' object view:</li>\n</ol>\n\n<p>but these settings didn't make a difference.</p>\n"},{"comments":[{"owner":{"account_id":2713,"reputation":5677,"user_id":3812,"accept_rate":83,"display_name":"Bahadır Yağan"},"score":0,"creation_date":1627507159,"post_id":57920037,"comment_id":121178260,"body_markdown":"I have this exact same issue, doesn&#39;t matter if its run or debug. Always when the gelf appender is enabled. Any ideas?","body":"I have this exact same issue, doesn&#39;t matter if its run or debug. Always when the gelf appender is enabled. Any ideas?"},{"owner":{"account_id":211037,"reputation":1635,"user_id":462982,"accept_rate":62,"display_name":"user462982"},"score":0,"creation_date":1699968386,"post_id":57920037,"comment_id":136594945,"body_markdown":"Why would you use a GELF (Graylog Extended Log Format) appender for local dev/debugging? It sends all your logs to you graylog server (which can be slow of course, especially if you don&#39;t use the UDP version)","body":"Why would you use a GELF (Graylog Extended Log Format) appender for local dev/debugging? It sends all your logs to you graylog server (which can be slow of course, especially if you don&#39;t use the UDP version)"}],"tags":[],"owner":{"account_id":1183708,"reputation":710,"user_id":1158082,"display_name":"Andrew Gans"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568363682,"creation_date":1568363682,"answer_id":57920037,"question_id":46292095,"body_markdown":"Make sure that you don&#39;t use &quot;biz.paluch.logging.gelf.logback.GelfLogbackAppender&quot; among your logs. In my case usage of such kind of appender was the cause of drastically slow starting in debug mode.","title":"Intelliji idea is very slow in debug mode and it is running perfectly in normal mode","body":"<p>Make sure that you don't use \"biz.paluch.logging.gelf.logback.GelfLogbackAppender\" among your logs. In my case usage of such kind of appender was the cause of drastically slow starting in debug mode.</p>\n"},{"tags":[],"owner":{"account_id":342450,"reputation":2404,"user_id":673617,"display_name":"Ivan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1573725493,"creation_date":1573725493,"answer_id":58853959,"question_id":46292095,"body_markdown":"Remove breakpoint from DAO interface and all work nice!","title":"Intelliji idea is very slow in debug mode and it is running perfectly in normal mode","body":"<p>Remove breakpoint from DAO interface and all work nice!</p>\n"},{"tags":[],"owner":{"account_id":2021629,"reputation":57953,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618750563,"creation_date":1579715797,"answer_id":59865675,"question_id":46292095,"body_markdown":"In my case, slowness is specific to REST calls. After testing all of the above proposed solutions, I finally find a way to remove these slowness issues by switching my JDK from JDK 11 to JDK 8.\r\n\r\nNote: The same slowness appears in Visual Studio Code. This seems related to JDK 11 (OpenJDK 64-Bit Server VM AdoptOpenJDK (build 11.0.10+9, mixed mode) on macOS)","title":"Intelliji idea is very slow in debug mode and it is running perfectly in normal mode","body":"<p>In my case, slowness is specific to REST calls. After testing all of the above proposed solutions, I finally find a way to remove these slowness issues by switching my JDK from JDK 11 to JDK 8.</p>\n<p>Note: The same slowness appears in Visual Studio Code. This seems related to JDK 11 (OpenJDK 64-Bit Server VM AdoptOpenJDK (build 11.0.10+9, mixed mode) on macOS)</p>\n"},{"tags":[],"owner":{"account_id":13973190,"reputation":51,"user_id":10091199,"display_name":"Leonardo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596126161,"creation_date":1596126161,"answer_id":63177361,"question_id":46292095,"body_markdown":"In my case I just had to disable the option: &quot;Show method returns values&quot;\r\n[Image of the option][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xzJPb.png","title":"Intelliji idea is very slow in debug mode and it is running perfectly in normal mode","body":"<p>In my case I just had to disable the option: &quot;Show method returns values&quot;\n<a href=\"https://i.stack.imgur.com/xzJPb.png\" rel=\"nofollow noreferrer\">Image of the option</a></p>\n"},{"tags":[],"owner":{"account_id":4173994,"reputation":708,"user_id":3421066,"accept_rate":25,"display_name":"alext"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1601285322,"creation_date":1601285322,"answer_id":64099476,"question_id":46292095,"body_markdown":"In my case i had more than 100 breakpoints active and this was the cause of this issue.  \r\nI clicked `Ctrl + Alt + F8` and disabled all the breakpoints.   \r\nAfter that i enabled few new breakpoints i needed and all was ok.  \r\nIt seems that having a lot of active breakpoints causes this issue.","title":"Intelliji idea is very slow in debug mode and it is running perfectly in normal mode","body":"<p>In my case i had more than 100 breakpoints active and this was the cause of this issue.<br />\nI clicked <code>Ctrl + Alt + F8</code> and disabled all the breakpoints.<br />\nAfter that i enabled few new breakpoints i needed and all was ok.<br />\nIt seems that having a lot of active breakpoints causes this issue.</p>\n"},{"comments":[{"owner":{"account_id":5672288,"reputation":294,"user_id":4486592,"display_name":"Guilherme Taffarel Bergamin"},"score":5,"creation_date":1625866131,"post_id":64955338,"comment_id":120750368,"body_markdown":"My issue was the `toString()`. My suspicion is that it got confused by lazily loaded database entity attributes. I wish there was an extra option there to &quot;Disable &#39;toString()&#39; object view For classes from the list&quot;. I would add all my entities there to be sure that&#39;s the issue","body":"My issue was the <code>toString()</code>. My suspicion is that it got confused by lazily loaded database entity attributes. I wish there was an extra option there to &quot;Disable &#39;toString()&#39; object view For classes from the list&quot;. I would add all my entities there to be sure that&#39;s the issue"},{"owner":{"account_id":6686844,"reputation":404,"user_id":5157770,"display_name":"Tinashe Chinyanga"},"score":0,"creation_date":1694548425,"post_id":64955338,"comment_id":135905043,"body_markdown":"This worked for me, question is, how does this affect the speed and does it have any other efffects?","body":"This worked for me, question is, how does this affect the speed and does it have any other efffects?"},{"owner":{"account_id":456186,"reputation":143,"user_id":854842,"accept_rate":60,"display_name":"Victor Dolirio"},"score":0,"creation_date":1697750708,"post_id":64955338,"comment_id":136322670,"body_markdown":"I don&#39;t know when IntelliJ started having the values inline during debbug. In my case that was a big issue as I had a big object graph in memory and IntelliJ is calling toString() on everything to have values inline. On the same Preferences menu above &quot;Data Views&quot; you have now the option to disable that feature","body":"I don&#39;t know when IntelliJ started having the values inline during debbug. In my case that was a big issue as I had a big object graph in memory and IntelliJ is calling toString() on everything to have values inline. On the same Preferences menu above &quot;Data Views&quot; you have now the option to disable that feature"}],"tags":[],"owner":{"account_id":2616296,"reputation":1942,"user_id":2265283,"accept_rate":7,"display_name":"Eyal Sooliman"},"comment_count":3,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1606055306,"creation_date":1606055306,"answer_id":64955338,"question_id":46292095,"body_markdown":"If you **disable** this options in ***Build, Execution, Deployment -&gt; Debugger -&gt; Data Views --&gt; Java***, things will start work faster when debugging. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oZZJW.png","title":"Intelliji idea is very slow in debug mode and it is running perfectly in normal mode","body":"<p>If you <strong>disable</strong> this options in <em><strong>Build, Execution, Deployment -&gt; Debugger -&gt; Data Views --&gt; Java</strong></em>, things will start work faster when debugging.</p>\n<p><a href=\"https://i.stack.imgur.com/oZZJW.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/oZZJW.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":14064729,"reputation":111,"user_id":10159895,"display_name":"Jayant"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1628174716,"creation_date":1628164849,"answer_id":68666216,"question_id":46292095,"body_markdown":"clicked on &quot;Mute Breakpoints&quot; and started it and it started like as if starting in normal mode(means no any delay)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qH784.png","title":"Intelliji idea is very slow in debug mode and it is running perfectly in normal mode","body":"<p>clicked on &quot;Mute Breakpoints&quot; and started it and it started like as if starting in normal mode(means no any delay)</p>\n<p><a href=\"https://i.stack.imgur.com/qH784.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/qH784.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2395860,"reputation":3604,"user_id":2094670,"accept_rate":87,"display_name":"ajayramesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1631064250,"creation_date":1631064250,"answer_id":69095980,"question_id":46292095,"body_markdown":"I also faced same problem, after deleting all breakpoints it started working fine. ","title":"Intelliji idea is very slow in debug mode and it is running perfectly in normal mode","body":"<p>I also faced same problem, after deleting all breakpoints it started working fine.</p>\n"},{"tags":[],"owner":{"account_id":2395641,"reputation":349,"user_id":2094491,"display_name":"alexcorghencea"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635803335,"creation_date":1635803335,"answer_id":69803135,"question_id":46292095,"body_markdown":"Removing all Interface method breakpoints will fix the long spring boot startup Idea debug run.","title":"Intelliji idea is very slow in debug mode and it is running perfectly in normal mode","body":"<p>Removing all Interface method breakpoints will fix the long spring boot startup Idea debug run.</p>\n"},{"tags":[],"owner":{"account_id":3154976,"reputation":71,"user_id":2667570,"display_name":"Martin Devlin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641835390,"creation_date":1641835390,"answer_id":70656481,"question_id":46292095,"body_markdown":"In my case the problem was caused by the &quot;Threads&quot; view. When I remove this view it becomes fast again. \r\n\r\nWhen I add the Threads view, I continuously see &quot;Collecting data...&quot; in the threads view, it flickers every 5s where the threads list shows for a moment then it goes back to &quot;Collecting data...&quot;. When its like this, stepping through the code is painfully slow - takes about 10s for each step.","title":"Intelliji idea is very slow in debug mode and it is running perfectly in normal mode","body":"<p>In my case the problem was caused by the &quot;Threads&quot; view. When I remove this view it becomes fast again.</p>\n<p>When I add the Threads view, I continuously see &quot;Collecting data...&quot; in the threads view, it flickers every 5s where the threads list shows for a moment then it goes back to &quot;Collecting data...&quot;. When its like this, stepping through the code is painfully slow - takes about 10s for each step.</p>\n"},{"tags":[],"owner":{"account_id":24095576,"reputation":85,"user_id":18068156,"display_name":"Seeker"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672148595,"creation_date":1672148595,"answer_id":74930030,"question_id":46292095,"body_markdown":"I cam across this post looking for a solution for my CLion (Rust). I removed all breakpoints, and it was enough to make the starting time on the debug mode too quick again.\r\n\r\nThanks to everyone who suggested that. This suggestion does not work only for Java, it also works for Rust/Clion","title":"Intelliji idea is very slow in debug mode and it is running perfectly in normal mode","body":"<p>I cam across this post looking for a solution for my CLion (Rust). I removed all breakpoints, and it was enough to make the starting time on the debug mode too quick again.</p>\n<p>Thanks to everyone who suggested that. This suggestion does not work only for Java, it also works for Rust/Clion</p>\n"},{"tags":[],"owner":{"account_id":5568098,"reputation":1,"user_id":4414527,"display_name":"charanpreet flora"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699659742,"creation_date":1699659742,"answer_id":77463355,"question_id":46292095,"body_markdown":"I encountered a similar issue and the issue was having a breakpoint in one of the method signatures in the repository methods. After removing that, the issue was gone. ","title":"Intelliji idea is very slow in debug mode and it is running perfectly in normal mode","body":"<p>I encountered a similar issue and the issue was having a breakpoint in one of the method signatures in the repository methods. After removing that, the issue was gone.</p>\n"}],"owner":{"account_id":6813724,"reputation":473,"user_id":5243096,"accept_rate":25,"display_name":"swathi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36741,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"answer_count":16,"score":35,"last_activity_date":1699659742,"creation_date":1505796933,"question_id":46292095,"body_markdown":"Intelliji idea is very slow in debug mode and it is running perfectly in normal mode.\r\n\r\nI already tried by setting the below thing in /etc/hosts file\r\nsudo nano /etc/hosts and add these two entries.\r\n\r\n127.0.0.1 &lt;output-host-name&gt;.local\r\n::1 &lt;output-host-name&gt;.local\r\n\r\nBut it did not work out for me.\r\n\r\nAny help on this is highly regarded.\r\n","title":"Intelliji idea is very slow in debug mode and it is running perfectly in normal mode","body":"<p>Intelliji idea is very slow in debug mode and it is running perfectly in normal mode.</p>\n\n<p>I already tried by setting the below thing in /etc/hosts file\nsudo nano /etc/hosts and add these two entries.</p>\n\n<p>127.0.0.1 .local\n::1 .local</p>\n\n<p>But it did not work out for me.</p>\n\n<p>Any help on this is highly regarded.</p>\n"},{"tags":["java","spring","spring-boot","multithreading","multiprocessing"],"answers":[{"tags":[],"owner":{"account_id":3620043,"reputation":2295,"user_id":3019024,"accept_rate":97,"display_name":"WildDev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699658822,"creation_date":1699658822,"answer_id":77463315,"question_id":77432097,"body_markdown":"This is so called a *distributed processing*.\r\n\r\nCron is good for executing limited latency tasks such as sql scripts but they&#39;re not scalable and weren&#39;t designed for these purposes. If you scale cron tasks it will cause a race condition since the schedule is would be the same across the instances.\r\n\r\nIn the practice, there&#39;s a number of common ways:\r\n\r\n - Cron jobs in the [Leader Election](https://en.wikipedia.org/wiki/Leader_election) style. It means only one instance in a cluster is responsible for the task execution at time. Good thing for periodic tasks such as maintenance scripts but those are not suitable for the workload processing. See Kubernetes [CronJobs](https://kubernetes.io/docs/concepts/workloads/controllers/cron-jobs/)\r\n - Concurrent workers. This is preferred way for the small and medium sized projects. You might want to poll some resource in order to *reserve* some data in a fixed interval instead of a cron since not all the workers will trigger in the same time. Then you can process the data read in the concurrent manner. The access to such resources must be synchronized in order to avoid duplicate reads. This is just like how [Kafka](https://kafka.apache.org/documentation/) works.\r\n - Distributed queue. There&#39;re many implementations exist including [RabbitMQ](https://www.rabbitmq.com/), [Kafka](https://kafka.apache.org/documentation/) etc. As you published the workload it is ready for the concurrent processing and the scalability is then easily achieved. This is the most expensive and common seen approach for the enterprise level software.","title":"Cron running on multiple server instance","body":"<p>This is so called a <em>distributed processing</em>.</p>\n<p>Cron is good for executing limited latency tasks such as sql scripts but they're not scalable and weren't designed for these purposes. If you scale cron tasks it will cause a race condition since the schedule is would be the same across the instances.</p>\n<p>In the practice, there's a number of common ways:</p>\n<ul>\n<li>Cron jobs in the <a href=\"https://en.wikipedia.org/wiki/Leader_election\" rel=\"nofollow noreferrer\">Leader Election</a> style. It means only one instance in a cluster is responsible for the task execution at time. Good thing for periodic tasks such as maintenance scripts but those are not suitable for the workload processing. See Kubernetes <a href=\"https://kubernetes.io/docs/concepts/workloads/controllers/cron-jobs/\" rel=\"nofollow noreferrer\">CronJobs</a></li>\n<li>Concurrent workers. This is preferred way for the small and medium sized projects. You might want to poll some resource in order to <em>reserve</em> some data in a fixed interval instead of a cron since not all the workers will trigger in the same time. Then you can process the data read in the concurrent manner. The access to such resources must be synchronized in order to avoid duplicate reads. This is just like how <a href=\"https://kafka.apache.org/documentation/\" rel=\"nofollow noreferrer\">Kafka</a> works.</li>\n<li>Distributed queue. There're many implementations exist including <a href=\"https://www.rabbitmq.com/\" rel=\"nofollow noreferrer\">RabbitMQ</a>, <a href=\"https://kafka.apache.org/documentation/\" rel=\"nofollow noreferrer\">Kafka</a> etc. As you published the workload it is ready for the concurrent processing and the scalability is then easily achieved. This is the most expensive and common seen approach for the enterprise level software.</li>\n</ul>\n"}],"owner":{"account_id":18695929,"reputation":81,"user_id":13629257,"display_name":"prateek jangid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1699658822,"creation_date":1699282822,"question_id":77432097,"body_markdown":"I have a cron (deployed on multiple servers) in spring boot in which i want to get &quot;n&quot; records from a table* based on timestamp column.\r\nAnd will update the is_proccessed field to true once these are processed.\r\n\r\nApproach 1:\r\n\r\nI have thought of using a SP in oracle which i will use &quot;skip Locked&quot; feature which will lock the records and will update is_processed field to true.\r\n\r\nBut in the above approach if there are 10000 records in single run then the update query will be taking time to update these record.\r\n\r\nApproach 2:\r\n\r\nI also thought of redisson lock, but in this if one cron gets the lock others will skip, which i don&#39;t want.\r\n\r\n-----------\r\nIs There any other approach by which all the n cron instance should get different records from DB every time the cron runs? \r\n\r\ni.e Also, i want my code to scale properly.\r\n\r\nPS:*instead of table, the data can be stored and retrieved from cache as well like aerospike or any other way(DB or kafka etc) to store and get data based on timestamp which suits the above case.\r\n\r\n","title":"Cron running on multiple server instance","body":"<p>I have a cron (deployed on multiple servers) in spring boot in which i want to get &quot;n&quot; records from a table* based on timestamp column.\nAnd will update the is_proccessed field to true once these are processed.</p>\n<p>Approach 1:</p>\n<p>I have thought of using a SP in oracle which i will use &quot;skip Locked&quot; feature which will lock the records and will update is_processed field to true.</p>\n<p>But in the above approach if there are 10000 records in single run then the update query will be taking time to update these record.</p>\n<p>Approach 2:</p>\n<p>I also thought of redisson lock, but in this if one cron gets the lock others will skip, which i don't want.</p>\n<hr />\n<p>Is There any other approach by which all the n cron instance should get different records from DB every time the cron runs?</p>\n<p>i.e Also, i want my code to scale properly.</p>\n<p>PS:*instead of table, the data can be stored and retrieved from cache as well like aerospike or any other way(DB or kafka etc) to store and get data based on timestamp which suits the above case.</p>\n"},{"tags":["java","android","kotlin","notifications"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1699658650,"post_id":77463287,"comment_id":136563875,"body_markdown":"IIRC, custom UI on the lockscreen was abandoned with Android 5.0, around nine years ago.","body":"IIRC, custom UI on the lockscreen was abandoned with Android 5.0, around nine years ago."},{"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"score":0,"creation_date":1699658858,"post_id":77463287,"comment_id":136563884,"body_markdown":"Thank you for reply , so there is no way to do that ?","body":"Thank you for reply , so there is no way to do that ?"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1699659175,"post_id":77463287,"comment_id":136563899,"body_markdown":"Not in general. Certain manufacturers might have device-specific options for this. Also, custom ROMs might offer it.","body":"Not in general. Certain manufacturers might have device-specific options for this. Also, custom ROMs might offer it."},{"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"score":0,"creation_date":1699659406,"post_id":77463287,"comment_id":136563913,"body_markdown":"Alright , Thank you so much mate , appreciate it","body":"Alright , Thank you so much mate , appreciate it"}],"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1699658328,"creation_date":1699658328,"question_id":77463287,"body_markdown":"I have created a custom ui which i want to show in lock screen , so far i managed to show it using a combination of notification with RemoveViews() but the issue is that when i launch app it shows notification in foreground and the custom UI is shown in lock screen , is there anyway to show only the custom ui in lock screen , don&#39;t want to show notification , Thank you in advance for any help .\r\n\r\n\r\n  * This is my code \r\n\r\n```\r\n\r\n    private void showNetworkChangeNotification(String networkType) {\r\n        notificationManager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            NotificationChannel channel = new NotificationChannel(&quot;network_change_channel&quot;, &quot;Network Change Channel&quot;, NotificationManager.IMPORTANCE_DEFAULT);\r\n            notificationManager.createNotificationChannel(channel);\r\n        }\r\n\r\n        RemoteViews remoteViews = new RemoteViews(getPackageName(),R.layout.custom_ui_layout);\r\n\r\n        Intent notificationIntent = new Intent(this, MainActivity.class);\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, notificationIntent, PendingIntent.FLAG_IMMUTABLE);\r\n\r\n        NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, &quot;network_change_channel&quot;)\r\n                .setContentTitle(&quot;Network Changed&quot;)\r\n                .setContentText(&quot;Network Type: &quot; + networkType)\r\n                .setSmallIcon(R.drawable.baseline_circle_notifications_24)\r\n                .setContent(remoteViews)\r\n                .addAction(R.drawable.baseline_circle_notifications_24, &quot;Reset&quot;, getCancelPendingIntent())\r\n                .setAutoCancel(true);\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            startForeground(1, notificationBuilder.build());\r\n        } else {\r\n            notificationManager.notify(1, notificationBuilder.build());\r\n        }\r\n\r\n    }\r\n```","title":"Showing a custom ui in lock screen in android programatically","body":"<p>I have created a custom ui which i want to show in lock screen , so far i managed to show it using a combination of notification with RemoveViews() but the issue is that when i launch app it shows notification in foreground and the custom UI is shown in lock screen , is there anyway to show only the custom ui in lock screen , don't want to show notification , Thank you in advance for any help .</p>\n<ul>\n<li>This is my code</li>\n</ul>\n<pre><code>\n    private void showNetworkChangeNotification(String networkType) {\n        notificationManager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            NotificationChannel channel = new NotificationChannel(&quot;network_change_channel&quot;, &quot;Network Change Channel&quot;, NotificationManager.IMPORTANCE_DEFAULT);\n            notificationManager.createNotificationChannel(channel);\n        }\n\n        RemoteViews remoteViews = new RemoteViews(getPackageName(),R.layout.custom_ui_layout);\n\n        Intent notificationIntent = new Intent(this, MainActivity.class);\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, notificationIntent, PendingIntent.FLAG_IMMUTABLE);\n\n        NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, &quot;network_change_channel&quot;)\n                .setContentTitle(&quot;Network Changed&quot;)\n                .setContentText(&quot;Network Type: &quot; + networkType)\n                .setSmallIcon(R.drawable.baseline_circle_notifications_24)\n                .setContent(remoteViews)\n                .addAction(R.drawable.baseline_circle_notifications_24, &quot;Reset&quot;, getCancelPendingIntent())\n                .setAutoCancel(true);\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            startForeground(1, notificationBuilder.build());\n        } else {\n            notificationManager.notify(1, notificationBuilder.build());\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","google-cloud-platform","google-cloud-pubsub"],"comments":[{"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1699083330,"post_id":77420887,"comment_id":136489115,"body_markdown":"Did you try to purge your subscription and to test again? It could be old messages first.","body":"Did you try to purge your subscription and to test again? It could be old messages first."},{"owner":{"account_id":6357625,"reputation":274,"user_id":5019180,"accept_rate":59,"display_name":"Tiny Rick"},"score":0,"creation_date":1699095219,"post_id":77420887,"comment_id":136489967,"body_markdown":"@guillaumeblaquiere I purged the messages and tried again. The ordering key is not coming in the new messages.","body":"@guillaumeblaquiere I purged the messages and tried again. The ordering key is not coming in the new messages."},{"owner":{"account_id":444824,"reputation":929,"user_id":836890,"accept_rate":100,"display_name":"Chandan Pasunoori"},"score":0,"creation_date":1699375023,"post_id":77420887,"comment_id":136522495,"body_markdown":"@TinyRick did you recreate subscription with ordering enabled or you are using old subscription?","body":"@TinyRick did you recreate subscription with ordering enabled or you are using old subscription?"},{"owner":{"account_id":6357625,"reputation":274,"user_id":5019180,"accept_rate":59,"display_name":"Tiny Rick"},"score":0,"creation_date":1699505196,"post_id":77420887,"comment_id":136541206,"body_markdown":"@ChandanPasunoori I created a fresh topic and created a fresh subscription with ordering enabled. Still no luck.\n\nThe spring boot version i am using is 2.3.4 and spring cloud gcp version is 1.2.8.RELEASE. \n\nI suspect there is no support for ordering in this version","body":"@ChandanPasunoori I created a fresh topic and created a fresh subscription with ordering enabled. Still no luck.  The spring boot version i am using is 2.3.4 and spring cloud gcp version is 1.2.8.RELEASE.   I suspect there is no support for ordering in this version"}],"answers":[{"comments":[{"owner":{"account_id":6357625,"reputation":274,"user_id":5019180,"accept_rate":59,"display_name":"Tiny Rick"},"score":0,"creation_date":1699505332,"post_id":77434807,"comment_id":136541216,"body_markdown":"I actually followed this link\nhttps://www.databasesandlife.com/spring-pubsub-ordering/\n\nThe link mentions the property enabling. However the spring version the link mentions is different from mine.\n\n\nThe spring boot version i am using is 2.3.4 and spring cloud gcp version is 1.2.8.RELEASE. \n\nI suspect there is no support for ordering in this version","body":"I actually followed this link <a href=\"https://www.databasesandlife.com/spring-pubsub-ordering/\" rel=\"nofollow noreferrer\">databasesandlife.com/spring-pubsub-ordering</a>  The link mentions the property enabling. However the spring version the link mentions is different from mine.   The spring boot version i am using is 2.3.4 and spring cloud gcp version is 1.2.8.RELEASE.   I suspect there is no support for ordering in this version"},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1699525596,"post_id":77434807,"comment_id":136544180,"body_markdown":"You are right @TinyRick. Please, see the updated answer. Please, try upgrading the version of your Spring Cloud GCP library, I think it may be possible.","body":"You are right @TinyRick. Please, see the updated answer. Please, try upgrading the version of your Spring Cloud GCP library, I think it may be possible."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1699657714,"post_id":77434807,"comment_id":136563808,"body_markdown":"@TinyRick I updated the answer with a possible solution based on the library version you are currently using. I hope it helps.","body":"@TinyRick I updated the answer with a possible solution based on the library version you are currently using. I hope it helps."}],"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699657670,"creation_date":1699314356,"answer_id":77434807,"question_id":77420887,"body_markdown":"All the Pub/Sub client APIs offer a flag that allows you to enable message ordering.\r\n\r\nUsing Spring Cloud GCP, which internally uses the Pub/Sub Java client library, the easiest way to set this flag is setting the [configuration property](https://googlecloudplatform.github.io/spring-cloud-gcp/reference/html/index.html#publishersubscriber-configuration) `spring.cloud.gcp.pubsub.publisher.enable-message-ordering` to `true`, it is `false` by default. \r\n\r\nPlease, consider review the Spring GCP documentation, especially when they describe [ordering messages](https://googlecloudplatform.github.io/spring-cloud-gcp/reference/html/index.html#publishersubscriber-configuration) when using `PubSubTemplate` and [mapping headers](https://googlecloudplatform.github.io/spring-cloud-gcp/reference/html/index.html#header-mapping) with Spring integration.\r\n\r\n\r\nPlease, be aware that in order to use the mentioned configuration property you need at least the [`2.0.2` version](https://github.com/GoogleCloudPlatform/spring-cloud-gcp/blob/main/CHANGELOG.md#pubsub-8) of the Spring Cloud GCP Pub/Sub related libraries: the change was addressed in [this issue](https://github.com/GoogleCloudPlatform/spring-cloud-gcp/pull/408) and first included in the aforementioned library version.\r\n\r\nIf you cannot upgrade your libraries, you may try the following.\r\n\r\nFirst, define a custom `PubSubMessageConverter`, the class in charge of performing the actual creation of the `PubSubMessage`s, to deal with message ordering, something like:\r\n\r\n```java\r\npublic class OrderingAwarePubSubNessageConverter extends SimplePubSubMessageConverter {\r\n\r\n  private final Charset charset;\r\n\r\n  public OrderingAwarePubSubNessageConverter() {\r\n    this(Charset.defaultCharset());\r\n  }\r\n\r\n  public OrderingAwarePubSubNessageConverter(Charset charset) {\r\n    super(charset);\r\n\r\n    this.charset = charset;\r\n  }\r\n\r\n  // Override the toPubSubMessage conversion method including the logic for ordering messages\r\n  @Override\r\n  public PubsubMessage toPubSubMessage(Object payload, Map&lt;String, String&gt; headers) {\r\n    ByteString convertedPayload;\r\n    if (payload instanceof ByteString) {\r\n      convertedPayload = (ByteString)payload;\r\n    } else if (payload instanceof String) {\r\n      convertedPayload = ByteString.copyFrom(((String)payload).getBytes(this.charset));\r\n    } else if (payload instanceof ByteBuffer) {\r\n      convertedPayload = ByteString.copyFrom((ByteBuffer)payload);\r\n    } else {\r\n      if (!(payload instanceof byte[])) {\r\n        throw new PubSubMessageConversionException(&quot;Unable to convert payload of type &quot; + payload.getClass().getName() + &quot; to byte[] for sending to Pub/Sub.&quot;);\r\n      }\r\n\r\n      convertedPayload = ByteString.copyFrom((byte[])payload);\r\n    }\r\n\r\n    PubsubMessage.Builder pubsubMessageBuilder = PubsubMessage.newBuilder().setData(convertedPayload);\r\n    if (headers != null) {\r\n      pubsubMessageBuilder.putAllAttributes(headers);\r\n\r\n      // This code is the one required for instructing PubsubMessage.Builder to order messages\r\n      if (headers.containsKey(&quot;yourOrderingKeyHeader&quot;)) {\r\n        pubsubMessageBuilder.removeAttributes(&quot;yourOrderingKeyHeader&quot;);\r\n        pubsubMessageBuilder.setOrderingKey(headers.get(&quot;yourOrderingKeyHeader&quot;));\r\n      }\r\n    }\r\n\r\n    return pubsubMessageBuilder.build();\r\n  }\r\n}\r\n```\r\n\r\nPlease, note the code related to ordering messages.\r\n\r\nThen, configure your `PubSubTemplate` for using an instance of this new converter. Please, define in your code:\r\n\r\n```java\r\npubSubTemplate.setMessageConverter(new OrderingAwarePubSubNessageConverter());\r\n```","title":"GCP pubsub with ordering key","body":"<p>All the Pub/Sub client APIs offer a flag that allows you to enable message ordering.</p>\n<p>Using Spring Cloud GCP, which internally uses the Pub/Sub Java client library, the easiest way to set this flag is setting the <a href=\"https://googlecloudplatform.github.io/spring-cloud-gcp/reference/html/index.html#publishersubscriber-configuration\" rel=\"nofollow noreferrer\">configuration property</a> <code>spring.cloud.gcp.pubsub.publisher.enable-message-ordering</code> to <code>true</code>, it is <code>false</code> by default.</p>\n<p>Please, consider review the Spring GCP documentation, especially when they describe <a href=\"https://googlecloudplatform.github.io/spring-cloud-gcp/reference/html/index.html#publishersubscriber-configuration\" rel=\"nofollow noreferrer\">ordering messages</a> when using <code>PubSubTemplate</code> and <a href=\"https://googlecloudplatform.github.io/spring-cloud-gcp/reference/html/index.html#header-mapping\" rel=\"nofollow noreferrer\">mapping headers</a> with Spring integration.</p>\n<p>Please, be aware that in order to use the mentioned configuration property you need at least the <a href=\"https://github.com/GoogleCloudPlatform/spring-cloud-gcp/blob/main/CHANGELOG.md#pubsub-8\" rel=\"nofollow noreferrer\"><code>2.0.2</code> version</a> of the Spring Cloud GCP Pub/Sub related libraries: the change was addressed in <a href=\"https://github.com/GoogleCloudPlatform/spring-cloud-gcp/pull/408\" rel=\"nofollow noreferrer\">this issue</a> and first included in the aforementioned library version.</p>\n<p>If you cannot upgrade your libraries, you may try the following.</p>\n<p>First, define a custom <code>PubSubMessageConverter</code>, the class in charge of performing the actual creation of the <code>PubSubMessage</code>s, to deal with message ordering, something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class OrderingAwarePubSubNessageConverter extends SimplePubSubMessageConverter {\n\n  private final Charset charset;\n\n  public OrderingAwarePubSubNessageConverter() {\n    this(Charset.defaultCharset());\n  }\n\n  public OrderingAwarePubSubNessageConverter(Charset charset) {\n    super(charset);\n\n    this.charset = charset;\n  }\n\n  // Override the toPubSubMessage conversion method including the logic for ordering messages\n  @Override\n  public PubsubMessage toPubSubMessage(Object payload, Map&lt;String, String&gt; headers) {\n    ByteString convertedPayload;\n    if (payload instanceof ByteString) {\n      convertedPayload = (ByteString)payload;\n    } else if (payload instanceof String) {\n      convertedPayload = ByteString.copyFrom(((String)payload).getBytes(this.charset));\n    } else if (payload instanceof ByteBuffer) {\n      convertedPayload = ByteString.copyFrom((ByteBuffer)payload);\n    } else {\n      if (!(payload instanceof byte[])) {\n        throw new PubSubMessageConversionException(&quot;Unable to convert payload of type &quot; + payload.getClass().getName() + &quot; to byte[] for sending to Pub/Sub.&quot;);\n      }\n\n      convertedPayload = ByteString.copyFrom((byte[])payload);\n    }\n\n    PubsubMessage.Builder pubsubMessageBuilder = PubsubMessage.newBuilder().setData(convertedPayload);\n    if (headers != null) {\n      pubsubMessageBuilder.putAllAttributes(headers);\n\n      // This code is the one required for instructing PubsubMessage.Builder to order messages\n      if (headers.containsKey(&quot;yourOrderingKeyHeader&quot;)) {\n        pubsubMessageBuilder.removeAttributes(&quot;yourOrderingKeyHeader&quot;);\n        pubsubMessageBuilder.setOrderingKey(headers.get(&quot;yourOrderingKeyHeader&quot;));\n      }\n    }\n\n    return pubsubMessageBuilder.build();\n  }\n}\n</code></pre>\n<p>Please, note the code related to ordering messages.</p>\n<p>Then, configure your <code>PubSubTemplate</code> for using an instance of this new converter. Please, define in your code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>pubSubTemplate.setMessageConverter(new OrderingAwarePubSubNessageConverter());\n</code></pre>\n"}],"owner":{"account_id":6357625,"reputation":274,"user_id":5019180,"accept_rate":59,"display_name":"Tiny Rick"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1699657670,"creation_date":1699076784,"question_id":77420887,"body_markdown":"Our spring boot app uses Messaging Gateway to publish and consume message from GCP pubsub. The existing topics and their subscriptions which we use does not have ordering enabled. Now we want to add a topic and subscription with ordering of messages enabled. I have tested this using a simple python script and works exactly as we want. Now I am implementing the publisher in our Spring boot app. The message gets published correctly but the ordering key which i am sending as the message header is not reflecting and my consumer also is not able to fetch it. \r\n\r\nHere is the MessageGateway\r\n\r\n    @MessagingGateway(defaultRequestChannel = &quot;OutboundChannel&quot;)\r\n    public interface FiFoGateway {\r\n      void execute(T message);\r\n    }\r\n\r\nPublisher code\r\n\r\n    Message&lt;MyPubSubMessage&gt; orderedMessage = MessageBuilder\r\n                    .withPayload(pubSubMessage)\r\n                    .setHeader(&quot;orderingKey&quot;, &quot;key1&quot;)\r\n                    .build();\r\n    fiFoGateway.execute(orderedMessage);\r\n\r\n\r\nMy publisher config\r\n \r\n\r\n      @Bean(&quot;fIFOPublisher&quot;)\r\n      @ServiceActivator(inputChannel = &quot;OutboundChannel&quot;)\r\n      public PubSubMessageHandler fiFOPublisher(PubSubTemplate pubSubTemplate) {\r\n        return new PubSubMessageHandler(pubSubTemplate, &quot;myTopic&quot;);\r\n      }\r\n\r\n\r\nMy consumer also not consuming it. \r\n\r\nIt isappearing in the GCP page but we can see the ordering key colum in empty. \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zxdQz.png\r\n\r\nNot sure what am I missing ? Any suggestions or pointers ? ","title":"GCP pubsub with ordering key","body":"<p>Our spring boot app uses Messaging Gateway to publish and consume message from GCP pubsub. The existing topics and their subscriptions which we use does not have ordering enabled. Now we want to add a topic and subscription with ordering of messages enabled. I have tested this using a simple python script and works exactly as we want. Now I am implementing the publisher in our Spring boot app. The message gets published correctly but the ordering key which i am sending as the message header is not reflecting and my consumer also is not able to fetch it.</p>\n<p>Here is the MessageGateway</p>\n<pre><code>@MessagingGateway(defaultRequestChannel = &quot;OutboundChannel&quot;)\npublic interface FiFoGateway {\n  void execute(T message);\n}\n</code></pre>\n<p>Publisher code</p>\n<pre><code>Message&lt;MyPubSubMessage&gt; orderedMessage = MessageBuilder\n                .withPayload(pubSubMessage)\n                .setHeader(&quot;orderingKey&quot;, &quot;key1&quot;)\n                .build();\nfiFoGateway.execute(orderedMessage);\n</code></pre>\n<p>My publisher config</p>\n<pre><code>  @Bean(&quot;fIFOPublisher&quot;)\n  @ServiceActivator(inputChannel = &quot;OutboundChannel&quot;)\n  public PubSubMessageHandler fiFOPublisher(PubSubTemplate pubSubTemplate) {\n    return new PubSubMessageHandler(pubSubTemplate, &quot;myTopic&quot;);\n  }\n</code></pre>\n<p>My consumer also not consuming it.</p>\n<p>It isappearing in the GCP page but we can see the ordering key colum in empty.\n<a href=\"https://i.stack.imgur.com/zxdQz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zxdQz.png\" alt=\"enter image description here\" /></a></p>\n<p>Not sure what am I missing ? Any suggestions or pointers ?</p>\n"},{"tags":["java","maven","intellij-idea","junit"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1635844650,"post_id":69807927,"comment_id":123394777,"body_markdown":"Follow convention `&lt;sourceDirectory&gt;${project.basedir}/src&lt;/sourceDirectory&gt;\n        &lt;testSourceDirectory&gt;${project.basedir}/src/tests&lt;/testSourceDirectory&gt;`...","body":"Follow convention <code>&lt;sourceDirectory&gt;${project.basedir}&#47;src&lt;&#47;sourceDirectory&gt;         &lt;testSourceDirectory&gt;${project.basedir}&#47;src&#47;tests&lt;&#47;testSourc&zwnj;&#8203;eDirectory&gt;</code>..."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1635845089,"post_id":69807927,"comment_id":123394945,"body_markdown":"Furthermore name your test accordingly instead of trying to configuration maven-surefire-pulgin... just stick with the defaults..","body":"Furthermore name your test accordingly instead of trying to configuration maven-surefire-pulgin... just stick with the defaults.."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1635845153,"post_id":69807927,"comment_id":123394975,"body_markdown":"Apart from that you should use the dependency on the junit-jupiter-engine as documented https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html","body":"Apart from that you should use the dependency on the junit-jupiter-engine as documented <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html\" rel=\"nofollow noreferrer\">maven.apache.org/surefire/maven-surefire-plugin/examples/&hellip;</a>"},{"owner":{"account_id":165044,"reputation":4235,"user_id":388185,"accept_rate":84,"display_name":"Alkanshel"},"score":0,"creation_date":1639709254,"post_id":69807927,"comment_id":124424244,"body_markdown":"junit-jupiter-engine is not required after 5.4, see https://stackoverflow.com/a/55084036","body":"junit-jupiter-engine is not required after 5.4, see <a href=\"https://stackoverflow.com/a/55084036\">stackoverflow.com/a/55084036</a>"}],"answers":[{"tags":[],"owner":{"account_id":73395,"reputation":10664,"user_id":211369,"display_name":"Nishi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679647057,"creation_date":1679647057,"answer_id":75831503,"question_id":69807927,"body_markdown":"I had similar and other issues, when IntelliJ IDEA won&#39;t run unit tests, but &quot;mvn test -pl ...&quot; successfully runs them.\r\n\r\nAll of such issues had magically gone away after I did the following:\r\n1. open the &quot;Maven&quot; tool window in IntelliJ IDEA\r\n2. locate the related module with THE unit tests\r\n3. execute &quot;Lifecycle | install&quot; (&quot;Lifecycle | test&quot; should also work)\r\n4. then try again to run your unit tests - it started to work for me.\r\n\r\nAlso I disabled the &quot;Coverage&quot; plugin - my reasoning is that IDEA won&#39;t re-compile classes to instrument them for collection of code coverage.","title":"Error &quot;TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests&quot;. Getting this error while trying to run JUnit tests in a maven project","body":"<p>I had similar and other issues, when IntelliJ IDEA won't run unit tests, but &quot;mvn test -pl ...&quot; successfully runs them.</p>\n<p>All of such issues had magically gone away after I did the following:</p>\n<ol>\n<li>open the &quot;Maven&quot; tool window in IntelliJ IDEA</li>\n<li>locate the related module with THE unit tests</li>\n<li>execute &quot;Lifecycle | install&quot; (&quot;Lifecycle | test&quot; should also work)</li>\n<li>then try again to run your unit tests - it started to work for me.</li>\n</ol>\n<p>Also I disabled the &quot;Coverage&quot; plugin - my reasoning is that IDEA won't re-compile classes to instrument them for collection of code coverage.</p>\n"}],"owner":{"account_id":12247064,"reputation":31,"user_id":8938459,"display_name":"Yavuz Erkal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8581,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1699657350,"creation_date":1635844605,"question_id":69807927,"body_markdown":"I am trying to run tests in a project with Apache Maven 3.8.3, JDK 14, JUnit 5.8.1, jqwik 1.5.6\r\n\r\nI&#39;m using IntelliJ IDEA 2021.2.3 (Community Edition)\r\n\r\nThe libraries must be correctly imported but it still doesn&#39;t work.\r\nWhen I try to run simple tests I &#39;m getting the following error message:\r\n\r\n&quot;Internal Error occurred.\r\norg.junit.platform.commons.JUnitException: TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests&quot;\r\n\r\n\r\nHere is the pom.xml file. I&#39;d appreciate any advice and thanks in advance!\r\n\r\n``` &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;tests&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;tests&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\r\n\t&lt;build&gt;\r\n\t\t&lt;sourceDirectory&gt;${project.basedir}/src&lt;/sourceDirectory&gt;\r\n        &lt;testSourceDirectory&gt;${project.basedir}/src/tests&lt;/testSourceDirectory&gt;\r\n        \r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t\t&lt;include&gt;**/*Tests.java&lt;/include&gt;\r\n\t\t\t\t\t\t&lt;include&gt;**/*Examples.java&lt;/include&gt;\r\n\t\t\t\t\t\t&lt;include&gt;**/*Properties.java&lt;/include&gt;\r\n\t\t\t\t\t&lt;/includes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t\t\r\n\t&lt;/build&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.8.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n \t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.jqwik&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jqwik&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.5.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;maven.compiler.source&gt;14&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;14&lt;/maven.compiler.target&gt;\r\n\t&lt;/properties&gt;\r\n&lt;/project&gt;\r\n\r\n ```\r\n","title":"Error &quot;TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests&quot;. Getting this error while trying to run JUnit tests in a maven project","body":"<p>I am trying to run tests in a project with Apache Maven 3.8.3, JDK 14, JUnit 5.8.1, jqwik 1.5.6</p>\n<p>I'm using IntelliJ IDEA 2021.2.3 (Community Edition)</p>\n<p>The libraries must be correctly imported but it still doesn't work.\nWhen I try to run simple tests I 'm getting the following error message:</p>\n<p>&quot;Internal Error occurred.\norg.junit.platform.commons.JUnitException: TestEngine with ID 'junit-jupiter' failed to discover tests&quot;</p>\n<p>Here is the pom.xml file. I'd appreciate any advice and thanks in advance!</p>\n<pre><code>    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;tests&lt;/groupId&gt;\n    &lt;artifactId&gt;tests&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    \n    &lt;build&gt;\n        &lt;sourceDirectory&gt;${project.basedir}/src&lt;/sourceDirectory&gt;\n        &lt;testSourceDirectory&gt;${project.basedir}/src/tests&lt;/testSourceDirectory&gt;\n        \n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;**/*Tests.java&lt;/include&gt;\n                        &lt;include&gt;**/*Examples.java&lt;/include&gt;\n                        &lt;include&gt;**/*Properties.java&lt;/include&gt;\n                    &lt;/includes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        \n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;5.8.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.jqwik&lt;/groupId&gt;\n            &lt;artifactId&gt;jqwik&lt;/artifactId&gt;\n            &lt;version&gt;1.5.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;14&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;14&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","jdbc"],"comments":[{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":0,"creation_date":1425243152,"post_id":28798897,"comment_id":45872060,"body_markdown":"You&#39;re using an incorrect JDBC driver version. Try upgrading to the latest jar","body":"You&#39;re using an incorrect JDBC driver version. Try upgrading to the latest jar"}],"answers":[{"tags":[],"owner":{"account_id":677225,"reputation":6228,"user_id":676877,"display_name":"Brett Okken"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1425243226,"creation_date":1425243226,"answer_id":28798937,"question_id":28798897,"body_markdown":"This means that your mysql jdbc driver does not implement the jdbc methods added in jre 6, such as [isValid][1].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/sql/Connection.html#isValid-int-","title":"Java Exception java.lang.AbstractMethodError","body":"<p>This means that your mysql jdbc driver does not implement the jdbc methods added in jre 6, such as <a href=\"http://docs.oracle.com/javase/8/docs/api/java/sql/Connection.html#isValid-int-\" rel=\"nofollow\">isValid</a>.</p>\n"},{"tags":[],"owner":{"account_id":3085807,"reputation":21,"user_id":2612965,"display_name":"Homayoun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465775891,"creation_date":1465775891,"answer_id":37780272,"question_id":28798897,"body_markdown":"I upgraded the JDBC driver jar file to mysql-connector-java-6.0.2 and resolved this prolem. ","title":"Java Exception java.lang.AbstractMethodError","body":"<p>I upgraded the JDBC driver jar file to mysql-connector-java-6.0.2 and resolved this prolem. </p>\n"},{"tags":[],"owner":{"account_id":241271,"reputation":2178,"user_id":511976,"accept_rate":50,"display_name":"mhvelplund"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1496670027,"creation_date":1496670027,"answer_id":44370325,"question_id":28798897,"body_markdown":"If you provide a validation query, you can avoid upgrading your driver.","title":"Java Exception java.lang.AbstractMethodError","body":"<p>If you provide a validation query, you can avoid upgrading your driver.</p>\n"},{"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699652516,"post_id":77462853,"comment_id":136563338,"body_markdown":"after 8 years, for sure a *newer* version of the driver is the better solution","body":"after 8 years, for sure a <i>newer</i> version of the driver is the better solution"},{"owner":{"account_id":5352637,"reputation":742,"user_id":4266338,"accept_rate":86,"display_name":"Pixelstix"},"score":0,"creation_date":1699655644,"post_id":77462853,"comment_id":136563629,"body_markdown":"True.  However, sometimes you come across an old code base that has not been touched in years and you have to resurrect it, and can&#39;t update all of the dependencies at once.  e.g. I arrived here due to having to talk to an old version of a database, and the newer JDBC drivers recommend not talking to the old version of the database.","body":"True.  However, sometimes you come across an old code base that has not been touched in years and you have to resurrect it, and can&#39;t update all of the dependencies at once.  e.g. I arrived here due to having to talk to an old version of a database, and the newer JDBC drivers recommend not talking to the old version of the database."}],"tags":[],"owner":{"account_id":5352637,"reputation":742,"user_id":4266338,"accept_rate":86,"display_name":"Pixelstix"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699655697,"creation_date":1699650501,"answer_id":77462853,"question_id":28798897,"body_markdown":"Combining multiple answers and expanding on the information so all the information is in one place ...\r\n\r\nAs @BrettOkken mentions, JDK 1.6 added the `isValid` method on Connection, so your best bet is to find a newer version of the driver.\r\n\r\nTo expand on the answer from @mhvelplund ...\r\n\r\nYou can avoid upgrading your JDBC driver if you convince Tomcat&#39;s dbcp2 to not call the `isValid` method.  You can do this by specifying `validationQuery` (and maybe `validationQueryTimeout` and `maxConnLifetimeMillis` as well) in your `Resource` definition in your `context.xml` file (which gets put into Tomcat&#39;s `/conf/Catalina/localhost/{myappname}.xml`).\r\n\r\n    &lt;Resource name=&quot;jdbc/ajx&quot;\r\n        auth=&quot;Container&quot; type=&quot;javax.sql.DataSource&quot;\r\n        maxTotal=&quot;25&quot; maxIdle=&quot;30&quot; maxWaitMillis=&quot;10000&quot;\r\n        maxConnLifetimeMillis=&quot;300000&quot;\r\n        validationQuery=&quot;SELECT CURRENT_TIME()&quot;\r\n        validationQueryTimeout=&quot;1&quot;\r\n        driverClassName=&quot;{...}&quot;\r\n        url=&quot;jdbc:{...}&quot;/&gt;\r\n","title":"Java Exception java.lang.AbstractMethodError","body":"<p>Combining multiple answers and expanding on the information so all the information is in one place ...</p>\n<p>As @BrettOkken mentions, JDK 1.6 added the <code>isValid</code> method on Connection, so your best bet is to find a newer version of the driver.</p>\n<p>To expand on the answer from @mhvelplund ...</p>\n<p>You can avoid upgrading your JDBC driver if you convince Tomcat's dbcp2 to not call the <code>isValid</code> method.  You can do this by specifying <code>validationQuery</code> (and maybe <code>validationQueryTimeout</code> and <code>maxConnLifetimeMillis</code> as well) in your <code>Resource</code> definition in your <code>context.xml</code> file (which gets put into Tomcat's <code>/conf/Catalina/localhost/{myappname}.xml</code>).</p>\n<pre><code>&lt;Resource name=&quot;jdbc/ajx&quot;\n    auth=&quot;Container&quot; type=&quot;javax.sql.DataSource&quot;\n    maxTotal=&quot;25&quot; maxIdle=&quot;30&quot; maxWaitMillis=&quot;10000&quot;\n    maxConnLifetimeMillis=&quot;300000&quot;\n    validationQuery=&quot;SELECT CURRENT_TIME()&quot;\n    validationQueryTimeout=&quot;1&quot;\n    driverClassName=&quot;{...}&quot;\n    url=&quot;jdbc:{...}&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":5549996,"reputation":436,"user_id":4403441,"accept_rate":75,"display_name":"Rapidistul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5586,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":28798937,"answer_count":4,"score":2,"last_activity_date":1699655697,"creation_date":1425243027,"question_id":28798897,"body_markdown":"How can I solve this exception:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.AbstractMethodError: com.mysql.jdbc.Connection.isValid(I)Z\r\n    \tat org.apache.commons.dbcp2.DelegatingConnection.isValid(DelegatingConnection.java:914)\r\n    ...\r\nI read that this error is something about libraries/ jdk but I can&#39;t find a good way to solve it. I need some help from you. Thank you!","title":"Java Exception java.lang.AbstractMethodError","body":"<p>How can I solve this exception:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.AbstractMethodError: com.mysql.jdbc.Connection.isValid(I)Z\n    at org.apache.commons.dbcp2.DelegatingConnection.isValid(DelegatingConnection.java:914)\n...\n</code></pre>\n\n<p>I read that this error is something about libraries/ jdk but I can't find a good way to solve it. I need some help from you. Thank you!</p>\n"},{"tags":["java","postgresql"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1699656542,"post_id":77462657,"comment_id":136563714,"body_markdown":"Err, `java.sql.Date` and `javax.sql.Timestamp`?","body":"Err, <code>java.sql.Date</code> and <code>javax.sql.Timestamp</code>?"}],"answers":[{"comments":[{"owner":{"account_id":9513375,"reputation":16527,"user_id":7070613,"display_name":"Adrian Klaver"},"score":1,"creation_date":1699654305,"post_id":77462966,"comment_id":136563506,"body_markdown":"Basically what you have said is you should really store as `timestamptz` as that type does just that, stores the values at UTC.","body":"Basically what you have said is you should really store as <code>timestamptz</code> as that type does just that, stores the values at UTC."},{"owner":{"account_id":23453222,"reputation":81,"user_id":17509104,"display_name":"Michał Łukasik"},"score":1,"creation_date":1699654915,"post_id":77462966,"comment_id":136563554,"body_markdown":"Sure. But I would suggest to use Instant from java.time package rather than Timestamp class.","body":"Sure. But I would suggest to use Instant from java.time package rather than Timestamp class."}],"tags":[],"owner":{"account_id":23453222,"reputation":81,"user_id":17509104,"display_name":"Michał Łukasik"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699655147,"creation_date":1699652366,"answer_id":77462966,"question_id":77462657,"body_markdown":"I probably will store it without time zone or more precisely I would convert all input dates into UTC. So after u can convert it into any timezone.\r\n\r\nFor example one of the users first log in in UTC+1 but tomorrow change location to UTC+2. It will be easier to convert all the date afterwards.\r\n\r\nUse time package, like LocalDateTime as a data type. Like this\r\n```java\r\nZonedDateTime now = ZonedDateTime.now(ZoneId.systemDefault());\r\nZonedDateTime nowUTC = now.withZoneSameInstant(ZoneId.of(&quot;UTC&quot;));\r\nsave(nowUTC.toLocalDateTime());\r\n```\r\n\r\nOr simple use Instant class.\r\n```java\r\nvar instant = Instant.now();//get current timestamp\r\nvar zone = instant.atZone(ZoneId.of(&quot;UTC+1&quot;));//convert to any timezone\r\n```","title":"What is the most suitable data type (differences or considerations) in Java for mapping time and timestamp with time zone from PostgreSQL?","body":"<p>I probably will store it without time zone or more precisely I would convert all input dates into UTC. So after u can convert it into any timezone.</p>\n<p>For example one of the users first log in in UTC+1 but tomorrow change location to UTC+2. It will be easier to convert all the date afterwards.</p>\n<p>Use time package, like LocalDateTime as a data type. Like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZonedDateTime now = ZonedDateTime.now(ZoneId.systemDefault());\nZonedDateTime nowUTC = now.withZoneSameInstant(ZoneId.of(&quot;UTC&quot;));\nsave(nowUTC.toLocalDateTime());\n</code></pre>\n<p>Or simple use Instant class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>var instant = Instant.now();//get current timestamp\nvar zone = instant.atZone(ZoneId.of(&quot;UTC+1&quot;));//convert to any timezone\n</code></pre>\n"}],"owner":{"account_id":27805321,"reputation":3,"user_id":21228853,"display_name":"Omar Rold&#225;n"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77462966,"answer_count":1,"score":0,"last_activity_date":1699655147,"creation_date":1699647397,"question_id":77462657,"body_markdown":"I&#39;m developing an Spring Boot 3.1.5 (Java 17) based app which uses a PostgreSQL database, the app is intended to help employees with their attendance record. \r\n\r\nwhich is a good Java data type to map: \r\n\r\n- Time **with** time zone\r\n- Timestamp **with** time zone\r\n\r\nAlso, is it a good practice to use time zone data types for records ? \r\n\r\nAt first I&#39;ve created DDL and use spring&#39;s `spring.jpa.hibernate.ddl-auto=validate` in application.properties and that works ok. \r\n\r\nBut if I use `create`, and see the tables in PgAdmin the resulting data types are time/timestamp **without** zone","title":"What is the most suitable data type (differences or considerations) in Java for mapping time and timestamp with time zone from PostgreSQL?","body":"<p>I'm developing an Spring Boot 3.1.5 (Java 17) based app which uses a PostgreSQL database, the app is intended to help employees with their attendance record.</p>\n<p>which is a good Java data type to map:</p>\n<ul>\n<li>Time <strong>with</strong> time zone</li>\n<li>Timestamp <strong>with</strong> time zone</li>\n</ul>\n<p>Also, is it a good practice to use time zone data types for records ?</p>\n<p>At first I've created DDL and use spring's <code>spring.jpa.hibernate.ddl-auto=validate</code> in application.properties and that works ok.</p>\n<p>But if I use <code>create</code>, and see the tables in PgAdmin the resulting data types are time/timestamp <strong>without</strong> zone</p>\n"},{"tags":["java","spring","spring-boot","hibernate","enums"],"owner":{"account_id":56223,"reputation":4205,"user_id":168387,"accept_rate":55,"display_name":"edbras"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1699654649,"creation_date":1699654649,"question_id":77463101,"body_markdown":"How to create a configurable Hibernate converter to convert Java enum values to db values. I want to make this configurable through a spring property to indicate if the enum value should be converted to a DB String value or a DB integer (the enum ordinal value). \r\nI want it to be configurable such that it is backwards compatible, that is: when not configured, it is converted to an integer value, and through the spring property I can change that to db String values. The converter will be part of a shared external Java library that is used by several of my projects.\r\n\r\nI tried several things, and it seemed much harder than I thought.\r\n\r\nWhat I came up with is having 2 Converter, 1 for the integer and 1 for the string, and adding it to hibernate through a MetadataBuilderContributor.\r\n\r\nThe converters:\r\n```\r\npublic class ServerLogTypeDbConverter implements AttributeConverter&lt;ServerlogEntryType, String&gt; {\r\n    @Override\r\n    public String convertToDatabaseColumn(ServerlogEntryType attribute) {\r\n        return attribute.name();\r\n    }\r\n\r\n    @Override\r\n    public ServerlogEntryType convertToEntityAttribute(String dbData) {\r\n        return ServerlogEntryType.valueOf(dbData);\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class ServerLogTypeDbConverter implements AttributeConverter&lt;ServerlogEntryType, Integer&gt; {\r\n    @Override\r\n    public Integer convertToDatabaseColumn(ServerlogEntryType attribute) {\r\n        return attribute.ordinal();\r\n    }\r\n\r\n    @Override\r\n    public ServerlogEntryType convertToEntityAttribute(Integer dbData) {\r\n        return ServerlogEntryType.values()[ordinal];\r\n    }\r\n}\r\n```\r\n\r\nThen the challenge is to register one of these Hibernate converters, depending on the spring property, such that they are picked up. Through several posts in SO I came up with the following: when the spring-boot application starts, get informed before any bean is created, read the property, and then add a hibernate property that will use a hibernate MetadataBuilderContributor to add the converter, below the code snippets: \r\n\r\n```\r\npublic class MetadataBuilderContributerResolver implements ApplicationListener&lt;ApplicationEnvironmentPreparedEvent&gt; {\r\n    public void onApplicationEvent(ApplicationEnvironmentPreparedEvent event) {\r\n        var environment = event.getEnvironment();\r\n        var testValue = environment.getProperty(&quot;bla.test&quot;);\r\n\r\n        Class&lt;?&gt; metadataBuilderContributorClazz = switch (testValue) {\r\n            case &quot;string&quot; -&gt; AttributeConverterMetadataBuilderContributor.class;\r\n            default -&gt; throw new IllegalArgumentException(&quot;Unsupported builder: &quot; + testValue);\r\n        };\r\n\r\n        var className = metadataBuilderContributorClazz.getName();\r\n\r\n        var props = new Properties();\r\n        props.put(&quot;spring.jpa.properties.hibernate.metadata_builder_contributor&quot;, className);\r\n        environment.getPropertySources().addFirst(new PropertiesPropertySource(this.getClass().getName(), props));\r\n    }\r\n}\r\n```\r\n\r\nAnd: \r\n```\r\npublic class AttributeConverterMetadataBuilderContributor implements MetadataBuilderContributor {\r\n    @Override\r\n    public void contribute(MetadataBuilder metadataBuilder) {\r\n        metadataBuilder.applyAttributeConverter(ServerLogTypeDbConverter.class);\r\n    }\r\n}\r\n```\r\n\r\nThis works, but has 2 major downsides: \r\n- The Spring listener has to be added by code to the Spring boot application (annotations are read by a Spring bean and they do not exist yet). This is difficult in an external lib where this converter will be contained.\r\n- The interface MetadataBuilderContributor is deprecated. I read that I need to use the FunctionContributor, but no idea how ...\r\n\r\n\r\nPlease some advice, as I am a bit stuck now &#128556;\r\n\r\n \r\n","title":"Configurable Hibernate enum Converter through Spring property?","body":"<p>How to create a configurable Hibernate converter to convert Java enum values to db values. I want to make this configurable through a spring property to indicate if the enum value should be converted to a DB String value or a DB integer (the enum ordinal value).\nI want it to be configurable such that it is backwards compatible, that is: when not configured, it is converted to an integer value, and through the spring property I can change that to db String values. The converter will be part of a shared external Java library that is used by several of my projects.</p>\n<p>I tried several things, and it seemed much harder than I thought.</p>\n<p>What I came up with is having 2 Converter, 1 for the integer and 1 for the string, and adding it to hibernate through a MetadataBuilderContributor.</p>\n<p>The converters:</p>\n<pre><code>public class ServerLogTypeDbConverter implements AttributeConverter&lt;ServerlogEntryType, String&gt; {\n    @Override\n    public String convertToDatabaseColumn(ServerlogEntryType attribute) {\n        return attribute.name();\n    }\n\n    @Override\n    public ServerlogEntryType convertToEntityAttribute(String dbData) {\n        return ServerlogEntryType.valueOf(dbData);\n    }\n}\n</code></pre>\n<pre><code>public class ServerLogTypeDbConverter implements AttributeConverter&lt;ServerlogEntryType, Integer&gt; {\n    @Override\n    public Integer convertToDatabaseColumn(ServerlogEntryType attribute) {\n        return attribute.ordinal();\n    }\n\n    @Override\n    public ServerlogEntryType convertToEntityAttribute(Integer dbData) {\n        return ServerlogEntryType.values()[ordinal];\n    }\n}\n</code></pre>\n<p>Then the challenge is to register one of these Hibernate converters, depending on the spring property, such that they are picked up. Through several posts in SO I came up with the following: when the spring-boot application starts, get informed before any bean is created, read the property, and then add a hibernate property that will use a hibernate MetadataBuilderContributor to add the converter, below the code snippets:</p>\n<pre><code>public class MetadataBuilderContributerResolver implements ApplicationListener&lt;ApplicationEnvironmentPreparedEvent&gt; {\n    public void onApplicationEvent(ApplicationEnvironmentPreparedEvent event) {\n        var environment = event.getEnvironment();\n        var testValue = environment.getProperty(&quot;bla.test&quot;);\n\n        Class&lt;?&gt; metadataBuilderContributorClazz = switch (testValue) {\n            case &quot;string&quot; -&gt; AttributeConverterMetadataBuilderContributor.class;\n            default -&gt; throw new IllegalArgumentException(&quot;Unsupported builder: &quot; + testValue);\n        };\n\n        var className = metadataBuilderContributorClazz.getName();\n\n        var props = new Properties();\n        props.put(&quot;spring.jpa.properties.hibernate.metadata_builder_contributor&quot;, className);\n        environment.getPropertySources().addFirst(new PropertiesPropertySource(this.getClass().getName(), props));\n    }\n}\n</code></pre>\n<p>And:</p>\n<pre><code>public class AttributeConverterMetadataBuilderContributor implements MetadataBuilderContributor {\n    @Override\n    public void contribute(MetadataBuilder metadataBuilder) {\n        metadataBuilder.applyAttributeConverter(ServerLogTypeDbConverter.class);\n    }\n}\n</code></pre>\n<p>This works, but has 2 major downsides:</p>\n<ul>\n<li>The Spring listener has to be added by code to the Spring boot application (annotations are read by a Spring bean and they do not exist yet). This is difficult in an external lib where this converter will be contained.</li>\n<li>The interface MetadataBuilderContributor is deprecated. I read that I need to use the FunctionContributor, but no idea how ...</li>\n</ul>\n<p>Please some advice, as I am a bit stuck now 😬</p>\n"},{"tags":["java","performance","hashmap"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1699656769,"post_id":77462298,"comment_id":136563730,"body_markdown":"What is `vehicleMap.get(vin4,lPlate)`? There is no such method in `HashMap`.","body":"What is <code>vehicleMap.get(vin4,lPlate)</code>? There is no such method in <code>HashMap</code>."}],"answers":[{"tags":[],"owner":{"account_id":23453222,"reputation":81,"user_id":17509104,"display_name":"Michał Łukasik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699654327,"creation_date":1699654327,"answer_id":77463092,"question_id":77462298,"body_markdown":"So the answer yes and the solution is to read HashMap documentation or some tutorials.\r\n\r\nHashMap is a map based on hashing of the keys. It supports O(1) get/put operations. [Keys must have consistent implementations of hashCode() and equals() for this to work.][1]. So in your code key VehicleKey must overwrite hashCode/equals methods.\r\n\r\nhashCode method example\r\n```java\r\n@Override\r\npublic int hashCode() {\r\n    int result = vin4 != null ? vin4.hashCode() : 0;\r\n    result = 31 * result + (lPlate != null ? lPlate.hashCode() : 0);\r\n    return result;\r\n}\r\n```\r\n\r\nand more important one. Equals method:\r\n```java\r\n@Override\r\npublic boolean equals(Object o) {\r\n    if (this == o) return true;//check if points to same object instance\r\n    if (o == null || getClass() != o.getClass()) return false;//if one of object is null or different class\r\n\r\n    VehicleKey that = (VehicleKey) o;\r\n    if (Objects.equals(vin4, that.vin4) &amp;&amp; Objects.equals(lPlate, that.lPlate)) {\r\n        return true;\r\n    }\r\n    if (Objects.equals(vin4, that.vin4) &amp;&amp; lPlate == null || that.lPlate == null) {\r\n        return true;\r\n    }\r\n    return Objects.equals(lPlate, that.lPlate) &amp;&amp; vin4 == null || that.vin4 == null;\r\n}\r\n```\r\nFor sure that if&#39;s must can be simplify.\r\n\r\n  [1]: https://docs.oracle.com/javase/6/docs/api/java/lang/Object.html#hashCode()","title":"Improving hashmap query performance when input query doesnt match the data","body":"<p>So the answer yes and the solution is to read HashMap documentation or some tutorials.</p>\n<p>HashMap is a map based on hashing of the keys. It supports O(1) get/put operations. <a href=\"https://docs.oracle.com/javase/6/docs/api/java/lang/Object.html#hashCode()\" rel=\"nofollow noreferrer\">Keys must have consistent implementations of hashCode() and equals() for this to work.</a>. So in your code key VehicleKey must overwrite hashCode/equals methods.</p>\n<p>hashCode method example</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic int hashCode() {\n    int result = vin4 != null ? vin4.hashCode() : 0;\n    result = 31 * result + (lPlate != null ? lPlate.hashCode() : 0);\n    return result;\n}\n</code></pre>\n<p>and more important one. Equals method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic boolean equals(Object o) {\n    if (this == o) return true;//check if points to same object instance\n    if (o == null || getClass() != o.getClass()) return false;//if one of object is null or different class\n\n    VehicleKey that = (VehicleKey) o;\n    if (Objects.equals(vin4, that.vin4) &amp;&amp; Objects.equals(lPlate, that.lPlate)) {\n        return true;\n    }\n    if (Objects.equals(vin4, that.vin4) &amp;&amp; lPlate == null || that.lPlate == null) {\n        return true;\n    }\n    return Objects.equals(lPlate, that.lPlate) &amp;&amp; vin4 == null || that.vin4 == null;\n}\n</code></pre>\n<p>For sure that if's must can be simplify.</p>\n"}],"owner":{"account_id":9622459,"reputation":65,"user_id":7143214,"display_name":"Matrix"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1699654327,"creation_date":1699642771,"question_id":77462298,"body_markdown":"Consider this data stored in a hashmap:\r\n\r\n| VIN last 4 | License plate | Details |\r\n| -------- | -------- | ------- |\r\n| 1234   |   | VehicleObject1 |\r\n| 2222   | ABC123   | VehicleObject2 |\r\n| 5678   | ABC123   | VehicleObject3|\r\n| 5678   | XYZ123   | VehicleObject4 |\r\n\r\n```\r\nclass VehicleKey{\r\n String vin4;\r\n String lPlate;\r\n  public VehicleKey(String vin4, String lPlate){\r\n   this.vin4=vin4;\r\n   this.lPlate=lPlate;\r\n  }\r\n}\r\n```\r\n\r\n```\r\nHashMap&lt;VehicleKey,Object&gt; vehicleMap = new HashMap&lt;&gt;();\r\nvehicleMap.put(new VehicleKey(&quot;1234&quot;,null),VehicleObject1);\r\nvehicleMap.put(new VehicleKey(&quot;2222&quot;,&quot;ABC123&quot;),VehicleObject2);\r\nvehicleMap.put(new VehicleKey(&quot;5678&quot;,&quot;ABC123&quot;),VehicleObject3);\r\nvehicleMap.put(new VehicleKey(&quot;2222&quot;,&quot;XYZ123&quot;),VehicleObject4);\r\n```\r\n\r\n```\r\nVehicle findVehicle(String vin4, String lPlate){\r\n Vehicle vehicle = vehicleMap.get(vin4,lPlate);\r\n if (vehicle==null)\r\n  vehicle = vehicleMap.get(vin4,null)\r\n return vehicle;\r\n}\r\n\r\n```\r\n\r\n\r\n| Input Query | Expected Return |\r\n| -------- | -------- |\r\n| `findVehicle(&quot;1234&quot;,&quot;Blah123&quot;)`   | VehicleObject1   |\r\n| `findVehicle(&quot;1234&quot;,null)`   | VehicleObject1   |\r\n| `findVehicle(&quot;2222&quot;,&quot;Blash123&quot;)`   | null   |\r\n| `findVehicle(&quot;2222&quot;,&quot;ABC123&quot;)`   | VehicleObject2   |\r\n| `findVehicle(&quot;5678&quot;,&quot;ABC123&quot;)`   | VehicleObject3   |\r\n| `findVehicle(&quot;5678&quot;,null)`   | null |\r\n\r\nIs there a more efficient way to query the Hashmap so that if one of the fields in the key object is null, its treated as an Any Match?\r\nRight now, I have to query twice to make it work. Is there a way to make this faster so that the hashmap is not queried twice?\r\n","title":"Improving hashmap query performance when input query doesnt match the data","body":"<p>Consider this data stored in a hashmap:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>VIN last 4</th>\n<th>License plate</th>\n<th>Details</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1234</td>\n<td></td>\n<td>VehicleObject1</td>\n</tr>\n<tr>\n<td>2222</td>\n<td>ABC123</td>\n<td>VehicleObject2</td>\n</tr>\n<tr>\n<td>5678</td>\n<td>ABC123</td>\n<td>VehicleObject3</td>\n</tr>\n<tr>\n<td>5678</td>\n<td>XYZ123</td>\n<td>VehicleObject4</td>\n</tr>\n</tbody>\n</table>\n</div>\n<pre><code>class VehicleKey{\n String vin4;\n String lPlate;\n  public VehicleKey(String vin4, String lPlate){\n   this.vin4=vin4;\n   this.lPlate=lPlate;\n  }\n}\n</code></pre>\n<pre><code>HashMap&lt;VehicleKey,Object&gt; vehicleMap = new HashMap&lt;&gt;();\nvehicleMap.put(new VehicleKey(&quot;1234&quot;,null),VehicleObject1);\nvehicleMap.put(new VehicleKey(&quot;2222&quot;,&quot;ABC123&quot;),VehicleObject2);\nvehicleMap.put(new VehicleKey(&quot;5678&quot;,&quot;ABC123&quot;),VehicleObject3);\nvehicleMap.put(new VehicleKey(&quot;2222&quot;,&quot;XYZ123&quot;),VehicleObject4);\n</code></pre>\n<pre><code>Vehicle findVehicle(String vin4, String lPlate){\n Vehicle vehicle = vehicleMap.get(vin4,lPlate);\n if (vehicle==null)\n  vehicle = vehicleMap.get(vin4,null)\n return vehicle;\n}\n\n</code></pre>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Input Query</th>\n<th>Expected Return</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>findVehicle(&quot;1234&quot;,&quot;Blah123&quot;)</code></td>\n<td>VehicleObject1</td>\n</tr>\n<tr>\n<td><code>findVehicle(&quot;1234&quot;,null)</code></td>\n<td>VehicleObject1</td>\n</tr>\n<tr>\n<td><code>findVehicle(&quot;2222&quot;,&quot;Blash123&quot;)</code></td>\n<td>null</td>\n</tr>\n<tr>\n<td><code>findVehicle(&quot;2222&quot;,&quot;ABC123&quot;)</code></td>\n<td>VehicleObject2</td>\n</tr>\n<tr>\n<td><code>findVehicle(&quot;5678&quot;,&quot;ABC123&quot;)</code></td>\n<td>VehicleObject3</td>\n</tr>\n<tr>\n<td><code>findVehicle(&quot;5678&quot;,null)</code></td>\n<td>null</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Is there a more efficient way to query the Hashmap so that if one of the fields in the key object is null, its treated as an Any Match?\nRight now, I have to query twice to make it work. Is there a way to make this faster so that the hashmap is not queried twice?</p>\n"},{"tags":["java","space-complexity"],"comments":[{"owner":{"account_id":13801376,"reputation":145,"user_id":9961286,"display_name":"0xNIC"},"score":0,"creation_date":1699611282,"post_id":77452175,"comment_id":136556664,"body_markdown":"You have at least one ```while-loop``` inside a ```for-loop```. This means that *asymptotically* you are running a ```O(n^2)``` code.","body":"You have at least one <code>while-loop</code> inside a <code>for-loop</code>. This means that <i>asymptotically</i> you are running a <code>O(n^2)</code> code."}],"owner":{"account_id":29862803,"reputation":1,"user_id":22886109,"display_name":"Aryan Gurung"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1699654311,"creation_date":1699524082,"question_id":77452175,"body_markdown":"This code is just for simplifying the path, problem of leetcode.\r\n\r\n```java\r\nString res = &quot;&quot;;\r\nres+=&quot;/&quot;;\r\n\r\nint n = path.length();\r\nStack&lt;String&gt; str = new Stack&lt;&gt;();\r\n\r\nfor(int i = 0; i&lt;n; i++) {\r\n\tString dis = &quot;&quot;;\r\n\r\n\twhile(i&lt;n &amp;&amp; path.charAt(i) == &#39;/&#39;) {\r\n\t\ti++;\r\n\t}\r\n\twhile(i&lt;n &amp;&amp; path.charAt(i) != &#39;/&#39;) {\r\n\t\tdis+=path.charAt(i);\r\n\t\ti++;\r\n\t}\r\n\r\n\tif(dis.equals(&quot;..&quot;)) {\r\n\t\tif(!str.isEmpty()) {\r\n\t\t\tstr.pop();\r\n\t\t}\r\n\t} else if(dis.equals(&quot;.&quot;)) {\r\n\t\tcontinue;\r\n\t} else if(dis.length() != 0) {\r\n\t\tstr.push(dis);\r\n\t}\r\n}\r\n\r\nStack&lt;String&gt; str2 = new Stack&lt;&gt;();\r\n\r\nwhile(!str.isEmpty()) {\r\n\tstr2.push(str.pop());\r\n}\r\n\r\nwhile(!str2.isEmpty()) {\r\n\tif(str2.size() != 1) {\r\n\t\tres+= str2.pop()+&quot;/&quot;;\r\n\t} else {\r\n\t\tres+=str2.pop();\r\n\t}\r\n}\r\nreturn res;\r\n```\r\nI want to know the space complexity of this code cause I am bit confused, in my opinion it&#39;s O(1) or O(N).","title":"Space Complexity of this leetcode problem?","body":"<p>This code is just for simplifying the path, problem of leetcode.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String res = &quot;&quot;;\nres+=&quot;/&quot;;\n\nint n = path.length();\nStack&lt;String&gt; str = new Stack&lt;&gt;();\n\nfor(int i = 0; i&lt;n; i++) {\n    String dis = &quot;&quot;;\n\n    while(i&lt;n &amp;&amp; path.charAt(i) == '/') {\n        i++;\n    }\n    while(i&lt;n &amp;&amp; path.charAt(i) != '/') {\n        dis+=path.charAt(i);\n        i++;\n    }\n\n    if(dis.equals(&quot;..&quot;)) {\n        if(!str.isEmpty()) {\n            str.pop();\n        }\n    } else if(dis.equals(&quot;.&quot;)) {\n        continue;\n    } else if(dis.length() != 0) {\n        str.push(dis);\n    }\n}\n\nStack&lt;String&gt; str2 = new Stack&lt;&gt;();\n\nwhile(!str.isEmpty()) {\n    str2.push(str.pop());\n}\n\nwhile(!str2.isEmpty()) {\n    if(str2.size() != 1) {\n        res+= str2.pop()+&quot;/&quot;;\n    } else {\n        res+=str2.pop();\n    }\n}\nreturn res;\n</code></pre>\n<p>I want to know the space complexity of this code cause I am bit confused, in my opinion it's O(1) or O(N).</p>\n"},{"tags":["java","compilation","package"],"comments":[{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":0,"creation_date":1699635218,"post_id":77461598,"comment_id":136560969,"body_markdown":"might try `-sourcepath .`","body":"might try <code>-sourcepath .</code>"}],"answers":[{"tags":[],"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1699635529,"creation_date":1699635098,"answer_id":77461638,"question_id":77461598,"body_markdown":"Try `javac stacks/*.java`. That&#39;s all you need.","title":"How do you compile all classes in a package from the command line?","body":"<p>Try <code>javac stacks/*.java</code>. That's all you need.</p>\n"}],"owner":{"account_id":17876398,"reputation":117,"user_id":12986334,"display_name":"idkusrname126"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77461638,"answer_count":1,"score":1,"last_activity_date":1699654188,"creation_date":1699634656,"question_id":77461598,"body_markdown":"I have three separate class files in a package called stacks. How can I (recursively?) compile every class so I don&#39;t always have to type the following:\r\n\r\n    javac stacks/Node.java stacks/LinkedList.java stacks/LLTestCase01.java\r\n\r\nThere will be more classes added so I don&#39;t want to keep expanding this compile list.\r\n","title":"How do you compile all classes in a package from the command line?","body":"<p>I have three separate class files in a package called stacks. How can I (recursively?) compile every class so I don't always have to type the following:</p>\n<pre><code>javac stacks/Node.java stacks/LinkedList.java stacks/LLTestCase01.java\n</code></pre>\n<p>There will be more classes added so I don't want to keep expanding this compile list.</p>\n"},{"tags":["java","spring-boot","querydsl","spring-boot-3","hibernate-6.x"],"owner":{"account_id":10937131,"reputation":11,"user_id":8038422,"display_name":"Poushali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699653486,"creation_date":1699653486,"question_id":77463041,"body_markdown":"How to register nested function using FunctionContributor. I am using a function in querydsl like below: \r\nExpressions.simple template(String[].class,&quot;array_remove(array_agg({0}),{1})&quot;)\r\n\r\nIf I register array_remove and array_agg functions separately using functionContributor in hibernate 6, the above nested function might not work\r\n\r\nI tried to register the two separate functions. But it is jdbc mapping not found.","title":"Register custom function in hibernate6 and call functions in nested manner","body":"<p>How to register nested function using FunctionContributor. I am using a function in querydsl like below:\nExpressions.simple template(String[].class,&quot;array_remove(array_agg({0}),{1})&quot;)</p>\n<p>If I register array_remove and array_agg functions separately using functionContributor in hibernate 6, the above nested function might not work</p>\n<p>I tried to register the two separate functions. But it is jdbc mapping not found.</p>\n"},{"tags":["java","junit","slf4j","logback"],"answers":[{"comments":[{"owner":{"account_id":1589916,"reputation":2586,"user_id":1473481,"accept_rate":100,"display_name":"etech"},"score":17,"creation_date":1464382356,"post_id":29077499,"comment_id":62480523,"body_markdown":"Note, if you are using logback classic + slf4j you need to use `ILoggingEvent` instead of `LoggingEvent`. That&#39;s what worked for me.","body":"Note, if you are using logback classic + slf4j you need to use <code>ILoggingEvent</code> instead of <code>LoggingEvent</code>. That&#39;s what worked for me."},{"owner":{"account_id":3608976,"reputation":413,"user_id":3010484,"display_name":"hipokito"},"score":7,"creation_date":1479316573,"post_id":29077499,"comment_id":68508755,"body_markdown":"@Evgeniy Dorofeev Could you please show how to configure logback-test.xml?","body":"@Evgeniy Dorofeev Could you please show how to configure logback-test.xml?"},{"owner":{"account_id":2142526,"reputation":1962,"user_id":1900859,"accept_rate":80,"display_name":"Andrii Karaivanskyi"},"score":2,"creation_date":1487327338,"post_id":29077499,"comment_id":71745993,"body_markdown":"I assume you need to clear `events` after each test execution.","body":"I assume you need to clear <code>events</code> after each test execution."},{"owner":{"account_id":274077,"reputation":13556,"user_id":566092,"accept_rate":72,"display_name":"coding_idiot"},"score":3,"creation_date":1499378420,"post_id":29077499,"comment_id":76894479,"body_markdown":"@hipokito You can use the one mentioned [here] (https://logback.qos.ch/manual/configuration.html) in `sample0.xml`. Don&#39;t forget to change the appender to your implementaion","body":"@hipokito You can use the one mentioned [here] (<a href=\"https://logback.qos.ch/manual/configuration.html\" rel=\"nofollow noreferrer\">logback.qos.ch/manual/configuration.html</a>) in <code>sample0.xml</code>. Don&#39;t forget to change the appender to your implementaion"},{"owner":{"account_id":6347246,"reputation":778,"user_id":4927387,"accept_rate":66,"display_name":"Bhavya Arora"},"score":0,"creation_date":1517435860,"post_id":29077499,"comment_id":84100512,"body_markdown":"@EvgeniyDorofeev can you help me with this ? https://stackoverflow.com/questions/48551083/custom-appenderbase-not-being-called","body":"@EvgeniyDorofeev can you help me with this ? <a href=\"https://stackoverflow.com/questions/48551083/custom-appenderbase-not-being-called\" title=\"custom appenderbase not being called\">stackoverflow.com/questions/48551083/&hellip;</a>"},{"owner":{"account_id":4014197,"reputation":131,"user_id":5348370,"display_name":"Ghilteras"},"score":0,"creation_date":1571949488,"post_id":29077499,"comment_id":103418545,"body_markdown":"The problem with writing a custom appender is that you won&#39;t see the logs on the console anymore because you cannot extend `AppenderBase` and `OutputStreamAppender` at the same time","body":"The problem with writing a custom appender is that you won&#39;t see the logs on the console anymore because you cannot extend <code>AppenderBase</code> and <code>OutputStreamAppender</code> at the same time"},{"owner":{"account_id":1164600,"reputation":5578,"user_id":1143482,"accept_rate":63,"display_name":"jpganz18"},"score":0,"creation_date":1582800960,"post_id":29077499,"comment_id":106905740,"body_markdown":"which package should I import AppenderBase from?","body":"which package should I import AppenderBase from?"},{"owner":{"account_id":13266298,"reputation":1211,"user_id":9578985,"display_name":"Jerald Baker"},"score":0,"creation_date":1592220926,"post_id":29077499,"comment_id":110337788,"body_markdown":"How do u add it to the logback.xml","body":"How do u add it to the logback.xml"},{"owner":{"account_id":8589695,"reputation":531,"user_id":6434650,"display_name":"Muhammad Arslan Akhtar"},"score":0,"creation_date":1643757597,"post_id":29077499,"comment_id":125423732,"body_markdown":"Do we still need to add start() and stop() after adding testAppender in the logback-test.xml? I tried calling TestAppender.start() and TestAppender.stop() but it has no effect! The TestAppender seem to be always running","body":"Do we still need to add start() and stop() after adding testAppender in the logback-test.xml? I tried calling TestAppender.start() and TestAppender.stop() but it has no effect! The TestAppender seem to be always running"},{"owner":{"account_id":8589695,"reputation":531,"user_id":6434650,"display_name":"Muhammad Arslan Akhtar"},"score":0,"creation_date":1643757714,"post_id":29077499,"comment_id":125423754,"body_markdown":"this is how to configure logback-test.xml with TestAppender class\n\n`&lt;configuration&gt;\n    &lt;appender name=&quot;testAppender&quot; class=&quot;fullClassPath.TestAppender&quot;/&gt;\n    &lt;root level=&quot;DEBUG&quot;&gt;\n        &lt;appender-ref ref=&quot;testAppender&quot;/&gt;\n    &lt;/root&gt;\n    &lt;root level=&quot;ERROR&quot;&gt;\n        &lt;appender-ref ref=&quot;testAppender&quot;/&gt;\n    &lt;/root&gt;\n    &lt;root level=&quot;INFO&quot;&gt;\n        &lt;appender-ref ref=&quot;testAppender&quot;/&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;`","body":"this is how to configure logback-test.xml with TestAppender class  <code>&lt;configuration&gt;     &lt;appender name=&quot;testAppender&quot; class=&quot;fullClassPath.TestAppender&quot;&#47;&gt;     &lt;root level=&quot;DEBUG&quot;&gt;         &lt;appender-ref ref=&quot;testAppender&quot;&#47;&gt;     &lt;&#47;root&gt;     &lt;root level=&quot;ERROR&quot;&gt;         &lt;appender-ref ref=&quot;testAppender&quot;&#47;&gt;     &lt;&#47;root&gt;     &lt;root level=&quot;INFO&quot;&gt;         &lt;appender-ref ref=&quot;testAppender&quot;&#47;&gt;     &lt;&#47;root&gt; &lt;&#47;configuration&gt;</code>"}],"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"comment_count":10,"down_vote_count":2,"up_vote_count":57,"is_accepted":true,"score":55,"last_activity_date":1599576113,"creation_date":1426510931,"answer_id":29077499,"question_id":29076981,"body_markdown":"You can create a custom appender \r\n\r\n    public class TestAppender extends AppenderBase&lt;LoggingEvent&gt; {\r\n    \tstatic List&lt;LoggingEvent&gt; events = new ArrayList&lt;&gt;();\r\n    \t\r\n    \t@Override\r\n    \tprotected void append(LoggingEvent e) {\r\n    \t\tevents.add(e);\r\n    \t}\r\n    }\r\n\r\nand configure logback-test.xml to use it. Now we can check logging events from our test:\r\n\r\n\t@Test\r\n\tpublic void test() {\r\n\t\t...\r\n\t\tAssert.assertEquals(1, TestAppender.events.size());\r\n\t\t...\r\n\t}\r\n\r\nNOTE: Use `ILoggingEvent` if you do not get any output - see the comment section for the reasoning.\r\n\r\n\r\n","title":"How to intercept SLF4J (with logback) logging via a JUnit test?","body":"<p>You can create a custom appender</p>\n<pre><code>public class TestAppender extends AppenderBase&lt;LoggingEvent&gt; {\n    static List&lt;LoggingEvent&gt; events = new ArrayList&lt;&gt;();\n    \n    @Override\n    protected void append(LoggingEvent e) {\n        events.add(e);\n    }\n}\n</code></pre>\n<p>and configure logback-test.xml to use it. Now we can check logging events from our test:</p>\n<pre><code>@Test\npublic void test() {\n    ...\n    Assert.assertEquals(1, TestAppender.events.size());\n    ...\n}\n</code></pre>\n<p>NOTE: Use <code>ILoggingEvent</code> if you do not get any output - see the comment section for the reasoning.</p>\n"},{"comments":[{"owner":{"account_id":405356,"reputation":31611,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"score":0,"creation_date":1456915894,"post_id":35733904,"comment_id":59163465,"body_markdown":"Thanks for this alternative answer! It looks very useful and I will quite-likely try this approach as well in the future! Unfortunately, I have already accepted the other answer which is also correct.","body":"Thanks for this alternative answer! It looks very useful and I will quite-likely try this approach as well in the future! Unfortunately, I have already accepted the other answer which is also correct."},{"owner":{"account_id":1870308,"reputation":5286,"user_id":1692706,"accept_rate":77,"display_name":"Debosmit Ray"},"score":0,"creation_date":1522979906,"post_id":35733904,"comment_id":86379742,"body_markdown":"Complete example using lidalia&#39;s `slf4j-test` package can be found here: https://github.com/jaegertracing/jaeger-client-java/pull/378/files","body":"Complete example using lidalia&#39;s <code>slf4j-test</code> package can be found here: <a href=\"https://github.com/jaegertracing/jaeger-client-java/pull/378/files\" rel=\"nofollow noreferrer\">github.com/jaegertracing/jaeger-client-java/pull/378/files</a>"},{"owner":{"account_id":1999340,"reputation":1210,"user_id":1790753,"accept_rate":75,"display_name":"Jesus H"},"score":2,"creation_date":1577991295,"post_id":35733904,"comment_id":105304877,"body_markdown":"This solution works fine if you are not using Spring. If you use Spring, it will throw a class not found exception (JoranConfigurator).","body":"This solution works fine if you are not using Spring. If you use Spring, it will throw a class not found exception (JoranConfigurator)."}],"tags":[],"owner":{"account_id":5200548,"reputation":999,"user_id":4160073,"display_name":"Oleg Majewski"},"comment_count":3,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1658824987,"creation_date":1456867751,"answer_id":35733904,"question_id":29076981,"body_markdown":"You can use slf4j-test from http://projects.lidalia.org.uk/slf4j-test/.\r\nIt replaces the entire logback slf4j implementation by it&#39;s own slf4j api implementation for tests and provides an api to assert against logging events.\r\n\r\nexample:\r\n\r\n```xml\r\n&lt;build&gt;\r\n  &lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n      &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n      &lt;configuration&gt;\r\n        &lt;classpathDependencyExcludes&gt;\r\n          &lt;classpathDependencyExcludes&gt;ch.qos.logback:logback-classic&lt;/classpathDependencyExcludes&gt;\r\n        &lt;/classpathDependencyExcludes&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n  &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\n```java\r\npublic class Slf4jUser {\r\n    \r\n    private static final Logger logger = LoggerFactory.getLogger(Slf4jUser.class);\r\n    \r\n    public void aMethodThatLogs() {\r\n        logger.info(&quot;Hello World!&quot;);\r\n    }\r\n}\r\n```\r\n```java    \r\npublic class Slf4jUserTest {\r\n    \r\n    Slf4jUser slf4jUser = new Slf4jUser();\r\n    TestLogger logger = TestLoggerFactory.getTestLogger(Slf4jUser.class);\r\n    \r\n    @Test\r\n    public void aMethodThatLogsLogsAsExpected() {\r\n        slf4jUser.aMethodThatLogs();\r\n    \r\n        assertThat(logger.getLoggingEvents(), is(asList(info(&quot;Hello World!&quot;))));\r\n    }\r\n    \r\n    @After\r\n    public void clearLoggers() {\r\n        TestLoggerFactory.clear();\r\n    }\r\n}\r\n```","title":"How to intercept SLF4J (with logback) logging via a JUnit test?","body":"<p>You can use slf4j-test from <a href=\"http://projects.lidalia.org.uk/slf4j-test/\" rel=\"nofollow noreferrer\">http://projects.lidalia.org.uk/slf4j-test/</a>.\nIt replaces the entire logback slf4j implementation by it's own slf4j api implementation for tests and provides an api to assert against logging events.</p>\n<p>example:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n      &lt;configuration&gt;\n        &lt;classpathDependencyExcludes&gt;\n          &lt;classpathDependencyExcludes&gt;ch.qos.logback:logback-classic&lt;/classpathDependencyExcludes&gt;\n        &lt;/classpathDependencyExcludes&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Slf4jUser {\n    \n    private static final Logger logger = LoggerFactory.getLogger(Slf4jUser.class);\n    \n    public void aMethodThatLogs() {\n        logger.info(&quot;Hello World!&quot;);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Slf4jUserTest {\n    \n    Slf4jUser slf4jUser = new Slf4jUser();\n    TestLogger logger = TestLoggerFactory.getTestLogger(Slf4jUser.class);\n    \n    @Test\n    public void aMethodThatLogsLogsAsExpected() {\n        slf4jUser.aMethodThatLogs();\n    \n        assertThat(logger.getLoggingEvents(), is(asList(info(&quot;Hello World!&quot;))));\n    }\n    \n    @After\n    public void clearLoggers() {\n        TestLoggerFactory.clear();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2791789,"reputation":1456,"user_id":2402849,"display_name":"daemon_nio"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1477818001,"creation_date":1477818001,"answer_id":40327467,"question_id":29076981,"body_markdown":"I had problems when testing logs line like: **LOGGER.error(message, exception)**.\r\n\r\nThe solution described in http://projects.lidalia.org.uk/slf4j-test/ tries to assert as well on the exception and it is not easy (and in my opinion worthless) to recreate the stacktrace.\r\n\r\nI resolved in this way:\r\n\r\n    import org.junit.Test;\r\n    import org.slf4j.Logger;\r\n    import uk.org.lidalia.slf4jext.LoggerFactory;\r\n    import uk.org.lidalia.slf4jtest.TestLogger;\r\n    import uk.org.lidalia.slf4jtest.TestLoggerFactory;\r\n    \r\n    import static org.assertj.core.api.Assertions.assertThat;\r\n    import static org.assertj.core.groups.Tuple.tuple;\r\n    import static uk.org.lidalia.slf4jext.Level.ERROR;\r\n    import static uk.org.lidalia.slf4jext.Level.INFO;\r\n    \r\n    \r\n    public class Slf4jLoggerTest {\r\n    \r\n        private static final Logger LOGGER = LoggerFactory.getLogger(Slf4jLoggerTest.class);\r\n    \r\n    \r\n        private void methodUnderTestInSomeClassInProductionCode() {\r\n            LOGGER.info(&quot;info message&quot;);\r\n            LOGGER.error(&quot;error message&quot;);\r\n            LOGGER.error(&quot;error message with exception&quot;, new RuntimeException(&quot;this part is not tested&quot;));\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n        private static final TestLogger TEST_LOGGER = TestLoggerFactory.getTestLogger(Slf4jLoggerTest.class);\r\n    \r\n        @Test\r\n        public void testForMethod() throws Exception {\r\n            // when\r\n            methodUnderTestInSomeClassInProductionCode();\r\n    \r\n            // then\r\n            assertThat(TEST_LOGGER.getLoggingEvents()).extracting(&quot;level&quot;, &quot;message&quot;).contains(\r\n                    tuple(INFO, &quot;info message&quot;),\r\n                    tuple(ERROR, &quot;error message&quot;),\r\n                    tuple(ERROR, &quot;error message with exception&quot;)\r\n            );\r\n        }\r\n    \r\n    }\r\n\r\n\r\nThis has as well the advantage to not having depend on **Hamcrest matchers** library.","title":"How to intercept SLF4J (with logback) logging via a JUnit test?","body":"<p>I had problems when testing logs line like: <strong>LOGGER.error(message, exception)</strong>.</p>\n\n<p>The solution described in <a href=\"http://projects.lidalia.org.uk/slf4j-test/\" rel=\"nofollow\">http://projects.lidalia.org.uk/slf4j-test/</a> tries to assert as well on the exception and it is not easy (and in my opinion worthless) to recreate the stacktrace.</p>\n\n<p>I resolved in this way:</p>\n\n<pre><code>import org.junit.Test;\nimport org.slf4j.Logger;\nimport uk.org.lidalia.slf4jext.LoggerFactory;\nimport uk.org.lidalia.slf4jtest.TestLogger;\nimport uk.org.lidalia.slf4jtest.TestLoggerFactory;\n\nimport static org.assertj.core.api.Assertions.assertThat;\nimport static org.assertj.core.groups.Tuple.tuple;\nimport static uk.org.lidalia.slf4jext.Level.ERROR;\nimport static uk.org.lidalia.slf4jext.Level.INFO;\n\n\npublic class Slf4jLoggerTest {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(Slf4jLoggerTest.class);\n\n\n    private void methodUnderTestInSomeClassInProductionCode() {\n        LOGGER.info(\"info message\");\n        LOGGER.error(\"error message\");\n        LOGGER.error(\"error message with exception\", new RuntimeException(\"this part is not tested\"));\n    }\n\n\n\n\n\n    private static final TestLogger TEST_LOGGER = TestLoggerFactory.getTestLogger(Slf4jLoggerTest.class);\n\n    @Test\n    public void testForMethod() throws Exception {\n        // when\n        methodUnderTestInSomeClassInProductionCode();\n\n        // then\n        assertThat(TEST_LOGGER.getLoggingEvents()).extracting(\"level\", \"message\").contains(\n                tuple(INFO, \"info message\"),\n                tuple(ERROR, \"error message\"),\n                tuple(ERROR, \"error message with exception\")\n        );\n    }\n\n}\n</code></pre>\n\n<p>This has as well the advantage to not having depend on <strong>Hamcrest matchers</strong> library.</p>\n"},{"comments":[{"owner":{"account_id":6252129,"reputation":94,"user_id":4861882,"display_name":"Oli"},"score":2,"creation_date":1542363178,"post_id":52229629,"comment_id":93550264,"body_markdown":"Thank you so much! This is exactly what I was looking for!","body":"Thank you so much! This is exactly what I was looking for!"},{"owner":{"account_id":6550921,"reputation":1782,"user_id":5065362,"display_name":"hiren"},"score":8,"creation_date":1558950497,"post_id":52229629,"comment_id":99255008,"body_markdown":"I am getting ClassCastException for  `Logger fooLogger = (Logger) LoggerFactory.getLogger(Foo.class);`. I am using `LoggerFactory` of `org.slf4j.LoggerFactory` and `Logger` of `ch.qos.logback.classic.Logger`","body":"I am getting ClassCastException for  <code>Logger fooLogger = (Logger) LoggerFactory.getLogger(Foo.class);</code>. I am using <code>LoggerFactory</code> of <code>org.slf4j.LoggerFactory</code> and <code>Logger</code> of <code>ch.qos.logback.classic.Logger</code>"},{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":0,"creation_date":1558989510,"post_id":52229629,"comment_id":99271053,"body_markdown":"@Hiren What is exactly the error message associated to ?","body":"@Hiren What is exactly the error message associated to ?"},{"owner":{"account_id":262356,"reputation":5234,"user_id":547173,"accept_rate":75,"display_name":"Denis Washington"},"score":1,"creation_date":1562315623,"post_id":52229629,"comment_id":100344106,"body_markdown":"@Hiren If you use JUnit 5, make sure to not accidentally import `org.junit.platform.commons.logging.LoggerFactory`, which is what happened to me.","body":"@Hiren If you use JUnit 5, make sure to not accidentally import <code>org.junit.platform.commons.logging.LoggerFactory</code>, which is what happened to me."},{"owner":{"account_id":1252568,"reputation":181,"user_id":1212674,"accept_rate":58,"display_name":"Robert Mason"},"score":7,"creation_date":1564499443,"post_id":52229629,"comment_id":101047683,"body_markdown":"Important to note that instead of \nILoggingEvent::getMessage\nyou should use\nILoggingEvent::getFormattedMessage\nIf your log contains a parameter value. Otherwise your assert will fail as the value will be missing.","body":"Important to note that instead of  ILoggingEvent::getMessage you should use ILoggingEvent::getFormattedMessage If your log contains a parameter value. Otherwise your assert will fail as the value will be missing."},{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":0,"creation_date":1564508899,"post_id":52229629,"comment_id":101051465,"body_markdown":"@Robert Mason thanks for the feedback. It could help others","body":"@Robert Mason thanks for the feedback. It could help others"},{"owner":{"account_id":10807091,"reputation":972,"user_id":7949076,"display_name":"coffman21"},"score":0,"creation_date":1571320829,"post_id":52229629,"comment_id":103209213,"body_markdown":"@davidxxx I use Apache `Log4jLogger` which cannot be casted to Logback `Logger`, is there any way to resolve that?","body":"@davidxxx I use Apache <code>Log4jLogger</code> which cannot be casted to Logback <code>Logger</code>, is there any way to resolve that?"},{"owner":{"account_id":4014197,"reputation":131,"user_id":5348370,"display_name":"Ghilteras"},"score":5,"creation_date":1571943140,"post_id":52229629,"comment_id":103415911,"body_markdown":"if you are using `SLF4J` this solution will end up raising `SLF4J: Class path contains multiple SLF4J bindings.` warning as you have both SLF4J and logback.classic","body":"if you are using <code>SLF4J</code> this solution will end up raising <code>SLF4J: Class path contains multiple SLF4J bindings.</code> warning as you have both SLF4J and logback.classic"},{"owner":{"account_id":236964,"reputation":1214,"user_id":504807,"accept_rate":79,"display_name":"yoni"},"score":0,"creation_date":1593352235,"post_id":52229629,"comment_id":110744079,"body_markdown":"@davidxxx please have a look on my question https://stackoverflow.com/q/62623403/504807","body":"@davidxxx please have a look on my question <a href=\"https://stackoverflow.com/q/62623403/504807\">stackoverflow.com/q/62623403/504807</a>"},{"owner":{"account_id":3435492,"reputation":519,"user_id":2878706,"display_name":"Ivan Trechyokas"},"score":0,"creation_date":1696348281,"post_id":52229629,"comment_id":136139884,"body_markdown":"it also doesn&#39;t work for me due to:\n&gt; java.lang.ClassCastException: class org.slf4j.simple.SimpleLogger cannot be cast to class ch.qos.logback.classic.Logger (org.slf4j.simple.SimpleLogger and ch.qos.logback.classic.Logger are in unnamed module of loader &#39;app&#39;)\n\nin that place  `(Logger) LoggerFactory.getLogger()`","body":"it also doesn&#39;t work for me due to: &gt; java.lang.ClassCastException: class org.slf4j.simple.SimpleLogger cannot be cast to class ch.qos.logback.classic.Logger (org.slf4j.simple.SimpleLogger and ch.qos.logback.classic.Logger are in unnamed module of loader &#39;app&#39;)  in that place  <code>(Logger) LoggerFactory.getLogger()</code>"}],"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"comment_count":10,"down_vote_count":0,"up_vote_count":144,"is_accepted":false,"score":144,"last_activity_date":1591277503,"creation_date":1536354373,"answer_id":52229629,"question_id":29076981,"body_markdown":"The Slf4j API doesn&#39;t provide such a way but Logback provides a simple solution.\r\n\r\nYou can use [`ListAppender`][1] : a whitebox logback appender where log entries are added in a `public List` field that we could use to make our assertions.  \r\n\r\nHere is a simple example.   \r\n\r\nFoo class :\r\n\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    public class Foo {\r\n    \t\r\n    \tstatic final Logger LOGGER = LoggerFactory.getLogger(Foo .class);\r\n    \t\r\n        public void doThat() {\r\n        \tlogger.info(&quot;start&quot;);\r\n            //...\r\n        \tlogger.info(&quot;finish&quot;);\r\n        }\r\n    }\r\n\r\nFooTest class :\r\n\r\n    import org.slf4j.LoggerFactory;\r\n    import ch.qos.logback.classic.Level;\r\n    import ch.qos.logback.classic.Logger;\r\n    import ch.qos.logback.classic.spi.ILoggingEvent;\r\n    import ch.qos.logback.core.read.ListAppender;\r\n\r\n    public class FooTest {\r\n\r\n\t    @Test\r\n\t    void doThat() throws Exception {\r\n            // get Logback Logger \r\n\t\t    Logger fooLogger = (Logger) LoggerFactory.getLogger(Foo.class);\r\n\r\n            // create and start a ListAppender\r\n\t\t    ListAppender&lt;ILoggingEvent&gt; listAppender = new ListAppender&lt;&gt;();\r\n\t\t    listAppender.start();\r\n\r\n            // add the appender to the logger\r\n\t\t    fooLogger.addAppender(listAppender);\r\n\r\n            // call method under test\r\n            Foo foo = new Foo();\r\n            foo.doThat();\r\n\r\n            // JUnit assertions\r\n\t\t\tList&lt;ILoggingEvent&gt; logsList = listAppender.list;\r\n\t\t\tassertEquals(&quot;start&quot;, logsList.get(0)\r\n\t\t\t\t\t\t\t\t\t\t  .getMessage());\r\n\t\t\tassertEquals(Level.INFO, logsList.get(0)\r\n\t\t\t\t\t\t\t\t\t\t\t .getLevel());\r\n\r\n\t\t\tassertEquals(&quot;finish&quot;, logsList.get(1)\r\n\t\t\t\t\t\t\t\t\t\t   .getMessage());\r\n\t\t\tassertEquals(Level.INFO, logsList.get(1)\r\n\t\t\t\t\t\t\t\t\t\t\t .getLevel());\r\n        }\r\n    }\r\n\r\nYou can also use Matcher/assertion libraries as AssertJ or Hamcrest.\r\n\r\nWith AssertJ it would be :  \r\n\r\n    import org.assertj.core.api.Assertions;\r\n\r\n    Assertions.assertThat(listAppender.list)\r\n\t\t      .extracting(ILoggingEvent::getFormattedMessage, ILoggingEvent::getLevel)\r\n\t\t      .containsExactly(Tuple.tuple(&quot;start&quot;, Level.INFO), Tuple.tuple(&quot;finish&quot;, Level.INFO));\r\n\r\n\r\n  [1]: https://logback.qos.ch/apidocs/ch/qos/logback/core/read/ListAppender.html","title":"How to intercept SLF4J (with logback) logging via a JUnit test?","body":"<p>The Slf4j API doesn't provide such a way but Logback provides a simple solution.</p>\n\n<p>You can use <a href=\"https://logback.qos.ch/apidocs/ch/qos/logback/core/read/ListAppender.html\" rel=\"noreferrer\"><code>ListAppender</code></a> : a whitebox logback appender where log entries are added in a <code>public List</code> field that we could use to make our assertions.  </p>\n\n<p>Here is a simple example.   </p>\n\n<p>Foo class :</p>\n\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class Foo {\n\n    static final Logger LOGGER = LoggerFactory.getLogger(Foo .class);\n\n    public void doThat() {\n        logger.info(\"start\");\n        //...\n        logger.info(\"finish\");\n    }\n}\n</code></pre>\n\n<p>FooTest class :</p>\n\n<pre><code>import org.slf4j.LoggerFactory;\nimport ch.qos.logback.classic.Level;\nimport ch.qos.logback.classic.Logger;\nimport ch.qos.logback.classic.spi.ILoggingEvent;\nimport ch.qos.logback.core.read.ListAppender;\n\npublic class FooTest {\n\n    @Test\n    void doThat() throws Exception {\n        // get Logback Logger \n        Logger fooLogger = (Logger) LoggerFactory.getLogger(Foo.class);\n\n        // create and start a ListAppender\n        ListAppender&lt;ILoggingEvent&gt; listAppender = new ListAppender&lt;&gt;();\n        listAppender.start();\n\n        // add the appender to the logger\n        fooLogger.addAppender(listAppender);\n\n        // call method under test\n        Foo foo = new Foo();\n        foo.doThat();\n\n        // JUnit assertions\n        List&lt;ILoggingEvent&gt; logsList = listAppender.list;\n        assertEquals(\"start\", logsList.get(0)\n                                      .getMessage());\n        assertEquals(Level.INFO, logsList.get(0)\n                                         .getLevel());\n\n        assertEquals(\"finish\", logsList.get(1)\n                                       .getMessage());\n        assertEquals(Level.INFO, logsList.get(1)\n                                         .getLevel());\n    }\n}\n</code></pre>\n\n<p>You can also use Matcher/assertion libraries as AssertJ or Hamcrest.</p>\n\n<p>With AssertJ it would be :  </p>\n\n<pre><code>import org.assertj.core.api.Assertions;\n\nAssertions.assertThat(listAppender.list)\n          .extracting(ILoggingEvent::getFormattedMessage, ILoggingEvent::getLevel)\n          .containsExactly(Tuple.tuple(\"start\", Level.INFO), Tuple.tuple(\"finish\", Level.INFO));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2506033,"reputation":513,"user_id":2179737,"display_name":"user2179737"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1543157079,"creation_date":1543157079,"answer_id":53468650,"question_id":29076981,"body_markdown":"Although creating a custom logback appender is a good solution, it is only the first step, you will eventually end up developing/reinventing [slf4j-test][1], and if you go a bit further: [spf4j-slf4j-test][2] or other frameworks that I don&#39;t know of yet.\r\n\r\nYou will eventually need to worry about how many events you keep in memory, fail unit tests when a error is logged (and not asserted), make debug logs available on test failure, etc...\r\n\r\nDisclaimer: I am the author of spf4j-slf4j-test, I wrote this backend to be able to better test [spf4j][3], which is a good place to look at for examples on how to use spf4j-slf4j-test. One of the main advantages I achieved was reducing my build output (which is limited with Travis), while still having all the detail I need when failure happens.\r\n\r\n  [1]: http://projects.lidalia.org.uk/slf4j-test/\r\n  [2]: http://www.spf4j.org/spf4j-slf4j-test/index.html\r\n  [3]: https://www.spf4j.org","title":"How to intercept SLF4J (with logback) logging via a JUnit test?","body":"<p>Although creating a custom logback appender is a good solution, it is only the first step, you will eventually end up developing/reinventing <a href=\"http://projects.lidalia.org.uk/slf4j-test/\" rel=\"noreferrer\">slf4j-test</a>, and if you go a bit further: <a href=\"http://www.spf4j.org/spf4j-slf4j-test/index.html\" rel=\"noreferrer\">spf4j-slf4j-test</a> or other frameworks that I don't know of yet.</p>\n\n<p>You will eventually need to worry about how many events you keep in memory, fail unit tests when a error is logged (and not asserted), make debug logs available on test failure, etc...</p>\n\n<p>Disclaimer: I am the author of spf4j-slf4j-test, I wrote this backend to be able to better test <a href=\"https://www.spf4j.org\" rel=\"noreferrer\">spf4j</a>, which is a good place to look at for examples on how to use spf4j-slf4j-test. One of the main advantages I achieved was reducing my build output (which is limited with Travis), while still having all the detail I need when failure happens.</p>\n"},{"comments":[{"owner":{"account_id":13580905,"reputation":1768,"user_id":9796935,"display_name":"ennth"},"score":0,"creation_date":1585779876,"post_id":54723270,"comment_id":107887444,"body_markdown":"does this work if I am using the lombok.extern.slf4j anntations like Slf4j? how do you mock or spy the logger if its not even an object in my clases? i.e. log.error is used just by providing the annotation Slf4j on my class...","body":"does this work if I am using the lombok.extern.slf4j anntations like Slf4j? how do you mock or spy the logger if its not even an object in my clases? i.e. log.error is used just by providing the annotation Slf4j on my class..."},{"owner":{"account_id":1628535,"reputation":5864,"user_id":1503538,"accept_rate":100,"display_name":"snovelli"},"score":0,"creation_date":1585916524,"post_id":54723270,"comment_id":107939259,"body_markdown":"@ennth It should work because you&#39;re injecting the mock wirh the  static method LoggerFactory.getLogger().addAppender(mockAppender).  Which works in the same way when you&#39;re creating the logger with Lombok","body":"@ennth It should work because you&#39;re injecting the mock wirh the  static method LoggerFactory.getLogger().addAppender(mockAppender).  Which works in the same way when you&#39;re creating the logger with Lombok"},{"owner":{"account_id":450009,"reputation":1499,"user_id":845117,"display_name":"Dirk Schumacher"},"score":5,"creation_date":1590651641,"post_id":54723270,"comment_id":109761073,"body_markdown":"Having same not working problem. What are the &#39;imports&#39; for classes Logger and LoggerFactory? Why are the static imports listed and the others are not?","body":"Having same not working problem. What are the &#39;imports&#39; for classes Logger and LoggerFactory? Why are the static imports listed and the others are not?"},{"owner":{"account_id":6864193,"reputation":2218,"user_id":5277240,"accept_rate":75,"display_name":"Egemen"},"score":3,"creation_date":1667554059,"post_id":54723270,"comment_id":131198237,"body_markdown":"@DirkSchumacher I had the same confusion, it works with the following imports:\n`import org.slf4j.LoggerFactory;`\n\n`import ch.qos.logback.classic.Level;`\n\n`import ch.qos.logback.classic.Logger;`\n\n`import ch.qos.logback.classic.spi.ILoggingEvent;`\n\n`import ch.qos.logback.core.Appender;`","body":"@DirkSchumacher I had the same confusion, it works with the following imports: <code>import org.slf4j.LoggerFactory;</code>  <code>import ch.qos.logback.classic.Level;</code>  <code>import ch.qos.logback.classic.Logger;</code>  <code>import ch.qos.logback.classic.spi.ILoggingEvent;</code>  <code>import ch.qos.logback.core.Appender;</code>"}],"tags":[],"owner":{"account_id":1628535,"reputation":5864,"user_id":1503538,"accept_rate":100,"display_name":"snovelli"},"comment_count":4,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1580390512,"creation_date":1550321724,"answer_id":54723270,"question_id":29076981,"body_markdown":"A simple solution could be to mock the appender with Mockito (for example)\r\n\r\n### MyClass.java\r\n    @Slf4j\r\n    class MyClass {\r\n        public void doSomething() {\r\n            log.info(&quot;I&#39;m on it!&quot;);\r\n        }\r\n    }\r\n### MyClassTest.java\r\n\r\n    import static org.hamcrest.MatcherAssert.assertThat;\r\n    import static org.hamcrest.Matchers.containsString;\r\n    import static org.hamcrest.Matchers.is;\r\n    import static org.mockito.Mockito.verify;         \r\n   \r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class MyClassTest {    \r\n    \r\n        @Mock private Appender&lt;ILoggingEvent&gt; mockAppender;\r\n        private MyClass sut = new MyClass();    \r\n    \r\n        @Before\r\n        public void setUp() {\r\n            Logger logger = (Logger) LoggerFactory.getLogger(MyClass.class.getName());\r\n            logger.addAppender(mockAppender);\r\n        }\r\n    \r\n        @Test\r\n        public void shouldLogInCaseOfError() {\r\n            sut.doSomething();\r\n    \r\n            verify(mockAppender).doAppend(ArgumentMatchers.argThat(argument -&gt; {\r\n                assertThat(argument.getMessage(), containsString(&quot;I&#39;m on it!&quot;));\r\n                assertThat(argument.getLevel(), is(Level.INFO));\r\n                return true;\r\n            }));\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nNOTE: I&#39;m using assertion rather than returning `false` as it makes code and (possible) error easier to read, but it won&#39;t work if you have multiple verifications. In that case you need to return `boolean` indicating if the value is as expected.","title":"How to intercept SLF4J (with logback) logging via a JUnit test?","body":"<p>A simple solution could be to mock the appender with Mockito (for example)</p>\n\n<h3>MyClass.java</h3>\n\n<pre><code>@Slf4j\nclass MyClass {\n    public void doSomething() {\n        log.info(\"I'm on it!\");\n    }\n}\n</code></pre>\n\n<h3>MyClassTest.java</h3>\n\n<pre><code>import static org.hamcrest.MatcherAssert.assertThat;\nimport static org.hamcrest.Matchers.containsString;\nimport static org.hamcrest.Matchers.is;\nimport static org.mockito.Mockito.verify;         \n\n@RunWith(MockitoJUnitRunner.class)\npublic class MyClassTest {    \n\n    @Mock private Appender&lt;ILoggingEvent&gt; mockAppender;\n    private MyClass sut = new MyClass();    \n\n    @Before\n    public void setUp() {\n        Logger logger = (Logger) LoggerFactory.getLogger(MyClass.class.getName());\n        logger.addAppender(mockAppender);\n    }\n\n    @Test\n    public void shouldLogInCaseOfError() {\n        sut.doSomething();\n\n        verify(mockAppender).doAppend(ArgumentMatchers.argThat(argument -&gt; {\n            assertThat(argument.getMessage(), containsString(\"I'm on it!\"));\n            assertThat(argument.getLevel(), is(Level.INFO));\n            return true;\n        }));\n\n    }\n\n}\n</code></pre>\n\n<p>NOTE: I'm using assertion rather than returning <code>false</code> as it makes code and (possible) error easier to read, but it won't work if you have multiple verifications. In that case you need to return <code>boolean</code> indicating if the value is as expected.</p>\n"},{"comments":[{"owner":{"account_id":1943643,"reputation":746,"user_id":1749247,"accept_rate":80,"display_name":"Urs Beeli"},"score":4,"creation_date":1569939207,"post_id":55263715,"comment_id":102753018,"body_markdown":"In order for this to work, you need to\n`import ch.qos.logback.classic.Logger;`\ninstead of\n`import org.slf4j.LoggerFactory;`\notherwise `addAppender()` is not available. It took me a while to figure this out.","body":"In order for this to work, you need to <code>import ch.qos.logback.classic.Logger;</code> instead of <code>import org.slf4j.LoggerFactory;</code> otherwise <code>addAppender()</code> is not available. It took me a while to figure this out."},{"owner":{"account_id":1295346,"reputation":4152,"user_id":1246547,"display_name":"Philzen"},"score":1,"creation_date":1582424777,"post_id":55263715,"comment_id":106772360,"body_markdown":"Doesn&#39;t work for me. It looks as if the rule is not applied correctly: while debugging i found `before()` and `after()` never reached, thus the appender is never created/attached and the UnexpectedTestError fires. \n\nAny ideas what i&#39;m doing wrong? Does the rule need to be placed into a certain package? \n\nAlso, pls add the import section to your answer, as some of the objects/interfaces have ambiguous names.","body":"Doesn&#39;t work for me. It looks as if the rule is not applied correctly: while debugging i found <code>before()</code> and <code>after()</code> never reached, thus the appender is never created/attached and the UnexpectedTestError fires.   Any ideas what i&#39;m doing wrong? Does the rule need to be placed into a certain package?   Also, pls add the import section to your answer, as some of the objects/interfaces have ambiguous names."}],"tags":[],"owner":{"account_id":1653550,"reputation":11563,"user_id":1523648,"accept_rate":89,"display_name":"oberlies"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1553093487,"creation_date":1553093487,"answer_id":55263715,"question_id":29076981,"body_markdown":"I would recommend a simple, reusable spy implementation that can be included in a test as JUnit rule:\r\n\r\n    public final class LogSpy extends ExternalResource {\r\n    \r\n    \tprivate Logger logger;\r\n    \tprivate ListAppender&lt;ILoggingEvent&gt; appender;\r\n    \r\n    \t@Override\r\n    \tprotected void before() {\r\n    \t\tappender = new ListAppender&lt;&gt;();\r\n    \t\tlogger = (Logger) LoggerFactory.getLogger(Logger.ROOT_LOGGER_NAME); // cast from facade (SLF4J) to implementation class (logback)\r\n    \t\tlogger.addAppender(appender);\r\n    \t\tappender.start();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void after() {\r\n    \t\tlogger.detachAppender(appender);\r\n    \t}\r\n    \r\n    \tpublic List&lt;ILoggingEvent&gt; getEvents() {\r\n    \t\tif (appender == null) {\r\n    \t\t\tthrow new UnexpectedTestError(&quot;LogSpy needs to be annotated with @Rule&quot;);\r\n    \t\t}\r\n    \t\treturn appender.list;\r\n    \t}\r\n    }\r\n\r\nIn your test, you&#39;d activate the spy in the following way:\r\n\r\n    @Rule\r\n    public LogSpy log = new LogSpy();\r\n\r\nCall `log.getEvents()` (or other, custom methods) to check the logged events.","title":"How to intercept SLF4J (with logback) logging via a JUnit test?","body":"<p>I would recommend a simple, reusable spy implementation that can be included in a test as JUnit rule:</p>\n\n<pre><code>public final class LogSpy extends ExternalResource {\n\n    private Logger logger;\n    private ListAppender&lt;ILoggingEvent&gt; appender;\n\n    @Override\n    protected void before() {\n        appender = new ListAppender&lt;&gt;();\n        logger = (Logger) LoggerFactory.getLogger(Logger.ROOT_LOGGER_NAME); // cast from facade (SLF4J) to implementation class (logback)\n        logger.addAppender(appender);\n        appender.start();\n    }\n\n    @Override\n    protected void after() {\n        logger.detachAppender(appender);\n    }\n\n    public List&lt;ILoggingEvent&gt; getEvents() {\n        if (appender == null) {\n            throw new UnexpectedTestError(\"LogSpy needs to be annotated with @Rule\");\n        }\n        return appender.list;\n    }\n}\n</code></pre>\n\n<p>In your test, you'd activate the spy in the following way:</p>\n\n<pre><code>@Rule\npublic LogSpy log = new LogSpy();\n</code></pre>\n\n<p>Call <code>log.getEvents()</code> (or other, custom methods) to check the logged events.</p>\n"},{"comments":[{"owner":{"account_id":6481825,"reputation":639,"user_id":5018575,"display_name":"Gweltaz Niquel"},"score":0,"creation_date":1681221093,"post_id":65071120,"comment_id":134018990,"body_markdown":"Finally a simple solution that works just fine. Thanks !","body":"Finally a simple solution that works just fine. Thanks !"},{"owner":{"account_id":8566752,"reputation":53339,"user_id":6419007,"accept_rate":67,"display_name":"Eric Duminil"},"score":2,"creation_date":1685004982,"post_id":65071120,"comment_id":134601279,"body_markdown":"It looks promising. But I then get `Class path contains multiple SLF4J providers.` warning, and an `java.lang.ClassCastException: org.slf4j.simple.SimpleLogger cannot be cast to ch.qos.logback.classic.Logger` error. I try to run `mvn dependency:tree` to disable slf4j provider, but it fails. :-/","body":"It looks promising. But I then get <code>Class path contains multiple SLF4J providers.</code> warning, and an <code>java.lang.ClassCastException: org.slf4j.simple.SimpleLogger cannot be cast to ch.qos.logback.classic.Logger</code> error. I try to run <code>mvn dependency:tree</code> to disable slf4j provider, but it fails. :-/"},{"owner":{"account_id":376706,"reputation":795,"user_id":728345,"accept_rate":63,"display_name":"obesechicken13"},"score":0,"creation_date":1698167991,"post_id":65071120,"comment_id":136369966,"body_markdown":"I ran into issues trying this. It says that logWatcher needs to be an appender","body":"I ran into issues trying this. It says that logWatcher needs to be an appender"},{"owner":{"account_id":706860,"reputation":9592,"user_id":601844,"display_name":"epox"},"score":0,"creation_date":1698441141,"post_id":65071120,"comment_id":136410944,"body_markdown":"did u use the same imports as the answer lists? `import ch.qos.logback.core.read.ListAppender;`","body":"did u use the same imports as the answer lists? <code>import ch.qos.logback.core.read.ListAppender;</code>"}],"tags":[],"owner":{"account_id":706860,"reputation":9592,"user_id":601844,"display_name":"epox"},"comment_count":4,"down_vote_count":1,"up_vote_count":48,"is_accepted":false,"score":47,"last_activity_date":1657486859,"creation_date":1606729161,"answer_id":65071120,"question_id":29076981,"body_markdown":"With JUnit5\r\n==\r\n\r\n    private ListAppender&lt;ILoggingEvent&gt; logWatcher;\r\n\r\n    @BeforeEach\r\n    void setup() {\r\n      logWatcher = new ListAppender&lt;&gt;();\r\n      logWatcher.start();\r\n      ((Logger) LoggerFactory.getLogger(MyClass.class)).addAppender(logWatcher);\r\n    }\r\n\r\nNote: **MyClass.class**  - should be your Prod class, you expect the log output from\r\n\r\n*use: (AssertJ example)*\r\n-\r\n\r\n    @Test\r\n    void myMethod_logs2Messages() {\r\n\r\n      ...\r\n      int logSize = logWatcher.list.size();\r\n      assertThat(logWatcher.list.get(logSize - 2).getFormattedMessage()).contains(&quot;EXPECTED MSG 1&quot;);\r\n      assertThat(logWatcher.list.get(logSize - 1).getFormattedMessage()).contains(&quot;EXPECTED MSG 2&quot;);\r\n    }\r\n\r\n*destroy:*\r\n-\r\n\r\nDetach is recommended, for a better performance:\r\n\r\n    @AfterEach\r\n    void teardown() {\r\n      ((Logger) LoggerFactory.getLogger(MyClass.class)).detachAndStopAllAppenders();\r\n    }\r\n\r\n*imports:*\r\n-\r\n\r\n    import org.slf4j.LoggerFactory;\r\n    import ch.qos.logback.core.read.ListAppender;\r\n    import ch.qos.logback.classic.spi.ILoggingEvent;\r\n    import ch.qos.logback.classic.Logger;\r\n\r\n---\r\ncredits to: @davidxxx&#39;s answer. See it for `import ch.qos.logback...` details: https://stackoverflow.com/a/52229629/601844","title":"How to intercept SLF4J (with logback) logging via a JUnit test?","body":"<h1>With JUnit5</h1>\n<pre><code>private ListAppender&lt;ILoggingEvent&gt; logWatcher;\n\n@BeforeEach\nvoid setup() {\n  logWatcher = new ListAppender&lt;&gt;();\n  logWatcher.start();\n  ((Logger) LoggerFactory.getLogger(MyClass.class)).addAppender(logWatcher);\n}\n</code></pre>\n<p>Note: <strong>MyClass.class</strong>  - should be your Prod class, you expect the log output from</p>\n<h2><em>use: (AssertJ example)</em></h2>\n<pre><code>@Test\nvoid myMethod_logs2Messages() {\n\n  ...\n  int logSize = logWatcher.list.size();\n  assertThat(logWatcher.list.get(logSize - 2).getFormattedMessage()).contains(&quot;EXPECTED MSG 1&quot;);\n  assertThat(logWatcher.list.get(logSize - 1).getFormattedMessage()).contains(&quot;EXPECTED MSG 2&quot;);\n}\n</code></pre>\n<h2><em>destroy:</em></h2>\n<p>Detach is recommended, for a better performance:</p>\n<pre><code>@AfterEach\nvoid teardown() {\n  ((Logger) LoggerFactory.getLogger(MyClass.class)).detachAndStopAllAppenders();\n}\n</code></pre>\n<h2><em>imports:</em></h2>\n<pre><code>import org.slf4j.LoggerFactory;\nimport ch.qos.logback.core.read.ListAppender;\nimport ch.qos.logback.classic.spi.ILoggingEvent;\nimport ch.qos.logback.classic.Logger;\n</code></pre>\n<hr />\n<p>credits to: @davidxxx's answer. See it for <code>import ch.qos.logback...</code> details: <a href=\"https://stackoverflow.com/a/52229629/601844\">https://stackoverflow.com/a/52229629/601844</a></p>\n"},{"tags":[],"owner":{"account_id":2047998,"reputation":572,"user_id":1827660,"display_name":"Seba"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1648443714,"creation_date":1648443714,"answer_id":71642603,"question_id":29076981,"body_markdown":"This is an alternative using lambdas that makes the log capturing logic reusable among tests (encapsulating its implementation) and doesn&#39;t require `@BeforeEach`/`@AfterEach` (in some of the proposed solutions the appender is not detached, which can lead to memory leaks).\r\n\r\n### Code under test:\r\n\r\n``` java\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\npublic class MyService {\r\n\r\n    private static final Logger LOG = LoggerFactory.getLogger(MyService.class);\r\n\r\n\r\n    public void doSomething(String someInput) {\r\n        ...\r\n        LOG.info(&quot;processing request with input {}&quot;, someInput);\r\n        ...\r\n    }\r\n}\r\n\r\n```\r\n\r\n### Interceptor helper:\r\n\r\n``` java\r\npackage mypackage.util\r\n\r\nimport ch.qos.logback.classic.Logger;\r\nimport ch.qos.logback.classic.spi.ILoggingEvent;\r\nimport ch.qos.logback.core.read.ListAppender;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport java.util.List;\r\n\r\npublic class LogInterceptor {\r\n\r\n    public static List&lt;ILoggingEvent&gt; interceptLogs(Class&lt;?&gt; klass, Runnable runnable) {\r\n        final Logger logger = (Logger) LoggerFactory.getLogger(klass);\r\n        final ListAppender&lt;ILoggingEvent&gt; listAppender = new ListAppender&lt;&gt;();\r\n        listAppender.start();\r\n        logger.addAppender(listAppender);\r\n        try {\r\n            runnable.run();\r\n            return listAppender.list;\r\n        } finally {\r\n            logger.detachAppender(listAppender);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n### Test suite:\r\n\r\n``` java\r\n\r\nimport static mypackage.util.LogInterceptor.interceptLogs;\r\n\r\npublic class MyServiceTest {\r\n\r\n  private MyService myService; \r\n  ...\r\n\r\n  @Test\r\n  void doSomethingLogsLineWithTheGivenInput() {\r\n        List&lt;ILoggingEvent&gt; logs = interceptLogs(\r\n                myService.getClass(),\r\n                () -&gt; myService.doSomething(&quot;foo&quot;)\r\n        );\r\n\r\n        assertThat(logs).isNotEmpty();\r\n        ILoggingEvent logEntry = logs.get(0);\r\n        assertThat(logEntry.getFormattedMessage()).isEqualTo(&quot;Processing request with input foo&quot;);\r\n        assertThat(logEntry.getLevel()).isEqualTo(Level.INFO);\r\n  }\r\n\r\n}\r\n\r\n```\r\n","title":"How to intercept SLF4J (with logback) logging via a JUnit test?","body":"<p>This is an alternative using lambdas that makes the log capturing logic reusable among tests (encapsulating its implementation) and doesn't require <code>@BeforeEach</code>/<code>@AfterEach</code> (in some of the proposed solutions the appender is not detached, which can lead to memory leaks).</p>\n<h3>Code under test:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class MyService {\n\n    private static final Logger LOG = LoggerFactory.getLogger(MyService.class);\n\n\n    public void doSomething(String someInput) {\n        ...\n        LOG.info(&quot;processing request with input {}&quot;, someInput);\n        ...\n    }\n}\n\n</code></pre>\n<h3>Interceptor helper:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>package mypackage.util\n\nimport ch.qos.logback.classic.Logger;\nimport ch.qos.logback.classic.spi.ILoggingEvent;\nimport ch.qos.logback.core.read.ListAppender;\nimport org.slf4j.LoggerFactory;\n\nimport java.util.List;\n\npublic class LogInterceptor {\n\n    public static List&lt;ILoggingEvent&gt; interceptLogs(Class&lt;?&gt; klass, Runnable runnable) {\n        final Logger logger = (Logger) LoggerFactory.getLogger(klass);\n        final ListAppender&lt;ILoggingEvent&gt; listAppender = new ListAppender&lt;&gt;();\n        listAppender.start();\n        logger.addAppender(listAppender);\n        try {\n            runnable.run();\n            return listAppender.list;\n        } finally {\n            logger.detachAppender(listAppender);\n        }\n    }\n}\n</code></pre>\n<h3>Test suite:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport static mypackage.util.LogInterceptor.interceptLogs;\n\npublic class MyServiceTest {\n\n  private MyService myService; \n  ...\n\n  @Test\n  void doSomethingLogsLineWithTheGivenInput() {\n        List&lt;ILoggingEvent&gt; logs = interceptLogs(\n                myService.getClass(),\n                () -&gt; myService.doSomething(&quot;foo&quot;)\n        );\n\n        assertThat(logs).isNotEmpty();\n        ILoggingEvent logEntry = logs.get(0);\n        assertThat(logEntry.getFormattedMessage()).isEqualTo(&quot;Processing request with input foo&quot;);\n        assertThat(logEntry.getLevel()).isEqualTo(Level.INFO);\n  }\n\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":111890,"reputation":8651,"user_id":295339,"accept_rate":93,"display_name":"Lars Andren"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694659634,"creation_date":1678799769,"answer_id":75733649,"question_id":29076981,"body_markdown":"The class that I wanted to log has a lombok `@Slf4j` annotation on it, and I did as follows.\r\n\r\n\r\nTestee class\r\n------------\r\n\r\n    @Slf4j\r\n    @Service\r\n    public class TesteeService {\r\n       Mono&lt;ResponseEntity&lt;HttpStatus&gt;&gt; sendRequest(RequestDto requestDto) {\r\n           ...logs an ERROR sometimes...\r\n       }\r\n    }\r\n\r\nCreated a new class\r\n-------------------\r\n\r\n    public class MemoryLogAppender extends AppenderBase&lt;ILoggingEvent&gt; {\r\n        private final List&lt;LogEvent&gt; list = new ArrayList&lt;&gt;();\r\n        private final PatternLayoutEncoder encoder;\r\n        \r\n        public MemoryLogAppender(LoggerContext loggerContext, String pattern) {\r\n            super.setContext(loggerContext);\r\n            this.encoder = new PatternLayoutEncoder();\r\n            this.encoder.setContext(loggerContext);\r\n            encoder.setPattern(pattern);\r\n            encoder.start();\r\n        }\r\n        \r\n        \r\n        @Override\r\n        protected void append(ILoggingEvent event) {\r\n            String msg = new String(encoder.encode(event));\r\n            LogEvent logEvent = new LogEvent(msg, event.getLevel(), event.getLoggerName());\r\n            list.add(logEvent);\r\n        }\r\n        \r\n        /**\r\n         * Search for log message matching given regular expression.\r\n         *\r\n         * @param regex Regex to match\r\n         * @return matching log events\r\n         */\r\n        public List&lt;MemoryLogAppender.LogEvent&gt; matches(String regex) {\r\n            return this.list.stream()\r\n                .filter(event -&gt; event.message.matches(regex))\r\n                .collect(Collectors.toList());\r\n        }\r\n    }\r\n\r\nTest class\r\n----------\r\n\r\n    class TestClass {\r\n        private static MemoryLogAppender logAppender;\r\n        \r\n        @BeforeAll\r\n        static void beforeAll() {\r\n            logAppender = new MemoryLogAppender((LoggerContext) LoggerFactory.getILoggerFactory(), &quot;%-5level: %message&quot;);\r\n            logAppender.start();\r\n        }\r\n        \r\n        @AfterAll\r\n        static void afterAll() {\r\n            logAppender.stop();\r\n        }\r\n        \r\n        ...\r\n        ...\r\n    \r\n        @Test\r\n        void bad_reference() throws Exception {\r\n            ResponseEntity&lt;HttpStatus&gt; response = testeeService.sendRequest(requestDto).block();\r\n    \r\n            assertThat(logAppender.search(&quot;This reference is bad.&quot;))\r\n                .hasSize(1);\r\n    \r\n            assertTrue(response.getStatusCode().is4xxClientError());\r\n        }\r\n    }","title":"How to intercept SLF4J (with logback) logging via a JUnit test?","body":"<p>The class that I wanted to log has a lombok <code>@Slf4j</code> annotation on it, and I did as follows.</p>\n<h2>Testee class</h2>\n<pre><code>@Slf4j\n@Service\npublic class TesteeService {\n   Mono&lt;ResponseEntity&lt;HttpStatus&gt;&gt; sendRequest(RequestDto requestDto) {\n       ...logs an ERROR sometimes...\n   }\n}\n</code></pre>\n<h2>Created a new class</h2>\n<pre><code>public class MemoryLogAppender extends AppenderBase&lt;ILoggingEvent&gt; {\n    private final List&lt;LogEvent&gt; list = new ArrayList&lt;&gt;();\n    private final PatternLayoutEncoder encoder;\n    \n    public MemoryLogAppender(LoggerContext loggerContext, String pattern) {\n        super.setContext(loggerContext);\n        this.encoder = new PatternLayoutEncoder();\n        this.encoder.setContext(loggerContext);\n        encoder.setPattern(pattern);\n        encoder.start();\n    }\n    \n    \n    @Override\n    protected void append(ILoggingEvent event) {\n        String msg = new String(encoder.encode(event));\n        LogEvent logEvent = new LogEvent(msg, event.getLevel(), event.getLoggerName());\n        list.add(logEvent);\n    }\n    \n    /**\n     * Search for log message matching given regular expression.\n     *\n     * @param regex Regex to match\n     * @return matching log events\n     */\n    public List&lt;MemoryLogAppender.LogEvent&gt; matches(String regex) {\n        return this.list.stream()\n            .filter(event -&gt; event.message.matches(regex))\n            .collect(Collectors.toList());\n    }\n}\n</code></pre>\n<h2>Test class</h2>\n<pre><code>class TestClass {\n    private static MemoryLogAppender logAppender;\n    \n    @BeforeAll\n    static void beforeAll() {\n        logAppender = new MemoryLogAppender((LoggerContext) LoggerFactory.getILoggerFactory(), &quot;%-5level: %message&quot;);\n        logAppender.start();\n    }\n    \n    @AfterAll\n    static void afterAll() {\n        logAppender.stop();\n    }\n    \n    ...\n    ...\n\n    @Test\n    void bad_reference() throws Exception {\n        ResponseEntity&lt;HttpStatus&gt; response = testeeService.sendRequest(requestDto).block();\n\n        assertThat(logAppender.search(&quot;This reference is bad.&quot;))\n            .hasSize(1);\n\n        assertTrue(response.getStatusCode().is4xxClientError());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4243102,"reputation":3047,"user_id":5784939,"display_name":"Eugene Maysyuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697022360,"creation_date":1697021524,"answer_id":77272356,"question_id":29076981,"body_markdown":"# Approach using custom appender\r\n\r\nUnit test:\r\n\r\n    package org.example;\r\n    \r\n    import static org.hamcrest.MatcherAssert.assertThat;\r\n    import static org.hamcrest.Matchers.containsInAnyOrder;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.junit.Test;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    import ch.qos.logback.classic.Logger;\r\n    \r\n    \r\n    public class LoggerTest {\r\n    \r\n    \t@Test\r\n    \tpublic void logDifferentData() {\r\n    \t\tLogger logger = (Logger) LoggerFactory.getLogger(Logger.ROOT_LOGGER_NAME);\r\n    \t\tCaptureLogsAppender captureLogsAppender = new CaptureLogsAppender();\r\n    \r\n    \t\tlogger.addAppender(captureLogsAppender);\r\n    \t\tcaptureLogsAppender.start();\r\n    \r\n    \t\t// you can call service.doSomeWork() here to collect logs from particular service\r\n    \t\tLoggerFactory.getLogger(&quot;org.example.LoggerTest&quot;).debug(&quot;message1&quot;);\r\n    \t\tLoggerFactory.getLogger(&quot;org.example.LoggerTest&quot;).debug(&quot;message2&quot;);\r\n    \r\n    \t\tcaptureLogsAppender.stop();\r\n    \t\tlogger.detachAppender(captureLogsAppender);\r\n    \r\n    \t\tList&lt;String&gt; logs = captureLogsAppender.getLogs();\r\n    \r\n    \t\tassertThat(logs, containsInAnyOrder(&quot;message1&quot;, &quot;message2&quot;));\r\n    \t}\r\n    }\r\n\r\nCustom Appender that intercepts calls to Logback:\r\n\r\n\r\n    package org.example;\r\n    \r\n    import ch.qos.logback.classic.spi.ILoggingEvent;\r\n    import ch.qos.logback.core.AppenderBase;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class CaptureLogsAppender extends AppenderBase&lt;ILoggingEvent&gt; {\r\n        private List&lt;String&gt; logs = new ArrayList&lt;&gt;();\r\n    \r\n        @Override\r\n        protected void append(ILoggingEvent eventObject) {\r\n            eventObject.prepareForDeferredProcessing();\r\n            logs.add(eventObject.getFormattedMessage());\r\n        }\r\n    \r\n        public List&lt;String&gt; getLogs() {\r\n            return logs;\r\n        }\r\n    }","title":"How to intercept SLF4J (with logback) logging via a JUnit test?","body":"<h1>Approach using custom appender</h1>\n<p>Unit test:</p>\n<pre><code>package org.example;\n\nimport static org.hamcrest.MatcherAssert.assertThat;\nimport static org.hamcrest.Matchers.containsInAnyOrder;\n\nimport java.util.List;\n\nimport org.junit.Test;\nimport org.slf4j.LoggerFactory;\n\nimport ch.qos.logback.classic.Logger;\n\n\npublic class LoggerTest {\n\n    @Test\n    public void logDifferentData() {\n        Logger logger = (Logger) LoggerFactory.getLogger(Logger.ROOT_LOGGER_NAME);\n        CaptureLogsAppender captureLogsAppender = new CaptureLogsAppender();\n\n        logger.addAppender(captureLogsAppender);\n        captureLogsAppender.start();\n\n        // you can call service.doSomeWork() here to collect logs from particular service\n        LoggerFactory.getLogger(&quot;org.example.LoggerTest&quot;).debug(&quot;message1&quot;);\n        LoggerFactory.getLogger(&quot;org.example.LoggerTest&quot;).debug(&quot;message2&quot;);\n\n        captureLogsAppender.stop();\n        logger.detachAppender(captureLogsAppender);\n\n        List&lt;String&gt; logs = captureLogsAppender.getLogs();\n\n        assertThat(logs, containsInAnyOrder(&quot;message1&quot;, &quot;message2&quot;));\n    }\n}\n</code></pre>\n<p>Custom Appender that intercepts calls to Logback:</p>\n<pre><code>package org.example;\n\nimport ch.qos.logback.classic.spi.ILoggingEvent;\nimport ch.qos.logback.core.AppenderBase;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class CaptureLogsAppender extends AppenderBase&lt;ILoggingEvent&gt; {\n    private List&lt;String&gt; logs = new ArrayList&lt;&gt;();\n\n    @Override\n    protected void append(ILoggingEvent eventObject) {\n        eventObject.prepareForDeferredProcessing();\n        logs.add(eventObject.getFormattedMessage());\n    }\n\n    public List&lt;String&gt; getLogs() {\n        return logs;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5705055,"reputation":1872,"user_id":4508899,"accept_rate":75,"display_name":"Jonas_Hess"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699653415,"creation_date":1699653415,"answer_id":77463038,"question_id":29076981,"body_markdown":"As this is something I do in many tests, I have written a helper class to do this without much boilerplate:\r\n\r\n \r\n\r\n**Junit Test**\r\n\r\n \r\n\r\n      @Test\r\n\r\n      void testHello() {\r\n\r\n        final List&lt;ILoggingEvent&gt; logs = TestUtil.captureLogs(() -&gt; {\r\n\r\n          MySerive.sayHello();\r\n\r\n        }, Level.INFO);\r\n\r\n       \r\n\r\n        Assertions.assertEquals(1, logs.size());\r\n\r\n        Assertions.assertEquals(&quot;Hello World!&quot;, logs.get(0).getMessage());\r\n\r\n      }\r\n\r\n \r\n\r\n**TestUtil Class**\r\n\r\n \r\n\r\n    import ch.qos.logback.classic.Level;\r\n\r\n    import ch.qos.logback.classic.Logger;\r\n\r\n    import ch.qos.logback.classic.spi.ILoggingEvent;\r\n\r\n    import ch.qos.logback.core.read.ListAppender;\r\n\r\n    import org.slf4j.LoggerFactory;\r\n\r\n   \r\n\r\n    import java.util.List;\r\n\r\n   \r\n\r\n    public class TestUtil {\r\n\r\n   \r\n\r\n      @FunctionalInterface\r\n\r\n      public interface RunnerWithLogCapture&lt;T extends Throwable&gt; {\r\n\r\n        void run() throws T;\r\n\r\n      }\r\n\r\n   \r\n\r\n      public static &lt;T extends Throwable&gt; List&lt;ILoggingEvent&gt; captureLogs(final RunnerWithLogCapture&lt;T&gt; testCode,\r\n\r\n                                                    final Level level) throws T {\r\n\r\n        final Logger logger = (Logger) LoggerFactory.getLogger(Logger.ROOT_LOGGER_NAME);\r\n\r\n        logger.setLevel(level);\r\n\r\n        final ListAppender&lt;ILoggingEvent&gt; listAppender = new ListAppender&lt;&gt;();\r\n\r\n        listAppender.start();\r\n\r\n        logger.addAppender(listAppender);\r\n\r\n        try {\r\n\r\n          testCode.run();\r\n\r\n          final List&lt;ILoggingEvent&gt; logsList = listAppender.list;\r\n\r\n          return logsList;\r\n\r\n        } finally {\r\n\r\n          logger.detachAppender(listAppender);\r\n          listAppender.stop();\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }","title":"How to intercept SLF4J (with logback) logging via a JUnit test?","body":"<p>As this is something I do in many tests, I have written a helper class to do this without much boilerplate:</p>\n<p><strong>Junit Test</strong></p>\n<pre><code>  @Test\n\n  void testHello() {\n\n    final List&lt;ILoggingEvent&gt; logs = TestUtil.captureLogs(() -&gt; {\n\n      MySerive.sayHello();\n\n    }, Level.INFO);\n\n   \n\n    Assertions.assertEquals(1, logs.size());\n\n    Assertions.assertEquals(&quot;Hello World!&quot;, logs.get(0).getMessage());\n\n  }\n</code></pre>\n<p><strong>TestUtil Class</strong></p>\n<pre><code>import ch.qos.logback.classic.Level;\n\nimport ch.qos.logback.classic.Logger;\n\nimport ch.qos.logback.classic.spi.ILoggingEvent;\n\nimport ch.qos.logback.core.read.ListAppender;\n\nimport org.slf4j.LoggerFactory;\n\n\n\nimport java.util.List;\n\n\n\npublic class TestUtil {\n\n\n\n  @FunctionalInterface\n\n  public interface RunnerWithLogCapture&lt;T extends Throwable&gt; {\n\n    void run() throws T;\n\n  }\n\n\n\n  public static &lt;T extends Throwable&gt; List&lt;ILoggingEvent&gt; captureLogs(final RunnerWithLogCapture&lt;T&gt; testCode,\n\n                                                final Level level) throws T {\n\n    final Logger logger = (Logger) LoggerFactory.getLogger(Logger.ROOT_LOGGER_NAME);\n\n    logger.setLevel(level);\n\n    final ListAppender&lt;ILoggingEvent&gt; listAppender = new ListAppender&lt;&gt;();\n\n    listAppender.start();\n\n    logger.addAppender(listAppender);\n\n    try {\n\n      testCode.run();\n\n      final List&lt;ILoggingEvent&gt; logsList = listAppender.list;\n\n      return logsList;\n\n    } finally {\n\n      logger.detachAppender(listAppender);\n      listAppender.stop();\n\n    }\n\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":405356,"reputation":31611,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143002,"favorite_count":0,"down_vote_count":0,"up_vote_count":147,"accepted_answer_id":29077499,"answer_count":12,"score":147,"last_activity_date":1699653415,"creation_date":1426509380,"question_id":29076981,"body_markdown":"Is it possible to somehow intercept the logging (SLF4J + logback) and get an `InputStream` (or something else that is readable) via a JUnit test case...?","title":"How to intercept SLF4J (with logback) logging via a JUnit test?","body":"<p>Is it possible to somehow intercept the logging (SLF4J + logback) and get an <code>InputStream</code> (or something else that is readable) via a JUnit test case...?</p>\n"},{"tags":["java","swing","cardlayout"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1699643269,"post_id":77462302,"comment_id":136562201,"body_markdown":"1. Yes, use a CardLayout. The issue isn&#39;t that this won&#39;t work, but rather you need to figure out how to use it with different classes. How you wire your code will matter. 2. Look into use of a M-V-C or similar design pattern. The key will be to separate the code logic from the view (GUI). Unrelated: Make sure your code is highly OOP-compliant, including getting rid of most of your static modifiers. They aren&#39;t your friend. Lastly, when posting code here, please create and post a valid [mre], code that we can test easily. Please read the link as well as the [ask] link.","body":"1. Yes, use a CardLayout. The issue isn&#39;t that this won&#39;t work, but rather you need to figure out how to use it with different classes. How you wire your code will matter. 2. Look into use of a M-V-C or similar design pattern. The key will be to separate the code logic from the view (GUI). Unrelated: Make sure your code is highly OOP-compliant, including getting rid of most of your static modifiers. They aren&#39;t your friend. Lastly, when posting code here, please create and post a valid <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, code that we can test easily. Please read the link as well as the <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> link."},{"owner":{"account_id":29874239,"reputation":7,"user_id":22894871,"display_name":"Daniele "},"score":0,"creation_date":1699652551,"post_id":77462302,"comment_id":136563345,"body_markdown":"Thanks for the comment Hovercraft Full of Eels. I’m a beginner in coding and using stackoverflow, and i have a lot to learn. I will update the post as soon as possibile with a reproducible example.","body":"Thanks for the comment Hovercraft Full of Eels. I’m a beginner in coding and using stackoverflow, and i have a lot to learn. I will update the post as soon as possibile with a reproducible example."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1699652754,"post_id":77462302,"comment_id":136563360,"body_markdown":"I&#39;ve posted an example of one below.","body":"I&#39;ve posted an example of one below."}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699652794,"creation_date":1699652137,"answer_id":77462952,"question_id":77462302,"body_markdown":"As I mentioned in comment, I would use a CardLayout, and I would try to separate control of the card layout from the view, using MVC, or in my example below, a more simplified model-controller. Here, any class that has access to the controller can control what the card layout displays:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nMainGUI.java\r\n========\r\nThis creates the components, connects them, and starts them.\r\n```\r\nimport java.awt.BorderLayout;\r\nimport java.awt.CardLayout;\r\nimport java.awt.Color;\r\n\r\nimport javax.swing.*;\r\n\r\npublic class MainGUI {\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            View view = new CardView();\r\n            CardController controller = new ConcreteController(view);\r\n            String[] cards = { &quot;Card 1&quot;, &quot;Card 2&quot;, &quot;Card 3&quot;, &quot;Card 4&quot;, &quot;Card 5&quot;,\r\n                    &quot;Card 6&quot;, &quot;Card 7&quot;, &quot;Card 8&quot;, &quot;Card 9&quot;, &quot;Card 10&quot; };\r\n            for (String card : cards) {\r\n                JPanel cardPanel = new RandomPanel(card, controller);\r\n                controller.addCard(card, cardPanel);\r\n            }\r\n            controller.showGui();\r\n        });\r\n    }\r\n}\r\n```\r\nConcreteController.java\r\n=====================\r\nThis is the class that controls what the card layout displays. \r\n```\r\nclass ConcreteController implements CardController {\r\n    private View view;\r\n    private JFrame frame;\r\n\r\n    public ConcreteController(View view) {\r\n        this.view = view;\r\n        view.setContoller(this);\r\n    }\r\n\r\n    @Override\r\n    public void showGui() {\r\n        if (frame == null) {\r\n            frame = new JFrame(&quot;MainGUI&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.setContentPane(view.getMainPanel());\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n        }\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    public View getView() {\r\n        return view;\r\n    }\r\n\r\n    @Override\r\n    public void addCard(String name, JPanel card) {\r\n        view.getCardsPanel().add(card, name);\r\n        view.getCardComboBoxModel().addElement(name);\r\n    }\r\n\r\n    @Override\r\n    public void showCard(String name) {\r\n        view.getCardLayout().show(view.getCardsPanel(), name);\r\n    }\r\n\r\n    @Override\r\n    public void nextCard() {\r\n        view.getCardLayout().next(view.getCardsPanel());\r\n    }\r\n\r\n    @Override\r\n    public void previousCard() {\r\n        view.getCardLayout().previous(view.getCardsPanel());\r\n    }\r\n}\r\n```\r\n\r\n```\r\ninterface CardController {\r\n    public void addCard(String name, JPanel card);\r\n\r\n    public void showGui();\r\n\r\n    public void showCard(String name);\r\n\r\n    public void nextCard();\r\n\r\n    public void previousCard();\r\n}\r\n```\r\n\r\n```\r\ninterface View {\r\n\r\n    void setContoller(CardController controller);\r\n\r\n    CardLayout getCardLayout();\r\n\r\n    JPanel getCardsPanel();\r\n\r\n    JPanel getMainPanel();\r\n\r\n    DefaultComboBoxModel&lt;String&gt; getCardComboBoxModel();\r\n\r\n}\r\n```\r\nCardView.java\r\n=================\r\nThe GUI class that holds the cardsPanel, the one that uses a CardLayout, and that displays the cards JPanels. It also has previousButton, nextButton and a JComboBox to allow selection of the visualized card\r\n```\r\nclass CardView implements View {\r\n    private CardController controller;\r\n    private JPanel mainPanel = new JPanel(new BorderLayout());\r\n    private CardLayout cardLayout = new CardLayout();\r\n    private JPanel cardsPanel = new JPanel(cardLayout);\r\n    private DefaultComboBoxModel&lt;String&gt; cardComboBoxModel = new DefaultComboBoxModel&lt;&gt;();\r\n    private JComboBox&lt;String&gt; cardComboBox = new JComboBox&lt;&gt;(cardComboBoxModel);\r\n\r\n    public CardView() {\r\n        mainPanel.add(cardsPanel, BorderLayout.CENTER);\r\n\r\n        JPanel buttonPanel = new JPanel();\r\n\r\n        JButton previousButton = new JButton(&quot;Previous&quot;);\r\n        previousButton.addActionListener(e -&gt; {\r\n            if (controller != null)\r\n                controller.previousCard();\r\n        });\r\n        buttonPanel.add(previousButton);\r\n\r\n        JButton nextButton = new JButton(&quot;Next&quot;);\r\n        nextButton.addActionListener(e -&gt; {\r\n            if (controller != null)\r\n                controller.nextCard();\r\n        });\r\n        cardComboBox.addActionListener(e -&gt; {\r\n            if (controller != null)\r\n                controller.showCard((String) cardComboBox.getSelectedItem());\r\n        });\r\n\r\n        buttonPanel.add(nextButton);\r\n        buttonPanel.add(cardComboBox);\r\n\r\n        mainPanel.add(buttonPanel, BorderLayout.PAGE_END);\r\n    }\r\n\r\n    @Override\r\n    public void setContoller(CardController controller) {\r\n        this.controller = controller;\r\n    }\r\n\r\n    @Override\r\n    public CardLayout getCardLayout() {\r\n        return cardLayout;\r\n    }\r\n\r\n    @Override\r\n    public JPanel getCardsPanel() {\r\n        return cardsPanel;\r\n    }\r\n\r\n    @Override\r\n    public JPanel getMainPanel() {\r\n        return mainPanel;\r\n    }\r\n\r\n    @Override\r\n    public DefaultComboBoxModel&lt;String&gt; getCardComboBoxModel() {\r\n        return cardComboBoxModel;\r\n    }\r\n\r\n}\r\n```\r\nRandomPanel.java\r\n=============\r\nA dummy JPanel that simply displays text that is passed into its constructor with a randomly created background color. It has a nextButton to show that it can interact with the CardLayout that contols its display\r\n```\r\nclass RandomPanel extends JPanel {\r\n    private CardController controller;\r\n\r\n    public RandomPanel(String name, CardController controller) {\r\n        this.controller = controller;\r\n\r\n        // random color to help distinguish panels\r\n        float hue = (float) Math.random();\r\n        float saturation = (float) (0.5 * Math.random() + 0.5);\r\n        float brightness = (float) (0.2 * Math.random() + 0.8);\r\n        Color randomColor = Color.getHSBColor(hue, saturation, brightness);\r\n        Color borderColor = Color.getHSBColor(hue, saturation, brightness - 0.4f);\r\n\r\n        setBorder(BorderFactory.createLineBorder(borderColor, 30));\r\n        setBackground(randomColor);\r\n\r\n        JLabel label = new JLabel(name);\r\n        label.setFont(label.getFont().deriveFont(64.0f));\r\n        int gap = 30;\r\n        label.setBorder(BorderFactory.createEmptyBorder(gap, gap, gap, gap));\r\n\r\n        JPanel buttonPanel = new JPanel();\r\n        buttonPanel.setOpaque(false);\r\n        JButton nextButton = new JButton(&quot;Next Card&quot;);\r\n        nextButton.addActionListener(e -&gt; {\r\n            if (controller != null)\r\n                controller.nextCard();\r\n        });\r\n        buttonPanel.add(nextButton);\r\n\r\n        setLayout(new BorderLayout());\r\n        add(label);\r\n        add(buttonPanel, BorderLayout.PAGE_END);\r\n    }\r\n\r\n    public CardController getController() {\r\n        return controller;\r\n    }\r\n}\r\n```\r\n______________________\r\nComplete MRE\r\n======================\r\nThe complete program in one single copy/paste compile/run file:\r\n```\r\nimport java.awt.BorderLayout;\r\nimport java.awt.CardLayout;\r\nimport java.awt.Color;\r\n\r\nimport javax.swing.*;\r\n\r\npublic class MainGUI {\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            View view = new CardView();\r\n            CardController controller = new ConcreteController(view);\r\n            String[] cards = { &quot;Card 1&quot;, &quot;Card 2&quot;, &quot;Card 3&quot;, &quot;Card 4&quot;, &quot;Card 5&quot;,\r\n                    &quot;Card 6&quot;, &quot;Card 7&quot;, &quot;Card 8&quot;, &quot;Card 9&quot;, &quot;Card 10&quot; };\r\n            for (String card : cards) {\r\n                JPanel cardPanel = new RandomPanel(card, controller);\r\n                controller.addCard(card, cardPanel);\r\n            }\r\n            controller.showGui();\r\n        });\r\n    }\r\n\r\n}\r\n\r\nclass ConcreteController implements CardController {\r\n    private View view;\r\n    private JFrame frame;\r\n\r\n    public ConcreteController(View view) {\r\n        this.view = view;\r\n\r\n        view.setContoller(this);\r\n    }\r\n\r\n    @Override\r\n    public void showGui() {\r\n        if (frame == null) {\r\n            frame = new JFrame(&quot;MainGUI&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.setContentPane(view.getMainPanel());\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n        }\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    public View getView() {\r\n        return view;\r\n    }\r\n\r\n    @Override\r\n    public void addCard(String name, JPanel card) {\r\n        view.getCardsPanel().add(card, name);\r\n        view.getCardComboBoxModel().addElement(name);\r\n    }\r\n\r\n    @Override\r\n    public void showCard(String name) {\r\n        view.getCardLayout().show(view.getCardsPanel(), name);\r\n    }\r\n\r\n    @Override\r\n    public void nextCard() {\r\n        view.getCardLayout().next(view.getCardsPanel());\r\n    }\r\n\r\n    @Override\r\n    public void previousCard() {\r\n        view.getCardLayout().previous(view.getCardsPanel());\r\n    }\r\n}\r\n\r\ninterface CardController {\r\n    public void addCard(String name, JPanel card);\r\n\r\n    public void showGui();\r\n\r\n    public void showCard(String name);\r\n\r\n    public void nextCard();\r\n\r\n    public void previousCard();\r\n}\r\n\r\ninterface View {\r\n\r\n    void setContoller(CardController controller);\r\n\r\n    CardLayout getCardLayout();\r\n\r\n    JPanel getCardsPanel();\r\n\r\n    JPanel getMainPanel();\r\n\r\n    DefaultComboBoxModel&lt;String&gt; getCardComboBoxModel();\r\n\r\n}\r\n\r\nclass CardView implements View {\r\n    private CardController controller;\r\n    private JPanel mainPanel = new JPanel(new BorderLayout());\r\n    private CardLayout cardLayout = new CardLayout();\r\n    private JPanel cardsPanel = new JPanel(cardLayout);\r\n    private DefaultComboBoxModel&lt;String&gt; cardComboBoxModel = new DefaultComboBoxModel&lt;&gt;();\r\n    private JComboBox&lt;String&gt; cardComboBox = new JComboBox&lt;&gt;(cardComboBoxModel);\r\n\r\n    public CardView() {\r\n        mainPanel.add(cardsPanel, BorderLayout.CENTER);\r\n\r\n        JPanel buttonPanel = new JPanel();\r\n\r\n        JButton previousButton = new JButton(&quot;Previous&quot;);\r\n        previousButton.addActionListener(e -&gt; {\r\n            if (controller != null)\r\n                controller.previousCard();\r\n        });\r\n        buttonPanel.add(previousButton);\r\n\r\n        JButton nextButton = new JButton(&quot;Next&quot;);\r\n        nextButton.addActionListener(e -&gt; {\r\n            if (controller != null)\r\n                controller.nextCard();\r\n        });\r\n        cardComboBox.addActionListener(e -&gt; {\r\n            if (controller != null)\r\n                controller.showCard((String) cardComboBox.getSelectedItem());\r\n        });\r\n\r\n        buttonPanel.add(nextButton);\r\n        buttonPanel.add(cardComboBox);\r\n\r\n        mainPanel.add(buttonPanel, BorderLayout.PAGE_END);\r\n    }\r\n\r\n    @Override\r\n    public void setContoller(CardController controller) {\r\n        this.controller = controller;\r\n    }\r\n\r\n    @Override\r\n    public CardLayout getCardLayout() {\r\n        return cardLayout;\r\n    }\r\n\r\n    @Override\r\n    public JPanel getCardsPanel() {\r\n        return cardsPanel;\r\n    }\r\n\r\n    @Override\r\n    public JPanel getMainPanel() {\r\n        return mainPanel;\r\n    }\r\n\r\n    @Override\r\n    public DefaultComboBoxModel&lt;String&gt; getCardComboBoxModel() {\r\n        return cardComboBoxModel;\r\n    }\r\n\r\n}\r\n\r\nclass RandomPanel extends JPanel {\r\n    private CardController controller;\r\n\r\n    public RandomPanel(String name, CardController controller) {\r\n        this.controller = controller;\r\n\r\n        // random color to help distinguish panels\r\n        float hue = (float) Math.random();\r\n        float saturation = (float) (0.5 * Math.random() + 0.5);\r\n        float brightness = (float) (0.2 * Math.random() + 0.8);\r\n        Color randomColor = Color.getHSBColor(hue, saturation, brightness);\r\n        Color borderColor = Color.getHSBColor(hue, saturation, brightness - 0.4f);\r\n\r\n        setBorder(BorderFactory.createLineBorder(borderColor, 30));\r\n        setBackground(randomColor);\r\n\r\n        JLabel label = new JLabel(name);\r\n        label.setFont(label.getFont().deriveFont(64.0f));\r\n        int gap = 30;\r\n        label.setBorder(BorderFactory.createEmptyBorder(gap, gap, gap, gap));\r\n\r\n        JPanel buttonPanel = new JPanel();\r\n        buttonPanel.setOpaque(false);\r\n        JButton nextButton = new JButton(&quot;Next Card&quot;);\r\n        nextButton.addActionListener(e -&gt; {\r\n            if (controller != null)\r\n                controller.nextCard();\r\n        });\r\n        buttonPanel.add(nextButton);\r\n\r\n        setLayout(new BorderLayout());\r\n        add(label);\r\n        add(buttonPanel, BorderLayout.PAGE_END);\r\n    }\r\n\r\n    public CardController getController() {\r\n        return controller;\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/U1Gk7.gif","title":"How to switch from a JPanel to another","body":"<p>As I mentioned in comment, I would use a CardLayout, and I would try to separate control of the card layout from the view, using MVC, or in my example below, a more simplified model-controller. Here, any class that has access to the controller can control what the card layout displays:</p>\n<p><a href=\"https://i.stack.imgur.com/U1Gk7.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U1Gk7.gif\" alt=\"enter image description here\" /></a></p>\n<h1>MainGUI.java</h1>\n<p>This creates the components, connects them, and starts them.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.CardLayout;\nimport java.awt.Color;\n\nimport javax.swing.*;\n\npublic class MainGUI {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            View view = new CardView();\n            CardController controller = new ConcreteController(view);\n            String[] cards = { &quot;Card 1&quot;, &quot;Card 2&quot;, &quot;Card 3&quot;, &quot;Card 4&quot;, &quot;Card 5&quot;,\n                    &quot;Card 6&quot;, &quot;Card 7&quot;, &quot;Card 8&quot;, &quot;Card 9&quot;, &quot;Card 10&quot; };\n            for (String card : cards) {\n                JPanel cardPanel = new RandomPanel(card, controller);\n                controller.addCard(card, cardPanel);\n            }\n            controller.showGui();\n        });\n    }\n}\n</code></pre>\n<h1>ConcreteController.java</h1>\n<p>This is the class that controls what the card layout displays.</p>\n<pre><code>class ConcreteController implements CardController {\n    private View view;\n    private JFrame frame;\n\n    public ConcreteController(View view) {\n        this.view = view;\n        view.setContoller(this);\n    }\n\n    @Override\n    public void showGui() {\n        if (frame == null) {\n            frame = new JFrame(&quot;MainGUI&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.setContentPane(view.getMainPanel());\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n        }\n        frame.setVisible(true);\n    }\n\n    public View getView() {\n        return view;\n    }\n\n    @Override\n    public void addCard(String name, JPanel card) {\n        view.getCardsPanel().add(card, name);\n        view.getCardComboBoxModel().addElement(name);\n    }\n\n    @Override\n    public void showCard(String name) {\n        view.getCardLayout().show(view.getCardsPanel(), name);\n    }\n\n    @Override\n    public void nextCard() {\n        view.getCardLayout().next(view.getCardsPanel());\n    }\n\n    @Override\n    public void previousCard() {\n        view.getCardLayout().previous(view.getCardsPanel());\n    }\n}\n</code></pre>\n<pre><code>interface CardController {\n    public void addCard(String name, JPanel card);\n\n    public void showGui();\n\n    public void showCard(String name);\n\n    public void nextCard();\n\n    public void previousCard();\n}\n</code></pre>\n<pre><code>interface View {\n\n    void setContoller(CardController controller);\n\n    CardLayout getCardLayout();\n\n    JPanel getCardsPanel();\n\n    JPanel getMainPanel();\n\n    DefaultComboBoxModel&lt;String&gt; getCardComboBoxModel();\n\n}\n</code></pre>\n<h1>CardView.java</h1>\n<p>The GUI class that holds the cardsPanel, the one that uses a CardLayout, and that displays the cards JPanels. It also has previousButton, nextButton and a JComboBox to allow selection of the visualized card</p>\n<pre><code>class CardView implements View {\n    private CardController controller;\n    private JPanel mainPanel = new JPanel(new BorderLayout());\n    private CardLayout cardLayout = new CardLayout();\n    private JPanel cardsPanel = new JPanel(cardLayout);\n    private DefaultComboBoxModel&lt;String&gt; cardComboBoxModel = new DefaultComboBoxModel&lt;&gt;();\n    private JComboBox&lt;String&gt; cardComboBox = new JComboBox&lt;&gt;(cardComboBoxModel);\n\n    public CardView() {\n        mainPanel.add(cardsPanel, BorderLayout.CENTER);\n\n        JPanel buttonPanel = new JPanel();\n\n        JButton previousButton = new JButton(&quot;Previous&quot;);\n        previousButton.addActionListener(e -&gt; {\n            if (controller != null)\n                controller.previousCard();\n        });\n        buttonPanel.add(previousButton);\n\n        JButton nextButton = new JButton(&quot;Next&quot;);\n        nextButton.addActionListener(e -&gt; {\n            if (controller != null)\n                controller.nextCard();\n        });\n        cardComboBox.addActionListener(e -&gt; {\n            if (controller != null)\n                controller.showCard((String) cardComboBox.getSelectedItem());\n        });\n\n        buttonPanel.add(nextButton);\n        buttonPanel.add(cardComboBox);\n\n        mainPanel.add(buttonPanel, BorderLayout.PAGE_END);\n    }\n\n    @Override\n    public void setContoller(CardController controller) {\n        this.controller = controller;\n    }\n\n    @Override\n    public CardLayout getCardLayout() {\n        return cardLayout;\n    }\n\n    @Override\n    public JPanel getCardsPanel() {\n        return cardsPanel;\n    }\n\n    @Override\n    public JPanel getMainPanel() {\n        return mainPanel;\n    }\n\n    @Override\n    public DefaultComboBoxModel&lt;String&gt; getCardComboBoxModel() {\n        return cardComboBoxModel;\n    }\n\n}\n</code></pre>\n<h1>RandomPanel.java</h1>\n<p>A dummy JPanel that simply displays text that is passed into its constructor with a randomly created background color. It has a nextButton to show that it can interact with the CardLayout that contols its display</p>\n<pre><code>class RandomPanel extends JPanel {\n    private CardController controller;\n\n    public RandomPanel(String name, CardController controller) {\n        this.controller = controller;\n\n        // random color to help distinguish panels\n        float hue = (float) Math.random();\n        float saturation = (float) (0.5 * Math.random() + 0.5);\n        float brightness = (float) (0.2 * Math.random() + 0.8);\n        Color randomColor = Color.getHSBColor(hue, saturation, brightness);\n        Color borderColor = Color.getHSBColor(hue, saturation, brightness - 0.4f);\n\n        setBorder(BorderFactory.createLineBorder(borderColor, 30));\n        setBackground(randomColor);\n\n        JLabel label = new JLabel(name);\n        label.setFont(label.getFont().deriveFont(64.0f));\n        int gap = 30;\n        label.setBorder(BorderFactory.createEmptyBorder(gap, gap, gap, gap));\n\n        JPanel buttonPanel = new JPanel();\n        buttonPanel.setOpaque(false);\n        JButton nextButton = new JButton(&quot;Next Card&quot;);\n        nextButton.addActionListener(e -&gt; {\n            if (controller != null)\n                controller.nextCard();\n        });\n        buttonPanel.add(nextButton);\n\n        setLayout(new BorderLayout());\n        add(label);\n        add(buttonPanel, BorderLayout.PAGE_END);\n    }\n\n    public CardController getController() {\n        return controller;\n    }\n}\n</code></pre>\n<hr />\n<h1>Complete MRE</h1>\n<p>The complete program in one single copy/paste compile/run file:</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.CardLayout;\nimport java.awt.Color;\n\nimport javax.swing.*;\n\npublic class MainGUI {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            View view = new CardView();\n            CardController controller = new ConcreteController(view);\n            String[] cards = { &quot;Card 1&quot;, &quot;Card 2&quot;, &quot;Card 3&quot;, &quot;Card 4&quot;, &quot;Card 5&quot;,\n                    &quot;Card 6&quot;, &quot;Card 7&quot;, &quot;Card 8&quot;, &quot;Card 9&quot;, &quot;Card 10&quot; };\n            for (String card : cards) {\n                JPanel cardPanel = new RandomPanel(card, controller);\n                controller.addCard(card, cardPanel);\n            }\n            controller.showGui();\n        });\n    }\n\n}\n\nclass ConcreteController implements CardController {\n    private View view;\n    private JFrame frame;\n\n    public ConcreteController(View view) {\n        this.view = view;\n\n        view.setContoller(this);\n    }\n\n    @Override\n    public void showGui() {\n        if (frame == null) {\n            frame = new JFrame(&quot;MainGUI&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.setContentPane(view.getMainPanel());\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n        }\n        frame.setVisible(true);\n    }\n\n    public View getView() {\n        return view;\n    }\n\n    @Override\n    public void addCard(String name, JPanel card) {\n        view.getCardsPanel().add(card, name);\n        view.getCardComboBoxModel().addElement(name);\n    }\n\n    @Override\n    public void showCard(String name) {\n        view.getCardLayout().show(view.getCardsPanel(), name);\n    }\n\n    @Override\n    public void nextCard() {\n        view.getCardLayout().next(view.getCardsPanel());\n    }\n\n    @Override\n    public void previousCard() {\n        view.getCardLayout().previous(view.getCardsPanel());\n    }\n}\n\ninterface CardController {\n    public void addCard(String name, JPanel card);\n\n    public void showGui();\n\n    public void showCard(String name);\n\n    public void nextCard();\n\n    public void previousCard();\n}\n\ninterface View {\n\n    void setContoller(CardController controller);\n\n    CardLayout getCardLayout();\n\n    JPanel getCardsPanel();\n\n    JPanel getMainPanel();\n\n    DefaultComboBoxModel&lt;String&gt; getCardComboBoxModel();\n\n}\n\nclass CardView implements View {\n    private CardController controller;\n    private JPanel mainPanel = new JPanel(new BorderLayout());\n    private CardLayout cardLayout = new CardLayout();\n    private JPanel cardsPanel = new JPanel(cardLayout);\n    private DefaultComboBoxModel&lt;String&gt; cardComboBoxModel = new DefaultComboBoxModel&lt;&gt;();\n    private JComboBox&lt;String&gt; cardComboBox = new JComboBox&lt;&gt;(cardComboBoxModel);\n\n    public CardView() {\n        mainPanel.add(cardsPanel, BorderLayout.CENTER);\n\n        JPanel buttonPanel = new JPanel();\n\n        JButton previousButton = new JButton(&quot;Previous&quot;);\n        previousButton.addActionListener(e -&gt; {\n            if (controller != null)\n                controller.previousCard();\n        });\n        buttonPanel.add(previousButton);\n\n        JButton nextButton = new JButton(&quot;Next&quot;);\n        nextButton.addActionListener(e -&gt; {\n            if (controller != null)\n                controller.nextCard();\n        });\n        cardComboBox.addActionListener(e -&gt; {\n            if (controller != null)\n                controller.showCard((String) cardComboBox.getSelectedItem());\n        });\n\n        buttonPanel.add(nextButton);\n        buttonPanel.add(cardComboBox);\n\n        mainPanel.add(buttonPanel, BorderLayout.PAGE_END);\n    }\n\n    @Override\n    public void setContoller(CardController controller) {\n        this.controller = controller;\n    }\n\n    @Override\n    public CardLayout getCardLayout() {\n        return cardLayout;\n    }\n\n    @Override\n    public JPanel getCardsPanel() {\n        return cardsPanel;\n    }\n\n    @Override\n    public JPanel getMainPanel() {\n        return mainPanel;\n    }\n\n    @Override\n    public DefaultComboBoxModel&lt;String&gt; getCardComboBoxModel() {\n        return cardComboBoxModel;\n    }\n\n}\n\nclass RandomPanel extends JPanel {\n    private CardController controller;\n\n    public RandomPanel(String name, CardController controller) {\n        this.controller = controller;\n\n        // random color to help distinguish panels\n        float hue = (float) Math.random();\n        float saturation = (float) (0.5 * Math.random() + 0.5);\n        float brightness = (float) (0.2 * Math.random() + 0.8);\n        Color randomColor = Color.getHSBColor(hue, saturation, brightness);\n        Color borderColor = Color.getHSBColor(hue, saturation, brightness - 0.4f);\n\n        setBorder(BorderFactory.createLineBorder(borderColor, 30));\n        setBackground(randomColor);\n\n        JLabel label = new JLabel(name);\n        label.setFont(label.getFont().deriveFont(64.0f));\n        int gap = 30;\n        label.setBorder(BorderFactory.createEmptyBorder(gap, gap, gap, gap));\n\n        JPanel buttonPanel = new JPanel();\n        buttonPanel.setOpaque(false);\n        JButton nextButton = new JButton(&quot;Next Card&quot;);\n        nextButton.addActionListener(e -&gt; {\n            if (controller != null)\n                controller.nextCard();\n        });\n        buttonPanel.add(nextButton);\n\n        setLayout(new BorderLayout());\n        add(label);\n        add(buttonPanel, BorderLayout.PAGE_END);\n    }\n\n    public CardController getController() {\n        return controller;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29874239,"reputation":7,"user_id":22894871,"display_name":"Daniele "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1699652794,"creation_date":1699642848,"question_id":77462302,"body_markdown":"I&#39;m developing a game, written in java swing.\r\nI create a class MainGUI that extends JFrame, to contain the multiple screens of the application. In other classes, I create different JPanels, like StartPanel and GamePanel, that are inserted during execution in the MainGUI. In the StartPanel, when the user entered the nickname, a button allows to switch to GamePanel.\r\n\r\nThe problem is that I can&#39;t switch panels.\r\nI try to use CardLayout, but when I press a button in a panel, I can&#39;t handle the event in the MainGUI and show a different panel.\r\n\r\nI used the MVC design pattern, so there are 3 packages (controller, model, view) that communicate with each other thanks to the classes ControllerForModel, ControllerForView, View and Model, that implement the relevant interface.\r\n\r\nThe application is started thanks to the class Main in controller package.\r\n\r\n\r\n```\r\npackage frogger.view;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Container;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\n\r\npublic class MainGUI extends JFrame {\r\n\r\n\t//---------------------------------------------------------------\r\n\t// STATIC FIELDS\r\n\t//---------------------------------------------------------------\r\n\t\r\n\tpublic MainGUI(String title) {\r\n\t\tsuper(title);\r\n\t\t\r\n\t\tthis.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\r\n\t\tStartPanel startPane = new StartPanel();\r\n\t\t\r\n\t\tContainer contPane = this.getContentPane();\r\n\t\tcontPane.add(startPane);\r\n\r\n\t\tthis.pack();\r\n\t} //end constructor\r\n\t\r\n```\r\n\r\nThis is the code of MainGUI class, and it only shows the StartPanel.\r\n\r\n\r\n```\r\npackage frogger.view;\r\n\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.Component;\r\nimport java.awt.Container;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.GridBagLayout;\r\nimport java.awt.Image;\r\nimport java.awt.GridBagConstraints;\r\nimport java.awt.Insets;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\n\r\nimport javax.swing.GroupLayout;\r\nimport javax.swing.ImageIcon;\r\nimport javax.swing.JButton;\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JTextField;\r\n\r\npublic class StartPanel extends JPanel {\r\n\t\r\n\t//---------------------------------------------------------------\r\n\t// CONSTANTS FIELDS\r\n\t//---------------------------------------------------------------\r\n\tprivate final static String LOGO_PATH = &quot;img/logo.png&quot;;\r\n\t\r\n\t\r\n\t//---------------------------------------------------------------\r\n\t// STATIC FIELDS\r\n\t//---------------------------------------------------------------\r\n\tprivate static Image logoImg;\r\n\t\r\n\tprivate static JLabel logoLabel;\r\n\tprivate static JLabel newGameLabel;\r\n\tprivate static JLabel loadGameLabel;\r\n\tprivate static JLabel newGameLabelInCurrentDisplayedPanel;\r\n\r\n\tprivate static JButton newGameButton;\r\n\tprivate static JButton loadGameButton;\r\n\tprivate static JButton newGameButtonInCurrentDisplayedPanel;\r\n\t\r\n\tprivate static JTextField nicknameTextField;\r\n\t\r\n\tprivate static JPanel currentDisplayedPanel;\r\n\t\r\n\tpublic StartPanel() {\r\n\t\t//todo\r\n\t\tsuper();\r\n\t\tthis.setLayout(new GridBagLayout());\r\n\t\t\r\n\t\tloadImage(LOGO_PATH);\r\n\t\tthis.logoLabel = new JLabel(new ImageIcon(this.logoImg.getScaledInstance(400, 200, Image.SCALE_SMOOTH)));\r\n\t\tlocateLogoLabel();\r\n\t\t\r\n\t\tthis.newGameLabel = new JLabel(&quot;Start a new game:&quot;);\r\n\t\tlocateNewGameLabel();\r\n\t\t\r\n\t\tthis.newGameButton = new JButton(&quot;New&quot;);\r\n\t\tthis.newGameButton.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\thandleShowNewGamePanelEvent();\r\n\t\t\t}\r\n\t\t});\r\n\t\tlocateNewGameButton();\r\n\t\t\r\n\t\tthis.loadGameLabel = new JLabel(&quot;Load a previously saved game:&quot;);\r\n\t\tlocateLoadGameLabel();\r\n\t\t\r\n\t\tthis.loadGameButton = new JButton(&quot;Load&quot;);\r\n\t\tthis.loadGameButton.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\thandleShowLoadGamePanelEvent(e);\r\n\t\t\t}\r\n\t\t});\r\n\t\tlocateLoadGameButton();\r\n\t\t\r\n\t\tthis.currentDisplayedPanel = new JPanel(new GridBagLayout());\r\n\t\tthis.currentDisplayedPanel.setPreferredSize(new Dimension(400, 100));\r\n\t\tlocateCurrentDisplayedPanel();\r\n\t\t\r\n\t} //end constructor\r\n\r\n\t\r\n\t//---------------------------------------------------------------\r\n\t// INSTANCE METHODS\r\n\t//---------------------------------------------------------------\r\n\tprivate void handleNewGameEvent() {\r\n\t\t//todo\r\n\t}\r\n\t\r\n\tprivate void handleLoadGameEvent() {\r\n\t\t//todo\t\r\n\t}\r\n\t\r\n\tprivate void handleShowNewGamePanelEvent() {\r\n\t\tSystem.out.println(&quot;New game button pressed&quot;);\r\n\t\t\r\n\t\tthis.newGameLabelInCurrentDisplayedPanel = new JLabel(&quot;Inserisci il tuo nickname:&quot;);\r\n\t\tlocateNewGameLabelInCurrentDisplayedPanel();\r\n\t\t\r\n\t\tthis.nicknameTextField = new JTextField(15);\r\n\t\tlocateNicknameTextFieldInCurrentDisplayedPanel();\r\n\t\t\r\n\t\tthis.newGameButtonInCurrentDisplayedPanel = new JButton(&quot;Conferma&quot;);\r\n\t\tthis.newGameButtonInCurrentDisplayedPanel.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\thandleNewGameEvent();\r\n\t\t\t}\r\n\t\t});\r\n\t\tlocateNewGameButtonInCurrentDisplayedPanel();\r\n\t\t\r\n\t\t\r\n\t\tthis.currentDisplayedPanel.revalidate();\r\n\t\tthis.currentDisplayedPanel.repaint();\r\n\t\t\r\n\t}\r\n\t\r\n\tprivate void handleShowLoadGamePanelEvent() {\r\n\t\tSystem.out.println(&quot;Load game button pressed&quot;);\r\n\t}\r\n\t\r\n} //end class\r\n```\r\nThis is the code of StartPanel.\r\n\r\n\r\n```\r\npackage frogger.controller;\r\n\r\nimport frogger.view.MainGUI;\r\n\r\npublic class Main {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tControllerForView.getInstance().openGameWindow();\r\n\t}\r\n}\r\n```\r\n\r\nAnd this is the code of the class Main that starts the application.\r\n\r\nThe question is: how can I switch from StartPanel to GamePanel when the user press newGameButton? In other words, how can I implement the method handleNewGameEvent() to dialogue with the MainGUI?\r\n\r\nThanks everyone in advance\r\n\r\n\r\n\r\nI tried to use CardLayout in MainGUI to show a panel and another, but I don&#39;t know how to communicate to MainGUI that has to switch panel when the user clicks on a button in a panel describe with an external class.","title":"How to switch from a JPanel to another","body":"<p>I'm developing a game, written in java swing.\nI create a class MainGUI that extends JFrame, to contain the multiple screens of the application. In other classes, I create different JPanels, like StartPanel and GamePanel, that are inserted during execution in the MainGUI. In the StartPanel, when the user entered the nickname, a button allows to switch to GamePanel.</p>\n<p>The problem is that I can't switch panels.\nI try to use CardLayout, but when I press a button in a panel, I can't handle the event in the MainGUI and show a different panel.</p>\n<p>I used the MVC design pattern, so there are 3 packages (controller, model, view) that communicate with each other thanks to the classes ControllerForModel, ControllerForView, View and Model, that implement the relevant interface.</p>\n<p>The application is started thanks to the class Main in controller package.</p>\n<pre><code>package frogger.view;\n\nimport java.awt.Color;\nimport java.awt.Container;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class MainGUI extends JFrame {\n\n    //---------------------------------------------------------------\n    // STATIC FIELDS\n    //---------------------------------------------------------------\n    \n    public MainGUI(String title) {\n        super(title);\n        \n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n        StartPanel startPane = new StartPanel();\n        \n        Container contPane = this.getContentPane();\n        contPane.add(startPane);\n\n        this.pack();\n    } //end constructor\n    \n</code></pre>\n<p>This is the code of MainGUI class, and it only shows the StartPanel.</p>\n<pre><code>package frogger.view;\n\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Component;\nimport java.awt.Container;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.GridBagLayout;\nimport java.awt.Image;\nimport java.awt.GridBagConstraints;\nimport java.awt.Insets;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.io.File;\nimport java.io.IOException;\n\nimport javax.swing.GroupLayout;\nimport javax.swing.ImageIcon;\nimport javax.swing.JButton;\nimport javax.imageio.ImageIO;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\n\npublic class StartPanel extends JPanel {\n    \n    //---------------------------------------------------------------\n    // CONSTANTS FIELDS\n    //---------------------------------------------------------------\n    private final static String LOGO_PATH = &quot;img/logo.png&quot;;\n    \n    \n    //---------------------------------------------------------------\n    // STATIC FIELDS\n    //---------------------------------------------------------------\n    private static Image logoImg;\n    \n    private static JLabel logoLabel;\n    private static JLabel newGameLabel;\n    private static JLabel loadGameLabel;\n    private static JLabel newGameLabelInCurrentDisplayedPanel;\n\n    private static JButton newGameButton;\n    private static JButton loadGameButton;\n    private static JButton newGameButtonInCurrentDisplayedPanel;\n    \n    private static JTextField nicknameTextField;\n    \n    private static JPanel currentDisplayedPanel;\n    \n    public StartPanel() {\n        //todo\n        super();\n        this.setLayout(new GridBagLayout());\n        \n        loadImage(LOGO_PATH);\n        this.logoLabel = new JLabel(new ImageIcon(this.logoImg.getScaledInstance(400, 200, Image.SCALE_SMOOTH)));\n        locateLogoLabel();\n        \n        this.newGameLabel = new JLabel(&quot;Start a new game:&quot;);\n        locateNewGameLabel();\n        \n        this.newGameButton = new JButton(&quot;New&quot;);\n        this.newGameButton.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                handleShowNewGamePanelEvent();\n            }\n        });\n        locateNewGameButton();\n        \n        this.loadGameLabel = new JLabel(&quot;Load a previously saved game:&quot;);\n        locateLoadGameLabel();\n        \n        this.loadGameButton = new JButton(&quot;Load&quot;);\n        this.loadGameButton.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                handleShowLoadGamePanelEvent(e);\n            }\n        });\n        locateLoadGameButton();\n        \n        this.currentDisplayedPanel = new JPanel(new GridBagLayout());\n        this.currentDisplayedPanel.setPreferredSize(new Dimension(400, 100));\n        locateCurrentDisplayedPanel();\n        \n    } //end constructor\n\n    \n    //---------------------------------------------------------------\n    // INSTANCE METHODS\n    //---------------------------------------------------------------\n    private void handleNewGameEvent() {\n        //todo\n    }\n    \n    private void handleLoadGameEvent() {\n        //todo  \n    }\n    \n    private void handleShowNewGamePanelEvent() {\n        System.out.println(&quot;New game button pressed&quot;);\n        \n        this.newGameLabelInCurrentDisplayedPanel = new JLabel(&quot;Inserisci il tuo nickname:&quot;);\n        locateNewGameLabelInCurrentDisplayedPanel();\n        \n        this.nicknameTextField = new JTextField(15);\n        locateNicknameTextFieldInCurrentDisplayedPanel();\n        \n        this.newGameButtonInCurrentDisplayedPanel = new JButton(&quot;Conferma&quot;);\n        this.newGameButtonInCurrentDisplayedPanel.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                handleNewGameEvent();\n            }\n        });\n        locateNewGameButtonInCurrentDisplayedPanel();\n        \n        \n        this.currentDisplayedPanel.revalidate();\n        this.currentDisplayedPanel.repaint();\n        \n    }\n    \n    private void handleShowLoadGamePanelEvent() {\n        System.out.println(&quot;Load game button pressed&quot;);\n    }\n    \n} //end class\n</code></pre>\n<p>This is the code of StartPanel.</p>\n<pre><code>package frogger.controller;\n\nimport frogger.view.MainGUI;\n\npublic class Main {\n    \n    public static void main(String[] args) {\n        ControllerForView.getInstance().openGameWindow();\n    }\n}\n</code></pre>\n<p>And this is the code of the class Main that starts the application.</p>\n<p>The question is: how can I switch from StartPanel to GamePanel when the user press newGameButton? In other words, how can I implement the method handleNewGameEvent() to dialogue with the MainGUI?</p>\n<p>Thanks everyone in advance</p>\n<p>I tried to use CardLayout in MainGUI to show a panel and another, but I don't know how to communicate to MainGUI that has to switch panel when the user clicks on a button in a panel describe with an external class.</p>\n"},{"tags":["java","swing","serialization","imageicon"],"comments":[{"owner":{"account_id":203953,"reputation":5113,"user_id":451894,"accept_rate":53,"display_name":"upog"},"score":0,"creation_date":1382589038,"post_id":19556932,"comment_id":29020642,"body_markdown":"try serialization for persisting java object","body":"try serialization for persisting java object"},{"owner":{"account_id":2830385,"reputation":735,"user_id":2432086,"accept_rate":80,"display_name":"Ashish"},"score":0,"creation_date":1382589228,"post_id":19556932,"comment_id":29020686,"body_markdown":"you can save the state of each cell and retrieve it later. or as @upog    said serialize the object and store it in database.","body":"you can save the state of each cell and retrieve it later. or as @upog    said serialize the object and store it in database."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1699652120,"creation_date":1382589501,"answer_id":19557052,"question_id":19556932,"body_markdown":"There are any number of possible choices...\r\n\r\n## You could ##\r\n\r\nUse the `Properties` API, which provides save and load functionality.\r\n\r\nThe API works like a `Map`, allowing you to store key/value pairs, which you can save and load as required.\r\n\r\nThe API only allows you to store `String` values, so you would need to convert non-String values manually.\r\n\r\nJust remember to save them as the API does not automatically persist the changes\r\n\r\nTake a look at [Properties](http://docs.oracle.com/javase/tutorial/essential/environment/properties.html) for more details.\r\n\r\n## You could ##\r\n\r\nRoll you own XML file or use something like [JAXB](http://docs.oracle.com/javase/tutorial/jaxb/intro/) which allows you to bind properties of object and export/import them to/from XML\r\n\r\nThis approach would be more flexible then using `Properties`, but introduces a level of complexity\r\n\r\n## You Could ##\r\n\r\nUse the [`Preferences`](http://docs.oracle.com/javase/7/docs/api/java/util/prefs/Preferences.html) API, which allows you to store `String` and primitive values, with out the need to perform any type of converstion.\r\n\r\nThe `Preferences` API also automatically loads and stores it&#39;s content, but it will do so where it wants to, so you lose control over where the content is stored.\r\n\r\n## You Could ##\r\n\r\nUse a stand alone/single user database like [H2](http://www.h2database.com/html/main.html) or [HSQLDB](http://hsqldb.org/) for example.  It&#39;s a little more complicated but does take care of the basic storage requirements.\r\n\r\nIt would also require additional time to update should you change your requirements, over something like using `Properties` or `Preferences` and might be a little overkill if all you are storing is the cell data...IMHO\r\n\r\n## You Could ##\r\n\r\nTry using object serialization, but the API was never meant for the long term storage of object states and carries its own bag of problems and I would personally avoid it, but that&#39;s me.","title":"How can I save the state of my program and then load it?","body":"<p>There are any number of possible choices...</p>\n<h2>You could</h2>\n<p>Use the <code>Properties</code> API, which provides save and load functionality.</p>\n<p>The API works like a <code>Map</code>, allowing you to store key/value pairs, which you can save and load as required.</p>\n<p>The API only allows you to store <code>String</code> values, so you would need to convert non-String values manually.</p>\n<p>Just remember to save them as the API does not automatically persist the changes</p>\n<p>Take a look at <a href=\"http://docs.oracle.com/javase/tutorial/essential/environment/properties.html\" rel=\"nofollow noreferrer\">Properties</a> for more details.</p>\n<h2>You could</h2>\n<p>Roll you own XML file or use something like <a href=\"http://docs.oracle.com/javase/tutorial/jaxb/intro/\" rel=\"nofollow noreferrer\">JAXB</a> which allows you to bind properties of object and export/import them to/from XML</p>\n<p>This approach would be more flexible then using <code>Properties</code>, but introduces a level of complexity</p>\n<h2>You Could</h2>\n<p>Use the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/prefs/Preferences.html\" rel=\"nofollow noreferrer\"><code>Preferences</code></a> API, which allows you to store <code>String</code> and primitive values, with out the need to perform any type of converstion.</p>\n<p>The <code>Preferences</code> API also automatically loads and stores it's content, but it will do so where it wants to, so you lose control over where the content is stored.</p>\n<h2>You Could</h2>\n<p>Use a stand alone/single user database like <a href=\"http://www.h2database.com/html/main.html\" rel=\"nofollow noreferrer\">H2</a> or <a href=\"http://hsqldb.org/\" rel=\"nofollow noreferrer\">HSQLDB</a> for example.  It's a little more complicated but does take care of the basic storage requirements.</p>\n<p>It would also require additional time to update should you change your requirements, over something like using <code>Properties</code> or <code>Preferences</code> and might be a little overkill if all you are storing is the cell data...IMHO</p>\n<h2>You Could</h2>\n<p>Try using object serialization, but the API was never meant for the long term storage of object states and carries its own bag of problems and I would personally avoid it, but that's me.</p>\n"},{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1421044893,"creation_date":1421044893,"answer_id":27896617,"question_id":19556932,"body_markdown":"In a Java app., there are a great variety of ways to go about serializing app. data.  \r\n\r\n- For applets there are cookies.  \r\n- For apps. launched using JWS, the `PersistenceService`\r\n- Any app. might use the `Preferences` API.  \r\n\r\nAll those forms of serialization are meant for stuff that can be encoded into a String based name and value.  \r\n\r\n- A `Properties` file is also good for name/value type info.  \r\n- For more complex data I would create a bean and use `XMLEncoder`/`XMLDecoder`.  \r\n- A Zip file is good for serializing data that might be in many different forms (e.g. part XML, part Properties, some screenshot images..).\r\n\r\nIf using the properties, XML or Zip archive, a good place to save the info. is a sub-directory of `user.home`.  It is reproducible and the app. should have read/write permissions.","title":"How can I save the state of my program and then load it?","body":"<p>In a Java app., there are a great variety of ways to go about serializing app. data.  </p>\n\n<ul>\n<li>For applets there are cookies.  </li>\n<li>For apps. launched using JWS, the <code>PersistenceService</code></li>\n<li>Any app. might use the <code>Preferences</code> API.  </li>\n</ul>\n\n<p>All those forms of serialization are meant for stuff that can be encoded into a String based name and value.  </p>\n\n<ul>\n<li>A <code>Properties</code> file is also good for name/value type info.  </li>\n<li>For more complex data I would create a bean and use <code>XMLEncoder</code>/<code>XMLDecoder</code>.  </li>\n<li>A Zip file is good for serializing data that might be in many different forms (e.g. part XML, part Properties, some screenshot images..).</li>\n</ul>\n\n<p>If using the properties, XML or Zip archive, a good place to save the info. is a sub-directory of <code>user.home</code>.  It is reproducible and the app. should have read/write permissions.</p>\n"}],"owner":{"account_id":3482424,"reputation":11,"user_id":2914101,"display_name":"josh sanders"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2977,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1699652120,"creation_date":1382588880,"question_id":19556932,"body_markdown":"I&#39;m trying to save and reload the state of my Swing program, which in this case is a Minesweeper game. My code for the board is below.\r\n\r\n    package mines;\r\n\r\n    import java.awt.Graphics;\r\n    import java.awt.Image;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    \r\n    import java.util.Random;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Board extends JPanel {\r\n \r\n        public static void main (String[] args)  {}\r\n        private final int NUM_IMAGES = 13;\r\n        private final int CELL_SIZE = 15;\r\n\r\n        private final int COVER_FOR_CELL = 10;\r\n        private final int MARK_FOR_CELL = 10;\r\n        private final int EMPTY_CELL = 0;\r\n        private final int MINE_CELL = 9;\r\n        private final int COVERED_MINE_CELL = MINE_CELL + COVER_FOR_CELL;\r\n        private final int MARKED_MINE_CELL = COVERED_MINE_CELL + MARK_FOR_CELL;\r\n\r\n        private final int DRAW_MINE = 9;\r\n        private final int DRAW_COVER = 10;\r\n        private final int DRAW_MARK = 11;\r\n        private final int DRAW_WRONG_MARK = 12;\r\n\r\n        private int[] field;\r\n        private boolean inGame;\r\n        private int mines_left;\r\n        private Image[] img;\r\n        private int mines = 40;\r\n        private int rows = 16;\r\n        private int cols = 16;\r\n        private int all_cells;\r\n        private JLabel statusbar;\r\n\r\n        public Board(JLabel statusbar) {\r\n    \r\n            this.statusbar = statusbar;\r\n\r\n            img = new Image[NUM_IMAGES];\r\n\r\n            for (int i = 0; i &lt; NUM_IMAGES; i++) {\r\n                img[i] =\r\n                    (new ImageIcon(this.getClass().getResource((i)\r\n                        + &quot;.png&quot;))).getImage();\r\n            }\r\n\r\n            setDoubleBuffered(true);\r\n    \r\n            addMouseListener(new MinesAdapter());\r\n        \r\n            newGame();\r\n        }\r\n\r\n\r\n        public void newGame() {\r\n\r\n            Random random;\r\n            int current_col;\r\n\r\n            int i = 0;\r\n            int position = 0;\r\n            int cell = 0;\r\n\r\n            random = new Random();\r\n            inGame = true;\r\n        mines_left = mines;\r\n\r\n        all_cells = rows * cols;\r\n        field = new int[all_cells];\r\n        \r\n        for (i = 0; i &lt; all_cells; i++)\r\n            field[i] = COVER_FOR_CELL;\r\n\r\n        statusbar.setText(Integer.toString(mines_left));\r\n\r\n\r\n        i = 0;\r\n        while (i &lt; mines) {\r\n\r\n            position = (int) (all_cells * random.nextDouble());\r\n\r\n            if ((position &lt; all_cells) &amp;&amp;\r\n                (field[position] != COVERED_MINE_CELL)) {\r\n\r\n\r\n                current_col = position % cols;\r\n                field[position] = COVERED_MINE_CELL;\r\n                i++;\r\n\r\n                if (current_col &gt; 0) { \r\n                    cell = position - 1 - cols;\r\n                    if (cell &gt;= 0)\r\n                        if (field[cell] != COVERED_MINE_CELL)\r\n                            field[cell] += 1;\r\n                    cell = position - 1;\r\n                    if (cell &gt;= 0)\r\n                        if (field[cell] != COVERED_MINE_CELL)\r\n                            field[cell] += 1;\r\n\r\n                    cell = position + cols - 1;\r\n                    if (cell &lt; all_cells)\r\n                        if (field[cell] != COVERED_MINE_CELL)\r\n                            field[cell] += 1;\r\n                }\r\n\r\n                cell = position - cols;\r\n                if (cell &gt;= 0)\r\n                    if (field[cell] != COVERED_MINE_CELL)\r\n                        field[cell] += 1;\r\n                cell = position + cols;\r\n                if (cell &lt; all_cells)\r\n                    if (field[cell] != COVERED_MINE_CELL)\r\n                        field[cell] += 1;\r\n\r\n                if (current_col &lt; (cols - 1)) {\r\n                    cell = position - cols + 1;\r\n                    if (cell &gt;= 0)\r\n                        if (field[cell] != COVERED_MINE_CELL)\r\n                            field[cell] += 1;\r\n                    cell = position + cols + 1;\r\n                    if (cell &lt; all_cells)\r\n                        if (field[cell] != COVERED_MINE_CELL)\r\n                            field[cell] += 1;\r\n                    cell = position + 1;\r\n                    if (cell &lt; all_cells)\r\n                        if (field[cell] != COVERED_MINE_CELL)\r\n                            field[cell] += 1;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    public void find_empty_cells(int j) {\r\n\r\n        int current_col = j % cols;\r\n        int cell;\r\n\r\n        if (current_col &gt; 0) { \r\n            cell = j - cols - 1;\r\n            if (cell &gt;= 0)\r\n                if (field[cell] &gt; MINE_CELL) {\r\n                    field[cell] -= COVER_FOR_CELL;\r\n                    if (field[cell] == EMPTY_CELL)\r\n                        find_empty_cells(cell);\r\n                }\r\n\r\n            cell = j - 1;\r\n            if (cell &gt;= 0)\r\n                if (field[cell] &gt; MINE_CELL) {\r\n                    field[cell] -= COVER_FOR_CELL;\r\n                    if (field[cell] == EMPTY_CELL)\r\n                        find_empty_cells(cell);\r\n                }\r\n\r\n            cell = j + cols - 1;\r\n            if (cell &lt; all_cells)\r\n                if (field[cell] &gt; MINE_CELL) {\r\n                    field[cell] -= COVER_FOR_CELL;\r\n                    if (field[cell] == EMPTY_CELL)\r\n                        find_empty_cells(cell);\r\n                }\r\n        }\r\n\r\n          cell = j - cols;\r\n        if (cell &gt;= 0)\r\n            if (field[cell] &gt; MINE_CELL) {\r\n                field[cell] -= COVER_FOR_CELL;\r\n                if (field[cell] == EMPTY_CELL)\r\n                    find_empty_cells(cell);\r\n            }\r\n\r\n           cell = j + cols;\r\n           if (cell &lt; all_cells)\r\n            if (field[cell] &gt; MINE_CELL) {\r\n                field[cell] -= COVER_FOR_CELL;\r\n                if (field[cell] == EMPTY_CELL)\r\n                    find_empty_cells(cell);\r\n               }\r\n\r\n              if (current_col &lt; (cols - 1)) {\r\n               cell = j - cols + 1;\r\n                 if (cell &gt;= 0)\r\n                   if (field[cell] &gt; MINE_CELL) {\r\n                    field[cell] -= COVER_FOR_CELL;\r\n                    if (field[cell] == EMPTY_CELL)\r\n                        find_empty_cells(cell);\r\n                }\r\n\r\n               cell = j + cols + 1;\r\n                if (cell &lt; all_cells)\r\n                   if (field[cell] &gt; MINE_CELL) {\r\n                    field[cell] -= COVER_FOR_CELL;\r\n                    if (field[cell] == EMPTY_CELL)\r\n                        find_empty_cells(cell);\r\n                }\r\n\r\n              cell = j + 1;\r\n               if (cell &lt; all_cells)\r\n                if (field[cell] &gt; MINE_CELL) {\r\n                    field[cell] -= COVER_FOR_CELL;\r\n                    if (field[cell] == EMPTY_CELL)\r\n                        find_empty_cells(cell);\r\n                   }\r\n            }\r\n \r\n           }\r\n\r\n          public void paint(Graphics g) {\r\n\r\n           int cell = 0;\r\n            int uncover = 0;\r\n\r\n\r\n            for (int i = 0; i &lt; rows; i++) {\r\n            for (int j = 0; j &lt; cols; j++) {\r\n\r\n                cell = field[(i * cols) + j];\r\n\r\n                if (inGame &amp;&amp; cell == MINE_CELL)\r\n                    inGame = false;\r\n\r\n                if (!inGame) {\r\n                    if (cell == COVERED_MINE_CELL) {\r\n                        cell = DRAW_MINE;\r\n                    } else if (cell == MARKED_MINE_CELL) {\r\n                        cell = DRAW_MARK;\r\n                    } else if (cell &gt; COVERED_MINE_CELL) {\r\n                        cell = DRAW_WRONG_MARK;\r\n                    } else if (cell &gt; MINE_CELL) {\r\n                        cell = DRAW_COVER;\r\n                    }\r\n\r\n\r\n                } else {\r\n                    if (cell &gt; COVERED_MINE_CELL)\r\n                        cell = DRAW_MARK;\r\n                    else if (cell &gt; MINE_CELL) {\r\n                        cell = DRAW_COVER;\r\n                        uncover++;\r\n                    }\r\n                }\r\n\r\n                g.drawImage(img[cell], (j * CELL_SIZE),\r\n                    (i * CELL_SIZE), this);\r\n            }\r\n           }\r\n\r\n\r\n          if (uncover == 0 &amp;&amp; inGame) {\r\n            inGame = false;\r\n            statusbar.setText(&quot;Game won&quot;);\r\n          } else if (!inGame)\r\n            statusbar.setText(&quot;Game lost&quot;);\r\n           }\r\n     \r\n\r\n\r\n\r\n         class MinesAdapter extends MouseAdapter {\r\n           public void mousePressed(MouseEvent e) {\r\n\r\n            int x = e.getX();\r\n            int y = e.getY();\r\n\r\n            int cCol = x / CELL_SIZE;\r\n            int cRow = y / CELL_SIZE;\r\n\r\n            boolean rep = false;\r\n\r\n\r\n              if (!inGame) {\r\n                newGame();\r\n                repaint();\r\n              }\r\n\r\n \r\n             if ((x &lt; cols * CELL_SIZE) &amp;&amp; (y &lt; rows * CELL_SIZE)) {\r\n \r\n                if (e.getButton() == MouseEvent.BUTTON3) {\r\n\r\n                    if (field[(cRow * cols) + cCol] &gt; MINE_CELL) {\r\n                        rep = true;\r\n\r\n                        if (field[(cRow * cols) + cCol] &lt;= COVERED_MINE_CELL) {\r\n                            if (mines_left &gt; 0) {\r\n                                field[(cRow * cols) + cCol] += MARK_FOR_CELL;\r\n                                mines_left--;\r\n                                statusbar.setText(Integer.toString(mines_left));\r\n                            } else\r\n                                statusbar.setText(&quot;No marks left&quot;);\r\n                        } else {\r\n\r\n                            field[(cRow * cols) + cCol] -= MARK_FOR_CELL;\r\n                            mines_left++;\r\n                            statusbar.setText(Integer.toString(mines_left));\r\n                        }\r\n                    }\r\n\r\n                } else {\r\n\r\n                    if (field[(cRow * cols) + cCol] &gt; COVERED_MINE_CELL) {\r\n                        return;\r\n                    }\r\n\r\n                    if ((field[(cRow * cols) + cCol] &gt; MINE_CELL) &amp;&amp;\r\n                        (field[(cRow * cols) + cCol] &lt; MARKED_MINE_CELL)) {\r\n\r\n                        field[(cRow * cols) + cCol] -= COVER_FOR_CELL;\r\n                        rep = true;\r\n\r\n                        if (field[(cRow * cols) + cCol] == MINE_CELL)\r\n                            inGame = false;\r\n                        if (field[(cRow * cols) + cCol] == EMPTY_CELL)\r\n                            find_empty_cells((cRow * cols) + cCol);\r\n                    }\r\n                }\r\n\r\n                if (rep)\r\n                    repaint();\r\n\r\n                }\r\n            }\r\n        }\r\n    }","title":"How can I save the state of my program and then load it?","body":"<p>I'm trying to save and reload the state of my Swing program, which in this case is a Minesweeper game. My code for the board is below.</p>\n\n<pre><code>package mines;\n\nimport java.awt.Graphics;\nimport java.awt.Image;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\n\nimport java.util.Random;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.ImageIcon;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\n\npublic class Board extends JPanel {\n\n    public static void main (String[] args)  {}\n    private final int NUM_IMAGES = 13;\n    private final int CELL_SIZE = 15;\n\n    private final int COVER_FOR_CELL = 10;\n    private final int MARK_FOR_CELL = 10;\n    private final int EMPTY_CELL = 0;\n    private final int MINE_CELL = 9;\n    private final int COVERED_MINE_CELL = MINE_CELL + COVER_FOR_CELL;\n    private final int MARKED_MINE_CELL = COVERED_MINE_CELL + MARK_FOR_CELL;\n\n    private final int DRAW_MINE = 9;\n    private final int DRAW_COVER = 10;\n    private final int DRAW_MARK = 11;\n    private final int DRAW_WRONG_MARK = 12;\n\n    private int[] field;\n    private boolean inGame;\n    private int mines_left;\n    private Image[] img;\n    private int mines = 40;\n    private int rows = 16;\n    private int cols = 16;\n    private int all_cells;\n    private JLabel statusbar;\n\n    public Board(JLabel statusbar) {\n\n        this.statusbar = statusbar;\n\n        img = new Image[NUM_IMAGES];\n\n        for (int i = 0; i &lt; NUM_IMAGES; i++) {\n            img[i] =\n                (new ImageIcon(this.getClass().getResource((i)\n                    + \".png\"))).getImage();\n        }\n\n        setDoubleBuffered(true);\n\n        addMouseListener(new MinesAdapter());\n\n        newGame();\n    }\n\n\n    public void newGame() {\n\n        Random random;\n        int current_col;\n\n        int i = 0;\n        int position = 0;\n        int cell = 0;\n\n        random = new Random();\n        inGame = true;\n    mines_left = mines;\n\n    all_cells = rows * cols;\n    field = new int[all_cells];\n\n    for (i = 0; i &lt; all_cells; i++)\n        field[i] = COVER_FOR_CELL;\n\n    statusbar.setText(Integer.toString(mines_left));\n\n\n    i = 0;\n    while (i &lt; mines) {\n\n        position = (int) (all_cells * random.nextDouble());\n\n        if ((position &lt; all_cells) &amp;&amp;\n            (field[position] != COVERED_MINE_CELL)) {\n\n\n            current_col = position % cols;\n            field[position] = COVERED_MINE_CELL;\n            i++;\n\n            if (current_col &gt; 0) { \n                cell = position - 1 - cols;\n                if (cell &gt;= 0)\n                    if (field[cell] != COVERED_MINE_CELL)\n                        field[cell] += 1;\n                cell = position - 1;\n                if (cell &gt;= 0)\n                    if (field[cell] != COVERED_MINE_CELL)\n                        field[cell] += 1;\n\n                cell = position + cols - 1;\n                if (cell &lt; all_cells)\n                    if (field[cell] != COVERED_MINE_CELL)\n                        field[cell] += 1;\n            }\n\n            cell = position - cols;\n            if (cell &gt;= 0)\n                if (field[cell] != COVERED_MINE_CELL)\n                    field[cell] += 1;\n            cell = position + cols;\n            if (cell &lt; all_cells)\n                if (field[cell] != COVERED_MINE_CELL)\n                    field[cell] += 1;\n\n            if (current_col &lt; (cols - 1)) {\n                cell = position - cols + 1;\n                if (cell &gt;= 0)\n                    if (field[cell] != COVERED_MINE_CELL)\n                        field[cell] += 1;\n                cell = position + cols + 1;\n                if (cell &lt; all_cells)\n                    if (field[cell] != COVERED_MINE_CELL)\n                        field[cell] += 1;\n                cell = position + 1;\n                if (cell &lt; all_cells)\n                    if (field[cell] != COVERED_MINE_CELL)\n                        field[cell] += 1;\n            }\n        }\n    }\n}\n\n\npublic void find_empty_cells(int j) {\n\n    int current_col = j % cols;\n    int cell;\n\n    if (current_col &gt; 0) { \n        cell = j - cols - 1;\n        if (cell &gt;= 0)\n            if (field[cell] &gt; MINE_CELL) {\n                field[cell] -= COVER_FOR_CELL;\n                if (field[cell] == EMPTY_CELL)\n                    find_empty_cells(cell);\n            }\n\n        cell = j - 1;\n        if (cell &gt;= 0)\n            if (field[cell] &gt; MINE_CELL) {\n                field[cell] -= COVER_FOR_CELL;\n                if (field[cell] == EMPTY_CELL)\n                    find_empty_cells(cell);\n            }\n\n        cell = j + cols - 1;\n        if (cell &lt; all_cells)\n            if (field[cell] &gt; MINE_CELL) {\n                field[cell] -= COVER_FOR_CELL;\n                if (field[cell] == EMPTY_CELL)\n                    find_empty_cells(cell);\n            }\n    }\n\n      cell = j - cols;\n    if (cell &gt;= 0)\n        if (field[cell] &gt; MINE_CELL) {\n            field[cell] -= COVER_FOR_CELL;\n            if (field[cell] == EMPTY_CELL)\n                find_empty_cells(cell);\n        }\n\n       cell = j + cols;\n       if (cell &lt; all_cells)\n        if (field[cell] &gt; MINE_CELL) {\n            field[cell] -= COVER_FOR_CELL;\n            if (field[cell] == EMPTY_CELL)\n                find_empty_cells(cell);\n           }\n\n          if (current_col &lt; (cols - 1)) {\n           cell = j - cols + 1;\n             if (cell &gt;= 0)\n               if (field[cell] &gt; MINE_CELL) {\n                field[cell] -= COVER_FOR_CELL;\n                if (field[cell] == EMPTY_CELL)\n                    find_empty_cells(cell);\n            }\n\n           cell = j + cols + 1;\n            if (cell &lt; all_cells)\n               if (field[cell] &gt; MINE_CELL) {\n                field[cell] -= COVER_FOR_CELL;\n                if (field[cell] == EMPTY_CELL)\n                    find_empty_cells(cell);\n            }\n\n          cell = j + 1;\n           if (cell &lt; all_cells)\n            if (field[cell] &gt; MINE_CELL) {\n                field[cell] -= COVER_FOR_CELL;\n                if (field[cell] == EMPTY_CELL)\n                    find_empty_cells(cell);\n               }\n        }\n\n       }\n\n      public void paint(Graphics g) {\n\n       int cell = 0;\n        int uncover = 0;\n\n\n        for (int i = 0; i &lt; rows; i++) {\n        for (int j = 0; j &lt; cols; j++) {\n\n            cell = field[(i * cols) + j];\n\n            if (inGame &amp;&amp; cell == MINE_CELL)\n                inGame = false;\n\n            if (!inGame) {\n                if (cell == COVERED_MINE_CELL) {\n                    cell = DRAW_MINE;\n                } else if (cell == MARKED_MINE_CELL) {\n                    cell = DRAW_MARK;\n                } else if (cell &gt; COVERED_MINE_CELL) {\n                    cell = DRAW_WRONG_MARK;\n                } else if (cell &gt; MINE_CELL) {\n                    cell = DRAW_COVER;\n                }\n\n\n            } else {\n                if (cell &gt; COVERED_MINE_CELL)\n                    cell = DRAW_MARK;\n                else if (cell &gt; MINE_CELL) {\n                    cell = DRAW_COVER;\n                    uncover++;\n                }\n            }\n\n            g.drawImage(img[cell], (j * CELL_SIZE),\n                (i * CELL_SIZE), this);\n        }\n       }\n\n\n      if (uncover == 0 &amp;&amp; inGame) {\n        inGame = false;\n        statusbar.setText(\"Game won\");\n      } else if (!inGame)\n        statusbar.setText(\"Game lost\");\n       }\n\n\n\n\n     class MinesAdapter extends MouseAdapter {\n       public void mousePressed(MouseEvent e) {\n\n        int x = e.getX();\n        int y = e.getY();\n\n        int cCol = x / CELL_SIZE;\n        int cRow = y / CELL_SIZE;\n\n        boolean rep = false;\n\n\n          if (!inGame) {\n            newGame();\n            repaint();\n          }\n\n\n         if ((x &lt; cols * CELL_SIZE) &amp;&amp; (y &lt; rows * CELL_SIZE)) {\n\n            if (e.getButton() == MouseEvent.BUTTON3) {\n\n                if (field[(cRow * cols) + cCol] &gt; MINE_CELL) {\n                    rep = true;\n\n                    if (field[(cRow * cols) + cCol] &lt;= COVERED_MINE_CELL) {\n                        if (mines_left &gt; 0) {\n                            field[(cRow * cols) + cCol] += MARK_FOR_CELL;\n                            mines_left--;\n                            statusbar.setText(Integer.toString(mines_left));\n                        } else\n                            statusbar.setText(\"No marks left\");\n                    } else {\n\n                        field[(cRow * cols) + cCol] -= MARK_FOR_CELL;\n                        mines_left++;\n                        statusbar.setText(Integer.toString(mines_left));\n                    }\n                }\n\n            } else {\n\n                if (field[(cRow * cols) + cCol] &gt; COVERED_MINE_CELL) {\n                    return;\n                }\n\n                if ((field[(cRow * cols) + cCol] &gt; MINE_CELL) &amp;&amp;\n                    (field[(cRow * cols) + cCol] &lt; MARKED_MINE_CELL)) {\n\n                    field[(cRow * cols) + cCol] -= COVER_FOR_CELL;\n                    rep = true;\n\n                    if (field[(cRow * cols) + cCol] == MINE_CELL)\n                        inGame = false;\n                    if (field[(cRow * cols) + cCol] == EMPTY_CELL)\n                        find_empty_cells((cRow * cols) + cCol);\n                }\n            }\n\n            if (rep)\n                repaint();\n\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1648014320,"post_id":71582304,"comment_id":126513565,"body_markdown":"You&#39;re printing all of the elements in your array, not just the `numElements` items you filled in.","body":"You&#39;re printing all of the elements in your array, not just the <code>numElements</code> items you filled in."},{"owner":{"account_id":7822670,"reputation":1609,"user_id":5915318,"display_name":"David Kariuki"},"score":0,"creation_date":1648016091,"post_id":71582304,"comment_id":126513851,"body_markdown":"You had created an array of length 20. Maybe while testing the input you did not set numElements to 20 which your array expects. All the values in the array had been initialized with zeros and thats why when you check your output you get zeros as a start upto the index with the numbers you added. I have posted a solution with full explanation on the same.","body":"You had created an array of length 20. Maybe while testing the input you did not set numElements to 20 which your array expects. All the values in the array had been initialized with zeros and thats why when you check your output you get zeros as a start upto the index with the numbers you added. I have posted a solution with full explanation on the same."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699652230,"post_id":71582304,"comment_id":136563313,"body_markdown":"alternative, change the printing loop to: `for (i = numElements - 1; i &gt;= 0; --i) { System.out.print(userList[i] + &quot; &quot;);`","body":"alternative, change the printing loop to: <code>for (i = numElements - 1; i &gt;= 0; --i) { System.out.print(userList[i] + &quot; &quot;);</code>"}],"answers":[{"tags":[],"owner":{"account_id":14544835,"reputation":981,"user_id":10505343,"display_name":"Wimukthi Rajapaksha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648014654,"creation_date":1648014654,"answer_id":71582380,"question_id":71582304,"body_markdown":"you have to create a list of size **numElements**,\r\n\r\n    int[] userList = new int[numElements];\r\n    for(i = 0;i &lt; numElements; ++i) {\r\n        userList[i] = scnr.nextInt(); \r\n    }\r\n    for (i = userList.length-1; i &gt;= 0; --i) {\r\n        System.out.print(userList[i] + &quot; &quot;); \r\n    }\r\n    System.out.println();","title":"How do you put an array in reverse order?","body":"<p>you have to create a list of size <strong>numElements</strong>,</p>\n<pre><code>int[] userList = new int[numElements];\nfor(i = 0;i &lt; numElements; ++i) {\n    userList[i] = scnr.nextInt(); \n}\nfor (i = userList.length-1; i &gt;= 0; --i) {\n    System.out.print(userList[i] + &quot; &quot;); \n}\nSystem.out.println();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":223457,"reputation":4755,"user_id":482682,"accept_rate":95,"display_name":"Lrrr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648014695,"creation_date":1648014695,"answer_id":71582388,"question_id":71582304,"body_markdown":"Your code is fine but you just need to read the number of element before creating your `userList` :\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class LabProgram {\r\n        public static void main(String[] args) {\r\n            Scanner scnr = new Scanner(System.in);\r\n            int numElements;                // Number of integers in user&#39;s list\r\n            numElements = scnr.nextInt();   // Input begins with number of integers that follow\r\n            int[] userList = new int[numElements];   // List of numElement integers specified by the user\r\n            int i;\r\n    \r\n    \r\n            for (i = 0; i &lt; numElements; ++i) {\r\n                userList[i] = scnr.nextInt();\r\n            }\r\n    \r\n            for (i = userList.length - 1; i &gt;= 0; --i) {\r\n                System.out.print(userList[i] + &quot; &quot;);\r\n            }\r\n    \r\n            System.out.println();\r\n    \r\n        }\r\n    }","title":"How do you put an array in reverse order?","body":"<p>Your code is fine but you just need to read the number of element before creating your <code>userList</code> :</p>\n<pre><code>import java.util.Scanner;\n\npublic class LabProgram {\n    public static void main(String[] args) {\n        Scanner scnr = new Scanner(System.in);\n        int numElements;                // Number of integers in user's list\n        numElements = scnr.nextInt();   // Input begins with number of integers that follow\n        int[] userList = new int[numElements];   // List of numElement integers specified by the user\n        int i;\n\n\n        for (i = 0; i &lt; numElements; ++i) {\n            userList[i] = scnr.nextInt();\n        }\n\n        for (i = userList.length - 1; i &gt;= 0; --i) {\n            System.out.print(userList[i] + &quot; &quot;);\n        }\n\n        System.out.println();\n\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1648037825,"post_id":71582440,"comment_id":126521604,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/71582440/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":24655394,"reputation":1,"user_id":18552119,"display_name":"danger_punk"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648015062,"creation_date":1648015062,"answer_id":71582440,"question_id":71582304,"body_markdown":"Your array size is 20 and your are trying to print whole array in reverse order which includes unfilled indexes also. so try to make array size as numElements and print it will work","title":"How do you put an array in reverse order?","body":"<p>Your array size is 20 and your are trying to print whole array in reverse order which includes unfilled indexes also. so try to make array size as numElements and print it will work</p>\n"},{"tags":[],"owner":{"account_id":7822670,"reputation":1609,"user_id":5915318,"display_name":"David Kariuki"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648019507,"creation_date":1648015873,"answer_id":71582551,"question_id":71582304,"body_markdown":"# Explanation\r\nYou are getting zero maybe due to the array size declaration. You created an array with 20 as the size. But assuming you set the `numElements` to 10, that means that the input iteration will only loop 10 times thus only loading 10 positions in your array. \r\n\r\nAs you had defined an array with 20 indexes, the rest are initiated with a zero during array declaration. So assuming the iterations goes 10 times that means only 10 indexes will be updated and the other 10/20 left with their initial zeros.\r\n\r\nYou have to re-declare your array after getting a value for the `numElements` and set the `numElements` as the new array size. The code would look similar to below\r\n\r\n     Scanner scanner = new Scanner(System.in); // Create Scanner object\r\n     int[] userList = new int[0]; // Create int array\r\n     \r\n     int numElements = scanner.nextInt(); // Get number of elements\r\n\r\n     userList = new int[numElements]; // Re-declare array with new size\r\n\r\n# Solution\r\nThe full code in your approach is as below:\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Scanner scnr = new Scanner(System.in);\r\n\r\n\r\n        int numElements; // Number of integers in user&#39;s list int i;\r\n\r\n        System.out.println(&quot;Input length of the array&quot;);\r\n        numElements = scnr.nextInt();   // Input begins with number of integers that follow\r\n        int[] userList = new int[0];\r\n\r\n        // Check size value (number of elements)\r\n        if (numElements &gt; 0) {\r\n            userList = new int[numElements]; // Re-Declare array giving it a new size\r\n        } else {\r\n            System.out.println(&quot;This array size cannot be less than 1&quot;);\r\n        }\r\n\r\n        System.out.println();\r\n        for(int i = 0; i &lt; numElements; ++i) {\r\n\r\n            System.out.println(&quot;Input number at position &quot; + i);\r\n            userList[i] = scnr.nextInt();\r\n        }\r\n\r\n        for (int i = userList.length -1; i &gt;= 0; i--) {\r\n        //for (int i = userList.length-1; i &gt;= 0; --i) {\r\n            System.out.print(userList[i] + &quot; &quot;);\r\n        }\r\n\r\n        System.out.println();\r\n    }","title":"How do you put an array in reverse order?","body":"<h1>Explanation</h1>\n<p>You are getting zero maybe due to the array size declaration. You created an array with 20 as the size. But assuming you set the <code>numElements</code> to 10, that means that the input iteration will only loop 10 times thus only loading 10 positions in your array.</p>\n<p>As you had defined an array with 20 indexes, the rest are initiated with a zero during array declaration. So assuming the iterations goes 10 times that means only 10 indexes will be updated and the other 10/20 left with their initial zeros.</p>\n<p>You have to re-declare your array after getting a value for the <code>numElements</code> and set the <code>numElements</code> as the new array size. The code would look similar to below</p>\n<pre><code> Scanner scanner = new Scanner(System.in); // Create Scanner object\n int[] userList = new int[0]; // Create int array\n \n int numElements = scanner.nextInt(); // Get number of elements\n\n userList = new int[numElements]; // Re-declare array with new size\n</code></pre>\n<h1>Solution</h1>\n<p>The full code in your approach is as below:</p>\n<pre><code>public static void main(String[] args) {\n\n    Scanner scnr = new Scanner(System.in);\n\n\n    int numElements; // Number of integers in user's list int i;\n\n    System.out.println(&quot;Input length of the array&quot;);\n    numElements = scnr.nextInt();   // Input begins with number of integers that follow\n    int[] userList = new int[0];\n\n    // Check size value (number of elements)\n    if (numElements &gt; 0) {\n        userList = new int[numElements]; // Re-Declare array giving it a new size\n    } else {\n        System.out.println(&quot;This array size cannot be less than 1&quot;);\n    }\n\n    System.out.println();\n    for(int i = 0; i &lt; numElements; ++i) {\n\n        System.out.println(&quot;Input number at position &quot; + i);\n        userList[i] = scnr.nextInt();\n    }\n\n    for (int i = userList.length -1; i &gt;= 0; i--) {\n    //for (int i = userList.length-1; i &gt;= 0; --i) {\n        System.out.print(userList[i] + &quot; &quot;);\n    }\n\n    System.out.println();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19477538,"reputation":129,"user_id":14248650,"display_name":"Rohan Jethwani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648032525,"creation_date":1648032525,"answer_id":71585888,"question_id":71582304,"body_markdown":"In order to reduce the lines of code and use streams, the following code would work - \r\n\r\nAccept input numbers and store them in the array of size numElements. Use &quot;ArrayUtils&quot; to reverse the array. Details about the reverse() can be referred  [here][1].\r\n\r\n\r\n```\r\nScanner scnr = new Scanner(System.in);\r\nint numElements;                \r\nnumElements = scnr.nextInt();   \r\nint[] userList = new int[numElements];\r\n        \r\nfor (int i = 0; i &lt; numElements; ++i) \r\n    userList[i] = scnr.nextInt();\r\n\r\nArrayUtils.reverse(userList);\r\nArrays.stream(userList).forEach(number -&gt; System.out.print(number + &quot; &quot;));\r\n```\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/ArrayUtils.html","title":"How do you put an array in reverse order?","body":"<p>In order to reduce the lines of code and use streams, the following code would work -</p>\n<p>Accept input numbers and store them in the array of size numElements. Use &quot;ArrayUtils&quot; to reverse the array. Details about the reverse() can be referred  <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/ArrayUtils.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<pre><code>Scanner scnr = new Scanner(System.in);\nint numElements;                \nnumElements = scnr.nextInt();   \nint[] userList = new int[numElements];\n        \nfor (int i = 0; i &lt; numElements; ++i) \n    userList[i] = scnr.nextInt();\n\nArrayUtils.reverse(userList);\nArrays.stream(userList).forEach(number -&gt; System.out.print(number + &quot; &quot;));\n</code></pre>\n"}],"owner":{"account_id":23569742,"reputation":43,"user_id":17610015,"display_name":"Lal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3461,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1699651654,"creation_date":1648013937,"question_id":71582304,"body_markdown":"I wrote this program in Java : Write a program that reads a list of integers and outputs those integers in reverse. The input begins with an integer indicating the number of integers that follow. For coding simplicity, follow each output integer by a comma, including the last one. Assume that the list will always contain fewer than 20 integers.\r\n\r\nEx: If the input is:\r\n\r\n    5 2 4 6 8 10\r\n    \r\n\r\nthe output is:\r\n\r\n    10,8,6,4,2\r\n\r\nAs you can see, this is my expected out^ However, I got `0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 10 8 6 4 2` as my output. What is wrong? \r\n\r\n    import java.util.Scanner;\r\n\r\n    public class LabProgram {\r\n        public static void main(String[] args) {\r\n            Scanner scnr = new Scanner(System.in);\r\n            int[] userList = new int[20];   // List of numElement integers specified by the user\r\n            int numElements;                // Number of integers in user&#39;s list\r\n            int i;\r\n    \r\n            numElements = scnr.nextInt();   // Input begins with number of integers that follow\r\n    \r\n            for (i = 0; i &lt; numElements; ++i) {\r\n                userList[i] = scnr.nextInt();\r\n            }\r\n    \r\n            for (i = userList.length - 1; i &gt;= 0; --i) {\r\n                System.out.print(userList[i] + &quot; &quot;);\r\n            }\r\n    \r\n            System.out.println();\r\n    \r\n        }\r\n    }\r\n\r\nI tried to ask a good question and I expect an answer to my question.","title":"How do you put an array in reverse order?","body":"<p>I wrote this program in Java : Write a program that reads a list of integers and outputs those integers in reverse. The input begins with an integer indicating the number of integers that follow. For coding simplicity, follow each output integer by a comma, including the last one. Assume that the list will always contain fewer than 20 integers.</p>\n<p>Ex: If the input is:</p>\n<pre><code>5 2 4 6 8 10\n</code></pre>\n<p>the output is:</p>\n<pre><code>10,8,6,4,2\n</code></pre>\n<p>As you can see, this is my expected out^ However, I got <code>0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 10 8 6 4 2</code> as my output. What is wrong?</p>\n<pre><code>import java.util.Scanner;\n\npublic class LabProgram {\n    public static void main(String[] args) {\n        Scanner scnr = new Scanner(System.in);\n        int[] userList = new int[20];   // List of numElement integers specified by the user\n        int numElements;                // Number of integers in user's list\n        int i;\n\n        numElements = scnr.nextInt();   // Input begins with number of integers that follow\n\n        for (i = 0; i &lt; numElements; ++i) {\n            userList[i] = scnr.nextInt();\n        }\n\n        for (i = userList.length - 1; i &gt;= 0; --i) {\n            System.out.print(userList[i] + &quot; &quot;);\n        }\n\n        System.out.println();\n\n    }\n}\n</code></pre>\n<p>I tried to ask a good question and I expect an answer to my question.</p>\n"},{"tags":["java","jackson","jackson-databind"],"answers":[{"comments":[{"owner":{"account_id":5794488,"reputation":1356,"user_id":4570698,"display_name":"harsh pamnani"},"score":1,"creation_date":1699775100,"post_id":77462909,"comment_id":136571939,"body_markdown":"Amazing. Thanks. It is working now with the default value.","body":"Amazing. Thanks. It is working now with the default value."},{"owner":{"account_id":5794488,"reputation":1356,"user_id":4570698,"display_name":"harsh pamnani"},"score":1,"creation_date":1699775257,"post_id":77462909,"comment_id":136571953,"body_markdown":"After adding default value for the Optional field, seems like we don&#39;t even need `OptionalIntegerDeserializer` custom deserializer. It is working fine without that as well.","body":"After adding default value for the Optional field, seems like we don&#39;t even need <code>OptionalIntegerDeserializer</code> custom deserializer. It is working fine without that as well."},{"owner":{"account_id":18239208,"reputation":164,"user_id":13276541,"display_name":"Ahmed Mera"},"score":1,"creation_date":1699811379,"post_id":77462909,"comment_id":136575244,"body_markdown":"I let the custom deserializer because if you want do another logic during the deserialization.","body":"I let the custom deserializer because if you want do another logic during the deserialization."},{"owner":{"account_id":5794488,"reputation":1356,"user_id":4570698,"display_name":"harsh pamnani"},"score":0,"creation_date":1699890879,"post_id":77462909,"comment_id":136584587,"body_markdown":"Awesome. Thanks.","body":"Awesome. Thanks."}],"tags":[],"owner":{"account_id":18239208,"reputation":164,"user_id":13276541,"display_name":"Ahmed Mera"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699651470,"creation_date":1699651470,"answer_id":77462909,"question_id":77462186,"body_markdown":"The solution is\r\n```\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class Person {\r\n    \r\n    private String name;\r\n    \r\n    @JsonDeserialize(using = OptinalDeserializer.class)\r\n    @Builder.Default\r\n    private Optional&lt;Integer&gt; age = Optional.empty();\r\n}\r\n\r\n``` \r\n\r\nCustom deserialization is \r\n```\r\npublic class OptionalIntegerDeserializer extends StdDeserializer&lt;Optional&lt;Integer&gt;&gt; {\r\n\r\n    protected OptionalIntegerDeserializer() {\r\n        super(Optional.class);\r\n    }\r\n\r\n    @Override\r\n    public Optional&lt;Integer&gt; deserialize(JsonParser parser, DeserializationContext context) {\r\n        if (parser.getValueAsInt() &gt; 0 ) {\r\n            return Optional.of(parser.getValueAsInt());\r\n        } else {\r\n            return Optional.empty();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nFirst test\r\n```\r\n public static void main(String[] args) throws JsonProcessingException {\r\n    String s = &quot;{\\&quot;name\\&quot;: \\&quot;harsh\\&quot;}&quot;;\r\n    Person p = JsonMapper.builder().build().readValue(s, Person.class);\r\n\r\n    System.out.println(p);\r\n }\r\n\r\n```\r\n\r\nOutput1 is: ``` Person(name=harsh, age=Optional.empty) ```\r\n\r\n\r\nSecond test\r\n```\r\n public static void main(String[] args) throws JsonProcessingException {\r\n    String s = &quot;{\\&quot;name\\&quot;: \\&quot;harsh\\&quot;, \\&quot;age\\&quot;: 19}&quot;;\r\n    Person p = JsonMapper.builder().build().readValue(s, Person.class);\r\n\r\n    System.out.println(p);\r\n }\r\n\r\n```\r\nOutput2 is: ``` Person(name=harsh, age=Optional[19]) ```\r\n\r\n\r\n\r\nI tried it and it works, would you try it and let me know if it works.","title":"Using Jackson with Optional to generate Optional.empty() when field is missing","body":"<p>The solution is</p>\n<pre><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Person {\n    \n    private String name;\n    \n    @JsonDeserialize(using = OptinalDeserializer.class)\n    @Builder.Default\n    private Optional&lt;Integer&gt; age = Optional.empty();\n}\n\n</code></pre>\n<p>Custom deserialization is</p>\n<pre><code>public class OptionalIntegerDeserializer extends StdDeserializer&lt;Optional&lt;Integer&gt;&gt; {\n\n    protected OptionalIntegerDeserializer() {\n        super(Optional.class);\n    }\n\n    @Override\n    public Optional&lt;Integer&gt; deserialize(JsonParser parser, DeserializationContext context) {\n        if (parser.getValueAsInt() &gt; 0 ) {\n            return Optional.of(parser.getValueAsInt());\n        } else {\n            return Optional.empty();\n        }\n    }\n}\n\n</code></pre>\n<p>First test</p>\n<pre><code> public static void main(String[] args) throws JsonProcessingException {\n    String s = &quot;{\\&quot;name\\&quot;: \\&quot;harsh\\&quot;}&quot;;\n    Person p = JsonMapper.builder().build().readValue(s, Person.class);\n\n    System.out.println(p);\n }\n\n</code></pre>\n<p>Output1 is: <code>Person(name=harsh, age=Optional.empty)</code></p>\n<p>Second test</p>\n<pre><code> public static void main(String[] args) throws JsonProcessingException {\n    String s = &quot;{\\&quot;name\\&quot;: \\&quot;harsh\\&quot;, \\&quot;age\\&quot;: 19}&quot;;\n    Person p = JsonMapper.builder().build().readValue(s, Person.class);\n\n    System.out.println(p);\n }\n\n</code></pre>\n<p>Output2 is: <code>Person(name=harsh, age=Optional[19])</code></p>\n<p>I tried it and it works, would you try it and let me know if it works.</p>\n"}],"owner":{"account_id":5794488,"reputation":1356,"user_id":4570698,"display_name":"harsh pamnani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77462909,"answer_count":1,"score":2,"last_activity_date":1699651470,"creation_date":1699641277,"question_id":77462186,"body_markdown":"I am using Jackson to convert a json string to java object. I have an Optional field in my class. Whenever I try to deserialize a string which is missing the optional field, it is generating `null` for that field instead of `Optional.empty()`.\r\n\r\nBelow is the code:\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) throws JsonProcessingException {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.registerModule(new Jdk8Module());\r\n        Person1 p1 = mapper.readValue(&quot;{\\&quot;name\\&quot;: \\&quot;harsh\\&quot;}&quot;, Person1.class);\r\n        System.out.println(p1);\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@EqualsAndHashCode\r\n@ToString\r\n@Getter\r\n@Builder\r\n@NoArgsConstructor(force = true)\r\npublic class Person1 {\r\n    public final String name;\r\n    public final Optional&lt;Integer&gt; age;\r\n\r\n    public Person1(String name, Optional&lt;Integer&gt; age) {\r\n        this.name = name;\r\n        this.age = age;\r\n    }\r\n}\r\n```\r\n\r\nIt generate following output:\r\n```\r\nPerson1(name=harsh, age=null)\r\n```\r\n\r\nHowever, I want it to generate:\r\n```\r\nPerson1(name=harsh, age=Optional.empty)\r\n```\r\n\r\nI have also tried adding `OptionalIntegerDeserializer` customer deserializer as below, but it doesn&#39;t seem to work:\r\n\r\n```\r\npublic class Person1 {\r\n    public final String name;\r\n    @JsonDeserialize(using = OptionalIntegerDeserializer.class)\r\n    public final Optional&lt;Integer&gt; age;\r\n\r\n    public Person1(String name, Optional&lt;Integer&gt; age) {\r\n        this.name = name;\r\n        this.age = age;\r\n    }\r\n\r\n    public static class OptionalIntegerDeserializer extends StdDeserializer&lt;Optional&lt;Integer&gt;&gt; {\r\n        public OptionalIntegerDeserializer() {\r\n            super(Optional.class);\r\n        }\r\n\r\n        @Override\r\n        public Optional&lt;Integer&gt; deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\r\n            JsonNode node = p.readValueAsTree();\r\n            if (node.isNull()) {\r\n                return Optional.empty();\r\n            } else {\r\n                return Optional.of(node.intValue());\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIs there a way we can generate `Optional.empty` instead of `null` for the missing field?\r\n","title":"Using Jackson with Optional to generate Optional.empty() when field is missing","body":"<p>I am using Jackson to convert a json string to java object. I have an Optional field in my class. Whenever I try to deserialize a string which is missing the optional field, it is generating <code>null</code> for that field instead of <code>Optional.empty()</code>.</p>\n<p>Below is the code:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) throws JsonProcessingException {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.registerModule(new Jdk8Module());\n        Person1 p1 = mapper.readValue(&quot;{\\&quot;name\\&quot;: \\&quot;harsh\\&quot;}&quot;, Person1.class);\n        System.out.println(p1);\n    }\n}\n</code></pre>\n<pre><code>@EqualsAndHashCode\n@ToString\n@Getter\n@Builder\n@NoArgsConstructor(force = true)\npublic class Person1 {\n    public final String name;\n    public final Optional&lt;Integer&gt; age;\n\n    public Person1(String name, Optional&lt;Integer&gt; age) {\n        this.name = name;\n        this.age = age;\n    }\n}\n</code></pre>\n<p>It generate following output:</p>\n<pre><code>Person1(name=harsh, age=null)\n</code></pre>\n<p>However, I want it to generate:</p>\n<pre><code>Person1(name=harsh, age=Optional.empty)\n</code></pre>\n<p>I have also tried adding <code>OptionalIntegerDeserializer</code> customer deserializer as below, but it doesn't seem to work:</p>\n<pre><code>public class Person1 {\n    public final String name;\n    @JsonDeserialize(using = OptionalIntegerDeserializer.class)\n    public final Optional&lt;Integer&gt; age;\n\n    public Person1(String name, Optional&lt;Integer&gt; age) {\n        this.name = name;\n        this.age = age;\n    }\n\n    public static class OptionalIntegerDeserializer extends StdDeserializer&lt;Optional&lt;Integer&gt;&gt; {\n        public OptionalIntegerDeserializer() {\n            super(Optional.class);\n        }\n\n        @Override\n        public Optional&lt;Integer&gt; deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\n            JsonNode node = p.readValueAsTree();\n            if (node.isNull()) {\n                return Optional.empty();\n            } else {\n                return Optional.of(node.intValue());\n            }\n        }\n    }\n}\n</code></pre>\n<p>Is there a way we can generate <code>Optional.empty</code> instead of <code>null</code> for the missing field?</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1650976195,"post_id":72013981,"comment_id":127247052,"body_markdown":"How to migrate is explained in the release notes/user guide of Hibernate 6.","body":"How to migrate is explained in the release notes/user guide of Hibernate 6."},{"owner":{"account_id":4165403,"reputation":878,"user_id":3414468,"accept_rate":50,"display_name":"Man&#231;aux Pierre-Alexandre"},"score":0,"creation_date":1650977152,"post_id":72013981,"comment_id":127247478,"body_markdown":"i already read the migration guide here https://github.com/hibernate/hibernate-orm/blob/main/migration-guide.adoc but nothing about how to migrate old dialect...","body":"i already read the migration guide here <a href=\"https://github.com/hibernate/hibernate-orm/blob/main/migration-guide.adoc\" rel=\"nofollow noreferrer\">github.com/hibernate/hibernate-orm/blob/main/&hellip;</a> but nothing about how to migrate old dialect..."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1650977244,"post_id":72013981,"comment_id":127247514,"body_markdown":"Have you tried looking at the source of standard dialects how they register functions?","body":"Have you tried looking at the source of standard dialects how they register functions?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1650977574,"post_id":72013981,"comment_id":127247646,"body_markdown":"According to the documentation the `SQLFunctionTemplate` still exists... I suspect the problem you really have is with the changed type system.","body":"According to the documentation the <code>SQLFunctionTemplate</code> still exists... I suspect the problem you really have is with the changed type system."},{"owner":{"account_id":4165403,"reputation":878,"user_id":3414468,"accept_rate":50,"display_name":"Man&#231;aux Pierre-Alexandre"},"score":0,"creation_date":1650977824,"post_id":72013981,"comment_id":127247745,"body_markdown":"@M.Deinum on github i can see : //TODO -- re-implement. In 6.0 there is no longer a SQLFunctionTemplate class, so something change...In release not they explain that they change how to work with dialect but i don&#39;t find example...i will try by my own ;)","body":"@M.Deinum on github i can see : //TODO -- re-implement. In 6.0 there is no longer a SQLFunctionTemplate class, so something change...In release not they explain that they change how to work with dialect but i don&#39;t find example...i will try by my own ;)"},{"owner":{"account_id":4165403,"reputation":878,"user_id":3414468,"accept_rate":50,"display_name":"Man&#231;aux Pierre-Alexandre"},"score":0,"creation_date":1650977871,"post_id":72013981,"comment_id":127247761,"body_markdown":"@MarkRotteveel yes i read the Dialect class to see how they register function and type but i don&#39;t know how to apply this to my case.. i will try...","body":"@MarkRotteveel yes i read the Dialect class to see how they register function and type but i don&#39;t know how to apply this to my case.. i will try..."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1650978160,"post_id":72013981,"comment_id":127247871,"body_markdown":"According to [the javadoc](https://docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/dialect/function/SQLFunctionTemplate.html) there is... That&#39;s weird.","body":"According to <a href=\"https://docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/dialect/function/SQLFunctionTemplate.html\" rel=\"nofollow noreferrer\">the javadoc</a> there is... That&#39;s weird."},{"owner":{"account_id":4165403,"reputation":878,"user_id":3414468,"accept_rate":50,"display_name":"Man&#231;aux Pierre-Alexandre"},"score":0,"creation_date":1650978456,"post_id":72013981,"comment_id":127247990,"body_markdown":"@M.Deinum as you can see in source code this class not exist in this package: https://github.com/hibernate/hibernate-orm/tree/6.0.0/hibernate-core/src/main/java/org/hibernate/dialect/function","body":"@M.Deinum as you can see in source code this class not exist in this package: <a href=\"https://github.com/hibernate/hibernate-orm/tree/6.0.0/hibernate-core/src/main/java/org/hibernate/dialect/function\" rel=\"nofollow noreferrer\">github.com/hibernate/hibernate-orm/tree/6.0.0/hibernate-core&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1650982363,"post_id":72013981,"comment_id":127249580,"body_markdown":"@M.Deinum It looks like the javadoc directory wasn&#39;t clean, I can also link to other classes that no longer exist or where moved to another location. That class doc is not accessible through navigation/search of the javadoc though.","body":"@M.Deinum It looks like the javadoc directory wasn&#39;t clean, I can also link to other classes that no longer exist or where moved to another location. That class doc is not accessible through navigation/search of the javadoc though."}],"answers":[{"comments":[{"owner":{"account_id":4165403,"reputation":878,"user_id":3414468,"accept_rate":50,"display_name":"Man&#231;aux Pierre-Alexandre"},"score":0,"creation_date":1650978620,"post_id":72014549,"comment_id":127248059,"body_markdown":"ok it&#39;s registerPattern that i don&#39;t see...i will try this ;)","body":"ok it&#39;s registerPattern that i don&#39;t see...i will try this ;)"}],"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650986036,"creation_date":1650978528,"answer_id":72014549,"question_id":72013981,"body_markdown":"Without having tested it, I think you need to use the following in your custom dialect:\r\n\r\n```\r\n@Override\r\npublic void initializeFunctionRegistry(QueryEngine queryEngine) {\r\n    BasicTypeRegistry basicTypeRegistry = queryEngine.getTypeConfiguration().getBasicTypeRegistry();\r\n    SqmFunctionRegistry functionRegistry = queryEngine.getSqmFunctionRegistry();\r\n    functionRegistry.registerPattern(\r\n            &quot;hstore_find&quot;, \r\n            &quot;(?1 -&gt; ?2 = ?3)&quot;, \r\n            basicTypeRegistry.resolve( StandardBasicTypes.BOOLEAN ));\r\n    // ...\r\n}\r\n```\r\n\r\nIt is possible `basicTypeRegistry.resolve( StandardBasicTypes.BOOLEAN )` can be replaced with just `StandardBasicTypes.BOOLEAN`.","title":"hibernate 6.0.0.Final custom dialect not working anymore","body":"<p>Without having tested it, I think you need to use the following in your custom dialect:</p>\n<pre><code>@Override\npublic void initializeFunctionRegistry(QueryEngine queryEngine) {\n    BasicTypeRegistry basicTypeRegistry = queryEngine.getTypeConfiguration().getBasicTypeRegistry();\n    SqmFunctionRegistry functionRegistry = queryEngine.getSqmFunctionRegistry();\n    functionRegistry.registerPattern(\n            &quot;hstore_find&quot;, \n            &quot;(?1 -&gt; ?2 = ?3)&quot;, \n            basicTypeRegistry.resolve( StandardBasicTypes.BOOLEAN ));\n    // ...\n}\n</code></pre>\n<p>It is possible <code>basicTypeRegistry.resolve( StandardBasicTypes.BOOLEAN )</code> can be replaced with just <code>StandardBasicTypes.BOOLEAN</code>.</p>\n"},{"tags":[],"owner":{"account_id":8945558,"reputation":249,"user_id":6673169,"display_name":"Andriy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664373119,"creation_date":1664358585,"answer_id":73879423,"question_id":72013981,"body_markdown":"Following worked for me (Hibernate 6.1.1.Final). However, the function is added via ```MetadataBuilderContributor``` (example: https://stackoverflow.com/a/51285944).\r\n\r\nThis code adds PostgreSQL JSON function ```@&gt;```:\r\n\r\n```java\r\n    @Override\r\n    public void contribute(MetadataBuilder metadataBuilder) {\r\n        metadataBuilder.applySqlFunction(\r\n                FIRST_JSON_VALUE_CONTAINS_THE_SECOND_FUNCTION,\r\n                new PatternBasedSqmFunctionDescriptor(\r\n                        new PatternRenderer(&quot;(?1 @&gt; ?2)&quot;),\r\n                        null,\r\n                        null,\r\n                        null,\r\n                        null,\r\n                        FunctionKind.NORMAL,\r\n                        null\r\n                )\r\n        );\r\n    }\r\n\r\n```\r\nOne might need to adjust parameters of ```PatternBasedSqmFunctionDescriptor```, e.g. ```FunctionReturnTypeResolver``` parameter.","title":"hibernate 6.0.0.Final custom dialect not working anymore","body":"<p>Following worked for me (Hibernate 6.1.1.Final). However, the function is added via <code>MetadataBuilderContributor</code> (example: <a href=\"https://stackoverflow.com/a/51285944\">https://stackoverflow.com/a/51285944</a>).</p>\n<p>This code adds PostgreSQL JSON function <code>@&gt;</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public void contribute(MetadataBuilder metadataBuilder) {\n        metadataBuilder.applySqlFunction(\n                FIRST_JSON_VALUE_CONTAINS_THE_SECOND_FUNCTION,\n                new PatternBasedSqmFunctionDescriptor(\n                        new PatternRenderer(&quot;(?1 @&gt; ?2)&quot;),\n                        null,\n                        null,\n                        null,\n                        null,\n                        FunctionKind.NORMAL,\n                        null\n                )\n        );\n    }\n\n</code></pre>\n<p>One might need to adjust parameters of <code>PatternBasedSqmFunctionDescriptor</code>, e.g. <code>FunctionReturnTypeResolver</code> parameter.</p>\n"},{"comments":[{"owner":{"account_id":1130159,"reputation":453,"user_id":1116452,"display_name":"Dirk Luijk"},"score":0,"creation_date":1699009612,"post_id":77052379,"comment_id":136479730,"body_markdown":"There is a small mistake in your snippet. It is missing:\n\nval functionRegistry = functionContributions.functionRegistry","body":"There is a small mistake in your snippet. It is missing:  val functionRegistry = functionContributions.functionRegistry"}],"tags":[],"owner":{"account_id":5691524,"reputation":31,"user_id":4499463,"display_name":"tenpigs pinget"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699611076,"creation_date":1694006859,"answer_id":77052379,"question_id":72013981,"body_markdown":"Using Hibernate 6.2.7.Final : \r\n\r\n 1. Andriy&#39;s answer using MetadataBuilderContributor is deprecated (since 6.2)\r\n 2. Mark Rotteveel&#39;s answer is no longer valid because initializeFunctionRegistry method signature has changed (since 6.2)\r\n\r\nBased on Mark Rotteveel&#39;s answer : \r\n``` lang-java\r\npublic class ExtendedPostgreSQLDialect extends PostgresDialect {\r\n\r\n  @Override\r\n  public void initializeFunctionRegistry(FunctionContributions functionContributions) {\r\n    super.initializeFunctionRegistry(functionContributions);\r\n\r\n    BasicTypeRegistry basicTypeRegistry = functionContributions.getTypeConfiguration().getBasicTypeRegistry();\r\n\r\n    functionContributions.getFunctionRegistry().registerPattern(\r\n        &quot;hstore_find&quot;, \r\n        &quot;(?1 -&gt; ?2 = ?3)&quot;, \r\n        basicTypeRegistry.resolve( StandardBasicTypes.BOOLEAN ));\r\n    // ...\r\n  }\r\n\r\n}\r\n```\r\n\r\nEdit: fixed according to Dirk Luijk&#39;s comment. Thanks","title":"hibernate 6.0.0.Final custom dialect not working anymore","body":"<p>Using Hibernate 6.2.7.Final :</p>\n<ol>\n<li>Andriy's answer using MetadataBuilderContributor is deprecated (since 6.2)</li>\n<li>Mark Rotteveel's answer is no longer valid because initializeFunctionRegistry method signature has changed (since 6.2)</li>\n</ol>\n<p>Based on Mark Rotteveel's answer :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ExtendedPostgreSQLDialect extends PostgresDialect {\n\n  @Override\n  public void initializeFunctionRegistry(FunctionContributions functionContributions) {\n    super.initializeFunctionRegistry(functionContributions);\n\n    BasicTypeRegistry basicTypeRegistry = functionContributions.getTypeConfiguration().getBasicTypeRegistry();\n\n    functionContributions.getFunctionRegistry().registerPattern(\n        &quot;hstore_find&quot;, \n        &quot;(?1 -&gt; ?2 = ?3)&quot;, \n        basicTypeRegistry.resolve( StandardBasicTypes.BOOLEAN ));\n    // ...\n  }\n\n}\n</code></pre>\n<p>Edit: fixed according to Dirk Luijk's comment. Thanks</p>\n"}],"owner":{"account_id":4165403,"reputation":878,"user_id":3414468,"accept_rate":50,"display_name":"Man&#231;aux Pierre-Alexandre"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4718,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1699651468,"creation_date":1650976129,"question_id":72013981,"body_markdown":"I&#39;m using PostgreSQL 12 and Hibernate 5.6.8 with a custom dialect like:\r\n\r\n\r\n    registerFunction(&quot;hstore_find&quot;,\r\n        new SQLFunctionTemplate(StandardBasicTypes.BOOLEAN, &quot;(?1 -&gt; ?2 = ?3)&quot;));\r\n\r\nWhen I try to migrate to Hibernate 6.0.0, registerFunction and SQLFunctionTemplate do not exist anymore.\r\n\r\nHow can I migrate this registerFunction to new method of Hibernate 6?\r\n","title":"hibernate 6.0.0.Final custom dialect not working anymore","body":"<p>I'm using PostgreSQL 12 and Hibernate 5.6.8 with a custom dialect like:</p>\n<pre><code>registerFunction(&quot;hstore_find&quot;,\n    new SQLFunctionTemplate(StandardBasicTypes.BOOLEAN, &quot;(?1 -&gt; ?2 = ?3)&quot;));\n</code></pre>\n<p>When I try to migrate to Hibernate 6.0.0, registerFunction and SQLFunctionTemplate do not exist anymore.</p>\n<p>How can I migrate this registerFunction to new method of Hibernate 6?</p>\n"},{"tags":["java","docker","jenkins","automated-tests","jenkins-agent"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632808656,"creation_date":1632808656,"answer_id":69356486,"question_id":69188479,"body_markdown":"It seems some of your containerized applications suffer from memory leaks. Operationally your behaviour looks good already: The container gets killed and restarted if it hits configured memory limits. You could also limit the lifetime of the container as you are questioning anyway, and the real answer is in the amount of resources you are willing to spend. Would it hurt to spin up a new container for every one hour test?\r\n\r\nIf this is not good enough, you&#39;d probably have to investigate with the developer of the application to find and remove the memory leak.","title":"Maximum time a docker containers can be used without respinning?","body":"<p>It seems some of your containerized applications suffer from memory leaks. Operationally your behaviour looks good already: The container gets killed and restarted if it hits configured memory limits. You could also limit the lifetime of the container as you are questioning anyway, and the real answer is in the amount of resources you are willing to spend. Would it hurt to spin up a new container for every one hour test?</p>\n<p>If this is not good enough, you'd probably have to investigate with the developer of the application to find and remove the memory leak.</p>\n"}],"owner":{"account_id":14170889,"reputation":84,"user_id":10237474,"display_name":"iamsj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699651177,"creation_date":1631689463,"question_id":69188479,"body_markdown":"I have this distributed Jenkins controller/agent configuration that runs java test cases.\r\n\r\nOnce the vapp is up with controller and 3 agent configuration, the vapp is used for more than 2 months to run the test cases.\r\n\r\nAt a time nearly 500 testcases are ran which takes 1 hr to complete the execution and there are n number of vapps like this and depending on availability vapp is picked to execute the test cases .\r\n\r\nAfter using this vapp for more than a month, I see the linux kernel is actually killing the master container due to Out of Memory and this is not common to all the vapps but only in a few vapps.\r\n\r\nAll the cache and memory managements are done and eventhough the containers are getting killed.\r\n\r\nMy question is like is it recommended to use the vapp for more than a month continuously?\r\n\r\nI asked to respin the vapps which means respin the containers after a month.\r\n\r\nWhat is the best possible solution to this?","title":"Maximum time a docker containers can be used without respinning?","body":"<p>I have this distributed Jenkins controller/agent configuration that runs java test cases.</p>\n<p>Once the vapp is up with controller and 3 agent configuration, the vapp is used for more than 2 months to run the test cases.</p>\n<p>At a time nearly 500 testcases are ran which takes 1 hr to complete the execution and there are n number of vapps like this and depending on availability vapp is picked to execute the test cases .</p>\n<p>After using this vapp for more than a month, I see the linux kernel is actually killing the master container due to Out of Memory and this is not common to all the vapps but only in a few vapps.</p>\n<p>All the cache and memory managements are done and eventhough the containers are getting killed.</p>\n<p>My question is like is it recommended to use the vapp for more than a month continuously?</p>\n<p>I asked to respin the vapps which means respin the containers after a month.</p>\n<p>What is the best possible solution to this?</p>\n"},{"tags":["java","telegram-bot"],"answers":[{"comments":[{"owner":{"account_id":24697650,"reputation":21,"user_id":18597157,"display_name":"Xonex128"},"score":0,"creation_date":1648564488,"post_id":71663828,"comment_id":126653206,"body_markdown":"Perhaps it?\nunbanChatMember.setUserId(Integer.valueOf(chatId));","body":"Perhaps it? unbanChatMember.setUserId(Integer.valueOf(chatId));"},{"owner":{"account_id":22886030,"reputation":1859,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"score":0,"creation_date":1648565696,"post_id":71663828,"comment_id":126653820,"body_markdown":"change it to :  unbanChatMember.setUserId(Long.valueOf(chatId));","body":"change it to :  unbanChatMember.setUserId(Long.valueOf(chatId));"},{"owner":{"account_id":24697650,"reputation":21,"user_id":18597157,"display_name":"Xonex128"},"score":0,"creation_date":1648565974,"post_id":71663828,"comment_id":126653963,"body_markdown":"If I do unbanChatMember.setUserId(Long.valueOf(chatId));\nit throws an error and asks to do: wrap the argument with Math.toInt.Exact()","body":"If I do unbanChatMember.setUserId(Long.valueOf(chatId)); it throws an error and asks to do: wrap the argument with Math.toInt.Exact()"},{"owner":{"account_id":24697650,"reputation":21,"user_id":18597157,"display_name":"Xonex128"},"score":0,"creation_date":1648566340,"post_id":71663828,"comment_id":126654138,"body_markdown":"I changed all Integer to Long, but the error remains the same:\n\nhttps://www.toptal.com/developers/hastebin/uleyiyudot.csharp","body":"I changed all Integer to Long, but the error remains the same:  <a href=\"https://www.toptal.com/developers/hastebin/uleyiyudot.csharp\" rel=\"nofollow noreferrer\">toptal.com/developers/hastebin/uleyiyudot.csharp</a>"},{"owner":{"account_id":22886030,"reputation":1859,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"score":0,"creation_date":1648568661,"post_id":71663828,"comment_id":126655256,"body_markdown":"you should put the code not just the exception stack trace","body":"you should put the code not just the exception stack trace"},{"owner":{"account_id":24697650,"reputation":21,"user_id":18597157,"display_name":"Xonex128"},"score":0,"creation_date":1648569351,"post_id":71663828,"comment_id":126655536,"body_markdown":"Didn&#39;t quite understand what you meant","body":"Didn&#39;t quite understand what you meant"},{"owner":{"account_id":24697650,"reputation":21,"user_id":18597157,"display_name":"Xonex128"},"score":0,"creation_date":1648570589,"post_id":71663828,"comment_id":126656083,"body_markdown":"Maybe I&#39;ll throw you my class, and you tell me what&#39;s wrong?","body":"Maybe I&#39;ll throw you my class, and you tell me what&#39;s wrong?"},{"owner":{"account_id":22886030,"reputation":1859,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"score":0,"creation_date":1648571384,"post_id":71663828,"comment_id":126656362,"body_markdown":"in the class declaration change the type of id to Long , and re-write the setId and getId methods","body":"in the class declaration change the type of id to Long , and re-write the setId and getId methods"},{"owner":{"account_id":24697650,"reputation":21,"user_id":18597157,"display_name":"Xonex128"},"score":0,"creation_date":1648574654,"post_id":71663828,"comment_id":126657445,"body_markdown":"In the class declaration, I do not have an id variable, and there are no get and set classes either ..","body":"In the class declaration, I do not have an id variable, and there are no get and set classes either .."},{"owner":{"account_id":24697650,"reputation":21,"user_id":18597157,"display_name":"Xonex128"},"score":0,"creation_date":1648574702,"post_id":71663828,"comment_id":126657463,"body_markdown":"I have a class where there is a long id variable, but this and that is already the value of long","body":"I have a class where there is a long id variable, but this and that is already the value of long"}],"tags":[],"owner":{"account_id":22886030,"reputation":1859,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"comment_count":10,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648563711,"creation_date":1648563711,"answer_id":71663828,"question_id":71663704,"body_markdown":"Your problem is here : The type of id is declared as `int` or `Integer` , you should declare it as `Long` \r\n\r\n\r\n   \r\n\r\n     Caused by: com.fasterxml.jackson.databind.JsonMappingException: Numeric value \r\n    (5124782738) out of range of int (-2147483648 - 2147483647)  at \r\n    [Source: (String)&quot;{&quot;ok&quot;:true,&quot;result&quot;:{&quot;message_id&quot;:646,&quot;from&quot;:{&quot;id&quot;:5124782738,","title":"Error Unable to deserialize response- TelegramLongPollingBot Java","body":"<p>Your problem is here : The type of id is declared as <code>int</code> or <code>Integer</code> , you should declare it as <code>Long</code></p>\n<pre><code> Caused by: com.fasterxml.jackson.databind.JsonMappingException: Numeric value \n(5124782738) out of range of int (-2147483648 - 2147483647)  at \n[Source: (String)&quot;{&quot;ok&quot;:true,&quot;result&quot;:{&quot;message_id&quot;:646,&quot;from&quot;:{&quot;id&quot;:5124782738,\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18124998,"reputation":1,"user_id":13180597,"display_name":"Ixtiyor Xaitov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699650134,"creation_date":1649480545,"answer_id":71805377,"question_id":71663704,"body_markdown":"Have you tried chatId in String format. I had a similar error and I solved it by giving String to chatId.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/L79aY.png","title":"Error Unable to deserialize response- TelegramLongPollingBot Java","body":"<p>Have you tried chatId in String format. I had a similar error and I solved it by giving String to chatId.</p>\n<p><a href=\"https://i.stack.imgur.com/L79aY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L79aY.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"score":0,"creation_date":1699650026,"post_id":77015403,"comment_id":136563048,"body_markdown":"Thank you for sharing, time to time, it works for me, but the error still exists, for some reason.","body":"Thank you for sharing, time to time, it works for me, but the error still exists, for some reason."}],"tags":[],"owner":{"account_id":17992208,"reputation":91,"user_id":13076067,"display_name":"Andrei"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693481324,"creation_date":1693481324,"answer_id":77015403,"question_id":71663704,"body_markdown":"I updated the version of the dependency to the latest one and worked for me.\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.telegram&lt;/groupId&gt;\r\n      &lt;artifactId&gt;telegrambots&lt;/artifactId&gt;\r\n      &lt;version&gt;6.8.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nCheck the latest version using: [maven repository][1]\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.telegram/telegrambots","title":"Error Unable to deserialize response- TelegramLongPollingBot Java","body":"<p>I updated the version of the dependency to the latest one and worked for me.</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.telegram&lt;/groupId&gt;\n  &lt;artifactId&gt;telegrambots&lt;/artifactId&gt;\n  &lt;version&gt;6.8.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Check the latest version using: <a href=\"https://mvnrepository.com/artifact/org.telegram/telegrambots\" rel=\"nofollow noreferrer\">maven repository</a></p>\n"}],"owner":{"account_id":24697650,"reputation":21,"user_id":18597157,"display_name":"Xonex128"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1402,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":3,"score":0,"last_activity_date":1699650641,"creation_date":1648563250,"question_id":71663704,"body_markdown":"When you try to click on the button, it gives this error Unable to deserialize response, please, help me solve it.\r\n\r\n&gt; org.telegram.telegrambots.meta.exceptions.TelegramApiRequestException:\r\n&gt; Unable to deserialize response \tat\r\n&gt; org.telegram.telegrambots.meta.api.methods.send.SendMessage.deserializeResponse(SendMessage.java:132)\r\n&gt; \tat\r\n&gt; org.telegram.telegrambots.meta.api.methods.send.SendMessage.deserializeResponse(SendMessage.java:32)\r\n&gt; \tat\r\n&gt; org.telegram.telegrambots.bots.DefaultAbsSender.sendApiMethod(DefaultAbsSender.java:1009)\r\n&gt; \tat\r\n&gt; org.telegram.telegrambots.meta.bots.AbsSender.execute(AbsSender.java:64)\r\n&gt; \tat\r\n&gt; com.example.buns.service.TelegramBotHandler.onUpdateReceived(TelegramBotHandler.java:120)\r\n&gt; \tat java.util.ArrayList.forEach(ArrayList.java:1259) \tat\r\n&gt; org.telegram.telegrambots.meta.generics.LongPollingBot.onUpdatesReceived(LongPollingBot.java:27)\r\n&gt; \tat\r\n&gt; org.telegram.telegrambots.updatesreceivers.DefaultBotSession$HandlerThread.run(DefaultBotSession.java:320)\r\n&gt; Caused by: com.fasterxml.jackson.databind.JsonMappingException:\r\n&gt; Numeric value (5124782738) out of range of int (-2147483648 -\r\n&gt; 2147483647)  at [Source:\r\n&gt; (String)&quot;{&quot;ok&quot;:true,&quot;result&quot;:{&quot;message_id&quot;:646,&quot;from&quot;:{&quot;id&quot;:5124782738,&quot;is_bot&quot;:true,&quot;first_name&quot;:&quot;WeekTeam\r\n&gt; | Instagram\r\n&gt; Bot&quot;,&quot;username&quot;:&quot;weekteam_instabot&quot;},&quot;chat&quot;:{&quot;id&quot;:1878528837,&quot;first_name&quot;:&quot;Looffy&quot;,&quot;username&quot;:&quot;looffy812&quot;,&quot;type&quot;:&quot;private&quot;},&quot;date&quot;:1648562991,&quot;text&quot;:&quot;\\u0414\\u043e\\u0441\\u0442\\u0443\\u043f\\u043d\\u044b\\u0435\r\n&gt; \\u043a\\u043e\\u043c\\u0430\\u043d\\u0434\\u044b:&quot;,&quot;reply_markup&quot;:{&quot;inline_keyboard&quot;:[[{&quot;text&quot;:&quot;\\u041e\r\n&gt; \\u0447\\u0435\\u043c\r\n&gt; \\u043a\\u0430\\u043d\\u0430\\u043b?&quot;,&quot;callback_data&quot;:&quot;/info&quot;},{&quot;text&quot;:&quot;\\&quot;[truncated\r\n&gt; 441 chars]; line: 1, column: 62] (through reference chain:\r\n&gt; org.telegram.telegrambots.meta.api.objects.ApiResponse[&quot;result&quot;]-&gt;org.telegram.telegrambots.meta.api.objects.Message[&quot;from&quot;]-&gt;org.telegram.telegrambots.meta.api.objects.User[&quot;id&quot;])\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:390)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:349)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.BeanDeserializerBase.wrapAndThrow(BeanDeserializerBase.java:1822)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:326)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:324)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.impl.FieldProperty.deserializeAndSet(FieldProperty.java:138)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:324)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:322)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4593)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3548)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3531)\r\n&gt; \tat\r\n&gt; org.telegram.telegrambots.meta.api.methods.send.SendMessage.deserializeResponse(SendMessage.java:124)\r\n&gt; \t... 7 more Caused by:\r\n&gt; com.fasterxml.jackson.core.exc.InputCoercionException: Numeric value\r\n&gt; (5124782738) out of range of int (-2147483648 - 2147483647)  at\r\n&gt; [Source:\r\n&gt; (String)&quot;{&quot;ok&quot;:true,&quot;result&quot;:{&quot;message_id&quot;:646,&quot;from&quot;:{&quot;id&quot;:5124782738,&quot;is_bot&quot;:true,&quot;first_name&quot;:&quot;WeekTeam\r\n&gt; | Instagram\r\n&gt; Bot&quot;,&quot;username&quot;:&quot;weekteam_instabot&quot;},&quot;chat&quot;:{&quot;id&quot;:1878528837,&quot;first_name&quot;:&quot;Looffy&quot;,&quot;username&quot;:&quot;looffy812&quot;,&quot;type&quot;:&quot;private&quot;},&quot;date&quot;:1648562991,&quot;text&quot;:&quot;\\u0414\\u043e\\u0441\\u0442\\u0443\\u043f\\u043d\\u044b\\u0435\r\n&gt; \\u043a\\u043e\\u043c\\u0430\\u043d\\u0434\\u044b:&quot;,&quot;reply_markup&quot;:{&quot;inline_keyboard&quot;:[[{&quot;text&quot;:&quot;\\u041e\r\n&gt; \\u0447\\u0435\\u043c\r\n&gt; \\u043a\\u0430\\u043d\\u0430\\u043b?&quot;,&quot;callback_data&quot;:&quot;/info&quot;},{&quot;text&quot;:&quot;\\&quot;[truncated\r\n&gt; 441 chars]; line: 1, column: 62] \tat\r\n&gt; com.fasterxml.jackson.core.base.ParserMinimalBase._reportInputCoercion(ParserMinimalBase.java:599)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.core.base.ParserMinimalBase.reportOverflowInt(ParserMinimalBase.java:568)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.core.base.ParserBase.convertNumberToInt(ParserBase.java:936)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.core.base.ParserBase._parseIntValue(ParserBase.java:849)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.core.base.ParserBase.getIntValue(ParserBase.java:680)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.std.NumberDeserializers$IntegerDeserializer.deserialize(NumberDeserializers.java:526)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.std.NumberDeserializers$IntegerDeserializer.deserialize(NumberDeserializers.java:506)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:324)\r\n&gt; \t... 19 more\r\n&gt; org.telegram.telegrambots.meta.exceptions.TelegramApiRequestException:\r\n&gt; Unable to deserialize response \tat\r\n&gt; org.telegram.telegrambots.meta.api.methods.send.SendMessage.deserializeResponse(SendMessage.java:132)\r\n&gt; \tat\r\n&gt; org.telegram.telegrambots.meta.api.methods.send.SendMessage.deserializeResponse(SendMessage.java:32)\r\n&gt; \tat\r\n&gt; org.telegram.telegrambots.bots.DefaultAbsSender.sendApiMethod(DefaultAbsSender.java:1009)\r\n&gt; \tat\r\n&gt; org.telegram.telegrambots.meta.bots.AbsSender.execute(AbsSender.java:64)\r\n&gt; \tat\r\n&gt; com.example.buns.service.TelegramBotHandler.sendInfoToSupport(TelegramBotHandler.java:216)\r\n&gt; \tat\r\n&gt; com.example.buns.service.TelegramBotHandler.onUpdateReceived(TelegramBotHandler.java:127)\r\n&gt; \tat java.util.ArrayList.forEach(ArrayList.java:1259) \tat\r\n&gt; org.telegram.telegrambots.meta.generics.LongPollingBot.onUpdatesReceived(LongPollingBot.java:27)\r\n&gt; \tat\r\n&gt; org.telegram.telegrambots.updatesreceivers.DefaultBotSession$HandlerThread.run(DefaultBotSession.java:320)\r\n&gt; Caused by: com.fasterxml.jackson.databind.JsonMappingException:\r\n&gt; Numeric value (5124782738) out of range of int (-2147483648 -\r\n&gt; 2147483647)  at [Source:\r\n&gt; (String)&quot;{&quot;ok&quot;:true,&quot;result&quot;:{&quot;message_id&quot;:647,&quot;from&quot;:{&quot;id&quot;:5124782738,&quot;is_bot&quot;:true,&quot;first_name&quot;:&quot;WeekTeam\r\n&gt; | Instagram\r\n&gt; Bot&quot;,&quot;username&quot;:&quot;weekteam_instabot&quot;},&quot;chat&quot;:{&quot;id&quot;:1878528837,&quot;first_name&quot;:&quot;Looffy&quot;,&quot;username&quot;:&quot;looffy812&quot;,&quot;type&quot;:&quot;private&quot;},&quot;date&quot;:1648562991,&quot;text&quot;:&quot;Error\r\n&gt; Unable to deserialize response&quot;}}&quot;; line: 1, column: 62] (through\r\n&gt; reference chain:\r\n&gt; org.telegram.telegrambots.meta.api.objects.ApiResponse[&quot;result&quot;]-&gt;org.telegram.telegrambots.meta.api.objects.Message[&quot;from&quot;]-&gt;org.telegram.telegrambots.meta.api.objects.User[&quot;id&quot;])\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:390)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:349)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.BeanDeserializerBase.wrapAndThrow(BeanDeserializerBase.java:1822)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:326)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:324)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.impl.FieldProperty.deserializeAndSet(FieldProperty.java:138)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:324)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:322)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4593)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3548)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3531)\r\n&gt; \tat\r\n&gt; org.telegram.telegrambots.meta.api.methods.send.SendMessage.deserializeResponse(SendMessage.java:124)\r\n&gt; \t... 8 more Caused by:\r\n&gt; com.fasterxml.jackson.core.exc.InputCoercionException: Numeric value\r\n&gt; (5124782738) out of range of int (-2147483648 - 2147483647)  at\r\n&gt; [Source:\r\n&gt; (String)&quot;{&quot;ok&quot;:true,&quot;result&quot;:{&quot;message_id&quot;:647,&quot;from&quot;:{&quot;id&quot;:5124782738,&quot;is_bot&quot;:true,&quot;first_name&quot;:&quot;WeekTeam\r\n&gt; | Instagram\r\n&gt; Bot&quot;,&quot;username&quot;:&quot;weekteam_instabot&quot;},&quot;chat&quot;:{&quot;id&quot;:1878528837,&quot;first_name&quot;:&quot;Looffy&quot;,&quot;username&quot;:&quot;looffy812&quot;,&quot;type&quot;:&quot;private&quot;},&quot;date&quot;:1648562991,&quot;text&quot;:&quot;Error\r\n&gt; Unable to deserialize response&quot;}}&quot;; line: 1, column: 62] \tat\r\n&gt; com.fasterxml.jackson.core.base.ParserMinimalBase._reportInputCoercion(ParserMinimalBase.java:599)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.core.base.ParserMinimalBase.reportOverflowInt(ParserMinimalBase.java:568)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.core.base.ParserBase.convertNumberToInt(ParserBase.java:936)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.core.base.ParserBase._parseIntValue(ParserBase.java:849)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.core.base.ParserBase.getIntValue(ParserBase.java:680)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.std.NumberDeserializers$IntegerDeserializer.deserialize(NumberDeserializers.java:526)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.std.NumberDeserializers$IntegerDeserializer.deserialize(NumberDeserializers.java:506)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:324)\r\n&gt; \t... 20 more","title":"Error Unable to deserialize response- TelegramLongPollingBot Java","body":"<p>When you try to click on the button, it gives this error Unable to deserialize response, please, help me solve it.</p>\n<blockquote>\n<p>org.telegram.telegrambots.meta.exceptions.TelegramApiRequestException:\nUnable to deserialize response    at\norg.telegram.telegrambots.meta.api.methods.send.SendMessage.deserializeResponse(SendMessage.java:132)\nat\norg.telegram.telegrambots.meta.api.methods.send.SendMessage.deserializeResponse(SendMessage.java:32)\nat\norg.telegram.telegrambots.bots.DefaultAbsSender.sendApiMethod(DefaultAbsSender.java:1009)\nat\norg.telegram.telegrambots.meta.bots.AbsSender.execute(AbsSender.java:64)\nat\ncom.example.buns.service.TelegramBotHandler.onUpdateReceived(TelegramBotHandler.java:120)\nat java.util.ArrayList.forEach(ArrayList.java:1259)     at\norg.telegram.telegrambots.meta.generics.LongPollingBot.onUpdatesReceived(LongPollingBot.java:27)\nat\norg.telegram.telegrambots.updatesreceivers.DefaultBotSession$HandlerThread.run(DefaultBotSession.java:320)\nCaused by: com.fasterxml.jackson.databind.JsonMappingException:\nNumeric value (5124782738) out of range of int (-2147483648 -\n2147483647)  at [Source:\n(String)&quot;{&quot;ok&quot;:true,&quot;result&quot;:{&quot;message_id&quot;:646,&quot;from&quot;:{&quot;id&quot;:5124782738,&quot;is_bot&quot;:true,&quot;first_name&quot;:&quot;WeekTeam\n| Instagram\nBot&quot;,&quot;username&quot;:&quot;weekteam_instabot&quot;},&quot;chat&quot;:{&quot;id&quot;:1878528837,&quot;first_name&quot;:&quot;Looffy&quot;,&quot;username&quot;:&quot;looffy812&quot;,&quot;type&quot;:&quot;private&quot;},&quot;date&quot;:1648562991,&quot;text&quot;:&quot;\\u0414\\u043e\\u0441\\u0442\\u0443\\u043f\\u043d\\u044b\\u0435\n\\u043a\\u043e\\u043c\\u0430\\u043d\\u0434\\u044b:&quot;,&quot;reply_markup&quot;:{&quot;inline_keyboard&quot;:[[{&quot;text&quot;:&quot;\\u041e\n\\u0447\\u0435\\u043c\n\\u043a\\u0430\\u043d\\u0430\\u043b?&quot;,&quot;callback_data&quot;:&quot;/info&quot;},{&quot;text&quot;:&quot;&quot;[truncated\n441 chars]; line: 1, column: 62] (through reference chain:\norg.telegram.telegrambots.meta.api.objects.ApiResponse[&quot;result&quot;]-&gt;org.telegram.telegrambots.meta.api.objects.Message[&quot;from&quot;]-&gt;org.telegram.telegrambots.meta.api.objects.User[&quot;id&quot;])\nat\ncom.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:390)\nat\ncom.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:349)\nat\ncom.fasterxml.jackson.databind.deser.BeanDeserializerBase.wrapAndThrow(BeanDeserializerBase.java:1822)\nat\ncom.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:326)\nat\ncom.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)\nat\ncom.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)\nat\ncom.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:324)\nat\ncom.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)\nat\ncom.fasterxml.jackson.databind.deser.impl.FieldProperty.deserializeAndSet(FieldProperty.java:138)\nat\ncom.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:324)\nat\ncom.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)\nat\ncom.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:322)\nat\ncom.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4593)\nat\ncom.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3548)\nat\ncom.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3531)\nat\norg.telegram.telegrambots.meta.api.methods.send.SendMessage.deserializeResponse(SendMessage.java:124)\n... 7 more Caused by:\ncom.fasterxml.jackson.core.exc.InputCoercionException: Numeric value\n(5124782738) out of range of int (-2147483648 - 2147483647)  at\n[Source:\n(String)&quot;{&quot;ok&quot;:true,&quot;result&quot;:{&quot;message_id&quot;:646,&quot;from&quot;:{&quot;id&quot;:5124782738,&quot;is_bot&quot;:true,&quot;first_name&quot;:&quot;WeekTeam\n| Instagram\nBot&quot;,&quot;username&quot;:&quot;weekteam_instabot&quot;},&quot;chat&quot;:{&quot;id&quot;:1878528837,&quot;first_name&quot;:&quot;Looffy&quot;,&quot;username&quot;:&quot;looffy812&quot;,&quot;type&quot;:&quot;private&quot;},&quot;date&quot;:1648562991,&quot;text&quot;:&quot;\\u0414\\u043e\\u0441\\u0442\\u0443\\u043f\\u043d\\u044b\\u0435\n\\u043a\\u043e\\u043c\\u0430\\u043d\\u0434\\u044b:&quot;,&quot;reply_markup&quot;:{&quot;inline_keyboard&quot;:[[{&quot;text&quot;:&quot;\\u041e\n\\u0447\\u0435\\u043c\n\\u043a\\u0430\\u043d\\u0430\\u043b?&quot;,&quot;callback_data&quot;:&quot;/info&quot;},{&quot;text&quot;:&quot;&quot;[truncated\n441 chars]; line: 1, column: 62]  at\ncom.fasterxml.jackson.core.base.ParserMinimalBase._reportInputCoercion(ParserMinimalBase.java:599)\nat\ncom.fasterxml.jackson.core.base.ParserMinimalBase.reportOverflowInt(ParserMinimalBase.java:568)\nat\ncom.fasterxml.jackson.core.base.ParserBase.convertNumberToInt(ParserBase.java:936)\nat\ncom.fasterxml.jackson.core.base.ParserBase._parseIntValue(ParserBase.java:849)\nat\ncom.fasterxml.jackson.core.base.ParserBase.getIntValue(ParserBase.java:680)\nat\ncom.fasterxml.jackson.databind.deser.std.NumberDeserializers$IntegerDeserializer.deserialize(NumberDeserializers.java:526)\nat\ncom.fasterxml.jackson.databind.deser.std.NumberDeserializers$IntegerDeserializer.deserialize(NumberDeserializers.java:506)\nat\ncom.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)\nat\ncom.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:324)\n... 19 more\norg.telegram.telegrambots.meta.exceptions.TelegramApiRequestException:\nUnable to deserialize response    at\norg.telegram.telegrambots.meta.api.methods.send.SendMessage.deserializeResponse(SendMessage.java:132)\nat\norg.telegram.telegrambots.meta.api.methods.send.SendMessage.deserializeResponse(SendMessage.java:32)\nat\norg.telegram.telegrambots.bots.DefaultAbsSender.sendApiMethod(DefaultAbsSender.java:1009)\nat\norg.telegram.telegrambots.meta.bots.AbsSender.execute(AbsSender.java:64)\nat\ncom.example.buns.service.TelegramBotHandler.sendInfoToSupport(TelegramBotHandler.java:216)\nat\ncom.example.buns.service.TelegramBotHandler.onUpdateReceived(TelegramBotHandler.java:127)\nat java.util.ArrayList.forEach(ArrayList.java:1259)     at\norg.telegram.telegrambots.meta.generics.LongPollingBot.onUpdatesReceived(LongPollingBot.java:27)\nat\norg.telegram.telegrambots.updatesreceivers.DefaultBotSession$HandlerThread.run(DefaultBotSession.java:320)\nCaused by: com.fasterxml.jackson.databind.JsonMappingException:\nNumeric value (5124782738) out of range of int (-2147483648 -\n2147483647)  at [Source:\n(String)&quot;{&quot;ok&quot;:true,&quot;result&quot;:{&quot;message_id&quot;:647,&quot;from&quot;:{&quot;id&quot;:5124782738,&quot;is_bot&quot;:true,&quot;first_name&quot;:&quot;WeekTeam\n| Instagram\nBot&quot;,&quot;username&quot;:&quot;weekteam_instabot&quot;},&quot;chat&quot;:{&quot;id&quot;:1878528837,&quot;first_name&quot;:&quot;Looffy&quot;,&quot;username&quot;:&quot;looffy812&quot;,&quot;type&quot;:&quot;private&quot;},&quot;date&quot;:1648562991,&quot;text&quot;:&quot;Error\nUnable to deserialize response&quot;}}&quot;; line: 1, column: 62] (through\nreference chain:\norg.telegram.telegrambots.meta.api.objects.ApiResponse[&quot;result&quot;]-&gt;org.telegram.telegrambots.meta.api.objects.Message[&quot;from&quot;]-&gt;org.telegram.telegrambots.meta.api.objects.User[&quot;id&quot;])\nat\ncom.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:390)\nat\ncom.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:349)\nat\ncom.fasterxml.jackson.databind.deser.BeanDeserializerBase.wrapAndThrow(BeanDeserializerBase.java:1822)\nat\ncom.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:326)\nat\ncom.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)\nat\ncom.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)\nat\ncom.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:324)\nat\ncom.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)\nat\ncom.fasterxml.jackson.databind.deser.impl.FieldProperty.deserializeAndSet(FieldProperty.java:138)\nat\ncom.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:324)\nat\ncom.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)\nat\ncom.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:322)\nat\ncom.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4593)\nat\ncom.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3548)\nat\ncom.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3531)\nat\norg.telegram.telegrambots.meta.api.methods.send.SendMessage.deserializeResponse(SendMessage.java:124)\n... 8 more Caused by:\ncom.fasterxml.jackson.core.exc.InputCoercionException: Numeric value\n(5124782738) out of range of int (-2147483648 - 2147483647)  at\n[Source:\n(String)&quot;{&quot;ok&quot;:true,&quot;result&quot;:{&quot;message_id&quot;:647,&quot;from&quot;:{&quot;id&quot;:5124782738,&quot;is_bot&quot;:true,&quot;first_name&quot;:&quot;WeekTeam\n| Instagram\nBot&quot;,&quot;username&quot;:&quot;weekteam_instabot&quot;},&quot;chat&quot;:{&quot;id&quot;:1878528837,&quot;first_name&quot;:&quot;Looffy&quot;,&quot;username&quot;:&quot;looffy812&quot;,&quot;type&quot;:&quot;private&quot;},&quot;date&quot;:1648562991,&quot;text&quot;:&quot;Error\nUnable to deserialize response&quot;}}&quot;; line: 1, column: 62]  at\ncom.fasterxml.jackson.core.base.ParserMinimalBase._reportInputCoercion(ParserMinimalBase.java:599)\nat\ncom.fasterxml.jackson.core.base.ParserMinimalBase.reportOverflowInt(ParserMinimalBase.java:568)\nat\ncom.fasterxml.jackson.core.base.ParserBase.convertNumberToInt(ParserBase.java:936)\nat\ncom.fasterxml.jackson.core.base.ParserBase._parseIntValue(ParserBase.java:849)\nat\ncom.fasterxml.jackson.core.base.ParserBase.getIntValue(ParserBase.java:680)\nat\ncom.fasterxml.jackson.databind.deser.std.NumberDeserializers$IntegerDeserializer.deserialize(NumberDeserializers.java:526)\nat\ncom.fasterxml.jackson.databind.deser.std.NumberDeserializers$IntegerDeserializer.deserialize(NumberDeserializers.java:506)\nat\ncom.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)\nat\ncom.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:324)\n... 20 more</p>\n</blockquote>\n"},{"tags":["java","spring-shell"],"comments":[{"owner":{"account_id":8002,"reputation":283812,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1699649680,"post_id":77462680,"comment_id":136563007,"body_markdown":"Please include enough of the exception to actually identify it; the fragment of a stack trace isn&#39;t useful","body":"Please include enough of the exception to actually identify it; the fragment of a stack trace isn&#39;t useful"},{"owner":{"account_id":49543,"reputation":19032,"user_id":147530,"accept_rate":63,"display_name":"morpheus"},"score":0,"creation_date":1699650680,"post_id":77462680,"comment_id":136563129,"body_markdown":"the rest of the stack frames got omitted but I think the trace pasted in the question is sufficient. I have also added some code that shows what I am doing.","body":"the rest of the stack frames got omitted but I think the trace pasted in the question is sufficient. I have also added some code that shows what I am doing."},{"owner":{"account_id":8002,"reputation":283812,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1699664356,"post_id":77462680,"comment_id":136564268,"body_markdown":"I&#39;m not quite sure it&#39;s sufficient. When I look up the lines listed in that stack trace in Spring&#39;s source code, I can&#39;t tell if the first argument was consumed to generate the ApplicationRunner instance in https://github.com/spring-projects/spring-boot/blob/e4a0e9d9acf90b2f16656e10211b7e72476acad6/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L775 or if it&#39;s passed through as the first element of the ApplicationArguments, because that decision was made further up the stack.","body":"I&#39;m not quite sure it&#39;s sufficient. When I look up the lines listed in that stack trace in Spring&#39;s source code, I can&#39;t tell if the first argument was consumed to generate the ApplicationRunner instance in <a href=\"https://github.com/spring-projects/spring-boot/blob/e4a0e9d9acf90b2f16656e10211b7e72476acad6/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L775\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/blob/&hellip;</a> or if it&#39;s passed through as the first element of the ApplicationArguments, because that decision was made further up the stack."},{"owner":{"account_id":8002,"reputation":283812,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1699664444,"post_id":77462680,"comment_id":136564276,"body_markdown":"(the former is reasonable if we&#39;re trying to act like a UNIXy shell, in the &quot;first argument selects the thing to run, subsequent arguments are passed to that thing&quot; sense -- which is certainly what the error message implies)","body":"(the former is reasonable if we&#39;re trying to act like a UNIXy shell, in the &quot;first argument selects the thing to run, subsequent arguments are passed to that thing&quot; sense -- which is certainly what the error message implies)"},{"owner":{"account_id":8002,"reputation":283812,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1699664506,"post_id":77462680,"comment_id":136564282,"body_markdown":"Granted, that&#39;s trying to figure it out as someone who doesn&#39;t know Spring; a person with a better handle on the framework would probably be fine with the context you&#39;ve provided.","body":"Granted, that&#39;s trying to figure it out as someone who doesn&#39;t know Spring; a person with a better handle on the framework would probably be fine with the context you&#39;ve provided."}],"owner":{"account_id":49543,"reputation":19032,"user_id":147530,"accept_rate":63,"display_name":"morpheus"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699650622,"creation_date":1699647704,"question_id":77462680,"body_markdown":"I am using [spring-shell](https://docs.spring.io/spring-shell/docs/3.1.5/docs/index.html) to develop a CLI app. \r\n\r\n```\r\n@SpringBootApplication\r\n@CommandScan\r\npublic class App {\r\n\r\n  public static void main(String[] args) throws Exception {\r\n    SpringApplication application = new SpringApplication(App.class);\r\n    application.setBannerMode(Mode.OFF);\r\n    application.run(args);\r\n  }\r\n```\r\n\r\nIt was working well until I ran into this problem: when I try to run my app like:\r\n\r\n```\r\njava -jar my.jar com.mycompany.App --flag \r\n```\r\n\r\nI get following exception:\r\n\r\n```\r\nCaused by: org.springframework.shell.CommandNotFound: No command found for &#39;--flag&#39;\r\n        at org.springframework.shell.Shell.evaluate(Shell.java:207) ~[spring-shell-core-3.1.5.jar:3.1.5]\r\n        at org.springframework.shell.Shell.run(Shell.java:159) ~[spring-shell-core-3.1.5.jar:3.1.5]\r\n        at org.springframework.shell.jline.NonInteractiveShellRunner.run(NonInteractiveShellRunner.java:146) ~[spring-shell-core-3.1.5.jar:3.1.5]\r\n        at org.springframework.shell.DefaultShellApplicationRunner.run(DefaultShellApplicationRunner.java:65) ~[spring-shell-core-3.1.5.jar:3.1.5]\r\n        at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:762) ~[spring-boot-3.1.5.jar:3.1.5]\r\n```\r\n\r\nIts true there is no command for `--flag`. That is meant to be a startup option not a command that should be interpreted by the shell. (Problem #1)\r\n\r\nAnother problem is that spring-shell runs in `NonInteractiveShellRunner` as soon as I provide some command line arguments. I want it to run in interactive mode. (Problem #2)\r\n\r\nHow can I tell it so? I read the docs but could not find solution to this puzzle.","title":"Spring-Shell: How to tell it to not parse command line arguments as shell commands?","body":"<p>I am using <a href=\"https://docs.spring.io/spring-shell/docs/3.1.5/docs/index.html\" rel=\"nofollow noreferrer\">spring-shell</a> to develop a CLI app.</p>\n<pre><code>@SpringBootApplication\n@CommandScan\npublic class App {\n\n  public static void main(String[] args) throws Exception {\n    SpringApplication application = new SpringApplication(App.class);\n    application.setBannerMode(Mode.OFF);\n    application.run(args);\n  }\n</code></pre>\n<p>It was working well until I ran into this problem: when I try to run my app like:</p>\n<pre><code>java -jar my.jar com.mycompany.App --flag \n</code></pre>\n<p>I get following exception:</p>\n<pre><code>Caused by: org.springframework.shell.CommandNotFound: No command found for '--flag'\n        at org.springframework.shell.Shell.evaluate(Shell.java:207) ~[spring-shell-core-3.1.5.jar:3.1.5]\n        at org.springframework.shell.Shell.run(Shell.java:159) ~[spring-shell-core-3.1.5.jar:3.1.5]\n        at org.springframework.shell.jline.NonInteractiveShellRunner.run(NonInteractiveShellRunner.java:146) ~[spring-shell-core-3.1.5.jar:3.1.5]\n        at org.springframework.shell.DefaultShellApplicationRunner.run(DefaultShellApplicationRunner.java:65) ~[spring-shell-core-3.1.5.jar:3.1.5]\n        at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:762) ~[spring-boot-3.1.5.jar:3.1.5]\n</code></pre>\n<p>Its true there is no command for <code>--flag</code>. That is meant to be a startup option not a command that should be interpreted by the shell. (Problem #1)</p>\n<p>Another problem is that spring-shell runs in <code>NonInteractiveShellRunner</code> as soon as I provide some command line arguments. I want it to run in interactive mode. (Problem #2)</p>\n<p>How can I tell it so? I read the docs but could not find solution to this puzzle.</p>\n"},{"tags":["java","inheritance","interface"],"comments":[{"owner":{"account_id":17876398,"reputation":117,"user_id":12986334,"display_name":"idkusrname126"},"score":0,"creation_date":1699646724,"post_id":77462586,"comment_id":136562624,"body_markdown":"I guess I can call the &#39;fancyPrint()&#39; method from the &#39;print()&#39; method. Is this the only  way to satisfy both the abstract class and the interface?","body":"I guess I can call the &#39;fancyPrint()&#39; method from the &#39;print()&#39; method. Is this the only  way to satisfy both the abstract class and the interface?"}],"answers":[{"tags":[],"owner":{"account_id":17876398,"reputation":117,"user_id":12986334,"display_name":"idkusrname126"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699646809,"creation_date":1699646809,"answer_id":77462615,"question_id":77462586,"body_markdown":"I know I can call the `fancyPrint()` method from the `print()` method. That is the only thing I can think of.","title":"How do I replace an abstract method with an interface method?","body":"<p>I know I can call the <code>fancyPrint()</code> method from the <code>print()</code> method. That is the only thing I can think of.</p>\n"},{"tags":[],"owner":{"account_id":18416403,"reputation":2172,"user_id":13415164,"display_name":"Sergey Afinogenov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699648805,"creation_date":1699648480,"answer_id":77462723,"question_id":77462586,"body_markdown":"I think you should exclude `print` method from `Stack` class and create one more interface `SimplePrintable` having `print` method. So `LinkedListStack` will implement `FancyPrintable` but other classes will implement `SimplePrintable`.\r\n\r\n","title":"How do I replace an abstract method with an interface method?","body":"<p>I think you should exclude <code>print</code> method from <code>Stack</code> class and create one more interface <code>SimplePrintable</code> having <code>print</code> method. So <code>LinkedListStack</code> will implement <code>FancyPrintable</code> but other classes will implement <code>SimplePrintable</code>.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1699648534,"creation_date":1699648534,"answer_id":77462727,"question_id":77462586,"body_markdown":"Create and implementation for each print procedure.\r\n\r\n```java\r\ninterface Print {\r\n    void print();\r\n}\r\n\r\nclass BasicPrint implements Print {\r\n    @Override\r\n    public void print() {\r\n\r\n    }\r\n}\r\n\r\nclass FancilyPrint implements Print {\r\n    @Override\r\n    public void print() {\r\n\r\n    }\r\n}\r\n```\r\n\r\nThen, choose whether _Stack_ should implement _BasicPrint_, or _FancilyPrint_.\r\n\r\n```java\r\nabstract class Stack extends BasicPrint { }\r\nclass LinkedListStack extends Stack { }\r\n```","title":"How do I replace an abstract method with an interface method?","body":"<p>Create and implementation for each print procedure.</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface Print {\n    void print();\n}\n\nclass BasicPrint implements Print {\n    @Override\n    public void print() {\n\n    }\n}\n\nclass FancilyPrint implements Print {\n    @Override\n    public void print() {\n\n    }\n}\n</code></pre>\n<p>Then, choose whether <em>Stack</em> should implement <em>BasicPrint</em>, or <em>FancilyPrint</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>abstract class Stack extends BasicPrint { }\nclass LinkedListStack extends Stack { }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":323730,"reputation":379,"user_id":643923,"accept_rate":67,"display_name":"Jamesy82"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699650478,"creation_date":1699650478,"answer_id":77462850,"question_id":77462586,"body_markdown":"Similar to what others have said I would remove the print() method from the Stack abstract class and have it in a separate interface. But I would then change the print method to take the stack it should print.\r\n\r\n    interface StackPrinter {\r\n      void print(Stack stack);\r\n    }\r\n\r\n\r\nThen you can have implementations for SimpleStackPrinter, FancyStackPrinter and whatever others are needed and because its not part of the Stack class anymore any stack can be passed to any printer.","title":"How do I replace an abstract method with an interface method?","body":"<p>Similar to what others have said I would remove the print() method from the Stack abstract class and have it in a separate interface. But I would then change the print method to take the stack it should print.</p>\n<pre><code>interface StackPrinter {\n  void print(Stack stack);\n}\n</code></pre>\n<p>Then you can have implementations for SimpleStackPrinter, FancyStackPrinter and whatever others are needed and because its not part of the Stack class anymore any stack can be passed to any printer.</p>\n"}],"owner":{"account_id":17876398,"reputation":117,"user_id":12986334,"display_name":"idkusrname126"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77462723,"answer_count":4,"score":0,"last_activity_date":1699650478,"creation_date":1699646491,"question_id":77462586,"body_markdown":"I have a couple java files in a `package stacks` package. \r\n\r\nThe first one is an `abstract class Stack` class that has a `public abstract void print()` method in it. \r\n\r\nThe second one is a `public interface FancilyPrint` interface that has a `void fancyPrint()` method in it.\r\n\r\nI am now working on a `public class LinkedListStack extends Stack implements FancyPrint` class.\r\n\r\nHow do I write a `fancyPrint()` method that satisfies the interface contract, without writing a useless `void print()` method from the abstract class? It is useless to have a standard `print()` method in this class due to it implementing the interface with its own `fancyPrint()` method. I don&#39;t remember how to do this.\r\n\r\nHere are my classes for reference:\r\n\r\nStack.java:\r\n\r\n    package stacks;\r\n    \r\n    public abstract class Stack&lt;AnyType&gt;\r\n    {\r\n        public abstract void push(AnyType data);\r\n    \r\n        public abstract AnyType pop();\r\n    \r\n        public abstract AnyType peek();\r\n    \r\n        public abstract boolean isFull();\r\n    \r\n        public abstract boolean isEmpty();\r\n    \r\n        public abstract void print();\r\n    }\r\n\r\nLinkedListStack.java\r\n\r\n    package stacks;\r\n    \r\n    import linkedlists.*;\r\n    \r\n    public class LinkedListStack&lt;SomeType&gt; extends Stack&lt;SomeType&gt; implements FancyPrint\r\n    {\r\n        LinkedList&lt;SomeType&gt; l = new LinkedList&lt;&gt;();\r\n        \r\n        @Override\r\n        public void push(SomeType data)\r\n        {\r\n            l.head_insert(data);\r\n        }\r\n    \r\n        @Override\r\n        public SomeType pop()\r\n        {\r\n            return l.delete_head();\r\n        }\r\n    \r\n        @Override\r\n        public SomeType peek()\r\n        {\r\n            return l.headData();\r\n        }\r\n    \r\n        @Override\r\n        public boolean isFull()\r\n        {\r\n            return false;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isEmpty()\r\n        {\r\n            return l.isEmpty();\r\n        }\r\n    \r\n        @Override\r\n        public void fancyPrint()\r\n        {\r\n            \r\n        }\r\n\r\n        // I do not need this method for this class. I will need it for other classes\r\n        // that extend the Stack abstract class.\r\n        @Override\r\n        public void print()\r\n        {\r\n    \r\n        }\r\n\r\nFancilyPrint Interface:\r\n\r\n    package stacks;\r\n    \r\n    public interface FancilyPrint\r\n    {\r\n        void fancyPrint();\r\n    }\r\n\r\n\r\n\r\n","title":"How do I replace an abstract method with an interface method?","body":"<p>I have a couple java files in a <code>package stacks</code> package.</p>\n<p>The first one is an <code>abstract class Stack</code> class that has a <code>public abstract void print()</code> method in it.</p>\n<p>The second one is a <code>public interface FancilyPrint</code> interface that has a <code>void fancyPrint()</code> method in it.</p>\n<p>I am now working on a <code>public class LinkedListStack extends Stack implements FancyPrint</code> class.</p>\n<p>How do I write a <code>fancyPrint()</code> method that satisfies the interface contract, without writing a useless <code>void print()</code> method from the abstract class? It is useless to have a standard <code>print()</code> method in this class due to it implementing the interface with its own <code>fancyPrint()</code> method. I don't remember how to do this.</p>\n<p>Here are my classes for reference:</p>\n<p>Stack.java:</p>\n<pre><code>package stacks;\n\npublic abstract class Stack&lt;AnyType&gt;\n{\n    public abstract void push(AnyType data);\n\n    public abstract AnyType pop();\n\n    public abstract AnyType peek();\n\n    public abstract boolean isFull();\n\n    public abstract boolean isEmpty();\n\n    public abstract void print();\n}\n</code></pre>\n<p>LinkedListStack.java</p>\n<pre><code>package stacks;\n\nimport linkedlists.*;\n\npublic class LinkedListStack&lt;SomeType&gt; extends Stack&lt;SomeType&gt; implements FancyPrint\n{\n    LinkedList&lt;SomeType&gt; l = new LinkedList&lt;&gt;();\n    \n    @Override\n    public void push(SomeType data)\n    {\n        l.head_insert(data);\n    }\n\n    @Override\n    public SomeType pop()\n    {\n        return l.delete_head();\n    }\n\n    @Override\n    public SomeType peek()\n    {\n        return l.headData();\n    }\n\n    @Override\n    public boolean isFull()\n    {\n        return false;\n    }\n\n    @Override\n    public boolean isEmpty()\n    {\n        return l.isEmpty();\n    }\n\n    @Override\n    public void fancyPrint()\n    {\n        \n    }\n\n    // I do not need this method for this class. I will need it for other classes\n    // that extend the Stack abstract class.\n    @Override\n    public void print()\n    {\n\n    }\n</code></pre>\n<p>FancilyPrint Interface:</p>\n<pre><code>package stacks;\n\npublic interface FancilyPrint\n{\n    void fancyPrint();\n}\n</code></pre>\n"},{"tags":["java","arrays","loops","for-loop","filereader"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":1,"creation_date":1699650130,"post_id":77462819,"comment_id":136563062,"body_markdown":"For starters, fix your ***string comparisons***. See https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java","body":"For starters, fix your <b><i>string comparisons</i></b>. See <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\" title=\"how do i compare strings in java\">stackoverflow.com/questions/513832/&hellip;</a>"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1699650705,"post_id":77462819,"comment_id":136563131,"body_markdown":"Also, note that `return` exits the function immediately, ending any loops it may be in.","body":"Also, note that <code>return</code> exits the function immediately, ending any loops it may be in."},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1699661690,"post_id":77462819,"comment_id":136564094,"body_markdown":"FYI [Gryffindor has two &#39;f&#39; and one &#39;n&#39;](https://en.wikipedia.org/wiki/Hogwarts#Houses)","body":"FYI <a href=\"https://en.wikipedia.org/wiki/Hogwarts#Houses\" rel=\"nofollow noreferrer\">Gryffindor has two &#39;f&#39; and one &#39;n&#39;</a>"}],"owner":{"account_id":22973747,"reputation":11,"user_id":17101702,"display_name":"EkatS"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1699651057,"answer_count":0,"score":0,"last_activity_date":1699649974,"creation_date":1699649974,"question_id":77462819,"body_markdown":"Please bear with me, I am very new to Java. I have created an array that is created from two text files using File Reader when the program is run, I need to check if an element in the list is a specific word. The array is characterData, which comes from text files that have names and houses. I need to return the number of times each house appears in the array, but I don&#39;t know how to write that into my loop. Do I need to change how the array is created so house is on its own? Or is there a way to check it in the current array? I&#39;ve included how the array is created and the loop. With the way it&#39;s done, isn&#39;t one element &quot;name,house&quot;, which wouldn&#39;t be able to just equal house?\r\n\r\nCreating the array:\r\n```\r\nprivate Character[] characterData;\r\n\r\n  //create character object with the text files\r\n  public DataScene(String nameFile, String houseFile){\r\n    characterData = createCharacter(nameFile, houseFile);\r\n  }\r\n\r\n//file reader to convert the files into strings\r\npublic Character[] createCharacter(String nameFile, String houseFile) {\r\n    String[] nameData = FileReader.toStringArray(nameFile);\r\n    String[] houseData = FileReader.toStringArray(houseFile);\r\n\r\n    Character[] tempCharacter = new Character[nameData.length];\r\n\r\n    for (int index = 0; index &lt; tempCharacter.length; index++) {\r\n      tempCharacter[index] = new Character(nameData[index], houseData[index]);\r\n    }\r\n\r\n    return tempCharacter;\r\n  }\r\n```\r\n\r\nThe method to check the houses:\r\n```//check to see how many of each house are in the list\r\n  public int countHouses(String characterData){\r\n    int countG = 0;\r\n    int countS = 0;\r\n    int countH = 0;\r\n    int countR = 0;\r\n\r\n    for (int index = 0; index &lt; characterData.length; index++){\r\n      if (house == &quot;Gryfinndor&quot;){\r\n        countG++;\r\n        return countG;\r\n      } else if (house == &quot;Slytherin&quot;){\r\n        countS++;\r\n        return countS;\r\n      } else if (house == &quot;Hufflepuff&quot;){\r\n        countH++\r\n        return countH;\r\n      } else {\r\n        countR++;\r\n        return countF;\r\n      }\r\n    }\r\n  }\r\n```","title":"In Java, how do I check if a specific element appears in an array?","body":"<p>Please bear with me, I am very new to Java. I have created an array that is created from two text files using File Reader when the program is run, I need to check if an element in the list is a specific word. The array is characterData, which comes from text files that have names and houses. I need to return the number of times each house appears in the array, but I don't know how to write that into my loop. Do I need to change how the array is created so house is on its own? Or is there a way to check it in the current array? I've included how the array is created and the loop. With the way it's done, isn't one element &quot;name,house&quot;, which wouldn't be able to just equal house?</p>\n<p>Creating the array:</p>\n<pre><code>private Character[] characterData;\n\n  //create character object with the text files\n  public DataScene(String nameFile, String houseFile){\n    characterData = createCharacter(nameFile, houseFile);\n  }\n\n//file reader to convert the files into strings\npublic Character[] createCharacter(String nameFile, String houseFile) {\n    String[] nameData = FileReader.toStringArray(nameFile);\n    String[] houseData = FileReader.toStringArray(houseFile);\n\n    Character[] tempCharacter = new Character[nameData.length];\n\n    for (int index = 0; index &lt; tempCharacter.length; index++) {\n      tempCharacter[index] = new Character(nameData[index], houseData[index]);\n    }\n\n    return tempCharacter;\n  }\n</code></pre>\n<p>The method to check the houses:</p>\n<pre><code>  public int countHouses(String characterData){\n    int countG = 0;\n    int countS = 0;\n    int countH = 0;\n    int countR = 0;\n\n    for (int index = 0; index &lt; characterData.length; index++){\n      if (house == &quot;Gryfinndor&quot;){\n        countG++;\n        return countG;\n      } else if (house == &quot;Slytherin&quot;){\n        countS++;\n        return countS;\n      } else if (house == &quot;Hufflepuff&quot;){\n        countH++\n        return countH;\n      } else {\n        countR++;\n        return countF;\n      }\n    }\n  }\n</code></pre>\n"},{"tags":["java","maven","maven-assembly-plugin"],"comments":[{"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"score":0,"creation_date":1699702487,"post_id":77462748,"comment_id":136566448,"body_markdown":"Looks like resonable feature ... I created issue to track it https://issues.apache.org/jira/browse/MASSEMBLY-1005","body":"Looks like resonable feature ... I created issue to track it <a href=\"https://issues.apache.org/jira/browse/MASSEMBLY-1005\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/MASSEMBLY-1005</a>"}],"owner":{"account_id":3174895,"reputation":401,"user_id":2683012,"display_name":"Azuaron"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1699648943,"creation_date":1699648943,"question_id":77462748,"body_markdown":"I have a Maven project (we&#39;ll call it Shared Assembly Project) that defines an assembly file that looks like this:\r\n\r\n```\r\n&lt;assembly xmlns=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/2.2.0&quot;\r\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n          xsi:schemaLocation=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/2.2.0 http://maven.apache.org/xsd/assembly-2.2.0.xsd&quot;&gt;\r\n    &lt;id&gt;shared-assembly&lt;/id&gt;\r\n    &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\r\n    &lt;formats&gt;\r\n        &lt;format&gt;zip&lt;/format&gt;\r\n    &lt;/formats&gt;\r\n    &lt;fileSets&gt;\r\n        &lt;fileSet&gt;\r\n            &lt;directory&gt;${schema.directory}&lt;/directory&gt;\r\n            &lt;outputDirectory&gt;schemas&lt;/outputDirectory&gt;\r\n        &lt;/fileSet&gt;\r\n    &lt;/fileSets&gt;\r\n&lt;/assembly&gt;\r\n```\r\nThis assembly file is in `src/main/resources/assemblies/shared-assembly.xml` and can be referenced in other projects&#39; POMs like this (which we&#39;ll call the Referencing Project):\r\n\r\n```\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven-assembly-plugin.version}&lt;/version&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;shared-assembly&lt;/artifactId&gt;\r\n                        &lt;version&gt;${shared.assembly.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;shared-assembly&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-assembly&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\nThe problem is the `${schema.directory}` property in `shared-assembly.xml`. I want to specify a default value in `shared-assembly.xml` or the Shared Assembly Project&#39;s pom. Then, the Referencing Project should be able to override the `schema.directory` if needed. Unfortunately, Maven doesn&#39;t allow sharing of properties from dependency pom files. It also seems like I can&#39;t just replace &quot;${schema.directory}&quot; with &quot;target/generated-sources/schema&quot;, then override the `fileSet.directory` in the plugin configuration. Finally, it seems like there&#39;s no property default syntax similar to this:\r\n\r\n`${schema.directory:target/generated-sources/schema}`\r\n\r\nMy goals:\r\n\r\n - Shared Assembly Project specifies the default value\r\n - If Referencing Project uses the default value, no additional configuration required\r\n - If Referencing Project overrides the default value, it should be simple for Referencing Project to do so (no additional plugins required)\r\n\r\nI know there are plugins that would allow the Referencing Project to pull a property from a file in the Shared Assembly Project. However, this violates goal #2, since it would need that additional plugin just to get the default value.","title":"Set default value in shared Maven assembly file, but allow overrides in referencing projects","body":"<p>I have a Maven project (we'll call it Shared Assembly Project) that defines an assembly file that looks like this:</p>\n<pre><code>&lt;assembly xmlns=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/2.2.0&quot;\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n          xsi:schemaLocation=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/2.2.0 http://maven.apache.org/xsd/assembly-2.2.0.xsd&quot;&gt;\n    &lt;id&gt;shared-assembly&lt;/id&gt;\n    &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\n    &lt;formats&gt;\n        &lt;format&gt;zip&lt;/format&gt;\n    &lt;/formats&gt;\n    &lt;fileSets&gt;\n        &lt;fileSet&gt;\n            &lt;directory&gt;${schema.directory}&lt;/directory&gt;\n            &lt;outputDirectory&gt;schemas&lt;/outputDirectory&gt;\n        &lt;/fileSet&gt;\n    &lt;/fileSets&gt;\n&lt;/assembly&gt;\n</code></pre>\n<p>This assembly file is in <code>src/main/resources/assemblies/shared-assembly.xml</code> and can be referenced in other projects' POMs like this (which we'll call the Referencing Project):</p>\n<pre><code>            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-assembly-plugin.version}&lt;/version&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;com.example&lt;/groupId&gt;\n                        &lt;artifactId&gt;shared-assembly&lt;/artifactId&gt;\n                        &lt;version&gt;${shared.assembly.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n                &lt;configuration&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;shared-assembly&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>The problem is the <code>${schema.directory}</code> property in <code>shared-assembly.xml</code>. I want to specify a default value in <code>shared-assembly.xml</code> or the Shared Assembly Project's pom. Then, the Referencing Project should be able to override the <code>schema.directory</code> if needed. Unfortunately, Maven doesn't allow sharing of properties from dependency pom files. It also seems like I can't just replace &quot;${schema.directory}&quot; with &quot;target/generated-sources/schema&quot;, then override the <code>fileSet.directory</code> in the plugin configuration. Finally, it seems like there's no property default syntax similar to this:</p>\n<p><code>${schema.directory:target/generated-sources/schema}</code></p>\n<p>My goals:</p>\n<ul>\n<li>Shared Assembly Project specifies the default value</li>\n<li>If Referencing Project uses the default value, no additional configuration required</li>\n<li>If Referencing Project overrides the default value, it should be simple for Referencing Project to do so (no additional plugins required)</li>\n</ul>\n<p>I know there are plugins that would allow the Referencing Project to pull a property from a file in the Shared Assembly Project. However, this violates goal #2, since it would need that additional plugin just to get the default value.</p>\n"},{"tags":["java","database","haversine"],"comments":[{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":0,"creation_date":1699517560,"post_id":77451432,"comment_id":136542533,"body_markdown":"_This is a hometask. Please, don&#39;t take it serious or think about this problem for more than 2 seconds. It&#39;s just not worth it_ Sorry, but if that is the case why are you asking this question?","body":"<i>This is a hometask. Please, don&#39;t take it serious or think about this problem for more than 2 seconds. It&#39;s just not worth it</i> Sorry, but if that is the case why are you asking this question?"},{"owner":{"account_id":1128331,"reputation":981,"user_id":1115019,"display_name":"TheNomad"},"score":0,"creation_date":1699517909,"post_id":77451432,"comment_id":136542597,"body_markdown":"Although I found variations of it, this should be correct as it should be the &quot;generic&quot; formula, if I am not mistaken. Can you give examples of some output with your results and the expected results?","body":"Although I found variations of it, this should be correct as it should be the &quot;generic&quot; formula, if I am not mistaken. Can you give examples of some output with your results and the expected results?"},{"owner":{"account_id":1128331,"reputation":981,"user_id":1115019,"display_name":"TheNomad"},"score":0,"creation_date":1699519114,"post_id":77451432,"comment_id":136542856,"body_markdown":"@PradeepSimha He probably said it so we don&#39;t discuss other issues like why he uses a DB, why SQLLite, why the query is unsafe and so on. He didn&#39;t ask us to do the homework for him, just to help him find the issue if we can.","body":"@PradeepSimha He probably said it so we don&#39;t discuss other issues like why he uses a DB, why SQLLite, why the query is unsafe and so on. He didn&#39;t ask us to do the homework for him, just to help him find the issue if we can."}],"answers":[{"comments":[{"owner":{"account_id":1128331,"reputation":981,"user_id":1115019,"display_name":"TheNomad"},"score":0,"creation_date":1699520545,"post_id":77451488,"comment_id":136543148,"body_markdown":"He already does it in `dist` with `Math.sin(deg2rad(lat1))` for example.","body":"He already does it in <code>dist</code> with <code>Math.sin(deg2rad(lat1))</code> for example."}],"tags":[],"owner":{"account_id":29765714,"reputation":81,"user_id":22812102,"display_name":"Vinith_jk_bro"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699517940,"creation_date":1699517940,"answer_id":77451488,"question_id":77451432,"body_markdown":"I believe it is almost correct, just that the haversine formula assumes the latitude and longitude values are in radians.\r\n\r\nSo, just convert your latitudes and longitudes to radians before using them in the formula. \r\n\r\nYou can modify your `distance` method like this:\r\n\r\n    private double distance(double lat1, double lon1, double lat2, double lon2) {\r\n       lat1 = deg2rad(lat1);\r\n       lon1 = deg2rad(lon1);\r\n       lat2 = deg2rad(lat2);\r\n       lon2 = deg2rad(lon2);\r\n       // rest of the code to be filled accordingly\r\n    }\r\n\r\nNow, the input values are in radians, which is necessary for the haversine formula to work correctly.\r\n\r\nPlease try it out.","title":"Calculating Distance Between Latitude and Longitude Values in SQLite Database","body":"<p>I believe it is almost correct, just that the haversine formula assumes the latitude and longitude values are in radians.</p>\n<p>So, just convert your latitudes and longitudes to radians before using them in the formula.</p>\n<p>You can modify your <code>distance</code> method like this:</p>\n<pre><code>private double distance(double lat1, double lon1, double lat2, double lon2) {\n   lat1 = deg2rad(lat1);\n   lon1 = deg2rad(lon1);\n   lat2 = deg2rad(lat2);\n   lon2 = deg2rad(lon2);\n   // rest of the code to be filled accordingly\n}\n</code></pre>\n<p>Now, the input values are in radians, which is necessary for the haversine formula to work correctly.</p>\n<p>Please try it out.</p>\n"},{"tags":[],"owner":{"account_id":1128331,"reputation":981,"user_id":1115019,"display_name":"TheNomad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699648821,"creation_date":1699518797,"answer_id":77451576,"question_id":77451432,"body_markdown":"Alright, so I set-up a small env to test and as suspected, the problem is not in the formula itself, but the measuring system. This `dist = dist * 60 * 1.1515;` will return the distance in Miles, so if you&#39;re expecting KMs, of course it will be off. To convert from miles you need to multiply by 1.609344.\r\n\r\nTry this:\r\n\r\n```lang-java\r\nprivate double distance(double lat1, double lon1, double lat2, double lon2, bool kmConv) {\r\n\r\n    double theta = lon1 - lon2;\r\n\r\n    double dist = Math.sin(deg2rad(lat1)) * Math.sin(deg2rad(lat2))\r\n\r\n                + Math.cos(deg2rad(lat1)) * Math.cos(deg2rad(lat2)) * Math.cos(deg2rad(theta));\r\n\r\n    dist = Math.acos(dist);\r\n    dist = rad2deg(dist);\r\n\r\n    dist = dist * 60 * 1.1515;\r\n\r\n    if (kmConv)\r\n        dist *= 1.609344;\r\n\r\n    return (dist);\r\n}\r\n```\r\n\r\nI tested some values versus [Distance Calculator][1] and it gave me (almost) the same result (apart from some rounding, of course).\r\n\r\n\r\nAlso, you have this\r\n```lang-java\r\n           Double latitude = cursor.getDouble(cursor.getColumnIndex(&quot;Lat&quot;));\r\n\r\n           Double longitude = cursor.getDouble(cursor.getColumnIndex(&quot;Longi&quot;));\r\n```\r\n\r\nShouldn&#39;t they be ...\r\n```lang-java\r\n           Double latitude = cursor.getDouble(cursor.getColumnIndex(&quot;latitude&quot;));\r\n\r\n           Double longitude = cursor.getDouble(cursor.getColumnIndex(&quot;longitude&quot;));\r\n```\r\n... since those are the column names? Please double check both cases I mentioned (wrong conversion or wrong column names).\r\n\r\n**Minor note:** I know you said this should not be taken seriously, so a discussion regarding the use of a DB or what type of DB you picked is not relevant. However, I will stress that you need to avoid this type of coding: ` Cursor cursor = db.rawQuery(&quot;select latitude,longitude from &quot; + Table_Name_Location, null);` . While this is homework, in any normal app, this style (concatenating SQL statements) is a major security issue as it allows SQL injection. The &quot;best&quot; attack vector is when using this type of concatenation in login forms in apps or sites. Just something to keep in mind for the future :)\r\n\r\n\r\n  [1]: https://www.daftlogic.com/projects-google-maps-distance-calculator.htm","title":"Calculating Distance Between Latitude and Longitude Values in SQLite Database","body":"<p>Alright, so I set-up a small env to test and as suspected, the problem is not in the formula itself, but the measuring system. This <code>dist = dist * 60 * 1.1515;</code> will return the distance in Miles, so if you're expecting KMs, of course it will be off. To convert from miles you need to multiply by 1.609344.</p>\n<p>Try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private double distance(double lat1, double lon1, double lat2, double lon2, bool kmConv) {\n\n    double theta = lon1 - lon2;\n\n    double dist = Math.sin(deg2rad(lat1)) * Math.sin(deg2rad(lat2))\n\n                + Math.cos(deg2rad(lat1)) * Math.cos(deg2rad(lat2)) * Math.cos(deg2rad(theta));\n\n    dist = Math.acos(dist);\n    dist = rad2deg(dist);\n\n    dist = dist * 60 * 1.1515;\n\n    if (kmConv)\n        dist *= 1.609344;\n\n    return (dist);\n}\n</code></pre>\n<p>I tested some values versus <a href=\"https://www.daftlogic.com/projects-google-maps-distance-calculator.htm\" rel=\"nofollow noreferrer\">Distance Calculator</a> and it gave me (almost) the same result (apart from some rounding, of course).</p>\n<p>Also, you have this</p>\n<pre class=\"lang-java prettyprint-override\"><code>           Double latitude = cursor.getDouble(cursor.getColumnIndex(&quot;Lat&quot;));\n\n           Double longitude = cursor.getDouble(cursor.getColumnIndex(&quot;Longi&quot;));\n</code></pre>\n<p>Shouldn't they be ...</p>\n<pre class=\"lang-java prettyprint-override\"><code>           Double latitude = cursor.getDouble(cursor.getColumnIndex(&quot;latitude&quot;));\n\n           Double longitude = cursor.getDouble(cursor.getColumnIndex(&quot;longitude&quot;));\n</code></pre>\n<p>... since those are the column names? Please double check both cases I mentioned (wrong conversion or wrong column names).</p>\n<p><strong>Minor note:</strong> I know you said this should not be taken seriously, so a discussion regarding the use of a DB or what type of DB you picked is not relevant. However, I will stress that you need to avoid this type of coding: <code> Cursor cursor = db.rawQuery(&quot;select latitude,longitude from &quot; + Table_Name_Location, null);</code> . While this is homework, in any normal app, this style (concatenating SQL statements) is a major security issue as it allows SQL injection. The &quot;best&quot; attack vector is when using this type of concatenation in login forms in apps or sites. Just something to keep in mind for the future :)</p>\n"}],"owner":{"account_id":29861877,"reputation":1,"user_id":22885345,"display_name":"jango123"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1699648821,"creation_date":1699517220,"question_id":77451432,"body_markdown":"**DISCLAIMER**\r\nThis is a hometask. Please, don&#39;t take it serious or think about this problem for more than 2 seconds. It&#39;s just not worth it. I&#39;m sorry...\r\n\r\nHello! I&#39;m working on an Android project where I need to calculate the distance between latitude and longitude values stored in an SQLite Database. I suspect there might be an issue with my calculation. I&#39;d like to retrieve these locations and calculate the distances between them. \r\n\r\n\r\n```\r\npublic ArrayList&lt;Double&gt; getPoints(){\r\n\r\n    ArrayList&lt;Double&gt; location = new ArrayList&lt;&gt;();\r\n\r\n    SQLiteDatabase db = this.getReadableDatabase();\r\n\r\n    Cursor cursor = db.rawQuery(&quot;select latitude,longitude from &quot; + Table_Name_Location, null);\r\n\r\n    if(cursor.getCount() &gt; 0){\r\n\r\n        while(cursor.moveToNext()) {\r\n\r\n            Double latitude = cursor.getDouble(cursor.getColumnIndex(&quot;Lat&quot;));\r\n\r\n            Double longitude = cursor.getDouble(cursor.getColumnIndex(&quot;Longi&quot;));\r\n\r\n            location.add(latitude);\r\n\r\n            location.add(longitude);\r\n\r\n        }\r\n\r\n    }\r\n\r\n    cursor.close();\r\n\r\n    return location;\r\n\r\n}\r\n```\r\n\r\n\r\nI&#39;ve been trying to calculate the distances using the Haversine formula. Here&#39;s a simplified version of my code:\r\n\r\n\r\n```\r\nprivate double distance(double lat1, double lon1, double lat2, double lon2) {\r\n\r\n    double theta = lon1 - lon2;\r\n\r\n    double dist = Math.sin(deg2rad(lat1)) * Math.sin(deg2rad(lat2))\r\n\r\n                + Math.cos(deg2rad(lat1)) * Math.cos(deg2rad(lat2)) * Math.cos(deg2rad(theta));\r\n\r\n    dist = Math.acos(dist);\r\n\r\n    dist = rad2deg(dist);\r\n\r\n    dist = dist * 60 * 1.1515;\r\n\r\n    return (dist);\r\n\r\n}\r\n\r\nprivate double deg2rad(double deg) {\r\n\r\n    return (deg * Math.PI / 180.0);\r\n\r\n}\r\n\r\nprivate double rad2deg(double rad) {\r\n\r\n    return (rad * 180.0 / Math.PI);\r\n\r\n}\r\n```\r\n\r\n\r\nThe issue is that my code doesn&#39;t return the expected results. I suspect the problem might be related to the Haversine formula, but I&#39;m not entirely sure. Can anyone help me identify the problem or suggest improvements to calculate the distances correctly?","title":"Calculating Distance Between Latitude and Longitude Values in SQLite Database","body":"<p><strong>DISCLAIMER</strong>\nThis is a hometask. Please, don't take it serious or think about this problem for more than 2 seconds. It's just not worth it. I'm sorry...</p>\n<p>Hello! I'm working on an Android project where I need to calculate the distance between latitude and longitude values stored in an SQLite Database. I suspect there might be an issue with my calculation. I'd like to retrieve these locations and calculate the distances between them.</p>\n<pre><code>public ArrayList&lt;Double&gt; getPoints(){\n\n    ArrayList&lt;Double&gt; location = new ArrayList&lt;&gt;();\n\n    SQLiteDatabase db = this.getReadableDatabase();\n\n    Cursor cursor = db.rawQuery(&quot;select latitude,longitude from &quot; + Table_Name_Location, null);\n\n    if(cursor.getCount() &gt; 0){\n\n        while(cursor.moveToNext()) {\n\n            Double latitude = cursor.getDouble(cursor.getColumnIndex(&quot;Lat&quot;));\n\n            Double longitude = cursor.getDouble(cursor.getColumnIndex(&quot;Longi&quot;));\n\n            location.add(latitude);\n\n            location.add(longitude);\n\n        }\n\n    }\n\n    cursor.close();\n\n    return location;\n\n}\n</code></pre>\n<p>I've been trying to calculate the distances using the Haversine formula. Here's a simplified version of my code:</p>\n<pre><code>private double distance(double lat1, double lon1, double lat2, double lon2) {\n\n    double theta = lon1 - lon2;\n\n    double dist = Math.sin(deg2rad(lat1)) * Math.sin(deg2rad(lat2))\n\n                + Math.cos(deg2rad(lat1)) * Math.cos(deg2rad(lat2)) * Math.cos(deg2rad(theta));\n\n    dist = Math.acos(dist);\n\n    dist = rad2deg(dist);\n\n    dist = dist * 60 * 1.1515;\n\n    return (dist);\n\n}\n\nprivate double deg2rad(double deg) {\n\n    return (deg * Math.PI / 180.0);\n\n}\n\nprivate double rad2deg(double rad) {\n\n    return (rad * 180.0 / Math.PI);\n\n}\n</code></pre>\n<p>The issue is that my code doesn't return the expected results. I suspect the problem might be related to the Haversine formula, but I'm not entirely sure. Can anyone help me identify the problem or suggest improvements to calculate the distances correctly?</p>\n"},{"tags":["java","sonarqube"],"comments":[{"owner":{"account_id":10574825,"reputation":1169,"user_id":7790438,"display_name":"Fady Saad"},"score":1,"creation_date":1492656882,"post_id":43509366,"comment_id":74073093,"body_markdown":"This [link](https://docs.sonarqube.org/display/PLUG/Writing+Custom+Java+Rules+101) will help you","body":"This <a href=\"https://docs.sonarqube.org/display/PLUG/Writing+Custom+Java+Rules+101\" rel=\"nofollow noreferrer\">link</a> will help you"},{"owner":{"account_id":10069853,"reputation":31,"user_id":7443811,"display_name":"agnihot"},"score":0,"creation_date":1492660334,"post_id":43509366,"comment_id":74074016,"body_markdown":"This link talks about visitnode and visitmethod. My question isnt answered.","body":"This link talks about visitnode and visitmethod. My question isnt answered."}],"answers":[{"tags":[],"owner":{"account_id":5908102,"reputation":3081,"user_id":4649158,"display_name":"Wohops"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492677151,"creation_date":1492677151,"answer_id":43514225,"question_id":43509366,"body_markdown":"You have multiple choice to achieve this, the simplest one being to write your custom rules extending the `org.sonar.plugins.java.api.IssuableSubscriptionVisitor`, following what is described in the [tutorial][1] (as perfectly pointed by @user7790438 in the comments of your question... you may have to adapt what is describe in it, but it gives you the basics), and register to `Tree.Kind.Identifier` nodes.\r\n\r\nThen, once visiting all the Identifier nodes, simply cast the given nodes into \r\n`org.sonar.plugins.java.api.tree.IdentifierTree`, and retrieve theirs `name()`. From there, you would be able to check if its called `Logger` or `LoggerFactory`.\r\n\r\nAnother approach could be to subscribe to `Tree.Kind.IMPORT` trees and simply inspect the qualified identifier. But usage of star-imports will make this not as efficient and won&#39;t allow you to find all occurences.\r\n\r\nFor your information, you can not visit literals, as you will end up visiting only literals of the language (Strings, integers, doubles, booleans, etc.), like the name of the method suggest...\r\n\r\n  [1]: https://docs.sonarqube.org/display/PLUG/Writing+Custom+Java+Rules+101 &quot;tutorial&quot;","title":"Sonarqube - how to check for Logger or LoggerFactory in code","body":"<p>You have multiple choice to achieve this, the simplest one being to write your custom rules extending the <code>org.sonar.plugins.java.api.IssuableSubscriptionVisitor</code>, following what is described in the <a href=\"https://docs.sonarqube.org/display/PLUG/Writing+Custom+Java+Rules+101\" rel=\"nofollow noreferrer\" title=\"tutorial\">tutorial</a> (as perfectly pointed by @user7790438 in the comments of your question... you may have to adapt what is describe in it, but it gives you the basics), and register to <code>Tree.Kind.Identifier</code> nodes.</p>\n\n<p>Then, once visiting all the Identifier nodes, simply cast the given nodes into \n<code>org.sonar.plugins.java.api.tree.IdentifierTree</code>, and retrieve theirs <code>name()</code>. From there, you would be able to check if its called <code>Logger</code> or <code>LoggerFactory</code>.</p>\n\n<p>Another approach could be to subscribe to <code>Tree.Kind.IMPORT</code> trees and simply inspect the qualified identifier. But usage of star-imports will make this not as efficient and won't allow you to find all occurences.</p>\n\n<p>For your information, you can not visit literals, as you will end up visiting only literals of the language (Strings, integers, doubles, booleans, etc.), like the name of the method suggest...</p>\n"}],"owner":{"account_id":10069853,"reputation":31,"user_id":7443811,"display_name":"agnihot"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":587,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699647992,"creation_date":1492656625,"question_id":43509366,"body_markdown":"I want to build a custom rule in Sonarqube using Java, that can catch the occurrence of this:\r\n\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n\r\nor the word `Logger` or `LogFactory` in the code.\r\nShould I be using `visitLiteral()` for this?","title":"Sonarqube - how to check for Logger or LoggerFactory in code","body":"<p>I want to build a custom rule in Sonarqube using Java, that can catch the occurrence of this:</p>\n\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n</code></pre>\n\n<p>or the word <code>Logger</code> or <code>LogFactory</code> in the code.\nShould I be using <code>visitLiteral()</code> for this?</p>\n"},{"tags":["java","spring","spring-boot","arraylist","hashmap"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1699646488,"post_id":77462581,"comment_id":136562596,"body_markdown":"This, `catch (ArrayIndexOutOfBoundsException exception) {\n           System.out.println(&quot;ArrayIndexOutOfBoundsException thrown!&quot;);\n         }` is a terrible thing to do to your program as it interferes with your ability to debug the problem. At least print the stack trace. Also, can you step through your code with a debugger to isolate the error?","body":"This, <code>catch (ArrayIndexOutOfBoundsException exception) {            System.out.println(&quot;ArrayIndexOutOfBoundsException thrown!&quot;);          }</code> is a terrible thing to do to your program as it interferes with your ability to debug the problem. At least print the stack trace. Also, can you step through your code with a debugger to isolate the error?"},{"owner":{"account_id":28972275,"reputation":25,"user_id":22192292,"display_name":"zi zi"},"score":0,"creation_date":1699647177,"post_id":77462581,"comment_id":136562681,"body_markdown":"@HovercraftFullOfEels thanks for your response, can you let me know how to print the stack trace. I  googled for it but not sure how to do it. I will keep trying too","body":"@HovercraftFullOfEels thanks for your response, can you let me know how to print the stack trace. I  googled for it but not sure how to do it. I will keep trying too"},{"owner":{"account_id":28972275,"reputation":25,"user_id":22192292,"display_name":"zi zi"},"score":0,"creation_date":1699647892,"post_id":77462581,"comment_id":136562775,"body_markdown":"@HovercraftFullOfEels I am able to print the stack trace, I am getting the above error. Can you let me know how to fix it.","body":"@HovercraftFullOfEels I am able to print the stack trace, I am getting the above error. Can you let me know how to fix it."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1699647916,"post_id":77462581,"comment_id":136562778,"body_markdown":"within the exception you have `exception.printStackTrace();`. That&#39;s it. The stack trace is telling you that your collection has no items within it at the time that you try to query it. Now use the debugger to find out why.","body":"within the exception you have <code>exception.printStackTrace();</code>. That&#39;s it. The stack trace is telling you that your collection has no items within it at the time that you try to query it. Now use the debugger to find out why."},{"owner":{"account_id":28972275,"reputation":25,"user_id":22192292,"display_name":"zi zi"},"score":0,"creation_date":1699648156,"post_id":77462581,"comment_id":136562811,"body_markdown":"@HovercraftFullOfEels I am also trying, its so confusing. can you update in the code with solution like how to fix it. thanks","body":"@HovercraftFullOfEels I am also trying, its so confusing. can you update in the code with solution like how to fix it. thanks"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1699648367,"post_id":77462581,"comment_id":136562837,"body_markdown":"Please check out [What is a debugger and how can it help me diagnose problems?](https://stackoverflow.com/q/25385173/)  and [How to debug small programs](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/). The links won&#39;t solve your direct problem, but they will give you steps that you can follow that should help you solve it yourself, or even if that is not successful, then at least help you to better isolate your problem so that your question can be more focused and easier to answer.","body":"Please check out <a href=\"https://stackoverflow.com/q/25385173/\">What is a debugger and how can it help me diagnose problems?</a>  and <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a>. The links won&#39;t solve your direct problem, but they will give you steps that you can follow that should help you solve it yourself, or even if that is not successful, then at least help you to better isolate your problem so that your question can be more focused and easier to answer."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1699648405,"post_id":77462581,"comment_id":136562843,"body_markdown":"So  use your debugger and see what Strings you get, what the split method returns, ... you are really the best person to solve this problem, not us.","body":"So  use your debugger and see what Strings you get, what the split method returns, ... you are really the best person to solve this problem, not us."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1699649090,"post_id":77462581,"comment_id":136562934,"body_markdown":"Side note: you shouldn&#39;t even be catching an ArrayIndexOutOfBoundsException but instead should write your code to prevent it from happening. Which line is throwing it? What is the value of the key String and other Strings when it happens?","body":"Side note: you shouldn&#39;t even be catching an ArrayIndexOutOfBoundsException but instead should write your code to prevent it from happening. Which line is throwing it? What is the value of the key String and other Strings when it happens?"},{"owner":{"account_id":12918789,"reputation":679,"user_id":9978153,"display_name":"Vladimir Shefer"},"score":0,"creation_date":1699654755,"post_id":77462581,"comment_id":136563542,"body_markdown":"Side note: Please name the variables using camelCase from small letter. For example Lioninit -&gt; lionInit","body":"Side note: Please name the variables using camelCase from small letter. For example Lioninit -&gt; lionInit"},{"owner":{"account_id":28972275,"reputation":25,"user_id":22192292,"display_name":"zi zi"},"score":0,"creation_date":1699677682,"post_id":77462581,"comment_id":136564938,"body_markdown":"@HovercraftFullOfEels its throwing at this line --&gt;      LionVersion = Lioninit[1].split(&quot;:&quot;);","body":"@HovercraftFullOfEels its throwing at this line --&gt;      LionVersion = Lioninit[1].split(&quot;:&quot;);"}],"owner":{"account_id":28972275,"reputation":25,"user_id":22192292,"display_name":"zi zi"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1699647998,"answer_count":0,"score":-1,"last_activity_date":1699647828,"creation_date":1699646414,"question_id":77462581,"body_markdown":"I am new to Java, I am trying to fix an exception.I tried to google but no luck.\r\n Providing my code snippet and error below. Can you let me know how to fix the exception.\r\n\r\n I am getting ArrayIndexOutOfBoundsException, which is preventing to creation of array list of objects from Hash map\r\n\r\n\r\n\r\n\r\n    TigerAndLionID.forEach((key, value) -&gt; {\r\n           Animaljsonresponse Animaljsonresp = new Animaljsonresponse();\r\n           String[] TigerStatus = key.split(&quot;\\\\s+&quot;);\r\n           List&lt;String&gt; Lion = value;\r\n           Lion.forEach(Lionstr -&gt; {\r\n             String[] Lioninit = Lionstr.split(&quot;2.3:a:&quot;);\r\n             String[] LionVersion = null;\r\n             try{\r\n             LionVersion = Lioninit[1].split(&quot;:&quot;);\r\n             String version_start = null;\r\n             String version_End = null;\r\n             version_start = LionVersion[10];\r\n             version_End = LionVersion[11];\r\n             Animaljsonresp.setComponentName(LionVersion[0] + &quot; &quot; + LionVersion[1]);\r\n             Animaljsonresp.setVersion((LionVersion[2] + &quot; &quot; + LionVersion[3]).replace(&quot;*&quot;, &quot;&quot;));\r\n             Animaljsonresp.setLionID(Lionstr);\r\n             Animaljsonresp.setTigerID(TigerStatus[0]);\r\n             Animaljsonresp.setVulnStatus(TigerStatus[1]);\r\n             Animaljsonresp.setVersionStartIncluding(version_start);\r\n             Animaljsonresp.setVersionEndIncluding(version_End);\r\n             Animaljsonresponse.add(Animaljsonresp);\r\n             }\r\n             catch (ArrayIndexOutOfBoundsException exception) {\r\n               System.out.println(&quot;ArrayIndexOutOfBoundsException thrown!&quot;);\r\n             }\r\n           });\r\n         });\r\n\r\n\r\n**Error:**\r\n\r\nAfter printing stack trace, I am getting error at this line ---&gt; \r\n\r\n         LionVersion = Lioninit[1].split(&quot;:&quot;);\r\n\r\n    java.lang.ArrayIndexOutOfBoundsException: 1\r\n    \tat com.example.forecastingpoc.service.AnimalService.lambda$1(AnimalService.java:245)\r\n    \tat java.util.HashMap.forEach(HashMap.java:1289)\r\n    \tat com.example.forecastingpoc.service.AnimalService.readjsonfile(AnimalService.java:231)","title":"ArrayIndexOutOfBoundsException, which is preventing to creation of array list of objects from Hash map","body":"<p>I am new to Java, I am trying to fix an exception.I tried to google but no luck.\nProviding my code snippet and error below. Can you let me know how to fix the exception.</p>\n<p>I am getting ArrayIndexOutOfBoundsException, which is preventing to creation of array list of objects from Hash map</p>\n<pre><code>TigerAndLionID.forEach((key, value) -&gt; {\n       Animaljsonresponse Animaljsonresp = new Animaljsonresponse();\n       String[] TigerStatus = key.split(&quot;\\\\s+&quot;);\n       List&lt;String&gt; Lion = value;\n       Lion.forEach(Lionstr -&gt; {\n         String[] Lioninit = Lionstr.split(&quot;2.3:a:&quot;);\n         String[] LionVersion = null;\n         try{\n         LionVersion = Lioninit[1].split(&quot;:&quot;);\n         String version_start = null;\n         String version_End = null;\n         version_start = LionVersion[10];\n         version_End = LionVersion[11];\n         Animaljsonresp.setComponentName(LionVersion[0] + &quot; &quot; + LionVersion[1]);\n         Animaljsonresp.setVersion((LionVersion[2] + &quot; &quot; + LionVersion[3]).replace(&quot;*&quot;, &quot;&quot;));\n         Animaljsonresp.setLionID(Lionstr);\n         Animaljsonresp.setTigerID(TigerStatus[0]);\n         Animaljsonresp.setVulnStatus(TigerStatus[1]);\n         Animaljsonresp.setVersionStartIncluding(version_start);\n         Animaljsonresp.setVersionEndIncluding(version_End);\n         Animaljsonresponse.add(Animaljsonresp);\n         }\n         catch (ArrayIndexOutOfBoundsException exception) {\n           System.out.println(&quot;ArrayIndexOutOfBoundsException thrown!&quot;);\n         }\n       });\n     });\n</code></pre>\n<p><strong>Error:</strong></p>\n<p>After printing stack trace, I am getting error at this line ---&gt;</p>\n<pre><code>     LionVersion = Lioninit[1].split(&quot;:&quot;);\n\njava.lang.ArrayIndexOutOfBoundsException: 1\n    at com.example.forecastingpoc.service.AnimalService.lambda$1(AnimalService.java:245)\n    at java.util.HashMap.forEach(HashMap.java:1289)\n    at com.example.forecastingpoc.service.AnimalService.readjsonfile(AnimalService.java:231)\n</code></pre>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver"],"owner":{"account_id":8983538,"reputation":1,"user_id":6697877,"display_name":"Mansur Mughnee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1699647285,"creation_date":1699647285,"question_id":77462651,"body_markdown":"public class testing {\r\n\t@Test\r\n\r\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\HS TRADER\\\\Downloads\\\\chromedriver_win32&quot;); \r\n\t    WebDriver driver=new ChromeDriver();  \r\n\t    driver.get(&quot;http://www.google.com/&quot;);  \r\n\r\n\r\n\t}\r\n\r\n}\r\norg.openqa.selenium.SessionNotCreatedException: session not created exception\r\n","title":"Exception created in selenium","body":"<p>public class testing {\n@Test</p>\n<p>System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\Users\\HS TRADER\\Downloads\\chromedriver_win32&quot;);\nWebDriver driver=new ChromeDriver();<br />\ndriver.get(&quot;http://www.google.com/&quot;);</p>\n<pre><code>}\n</code></pre>\n<p>}\norg.openqa.selenium.SessionNotCreatedException: session not created exception</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1699653131,"post_id":77462643,"comment_id":136563395,"body_markdown":"Are we expected to know which class loaders are those in your application? What is the full package for that class? And why are you interested? Is there a problem you are trying to solve? Seems to be an XY problem.","body":"Are we expected to know which class loaders are those in your application? What is the full package for that class? And why are you interested? Is there a problem you are trying to solve? Seems to be an XY problem."},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1699658392,"post_id":77462643,"comment_id":136563852,"body_markdown":"I&#39;d give a read to this: https://docs.oracle.com/cd/E19501-01/819-3659/beadf/index.html","body":"I&#39;d give a read to this: <a href=\"https://docs.oracle.com/cd/E19501-01/819-3659/beadf/index.html\" rel=\"nofollow noreferrer\">docs.oracle.com/cd/E19501-01/819-3659/beadf/index.html</a>"},{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1699689904,"post_id":77462643,"comment_id":136565545,"body_markdown":"@MatteoNNZ thanks for the link, I&#39;ve already read this. But I&#39;m still a little confused, since (if I&#39;m right) the `Application Class Loader` can be obtained via `ClassLoader.getSystemClassLoader()`? `ClassLoaders$AppClassLoader` seems to sit inside `jdk.internal.loader.ClassLoaders` where I have no access, but am I correct that this is the `getSystemClassLoader()`? And how can I get the `System Class Loader` at the very top of the chain, right behind the `Bootstrap Class Loader`?","body":"@MatteoNNZ thanks for the link, I&#39;ve already read this. But I&#39;m still a little confused, since (if I&#39;m right) the <code>Application Class Loader</code> can be obtained via <code>ClassLoader.getSystemClassLoader()</code>? <code>ClassLoaders$AppClassLoader</code> seems to sit inside <code>jdk.internal.loader.ClassLoaders</code> where I have no access, but am I correct that this is the <code>getSystemClassLoader()</code>? And how can I get the <code>System Class Loader</code> at the very top of the chain, right behind the <code>Bootstrap Class Loader</code>?"}],"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699647132,"creation_date":1699647132,"question_id":77462643,"body_markdown":"Can anybody tell the difference between `ClassLoading$ChainedClassLoader` and `ClassLoaders$AppClassLoader` (marked via barely visible yellow highlighter)?\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd how can I obtain the `ClassLoading$ChainedClassLoader`?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TkHX2.png","title":"What is the difference between these two Java ClassLoaders and how can I obtain one of them?","body":"<p>Can anybody tell the difference between <code>ClassLoading$ChainedClassLoader</code> and <code>ClassLoaders$AppClassLoader</code> (marked via barely visible yellow highlighter)?</p>\n<p><a href=\"https://i.stack.imgur.com/TkHX2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TkHX2.png\" alt=\"enter image description here\" /></a></p>\n<p>And how can I obtain the <code>ClassLoading$ChainedClassLoader</code>?</p>\n"},{"tags":["java","spring","spring-boot","aop","spring-aop"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1699675238,"post_id":77462296,"comment_id":136564832,"body_markdown":"Welcome to SO. Please learn [how to ask a question on SO](https://stackoverflow.com/help/how-to-ask) and provide a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve). Thank you.","body":"Welcome to SO. Please learn <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question on SO</a> and provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>. Thank you."}],"answers":[{"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1699675202,"post_id":77462626,"comment_id":136564830,"body_markdown":"Thanks for linking to my answer. This works, assuming the OP **(a)** works with Spring AOP, not with native AspectJ, **(b)** is OK with auditing being done asynchronously, while his application continues working. If auditing ought to be able to block further execution based on some condition, `@Async` is not an option. In that case, the OP should ask himself why his auditing aspect is so slow and how to make it faster.","body":"Thanks for linking to my answer. This works, assuming the OP <b>(a)</b> works with Spring AOP, not with native AspectJ, <b>(b)</b> is OK with auditing being done asynchronously, while his application continues working. If auditing ought to be able to block further execution based on some condition, <code>@Async</code> is not an option. In that case, the OP should ask himself why his auditing aspect is so slow and how to make it faster."},{"owner":{"account_id":6803454,"reputation":61,"user_id":5236036,"display_name":"bytez"},"score":0,"creation_date":1699737990,"post_id":77462626,"comment_id":136569890,"body_markdown":"Thank you for the additional input! I completely agree with your points of view. I hope it was okay to directly link to your answer. As a newcomer on the platform, I was unable to add a comment or select any kind of indication for a potential duplicate, so I took the liberty of writing it directly as an answer with a note. :)","body":"Thank you for the additional input! I completely agree with your points of view. I hope it was okay to directly link to your answer. As a newcomer on the platform, I was unable to add a comment or select any kind of indication for a potential duplicate, so I took the liberty of writing it directly as an answer with a note. :)"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1699749709,"post_id":77462626,"comment_id":136570692,"body_markdown":"By all means, thanks for joining SO and contributing. It is encouraging to see a &quot;newbie&quot; - I know you joined the platform 8 years ago -  trying to support other community members before even asking his/her own first question. SO is successful because of its community, which makes it more than the sum of its constituent parts. SO is more than just cheap input for ChatGPT.","body":"By all means, thanks for joining SO and contributing. It is encouraging to see a &quot;newbie&quot; - I know you joined the platform 8 years ago -  trying to support other community members before even asking his/her own first question. SO is successful because of its community, which makes it more than the sum of its constituent parts. SO is more than just cheap input for ChatGPT."}],"tags":[],"owner":{"account_id":6803454,"reputation":61,"user_id":5236036,"display_name":"bytez"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699646929,"creation_date":1699646929,"answer_id":77462626,"question_id":77462296,"body_markdown":"Yes, the behavior you are experiencing is expected. The reason for this is that your registered Aspect operates in the same thread as your endpoint.\r\n\r\nYou can utilize `@Async` (along with `@EnableAsync`) to execute the Aspect logic in a separate thread. **But this approach creates a new thread each time your method is called.** It is questionable whether this gives you a significant performance advantage over synchronous execution of the aspect.\r\n\r\nYou might find this thread helpful for a more comprehensive understanding: https://stackoverflow.com/questions/58275121/will-an-aspect-be-executed-asynchronously-if-i-put-async-method-on-it","title":"Spring AOP @Afterreturning aspect blocks api call","body":"<p>Yes, the behavior you are experiencing is expected. The reason for this is that your registered Aspect operates in the same thread as your endpoint.</p>\n<p>You can utilize <code>@Async</code> (along with <code>@EnableAsync</code>) to execute the Aspect logic in a separate thread. <strong>But this approach creates a new thread each time your method is called.</strong> It is questionable whether this gives you a significant performance advantage over synchronous execution of the aspect.</p>\n<p>You might find this thread helpful for a more comprehensive understanding: <a href=\"https://stackoverflow.com/questions/58275121/will-an-aspect-be-executed-asynchronously-if-i-put-async-method-on-it\">Will an aspect be executed asynchronously if I put @Async method on it?</a></p>\n"}],"owner":{"account_id":24875839,"reputation":3,"user_id":18749697,"display_name":"Bishal Thapa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77462626,"answer_count":1,"score":0,"last_activity_date":1699646929,"creation_date":1699642756,"question_id":77462296,"body_markdown":"I have an @Afterreturning aspect.\r\n\r\n \r\n```\r\n@AfterReturning(value = &quot;@annotation(****)&quot;,returning = &quot;returnValue&quot;)\r\n    public void auditableUponReturn(final JoinPoint joinPoint, Object returnValue) {\r\n       //takes 500 ms\r\n      }\r\n\r\n```\r\n\r\nI have an endpoint which invokes this aspect\r\n    \r\n```\r\n@GetMapping(&quot;/{id}&quot;)\r\n    @AspectInvoker\r\n    public Name getName(){\r\n       //takes 100 ms\r\n    }\r\n```\r\n\r\nwhen I call this endpoint I am expecting this endpoint to take 100 ms and return back instantly while my aspect related code is in process. But the endpoint doesnot return until aspect related code is complete.\r\n\r\nIs this expected? Any way to get around this so that performance of apis is not impacted by aspect related code?","title":"Spring AOP @Afterreturning aspect blocks api call","body":"<p>I have an @Afterreturning aspect.</p>\n<pre><code>@AfterReturning(value = &quot;@annotation(****)&quot;,returning = &quot;returnValue&quot;)\n    public void auditableUponReturn(final JoinPoint joinPoint, Object returnValue) {\n       //takes 500 ms\n      }\n\n</code></pre>\n<p>I have an endpoint which invokes this aspect</p>\n<pre><code>@GetMapping(&quot;/{id}&quot;)\n    @AspectInvoker\n    public Name getName(){\n       //takes 100 ms\n    }\n</code></pre>\n<p>when I call this endpoint I am expecting this endpoint to take 100 ms and return back instantly while my aspect related code is in process. But the endpoint doesnot return until aspect related code is complete.</p>\n<p>Is this expected? Any way to get around this so that performance of apis is not impacted by aspect related code?</p>\n"},{"tags":["java","spring","spring-mvc"],"answers":[{"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1395274380,"post_id":22520819,"comment_id":34268632,"body_markdown":"@Jazzepi Another note, for the configuration, Spring MVC registers the `RequestMappingHandlerAdapter`  bean with  the id `requestMappingHandlerAdapter`, so you could just overwrite that bean definition with a bean of your own with the same name. I think that should be enough. You&#39;ll have to check.","body":"@Jazzepi Another note, for the configuration, Spring MVC registers the <code>RequestMappingHandlerAdapter</code>  bean with  the id <code>requestMappingHandlerAdapter</code>, so you could just overwrite that bean definition with a bean of your own with the same name. I think that should be enough. You&#39;ll have to check."},{"owner":{"account_id":118925,"reputation":5299,"user_id":310297,"accept_rate":97,"display_name":"Jazzepi"},"score":0,"creation_date":1395274868,"post_id":22520819,"comment_id":34268796,"body_markdown":"Where did you figure out that Spring MVC registers that? The stuff that Spring does in the background adding its own stuff to the context is kind of a mystery to me.","body":"Where did you figure out that Spring MVC registers that? The stuff that Spring does in the background adding its own stuff to the context is kind of a mystery to me."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1395275904,"post_id":22520819,"comment_id":34269142,"body_markdown":"@Jazzepi Looking at the source code basically. The `DispatcherServlet` looks for its configuration in the Spring context or uses default elements if it doesn&#39;t find what it expects.","body":"@Jazzepi Looking at the source code basically. The <code>DispatcherServlet</code> looks for its configuration in the Spring context or uses default elements if it doesn&#39;t find what it expects."},{"owner":{"account_id":118925,"reputation":5299,"user_id":310297,"accept_rate":97,"display_name":"Jazzepi"},"score":0,"creation_date":1395279999,"post_id":22520819,"comment_id":34270295,"body_markdown":"Will work more this week. Some of the classes you are talking about only exists in Spring 4 :) Which is fine, I wanted to upgrade anyways :P","body":"Will work more this week. Some of the classes you are talking about only exists in Spring 4 :) Which is fine, I wanted to upgrade anyways :P"},{"owner":{"account_id":118925,"reputation":5299,"user_id":310297,"accept_rate":97,"display_name":"Jazzepi"},"score":0,"creation_date":1395367847,"post_id":22520819,"comment_id":34318693,"body_markdown":"I think I followed your instructions, and it makes sense to me. The only problem I have is trying to deal with the AsyncSupportConfigurer which has some protected methods that WebMvcConfigurationSupport was somehow calling in its implementation. I&#39;m not sure how that&#39;s possible.","body":"I think I followed your instructions, and it makes sense to me. The only problem I have is trying to deal with the AsyncSupportConfigurer which has some protected methods that WebMvcConfigurationSupport was somehow calling in its implementation. I&#39;m not sure how that&#39;s possible."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1395370262,"post_id":22520819,"comment_id":34319204,"body_markdown":"@Jazzepi They&#39;re in the same package.","body":"@Jazzepi They&#39;re in the same package."},{"owner":{"account_id":118925,"reputation":5299,"user_id":310297,"accept_rate":97,"display_name":"Jazzepi"},"score":0,"creation_date":1395370998,"post_id":22520819,"comment_id":34319368,"body_markdown":"I&#39;m going to bail on attempting to implement this any further. I really feel like I&#39;m stretching the limits of what I should be doing anyways. Thanks for the help though :)","body":"I&#39;m going to bail on attempting to implement this any further. I really feel like I&#39;m stretching the limits of what I should be doing anyways. Thanks for the help though :)"},{"owner":{"account_id":1413245,"reputation":3058,"user_id":1339436,"accept_rate":82,"display_name":"craigrs84"},"score":0,"creation_date":1487563229,"post_id":22520819,"comment_id":71825040,"body_markdown":"overriding createRequestMappingHandlerAdapter in WebMvcConfigurationSupport is helpful:\n\n\t@Override\n\tprotected RequestMappingHandlerAdapter \tcreateRequestMappingHandlerAdapter() {\n\t\treturn new MyRequestMappingHandlerAdapter();\n\t}","body":"overriding createRequestMappingHandlerAdapter in WebMvcConfigurationSupport is helpful:  \t@Override \tprotected RequestMappingHandlerAdapter \tcreateRequestMappingHandlerAdapter() { \t\treturn new MyRequestMappingHandlerAdapter(); \t}"}],"tags":[],"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"comment_count":8,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1395273994,"creation_date":1395273994,"answer_id":22520819,"question_id":22520496,"body_markdown":"This is not a simple task. Spring allows for a lot of customization, but, damn, this change is not fun.\r\n\r\nYou need to extend the [`RequestMappingHandlerAdapter`][1] class and override the [following method][2]\r\n\r\n\r\n\t/**\r\n\t * Template method to create a new InitBinderDataBinderFactory instance.\r\n\t * &lt;p&gt;The default implementation creates a ServletRequestDataBinderFactory.\r\n\t * This can be overridden for custom ServletRequestDataBinder subclasses.\r\n\t * @param binderMethods {@code @InitBinder} methods\r\n\t * @return the InitBinderDataBinderFactory instance to use\r\n\t * @throws Exception in case of invalid state or arguments\r\n\t */\r\n\tprotected InitBinderDataBinderFactory createDataBinderFactory(List&lt;InvocableHandlerMethod&gt; binderMethods)\r\n\t\t\tthrows Exception {\r\n\r\n\t\treturn new ServletRequestDataBinderFactory(binderMethods, getWebBindingInitializer());\r\n\t}\r\n\r\nInstead of returning a `ServletRequestDataBinderFactory`, you&#39;ll need to return a custom `InitBinderDataBinderFactory` that returns your custom `WebDataBinder` instances.\r\n\r\nThis change means you can&#39;t use the default `@EnableWebMvc` or `&lt;mvc:annotation-driven/&gt;` configuration. That&#39;s because they use `RequestMappingHandlerAdapter` by default, but you need to register your own class.\r\n\r\nYou can, however, override the `@Bean` annotated `WebMvcConfigurationSupport#requestMappingHandlerAdapter()` method and provide your own implementation to return your own type. Look into what that implementation does for hints.\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/RequestMappingHandlerAdapter.html\r\n  [2]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/RequestMappingHandlerAdapter.html#createDataBinderFactory-java.util.List-","title":"How do I inject a custom version of WebDataBinder into Spring 3 MVC?","body":"<p>This is not a simple task. Spring allows for a lot of customization, but, damn, this change is not fun.</p>\n\n<p>You need to extend the <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/RequestMappingHandlerAdapter.html\" rel=\"noreferrer\"><code>RequestMappingHandlerAdapter</code></a> class and override the <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/RequestMappingHandlerAdapter.html#createDataBinderFactory-java.util.List-\" rel=\"noreferrer\">following method</a></p>\n\n<pre><code>/**\n * Template method to create a new InitBinderDataBinderFactory instance.\n * &lt;p&gt;The default implementation creates a ServletRequestDataBinderFactory.\n * This can be overridden for custom ServletRequestDataBinder subclasses.\n * @param binderMethods {@code @InitBinder} methods\n * @return the InitBinderDataBinderFactory instance to use\n * @throws Exception in case of invalid state or arguments\n */\nprotected InitBinderDataBinderFactory createDataBinderFactory(List&lt;InvocableHandlerMethod&gt; binderMethods)\n        throws Exception {\n\n    return new ServletRequestDataBinderFactory(binderMethods, getWebBindingInitializer());\n}\n</code></pre>\n\n<p>Instead of returning a <code>ServletRequestDataBinderFactory</code>, you'll need to return a custom <code>InitBinderDataBinderFactory</code> that returns your custom <code>WebDataBinder</code> instances.</p>\n\n<p>This change means you can't use the default <code>@EnableWebMvc</code> or <code>&lt;mvc:annotation-driven/&gt;</code> configuration. That's because they use <code>RequestMappingHandlerAdapter</code> by default, but you need to register your own class.</p>\n\n<p>You can, however, override the <code>@Bean</code> annotated <code>WebMvcConfigurationSupport#requestMappingHandlerAdapter()</code> method and provide your own implementation to return your own type. Look into what that implementation does for hints.</p>\n"},{"tags":[],"owner":{"account_id":35074,"reputation":8877,"user_id":99248,"accept_rate":38,"display_name":"raisercostin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699645815,"creation_date":1699645815,"answer_id":77462540,"question_id":22520496,"body_markdown":"A self-contained example by decoding the accepted response:\r\n\r\n  ```\r\n  @Configuration\r\n  public class MyConfiguration extends WebMvcConfigurationSupport {\r\n    @Override\r\n    protected RequestMappingHandlerAdapter createRequestMappingHandlerAdapter() {\r\n      return new RequestMappingHandlerAdapter()\r\n        {\r\n          @Override\r\n          protected InitBinderDataBinderFactory createDataBinderFactory(List&lt;InvocableHandlerMethod&gt; binderMethods)\r\n              throws Exception {\r\n            WebBindingInitializer webBindingInitializer = getWebBindingInitializer();\r\n            return new ServletRequestDataBinderFactory(binderMethods, webBindingInitializer)\r\n              {\r\n                @Override\r\n                protected ServletRequestDataBinder createBinderInstance(Object target, String objectName,\r\n                    NativeWebRequest request) throws Exception {\r\n                  ServletRequestDataBinder binder = super.createBinderInstance(target, objectName, request);\r\n                  //other default configurations\r\n                  binder.setIgnoreUnknownFields(false);\r\n                  binder.setIgnoreInvalidFields(false);\r\n                  return binder;\r\n                }\r\n              };\r\n          }\r\n        };\r\n    }\r\n  }\r\n  ```","title":"How do I inject a custom version of WebDataBinder into Spring 3 MVC?","body":"<p>A self-contained example by decoding the accepted response:</p>\n<pre><code>@Configuration\npublic class MyConfiguration extends WebMvcConfigurationSupport {\n  @Override\n  protected RequestMappingHandlerAdapter createRequestMappingHandlerAdapter() {\n    return new RequestMappingHandlerAdapter()\n      {\n        @Override\n        protected InitBinderDataBinderFactory createDataBinderFactory(List&lt;InvocableHandlerMethod&gt; binderMethods)\n            throws Exception {\n          WebBindingInitializer webBindingInitializer = getWebBindingInitializer();\n          return new ServletRequestDataBinderFactory(binderMethods, webBindingInitializer)\n            {\n              @Override\n              protected ServletRequestDataBinder createBinderInstance(Object target, String objectName,\n                  NativeWebRequest request) throws Exception {\n                ServletRequestDataBinder binder = super.createBinderInstance(target, objectName, request);\n                //other default configurations\n                binder.setIgnoreUnknownFields(false);\n                binder.setIgnoreInvalidFields(false);\n                return binder;\n              }\n            };\n        }\n      };\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":118925,"reputation":5299,"user_id":310297,"accept_rate":97,"display_name":"Jazzepi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5577,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":22520819,"answer_count":2,"score":7,"last_activity_date":1699645815,"creation_date":1395272236,"question_id":22520496,"body_markdown":"I wrote a custom implementation of the WebDataBinder. In the future I&#39;d like to enhance it so that it looks for an annotation on the class itself and figures out if it should be binding data to it or not.\r\n\r\nHow do I get this class injected into the Spring context in place of the WebDataBinder?\r\n\r\nWhat I want is that if I run this code, my version of the WebDataBinder gets injected instead of the default Spring one.\r\n\r\n    @Controller\r\n    public class MyFormController {\r\n    \r\n        @InitBinder\r\n        public void initBinder(WebDataBinder binder) {\r\n            // ...\r\n        }\r\n    \r\n        // ...\r\n    }\r\n\r\nMy custom implementation of the WebDataBinder. It lets me exclude data binding by class instead of by method names.\r\n\r\n        package com.companyname.spring;\r\n        \r\n        import org.springframework.beans.MutablePropertyValues;\r\n        import org.springframework.util.StringUtils;\r\n        import org.springframework.web.bind.WebDataBinder;\r\n        \r\n        import java.util.ArrayList;\r\n        import java.util.Collections;\r\n        import java.util.List;\r\n        \r\n        public class CustomDataBinder extends WebDataBinder {\r\n        \r\n            List&lt;Class&gt; disallowedClasses = new ArrayList&lt;&gt;();\r\n        \r\n            public CustomDataBinder(Object target) {\r\n                super(target);\r\n            }\r\n        \r\n            public CustomDataBinder(Object target, String objectName) {\r\n                super(target, objectName);\r\n            }\r\n        \r\n            public CustomDataBinder disallowClass(Class... classes) {\r\n                Collections.addAll(disallowedClasses, classes);\r\n                return this;\r\n            }\r\n        \r\n            @Override\r\n            protected void doBind(MutablePropertyValues mpvs) {\r\n                if(disallowedClasses.contains(getTarget().getClass())) {\r\n                    if (logger.isDebugEnabled()) {\r\n                        logger.debug(&quot;DataBinder will not bind class [&quot; + getTarget().getClass().getSimpleName() + &quot;] because it appears in the list of disallowed classes [&quot; + StringUtils.collectionToCommaDelimitedString(disallowedClasses) + &quot;]&quot;);\r\n                    }\r\n                } else {\r\n                    super.doBind(mpvs);\r\n                }\r\n            }\r\n        }\r\n    \r\n#EDIT1\r\n##First pass, having trouble with the AsyncSupportConfigurer\r\n\r\n    @Configuration\r\n    @ComponentScan(basePackageClasses = RootContextConfig.class)\r\n    @EnableTransactionManagement\r\n    @EnableWebSecurity\r\n    @EnableAsync\r\n    @EnableSpringConfigured\r\n    @EnableLoadTimeWeaving\r\n    public class RootContextConfig extends WebMvcConfigurationSupport {\r\n    \r\n        @Bean\r\n        public RequestMappingHandlerAdapter requestMappingHandlerAdapter() {\r\n            List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers = new ArrayList&lt;HandlerMethodArgumentResolver&gt;();\r\n            addArgumentResolvers(argumentResolvers);\r\n    \r\n            List&lt;HandlerMethodReturnValueHandler&gt; returnValueHandlers = new ArrayList&lt;HandlerMethodReturnValueHandler&gt;();\r\n            addReturnValueHandlers(returnValueHandlers);\r\n    \r\n            RequestMappingHandlerAdapter adapter = new CustomRequestMappingHandlerAdapter();\r\n            adapter.setContentNegotiationManager(mvcContentNegotiationManager());\r\n            adapter.setMessageConverters(getMessageConverters());\r\n            adapter.setWebBindingInitializer(getConfigurableWebBindingInitializer());\r\n            adapter.setCustomArgumentResolvers(argumentResolvers);\r\n            adapter.setCustomReturnValueHandlers(returnValueHandlers);\r\n    \r\n            AsyncSupportConfigurer configurer = new AsyncSupportConfigurer();\r\n            configureAsyncSupport(configurer);\r\n    \r\n\r\n    //All the methods called off of configurer are giving me errors because they have protected level access. I&#39;m not really sure how they&#39;re being called in the code I copied this from.\r\n            if (configurer.getTaskExecutor() != null) {\r\n                adapter.setTaskExecutor(configurer.getTaskExecutor());\r\n            }\r\n            if (configurer.getTimeout() != null) {\r\n                adapter.setAsyncRequestTimeout(configurer.getTimeout());\r\n            }\r\n            adapter.setCallableInterceptors(configurer.getCallableInterceptors());\r\n            adapter.setDeferredResultInterceptors(configurer.getDeferredResultInterceptors());\r\n    \r\n            return adapter;\r\n        }\r\n\r\n#Custom RequestMappingHandlerAdapter\r\n\r\n    package com.companyname.dirtylibs.spring;\r\n    \r\n    import org.springframework.web.method.annotation.InitBinderDataBinderFactory;\r\n    import org.springframework.web.method.support.InvocableHandlerMethod;\r\n    import org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter;\r\n    import org.springframework.web.servlet.mvc.method.annotation.ServletRequestDataBinderFactory;\r\n    \r\n    import java.util.List;\r\n    \r\n    public class CustomRequestMappingHandlerAdapter extends RequestMappingHandlerAdapter {\r\n        @Override\r\n        protected InitBinderDataBinderFactory createDataBinderFactory(List&lt;InvocableHandlerMethod&gt; binderMethods) throws Exception {\r\n            return new CustomInitBinderDataBinderFactory(binderMethods, getWebBindingInitializer());\r\n        }\r\n    }\r\n\r\n#Custom InitBinderDataBinderFactory\r\n\r\n    package com.companyname.dirtylibs.spring;\r\n    \r\n    import org.springframework.web.bind.WebDataBinder;\r\n    import org.springframework.web.bind.support.WebBindingInitializer;\r\n    import org.springframework.web.bind.support.WebDataBinderFactory;\r\n    import org.springframework.web.bind.support.WebRequestDataBinder;\r\n    import org.springframework.web.context.request.NativeWebRequest;\r\n    import org.springframework.web.method.annotation.InitBinderDataBinderFactory;\r\n    import org.springframework.web.method.support.InvocableHandlerMethod;\r\n    import org.springframework.web.servlet.mvc.method.annotation.ServletRequestDataBinderFactory;\r\n    \r\n    import java.util.List;\r\n    \r\n    public class CustomInitBinderDataBinderFactory extends InitBinderDataBinderFactory {\r\n    \r\n        /**\r\n         * Create a new instance.\r\n         *\r\n         * @param binderMethods {@code @InitBinder} methods, or {@code null}\r\n         * @param initializer   for global data binder intialization\r\n         */\r\n        public CustomInitBinderDataBinderFactory(List&lt;InvocableHandlerMethod&gt; binderMethods, WebBindingInitializer initializer) {\r\n            super(binderMethods, initializer);\r\n        }\r\n    \r\n        @Override\r\n        protected CustomDataBinder createBinderInstance(Object target, String objectName, NativeWebRequest webRequest) throws Exception {\r\n            return new CustomDataBinder(target, objectName);\r\n        }\r\n    }\r\n\r\n","title":"How do I inject a custom version of WebDataBinder into Spring 3 MVC?","body":"<p>I wrote a custom implementation of the WebDataBinder. In the future I'd like to enhance it so that it looks for an annotation on the class itself and figures out if it should be binding data to it or not.</p>\n\n<p>How do I get this class injected into the Spring context in place of the WebDataBinder?</p>\n\n<p>What I want is that if I run this code, my version of the WebDataBinder gets injected instead of the default Spring one.</p>\n\n<pre><code>@Controller\npublic class MyFormController {\n\n    @InitBinder\n    public void initBinder(WebDataBinder binder) {\n        // ...\n    }\n\n    // ...\n}\n</code></pre>\n\n<p>My custom implementation of the WebDataBinder. It lets me exclude data binding by class instead of by method names.</p>\n\n<pre><code>    package com.companyname.spring;\n\n    import org.springframework.beans.MutablePropertyValues;\n    import org.springframework.util.StringUtils;\n    import org.springframework.web.bind.WebDataBinder;\n\n    import java.util.ArrayList;\n    import java.util.Collections;\n    import java.util.List;\n\n    public class CustomDataBinder extends WebDataBinder {\n\n        List&lt;Class&gt; disallowedClasses = new ArrayList&lt;&gt;();\n\n        public CustomDataBinder(Object target) {\n            super(target);\n        }\n\n        public CustomDataBinder(Object target, String objectName) {\n            super(target, objectName);\n        }\n\n        public CustomDataBinder disallowClass(Class... classes) {\n            Collections.addAll(disallowedClasses, classes);\n            return this;\n        }\n\n        @Override\n        protected void doBind(MutablePropertyValues mpvs) {\n            if(disallowedClasses.contains(getTarget().getClass())) {\n                if (logger.isDebugEnabled()) {\n                    logger.debug(\"DataBinder will not bind class [\" + getTarget().getClass().getSimpleName() + \"] because it appears in the list of disallowed classes [\" + StringUtils.collectionToCommaDelimitedString(disallowedClasses) + \"]\");\n                }\n            } else {\n                super.doBind(mpvs);\n            }\n        }\n    }\n</code></pre>\n\n<h1>EDIT1</h1>\n\n<h2>First pass, having trouble with the AsyncSupportConfigurer</h2>\n\n<pre><code>@Configuration\n@ComponentScan(basePackageClasses = RootContextConfig.class)\n@EnableTransactionManagement\n@EnableWebSecurity\n@EnableAsync\n@EnableSpringConfigured\n@EnableLoadTimeWeaving\npublic class RootContextConfig extends WebMvcConfigurationSupport {\n\n    @Bean\n    public RequestMappingHandlerAdapter requestMappingHandlerAdapter() {\n        List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers = new ArrayList&lt;HandlerMethodArgumentResolver&gt;();\n        addArgumentResolvers(argumentResolvers);\n\n        List&lt;HandlerMethodReturnValueHandler&gt; returnValueHandlers = new ArrayList&lt;HandlerMethodReturnValueHandler&gt;();\n        addReturnValueHandlers(returnValueHandlers);\n\n        RequestMappingHandlerAdapter adapter = new CustomRequestMappingHandlerAdapter();\n        adapter.setContentNegotiationManager(mvcContentNegotiationManager());\n        adapter.setMessageConverters(getMessageConverters());\n        adapter.setWebBindingInitializer(getConfigurableWebBindingInitializer());\n        adapter.setCustomArgumentResolvers(argumentResolvers);\n        adapter.setCustomReturnValueHandlers(returnValueHandlers);\n\n        AsyncSupportConfigurer configurer = new AsyncSupportConfigurer();\n        configureAsyncSupport(configurer);\n\n\n//All the methods called off of configurer are giving me errors because they have protected level access. I'm not really sure how they're being called in the code I copied this from.\n        if (configurer.getTaskExecutor() != null) {\n            adapter.setTaskExecutor(configurer.getTaskExecutor());\n        }\n        if (configurer.getTimeout() != null) {\n            adapter.setAsyncRequestTimeout(configurer.getTimeout());\n        }\n        adapter.setCallableInterceptors(configurer.getCallableInterceptors());\n        adapter.setDeferredResultInterceptors(configurer.getDeferredResultInterceptors());\n\n        return adapter;\n    }\n</code></pre>\n\n<h1>Custom RequestMappingHandlerAdapter</h1>\n\n<pre><code>package com.companyname.dirtylibs.spring;\n\nimport org.springframework.web.method.annotation.InitBinderDataBinderFactory;\nimport org.springframework.web.method.support.InvocableHandlerMethod;\nimport org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter;\nimport org.springframework.web.servlet.mvc.method.annotation.ServletRequestDataBinderFactory;\n\nimport java.util.List;\n\npublic class CustomRequestMappingHandlerAdapter extends RequestMappingHandlerAdapter {\n    @Override\n    protected InitBinderDataBinderFactory createDataBinderFactory(List&lt;InvocableHandlerMethod&gt; binderMethods) throws Exception {\n        return new CustomInitBinderDataBinderFactory(binderMethods, getWebBindingInitializer());\n    }\n}\n</code></pre>\n\n<h1>Custom InitBinderDataBinderFactory</h1>\n\n<pre><code>package com.companyname.dirtylibs.spring;\n\nimport org.springframework.web.bind.WebDataBinder;\nimport org.springframework.web.bind.support.WebBindingInitializer;\nimport org.springframework.web.bind.support.WebDataBinderFactory;\nimport org.springframework.web.bind.support.WebRequestDataBinder;\nimport org.springframework.web.context.request.NativeWebRequest;\nimport org.springframework.web.method.annotation.InitBinderDataBinderFactory;\nimport org.springframework.web.method.support.InvocableHandlerMethod;\nimport org.springframework.web.servlet.mvc.method.annotation.ServletRequestDataBinderFactory;\n\nimport java.util.List;\n\npublic class CustomInitBinderDataBinderFactory extends InitBinderDataBinderFactory {\n\n    /**\n     * Create a new instance.\n     *\n     * @param binderMethods {@code @InitBinder} methods, or {@code null}\n     * @param initializer   for global data binder intialization\n     */\n    public CustomInitBinderDataBinderFactory(List&lt;InvocableHandlerMethod&gt; binderMethods, WebBindingInitializer initializer) {\n        super(binderMethods, initializer);\n    }\n\n    @Override\n    protected CustomDataBinder createBinderInstance(Object target, String objectName, NativeWebRequest webRequest) throws Exception {\n        return new CustomDataBinder(target, objectName);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","httpclient"],"answers":[{"comments":[{"owner":{"account_id":977031,"reputation":15734,"user_id":997851,"accept_rate":60,"display_name":"sockeqwe"},"score":0,"creation_date":1370793506,"post_id":17011092,"comment_id":24582398,"body_markdown":"Thank you anyway, but I prefer to work with input streams, because I also parse binary data like images","body":"Thank you anyway, but I prefer to work with input streams, because I also parse binary data like images"},{"owner":{"account_id":6678505,"reputation":583,"user_id":5152430,"display_name":"Mikhail Kuchma"},"score":3,"creation_date":1485855938,"post_id":17011092,"comment_id":71087504,"body_markdown":"Also EntityUtils.toString throws an exception if its parameter is null. Sometimes this is not an appropriate behavior.","body":"Also EntityUtils.toString throws an exception if its parameter is null. Sometimes this is not an appropriate behavior."}],"tags":[],"owner":{"account_id":1470794,"reputation":2932,"user_id":1382435,"display_name":"namero999"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1370792917,"creation_date":1370791266,"answer_id":17011092,"question_id":17011023,"body_markdown":"I would suggest to use the class [`EntityUtils`][1] to get the response as String. If it returns the empty string, then the response is empty.\r\n\r\n    String resp = EntityUtils.toString(client.execute(uriRequest).getEntity())\r\n    if (resp == null || &quot;&quot;.equals(resp)) {\r\n        // no entity or empty entity\r\n    } else {\r\n        // got something\r\n        JSON.parse(resp);\r\n    }\r\n\r\nThe assumption here is that, for sake of code simplicity and manutenibility, you don&#39;t care to distinguish between empty entity and no entity, and that if there is a response, you need to read it anyway.\r\n\r\n  [1]: http://hc.apache.org/httpcomponents-core-ga/httpcore/apidocs/org/apache/http/util/EntityUtils.html","title":"HttpClient: Determine empty entity in response","body":"<p>I would suggest to use the class <a href=\"http://hc.apache.org/httpcomponents-core-ga/httpcore/apidocs/org/apache/http/util/EntityUtils.html\" rel=\"nofollow\"><code>EntityUtils</code></a> to get the response as String. If it returns the empty string, then the response is empty.</p>\n\n<pre><code>String resp = EntityUtils.toString(client.execute(uriRequest).getEntity())\nif (resp == null || \"\".equals(resp)) {\n    // no entity or empty entity\n} else {\n    // got something\n    JSON.parse(resp);\n}\n</code></pre>\n\n<p>The assumption here is that, for sake of code simplicity and manutenibility, you don't care to distinguish between empty entity and no entity, and that if there is a response, you need to read it anyway.</p>\n"},{"comments":[{"owner":{"account_id":977031,"reputation":15734,"user_id":997851,"accept_rate":60,"display_name":"sockeqwe"},"score":1,"creation_date":1370793411,"post_id":17011093,"comment_id":24582376,"body_markdown":"Awesome, thank you! The PushbackInputStream was the key, otherwise the inputstream will be consumed for checking and can not be used for reading the real data. Thank you very much!","body":"Awesome, thank you! The PushbackInputStream was the key, otherwise the inputstream will be consumed for checking and can not be used for reading the real data. Thank you very much!"},{"owner":{"account_id":169763,"reputation":7117,"user_id":2103602,"accept_rate":59,"display_name":"sigpwned"},"score":0,"creation_date":1370793502,"post_id":17011093,"comment_id":24582396,"body_markdown":"Glad it was useful! `PushbackInputStream` is *super* useful.","body":"Glad it was useful! <code>PushbackInputStream</code> is <i>super</i> useful."},{"owner":{"account_id":431340,"reputation":747,"user_id":815327,"accept_rate":33,"display_name":"Cyrusmith"},"score":0,"creation_date":1509331197,"post_id":17011093,"comment_id":80961457,"body_markdown":"In my case, I&#39;m always getting java.net.SocketException: Connection reset once I try to read from input stream of response with unknown content length. So I guess using PushbackInputStream is not an approach that is universal enough.  Checking Content-Length and Transfer-Encoding headers seems to be the right way of dealing with the issue though.","body":"In my case, I&#39;m always getting java.net.SocketException: Connection reset once I try to read from input stream of response with unknown content length. So I guess using PushbackInputStream is not an approach that is universal enough.  Checking Content-Length and Transfer-Encoding headers seems to be the right way of dealing with the issue though."}],"tags":[],"owner":{"account_id":169763,"reputation":7117,"user_id":2103602,"accept_rate":59,"display_name":"sigpwned"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1699644946,"creation_date":1370791286,"answer_id":17011093,"question_id":17011023,"body_markdown":"In `HttpClient`, `getEntity()` *can* return null. See [the latest samples](http://hc.apache.org/httpcomponents-core-ga/tutorial/html/fundamentals.html).\r\n\r\nHowever, there&#39;s a difference between an *empty* entity, and *no* entity. Sounds like you&#39;ve got an *empty* entity. (Sorry to be pedantic -- it&#39;s just that HTTP is pedantic. :) With respect to detecting empty entities, have you tried reading from the entity input stream? If the response is an empty entity, you should get an immediate EOF.\r\n\r\nDo you need to determine if the entity is empty without reading any bytes from the entity body? Based on the code above, I don&#39;t think you do. If that&#39;s the case, you can just wrap the entity `InputStream` with a [`PushbackInputStream`](http://docs.oracle.com/javase/7/docs/api/java/io/PushbackInputStream.html) and check:\r\n\r\n    HttpResponse response = httpClient.execute(uriRequest);\r\n    HttpEntity entity = response.getEntity();\r\n    if(entity != null) {\r\n        InputStream in = new PushbackInputStream(entity.getContent());\r\n        try {\r\n            int firstByte=in.read();\r\n            if(firstByte != -1) {\r\n                in.unread(firstByte);\r\n                // json parsing\r\n            }\r\n            else {\r\n                // empty\r\n            }\r\n        }\r\n        finally {\r\n            // Don&#39;t close so we can reuse the connection\r\n            EntityUtils.consumeQuietly(entity);\r\n            // Or, if you&#39;re sure you won&#39;t re-use the connection\r\n            in.close();\r\n        }\r\n    }\r\n\r\nIt&#39;s best not to read the entire response into memory just in case it&#39;s large. This solution will test for emptiness using constant memory (4 bytes :).\r\n\r\n\r\n**EDIT**: Pedantry follows below.\r\n\r\nFrom [Section 4.3 of the HTTP/1.1 spec](https://www.w3.org/Protocols/rfc2616/rfc2616-sec4.html#sec4.3):\r\n\r\n&gt; For response messages, whether or not a message-body is included with\r\n&gt; a message is dependent on both the request method and the response\r\n&gt; status code (section 6.1.1). All responses to the HEAD request method\r\n&gt; MUST NOT include a message-body, even though the presence of entity-\r\n&gt; header fields might lead one to believe they do. All 1xx\r\n&gt; (informational), 204 (no content), and 304 (not modified) responses\r\n&gt; MUST NOT include a message-body. All other responses do include a\r\n&gt; message-body, although it MAY be of zero length.","title":"HttpClient: Determine empty entity in response","body":"<p>In <code>HttpClient</code>, <code>getEntity()</code> <em>can</em> return null. See <a href=\"http://hc.apache.org/httpcomponents-core-ga/tutorial/html/fundamentals.html\" rel=\"nofollow noreferrer\">the latest samples</a>.</p>\n<p>However, there's a difference between an <em>empty</em> entity, and <em>no</em> entity. Sounds like you've got an <em>empty</em> entity. (Sorry to be pedantic -- it's just that HTTP is pedantic. :) With respect to detecting empty entities, have you tried reading from the entity input stream? If the response is an empty entity, you should get an immediate EOF.</p>\n<p>Do you need to determine if the entity is empty without reading any bytes from the entity body? Based on the code above, I don't think you do. If that's the case, you can just wrap the entity <code>InputStream</code> with a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/PushbackInputStream.html\" rel=\"nofollow noreferrer\"><code>PushbackInputStream</code></a> and check:</p>\n<pre><code>HttpResponse response = httpClient.execute(uriRequest);\nHttpEntity entity = response.getEntity();\nif(entity != null) {\n    InputStream in = new PushbackInputStream(entity.getContent());\n    try {\n        int firstByte=in.read();\n        if(firstByte != -1) {\n            in.unread(firstByte);\n            // json parsing\n        }\n        else {\n            // empty\n        }\n    }\n    finally {\n        // Don't close so we can reuse the connection\n        EntityUtils.consumeQuietly(entity);\n        // Or, if you're sure you won't re-use the connection\n        in.close();\n    }\n}\n</code></pre>\n<p>It's best not to read the entire response into memory just in case it's large. This solution will test for emptiness using constant memory (4 bytes :).</p>\n<p><strong>EDIT</strong>: Pedantry follows below.</p>\n<p>From <a href=\"https://www.w3.org/Protocols/rfc2616/rfc2616-sec4.html#sec4.3\" rel=\"nofollow noreferrer\">Section 4.3 of the HTTP/1.1 spec</a>:</p>\n<blockquote>\n<p>For response messages, whether or not a message-body is included with\na message is dependent on both the request method and the response\nstatus code (section 6.1.1). All responses to the HEAD request method\nMUST NOT include a message-body, even though the presence of entity-\nheader fields might lead one to believe they do. All 1xx\n(informational), 204 (no content), and 304 (not modified) responses\nMUST NOT include a message-body. All other responses do include a\nmessage-body, although it MAY be of zero length.</p>\n</blockquote>\n"}],"owner":{"account_id":977031,"reputation":15734,"user_id":997851,"accept_rate":60,"display_name":"sockeqwe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15409,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":17011093,"answer_count":2,"score":6,"last_activity_date":1699644946,"creation_date":1370790808,"question_id":17011023,"body_markdown":"I&#39;m wondering how to determine an empty http response.\r\nWith empty http response I mean, that the http response will only have set some headers, but contains an empty http body.\r\n\r\n\r\nFor example: I do a HTTP POST to an webserver, but the webserver will only return an status code for my HTTP POST and nothing else.\r\n\r\nThe problem is, that I have written a little http framework on top of apache HttpClient to do auto json parsing etc. So the default use case of this framework is to make a request and parse the response. However if the response does not contain data, like mentioned in the example above, I will ensure that my framework skip json parsing.\r\n\r\nSo I do something like this:\r\n\r\n    HttpResponse response = httpClient.execute(uriRequest);\r\n    HttpEntity entity = response.getEntity();\r\n    if (entity != null){\r\n        InputStream in = entity.getContent();\r\n        // json parsing\r\n    }\r\n\r\nHowever entity is always != null. And also the retrieved inputstream is != null. Is there a simple way to determine if the http body is empty or not?\r\n\r\nThe only way I see is that the server response contains the Content-Length header field set to 0.\r\nBut not every server set this field.\r\n\r\nAny suggestions?","title":"HttpClient: Determine empty entity in response","body":"<p>I'm wondering how to determine an empty http response.\nWith empty http response I mean, that the http response will only have set some headers, but contains an empty http body.</p>\n\n<p>For example: I do a HTTP POST to an webserver, but the webserver will only return an status code for my HTTP POST and nothing else.</p>\n\n<p>The problem is, that I have written a little http framework on top of apache HttpClient to do auto json parsing etc. So the default use case of this framework is to make a request and parse the response. However if the response does not contain data, like mentioned in the example above, I will ensure that my framework skip json parsing.</p>\n\n<p>So I do something like this:</p>\n\n<pre><code>HttpResponse response = httpClient.execute(uriRequest);\nHttpEntity entity = response.getEntity();\nif (entity != null){\n    InputStream in = entity.getContent();\n    // json parsing\n}\n</code></pre>\n\n<p>However entity is always != null. And also the retrieved inputstream is != null. Is there a simple way to determine if the http body is empty or not?</p>\n\n<p>The only way I see is that the server response contains the Content-Length header field set to 0.\nBut not every server set this field.</p>\n\n<p>Any suggestions?</p>\n"},{"tags":["java","spring-boot","postman","http-status-code-404","spring-restcontroller"],"comments":[{"owner":{"account_id":4803607,"reputation":146,"user_id":3879455,"display_name":"Laonel"},"score":0,"creation_date":1679552432,"post_id":75819750,"comment_id":133742748,"body_markdown":"The mapping in your controller is a POST mapping, are you sure you&#39;re sending a POST request from Postman?","body":"The mapping in your controller is a POST mapping, are you sure you&#39;re sending a POST request from Postman?"},{"owner":{"account_id":5646909,"reputation":1460,"user_id":4468663,"display_name":"Anand Dwivedi"},"score":0,"creation_date":1679552555,"post_id":75819750,"comment_id":133742766,"body_markdown":"Did you selected Post method properly and giving correct end point from postman ?","body":"Did you selected Post method properly and giving correct end point from postman ?"},{"owner":{"account_id":13052379,"reputation":267,"user_id":9432262,"display_name":"hassansuhaib"},"score":0,"creation_date":1679552972,"post_id":75819750,"comment_id":133742837,"body_markdown":"Please update your question with the postman request that you&#39;re using.","body":"Please update your question with the postman request that you&#39;re using."}],"answers":[{"comments":[{"owner":{"account_id":16348722,"reputation":3,"user_id":11807826,"display_name":"mohan"},"score":0,"creation_date":1679587983,"post_id":75820469,"comment_id":133752001,"body_markdown":"i have shared all the files (service, repo , application properties )  just now sir.","body":"i have shared all the files (service, repo , application properties )  just now sir."},{"owner":{"account_id":16348722,"reputation":3,"user_id":11807826,"display_name":"mohan"},"score":0,"creation_date":1679672571,"post_id":75820469,"comment_id":133768582,"body_markdown":"my packages are not auto scanned by springboot.. i used &quot;scanbasePackage &quot; in @springbootApplication in main class to manually scan all the packages.. now its working. i dont know why its not autoscanning. do u have any idea?","body":"my packages are not auto scanned by springboot.. i used &quot;scanbasePackage &quot; in @springbootApplication in main class to manually scan all the packages.. now its working. i dont know why its not autoscanning. do u have any idea?"},{"owner":{"account_id":19580981,"reputation":106,"user_id":14330061,"display_name":"dauthDaert06"},"score":0,"creation_date":1679897882,"post_id":75820469,"comment_id":133796680,"body_markdown":"Are all your classes under the same base package ? If it is, normally it should autoscan. Check your project structure and verify that indeed all your classes are under the same base  package. If @SpringBootApplication annotated class&#39; package is com.example.user, your other classes also need to start with that. Your rest controller class&#39; package should be com.example.user.controller per se. Check those, maybe it is com.example.controller.","body":"Are all your classes under the same base package ? If it is, normally it should autoscan. Check your project structure and verify that indeed all your classes are under the same base  package. If @SpringBootApplication annotated class&#39; package is com.example.user, your other classes also need to start with that. Your rest controller class&#39; package should be com.example.user.controller per se. Check those, maybe it is com.example.controller."}],"tags":[],"owner":{"account_id":19580981,"reputation":106,"user_id":14330061,"display_name":"dauthDaert06"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679648907,"creation_date":1679558591,"answer_id":75820469,"question_id":75819750,"body_markdown":"Can you also share your application.properties/yml file. You may have set **server.servlet.context-path=/myApp** something like this and may have forgotten. Or gave a different port number with **server.port=8082**. All and all, sharing your configuration may give more insight about what to look for.\r\n\r\nAs for the comments about selecting proper Http method; In that case the server would have returned 405: Method Not Allowed. 404 means it couldn&#39;t find the requested resource.\r\n\r\n**Edit:**\r\n\r\nAfter copy pasting everything, I ran the application and I was definitely able to hit the url. \r\n[PostmanScreenshot][1].\r\n\r\nSomething is wrong with your postman maybe? You said postman is working fine but maybe you had a setting(something like a proxy config) there for a specific application.  \r\n\r\nCan you add these two dependencies and see if you can hit from swagger.\r\n\r\n```xml\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nhttp://localhost:8081/swagger-ui/index.html\r\n\r\nI replaced \r\n```java\r\nCafeUtils.getResponseEntity(CafeConstants.INVALID DATA, HttpStatus.BAD_REQUEST);\r\n```\r\n to\r\n```java\r\nnew ResponseEntity&lt;&gt;(&quot;INVALID DATA&quot;, HttpStatus.BAD_REQUEST);\r\n```\r\n\r\neverything else is the same as yours.\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/joqKv.png","title":"why postman is giving 404 error even though the application is running successfully and controller is right? how to resolve this problem?","body":"<p>Can you also share your application.properties/yml file. You may have set <strong>server.servlet.context-path=/myApp</strong> something like this and may have forgotten. Or gave a different port number with <strong>server.port=8082</strong>. All and all, sharing your configuration may give more insight about what to look for.</p>\n<p>As for the comments about selecting proper Http method; In that case the server would have returned 405: Method Not Allowed. 404 means it couldn't find the requested resource.</p>\n<p><strong>Edit:</strong></p>\n<p>After copy pasting everything, I ran the application and I was definitely able to hit the url.\n<a href=\"https://i.stack.imgur.com/joqKv.png\" rel=\"nofollow noreferrer\">PostmanScreenshot</a>.</p>\n<p>Something is wrong with your postman maybe? You said postman is working fine but maybe you had a setting(something like a proxy config) there for a specific application.</p>\n<p>Can you add these two dependencies and see if you can hit from swagger.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>http://localhost:8081/swagger-ui/index.html</p>\n<p>I replaced</p>\n<pre class=\"lang-java prettyprint-override\"><code>CafeUtils.getResponseEntity(CafeConstants.INVALID DATA, HttpStatus.BAD_REQUEST);\n</code></pre>\n<p>to</p>\n<pre class=\"lang-java prettyprint-override\"><code>new ResponseEntity&lt;&gt;(&quot;INVALID DATA&quot;, HttpStatus.BAD_REQUEST);\n</code></pre>\n<p>everything else is the same as yours.</p>\n"},{"comments":[{"owner":{"account_id":16348722,"reputation":3,"user_id":11807826,"display_name":"mohan"},"score":0,"creation_date":1679588009,"post_id":75822128,"comment_id":133752009,"body_markdown":"i have shared all the files (service, repo , application properties ) just now sir.","body":"i have shared all the files (service, repo , application properties ) just now sir."},{"owner":{"account_id":16348722,"reputation":3,"user_id":11807826,"display_name":"mohan"},"score":0,"creation_date":1679588464,"post_id":75822128,"comment_id":133752146,"body_markdown":"are u getting response for POST method in postman? usually what would be  the reason for this 404 status though everthing seems alright ?","body":"are u getting response for POST method in postman? usually what would be  the reason for this 404 status though everthing seems alright ?"}],"tags":[],"owner":{"account_id":26748791,"reputation":1,"user_id":20348500,"display_name":"Shubham Vartak"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679569114,"creation_date":1679569114,"answer_id":75822128,"question_id":75819750,"body_markdown":"hey can you provide entity or POJO file and also the UserService file so that we can check the signup fuction under it, i had tried same code and it  worked for me so i guess that there is problem in your signup  method or entity class. So plzz provide that files..!!","title":"why postman is giving 404 error even though the application is running successfully and controller is right? how to resolve this problem?","body":"<p>hey can you provide entity or POJO file and also the UserService file so that we can check the signup fuction under it, i had tried same code and it  worked for me so i guess that there is problem in your signup  method or entity class. So plzz provide that files..!!</p>\n"},{"tags":[],"owner":{"account_id":26157915,"reputation":1,"user_id":19844920,"display_name":"Ajayi Motilade"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679647010,"creation_date":1679647010,"answer_id":75831501,"question_id":75819750,"body_markdown":"your endpoint is to get a request , it will only get a response in body x, y ,z.\r\nIf you change that endpoint to POST it will not work.\r\nyou need the POST endpoint and request to work. Generally, 404 error, when your request is bad. for eg missing something in the request or parameters in headers. hope this helps!","title":"why postman is giving 404 error even though the application is running successfully and controller is right? how to resolve this problem?","body":"<p>your endpoint is to get a request , it will only get a response in body x, y ,z.\nIf you change that endpoint to POST it will not work.\nyou need the POST endpoint and request to work. Generally, 404 error, when your request is bad. for eg missing something in the request or parameters in headers. hope this helps!</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1699753344,"post_id":77462433,"comment_id":136570922,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77462433/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29874758,"reputation":1,"user_id":22895265,"display_name":"ethio_explorer"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699644519,"creation_date":1699644519,"answer_id":77462433,"question_id":75819750,"body_markdown":"Check if the controller is in the root context path, since it has to be in the same path with the spring boot application main class by default unless modified. ","title":"why postman is giving 404 error even though the application is running successfully and controller is right? how to resolve this problem?","body":"<p>Check if the controller is in the root context path, since it has to be in the same path with the spring boot application main class by default unless modified.</p>\n"}],"owner":{"account_id":16348722,"reputation":3,"user_id":11807826,"display_name":"mohan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1066,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75820469,"answer_count":4,"score":0,"last_activity_date":1699644519,"creation_date":1679552137,"question_id":75819750,"body_markdown":"I am currently working on a small personal project(springboot + MYSQL), in that while testing in POSTMAN , its showing 404 resource not found . \r\n\r\nNOTE: both application and MYSQL is running successfully  without any problem  and POSTMAN is working properly.\r\n\r\ncontroller is fine as of my knowledge.\r\n\r\nwhere is the problem in code? kindly help me out.\r\n\r\n**Main class**\r\n\r\n```\r\n\r\n@SpringBootApplication   \r\n\r\npublic class CafeManagementSystemApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(CafeManagementSystemApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**controller**\r\n\r\nINTERFACE :\r\n```\r\n@RequestMapping(path = &quot;/user&quot;)\r\npublic interface UserRest {\r\n\t\r\n\t@PostMapping(path = &quot;/signup&quot;)\r\n\tpublic ResponseEntity&lt;String&gt; signup(@RequestBody(required = true) Map&lt;String,String&gt; requestMap);\r\n\r\n\t\r\n}\r\n\r\n```\r\nCLASS:\r\n\r\n```\r\n@RestController\r\n@RequestMapping(path = &quot;/user&quot;)\r\npublic class UserRestImpl implements UserRest {\r\n\t\r\n\t@Autowired\r\n\tUserService userService;\r\n\r\n\t\r\n\t@PostMapping(path = &quot;/signup&quot;)\r\n\tpublic ResponseEntity&lt;String&gt; signup(Map&lt;String, String&gt; requestMap) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\ttry {\r\n\t\t\treturn userService.signUp(requestMap);\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn CafeUtils.getResponseEntity(CafeConstants.SOMETHING_WENT_WRONG,   HttpStatus.INTERNAL_SERVER_ERROR);\r\n\t}\r\n\r\n}\r\n```\r\n**Service**\r\n\r\n ```\r\n@Service\r\n@Slf4j\r\npublic class UserServiceImpl  implements UserService{\r\n\r\n\t@Autowired\r\n\t UserDao userDao;       // repository\r\n\t\r\n\t@Override\r\n\tpublic ResponseEntity&lt;String&gt; signUp(Map&lt;String, String&gt; requestMap) {\r\n\t\t\r\n\t\ttry {\r\n\t\t\r\n\t\t\t\t\tlog.info(&quot;{Inside signUp {}&quot;,requestMap);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(validateSignupMap(requestMap)) {    // method present in same class\r\n\t\t\t\t\t\t \r\n\t\t\t\t\t\tUser user=userDao.findByEmailId(requestMap.get(&quot;email&quot;));\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(Objects.isNull(user)) {\r\n\t\t\t\t\t\t\tuserDao.save(getUserFromMap(requestMap));                 \r\n\t\t\t\t\t\t\treturn CafeUtils.getResponseEntity(&quot;Successfully registered &quot;, HttpStatus.OK);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\treturn CafeUtils.getResponseEntity(&quot;email already present&quot;,HttpStatus.BAD_REQUEST);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\treturn CafeUtils.getResponseEntity(CafeConstants.INVALID_DATA, HttpStatus.BAD_REQUEST);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t}\r\n\t\tcatch(Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\treturn CafeUtils.getResponseEntity(CafeConstants.SOMETHING_WENT_WRONG, HttpStatus.INTERNAL_SERVER_ERROR);\r\n\t\t\r\n\t}\r\n\t\r\n\tprivate Boolean validateSignupMap(Map&lt;String,String&gt; requestMap) {\r\n\t\t\r\n\t\tif(requestMap.containsKey(&quot;name&quot;) &amp;&amp; requestMap.containsKey(&quot;contactNumber&quot;) &amp;&amp; requestMap.containsKey(&quot;email&quot;) &amp;&amp; requestMap.containsKey(&quot;password&quot;))\r\n\t\t\t{\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t }\r\n\t\r\n\tprivate User getUserFromMap(Map&lt;String,String&gt; map) {          // MAP to USER object\r\n\t\t\r\n\t\tUser u= new User();\r\n\t\tu.setName(map.get(&quot;name&quot;));\r\n\t\tu.setContactNumber(map.get(&quot;contactNumber&quot;));\r\n\t\tu.setEmail(map.get(&quot;email&quot;));\r\n\t\tu.setPassword(map.get(&quot;password&quot;));\r\n\t\tu.setStatus(&quot;false&quot;);\r\n\t\tu.setRole(&quot;user&quot;);\r\n\t\t\r\n\t\treturn u;\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\r\n}\r\n\r\n\r\n```\r\n**POJO**\r\n\r\n```\r\n@NamedQuery(name=&quot;User.findByEmailId&quot;, query = &quot;select u from User u where u.email=:email&quot;)   \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t     \t\r\n\r\n@Entity\r\n@Table(name=&quot;user&quot;)\r\n@DynamicInsert\r\n@DynamicUpdate\r\n@Data\r\npublic class User  implements Serializable{\r\n\t\r\n\tprivate static final long serialVersionUID=1L;\r\n\t\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate int id;\r\n\t\r\n\t@Column(name = &quot;name&quot;)\r\n\tprivate String name;\r\n\t\r\n\t@Column(name = &quot;conatactNumber&quot;)\r\n\tprivate String contactNumber;\r\n\t\r\n\t@Column(name = &quot;email&quot;)\r\n\tprivate String email;\r\n\t\r\n\t@Column(name = &quot;password&quot;)\r\n\tprivate String password;\r\n\t\r\n\t@Column(name = &quot;status&quot;)\r\n\tprivate String status;\r\n\t\r\n\t@Column(name = &quot;role&quot;)\r\n\tprivate String role;\r\n\t\r\n\t\r\n\t\r\n\t\r\n\r\n}\r\n```\r\n\r\n**REPO **\r\n\r\n```\r\npublic interface UserDao extends JpaRepository&lt;User, Integer&gt; {\r\n\r\n\t\r\n\tUser findByEmailId(@Param(&quot;email&quot;) String email);       \r\n}\r\n```\r\n\r\n**application.properties**\r\n\r\n```\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n\r\nspring.datasource.url=jdbc:mysql://localhost:3306/cafe?allowPublicKeyRetrieval=true&amp;useSSL=false\r\nspring.datasource.username=root\r\nspring.datasource.password=password_root\r\n\r\n\r\nspring.jpa.show-sql=true       \r\n\r\nspring.jpa.hibernate.ddl-auto=update\r\n\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect\r\n\r\nspring.jpa.properties.hibernate.format_sql=true\r\n\r\nserver.port=8081\r\n```\r\n\r\n**POM.XML**\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.inn.cafe&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;com.inn.cafe&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;Cafe Management System&lt;/name&gt;\r\n\t&lt;description&gt;Cafe Management System Project &lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t\t\r\n\t\t\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI tried to test in POSTMAN ,but its showing 404 error .\r\n\r\nNOTE: postman is working properly ,i have checked by testing another application.\r\n\r\nwhat the problem in the code ? where to look out for in the application\r\n\r\nwhen i hit http://localhost:8081/user/signup , i am getting 404","title":"why postman is giving 404 error even though the application is running successfully and controller is right? how to resolve this problem?","body":"<p>I am currently working on a small personal project(springboot + MYSQL), in that while testing in POSTMAN , its showing 404 resource not found .</p>\n<p>NOTE: both application and MYSQL is running successfully  without any problem  and POSTMAN is working properly.</p>\n<p>controller is fine as of my knowledge.</p>\n<p>where is the problem in code? kindly help me out.</p>\n<p><strong>Main class</strong></p>\n<pre><code>\n@SpringBootApplication   \n\npublic class CafeManagementSystemApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(CafeManagementSystemApplication.class, args);\n    }\n\n}\n</code></pre>\n<p><strong>controller</strong></p>\n<p>INTERFACE :</p>\n<pre><code>@RequestMapping(path = &quot;/user&quot;)\npublic interface UserRest {\n    \n    @PostMapping(path = &quot;/signup&quot;)\n    public ResponseEntity&lt;String&gt; signup(@RequestBody(required = true) Map&lt;String,String&gt; requestMap);\n\n    \n}\n\n</code></pre>\n<p>CLASS:</p>\n<pre><code>@RestController\n@RequestMapping(path = &quot;/user&quot;)\npublic class UserRestImpl implements UserRest {\n    \n    @Autowired\n    UserService userService;\n\n    \n    @PostMapping(path = &quot;/signup&quot;)\n    public ResponseEntity&lt;String&gt; signup(Map&lt;String, String&gt; requestMap) {\n        // TODO Auto-generated method stub\n        try {\n            return userService.signUp(requestMap);\n            \n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return CafeUtils.getResponseEntity(CafeConstants.SOMETHING_WENT_WRONG,   HttpStatus.INTERNAL_SERVER_ERROR);\n    }\n\n}\n</code></pre>\n<p><strong>Service</strong></p>\n<pre><code>@Service\n@Slf4j\npublic class UserServiceImpl  implements UserService{\n\n   @Autowired\n    UserDao userDao;       // repository\n   \n   @Override\n   public ResponseEntity&lt;String&gt; signUp(Map&lt;String, String&gt; requestMap) {\n       \n       try {\n       \n                   log.info(&quot;{Inside signUp {}&quot;,requestMap);\n                   \n                   if(validateSignupMap(requestMap)) {    // method present in same class\n                        \n                       User user=userDao.findByEmailId(requestMap.get(&quot;email&quot;));\n                       \n                       if(Objects.isNull(user)) {\n                           userDao.save(getUserFromMap(requestMap));                 \n                           return CafeUtils.getResponseEntity(&quot;Successfully registered &quot;, HttpStatus.OK);\n                       }\n                       else {\n                           return CafeUtils.getResponseEntity(&quot;email already present&quot;,HttpStatus.BAD_REQUEST);\n                       }\n                       \n                   }\n                   else {\n                       return CafeUtils.getResponseEntity(CafeConstants.INVALID_DATA, HttpStatus.BAD_REQUEST);\n                       \n                   }\n       }\n       catch(Exception e) {\n           e.printStackTrace();\n       }\n       \n       return CafeUtils.getResponseEntity(CafeConstants.SOMETHING_WENT_WRONG, HttpStatus.INTERNAL_SERVER_ERROR);\n       \n   }\n   \n   private Boolean validateSignupMap(Map&lt;String,String&gt; requestMap) {\n       \n       if(requestMap.containsKey(&quot;name&quot;) &amp;&amp; requestMap.containsKey(&quot;contactNumber&quot;) &amp;&amp; requestMap.containsKey(&quot;email&quot;) &amp;&amp; requestMap.containsKey(&quot;password&quot;))\n           {\n               return true;\n           }\n           return false;\n    }\n   \n   private User getUserFromMap(Map&lt;String,String&gt; map) {          // MAP to USER object\n       \n       User u= new User();\n       u.setName(map.get(&quot;name&quot;));\n       u.setContactNumber(map.get(&quot;contactNumber&quot;));\n       u.setEmail(map.get(&quot;email&quot;));\n       u.setPassword(map.get(&quot;password&quot;));\n       u.setStatus(&quot;false&quot;);\n       u.setRole(&quot;user&quot;);\n       \n       return u;\n       \n   }\n   \n   \n   \n\n}\n\n\n</code></pre>\n<p><strong>POJO</strong></p>\n<pre><code>@NamedQuery(name=&quot;User.findByEmailId&quot;, query = &quot;select u from User u where u.email=:email&quot;)   \n                                                                                        \n\n@Entity\n@Table(name=&quot;user&quot;)\n@DynamicInsert\n@DynamicUpdate\n@Data\npublic class User  implements Serializable{\n    \n    private static final long serialVersionUID=1L;\n    \n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    \n    @Column(name = &quot;name&quot;)\n    private String name;\n    \n    @Column(name = &quot;conatactNumber&quot;)\n    private String contactNumber;\n    \n    @Column(name = &quot;email&quot;)\n    private String email;\n    \n    @Column(name = &quot;password&quot;)\n    private String password;\n    \n    @Column(name = &quot;status&quot;)\n    private String status;\n    \n    @Column(name = &quot;role&quot;)\n    private String role;\n    \n    \n    \n    \n\n}\n</code></pre>\n<p>**REPO **</p>\n<pre><code>public interface UserDao extends JpaRepository&lt;User, Integer&gt; {\n\n    \n    User findByEmailId(@Param(&quot;email&quot;) String email);       \n}\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code>spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n\nspring.datasource.url=jdbc:mysql://localhost:3306/cafe?allowPublicKeyRetrieval=true&amp;useSSL=false\nspring.datasource.username=root\nspring.datasource.password=password_root\n\n\nspring.jpa.show-sql=true       \n\nspring.jpa.hibernate.ddl-auto=update\n\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect\n\nspring.jpa.properties.hibernate.format_sql=true\n\nserver.port=8081\n</code></pre>\n<p><strong>POM.XML</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.inn.cafe&lt;/groupId&gt;\n    &lt;artifactId&gt;com.inn.cafe&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Cafe Management System&lt;/name&gt;\n    &lt;description&gt;Cafe Management System Project &lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        \n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        \n        \n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>I tried to test in POSTMAN ,but its showing 404 error .</p>\n<p>NOTE: postman is working properly ,i have checked by testing another application.</p>\n<p>what the problem in the code ? where to look out for in the application</p>\n<p>when i hit http://localhost:8081/user/signup , i am getting 404</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9848,"page":69,"page_size":100}
