{"items":[{"tags":["java","eclipse"],"owner":{"account_id":29870702,"reputation":1,"user_id":22892132,"display_name":"Sergio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699606107,"creation_date":1699605021,"question_id":77458606,"body_markdown":"I have a problem, I have an old Jasper template that generates an invoice and is launched by a java application. The issue is that when compiling with some new modifications it gives me the following error:\r\n \r\n```\r\nCaused by: java.sql.SQLException: net.sf.jasperreports.engine.JRException: Class not found when loading object from file : C:\\...\r\nat org.hibernate.impl.SessionImpl.doWork(SessionImpl.java:1987)\r\n... 16 more\r\n\r\nCaused by: net.sf.jasperreports.engine.JRException: Class not found when loading object from file : C:\\....\r\nat net.sf.jasperreports.engine.util.JRLoader.loadObject(JRLoader.java:105)\r\n\r\nCaused by: java.lang.ClassNotFoundException: net.sf.jasperreports.compilers.ReportExpressionEvaluationData\r\nat java.net.URLClassLoader.findClass(Unknown Source)\r\nat java.lang.ClassLoader.loadClass(Unknown Source)\r\nat sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\nat java.lang.ClassLoader.loadClass(Unknown Source)\r\nat java.lang.Class.forName0(Native Method)\r\nat java.lang.Class.forName(Unknown Source)\r\nat java.io.ObjectInputStream.resolveClass(Unknown Source)\r\nat net.sf.jasperreports.engine.util.ContextClassLoaderObjectInputStream.resolveClass(ContextClassLoaderObjectInputStream.java:75)\r\nat java.io.ObjectInputStream.readNonProxyDesc(Unknown Source)\r\nat java.io.ObjectInputStream.readClassDesc(Unknown Source)\r\nat java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)\r\nat java.io.ObjectInputStream.readObject0(Unknown Source)\r\nat java.io.ObjectInputStream.readObject(Unknown Source)\r\nat java.io.ObjectInputStream.readObject(Unknown Source)\r\nat java.util.HashMap.readObject(Unknown Source)\r\nat sun.reflect.GeneratedMethodAccessor17.invoke(Unknown Source)\r\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\nat java.lang.reflect.Method.invoke(Unknown Source)\r\nat java.io.ObjectStreamClass.invokeReadObject(Unknown Source)\r\nat java.io.ObjectInputStream.readSerialData(Unknown Source)\r\nat java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)\r\nat java.io.ObjectInputStream.readObject0(Unknown Source)\r\nat java.io.ObjectInputStream.defaultReadFields(Unknown Source)\r\nat java.io.ObjectInputStream.readSerialData(Unknown Source)\r\nat java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)\r\nat java.io.ObjectInputStream.readObject0(Unknown Source)\r\nat java.io.ObjectInputStream.defaultReadFields(Unknown Source)\r\nat java.io.ObjectInputStream.readSerialData(Unknown Source)\r\nat java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)\r\nat java.io.ObjectInputStream.readObject0(Unknown Source)\r\nat java.io.ObjectInputStream.readObject(Unknown Source)\r\nat java.io.ObjectInputStream.readObject(Unknown Source)\r\nat net.sf.jasperreports.engine.util.JRLoader.loadObject(JRLoader.java:97)\r\n... 19 more\r\n```\r\n\r\nI have noticed that when compiling it modifies the expressions used in the old template. I think the error is that, in compile options I am choosing the old version of the project, but it still makes modifications.\r\n\r\nI have tried changing the version of the template","title":"net.sf.jasperreports.compilers.ReportExpressionEvaluationData","body":"<p>I have a problem, I have an old Jasper template that generates an invoice and is launched by a java application. The issue is that when compiling with some new modifications it gives me the following error:</p>\n<pre><code>Caused by: java.sql.SQLException: net.sf.jasperreports.engine.JRException: Class not found when loading object from file : C:\\...\nat org.hibernate.impl.SessionImpl.doWork(SessionImpl.java:1987)\n... 16 more\n\nCaused by: net.sf.jasperreports.engine.JRException: Class not found when loading object from file : C:\\....\nat net.sf.jasperreports.engine.util.JRLoader.loadObject(JRLoader.java:105)\n\nCaused by: java.lang.ClassNotFoundException: net.sf.jasperreports.compilers.ReportExpressionEvaluationData\nat java.net.URLClassLoader.findClass(Unknown Source)\nat java.lang.ClassLoader.loadClass(Unknown Source)\nat sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\nat java.lang.ClassLoader.loadClass(Unknown Source)\nat java.lang.Class.forName0(Native Method)\nat java.lang.Class.forName(Unknown Source)\nat java.io.ObjectInputStream.resolveClass(Unknown Source)\nat net.sf.jasperreports.engine.util.ContextClassLoaderObjectInputStream.resolveClass(ContextClassLoaderObjectInputStream.java:75)\nat java.io.ObjectInputStream.readNonProxyDesc(Unknown Source)\nat java.io.ObjectInputStream.readClassDesc(Unknown Source)\nat java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)\nat java.io.ObjectInputStream.readObject0(Unknown Source)\nat java.io.ObjectInputStream.readObject(Unknown Source)\nat java.io.ObjectInputStream.readObject(Unknown Source)\nat java.util.HashMap.readObject(Unknown Source)\nat sun.reflect.GeneratedMethodAccessor17.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat java.io.ObjectStreamClass.invokeReadObject(Unknown Source)\nat java.io.ObjectInputStream.readSerialData(Unknown Source)\nat java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)\nat java.io.ObjectInputStream.readObject0(Unknown Source)\nat java.io.ObjectInputStream.defaultReadFields(Unknown Source)\nat java.io.ObjectInputStream.readSerialData(Unknown Source)\nat java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)\nat java.io.ObjectInputStream.readObject0(Unknown Source)\nat java.io.ObjectInputStream.defaultReadFields(Unknown Source)\nat java.io.ObjectInputStream.readSerialData(Unknown Source)\nat java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)\nat java.io.ObjectInputStream.readObject0(Unknown Source)\nat java.io.ObjectInputStream.readObject(Unknown Source)\nat java.io.ObjectInputStream.readObject(Unknown Source)\nat net.sf.jasperreports.engine.util.JRLoader.loadObject(JRLoader.java:97)\n... 19 more\n</code></pre>\n<p>I have noticed that when compiling it modifies the expressions used in the old template. I think the error is that, in compile options I am choosing the old version of the project, but it still makes modifications.</p>\n<p>I have tried changing the version of the template</p>\n"},{"tags":["java","locale","number-formatting"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1548847773,"post_id":54439562,"comment_id":95688324,"body_markdown":"How does `1.1 -&gt; 1,01` make sense? What&#39;s the logic?","body":"How does <code>1.1 -&gt; 1,01</code> make sense? What&#39;s the logic?"},{"owner":{"account_id":5036820,"reputation":2920,"user_id":4045364,"accept_rate":100,"display_name":"Rence"},"score":0,"creation_date":1548847846,"post_id":54439562,"comment_id":95688363,"body_markdown":"@ernest_k, sorry, that was a typo. I&#39;ll correct it ( the one below as well ).","body":"@ernest_k, sorry, that was a typo. I&#39;ll correct it ( the one below as well )."},{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":0,"creation_date":1548848108,"post_id":54439562,"comment_id":95688501,"body_markdown":"`NumberFormat instance = NumberFormat.getInstance();\n        instance.setMinimumFractionDigits(2);`","body":"<code>NumberFormat instance = NumberFormat.getInstance();         instance.setMinimumFractionDigits(2);</code>"},{"owner":{"account_id":5036820,"reputation":2920,"user_id":4045364,"accept_rate":100,"display_name":"Rence"},"score":0,"creation_date":1548848185,"post_id":54439562,"comment_id":95688541,"body_markdown":"@davidxxx will this work for all Locales / Currencies? I had assumed there are some that might use more decimals or less. Edit: I found a list, there are some listed that have 0 or 3: http://apps.cybersource.com/library/documentation/sbc/quickref/currencies.pdf","body":"@davidxxx will this work for all Locales / Currencies? I had assumed there are some that might use more decimals or less. Edit: I found a list, there are some listed that have 0 or 3: <a href=\"http://apps.cybersource.com/library/documentation/sbc/quickref/currencies.pdf\" rel=\"nofollow noreferrer\">apps.cybersource.com/library/documentation/sbc/quickref/&hellip;</a>"},{"owner":{"account_id":5036820,"reputation":2920,"user_id":4045364,"accept_rate":100,"display_name":"Rence"},"score":0,"creation_date":1548848396,"post_id":54439562,"comment_id":95688677,"body_markdown":"@dkb, thank you for the link, but I seem to be missing something - the example seems to use the same function as my second example, with the same result.","body":"@dkb, thank you for the link, but I seem to be missing something - the example seems to use the same function as my second example, with the same result."},{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":0,"creation_date":1548848672,"post_id":54439562,"comment_id":95688832,"body_markdown":"ohh, now I got it,","body":"ohh, now I got it,"},{"owner":{"account_id":5488368,"reputation":2458,"user_id":4362486,"display_name":"Bor Laze"},"score":0,"creation_date":1548848736,"post_id":54439562,"comment_id":95688865,"body_markdown":"See this question: https://stackoverflow.com/questions/8658205/format-currency-without-currency-symbol","body":"See this question: <a href=\"https://stackoverflow.com/questions/8658205/format-currency-without-currency-symbol\" title=\"format currency without currency symbol\">stackoverflow.com/questions/8658205/&hellip;</a>"},{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":0,"creation_date":1548848890,"post_id":54439562,"comment_id":95688971,"body_markdown":"@Sirence Of course it will not.  The currency format is implemented in the currency style format. You should customize the instance returned by `NumberFormat.getCurrencyInstance()`  to remove the symbol part.","body":"@Sirence Of course it will not.  The currency format is implemented in the currency style format. You should customize the instance returned by <code>NumberFormat.getCurrencyInstance()</code>  to remove the symbol part."},{"owner":{"account_id":5036820,"reputation":2920,"user_id":4045364,"accept_rate":100,"display_name":"Rence"},"score":0,"creation_date":1548848983,"post_id":54439562,"comment_id":95689024,"body_markdown":"@BorLaze, thank you for the link! I just tried it and it does seem to work! I&#39;ll close the question.","body":"@BorLaze, thank you for the link! I just tried it and it does seem to work! I&#39;ll close the question."},{"owner":{"account_id":12695174,"reputation":45171,"user_id":9223839,"display_name":"Joakim Danielson"},"score":0,"creation_date":1548849051,"post_id":54439562,"comment_id":95689073,"body_markdown":"Try using `DecimalFormat`, see [this question](https://stackoverflow.com/questions/54402352/is-it-possible-to-change-the-decimal-format-of-the-entire-code-which-includes-sw/54403485#54403485), the output will use the decimal character for the current locale","body":"Try using <code>DecimalFormat</code>, see <a href=\"https://stackoverflow.com/questions/54402352/is-it-possible-to-change-the-decimal-format-of-the-entire-code-which-includes-sw/54403485#54403485\">this question</a>, the output will use the decimal character for the current locale"}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303885,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1548849020,"creation_date":1548849020,"answer_id":54439986,"question_id":54439562,"body_markdown":"[`java.util.Currency`][1] provides the necessary information. A reasonable approach to print currency values without the currency sign in pure Java code is to get a general-purpose [`NumberFormat`][2] instance and configure it to use the number of digits defined by the appropriate `Currency` object:\r\n\r\n    NumberFormat numberFormat = NumberFormat.getInstance(myLocale);\r\n    Currency currency = Currency.getInstance(myLocale);\r\n    numberFormat.setMinimumFractionDigits(currency.getDefaultFractionDigits());\r\n\r\nIf you need a specific currency as opposed to the default currency of the locale you use, use [the `String` override of `Currency.getInstance()`][3] instead and provide the appropriate currency code.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/util/Currency.html\r\n  [2]: https://docs.oracle.com/javase/10/docs/api/java/text/NumberFormat.html\r\n  [3]: https://docs.oracle.com/javase/10/docs/api/java/util/Currency.html#getInstance(java.lang.String)","title":"Java - NumberValue to String without Currency sign","body":"<p><a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Currency.html\" rel=\"noreferrer\"><code>java.util.Currency</code></a> provides the necessary information. A reasonable approach to print currency values without the currency sign in pure Java code is to get a general-purpose <a href=\"https://docs.oracle.com/javase/10/docs/api/java/text/NumberFormat.html\" rel=\"noreferrer\"><code>NumberFormat</code></a> instance and configure it to use the number of digits defined by the appropriate <code>Currency</code> object:</p>\n\n<pre><code>NumberFormat numberFormat = NumberFormat.getInstance(myLocale);\nCurrency currency = Currency.getInstance(myLocale);\nnumberFormat.setMinimumFractionDigits(currency.getDefaultFractionDigits());\n</code></pre>\n\n<p>If you need a specific currency as opposed to the default currency of the locale you use, use <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Currency.html#getInstance(java.lang.String)\" rel=\"noreferrer\">the <code>String</code> override of <code>Currency.getInstance()</code></a> instead and provide the appropriate currency code.</p>\n"},{"tags":[],"owner":{"account_id":1028523,"reputation":8301,"user_id":1037294,"accept_rate":83,"display_name":"a.ch."},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1699605992,"creation_date":1699605992,"answer_id":77458698,"question_id":54439562,"body_markdown":"Here is a more robust approach (for some currencies minimumFractionDigits and maximumFractionDigits are not necessarily equal to  `Currency.getDefaultFractionDigits()`):\r\n\r\n    val numberFormat = NumberFormat.getNumberInstance().apply {\r\n        val priceFormat = NumberFormat.getCurrencyInstance()\r\n        minimumFractionDigits = priceFormat.minimumFractionDigits\r\n        maximumFractionDigits = priceFormat.maximumFractionDigits\r\n    }","title":"Java - NumberValue to String without Currency sign","body":"<p>Here is a more robust approach (for some currencies minimumFractionDigits and maximumFractionDigits are not necessarily equal to  <code>Currency.getDefaultFractionDigits()</code>):</p>\n<pre><code>val numberFormat = NumberFormat.getNumberInstance().apply {\n    val priceFormat = NumberFormat.getCurrencyInstance()\n    minimumFractionDigits = priceFormat.minimumFractionDigits\n    maximumFractionDigits = priceFormat.maximumFractionDigits\n}\n</code></pre>\n"}],"owner":{"account_id":5036820,"reputation":2920,"user_id":4045364,"accept_rate":100,"display_name":"Rence"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1752,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":54439986,"answer_count":2,"score":2,"last_activity_date":1699605992,"creation_date":1548847701,"question_id":54439562,"body_markdown":"I am trying to format a NumberValue as a String in the current locale format.\r\n\r\nFor example, for Locale.Germany these would be the results I am trying to get:\r\n\r\n    1   -&gt; 1,00\r\n    1.1 -&gt; 1,10\r\n    0.1 -&gt; 0,10\r\n   \r\n\r\nWhat I have tried:\r\n\r\n    String test1 = NumberFormat.getInstance().format(1.1);\r\n    // -&gt; 1,1\r\n    String test2 = NumberFormat.getCurrencyInstance().format(1.1);\r\n    // -&gt; 1,10 €\r\n\r\nHow could I get the same format as the second example, without the currency symbol? Or alternativly, how could I make sure the result from the first example always has the amount of decimals needed for the current locale?\r\n\r\nEdit: Since there are some currencies that have 0,2 or 3 decimals, I don&#39;t think setting the decimals to a fixed amount will have the correct results.\r\n\r\nAlso, some currencies have their symbol in the front, and some in the back, so cutting off the last characters will probably not work either.\r\n   \r\nhttp://apps.cybersource.com/library/documentation/sbc/quickref/currencies.pdf ","title":"Java - NumberValue to String without Currency sign","body":"<p>I am trying to format a NumberValue as a String in the current locale format.</p>\n\n<p>For example, for Locale.Germany these would be the results I am trying to get:</p>\n\n<pre><code>1   -&gt; 1,00\n1.1 -&gt; 1,10\n0.1 -&gt; 0,10\n</code></pre>\n\n<p>What I have tried:</p>\n\n<pre><code>String test1 = NumberFormat.getInstance().format(1.1);\n// -&gt; 1,1\nString test2 = NumberFormat.getCurrencyInstance().format(1.1);\n// -&gt; 1,10 €\n</code></pre>\n\n<p>How could I get the same format as the second example, without the currency symbol? Or alternativly, how could I make sure the result from the first example always has the amount of decimals needed for the current locale?</p>\n\n<p>Edit: Since there are some currencies that have 0,2 or 3 decimals, I don't think setting the decimals to a fixed amount will have the correct results.</p>\n\n<p>Also, some currencies have their symbol in the front, and some in the back, so cutting off the last characters will probably not work either.</p>\n\n<p><a href=\"http://apps.cybersource.com/library/documentation/sbc/quickref/currencies.pdf\" rel=\"nofollow noreferrer\">http://apps.cybersource.com/library/documentation/sbc/quickref/currencies.pdf</a> </p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":1190755,"reputation":48912,"user_id":1163607,"accept_rate":97,"display_name":"AllTooSir"},"score":1,"creation_date":1372335330,"post_id":17342850,"comment_id":25161422,"body_markdown":"Spring doesn&#39;t guarantee thread-safety. It will be your responsibility . Spring will create a Singleton , but if its mutable then it might not be thread safe.","body":"Spring doesn&#39;t guarantee thread-safety. It will be your responsibility . Spring will create a Singleton , but if its mutable then it might not be thread safe."},{"owner":{"account_id":1283501,"reputation":51335,"user_id":1237040,"display_name":"Ravi K Thapliyal"},"score":0,"creation_date":1372335341,"post_id":17342850,"comment_id":25161433,"body_markdown":"Thread safety has nothing to do with Singletons. Pure singleton or Spring&#39;s doesn&#39;t matter.","body":"Thread safety has nothing to do with Singletons. Pure singleton or Spring&#39;s doesn&#39;t matter."},{"owner":{"account_id":356948,"reputation":7721,"user_id":696792,"accept_rate":97,"display_name":"StKiller"},"score":0,"creation_date":1372335747,"post_id":17342850,"comment_id":25161706,"body_markdown":"Isn&#39;t the guaranteed creation of only 1 instance in a multithreaded environment thread safety ?","body":"Isn&#39;t the guaranteed creation of only 1 instance in a multithreaded environment thread safety ?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1372336205,"post_id":17342850,"comment_id":25161994,"body_markdown":"@AndreiPodopr&#238;gora Of course not--it depends what the bean actually *does*.","body":"@AndreiPodopr&#238;gora Of course not--it depends what the bean actually <i>does</i>."},{"owner":{"account_id":356948,"reputation":7721,"user_id":696792,"accept_rate":97,"display_name":"StKiller"},"score":0,"creation_date":1372336549,"post_id":17342850,"comment_id":25162235,"body_markdown":"@DaveNewton - if the developer don&#39;t care about thread safety and doesn&#39;t write the singleton in a right way - many instances are created - so the singleton isn&#39;t thread safe.","body":"@DaveNewton - if the developer don&#39;t care about thread safety and doesn&#39;t write the singleton in a right way - many instances are created - so the singleton isn&#39;t thread safe."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1372336713,"post_id":17342850,"comment_id":25162344,"body_markdown":"@AndreiPodopr&#238;gora That&#39;s the &quot;singleton&quot; part. Whether or not the singleton&#39;s *code* is thread-safe is a completely separate issue. There&#39;s singleton *creation*, and there&#39;s singleton *execution*: two different things.","body":"@AndreiPodopr&#238;gora That&#39;s the &quot;singleton&quot; part. Whether or not the singleton&#39;s <i>code</i> is thread-safe is a completely separate issue. There&#39;s singleton <i>creation</i>, and there&#39;s singleton <i>execution</i>: two different things."},{"owner":{"account_id":356948,"reputation":7721,"user_id":696792,"accept_rate":97,"display_name":"StKiller"},"score":0,"creation_date":1372338213,"post_id":17342850,"comment_id":25163364,"body_markdown":"@DaveNewton, yep, I agree. That&#39;s what I was saying - singleton creation process relate to thread safety too.","body":"@DaveNewton, yep, I agree. That&#39;s what I was saying - singleton creation process relate to thread safety too."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1372338281,"post_id":17342850,"comment_id":25163415,"body_markdown":"@AndreiPodopr&#238;gora Then I think your question is misleading, because &quot;guaranteed creation of only one instance&quot; isn&#39;t sufficient for thread safety.","body":"@AndreiPodopr&#238;gora Then I think your question is misleading, because &quot;guaranteed creation of only one instance&quot; isn&#39;t sufficient for thread safety."}],"answers":[{"tags":[],"owner":{"account_id":2820825,"reputation":795,"user_id":2424620,"display_name":"Arthur Dent"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1372335304,"creation_date":1372335304,"answer_id":17342887,"question_id":17342850,"body_markdown":"Spring singleton beans are NOT thread-safe just because Spring instantiates them.  Sorry.","title":"Are Spring singleton beans thread-safe?","body":"<p>Spring singleton beans are NOT thread-safe just because Spring instantiates them.  Sorry.</p>\n"},{"tags":[],"owner":{"account_id":422964,"reputation":33654,"user_id":802050,"accept_rate":89,"display_name":"M Sach"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1372335465,"creation_date":1372335465,"answer_id":17342942,"question_id":17342850,"body_markdown":"Spring just manage the life cycle of singleton bean and maintains single instance of object. Thread safety has nothing to do with it. \r\n\r\n&gt; if not then why?\r\n\r\nBecause singleton and thread safety are two different concepts. You can go for thread safety with synchronized keyword","title":"Are Spring singleton beans thread-safe?","body":"<p>Spring just manage the life cycle of singleton bean and maintains single instance of object. Thread safety has nothing to do with it. </p>\n\n<blockquote>\n  <p>if not then why?</p>\n</blockquote>\n\n<p>Because singleton and thread safety are two different concepts. You can go for thread safety with synchronized keyword</p>\n"},{"tags":[],"owner":{"account_id":37187,"reputation":46683,"user_id":106261,"accept_rate":87,"display_name":"NimChimpsky"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1372335546,"creation_date":1372335546,"answer_id":17342966,"question_id":17342850,"body_markdown":"&gt;  if not then why?\r\n\r\nbecuase you could have a reference to non-threadsafe objects in your singleton. \r\n\r\nBut if you don&#39;t, and you use spring to inject any instance variables then yes they are thread safe.","title":"Are Spring singleton beans thread-safe?","body":"<blockquote>\n  <p>if not then why?</p>\n</blockquote>\n\n<p>becuase you could have a reference to non-threadsafe objects in your singleton. </p>\n\n<p>But if you don't, and you use spring to inject any instance variables then yes they are thread safe.</p>\n"},{"tags":[],"owner":{"account_id":2468965,"reputation":26450,"user_id":2151351,"display_name":"a better oliver"},"down_vote_count":2,"up_vote_count":43,"is_accepted":false,"score":41,"last_activity_date":1372338404,"creation_date":1372338404,"answer_id":17344009,"question_id":17342850,"body_markdown":"No. The two concepts are not even related.\r\n\r\nSingletons are about **creation**. This design pattern ensures that only one instance of a class is created.\r\n\r\nThread safety is about **execution**. To quote [Wikipedia][1]:\r\n\r\n&gt; A piece of code is thread-safe if it only manipulates shared data structures in a manner that guarantees safe execution by multiple threads at the same time.\r\n\r\nSo eventually thread safety depends on the code and the code only. And this is the reason why Spring beans are not thread safe per se.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Thread_safety","title":"Are Spring singleton beans thread-safe?","body":"<p>No. The two concepts are not even related.</p>\n\n<p>Singletons are about <strong>creation</strong>. This design pattern ensures that only one instance of a class is created.</p>\n\n<p>Thread safety is about <strong>execution</strong>. To quote <a href=\"http://en.wikipedia.org/wiki/Thread_safety\">Wikipedia</a>:</p>\n\n<blockquote>\n  <p>A piece of code is thread-safe if it only manipulates shared data structures in a manner that guarantees safe execution by multiple threads at the same time.</p>\n</blockquote>\n\n<p>So eventually thread safety depends on the code and the code only. And this is the reason why Spring beans are not thread safe per se.</p>\n"},{"tags":[],"owner":{"account_id":2096763,"reputation":1,"user_id":1865328,"display_name":"user1865328"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395248207,"creation_date":1395248207,"answer_id":22512923,"question_id":17342850,"body_markdown":"Spring doesn&#39;t guarantee thread-safety. It will be your responsibility . Spring will create a Singleton , but if its mutable then it might not be thread safe. IT&#39;S programmer responsibility to take care the spring bean class such way it should be thread safe.","title":"Are Spring singleton beans thread-safe?","body":"<p>Spring doesn't guarantee thread-safety. It will be your responsibility . Spring will create a Singleton , but if its mutable then it might not be thread safe. IT'S programmer responsibility to take care the spring bean class such way it should be thread safe.</p>\n"},{"tags":[],"owner":{"account_id":10418766,"reputation":1,"user_id":7682027,"display_name":"Rajeswari Nandam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489478731,"creation_date":1489469050,"answer_id":42778304,"question_id":17342850,"body_markdown":"In Spring, singleton beans will not have any state (stateless). Singleton bean scope ensures that single instance per BeanFactory. So in multi threading environment it will not assure the single instance even with singleton bean scope. \r\n\r\nSo to fix this, we need to change the bean scope from **singleton** scope to **prototype** scope as it is the developers responsibility to ensure the thread safety. ","title":"Are Spring singleton beans thread-safe?","body":"<p>In Spring, singleton beans will not have any state (stateless). Singleton bean scope ensures that single instance per BeanFactory. So in multi threading environment it will not assure the single instance even with singleton bean scope. </p>\n\n<p>So to fix this, we need to change the bean scope from <strong>singleton</strong> scope to <strong>prototype</strong> scope as it is the developers responsibility to ensure the thread safety. </p>\n"},{"tags":[],"owner":{"account_id":11423263,"reputation":269,"user_id":8374067,"display_name":"sunil bhardwaj"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1507789375,"creation_date":1507789375,"answer_id":46702770,"question_id":17342850,"body_markdown":"I have different perception:\r\nSpring singleton beans are created once and there can be only one instance available at any point of time.\r\n\r\nLets say your have an instance variable which is modified in an non-synchronized method. In multi-threaded environment,same class instance will be assigned to all the threads and 2 concurrent threads can update/change the instance variables which may lead unexpected situation. \r\nSingleton beans does not provide thread safety and now you know that instance variables usage may lead to unexpected result, you have 2 options to solve the same : \r\n\r\n1. Don&#39;t use instance variables in multithreaded environment.\r\nOR\r\n2. Use synchronized block/keyword on methods wherever the instance variables are modified to avoid unexpected results.\r\n","title":"Are Spring singleton beans thread-safe?","body":"<p>I have different perception:\nSpring singleton beans are created once and there can be only one instance available at any point of time.</p>\n\n<p>Lets say your have an instance variable which is modified in an non-synchronized method. In multi-threaded environment,same class instance will be assigned to all the threads and 2 concurrent threads can update/change the instance variables which may lead unexpected situation. \nSingleton beans does not provide thread safety and now you know that instance variables usage may lead to unexpected result, you have 2 options to solve the same : </p>\n\n<ol>\n<li>Don't use instance variables in multithreaded environment.\nOR</li>\n<li>Use synchronized block/keyword on methods wherever the instance variables are modified to avoid unexpected results.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5935179,"reputation":371,"user_id":4668446,"display_name":"Ripudaman Singh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1543859633,"creation_date":1543859327,"answer_id":53599128,"question_id":17342850,"body_markdown":"Singleton Beans is thread safe or not depends on how the class whose scope is singleton is written. Each calling thread will have its own execution and does not interfere with another thread&#39;s execution unless there is some code in the singleton scoped class which is shared by all calling threads.e.g if a class has globally declared variables that is being accessed by its method and the values are modified then this may cause concurrency issue so it is better to have those variables at the method level and not at the class level.","title":"Are Spring singleton beans thread-safe?","body":"<p>Singleton Beans is thread safe or not depends on how the class whose scope is singleton is written. Each calling thread will have its own execution and does not interfere with another thread's execution unless there is some code in the singleton scoped class which is shared by all calling threads.e.g if a class has globally declared variables that is being accessed by its method and the values are modified then this may cause concurrency issue so it is better to have those variables at the method level and not at the class level.</p>\n"},{"tags":[],"owner":{"account_id":3380175,"reputation":3541,"user_id":2837359,"accept_rate":67,"display_name":"404 Not Found"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1699605819,"creation_date":1571222198,"answer_id":58411310,"question_id":17342850,"body_markdown":"No , Spring singelton bean is not thread safe , Here is example\r\n\r\n  \r\n    public class Emmloyee {\r\n\r\n\tprivate int id;\r\n\t\r\n\tprivate String name;\r\n\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\t\r\n\t\r\n    }\r\n\r\n\r\nAnd here is `applicationContext.xml`\r\n\r\n      &lt;bean id=&quot;emp&quot; class=&quot;com.manikant.Emmloyee&quot; p:id=&quot;26&quot;  p:name=&quot;Manikant Gautam&quot;&gt;\r\n   &lt;/bean&gt;\r\nAnd here is test class\r\n\r\n       public class Test {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tApplicationContext ctx=new ClassPathXmlApplicationContext(&quot;com/manikant/config.xml&quot;);\r\n\t\tEmmloyee emp=(Emmloyee)ctx.getBean(&quot;emp&quot;);\r\n\t\tSystem.out.println(&quot;User &quot;+emp.getName() + &quot; is of age &quot;+emp.getId());\r\n\t\temp.setName(&quot;Changed value&quot;);\r\n\t\t\r\n\t\tEmmloyee emp1=(Emmloyee)ctx.getBean(&quot;emp&quot;);\r\n\t\tSystem.out.println(&quot;User &quot;+emp1.getName() + &quot; is of age &quot;+emp1.getId());\r\n\t\t\r\n\t\r\n\t}\r\n\r\n    }\r\n\r\nHere is output \r\n        \r\n          User **Manikant Gautam** is of age 26\r\n   \r\n          User **Changed value** is of age 26\r\n\r\nchange in `value` by `emp.setName(&quot;Changed value&quot;);` reflects on different `bean emp1` also . ","title":"Are Spring singleton beans thread-safe?","body":"<p>No , Spring singelton bean is not thread safe , Here is example</p>\n<pre><code>public class Emmloyee {\n\nprivate int id;\n\nprivate String name;\n\npublic int getId() {\n    return id;\n}\n\npublic void setId(int id) {\n    this.id = id;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n\n\n}\n</code></pre>\n<p>And here is <code>applicationContext.xml</code></p>\n<pre><code>  &lt;bean id=&quot;emp&quot; class=&quot;com.manikant.Emmloyee&quot; p:id=&quot;26&quot;  p:name=&quot;Manikant Gautam&quot;&gt;\n</code></pre>\n   \nAnd here is test class\n<pre><code>   public class Test {\n\npublic static void main(String[] args) {\n\n    ApplicationContext ctx=new ClassPathXmlApplicationContext(&quot;com/manikant/config.xml&quot;);\n    Emmloyee emp=(Emmloyee)ctx.getBean(&quot;emp&quot;);\n    System.out.println(&quot;User &quot;+emp.getName() + &quot; is of age &quot;+emp.getId());\n    emp.setName(&quot;Changed value&quot;);\n    \n    Emmloyee emp1=(Emmloyee)ctx.getBean(&quot;emp&quot;);\n    System.out.println(&quot;User &quot;+emp1.getName() + &quot; is of age &quot;+emp1.getId());\n    \n\n}\n\n}\n</code></pre>\n<p>Here is output</p>\n<pre><code>      User **Manikant Gautam** is of age 26\n\n      User **Changed value** is of age 26\n</code></pre>\n<p>change in <code>value</code> by <code>emp.setName(&quot;Changed value&quot;);</code> reflects on different <code>bean emp1</code> also .</p>\n"},{"tags":[],"owner":{"account_id":6098137,"reputation":21,"user_id":4965075,"display_name":"Mohit Gupta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571413845,"creation_date":1571413845,"answer_id":58454301,"question_id":17342850,"body_markdown":"According to my view, it totally thread safety of your singleton class totally depends on you have design/written your singleton class.\r\n\r\nIf there is any global variable defined the singleton class then it will not be thread safe because if multiple thread share the singleton object and execute the method which can updates the global variable it will not be thread safe.\r\n\r\nTo make any singleton class thread safe it is advised that make that class stateless means you should avoid defining the global variable in the singleton class.","title":"Are Spring singleton beans thread-safe?","body":"<p>According to my view, it totally thread safety of your singleton class totally depends on you have design/written your singleton class.</p>\n\n<p>If there is any global variable defined the singleton class then it will not be thread safe because if multiple thread share the singleton object and execute the method which can updates the global variable it will not be thread safe.</p>\n\n<p>To make any singleton class thread safe it is advised that make that class stateless means you should avoid defining the global variable in the singleton class.</p>\n"},{"tags":[],"owner":{"account_id":4389573,"reputation":73,"user_id":3578460,"display_name":"Mowgli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614713478,"creation_date":1614713478,"answer_id":66445921,"question_id":17342850,"body_markdown":"My service was called by upstream using parallel processing and it crashed my application. While thread 1 was working on beanA, another request arrived and it set some parameters of beanA. When my beanA was stored in database, I verified that it was a complete mess. I fixed it by using prototype.","title":"Are Spring singleton beans thread-safe?","body":"<p>My service was called by upstream using parallel processing and it crashed my application. While thread 1 was working on beanA, another request arrived and it set some parameters of beanA. When my beanA was stored in database, I verified that it was a complete mess. I fixed it by using prototype.</p>\n"},{"tags":[],"owner":{"account_id":8625795,"reputation":69,"user_id":6459075,"display_name":"Kartik Parihar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658168943,"creation_date":1658168943,"answer_id":73026990,"question_id":17342850,"body_markdown":"Spring singleton bean define the single instance is created by BeanAwareFactory in spring IOC container. But when we try to use the same bean in multiple threads then the simultaneous access can cause unexpected behaviour as it not thread safe.\r\n\r\nSingleton is about creating object instance in IOC container. So when running multiple thread then it’s about runtime behaviour.\r\n\r\nAnd the value of same object can be performed by both threads as there’s no restriction on it for multiple thread accesst.","title":"Are Spring singleton beans thread-safe?","body":"<p>Spring singleton bean define the single instance is created by BeanAwareFactory in spring IOC container. But when we try to use the same bean in multiple threads then the simultaneous access can cause unexpected behaviour as it not thread safe.</p>\n<p>Singleton is about creating object instance in IOC container. So when running multiple thread then it’s about runtime behaviour.</p>\n<p>And the value of same object can be performed by both threads as there’s no restriction on it for multiple thread accesst.</p>\n"}],"owner":{"account_id":2966075,"reputation":533,"user_id":2519199,"display_name":"Mounica Reddy"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77433,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"answer_count":12,"score":45,"last_activity_date":1699605819,"creation_date":1372335182,"question_id":17342850,"body_markdown":"I want to know whether the Spring singleton beans are thread-safe, if yes then why, if not then why? \r\n\r\nAs I am beginner with spring so help would be appreciated.\r\n\r\n                             ","title":"Are Spring singleton beans thread-safe?","body":"<p>I want to know whether the Spring singleton beans are thread-safe, if yes then why, if not then why? </p>\n\n<p>As I am beginner with spring so help would be appreciated.</p>\n"},{"tags":["java","windows","command-line","java-platform-module-system"],"owner":{"account_id":3463427,"reputation":569,"user_id":2899760,"display_name":"Chisey88"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699605540,"creation_date":1699605540,"question_id":77458652,"body_markdown":"I&#39;m trying to learn the &quot;new&quot; Jigsaw Module system and I&#39;m trying to build a simple application from scratch via the Windows command line / no IDE (because it is necessary for the oracle certificate).\r\n\r\nNow I have the problem that my application needs some javaFX modules which I have all defined in my module-info.java file:\r\n\r\n    module main.java.com.injection.configuration{\r\n\r\n    requires javafx.base;\r\n    requires javafx.fxml;\r\n    requires javafx.graphics;\r\n    \r\n}\r\n\r\n\r\nI copied the jar files (all javafx jars are modules too) from Maven repo and put them in the mods folder.\r\n\r\nAfter that I compiled the application successfully.\r\n\r\n    $ javac --module-path mods/ -d out/ src/main/java/com/injection/configuration/*.java src/main/java/com/injection/injection/*.java src/main/java/com/injection/views/*.java src/module-info.java\r\n\r\n`Note: src\\main\\java\\com\\injection\\injection\\Injector.java uses or overrides a deprecated API.\r\n    Note: Recompile with -Xlint:deprecation for details.`&#39;\r\n\r\n\r\n\r\nBut as soon as I try to run the application, following exception is thrown (although all necessary jars are in the folder): \r\n\r\n    $ java --module-path out/ --module main.java.com.injection.configuration/main.java.com.injection.configuration.Configuration\r\n\r\n`Error occurred during initialization of boot layer\r\njava.lang.module.FindException: Module javafx.base not found, required by main.java.com.injection.configuration`\r\n\r\n\r\n\r\nPlease can you help me? What is the right way to deal with &quot;external&quot; jars (e.g.: from the openjfx sdk) via command line \r\nKind Regards \r\n","title":"Jigsaw Modules (Command Line/no IDE): java.lang.module.FindException: Module javafx.base not found, required by main.java.com.injection.configuration","body":"<p>I'm trying to learn the &quot;new&quot; Jigsaw Module system and I'm trying to build a simple application from scratch via the Windows command line / no IDE (because it is necessary for the oracle certificate).</p>\n<p>Now I have the problem that my application needs some javaFX modules which I have all defined in my module-info.java file:</p>\n<pre><code>module main.java.com.injection.configuration{\n\nrequires javafx.base;\nrequires javafx.fxml;\nrequires javafx.graphics;\n</code></pre>\n<p>}</p>\n<p>I copied the jar files (all javafx jars are modules too) from Maven repo and put them in the mods folder.</p>\n<p>After that I compiled the application successfully.</p>\n<pre><code>$ javac --module-path mods/ -d out/ src/main/java/com/injection/configuration/*.java src/main/java/com/injection/injection/*.java src/main/java/com/injection/views/*.java src/module-info.java\n</code></pre>\n<p><code>Note: src\\main\\java\\com\\injection\\injection\\Injector.java uses or overrides a deprecated API. Note: Recompile with -Xlint:deprecation for details.</code>'</p>\n<p>But as soon as I try to run the application, following exception is thrown (although all necessary jars are in the folder):</p>\n<pre><code>$ java --module-path out/ --module main.java.com.injection.configuration/main.java.com.injection.configuration.Configuration\n</code></pre>\n<p><code>Error occurred during initialization of boot layer java.lang.module.FindException: Module javafx.base not found, required by main.java.com.injection.configuration</code></p>\n<p>Please can you help me? What is the right way to deal with &quot;external&quot; jars (e.g.: from the openjfx sdk) via command line\nKind Regards</p>\n"},{"tags":["java","multithreading","freeze"],"comments":[{"owner":{"account_id":10245746,"reputation":145,"user_id":7561583,"display_name":"Kerwin Bryant"},"score":0,"creation_date":1699604968,"post_id":77458592,"comment_id":136555515,"body_markdown":"I saw that the program&#39;s memory is very sufficient, and there is no CPU occupation.","body":"I saw that the program&#39;s memory is very sufficient, and there is no CPU occupation."}],"owner":{"account_id":10245746,"reputation":145,"user_id":7561583,"display_name":"Kerwin Bryant"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1699605537,"creation_date":1699604842,"question_id":77458592,"body_markdown":"The code is:\r\n```java\r\n//=========\r\n//classA\r\n//=========\r\nprivate static final int CORE_POOL_SIZE = Math.max(1, Runtime.getRuntime().availableProcessors() / 2);\r\nprivate static final int MAX_POOL_SIZE = CORE_POOL_SIZE + 1;\r\nprivate static final int KEEP_ALIVE_TIME = 60;\r\nprivate static final int MAX_QUEUE_SIZE = 100000;\r\nprivate ThreadPoolExecutor pool = new ThreadPoolExecutor(CORE_POOL_SIZE, MAX_POOL_SIZE, KEEP_ALIVE_TIME, TimeUnit.SECONDS, new LinkedBlockingQueue&lt;Runnable&gt;(MAX_QUEUE_SIZE));\r\n\r\npublic void addTask(final String md5) {\r\n    pool.submit(() -&gt; {\r\n        try {\r\n            logger.info(&quot;a1&quot;);\r\n            doAction(md5);\r\n            logger.info(&quot;a2&quot;);\r\n        } catch (Exception e) {\r\n            logger.error(&quot;a3&quot;);\r\n        }\r\n    });\r\n}\r\n\r\nprivate void doAction(final String md5) throws Exception {\r\n    logger.error(&quot;b1&quot;);\r\n    saveFile(getFileByMd5(md5), md5);\r\n    logger.error(&quot;b2&quot;);\r\n}\r\n\r\npublic void saveFile(final File file, final String md5) throws Exception {\r\n    synchronized (md5.intern()) {\r\n        log.info(&quot;c1&quot;);\r\n        FileAttUtils.parseFileInfo(file);\r\n        log.info(&quot;c2&quot;);\r\n    }\r\n}\r\n\r\n//=========\r\n//classB\r\n//=========\r\npublic class FileAttUtils {\r\n    public static Map&lt;String, Object&gt; parseFileInfo(File file) {\r\n        log.info(&quot;d1&quot;);\r\n        SimpleImageInfo image = new SimpleImageInfo(file.getAbsolutePath());\r\n        log.info(&quot;d2&quot;);\r\n    }\r\n}\r\n\r\n//=========\r\n//classC\r\n//=========\r\npublic class SimpleImageInfo { \r\n  \r\n  public SimpleImageInfo(String path) {\r\n    String suffix = getFileSuffix(path);\r\n    log.info(&quot;e1&quot;);\r\n    InputStream is = null;\r\n    try {\r\n      ...\r\n    } catch (IOException e) {\r\n      e.printStackTrace();\r\n    } finally {\r\n      ...\r\n    } \r\n  }\r\n  \r\n  private static String getFileSuffix(String path) {\r\n    String result = null;\r\n    if (path != null) {\r\n      result = &quot;&quot;;\r\n      if (path.lastIndexOf(&#39;.&#39;) != -1) {\r\n        result = path.substring(path.lastIndexOf(&#39;.&#39;));\r\n        if (result.startsWith(&quot;.&quot;))\r\n          result = result.substring(1); \r\n      } \r\n    } \r\n    log.info(&quot;getFileSuffix: {}&quot;, result);\r\n    return result;\r\n  }\r\n  \r\n}\r\n```  \r\n\r\nWhen `addTask` is called in the program, the `log` displays the following:\r\n```txt\r\n[pool-2-thread-1] xxxxx: a1\r\n[pool-2-thread-2] xxxxx: a1\r\n[pool-2-thread-1] xxxxx: b1\r\n[pool-2-thread-2] xxxxx: b1\r\n[pool-2-thread-1] xxxxx: c1\r\n[pool-2-thread-2] xxxxx: c1\r\n[pool-2-thread-1] xxxxx: d1\r\n[pool-2-thread-2] xxxxx: d1\r\n```\r\n\r\nThe program seems to be stuck in this line:\r\n```java\r\nSimpleImageInfo image = new SimpleImageInfo(file.getAbsolutePath());\r\n```\r\n\r\nBut from the log, it seems that the program did not enter the `SimpleImageInfo#constructor` at all (because `e1` is not printed)  \r\n\r\nI observed the following two thread messages using `jstack`:  \r\n```txt\r\n&quot;pool-2-thread-2&quot; #56 prio=5 os_prio=0 tid=0x00007fb6dc003000 nid=0x4e54 waiting on condition [0x00007fb754fe4000]\r\n   java.lang.Thread.State: WAITING (parking)\r\n        at sun.misc.Unsafe.park(Native Method)\r\n        - parking to wait for  &lt;0x00000006c1931ae8&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\r\n        at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\r\n        at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\r\n        at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n        at java.lang.Thread.run(Thread.java:748)\r\n\r\n   Locked ownable synchronizers:\r\n        - None\r\n\r\n&quot;pool-2-thread-1&quot; #55 prio=5 os_prio=0 tid=0x00007fb6dc002000 nid=0x4e53 waiting on condition [0x00007fb75fe51000]\r\n   java.lang.Thread.State: WAITING (parking)\r\n        at sun.misc.Unsafe.park(Native Method)\r\n        - parking to wait for  &lt;0x00000006c1931ae8&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\r\n        at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\r\n        at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\r\n        at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n        at java.lang.Thread.run(Thread.java:748)\r\n\r\n   Locked ownable synchronizers:\r\n        - None\r\n```  \r\n\r\nI searched all the output of `jstack`, but I couldn&#39;t find the thread `0x00000006c1931ae8`(parking to wait for  &lt;0x00000006c1931ae8&gt;).  \r\n\r\nI wonder why my program is stuck? Why does code in thread go into waiting state halfway through execution?\r\n\r\n","title":"Java thread stuck","body":"<p>The code is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//=========\n//classA\n//=========\nprivate static final int CORE_POOL_SIZE = Math.max(1, Runtime.getRuntime().availableProcessors() / 2);\nprivate static final int MAX_POOL_SIZE = CORE_POOL_SIZE + 1;\nprivate static final int KEEP_ALIVE_TIME = 60;\nprivate static final int MAX_QUEUE_SIZE = 100000;\nprivate ThreadPoolExecutor pool = new ThreadPoolExecutor(CORE_POOL_SIZE, MAX_POOL_SIZE, KEEP_ALIVE_TIME, TimeUnit.SECONDS, new LinkedBlockingQueue&lt;Runnable&gt;(MAX_QUEUE_SIZE));\n\npublic void addTask(final String md5) {\n    pool.submit(() -&gt; {\n        try {\n            logger.info(&quot;a1&quot;);\n            doAction(md5);\n            logger.info(&quot;a2&quot;);\n        } catch (Exception e) {\n            logger.error(&quot;a3&quot;);\n        }\n    });\n}\n\nprivate void doAction(final String md5) throws Exception {\n    logger.error(&quot;b1&quot;);\n    saveFile(getFileByMd5(md5), md5);\n    logger.error(&quot;b2&quot;);\n}\n\npublic void saveFile(final File file, final String md5) throws Exception {\n    synchronized (md5.intern()) {\n        log.info(&quot;c1&quot;);\n        FileAttUtils.parseFileInfo(file);\n        log.info(&quot;c2&quot;);\n    }\n}\n\n//=========\n//classB\n//=========\npublic class FileAttUtils {\n    public static Map&lt;String, Object&gt; parseFileInfo(File file) {\n        log.info(&quot;d1&quot;);\n        SimpleImageInfo image = new SimpleImageInfo(file.getAbsolutePath());\n        log.info(&quot;d2&quot;);\n    }\n}\n\n//=========\n//classC\n//=========\npublic class SimpleImageInfo { \n  \n  public SimpleImageInfo(String path) {\n    String suffix = getFileSuffix(path);\n    log.info(&quot;e1&quot;);\n    InputStream is = null;\n    try {\n      ...\n    } catch (IOException e) {\n      e.printStackTrace();\n    } finally {\n      ...\n    } \n  }\n  \n  private static String getFileSuffix(String path) {\n    String result = null;\n    if (path != null) {\n      result = &quot;&quot;;\n      if (path.lastIndexOf('.') != -1) {\n        result = path.substring(path.lastIndexOf('.'));\n        if (result.startsWith(&quot;.&quot;))\n          result = result.substring(1); \n      } \n    } \n    log.info(&quot;getFileSuffix: {}&quot;, result);\n    return result;\n  }\n  \n}\n</code></pre>\n<p>When <code>addTask</code> is called in the program, the <code>log</code> displays the following:</p>\n<pre><code>[pool-2-thread-1] xxxxx: a1\n[pool-2-thread-2] xxxxx: a1\n[pool-2-thread-1] xxxxx: b1\n[pool-2-thread-2] xxxxx: b1\n[pool-2-thread-1] xxxxx: c1\n[pool-2-thread-2] xxxxx: c1\n[pool-2-thread-1] xxxxx: d1\n[pool-2-thread-2] xxxxx: d1\n</code></pre>\n<p>The program seems to be stuck in this line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SimpleImageInfo image = new SimpleImageInfo(file.getAbsolutePath());\n</code></pre>\n<p>But from the log, it seems that the program did not enter the <code>SimpleImageInfo#constructor</code> at all (because <code>e1</code> is not printed)</p>\n<p>I observed the following two thread messages using <code>jstack</code>:</p>\n<pre><code>&quot;pool-2-thread-2&quot; #56 prio=5 os_prio=0 tid=0x00007fb6dc003000 nid=0x4e54 waiting on condition [0x00007fb754fe4000]\n   java.lang.Thread.State: WAITING (parking)\n        at sun.misc.Unsafe.park(Native Method)\n        - parking to wait for  &lt;0x00000006c1931ae8&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n        at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\n        at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\n        at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at java.lang.Thread.run(Thread.java:748)\n\n   Locked ownable synchronizers:\n        - None\n\n&quot;pool-2-thread-1&quot; #55 prio=5 os_prio=0 tid=0x00007fb6dc002000 nid=0x4e53 waiting on condition [0x00007fb75fe51000]\n   java.lang.Thread.State: WAITING (parking)\n        at sun.misc.Unsafe.park(Native Method)\n        - parking to wait for  &lt;0x00000006c1931ae8&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n        at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\n        at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\n        at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at java.lang.Thread.run(Thread.java:748)\n\n   Locked ownable synchronizers:\n        - None\n</code></pre>\n<p>I searched all the output of <code>jstack</code>, but I couldn't find the thread <code>0x00000006c1931ae8</code>(parking to wait for  &lt;0x00000006c1931ae8&gt;).</p>\n<p>I wonder why my program is stuck? Why does code in thread go into waiting state halfway through execution?</p>\n"},{"tags":["java","security","nashorn"],"owner":{"account_id":25415235,"reputation":13,"user_id":19222283,"display_name":"MIX 2000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699604934,"creation_date":1699604907,"question_id":77458598,"body_markdown":"I am using the following code to execute the statements\r\n\r\n```\r\n\r\nNashornSandbox sandbox = NashornSandboxes.create();\r\n\r\n\t\t String input = &quot;(20&gt;=10 &amp;&amp; 19&lt;=20 || 33&gt;30 ) &amp;&amp;  233&gt;30&quot;;\r\n\t\t  try {\r\n\t            // Evaluate the logical expression\r\n\t            Object result = sandbox.eval(input);\r\n\r\n\t            if (result instanceof Boolean) {\r\n\t                boolean booleanResult = (boolean) result;\r\n\t                System.out.println(&quot;Result: &quot; + booleanResult);\r\n\t            } else {\r\n\t                System.out.println(&quot;Invalid expression: Result is not a boolean&quot;);\r\n\t            }\r\n\t        } catch (ScriptException e) {\r\n\t            System.out.println(&quot;Invalid expression: &quot; + e.getMessage());\r\n\t        }\r\n```\r\nhow to only allow execute logic expressions and prevent while,for,exist and everything else.\r\n","title":"How to use NashornSandbox in safe way","body":"<p>I am using the following code to execute the statements</p>\n<pre><code>\nNashornSandbox sandbox = NashornSandboxes.create();\n\n         String input = &quot;(20&gt;=10 &amp;&amp; 19&lt;=20 || 33&gt;30 ) &amp;&amp;  233&gt;30&quot;;\n          try {\n                // Evaluate the logical expression\n                Object result = sandbox.eval(input);\n\n                if (result instanceof Boolean) {\n                    boolean booleanResult = (boolean) result;\n                    System.out.println(&quot;Result: &quot; + booleanResult);\n                } else {\n                    System.out.println(&quot;Invalid expression: Result is not a boolean&quot;);\n                }\n            } catch (ScriptException e) {\n                System.out.println(&quot;Invalid expression: &quot; + e.getMessage());\n            }\n</code></pre>\n<p>how to only allow execute logic expressions and prevent while,for,exist and everything else.</p>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":4603196,"reputation":1932,"user_id":3733369,"accept_rate":44,"display_name":"rodridevops"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1481604269,"creation_date":1481594913,"answer_id":41112687,"question_id":41111977,"body_markdown":"I worked on some **possible** solution using regular expressions:\r\n\r\n 1. Get the String representation of the array:\r\n\r\n      From:`{ 0 , 0 , 0 , 2 , 0 , 2 , 0 , 2 , 0 , 0 };`\r\n    \r\n      To: `0002020200`\r\n\r\n 2. Remove leading and trailing zeros from the string.\r\n\r\n      so, what we have so far is: `20202`\r\n\r\n 3. Now you have to options:\r\n\r\n 3.1. If resulting string length is &lt; 2 `return false`. This fits the two non-zero elements requirement.\r\n\r\n 3.2. If &gt;= 2 return matching with regex `^(((-*)[1-9]+)([0]{&quot; + n + &quot;})+)+((-*)[1-9]+)$` (it could be true or false depending on the case).\r\n\r\n&gt; The regex matches any quantity of numbers (negative included)\r\n&gt; separated by n zeros between them.\r\n\r\n\r\n----------\r\n##Implementation:##\r\n\r\nThis implementation takes the input from your question (you could test it further) and return true or false after previous pseudo-algorithm evaluation. I also print the current string (from step 2) with informational purposes.\r\n\r\n###MainProgram:###\r\n\r\n    import java.util.Arrays;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class Nzero\r\n    {\r\n    \tpublic static void main ( String [ ] args )\r\n    \t{\r\n    \t\t\r\n    \t\tint [ ] arr1 = { 0 , 0 , 0 , 2 , 0 , 2 , 0 , 2 , 0 , 0 };\r\n    \t\tint [ ] arr2 = { 12 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , - 8 };\r\n    \t\tint [ ] arr3 = { 0 , 0 , 0 , 0 , 5 , 0 , 0 , 4 , 0 , 0 , 6 };\r\n    \t\tint [ ] arr4 = { 0 , 0 , 0 , 0 , 5 , 0 , 0 , 4 , 0 , 0 , 0 , 6 };\r\n    \t\tint [ ] arr5 = { 0 , 0 , 0 , 0 , 5 , 0 , 4 , 0 , 0 , 6 };\r\n    \t\tint [ ] arr6 = { 0 , 0 , 0 , 0 };\r\n    \t\tint [ ] arr7 = { 0 , 0 , 1 , 0 , 0 };\r\n    \t\t\r\n    \t\tSystem.out.println ( isNzeroPack ( arr1 , 1 ) ); // true\r\n    \t\tSystem.out.println ( isNzeroPack ( arr2 , 7 ) ); // true\r\n    \t\tSystem.out.println ( isNzeroPack ( arr3 , 2 ) ); // true\r\n    \t\tSystem.out.println ( isNzeroPack ( arr4 , 2 ) ); // false\r\n    \t\tSystem.out.println ( isNzeroPack ( arr5 , 2 ) ); // false\r\n    \t\tSystem.out.println ( isNzeroPack ( arr6 , 3 ) ); // false\r\n    \t\tSystem.out.println ( isNzeroPack ( arr7 , 2 ) ); // false\r\n    \r\n    \t}\r\n    \r\n    \tprivate static boolean isNzeroPack ( int [ ] arr , int n )\r\n    \t{\r\n    \t\t\r\n    \t\tString numbers = Arrays.toString ( arr ).replaceAll ( &quot;\\\\[|\\\\]|,|\\\\s&quot; , &quot;&quot; );\r\n    \t\tnumbers = numbers.replaceAll ( &quot;[0]+$&quot; , &quot;&quot; );\r\n    \t\tnumbers = numbers.replaceFirst ( &quot;^0+(?!$)&quot; , &quot;&quot; );\r\n    \t\t//informational print\r\n    \t\tSystem.out.println ( numbers );\r\n    \t\t\r\n    \t\tPattern pattern = Pattern.compile ( &quot;^(((-*)[1-9]+)([0]{&quot; + n + &quot;})+)+((-*)[1-9]+)$&quot; );\r\n    \t\treturn numbers.length ( ) &lt; 2 ? false : pattern.matcher ( numbers ).find ( );\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n##Output:##\r\n\r\n    20202\r\n    true\r\n    120000000-8\r\n    true\r\n    5004006\r\n    true\r\n    50040006\r\n    false\r\n    504006\r\n    false\r\n    \r\n    false\r\n    1\r\n    false\r\n\r\n**Note:** there is an empty line on the output (it&#39;s expected).\r\n\r\nI hope it helps :)\r\n\r\n","title":"n-zero-packed array is a The function returns true if its array argument is n-zero-packed","body":"<p>I worked on some <strong>possible</strong> solution using regular expressions:</p>\n\n<ol>\n<li><p>Get the String representation of the array:</p>\n\n<p>From:<code>{ 0 , 0 , 0 , 2 , 0 , 2 , 0 , 2 , 0 , 0 };</code></p>\n\n<p>To: <code>0002020200</code></p></li>\n<li><p>Remove leading and trailing zeros from the string.</p>\n\n<p>so, what we have so far is: <code>20202</code></p></li>\n<li><p>Now you have to options:</p>\n\n<p>3.1. If resulting string length is &lt; 2 <code>return false</code>. This fits the two non-zero elements requirement.</p>\n\n<p>3.2. If >= 2 return matching with regex <code>^(((-*)[1-9]+)([0]{\" + n + \"})+)+((-*)[1-9]+)$</code> (it could be true or false depending on the case).</p></li>\n</ol>\n\n<blockquote>\n  <p>The regex matches any quantity of numbers (negative included)\n  separated by n zeros between them.</p>\n</blockquote>\n\n<hr>\n\n<h2>Implementation:</h2>\n\n<p>This implementation takes the input from your question (you could test it further) and return true or false after previous pseudo-algorithm evaluation. I also print the current string (from step 2) with informational purposes.</p>\n\n<h3>MainProgram:</h3>\n\n<pre><code>import java.util.Arrays;\nimport java.util.regex.Pattern;\n\npublic class Nzero\n{\n    public static void main ( String [ ] args )\n    {\n\n        int [ ] arr1 = { 0 , 0 , 0 , 2 , 0 , 2 , 0 , 2 , 0 , 0 };\n        int [ ] arr2 = { 12 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , - 8 };\n        int [ ] arr3 = { 0 , 0 , 0 , 0 , 5 , 0 , 0 , 4 , 0 , 0 , 6 };\n        int [ ] arr4 = { 0 , 0 , 0 , 0 , 5 , 0 , 0 , 4 , 0 , 0 , 0 , 6 };\n        int [ ] arr5 = { 0 , 0 , 0 , 0 , 5 , 0 , 4 , 0 , 0 , 6 };\n        int [ ] arr6 = { 0 , 0 , 0 , 0 };\n        int [ ] arr7 = { 0 , 0 , 1 , 0 , 0 };\n\n        System.out.println ( isNzeroPack ( arr1 , 1 ) ); // true\n        System.out.println ( isNzeroPack ( arr2 , 7 ) ); // true\n        System.out.println ( isNzeroPack ( arr3 , 2 ) ); // true\n        System.out.println ( isNzeroPack ( arr4 , 2 ) ); // false\n        System.out.println ( isNzeroPack ( arr5 , 2 ) ); // false\n        System.out.println ( isNzeroPack ( arr6 , 3 ) ); // false\n        System.out.println ( isNzeroPack ( arr7 , 2 ) ); // false\n\n    }\n\n    private static boolean isNzeroPack ( int [ ] arr , int n )\n    {\n\n        String numbers = Arrays.toString ( arr ).replaceAll ( \"\\\\[|\\\\]|,|\\\\s\" , \"\" );\n        numbers = numbers.replaceAll ( \"[0]+$\" , \"\" );\n        numbers = numbers.replaceFirst ( \"^0+(?!$)\" , \"\" );\n        //informational print\n        System.out.println ( numbers );\n\n        Pattern pattern = Pattern.compile ( \"^(((-*)[1-9]+)([0]{\" + n + \"})+)+((-*)[1-9]+)$\" );\n        return numbers.length ( ) &lt; 2 ? false : pattern.matcher ( numbers ).find ( );\n\n    }\n\n}\n</code></pre>\n\n<h2>Output:</h2>\n\n<pre><code>20202\ntrue\n120000000-8\ntrue\n5004006\ntrue\n50040006\nfalse\n504006\nfalse\n\nfalse\n1\nfalse\n</code></pre>\n\n<p><strong>Note:</strong> there is an empty line on the output (it's expected).</p>\n\n<p>I hope it helps :)</p>\n"},{"tags":[],"owner":{"account_id":29870717,"reputation":1,"user_id":22892142,"display_name":"Arefaine Haymanot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699604906,"creation_date":1699604906,"answer_id":77458597,"question_id":41111977,"body_markdown":"static int isNZeroPacked(int[] a, int n) {\r\n\t\t\r\n\t\tint nonZeroCount = 0;\r\n\t\tint zeroCount = 0;\r\n\t\tfor(int i = 0; i &lt; a.length; ++i) {\r\n\t\t\t\r\n\t\t\tboolean nZero = false;\r\n\t\t\tif(a[i] == 0)\r\n\t\t\t\tcontinue;\r\n\t\t\telse if(a[i] != 0 &amp;&amp; i == a.length-1) {\r\n\t\t\t\tnonZeroCount++;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\telse if(a[i] != 0 &amp;&amp; i != a.length-1) {\r\n\t\t\t\t\r\n\t\t\t\tnonZeroCount++;\r\n\t\t\t\t\r\n\t\t\t\tfor(int j = i + 1; j &lt;a.length; ++j) {\r\n\t\t\t\t\tif(a[j] != 0)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tzeroCount++;\r\n\t\t\t\t\tif(a[a.length-1] == 0 )\r\n\t\t\t\t\t\tzeroCount = n;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(zeroCount == n)\r\n\t\t\t\t\t\tnZero = true;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(!nZero)\r\n\t\t\t\treturn 0;\r\n\t\t}\r\n\t\tif(nonZeroCount &lt; 2)\r\n\t\t\treturn 0;\r\n\t\treturn 1;\r\n\t}","title":"n-zero-packed array is a The function returns true if its array argument is n-zero-packed","body":"<p>static int isNZeroPacked(int[] a, int n) {</p>\n<pre><code>    int nonZeroCount = 0;\n    int zeroCount = 0;\n    for(int i = 0; i &lt; a.length; ++i) {\n        \n        boolean nZero = false;\n        if(a[i] == 0)\n            continue;\n        else if(a[i] != 0 &amp;&amp; i == a.length-1) {\n            nonZeroCount++;\n            break;\n        }\n            \n        else if(a[i] != 0 &amp;&amp; i != a.length-1) {\n            \n            nonZeroCount++;\n            \n            for(int j = i + 1; j &lt;a.length; ++j) {\n                if(a[j] != 0)\n                    break;\n                zeroCount++;\n                if(a[a.length-1] == 0 )\n                    zeroCount = n;\n                \n                if(zeroCount == n)\n                    nZero = true;\n            }\n            \n        }\n        \n        if(!nZero)\n            return 0;\n    }\n    if(nonZeroCount &lt; 2)\n        return 0;\n    return 1;\n}\n</code></pre>\n"}],"owner":{"account_id":9795977,"reputation":11,"user_id":7259011,"display_name":"Merih"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":278,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":41112687,"answer_count":2,"score":0,"last_activity_date":1699604906,"creation_date":1481589553,"question_id":41111977,"body_markdown":"An array is defined to be n-zero-packed if it contains two or more non-zero elements and exactly n zeroes separate all non-zero elements that would be adjacent if the zeroes were removed. For example, the array {1, 0, 0, 18, 0, 0, -8, 0, 0} is 2-zero-packed because there are two zeroes between the 1 and the 18 and two zeroes between the 18 and the -8 and this accounts for all the non-zero elements. The array {0, 1, 0, 0, 0, 6, 0, 8, 0, 0, 4} is not 2-zero-packed because there are three zeroes between the 1 and the 6 and only one zero between the 6 and the 8\r\nWrite a function named isNZeroPacked with the following signature\r\nboolean isNZeroPacked(int[] a, int n)\r\nThe function returns true if its array argument is n-zero-packed (note that n is passed as one of the arguments of the function\r\n\r\nExamples\r\n\r\n1. {0, 0, 0, 2, 0, 2, 0, 2, 0, 0}\r\nn= 1\r\nans =&gt; True || 1;\r\nbecause exactly 1 zero separates all the non-zero elements of the array\r\n\r\n2. {12, 0, 0, 0, 0, 0, 0, 0, -8}\r\nn=7\r\nans= true || 1\r\nbecause exactly 7 zeroes separate all the non-zero elements of the array\r\n\r\n3. {0, 0, 0, 0, 5, 0, 0, 4, 0, 0, 6}\r\nn=2\r\nans = true || 1\r\nbecause exactly 2 zeroes separate all the non-zero elements of the array\r\n\r\n4. {0, 0, 0, 0, 5, 0, 0, 4, 0, 0, 0, 6}\r\nn=2\r\nans = false || 0\r\nbecause there are three zeroes between the 4 and the 6.\r\n\r\n5. {0, 0, 0, 0, 5, 0, 4, 0, 0, 6}\r\nn=2\r\nans= false || 0\r\nbecause there is only one zero between the 5 and the 4.\r\n\r\n6. {0, 0, 0, 0}\r\nn=3\r\nans= false 0\r\nbecause array must have at least two non-zero elements\r\n\r\n7. {0, 0, 1, 0, 0}\r\nn=2\r\nans= false || 0\r\nbecause array must have at least two non-zero elements\r\n\r\nNote: zeroes at the beginning and end of the array should be ignored. my solutions is down here, any shorter and a simpler code is appreciated \r\n\r\n\r\n\r\n\r\n\r\n   \r\n\r\n     private static boolean isNzeroPack(int[] arr, int n) {\r\n    \r\n    \t\tboolean firstIf = false;\r\n    \t\tboolean secondIf = false;\r\n    \t\tboolean satisfied=false;\r\n    \r\n    \t\tfor (int i = 0; i &lt; arr.length; i++) {\r\n    \t\t\tif (arr[i] != 0) {\r\n    \t\t\t\tfor (int j = i, k = 1; j &lt; arr.length; k++, j++) {\r\n    \t\t\t\t\tif (i - k &gt;= 0 &amp;&amp; !firstIf &amp;&amp; arr[i - k] != 0) {\r\n    \t\t\t\t\t\tif (j - i != n) {\r\n    \t\t\t\t\t\t\treturn false;\r\n    \t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\tfirstIf = true;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tif (((j + 1) &lt; arr.length) &amp;&amp; !secondIf &amp;&amp; (arr[j + 1] != 0)) {\r\n    \t\t\t\t\t\tif (j - i != n) {\r\n    \t\t\t\t\t\t\treturn false;\r\n    \t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\tsecondIf = true;\r\n    \t\t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\tsatisfied = true;\r\n    \t\t\t}\r\n    \t\t\tfirstIf = false;\r\n    \t\t\tsecondIf = false;\r\n    \t\t\t\r\n    \t\t}\r\n    \t\treturn satisfied;\r\n    \t}","title":"n-zero-packed array is a The function returns true if its array argument is n-zero-packed","body":"<p>An array is defined to be n-zero-packed if it contains two or more non-zero elements and exactly n zeroes separate all non-zero elements that would be adjacent if the zeroes were removed. For example, the array {1, 0, 0, 18, 0, 0, -8, 0, 0} is 2-zero-packed because there are two zeroes between the 1 and the 18 and two zeroes between the 18 and the -8 and this accounts for all the non-zero elements. The array {0, 1, 0, 0, 0, 6, 0, 8, 0, 0, 4} is not 2-zero-packed because there are three zeroes between the 1 and the 6 and only one zero between the 6 and the 8\nWrite a function named isNZeroPacked with the following signature\nboolean isNZeroPacked(int[] a, int n)\nThe function returns true if its array argument is n-zero-packed (note that n is passed as one of the arguments of the function</p>\n\n<p>Examples</p>\n\n<ol>\n<li><p>{0, 0, 0, 2, 0, 2, 0, 2, 0, 0}\nn= 1\nans => True || 1;\nbecause exactly 1 zero separates all the non-zero elements of the array</p></li>\n<li><p>{12, 0, 0, 0, 0, 0, 0, 0, -8}\nn=7\nans= true || 1\nbecause exactly 7 zeroes separate all the non-zero elements of the array</p></li>\n<li><p>{0, 0, 0, 0, 5, 0, 0, 4, 0, 0, 6}\nn=2\nans = true || 1\nbecause exactly 2 zeroes separate all the non-zero elements of the array</p></li>\n<li><p>{0, 0, 0, 0, 5, 0, 0, 4, 0, 0, 0, 6}\nn=2\nans = false || 0\nbecause there are three zeroes between the 4 and the 6.</p></li>\n<li><p>{0, 0, 0, 0, 5, 0, 4, 0, 0, 6}\nn=2\nans= false || 0\nbecause there is only one zero between the 5 and the 4.</p></li>\n<li><p>{0, 0, 0, 0}\nn=3\nans= false 0\nbecause array must have at least two non-zero elements</p></li>\n<li><p>{0, 0, 1, 0, 0}\nn=2\nans= false || 0\nbecause array must have at least two non-zero elements</p></li>\n</ol>\n\n<p>Note: zeroes at the beginning and end of the array should be ignored. my solutions is down here, any shorter and a simpler code is appreciated </p>\n\n<pre><code> private static boolean isNzeroPack(int[] arr, int n) {\n\n        boolean firstIf = false;\n        boolean secondIf = false;\n        boolean satisfied=false;\n\n        for (int i = 0; i &lt; arr.length; i++) {\n            if (arr[i] != 0) {\n                for (int j = i, k = 1; j &lt; arr.length; k++, j++) {\n                    if (i - k &gt;= 0 &amp;&amp; !firstIf &amp;&amp; arr[i - k] != 0) {\n                        if (j - i != n) {\n                            return false;\n                        } else {\n                            firstIf = true;\n                        }\n                    }\n                    if (((j + 1) &lt; arr.length) &amp;&amp; !secondIf &amp;&amp; (arr[j + 1] != 0)) {\n                        if (j - i != n) {\n                            return false;\n                        } else {\n                            secondIf = true;\n                        }\n\n                    }\n                }\n                satisfied = true;\n            }\n            firstIf = false;\n            secondIf = false;\n\n        }\n        return satisfied;\n    }\n</code></pre>\n"},{"tags":["java","ssl","spring-data-redis","redis-cluster","lettuce"],"answers":[{"tags":[],"owner":{"account_id":1107434,"reputation":4521,"user_id":1098564,"accept_rate":75,"display_name":"sdoxsee"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1618241314,"creation_date":1618241314,"answer_id":67061183,"question_id":64287424,"body_markdown":"If all of your nodes have the same IP address as the hostname (as is the case in Azure Cache for Redis, I think), then this is one way you could configure your client to map unresolved IP addresses back to the hostname listed in the certificate.\r\n\r\n```\r\n    @Bean\r\n    ClientResources clientResources(RedisProperties redisProperties) throws UnknownHostException {\r\n        var clientResourcesBuilder = DefaultClientResources.builder();\r\n        var configuredHost = redisProperties.getHost();\r\n        var inetAddresses = Arrays.asList(InetAddress.getAllByName(configuredHost));\r\n        MappingSocketAddressResolver resolver = MappingSocketAddressResolver.create(\r\n                DnsResolvers.UNRESOLVED,\r\n                hostAndPort -&gt; inetAddresses.stream()\r\n                        .anyMatch(i -&gt; i.getHostAddress().equals(hostAndPort.getHostText())) ?\r\n                        HostAndPort.of(configuredHost, hostAndPort.getPort()) :\r\n                        hostAndPort\r\n        );\r\n        clientResourcesBuilder.socketAddressResolver(resolver);\r\n        return clientResourcesBuilder.build();\r\n    }\r\n```\r\n\r\nAs best I understand it, this is the most preferable of the solutions listed on the Github [issue](https://github.com/lettuce-io/lettuce-core/issues/1454#issuecomment-707537384) until Microsoft fixes things from their end.","title":"Lettuce can&#39;t connect to Redis Cluster using SSL but can connect to same Redis server using SSL by treating it as a Standalone node","body":"<p>If all of your nodes have the same IP address as the hostname (as is the case in Azure Cache for Redis, I think), then this is one way you could configure your client to map unresolved IP addresses back to the hostname listed in the certificate.</p>\n<pre><code>    @Bean\n    ClientResources clientResources(RedisProperties redisProperties) throws UnknownHostException {\n        var clientResourcesBuilder = DefaultClientResources.builder();\n        var configuredHost = redisProperties.getHost();\n        var inetAddresses = Arrays.asList(InetAddress.getAllByName(configuredHost));\n        MappingSocketAddressResolver resolver = MappingSocketAddressResolver.create(\n                DnsResolvers.UNRESOLVED,\n                hostAndPort -&gt; inetAddresses.stream()\n                        .anyMatch(i -&gt; i.getHostAddress().equals(hostAndPort.getHostText())) ?\n                        HostAndPort.of(configuredHost, hostAndPort.getPort()) :\n                        hostAndPort\n        );\n        clientResourcesBuilder.socketAddressResolver(resolver);\n        return clientResourcesBuilder.build();\n    }\n</code></pre>\n<p>As best I understand it, this is the most preferable of the solutions listed on the Github <a href=\"https://github.com/lettuce-io/lettuce-core/issues/1454#issuecomment-707537384\" rel=\"noreferrer\">issue</a> until Microsoft fixes things from their end.</p>\n"},{"tags":[],"owner":{"account_id":83617,"reputation":15430,"user_id":234288,"accept_rate":86,"display_name":"Tim Lovell-Smith"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620855122,"creation_date":1620855122,"answer_id":67511216,"question_id":64287424,"body_markdown":"Unlike connecting in standalone mode, connecting to Azure redis in cluster mode is a two step process:\r\n\r\n1) Connect to `&lt;hostname:6380&gt;`, authenticate, and fetch the cluster endpoint details\r\n2) Connect to `&lt;ip address:port&gt;` that you got in the cluster endpoint details, authenticate again, and then send commands to the particular cluster shard your key is on\r\n\r\nThe reason you get `No subject alternative names matching IP address &lt;redacted&gt; found` is that Azure redis gives you an IP address + port number in the cluster endpoint details, and then Lettuce tries to validate your SSL connection against the IP address - instead of the hostname, but fails because its trying to verify the the SSL cert subject or SAN `something.redis.cache.windows.net` against the server endpoint that you are currently connecting to `&lt;ip address&gt;:&lt;port&gt;`.\r\n\r\nYou can get around this in most client libraries by configuring or overriding the SSL certificate validation to validate the server cert against your particular redis cache&#39;s hostname. \r\n\r\nE.g. in .Net StackExchange.redis there&#39;s a config setting called &#39;sslhost&#39; useful for this purpose.\r\n\r\nHopefully Lettuce has an equivalent.","title":"Lettuce can&#39;t connect to Redis Cluster using SSL but can connect to same Redis server using SSL by treating it as a Standalone node","body":"<p>Unlike connecting in standalone mode, connecting to Azure redis in cluster mode is a two step process:</p>\n<ol>\n<li>Connect to <code>&lt;hostname:6380&gt;</code>, authenticate, and fetch the cluster endpoint details</li>\n<li>Connect to <code>&lt;ip address:port&gt;</code> that you got in the cluster endpoint details, authenticate again, and then send commands to the particular cluster shard your key is on</li>\n</ol>\n<p>The reason you get <code>No subject alternative names matching IP address &lt;redacted&gt; found</code> is that Azure redis gives you an IP address + port number in the cluster endpoint details, and then Lettuce tries to validate your SSL connection against the IP address - instead of the hostname, but fails because its trying to verify the the SSL cert subject or SAN <code>something.redis.cache.windows.net</code> against the server endpoint that you are currently connecting to <code>&lt;ip address&gt;:&lt;port&gt;</code>.</p>\n<p>You can get around this in most client libraries by configuring or overriding the SSL certificate validation to validate the server cert against your particular redis cache's hostname.</p>\n<p>E.g. in .Net StackExchange.redis there's a config setting called 'sslhost' useful for this purpose.</p>\n<p>Hopefully Lettuce has an equivalent.</p>\n"},{"tags":[],"owner":{"account_id":873767,"reputation":973,"user_id":924036,"display_name":"Kaj Hejer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699604835,"creation_date":1699604835,"answer_id":77458590,"question_id":64287424,"body_markdown":"We got the following error when just using `spring.data.redis.ssl.enabled=true`.\r\n\r\n```\r\nCannot connect Redis Sentinel at rediss://username:***********************************@xxx.xxx.xxx.xxx:26379:\r\njava.util.concurrent.CompletionException: javax.net.ssl.SSLHandshakeException: \r\nNo subject alternative names matching IP address xxx.xxx.xxx.xxx found\r\n```\r\n\r\nAfter some trial and error we changed from lettuce (which is the default library to talk with redis in Spring Boot) to jedis and then it worked :)\r\n\r\nWe did that with the following code in pom.xml:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n    &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;io.lettuce&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lettuce-core&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;redis.clients&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jedis&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nWe are using Spring Boot 3.1.5 and java 21.\r\n","title":"Lettuce can&#39;t connect to Redis Cluster using SSL but can connect to same Redis server using SSL by treating it as a Standalone node","body":"<p>We got the following error when just using <code>spring.data.redis.ssl.enabled=true</code>.</p>\n<pre><code>Cannot connect Redis Sentinel at rediss://username:***********************************@xxx.xxx.xxx.xxx:26379:\njava.util.concurrent.CompletionException: javax.net.ssl.SSLHandshakeException: \nNo subject alternative names matching IP address xxx.xxx.xxx.xxx found\n</code></pre>\n<p>After some trial and error we changed from lettuce (which is the default library to talk with redis in Spring Boot) to jedis and then it worked :)</p>\n<p>We did that with the following code in pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;io.lettuce&lt;/groupId&gt;\n            &lt;artifactId&gt;lettuce-core&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n    &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>We are using Spring Boot 3.1.5 and java 21.</p>\n"}],"owner":{"account_id":2972390,"reputation":2857,"user_id":3160529,"accept_rate":67,"display_name":"Shubham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11922,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":3,"score":8,"last_activity_date":1699604835,"creation_date":1602278197,"question_id":64287424,"body_markdown":"I&#39;ve an Azure Cache for Redis - Premium and Cluster enabled. I&#39;ve been trying to connect to that Redis using `spring-boot-starter-data-redis` (spring boot version: `2.3.4.RELEASE`, Java version: `11`) and using lettuce client but Lettuce is throwing the following SSL exception when I am treating my Redis as a Redis Cluster but connects just fine when using it as a Standalone Redis server. \r\n\r\nMy `pom.xml` dependencies are:\r\n\r\n    &lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\nJava code:\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.CommandLineRunner;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.data.redis.RedisProperties;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.data.redis.connection.*;\r\n    import org.springframework.data.redis.connection.lettuce.LettuceClientConfiguration;\r\n    import org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory;\r\n    import org.springframework.data.redis.core.StringRedisTemplate;\r\n    \r\n    \r\n    @Configuration\r\n    class LettuceConfig {\r\n    \r\n    \t@Bean\r\n    \tStringRedisTemplate getStringRedisTemplate(final RedisProperties redisProperties) {\r\n    \t\treturn new StringRedisTemplate(getRedisConnectionFactory(redisProperties));\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tRedisConnectionFactory getRedisConnectionFactory(final RedisProperties redisProperties) {\r\n        \r\n    \t\tfinal RedisNode redisNode = RedisNode.newRedisNode()\r\n    \t\t\t\t.listeningAt(redisProperties.getHost(), redisProperties.getPort())\r\n    \t\t\t\t.build();\r\n    \r\n    \t\t// Connecting as a Redis Cluster\r\n    \t\tfinal RedisClusterConfiguration redisClusterConfiguration = new RedisClusterConfiguration();\r\n    \t\tredisClusterConfiguration.addClusterNode(redisNode);\r\n    \t\tredisClusterConfiguration.setPassword(RedisPassword.of(redisProperties.getPassword()));\r\n    \r\n    \t\t// Connecting as a Standalone Redis server\r\n    \t\tfinal RedisStandaloneConfiguration redisStandaloneConfiguration = new RedisStandaloneConfiguration();\r\n    \t\tredisStandaloneConfiguration.setHostName(redisProperties.getHost());\r\n    \t\tredisStandaloneConfiguration.setPort(redisProperties.getPort());\r\n    \t\tredisStandaloneConfiguration.setPassword(RedisPassword.of(redisProperties.getPassword()));\r\n    \r\n    \t\tfinal LettuceClientConfiguration.LettuceClientConfigurationBuilder lettuceClientConfigurationBuilder =\r\n    \t\t\t\tLettuceClientConfiguration.builder()\r\n    \t\t\t\t.clientName(redisProperties.getClientName())\r\n    \t\t\t\t.commandTimeout(redisProperties.getTimeout());\r\n    \r\n    \t\tif (redisProperties.isSsl()) {\r\n    \t\t\tlettuceClientConfigurationBuilder.useSsl();\r\n    \t\t}\r\n    \r\n    \t\tfinal LettuceClientConfiguration lettuceClientConfiguration = lettuceClientConfigurationBuilder.build();\r\n    \r\n    \t\treturn new LettuceConnectionFactory(redisClusterConfiguration, lettuceClientConfiguration);\r\n    \t}\r\n    }\r\n    \r\n    @SpringBootApplication\r\n    public class LettuceClusterApplication implements CommandLineRunner {\r\n    \r\n    \tprivate final StringRedisTemplate stringRedisTemplate;\r\n    \r\n    \t@Autowired\r\n    \tpublic LettuceClusterApplication(final StringRedisTemplate stringRedisTemplate) {\r\n    \t\tthis.stringRedisTemplate = stringRedisTemplate;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(LettuceClusterApplication.class, args);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run(String... args) throws Exception {\r\n    \t\tSystem.out.println(stringRedisTemplate.hasKey(&quot;abc&quot;));\r\n    \t}\r\n    }\r\n\r\nWhen using `redisStandaloneConfiguration` in `new LettuceConnectionFactory(..., ...)`, the code works just fine, but if I use `redisClusterConfiguration`, the code fails with the following exception:\r\n\r\n    java.lang.IllegalStateException: Failed to execute CommandLineRunner\r\n    \tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:798) ~[spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n    \t...\r\n    Caused by: org.springframework.data.redis.RedisConnectionFailureException: Redis connection failed; nested exception is io.lettuce.core.RedisConnectionException: Unable to connect to [RedisURI [host=&#39;&lt;redacted&gt;.redis.cache.windows.net&#39;, port=6380]]\r\n    \tat org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:66) ~[spring-data-redis-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n    \t...\r\n    Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to [RedisURI [host=&#39;&lt;redacted&gt;.redis.cache.windows.net&#39;, port=6380]]\r\n    \tat io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:78) ~[lettuce-core-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n    \t...\r\n    Caused by: javax.net.ssl.SSLHandshakeException: No subject alternative names matching IP address &lt;redacted&gt; found\r\n    \t...\r\n    Caused by: java.security.cert.CertificateException: No subject alternative names matching IP address &lt;redacted&gt; found\r\n    \tat java.base/sun.security.util.HostnameChecker.matchIP(HostnameChecker.java:165) ~[na:na]\r\n    \t...\r\n\r\nMy `application.properties` file:\r\n\r\n    spring.redis.host = &lt;redacted&gt;.redis.cache.windows.net\r\n    spring.redis.port = 6380\r\n    spring.redis.password = &lt;redacted&gt;\r\n    spring.redis.ssl = true\r\n    spring.redis.clientName = ${HOSTNAME}\r\n    spring.redis.timeout = 100000\r\n    \r\n**Update**: Found a similar issue in Github: https://github.com/lettuce-io/lettuce-core/issues/246 but it says that it should work with lettuce versions &gt; `4.2` and my lettuce-core version (bundled under `spring-boot-starter-data-redis`) is `5.3.4.RELEASE`. \r\nAlso worth checking out is the documentation which states the same: https://lettuce.io/core/release/reference/#ssl\r\n\r\n&gt; Lettuce supports SSL connections since version 3.1 on Redis Standalone connections and since version 4.2 on Redis Cluster\r\n\r\nRaised GitHub issue as well: https://github.com/lettuce-io/lettuce-core/issues/1454","title":"Lettuce can&#39;t connect to Redis Cluster using SSL but can connect to same Redis server using SSL by treating it as a Standalone node","body":"<p>I've an Azure Cache for Redis - Premium and Cluster enabled. I've been trying to connect to that Redis using <code>spring-boot-starter-data-redis</code> (spring boot version: <code>2.3.4.RELEASE</code>, Java version: <code>11</code>) and using lettuce client but Lettuce is throwing the following SSL exception when I am treating my Redis as a Redis Cluster but connects just fine when using it as a Standalone Redis server.</p>\n<p>My <code>pom.xml</code> dependencies are:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Java code:</p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.data.redis.RedisProperties;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.redis.connection.*;\nimport org.springframework.data.redis.connection.lettuce.LettuceClientConfiguration;\nimport org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory;\nimport org.springframework.data.redis.core.StringRedisTemplate;\n\n\n@Configuration\nclass LettuceConfig {\n\n    @Bean\n    StringRedisTemplate getStringRedisTemplate(final RedisProperties redisProperties) {\n        return new StringRedisTemplate(getRedisConnectionFactory(redisProperties));\n    }\n\n    @Bean\n    RedisConnectionFactory getRedisConnectionFactory(final RedisProperties redisProperties) {\n    \n        final RedisNode redisNode = RedisNode.newRedisNode()\n                .listeningAt(redisProperties.getHost(), redisProperties.getPort())\n                .build();\n\n        // Connecting as a Redis Cluster\n        final RedisClusterConfiguration redisClusterConfiguration = new RedisClusterConfiguration();\n        redisClusterConfiguration.addClusterNode(redisNode);\n        redisClusterConfiguration.setPassword(RedisPassword.of(redisProperties.getPassword()));\n\n        // Connecting as a Standalone Redis server\n        final RedisStandaloneConfiguration redisStandaloneConfiguration = new RedisStandaloneConfiguration();\n        redisStandaloneConfiguration.setHostName(redisProperties.getHost());\n        redisStandaloneConfiguration.setPort(redisProperties.getPort());\n        redisStandaloneConfiguration.setPassword(RedisPassword.of(redisProperties.getPassword()));\n\n        final LettuceClientConfiguration.LettuceClientConfigurationBuilder lettuceClientConfigurationBuilder =\n                LettuceClientConfiguration.builder()\n                .clientName(redisProperties.getClientName())\n                .commandTimeout(redisProperties.getTimeout());\n\n        if (redisProperties.isSsl()) {\n            lettuceClientConfigurationBuilder.useSsl();\n        }\n\n        final LettuceClientConfiguration lettuceClientConfiguration = lettuceClientConfigurationBuilder.build();\n\n        return new LettuceConnectionFactory(redisClusterConfiguration, lettuceClientConfiguration);\n    }\n}\n\n@SpringBootApplication\npublic class LettuceClusterApplication implements CommandLineRunner {\n\n    private final StringRedisTemplate stringRedisTemplate;\n\n    @Autowired\n    public LettuceClusterApplication(final StringRedisTemplate stringRedisTemplate) {\n        this.stringRedisTemplate = stringRedisTemplate;\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(LettuceClusterApplication.class, args);\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n        System.out.println(stringRedisTemplate.hasKey(&quot;abc&quot;));\n    }\n}\n</code></pre>\n<p>When using <code>redisStandaloneConfiguration</code> in <code>new LettuceConnectionFactory(..., ...)</code>, the code works just fine, but if I use <code>redisClusterConfiguration</code>, the code fails with the following exception:</p>\n<pre><code>java.lang.IllegalStateException: Failed to execute CommandLineRunner\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:798) ~[spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    ...\nCaused by: org.springframework.data.redis.RedisConnectionFailureException: Redis connection failed; nested exception is io.lettuce.core.RedisConnectionException: Unable to connect to [RedisURI [host='&lt;redacted&gt;.redis.cache.windows.net', port=6380]]\n    at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:66) ~[spring-data-redis-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    ...\nCaused by: io.lettuce.core.RedisConnectionException: Unable to connect to [RedisURI [host='&lt;redacted&gt;.redis.cache.windows.net', port=6380]]\n    at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:78) ~[lettuce-core-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    ...\nCaused by: javax.net.ssl.SSLHandshakeException: No subject alternative names matching IP address &lt;redacted&gt; found\n    ...\nCaused by: java.security.cert.CertificateException: No subject alternative names matching IP address &lt;redacted&gt; found\n    at java.base/sun.security.util.HostnameChecker.matchIP(HostnameChecker.java:165) ~[na:na]\n    ...\n</code></pre>\n<p>My <code>application.properties</code> file:</p>\n<pre><code>spring.redis.host = &lt;redacted&gt;.redis.cache.windows.net\nspring.redis.port = 6380\nspring.redis.password = &lt;redacted&gt;\nspring.redis.ssl = true\nspring.redis.clientName = ${HOSTNAME}\nspring.redis.timeout = 100000\n</code></pre>\n<p><strong>Update</strong>: Found a similar issue in Github: <a href=\"https://github.com/lettuce-io/lettuce-core/issues/246\" rel=\"noreferrer\">https://github.com/lettuce-io/lettuce-core/issues/246</a> but it says that it should work with lettuce versions &gt; <code>4.2</code> and my lettuce-core version (bundled under <code>spring-boot-starter-data-redis</code>) is <code>5.3.4.RELEASE</code>.\nAlso worth checking out is the documentation which states the same: <a href=\"https://lettuce.io/core/release/reference/#ssl\" rel=\"noreferrer\">https://lettuce.io/core/release/reference/#ssl</a></p>\n<blockquote>\n<p>Lettuce supports SSL connections since version 3.1 on Redis Standalone connections and since version 4.2 on Redis Cluster</p>\n</blockquote>\n<p>Raised GitHub issue as well: <a href=\"https://github.com/lettuce-io/lettuce-core/issues/1454\" rel=\"noreferrer\">https://github.com/lettuce-io/lettuce-core/issues/1454</a></p>\n"},{"tags":["java","excel","spring-boot","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1699604760,"creation_date":1699604760,"answer_id":77458581,"question_id":77452853,"body_markdown":"To display values in segments of a pie or doughnut chart, settings for data labels must be set in chart.\r\n\r\nLet it be `XSSFChart chart` and chart be a doughnut chart, then:\r\n\r\n    // Add data labels\r\n    if (!chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).isSetDLbls()) {\r\n        chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).addNewDLbls();\r\n    }\r\n    chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowVal().setVal(true);\r\n    chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowSerName().setVal(false);\r\n    chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowCatName().setVal(false);\r\n    chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowPercent().setVal(false);\r\n    chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowLegendKey().setVal(false);\t\r\n\r\nAnd to remove the border around the chart space code like so:\r\n\r\n\t// chart area (chartspace) without border line\r\n    chart.getCTChartSpace().addNewSpPr().addNewLn().addNewNoFill();\r\n\r\nThis sets a line having no fill as shape property to the chart space.\r\n\r\nComplete example usable using current Apache POI 5.2.4.\r\n\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    \r\n    import org.apache.poi.ss.usermodel.Cell;\r\n    import org.apache.poi.ss.usermodel.Row;\r\n    import org.apache.poi.ss.util.CellRangeAddress;\r\n    import org.apache.poi.xddf.usermodel.chart.LegendPosition;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFChartData;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFChartLegend;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFDataSource;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFDataSourcesFactory;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFNumericalDataSource;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFDoughnutChartData;\r\n    import org.apache.poi.xddf.usermodel.chart.ChartTypes;\r\n    import org.apache.poi.xssf.usermodel.XSSFChart;\r\n    import org.apache.poi.xssf.usermodel.XSSFClientAnchor;\r\n    import org.apache.poi.xssf.usermodel.XSSFDrawing;\r\n    import org.apache.poi.xssf.usermodel.XSSFSheet;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    import org.apache.poi.xssf.usermodel.DefaultIndexedColorMap;\r\n    \r\n    public class DoughnutChartsXDDF {\r\n    \t\r\n      static XSSFChart createDoughnutChart(XSSFSheet sheet, String[] categories, Number[] values, String titleText, int col1, int row1, int col2, int row2) {\r\n        XSSFDrawing drawing = sheet.createDrawingPatriarch();\r\n        XSSFClientAnchor anchor = drawing.createAnchor(0, 0, 0, 0, col1, row1, col2, row2);\r\n    \r\n        XSSFChart chart = drawing.createChart(anchor);\r\n        chart.setTitleText(titleText);\r\n        chart.setTitleOverlay(false);\r\n        XDDFChartLegend legend = chart.getOrAddLegend();\r\n        legend.setPosition(LegendPosition.BOTTOM);\r\n    \r\n        XDDFDataSource&lt;String&gt; cat = XDDFDataSourcesFactory.fromArray(categories);\r\n        XDDFNumericalDataSource&lt;Number&gt; val = XDDFDataSourcesFactory.fromArray(values);\r\n    \r\n        XDDFDoughnutChartData data = (XDDFDoughnutChartData)chart.createData(ChartTypes.DOUGHNUT, null, null);\r\n        data.setVaryColors(true);\r\n        data.setHoleSize(50);\r\n        XDDFChartData.Series series = data.addSeries(cat, val);\r\n        chart.plot(data);\r\n    \r\n        // Do not auto delete the title; is necessary for showing title in Calc\r\n        if (chart.getCTChart().getAutoTitleDeleted() == null) chart.getCTChart().addNewAutoTitleDeleted();\r\n        chart.getCTChart().getAutoTitleDeleted().setVal(false);\r\n    \r\n        // Data point colors; is necessary for showing data points in Calc\r\n        int pointCount = series.getCategoryData().getPointCount(); \r\n        for (int p = 0; p &lt; pointCount; p++) {\r\n          chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).addNewDPt().addNewIdx().setVal(p);\r\n          chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDPtArray(p)\r\n            .addNewSpPr().addNewSolidFill().addNewSrgbClr().setVal(DefaultIndexedColorMap.getDefaultRGB(p+10));\r\n        }\r\n    \t\r\n        // Add data labels\r\n        if (!chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).isSetDLbls()) {\r\n            chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).addNewDLbls();\r\n        }\r\n        chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowVal().setVal(true);\r\n        chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowSerName().setVal(false);\r\n        chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowCatName().setVal(false);\r\n        chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowPercent().setVal(false);\r\n        chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowLegendKey().setVal(false);\t\r\n    \t\r\n    \t// chart area (chartspace) without border line\r\n        chart.getCTChartSpace().addNewSpPr().addNewLn().addNewNoFill();\r\n    \r\n    \treturn chart;\r\n      }\t  \r\n      \r\n      public static void main(String[] args) throws IOException {\r\n        try (XSSFWorkbook wb = new XSSFWorkbook()) {\r\n          XSSFSheet sheet = wb.createSheet(&quot;doughnutChart&quot;);\r\n    \t  \r\n    \t  String[] categories = new String[]{&quot;one&quot;,&quot;two&quot;,&quot;three&quot;,&quot;four&quot;,&quot;five&quot;,&quot;six&quot;,&quot;seven&quot;,&quot;eight&quot;,&quot;nine&quot;,&quot;ten&quot;};\r\n          Number[] values = new Number[]{ 11L,2L,3L,4L,5L,6L,7L,8L,9L,10L };\r\n    \t  XSSFChart chart1 = createDoughnutChart(sheet, categories, values, &quot;Doughnut-Chart 1&quot;, 0, 4, 4, 20);\r\n    \r\n          categories = new String[]{&quot;one&quot;,&quot;two&quot;};\r\n          values = new Number[]{ 60L,40L };\r\n    \t  XSSFChart chart2 = createDoughnutChart(sheet, categories, values, &quot;Doughnut-Chart 2&quot;, 4, 4, 8, 20);\r\n    \t   \r\n          // Write the output to a file\r\n          try (FileOutputStream fileOut = new FileOutputStream(&quot;ooxml-doughnut-chart.xlsx&quot;)) {\r\n            wb.write(fileOut);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n","title":"Apache poi multiple Doughnut Chart in XSSFClientAnchor","body":"<p>To display values in segments of a pie or doughnut chart, settings for data labels must be set in chart.</p>\n<p>Let it be <code>XSSFChart chart</code> and chart be a doughnut chart, then:</p>\n<pre><code>// Add data labels\nif (!chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).isSetDLbls()) {\n    chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).addNewDLbls();\n}\nchart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowVal().setVal(true);\nchart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowSerName().setVal(false);\nchart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowCatName().setVal(false);\nchart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowPercent().setVal(false);\nchart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowLegendKey().setVal(false);    \n</code></pre>\n<p>And to remove the border around the chart space code like so:</p>\n<pre><code>// chart area (chartspace) without border line\nchart.getCTChartSpace().addNewSpPr().addNewLn().addNewNoFill();\n</code></pre>\n<p>This sets a line having no fill as shape property to the chart space.</p>\n<p>Complete example usable using current Apache POI 5.2.4.</p>\n<pre><code>import java.io.FileOutputStream;\nimport java.io.IOException;\n\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.ss.util.CellRangeAddress;\nimport org.apache.poi.xddf.usermodel.chart.LegendPosition;\nimport org.apache.poi.xddf.usermodel.chart.XDDFChartData;\nimport org.apache.poi.xddf.usermodel.chart.XDDFChartLegend;\nimport org.apache.poi.xddf.usermodel.chart.XDDFDataSource;\nimport org.apache.poi.xddf.usermodel.chart.XDDFDataSourcesFactory;\nimport org.apache.poi.xddf.usermodel.chart.XDDFNumericalDataSource;\nimport org.apache.poi.xddf.usermodel.chart.XDDFDoughnutChartData;\nimport org.apache.poi.xddf.usermodel.chart.ChartTypes;\nimport org.apache.poi.xssf.usermodel.XSSFChart;\nimport org.apache.poi.xssf.usermodel.XSSFClientAnchor;\nimport org.apache.poi.xssf.usermodel.XSSFDrawing;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\nimport org.apache.poi.xssf.usermodel.DefaultIndexedColorMap;\n\npublic class DoughnutChartsXDDF {\n    \n  static XSSFChart createDoughnutChart(XSSFSheet sheet, String[] categories, Number[] values, String titleText, int col1, int row1, int col2, int row2) {\n    XSSFDrawing drawing = sheet.createDrawingPatriarch();\n    XSSFClientAnchor anchor = drawing.createAnchor(0, 0, 0, 0, col1, row1, col2, row2);\n\n    XSSFChart chart = drawing.createChart(anchor);\n    chart.setTitleText(titleText);\n    chart.setTitleOverlay(false);\n    XDDFChartLegend legend = chart.getOrAddLegend();\n    legend.setPosition(LegendPosition.BOTTOM);\n\n    XDDFDataSource&lt;String&gt; cat = XDDFDataSourcesFactory.fromArray(categories);\n    XDDFNumericalDataSource&lt;Number&gt; val = XDDFDataSourcesFactory.fromArray(values);\n\n    XDDFDoughnutChartData data = (XDDFDoughnutChartData)chart.createData(ChartTypes.DOUGHNUT, null, null);\n    data.setVaryColors(true);\n    data.setHoleSize(50);\n    XDDFChartData.Series series = data.addSeries(cat, val);\n    chart.plot(data);\n\n    // Do not auto delete the title; is necessary for showing title in Calc\n    if (chart.getCTChart().getAutoTitleDeleted() == null) chart.getCTChart().addNewAutoTitleDeleted();\n    chart.getCTChart().getAutoTitleDeleted().setVal(false);\n\n    // Data point colors; is necessary for showing data points in Calc\n    int pointCount = series.getCategoryData().getPointCount(); \n    for (int p = 0; p &lt; pointCount; p++) {\n      chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).addNewDPt().addNewIdx().setVal(p);\n      chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDPtArray(p)\n        .addNewSpPr().addNewSolidFill().addNewSrgbClr().setVal(DefaultIndexedColorMap.getDefaultRGB(p+10));\n    }\n    \n    // Add data labels\n    if (!chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).isSetDLbls()) {\n        chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).addNewDLbls();\n    }\n    chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowVal().setVal(true);\n    chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowSerName().setVal(false);\n    chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowCatName().setVal(false);\n    chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowPercent().setVal(false);\n    chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowLegendKey().setVal(false);    \n    \n    // chart area (chartspace) without border line\n    chart.getCTChartSpace().addNewSpPr().addNewLn().addNewNoFill();\n\n    return chart;\n  }   \n  \n  public static void main(String[] args) throws IOException {\n    try (XSSFWorkbook wb = new XSSFWorkbook()) {\n      XSSFSheet sheet = wb.createSheet(&quot;doughnutChart&quot;);\n      \n      String[] categories = new String[]{&quot;one&quot;,&quot;two&quot;,&quot;three&quot;,&quot;four&quot;,&quot;five&quot;,&quot;six&quot;,&quot;seven&quot;,&quot;eight&quot;,&quot;nine&quot;,&quot;ten&quot;};\n      Number[] values = new Number[]{ 11L,2L,3L,4L,5L,6L,7L,8L,9L,10L };\n      XSSFChart chart1 = createDoughnutChart(sheet, categories, values, &quot;Doughnut-Chart 1&quot;, 0, 4, 4, 20);\n\n      categories = new String[]{&quot;one&quot;,&quot;two&quot;};\n      values = new Number[]{ 60L,40L };\n      XSSFChart chart2 = createDoughnutChart(sheet, categories, values, &quot;Doughnut-Chart 2&quot;, 4, 4, 8, 20);\n       \n      // Write the output to a file\n      try (FileOutputStream fileOut = new FileOutputStream(&quot;ooxml-doughnut-chart.xlsx&quot;)) {\n        wb.write(fileOut);\n      }\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":14831756,"reputation":83,"user_id":10711074,"display_name":"raymax"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77458581,"answer_count":1,"score":-1,"last_activity_date":1699604760,"creation_date":1699529944,"question_id":77452853,"body_markdown":"I am writing a code which creates multiple DoughnutChart in excel file.I can create multiple doughnut Chart and put them side by side using multiple anchore.\r\nNow i have two issues\r\n\r\n 1. Values are not displayed on the DoughnutChart.\r\n 2. Every single anchore has its own border. For multiple chart i need to use multiple Anchore.I dont want those chart seperated by borders.My task is all the charts should be side by side and one single border no seperation.And I think it might not possible to create multiple chart in a single anchore.\r\n\r\n\r\n public String picChart7() throws IOException {\r\n\r\n        try (XSSFWorkbook wb = new XSSFWorkbook()) {\r\n            XSSFSheet sheet = wb.createSheet(&quot;doughnutChart&quot;);\r\n            sheet.setDisplayGridlines(false);\r\n            final int NUM_OF_ROWS = 2;\r\n            final int NUM_OF_COLUMNS = 10;\r\n\r\n            XSSFDrawing drawing = sheet.createDrawingPatriarch();\r\n            XSSFClientAnchor anchor1 = drawing.createAnchor(0, 0, 0, 0, 1, 5, 4, 28);\r\n            anchor1.setAnchorType(ClientAnchor.AnchorType.DONT_MOVE_AND_RESIZE);\r\n            anchor1.getTo().setCol(4);\r\n            XSSFClientAnchor anchor2 = drawing.createAnchor(0, 0, 0, 0, 4, 5, 7, 28);\r\n            anchor1.setAnchorType(ClientAnchor.AnchorType.DONT_MOVE_AND_RESIZE);\r\n\r\n            XSSFChart chart1 = drawing.createChart(anchor1);\r\n            chart1.setTitleText(&quot;chart1&quot;);\r\n            chart1.setTitleOverlay(false);\r\n            //chart1.createValueAxis(AxisPosition.TOP);\r\n\r\n            XSSFChart chart2 = drawing.createChart(anchor2);\r\n            chart2.setTitleText(&quot;chart2&quot;);\r\n            chart2.setTitleOverlay(false);\r\n            //chart2.createValueAxis(AxisPosition.LEFT);\r\n            \r\n            XDDFChartLegend legend1 = chart1.getOrAddLegend();\r\n            legend1.setPosition(LegendPosition.BOTTOM);\r\n\r\n            XDDFChartLegend legend2 = chart2.getOrAddLegend();\r\n            legend2.setPosition(LegendPosition.BOTTOM);\r\n            \r\n            //{1.5,2.5,3.5,4.5,5.5,6.5,7.6,8.5,9.5};\r\n            String[] stringArray1 = new String[]{&quot;one&quot;,&quot;two&quot;,&quot;three&quot;,&quot;four&quot;,&quot;five&quot;,&quot;six&quot;,&quot;seven&quot;,&quot;eight&quot;,&quot;nine&quot;,&quot;ten&quot;};\r\n            XDDFDataSource&lt;String&gt; stringValue1 = XDDFDataSourcesFactory.fromArray(stringArray1);\r\n            Long[] longArray1 = new Long[]{ 11L,2L,3L,4L,5L,6L,7L,8L,9L,10L };\r\n            XDDFNumericalDataSource&lt;Long&gt; longValue1 = XDDFDataSourcesFactory.fromArray(longArray1);\r\n\r\n            String[] stringArray2 = new String[]{&quot;one&quot;,&quot;two&quot;};\r\n            XDDFDataSource&lt;String&gt; stringValue2 = XDDFDataSourcesFactory.fromArray(stringArray2);\r\n            Long[] longArray2 = new Long[]{ 60L,40L };\r\n            XDDFNumericalDataSource&lt;Long&gt; longValue2 = XDDFDataSourcesFactory.fromArray(longArray2);\r\n            \r\n            XDDFDoughnutChartData data1 = new XDDFDoughnutChartData(chart1, chart1.getCTChart().getPlotArea().addNewDoughnutChart());\r\n            data1.setVaryColors(true);\r\n            data1.setHoleSize((short) 50);\r\n            data1.setFirstSliceAngle(10);\r\n\r\n            XDDFDoughnutChartData data2 = new XDDFDoughnutChartData(chart2, chart2.getCTChart().getPlotArea().addNewDoughnutChart());\r\n            data2.setVaryColors(true);\r\n            data2.setHoleSize((short) 50);\r\n            data2.setFirstSliceAngle(10);\r\n            \r\n            XDDFChartData.Series series1 = data1.addSeries(stringValue1, longValue1);\r\n            XDDFChartData.Series series2 = data2.addSeries(stringValue2, longValue2);\r\n\r\n            // Do not auto delete the title; is necessary for showing title in Calc\r\n            \r\n            // Data point colors; is necessary for showing data points in Calc\r\n            int pointCount1 = series1.getCategoryData().getPointCount();\r\n            for (int p = 0; p &lt; pointCount1; p++) {\r\n                chart1.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).addNewDPt().addNewIdx().setVal(p);\r\n                chart1.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDPtArray(p)\r\n                        .addNewSpPr().addNewSolidFill().addNewSrgbClr().setVal(getColor(p));//get custom coloring\r\n            }\r\n            int pointCount2 = series2.getCategoryData().getPointCount();\r\n            for (int p = 0; p &lt; pointCount2; p++) {\r\n                chart2.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).addNewDPt().addNewIdx().setVal(p);\r\n                chart2.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDPtArray(p)\r\n                        .addNewSpPr().addNewSolidFill().addNewSrgbClr().setVal(getColor(p));//get custom coloring\r\n            }\r\n            \r\n            chart1.plot(data1);\r\n            chart2.plot(data2);\r\n\r\n            // Write the output to a file\r\n            try (FileOutputStream fileOut = new FileOutputStream(&quot;picChart7.xlsx&quot;)) {\r\n                wb.write(fileOut);\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\nThis is my code.It creates an excel file with multiple doughnut chart. Please let me know if you dont understand my question.I am new to Apache POI.Thanks in advance.","title":"Apache poi multiple Doughnut Chart in XSSFClientAnchor","body":"<p>I am writing a code which creates multiple DoughnutChart in excel file.I can create multiple doughnut Chart and put them side by side using multiple anchore.\nNow i have two issues</p>\n<ol>\n<li>Values are not displayed on the DoughnutChart.</li>\n<li>Every single anchore has its own border. For multiple chart i need to use multiple Anchore.I dont want those chart seperated by borders.My task is all the charts should be side by side and one single border no seperation.And I think it might not possible to create multiple chart in a single anchore.</li>\n</ol>\n<p>public String picChart7() throws IOException {</p>\n<pre><code>    try (XSSFWorkbook wb = new XSSFWorkbook()) {\n        XSSFSheet sheet = wb.createSheet(&quot;doughnutChart&quot;);\n        sheet.setDisplayGridlines(false);\n        final int NUM_OF_ROWS = 2;\n        final int NUM_OF_COLUMNS = 10;\n\n        XSSFDrawing drawing = sheet.createDrawingPatriarch();\n        XSSFClientAnchor anchor1 = drawing.createAnchor(0, 0, 0, 0, 1, 5, 4, 28);\n        anchor1.setAnchorType(ClientAnchor.AnchorType.DONT_MOVE_AND_RESIZE);\n        anchor1.getTo().setCol(4);\n        XSSFClientAnchor anchor2 = drawing.createAnchor(0, 0, 0, 0, 4, 5, 7, 28);\n        anchor1.setAnchorType(ClientAnchor.AnchorType.DONT_MOVE_AND_RESIZE);\n\n        XSSFChart chart1 = drawing.createChart(anchor1);\n        chart1.setTitleText(&quot;chart1&quot;);\n        chart1.setTitleOverlay(false);\n        //chart1.createValueAxis(AxisPosition.TOP);\n\n        XSSFChart chart2 = drawing.createChart(anchor2);\n        chart2.setTitleText(&quot;chart2&quot;);\n        chart2.setTitleOverlay(false);\n        //chart2.createValueAxis(AxisPosition.LEFT);\n        \n        XDDFChartLegend legend1 = chart1.getOrAddLegend();\n        legend1.setPosition(LegendPosition.BOTTOM);\n\n        XDDFChartLegend legend2 = chart2.getOrAddLegend();\n        legend2.setPosition(LegendPosition.BOTTOM);\n        \n        //{1.5,2.5,3.5,4.5,5.5,6.5,7.6,8.5,9.5};\n        String[] stringArray1 = new String[]{&quot;one&quot;,&quot;two&quot;,&quot;three&quot;,&quot;four&quot;,&quot;five&quot;,&quot;six&quot;,&quot;seven&quot;,&quot;eight&quot;,&quot;nine&quot;,&quot;ten&quot;};\n        XDDFDataSource&lt;String&gt; stringValue1 = XDDFDataSourcesFactory.fromArray(stringArray1);\n        Long[] longArray1 = new Long[]{ 11L,2L,3L,4L,5L,6L,7L,8L,9L,10L };\n        XDDFNumericalDataSource&lt;Long&gt; longValue1 = XDDFDataSourcesFactory.fromArray(longArray1);\n\n        String[] stringArray2 = new String[]{&quot;one&quot;,&quot;two&quot;};\n        XDDFDataSource&lt;String&gt; stringValue2 = XDDFDataSourcesFactory.fromArray(stringArray2);\n        Long[] longArray2 = new Long[]{ 60L,40L };\n        XDDFNumericalDataSource&lt;Long&gt; longValue2 = XDDFDataSourcesFactory.fromArray(longArray2);\n        \n        XDDFDoughnutChartData data1 = new XDDFDoughnutChartData(chart1, chart1.getCTChart().getPlotArea().addNewDoughnutChart());\n        data1.setVaryColors(true);\n        data1.setHoleSize((short) 50);\n        data1.setFirstSliceAngle(10);\n\n        XDDFDoughnutChartData data2 = new XDDFDoughnutChartData(chart2, chart2.getCTChart().getPlotArea().addNewDoughnutChart());\n        data2.setVaryColors(true);\n        data2.setHoleSize((short) 50);\n        data2.setFirstSliceAngle(10);\n        \n        XDDFChartData.Series series1 = data1.addSeries(stringValue1, longValue1);\n        XDDFChartData.Series series2 = data2.addSeries(stringValue2, longValue2);\n\n        // Do not auto delete the title; is necessary for showing title in Calc\n        \n        // Data point colors; is necessary for showing data points in Calc\n        int pointCount1 = series1.getCategoryData().getPointCount();\n        for (int p = 0; p &lt; pointCount1; p++) {\n            chart1.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).addNewDPt().addNewIdx().setVal(p);\n            chart1.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDPtArray(p)\n                    .addNewSpPr().addNewSolidFill().addNewSrgbClr().setVal(getColor(p));//get custom coloring\n        }\n        int pointCount2 = series2.getCategoryData().getPointCount();\n        for (int p = 0; p &lt; pointCount2; p++) {\n            chart2.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).addNewDPt().addNewIdx().setVal(p);\n            chart2.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDPtArray(p)\n                    .addNewSpPr().addNewSolidFill().addNewSrgbClr().setVal(getColor(p));//get custom coloring\n        }\n        \n        chart1.plot(data1);\n        chart2.plot(data2);\n\n        // Write the output to a file\n        try (FileOutputStream fileOut = new FileOutputStream(&quot;picChart7.xlsx&quot;)) {\n            wb.write(fileOut);\n        }\n    }\n    return null;\n}\n</code></pre>\n<p>This is my code.It creates an excel file with multiple doughnut chart. Please let me know if you dont understand my question.I am new to Apache POI.Thanks in advance.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","testing"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1699604415,"post_id":77457312,"comment_id":136555438,"body_markdown":"`MockMvcRequestBuilders.get(tableUri, id)` Will lead to a URL in the form of `/tables/1/1` which doesn&#39;t have any mapping. Either use a pattern or ommit the `id` in te `get` method.","body":"<code>MockMvcRequestBuilders.get(tableUri, id)</code> Will lead to a URL in the form of <code>&#47;tables&#47;1&#47;1</code> which doesn&#39;t have any mapping. Either use a pattern or ommit the <code>id</code> in te <code>get</code> method."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699604567,"creation_date":1699604567,"answer_id":77458562,"question_id":77457312,"body_markdown":"The problem is your test setup. `MockMvcRequestBuilders.get(tableUri, id)` will lead to a URL of `/tables/1/1` for which there is no mapping. To solve either use a URL pattern `/tables/{id}` as the `tableUri` property, or ommit the `id` parameter from the `get` call. \r\n\r\n```java\r\nString tableUri = rootUri + &quot;/{id}&quot;;\r\nRequestBuilder request = MockMvcRequestBuilders.get(tableUri, id)\r\n                .accept(MediaType.APPLICATION_JSON);\r\n```\r\n\r\nor \r\n\r\n```java\r\nRequestBuilder request = MockMvcRequestBuilders.get(tableUri)\r\n                .accept(MediaType.APPLICATION_JSON);\r\n```\r\n\r\nBoth should work. ","title":"Issue with Spring MockMVC and WebMvcTest not returning expected results","body":"<p>The problem is your test setup. <code>MockMvcRequestBuilders.get(tableUri, id)</code> will lead to a URL of <code>/tables/1/1</code> for which there is no mapping. To solve either use a URL pattern <code>/tables/{id}</code> as the <code>tableUri</code> property, or ommit the <code>id</code> parameter from the <code>get</code> call.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String tableUri = rootUri + &quot;/{id}&quot;;\nRequestBuilder request = MockMvcRequestBuilders.get(tableUri, id)\n                .accept(MediaType.APPLICATION_JSON);\n</code></pre>\n<p>or</p>\n<pre class=\"lang-java prettyprint-override\"><code>RequestBuilder request = MockMvcRequestBuilders.get(tableUri)\n                .accept(MediaType.APPLICATION_JSON);\n</code></pre>\n<p>Both should work.</p>\n"}],"owner":{"account_id":22145955,"reputation":25,"user_id":16395202,"display_name":"Tom&#225;s Iglesias"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77458562,"answer_count":1,"score":0,"last_activity_date":1699604567,"creation_date":1699581674,"question_id":77457312,"body_markdown":"I&#39;m currently working on a Spring Boot application and facing an issue when writing tests for my controllers. I have a controller class called TableController, and I&#39;m trying to test the `getById` method using Spring&#39;s MockMvc. However, I&#39;m not getting the expected results, and I&#39;m not sure what&#39;s going wrong.\r\n\r\nHere&#39;s my setup:\r\n```\r\n@WebMvcTest(TableController.class)\r\n@WithMockUser\r\npublic class TableControllerTests {\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n    @MockBean\r\n    private TableService tableService;\r\n    private String rootUri;\r\n\r\n    @BeforeEach\r\n    public void setUp(){\r\n        this.rootUri = &quot;/tables&quot;;\r\n    }\r\n```\r\nIn my test method:\r\n```\r\n@Test\r\n    public void getTableById() throws Exception {\r\n        // Arrange\r\n        Integer id = 1;\r\n        Table table = new Table(id);\r\n        String tableUri = rootUri + &quot;/&quot; + id;    // /tables/1\r\n        when(this.tableService.getById(id)).thenReturn(table);\r\n\r\n        // Act\r\n        RequestBuilder request = MockMvcRequestBuilders.get(tableUri, id)\r\n                .accept(MediaType.APPLICATION_JSON);\r\n\r\n        // Assert\r\n        this.mockMvc.perform(request)\r\n                .andExpect(status().isOk())\r\n                .andExpect(content().contentType(MediaType.APPLICATION_JSON))\r\n                .andExpect(jsonPath(&quot;$.id&quot;, is(id)));\r\n    }\r\n```\r\nAnd this is my controller:\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/tables&quot;)\r\npublic class TableController {\r\n    @Autowired\r\n    TableService tableService;\r\n\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;Table&gt; getById(@PathVariable Integer id){\r\n        Table table = this.tableService.getById(id);\r\n\r\n        if (table != null) {\r\n            return ResponseEntity.ok(table); // 200 OK\r\n        } else {\r\n            return ResponseEntity.notFound().build(); // 404 Not Found\r\n        }\r\n    }\r\n```\r\n\r\nThe issue is that I&#39;m getting a 404 error instead of the expected result. It seems that the TableController isn&#39;t returning what I&#39;m mocking in the TableService. I&#39;m not sure if I&#39;m missing something in the configuration or if there&#39;s an issue with my test setup.\r\n\r\nAny guidance on what might be causing this issue and how to resolve it would be greatly appreciated. Thank you!","title":"Issue with Spring MockMVC and WebMvcTest not returning expected results","body":"<p>I'm currently working on a Spring Boot application and facing an issue when writing tests for my controllers. I have a controller class called TableController, and I'm trying to test the <code>getById</code> method using Spring's MockMvc. However, I'm not getting the expected results, and I'm not sure what's going wrong.</p>\n<p>Here's my setup:</p>\n<pre><code>@WebMvcTest(TableController.class)\n@WithMockUser\npublic class TableControllerTests {\n\n    @Autowired\n    private MockMvc mockMvc;\n    @MockBean\n    private TableService tableService;\n    private String rootUri;\n\n    @BeforeEach\n    public void setUp(){\n        this.rootUri = &quot;/tables&quot;;\n    }\n</code></pre>\n<p>In my test method:</p>\n<pre><code>@Test\n    public void getTableById() throws Exception {\n        // Arrange\n        Integer id = 1;\n        Table table = new Table(id);\n        String tableUri = rootUri + &quot;/&quot; + id;    // /tables/1\n        when(this.tableService.getById(id)).thenReturn(table);\n\n        // Act\n        RequestBuilder request = MockMvcRequestBuilders.get(tableUri, id)\n                .accept(MediaType.APPLICATION_JSON);\n\n        // Assert\n        this.mockMvc.perform(request)\n                .andExpect(status().isOk())\n                .andExpect(content().contentType(MediaType.APPLICATION_JSON))\n                .andExpect(jsonPath(&quot;$.id&quot;, is(id)));\n    }\n</code></pre>\n<p>And this is my controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/tables&quot;)\npublic class TableController {\n    @Autowired\n    TableService tableService;\n\n    @GetMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;Table&gt; getById(@PathVariable Integer id){\n        Table table = this.tableService.getById(id);\n\n        if (table != null) {\n            return ResponseEntity.ok(table); // 200 OK\n        } else {\n            return ResponseEntity.notFound().build(); // 404 Not Found\n        }\n    }\n</code></pre>\n<p>The issue is that I'm getting a 404 error instead of the expected result. It seems that the TableController isn't returning what I'm mocking in the TableService. I'm not sure if I'm missing something in the configuration or if there's an issue with my test setup.</p>\n<p>Any guidance on what might be causing this issue and how to resolve it would be greatly appreciated. Thank you!</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1699531245,"post_id":77452824,"comment_id":136545191,"body_markdown":"But if there are no people in the subgroup, it doesn&#39;t contain any people under 30.\nI&#39;d advise you to break down each of the requirements and check them separately rather than inlining them all into a stream in one go.","body":"But if there are no people in the subgroup, it doesn&#39;t contain any people under 30. I&#39;d advise you to break down each of the requirements and check them separately rather than inlining them all into a stream in one go."}],"answers":[{"tags":[],"owner":{"account_id":15262051,"reputation":9096,"user_id":11011793,"display_name":"MoxxiManagarm"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1699604334,"creation_date":1699530383,"answer_id":77452902,"question_id":77452824,"body_markdown":"Like this?\r\n\r\n```\r\nPredicate&lt;SubGroup&gt; isU30OnlySubGroup = subGroup -&gt;\r\n subGroup.getPeople().stream().allMatch(person -&gt; person.getAge() &gt;= 30);\r\n\r\nPredicate&lt;Summary&gt; hasU30OnlySubGroup = summary -&gt; \r\n summary.getGroup().getSubGroups().stream().anyMatch(isU30OnlySubGroup);\r\n\r\nList&lt;Summary&gt; filteredSummaries = \r\n summaries.stream().filter(hasU30OnlySubGroup).collect(Collectors.toList());\r\n```","title":"Using Java Streams to filter list based on grandchildren attributes","body":"<p>Like this?</p>\n<pre><code>Predicate&lt;SubGroup&gt; isU30OnlySubGroup = subGroup -&gt;\n subGroup.getPeople().stream().allMatch(person -&gt; person.getAge() &gt;= 30);\n\nPredicate&lt;Summary&gt; hasU30OnlySubGroup = summary -&gt; \n summary.getGroup().getSubGroups().stream().anyMatch(isU30OnlySubGroup);\n\nList&lt;Summary&gt; filteredSummaries = \n summaries.stream().filter(hasU30OnlySubGroup).collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":3002295,"reputation":475,"user_id":2547551,"display_name":"Jameson_uk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":77452902,"answer_count":1,"score":-1,"last_activity_date":1699604334,"creation_date":1699529699,"question_id":77452824,"body_markdown":"# Problem #\r\nI am wanting to use streams to filter a list based on whether or not a instance exists in the bottom level of a hierarchy.\r\nSo I have `List&lt;Summary&gt;` -&gt; `Group` -&gt; `Summary` -&gt; `Person` and I want to be able to filter this down to include entries where at least one of the subgroups does not contain any people under the age of 30.   If this criteria is met I want to keep that `Summary`.\r\n\r\nI ideally want to use plain Java and I am stuck on JDK-8 due to the application this is hosted on.  I cannot seem to figure out the right way to nest the streams to achieve this.\r\n\r\nI have got this far but it misses cases where there isn&#39;t a subgroup or where there are no people in the subgroup and I am not entirely convinced this is the correct logic\r\n```\r\nsummaries.stream()\r\n  .filter (s -&gt; s.getGreoup().getSubGroups.stream()\r\n    .anyMatch(sg -&gt; sg.getPeople.stream()\r\n      .noneMatch(p -&gt; p.getAge() &lt; 30)))\r\n.collect(Collectors.toList());\r\n```\r\n\r\n# Classes #\r\nI have `List&lt;Summary&gt;` which I want to filter and this breaks down as\r\n```\r\npublic class Summary {\r\n  Group aGroup;\r\n  Long numPeople;\r\n  String manager;\r\n}\r\n```\r\nof which there are multiple instances in a `List`.\r\nI then have\r\n```\r\npublic Class Group {\r\n  List&lt;SubGroup&gt; subGroups;\r\n  //...\r\n}\r\n```\r\n```\r\npublic Class SubGroup {\r\n  List&lt;Person&gt; people;\r\n  //...\r\n}\r\n```\r\n```\r\npublic class Person  {\r\n  String name;\r\n  int age;\r\n  //...\r\n}\r\n```","title":"Using Java Streams to filter list based on grandchildren attributes","body":"<h1>Problem</h1>\n<p>I am wanting to use streams to filter a list based on whether or not a instance exists in the bottom level of a hierarchy.\nSo I have <code>List&lt;Summary&gt;</code> -&gt; <code>Group</code> -&gt; <code>Summary</code> -&gt; <code>Person</code> and I want to be able to filter this down to include entries where at least one of the subgroups does not contain any people under the age of 30.   If this criteria is met I want to keep that <code>Summary</code>.</p>\n<p>I ideally want to use plain Java and I am stuck on JDK-8 due to the application this is hosted on.  I cannot seem to figure out the right way to nest the streams to achieve this.</p>\n<p>I have got this far but it misses cases where there isn't a subgroup or where there are no people in the subgroup and I am not entirely convinced this is the correct logic</p>\n<pre><code>summaries.stream()\n  .filter (s -&gt; s.getGreoup().getSubGroups.stream()\n    .anyMatch(sg -&gt; sg.getPeople.stream()\n      .noneMatch(p -&gt; p.getAge() &lt; 30)))\n.collect(Collectors.toList());\n</code></pre>\n<h1>Classes</h1>\n<p>I have <code>List&lt;Summary&gt;</code> which I want to filter and this breaks down as</p>\n<pre><code>public class Summary {\n  Group aGroup;\n  Long numPeople;\n  String manager;\n}\n</code></pre>\n<p>of which there are multiple instances in a <code>List</code>.\nI then have</p>\n<pre><code>public Class Group {\n  List&lt;SubGroup&gt; subGroups;\n  //...\n}\n</code></pre>\n<pre><code>public Class SubGroup {\n  List&lt;Person&gt; people;\n  //...\n}\n</code></pre>\n<pre><code>public class Person  {\n  String name;\n  int age;\n  //...\n}\n</code></pre>\n"},{"tags":["java","soap","wsdl","maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":23881045,"reputation":87,"user_id":17881743,"display_name":"Techie_Taks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699604227,"creation_date":1699604227,"answer_id":77458529,"question_id":77457969,"body_markdown":"Can you try to check if below snippet works?\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.1&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;wsimport&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;wsdlDirectory&gt;src/main/resources&lt;/wsdlDirectory&gt;\r\n                    &lt;wsdlFiles&gt;\r\n                        &lt;wsdlFile&gt;hexingws.wsdl&lt;/wsdlFile&gt;\r\n                    &lt;/wsdlFiles&gt;\r\n                    &lt;packageName&gt;com.example.myproject&lt;/packageName&gt;\r\n                    &lt;sourceDestDir&gt;src/main/java&lt;/sourceDestDir&gt;\r\n                    &lt;!-- Include binding files for data binding classes --&gt;\r\n                    &lt;bindingFiles&gt;\r\n                        &lt;bindingFile&gt;src/main/resources/your-binding-file.xml&lt;/bindingFile&gt;\r\n                    &lt;/bindingFiles&gt;\r\n                    &lt;!-- Generate client and server stubs --&gt;\r\n                    &lt;genClient&gt;true&lt;/genClient&gt;\r\n                    &lt;genServer&gt;true&lt;/genServer&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;!-- Include the required dependencies --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\nMake sure to replace your-binding-file.xml with the actual path to your binding file if you have one. Also, ensure that the required dependencies, such as jaxws-rt, are included in your project.","title":"I want to generate java code from wsdl file","body":"<p>Can you try to check if below snippet works?</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;4.0.1&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;wsimport&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;wsdlDirectory&gt;src/main/resources&lt;/wsdlDirectory&gt;\n                &lt;wsdlFiles&gt;\n                    &lt;wsdlFile&gt;hexingws.wsdl&lt;/wsdlFile&gt;\n                &lt;/wsdlFiles&gt;\n                &lt;packageName&gt;com.example.myproject&lt;/packageName&gt;\n                &lt;sourceDestDir&gt;src/main/java&lt;/sourceDestDir&gt;\n                &lt;!-- Include binding files for data binding classes --&gt;\n                &lt;bindingFiles&gt;\n                    &lt;bindingFile&gt;src/main/resources/your-binding-file.xml&lt;/bindingFile&gt;\n                &lt;/bindingFiles&gt;\n                &lt;!-- Generate client and server stubs --&gt;\n                &lt;genClient&gt;true&lt;/genClient&gt;\n                &lt;genServer&gt;true&lt;/genServer&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;dependencies&gt;\n        &lt;!-- Include the required dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\n            &lt;version&gt;2.3.5&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Make sure to replace your-binding-file.xml with the actual path to your binding file if you have one. Also, ensure that the required dependencies, such as jaxws-rt, are included in your project.</p>\n"}],"owner":{"account_id":17980241,"reputation":11,"user_id":13066769,"display_name":"Hashini Udara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699604227,"creation_date":1699595779,"question_id":77457969,"body_markdown":"I have the .wsdl file with me\r\n\r\nI need to generate the below files from it.\r\n-Service interface\r\n-Service implementation\r\n-Data binding classes\r\n-Client and server stub classes\r\n\r\nI used below plugin\r\n\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt; jakarta.xml.ws &lt;/groupId&gt;\r\n  &lt;artifactId&gt; jakarta.xml.ws-api &lt;/artifactId&gt;\r\n  &lt;version&gt; 4.0.1 &lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt; com.sun.xml.ws &lt;/groupId&gt;\r\n  &lt;artifactId&gt; jaxws-maven-plugin &lt;/artifactId&gt;\r\n  &lt;version&gt; 4.0.1 &lt;/version&gt;\r\n&lt;/plugin&gt; \r\n```\r\n\r\nAnd configured following below example\r\n```\r\n&lt;configuration&gt;\r\n  &lt;wsdlDirectory&gt; src/main/resources &lt;/wsdlDirectory&gt;\r\n  &lt;wsdlFiles&gt;\r\n    &lt;wsdlFile&gt; hexingws.wsdl &lt;/wsdlFile&gt;\r\n  &lt;/wsdlFiles&gt;\r\n  &lt;packageName&gt; com.example.myproject &lt;/packageName&gt;\r\n  &lt;sourceDestDir&gt; src/main/java &lt;/sourceDestDir&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nI run \r\n\r\n    mvn jaxws:wsimport\r\n\r\nIt generates,\r\n-Service interface\r\n-Service implementation\r\n\r\nbut not generating other 2 files,\r\n-Data binding classes\r\n-Client and server stub classes\r\n","title":"I want to generate java code from wsdl file","body":"<p>I have the .wsdl file with me</p>\n<p>I need to generate the below files from it.\n-Service interface\n-Service implementation\n-Data binding classes\n-Client and server stub classes</p>\n<p>I used below plugin</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt; jakarta.xml.ws &lt;/groupId&gt;\n  &lt;artifactId&gt; jakarta.xml.ws-api &lt;/artifactId&gt;\n  &lt;version&gt; 4.0.1 &lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;plugin&gt;\n  &lt;groupId&gt; com.sun.xml.ws &lt;/groupId&gt;\n  &lt;artifactId&gt; jaxws-maven-plugin &lt;/artifactId&gt;\n  &lt;version&gt; 4.0.1 &lt;/version&gt;\n&lt;/plugin&gt; \n</code></pre>\n<p>And configured following below example</p>\n<pre><code>&lt;configuration&gt;\n  &lt;wsdlDirectory&gt; src/main/resources &lt;/wsdlDirectory&gt;\n  &lt;wsdlFiles&gt;\n    &lt;wsdlFile&gt; hexingws.wsdl &lt;/wsdlFile&gt;\n  &lt;/wsdlFiles&gt;\n  &lt;packageName&gt; com.example.myproject &lt;/packageName&gt;\n  &lt;sourceDestDir&gt; src/main/java &lt;/sourceDestDir&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>I run</p>\n<pre><code>mvn jaxws:wsimport\n</code></pre>\n<p>It generates,\n-Service interface\n-Service implementation</p>\n<p>but not generating other 2 files,\n-Data binding classes\n-Client and server stub classes</p>\n"},{"tags":["java","macos","javafx"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":3,"creation_date":1636310606,"post_id":69875335,"comment_id":123516998,"body_markdown":"I like [sdkman](https://sdkman.io/). Then `sdk install java 17.0.1.fx-librca` to install the current release from Liberica (with included JavaFX). Or `sdk ls java` to see the various other current releases.","body":"I like <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">sdkman</a>. Then <code>sdk install java 17.0.1.fx-librca</code> to install the current release from Liberica (with included JavaFX). Or <code>sdk ls java</code> to see the various other current releases."},{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":1,"creation_date":1636311572,"post_id":69875335,"comment_id":123517234,"body_markdown":"+100000 for sdk man as Elliott suggested above. The main benefits of it is that you can have multiple versions installed, switch them whenever you need and (very important in case something goes wrong) they are installed in your home directory.","body":"+100000 for sdk man as Elliott suggested above. The main benefits of it is that you can have multiple versions installed, switch them whenever you need and (very important in case something goes wrong) they are installed in your home directory."},{"owner":{"account_id":67395,"reputation":370,"user_id":197238,"display_name":"Chris"},"score":0,"creation_date":1664626938,"post_id":69875335,"comment_id":130517510,"body_markdown":"java 17 is likely found where brew installed it under `/usr/local/Cellar/openjdk`","body":"java 17 is likely found where brew installed it under <code>&#47;usr&#47;local&#47;Cellar&#47;openjdk</code>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1636310400,"creation_date":1636310400,"answer_id":69875488,"question_id":69875335,"body_markdown":"Java doesn&#39;t mind if you install multiple versions. This is often required; java is not backwards compatible (it tries to change little, but e.g. the java8 to java9 transition broke a ton of stuff, much of it needless and much of it not reasonably expectable or fixable by libraries and apps, so a bunch of java apps and libraries only run on java8 - just an example).\r\n\r\nSo, yes, you have installed JDK17. Also, yes, if you just run `java` without specifying which one you want, you so happen to get java13 here.\r\n\r\nTo see all installed javas, you can run:\r\n\r\n```\r\n/usr/libexec/java_home -V\r\n```\r\n\r\nto &#39;override&#39;, you can use something like (depends on which shell you&#39;re using on your mac):\r\n\r\n```\r\nexport JAVA_HOME=`/usr/libexec/java_home -v 17`\r\n```\r\n\r\n(the backticks mean: Run this then take the output of it and treat that as the &#39;value&#39; of the expression. here, assign it to the JAVA_HOME env var. `-v 17` requests a path to java 17. The `-V` option lists all and is meant for your eyeballs, not for scripts. The `-v` option is mostly for scripting, and that&#39;s how we&#39;re using it here).\r\n\r\n`JAVA_HOME` decides which java is used by some things, but the `java` you get when you just type `java` is `/usr/bin/java`, and that executable is actually just a wrapper that picks a java to run from amongst all installed versions. It uses JAVA_HOME to decide which java to actually run. There are wrappers for all the common commands (`javac`, too). You can always run e.g. `which javac` to see what that actually runs; you probably see `/usr/bin/javac`. Everything in `/usr/bin` is one of these wrapper thingies that looks at JAVA_HOME and then runs the binary it finds _there_.\r\n","title":"macOS - How to install Java 17","body":"<p>Java doesn't mind if you install multiple versions. This is often required; java is not backwards compatible (it tries to change little, but e.g. the java8 to java9 transition broke a ton of stuff, much of it needless and much of it not reasonably expectable or fixable by libraries and apps, so a bunch of java apps and libraries only run on java8 - just an example).</p>\n<p>So, yes, you have installed JDK17. Also, yes, if you just run <code>java</code> without specifying which one you want, you so happen to get java13 here.</p>\n<p>To see all installed javas, you can run:</p>\n<pre><code>/usr/libexec/java_home -V\n</code></pre>\n<p>to 'override', you can use something like (depends on which shell you're using on your mac):</p>\n<pre><code>export JAVA_HOME=`/usr/libexec/java_home -v 17`\n</code></pre>\n<p>(the backticks mean: Run this then take the output of it and treat that as the 'value' of the expression. here, assign it to the JAVA_HOME env var. <code>-v 17</code> requests a path to java 17. The <code>-V</code> option lists all and is meant for your eyeballs, not for scripts. The <code>-v</code> option is mostly for scripting, and that's how we're using it here).</p>\n<p><code>JAVA_HOME</code> decides which java is used by some things, but the <code>java</code> you get when you just type <code>java</code> is <code>/usr/bin/java</code>, and that executable is actually just a wrapper that picks a java to run from amongst all installed versions. It uses JAVA_HOME to decide which java to actually run. There are wrappers for all the common commands (<code>javac</code>, too). You can always run e.g. <code>which javac</code> to see what that actually runs; you probably see <code>/usr/bin/javac</code>. Everything in <code>/usr/bin</code> is one of these wrapper thingies that looks at JAVA_HOME and then runs the binary it finds <em>there</em>.</p>\n"},{"tags":[],"owner":{"account_id":12695174,"reputation":45171,"user_id":9223839,"display_name":"Joakim Danielson"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1636311225,"creation_date":1636311225,"answer_id":69875590,"question_id":69875335,"body_markdown":"To used the version installed by homebrew rather than the one installed by the OS you can get detailed information from homebrew by typing \r\n\r\n    brew info java\r\n\r\nCurrently it states \r\n\r\n&gt;For the system Java wrappers to find this JDK, symlink it with\r\n  sudo ln -sfn /opt/homebrew/opt/openjdk/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk.jdk  &lt;/P&gt;\r\nopenjdk is keg-only, which means it was not symlinked into /opt/homebrew,\r\nbecause macOS provides similar software and installing this software in\r\nparallel can cause all kinds of trouble. &lt;/P&gt;\r\nIf you need to have openjdk first in your PATH, run:\r\n  echo &#39;export PATH=&quot;/opt/homebrew/opt/openjdk/bin:$PATH&quot;&#39; &gt;&gt; ~/.zshrc &lt;/P&gt;\r\nFor compilers to find openjdk you may need to set:\r\n  export CPPFLAGS=&quot;-I/opt/homebrew/opt/openjdk/include&quot;","title":"macOS - How to install Java 17","body":"<p>To used the version installed by homebrew rather than the one installed by the OS you can get detailed information from homebrew by typing</p>\n<pre><code>brew info java\n</code></pre>\n<p>Currently it states</p>\n<blockquote>\n<p>For the system Java wrappers to find this JDK, symlink it with\nsudo ln -sfn /opt/homebrew/opt/openjdk/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk.jdk  </P>\nopenjdk is keg-only, which means it was not symlinked into /opt/homebrew,\nbecause macOS provides similar software and installing this software in\nparallel can cause all kinds of trouble. </P>\nIf you need to have openjdk first in your PATH, run:\necho 'export PATH=&quot;/opt/homebrew/opt/openjdk/bin:$PATH&quot;' &gt;&gt; ~/.zshrc </P>\nFor compilers to find openjdk you may need to set:\nexport CPPFLAGS=&quot;-I/opt/homebrew/opt/openjdk/include&quot;</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1636323791,"creation_date":1636322919,"answer_id":69876906,"question_id":69875335,"body_markdown":"# Steps to install\r\n\r\nYou asked:\r\n\r\n&gt;let me know the steps to install Java on a Mac.\r\n\r\n 1. Download an installer free-of-cost from vendors such as [Adoptium][1], [Azul Systems][1], Bellsoft, [Amazon][2], Oracle, Microsoft, SAP, and others.\r\n 2. Run installer app.\r\n 3. Quit the installer app when done.\r\n 3. Verify installation by typing on a command-line in Terminal.app:&lt;br&gt;`java --version`\r\n 4. Delete installer app that you downloaded.\r\n 5. Configure your [IDE][3] to use that new Java implementation you installed.\r\n\r\n# Java location\r\n\r\nYou asked:\r\n\r\n&gt;Where is java 17 installed??\r\n\r\n`/Library/Java/JavaVirtualMachines/`\r\n\r\nIn the Finder, choose *Go* &gt; *Go to Folder*, and paste `/Library/Java/JavaVirtualMachines/`. \r\n\r\nNote that this is *not* the `Library` folder within your home folder. We are *not* referring to `/Users/your_user_name/Library/…`. We are referring to the root `Library` folder that applies across [all the user accounts][4] on this Mac. \r\n\r\nYou said:\r\n\r\n&gt;I did brew install java\r\n\r\nNo need for the [Homebrew][5] package manager. If you already enjoy using the `brew` tool, proceed. But if new to Homebrew, skip it if your only goal is to install Java. Just use an installer for Java as you would for many Mac apps.\r\n\r\n# *JavaFX*\r\n\r\nYou added a tag for `javafx`. \r\n\r\nBe aware that for JavaFX, you have two options:\r\n\r\n - Include the necessary [OpenJFX][6] libraries within your development project and within your final app, *or* … \r\n - Use a JDK that includes the JavaFX/OpenJFX libraries.\r\n\r\nAt least two vendors provide JDK installers that include the JavaFX/OpenJFX libraries:\r\n\r\n - Azul Systems (*ZuluFX*)\r\n - Bellsoft (*LibericaFX*)\r\n\r\n\r\n  [1]: https://adoptium.net/\r\n  [2]: https://aws.amazon.com/corretto/\r\n  [3]: https://en.wikipedia.org/wiki/Integrated_development_environment\r\n  [4]: https://support.apple.com/guide/mac-help/set-up-other-users-on-your-mac-mtusr001/mac\r\n  [5]: https://en.wikipedia.org/wiki/Homebrew_(package_manager)\r\n  [6]: https://openjfx.io/","title":"macOS - How to install Java 17","body":"<h1>Steps to install</h1>\n<p>You asked:</p>\n<blockquote>\n<p>let me know the steps to install Java on a Mac.</p>\n</blockquote>\n<ol>\n<li>Download an installer free-of-cost from vendors such as <a href=\"https://adoptium.net/\" rel=\"nofollow noreferrer\">Adoptium</a>, <a href=\"https://adoptium.net/\" rel=\"nofollow noreferrer\">Azul Systems</a>, Bellsoft, <a href=\"https://aws.amazon.com/corretto/\" rel=\"nofollow noreferrer\">Amazon</a>, Oracle, Microsoft, SAP, and others.</li>\n<li>Run installer app.</li>\n<li>Quit the installer app when done.</li>\n<li>Verify installation by typing on a command-line in Terminal.app:<br><code>java --version</code></li>\n<li>Delete installer app that you downloaded.</li>\n<li>Configure your <a href=\"https://en.wikipedia.org/wiki/Integrated_development_environment\" rel=\"nofollow noreferrer\">IDE</a> to use that new Java implementation you installed.</li>\n</ol>\n<h1>Java location</h1>\n<p>You asked:</p>\n<blockquote>\n<p>Where is java 17 installed??</p>\n</blockquote>\n<p><code>/Library/Java/JavaVirtualMachines/</code></p>\n<p>In the Finder, choose <em>Go</em> &gt; <em>Go to Folder</em>, and paste <code>/Library/Java/JavaVirtualMachines/</code>.</p>\n<p>Note that this is <em>not</em> the <code>Library</code> folder within your home folder. We are <em>not</em> referring to <code>/Users/your_user_name/Library/…</code>. We are referring to the root <code>Library</code> folder that applies across <a href=\"https://support.apple.com/guide/mac-help/set-up-other-users-on-your-mac-mtusr001/mac\" rel=\"nofollow noreferrer\">all the user accounts</a> on this Mac.</p>\n<p>You said:</p>\n<blockquote>\n<p>I did brew install java</p>\n</blockquote>\n<p>No need for the <a href=\"https://en.wikipedia.org/wiki/Homebrew_(package_manager)\" rel=\"nofollow noreferrer\">Homebrew</a> package manager. If you already enjoy using the <code>brew</code> tool, proceed. But if new to Homebrew, skip it if your only goal is to install Java. Just use an installer for Java as you would for many Mac apps.</p>\n<h1><em>JavaFX</em></h1>\n<p>You added a tag for <code>javafx</code>.</p>\n<p>Be aware that for JavaFX, you have two options:</p>\n<ul>\n<li>Include the necessary <a href=\"https://openjfx.io/\" rel=\"nofollow noreferrer\">OpenJFX</a> libraries within your development project and within your final app, <em>or</em> …</li>\n<li>Use a JDK that includes the JavaFX/OpenJFX libraries.</li>\n</ul>\n<p>At least two vendors provide JDK installers that include the JavaFX/OpenJFX libraries:</p>\n<ul>\n<li>Azul Systems (<em>ZuluFX</em>)</li>\n<li>Bellsoft (<em>LibericaFX</em>)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636406287,"creation_date":1636406287,"answer_id":69890049,"question_id":69875335,"body_markdown":"**This answer is specifically if you use Intellij on a Mac**\r\n\r\nWithin IntelliJ, you can use the IDE to add new JDKs of selected versions from common vendors.  Instructions for this are here:\r\n\r\n * [Setup the project JDK][1] \r\n\r\nWhen setting up the JDK, you can either:\r\n\r\n 1. Select a pre-existing JDK which has been registered with the IDE OR\r\n 2. Use the **Add JDK** option to add a new JDK which you previously downloaded and installed using the method outlined in [Basil&#39;s answer][2] OR\r\n 3. Use the **Download JDK** option to choose a vendor and version of the JDK that the IDE will automatically download, install and make available for selection.\r\n    * The JDKs installed by Idea will be located in the same location as outlined in [Basil&#39;s answer][2] for a manual install `/Library/Java/JavaVirtualMachines/`.\r\n\r\nOne common issue is that the version of the JDK registered for the project differs from the default version used in the terminal.  This can sometimes mean that the app works when run in Idea, then fails when run in the terminal (or, at least that it is executed against a version of the JDK you didn&#39;t expect).\r\n\r\nTo select the version of the JDK to run in the terminal, configure the Java home setting as outlined in [rzwitserloot&#39;s answer](https://stackoverflow.com/a/69875488/1155209).\r\n\r\n    export JAVA_HOME=`/usr/libexec/java_home -v 17`\r\n\r\nAlso, some tools such as the openjfx maven plugin will not use the java version selected in Idea when executing a call to a JDK tool like jlink, but will instead have their own mechanism for finding a JDK to use (e.g. look at JAVA_HOME or use the [Maven toolchains plugin][3]).  So it is always good to check the JAVA_HOME variable and ensure that it is set to a reasonable value, both for terminal execution and for effective use of Java development tools that may rely on it.\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/sdk.html#set-up-jdk\r\n  [2]: https://stackoverflow.com/a/69876906/1155209\r\n  [3]: https://maven.apache.org/guides/mini/guide-using-toolchains.html","title":"macOS - How to install Java 17","body":"<p><strong>This answer is specifically if you use Intellij on a Mac</strong></p>\n<p>Within IntelliJ, you can use the IDE to add new JDKs of selected versions from common vendors.  Instructions for this are here:</p>\n<ul>\n<li><a href=\"https://www.jetbrains.com/help/idea/sdk.html#set-up-jdk\" rel=\"nofollow noreferrer\">Setup the project JDK</a></li>\n</ul>\n<p>When setting up the JDK, you can either:</p>\n<ol>\n<li>Select a pre-existing JDK which has been registered with the IDE OR</li>\n<li>Use the <strong>Add JDK</strong> option to add a new JDK which you previously downloaded and installed using the method outlined in <a href=\"https://stackoverflow.com/a/69876906/1155209\">Basil's answer</a> OR</li>\n<li>Use the <strong>Download JDK</strong> option to choose a vendor and version of the JDK that the IDE will automatically download, install and make available for selection.\n<ul>\n<li>The JDKs installed by Idea will be located in the same location as outlined in <a href=\"https://stackoverflow.com/a/69876906/1155209\">Basil's answer</a> for a manual install <code>/Library/Java/JavaVirtualMachines/</code>.</li>\n</ul>\n</li>\n</ol>\n<p>One common issue is that the version of the JDK registered for the project differs from the default version used in the terminal.  This can sometimes mean that the app works when run in Idea, then fails when run in the terminal (or, at least that it is executed against a version of the JDK you didn't expect).</p>\n<p>To select the version of the JDK to run in the terminal, configure the Java home setting as outlined in <a href=\"https://stackoverflow.com/a/69875488/1155209\">rzwitserloot's answer</a>.</p>\n<pre><code>export JAVA_HOME=`/usr/libexec/java_home -v 17`\n</code></pre>\n<p>Also, some tools such as the openjfx maven plugin will not use the java version selected in Idea when executing a call to a JDK tool like jlink, but will instead have their own mechanism for finding a JDK to use (e.g. look at JAVA_HOME or use the <a href=\"https://maven.apache.org/guides/mini/guide-using-toolchains.html\" rel=\"nofollow noreferrer\">Maven toolchains plugin</a>).  So it is always good to check the JAVA_HOME variable and ensure that it is set to a reasonable value, both for terminal execution and for effective use of Java development tools that may rely on it.</p>\n"},{"tags":[],"owner":{"account_id":4567941,"reputation":500,"user_id":3708472,"display_name":"Peter S."},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1641416112,"creation_date":1641416112,"answer_id":70599468,"question_id":69875335,"body_markdown":"I think that answers here are not fully out of topic, but from my point of view, my case is exactly the same as that of the author. I had already installed java 8, 11, and 13. All of them resides at:\r\n\r\n`/Library/Java/JavaVirtualMachines/`\r\n\r\nNevertheless when I tried to find the path of JDK 17 it resides:\r\n\r\n`/usr/local/Cellar/openjdk`\r\n\r\nI use **Mac OS Big Sur** and the JDK was installed with **homebrew** ","title":"macOS - How to install Java 17","body":"<p>I think that answers here are not fully out of topic, but from my point of view, my case is exactly the same as that of the author. I had already installed java 8, 11, and 13. All of them resides at:</p>\n<p><code>/Library/Java/JavaVirtualMachines/</code></p>\n<p>Nevertheless when I tried to find the path of JDK 17 it resides:</p>\n<p><code>/usr/local/Cellar/openjdk</code></p>\n<p>I use <strong>Mac OS Big Sur</strong> and the JDK was installed with <strong>homebrew</strong></p>\n"},{"tags":[],"owner":{"account_id":134590,"reputation":26805,"user_id":336827,"accept_rate":61,"display_name":"freedev"},"down_vote_count":1,"up_vote_count":200,"is_accepted":false,"score":199,"last_activity_date":1699604141,"creation_date":1641803553,"answer_id":70649641,"question_id":69875335,"body_markdown":"## In 2023, even if you can use just `brew`..\r\n\r\n    brew install openjdk@17 \r\n\r\nJava will be installed here:\r\n\r\n    /usr/local/opt/openjdk@17/bin/java\r\n\r\nfor Apple Silicon path is `/opt/homebrew/...` rather than `/usr/local/...`\r\n\r\nFor the system Java wrappers to find this JDK, symlink it with:\r\n\r\n    sudo ln -sfn /usr/local/opt/openjdk@17/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk.jdk\r\n\r\nresp. for Silicon\r\n\r\n    sudo ln -sfn /opt/homebrew/opt/openjdk\\@17/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk.jdk\r\n\r\nNow, running `/usr/libexec/java_home -V` should show the path to JAVA 17, something like:\r\n\r\n    17.0.9 (x86_64) &quot;Homebrew&quot; - &quot;OpenJDK 17.0.9&quot; /usr/local/Cellar/openjdk@17/17.0.9/libexec/openjdk.jdk/Contents/Home\r\n\r\n(This is what you are missing btw, if `javac` or `javac --version` does not give you a command-not-found but an `The operation couldn’t be completed. Unable to locate a Java Runtime.`)\r\n\r\nIn case you see the wrong version, check if the path to `JAVA_HOME` is set correctly. If not, you could set it by:\r\n\r\n    export JAVA_HOME=\\$(/usr/libexec/java_home)\r\n\r\n# ...give a try to [`sdkman`][1], it&#39;s far better than `brew`\r\n\r\n    curl -s &quot;https://get.sdkman.io&quot; | bash\r\n\r\nthen open a **new shell** and try `list` to see what you could install ;-)\r\n\r\n    sdk list java \r\n\r\nAt time of writing you could use:\r\n\r\n    sdk install java 17.0.4.1-tem\r\n\r\nJava will be installed here:\r\n\r\n    /Users/freedev/.sdkman/candidates/java/17.0.4.1-tem\r\n\r\n  [1]: https://sdkman.io/\r\n","title":"macOS - How to install Java 17","body":"<h2>In 2023, even if you can use just <code>brew</code>..</h2>\n<pre><code>brew install openjdk@17 \n</code></pre>\n<p>Java will be installed here:</p>\n<pre><code>/usr/local/opt/openjdk@17/bin/java\n</code></pre>\n<p>for Apple Silicon path is <code>/opt/homebrew/...</code> rather than <code>/usr/local/...</code></p>\n<p>For the system Java wrappers to find this JDK, symlink it with:</p>\n<pre><code>sudo ln -sfn /usr/local/opt/openjdk@17/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk.jdk\n</code></pre>\n<p>resp. for Silicon</p>\n<pre><code>sudo ln -sfn /opt/homebrew/opt/openjdk\\@17/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk.jdk\n</code></pre>\n<p>Now, running <code>/usr/libexec/java_home -V</code> should show the path to JAVA 17, something like:</p>\n<pre><code>17.0.9 (x86_64) &quot;Homebrew&quot; - &quot;OpenJDK 17.0.9&quot; /usr/local/Cellar/openjdk@17/17.0.9/libexec/openjdk.jdk/Contents/Home\n</code></pre>\n<p>(This is what you are missing btw, if <code>javac</code> or <code>javac --version</code> does not give you a command-not-found but an <code>The operation couldn’t be completed. Unable to locate a Java Runtime.</code>)</p>\n<p>In case you see the wrong version, check if the path to <code>JAVA_HOME</code> is set correctly. If not, you could set it by:</p>\n<pre><code>export JAVA_HOME=\\$(/usr/libexec/java_home)\n</code></pre>\n<h1>...give a try to <a href=\"https://sdkman.io/\" rel=\"noreferrer\"><code>sdkman</code></a>, it's far better than <code>brew</code></h1>\n<pre><code>curl -s &quot;https://get.sdkman.io&quot; | bash\n</code></pre>\n<p>then open a <strong>new shell</strong> and try <code>list</code> to see what you could install ;-)</p>\n<pre><code>sdk list java \n</code></pre>\n<p>At time of writing you could use:</p>\n<pre><code>sdk install java 17.0.4.1-tem\n</code></pre>\n<p>Java will be installed here:</p>\n<pre><code>/Users/freedev/.sdkman/candidates/java/17.0.4.1-tem\n</code></pre>\n"},{"tags":[],"owner":{"account_id":101108,"reputation":13957,"user_id":272180,"accept_rate":62,"display_name":"yglodt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669217162,"creation_date":1649794890,"answer_id":71848711,"question_id":69875335,"body_markdown":"The following method installs Java without the need for any additional tools or package managers.\r\n\r\n&lt;s&gt;Go to https://jdk.java.net/17/ and download the latest macOS archive.&lt;/s&gt;\r\n\r\nDownload the latest Adoptium release for the Java 17 branch by going to https://adoptium.net/temurin/releases/ and be sure to select the `tar.gz` version.\r\n\r\nThe archive is either for x64 (Intel CPU) or for AArch64 (Apple Silicon / M1 CPU).\r\n\r\nThen, open a Terminal, and extract the downloaded archive to the system path for Java virtual machines:\r\n\r\n    cd Downloads\r\n    tar xzf OpenJDK17U-jdk_aarch64_mac_hotspot_17.0.5_8.tar.gz -C /Library/Java/JavaVirtualMachines","title":"macOS - How to install Java 17","body":"<p>The following method installs Java without the need for any additional tools or package managers.</p>\n<p><s>Go to <a href=\"https://jdk.java.net/17/\" rel=\"nofollow noreferrer\">https://jdk.java.net/17/</a> and download the latest macOS archive.</s></p>\n<p>Download the latest Adoptium release for the Java 17 branch by going to <a href=\"https://adoptium.net/temurin/releases/\" rel=\"nofollow noreferrer\">https://adoptium.net/temurin/releases/</a> and be sure to select the <code>tar.gz</code> version.</p>\n<p>The archive is either for x64 (Intel CPU) or for AArch64 (Apple Silicon / M1 CPU).</p>\n<p>Then, open a Terminal, and extract the downloaded archive to the system path for Java virtual machines:</p>\n<pre><code>cd Downloads\ntar xzf OpenJDK17U-jdk_aarch64_mac_hotspot_17.0.5_8.tar.gz -C /Library/Java/JavaVirtualMachines\n</code></pre>\n"},{"tags":[],"owner":{"account_id":141800,"reputation":609,"user_id":349091,"accept_rate":17,"display_name":"grbonk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655828661,"creation_date":1655828661,"answer_id":72704173,"question_id":69875335,"body_markdown":"Brew now supports searching old formulae and allowing you to install a specific version.  I&#39;m using `Homebrew 3.5.2-117-gb941470`\r\n\r\n1. Create a local tap: `brew tap-new --no-git local/openjdk`\r\n1. Ask Brew to find the formulae of the version you want: `brew extract --version 17.0.2 openjdk local/openjdk`\r\n1. Install Java 17 using your new local tap: `brew install openjdk@17.0.2`\r\n1. Link the JDK into the MacOS JVM Dir: `sudo ln -sfn /usr/local/opt/openjdk@17.0.2/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk17.0.2.jdk`\r\n1. Check Java 17 is available: `/usr/libexec/java_home -V`\r\n1. Set Java Home: `export JAVA_HOME=$(/usr/libexec/java_home -v17)`\r\n1. Check current version of Java is correct...\r\n\r\n```\r\n$ java --version\r\nopenjdk 17.0.2 2022-01-18\r\n```\r\n","title":"macOS - How to install Java 17","body":"<p>Brew now supports searching old formulae and allowing you to install a specific version.  I'm using <code>Homebrew 3.5.2-117-gb941470</code></p>\n<ol>\n<li>Create a local tap: <code>brew tap-new --no-git local/openjdk</code></li>\n<li>Ask Brew to find the formulae of the version you want: <code>brew extract --version 17.0.2 openjdk local/openjdk</code></li>\n<li>Install Java 17 using your new local tap: <code>brew install openjdk@17.0.2</code></li>\n<li>Link the JDK into the MacOS JVM Dir: <code>sudo ln -sfn /usr/local/opt/openjdk@17.0.2/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk17.0.2.jdk</code></li>\n<li>Check Java 17 is available: <code>/usr/libexec/java_home -V</code></li>\n<li>Set Java Home: <code>export JAVA_HOME=$(/usr/libexec/java_home -v17)</code></li>\n<li>Check current version of Java is correct...</li>\n</ol>\n<pre><code>$ java --version\nopenjdk 17.0.2 2022-01-18\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2890991,"reputation":2561,"user_id":2479786,"accept_rate":64,"display_name":"Ehud Lev"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1660334366,"creation_date":1656309216,"answer_id":72767481,"question_id":69875335,"body_markdown":"To specify version 17 \r\n\r\n    brew install openjdk@17\r\n\r\nLater I add create a link:\r\n\r\n```\r\nsudo ln -sfn /usr/local/opt/openjdk@17/libexec/openjdk.jdk \\\r\n     /Library/Java/JavaVirtualMachines/openjdk-17.jdk\r\n```\r\n\r\nAnd use [jenv][1] to control which java version to use\r\n\r\n\r\n  [1]: https://www.jenv.be/","title":"macOS - How to install Java 17","body":"<p>To specify version 17</p>\n<pre><code>brew install openjdk@17\n</code></pre>\n<p>Later I add create a link:</p>\n<pre><code>sudo ln -sfn /usr/local/opt/openjdk@17/libexec/openjdk.jdk \\\n     /Library/Java/JavaVirtualMachines/openjdk-17.jdk\n</code></pre>\n<p>And use <a href=\"https://www.jenv.be/\" rel=\"noreferrer\">jenv</a> to control which java version to use</p>\n"},{"tags":[],"owner":{"account_id":3037164,"reputation":1912,"user_id":2574965,"display_name":"Pukhraj soni"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1664363426,"creation_date":1664363426,"answer_id":73880422,"question_id":69875335,"body_markdown":"For Homebrew, the package that installs the new AdoptOpenJDK is named as temurin. So you need to use below command:\r\n\r\n    brew install --cask temurin17\r\n\r\n\r\nIf you get any error like temurin cask not available then update brew using below commands:\r\n\r\n    brew update\r\n    brew tap homebrew/cask-versions\r\n\r\nTo switch quickly between different versions of java add the entries in bashrc as per your jdk versions like:\r\n\r\n    alias j8=&quot;export JAVA_HOME=`/usr/libexec/java_home -v 1.8`; java -version&quot;\r\n    alias j17=&quot;export JAVA_HOME=`/usr/libexec/java_home -v 17`; java -version&quot;\r\n\r\n","title":"macOS - How to install Java 17","body":"<p>For Homebrew, the package that installs the new AdoptOpenJDK is named as temurin. So you need to use below command:</p>\n<pre><code>brew install --cask temurin17\n</code></pre>\n<p>If you get any error like temurin cask not available then update brew using below commands:</p>\n<pre><code>brew update\nbrew tap homebrew/cask-versions\n</code></pre>\n<p>To switch quickly between different versions of java add the entries in bashrc as per your jdk versions like:</p>\n<pre><code>alias j8=&quot;export JAVA_HOME=`/usr/libexec/java_home -v 1.8`; java -version&quot;\nalias j17=&quot;export JAVA_HOME=`/usr/libexec/java_home -v 17`; java -version&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5865743,"reputation":2651,"user_id":4619784,"display_name":"Hany Sakr"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1688039508,"creation_date":1680159245,"answer_id":75884985,"question_id":69875335,"body_markdown":"I&#39;m currently using SDKMAN on macOS to switch between JAVA 11 and 17 based on the project I&#39;m working on, it&#39;s pretty easy\r\n\r\n     curl -s &quot;https://get.sdkman.io&quot; | bash \r\n     source &quot;/users/#USER_HOME/.sdkman/bin/sdkman-init.sh&quot;\r\n     sdk list java\r\n     sdk install java #JAVA_IDENTIFIER\r\n     sdk use java #JAVA_IDENTIFIER\r\n\r\nThen each time switch using\r\n\r\n     sdk list java\r\n     sdk use java #JAVA_IDENTIFIER\r\n\r\nYou could also allow your IDE such as Intellij to use the system console bash, so you could switch using SKD command from inside the IDE terminal \r\n","title":"macOS - How to install Java 17","body":"<p>I'm currently using SDKMAN on macOS to switch between JAVA 11 and 17 based on the project I'm working on, it's pretty easy</p>\n<pre><code> curl -s &quot;https://get.sdkman.io&quot; | bash \n source &quot;/users/#USER_HOME/.sdkman/bin/sdkman-init.sh&quot;\n sdk list java\n sdk install java #JAVA_IDENTIFIER\n sdk use java #JAVA_IDENTIFIER\n</code></pre>\n<p>Then each time switch using</p>\n<pre><code> sdk list java\n sdk use java #JAVA_IDENTIFIER\n</code></pre>\n<p>You could also allow your IDE such as Intellij to use the system console bash, so you could switch using SKD command from inside the IDE terminal</p>\n"}],"owner":{"account_id":15328195,"reputation":2461,"user_id":11058704,"display_name":"RamPrakash"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168671,"favorite_count":0,"down_vote_count":2,"up_vote_count":88,"accepted_answer_id":69875488,"answer_count":11,"score":86,"last_activity_date":1699604141,"creation_date":1636309360,"question_id":69875335,"body_markdown":"Could someone please let me know the steps to install Java on a Mac.\r\n\r\nI did `brew install java`\r\n\r\nI get this\r\n\r\n    Warning: openjdk 17.0.1 is already installed and up-to-date.\r\n    To reinstall 17.0.1, run:\r\n      brew reinstall openjdk\r\n\r\nIf I do java -version, I get this.\r\n\r\n    openjdk version &quot;13.0.8&quot; 2021-07-20\r\n    \r\nIf I have navigate to `/Library/Java`, I have 2 empty directories.\r\n\r\nWhere is java 17 installed??","title":"macOS - How to install Java 17","body":"<p>Could someone please let me know the steps to install Java on a Mac.</p>\n<p>I did <code>brew install java</code></p>\n<p>I get this</p>\n<pre><code>Warning: openjdk 17.0.1 is already installed and up-to-date.\nTo reinstall 17.0.1, run:\n  brew reinstall openjdk\n</code></pre>\n<p>If I do java -version, I get this.</p>\n<pre><code>openjdk version &quot;13.0.8&quot; 2021-07-20\n</code></pre>\n<p>If I have navigate to <code>/Library/Java</code>, I have 2 empty directories.</p>\n<p>Where is java 17 installed??</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":7780793,"reputation":25,"user_id":5887268,"display_name":"Daniel Jabłoński"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699465688,"creation_date":1699465688,"answer_id":77447858,"question_id":77447286,"body_markdown":"Try without implements BeanDefinitionRegistryPostProcessor\r\n\r\nMy excample\r\n\r\n        @Configuration\r\n        public class ConfigurationProvider {\r\n        \r\n            \r\n            @Bean\r\n            public ConfigurationItem cessionBuyersImportConfigurationItem() {\r\n                return new ImportConfigurationItem(1);\r\n            }\r\n            @Bean\r\n            public ConfigurationItem cessionBuyersImportConfigurationItem() {\r\n                return new ImportConfigurationItem(2);\r\n            }\r\n        \r\n        }\r\n    \t\r\n    \t\r\n    \t@Component\r\n    public class Configuration {\r\n    \r\n     public Configuration(List&lt;ConfigurationItem&gt; configurationItems) {\r\n           // do something with beans\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Spring boot Manually Inject @Configuration bean registration before Initialization","body":"<p>Try without implements BeanDefinitionRegistryPostProcessor</p>\n<p>My excample</p>\n<pre><code>    @Configuration\n    public class ConfigurationProvider {\n    \n        \n        @Bean\n        public ConfigurationItem cessionBuyersImportConfigurationItem() {\n            return new ImportConfigurationItem(1);\n        }\n        @Bean\n        public ConfigurationItem cessionBuyersImportConfigurationItem() {\n            return new ImportConfigurationItem(2);\n        }\n    \n    }\n    \n    \n    @Component\npublic class Configuration {\n\n public Configuration(List&lt;ConfigurationItem&gt; configurationItems) {\n       // do something with beans\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":952025,"reputation":593,"user_id":977959,"display_name":"danipenaperez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699603771,"creation_date":1699460663,"question_id":77447286,"body_markdown":"I want to know if I can manually inject @Configuration classes (that will fire inject bean creations) manually.\r\n\r\nDesired working code:\r\n\r\n    @SpringBootApplication\r\n    public class EnvironmentApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tConfigurableApplicationContext ap = SpringApplication.run(EnvironmentApplication.class, args);\r\n    \t\tap.getBean(Car.class); //I hope this will be created\r\n    \t}\r\n    \r\n    }\r\n\r\nThe Car bean would be injected by ManualConfiguration.class. But keep in mind that ManualConfiguration is not scanned (imagine in other top level packaging hierarchy)\r\n\r\n    @Configuration\r\n    public class ManualConfiguration {\r\n    \r\n    \t@Bean\r\n    \tpublic Car car() {\r\n    \t\treturn new Car();\r\n    \t}\r\n    }\r\n\r\nMy question : I am trying to add the @Configuration class (ManuallyConfiguration.class) manually via BeanDefinitionRegistryPostProcessor.\r\n\r\n    @Component\r\n    public class Processors implements BeanDefinitionRegistryPostProcessor{\r\n    \r\n    \t@Override\r\n    \tpublic void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\r\n    \t\tSystem.out.println(&quot;postProcessBeanFactory   -&gt;  &quot;+beanFactory);\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void postProcessBeanDefinitionRegistry(BeanDefinitionRegistry registry) throws BeansException {\r\n    \t\tSystem.out.println(&quot;postProcessBeanDefinitionRegistry   -&gt;  &quot;+registry);\r\n    \t\tGenericBeanDefinition bd = new GenericBeanDefinition();\r\n    \t\tbd.setBeanClass(ManualConfiguration.class);\r\n    \t\tregistry.registerBeanDefinition(&quot;manualCarLoading&quot;, bd);\r\n    \t}\r\n    }\r\n\r\nBut the ManuallyConfiguration.class is not interpreted as @Configuration class and related beans are not created.\r\n\r\nUpdate: To clarify , I want to do manually like @import(MyConfiguration.class)  annotation works \r\n(Sure in a previous phase before BeanDefinitionRegistryPostProcessor I think, maybe after first spring boot scan phase)\r\n\r\nSure, is a &quot;why do you want to do this?&quot; absurd question, but I want to know how to do work in this way \r\n\r\nThanks in advance","title":"Spring boot Manually Inject @Configuration bean registration before Initialization","body":"<p>I want to know if I can manually inject @Configuration classes (that will fire inject bean creations) manually.</p>\n<p>Desired working code:</p>\n<pre><code>@SpringBootApplication\npublic class EnvironmentApplication {\n\n    public static void main(String[] args) {\n        ConfigurableApplicationContext ap = SpringApplication.run(EnvironmentApplication.class, args);\n        ap.getBean(Car.class); //I hope this will be created\n    }\n\n}\n</code></pre>\n<p>The Car bean would be injected by ManualConfiguration.class. But keep in mind that ManualConfiguration is not scanned (imagine in other top level packaging hierarchy)</p>\n<pre><code>@Configuration\npublic class ManualConfiguration {\n\n    @Bean\n    public Car car() {\n        return new Car();\n    }\n}\n</code></pre>\n<p>My question : I am trying to add the @Configuration class (ManuallyConfiguration.class) manually via BeanDefinitionRegistryPostProcessor.</p>\n<pre><code>@Component\npublic class Processors implements BeanDefinitionRegistryPostProcessor{\n\n    @Override\n    public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\n        System.out.println(&quot;postProcessBeanFactory   -&gt;  &quot;+beanFactory);\n        \n    }\n\n    @Override\n    public void postProcessBeanDefinitionRegistry(BeanDefinitionRegistry registry) throws BeansException {\n        System.out.println(&quot;postProcessBeanDefinitionRegistry   -&gt;  &quot;+registry);\n        GenericBeanDefinition bd = new GenericBeanDefinition();\n        bd.setBeanClass(ManualConfiguration.class);\n        registry.registerBeanDefinition(&quot;manualCarLoading&quot;, bd);\n    }\n}\n</code></pre>\n<p>But the ManuallyConfiguration.class is not interpreted as @Configuration class and related beans are not created.</p>\n<p>Update: To clarify , I want to do manually like @import(MyConfiguration.class)  annotation works\n(Sure in a previous phase before BeanDefinitionRegistryPostProcessor I think, maybe after first spring boot scan phase)</p>\n<p>Sure, is a &quot;why do you want to do this?&quot; absurd question, but I want to know how to do work in this way</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","json","hibernate","jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":8277997,"reputation":1415,"user_id":6223518,"accept_rate":58,"display_name":"Dave Pateral"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584905275,"creation_date":1490420269,"answer_id":43012963,"question_id":43012174,"body_markdown":"You could try to change the column name `collegeId` to `schoolId` in table `school`, and then modify this line:\r\n\r\n    @ManyToOne(targetEntity = School.class, fetch = FetchType.LAZY, optional = false)\r\n    @JoinColumn(referencedColumnName = &quot;schoolId&quot;, insertable = false, updatable = false)\r\n    private School school;\r\n\r\n","title":"Save entity object with foreign key using CrudRepository","body":"<p>You could try to change the column name <code>collegeId</code> to <code>schoolId</code> in table <code>school</code>, and then modify this line:</p>\n\n<pre><code>@ManyToOne(targetEntity = School.class, fetch = FetchType.LAZY, optional = false)\n@JoinColumn(referencedColumnName = \"schoolId\", insertable = false, updatable = false)\nprivate School school;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7020942,"reputation":28614,"user_id":5380322,"accept_rate":62,"display_name":"Cepr0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490434243,"creation_date":1490434243,"answer_id":43014738,"question_id":43012174,"body_markdown":"In the entity `Student` the property `school` is an object. To insert new student you must use a reference to `school` object. So your payload must be like this:\r\n\r\n    {\r\n        &quot;studentId&quot;: 2015020,\r\n        &quot;studentName&quot;: &quot;ABC&quot;,\r\n        &quot;school&quot;: &quot;http://localhost:8080/api/schools/1&quot;\r\n    }\r\n\r\nAlso you can simplify the definition of the property `school`:\r\n\r\n    @ManyToOne(optional = false)\r\n    private School school;","title":"Save entity object with foreign key using CrudRepository","body":"<p>In the entity <code>Student</code> the property <code>school</code> is an object. To insert new student you must use a reference to <code>school</code> object. So your payload must be like this:</p>\n\n<pre><code>{\n    \"studentId\": 2015020,\n    \"studentName\": \"ABC\",\n    \"school\": \"http://localhost:8080/api/schools/1\"\n}\n</code></pre>\n\n<p>Also you can simplify the definition of the property <code>school</code>:</p>\n\n<pre><code>@ManyToOne(optional = false)\nprivate School school;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6540645,"reputation":588,"user_id":5058362,"display_name":"grizzly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490448874,"creation_date":1490448874,"answer_id":43017007,"question_id":43012174,"body_markdown":"Just check if the name of database column match with entity mapping:\r\nIf identity column of school table in DB is &quot;school_id&quot;, mention it in your mapping:\r\n\r\n      @Id\r\n      @Column(name = &quot;school_id&quot;)\r\n      @GeneratedValue(strategy = GenerationType.AUTO)\r\n      private Integer schoolId;","title":"Save entity object with foreign key using CrudRepository","body":"<p>Just check if the name of database column match with entity mapping:\nIf identity column of school table in DB is \"school_id\", mention it in your mapping:</p>\n\n<pre><code>  @Id\n  @Column(name = \"school_id\")\n  @GeneratedValue(strategy = GenerationType.AUTO)\n  private Integer schoolId;\n</code></pre>\n"}],"owner":{"account_id":324759,"reputation":1607,"user_id":645536,"accept_rate":50,"display_name":"anirus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9410,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1699603555,"creation_date":1490412390,"question_id":43012174,"body_markdown":"I have two entity classes with @ManyToOne relationship as below.\r\n\r\n    @Entity\r\n    public class Student {\r\n    \r\n      @Id\r\n      private Integer studentId;\r\n    \r\n      @Column(nullable = false)\r\n      private String studentName;\r\n    \r\n      @ManyToOne(targetEntity = School.class, fetch = FetchType.LAZY, optional = false)\r\n      @JoinColumn(referencedColumnName = &quot;schoolId&quot;, insertable = false, updatable = false)\r\n      private School school;\r\n\r\n      //Getters and Setters methods\r\n.\r\n\r\n    @Entity\r\n    public class School {\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.AUTO)\r\n      private Integer schoolId;\r\n    \r\n      @Column(nullable = false)\r\n      private String schoolName;\r\n\r\n      //Getters and Setters methods\r\n\r\nWhen I try to save the student object using CrudRepository default method `studentRepository.save(student)` with JSON payload, it gives me an error `java.sql.SQLException: Field &#39;school_id&#39; doesn&#39;t have a default value`.  When I run in the debug mode I can see that the School object is being set correctly.\r\n\r\nMy JSON payload is as follows:\r\n\r\n    [\r\n    \t{\r\n          &quot;studentId&quot;: &quot;2015020&quot;,\r\n          &quot;studentName&quot;: &quot;ABC&quot;,\r\n          &quot;school&quot;: {\r\n          \t&quot;schoolId&quot;: 1\r\n          }\r\n        }\r\n    ]\r\n\r\nI am new to Spring Data JPA, so this might be a very basic mistake.\r\n","title":"Save entity object with foreign key using CrudRepository","body":"<p>I have two entity classes with @ManyToOne relationship as below.</p>\n\n<pre><code>@Entity\npublic class Student {\n\n  @Id\n  private Integer studentId;\n\n  @Column(nullable = false)\n  private String studentName;\n\n  @ManyToOne(targetEntity = School.class, fetch = FetchType.LAZY, optional = false)\n  @JoinColumn(referencedColumnName = \"schoolId\", insertable = false, updatable = false)\n  private School school;\n\n  //Getters and Setters methods\n</code></pre>\n\n<p>.</p>\n\n<pre><code>@Entity\npublic class School {\n  @Id\n  @GeneratedValue(strategy = GenerationType.AUTO)\n  private Integer schoolId;\n\n  @Column(nullable = false)\n  private String schoolName;\n\n  //Getters and Setters methods\n</code></pre>\n\n<p>When I try to save the student object using CrudRepository default method <code>studentRepository.save(student)</code> with JSON payload, it gives me an error <code>java.sql.SQLException: Field 'school_id' doesn't have a default value</code>.  When I run in the debug mode I can see that the School object is being set correctly.</p>\n\n<p>My JSON payload is as follows:</p>\n\n<pre><code>[\n    {\n      \"studentId\": \"2015020\",\n      \"studentName\": \"ABC\",\n      \"school\": {\n        \"schoolId\": 1\n      }\n    }\n]\n</code></pre>\n\n<p>I am new to Spring Data JPA, so this might be a very basic mistake.</p>\n"},{"tags":["java","selenium-webdriver","xpath"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1698806794,"post_id":77399674,"comment_id":136451207,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1698831835,"post_id":77399674,"comment_id":136453842,"body_markdown":"Google this **How to handle dynamic web tables in selenium**. You should get a plenty of solutions. Am posting one of the google search results here https://www.guru99.com/handling-dynamic-selenium-webdriver.html","body":"Google this <b>How to handle dynamic web tables in selenium</b>. You should get a plenty of solutions. Am posting one of the google search results here <a href=\"https://www.guru99.com/handling-dynamic-selenium-webdriver.html\" rel=\"nofollow noreferrer\">guru99.com/handling-dynamic-selenium-webdriver.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":29250061,"reputation":96,"user_id":22409607,"display_name":"touero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699603329,"creation_date":1699602873,"answer_id":77458429,"question_id":77399674,"body_markdown":"    from selenium.webdriver.support.wait import WebDriverWait\r\n    from selenium.webdriver.support import expected_conditions as ec\r\n    from selenium.webdriver.common.by import By\r\n    ...\r\n    rows = WebDriverWait(driver,timeout=5).until(ec.presence_of_all_elements_located((By.XPATH,&#39;//div[@id=&quot;table_ls&quot;]tbodytr&#39;)))\r\n    for row in rows:\r\n        date = row.find_element(By.XPATH, &#39;./td[1]&#39;).text\r\n        closing_price = row.find_element(By.XPATH, &#39;./td[2]&#39;).text\r\n        fluctuation_range = row.find_element(By.XPATH, &#39;./td[3]&#39;).text\r\n        row.find_element(By.XPATH, &#39;./td[4]&#39;).click()\r\n        row.find_element(By.XPATH, &#39;./td[5]&#39;).get_attribute(&#39;value&#39;)\r\n        ...\r\n        ...\r\n    ...\r\nHello, I have not used selenium in Java, but please allow me to use my thought process in python. I have omitted some initialization code and hope you can understand it. First, rows is List of elements in each row of the table. When I want to access which cell of a row I do it in a loop, like above, so you can make sure that the xpath you use has nothing to do with the changing id.","title":"I can&#39;t locate a button that is used to delete a record by its xpath in selenium","body":"<pre><code>from selenium.webdriver.support.wait import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as ec\nfrom selenium.webdriver.common.by import By\n...\nrows = WebDriverWait(driver,timeout=5).until(ec.presence_of_all_elements_located((By.XPATH,'//div[@id=&quot;table_ls&quot;]tbodytr')))\nfor row in rows:\n    date = row.find_element(By.XPATH, './td[1]').text\n    closing_price = row.find_element(By.XPATH, './td[2]').text\n    fluctuation_range = row.find_element(By.XPATH, './td[3]').text\n    row.find_element(By.XPATH, './td[4]').click()\n    row.find_element(By.XPATH, './td[5]').get_attribute('value')\n    ...\n    ...\n...\n</code></pre>\n<p>Hello, I have not used selenium in Java, but please allow me to use my thought process in python. I have omitted some initialization code and hope you can understand it. First, rows is List of elements in each row of the table. When I want to access which cell of a row I do it in a loop, like above, so you can make sure that the xpath you use has nothing to do with the changing id.</p>\n"}],"owner":{"account_id":29798523,"reputation":1,"user_id":22836876,"display_name":"Test Freex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1699603329,"creation_date":1698797121,"question_id":77399674,"body_markdown":"I have an element that is in a table, in this table records with a different id are saved.\r\n\r\nThis is the type of the delete button\r\n\r\n    &lt;span class=&quot; material-icons notranslate icon&quot; aria-hidden=&quot;true&quot;&gt;delete&lt;/span&gt;\r\n\r\nThis is the relative XPATH:\r\n\r\n    //tr[@id=&#39;223&#39;]//span[contains(@class,&#39;notranslate icon&#39;)][normalize-space()=&#39;delete&#39;]\r\n\r\nIf I search for it with the ID it finds it but the record I created I don&#39;t know what ID it will be, it could be 224 or it could be 14556 so I need to click on that element.\r\n````\r\n&lt;a class=&quot;btn btn-icon btn-destructive-sec btn-md md-component ghost text-capitalize text-danger-400 &quot; data-title=&quot;Delete &quot; data-toggle=&quot;tooltip&quot; data-placement=&quot;left &quot; data-confirm=&quot;Are you sure you want to delete this offer letter template?&quot; rel=&quot;nofollow&quot; data-method=&quot;delete&quot; href=&quot;/recruiting/offer_letter/templates/241&quot; data-original-title=&quot;&quot; title=&quot;&quot;&gt;\r\n&lt;span class=&quot; material-icons notranslate icon&quot; aria-hidden=&quot;true&quot;&gt;delete&lt;/span&gt;\r\n````\r\nWhen I search for an element by xpath it finds it but the next element&#39;s ID will be different and I can&#39;t find it there anymore","title":"I can&#39;t locate a button that is used to delete a record by its xpath in selenium","body":"<p>I have an element that is in a table, in this table records with a different id are saved.</p>\n<p>This is the type of the delete button</p>\n<pre><code>&lt;span class=&quot; material-icons notranslate icon&quot; aria-hidden=&quot;true&quot;&gt;delete&lt;/span&gt;\n</code></pre>\n<p>This is the relative XPATH:</p>\n<pre><code>//tr[@id='223']//span[contains(@class,'notranslate icon')][normalize-space()='delete']\n</code></pre>\n<p>If I search for it with the ID it finds it but the record I created I don't know what ID it will be, it could be 224 or it could be 14556 so I need to click on that element.</p>\n<pre><code>&lt;a class=&quot;btn btn-icon btn-destructive-sec btn-md md-component ghost text-capitalize text-danger-400 &quot; data-title=&quot;Delete &quot; data-toggle=&quot;tooltip&quot; data-placement=&quot;left &quot; data-confirm=&quot;Are you sure you want to delete this offer letter template?&quot; rel=&quot;nofollow&quot; data-method=&quot;delete&quot; href=&quot;/recruiting/offer_letter/templates/241&quot; data-original-title=&quot;&quot; title=&quot;&quot;&gt;\n&lt;span class=&quot; material-icons notranslate icon&quot; aria-hidden=&quot;true&quot;&gt;delete&lt;/span&gt;\n</code></pre>\n<p>When I search for an element by xpath it finds it but the next element's ID will be different and I can't find it there anymore</p>\n"},{"tags":["java","swing","runtime","jbutton"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1422844887,"post_id":28270340,"comment_id":44896513,"body_markdown":"Never call `updateUI`, it doesn&#39;t do what you think it does and it&#39;s a very expensive call.  `setText` and `setBackground` are bound properties, this means that they will automatically trigger updates to the UI which should cause the UI to update.  This suggests that the problem is elsewhere within the code. Consider providing a [runnable example](https://stackoverflow.com/help/mcve) which demonstrates your problem. This will result in less confusion and better responses","body":"Never call <code>updateUI</code>, it doesn&#39;t do what you think it does and it&#39;s a very expensive call.  <code>setText</code> and <code>setBackground</code> are bound properties, this means that they will automatically trigger updates to the UI which should cause the UI to update.  This suggests that the problem is elsewhere within the code. Consider providing a <a href=\"https://stackoverflow.com/help/mcve\">runnable example</a> which demonstrates your problem. This will result in less confusion and better responses"}],"answers":[{"tags":[],"owner":{"account_id":4116853,"reputation":10757,"user_id":3378204,"accept_rate":91,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1699602592,"creation_date":1422849728,"answer_id":28270931,"question_id":28270340,"body_markdown":"Here is a solution to update the button at runtime.\r\n\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Font;\r\n    import java.awt.event.ItemEvent;\r\n    import java.awt.event.ItemListener;\r\n    \r\n    import javax.swing.*;\r\n    import javax.swing.border.TitledBorder;\r\n    \r\n    public class UpdateButton{\r\n    \tprivate JFrame frame;\r\n    \tprivate DemoPanel demoPanel;\r\n    \tJComboBox styleList;\r\n    \tprivate JButton button;\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tEventQueue.invokeLater(new Runnable() {\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\tUpdateButton updateButton = new UpdateButton();\r\n    \t\t\t\tupdateButton.createUI();\r\n    \t\t\t\tupdateButton.displayUI();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \t\r\n    \tpublic void createUI(){\r\n    \t\tframe = new JFrame(&quot;Update Button&quot;);\r\n    \t\tActionPanel actionPanel = new ActionPanel();\r\n    \t\tdemoPanel = new DemoPanel();\r\n    \t\tframe.add(actionPanel,BorderLayout.NORTH);\r\n    \t\tframe.add(demoPanel,BorderLayout.SOUTH);\r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationRelativeTo(null);\r\n    \t}\r\n    \t\r\n    \tpublic void displayUI(){\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \t\r\n    \tpublic void doUpdate(String styleName){\r\n    \t\tif(styleName.equals(&quot;Style1&quot;)){\r\n    \t\t\tbutton.setBackground(Color.yellow);\r\n    \t\t\tbutton.setText(&quot;Style1 Button&quot;);\r\n    \t\t}else if(styleName.equals(&quot;Style2&quot;)){\r\n    \t\t\tbutton.setBackground(Color.green);\r\n    \t\t\tbutton.setText(&quot;Style2 Button&quot;);\r\n    \t\t}else if(styleName.equals(&quot;Style3&quot;)){\r\n    \t\t\tbutton.setBackground(Color.pink);\r\n    \t\t\tbutton.setText(&quot;Style3 Button&quot;);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t@SuppressWarnings(&quot;serial&quot;)\r\n    \tclass ActionPanel extends JPanel{\r\n    \t\tpublic ActionPanel(){\r\n    \t\t\tsetBorder(BorderFactory.createTitledBorder(getBorder(), &quot;ActionPanel&quot;, TitledBorder.LEADING, TitledBorder.TOP, new Font(&quot;Default&quot;,Font.PLAIN,10), Color.gray));\r\n    \t\t\tString[] style= { &quot;Style1&quot;, &quot;Style2&quot;, &quot;Style3&quot;};\r\n    \t\t\tstyleList = new JComboBox(style);\r\n    \t\t\tstyleList.addItemListener(new styleListener());\r\n    \t\t\tadd(styleList);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t@SuppressWarnings(&quot;serial&quot;)\r\n    \tclass DemoPanel extends JPanel{\r\n    \t\tpublic DemoPanel(){\r\n    \t\t\tsetBorder(BorderFactory.createTitledBorder(getBorder(), &quot;DemoPanel&quot;, TitledBorder.LEADING, TitledBorder.TOP, new Font(&quot;Default&quot;,Font.PLAIN,10), Color.gray));\r\n    \t\t\tbutton = new JButton(&quot;Ordinary Button&quot;);\r\n    \t\t\tadd(button);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tclass styleListener implements ItemListener{\r\n    \t\t@Override\r\n    \t\tpublic void itemStateChanged(ItemEvent e) {\r\n    \t\t\t// TODO Auto-generated method stub\r\n    \t\t\tif(e.getStateChange() == ItemEvent.SELECTED){\r\n    \t\t        String styleName = (String)e.getItem();\r\n    \t\t        doUpdate(styleName);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nThis is the effect:\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/h60O6.png","title":"Dynamically change JButton Properties at runtime","body":"<p>Here is a solution to update the button at runtime.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.EventQueue;\nimport java.awt.Font;\nimport java.awt.event.ItemEvent;\nimport java.awt.event.ItemListener;\n\nimport javax.swing.*;\nimport javax.swing.border.TitledBorder;\n\npublic class UpdateButton{\n    private JFrame frame;\n    private DemoPanel demoPanel;\n    JComboBox styleList;\n    private JButton button;\n    \n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            \n            @Override\n            public void run() {\n                // TODO Auto-generated method stub\n                UpdateButton updateButton = new UpdateButton();\n                updateButton.createUI();\n                updateButton.displayUI();\n            }\n        });\n    }\n    \n    public void createUI(){\n        frame = new JFrame(&quot;Update Button&quot;);\n        ActionPanel actionPanel = new ActionPanel();\n        demoPanel = new DemoPanel();\n        frame.add(actionPanel,BorderLayout.NORTH);\n        frame.add(demoPanel,BorderLayout.SOUTH);\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n    }\n    \n    public void displayUI(){\n        frame.setVisible(true);\n    }\n    \n    public void doUpdate(String styleName){\n        if(styleName.equals(&quot;Style1&quot;)){\n            button.setBackground(Color.yellow);\n            button.setText(&quot;Style1 Button&quot;);\n        }else if(styleName.equals(&quot;Style2&quot;)){\n            button.setBackground(Color.green);\n            button.setText(&quot;Style2 Button&quot;);\n        }else if(styleName.equals(&quot;Style3&quot;)){\n            button.setBackground(Color.pink);\n            button.setText(&quot;Style3 Button&quot;);\n        }\n    }\n    \n    @SuppressWarnings(&quot;serial&quot;)\n    class ActionPanel extends JPanel{\n        public ActionPanel(){\n            setBorder(BorderFactory.createTitledBorder(getBorder(), &quot;ActionPanel&quot;, TitledBorder.LEADING, TitledBorder.TOP, new Font(&quot;Default&quot;,Font.PLAIN,10), Color.gray));\n            String[] style= { &quot;Style1&quot;, &quot;Style2&quot;, &quot;Style3&quot;};\n            styleList = new JComboBox(style);\n            styleList.addItemListener(new styleListener());\n            add(styleList);\n        }\n    }\n    \n    @SuppressWarnings(&quot;serial&quot;)\n    class DemoPanel extends JPanel{\n        public DemoPanel(){\n            setBorder(BorderFactory.createTitledBorder(getBorder(), &quot;DemoPanel&quot;, TitledBorder.LEADING, TitledBorder.TOP, new Font(&quot;Default&quot;,Font.PLAIN,10), Color.gray));\n            button = new JButton(&quot;Ordinary Button&quot;);\n            add(button);\n        }\n    }\n    \n    class styleListener implements ItemListener{\n        @Override\n        public void itemStateChanged(ItemEvent e) {\n            // TODO Auto-generated method stub\n            if(e.getStateChange() == ItemEvent.SELECTED){\n                String styleName = (String)e.getItem();\n                doUpdate(styleName);\n            }\n        }\n    }\n}\n</code></pre>\n<p>This is the effect:</p>\n<p><img src=\"https://i.stack.imgur.com/h60O6.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":3061847,"reputation":41,"user_id":2594317,"display_name":"thomasneu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1332,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1422861039,"answer_count":1,"score":-1,"last_activity_date":1699602592,"creation_date":1422844095,"question_id":28270340,"body_markdown":"What is the correct way to change a JButtons Property at runtime?\r\n\r\nThis code snippet doesent work.\r\n\r\n\r\n\r\n    private HashMap&lt;Integer, JButton&gt; fieldMap;\r\n    \r\n    private void updateButton(int coordinate){\r\n    JButton fieldBtn = FieldMap.get(coordinate);\r\n    fieldBtn.setOpaque(true);\r\n    fieldBtn.setBackground(Color.red);\r\n    fieldBtn.setText(String.valueOf(text));\r\n    fieldBtn.updateUI();\r\n    Board.updateUI();\r\n    }\r\n\r\n","title":"Dynamically change JButton Properties at runtime","body":"<p>What is the correct way to change a JButtons Property at runtime?</p>\n\n<p>This code snippet doesent work.</p>\n\n<pre><code>private HashMap&lt;Integer, JButton&gt; fieldMap;\n\nprivate void updateButton(int coordinate){\nJButton fieldBtn = FieldMap.get(coordinate);\nfieldBtn.setOpaque(true);\nfieldBtn.setBackground(Color.red);\nfieldBtn.setText(String.valueOf(text));\nfieldBtn.updateUI();\nBoard.updateUI();\n}\n</code></pre>\n"},{"tags":["java","hibernate","enums"],"answers":[{"tags":[],"owner":{"account_id":481401,"reputation":15020,"user_id":895215,"accept_rate":64,"display_name":"dcernahoschi"},"down_vote_count":0,"up_vote_count":236,"is_accepted":true,"score":236,"last_activity_date":1365860346,"creation_date":1365860346,"answer_id":15988403,"question_id":15988342,"body_markdown":"Yes, is possible. It should be:\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;category_type&quot;)\r\n    private CategoryType categoryType;\r\n    ","title":"Mapping enum to string in hibernate","body":"<p>Yes, is possible. It should be:</p>\n\n<pre><code>@Enumerated(EnumType.STRING)\n@Column(name = \"category_type\")\nprivate CategoryType categoryType;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6868647,"reputation":22249,"user_id":5279996,"display_name":"Braian Coronel"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1603726506,"creation_date":1601009229,"answer_id":64057961,"question_id":15988342,"body_markdown":"The accepted answer is not sufficient for **PostgreSQL**. I attach the implementation that worked for me:\r\n\r\nhttps://stackoverflow.com/a/64021041/5279996\r\n","title":"Mapping enum to string in hibernate","body":"<p>The accepted answer is not sufficient for <strong>PostgreSQL</strong>. I attach the implementation that worked for me:</p>\n<p><a href=\"https://stackoverflow.com/a/64021041/5279996\">https://stackoverflow.com/a/64021041/5279996</a></p>\n"},{"tags":[],"owner":{"account_id":23431821,"reputation":21,"user_id":17490529,"display_name":"Patrick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699602409,"creation_date":1665230059,"answer_id":73996763,"question_id":15988342,"body_markdown":"I had to add\r\n\r\n    @Column(columnDefinition = &quot;VARCHAR(30)&quot;)\r\n\r\nto @dcernahoschi solutions to make it work.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Column(name = &quot;category_type&quot;, columnDefinition = &quot;VARCHAR(30)&quot;)\r\n    @Enumerated(EnumType.STRING)\r\n    private CategoryType categoryType\r\n\r\n&lt;!-- end snippet --&gt;\r\nWithout I got the Exception\r\n\r\n    org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;\r\n\r\n","title":"Mapping enum to string in hibernate","body":"<p>I had to add</p>\n<pre><code>@Column(columnDefinition = &quot;VARCHAR(30)&quot;)\n</code></pre>\n<p>to @dcernahoschi solutions to make it work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Column(name = &quot;category_type&quot;, columnDefinition = &quot;VARCHAR(30)&quot;)\n@Enumerated(EnumType.STRING)\nprivate CategoryType categoryType\n</code></pre>\n<p>Without I got the Exception</p>\n<pre><code>org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;\n</code></pre>\n"}],"owner":{"account_id":402300,"reputation":25871,"user_id":769384,"accept_rate":73,"display_name":"ducin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94970,"favorite_count":0,"down_vote_count":0,"up_vote_count":124,"accepted_answer_id":15988403,"answer_count":3,"score":124,"last_activity_date":1699602409,"creation_date":1365859944,"question_id":15988342,"body_markdown":"I&#39;ve got a Category Hibernate model:\r\n\r\n    @Entity\r\n    @Table(name = &quot;category&quot;)\r\n    public class Category {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy=GenerationType.AUTO)\r\n        @Column(name = &quot;id&quot;)\r\n        private long id;\r\n    \r\n        @Column(name = &quot;type&quot;)\r\n        private String type;\r\n\r\nwhich have a type string field. Also I&#39;ve got a Java enum which represent a type of a category:\r\n\r\n    public enum CategoryType {\r\n        INCOME, OUTCOME;\r\n    }\r\n\r\nwhich I would like to use instead of the string type. The SQL accepts two distinct values in the varchar parameter: either `CategoryIncome` or `CategoryOutcome`. I would like the Category model class to accept an enum variable - and map it somehow to the string whenever hibernate asks for it.\r\n\r\nIs it possible?","title":"Mapping enum to string in hibernate","body":"<p>I've got a Category Hibernate model:</p>\n\n<pre><code>@Entity\n@Table(name = \"category\")\npublic class Category {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    @Column(name = \"id\")\n    private long id;\n\n    @Column(name = \"type\")\n    private String type;\n</code></pre>\n\n<p>which have a type string field. Also I've got a Java enum which represent a type of a category:</p>\n\n<pre><code>public enum CategoryType {\n    INCOME, OUTCOME;\n}\n</code></pre>\n\n<p>which I would like to use instead of the string type. The SQL accepts two distinct values in the varchar parameter: either <code>CategoryIncome</code> or <code>CategoryOutcome</code>. I would like the Category model class to accept an enum variable - and map it somehow to the string whenever hibernate asks for it.</p>\n\n<p>Is it possible?</p>\n"},{"tags":["java","web-services","jax-rs","swagger","swagger-2.0"],"answers":[{"tags":[],"owner":{"account_id":191390,"reputation":1824,"user_id":431941,"accept_rate":75,"display_name":"risingTide"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501602265,"creation_date":1501602265,"answer_id":45442247,"question_id":43720467,"body_markdown":"I finally figured out the issue here.  Apparently the problem with the original design was that I was extending `BaseApiListingResource` on the same class where I was trying to implement ReaderListener.  For whatever reason (feel free to comment if you know why) the `ReaderListener` wasn&#39;t working whenever I extend `BaseApiListingResource`.  If I implement `ReaderListener` on a class that doesn&#39;t extend `BaseApiListingResource` then *`beforeScan`* and *`afterScan`* work just fine.\r\n\r\nHope this helps someone...","title":"Swagger ReaderListener Not Invoked","body":"<p>I finally figured out the issue here.  Apparently the problem with the original design was that I was extending <code>BaseApiListingResource</code> on the same class where I was trying to implement ReaderListener.  For whatever reason (feel free to comment if you know why) the <code>ReaderListener</code> wasn't working whenever I extend <code>BaseApiListingResource</code>.  If I implement <code>ReaderListener</code> on a class that doesn't extend <code>BaseApiListingResource</code> then <em><code>beforeScan</code></em> and <em><code>afterScan</code></em> work just fine.</p>\n\n<p>Hope this helps someone...</p>\n"},{"tags":[],"owner":{"account_id":28141879,"reputation":1,"user_id":21504798,"display_name":"Jiri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699601491,"creation_date":1699601491,"answer_id":77458322,"question_id":43720467,"body_markdown":"We are in 2023 and things moved ahead.\r\nHere is what I did to make it functional. I use vanilla jaxrs jars.\r\n\r\n - Create Class implementing `ReaderListener` (io.swagger.v3.jaxrs2.ReaderListener)\r\n - Annotate it `@OpenAPIDefinition` (io.swagger.v3.oas.annotations.OpenAPIDefinition)\r\n - Register `JaxrsAnnotationScanner` class setting it via `SwaggerConfiguration` instance\r\n - if your implementation of `ReaderListener` is in the different package than other resources, register it as resource class via `SwaggerConfiguration` instance as well\r\n\r\nKeep in mind, scanner works **lazily**. To see something in your logs, you must **invoke url** to generate openapi definition.\r\n\r\n","title":"Swagger ReaderListener Not Invoked","body":"<p>We are in 2023 and things moved ahead.\nHere is what I did to make it functional. I use vanilla jaxrs jars.</p>\n<ul>\n<li>Create Class implementing <code>ReaderListener</code> (io.swagger.v3.jaxrs2.ReaderListener)</li>\n<li>Annotate it <code>@OpenAPIDefinition</code> (io.swagger.v3.oas.annotations.OpenAPIDefinition)</li>\n<li>Register <code>JaxrsAnnotationScanner</code> class setting it via <code>SwaggerConfiguration</code> instance</li>\n<li>if your implementation of <code>ReaderListener</code> is in the different package than other resources, register it as resource class via <code>SwaggerConfiguration</code> instance as well</li>\n</ul>\n<p>Keep in mind, scanner works <strong>lazily</strong>. To see something in your logs, you must <strong>invoke url</strong> to generate openapi definition.</p>\n"}],"owner":{"account_id":191390,"reputation":1824,"user_id":431941,"accept_rate":75,"display_name":"risingTide"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":976,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1699601491,"creation_date":1493647713,"question_id":43720467,"body_markdown":"I am trying to invoke the afterScan(...) method from the ReaderListener interface but it is not being called.  Here&#39;s my code:\r\n\r\n    @SwaggerDefinition( info = @Info(\r\n        description = &quot;My API&quot;,\r\n        version = &quot;V1.2.3&quot;,\r\n        title = &quot;The only API you&#39;ll ever need&quot;,\r\n        termsOfService = &quot;share and care&quot;,\r\n        contact = @Contact(name = &quot;Test-Bob&quot;, email = &quot;test-bob@tester.io&quot;, url = &quot;http://swagger.io&quot;),\r\n        license = @License(name = &quot;Apache 2.0&quot;, url = &quot;http://www.apache.org&quot;)))\r\n        @Api(tags = {&quot;something&quot;, &quot;else&quot;})\r\n        @Path(&quot;/myUrl/swagger/{type:json|yaml}&quot;)\r\n        public class MyApiListingResource extends BaseApiListingResource implements ReaderListener {\r\n        \r\n          private static final Logger logger = LoggerFactory.getLogger(MyApiListingResource.class); \r\n        \r\n          @Context ServletContext context;\r\n        \r\n          @GET\r\n          @Produces({MediaType.APPLICATION_JSON, &quot;application/yaml&quot;})\r\n          @ApiOperation(value = &quot;The swagger definition in either JSON or YAML&quot;, \r\n            hidden = true)\r\n          public Response getListing(@Context Application app, @Context ServletConfig servletConfig, @Context HttpHeaders headers,\r\n                    @Context UriInfo uriInfo, @PathParam(&quot;type&quot;) String type) throws JsonProcessingException {\r\n             \r\n                if (isNotBlank(type) &amp;&amp; type.trim().equalsIgnoreCase(&quot;yaml&quot;)) {\r\n                 \r\n                    return getListingYamlResponse(app, context, servletConfig, headers, uriInfo);\r\n                    \r\n                } else {\r\n                 \r\n                    System.out.println(&quot;I found json!&quot;);\r\n                    logger.debug(&quot;I&#39;m also before!!!&quot;);\r\n                 \r\n                    return getListingJsonResponse(app, context, servletConfig, headers, uriInfo);\r\n                }\r\n          }\r\n            \r\n          @Override\r\n          public void beforeScan(Reader reader, Swagger swagger) {\r\n         \r\n          System.out.println(&quot;I&#39;m before!!!&quot;);\r\n          logger.debug(&quot;I&#39;m also before!!!&quot;);\r\n        \r\n          } \r\n         \r\n          @Override\r\n          public void afterScan(Reader reader, Swagger swagger) {\r\n         \r\n          System.out.println(&quot;I&#39;m after!!!&quot;);\r\n          logger.debug(&quot;I&#39;m also after!!!&quot;);     \r\n    \r\n          }\r\n         \r\n        }\r\n\r\nNow when I call the following service:   \r\n\r\n    http://localhost:9081/myApp/myUrl/swagger/json\r\n\r\n I do receive the &quot;I found json!&quot; in my console and log...but none of the &quot;before&quot; or &quot;after&quot; comments are printed in the console or log.\r\n\r\nI&#39;m using Swagger 1.5.10 and Java 7.  I&#39;ll provide any other details that are needed.\r\n\r\nAny ideas are welcome!  Thanks!\r\n\r\n&lt;hr/&gt;\r\n\r\n**UPDATE**:  I tried adding the @SwaggerDefinition annotation to this class as shown above, but it still doesn&#39;t work.\r\n\r\nAny ideas what I&#39;m missing?\r\n","title":"Swagger ReaderListener Not Invoked","body":"<p>I am trying to invoke the afterScan(...) method from the ReaderListener interface but it is not being called.  Here's my code:</p>\n\n<pre><code>@SwaggerDefinition( info = @Info(\n    description = \"My API\",\n    version = \"V1.2.3\",\n    title = \"The only API you'll ever need\",\n    termsOfService = \"share and care\",\n    contact = @Contact(name = \"Test-Bob\", email = \"test-bob@tester.io\", url = \"http://swagger.io\"),\n    license = @License(name = \"Apache 2.0\", url = \"http://www.apache.org\")))\n    @Api(tags = {\"something\", \"else\"})\n    @Path(\"/myUrl/swagger/{type:json|yaml}\")\n    public class MyApiListingResource extends BaseApiListingResource implements ReaderListener {\n\n      private static final Logger logger = LoggerFactory.getLogger(MyApiListingResource.class); \n\n      @Context ServletContext context;\n\n      @GET\n      @Produces({MediaType.APPLICATION_JSON, \"application/yaml\"})\n      @ApiOperation(value = \"The swagger definition in either JSON or YAML\", \n        hidden = true)\n      public Response getListing(@Context Application app, @Context ServletConfig servletConfig, @Context HttpHeaders headers,\n                @Context UriInfo uriInfo, @PathParam(\"type\") String type) throws JsonProcessingException {\n\n            if (isNotBlank(type) &amp;&amp; type.trim().equalsIgnoreCase(\"yaml\")) {\n\n                return getListingYamlResponse(app, context, servletConfig, headers, uriInfo);\n\n            } else {\n\n                System.out.println(\"I found json!\");\n                logger.debug(\"I'm also before!!!\");\n\n                return getListingJsonResponse(app, context, servletConfig, headers, uriInfo);\n            }\n      }\n\n      @Override\n      public void beforeScan(Reader reader, Swagger swagger) {\n\n      System.out.println(\"I'm before!!!\");\n      logger.debug(\"I'm also before!!!\");\n\n      } \n\n      @Override\n      public void afterScan(Reader reader, Swagger swagger) {\n\n      System.out.println(\"I'm after!!!\");\n      logger.debug(\"I'm also after!!!\");     \n\n      }\n\n    }\n</code></pre>\n\n<p>Now when I call the following service:   </p>\n\n<pre><code>http://localhost:9081/myApp/myUrl/swagger/json\n</code></pre>\n\n<p>I do receive the \"I found json!\" in my console and log...but none of the \"before\" or \"after\" comments are printed in the console or log.</p>\n\n<p>I'm using Swagger 1.5.10 and Java 7.  I'll provide any other details that are needed.</p>\n\n<p>Any ideas are welcome!  Thanks!</p>\n\n<hr/>\n\n<p><strong>UPDATE</strong>:  I tried adding the @SwaggerDefinition annotation to this class as shown above, but it still doesn't work.</p>\n\n<p>Any ideas what I'm missing?</p>\n"},{"tags":["java","image","swing","embedded-resource","illegalargumentexception"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1451025298,"post_id":34460547,"comment_id":56663189,"body_markdown":"Check the path of the named resource and make sure it&#39;s (correct) and within reach of the classpath.  What IDE are you using?","body":"Check the path of the named resource and make sure it&#39;s (correct) and within reach of the classpath.  What IDE are you using?"},{"owner":{"account_id":6556113,"reputation":978,"user_id":5068770,"accept_rate":76,"display_name":"ONE_FE"},"score":0,"creation_date":1451025554,"post_id":34460547,"comment_id":56663241,"body_markdown":"double checked the path.... no joy, i&#39;m usng ecllipse","body":"double checked the path.... no joy, i&#39;m usng ecllipse"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1451025735,"post_id":34460547,"comment_id":56663266,"body_markdown":"So the `Resources` directory should either be in the project directory or the src directory. Remember the paths are case sensitive and typically `Resources` is called `resources` ;)","body":"So the <code>Resources</code> directory should either be in the project directory or the src directory. Remember the paths are case sensitive and typically <code>Resources</code> is called <code>resources</code> ;)"},{"owner":{"account_id":6556113,"reputation":978,"user_id":5068770,"accept_rate":76,"display_name":"ONE_FE"},"score":0,"creation_date":1451026240,"post_id":34460547,"comment_id":56663364,"body_markdown":"The Resources directory is in the same level as src directory.... mine &#39;Resources&#39;","body":"The Resources directory is in the same level as src directory.... mine &#39;Resources&#39;"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1451026958,"post_id":34460547,"comment_id":56663484,"body_markdown":"The only reason you would get a `null` input, is because the resource doesn&#39;t exist at the location you are specifying (or the spelling/case is wrong)","body":"The only reason you would get a <code>null</code> input, is because the resource doesn&#39;t exist at the location you are specifying (or the spelling/case is wrong)"},{"owner":{"account_id":6556113,"reputation":978,"user_id":5068770,"accept_rate":76,"display_name":"ONE_FE"},"score":0,"creation_date":1451027578,"post_id":34460547,"comment_id":56663601,"body_markdown":"Spelling is right... I double checked it again...","body":"Spelling is right... I double checked it again..."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1451027751,"post_id":34460547,"comment_id":56663637,"body_markdown":"Do a new build (clean and build if possible), export the project as a Jar, unzip the Jar and verify that the images you are looking for are where you expect them to be within the Jar","body":"Do a new build (clean and build if possible), export the project as a Jar, unzip the Jar and verify that the images you are looking for are where you expect them to be within the Jar"},{"owner":{"account_id":6556113,"reputation":978,"user_id":5068770,"accept_rate":76,"display_name":"ONE_FE"},"score":0,"creation_date":1451108331,"post_id":34460547,"comment_id":56679535,"body_markdown":"Thank you very much, I got the answer","body":"Thank you very much, I got the answer"}],"answers":[{"tags":[],"owner":{"account_id":162901,"reputation":10387,"user_id":384674,"accept_rate":69,"display_name":"Betlista"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1699601398,"creation_date":1451037962,"answer_id":34461891,"question_id":34460547,"body_markdown":"I have standard Eclipse project:\r\n\r\n[![Eclipse project][1]][1]\r\n\r\nand my test class looks like (minimal):\r\n\r\n\tpackage q34460547;\r\n\r\n\timport java.awt.Image;\r\n\timport java.io.IOException;\r\n\r\n\timport javax.imageio.ImageIO;\r\n\r\n\tpublic class LoadTest {\r\n\r\n\t\tpublic static void main(String[] args) throws IOException {\r\n\t\t\tnew LoadTest().loadStdImage();\r\n\t\t}\r\n\r\n\t\tpublic void loadStdImage() throws IOException {\r\n\t\t\tImage image = ImageIO.read(this.getClass().getResource(&quot;/ScreenShot005.png&quot;));\r\n\t\t}\r\n\r\n\t}\r\n\r\nand now, when I used\r\n\r\n    ImageIO.read(this.getClass().getResource(&quot;/ScreenShot005.png&quot;));\r\n\r\nimage is loaded from res so called source folder in Eclipse.\r\n\r\nWhen I used\r\n\r\n    ImageIO.read(this.getClass().getResource(&quot;ScreenShot005.png&quot;));\r\n\r\nimage s loaded from the folder in which LoadTest.java file is (to be precise it is also compiled to same folder - in Eclipse it&#39;s bin).\r\n\r\nYou can find more info for example here - https://stackoverflow.com/questions/6608795/what-is-the-difference-between-class-getresource-and-classloader-getresource\r\n\r\n**edit:**\r\n\r\nThe image has to be on classpath (when using `Class.getResource`), that&#39;s why it was not loaded from `Resources` folder. There are two options, use another version of `ImageIO.read()` or make your `Resources` folder a source folder:\r\n\r\n[![Project properties - source folders in Eclipse][2]][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Gnksr.png\r\n  [2]: http://i.stack.imgur.com/FNn5c.png","title":"Display an image in java","body":"<p>I have standard Eclipse project:</p>\n<p><a href=\"https://i.stack.imgur.com/Gnksr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gnksr.png\" alt=\"Eclipse project\" /></a></p>\n<p>and my test class looks like (minimal):</p>\n<pre><code>package q34460547;\n\nimport java.awt.Image;\nimport java.io.IOException;\n\nimport javax.imageio.ImageIO;\n\npublic class LoadTest {\n\n    public static void main(String[] args) throws IOException {\n        new LoadTest().loadStdImage();\n    }\n\n    public void loadStdImage() throws IOException {\n        Image image = ImageIO.read(this.getClass().getResource(&quot;/ScreenShot005.png&quot;));\n    }\n\n}\n</code></pre>\n<p>and now, when I used</p>\n<pre><code>ImageIO.read(this.getClass().getResource(&quot;/ScreenShot005.png&quot;));\n</code></pre>\n<p>image is loaded from res so called source folder in Eclipse.</p>\n<p>When I used</p>\n<pre><code>ImageIO.read(this.getClass().getResource(&quot;ScreenShot005.png&quot;));\n</code></pre>\n<p>image s loaded from the folder in which LoadTest.java file is (to be precise it is also compiled to same folder - in Eclipse it's bin).</p>\n<p>You can find more info for example here - <a href=\"https://stackoverflow.com/questions/6608795/what-is-the-difference-between-class-getresource-and-classloader-getresource\">What is the difference between Class.getResource() and ClassLoader.getResource()?</a></p>\n<p><strong>edit:</strong></p>\n<p>The image has to be on classpath (when using <code>Class.getResource</code>), that's why it was not loaded from <code>Resources</code> folder. There are two options, use another version of <code>ImageIO.read()</code> or make your <code>Resources</code> folder a source folder:</p>\n<p><a href=\"https://i.stack.imgur.com/FNn5c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FNn5c.png\" alt=\"Project properties - source folders in Eclipse\" /></a></p>\n"}],"owner":{"account_id":6556113,"reputation":978,"user_id":5068770,"accept_rate":76,"display_name":"ONE_FE"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1669,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":34461891,"answer_count":1,"score":0,"last_activity_date":1699601398,"creation_date":1451024774,"question_id":34460547,"body_markdown":" \r\n\r\n    public void loadStdImage() throws IOException\r\n    {\r\n    \tImage image = ImageIO.read(this.getClass().getResource(&quot;/Resources/Images/Student/Capture.png&quot;));  //Line 350\r\n    \tImageIcon icon = new ImageIcon(image);\r\n    \tJLabel lblImage = new JLabel(icon);\r\n    \tlblImage.setIcon(icon);\r\n    \tlblImage.setBounds(753, 50, 149, 171);\r\n    \tadd(lblImage);\r\n    }\r\n\r\nI tried many things... but nothing works out. Continuously showing the following run-time error\r\n\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.IllegalArgumentException: input == null!\r\n    \tat javax.imageio.ImageIO.read(Unknown Source)\r\n    \tat View.Student.loadStdImage(Student.java:350)\r\n\r\nProject folder structure is:\r\n\r\n[![Project Explorer view in Eclipse for a project][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/A9nIP.png","title":"Display an image in java","body":"<pre><code>public void loadStdImage() throws IOException\n{\n    Image image = ImageIO.read(this.getClass().getResource(&quot;/Resources/Images/Student/Capture.png&quot;));  //Line 350\n    ImageIcon icon = new ImageIcon(image);\n    JLabel lblImage = new JLabel(icon);\n    lblImage.setIcon(icon);\n    lblImage.setBounds(753, 50, 149, 171);\n    add(lblImage);\n}\n</code></pre>\n<p>I tried many things... but nothing works out. Continuously showing the following run-time error</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.IllegalArgumentException: input == null!\n    at javax.imageio.ImageIO.read(Unknown Source)\n    at View.Student.loadStdImage(Student.java:350)\n</code></pre>\n<p>Project folder structure is:</p>\n<p><a href=\"https://i.stack.imgur.com/A9nIP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A9nIP.png\" alt=\"Project Explorer view in Eclipse for a project\" /></a></p>\n"},{"tags":["java","java-io"],"answers":[{"tags":[],"owner":{"account_id":2220773,"reputation":7600,"user_id":1960180,"accept_rate":100,"display_name":"Aaron D"},"down_vote_count":2,"up_vote_count":238,"is_accepted":true,"score":236,"last_activity_date":1491424258,"creation_date":1425921882,"answer_id":28948104,"question_id":28947250,"body_markdown":"This code checks for the existence of the directory first and creates it if not, and creates the file afterwards. Please note that I couldn&#39;t verify some of your method calls as I don&#39;t have your complete code, so I&#39;m assuming the calls to things like `getTimeStamp()` and `getClassName()` will work. You should also do something with the possible `IOException` that can be thrown when using any of the `java.io.*` classes - either your function that writes the files should throw this exception (and it be handled elsewhere), or you should do it in the method directly. Also, I assumed that `id` is of type `String` - I don&#39;t know as your code doesn&#39;t explicitly define it. If it is something else like an `int`, you should probably cast it to a `String` before using it in the fileName as I have done here.\r\n\r\nAlso, I replaced your `append` calls with `concat` or `+` as I saw appropriate.\r\n\r\n    public void writeFile(String value){\r\n        String PATH = &quot;/remote/dir/server/&quot;;\r\n        String directoryName = PATH.concat(this.getClassName());\r\n        String fileName = id + getTimeStamp() + &quot;.txt&quot;;\r\n\r\n        File directory = new File(directoryName);\r\n        if (! directory.exists()){\r\n            directory.mkdir();\r\n            // If you require it to make the entire directory path including parents,\r\n            // use directory.mkdirs(); here instead.\r\n        }\r\n\r\n        File file = new File(directoryName + &quot;/&quot; + fileName);\r\n        try{\r\n            FileWriter fw = new FileWriter(file.getAbsoluteFile());\r\n            BufferedWriter bw = new BufferedWriter(fw);\r\n            bw.write(value);\r\n            bw.close();\r\n        }\r\n        catch (IOException e){\r\n            e.printStackTrace();\r\n            System.exit(-1);\r\n        }\r\n    }\r\n\r\nYou should probably not use bare path names like this if you want to run the code on Microsoft Windows - I&#39;m not sure what it will do with the `/` in the filenames. For full portability, you should probably use something like [File.separator][1] to construct your paths.\r\n\r\n*Edit*: According to a comment by [JosefScript][2] below, it&#39;s not necessary to test for directory existence. The `directory.mkdir()`  call will return `true` if it created a directory, and `false` if it didn&#39;t, including the case when the directory already existed.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5971964/file-separator-or-file-pathseparator\r\n  [2]: https://stackoverflow.com/users/5999589/josefscript","title":"Create a directory if it does not exist and then create the files in that directory as well","body":"<p>This code checks for the existence of the directory first and creates it if not, and creates the file afterwards. Please note that I couldn't verify some of your method calls as I don't have your complete code, so I'm assuming the calls to things like <code>getTimeStamp()</code> and <code>getClassName()</code> will work. You should also do something with the possible <code>IOException</code> that can be thrown when using any of the <code>java.io.*</code> classes - either your function that writes the files should throw this exception (and it be handled elsewhere), or you should do it in the method directly. Also, I assumed that <code>id</code> is of type <code>String</code> - I don't know as your code doesn't explicitly define it. If it is something else like an <code>int</code>, you should probably cast it to a <code>String</code> before using it in the fileName as I have done here.</p>\n\n<p>Also, I replaced your <code>append</code> calls with <code>concat</code> or <code>+</code> as I saw appropriate.</p>\n\n<pre><code>public void writeFile(String value){\n    String PATH = \"/remote/dir/server/\";\n    String directoryName = PATH.concat(this.getClassName());\n    String fileName = id + getTimeStamp() + \".txt\";\n\n    File directory = new File(directoryName);\n    if (! directory.exists()){\n        directory.mkdir();\n        // If you require it to make the entire directory path including parents,\n        // use directory.mkdirs(); here instead.\n    }\n\n    File file = new File(directoryName + \"/\" + fileName);\n    try{\n        FileWriter fw = new FileWriter(file.getAbsoluteFile());\n        BufferedWriter bw = new BufferedWriter(fw);\n        bw.write(value);\n        bw.close();\n    }\n    catch (IOException e){\n        e.printStackTrace();\n        System.exit(-1);\n    }\n}\n</code></pre>\n\n<p>You should probably not use bare path names like this if you want to run the code on Microsoft Windows - I'm not sure what it will do with the <code>/</code> in the filenames. For full portability, you should probably use something like <a href=\"https://stackoverflow.com/questions/5971964/file-separator-or-file-pathseparator\">File.separator</a> to construct your paths.</p>\n\n<p><em>Edit</em>: According to a comment by <a href=\"https://stackoverflow.com/users/5999589/josefscript\">JosefScript</a> below, it's not necessary to test for directory existence. The <code>directory.mkdir()</code>  call will return <code>true</code> if it created a directory, and <code>false</code> if it didn't, including the case when the directory already existed.</p>\n"},{"tags":[],"owner":{"account_id":10539025,"reputation":91,"user_id":7765808,"display_name":"Mukesh "},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1493964332,"creation_date":1493962316,"answer_id":43797194,"question_id":28947250,"body_markdown":" **code:**\r\n\r\n    // Create Directory if not exist then Copy a file.\r\n\r\n \r\n    public static void copyFile_Directory(String origin, String destDir, String destination) throws IOException {\r\n    \r\n        Path FROM = Paths.get(origin);\r\n        Path TO = Paths.get(destination);\r\n        File directory = new File(String.valueOf(destDir));\r\n    \r\n        if (!directory.exists()) {\r\n            directory.mkdir();\r\n        }\r\n            //overwrite the destination file if it exists, and copy\r\n            // the file attributes, including the rwx permissions\r\n         CopyOption[] options = new CopyOption[]{\r\n                    StandardCopyOption.REPLACE_EXISTING,\r\n                    StandardCopyOption.COPY_ATTRIBUTES\r\n    \r\n            };\r\n            Files.copy(FROM, TO, options);\r\n    \r\n    \r\n    }\r\n\r\n","title":"Create a directory if it does not exist and then create the files in that directory as well","body":"<p><strong>code:</strong></p>\n\n<pre><code>// Create Directory if not exist then Copy a file.\n\n\npublic static void copyFile_Directory(String origin, String destDir, String destination) throws IOException {\n\n    Path FROM = Paths.get(origin);\n    Path TO = Paths.get(destination);\n    File directory = new File(String.valueOf(destDir));\n\n    if (!directory.exists()) {\n        directory.mkdir();\n    }\n        //overwrite the destination file if it exists, and copy\n        // the file attributes, including the rwx permissions\n     CopyOption[] options = new CopyOption[]{\n                StandardCopyOption.REPLACE_EXISTING,\n                StandardCopyOption.COPY_ATTRIBUTES\n\n        };\n        Files.copy(FROM, TO, options);\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1839825,"reputation":6122,"user_id":1669464,"accept_rate":74,"display_name":"Pytry"},"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1669661822,"creation_date":1505490491,"answer_id":46243328,"question_id":28947250,"body_markdown":"I would suggest the following for Java8+.\r\n\r\n    \r\n    /**\r\n     * Creates a File if the file does not exist, or returns a\r\n     * reference to the File if it already exists.\r\n     */\r\n    public File createOrRetrieve(final String target) throws IOException {\r\n      final File answer;\r\n      Path path = Paths.get(target);\r\n      Path parent = path.getParent();\r\n      if(parent != null &amp;&amp; Files.notExists(parent)) {\r\n        Files.createDirectories(path);\r\n      }\r\n      if(Files.notExists(path)) {\r\n        LOG.info(&quot;Target file \\&quot;&quot; + target + &quot;\\&quot; will be created.&quot;);\r\n        answer = Files.createFile(path).toFile();\r\n      } else {\r\n        LOG.info(&quot;Target file \\&quot;&quot; + target + &quot;\\&quot; will be retrieved.&quot;);\r\n        answer = path.toFile();\r\n      }\r\n      return answer;\r\n    }\r\n\r\n\r\nEdit: Updated to fix bug as indicated by @Cataclysm and @Marcono1234. Thx guys:)","title":"Create a directory if it does not exist and then create the files in that directory as well","body":"<p>I would suggest the following for Java8+.</p>\n<pre><code>/**\n * Creates a File if the file does not exist, or returns a\n * reference to the File if it already exists.\n */\npublic File createOrRetrieve(final String target) throws IOException {\n  final File answer;\n  Path path = Paths.get(target);\n  Path parent = path.getParent();\n  if(parent != null &amp;&amp; Files.notExists(parent)) {\n    Files.createDirectories(path);\n  }\n  if(Files.notExists(path)) {\n    LOG.info(&quot;Target file \\&quot;&quot; + target + &quot;\\&quot; will be created.&quot;);\n    answer = Files.createFile(path).toFile();\n  } else {\n    LOG.info(&quot;Target file \\&quot;&quot; + target + &quot;\\&quot; will be retrieved.&quot;);\n    answer = path.toFile();\n  }\n  return answer;\n}\n</code></pre>\n<p>Edit: Updated to fix bug as indicated by @Cataclysm and @Marcono1234. Thx guys:)</p>\n"},{"tags":[],"owner":{"account_id":1400937,"reputation":1241,"user_id":1329733,"accept_rate":80,"display_name":"Jacob R"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1517432943,"creation_date":1517432943,"answer_id":48551469,"question_id":28947250,"body_markdown":"Trying to make this as short and simple as possible. Creates directory if it doesn&#39;t exist, and then returns the desired file:\r\n\r\n    /** Creates parent directories if necessary. Then returns file */\r\n\tprivate static File fileWithDirectoryAssurance(String directory, String filename) {\r\n\t\tFile dir = new File(directory);\r\n\t\tif (!dir.exists()) dir.mkdirs();\r\n\t\treturn new File(directory + &quot;/&quot; + filename);\r\n\t}","title":"Create a directory if it does not exist and then create the files in that directory as well","body":"<p>Trying to make this as short and simple as possible. Creates directory if it doesn't exist, and then returns the desired file:</p>\n\n<pre><code>/** Creates parent directories if necessary. Then returns file */\nprivate static File fileWithDirectoryAssurance(String directory, String filename) {\n    File dir = new File(directory);\n    if (!dir.exists()) dir.mkdirs();\n    return new File(directory + \"/\" + filename);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1744260,"reputation":14886,"user_id":1594823,"accept_rate":64,"display_name":"Saikat"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1634447753,"creation_date":1547032403,"answer_id":54108842,"question_id":28947250,"body_markdown":"Simple Solution using using `java.nio.Path`\r\n-------------------------------------------\r\n\r\n    public static Path createFileWithDir(String directory, String filename) {\r\n    \t\tFile dir = new File(directory);\r\n    \t\tif (!dir.exists()) dir.mkdirs();\r\n    \t\treturn Paths.get(directory + File.separatorChar + filename);\r\n    \t}","title":"Create a directory if it does not exist and then create the files in that directory as well","body":"<h2>Simple Solution using using <code>java.nio.Path</code></h2>\n<pre><code>public static Path createFileWithDir(String directory, String filename) {\n        File dir = new File(directory);\n        if (!dir.exists()) dir.mkdirs();\n        return Paths.get(directory + File.separatorChar + filename);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10082443,"reputation":2920,"user_id":8459403,"display_name":"Dr. X"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1573710018,"creation_date":1573710018,"answer_id":58850074,"question_id":28947250,"body_markdown":"If you create a web based application, the better solution is to check the directory exists or not then create the file if not exist. If exists, recreate again.\r\n\r\n \r\n\r\n        private File createFile(String path, String fileName) throws IOException {\r\n           ClassLoader classLoader = getClass().getClassLoader();\r\n           File file = new File(classLoader.getResource(&quot;.&quot;).getFile() + path + fileName);\r\n\r\n           // Lets create the directory\r\n           try {\r\n              file.getParentFile().mkdir();\r\n           } catch (Exception err){\r\n               System.out.println(&quot;ERROR (Directory Create)&quot; + err.getMessage());\r\n           }\r\n\r\n           // Lets create the file if we have credential\r\n           try {\r\n               file.createNewFile();\r\n           } catch (Exception err){\r\n               System.out.println(&quot;ERROR (File Create)&quot; + err.getMessage());\r\n           }\r\n           return  file;\r\n       }","title":"Create a directory if it does not exist and then create the files in that directory as well","body":"<p>If you create a web based application, the better solution is to check the directory exists or not then create the file if not exist. If exists, recreate again.</p>\n\n<pre><code>    private File createFile(String path, String fileName) throws IOException {\n       ClassLoader classLoader = getClass().getClassLoader();\n       File file = new File(classLoader.getResource(\".\").getFile() + path + fileName);\n\n       // Lets create the directory\n       try {\n          file.getParentFile().mkdir();\n       } catch (Exception err){\n           System.out.println(\"ERROR (Directory Create)\" + err.getMessage());\n       }\n\n       // Lets create the file if we have credential\n       try {\n           file.createNewFile();\n       } catch (Exception err){\n           System.out.println(\"ERROR (File Create)\" + err.getMessage());\n       }\n       return  file;\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2386370,"reputation":4423,"user_id":2087270,"display_name":"In&#234;s Gomes"},"down_vote_count":0,"up_vote_count":298,"is_accepted":false,"score":298,"last_activity_date":1699601388,"creation_date":1576591935,"answer_id":59376080,"question_id":28947250,"body_markdown":"Java 8+ version:\r\n\r\n    import java.nio.file.Paths;\r\n    import java.nio.file.Files;\r\n\r\n    Files.createDirectories(Paths.get(&quot;/Your/Path/Here&quot;));\r\n\r\nThe `Files.createDirectories()` creates a new directory and parent directories that do not exist. This method does not throw an exception if the directory already exists.","title":"Create a directory if it does not exist and then create the files in that directory as well","body":"<p>Java 8+ version:</p>\n<pre><code>import java.nio.file.Paths;\nimport java.nio.file.Files;\n\nFiles.createDirectories(Paths.get(&quot;/Your/Path/Here&quot;));\n</code></pre>\n<p>The <code>Files.createDirectories()</code> creates a new directory and parent directories that do not exist. This method does not throw an exception if the directory already exists.</p>\n"},{"tags":[],"owner":{"account_id":14539836,"reputation":11,"user_id":10501904,"display_name":"Mohammed Fayoumi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655146761,"creation_date":1655146716,"answer_id":72607825,"question_id":28947250,"body_markdown":"A simple solution using Java 8\r\n\r\n    public void init(String multipartLocation) throws IOException {\r\n        File storageDirectory = new File(multipartLocation);\r\n\r\n        if (!storageDirectory.exists()) {\r\n            if (!storageDirectory.mkdir()) {\r\n                throw new IOException(&quot;Error creating directory.&quot;);\r\n            }\r\n        }\r\n    }","title":"Create a directory if it does not exist and then create the files in that directory as well","body":"<p>A simple solution using Java 8</p>\n<pre><code>public void init(String multipartLocation) throws IOException {\n    File storageDirectory = new File(multipartLocation);\n\n    if (!storageDirectory.exists()) {\n        if (!storageDirectory.mkdir()) {\n            throw new IOException(&quot;Error creating directory.&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15580953,"reputation":21,"user_id":11240750,"display_name":"BitsNcode"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1655634878,"creation_date":1655502966,"answer_id":72665156,"question_id":28947250,"body_markdown":"If you&#39;re using Java 8 or above, then `Files.createDirectories()` method works the best.","title":"Create a directory if it does not exist and then create the files in that directory as well","body":"<p>If you're using Java 8 or above, then <code>Files.createDirectories()</code> method works the best.</p>\n"}],"owner":{"account_id":5910052,"reputation":2283,"user_id":4650598,"display_name":"Sri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":500280,"favorite_count":0,"down_vote_count":2,"up_vote_count":228,"accepted_answer_id":28948104,"answer_count":9,"score":226,"last_activity_date":1699601388,"creation_date":1425919123,"question_id":28947250,"body_markdown":"The condition is if the directory exists it has to create files in that specific directory without creating a new directory.\r\n\r\nThe below code only creates a file with the new directory but not for the existing directory . For example the directory name would be like &quot;GETDIRECTION&quot;:\r\n\r\n```java\r\nString PATH = &quot;/remote/dir/server/&quot;;\r\n    \r\nString fileName = PATH.append(id).concat(getTimeStamp()).append(&quot;.txt&quot;);  \r\n             \r\nString directoryName = PATH.append(this.getClassName());   \r\n              \r\nFile file  = new File(String.valueOf(fileName));\r\n\r\nFile directory = new File(String.valueOf(directoryName));\r\n\r\nif (!directory.exists()) {\r\n        directory.mkdir();\r\n        if (!file.exists() &amp;&amp; !checkEnoughDiskSpace()) {\r\n            file.getParentFile().mkdir();\r\n            file.createNewFile();\r\n        }\r\n}\r\nFileWriter fw = new FileWriter(file.getAbsoluteFile());\r\nBufferedWriter bw = new BufferedWriter(fw);\r\nbw.write(value);\r\nbw.close();\r\n\r\n```","title":"Create a directory if it does not exist and then create the files in that directory as well","body":"<p>The condition is if the directory exists it has to create files in that specific directory without creating a new directory.</p>\n<p>The below code only creates a file with the new directory but not for the existing directory . For example the directory name would be like &quot;GETDIRECTION&quot;:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String PATH = &quot;/remote/dir/server/&quot;;\n    \nString fileName = PATH.append(id).concat(getTimeStamp()).append(&quot;.txt&quot;);  \n             \nString directoryName = PATH.append(this.getClassName());   \n              \nFile file  = new File(String.valueOf(fileName));\n\nFile directory = new File(String.valueOf(directoryName));\n\nif (!directory.exists()) {\n        directory.mkdir();\n        if (!file.exists() &amp;&amp; !checkEnoughDiskSpace()) {\n            file.getParentFile().mkdir();\n            file.createNewFile();\n        }\n}\nFileWriter fw = new FileWriter(file.getAbsoluteFile());\nBufferedWriter bw = new BufferedWriter(fw);\nbw.write(value);\nbw.close();\n\n</code></pre>\n"},{"tags":["java","google-chrome","testing","selenium-webdriver"],"comments":[{"owner":{"account_id":2348349,"reputation":44453,"user_id":2057919,"accept_rate":100,"display_name":"elixenide"},"score":0,"creation_date":1439780963,"post_id":32042187,"comment_id":51984742,"body_markdown":"Well, are you using that flag?","body":"Well, are you using that flag?"},{"owner":{"account_id":6002011,"reputation":2225,"user_id":4714970,"accept_rate":53,"display_name":"Aequitas"},"score":0,"creation_date":1439781633,"post_id":32042187,"comment_id":51984876,"body_markdown":"The solution is to not use that command line flag because it&#39;s unsupported","body":"The solution is to not use that command line flag because it&#39;s unsupported"},{"owner":{"account_id":6002011,"reputation":2225,"user_id":4714970,"accept_rate":53,"display_name":"Aequitas"},"score":1,"creation_date":1439781746,"post_id":32042187,"comment_id":51984897,"body_markdown":"possible duplicate of [Pass driver ChromeOptions and DesiredCapabilities?](http://stackoverflow.com/questions/23834413/pass-driver-chromeoptions-and-desiredcapabilities)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/23834413/pass-driver-chromeoptions-and-desiredcapabilities\">Pass driver ChromeOptions and DesiredCapabilities?</a>"},{"owner":{"account_id":6002011,"reputation":2225,"user_id":4714970,"accept_rate":53,"display_name":"Aequitas"},"score":0,"creation_date":1439781857,"post_id":32042187,"comment_id":51984921,"body_markdown":"Note: if you actually want to ignore invalid certificates there&#39;s an option you can enable in chrome: `Allow invalid certificates for resources loaded from localhost` in `chrome://flags`","body":"Note: if you actually want to ignore invalid certificates there&#39;s an option you can enable in chrome: <code>Allow invalid certificates for resources loaded from localhost</code> in <code>chrome:&#47;&#47;flags</code>"},{"owner":{"account_id":4481429,"reputation":319,"user_id":3645398,"display_name":"karshitbha"},"score":1,"creation_date":1439979719,"post_id":32042187,"comment_id":52080143,"body_markdown":"Thanks for your answer....the issue which i was facing problem was due to the exe which i was using for chrome I downloaded the latest from","body":"Thanks for your answer....the issue which i was facing problem was due to the exe which i was using for chrome I downloaded the latest from"},{"owner":{"account_id":4481429,"reputation":319,"user_id":3645398,"display_name":"karshitbha"},"score":1,"creation_date":1439979733,"post_id":32042187,"comment_id":52080151,"body_markdown":"https://sites.google.com/a/chromium.org/chromedriver/downloads and it started working","body":"<a href=\"https://sites.google.com/a/chromium.org/chromedriver/downloads\" rel=\"nofollow noreferrer\">sites.google.com/a/chromium.org/chromedriver/downloads</a> and it started working"},{"owner":{"account_id":3620019,"reputation":5311,"user_id":3019006,"accept_rate":68,"display_name":"Deb"},"score":0,"creation_date":1511285315,"post_id":32042187,"comment_id":81792369,"body_markdown":"Thanks.. Life saver","body":"Thanks.. Life saver"},{"owner":{"account_id":10491586,"reputation":179,"user_id":7864377,"display_name":"Dmitry Pukhov"},"score":0,"creation_date":1638796059,"post_id":32042187,"comment_id":124175377,"body_markdown":"You have typo: certifcate -&gt; certificate","body":"You have typo: certifcate -&gt; certificate"}],"answers":[{"tags":[],"owner":{"account_id":6658349,"reputation":178,"user_id":5138172,"display_name":"Anton Savostytskyi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439796648,"creation_date":1439796648,"answer_id":32044935,"question_id":32042187,"body_markdown":"Try this code  when you create driver. I hope it will help:\r\n\r\n    DesiredCapabilities capabilities = DesiredCapabilities.chrome();\r\n    ChromeOptions options = new ChromeOptions();\r\n    setDefaultCapabilities(capabilities);\r\n    capabilities.setCapability(&quot;chrome.switches&quot;, Arrays.asList(&quot;--ignore-certificate-errors&quot;));\r\n    options.addArguments(Arrays.asList(&quot;allow-running-insecure-content&quot;, &quot;ignore-certificate-errors&quot;));\r\n    capabilities.setCapability(ChromeOptions.CAPABILITY, options);","title":"Chrome Error: You are using an unsupported command-line flag: --ignore-certifcate-errors. Stability and security will suffer","body":"<p>Try this code  when you create driver. I hope it will help:</p>\n\n<pre><code>DesiredCapabilities capabilities = DesiredCapabilities.chrome();\nChromeOptions options = new ChromeOptions();\nsetDefaultCapabilities(capabilities);\ncapabilities.setCapability(\"chrome.switches\", Arrays.asList(\"--ignore-certificate-errors\"));\noptions.addArguments(Arrays.asList(\"allow-running-insecure-content\", \"ignore-certificate-errors\"));\ncapabilities.setCapability(ChromeOptions.CAPABILITY, options);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1592127,"reputation":18171,"user_id":1475228,"accept_rate":84,"display_name":"Pritam Banerjee"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1699601367,"creation_date":1461161854,"answer_id":36746675,"question_id":32042187,"body_markdown":"You can add this to the shortcut of the chrome browser, in the Target portion:\r\n\r\n    –-test-type\r\n\r\nThis would disable any warning messages.\r\nNot the best solution, but it works.","title":"Chrome Error: You are using an unsupported command-line flag: --ignore-certifcate-errors. Stability and security will suffer","body":"<p>You can add this to the shortcut of the chrome browser, in the Target portion:</p>\n<pre><code>–-test-type\n</code></pre>\n<p>This would disable any warning messages.\nNot the best solution, but it works.</p>\n"},{"tags":[],"owner":{"account_id":2919214,"reputation":151,"user_id":2501852,"display_name":"Kunle"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1479817214,"creation_date":1479817214,"answer_id":40741729,"question_id":32042187,"body_markdown":"I had this issue recently. I found out I was using a 32-bit chromedriver for a 64-bit Mac. So I simply replaced the chromedriver with a 64-bit chromedriver from https://chromedriver.storage.googleapis.com/index.html?path=2.25/ and the error was gone.","title":"Chrome Error: You are using an unsupported command-line flag: --ignore-certifcate-errors. Stability and security will suffer","body":"<p>I had this issue recently. I found out I was using a 32-bit chromedriver for a 64-bit Mac. So I simply replaced the chromedriver with a 64-bit chromedriver from <a href=\"https://chromedriver.storage.googleapis.com/index.html?path=2.25/\" rel=\"nofollow noreferrer\">https://chromedriver.storage.googleapis.com/index.html?path=2.25/</a> and the error was gone.</p>\n"},{"tags":[],"owner":{"account_id":6003178,"reputation":469,"user_id":4715839,"accept_rate":33,"display_name":"sanjay pujari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486818201,"creation_date":1486818201,"answer_id":42176177,"question_id":32042187,"body_markdown":"Use chromedriver 2.12 version (chromedriver_win32.zip) from the path  http://chromedriver.storage.googleapis.com/index.html?path=2.12/\r\n\r\nYou wont see this pop up.","title":"Chrome Error: You are using an unsupported command-line flag: --ignore-certifcate-errors. Stability and security will suffer","body":"<p>Use chromedriver 2.12 version (chromedriver_win32.zip) from the path  <a href=\"http://chromedriver.storage.googleapis.com/index.html?path=2.12/\" rel=\"nofollow noreferrer\">http://chromedriver.storage.googleapis.com/index.html?path=2.12/</a></p>\n\n<p>You wont see this pop up.</p>\n"},{"tags":[],"owner":{"account_id":10250039,"reputation":1867,"user_id":7564593,"display_name":"Bandham Manikanta"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1578658019,"creation_date":1495133271,"answer_id":44055680,"question_id":32042187,"body_markdown":"For a chrome version of `58.0.3029.110`, You should use Chrome.driver of `2.28 version`. Download driver from http://chromedriver.storage.googleapis.com/index.html?path=2.28/\r\n\r\n\r\nNote: If you want to download other `chromedriver of other version` then `change version number` in the above url.\r\n \r\n`Happy learning`","title":"Chrome Error: You are using an unsupported command-line flag: --ignore-certifcate-errors. Stability and security will suffer","body":"<p>For a chrome version of <code>58.0.3029.110</code>, You should use Chrome.driver of <code>2.28 version</code>. Download driver from <a href=\"http://chromedriver.storage.googleapis.com/index.html?path=2.28/\" rel=\"nofollow noreferrer\">http://chromedriver.storage.googleapis.com/index.html?path=2.28/</a></p>\n\n<p>Note: If you want to download other <code>chromedriver of other version</code> then <code>change version number</code> in the above url.</p>\n\n<p><code>Happy learning</code></p>\n"},{"tags":[],"owner":{"account_id":4989784,"reputation":99,"user_id":4012362,"display_name":"Syrus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522158470,"creation_date":1522158470,"answer_id":49514686,"question_id":32042187,"body_markdown":"If your browser the latest version try with the latest chrome driver. I got the same issue but when changed it to the latest driver and it worked.","title":"Chrome Error: You are using an unsupported command-line flag: --ignore-certifcate-errors. Stability and security will suffer","body":"<p>If your browser the latest version try with the latest chrome driver. I got the same issue but when changed it to the latest driver and it worked.</p>\n"},{"tags":[],"owner":{"account_id":5952327,"reputation":1,"user_id":9943176,"display_name":"Ankit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529000336,"creation_date":1529000336,"answer_id":50863645,"question_id":32042187,"body_markdown":"I think this is due to chrome driver incompatibility with chrome browser. \r\n1.Uninstall chrome driver.\r\n2.Check the chrome browser version you are using.\r\n3.Find a corresponding compatible chrome driver( browser version compatible) and install it.\r\nDo not forget to restart the system after step 1 and step 3.\r\nI think this should fix the issue. It worked for me.","title":"Chrome Error: You are using an unsupported command-line flag: --ignore-certifcate-errors. Stability and security will suffer","body":"<p>I think this is due to chrome driver incompatibility with chrome browser. \n1.Uninstall chrome driver.\n2.Check the chrome browser version you are using.\n3.Find a corresponding compatible chrome driver( browser version compatible) and install it.\nDo not forget to restart the system after step 1 and step 3.\nI think this should fix the issue. It worked for me.</p>\n"},{"tags":[],"owner":{"account_id":1006097,"reputation":537,"user_id":8389470,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1540488197,"creation_date":1530859018,"answer_id":51204339,"question_id":32042187,"body_markdown":"I was able to fix this on Windows by opening the properties of the Chrome shortcut. There I deleted the `--ignore-certificate-errors` flag.","title":"Chrome Error: You are using an unsupported command-line flag: --ignore-certifcate-errors. Stability and security will suffer","body":"<p>I was able to fix this on Windows by opening the properties of the Chrome shortcut. There I deleted the <code>--ignore-certificate-errors</code> flag.</p>\n"},{"tags":[],"owner":{"account_id":6010289,"reputation":876,"user_id":4720950,"display_name":"Parameshwar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609296099,"creation_date":1609296099,"answer_id":65501355,"question_id":32042187,"body_markdown":"Had similar issue so while the following code i added as ChromeOptions helped me resolve this is just as @Pritam Banerjee said\r\n\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Program Files\\\\Java\\\\chromedriver.exe&quot;);\r\n\t\tSystem.out.println(System.getProperty(&quot;webdriver.chrome.driver&quot;));\r\n\t\tChromeOptions chromeOptions = new ChromeOptions();\r\n\t\tchromeOptions.addArguments(&quot;no-sandbox&quot;);\r\n\t\tchromeOptions.addArguments(&quot;--test-type&quot;);// this is the one that helped\r\n\t\tchromeOptions.addArguments(&quot;disable-extensions&quot;);\r\n\t\tchromeOptions.addArguments(&quot;--start-maximized&quot;);\r\n\t\tWebDriver driver = new ChromeDriver(chromeOptions);\r\n\t\tdriver.get(&quot;https://www.google.com&quot;);\r\n\t\tSystem.out.println(&quot;Google is selected&quot;);","title":"Chrome Error: You are using an unsupported command-line flag: --ignore-certifcate-errors. Stability and security will suffer","body":"<p>Had similar issue so while the following code i added as ChromeOptions helped me resolve this is just as @Pritam Banerjee said</p>\n<pre><code>    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Program Files\\\\Java\\\\chromedriver.exe&quot;);\n    System.out.println(System.getProperty(&quot;webdriver.chrome.driver&quot;));\n    ChromeOptions chromeOptions = new ChromeOptions();\n    chromeOptions.addArguments(&quot;no-sandbox&quot;);\n    chromeOptions.addArguments(&quot;--test-type&quot;);// this is the one that helped\n    chromeOptions.addArguments(&quot;disable-extensions&quot;);\n    chromeOptions.addArguments(&quot;--start-maximized&quot;);\n    WebDriver driver = new ChromeDriver(chromeOptions);\n    driver.get(&quot;https://www.google.com&quot;);\n    System.out.println(&quot;Google is selected&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20767849,"reputation":1,"user_id":15251325,"display_name":"Jennifer Ferrell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613867685,"creation_date":1613867685,"answer_id":66298019,"question_id":32042187,"body_markdown":"Mine had the same error because of chrome remote desktop. I removed it From my programs and I no longer get the error","title":"Chrome Error: You are using an unsupported command-line flag: --ignore-certifcate-errors. Stability and security will suffer","body":"<p>Mine had the same error because of chrome remote desktop. I removed it From my programs and I no longer get the error</p>\n"}],"owner":{"account_id":4481429,"reputation":319,"user_id":3645398,"display_name":"karshitbha"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75583,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"answer_count":10,"score":21,"last_activity_date":1699601367,"creation_date":1439780503,"question_id":32042187,"body_markdown":"Browser opens with the below mentioned line-\r\n\r\n&gt;You are using an unsupported command-line flag: --ignore-certifcate-errors. Stability and security will suffer.\r\n\r\nas well as after few second the browser close and the error is thrown.\r\n\r\nI am facing the above error when i run my code on chrome.\r\n\r\nI am using chrome version - 44.0.2403.155 and latest selenium jars.\r\n\r\nCan anybody help me out?","title":"Chrome Error: You are using an unsupported command-line flag: --ignore-certifcate-errors. Stability and security will suffer","body":"<p>Browser opens with the below mentioned line-</p>\n\n<blockquote>\n  <p>You are using an unsupported command-line flag: --ignore-certifcate-errors. Stability and security will suffer.</p>\n</blockquote>\n\n<p>as well as after few second the browser close and the error is thrown.</p>\n\n<p>I am facing the above error when i run my code on chrome.</p>\n\n<p>I am using chrome version - 44.0.2403.155 and latest selenium jars.</p>\n\n<p>Can anybody help me out?</p>\n"},{"tags":["java","android","android-room"],"comments":[{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":1,"creation_date":1573593954,"post_id":58826876,"comment_id":103930351,"body_markdown":"`When I annotate it with @NonNull, An entity must have at least 1 field annotated with @PrimaryKey` Did you annotate it with __both__ or just `@NonNull`?","body":"<code>When I annotate it with @NonNull, An entity must have at least 1 field annotated with @PrimaryKey</code> Did you annotate it with <b>both</b> or just <code>@NonNull</code>?"},{"owner":{"account_id":13796972,"reputation":313,"user_id":9957948,"display_name":"microflakes"},"score":0,"creation_date":1573594085,"post_id":58826876,"comment_id":103930402,"body_markdown":"The latter is with both.  I tired changing the order too","body":"The latter is with both.  I tired changing the order too"},{"owner":{"account_id":7631591,"reputation":162,"user_id":5786477,"display_name":"Tiberiu Zulean"},"score":0,"creation_date":1573595117,"post_id":58826876,"comment_id":103930785,"body_markdown":"And make sure you import the correct NonNull package: `import android.support.annotation.NonNull;`","body":"And make sure you import the correct NonNull package: <code>import android.support.annotation.NonNull;</code>"},{"owner":{"account_id":13796972,"reputation":313,"user_id":9957948,"display_name":"microflakes"},"score":0,"creation_date":1573595318,"post_id":58826876,"comment_id":103930845,"body_markdown":"Yes, sorry for the sloppy code paste, all are present.  OP edited","body":"Yes, sorry for the sloppy code paste, all are present.  OP edited"},{"owner":{"account_id":8838381,"reputation":1306,"user_id":6601614,"accept_rate":64,"display_name":"Shankha057"},"score":0,"creation_date":1573597069,"post_id":58826876,"comment_id":103931422,"body_markdown":"I have tried out what you did and I did not get any compile or build errors. The problem is elsewhere and not with the annotations. Also, I used the AndroidX annotations and **NOT** the support annotations","body":"I have tried out what you did and I did not get any compile or build errors. The problem is elsewhere and not with the annotations. Also, I used the AndroidX annotations and <b>NOT</b> the support annotations"},{"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"score":0,"creation_date":1573635433,"post_id":58826876,"comment_id":103942055,"body_markdown":"Do you have the latest libraries? as per Shankha507 works fine (and also tried swapping position of @NonNull in relation to @PrimaryKey). I&#39;m using     `implementation &#39;androidx.room:room-runtime:2.2.1&#39;` and \n    `annotationProcessor &#39;androidx.room:room-compiler:2.2.1&#39;`. I did come accross what appeared to be the same issue with earlier libraries.","body":"Do you have the latest libraries? as per Shankha507 works fine (and also tried swapping position of @NonNull in relation to @PrimaryKey). I&#39;m using     <code>implementation &#39;androidx.room:room-runtime:2.2.1&#39;</code> and      <code>annotationProcessor &#39;androidx.room:room-compiler:2.2.1&#39;</code>. I did come accross what appeared to be the same issue with earlier libraries."}],"answers":[{"tags":[],"owner":{"account_id":7631591,"reputation":162,"user_id":5786477,"display_name":"Tiberiu Zulean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573596044,"creation_date":1573596044,"answer_id":58827330,"question_id":58826876,"body_markdown":"You can try binding the primary key with the Entity like this:\r\n\r\n \r\n\r\n    @Entity(tableName = &quot;player_profiles&quot;,\r\n            primaryKeys = { &quot;uidString&quot; })\r\n\r\nAfter that annotate your primary key with `@NonNull` in the class below.\r\n\r\n    @NonNull\r\n    public String uidString = UUID.randomUUID().toString();","title":"You must annotate primary keys with @NonNull?","body":"<p>You can try binding the primary key with the Entity like this:</p>\n\n<pre><code>@Entity(tableName = \"player_profiles\",\n        primaryKeys = { \"uidString\" })\n</code></pre>\n\n<p>After that annotate your primary key with <code>@NonNull</code> in the class below.</p>\n\n<pre><code>@NonNull\npublic String uidString = UUID.randomUUID().toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11976783,"reputation":190,"user_id":8763679,"display_name":"otto"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1573596651,"creation_date":1573596194,"answer_id":58827360,"question_id":58826876,"body_markdown":"For Java you should annotate with `@android.support.annotation.NonNull`\n\nDelete the other NonNull import you are using yet and change it to\n\n    import android.support.annotation.NonNull;\n\n\nThen use both annotations\n\n    @PrimaryKey\n    @NonNull\n\n","title":"You must annotate primary keys with @NonNull?","body":"<p>For Java you should annotate with <code>@android.support.annotation.NonNull</code></p>\n\n<p>Delete the other NonNull import you are using yet and change it to</p>\n\n<pre><code>import android.support.annotation.NonNull;\n</code></pre>\n\n<p>Then use both annotations</p>\n\n<pre><code>@PrimaryKey\n@NonNull\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16660658,"reputation":1,"user_id":12040690,"display_name":"nitin gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587638239,"creation_date":1587638239,"answer_id":61385138,"question_id":58826876,"body_markdown":"check the case sensitiveness it should be &quot;@NonNull&quot; and not &quot;@Nonnull&quot;\r\nimport androidx.annotation.NonNull;","title":"You must annotate primary keys with @NonNull?","body":"<p>check the case sensitiveness it should be \"@NonNull\" and not \"@Nonnull\"\nimport androidx.annotation.NonNull;</p>\n"},{"tags":[],"owner":{"account_id":6850466,"reputation":63,"user_id":5267791,"display_name":"John Owuor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1606404723,"creation_date":1606404723,"answer_id":65024995,"question_id":58826876,"body_markdown":"In my case I had:\r\n\r\n```\r\n@PrimaryKey @NonNull var reasonId: String? = Constants.EMPTY_STRING, \r\n\r\n```\r\ninstead of:\r\n```\r\n@PrimaryKey @NonNull var reasonId: String = Constants.EMPTY_STRING, \r\n\r\n```\r\n\r\n","title":"You must annotate primary keys with @NonNull?","body":"<p>In my case I had:</p>\n<pre><code>@PrimaryKey @NonNull var reasonId: String? = Constants.EMPTY_STRING, \n\n</code></pre>\n<p>instead of:</p>\n<pre><code>@PrimaryKey @NonNull var reasonId: String = Constants.EMPTY_STRING, \n\n</code></pre>\n"}],"owner":{"account_id":13796972,"reputation":313,"user_id":9957948,"display_name":"microflakes"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6558,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":4,"score":10,"last_activity_date":1699601243,"creation_date":1573593768,"question_id":58826876,"body_markdown":"I&#39;m getting this error on this piece of code. ```You must annotate primary keys with @NonNull. &quot;uidString&quot; is nullable. ```  When I annotate it with @NonNull and @PrimaryKey, ```An entity must have at least 1 field annotated with @PrimaryKey```\r\n\r\nWhat&#39;s up?\r\n\r\n```\r\nimport androidx.annotation.NonNull;\r\nimport androidx.room.ColumnInfo;\r\nimport androidx.room.Entity;\r\nimport androidx.room.PrimaryKey;\r\n\r\nimport java.util.UUID;\r\n\r\n@Entity(tableName = &quot;player_profiles&quot;)\r\npublic class PlayerGameProfile implements Parcelable {\r\n\r\n    @PrimaryKey\r\n    public String uidString = UUID.randomUUID().toString();\r\n\r\n    @ColumnInfo(name = &quot;name&quot;)\r\n    public String name;\r\n\r\n```","title":"You must annotate primary keys with @NonNull?","body":"<p>I'm getting this error on this piece of code. <code>You must annotate primary keys with @NonNull. \"uidString\" is nullable.</code>  When I annotate it with @NonNull and @PrimaryKey, <code>An entity must have at least 1 field annotated with @PrimaryKey</code></p>\n\n<p>What's up?</p>\n\n<pre><code>import androidx.annotation.NonNull;\nimport androidx.room.ColumnInfo;\nimport androidx.room.Entity;\nimport androidx.room.PrimaryKey;\n\nimport java.util.UUID;\n\n@Entity(tableName = \"player_profiles\")\npublic class PlayerGameProfile implements Parcelable {\n\n    @PrimaryKey\n    public String uidString = UUID.randomUUID().toString();\n\n    @ColumnInfo(name = \"name\")\n    public String name;\n\n</code></pre>\n"},{"tags":["java","sql-server"],"comments":[{"owner":{"account_id":341185,"reputation":16364,"user_id":671639,"accept_rate":69,"display_name":"BetaRide"},"score":0,"creation_date":1400080019,"post_id":23658239,"comment_id":36338978,"body_markdown":"Are you sure you want to access the DB from an applet? An applet runs in the browser. I doubt that the browser of your users are running on the same machine as your db server.","body":"Are you sure you want to access the DB from an applet? An applet runs in the browser. I doubt that the browser of your users are running on the same machine as your db server."},{"owner":{"account_id":4036829,"reputation":1301,"user_id":3320956,"accept_rate":59,"display_name":"strange_098"},"score":0,"creation_date":1400080493,"post_id":23658239,"comment_id":36339328,"body_markdown":"Thanks for reply.Yes, i&#39;m sure. My application will be run on a server. But i dont no how do the conection :S","body":"Thanks for reply.Yes, i&#39;m sure. My application will be run on a server. But i dont no how do the conection :S"},{"owner":{"account_id":15081,"reputation":4269,"user_id":31493,"accept_rate":38,"display_name":"Daniel Serodio"},"score":0,"creation_date":1400089353,"post_id":23658239,"comment_id":36345173,"body_markdown":"@user3320956 like jdiver said, applets don&#39;t run on the server, they run on the (client) user&#39;s computer","body":"@user3320956 like jdiver said, applets don&#39;t run on the server, they run on the (client) user&#39;s computer"},{"owner":{"account_id":341185,"reputation":16364,"user_id":671639,"accept_rate":69,"display_name":"BetaRide"},"score":0,"creation_date":1400137914,"post_id":23658239,"comment_id":36364217,"body_markdown":"Do you have a java *applet* or an *application*? This are completely different things.","body":"Do you have a java <i>applet</i> or an <i>application</i>? This are completely different things."},{"owner":{"account_id":4036829,"reputation":1301,"user_id":3320956,"accept_rate":59,"display_name":"strange_098"},"score":0,"creation_date":1400139961,"post_id":23658239,"comment_id":36365442,"body_markdown":"I have an application :S","body":"I have an application :S"}],"answers":[{"tags":[],"owner":{"account_id":4176518,"reputation":2268,"user_id":3422892,"display_name":"jdiver"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1400088498,"creation_date":1400079790,"answer_id":23658417,"question_id":23658239,"body_markdown":"First of all you will need JDBC drivers for MS SQL Server. Either from [Microsoft][1] or there are other options like [jTDS][2].\r\n\r\n\r\nThen you should use a connection string like `jdbc:sqlserver://ServerName:Port;databaseName=;user=username;password=password;`\r\n\r\nOf course your SQL Server should be in mixed mode so you can connect with username and password created on server.\r\n\r\nApplets run on users&#39; computer, therefore you should open your SQL Server ports to all visitors which is a BAD idea.\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/sqlserver/aa937724.aspx\r\n  [2]: http://jtds.sourceforge.net/","title":"How to connect Java to Microsoft SQL server","body":"<p>First of all you will need JDBC drivers for MS SQL Server. Either from <a href=\"http://msdn.microsoft.com/en-us/sqlserver/aa937724.aspx\" rel=\"nofollow\">Microsoft</a> or there are other options like <a href=\"http://jtds.sourceforge.net/\" rel=\"nofollow\">jTDS</a>.</p>\n\n<p>Then you should use a connection string like <code>jdbc:sqlserver://ServerName:Port;databaseName=;user=username;password=password;</code></p>\n\n<p>Of course your SQL Server should be in mixed mode so you can connect with username and password created on server.</p>\n\n<p>Applets run on users' computer, therefore you should open your SQL Server ports to all visitors which is a BAD idea.</p>\n"},{"tags":[],"owner":{"account_id":2301105,"reputation":164,"user_id":2021389,"accept_rate":30,"display_name":"Dharmraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400088886,"creation_date":1400088886,"answer_id":23661397,"question_id":23658239,"body_markdown":"    Make database URL like :\r\n    \r\n    jdbc:mysql://IP address:DatabasePort/DatabaseName,username, password   \r\n      \r\n    public class Connection {\r\n    \r\n    public static Connection getConexao()throws SQLException{\r\n        try{\r\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n            return DriverManager.getConnection(&quot;jdbc:mysql://127.0.0.1:3306/world&quot;,&quot;root&quot;, &quot;rootadmin&quot;);\r\n    \r\n        }catch(ClassNotFoundException e) {\r\n            throw new SQLException(e.getMessage());\r\n        }\r\n    }\r\n    \r\n    }","title":"How to connect Java to Microsoft SQL server","body":"<pre><code>Make database URL like :\n\njdbc:mysql://IP address:DatabasePort/DatabaseName,username, password   \n\npublic class Connection {\n\npublic static Connection getConexao()throws SQLException{\n    try{\n        Class.forName(\"com.mysql.jdbc.Driver\");\n        return DriverManager.getConnection(\"jdbc:mysql://127.0.0.1:3306/world\",\"root\", \"rootadmin\");\n\n    }catch(ClassNotFoundException e) {\n        throw new SQLException(e.getMessage());\n    }\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4737708,"reputation":3079,"user_id":3831571,"accept_rate":100,"display_name":"Fevly Pallar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699601236,"creation_date":1600803296,"answer_id":64016592,"question_id":23658239,"body_markdown":"This answer is presented for next visitors on this kind of question. Configuring the java driver connection for *SQL Server* can\r\nbe quite confusing for new users. I&#39;ll guide you here through *SQL Server Management Studio (SSMS)*:\r\n\r\nThere&#39;re 2 kinds of authentification accepted on SQL Server. They are *Windows* &amp; *SQL Server* authentification.\r\nIn this answer I&#39;ll active &quot;***sa***&quot; (syst. administrator) account for quick setup demonstration over the connection.\r\n\r\n\r\n***To enable the &quot;***sa***&quot; account*** (you can skip this if it had already been there):\r\n- Login as usual using default window authentification mode\r\n- Right click on the server name (i.e *MYCOMPUTER223\\SQLEXPRESS*) &gt; *Security* &gt; go enable the *SQL Server &amp; Window authentification mode* &gt; *ok*\r\n-  On the left tree menu, click *Security* &gt; *Logins* &gt; right click that &quot;*sa*&quot; &gt; *Properties* &gt; set up your &quot;*password*&quot;  for this &quot;*sa*&quot; account\r\n- and then on the left menu there is the &quot;*Status*&quot;&gt; enable the &quot;*Login:*&quot;\r\n- restart the SQL Server service\r\n- now login as &quot;*sa*&quot; through &quot;*SQL Server authentification mode*&quot; on the SMSS . Using the password we&#39;ve just set up.\r\n\r\n**Enable the TCP/IP for the conn. instance** (this is by default is disabled particularly on sql express editions):\r\n\r\n- Open &quot;Sql Server Configuration Manager&quot;. This is installed along the installation of SQL Server engine.\r\n- &quot;*SQL Server Network Configuration*&quot; &gt; &quot;*Protocol for SQLExpress*&quot; &gt; enable the &quot;*TCP/IP*&quot;\r\n-  right click that &quot;*TCP/IP*&quot; &gt; &quot;*IP Address*&quot; &gt; scroll down till you find &quot;*IPAll*&quot; and then just fill the &quot;*port*&quot; field with *1433*\r\n\r\n\r\nYou can now use this credential for the SMSS:\r\n\r\n \r\n\r\n    username\t   : sa\r\n     password      : ...the password you&#39;ve just set up above..\r\n\r\nOr you can now use this credential on your external java based clients/data or *BI* tools/sql management tools such as *Pentaho*, *Heidi SQL*, *DB Weaver* or any particular java framework conn. manager descriptor, etc. :\r\n\r\n    hostname      : localhost (or any custome host domains)\r\n    database name : your database name..\r\n    instance name : i.e SQLEXPRESS (this can be found through the SMSS, right click the server name &gt; view connection properties)\r\n    port          : 1433\r\n    username\t  : sa\r\n    password      : ...the password you&#39;ve just set up above..\r\n\t\r\nor via url/uri for the Java connection manager/factory:\r\n\t\r\n        String Connectionurl=&quot;jdbc:sqlserver://localhost:1433;DatabaseName=Yourdatabasename;user=sa;password=yourSApassword&quot;;\r\n    \r\n    public Connection createConnection() throws NoSuchAlgorithmException {   \t\r\n    \t\tSystem.out.println(&quot;Creating SQL Server DataBase Connection&quot;);\r\n    \t\tConnection connection = null; \r\n    \t\ttry {  \r\n    \t\t\t// Provide the java database driver\r\n    \t\t\tClass.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);  \r\n    \t\t\t// Provide URL, database and credentials according to your database\r\n    \t\t\t// .getConnection (&quot;url/namadatabase, user, password&quot;)\r\n    \t\t\tString Connectionurl=&quot;jdbc:sqlserver://localhost:1433;DatabaseName=DummyDatabase;user=sa;password=YourSAaccountpassword&quot;;\r\n    \t\t\tconnection = DriverManager.getConnection(Connectionurl);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t\tif (connection != null) {\r\n    \t\t\tSystem.out.println(&quot;Connection created successfully..&quot;);\r\n    \t\t}\r\n    \t\treturn connection;\r\n    \t}","title":"How to connect Java to Microsoft SQL server","body":"<p>This answer is presented for next visitors on this kind of question. Configuring the java driver connection for <em>SQL Server</em> can\nbe quite confusing for new users. I'll guide you here through <em>SQL Server Management Studio (SSMS)</em>:</p>\n<p>There're 2 kinds of authentification accepted on SQL Server. They are <em>Windows</em> &amp; <em>SQL Server</em> authentification.\nIn this answer I'll active &quot;<em><strong>sa</strong></em>&quot; (syst. administrator) account for quick setup demonstration over the connection.</p>\n<p><em><strong>To enable the &quot;<em><strong>sa</strong></em>&quot; account</strong></em> (you can skip this if it had already been there):</p>\n<ul>\n<li>Login as usual using default window authentification mode</li>\n<li>Right click on the server name (i.e <em>MYCOMPUTER223\\SQLEXPRESS</em>) &gt; <em>Security</em> &gt; go enable the <em>SQL Server &amp; Window authentification mode</em> &gt; <em>ok</em></li>\n<li>On the left tree menu, click <em>Security</em> &gt; <em>Logins</em> &gt; right click that &quot;<em>sa</em>&quot; &gt; <em>Properties</em> &gt; set up your &quot;<em>password</em>&quot;  for this &quot;<em>sa</em>&quot; account</li>\n<li>and then on the left menu there is the &quot;<em>Status</em>&quot;&gt; enable the &quot;<em>Login:</em>&quot;</li>\n<li>restart the SQL Server service</li>\n<li>now login as &quot;<em>sa</em>&quot; through &quot;<em>SQL Server authentification mode</em>&quot; on the SMSS . Using the password we've just set up.</li>\n</ul>\n<p><strong>Enable the TCP/IP for the conn. instance</strong> (this is by default is disabled particularly on sql express editions):</p>\n<ul>\n<li>Open &quot;Sql Server Configuration Manager&quot;. This is installed along the installation of SQL Server engine.</li>\n<li>&quot;<em>SQL Server Network Configuration</em>&quot; &gt; &quot;<em>Protocol for SQLExpress</em>&quot; &gt; enable the &quot;<em>TCP/IP</em>&quot;</li>\n<li>right click that &quot;<em>TCP/IP</em>&quot; &gt; &quot;<em>IP Address</em>&quot; &gt; scroll down till you find &quot;<em>IPAll</em>&quot; and then just fill the &quot;<em>port</em>&quot; field with <em>1433</em></li>\n</ul>\n<p>You can now use this credential for the SMSS:</p>\n<pre><code>username       : sa\n password      : ...the password you've just set up above..\n</code></pre>\n<p>Or you can now use this credential on your external java based clients/data or <em>BI</em> tools/sql management tools such as <em>Pentaho</em>, <em>Heidi SQL</em>, <em>DB Weaver</em> or any particular java framework conn. manager descriptor, etc. :</p>\n<pre><code>hostname      : localhost (or any custome host domains)\ndatabase name : your database name..\ninstance name : i.e SQLEXPRESS (this can be found through the SMSS, right click the server name &gt; view connection properties)\nport          : 1433\nusername      : sa\npassword      : ...the password you've just set up above..\n</code></pre>\n<p>or via url/uri for the Java connection manager/factory:</p>\n<pre><code>    String Connectionurl=&quot;jdbc:sqlserver://localhost:1433;DatabaseName=Yourdatabasename;user=sa;password=yourSApassword&quot;;\n\npublic Connection createConnection() throws NoSuchAlgorithmException {      \n        System.out.println(&quot;Creating SQL Server DataBase Connection&quot;);\n        Connection connection = null; \n        try {  \n            // Provide the java database driver\n            Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);  \n            // Provide URL, database and credentials according to your database\n            // .getConnection (&quot;url/namadatabase, user, password&quot;)\n            String Connectionurl=&quot;jdbc:sqlserver://localhost:1433;DatabaseName=DummyDatabase;user=sa;password=YourSAaccountpassword&quot;;\n            connection = DriverManager.getConnection(Connectionurl);\n        } catch (Exception e) {\n            e.printStackTrace();\n            return null;\n        }\n        if (connection != null) {\n            System.out.println(&quot;Connection created successfully..&quot;);\n        }\n        return connection;\n    }\n</code></pre>\n"}],"owner":{"account_id":4036829,"reputation":1301,"user_id":3320956,"accept_rate":59,"display_name":"strange_098"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2809,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1699601236,"creation_date":1400079340,"question_id":23658239,"body_markdown":"I made a Java application to connect to a MySQL database. \r\nThe connection was made ​​in this way: \r\n\r\n\r\n    public class Connection {\r\n        \r\n        public static Connection getConexao() throws SQLException {\r\n            try {\r\n                Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n                //System.out.println(&quot;Conectado&quot;);\r\n                return DriverManager.getConnection(&quot;jdbc:mysql://localhost/world&quot;,&quot;root&quot;, &quot;rootadmin&quot;);\r\n            } catch (ClassNotFoundException e) {\r\n                throw new SQLException(e.getMessage());\r\n            }\r\n        }\r\n    }\r\n\r\nNow I needed to change the connection from MySQL to *Microsoft SQL Server 2012*. \r\n\r\nCan anyone  help me change the connection to the database? \r\n\r\nThank you all very much. ","title":"How to connect Java to Microsoft SQL server","body":"<p>I made a Java application to connect to a MySQL database. \nThe connection was made ​​in this way: </p>\n\n<pre><code>public class Connection {\n\n    public static Connection getConexao() throws SQLException {\n        try {\n            Class.forName(\"com.mysql.jdbc.Driver\");\n            //System.out.println(\"Conectado\");\n            return DriverManager.getConnection(\"jdbc:mysql://localhost/world\",\"root\", \"rootadmin\");\n        } catch (ClassNotFoundException e) {\n            throw new SQLException(e.getMessage());\n        }\n    }\n}\n</code></pre>\n\n<p>Now I needed to change the connection from MySQL to <em>Microsoft SQL Server 2012</em>. </p>\n\n<p>Can anyone  help me change the connection to the database? </p>\n\n<p>Thank you all very much. </p>\n"},{"tags":["java","https","get","access-token","http-status-code-401"],"comments":[{"owner":{"account_id":1754145,"reputation":43915,"user_id":1602555,"display_name":"Karol Dowbecki"},"score":0,"creation_date":1564006199,"post_id":57191786,"comment_id":100893226,"body_markdown":"Please post the `curl` command that worked.","body":"Please post the <code>curl</code> command that worked."},{"owner":{"account_id":15971143,"reputation":79,"user_id":11525251,"display_name":"Xfactor"},"score":0,"creation_date":1564006528,"post_id":57191786,"comment_id":100893322,"body_markdown":"@KarolDowbecki  this was the command  curl -H &quot;X-Risk-Token: &lt;token&gt;&quot; &quot;https://api.security/vulnerabilities/100&quot; -X GET","body":"@KarolDowbecki  this was the command  curl -H &quot;X-Risk-Token: &lt;token&gt;&quot; &quot;<a href=\"https://api.security/vulnerabilities/100\" rel=\"nofollow noreferrer\">api.security/vulnerabilities/100</a>&quot; -X GET"}],"answers":[{"tags":[],"owner":{"account_id":1754145,"reputation":43915,"user_id":1602555,"display_name":"Karol Dowbecki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564006844,"creation_date":1564005839,"answer_id":57191829,"question_id":57191786,"body_markdown":"You are setting the `X-Risk-Token` header in your `curl` command. In Java you need to do the same:\r\n\r\n```\r\nconnection.setRequestProperty(&quot;X-Risk-Token&quot;, access_token); \r\n```","title":"How to fix an &quot;401 Unauthorized. No Api Key provided&quot;","body":"<p>You are setting the <code>X-Risk-Token</code> header in your <code>curl</code> command. In Java you need to do the same:</p>\n\n<pre><code>connection.setRequestProperty(\"X-Risk-Token\", access_token); \n</code></pre>\n"}],"owner":{"account_id":15971143,"reputation":79,"user_id":11525251,"display_name":"Xfactor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3229,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1699601121,"creation_date":1564005602,"question_id":57191786,"body_markdown":"I&#39;m trying to pull data using api in java. When doing so, the  api returns 401: Unauthorized.  I&#39;m currently registered as an admin user and I&#39;m using an api key as a token. I&#39;ve also tried using declaring my token and using a setRequestProperty(&quot;Authorization&quot;, &quot;token&quot;, + access-token). Do you know what I might be doing wrong?\r\n\r\n I&#39;ve also tried using cURL and the UI to similar effect. and I have gotten back the output I expected but in java it is an authentication issue\r\n\r\n    public static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t//build each line and have a response to it \r\n    \t\tBufferedReader reader;\r\n    \t\tString access_token = &quot;abcde123 &quot;; \r\n    \t\tString line;\r\n    \t\tStringBuffer responseContentReader = new StringBuffer();\r\n    try {\r\n    \t//URL url =  new URL(&quot;https://testurl.com&quot;);\r\n    \t\r\n    \tconnection = (HttpsURLConnection) url.openConnection();\r\n    \t\r\n    \tconnection.setRequestProperty(&quot;Authorization&quot;, &quot;Token&quot; + access_token);\r\n    \t\r\n    \t\r\n    \t//here we should be able to &quot;request&quot; our setup\r\n    \t//Here will be the method I will use \r\n    \tconnection.setRequestMethod(&quot;GET&quot;);\r\n    \t\r\n    \t\r\n    \t//after 5 sec if the connection is not successful time it out\r\n    \tconnection.setConnectTimeout(7000);\r\n    \tconnection.setReadTimeout(7000);\r\n    \t\r\n    \tint status = connection.getResponseCode();\r\n    \t//System.out.println(status); //here the connect was established  output was 200 (OK)\r\n    \t\r\n    \t//here we are dealing with the connection isnt succesful\r\n    \tif (status &gt;299) {\r\n    \t\treader = new BufferedReader(new InputStreamReader(connection.getErrorStream()));\r\n    \t\twhile ((line = reader.readLine()) != null) {\r\n    \t\t\tresponseContentReader.append(&quot; &quot;);\r\n    \t\t\tresponseContentReader.append(line);\r\n    \t\t\tresponseContentReader.append(&quot;\\n&quot;);\r\n    \t\t}\r\n    \t\treader.close();\r\n    \t//returns what is successful\t\r\n    \t}else {\r\n    \t\treader = new BufferedReader(new InputStreamReader(connection.getInputStream()));\r\n    \t\twhile ((line = reader.readLine()) != null) {\r\n    \t\t\tresponseContentReader.append(&quot; &quot;);\r\n    \t\t\tresponseContentReader.append(line);\r\n    \t\t\tresponseContentReader.append(&quot;\\n&quot;);\r\n    \t\t}\r\n    \t\treader.close();\r\n    \t}\r\n    \tSystem.out.println(responseContentReader.toString());\r\n    } catch (MalformedURLException e) {\r\n    \t// TODO Auto-generated catch block\r\n    \te.printStackTrace();\r\n    }catch (IOException e) {\r\n    \t// TODO: handle exception\r\n    \te.printStackTrace();\r\n    }finally {\r\n    \tconnection.disconnect();\r\n    }\r\n    \t}\r\n    \r\n    }\r\n\r\nthe output I get from the console is\r\n\r\n    {&quot;success&quot;:&quot;false&quot;,&quot;error&quot;:&quot;unauthorized&quot;,&quot;message&quot;:&quot;401 Unauthorized. No API key provided.&quot;}\r\n\r\n","title":"How to fix an &quot;401 Unauthorized. No Api Key provided&quot;","body":"<p>I'm trying to pull data using api in java. When doing so, the  api returns 401: Unauthorized.  I'm currently registered as an admin user and I'm using an api key as a token. I've also tried using declaring my token and using a setRequestProperty(\"Authorization\", \"token\", + access-token). Do you know what I might be doing wrong?</p>\n\n<p>I've also tried using cURL and the UI to similar effect. and I have gotten back the output I expected but in java it is an authentication issue</p>\n\n<pre><code>public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        //build each line and have a response to it \n        BufferedReader reader;\n        String access_token = \"abcde123 \"; \n        String line;\n        StringBuffer responseContentReader = new StringBuffer();\ntry {\n    //URL url =  new URL(\"https://testurl.com\");\n\n    connection = (HttpsURLConnection) url.openConnection();\n\n    connection.setRequestProperty(\"Authorization\", \"Token\" + access_token);\n\n\n    //here we should be able to \"request\" our setup\n    //Here will be the method I will use \n    connection.setRequestMethod(\"GET\");\n\n\n    //after 5 sec if the connection is not successful time it out\n    connection.setConnectTimeout(7000);\n    connection.setReadTimeout(7000);\n\n    int status = connection.getResponseCode();\n    //System.out.println(status); //here the connect was established  output was 200 (OK)\n\n    //here we are dealing with the connection isnt succesful\n    if (status &gt;299) {\n        reader = new BufferedReader(new InputStreamReader(connection.getErrorStream()));\n        while ((line = reader.readLine()) != null) {\n            responseContentReader.append(\" \");\n            responseContentReader.append(line);\n            responseContentReader.append(\"\\n\");\n        }\n        reader.close();\n    //returns what is successful    \n    }else {\n        reader = new BufferedReader(new InputStreamReader(connection.getInputStream()));\n        while ((line = reader.readLine()) != null) {\n            responseContentReader.append(\" \");\n            responseContentReader.append(line);\n            responseContentReader.append(\"\\n\");\n        }\n        reader.close();\n    }\n    System.out.println(responseContentReader.toString());\n} catch (MalformedURLException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}catch (IOException e) {\n    // TODO: handle exception\n    e.printStackTrace();\n}finally {\n    connection.disconnect();\n}\n    }\n\n}\n</code></pre>\n\n<p>the output I get from the console is</p>\n\n<pre><code>{\"success\":\"false\",\"error\":\"unauthorized\",\"message\":\"401 Unauthorized. No API key provided.\"}\n</code></pre>\n"},{"tags":["python","java","encryption","aes"],"comments":[{"owner":{"account_id":7414063,"reputation":1411,"user_id":5640517,"display_name":"Daviid"},"score":1,"creation_date":1699366657,"post_id":77438917,"comment_id":136520723,"body_markdown":"`key = Arrays.copyOf(key, 32);` is probably returning an array with empty elements to reach the 32 newLength, while in python `key = key[:16]` does not return a string of length 16","body":"<code>key = Arrays.copyOf(key, 32);</code> is probably returning an array with empty elements to reach the 32 newLength, while in python <code>key = key[:16]</code> does not return a string of length 16"},{"owner":{"account_id":7414063,"reputation":1411,"user_id":5640517,"display_name":"Daviid"},"score":0,"creation_date":1699366696,"post_id":77438917,"comment_id":136520731,"body_markdown":"If you print or log the variables each step on both codes you should be able to see at what point they diverge","body":"If you print or log the variables each step on both codes you should be able to see at what point they diverge"}],"answers":[{"tags":[],"owner":{"account_id":7414063,"reputation":1411,"user_id":5640517,"display_name":"Daviid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699600456,"creation_date":1699369737,"answer_id":77439343,"question_id":77438917,"body_markdown":"Must be the appended zeroes in `key = Arrays.copyOf(key, 32);`\r\n\r\n```\r\nPython Original Key: [109, 121, 83, 101, 99, 114, 101, 116, 75, 101, 121]\r\nPython SHA-1 Digest (key): [170, 243, 150, 73, 152, 47, 173, 4, 165, 19, 82, 143, 200, 228, 115, 234]\r\nPython AES Key: [170, 243, 150, 73, 152, 47, 173, 4, 165, 19, 82, 143, 200, 228, 115, 234]\r\n\r\nPython Encrypted Data: [142, 23, 208, 32, 16, 116, 188, 87, 158, 173, 250, 117, 45, 216, 89, 192, 133, 191, 6, 62, 149, 94, 195, 242, 243, 134, 22, 145, 200, 188, 160, 240]\r\n\r\n\r\n\r\n// With key = Arrays.copyOf(key, 32);\r\nJava Original Key: [109, 121, 83, 101, 99, 114, 101, 116, 75, 101, 121]\r\nJava SHA-1 Digest: [-86, -13, -106, 73, -104, 47, -83, 4, -91, 19, 82, -113, -56, -28, 115, -22, 55, 38, 25, -70, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\r\nJava SHA-1 Digest (unsigned): 170, 243, 150, 73, 152, 47, 173, 4, 165, 19, 82, 143, 200, 228, 115, 234, 55, 38, 25, 186, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \r\nJava Secret Key: [-86, -13, -106, 73, -104, 47, -83, 4, -91, 19, 82, -113, -56, -28, 115, -22, 55, 38, 25, -70, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\r\nJava Secret Key (unsigned): 170, 243, 150, 73, 152, 47, 173, 4, 165, 19, 82, 143, 200, 228, 115, 234, 55, 38, 25, 186, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \r\nJava Encrypted Bytes: [-45, 23, -53, 108, -52, 115, 46, -99, 1, -42, -3, 116, -114, 12, -110, 50, -29, -20, 54, 126, -8, 59, 14, 121, -57, 100, 122, 25, 76, -104, -11, 113]\r\n\r\n\r\n\r\n// With key = Arrays.copyOf(key, 16);\r\nJava Original Key: [109, 121, 83, 101, 99, 114, 101, 116, 75, 101, 121]\r\nJava SHA-1 Digest: [-86, -13, -106, 73, -104, 47, -83, 4, -91, 19, 82, -113, -56, -28, 115, -22]\r\nJava SHA-1 Digest (unsigned): 170, 243, 150, 73, 152, 47, 173, 4, 165, 19, 82, 143, 200, 228, 115, 234, \r\nJava Secret Key: [-86, -13, -106, 73, -104, 47, -83, 4, -91, 19, 82, -113, -56, -28, 115, -22]\r\nJava Secret Key (unsigned): 170, 243, 150, 73, 152, 47, 173, 4, 165, 19, 82, 143, 200, 228, 115, 234, \r\nJava Encrypted Bytes: [-114, 23, -48, 32, 16, 116, -68, 87, -98, -83, -6, 117, 45, -40, 89, -64, -123, -65, 6, 62, -107, 94, -61, -14, -13, -122, 22, -111, -56, -68, -96, -16]\r\nJava Encrypted Bytes (unsigned): 142, 23, 208, 32, 16, 116, 188, 87, 158, 173, 250, 117, 45, 216, 89, 192, 133, 191, 6, 62, 149, 94, 195, 242, 243, 134, 22, 145, 200, 188, 160, 240, \r\nEncrypted Text: jhfQIBB0vFeerfp1LdhZwIW/Bj6VXsPy84YWkci8oPA=\r\n\r\n```\r\n\r\n\r\n\r\nSince you can only modify the python code you need to pad the key up to 32 bytes like in the Java code:\r\n\r\n```\r\n\r\ndef encrypt(str_to_encrypt, my_key):\r\n    try:\r\n        sha = hashlib.sha1()\r\n        sha.update(my_key.encode(&#39;utf-8&#39;))\r\n        key = sha.digest()\r\n        key = key.ljust(32, b&#39;\\0&#39;)\r\n        cipher = AES.new(key, AES.MODE_ECB)\r\n        byte_array = str_to_encrypt.encode(&quot;UTF-8&quot;)\r\n        padded_data = pad(byte_array, AES.block_size)\r\n        encrypted_data = cipher.encrypt(padded_data)\r\n        return base64.b64encode(encrypted_data).decode(&#39;utf-8&#39;)\r\n    except Exception as e:\r\n        raise e\r\n```\r\n\r\nWith `key = key.ljust(32, b&#39;\\0&#39;)` added we obtain the same output as the Java code `0xfLbMxzLp0B1v10jgySMuPsNn74Ow55x2R6GUyY9XE=`","title":"AES/ECB/PKCS5Padding Encryption Different Result in Java And Python","body":"<p>Must be the appended zeroes in <code>key = Arrays.copyOf(key, 32);</code></p>\n<pre><code>Python Original Key: [109, 121, 83, 101, 99, 114, 101, 116, 75, 101, 121]\nPython SHA-1 Digest (key): [170, 243, 150, 73, 152, 47, 173, 4, 165, 19, 82, 143, 200, 228, 115, 234]\nPython AES Key: [170, 243, 150, 73, 152, 47, 173, 4, 165, 19, 82, 143, 200, 228, 115, 234]\n\nPython Encrypted Data: [142, 23, 208, 32, 16, 116, 188, 87, 158, 173, 250, 117, 45, 216, 89, 192, 133, 191, 6, 62, 149, 94, 195, 242, 243, 134, 22, 145, 200, 188, 160, 240]\n\n\n\n// With key = Arrays.copyOf(key, 32);\nJava Original Key: [109, 121, 83, 101, 99, 114, 101, 116, 75, 101, 121]\nJava SHA-1 Digest: [-86, -13, -106, 73, -104, 47, -83, 4, -91, 19, 82, -113, -56, -28, 115, -22, 55, 38, 25, -70, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\nJava SHA-1 Digest (unsigned): 170, 243, 150, 73, 152, 47, 173, 4, 165, 19, 82, 143, 200, 228, 115, 234, 55, 38, 25, 186, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \nJava Secret Key: [-86, -13, -106, 73, -104, 47, -83, 4, -91, 19, 82, -113, -56, -28, 115, -22, 55, 38, 25, -70, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\nJava Secret Key (unsigned): 170, 243, 150, 73, 152, 47, 173, 4, 165, 19, 82, 143, 200, 228, 115, 234, 55, 38, 25, 186, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \nJava Encrypted Bytes: [-45, 23, -53, 108, -52, 115, 46, -99, 1, -42, -3, 116, -114, 12, -110, 50, -29, -20, 54, 126, -8, 59, 14, 121, -57, 100, 122, 25, 76, -104, -11, 113]\n\n\n\n// With key = Arrays.copyOf(key, 16);\nJava Original Key: [109, 121, 83, 101, 99, 114, 101, 116, 75, 101, 121]\nJava SHA-1 Digest: [-86, -13, -106, 73, -104, 47, -83, 4, -91, 19, 82, -113, -56, -28, 115, -22]\nJava SHA-1 Digest (unsigned): 170, 243, 150, 73, 152, 47, 173, 4, 165, 19, 82, 143, 200, 228, 115, 234, \nJava Secret Key: [-86, -13, -106, 73, -104, 47, -83, 4, -91, 19, 82, -113, -56, -28, 115, -22]\nJava Secret Key (unsigned): 170, 243, 150, 73, 152, 47, 173, 4, 165, 19, 82, 143, 200, 228, 115, 234, \nJava Encrypted Bytes: [-114, 23, -48, 32, 16, 116, -68, 87, -98, -83, -6, 117, 45, -40, 89, -64, -123, -65, 6, 62, -107, 94, -61, -14, -13, -122, 22, -111, -56, -68, -96, -16]\nJava Encrypted Bytes (unsigned): 142, 23, 208, 32, 16, 116, 188, 87, 158, 173, 250, 117, 45, 216, 89, 192, 133, 191, 6, 62, 149, 94, 195, 242, 243, 134, 22, 145, 200, 188, 160, 240, \nEncrypted Text: jhfQIBB0vFeerfp1LdhZwIW/Bj6VXsPy84YWkci8oPA=\n\n</code></pre>\n<p>Since you can only modify the python code you need to pad the key up to 32 bytes like in the Java code:</p>\n<pre><code>\ndef encrypt(str_to_encrypt, my_key):\n    try:\n        sha = hashlib.sha1()\n        sha.update(my_key.encode('utf-8'))\n        key = sha.digest()\n        key = key.ljust(32, b'\\0')\n        cipher = AES.new(key, AES.MODE_ECB)\n        byte_array = str_to_encrypt.encode(&quot;UTF-8&quot;)\n        padded_data = pad(byte_array, AES.block_size)\n        encrypted_data = cipher.encrypt(padded_data)\n        return base64.b64encode(encrypted_data).decode('utf-8')\n    except Exception as e:\n        raise e\n</code></pre>\n<p>With <code>key = key.ljust(32, b'\\0')</code> added we obtain the same output as the Java code <code>0xfLbMxzLp0B1v10jgySMuPsNn74Ow55x2R6GUyY9XE=</code></p>\n"}],"owner":{"account_id":29846778,"reputation":3,"user_id":22873692,"display_name":"Shubham"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77439343,"answer_count":1,"score":0,"last_activity_date":1699600456,"creation_date":1699366389,"question_id":77438917,"body_markdown":"Similar to this Java AES encryption code, I&#39;m encrypting my data in python, however the results are different.\r\nI gave this some serious days. Would be very grateful for assistance here.\r\n\r\n\r\n\r\nJava\r\n\r\n```\r\npublic String encrypt(String strToEncrypt, String myKey) throws Exception {\r\n        try\r\n        {\r\n            MessageDigest sha = null;\r\n            byte[] key = myKey.getBytes(&quot;UTF-8&quot;);\r\n            sha = MessageDigest.getInstance(&quot;SHA-1&quot;);\r\n            key = sha.digest(key);\r\n            key = Arrays.copyOf(key, 32);\r\n            SecretKeySpec secretKey = new SecretKeySpec(key, &quot;AES&quot;);\r\n            Cipher cipher = Cipher.getInstance(&quot;AES/ECB/PKCS5Padding&quot;);\r\n            cipher.init(Cipher.ENCRYPT_MODE, secretKey);\r\n            return Base64.getEncoder().encodeToString(cipher.doFinal(strToEncrypt.getBytes(&quot;UTF-8&quot;)));\r\n        } \r\n```\r\n\r\nPython\r\n\r\n```\r\nimport base64\r\nimport hashlib\r\nfrom Crypto.Cipher import AES\r\n\r\ndef encrypt(str_to_encrypt, my_key):\r\n    try:\r\n        sha = hashlib.sha1()\r\n        sha.update(my_key.encode(&#39;utf-8&#39;))\r\n        key = sha.digest()\r\n        key = key[:16]  # AES-128\r\n        cipher = AES.new(key, AES.MODE_ECB)\r\n        byte_array = str_to_encrypt.encode(&quot;UTF-8&quot;)\r\n        padded_data = pad(byte_array, AES.block_size)\r\n        encrypted_data = cipher.encrypt(padded_data)\r\n        return base64.b64encode(encrypted_data).decode(&#39;utf-8&#39;)\r\n    except Exception as e:\r\n        raise e\r\n\r\ndef pad(byte_array: bytearray, block_size: int):\r\n    pad_len = block_size - len(byte_array) % block_size\r\n    return byte_array + (bytes([pad_len]) * pad_len)\r\n\r\n\r\n# Example usage:\r\nmy_key = &quot;mySecretKey&quot;\r\nstr_to_encrypt = &quot;This is the string to encrypt&quot;\r\nencrypted_string = encrypt(str_to_encrypt, my_key)\r\nprint(encrypted_string)\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\njava result\r\n\r\n```\r\n0xfLbMxzLp0B1v10jgySMuPsNn74Ow55x2R6GUyY9XE=\r\n```\r\n\r\npython result\r\n\r\n```\r\njhfQIBB0vFeerfp1LdhZwIW/Bj6VXsPy84YWkci8oPA=\r\n```","title":"AES/ECB/PKCS5Padding Encryption Different Result in Java And Python","body":"<p>Similar to this Java AES encryption code, I'm encrypting my data in python, however the results are different.\nI gave this some serious days. Would be very grateful for assistance here.</p>\n<p>Java</p>\n<pre><code>public String encrypt(String strToEncrypt, String myKey) throws Exception {\n        try\n        {\n            MessageDigest sha = null;\n            byte[] key = myKey.getBytes(&quot;UTF-8&quot;);\n            sha = MessageDigest.getInstance(&quot;SHA-1&quot;);\n            key = sha.digest(key);\n            key = Arrays.copyOf(key, 32);\n            SecretKeySpec secretKey = new SecretKeySpec(key, &quot;AES&quot;);\n            Cipher cipher = Cipher.getInstance(&quot;AES/ECB/PKCS5Padding&quot;);\n            cipher.init(Cipher.ENCRYPT_MODE, secretKey);\n            return Base64.getEncoder().encodeToString(cipher.doFinal(strToEncrypt.getBytes(&quot;UTF-8&quot;)));\n        } \n</code></pre>\n<p>Python</p>\n<pre><code>import base64\nimport hashlib\nfrom Crypto.Cipher import AES\n\ndef encrypt(str_to_encrypt, my_key):\n    try:\n        sha = hashlib.sha1()\n        sha.update(my_key.encode('utf-8'))\n        key = sha.digest()\n        key = key[:16]  # AES-128\n        cipher = AES.new(key, AES.MODE_ECB)\n        byte_array = str_to_encrypt.encode(&quot;UTF-8&quot;)\n        padded_data = pad(byte_array, AES.block_size)\n        encrypted_data = cipher.encrypt(padded_data)\n        return base64.b64encode(encrypted_data).decode('utf-8')\n    except Exception as e:\n        raise e\n\ndef pad(byte_array: bytearray, block_size: int):\n    pad_len = block_size - len(byte_array) % block_size\n    return byte_array + (bytes([pad_len]) * pad_len)\n\n\n# Example usage:\nmy_key = &quot;mySecretKey&quot;\nstr_to_encrypt = &quot;This is the string to encrypt&quot;\nencrypted_string = encrypt(str_to_encrypt, my_key)\nprint(encrypted_string)\n</code></pre>\n<p>java result</p>\n<pre><code>0xfLbMxzLp0B1v10jgySMuPsNn74Ow55x2R6GUyY9XE=\n</code></pre>\n<p>python result</p>\n<pre><code>jhfQIBB0vFeerfp1LdhZwIW/Bj6VXsPy84YWkci8oPA=\n</code></pre>\n"},{"tags":["java","jvm-arguments"],"comments":[{"owner":{"account_id":311679,"reputation":89812,"user_id":625403,"accept_rate":82,"display_name":"amalloy"},"score":1,"creation_date":1699596493,"post_id":77456899,"comment_id":136554535,"body_markdown":"(1) It&#39;s not a Clojure issue if you can&#39;t even get the JVM to start; (2) Are you using the same JVM as the one used in the text you&#39;re copying from? `-XX` options are pretty implementation-specific, I think, and I wouldn&#39;t be shocked if another implementation doesn&#39;t support everything the Oracle OpenJDK does.","body":"(1) It&#39;s not a Clojure issue if you can&#39;t even get the JVM to start; (2) Are you using the same JVM as the one used in the text you&#39;re copying from? <code>-XX</code> options are pretty implementation-specific, I think, and I wouldn&#39;t be shocked if another implementation doesn&#39;t support everything the Oracle OpenJDK does."}],"owner":{"account_id":2994486,"reputation":9111,"user_id":2541276,"accept_rate":55,"display_name":"user51"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699600357,"creation_date":1699572105,"question_id":77456899,"body_markdown":"I&#39;ve below clojure code -\r\n\r\n```clojure\r\n(ns profiler.async.profiler-demo\r\n  (:require [clj-async-profiler.core :as profiler]\r\n            [clj-async-profiler.ui :as profiler.ui]))\r\n\r\n(defn -main [&amp; args]\r\n  (println (System/getProperty &quot;java.version&quot;))\r\n  (profiler/serve-ui 8094)\r\n  (.addShutdownHook (Runtime/getRuntime) (Thread. ^Runnable profiler.ui/stop-server)))\r\n\r\n```\r\nWhen I run the program it is running fine. \r\n\r\n```bash\r\n/Users/rnatarajan/.sdkman/candidates/java/17.0.9-tem/bin/java -XX:+UnlockDiagnosticVMOptions -XX:+UseG1GC -XX:-G1UseAdaptiveIHOP -XX:InitiatingHeapOccupancyPercent=85 -XX:+PreserveFramePointer -XX:+DebugNonSafepoints -Djdk.attach.allowAttachSelf=true &quot;-javaagent:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar=59952:/Applications/IntelliJ IDEA.app/Contents/bin&quot; -Dfile.encoding=UTF-8 -classpath /Users/rnatarajan/Documents/Coding/others/demo-clj/src:/Users/rnatarajan/.m2/repository/org/clojure/clojure/1.11.1/clojure-1.11.1.jar:/Users/rnatarajan/.m2/repository/net/cgrand/xforms/0.19.4/xforms-0.19.4.jar:/Users/rnatarajan/.m2/repository/traversy/traversy/0.5.0/traversy-0.5.0.jar:/Users/rnatarajan/.m2/repository/org/clojure/tools.analyzer/1.1.0/tools.analyzer-1.1.0.jar:/Users/rnatarajan/.m2/repository/org/clojure/tools.analyzer.jvm/1.2.2/tools.analyzer.jvm-1.2.2.jar:/Users/rnatarajan/.m2/repository/com/clojure-goes-fast/clj-async-profiler/1.1.1/clj-async-profiler-1.1.1.jar:/Users/rnatarajan/.m2/repository/org/ow2/asm/asm/9.2/asm-9.2.jar:/Users/rnatarajan/.m2/repository/net/cgrand/macrovich/0.2.1/macrovich-0.2.1.jar:/Users/rnatarajan/.m2/repository/org/clojure/tools.reader/1.3.6/tools.reader-1.3.6.jar:/Users/rnatarajan/.m2/repository/org/clojure/core.memoize/1.0.253/core.memoize-1.0.253.jar:/Users/rnatarajan/.m2/repository/org/clojure/data.priority-map/1.1.0/data.priority-map-1.1.0.jar:/Users/rnatarajan/.m2/repository/org/clojure/core.cache/1.0.225/core.cache-1.0.225.jar:/Users/rnatarajan/.m2/repository/org/clojure/core.async/1.6.673/core.async-1.6.673.jar:/Users/rnatarajan/.m2/repository/javax/xml/bind/jaxb-api/2.3.0/jaxb-api-2.3.0.jar clojure.main -m profiler.async.profiler-demo\r\n17.0.9\r\nStarting server on port 8094\r\n\r\nProcess finished with exit code 137 (interrupted by signal 9: SIGKILL)\r\n```\r\n\r\nNow the issue is I&#39;ve to profile my application. I&#39;m following this [example][1]. I add the ` -XX:+DumpPerfMapAtExit` JVM arg I get error  \r\n\r\nThe error is -\r\n\r\n```bash\r\n\r\n/Users/rnatarajan/.sdkman/candidates/java/17.0.9-tem/bin/java -XX:+UnlockDiagnosticVMOptions -XX:+UseG1GC -XX:-G1UseAdaptiveIHOP -XX:InitiatingHeapOccupancyPercent=85 -XX:+PreserveFramePointer -XX:+DebugNonSafepoints  -XX:+DumpPerfMapAtExit -Djdk.attach.allowAttachSelf=true &quot;-javaagent:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar=59952:/Applications/IntelliJ IDEA.app/Contents/bin&quot; -Dfile.encoding=UTF-8 -classpath /Users/rnatarajan/Documents/Coding/others/demo-clj/src:/Users/rnatarajan/.m2/repository/org/clojure/clojure/1.11.1/clojure-1.11.1.jar:/Users/rnatarajan/.m2/repository/net/cgrand/xforms/0.19.4/xforms-0.19.4.jar:/Users/rnatarajan/.m2/repository/traversy/traversy/0.5.0/traversy-0.5.0.jar:/Users/rnatarajan/.m2/repository/org/clojure/tools.analyzer/1.1.0/tools.analyzer-1.1.0.jar:/Users/rnatarajan/.m2/repository/org/clojure/tools.analyzer.jvm/1.2.2/tools.analyzer.jvm-1.2.2.jar:/Users/rnatarajan/.m2/repository/com/clojure-goes-fast/clj-async-profiler/1.1.1/clj-async-profiler-1.1.1.jar:/Users/rnatarajan/.m2/repository/org/ow2/asm/asm/9.2/asm-9.2.jar:/Users/rnatarajan/.m2/repository/net/cgrand/macrovich/0.2.1/macrovich-0.2.1.jar:/Users/rnatarajan/.m2/repository/org/clojure/tools.reader/1.3.6/tools.reader-1.3.6.jar:/Users/rnatarajan/.m2/repository/org/clojure/core.memoize/1.0.253/core.memoize-1.0.253.jar:/Users/rnatarajan/.m2/repository/org/clojure/data.priority-map/1.1.0/data.priority-map-1.1.0.jar:/Users/rnatarajan/.m2/repository/org/clojure/core.cache/1.0.225/core.cache-1.0.225.jar:/Users/rnatarajan/.m2/repository/org/clojure/core.async/1.6.673/core.async-1.6.673.jar:/Users/rnatarajan/.m2/repository/javax/xml/bind/jaxb-api/2.3.0/jaxb-api-2.3.0.jar clojure.main -m profiler.async.profiler-demo\r\nUnrecognized VM option &#39;DumpPerfMapAtExit&#39;\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nHere is my run configuration in intellij idea -\r\n\r\n[![run configuration][2]][2]\r\n\r\n\r\n  [1]: https://bell-sw.com/announcements/2022/04/07/how-to-use-perf-to-monitor-java-performance/\r\n  [2]: https://i.stack.imgur.com/HExh0.png","title":"Unrecognized VM option &#39;DumpPerfMapAtExit&#39; when running clojure program on eclipse-temurin:17.0.9","body":"<p>I've below clojure code -</p>\n<pre class=\"lang-clj prettyprint-override\"><code>(ns profiler.async.profiler-demo\n  (:require [clj-async-profiler.core :as profiler]\n            [clj-async-profiler.ui :as profiler.ui]))\n\n(defn -main [&amp; args]\n  (println (System/getProperty &quot;java.version&quot;))\n  (profiler/serve-ui 8094)\n  (.addShutdownHook (Runtime/getRuntime) (Thread. ^Runnable profiler.ui/stop-server)))\n\n</code></pre>\n<p>When I run the program it is running fine.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>/Users/rnatarajan/.sdkman/candidates/java/17.0.9-tem/bin/java -XX:+UnlockDiagnosticVMOptions -XX:+UseG1GC -XX:-G1UseAdaptiveIHOP -XX:InitiatingHeapOccupancyPercent=85 -XX:+PreserveFramePointer -XX:+DebugNonSafepoints -Djdk.attach.allowAttachSelf=true &quot;-javaagent:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar=59952:/Applications/IntelliJ IDEA.app/Contents/bin&quot; -Dfile.encoding=UTF-8 -classpath /Users/rnatarajan/Documents/Coding/others/demo-clj/src:/Users/rnatarajan/.m2/repository/org/clojure/clojure/1.11.1/clojure-1.11.1.jar:/Users/rnatarajan/.m2/repository/net/cgrand/xforms/0.19.4/xforms-0.19.4.jar:/Users/rnatarajan/.m2/repository/traversy/traversy/0.5.0/traversy-0.5.0.jar:/Users/rnatarajan/.m2/repository/org/clojure/tools.analyzer/1.1.0/tools.analyzer-1.1.0.jar:/Users/rnatarajan/.m2/repository/org/clojure/tools.analyzer.jvm/1.2.2/tools.analyzer.jvm-1.2.2.jar:/Users/rnatarajan/.m2/repository/com/clojure-goes-fast/clj-async-profiler/1.1.1/clj-async-profiler-1.1.1.jar:/Users/rnatarajan/.m2/repository/org/ow2/asm/asm/9.2/asm-9.2.jar:/Users/rnatarajan/.m2/repository/net/cgrand/macrovich/0.2.1/macrovich-0.2.1.jar:/Users/rnatarajan/.m2/repository/org/clojure/tools.reader/1.3.6/tools.reader-1.3.6.jar:/Users/rnatarajan/.m2/repository/org/clojure/core.memoize/1.0.253/core.memoize-1.0.253.jar:/Users/rnatarajan/.m2/repository/org/clojure/data.priority-map/1.1.0/data.priority-map-1.1.0.jar:/Users/rnatarajan/.m2/repository/org/clojure/core.cache/1.0.225/core.cache-1.0.225.jar:/Users/rnatarajan/.m2/repository/org/clojure/core.async/1.6.673/core.async-1.6.673.jar:/Users/rnatarajan/.m2/repository/javax/xml/bind/jaxb-api/2.3.0/jaxb-api-2.3.0.jar clojure.main -m profiler.async.profiler-demo\n17.0.9\nStarting server on port 8094\n\nProcess finished with exit code 137 (interrupted by signal 9: SIGKILL)\n</code></pre>\n<p>Now the issue is I've to profile my application. I'm following this <a href=\"https://bell-sw.com/announcements/2022/04/07/how-to-use-perf-to-monitor-java-performance/\" rel=\"nofollow noreferrer\">example</a>. I add the <code> -XX:+DumpPerfMapAtExit</code> JVM arg I get error</p>\n<p>The error is -</p>\n<pre class=\"lang-bash prettyprint-override\"><code>\n/Users/rnatarajan/.sdkman/candidates/java/17.0.9-tem/bin/java -XX:+UnlockDiagnosticVMOptions -XX:+UseG1GC -XX:-G1UseAdaptiveIHOP -XX:InitiatingHeapOccupancyPercent=85 -XX:+PreserveFramePointer -XX:+DebugNonSafepoints  -XX:+DumpPerfMapAtExit -Djdk.attach.allowAttachSelf=true &quot;-javaagent:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar=59952:/Applications/IntelliJ IDEA.app/Contents/bin&quot; -Dfile.encoding=UTF-8 -classpath /Users/rnatarajan/Documents/Coding/others/demo-clj/src:/Users/rnatarajan/.m2/repository/org/clojure/clojure/1.11.1/clojure-1.11.1.jar:/Users/rnatarajan/.m2/repository/net/cgrand/xforms/0.19.4/xforms-0.19.4.jar:/Users/rnatarajan/.m2/repository/traversy/traversy/0.5.0/traversy-0.5.0.jar:/Users/rnatarajan/.m2/repository/org/clojure/tools.analyzer/1.1.0/tools.analyzer-1.1.0.jar:/Users/rnatarajan/.m2/repository/org/clojure/tools.analyzer.jvm/1.2.2/tools.analyzer.jvm-1.2.2.jar:/Users/rnatarajan/.m2/repository/com/clojure-goes-fast/clj-async-profiler/1.1.1/clj-async-profiler-1.1.1.jar:/Users/rnatarajan/.m2/repository/org/ow2/asm/asm/9.2/asm-9.2.jar:/Users/rnatarajan/.m2/repository/net/cgrand/macrovich/0.2.1/macrovich-0.2.1.jar:/Users/rnatarajan/.m2/repository/org/clojure/tools.reader/1.3.6/tools.reader-1.3.6.jar:/Users/rnatarajan/.m2/repository/org/clojure/core.memoize/1.0.253/core.memoize-1.0.253.jar:/Users/rnatarajan/.m2/repository/org/clojure/data.priority-map/1.1.0/data.priority-map-1.1.0.jar:/Users/rnatarajan/.m2/repository/org/clojure/core.cache/1.0.225/core.cache-1.0.225.jar:/Users/rnatarajan/.m2/repository/org/clojure/core.async/1.6.673/core.async-1.6.673.jar:/Users/rnatarajan/.m2/repository/javax/xml/bind/jaxb-api/2.3.0/jaxb-api-2.3.0.jar clojure.main -m profiler.async.profiler-demo\nUnrecognized VM option 'DumpPerfMapAtExit'\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n\nProcess finished with exit code 1\n</code></pre>\n<p>Here is my run configuration in intellij idea -</p>\n<p><a href=\"https://i.stack.imgur.com/HExh0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HExh0.png\" alt=\"run configuration\" /></a></p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1699451212,"post_id":77445988,"comment_id":136532746,"body_markdown":"File upload/download dialog belongs to operating system, not the browser. You can not handle the dialog using selenium. To avoid the dialog you need to create new browser profile, set up to automatically download files of type do some folder. Once you achieve this browser behavivor just use the browser profile in your selenium test.","body":"File upload/download dialog belongs to operating system, not the browser. You can not handle the dialog using selenium. To avoid the dialog you need to create new browser profile, set up to automatically download files of type do some folder. Once you achieve this browser behavivor just use the browser profile in your selenium test."},{"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"score":0,"creation_date":1699600375,"post_id":77445988,"comment_id":136554912,"body_markdown":"Could you show hot to do this ?","body":"Could you show hot to do this ?"},{"owner":{"account_id":23881045,"reputation":87,"user_id":17881743,"display_name":"Techie_Taks"},"score":0,"creation_date":1699600991,"post_id":77445988,"comment_id":136554988,"body_markdown":"If you&#39;re using Google chrome, then navigate to settings and search for download in the search settings or navigate to downloads section. In that turn off &quot;Ask where to save each file before downloading&quot; and provide desired location for the downloads","body":"If you&#39;re using Google chrome, then navigate to settings and search for download in the search settings or navigate to downloads section. In that turn off &quot;Ask where to save each file before downloading&quot; and provide desired location for the downloads"},{"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"score":0,"creation_date":1699603466,"post_id":77445988,"comment_id":136555321,"body_markdown":"but I want to do this in java selenium with a use of ChromeOptions class","body":"but I want to do this in java selenium with a use of ChromeOptions class"}],"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699600354,"creation_date":1699450517,"question_id":77445988,"body_markdown":"Java Selenium - how to download file when &quot;Save as&quot; pop up shows up?\r\n\r\nHow to click &quot;Save&quot; button and download file to desired location?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OXJgK.jpg","title":"Java Selenium - how to download file when &quot;Save as&quot; pop up shows up?","body":"<p>Java Selenium - how to download file when &quot;Save as&quot; pop up shows up?</p>\n<p>How to click &quot;Save&quot; button and download file to desired location?</p>\n<p><a href=\"https://i.stack.imgur.com/OXJgK.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OXJgK.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","windows","swt","desktop"],"owner":{"account_id":131478,"reputation":27678,"user_id":331515,"accept_rate":81,"display_name":"Daniel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699600301,"creation_date":1699600301,"question_id":77458234,"body_markdown":"I know this is not possible with just SWT, but tricks using JNA or similar are welcome. \r\n\r\nSimilar to applications like chrome I don&#39;t want the title bar of my shell be painted by windows but by myself, so I can e.g. place tab handles there. I also wonder how I could reliable mimik the typical Windows buttons like - [] X, and provide the Windows specific menus here.\r\n\r\nAny ideas?","title":"How to paint on SWT shell borders on Windows?","body":"<p>I know this is not possible with just SWT, but tricks using JNA or similar are welcome.</p>\n<p>Similar to applications like chrome I don't want the title bar of my shell be painted by windows but by myself, so I can e.g. place tab handles there. I also wonder how I could reliable mimik the typical Windows buttons like - [] X, and provide the Windows specific menus here.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","mysql","jboss","jboss7.x","mysql-connector"],"answers":[{"tags":[],"owner":{"account_id":404170,"reputation":4745,"user_id":833820,"accept_rate":100,"display_name":"jyore"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1356149955,"creation_date":1356149955,"answer_id":14000024,"question_id":13978767,"body_markdown":"\r\n\r\nI think in your datasource you are referencing the driver `mysql`, but you named the driver `com.mysql`.\r\n\r\nTry changing one the driver name to `mysql`.\r\n\r\n\r\nJust a note: it is best to use the CLI to install the drivers and use the CLI or Web Console to build your datasources.  The intention with AS7 is that these tools are used for all of your config and there are very few reasons why you should touch the XML yourself.","title":"JBoss: can not connect to MySQL database","body":"<p>I think in your datasource you are referencing the driver <code>mysql</code>, but you named the driver <code>com.mysql</code>.</p>\n\n<p>Try changing one the driver name to <code>mysql</code>.</p>\n\n<p>Just a note: it is best to use the CLI to install the drivers and use the CLI or Web Console to build your datasources.  The intention with AS7 is that these tools are used for all of your config and there are very few reasons why you should touch the XML yourself.</p>\n"},{"tags":[],"owner":{"account_id":1842611,"reputation":919,"user_id":1671715,"display_name":"Caina Santos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1368152674,"creation_date":1368152674,"answer_id":16474203,"question_id":13978767,"body_markdown":"I had exactly the same mistake. Took me hours to find out how dumb it was.\r\n\r\nIn my case I was running jboss as a service under the jboss-as user, nice and easy. Except that when I created the mysql/main directory, along with the files within, I was under another user. No permissions there for jboss-as guy.\r\n\r\nA simple chown on modules/ directory did the job.","title":"JBoss: can not connect to MySQL database","body":"<p>I had exactly the same mistake. Took me hours to find out how dumb it was.</p>\n\n<p>In my case I was running jboss as a service under the jboss-as user, nice and easy. Except that when I created the mysql/main directory, along with the files within, I was under another user. No permissions there for jboss-as guy.</p>\n\n<p>A simple chown on modules/ directory did the job.</p>\n"},{"tags":[],"owner":{"account_id":130368,"reputation":2042,"user_id":329589,"display_name":"Radu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1376386772,"creation_date":1376068593,"answer_id":18152169,"question_id":13978767,"body_markdown":"First of all, your driver definition name doesn&#39;t match the driver name under the `&lt;datasource&gt;` definition. Replace `&lt;driver name=&quot;com.mysql&quot; ...` with `&lt;driver name=&quot;mysql&quot; ...` for it to work.\r\n\r\nSecond, have you added the `module.xml` file? It&#39;s not enough to copy the MySQL connector jar in the `./modules/com/mysql/main` folder, you also have to add the `module.xml` file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;module xmlns=&quot;urn:jboss:module:1.1&quot; name=&quot;com.mysql&quot;&gt;\r\n      &lt;resources&gt;\r\n        &lt;resource-root path=&quot;mysql-connector-java-5.1.26-bin.jar&quot;/&gt;\r\n      &lt;/resources&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;module name=&quot;javax.api&quot;/&gt;\r\n        &lt;module name=&quot;javax.transaction.api&quot;/&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/module&gt;\r\n\r\nAlso, I had a strage similar problem when using the MySQL connector version 5.0.8, where the driver was not found / recognized. It disappeared when I switched to the newer 5.1.26 version. ","title":"JBoss: can not connect to MySQL database","body":"<p>First of all, your driver definition name doesn't match the driver name under the <code>&lt;datasource&gt;</code> definition. Replace <code>&lt;driver name=\"com.mysql\" ...</code> with <code>&lt;driver name=\"mysql\" ...</code> for it to work.</p>\n\n<p>Second, have you added the <code>module.xml</code> file? It's not enough to copy the MySQL connector jar in the <code>./modules/com/mysql/main</code> folder, you also have to add the <code>module.xml</code> file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;module xmlns=\"urn:jboss:module:1.1\" name=\"com.mysql\"&gt;\n  &lt;resources&gt;\n    &lt;resource-root path=\"mysql-connector-java-5.1.26-bin.jar\"/&gt;\n  &lt;/resources&gt;\n  &lt;dependencies&gt;\n    &lt;module name=\"javax.api\"/&gt;\n    &lt;module name=\"javax.transaction.api\"/&gt;\n  &lt;/dependencies&gt;\n&lt;/module&gt;\n</code></pre>\n\n<p>Also, I had a strage similar problem when using the MySQL connector version 5.0.8, where the driver was not found / recognized. It disappeared when I switched to the newer 5.1.26 version. </p>\n"},{"tags":[],"owner":{"account_id":2185239,"reputation":600,"user_id":1933783,"accept_rate":17,"display_name":"Indra Yadav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392215028,"creation_date":1392215028,"answer_id":21730647,"question_id":13978767,"body_markdown":"Make sure you are using latest version of `mysql jdbc connector` , i solve same issue of mine with replacing latest mysql connetor","title":"JBoss: can not connect to MySQL database","body":"<p>Make sure you are using latest version of <code>mysql jdbc connector</code> , i solve same issue of mine with replacing latest mysql connetor</p>\n"}],"owner":{"account_id":159676,"reputation":88163,"user_id":379235,"accept_rate":62,"display_name":"daydreamer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13013,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1699599935,"creation_date":1356030168,"question_id":13978767,"body_markdown":"I am running `JBoss` as standalone version. I would like to connect to my local `mysql database`\r\n\r\nI copied the mysql connector in modules folder\r\n\r\n    me@air~/Downloads/jboss/standalone/configuration - 10:56:18  $ ls ../../modules/org/mysql/main/\r\n    mysql-connector-java-5.1.22-bin.jar\r\n\r\nNext I changed the `standalone.xml` in `jboss/standalone/configuration` as\r\n\r\n                    &lt;drivers&gt;\r\n                        &lt;driver name=&quot;com.mysql&quot; module=&quot;org.mysql&quot; /&gt;\r\n                        &lt;driver name=&quot;h2&quot; module=&quot;com.h2database.h2&quot;&gt; &lt;!-- default provided--&gt;\r\n                            &lt;xa-datasource-class&gt;org.h2.jdbcx.JdbcDataSource&lt;/xa-datasource-class&gt;\r\n                        &lt;/driver&gt;\r\n                    &lt;/drivers&gt;\r\n\r\nThen I added the datasource as\r\n\r\n                  &lt;datasource jndi-name=&quot;java:/bb&quot; pool-name=&quot;bb-pool&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot; use-ccm=&quot;true&quot;&gt;\r\n                        &lt;connection-url&gt;jdbc:mysql://127.0.0.1:3306/mydb&lt;/connection-url&gt;\r\n                        &lt;driver&gt;mysql&lt;/driver&gt;\r\n                        &lt;pool&gt;\r\n                            &lt;min-pool-size&gt;10&lt;/min-pool-size&gt;\r\n                            &lt;max-pool-size&gt;100&lt;/max-pool-size&gt;\r\n                            &lt;prefill&gt;true&lt;/prefill&gt;\r\n                        &lt;/pool&gt;\r\n                        &lt;security&gt;\r\n                            &lt;user-name&gt;bb&lt;/user-name&gt;\r\n                            &lt;password&gt;bb&lt;/password&gt;\r\n                        &lt;/security&gt;\r\n                        &lt;statement&gt;\r\n                            &lt;prepared-statement-cache-size&gt;100&lt;/prepared-statement-cache-size&gt;\r\n                            &lt;share-prepared-statements&gt;true&lt;/share-prepared-statements&gt;\r\n                        &lt;/statement&gt;\r\n                    &lt;/datasource&gt;\r\n\r\nI am using `JBoss AS 7.1`.\r\nWhen I start the server on console, I see errors\r\n\r\n    10:54:47,458 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) JBAS010400: Bound data source [java:jboss/datasources/ExampleDS]\r\n    10:54:47,671 INFO  [org.jboss.as.controller] (Controller Boot Thread) JBAS014774: Service status report\r\n    JBAS014775:    New missing/unsatisfied dependencies:\r\n          service jboss.jdbc-driver.mysql (missing) dependents: [service jboss.data-source.java:/bb] \r\n    \r\n    10:54:47,676 INFO  [org.jboss.as] (Controller Boot Thread) JBAS015951: Admin console listening on http://127.0.0.1:9990\r\n    10:54:47,676 ERROR [org.jboss.as] (Controller Boot Thread) JBAS015875: JBoss AS 7.1.1.Final &quot;Brontes&quot; started (with errors) in 2000ms - Started 134 of 212 services (2 services failed or missing dependencies, 74 services are passive or on-demand)\r\nand when I hit `Ctrl+C`, I see\r\n\r\n    ^C10:54:54,998 INFO  [org.jboss.as.osgi] (MSC service thread 1-8) JBAS011942: Stopping OSGi Framework\r\n    10:54:55,004 INFO  [org.jboss.as.logging] JBAS011503: Restored bootstrap log handlers\r\n    10:54:55,007 INFO  [com.arjuna.ats.jbossatx] ARJUNA032018: Destroying TransactionManagerService\r\n    10:54:55,008 INFO  [com.arjuna.ats.jbossatx] ARJUNA032014: Stopping transaction recovery manager\r\n    10:54:55,010 INFO  [org.apache.catalina.core.StandardContext] Container org.apache.catalina.core.ContainerBase.[jboss.web].[default-host].[/] has not been started\r\n    10:54:55,039 INFO  [org.apache.coyote.http11.Http11Protocol] Pausing Coyote HTTP/1.1 on http--127.0.0.1-8080\r\n    10:54:55,039 INFO  [org.apache.coyote.http11.Http11Protocol] Stopping Coyote HTTP/1.1 on http--127.0.0.1-8080\r\n    10:54:55,043 INFO  [org.jboss.as.controller] JBAS014774: Service status report\r\n    JBAS014776:    Newly corrected services:\r\n          service jboss.jdbc-driver.mysql (new available)\r\n    \r\n    10:54:55,044 INFO  [org.jboss.as] JBAS015950: JBoss AS 7.1.1.Final &quot;Brontes&quot; stopped in 47ms\r\n\r\nI am new to JBoss and don&#39;t know how to fix this issue or to understand what is that I am doing wrong here","title":"JBoss: can not connect to MySQL database","body":"<p>I am running <code>JBoss</code> as standalone version. I would like to connect to my local <code>mysql database</code></p>\n\n<p>I copied the mysql connector in modules folder</p>\n\n<pre><code>me@air~/Downloads/jboss/standalone/configuration - 10:56:18  $ ls ../../modules/org/mysql/main/\nmysql-connector-java-5.1.22-bin.jar\n</code></pre>\n\n<p>Next I changed the <code>standalone.xml</code> in <code>jboss/standalone/configuration</code> as</p>\n\n<pre><code>                &lt;drivers&gt;\n                    &lt;driver name=\"com.mysql\" module=\"org.mysql\" /&gt;\n                    &lt;driver name=\"h2\" module=\"com.h2database.h2\"&gt; &lt;!-- default provided--&gt;\n                        &lt;xa-datasource-class&gt;org.h2.jdbcx.JdbcDataSource&lt;/xa-datasource-class&gt;\n                    &lt;/driver&gt;\n                &lt;/drivers&gt;\n</code></pre>\n\n<p>Then I added the datasource as</p>\n\n<pre><code>              &lt;datasource jndi-name=\"java:/bb\" pool-name=\"bb-pool\" enabled=\"true\" use-java-context=\"true\" use-ccm=\"true\"&gt;\n                    &lt;connection-url&gt;jdbc:mysql://127.0.0.1:3306/mydb&lt;/connection-url&gt;\n                    &lt;driver&gt;mysql&lt;/driver&gt;\n                    &lt;pool&gt;\n                        &lt;min-pool-size&gt;10&lt;/min-pool-size&gt;\n                        &lt;max-pool-size&gt;100&lt;/max-pool-size&gt;\n                        &lt;prefill&gt;true&lt;/prefill&gt;\n                    &lt;/pool&gt;\n                    &lt;security&gt;\n                        &lt;user-name&gt;bb&lt;/user-name&gt;\n                        &lt;password&gt;bb&lt;/password&gt;\n                    &lt;/security&gt;\n                    &lt;statement&gt;\n                        &lt;prepared-statement-cache-size&gt;100&lt;/prepared-statement-cache-size&gt;\n                        &lt;share-prepared-statements&gt;true&lt;/share-prepared-statements&gt;\n                    &lt;/statement&gt;\n                &lt;/datasource&gt;\n</code></pre>\n\n<p>I am using <code>JBoss AS 7.1</code>.\nWhen I start the server on console, I see errors</p>\n\n<pre><code>10:54:47,458 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) JBAS010400: Bound data source [java:jboss/datasources/ExampleDS]\n10:54:47,671 INFO  [org.jboss.as.controller] (Controller Boot Thread) JBAS014774: Service status report\nJBAS014775:    New missing/unsatisfied dependencies:\n      service jboss.jdbc-driver.mysql (missing) dependents: [service jboss.data-source.java:/bb] \n\n10:54:47,676 INFO  [org.jboss.as] (Controller Boot Thread) JBAS015951: Admin console listening on http://127.0.0.1:9990\n10:54:47,676 ERROR [org.jboss.as] (Controller Boot Thread) JBAS015875: JBoss AS 7.1.1.Final \"Brontes\" started (with errors) in 2000ms - Started 134 of 212 services (2 services failed or missing dependencies, 74 services are passive or on-demand)\n</code></pre>\n\n<p>and when I hit <code>Ctrl+C</code>, I see</p>\n\n<pre><code>^C10:54:54,998 INFO  [org.jboss.as.osgi] (MSC service thread 1-8) JBAS011942: Stopping OSGi Framework\n10:54:55,004 INFO  [org.jboss.as.logging] JBAS011503: Restored bootstrap log handlers\n10:54:55,007 INFO  [com.arjuna.ats.jbossatx] ARJUNA032018: Destroying TransactionManagerService\n10:54:55,008 INFO  [com.arjuna.ats.jbossatx] ARJUNA032014: Stopping transaction recovery manager\n10:54:55,010 INFO  [org.apache.catalina.core.StandardContext] Container org.apache.catalina.core.ContainerBase.[jboss.web].[default-host].[/] has not been started\n10:54:55,039 INFO  [org.apache.coyote.http11.Http11Protocol] Pausing Coyote HTTP/1.1 on http--127.0.0.1-8080\n10:54:55,039 INFO  [org.apache.coyote.http11.Http11Protocol] Stopping Coyote HTTP/1.1 on http--127.0.0.1-8080\n10:54:55,043 INFO  [org.jboss.as.controller] JBAS014774: Service status report\nJBAS014776:    Newly corrected services:\n      service jboss.jdbc-driver.mysql (new available)\n\n10:54:55,044 INFO  [org.jboss.as] JBAS015950: JBoss AS 7.1.1.Final \"Brontes\" stopped in 47ms\n</code></pre>\n\n<p>I am new to JBoss and don't know how to fix this issue or to understand what is that I am doing wrong here</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":25114763,"reputation":54,"user_id":19928451,"display_name":"Артём Орёл"},"score":0,"creation_date":1699600524,"post_id":77458188,"comment_id":136554938,"body_markdown":"Why don&#39;t you write a logic that the fever itself searches for your Excel file, naturally specifying a static path, and get the data you need from it : `File file = new File(path); book = (XSSFWorkbook) WorkbookFactory.create(file);` and go on from there..... in Path variable specify the path to your excel file ....","body":"Why don&#39;t you write a logic that the fever itself searches for your Excel file, naturally specifying a static path, and get the data you need from it : <code>File file = new File(path); book = (XSSFWorkbook) WorkbookFactory.create(file);</code> and go on from there..... in Path variable specify the path to your excel file ...."},{"owner":{"account_id":22878324,"reputation":362,"user_id":17020280,"display_name":"GabeRAMturn"},"score":0,"creation_date":1699600586,"post_id":77458188,"comment_id":136554944,"body_markdown":"Am I correct in my understanding that you want to read data from an Excel that is OPEN at the same time? That&#39;s not possible.","body":"Am I correct in my understanding that you want to read data from an Excel that is OPEN at the same time? That&#39;s not possible."},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1699600891,"post_id":77458188,"comment_id":136554980,"body_markdown":"@GabeRAMturn Certainly it&#39;s possible. Did it last week.","body":"@GabeRAMturn Certainly it&#39;s possible. Did it last week."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1699604628,"post_id":77458188,"comment_id":136555472,"body_markdown":"@GabeRAMturn why would that not be possible? The file exists, regardless whether some application opened it.","body":"@GabeRAMturn why would that not be possible? The file exists, regardless whether some application opened it."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1699652903,"post_id":77458188,"comment_id":136563374,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":29870113,"reputation":1,"user_id":22891654,"display_name":"imti"},"score":0,"creation_date":1699710303,"post_id":77458188,"comment_id":136567078,"body_markdown":"@GabeRAMturn yes I want to read data from an Excel that is OPEN that is open while running the Jar","body":"@GabeRAMturn yes I want to read data from an Excel that is OPEN that is open while running the Jar"},{"owner":{"account_id":29870113,"reputation":1,"user_id":22891654,"display_name":"imti"},"score":0,"creation_date":1699710331,"post_id":77458188,"comment_id":136567081,"body_markdown":"@user207421 can you please share how it can be done","body":"@user207421 can you please share how it can be done"}],"owner":{"account_id":29870113,"reputation":1,"user_id":22891654,"display_name":"imti"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1699599627,"creation_date":1699599627,"question_id":77458188,"body_markdown":"I have scenario where I have data stored in excel file\r\nwhile running java program , it read parameter from excel file and gives output. \r\nNow I want to create a jar file of my java program, but I want my excel file out of this jar so that while running the jar, user can modify data in the excel as per need and run jar with these updated values.\r\nHow can we achieve this.\r\n\r\nI tried for this issue but excel file  was included in Jar. I want excel out of jar file\r\nI am fine with solution if it is jar, or batch file (to run my Java program)","title":"how can I pass parameter from excel to run a jar file","body":"<p>I have scenario where I have data stored in excel file\nwhile running java program , it read parameter from excel file and gives output.\nNow I want to create a jar file of my java program, but I want my excel file out of this jar so that while running the jar, user can modify data in the excel as per need and run jar with these updated values.\nHow can we achieve this.</p>\n<p>I tried for this issue but excel file  was included in Jar. I want excel out of jar file\nI am fine with solution if it is jar, or batch file (to run my Java program)</p>\n"},{"tags":["java","inheritance","memory","java-8","static-methods"],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1457917406,"creation_date":1457917406,"answer_id":35977941,"question_id":35977844,"body_markdown":"Static members aren&#39;t &quot;inherited&quot; per se. They live on the base class regardless of which subclass they&#39;re called from, so I doubt there&#39;s any memory impact.\r\n\r\nThe reason for creating all classes as a subclass of this common class is just for easy access to static members without the qualifying class name. A common variation is to inherit from an interface that declares a bunch of static fields. The upside is that implementing an interface doesn&#39;t interfere with inheritance the way a superclass would (you can only extend a single superclass). The downside is that until Java 8 it wasn&#39;t possible to declare static methods on an interface.\r\n\r\nIn any case, this trick is generally considered an anti-pattern and has been superseded by [static imports](http://docs.oracle.com/javase/1.5.0/docs/guide/language/static-import.html).","title":"Java 8: Better to extend class of static methods or better to call static methods directly?","body":"<p>Static members aren't \"inherited\" per se. They live on the base class regardless of which subclass they're called from, so I doubt there's any memory impact.</p>\n\n<p>The reason for creating all classes as a subclass of this common class is just for easy access to static members without the qualifying class name. A common variation is to inherit from an interface that declares a bunch of static fields. The upside is that implementing an interface doesn't interfere with inheritance the way a superclass would (you can only extend a single superclass). The downside is that until Java 8 it wasn't possible to declare static methods on an interface.</p>\n\n<p>In any case, this trick is generally considered an anti-pattern and has been superseded by <a href=\"http://docs.oracle.com/javase/1.5.0/docs/guide/language/static-import.html\" rel=\"noreferrer\">static imports</a>.</p>\n"},{"tags":[],"owner":{"account_id":8035300,"reputation":57,"user_id":6058646,"display_name":"Kamil Akhuseyinoglu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457920941,"creation_date":1457920941,"answer_id":35978390,"question_id":35977844,"body_markdown":"Inheritance is to customize the behavior of the parent class for the child classes. \r\n\r\nStatic methods cannot be inherited and their behavior does not change due to the state of the object. \r\n\r\nSo you cannot make something static and inheritable. There is no sense to extend a class of full static methods. Also, this does not change the size of the memory usage. Your classes are already loaded. ","title":"Java 8: Better to extend class of static methods or better to call static methods directly?","body":"<p>Inheritance is to customize the behavior of the parent class for the child classes. </p>\n\n<p>Static methods cannot be inherited and their behavior does not change due to the state of the object. </p>\n\n<p>So you cannot make something static and inheritable. There is no sense to extend a class of full static methods. Also, this does not change the size of the memory usage. Your classes are already loaded. </p>\n"},{"tags":[],"owner":{"account_id":2550431,"reputation":452,"user_id":2214297,"display_name":"Parth Joshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457953210,"creation_date":1457947554,"answer_id":35983669,"question_id":35977844,"body_markdown":"There are beautiful insights written above by members. I would like to put it in different words if it helps understanding. \n\nInheritance : \nAll the member variables and functions of parent classes are included in the child class based on visibility operator (public, private , protected ) \n\nStatic members: \nThe static members of class are stored in memory accessible to all instance variables of the class. It&#39;s like a shared spaced for all the instance variables belonging to that class    \n\nNow coming to inheritance of static variables and functions , it&#39;s always advisable to have static imports. ","title":"Java 8: Better to extend class of static methods or better to call static methods directly?","body":"<p>There are beautiful insights written above by members. I would like to put it in different words if it helps understanding. </p>\n\n<p>Inheritance : \nAll the member variables and functions of parent classes are included in the child class based on visibility operator (public, private , protected ) </p>\n\n<p>Static members: \nThe static members of class are stored in memory accessible to all instance variables of the class. It's like a shared spaced for all the instance variables belonging to that class    </p>\n\n<p>Now coming to inheritance of static variables and functions , it's always advisable to have static imports. </p>\n"},{"tags":[],"owner":{"account_id":3439651,"reputation":1114,"user_id":2881888,"display_name":"Louis Caron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699599380,"creation_date":1699540939,"answer_id":77454063,"question_id":35977844,"body_markdown":"All the previous answers are very useful, I would just like to add a simple point in favor of **NOT** using inheritance of the class that implements static methods: it becomes very tempting (and easy) for a developper to modify that class (add non static elements, remove the static keywords...)\r\n and all of a sudden it becomes non static, it creates dependencies between instances that derive it, creating difficulties of initialization, multi-threading and so on.","title":"Java 8: Better to extend class of static methods or better to call static methods directly?","body":"<p>All the previous answers are very useful, I would just like to add a simple point in favor of <strong>NOT</strong> using inheritance of the class that implements static methods: it becomes very tempting (and easy) for a developper to modify that class (add non static elements, remove the static keywords...)\nand all of a sudden it becomes non static, it creates dependencies between instances that derive it, creating difficulties of initialization, multi-threading and so on.</p>\n"}],"owner":{"account_id":237044,"reputation":45,"user_id":504933,"accept_rate":75,"display_name":"Doug P."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2437,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":35977941,"answer_count":4,"score":3,"last_activity_date":1699599380,"creation_date":1457916429,"question_id":35977844,"body_markdown":"I&#39;m updating some old Java 4 code to Java 8 (way too much to paste here) and the original programmer chose to have nearly every class of theirs extend this single HUGE class full of only static methods and constants, but I do not know their reasoning.\r\n\r\nex:\r\n\r\n    public class BaseClass{\r\n         /* this class has a huge amount of ONLY static methods/constants */\r\n\r\n         public static final int STUFF_DONE = 1;\r\n\r\n         public static String getStuff(){\r\n               String stuff = &quot;this is my stuff.&quot;;\r\n               return stuff;\r\n         }\r\n         ...\r\n    }\r\n\r\n    public class SuperClass extends BaseClass{\r\n         /* this class has only a few methods */\r\n         public String labelStuff(){\r\n              return getStuff();\r\n         }\r\n    }\r\n\r\n    public class MyClass extends SuperClass{\r\n         /* there are many classes that extend SuperClass like this one */\r\n         public int handleStuff(){\r\n              String myString = labelStuff();\r\n              return STUFF_DONE;\r\n         }\r\n         public static void main(){\r\n              if(handleStuff()) System.out.println(&quot;Done.&quot;);\r\n         }\r\n    }\r\n\r\nMy question is this... is it better to keep this design or is it better to remove the inheritance of the static methods/constants and simply call those methods/constants statically?\r\n\r\n&quot;Better&quot; to me is defined as lower memory consumption (again, this base class is quite huge) as CPU is likely not affected by this.  What are the benefits/pitfalls of this approach?\r\n\r\nMy concern is that because BaseClass is so huge that I&#39;m wasting a LOT of memory for usage of only one or two methods/constants in the inheriting classes that I could just be calling statically.","title":"Java 8: Better to extend class of static methods or better to call static methods directly?","body":"<p>I'm updating some old Java 4 code to Java 8 (way too much to paste here) and the original programmer chose to have nearly every class of theirs extend this single HUGE class full of only static methods and constants, but I do not know their reasoning.</p>\n\n<p>ex:</p>\n\n<pre><code>public class BaseClass{\n     /* this class has a huge amount of ONLY static methods/constants */\n\n     public static final int STUFF_DONE = 1;\n\n     public static String getStuff(){\n           String stuff = \"this is my stuff.\";\n           return stuff;\n     }\n     ...\n}\n\npublic class SuperClass extends BaseClass{\n     /* this class has only a few methods */\n     public String labelStuff(){\n          return getStuff();\n     }\n}\n\npublic class MyClass extends SuperClass{\n     /* there are many classes that extend SuperClass like this one */\n     public int handleStuff(){\n          String myString = labelStuff();\n          return STUFF_DONE;\n     }\n     public static void main(){\n          if(handleStuff()) System.out.println(\"Done.\");\n     }\n}\n</code></pre>\n\n<p>My question is this... is it better to keep this design or is it better to remove the inheritance of the static methods/constants and simply call those methods/constants statically?</p>\n\n<p>\"Better\" to me is defined as lower memory consumption (again, this base class is quite huge) as CPU is likely not affected by this.  What are the benefits/pitfalls of this approach?</p>\n\n<p>My concern is that because BaseClass is so huge that I'm wasting a LOT of memory for usage of only one or two methods/constants in the inheriting classes that I could just be calling statically.</p>\n"},{"tags":["java","spring-boot","maven","heroku"],"comments":[{"owner":{"account_id":4561654,"reputation":3050,"user_id":3703819,"display_name":"dey"},"score":0,"creation_date":1699555506,"post_id":77455533,"comment_id":136550227,"body_markdown":"deploying this way, heroku probably doesn&#39;t see the `system.properties` file. try to include it with the command option `-i, --includes FILES   # list of files to include in the slug`: https://github.com/heroku/plugin-java","body":"deploying this way, heroku probably doesn&#39;t see the <code>system.properties</code> file. try to include it with the command option <code>-i, --includes FILES   # list of files to include in the slug</code>: <a href=\"https://github.com/heroku/plugin-java\" rel=\"nofollow noreferrer\">github.com/heroku/plugin-java</a>"}],"answers":[{"tags":[],"owner":{"account_id":11156931,"reputation":11,"user_id":8188371,"display_name":"Dipak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699599343,"creation_date":1699599343,"answer_id":77458170,"question_id":77455533,"body_markdown":"When you run the application in heroku it is actually taking it from the Heroku instance but not from the setting specified with in the application .\r\n\r\nTry to run the application using the following command \r\n\r\n&gt; heroku run java -version -a yourapplicationName\r\n\r\n","title":"Proble with Heroku JDK version","body":"<p>When you run the application in heroku it is actually taking it from the Heroku instance but not from the setting specified with in the application .</p>\n<p>Try to run the application using the following command</p>\n<blockquote>\n<p>heroku run java -version -a yourapplicationName</p>\n</blockquote>\n"}],"owner":{"account_id":8152249,"reputation":1,"user_id":6138881,"display_name":"Tom&#225;š Čerm&#225;k"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699599343,"creation_date":1699554036,"question_id":77455533,"body_markdown":"I&#39;m trying to deploy a springboot application on Heroku via CLI. My problem is that Heroku defaults to JDK 1.8 and I would need JDK 17. I have in system.properties -     `java.runtime.version=17` and in pom.xml -         `&lt;java.version&gt;17&lt;/java.version&gt;     `, but Heroku always installs JDK 1.8 when deploying the jar file. Any advice please?\r\n\r\nI didn&#39;t find an answer here that would help me\r\n\r\n`cerma@cerma-GL503VD:~/git/vendaSkola/target$ heroku deploy:jar VendaSchool3.jar -a vendaskola1  ›   Warning: heroku update available from 7.60.1 to 8.7.1. Uploading VendaSchool3.jar -----&gt; Packaging application...        - app: vendaskola1        - including: VendaSchool3.jar -----&gt; Creating build...        - file: slug.tgz        - size: 17MB -----&gt; Uploading build...        - success -----&gt; Deploying... remote:  remote: -----&gt; Building on the Heroku-22 stack remote: -----&gt; Using buildpack: heroku/jvm remote: -----&gt; heroku-deploy app detected remote: -----&gt; Installing OpenJDK 1.8... done remote: -----&gt; Discovering process types remote:        Procfile declares types -&gt; web remote:  remote: -----&gt; Compressing... remote:        Done: 69.3M remote: -----&gt; Launching... remote:        Released v3    `\r\n\r\nI try write to system.properties      `java.runtime.version=17, pom.xml - &lt;java.version&gt;17&lt;/java.version&gt;,&lt;java.runtime.version&gt;17&lt;/java.runtime.version&gt;`","title":"Proble with Heroku JDK version","body":"<p>I'm trying to deploy a springboot application on Heroku via CLI. My problem is that Heroku defaults to JDK 1.8 and I would need JDK 17. I have in system.properties -     <code>java.runtime.version=17</code> and in pom.xml -         <code>&lt;java.version&gt;17&lt;/java.version&gt;     </code>, but Heroku always installs JDK 1.8 when deploying the jar file. Any advice please?</p>\n<p>I didn't find an answer here that would help me</p>\n<p><code>cerma@cerma-GL503VD:~/git/vendaSkola/target$ heroku deploy:jar VendaSchool3.jar -a vendaskola1  ›   Warning: heroku update available from 7.60.1 to 8.7.1. Uploading VendaSchool3.jar -----&gt; Packaging application...        - app: vendaskola1        - including: VendaSchool3.jar -----&gt; Creating build...        - file: slug.tgz        - size: 17MB -----&gt; Uploading build...        - success -----&gt; Deploying... remote:  remote: -----&gt; Building on the Heroku-22 stack remote: -----&gt; Using buildpack: heroku/jvm remote: -----&gt; heroku-deploy app detected remote: -----&gt; Installing OpenJDK 1.8... done remote: -----&gt; Discovering process types remote:        Procfile declares types -&gt; web remote:  remote: -----&gt; Compressing... remote:        Done: 69.3M remote: -----&gt; Launching... remote:        Released v3    </code></p>\n<p>I try write to system.properties      <code>java.runtime.version=17, pom.xml - &lt;java.version&gt;17&lt;/java.version&gt;,&lt;java.runtime.version&gt;17&lt;/java.runtime.version&gt;</code></p>\n"},{"tags":["java","lambda","enums","java-stream"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1699580193,"post_id":77456938,"comment_id":136553356,"body_markdown":"Does this answer your question? [List of objects to map in java 8](https://stackoverflow.com/questions/48747537/list-of-objects-to-map-in-java-8)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/48747537/list-of-objects-to-map-in-java-8\">List of objects to map in java 8</a>"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1699580301,"post_id":77456938,"comment_id":136553362,"body_markdown":"also, if you dont show the stack trace, its hard for anyone to know what the static vs non-static issue is. probably you have a static variable that you are using inside a method that is not static","body":"also, if you dont show the stack trace, its hard for anyone to know what the static vs non-static issue is. probably you have a static variable that you are using inside a method that is not static"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1699580363,"post_id":77456938,"comment_id":136553366,"body_markdown":"show some real code instead of ... ... ... inside your stream if you want people to correct whats wrong with your refactored method using streams","body":"show some real code instead of ... ... ... inside your stream if you want people to correct whats wrong with your refactored method using streams"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1699580415,"post_id":77456938,"comment_id":136553371,"body_markdown":"What are you passing to `map()`? I&#39;m guessing it&#39;s not a `Function&lt;MyEnum, Map.Entry&lt;MyEnum, MyClass&gt;&gt;`. Please provide a [mcve].","body":"What are you passing to <code>map()</code>? I&#39;m guessing it&#39;s not a <code>Function&lt;MyEnum, Map.Entry&lt;MyEnum, MyClass&gt;&gt;</code>. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699598020,"creation_date":1699598020,"answer_id":77458095,"question_id":77456938,"body_markdown":"Try the following.\r\n\r\n```java\r\nMap&lt;MyEnum, MyClass&gt; result\r\n    = Stream.of(MyEnum.values())\r\n            .map(x -&gt; Map.entry(x, helper(x, input)))\r\n            .filter(x -&gt; x.getValue().isPresent())\r\n            .collect(Collectors.toMap(Map.Entry::getKey, x -&gt; x.getValue().get()));\r\n```","title":"Using stream for Java Enum to generate map","body":"<p>Try the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;MyEnum, MyClass&gt; result\n    = Stream.of(MyEnum.values())\n            .map(x -&gt; Map.entry(x, helper(x, input)))\n            .filter(x -&gt; x.getValue().isPresent())\n            .collect(Collectors.toMap(Map.Entry::getKey, x -&gt; x.getValue().get()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699599010,"creation_date":1699598705,"answer_id":77458131,"question_id":77456938,"body_markdown":"# tl;dr\r\n\r\n```java\r\npublic enum CodeLetter { A, B, C; }\r\n```\r\n\r\n```java\r\nMap &lt; CodeLetter, DayOfWeek &gt; map =\r\n        Stream\r\n                .of ( CodeLetter.values ( ) )\r\n                .collect (\r\n                        ( ) -&gt; new EnumMap &lt;&gt; ( CodeLetter.class ) ,\r\n                        ( Map &lt; CodeLetter, DayOfWeek &gt; m , CodeLetter v ) -&gt; m.put ( v , this.helper ( v ) ) ,\r\n                        Map :: putAll\r\n                );\r\n```\r\n\r\n# Details\r\n\r\nLet&#39;s make your example code more concrete. Instead of `MyEnum`, we call that `CodeLetter`. Instead of `MyClass`, we use `java.time.DayOfWeek`. \r\n\r\nFirstly, it seems the `key` field is just a distraction, unrelated to your Question. So we reduce that to a simple enum declaration. \r\n\r\n```java\r\npublic enum CodeLetter { A, B, C; }\r\n```\r\n\r\nWe provide an implementation for the `helper` class you mention. Pass one of the `CodeLetter` enum objects, get back a `DayOfWeek` object.\r\n\r\n```java\r\nDayOfWeek helper ( final CodeLetter codeLetter ) {\r\n    DayOfWeek dow =\r\n            switch ( codeLetter ) {\r\n                case A -&gt; DayOfWeek.SATURDAY;\r\n                case B -&gt; DayOfWeek.SUNDAY;\r\n                case C -&gt; null;\r\n            };\r\n    return dow;\r\n}\r\n```\r\n\r\nNow implement fully your example method that builds a map. \r\n\r\n - We rename that method from `myMethod` to `buildMap`. \r\n - We rename `result` to `map` for clarity.\r\n - We eliminate the argument to that method, as it seems irrelevant. \r\n - There is no such class nor method `Maps.newHashMap`, so we replace that with a specific class that implements `Map`. When you have an enum as your map key, use the highly optimized [`EnumMap`][1] class.\r\n - `Optional&lt;MyClass&gt;`, would be `Optional&lt;CodeLetter&gt;` with our new naming. But `Optional` is generally best used only as a return type. In our case here, `EnumMap` allows for map values to be null. So we forgo the `Optional` to use simple null instead. \r\n\r\n```java\r\nprivate Map &lt; CodeLetter, DayOfWeek &gt; buildMap ( ) {\r\n    Map &lt; CodeLetter, DayOfWeek &gt; map = new EnumMap &lt;&gt; ( CodeLetter.class );\r\n    for ( CodeLetter codeLetter : CodeLetter.values ( ) ) {\r\n        DayOfWeek dow = this.helper ( codeLetter );\r\n        map.put ( codeLetter , dow );\r\n    }\r\n    return map;\r\n}\r\n```\r\n\r\nExercise this code.\r\n\r\n```java\r\nEnumMapExample app = new EnumMapExample ( );\r\nMap &lt; CodeLetter, DayOfWeek &gt; map = app.buildMap ( );\r\nSystem.out.println ( &quot;map = &quot; + map );\r\n```\r\n\r\nWhen run:\r\n\r\n&gt;map = {A=SATURDAY, B=SUNDAY, C=null}\r\n\r\nGood, the code runs successfully.\r\n\r\nBack to the thrust of your Question. You seem to want to refactor the `buildMap` method to use a stream rather than our `for` loop. Fair enough. Let&#39;s create a `buildMapByStream` method, as an alternate implementation.\r\n\r\nTo build our map by stream, first get a stream of the values of our key, `CodeLetter`. Then call `collect` on that stream. To the `collect` method we pass a `Collector` implementation. Java provides one via the `Collectors.toMap` method. We pass to the `toMap` method four arguments: a lambda to generate each map key, a lambda to generate each map value, a lambda to resolve any conflicts, and a lambda to construct a resulting `Map` implementation of our choice. \r\n\r\n```java\r\nprivate Map &lt; CodeLetter, DayOfWeek &gt; buildMapByStream ( ) {\r\n    Map &lt; CodeLetter, DayOfWeek &gt; map =\r\n            Stream\r\n                    .of ( CodeLetter.values ( ) )\r\n                    .collect (\r\n                            Collectors.toMap (\r\n                                    ( CodeLetter codeLetter ) -&gt; codeLetter ,\r\n                                    ( CodeLetter codeLetter ) -&gt; this.helper ( codeLetter ) ,\r\n                                    ( DayOfWeek dow1 , DayOfWeek dow2 ) -&gt; dow1 ,\r\n                                    ( ) -&gt; new EnumMap &lt;&gt; ( CodeLetter.class )\r\n                            )\r\n                    );\r\n    return map;\r\n}\r\n```\r\n\r\nWe can simplify the first two arguments. \r\n\r\n - The first argument is a lambda that merely returns the passed object. Java provides a [`Function`][2] implementation that provides the same functionality: [`Function.identity`][3]. \r\n - The second argument is a lambda that calls our `helper` method. We can abbreviate that with a [method reference][4], `this :: helper`. \r\n\r\nAfter those changes our code looks like this:\r\n\r\n```java\r\nprivate Map &lt; CodeLetter, DayOfWeek &gt; buildMapByStream ( ) {\r\n    Map &lt; CodeLetter, DayOfWeek &gt; map =\r\n            Stream\r\n                    .of ( CodeLetter.values ( ) )\r\n                    .collect (\r\n                            Collectors.toMap (\r\n                                    Function.identity ( ) ,\r\n                                    this :: helper ,\r\n                                    ( DayOfWeek dow1 , DayOfWeek dow2 ) -&gt; dow1 ,\r\n                                    ( ) -&gt; new EnumMap &lt;&gt; ( CodeLetter.class )\r\n                            )\r\n                    );\r\n    return map;\r\n}\r\n```\r\n\r\nWe should be able to consider the job done. Unfortunately, Java 8 through 21 has [a known bug][5] in `Collectors.toMap` where a `NullPointerException` is thrown when the generated map value is null. See [this Question](https://stackoverflow.com/q/24630963/642706), and [this Answer](https://stackoverflow.com/a/24634007/642706) by kajacx.\r\n\r\nFortunately, that Answer presents a workaround to replace the use of `Collectors.toMap`.\r\n\r\n\r\n```java\r\nprivate Map &lt; CodeLetter, DayOfWeek &gt; buildMapByStream ( ) {\r\n    Map &lt; CodeLetter, DayOfWeek &gt; map =\r\n            Stream\r\n                    .of ( CodeLetter.values ( ) )\r\n                    .collect (\r\n                            ( ) -&gt; new EnumMap &lt;&gt; ( CodeLetter.class ) ,\r\n                            ( Map &lt; CodeLetter, DayOfWeek &gt; m , CodeLetter v ) -&gt; m.put ( v , this.helper ( v ) ) ,\r\n                            Map :: putAll\r\n                    );\r\n    return map;\r\n}\r\n```\r\n\r\nAt this point we can exercise our `buildMapByStream` method.\r\n\r\n```java\r\nEnumMapExample app = new EnumMapExample ( );\r\nMap &lt; CodeLetter, DayOfWeek &gt; map = app.buildMapByStream ( );\r\nSystem.out.println ( &quot;map = &quot; + map );\r\n```\r\n\r\n&gt;map = {A=SATURDAY, B=SUNDAY, C=null}\r\n\r\nThat works, job done.\r\n\r\nHere is the complete code for your copy-paste convenience.\r\n\r\n```java\r\npackage work.basil.example.enums;\r\n\r\nimport java.time.DayOfWeek;\r\nimport java.util.EnumMap;\r\nimport java.util.Map;\r\nimport java.util.stream.Stream;\r\n\r\npublic class EnumMapExample {\r\n    public static void main ( String[] args ) {\r\n        EnumMapExample app = new EnumMapExample ( );\r\n        Map &lt; CodeLetter, DayOfWeek &gt; map = app.buildMapByStream ( );\r\n        System.out.println ( &quot;map = &quot; + map );\r\n    }\r\n\r\n    private Map &lt; CodeLetter, DayOfWeek &gt; buildMap ( ) {\r\n        Map &lt; CodeLetter, DayOfWeek &gt; map = new EnumMap &lt;&gt; ( CodeLetter.class );\r\n        for ( CodeLetter codeLetter : CodeLetter.values ( ) ) {\r\n            DayOfWeek dow = this.helper ( codeLetter );\r\n            map.put ( codeLetter , dow );\r\n        }\r\n        return map;\r\n    }\r\n\r\n    private Map &lt; CodeLetter, DayOfWeek &gt; buildMapByStream ( ) {\r\n        Map &lt; CodeLetter, DayOfWeek &gt; map =\r\n                Stream\r\n                        .of ( CodeLetter.values ( ) )\r\n                        .collect (\r\n                                ( ) -&gt; new EnumMap &lt;&gt; ( CodeLetter.class ) ,\r\n                                ( Map &lt; CodeLetter, DayOfWeek &gt; m , CodeLetter v ) -&gt; m.put ( v , this.helper ( v ) ) ,\r\n                                Map :: putAll\r\n                        );\r\n        return map;\r\n    }\r\n\r\n    DayOfWeek helper ( final CodeLetter codeLetter ) {\r\n        DayOfWeek dow =\r\n                switch ( codeLetter ) {\r\n                    case A -&gt; DayOfWeek.SATURDAY;\r\n                    case B -&gt; DayOfWeek.SUNDAY;\r\n                    case C -&gt; null;\r\n                };\r\n        return dow;\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/EnumMap.html\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/Function.html\r\n  [3]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/Function.html#identity()\r\n  [4]: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\r\n  [5]: https://bugs.openjdk.org/browse/JDK-8148463","title":"Using stream for Java Enum to generate map","body":"<h1>tl;dr</h1>\n<pre class=\"lang-java prettyprint-override\"><code>public enum CodeLetter { A, B, C; }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Map &lt; CodeLetter, DayOfWeek &gt; map =\n        Stream\n                .of ( CodeLetter.values ( ) )\n                .collect (\n                        ( ) -&gt; new EnumMap &lt;&gt; ( CodeLetter.class ) ,\n                        ( Map &lt; CodeLetter, DayOfWeek &gt; m , CodeLetter v ) -&gt; m.put ( v , this.helper ( v ) ) ,\n                        Map :: putAll\n                );\n</code></pre>\n<h1>Details</h1>\n<p>Let's make your example code more concrete. Instead of <code>MyEnum</code>, we call that <code>CodeLetter</code>. Instead of <code>MyClass</code>, we use <code>java.time.DayOfWeek</code>.</p>\n<p>Firstly, it seems the <code>key</code> field is just a distraction, unrelated to your Question. So we reduce that to a simple enum declaration.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum CodeLetter { A, B, C; }\n</code></pre>\n<p>We provide an implementation for the <code>helper</code> class you mention. Pass one of the <code>CodeLetter</code> enum objects, get back a <code>DayOfWeek</code> object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>DayOfWeek helper ( final CodeLetter codeLetter ) {\n    DayOfWeek dow =\n            switch ( codeLetter ) {\n                case A -&gt; DayOfWeek.SATURDAY;\n                case B -&gt; DayOfWeek.SUNDAY;\n                case C -&gt; null;\n            };\n    return dow;\n}\n</code></pre>\n<p>Now implement fully your example method that builds a map.</p>\n<ul>\n<li>We rename that method from <code>myMethod</code> to <code>buildMap</code>.</li>\n<li>We rename <code>result</code> to <code>map</code> for clarity.</li>\n<li>We eliminate the argument to that method, as it seems irrelevant.</li>\n<li>There is no such class nor method <code>Maps.newHashMap</code>, so we replace that with a specific class that implements <code>Map</code>. When you have an enum as your map key, use the highly optimized <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/EnumMap.html\" rel=\"nofollow noreferrer\"><code>EnumMap</code></a> class.</li>\n<li><code>Optional&lt;MyClass&gt;</code>, would be <code>Optional&lt;CodeLetter&gt;</code> with our new naming. But <code>Optional</code> is generally best used only as a return type. In our case here, <code>EnumMap</code> allows for map values to be null. So we forgo the <code>Optional</code> to use simple null instead.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>private Map &lt; CodeLetter, DayOfWeek &gt; buildMap ( ) {\n    Map &lt; CodeLetter, DayOfWeek &gt; map = new EnumMap &lt;&gt; ( CodeLetter.class );\n    for ( CodeLetter codeLetter : CodeLetter.values ( ) ) {\n        DayOfWeek dow = this.helper ( codeLetter );\n        map.put ( codeLetter , dow );\n    }\n    return map;\n}\n</code></pre>\n<p>Exercise this code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>EnumMapExample app = new EnumMapExample ( );\nMap &lt; CodeLetter, DayOfWeek &gt; map = app.buildMap ( );\nSystem.out.println ( &quot;map = &quot; + map );\n</code></pre>\n<p>When run:</p>\n<blockquote>\n<p>map = {A=SATURDAY, B=SUNDAY, C=null}</p>\n</blockquote>\n<p>Good, the code runs successfully.</p>\n<p>Back to the thrust of your Question. You seem to want to refactor the <code>buildMap</code> method to use a stream rather than our <code>for</code> loop. Fair enough. Let's create a <code>buildMapByStream</code> method, as an alternate implementation.</p>\n<p>To build our map by stream, first get a stream of the values of our key, <code>CodeLetter</code>. Then call <code>collect</code> on that stream. To the <code>collect</code> method we pass a <code>Collector</code> implementation. Java provides one via the <code>Collectors.toMap</code> method. We pass to the <code>toMap</code> method four arguments: a lambda to generate each map key, a lambda to generate each map value, a lambda to resolve any conflicts, and a lambda to construct a resulting <code>Map</code> implementation of our choice.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Map &lt; CodeLetter, DayOfWeek &gt; buildMapByStream ( ) {\n    Map &lt; CodeLetter, DayOfWeek &gt; map =\n            Stream\n                    .of ( CodeLetter.values ( ) )\n                    .collect (\n                            Collectors.toMap (\n                                    ( CodeLetter codeLetter ) -&gt; codeLetter ,\n                                    ( CodeLetter codeLetter ) -&gt; this.helper ( codeLetter ) ,\n                                    ( DayOfWeek dow1 , DayOfWeek dow2 ) -&gt; dow1 ,\n                                    ( ) -&gt; new EnumMap &lt;&gt; ( CodeLetter.class )\n                            )\n                    );\n    return map;\n}\n</code></pre>\n<p>We can simplify the first two arguments.</p>\n<ul>\n<li>The first argument is a lambda that merely returns the passed object. Java provides a <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/Function.html\" rel=\"nofollow noreferrer\"><code>Function</code></a> implementation that provides the same functionality: <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/Function.html#identity()\" rel=\"nofollow noreferrer\"><code>Function.identity</code></a>.</li>\n<li>The second argument is a lambda that calls our <code>helper</code> method. We can abbreviate that with a <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">method reference</a>, <code>this :: helper</code>.</li>\n</ul>\n<p>After those changes our code looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Map &lt; CodeLetter, DayOfWeek &gt; buildMapByStream ( ) {\n    Map &lt; CodeLetter, DayOfWeek &gt; map =\n            Stream\n                    .of ( CodeLetter.values ( ) )\n                    .collect (\n                            Collectors.toMap (\n                                    Function.identity ( ) ,\n                                    this :: helper ,\n                                    ( DayOfWeek dow1 , DayOfWeek dow2 ) -&gt; dow1 ,\n                                    ( ) -&gt; new EnumMap &lt;&gt; ( CodeLetter.class )\n                            )\n                    );\n    return map;\n}\n</code></pre>\n<p>We should be able to consider the job done. Unfortunately, Java 8 through 21 has <a href=\"https://bugs.openjdk.org/browse/JDK-8148463\" rel=\"nofollow noreferrer\">a known bug</a> in <code>Collectors.toMap</code> where a <code>NullPointerException</code> is thrown when the generated map value is null. See <a href=\"https://stackoverflow.com/q/24630963/642706\">this Question</a>, and <a href=\"https://stackoverflow.com/a/24634007/642706\">this Answer</a> by kajacx.</p>\n<p>Fortunately, that Answer presents a workaround to replace the use of <code>Collectors.toMap</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Map &lt; CodeLetter, DayOfWeek &gt; buildMapByStream ( ) {\n    Map &lt; CodeLetter, DayOfWeek &gt; map =\n            Stream\n                    .of ( CodeLetter.values ( ) )\n                    .collect (\n                            ( ) -&gt; new EnumMap &lt;&gt; ( CodeLetter.class ) ,\n                            ( Map &lt; CodeLetter, DayOfWeek &gt; m , CodeLetter v ) -&gt; m.put ( v , this.helper ( v ) ) ,\n                            Map :: putAll\n                    );\n    return map;\n}\n</code></pre>\n<p>At this point we can exercise our <code>buildMapByStream</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>EnumMapExample app = new EnumMapExample ( );\nMap &lt; CodeLetter, DayOfWeek &gt; map = app.buildMapByStream ( );\nSystem.out.println ( &quot;map = &quot; + map );\n</code></pre>\n<blockquote>\n<p>map = {A=SATURDAY, B=SUNDAY, C=null}</p>\n</blockquote>\n<p>That works, job done.</p>\n<p>Here is the complete code for your copy-paste convenience.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.enums;\n\nimport java.time.DayOfWeek;\nimport java.util.EnumMap;\nimport java.util.Map;\nimport java.util.stream.Stream;\n\npublic class EnumMapExample {\n    public static void main ( String[] args ) {\n        EnumMapExample app = new EnumMapExample ( );\n        Map &lt; CodeLetter, DayOfWeek &gt; map = app.buildMapByStream ( );\n        System.out.println ( &quot;map = &quot; + map );\n    }\n\n    private Map &lt; CodeLetter, DayOfWeek &gt; buildMap ( ) {\n        Map &lt; CodeLetter, DayOfWeek &gt; map = new EnumMap &lt;&gt; ( CodeLetter.class );\n        for ( CodeLetter codeLetter : CodeLetter.values ( ) ) {\n            DayOfWeek dow = this.helper ( codeLetter );\n            map.put ( codeLetter , dow );\n        }\n        return map;\n    }\n\n    private Map &lt; CodeLetter, DayOfWeek &gt; buildMapByStream ( ) {\n        Map &lt; CodeLetter, DayOfWeek &gt; map =\n                Stream\n                        .of ( CodeLetter.values ( ) )\n                        .collect (\n                                ( ) -&gt; new EnumMap &lt;&gt; ( CodeLetter.class ) ,\n                                ( Map &lt; CodeLetter, DayOfWeek &gt; m , CodeLetter v ) -&gt; m.put ( v , this.helper ( v ) ) ,\n                                Map :: putAll\n                        );\n        return map;\n    }\n\n    DayOfWeek helper ( final CodeLetter codeLetter ) {\n        DayOfWeek dow =\n                switch ( codeLetter ) {\n                    case A -&gt; DayOfWeek.SATURDAY;\n                    case B -&gt; DayOfWeek.SUNDAY;\n                    case C -&gt; null;\n                };\n        return dow;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29868063,"reputation":11,"user_id":22890081,"display_name":"cnmdestroyer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1699599010,"creation_date":1699572851,"question_id":77456938,"body_markdown":"I have a Enum class\r\n\r\n```\r\npublic enum MyEnum {\r\n    A(&quot;A&quot;),\r\n    B(&quot;B&quot;);\r\n\r\n    private final String key;\r\n}\r\n```\r\n\r\nAnd I want to generate a map like this:\r\n\r\n```\r\nprivate Map&lt;MyEnum, MyClass&gt; myMethod(String input) {\r\n    Map&lt;MyEnum, MyClass&gt; result = Maps.newHashMap();\r\n    for (MyEnum enum : MyEnum.values()) {\r\n        Optional&lt;MyClass&gt; value = helper(enum, input);\r\n        value.ifPresent(val -&gt; result.put(enum, val));\r\n    }\r\n    return result;\r\n}\r\n```\r\n\r\nI am new to lambda/stream, can we refactor it to something like:\r\n\r\n```\r\nprivate Map&lt;MyEnum, MyClass&gt; myMethod(String input) {\r\n    return MyEnum.values().stream().map(...).collect(Collector.toMap(...));\r\n}\r\n```\r\n\r\nI tried to use `Arrays.stream()...`\r\nbut at last when I use `collect(Collector.toMap(Map.Entry::getKey, Map.Entry::getValue)`\r\nit has some static vs non-static issue","title":"Using stream for Java Enum to generate map","body":"<p>I have a Enum class</p>\n<pre><code>public enum MyEnum {\n    A(&quot;A&quot;),\n    B(&quot;B&quot;);\n\n    private final String key;\n}\n</code></pre>\n<p>And I want to generate a map like this:</p>\n<pre><code>private Map&lt;MyEnum, MyClass&gt; myMethod(String input) {\n    Map&lt;MyEnum, MyClass&gt; result = Maps.newHashMap();\n    for (MyEnum enum : MyEnum.values()) {\n        Optional&lt;MyClass&gt; value = helper(enum, input);\n        value.ifPresent(val -&gt; result.put(enum, val));\n    }\n    return result;\n}\n</code></pre>\n<p>I am new to lambda/stream, can we refactor it to something like:</p>\n<pre><code>private Map&lt;MyEnum, MyClass&gt; myMethod(String input) {\n    return MyEnum.values().stream().map(...).collect(Collector.toMap(...));\n}\n</code></pre>\n<p>I tried to use <code>Arrays.stream()...</code>\nbut at last when I use <code>collect(Collector.toMap(Map.Entry::getKey, Map.Entry::getValue)</code>\nit has some static vs non-static issue</p>\n"},{"tags":["java","aop","aspectj"],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1699598713,"creation_date":1412851164,"answer_id":26276330,"question_id":26274584,"body_markdown":"Yes, you can weave aspect code into third-party class files or JARs. There are two ways to achieve that:\r\n\r\n* Binary weaving: Use the AspectJ compiler *ajc* in order to apply your aspects upon class files in an existing JAR. For that purpose, put the JAR on the compiler&#39;s *inpath*. After compilation you can re-package the newly woven class files into a new JAR which then you can deploy and use instead of the original one.\r\n* Load-time weaving (LTW): Start the JVM with the AspectJ weaving agent via command line option `-javaagent:pathto/aspectjweaver.jar` in order to achieve aspect weaving during classloading. This way you sacrifice some start-up time, but do not need to create a modified JAR file. Everything happens dynamically.\r\n\r\nAnd now please read some [AspectJ documentation](https://www.eclipse.org/aspectj/doc/released/).","title":"How can I weave aspect code into existing class files within JARs?","body":"<p>Yes, you can weave aspect code into third-party class files or JARs. There are two ways to achieve that:</p>\n<ul>\n<li>Binary weaving: Use the AspectJ compiler <em>ajc</em> in order to apply your aspects upon class files in an existing JAR. For that purpose, put the JAR on the compiler's <em>inpath</em>. After compilation you can re-package the newly woven class files into a new JAR which then you can deploy and use instead of the original one.</li>\n<li>Load-time weaving (LTW): Start the JVM with the AspectJ weaving agent via command line option <code>-javaagent:pathto/aspectjweaver.jar</code> in order to achieve aspect weaving during classloading. This way you sacrifice some start-up time, but do not need to create a modified JAR file. Everything happens dynamically.</li>\n</ul>\n<p>And now please read some <a href=\"https://www.eclipse.org/aspectj/doc/released/\" rel=\"nofollow noreferrer\">AspectJ documentation</a>.</p>\n"}],"owner":{"account_id":4691397,"reputation":425,"user_id":3797438,"accept_rate":27,"display_name":"user3797438"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2387,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"accepted_answer_id":26276330,"answer_count":1,"score":-2,"last_activity_date":1699598713,"creation_date":1412845988,"question_id":26274584,"body_markdown":"I am new to aspectj and I have one doubt whether we can inject the code before the function that exists in the jar file using aspectj.\r\n","title":"How can I weave aspect code into existing class files within JARs?","body":"<p>I am new to aspectj and I have one doubt whether we can inject the code before the function that exists in the jar file using aspectj.</p>\n"},{"tags":["java","garbage-collection","jvm","g1gc"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1699597676,"creation_date":1652883340,"answer_id":72290854,"question_id":72290017,"body_markdown":"The following summary is based on:\r\n\r\n  - [Java /Java SE / 17 - HotSpot Virtual Machine Garbage Collection Tuning Guide: 5. Available Collectors\r\n](https://docs.oracle.com/en/java/javase/17/gctuning/available-collectors.html)\r\n\r\n------------------------\r\n\r\n - If you have absolutely no interest in GC pause times, then use the serial collector (if you only have one core) or the parallel collector (if you have more than one core).\r\n\r\n - If you need low pause times (with high probability), then use the G1 collector.\r\n\r\n - If you need ultra-low pause times, and/or you have an extremely large heap, use the Z collector.\r\n\r\nThe old CMS collector has been removed as of Java 14.\r\n\r\n------------------------\r\n\r\nNote that if you specify pause-time and/or throughput goals, you can leave the choice and tuning of the GC to the JVM.  This is probably less risky than manually selecting and tuning the GC ... when you don&#39;t understand what you are doing.  \r\n\r\nThis &quot;behavior-based tuning&quot; approach and its advantages are described [here](https://docs.oracle.com/en/java/javase/17/gctuning/ergonomics.html).\r\n\r\n------------------------\r\n\r\nYou asked:\r\n\r\n&gt; We have a machine that has a total memory of 4 GB, and heap size allocated to JVM of 1 GB. I wanted to understand whether that would cause any issues for us, or would G1GC work out fine.\r\n\r\nWe can&#39;t tell you whether it would work out fine or not.  It would depend on various aspects of your application&#39;s behavior and also on your expectations.  For example, what &quot;issues&quot; would concern you if your application encountered them.  I would recommend trying &quot;behavior-based tuning&quot; to start with, and see where that gets you.\r\n\r\nFinally, setting a maximum heap size that is too small for the application **will not end well** ... no matter what GC you select.","title":"When not to use G1GC garbage collector?","body":"<p>The following summary is based on:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/gctuning/available-collectors.html\" rel=\"nofollow noreferrer\">Java /Java SE / 17 - HotSpot Virtual Machine Garbage Collection Tuning Guide: 5. Available Collectors\n</a></li>\n</ul>\n<hr />\n<ul>\n<li><p>If you have absolutely no interest in GC pause times, then use the serial collector (if you only have one core) or the parallel collector (if you have more than one core).</p>\n</li>\n<li><p>If you need low pause times (with high probability), then use the G1 collector.</p>\n</li>\n<li><p>If you need ultra-low pause times, and/or you have an extremely large heap, use the Z collector.</p>\n</li>\n</ul>\n<p>The old CMS collector has been removed as of Java 14.</p>\n<hr />\n<p>Note that if you specify pause-time and/or throughput goals, you can leave the choice and tuning of the GC to the JVM.  This is probably less risky than manually selecting and tuning the GC ... when you don't understand what you are doing.</p>\n<p>This &quot;behavior-based tuning&quot; approach and its advantages are described <a href=\"https://docs.oracle.com/en/java/javase/17/gctuning/ergonomics.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<hr />\n<p>You asked:</p>\n<blockquote>\n<p>We have a machine that has a total memory of 4 GB, and heap size allocated to JVM of 1 GB. I wanted to understand whether that would cause any issues for us, or would G1GC work out fine.</p>\n</blockquote>\n<p>We can't tell you whether it would work out fine or not.  It would depend on various aspects of your application's behavior and also on your expectations.  For example, what &quot;issues&quot; would concern you if your application encountered them.  I would recommend trying &quot;behavior-based tuning&quot; to start with, and see where that gets you.</p>\n<p>Finally, setting a maximum heap size that is too small for the application <strong>will not end well</strong> ... no matter what GC you select.</p>\n"}],"owner":{"account_id":6968463,"reputation":4314,"user_id":5345646,"accept_rate":95,"display_name":"Mooncrater"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5411,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":72290854,"answer_count":1,"score":4,"last_activity_date":1699597676,"creation_date":1652880141,"question_id":72290017,"body_markdown":"I looked into differences between various garbage collectors available for JVM. Here is the answer explaining the main differences between them : https://stackoverflow.com/a/54619838/5345646\r\n\r\nHere it&#39;s said for G1GC that : \r\n&gt; It&#39;s low pause / server style gc, mainly for large heap (&gt; 4Gb).\r\n\r\nWe have a machine that has a total memory of 4 GB, and heap size allocated to JVM of 1 GB. I wanted to understand whether that would cause any issues for us, or would G1GC work out fine.","title":"When not to use G1GC garbage collector?","body":"<p>I looked into differences between various garbage collectors available for JVM. Here is the answer explaining the main differences between them : <a href=\"https://stackoverflow.com/a/54619838/5345646\">https://stackoverflow.com/a/54619838/5345646</a></p>\n<p>Here it's said for G1GC that :</p>\n<blockquote>\n<p>It's low pause / server style gc, mainly for large heap (&gt; 4Gb).</p>\n</blockquote>\n<p>We have a machine that has a total memory of 4 GB, and heap size allocated to JVM of 1 GB. I wanted to understand whether that would cause any issues for us, or would G1GC work out fine.</p>\n"},{"tags":["java","android","search","android-recyclerview","textview"],"comments":[{"owner":{"account_id":6305344,"reputation":2779,"user_id":4898562,"display_name":"i_A_mok"},"score":0,"creation_date":1699715864,"post_id":77458073,"comment_id":136567660,"body_markdown":"This may help: https://stackoverflow.com/questions/67257217/android-how-to-fix-spannablestrings-from-search-in-recyclerview/67464940#67464940","body":"This may help: <a href=\"https://stackoverflow.com/questions/67257217/android-how-to-fix-spannablestrings-from-search-in-recyclerview/67464940#67464940\" title=\"android how to fix spannablestrings from search in recyclerview\">stackoverflow.com/questions/67257217/&hellip;</a>"},{"owner":{"account_id":155198,"reputation":1655,"user_id":371686,"accept_rate":88,"display_name":"Armin Taghavizad"},"score":0,"creation_date":1699866994,"post_id":77458073,"comment_id":136580212,"body_markdown":"This not how you ask a question. You should work on your code and put what you have done so far, here. Read the Help Center topics to learn more about what questions you can ask and what type of questions you have to avoid. [Help Center](https://stackoverflow.com/help), [What types of questions should I avoid asking?](https://stackoverflow.com/help/dont-ask), [What topics can I ask about here?](https://stackoverflow.com/help/on-topic). Community will definitely be glad to help you for right questions","body":"This not how you ask a question. You should work on your code and put what you have done so far, here. Read the Help Center topics to learn more about what questions you can ask and what type of questions you have to avoid. <a href=\"https://stackoverflow.com/help\">Help Center</a>, <a href=\"https://stackoverflow.com/help/dont-ask\">What types of questions should I avoid asking?</a>, <a href=\"https://stackoverflow.com/help/on-topic\">What topics can I ask about here?</a>. Community will definitely be glad to help you for right questions"}],"owner":{"account_id":22520329,"reputation":1,"user_id":16713996,"display_name":"Serizawa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":0,"score":-3,"last_activity_date":1699597671,"creation_date":1699597671,"question_id":77458073,"body_markdown":"Can anyone help me, im working on offline dictionary app. searching working, but i want to add highlight color in texview when user searching some word.\r\n\r\n\r\n**ListArticles.java**\r\n \r\n```\r\nDataBaseHelper mDBHelper;\r\n\r\nfilterid = getIntent().getIntExtra(&quot;id_filter&quot;, 0);\r\n\r\n............\r\n  @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        getMenuInflater().inflate(R.menu.articles, menu); \r\n\r\n        MenuItem search = menu.findItem(R.id.action_search);\r\n        final SearchView searchView = (SearchView) search.getActionView();\r\n\r\n\r\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n            @Override\r\n            public boolean onQueryTextSubmit(String newText) {\r\n\r\n             \r\n             adapterArticlesFilterByName(newText, filterid);\r\n\r\n             //error GET VALUE HERE\r\n             artikel.setFilter(newText, filterid);\r\n                  \r\n                }\r\n\r\n                return false;\r\n            }\r\n\r\n          \r\n            @Override\r\n            public boolean onQueryTextChange(String newText) {\r\n\r\n\r\n                return false;\r\n            }\r\n        });\r\n    }    \r\n\r\npublic void adapterArticlesFilterByName(String name, int filterid) {\r\n        mItemList.clear();\r\n        mItemList.addAll(mDBHelper.getListItemFilterByTitle(name, filterid));\r\n        if (mItemList.size() != 0) {\r\n            noArticles.setVisibility(View.GONE);\r\n            adapterRV = new ListArticleAdapter(this, mItemList);\r\n            adapterRV.setClickListener(this, this);\r\n\r\n             RVItems.setAdapter(adapterRV);\r\n        } else {\r\n            currentListCategorie = false;\r\n            noArticles.setVisibility(View.VISIBLE);\r\n        }\r\n    }\r\n```\r\nsome funtion on :\r\n**DataBaseHelper.java**\r\n\r\n\r\n```\r\n..............\r\npublic List&lt;ItemListview&gt; getListItemFilterByTitle(String title, int filterid) {\r\n        ItemListview item = null;\r\n        List&lt;ItemListview&gt; itemList = new ArrayList&lt;&gt;();\r\n        openDatabase();\r\n        Cursor cursor = mDatabase.rawQuery(&quot;SELECT * FROM tbsubcategory where (deskripsi like &#39;%&quot;+title+&quot;%&#39; )  limit 500 &quot;, null);\r\n        cursor.moveToFirst();\r\n        while (!cursor.isAfterLast()) {\r\n            item = new ItemListview(cursor.getInt(0), cursor.getString(1), cursor.getString(2),\r\n                    cursor.getString(3), cursor.getInt(4));\r\n            itemList.add(item);\r\n            cursor.moveToNext();\r\n        }\r\n        cursor.close();\r\n        closeDatabase();\r\n\r\n        return itemList;\r\n    }\r\n\r\n.............\r\n```\r\n\r\nmodul :  **Itemlistview.java**\r\n\r\n\r\n```\r\n............\r\n\r\n\r\n\tpublic ItemListview(int id,  String icon, String judulnya, String artinya, int k) {\r\n\t\tsuper();\r\n\t\tthis.id=id;\r\n\t\tthis.icon = icon;\r\n\t\tthis.judulnya = judulnya;\r\n\t\tthis.artinya = artinya;;\r\n\t\tthis.k = k;\r\n\r\n\t}\r\n\r\n        public String getJudulnya() {\r\n\t\treturn judulnya;\r\n\t}\r\n\tpublic String getArtinya() {\r\n\t\treturn artinya;\r\n\t}\r\n..........\r\n```\r\n\r\n\r\n**ListArticleAdapter.java**\r\n\r\n\r\n```\r\n\r\n    private List&lt;Object&gt; mData = Collections.emptyList();\r\n    private LayoutInflater mInflater;\r\n    private ItemClickListener mClickListener, klikSuara;\r\n    Context mContext;\r\n    JSONObject json_obj;\r\n    View menuItemLayoutView;\r\n    String searchText;\r\n\r\n........\r\n\r\n// ERROR THIS T_T\r\n public void setFilter(String searchText, int idnya) {\r\n        this.searchText = searchText;\r\n       \r\n\r\n    }\r\n\r\n\r\n@Override\r\n    public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n        //menuItemLayoutView = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_view_artikel, parent, false) ;\r\n        menuItemLayoutView = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_view_artikel, parent, false) ;\r\n        return new MenuItemViewHolder(menuItemLayoutView);\r\n\r\n\r\n    }\r\n@Override\r\n    public void onBindViewHolder(RecyclerView.ViewHolder holder, int position) {\r\n        final MenuItemViewHolder menuItemHolder = (MenuItemViewHolder) holder;\r\n         menuItemHolder.kelasnya.setText(((ItemListview)mData.get(position)).getArtinya().trim());\r\n         menuItemHolder.title.setText(((ItemListview)mData.get(position)).getJudulnya().trim());\r\n\r\n\r\n\r\n//MODE HIGHLIGHT TEXT HERE ... and error!!\r\n\r\n            String tvt = ((ItemListview)mData.get(position)).getArtinya();\r\n            int ofe = tvt.indexOf(searchText, 0);\r\n            Spannable wordToSpan = new SpannableString(((ItemListview)mData.get(position)).getArtinya());\r\n            for (int ofs = 0; ofs &lt; tvt.length() &amp;&amp; ofe != -1; ofs = ofe + 1) {\r\n                ofe = tvt.indexOf(searchText, ofs);\r\n                if (ofe == -1)\r\n                    break;\r\n                else {\r\n                    // set color here\r\n                    wordToSpan.setSpan(new BackgroundColorSpan(0xFFFFFF00), ofe, ofe + searchText.length(), Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);\r\n                    menuItemHolder.kelasnya.setText(wordToSpan, TextView.BufferType.SPANNABLE);\r\n                }\r\n            }\r\n\r\n\r\n    }\r\n```\r\n\r\n\r\nerror logcat : \r\n`FATAL EXCEPTION: main\r\n                 Process: net.icdx.english.offlline, PID: 18052\r\n                 java.lang.NullPointerException: Attempt to invoke virtual method &#39;void net.icdx.english.offlline.adapter.ListArticleAdapter.setFilter(java.lang.String, int)&#39; on a null object reference\r\n                 \tat net.icdx.english.offlline.daftarlist.ListArticles$5.onQueryTextSubmit(ListArticles.java:474)`\r\n\r\n\r\nmy expectation is if user search word &quot;er&quot; then like this :\r\n\r\n[&quot;er&quot;](https://i.stack.imgur.com/MW0gs.jpg)\r\n\r\n\r\n\r\n","title":"highlight color texview when searching on database sqlite android studio","body":"<p>Can anyone help me, im working on offline dictionary app. searching working, but i want to add highlight color in texview when user searching some word.</p>\n<p><strong>ListArticles.java</strong></p>\n<pre><code>DataBaseHelper mDBHelper;\n\nfilterid = getIntent().getIntExtra(&quot;id_filter&quot;, 0);\n\n............\n  @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.articles, menu); \n\n        MenuItem search = menu.findItem(R.id.action_search);\n        final SearchView searchView = (SearchView) search.getActionView();\n\n\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n            @Override\n            public boolean onQueryTextSubmit(String newText) {\n\n             \n             adapterArticlesFilterByName(newText, filterid);\n\n             //error GET VALUE HERE\n             artikel.setFilter(newText, filterid);\n                  \n                }\n\n                return false;\n            }\n\n          \n            @Override\n            public boolean onQueryTextChange(String newText) {\n\n\n                return false;\n            }\n        });\n    }    \n\npublic void adapterArticlesFilterByName(String name, int filterid) {\n        mItemList.clear();\n        mItemList.addAll(mDBHelper.getListItemFilterByTitle(name, filterid));\n        if (mItemList.size() != 0) {\n            noArticles.setVisibility(View.GONE);\n            adapterRV = new ListArticleAdapter(this, mItemList);\n            adapterRV.setClickListener(this, this);\n\n             RVItems.setAdapter(adapterRV);\n        } else {\n            currentListCategorie = false;\n            noArticles.setVisibility(View.VISIBLE);\n        }\n    }\n</code></pre>\n<p>some funtion on :\n<strong>DataBaseHelper.java</strong></p>\n<pre><code>..............\npublic List&lt;ItemListview&gt; getListItemFilterByTitle(String title, int filterid) {\n        ItemListview item = null;\n        List&lt;ItemListview&gt; itemList = new ArrayList&lt;&gt;();\n        openDatabase();\n        Cursor cursor = mDatabase.rawQuery(&quot;SELECT * FROM tbsubcategory where (deskripsi like '%&quot;+title+&quot;%' )  limit 500 &quot;, null);\n        cursor.moveToFirst();\n        while (!cursor.isAfterLast()) {\n            item = new ItemListview(cursor.getInt(0), cursor.getString(1), cursor.getString(2),\n                    cursor.getString(3), cursor.getInt(4));\n            itemList.add(item);\n            cursor.moveToNext();\n        }\n        cursor.close();\n        closeDatabase();\n\n        return itemList;\n    }\n\n.............\n</code></pre>\n<p>modul :  <strong>Itemlistview.java</strong></p>\n<pre><code>............\n\n\n    public ItemListview(int id,  String icon, String judulnya, String artinya, int k) {\n        super();\n        this.id=id;\n        this.icon = icon;\n        this.judulnya = judulnya;\n        this.artinya = artinya;;\n        this.k = k;\n\n    }\n\n        public String getJudulnya() {\n        return judulnya;\n    }\n    public String getArtinya() {\n        return artinya;\n    }\n..........\n</code></pre>\n<p><strong>ListArticleAdapter.java</strong></p>\n<pre><code>\n    private List&lt;Object&gt; mData = Collections.emptyList();\n    private LayoutInflater mInflater;\n    private ItemClickListener mClickListener, klikSuara;\n    Context mContext;\n    JSONObject json_obj;\n    View menuItemLayoutView;\n    String searchText;\n\n........\n\n// ERROR THIS T_T\n public void setFilter(String searchText, int idnya) {\n        this.searchText = searchText;\n       \n\n    }\n\n\n@Override\n    public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        //menuItemLayoutView = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_view_artikel, parent, false) ;\n        menuItemLayoutView = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_view_artikel, parent, false) ;\n        return new MenuItemViewHolder(menuItemLayoutView);\n\n\n    }\n@Override\n    public void onBindViewHolder(RecyclerView.ViewHolder holder, int position) {\n        final MenuItemViewHolder menuItemHolder = (MenuItemViewHolder) holder;\n         menuItemHolder.kelasnya.setText(((ItemListview)mData.get(position)).getArtinya().trim());\n         menuItemHolder.title.setText(((ItemListview)mData.get(position)).getJudulnya().trim());\n\n\n\n//MODE HIGHLIGHT TEXT HERE ... and error!!\n\n            String tvt = ((ItemListview)mData.get(position)).getArtinya();\n            int ofe = tvt.indexOf(searchText, 0);\n            Spannable wordToSpan = new SpannableString(((ItemListview)mData.get(position)).getArtinya());\n            for (int ofs = 0; ofs &lt; tvt.length() &amp;&amp; ofe != -1; ofs = ofe + 1) {\n                ofe = tvt.indexOf(searchText, ofs);\n                if (ofe == -1)\n                    break;\n                else {\n                    // set color here\n                    wordToSpan.setSpan(new BackgroundColorSpan(0xFFFFFF00), ofe, ofe + searchText.length(), Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);\n                    menuItemHolder.kelasnya.setText(wordToSpan, TextView.BufferType.SPANNABLE);\n                }\n            }\n\n\n    }\n</code></pre>\n<p>error logcat :\n<code>FATAL EXCEPTION: main Process: net.icdx.english.offlline, PID: 18052 java.lang.NullPointerException: Attempt to invoke virtual method 'void net.icdx.english.offlline.adapter.ListArticleAdapter.setFilter(java.lang.String, int)' on a null object reference at net.icdx.english.offlline.daftarlist.ListArticles$5.onQueryTextSubmit(ListArticles.java:474)</code></p>\n<p>my expectation is if user search word &quot;er&quot; then like this :</p>\n<p><a href=\"https://i.stack.imgur.com/MW0gs.jpg\" rel=\"nofollow noreferrer\">&quot;er&quot;</a></p>\n"},{"tags":["java","infinispan"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1699652772,"post_id":77458048,"comment_id":136563362,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":13189824,"reputation":1,"user_id":22891474,"display_name":"Vikas Jaiswal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699597352,"creation_date":1699597289,"question_id":77458048,"body_markdown":"I am using replicated cache with 3 node cluster. Entries are expiring for expiry time set to 30 sec but it does not when expiry time is 24 hrs.\r\nInfinispan : 14.0.1\r\nJava : jdk11\r\n\r\nI am expecting the behaviour to be same for any expiry time provided. ","title":"Replicated cache return value after expiration for long stored values(24hrs) ie. It never expires but works fine when expiry time is less (30 sec)","body":"<p>I am using replicated cache with 3 node cluster. Entries are expiring for expiry time set to 30 sec but it does not when expiry time is 24 hrs.\nInfinispan : 14.0.1\nJava : jdk11</p>\n<p>I am expecting the behaviour to be same for any expiry time provided.</p>\n"},{"tags":["java","jvm","compiler-construction"],"comments":[{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1699596563,"post_id":77457966,"comment_id":136554543,"body_markdown":"The JVM doesn&#39;t allocate memory whenever you do a computation using a primitive type.  Primitive values are held in registers and on the stack, and in fields of some object.  There is nothing special about a ternary operator in this respect.  Assuming that you are using primitive types (as in your examples), no memory is allocated.","body":"The JVM doesn&#39;t allocate memory whenever you do a computation using a primitive type.  Primitive values are held in registers and on the stack, and in fields of some object.  There is nothing special about a ternary operator in this respect.  Assuming that you are using primitive types (as in your examples), no memory is allocated."},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1699596660,"post_id":77457966,"comment_id":136554552,"body_markdown":"&quot;Explain the problem of compiler type checking and jvm in runtime&quot; - This question is too broad.","body":"&quot;Explain the problem of compiler type checking and jvm in runtime&quot; - This question is too broad."},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1699596958,"post_id":77457966,"comment_id":136554578,"body_markdown":"`byte c=(a&lt;b)?10:20;` is not valid because `a` and `b` are not *constant expressions*.  (If you declared `a` and `b` as `final`, that example should compile.)   See [JLS 15.29](https://docs.oracle.com/javase/specs/jls/se21/html/jls-15.html#jls-15.29) and [JLS 5.2](https://docs.oracle.com/javase/specs/jls/se21/html/jls-5.html#jls-5.2).   Note that this is nothing to do with type checking.  It is just a specific rule that allows an implicit *narrowing conversion* because the compiler &quot;knows&quot; that the value being assigned is within the required range.","body":"<code>byte c=(a&lt;b)?10:20;</code> is not valid because <code>a</code> and <code>b</code> are not <i>constant expressions</i>.  (If you declared <code>a</code> and <code>b</code> as <code>final</code>, that example should compile.)   See <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-15.html#jls-15.29\" rel=\"nofollow noreferrer\">JLS 15.29</a> and <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-5.html#jls-5.2\" rel=\"nofollow noreferrer\">JLS 5.2</a>.   Note that this is nothing to do with type checking.  It is just a specific rule that allows an implicit <i>narrowing conversion</i> because the compiler &quot;knows&quot; that the value being assigned is within the required range."},{"owner":{"account_id":24110472,"reputation":1,"user_id":18081133,"display_name":"Boris Hartin&#237;k"},"score":0,"creation_date":1699599588,"post_id":77457966,"comment_id":136554825,"body_markdown":"Thank you for reply. I am beginner in Java and I dont know whether understand correctly byte c = (a&lt;b)?10:20; what values compiler knows(10 and 20)? and JVM knows a and b? Who wants assigned the value to byte c?","body":"Thank you for reply. I am beginner in Java and I dont know whether understand correctly byte c = (a&lt;b)?10:20; what values compiler knows(10 and 20)? and JVM knows a and b? Who wants assigned the value to byte c?"},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1699600426,"post_id":77457966,"comment_id":136554922,"body_markdown":"If you are a beginner at Java, you should not be asking questions about how memory is managed, and how type checking works.  They are beyond your ability to understand the answers.  Wait until you know more about how to write Java programs before you ask deep questions about how it works.","body":"If you are a beginner at Java, you should not be asking questions about how memory is managed, and how type checking works.  They are beyond your ability to understand the answers.  Wait until you know more about how to write Java programs before you ask deep questions about how it works."},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1699600525,"post_id":77457966,"comment_id":136554939,"body_markdown":"For that example, all you need to know is that you can use a type-cast to make it work; i.e. `byte c = (byte) ((a &lt; b) ? 10 : 20);`   (If you really want to understand &quot;why&quot; you need to be able to read the JLS.  And you don&#39;t have enough technical knowledge for that ... yet.  And indeed, most Java programmers don&#39;t ever get that far.)","body":"For that example, all you need to know is that you can use a type-cast to make it work; i.e. <code>byte c = (byte) ((a &lt; b) ? 10 : 20);</code>   (If you really want to understand &quot;why&quot; you need to be able to read the JLS.  And you don&#39;t have enough technical knowledge for that ... yet.  And indeed, most Java programmers don&#39;t ever get that far.)"},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1699600761,"post_id":77457966,"comment_id":136554967,"body_markdown":"To give you a literal answer to your question: the compiler knows that `10` and `20` are `int` values and it knows that `a` and `b` are `int` variables (not `final`).","body":"To give you a literal answer to your question: the compiler knows that <code>10</code> and <code>20</code> are <code>int</code> values and it knows that <code>a</code> and <code>b</code> are <code>int</code> variables (not <code>final</code>)."},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1699600981,"post_id":77457966,"comment_id":136554987,"body_markdown":"If the code doesn&#39;t compile the JVM can&#39;t execute it at all, so the question of whether the JVM allocates memory doesn&#39;t arise. Your question doesn&#39;t make sense.","body":"If the code doesn&#39;t compile the JVM can&#39;t execute it at all, so the question of whether the JVM allocates memory doesn&#39;t arise. Your question doesn&#39;t make sense."},{"owner":{"account_id":24110472,"reputation":1,"user_id":18081133,"display_name":"Boris Hartin&#237;k"},"score":0,"creation_date":1699601164,"post_id":77457966,"comment_id":136555010,"body_markdown":"aha, so compiler knows datatypes of literal values and knows datatypes of a and b values? and JVM only allocates memory for that datatypes in memory and keep values here? Sorry for inconvenience I am interested in it.","body":"aha, so compiler knows datatypes of literal values and knows datatypes of a and b values? and JVM only allocates memory for that datatypes in memory and keep values here? Sorry for inconvenience I am interested in it."},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1699608812,"post_id":77457966,"comment_id":136556222,"body_markdown":"You should not conflate compiler and JVM’s memory management. The JVM is entirely irrelevant. The compiler follows strict rules. You can only assign an `int` value to a `byte` variable if the value is a compile-time constant and within the byte value range. In all other cases, it’s not allowed, regardless of how obvious the correctness would look to a human reader. E.g. when you have `void foo(byte b) {}`, you can not do `foo(10);` because it’s not covered by the mentioned rule.","body":"You should not conflate compiler and JVM’s memory management. The JVM is entirely irrelevant. The compiler follows strict rules. You can only assign an <code>int</code> value to a <code>byte</code> variable if the value is a compile-time constant and within the byte value range. In all other cases, it’s not allowed, regardless of how obvious the correctness would look to a human reader. E.g. when you have <code>void foo(byte b) {}</code>, you can not do <code>foo(10);</code> because it’s not covered by the mentioned rule."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1699597153,"creation_date":1699597153,"answer_id":77458037,"question_id":77457966,"body_markdown":"&gt; _&#39;... Compiler-type checking whether value belong to within range of datatype(byte) Ok, then JVM allocates memory and keep the value? ...&#39;_\r\n\r\nThe value _40_ is an _int literal_, so the compiler is going to evaluate if the declared _data-type_ can contain it.\r\n\r\nIn other-words, the following will not compile.\r\n\r\n```java\r\nbyte b =1234;\r\n```\r\n\r\n&gt; _&#39;... Compiler knows datatype and value constant, so compiler will do comparison and assigned the value to variable “a”?? So jvm dont allocate memory in this case? ...&#39;_\r\n\r\nIt will only allocate the memory for a _byte_, if your provided value can fit within the bounds.\r\n\r\nMeaning, the following will compile.\r\n\r\n```java\r\nbyte a = 10&lt;20?30:1234;\r\n```\r\n\r\n&gt; _&#39;... Compiler does not know values a, b only does type checking datatypes(int)-first line ...\\\r\n&gt;\\\r\n&gt; ... i dont know where i understand correct why number 20(false) cannot be assigned to byte ...&#39;_\r\n\r\nThe interpreter is not going to traverse too deep.\\\r\nI imagine if you&#39;re providing a dynamic value, it&#39;s not going to evaluate anything.\r\n\r\nAlternately, you can declare _a_ and _b_ as _final_, although I&#39;m not sure how practical that is.\r\n\r\n```java\r\nfinal int a =30,b=20;\r\n\r\nbyte c= (a&lt;b)?10:20;\r\n```","title":"Ternary operator in java - not understandin from compiler and jvm perspective","body":"<blockquote>\n<p><em>'... Compiler-type checking whether value belong to within range of datatype(byte) Ok, then JVM allocates memory and keep the value? ...'</em></p>\n</blockquote>\n<p>The value <em>40</em> is an <em>int literal</em>, so the compiler is going to evaluate if the declared <em>data-type</em> can contain it.</p>\n<p>In other-words, the following will not compile.</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte b =1234;\n</code></pre>\n<blockquote>\n<p><em>'... Compiler knows datatype and value constant, so compiler will do comparison and assigned the value to variable “a”?? So jvm dont allocate memory in this case? ...'</em></p>\n</blockquote>\n<p>It will only allocate the memory for a <em>byte</em>, if your provided value can fit within the bounds.</p>\n<p>Meaning, the following will compile.</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte a = 10&lt;20?30:1234;\n</code></pre>\n<blockquote>\n<p><em>'... Compiler does not know values a, b only does type checking datatypes(int)-first line ...<br />\n<br />\n... i dont know where i understand correct why number 20(false) cannot be assigned to byte ...'</em></p>\n</blockquote>\n<p>The interpreter is not going to traverse too deep.<br />\nI imagine if you're providing a dynamic value, it's not going to evaluate anything.</p>\n<p>Alternately, you can declare <em>a</em> and <em>b</em> as <em>final</em>, although I'm not sure how practical that is.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final int a =30,b=20;\n\nbyte c= (a&lt;b)?10:20;\n</code></pre>\n"}],"owner":{"account_id":24110472,"reputation":1,"user_id":18081133,"display_name":"Boris Hartin&#237;k"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1699597153,"creation_date":1699595725,"question_id":77457966,"body_markdown":"Do i understand correctly this\r\n\r\nbyte b =40;\r\n\r\nCompiler-type checking whether value belong to within range of datatype(byte) Ok, then JVM allocates memory and keep the value?\r\n\r\nIf i unerstand correct, my drama is here in ternary operator\r\n\r\nbyte a = 10&lt;20?30:40;\r\n\r\nCompiler knows datatype and value constant, so compiler will do comparison and assigned the value to variable “a”?? So jvm dont allocate memory in this case?\r\n\r\nSecond example\r\n\r\nint a =30,b=20;\r\n\r\nbyte c=(a&lt;b)?10:20;\r\n\r\n\r\n\r\nCompiler does not know values a, b only does type checking datatypes(int)-first line, \r\n\r\nsecond line compiler knows values 10 and 20 but comparison will be done by JVM(jvm knows values?)so jvm comes and do a comparison and promote the number 10 and 20 to int type??, so thhis number cannot be assigned to byte variable?… i dont know where i understand correct why number 20(false) cannot be assigned to byte…\r\n\r\nThank you\r\n\r\nExplain the problem of compiler type checking and jvm in runtime","title":"Ternary operator in java - not understandin from compiler and jvm perspective","body":"<p>Do i understand correctly this</p>\n<p>byte b =40;</p>\n<p>Compiler-type checking whether value belong to within range of datatype(byte) Ok, then JVM allocates memory and keep the value?</p>\n<p>If i unerstand correct, my drama is here in ternary operator</p>\n<p>byte a = 10&lt;20?30:40;</p>\n<p>Compiler knows datatype and value constant, so compiler will do comparison and assigned the value to variable “a”?? So jvm dont allocate memory in this case?</p>\n<p>Second example</p>\n<p>int a =30,b=20;</p>\n<p>byte c=(a&lt;b)?10:20;</p>\n<p>Compiler does not know values a, b only does type checking datatypes(int)-first line,</p>\n<p>second line compiler knows values 10 and 20 but comparison will be done by JVM(jvm knows values?)so jvm comes and do a comparison and promote the number 10 and 20 to int type??, so thhis number cannot be assigned to byte variable?… i dont know where i understand correct why number 20(false) cannot be assigned to byte…</p>\n<p>Thank you</p>\n<p>Explain the problem of compiler type checking and jvm in runtime</p>\n"},{"tags":["java","android"],"owner":{"account_id":28766883,"reputation":1,"user_id":22031589,"display_name":"Petrick Williams"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699596819,"creation_date":1686073969,"question_id":76417228,"body_markdown":"I want to create an android app that will contain a sliding panel from the top of the screen similar to android Quick Settings panel. When I swipe down from the top of the screen, a custom Quick Settings panel layout will be shown. And When I swipe up, the panel will be slide upwards. I want to make the sliding down and sliding up animations same as that of Android Quick Settings panel. I searched for the exact codes in AOSP repository. But the code for this is not in a single place. Rather it&#39;s pretty much scattered in parts there in AOSP. How to achieve this?","title":"How to add android sliding down and sliding up gestures like AOSP QS Panel to my custom quick settings panel?","body":"<p>I want to create an android app that will contain a sliding panel from the top of the screen similar to android Quick Settings panel. When I swipe down from the top of the screen, a custom Quick Settings panel layout will be shown. And When I swipe up, the panel will be slide upwards. I want to make the sliding down and sliding up animations same as that of Android Quick Settings panel. I searched for the exact codes in AOSP repository. But the code for this is not in a single place. Rather it's pretty much scattered in parts there in AOSP. How to achieve this?</p>\n"},{"tags":["java","builder","lombok"],"answers":[{"tags":[],"owner":{"account_id":7297,"reputation":32768,"user_id":12634,"accept_rate":75,"display_name":"Roel Spilker"},"down_vote_count":9,"up_vote_count":228,"is_accepted":true,"score":219,"last_activity_date":1433835757,"creation_date":1433835757,"answer_id":30725879,"question_id":30717640,"body_markdown":"Yes, you can place [@Builder](https://projectlombok.org/features/Builder.html) on a constructor or static (factory) method, containing just the fields you want. \r\n\r\nDisclosure: I am a Lombok developer.","title":"How to exclude property from Lombok builder?","body":"<p>Yes, you can place <a href=\"https://projectlombok.org/features/Builder.html\">@Builder</a> on a constructor or static (factory) method, containing just the fields you want. </p>\n\n<p>Disclosure: I am a Lombok developer.</p>\n"},{"tags":[],"owner":{"account_id":150404,"reputation":42099,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"down_vote_count":7,"up_vote_count":49,"is_accepted":false,"score":42,"last_activity_date":1475852467,"creation_date":1475852467,"answer_id":39920328,"question_id":30717640,"body_markdown":"Alternatively, I found out that marking a field as **final**, **static** or **static final** instructs `@Builder` to ignore this field.\r\n\r\n    @Builder\r\n    public class MyClass {\r\n       private String myField;\r\n\r\n       private final String excludeThisField = &quot;bar&quot;;\r\n    }\r\n\r\n**Lombok 1.16.10**","title":"How to exclude property from Lombok builder?","body":"<p>Alternatively, I found out that marking a field as <strong>final</strong>, <strong>static</strong> or <strong>static final</strong> instructs <code>@Builder</code> to ignore this field.</p>\n\n<pre><code>@Builder\npublic class MyClass {\n   private String myField;\n\n   private final String excludeThisField = \"bar\";\n}\n</code></pre>\n\n<p><strong>Lombok 1.16.10</strong></p>\n"},{"tags":[],"owner":{"account_id":3202576,"reputation":480,"user_id":2704362,"accept_rate":60,"display_name":"Bill H"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1496765874,"creation_date":1496765874,"answer_id":44395110,"question_id":30717640,"body_markdown":"Create the builder in code and add a private setter for your property.\r\n    \r\n    @Builder\r\n    XYZClientWrapper{\r\n        String name;\r\n        String domain;\r\n        XYZClient client;\r\n\r\n        public static class XYZClientWrapperBuilder {\r\n            private XYZClientWrapperBuilder client(XYZClient client) { return this; }\r\n        }\r\n    }","title":"How to exclude property from Lombok builder?","body":"<p>Create the builder in code and add a private setter for your property.</p>\n\n<pre><code>@Builder\nXYZClientWrapper{\n    String name;\n    String domain;\n    XYZClient client;\n\n    public static class XYZClientWrapperBuilder {\n        private XYZClientWrapperBuilder client(XYZClient client) { return this; }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":37645,"reputation":5554,"user_id":107683,"accept_rate":63,"display_name":"Richard Collette"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1514865621,"creation_date":1509430231,"answer_id":47028916,"question_id":30717640,"body_markdown":"I found that I was able to implement a &quot;shell&quot; of the static Builder class, add the method I want to hide with a private access modifier, and it is no longer accessible in the builder.  Likewise I can add custom methods to the builder as well.\r\n\r\n\r\n    package com.something;\r\n    \r\n    import lombok.AccessLevel;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    \r\n    import javax.persistence.AttributeOverride;\r\n    import javax.persistence.AttributeOverrides;\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Embedded;\r\n    import javax.persistence.Entity;\r\n    import java.time.ZonedDateTime;\r\n    \r\n    @Data\r\n    @Entity\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class MyClass{\r\n    \r\n        //The builder will generate a method for this property for us.\r\n        private String anotherProperty;\r\n    \r\n        @Embedded\r\n        @AttributeOverrides({\r\n                @AttributeOverride(name = &quot;localDateTime&quot;, column = @Column(name = &quot;some_date_local_date_time&quot;)),\r\n                @AttributeOverride(name = &quot;zoneId&quot;, column = @Column(name = &quot;some__date_zone_id&quot;))\r\n        })\r\n        @Getter(AccessLevel.PRIVATE)\r\n        @Setter(AccessLevel.PRIVATE)\r\n        private ZonedDateTimeEmbeddable someDateInternal;\r\n    \r\n        public ZonedDateTime getSomeDate() {\r\n            return someDateInternal.toZonedDateTime();\r\n        }\r\n    \r\n        public void setSomeDate(ZonedDateTime someDate) {\r\n            someDateInternal = new ZonedDateTimeEmbeddable(someDate);\r\n        }\r\n    \r\n        public static class MyClassBuilder {\r\n            //Prevent direct access to the internal private field by pre-creating builder method with private access.\r\n            private MyClassBuilder shipmentDateInternal(ZonedDateTimeEmbeddable zonedDateTimeEmbeddable) {\r\n                return this;\r\n            }\r\n    \r\n            //Add a builder method because we don&#39;t have a field for this Type\r\n            public MyClassBuilder someDate(ZonedDateTime someDate) {\r\n                someDateInternal = new ZonedDateTimeEmbeddable(someDate);\r\n                return this;\r\n            }\r\n        }\r\n    \r\n    }","title":"How to exclude property from Lombok builder?","body":"<p>I found that I was able to implement a \"shell\" of the static Builder class, add the method I want to hide with a private access modifier, and it is no longer accessible in the builder.  Likewise I can add custom methods to the builder as well.</p>\n\n<pre><code>package com.something;\n\nimport lombok.AccessLevel;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\nimport javax.persistence.AttributeOverride;\nimport javax.persistence.AttributeOverrides;\nimport javax.persistence.Column;\nimport javax.persistence.Embedded;\nimport javax.persistence.Entity;\nimport java.time.ZonedDateTime;\n\n@Data\n@Entity\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class MyClass{\n\n    //The builder will generate a method for this property for us.\n    private String anotherProperty;\n\n    @Embedded\n    @AttributeOverrides({\n            @AttributeOverride(name = \"localDateTime\", column = @Column(name = \"some_date_local_date_time\")),\n            @AttributeOverride(name = \"zoneId\", column = @Column(name = \"some__date_zone_id\"))\n    })\n    @Getter(AccessLevel.PRIVATE)\n    @Setter(AccessLevel.PRIVATE)\n    private ZonedDateTimeEmbeddable someDateInternal;\n\n    public ZonedDateTime getSomeDate() {\n        return someDateInternal.toZonedDateTime();\n    }\n\n    public void setSomeDate(ZonedDateTime someDate) {\n        someDateInternal = new ZonedDateTimeEmbeddable(someDate);\n    }\n\n    public static class MyClassBuilder {\n        //Prevent direct access to the internal private field by pre-creating builder method with private access.\n        private MyClassBuilder shipmentDateInternal(ZonedDateTimeEmbeddable zonedDateTimeEmbeddable) {\n            return this;\n        }\n\n        //Add a builder method because we don't have a field for this Type\n        public MyClassBuilder someDate(ZonedDateTime someDate) {\n            someDateInternal = new ZonedDateTimeEmbeddable(someDate);\n            return this;\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4569567,"reputation":1104,"user_id":3709620,"accept_rate":79,"display_name":"SexyNerd"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1697651059,"creation_date":1544139912,"answer_id":53661343,"question_id":30717640,"body_markdown":"Here is my preferred solution. With that, you can create your field `client` at the end and have it depending on other fields that previously set by the builder.\r\n\r\n\r\n    XYZClientWrapper{\r\n        private final String name;\r\n        private final String domain;\r\n        private final XYZClient client;\r\n        \r\n        @Builder\r\n        public XYZClientWrapper(String name, String domain) {\r\n            this.name = name;\r\n            this.domain = domain;\r\n            this.client = calculateClient();\r\n        }\r\n    }","title":"How to exclude property from Lombok builder?","body":"<p>Here is my preferred solution. With that, you can create your field <code>client</code> at the end and have it depending on other fields that previously set by the builder.</p>\n<pre><code>XYZClientWrapper{\n    private final String name;\n    private final String domain;\n    private final XYZClient client;\n    \n    @Builder\n    public XYZClientWrapper(String name, String domain) {\n        this.name = name;\n        this.domain = domain;\n        this.client = calculateClient();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1573445,"reputation":4841,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1615568581,"creation_date":1547649058,"answer_id":54219283,"question_id":30717640,"body_markdown":"For factory static method example\r\n\r\n    class Car {\r\n       private String name;\r\n       private String model;\r\n    \r\n    \r\n       private Engine engine; // we want to ignore setting this\r\n       \r\n       @Builder\r\n       private static Car of(String name, String model){\r\n          Car car=new Car();\r\n          car.name = name;\r\n          car.model = model;\r\n          constructEngine(car); // some static private method to construct engine internally\r\n          return car;  \r\n       }\r\n\r\n       private static void constructEngine(Car car) {\r\n           // car.engine = blabla...\r\n           // construct engine internally\r\n       }\r\n    }\r\n\r\nthen you can use as follows:\r\n\r\n    \r\n    Car toyotaCorollaCar=Car.builder().name(&quot;Toyota&quot;).model(&quot;Corolla&quot;).build();\r\n    // You can see now that Car.builder().engine() is not available\r\n\r\n\r\n**Notice** the static method ``of`` will be called whenever build() is called, so doing something like `Car.builder().name(&quot;Toyota&quot;)` won&#39;t actually set the value `&quot;Toyota&quot;` into `name` unless `build()` is called and then assigning logic within the constructor static method `of` is executed.\r\n\r\nAlso, **Notice** that the `of` method is privately accessed so that `build` method is the only method visible to the callers","title":"How to exclude property from Lombok builder?","body":"<p>For factory static method example</p>\n<pre><code>class Car {\n   private String name;\n   private String model;\n\n\n   private Engine engine; // we want to ignore setting this\n   \n   @Builder\n   private static Car of(String name, String model){\n      Car car=new Car();\n      car.name = name;\n      car.model = model;\n      constructEngine(car); // some static private method to construct engine internally\n      return car;  \n   }\n\n   private static void constructEngine(Car car) {\n       // car.engine = blabla...\n       // construct engine internally\n   }\n}\n</code></pre>\n<p>then you can use as follows:</p>\n<pre><code>Car toyotaCorollaCar=Car.builder().name(&quot;Toyota&quot;).model(&quot;Corolla&quot;).build();\n// You can see now that Car.builder().engine() is not available\n</code></pre>\n<p><strong>Notice</strong> the static method <code>of</code> will be called whenever build() is called, so doing something like <code>Car.builder().name(&quot;Toyota&quot;)</code> won't actually set the value <code>&quot;Toyota&quot;</code> into <code>name</code> unless <code>build()</code> is called and then assigning logic within the constructor static method <code>of</code> is executed.</p>\n<p>Also, <strong>Notice</strong> that the <code>of</code> method is privately accessed so that <code>build</code> method is the only method visible to the callers</p>\n"},{"tags":[],"owner":{"account_id":7185024,"reputation":191,"user_id":5487331,"display_name":"kattoha"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1566397260,"creation_date":1566397260,"answer_id":57593808,"question_id":30717640,"body_markdown":"I found one more solution\r\nYou can wrap your field into **initiated final** wrapper or proxy. \r\nThe easiest way to wrap it into AtomicReference.\r\n\r\n    @Builder\r\n    public class Example {\r\n        private String field1;\r\n        private String field2;\r\n        private final AtomicReference&lt;String&gt; excluded = new AtomicReference&lt;&gt;(null);\r\n    }\r\nYou can interact with it inside by get and set methods but it won&#39;t be appeared in builder.\r\n\r\n    excluded.set(&quot;Some value&quot;);\r\n    excluded.get();","title":"How to exclude property from Lombok builder?","body":"<p>I found one more solution\nYou can wrap your field into <strong>initiated final</strong> wrapper or proxy. \nThe easiest way to wrap it into AtomicReference.</p>\n\n<pre><code>@Builder\npublic class Example {\n    private String field1;\n    private String field2;\n    private final AtomicReference&lt;String&gt; excluded = new AtomicReference&lt;&gt;(null);\n}\n</code></pre>\n\n<p>You can interact with it inside by get and set methods but it won't be appeared in builder.</p>\n\n<pre><code>excluded.set(\"Some value\");\nexcluded.get();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26280,"reputation":91,"user_id":68232,"display_name":"Dogan Ersoz"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1586694466,"creation_date":1586662916,"answer_id":61166576,"question_id":30717640,"body_markdown":"Adding a so called &#39;partial builder&#39; to the class with Lombok ```@Builder``` can help. The trick is to add a inner partial builder class like this:\r\n\r\n```java\r\n@Getter\r\n@Builder\r\nclass Human {\r\n    private final String name;\r\n    private final String surname;\r\n    private final Gender gender;\r\n    private final String prefix; // Should be hidden, depends on gender\r\n    \r\n    // Partial builder to manage dependent fields, and hidden fields\r\n    public static class HumanBuilder {\r\n        \r\n        public HumanBuilder gender(final Gender gender) {\r\n            this.gender = gender;\r\n            if (Gender.MALE == gender) {\r\n                this.prefix = &quot;Mr.&quot;;\r\n            } else if (Gender.FEMALE == gender) {\r\n                this.prefix = &quot;Ms.&quot;;\r\n            } else {\r\n                this.prefix = &quot;&quot;;\r\n            }\r\n            return this;\r\n        }\r\n        \r\n        // This method hides the field from external set \r\n        private HumanBuilder prefix(final String prefix) {\r\n            return this;\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nPS: @Builder allows the generated builder class name to be changed. The example above assumed the default builder class name is used.\r\n","title":"How to exclude property from Lombok builder?","body":"<p>Adding a so called 'partial builder' to the class with Lombok <code>@Builder</code> can help. The trick is to add a inner partial builder class like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Builder\nclass Human {\n    private final String name;\n    private final String surname;\n    private final Gender gender;\n    private final String prefix; // Should be hidden, depends on gender\n\n    // Partial builder to manage dependent fields, and hidden fields\n    public static class HumanBuilder {\n\n        public HumanBuilder gender(final Gender gender) {\n            this.gender = gender;\n            if (Gender.MALE == gender) {\n                this.prefix = \"Mr.\";\n            } else if (Gender.FEMALE == gender) {\n                this.prefix = \"Ms.\";\n            } else {\n                this.prefix = \"\";\n            }\n            return this;\n        }\n\n        // This method hides the field from external set \n        private HumanBuilder prefix(final String prefix) {\n            return this;\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>PS: @Builder allows the generated builder class name to be changed. The example above assumed the default builder class name is used.</p>\n"},{"tags":[],"owner":{"account_id":1565848,"reputation":2174,"user_id":1454678,"accept_rate":91,"display_name":"MEE"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1616597376,"creation_date":1604417912,"answer_id":64665954,"question_id":30717640,"body_markdown":"One approach I have used before was to group instance fields into Configuration fields and Session fields. Configuration fields go as class instances and are visible to the Builder, while Session fields go into a *nested* `private static class` and are accessed via a concrete `final` instance field (which the Builder will ignore by default).\r\n\r\n\r\nSomething like this:\r\n\r\n```\r\n@Builder\r\nclass XYZClientWrapper{\r\n    private String name;\r\n    private String domain;\r\n \r\n    private static class Session {\r\n        XYZClient client;\r\n    }\r\n\r\n    private final Session session = new Session();\r\n\r\n    private void initSession() {\r\n        session.client = ...;\r\n    }\r\n \r\n    public void foo() {\r\n        System.out.println(&quot;name: &quot; + name);\r\n        System.out.println(&quot;domain: &quot; + domain;\r\n        System.out.println(&quot;client: &quot; + session.client);\r\n    }\r\n}\r\n\r\n```","title":"How to exclude property from Lombok builder?","body":"<p>One approach I have used before was to group instance fields into Configuration fields and Session fields. Configuration fields go as class instances and are visible to the Builder, while Session fields go into a <em>nested</em> <code>private static class</code> and are accessed via a concrete <code>final</code> instance field (which the Builder will ignore by default).</p>\n<p>Something like this:</p>\n<pre><code>@Builder\nclass XYZClientWrapper{\n    private String name;\n    private String domain;\n \n    private static class Session {\n        XYZClient client;\n    }\n\n    private final Session session = new Session();\n\n    private void initSession() {\n        session.client = ...;\n    }\n \n    public void foo() {\n        System.out.println(&quot;name: &quot; + name);\n        System.out.println(&quot;domain: &quot; + domain;\n        System.out.println(&quot;client: &quot; + session.client);\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3210182,"reputation":535,"user_id":2710335,"display_name":"Northnroro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610970164,"creation_date":1610967428,"answer_id":65773183,"question_id":30717640,"body_markdown":"I have another approach using `@Delegate` and `Inner Class`, which supports &quot;computed values&quot; for the excluded fields.\r\n\r\nFirst, we move the fields to be excluded into an `Inner Class` to avoid Lombok from including them in the Builder.\r\n\r\nThen, we use `@Delegate` to expose Getters/Setters of the builder-excluded fields.\r\n\r\n**Example:**\r\n\r\n    @Builder\r\n    @Getter @Setter @ToString\r\n    class Person {\r\n\r\n        private String name;\r\n        private int value;\r\n        /* ... More builder-included fields here */\r\n\r\n        @Getter @Setter @ToString\r\n        private class BuilderIgnored {\r\n\r\n            private String position; // Not included in the Builder, and remain `null` until p.setPosition(...)\r\n            private String nickname; // Lazy initialized as `name+value`, but we can use setter to set a new value\r\n            /* ... More ignored fields here! ... */\r\n\r\n            public String getNickname(){ // Computed value for `nickname`\r\n                if(nickname == null){\r\n                    nickname = name+value;\r\n                }\r\n                return nickname;\r\n            }\r\n            /* ... More computed fields&#39; getters here! ... */\r\n\r\n        }\r\n        @Delegate @Getter(AccessLevel.NONE) // Delegate Lombok Getters/Setters and custom Getters\r\n        private final BuilderIgnored ignored = new BuilderIgnored();\r\n\r\n    }\r\nIt will be transparent to outside of this `Person` class that `position` and `nickname` are actually inner class&#39; fields.\r\n\r\n    Person p = Person.builder().name(&quot;Test&quot;).value(123).build();\r\n    System.out.println(p); // Person(name=Test, value=123, ignored=Person.BuilderIgnored(position=null, nickname=Test123))\r\n    p.setNickname(&quot;Hello World&quot;);\r\n    p.setPosition(&quot;Manager&quot;);\r\n    System.out.println(p); // Person(name=Test, value=123, ignored=Person.BuilderIgnored(position=Manager, nickname=Hello World))\r\n\r\n----------\r\n\r\n**Pros:**\r\n- Do not force the excluded fields to be `final`\r\n- Support computed values for the excluded fields\r\n- Allow computed fields to refer to any fields set by the builder (In other words, allow the inner class to be non-static class)\r\n- Do not need to repeat the list of all fields (Eg. listing all fields except the excluded ones in a constructor)\r\n- Do not override Lombok library&#39;s `@Builder` (Eg. creating `MyBuilder extends FooBuilder`)\r\n\r\n**Cons:**\r\n- The excluded fields are actually fields of `Inner Class`; however, using `private` identifier with proper Getters/Setters you can mimic as if they were real fields\r\n- Therefore, this approach limits you to access the excluded fields using Getters/Setters\r\n- The computed values are lazy initialized when Getters are invoked, not when `.build()`.","title":"How to exclude property from Lombok builder?","body":"<p>I have another approach using <code>@Delegate</code> and <code>Inner Class</code>, which supports &quot;computed values&quot; for the excluded fields.</p>\n<p>First, we move the fields to be excluded into an <code>Inner Class</code> to avoid Lombok from including them in the Builder.</p>\n<p>Then, we use <code>@Delegate</code> to expose Getters/Setters of the builder-excluded fields.</p>\n<p><strong>Example:</strong></p>\n<pre><code>@Builder\n@Getter @Setter @ToString\nclass Person {\n\n    private String name;\n    private int value;\n    /* ... More builder-included fields here */\n\n    @Getter @Setter @ToString\n    private class BuilderIgnored {\n\n        private String position; // Not included in the Builder, and remain `null` until p.setPosition(...)\n        private String nickname; // Lazy initialized as `name+value`, but we can use setter to set a new value\n        /* ... More ignored fields here! ... */\n\n        public String getNickname(){ // Computed value for `nickname`\n            if(nickname == null){\n                nickname = name+value;\n            }\n            return nickname;\n        }\n        /* ... More computed fields' getters here! ... */\n\n    }\n    @Delegate @Getter(AccessLevel.NONE) // Delegate Lombok Getters/Setters and custom Getters\n    private final BuilderIgnored ignored = new BuilderIgnored();\n\n}\n</code></pre>\n<p>It will be transparent to outside of this <code>Person</code> class that <code>position</code> and <code>nickname</code> are actually inner class' fields.</p>\n<pre><code>Person p = Person.builder().name(&quot;Test&quot;).value(123).build();\nSystem.out.println(p); // Person(name=Test, value=123, ignored=Person.BuilderIgnored(position=null, nickname=Test123))\np.setNickname(&quot;Hello World&quot;);\np.setPosition(&quot;Manager&quot;);\nSystem.out.println(p); // Person(name=Test, value=123, ignored=Person.BuilderIgnored(position=Manager, nickname=Hello World))\n</code></pre>\n<hr />\n<p><strong>Pros:</strong></p>\n<ul>\n<li>Do not force the excluded fields to be <code>final</code></li>\n<li>Support computed values for the excluded fields</li>\n<li>Allow computed fields to refer to any fields set by the builder (In other words, allow the inner class to be non-static class)</li>\n<li>Do not need to repeat the list of all fields (Eg. listing all fields except the excluded ones in a constructor)</li>\n<li>Do not override Lombok library's <code>@Builder</code> (Eg. creating <code>MyBuilder extends FooBuilder</code>)</li>\n</ul>\n<p><strong>Cons:</strong></p>\n<ul>\n<li>The excluded fields are actually fields of <code>Inner Class</code>; however, using <code>private</code> identifier with proper Getters/Setters you can mimic as if they were real fields</li>\n<li>Therefore, this approach limits you to access the excluded fields using Getters/Setters</li>\n<li>The computed values are lazy initialized when Getters are invoked, not when <code>.build()</code>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":14319177,"reputation":1,"user_id":10343099,"display_name":"Gogogo"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1632904517,"creation_date":1632899081,"answer_id":69371810,"question_id":30717640,"body_markdown":"To exclude field from builder, try using `@Builder.Default`","title":"How to exclude property from Lombok builder?","body":"<p>To exclude field from builder, try using <code>@Builder.Default</code></p>\n"},{"tags":[],"owner":{"account_id":5332585,"reputation":836,"user_id":4252764,"accept_rate":50,"display_name":"Vuk Djapic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645202834,"creation_date":1645202834,"answer_id":71177074,"question_id":30717640,"body_markdown":"One method I like and use is this.\r\nKeep required parameters in constructor, and set optional through builder. Works if number of required is not very big.\r\n\r\n    class A {\r\n        private int required1;\r\n        private int required2;\r\n        private int optional1;\r\n        private int optional2;\r\n\r\n        public A(int required1, int required2) {\r\n            this.required1 = required1;\r\n            this.required2 = required2;\r\n        }\r\n\r\n        @Builder(toBuilder = true)\r\n        public A setOptionals(int optional1, int optional2) {\r\n            this.optional1 = optional1;\r\n            this.optional2 = optional2;\r\n            return this;\r\n        }\r\n    }\r\n\r\nAnd then construct it with\r\n\r\n    A a = new A(1, 2).builder().optional1(3).optional2(4).build();\r\n\r\nNice thing with this approach is that optionals can also have default value.","title":"How to exclude property from Lombok builder?","body":"<p>One method I like and use is this.\nKeep required parameters in constructor, and set optional through builder. Works if number of required is not very big.</p>\n<pre><code>class A {\n    private int required1;\n    private int required2;\n    private int optional1;\n    private int optional2;\n\n    public A(int required1, int required2) {\n        this.required1 = required1;\n        this.required2 = required2;\n    }\n\n    @Builder(toBuilder = true)\n    public A setOptionals(int optional1, int optional2) {\n        this.optional1 = optional1;\n        this.optional2 = optional2;\n        return this;\n    }\n}\n</code></pre>\n<p>And then construct it with</p>\n<pre><code>A a = new A(1, 2).builder().optional1(3).optional2(4).build();\n</code></pre>\n<p>Nice thing with this approach is that optionals can also have default value.</p>\n"},{"tags":[],"owner":{"account_id":1788876,"reputation":23,"user_id":1629706,"display_name":"Sōōng"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699596311,"creation_date":1699594528,"answer_id":77457896,"question_id":30717640,"body_markdown":"Not sure if this thread is still valid, I just found a solution from [a feature request to Lombok][1], in case somebody needs it, as Lombok team is most likely not going to add a @Builder.Ignore to its code base.\r\n\r\n    @Builder\r\n    public class User{\r\n      @ToString.Exclude\r\n      private String passwordHash;\r\n      // ... rest of the properties\r\n\r\n      public static class UserBuilder {\r\n        private UserBuilder passwordHash(final String passwordHash){\r\n          return this;\r\n        }\r\n      }\r\n    }\r\n\r\nIt works like a charm\r\n\r\n  [1]: https://github.com/projectlombok/lombok/issues/2307#issuecomment-1119511303","title":"How to exclude property from Lombok builder?","body":"<p>Not sure if this thread is still valid, I just found a solution from <a href=\"https://github.com/projectlombok/lombok/issues/2307#issuecomment-1119511303\" rel=\"nofollow noreferrer\">a feature request to Lombok</a>, in case somebody needs it, as Lombok team is most likely not going to add a @Builder.Ignore to its code base.</p>\n<pre><code>@Builder\npublic class User{\n  @ToString.Exclude\n  private String passwordHash;\n  // ... rest of the properties\n\n  public static class UserBuilder {\n    private UserBuilder passwordHash(final String passwordHash){\n      return this;\n    }\n  }\n}\n</code></pre>\n<p>It works like a charm</p>\n"}],"owner":{"account_id":189393,"reputation":23182,"user_id":428705,"accept_rate":76,"display_name":"Vivek Goel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103221,"favorite_count":0,"down_vote_count":0,"up_vote_count":124,"accepted_answer_id":30725879,"answer_count":13,"score":124,"last_activity_date":1699596311,"creation_date":1433792321,"question_id":30717640,"body_markdown":"I have a class called as &quot;XYZClientWrapper&quot; , which have following structure:\r\n\r\n    @Builder\r\n    XYZClientWrapper{\r\n        String name;\r\n        String domain;\r\n        XYZClient client;\r\n    }\r\n\r\nWhat I want no build function generated for property `XYZClient client` \r\n\r\nDoes Lombok supports such use case?\r\n","title":"How to exclude property from Lombok builder?","body":"<p>I have a class called as \"XYZClientWrapper\" , which have following structure:</p>\n\n<pre><code>@Builder\nXYZClientWrapper{\n    String name;\n    String domain;\n    XYZClient client;\n}\n</code></pre>\n\n<p>What I want no build function generated for property <code>XYZClient client</code> </p>\n\n<p>Does Lombok supports such use case?</p>\n"},{"tags":["javascript","java","reactjs","react-native","redux"],"comments":[{"owner":{"account_id":5697872,"reputation":697,"user_id":4503858,"display_name":"Edwardth"},"score":1,"creation_date":1544261654,"post_id":53681178,"comment_id":94219619,"body_markdown":"The JAVA_HOME variable is pointing to the wrong directory it should be `/usr/local/java/jdk1.8.0_121`","body":"The JAVA_HOME variable is pointing to the wrong directory it should be <code>&#47;usr&#47;local&#47;java&#47;jdk1.8.0_121</code>"},{"owner":{"account_id":6637276,"reputation":2565,"user_id":9141308,"accept_rate":8,"display_name":"ganesh kaspate"},"score":0,"creation_date":1544261830,"post_id":53681178,"comment_id":94219636,"body_markdown":"what about the  JS server not recognized, continuing with build... is that okay ?","body":"what about the  JS server not recognized, continuing with build... is that okay ?"}],"answers":[{"tags":[],"owner":{"account_id":14889112,"reputation":161,"user_id":10761013,"display_name":"Dennis Griesert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544261837,"creation_date":1544261837,"answer_id":53681252,"question_id":53681178,"body_markdown":"I think you need to set your `JAVA_HOME` to the actual JDK:\r\n\r\n    export JAVA_HOME=&#39;/usr/local/java/jdk1.8.0_121&#39;","title":"React native JAVA_HOME is set to an invalid directory","body":"<p>I think you need to set your <code>JAVA_HOME</code> to the actual JDK:</p>\n\n<pre><code>export JAVA_HOME='/usr/local/java/jdk1.8.0_121'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19609548,"reputation":1,"user_id":14352345,"display_name":"Vajra "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638078185,"creation_date":1638078185,"answer_id":70140962,"question_id":53681178,"body_markdown":"For windows user that is downgrading from JDK 17 to JDK 8, you need to ensure a few things:\r\n\r\n1. Set the java home and path correctly.\r\n2. Remove JDK 17 folder from program files path.","title":"React native JAVA_HOME is set to an invalid directory","body":"<p>For windows user that is downgrading from JDK 17 to JDK 8, you need to ensure a few things:</p>\n<ol>\n<li>Set the java home and path correctly.</li>\n<li>Remove JDK 17 folder from program files path.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":312194,"reputation":75,"user_id":626139,"display_name":"mtz1406"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640776105,"creation_date":1640776105,"answer_id":70518564,"question_id":53681178,"body_markdown":"You just need to set the JAVA_HOME in your Environemnt.\r\nFor Linux users. check these solutions:\r\nhttps://stackoverflow.com/questions/24641536/how-to-set-java-home-in-linux-for-all-users","title":"React native JAVA_HOME is set to an invalid directory","body":"<p>You just need to set the JAVA_HOME in your Environemnt.\nFor Linux users. check these solutions:\n<a href=\"https://stackoverflow.com/questions/24641536/how-to-set-java-home-in-linux-for-all-users\">How to set JAVA_HOME in Linux for all users</a></p>\n"},{"tags":[],"owner":{"account_id":29241571,"reputation":11,"user_id":22402968,"display_name":"rahul vyas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696923832,"creation_date":1696923832,"answer_id":77263803,"question_id":53681178,"body_markdown":"**Set the java home in MacOs Monterey**\r\n 1 Set up JAVA_HOME in environment variable \r\n1.1 Open your shell profile file for editing using a text editor like nano or vim. You can use the nano editor as an example:\r\n**nano ~/.zshrc**   # For Zsh. // Run that command in your Zsh terminal\r\n\r\n2 Add the following line to set the JAVA_HOME variable to the correct Java installation path. Make sure to replace the path with the one you mentioned in your output:\r\nexport JAVA_HOME=/Library/Java/JavaVirtualMachines/Your JDK Version/Contents/Home.\r\n\r\n3 Save the file and exit the text editor. In nano, you can do this by pressing Ctrl + O to write changes, then Enter to confirm the file name, and finally Ctrl + X to exit.\r\n4 Source the profile file to apply the changes to your current terminal session. &gt;&gt;&gt; **source ~/.zshrc**   # For Zsh   //Run that command in your  terminal\r\n5 Verify that the JAVA_HOME variable has been set correctly by running\r\n  **echo $JAVA_HOME**.  //Run that command in your  terminal\r\n\r\n6 Finally, try running your React Native project again:\r\n   **npx react-native run-android**\r\n\r\n**\r\n\r\n&gt; This should resolve the &quot;JAVA_HOME is set to an invalid directory&quot;\r\n&gt; error, and React Native should be able to use the correct Java\r\n&gt; installation for building your Android project.\r\n\r\n**\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"React native JAVA_HOME is set to an invalid directory","body":"<p><strong>Set the java home in MacOs Monterey</strong>\n1 Set up JAVA_HOME in environment variable\n1.1 Open your shell profile file for editing using a text editor like nano or vim. You can use the nano editor as an example:\n<strong>nano ~/.zshrc</strong>   # For Zsh. // Run that command in your Zsh terminal</p>\n<p>2 Add the following line to set the JAVA_HOME variable to the correct Java installation path. Make sure to replace the path with the one you mentioned in your output:\nexport JAVA_HOME=/Library/Java/JavaVirtualMachines/Your JDK Version/Contents/Home.</p>\n<p>3 Save the file and exit the text editor. In nano, you can do this by pressing Ctrl + O to write changes, then Enter to confirm the file name, and finally Ctrl + X to exit.\n4 Source the profile file to apply the changes to your current terminal session. &gt;&gt;&gt; <strong>source ~/.zshrc</strong>   # For Zsh   //Run that command in your  terminal\n5 Verify that the JAVA_HOME variable has been set correctly by running\n<strong>echo $JAVA_HOME</strong>.  //Run that command in your  terminal</p>\n<p>6 Finally, try running your React Native project again:\n<strong>npx react-native run-android</strong></p>\n<p>**</p>\n<blockquote>\n<p>This should resolve the &quot;JAVA_HOME is set to an invalid directory&quot;\nerror, and React Native should be able to use the correct Java\ninstallation for building your Android project.</p>\n</blockquote>\n<p>**</p>\n"}],"owner":{"account_id":6637276,"reputation":2565,"user_id":9141308,"accept_rate":8,"display_name":"ganesh kaspate"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11787,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1699596019,"creation_date":1544261104,"question_id":53681178,"body_markdown":"I am new to the `react native.` I am using a `linux machine`. I am trying to run an application.\r\n\r\nNow, Here what I have done ,\r\n\r\nI already have java installed in my machine .So, that time I have added,\r\n\r\nin my `profile` \r\n\r\nI have following env variables .\r\n\r\n    export JAVA_HOME=&#39;/usr/local/java&#39;\r\n    export PATH=$PATH:$HOME/bin:$JAVA_HOME/jdk1.8.0_121/bin\r\n\r\n\r\nNow, after that I have installed the `android studio` in my one of folders,\r\n\r\nwhich is `/home/softwares/android-studio`.\r\n\r\nThat time I have added the env variables in the profile file.which are\r\n\r\n    export ANDROID_HOME=$HOME/Android/Sdk\r\n    export PATH=$PATH:$ANDROID_HOME/emulator\r\n    export PATH=$PATH:$ANDROID_HOME/tools\r\n    export PATH=$PATH:$ANDROID_HOME/tools/bin\r\n    export PATH=$PATH:$ANDROID_HOME/platform-tools\r\n\r\nNow, my project folder is like ,\r\n\r\n    /home/projectWork/native/app\r\nAdded the script in the package.json file , but there \r\n\r\nit is giving me this error .\r\n\r\n    JS server not recognized, continuing with build...\r\n    Building and installing the app on the device (cd android &amp;&amp; ./gradlew installDebug)...\r\n    \r\n    ERROR: JAVA_HOME is set to an invalid directory: /usr/local/java\r\n    \r\n    Please set the JAVA_HOME variable in your environment to match the\r\n    location of your Java installation.\r\n\r\nNow, I am not getting a way to resolve this issue . Can any one help me with this ?","title":"React native JAVA_HOME is set to an invalid directory","body":"<p>I am new to the <code>react native.</code> I am using a <code>linux machine</code>. I am trying to run an application.</p>\n\n<p>Now, Here what I have done ,</p>\n\n<p>I already have java installed in my machine .So, that time I have added,</p>\n\n<p>in my <code>profile</code> </p>\n\n<p>I have following env variables .</p>\n\n<pre><code>export JAVA_HOME='/usr/local/java'\nexport PATH=$PATH:$HOME/bin:$JAVA_HOME/jdk1.8.0_121/bin\n</code></pre>\n\n<p>Now, after that I have installed the <code>android studio</code> in my one of folders,</p>\n\n<p>which is <code>/home/softwares/android-studio</code>.</p>\n\n<p>That time I have added the env variables in the profile file.which are</p>\n\n<pre><code>export ANDROID_HOME=$HOME/Android/Sdk\nexport PATH=$PATH:$ANDROID_HOME/emulator\nexport PATH=$PATH:$ANDROID_HOME/tools\nexport PATH=$PATH:$ANDROID_HOME/tools/bin\nexport PATH=$PATH:$ANDROID_HOME/platform-tools\n</code></pre>\n\n<p>Now, my project folder is like ,</p>\n\n<pre><code>/home/projectWork/native/app\n</code></pre>\n\n<p>Added the script in the package.json file , but there </p>\n\n<p>it is giving me this error .</p>\n\n<pre><code>JS server not recognized, continuing with build...\nBuilding and installing the app on the device (cd android &amp;&amp; ./gradlew installDebug)...\n\nERROR: JAVA_HOME is set to an invalid directory: /usr/local/java\n\nPlease set the JAVA_HOME variable in your environment to match the\nlocation of your Java installation.\n</code></pre>\n\n<p>Now, I am not getting a way to resolve this issue . Can any one help me with this ?</p>\n"},{"tags":["java","json","http-status-code-415"],"comments":[{"owner":{"account_id":3534754,"reputation":38579,"user_id":2953344,"accept_rate":75,"display_name":"Sabuj Hassan"},"score":0,"creation_date":1395426130,"post_id":22566433,"comment_id":34348755,"body_markdown":"Please update your question with the value of `requestJson.toString()`","body":"Please update your question with the value of <code>requestJson.toString()</code>"},{"owner":{"account_id":4204503,"reputation":3511,"user_id":3443794,"display_name":"user3443794"},"score":1,"creation_date":1395426652,"post_id":22566433,"comment_id":34349086,"body_markdown":"Value of requestJson.toString is :\n\n{&quot;type&quot;:&quot;arl&quot;,&quot;action&quot;:&quot;remove&quot;,&quot;domain&quot;:&quot;staging&quot;,&quot;objects&quot;:&quot;http://www.abc.com&quot;}","body":"Value of requestJson.toString is :  {&quot;type&quot;:&quot;arl&quot;,&quot;action&quot;:&quot;remove&quot;,&quot;domain&quot;:&quot;staging&quot;,&quot;objects&quot;&zwnj;&#8203;:&quot;<a href=\"http://www.abc.com\" rel=\"nofollow noreferrer\">abc.com</a>&quot;}"},{"owner":{"account_id":217796,"reputation":4839,"user_id":473775,"accept_rate":83,"display_name":"joscarsson"},"score":0,"creation_date":1395429502,"post_id":22566433,"comment_id":34350808,"body_markdown":"Have you written the server part? If you do the same request with Postman (Chrome extensions, Google it), does it work? Perhaps the server does not accept the JSON content type for some reason?","body":"Have you written the server part? If you do the same request with Postman (Chrome extensions, Google it), does it work? Perhaps the server does not accept the JSON content type for some reason?"},{"owner":{"account_id":4204503,"reputation":3511,"user_id":3443794,"display_name":"user3443794"},"score":0,"creation_date":1395429815,"post_id":22566433,"comment_id":34350981,"body_markdown":"Yes I tested that using soapUI. I sent the exact same request including json and got successful response from the server.","body":"Yes I tested that using soapUI. I sent the exact same request including json and got successful response from the server."},{"owner":{"account_id":11914818,"reputation":476,"user_id":8719007,"display_name":"Serge Kishiko"},"score":0,"creation_date":1531735919,"post_id":22566433,"comment_id":89690873,"body_markdown":"@joscarsson, since 14 Mar 2017, Postman chrome extension is deprecated. They moved to the native app. Here is their blog post: [http://blog.getpostman.com/2017/03/14/going-native/](http://blog.getpostman.com/2017/03/14/going-native/)","body":"@joscarsson, since 14 Mar 2017, Postman chrome extension is deprecated. They moved to the native app. Here is their blog post: <a href=\"http://blog.getpostman.com/2017/03/14/going-native/\" rel=\"nofollow noreferrer\">http://blog.getpostman.com/2017/03/14/going-native/</a>"}],"answers":[{"tags":[],"owner":{"account_id":4204503,"reputation":3511,"user_id":3443794,"display_name":"user3443794"},"down_vote_count":0,"up_vote_count":129,"is_accepted":true,"score":129,"last_activity_date":1699595877,"creation_date":1395774154,"answer_id":22643964,"question_id":22566433,"body_markdown":"Not sure about the reason, but removing `charset=utf8` from  `con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; charset=utf8&quot;)` resolved the issue.  ","title":"Http 415 Unsupported Media type error with JSON","body":"<p>Not sure about the reason, but removing <code>charset=utf8</code> from  <code>con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; charset=utf8&quot;)</code> resolved the issue.</p>\n"},{"tags":[],"owner":{"account_id":2475134,"reputation":4546,"user_id":2155922,"accept_rate":35,"display_name":"Rahul Rastogi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460624602,"creation_date":1460624602,"answer_id":36618362,"question_id":22566433,"body_markdown":"I was sending &quot;delete&quot; rest request and it failed with 415. I saw what content-type my server uses to hit the api. In my case, It was &quot;application/json&quot; instead of &quot;application/json; charset=utf8&quot;.\r\n\r\nSo ask from your api developer And in the meantime try sending request with content-type= &quot;application/json&quot; only.","title":"Http 415 Unsupported Media type error with JSON","body":"<p>I was sending \"delete\" rest request and it failed with 415. I saw what content-type my server uses to hit the api. In my case, It was \"application/json\" instead of \"application/json; charset=utf8\".</p>\n\n<p>So ask from your api developer And in the meantime try sending request with content-type= \"application/json\" only.</p>\n"},{"tags":[],"owner":{"account_id":8460797,"reputation":185,"user_id":6346621,"display_name":"Dhruv"},"down_vote_count":3,"up_vote_count":19,"is_accepted":false,"score":16,"last_activity_date":1481143697,"creation_date":1463499252,"answer_id":37280585,"question_id":22566433,"body_markdown":"This is because `charset=utf8` should be without a space after `application/json`. That will work fine. Use it like `application/json;charset=utf-8`","title":"Http 415 Unsupported Media type error with JSON","body":"<p>This is because <code>charset=utf8</code> should be without a space after <code>application/json</code>. That will work fine. Use it like <code>application/json;charset=utf-8</code></p>\n"},{"tags":[],"owner":{"account_id":4041030,"reputation":7079,"user_id":3323883,"display_name":"karthik"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1473785352,"creation_date":1473785352,"answer_id":39475198,"question_id":22566433,"body_markdown":"If you are making jquery ajax request, dont forget to add \r\n   \r\n    contentType:&#39;application/json&#39;","title":"Http 415 Unsupported Media type error with JSON","body":"<p>If you are making jquery ajax request, dont forget to add </p>\n\n<pre><code>contentType:'application/json'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3782951,"reputation":3298,"user_id":3141849,"accept_rate":70,"display_name":"Parth Solanki"},"down_vote_count":0,"up_vote_count":111,"is_accepted":false,"score":111,"last_activity_date":1594206786,"creation_date":1473921943,"answer_id":39504606,"question_id":22566433,"body_markdown":"Add `Content-Type`: `application/json` and `Accept`: `application/json`\r\n","title":"Http 415 Unsupported Media type error with JSON","body":"<p>Add <code>Content-Type</code>: <code>application/json</code> and <code>Accept</code>: <code>application/json</code></p>\n"},{"tags":[],"owner":{"account_id":1232284,"reputation":901,"user_id":1196592,"accept_rate":29,"display_name":"spajdo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484259133,"creation_date":1484259133,"answer_id":41623926,"question_id":22566433,"body_markdown":"I had the same issue. My problem was complicated object for serialization. One attribute of my object was `Map&lt;Object1, List&lt;Object2&gt;&gt;`. \r\nI changed this attribute like `List&lt;Object3&gt;` where `Object3` contains `Object1` and `Object2` and everything works fine.","title":"Http 415 Unsupported Media type error with JSON","body":"<p>I had the same issue. My problem was complicated object for serialization. One attribute of my object was <code>Map&lt;Object1, List&lt;Object2&gt;&gt;</code>. \nI changed this attribute like <code>List&lt;Object3&gt;</code> where <code>Object3</code> contains <code>Object1</code> and <code>Object2</code> and everything works fine.</p>\n"},{"tags":[],"owner":{"account_id":10242733,"reputation":13,"user_id":7559614,"display_name":"Murali Gundappan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1494262910,"creation_date":1494262910,"answer_id":43853335,"question_id":22566433,"body_markdown":"Some times Charset Metada breaks the json while sending in the request. Better, not use charset=utf8 in the request type.","title":"Http 415 Unsupported Media type error with JSON","body":"<p>Some times Charset Metada breaks the json while sending in the request. Better, not use charset=utf8 in the request type.</p>\n"},{"tags":[],"owner":{"account_id":1967729,"reputation":379,"user_id":1767500,"display_name":"Jero Dungog"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504077432,"creation_date":1504077432,"answer_id":45954267,"question_id":22566433,"body_markdown":"I know this is way too late to help the OP with his problem, but to all of us who is just encountering this problem, \r\nI had solved this issue by removing the constructor with parameters of my Class which was meant to hold the json data.","title":"Http 415 Unsupported Media type error with JSON","body":"<p>I know this is way too late to help the OP with his problem, but to all of us who is just encountering this problem, \nI had solved this issue by removing the constructor with parameters of my Class which was meant to hold the json data.</p>\n"},{"tags":[],"owner":{"account_id":7705580,"reputation":31,"user_id":5836663,"display_name":"Arjun Duggal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1511933265,"creation_date":1511933265,"answer_id":47545670,"question_id":22566433,"body_markdown":"Add the HTTP header manager and add in it your API&#39;s header names and values.\r\ne.g. Content-type, Accept, etc. That will resolve your issue.","title":"Http 415 Unsupported Media type error with JSON","body":"<p>Add the HTTP header manager and add in it your API's header names and values.\ne.g. Content-type, Accept, etc. That will resolve your issue.</p>\n"},{"tags":[],"owner":{"account_id":3723758,"reputation":11894,"user_id":3600553,"accept_rate":71,"display_name":"Du-Lacoste"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1526473562,"creation_date":1526473562,"answer_id":50370921,"question_id":22566433,"body_markdown":"If you are using `AJAX` `jQuery` Request this is a must to apply. If not it will throw you `415` Error.\r\n\r\n    dataType: &quot;json&quot;,\r\n    contentType:&#39;application/json&#39;\r\n\r\n","title":"Http 415 Unsupported Media type error with JSON","body":"<p>If you are using <code>AJAX</code> <code>jQuery</code> Request this is a must to apply. If not it will throw you <code>415</code> Error.</p>\n\n<pre><code>dataType: \"json\",\ncontentType:'application/json'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4180218,"reputation":115,"user_id":3425475,"accept_rate":75,"display_name":"J&#233;j&#233;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527767064,"creation_date":1527767064,"answer_id":50623520,"question_id":22566433,"body_markdown":"Add MappingJackson2HttpMessageConverter manually in configuration solved the problem for me :\r\n\r\n    @EnableWebMvc\r\n    @Configuration\r\n    @ComponentScan\r\n    public class RestConfiguration extends WebMvcConfigurerAdapter {\r\n    \r\n    \t@Override\r\n    \tpublic void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters) {\r\n    \t\tmessageConverters.add(new MappingJackson2HttpMessageConverter());\r\n    \t\tsuper.configureMessageConverters(messageConverters);\r\n    \t}\r\n    }","title":"Http 415 Unsupported Media type error with JSON","body":"<p>Add MappingJackson2HttpMessageConverter manually in configuration solved the problem for me :</p>\n\n<pre><code>@EnableWebMvc\n@Configuration\n@ComponentScan\npublic class RestConfiguration extends WebMvcConfigurerAdapter {\n\n    @Override\n    public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters) {\n        messageConverters.add(new MappingJackson2HttpMessageConverter());\n        super.configureMessageConverters(messageConverters);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13598943,"reputation":39,"user_id":9810101,"display_name":"BHARATHWAJ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532063219,"creation_date":1532063219,"answer_id":51435417,"question_id":22566433,"body_markdown":"The reason can be not adding &quot;annotation-driven&quot; in your dispatcher servlet xml file. and also it may be due to not adding &lt;content-type&gt; as application/json in the headers","title":"Http 415 Unsupported Media type error with JSON","body":"<p>The reason can be not adding \"annotation-driven\" in your dispatcher servlet xml file. and also it may be due to not adding  as application/json in the headers</p>\n"},{"tags":[],"owner":{"account_id":1258846,"reputation":10254,"user_id":1217713,"display_name":"Nalan Madheswaran"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1555985984,"creation_date":1555985984,"answer_id":55803411,"question_id":22566433,"body_markdown":"If you get this in React RSAA middleware or similar,\r\nAdd the headers:\r\n\r\n      method: &#39;POST&#39;,\r\n      headers: {\r\n        &#39;Content-Type&#39;: &#39;application/json&#39;,\r\n      },\r\n      body: JSON.stringify(model),","title":"Http 415 Unsupported Media type error with JSON","body":"<p>If you get this in React RSAA middleware or similar,\nAdd the headers:</p>\n\n<pre><code>  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json',\n  },\n  body: JSON.stringify(model),\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3549742,"reputation":4749,"user_id":2964890,"accept_rate":72,"display_name":"javaPlease42"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564586320,"creation_date":1564586320,"answer_id":57294071,"question_id":22566433,"body_markdown":"I fixed this by updating the `Request` class that my Controller receives.\r\n\r\nI **removed** the following class level annotation from my `Request` class on my server side. After that my client **didn&#39;t get 415 error.**\r\n\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n    @XmlRootElement","title":"Http 415 Unsupported Media type error with JSON","body":"<p>I fixed this by updating the <code>Request</code> class that my Controller receives.</p>\n\n<p>I <strong>removed</strong> the following class level annotation from my <code>Request</code> class on my server side. After that my client <strong>didn't get 415 error.</strong></p>\n\n<pre><code>import javax.xml.bind.annotation.XmlRootElement;\n@XmlRootElement\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3614323,"reputation":2724,"user_id":3408531,"accept_rate":56,"display_name":"TiyebM"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1570996488,"creation_date":1570996488,"answer_id":58367299,"question_id":22566433,"body_markdown":"&gt; The 415 (Unsupported Media Type) status code indicates that the\r\n   origin server is refusing to service the request because the payload\r\n   is in a format not supported by this method on the target resource.\r\n   The format problem might be due to the request&#39;s indicated\r\n   Content-Type or Content-Encoding, or as a result of inspecting the\r\n   data directly.\r\n[DOC][1]\r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc7231#section-6.5.13","title":"Http 415 Unsupported Media type error with JSON","body":"<blockquote>\n<p>The 415 (Unsupported Media Type) status code indicates that the\norigin server is refusing to service the request because the payload\nis in a format not supported by this method on the target resource.\nThe format problem might be due to the request's indicated\nContent-Type or Content-Encoding, or as a result of inspecting the\ndata directly.\n<a href=\"https://www.rfc-editor.org/rfc/rfc7231#section-6.5.13\" rel=\"nofollow noreferrer\">DOC</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13690437,"reputation":13,"user_id":9878373,"display_name":"tharakadil95"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604216155,"creation_date":1604216155,"answer_id":64629641,"question_id":22566433,"body_markdown":"I have also faced this issue when working REST service with a JSON request and it responds with a HTTP 415 &quot;Unsupported Media Type&quot; error.\r\nThese lines of codes will help you to resolve the issue. \r\n\r\n&gt; headers: { &quot;Content-Type&quot;: &quot;application/json&quot;, &quot;accept&quot;: &quot;*/*&quot; },\r\n\r\nAfter that, you should write code to encode the JSON body. \r\nFor an example,\r\n\r\n&gt; body: jsonEncode({&quot;username&quot;: username, &quot;password&quot;: password})","title":"Http 415 Unsupported Media type error with JSON","body":"<p>I have also faced this issue when working REST service with a JSON request and it responds with a HTTP 415 &quot;Unsupported Media Type&quot; error.\nThese lines of codes will help you to resolve the issue.</p>\n<blockquote>\n<p>headers: { &quot;Content-Type&quot;: &quot;application/json&quot;, &quot;accept&quot;: &quot;<em>/</em>&quot; },</p>\n</blockquote>\n<p>After that, you should write code to encode the JSON body.\nFor an example,</p>\n<blockquote>\n<p>body: jsonEncode({&quot;username&quot;: username, &quot;password&quot;: password})</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1970460,"reputation":594,"user_id":1769563,"display_name":"Mahmoud Nasr"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1612975896,"creation_date":1612975896,"answer_id":66141288,"question_id":22566433,"body_markdown":"HttpVerb needs its headers as a dictionary of key-value pairs\r\n\r\n    headers = {&#39;Content-Type&#39;: &#39;application/json&#39;, &#39;charset&#39;: &#39;utf-8&#39;}","title":"Http 415 Unsupported Media type error with JSON","body":"<p>HttpVerb needs its headers as a dictionary of key-value pairs</p>\n<pre><code>headers = {'Content-Type': 'application/json', 'charset': 'utf-8'}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2464379,"reputation":4305,"user_id":2147814,"accept_rate":62,"display_name":"anand krish"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1633706107,"creation_date":1626719414,"answer_id":68445383,"question_id":22566433,"body_markdown":"Incase if you are giving a post request through `Postman` then make sure you have choosed these 2 options\r\n\r\n**1.** **JSON (application/json)** should be choosed\r\n[![enter image description here][1]][1]\r\n\r\n**2. Content-Type** - application/json\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aDQFM.png\r\n  [2]: https://i.stack.imgur.com/LRorI.png","title":"Http 415 Unsupported Media type error with JSON","body":"<p>Incase if you are giving a post request through <code>Postman</code> then make sure you have choosed these 2 options</p>\n<p><strong>1.</strong> <strong>JSON (application/json)</strong> should be choosed\n<a href=\"https://i.stack.imgur.com/aDQFM.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/aDQFM.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>2. Content-Type</strong> - application/json</p>\n<p><a href=\"https://i.stack.imgur.com/LRorI.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/LRorI.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":11165190,"reputation":3404,"user_id":8194089,"display_name":"Chamila Maddumage"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633638658,"creation_date":1633638658,"answer_id":69487504,"question_id":22566433,"body_markdown":"I had the same issue with Postman. Adding  `Content-Type: application/json` to the headers solved the issue.","title":"Http 415 Unsupported Media type error with JSON","body":"<p>I had the same issue with Postman. Adding  <code>Content-Type: application/json</code> to the headers solved the issue.</p>\n"},{"tags":[],"owner":{"account_id":3003206,"reputation":1006,"user_id":2548276,"accept_rate":56,"display_name":"Jyoti Duhan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653485011,"creation_date":1653485011,"answer_id":72378482,"question_id":22566433,"body_markdown":"I was facing the same issue and the solution was to remove \r\n\r\n    &#39;mode&#39;: &#39;no-cors&#39;\r\nand adding the hostname as an allowed origin at backend server.\r\nSetting mode to &#39;no-cors&#39; will always take &quot;Content-Type&quot; as &quot;text/plain&quot;.\r\nFor more info, visit [info][1]\r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/API/Request/mode","title":"Http 415 Unsupported Media type error with JSON","body":"<p>I was facing the same issue and the solution was to remove</p>\n<pre><code>'mode': 'no-cors'\n</code></pre>\n<p>and adding the hostname as an allowed origin at backend server.\nSetting mode to 'no-cors' will always take &quot;Content-Type&quot; as &quot;text/plain&quot;.\nFor more info, visit <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Request/mode\" rel=\"nofollow noreferrer\">info</a></p>\n"},{"tags":[],"owner":{"account_id":10794049,"reputation":343,"user_id":7940462,"accept_rate":20,"display_name":"Khalid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665729348,"creation_date":1665729348,"answer_id":74065237,"question_id":22566433,"body_markdown":"In my case: on the body params I set the param to text type instead of JSON \r\nI thought its all the same .:)","title":"Http 415 Unsupported Media type error with JSON","body":"<p>In my case: on the body params I set the param to text type instead of JSON\nI thought its all the same .:)</p>\n"},{"tags":[],"owner":{"account_id":27965961,"reputation":1,"user_id":21356811,"display_name":"NELSON JOSE CORREA DA SILVA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678284983,"creation_date":1678284983,"answer_id":75674210,"question_id":22566433,"body_markdown":"In the Postman, in the Headers, you might insert the folows Keys and values\r\nKey = Content_Type    VALUE application/json\r\nKey = Accept          VALUE application/json\r\n\r\nIt is must work!!!","title":"Http 415 Unsupported Media type error with JSON","body":"<p>In the Postman, in the Headers, you might insert the folows Keys and values\nKey = Content_Type    VALUE application/json\nKey = Accept          VALUE application/json</p>\n<p>It is must work!!!</p>\n"},{"tags":[],"owner":{"account_id":7996699,"reputation":13,"user_id":6032757,"display_name":"Sagar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680094894,"creation_date":1680094894,"answer_id":75877598,"question_id":22566433,"body_markdown":"I was having same issue even after adding correct “Content-Type” &amp; “content-type” headers. The issue resolved when I added “x-version” header with value as “4”. ","title":"Http 415 Unsupported Media type error with JSON","body":"<p>I was having same issue even after adding correct “Content-Type” &amp; “content-type” headers. The issue resolved when I added “x-version” header with value as “4”.</p>\n"},{"tags":[],"owner":{"account_id":14238335,"reputation":308,"user_id":10285514,"display_name":"elouassif"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682583739,"creation_date":1682583739,"answer_id":76118262,"question_id":22566433,"body_markdown":"Adding `&#39;Content-Type&#39;: &#39;*/*&#39;` and `&#39;accept&#39;: &#39;*/*&#39;` in headers resolve this problem for me.","title":"Http 415 Unsupported Media type error with JSON","body":"<p>Adding <code>'Content-Type': '*/*'</code> and <code>'accept': '*/*'</code> in headers resolve this problem for me.</p>\n"},{"tags":[],"owner":{"account_id":1760092,"reputation":802,"user_id":1607450,"accept_rate":75,"display_name":"Satbir Kira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683043589,"creation_date":1683043589,"answer_id":76156791,"question_id":22566433,"body_markdown":"Your request might need a empty body {} even if you have no body data.\r\n    \r\n    body: {}","title":"Http 415 Unsupported Media type error with JSON","body":"<p>Your request might need a empty body {} even if you have no body data.</p>\n<pre><code>body: {}\n</code></pre>\n"}],"owner":{"account_id":4204503,"reputation":3511,"user_id":3443794,"display_name":"user3443794"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":934197,"favorite_count":0,"down_vote_count":0,"up_vote_count":222,"accepted_answer_id":22643964,"answer_count":25,"score":222,"last_activity_date":1699595877,"creation_date":1395425494,"question_id":22566433,"body_markdown":"I am calling a REST service with a JSON request and it responds with a `HTTP 415 &quot;Unsupported Media Type&quot;` error. \r\n\r\nThe request content type is set to `(&quot;Content-Type&quot;, &quot;application/json; charset=utf8&quot;)`.\r\n\r\nIt works fine if I don&#39;t include a JSON object in the request. I am using the `google-gson-2.2.4` library for JSON. \r\n \r\nI tried using a couple of different libraries but it made no difference.\r\n\r\nCan anybody please help me to resolve this? \r\n\r\nHere is my code: \r\n\r\n\tpublic static void main(String[] args) throws Exception\r\n\t{\r\n\r\n        JsonObject requestJson = new JsonObject();\r\n        String url = &quot;xxx&quot;;\r\n        \r\n        //method call for generating json\r\n\r\n        requestJson = generateJSON();\r\n        URL myurl = new URL(url);\r\n        HttpURLConnection con = (HttpURLConnection)myurl.openConnection();\r\n        con.setDoOutput(true);\r\n        con.setDoInput(true);\r\n        \r\n        con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; charset=utf8&quot;);\r\n        con.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n        con.setRequestProperty(&quot;Method&quot;, &quot;POST&quot;);\r\n        OutputStream os = con.getOutputStream();\r\n        os.write(requestJson.toString().getBytes(&quot;UTF-8&quot;));\r\n        os.close();\r\n\r\n        \r\n        StringBuilder sb = new StringBuilder();  \r\n        int HttpResult =con.getResponseCode();\r\n        if(HttpResult ==HttpURLConnection.HTTP_OK){\r\n        BufferedReader br = new BufferedReader(new   InputStreamReader(con.getInputStream(),&quot;utf-8&quot;));  \r\n\r\n            String line = null;\r\n            while ((line = br.readLine()) != null) {  \r\n            sb.append(line + &quot;\\n&quot;);  \r\n            }\r\n             br.close(); \r\n             System.out.println(&quot;&quot;+sb.toString());  \r\n\r\n        }else{\r\n        \tSystem.out.println(con.getResponseCode());\r\n            System.out.println(con.getResponseMessage());  \r\n        }  \r\n         \r\n    }\r\n\tpublic static JsonObject generateJSON () throws MalformedURLException\r\n\r\n\t{\r\n       String s = &quot;http://www.example.com&quot;;\r\n\t        s.replaceAll(&quot;/&quot;, &quot;\\\\/&quot;);\r\n\t\tJsonObject reqparam=new JsonObject();\r\n\t\treqparam.addProperty(&quot;type&quot;, &quot;arl&quot;);\r\n\t\treqparam.addProperty(&quot;action&quot;, &quot;remove&quot;);\r\n\t\treqparam.addProperty(&quot;domain&quot;, &quot;staging&quot;);\r\n\t\treqparam.addProperty(&quot;objects&quot;, s);\r\n\t\treturn reqparam;\r\n\r\n\t}\r\n    }\r\n\r\nThe value of `requestJson.toString()` is :  \r\n\r\n`{&quot;type&quot;:&quot;arl&quot;,&quot;action&quot;:&quot;remove&quot;,&quot;domain&quot;:&quot;staging&quot;,&quot;objects&quot;:&quot;http://www.example.com&quot;}`","title":"Http 415 Unsupported Media type error with JSON","body":"<p>I am calling a REST service with a JSON request and it responds with a <code>HTTP 415 \"Unsupported Media Type\"</code> error. </p>\n\n<p>The request content type is set to <code>(\"Content-Type\", \"application/json; charset=utf8\")</code>.</p>\n\n<p>It works fine if I don't include a JSON object in the request. I am using the <code>google-gson-2.2.4</code> library for JSON. </p>\n\n<p>I tried using a couple of different libraries but it made no difference.</p>\n\n<p>Can anybody please help me to resolve this? </p>\n\n<p>Here is my code: </p>\n\n<pre><code>public static void main(String[] args) throws Exception\n{\n\n    JsonObject requestJson = new JsonObject();\n    String url = \"xxx\";\n\n    //method call for generating json\n\n    requestJson = generateJSON();\n    URL myurl = new URL(url);\n    HttpURLConnection con = (HttpURLConnection)myurl.openConnection();\n    con.setDoOutput(true);\n    con.setDoInput(true);\n\n    con.setRequestProperty(\"Content-Type\", \"application/json; charset=utf8\");\n    con.setRequestProperty(\"Accept\", \"application/json\");\n    con.setRequestProperty(\"Method\", \"POST\");\n    OutputStream os = con.getOutputStream();\n    os.write(requestJson.toString().getBytes(\"UTF-8\"));\n    os.close();\n\n\n    StringBuilder sb = new StringBuilder();  \n    int HttpResult =con.getResponseCode();\n    if(HttpResult ==HttpURLConnection.HTTP_OK){\n    BufferedReader br = new BufferedReader(new   InputStreamReader(con.getInputStream(),\"utf-8\"));  \n\n        String line = null;\n        while ((line = br.readLine()) != null) {  \n        sb.append(line + \"\\n\");  \n        }\n         br.close(); \n         System.out.println(\"\"+sb.toString());  \n\n    }else{\n        System.out.println(con.getResponseCode());\n        System.out.println(con.getResponseMessage());  \n    }  \n\n}\npublic static JsonObject generateJSON () throws MalformedURLException\n\n{\n   String s = \"http://www.example.com\";\n        s.replaceAll(\"/\", \"\\\\/\");\n    JsonObject reqparam=new JsonObject();\n    reqparam.addProperty(\"type\", \"arl\");\n    reqparam.addProperty(\"action\", \"remove\");\n    reqparam.addProperty(\"domain\", \"staging\");\n    reqparam.addProperty(\"objects\", s);\n    return reqparam;\n\n}\n}\n</code></pre>\n\n<p>The value of <code>requestJson.toString()</code> is :  </p>\n\n<p><code>{\"type\":\"arl\",\"action\":\"remove\",\"domain\":\"staging\",\"objects\":\"http://www.example.com\"}</code></p>\n"},{"tags":["java","docker","maven","grpc","google-cloud-pubsub"],"owner":{"account_id":12808323,"reputation":1,"user_id":9267310,"display_name":"Sunny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699595622,"creation_date":1699595622,"question_id":77457960,"body_markdown":"When I try to publish messages using google clould pubsub, it works fine in my local IDE Eclipse but when I use the same code in docker container, it doesn&#39;t work.\r\nThe execution at publisher.publish(message).get(1L, Timeunit.MINUTES) hangs\r\n\r\nWhen I use an ExecutorService to submit this same task, it throws TimeOutException\r\njava.util.concurrent.TimeoutException: Waited 1 minutes (plus 2746930 nanoseconds delay) for com.google.api.core.AbstractApiFuture$InternalSettableFuture@b5df597c[status=PENDING]\r\n\r\nI see Deamon threads - GAX-34, GAX-35 .... , grpc-default-worker-ELG, grpc-default-executor keep running for 10 minutes or so \r\n\r\n\r\n\r\n\r\ncode -\r\n\r\n\t\t\r\n\t\tTopicName topicName = TopicName.of(projectId, topicId);\r\n\t\tExecutorService service = Executors.newSingleThreadExecutor();\r\n\r\n\t\ttry {\r\n\t\t\tpublisher = Publisher.newBuilder(topicName).setEnableMessageOrdering(true).build();\r\n\t\t\t// Message to be published\r\n\t\t\tpubsubMessage = PubsubMessage.newBuilder().setData(ByteString.copyFromUtf8(&quot;Hello, Pub/Sub!&quot;))\r\n\t\t\t\t\t.putAttributes(&quot;Day&quot;, &quot;Sunny&quot;).setOrderingKey(&quot;101&quot;).build();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tSystem.out.println(&quot;Exception while instantiating publisher: &quot; + e);\r\n\t\t}\r\n\t\t\r\n\t\tApiFuture&lt;String&gt; future = null;\r\n\r\n\t\t\ttry {\r\n\t\t\t\tif (publisher != null) {\r\n\t\t\t\t\t\tfuture = publisher.publish(pubsubMessage);\r\n\t\t\t\t\t\tif (future != null) {\r\n\t\t\t\t\t\t\tRunnable task = () -&gt; {\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tSystem.out.println(&quot;\\n&quot; + &quot;Message: &quot; + future.get() + &quot; published&quot;);\r\n\t\t\t\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t\t} catch (ExecutionException e) {\r\n\t\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tservice.submit(task);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tretryCount++;\r\n\t\t\t\tSystem.out.println(&quot;Failed to publish message. Retrying...&quot;);\r\n\t\t\t\tThread.sleep(RETRY_DELAY_MS);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\npom.xml cfgs\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n\t\t&lt;version.build-helper-maven-plugin&gt;3.4.0&lt;/version.build-helper-maven-plugin&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;26.26.0&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.11.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-cloud-pubsub&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.125.11&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.google.api&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;gax-grpc&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.google.api&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;gax&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.google.api&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;gax-httpjson&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-oauth-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.34.1&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.google.guava/guava --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;32.0.1-jre&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.api&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;gax-grpc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.37.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.api&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;gax&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.37.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.api&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;gax-httpjson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.37.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"GC PubSub publisher.publish works on local IDE but not in docker container","body":"<p>When I try to publish messages using google clould pubsub, it works fine in my local IDE Eclipse but when I use the same code in docker container, it doesn't work.\nThe execution at publisher.publish(message).get(1L, Timeunit.MINUTES) hangs</p>\n<p>When I use an ExecutorService to submit this same task, it throws TimeOutException\njava.util.concurrent.TimeoutException: Waited 1 minutes (plus 2746930 nanoseconds delay) for com.google.api.core.AbstractApiFuture$InternalSettableFuture@b5df597c[status=PENDING]</p>\n<p>I see Deamon threads - GAX-34, GAX-35 .... , grpc-default-worker-ELG, grpc-default-executor keep running for 10 minutes or so</p>\n<p>code -</p>\n<pre><code>    TopicName topicName = TopicName.of(projectId, topicId);\n    ExecutorService service = Executors.newSingleThreadExecutor();\n\n    try {\n        publisher = Publisher.newBuilder(topicName).setEnableMessageOrdering(true).build();\n        // Message to be published\n        pubsubMessage = PubsubMessage.newBuilder().setData(ByteString.copyFromUtf8(&quot;Hello, Pub/Sub!&quot;))\n                .putAttributes(&quot;Day&quot;, &quot;Sunny&quot;).setOrderingKey(&quot;101&quot;).build();\n    } catch (Exception e) {\n        e.printStackTrace();\n        System.out.println(&quot;Exception while instantiating publisher: &quot; + e);\n    }\n    \n    ApiFuture&lt;String&gt; future = null;\n\n        try {\n            if (publisher != null) {\n                    future = publisher.publish(pubsubMessage);\n                    if (future != null) {\n                        Runnable task = () -&gt; {\n                        try {\n                            System.out.println(&quot;\\n&quot; + &quot;Message: &quot; + future.get() + &quot; published&quot;);\n                        } catch (InterruptedException e) {\n                            e.printStackTrace();\n                        } catch (ExecutionException e) {\n                            e.printStackTrace();\n                        }\n                        };\n                        service.submit(task);\n                    }\n                    }\n        } catch (Exception e) {\n            retryCount++;\n            System.out.println(&quot;Failed to publish message. Retrying...&quot;);\n            Thread.sleep(RETRY_DELAY_MS);\n        }\n    }\n    \n</code></pre>\n<p>pom.xml cfgs</p>\n<pre><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;version.build-helper-maven-plugin&gt;3.4.0&lt;/version.build-helper-maven-plugin&gt;\n&lt;/properties&gt;\n\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\n            &lt;version&gt;26.26.0&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n        &lt;version&gt;2.11.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;google-cloud-pubsub&lt;/artifactId&gt;\n        &lt;version&gt;1.125.11&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.google.api&lt;/groupId&gt;\n                &lt;artifactId&gt;gax-grpc&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.google.api&lt;/groupId&gt;\n                &lt;artifactId&gt;gax&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.google.api&lt;/groupId&gt;\n                &lt;artifactId&gt;gax-httpjson&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\n        &lt;artifactId&gt;google-oauth-client&lt;/artifactId&gt;\n        &lt;version&gt;1.34.1&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/com.google.guava/guava --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n        &lt;version&gt;32.0.1-jre&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.api&lt;/groupId&gt;\n        &lt;artifactId&gt;gax-grpc&lt;/artifactId&gt;\n        &lt;version&gt;2.37.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.api&lt;/groupId&gt;\n        &lt;artifactId&gt;gax&lt;/artifactId&gt;\n        &lt;version&gt;2.37.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.api&lt;/groupId&gt;\n        &lt;artifactId&gt;gax-httpjson&lt;/artifactId&gt;\n        &lt;version&gt;2.37.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","string","url","servlets","httprequest"],"answers":[{"tags":[],"owner":{"account_id":1999609,"reputation":680,"user_id":1790964,"accept_rate":25,"display_name":"pratikch"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1356675194,"creation_date":1356675194,"answer_id":14065398,"question_id":14065257,"body_markdown":"In my understanding, you need the domain part and Context path only. Based on this understanding, You can use this method to get the required string.\r\n\r\n    String domain = request.getRequestURL().toString();\r\n    String cpath = request.getContextPath().toString();\r\n    \r\n    String tString = domain.subString(0, domain.indexOf(cpath));\r\n    \r\n    tString = tString + cpath;","title":"How to get only part of URL from HttpServletRequest?","body":"<p>In my understanding, you need the domain part and Context path only. Based on this understanding, You can use this method to get the required string.</p>\n\n<pre><code>String domain = request.getRequestURL().toString();\nString cpath = request.getContextPath().toString();\n\nString tString = domain.subString(0, domain.indexOf(cpath));\n\ntString = tString + cpath;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1494647,"reputation":5396,"user_id":1400897,"accept_rate":53,"display_name":"NPKR"},"down_vote_count":2,"up_vote_count":20,"is_accepted":true,"score":18,"last_activity_date":1356678228,"creation_date":1356677446,"answer_id":14065785,"question_id":14065257,"body_markdown":"AFAIK for this there is no API provided method, need to customization.\r\n\r\n\r\n    String serverName = request.getServerName();\r\n    int portNumber = request.getServerPort();\r\n    String contextPath = request.getContextPath();\r\n// try this\r\n\r\n    System.out.println(serverName + &quot;:&quot; +portNumber + contextPath );","title":"How to get only part of URL from HttpServletRequest?","body":"<p>AFAIK for this there is no API provided method, need to customization.</p>\n\n<pre><code>String serverName = request.getServerName();\nint portNumber = request.getServerPort();\nString contextPath = request.getContextPath();\n</code></pre>\n\n<p>// try this</p>\n\n<pre><code>System.out.println(serverName + \":\" +portNumber + contextPath );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":430960,"reputation":16088,"user_id":814702,"accept_rate":100,"display_name":"informatik01"},"down_vote_count":1,"up_vote_count":41,"is_accepted":false,"score":40,"last_activity_date":1699594962,"creation_date":1356734132,"answer_id":14076638,"question_id":14065257,"body_markdown":"You say you want to get exactly:\r\n\r\n    http://localhost:9090/dts\r\n\r\nIn your case, the above string consists of:  \r\n\r\n1) [**scheme**](http://en.wikipedia.org/wiki/URI_scheme): *http*  \r\n2) **server [host name](https://en.wikipedia.org/wiki/Hostname)**: *localhost*  \r\n3) **server [port](https://en.wikipedia.org/wiki/Port_(computer_networking))**: *9090*  \r\n4) [**context path**](https://www.eclipse.org/jetty/documentation/jetty-9/index.html#setting-context-path): *dts*\r\n\r\nMore info about the elements of a request path can be found in the official Oracle *Java EE Tutorial*: [Getting Information from Requests](https://docs.oracle.com/javaee/7/tutorial/servlets005.htm#BNAFW)\r\n\r\n## First variant:\r\n\r\n    String scheme = request.getScheme();\r\n    String serverName = request.getServerName();\r\n    int serverPort = request.getServerPort();\r\n    String contextPath = request.getContextPath();  // includes leading forward slash\r\n    \r\n    String resultPath = scheme + &quot;://&quot; + serverName + &quot;:&quot; + serverPort + contextPath;\r\n    System.out.println(&quot;Result path: &quot; + resultPath);\r\n&lt;br&gt;\r\n\r\n## Second variant:\r\n\r\n    String scheme = request.getScheme();\r\n    String host = request.getHeader(&quot;Host&quot;);        // includes server name and server port\r\n    String contextPath = request.getContextPath();  // includes leading forward slash\r\n    \r\n    String resultPath = scheme + &quot;://&quot; + host + contextPath;\r\n    System.out.println(&quot;Result path: &quot; + resultPath);\r\n\r\n---\r\n\r\nBoth variants will give you what you wanted: `http://localhost:9090/dts`\r\n\r\n\r\nOf course, there are other variants like others already wrote. It&#39;s just in your original question you asked about how to get `http://localhost:9090/dts`, i.e. you want your path to **include** the *scheme*.  \r\n\r\nBut if you don&#39;t need the *scheme*, the quick way is:\r\n\r\n    String resultPath = request.getHeader(&quot;Host&quot;) + request.getContextPath();\r\n\r\nAnd you&#39;ll get (in your case): `localhost:9090/dts`\r\n\r\n","title":"How to get only part of URL from HttpServletRequest?","body":"<p>You say you want to get exactly:</p>\n<pre><code>http://localhost:9090/dts\n</code></pre>\n<p>In your case, the above string consists of:</p>\n<ol>\n<li><a href=\"http://en.wikipedia.org/wiki/URI_scheme\" rel=\"nofollow noreferrer\"><strong>scheme</strong></a>: <em>http</em></li>\n<li><strong>server <a href=\"https://en.wikipedia.org/wiki/Hostname\" rel=\"nofollow noreferrer\">host name</a></strong>: <em>localhost</em></li>\n<li><strong>server <a href=\"https://en.wikipedia.org/wiki/Port_(computer_networking)\" rel=\"nofollow noreferrer\">port</a></strong>: <em>9090</em></li>\n<li><a href=\"https://www.eclipse.org/jetty/documentation/jetty-9/index.html#setting-context-path\" rel=\"nofollow noreferrer\"><strong>context path</strong></a>: <em>dts</em></li>\n</ol>\n<p>More info about the elements of a request path can be found in the official Oracle <em>Java EE Tutorial</em>: <a href=\"https://docs.oracle.com/javaee/7/tutorial/servlets005.htm#BNAFW\" rel=\"nofollow noreferrer\">Getting Information from Requests</a></p>\n<h2>First variant:</h2>\n<pre><code>String scheme = request.getScheme();\nString serverName = request.getServerName();\nint serverPort = request.getServerPort();\nString contextPath = request.getContextPath();  // includes leading forward slash\n\nString resultPath = scheme + &quot;://&quot; + serverName + &quot;:&quot; + serverPort + contextPath;\nSystem.out.println(&quot;Result path: &quot; + resultPath);\n</code></pre>\n<br>\n<h2>Second variant:</h2>\n<pre><code>String scheme = request.getScheme();\nString host = request.getHeader(&quot;Host&quot;);        // includes server name and server port\nString contextPath = request.getContextPath();  // includes leading forward slash\n\nString resultPath = scheme + &quot;://&quot; + host + contextPath;\nSystem.out.println(&quot;Result path: &quot; + resultPath);\n</code></pre>\n<hr />\n<p>Both variants will give you what you wanted: <code>http://localhost:9090/dts</code></p>\n<p>Of course, there are other variants like others already wrote. It's just in your original question you asked about how to get <code>http://localhost:9090/dts</code>, i.e. you want your path to <strong>include</strong> the <em>scheme</em>.</p>\n<p>But if you don't need the <em>scheme</em>, the quick way is:</p>\n<pre><code>String resultPath = request.getHeader(&quot;Host&quot;) + request.getContextPath();\n</code></pre>\n<p>And you'll get (in your case): <code>localhost:9090/dts</code></p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088960,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1467611090,"creation_date":1356782925,"answer_id":14081501,"question_id":14065257,"body_markdown":"Just remove URI from URL and then append context path to it. No need to fiddle with loose schemes and ports which is only more tedious when you&#39;re dealing with default port `80` which don&#39;t need to appear in URL at all.\r\n\r\n    StringBuffer url = request.getRequestURL();\r\n    String uri = request.getRequestURI();\r\n    String ctx = request.getContextPath();\r\n    String base = url.substring(0, url.length() - uri.length() + ctx.length());\r\n    // ...\r\n\r\n###See also:\r\n\r\n- https://stackoverflow.com/questions/3655316/browser-cant-access-find-relative-resources-like-css-images-and-links-when-cal (for the JSP/JSTL variant of composing the base URL)","title":"How to get only part of URL from HttpServletRequest?","body":"<p>Just remove URI from URL and then append context path to it. No need to fiddle with loose schemes and ports which is only more tedious when you're dealing with default port <code>80</code> which don't need to appear in URL at all.</p>\n\n<pre><code>StringBuffer url = request.getRequestURL();\nString uri = request.getRequestURI();\nString ctx = request.getContextPath();\nString base = url.substring(0, url.length() - uri.length() + ctx.length());\n// ...\n</code></pre>\n\n<h3>See also:</h3>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/3655316/browser-cant-access-find-relative-resources-like-css-images-and-links-when-cal\">Browser can&#39;t access/find relative resources like CSS, images and links when calling a Servlet which forwards to a JSP</a> (for the JSP/JSTL variant of composing the base URL)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2546721,"reputation":321,"user_id":2211386,"display_name":"jacbmelo"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1608280913,"creation_date":1608280913,"answer_id":65353963,"question_id":14065257,"body_markdown":"Usually I have a method like this:\r\n\r\n    public String getAbsoluteContextPath() throws MalformedURLException {\r\n        ExternalContext context = FacesContext.getCurrentInstance().getExternalContext();\r\n        HttpServletRequest request = (HttpServletRequest) context.getRequest();\r\n        URL url = new URL(request.getRequestURL().toString());\r\n        return url.getProtocol() + &quot;://&quot; + url.getAuthority() + context.getRequestContextPath();\r\n    }\r\n\r\nThis method will return what you want, with the port number only if it exists in the current request. In your case it will return: http://localhost:9090/dts","title":"How to get only part of URL from HttpServletRequest?","body":"<p>Usually I have a method like this:</p>\n<pre><code>public String getAbsoluteContextPath() throws MalformedURLException {\n    ExternalContext context = FacesContext.getCurrentInstance().getExternalContext();\n    HttpServletRequest request = (HttpServletRequest) context.getRequest();\n    URL url = new URL(request.getRequestURL().toString());\n    return url.getProtocol() + &quot;://&quot; + url.getAuthority() + context.getRequestContextPath();\n}\n</code></pre>\n<p>This method will return what you want, with the port number only if it exists in the current request. In your case it will return: http://localhost:9090/dts</p>\n"},{"tags":[],"owner":{"account_id":13803314,"reputation":1330,"user_id":9962824,"display_name":"Izaya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625143738,"creation_date":1625143738,"answer_id":68210508,"question_id":14065257,"body_markdown":"For those who want to get, in their **endpoint**, the **URL of the front page** which targeted the endpoint. You can use this: \r\n\r\n```java\r\nrequest.getHeader(&quot;referer&quot;)\r\n```","title":"How to get only part of URL from HttpServletRequest?","body":"<p>For those who want to get, in their <strong>endpoint</strong>, the <strong>URL of the front page</strong> which targeted the endpoint. You can use this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>request.getHeader(&quot;referer&quot;)\n</code></pre>\n"}],"owner":{"account_id":1915715,"reputation":627,"user_id":1732653,"accept_rate":57,"display_name":"user1732653"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68479,"favorite_count":0,"down_vote_count":1,"up_vote_count":26,"accepted_answer_id":14065785,"answer_count":6,"score":25,"last_activity_date":1699594962,"creation_date":1356674344,"question_id":14065257,"body_markdown":"From the following URL I need to get `(http://localhost:9090/dts)` alone.  \r\nThat is I need to remove `(documents/savedoc)` (OR)  \r\n   need to get only - `(http://localhost:9090/dts)`\r\n\r\n    http://localhost:9090/dts/documents/savedoc  \r\nIs there any method available in request to get the above?\r\n\r\nI tried the following and got the result. But still trying.  \r\n\r\n    System.out.println(&quot;URL****************&quot;+request.getRequestURL().toString());  \r\n    System.out.println(&quot;URI****************&quot;+request.getRequestURI().toString());\r\n    System.out.println(&quot;ContextPath****************&quot;+request.getContextPath().toString());\r\n    \r\n    URL****************http://localhost:9090/dts/documents/savedoc  \r\n    URI****************/dts/documents/savedoc  \r\n    ContextPath****************/dts\r\n\r\nCan anyone please help me in fixing this?","title":"How to get only part of URL from HttpServletRequest?","body":"<p>From the following URL I need to get <code>(http://localhost:9090/dts)</code> alone.<br>\nThat is I need to remove <code>(documents/savedoc)</code> (OR)<br>\n   need to get only - <code>(http://localhost:9090/dts)</code></p>\n\n<pre><code>http://localhost:9090/dts/documents/savedoc  \n</code></pre>\n\n<p>Is there any method available in request to get the above?</p>\n\n<p>I tried the following and got the result. But still trying.  </p>\n\n<pre><code>System.out.println(\"URL****************\"+request.getRequestURL().toString());  \nSystem.out.println(\"URI****************\"+request.getRequestURI().toString());\nSystem.out.println(\"ContextPath****************\"+request.getContextPath().toString());\n\nURL****************http://localhost:9090/dts/documents/savedoc  \nURI****************/dts/documents/savedoc  \nContextPath****************/dts\n</code></pre>\n\n<p>Can anyone please help me in fixing this?</p>\n"},{"tags":["java","excel","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1699594023,"creation_date":1572361037,"answer_id":58609985,"question_id":58606841,"body_markdown":"At first note, for each following solution the full jar of all of the schemas `ooxml-schemas-1.4.jar` (lower versions for older releases) is needed as mentioned in [FAQ N10025](https://poi.apache.org/help/faq.html#faq-N10025).\r\n\r\nThere is not a doughnut chart data type already in `apache poi`. So the simplest method and usable in most `apache poi` versions will be using the low level classes of `org.openxmlformats.schemas.drawingml.x2006.chart.`\r\n\r\nExample:\r\n\r\n    import java.io.FileOutputStream;\r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.ss.util.*;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    import org.apache.poi.xssf.usermodel.XSSFChart;\r\n    import org.apache.poi.xssf.usermodel.XSSFDrawing;\r\n    \r\n    import org.openxmlformats.schemas.drawingml.x2006.chart.CTChart;\r\n    import org.openxmlformats.schemas.drawingml.x2006.chart.CTPlotArea;\r\n    import org.openxmlformats.schemas.drawingml.x2006.chart.CTDoughnutChart;\r\n    import org.openxmlformats.schemas.drawingml.x2006.chart.CTBoolean;\r\n    import org.openxmlformats.schemas.drawingml.x2006.chart.CTPieSer;\r\n    import org.openxmlformats.schemas.drawingml.x2006.chart.CTAxDataSource;\r\n    import org.openxmlformats.schemas.drawingml.x2006.chart.CTNumDataSource;\r\n    import org.openxmlformats.schemas.drawingml.x2006.chart.CTNumRef;\r\n    import org.openxmlformats.schemas.drawingml.x2006.chart.CTStrRef;\r\n    \r\n    import org.apache.poi.xssf.usermodel.DefaultIndexedColorMap;\r\n    \r\n    public class DoughnutChart {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            Workbook wb = new XSSFWorkbook();\r\n            Sheet sheet = wb.createSheet(&quot;Sheet1&quot;);\r\n    \r\n            Row row;\r\n            Cell cell;\r\n            for (int r = 0; r &lt; 3; r++) {\r\n                row = sheet.createRow(r);\r\n                cell = row.createCell(0);\r\n                cell.setCellValue(&quot;S&quot; + r);\r\n                cell = row.createCell(1);\r\n                cell.setCellValue(r+1);\r\n            }\r\n    \r\n            XSSFDrawing drawing = (XSSFDrawing)sheet.createDrawingPatriarch();\r\n            ClientAnchor anchor = drawing.createAnchor(0, 0, 0, 0, 0, 5, 5, 20);\r\n    \r\n            XSSFChart chart = drawing.createChart(anchor);\r\n    \r\n            CTChart ctChart = ((XSSFChart)chart).getCTChart();\r\n            CTPlotArea ctPlotArea = ctChart.getPlotArea();\r\n            CTDoughnutChart ctDoughnutChart = ctPlotArea.addNewDoughnutChart();\r\n            ctDoughnutChart.addNewVaryColors().setVal(true);\r\n            ctDoughnutChart.addNewHoleSize().setVal((short)50);\r\n            CTPieSer ctPieSer = ctDoughnutChart.addNewSer();\r\n    \r\n            ctPieSer.addNewIdx().setVal(0);     \r\n    \r\n            CTAxDataSource cttAxDataSource = ctPieSer.addNewCat();\r\n            CTStrRef ctStrRef = cttAxDataSource.addNewStrRef();\r\n            ctStrRef.setF(&quot;Sheet1!$A$1:$A$3&quot;); \r\n            CTNumDataSource ctNumDataSource = ctPieSer.addNewVal();\r\n            CTNumRef ctNumRef = ctNumDataSource.addNewNumRef();\r\n            ctNumRef.setF(&quot;Sheet1!$B$1:$B$3&quot;); \r\n    \r\n            // Data point colors; is necessary for showing data points in Calc\r\n            int pointCount = 3; \r\n            for (int p = 0; p &lt; pointCount; p++) {\r\n                ctChart.getPlotArea().getDoughnutChartArray(0).getSerArray(0).addNewDPt().addNewIdx().setVal(p);\r\n                ctChart.getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDPtArray(p)\r\n                    .addNewSpPr().addNewSolidFill().addNewSrgbClr().setVal(DefaultIndexedColorMap.getDefaultRGB(p+10));\r\n            }\r\n    \r\n    System.out.println(ctChart);\r\n    \r\n            FileOutputStream fileOut = new FileOutputStream(&quot;workbook.xlsx&quot;);\r\n            wb.write(fileOut);\r\n            fileOut.close();\r\n            wb.close();\r\n        }\r\n    }\r\n________________________________________________________________\r\n\r\nUsing the current `apache poi 4.1.1` one could provide an own `XDDFDoughnutChartData` as follows:\r\n\r\n    import org.apache.poi.xddf.usermodel.chart.*;\r\n    \r\n    import org.apache.poi.util.Beta;\r\n    import org.apache.poi.xddf.usermodel.XDDFShapeProperties;\r\n    import org.openxmlformats.schemas.drawingml.x2006.chart.CTAxDataSource;\r\n    import org.openxmlformats.schemas.drawingml.x2006.chart.CTNumDataSource;\r\n    import org.openxmlformats.schemas.drawingml.x2006.chart.CTDoughnutChart;\r\n    import org.openxmlformats.schemas.drawingml.x2006.chart.CTPieSer;\r\n    import org.openxmlformats.schemas.drawingml.x2006.chart.CTSerTx;\r\n    \r\n    @Beta\r\n    public class XDDFDoughnutChartData extends XDDFChartData {\r\n        private CTDoughnutChart chart;\r\n    \r\n        public XDDFDoughnutChartData(XDDFChart parent, CTDoughnutChart chart) {\r\n            super(parent);\r\n            this.chart = chart;\r\n            for (CTPieSer series : chart.getSerList()) {\r\n                this.series.add(new Series(series, series.getCat(), series.getVal()));\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        protected void removeCTSeries(int n) {\r\n            chart.removeSer(n);\r\n        }\r\n    \r\n        @Override\r\n        public void setVaryColors(Boolean varyColors) {\r\n            if (varyColors == null) {\r\n                if (chart.isSetVaryColors()) {\r\n                    chart.unsetVaryColors();\r\n                }\r\n            } else {\r\n                if (chart.isSetVaryColors()) {\r\n                    chart.getVaryColors().setVal(varyColors);\r\n                } else {\r\n                    chart.addNewVaryColors().setVal(varyColors);\r\n                }\r\n            }\r\n        }\r\n    \r\n        public Integer getFirstSliceAngle() {\r\n            if (chart.isSetFirstSliceAng()) {\r\n                return chart.getFirstSliceAng().getVal();\r\n            } else {\r\n                return null;\r\n            }\r\n        }\r\n    \r\n        public void setFirstSliceAngle(Integer angle) {\r\n            if (angle == null) {\r\n                if (chart.isSetFirstSliceAng()) {\r\n                    chart.unsetFirstSliceAng();\r\n                }\r\n            } else {\r\n                if (angle &lt; 0 || 360 &lt; angle) {\r\n                    throw new IllegalArgumentException(&quot;angle must be between 0 and 360&quot;);\r\n                }\r\n                if (chart.isSetFirstSliceAng()) {\r\n                    chart.getFirstSliceAng().setVal(angle);\r\n                } else {\r\n                    chart.addNewFirstSliceAng().setVal(angle);\r\n                }\r\n            }\r\n        }\r\n    \r\n        public Short getHoleSize() {\r\n            if (chart.isSetHoleSize()) {\r\n                return chart.getHoleSize().getVal();\r\n            } else {\r\n                return null;\r\n            }\r\n        }\r\n    \r\n        public void setHoleSize(Short size) {\r\n            if (size == null) {\r\n                if (chart.isSetHoleSize()) {\r\n                    chart.unsetHoleSize();\r\n                }\r\n            } else {\r\n                if (size &lt; 0 || 100 &lt; size) {\r\n                    throw new IllegalArgumentException(&quot;size must be between 0 and 100&quot;);\r\n                }\r\n                if (chart.isSetHoleSize()) {\r\n                    chart.getHoleSize().setVal(size);\r\n                } else {\r\n                    chart.addNewHoleSize().setVal(size);\r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public XDDFChartData.Series addSeries(XDDFDataSource&lt;?&gt; category,\r\n                XDDFNumericalDataSource&lt;? extends Number&gt; values) {\r\n            final long index = this.series.size();\r\n            final CTPieSer ctSer = this.chart.addNewSer();\r\n            ctSer.addNewCat();\r\n            ctSer.addNewVal();\r\n            ctSer.addNewIdx().setVal(index);\r\n            ctSer.addNewOrder().setVal(index);\r\n            final Series added = new Series(ctSer, category, values);\r\n            this.series.add(added);\r\n            return added;\r\n        }\r\n    \r\n        public class Series extends XDDFChartData.Series {\r\n            private CTPieSer series;\r\n    \r\n            protected Series(CTPieSer series, XDDFDataSource&lt;?&gt; category,\r\n                    XDDFNumericalDataSource&lt;? extends Number&gt; values) {\r\n                super(category, values);\r\n                this.series = series;\r\n            }\r\n    \r\n            protected Series(CTPieSer series, CTAxDataSource category, CTNumDataSource values) {\r\n                super(XDDFDataSourcesFactory.fromDataSource(category), XDDFDataSourcesFactory.fromDataSource(values));\r\n                this.series = series;\r\n            }\r\n    \r\n            @Override\r\n            protected CTSerTx getSeriesText() {\r\n                if (series.isSetTx()) {\r\n                    return series.getTx();\r\n                } else {\r\n                    return series.addNewTx();\r\n                }\r\n            }\r\n    \r\n            @Override\r\n            public void setShowLeaderLines(boolean showLeaderLines) {\r\n                if (!series.isSetDLbls()) {\r\n                    series.addNewDLbls();\r\n                }\r\n                if (series.getDLbls().isSetShowLeaderLines()) {\r\n                    series.getDLbls().getShowLeaderLines().setVal(showLeaderLines);\r\n                } else {\r\n                    series.getDLbls().addNewShowLeaderLines().setVal(showLeaderLines);\r\n                }\r\n            }\r\n    \r\n            @Override\r\n            public XDDFShapeProperties getShapeProperties() {\r\n                if (series.isSetSpPr()) {\r\n                    return new XDDFShapeProperties(series.getSpPr());\r\n                } else {\r\n                    return null;\r\n                }\r\n            }\r\n    \r\n            @Override\r\n            public void setShapeProperties(XDDFShapeProperties properties) {\r\n                if (properties == null) {\r\n                    if (series.isSetSpPr()) {\r\n                        series.unsetSpPr();\r\n                    }\r\n                } else {\r\n                    if (series.isSetSpPr()) {\r\n                        series.setSpPr(properties.getXmlObject());\r\n                    } else {\r\n                        series.addNewSpPr().set(properties.getXmlObject());\r\n                    }\r\n                }\r\n            }\r\n    \r\n            public Long getExplosion() {\r\n                if (series.isSetExplosion()) {\r\n                    return series.getExplosion().getVal();\r\n                } else {\r\n                    return null;\r\n                }\r\n            }\r\n    \r\n            public void setExplosion(Long explosion) {\r\n                if (explosion == null) {\r\n                    if (series.isSetExplosion()) {\r\n                        series.unsetExplosion();\r\n                    }\r\n                } else {\r\n                    if (series.isSetExplosion()) {\r\n                        series.getExplosion().setVal(explosion);\r\n                    } else {\r\n                        series.addNewExplosion().setVal(explosion);\r\n                    }\r\n                }\r\n            }\r\n    \r\n            @Override\r\n            protected CTAxDataSource getAxDS() {\r\n                return series.getCat();\r\n            }\r\n    \r\n            @Override\r\n            protected CTNumDataSource getNumDS() {\r\n                return series.getVal();\r\n            }\r\n    \r\n            @Override\r\n            protected void setIndex(long val) {\r\n                series.getIdx().setVal(val);\r\n            }\r\n    \r\n            @Override\r\n            protected void setOrder(long val) {\r\n                series.getOrder().setVal(val);\r\n            }\r\n        }\r\n    }\r\n\r\nAnd using that one can create a doughnut chart using the `XDDF` stuff.\r\n\r\nExample:\r\n\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    \r\n    import org.apache.poi.ss.usermodel.Cell;\r\n    import org.apache.poi.ss.usermodel.Row;\r\n    import org.apache.poi.ss.util.CellRangeAddress;\r\n    import org.apache.poi.xddf.usermodel.chart.LegendPosition;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFChartData;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFChartLegend;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFDataSource;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFDataSourcesFactory;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFNumericalDataSource;\r\n    import org.apache.poi.xssf.usermodel.XSSFChart;\r\n    import org.apache.poi.xssf.usermodel.XSSFClientAnchor;\r\n    import org.apache.poi.xssf.usermodel.XSSFDrawing;\r\n    import org.apache.poi.xssf.usermodel.XSSFSheet;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    \r\n    import org.apache.poi.xssf.usermodel.DefaultIndexedColorMap;\r\n    \r\n    \r\n    public class DoughnutChartXDDF {\r\n    \r\n      public static void main(String[] args) throws IOException {\r\n        try (XSSFWorkbook wb = new XSSFWorkbook()) {\r\n          XSSFSheet sheet = wb.createSheet(&quot;doughnutChart&quot;);\r\n          final int NUM_OF_ROWS = 2;\r\n          final int NUM_OF_COLUMNS = 10;\r\n    \r\n          // Create a row and put some cells in it. Rows are 0 based.\r\n          Row row;\r\n          Cell cell;\r\n          for (int rowIndex = 0; rowIndex &lt; NUM_OF_ROWS; rowIndex++) {\r\n            row = sheet.createRow((short) rowIndex);\r\n            for (int colIndex = 0; colIndex &lt; NUM_OF_COLUMNS; colIndex++) {\r\n              cell = row.createCell((short) colIndex);\r\n              if (rowIndex == 0) cell.setCellValue(&quot;Cat &quot; + (colIndex + 1));\r\n              else cell.setCellValue((colIndex + 1) * (rowIndex + 1));\r\n            }\r\n          }\r\n    \r\n          XSSFDrawing drawing = sheet.createDrawingPatriarch();\r\n          XSSFClientAnchor anchor = drawing.createAnchor(0, 0, 0, 0, 0, 4, 10, 25);\r\n    \r\n          XSSFChart chart = drawing.createChart(anchor);\r\n          chart.setTitleText(&quot;Doughnut Chart&quot;);\r\n          chart.setTitleOverlay(false);\r\n          XDDFChartLegend legend = chart.getOrAddLegend();\r\n          legend.setPosition(LegendPosition.TOP_RIGHT);\r\n    \r\n          XDDFDataSource&lt;String&gt; cat = XDDFDataSourcesFactory.fromStringCellRange(sheet,\r\n              new CellRangeAddress(0, 0, 0, NUM_OF_COLUMNS - 1));\r\n          XDDFNumericalDataSource&lt;Double&gt; val = XDDFDataSourcesFactory.fromNumericCellRange(sheet,\r\n              new CellRangeAddress(1, 1, 0, NUM_OF_COLUMNS - 1));\r\n    \r\n          XDDFDoughnutChartData data = new XDDFDoughnutChartData(chart, chart.getCTChart().getPlotArea().addNewDoughnutChart());\r\n          data.setVaryColors(true);\r\n          data.setHoleSize((short)50);\r\n          XDDFChartData.Series series = data.addSeries(cat, val);\r\n          chart.plot(data);\r\n    \r\n          // Do not auto delete the title; is necessary for showing title in Calc\r\n          if (chart.getCTChart().getAutoTitleDeleted() == null) chart.getCTChart().addNewAutoTitleDeleted();\r\n          chart.getCTChart().getAutoTitleDeleted().setVal(false);\r\n    \r\n          // Data point colors; is necessary for showing data points in Calc\r\n          int pointCount = series.getCategoryData().getPointCount(); \r\n          for (int p = 0; p &lt; pointCount; p++) {\r\n            chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).addNewDPt().addNewIdx().setVal(p);\r\n            chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDPtArray(p)\r\n              .addNewSpPr().addNewSolidFill().addNewSrgbClr().setVal(DefaultIndexedColorMap.getDefaultRGB(p+10));\r\n          }\r\n     \r\n          // Write the output to a file\r\n          try (FileOutputStream fileOut = new FileOutputStream(&quot;ooxml-doughnut-chart.xlsx&quot;)) {\r\n            wb.write(fileOut);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n________________________________\r\n\r\nUsing current Apache POI version 5.2.4, there is `org.apache.poi.xddf.usermodel.chart.XDDFDoughnutChartData` already.\r\n\r\nSo code would be:\r\n\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    \r\n    import org.apache.poi.ss.usermodel.Cell;\r\n    import org.apache.poi.ss.usermodel.Row;\r\n    import org.apache.poi.ss.util.CellRangeAddress;\r\n    import org.apache.poi.xddf.usermodel.chart.LegendPosition;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFChartData;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFChartLegend;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFDataSource;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFDataSourcesFactory;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFNumericalDataSource;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFDoughnutChartData;\r\n    import org.apache.poi.xddf.usermodel.chart.ChartTypes;\r\n    import org.apache.poi.xssf.usermodel.XSSFChart;\r\n    import org.apache.poi.xssf.usermodel.XSSFClientAnchor;\r\n    import org.apache.poi.xssf.usermodel.XSSFDrawing;\r\n    import org.apache.poi.xssf.usermodel.XSSFSheet;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    import org.apache.poi.xssf.usermodel.DefaultIndexedColorMap;\r\n    \r\n    public class DoughnutChartXDDF {\r\n    \r\n      public static void main(String[] args) throws IOException {\r\n        try (XSSFWorkbook wb = new XSSFWorkbook()) {\r\n          XSSFSheet sheet = wb.createSheet(&quot;doughnutChart&quot;);\r\n          final int NUM_OF_ROWS = 2;\r\n          final int NUM_OF_COLUMNS = 10;\r\n    \r\n          // Create a row and put some cells in it. Rows are 0 based.\r\n          Row row;\r\n          Cell cell;\r\n          for (int rowIndex = 0; rowIndex &lt; NUM_OF_ROWS; rowIndex++) {\r\n            row = sheet.createRow((short) rowIndex);\r\n            for (int colIndex = 0; colIndex &lt; NUM_OF_COLUMNS; colIndex++) {\r\n              cell = row.createCell((short) colIndex);\r\n              if (rowIndex == 0) cell.setCellValue(&quot;Cat &quot; + (colIndex + 1));\r\n              else cell.setCellValue((colIndex + 1) * (rowIndex + 1));\r\n            }\r\n          }\r\n    \r\n          XSSFDrawing drawing = sheet.createDrawingPatriarch();\r\n          XSSFClientAnchor anchor = drawing.createAnchor(0, 0, 0, 0, 0, 4, 10, 25);\r\n    \r\n          XSSFChart chart = drawing.createChart(anchor);\r\n          chart.setTitleText(&quot;Doughnut Chart&quot;);\r\n          chart.setTitleOverlay(false);\r\n          XDDFChartLegend legend = chart.getOrAddLegend();\r\n          legend.setPosition(LegendPosition.TOP_RIGHT);\r\n    \r\n          XDDFDataSource&lt;String&gt; cat = XDDFDataSourcesFactory.fromStringCellRange(sheet,\r\n              new CellRangeAddress(0, 0, 0, NUM_OF_COLUMNS - 1));\r\n          XDDFNumericalDataSource&lt;Double&gt; val = XDDFDataSourcesFactory.fromNumericCellRange(sheet,\r\n              new CellRangeAddress(1, 1, 0, NUM_OF_COLUMNS - 1));\r\n    \r\n          //XDDFDoughnutChartData data = new XDDFDoughnutChartData(chart, chart.getCTChart().getPlotArea().addNewDoughnutChart());\r\n    \t  XDDFDoughnutChartData data = (XDDFDoughnutChartData)chart.createData(ChartTypes.DOUGHNUT, null, null);\r\n          data.setVaryColors(true);\r\n          data.setHoleSize(50);\r\n          XDDFChartData.Series series = data.addSeries(cat, val);\r\n          chart.plot(data);\r\n    \r\n          // Do not auto delete the title; is necessary for showing title in Calc\r\n          if (chart.getCTChart().getAutoTitleDeleted() == null) chart.getCTChart().addNewAutoTitleDeleted();\r\n          chart.getCTChart().getAutoTitleDeleted().setVal(false);\r\n    \r\n          // Data point colors; is necessary for showing data points in Calc\r\n          int pointCount = series.getCategoryData().getPointCount(); \r\n          for (int p = 0; p &lt; pointCount; p++) {\r\n            chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).addNewDPt().addNewIdx().setVal(p);\r\n            chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDPtArray(p)\r\n              .addNewSpPr().addNewSolidFill().addNewSrgbClr().setVal(DefaultIndexedColorMap.getDefaultRGB(p+10));\r\n          }\r\n     \r\n          // Write the output to a file\r\n          try (FileOutputStream fileOut = new FileOutputStream(&quot;ooxml-doughnut-chart.xlsx&quot;)) {\r\n            wb.write(fileOut);\r\n          }\r\n        }\r\n      }\r\n    }","title":"Doughnut Chart Apache-POI","body":"<p>At first note, for each following solution the full jar of all of the schemas <code>ooxml-schemas-1.4.jar</code> (lower versions for older releases) is needed as mentioned in <a href=\"https://poi.apache.org/help/faq.html#faq-N10025\" rel=\"nofollow noreferrer\">FAQ N10025</a>.</p>\n<p>There is not a doughnut chart data type already in <code>apache poi</code>. So the simplest method and usable in most <code>apache poi</code> versions will be using the low level classes of <code>org.openxmlformats.schemas.drawingml.x2006.chart.</code></p>\n<p>Example:</p>\n<pre><code>import java.io.FileOutputStream;\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.ss.util.*;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\nimport org.apache.poi.xssf.usermodel.XSSFChart;\nimport org.apache.poi.xssf.usermodel.XSSFDrawing;\n\nimport org.openxmlformats.schemas.drawingml.x2006.chart.CTChart;\nimport org.openxmlformats.schemas.drawingml.x2006.chart.CTPlotArea;\nimport org.openxmlformats.schemas.drawingml.x2006.chart.CTDoughnutChart;\nimport org.openxmlformats.schemas.drawingml.x2006.chart.CTBoolean;\nimport org.openxmlformats.schemas.drawingml.x2006.chart.CTPieSer;\nimport org.openxmlformats.schemas.drawingml.x2006.chart.CTAxDataSource;\nimport org.openxmlformats.schemas.drawingml.x2006.chart.CTNumDataSource;\nimport org.openxmlformats.schemas.drawingml.x2006.chart.CTNumRef;\nimport org.openxmlformats.schemas.drawingml.x2006.chart.CTStrRef;\n\nimport org.apache.poi.xssf.usermodel.DefaultIndexedColorMap;\n\npublic class DoughnutChart {\n\n    public static void main(String[] args) throws Exception {\n        Workbook wb = new XSSFWorkbook();\n        Sheet sheet = wb.createSheet(&quot;Sheet1&quot;);\n\n        Row row;\n        Cell cell;\n        for (int r = 0; r &lt; 3; r++) {\n            row = sheet.createRow(r);\n            cell = row.createCell(0);\n            cell.setCellValue(&quot;S&quot; + r);\n            cell = row.createCell(1);\n            cell.setCellValue(r+1);\n        }\n\n        XSSFDrawing drawing = (XSSFDrawing)sheet.createDrawingPatriarch();\n        ClientAnchor anchor = drawing.createAnchor(0, 0, 0, 0, 0, 5, 5, 20);\n\n        XSSFChart chart = drawing.createChart(anchor);\n\n        CTChart ctChart = ((XSSFChart)chart).getCTChart();\n        CTPlotArea ctPlotArea = ctChart.getPlotArea();\n        CTDoughnutChart ctDoughnutChart = ctPlotArea.addNewDoughnutChart();\n        ctDoughnutChart.addNewVaryColors().setVal(true);\n        ctDoughnutChart.addNewHoleSize().setVal((short)50);\n        CTPieSer ctPieSer = ctDoughnutChart.addNewSer();\n\n        ctPieSer.addNewIdx().setVal(0);     \n\n        CTAxDataSource cttAxDataSource = ctPieSer.addNewCat();\n        CTStrRef ctStrRef = cttAxDataSource.addNewStrRef();\n        ctStrRef.setF(&quot;Sheet1!$A$1:$A$3&quot;); \n        CTNumDataSource ctNumDataSource = ctPieSer.addNewVal();\n        CTNumRef ctNumRef = ctNumDataSource.addNewNumRef();\n        ctNumRef.setF(&quot;Sheet1!$B$1:$B$3&quot;); \n\n        // Data point colors; is necessary for showing data points in Calc\n        int pointCount = 3; \n        for (int p = 0; p &lt; pointCount; p++) {\n            ctChart.getPlotArea().getDoughnutChartArray(0).getSerArray(0).addNewDPt().addNewIdx().setVal(p);\n            ctChart.getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDPtArray(p)\n                .addNewSpPr().addNewSolidFill().addNewSrgbClr().setVal(DefaultIndexedColorMap.getDefaultRGB(p+10));\n        }\n\nSystem.out.println(ctChart);\n\n        FileOutputStream fileOut = new FileOutputStream(&quot;workbook.xlsx&quot;);\n        wb.write(fileOut);\n        fileOut.close();\n        wb.close();\n    }\n}\n</code></pre>\n<hr />\n<p>Using the current <code>apache poi 4.1.1</code> one could provide an own <code>XDDFDoughnutChartData</code> as follows:</p>\n<pre><code>import org.apache.poi.xddf.usermodel.chart.*;\n\nimport org.apache.poi.util.Beta;\nimport org.apache.poi.xddf.usermodel.XDDFShapeProperties;\nimport org.openxmlformats.schemas.drawingml.x2006.chart.CTAxDataSource;\nimport org.openxmlformats.schemas.drawingml.x2006.chart.CTNumDataSource;\nimport org.openxmlformats.schemas.drawingml.x2006.chart.CTDoughnutChart;\nimport org.openxmlformats.schemas.drawingml.x2006.chart.CTPieSer;\nimport org.openxmlformats.schemas.drawingml.x2006.chart.CTSerTx;\n\n@Beta\npublic class XDDFDoughnutChartData extends XDDFChartData {\n    private CTDoughnutChart chart;\n\n    public XDDFDoughnutChartData(XDDFChart parent, CTDoughnutChart chart) {\n        super(parent);\n        this.chart = chart;\n        for (CTPieSer series : chart.getSerList()) {\n            this.series.add(new Series(series, series.getCat(), series.getVal()));\n        }\n    }\n\n    @Override\n    protected void removeCTSeries(int n) {\n        chart.removeSer(n);\n    }\n\n    @Override\n    public void setVaryColors(Boolean varyColors) {\n        if (varyColors == null) {\n            if (chart.isSetVaryColors()) {\n                chart.unsetVaryColors();\n            }\n        } else {\n            if (chart.isSetVaryColors()) {\n                chart.getVaryColors().setVal(varyColors);\n            } else {\n                chart.addNewVaryColors().setVal(varyColors);\n            }\n        }\n    }\n\n    public Integer getFirstSliceAngle() {\n        if (chart.isSetFirstSliceAng()) {\n            return chart.getFirstSliceAng().getVal();\n        } else {\n            return null;\n        }\n    }\n\n    public void setFirstSliceAngle(Integer angle) {\n        if (angle == null) {\n            if (chart.isSetFirstSliceAng()) {\n                chart.unsetFirstSliceAng();\n            }\n        } else {\n            if (angle &lt; 0 || 360 &lt; angle) {\n                throw new IllegalArgumentException(&quot;angle must be between 0 and 360&quot;);\n            }\n            if (chart.isSetFirstSliceAng()) {\n                chart.getFirstSliceAng().setVal(angle);\n            } else {\n                chart.addNewFirstSliceAng().setVal(angle);\n            }\n        }\n    }\n\n    public Short getHoleSize() {\n        if (chart.isSetHoleSize()) {\n            return chart.getHoleSize().getVal();\n        } else {\n            return null;\n        }\n    }\n\n    public void setHoleSize(Short size) {\n        if (size == null) {\n            if (chart.isSetHoleSize()) {\n                chart.unsetHoleSize();\n            }\n        } else {\n            if (size &lt; 0 || 100 &lt; size) {\n                throw new IllegalArgumentException(&quot;size must be between 0 and 100&quot;);\n            }\n            if (chart.isSetHoleSize()) {\n                chart.getHoleSize().setVal(size);\n            } else {\n                chart.addNewHoleSize().setVal(size);\n            }\n        }\n    }\n\n    @Override\n    public XDDFChartData.Series addSeries(XDDFDataSource&lt;?&gt; category,\n            XDDFNumericalDataSource&lt;? extends Number&gt; values) {\n        final long index = this.series.size();\n        final CTPieSer ctSer = this.chart.addNewSer();\n        ctSer.addNewCat();\n        ctSer.addNewVal();\n        ctSer.addNewIdx().setVal(index);\n        ctSer.addNewOrder().setVal(index);\n        final Series added = new Series(ctSer, category, values);\n        this.series.add(added);\n        return added;\n    }\n\n    public class Series extends XDDFChartData.Series {\n        private CTPieSer series;\n\n        protected Series(CTPieSer series, XDDFDataSource&lt;?&gt; category,\n                XDDFNumericalDataSource&lt;? extends Number&gt; values) {\n            super(category, values);\n            this.series = series;\n        }\n\n        protected Series(CTPieSer series, CTAxDataSource category, CTNumDataSource values) {\n            super(XDDFDataSourcesFactory.fromDataSource(category), XDDFDataSourcesFactory.fromDataSource(values));\n            this.series = series;\n        }\n\n        @Override\n        protected CTSerTx getSeriesText() {\n            if (series.isSetTx()) {\n                return series.getTx();\n            } else {\n                return series.addNewTx();\n            }\n        }\n\n        @Override\n        public void setShowLeaderLines(boolean showLeaderLines) {\n            if (!series.isSetDLbls()) {\n                series.addNewDLbls();\n            }\n            if (series.getDLbls().isSetShowLeaderLines()) {\n                series.getDLbls().getShowLeaderLines().setVal(showLeaderLines);\n            } else {\n                series.getDLbls().addNewShowLeaderLines().setVal(showLeaderLines);\n            }\n        }\n\n        @Override\n        public XDDFShapeProperties getShapeProperties() {\n            if (series.isSetSpPr()) {\n                return new XDDFShapeProperties(series.getSpPr());\n            } else {\n                return null;\n            }\n        }\n\n        @Override\n        public void setShapeProperties(XDDFShapeProperties properties) {\n            if (properties == null) {\n                if (series.isSetSpPr()) {\n                    series.unsetSpPr();\n                }\n            } else {\n                if (series.isSetSpPr()) {\n                    series.setSpPr(properties.getXmlObject());\n                } else {\n                    series.addNewSpPr().set(properties.getXmlObject());\n                }\n            }\n        }\n\n        public Long getExplosion() {\n            if (series.isSetExplosion()) {\n                return series.getExplosion().getVal();\n            } else {\n                return null;\n            }\n        }\n\n        public void setExplosion(Long explosion) {\n            if (explosion == null) {\n                if (series.isSetExplosion()) {\n                    series.unsetExplosion();\n                }\n            } else {\n                if (series.isSetExplosion()) {\n                    series.getExplosion().setVal(explosion);\n                } else {\n                    series.addNewExplosion().setVal(explosion);\n                }\n            }\n        }\n\n        @Override\n        protected CTAxDataSource getAxDS() {\n            return series.getCat();\n        }\n\n        @Override\n        protected CTNumDataSource getNumDS() {\n            return series.getVal();\n        }\n\n        @Override\n        protected void setIndex(long val) {\n            series.getIdx().setVal(val);\n        }\n\n        @Override\n        protected void setOrder(long val) {\n            series.getOrder().setVal(val);\n        }\n    }\n}\n</code></pre>\n<p>And using that one can create a doughnut chart using the <code>XDDF</code> stuff.</p>\n<p>Example:</p>\n<pre><code>import java.io.FileOutputStream;\nimport java.io.IOException;\n\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.ss.util.CellRangeAddress;\nimport org.apache.poi.xddf.usermodel.chart.LegendPosition;\nimport org.apache.poi.xddf.usermodel.chart.XDDFChartData;\nimport org.apache.poi.xddf.usermodel.chart.XDDFChartLegend;\nimport org.apache.poi.xddf.usermodel.chart.XDDFDataSource;\nimport org.apache.poi.xddf.usermodel.chart.XDDFDataSourcesFactory;\nimport org.apache.poi.xddf.usermodel.chart.XDDFNumericalDataSource;\nimport org.apache.poi.xssf.usermodel.XSSFChart;\nimport org.apache.poi.xssf.usermodel.XSSFClientAnchor;\nimport org.apache.poi.xssf.usermodel.XSSFDrawing;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\nimport org.apache.poi.xssf.usermodel.DefaultIndexedColorMap;\n\n\npublic class DoughnutChartXDDF {\n\n  public static void main(String[] args) throws IOException {\n    try (XSSFWorkbook wb = new XSSFWorkbook()) {\n      XSSFSheet sheet = wb.createSheet(&quot;doughnutChart&quot;);\n      final int NUM_OF_ROWS = 2;\n      final int NUM_OF_COLUMNS = 10;\n\n      // Create a row and put some cells in it. Rows are 0 based.\n      Row row;\n      Cell cell;\n      for (int rowIndex = 0; rowIndex &lt; NUM_OF_ROWS; rowIndex++) {\n        row = sheet.createRow((short) rowIndex);\n        for (int colIndex = 0; colIndex &lt; NUM_OF_COLUMNS; colIndex++) {\n          cell = row.createCell((short) colIndex);\n          if (rowIndex == 0) cell.setCellValue(&quot;Cat &quot; + (colIndex + 1));\n          else cell.setCellValue((colIndex + 1) * (rowIndex + 1));\n        }\n      }\n\n      XSSFDrawing drawing = sheet.createDrawingPatriarch();\n      XSSFClientAnchor anchor = drawing.createAnchor(0, 0, 0, 0, 0, 4, 10, 25);\n\n      XSSFChart chart = drawing.createChart(anchor);\n      chart.setTitleText(&quot;Doughnut Chart&quot;);\n      chart.setTitleOverlay(false);\n      XDDFChartLegend legend = chart.getOrAddLegend();\n      legend.setPosition(LegendPosition.TOP_RIGHT);\n\n      XDDFDataSource&lt;String&gt; cat = XDDFDataSourcesFactory.fromStringCellRange(sheet,\n          new CellRangeAddress(0, 0, 0, NUM_OF_COLUMNS - 1));\n      XDDFNumericalDataSource&lt;Double&gt; val = XDDFDataSourcesFactory.fromNumericCellRange(sheet,\n          new CellRangeAddress(1, 1, 0, NUM_OF_COLUMNS - 1));\n\n      XDDFDoughnutChartData data = new XDDFDoughnutChartData(chart, chart.getCTChart().getPlotArea().addNewDoughnutChart());\n      data.setVaryColors(true);\n      data.setHoleSize((short)50);\n      XDDFChartData.Series series = data.addSeries(cat, val);\n      chart.plot(data);\n\n      // Do not auto delete the title; is necessary for showing title in Calc\n      if (chart.getCTChart().getAutoTitleDeleted() == null) chart.getCTChart().addNewAutoTitleDeleted();\n      chart.getCTChart().getAutoTitleDeleted().setVal(false);\n\n      // Data point colors; is necessary for showing data points in Calc\n      int pointCount = series.getCategoryData().getPointCount(); \n      for (int p = 0; p &lt; pointCount; p++) {\n        chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).addNewDPt().addNewIdx().setVal(p);\n        chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDPtArray(p)\n          .addNewSpPr().addNewSolidFill().addNewSrgbClr().setVal(DefaultIndexedColorMap.getDefaultRGB(p+10));\n      }\n \n      // Write the output to a file\n      try (FileOutputStream fileOut = new FileOutputStream(&quot;ooxml-doughnut-chart.xlsx&quot;)) {\n        wb.write(fileOut);\n      }\n    }\n  }\n}\n</code></pre>\n<hr />\n<p>Using current Apache POI version 5.2.4, there is <code>org.apache.poi.xddf.usermodel.chart.XDDFDoughnutChartData</code> already.</p>\n<p>So code would be:</p>\n<pre><code>import java.io.FileOutputStream;\nimport java.io.IOException;\n\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.ss.util.CellRangeAddress;\nimport org.apache.poi.xddf.usermodel.chart.LegendPosition;\nimport org.apache.poi.xddf.usermodel.chart.XDDFChartData;\nimport org.apache.poi.xddf.usermodel.chart.XDDFChartLegend;\nimport org.apache.poi.xddf.usermodel.chart.XDDFDataSource;\nimport org.apache.poi.xddf.usermodel.chart.XDDFDataSourcesFactory;\nimport org.apache.poi.xddf.usermodel.chart.XDDFNumericalDataSource;\nimport org.apache.poi.xddf.usermodel.chart.XDDFDoughnutChartData;\nimport org.apache.poi.xddf.usermodel.chart.ChartTypes;\nimport org.apache.poi.xssf.usermodel.XSSFChart;\nimport org.apache.poi.xssf.usermodel.XSSFClientAnchor;\nimport org.apache.poi.xssf.usermodel.XSSFDrawing;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\nimport org.apache.poi.xssf.usermodel.DefaultIndexedColorMap;\n\npublic class DoughnutChartXDDF {\n\n  public static void main(String[] args) throws IOException {\n    try (XSSFWorkbook wb = new XSSFWorkbook()) {\n      XSSFSheet sheet = wb.createSheet(&quot;doughnutChart&quot;);\n      final int NUM_OF_ROWS = 2;\n      final int NUM_OF_COLUMNS = 10;\n\n      // Create a row and put some cells in it. Rows are 0 based.\n      Row row;\n      Cell cell;\n      for (int rowIndex = 0; rowIndex &lt; NUM_OF_ROWS; rowIndex++) {\n        row = sheet.createRow((short) rowIndex);\n        for (int colIndex = 0; colIndex &lt; NUM_OF_COLUMNS; colIndex++) {\n          cell = row.createCell((short) colIndex);\n          if (rowIndex == 0) cell.setCellValue(&quot;Cat &quot; + (colIndex + 1));\n          else cell.setCellValue((colIndex + 1) * (rowIndex + 1));\n        }\n      }\n\n      XSSFDrawing drawing = sheet.createDrawingPatriarch();\n      XSSFClientAnchor anchor = drawing.createAnchor(0, 0, 0, 0, 0, 4, 10, 25);\n\n      XSSFChart chart = drawing.createChart(anchor);\n      chart.setTitleText(&quot;Doughnut Chart&quot;);\n      chart.setTitleOverlay(false);\n      XDDFChartLegend legend = chart.getOrAddLegend();\n      legend.setPosition(LegendPosition.TOP_RIGHT);\n\n      XDDFDataSource&lt;String&gt; cat = XDDFDataSourcesFactory.fromStringCellRange(sheet,\n          new CellRangeAddress(0, 0, 0, NUM_OF_COLUMNS - 1));\n      XDDFNumericalDataSource&lt;Double&gt; val = XDDFDataSourcesFactory.fromNumericCellRange(sheet,\n          new CellRangeAddress(1, 1, 0, NUM_OF_COLUMNS - 1));\n\n      //XDDFDoughnutChartData data = new XDDFDoughnutChartData(chart, chart.getCTChart().getPlotArea().addNewDoughnutChart());\n      XDDFDoughnutChartData data = (XDDFDoughnutChartData)chart.createData(ChartTypes.DOUGHNUT, null, null);\n      data.setVaryColors(true);\n      data.setHoleSize(50);\n      XDDFChartData.Series series = data.addSeries(cat, val);\n      chart.plot(data);\n\n      // Do not auto delete the title; is necessary for showing title in Calc\n      if (chart.getCTChart().getAutoTitleDeleted() == null) chart.getCTChart().addNewAutoTitleDeleted();\n      chart.getCTChart().getAutoTitleDeleted().setVal(false);\n\n      // Data point colors; is necessary for showing data points in Calc\n      int pointCount = series.getCategoryData().getPointCount(); \n      for (int p = 0; p &lt; pointCount; p++) {\n        chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).addNewDPt().addNewIdx().setVal(p);\n        chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDPtArray(p)\n          .addNewSpPr().addNewSolidFill().addNewSrgbClr().setVal(DefaultIndexedColorMap.getDefaultRGB(p+10));\n      }\n \n      // Write the output to a file\n      try (FileOutputStream fileOut = new FileOutputStream(&quot;ooxml-doughnut-chart.xlsx&quot;)) {\n        wb.write(fileOut);\n      }\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":15987290,"reputation":21,"user_id":11537330,"display_name":"Andrey Kaplan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1414,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1699594023,"creation_date":1572349600,"question_id":58606841,"body_markdown":"I&#39;am trying to create Doughnut Chart with apache-poi, but there&#39;s no information or examples. I tried to use example of pie chart but unsuccesful. Can you help with this problem? ","title":"Doughnut Chart Apache-POI","body":"<p>I'am trying to create Doughnut Chart with apache-poi, but there's no information or examples. I tried to use example of pie chart but unsuccesful. Can you help with this problem? </p>\n"},{"tags":["java","linked-list","class-members"],"comments":[{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1699593540,"post_id":77457828,"comment_id":136554249,"body_markdown":"*&quot;This doesn&#39;t work if the node class is in a separate file&quot;* -- please be more specific and provide more detail since &quot;doesn&#39;t work&quot; doesn&#39;t tell us what problems you in fact are having. Doesn&#39;t work, how? What errors are you seeing? Please show two small complete separate classes and the full error messages you are seeing, if any.","body":"<i>&quot;This doesn&#39;t work if the node class is in a separate file&quot;</i> -- please be more specific and provide more detail since &quot;doesn&#39;t work&quot; doesn&#39;t tell us what problems you in fact are having. Doesn&#39;t work, how? What errors are you seeing? Please show two small complete separate classes and the full error messages you are seeing, if any."},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1699593668,"post_id":77457828,"comment_id":136554260,"body_markdown":"If both files are in the same package, then there is no need to do an import. If they are in separate packages, then you will need to import the Node class into your LinkedList class.","body":"If both files are in the same package, then there is no need to do an import. If they are in separate packages, then you will need to import the Node class into your LinkedList class."},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1699593696,"post_id":77457828,"comment_id":136554263,"body_markdown":"And please tell how you are compiling and running your classes. Are you using an IDE or are you running from the command line?","body":"And please tell how you are compiling and running your classes. Are you using an IDE or are you running from the command line?"},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1699593772,"post_id":77457828,"comment_id":136554271,"body_markdown":"Make sure that you&#39;ve fully compiled the Node class. Also, please check out the [What does a &quot;Cannot find symbol&quot; or &quot;Cannot resolve symbol&quot; error mean?](https://stackoverflow.com/q/25706216/) question and answers.","body":"Make sure that you&#39;ve fully compiled the Node class. Also, please check out the <a href=\"https://stackoverflow.com/q/25706216/\">What does a &quot;Cannot find symbol&quot; or &quot;Cannot resolve symbol&quot; error mean?</a> question and answers."},{"owner":{"account_id":17876398,"reputation":117,"user_id":12986334,"display_name":"idkusrname126"},"score":0,"creation_date":1699593936,"post_id":77457828,"comment_id":136554288,"body_markdown":"@HovercraftFullOfEels I just updated my question. They are in the same package called stacks.","body":"@HovercraftFullOfEels I just updated my question. They are in the same package called stacks."},{"owner":{"account_id":17876398,"reputation":117,"user_id":12986334,"display_name":"idkusrname126"},"score":0,"creation_date":1699593972,"post_id":77457828,"comment_id":136554294,"body_markdown":"@HovercraftFullOfEels I am compiling as : javac LinkedList.java java LinkedList","body":"@HovercraftFullOfEels I am compiling as : javac LinkedList.java java LinkedList"},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1699594064,"post_id":77457828,"comment_id":136554306,"body_markdown":"Are you compiling the Node.java class?","body":"Are you compiling the Node.java class?"},{"owner":{"account_id":17876398,"reputation":117,"user_id":12986334,"display_name":"idkusrname126"},"score":0,"creation_date":1699594118,"post_id":77457828,"comment_id":136554312,"body_markdown":"@HovercraftFullOfEels no... that&#39;s what it was.","body":"@HovercraftFullOfEels no... that&#39;s what it was."},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1699594121,"post_id":77457828,"comment_id":136554313,"body_markdown":"e.g., `javac Node.java LinkedList.java`","body":"e.g., <code>javac Node.java LinkedList.java</code>"},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1699594158,"post_id":77457828,"comment_id":136554320,"body_markdown":"Use a decent IDE or learn to use Maven.","body":"Use a decent IDE or learn to use Maven."},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1699594187,"post_id":77457828,"comment_id":136554325,"body_markdown":"But glad that your problem has been solved.","body":"But glad that your problem has been solved."}],"owner":{"account_id":17876398,"reputation":117,"user_id":12986334,"display_name":"idkusrname126"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1699593377,"answer_count":0,"score":0,"last_activity_date":1699593868,"creation_date":1699593280,"question_id":77457828,"body_markdown":"This is a total noob question since I cannot remember.\r\n\r\nI want to make a homemade version of linked lists and my LinkedList class is as follows:\r\n\r\n    package stacks;\r\n    \r\n    import java.io.*;\r\n    \r\n    class Node&lt;T&gt;\r\n    {\r\n        T data;\r\n        Node&lt;T&gt; next;\r\n    \r\n        Node(T data)\r\n        {\r\n            this.data = data;\r\n        }\r\n    }\r\n    \r\n    public class LinkedList&lt;AnyType&gt;\r\n    {\r\n        private Node&lt;AnyType&gt; head, tail;\r\n    }\r\n\r\nI want to move the Node class to its own file in the same directory as the Linked List class. How to I reference the Node class as a field in the Linked List class if I do this?\r\n\r\nNode class:\r\n\r\n    package stacks;\r\n    \r\n    public class Node&lt;T&gt;\r\n    {\r\n        T data;\r\n        Node&lt;T&gt; next;\r\n    \r\n        Node(T data)\r\n        {\r\n            this.data = data;\r\n        }\r\n    }\r\n\r\nLinked List class:\r\n\r\n    package stacks;\r\n    \r\n    import java.io.*;\r\n    \r\n    public class LinkedList&lt;AnyType&gt;\r\n    {\r\n        private Node&lt;AnyType&gt; head, tail;\r\n    }\r\n\r\n\r\nThis doesn&#39;t work if the node class is in a separate file. Since the &quot;Node&quot; is a field member of the LinkedList class, I do not want to instantiate it yet. I just want a reference to the class. \r\n\r\n\r\nThis is a very basic question, I know. I haven&#39;t done object oriented programming in a while so I don&#39;t really remember these basic things.\r\n\r\nThis is the error I&#39;m getting:\r\n\r\n    LinkedList.java:13: error: cannot find symbol\r\n        private Node&lt;AnyType&gt; head, tail;\r\n                ^\r\n      symbol:   class Node\r\n      location: class LinkedList&lt;AnyType&gt;\r\n      where AnyType is a type-variable:\r\n        AnyType extends Object declared in class LinkedList\r\n    1 error\r\n\r\n","title":"How do you make a Node class field member if the Node class is in a separate file?","body":"<p>This is a total noob question since I cannot remember.</p>\n<p>I want to make a homemade version of linked lists and my LinkedList class is as follows:</p>\n<pre><code>package stacks;\n\nimport java.io.*;\n\nclass Node&lt;T&gt;\n{\n    T data;\n    Node&lt;T&gt; next;\n\n    Node(T data)\n    {\n        this.data = data;\n    }\n}\n\npublic class LinkedList&lt;AnyType&gt;\n{\n    private Node&lt;AnyType&gt; head, tail;\n}\n</code></pre>\n<p>I want to move the Node class to its own file in the same directory as the Linked List class. How to I reference the Node class as a field in the Linked List class if I do this?</p>\n<p>Node class:</p>\n<pre><code>package stacks;\n\npublic class Node&lt;T&gt;\n{\n    T data;\n    Node&lt;T&gt; next;\n\n    Node(T data)\n    {\n        this.data = data;\n    }\n}\n</code></pre>\n<p>Linked List class:</p>\n<pre><code>package stacks;\n\nimport java.io.*;\n\npublic class LinkedList&lt;AnyType&gt;\n{\n    private Node&lt;AnyType&gt; head, tail;\n}\n</code></pre>\n<p>This doesn't work if the node class is in a separate file. Since the &quot;Node&quot; is a field member of the LinkedList class, I do not want to instantiate it yet. I just want a reference to the class.</p>\n<p>This is a very basic question, I know. I haven't done object oriented programming in a while so I don't really remember these basic things.</p>\n<p>This is the error I'm getting:</p>\n<pre><code>LinkedList.java:13: error: cannot find symbol\n    private Node&lt;AnyType&gt; head, tail;\n            ^\n  symbol:   class Node\n  location: class LinkedList&lt;AnyType&gt;\n  where AnyType is a type-variable:\n    AnyType extends Object declared in class LinkedList\n1 error\n</code></pre>\n"},{"tags":["java","spring-boot","spring-webflux"],"comments":[{"owner":{"account_id":1008660,"reputation":13673,"user_id":1021725,"accept_rate":75,"display_name":"David Brossard"},"score":0,"creation_date":1612031873,"post_id":65971489,"comment_id":116642255,"body_markdown":"Have a look at https://www.baeldung.com/spring-boot-change-context-path/","body":"Have a look at <a href=\"https://www.baeldung.com/spring-boot-change-context-path/\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-change-context-path</a>"},{"owner":{"account_id":12469735,"reputation":13915,"user_id":9078341,"display_name":"Randy Casburn"},"score":0,"creation_date":1612031981,"post_id":65971489,"comment_id":116642280,"body_markdown":"Is it possible that you are overriding the context-path somewhere with a configuration that is in your class path?","body":"Is it possible that you are overriding the context-path somewhere with a configuration that is in your class path?"},{"owner":{"account_id":552361,"reputation":18316,"user_id":917467,"accept_rate":76,"display_name":"html_programmer"},"score":1,"creation_date":1612031996,"post_id":65971489,"comment_id":116642288,"body_markdown":"@DavidBrossard Epic 404? :-)","body":"@DavidBrossard Epic 404? :-)"},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1612032429,"post_id":65971489,"comment_id":116642421,"body_markdown":"@DavidBrossard - That Baeldung link doesn&#39;t work for me, but I found a very similar one that I assume is what you wanted to direct us to:  https://www.baeldung.com/spring-boot-context-path - I looked this over, and all it seems to do is confirm that the OP is doing the right thing.","body":"@DavidBrossard - That Baeldung link doesn&#39;t work for me, but I found a very similar one that I assume is what you wanted to direct us to:  <a href=\"https://www.baeldung.com/spring-boot-context-path\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-context-path</a> - I looked this over, and all it seems to do is confirm that the OP is doing the right thing."},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1612032668,"post_id":65971489,"comment_id":116642490,"body_markdown":"Strange.  All I can think of is what @RandyCasburn suggests.  You might want to confirm what the final value of that property is by injecting it somewhere or looking it up in the Spring Environment.   That would narrow it down to if the property is not being set to what you think it is, or if it has the right value and that value is somehow not having the expected effect.","body":"Strange.  All I can think of is what @RandyCasburn suggests.  You might want to confirm what the final value of that property is by injecting it somewhere or looking it up in the Spring Environment.   That would narrow it down to if the property is not being set to what you think it is, or if it has the right value and that value is somehow not having the expected effect."},{"owner":{"account_id":552361,"reputation":18316,"user_id":917467,"accept_rate":76,"display_name":"html_programmer"},"score":0,"creation_date":1612032835,"post_id":65971489,"comment_id":116642525,"body_markdown":"@Steve I found the problem, I&#39;ll add an answer for future reference.","body":"@Steve I found the problem, I&#39;ll add an answer for future reference."},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1612032858,"post_id":65971489,"comment_id":116642530,"body_markdown":"@html_programmer - Coolio!","body":"@html_programmer - Coolio!"},{"owner":{"account_id":1008660,"reputation":13673,"user_id":1021725,"accept_rate":75,"display_name":"David Brossard"},"score":1,"creation_date":1612035436,"post_id":65971489,"comment_id":116643319,"body_markdown":"I have literally no idea what happened to my copy paste there but you found the right article and if anything it confirms that you&#39;re doing the right thing","body":"I have literally no idea what happened to my copy paste there but you found the right article and if anything it confirms that you&#39;re doing the right thing"}],"answers":[{"tags":[],"owner":{"account_id":3401338,"reputation":625,"user_id":2853402,"display_name":"adramazany"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1612031689,"creation_date":1612031335,"answer_id":65971689,"question_id":65971489,"body_markdown":"if you want to have dynamic and changable prefix for your uri, you could use custom variables in your properties file and use them as prefix of your mapping by ${}","title":"server.servlet.context-path not working (wtf)","body":"<p>if you want to have dynamic and changable prefix for your uri, you could use custom variables in your properties file and use them as prefix of your mapping by ${}</p>\n"},{"tags":[],"owner":{"account_id":552361,"reputation":18316,"user_id":917467,"accept_rate":76,"display_name":"html_programmer"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1612033935,"creation_date":1612032973,"answer_id":65971948,"question_id":65971489,"body_markdown":"What I&#39;m currently writing is boilerplate (this is why I hadn&#39;t implemented Webflux yet, simply to get a basic REST api working), but I have added the Maven Webflux package because I want a reactive api: \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\nIn which case the following property is needed instead: \r\n\r\n    spring.webflux.base-path=/api\r\n","title":"server.servlet.context-path not working (wtf)","body":"<p>What I'm currently writing is boilerplate (this is why I hadn't implemented Webflux yet, simply to get a basic REST api working), but I have added the Maven Webflux package because I want a reactive api:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>In which case the following property is needed instead:</p>\n<pre><code>spring.webflux.base-path=/api\n</code></pre>\n"}],"owner":{"account_id":552361,"reputation":18316,"user_id":917467,"accept_rate":76,"display_name":"html_programmer"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4609,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":65971948,"answer_count":2,"score":5,"last_activity_date":1699593538,"creation_date":1612030216,"question_id":65971489,"body_markdown":"My application.properties: \r\n\r\n    server.port=8080\r\n    server.servlet.context-path=/api\r\n\r\nController: \r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/posts&quot;)\r\n    public class PostController {\r\n    \r\n        @GetMapping({ &quot;/v1.0&quot; })\r\n        public ResponseEntity&lt;List&lt;Post&gt;&gt; getPosts(@RequestParam Optional&lt;String&gt; maxId) {\r\n            List&lt;Post&gt; posts = Arrays.asList(\r\n                    new Post(new ObjectId().toString(), &quot;Test status 1&quot;, LocalDateTime.now()),\r\n                    new Post(new ObjectId().toString(), &quot;Test status 2&quot;, LocalDateTime.now()),\r\n                    new Post(new ObjectId().toString(), &quot;Test status 3&quot;, LocalDateTime.now()),\r\n                    new Post(new ObjectId().toString(), &quot;Test status 4&quot;, LocalDateTime.now()),\r\n                    new Post(new ObjectId().toString(), &quot;Test status 5&quot;, LocalDateTime.now()),\r\n                    new Post(new ObjectId().toString(), &quot;Test status 6&quot;, LocalDateTime.now()),\r\n                    new Post(new ObjectId().toString(), &quot;Test status 7&quot;, LocalDateTime.now()),\r\n                    new Post(new ObjectId().toString(), &quot;Test status 8&quot;, LocalDateTime.now()),\r\n                    new Post(new ObjectId().toString(), &quot;Test status 9&quot;, LocalDateTime.now()),\r\n                    new Post(new ObjectId().toString(), &quot;Test status 10&quot;, LocalDateTime.now())\r\n            );\r\n            return ResponseEntity.ok(posts);\r\n        }\r\n    \r\n    }\r\n\r\nThis uri gives me a result in Postman: \r\n\r\n    localhost:8080/posts/v1.0\r\n\r\nWhereas this one does not: \r\n\r\n    localhost:8080/api/posts/v1.0\r\n\r\nDoesn&#39;t make any sense. \r\n\r\nVersion: \r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.2&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\nNote: application.properties gets properly read, I can change the port number at will. ","title":"server.servlet.context-path not working (wtf)","body":"<p>My application.properties:</p>\n<pre><code>server.port=8080\nserver.servlet.context-path=/api\n</code></pre>\n<p>Controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/posts&quot;)\npublic class PostController {\n\n    @GetMapping({ &quot;/v1.0&quot; })\n    public ResponseEntity&lt;List&lt;Post&gt;&gt; getPosts(@RequestParam Optional&lt;String&gt; maxId) {\n        List&lt;Post&gt; posts = Arrays.asList(\n                new Post(new ObjectId().toString(), &quot;Test status 1&quot;, LocalDateTime.now()),\n                new Post(new ObjectId().toString(), &quot;Test status 2&quot;, LocalDateTime.now()),\n                new Post(new ObjectId().toString(), &quot;Test status 3&quot;, LocalDateTime.now()),\n                new Post(new ObjectId().toString(), &quot;Test status 4&quot;, LocalDateTime.now()),\n                new Post(new ObjectId().toString(), &quot;Test status 5&quot;, LocalDateTime.now()),\n                new Post(new ObjectId().toString(), &quot;Test status 6&quot;, LocalDateTime.now()),\n                new Post(new ObjectId().toString(), &quot;Test status 7&quot;, LocalDateTime.now()),\n                new Post(new ObjectId().toString(), &quot;Test status 8&quot;, LocalDateTime.now()),\n                new Post(new ObjectId().toString(), &quot;Test status 9&quot;, LocalDateTime.now()),\n                new Post(new ObjectId().toString(), &quot;Test status 10&quot;, LocalDateTime.now())\n        );\n        return ResponseEntity.ok(posts);\n    }\n\n}\n</code></pre>\n<p>This uri gives me a result in Postman:</p>\n<pre><code>localhost:8080/posts/v1.0\n</code></pre>\n<p>Whereas this one does not:</p>\n<pre><code>localhost:8080/api/posts/v1.0\n</code></pre>\n<p>Doesn't make any sense.</p>\n<p>Version:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.4.2&lt;/version&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>Note: application.properties gets properly read, I can change the port number at will.</p>\n"},{"tags":["java","html","jsoup"],"comments":[{"owner":{"account_id":2263322,"reputation":8698,"user_id":1992780,"accept_rate":100,"display_name":"Davide Pastore"},"score":0,"creation_date":1469356897,"post_id":38538353,"comment_id":64493045,"body_markdown":"Your HTML seems not valid. Please take a look to [this answer](http://stackoverflow.com/a/10462413/1992780).","body":"Your HTML seems not valid. Please take a look to <a href=\"http://stackoverflow.com/a/10462413/1992780\">this answer</a>."},{"owner":{"account_id":4187061,"reputation":11,"user_id":3430578,"display_name":"Joon"},"score":1,"creation_date":1469358932,"post_id":38538353,"comment_id":64493526,"body_markdown":"Thank you for the comment! I guess a good place to start is to iterate through the elements and convert the &quot;&lt;&quot; characters in text to &quot;&amp;lt;&quot; before I start parsing.","body":"Thank you for the comment! I guess a good place to start is to iterate through the elements and convert the &quot;&lt;&quot; characters in text to &quot;&amp;lt;&quot; before I start parsing."}],"answers":[{"tags":[],"owner":{"account_id":4187061,"reputation":11,"user_id":3430578,"display_name":"Joon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1469410499,"creation_date":1469410499,"answer_id":38558569,"question_id":38538353,"body_markdown":"Thanks to the comment of Davide Pastore, and the question &quot;[Right angle bracket in HTML](https://stackoverflow.com/questions/10462348/right-angle-bracket-in-html/10462413#10462413)&quot;\r\n\r\nI was able to solve the problem with the following code.\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    doc = Jsoup.parse(new File(path), &quot;UTF-8&quot;);\r\n   \t//replace all left-angle tags inside &lt;p&gt; element to &quot;&amp;lt;&quot;\r\n   \tElements pTags = doc.select(&quot;p&quot;);\r\n   \tfor (Element tag : pTags) {\r\n   \t\t//change the boundary of the regex to whatever suits you\r\n   \t\tif (tag.html().matches(&quot;(.*)&lt;[a-z](.*)&quot;)) {\r\n   \t\t\tString innerHTML = tag.html().replaceAll(&quot;&lt;(?=[a-z])&quot;, &quot;&amp;lt;&quot;);\r\n   \t\t\ttag.html(innerHTML);\r\n   \t\t}\r\n   \t}\r\n\r\n\r\nIf you go through the process of converting &quot;&lt;&quot; in text to &lt;code&gt;&amp;lt;&lt;/code&gt; before you start parsing, you will be able the get the right output.","title":"How to prevent Jsoup from erasing angle-brackets inside text when parsing","body":"<p>Thanks to the comment of Davide Pastore, and the question \"<a href=\"https://stackoverflow.com/questions/10462348/right-angle-bracket-in-html/10462413#10462413\">Right angle bracket in HTML</a>\"</p>\n\n<p>I was able to solve the problem with the following code.\n</p>\n\n<pre><code>doc = Jsoup.parse(new File(path), \"UTF-8\");\n//replace all left-angle tags inside &lt;p&gt; element to \"&amp;lt;\"\nElements pTags = doc.select(\"p\");\nfor (Element tag : pTags) {\n    //change the boundary of the regex to whatever suits you\n    if (tag.html().matches(\"(.*)&lt;[a-z](.*)\")) {\n        String innerHTML = tag.html().replaceAll(\"&lt;(?=[a-z])\", \"&amp;lt;\");\n        tag.html(innerHTML);\n    }\n}\n</code></pre>\n\n<p>If you go through the process of converting \"&lt;\" in text to <code>&lt;</code> before you start parsing, you will be able the get the right output.</p>\n"},{"tags":[],"owner":{"account_id":11521950,"reputation":1,"user_id":8443458,"display_name":"Arvind Chauhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699593442,"creation_date":1699593442,"answer_id":77457838,"question_id":38538353,"body_markdown":"   doc = Jsoup.parse(new File(path), &quot;UTF-8&quot;);\r\n\r\nthis first line is changing html from \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;div&gt;\r\n        &lt;p&gt;1. &lt;someUnicodeString&gt;&lt;/p&gt;\r\n    &lt;/div&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nto \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;div&gt;\r\n        &lt;p&gt;1. &lt;someUnicodeString&gt; &lt;/someUnicodeString&gt;&lt;/p&gt;\r\n    &lt;/div&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nIt should be like after parsing, non html tags should be there without any modification.","title":"How to prevent Jsoup from erasing angle-brackets inside text when parsing","body":"<p>doc = Jsoup.parse(new File(path), &quot;UTF-8&quot;);</p>\n<p>this first line is changing html from</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div&gt;\n    &lt;p&gt;1. &lt;someUnicodeString&gt;&lt;/p&gt;\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>to</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div&gt;\n    &lt;p&gt;1. &lt;someUnicodeString&gt; &lt;/someUnicodeString&gt;&lt;/p&gt;\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>It should be like after parsing, non html tags should be there without any modification.</p>\n"}],"owner":{"account_id":4187061,"reputation":11,"user_id":3430578,"display_name":"Joon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":956,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":38558569,"answer_count":2,"score":1,"last_activity_date":1699593442,"creation_date":1469250192,"question_id":38538353,"body_markdown":"I am trying to parse only the texts of an html document which contains angle-brackets as part of text.\r\n\r\nFor example, the html file would look something like this:\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;html&gt;\r\n     &lt;head&gt;&lt;/head&gt; \r\n     &lt;body&gt; \r\n      &lt;div&gt;\r\n        &lt;p&gt;1. &lt;someUnicodeString&gt;&lt;/p&gt; \r\n        &lt;p&gt;2. &lt;foo 2012.12.26.&gt;&lt;/p&gt; \r\n        &lt;p&gt;3. &lt;123 2012.12.26.&gt;&lt;/p&gt; \r\n        &lt;p&gt;4. &lt;@ 2012.12.26.&gt;&lt;/p&gt; \r\n        &lt;p&gt;5. foobarbar&lt;/p&gt; \r\n      &lt;/div&gt;\r\n     &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nI want the outcome of the parsed textfile to be like this:\r\n\r\n    1. &lt;someUnicodeString&gt; \r\n    2. &lt;foo 2012.12.26.&gt; \r\n    3. &lt;123 2012.12.26.&gt; \r\n    4. &lt;@ 2012.12.26.&gt; \r\n    5. foobarbar\r\n\r\nI am using Jsoup&#39;s parse function to achieve this as shown below,\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    Document doc = null;\r\n\t\r\n\ttry {\r\n\t\tdoc = Jsoup.parse(new File(path), &quot;UTF-8&quot;);\r\n\t\tdoc.outputSettings(new Document.OutputSettings().prettyPrint(false));\r\n\t\tdoc.outputSettings().escapeMode(EscapeMode.xhtml);\r\n\t\t\r\n\t\t//set line breaks in readable format\r\n\t\tdoc.select(&quot;br&quot;).append(&quot;\\\\n&quot;);\r\n\t\tdoc.select(&quot;p&quot;).prepend(&quot;\\\\n\\\\n&quot;);\r\n\t\tString bodyText = doc.body().html().replaceAll(&quot;\\\\\\\\n&quot;, &quot;\\n&quot;);\r\n\t\tbodyText = Jsoup.clean(bodyText, &quot;&quot;, Whitelist.none(), new Document.OutputSettings().prettyPrint(false));\r\n\r\n\t\tFile f = new File(textFileName+&quot;.txt&quot;);\r\n\t\tf.getParentFile().mkdirs();\r\n\t\tPrintWriter writer = new PrintWriter(f, &quot;UTF-8&quot;);\r\n\t\twriter.print(Parser.unescapeEntities(bodyText, false));\r\n    \twriter.close();\r\n\t} catch(IOException e) {\r\n        //Do something\r\n\t\te.printStackTrace();\r\n\t}\r\n\r\nHowever once Jsoup goes through the parsing process, it adds tags for each angle-bracket followed by characters.\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;p&gt;1. &lt;someUnicodeString&gt;&lt;/someUnicodeString&gt;&lt;/p&gt; \r\n    &lt;p&gt;2. &lt;foo 2012.12.26.&gt;&lt;/foo&gt;&lt;/p&gt; \r\n    &lt;p&gt;3. &lt;123 2012.12.26.&gt;&lt;/p&gt; \r\n    &lt;p&gt;4. &lt;@ 2012.12.26.&gt;&lt;/p&gt; \r\n    &lt;p&gt;5. foobarbar&lt;/p&gt; \r\n\r\nEventually producing the outcome\r\n\r\n    1.  \r\n    2.  \r\n    3. &lt;123 2012.12.26.&gt; \r\n    4. &lt;@ 2012.12.26.&gt; \r\n    5. asdasd \r\n\r\nHow can I prevent Jsoup from erasing angle-brackets inside text when parsing?\r\n\r\nOr is there a way to make Jsoup to recognize that certain angle-brackets are not html elements? (perhaps using regex?)\r\n\r\nI am new to Jsoup and would very much appreciate any kind of help.\r\nThank you.","title":"How to prevent Jsoup from erasing angle-brackets inside text when parsing","body":"<p>I am trying to parse only the texts of an html document which contains angle-brackets as part of text.</p>\n\n<p>For example, the html file would look something like this:\n</p>\n\n<pre><code>&lt;html&gt;\n &lt;head&gt;&lt;/head&gt; \n &lt;body&gt; \n  &lt;div&gt;\n    &lt;p&gt;1. &lt;someUnicodeString&gt;&lt;/p&gt; \n    &lt;p&gt;2. &lt;foo 2012.12.26.&gt;&lt;/p&gt; \n    &lt;p&gt;3. &lt;123 2012.12.26.&gt;&lt;/p&gt; \n    &lt;p&gt;4. &lt;@ 2012.12.26.&gt;&lt;/p&gt; \n    &lt;p&gt;5. foobarbar&lt;/p&gt; \n  &lt;/div&gt;\n &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I want the outcome of the parsed textfile to be like this:</p>\n\n<pre><code>1. &lt;someUnicodeString&gt; \n2. &lt;foo 2012.12.26.&gt; \n3. &lt;123 2012.12.26.&gt; \n4. &lt;@ 2012.12.26.&gt; \n5. foobarbar\n</code></pre>\n\n<p>I am using Jsoup's parse function to achieve this as shown below,\n</p>\n\n<pre><code>Document doc = null;\n\ntry {\n    doc = Jsoup.parse(new File(path), \"UTF-8\");\n    doc.outputSettings(new Document.OutputSettings().prettyPrint(false));\n    doc.outputSettings().escapeMode(EscapeMode.xhtml);\n\n    //set line breaks in readable format\n    doc.select(\"br\").append(\"\\\\n\");\n    doc.select(\"p\").prepend(\"\\\\n\\\\n\");\n    String bodyText = doc.body().html().replaceAll(\"\\\\\\\\n\", \"\\n\");\n    bodyText = Jsoup.clean(bodyText, \"\", Whitelist.none(), new Document.OutputSettings().prettyPrint(false));\n\n    File f = new File(textFileName+\".txt\");\n    f.getParentFile().mkdirs();\n    PrintWriter writer = new PrintWriter(f, \"UTF-8\");\n    writer.print(Parser.unescapeEntities(bodyText, false));\n    writer.close();\n} catch(IOException e) {\n    //Do something\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>However once Jsoup goes through the parsing process, it adds tags for each angle-bracket followed by characters.\n</p>\n\n<pre><code>&lt;p&gt;1. &lt;someUnicodeString&gt;&lt;/someUnicodeString&gt;&lt;/p&gt; \n&lt;p&gt;2. &lt;foo 2012.12.26.&gt;&lt;/foo&gt;&lt;/p&gt; \n&lt;p&gt;3. &lt;123 2012.12.26.&gt;&lt;/p&gt; \n&lt;p&gt;4. &lt;@ 2012.12.26.&gt;&lt;/p&gt; \n&lt;p&gt;5. foobarbar&lt;/p&gt; \n</code></pre>\n\n<p>Eventually producing the outcome</p>\n\n<pre><code>1.  \n2.  \n3. &lt;123 2012.12.26.&gt; \n4. &lt;@ 2012.12.26.&gt; \n5. asdasd \n</code></pre>\n\n<p>How can I prevent Jsoup from erasing angle-brackets inside text when parsing?</p>\n\n<p>Or is there a way to make Jsoup to recognize that certain angle-brackets are not html elements? (perhaps using regex?)</p>\n\n<p>I am new to Jsoup and would very much appreciate any kind of help.\nThank you.</p>\n"},{"tags":["java","groovy","spock","utc","zoneddatetime"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":2,"creation_date":1699038544,"post_id":77419050,"comment_id":136485692,"body_markdown":"BTW comparing reference types (objects) using `==` is often (almost always) an error... it is just comparing the reference, not the *content* - I would expect that even `now.atZone(ZoneOffset.UTC) == now.atZone(ZoneOffset.UTC)` will return `false`, despite `now.atZone(ZoneOffset.UTC).equals( now.atZone(ZoneOffset.UTC) )` being `true`","body":"BTW comparing reference types (objects) using <code>==</code> is often (almost always) an error... it is just comparing the reference, not the <i>content</i> - I would expect that even <code>now.atZone(ZoneOffset.UTC) == now.atZone(ZoneOffset.UTC)</code> will return <code>false</code>, despite <code>now.atZone(ZoneOffset.UTC).equals( now.atZone(ZoneOffset.UTC) )</code> being <code>true</code>"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1699040007,"post_id":77419050,"comment_id":136485911,"body_markdown":"( even in the [documentation](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/ZonedDateTime.html) of `ZonedDateTime`: &quot;The `equals` method should be used for comparisons.&quot; )","body":"( even in the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\">documentation</a> of <code>ZonedDateTime</code>: &quot;The <code>equals</code> method should be used for comparisons.&quot; )"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1699046757,"post_id":77419050,"comment_id":136486933,"body_markdown":"If you&#39;re using Spock, this is Groovy not Java, correct?","body":"If you&#39;re using Spock, this is Groovy not Java, correct?"},{"owner":{"account_id":1473456,"reputation":175,"user_id":1384439,"accept_rate":0,"display_name":"M. A. Tanaka"},"score":0,"creation_date":1699179905,"post_id":77419050,"comment_id":136496709,"body_markdown":"@s&#246;ren you are right this is written in groovy most likely that is why i got a negative response. But == in groovy is the same as equals method in java","body":"@s&#246;ren you are right this is written in groovy most likely that is why i got a negative response. But == in groovy is the same as equals method in java"},{"owner":{"account_id":1473456,"reputation":175,"user_id":1384439,"accept_rate":0,"display_name":"M. A. Tanaka"},"score":0,"creation_date":1699180346,"post_id":77419050,"comment_id":136496754,"body_markdown":"@user85421 it was not clear that the code was written in groovy  so the == is considered the same as equals in java.","body":"@user85421 it was not clear that the code was written in groovy  so the == is considered the same as equals in java."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699377823,"post_id":77419050,"comment_id":136523044,"body_markdown":"I hope I have added the correct tags to *represent* your problem :-/","body":"I hope I have added the correct tags to <i>represent</i> your problem :-/"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1699447778,"post_id":77419050,"comment_id":136532033,"body_markdown":"Why are so many people obsessing about `==`, if they don&#39;t even speak Groovy? &#128533;","body":"Why are so many people obsessing about <code>==</code>, if they don&#39;t even speak Groovy? 😕"},{"owner":{"account_id":4541793,"reputation":26874,"user_id":3689450,"display_name":"VLAZ"},"score":0,"creation_date":1699448330,"post_id":77419050,"comment_id":136532156,"body_markdown":"@kriegaex because there was *no information about this being Groovy* and has initially only tagged with [[tag:java]]. I find it surprising you are dismayed that question that *has not been* tagged with the Groovy tag, doesn&#39;t mention Groovy, and asks about Java (even using the Java tag) is perceived to be about the semantics of `==` in Java.","body":"@kriegaex because there was <i>no information about this being Groovy</i> and has initially only tagged with [<a href=\"https://stackoverflow.com/questions/tagged/java\">java</a>]. I find it surprising you are dismayed that question that <i>has not been</i> tagged with the Groovy tag, doesn&#39;t mention Groovy, and asks about Java (even using the Java tag) is perceived to be about the semantics of <code>==</code> in Java."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1699450963,"post_id":77419050,"comment_id":136532670,"body_markdown":"The OP said that he tested with Spock, which, despite missing tags, implies Groovy and, well, Spock. People could just read the whole question...","body":"The OP said that he tested with Spock, which, despite missing tags, implies Groovy and, well, Spock. People could just read the whole question..."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699461666,"post_id":77419050,"comment_id":136535396,"body_markdown":"@kriegaex so every Java developer must know that Spock is Groovy??? And also that `==` in Groovy, is `equals` in Java??? Not sure why you call trying to help &quot;obsessing&quot;. But I would like to point you to the description of the [Comment Everywhere Privilege](https://stackoverflow.com/help/privileges/comment), in special the last *section*.","body":"@kriegaex so every Java developer must know that Spock is Groovy??? And also that <code>==</code> in Groovy, is <code>equals</code> in Java??? Not sure why you call trying to help &quot;obsessing&quot;. But I would like to point you to the description of the <a href=\"https://stackoverflow.com/help/privileges/comment\">Comment Everywhere Privilege</a>, in special the last <i>section</i>."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1699487350,"post_id":77419050,"comment_id":136539710,"body_markdown":"No, of course not every developer must know. But when reading a question and meeting something she does not know - say a library, tool or technology - she should spare herself the embarrassment of writing a nonsense answer or comment by exerting at least minimal effort to google that, instead of simply allowing herself to be triggered by a cursory glance at a code snippet, falsely believing she knows what is wrong with it.  Like so often in life, also in programming it is about three things: context, context and context. &#128521;","body":"No, of course not every developer must know. But when reading a question and meeting something she does not know - say a library, tool or technology - she should spare herself the embarrassment of writing a nonsense answer or comment by exerting at least minimal effort to google that, instead of simply allowing herself to be triggered by a cursory glance at a code snippet, falsely believing she knows what is wrong with it.  Like so often in life, also in programming it is about three things: context, context and context. 😉"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1699487555,"post_id":77419050,"comment_id":136539734,"body_markdown":"I am in no way ridiculing people who are trying to help others. Even a faulty try is commendable, I am totally with you there. But maybe some more care and research are helpful in order to avoid confusing OPs more than helping them. Put yourself in the position of an OP for a minute: He has a problem he cannot solve without help, so he is confused already.","body":"I am in no way ridiculing people who are trying to help others. Even a faulty try is commendable, I am totally with you there. But maybe some more care and research are helpful in order to avoid confusing OPs more than helping them. Put yourself in the position of an OP for a minute: He has a problem he cannot solve without help, so he is confused already."}],"answers":[{"tags":[],"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1699039405,"creation_date":1699038939,"answer_id":77419191,"question_id":77419050,"body_markdown":"From the [ZoneId documentation](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/ZoneId.html):\r\n\r\n&gt; A ZoneId is used to identify the rules used to convert between an Instant and a LocalDateTime. \r\n\r\nFrom the [ZoneOffset documentation](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/ZoneOffset.html):\r\n\r\n&gt;  Different parts of the world have different time-zone offsets. The rules for how offsets vary by place and time of year are captured in the ZoneId class.\r\n&gt;\r\n&gt; For example, Paris is one hour ahead of Greenwich/UTC in winter and two hours ahead in summer. The ZoneId instance for Paris will reference two ZoneOffset instances - a +01:00 instance for winter, and a +02:00 instance for summer. \r\n\r\nSo the difference is summer vs winter time (daylight savings time), if the region uses them. There could be different states or countries in the same time zone, for example, Mexico City and Chicago are in the same zone offset (GMT-5), but Mexico stopped switching between summer and winter time in spring of 2023, so during summer they were an hour off, and in winter they&#39;ll match again.\r\n\r\nSo if you want to display or convert to local time, always use the ZoneId which considers the location (state) and the local rules on daylight savings time.","title":"What is the difference between UTC (ZoneId) and (ZoneOffSet)","body":"<p>From the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/ZoneId.html\" rel=\"nofollow noreferrer\">ZoneId documentation</a>:</p>\n<blockquote>\n<p>A ZoneId is used to identify the rules used to convert between an Instant and a LocalDateTime.</p>\n</blockquote>\n<p>From the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/ZoneOffset.html\" rel=\"nofollow noreferrer\">ZoneOffset documentation</a>:</p>\n<blockquote>\n<p>Different parts of the world have different time-zone offsets. The rules for how offsets vary by place and time of year are captured in the ZoneId class.</p>\n<p>For example, Paris is one hour ahead of Greenwich/UTC in winter and two hours ahead in summer. The ZoneId instance for Paris will reference two ZoneOffset instances - a +01:00 instance for winter, and a +02:00 instance for summer.</p>\n</blockquote>\n<p>So the difference is summer vs winter time (daylight savings time), if the region uses them. There could be different states or countries in the same time zone, for example, Mexico City and Chicago are in the same zone offset (GMT-5), but Mexico stopped switching between summer and winter time in spring of 2023, so during summer they were an hour off, and in winter they'll match again.</p>\n<p>So if you want to display or convert to local time, always use the ZoneId which considers the location (state) and the local rules on daylight savings time.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1699054164,"creation_date":1699054164,"answer_id":77420182,"question_id":77419050,"body_markdown":"\r\nThe _double-equal_ _[equality operator](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/operators.html)_ will simply compare, in this case, the _instance_ of the object.\r\n\r\nSince _lhs_, and _rhs_, are assigned different _instances_, the values will return _false_.\r\n\r\nTypically, the _[Object#equals](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object))_ method will return whether the content is equal.\r\n\r\n```java\r\nboolean equal = lhs.equals(rhs)\r\n```\r\n\r\nIf not, implement your own comparison method.","title":"What is the difference between UTC (ZoneId) and (ZoneOffSet)","body":"<p>The <em>double-equal</em> <em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/operators.html\" rel=\"nofollow noreferrer\">equality operator</a></em> will simply compare, in this case, the <em>instance</em> of the object.</p>\n<p>Since <em>lhs</em>, and <em>rhs</em>, are assigned different <em>instances</em>, the values will return <em>false</em>.</p>\n<p>Typically, the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\">Object#equals</a></em> method will return whether the content is equal.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean equal = lhs.equals(rhs)\n</code></pre>\n<p>If not, implement your own comparison method.</p>\n"},{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1699593280,"creation_date":1699490701,"answer_id":77449790,"question_id":77419050,"body_markdown":"Quoting my own comment:\r\n\r\n&gt; Z is just a military equivalent to UTC, and the `equals` method should be a bit more precise there. When debugging into the JDK, in the end it boils down to a comparison of two zone IDs, and the fact that `&quot;UTC&quot;.equals(&quot;Z&quot;)` evaluates to `false`. The JDK itself uses both in different contexts, so it also should know that they are equivalent.\r\n\r\nHaving said that, your workaround is to use `ZoneId.normalized()`:\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q77419050\r\n\r\nimport spock.lang.Specification\r\n\r\nimport java.time.Duration\r\nimport java.time.LocalDateTime\r\nimport java.time.ZoneId\r\nimport java.time.ZoneOffset\r\nimport java.time.temporal.ChronoUnit\r\n\r\nclass TimeZoneTest extends Specification {\r\n  def test() {\r\n    given:\r\n    def now = LocalDateTime.now()\r\n    \r\n    when:\r\n    def lhs = now.atZone(ZoneOffset.UTC.normalized())\r\n    def rhs = now.atZone(ZoneId.of(&#39;UTC&#39;).normalized())\r\n    def timeDifference = Duration.between(lhs, rhs).get(ChronoUnit.SECONDS)\r\n\r\n    then:\r\n    lhs == rhs\r\n    timeDifference == 0\r\n  }\r\n}\r\n```\r\n\r\nTry it in the Groovy Web Console,\r\n\r\n  * either the [simple version](https://gwc-experiment.appspot.com/?g=groovy_2_5&amp;codez=eNp1kMFOAjEQhu99it7oJmaCiYZowon1QGLkAFy8mNqdLpVuu7YDazS8u-0SQQQvTWf--Wb-mVaqtayRVwhRhU3z0shIGCBSEvwWg7a-g_fR6Ob6bng7ZMw0rQ_EY-vVGqx0NcxbVEYbJcl4dyh4k1sJZBqEchP20pny6JW0pSRcpOhcfvYOp9Xl_EzriHSuEeaMtDBZBe_80hliTFkZI89DMrrASBw_CF0V-Yl5_sV4uoTmlEpE0Yec12aL7r7_Zs35jo_5iXVIOVH0Ff3TrX4DdhUTkEpAUp4vjv5huZgkODTSmk-sRFEcqHCJmlbgtRgkalD8w-UrlEZrDOgUphY_54dXpA7RieTnKrcvoEYSxzvB_GEyeyrnBeub0WGJfoFxRvbCnwljPkz5Hduxb9_xw64) printed above\r\n\r\n  * or the [more verbose version](https://gwc-experiment.appspot.com/?g=groovy_2_5&amp;codez=eNqtU8Fu2zAMvfsruFNsoBVSoEWxATnFOxgo2kPSSy-DJtGuVltyJSUZMvTfR9lZVMdOgQ07knx875GUWi5eeIUgkTlhN823hjuPljlPBbNFW9Zmx15vb6-vPs9v5kmimtZYD6414oXVXFds1aJQpRLcK6OPgB98y5lXDbJ8Y_vSqHJnBK9z7nFN0bj8ZDQWcjr_UJYO_bjmMWR4zZbP1mjzqJVPElFz5yCIhNY1Og_406OWDgbm4VcCtIkSPEHSrAsBKrVF_QVmYmMtag91cA2SbF8GSeBawuN6CXviBqVLY5uObdZ1BzptdrCAwbSMcml2ROyPIxEwzseId4Ap5KFeSGbKdEb1WZZ0kN1z79I0LbdKV6SqL3UwU6s9yq5dRtsOyGjv2fTCW8f6uMgH1p_ee6OYcR9SafScncI7myfQQkZYMJCrskRaqEDC_nkj7Dv6HaJOB7oXkTdjFfo0Hpetvi4f7vPVYQm-X8JoVtmJkbZrlUfYozWdiUMhuOhnHs77aRGVe_4T4wuYn93-_9z8fWQ7cwMWBdNs4iAfMdBjGnf_5Y0i_8WU6D_ejVv6UpJ-Hf3QeuJC76daTOmevRrAW_KW_AaHsLaF) with comments, showcasing both the equal and non-equal variants.\r\n\r\nMore details can be found in [this answer](https://stackoverflow.com/a/39507023/1082681).","title":"What is the difference between UTC (ZoneId) and (ZoneOffSet)","body":"<p>Quoting my own comment:</p>\n<blockquote>\n<p>Z is just a military equivalent to UTC, and the <code>equals</code> method should be a bit more precise there. When debugging into the JDK, in the end it boils down to a comparison of two zone IDs, and the fact that <code>&quot;UTC&quot;.equals(&quot;Z&quot;)</code> evaluates to <code>false</code>. The JDK itself uses both in different contexts, so it also should know that they are equivalent.</p>\n</blockquote>\n<p>Having said that, your workaround is to use <code>ZoneId.normalized()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q77419050\n\nimport spock.lang.Specification\n\nimport java.time.Duration\nimport java.time.LocalDateTime\nimport java.time.ZoneId\nimport java.time.ZoneOffset\nimport java.time.temporal.ChronoUnit\n\nclass TimeZoneTest extends Specification {\n  def test() {\n    given:\n    def now = LocalDateTime.now()\n    \n    when:\n    def lhs = now.atZone(ZoneOffset.UTC.normalized())\n    def rhs = now.atZone(ZoneId.of('UTC').normalized())\n    def timeDifference = Duration.between(lhs, rhs).get(ChronoUnit.SECONDS)\n\n    then:\n    lhs == rhs\n    timeDifference == 0\n  }\n}\n</code></pre>\n<p>Try it in the Groovy Web Console,</p>\n<ul>\n<li><p>either the <a href=\"https://gwc-experiment.appspot.com/?g=groovy_2_5&amp;codez=eNp1kMFOAjEQhu99it7oJmaCiYZowon1QGLkAFy8mNqdLpVuu7YDazS8u-0SQQQvTWf--Wb-mVaqtayRVwhRhU3z0shIGCBSEvwWg7a-g_fR6Ob6bng7ZMw0rQ_EY-vVGqx0NcxbVEYbJcl4dyh4k1sJZBqEchP20pny6JW0pSRcpOhcfvYOp9Xl_EzriHSuEeaMtDBZBe_80hliTFkZI89DMrrASBw_CF0V-Yl5_sV4uoTmlEpE0Yec12aL7r7_Zs35jo_5iXVIOVH0Ff3TrX4DdhUTkEpAUp4vjv5huZgkODTSmk-sRFEcqHCJmlbgtRgkalD8w-UrlEZrDOgUphY_54dXpA7RieTnKrcvoEYSxzvB_GEyeyrnBeub0WGJfoFxRvbCnwljPkz5Hduxb9_xw64\" rel=\"nofollow noreferrer\">simple version</a> printed above</p>\n</li>\n<li><p>or the <a href=\"https://gwc-experiment.appspot.com/?g=groovy_2_5&amp;codez=eNqtU8Fu2zAMvfsruFNsoBVSoEWxATnFOxgo2kPSSy-DJtGuVltyJSUZMvTfR9lZVMdOgQ07knx875GUWi5eeIUgkTlhN823hjuPljlPBbNFW9Zmx15vb6-vPs9v5kmimtZYD6414oXVXFds1aJQpRLcK6OPgB98y5lXDbJ8Y_vSqHJnBK9z7nFN0bj8ZDQWcjr_UJYO_bjmMWR4zZbP1mjzqJVPElFz5yCIhNY1Og_406OWDgbm4VcCtIkSPEHSrAsBKrVF_QVmYmMtag91cA2SbF8GSeBawuN6CXviBqVLY5uObdZ1BzptdrCAwbSMcml2ROyPIxEwzseId4Ap5KFeSGbKdEb1WZZ0kN1z79I0LbdKV6SqL3UwU6s9yq5dRtsOyGjv2fTCW8f6uMgH1p_ee6OYcR9SafScncI7myfQQkZYMJCrskRaqEDC_nkj7Dv6HaJOB7oXkTdjFfo0Hpetvi4f7vPVYQm-X8JoVtmJkbZrlUfYozWdiUMhuOhnHs77aRGVe_4T4wuYn93-_9z8fWQ7cwMWBdNs4iAfMdBjGnf_5Y0i_8WU6D_ejVv6UpJ-Hf3QeuJC76daTOmevRrAW_KW_AaHsLaF\" rel=\"nofollow noreferrer\">more verbose version</a> with comments, showcasing both the equal and non-equal variants.</p>\n</li>\n</ul>\n<p>More details can be found in <a href=\"https://stackoverflow.com/a/39507023/1082681\">this answer</a>.</p>\n"}],"owner":{"account_id":1473456,"reputation":175,"user_id":1384439,"accept_rate":0,"display_name":"M. A. Tanaka"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1699593280,"creation_date":1699037239,"question_id":77419050,"body_markdown":"Out of curiosity are there any one who knows what the difference is between UTC as ZoneId and ZoneOffset in Java.\r\n\r\nI was a little bit surprised that it was not true when comparing utc in zoneid and zoneoffset\r\n\r\nI tried to write this test in spock and the only thing I could find was that the zone is different.\r\n\r\nAnd does anyone have any recommendation on which one to use when?\r\n\r\nIt is not clear from the example but I actually used spock/groovy  where == corresponds to the equals method in java, so apoligize for that\r\n\r\nBut no matter if I would have written lhs.equals(rhs) it would still return false\r\n\r\n``` \r\nLocalDateTime now = LocalDateTime.now() // 2023-11-03T19:42:41.772234517\r\nZonedDateTime lhs = now.atZone(ZoneOffset.UTC) \r\nString lhsString = lhs.toString() // 2023-11-03T19:42:41.772234517Z\r\nZonedDateTime rhs = now.atZone(ZoneId.of(&#39;UTC&#39;))\r\nString rhsString = rhs.toString()  // 2023-11-03T19:42:41.772234517Z[UTC]\r\nDuration duration = Duration.between(lhs, rhs)  // PT0S\r\nboolean equal = lhs == rhs   // this is false\r\n ```","title":"What is the difference between UTC (ZoneId) and (ZoneOffSet)","body":"<p>Out of curiosity are there any one who knows what the difference is between UTC as ZoneId and ZoneOffset in Java.</p>\n<p>I was a little bit surprised that it was not true when comparing utc in zoneid and zoneoffset</p>\n<p>I tried to write this test in spock and the only thing I could find was that the zone is different.</p>\n<p>And does anyone have any recommendation on which one to use when?</p>\n<p>It is not clear from the example but I actually used spock/groovy  where == corresponds to the equals method in java, so apoligize for that</p>\n<p>But no matter if I would have written lhs.equals(rhs) it would still return false</p>\n<pre><code>LocalDateTime now = LocalDateTime.now() // 2023-11-03T19:42:41.772234517\nZonedDateTime lhs = now.atZone(ZoneOffset.UTC) \nString lhsString = lhs.toString() // 2023-11-03T19:42:41.772234517Z\nZonedDateTime rhs = now.atZone(ZoneId.of('UTC'))\nString rhsString = rhs.toString()  // 2023-11-03T19:42:41.772234517Z[UTC]\nDuration duration = Duration.between(lhs, rhs)  // PT0S\nboolean equal = lhs == rhs   // this is false\n</code></pre>\n"},{"tags":["java","sql","db2","snowflake-schema"],"comments":[{"owner":{"account_id":16197938,"reputation":3962,"user_id":11695049,"display_name":"tinazmu"},"score":0,"creation_date":1699594153,"post_id":77457823,"comment_id":136554319,"body_markdown":"are you certain that the datepointer and stopdate contain just the dates and no time parts?","body":"are you certain that the datepointer and stopdate contain just the dates and no time parts?"},{"owner":{"account_id":10981964,"reputation":43,"user_id":8068792,"accept_rate":0,"display_name":"Prabhash Mishra"},"score":0,"creation_date":1699596250,"post_id":77457823,"comment_id":136554514,"body_markdown":"No there is no time part in db.","body":"No there is no time part in db."},{"owner":{"account_id":16197938,"reputation":3962,"user_id":11695049,"display_name":"tinazmu"},"score":1,"creation_date":1699599744,"post_id":77457823,"comment_id":136554839,"body_markdown":"It is only 29 entries, select individual values (aggregation) for that subset, and see which is different (if any). Is there a difference between how the cast function is implemented between DB2 and SF?","body":"It is only 29 entries, select individual values (aggregation) for that subset, and see which is different (if any). Is there a difference between how the cast function is implemented between DB2 and SF?"},{"owner":{"account_id":494473,"reputation":22029,"user_id":2933177,"accept_rate":50,"display_name":"Charles"},"score":0,"creation_date":1699627476,"post_id":77457823,"comment_id":136559415,"body_markdown":"what platform and version of Db2?  What are the actual dates involved when there&#39;s a difference?","body":"what platform and version of Db2?  What are the actual dates involved when there&#39;s a difference?"}],"owner":{"account_id":10981964,"reputation":43,"user_id":8068792,"accept_rate":0,"display_name":"Prabhash Mishra"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699593181,"creation_date":1699593181,"question_id":77457823,"body_markdown":"We are migrating from DB2 to Snowflake. For the same query in DB2 and snowflake the datediff() of snowflake is giving count more then one for some of the values not for all campared to Days() of DB2.Most of values are matching. I am generating query dynamically in java and sending it snowflake to execute.\r\n\r\nDb2 Query:\r\n\r\n \r\n\r\n    Select \r\n    &#39;1&#39; as fromPattern, Cast(p1.patternnumber as varchar(20)) as fromCode,\r\n    &#39;2&#39; as toPattern, Cast(p2.patternnumber as varchar(20)) as toCode,\r\n    Cast(Cast(count(*) as Integer) as varchar(20)) as num,\r\n    Cast(Cast(avg(Days(p2.datepointer) - Days(p1.stopdate)) as Integer) as varchar(20)) as avgGap \r\n    from TenMillion_20220731.NS8661_562_20231109_104300_097 p1 \r\n    join TenMillion_20220731.NS8661_564_20231109_104338_543 p2 on p1.personid=p2.personid \r\n    group by p1.patternnumber, p2.patternnumber \r\n    order by fromPattern, toPattern, fromCode, toCode\r\n\r\nSnowflake Query:\r\n\r\n    Select \r\n    &#39;1&#39; as fromPattern, Cast(p1.patternnumber as varchar(20)) as fromCode,\r\n    &#39;2&#39; as toPattern, Cast(p2.patternnumber as varchar(20)) as toCode,\r\n    Cast(Cast(count(*) as Integer) as varchar(20)) as num,\r\n    Cast(Cast(avg(datediff(day,p1.stopdate,p2.datepointer)) as Integer) as varchar(20)) as avgGap \r\n    from TenMillion_20220731.NS10386_147_20231108_235900_717 p1 \r\n    join TenMillion_20220731.NS10386_149_20231108_235900_717 p2 on p1.personid=p2.personid \r\n    group by p1.patternnumber, p2.patternnumber \r\n    order by fromPattern, toPattern, fromCode, toCode \r\n\r\nDb2 Output:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nSnowFlake Output:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EnimH.png\r\n  [2]: https://i.stack.imgur.com/ZOWW2.png\r\n\r\nAVGGAP column for DB2 is date difference column which has values 619 and 340 in DB2 but in snowflake is 620 and 341 respectively. Other values are matching except two.\r\n\r\nCan anyone please help me to understand why same function is giving same as well as different values. Its vary important to understand this issue because its data mismatch in our application which needs to clarify to vendor. Please help.\r\n\r\nThanks,\r\nPrabhash Mishra","title":"Date difference function in snowflake is giving one more count for same query in DB2","body":"<p>We are migrating from DB2 to Snowflake. For the same query in DB2 and snowflake the datediff() of snowflake is giving count more then one for some of the values not for all campared to Days() of DB2.Most of values are matching. I am generating query dynamically in java and sending it snowflake to execute.</p>\n<p>Db2 Query:</p>\n<pre><code>Select \n'1' as fromPattern, Cast(p1.patternnumber as varchar(20)) as fromCode,\n'2' as toPattern, Cast(p2.patternnumber as varchar(20)) as toCode,\nCast(Cast(count(*) as Integer) as varchar(20)) as num,\nCast(Cast(avg(Days(p2.datepointer) - Days(p1.stopdate)) as Integer) as varchar(20)) as avgGap \nfrom TenMillion_20220731.NS8661_562_20231109_104300_097 p1 \njoin TenMillion_20220731.NS8661_564_20231109_104338_543 p2 on p1.personid=p2.personid \ngroup by p1.patternnumber, p2.patternnumber \norder by fromPattern, toPattern, fromCode, toCode\n</code></pre>\n<p>Snowflake Query:</p>\n<pre><code>Select \n'1' as fromPattern, Cast(p1.patternnumber as varchar(20)) as fromCode,\n'2' as toPattern, Cast(p2.patternnumber as varchar(20)) as toCode,\nCast(Cast(count(*) as Integer) as varchar(20)) as num,\nCast(Cast(avg(datediff(day,p1.stopdate,p2.datepointer)) as Integer) as varchar(20)) as avgGap \nfrom TenMillion_20220731.NS10386_147_20231108_235900_717 p1 \njoin TenMillion_20220731.NS10386_149_20231108_235900_717 p2 on p1.personid=p2.personid \ngroup by p1.patternnumber, p2.patternnumber \norder by fromPattern, toPattern, fromCode, toCode \n</code></pre>\n<p>Db2 Output:\n<a href=\"https://i.stack.imgur.com/EnimH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EnimH.png\" alt=\"enter image description here\" /></a></p>\n<p>SnowFlake Output:\n<a href=\"https://i.stack.imgur.com/ZOWW2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZOWW2.png\" alt=\"enter image description here\" /></a></p>\n<p>AVGGAP column for DB2 is date difference column which has values 619 and 340 in DB2 but in snowflake is 620 and 341 respectively. Other values are matching except two.</p>\n<p>Can anyone please help me to understand why same function is giving same as well as different values. Its vary important to understand this issue because its data mismatch in our application which needs to clarify to vendor. Please help.</p>\n<p>Thanks,\nPrabhash Mishra</p>\n"},{"tags":["java","velocity"],"comments":[{"owner":{"account_id":23234,"reputation":34590,"user_id":58082,"accept_rate":78,"display_name":"Pierre"},"score":0,"creation_date":1529486616,"post_id":50944642,"comment_id":88886691,"body_markdown":"There must be an associated java-based tool that will use and process the templates .","body":"There must be an associated java-based tool that will use and process the templates ."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1529486673,"post_id":50944642,"comment_id":88886733,"body_markdown":"I assume that it is mostly HTML. You can get a pretty good view from any browser if you save the template as `.html` file. The other way I know is to generate the PDF (no preview)","body":"I assume that it is mostly HTML. You can get a pretty good view from any browser if you save the template as <code>.html</code> file. The other way I know is to generate the PDF (no preview)"},{"owner":{"account_id":14446626,"reputation":2578,"user_id":10435528,"display_name":"devatherock"},"score":0,"creation_date":1661260864,"post_id":50944642,"comment_id":129725764,"body_markdown":"Not sure if you still need this and if this is what you are looking for, but you can checkout [this answer](https://stackoverflow.com/questions/72512732/previewing-velocity-template/73459449#73459449) about a [velocity-template-tester](https://github.com/devatherock/velocity-template-tester) that I wrote","body":"Not sure if you still need this and if this is what you are looking for, but you can checkout <a href=\"https://stackoverflow.com/questions/72512732/previewing-velocity-template/73459449#73459449\">this answer</a> about a <a href=\"https://github.com/devatherock/velocity-template-tester\" rel=\"nofollow noreferrer\">velocity-template-tester</a> that I wrote"}],"answers":[{"tags":[],"owner":{"account_id":9847991,"reputation":56896,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529490643,"creation_date":1529489117,"answer_id":50945577,"question_id":50944642,"body_markdown":"There&#39;s no [Online Velocity Template Tester][1], There&#39;s an option to write test code for velocity\n\n&gt;I used to test my velocity with unit tests and created some framework code\nsimilar to this approach (https://wiki.apache.org/velocity/TestingVelocity),\nbut more modern (not extending TestCase and so on)\n\nOr different approach but less relevant to you, is to [add velocity to jmeter][2]\n\n&gt;Put velocity-engine-scripting-2.0.jar in JMeter&#39;s lib folder.\n&gt;\n&gt;When JMeter loaded it can find velocity as scripting engine and use it.\n\n[1]:http://mail-archives.apache.org/mod_mbox/velocity-user/201711.mbox/browser\n\n[2]:https://stackoverflow.com/questions/45686685/jmeter-add-velocity-language-to-jsr-223-sampler","title":"Previewing a velocity template","body":"<p>There's no <a href=\"http://mail-archives.apache.org/mod_mbox/velocity-user/201711.mbox/browser\" rel=\"nofollow noreferrer\">Online Velocity Template Tester</a>, There's an option to write test code for velocity</p>\n<blockquote>\n<p>I used to test my velocity with unit tests and created some framework code\nsimilar to this approach (<a href=\"https://wiki.apache.org/velocity/TestingVelocity\" rel=\"nofollow noreferrer\">https://wiki.apache.org/velocity/TestingVelocity</a>),\nbut more modern (not extending TestCase and so on)</p>\n</blockquote>\n<p>Or different approach but less relevant to you, is to <a href=\"https://stackoverflow.com/questions/45686685/jmeter-add-velocity-language-to-jsr-223-sampler\">add velocity to jmeter</a></p>\n<blockquote>\n<p>Put velocity-engine-scripting-2.0.jar in JMeter's lib folder.</p>\n<p>When JMeter loaded it can find velocity as scripting engine and use it.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1993185,"reputation":82,"user_id":1786721,"display_name":"paulo.bing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529490587,"creation_date":1529490587,"answer_id":50946054,"question_id":50944642,"body_markdown":"Would this [Apache Velocity Tools][1] help you?\r\nThe documentation looks a bit old and the user would need a Tomcat server, but it seems do to the job.\r\n\r\n**Sample of the documentation:**\r\n\r\n&gt; **VelocityViewServlet**\r\n&gt; \r\n&gt; The VelocityViewServlet class is a standalone servlet that renders\r\n&gt; Velocity templates. It can be invoked directly from web client&#39;s\r\n&gt; requests, or via servlet forwarding similar to how JSP files are\r\n&gt; rendered by JSPServlet.\r\n\r\n\r\n  [1]: http://velocity.apache.org/tools/2.0/view.html","title":"Previewing a velocity template","body":"<p>Would this <a href=\"http://velocity.apache.org/tools/2.0/view.html\" rel=\"nofollow noreferrer\">Apache Velocity Tools</a> help you?\nThe documentation looks a bit old and the user would need a Tomcat server, but it seems do to the job.</p>\n\n<p><strong>Sample of the documentation:</strong></p>\n\n<blockquote>\n  <p><strong>VelocityViewServlet</strong></p>\n  \n  <p>The VelocityViewServlet class is a standalone servlet that renders\n  Velocity templates. It can be invoked directly from web client's\n  requests, or via servlet forwarding similar to how JSP files are\n  rendered by JSPServlet.</p>\n</blockquote>\n"}],"owner":{"account_id":8225130,"reputation":141,"user_id":6187655,"display_name":"Andy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8727,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1699592525,"creation_date":1529486448,"question_id":50944642,"body_markdown":"I&#39;m editing velocity templates. these are used to generate PDFs. The problem is that I can&#39;t preview them. I can&#39;t see how the template will look when rendered. Are there any tools that can be used for that? I&#39;ve tried googling and I can&#39;t find anything. \r\n\r\nEditing to add: the templates are rendered by a tool I don&#39;t have access to.  So if I was to use it I&#39;d have to send it to someone who&#39;d load it everytime I wanted. And they&#39;re in a different timezone. \r\n\r\nAlso, I know if I load it locally it won&#39;t show variables. What I&#39;m interested in is knowing what it will look like. The layout etc..,","title":"Previewing a velocity template","body":"<p>I'm editing velocity templates. these are used to generate PDFs. The problem is that I can't preview them. I can't see how the template will look when rendered. Are there any tools that can be used for that? I've tried googling and I can't find anything. </p>\n\n<p>Editing to add: the templates are rendered by a tool I don't have access to.  So if I was to use it I'd have to send it to someone who'd load it everytime I wanted. And they're in a different timezone. </p>\n\n<p>Also, I know if I load it locally it won't show variables. What I'm interested in is knowing what it will look like. The layout etc..,</p>\n"},{"tags":["java","binary-tree","binary-search-tree","binary-search"],"comments":[{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":0,"creation_date":1417670879,"post_id":27286813,"comment_id":43040909,"body_markdown":"There are many method to compare string, for instance dictionary order or Hamming Distance (http://en.wikipedia.org/wiki/Hamming_distance), so it is incorrect to state that strings cannot be compared","body":"There are many method to compare string, for instance dictionary order or Hamming Distance (<a href=\"http://en.wikipedia.org/wiki/Hamming_distance\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Hamming_distance</a>), so it is incorrect to state that strings cannot be compared"},{"owner":{"account_id":5341718,"reputation":11,"user_id":4258579,"display_name":"baamme"},"score":0,"creation_date":1417671421,"post_id":27286813,"comment_id":43041064,"body_markdown":"oh i see ,which one would you recommended to use ,because i am intermediate in java, also  why when ever i insert a &quot;char&quot; value to this tree it goes directly  to right of sub-node .@Ironluca","body":"oh i see ,which one would you recommended to use ,because i am intermediate in java, also  why when ever i insert a &quot;char&quot; value to this tree it goes directly  to right of sub-node .@Ironluca"},{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":1,"creation_date":1417671801,"post_id":27286813,"comment_id":43041168,"body_markdown":"Easiest for you is to String.compare, that follows the natural ordering i.e. dictionary ordering","body":"Easiest for you is to String.compare, that follows the natural ordering i.e. dictionary ordering"},{"owner":{"account_id":5341718,"reputation":11,"user_id":4258579,"display_name":"baamme"},"score":0,"creation_date":1417672531,"post_id":27286813,"comment_id":43041416,"body_markdown":"Thanks a lot for tips ,what about when i insert a &quot;char&quot; value to this tree it goes directly to right of sub-node.@Ironluca","body":"Thanks a lot for tips ,what about when i insert a &quot;char&quot; value to this tree it goes directly to right of sub-node.@Ironluca"},{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":1,"creation_date":1417673221,"post_id":27286813,"comment_id":43041663,"body_markdown":"a &#39;char&#39;, not Character is essentially a number so &gt;,&lt;,== operators can be used on them","body":"a &#39;char&#39;, not Character is essentially a number so &gt;,&lt;,== operators can be used on them"},{"owner":{"account_id":5341718,"reputation":11,"user_id":4258579,"display_name":"baamme"},"score":0,"creation_date":1417673623,"post_id":27286813,"comment_id":43041798,"body_markdown":"can you show me how to add the node like the photo &quot; http://share.pho.to/89JtW &quot;i have tried but didn&#39;t  get it.@Ironluca","body":"can you show me how to add the node like the photo &quot; <a href=\"http://share.pho.to/89JtW\" rel=\"nofollow noreferrer\">share.pho.to/89JtW</a> &quot;i have tried but didn&#39;t  get it.@Ironluca"}],"answers":[{"tags":[],"owner":{"account_id":3132392,"reputation":491,"user_id":2649759,"display_name":"Sharif"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417682217,"creation_date":1417674908,"answer_id":27287733,"question_id":27286813,"body_markdown":"**How to compare chars and strings**\r\n\r\nFirst, I should say that a `char` is not a `string`.  In Java (and many other languages), a `char` is actually a two `byte` number.  Take a look at [this ASCII table][1] of characters and you&#39;ll see that every character has a unique byte counterpart.  Since a `byte` can be thought of as a number, **you actually can compare chars using the usual comparison operators &gt;, &lt;, and ==.**  **Strings, on the other hand, are objects, so you have to compare them using the `compareTo` method.**  By reading the documentation on Strings, you can find out that the [compareTo][2] method will return a negative or positive number depending on whether the string is alphabetically before or after the other string you&#39;re comparing it to (click on the link to read the documentation for more info).\r\n\r\n**Why nodes are always being added to the right**\r\n\r\nI&#39;m assuming that you are saying that the nodes that you insert into the tree are always added to the right of the root node.  The root node in your code is the character `A`, which, according to the ASCII table, is actually less than all of the other characters that you add later on since all of the other letters are lowercase.  So that means all of the following nodes are going to be added to the right of `A`.  I&#39;m not sure if that&#39;s what you want, but it&#39;s worth pointing out.\r\n\r\nIf you are saying that the nodes are always added to the right of the whole tree (so that it looks like a long line with no branches), that&#39;s because of the letters you picked and the order you add them to the tree.  If you follow your code, you add &#39;b&#39; to &#39;A&#39;. &#39;b&#39; &gt; &#39;A&#39; so it&#39;s added to the right. Next you add &#39;d&#39;. &#39;d&#39; &gt; &#39;b&#39; so that node is added to the right.  Then you add &#39;c&#39;, and &#39;c&#39; &lt; &#39;d&#39;, so that node should be on the left. After that, you add the nodes in alphabetical order, so each subsequent letter you add is greater than the last letter you added.  To illustrate, &#39;d&#39; &lt; &#39;e&#39; &lt; &#39;f&#39; &lt; &#39;g&#39; &lt; ... &lt; &#39;q&#39;. Hence, all nodes after &#39;c&#39; are added to the right.  This makes sense; on the contrary, the tree in the photo you linked to doesn&#39;t make sense.  That tree is a binary tree in the sense that each node has only two children, but the child nodes aren&#39;t &quot;less&quot; or &quot;greater&quot; than their parent node.  I mean, how is &#39;B&#39; less than &#39;A&#39; and at the same time &#39;C&#39; greater than &#39;A&#39;? I don&#39;t see what you would use that tree for, unless the letters mean something other than their literal characters.  \r\n\r\n**How to make your tree look like the one in the picture**\r\n\r\nIf you really wanted to make your tree look like the one in the picture, you would have to assign numbers to the characters so that &#39;B&#39; is less than &#39;A&#39;, &#39;C&#39; is greater than &#39;A&#39;, etc.  Then in your `insert` method, you would compare those characters using the number rather than the character.  That could be done by making a class with a character field and a number field.  You would then set the number field to be whatever you wanted to make your tree look like you need it look like.  For instance, &#39;A&#39; could be 50, &#39;B&#39; 49, &#39;C&#39; 51, etc.\r\n\r\n\r\n  [1]: http://www.asciitable.com\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#compareTo(java.lang.String)\r\n  [3]: http://en.wikipedia.org/wiki/AVL_tree","title":"Binary Search Tree using char type","body":"<p><strong>How to compare chars and strings</strong></p>\n\n<p>First, I should say that a <code>char</code> is not a <code>string</code>.  In Java (and many other languages), a <code>char</code> is actually a two <code>byte</code> number.  Take a look at <a href=\"http://www.asciitable.com\" rel=\"nofollow\">this ASCII table</a> of characters and you'll see that every character has a unique byte counterpart.  Since a <code>byte</code> can be thought of as a number, <strong>you actually can compare chars using the usual comparison operators >, &lt;, and ==.</strong>  <strong>Strings, on the other hand, are objects, so you have to compare them using the <code>compareTo</code> method.</strong>  By reading the documentation on Strings, you can find out that the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#compareTo(java.lang.String)\" rel=\"nofollow\">compareTo</a> method will return a negative or positive number depending on whether the string is alphabetically before or after the other string you're comparing it to (click on the link to read the documentation for more info).</p>\n\n<p><strong>Why nodes are always being added to the right</strong></p>\n\n<p>I'm assuming that you are saying that the nodes that you insert into the tree are always added to the right of the root node.  The root node in your code is the character <code>A</code>, which, according to the ASCII table, is actually less than all of the other characters that you add later on since all of the other letters are lowercase.  So that means all of the following nodes are going to be added to the right of <code>A</code>.  I'm not sure if that's what you want, but it's worth pointing out.</p>\n\n<p>If you are saying that the nodes are always added to the right of the whole tree (so that it looks like a long line with no branches), that's because of the letters you picked and the order you add them to the tree.  If you follow your code, you add 'b' to 'A'. 'b' > 'A' so it's added to the right. Next you add 'd'. 'd' > 'b' so that node is added to the right.  Then you add 'c', and 'c' &lt; 'd', so that node should be on the left. After that, you add the nodes in alphabetical order, so each subsequent letter you add is greater than the last letter you added.  To illustrate, 'd' &lt; 'e' &lt; 'f' &lt; 'g' &lt; ... &lt; 'q'. Hence, all nodes after 'c' are added to the right.  This makes sense; on the contrary, the tree in the photo you linked to doesn't make sense.  That tree is a binary tree in the sense that each node has only two children, but the child nodes aren't \"less\" or \"greater\" than their parent node.  I mean, how is 'B' less than 'A' and at the same time 'C' greater than 'A'? I don't see what you would use that tree for, unless the letters mean something other than their literal characters.  </p>\n\n<p><strong>How to make your tree look like the one in the picture</strong></p>\n\n<p>If you really wanted to make your tree look like the one in the picture, you would have to assign numbers to the characters so that 'B' is less than 'A', 'C' is greater than 'A', etc.  Then in your <code>insert</code> method, you would compare those characters using the number rather than the character.  That could be done by making a class with a character field and a number field.  You would then set the number field to be whatever you wanted to make your tree look like you need it look like.  For instance, 'A' could be 50, 'B' 49, 'C' 51, etc.</p>\n"},{"tags":[],"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417685086,"creation_date":1417685086,"answer_id":27290331,"question_id":27286813,"body_markdown":"Below is a outline implementation of B-Tree with String:\r\n\r\n    public class TreeNode {\r\n\t\r\n\tprotected String nodeValue;\r\n\tprotected TreeNode leftChild;\r\n\tprotected TreeNode rightChild;\r\n\t\r\n\tpublic TreeNode(String nodeValue){\r\n\t\t\r\n\t\tthis.nodeValue=nodeValue;\r\n\t\t\r\n\t}//constructor closing\r\n\t\r\n\tpublic void addChild(String childNodeValue){\r\n\t\t\r\n\t\tif(childNodeValue.compareTo(nodeValue)&lt;0){//go left\r\n\t\t\t\r\n\t\t\tif(leftChild==null)leftChild=new TreeNode(childNodeValue);\r\n\t\t\telse {\r\n\t\t\t\t\r\n\t\t\t\tif(childNodeValue.compareTo(leftChild.getNodeValue())&lt;0)leftChild.addChild(childNodeValue);\r\n\t\t\t\telse{\r\n\t\t\t\t\t\r\n\t\t\t\t\tTreeNode tempChild=new TreeNode(childNodeValue);\r\n\t\t\t\t\ttempChild.setLeftChild(this.leftChild);\r\n\t\t\t\t\tthis.leftChild=tempChild;\r\n\t\t\t\t\t\r\n\t\t\t\t}//else closing\r\n\t\t\t\t\r\n\t\t\t}//else closing\r\n\t\t\t\r\n\t\t}//if closing\r\n\t\telse if(childNodeValue.compareTo(nodeValue)&gt;0){//go right\r\n\t\t\t\r\n\t\t\tif(rightChild==null)rightChild=new TreeNode(childNodeValue);\r\n\t\t\telse {\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tif(childNodeValue.compareTo(rightChild.getNodeValue())&gt;0)rightChild.addChild(childNodeValue);\r\n\t\t\t\telse{\r\n\t\t\t\t\t\r\n\t\t\t\t\tTreeNode tempChild=new TreeNode(childNodeValue);\r\n\t\t\t\t\ttempChild.setRightChild(this.rightChild);\r\n\t\t\t\t\tthis.rightChild=tempChild;\r\n\t\t\t\t\t\r\n\t\t\t\t}//else closing\r\n\t\t\t\t\r\n\t\t\t}//else closing\r\n\t\t\t\r\n\t\t}//if closing\r\n\t\telse throw new RuntimeException(&quot;Problem&quot;);\r\n\t\t\r\n\t}//addChild closing\r\n\t\r\n\tpublic String getNodeValue(){return nodeValue;}\r\n\tpublic TreeNode getLeftChild(){return leftChild;}\r\n\tpublic TreeNode getRightChild(){return rightChild;}\r\n\tpublic void setLeftChild(TreeNode leftChild){this.leftChild=leftChild;}\r\n\tpublic void setRightChild(TreeNode rightChild){this.rightChild=rightChild;}\r\n\t\r\n\t@Override\r\n\tpublic String toString() {\r\n\r\n\t\tString retVal=&quot;--&quot;+nodeValue+&quot;--\\n&quot;;\r\n\t\t\r\n\t\treturn retVal;\r\n\t\t\r\n\t}//toString closing\r\n\r\n}//class closing\r\n\r\n    public class BTree {\r\n\t\r\n\tprotected TreeNode primaryNode;\r\n\t\r\n\tpublic BTree(String primaryNodeValue){\r\n\t\t\r\n\t\tprimaryNode=new TreeNode(primaryNodeValue);\r\n\t\t\r\n\t}//constructor closing\r\n\t\r\n\tpublic void addChild(String childNodeValue){\r\n\t\t\r\n\t\tprimaryNode.addChild(childNodeValue);\r\n\t\t\r\n\t}//addChild closing\r\n\t\r\n\tpublic TreeNode getPrimayNode(){return primaryNode;}\r\n\t\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\t\r\n\t\treturn primaryNode.toString();\r\n\t\t\r\n\t}//toString closing\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tString midValue=&quot;m&quot;;\r\n\t\t\r\n\t\tBTree tree=new BTree(midValue);\r\n\r\n\t\ttree.addChild(&quot;a&quot;);\r\n\t\ttree.addChild(&quot;b&quot;);\r\n\t\ttree.addChild(&quot;y&quot;);\r\n\t\ttree.addChild(&quot;z&quot;);\r\n\t\t\r\n\t\tTreeNode mNode=tree.getPrimayNode();\r\n\t\tTreeNode leftOfMNode=mNode.getLeftChild();\r\n\t\tTreeNode rightOfMNode=mNode.getRightChild();\r\n\t\t\r\n\t\tSystem.out.print(mNode);\r\n\t\tSystem.out.print(leftOfMNode);\r\n\t\tSystem.out.print(rightOfMNode);\r\n\t\tSystem.out.println(&quot;---------------------------------------------------------------&quot;);\r\n\t\t\r\n\t\tTreeNode bNode=leftOfMNode;\r\n\t\tSystem.out.print(bNode);\r\n\t\tSystem.out.print(bNode.getLeftChild());\r\n\t\tSystem.out.print(bNode.getRightChild());\r\n\t\tSystem.out.println(&quot;---------------------------------------------------------------&quot;);\r\n\t\t\r\n\t\tTreeNode yNode=rightOfMNode;\r\n\t\tSystem.out.print(yNode);\r\n\t\tSystem.out.print(yNode.getLeftChild());\r\n\t\tSystem.out.print(yNode.getRightChild());\r\n\t\t\r\n\t}//main closing\r\n\r\n}//class closing\r\n\r\nThis should give you a head start with your actual implementation.","title":"Binary Search Tree using char type","body":"<p>Below is a outline implementation of B-Tree with String:</p>\n\n<pre><code>public class TreeNode {\n\nprotected String nodeValue;\nprotected TreeNode leftChild;\nprotected TreeNode rightChild;\n\npublic TreeNode(String nodeValue){\n\n    this.nodeValue=nodeValue;\n\n}//constructor closing\n\npublic void addChild(String childNodeValue){\n\n    if(childNodeValue.compareTo(nodeValue)&lt;0){//go left\n\n        if(leftChild==null)leftChild=new TreeNode(childNodeValue);\n        else {\n\n            if(childNodeValue.compareTo(leftChild.getNodeValue())&lt;0)leftChild.addChild(childNodeValue);\n            else{\n\n                TreeNode tempChild=new TreeNode(childNodeValue);\n                tempChild.setLeftChild(this.leftChild);\n                this.leftChild=tempChild;\n\n            }//else closing\n\n        }//else closing\n\n    }//if closing\n    else if(childNodeValue.compareTo(nodeValue)&gt;0){//go right\n\n        if(rightChild==null)rightChild=new TreeNode(childNodeValue);\n        else {\n\n\n            if(childNodeValue.compareTo(rightChild.getNodeValue())&gt;0)rightChild.addChild(childNodeValue);\n            else{\n\n                TreeNode tempChild=new TreeNode(childNodeValue);\n                tempChild.setRightChild(this.rightChild);\n                this.rightChild=tempChild;\n\n            }//else closing\n\n        }//else closing\n\n    }//if closing\n    else throw new RuntimeException(\"Problem\");\n\n}//addChild closing\n\npublic String getNodeValue(){return nodeValue;}\npublic TreeNode getLeftChild(){return leftChild;}\npublic TreeNode getRightChild(){return rightChild;}\npublic void setLeftChild(TreeNode leftChild){this.leftChild=leftChild;}\npublic void setRightChild(TreeNode rightChild){this.rightChild=rightChild;}\n\n@Override\npublic String toString() {\n\n    String retVal=\"--\"+nodeValue+\"--\\n\";\n\n    return retVal;\n\n}//toString closing\n</code></pre>\n\n<p>}//class closing</p>\n\n<pre><code>public class BTree {\n\nprotected TreeNode primaryNode;\n\npublic BTree(String primaryNodeValue){\n\n    primaryNode=new TreeNode(primaryNodeValue);\n\n}//constructor closing\n\npublic void addChild(String childNodeValue){\n\n    primaryNode.addChild(childNodeValue);\n\n}//addChild closing\n\npublic TreeNode getPrimayNode(){return primaryNode;}\n\n@Override\npublic String toString() {\n\n    return primaryNode.toString();\n\n}//toString closing\n\npublic static void main(String[] args) {\n\n    String midValue=\"m\";\n\n    BTree tree=new BTree(midValue);\n\n    tree.addChild(\"a\");\n    tree.addChild(\"b\");\n    tree.addChild(\"y\");\n    tree.addChild(\"z\");\n\n    TreeNode mNode=tree.getPrimayNode();\n    TreeNode leftOfMNode=mNode.getLeftChild();\n    TreeNode rightOfMNode=mNode.getRightChild();\n\n    System.out.print(mNode);\n    System.out.print(leftOfMNode);\n    System.out.print(rightOfMNode);\n    System.out.println(\"---------------------------------------------------------------\");\n\n    TreeNode bNode=leftOfMNode;\n    System.out.print(bNode);\n    System.out.print(bNode.getLeftChild());\n    System.out.print(bNode.getRightChild());\n    System.out.println(\"---------------------------------------------------------------\");\n\n    TreeNode yNode=rightOfMNode;\n    System.out.print(yNode);\n    System.out.print(yNode.getLeftChild());\n    System.out.print(yNode.getRightChild());\n\n}//main closing\n</code></pre>\n\n<p>}//class closing</p>\n\n<p>This should give you a head start with your actual implementation.</p>\n"}],"owner":{"account_id":5341718,"reputation":11,"user_id":4258579,"display_name":"baamme"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10912,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1699592525,"creation_date":1417670374,"question_id":27286813,"body_markdown":"I understand Binary Search Tree  on integers ,because i know the left child must be less then the node,and right child must be greater then the node ,when it comes to &quot;char&quot; or &quot;string&quot; type ,its totally different case,we can&#39;t say ( &#39;a&#39; &lt; &#39;b&#39; ) or any other logical operations .\r\nhow can i compare the char values?!\r\n\r\nThis is my Binary Tree   http://share.pho.to/89JtW i couldn&#39;t work because each time i insert to my code.all nodes are inserted to the right of sub-node  .         \r\n            \r\nthe nodes represent a pages ,i want to check each page  to detect if user is human or spambot .\r\n\r\neach page can be linked to another 2 pages. A human will traverse on the\r\nwebpage in a way that it will be able to go to the previous page or one of the next two pages that they  are linked to. Otherwise, they will be categorized as spambot.\r\n\r\nAnd this code i trying to implement \r\n\r\n        package stringBtree;\r\n\r\n    public class StringBinaryTreeSample {\r\n      public static void main(String[] args)\r\n        {\r\n      new StringBinaryTreeSample().run();\r\n      }\r\n      static class Node \r\n       {\r\n      Node left;\r\n      Node right;\r\n      char  value;\r\n      public Node(char value) {\r\n      this.value = value;\r\n      }\r\n      }\r\n      public void run() {\r\n      Node rootnode = new Node(&#39;A&#39;);\r\n      System.out.println(&quot;Building tree with rootvalue &quot; + rootnode.value);\r\n      System.out.println(&quot;=================================&quot;); \r\n      insert(rootnode, &#39;b&#39; );\r\n      insert(rootnode, &#39;d&#39; );\r\n      insert(rootnode, &#39;c&#39;);\r\n      insert(rootnode, &#39;d&#39;);\r\n      insert(rootnode, &#39;e&#39; );\r\n      insert(rootnode, &#39;f&#39;);\r\n      insert(rootnode, &#39;g&#39;);\r\n      insert(rootnode, &#39;h&#39;);\r\n      insert(rootnode, &#39;i&#39;);\r\n      insert(rootnode, &#39;j&#39;);\r\n      insert(rootnode, &#39;k&#39;);\r\n      insert(rootnode, &#39;l&#39;);\r\n      insert(rootnode, &#39;m&#39;);\r\n      insert(rootnode, &#39;n&#39;);\r\n      insert(rootnode, &#39;o&#39;);\r\n      insert(rootnode, &#39;p&#39;);\r\n      insert(rootnode, &#39;q&#39;);\r\n      System.out.println(&quot;\\n\\nTraversing tree in order&quot;);\r\n      System.out.println(&quot;=================================&quot;);\r\n      printInOrder(rootnode);\r\n      }\r\n      public void insert(Node node, char value) {\r\n        if (value &lt; node.value) {\r\n\r\n        if (node.left != null) {\r\n        insert(node.left, value);\r\n        } else {\r\n        System.out.println(&quot;  Inserted &quot; + value +   &quot; to left of node &quot; + node.value);\r\n        node.left = new Node(value);\r\n        }\r\n\r\n        } else if (value &gt; node.value) {\r\n            if (node.right != null) {\r\n            insert(node.right, value);\r\n            } else {\r\n            System.out.println(&quot;  Inserted &quot; + value + &quot;  to right of node &quot; + node.value);\r\n            node.right = new Node(value);\r\n            }\r\n         }\r\n      }\r\n      public void printInOrder(Node node) {\r\n        if (node != null) {\r\n        printInOrder(node.left);\r\n        System.out.println(&quot;  Traversed &quot; + node.value);\r\n        printInOrder(node.right);\r\n        }\r\n      }\r\n    }","title":"Binary Search Tree using char type","body":"<p>I understand Binary Search Tree  on integers ,because i know the left child must be less then the node,and right child must be greater then the node ,when it comes to \"char\" or \"string\" type ,its totally different case,we can't say ( 'a' &lt; 'b' ) or any other logical operations .\nhow can i compare the char values?!</p>\n\n<p>This is my Binary Tree   <a href=\"http://share.pho.to/89JtW\" rel=\"nofollow\">http://share.pho.to/89JtW</a> i couldn't work because each time i insert to my code.all nodes are inserted to the right of sub-node  .         </p>\n\n<p>the nodes represent a pages ,i want to check each page  to detect if user is human or spambot .</p>\n\n<p>each page can be linked to another 2 pages. A human will traverse on the\nwebpage in a way that it will be able to go to the previous page or one of the next two pages that they  are linked to. Otherwise, they will be categorized as spambot.</p>\n\n<p>And this code i trying to implement </p>\n\n<pre><code>    package stringBtree;\n\npublic class StringBinaryTreeSample {\n  public static void main(String[] args)\n    {\n  new StringBinaryTreeSample().run();\n  }\n  static class Node \n   {\n  Node left;\n  Node right;\n  char  value;\n  public Node(char value) {\n  this.value = value;\n  }\n  }\n  public void run() {\n  Node rootnode = new Node('A');\n  System.out.println(\"Building tree with rootvalue \" + rootnode.value);\n  System.out.println(\"=================================\"); \n  insert(rootnode, 'b' );\n  insert(rootnode, 'd' );\n  insert(rootnode, 'c');\n  insert(rootnode, 'd');\n  insert(rootnode, 'e' );\n  insert(rootnode, 'f');\n  insert(rootnode, 'g');\n  insert(rootnode, 'h');\n  insert(rootnode, 'i');\n  insert(rootnode, 'j');\n  insert(rootnode, 'k');\n  insert(rootnode, 'l');\n  insert(rootnode, 'm');\n  insert(rootnode, 'n');\n  insert(rootnode, 'o');\n  insert(rootnode, 'p');\n  insert(rootnode, 'q');\n  System.out.println(\"\\n\\nTraversing tree in order\");\n  System.out.println(\"=================================\");\n  printInOrder(rootnode);\n  }\n  public void insert(Node node, char value) {\n    if (value &lt; node.value) {\n\n    if (node.left != null) {\n    insert(node.left, value);\n    } else {\n    System.out.println(\"  Inserted \" + value +   \" to left of node \" + node.value);\n    node.left = new Node(value);\n    }\n\n    } else if (value &gt; node.value) {\n        if (node.right != null) {\n        insert(node.right, value);\n        } else {\n        System.out.println(\"  Inserted \" + value + \"  to right of node \" + node.value);\n        node.right = new Node(value);\n        }\n     }\n  }\n  public void printInOrder(Node node) {\n    if (node != null) {\n    printInOrder(node.left);\n    System.out.println(\"  Traversed \" + node.value);\n    printInOrder(node.right);\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","interface","static-methods"],"comments":[{"owner":{"account_id":3282,"reputation":146276,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":5,"creation_date":1233775606,"post_id":512877,"comment_id":326539,"body_markdown":"You don&#39;t need to clutter method (and field) definitions with public in interfaces, btw.","body":"You don&#39;t need to clutter method (and field) definitions with public in interfaces, btw."},{"owner":{"account_id":7745,"reputation":189755,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":0,"creation_date":1233777300,"post_id":512877,"comment_id":326652,"body_markdown":"Hmm, seems to be a duplicate of http://stackoverflow.com/questions/21817/why-cant-i-declare-static-methods-in-an-interface. Hadn&#39;t seen that before.","body":"Hmm, seems to be a duplicate of <a href=\"http://stackoverflow.com/questions/21817/why-cant-i-declare-static-methods-in-an-interface\" title=\"why cant i declare static methods in an interface\">stackoverflow.com/questions/21817/&hellip;</a>. Hadn&#39;t seen that before."},{"owner":{"account_id":3785,"reputation":4641,"user_id":5507,"accept_rate":42,"display_name":"Pavel Feldman"},"score":1,"creation_date":1233779257,"post_id":512877,"comment_id":326814,"body_markdown":"Could you provide some code how would you like to use static interface methods?","body":"Could you provide some code how would you like to use static interface methods?"},{"owner":{"account_id":4400,"reputation":38401,"user_id":6583,"accept_rate":90,"display_name":"Epaga"},"score":0,"creation_date":1233779400,"post_id":512877,"comment_id":326833,"body_markdown":"also dupe of http://stackoverflow.com/questions/129267/why-no-static-methods-in-interfaces-but-static-fields-and-inner-classes-ok","body":"also dupe of <a href=\"http://stackoverflow.com/questions/129267/why-no-static-methods-in-interfaces-but-static-fields-and-inner-classes-ok\" title=\"why no static methods in interfaces but static fields and inner classes ok\">stackoverflow.com/questions/129267/&hellip;</a>"},{"owner":{"account_id":240726,"reputation":2094,"user_id":511125,"accept_rate":100,"display_name":"Deepak"},"score":0,"creation_date":1318173990,"post_id":512877,"comment_id":9369271,"body_markdown":"@Erickson,Could you illustrate with an example where Usage of static method fails in interface","body":"@Erickson,Could you illustrate with an example where Usage of static method fails in interface"},{"owner":{"account_id":4026314,"reputation":13,"user_id":3314427,"display_name":"dakshang"},"score":45,"creation_date":1392497527,"post_id":512877,"comment_id":32999404,"body_markdown":"This will be possible in Java 8: http://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html#static","body":"This will be possible in Java 8: <a href=\"http://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html#static\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/IandI/&hellip;</a>"},{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":3,"creation_date":1437015208,"post_id":512877,"comment_id":50858119,"body_markdown":"@dakshang Yes, but it doesn&#39;t do what the OP wants.","body":"@dakshang Yes, but it doesn&#39;t do what the OP wants."},{"owner":{"account_id":2270024,"reputation":1657,"user_id":1997707,"accept_rate":80,"display_name":"John Mercier"},"score":0,"creation_date":1558097602,"post_id":512877,"comment_id":98998748,"body_markdown":"Possible duplicate of [Why no static methods in Interfaces, but static fields and inner classes OK? \\[pre-Java8\\]](https://stackoverflow.com/questions/129267/why-no-static-methods-in-interfaces-but-static-fields-and-inner-classes-ok-pr)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/129267/why-no-static-methods-in-interfaces-but-static-fields-and-inner-classes-ok-pr\">Why no static methods in Interfaces, but static fields and inner classes OK? &#91;pre-Java8&#93;</a>"},{"owner":{"account_id":16641188,"reputation":449,"user_id":12026681,"display_name":"lue"},"score":0,"creation_date":1582822135,"post_id":512877,"comment_id":106917701,"body_markdown":"@JohnMercier&#39;s question is closed now. This is now the true thread","body":"@JohnMercier&#39;s question is closed now. This is now the true thread"},{"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"score":0,"creation_date":1605151452,"post_id":512877,"comment_id":114565804,"body_markdown":"This is possible in Java 8 - check my answer below: https://stackoverflow.com/a/31162902/1216775","body":"This is possible in Java 8 - check my answer below: <a href=\"https://stackoverflow.com/a/31162902/1216775\">stackoverflow.com/a/31162902/1216775</a>"}],"answers":[{"tags":[],"owner":{"account_id":7745,"reputation":189755,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"down_vote_count":3,"up_vote_count":28,"is_accepted":false,"score":25,"last_activity_date":1233775379,"creation_date":1233775379,"answer_id":512884,"question_id":512877,"body_markdown":"Because static methods cannot be overridden in subclasses, and hence they cannot be abstract. And all methods in an interface are, *de facto*, abstract.","title":"Why can&#39;t I define a static method in a Java interface?","body":"<p>Because static methods cannot be overridden in subclasses, and hence they cannot be abstract. And all methods in an interface are, <em>de facto</em>, abstract.</p>\n"},{"tags":[],"owner":{"account_id":17440,"reputation":57293,"user_id":39036,"accept_rate":87,"display_name":"samoz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1233775414,"creation_date":1233775414,"answer_id":512886,"question_id":512877,"body_markdown":"Interfaces just provide a list of things a class will provide, not an actual implementation of those things, which is what your static item is.\r\n\r\nIf you want statics, use an abstract class and inherit it, otherwise, remove the static.\r\n\r\nHope that helps!","title":"Why can&#39;t I define a static method in a Java interface?","body":"<p>Interfaces just provide a list of things a class will provide, not an actual implementation of those things, which is what your static item is.</p>\n\n<p>If you want statics, use an abstract class and inherit it, otherwise, remove the static.</p>\n\n<p>Hope that helps!</p>\n"},{"tags":[],"owner":{"account_id":13444,"reputation":9986,"user_id":27012,"accept_rate":73,"display_name":"MichaelGG"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1233775659,"creation_date":1233775659,"answer_id":512912,"question_id":512877,"body_markdown":"Well, without generics, static interfaces are useless because all static method calls are resolved at compile time. So, there&#39;s no real use for them.\r\n\r\nWith generics, they have use -- with or without a default implementation. Obviously there would need to be overriding and so on. However, my guess is that such usage wasn&#39;t very OO (as the other answers point out obtusely) and hence wasn&#39;t considered worth the effort they&#39;d require to implement usefully.","title":"Why can&#39;t I define a static method in a Java interface?","body":"<p>Well, without generics, static interfaces are useless because all static method calls are resolved at compile time. So, there's no real use for them.</p>\n\n<p>With generics, they have use -- with or without a default implementation. Obviously there would need to be overriding and so on. However, my guess is that such usage wasn't very OO (as the other answers point out obtusely) and hence wasn't considered worth the effort they'd require to implement usefully.</p>\n"},{"tags":[],"owner":{"account_id":18282,"reputation":17675,"user_id":41754,"accept_rate":75,"display_name":"cliff.meyers"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1233775721,"creation_date":1233775721,"answer_id":512918,"question_id":512877,"body_markdown":"Interfaces are concerned with polymorphism which is inherently tied to object instances, not classes.  Therefore static doesn&#39;t make sense in the context of an interface.","title":"Why can&#39;t I define a static method in a Java interface?","body":"<p>Interfaces are concerned with polymorphism which is inherently tied to object instances, not classes.  Therefore static doesn't make sense in the context of an interface.</p>\n"},{"tags":[],"owner":{"account_id":878410,"reputation":375,"user_id":62499,"display_name":"Handerson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1233776155,"creation_date":1233776155,"answer_id":512942,"question_id":512877,"body_markdown":"You can&#39;t define static methods in an interface because static methods belongs to a class not to an instance of class, and interfaces are not Classes. [Read more here.][1]\r\n\r\nHowever, If you want you can do this:\r\n\r\n    public class A {\r\n      public static void methodX() {\r\n      }\r\n    }\r\n\r\n    public class B extends A {\r\n      public static void methodX() {\r\n      }\r\n    }\r\n\r\nIn this case what you have is two classes with 2 distinct static methods called methodX().\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/java/javaOO/classvars.html","title":"Why can&#39;t I define a static method in a Java interface?","body":"<p>You can't define static methods in an interface because static methods belongs to a class not to an instance of class, and interfaces are not Classes. <a href=\"http://java.sun.com/docs/books/tutorial/java/javaOO/classvars.html\" rel=\"nofollow noreferrer\">Read more here.</a></p>\n\n<p>However, If you want you can do this:</p>\n\n<pre><code>public class A {\n  public static void methodX() {\n  }\n}\n\npublic class B extends A {\n  public static void methodX() {\n  }\n}\n</code></pre>\n\n<p>In this case what you have is two classes with 2 distinct static methods called methodX().</p>\n"},{"tags":[],"owner":{"account_id":10258,"reputation":26460,"user_id":19276,"accept_rate":81,"display_name":"DJClayworth"},"down_vote_count":6,"up_vote_count":61,"is_accepted":false,"score":55,"last_activity_date":1233777428,"creation_date":1233777018,"answer_id":512987,"question_id":512877,"body_markdown":"This was already asked and answered, [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/129267/why-no-static-methods-in-interfaces-but-static-fields-and-inner-classes-ok/129934#129934\r\n\r\nTo duplicate my answer:\r\n\r\nThere is never a point to declaring a static method in an interface. They cannot be executed by the normal call MyInterface.staticMethod(). If you call them by specifying the implementing class MyImplementor.staticMethod() then you must know the actual class, so it is irrelevant whether the interface contains it or not.\r\n\r\nMore importantly, static methods are never overridden, and if you try to do:\r\n\r\n    MyInterface var = new MyImplementingClass();\r\n    var.staticMethod();\r\n\r\nthe rules for static say that the method defined in the declared type of var must be executed. Since this is an interface, this is impossible. \r\n\r\nThe reason you can&#39;t execute &quot;result=MyInterface.staticMethod()&quot; is that it would have to execute the version of the method defined in MyInterface. But there can&#39;t be a version defined in MyInterface, because it&#39;s an interface. It doesn&#39;t have code by definition.\r\n\r\nWhile you can say that this amounts to &quot;because Java does it that way&quot;, in reality the decision is a logical consequence of other design decisions, also made for very good reason.","title":"Why can&#39;t I define a static method in a Java interface?","body":"<p>This was already asked and answered, <a href=\"https://stackoverflow.com/questions/129267/why-no-static-methods-in-interfaces-but-static-fields-and-inner-classes-ok/129934#129934\">here</a></p>\n\n<p>To duplicate my answer:</p>\n\n<p>There is never a point to declaring a static method in an interface. They cannot be executed by the normal call MyInterface.staticMethod(). If you call them by specifying the implementing class MyImplementor.staticMethod() then you must know the actual class, so it is irrelevant whether the interface contains it or not.</p>\n\n<p>More importantly, static methods are never overridden, and if you try to do:</p>\n\n<pre><code>MyInterface var = new MyImplementingClass();\nvar.staticMethod();\n</code></pre>\n\n<p>the rules for static say that the method defined in the declared type of var must be executed. Since this is an interface, this is impossible. </p>\n\n<p>The reason you can't execute \"result=MyInterface.staticMethod()\" is that it would have to execute the version of the method defined in MyInterface. But there can't be a version defined in MyInterface, because it's an interface. It doesn't have code by definition.</p>\n\n<p>While you can say that this amounts to \"because Java does it that way\", in reality the decision is a logical consequence of other design decisions, also made for very good reason.</p>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":1,"up_vote_count":574,"is_accepted":true,"score":573,"last_activity_date":1699591981,"creation_date":1233777373,"answer_id":513001,"question_id":512877,"body_markdown":"Java 8 permits static interface methods\r\n=======================================\r\n\r\nWith Java 8, interfaces *can* have static methods. They can also have concrete instance methods, but not instance fields.\r\n\r\nThere are really two questions here: \r\n\r\n 1. Why, in the bad old days, couldn&#39;t interfaces contain static methods?\r\n 2. Why can&#39;t static methods be overridden?\r\n\r\nStatic methods in interfaces\r\n============================\r\n\r\nThere was no strong technical reason why interfaces couldn&#39;t have had static methods in previous versions. This is [summed up nicely by the poster][1] of a duplicate question. Static interface methods were initially considered as [a small language change,][2] and then there was [an official proposal][3] to add them in Java 7, but it was later [dropped due to unforeseen complications.][4]\r\n\r\nFinally, Java 8 introduced static interface methods, as well as override-able instance methods with a default implementation. They still can&#39;t have instance fields though. These features are part of the lambda expression support, and you can read more about them in [Part H of JSR 335.][5]\r\n\r\nOverriding static methods\r\n=========================\r\n\r\nThe answer to the second question is a little more complicated.\r\n\r\nStatic methods are resolvable at compile time. Dynamic dispatch makes sense for instance methods, where the compiler can&#39;t determine the concrete type of the object, and, thus, can&#39;t resolve the method to invoke. But invoking a static method requires a class, and since that class is known *statically*&amp;mdash;at compile time&amp;mdash;dynamic dispatch is unnecessary.\r\n\r\nA little background on how instance methods work is necessary to understand what&#39;s going on here. I&#39;m sure the actual implementation is quite different, but let me explain my notion of method dispatch, which models observed behavior accurately.\r\n\r\nPretend that each class has a hash table that maps method signatures (name and parameter types) to an actual chunk of code to implement the method. When the virtual machine attempts to invoke a method on an instance, it queries the object for its class and looks up the requested signature in the class&#39;s table. If a method body is found, it is invoked. Otherwise, the parent class of the class is obtained, and the lookup is repeated there. This proceeds until the method is found, or there are no more parent classes&amp;mdash;which results in a `NoSuchMethodError`.\r\n\r\nIf a superclass and a subclass both have an entry in their tables for the same method signature, the sub class&#39;s version is encountered first, and the superclass&#39;s version is never used&amp;mdash;this is an &quot;override&quot;.\r\n\r\nNow, suppose we skip the object instance and just start with a subclass. The resolution could proceed as above, giving you a sort of &quot;overridable&quot; static method. The resolution can all happen at compile-time, however, since the compiler is starting from a known class, rather than waiting until runtime to query an object of an unspecified type for its class. There is no point in &quot;overriding&quot; a static method since one can always specify the class that contains the desired version.\r\n\r\n---\r\n\r\nConstructor &quot;interfaces&quot;\r\n=========================\r\n\r\nHere&#39;s a little more material to address the recent edit to the question.\r\n\r\nIt sounds like you want to effectively mandate a constructor-like method for each implementation of `IXMLizable`. Forget about trying to enforce this with an interface for a minute, and pretend that you have some classes that meet this requirement. How would you use it?\r\n\r\n    class Foo implements IXMLizable&lt;Foo&gt; {\r\n      public static Foo newInstanceFromXML(Element e) { ... }\r\n    }\r\n\r\n    Foo obj = Foo.newInstanceFromXML(e);\r\n\r\nSince you have to explicitly name the concrete type `Foo` when &quot;constructing&quot; the new object, the compiler can verify that it does indeed have the necessary factory method. And if it doesn&#39;t, so what? If I can implement an `IXMLizable` that lacks the &quot;constructor&quot;, and I create an instance and pass it to your code, it *is* an `IXMLizable` with all the necessary interface.\r\n\r\n*Construction is part of the implementation,* not the interface. Any code that works successfully with the interface doesn&#39;t care about the constructor. Any code that cares about the constructor needs to know the concrete type anyway, and the interface can be ignored.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/129267/why-no-static-methods-in-interfaces-but-static-fields-and-inner-classes-ok/135722#135722\r\n  [2]: https://web.archive.org/web/20150515204937/https://blogs.oracle.com/darcy/entry/project_coin\r\n  [3]: https://mail.openjdk.org/pipermail/coin-dev/2009-March/000127.html\r\n  [4]: https://bugs.java.com/bugdatabase/view_bug?bug_id=4093687\r\n  [5]: http://jcp.org/en/jsr/detail?id=335","title":"Why can&#39;t I define a static method in a Java interface?","body":"<h1>Java 8 permits static interface methods</h1>\n<p>With Java 8, interfaces <em>can</em> have static methods. They can also have concrete instance methods, but not instance fields.</p>\n<p>There are really two questions here:</p>\n<ol>\n<li>Why, in the bad old days, couldn't interfaces contain static methods?</li>\n<li>Why can't static methods be overridden?</li>\n</ol>\n<h1>Static methods in interfaces</h1>\n<p>There was no strong technical reason why interfaces couldn't have had static methods in previous versions. This is <a href=\"https://stackoverflow.com/questions/129267/why-no-static-methods-in-interfaces-but-static-fields-and-inner-classes-ok/135722#135722\">summed up nicely by the poster</a> of a duplicate question. Static interface methods were initially considered as <a href=\"https://web.archive.org/web/20150515204937/https://blogs.oracle.com/darcy/entry/project_coin\" rel=\"nofollow noreferrer\">a small language change,</a> and then there was <a href=\"https://mail.openjdk.org/pipermail/coin-dev/2009-March/000127.html\" rel=\"nofollow noreferrer\">an official proposal</a> to add them in Java 7, but it was later <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4093687\" rel=\"nofollow noreferrer\">dropped due to unforeseen complications.</a></p>\n<p>Finally, Java 8 introduced static interface methods, as well as override-able instance methods with a default implementation. They still can't have instance fields though. These features are part of the lambda expression support, and you can read more about them in <a href=\"http://jcp.org/en/jsr/detail?id=335\" rel=\"nofollow noreferrer\">Part H of JSR 335.</a></p>\n<h1>Overriding static methods</h1>\n<p>The answer to the second question is a little more complicated.</p>\n<p>Static methods are resolvable at compile time. Dynamic dispatch makes sense for instance methods, where the compiler can't determine the concrete type of the object, and, thus, can't resolve the method to invoke. But invoking a static method requires a class, and since that class is known <em>statically</em>—at compile time—dynamic dispatch is unnecessary.</p>\n<p>A little background on how instance methods work is necessary to understand what's going on here. I'm sure the actual implementation is quite different, but let me explain my notion of method dispatch, which models observed behavior accurately.</p>\n<p>Pretend that each class has a hash table that maps method signatures (name and parameter types) to an actual chunk of code to implement the method. When the virtual machine attempts to invoke a method on an instance, it queries the object for its class and looks up the requested signature in the class's table. If a method body is found, it is invoked. Otherwise, the parent class of the class is obtained, and the lookup is repeated there. This proceeds until the method is found, or there are no more parent classes—which results in a <code>NoSuchMethodError</code>.</p>\n<p>If a superclass and a subclass both have an entry in their tables for the same method signature, the sub class's version is encountered first, and the superclass's version is never used—this is an &quot;override&quot;.</p>\n<p>Now, suppose we skip the object instance and just start with a subclass. The resolution could proceed as above, giving you a sort of &quot;overridable&quot; static method. The resolution can all happen at compile-time, however, since the compiler is starting from a known class, rather than waiting until runtime to query an object of an unspecified type for its class. There is no point in &quot;overriding&quot; a static method since one can always specify the class that contains the desired version.</p>\n<hr />\n<h1>Constructor &quot;interfaces&quot;</h1>\n<p>Here's a little more material to address the recent edit to the question.</p>\n<p>It sounds like you want to effectively mandate a constructor-like method for each implementation of <code>IXMLizable</code>. Forget about trying to enforce this with an interface for a minute, and pretend that you have some classes that meet this requirement. How would you use it?</p>\n<pre><code>class Foo implements IXMLizable&lt;Foo&gt; {\n  public static Foo newInstanceFromXML(Element e) { ... }\n}\n\nFoo obj = Foo.newInstanceFromXML(e);\n</code></pre>\n<p>Since you have to explicitly name the concrete type <code>Foo</code> when &quot;constructing&quot; the new object, the compiler can verify that it does indeed have the necessary factory method. And if it doesn't, so what? If I can implement an <code>IXMLizable</code> that lacks the &quot;constructor&quot;, and I create an instance and pass it to your code, it <em>is</em> an <code>IXMLizable</code> with all the necessary interface.</p>\n<p><em>Construction is part of the implementation,</em> not the interface. Any code that works successfully with the interface doesn't care about the constructor. Any code that cares about the constructor needs to know the concrete type anyway, and the interface can be ignored.</p>\n"},{"tags":[],"owner":{"account_id":18313,"reputation":13576,"user_id":41861,"accept_rate":62,"display_name":"Adrian Pronk"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1233777576,"creation_date":1233777576,"answer_id":513013,"question_id":512877,"body_markdown":"Static methods aren&#39;t virtual like instance methods so I suppose the Java designers decided they didn&#39;t want them in interfaces.\r\n\r\nBut you can put classes containing static methods inside interfaces.  You could try that!\r\n\r\n    public interface Test {\r\n        static class Inner {\r\n            public static Object get() {\r\n                return 0;\r\n            }\r\n        }\r\n    }\r\n","title":"Why can&#39;t I define a static method in a Java interface?","body":"<p>Static methods aren't virtual like instance methods so I suppose the Java designers decided they didn't want them in interfaces.</p>\n\n<p>But you can put classes containing static methods inside interfaces.  You could try that!</p>\n\n<pre><code>public interface Test {\n    static class Inner {\n        public static Object get() {\n            return 0;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3785,"reputation":4641,"user_id":5507,"accept_rate":42,"display_name":"Pavel Feldman"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1233780110,"creation_date":1233779731,"answer_id":513182,"question_id":512877,"body_markdown":"I think java does not have static interface methods because you do not need them. You may think you do, but...\r\nHow would you use them? If you want to call them like\r\n\r\n    MyImplClass.myMethod()\r\nthen you do not need to declare it in the interface. If you want to call them like\r\n\r\n    myInstance.myMethod()\r\nthen it should not be static.\r\nIf you are actually going to use first way, but just want to enforce each implementation to have such  static method, then it is really a coding convention, not a contract between instance that implements an interface and calling code.\r\n\r\nInterfaces allow you to define contract between instance of class that implement the interface and calling code. And java helps you to be sure that this contract is not violated, so you can rely on it and don&#39;t worry what class implements this contract, just &quot;someone who signed a contract&quot; is enough. In case of static interfaces your code \r\n\r\n    MyImplClass.myMethod()\r\ndoes not rely on the fact that each interface implementation has this method, so you do not need java to help you to be sure with it.","title":"Why can&#39;t I define a static method in a Java interface?","body":"<p>I think java does not have static interface methods because you do not need them. You may think you do, but...\nHow would you use them? If you want to call them like</p>\n\n<pre><code>MyImplClass.myMethod()\n</code></pre>\n\n<p>then you do not need to declare it in the interface. If you want to call them like</p>\n\n<pre><code>myInstance.myMethod()\n</code></pre>\n\n<p>then it should not be static.\nIf you are actually going to use first way, but just want to enforce each implementation to have such  static method, then it is really a coding convention, not a contract between instance that implements an interface and calling code.</p>\n\n<p>Interfaces allow you to define contract between instance of class that implement the interface and calling code. And java helps you to be sure that this contract is not violated, so you can rely on it and don't worry what class implements this contract, just \"someone who signed a contract\" is enough. In case of static interfaces your code </p>\n\n<pre><code>MyImplClass.myMethod()\n</code></pre>\n\n<p>does not rely on the fact that each interface implementation has this method, so you do not need java to help you to be sure with it.</p>\n"},{"tags":[],"owner":{"account_id":5022,"reputation":13852,"user_id":7867,"accept_rate":70,"display_name":"Mr. Shiny and New 安宇"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1233780048,"creation_date":1233780048,"answer_id":513207,"question_id":512877,"body_markdown":"Several answers have discussed the problems with the concept of overridable static methods.  However sometimes you come across a pattern where it seems like that&#39;s just what you want to use.\r\n\r\nFor example, I work with an object-relational layer that has value objects, but also has commands for manipulating the value objects.  For various reasons, each value object class has to define some static methods that let the framework find the command instance.  For example, to create a Person you&#39;d do:\r\n\r\n    cmd = createCmd(Person.getCreateCmdId());\r\n    Person p = cmd.execute();\r\n\r\nand to load a Person by ID you&#39;d do\r\n\r\n    cmd = createCmd(Person.getGetCmdId());\r\n    cmd.set(ID, id);\r\n    Person p = cmd.execute();\r\n\r\nThis is fairly convenient, however it has its problems; notably the existence of the static methods can not be enforced in the interface.  An overridable static method in the interface would be exactly what we&#39;d need, if only it could work somehow.\r\n\r\nEJBs solve this problem by having a Home interface; each object knows how to find its Home and the Home contains the &quot;static&quot; methods.  This way the &quot;static&quot; methods can be overridden as needed, and you don&#39;t clutter up the normal (it&#39;s called &quot;Remote&quot;) interface with methods that don&#39;t apply to an instance of your bean.  Just make the normal interface specify a &quot;getHome()&quot; method.  Return an instance of the Home object (which could be a singleton, I suppose) and the caller can perform operations that affect all Person objects.","title":"Why can&#39;t I define a static method in a Java interface?","body":"<p>Several answers have discussed the problems with the concept of overridable static methods.  However sometimes you come across a pattern where it seems like that's just what you want to use.</p>\n\n<p>For example, I work with an object-relational layer that has value objects, but also has commands for manipulating the value objects.  For various reasons, each value object class has to define some static methods that let the framework find the command instance.  For example, to create a Person you'd do:</p>\n\n<pre><code>cmd = createCmd(Person.getCreateCmdId());\nPerson p = cmd.execute();\n</code></pre>\n\n<p>and to load a Person by ID you'd do</p>\n\n<pre><code>cmd = createCmd(Person.getGetCmdId());\ncmd.set(ID, id);\nPerson p = cmd.execute();\n</code></pre>\n\n<p>This is fairly convenient, however it has its problems; notably the existence of the static methods can not be enforced in the interface.  An overridable static method in the interface would be exactly what we'd need, if only it could work somehow.</p>\n\n<p>EJBs solve this problem by having a Home interface; each object knows how to find its Home and the Home contains the \"static\" methods.  This way the \"static\" methods can be overridden as needed, and you don't clutter up the normal (it's called \"Remote\") interface with methods that don't apply to an instance of your bean.  Just make the normal interface specify a \"getHome()\" method.  Return an instance of the Home object (which could be a singleton, I suppose) and the caller can perform operations that affect all Person objects.</p>\n"},{"tags":[],"owner":{"account_id":11708,"reputation":21399,"user_id":22704,"display_name":"Darron"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1233782181,"creation_date":1233782181,"answer_id":513390,"question_id":512877,"body_markdown":" * &quot;Is there a particular reason that static methods cannot be overridden&quot;.\r\n\r\nLet me re-word that question for your by filling in the definitions.\r\n\r\n * &quot;Is there a particular reason that methods resolved at compile time cannot be resolved at runtime.&quot;\r\n\r\nOr, to put in more completely, If I want to call a method without an instance, but knowing the class, how can I have it resolved based upon the instance that I don&#39;t have.\r\n","title":"Why can&#39;t I define a static method in a Java interface?","body":"<ul>\n<li>\"Is there a particular reason that static methods cannot be overridden\".</li>\n</ul>\n\n<p>Let me re-word that question for your by filling in the definitions.</p>\n\n<ul>\n<li>\"Is there a particular reason that methods resolved at compile time cannot be resolved at runtime.\"</li>\n</ul>\n\n<p>Or, to put in more completely, If I want to call a method without an instance, but knowing the class, how can I have it resolved based upon the instance that I don't have.</p>\n"},{"tags":[],"owner":{"account_id":8495,"reputation":12718,"user_id":15355,"accept_rate":60,"display_name":"pvgoddijn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1234541500,"creation_date":1234541074,"answer_id":546494,"question_id":512877,"body_markdown":"Suppose you could do it; consider this example:\r\n\r\n    interface Iface {\r\n      public static void thisIsTheMethod();\r\n    }\r\n    \r\n    class A implements Iface {\r\n    \r\n      public static void thisIsTheMethod(){\r\n        system.out.print(&quot;I&#39;m class A&quot;);\r\n      }\r\n    \r\n    }\r\n    \r\n    class B extends Class A {\r\n    \r\n      public static void thisIsTheMethod(){\r\n        System.out.print(&quot;I&#39;m class B&quot;);\r\n      } \r\n    }\r\n    \r\n    SomeClass {\r\n     \r\n      void doStuff(Iface face) {\r\n        IFace.thisIsTheMethod();\r\n        // now what would/could/should happen here.\r\n      }\r\n    \r\n    }\r\n\r\n","title":"Why can&#39;t I define a static method in a Java interface?","body":"<p>Suppose you could do it; consider this example:</p>\n\n<pre><code>interface Iface {\n  public static void thisIsTheMethod();\n}\n\nclass A implements Iface {\n\n  public static void thisIsTheMethod(){\n    system.out.print(\"I'm class A\");\n  }\n\n}\n\nclass B extends Class A {\n\n  public static void thisIsTheMethod(){\n    System.out.print(\"I'm class B\");\n  } \n}\n\nSomeClass {\n\n  void doStuff(Iface face) {\n    IFace.thisIsTheMethod();\n    // now what would/could/should happen here.\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527336,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1234561069,"creation_date":1234561069,"answer_id":547793,"question_id":512877,"body_markdown":"Normally this is done using a Factory pattern\r\n\r\n    public interface IXMLizableFactory&lt;T extends IXMLizable&gt; {\r\n      public T newInstanceFromXML(Element e);\r\n    }\r\n    \r\n    public interface IXMLizable {\r\n      public Element toXMLElement();\r\n    }\r\n\r\n","title":"Why can&#39;t I define a static method in a Java interface?","body":"<p>Normally this is done using a Factory pattern</p>\n\n<pre><code>public interface IXMLizableFactory&lt;T extends IXMLizable&gt; {\n  public T newInstanceFromXML(Element e);\n}\n\npublic interface IXMLizable {\n  public Element toXMLElement();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":305559,"reputation":6063,"user_id":615784,"display_name":"Shelby Moore III"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1343913124,"creation_date":1297686167,"answer_id":4992095,"question_id":512877,"body_markdown":"An interface can never be dereferenced statically, e.g. `ISomething.member`. An interface is always dereferenced via a variable that refers to an instance of a subclass of the interface. Thus, an interface reference can never know which subclass it refers to without an instance of its subclass.\r\n\r\nThus the closest approximation to a static method in an interface would be a non-static method that ignores &quot;this&quot;, i.e. does not access any non-static members of the instance. At the low-level abstraction, every non-static method (after lookup in any vtable) is really just a function with class scope that takes &quot;this&quot; as an implicit formal parameter. See [Scala&#39;s singleton object and interoperability with Java][1] as evidence of that concept.\r\nAnd thus every static method is a function with class scope that does not take a &quot;this&quot; parameter. Thus normally a static method can be called statically, but as previously stated, an interface has no implementation (is abstract).\r\n\r\nThus to get closest approximation to a static method in an interface, is to use a non-static method, then don&#39;t access any of the non-static instance members. There would be no possible performance benefit any other way, because there is no way to statically link (at compile-time) a `ISomething.member()`. The only benefit I see of a static method in an interface is that it would not input (i.e. ignore) an implicit &quot;this&quot; and thus disallow access to any of the non-static instance members. This would declare implicitly that the function that doesn&#39;t access &quot;this&quot;, is immutate and not even readonly with respect to its containing class. But a declaration of &quot;static&quot; in an interface `ISomething` would also confuse people who tried to access it with `ISomething.member()` which would cause a compiler error. I suppose if the compiler error was sufficiently explanatory, it would be better than trying to educate people about using a non-static method to accomplish what they want (apparently mostly factory methods), as we are doing here (and has been repeated for 3 Q&amp;A times on this site), so it is obviously an issue that is not intuitive for many people. I had to think about it for a while to get the correct understanding.\r\n\r\nThe way to get a mutable static field in an interface is use non-static getter and setter methods in an interface, to access that static field that in the subclass. Sidenote, apparently immutable statics can be declared in a Java interface with `static final`.\r\n\r\n  [1]: http://blogs.oracle.com/sundararajan/entry/scala_for_java_programmers","title":"Why can&#39;t I define a static method in a Java interface?","body":"<p>An interface can never be dereferenced statically, e.g. <code>ISomething.member</code>. An interface is always dereferenced via a variable that refers to an instance of a subclass of the interface. Thus, an interface reference can never know which subclass it refers to without an instance of its subclass.</p>\n\n<p>Thus the closest approximation to a static method in an interface would be a non-static method that ignores \"this\", i.e. does not access any non-static members of the instance. At the low-level abstraction, every non-static method (after lookup in any vtable) is really just a function with class scope that takes \"this\" as an implicit formal parameter. See <a href=\"http://blogs.oracle.com/sundararajan/entry/scala_for_java_programmers\" rel=\"nofollow\">Scala's singleton object and interoperability with Java</a> as evidence of that concept.\nAnd thus every static method is a function with class scope that does not take a \"this\" parameter. Thus normally a static method can be called statically, but as previously stated, an interface has no implementation (is abstract).</p>\n\n<p>Thus to get closest approximation to a static method in an interface, is to use a non-static method, then don't access any of the non-static instance members. There would be no possible performance benefit any other way, because there is no way to statically link (at compile-time) a <code>ISomething.member()</code>. The only benefit I see of a static method in an interface is that it would not input (i.e. ignore) an implicit \"this\" and thus disallow access to any of the non-static instance members. This would declare implicitly that the function that doesn't access \"this\", is immutate and not even readonly with respect to its containing class. But a declaration of \"static\" in an interface <code>ISomething</code> would also confuse people who tried to access it with <code>ISomething.member()</code> which would cause a compiler error. I suppose if the compiler error was sufficiently explanatory, it would be better than trying to educate people about using a non-static method to accomplish what they want (apparently mostly factory methods), as we are doing here (and has been repeated for 3 Q&amp;A times on this site), so it is obviously an issue that is not intuitive for many people. I had to think about it for a while to get the correct understanding.</p>\n\n<p>The way to get a mutable static field in an interface is use non-static getter and setter methods in an interface, to access that static field that in the subclass. Sidenote, apparently immutable statics can be declared in a Java interface with <code>static final</code>.</p>\n"},{"tags":[],"owner":{"account_id":440799,"reputation":81,"user_id":830566,"display_name":"tallgirl"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1309906451,"creation_date":1309906451,"answer_id":6589752,"question_id":512877,"body_markdown":"First, all language decisions are decisions made by the language creators.  There is nothing in the world of software engineering or language defining or compiler / interpreter writing which says that a static method cannot be part of an interface.  I&#39;ve created a couple of languages and written compilers for them -- it&#39;s all just sitting down and defining meaningful semantics.  I&#39;d argue that the semantics of a static method in an interface are remarkably clear -- even if the compiler has to defer resolution of the method to run-time.\r\n\r\nSecondly, that we use static methods at all means there is a valid reason for having an interface pattern which includes static methods -- I can&#39;t speak for any of you, but I use static methods on a regular basis.\r\n\r\nThe most likely correct answer is that there was no perceived need, at the time the language was defined, for static methods in interfaces.  Java has grown a lot over the years and this is an item that has apparently gained some interest.  That it was looked at for Java 7 indicates that its risen to a level of interest that might result in a language change.  I, for one, will be happy when I no longer have to instantiate an object just so I can call my non-static getter method to access a static variable in a subclass instance ...","title":"Why can&#39;t I define a static method in a Java interface?","body":"<p>First, all language decisions are decisions made by the language creators.  There is nothing in the world of software engineering or language defining or compiler / interpreter writing which says that a static method cannot be part of an interface.  I've created a couple of languages and written compilers for them -- it's all just sitting down and defining meaningful semantics.  I'd argue that the semantics of a static method in an interface are remarkably clear -- even if the compiler has to defer resolution of the method to run-time.</p>\n\n<p>Secondly, that we use static methods at all means there is a valid reason for having an interface pattern which includes static methods -- I can't speak for any of you, but I use static methods on a regular basis.</p>\n\n<p>The most likely correct answer is that there was no perceived need, at the time the language was defined, for static methods in interfaces.  Java has grown a lot over the years and this is an item that has apparently gained some interest.  That it was looked at for Java 7 indicates that its risen to a level of interest that might result in a language change.  I, for one, will be happy when I no longer have to instantiate an object just so I can call my non-static getter method to access a static variable in a subclass instance ...</p>\n"},{"tags":[],"owner":{"account_id":1512952,"reputation":161,"user_id":1414610,"accept_rate":50,"display_name":"VIckyb"},"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1383484433,"creation_date":1365073612,"answer_id":15809423,"question_id":512877,"body_markdown":"What is the need of static method in interface, static methods are used basically when you don&#39;t have to create an instance of object whole idea of interface is to bring in OOP concepts with introduction of static method you&#39;re diverting from concept.","title":"Why can&#39;t I define a static method in a Java interface?","body":"<p>What is the need of static method in interface, static methods are used basically when you don't have to create an instance of object whole idea of interface is to bring in OOP concepts with introduction of static method you're diverting from concept.</p>\n"},{"tags":[],"owner":{"account_id":2784842,"reputation":67271,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1376979820,"creation_date":1376979820,"answer_id":18328276,"question_id":512877,"body_markdown":"    Why can&#39;t I define a static method in a Java interface?\r\n\r\nAll methods in an interface are explicitly abstract and hence you cannot define them as static  because static methods cannot be abstract.","title":"Why can&#39;t I define a static method in a Java interface?","body":"<pre><code>Why can't I define a static method in a Java interface?\n</code></pre>\n\n<p>All methods in an interface are explicitly abstract and hence you cannot define them as static  because static methods cannot be abstract.</p>\n"},{"tags":[],"owner":{"account_id":1655796,"reputation":162,"user_id":1525413,"display_name":"Christophe Bouchon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380811413,"creation_date":1380811413,"answer_id":19162187,"question_id":512877,"body_markdown":"Something that could be implemented is static interface (instead of static method in an interface). All classes implementing a given static interface should implement the corresponding static methods. You could get static interface SI from any Class clazz using\r\n\r\n    SI si = clazz.getStatic(SI.class); // null if clazz doesn&#39;t implement SI\r\n    // alternatively if the class is known at compile time\r\n    SI si = Someclass.static.SI; // either compiler errror or not null\r\nthen you can call `si.method(params)`.\r\nThis would be useful (for factory design pattern for example) because you can get (or check the implementation of) SI static methods implementation from a compile time unknown class !\r\nA dynamic dispatch is necessary and you can override the static methods (if not final) of a class by extending it (when called through the static interface).\r\nObviously, these methods can only access static variables of their class.\r\n","title":"Why can&#39;t I define a static method in a Java interface?","body":"<p>Something that could be implemented is static interface (instead of static method in an interface). All classes implementing a given static interface should implement the corresponding static methods. You could get static interface SI from any Class clazz using</p>\n\n<pre><code>SI si = clazz.getStatic(SI.class); // null if clazz doesn't implement SI\n// alternatively if the class is known at compile time\nSI si = Someclass.static.SI; // either compiler errror or not null\n</code></pre>\n\n<p>then you can call <code>si.method(params)</code>.\nThis would be useful (for factory design pattern for example) because you can get (or check the implementation of) SI static methods implementation from a compile time unknown class !\nA dynamic dispatch is necessary and you can override the static methods (if not final) of a class by extending it (when called through the static interface).\nObviously, these methods can only access static variables of their class.</p>\n"},{"tags":[],"owner":{"account_id":1494447,"reputation":2413,"user_id":1400737,"accept_rate":78,"display_name":"rogue lad"},"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1418566439,"creation_date":1417021997,"answer_id":27155104,"question_id":512877,"body_markdown":"With the advent of **Java 8** it is possible now to write **default** and **static** methods in interface.\r\n[docs.oracle/staticMethod][1]\r\n\r\nFor example:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public interface Arithmetic {\r\n\t\r\n        public int add(int a, int b);\r\n\t\r\n        public static int multiply(int a, int b) {\r\n            return a * b;\r\n        }\r\n    }\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class ArithmaticImplementation implements Arithmetic {\r\n\r\n        @Override\r\n        public int add(int a, int b) {\r\n            return a + b;\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            int result = Arithmetic.multiply(2, 3);\r\n            System.out.println(result);\r\n        }\r\n    }\r\n\r\n**Result** : 6\r\n\r\n**TIP :** Calling an static interface method doesn&#39;t require to be implemented by any class. Surely, this happens because the same rules for static methods in superclasses applies for static methods on interfaces.\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html","title":"Why can&#39;t I define a static method in a Java interface?","body":"<p>With the advent of <strong>Java 8</strong> it is possible now to write <strong>default</strong> and <strong>static</strong> methods in interface.\n<a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\">docs.oracle/staticMethod</a></p>\n\n<p>For example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public interface Arithmetic {\n\n    public int add(int a, int b);\n\n    public static int multiply(int a, int b) {\n        return a * b;\n    }\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class ArithmaticImplementation implements Arithmetic {\n\n    @Override\n    public int add(int a, int b) {\n        return a + b;\n    }\n\n    public static void main(String[] args) {\n        int result = Arithmetic.multiply(2, 3);\n        System.out.println(result);\n    }\n}\n</code></pre>\n\n<p><strong>Result</strong> : 6</p>\n\n<p><strong>TIP :</strong> Calling an static interface method doesn't require to be implemented by any class. Surely, this happens because the same rules for static methods in superclasses applies for static methods on interfaces.</p>\n"},{"tags":[],"owner":{"account_id":477011,"reputation":139,"user_id":888230,"accept_rate":100,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432228557,"creation_date":1432149056,"answer_id":30358421,"question_id":512877,"body_markdown":"While I realize that Java 8 resolves this issue, I thought I&#39;d chime in with a scenario I am currently working on (locked into using Java 7) where being able to specify static methods in an interface would be helpful.\r\n\r\nI have several enum definitions where I&#39;ve defined &quot;id&quot; and &quot;displayName&quot; fields along with helper methods evaluating the values for various reasons. Implementing an interface allows me to ensure that the getter methods are in place but not the static helper methods. Being an enum, there really isn&#39;t a clean way to offload the helper methods into an inherited abstract class or something of the like so the methods have to be defined in the enum itself. Also because it is an enum, you wouldn&#39;t ever be able to actually pass it as an instanced object and treat it as the interface type, but being able to require the existence of the static helper methods through an interface is what I like about it being supported in Java 8.\r\n\r\nHere&#39;s code illustrating my point.\r\n\r\nInterface definition:\r\n\r\n    public interface IGenericEnum &lt;T extends Enum&lt;T&gt;&gt; {\r\n    \tString getId();\r\n    \tString getDisplayName();\r\n    \t//If I was using Java 8 static helper methods would go here\r\n    }\r\n\r\nExample of one enum definition:\r\n\r\n    public enum ExecutionModeType implements IGenericEnum&lt;ExecutionModeType&gt; {\r\n    \tSTANDARD (&quot;Standard&quot;, &quot;Standard Mode&quot;),\r\n\t    DEBUG (&quot;Debug&quot;, &quot;Debug Mode&quot;);\r\n\t    \r\n    \tString id;\r\n\t    String displayName;\r\n\t    \r\n    \t//Getter methods\r\n\t    public String getId() {\r\n\t\t    return id;\r\n    \t}\r\n    \r\n    \tpublic String getDisplayName() {\r\n\t    \treturn displayName;\r\n    \t}\r\n\t\r\n\t    //Constructor\r\n    \tprivate ExecutionModeType(String id, String displayName) {\r\n\t    \tthis.id = id;\r\n\t\t    this.displayName = displayName;\r\n    \t}\r\n\t    \r\n    \t//Helper methods - not enforced by Interface\r\n\t    public static boolean isValidId(String id) {\r\n\t\t    return GenericEnumUtility.isValidId(ExecutionModeType.class, id);\r\n    \t}\r\n\t    \r\n    \tpublic static String printIdOptions(String delimiter){\r\n\t    \treturn GenericEnumUtility.printIdOptions(ExecutionModeType.class, delimiter);\r\n    \t}\r\n\t    \r\n    \tpublic static String[] getIdArray(){\r\n\t    \treturn GenericEnumUtility.getIdArray(ExecutionModeType.class);\r\n    \t}\r\n\t\r\n\t    public static ExecutionModeType getById(String id) throws NoSuchObjectException {\r\n\t\t    return GenericEnumUtility.getById(ExecutionModeType.class, id);\r\n    \t}\r\n    }\r\n\r\nGeneric enum utility definition:\r\n\r\n\tpublic class GenericEnumUtility {\r\n\t\tpublic static &lt;T extends Enum&lt;T&gt; &amp; IGenericEnum&lt;T&gt;&gt; boolean isValidId(Class&lt;T&gt; enumType, String id) {\t\t\r\n\t\t\tfor(IGenericEnum&lt;T&gt; enumOption : enumType.getEnumConstants()) {\r\n\t\t\t\tif(enumOption.getId().equals(id)) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\tpublic static &lt;T extends Enum&lt;T&gt; &amp; IGenericEnum&lt;T&gt;&gt; String printIdOptions(Class&lt;T&gt; enumType, String delimiter){\r\n\t\t\tString ret = &quot;&quot;;\r\n\t\t\tdelimiter = delimiter == null ? &quot; &quot; : delimiter;\r\n\t\t\t\r\n\t\t\tint i = 0;\r\n\t\t\tfor(IGenericEnum&lt;T&gt; enumOption : enumType.getEnumConstants()) {\r\n\t\t\t\tif(i == 0) {\r\n\t\t\t\t\tret = enumOption.getId();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tret += delimiter + enumOption.getId();\r\n\t\t\t\t}\t\t\t\r\n\t\t\t\ti++;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn ret;\r\n\t\t}\r\n\t\t\r\n\t\tpublic static &lt;T extends Enum&lt;T&gt; &amp; IGenericEnum&lt;T&gt;&gt; String[] getIdArray(Class&lt;T&gt; enumType){\r\n\t\t\tList&lt;String&gt; idValues = new ArrayList&lt;String&gt;();\r\n\t\r\n\t\t\tfor(IGenericEnum&lt;T&gt; enumOption : enumType.getEnumConstants()) {\r\n\t\t\t\tidValues.add(enumOption.getId());\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn idValues.toArray(new String[idValues.size()]);\r\n\t\t}\r\n\t\r\n\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\tpublic static &lt;T extends Enum&lt;T&gt; &amp; IGenericEnum&lt;T&gt;&gt; T getById(Class&lt;T&gt; enumType, String id) throws NoSuchObjectException {\r\n\t\t\tid = id == null ? &quot;&quot; : id;\r\n\t\t\tfor(IGenericEnum&lt;T&gt; enumOption : enumType.getEnumConstants()) {\r\n\t\t\t\tif(id.equals(enumOption.getId())) {\r\n\t\t\t\t\treturn (T)enumOption;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthrow new NoSuchObjectException(String.format(&quot;ERROR: \\&quot;%s\\&quot; is not a valid ID. Valid IDs are: %s.&quot;, id, printIdOptions(enumType, &quot; , &quot;)));\r\n\t\t}\r\n\t}\r\n","title":"Why can&#39;t I define a static method in a Java interface?","body":"<p>While I realize that Java 8 resolves this issue, I thought I'd chime in with a scenario I am currently working on (locked into using Java 7) where being able to specify static methods in an interface would be helpful.</p>\n\n<p>I have several enum definitions where I've defined \"id\" and \"displayName\" fields along with helper methods evaluating the values for various reasons. Implementing an interface allows me to ensure that the getter methods are in place but not the static helper methods. Being an enum, there really isn't a clean way to offload the helper methods into an inherited abstract class or something of the like so the methods have to be defined in the enum itself. Also because it is an enum, you wouldn't ever be able to actually pass it as an instanced object and treat it as the interface type, but being able to require the existence of the static helper methods through an interface is what I like about it being supported in Java 8.</p>\n\n<p>Here's code illustrating my point.</p>\n\n<p>Interface definition:</p>\n\n<pre><code>public interface IGenericEnum &lt;T extends Enum&lt;T&gt;&gt; {\n    String getId();\n    String getDisplayName();\n    //If I was using Java 8 static helper methods would go here\n}\n</code></pre>\n\n<p>Example of one enum definition:</p>\n\n<pre><code>public enum ExecutionModeType implements IGenericEnum&lt;ExecutionModeType&gt; {\n    STANDARD (\"Standard\", \"Standard Mode\"),\n    DEBUG (\"Debug\", \"Debug Mode\");\n\n    String id;\n    String displayName;\n\n    //Getter methods\n    public String getId() {\n        return id;\n    }\n\n    public String getDisplayName() {\n        return displayName;\n    }\n\n    //Constructor\n    private ExecutionModeType(String id, String displayName) {\n        this.id = id;\n        this.displayName = displayName;\n    }\n\n    //Helper methods - not enforced by Interface\n    public static boolean isValidId(String id) {\n        return GenericEnumUtility.isValidId(ExecutionModeType.class, id);\n    }\n\n    public static String printIdOptions(String delimiter){\n        return GenericEnumUtility.printIdOptions(ExecutionModeType.class, delimiter);\n    }\n\n    public static String[] getIdArray(){\n        return GenericEnumUtility.getIdArray(ExecutionModeType.class);\n    }\n\n    public static ExecutionModeType getById(String id) throws NoSuchObjectException {\n        return GenericEnumUtility.getById(ExecutionModeType.class, id);\n    }\n}\n</code></pre>\n\n<p>Generic enum utility definition:</p>\n\n<pre><code>public class GenericEnumUtility {\n    public static &lt;T extends Enum&lt;T&gt; &amp; IGenericEnum&lt;T&gt;&gt; boolean isValidId(Class&lt;T&gt; enumType, String id) {       \n        for(IGenericEnum&lt;T&gt; enumOption : enumType.getEnumConstants()) {\n            if(enumOption.getId().equals(id)) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    public static &lt;T extends Enum&lt;T&gt; &amp; IGenericEnum&lt;T&gt;&gt; String printIdOptions(Class&lt;T&gt; enumType, String delimiter){\n        String ret = \"\";\n        delimiter = delimiter == null ? \" \" : delimiter;\n\n        int i = 0;\n        for(IGenericEnum&lt;T&gt; enumOption : enumType.getEnumConstants()) {\n            if(i == 0) {\n                ret = enumOption.getId();\n            } else {\n                ret += delimiter + enumOption.getId();\n            }           \n            i++;\n        }\n\n        return ret;\n    }\n\n    public static &lt;T extends Enum&lt;T&gt; &amp; IGenericEnum&lt;T&gt;&gt; String[] getIdArray(Class&lt;T&gt; enumType){\n        List&lt;String&gt; idValues = new ArrayList&lt;String&gt;();\n\n        for(IGenericEnum&lt;T&gt; enumOption : enumType.getEnumConstants()) {\n            idValues.add(enumOption.getId());\n        }\n\n        return idValues.toArray(new String[idValues.size()]);\n    }\n\n    @SuppressWarnings(\"unchecked\")\n    public static &lt;T extends Enum&lt;T&gt; &amp; IGenericEnum&lt;T&gt;&gt; T getById(Class&lt;T&gt; enumType, String id) throws NoSuchObjectException {\n        id = id == null ? \"\" : id;\n        for(IGenericEnum&lt;T&gt; enumOption : enumType.getEnumConstants()) {\n            if(id.equals(enumOption.getId())) {\n                return (T)enumOption;\n            }\n        }\n\n        throw new NoSuchObjectException(String.format(\"ERROR: \\\"%s\\\" is not a valid ID. Valid IDs are: %s.\", id, printIdOptions(enumType, \" , \")));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1634098631,"creation_date":1435757585,"answer_id":31162902,"question_id":512877,"body_markdown":"&gt; Why can&#39;t I define a static method in a Java interface?\r\n\r\n**Actually you can in Java 8.**\r\n\r\nAs per Java [doc][1]:\r\n\r\n&gt; A static method is a method that is associated with the class in which\r\n&gt; it is defined rather than with any object. Every instance of the class\r\n&gt; shares its static methods\r\n\r\nIn Java 8 an interface can have **default methods** and **static methods**. This makes it easier for us to organize helper methods in our libraries. We can keep static methods specific to an interface in the same interface rather than in a separate class. \r\n\r\nExample of default method:\r\n--------------------------\r\n    list.sort(ordering);\r\n\r\ninstead of\r\n\r\n    Collections.sort(list, ordering);\r\n\r\nExample of static method (from [doc][2] itself):\r\n------------------------------------------------\r\n\r\n    public interface TimeClient {\r\n        // ...\r\n        static public ZoneId getZoneId (String zoneString) {\r\n            try {\r\n                return ZoneId.of(zoneString);\r\n            } catch (DateTimeException e) {\r\n                System.err.println(&quot;Invalid time zone: &quot; + zoneString +\r\n                    &quot;; using default time zone instead.&quot;);\r\n                return ZoneId.systemDefault();\r\n            }\r\n        }\r\n    \r\n        default public ZonedDateTime getZonedDateTime(String zoneString) {\r\n            return ZonedDateTime.of(getLocalDateTime(), getZoneId(zoneString));\r\n        }    \r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html#:~:text=static%20ZoneId%20getZoneId%20(String%20zoneString)%20%7B","title":"Why can&#39;t I define a static method in a Java interface?","body":"<blockquote>\n<p>Why can't I define a static method in a Java interface?</p>\n</blockquote>\n<p><strong>Actually you can in Java 8.</strong></p>\n<p>As per Java <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\" rel=\"nofollow noreferrer\">doc</a>:</p>\n<blockquote>\n<p>A static method is a method that is associated with the class in which\nit is defined rather than with any object. Every instance of the class\nshares its static methods</p>\n</blockquote>\n<p>In Java 8 an interface can have <strong>default methods</strong> and <strong>static methods</strong>. This makes it easier for us to organize helper methods in our libraries. We can keep static methods specific to an interface in the same interface rather than in a separate class.</p>\n<h2>Example of default method:</h2>\n<pre><code>list.sort(ordering);\n</code></pre>\n<p>instead of</p>\n<pre><code>Collections.sort(list, ordering);\n</code></pre>\n<h2>Example of static method (from <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html#:%7E:text=static%20ZoneId%20getZoneId%20(String%20zoneString)%20%7B\" rel=\"nofollow noreferrer\">doc</a> itself):</h2>\n<pre><code>public interface TimeClient {\n    // ...\n    static public ZoneId getZoneId (String zoneString) {\n        try {\n            return ZoneId.of(zoneString);\n        } catch (DateTimeException e) {\n            System.err.println(&quot;Invalid time zone: &quot; + zoneString +\n                &quot;; using default time zone instead.&quot;);\n            return ZoneId.systemDefault();\n        }\n    }\n\n    default public ZonedDateTime getZonedDateTime(String zoneString) {\n        return ZonedDateTime.of(getLocalDateTime(), getZoneId(zoneString));\n    }    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5597041,"reputation":130,"user_id":4434482,"display_name":"beibichunai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442670863,"creation_date":1442670863,"answer_id":32669019,"question_id":512877,"body_markdown":"Let&#39;s suppose static methods were allowed in interfaces:\r\n* They would force all implementing classes to declare that method. \r\n* Interfaces would usually be used through objects, so the only effective methods on those would be the non-static ones. \r\n* Any class which knows a particular interface could invoke its static methods. Hence a implementing class&#39; static method would be called underneath, but the invoker class does not know which. How to know it? It has no instantiation to guess that! \r\n\r\nInterfaces were thought to be used when working with objects. This way, an object is instantiated from a particular class, so this last matter is solved. The invoking class need not know which particular class is because the instantiation may be done by a third class. So the invoking class knows only the interface. \r\n\r\nIf we want this to be extended to static methods, we should have the possibility to especify an implementing class before, then pass a reference to the invoking class. This could use the class through the static methods in the interface. But what is the differente between this reference and an object? We just need an object representing what it was the class. Now, the object represents the old class, and could implement a new interface including the old static methods - those are now non-static. \r\n\r\nMetaclasses serve for this purpose. You may try the class Class of Java. But the problem is that Java is not flexible enough for this. You can not declare a method in the class object of an interface. \r\n\r\nThis is a meta issue - when you need to do ass\r\n\r\n..blah blah \r\n\r\n\r\n\r\n\r\nanyway you have an easy workaround - making the method non-static with the same logic. But then you would have to first create an object to call the method.\r\n","title":"Why can&#39;t I define a static method in a Java interface?","body":"<p>Let's suppose static methods were allowed in interfaces:\n* They would force all implementing classes to declare that method. \n* Interfaces would usually be used through objects, so the only effective methods on those would be the non-static ones. \n* Any class which knows a particular interface could invoke its static methods. Hence a implementing class' static method would be called underneath, but the invoker class does not know which. How to know it? It has no instantiation to guess that! </p>\n\n<p>Interfaces were thought to be used when working with objects. This way, an object is instantiated from a particular class, so this last matter is solved. The invoking class need not know which particular class is because the instantiation may be done by a third class. So the invoking class knows only the interface. </p>\n\n<p>If we want this to be extended to static methods, we should have the possibility to especify an implementing class before, then pass a reference to the invoking class. This could use the class through the static methods in the interface. But what is the differente between this reference and an object? We just need an object representing what it was the class. Now, the object represents the old class, and could implement a new interface including the old static methods - those are now non-static. </p>\n\n<p>Metaclasses serve for this purpose. You may try the class Class of Java. But the problem is that Java is not flexible enough for this. You can not declare a method in the class object of an interface. </p>\n\n<p>This is a meta issue - when you need to do ass</p>\n\n<p>..blah blah </p>\n\n<p>anyway you have an easy workaround - making the method non-static with the same logic. But then you would have to first create an object to call the method.</p>\n"},{"tags":[],"owner":{"account_id":8480091,"reputation":168,"user_id":6360040,"display_name":"flavio"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1465986558,"creation_date":1465986558,"answer_id":37832835,"question_id":512877,"body_markdown":"Commenting `EDIT: As of Java 8, static methods are now allowed in interfaces.`\r\n\r\nIt is right, static methods since Java 8 are allowed in interfaces, but your example still won&#39;t work. You cannot just define a static method: you have to implement it or you will obtain a compilation error.","title":"Why can&#39;t I define a static method in a Java interface?","body":"<p>Commenting <code>EDIT: As of Java 8, static methods are now allowed in interfaces.</code></p>\n\n<p>It is right, static methods since Java 8 are allowed in interfaces, but your example still won't work. You cannot just define a static method: you have to implement it or you will obtain a compilation error.</p>\n"},{"tags":[],"owner":{"display_name":"user8838577"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509268226,"creation_date":1509268226,"answer_id":46998522,"question_id":512877,"body_markdown":"To solve this :\r\nerror: missing method body, or declare abstract\r\n        static void main(String[] args);\r\n\r\n\r\n    interface I\r\n    {\r\n    \tint x=20;\r\n    \tvoid getValue();\r\n    \tstatic void main(String[] args){};//Put curly braces \r\n    }\r\n    class InterDemo implements I\r\n    {\r\n    \tpublic void getValue()\r\n    \t{\r\n    \tSystem.out.println(x);\r\n    \t}\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \tInterDemo i=new InterDemo();\r\n    \ti.getValue();\t\r\n    \t}\r\n    \r\n    }\r\n\r\noutput :\r\n20\r\n\r\nNow we can use static method in interface \r\n","title":"Why can&#39;t I define a static method in a Java interface?","body":"<p>To solve this :\nerror: missing method body, or declare abstract\n        static void main(String[] args);</p>\n\n<pre><code>interface I\n{\n    int x=20;\n    void getValue();\n    static void main(String[] args){};//Put curly braces \n}\nclass InterDemo implements I\n{\n    public void getValue()\n    {\n    System.out.println(x);\n    }\n    public static void main(String[] args)\n    {\n    InterDemo i=new InterDemo();\n    i.getValue();   \n    }\n\n}\n</code></pre>\n\n<p>output :\n20</p>\n\n<p>Now we can use static method in interface </p>\n"}],"owner":{"account_id":24561,"reputation":31944,"user_id":62571,"accept_rate":85,"display_name":"cdmckay"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":425904,"favorite_count":0,"down_vote_count":4,"up_vote_count":565,"accepted_answer_id":513001,"answer_count":24,"score":561,"last_activity_date":1699591981,"creation_date":1233775289,"question_id":512877,"body_markdown":"**EDIT:** _As of Java 8, static methods are now allowed in interfaces._\r\n\r\nHere&#39;s the example:\r\n\r\n    public interface IXMLizable&lt;T&gt;\r\n    {\r\n      static T newInstanceFromXML(Element e);\r\n      Element toXMLElement();\r\n    }\r\n\r\nOf course this won&#39;t work.  But why not?\r\n\r\nOne of the possible issues would be, what happens when you call:\r\n\r\n    IXMLizable.newInstanceFromXML(e);\r\n\r\nIn this case, I think it should just call an empty method (i.e. {}).  All subclasses would be forced to implement the static method, so they&#39;d all be fine when calling the static method.  So why isn&#39;t this possible?\r\n\r\n**EDIT:** I guess I&#39;m looking for answer that&#39;s deeper than &quot;because that&#39;s the way Java is&quot;. \r\n\r\nIs there a particular technological reason why static methods can&#39;t be overwritten? That is, why did the designers of Java decide to make instance methods overrideable but not static methods?\r\n\r\n**EDIT:** The problem with my design is I&#39;m trying to use interfaces to enforce a coding convention.\r\n\r\nThat is, the goal of the interface is twofold:\r\n\r\n1. I want the IXMLizable interface to allow me to convert classes that implement it to XML elements (using polymorphism, works fine).\r\n\r\n2. If someone wants to make a new instance of a class that implements the IXMLizable interface, they will always know that there will be a newInstanceFromXML(Element e) static constructor.\r\n\r\nIs there any other way to ensure this, other than just putting a comment in the interface?\r\n","title":"Why can&#39;t I define a static method in a Java interface?","body":"<p><strong>EDIT:</strong> <em>As of Java 8, static methods are now allowed in interfaces.</em></p>\n\n<p>Here's the example:</p>\n\n<pre><code>public interface IXMLizable&lt;T&gt;\n{\n  static T newInstanceFromXML(Element e);\n  Element toXMLElement();\n}\n</code></pre>\n\n<p>Of course this won't work.  But why not?</p>\n\n<p>One of the possible issues would be, what happens when you call:</p>\n\n<pre><code>IXMLizable.newInstanceFromXML(e);\n</code></pre>\n\n<p>In this case, I think it should just call an empty method (i.e. {}).  All subclasses would be forced to implement the static method, so they'd all be fine when calling the static method.  So why isn't this possible?</p>\n\n<p><strong>EDIT:</strong> I guess I'm looking for answer that's deeper than \"because that's the way Java is\". </p>\n\n<p>Is there a particular technological reason why static methods can't be overwritten? That is, why did the designers of Java decide to make instance methods overrideable but not static methods?</p>\n\n<p><strong>EDIT:</strong> The problem with my design is I'm trying to use interfaces to enforce a coding convention.</p>\n\n<p>That is, the goal of the interface is twofold:</p>\n\n<ol>\n<li><p>I want the IXMLizable interface to allow me to convert classes that implement it to XML elements (using polymorphism, works fine).</p></li>\n<li><p>If someone wants to make a new instance of a class that implements the IXMLizable interface, they will always know that there will be a newInstanceFromXML(Element e) static constructor.</p></li>\n</ol>\n\n<p>Is there any other way to ensure this, other than just putting a comment in the interface?</p>\n"},{"tags":["java","drools","kie"],"answers":[{"tags":[],"owner":{"account_id":16338148,"reputation":1,"user_id":11799737,"display_name":"karrot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699591418,"creation_date":1699591418,"answer_id":77457749,"question_id":76431372,"body_markdown":"The error suggests a library incompatibility between Guice and Sisu. You can try to use the Guice and Sisu versions shown in the Sisu documentation: https://eclipse.github.io/sisu.inject/#code\r\n\r\n```\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.google.inject&lt;/groupId&gt;\r\n      &lt;artifactId&gt;guice&lt;/artifactId&gt;\r\n      &lt;version&gt;4.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.eclipse.sisu&lt;/groupId&gt;\r\n      &lt;artifactId&gt;org.eclipse.sisu.inject&lt;/artifactId&gt;\r\n      &lt;version&gt;0.3.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n```","title":"Drools: java.lang.IllegalArgumentException: org.eclipse.sisu.Parameters is not a binding annotation","body":"<p>The error suggests a library incompatibility between Guice and Sisu. You can try to use the Guice and Sisu versions shown in the Sisu documentation: <a href=\"https://eclipse.github.io/sisu.inject/#code\" rel=\"nofollow noreferrer\">https://eclipse.github.io/sisu.inject/#code</a></p>\n<pre><code>  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.inject&lt;/groupId&gt;\n      &lt;artifactId&gt;guice&lt;/artifactId&gt;\n      &lt;version&gt;4.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.eclipse.sisu&lt;/groupId&gt;\n      &lt;artifactId&gt;org.eclipse.sisu.inject&lt;/artifactId&gt;\n      &lt;version&gt;0.3.5&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":17699448,"reputation":1,"user_id":12849375,"display_name":"rr0"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699591418,"creation_date":1686223576,"question_id":76431372,"body_markdown":"I am getting this error when I am trying to execute my Drools project. I am using version `7.73.0.Final`.\r\n\r\n```\r\njava.lang.IllegalArgumentException: org.eclipse.sisu.Parameters is not a binding annotation. Please annotate it with @BindingAnnotation.\r\n\tat com.google.common.base.Preconditions.checkArgument(Preconditions.java:120) ~[na:na]\r\n\tat com.google.inject.Key.ensureIsBindingAnnotation(Key.java:402) ~[com.google.inject.guice-4.0.jar:na]\r\n\tat com.google.inject.Key.strategyFor(Key.java:389) ~[com.google.inject.guice-4.0.jar:na]\r\n\tat com.google.inject.Key.get(Key.java:251) ~[com.google.inject.guice-4.0.jar:na]\r\n\tat org.eclipse.sisu.wire.ParameterKeys.&lt;clinit&gt;(ParameterKeys.java:28) ~[na:na]\r\n\tat org.eclipse.sisu.wire.DependencyAnalyzer.&lt;init&gt;(DependencyAnalyzer.java:93) ~[na:na]\r\n\tat org.eclipse.sisu.wire.ElementAnalyzer.&lt;init&gt;(ElementAnalyzer.java:104) ~[na:na]\r\n\tat org.eclipse.sisu.wire.WireModule.configure(WireModule.java:74) ~[na:na]\r\n\tat com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:340) ~[com.google.inject.guice-4.0.jar:na]\r\n\tat com.google.inject.spi.Elements.getElements(Elements.java:110) ~[com.google.inject.guice-4.0.jar:na]\r\n\tat com.google.inject.internal.InjectorShell$Builder.build(InjectorShell.java:138) ~[com.google.inject.guice-4.0.jar:na]\r\n\tat com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:104) ~[com.google.inject.guice-4.0.jar:na]\r\n\tat com.google.inject.Guice.createInjector(Guice.java:96) ~[com.google.inject.guice-4.0.jar:na]\r\n\tat com.google.inject.Guice.createInjector(Guice.java:73) ~[com.google.inject.guice-4.0.jar:na]\r\n\tat com.google.inject.Guice.createInjector(Guice.java:62) ~[com.google.inject.guice-4.0.jar:na]\r\n\tat org.codehaus.plexus.DefaultPlexusContainer.addPlexusInjector(DefaultPlexusContainer.java:481) ~[na:na]\r\n\tat org.codehaus.plexus.DefaultPlexusContainer.&lt;init&gt;(DefaultPlexusContainer.java:206) ~[na:na]\r\n\tat org.codehaus.plexus.DefaultPlexusContainer.&lt;init&gt;(DefaultPlexusContainer.java:168) ~[na:na]\r\n\tat org.appformer.maven.integration.embedder.MavenEmbedderUtils.buildPlexusContainer(MavenEmbedderUtils.java:167) ~[na:na]\r\n\tat org.appformer.maven.integration.embedder.MavenEmbedderUtils.buildPlexusContainer(MavenEmbedderUtils.java:141) ~[na:na]\r\n\tat org.appformer.maven.integration.embedder.PlexusComponentProvider.&lt;init&gt;(PlexusComponentProvider.java:37) ~[na:na]\r\n\tat org.appformer.maven.integration.embedder.MavenEmbedderUtils.buildComponentProvider(MavenEmbedderUtils.java:57) ~[na:na]\r\n\tat org.appformer.maven.integration.embedder.MavenEmbedder.&lt;init&gt;(MavenEmbedder.java:91) ~[na:na]\r\n\tat org.appformer.maven.integration.embedder.MavenEmbedder.&lt;init&gt;(MavenEmbedder.java:85) ~[na:na]\r\n\tat org.appformer.maven.integration.embedder.MavenProjectLoader.newMavenEmbedder(MavenProjectLoader.java:148) ~[na:na]\r\n\tat org.appformer.maven.integration.embedder.MavenProjectLoader.parseMavenPom(MavenProjectLoader.java:90) ~[na:na]\r\n\tat org.appformer.maven.integration.embedder.MavenProjectLoader.parseMavenPom(MavenProjectLoader.java:84) ~[na:na]\r\n\tat org.appformer.maven.integration.MavenPomModelGenerator.parse(MavenPomModelGenerator.java:34) ~[na:na]\r\n\tat org.appformer.maven.support.PomModel$Parser.parse(PomModel.java:110) ~[na:na]\r\n\tat org.drools.compiler.kie.builder.impl.KieBuilderImpl.buildPomModel(KieBuilderImpl.java:594) ~[na:na]\r\n\tat org.drools.compiler.kie.builder.impl.KieBuilderImpl.init(KieBuilderImpl.java:152) ~[na:na]\r\n\tat org.drools.compiler.kie.builder.impl.KieBuilderImpl.buildAll(KieBuilderImpl.java:218) ~[na:na]\r\n\tat org.drools.compiler.kie.builder.impl.KieBuilderImpl.buildAll(KieBuilderImpl.java:192) ~[na:na]\r\n```\r\n\r\nIt occurs when calling `buildAll()` on `KieBuilder` object.\r\n\r\nRelevant code:\r\n```\r\nKieServices ks = KieServices.Factory.get();\r\nKieRepository kr = ks.getRepository();\r\nKieFileSystem kfs = ks.newKieFileSystem();\r\n\r\nkfs.write(ResourceFactory.newFileResource(new File(drlPath)));\r\n\r\nKieBuilder kb = ks.newKieBuilder(kfs);\r\n\r\nkb.buildAll();\r\nif (kb.getResults().hasMessages(Message.Level.ERROR))\r\n   throw new RuntimeException(&quot;Build Errors:\\n&quot; + kb.getResults().toString());\r\n\r\nKieContainer kContainer = ks.newKieContainer(kr.getDefaultReleaseId());\r\n\r\nKieSession kSession = kContainer.newKieSession();\r\n```","title":"Drools: java.lang.IllegalArgumentException: org.eclipse.sisu.Parameters is not a binding annotation","body":"<p>I am getting this error when I am trying to execute my Drools project. I am using version <code>7.73.0.Final</code>.</p>\n<pre><code>java.lang.IllegalArgumentException: org.eclipse.sisu.Parameters is not a binding annotation. Please annotate it with @BindingAnnotation.\n    at com.google.common.base.Preconditions.checkArgument(Preconditions.java:120) ~[na:na]\n    at com.google.inject.Key.ensureIsBindingAnnotation(Key.java:402) ~[com.google.inject.guice-4.0.jar:na]\n    at com.google.inject.Key.strategyFor(Key.java:389) ~[com.google.inject.guice-4.0.jar:na]\n    at com.google.inject.Key.get(Key.java:251) ~[com.google.inject.guice-4.0.jar:na]\n    at org.eclipse.sisu.wire.ParameterKeys.&lt;clinit&gt;(ParameterKeys.java:28) ~[na:na]\n    at org.eclipse.sisu.wire.DependencyAnalyzer.&lt;init&gt;(DependencyAnalyzer.java:93) ~[na:na]\n    at org.eclipse.sisu.wire.ElementAnalyzer.&lt;init&gt;(ElementAnalyzer.java:104) ~[na:na]\n    at org.eclipse.sisu.wire.WireModule.configure(WireModule.java:74) ~[na:na]\n    at com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:340) ~[com.google.inject.guice-4.0.jar:na]\n    at com.google.inject.spi.Elements.getElements(Elements.java:110) ~[com.google.inject.guice-4.0.jar:na]\n    at com.google.inject.internal.InjectorShell$Builder.build(InjectorShell.java:138) ~[com.google.inject.guice-4.0.jar:na]\n    at com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:104) ~[com.google.inject.guice-4.0.jar:na]\n    at com.google.inject.Guice.createInjector(Guice.java:96) ~[com.google.inject.guice-4.0.jar:na]\n    at com.google.inject.Guice.createInjector(Guice.java:73) ~[com.google.inject.guice-4.0.jar:na]\n    at com.google.inject.Guice.createInjector(Guice.java:62) ~[com.google.inject.guice-4.0.jar:na]\n    at org.codehaus.plexus.DefaultPlexusContainer.addPlexusInjector(DefaultPlexusContainer.java:481) ~[na:na]\n    at org.codehaus.plexus.DefaultPlexusContainer.&lt;init&gt;(DefaultPlexusContainer.java:206) ~[na:na]\n    at org.codehaus.plexus.DefaultPlexusContainer.&lt;init&gt;(DefaultPlexusContainer.java:168) ~[na:na]\n    at org.appformer.maven.integration.embedder.MavenEmbedderUtils.buildPlexusContainer(MavenEmbedderUtils.java:167) ~[na:na]\n    at org.appformer.maven.integration.embedder.MavenEmbedderUtils.buildPlexusContainer(MavenEmbedderUtils.java:141) ~[na:na]\n    at org.appformer.maven.integration.embedder.PlexusComponentProvider.&lt;init&gt;(PlexusComponentProvider.java:37) ~[na:na]\n    at org.appformer.maven.integration.embedder.MavenEmbedderUtils.buildComponentProvider(MavenEmbedderUtils.java:57) ~[na:na]\n    at org.appformer.maven.integration.embedder.MavenEmbedder.&lt;init&gt;(MavenEmbedder.java:91) ~[na:na]\n    at org.appformer.maven.integration.embedder.MavenEmbedder.&lt;init&gt;(MavenEmbedder.java:85) ~[na:na]\n    at org.appformer.maven.integration.embedder.MavenProjectLoader.newMavenEmbedder(MavenProjectLoader.java:148) ~[na:na]\n    at org.appformer.maven.integration.embedder.MavenProjectLoader.parseMavenPom(MavenProjectLoader.java:90) ~[na:na]\n    at org.appformer.maven.integration.embedder.MavenProjectLoader.parseMavenPom(MavenProjectLoader.java:84) ~[na:na]\n    at org.appformer.maven.integration.MavenPomModelGenerator.parse(MavenPomModelGenerator.java:34) ~[na:na]\n    at org.appformer.maven.support.PomModel$Parser.parse(PomModel.java:110) ~[na:na]\n    at org.drools.compiler.kie.builder.impl.KieBuilderImpl.buildPomModel(KieBuilderImpl.java:594) ~[na:na]\n    at org.drools.compiler.kie.builder.impl.KieBuilderImpl.init(KieBuilderImpl.java:152) ~[na:na]\n    at org.drools.compiler.kie.builder.impl.KieBuilderImpl.buildAll(KieBuilderImpl.java:218) ~[na:na]\n    at org.drools.compiler.kie.builder.impl.KieBuilderImpl.buildAll(KieBuilderImpl.java:192) ~[na:na]\n</code></pre>\n<p>It occurs when calling <code>buildAll()</code> on <code>KieBuilder</code> object.</p>\n<p>Relevant code:</p>\n<pre><code>KieServices ks = KieServices.Factory.get();\nKieRepository kr = ks.getRepository();\nKieFileSystem kfs = ks.newKieFileSystem();\n\nkfs.write(ResourceFactory.newFileResource(new File(drlPath)));\n\nKieBuilder kb = ks.newKieBuilder(kfs);\n\nkb.buildAll();\nif (kb.getResults().hasMessages(Message.Level.ERROR))\n   throw new RuntimeException(&quot;Build Errors:\\n&quot; + kb.getResults().toString());\n\nKieContainer kContainer = ks.newKieContainer(kr.getDefaultReleaseId());\n\nKieSession kSession = kContainer.newKieSession();\n</code></pre>\n"},{"tags":["java","java-11","java-17"],"comments":[{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1679385869,"post_id":75797613,"comment_id":133707767,"body_markdown":"Will not speculate about the changes between Java versions. But generally: this is a perfect job for `Scanner` which can extract numbers from the I/O buffer without constructing `String` objects for the lines. Further, don’t create an extra `PrintWriter` for a single `println` call that you could perform on `System.out` directly. Considering that this printing is buffered anyway, you might just use `System.out.println(solve(end)? &quot;YES&quot;: &quot;NO&quot;);` and remove the `StringBuilder` stuff. But if you want to know for sure where the time is spent, use a profiling tool (async-profiler, preferably).","body":"Will not speculate about the changes between Java versions. But generally: this is a perfect job for <code>Scanner</code> which can extract numbers from the I/O buffer without constructing <code>String</code> objects for the lines. Further, don’t create an extra <code>PrintWriter</code> for a single <code>println</code> call that you could perform on <code>System.out</code> directly. Considering that this printing is buffered anyway, you might just use <code>System.out.println(solve(end)? &quot;YES&quot;: &quot;NO&quot;);</code> and remove the <code>StringBuilder</code> stuff. But if you want to know for sure where the time is spent, use a profiling tool (async-profiler, preferably)."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1699591164,"creation_date":1679385681,"answer_id":75798582,"question_id":75797613,"body_markdown":"It is difficult to know why someone else&#39;s (e.g. Codeforce&#39;s) Java 11 and 17 **platforms** are faster / slower. You don&#39;t know what hardware they are running on, what JVM options they are using and so on. Then there is the issue that Java 11 and 17 are different ... and there are many differences between them. (3 years, 6 releases and many man-years of developer work.) \r\n\r\nMy gut feeling is that this EITHER a red-herring (i.e. platform issues) OR it is to do with JVM startup and warmup overheads.  With a difference as large as you report, I am more inclined to the former explanation.\r\n\r\nNow the *normal* way to deal with this is to write a benchmark that runs the algorithm multiple times, eliminates the anomalous outliers, then averages the rest of them.  Use JMH or a similar framework to deal with the mechanics ...\r\n\r\nThen run the benchmark with Java 11 and 17 on identical hardware with identical JVM options, and compare the results.  If there really is a difference between Java 11 and 17 it should show up there.   You can then investigate the cause of the difference; e.g. by profiling.\r\n\r\n---------------------\r\n\r\nThat the kind of problems that you do on competitive programing platforms are NOT indicative of real world Java programming.  Most real Java applications do much more complicate things, and are designed to run for a long time ... giving time for the JVM to JIT compile and optimize the code.  So ... the performance issue you are looking at here is (most likely) something that is not relevant to the kind of use-cases that Java is designed for.\r\n\r\nThis is unlikely be some &quot;Java 11 inefficiency&quot;.","title":"Java 11 vs Java 17","body":"<p>It is difficult to know why someone else's (e.g. Codeforce's) Java 11 and 17 <strong>platforms</strong> are faster / slower. You don't know what hardware they are running on, what JVM options they are using and so on. Then there is the issue that Java 11 and 17 are different ... and there are many differences between them. (3 years, 6 releases and many man-years of developer work.)</p>\n<p>My gut feeling is that this EITHER a red-herring (i.e. platform issues) OR it is to do with JVM startup and warmup overheads.  With a difference as large as you report, I am more inclined to the former explanation.</p>\n<p>Now the <em>normal</em> way to deal with this is to write a benchmark that runs the algorithm multiple times, eliminates the anomalous outliers, then averages the rest of them.  Use JMH or a similar framework to deal with the mechanics ...</p>\n<p>Then run the benchmark with Java 11 and 17 on identical hardware with identical JVM options, and compare the results.  If there really is a difference between Java 11 and 17 it should show up there.   You can then investigate the cause of the difference; e.g. by profiling.</p>\n<hr />\n<p>That the kind of problems that you do on competitive programing platforms are NOT indicative of real world Java programming.  Most real Java applications do much more complicate things, and are designed to run for a long time ... giving time for the JVM to JIT compile and optimize the code.  So ... the performance issue you are looking at here is (most likely) something that is not relevant to the kind of use-cases that Java is designed for.</p>\n<p>This is unlikely be some &quot;Java 11 inefficiency&quot;.</p>\n"}],"owner":{"account_id":27560246,"reputation":3,"user_id":21033414,"display_name":"hatsunemikufan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1077,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75798582,"answer_count":1,"score":0,"last_activity_date":1699591164,"creation_date":1679376797,"question_id":75797613,"body_markdown":"I was working on a codeforces problem ([here](https://codeforces.com/contest/1807/problem/G2) and I gave up. I read the editorial and implemented the solution but it still timed out (over 2000ms) running on Java 11. Noticed that someone got it to work with a similar solution on Java 17 and it worked for me too (ran in around 300ms). Basically, I want to know what might have been added to Java to cause such a difference and if there is anyway I can change my code so that it would work on Java 11 too.\r\n\r\nhere is the code.\r\n\r\n```\r\nimport java.io.*;\r\nimport java.lang.reflect.Array;\r\nimport java.util.*;\r\n\r\npublic class Four {\r\n    static PrintWriter pw = new PrintWriter(System.out);\r\n    public static void main(String[] args) throws IOException {\r\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n        int t=Integer.parseInt(br.readLine());\r\n        StringBuilder sb=new StringBuilder();\r\n        for (int i=0; i&lt;t; i++) {\r\n            int size = Integer.parseInt(br.readLine());\r\n            long[] end = Arrays.stream(br.readLine().split(&quot; &quot;)).mapToLong(Long::parseLong).toArray();\r\n            Arrays.sort(end);\r\n            if (solve(end))\r\n                sb.append(&quot;YES\\n&quot;);\r\n            else\r\n                sb.append(&quot;NO\\n&quot;);\r\n        }\r\n        pw.println(sb);\r\n        pw.close();\r\n    }\r\n\r\n    public static boolean solve(long[] a) {\r\n        if (a[0]!=1)\r\n            return false;\r\n        long sum=1;\r\n        for (int i=1; i&lt;a.length; i++) {\r\n            if (a[i]&gt;sum)\r\n                return false;\r\n            sum+=a[i];\r\n        }\r\n        return true;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI would guess it&#39;s something to do with the sort method or adding longs but I&#39;m unsure. I would also think it&#39;s some weird Java 11 inefficiency and not an actual problem with the algorithm since I think my code is O(n log n) and the sum of all n is less than 10^5 as specified in the problem so it should run under 2 seconds no problem?","title":"Java 11 vs Java 17","body":"<p>I was working on a codeforces problem (<a href=\"https://codeforces.com/contest/1807/problem/G2\" rel=\"nofollow noreferrer\">here</a> and I gave up. I read the editorial and implemented the solution but it still timed out (over 2000ms) running on Java 11. Noticed that someone got it to work with a similar solution on Java 17 and it worked for me too (ran in around 300ms). Basically, I want to know what might have been added to Java to cause such a difference and if there is anyway I can change my code so that it would work on Java 11 too.</p>\n<p>here is the code.</p>\n<pre><code>import java.io.*;\nimport java.lang.reflect.Array;\nimport java.util.*;\n\npublic class Four {\n    static PrintWriter pw = new PrintWriter(System.out);\n    public static void main(String[] args) throws IOException {\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        int t=Integer.parseInt(br.readLine());\n        StringBuilder sb=new StringBuilder();\n        for (int i=0; i&lt;t; i++) {\n            int size = Integer.parseInt(br.readLine());\n            long[] end = Arrays.stream(br.readLine().split(&quot; &quot;)).mapToLong(Long::parseLong).toArray();\n            Arrays.sort(end);\n            if (solve(end))\n                sb.append(&quot;YES\\n&quot;);\n            else\n                sb.append(&quot;NO\\n&quot;);\n        }\n        pw.println(sb);\n        pw.close();\n    }\n\n    public static boolean solve(long[] a) {\n        if (a[0]!=1)\n            return false;\n        long sum=1;\n        for (int i=1; i&lt;a.length; i++) {\n            if (a[i]&gt;sum)\n                return false;\n            sum+=a[i];\n        }\n        return true;\n    }\n}\n\n</code></pre>\n<p>I would guess it's something to do with the sort method or adding longs but I'm unsure. I would also think it's some weird Java 11 inefficiency and not an actual problem with the algorithm since I think my code is O(n log n) and the sum of all n is less than 10^5 as specified in the problem so it should run under 2 seconds no problem?</p>\n"},{"tags":["java","operating-system","detect"],"answers":[{"tags":[],"owner":{"account_id":19115,"reputation":29081,"user_id":44523,"accept_rate":95,"display_name":"Esko"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1251649229,"creation_date":1251649229,"answer_id":1354209,"question_id":1354186,"body_markdown":"These kind of questions seem to be popping out every now and then and the answer *(almost)* always is no. Most general reason for the negative answer is that Java is run in a homogenous Virtual Machine environment which is by design the same on all platforms; Those operations you can&#39;t abstract away/do reliably on at least the most supported platforms just can&#39;t be done easily. Detecting external events in the OS in general such as which non-Java applications are also run/installed falls into that &quot;not easy to do&quot; category.\r\n\r\nCertainly there could be need/market for JNI libraries for the purpose but those steer heavily from the *cross-platform* requirement these questions always seem to want to and that&#39;s why the short answer is &quot;no&quot;. As far as I can see, what you&#39;re doing currently is the cleanest way to detect Perl unless you&#39;re willing to include [perljvm][1] or similar in your project.\r\n\r\n\r\n  [1]: http://www.ebb.org/perljvm/","title":"Detect if certain software is installed on a user&#39;s machine in Java","body":"<p>These kind of questions seem to be popping out every now and then and the answer <em>(almost)</em> always is no. Most general reason for the negative answer is that Java is run in a homogenous Virtual Machine environment which is by design the same on all platforms; Those operations you can't abstract away/do reliably on at least the most supported platforms just can't be done easily. Detecting external events in the OS in general such as which non-Java applications are also run/installed falls into that \"not easy to do\" category.</p>\n\n<p>Certainly there could be need/market for JNI libraries for the purpose but those steer heavily from the <em>cross-platform</em> requirement these questions always seem to want to and that's why the short answer is \"no\". As far as I can see, what you're doing currently is the cleanest way to detect Perl unless you're willing to include <a href=\"http://www.ebb.org/perljvm/\" rel=\"noreferrer\">perljvm</a> or similar in your project.</p>\n"},{"tags":[],"owner":{"account_id":1921,"reputation":185672,"user_id":2648,"accept_rate":52,"display_name":"D&#243;nal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1251725609,"creation_date":1251649283,"answer_id":1354213,"question_id":1354186,"body_markdown":"If the user is not willing to either\r\n\r\n - Install perl in an agreed upon location\r\n - Indicate where perl has been installed by storing it&#39;s location in an environment variable, config file, windows registry, etc.\r\n\r\nthen it seems you&#39;re only option is to search the entire disk for an executable named &#39;Perl&#39;. Obviously this could take a very long time, but if you store the location somewhere, at least you should only need to search for it once","title":"Detect if certain software is installed on a user&#39;s machine in Java","body":"<p>If the user is not willing to either</p>\n\n<ul>\n<li>Install perl in an agreed upon location</li>\n<li>Indicate where perl has been installed by storing it's location in an environment variable, config file, windows registry, etc.</li>\n</ul>\n\n<p>then it seems you're only option is to search the entire disk for an executable named 'Perl'. Obviously this could take a very long time, but if you store the location somewhere, at least you should only need to search for it once</p>\n"},{"tags":[],"owner":{"account_id":42603,"reputation":1238,"user_id":124123,"accept_rate":100,"display_name":"Abel Morelos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1252863085,"creation_date":1251649770,"answer_id":1354236,"question_id":1354186,"body_markdown":"I don&#39;t know your target audience (users), but upon failure you could prompt the user to enter the path (a FileChooserDialog) and then store this path for future usage (if the exception is not thrown again). I did that some time ago, luckily I had users that were SysAdmins, so it was OK for them to provide that info when the error happened the first time (I also documented how to update or change these values in a properties file).\r\n\r\nOther option as mentioned by Don, is to install the required software as relative to your installation, that&#39;s a more common option.","title":"Detect if certain software is installed on a user&#39;s machine in Java","body":"<p>I don't know your target audience (users), but upon failure you could prompt the user to enter the path (a FileChooserDialog) and then store this path for future usage (if the exception is not thrown again). I did that some time ago, luckily I had users that were SysAdmins, so it was OK for them to provide that info when the error happened the first time (I also documented how to update or change these values in a properties file).</p>\n\n<p>Other option as mentioned by Don, is to install the required software as relative to your installation, that's a more common option.</p>\n"},{"tags":[],"owner":{"account_id":4617960,"reputation":96,"user_id":3743793,"display_name":"Arun Pratap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403119853,"creation_date":1403119853,"answer_id":24293639,"question_id":1354186,"body_markdown":"Getting windows native information using java SDK is not possible without support of external APIs. Instead of using external APIs (which is mostly LGPL licensed and not completely open), we can use the shell commands to get the same.\r\n\r\n**Step 1 - Checking if (perl) an application is installed**\r\n\r\nFor checking if an application is installed, use ProcessBuilder or Runtime.exec to run one of the following PowerShell command,\r\n\r\n*Get-ItemProperty HKLM:\\Software\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\* |  Select-Object DisplayName | where {$_.DisplayName -match &quot;perl&quot;}*\r\n\r\nReplace &quot;perl&quot; with your choice of software and stream the output of these and process it.\r\n\r\n\r\n*If PERL (for above question), follow below 2 steps to set path and run perl script from java*\r\n\r\nStep 2 - If available, set it to Environment Path using java code.\r\n\r\nStep 3 - Run your perl script.\r\n","title":"Detect if certain software is installed on a user&#39;s machine in Java","body":"<p>Getting windows native information using java SDK is not possible without support of external APIs. Instead of using external APIs (which is mostly LGPL licensed and not completely open), we can use the shell commands to get the same.</p>\n\n<p><strong>Step 1 - Checking if (perl) an application is installed</strong></p>\n\n<p>For checking if an application is installed, use ProcessBuilder or Runtime.exec to run one of the following PowerShell command,</p>\n\n<p><em>Get-ItemProperty HKLM:\\Software\\Microsoft\\Windows\\CurrentVersion\\Uninstall* |  Select-Object DisplayName | where {$_.DisplayName -match \"perl\"}</em></p>\n\n<p>Replace \"perl\" with your choice of software and stream the output of these and process it.</p>\n\n<p><em>If PERL (for above question), follow below 2 steps to set path and run perl script from java</em></p>\n\n<p>Step 2 - If available, set it to Environment Path using java code.</p>\n\n<p>Step 3 - Run your perl script.</p>\n"}],"owner":{"account_id":41283,"reputation":3873,"user_id":119919,"accept_rate":93,"display_name":"Kryten"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4797,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":1354236,"answer_count":4,"score":3,"last_activity_date":1699586259,"creation_date":1251648608,"question_id":1354186,"body_markdown":"I have a Java application which requires certain software (one of them being Perl) before it can be run. What I used to do to detect for Perl is:\r\n\r\n    Runtime.getRuntime().exec(&quot;perl Test.pl&quot;);\r\n\r\nand if there was an IOException declare that there was no Perl.\r\n\r\nHowever, one of my users complained that the app kept failing because he had not placed Perl in his path varible. So this is why I&#39;m asking: Is there any cross-operating system way to detect whether Perl (or any other software) is installed on the user&#39;s system and the path to the program?","title":"Detect if certain software is installed on a user&#39;s machine in Java","body":"<p>I have a Java application which requires certain software (one of them being Perl) before it can be run. What I used to do to detect for Perl is:</p>\n\n<pre><code>Runtime.getRuntime().exec(\"perl Test.pl\");\n</code></pre>\n\n<p>and if there was an IOException declare that there was no Perl.</p>\n\n<p>However, one of my users complained that the app kept failing because he had not placed Perl in his path varible. So this is why I'm asking: Is there any cross-operating system way to detect whether Perl (or any other software) is installed on the user's system and the path to the program?</p>\n"},{"tags":["java","maven","docker","path","dockerfile"],"comments":[{"owner":{"account_id":3483673,"reputation":31124,"user_id":2915097,"display_name":"user2915097"},"score":0,"creation_date":1492706588,"post_id":43525202,"comment_id":74103877,"body_markdown":"When is /etc/hadoop created in your Dockerfile?","body":"When is /etc/hadoop created in your Dockerfile?"},{"owner":{"account_id":4090948,"reputation":4755,"user_id":3358927,"accept_rate":79,"display_name":"ddd"},"score":0,"creation_date":1492706705,"post_id":43525202,"comment_id":74103935,"body_markdown":"@user2915097 It pulls mdouchement/hdfs as base image, that part was left out in the post.","body":"@user2915097 It pulls mdouchement/hdfs as base image, that part was left out in the post."}],"answers":[{"tags":[],"owner":{"account_id":8649850,"reputation":68,"user_id":6475933,"display_name":"MinMiguelM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492707084,"creation_date":1492707084,"answer_id":43525465,"question_id":43525202,"body_markdown":"Have you tried to declare the second variable as:\r\n\r\n    &lt;resource.dir&gt;${project.baseDir}/src/main/resources&lt;/resource.dir&gt;\r\n\r\nWith baseDir.","title":"How to copy files from an absolute path to docker image using docker maven plugin","body":"<p>Have you tried to declare the second variable as:</p>\n\n<pre><code>&lt;resource.dir&gt;${project.baseDir}/src/main/resources&lt;/resource.dir&gt;\n</code></pre>\n\n<p>With baseDir.</p>\n"},{"tags":[],"owner":{"account_id":1801540,"reputation":723,"user_id":1639765,"display_name":"Juan Jimenez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527092792,"creation_date":1527092792,"answer_id":50493257,"question_id":43525202,"body_markdown":"Include the shared/common resources in your pom &lt;build&gt; by adding:\r\n\r\n    &lt;resources&gt;\r\n        &lt;resource&gt;\r\n            &lt;directory&gt;/absolute/path/to/resources&lt;/directory&gt;\r\n            &lt;includes&gt;\r\n                &lt;include&gt;**/*&lt;/include&gt;\r\n            &lt;/includes&gt;\r\n            &lt;targetPath&gt;shared&lt;/targetPath&gt;\r\n        &lt;/resource&gt;\r\n    &lt;/resources&gt;\r\n\r\nThen (if using spotify Dockerfile maven plugin) add the resource path on build as a build argument\r\n\r\n    &lt;configuration&gt;\r\n        ...\r\n        &lt;buildArgs&gt;\r\n            ...\r\n            &lt;SHARED_RESOURCES&gt;target/classes/shared&lt;/SHARED_RESOURCES&gt;\r\n        &lt;/buildArgs&gt;\r\n    &lt;/configuration&gt;\r\n\r\nThen use it in Dockerfile as such:\r\n\r\n    ...\r\n    ARG SHARED_RESOURCES\r\n    COPY ${SHARED_RESOURCES}/something /target\r\n    ...","title":"How to copy files from an absolute path to docker image using docker maven plugin","body":"<p>Include the shared/common resources in your pom  by adding:</p>\n\n<pre><code>&lt;resources&gt;\n    &lt;resource&gt;\n        &lt;directory&gt;/absolute/path/to/resources&lt;/directory&gt;\n        &lt;includes&gt;\n            &lt;include&gt;**/*&lt;/include&gt;\n        &lt;/includes&gt;\n        &lt;targetPath&gt;shared&lt;/targetPath&gt;\n    &lt;/resource&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>Then (if using spotify Dockerfile maven plugin) add the resource path on build as a build argument</p>\n\n<pre><code>&lt;configuration&gt;\n    ...\n    &lt;buildArgs&gt;\n        ...\n        &lt;SHARED_RESOURCES&gt;target/classes/shared&lt;/SHARED_RESOURCES&gt;\n    &lt;/buildArgs&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>Then use it in Dockerfile as such:</p>\n\n<pre><code>...\nARG SHARED_RESOURCES\nCOPY ${SHARED_RESOURCES}/something /target\n...\n</code></pre>\n"}],"owner":{"account_id":4090948,"reputation":4755,"user_id":3358927,"accept_rate":79,"display_name":"ddd"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8080,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1699585350,"creation_date":1492706296,"question_id":43525202,"body_markdown":"I am writing microservices with Java. At the end, I run maven build to generate a Docker image based on a Dockerfile in directory [project-root]/docker. Some files need to be copied into the Docker image. Therefore I have the following lines in my Dockerfile:\r\n\r\n    # HDFS base image\r\n    FROM mdouchement/hdfs\r\n    COPY ${workdir.name} /${workdir.name}\r\n    COPY ${resource.dir} /etc/hadoop\r\n\r\nVariables `workdir.name` and `resource.dir` are defined in pom.xml\r\n\r\n    &lt;properties&gt;\r\n    \t\t&lt;workdir.name&gt;javarun&lt;/workdir.name&gt;\r\n            &lt;resource.dir&gt;${project.baseUri}/src/main/resources&lt;/resource.dir&gt;\r\n    &lt;/properties&gt;\r\n\r\nWhile first copy command uses relative path which is equivalent to `target/docker/javarun`, second command uses absolute path.\r\n\r\nIt turns out the first `COPY` works while I got error for the second `COPY` saying the directory is not found:\r\n\r\n    [INFO] Building image docker.repo.lgc.com/distarch/com.lgc.dist.core.msp.service.hdfs\r\n    Step 1/3 : FROM mdouchement/hdfs\r\n     ---&gt; c95344e8749d\r\n    Step 2/3 : COPY javarun /javarun\r\n     ---&gt; e2e8cb5bc21f\r\n    Removing intermediate container f49da68fe77e\r\n    Step 3/3 : COPY file:/C:/Users/H184870/Workspace/core/com.lgc.dist.core.msp.service.hdfs//src/main/resources /etc/hadoop\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 14.906 s\r\n    [INFO] Finished at: 2017-04-20T11:07:12-05:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal com.spotify:docker-maven-plugin:0.3.10:build (docker-build) on project com.lgc.dist.core.msp.service.hdfs: \r\n    Exception caught: lstat file:/C:/Users/H184870/Workspace/core/com.lgc.dist.core.msp.service.hdfs//src/main/resources: no such file or directory -&gt; [Help 1]\r\n\r\nThe path printed out is `/C:/Users/H184870/Workspace/core/com.lgc.dist.core.msp.service.hdfs//src/main/resources` which looks weird. My guess is this is not a valid Windows path.\r\n\r\nI am running it on a Windows machine now, but the build process will eventually moved to a Linux server. How do I make an absolute path compatible with both OS when copying files in Dockerfile?\r\n\r\n**EDIT**  Originally thought it was a windows path issue, so tried to build it on Linux and got the same error. \r\n\r\nAccording to [this post][1], the src path should be the relative path from build context. That&#39;s why the absolute path does not work. But what is the default `PATH` of docker build? Is it the same as the directory where Dockerfile is located?\r\n\r\n\r\n  [1]: https://github.com/moby/moby/issues/4592#issuecomment-282702580","title":"How to copy files from an absolute path to docker image using docker maven plugin","body":"<p>I am writing microservices with Java. At the end, I run maven build to generate a Docker image based on a Dockerfile in directory [project-root]/docker. Some files need to be copied into the Docker image. Therefore I have the following lines in my Dockerfile:</p>\n\n<pre><code># HDFS base image\nFROM mdouchement/hdfs\nCOPY ${workdir.name} /${workdir.name}\nCOPY ${resource.dir} /etc/hadoop\n</code></pre>\n\n<p>Variables <code>workdir.name</code> and <code>resource.dir</code> are defined in pom.xml</p>\n\n<pre><code>&lt;properties&gt;\n        &lt;workdir.name&gt;javarun&lt;/workdir.name&gt;\n        &lt;resource.dir&gt;${project.baseUri}/src/main/resources&lt;/resource.dir&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>While first copy command uses relative path which is equivalent to <code>target/docker/javarun</code>, second command uses absolute path.</p>\n\n<p>It turns out the first <code>COPY</code> works while I got error for the second <code>COPY</code> saying the directory is not found:</p>\n\n<pre><code>[INFO] Building image docker.repo.lgc.com/distarch/com.lgc.dist.core.msp.service.hdfs\nStep 1/3 : FROM mdouchement/hdfs\n ---&gt; c95344e8749d\nStep 2/3 : COPY javarun /javarun\n ---&gt; e2e8cb5bc21f\nRemoving intermediate container f49da68fe77e\nStep 3/3 : COPY file:/C:/Users/H184870/Workspace/core/com.lgc.dist.core.msp.service.hdfs//src/main/resources /etc/hadoop\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 14.906 s\n[INFO] Finished at: 2017-04-20T11:07:12-05:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal com.spotify:docker-maven-plugin:0.3.10:build (docker-build) on project com.lgc.dist.core.msp.service.hdfs: \nException caught: lstat file:/C:/Users/H184870/Workspace/core/com.lgc.dist.core.msp.service.hdfs//src/main/resources: no such file or directory -&gt; [Help 1]\n</code></pre>\n\n<p>The path printed out is <code>/C:/Users/H184870/Workspace/core/com.lgc.dist.core.msp.service.hdfs//src/main/resources</code> which looks weird. My guess is this is not a valid Windows path.</p>\n\n<p>I am running it on a Windows machine now, but the build process will eventually moved to a Linux server. How do I make an absolute path compatible with both OS when copying files in Dockerfile?</p>\n\n<p><strong>EDIT</strong>  Originally thought it was a windows path issue, so tried to build it on Linux and got the same error. </p>\n\n<p>According to <a href=\"https://github.com/moby/moby/issues/4592#issuecomment-282702580\" rel=\"nofollow noreferrer\">this post</a>, the src path should be the relative path from build context. That's why the absolute path does not work. But what is the default <code>PATH</code> of docker build? Is it the same as the directory where Dockerfile is located?</p>\n"},{"tags":["java","android","gradle","android-pageradapter","androidimageslider"],"owner":{"account_id":17389436,"reputation":3,"user_id":12600215,"display_name":"alliumvault"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699584342,"creation_date":1699584342,"question_id":77457430,"body_markdown":"I was trying to build my project and got the following error message: \r\n\r\n\r\n```\r\nC:\\Users\\Lennart\\AndroidStudioProjects\\UrbexGuidePremium\\app\\src\\main\\java\\com\\alliumvault\\urbexguidepremium\\adapter\\SliderAdapter.java:14: error: cannot access PagerAdapter\r\npublic class SliderAdapter extends SliderViewAdapter&lt;SliderAdapter.SliderAdapterViewHolder&gt; {\r\n       ^\r\n  class file for android.support.v4.view.PagerAdapter not found\r\n```\r\n\r\n\r\nI have never heard of PageAdapter before, and I can&#39;t recall using this class anywhere in my project... \r\nHere is the full code of the relevant class: \r\n\r\n```\r\npackage com.alliumvault.urbexguidepremium.adapter;\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\n\r\nimport com.alliumvault.urbexguidepremium.R;\r\nimport com.bumptech.glide.Glide;\r\nimport com.smarteist.autoimageslider.SliderViewAdapter;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class SliderAdapter extends SliderViewAdapter&lt;SliderAdapter.SliderAdapterViewHolder&gt; {\r\n\r\n    // list for storing urls of images.\r\n    private final List&lt;SliderData&gt; mSliderItems;\r\n\r\n    // Constructor\r\n    public SliderAdapter(Context context, ArrayList&lt;SliderData&gt; sliderDataArrayList) {\r\n        this.mSliderItems = sliderDataArrayList;\r\n    }\r\n\r\n    // We are inflating the slider_layout\r\n    // inside on Create View Holder method.\r\n    @Override\r\n    public SliderAdapterViewHolder onCreateViewHolder(ViewGroup parent) {\r\n        View inflate = LayoutInflater.from(parent.getContext()).inflate(R.layout.slider_layout, null);\r\n        return new SliderAdapterViewHolder(inflate);\r\n    }\r\n\r\n    // Inside on bind view holder we will\r\n    // set data to item of Slider View.\r\n    @Override\r\n    public void onBindViewHolder(SliderAdapterViewHolder viewHolder, final int position) {\r\n\r\n        final SliderData sliderItem = mSliderItems.get(position);\r\n\r\n        // Glide is use to load image\r\n        // from url in your imageview.\r\n        Glide.with(viewHolder.itemView)\r\n                .load(sliderItem.getImgUrl())\r\n                .fitCenter()\r\n                .into(viewHolder.imageViewBackground);\r\n    }\r\n\r\n    // this method will return\r\n    // the count of our list.\r\n    @Override\r\n    public int getCount() {\r\n        return mSliderItems.size();\r\n    }\r\n\r\n    static class SliderAdapterViewHolder extends SliderViewAdapter.ViewHolder {\r\n        // Adapter class for initializing\r\n        // the views of our slider view.\r\n        View itemView;\r\n        ImageView imageViewBackground;\r\n\r\n        public SliderAdapterViewHolder(View itemView) {\r\n            super(itemView);\r\n            imageViewBackground = itemView.findViewById(R.id.myimage);\r\n            this.itemView = itemView;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m not sure, if it is helpfull but here is also my build.gradle:\r\n\r\n```\r\nplugins {\r\n    id(&quot;com.android.application&quot;)\r\n    id(&quot;com.google.gms.google-services&quot;)\r\n}\r\n\r\nandroid {\r\n    namespace = &quot;com.alliumvault.urbexguidepremium&quot;\r\n    compileSdk = 34\r\n\r\n    defaultConfig {\r\n        applicationId = &quot;com.alliumvault.urbexguidepremium&quot;\r\n        minSdk = 24\r\n        targetSdk = 33\r\n        versionCode = 1\r\n        versionName = &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner = &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            isMinifyEnabled = false\r\n            proguardFiles(\r\n                getDefaultProguardFile(&quot;proguard-android-optimize.txt&quot;),\r\n                &quot;proguard-rules.pro&quot;\r\n            )\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility = JavaVersion.VERSION_1_8\r\n        targetCompatibility = JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation(&quot;androidx.appcompat:appcompat:1.6.1&quot;)\r\n    implementation(&quot;com.google.android.material:material:1.10.0&quot;)\r\n    implementation(&quot;androidx.constraintlayout:constraintlayout:2.1.4&quot;)\r\n    implementation(&quot;com.google.firebase:firebase-auth:22.2.0&quot;)\r\n    implementation(&quot;com.google.firebase:firebase-database:20.3.0&quot;)\r\n    implementation(&quot;com.google.firebase:firebase-firestore:24.9.1&quot;)\r\n    implementation(&quot;com.google.firebase:firebase-storage:20.3.0&quot;)\r\n    implementation(&quot;com.github.bumptech.glide:glide:4.16.0&quot;)\r\n    implementation(&quot;com.github.smarteist:autoimageslider:1.4.0-appcompat&quot;)\r\n    implementation(&quot;com.android.billingclient:billing:6.0.1&quot;)\r\n    implementation(&quot;com.google.android.gms:play-services-maps:18.2.0&quot;)\r\n    implementation(&quot;com.google.android.gms:play-services-location:21.0.1&quot;)\r\n    implementation(&quot;androidx.core:core-ktx:1.12.0&quot;)\r\n    testImplementation(&quot;junit:junit:4.13.2&quot;)\r\n    androidTestImplementation(&quot;androidx.test.ext:junit:1.1.5&quot;)\r\n    androidTestImplementation(&quot;androidx.test.espresso:espresso-core:3.5.1&quot;)\r\n}\r\n```\r\n\r\n\r\n\r\nI also tried to add the code bit by bit and have a look when the error starts occurring. It only appears as soon as I add `extends SliderViewAdapter&lt;SliderAdapter.SliderAdapterViewHolder&gt;` and implement the methods.","title":"PagerAdapter not found when using Auto Image Slider (Java/Android)","body":"<p>I was trying to build my project and got the following error message:</p>\n<pre><code>C:\\Users\\Lennart\\AndroidStudioProjects\\UrbexGuidePremium\\app\\src\\main\\java\\com\\alliumvault\\urbexguidepremium\\adapter\\SliderAdapter.java:14: error: cannot access PagerAdapter\npublic class SliderAdapter extends SliderViewAdapter&lt;SliderAdapter.SliderAdapterViewHolder&gt; {\n       ^\n  class file for android.support.v4.view.PagerAdapter not found\n</code></pre>\n<p>I have never heard of PageAdapter before, and I can't recall using this class anywhere in my project...\nHere is the full code of the relevant class:</p>\n<pre><code>package com.alliumvault.urbexguidepremium.adapter;\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\n\nimport com.alliumvault.urbexguidepremium.R;\nimport com.bumptech.glide.Glide;\nimport com.smarteist.autoimageslider.SliderViewAdapter;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class SliderAdapter extends SliderViewAdapter&lt;SliderAdapter.SliderAdapterViewHolder&gt; {\n\n    // list for storing urls of images.\n    private final List&lt;SliderData&gt; mSliderItems;\n\n    // Constructor\n    public SliderAdapter(Context context, ArrayList&lt;SliderData&gt; sliderDataArrayList) {\n        this.mSliderItems = sliderDataArrayList;\n    }\n\n    // We are inflating the slider_layout\n    // inside on Create View Holder method.\n    @Override\n    public SliderAdapterViewHolder onCreateViewHolder(ViewGroup parent) {\n        View inflate = LayoutInflater.from(parent.getContext()).inflate(R.layout.slider_layout, null);\n        return new SliderAdapterViewHolder(inflate);\n    }\n\n    // Inside on bind view holder we will\n    // set data to item of Slider View.\n    @Override\n    public void onBindViewHolder(SliderAdapterViewHolder viewHolder, final int position) {\n\n        final SliderData sliderItem = mSliderItems.get(position);\n\n        // Glide is use to load image\n        // from url in your imageview.\n        Glide.with(viewHolder.itemView)\n                .load(sliderItem.getImgUrl())\n                .fitCenter()\n                .into(viewHolder.imageViewBackground);\n    }\n\n    // this method will return\n    // the count of our list.\n    @Override\n    public int getCount() {\n        return mSliderItems.size();\n    }\n\n    static class SliderAdapterViewHolder extends SliderViewAdapter.ViewHolder {\n        // Adapter class for initializing\n        // the views of our slider view.\n        View itemView;\n        ImageView imageViewBackground;\n\n        public SliderAdapterViewHolder(View itemView) {\n            super(itemView);\n            imageViewBackground = itemView.findViewById(R.id.myimage);\n            this.itemView = itemView;\n        }\n    }\n}\n</code></pre>\n<p>I'm not sure, if it is helpfull but here is also my build.gradle:</p>\n<pre><code>plugins {\n    id(&quot;com.android.application&quot;)\n    id(&quot;com.google.gms.google-services&quot;)\n}\n\nandroid {\n    namespace = &quot;com.alliumvault.urbexguidepremium&quot;\n    compileSdk = 34\n\n    defaultConfig {\n        applicationId = &quot;com.alliumvault.urbexguidepremium&quot;\n        minSdk = 24\n        targetSdk = 33\n        versionCode = 1\n        versionName = &quot;1.0&quot;\n\n        testInstrumentationRunner = &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            isMinifyEnabled = false\n            proguardFiles(\n                getDefaultProguardFile(&quot;proguard-android-optimize.txt&quot;),\n                &quot;proguard-rules.pro&quot;\n            )\n        }\n    }\n    compileOptions {\n        sourceCompatibility = JavaVersion.VERSION_1_8\n        targetCompatibility = JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    implementation(&quot;androidx.appcompat:appcompat:1.6.1&quot;)\n    implementation(&quot;com.google.android.material:material:1.10.0&quot;)\n    implementation(&quot;androidx.constraintlayout:constraintlayout:2.1.4&quot;)\n    implementation(&quot;com.google.firebase:firebase-auth:22.2.0&quot;)\n    implementation(&quot;com.google.firebase:firebase-database:20.3.0&quot;)\n    implementation(&quot;com.google.firebase:firebase-firestore:24.9.1&quot;)\n    implementation(&quot;com.google.firebase:firebase-storage:20.3.0&quot;)\n    implementation(&quot;com.github.bumptech.glide:glide:4.16.0&quot;)\n    implementation(&quot;com.github.smarteist:autoimageslider:1.4.0-appcompat&quot;)\n    implementation(&quot;com.android.billingclient:billing:6.0.1&quot;)\n    implementation(&quot;com.google.android.gms:play-services-maps:18.2.0&quot;)\n    implementation(&quot;com.google.android.gms:play-services-location:21.0.1&quot;)\n    implementation(&quot;androidx.core:core-ktx:1.12.0&quot;)\n    testImplementation(&quot;junit:junit:4.13.2&quot;)\n    androidTestImplementation(&quot;androidx.test.ext:junit:1.1.5&quot;)\n    androidTestImplementation(&quot;androidx.test.espresso:espresso-core:3.5.1&quot;)\n}\n</code></pre>\n<p>I also tried to add the code bit by bit and have a look when the error starts occurring. It only appears as soon as I add <code>extends SliderViewAdapter&lt;SliderAdapter.SliderAdapterViewHolder&gt;</code> and implement the methods.</p>\n"},{"tags":["java","docker","openshift","s2i"],"answers":[{"tags":[],"owner":{"account_id":9586472,"reputation":788,"user_id":7119031,"display_name":"hiroyukik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699583057,"creation_date":1699583057,"answer_id":77457366,"question_id":77439301,"body_markdown":"Looks like the scripts don&#39;t need to have the extension like `.sh`.  \r\nPlease get rid of the `.sh` on your script name.\r\n\r\n*: https://docs.openshift.com/container-platform/4.14/openshift_images/using_images/customizing-s2i-images.html","title":"Openshift S2I not overriding scripts in the image after build","body":"<p>Looks like the scripts don't need to have the extension like <code>.sh</code>.<br />\nPlease get rid of the <code>.sh</code> on your script name.</p>\n<p>*: <a href=\"https://docs.openshift.com/container-platform/4.14/openshift_images/using_images/customizing-s2i-images.html\" rel=\"nofollow noreferrer\">https://docs.openshift.com/container-platform/4.14/openshift_images/using_images/customizing-s2i-images.html</a></p>\n"}],"owner":{"account_id":2134456,"reputation":351,"user_id":1894580,"accept_rate":44,"display_name":"raghav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699583057,"creation_date":1699369460,"question_id":77439301,"body_markdown":"I am currently using s2i **v1.3.9-dirty** on my MAC to build image of my **Java Application**. I want to override the builder image&#39;s scripts. Thus, I have created `.s2i/bin` directory inside my local repository. Inside this directory I have my `run.sh` and `assemble.sh` scripts. When I build the image, it gets created in my local docker desktop but it does not have my version of run and assemble scripts.\r\n\r\n    s2i build . registry.access.redhat.com/ubi9/openjdk-11:1.16-2 my-image-name\r\n\r\n1. Any pointers as to what am I missing?\r\n2. Am I using the right builder image to build my Java application?\r\n\r\nThanks in advance.","title":"Openshift S2I not overriding scripts in the image after build","body":"<p>I am currently using s2i <strong>v1.3.9-dirty</strong> on my MAC to build image of my <strong>Java Application</strong>. I want to override the builder image's scripts. Thus, I have created <code>.s2i/bin</code> directory inside my local repository. Inside this directory I have my <code>run.sh</code> and <code>assemble.sh</code> scripts. When I build the image, it gets created in my local docker desktop but it does not have my version of run and assemble scripts.</p>\n<pre><code>s2i build . registry.access.redhat.com/ubi9/openjdk-11:1.16-2 my-image-name\n</code></pre>\n<ol>\n<li>Any pointers as to what am I missing?</li>\n<li>Am I using the right builder image to build my Java application?</li>\n</ol>\n<p>Thanks in advance.</p>\n"},{"tags":["java","string","algorithm","arraylist","collections"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1625464855,"post_id":68251181,"comment_id":120624480,"body_markdown":"Welcome to Stack Overflow! Please read &quot;How to create a [mcve]&quot;. Then use the [edit] link to improve your question (do not add more information via comments). Otherwise we are not able to answer your question and help you. In your case: dont just tell us &quot;something is wrong&quot;. Tell us what exactly isnt working with your code.","body":"Welcome to Stack Overflow! Please read &quot;How to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>&quot;. Then use the <a href=\"https://stackoverflow.com/posts/68251181/edit\">edit</a> link to improve your question (do not add more information via comments). Otherwise we are not able to answer your question and help you. In your case: dont just tell us &quot;something is wrong&quot;. Tell us what exactly isnt working with your code."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1625464977,"post_id":68251181,"comment_id":120624502,"body_markdown":"And note: that is how you should approach your assignment in the first place: start with small tests, and see what happens. And as soon as you get to a result that is unexpected, use a debugger, or simply: more print statements to figure where your code deviates from your expectations.","body":"And note: that is how you should approach your assignment in the first place: start with small tests, and see what happens. And as soon as you get to a result that is unexpected, use a debugger, or simply: more print statements to figure where your code deviates from your expectations."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":2,"creation_date":1625465072,"post_id":68251181,"comment_id":120624526,"body_markdown":"Finally: please consider to use more meaningful names. Dont use abbreviations like ss ue or meaningless names like test or temp. The names are for your human readers. Make sure they SAY what the variable is about. And be more diligent about indenting and formatting. Your code is much harder to read, just because it is so sloppily indented.","body":"Finally: please consider to use more meaningful names. Dont use abbreviations like ss ue or meaningless names like test or temp. The names are for your human readers. Make sure they SAY what the variable is about. And be more diligent about indenting and formatting. Your code is much harder to read, just because it is so sloppily indented."},{"owner":{"account_id":18682665,"reputation":1535,"user_id":13618871,"display_name":"AKSingh"},"score":1,"creation_date":1625468108,"post_id":68251181,"comment_id":120625334,"body_markdown":"Can you explain where your code is going wrong? It is working for the sample input. `Input: &quot;abadbc&quot;`  `Output: aabbdd` which is not wrong. *If you think its wrong, kindly explain why*. I should add, *the problem can be solved in more efficient manner*.","body":"Can you explain where your code is going wrong? It is working for the sample input. <code>Input: &quot;abadbc&quot;</code>  <code>Output: aabbdd</code> which is not wrong. <i>If you think its wrong, kindly explain why</i>. I should add, <i>the problem can be solved in more efficient manner</i>."},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1625567988,"post_id":68251181,"comment_id":120655283,"body_markdown":"You are removing a character from `temp` when you encounter it a second time, which implies that it will appear as unique when encountering it a third time (or on every odd occurrence). Further, you should not compare strings using `==` nor `!=`. You have to use `equals`. Though, in the case of `ue!=&quot;&quot;`, you can also use `!ue.isEmpty()`.","body":"You are removing a character from <code>temp</code> when you encounter it a second time, which implies that it will appear as unique when encountering it a third time (or on every odd occurrence). Further, you should not compare strings using <code>==</code> nor <code>!=</code>. You have to use <code>equals</code>. Though, in the case of <code>ue!=&quot;&quot;</code>, you can also use <code>!ue.isEmpty()</code>."}],"answers":[{"tags":[],"owner":{"account_id":4991025,"reputation":15641,"user_id":4013258,"display_name":"Surt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625568683,"creation_date":1625568683,"answer_id":68269205,"question_id":68251181,"body_markdown":"When you encounter a char a 2nd time you remove it from the unique characters (1), but if there was a 3rd of that character it would be added again (2).\r\n\r\n```\r\npublic static String uniqueCharacters(String test)\r\n    {\r\n        String temp = &quot;&quot;;\r\n    \r\n        for (int i = 0; i &lt; test.length(); i++)\r\n        {\r\n            char current = test.charAt(i);\r\n            if (temp.indexOf(current) &lt; 0) temp = temp + current; &lt;---- (2)\r\n            else temp = temp.replace(String.valueOf(current), &quot;&quot;); &lt;----- (1)\r\n        }\r\n\r\n        return temp;\r\n    }\r\n```\r\nSolution count the number of chars and then return only those whose count is 1 (one).","title":"First non-repeating character in a stream of characters","body":"<p>When you encounter a char a 2nd time you remove it from the unique characters (1), but if there was a 3rd of that character it would be added again (2).</p>\n<pre><code>public static String uniqueCharacters(String test)\n    {\n        String temp = &quot;&quot;;\n    \n        for (int i = 0; i &lt; test.length(); i++)\n        {\n            char current = test.charAt(i);\n            if (temp.indexOf(current) &lt; 0) temp = temp + current; &lt;---- (2)\n            else temp = temp.replace(String.valueOf(current), &quot;&quot;); &lt;----- (1)\n        }\n\n        return temp;\n    }\n</code></pre>\n<p>Solution count the number of chars and then return only those whose count is 1 (one).</p>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1625675670,"creation_date":1625675670,"answer_id":68289881,"question_id":68251181,"body_markdown":"It may be better to use a `Set` to detect unique characters in the input string using the result of `Set::add` which returns `false` if no element has been actually added to the set, and a `Queue` to maintain the non-repeated characters.  \r\n\r\nWhen a repeated (non-unique) character is detected, it gets removed from the queue and if necessary, `&quot;#&quot;` is applied as a placeholder.  And if a unique character is detected, it is just added to the queue.\r\n\r\nExample implementation:\r\n```java\r\npublic static String solve(String str) {\r\n    // verify the input\r\n    if (null == str || str.isEmpty()) {\r\n        return str;\r\n    }\r\n    \r\n    Set&lt;Character&gt; previous = new LinkedHashSet&lt;&gt;();\r\n    Queue&lt;Character&gt; nonRepeated = new LinkedList&lt;&gt;();\r\n    \r\n    StringBuilder sb = new StringBuilder();\r\n\r\n    // use the first character\r\n    char curr = str.charAt(0);\r\n    previous.add(curr);\r\n    nonRepeated.add(curr);\r\n    sb.append(curr);\r\n    \r\n    for (int i = 1, n = str.length(); i &lt; n; i++) {\r\n        char c = str.charAt(i);\r\n        \r\n        if (!previous.add(c)) { // duplicate character found\r\n            nonRepeated.remove(c);\r\n            if (nonRepeated.isEmpty()) {\r\n                curr = &#39;#&#39;;\r\n            } else { // get the next non-repeated character\r\n                curr = nonRepeated.peek();\r\n            }\r\n        } else { // unique element is detected\r\n            if (curr == &#39;#&#39;) {\r\n                curr = c;\r\n            }\r\n            nonRepeated.add(c);\r\n        }\r\n        \r\n        sb.append(curr);\r\n    }\r\n    \r\n    return sb.toString();\r\n}\r\n```\r\nTests:\r\n```java\r\nfor (String t : Arrays.asList(&quot;abadbc&quot;, &quot;abcdba&quot;, &quot;aaabbbacab&quot;)) {\r\n    System.out.printf(&quot;input: %s --&gt; %s%n----%n&quot;, t, solve(t));\r\n}\r\n```\r\nOutput:\r\n```\r\ninput: abadbc --&gt; aabbdd\r\n----\r\ninput: abcdba --&gt; aaaaac\r\n----\r\ninput: aaabbbacab --&gt; a##b###ccc\r\n----\r\n```","title":"First non-repeating character in a stream of characters","body":"<p>It may be better to use a <code>Set</code> to detect unique characters in the input string using the result of <code>Set::add</code> which returns <code>false</code> if no element has been actually added to the set, and a <code>Queue</code> to maintain the non-repeated characters.</p>\n<p>When a repeated (non-unique) character is detected, it gets removed from the queue and if necessary, <code>&quot;#&quot;</code> is applied as a placeholder.  And if a unique character is detected, it is just added to the queue.</p>\n<p>Example implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String solve(String str) {\n    // verify the input\n    if (null == str || str.isEmpty()) {\n        return str;\n    }\n    \n    Set&lt;Character&gt; previous = new LinkedHashSet&lt;&gt;();\n    Queue&lt;Character&gt; nonRepeated = new LinkedList&lt;&gt;();\n    \n    StringBuilder sb = new StringBuilder();\n\n    // use the first character\n    char curr = str.charAt(0);\n    previous.add(curr);\n    nonRepeated.add(curr);\n    sb.append(curr);\n    \n    for (int i = 1, n = str.length(); i &lt; n; i++) {\n        char c = str.charAt(i);\n        \n        if (!previous.add(c)) { // duplicate character found\n            nonRepeated.remove(c);\n            if (nonRepeated.isEmpty()) {\n                curr = '#';\n            } else { // get the next non-repeated character\n                curr = nonRepeated.peek();\n            }\n        } else { // unique element is detected\n            if (curr == '#') {\n                curr = c;\n            }\n            nonRepeated.add(c);\n        }\n        \n        sb.append(curr);\n    }\n    \n    return sb.toString();\n}\n</code></pre>\n<p>Tests:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (String t : Arrays.asList(&quot;abadbc&quot;, &quot;abcdba&quot;, &quot;aaabbbacab&quot;)) {\n    System.out.printf(&quot;input: %s --&gt; %s%n----%n&quot;, t, solve(t));\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>input: abadbc --&gt; aabbdd\n----\ninput: abcdba --&gt; aaaaac\n----\ninput: aaabbbacab --&gt; a##b###ccc\n----\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22100088,"reputation":31,"user_id":16356696,"display_name":"Jay Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699582548,"creation_date":1699582548,"answer_id":77457349,"question_id":68251181,"body_markdown":"**Simple approach to find non repeating character from string using java 8 :**\r\n\r\n\r\n    public static void main(String[] args) {\r\n\r\n        String s=&quot;AAHJAKTMJ&quot;;\r\n\r\n        Map&lt;String, Long&gt; counts = Arrays.stream(s.split(&quot;&quot;))\r\n                .collect(Collectors.groupingBy(i -&gt; i, Collectors.counting()));\r\n\r\n        // Display repeating elements and their counts\r\n        counts.forEach((element, count) -&gt; {\r\n            if (count == 1) {\r\n                System.out.println(&quot;Non Repeating Character From String: &quot; +element);\r\n            }\r\n        });\r\n    }\r\n","title":"First non-repeating character in a stream of characters","body":"<p><strong>Simple approach to find non repeating character from string using java 8 :</strong></p>\n<pre><code>public static void main(String[] args) {\n\n    String s=&quot;AAHJAKTMJ&quot;;\n\n    Map&lt;String, Long&gt; counts = Arrays.stream(s.split(&quot;&quot;))\n            .collect(Collectors.groupingBy(i -&gt; i, Collectors.counting()));\n\n    // Display repeating elements and their counts\n    counts.forEach((element, count) -&gt; {\n        if (count == 1) {\n            System.out.println(&quot;Non Repeating Character From String: &quot; +element);\n        }\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":22128986,"reputation":3,"user_id":16380822,"display_name":"hari prasath"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1062,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68289881,"answer_count":3,"score":0,"last_activity_date":1699582548,"creation_date":1625463758,"question_id":68251181,"body_markdown":"The question asks us to find new string B.\r\n\r\nB is formed such that we have to find first non-repeating character each time a character is inserted to the stream and append it at the end to B. If no non-repeating character is found then append &#39;#&#39; at the end of B.\r\n\r\n    Example:\r\n        &quot;a&quot;      -   first non repeating character &#39;a&#39;\r\n        &quot;ab&quot;     -   first non repeating character &#39;a&#39;\r\n        &quot;aba&quot;    -   first non repeating character &#39;b&#39;\r\n        &quot;abad&quot;   -   first non repeating character &#39;b&#39;\r\n        &quot;abadb&quot;  -   first non repeating character &#39;d&#39;\r\n        &quot;abadbc&quot; -   first non repeating character &#39;d&#39;\r\n\r\nCan someone help me out where my code went wrong. my logic is to use substring function of string and find the unique character and add it to arraylist and print the entire arraylist.\r\n\r\n    public class Solution\r\n    {\r\n        public String solve(String A) \r\n        {\r\n            ArrayList&lt;Character&gt;a=new ArrayList&lt;Character&gt;();\r\n            String res=&quot;&quot;;\r\n\r\n            for(int i=0;i&lt;A.length();i++)\r\n            { \r\n                String ss=A.substring(0,i+1);\r\n                String ue=uniqueCharacters(ss);\r\n               // System.out.println(ue);\r\n          \r\n               if(ue!=&quot;&quot;) a.add(ue.charAt(0));\r\n               else a.add(&#39;#&#39;);\r\n            } \r\n         \r\n            for(Character j:a) res+=j;\r\n        \r\n            return res;\r\n        } \r\n\r\n        public static String uniqueCharacters(String test)\r\n        {\r\n            String temp = &quot;&quot;;\r\n        \r\n            for (int i = 0; i &lt; test.length(); i++)\r\n            {\r\n                char current = test.charAt(i);\r\n                if (temp.indexOf(current) &lt; 0) temp = temp + current;\r\n                else temp = temp.replace(String.valueOf(current), &quot;&quot;);\r\n            }\r\n    \r\n            return temp;\r\n        }\r\n    }    \r\n\r\n\r\n","title":"First non-repeating character in a stream of characters","body":"<p>The question asks us to find new string B.</p>\n<p>B is formed such that we have to find first non-repeating character each time a character is inserted to the stream and append it at the end to B. If no non-repeating character is found then append '#' at the end of B.</p>\n<pre><code>Example:\n    &quot;a&quot;      -   first non repeating character 'a'\n    &quot;ab&quot;     -   first non repeating character 'a'\n    &quot;aba&quot;    -   first non repeating character 'b'\n    &quot;abad&quot;   -   first non repeating character 'b'\n    &quot;abadb&quot;  -   first non repeating character 'd'\n    &quot;abadbc&quot; -   first non repeating character 'd'\n</code></pre>\n<p>Can someone help me out where my code went wrong. my logic is to use substring function of string and find the unique character and add it to arraylist and print the entire arraylist.</p>\n<pre><code>public class Solution\n{\n    public String solve(String A) \n    {\n        ArrayList&lt;Character&gt;a=new ArrayList&lt;Character&gt;();\n        String res=&quot;&quot;;\n\n        for(int i=0;i&lt;A.length();i++)\n        { \n            String ss=A.substring(0,i+1);\n            String ue=uniqueCharacters(ss);\n           // System.out.println(ue);\n      \n           if(ue!=&quot;&quot;) a.add(ue.charAt(0));\n           else a.add('#');\n        } \n     \n        for(Character j:a) res+=j;\n    \n        return res;\n    } \n\n    public static String uniqueCharacters(String test)\n    {\n        String temp = &quot;&quot;;\n    \n        for (int i = 0; i &lt; test.length(); i++)\n        {\n            char current = test.charAt(i);\n            if (temp.indexOf(current) &lt; 0) temp = temp + current;\n            else temp = temp.replace(String.valueOf(current), &quot;&quot;);\n        }\n\n        return temp;\n    }\n}    \n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4739783,"reputation":612564,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1699529563,"post_id":77452799,"comment_id":136544928,"body_markdown":"It should be something like `String regex=&quot;((?&lt;!\\\\S)[^\\\\s@]{3}|(?!^)\\\\G)[^\\\\s@](?=[^@\\\\s]*@)&quot;;`. Or with `\\\\b` instead of `(?&lt;!\\\\S)` if your matches must always start with a word char. See https://ideone.com/GfQUPm","body":"It should be something like <code>String regex=&quot;((?&lt;!\\\\S)[^\\\\s@]{3}|(?!^)\\\\G)[^\\\\s@](?=[^@\\\\s]*@)&quot;;</code>. Or with <code>\\\\b</code> instead of <code>(?&lt;!\\\\S)</code> if your matches must always start with a word char. See <a href=\"https://ideone.com/GfQUPm\" rel=\"nofollow noreferrer\">ideone.com/GfQUPm</a>"},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1699529993,"post_id":77452799,"comment_id":136544989,"body_markdown":"`[a-zA-Z0-9.!#$%&amp;&#39;*+/=?^_\\`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*` regular expression will match both `riyajose@gmail.com` and `rosymj@gmail.com` in your string, leaving &quot;your my&quot; unmatched. If you don&#39;t want to match the domain, just use `[a-zA-Z0-9.!#$%&amp;&#39;*+/=?^_\\`{|}~-]+@`, which will match the ending `@` too","body":"<code>[a-zA-Z0-9.!#$%&amp;&#39;*+&#47;=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-&zwnj;&#8203;9-]+)*</code> regular expression will match both <code>riyajose@gmail.com</code> and <code>rosymj@gmail.com</code> in your string, leaving &quot;your my&quot; unmatched. If you don&#39;t want to match the domain, just use <code>[a-zA-Z0-9.!#$%&amp;&#39;*+&#47;=?^_`{|}~-]+@</code>, which will match the ending <code>@</code> too"},{"owner":{"account_id":4739783,"reputation":612564,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1699532288,"post_id":77452799,"comment_id":136545374,"body_markdown":"...but do not use the regex in Java, its regex engine is not reliable with such patterns when using them against long texts.","body":"...but do not use the regex in Java, its regex engine is not reliable with such patterns when using them against long texts."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699580475,"creation_date":1699580475,"answer_id":77457270,"question_id":77452799,"body_markdown":"&gt; _&quot;... I want to mask emails present in my string ...&quot;_\r\n\r\nTry a _match pattern_, and the _[StringBuilder](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/StringBuilder.html)_ class.\r\n\r\n```none\r\n\\b[^ ]+?(?=@)\r\n```\r\n\r\nHere is an example.\r\n\r\n```java\r\nStringBuilder email = new StringBuilder(&quot;riyajose@gmail.com your my rosymj@gmail.com&quot;);\r\nPattern p = Pattern.compile(&quot;\\\\b[^ ]+?(?=@)&quot;);\r\nMatcher m = p.matcher(email);\r\nwhile (m.find()) email.replace(m.start(), m.end(), &quot;x&quot;.repeat(m.group().length()));\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nxxxxxxxx@gmail.com your my xxxxxx@gmail.com\r\n```","title":"Email Regex is not working for multiple values in a string message","body":"<blockquote>\n<p><em>&quot;... I want to mask emails present in my string ...&quot;</em></p>\n</blockquote>\n<p>Try a <em>match pattern</em>, and the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/StringBuilder.html\" rel=\"nofollow noreferrer\">StringBuilder</a></em> class.</p>\n<pre class=\"lang-none prettyprint-override\"><code>\\b[^ ]+?(?=@)\n</code></pre>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>StringBuilder email = new StringBuilder(&quot;riyajose@gmail.com your my rosymj@gmail.com&quot;);\nPattern p = Pattern.compile(&quot;\\\\b[^ ]+?(?=@)&quot;);\nMatcher m = p.matcher(email);\nwhile (m.find()) email.replace(m.start(), m.end(), &quot;x&quot;.repeat(m.group().length()));\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>xxxxxxxx@gmail.com your my xxxxxx@gmail.com\n</code></pre>\n"}],"owner":{"account_id":21276613,"reputation":3,"user_id":15655482,"display_name":"Cdac15655482"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1699580475,"creation_date":1699529364,"question_id":77452799,"body_markdown":"Below is my code, I want to mask emails present in my string.\r\n```java\r\nimport java.util.regex.Pattern;\r\npublic class Main {\r\n   public static void main(String[] args) {\r\n        String email = &quot;riyajose@gmail.com your my rosymj@gmail.com&quot;;\r\n        String regex=&quot;(^[^@]{3}|(?!^)\\\\G)[^@]&quot;;\r\n        Pattern pattern = Pattern.compile(regex);\r\n        String mask=&quot;$1*&quot;; // String maskedEmail = email.replaceAll(&quot;\\\\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\\\.[A-Z]{2,6}\\\\b&quot;, &quot;xxxxxx&quot;);\r\n        String  email1 = pattern.matcher(email).replaceAll(mask);\r\n        System.out.println(&quot;email : &quot;+email);\r\n        System.out.println(&quot;maskedEmail : &quot;+email1);\r\n    }\r\n }\r\n```\r\nThe issue with above code is for the first email id its masking second one not. How to fix this ","title":"Email Regex is not working for multiple values in a string message","body":"<p>Below is my code, I want to mask emails present in my string.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.regex.Pattern;\npublic class Main {\n   public static void main(String[] args) {\n        String email = &quot;riyajose@gmail.com your my rosymj@gmail.com&quot;;\n        String regex=&quot;(^[^@]{3}|(?!^)\\\\G)[^@]&quot;;\n        Pattern pattern = Pattern.compile(regex);\n        String mask=&quot;$1*&quot;; // String maskedEmail = email.replaceAll(&quot;\\\\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\\\.[A-Z]{2,6}\\\\b&quot;, &quot;xxxxxx&quot;);\n        String  email1 = pattern.matcher(email).replaceAll(mask);\n        System.out.println(&quot;email : &quot;+email);\n        System.out.println(&quot;maskedEmail : &quot;+email1);\n    }\n }\n</code></pre>\n<p>The issue with above code is for the first email id its masking second one not. How to fix this</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1699579712,"post_id":77457185,"comment_id":136553310,"body_markdown":"Override the _toString_ method for _Employee_, _&quot;[\\&quot;%s\\&quot;, %s, %.0f]&quot;.formatted(name, id, sal)_.","body":"Override the <i>toString</i> method for <i>Employee</i>, <i>&quot;[\\&quot;%s\\&quot;, %s, %.0f]&quot;.formatted(name, id, sal)</i>."}],"owner":{"account_id":29863107,"reputation":1,"user_id":22886347,"display_name":"Chandana"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1699579572,"answer_count":0,"score":-2,"last_activity_date":1699579590,"creation_date":1699578466,"question_id":77457185,"body_markdown":"**Here is my code:**\r\n\r\n\r\n```\r\nimport java.util.*;\r\nclass Employee\r\n{\r\n    String name;\r\n    int id;\r\n    float sal;\r\n    String country;\r\n}\r\npublic class Main\r\n{\r\n  public static void main (String[] args)\r\n  {\r\n    Employee e1 = new Employee();\r\n    e1.name = &quot;Ram&quot;\r\n    e1.id = 7;\r\n    e1.sal = 50000;\r\n\r\n    Employee e2 = new Employee();\r\n    e2.name = &quot;Seetha&quot;;\r\n    e2.id = 1;\r\n    e2.sal = 60000;\r\n\r\n    Employee[] array = new Employee[] {e1, e2};\r\n    System.out.println(Arrays.toSting(array));\r\n  }\r\n}\r\n```\r\n\r\n\r\n**Output I&#39;m getting:**\r\n[Employee@3b22cdd0, Employee@1e81f4dc]\r\n\r\nThis is the output I&#39;m getting.\r\nBut the output I&#39;m expecting is [[&quot;Ram&quot;, 7, 50000], [&quot;Sita&quot;,1, 60000]]\r\nHow can I get the original values in the output.\r\nCan it be solved using Arrays? Or does it requires collections framework?","title":"Storing a list of Employee details using Arrays in java","body":"<p><strong>Here is my code:</strong></p>\n<pre><code>import java.util.*;\nclass Employee\n{\n    String name;\n    int id;\n    float sal;\n    String country;\n}\npublic class Main\n{\n  public static void main (String[] args)\n  {\n    Employee e1 = new Employee();\n    e1.name = &quot;Ram&quot;\n    e1.id = 7;\n    e1.sal = 50000;\n\n    Employee e2 = new Employee();\n    e2.name = &quot;Seetha&quot;;\n    e2.id = 1;\n    e2.sal = 60000;\n\n    Employee[] array = new Employee[] {e1, e2};\n    System.out.println(Arrays.toSting(array));\n  }\n}\n</code></pre>\n<p><strong>Output I'm getting:</strong>\n[Employee@3b22cdd0, Employee@1e81f4dc]</p>\n<p>This is the output I'm getting.\nBut the output I'm expecting is [[&quot;Ram&quot;, 7, 50000], [&quot;Sita&quot;,1, 60000]]\nHow can I get the original values in the output.\nCan it be solved using Arrays? Or does it requires collections framework?</p>\n"},{"tags":["java","loops","for-loop"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1699826452,"post_id":77448499,"comment_id":136576814,"body_markdown":"&quot;when &quot;999&quot; is inserted, will break the loop&quot; - yes, that&#39;s what the code does. What is your question?","body":"&quot;when &quot;999&quot; is inserted, will break the loop&quot; - yes, that&#39;s what the code does. What is your question?"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1699826493,"post_id":77448499,"comment_id":136576817,"body_markdown":"Also, if your question is about the first loop, please don&#39;t include all the stuff below. It&#39;s irrelevant.","body":"Also, if your question is about the first loop, please don&#39;t include all the stuff below. It&#39;s irrelevant."}],"answers":[{"tags":[],"owner":{"account_id":29858191,"reputation":1,"user_id":22882521,"display_name":"alpaca"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1699579125,"creation_date":1699473687,"answer_id":77448609,"question_id":77448499,"body_markdown":"System.exit() if your intent is to close the program\r\nBreak to close out of a loop","title":"An if statement inside a for statement, java program to calculate the grades then assign letter numbers. Scanner class please need assistance for loop","body":"<p>System.exit() if your intent is to close the program\nBreak to close out of a loop</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1699477715,"creation_date":1699477715,"answer_id":77448952,"question_id":77448499,"body_markdown":"&gt; _&quot;... would it be good to sign a exit to the program or just exit the loop with a break statement? ...&quot;_\r\n\r\nUtilize a _boolean_ to determine if the _loop_ exited early.\r\n\r\n```java\r\n...\r\nint b = 999;\r\nboolean exited = false;\r\nfor(i=0; i&lt;10; i++) {\r\n    ...\r\n    if(marks[i]==b)\r\n    {\r\n        exited = true;\r\n        break;\r\n    }\r\n}\r\n\r\nif (!exited) {\r\n   ...\r\n}\r\n```","title":"An if statement inside a for statement, java program to calculate the grades then assign letter numbers. Scanner class please need assistance for loop","body":"<blockquote>\n<p><em>&quot;... would it be good to sign a exit to the program or just exit the loop with a break statement? ...&quot;</em></p>\n</blockquote>\n<p>Utilize a <em>boolean</em> to determine if the <em>loop</em> exited early.</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\nint b = 999;\nboolean exited = false;\nfor(i=0; i&lt;10; i++) {\n    ...\n    if(marks[i]==b)\n    {\n        exited = true;\n        break;\n    }\n}\n\nif (!exited) {\n   ...\n}\n</code></pre>\n"}],"owner":{"account_id":14172729,"reputation":45,"user_id":10238884,"display_name":"Jamie Morrissey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":2,"score":-2,"last_activity_date":1699579125,"creation_date":1699472546,"question_id":77448499,"body_markdown":"Can someone please help me with the if statement in a for loop, new to Java, when &quot;999&quot; is inserted, will break the loop. Thanks. Also, would it be good to sign a exit to the program or just exit the loop with a break statement?\r\n\r\n```\r\npackage java_1.java;\r\nimport java.util.Scanner;\r\n\r\npublic class HelloWorld {\r\n\tpublic static void main(String[] args) {\r\n\t\tint marks[] = new int[10];\r\n\t\tint i;\r\n\t\tfloat total=0,avg;\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\tint b = 999;\r\n\t\tfor(i=0; i&lt;10; i++) {\r\n\t\t\tSystem.out.print(&quot;Enter Marks of Subject&quot;+(i+1)+&quot;:&quot;);\r\n\t\t\tmarks[i] = scanner.nextInt();\r\n\t\t\ttotal = total + marks[i];\r\n\t\t\tif(marks[i]==b)\r\n\t\t\t{\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tscanner.close();\r\n\t\t\r\n\t\tint sum = 0;\r\n\t\tfloat average = 0.0f;\r\n\t\t\r\n\t\t// Calculating the average in for loop\r\n\t\tfor (i=0; i&lt;marks.length;i++) {\r\n\t\t\tsum += marks[i];\r\n\t\t}\r\n\t\taverage = (float) sum / marks.length;\r\n\t\t\r\n\t\t// Printing the calculating averated value\r\n\t\tSystem.out.print(&quot;The average of he given array: &quot; + average);\r\n\t\t//Calculating the average\r\n\t\tavg = total/10;\r\n\t\tSystem.out.printf(&quot;%n&quot;);\r\n\t\tSystem.out.print(&quot;Average student grade out of the scores is: &quot;);\r\n\t\t\r\n\t\t// Define variables for for loop\r\n\r\n\t\tif(avg&gt;=80)\r\n\t\t{\r\n\t\t\tSystem.out.print(&quot;A&quot;);\r\n\t\t}\r\n\t\telse if(avg&gt;=60 &amp;&amp; avg&lt;80)\r\n\t\t{\r\n\t\t\tSystem.out.print(&quot;B&quot;);\r\n\t\t}\r\n\t\telse if(avg&gt;=40 &amp;&amp; avg&lt;60)\r\n\t\t{\r\n\t\t\tSystem.out.print(&quot;C&quot;);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tSystem.out.print(&quot;D&quot;);\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"An if statement inside a for statement, java program to calculate the grades then assign letter numbers. Scanner class please need assistance for loop","body":"<p>Can someone please help me with the if statement in a for loop, new to Java, when &quot;999&quot; is inserted, will break the loop. Thanks. Also, would it be good to sign a exit to the program or just exit the loop with a break statement?</p>\n<pre><code>package java_1.java;\nimport java.util.Scanner;\n\npublic class HelloWorld {\n    public static void main(String[] args) {\n        int marks[] = new int[10];\n        int i;\n        float total=0,avg;\n        Scanner scanner = new Scanner(System.in);\n        int b = 999;\n        for(i=0; i&lt;10; i++) {\n            System.out.print(&quot;Enter Marks of Subject&quot;+(i+1)+&quot;:&quot;);\n            marks[i] = scanner.nextInt();\n            total = total + marks[i];\n            if(marks[i]==b)\n            {\n                break;\n            }\n        }\n        scanner.close();\n        \n        int sum = 0;\n        float average = 0.0f;\n        \n        // Calculating the average in for loop\n        for (i=0; i&lt;marks.length;i++) {\n            sum += marks[i];\n        }\n        average = (float) sum / marks.length;\n        \n        // Printing the calculating averated value\n        System.out.print(&quot;The average of he given array: &quot; + average);\n        //Calculating the average\n        avg = total/10;\n        System.out.printf(&quot;%n&quot;);\n        System.out.print(&quot;Average student grade out of the scores is: &quot;);\n        \n        // Define variables for for loop\n\n        if(avg&gt;=80)\n        {\n            System.out.print(&quot;A&quot;);\n        }\n        else if(avg&gt;=60 &amp;&amp; avg&lt;80)\n        {\n            System.out.print(&quot;B&quot;);\n        }\n        else if(avg&gt;=40 &amp;&amp; avg&lt;60)\n        {\n            System.out.print(&quot;C&quot;);\n        }\n        else\n        {\n            System.out.print(&quot;D&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":49543,"reputation":19032,"user_id":147530,"accept_rate":63,"display_name":"morpheus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699577835,"creation_date":1699577835,"question_id":77457163,"body_markdown":"I am developing a CLI app using Spring. One of the things I would like to do is to be able to display a help/usage screen like the way you can do it with [commons-cli](https://commons.apache.org/proper/commons-cli/usage.html):\r\n\r\n```\r\n// automatically generate the help statement\r\nHelpFormatter formatter = new HelpFormatter();\r\nformatter.printHelp(&quot;ant&quot;, options);\r\n```\r\n\r\nHow to do this with Spring? Or is Spring not the right tool for developing a CLI app?\r\n\r\nWhen comparing `commons-cli` with Spring, I feel that with `commons-cli` you cannot auto-parse a config file whereas with Spring you can auto-parse config file but its support for parsing command line arguments is clunky (e.g., boolean flags can&#39;t be turned on by just typing `--flag1`); in fact I haven&#39;t been able to use command line arguments successfully at all with Spring (`-Dspring-boot.run.arguments`)","title":"How to display help screen when developing a CLI app using Spring","body":"<p>I am developing a CLI app using Spring. One of the things I would like to do is to be able to display a help/usage screen like the way you can do it with <a href=\"https://commons.apache.org/proper/commons-cli/usage.html\" rel=\"nofollow noreferrer\">commons-cli</a>:</p>\n<pre><code>// automatically generate the help statement\nHelpFormatter formatter = new HelpFormatter();\nformatter.printHelp(&quot;ant&quot;, options);\n</code></pre>\n<p>How to do this with Spring? Or is Spring not the right tool for developing a CLI app?</p>\n<p>When comparing <code>commons-cli</code> with Spring, I feel that with <code>commons-cli</code> you cannot auto-parse a config file whereas with Spring you can auto-parse config file but its support for parsing command line arguments is clunky (e.g., boolean flags can't be turned on by just typing <code>--flag1</code>); in fact I haven't been able to use command line arguments successfully at all with Spring (<code>-Dspring-boot.run.arguments</code>)</p>\n"},{"tags":["java","servlets","service","response"],"owner":{"account_id":1657432,"reputation":114,"user_id":1526570,"accept_rate":40,"display_name":"sublimelaconic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1699577628,"creation_date":1699577628,"question_id":77457155,"body_markdown":"I&#39;m trying to read the response from an API. But I&#39;m getting this error:\r\n\r\nCaused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type [package].ResponseDTO &#39; from Array value (token `JsonToken.START_ARRAY`)_ at [Source: (org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$UnCloseableInputStream); line: 1, column: 1]\r\n\r\nHere&#39;s how the response looks like:\r\n\r\n    [\r\n        {\r\n           &quot;success&quot;: true,\r\n           &quot;errors&quot;: []\r\n        }\r\n    ]\r\n\r\nHere&#39;s how I&#39;m calling the API:\r\n\r\n    ResponseDTO response = service.executeAPI(ResponseDTO.class, request, builder);\r\n\r\n\r\nHere&#39;s a slimmed down version of my execute method:\r\n\r\n    private &lt;T&gt; T executeAPI(final Class&lt;T&gt; resType, final Supplier&lt;Response&gt; executor) {\r\n        T response = null;\r\n        // call API\r\n        response = clientResponse.readEntity(resType);\r\n    }\r\n\r\nHere&#39;s my DTO:\r\n\r\n    @XmlRootElement\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class ResponseDTO {\r\n        private boolean success;\r\n        private List&lt;String&gt; errors;\r\n        //getters and setters\r\n    }","title":"javax.ws.rs.core.Response.readEntity returning MismatchedInputException","body":"<p>I'm trying to read the response from an API. But I'm getting this error:</p>\n<p>Caused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type [package].ResponseDTO ' from Array value (token <code>JsonToken.START_ARRAY</code>)_ at [Source: (org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$UnCloseableInputStream); line: 1, column: 1]</p>\n<p>Here's how the response looks like:</p>\n<pre><code>[\n    {\n       &quot;success&quot;: true,\n       &quot;errors&quot;: []\n    }\n]\n</code></pre>\n<p>Here's how I'm calling the API:</p>\n<pre><code>ResponseDTO response = service.executeAPI(ResponseDTO.class, request, builder);\n</code></pre>\n<p>Here's a slimmed down version of my execute method:</p>\n<pre><code>private &lt;T&gt; T executeAPI(final Class&lt;T&gt; resType, final Supplier&lt;Response&gt; executor) {\n    T response = null;\n    // call API\n    response = clientResponse.readEntity(resType);\n}\n</code></pre>\n<p>Here's my DTO:</p>\n<pre><code>@XmlRootElement\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class ResponseDTO {\n    private boolean success;\n    private List&lt;String&gt; errors;\n    //getters and setters\n}\n</code></pre>\n"},{"tags":["java","annotation-processing"],"answers":[{"tags":[],"owner":{"account_id":238580,"reputation":978,"user_id":507563,"display_name":"Scott"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699576727,"creation_date":1699576727,"answer_id":77457107,"question_id":77441851,"body_markdown":"Answering my own question. I had forgotten about arguments that can be passed to plugins via the [init][1] method. I had switched from building an annotation processor to a plugin, but chose to stick with the `-A` style of argument passing for a couple of reasons.\r\n1. it was an easier transition for existing usage\r\n2. I prefer adding arguments to the javac command line as opposed to my plugin having separate arguments\r\n\r\nI&#39;d still like to file a request to allow plugins to acknowledge `-Akey` args, if there is some way to achieve that.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/jdk.compiler/com/sun/source/util/Plugin.html#init(com.sun.source.util.JavacTask,java.lang.String...)","title":"javac command line `-Akey[=value]` args are not covered via javac plugins, only annotation processors. How best to address this?","body":"<p>Answering my own question. I had forgotten about arguments that can be passed to plugins via the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/jdk.compiler/com/sun/source/util/Plugin.html#init(com.sun.source.util.JavacTask,java.lang.String...)\" rel=\"nofollow noreferrer\">init</a> method. I had switched from building an annotation processor to a plugin, but chose to stick with the <code>-A</code> style of argument passing for a couple of reasons.</p>\n<ol>\n<li>it was an easier transition for existing usage</li>\n<li>I prefer adding arguments to the javac command line as opposed to my plugin having separate arguments</li>\n</ol>\n<p>I'd still like to file a request to allow plugins to acknowledge <code>-Akey</code> args, if there is some way to achieve that.</p>\n"}],"owner":{"account_id":238580,"reputation":978,"user_id":507563,"display_name":"Scott"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1699576727,"creation_date":1699396287,"question_id":77441851,"body_markdown":"Although the javac docs state the `-Akey[=value]` command line argument is designed for annotation processors, it applies to javac plugins as well; there doesn&#39;t appear to be a separate command line argument exclusive to plugins.\r\n\r\nThe problem, however, is that internally javac emits a warning if a `-Akey` is not acknowledged by an annotation processor. Of course plugins can still process the arguments, but the warning confuses devs.\r\n\r\nI&#39;d like to report a bug/request to perhaps allow plugins to acknowledge `-Akey` command line options. But [openjdk.org][1] is in reality a pretty closed system, I&#39;m just a dude without &quot;project author&quot; privileges necessary to report a bug. Is there some other way to submit an issue?\r\n\r\nAdmittedly, plugins are one of javac&#39;s darker corners, but I&#39;m curious if anyone else has run into this and how they may have addressed it. I am currently suppressing the error via compiler internals, which of course isn&#39;t a desirable approach.\r\n\r\n\r\n[1]: https://openjdk.org","title":"javac command line `-Akey[=value]` args are not covered via javac plugins, only annotation processors. How best to address this?","body":"<p>Although the javac docs state the <code>-Akey[=value]</code> command line argument is designed for annotation processors, it applies to javac plugins as well; there doesn't appear to be a separate command line argument exclusive to plugins.</p>\n<p>The problem, however, is that internally javac emits a warning if a <code>-Akey</code> is not acknowledged by an annotation processor. Of course plugins can still process the arguments, but the warning confuses devs.</p>\n<p>I'd like to report a bug/request to perhaps allow plugins to acknowledge <code>-Akey</code> command line options. But <a href=\"https://openjdk.org\" rel=\"nofollow noreferrer\">openjdk.org</a> is in reality a pretty closed system, I'm just a dude without &quot;project author&quot; privileges necessary to report a bug. Is there some other way to submit an issue?</p>\n<p>Admittedly, plugins are one of javac's darker corners, but I'm curious if anyone else has run into this and how they may have addressed it. I am currently suppressing the error via compiler internals, which of course isn't a desirable approach.</p>\n"},{"tags":["java","spring-boot","jackson","hl7-fhir","hapi-fhir"],"answers":[{"tags":[],"owner":{"account_id":11191086,"reputation":26,"user_id":8211479,"display_name":"jaideep pahwa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653285989,"creation_date":1653281385,"answer_id":72343371,"question_id":72203398,"body_markdown":"**SpringBoot does not natively understand the FHIR objects. Any time you will try to accept FHIR in the RequestBody Jackson will try to deserialize the FHIR object and throws the given error.**\r\n\r\nSolutions:\r\n\r\n 1. Send the FHIR object as a raw object(String) and deserialize the same using HAPI FHIR to deserialize the string.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class DemoController {\r\n\r\n        @PostMapping(&quot;/Patient/save&quot;)\r\n        public String savePatientDetails(@RequestBody String p) {\r\n            IGenericClient client = fhirContext.newRestfulGenericClient(&quot;http://localhost:8080/fhir&quot;);\r\n            \r\n            IParser parser = fhirContext.newJsonParser();\r\n            \r\n    \t      Patient firObject=parser.parseResource(Patient.class,p);\r\n        \r\n            MethodOutcome s = client.create().resource(firObject).prettyPrint()\r\n                    .encodedJson()\r\n                    .execute();\r\n                    \r\n            return s.toString();\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n 2. Creating the customer serializer &amp; deserializer using HAPI FHIR overriding the Jackson\r\n\r\n[Custom Deserilizer][1]\r\n\r\n\r\n[Custom Serilizer][2]\r\n\r\n\r\n[Registering custom Serializer and Deserializer][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JpFoI.png\r\n  [2]: https://i.stack.imgur.com/tG7kB.png\r\n  [3]: https://i.stack.imgur.com/26ybc.png","title":"Accepting FHIR Resource &#39;Patient&#39; as a RequestBody in spring boot","body":"<p><strong>SpringBoot does not natively understand the FHIR objects. Any time you will try to accept FHIR in the RequestBody Jackson will try to deserialize the FHIR object and throws the given error.</strong></p>\n<p>Solutions:</p>\n<ol>\n<li>Send the FHIR object as a raw object(String) and deserialize the same using HAPI FHIR to deserialize the string.</li>\n</ol>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>@RestController\n@RequestMapping(\"/api\")\npublic class DemoController {\n\n    @PostMapping(\"/Patient/save\")\n    public String savePatientDetails(@RequestBody String p) {\n        IGenericClient client = fhirContext.newRestfulGenericClient(\"http://localhost:8080/fhir\");\n        \n        IParser parser = fhirContext.newJsonParser();\n        \n          Patient firObject=parser.parseResource(Patient.class,p);\n    \n        MethodOutcome s = client.create().resource(firObject).prettyPrint()\n                .encodedJson()\n                .execute();\n                \n        return s.toString();\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<ol start=\"2\">\n<li>Creating the customer serializer &amp; deserializer using HAPI FHIR overriding the Jackson</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/JpFoI.png\" rel=\"nofollow noreferrer\">Custom Deserilizer</a></p>\n<p><a href=\"https://i.stack.imgur.com/tG7kB.png\" rel=\"nofollow noreferrer\">Custom Serilizer</a></p>\n<p><a href=\"https://i.stack.imgur.com/26ybc.png\" rel=\"nofollow noreferrer\">Registering custom Serializer and Deserializer</a></p>\n"},{"tags":[],"owner":{"account_id":1168771,"reputation":153,"user_id":1146439,"display_name":"Andrew Hall"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699575216,"creation_date":1699575216,"answer_id":77457048,"question_id":72203398,"body_markdown":"A slight variation on the second solution.  You can create a custom Spring MessageConverter to serialize/deserialize FHIR.  To do that:\r\n\r\n 1. [Create a HapiHttpMessageConverter](https://github.com/developer-x/hapi-springboot-swagger-demo/blob/main/src/main/java/developerx/springframework/HapiHttpMessageConverter.java) to serialize/deserialize FHIR Resources\r\n 2. [Create a HapiMessageConverterConfigurer](https://github.com/developer-x/hapi-springboot-swagger-demo/blob/main/src/main/java/developerx/springframework/HapiMessageConverterConfigurer.java) to register the converter\r\n 3. [Register the HapiMessgeConverterConfigurer](https://github.com/developer-x/hapi-springboot-swagger-demo/blob/d21bed71567c5bb591a6eaa358f7f99901bba0bd/src/main/java/developerx/hapidemo/HapiDemoApplication.java#L19C7-L19C7) with the Application Context\r\n","title":"Accepting FHIR Resource &#39;Patient&#39; as a RequestBody in spring boot","body":"<p>A slight variation on the second solution.  You can create a custom Spring MessageConverter to serialize/deserialize FHIR.  To do that:</p>\n<ol>\n<li><a href=\"https://github.com/developer-x/hapi-springboot-swagger-demo/blob/main/src/main/java/developerx/springframework/HapiHttpMessageConverter.java\" rel=\"nofollow noreferrer\">Create a HapiHttpMessageConverter</a> to serialize/deserialize FHIR Resources</li>\n<li><a href=\"https://github.com/developer-x/hapi-springboot-swagger-demo/blob/main/src/main/java/developerx/springframework/HapiMessageConverterConfigurer.java\" rel=\"nofollow noreferrer\">Create a HapiMessageConverterConfigurer</a> to register the converter</li>\n<li><a href=\"https://github.com/developer-x/hapi-springboot-swagger-demo/blob/d21bed71567c5bb591a6eaa358f7f99901bba0bd/src/main/java/developerx/hapidemo/HapiDemoApplication.java#L19C7-L19C7\" rel=\"nofollow noreferrer\">Register the HapiMessgeConverterConfigurer</a> with the Application Context</li>\n</ol>\n"}],"owner":{"account_id":8652046,"reputation":595,"user_id":6477389,"display_name":"Sandip Pawar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2049,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72343371,"answer_count":2,"score":1,"last_activity_date":1699575216,"creation_date":1652281553,"question_id":72203398,"body_markdown":"I want to accept the JSON body of Patient FHIR resource as @RequestBody in Spring boot API. I tried to do this:\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class DemoController {\r\n\r\n    @PostMapping(&quot;/Patient/save&quot;)\r\n    public String savePatientDetails(@RequestBody Patient p) {\r\n        IGenericClient client = fhirContext.newRestfulGenericClient(&quot;http://localhost:8080/fhir&quot;);\r\n        MethodOutcome s = client.create().resource(p).prettyPrint()\r\n                .encodedJson()\r\n                .execute();\r\n        return s.toString();\r\n    }\r\n}\r\n```\r\nUsing the Patient model from HAPI FHIR(https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-structures-r4/org/hl7/fhir/r4/model/Patient.html)\r\n\r\nAnd called the above endpoint using postman with below request body:\r\n```\r\n{\r\n    &quot;resourceType&quot;:&quot;Patient&quot;,\r\n    &quot;name&quot;: [{\r\n        &quot;use&quot;: &quot;official&quot;,\r\n        &quot;given&quot;: [&quot;temp&quot;],\r\n        &quot;family&quot;: &quot;temp&quot;\r\n    }],\r\n    &quot;birthDate&quot;: &quot;1996-04-07&quot;\r\n}\r\n```\r\n\r\nbut its giving below Jackson deserialization error:\r\n```\r\n[nio-8081-exec-1] .c.j.MappingJackson2HttpMessageConverter : Failed to evaluate Jackson deserialization for type [[simple type, class org.hl7.fhir.r4.model.Patient]]: com.fasterxml.jackson.databind.JsonMappingException: Conflicting setter definitions for property &quot;referenceElement&quot;: org.hl7.fhir.r4.model.Reference#setReferenceElement(1 params) vs org.hl7.fhir.r4.model.Reference#setReferenceElement(1 params)\r\n2022-02-25 09:32:43.332  WARN 71185 --- [nio-8081-exec-1] .c.j.MappingJackson2HttpMessageConverter : Failed to evaluate Jackson deserialization for type [[simple type, class org.hl7.fhir.r4.model.Patient]]: com.fasterxml.jackson.databind.JsonMappingException: Conflicting setter definitions for property &quot;referenceElement&quot;: org.hl7.fhir.r4.model.Reference#setReferenceElement(1 params) vs org.hl7.fhir.r4.model.Reference#setReferenceElement(1 params)\r\n2022-02-25 09:32:43.356  WARN 71185 --- [nio-8081-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type &#39;application/json;charset=UTF-8&#39; not supported]\r\n```\r\n\r\nThanks in advance.","title":"Accepting FHIR Resource &#39;Patient&#39; as a RequestBody in spring boot","body":"<p>I want to accept the JSON body of Patient FHIR resource as @RequestBody in Spring boot API. I tried to do this:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class DemoController {\n\n    @PostMapping(&quot;/Patient/save&quot;)\n    public String savePatientDetails(@RequestBody Patient p) {\n        IGenericClient client = fhirContext.newRestfulGenericClient(&quot;http://localhost:8080/fhir&quot;);\n        MethodOutcome s = client.create().resource(p).prettyPrint()\n                .encodedJson()\n                .execute();\n        return s.toString();\n    }\n}\n</code></pre>\n<p>Using the Patient model from HAPI FHIR(<a href=\"https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-structures-r4/org/hl7/fhir/r4/model/Patient.html\" rel=\"nofollow noreferrer\">https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-structures-r4/org/hl7/fhir/r4/model/Patient.html</a>)</p>\n<p>And called the above endpoint using postman with below request body:</p>\n<pre><code>{\n    &quot;resourceType&quot;:&quot;Patient&quot;,\n    &quot;name&quot;: [{\n        &quot;use&quot;: &quot;official&quot;,\n        &quot;given&quot;: [&quot;temp&quot;],\n        &quot;family&quot;: &quot;temp&quot;\n    }],\n    &quot;birthDate&quot;: &quot;1996-04-07&quot;\n}\n</code></pre>\n<p>but its giving below Jackson deserialization error:</p>\n<pre><code>[nio-8081-exec-1] .c.j.MappingJackson2HttpMessageConverter : Failed to evaluate Jackson deserialization for type [[simple type, class org.hl7.fhir.r4.model.Patient]]: com.fasterxml.jackson.databind.JsonMappingException: Conflicting setter definitions for property &quot;referenceElement&quot;: org.hl7.fhir.r4.model.Reference#setReferenceElement(1 params) vs org.hl7.fhir.r4.model.Reference#setReferenceElement(1 params)\n2022-02-25 09:32:43.332  WARN 71185 --- [nio-8081-exec-1] .c.j.MappingJackson2HttpMessageConverter : Failed to evaluate Jackson deserialization for type [[simple type, class org.hl7.fhir.r4.model.Patient]]: com.fasterxml.jackson.databind.JsonMappingException: Conflicting setter definitions for property &quot;referenceElement&quot;: org.hl7.fhir.r4.model.Reference#setReferenceElement(1 params) vs org.hl7.fhir.r4.model.Reference#setReferenceElement(1 params)\n2022-02-25 09:32:43.356  WARN 71185 --- [nio-8081-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type 'application/json;charset=UTF-8' not supported]\n</code></pre>\n<p>Thanks in advance.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":403104,"reputation":1755,"user_id":770674,"accept_rate":71,"display_name":"Gary Tsui"},"score":0,"creation_date":1307086119,"post_id":6224177,"comment_id":7250262,"body_markdown":"are you suggesting the english word &#39;one&#39; to chinese character &#39;one&#39; ?","body":"are you suggesting the english word &#39;one&#39; to chinese character &#39;one&#39; ?"},{"owner":{"account_id":26457,"reputation":33684,"user_id":68805,"display_name":"Reno"},"score":0,"creation_date":1307086174,"post_id":6224177,"comment_id":7250281,"body_markdown":"[&quot;Chinese numbers&quot;](http://en.wikipedia.org/wiki/Chinese_numerals) is not exactly clear. China is huge if you did not know.","body":"<a href=\"http://en.wikipedia.org/wiki/Chinese_numerals\" rel=\"nofollow noreferrer\">&quot;Chinese numbers&quot;</a> is not exactly clear. China is huge if you did not know."},{"owner":{"account_id":27626,"reputation":346876,"user_id":73070,"accept_rate":81,"display_name":"Joey"},"score":1,"creation_date":1307086232,"post_id":6224177,"comment_id":7250293,"body_markdown":"@Gary: I think it might be converting `1010` into `一千零一十`","body":"@Gary: I think it might be converting <code>1010</code> into <code>一千零一十</code>"},{"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"score":0,"creation_date":1307119977,"post_id":6224177,"comment_id":7258840,"body_markdown":"Do you mean English word numbers (one, two, three) or Arabic numerals (1, 2, 3)?","body":"Do you mean English word numbers (one, two, three) or Arabic numerals (1, 2, 3)?"},{"owner":{"account_id":169501,"reputation":1082,"user_id":395627,"accept_rate":56,"display_name":"Vikram"},"score":0,"creation_date":1307428631,"post_id":6224177,"comment_id":7304474,"body_markdown":"@Gary Joey says right i wan&#39;t to convert Arabic numerals to chines number. example 1010 into 一千零一十.","body":"@Gary Joey says right i wan&#39;t to convert Arabic numerals to chines number. example 1010 into 一千零一十."},{"owner":{"account_id":403104,"reputation":1755,"user_id":770674,"accept_rate":71,"display_name":"Gary Tsui"},"score":0,"creation_date":1307500406,"post_id":6224177,"comment_id":7321961,"body_markdown":"@Vikram  i&#39;ll still suggest what i suggested previously.  A hashtable for look-up based on the wiki link i provided earlier.","body":"@Vikram  i&#39;ll still suggest what i suggested previously.  A hashtable for look-up based on the wiki link i provided earlier."}],"answers":[{"tags":[],"owner":{"account_id":403104,"reputation":1755,"user_id":770674,"accept_rate":71,"display_name":"Gary Tsui"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1307086466,"creation_date":1307086466,"answer_id":6224270,"question_id":6224177,"body_markdown":"In that case, \r\ni suggest you build a hash table for it. \r\nIt&#39;s not that difficult to start with. \r\nwe know that chinese &#39;numerals&#39; are pretty much defined by:\r\nSee: http://en.wikipedia.org/wiki/Chinese_numerals\r\n\r\nWith that, i think you are more than capable to build a table in your programming lang preference, java.\r\n\r\n","title":"how to convert English numbers to Chinese in Java","body":"<p>In that case, \ni suggest you build a hash table for it. \nIt's not that difficult to start with. \nwe know that chinese 'numerals' are pretty much defined by:\nSee: <a href=\"http://en.wikipedia.org/wiki/Chinese_numerals\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Chinese_numerals</a></p>\n\n<p>With that, i think you are more than capable to build a table in your programming lang preference, java.</p>\n"},{"tags":[],"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1307092127,"creation_date":1307092127,"answer_id":6225104,"question_id":6224177,"body_markdown":"[ICU4J][1] has support for this:\r\n\r\n    Locale chineseNumbers = new Locale(&quot;en_US@numbers=hansfin&quot;);\r\n    com.ibm.icu.text.NumberFormat formatter =\r\n        com.ibm.icu.text.NumberFormat.getInstance(chineseNumbers);\r\n    System.out.println(formatter.format(100));\r\n\r\n_Tested with version 4.8._\r\n\r\n  [1]: http://site.icu-project.org/","title":"how to convert English numbers to Chinese in Java","body":"<p><a href=\"http://site.icu-project.org/\" rel=\"nofollow\">ICU4J</a> has support for this:</p>\n\n<pre><code>Locale chineseNumbers = new Locale(\"en_US@numbers=hansfin\");\ncom.ibm.icu.text.NumberFormat formatter =\n    com.ibm.icu.text.NumberFormat.getInstance(chineseNumbers);\nSystem.out.println(formatter.format(100));\n</code></pre>\n\n<p><em>Tested with version 4.8.</em></p>\n"},{"tags":[],"owner":{"account_id":5339584,"reputation":135,"user_id":4257216,"display_name":"jyw"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1699574649,"creation_date":1437461133,"answer_id":31532069,"question_id":6224177,"body_markdown":"Instead of rolling your own, it is advisable to use [ICU4J][1] [NumberFormat][2] as @mcdowell&#39;s answer.\r\n\r\nThe only thing different is the Numbering Systems ID `&quot;hansfin&quot;` should be replace with `&quot;hans&quot;` if you wish converting `61305` into `&quot;六万一千三百零五&quot;`.\r\n\r\n    Locale chineseNumbers = new Locale(&quot;C@numbers=hans&quot;);\r\n    com.ibm.icu.text.NumberFormat formatter =\r\n        com.ibm.icu.text.NumberFormat.getInstance(chineseNumbers);\r\n    System.out.println(formatter.format(61305));\r\n\r\nHere is the results for different Numbering Systems IDes.\r\n\r\n    hans    六万一千三百零五\r\n    hant    六萬一千三百零五\r\n    hansfin 陆万壹仟叁佰零伍\r\n    hantfin 陸萬壹仟參佰零伍\r\n\r\nThe `hans` is the abbreviation of &quot;Han Simplified&quot; (i.e. Simplified Chinese), while the `hant` is &quot;Han Traditional&quot; (i.e. Traditional Chinese) and the `fin` is &quot;Finance&quot;.\r\n\r\n\r\n  [1]: http://site.icu-project.org/\r\n  [2]: http://icu-project.org/apiref/icu4j/com/ibm/icu/text/NumberFormat.html","title":"how to convert English numbers to Chinese in Java","body":"<p>Instead of rolling your own, it is advisable to use <a href=\"http://site.icu-project.org/\" rel=\"nofollow noreferrer\">ICU4J</a> <a href=\"http://icu-project.org/apiref/icu4j/com/ibm/icu/text/NumberFormat.html\" rel=\"nofollow noreferrer\">NumberFormat</a> as @mcdowell's answer.</p>\n<p>The only thing different is the Numbering Systems ID <code>&quot;hansfin&quot;</code> should be replace with <code>&quot;hans&quot;</code> if you wish converting <code>61305</code> into <code>&quot;六万一千三百零五&quot;</code>.</p>\n<pre><code>Locale chineseNumbers = new Locale(&quot;C@numbers=hans&quot;);\ncom.ibm.icu.text.NumberFormat formatter =\n    com.ibm.icu.text.NumberFormat.getInstance(chineseNumbers);\nSystem.out.println(formatter.format(61305));\n</code></pre>\n<p>Here is the results for different Numbering Systems IDes.</p>\n<pre><code>hans    六万一千三百零五\nhant    六萬一千三百零五\nhansfin 陆万壹仟叁佰零伍\nhantfin 陸萬壹仟參佰零伍\n</code></pre>\n<p>The <code>hans</code> is the abbreviation of &quot;Han Simplified&quot; (i.e. Simplified Chinese), while the <code>hant</code> is &quot;Han Traditional&quot; (i.e. Traditional Chinese) and the <code>fin</code> is &quot;Finance&quot;.</p>\n"}],"owner":{"account_id":169501,"reputation":1082,"user_id":395627,"accept_rate":56,"display_name":"Vikram"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4396,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":6224270,"answer_count":3,"score":5,"last_activity_date":1699574649,"creation_date":1307085818,"question_id":6224177,"body_markdown":"I have to convert English number to Chinese numbers. But the Chinese number system is different than in English. Is there any way to convert english numbers at run time into chinese?","title":"how to convert English numbers to Chinese in Java","body":"<p>I have to convert English number to Chinese numbers. But the Chinese number system is different than in English. Is there any way to convert english numbers at run time into chinese?</p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":1,"creation_date":1699567540,"post_id":77456269,"comment_id":136552120,"body_markdown":"The proper solution here is still to use `Gson.toJson`. Using `Object.toString` gives you a human-readable output without any guarantees that it can be parsed properly again. You should rather try to solve the issue that there is an extra `values` member, as mentioned in your linked other question, than trying to work around it.","body":"The proper solution here is still to use <code>Gson.toJson</code>. Using <code>Object.toString</code> gives you a human-readable output without any guarantees that it can be parsed properly again. You should rather try to solve the issue that there is an extra <code>values</code> member, as mentioned in your linked other question, than trying to work around it."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699574404,"creation_date":1699574404,"answer_id":77457006,"question_id":77456269,"body_markdown":"&gt; _&quot;... I converted a Map object to String with `toString()` method. However, it striped double quotes from each key and value ...&quot;_\r\n\r\nNote, these structures are not interchangeable to begin with.\\\r\nOnly a _[JSON object](https://en.wikipedia.org/wiki/JSON)_ would be considered a _map_, or _dictionary_.\r\n\r\nAdditionally, a _Map_ uses an _equal-sign_, rather than a _colon_, for each _entry_.\r\n\r\nIf the _JSON_ is simple, just implement your own.\r\n\r\nHere is an example.\r\n\r\n```java\r\nStringBuilder s = new StringBuilder();\r\nfor (Map.Entry&lt;String, String&gt; e : m.entrySet()) {\r\n    if (!s.isEmpty()) s.append(&quot;, &quot;);\r\n    s.append(&quot;\\&quot;%s\\&quot;: \\&quot;%s\\&quot;&quot;.formatted(e.getKey(), e.getValue()));\r\n}\r\ns.insert(0, &#39;{&#39;).append(&#39;}&#39;);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n{&quot;title&quot;: &quot;mytitle&quot;, &quot;iss&quot;: &quot;https://google.com&quot;}\r\n```","title":"GSON convert String to JSON with url in the value","body":"<blockquote>\n<p><em>&quot;... I converted a Map object to String with <code>toString()</code> method. However, it striped double quotes from each key and value ...&quot;</em></p>\n</blockquote>\n<p>Note, these structures are not interchangeable to begin with.<br />\nOnly a <em><a href=\"https://en.wikipedia.org/wiki/JSON\" rel=\"nofollow noreferrer\">JSON object</a></em> would be considered a <em>map</em>, or <em>dictionary</em>.</p>\n<p>Additionally, a <em>Map</em> uses an <em>equal-sign</em>, rather than a <em>colon</em>, for each <em>entry</em>.</p>\n<p>If the <em>JSON</em> is simple, just implement your own.</p>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>StringBuilder s = new StringBuilder();\nfor (Map.Entry&lt;String, String&gt; e : m.entrySet()) {\n    if (!s.isEmpty()) s.append(&quot;, &quot;);\n    s.append(&quot;\\&quot;%s\\&quot;: \\&quot;%s\\&quot;&quot;.formatted(e.getKey(), e.getValue()));\n}\ns.insert(0, '{').append('}');\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>{&quot;title&quot;: &quot;mytitle&quot;, &quot;iss&quot;: &quot;https://google.com&quot;}\n</code></pre>\n"}],"owner":{"account_id":1278736,"reputation":7363,"user_id":1233359,"accept_rate":73,"display_name":"Dreamer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699574404,"creation_date":1699563210,"question_id":77456269,"body_markdown":"\r\nI converted a Map object to String with `toString()` method. However, it striped double quotes from each key and value\r\n\r\n    {title=mytitle, iss=https://google.com}\r\n    instead of \r\n    {&quot;title&quot;=&quot;mytitle&quot;, &quot;iss&quot;=&quot;https://google.com&quot;}\r\n\r\nThen when I tried to convert it to JSON object with `GSON`, \r\n\r\n    Map&lt;String, ? extends Object&gt; objectMap= GSON.fromJson(myMap.toString(), Map.class);\r\n\r\nit encountered. \r\n\r\n    Unterminated object at line 1 column 34 path $.\r\n\r\nwhere I can see is the forward slash that caused the issue\r\n\r\nIs there any API or function I can use to keep the double quote when convert map object to string or any method to let GSON avoid the `/` validation? I tried `setLient()` but it didn&#39;t work.\r\n\r\n**Edit**:\r\nThe reason I can&#39;t use `GSON.toJson(object)` is because this [thread][1] GSON parse the array as TreeMap due to the extra `values` under the `role` entry\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/77455730/how-to-convert-nested-list-to-json-object-with-gson","title":"GSON convert String to JSON with url in the value","body":"<p>I converted a Map object to String with <code>toString()</code> method. However, it striped double quotes from each key and value</p>\n<pre><code>{title=mytitle, iss=https://google.com}\ninstead of \n{&quot;title&quot;=&quot;mytitle&quot;, &quot;iss&quot;=&quot;https://google.com&quot;}\n</code></pre>\n<p>Then when I tried to convert it to JSON object with <code>GSON</code>,</p>\n<pre><code>Map&lt;String, ? extends Object&gt; objectMap= GSON.fromJson(myMap.toString(), Map.class);\n</code></pre>\n<p>it encountered.</p>\n<pre><code>Unterminated object at line 1 column 34 path $.\n</code></pre>\n<p>where I can see is the forward slash that caused the issue</p>\n<p>Is there any API or function I can use to keep the double quote when convert map object to string or any method to let GSON avoid the <code>/</code> validation? I tried <code>setLient()</code> but it didn't work.</p>\n<p><strong>Edit</strong>:\nThe reason I can't use <code>GSON.toJson(object)</code> is because this <a href=\"https://stackoverflow.com/questions/77455730/how-to-convert-nested-list-to-json-object-with-gson\">thread</a> GSON parse the array as TreeMap due to the extra <code>values</code> under the <code>role</code> entry</p>\n"},{"tags":["java","talend"],"comments":[{"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"score":1,"creation_date":1699741896,"post_id":77455125,"comment_id":136570231,"body_markdown":"Check if the Snowflake connection is AUTOCOMMIT ON.","body":"Check if the Snowflake connection is AUTOCOMMIT ON."},{"owner":{"account_id":20060396,"reputation":377,"user_id":14707253,"display_name":"Emile Dadou"},"score":0,"creation_date":1699867628,"post_id":77455125,"comment_id":136580303,"body_markdown":"Hi I checked, for all of our Snowflake connections the AutoCommit is checked by default","body":"Hi I checked, for all of our Snowflake connections the AutoCommit is checked by default"}],"owner":{"account_id":20060396,"reputation":377,"user_id":14707253,"display_name":"Emile Dadou"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699574161,"creation_date":1699549835,"question_id":77455125,"body_markdown":"I have 2 tables one DWH that contains the data that needs to be insert / updated and ODS that contains the latest unprocessed data.\r\n\r\nHere is the DDL of the two tables : \r\n\r\n- ODS\r\n\r\n    create or replace TABLE ODS.ATT_HFSQL_ETTCTCP (\r\n    \tCTCSOC VARCHAR(5),\r\n    \tCTCAGE VARCHAR(5),\r\n    \tCTCCLI VARCHAR(10),\r\n    \tCTCAFF VARCHAR(10),\r\n    \tCTCMAN VARCHAR(16777216),\r\n    \tCTCCHG VARCHAR(10),\r\n    \tCTCCDE VARCHAR(10),\r\n    \tCTCLIG VARCHAR(10),\r\n    \tCTCSLI VARCHAR(10),\r\n    \tCTCPAG VARCHAR(10),\r\n    \tCTCPER VARCHAR(10),\r\n    \tCTCCTR VARCHAR(10),\r\n    \tCTCAVE VARCHAR(10),\r\n    \tCTCQUA VARCHAR(10),\r\n    \tCTCPON VARCHAR(10),\r\n    \tCTCPOE VARCHAR(10),\r\n    \tCTCPOC VARCHAR(10),\r\n    \tCTCMOT VARCHAR(20),\r\n    \tCTCACT VARCHAR(10),\r\n    \tCTCTER VARCHAR(20),\r\n    \tCTCDEB VARCHAR(20),\r\n    \tCTCFIN VARCHAR(20),\r\n    \tCTCREL VARCHAR(20),\r\n    \tCTCXFI VARCHAR(20),\r\n    \tCTCXF2 VARCHAR(20),\r\n    \tCTCFMO VARCHAR(20),\r\n    \tCTCDAV VARCHAR(20),\r\n    \tCTCFII VARCHAR(20),\r\n    \tCTCFPV VARCHAR(20),\r\n    \tCTCHRE VARCHAR(10),\r\n    \tCTCESS VARCHAR(10),\r\n    \tCTCDUR VARCHAR(10),\r\n    \tCTCSAL VARCHAR(10),\r\n    \tCTCSNH VARCHAR(10),\r\n    \tCTCCOE VARCHAR(10),\r\n    \tCTCSTA VARCHAR(10),\r\n    \tCTCJOD VARCHAR(10),\r\n    \tCTCJOF VARCHAR(10),\r\n    \tCTCTYC VARCHAR(10),\r\n    \tCTCCAT VARCHAR(10),\r\n    \tCTCFBU VARCHAR(10),\r\n    \tCTCREF VARCHAR(100),\r\n    \tCTCMEX VARCHAR(10),\r\n    \tCTCDUE VARCHAR(10),\r\n    \tCTCCD3 VARCHAR(20),\r\n    \tDATCRE VARCHAR(20),\r\n    \tDATMOD VARCHAR(20),\r\n    \tDATE_CHARGEMENT TIMESTAMP_NTZ(9)\r\n    );\r\n\r\n- DWH\r\n\r\n    create or replace TABLE PRD_DWH_SOFINORD.ATT.ATT_CONTRAT (\r\n\tCD_SOCIETE VARCHAR(20) NOT NULL,\r\n\tCD_AGENCE VARCHAR(10) NOT NULL,\r\n\tNUM_CONTRAT_TT VARCHAR(10) NOT NULL,\r\n\tCD_CLIENT VARCHAR(10),\r\n\tCD_SITE VARCHAR(10),\r\n\tCD_CHARGE_AFFAIRE VARCHAR(10),\r\n\tNUM_MATRICULE_TT VARCHAR(10),\r\n\tCD_QUALIF VARCHAR(10),\r\n\tCD_MOTIF_DEBUT VARCHAR(10),\r\n\tCD_TERME VARCHAR(10),\r\n\tDT_DEBUT_CONTRAT DATE,\r\n\tDT_FIN_CONTRAT DATE,\r\n\tHE_DEBUT_CONTRAT TIME(9),\r\n\tDT_AVENANT DATE,\r\n\tNB_ESSAI NUMBER(38,0),\r\n\tMT_SALAIRE_REF FLOAT,\r\n\tNB_HEURE_REF FLOAT,\r\n\tNB_HEURE_HEBDO FLOAT,\r\n\tCD_TYPE_CONTRAT VARCHAR(10),\r\n\tCD_ACTIVITE VARCHAR(10),\r\n\tCD_MOTIF_FIN VARCHAR(10),\r\n\tDT_FIN_REEL DATE,\r\n\tDT_DPAE DATE,\r\n\tNUM_COMMANDE VARCHAR(100),\r\n\tNUM_COMMANDE_INTERNE VARCHAR(10),\r\n\tTX_COEFF FLOAT,\r\n\tCD_STATUT VARCHAR(10),\r\n\tDT_CREATION DATE,\r\n\tDT_MODIFICATION DATE,\r\n\tCD_SOURCE VARCHAR(10),\r\n\tDT_CHARGEMENT TIMESTAMP_NTZ(9),\r\n\tconstraint PK_ATT_CONTRAT primary key (CD_SOCIETE, CD_AGENCE, NUM_CONTRAT_TT)\r\n);\r\n\r\nI have a simple job that &#39;SELECT&#39; the data from the ODS and UPSERT it in the DWH : \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAnd for the configuration of the tDBOutput component (it is configured for UPSERT) : \r\n\r\n[![enter image description here][2]][2]\r\n\r\nAnd the schema in input of the tDBOutput : \r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nSo now in the DWH I have a row with the key : CD_SOCIETE = &#39;006&#39; AND CD_AGENCE = &#39;F15&#39; AND NUM_CONTRAT_TT = &#39;201518&#39; and when I check in the DWH table I have for example a DT_MODIFICATION column set at  : 2023-09-15 and in the incoming data with the row with the same key :\r\n \r\n[![enter image description here][4]][4]\r\n\r\nI have the new data for the same field : 2023-11-09\r\n\r\nAnd after the execution I have no errors, reject but the data isn&#39;t updated : \r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\nAnd here is the expected data : \r\n\r\n[![enter image description here][6]][6]\r\n\r\nI have no clue why the update isn&#39;t happening.\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rHdOe.png\r\n  [2]: https://i.stack.imgur.com/38QX8.png\r\n  [3]: https://i.stack.imgur.com/ScWwB.png\r\n  [4]: https://i.stack.imgur.com/X9gow.png\r\n  [5]: https://i.stack.imgur.com/9FldM.png\r\n  [6]: https://i.stack.imgur.com/OHGDY.png","title":"Talend - Snowflake : tDBOutput UPSERT / UPDATE doesn&#39;t update data","body":"<p>I have 2 tables one DWH that contains the data that needs to be insert / updated and ODS that contains the latest unprocessed data.</p>\n<p>Here is the DDL of the two tables :</p>\n<ul>\n<li><p>ODS</p>\n<p>create or replace TABLE ODS.ATT_HFSQL_ETTCTCP (\nCTCSOC VARCHAR(5),\nCTCAGE VARCHAR(5),\nCTCCLI VARCHAR(10),\nCTCAFF VARCHAR(10),\nCTCMAN VARCHAR(16777216),\nCTCCHG VARCHAR(10),\nCTCCDE VARCHAR(10),\nCTCLIG VARCHAR(10),\nCTCSLI VARCHAR(10),\nCTCPAG VARCHAR(10),\nCTCPER VARCHAR(10),\nCTCCTR VARCHAR(10),\nCTCAVE VARCHAR(10),\nCTCQUA VARCHAR(10),\nCTCPON VARCHAR(10),\nCTCPOE VARCHAR(10),\nCTCPOC VARCHAR(10),\nCTCMOT VARCHAR(20),\nCTCACT VARCHAR(10),\nCTCTER VARCHAR(20),\nCTCDEB VARCHAR(20),\nCTCFIN VARCHAR(20),\nCTCREL VARCHAR(20),\nCTCXFI VARCHAR(20),\nCTCXF2 VARCHAR(20),\nCTCFMO VARCHAR(20),\nCTCDAV VARCHAR(20),\nCTCFII VARCHAR(20),\nCTCFPV VARCHAR(20),\nCTCHRE VARCHAR(10),\nCTCESS VARCHAR(10),\nCTCDUR VARCHAR(10),\nCTCSAL VARCHAR(10),\nCTCSNH VARCHAR(10),\nCTCCOE VARCHAR(10),\nCTCSTA VARCHAR(10),\nCTCJOD VARCHAR(10),\nCTCJOF VARCHAR(10),\nCTCTYC VARCHAR(10),\nCTCCAT VARCHAR(10),\nCTCFBU VARCHAR(10),\nCTCREF VARCHAR(100),\nCTCMEX VARCHAR(10),\nCTCDUE VARCHAR(10),\nCTCCD3 VARCHAR(20),\nDATCRE VARCHAR(20),\nDATMOD VARCHAR(20),\nDATE_CHARGEMENT TIMESTAMP_NTZ(9)\n);</p>\n</li>\n<li><p>DWH</p>\n<p>create or replace TABLE PRD_DWH_SOFINORD.ATT.ATT_CONTRAT (\nCD_SOCIETE VARCHAR(20) NOT NULL,\nCD_AGENCE VARCHAR(10) NOT NULL,\nNUM_CONTRAT_TT VARCHAR(10) NOT NULL,\nCD_CLIENT VARCHAR(10),\nCD_SITE VARCHAR(10),\nCD_CHARGE_AFFAIRE VARCHAR(10),\nNUM_MATRICULE_TT VARCHAR(10),\nCD_QUALIF VARCHAR(10),\nCD_MOTIF_DEBUT VARCHAR(10),\nCD_TERME VARCHAR(10),\nDT_DEBUT_CONTRAT DATE,\nDT_FIN_CONTRAT DATE,\nHE_DEBUT_CONTRAT TIME(9),\nDT_AVENANT DATE,\nNB_ESSAI NUMBER(38,0),\nMT_SALAIRE_REF FLOAT,\nNB_HEURE_REF FLOAT,\nNB_HEURE_HEBDO FLOAT,\nCD_TYPE_CONTRAT VARCHAR(10),\nCD_ACTIVITE VARCHAR(10),\nCD_MOTIF_FIN VARCHAR(10),\nDT_FIN_REEL DATE,\nDT_DPAE DATE,\nNUM_COMMANDE VARCHAR(100),\nNUM_COMMANDE_INTERNE VARCHAR(10),\nTX_COEFF FLOAT,\nCD_STATUT VARCHAR(10),\nDT_CREATION DATE,\nDT_MODIFICATION DATE,\nCD_SOURCE VARCHAR(10),\nDT_CHARGEMENT TIMESTAMP_NTZ(9),\nconstraint PK_ATT_CONTRAT primary key (CD_SOCIETE, CD_AGENCE, NUM_CONTRAT_TT)\n);</p>\n</li>\n</ul>\n<p>I have a simple job that 'SELECT' the data from the ODS and UPSERT it in the DWH :</p>\n<p><a href=\"https://i.stack.imgur.com/rHdOe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rHdOe.png\" alt=\"enter image description here\" /></a></p>\n<p>And for the configuration of the tDBOutput component (it is configured for UPSERT) :</p>\n<p><a href=\"https://i.stack.imgur.com/38QX8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/38QX8.png\" alt=\"enter image description here\" /></a></p>\n<p>And the schema in input of the tDBOutput :</p>\n<p><a href=\"https://i.stack.imgur.com/ScWwB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ScWwB.png\" alt=\"enter image description here\" /></a></p>\n<p>So now in the DWH I have a row with the key : CD_SOCIETE = '006' AND CD_AGENCE = 'F15' AND NUM_CONTRAT_TT = '201518' and when I check in the DWH table I have for example a DT_MODIFICATION column set at  : 2023-09-15 and in the incoming data with the row with the same key :</p>\n<p><a href=\"https://i.stack.imgur.com/X9gow.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X9gow.png\" alt=\"enter image description here\" /></a></p>\n<p>I have the new data for the same field : 2023-11-09</p>\n<p>And after the execution I have no errors, reject but the data isn't updated :</p>\n<p><a href=\"https://i.stack.imgur.com/9FldM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9FldM.png\" alt=\"enter image description here\" /></a></p>\n<p>And here is the expected data :</p>\n<p><a href=\"https://i.stack.imgur.com/OHGDY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OHGDY.png\" alt=\"enter image description here\" /></a></p>\n<p>I have no clue why the update isn't happening.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1699573828,"post_id":77456963,"comment_id":136552754,"body_markdown":"`System.out.println(ZonedDateTime.parse(&quot;2023-11-06T10:28:45.774+00:00&quot;, DateTimeFormatter.ISO_DATE_TIME).format(DateTimeFormatter.ISO_INSTANT));` -&gt; `2023-11-06T10:28:45.774Z`","body":"<code>System.out.println(ZonedDateTime.parse(&quot;2023-11-06T10:28:45.&zwnj;&#8203;774+00:00&quot;, DateTimeFormatter.ISO_DATE_TIME).format(DateTimeFormatter.IS&zwnj;&#8203;O_INSTANT));</code> -&gt; <code>2023-11-06T10:28:45.774Z</code>"},{"owner":{"account_id":384206,"reputation":50376,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1699574070,"post_id":77456963,"comment_id":136552769,"body_markdown":"@MadProgrammer that looks like it one or two sentences to explain why. And then probably &quot;be an answer&quot; because that&#39;s just straight up an answer at that point =D","body":"@MadProgrammer that looks like it one or two sentences to explain why. And then probably &quot;be an answer&quot; because that&#39;s just straight up an answer at that point =D"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1699574147,"post_id":77456963,"comment_id":136552777,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans I think there might be a better way to achieve it, as I&#39;d be concerned about possible localisation issues, but that was just my &quot;quick hack&quot; attempt ;)","body":"@Mike&#39;Pomax&#39;Kamermans I think there might be a better way to achieve it, as I&#39;d be concerned about possible localisation issues, but that was just my &quot;quick hack&quot; attempt ;)"},{"owner":{"account_id":3580374,"reputation":108855,"user_id":2988730,"accept_rate":96,"display_name":"Mad Physicist"},"score":0,"creation_date":1699574152,"post_id":77456963,"comment_id":136552778,"body_markdown":"`s = s.replace(&quot;+00:00&quot;, &quot;Z&quot;)` :)","body":"<code>s = s.replace(&quot;+00:00&quot;, &quot;Z&quot;)</code> :)"},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1699574260,"post_id":77456963,"comment_id":136552792,"body_markdown":"I think this is a dup of many other questions; e.g. https://stackoverflow.com/questions/70384955,  The general answer (since Java 8) is use `java.time` classes, design or find the datetime patterns, and convert as per the first comment above.","body":"I think this is a dup of many other questions; e.g. <a href=\"https://stackoverflow.com/questions/70384955\">stackoverflow.com/questions/70384955</a>,  The general answer (since Java 8) is use <code>java.time</code> classes, design or find the datetime patterns, and convert as per the first comment above."},{"owner":{"account_id":25967898,"reputation":132,"user_id":19683595,"display_name":"pan-leszeczek"},"score":0,"creation_date":1699575233,"post_id":77456963,"comment_id":136552894,"body_markdown":"I&#39;d go with:\nString input = &quot;2023-11-05T11:11:11.771+05:00&quot;;\nZonedDateTime dateTimeValue = ZonedDateTime.parse(input, DateTimeFormatter.ISO_ZONED_DATE_TIME);\n       String expectedResult = dateTimeValue.format(DateTimeFormatter.ISO_INSTANT));\n\nthe answer linked above @StephenC is not perfect in my opinion because once you are creating your own patterns it&#39;s easy to loose accuracy due to Zone shift","body":"I&#39;d go with: String input = &quot;2023-11-05T11:11:11.771+05:00&quot;; ZonedDateTime dateTimeValue = ZonedDateTime.parse(input, DateTimeFormatter.ISO_ZONED_DATE_TIME);        String expectedResult = dateTimeValue.format(DateTimeFormatter.ISO_INSTANT));  the answer linked above @StephenC is not perfect in my opinion because once you are creating your own patterns it&#39;s easy to loose accuracy due to Zone shift"},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1699575895,"post_id":77456963,"comment_id":136552965,"body_markdown":"Huh?  I am talking about these patterns - `https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html`.  In this case you would use `X` to parse and `x` to format.  That is locale and local time zone independent.   (Now obviously, someone *could* create a pattern that is locale or timezone sensitive.  But we assume that programmers know not to do that.)","body":"Huh?  I am talking about these patterns - <code>https:&#47;&#47;docs.oracle.com&#47;javase&#47;8&#47;docs&#47;api&#47;java&#47;time&#47;format&#47;D&zwnj;&#8203;ateTimeFormatter.htm&zwnj;&#8203;l</code>.  In this case you would use <code>X</code> to parse and <code>x</code> to format.  That is locale and local time zone independent.   (Now obviously, someone <i>could</i> create a pattern that is locale or timezone sensitive.  But we assume that programmers know not to do that.)"},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1699576311,"post_id":77456963,"comment_id":136553004,"body_markdown":"Also note that I said that this the **general** solution and I said &quot;design **or find** the datetime patterns&quot;.  One of the ways to find existing patterns is to look in the javadocs for the classes where they would be defined.  Like `DateTimeFormatter` itself ... obviously.   (We shouldn&#39;t be training people to be google-and-cut-and-paste programmers.)","body":"Also note that I said that this the <b>general</b> solution and I said &quot;design <b>or find</b> the datetime patterns&quot;.  One of the ways to find existing patterns is to look in the javadocs for the classes where they would be defined.  Like <code>DateTimeFormatter</code> itself ... obviously.   (We shouldn&#39;t be training people to be google-and-cut-and-paste programmers.)"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1699574746,"answer_count":0,"score":0,"last_activity_date":1699573360,"creation_date":1699573360,"question_id":77456963,"body_markdown":"- What I would like to achieve:\r\n\r\nThe input is some timestamp, in what I believe in the format logs would create. Something like ```2023-11-05T11:11:11.771+00:00```\r\n\r\nI want to convert this to this specific format: ```2023-11-05T11:11:11.771Z``` with Java\r\n\r\n- What did I try:\r\n\r\n```\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        String s = &quot;2023-11-06T10:28:45.774+00:00&quot;;\r\n        long d = DateFormat.parse(s);\r\n        System.out.println(d);\r\n    }\r\n\r\n}\r\n```\r\n\r\n- Question:\r\n\r\nUnfortunately, this is not yielding the correct result.\r\nHow can I achieve this using Java 21, without having to bring external libraries if possible?","title":"Convert log timestamp into specific format from 2023-11-05T11:11:11.771+00:00 to 2023-11-05T11:11:11.771Z","body":"<ul>\n<li>What I would like to achieve:</li>\n</ul>\n<p>The input is some timestamp, in what I believe in the format logs would create. Something like <code>2023-11-05T11:11:11.771+00:00</code></p>\n<p>I want to convert this to this specific format: <code>2023-11-05T11:11:11.771Z</code> with Java</p>\n<ul>\n<li>What did I try:</li>\n</ul>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        String s = &quot;2023-11-06T10:28:45.774+00:00&quot;;\n        long d = DateFormat.parse(s);\n        System.out.println(d);\n    }\n\n}\n</code></pre>\n<ul>\n<li>Question:</li>\n</ul>\n<p>Unfortunately, this is not yielding the correct result.\nHow can I achieve this using Java 21, without having to bring external libraries if possible?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1699572814,"creation_date":1699572814,"answer_id":77456935,"question_id":77456905,"body_markdown":"&gt; I prefer write using this way\r\n\r\nAnd you should. Modern garbage collectors are heavily optimized for the use case of creating a bunch of short-lived objects. That&#39;s because the JVM&#39;s garbage collector (and, indeed, most garbage collectors these days) is *generational*. A generational garbage collector runs on the assumption that most objects being created in the system are either (a) extremely short lived, or (b) extremely long lived.\r\n\r\nThere&#39;s at least two separate generations in the garbage collector. For simplicity, I&#39;ll assume there&#39;s only two ([This](https://docs.oracle.com/javase/7/docs/technotes/guides/management/jconsole.html) seems to indicate that there&#39;s several, but that page is also fairly old)\r\n\r\n* All new objects are created in the &quot;young&quot; generation. The young generation is a smaller pool of memory and is cheap to construct and free. Most objects live very short lives in this generation. The &quot;young&quot; generation is relatively small and can be garbage-collected cheaply.\r\n* If an object survives enough &quot;young&quot; garbage-collections, it moves to the &quot;old&quot; generation. The &quot;old&quot; generation consists of longer-lived objects which are less likely to be freed. If a &quot;young&quot; garbage collection doesn&#39;t free enough memory, we&#39;ll go free the &quot;old&quot; generation next, which is a slower operation.\r\n\r\nSo to directly answer your question: Create short-lived objects to your heart&#39;s content, and trust that a high-level language like Java is smart enough to do smart things with your code. If you later discover (through profiling and benchmarking tools) that a particular hot code path is a bottleneck, then (and only then) you can talk about switching to lower-level constructs and eliminating allocations. But doing so now would be a premature optimization.\r\n\r\nRelated questions:\r\n\r\n* https://softwareengineering.stackexchange.com/questions/149563/should-we-avoid-object-creation-in-java\r\n* https://stackoverflow.com/questions/2129044/java-heap-terminology-young-old-and-permanent-generations","title":"Regarding creating new objects in a short time","body":"<blockquote>\n<p>I prefer write using this way</p>\n</blockquote>\n<p>And you should. Modern garbage collectors are heavily optimized for the use case of creating a bunch of short-lived objects. That's because the JVM's garbage collector (and, indeed, most garbage collectors these days) is <em>generational</em>. A generational garbage collector runs on the assumption that most objects being created in the system are either (a) extremely short lived, or (b) extremely long lived.</p>\n<p>There's at least two separate generations in the garbage collector. For simplicity, I'll assume there's only two (<a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/management/jconsole.html\" rel=\"nofollow noreferrer\">This</a> seems to indicate that there's several, but that page is also fairly old)</p>\n<ul>\n<li>All new objects are created in the &quot;young&quot; generation. The young generation is a smaller pool of memory and is cheap to construct and free. Most objects live very short lives in this generation. The &quot;young&quot; generation is relatively small and can be garbage-collected cheaply.</li>\n<li>If an object survives enough &quot;young&quot; garbage-collections, it moves to the &quot;old&quot; generation. The &quot;old&quot; generation consists of longer-lived objects which are less likely to be freed. If a &quot;young&quot; garbage collection doesn't free enough memory, we'll go free the &quot;old&quot; generation next, which is a slower operation.</li>\n</ul>\n<p>So to directly answer your question: Create short-lived objects to your heart's content, and trust that a high-level language like Java is smart enough to do smart things with your code. If you later discover (through profiling and benchmarking tools) that a particular hot code path is a bottleneck, then (and only then) you can talk about switching to lower-level constructs and eliminating allocations. But doing so now would be a premature optimization.</p>\n<p>Related questions:</p>\n<ul>\n<li><a href=\"https://softwareengineering.stackexchange.com/questions/149563/should-we-avoid-object-creation-in-java\">https://softwareengineering.stackexchange.com/questions/149563/should-we-avoid-object-creation-in-java</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2129044/java-heap-terminology-young-old-and-permanent-generations\">Java heap terminology: young, old and permanent generations?</a></li>\n</ul>\n"}],"owner":{"account_id":29509417,"reputation":41,"user_id":22614791,"display_name":"edith finch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77456935,"answer_count":1,"score":1,"last_activity_date":1699572814,"creation_date":1699572199,"question_id":77456905,"body_markdown":"I&#39;m using `JDK-21` and i&#39;m trying to create an A.I. system for a MMORPG game. I prefer writting code using stream/Optional that is available within java library rather than if/for. \r\n\r\nMy code execute every 400ms for a big number of A.I. players. This mean 400-500 players can execute around 20 Optionals per 400 ms. This mean java create 4.000 Optionals objects per 400 ms. Is this bad? Will this cause issues later on? Garbage collector can handle this task? I&#39;m overthinking sometimes that making such complex codes using Optionals and generate more and more can lead into RAM issues later on. \r\n\r\n\r\n\r\nI prefer write using this way\r\n\r\n","title":"Regarding creating new objects in a short time","body":"<p>I'm using <code>JDK-21</code> and i'm trying to create an A.I. system for a MMORPG game. I prefer writting code using stream/Optional that is available within java library rather than if/for.</p>\n<p>My code execute every 400ms for a big number of A.I. players. This mean 400-500 players can execute around 20 Optionals per 400 ms. This mean java create 4.000 Optionals objects per 400 ms. Is this bad? Will this cause issues later on? Garbage collector can handle this task? I'm overthinking sometimes that making such complex codes using Optionals and generate more and more can lead into RAM issues later on.</p>\n<p>I prefer write using this way</p>\n"},{"tags":["java","maven","osgi","classpath"],"comments":[{"owner":{"account_id":14423201,"reputation":840,"user_id":10418725,"display_name":"Jorn Rigter"},"score":0,"creation_date":1699608407,"post_id":77454619,"comment_id":136556140,"body_markdown":"Is it a full path? Or relative path? Adding the path details to the question will help","body":"Is it a full path? Or relative path? Adding the path details to the question will help"}],"answers":[{"tags":[],"owner":{"account_id":18117615,"reputation":136,"user_id":13174087,"display_name":"Greenylie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699572484,"creation_date":1699572484,"answer_id":77456923,"question_id":77454619,"body_markdown":"You should try to resolve the resource in the Parent jar before passing it to the Child jar, an example would be with [URL][1]:\r\n\r\n    import java.net.URL;\r\n    \r\n    URL urlToFile = this.getClass().getResource(&quot;path/to/file&quot;);\r\n    ChildJar childJar.methodThatRequiresParentResource(urlToFile);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/net/URL.html","title":"How can Child jar access a resource present on parent Jar&#39;s classpath?","body":"<p>You should try to resolve the resource in the Parent jar before passing it to the Child jar, an example would be with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/URL.html\" rel=\"nofollow noreferrer\">URL</a>:</p>\n<pre><code>import java.net.URL;\n\nURL urlToFile = this.getClass().getResource(&quot;path/to/file&quot;);\nChildJar childJar.methodThatRequiresParentResource(urlToFile);\n</code></pre>\n"}],"owner":{"account_id":29865483,"reputation":1,"user_id":22888217,"display_name":"Gam Sham"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699572484,"creation_date":1699545452,"question_id":77454619,"body_markdown":"I have parent jar. This parent jar has a resource on its classpath. This parent jar has some 3rd party dependency jar embedded in it (child jar). The child jar has some java code which tries to access a file using a path \r\n```\r\nnew File(pathToParentResourceFile)\r\n```\r\n\r\nThis gives a file not found exception. The file is accessible in Parent jar. If I pass this file path to child jar then it seems inaccessible.\r\n\r\nNOTE - i cannot edit code of child JAR as it is 3rd party library.\r\n\r\nMy jar is an osgi bundle. I can access the resource in Parent Jar in multiple ways. once I get the resource, I get the path also. But when this path is used by child jar then file is not found.","title":"How can Child jar access a resource present on parent Jar&#39;s classpath?","body":"<p>I have parent jar. This parent jar has a resource on its classpath. This parent jar has some 3rd party dependency jar embedded in it (child jar). The child jar has some java code which tries to access a file using a path</p>\n<pre><code>new File(pathToParentResourceFile)\n</code></pre>\n<p>This gives a file not found exception. The file is accessible in Parent jar. If I pass this file path to child jar then it seems inaccessible.</p>\n<p>NOTE - i cannot edit code of child JAR as it is 3rd party library.</p>\n<p>My jar is an osgi bundle. I can access the resource in Parent Jar in multiple ways. once I get the resource, I get the path also. But when this path is used by child jar then file is not found.</p>\n"},{"tags":["java","aws-lambda","ipv6","alexa-skills-kit"],"comments":[{"owner":{"account_id":1677570,"reputation":18354,"user_id":1542723,"display_name":"Ferrybig"},"score":1,"creation_date":1484649079,"post_id":41694477,"comment_id":70585382,"body_markdown":"You cannot access IPv6 addresses from an IPv4 only place (unless you use certain tunneling software like Teredo)","body":"You cannot access IPv6 addresses from an IPv4 only place (unless you use certain tunneling software like Teredo)"}],"answers":[{"tags":[],"owner":{"account_id":1068389,"reputation":9810,"user_id":1068283,"accept_rate":100,"display_name":"Michael Hampton"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1484688182,"creation_date":1484688182,"answer_id":41707241,"question_id":41694477,"body_markdown":"The error `Protocol family unavailable` means that the protocol (in this case IPv6) is not available or not configured on the system on which your code is running.\r\n\r\nIn the case of AWS, the only thing you can do about this is to complain and hope they eventually roll out IPv6 support to services which don&#39;t yet have it.","title":"How to call a IPv6 REST service over AWS Lambda","body":"<p>The error <code>Protocol family unavailable</code> means that the protocol (in this case IPv6) is not available or not configured on the system on which your code is running.</p>\n\n<p>In the case of AWS, the only thing you can do about this is to complain and hope they eventually roll out IPv6 support to services which don't yet have it.</p>\n"},{"tags":[],"owner":{"account_id":12449657,"reputation":11,"user_id":9064703,"display_name":"Damian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525143629,"creation_date":1525141220,"answer_id":50110613,"question_id":41694477,"body_markdown":"After quite an extensive research and tests the word is: IPv6 is not available for Lambda. This goes a bit further if you run your Lambda functions inside a VPC.\r\n\r\nIf your function is associated with a subnet that includes IPv6 CIDR then no amount of correct config will get your Lambda to access external resources.\r\n\r\nYou will be able to do API calls to some of the AWS resources available as VPC endpoints. This includes services like S3 and Dynamo, they will get an internal IP within your VPC. Services like SQS are not supported under VPC endpoint so will get external resolution.\r\n\r\nAny service or external API call that goes outside your VPC will fail with IPv6 CIDR. The only way to go around this is to remove IPv6 CIDR from the subnet or create a dedicated subnets just for your Lambda functions.\r\n\r\nWe have opted for the latter option and all is working great with appropriate VPC security and routing policies applied.","title":"How to call a IPv6 REST service over AWS Lambda","body":"<p>After quite an extensive research and tests the word is: IPv6 is not available for Lambda. This goes a bit further if you run your Lambda functions inside a VPC.</p>\n\n<p>If your function is associated with a subnet that includes IPv6 CIDR then no amount of correct config will get your Lambda to access external resources.</p>\n\n<p>You will be able to do API calls to some of the AWS resources available as VPC endpoints. This includes services like S3 and Dynamo, they will get an internal IP within your VPC. Services like SQS are not supported under VPC endpoint so will get external resolution.</p>\n\n<p>Any service or external API call that goes outside your VPC will fail with IPv6 CIDR. The only way to go around this is to remove IPv6 CIDR from the subnet or create a dedicated subnets just for your Lambda functions.</p>\n\n<p>We have opted for the latter option and all is working great with appropriate VPC security and routing policies applied.</p>\n"},{"tags":[],"owner":{"account_id":1695687,"reputation":51,"user_id":1557105,"display_name":"unaiur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699571961,"creation_date":1699571961,"answer_id":77456887,"question_id":41694477,"body_markdown":"Finally, AWS have added IPv6 support to AWS Lambda service but you need to configure a custom VPC. More details at https://aws.amazon.com/about-aws/whats-new/2023/10/aws-lambda-ipv6-outbound-connections-vpc/","title":"How to call a IPv6 REST service over AWS Lambda","body":"<p>Finally, AWS have added IPv6 support to AWS Lambda service but you need to configure a custom VPC. More details at <a href=\"https://aws.amazon.com/about-aws/whats-new/2023/10/aws-lambda-ipv6-outbound-connections-vpc/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/about-aws/whats-new/2023/10/aws-lambda-ipv6-outbound-connections-vpc/</a></p>\n"}],"owner":{"account_id":2606259,"reputation":2527,"user_id":2257374,"accept_rate":64,"display_name":"marc3l"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3805,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77456887,"answer_count":3,"score":2,"last_activity_date":1699571961,"creation_date":1484648339,"question_id":41694477,"body_markdown":"I&#39;ve got an Alexa Skill hosted in AWS Lambda which uses `AsyncHttpClient` to call an `IPv6` REST service under the following EXAMPLE URL:\r\n\r\n    http://[2a12:5375:4151:2300:1353:a632:5f4e:c232]:4711/rest/test\r\n\r\nNow my problem is, that I always get the following exception:\r\n\r\n    ava.util.concurrent.ExecutionException: java.net.ConnectException: Protocol family unavailable\r\n\r\nIf I check the IP address which is assigned to the underlying server or the application?, I get the following address (also example):\r\n\r\n    ip-10-23-56-1.eu-west-1.compute.internal: 10.23.56.1\r\n\r\nSo I think, because I am using an IPv6 while the system uses IPv4, I can&#39;t get it working? \r\nI can call my REST service from another server successfully.\r\n\r\nI am also using the following system properties:\r\n\r\n    System.setProperty(&quot;java.net.preferIPv6Addresses&quot;, &quot;true&quot;);\r\n    System.setProperty(&quot;java.net.preferIPv4Stack&quot;, &quot;false&quot;);\r\n\r\nIs there any solution to provide a &#39;tunnel&#39; over the IPv4 underlying system to tunnel the IPv6 address to call the REST service? Or is there any simpler solution?","title":"How to call a IPv6 REST service over AWS Lambda","body":"<p>I've got an Alexa Skill hosted in AWS Lambda which uses <code>AsyncHttpClient</code> to call an <code>IPv6</code> REST service under the following EXAMPLE URL:</p>\n\n<pre><code>http://[2a12:5375:4151:2300:1353:a632:5f4e:c232]:4711/rest/test\n</code></pre>\n\n<p>Now my problem is, that I always get the following exception:</p>\n\n<pre><code>ava.util.concurrent.ExecutionException: java.net.ConnectException: Protocol family unavailable\n</code></pre>\n\n<p>If I check the IP address which is assigned to the underlying server or the application?, I get the following address (also example):</p>\n\n<pre><code>ip-10-23-56-1.eu-west-1.compute.internal: 10.23.56.1\n</code></pre>\n\n<p>So I think, because I am using an IPv6 while the system uses IPv4, I can't get it working? \nI can call my REST service from another server successfully.</p>\n\n<p>I am also using the following system properties:</p>\n\n<pre><code>System.setProperty(\"java.net.preferIPv6Addresses\", \"true\");\nSystem.setProperty(\"java.net.preferIPv4Stack\", \"false\");\n</code></pre>\n\n<p>Is there any solution to provide a 'tunnel' over the IPv4 underlying system to tunnel the IPv6 address to call the REST service? Or is there any simpler solution?</p>\n"},{"tags":["java","maven","pom.xml","jax-ws","java-17"],"owner":{"account_id":2069003,"reputation":35,"user_id":1843878,"display_name":"mcs130"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699571190,"creation_date":1699571190,"question_id":77456843,"body_markdown":"I have been digging to understand why a simple Java class w/ a main() method that attempts to instantiate a client proxy client call to a JAX-WS web service running on WildFly v27 keeps failing w/ an exception related to jakarta.xml.ws.spi.Provider.\r\n\r\n - The client app is built using Maven (JAR artifact) based on the\r\n   pom.xml shown \r\n-  JDK is Corretto v17 No compile errors are seen.  \r\n-  JAR is created w/ the expected content which is only a few class files.\r\n\r\nJava client to test\r\nWSDL URL works fine\r\nDebugger using &quot;Step Into&quot; reaches into jakarta.xml.ws.Service.(Service.java:82) before it all comes apart as shown in the stack trace.  \r\n\r\nIt&#39;s clearly a runtime classpath issues, I have applied suggested changes  to the pom.xml (what is shown is the current state) and have not been able to get this to create the simple call to the RUNNING service.  The various changes (from online researching and articles related to similar issues)\r\n\r\nI hope I am just missing the obvious and making a mindless error -it&#39;s not clear to me why this does not work.   \r\n\r\n```\r\npackage com.example.jaxws.ws.client;\r\n\r\nimport jakarta.xml.ws.Service;\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\n\r\nimport javax.xml.namespace.QName;\r\nimport java.net.URL;\r\n\r\n\r\npublic class WSClient {\r\n    private static final Logger logger = LogManager.getLogger(WSClient.class);\r\n\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            WSClient wsClient = new WSClient();\r\n\r\n            URL url = new URL(&quot;http://localhost:8080/employee-service/EmployeeService?wsdl&quot;);\r\n            QName qName = new QName(&quot;http://localhost:8080/employee-service/EmployeeService&quot;);\r\n\r\n            Service service1 = Service.create(url, qName); // exception occurs on this line\r\n\r\n            EmployeeService employeeService = service1.getPort(EmployeeService.class);\r\n            Employee employee = employeeService.getEmployee(9000);\r\n            System.out.println(&quot;Employee:&quot; + employee.toString());\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nInterface \r\n\r\n```\r\npackage com.example.jaxws.ws.client;\r\n\r\nimport jakarta.jws.WebMethod;\r\nimport jakarta.jws.WebParam;\r\nimport jakarta.jws.WebService;\r\nimport jakarta.jws.soap.SOAPBinding;\r\n\r\n@WebService\r\n@SOAPBinding(style= SOAPBinding.Style.DOCUMENT)\r\npublic interface EmployeeService {\r\n\r\n    @WebMethod\r\n    public Employee getEmployee(@WebParam(name = &quot;id&quot;, targetNamespace = &quot;http://ws.jaxws.example.com/&quot;) int id);\r\n    @WebMethod\r\n    Employee addEmployee(int id, String name);\r\n}\r\n\r\n```\r\n\r\nPOJO class\r\n\r\n```\r\npackage com.example.jaxws.ws.client;\r\n\r\nimport jakarta.xml.bind.annotation.XmlRootElement;\r\nimport jakarta.xml.bind.annotation.XmlType;\r\n\r\n@XmlRootElement(name = &quot;Employee&quot;)\r\n@XmlType()\r\npublic class Employee {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n    private int id;\r\n\r\n    private String name;\r\n\r\n    public Employee() {\r\n    }\r\n\r\n    public Employee(int id, String name) {\r\n        this.id = id;\r\n        this.name = name;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Employee{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n\r\npom.xml\r\n\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;JAXWS_Client-NEW&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;JAXWS_Client-NEW&lt;/name&gt;\r\n\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.20.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.spec.jakarta.xml.ws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jboss-jakarta-xml-ws-api_4.0_spec&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\r\n            &lt;version&gt;2.20.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.3&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxws-ri&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.3&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rt&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.2&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.xml.soap&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.xml.soap-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nStack trace at console: \r\n\r\n```\r\njava.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:375)\r\n\tat jakarta.xml.ws.spi.FactoryFinder.isOsgi(FactoryFinder.java:214)\r\n\tat jakarta.xml.ws.spi.FactoryFinder.find(FactoryFinder.java:124)\r\n\tat jakarta.xml.ws.spi.Provider.provider(Provider.java:64)\r\n\tat jakarta.xml.ws.Service.&lt;init&gt;(Service.java:82)\r\n\tat jakarta.xml.ws.Service.create(Service.java:735)\r\n\tat com.example.jaxws.ws.client.WSClient.main(WSClient.java:21)\r\n\r\njakarta.xml.ws.WebServiceException: Unable to createEndpointReference Provider\r\n\tat jakarta.xml.ws.spi.Provider.provider(Provider.java:68)\r\n\tat jakarta.xml.ws.Service.&lt;init&gt;(Service.java:82)\r\n\tat jakarta.xml.ws.Service.create(Service.java:735)\r\n\tat com.example.jaxws.ws.client.WSClient.main(WSClient.java:21)\r\nCaused by: java.lang.ClassCastException: class com.sun.xml.ws.spi.ProviderImpl cannot be cast to class jakarta.xml.ws.spi.Provider (com.sun.xml.ws.spi.ProviderImpl and jakarta.xml.ws.spi.Provider are in unnamed module of loader &#39;app&#39;)\r\n\tat jakarta.xml.ws.spi.Provider.provider(Provider.java:64)\r\n\r\n\r\n```\r\n\r\n\r\n\r\n","title":"JAX-WS Web Service Client - JDK 17 - simple Java client w/ a main() - Fails","body":"<p>I have been digging to understand why a simple Java class w/ a main() method that attempts to instantiate a client proxy client call to a JAX-WS web service running on WildFly v27 keeps failing w/ an exception related to jakarta.xml.ws.spi.Provider.</p>\n<ul>\n<li>The client app is built using Maven (JAR artifact) based on the\npom.xml shown</li>\n<li>JDK is Corretto v17 No compile errors are seen.</li>\n<li>JAR is created w/ the expected content which is only a few class files.</li>\n</ul>\n<p>Java client to test\nWSDL URL works fine\nDebugger using &quot;Step Into&quot; reaches into jakarta.xml.ws.Service.(Service.java:82) before it all comes apart as shown in the stack trace.</p>\n<p>It's clearly a runtime classpath issues, I have applied suggested changes  to the pom.xml (what is shown is the current state) and have not been able to get this to create the simple call to the RUNNING service.  The various changes (from online researching and articles related to similar issues)</p>\n<p>I hope I am just missing the obvious and making a mindless error -it's not clear to me why this does not work.</p>\n<pre><code>package com.example.jaxws.ws.client;\n\nimport jakarta.xml.ws.Service;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\n\nimport javax.xml.namespace.QName;\nimport java.net.URL;\n\n\npublic class WSClient {\n    private static final Logger logger = LogManager.getLogger(WSClient.class);\n\n\n    public static void main(String[] args) {\n        try {\n            WSClient wsClient = new WSClient();\n\n            URL url = new URL(&quot;http://localhost:8080/employee-service/EmployeeService?wsdl&quot;);\n            QName qName = new QName(&quot;http://localhost:8080/employee-service/EmployeeService&quot;);\n\n            Service service1 = Service.create(url, qName); // exception occurs on this line\n\n            EmployeeService employeeService = service1.getPort(EmployeeService.class);\n            Employee employee = employeeService.getEmployee(9000);\n            System.out.println(&quot;Employee:&quot; + employee.toString());\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n<p>Interface</p>\n<pre><code>package com.example.jaxws.ws.client;\n\nimport jakarta.jws.WebMethod;\nimport jakarta.jws.WebParam;\nimport jakarta.jws.WebService;\nimport jakarta.jws.soap.SOAPBinding;\n\n@WebService\n@SOAPBinding(style= SOAPBinding.Style.DOCUMENT)\npublic interface EmployeeService {\n\n    @WebMethod\n    public Employee getEmployee(@WebParam(name = &quot;id&quot;, targetNamespace = &quot;http://ws.jaxws.example.com/&quot;) int id);\n    @WebMethod\n    Employee addEmployee(int id, String name);\n}\n\n</code></pre>\n<p>POJO class</p>\n<pre><code>package com.example.jaxws.ws.client;\n\nimport jakarta.xml.bind.annotation.XmlRootElement;\nimport jakarta.xml.bind.annotation.XmlType;\n\n@XmlRootElement(name = &quot;Employee&quot;)\n@XmlType()\npublic class Employee {\n\n    private static final long serialVersionUID = 1L;\n    private int id;\n\n    private String name;\n\n    public Employee() {\n    }\n\n    public Employee(int id, String name) {\n        this.id = id;\n        this.name = name;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Employee{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, name='&quot; + name + '\\'' +\n                '}';\n    }\n\n\n}\n\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;JAXWS_Client-NEW&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;JAXWS_Client-NEW&lt;/name&gt;\n\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.20.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.spec.jakarta.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;jboss-jakarta-xml-ws-api_4.0_spec&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\n            &lt;version&gt;2.20.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\n            &lt;version&gt;2.3.3&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxws-ri&lt;/artifactId&gt;\n            &lt;version&gt;2.3.3&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;rt&lt;/artifactId&gt;\n            &lt;version&gt;2.3.2&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.xml.soap&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.xml.soap-api&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n\n&lt;/project&gt;\n\n</code></pre>\n<p>Stack trace at console:</p>\n<pre><code>java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:375)\n    at jakarta.xml.ws.spi.FactoryFinder.isOsgi(FactoryFinder.java:214)\n    at jakarta.xml.ws.spi.FactoryFinder.find(FactoryFinder.java:124)\n    at jakarta.xml.ws.spi.Provider.provider(Provider.java:64)\n    at jakarta.xml.ws.Service.&lt;init&gt;(Service.java:82)\n    at jakarta.xml.ws.Service.create(Service.java:735)\n    at com.example.jaxws.ws.client.WSClient.main(WSClient.java:21)\n\njakarta.xml.ws.WebServiceException: Unable to createEndpointReference Provider\n    at jakarta.xml.ws.spi.Provider.provider(Provider.java:68)\n    at jakarta.xml.ws.Service.&lt;init&gt;(Service.java:82)\n    at jakarta.xml.ws.Service.create(Service.java:735)\n    at com.example.jaxws.ws.client.WSClient.main(WSClient.java:21)\nCaused by: java.lang.ClassCastException: class com.sun.xml.ws.spi.ProviderImpl cannot be cast to class jakarta.xml.ws.spi.Provider (com.sun.xml.ws.spi.ProviderImpl and jakarta.xml.ws.spi.Provider are in unnamed module of loader 'app')\n    at jakarta.xml.ws.spi.Provider.provider(Provider.java:64)\n\n\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":2,"creation_date":1699448603,"post_id":77445734,"comment_id":136532217,"body_markdown":"You can fine early access versions under &quot;unsupported platforms&quot;.","body":"You can fine early access versions under &quot;unsupported platforms&quot;."},{"owner":{"account_id":29855162,"reputation":13,"user_id":22880168,"display_name":"Bernardo Sanson"},"score":0,"creation_date":1699539933,"post_id":77445734,"comment_id":136546969,"body_markdown":"@Jos&#233;Pereda  It&#39;s so strange because a few months ago I downloaded the aarch64 linux version from the website and now the team removed it.","body":"@Jos&#233;Pereda  It&#39;s so strange because a few months ago I downloaded the aarch64 linux version from the website and now the team removed it."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699570703,"creation_date":1699570108,"answer_id":77456776,"question_id":77445734,"body_markdown":"**Solution**\r\n\r\nIf you select the small checkbox to &quot;include older versions&quot; and choose any relatively recent version **that is not an LTS version**, then the JavaFX download options for linux aarch64 for that version are available as &quot;Unsupported Platform&quot; downloads. \r\n\r\nAs an example, when I did this, the Linux aarch64 JavaFX SDK gluon download early access 22-ea+16 version could be downloaded from:\r\n\r\n * [https://download2.gluonhq.com/openjfx/22/openjfx-22-ea+16_linux-aarch64_bin-sdk.zip][1]\r\n\r\nAnd the 21 (non-LTS) release version was available from:\r\n\r\n * [https://download2.gluonhq.com/openjfx/21/openjfx-21_linux-aarch64_bin-sdk.zip][2]\r\n\r\nThe above links may not be stable and I recommend you download via the Gluon download webpage:\r\n\r\n * https://gluonhq.com/products/javafx/\r\n\r\n[![screenshot][3]][3]\r\n\r\n**Alternative**\r\n\r\nBellSoft Liberica currently offers a &quot;Full JDK&quot; or &quot;Full JRE&quot; distribution that includes JavaFX for Linux arm64 (JDK 21):\r\n\r\n * https://bell-sw.com/pages/downloads/#jdk-21-lts \r\n\r\n**FAQ**\r\n\r\n&gt; It&#39;s so strange because a few months ago I downloaded the aarch64 linux version from the website and now the team removed it. \r\n\r\nThe current stable JavaFX version displayed on the JavaFX download page is a 21.x branch which is an LTS (long-term support) release (this may change with time).\r\n\r\nFrom my understanding, Gluon doesn&#39;t offer long-term support for the aarch64 linux versions, so it does not show up as an option when an LTS version is selected for download.  The same is true for older LTS versions like 17.\r\n\r\nPreviously, the current stable JavaFX version displayed on the JavaFX download page was, for example, 20, 19, or 18.  Those aren&#39;t LTS releases, so the aarch64 download shows up for those releases as a downloadable version under &quot;Unsupported Platforms&quot;.  Perhaps, when JavaFX 22 is released, that will be the default version selected on the Gluon download page, and the &quot;Unsupported Platforms&quot; section there will reference the Linux aarch64 version.\r\n\r\n  [1]: https://download2.gluonhq.com/openjfx/22/openjfx-22-ea+16_linux-aarch64_bin-sdk.zip\r\n  [2]: https://download2.gluonhq.com/openjfx/21/openjfx-21_linux-aarch64_bin-sdk.zip\r\n  [3]: https://i.stack.imgur.com/mxpyT.png","title":"I can&#39;t find the linux version for aarch64 to download","body":"<p><strong>Solution</strong></p>\n<p>If you select the small checkbox to &quot;include older versions&quot; and choose any relatively recent version <strong>that is not an LTS version</strong>, then the JavaFX download options for linux aarch64 for that version are available as &quot;Unsupported Platform&quot; downloads.</p>\n<p>As an example, when I did this, the Linux aarch64 JavaFX SDK gluon download early access 22-ea+16 version could be downloaded from:</p>\n<ul>\n<li><a href=\"https://download2.gluonhq.com/openjfx/22/openjfx-22-ea+16_linux-aarch64_bin-sdk.zip\" rel=\"nofollow noreferrer\">https://download2.gluonhq.com/openjfx/22/openjfx-22-ea+16_linux-aarch64_bin-sdk.zip</a></li>\n</ul>\n<p>And the 21 (non-LTS) release version was available from:</p>\n<ul>\n<li><a href=\"https://download2.gluonhq.com/openjfx/21/openjfx-21_linux-aarch64_bin-sdk.zip\" rel=\"nofollow noreferrer\">https://download2.gluonhq.com/openjfx/21/openjfx-21_linux-aarch64_bin-sdk.zip</a></li>\n</ul>\n<p>The above links may not be stable and I recommend you download via the Gluon download webpage:</p>\n<ul>\n<li><a href=\"https://gluonhq.com/products/javafx/\" rel=\"nofollow noreferrer\">https://gluonhq.com/products/javafx/</a></li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/mxpyT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mxpyT.png\" alt=\"screenshot\" /></a></p>\n<p><strong>Alternative</strong></p>\n<p>BellSoft Liberica currently offers a &quot;Full JDK&quot; or &quot;Full JRE&quot; distribution that includes JavaFX for Linux arm64 (JDK 21):</p>\n<ul>\n<li><a href=\"https://bell-sw.com/pages/downloads/#jdk-21-lts\" rel=\"nofollow noreferrer\">https://bell-sw.com/pages/downloads/#jdk-21-lts</a></li>\n</ul>\n<p><strong>FAQ</strong></p>\n<blockquote>\n<p>It's so strange because a few months ago I downloaded the aarch64 linux version from the website and now the team removed it.</p>\n</blockquote>\n<p>The current stable JavaFX version displayed on the JavaFX download page is a 21.x branch which is an LTS (long-term support) release (this may change with time).</p>\n<p>From my understanding, Gluon doesn't offer long-term support for the aarch64 linux versions, so it does not show up as an option when an LTS version is selected for download.  The same is true for older LTS versions like 17.</p>\n<p>Previously, the current stable JavaFX version displayed on the JavaFX download page was, for example, 20, 19, or 18.  Those aren't LTS releases, so the aarch64 download shows up for those releases as a downloadable version under &quot;Unsupported Platforms&quot;.  Perhaps, when JavaFX 22 is released, that will be the default version selected on the Gluon download page, and the &quot;Unsupported Platforms&quot; section there will reference the Linux aarch64 version.</p>\n"}],"owner":{"account_id":29855162,"reputation":13,"user_id":22880168,"display_name":"Bernardo Sanson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77456776,"answer_count":1,"score":0,"last_activity_date":1699570703,"creation_date":1699448318,"question_id":77445734,"body_markdown":"I can&#39;t find the aarch64 version of JavaFX for Linux.\r\n\r\n\r\nI was looking at https://gluonhq.com/products/javafx/ and I can&#39;t find the aarch64 version for Linux.\r\nI use a Raspberry Pi and without this version I cannot run my applications.\r\n\r\nA few months ago I downloaded it but now it disappeared.\r\n\r\nCan anybody help me?","title":"I can&#39;t find the linux version for aarch64 to download","body":"<p>I can't find the aarch64 version of JavaFX for Linux.</p>\n<p>I was looking at <a href=\"https://gluonhq.com/products/javafx/\" rel=\"nofollow noreferrer\">https://gluonhq.com/products/javafx/</a> and I can't find the aarch64 version for Linux.\nI use a Raspberry Pi and without this version I cannot run my applications.</p>\n<p>A few months ago I downloaded it but now it disappeared.</p>\n<p>Can anybody help me?</p>\n"},{"tags":["java","opencv","camera","resolution","android-camera2"],"comments":[{"owner":{"account_id":6490949,"reputation":1314,"user_id":5025035,"display_name":"SeB"},"score":0,"creation_date":1700335049,"post_id":77456339,"comment_id":136642943,"body_markdown":"You may better tell what is your camera (bayer, YUV, ...) and how it is connected to jetson (MIPI/CSI or USB). For a sensor in /dev/video0, you may see the available modes from `v4l2-ctl -d0 --list-formats-ext`. Depending on this from opencv you may use V4L or GSTREAMER backend for getting frames into OpenCV.","body":"You may better tell what is your camera (bayer, YUV, ...) and how it is connected to jetson (MIPI/CSI or USB). For a sensor in /dev/video0, you may see the available modes from <code>v4l2-ctl -d0 --list-formats-ext</code>. Depending on this from opencv you may use V4L or GSTREAMER backend for getting frames into OpenCV."}],"answers":[{"tags":[],"owner":{"account_id":18117615,"reputation":136,"user_id":13174087,"display_name":"Greenylie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699570658,"creation_date":1699570658,"answer_id":77456812,"question_id":77456339,"body_markdown":"After opening the camera, you should be able to edit the properties at your liking with the [set][1] method of VideoCapture:\r\n\r\n    VideoCapture camera = new VideoCapture(0); //0 is there to avoid camera.open(0)\r\n    \r\n    boolean setWidth = camera.set(3, 4096); //CAP_PROP_FRAME_WIDTH = 3\r\n    boolean setHeigth = camera.set(4, 3072); //CAP_PROP_FRAME_HEIGHT = 4\r\n\r\nAs stated in the linked page the set method returns\r\n\r\n&gt; **true** if the property is supported by backend used by the VideoCapture instance.\r\n*Note: Even if it returns true this doesn&#39;t ensure that the property value has been accepted by the capture device*.\r\n\r\nYou can find the flags/ids for all the properties in [org.opencv.videoio.Videoio][2]\r\n\r\n\r\n  [1]: https://docs.opencv.org/4.x/javadoc/org/opencv/videoio/VideoCapture.html#set(int,double)\r\n  [2]: https://docs.opencv.org/4.x/javadoc/constant-values.html#org.opencv.videoio.Videoio.CAP_PROP_FRAME_HEIGHT","title":"increase resolution for camera in opencv","body":"<p>After opening the camera, you should be able to edit the properties at your liking with the <a href=\"https://docs.opencv.org/4.x/javadoc/org/opencv/videoio/VideoCapture.html#set(int,double)\" rel=\"nofollow noreferrer\">set</a> method of VideoCapture:</p>\n<pre><code>VideoCapture camera = new VideoCapture(0); //0 is there to avoid camera.open(0)\n\nboolean setWidth = camera.set(3, 4096); //CAP_PROP_FRAME_WIDTH = 3\nboolean setHeigth = camera.set(4, 3072); //CAP_PROP_FRAME_HEIGHT = 4\n</code></pre>\n<p>As stated in the linked page the set method returns</p>\n<blockquote>\n<p><strong>true</strong> if the property is supported by backend used by the VideoCapture instance.\n<em>Note: Even if it returns true this doesn't ensure that the property value has been accepted by the capture device</em>.</p>\n</blockquote>\n<p>You can find the flags/ids for all the properties in <a href=\"https://docs.opencv.org/4.x/javadoc/constant-values.html#org.opencv.videoio.Videoio.CAP_PROP_FRAME_HEIGHT\" rel=\"nofollow noreferrer\">org.opencv.videoio.Videoio</a></p>\n"}],"owner":{"account_id":27446988,"reputation":1,"user_id":20940470,"display_name":"Ani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699570658,"creation_date":1699563904,"question_id":77456339,"body_markdown":"I have a device which is of 13MP camera, my default camera resolution is 1280x720, as a 13MP camera can give more higher resolutions than 1280x720 I want to increase it than my default value? \r\n\r\nI have tried to check if my device supports larger resolutions with `chameraCharacteristics, SCALER_STREAM_CONFIGURATION_MAP  ` and i got output as: 4224x3136,4096x3072, 1920x1088, 4096x3072, 1920x1088, 1920x1080,1280x720, 720x480,640x480,352x288,320x240,176x144 and the view size of my device is 1280x800, most of the articles, and posts say that opencv restricts the camera resolution upto the viewSize? \r\ncan someone please help on how i can override this and increase the resolution of my camera? \r\n\r\nThanks.","title":"increase resolution for camera in opencv","body":"<p>I have a device which is of 13MP camera, my default camera resolution is 1280x720, as a 13MP camera can give more higher resolutions than 1280x720 I want to increase it than my default value?</p>\n<p>I have tried to check if my device supports larger resolutions with <code>chameraCharacteristics, SCALER_STREAM_CONFIGURATION_MAP  </code> and i got output as: 4224x3136,4096x3072, 1920x1088, 4096x3072, 1920x1088, 1920x1080,1280x720, 720x480,640x480,352x288,320x240,176x144 and the view size of my device is 1280x800, most of the articles, and posts say that opencv restricts the camera resolution upto the viewSize?\ncan someone please help on how i can override this and increase the resolution of my camera?</p>\n<p>Thanks.</p>\n"},{"tags":["java","list","keycloak","keycloak-rest-api"],"owner":{"account_id":8341093,"reputation":43,"user_id":6266392,"display_name":"Duliba Ionut"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699570631,"creation_date":1699521797,"question_id":77451907,"body_markdown":"I want to get user by cnp, but might be the case when cnp is empty string, and in this case with this API searchByAttributes it returns me all users, but I want exact search query.\r\n\r\n    public Optional&lt;UserKeycloak&gt; getUserKeycloakByCNP(String cnp) {\r\n        UsersResource usersResource = realmResource.users();\r\n\r\n        String searchQuery = &quot;cnp:&quot; + cnp;\r\n\r\n        List&lt;UserRepresentation&gt; matchingUsers = usersResource\r\n                .searchByAttributes(searchQuery);\r\n\r\n        if (!matchingUsers.isEmpty()) {\r\n            UserRepresentation userRepresentation = matchingUsers.get(0);\r\n            return Optional.of(getUserKeycloak(usersResource, userRepresentation));\r\n        } else {\r\n            return Optional.empty();\r\n        }\r\n    }","title":"Java keycloak RealmResource searchByAttributes exact query","body":"<p>I want to get user by cnp, but might be the case when cnp is empty string, and in this case with this API searchByAttributes it returns me all users, but I want exact search query.</p>\n<pre><code>public Optional&lt;UserKeycloak&gt; getUserKeycloakByCNP(String cnp) {\n    UsersResource usersResource = realmResource.users();\n\n    String searchQuery = &quot;cnp:&quot; + cnp;\n\n    List&lt;UserRepresentation&gt; matchingUsers = usersResource\n            .searchByAttributes(searchQuery);\n\n    if (!matchingUsers.isEmpty()) {\n        UserRepresentation userRepresentation = matchingUsers.get(0);\n        return Optional.of(getUserKeycloak(usersResource, userRepresentation));\n    } else {\n        return Optional.empty();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","request","client"],"comments":[{"owner":{"account_id":21704500,"reputation":75,"user_id":16017180,"display_name":"Joan"},"score":1,"creation_date":1684331119,"post_id":76272358,"comment_id":134502724,"body_markdown":"I think you are passing file inside the JSON body instead of passing it in the multipart section.","body":"I think you are passing file inside the JSON body instead of passing it in the multipart section."}],"owner":{"account_id":5214945,"reputation":145,"user_id":4170221,"accept_rate":75,"display_name":"Eduard Nickel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699570234,"creation_date":1684328108,"question_id":76272358,"body_markdown":"I have created Java service endpoint  \r\n```\r\n   @RequestMapping(path = &quot;/create&quot;, method = POST,   \r\n           consumes = {MediaType.APPLICATION_JSON_VALUE, MediaType.MULTIPART_FORM_DATA_VALUE},   \r\n           produces = MediaType.APPLICATION_JSON_VALUE)  \r\n    public ResponseEntity&lt;RecordData&gt; createRecord(Authentication auth, Locale locale,  \r\n           @RequestPart(&quot;data&quot;) @Valid CreateRecordRequest dataBody,  \r\n           @RequestPart(&quot;file&quot;) List&lt;MultipartFile&gt; multipartFiles) throws ParseException {\r\n```\r\nor\r\n```\r\n    @PostMapping(value = &quot;/create&quot;, \r\n           consumes = MediaType.MULTIPART_FORM_DATA_VALUE, \r\n           produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;RecordData&gt; createRecord(Authentication auth, Locale locale,\r\n           @RequestPart(value = &quot;data&quot;) @Valid CreateDraftRecordRequest dataBody,\r\n           @RequestPart(value = &quot;file&quot;) List&lt;MultipartFile&gt; multipartFiles) throws ParseException {\r\n```\r\n\r\nInvoking service using SoapUI a got just 400 and code is not executed = no log entry, no breakpoint activated\r\n[![SoapUI request][1]][1]\r\n\r\nor using curl\r\n```\r\n$ curl -v --location &quot;http://localhost:8080/api/v1/create&quot; --header &quot;Cookie: &quot; \r\n--form &quot;data=\\&quot;{\\&quot;files\\&quot;: {\\&quot;enabled\\&quot;: true},\\&quot;metadata\\&quot;: {}}\\&quot;;type=application/json&quot; \r\n--form &#39;file=@&quot;_test.txt&quot;&#39;\r\n```\r\nwith response\r\n```\r\n&gt; POST /api/v1/create HTTP/1.1\r\n&gt; Host: localhost:8080\r\n&gt; User-Agent: curl/7.81.0\r\n&gt; Accept: */*\r\n&gt; Content-Length: 339\r\n&gt; Content-Type: multipart/form-data; boundary=------------------------63b3d3729b33a350\r\n&gt;\r\n} [339 bytes data]\r\n* We are completely uploaded and fine\r\n* Mark bundle as not supporting multiuse\r\n&lt; HTTP/1.1 400\r\n&lt; Vary: Origin\r\n&lt; Vary: Access-Control-Request-Method\r\n&lt; Vary: Access-Control-Request-Headers\r\n&lt; X-Content-Type-Options: nosniff\r\n&lt; X-XSS-Protection: 1; mode=block\r\n&lt; Cache-Control: no-cache, no-store, max-age=0, must-revalidate\r\n&lt; Pragma: no-cache\r\n&lt; Expires: 0\r\n&lt; X-Content-Security-Policy: frame-src: &#39;none&#39;\r\n&lt; Content-Length: 0\r\n&lt; Date: Thu, 18 May 2023 06:39:55 GMT\r\n&lt; Connection: close\r\n&lt;\r\n100   339    0     0  100   339      0    650 --:--:-- --:--:-- --:--:--   651\r\n* Closing connection 0\r\n```\r\nWhat should I change to send data/files correctly\r\n\r\n  [1]: https://i.stack.imgur.com/2QU8p.png","title":"Problem to send data toJava spring client API multipart/form-data","body":"<p>I have created Java service endpoint</p>\n<pre><code>   @RequestMapping(path = &quot;/create&quot;, method = POST,   \n           consumes = {MediaType.APPLICATION_JSON_VALUE, MediaType.MULTIPART_FORM_DATA_VALUE},   \n           produces = MediaType.APPLICATION_JSON_VALUE)  \n    public ResponseEntity&lt;RecordData&gt; createRecord(Authentication auth, Locale locale,  \n           @RequestPart(&quot;data&quot;) @Valid CreateRecordRequest dataBody,  \n           @RequestPart(&quot;file&quot;) List&lt;MultipartFile&gt; multipartFiles) throws ParseException {\n</code></pre>\n<p>or</p>\n<pre><code>    @PostMapping(value = &quot;/create&quot;, \n           consumes = MediaType.MULTIPART_FORM_DATA_VALUE, \n           produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;RecordData&gt; createRecord(Authentication auth, Locale locale,\n           @RequestPart(value = &quot;data&quot;) @Valid CreateDraftRecordRequest dataBody,\n           @RequestPart(value = &quot;file&quot;) List&lt;MultipartFile&gt; multipartFiles) throws ParseException {\n</code></pre>\n<p>Invoking service using SoapUI a got just 400 and code is not executed = no log entry, no breakpoint activated\n<a href=\"https://i.stack.imgur.com/2QU8p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2QU8p.png\" alt=\"SoapUI request\" /></a></p>\n<p>or using curl</p>\n<pre><code>$ curl -v --location &quot;http://localhost:8080/api/v1/create&quot; --header &quot;Cookie: &quot; \n--form &quot;data=\\&quot;{\\&quot;files\\&quot;: {\\&quot;enabled\\&quot;: true},\\&quot;metadata\\&quot;: {}}\\&quot;;type=application/json&quot; \n--form 'file=@&quot;_test.txt&quot;'\n</code></pre>\n<p>with response</p>\n<pre><code>&gt; POST /api/v1/create HTTP/1.1\n&gt; Host: localhost:8080\n&gt; User-Agent: curl/7.81.0\n&gt; Accept: */*\n&gt; Content-Length: 339\n&gt; Content-Type: multipart/form-data; boundary=------------------------63b3d3729b33a350\n&gt;\n} [339 bytes data]\n* We are completely uploaded and fine\n* Mark bundle as not supporting multiuse\n&lt; HTTP/1.1 400\n&lt; Vary: Origin\n&lt; Vary: Access-Control-Request-Method\n&lt; Vary: Access-Control-Request-Headers\n&lt; X-Content-Type-Options: nosniff\n&lt; X-XSS-Protection: 1; mode=block\n&lt; Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n&lt; Pragma: no-cache\n&lt; Expires: 0\n&lt; X-Content-Security-Policy: frame-src: 'none'\n&lt; Content-Length: 0\n&lt; Date: Thu, 18 May 2023 06:39:55 GMT\n&lt; Connection: close\n&lt;\n100   339    0     0  100   339      0    650 --:--:-- --:--:-- --:--:--   651\n* Closing connection 0\n</code></pre>\n<p>What should I change to send data/files correctly</p>\n"},{"tags":["java","android","kotlin","android-webview"],"owner":{"account_id":27001377,"reputation":9,"user_id":20562610,"display_name":"UserAndroidDeveloper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699569502,"creation_date":1699569502,"question_id":77456735,"body_markdown":"The application must support full-screen mode, that is, so that the content completely fills the screen and the status bar and the bottom navigation bar are not visible.\r\nHere is the code for how I reached this solution:\r\n\r\nManifest fragments:\r\n\r\n    &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n            android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:hardwareAccelerated=&quot;true&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.Game&quot;\r\n            android:usesCleartextTraffic=&quot;true&quot;\r\n            tools:targetApi=&quot;31&quot;&gt;\r\n    \r\n            &lt;activity\r\n                android:name=&quot;.activity.BrowserActivity&quot;\r\n                android:exported=&quot;true&quot;\r\n                android:resizeableActivity=&quot;true&quot;\r\n                android:launchMode=&quot;singleTask&quot;\r\n                android:configChanges=&quot;keyboardHidden|orientation|screenSize&quot;\r\n                android:windowSoftInputMode=&quot;adjustResize&quot;\r\n                android:screenOrientation=&quot;sensor&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;data android:scheme=&quot;http&quot; /&gt;\r\n                    &lt;data android:scheme=&quot;https&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n\r\nTheme:\r\n\r\n    &lt;style name=&quot;Theme.Game&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n            &lt;item name=&quot;android:forceDarkAllowed&quot; tools:targetApi=&quot;q&quot;&gt;false&lt;/item&gt;\r\n    \r\n            &lt;item name=&quot;android:windowLayoutInDisplayCutoutMode&quot;&gt;shortEdges&lt;/item&gt;\r\n            &lt;item name=&quot;android:windowTranslucentStatus&quot;&gt;true&lt;/item&gt;\r\n            &lt;item name=&quot;android:windowTranslucentNavigation&quot;&gt;true&lt;/item&gt;\r\n    \r\n            !-- Fullscreen related items --&gt;\r\n            &lt;item name=&quot;android:windowFullscreen&quot;&gt;true&lt;/item&gt;\r\n            &lt;item name=&quot;android:windowContentOverlay&quot;&gt;@null&lt;/item&gt;\r\n            &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\r\n            &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;\r\n    \r\n            &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_500&lt;/item&gt;\r\n            &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\r\n            &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\r\n            &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\r\n            &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_700&lt;/item&gt;\r\n            &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\r\n            &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;21&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\r\n\r\nFragments BrowserActivity:\r\n\r\n     @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n            if (getSupportActionBar() != null) {\r\n                getSupportActionBar().hide();\r\n            }\r\n    \r\n            getWindow().setFlags(\r\n                    WindowManager.LayoutParams.FLAG_FULLSCREEN,\r\n                    WindowManager.LayoutParams.FLAG_FULLSCREEN\r\n            );\r\n    \r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) {\r\n                getWindow().getDecorView().setSystemUiVisibility(\r\n                        View.SYSTEM_UI_FLAG_HIDE_NAVIGATION | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY\r\n                );\r\n            }\r\n        \r\nEverything works fine, but any input field is completely or partially covered by the keyboard. That is, there is no scrolling of the input field.\r\nWhen I remove from the topic:\r\n\r\n    &lt;item name=&quot;android:windowLayoutInDisplayCutoutMode&quot;&gt;shortEdges&lt;/item&gt;\r\n            &lt;item name=&quot;android:windowTranslucentStatus&quot;&gt;true&lt;/item&gt;\r\n            &lt;item name=&quot;android:windowTranslucentNavigation&quot;&gt;true&lt;/item&gt;\r\n\r\nEverything works, but the status bar is just a dark bar and the content does not fill the entire screen area. \r\n\r\nWhat is the problem?\r\n","title":"The keyboard covers the input field","body":"<p>The application must support full-screen mode, that is, so that the content completely fills the screen and the status bar and the bottom navigation bar are not visible.\nHere is the code for how I reached this solution:</p>\n<p>Manifest fragments:</p>\n<pre><code>&lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:hardwareAccelerated=&quot;true&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.Game&quot;\n        android:usesCleartextTraffic=&quot;true&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n\n        &lt;activity\n            android:name=&quot;.activity.BrowserActivity&quot;\n            android:exported=&quot;true&quot;\n            android:resizeableActivity=&quot;true&quot;\n            android:launchMode=&quot;singleTask&quot;\n            android:configChanges=&quot;keyboardHidden|orientation|screenSize&quot;\n            android:windowSoftInputMode=&quot;adjustResize&quot;\n            android:screenOrientation=&quot;sensor&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n            &lt;intent-filter&gt;\n                &lt;data android:scheme=&quot;http&quot; /&gt;\n                &lt;data android:scheme=&quot;https&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n</code></pre>\n<p>Theme:</p>\n<pre><code>&lt;style name=&quot;Theme.Game&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\n        &lt;item name=&quot;android:forceDarkAllowed&quot; tools:targetApi=&quot;q&quot;&gt;false&lt;/item&gt;\n\n        &lt;item name=&quot;android:windowLayoutInDisplayCutoutMode&quot;&gt;shortEdges&lt;/item&gt;\n        &lt;item name=&quot;android:windowTranslucentStatus&quot;&gt;true&lt;/item&gt;\n        &lt;item name=&quot;android:windowTranslucentNavigation&quot;&gt;true&lt;/item&gt;\n\n        !-- Fullscreen related items --&gt;\n        &lt;item name=&quot;android:windowFullscreen&quot;&gt;true&lt;/item&gt;\n        &lt;item name=&quot;android:windowContentOverlay&quot;&gt;@null&lt;/item&gt;\n        &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\n        &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;\n\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_500&lt;/item&gt;\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_700&lt;/item&gt;\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\n        &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;21&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\n</code></pre>\n<p>Fragments BrowserActivity:</p>\n<pre><code> @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        if (getSupportActionBar() != null) {\n            getSupportActionBar().hide();\n        }\n\n        getWindow().setFlags(\n                WindowManager.LayoutParams.FLAG_FULLSCREEN,\n                WindowManager.LayoutParams.FLAG_FULLSCREEN\n        );\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) {\n            getWindow().getDecorView().setSystemUiVisibility(\n                    View.SYSTEM_UI_FLAG_HIDE_NAVIGATION | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY\n            );\n        }\n    \n</code></pre>\n<p>Everything works fine, but any input field is completely or partially covered by the keyboard. That is, there is no scrolling of the input field.\nWhen I remove from the topic:</p>\n<pre><code>&lt;item name=&quot;android:windowLayoutInDisplayCutoutMode&quot;&gt;shortEdges&lt;/item&gt;\n        &lt;item name=&quot;android:windowTranslucentStatus&quot;&gt;true&lt;/item&gt;\n        &lt;item name=&quot;android:windowTranslucentNavigation&quot;&gt;true&lt;/item&gt;\n</code></pre>\n<p>Everything works, but the status bar is just a dark bar and the content does not fill the entire screen area.</p>\n<p>What is the problem?</p>\n"},{"tags":["java","mysql","database","user-interface"],"answers":[{"tags":[],"owner":{"account_id":4989848,"reputation":1593,"user_id":4012408,"display_name":"Rafael Guillen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699553573,"creation_date":1699553573,"answer_id":77455493,"question_id":77454355,"body_markdown":"Here you are sending a new `User` object to the dialog:\r\n\r\n```\r\n        button.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                frame.dispose();\r\n                popUp(new User()); //New User (it&#39;s empty)\r\n                APITesting.getById(textField.getText());\r\n            }\r\n        });\r\n```\r\n\r\nInstead of that you have to provide a `User` object with values populated from the database.","title":"I need to get database values to JLabels","body":"<p>Here you are sending a new <code>User</code> object to the dialog:</p>\n<pre><code>        button.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                frame.dispose();\n                popUp(new User()); //New User (it's empty)\n                APITesting.getById(textField.getText());\n            }\n        });\n</code></pre>\n<p>Instead of that you have to provide a <code>User</code> object with values populated from the database.</p>\n"}],"owner":{"account_id":26475354,"reputation":3,"user_id":20115325,"display_name":"NEO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699568132,"creation_date":1699543403,"question_id":77454355,"body_markdown":" I have a code connected to a API (connected to a database).\r\n\r\nNow I need to get the user values from the database and write their values into JLabels.\r\n\r\nThe problem is with the user initialization but I can&#39;t seem to find where.\r\n\r\n```\r\npublic void mainFrame() {\r\n        label = new JLabel();\r\n        frame = new JFrame();\r\n        panel = new JPanel();\r\n        textField = new JTextField();\r\n        button = new JButton(&quot;Enter&quot;);\r\n\r\n        panel.setBorder(BorderFactory.createEmptyBorder(100, 100, 100, 100));\r\n\r\n        label.setText(&quot;ENTER ID&quot;);\r\n        panel.add(label);\r\n\r\n        textField.setPreferredSize(new Dimension(100, 20));\r\n        panel.add(textField, BorderLayout.CENTER);\r\n\r\n        button.setSize(50, 50);\r\n        button.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                frame.dispose();\r\n                popUp(new User());\r\n                APITesting.getById(textField.getText());\r\n            }\r\n        });\r\n        panel.add(button, BorderLayout.CENTER);\r\n\r\n        frame.setTitle(&quot;Log In&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setVisible(true);\r\n        frame.setSize(300, 300);\r\n        frame.add(panel);\r\n    }\r\n\r\n    public void popUp(User user) {\r\n\r\n        frame = new JFrame();\r\n        panel = new JPanel();\r\n        button = new JButton(&quot;Stop&quot;);\r\n        label = new JLabel(&quot;Success!!!&quot;);\r\n        idLabel = new JLabel();\r\n        nameLabel = new JLabel();\r\n        surnameLabel = new JLabel();\r\n        genderLabel = new JLabel();\r\n        salaryLabel = new JLabel();\r\n        role_idLabel = new JLabel();\r\n        total_payLabel = new JLabel();\r\n        counterLabel = new JLabel();\r\n        cashLabel = new JLabel(&quot;Earned:&quot;);\r\n\r\n        panel.setBorder(BorderFactory.createEmptyBorder(100, 100, 100, 100));\r\n        panel.setVisible(true);\r\n\r\n        panel.add(label);\r\n\r\n\r\n\r\n\r\n\r\n                idLabel.setText(&quot;ID: &quot; + textField.getText());\r\n                panel.add(idLabel);\r\n\r\n                nameLabel.setText(&quot;Name: &quot; + user.getName());\r\n                panel.add(nameLabel);\r\n\r\n                surnameLabel.setText(&quot;Surname: &quot; + user.getSurname());\r\n                panel.add(surnameLabel);\r\n\r\n                genderLabel.setText(&quot;Gender: &quot; + user.getGender());\r\n                panel.add(genderLabel);\r\n\r\n                salaryLabel.setText(&quot;Salary: &quot; + user.getSalary());\r\n                panel.add(salaryLabel);\r\n\r\n                role_idLabel.setText(&quot;Role ID: &quot; + user.getRole_id());\r\n                panel.add(role_idLabel);\r\n\r\n                total_payLabel.setText(&quot;Total Pay: &quot; + user.getTotal_pay());\r\n                panel.add(total_payLabel);\r\n\r\n        counterLabel.setText(&quot;&quot;);\r\n        panel.add(counterLabel);\r\n\r\n        timer = new Timer(1000, new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                seconds++;\r\n                if (seconds == 60) {\r\n                    seconds = 0;\r\n                    minutes++;\r\n                } else if (minutes == 60) {\r\n                    minutes = 0;\r\n                    hours++;\r\n                }\r\n                String timeText = String.format(&quot;%02d:%02d:%02d&quot;, hours, minutes, seconds);\r\n                counterLabel.setText(timeText);\r\n\r\n                salary = hours * 10;\r\n                cashLabel.setText(&quot;Earned: &quot; + salary + &quot;$&quot;);\r\n                panel.add(cashLabel);\r\n\r\n            }\r\n        });\r\n        timer.start();\r\n\r\n        button.setSize(50, 50);\r\n        button.setVisible(true);\r\n        button.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                timer.stop();\r\n                frame.dispose();\r\n            }\r\n        });\r\n        panel.add(button, BorderLayout.CENTER);\r\n\r\n        panel.setLayout(new GridLayout(11, 5));\r\n        insets = panel.getInsets();\r\n        Dimension size = label.getPreferredSize();\r\n\r\n        label.setBounds(100 + insets.left, 70, size.width, size.height);\r\n\r\n        size = idLabel.getPreferredSize();\r\n        idLabel.setBounds(50 + insets.left, 100, size.width, size.height);\r\n\r\n        size = nameLabel.getPreferredSize();\r\n        nameLabel.setBounds(50 + insets.left, 130, size.width, size.height);\r\n\r\n        size = surnameLabel.getPreferredSize();\r\n        surnameLabel.setBounds(50 + insets.left, 160, size.width, size.height);\r\n\r\n        size = genderLabel.getPreferredSize();\r\n        genderLabel.setBounds(50 + insets.left, 190, size.width, size.height);\r\n\r\n        size = salaryLabel.getPreferredSize();\r\n        salaryLabel.setBounds(50 + insets.left, 220, size.width, size.height);\r\n\r\n        size = role_idLabel.getPreferredSize();\r\n        role_idLabel.setBounds(50 + insets.left, 250, size.width, size.height);\r\n\r\n        size = total_payLabel.getPreferredSize();\r\n        total_payLabel.setBounds(50 + insets.left, 280, size.width, size.height);\r\n\r\n        size = counterLabel.getPreferredSize();\r\n        counterLabel.setBounds(50 + insets.left, 310, size.width, size.height);\r\n\r\n        size = button.getPreferredSize();\r\n        button.setBounds(50 + insets.left, 340, size.width, size.height);\r\n\r\n\r\n        frame.setSize(400, 500);\r\n        frame.setVisible(true);\r\n        frame.repaint(0,0,0,0);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.add(panel);\r\n    }\r\n```\r\n\r\nI think I tried pretty much everything. I also know that the user is null for some kind of reason that I can&#39;t understand.","title":"I need to get database values to JLabels","body":"<p>I have a code connected to a API (connected to a database).</p>\n<p>Now I need to get the user values from the database and write their values into JLabels.</p>\n<p>The problem is with the user initialization but I can't seem to find where.</p>\n<pre><code>public void mainFrame() {\n        label = new JLabel();\n        frame = new JFrame();\n        panel = new JPanel();\n        textField = new JTextField();\n        button = new JButton(&quot;Enter&quot;);\n\n        panel.setBorder(BorderFactory.createEmptyBorder(100, 100, 100, 100));\n\n        label.setText(&quot;ENTER ID&quot;);\n        panel.add(label);\n\n        textField.setPreferredSize(new Dimension(100, 20));\n        panel.add(textField, BorderLayout.CENTER);\n\n        button.setSize(50, 50);\n        button.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                frame.dispose();\n                popUp(new User());\n                APITesting.getById(textField.getText());\n            }\n        });\n        panel.add(button, BorderLayout.CENTER);\n\n        frame.setTitle(&quot;Log In&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n        frame.setSize(300, 300);\n        frame.add(panel);\n    }\n\n    public void popUp(User user) {\n\n        frame = new JFrame();\n        panel = new JPanel();\n        button = new JButton(&quot;Stop&quot;);\n        label = new JLabel(&quot;Success!!!&quot;);\n        idLabel = new JLabel();\n        nameLabel = new JLabel();\n        surnameLabel = new JLabel();\n        genderLabel = new JLabel();\n        salaryLabel = new JLabel();\n        role_idLabel = new JLabel();\n        total_payLabel = new JLabel();\n        counterLabel = new JLabel();\n        cashLabel = new JLabel(&quot;Earned:&quot;);\n\n        panel.setBorder(BorderFactory.createEmptyBorder(100, 100, 100, 100));\n        panel.setVisible(true);\n\n        panel.add(label);\n\n\n\n\n\n                idLabel.setText(&quot;ID: &quot; + textField.getText());\n                panel.add(idLabel);\n\n                nameLabel.setText(&quot;Name: &quot; + user.getName());\n                panel.add(nameLabel);\n\n                surnameLabel.setText(&quot;Surname: &quot; + user.getSurname());\n                panel.add(surnameLabel);\n\n                genderLabel.setText(&quot;Gender: &quot; + user.getGender());\n                panel.add(genderLabel);\n\n                salaryLabel.setText(&quot;Salary: &quot; + user.getSalary());\n                panel.add(salaryLabel);\n\n                role_idLabel.setText(&quot;Role ID: &quot; + user.getRole_id());\n                panel.add(role_idLabel);\n\n                total_payLabel.setText(&quot;Total Pay: &quot; + user.getTotal_pay());\n                panel.add(total_payLabel);\n\n        counterLabel.setText(&quot;&quot;);\n        panel.add(counterLabel);\n\n        timer = new Timer(1000, new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                seconds++;\n                if (seconds == 60) {\n                    seconds = 0;\n                    minutes++;\n                } else if (minutes == 60) {\n                    minutes = 0;\n                    hours++;\n                }\n                String timeText = String.format(&quot;%02d:%02d:%02d&quot;, hours, minutes, seconds);\n                counterLabel.setText(timeText);\n\n                salary = hours * 10;\n                cashLabel.setText(&quot;Earned: &quot; + salary + &quot;$&quot;);\n                panel.add(cashLabel);\n\n            }\n        });\n        timer.start();\n\n        button.setSize(50, 50);\n        button.setVisible(true);\n        button.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                timer.stop();\n                frame.dispose();\n            }\n        });\n        panel.add(button, BorderLayout.CENTER);\n\n        panel.setLayout(new GridLayout(11, 5));\n        insets = panel.getInsets();\n        Dimension size = label.getPreferredSize();\n\n        label.setBounds(100 + insets.left, 70, size.width, size.height);\n\n        size = idLabel.getPreferredSize();\n        idLabel.setBounds(50 + insets.left, 100, size.width, size.height);\n\n        size = nameLabel.getPreferredSize();\n        nameLabel.setBounds(50 + insets.left, 130, size.width, size.height);\n\n        size = surnameLabel.getPreferredSize();\n        surnameLabel.setBounds(50 + insets.left, 160, size.width, size.height);\n\n        size = genderLabel.getPreferredSize();\n        genderLabel.setBounds(50 + insets.left, 190, size.width, size.height);\n\n        size = salaryLabel.getPreferredSize();\n        salaryLabel.setBounds(50 + insets.left, 220, size.width, size.height);\n\n        size = role_idLabel.getPreferredSize();\n        role_idLabel.setBounds(50 + insets.left, 250, size.width, size.height);\n\n        size = total_payLabel.getPreferredSize();\n        total_payLabel.setBounds(50 + insets.left, 280, size.width, size.height);\n\n        size = counterLabel.getPreferredSize();\n        counterLabel.setBounds(50 + insets.left, 310, size.width, size.height);\n\n        size = button.getPreferredSize();\n        button.setBounds(50 + insets.left, 340, size.width, size.height);\n\n\n        frame.setSize(400, 500);\n        frame.setVisible(true);\n        frame.repaint(0,0,0,0);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(panel);\n    }\n</code></pre>\n<p>I think I tried pretty much everything. I also know that the user is null for some kind of reason that I can't understand.</p>\n"},{"tags":["java","hibernate","spring-data-jpa","entity","sequence"],"answers":[{"tags":[],"owner":{"account_id":1160007,"reputation":103,"user_id":1139726,"display_name":"Ross Bu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699567207,"creation_date":1699567207,"answer_id":77456579,"question_id":71910095,"body_markdown":"2023, not sure if it&#39;s late to answer in case it&#39;s needed for anyone,below solution works without extra table entity for generating ids\r\nassuming you have a generator in db, then you can do below\r\n \r\n\r\n          @GeneratedValue(generator = &quot;table_id_seq_gen&quot;)\r\n            @GenericGenerator(\r\n                    name = &quot;table_id_seq_gen&quot;,\r\n                    strategy = &quot;org.hibernate.id.enhanced.SequenceStyleGenerator&quot;,\r\n                    parameters = {\r\n                            @Parameter(name = SequenceStyleGenerator.SEQUENCE_PARAM, value = &quot;table_id_seq&quot;),\r\n                            @Parameter(name = SequenceStyleGenerator.INCREMENT_PARAM, value = &quot;10&quot;),\r\n    // other params if needed\r\n                    })\r\n            @Generated(GenerationTime.INSERT) // here is the trick\r\n            private Long id;\r\n\r\nthen if you have serial number bigSerial or sth you can do \r\n\r\n    @Column(name = &quot;id&quot;, columnDefinition = &quot;serial&quot;)\r\n    @Generated(GenerationTime.INSERT)\r\n    private Long id;\r\n\r\nthe key is @Generated(GenerationTime.INSERT), so to summarize\r\n\r\n- if by defautl not specified with @Generated(GenerationTime.INSERT) ,\r\n   Hibernate only generates for PK as default.\r\n- if specified it would\r\n   work with any column that needs a runtime insert.\r\n   @Generated(GenerationTime.INSERT)","title":"Allow the use of @GeneratedValue even if column is not primary key","body":"<p>2023, not sure if it's late to answer in case it's needed for anyone,below solution works without extra table entity for generating ids\nassuming you have a generator in db, then you can do below</p>\n<pre><code>      @GeneratedValue(generator = &quot;table_id_seq_gen&quot;)\n        @GenericGenerator(\n                name = &quot;table_id_seq_gen&quot;,\n                strategy = &quot;org.hibernate.id.enhanced.SequenceStyleGenerator&quot;,\n                parameters = {\n                        @Parameter(name = SequenceStyleGenerator.SEQUENCE_PARAM, value = &quot;table_id_seq&quot;),\n                        @Parameter(name = SequenceStyleGenerator.INCREMENT_PARAM, value = &quot;10&quot;),\n// other params if needed\n                })\n        @Generated(GenerationTime.INSERT) // here is the trick\n        private Long id;\n</code></pre>\n<p>then if you have serial number bigSerial or sth you can do</p>\n<pre><code>@Column(name = &quot;id&quot;, columnDefinition = &quot;serial&quot;)\n@Generated(GenerationTime.INSERT)\nprivate Long id;\n</code></pre>\n<p>the key is @Generated(GenerationTime.INSERT), so to summarize</p>\n<ul>\n<li>if by defautl not specified with @Generated(GenerationTime.INSERT) ,\nHibernate only generates for PK as default.</li>\n<li>if specified it would\nwork with any column that needs a runtime insert.\n@Generated(GenerationTime.INSERT)</li>\n</ul>\n"}],"owner":{"account_id":7454179,"reputation":660,"user_id":5667911,"accept_rate":45,"display_name":"Abhishek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":996,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1699567207,"creation_date":1650274698,"question_id":71910095,"body_markdown":"I have an entity class **SupplierOrder.java** which contains two fields: **cuId** and **orderId**\r\n\r\n\r\n    @Data\r\n    @EqualsAndHashCode(callSuper = false, of = { &quot;cuId&quot; })\r\n    @Builder(toBuilder = true)\r\n    @AllArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;supplier_order&quot;)\r\n    public class SupplierOrder\r\n    {\r\n            @Column(name = &quot;cuid&quot;, nullable = false)\r\n        \tprivate Long cuId;\r\n        \r\n            @Id\r\n        \t@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;supOrd&quot;)\r\n        \t@SequenceGenerator(name = &quot;supOrd&quot;, sequenceName = &quot;supplier_order_seq&quot;, allocationSize = 1 )\r\n        \t@Column(name = &quot;order_id&quot;, nullable = false)\r\n        \tprivate Integer orderId;\r\n    }\r\n\r\n\r\nWhen I save my entity the following operation on the database used to undertake\r\n\r\n    1. select next value for supplier_order_seq\r\n    2. insert into supplier_order(cuid,order_id)values(101,&quot;&lt;value from the point 1&gt;&quot;)\r\n\r\nNow, I have to flip the primary key. In other words, cuid becomes my new primary key and the rest remains the same.\r\n\r\n\r\n    @Data\r\n    @EqualsAndHashCode(callSuper = false, of = { &quot;orderId&quot; })\r\n    @Builder(toBuilder = true)\r\n    @AllArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;supplier_order&quot;)\r\n    public class SupplierOrder\r\n    {\r\n            @Id                  //changed primary key from orderId to cuid\r\n            @Column(name = &quot;cuid&quot;, nullable = false)\r\n        \tprivate Long cuId;\r\n        \r\n        \t@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;supOrd&quot;)\r\n        \t@SequenceGenerator(name = &quot;supOrd&quot;, sequenceName = &quot;supplier_order_seq&quot;, allocationSize = 1 )\r\n        \t@Column(name = &quot;order_id&quot;, nullable = false)\r\n        \tprivate Integer orderId;\r\n    }\r\n\r\n \r\nNow, when I am trying to save my entity the following operations happen:\r\n\r\n    1. insert into supplier_order(cuid,order_id)values(101,NULL)\r\nNote: getting next value from the seq **supplier_order_seq** does not happen and because of this, it is giving me error as I cannot save order_id as null. How do I make sure that order_id value should be provided by seq ***supplier_order_seq*** even after changing the primary key?\r\n\r\nI have tried referring multiple solutions from the link below but none of them worked.\r\n\r\n - https://github.com/eclipse-ee4j/jpa-api/issues/113","title":"Allow the use of @GeneratedValue even if column is not primary key","body":"<p>I have an entity class <strong>SupplierOrder.java</strong> which contains two fields: <strong>cuId</strong> and <strong>orderId</strong></p>\n<pre><code>@Data\n@EqualsAndHashCode(callSuper = false, of = { &quot;cuId&quot; })\n@Builder(toBuilder = true)\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;supplier_order&quot;)\npublic class SupplierOrder\n{\n        @Column(name = &quot;cuid&quot;, nullable = false)\n        private Long cuId;\n    \n        @Id\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;supOrd&quot;)\n        @SequenceGenerator(name = &quot;supOrd&quot;, sequenceName = &quot;supplier_order_seq&quot;, allocationSize = 1 )\n        @Column(name = &quot;order_id&quot;, nullable = false)\n        private Integer orderId;\n}\n</code></pre>\n<p>When I save my entity the following operation on the database used to undertake</p>\n<pre><code>1. select next value for supplier_order_seq\n2. insert into supplier_order(cuid,order_id)values(101,&quot;&lt;value from the point 1&gt;&quot;)\n</code></pre>\n<p>Now, I have to flip the primary key. In other words, cuid becomes my new primary key and the rest remains the same.</p>\n<pre><code>@Data\n@EqualsAndHashCode(callSuper = false, of = { &quot;orderId&quot; })\n@Builder(toBuilder = true)\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;supplier_order&quot;)\npublic class SupplierOrder\n{\n        @Id                  //changed primary key from orderId to cuid\n        @Column(name = &quot;cuid&quot;, nullable = false)\n        private Long cuId;\n    \n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;supOrd&quot;)\n        @SequenceGenerator(name = &quot;supOrd&quot;, sequenceName = &quot;supplier_order_seq&quot;, allocationSize = 1 )\n        @Column(name = &quot;order_id&quot;, nullable = false)\n        private Integer orderId;\n}\n</code></pre>\n<p>Now, when I am trying to save my entity the following operations happen:</p>\n<pre><code>1. insert into supplier_order(cuid,order_id)values(101,NULL)\n</code></pre>\n<p>Note: getting next value from the seq <strong>supplier_order_seq</strong> does not happen and because of this, it is giving me error as I cannot save order_id as null. How do I make sure that order_id value should be provided by seq <em><strong>supplier_order_seq</strong></em> even after changing the primary key?</p>\n<p>I have tried referring multiple solutions from the link below but none of them worked.</p>\n<ul>\n<li><a href=\"https://github.com/eclipse-ee4j/jpa-api/issues/113\" rel=\"nofollow noreferrer\">https://github.com/eclipse-ee4j/jpa-api/issues/113</a></li>\n</ul>\n"},{"tags":["java","odata","olingo"],"answers":[{"tags":[],"owner":{"account_id":2904628,"reputation":6707,"user_id":2490343,"accept_rate":100,"display_name":"Shiva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699566944,"creation_date":1699566944,"answer_id":77456568,"question_id":77453980,"body_markdown":"They are available at the EntityContainer level\r\n\r\nYou can retieve them like this\r\n\r\n    Edm parsedMetadata = EntityProvider.readMetadata(con.getInputStream(), true);\r\n\r\n    EdmAnnotations annotations = parsedMetadata.getDefaultEntityContainer().getAnnotations();\r\n\r\nOr if you have multiple containers or want to use the named API it would be \r\n\r\n    EdmAnnotations annotations = parsedMetadata.getEntityContainer(&quot;SomeName&quot;).getAnnotations();\r\n\r\nOtherwise on all the properties there is a `getAnnotations` method but then you&#39;ll have to loop over all the properties and consolidate the annotations\r\n\r\nFor example \r\n\r\n    for (EdmEntitySet e : parsedMetadata.getEntitySets() ){\r\n    \t\tEdmAnnotations annotations = e.getAnnotations();\r\n    }\r\n\r\n","title":"How can I parse Annotations with Olingo?","body":"<p>They are available at the EntityContainer level</p>\n<p>You can retieve them like this</p>\n<pre><code>Edm parsedMetadata = EntityProvider.readMetadata(con.getInputStream(), true);\n\nEdmAnnotations annotations = parsedMetadata.getDefaultEntityContainer().getAnnotations();\n</code></pre>\n<p>Or if you have multiple containers or want to use the named API it would be</p>\n<pre><code>EdmAnnotations annotations = parsedMetadata.getEntityContainer(&quot;SomeName&quot;).getAnnotations();\n</code></pre>\n<p>Otherwise on all the properties there is a <code>getAnnotations</code> method but then you'll have to loop over all the properties and consolidate the annotations</p>\n<p>For example</p>\n<pre><code>for (EdmEntitySet e : parsedMetadata.getEntitySets() ){\n        EdmAnnotations annotations = e.getAnnotations();\n}\n</code></pre>\n"}],"owner":{"account_id":1800064,"reputation":4881,"user_id":1638626,"accept_rate":75,"display_name":"Florian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699566944,"creation_date":1699540258,"question_id":77453980,"body_markdown":"My Java application uses SAP&#39;s repackaged Olingo library for v2 OData services, https://mvnrepository.com/artifact/com.sap.cds.repackaged/odata-v2-lib, to parse the metadata.xml document of an OData service:\r\n\r\n```java\r\nEdm parsedMetadata = EntityProvider.readMetadata(inputStream, true);\r\n```\r\n\r\nI do this to analyze the available entities and associations, and it works fine. However, the metadata document also contains `&lt;Annotations&gt;` that I am interested in:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;edmx:Edmx ...&gt;\r\n    &lt;edmx:Reference ... /&gt;&lt;/edmx:Reference&gt;\r\n    &lt;edmx:DataServices ...&gt;\r\n        &lt;Schema ...&gt;\r\n            &lt;EntityType .../&gt;\r\n            ...\r\n            &lt;ComplexType ...&gt;...&lt;/ComplexType&gt;\r\n            ...\r\n            &lt;Association ...&gt;...&lt;/Association&gt;\r\n            ...\r\n            &lt;Annotations ...&gt;...&lt;/Annotations&gt;     &lt;!-- I want these here --&gt;\r\n            ...\r\n        &lt;/Schema&gt;\r\n    &lt;/edmx:DataServices&gt;\r\n&lt;/edmx:Edmx&gt;\r\n```\r\n\r\nOlingo&#39;s `Edm` object provides all sorts of getters for the different parts, like entity types, complex types, and associations, but none for annotations. I also didn&#39;t find any other classes in Olingo that would support me in retrieving them.\r\n\r\nIs there a possibility to get these Annotations details via Olingo, too? If not, are there other possibilities how I could get these?","title":"How can I parse Annotations with Olingo?","body":"<p>My Java application uses SAP's repackaged Olingo library for v2 OData services, <a href=\"https://mvnrepository.com/artifact/com.sap.cds.repackaged/odata-v2-lib\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.sap.cds.repackaged/odata-v2-lib</a>, to parse the metadata.xml document of an OData service:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Edm parsedMetadata = EntityProvider.readMetadata(inputStream, true);\n</code></pre>\n<p>I do this to analyze the available entities and associations, and it works fine. However, the metadata document also contains <code>&lt;Annotations&gt;</code> that I am interested in:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;edmx:Edmx ...&gt;\n    &lt;edmx:Reference ... /&gt;&lt;/edmx:Reference&gt;\n    &lt;edmx:DataServices ...&gt;\n        &lt;Schema ...&gt;\n            &lt;EntityType .../&gt;\n            ...\n            &lt;ComplexType ...&gt;...&lt;/ComplexType&gt;\n            ...\n            &lt;Association ...&gt;...&lt;/Association&gt;\n            ...\n            &lt;Annotations ...&gt;...&lt;/Annotations&gt;     &lt;!-- I want these here --&gt;\n            ...\n        &lt;/Schema&gt;\n    &lt;/edmx:DataServices&gt;\n&lt;/edmx:Edmx&gt;\n</code></pre>\n<p>Olingo's <code>Edm</code> object provides all sorts of getters for the different parts, like entity types, complex types, and associations, but none for annotations. I also didn't find any other classes in Olingo that would support me in retrieving them.</p>\n<p>Is there a possibility to get these Annotations details via Olingo, too? If not, are there other possibilities how I could get these?</p>\n"},{"tags":["java","for-loop","types","hashset"],"comments":[{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":1,"creation_date":1699566360,"post_id":77456503,"comment_id":136551942,"body_markdown":"Isn&#39;t your IDE complaining that `Set` is a generic type? You could just write `var` as well.","body":"Isn&#39;t your IDE complaining that <code>Set</code> is a generic type? You could just write <code>var</code> as well."},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":3,"creation_date":1699566543,"post_id":77456503,"comment_id":136551967,"body_markdown":"`Set&lt;Integer&gt;` not `Set`","body":"<code>Set&lt;Integer&gt;</code> not <code>Set</code>"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1699566749,"post_id":77456503,"comment_id":136552000,"body_markdown":"`Set&lt;Integer&gt; nums1Set = new HashSet&lt;&gt;();` &lt;- Not `nums1Set` will be expecting `Integer`, not `Object` which is default value","body":"<code>Set&lt;Integer&gt; nums1Set = new HashSet&lt;&gt;();</code> &lt;- Not <code>nums1Set</code> will be expecting <code>Integer</code>, not <code>Object</code> which is default value"}],"owner":{"account_id":5573873,"reputation":19,"user_id":4418047,"display_name":"Hayden"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1699566582,"answer_count":0,"score":-1,"last_activity_date":1699566176,"creation_date":1699565952,"question_id":77456503,"body_markdown":"Having the following issue on Leetcode problem 2215. \r\nTutorials for iterating using an advanced for loop seem to use the exact same syntax. What am I doing wrong here?\r\n\r\n Compile Error\r\n```\r\nLine 15: error: incompatible types: Object cannot be converted to Integer\r\n        for(Integer item : nums1Set) {\r\n                           ^\r\nLine 21: error: incompatible types: Object cannot be converted to Integer\r\n        for(Integer item : nums2Set) {\r\n                           ^\r\n2 errors\r\n```\r\n\r\n```\r\nclass Solution {\r\n    public List&lt;List&lt;Integer&gt;&gt; findDifference(int[] nums1, int[] nums2) {\r\n        // create sets for all values in each array\r\n        Set nums1Set = new HashSet&lt;Integer&gt;();\r\n        for(int num : nums1) {\r\n            nums1Set.add(Integer.valueOf(num));\r\n        }\r\n        Set nums2Set = new HashSet&lt;Integer&gt;();\r\n        for(int num : nums2) {\r\n            nums2Set.add(Integer.valueOf(num));\r\n        }\r\n\r\n        // use sets to check for unique values and add to list if so\r\n        List nums1List = new ArrayList&lt;Integer&gt;();\r\n        for(Integer item : nums1Set) {\r\n            if(!nums2Set.contains(item)) {\r\n                nums1List.add(item);\r\n            }\r\n        }\r\n        List nums2List = new ArrayList&lt;Integer&gt;();\r\n        for(Integer item : nums2Set) {\r\n            if(!nums1Set.contains(item)) {\r\n                nums2List.add(item);\r\n            }\r\n        }\r\n\r\n        List&lt;List&lt;Integer&gt;&gt; answer = new ArrayList();\r\n        answer.add(nums1List);\r\n        answer.add(nums2List);\r\n        return answer;\r\n    }\r\n}\r\n```","title":"Java HashSet advanced for loop returns Object instead of Integer","body":"<p>Having the following issue on Leetcode problem 2215.\nTutorials for iterating using an advanced for loop seem to use the exact same syntax. What am I doing wrong here?</p>\n<p>Compile Error</p>\n<pre><code>Line 15: error: incompatible types: Object cannot be converted to Integer\n        for(Integer item : nums1Set) {\n                           ^\nLine 21: error: incompatible types: Object cannot be converted to Integer\n        for(Integer item : nums2Set) {\n                           ^\n2 errors\n</code></pre>\n<pre><code>class Solution {\n    public List&lt;List&lt;Integer&gt;&gt; findDifference(int[] nums1, int[] nums2) {\n        // create sets for all values in each array\n        Set nums1Set = new HashSet&lt;Integer&gt;();\n        for(int num : nums1) {\n            nums1Set.add(Integer.valueOf(num));\n        }\n        Set nums2Set = new HashSet&lt;Integer&gt;();\n        for(int num : nums2) {\n            nums2Set.add(Integer.valueOf(num));\n        }\n\n        // use sets to check for unique values and add to list if so\n        List nums1List = new ArrayList&lt;Integer&gt;();\n        for(Integer item : nums1Set) {\n            if(!nums2Set.contains(item)) {\n                nums1List.add(item);\n            }\n        }\n        List nums2List = new ArrayList&lt;Integer&gt;();\n        for(Integer item : nums2Set) {\n            if(!nums1Set.contains(item)) {\n                nums2List.add(item);\n            }\n        }\n\n        List&lt;List&lt;Integer&gt;&gt; answer = new ArrayList();\n        answer.add(nums1List);\n        answer.add(nums2List);\n        return answer;\n    }\n}\n</code></pre>\n"},{"tags":["java","oracle"],"owner":{"account_id":28784583,"reputation":1,"user_id":22045386,"display_name":"Sathish Vanamoorthi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1699565991,"answer_count":0,"score":0,"last_activity_date":1699566153,"creation_date":1699553201,"question_id":77455451,"body_markdown":"Can any one help me how array list of class can be passed as input parameter of oracle store procedure. Am getting below exception\r\n\r\n```\r\nCaused by: java.sql.SQLException: ORA-06550: line 1, column 7:\r\nPLS-00306: wrong number or types of arguments in call to &#39;SP_INSERT_MY_RECORD_IN_BULK&#39;\r\nORA-06550: line 1, column 7:\r\nPL/SQL: Statement ignored\r\n```\r\n\r\nCreated object type in oracle as below\r\n\r\n```\r\ncreate or replace TYPE MY_OBJ_TYPE AS OBJECT\r\n```\r\n\r\nAnd created another object type in oracle as \r\n\r\n`create or replace TYPE MY_OBJ_TYPE_ARRAY IS TABLE OF MY_OBJ_TYPE;`\r\n\r\nCreated a Store procedure as \r\n\r\n`create or replace PROCEDURE SP_INSERT_RECORD_IN_BULK(\r\nIN_MY_RECORDS MY_OBJ_TYPE_ARRAY) IS\r\nBEGIN \r\n  FOR i IN IN_MY_RECORDS.first.. IN_MY_RECORDS.last\r\n   LOOP\r\n    BEGIN \r\n      INSERT INTO schema.Table(number,name) VALUES\r\n      (IN_MY_RECORDS(i).NUMBER, IN_MY_RECORDS(i).NAME);\r\n    END;\r\n   END LOOP;\r\nEND SP_INSERT_MY_RECORD_IN_BULK;`\r\n\r\nFrom Java spring boot JPA\r\n\r\n```\r\n@Repository\r\npublic interface MyRepository extends JpaRepository&lt;MyEntity, Long&gt; {\r\n\r\n    @Procedure(procedureName = &quot;schema.SP_INSERT_RECORD_IN_BULK&quot; )\r\n    void insertRecords(@Param(&quot;IN_MY_RECORDS&quot;) MyInput[] inputs);\r\n}\r\n\r\n\r\npublic class MyInput implements Serializable{\r\n   Double number;\r\n   String Name;\r\n}\r\n\r\n\r\n```\r\nIn the service \r\n\r\n`MyRepository.insertRecords(myInputs);`\r\n\r\n","title":"How to pass Java array list to Oracle Store Procedure","body":"<p>Can any one help me how array list of class can be passed as input parameter of oracle store procedure. Am getting below exception</p>\n<pre><code>Caused by: java.sql.SQLException: ORA-06550: line 1, column 7:\nPLS-00306: wrong number or types of arguments in call to 'SP_INSERT_MY_RECORD_IN_BULK'\nORA-06550: line 1, column 7:\nPL/SQL: Statement ignored\n</code></pre>\n<p>Created object type in oracle as below</p>\n<pre><code>create or replace TYPE MY_OBJ_TYPE AS OBJECT\n</code></pre>\n<p>And created another object type in oracle as</p>\n<p><code>create or replace TYPE MY_OBJ_TYPE_ARRAY IS TABLE OF MY_OBJ_TYPE;</code></p>\n<p>Created a Store procedure as</p>\n<p><code>create or replace PROCEDURE SP_INSERT_RECORD_IN_BULK( IN_MY_RECORDS MY_OBJ_TYPE_ARRAY) IS BEGIN  FOR i IN IN_MY_RECORDS.first.. IN_MY_RECORDS.last LOOP BEGIN  INSERT INTO schema.Table(number,name) VALUES (IN_MY_RECORDS(i).NUMBER, IN_MY_RECORDS(i).NAME); END; END LOOP; END SP_INSERT_MY_RECORD_IN_BULK;</code></p>\n<p>From Java spring boot JPA</p>\n<pre><code>@Repository\npublic interface MyRepository extends JpaRepository&lt;MyEntity, Long&gt; {\n\n    @Procedure(procedureName = &quot;schema.SP_INSERT_RECORD_IN_BULK&quot; )\n    void insertRecords(@Param(&quot;IN_MY_RECORDS&quot;) MyInput[] inputs);\n}\n\n\npublic class MyInput implements Serializable{\n   Double number;\n   String Name;\n}\n\n\n</code></pre>\n<p>In the service</p>\n<p><code>MyRepository.insertRecords(myInputs);</code></p>\n"},{"tags":["java","maven","maven-release-plugin"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1653431891,"post_id":72370069,"comment_id":127850436,"body_markdown":"There *is* a release.properties file, created by mvn release:prepare, and the `?? release.properties` comes from `git status -s`. But I don&#39;t know what is parsing the git output and producing the warning.","body":"There <i>is</i> a release.properties file, created by mvn release:prepare, and the <code>?? release.properties</code> comes from <code>git status -s</code>. But I don&#39;t know what is parsing the git output and producing the warning."},{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":3,"creation_date":1653460656,"post_id":72370069,"comment_id":127854790,"body_markdown":"The maven-release-plugin check if something needs to be checked in and maybe would fail ...The `pom.xml.releaseBackup` is created during the release process... This can be fixed by adding `pom.xml.releaseBackup` to your `.gitignore` file... the `claims/target` means you have not added `target` to your `.gitignore` or only via `/target`...","body":"The maven-release-plugin check if something needs to be checked in and maybe would fail ...The <code>pom.xml.releaseBackup</code> is created during the release process... This can be fixed by adding <code>pom.xml.releaseBackup</code> to your <code>.gitignore</code> file... the <code>claims&#47;target</code> means you have not added <code>target</code> to your <code>.gitignore</code> or only via <code>&#47;target</code>..."}],"answers":[{"tags":[],"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699564769,"creation_date":1699534982,"answer_id":77453423,"question_id":72370069,"body_markdown":"The advice I have found (I do not remember where anymore) to solve this problem is:\r\n\r\n#### Make sure that maven, git, any maven-plugins you might be using, and everything else in the build toolchain is of the latest version.  \r\n\r\nThere are probably various combinations of versions that work, but it is practically impossible to know which, so using the latest versions is probably the easiest and safest bet.","title":"maven warning &quot;Ignoring unrecognized line ?? release.properties&quot;","body":"<p>The advice I have found (I do not remember where anymore) to solve this problem is:</p>\n<h4>Make sure that maven, git, any maven-plugins you might be using, and everything else in the build toolchain is of the latest version.</h4>\n<p>There are probably various combinations of versions that work, but it is practically impossible to know which, so using the latest versions is probably the easiest and safest bet.</p>\n"}],"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1065,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1699564769,"creation_date":1653430921,"question_id":72370069,"body_markdown":"I recently created a github workflow which makes a maven release. I am done fixing the errors, now I am working on fixing the warnings.  One of the warnings reads as follows:\r\n\r\n    Warning:  Ignoring unrecognized line: ?? release.properties\r\n\r\nNote that this message is in a line all by itself, and it is not prefixed by [WARNING] or anything else. (Still, github finds the &quot;Warning:&quot; prefix and colors it yellow.)\r\n\r\nNeedless to say, absolutely none of the following can be found anywhere within my project:\r\n  - a file called `release.properties`.\r\n  - the text `release.properties` in any file.\r\n  - the text `??` in any file.\r\n\r\nThe same warning also appears elsewhere in my log, like this:\r\n\r\n    Warning:  Ignoring unrecognized line: ?? claims/pom.xml.releaseBackup\r\n    Warning:  Ignoring unrecognized line: ?? claims/target/\r\n\r\n(&quot;claims&quot; is the name of a directory in my project.)\r\n\r\nInterestingly enough, this is also happening to others, because [the relevant google search](https://www.google.com/search?q=maven+Warning+%22Ignoring+unrecognized+line%22+site%3Astackoverflow.com) retrieves many results from people discussing all kinds of things unrelated to this question, and they are posting their logs, and their logs all by coincidence contain the warning that I am asking about. But they are not discussing this warning, they are discussing other things.\r\n\r\nIf it matters, the workflow is here: https://github.com/mikenakis/Bathyscaphe/runs/6576104769\r\n\r\nSo, why is this warning being issued, and how might I fix it?\r\n","title":"maven warning &quot;Ignoring unrecognized line ?? release.properties&quot;","body":"<p>I recently created a github workflow which makes a maven release. I am done fixing the errors, now I am working on fixing the warnings.  One of the warnings reads as follows:</p>\n<pre><code>Warning:  Ignoring unrecognized line: ?? release.properties\n</code></pre>\n<p>Note that this message is in a line all by itself, and it is not prefixed by [WARNING] or anything else. (Still, github finds the &quot;Warning:&quot; prefix and colors it yellow.)</p>\n<p>Needless to say, absolutely none of the following can be found anywhere within my project:</p>\n<ul>\n<li>a file called <code>release.properties</code>.</li>\n<li>the text <code>release.properties</code> in any file.</li>\n<li>the text <code>??</code> in any file.</li>\n</ul>\n<p>The same warning also appears elsewhere in my log, like this:</p>\n<pre><code>Warning:  Ignoring unrecognized line: ?? claims/pom.xml.releaseBackup\nWarning:  Ignoring unrecognized line: ?? claims/target/\n</code></pre>\n<p>(&quot;claims&quot; is the name of a directory in my project.)</p>\n<p>Interestingly enough, this is also happening to others, because <a href=\"https://www.google.com/search?q=maven+Warning+%22Ignoring+unrecognized+line%22+site%3Astackoverflow.com\" rel=\"nofollow noreferrer\">the relevant google search</a> retrieves many results from people discussing all kinds of things unrelated to this question, and they are posting their logs, and their logs all by coincidence contain the warning that I am asking about. But they are not discussing this warning, they are discussing other things.</p>\n<p>If it matters, the workflow is here: <a href=\"https://github.com/mikenakis/Bathyscaphe/runs/6576104769\" rel=\"nofollow noreferrer\">https://github.com/mikenakis/Bathyscaphe/runs/6576104769</a></p>\n<p>So, why is this warning being issued, and how might I fix it?</p>\n"},{"tags":["java","maven","maven-dependency-plugin","versions-maven-plugin"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1699561961,"post_id":77455646,"comment_id":136551241,"body_markdown":"when it says &#39;in Dependency Management&#39;, is there a parent pom that defines dependency versions in  a `&lt;dependencyManagement&gt;` block that aren&#39;t actually used by your projects? (tree outputs the versions you use from what I can tell)","body":"when it says &#39;in Dependency Management&#39;, is there a parent pom that defines dependency versions in  a <code>&lt;dependencyManagement&gt;</code> block that aren&#39;t actually used by your projects? (tree outputs the versions you use from what I can tell)"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1699563609,"post_id":77455646,"comment_id":136551534,"body_markdown":"Not in my direct POM. It turns out one of them was coming from the parent POM of a library (my own library hehe). See my answer, which includes the command to find out where the dependencies are being managed.","body":"Not in my direct POM. It turns out one of them was coming from the parent POM of a library (my own library hehe). See my answer, which includes the command to find out where the dependencies are being managed."}],"answers":[{"tags":[],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699563537,"creation_date":1699563537,"answer_id":77456305,"question_id":77455646,"body_markdown":"Someone on the Maven Users mailing list pointed me to the [Maven Help Plugin][1], which has an [`effective-pom`][2] goal with a [`verbose`][3] option. I already knew about an effective POM, but I didn&#39;t realize the goal had a `verbose` option\r\n\r\n```bash\r\nmvn help:effective-pom -Dverbose=true\r\n```\r\n\r\nThat gives me effective dependency management of the individual dependencies, along with the POM each comes from—even with line numbers.\r\n\r\nEpilogue: It turns out `biz.aQute.bnd:biz.aQute.bnd.annotation:6.4.1` is coming from `org.apache.logging:logging-parent:10.1.1`. And `org.mockito:mockito-inline:4.8.1` was getting in because I forgot that one of my own libraries &#128522; hadn&#39;t been updated to use my newer root POM (which manages the versions of testing libraries).\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-help-plugin/\r\n  [2]: https://maven.apache.org/plugins/maven-help-plugin/effective-pom-mojo.html\r\n  [3]: https://maven.apache.org/plugins/maven-help-plugin/effective-pom-mojo.html#verbose","title":"Find source of outdated dependencies indicated by Versions Maven Plugin","body":"<p>Someone on the Maven Users mailing list pointed me to the <a href=\"https://maven.apache.org/plugins/maven-help-plugin/\" rel=\"nofollow noreferrer\">Maven Help Plugin</a>, which has an <a href=\"https://maven.apache.org/plugins/maven-help-plugin/effective-pom-mojo.html\" rel=\"nofollow noreferrer\"><code>effective-pom</code></a> goal with a <a href=\"https://maven.apache.org/plugins/maven-help-plugin/effective-pom-mojo.html#verbose\" rel=\"nofollow noreferrer\"><code>verbose</code></a> option. I already knew about an effective POM, but I didn't realize the goal had a <code>verbose</code> option</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn help:effective-pom -Dverbose=true\n</code></pre>\n<p>That gives me effective dependency management of the individual dependencies, along with the POM each comes from—even with line numbers.</p>\n<p>Epilogue: It turns out <code>biz.aQute.bnd:biz.aQute.bnd.annotation:6.4.1</code> is coming from <code>org.apache.logging:logging-parent:10.1.1</code>. And <code>org.mockito:mockito-inline:4.8.1</code> was getting in because I forgot that one of my own libraries 😊 hadn't been updated to use my newer root POM (which manages the versions of testing libraries).</p>\n"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77456305,"answer_count":1,"score":0,"last_activity_date":1699563537,"creation_date":1699555420,"question_id":77455646,"body_markdown":"In my Maven project (an aggregate project with child projects) I issue the following command for the [Versions Maven Plugin][1]:\r\n\r\n```bash\r\nmvn versions:display-dependency-updates\r\n```\r\n\r\nThere are a couple of outdated dependencies I&#39;m not sure where are coming from:\r\n\r\n```\r\n[INFO] The following dependencies in Dependency Management have newer versions:\r\n[INFO]   biz.aQute.bnd:biz.aQute.bnd.annotation ................ 6.4.1 -&gt; 7.0.0\r\n[INFO]   org.mockito:mockito-inline ............................ 4.8.1 -&gt; 5.2.0\r\n```\r\n\r\nUnfortunately, try as I might, I can&#39;t find which library references these. I&#39;ve tried the following with the [Maven Dependency Plugin][2], both in the root project and in child projects:\r\n\r\n```bash\r\nmvn dependency:tree\r\n```\r\n\r\nNone of the output mentions `biz.aQute.bnd:biz.aQute.bnd.annotation` or `org.mockito:mockito-inline`.\r\n\r\nThe two suspects are:\r\n\r\n* `com.amazonaws:aws-lambda-java-log4j2:1.6.0` or `org.apache.logging.log4j:log4j-bom:2.21.1` (for `biz.aQute.bnd:biz.aQute.bnd.annotation`)\r\n* `com.fasterxml.jackson:jackson-bom:2.15.3` (for `org.mockito:mockito-inline`)\r\n\r\nBut those are just suspicions based upon the additional dependency management I have in the subprojects where those outdated dependencies show up.\r\n\r\nIs there any command I can use to find out which dependency is bringing in the outdated dependencies listed by the Versions Maven Plugin?\r\n\r\n  [1]: https://www.mojohaus.org/versions/versions-maven-plugin/\r\n  [2]: https://maven.apache.org/plugins/maven-dependency-plugin/index.html","title":"Find source of outdated dependencies indicated by Versions Maven Plugin","body":"<p>In my Maven project (an aggregate project with child projects) I issue the following command for the <a href=\"https://www.mojohaus.org/versions/versions-maven-plugin/\" rel=\"nofollow noreferrer\">Versions Maven Plugin</a>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn versions:display-dependency-updates\n</code></pre>\n<p>There are a couple of outdated dependencies I'm not sure where are coming from:</p>\n<pre><code>[INFO] The following dependencies in Dependency Management have newer versions:\n[INFO]   biz.aQute.bnd:biz.aQute.bnd.annotation ................ 6.4.1 -&gt; 7.0.0\n[INFO]   org.mockito:mockito-inline ............................ 4.8.1 -&gt; 5.2.0\n</code></pre>\n<p>Unfortunately, try as I might, I can't find which library references these. I've tried the following with the <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/index.html\" rel=\"nofollow noreferrer\">Maven Dependency Plugin</a>, both in the root project and in child projects:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn dependency:tree\n</code></pre>\n<p>None of the output mentions <code>biz.aQute.bnd:biz.aQute.bnd.annotation</code> or <code>org.mockito:mockito-inline</code>.</p>\n<p>The two suspects are:</p>\n<ul>\n<li><code>com.amazonaws:aws-lambda-java-log4j2:1.6.0</code> or <code>org.apache.logging.log4j:log4j-bom:2.21.1</code> (for <code>biz.aQute.bnd:biz.aQute.bnd.annotation</code>)</li>\n<li><code>com.fasterxml.jackson:jackson-bom:2.15.3</code> (for <code>org.mockito:mockito-inline</code>)</li>\n</ul>\n<p>But those are just suspicions based upon the additional dependency management I have in the subprojects where those outdated dependencies show up.</p>\n<p>Is there any command I can use to find out which dependency is bringing in the outdated dependencies listed by the Versions Maven Plugin?</p>\n"},{"tags":["javascript","java","reactjs","arrays"],"comments":[{"owner":{"account_id":9204194,"reputation":25,"user_id":6840122,"display_name":"Azu"},"score":0,"creation_date":1699552608,"post_id":77455361,"comment_id":136549738,"body_markdown":"Adding this here until the edit limit time period is expired: I want to make it clear that the shared office codes also share the same office name","body":"Adding this here until the edit limit time period is expired: I want to make it clear that the shared office codes also share the same office name"}],"answers":[{"tags":[],"owner":{"account_id":1819975,"reputation":11164,"user_id":1654241,"display_name":"Valentin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699563401,"creation_date":1699563401,"answer_id":77456290,"question_id":77455361,"body_markdown":"`Array.includes` (and `Array.indexOf`) only check reference equality for objects. It means that the following expression will always be false:\r\n```javascript\r\n{} == {}\r\n```\r\nBecause `{}` makes a new object with a different reference each time.\r\n\r\nTo make your code work, you need to compare each office `OFFICE_CODE` and you can do it by using `Array.some` or `Array.find` like this:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const Regions = [{\r\n        REGION_CODE: &#39;ABC&#39;,\r\n        REGION_NAME: &#39;SOMEREGION1&#39;,\r\n        OFFICES: [{\r\n            OFFICE_CODE: &#39;ABD&#39;,\r\n            OFFICE_NAME: &#39;SOMEOFFICE&#39;\r\n          },\r\n          // Dozens of unique entries for this region\r\n        ]\r\n      },\r\n      {\r\n        REGION_CODE: &#39;ABD&#39;,\r\n        REGION_NAME: &#39;SOMEREGION2&#39;,\r\n        OFFICES: [{\r\n            OFFICE_CODE: &#39;CDF&#39;,\r\n            OFFICE_NAME: &#39;SOMEOFFICE2&#39;\r\n          }, {\r\n            OFFICE_CODE: &#39;ABD&#39;,\r\n            OFFICE_NAME: &#39;SOMEOFFICE&#39;\r\n          }\r\n          // Dozens of unique entries for this region\r\n        ]\r\n      },\r\n      // several similar entries\r\n    ];\r\n\r\n    const Offices = [];\r\n    Regions.forEach(region =&gt; {\r\n      region.OFFICES.forEach(newOffice =&gt; {\r\n        if (!Offices.some(office =&gt; office.OFFICE_CODE === newOffice.OFFICE_CODE)) {\r\n          Offices.push(newOffice)\r\n        }\r\n      });\r\n    });\r\n\r\n    console.log(Offices);\r\n\r\n    const Offices2 = [];\r\n    Regions.forEach(region =&gt; {\r\n      region.OFFICES.forEach(newOffice =&gt; {\r\n        if (!Offices2.find(office =&gt; office.OFFICE_CODE === newOffice.OFFICE_CODE)) {\r\n          Offices2.push(newOffice)\r\n        }\r\n      });\r\n    });\r\n\r\n    console.log(Offices2);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"React &amp; Javascript: Issues Removing Duplicate Values from Array","body":"<p><code>Array.includes</code> (and <code>Array.indexOf</code>) only check reference equality for objects. It means that the following expression will always be false:</p>\n<pre class=\"lang-js prettyprint-override\"><code>{} == {}\n</code></pre>\n<p>Because <code>{}</code> makes a new object with a different reference each time.</p>\n<p>To make your code work, you need to compare each office <code>OFFICE_CODE</code> and you can do it by using <code>Array.some</code> or <code>Array.find</code> like this:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const Regions = [{\n    REGION_CODE: 'ABC',\n    REGION_NAME: 'SOMEREGION1',\n    OFFICES: [{\n        OFFICE_CODE: 'ABD',\n        OFFICE_NAME: 'SOMEOFFICE'\n      },\n      // Dozens of unique entries for this region\n    ]\n  },\n  {\n    REGION_CODE: 'ABD',\n    REGION_NAME: 'SOMEREGION2',\n    OFFICES: [{\n        OFFICE_CODE: 'CDF',\n        OFFICE_NAME: 'SOMEOFFICE2'\n      }, {\n        OFFICE_CODE: 'ABD',\n        OFFICE_NAME: 'SOMEOFFICE'\n      }\n      // Dozens of unique entries for this region\n    ]\n  },\n  // several similar entries\n];\n\nconst Offices = [];\nRegions.forEach(region =&gt; {\n  region.OFFICES.forEach(newOffice =&gt; {\n    if (!Offices.some(office =&gt; office.OFFICE_CODE === newOffice.OFFICE_CODE)) {\n      Offices.push(newOffice)\n    }\n  });\n});\n\nconsole.log(Offices);\n\nconst Offices2 = [];\nRegions.forEach(region =&gt; {\n  region.OFFICES.forEach(newOffice =&gt; {\n    if (!Offices2.find(office =&gt; office.OFFICE_CODE === newOffice.OFFICE_CODE)) {\n      Offices2.push(newOffice)\n    }\n  });\n});\n\nconsole.log(Offices2);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":9204194,"reputation":25,"user_id":6840122,"display_name":"Azu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77456290,"answer_count":1,"score":0,"last_activity_date":1699563401,"creation_date":1699552138,"question_id":77455361,"body_markdown":"I am working in react and Javascript and have an array object that is like so:\r\n\r\n    const Regions = [\r\n      { REGION_CODE: &#39;ABC&#39;, REGION_NAME: &#39;SOMEREGION1&#39;, OFFICES: [\r\n        {OFFICE_CODE: &#39;ABD&#39;, OFFICE_NAME: &#39;SOMEOFFICE&#39;},\r\n         ... // Dozens of unique entries for this region\r\n      ]},\r\n      { REGION_CODE: &#39;ABD&#39;, REGION_NAME: &#39;SOMEREGION2&#39;, OFFICES: [\r\n        {OFFICE_CODE: &#39;CDF&#39;, OFFICE_NAME: &#39;SOMEOFFICE2&#39;}\r\n         ... // Dozens of unique entries for this region\r\n      ]},\r\n      ... // several similar entries\r\n    ]\r\n\r\nThe issue I have with the array is that several of the Regions entries have offices that share an office code with other Regions. The end goal is that I have a search filter that lists all unique office codes when &quot;All Regions&quot; is selected. However, despite other Q&amp;A I have searched through, I am failing to get the duplicates to be removed.\r\n\r\nI have tried the following:\r\n\r\n    //Variant 1\r\n    const Offices = []\r\n    Regions.forEach(region =&gt; {\r\n      region.OFFICES.forEach(office =&gt; {\r\n        if(!Offices.includes(office)) {\r\n          Offices.push(office)\r\n        }\r\n      }\r\n    });\r\n\r\n    //Variant 2\r\n    const Offices = []\r\n    Regions.forEach(region =&gt; {\r\n      region.OFFICES.forEach(office =&gt; {\r\n        if(Offices.indexOf(office) === -1) {\r\n          Offices.push(office)\r\n        }\r\n      }\r\n    });\r\n\r\n    //Variant 3\r\n    const Offices = []\r\n    Regions.forEach(region =&gt; {\r\n      region.OFFICES.forEach(office =&gt; {\r\n        Offices.push(office)\r\n      }\r\n    });\r\n    const UniqueOffices = Array.from(new Set(Offices));\r\n\r\nTo my understanding, all of the above &quot;should&quot; work, but the results I get are always the same with it just giving me back all entries instead of just the unique ones. I have even tried using the map version instead, but that I am almost certain I am misunderstanding something. When I simplify the array to something like\r\n\r\n    const item = [ &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;c&#39;, &#39;a&#39;]\r\n\r\nOr\r\n\r\n    const item = [ 1, 2, 3, 3, 2, 4 ]\r\n\r\nThe above seems to work without any issues...\r\n\r\nDoes anyone know what I am doing wrong? Any suggestions on how to fix this issue? Any assistance would be greatly appreciated.","title":"React &amp; Javascript: Issues Removing Duplicate Values from Array","body":"<p>I am working in react and Javascript and have an array object that is like so:</p>\n<pre><code>const Regions = [\n  { REGION_CODE: 'ABC', REGION_NAME: 'SOMEREGION1', OFFICES: [\n    {OFFICE_CODE: 'ABD', OFFICE_NAME: 'SOMEOFFICE'},\n     ... // Dozens of unique entries for this region\n  ]},\n  { REGION_CODE: 'ABD', REGION_NAME: 'SOMEREGION2', OFFICES: [\n    {OFFICE_CODE: 'CDF', OFFICE_NAME: 'SOMEOFFICE2'}\n     ... // Dozens of unique entries for this region\n  ]},\n  ... // several similar entries\n]\n</code></pre>\n<p>The issue I have with the array is that several of the Regions entries have offices that share an office code with other Regions. The end goal is that I have a search filter that lists all unique office codes when &quot;All Regions&quot; is selected. However, despite other Q&amp;A I have searched through, I am failing to get the duplicates to be removed.</p>\n<p>I have tried the following:</p>\n<pre><code>//Variant 1\nconst Offices = []\nRegions.forEach(region =&gt; {\n  region.OFFICES.forEach(office =&gt; {\n    if(!Offices.includes(office)) {\n      Offices.push(office)\n    }\n  }\n});\n\n//Variant 2\nconst Offices = []\nRegions.forEach(region =&gt; {\n  region.OFFICES.forEach(office =&gt; {\n    if(Offices.indexOf(office) === -1) {\n      Offices.push(office)\n    }\n  }\n});\n\n//Variant 3\nconst Offices = []\nRegions.forEach(region =&gt; {\n  region.OFFICES.forEach(office =&gt; {\n    Offices.push(office)\n  }\n});\nconst UniqueOffices = Array.from(new Set(Offices));\n</code></pre>\n<p>To my understanding, all of the above &quot;should&quot; work, but the results I get are always the same with it just giving me back all entries instead of just the unique ones. I have even tried using the map version instead, but that I am almost certain I am misunderstanding something. When I simplify the array to something like</p>\n<pre><code>const item = [ 'a', 'b', 'c', 'd', 'c', 'a']\n</code></pre>\n<p>Or</p>\n<pre><code>const item = [ 1, 2, 3, 3, 2, 4 ]\n</code></pre>\n<p>The above seems to work without any issues...</p>\n<p>Does anyone know what I am doing wrong? Any suggestions on how to fix this issue? Any assistance would be greatly appreciated.</p>\n"},{"tags":["java","android","button","barcode-scanner"],"comments":[{"owner":{"account_id":39846,"reputation":991113,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1699560961,"post_id":77456006,"comment_id":136551067,"body_markdown":"Contact the hardware manufacturer.","body":"Contact the hardware manufacturer."},{"owner":{"account_id":3226600,"reputation":13,"user_id":2987530,"display_name":"jav"},"score":0,"creation_date":1699562981,"post_id":77456006,"comment_id":136551422,"body_markdown":"I am afraid I got it in China, 80 % cheaper with the idea of testing.","body":"I am afraid I got it in China, 80 % cheaper with the idea of testing."},{"owner":{"account_id":3226600,"reputation":13,"user_id":2987530,"display_name":"jav"},"score":0,"creation_date":1699796699,"post_id":77456006,"comment_id":136573708,"body_markdown":"any others ideas?","body":"any others ideas?"}],"owner":{"account_id":3226600,"reputation":13,"user_id":2987530,"display_name":"jav"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699563360,"creation_date":1699559693,"question_id":77456006,"body_markdown":"Is it possible to configure the physical scan button of a Android PDA Handheld Terminal and set as a default behavior when every time I scan a QR code after processing the information scanned with java, gets as an example XXX YYYY and it is pasted in wherever app is open like an entry text field.\r\n\r\nI have seen that with &quot;public boolean dispatchKeyEvent(KeyEvent e)&quot; and &quot;e.getAction()==KeyEvent.ACTION_DOWN&quot; seems that it is possible to capture the physical PDA button.\r\n\r\nMany thanks for any feedback.\r\n\r\nI did process all the info and able to get what I want, but need to configure the scan PDA button\r\n\r\nIt is for Android 12","title":"control physical scan button in PDA","body":"<p>Is it possible to configure the physical scan button of a Android PDA Handheld Terminal and set as a default behavior when every time I scan a QR code after processing the information scanned with java, gets as an example XXX YYYY and it is pasted in wherever app is open like an entry text field.</p>\n<p>I have seen that with &quot;public boolean dispatchKeyEvent(KeyEvent e)&quot; and &quot;e.getAction()==KeyEvent.ACTION_DOWN&quot; seems that it is possible to capture the physical PDA button.</p>\n<p>Many thanks for any feedback.</p>\n<p>I did process all the info and able to get what I want, but need to configure the scan PDA button</p>\n<p>It is for Android 12</p>\n"},{"tags":["java","android","android-studio","adb","device"],"comments":[{"owner":{"account_id":9265962,"reputation":59,"user_id":6881420,"accept_rate":0,"display_name":"coder"},"score":0,"creation_date":1512036675,"post_id":47570678,"comment_id":82098822,"body_markdown":"once try adb kill-server and then adb start-server.","body":"once try adb kill-server and then adb start-server."},{"owner":{"account_id":433937,"reputation":790,"user_id":819561,"accept_rate":75,"display_name":"Dimon"},"score":0,"creation_date":1512037787,"post_id":47570678,"comment_id":82099536,"body_markdown":"How did you know that ADB is not started? After last update of Adnrdoid studio &quot;adb start-server&quot; command do not print * daemon not running. starting it now on port 5037 * and * daemon started successfully *","body":"How did you know that ADB is not started? After last update of Adnrdoid studio &quot;adb start-server&quot; command do not print * daemon not running. starting it now on port 5037 * and * daemon started successfully *"},{"owner":{"account_id":433937,"reputation":790,"user_id":819561,"accept_rate":75,"display_name":"Dimon"},"score":0,"creation_date":1512039638,"post_id":47570678,"comment_id":82100609,"body_markdown":"The default port usually is 5037. Have you changed it?","body":"The default port usually is 5037. Have you changed it?"},{"owner":{"account_id":433937,"reputation":790,"user_id":819561,"accept_rate":75,"display_name":"Dimon"},"score":0,"creation_date":1512039832,"post_id":47570678,"comment_id":82100731,"body_markdown":"Try to run on different port&#39;s number. Command to run adb server on different port &gt;$ adb -P 12345 start-server","body":"Try to run on different port&#39;s number. Command to run adb server on different port &gt;$ adb -P 12345 start-server"},{"owner":{"account_id":4619811,"reputation":1,"user_id":3745211,"display_name":"Udi M."},"score":0,"creation_date":1512361481,"post_id":47570678,"comment_id":82210663,"body_markdown":"@Dimon I don&#39;t know why, but my default port is 5038. But when I run adb -P 5037 start-server it gives me the same result: //adb start-server //cannot bind tcp:5037 //daemon not running. starting it now on port 5037 //exit: 255. kill-server works, however.","body":"@Dimon I don&#39;t know why, but my default port is 5038. But when I run adb -P 5037 start-server it gives me the same result: //adb start-server //cannot bind tcp:5037 //daemon not running. starting it now on port 5037 //exit: 255. kill-server works, however."},{"owner":{"account_id":4619811,"reputation":1,"user_id":3745211,"display_name":"Udi M."},"score":0,"creation_date":1512993289,"post_id":47570678,"comment_id":82465047,"body_markdown":"I tried to run the application on different target, but got poor results: `Exception: Working Directory:null Environment:null`","body":"I tried to run the application on different target, but got poor results: <code>Exception: Working Directory:null Environment:null</code>"}],"answers":[{"tags":[],"owner":{"account_id":4258816,"reputation":1529,"user_id":3483694,"accept_rate":60,"display_name":"Dhruv Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512040521,"creation_date":1512040521,"answer_id":47572127,"question_id":47570678,"body_markdown":"These steps may help,\r\n\r\n 1. Disconnect your phone \r\n 2. Manually kill process(adb.exe) from Task Manager if exist.\r\n 3. Apply &lt;..sdk/platform-tools&gt;adb kill-server in command prompt\r\n 4. Apply adb start-server","title":"adb &#39;start server&#39; command fails","body":"<p>These steps may help,</p>\n\n<ol>\n<li>Disconnect your phone </li>\n<li>Manually kill process(adb.exe) from Task Manager if exist.</li>\n<li>Apply &lt;..sdk/platform-tools>adb kill-server in command prompt</li>\n<li>Apply adb start-server</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4619811,"reputation":1,"user_id":3745211,"display_name":"Udi M."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513243681,"creation_date":1513243681,"answer_id":47809920,"question_id":47570678,"body_markdown":"I read in the following answer -\r\nhttps://stackoverflow.com/questions/31743477/error-while-executing-adb-command-programmatically that we have to root the device - the device has to be in superuser root mode - in order to run `adb start-server`.","title":"adb &#39;start server&#39; command fails","body":"<p>I read in the following answer -\n<a href=\"https://stackoverflow.com/questions/31743477/error-while-executing-adb-command-programmatically\">Error while executing adb command programmatically</a> that we have to root the device - the device has to be in superuser root mode - in order to run <code>adb start-server</code>.</p>\n"},{"tags":[],"owner":{"account_id":20887328,"reputation":41,"user_id":15343609,"display_name":"Tiago Bruckmann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699563282,"creation_date":1699563282,"answer_id":77456279,"question_id":47570678,"body_markdown":"I had a similar problem, and solved it by running these commands\r\n\r\n1. ```which adb```\r\n\r\nI had this return (because i had Android Studio installed) &lt;br&gt;\r\n```/home/tiago/Android/Sdk/platform-tools/adb```\r\n\r\n2. ```export ADB=/home/tiago/Android/Sdk/platform-tools/adb```\r\n3. ```adb start-server```\r\n","title":"adb &#39;start server&#39; command fails","body":"<p>I had a similar problem, and solved it by running these commands</p>\n<ol>\n<li><code>which adb</code></li>\n</ol>\n<p>I had this return (because i had Android Studio installed) <br>\n<code>/home/tiago/Android/Sdk/platform-tools/adb</code></p>\n<ol start=\"2\">\n<li><code>export ADB=/home/tiago/Android/Sdk/platform-tools/adb</code></li>\n<li><code>adb start-server</code></li>\n</ol>\n"}],"owner":{"account_id":4619811,"reputation":1,"user_id":3745211,"display_name":"Udi M."},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2599,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":3,"score":-3,"last_activity_date":1699563282,"creation_date":1512036200,"question_id":47570678,"body_markdown":"I connect Samsung device via USB to my laptop. When I run the command *adb start-server* from AndroidStudio/Java project, It doesn&#39;t work. \r\nThe same command works from terminal:\r\n\r\n&lt;b&gt;program output:&lt;/b&gt;&lt;pre&gt;\r\nI/System.out: adb start-server\r\nI/System.out: cannot bind `tcp:5038`\r\nI/System.out: daemon not running. starting it now on port 5038\r\nI/System.out: exit: 255&lt;/pre&gt;\r\n\r\nSimilar thing happends when I run &lt;i&gt;adb -d devices -l&lt;/i&gt; command:&lt;pre&gt;\r\nI/System.out: adb -d devices -l\r\nI/System.out: cannot bind `tcp:5038`\r\nI/System.out: daemon not running. starting it now on port 5038\r\nI/System.out: exit: 1&lt;/pre&gt;\r\n\r\n&lt;b&gt;Terminal output:&lt;/b&gt;&lt;pre&gt;\r\nC:\\Users\\...\\Android\\Sdk\\platform-tools^adb start-server \r\nC:\\Users\\...\\Android\\Sdk\\platform-tools^\r\nC:\\Users\\...\\Android\\Sdk\\platform-tools^adb -d devices -l\r\nList of devices attached\r\ndf346805               device product:j53gxx model:SM_J500H device:j53g \r\nC:\\Users\\...\\Android\\Sdk\\platform-tools^&lt;/pre&gt;\r\n\r\n&lt;b&gt;The relevant Java command:&lt;/b&gt;&lt;pre&gt;\r\nProcess proc = Runtime.getRuntime().exec(&quot;adb start-server&quot;);&lt;/pre&gt;","title":"adb &#39;start server&#39; command fails","body":"<p>I connect Samsung device via USB to my laptop. When I run the command <em>adb start-server</em> from AndroidStudio/Java project, It doesn't work. \nThe same command works from terminal:</p>\n\n<p><b>program output:</b><pre>\nI/System.out: adb start-server\nI/System.out: cannot bind <code>tcp:5038</code>\nI/System.out: daemon not running. starting it now on port 5038\nI/System.out: exit: 255</pre></p>\n\n<p>Similar thing happends when I run <i>adb -d devices -l</i> command:<pre>\nI/System.out: adb -d devices -l\nI/System.out: cannot bind <code>tcp:5038</code>\nI/System.out: daemon not running. starting it now on port 5038\nI/System.out: exit: 1</pre></p>\n\n<p><b>Terminal output:</b><pre>\nC:\\Users...\\Android\\Sdk\\platform-tools^adb start-server \nC:\\Users...\\Android\\Sdk\\platform-tools^\nC:\\Users...\\Android\\Sdk\\platform-tools^adb -d devices -l\nList of devices attached\ndf346805               device product:j53gxx model:SM_J500H device:j53g \nC:\\Users...\\Android\\Sdk\\platform-tools^</pre></p>\n\n<p><b>The relevant Java command:</b><pre>\nProcess proc = Runtime.getRuntime().exec(\"adb start-server\");</pre></p>\n"},{"tags":["java","spring-boot","mockito"],"comments":[{"owner":{"account_id":39208,"reputation":251210,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1699556340,"post_id":77455471,"comment_id":136550377,"body_markdown":"What annotations are applied to your test? Why do you mix beans and mockito?","body":"What annotations are applied to your test? Why do you mix beans and mockito?"},{"owner":{"account_id":39208,"reputation":251210,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1699556398,"post_id":77455471,"comment_id":136550387,"body_markdown":"`anyString()` does _not_ match `null`. What is the value of `ctx.getJob().getId()` when your method is executed?","body":"<code>anyString()</code> does <i>not</i> match <code>null</code>. What is the value of <code>ctx.getJob().getId()</code> when your method is executed?"},{"owner":{"account_id":27435244,"reputation":1,"user_id":20931234,"display_name":"Sandy"},"score":0,"creation_date":1699561465,"post_id":77455471,"comment_id":136551158,"body_markdown":"@Test annotation is applied to my test","body":"@Test annotation is applied to my test"},{"owner":{"account_id":27435244,"reputation":1,"user_id":20931234,"display_name":"Sandy"},"score":0,"creation_date":1699562175,"post_id":77455471,"comment_id":136551275,"body_markdown":"@knittl you are absolutely right. My ctx.getJob().getId() was null. Oh my god, I spent so much time on this. Thank you so much","body":"@knittl you are absolutely right. My ctx.getJob().getId() was null. Oh my god, I spent so much time on this. Thank you so much"}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251210,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699562897,"creation_date":1699562897,"answer_id":77456239,"question_id":77455471,"body_markdown":"ArgumentMatchers such as `Mockito.anyString()` do _not_ match `null`. Make sure your code is not passing null (and thus the stubbed method is not matched). If your stub needs to handle nulls use `any()` (matches anything, including null) or `nullable(String.class)` (matches any string _and_ nulls).","title":"Even when mocking with Mockito I am getting Null Pointer Exception","body":"<p>ArgumentMatchers such as <code>Mockito.anyString()</code> do <em>not</em> match <code>null</code>. Make sure your code is not passing null (and thus the stubbed method is not matched). If your stub needs to handle nulls use <code>any()</code> (matches anything, including null) or <code>nullable(String.class)</code> (matches any string <em>and</em> nulls).</p>\n"}],"owner":{"account_id":27435244,"reputation":1,"user_id":20931234,"display_name":"Sandy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699562897,"creation_date":1699553424,"question_id":77455471,"body_markdown":"I am using Mockito to mock a call to a method of a different service in Test code. However, the code where the actually call is made, for some reason instead of having my mocked value, it is null so my test fails with a Null Pointer Exception.\r\n\r\nHere is a section of code of actual function. This code renews a jobTimeout for long running queries in a sepearate thread\r\n\r\n    CompanionTask.java \r\n    public void run()\r\n    { \r\n     try\r\n     { \r\n        String jobLeaseTimeoutString = header.get(JOB_LEASE_TIMEOUT).get(0)\r\n        Instant jobLeaseTimeout = Instant.parse(jobLeaseTimeoutString)\r\n       if (jobLeaseTime != null)\r\n       {\r\n         if (isJobLeaseExpiring(jobLeaseTimeout))\r\n         {\r\n          ResponseEntity&lt;ReportJob&gt; reply = ctx.getReportingManagerClient().refreshReportJobLease(ctx.getJob().getId());\r\n          jobLeaseTimeoutString = reply.getHeaders().get(JOB_LEASE_TIMEOUT).get(0);\r\n        }\r\n        else\r\n        {\r\n          sleep();\r\n        }\r\n      }\r\n    }\r\n\r\n   \r\nThis is the Test where I mocked the call to ReportManagerClient but it is showing up as NULL when debugging\r\n\r\n    CompanionTaskTest.java\r\n    @MockBean\r\n    protected ReportingManagerIntegration reportingManagerClient;\r\n    @MockBean\r\n    protected NamedParameterJdbcTemplate jdbcTemplate;\r\n    @Test\r\n    public void testCompanionTask() \r\n    {\r\n      ReportJob reportJob = generateReportJob();\r\n      QueryContext ctx = QueryContext.builder()\r\n              .jdbc(jdbcTemplate)\r\n              .busy(new AtomicInteger())\r\n              .reportingManagerClient(reportingManagerClient)\r\n              .job(reportJob)\r\n              .build();\r\n    \r\n      ReportJob reportJobMock = ReportJob.builder()\r\n             .createdAt(Instant.now())\r\n             .expiresAt(Instant.now().plusSeconds(60)\r\n             .build();\r\n    \r\n      Instant leaseRenewTimeout = Instant.now().plusSeconds(10);\r\n      ResponseEntity responseEntity = ResonseEntity.status(HttpStatus.OK)\r\n            .contentType(MediaType.APPLICATION_JSON)\r\n            .header(JOB_LEASE_TIMEOUT, leaseTimeout.toString())\r\n            .body(reportJobMock);\r\n    \r\n     Instant leaseRenewTimeout = Instant.now(0.plusSeconds(300);\r\n     ResponseEntity&lt;ReportJob&gt; responseReportJob = ResponseEntity.ok()\r\n           .contentTyoe(MediaType.APPLICATION_JSON)\r\n           .header(JOB_LEASE_TIMEOUT, leaseTimeout.toString())\r\n           .body(reportJobMock);\r\n       when(ctx.getReportingManagerClient().refreshReportJobLease(anyString())).thenReturn(responseReportJob);\r\n    \r\n    when(reportingManagerClient.refreshReportJobLease(anyString())).thenReturn(responseReportJob);\r\n    CompanionTask task = new CompanionTask(ctx, responseEntity.getHeaders());\r\n    something\r\n    task.run();\r\n\r\nx\r\n\r\nMy work has stackvoerflow blocked , so I had to manually write all this code. Sorry for any typo I might have overlooked.\r\nSo even though I have these two lines\r\nwhen(ctx.getReportingManagerClient().refreshReportJobLease(anyString())).thenReturn(responseReportJob);\r\nwhen(reportingManagerClient.refreshReportJobLease(anyString())).thenReturn(responseReportJob);\r\n\r\nwhen the control is going to \r\nResponseEntity&lt;ReportJob&gt; reply = ctx.getReportingManagerClient().refreshReportJobLease(ctx.getJob().getId());\r\nreply is NULL and that is giving me a NullPointerException.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Even when mocking with Mockito I am getting Null Pointer Exception","body":"<p>I am using Mockito to mock a call to a method of a different service in Test code. However, the code where the actually call is made, for some reason instead of having my mocked value, it is null so my test fails with a Null Pointer Exception.</p>\n<p>Here is a section of code of actual function. This code renews a jobTimeout for long running queries in a sepearate thread</p>\n<pre><code>CompanionTask.java \npublic void run()\n{ \n try\n { \n    String jobLeaseTimeoutString = header.get(JOB_LEASE_TIMEOUT).get(0)\n    Instant jobLeaseTimeout = Instant.parse(jobLeaseTimeoutString)\n   if (jobLeaseTime != null)\n   {\n     if (isJobLeaseExpiring(jobLeaseTimeout))\n     {\n      ResponseEntity&lt;ReportJob&gt; reply = ctx.getReportingManagerClient().refreshReportJobLease(ctx.getJob().getId());\n      jobLeaseTimeoutString = reply.getHeaders().get(JOB_LEASE_TIMEOUT).get(0);\n    }\n    else\n    {\n      sleep();\n    }\n  }\n}\n</code></pre>\n<p>This is the Test where I mocked the call to ReportManagerClient but it is showing up as NULL when debugging</p>\n<pre><code>CompanionTaskTest.java\n@MockBean\nprotected ReportingManagerIntegration reportingManagerClient;\n@MockBean\nprotected NamedParameterJdbcTemplate jdbcTemplate;\n@Test\npublic void testCompanionTask() \n{\n  ReportJob reportJob = generateReportJob();\n  QueryContext ctx = QueryContext.builder()\n          .jdbc(jdbcTemplate)\n          .busy(new AtomicInteger())\n          .reportingManagerClient(reportingManagerClient)\n          .job(reportJob)\n          .build();\n\n  ReportJob reportJobMock = ReportJob.builder()\n         .createdAt(Instant.now())\n         .expiresAt(Instant.now().plusSeconds(60)\n         .build();\n\n  Instant leaseRenewTimeout = Instant.now().plusSeconds(10);\n  ResponseEntity responseEntity = ResonseEntity.status(HttpStatus.OK)\n        .contentType(MediaType.APPLICATION_JSON)\n        .header(JOB_LEASE_TIMEOUT, leaseTimeout.toString())\n        .body(reportJobMock);\n\n Instant leaseRenewTimeout = Instant.now(0.plusSeconds(300);\n ResponseEntity&lt;ReportJob&gt; responseReportJob = ResponseEntity.ok()\n       .contentTyoe(MediaType.APPLICATION_JSON)\n       .header(JOB_LEASE_TIMEOUT, leaseTimeout.toString())\n       .body(reportJobMock);\n   when(ctx.getReportingManagerClient().refreshReportJobLease(anyString())).thenReturn(responseReportJob);\n\nwhen(reportingManagerClient.refreshReportJobLease(anyString())).thenReturn(responseReportJob);\nCompanionTask task = new CompanionTask(ctx, responseEntity.getHeaders());\nsomething\ntask.run();\n</code></pre>\n<p>x</p>\n<p>My work has stackvoerflow blocked , so I had to manually write all this code. Sorry for any typo I might have overlooked.\nSo even though I have these two lines\nwhen(ctx.getReportingManagerClient().refreshReportJobLease(anyString())).thenReturn(responseReportJob);\nwhen(reportingManagerClient.refreshReportJobLease(anyString())).thenReturn(responseReportJob);</p>\n<p>when the control is going to\nResponseEntity reply = ctx.getReportingManagerClient().refreshReportJobLease(ctx.getJob().getId());\nreply is NULL and that is giving me a NullPointerException.</p>\n"},{"tags":["java","apache-spark","dataframe"],"comments":[{"owner":{"account_id":8349010,"reputation":931,"user_id":6271839,"display_name":"Umberto Griffo"},"score":0,"creation_date":1473155770,"post_id":39344769,"comment_id":66021734,"body_markdown":"Have you alredy tried to use a HiveQL query using Spark SQL?","body":"Have you alredy tried to use a HiveQL query using Spark SQL?"},{"owner":{"account_id":3460817,"reputation":7354,"user_id":2897989,"accept_rate":68,"display_name":"lte__"},"score":0,"creation_date":1473156304,"post_id":39344769,"comment_id":66022079,"body_markdown":"Yes, but I don&#39;t see the relevance.","body":"Yes, but I don&#39;t see the relevance."},{"owner":{"account_id":7668859,"reputation":15816,"user_id":5811800,"display_name":"T. Gawęda"},"score":0,"creation_date":1473156377,"post_id":39344769,"comment_id":66022117,"body_markdown":"@Umberto Remember that question is about getting n random rows, not n first rows. Author of this question can implement own sampling or use one of possibility implemented in Spark","body":"@Umberto Remember that question is about getting n random rows, not n first rows. Author of this question can implement own sampling or use one of possibility implemented in Spark"},{"owner":{"account_id":8349010,"reputation":931,"user_id":6271839,"display_name":"Umberto Griffo"},"score":0,"creation_date":1473156860,"post_id":39344769,"comment_id":66022420,"body_markdown":"@T.Gawęda I know it, but with HiveQL (Spark SQL is designed to be compatible with the Hive) you can create a select statement that randomly select n rows in efficient way, and you can use that. Why not? It&#39;s an other way","body":"@T.Gawęda I know it, but with HiveQL (Spark SQL is designed to be compatible with the Hive) you can create a select statement that randomly select n rows in efficient way, and you can use that. Why not? It&#39;s an other way"},{"owner":{"account_id":7668859,"reputation":15816,"user_id":5811800,"display_name":"T. Gawęda"},"score":0,"creation_date":1473157288,"post_id":39344769,"comment_id":66022687,"body_markdown":"@Umberto Can you post such code? It sounds good! But remember, than LIMIT doesn&#39;t return random results, see http://stackoverflow.com/questions/23802115/is-limit-clause-in-hive-really-random","body":"@Umberto Can you post such code? It sounds good! But remember, than LIMIT doesn&#39;t return random results, see <a href=\"http://stackoverflow.com/questions/23802115/is-limit-clause-in-hive-really-random\" title=\"is limit clause in hive really random\">stackoverflow.com/questions/23802115/&hellip;</a>"},{"owner":{"account_id":3460817,"reputation":7354,"user_id":2897989,"accept_rate":68,"display_name":"lte__"},"score":0,"creation_date":1473174887,"post_id":39344769,"comment_id":66034706,"body_markdown":"I&#39;m okay with using Hive as long as it solves the problem :) Right now I&#39;ve found that `recent_orders = recent_orders.sample(true, 0.5).limit(1000);` is supposed to do the trick, but I&#39;m open for better solutions!","body":"I&#39;m okay with using Hive as long as it solves the problem :) Right now I&#39;ve found that <code>recent_orders = recent_orders.sample(true, 0.5).limit(1000);</code> is supposed to do the trick, but I&#39;m open for better solutions!"},{"owner":{"account_id":7668859,"reputation":15816,"user_id":5811800,"display_name":"T. Gawęda"},"score":0,"creation_date":1473236366,"post_id":39344769,"comment_id":66058087,"body_markdown":"It&#39;s better to calculate fraction if you want to get specified number of rows - just to not waste resources :) I&#39;ve searched for better solutions, however currently I don&#39;t see any. Maybe it will be good to raise JIRA ticket for such functionality","body":"It&#39;s better to calculate fraction if you want to get specified number of rows - just to not waste resources :) I&#39;ve searched for better solutions, however currently I don&#39;t see any. Maybe it will be good to raise JIRA ticket for such functionality"}],"answers":[{"tags":[],"owner":{"account_id":7668859,"reputation":15816,"user_id":5811800,"display_name":"T. Gawęda"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1473155051,"creation_date":1473154298,"answer_id":39345502,"question_id":39344769,"body_markdown":"You can try sample () method. Unfourtunatelly you must give there not a number, but fraction. You can write function like this:\r\n\r\n    def getRandom (dataset : Dataset[_], n : Int) = {\r\n        val count = dataset.count();\r\n        val howManyTake = if (count &gt; n) n else count;\r\n        dataset.sample(0, 1.0*howManyTake/count).limit (n)\r\n    }\r\n\r\nExplanation:\r\nwe must take a fraction of data. If we have 2000 rows and you want to get 100 rows, we must have 0.5 of total rows. If you want to get more rows than there are in DataFrame, you must get 1.0.\r\nlimit () function is invoked to make sure that rounding is ok and you didn&#39;t get more rows than you specified.\r\n\r\nEdit: I see in other answer the takeSample method. But remember:\r\n\r\n 1. It&#39;a a method of RDD, not Dataset, so you must do:\r\n    `dataset.rdd.takeSample(0, 1000, System.currentTimeMilis()).toDF()`\r\n    takeSample will collect all values. \r\n 2. Remember that if you want to get very many rows then you will have problems with OutOfMemoryError as takeSample is collecting results in driver. Use it carefully","title":"Spark DataFrame - Select n random rows","body":"<p>You can try sample () method. Unfourtunatelly you must give there not a number, but fraction. You can write function like this:</p>\n\n<pre><code>def getRandom (dataset : Dataset[_], n : Int) = {\n    val count = dataset.count();\n    val howManyTake = if (count &gt; n) n else count;\n    dataset.sample(0, 1.0*howManyTake/count).limit (n)\n}\n</code></pre>\n\n<p>Explanation:\nwe must take a fraction of data. If we have 2000 rows and you want to get 100 rows, we must have 0.5 of total rows. If you want to get more rows than there are in DataFrame, you must get 1.0.\nlimit () function is invoked to make sure that rounding is ok and you didn't get more rows than you specified.</p>\n\n<p>Edit: I see in other answer the takeSample method. But remember:</p>\n\n<ol>\n<li>It'a a method of RDD, not Dataset, so you must do:\n<code>dataset.rdd.takeSample(0, 1000, System.currentTimeMilis()).toDF()</code>\ntakeSample will collect all values. </li>\n<li>Remember that if you want to get very many rows then you will have problems with OutOfMemoryError as takeSample is collecting results in driver. Use it carefully</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1821588,"reputation":752,"user_id":3057917,"display_name":"apatry"},"down_vote_count":2,"up_vote_count":59,"is_accepted":false,"score":57,"last_activity_date":1668708897,"creation_date":1504368766,"answer_id":46015758,"question_id":39344769,"body_markdown":"In `Python`, You can shuffle the rows and then take the top ones:\r\n\r\n    import org.apache.spark.sql.functions.rand\r\n\r\n    dataset.orderBy(rand()).limit(n)","title":"Spark DataFrame - Select n random rows","body":"<p>In <code>Python</code>, You can shuffle the rows and then take the top ones:</p>\n<pre><code>import org.apache.spark.sql.functions.rand\n\ndataset.orderBy(rand()).limit(n)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5278887,"reputation":1079,"user_id":4214905,"display_name":"dheeraj .A"},"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1601928587,"creation_date":1601928587,"answer_id":64215517,"question_id":39344769,"body_markdown":"I would prefer this in pyspark\r\n\r\n    df.sample(withReplacement=False, fraction=desired_fraction)\r\n\r\n\r\nHere is [doc][1]\r\n\r\n\r\n  [1]: https://spark.apache.org/docs/2.1.3/api/python/pyspark.sql.html#pyspark.sql.DataFrame.sample","title":"Spark DataFrame - Select n random rows","body":"<p>I would prefer this in pyspark</p>\n<pre><code>df.sample(withReplacement=False, fraction=desired_fraction)\n</code></pre>\n<p>Here is <a href=\"https://spark.apache.org/docs/2.1.3/api/python/pyspark.sql.html#pyspark.sql.DataFrame.sample\" rel=\"nofollow noreferrer\">doc</a></p>\n"},{"tags":[],"owner":{"account_id":17606614,"reputation":2398,"user_id":12775531,"display_name":"s510"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1662135303,"creation_date":1662135303,"answer_id":73585419,"question_id":39344769,"body_markdown":" #### In Pyspark &gt;= `3.1`, try this:\r\n\r\n    sdf.sample(fraction=1.0).limit(n)","title":"Spark DataFrame - Select n random rows","body":"<h4>In Pyspark &gt;= <code>3.1</code>, try this:</h4>\n<pre><code>sdf.sample(fraction=1.0).limit(n)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13771388,"reputation":11,"user_id":9938759,"display_name":"Cassio Alan Garcia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699559784,"creation_date":1699559784,"answer_id":77456014,"question_id":39344769,"body_markdown":"The way I found in `Python` to take a exact number of rows is:\r\n\r\n    sampleData = spark.createDataFrame(originalData.rdd.takeSample(withReplacement=False, num=1000, seed=42))","title":"Spark DataFrame - Select n random rows","body":"<p>The way I found in <code>Python</code> to take a exact number of rows is:</p>\n<pre><code>sampleData = spark.createDataFrame(originalData.rdd.takeSample(withReplacement=False, num=1000, seed=42))\n</code></pre>\n"}],"owner":{"account_id":3460817,"reputation":7354,"user_id":2897989,"accept_rate":68,"display_name":"lte__"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78481,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":39345502,"answer_count":5,"score":40,"last_activity_date":1699562740,"creation_date":1473152222,"question_id":39344769,"body_markdown":"I have a dataframe with multiple thousands of records, and I&#39;d like to randomly select 1000 rows into another dataframe for demoing. How can I do this in Java? \r\n\r\nThank you!","title":"Spark DataFrame - Select n random rows","body":"<p>I have a dataframe with multiple thousands of records, and I'd like to randomly select 1000 rows into another dataframe for demoing. How can I do this in Java? </p>\n\n<p>Thank you!</p>\n"},{"tags":["java","unit-testing","junit","equals"],"answers":[{"tags":[],"owner":{"account_id":1232298,"reputation":11313,"user_id":1196603,"display_name":"Jk1"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1376416716,"creation_date":1376415059,"answer_id":18215552,"question_id":18215436,"body_markdown":"[Uniutils][1] has a perfect reflection equals method you can use for unit testing. This way your production code remains clear from all this test stuff.\r\n\r\n    public class User { \r\n      \r\n        private long id; \r\n        private String first; \r\n        private String last; \r\n      \r\n        public User(long id, String first, String last) { \r\n            this.id = id; \r\n            this.first = first; \r\n            this.last = last; \r\n        } \r\n    }\r\n\r\nLater in test:\r\n\r\n    User user1 = new User(1, &quot;John&quot;, &quot;Doe&quot;); \r\n    User user2 = new User(1, &quot;John&quot;, &quot;Doe&quot;); \r\n    assertReflectionEquals(user1, user2);\r\n\r\nIf you&#39;re using Mockito it has it&#39;s own means to do the same thing:\r\n\r\n    Mockito.verify(userDeleter).delete(Mockito.refEq(user));\r\n\r\n  [1]: http://www.unitils.org/summary.html","title":"Unit testing - implementing equals only to facilitate testing","body":"<p><a href=\"http://www.unitils.org/summary.html\" rel=\"nofollow\">Uniutils</a> has a perfect reflection equals method you can use for unit testing. This way your production code remains clear from all this test stuff.</p>\n\n<pre><code>public class User { \n\n    private long id; \n    private String first; \n    private String last; \n\n    public User(long id, String first, String last) { \n        this.id = id; \n        this.first = first; \n        this.last = last; \n    } \n}\n</code></pre>\n\n<p>Later in test:</p>\n\n<pre><code>User user1 = new User(1, \"John\", \"Doe\"); \nUser user2 = new User(1, \"John\", \"Doe\"); \nassertReflectionEquals(user1, user2);\n</code></pre>\n\n<p>If you're using Mockito it has it's own means to do the same thing:</p>\n\n<pre><code>Mockito.verify(userDeleter).delete(Mockito.refEq(user));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1138392,"reputation":9603,"user_id":1122959,"accept_rate":100,"display_name":"rocketboy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376415480,"creation_date":1376415103,"answer_id":18215565,"question_id":18215436,"body_markdown":"Not the most efficient but one possible way is to compare fields using reflection.\r\n\r\n    public class Foo {\r\n    \r\n        int x;\r\n\r\n        Foo(int in){\r\n        x = in;\r\n        }\r\n    \r\n        public static void main(String[] args) throws Exception{\r\n            \r\n            Foo o1 = new Foo(1),o2= new Foo(1);\r\n            boolean allMatch = true;\r\n            Class&lt;?&gt; c = Class.forName(&quot;Foo&quot;);\r\n            Field[] fields =  c.getDeclaredFields();\r\n            \r\n            for(Field f: fields){\r\n                allMatch &amp;= f.get(o1)==f.get(o2);\r\n            }\r\n        }\r\n    }","title":"Unit testing - implementing equals only to facilitate testing","body":"<p>Not the most efficient but one possible way is to compare fields using reflection.</p>\n\n<pre><code>public class Foo {\n\n    int x;\n\n    Foo(int in){\n    x = in;\n    }\n\n    public static void main(String[] args) throws Exception{\n\n        Foo o1 = new Foo(1),o2= new Foo(1);\n        boolean allMatch = true;\n        Class&lt;?&gt; c = Class.forName(\"Foo\");\n        Field[] fields =  c.getDeclaredFields();\n\n        for(Field f: fields){\n            allMatch &amp;= f.get(o1)==f.get(o2);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":206751,"reputation":1117,"user_id":456228,"accept_rate":67,"display_name":"Martin Podval"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1376416615,"creation_date":1376416615,"answer_id":18215979,"question_id":18215436,"body_markdown":"I see two different things:\r\n\r\n1. Sometimes it&#39;s not desirable to override hashcode&amp;equals. It can change behavior of your program and it can hurt your performance, see https://stackoverflow.com/questions/18180899/java-overriding-hashcode-method-has-any-performance-issue/\r\n\r\n2. If there is no customer requirement to override hashcode&amp;equals, like it&#39;s value object, you would not do that. Your should provide such code which exactly meets customer criteria, not more. Your test should deal with original implementation in default object.","title":"Unit testing - implementing equals only to facilitate testing","body":"<p>I see two different things:</p>\n\n<ol>\n<li><p>Sometimes it's not desirable to override hashcode&amp;equals. It can change behavior of your program and it can hurt your performance, see <a href=\"https://stackoverflow.com/questions/18180899/java-overriding-hashcode-method-has-any-performance-issue/\">Java Overriding hashCode() method has any Performance issue?</a></p></li>\n<li><p>If there is no customer requirement to override hashcode&amp;equals, like it's value object, you would not do that. Your should provide such code which exactly meets customer criteria, not more. Your test should deal with original implementation in default object.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5325338,"reputation":387,"user_id":4247530,"display_name":"Thomas LIMIN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699562596,"creation_date":1699562596,"answer_id":77456210,"question_id":18215436,"body_markdown":"You can use AssertJ and its [Recursive comparison][1] functionality\r\n\r\n    // assertion succeeds as the data of both objects are the same.\r\n    assertThat(actualSherlock)\r\n                    .usingRecursiveComparison()\r\n                    .isEqualTo(expectedSherlock);\r\n\r\nThanks to this library, you can check actual object equality with expected objects without any &quot;test only&quot; equals() and hashcode() overridings.\r\n\r\nAnd reserve equals() overrides for real business use cases.\r\n\r\n\r\n  [1]: https://assertj.github.io/doc/#assertj-core-recursive-comparison","title":"Unit testing - implementing equals only to facilitate testing","body":"<p>You can use AssertJ and its <a href=\"https://assertj.github.io/doc/#assertj-core-recursive-comparison\" rel=\"nofollow noreferrer\">Recursive comparison</a> functionality</p>\n<pre><code>// assertion succeeds as the data of both objects are the same.\nassertThat(actualSherlock)\n                .usingRecursiveComparison()\n                .isEqualTo(expectedSherlock);\n</code></pre>\n<p>Thanks to this library, you can check actual object equality with expected objects without any &quot;test only&quot; equals() and hashcode() overridings.</p>\n<p>And reserve equals() overrides for real business use cases.</p>\n"}],"owner":{"account_id":220446,"reputation":8652,"user_id":477854,"accept_rate":79,"display_name":"foens"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2657,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":18215552,"answer_count":4,"score":11,"last_activity_date":1699562596,"creation_date":1376414657,"question_id":18215436,"body_markdown":"Here are my requirements for unit testing:\r\n\r\n 1. I would like to unit test my production classes\r\n 2. I would like to separate test code and production code apart such that I can release production code only\r\n\r\nThis seems like reasonable requirements. However, a problem always arises when I need to use methods such as `assertEquals` on objects as these requires that the `equals` method is overridden. The `equals` method would have to be implemented in production classes **but is actually only used for testing.** This becomes even worse when good coding practices dictates that if `equals` is overridden, then should `hashCode` also be implemented resulting in even more unused production code that clutters the production classes.\r\n\r\nHere is a simple example with a `User` model (IntelliJ autoimplemented `equals` and `hashCode`)\r\n\r\n\tpublic class User\r\n\t{\r\n\t\tpublic long id;\r\n\t\tpublic long companyId;\r\n\t\tpublic String name;\r\n\t\tpublic String email;\r\n\t\tpublic long version;\r\n\r\n\t\t@Override\r\n\t\tpublic boolean equals(Object o)\r\n\t\t{\r\n\t\t\tif(this == o) return true;\r\n\t\t\tif(o == null || getClass() != o.getClass()) return false;\r\n\t\t\tUser user = (User) o;\r\n\t\t\tif(companyId != user.companyId) return false;\r\n\t\t\tif(id != user.id) return false;\r\n\t\t\tif(version != user.version) return false;\r\n\t\t\tif(!email.equals(user.email)) return false;\r\n\t\t\tif(!name.equals(user.name)) return false;\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic int hashCode()\r\n\t\t{\r\n\t\t\tint result = (int) (id ^ (id &gt;&gt;&gt; 32));\r\n\t\t\tresult = 31 * result + (int) (companyId ^ (companyId &gt;&gt;&gt; 32));\r\n\t\t\tresult = 31 * result + name.hashCode();\r\n\t\t\tresult = 31 * result + email.hashCode();\r\n\t\t\tresult = 31 * result + (int) (version ^ (version &gt;&gt;&gt; 32));\r\n\t\t\treturn result;\r\n\t\t}\r\n\t}\r\n\r\nAs it can be seen, `equals` and `hashCode` takes up a lot of space and clutters the class.\r\n\r\nOne solution to the problem could be to create a class, `UserTester`, which could have an `assertUserEquals` method that could be used instead of eg. JUnit&#39;s `assertEquals`.\r\n\r\nAnother solution could be to create a `UserComparator`. However, it does not seem like JUnit have any `assertEquals` that takes a `Comparator`.\r\n\r\nWhat is best practices on this point?\r\n\r\n","title":"Unit testing - implementing equals only to facilitate testing","body":"<p>Here are my requirements for unit testing:</p>\n\n<ol>\n<li>I would like to unit test my production classes</li>\n<li>I would like to separate test code and production code apart such that I can release production code only</li>\n</ol>\n\n<p>This seems like reasonable requirements. However, a problem always arises when I need to use methods such as <code>assertEquals</code> on objects as these requires that the <code>equals</code> method is overridden. The <code>equals</code> method would have to be implemented in production classes <strong>but is actually only used for testing.</strong> This becomes even worse when good coding practices dictates that if <code>equals</code> is overridden, then should <code>hashCode</code> also be implemented resulting in even more unused production code that clutters the production classes.</p>\n\n<p>Here is a simple example with a <code>User</code> model (IntelliJ autoimplemented <code>equals</code> and <code>hashCode</code>)</p>\n\n<pre><code>public class User\n{\n    public long id;\n    public long companyId;\n    public String name;\n    public String email;\n    public long version;\n\n    @Override\n    public boolean equals(Object o)\n    {\n        if(this == o) return true;\n        if(o == null || getClass() != o.getClass()) return false;\n        User user = (User) o;\n        if(companyId != user.companyId) return false;\n        if(id != user.id) return false;\n        if(version != user.version) return false;\n        if(!email.equals(user.email)) return false;\n        if(!name.equals(user.name)) return false;\n        return true;\n    }\n\n    @Override\n    public int hashCode()\n    {\n        int result = (int) (id ^ (id &gt;&gt;&gt; 32));\n        result = 31 * result + (int) (companyId ^ (companyId &gt;&gt;&gt; 32));\n        result = 31 * result + name.hashCode();\n        result = 31 * result + email.hashCode();\n        result = 31 * result + (int) (version ^ (version &gt;&gt;&gt; 32));\n        return result;\n    }\n}\n</code></pre>\n\n<p>As it can be seen, <code>equals</code> and <code>hashCode</code> takes up a lot of space and clutters the class.</p>\n\n<p>One solution to the problem could be to create a class, <code>UserTester</code>, which could have an <code>assertUserEquals</code> method that could be used instead of eg. JUnit's <code>assertEquals</code>.</p>\n\n<p>Another solution could be to create a <code>UserComparator</code>. However, it does not seem like JUnit have any <code>assertEquals</code> that takes a <code>Comparator</code>.</p>\n\n<p>What is best practices on this point?</p>\n"},{"tags":["java","java-time"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":2,"creation_date":1699555519,"post_id":77455614,"comment_id":136550231,"body_markdown":"You should be using Java classes, not extending them.  The `format` method formats the date and time objects into a displayable `String`.","body":"You should be using Java classes, not extending them.  The <code>format</code> method formats the date and time objects into a displayable <code>String</code>."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":3,"creation_date":1699555680,"post_id":77455614,"comment_id":136550255,"body_markdown":"_&quot;... are final, objects can&#39;t be created out of it&quot;_ - Incorrect. Those classes _can_ be instantiated.  What you can&#39;t do is _extend_ them, i.e. `MyClass extends LocalDate...`  You seem to be confusing `final` with `abstract`.","body":"<i>&quot;... are final, objects can&#39;t be created out of it&quot;</i> - Incorrect. Those classes <i>can</i> be instantiated.  What you can&#39;t do is <i>extend</i> them, i.e. <code>MyClass extends LocalDate...</code>  You seem to be confusing <code>final</code> with <code>abstract</code>."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":2,"creation_date":1699555768,"post_id":77455614,"comment_id":136550277,"body_markdown":"I&#39;m not clear what you are asking. You have *&quot;... are final, objects can&#39;t be created out of it,...&quot;* . That appears to be false. If I have `public final class Foo { ...`, I *can* still instantiate `Foo` type Objects.","body":"I&#39;m not clear what you are asking. You have <i>&quot;... are final, objects can&#39;t be created out of it,...&quot;</i> . That appears to be false. If I have <code>public final class Foo { ...</code>, I <i>can</i> still instantiate <code>Foo</code> type Objects."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":2,"creation_date":1699555993,"post_id":77455614,"comment_id":136550311,"body_markdown":"&quot;*can&#39;t be created out of it*&quot; there are a couple of factory methods to do that, simple example `LocalDate.now()` or `LocalDate.of(2023, MAY, 12)`; and using that method: `LocalDate.now().format(DateTimeFormatter.ISO_DATE)`","body":"&quot;<i>can&#39;t be created out of it</i>&quot; there are a couple of factory methods to do that, simple example <code>LocalDate.now()</code> or <code>LocalDate.of(2023, MAY, 12)</code>; and using that method: <code>LocalDate.now().format(DateTimeFormatter.ISO_DATE)</code>"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1699567217,"post_id":77455614,"comment_id":136552077,"body_markdown":"A class which has instance methods yet can never be instantiated would indeed be quite odd. Luckily, this is not the case here. A `final` class simply cannot be _extended_; that has nothing to do with the ability to _instantiate_ a class. Now, the classes you mentioned do not have visible constructors, so you will not be able to directly instantiate them with the `new` keyword. But they all define &quot;static factory methods&quot; which can, as expected, be called without an instance. You can then call instance methods on the objects returned by the static factory methods.","body":"A class which has instance methods yet can never be instantiated would indeed be quite odd. Luckily, this is not the case here. A <code>final</code> class simply cannot be <i>extended</i>; that has nothing to do with the ability to <i>instantiate</i> a class. Now, the classes you mentioned do not have visible constructors, so you will not be able to directly instantiate them with the <code>new</code> keyword. But they all define &quot;static factory methods&quot; which can, as expected, be called without an instance. You can then call instance methods on the objects returned by the static factory methods."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1699562085,"creation_date":1699562085,"answer_id":77456173,"question_id":77455614,"body_markdown":"&gt; _&quot;... The classes LocalDate, LocalTime, LocalDateTime are final, objects can&#39;t be created out of it ...&quot;_\r\n\r\nYour terminology is incorrect.\r\n\r\nIn _Java_, an _[object](https://en.wikipedia.org/wiki/Object_(computer_science))_ is a _[class](https://docs.oracle.com/javase/tutorial/java/javaOO/index.html)_, typically an _[instance](https://docs.oracle.com/javase/tutorial/reflect/member/ctorInstance.html)_.\r\n\r\nAnd, when a _class_ is defined with the _[final](https://docs.oracle.com/javase/tutorial/java/IandI/final.html)_ keyword, it cannot be _[encapsulated](https://en.wikipedia.org/wiki/Encapsulation_(computer_programming))_.\\\r\nAn _object_ can be created, though.\r\n\r\n```java\r\nLocalDate ld = LocalDate.of(2023, 11, 9);\r\nLocalTime lt = LocalTime.of(12, 34);\r\nLocalDateTime ldt = LocalDateTime.of(2023, 11, 9, 12, 34);\r\n```\r\n\r\n&gt; _&quot;... so static reference cannot be made to the non static method format().  ...&quot;_\r\n\r\nUnlike the _[of](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalTime.html#of(int,int))_ method, the _[format](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalTime.html#format(java.time.format.DateTimeFormatter))_ method is not defined as _[static](https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html)_, so you&#39;ll need to use an _instance_ to access it.\r\n\r\n```java\r\nLocalTime lt = LocalTime.of(12, 34);\r\nlt.format(DateTimeFormatter.ISO_LOCAL_TIME);\r\n```","title":"What is reason of placement of format() inside LocalDate or LocalTime, even if there is no possible way of using it","body":"<blockquote>\n<p><em>&quot;... The classes LocalDate, LocalTime, LocalDateTime are final, objects can't be created out of it ...&quot;</em></p>\n</blockquote>\n<p>Your terminology is incorrect.</p>\n<p>In <em>Java</em>, an <em><a href=\"https://en.wikipedia.org/wiki/Object_(computer_science)\" rel=\"nofollow noreferrer\">object</a></em> is a <em><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/index.html\" rel=\"nofollow noreferrer\">class</a></em>, typically an <em><a href=\"https://docs.oracle.com/javase/tutorial/reflect/member/ctorInstance.html\" rel=\"nofollow noreferrer\">instance</a></em>.</p>\n<p>And, when a <em>class</em> is defined with the <em><a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/final.html\" rel=\"nofollow noreferrer\">final</a></em> keyword, it cannot be <em><a href=\"https://en.wikipedia.org/wiki/Encapsulation_(computer_programming)\" rel=\"nofollow noreferrer\">encapsulated</a></em>.<br />\nAn <em>object</em> can be created, though.</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDate ld = LocalDate.of(2023, 11, 9);\nLocalTime lt = LocalTime.of(12, 34);\nLocalDateTime ldt = LocalDateTime.of(2023, 11, 9, 12, 34);\n</code></pre>\n<blockquote>\n<p><em>&quot;... so static reference cannot be made to the non static method format().  ...&quot;</em></p>\n</blockquote>\n<p>Unlike the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalTime.html#of(int,int)\" rel=\"nofollow noreferrer\">of</a></em> method, the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalTime.html#format(java.time.format.DateTimeFormatter)\" rel=\"nofollow noreferrer\">format</a></em> method is not defined as <em><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html\" rel=\"nofollow noreferrer\">static</a></em>, so you'll need to use an <em>instance</em> to access it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalTime lt = LocalTime.of(12, 34);\nlt.format(DateTimeFormatter.ISO_LOCAL_TIME);\n</code></pre>\n"}],"owner":{"display_name":"user14383344"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1699562085,"creation_date":1699554924,"question_id":77455614,"body_markdown":"The classes LocalDate, LocalTime, LocalDateTime are final, objects can&#39;t be created out of it, so static reference cannot be made to the non static method format().\r\nAlso all three classes mentioned inherits from Object class only. So there is no superclass of these three classes from which this method can be accessed.\r\nNeither this method comes from any of interface implemented by LocalDate, LocalTime, LocalDateTime classes nor we can override this method as all three classes are final.\r\nPlease explain me essence of format() in any of above mentioned classes.","title":"What is reason of placement of format() inside LocalDate or LocalTime, even if there is no possible way of using it","body":"<p>The classes LocalDate, LocalTime, LocalDateTime are final, objects can't be created out of it, so static reference cannot be made to the non static method format().\nAlso all three classes mentioned inherits from Object class only. So there is no superclass of these three classes from which this method can be accessed.\nNeither this method comes from any of interface implemented by LocalDate, LocalTime, LocalDateTime classes nor we can override this method as all three classes are final.\nPlease explain me essence of format() in any of above mentioned classes.</p>\n"},{"tags":["java","database","sqlite","javafx"],"comments":[{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1699545937,"post_id":77454633,"comment_id":136548347,"body_markdown":"A JAR is read-only. You cannot write into the JAR’s contained files. Create/copy your database files outside the JAR.","body":"A JAR is read-only. You cannot write into the JAR’s contained files. Create/copy your database files outside the JAR."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1699546007,"post_id":77454633,"comment_id":136548365,"body_markdown":"A database migration tool like Flyway or Liquibase might help you in setting up that externalized database.","body":"A database migration tool like Flyway or Liquibase might help you in setting up that externalized database."},{"owner":{"account_id":12608963,"reputation":775,"user_id":9168846,"display_name":"Urchboy"},"score":0,"creation_date":1699549137,"post_id":77454633,"comment_id":136549040,"body_markdown":"Hello @BasilBourque the database in my case is a local SQLite file that is bundled into a JavaFX application. How can we create/copy the SQLite files outside the JAR. Just checked out Flyway and Liquibase, not sure of how to go about it.","body":"Hello @BasilBourque the database in my case is a local SQLite file that is bundled into a JavaFX application. How can we create/copy the SQLite files outside the JAR. Just checked out Flyway and Liquibase, not sure of how to go about it."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1699550641,"post_id":77454633,"comment_id":136549390,"body_markdown":"Either (a) bundle an initial database within your app, and copy the file out to a location on the user&#39;s machine, or (b) create a database file at a location on the user&#39;s machine. After that, you may want to use Flyway/Liquibase to run your SQL scripts to create tables, columns, indexes, etc. to prepare your database for use.","body":"Either (a) bundle an initial database within your app, and copy the file out to a location on the user&#39;s machine, or (b) create a database file at a location on the user&#39;s machine. After that, you may want to use Flyway/Liquibase to run your SQL scripts to create tables, columns, indexes, etc. to prepare your database for use."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1699550720,"post_id":77454633,"comment_id":136549406,"body_markdown":"Access folders and files using the Java NIO.2 framework. Oracle provides [Tutorial](https://docs.oracle.com/javase/tutorial/essential/io/fileio.html) and [Guide](https://docs.oracle.com/javase/8/docs/technotes/guides/io/index.html). And search Stack Overflow and the web for more info. But be aware that an enormous amount of file I/o articles and posts you&#39;ll find are outdated, written before Java NIO and NIO.2. The newer classes make this work *much* simpler.","body":"Access folders and files using the Java NIO.2 framework. Oracle provides <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/fileio.html\" rel=\"nofollow noreferrer\">Tutorial</a> and <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/io/index.html\" rel=\"nofollow noreferrer\">Guide</a>. And search Stack Overflow and the web for more info. But be aware that an enormous amount of file I/o articles and posts you&#39;ll find are outdated, written before Java NIO and NIO.2. The newer classes make this work <i>much</i> simpler."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1699552272,"post_id":77454633,"comment_id":136549680,"body_markdown":"[related question](https://stackoverflow.com/questions/73927071/copy-external-resource-files-after-building-javafx-app-with-maven) for Basil’s suggestion: “a) bundle an initial database within your app, and copy the file out to a location on the user&#39;s machine,”.","body":"<a href=\"https://stackoverflow.com/questions/73927071/copy-external-resource-files-after-building-javafx-app-with-maven\">related question</a> for Basil’s suggestion: “a) bundle an initial database within your app, and copy the file out to a location on the user&#39;s machine,”."}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1699561766,"creation_date":1699559958,"answer_id":77456027,"question_id":77454633,"body_markdown":"If your SQLite database is a _resource_, then the JDBC URL should look similar to:\r\n\r\n```none\r\njdbc:sqlite::resource:assets/databases/local_database.db\r\n```\r\n\r\nAssuming you&#39;re using the https://github.com/xerial/sqlite-jdbc driver. See [`USAGE.md`][1] for more information. If your code is modular, make sure your database resource&#39;s package is `opens` _unconditionally_.\r\n\r\nThat said, resources are read-only. If you want a writable database, then you&#39;ll have to either:\r\n\r\n1. Extract the database at run-time. Make sure to do this only if the database has not already been extracted lest you overwrite it and lose data.\r\n\r\n2. Let the SQLite driver create a new database at run-time. If I&#39;m not mistaken, the file will be created automatically if it does not already exist, at least by default. But you&#39;ll have to run initialization SQL/scripts (e.g., `CREATE TABLE IF NOT EXISTS ...`) either once every time your application is started or only if the file did not previously exist.\r\n\r\nBoth options require you have a &quot;known location&quot; for the external database file. Now, you could try the working directory, but that assumes that the working directory is both writable and unchanging between application instances. A typically writable and more deterministic location is needed. A common place that should work across operating systems is a directory in the user&#39;s home directory. You can get the home directory with `System.getProperty(&quot;user.home&quot;)`. Though since you are using `jpackage` for deployment, you might want to add a way to configure more appropriate OS-specific locations, such as a directory under `%LOCALAPPDATA%` on Windows.\r\n\r\nHere&#39;s an example of a class that extracts the database resource when needed. It also ensures that only one `Connection` is open at any given time and encourages non-parallel use of the database, assuming you ensure you only have one instance of the class at a time.\r\n\r\n```java\r\npackage com.example;\r\n\r\nimport java.io.IOException;\r\nimport java.io.UncheckedIOException;\r\nimport java.nio.file.FileAlreadyExistsException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.sql.Connection;\r\nimport java.sql.SQLException;\r\nimport java.util.Objects;\r\nimport java.util.concurrent.locks.Lock;\r\nimport java.util.concurrent.locks.ReentrantLock;\r\nimport org.sqlite.SQLiteDataSource;\r\n\r\npublic class SQLiteDatabase implements AutoCloseable {\r\n\r\n    private static final String DB_RESOURCE_NAME = &quot;/assets/databases/local_database.db&quot;;\r\n\r\n    @FunctionalInterface\r\n    public interface SQLFunction&lt;R&gt; {\r\n\r\n        R execute(Connection connection) throws SQLException;\r\n    }\r\n\r\n    private final Lock lock = new ReentrantLock();\r\n\r\n    private final Path dbFile;\r\n    private final SQLiteDataSource source;\r\n\r\n    private Connection connection;\r\n    private boolean open = true;\r\n    private boolean extracted;\r\n\r\n    public SQLiteDatabase(Path dbFile) {\r\n        this.dbFile = dbFile.toAbsolutePath().normalize();\r\n        extracted = Files.exists(dbFile);\r\n\r\n        source = new SQLiteDataSource();\r\n        source.setUrl(&quot;jdbc:sqlite:&quot; + this.dbFile);\r\n        source.setEnforceForeignKeys(true);\r\n    }\r\n\r\n    public &lt;R&gt; R execute(SQLFunction&lt;R&gt; function) throws SQLException {\r\n        Objects.requireNonNull(function);\r\n        lock.lock();\r\n        try {\r\n            ensureOpen();\r\n            extractDatabase();\r\n\r\n            if (connection == null || connection.isClosed()) {\r\n                connection = source.getConnection();\r\n            }\r\n            return function.execute(connection);\r\n        } finally {\r\n            lock.unlock();\r\n        }\r\n    }\r\n\r\n    private void ensureOpen() {\r\n        if (!open) {\r\n            throw new IllegalStateException(&quot;SQLiteDatabase has been closed.&quot;);\r\n        }\r\n    }\r\n\r\n    private void extractDatabase() {\r\n        if (!extracted) {\r\n            try (var input = SQLiteDatabase.class.getResourceAsStream(DB_RESOURCE_NAME)) {\r\n                Files.copy(input, dbFile);\r\n                extracted = true;\r\n            } catch (FileAlreadyExistsException ex) {\r\n                extracted = true;\r\n            } catch (IOException ex) {\r\n                throw new UncheckedIOException(&quot;Unable to extract SQLite database resource&quot;, ex);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void close() throws SQLException {\r\n        lock.lock();\r\n        try {\r\n            if (open) {\r\n                open = false;\r\n                if (connection != null) {\r\n                    connection.close();\r\n                    connection = null;\r\n                }\r\n            }\r\n        } finally {\r\n            lock.unlock();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nUsing the above class might look like:\r\n\r\n```java\r\npackage com.example;\r\n\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Main {\r\n\r\n    /*\r\n     * WARNING: This code will create a directory in your user home directory and does\r\n     *          not make any attempt to delete it. The directory name will be &quot;.app_name&quot;\r\n     *          unless the code is modified. Inside the &quot;.app_name&quot; directory will be a\r\n     *          &quot;local_database.db&quot; file.\r\n     * \r\n     *          The SQLiteDatabase class assumes there&#39;s a SQLite database resource located\r\n     *          at &quot;/assets/databases/local_database.db&quot;. If that resource does not exist then\r\n     *          this code will fail.\r\n     */\r\n    \r\n    public static void main(String[] args) throws Exception {\r\n        var dbFile = Path.of(System.getProperty(&quot;user.home&quot;), &quot;.app_name&quot;, &quot;local_database.db&quot;);\r\n        Files.createDirectories(dbFile.getParent()); // parent directories must exist\r\n\r\n        try (var db = new SQLiteDatabase(dbFile)) {\r\n            List&lt;?&gt; data = db.execute(conn -&gt; {\r\n                try (var stat = conn.createStatement()) {\r\n                    var entities = new ArrayList&lt;&gt;();\r\n                    var set = stat.executeQuery(&quot;SELECT * FROM xxx&quot;);\r\n                    while (set.next()) {\r\n                        // get attributes, create entity instance, add to entities list\r\n                    }\r\n                    return entities;\r\n                }\r\n            });\r\n            data.forEach(System.out::println);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThough ideally, you&#39;d be hiding the use of `SQLiteDatabase` behind a repository or data access object (DAO) interface. And of course, using a migration tool/library, a JDBC-wrapper library, and/or an ORM framework may make your life easier in general.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/xerial/sqlite-jdbc/blob/master/USAGE.md","title":"SQLite database error in packaged executable but works in debug","body":"<p>If your SQLite database is a <em>resource</em>, then the JDBC URL should look similar to:</p>\n<pre class=\"lang-none prettyprint-override\"><code>jdbc:sqlite::resource:assets/databases/local_database.db\n</code></pre>\n<p>Assuming you're using the <a href=\"https://github.com/xerial/sqlite-jdbc\" rel=\"nofollow noreferrer\">https://github.com/xerial/sqlite-jdbc</a> driver. See <a href=\"https://github.com/xerial/sqlite-jdbc/blob/master/USAGE.md\" rel=\"nofollow noreferrer\"><code>USAGE.md</code></a> for more information. If your code is modular, make sure your database resource's package is <code>opens</code> <em>unconditionally</em>.</p>\n<p>That said, resources are read-only. If you want a writable database, then you'll have to either:</p>\n<ol>\n<li><p>Extract the database at run-time. Make sure to do this only if the database has not already been extracted lest you overwrite it and lose data.</p>\n</li>\n<li><p>Let the SQLite driver create a new database at run-time. If I'm not mistaken, the file will be created automatically if it does not already exist, at least by default. But you'll have to run initialization SQL/scripts (e.g., <code>CREATE TABLE IF NOT EXISTS ...</code>) either once every time your application is started or only if the file did not previously exist.</p>\n</li>\n</ol>\n<p>Both options require you have a &quot;known location&quot; for the external database file. Now, you could try the working directory, but that assumes that the working directory is both writable and unchanging between application instances. A typically writable and more deterministic location is needed. A common place that should work across operating systems is a directory in the user's home directory. You can get the home directory with <code>System.getProperty(&quot;user.home&quot;)</code>. Though since you are using <code>jpackage</code> for deployment, you might want to add a way to configure more appropriate OS-specific locations, such as a directory under <code>%LOCALAPPDATA%</code> on Windows.</p>\n<p>Here's an example of a class that extracts the database resource when needed. It also ensures that only one <code>Connection</code> is open at any given time and encourages non-parallel use of the database, assuming you ensure you only have one instance of the class at a time.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport java.io.IOException;\nimport java.io.UncheckedIOException;\nimport java.nio.file.FileAlreadyExistsException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.sql.Connection;\nimport java.sql.SQLException;\nimport java.util.Objects;\nimport java.util.concurrent.locks.Lock;\nimport java.util.concurrent.locks.ReentrantLock;\nimport org.sqlite.SQLiteDataSource;\n\npublic class SQLiteDatabase implements AutoCloseable {\n\n    private static final String DB_RESOURCE_NAME = &quot;/assets/databases/local_database.db&quot;;\n\n    @FunctionalInterface\n    public interface SQLFunction&lt;R&gt; {\n\n        R execute(Connection connection) throws SQLException;\n    }\n\n    private final Lock lock = new ReentrantLock();\n\n    private final Path dbFile;\n    private final SQLiteDataSource source;\n\n    private Connection connection;\n    private boolean open = true;\n    private boolean extracted;\n\n    public SQLiteDatabase(Path dbFile) {\n        this.dbFile = dbFile.toAbsolutePath().normalize();\n        extracted = Files.exists(dbFile);\n\n        source = new SQLiteDataSource();\n        source.setUrl(&quot;jdbc:sqlite:&quot; + this.dbFile);\n        source.setEnforceForeignKeys(true);\n    }\n\n    public &lt;R&gt; R execute(SQLFunction&lt;R&gt; function) throws SQLException {\n        Objects.requireNonNull(function);\n        lock.lock();\n        try {\n            ensureOpen();\n            extractDatabase();\n\n            if (connection == null || connection.isClosed()) {\n                connection = source.getConnection();\n            }\n            return function.execute(connection);\n        } finally {\n            lock.unlock();\n        }\n    }\n\n    private void ensureOpen() {\n        if (!open) {\n            throw new IllegalStateException(&quot;SQLiteDatabase has been closed.&quot;);\n        }\n    }\n\n    private void extractDatabase() {\n        if (!extracted) {\n            try (var input = SQLiteDatabase.class.getResourceAsStream(DB_RESOURCE_NAME)) {\n                Files.copy(input, dbFile);\n                extracted = true;\n            } catch (FileAlreadyExistsException ex) {\n                extracted = true;\n            } catch (IOException ex) {\n                throw new UncheckedIOException(&quot;Unable to extract SQLite database resource&quot;, ex);\n            }\n        }\n    }\n\n    @Override\n    public void close() throws SQLException {\n        lock.lock();\n        try {\n            if (open) {\n                open = false;\n                if (connection != null) {\n                    connection.close();\n                    connection = null;\n                }\n            }\n        } finally {\n            lock.unlock();\n        }\n    }\n}\n</code></pre>\n<p>Using the above class might look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Main {\n\n    /*\n     * WARNING: This code will create a directory in your user home directory and does\n     *          not make any attempt to delete it. The directory name will be &quot;.app_name&quot;\n     *          unless the code is modified. Inside the &quot;.app_name&quot; directory will be a\n     *          &quot;local_database.db&quot; file.\n     * \n     *          The SQLiteDatabase class assumes there's a SQLite database resource located\n     *          at &quot;/assets/databases/local_database.db&quot;. If that resource does not exist then\n     *          this code will fail.\n     */\n    \n    public static void main(String[] args) throws Exception {\n        var dbFile = Path.of(System.getProperty(&quot;user.home&quot;), &quot;.app_name&quot;, &quot;local_database.db&quot;);\n        Files.createDirectories(dbFile.getParent()); // parent directories must exist\n\n        try (var db = new SQLiteDatabase(dbFile)) {\n            List&lt;?&gt; data = db.execute(conn -&gt; {\n                try (var stat = conn.createStatement()) {\n                    var entities = new ArrayList&lt;&gt;();\n                    var set = stat.executeQuery(&quot;SELECT * FROM xxx&quot;);\n                    while (set.next()) {\n                        // get attributes, create entity instance, add to entities list\n                    }\n                    return entities;\n                }\n            });\n            data.forEach(System.out::println);\n        }\n    }\n}\n</code></pre>\n<p>Though ideally, you'd be hiding the use of <code>SQLiteDatabase</code> behind a repository or data access object (DAO) interface. And of course, using a migration tool/library, a JDBC-wrapper library, and/or an ORM framework may make your life easier in general.</p>\n"}],"owner":{"account_id":12608963,"reputation":775,"user_id":9168846,"display_name":"Urchboy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1699561766,"creation_date":1699545544,"question_id":77454633,"body_markdown":"I&#39;m not able to connect to my sqlite database in my packaged java application. It works perfectly in development. I&#39;m using gradle jlink and jpackage to create a Windows executable. The application installs successfully but I&#39;m getting these errors:\r\n\r\nError Log\r\n\r\n    SEVERE: path to &#39;jrt:/com.scholarly/assets/databases/local_database.db&#39;: &#39;C:\\Users\\DELL\\AppData\\Local\\Scholarly CBT\\jrt:&#39; does not exist\r\n    Nov 09, 2023 3:47:30 PM com.scholarly.MainApplication log\r\n    SEVERE: com.scholarly.merged.module@0.3/org.sqlite.SQLiteConnection.open(Unknown Source)\r\n    Nov 09, 2023 3:47:30 PM com.scholarly.MainApplication log\r\n    SEVERE: com.scholarly.merged.module@0.3/org.sqlite.SQLiteConnection.&lt;init&gt;(Unknown Source)\r\n    Nov 09, 2023 3:47:30 PM com.scholarly.MainApplication log\r\n    SEVERE: com.scholarly.merged.module@0.3/org.sqlite.jdbc3.JDBC3Connection.&lt;init&gt;(Unknown Source)\r\n    Nov 09, 2023 3:47:30 PM com.scholarly.MainApplication log\r\n    SEVERE: com.scholarly.merged.module@0.3/org.sqlite.jdbc4.JDBC4Connection.&lt;init&gt;(Unknown Source)\r\n    Nov 09, 2023 3:47:30 PM com.scholarly.MainApplication log\r\n    SEVERE: com.scholarly.merged.module@0.3/org.sqlite.JDBC.createConnection(Unknown Source)\r\n    Nov 09, 2023 3:47:30 PM com.scholarly.MainApplication log\r\n    SEVERE: com.scholarly.merged.module@0.3/org.sqlite.JDBC.connect(Unknown Source)\r\n    Nov 09, 2023 3:47:30 PM com.scholarly.MainApplication log\r\n    SEVERE: java.sql/java.sql.DriverManager.getConnection(Unknown Source)\r\n    Nov 09, 2023 3:47:30 PM com.scholarly.MainApplication log\r\n    SEVERE: java.sql/java.sql.DriverManager.getConnection(Unknown Source)\r\n    Nov 09, 2023 3:47:30 PM com.scholarly.MainApplication log\r\n    SEVERE: com.scholarly@0.3/com.scholarly.data.util.DbConnection.getDbConnection(Unknown Source)\r\n\r\nHere&#39;s the code throwing the error:\r\n\r\n    private static final String TAG = &quot;DbConnection: &quot;;\r\n    private static final String location = MainApplication.class.getResource(&quot;/assets/databases/local_database.db&quot;).getPath();\r\n    private static final String DATABASE_URL = &quot;jdbc:sqlite:&quot;+location;\r\n    \r\n    private static Connection connection;\r\n    \r\n    public static Connection getDbConnection() {\r\n        try {\r\n            if (connection == null) {\r\n                MainApplication.logInfo(&quot;Database Connecting..&quot;);\r\n                connection = DriverManager.getConnection(DATABASE_URL, &quot;&quot;, &quot;&quot;);\r\n    \r\n                System.out.println(TAG + &quot;Connection created successfully: &quot; + connection.toString());\r\n                MainApplication.logInfo(TAG + &quot;Connection created successfully: &quot; + connection.toString());\r\n            } else {\r\n                System.out.println(TAG + &quot;Retrieved existing Connection : &quot; + connection);\r\n                MainApplication.logInfo(TAG + &quot;Retrieved existing Connection : &quot; + connection);\r\n            }\r\n        } catch (Exception e) {\r\n            System.out.println(e.getMessage());\r\n            MainApplication.log(e);\r\n        }\r\n        return connection;\r\n    }","title":"SQLite database error in packaged executable but works in debug","body":"<p>I'm not able to connect to my sqlite database in my packaged java application. It works perfectly in development. I'm using gradle jlink and jpackage to create a Windows executable. The application installs successfully but I'm getting these errors:</p>\n<p>Error Log</p>\n<pre><code>SEVERE: path to 'jrt:/com.scholarly/assets/databases/local_database.db': 'C:\\Users\\DELL\\AppData\\Local\\Scholarly CBT\\jrt:' does not exist\nNov 09, 2023 3:47:30 PM com.scholarly.MainApplication log\nSEVERE: com.scholarly.merged.module@0.3/org.sqlite.SQLiteConnection.open(Unknown Source)\nNov 09, 2023 3:47:30 PM com.scholarly.MainApplication log\nSEVERE: com.scholarly.merged.module@0.3/org.sqlite.SQLiteConnection.&lt;init&gt;(Unknown Source)\nNov 09, 2023 3:47:30 PM com.scholarly.MainApplication log\nSEVERE: com.scholarly.merged.module@0.3/org.sqlite.jdbc3.JDBC3Connection.&lt;init&gt;(Unknown Source)\nNov 09, 2023 3:47:30 PM com.scholarly.MainApplication log\nSEVERE: com.scholarly.merged.module@0.3/org.sqlite.jdbc4.JDBC4Connection.&lt;init&gt;(Unknown Source)\nNov 09, 2023 3:47:30 PM com.scholarly.MainApplication log\nSEVERE: com.scholarly.merged.module@0.3/org.sqlite.JDBC.createConnection(Unknown Source)\nNov 09, 2023 3:47:30 PM com.scholarly.MainApplication log\nSEVERE: com.scholarly.merged.module@0.3/org.sqlite.JDBC.connect(Unknown Source)\nNov 09, 2023 3:47:30 PM com.scholarly.MainApplication log\nSEVERE: java.sql/java.sql.DriverManager.getConnection(Unknown Source)\nNov 09, 2023 3:47:30 PM com.scholarly.MainApplication log\nSEVERE: java.sql/java.sql.DriverManager.getConnection(Unknown Source)\nNov 09, 2023 3:47:30 PM com.scholarly.MainApplication log\nSEVERE: com.scholarly@0.3/com.scholarly.data.util.DbConnection.getDbConnection(Unknown Source)\n</code></pre>\n<p>Here's the code throwing the error:</p>\n<pre><code>private static final String TAG = &quot;DbConnection: &quot;;\nprivate static final String location = MainApplication.class.getResource(&quot;/assets/databases/local_database.db&quot;).getPath();\nprivate static final String DATABASE_URL = &quot;jdbc:sqlite:&quot;+location;\n\nprivate static Connection connection;\n\npublic static Connection getDbConnection() {\n    try {\n        if (connection == null) {\n            MainApplication.logInfo(&quot;Database Connecting..&quot;);\n            connection = DriverManager.getConnection(DATABASE_URL, &quot;&quot;, &quot;&quot;);\n\n            System.out.println(TAG + &quot;Connection created successfully: &quot; + connection.toString());\n            MainApplication.logInfo(TAG + &quot;Connection created successfully: &quot; + connection.toString());\n        } else {\n            System.out.println(TAG + &quot;Retrieved existing Connection : &quot; + connection);\n            MainApplication.logInfo(TAG + &quot;Retrieved existing Connection : &quot; + connection);\n        }\n    } catch (Exception e) {\n        System.out.println(e.getMessage());\n        MainApplication.log(e);\n    }\n    return connection;\n}\n</code></pre>\n"},{"tags":["java","struts2","nullpointerexception","xml-configuration"],"comments":[{"owner":{"account_id":1948681,"reputation":522,"user_id":1753273,"accept_rate":86,"display_name":"agaonsindhe"},"score":1,"creation_date":1350545256,"post_id":12948849,"comment_id":17553299,"body_markdown":"**I got the soloution in package tag it should be** &#39;extends=&quot;struts-default&quot;&#39; instead  **&#39;extends=&quot;struts.default&quot;&#39;**","body":"<b>I got the soloution in package tag it should be</b> &#39;extends=&quot;struts-default&quot;&#39; instead  <b>&#39;extends=&quot;struts.default&quot;&#39;</b>"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":3,"creation_date":1350556088,"post_id":12948849,"comment_id":17558300,"body_markdown":"Please answer the question with an answer, not a comment.","body":"Please answer the question with an answer, not a comment."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1350637206,"creation_date":1350637206,"answer_id":12970770,"question_id":12948849,"body_markdown":"The errors are:\r\n1. there&#39;s not such comment `/* */` in XML use `&lt;!--  --&gt;` instead.\r\n2. there&#39;s not such package `struts.default` use `struts-default` instead.","title":"What&#39;s causing this NPE when I request an action?","body":"<p>The errors are:\n1. there's not such comment <code>/* */</code> in XML use <code>&lt;!--  --&gt;</code> instead.\n2. there's not such package <code>struts.default</code> use <code>struts-default</code> instead.</p>\n"},{"tags":[],"owner":{"account_id":1948681,"reputation":522,"user_id":1753273,"accept_rate":86,"display_name":"agaonsindhe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1497668743,"creation_date":1497668743,"answer_id":44600360,"question_id":12948849,"body_markdown":"**I got the soloution in package tag it should be** &#39;extends=&quot;struts-default&quot;&#39; instead  **&#39;extends=&quot;struts.default&quot;&#39;**","title":"What&#39;s causing this NPE when I request an action?","body":"<p><strong>I got the soloution in package tag it should be</strong> 'extends=\"struts-default\"' instead  <strong>'extends=\"struts.default\"'</strong></p>\n"}],"owner":{"account_id":1948681,"reputation":522,"user_id":1753273,"accept_rate":86,"display_name":"agaonsindhe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7217,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":44600360,"answer_count":2,"score":5,"last_activity_date":1699561557,"creation_date":1350543718,"question_id":12948849,"body_markdown":"This error was not there when I first run my program,then I tried some experiment to get the flow of MVC architecture but now it is showing me this exception.\r\n\r\n\r\nI guess the problem is when I request via subscribe button it will go to `struts.xml` where it will look for action. The problem is in package tag what should be there \r\n\r\n    java.lang.NullPointerException\r\n        org.apache.struts2.impl.StrutsActionProxy.getErrorMessage(StrutsActionProxy.java:69)\r\n        com.opensymphony.xwork2.DefaultActionProxy.prepare(DefaultActionProxy.java:185)\r\n        org.apache.struts2.impl.StrutsActionProxy.prepare(StrutsActionProxy.java:63)\r\n        org.apache.struts2.impl.StrutsActionProxyFactory.createActionProxy(StrutsActionProxyFactory.java:39)\r\n        com.opensymphony.xwork2.DefaultActionProxyFactory.createActionProxy(DefaultActionProxyFactory.java:58)\r\n        org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:501)\r\n        org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:432)\r\n        org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n        org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n        org.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFilter.java:390)\r\n        org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n        org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n        org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\r\n        org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\r\n        org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)\r\n        org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\r\n        org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\r\n        org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:286)\r\n        org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:845)\r\n        org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:583)\r\n        org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:447)\r\n        java.lang.Thread.run(Thread.java:619)\r\n\r\n\r\n**`struts.xml`:**\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE struts PUBLIC &quot;-//Apache Software Foundation//DTD Struts Configuration                             2.0//EN&quot; &quot;http://struts.apache.org/dtds/struts-2.0.dtd&quot;&gt;\r\n\r\n    &lt;struts&gt;\r\n        &lt;constant name=&quot;struts.devMode&quot; value=&quot;true&quot; /&gt;\r\n        &lt;!--  This package --&gt; \r\n        &lt;package name=&quot;Struts2Ex2&quot; extends=&quot;struts.default&quot;&gt;\r\n            &lt;action name=&quot;test&quot;\r\n                class=&quot;MyPack.Verify&quot;\r\n                method=&quot;execute&quot;&gt;\r\n                &lt;result name=&quot;success&quot;&gt;/Test2/WelcomeHome.jsp&lt;/result&gt;\r\n            &lt;/action&gt;\r\n        &lt;/package&gt;\r\n     &lt;/struts&gt;\r\n","title":"What&#39;s causing this NPE when I request an action?","body":"<p>This error was not there when I first run my program,then I tried some experiment to get the flow of MVC architecture but now it is showing me this exception.</p>\n<p>I guess the problem is when I request via subscribe button it will go to <code>struts.xml</code> where it will look for action. The problem is in package tag what should be there</p>\n<pre><code>java.lang.NullPointerException\n    org.apache.struts2.impl.StrutsActionProxy.getErrorMessage(StrutsActionProxy.java:69)\n    com.opensymphony.xwork2.DefaultActionProxy.prepare(DefaultActionProxy.java:185)\n    org.apache.struts2.impl.StrutsActionProxy.prepare(StrutsActionProxy.java:63)\n    org.apache.struts2.impl.StrutsActionProxyFactory.createActionProxy(StrutsActionProxyFactory.java:39)\n    com.opensymphony.xwork2.DefaultActionProxyFactory.createActionProxy(DefaultActionProxyFactory.java:58)\n    org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:501)\n    org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:432)\n    org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n    org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    org.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFilter.java:390)\n    org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n    org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\n    org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\n    org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\n    org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:286)\n    org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:845)\n    org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:583)\n    org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:447)\n    java.lang.Thread.run(Thread.java:619)\n</code></pre>\n<p><strong><code>struts.xml</code>:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE struts PUBLIC &quot;-//Apache Software Foundation//DTD Struts Configuration                             2.0//EN&quot; &quot;http://struts.apache.org/dtds/struts-2.0.dtd&quot;&gt;\n\n&lt;struts&gt;\n    &lt;constant name=&quot;struts.devMode&quot; value=&quot;true&quot; /&gt;\n    &lt;!--  This package --&gt; \n    &lt;package name=&quot;Struts2Ex2&quot; extends=&quot;struts.default&quot;&gt;\n        &lt;action name=&quot;test&quot;\n            class=&quot;MyPack.Verify&quot;\n            method=&quot;execute&quot;&gt;\n            &lt;result name=&quot;success&quot;&gt;/Test2/WelcomeHome.jsp&lt;/result&gt;\n        &lt;/action&gt;\n    &lt;/package&gt;\n &lt;/struts&gt;\n</code></pre>\n"},{"tags":["java","ubuntu","environment-variables","development-environment","windows-subsystem-for-linux"],"comments":[{"owner":{"account_id":10870710,"reputation":3651,"user_id":8928481,"accept_rate":100,"display_name":"Biswapriyo"},"score":4,"creation_date":1542632016,"post_id":53365643,"comment_id":93625756,"body_markdown":"Use `javac.exe` command. I&#39;d suggest to use `WSLENV` environment variable. Link:  https://learn.microsoft.com/en-us/windows/wsl/interop","body":"Use <code>javac.exe</code> command. I&#39;d suggest to use <code>WSLENV</code> environment variable. Link:  <a href=\"https://learn.microsoft.com/en-us/windows/wsl/interop\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/windows/wsl/interop</a>"}],"answers":[{"tags":[],"owner":{"account_id":2894792,"reputation":721,"user_id":7179900,"display_name":"Mbuotidem Isaac"},"down_vote_count":2,"up_vote_count":36,"is_accepted":true,"score":34,"last_activity_date":1676744875,"creation_date":1543695567,"answer_id":53574705,"question_id":53365643,"body_markdown":"As Biswapriyo suggested, you should use WSLENV. \r\n\r\n1. Open PowerShell. Then set `JAVA_HOME` to the path to your java installation. \r\n\r\n2. In your case, run  `setx JAVA_HOME &quot;D:\\Program Files\\Java\\jdk-11.0.1&quot;`\r\n\r\nYou should see a message that says &quot;SUCCESS: Specified value was saved&quot;.\r\n\r\n3. Then run `setx WSLENV &quot;JAVA_HOME/p&quot;`.\r\n\r\nYou should see the success message again. \r\n\r\n4. Type &#39;env&#39; into your WSL bash prompt. \r\n\r\nYou should see `JAVA_HOME` correctly set at this point.\r\n \r\nNote: If step 2 doesn&#39;t work, you might want to changing the path to `JAVA_HOME` to include the `\\bin` folder. ","title":"Windows Subsystem for Linux not recognizing JAVA_HOME Environmental Variable","body":"<p>As Biswapriyo suggested, you should use WSLENV.</p>\n<ol>\n<li><p>Open PowerShell. Then set <code>JAVA_HOME</code> to the path to your java installation.</p>\n</li>\n<li><p>In your case, run  <code>setx JAVA_HOME &quot;D:\\Program Files\\Java\\jdk-11.0.1&quot;</code></p>\n</li>\n</ol>\n<p>You should see a message that says &quot;SUCCESS: Specified value was saved&quot;.</p>\n<ol start=\"3\">\n<li>Then run <code>setx WSLENV &quot;JAVA_HOME/p&quot;</code>.</li>\n</ol>\n<p>You should see the success message again.</p>\n<ol start=\"4\">\n<li>Type 'env' into your WSL bash prompt.</li>\n</ol>\n<p>You should see <code>JAVA_HOME</code> correctly set at this point.</p>\n<p>Note: If step 2 doesn't work, you might want to changing the path to <code>JAVA_HOME</code> to include the <code>\\bin</code> folder.</p>\n"},{"tags":[],"owner":{"account_id":1377707,"reputation":531,"user_id":1311370,"accept_rate":67,"display_name":"MensSana"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1656205357,"creation_date":1554927398,"answer_id":55620688,"question_id":53365643,"body_markdown":"Since I&#39;ve never been able to share variables between the 2 systems easily, I created a simple bash function which can easily retrieve (and define, if asked to) any Windows Environment variable.\r\nIt also takes care of paths so they get converted from Win32 to Un*x-like.\r\n\r\nI added this to `/etc/bash.bashrc`:\r\n\r\n    winenv()\r\n    {\r\n      if [ &quot;$#&quot; == &quot;0&quot; ] || [ &quot;$1&quot; == &quot;--help&quot; ]\r\n      then\r\n        echo $&#39;\\n&#39;Usage:\r\n        echo $&#39;\\t&#39;winenv [-d] WINDOWS_ENVIRONEMENT_VARIABLE_NAME\r\n        echo $&#39;\\t&#39;-d: Defines environment variable in current shell\r\n        echo $&#39;\\t    Note that paths will be translated into un*x-like\\n&#39;\r\n        return\r\n      fi\r\n      local IFS=&#39;$\\n&#39;\r\n      local PATH_TO_TRANSLATE=$1\r\n      [ &quot;$1&quot; == &quot;-d&quot; ] &amp;&amp; PATH_TO_TRANSLATE=$2\r\n      local VAR=$(cmd.exe /c echo %${PATH_TO_TRANSLATE}% | tr -d &#39;\\r&#39;)\r\n      local NEW=$(wslpath -u &quot;${VAR}&quot; 2&gt;/dev/null || echo ${VAR})\r\n      echo &quot;${PATH_TO_TRANSLATE} = ${VAR} -&gt; ${NEW}&quot;\r\n      [ &quot;$1&quot; == &quot;-d&quot; ] &amp;&amp; export &quot;${PATH_TO_TRANSLATE}=${NEW}&quot;\r\n    }\r\n\r\nAnd all I have to do to display one is to call `winenv PROGRAMFILES` (for example)&lt;br&gt;\r\nOr if I expect to export it, I just have to add a -d argument **before** the variable name as in `winenv -d WINDIR`.","title":"Windows Subsystem for Linux not recognizing JAVA_HOME Environmental Variable","body":"<p>Since I've never been able to share variables between the 2 systems easily, I created a simple bash function which can easily retrieve (and define, if asked to) any Windows Environment variable.\nIt also takes care of paths so they get converted from Win32 to Un*x-like.</p>\n<p>I added this to <code>/etc/bash.bashrc</code>:</p>\n<pre><code>winenv()\n{\n  if [ &quot;$#&quot; == &quot;0&quot; ] || [ &quot;$1&quot; == &quot;--help&quot; ]\n  then\n    echo $'\\n'Usage:\n    echo $'\\t'winenv [-d] WINDOWS_ENVIRONEMENT_VARIABLE_NAME\n    echo $'\\t'-d: Defines environment variable in current shell\n    echo $'\\t    Note that paths will be translated into un*x-like\\n'\n    return\n  fi\n  local IFS='$\\n'\n  local PATH_TO_TRANSLATE=$1\n  [ &quot;$1&quot; == &quot;-d&quot; ] &amp;&amp; PATH_TO_TRANSLATE=$2\n  local VAR=$(cmd.exe /c echo %${PATH_TO_TRANSLATE}% | tr -d '\\r')\n  local NEW=$(wslpath -u &quot;${VAR}&quot; 2&gt;/dev/null || echo ${VAR})\n  echo &quot;${PATH_TO_TRANSLATE} = ${VAR} -&gt; ${NEW}&quot;\n  [ &quot;$1&quot; == &quot;-d&quot; ] &amp;&amp; export &quot;${PATH_TO_TRANSLATE}=${NEW}&quot;\n}\n</code></pre>\n<p>And all I have to do to display one is to call <code>winenv PROGRAMFILES</code> (for example)<br>\nOr if I expect to export it, I just have to add a -d argument <strong>before</strong> the variable name as in <code>winenv -d WINDIR</code>.</p>\n"},{"tags":[],"owner":{"account_id":15272699,"reputation":557,"user_id":11019416,"display_name":"jon.bray.eth"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1699561218,"creation_date":1595599143,"answer_id":63075133,"question_id":53365643,"body_markdown":"**TL;DR:** In WSL, you must use `javac.exe` since it is a Windows binary. Simply typing `javac` will not work, even if the path is set up correctly. If that doesn&#39;t work, try adding `../bin` to the end of your `JAVA_HOME` variable.\r\n\r\n# Using Windows Binaries &amp; Environment Variables in WSL\r\nThere&#39;s a much easier way to make Windows and WSL utilize the same JavaSDK binary, you just need to set up a few things first. Best of all, if you have JavaSDK installed on Windows, you **do not** need to install Linux binaries.\r\n\r\n## Check WSL Permissions and Directory Link (Optional, but recommended)\r\n*In WSL, list symbolic links on PC:*\r\n```sh\r\nls -l /mnt\r\n```\r\nIf any drive is owned by `root`, perform your WSL dev work in `/mnt/c/Users/&lt;UserName&gt;`\r\n\r\nPersonally, I create a development directory in Windows and add a symbolic link to the directory in WSL:\r\n\r\n```sh\r\nln -s /mnt/d/dev/environment/ ~/dev\r\n```\r\n\r\n`cd dev` now brings you to your development directory.\r\n\r\n## Ensure Java for Windows works\r\nOpen `PowerShell`/`cmd.exe` from any directory and enter: `java --version`\r\n \r\nYou should get a list of JRE info:\r\n```sh\r\nopenjdk 11.0.4 2019-07-16 LTS\r\nOpenJDK Runtime Environment Corretto-11.0.4.11.1 (build 11.0.4+11-LTS)\r\nOpenJDK 64-Bit Server VM Corretto-11.0.4.11.1 (build 11.0.4+11-LTS, mixed mode)\r\n```\r\nYour version might be different, **the important part is that the system knows where to find Java**. If you get an error, ensure your Windows Environment variables are set correctly:\r\n\r\n - JAVA_HOME as an Environment Variable, and\r\n - JAVA_HOME/bin as a Path variable.\r\n\r\n## Setting Variable in WSL\r\nThe best place to put the next lines of code are in your `.bashrc` file, but if you have a `./bash_profile` or `/etc/profile` structure set up, you can put it there.\r\n\r\n```sh\r\n# Shared environment variables\r\n# Use &#39;java.exe &lt;args&gt;&#39; to utilize Windows Java binaries from within WSL.\r\nexport JAVA_HOME=/mnt/d/Java/jdk11.0.4_10\r\n```\r\nWhile we&#39;re at it, let&#39;s add Maven too:\r\n```sh\r\nexport MAVEN_HOME=/mnt/d/software/apache-maven-3.6.2\r\n```\r\n\r\nI have my WSL, Java, and all my other dev tools set up on my second HDD which is not a system drive, ensure that your location matches your JAVA_HOME path in Windows.\r\n\r\n&gt; For instance, if in Windows, Java is located at: `C:\\Java\\jdk8.0`\r\n&gt; The corresponding WSL mount point is: `/mnt/c/Java/jdk8.0`\r\n\r\n## Executing\r\n**Important:** Use `java.exe &lt;args&gt;` in WSL instead of `java &lt;args&gt;`\r\nSay you just wrote `CompareTwoStrings.class` and want to compile and run it using the Windows binaries. You can do it from a Windows shell or WSL.\r\n\r\n**Windows PowerShell/cmd:**\r\n```\r\njavac GetStringLength.java\r\njava GetStringLength\r\n```\r\n\r\n**WSL:**\r\n```\r\njavac.exe GetStringLength.java\r\njava.exe GetStringLength\r\n```\r\nUsing `java &lt;args&gt;` in WSL will result in a `Command &#39;java&#39; not found` error. That is because running windows binaries from within WSL **requires that the `.exe` extension is used** in the command. Also ensure that you don&#39;t have any trailing spaces or semi-colon at the end of your export statements, as this will cause an error when running anything that depends on Java.\r\n\r\n### Simplicity\r\nWe don&#39;t want to install a second copy of Java specific to WSL and waste that precious disk space, so we&#39;re going to call the Windows binary from the WSL shell. This is a great benefit of WSL—WSL1 in particular—in that it can interact (almost) flawlessly with the Windows File System.\r\n\r\nTo keep commands congruent between Windows and WSL, you can add an alias to your `.bashrc` file where `java = java.exe` and `javac = javac.exe`.\r\n\r\n**NOTE:** In order to run a program, it must either be a `Path` variable, or be run from within it&#39;s containing folder.\r\n\r\nHopefully that works as easily for you as it did for me. Just remember to use the correct command depending on what OS binary you&#39;re running. This took me about 10 minutes to get set up, and has been a lifesaver for cross-compiling and general ease-of-use.","title":"Windows Subsystem for Linux not recognizing JAVA_HOME Environmental Variable","body":"<p><strong>TL;DR:</strong> In WSL, you must use <code>javac.exe</code> since it is a Windows binary. Simply typing <code>javac</code> will not work, even if the path is set up correctly. If that doesn't work, try adding <code>../bin</code> to the end of your <code>JAVA_HOME</code> variable.</p>\n<h1>Using Windows Binaries &amp; Environment Variables in WSL</h1>\n<p>There's a much easier way to make Windows and WSL utilize the same JavaSDK binary, you just need to set up a few things first. Best of all, if you have JavaSDK installed on Windows, you <strong>do not</strong> need to install Linux binaries.</p>\n<h2>Check WSL Permissions and Directory Link (Optional, but recommended)</h2>\n<p><em>In WSL, list symbolic links on PC:</em></p>\n<pre class=\"lang-bash prettyprint-override\"><code>ls -l /mnt\n</code></pre>\n<p>If any drive is owned by <code>root</code>, perform your WSL dev work in <code>/mnt/c/Users/&lt;UserName&gt;</code></p>\n<p>Personally, I create a development directory in Windows and add a symbolic link to the directory in WSL:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>ln -s /mnt/d/dev/environment/ ~/dev\n</code></pre>\n<p><code>cd dev</code> now brings you to your development directory.</p>\n<h2>Ensure Java for Windows works</h2>\n<p>Open <code>PowerShell</code>/<code>cmd.exe</code> from any directory and enter: <code>java --version</code></p>\n<p>You should get a list of JRE info:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>openjdk 11.0.4 2019-07-16 LTS\nOpenJDK Runtime Environment Corretto-11.0.4.11.1 (build 11.0.4+11-LTS)\nOpenJDK 64-Bit Server VM Corretto-11.0.4.11.1 (build 11.0.4+11-LTS, mixed mode)\n</code></pre>\n<p>Your version might be different, <strong>the important part is that the system knows where to find Java</strong>. If you get an error, ensure your Windows Environment variables are set correctly:</p>\n<ul>\n<li>JAVA_HOME as an Environment Variable, and</li>\n<li>JAVA_HOME/bin as a Path variable.</li>\n</ul>\n<h2>Setting Variable in WSL</h2>\n<p>The best place to put the next lines of code are in your <code>.bashrc</code> file, but if you have a <code>./bash_profile</code> or <code>/etc/profile</code> structure set up, you can put it there.</p>\n<pre class=\"lang-bash prettyprint-override\"><code># Shared environment variables\n# Use 'java.exe &lt;args&gt;' to utilize Windows Java binaries from within WSL.\nexport JAVA_HOME=/mnt/d/Java/jdk11.0.4_10\n</code></pre>\n<p>While we're at it, let's add Maven too:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>export MAVEN_HOME=/mnt/d/software/apache-maven-3.6.2\n</code></pre>\n<p>I have my WSL, Java, and all my other dev tools set up on my second HDD which is not a system drive, ensure that your location matches your JAVA_HOME path in Windows.</p>\n<blockquote>\n<p>For instance, if in Windows, Java is located at: <code>C:\\Java\\jdk8.0</code>\nThe corresponding WSL mount point is: <code>/mnt/c/Java/jdk8.0</code></p>\n</blockquote>\n<h2>Executing</h2>\n<p><strong>Important:</strong> Use <code>java.exe &lt;args&gt;</code> in WSL instead of <code>java &lt;args&gt;</code>\nSay you just wrote <code>CompareTwoStrings.class</code> and want to compile and run it using the Windows binaries. You can do it from a Windows shell or WSL.</p>\n<p><strong>Windows PowerShell/cmd:</strong></p>\n<pre><code>javac GetStringLength.java\njava GetStringLength\n</code></pre>\n<p><strong>WSL:</strong></p>\n<pre><code>javac.exe GetStringLength.java\njava.exe GetStringLength\n</code></pre>\n<p>Using <code>java &lt;args&gt;</code> in WSL will result in a <code>Command 'java' not found</code> error. That is because running windows binaries from within WSL <strong>requires that the <code>.exe</code> extension is used</strong> in the command. Also ensure that you don't have any trailing spaces or semi-colon at the end of your export statements, as this will cause an error when running anything that depends on Java.</p>\n<h3>Simplicity</h3>\n<p>We don't want to install a second copy of Java specific to WSL and waste that precious disk space, so we're going to call the Windows binary from the WSL shell. This is a great benefit of WSL—WSL1 in particular—in that it can interact (almost) flawlessly with the Windows File System.</p>\n<p>To keep commands congruent between Windows and WSL, you can add an alias to your <code>.bashrc</code> file where <code>java = java.exe</code> and <code>javac = javac.exe</code>.</p>\n<p><strong>NOTE:</strong> In order to run a program, it must either be a <code>Path</code> variable, or be run from within it's containing folder.</p>\n<p>Hopefully that works as easily for you as it did for me. Just remember to use the correct command depending on what OS binary you're running. This took me about 10 minutes to get set up, and has been a lifesaver for cross-compiling and general ease-of-use.</p>\n"},{"tags":[],"owner":{"account_id":4132035,"reputation":389,"user_id":3389672,"display_name":"JabberwokyStrollin"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1646247710,"creation_date":1646245005,"answer_id":71327380,"question_id":53365643,"body_markdown":"I originally had Maven working in Windows attempted to run Maven in WSL2 and tried all of the previous solutions, but would consistently get the following no matter what I set for JAVA_HOME and PATH:\r\n```\r\n$ mvn -v\r\nThe JAVA_HOME environment variable is not defined correctly\r\nThis environment variable is needed to run this program\r\nNB: JAVA_HOME should point to a JDK not a JRE\r\n```\r\nThe issue was I was trying to use a Windows version of the JDK in the WSL2 Linux kernel. To fix this I ended up having to install a Linux version of the JDK (version 11) in the WSL as follows:\r\n```\r\n$ sudo apt update\r\n$ sudo apt install openjdk-11-jdk\r\n$ sudo update-alternatives --config java\r\nThere is only one alternative in link group java (providing /usr/bin/java): /usr/lib/jvm/java-11-openjdk-amd64/bin/java\r\nNothing to configure.\r\n```\r\nThen take the path for your JDK and use it to create JAVA_HOME and update PATH by appending the following in .profile\r\n```\r\nexport PATH=&quot;/usr/lib/jvm/java-11-openjdk-amd64/bin/java:$PATH&quot;\r\nexport JAVA_HOME=&quot;/usr/lib/jvm/java-11-openjdk-amd64&quot;\r\n```\r\nNow close and reopen WSL2 and when your try again:\r\n```\r\n$ mvn -v\r\nApache Maven 3.6.3\r\nMaven home: /usr/share/maven\r\nJava version: 11.0.13, vendor: Ubuntu, runtime: /usr/lib/jvm/java-11-openjdk-amd64\r\nDefault locale: en, platform encoding: UTF-8\r\nOS name: &quot;linux&quot;, version: &quot;5.10.16.3-microsoft-standard-wsl2&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\r\n```","title":"Windows Subsystem for Linux not recognizing JAVA_HOME Environmental Variable","body":"<p>I originally had Maven working in Windows attempted to run Maven in WSL2 and tried all of the previous solutions, but would consistently get the following no matter what I set for JAVA_HOME and PATH:</p>\n<pre><code>$ mvn -v\nThe JAVA_HOME environment variable is not defined correctly\nThis environment variable is needed to run this program\nNB: JAVA_HOME should point to a JDK not a JRE\n</code></pre>\n<p>The issue was I was trying to use a Windows version of the JDK in the WSL2 Linux kernel. To fix this I ended up having to install a Linux version of the JDK (version 11) in the WSL as follows:</p>\n<pre><code>$ sudo apt update\n$ sudo apt install openjdk-11-jdk\n$ sudo update-alternatives --config java\nThere is only one alternative in link group java (providing /usr/bin/java): /usr/lib/jvm/java-11-openjdk-amd64/bin/java\nNothing to configure.\n</code></pre>\n<p>Then take the path for your JDK and use it to create JAVA_HOME and update PATH by appending the following in .profile</p>\n<pre><code>export PATH=&quot;/usr/lib/jvm/java-11-openjdk-amd64/bin/java:$PATH&quot;\nexport JAVA_HOME=&quot;/usr/lib/jvm/java-11-openjdk-amd64&quot;\n</code></pre>\n<p>Now close and reopen WSL2 and when your try again:</p>\n<pre><code>$ mvn -v\nApache Maven 3.6.3\nMaven home: /usr/share/maven\nJava version: 11.0.13, vendor: Ubuntu, runtime: /usr/lib/jvm/java-11-openjdk-amd64\nDefault locale: en, platform encoding: UTF-8\nOS name: &quot;linux&quot;, version: &quot;5.10.16.3-microsoft-standard-wsl2&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\n</code></pre>\n"}],"owner":{"account_id":12049337,"reputation":436,"user_id":8813002,"display_name":"Jawsh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59593,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":53574705,"answer_count":4,"score":30,"last_activity_date":1699561218,"creation_date":1542576484,"question_id":53365643,"body_markdown":"I&#39;m trying to get WSL to recognize my windows installed environmental variable of JAVA_HOME. I attached of what I have in my bashrc and what I have in my windows environmental variables along with outputs from cmd and bash.\r\n[![JAVA_HOME Env. Var.][1]][1]\r\n\r\n\r\n[![`enter image description here`][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Y2hcZ.png\r\n  [2]: https://i.stack.imgur.com/i7j86.png\r\n\r\nWhat&#39;s at the end of my bashrc:\r\n\r\n    export JAVA_HOME=&quot;/mnt/d/Program Files/Java/jdk-11.0.1&quot;\r\n    export PATH=&quot;/mnt/d/Program Files/Java/jdk-11.0.1/bin:$PATH&quot;\r\n\r\nCMD INPUT/OUTPUT:\r\n\r\n    C:\\Users\\jaall&gt;javac --version\r\n    javac 11.0.1\r\n\r\nBASH INPUT/OUTPUT:\r\n\r\n    myubuntu_name@DESKTOP-LUK3BII:~$ javac --version\r\n    \r\n    Command &#39;javac&#39; not found, but can be installed with:\r\n    \r\n    sudo apt install default-jdk\r\n    sudo apt install openjdk-11-jdk-headless\r\n    sudo apt install ecj\r\n    sudo apt install openjdk-8-jdk-headless\r\n\r\nI&#39;ve been stuck on this for awhile and can&#39;t figure it out or find a working solution online. Thanks!\r\n\r\n\r\n","title":"Windows Subsystem for Linux not recognizing JAVA_HOME Environmental Variable","body":"<p>I'm trying to get WSL to recognize my windows installed environmental variable of JAVA_HOME. I attached of what I have in my bashrc and what I have in my windows environmental variables along with outputs from cmd and bash.\n<a href=\"https://i.stack.imgur.com/Y2hcZ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Y2hcZ.png\" alt=\"JAVA_HOME Env. Var.\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/i7j86.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/i7j86.png\" alt=\"&lt;code&gt;enter image description here&lt;/code&gt;\"></a></p>\n\n<p>What's at the end of my bashrc:</p>\n\n<pre><code>export JAVA_HOME=\"/mnt/d/Program Files/Java/jdk-11.0.1\"\nexport PATH=\"/mnt/d/Program Files/Java/jdk-11.0.1/bin:$PATH\"\n</code></pre>\n\n<p>CMD INPUT/OUTPUT:</p>\n\n<pre><code>C:\\Users\\jaall&gt;javac --version\njavac 11.0.1\n</code></pre>\n\n<p>BASH INPUT/OUTPUT:</p>\n\n<pre><code>myubuntu_name@DESKTOP-LUK3BII:~$ javac --version\n\nCommand 'javac' not found, but can be installed with:\n\nsudo apt install default-jdk\nsudo apt install openjdk-11-jdk-headless\nsudo apt install ecj\nsudo apt install openjdk-8-jdk-headless\n</code></pre>\n\n<p>I've been stuck on this for awhile and can't figure it out or find a working solution online. Thanks!</p>\n"},{"tags":["java","json","spring","spring-boot"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1699564950,"post_id":77456111,"comment_id":136551752,"body_markdown":"Spiting or any string operation is the wrong way to get the value. You have a JSON document inside a JSON string. You should use a JSON library to read the value and convert it. See the accepted answer on [Java escape JSON String?](https://stackoverflow.com/questions/18898773/java-escape-json-string)","body":"Spiting or any string operation is the wrong way to get the value. You have a JSON document inside a JSON string. You should use a JSON library to read the value and convert it. See the accepted answer on <a href=\"https://stackoverflow.com/questions/18898773/java-escape-json-string\">Java escape JSON String?</a>"},{"owner":{"account_id":14797915,"reputation":796,"user_id":10687061,"display_name":"Karl"},"score":0,"creation_date":1699588460,"post_id":77456111,"comment_id":136553928,"body_markdown":"Usually 400 Bad Request mean your request payload is invalid, Can you add sample of the JSON request you send to this server and not the response that the service returns?  What Http Client library are you using? can you add sample of the code you use to call this service?","body":"Usually 400 Bad Request mean your request payload is invalid, Can you add sample of the JSON request you send to this server and not the response that the service returns?  What Http Client library are you using? can you add sample of the code you use to call this service?"}],"owner":{"account_id":12942153,"reputation":183,"user_id":9357607,"accept_rate":71,"display_name":"Billy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699561151,"creation_date":1699561151,"question_id":77456111,"body_markdown":"I am calling a server that&#39;s giving giving 400 bad request error with below body.\r\n\r\n    org.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request: \\&quot;{&lt;EOL&gt;??\\&quot;headerRecordError\\&quot;: [&lt;EOL&gt;???{&lt;EOL&gt;?            ?\\&quot;host\\&quot;: \\&quot;3\\&quot;&lt;EOL&gt;?            ?, \\&quot;version\\&quot;: \\&quot;00\\&quot;&lt;EOL&gt;?            ?, \\&quot;surName\\&quot;: \\&quot;TEST    \\&quot;&lt;EOL&gt;?????, \\&quot;firstName\\&quot;: \\&quot;TEST\\&quot;&lt;EOL&gt;?            ?,&lt;EOL&gt;?            \\dDate\\&quot;: \\&quot;11092021\\&quot;&lt;EOL&gt;???}&lt;EOL&gt;??],&lt;EOL&gt;     \\&quot;errors\\&quot;: [&lt;EOL&gt; &lt;EOL&gt;??      {&lt;EOL&gt;??        \\&quot;errorCode\\&quot;: \\&quot;006\\&quot;,&lt;EOL&gt;??        \\&quot;errorType\\&quot;: \\&quot;Api Validation\\&quot;,&lt;EOL&gt;??        \\&quot;message\\&quot;: \\&quot;Invalid stream error\\&quot;&lt;EOL&gt;??      }&lt;EOL&gt;??      ,{&lt;EOL&gt;??        \\&quot;errorCode\\&quot;: \\&quot;006\\&quot;,&lt;EOL&gt;??        \\&quot;errorType\\&quot;: \\&quot;Some Error\\&quot;, \\&quot;Items\\&quot;: \\&quot;000\\&quot;&lt;EOL&gt;????}&lt;EOL&gt;???]&lt;EOL&gt;   &lt;EOL&gt;}\\&quot;&quot;, &quot;logType&quot;: &quot;Normal&quot;, &quot;loggerName&quot;: &quot;com.testapp&quot;, &quot;uniqueRequestId&quot;: null}\r\n\r\n\r\nI know I can use delimiters to split and extract the information but I want to know if there&#39;s a better way. Is there a library or a cleaner way if I want to extract any specific field from this payload such as *errorCode* or *message.*\r\n","title":"Parse JSON with Quotes and Slash Java","body":"<p>I am calling a server that's giving giving 400 bad request error with below body.</p>\n<pre><code>org.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request: \\&quot;{&lt;EOL&gt;??\\&quot;headerRecordError\\&quot;: [&lt;EOL&gt;???{&lt;EOL&gt;?            ?\\&quot;host\\&quot;: \\&quot;3\\&quot;&lt;EOL&gt;?            ?, \\&quot;version\\&quot;: \\&quot;00\\&quot;&lt;EOL&gt;?            ?, \\&quot;surName\\&quot;: \\&quot;TEST    \\&quot;&lt;EOL&gt;?????, \\&quot;firstName\\&quot;: \\&quot;TEST\\&quot;&lt;EOL&gt;?            ?,&lt;EOL&gt;?            \\dDate\\&quot;: \\&quot;11092021\\&quot;&lt;EOL&gt;???}&lt;EOL&gt;??],&lt;EOL&gt;     \\&quot;errors\\&quot;: [&lt;EOL&gt; &lt;EOL&gt;??      {&lt;EOL&gt;??        \\&quot;errorCode\\&quot;: \\&quot;006\\&quot;,&lt;EOL&gt;??        \\&quot;errorType\\&quot;: \\&quot;Api Validation\\&quot;,&lt;EOL&gt;??        \\&quot;message\\&quot;: \\&quot;Invalid stream error\\&quot;&lt;EOL&gt;??      }&lt;EOL&gt;??      ,{&lt;EOL&gt;??        \\&quot;errorCode\\&quot;: \\&quot;006\\&quot;,&lt;EOL&gt;??        \\&quot;errorType\\&quot;: \\&quot;Some Error\\&quot;, \\&quot;Items\\&quot;: \\&quot;000\\&quot;&lt;EOL&gt;????}&lt;EOL&gt;???]&lt;EOL&gt;   &lt;EOL&gt;}\\&quot;&quot;, &quot;logType&quot;: &quot;Normal&quot;, &quot;loggerName&quot;: &quot;com.testapp&quot;, &quot;uniqueRequestId&quot;: null}\n</code></pre>\n<p>I know I can use delimiters to split and extract the information but I want to know if there's a better way. Is there a library or a cleaner way if I want to extract any specific field from this payload such as <em>errorCode</em> or <em>message.</em></p>\n"},{"tags":["java","docker","google-cloud-platform","google-cloud-pubsub"],"comments":[{"owner":{"account_id":1136268,"reputation":15739,"user_id":1121288,"display_name":"Kamal Aboul-Hosn"},"score":3,"creation_date":1699562158,"post_id":77456100,"comment_id":136551274,"body_markdown":"Can you provide the full code for your publisher? Also, how long is &quot;forever&quot;? By default, a publish call will retry on retryable errors for up to 10 minutes. So if you stopped your client manually before that, you wouldn&#39;t see an error on the publish.","body":"Can you provide the full code for your publisher? Also, how long is &quot;forever&quot;? By default, a publish call will retry on retryable errors for up to 10 minutes. So if you stopped your client manually before that, you wouldn&#39;t see an error on the publish."}],"owner":{"account_id":29867196,"reputation":1,"user_id":22889459,"display_name":"Sunny Sunny"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699560994,"creation_date":1699560994,"question_id":77456100,"body_markdown":"publisher.publish(message).get() runs forever when executed in a docker container.\r\n\r\nBut it works fine and publishes the messages to the topic when executed in local IDE eclipse\r\n\r\nI tried calling future.get through an Executor service. The program gets completed but doesn&#39;t publish the message to the topic.","title":"Google PubSub future.get() runs forever","body":"<p>publisher.publish(message).get() runs forever when executed in a docker container.</p>\n<p>But it works fine and publishes the messages to the topic when executed in local IDE eclipse</p>\n<p>I tried calling future.get through an Executor service. The program gets completed but doesn't publish the message to the topic.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9788,"page":69,"page_size":100}
