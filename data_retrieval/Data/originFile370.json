{"items":[{"tags":["java","spring","spring-boot","integration-testing"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1686326457,"post_id":76441892,"comment_id":134788284,"body_markdown":"*This sounds like a common requirement - to clean up tables right before each test case. I wonder how others are doing it ?* - simple, via @SQL annotation","body":"<i>This sounds like a common requirement - to clean up tables right before each test case. I wonder how others are doing it ?</i> - simple, via @SQL annotation"}],"answers":[{"comments":[{"owner":{"account_id":1018719,"reputation":1232,"user_id":1029684,"accept_rate":52,"display_name":"ishan"},"score":0,"creation_date":1686643837,"post_id":76446236,"comment_id":134823455,"body_markdown":"Thanks for taking the time to write this answer. \nLooks like, using the callback has exact same behaviour as annotation. Here is the code https://github.com/jainishan/spring-boot-tryouts/blob/main/src/test/java/com/samples/sample/RepositoryTestWithJDBCExtension.java","body":"Thanks for taking the time to write this answer.  Looks like, using the callback has exact same behaviour as annotation. Here is the code <a href=\"https://github.com/jainishan/spring-boot-tryouts/blob/main/src/test/java/com/samples/sample/RepositoryTestWithJDBCExtension.java\" rel=\"nofollow noreferrer\">github.com/jainishan/spring-boot-tryouts/blob/main/src/test/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1686675273,"post_id":76446236,"comment_id":134830653,"body_markdown":"@ishan Okay, I&#39;ve found the catch, I will update the answer.","body":"@ishan Okay, I&#39;ve found the catch, I will update the answer."},{"owner":{"account_id":1018719,"reputation":1232,"user_id":1029684,"accept_rate":52,"display_name":"ishan"},"score":0,"creation_date":1687179402,"post_id":76446236,"comment_id":134896391,"body_markdown":"Hi. It works fine this way. Although, it doesn&#39;t look good but it works.","body":"Hi. It works fine this way. Although, it doesn&#39;t look good but it works."},{"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1687180554,"post_id":76446236,"comment_id":134896687,"body_markdown":"I know, but at least it solves the problem. I haven&#39;t found a better solution or another solution that works yet.","body":"I know, but at least it solves the problem. I haven&#39;t found a better solution or another solution that works yet."}],"tags":[],"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686812317,"creation_date":1686400740,"answer_id":76446236,"question_id":76441892,"body_markdown":"You can achieve that in the following way. \r\nFirst, create a JUnit extension, by implementing [`BeforeEachCallback`][1], that would do the cleaning part:\r\n```java\r\npublic class DatabaseCleanerExtension implements BeforeEachCallback {\r\n  private JdbcTemplate jdbcTemplate;\r\n\r\n  @Override\r\n  public void beforeEach(ExtensionContext extensionContext) {\r\n    if (jdbcTemplate == null) {\r\n      jdbcTemplate = SpringExtension.getApplicationContext(extensionContext).getBean(JdbcTemplate.class);\r\n    }\r\n    cleanDatabase();\r\n  }\r\n\r\n  private void cleanDatabase() {\r\n    jdbcTemplate.execute(&quot;SET FOREIGN_KEY_CHECKS = 0&quot;);\r\n    List&lt;String&gt; tableNames = jdbcTemplate.queryForList(\r\n        &quot;SELECT table_name FROM information_schema.tables WHERE table_schema = DATABASE()&quot;, String.class);\r\n    for (String tableName : tableNames) {\r\n      jdbcTemplate.execute(&quot;TRUNCATE TABLE &quot; + tableName);\r\n    }\r\n    jdbcTemplate.execute(&quot;SET FOREIGN_KEY_CHECKS = 1&quot;);\r\n  }\r\n}\r\n```\r\nSince extensions are not managed by Spring, `jdbcTemplate` cannot be autowired directly. However, it can be retrieved from the extension context using the line below, as explained in [Sam&#39;s answer][2].\r\n```java\r\nSpringExtension.getApplicationContext(extensionContext).getBean(JdbcTemplate.class)\r\n``` \r\n\r\nThen create a new class and annotate it with `@ExtendsWith(DatabaseCleanerExtension.class)`.\r\n```java\r\n@ExtendsWith(DatabaseCleanerExtension.class)\r\npublic class DatabaseCleaner {}\r\n```\r\nFinally, modify the `BaseIntegrationTestJDBC` class as shown below:\r\n\r\n```java\r\n@ActiveProfiles(&quot;it&quot;)\r\n@AutoConfigureMockMvc\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\npublic abstract class BaseIntegrationTestJDBC extends DatabaseCleaner {}\r\n```\r\n\r\nThe catch is to put the `@ExtendsWith(DatabaseCleanerExtension.class)` annotation on the top of the superclass of the class annotated with `@SpringBootTest`. Otherwise, `@Sql` would still be executed before the `beforeEach` method defined in the extension.\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/5.0.3/api/org/junit/jupiter/api/extension/BeforeEachCallback.html\r\n  [2]: https://stackoverflow.com/a/56922657/10231374","title":"How can I run @BeforeEach method BEFORE @Sql script for each test case in spring boot integration test?","body":"<p>You can achieve that in the following way.\nFirst, create a JUnit extension, by implementing <a href=\"https://junit.org/junit5/docs/5.0.3/api/org/junit/jupiter/api/extension/BeforeEachCallback.html\" rel=\"nofollow noreferrer\"><code>BeforeEachCallback</code></a>, that would do the cleaning part:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DatabaseCleanerExtension implements BeforeEachCallback {\n  private JdbcTemplate jdbcTemplate;\n\n  @Override\n  public void beforeEach(ExtensionContext extensionContext) {\n    if (jdbcTemplate == null) {\n      jdbcTemplate = SpringExtension.getApplicationContext(extensionContext).getBean(JdbcTemplate.class);\n    }\n    cleanDatabase();\n  }\n\n  private void cleanDatabase() {\n    jdbcTemplate.execute(&quot;SET FOREIGN_KEY_CHECKS = 0&quot;);\n    List&lt;String&gt; tableNames = jdbcTemplate.queryForList(\n        &quot;SELECT table_name FROM information_schema.tables WHERE table_schema = DATABASE()&quot;, String.class);\n    for (String tableName : tableNames) {\n      jdbcTemplate.execute(&quot;TRUNCATE TABLE &quot; + tableName);\n    }\n    jdbcTemplate.execute(&quot;SET FOREIGN_KEY_CHECKS = 1&quot;);\n  }\n}\n</code></pre>\n<p>Since extensions are not managed by Spring, <code>jdbcTemplate</code> cannot be autowired directly. However, it can be retrieved from the extension context using the line below, as explained in <a href=\"https://stackoverflow.com/a/56922657/10231374\">Sam's answer</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>SpringExtension.getApplicationContext(extensionContext).getBean(JdbcTemplate.class)\n</code></pre>\n<p>Then create a new class and annotate it with <code>@ExtendsWith(DatabaseCleanerExtension.class)</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendsWith(DatabaseCleanerExtension.class)\npublic class DatabaseCleaner {}\n</code></pre>\n<p>Finally, modify the <code>BaseIntegrationTestJDBC</code> class as shown below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ActiveProfiles(&quot;it&quot;)\n@AutoConfigureMockMvc\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\npublic abstract class BaseIntegrationTestJDBC extends DatabaseCleaner {}\n</code></pre>\n<p>The catch is to put the <code>@ExtendsWith(DatabaseCleanerExtension.class)</code> annotation on the top of the superclass of the class annotated with <code>@SpringBootTest</code>. Otherwise, <code>@Sql</code> would still be executed before the <code>beforeEach</code> method defined in the extension.</p>\n"}],"owner":{"account_id":1018719,"reputation":1232,"user_id":1029684,"accept_rate":52,"display_name":"ishan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76446236,"answer_count":1,"score":2,"last_activity_date":1686812317,"creation_date":1686326033,"question_id":76441892,"body_markdown":"I created a sample application here if someone wants to replicate the issue - https://github.com/jainishan/spring-boot-tryouts/blob/main/src/test/java/com/samples/sample/RepositoryTestWithJDBC.java\r\n\r\nThe above test case is pretty much what I am trying to achieve.\r\n\r\nMy use case is simple - I need to truncate all tables in a generic way before the execution of each test case in my spring boot integration tests. I am using test containers in my setup and want to run a stored procedure to clear up all tables.\r\n\r\nI wrote a stored procedure that runs fine in the DB but doesn&#39;t execute via @Sql annotation because of delimiter issues. I was not able to solve that problem - https://stackoverflow.com/questions/76374296/mysql-procedure-runs-fine-in-db-but-throwing-errors-while-running-within-spring\r\n\r\nNow I wrote a method to do it programatically using JDBC template - https://github.com/jainishan/spring-boot-tryouts/blob/main/src/test/java/com/samples/sample/config/BaseIntegrationTestJDBC.java#L24\r\n\r\nI want to wire my integration tests in a way so that the method to clean up all tables run before the @Sql annotation. But the @Sql annotation always gets executed first and messes up the whole setup. \r\n\r\nThis sounds like a common requirement - to clean up tables right before each test case. I wonder how others are doing it ?","title":"How can I run @BeforeEach method BEFORE @Sql script for each test case in spring boot integration test?","body":"<p>I created a sample application here if someone wants to replicate the issue - <a href=\"https://github.com/jainishan/spring-boot-tryouts/blob/main/src/test/java/com/samples/sample/RepositoryTestWithJDBC.java\" rel=\"nofollow noreferrer\">https://github.com/jainishan/spring-boot-tryouts/blob/main/src/test/java/com/samples/sample/RepositoryTestWithJDBC.java</a></p>\n<p>The above test case is pretty much what I am trying to achieve.</p>\n<p>My use case is simple - I need to truncate all tables in a generic way before the execution of each test case in my spring boot integration tests. I am using test containers in my setup and want to run a stored procedure to clear up all tables.</p>\n<p>I wrote a stored procedure that runs fine in the DB but doesn't execute via @Sql annotation because of delimiter issues. I was not able to solve that problem - <a href=\"https://stackoverflow.com/questions/76374296/mysql-procedure-runs-fine-in-db-but-throwing-errors-while-running-within-spring\">MYSQL procedure runs fine in DB but throwing errors while running within spring boot integration tests</a></p>\n<p>Now I wrote a method to do it programatically using JDBC template - <a href=\"https://github.com/jainishan/spring-boot-tryouts/blob/main/src/test/java/com/samples/sample/config/BaseIntegrationTestJDBC.java#L24\" rel=\"nofollow noreferrer\">https://github.com/jainishan/spring-boot-tryouts/blob/main/src/test/java/com/samples/sample/config/BaseIntegrationTestJDBC.java#L24</a></p>\n<p>I want to wire my integration tests in a way so that the method to clean up all tables run before the @Sql annotation. But the @Sql annotation always gets executed first and messes up the whole setup.</p>\n<p>This sounds like a common requirement - to clean up tables right before each test case. I wonder how others are doing it ?</p>\n"},{"tags":["java","foreign-keys","dao"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1686544940,"post_id":76453606,"comment_id":134807573,"body_markdown":"Does your SQL in your PreparedStatement have exactly the same column names as the columns in your database tables?","body":"Does your SQL in your PreparedStatement have exactly the same column names as the columns in your database tables?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1686640239,"post_id":76453606,"comment_id":134822770,"body_markdown":"You wrote in your question: _the only message I received is that it was not possible to find the codTel and codEndereco_ I think that&#39;s because you&#39;re only printing a message in your `catch` blocks. You should add `e.printStackTrace();` to your `catch` blocks. Then, if you still don&#39;t know how to fix your problem, [edit] your question and post the stack trace[s]. The way it is now - even though you translated your question to English - it is still not clear what your problem is and a stack trace would help me to understand what your problem is.","body":"You wrote in your question: <i>the only message I received is that it was not possible to find the codTel and codEndereco</i> I think that&#39;s because you&#39;re only printing a message in your <code>catch</code> blocks. You should add <code>e.printStackTrace();</code> to your <code>catch</code> blocks. Then, if you still don&#39;t know how to fix your problem, <a href=\"https://stackoverflow.com/posts/76453606/edit\">edit</a> your question and post the stack trace[s]. The way it is now - even though you translated your question to English - it is still not clear what your problem is and a stack trace would help me to understand what your problem is."}],"owner":{"account_id":28575456,"reputation":1,"user_id":21877133,"display_name":"Felipe Couto"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686812047,"creation_date":1686543072,"question_id":76453606,"body_markdown":"I&#39;m trying to add a patient to my system, but in order to be able to add it, I need to have the primary phone and address key. I&#39;ve tried several methods that I saw on youtube and attempts with ChatGPT but I was not successful, the only message I received is that it was not possible to find the codTel and codEndereco.\r\n\r\n**TelefoneDAO.java**\r\n\r\n```\r\npackage model.dao;\r\n\r\nimport database.ConexaoBD;\r\nimport java.sql.*;\r\nimport model.bean.Telefone;\r\n\r\npublic class TelefoneDAO {\r\n    private int generatedKey; // Vari&#225;vel para armazenar a chave gerada\r\n\r\n    public void createTelefone(Telefone telefone) throws SQLException {\r\n        Connection conn = null;\r\n        PreparedStatement create = null;\r\n\r\n        try {\r\n            //Obtem conex&#227;o com o banco de dados\r\n            conn = ConexaoBD.obtemConexao();\r\n            //Preparando o SQL para o inserir Paciente\r\n            String sql = &quot;INSERT INTO telefone_paciente (celular) VALUES (?)&quot;;\r\n            create = conn.prepareStatement(sql,Statement.RETURN_GENERATED_KEYS);\r\n            create.setString(1, telefone.getNumero());\r\n            //Executa a inser&#231;&#227;o\r\n            create.executeUpdate();\r\n            // Obt&#233;m a chave gerada\r\n            ResultSet generatedKeys = create.getGeneratedKeys();\r\n            if (generatedKeys.next()) {\r\n                generatedKey = generatedKeys.getInt(1);\r\n                System.out.println(&quot;ID gerado do telefone: &quot; + generatedKey);\r\n            }\r\n            \r\n            System.out.println(&quot;Telefone inserido com sucesso!&quot;);\r\n        } catch (SQLException e) {\r\n            System.out.println(&quot;Erro ao inserir paciente: &quot; + e.getMessage());\r\n        } \r\n    }\r\n\r\n    public int getGeneratedKey() {\r\n        return generatedKey;\r\n    }\r\n}\r\n```\r\n\r\n**EnderecoDAO.java**\r\n\r\n```\r\npackage model.dao;\r\n\r\nimport database.ConexaoBD;\r\nimport java.sql.*;\r\nimport model.bean.Endereco;\r\n\r\npublic class EnderecoDAO {\r\n\r\n    private int generatedKey; // Vari&#225;vel para armazenar a chave gerada\r\n\r\n    public void createEndereco(Endereco endereco) throws SQLException {\r\n        Connection conn = null;\r\n        PreparedStatement create = null;\r\n\r\n        try {\r\n            //Obtem conex&#227;o com o banco de dados\r\n            conn = ConexaoBD.obtemConexao();\r\n            //Preparando o SQL para o inserir Paciente\r\n            String sql = &quot;INSERT INTO endereco_paciente (rua, bairro, cidade, estado, cep) VALUES (?,?,?,?,?)&quot;;\r\n            create = conn.prepareStatement(sql, Statement.RETURN_GENERATED_KEYS);\r\n            create.setString(1, endereco.getRua());\r\n            create.setString(2, endereco.getBairro());\r\n            create.setString(3, endereco.getCidade());\r\n            create.setString(4, endereco.getEstado());\r\n            create.setInt(5, endereco.getCep());\r\n            //Executa a inser&#231;&#227;o\r\n            create.executeUpdate();\r\n            // Obt&#233;m a chave gerada\r\n            ResultSet generatedKeys = create.getGeneratedKeys();\r\n            if (generatedKeys.next()) {\r\n                generatedKey = generatedKeys.getInt(1);\r\n                System.out.println(&quot;ID gerado do endere&#231;o: &quot; + generatedKey);\r\n            }\r\n            System.out.println(&quot;Endere&#231;o inserido com sucesso!&quot;);\r\n        } catch (SQLException e) {\r\n            System.out.println(&quot;Erro ao inserir paciente: &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\n    public int getGeneratedKey() {\r\n        return generatedKey;\r\n    }\r\n}\r\n```\r\n\r\n**PacienteDAO.java**\r\n```\r\npackage model.dao;\r\n\r\nimport model.bean.Paciente;\r\nimport database.ConexaoBD;\r\nimport java.sql.*;\r\n\r\npublic class PacienteDAO {\r\n//CRUD\r\n    public boolean createPaciente(Paciente paciente) throws SQLException {\r\n        Connection conn = null;\r\n        PreparedStatement create = null;\r\n\r\n        try {\r\n            // Obter conex&#227;o com o banco de dados\r\n            conn = ConexaoBD.obtemConexao();\r\n\r\n            // Preparando o SQL para inserir o Paciente\r\n            String sql = &quot;INSERT INTO paciente (nome, cpf, email, senha, cod_tel, cod_endereco) VALUES (?,?,?,?,?,?)&quot;;\r\n            create = conn.prepareStatement(sql);\r\n\r\n            // Parametros de valor para create\r\n            create.setString(1, paciente.getNome());\r\n            create.setInt(2, paciente.getCpf());\r\n            create.setString(3, paciente.getEmail());\r\n            create.setString(4, paciente.getSenha());\r\n            create.setInt(5, paciente.getTelefone().getCodTel());\r\n            create.setInt(6, paciente.getEndereco().getCodEndereco());\r\n\r\n            // Executa a inser&#231;&#227;o\r\n            create.executeUpdate();\r\n            System.out.println(&quot;Paciente inserido com sucesso!&quot;);\r\n            return true;\r\n        } catch (SQLException e) {\r\n            System.out.println(&quot;Erro ao inserir paciente: &quot; + e.getMessage());\r\n            return false;\r\n        } finally {\r\n            // Fecha os recursos\r\n            if (create != null) {\r\n                create.close();\r\n            }\r\n            if (conn != null) {\r\n                conn.close();\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n**Pessoa.java**\r\n```\r\npackage model.bean;\r\n\r\npublic abstract class Pessoa {\r\n    \r\n    private String nome;\r\n    private String email;\r\n    private String senha;\r\n\r\n    //Construtor\r\n    public Pessoa() {\r\n    }\r\n\r\n    public Pessoa(String nome, String email, String senha) {\r\n        this.nome = nome;\r\n        this.email = email;\r\n        this.senha = senha;\r\n    }\r\n\r\n    public Pessoa(String email, String senha) {\r\n        this.email = email;\r\n        this.senha = senha;\r\n    }\r\n\r\n    //Getters &amp; Setters\r\n    public String getNome() {\r\n        return nome;\r\n    }\r\n\r\n    public void setNome(String nome) {\r\n        this.nome = nome;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getSenha() {\r\n        return senha;\r\n    }\r\n\r\n    public void setSenha(String senha) {\r\n        this.senha = senha;\r\n    }\r\n\r\n}\r\n```\r\n\r\n**Paciente.java**\r\n```\r\nmodel.bean;\r\npublic class Paciente extends Pessoa {\r\n\r\n    private int cpf;\r\n    private Telefone telefone;\r\n    private Endereco endereco;\r\n\r\n    //Construtor\r\n    \r\n    /*DAO*/\r\n    public Paciente(String nome, int cpf, String email, String senha) {\r\n        super(nome, email, senha);\r\n        this.cpf = cpf;\r\n    }\r\n\r\n    //Getters &amp; Setters\r\n    public int getCpf() {\r\n        return cpf;\r\n    }\r\n\r\n    public void setCpf(int cpf) {\r\n        this.cpf = cpf;\r\n    }\r\n\r\n    public void setTelefone(Telefone telefone) {\r\n        this.telefone = telefone;\r\n    }\r\n\r\n    public void setEndereco(Endereco endereco) {\r\n        this.endereco = endereco;\r\n    }\r\n\r\n    public Telefone getTelefone() {\r\n        return telefone;\r\n    }\r\n\r\n    public Endereco getEndereco() {\r\n        return endereco;\r\n    }\r\n\r\n}\r\n```\r\n\r\n**Endereco.java**\r\n```\r\npackage model.bean;\r\n\r\npublic abstract class Endereco {\r\n\r\n    private int codEndereco;\r\n    private String rua;\r\n    private String bairro;\r\n    private String cidade;\r\n    private String estado;\r\n    private int cep;\r\n\r\n    //Construtor\r\n    public Endereco() {\r\n    }\r\n\r\n    public Endereco(int codEndereco, String rua, String bairro, String cidade, String estado, int cep) {\r\n        this.codEndereco = codEndereco;\r\n        this.rua = rua;\r\n        this.bairro = bairro;\r\n        this.cidade = cidade;\r\n        this.estado = estado;\r\n        this.cep = cep;\r\n    }\r\n    //Getters &amp; Setters\r\n\r\n    public int getCodEndereco() {\r\n        return codEndereco;\r\n    }\r\n\r\n    public void setCodEndereco(int codEndereco) {\r\n        this.codEndereco = codEndereco;\r\n    }\r\n\r\n    public String getRua() {\r\n        return rua;\r\n    }\r\n\r\n    public void setRua(String rua) {\r\n        this.rua = rua;\r\n    }\r\n\r\n    public String getBairro() {\r\n        return bairro;\r\n    }\r\n\r\n    public void setBairro(String bairro) {\r\n        this.bairro = bairro;\r\n    }\r\n\r\n    public String getCidade() {\r\n        return cidade;\r\n    }\r\n\r\n    public void setCidade(String cidade) {\r\n        this.cidade = cidade;\r\n    }\r\n\r\n    public String getEstado() {\r\n        return estado;\r\n    }\r\n\r\n    public void setEstado(String estado) {\r\n        this.estado = estado;\r\n    }\r\n\r\n    public int getCep() {\r\n        return cep;\r\n    }\r\n\r\n    public void setCep(int cep) {\r\n        this.cep = cep;\r\n    }\r\n\r\n}\r\n```\r\n\r\n**Telefone.java**\r\n```\r\npackage model.bean;\r\n\r\npublic abstract class Telefone {\r\n\r\n    private int codTel;\r\n    private String numero;\r\n\r\n    //Construtor\r\n    public Telefone() {\r\n    }\r\n    \r\n    public Telefone(int codTel, String numero) {\r\n        this.codTel = codTel;\r\n        this.numero = numero;\r\n    }\r\n\r\n    //Getters &amp; Setters\r\n    public int getCodTel() {\r\n        return codTel;\r\n    }\r\n\r\n    public void setCodTel(int codTel) {\r\n        this.codTel = codTel;\r\n    }\r\n\r\n    public String getNumero() {\r\n        return numero;\r\n    }\r\n\r\n    public void setNumero(String numero) {\r\n        this.numero = numero;\r\n    }\r\n\r\n}\r\n```\r\n\r\nI&#39;m using this method to get the data\r\n**Paciente.java(form)**\r\n```\r\nprivate void btnProximaTelaActionPerformed(java.awt.event.ActionEvent evt) {                                               \r\n        // Identificando Dados Inseridos\r\n        String nome = txtNome.getText();\r\n        String email = txtEmail.getText();\r\n        int cpf = Integer.parseInt(txtCpf.getText());\r\n        String senha1 = new String(senhaPasswordField1.getPassword());\r\n        String senha2 = new String(senhaPasswordField2.getPassword());\r\n\r\n        try {\r\n            if (senha1.equals(senha2)) {\r\n                Paciente paciente = new Paciente(nome, cpf, email, senha1);\r\n                PacienteDAO pacientedao = new PacienteDAO();\r\n                pacientedao.createPaciente(paciente);\r\n                System.out.println(&quot;Paciente inserido com sucesso&quot;);\r\n                JOptionPane.showMessageDialog(null, &quot;Inserido com sucesso.&quot;);\r\n            } else {\r\n                JOptionPane.showMessageDialog(null, &quot;Suas senhas est&#227;o diferentes. Tente novamente.&quot;);\r\n            }\r\n            System.out.println(&quot;Dados Salvos com sucesso&quot;);\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;N&#227;o foi poss&#237;vel inserir: &quot; + e.getMessage());\r\n        }\r\n\r\n    }\r\n```\r\n\r\n**Telefone.java(form)**\r\n```\r\nprivate void btnCriarContaActionPerformed(java.awt.event.ActionEvent evt) {                                              \r\n        String celular = txtCelular.getText();\r\n        String celular1 = txtCelular1.getText();\r\n        try {\r\n            if (celular.equals(celular1)) {\r\n                Telefone telefone = new Telefone(0,celular) {\r\n                };\r\n                TelefoneDAO telefonedao = new TelefoneDAO();\r\n                telefonedao.createTelefone(telefone);\r\n                System.out.println(&quot;Telefone cadastrado. Aguardando outros dados.&quot;);\r\n            } else {\r\n                JOptionPane.showMessageDialog(null, &quot;N&#250;meros n&#227;o coincidem. Tente novamente.&quot;);\r\n            }\r\n            InsertAddressPaciente clickNextPage = new InsertAddressPaciente();\r\n            clickNextPage.setVisible(true);\r\n            this.dispose();\r\n\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;N&#227;o foi possivel inserir&quot; + e.getMessage());\r\n        }\r\n    }\r\n```\r\n\r\n**Endereco.java(form)**\r\n```\r\nprivate void btnCriarContaActionPerformed(java.awt.event.ActionEvent evt) {                                              \r\n        //Identificando Dados Inseridos\r\n        String rua = txtRua.getText();\r\n        String bairro = txtBairro.getText();\r\n        String cidade = txtCidade.getText();\r\n        String estado = txtEstado.getText();\r\n        int cep = Integer.parseInt(txtCep.getText());\r\n        try {\r\n            Endereco endereco = new Endereco(0,rua, bairro, cidade, estado, cep) {};\r\n            EnderecoDAO enderecodao = new EnderecoDAO();\r\n            enderecodao.createEndereco(endereco);\r\n            InsertPersonalDataPaciente clickNextPage = new InsertPersonalDataPaciente();\r\n            clickNextPage.setVisible(true);\r\n            this.dispose();\r\n            System.out.println(&quot;Ender&#231;o Salvos com sucesso.&quot;);\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;N&#227;o foi possivel inserir&quot;);\r\n        }\r\n    }\r\n```","title":"Foreign Key (Chave Estrageira) em Java","body":"<p>I'm trying to add a patient to my system, but in order to be able to add it, I need to have the primary phone and address key. I've tried several methods that I saw on youtube and attempts with ChatGPT but I was not successful, the only message I received is that it was not possible to find the codTel and codEndereco.</p>\n<p><strong>TelefoneDAO.java</strong></p>\n<pre><code>package model.dao;\n\nimport database.ConexaoBD;\nimport java.sql.*;\nimport model.bean.Telefone;\n\npublic class TelefoneDAO {\n    private int generatedKey; // Variável para armazenar a chave gerada\n\n    public void createTelefone(Telefone telefone) throws SQLException {\n        Connection conn = null;\n        PreparedStatement create = null;\n\n        try {\n            //Obtem conexão com o banco de dados\n            conn = ConexaoBD.obtemConexao();\n            //Preparando o SQL para o inserir Paciente\n            String sql = &quot;INSERT INTO telefone_paciente (celular) VALUES (?)&quot;;\n            create = conn.prepareStatement(sql,Statement.RETURN_GENERATED_KEYS);\n            create.setString(1, telefone.getNumero());\n            //Executa a inserção\n            create.executeUpdate();\n            // Obtém a chave gerada\n            ResultSet generatedKeys = create.getGeneratedKeys();\n            if (generatedKeys.next()) {\n                generatedKey = generatedKeys.getInt(1);\n                System.out.println(&quot;ID gerado do telefone: &quot; + generatedKey);\n            }\n            \n            System.out.println(&quot;Telefone inserido com sucesso!&quot;);\n        } catch (SQLException e) {\n            System.out.println(&quot;Erro ao inserir paciente: &quot; + e.getMessage());\n        } \n    }\n\n    public int getGeneratedKey() {\n        return generatedKey;\n    }\n}\n</code></pre>\n<p><strong>EnderecoDAO.java</strong></p>\n<pre><code>package model.dao;\n\nimport database.ConexaoBD;\nimport java.sql.*;\nimport model.bean.Endereco;\n\npublic class EnderecoDAO {\n\n    private int generatedKey; // Variável para armazenar a chave gerada\n\n    public void createEndereco(Endereco endereco) throws SQLException {\n        Connection conn = null;\n        PreparedStatement create = null;\n\n        try {\n            //Obtem conexão com o banco de dados\n            conn = ConexaoBD.obtemConexao();\n            //Preparando o SQL para o inserir Paciente\n            String sql = &quot;INSERT INTO endereco_paciente (rua, bairro, cidade, estado, cep) VALUES (?,?,?,?,?)&quot;;\n            create = conn.prepareStatement(sql, Statement.RETURN_GENERATED_KEYS);\n            create.setString(1, endereco.getRua());\n            create.setString(2, endereco.getBairro());\n            create.setString(3, endereco.getCidade());\n            create.setString(4, endereco.getEstado());\n            create.setInt(5, endereco.getCep());\n            //Executa a inserção\n            create.executeUpdate();\n            // Obtém a chave gerada\n            ResultSet generatedKeys = create.getGeneratedKeys();\n            if (generatedKeys.next()) {\n                generatedKey = generatedKeys.getInt(1);\n                System.out.println(&quot;ID gerado do endereço: &quot; + generatedKey);\n            }\n            System.out.println(&quot;Endereço inserido com sucesso!&quot;);\n        } catch (SQLException e) {\n            System.out.println(&quot;Erro ao inserir paciente: &quot; + e.getMessage());\n        }\n    }\n\n    public int getGeneratedKey() {\n        return generatedKey;\n    }\n}\n</code></pre>\n<p><strong>PacienteDAO.java</strong></p>\n<pre><code>package model.dao;\n\nimport model.bean.Paciente;\nimport database.ConexaoBD;\nimport java.sql.*;\n\npublic class PacienteDAO {\n//CRUD\n    public boolean createPaciente(Paciente paciente) throws SQLException {\n        Connection conn = null;\n        PreparedStatement create = null;\n\n        try {\n            // Obter conexão com o banco de dados\n            conn = ConexaoBD.obtemConexao();\n\n            // Preparando o SQL para inserir o Paciente\n            String sql = &quot;INSERT INTO paciente (nome, cpf, email, senha, cod_tel, cod_endereco) VALUES (?,?,?,?,?,?)&quot;;\n            create = conn.prepareStatement(sql);\n\n            // Parametros de valor para create\n            create.setString(1, paciente.getNome());\n            create.setInt(2, paciente.getCpf());\n            create.setString(3, paciente.getEmail());\n            create.setString(4, paciente.getSenha());\n            create.setInt(5, paciente.getTelefone().getCodTel());\n            create.setInt(6, paciente.getEndereco().getCodEndereco());\n\n            // Executa a inserção\n            create.executeUpdate();\n            System.out.println(&quot;Paciente inserido com sucesso!&quot;);\n            return true;\n        } catch (SQLException e) {\n            System.out.println(&quot;Erro ao inserir paciente: &quot; + e.getMessage());\n            return false;\n        } finally {\n            // Fecha os recursos\n            if (create != null) {\n                create.close();\n            }\n            if (conn != null) {\n                conn.close();\n            }\n        }\n    }\n\n}\n</code></pre>\n<p><strong>Pessoa.java</strong></p>\n<pre><code>package model.bean;\n\npublic abstract class Pessoa {\n    \n    private String nome;\n    private String email;\n    private String senha;\n\n    //Construtor\n    public Pessoa() {\n    }\n\n    public Pessoa(String nome, String email, String senha) {\n        this.nome = nome;\n        this.email = email;\n        this.senha = senha;\n    }\n\n    public Pessoa(String email, String senha) {\n        this.email = email;\n        this.senha = senha;\n    }\n\n    //Getters &amp; Setters\n    public String getNome() {\n        return nome;\n    }\n\n    public void setNome(String nome) {\n        this.nome = nome;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getSenha() {\n        return senha;\n    }\n\n    public void setSenha(String senha) {\n        this.senha = senha;\n    }\n\n}\n</code></pre>\n<p><strong>Paciente.java</strong></p>\n<pre><code>model.bean;\npublic class Paciente extends Pessoa {\n\n    private int cpf;\n    private Telefone telefone;\n    private Endereco endereco;\n\n    //Construtor\n    \n    /*DAO*/\n    public Paciente(String nome, int cpf, String email, String senha) {\n        super(nome, email, senha);\n        this.cpf = cpf;\n    }\n\n    //Getters &amp; Setters\n    public int getCpf() {\n        return cpf;\n    }\n\n    public void setCpf(int cpf) {\n        this.cpf = cpf;\n    }\n\n    public void setTelefone(Telefone telefone) {\n        this.telefone = telefone;\n    }\n\n    public void setEndereco(Endereco endereco) {\n        this.endereco = endereco;\n    }\n\n    public Telefone getTelefone() {\n        return telefone;\n    }\n\n    public Endereco getEndereco() {\n        return endereco;\n    }\n\n}\n</code></pre>\n<p><strong>Endereco.java</strong></p>\n<pre><code>package model.bean;\n\npublic abstract class Endereco {\n\n    private int codEndereco;\n    private String rua;\n    private String bairro;\n    private String cidade;\n    private String estado;\n    private int cep;\n\n    //Construtor\n    public Endereco() {\n    }\n\n    public Endereco(int codEndereco, String rua, String bairro, String cidade, String estado, int cep) {\n        this.codEndereco = codEndereco;\n        this.rua = rua;\n        this.bairro = bairro;\n        this.cidade = cidade;\n        this.estado = estado;\n        this.cep = cep;\n    }\n    //Getters &amp; Setters\n\n    public int getCodEndereco() {\n        return codEndereco;\n    }\n\n    public void setCodEndereco(int codEndereco) {\n        this.codEndereco = codEndereco;\n    }\n\n    public String getRua() {\n        return rua;\n    }\n\n    public void setRua(String rua) {\n        this.rua = rua;\n    }\n\n    public String getBairro() {\n        return bairro;\n    }\n\n    public void setBairro(String bairro) {\n        this.bairro = bairro;\n    }\n\n    public String getCidade() {\n        return cidade;\n    }\n\n    public void setCidade(String cidade) {\n        this.cidade = cidade;\n    }\n\n    public String getEstado() {\n        return estado;\n    }\n\n    public void setEstado(String estado) {\n        this.estado = estado;\n    }\n\n    public int getCep() {\n        return cep;\n    }\n\n    public void setCep(int cep) {\n        this.cep = cep;\n    }\n\n}\n</code></pre>\n<p><strong>Telefone.java</strong></p>\n<pre><code>package model.bean;\n\npublic abstract class Telefone {\n\n    private int codTel;\n    private String numero;\n\n    //Construtor\n    public Telefone() {\n    }\n    \n    public Telefone(int codTel, String numero) {\n        this.codTel = codTel;\n        this.numero = numero;\n    }\n\n    //Getters &amp; Setters\n    public int getCodTel() {\n        return codTel;\n    }\n\n    public void setCodTel(int codTel) {\n        this.codTel = codTel;\n    }\n\n    public String getNumero() {\n        return numero;\n    }\n\n    public void setNumero(String numero) {\n        this.numero = numero;\n    }\n\n}\n</code></pre>\n<p>I'm using this method to get the data\n<strong>Paciente.java(form)</strong></p>\n<pre><code>private void btnProximaTelaActionPerformed(java.awt.event.ActionEvent evt) {                                               \n        // Identificando Dados Inseridos\n        String nome = txtNome.getText();\n        String email = txtEmail.getText();\n        int cpf = Integer.parseInt(txtCpf.getText());\n        String senha1 = new String(senhaPasswordField1.getPassword());\n        String senha2 = new String(senhaPasswordField2.getPassword());\n\n        try {\n            if (senha1.equals(senha2)) {\n                Paciente paciente = new Paciente(nome, cpf, email, senha1);\n                PacienteDAO pacientedao = new PacienteDAO();\n                pacientedao.createPaciente(paciente);\n                System.out.println(&quot;Paciente inserido com sucesso&quot;);\n                JOptionPane.showMessageDialog(null, &quot;Inserido com sucesso.&quot;);\n            } else {\n                JOptionPane.showMessageDialog(null, &quot;Suas senhas estão diferentes. Tente novamente.&quot;);\n            }\n            System.out.println(&quot;Dados Salvos com sucesso&quot;);\n        } catch (Exception e) {\n            System.out.println(&quot;Não foi possível inserir: &quot; + e.getMessage());\n        }\n\n    }\n</code></pre>\n<p><strong>Telefone.java(form)</strong></p>\n<pre><code>private void btnCriarContaActionPerformed(java.awt.event.ActionEvent evt) {                                              \n        String celular = txtCelular.getText();\n        String celular1 = txtCelular1.getText();\n        try {\n            if (celular.equals(celular1)) {\n                Telefone telefone = new Telefone(0,celular) {\n                };\n                TelefoneDAO telefonedao = new TelefoneDAO();\n                telefonedao.createTelefone(telefone);\n                System.out.println(&quot;Telefone cadastrado. Aguardando outros dados.&quot;);\n            } else {\n                JOptionPane.showMessageDialog(null, &quot;Números não coincidem. Tente novamente.&quot;);\n            }\n            InsertAddressPaciente clickNextPage = new InsertAddressPaciente();\n            clickNextPage.setVisible(true);\n            this.dispose();\n\n        } catch (Exception e) {\n            System.out.println(&quot;Não foi possivel inserir&quot; + e.getMessage());\n        }\n    }\n</code></pre>\n<p><strong>Endereco.java(form)</strong></p>\n<pre><code>private void btnCriarContaActionPerformed(java.awt.event.ActionEvent evt) {                                              \n        //Identificando Dados Inseridos\n        String rua = txtRua.getText();\n        String bairro = txtBairro.getText();\n        String cidade = txtCidade.getText();\n        String estado = txtEstado.getText();\n        int cep = Integer.parseInt(txtCep.getText());\n        try {\n            Endereco endereco = new Endereco(0,rua, bairro, cidade, estado, cep) {};\n            EnderecoDAO enderecodao = new EnderecoDAO();\n            enderecodao.createEndereco(endereco);\n            InsertPersonalDataPaciente clickNextPage = new InsertPersonalDataPaciente();\n            clickNextPage.setVisible(true);\n            this.dispose();\n            System.out.println(&quot;Enderço Salvos com sucesso.&quot;);\n        } catch (Exception e) {\n            System.out.println(&quot;Não foi possivel inserir&quot;);\n        }\n    }\n</code></pre>\n"},{"tags":["java","gradle","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":1421077,"reputation":18087,"user_id":1345655,"accept_rate":78,"display_name":"Kshitiz Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1548602908,"creation_date":1548602908,"answer_id":54389741,"question_id":54389138,"body_markdown":"Figured this out after a while.\r\n\r\nUnder `Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle -&gt; Runner` select `Delegate IDE build/run actions to gradle`.\r\n\r\nThis makes IntelliJ delegate its build operations to gradle instead of using its own compiler. The `out` directory would no longer be generated and `build` would be put on the classpath when you run a class.\r\n\r\nI haven&#39;t noticed any performance differences. Probably since Gradle too uses incremental compilation and a daemon for faster subsequent builds.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2f1vI.png","title":"How to have intellij use gradle build directory instead of out","body":"<p>Figured this out after a while.</p>\n\n<p>Under <code>Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle -&gt; Runner</code> select <code>Delegate IDE build/run actions to gradle</code>.</p>\n\n<p>This makes IntelliJ delegate its build operations to gradle instead of using its own compiler. The <code>out</code> directory would no longer be generated and <code>build</code> would be put on the classpath when you run a class.</p>\n\n<p>I haven't noticed any performance differences. Probably since Gradle too uses incremental compilation and a daemon for faster subsequent builds.</p>\n\n<p><a href=\"https://i.stack.imgur.com/2f1vI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2f1vI.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":10413652,"reputation":31,"user_id":7678375,"display_name":"Emiya Mulzomdao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686811994,"creation_date":1686811994,"answer_id":76479851,"question_id":54389138,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n01. Active Tool(Gradle) in IntelliJ IDEA.\r\n\r\n02. Unlink Gradle Project(Delete)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pbXJz.png","title":"How to have intellij use gradle build directory instead of out","body":"<p><a href=\"https://i.stack.imgur.com/pbXJz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pbXJz.png\" alt=\"enter image description here\" /></a></p>\n<ol>\n<li><p>Active Tool(Gradle) in IntelliJ IDEA.</p>\n</li>\n<li><p>Unlink Gradle Project(Delete)</p>\n</li>\n</ol>\n"}],"owner":{"account_id":1421077,"reputation":18087,"user_id":1345655,"accept_rate":78,"display_name":"Kshitiz Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3235,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":54389741,"answer_count":2,"score":2,"last_activity_date":1686811994,"creation_date":1548599002,"question_id":54389138,"body_markdown":"I have a Gradle plugin that generates some resources in `build/resources` directory. When I run the program from within IntelliJ it doesn&#39;t find the resource on classpath. \r\n\r\nIntellij uses `out` directory instead of gradle&#39;s `build`. `build` is only used by gradle tasks such as `jar` etc. Both `build` and `out` hold duplicate copies of the compiled Java files.\r\n\r\nHow do I have Intellij use the same directory as Gradle for compilation output?","title":"How to have intellij use gradle build directory instead of out","body":"<p>I have a Gradle plugin that generates some resources in <code>build/resources</code> directory. When I run the program from within IntelliJ it doesn't find the resource on classpath. </p>\n\n<p>Intellij uses <code>out</code> directory instead of gradle's <code>build</code>. <code>build</code> is only used by gradle tasks such as <code>jar</code> etc. Both <code>build</code> and <code>out</code> hold duplicate copies of the compiled Java files.</p>\n\n<p>How do I have Intellij use the same directory as Gradle for compilation output?</p>\n"},{"tags":["java","json","serialization","jackson","json-deserialization"],"answers":[{"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1686751503,"post_id":76474344,"comment_id":134842471,"body_markdown":"The OP specifically stated that they already have a custom deserializer, and ask about alternatives.","body":"The OP specifically stated that they already have a custom deserializer, and ask about alternatives."}],"tags":[],"owner":{"account_id":10279335,"reputation":707,"user_id":7585093,"display_name":"Mithilesh Tipkari"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686750794,"creation_date":1686750794,"answer_id":76474344,"question_id":76474135,"body_markdown":"\r\nThe issue you&#39;re experiencing is not a bug in Jackson, but rather a limitation in its handling of recursive data structures. Jackson&#39;s default behavior for deserialization is to use reflection and recursively traverse the object graph, which can lead to a stack overflow error when dealing with deeply nested structures.\r\n\r\nJackson allows you to register modules that can modify its default behavior. You can create a custom module and override the default handling of certain types. This approach provides more flexibility and allows you to encapsulate the custom deserialization logic\r\n\r\nexample - \r\n\r\n    import com.fasterxml.jackson.databind.DeserializationContext;\r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import com.fasterxml.jackson.databind.deser.std.StdDeserializer;\r\n\r\n    import java.io.IOException;\r\n\r\n    public class NavMenuDeserializer extends StdDeserializer&lt;NavMenu&gt; {\r\n\r\n        public NavMenuDeserializer() {\r\n            this(null);\r\n        }\r\n\r\n        public NavMenuDeserializer(Class&lt;?&gt; vc) {\r\n            super(vc);\r\n        }\r\n\r\n        @Override\r\n        public NavMenu deserialize(JsonNode node, DeserializationContext context) throws IOException {\r\n            NavMenu navMenu = new NavMenu();\r\n            JsonNode menusNode = node.get(&quot;menus&quot;);\r\n            if (menusNode != null) {\r\n                for (JsonNode menuNode : menusNode) {\r\n                    Menu menu = context.readValue(menuNode.traverse(), Menu.class);\r\n                    navMenu.add(menu);\r\n                }\r\n            }\r\n            return navMenu;\r\n       }\r\n    }\r\n\r\n\r\nTo use the custom deserializer, you can register it with an ObjectMapper instance like this:\r\n\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.module.SimpleModule;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) throws IOException {\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            SimpleModule module = new SimpleModule();\r\n            module.addDeserializer(NavMenu.class, new NavMenuDeserializer());\r\n            objectMapper.registerModule(module);\r\n\r\n            // Now you can use objectMapper to deserialize your JSON\r\n            NavMenu navMenu = objectMapper.readValue(jsonString, NavMenu.class);\r\n        }\r\n    }\r\n\r\n\r\nBy providing a custom deserializer, you have more control over the deserialization process and can handle recursion and complex object relationships as needed","title":"When deserializing JSON into my Java Classes with Generics (with Jackson) I run into a stackoverflow due to recursion. How do I solve this?","body":"<p>The issue you're experiencing is not a bug in Jackson, but rather a limitation in its handling of recursive data structures. Jackson's default behavior for deserialization is to use reflection and recursively traverse the object graph, which can lead to a stack overflow error when dealing with deeply nested structures.</p>\n<p>Jackson allows you to register modules that can modify its default behavior. You can create a custom module and override the default handling of certain types. This approach provides more flexibility and allows you to encapsulate the custom deserialization logic</p>\n<p>example -</p>\n<pre><code>import com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.deser.std.StdDeserializer;\n\nimport java.io.IOException;\n\npublic class NavMenuDeserializer extends StdDeserializer&lt;NavMenu&gt; {\n\n    public NavMenuDeserializer() {\n        this(null);\n    }\n\n    public NavMenuDeserializer(Class&lt;?&gt; vc) {\n        super(vc);\n    }\n\n    @Override\n    public NavMenu deserialize(JsonNode node, DeserializationContext context) throws IOException {\n        NavMenu navMenu = new NavMenu();\n        JsonNode menusNode = node.get(&quot;menus&quot;);\n        if (menusNode != null) {\n            for (JsonNode menuNode : menusNode) {\n                Menu menu = context.readValue(menuNode.traverse(), Menu.class);\n                navMenu.add(menu);\n            }\n        }\n        return navMenu;\n   }\n}\n</code></pre>\n<p>To use the custom deserializer, you can register it with an ObjectMapper instance like this:</p>\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.module.SimpleModule;\n\npublic class Main {\n    public static void main(String[] args) throws IOException {\n        ObjectMapper objectMapper = new ObjectMapper();\n        SimpleModule module = new SimpleModule();\n        module.addDeserializer(NavMenu.class, new NavMenuDeserializer());\n        objectMapper.registerModule(module);\n\n        // Now you can use objectMapper to deserialize your JSON\n        NavMenu navMenu = objectMapper.readValue(jsonString, NavMenu.class);\n    }\n}\n</code></pre>\n<p>By providing a custom deserializer, you have more control over the deserialization process and can handle recursion and complex object relationships as needed</p>\n"}],"owner":{"account_id":4046065,"reputation":305,"user_id":3327270,"accept_rate":75,"display_name":"Gandora"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686811958,"creation_date":1686749393,"question_id":76474135,"body_markdown":"I&#39;m using Jackson to deserialize JSON into Java.\r\nI have the following classes (showing only snippets):\r\n\r\n\r\n```java\r\npublic class NavMenu {\r\n    private final List&lt;Menu&gt; menus = new ArrayList&lt;&gt;();\r\n}\r\n\r\npublic class Menu implements ItemContainer&lt;Menu&gt; {\r\n    private final List&lt;Item&lt;Menu&gt;&gt; items = new ArrayList&lt;&gt;();\r\n}\r\n\r\npublic class Item&lt;P extends ItemContainer&lt;P&gt;&gt; implements ItemContainer&lt;Item&lt;P&gt;&gt; {\r\n    private final List&lt;Item&lt;Item&lt;P&gt;&gt;&gt; items = new ArrayList&lt;&gt;();\r\n}\r\n\r\npublic interface ItemContainer&lt;T extends ItemContainer&lt;T&gt;&gt; {\r\n\r\n    void add(Item&lt;T&gt; item);\r\n\r\n    List&lt;Item&lt;T&gt;&gt; getItems();\r\n}\r\n```\r\n\r\nIt appears that when deserializing the `Menu` there&#39;s a recursion resulting in an eventual StackOverflow error. The stacktrace looks as follows:\r\n\r\n```\r\njava.lang.StackOverflowError\r\n\tat com.fasterxml.jackson.databind.type.TypeBase.toCanonical(TypeBase.java:72)\r\n\tat com.fasterxml.jackson.databind.type.SimpleType.buildCanonicalName(SimpleType.java:236)\r\n    ...\r\n```\r\n\r\nI actually solved it by writing my own `NavMenu` deserializer but it&#39;s recursive and fairly hard to understand, so I was wondering if this is a bug in Jackson or if there are annotations / ways to circumvvent having to write my own Deserializer.","title":"When deserializing JSON into my Java Classes with Generics (with Jackson) I run into a stackoverflow due to recursion. How do I solve this?","body":"<p>I'm using Jackson to deserialize JSON into Java.\nI have the following classes (showing only snippets):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class NavMenu {\n    private final List&lt;Menu&gt; menus = new ArrayList&lt;&gt;();\n}\n\npublic class Menu implements ItemContainer&lt;Menu&gt; {\n    private final List&lt;Item&lt;Menu&gt;&gt; items = new ArrayList&lt;&gt;();\n}\n\npublic class Item&lt;P extends ItemContainer&lt;P&gt;&gt; implements ItemContainer&lt;Item&lt;P&gt;&gt; {\n    private final List&lt;Item&lt;Item&lt;P&gt;&gt;&gt; items = new ArrayList&lt;&gt;();\n}\n\npublic interface ItemContainer&lt;T extends ItemContainer&lt;T&gt;&gt; {\n\n    void add(Item&lt;T&gt; item);\n\n    List&lt;Item&lt;T&gt;&gt; getItems();\n}\n</code></pre>\n<p>It appears that when deserializing the <code>Menu</code> there's a recursion resulting in an eventual StackOverflow error. The stacktrace looks as follows:</p>\n<pre><code>java.lang.StackOverflowError\n    at com.fasterxml.jackson.databind.type.TypeBase.toCanonical(TypeBase.java:72)\n    at com.fasterxml.jackson.databind.type.SimpleType.buildCanonicalName(SimpleType.java:236)\n    ...\n</code></pre>\n<p>I actually solved it by writing my own <code>NavMenu</code> deserializer but it's recursive and fairly hard to understand, so I was wondering if this is a bug in Jackson or if there are annotations / ways to circumvvent having to write my own Deserializer.</p>\n"},{"tags":["java","sql-server","spring-data-jdbc"],"comments":[{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1686815621,"post_id":76475160,"comment_id":134851956,"body_markdown":"What version of Spring Data JDBC are you using? Spring Data JDBC does quoting of column names for a long time so this looks like the behaviour of an old version. Can you upgrade to a current version of Spring Data JDBC?","body":"What version of Spring Data JDBC are you using? Spring Data JDBC does quoting of column names for a long time so this looks like the behaviour of an old version. Can you upgrade to a current version of Spring Data JDBC?"},{"owner":{"account_id":5751648,"reputation":1624,"user_id":4541141,"accept_rate":55,"display_name":"Newbie"},"score":0,"creation_date":1686825836,"post_id":76475160,"comment_id":134854075,"body_markdown":"org.springframework.data:spring-data-jdbc:jar:2.4.6","body":"org.springframework.data:spring-data-jdbc:jar:2.4.6"},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1686832353,"post_id":76475160,"comment_id":134855459,"body_markdown":"That is rather old. You should at least update to 2.4.12 or better yet to 3.1.0.","body":"That is rather old. You should at least update to 2.4.12 or better yet to 3.1.0."},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":1,"creation_date":1686832503,"post_id":76475160,"comment_id":134855492,"body_markdown":"Anyway, even that version should have quoting enabled by default. Are you configuring the JdbcMappingContext to not force quoting?","body":"Anyway, even that version should have quoting enabled by default. Are you configuring the JdbcMappingContext to not force quoting?"}],"answers":[{"comments":[{"owner":{"account_id":5751648,"reputation":1624,"user_id":4541141,"accept_rate":55,"display_name":"Newbie"},"score":0,"creation_date":1686796858,"post_id":76475422,"comment_id":134849620,"body_markdown":"Tried backticks and it doesn&#39;t work, ``Incorrect syntax near &#39;`&#39;``","body":"Tried backticks and it doesn&#39;t work, <code>Incorrect syntax near &#39;`&#39;</code>"}],"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686811494,"creation_date":1686757982,"answer_id":76475422,"question_id":76475160,"body_markdown":"Did you try using backticks? The solution described in the linked thread?\r\n```\r\n@Column(&quot;`order`&quot;)\r\n```\r\nAlternatively for SQL Server:\r\n```\r\n@Column(&quot;[order]&quot;)\r\n```","title":"Spring Data JDBC is unable to map the column value to the property of the entity when the column name is reserved keyword","body":"<p>Did you try using backticks? The solution described in the linked thread?</p>\n<pre><code>@Column(&quot;`order`&quot;)\n</code></pre>\n<p>Alternatively for SQL Server:</p>\n<pre><code>@Column(&quot;[order]&quot;)\n</code></pre>\n"}],"owner":{"account_id":5751648,"reputation":1624,"user_id":4541141,"accept_rate":55,"display_name":"Newbie"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686811494,"creation_date":1686756197,"question_id":76475160,"body_markdown":"I&#39;m facing a similar issue as described in [this thread][1], but my case involves using Spring Data JDBC instead of JPA. I have an entity defined as follows:\r\n```\r\n@Table(&quot;TEST_TABLE&quot;)\r\n@Data\r\npublic class TestTableEntity {\r\n\r\n\t@Id\r\n\tprivate int id;\r\n\r\n\tprivate int order;\r\n\r\n}\r\n```\r\nWhen I call the method provided by `CrudRepository`, I encounter the error message `Incorrect syntax near the keyword &#39;order&#39;`. The generated query is:\r\n&gt; Executing prepared SQL statement [SELECT TEST_TABLE.id AS id,\r\n&gt; TEST_TABLE.order AS order FROM TEST_TABLE]\r\n\r\n\r\nTo address this issue, I tried annotating the order property with `@Column(&quot;\\&quot;ORDER\\&quot;&quot;)`. This changes the generated query to:\r\n\r\n&gt; Executing prepared SQL statement [SELECT TEST_TABLE.id AS id,\r\n&gt; TEST_TABLE.&quot;ORDER&quot; AS &quot;ORDER&quot; FROM TEST_TABLE]\r\n\r\nAlthough the error no longer occurs, the mapping of the column value to the property fails, and I always receive 0 as the value for `order`.\r\n&lt;br&gt;\r\n&lt;br&gt;\r\nI also attempted to override the `getColumnName` method of the `NamingStrategy`, but it did not resolve the problem. Here&#39;s the code I used: \r\n\r\n```\r\n@Bean\r\npublic NamingStrategy namingStrategy() {\r\n\treturn new NamingStrategy() {\r\n\t\t@Override\r\n\t\tpublic String getColumnName(RelationalPersistentProperty property) {\r\n\t\t\tAssert.notNull(property, &quot;Property must not be null.&quot;);\r\n\t\t\treturn &quot;\\&quot;&quot; + ParsingUtils.reconcatenateCamelCase(property.getName(), &quot;_&quot;) + &quot;\\&quot;&quot;;\r\n\t\t}\r\n\t};\r\n}\r\n```\r\nIt appears that the issue lies with the `AS &quot;ORDER&quot;` clause, as it treats the double quotes as part of the column name, resulting in a failed mapping to the property.\r\n&lt;br&gt;&lt;br&gt;\r\nAny suggestions or insights would be greatly appreciated.\r\n\r\n  [1]: https://stackoverflow.com/questions/2224503/how-to-map-an-entity-field-whose-name-is-a-reserved-word-in-jpa","title":"Spring Data JDBC is unable to map the column value to the property of the entity when the column name is reserved keyword","body":"<p>I'm facing a similar issue as described in <a href=\"https://stackoverflow.com/questions/2224503/how-to-map-an-entity-field-whose-name-is-a-reserved-word-in-jpa\">this thread</a>, but my case involves using Spring Data JDBC instead of JPA. I have an entity defined as follows:</p>\n<pre><code>@Table(&quot;TEST_TABLE&quot;)\n@Data\npublic class TestTableEntity {\n\n    @Id\n    private int id;\n\n    private int order;\n\n}\n</code></pre>\n<p>When I call the method provided by <code>CrudRepository</code>, I encounter the error message <code>Incorrect syntax near the keyword 'order'</code>. The generated query is:</p>\n<blockquote>\n<p>Executing prepared SQL statement [SELECT TEST_TABLE.id AS id,\nTEST_TABLE.order AS order FROM TEST_TABLE]</p>\n</blockquote>\n<p>To address this issue, I tried annotating the order property with <code>@Column(&quot;\\&quot;ORDER\\&quot;&quot;)</code>. This changes the generated query to:</p>\n<blockquote>\n<p>Executing prepared SQL statement [SELECT TEST_TABLE.id AS id,\nTEST_TABLE.&quot;ORDER&quot; AS &quot;ORDER&quot; FROM TEST_TABLE]</p>\n</blockquote>\n<p>Although the error no longer occurs, the mapping of the column value to the property fails, and I always receive 0 as the value for <code>order</code>.\n<br>\n<br>\nI also attempted to override the <code>getColumnName</code> method of the <code>NamingStrategy</code>, but it did not resolve the problem. Here's the code I used:</p>\n<pre><code>@Bean\npublic NamingStrategy namingStrategy() {\n    return new NamingStrategy() {\n        @Override\n        public String getColumnName(RelationalPersistentProperty property) {\n            Assert.notNull(property, &quot;Property must not be null.&quot;);\n            return &quot;\\&quot;&quot; + ParsingUtils.reconcatenateCamelCase(property.getName(), &quot;_&quot;) + &quot;\\&quot;&quot;;\n        }\n    };\n}\n</code></pre>\n<p>It appears that the issue lies with the <code>AS &quot;ORDER&quot;</code> clause, as it treats the double quotes as part of the column name, resulting in a failed mapping to the property.\n<br><br>\nAny suggestions or insights would be greatly appreciated.</p>\n"},{"tags":["java","spring-boot","rate-limiting"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1685009774,"post_id":76331109,"comment_id":134602243,"body_markdown":"How about checking in the event handler - if last call not older then 15 sec - ignore.","body":"How about checking in the event handler - if last call not older then 15 sec - ignore."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1685009971,"post_id":76331109,"comment_id":134602285,"body_markdown":"I assume you mean &quot;... I do _not_ think they are useful...&quot;","body":"I assume you mean &quot;... I do <i>not</i> think they are useful...&quot;"},{"owner":{"account_id":6869539,"reputation":29,"user_id":5280514,"display_name":"Ahmed Naguib"},"score":0,"creation_date":1685010105,"post_id":76331109,"comment_id":134602318,"body_markdown":"I can not Ignore any calls it is the core business","body":"I can not Ignore any calls it is the core business"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1685010407,"post_id":76331109,"comment_id":134602384,"body_markdown":"Mhmm. But you will eventually receive more events then you are allow to send. If not ignore then postpone for the rest time of the 15 sec period.","body":"Mhmm. But you will eventually receive more events then you are allow to send. If not ignore then postpone for the rest time of the 15 sec period."},{"owner":{"account_id":6869539,"reputation":29,"user_id":5280514,"display_name":"Ahmed Naguib"},"score":0,"creation_date":1685010620,"post_id":76331109,"comment_id":134602438,"body_markdown":"Exactly, that is my question, how to postpone !! using a specific library or implementing a specific structure","body":"Exactly, that is my question, how to postpone !! using a specific library or implementing a specific structure"}],"answers":[{"comments":[{"owner":{"account_id":6869539,"reputation":29,"user_id":5280514,"display_name":"Ahmed Naguib"},"score":0,"creation_date":1685010812,"post_id":76331301,"comment_id":134602484,"body_markdown":"So basically you are saying to use one of these libraries with a bucket of 1 token?","body":"So basically you are saying to use one of these libraries with a bucket of 1 token?"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1685010851,"post_id":76331301,"comment_id":134602490,"body_markdown":"Yes, 1 token that is replenished every 15 seconds.","body":"Yes, 1 token that is replenished every 15 seconds."}],"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685010536,"creation_date":1685010536,"answer_id":76331301,"question_id":76331109,"body_markdown":"These APIs use the token bucket algorithm, but they allow you to block instead of dropping the packet. That way, you can easily implement your own leaky bucket algorithm based on these APIs.\r\n\r\nStart a thread that uses a concurrent queue for receiving API requests. Then this thread attempts to forward the request to the external API, if the rate limiter allows, or have the rate limiter block the thread until the required time passes, then the thread sends the request.","title":"How to rate-limit my calls to an external API?","body":"<p>These APIs use the token bucket algorithm, but they allow you to block instead of dropping the packet. That way, you can easily implement your own leaky bucket algorithm based on these APIs.</p>\n<p>Start a thread that uses a concurrent queue for receiving API requests. Then this thread attempts to forward the request to the external API, if the rate limiter allows, or have the rate limiter block the thread until the required time passes, then the thread sends the request.</p>\n"}],"owner":{"account_id":6869539,"reputation":29,"user_id":5280514,"display_name":"Ahmed Naguib"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686810948,"creation_date":1685009227,"question_id":76331109,"body_markdown":"With Spring I am trying to rate-limit my calls to an external API that I need to call once in 15 seconds and these calls will be triggered based on a specific event and the number of these calls is not fixed at all.\r\n\r\nI have come across the `Guava RateLimiter` and the `Bucket4j` but both of them are based on the Token-bucket Algorithm and I do think they are useful to this business case as I think I should be using the leaky bucket algorithm to do so. ","title":"How to rate-limit my calls to an external API?","body":"<p>With Spring I am trying to rate-limit my calls to an external API that I need to call once in 15 seconds and these calls will be triggered based on a specific event and the number of these calls is not fixed at all.</p>\n<p>I have come across the <code>Guava RateLimiter</code> and the <code>Bucket4j</code> but both of them are based on the Token-bucket Algorithm and I do think they are useful to this business case as I think I should be using the leaky bucket algorithm to do so.</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":11810170,"reputation":2258,"user_id":8641776,"display_name":"Zakaria Hossain"},"score":1,"creation_date":1648099721,"post_id":71596468,"comment_id":126539705,"body_markdown":"Post your codes.","body":"Post your codes."},{"owner":{"account_id":10455387,"reputation":1093,"user_id":8387076,"display_name":"Wrichik Basu"},"score":0,"creation_date":1648113101,"post_id":71596468,"comment_id":126543408,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":2876259,"reputation":470,"user_id":2468241,"accept_rate":75,"display_name":"XII"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648123901,"creation_date":1648123901,"answer_id":71602310,"question_id":71596468,"body_markdown":"An entity returned from the database is &quot;managed&quot; in the world of hibernate. So when the transaction block / boundaries close hibernate may issue a save back to the db because it thinks that the entity is dirty and needs to be updated with the in memory / hibernate cache info it has.\r\n\r\nI do not think that you can skip this as is part of how hibernate works. Even if you see an update being issued I suggest you do not worry.","title":"Hibernate Firing Update query on an entity even when there is no property changed","body":"<p>An entity returned from the database is &quot;managed&quot; in the world of hibernate. So when the transaction block / boundaries close hibernate may issue a save back to the db because it thinks that the entity is dirty and needs to be updated with the in memory / hibernate cache info it has.</p>\n<p>I do not think that you can skip this as is part of how hibernate works. Even if you see an update being issued I suggest you do not worry.</p>\n"},{"tags":[],"owner":{"account_id":28802662,"reputation":9,"user_id":22059172,"display_name":"Danny Fo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686810727,"creation_date":1686555177,"answer_id":76454457,"question_id":71596468,"body_markdown":"I&#39;ve faced such problem. The idea of hibernate that it considers some type of values as &#39;dirty&#39;, and every time you try to get data via transaction Hibernate tries to define which data is changes, but it doesn&#39;t work with some kind of data (like @Lob), and hibernate defines it like changed by default. Hence one of decision of this issue is detaching entity from Hibernate context via EntityManager. But you have to know: since you are detaching entity from context you will face LazyInitException if your boundings inside entity are  fetch = FetchType.LAZY\r\n\r\n\r\n\r\n\r\n    @NonNull\r\n    @Transactional\r\n    public List&lt;YourEntity&gt; find(@NonNull FindListPojo flp){\r\n        return repository.find(flp)\r\n                .stream()\r\n                //due to service above current is using transaction and hibernate thinks that @Lob\r\n                //is always &#39;dirty&#39;, every time while calling this method\r\n                //tries to update unchanged entity in DB, hence we have to detach\r\n                //entities to avoid redundant updating in the DB\r\n                .peek(entityManager::detach)\r\n                //risk of LazyInitException while obtaining Lazy data inside entity!\r\n                .collect(Collectors.toList());\r\n    }\r\n    }\r\n","title":"Hibernate Firing Update query on an entity even when there is no property changed","body":"<p>I've faced such problem. The idea of hibernate that it considers some type of values as 'dirty', and every time you try to get data via transaction Hibernate tries to define which data is changes, but it doesn't work with some kind of data (like @Lob), and hibernate defines it like changed by default. Hence one of decision of this issue is detaching entity from Hibernate context via EntityManager. But you have to know: since you are detaching entity from context you will face LazyInitException if your boundings inside entity are  fetch = FetchType.LAZY</p>\n<pre><code>@NonNull\n@Transactional\npublic List&lt;YourEntity&gt; find(@NonNull FindListPojo flp){\n    return repository.find(flp)\n            .stream()\n            //due to service above current is using transaction and hibernate thinks that @Lob\n            //is always 'dirty', every time while calling this method\n            //tries to update unchanged entity in DB, hence we have to detach\n            //entities to avoid redundant updating in the DB\n            .peek(entityManager::detach)\n            //risk of LazyInitException while obtaining Lazy data inside entity!\n            .collect(Collectors.toList());\n}\n}\n</code></pre>\n"}],"owner":{"account_id":1627867,"reputation":11,"user_id":1502983,"display_name":"user1502983"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1415,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1686810727,"creation_date":1648089508,"question_id":71596468,"body_markdown":"We have spring boot project with JPA hibernate. The setup is very common - RestController - Service - Repository.\r\nThere is one particular endpoint with Return type of Entity. The service fetches the entity from db, does some calculation and returns it to the client. The problem is, as soon as the service call returns, an update query is fired on this entity in the back end. None of the entity property is changed. Repository.save() also is not called still update query is being fired. I want to understand this behavior and possibly stop it.\r\n\r\nIf fetch is all i am doing, I don&#39;t want the JPA/Hibernate to fire an update query if save() or saveAndFlush() is not called. its resulting unnecessary load on db.","title":"Hibernate Firing Update query on an entity even when there is no property changed","body":"<p>We have spring boot project with JPA hibernate. The setup is very common - RestController - Service - Repository.\nThere is one particular endpoint with Return type of Entity. The service fetches the entity from db, does some calculation and returns it to the client. The problem is, as soon as the service call returns, an update query is fired on this entity in the back end. None of the entity property is changed. Repository.save() also is not called still update query is being fired. I want to understand this behavior and possibly stop it.</p>\n<p>If fetch is all i am doing, I don't want the JPA/Hibernate to fire an update query if save() or saveAndFlush() is not called. its resulting unnecessary load on db.</p>\n"},{"tags":["java","jpa"],"owner":{"account_id":16828038,"reputation":119,"user_id":12166780,"display_name":"quarkpt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686809846,"creation_date":1686809846,"question_id":76479611,"body_markdown":"I have a legacy database in which there are classes that have fields that are arrays rather than collections, i.e.:\r\n```\r\n@Entity\r\n@Table(name = &quot;COM_DR_TARGET&quot;)\r\npublic class Target {\r\n    // ...\r\n    @ElementCollection(fetch = FetchType.EAGER)\r\n    @JoinTable(name = &quot;COM_TARGET_INDICES&quot;,\r\n        joinColumns = @JoinColumn(name = &quot;TARGET_ID&quot;, referencedColumnName = &quot;ID&quot;))\r\n    @Column(name = &quot;PIXEL_TABLE_INDICES&quot;)\r\n    private int[] pixelTableIndices;\r\n    // ...\r\n}\r\n```\r\nI&#39;m using the JPA metamodel API, so I can refer to the field as Target_.pixelTableIndices . \r\n\r\nHere&#39;s my problem:\r\n\r\nI want one of the query conditions to be that the array cannot be zero-length and I can&#39;t for the life of me figure out how to express that with the JPA Criteria API. \r\n\r\nAny advice would be extremely welcome.","title":"Check for empty array using JPA Criteria query","body":"<p>I have a legacy database in which there are classes that have fields that are arrays rather than collections, i.e.:</p>\n<pre><code>@Entity\n@Table(name = &quot;COM_DR_TARGET&quot;)\npublic class Target {\n    // ...\n    @ElementCollection(fetch = FetchType.EAGER)\n    @JoinTable(name = &quot;COM_TARGET_INDICES&quot;,\n        joinColumns = @JoinColumn(name = &quot;TARGET_ID&quot;, referencedColumnName = &quot;ID&quot;))\n    @Column(name = &quot;PIXEL_TABLE_INDICES&quot;)\n    private int[] pixelTableIndices;\n    // ...\n}\n</code></pre>\n<p>I'm using the JPA metamodel API, so I can refer to the field as Target_.pixelTableIndices .</p>\n<p>Here's my problem:</p>\n<p>I want one of the query conditions to be that the array cannot be zero-length and I can't for the life of me figure out how to express that with the JPA Criteria API.</p>\n<p>Any advice would be extremely welcome.</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud"],"owner":{"account_id":15716927,"reputation":97,"user_id":11340909,"display_name":"shalabh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686809792,"creation_date":1686809792,"question_id":76479603,"body_markdown":"I was going through a spring project and came across the 2 ```dependencies spring-boot-starter-cloud-connectors``` and ```spring-cloud-spring-service-connector``` where the developer claimed to have used these 2 dependencies to connect to cloud foundry. I was not able to get a clear understanding and difference between the 2 dependencies after searching over internet. Please provide the usage of these 2 dependencies and how the 2 can be majorly differentiated.","title":"Usage of spring dependencies spring-boot-starter-cloud-connectors and spring-cloud-spring-service-connector","body":"<p>I was going through a spring project and came across the 2 <code>dependencies spring-boot-starter-cloud-connectors</code> and <code>spring-cloud-spring-service-connector</code> where the developer claimed to have used these 2 dependencies to connect to cloud foundry. I was not able to get a clear understanding and difference between the 2 dependencies after searching over internet. Please provide the usage of these 2 dependencies and how the 2 can be majorly differentiated.</p>\n"},{"tags":["java","linux","process"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1686809143,"post_id":76479475,"comment_id":134850749,"body_markdown":"It’s interpreting `/opt` as an argument to `mvn`, which doesn’t know what to do with it. It isn’t clear what you expect it to do.","body":"It’s interpreting <code>&#47;opt</code> as an argument to <code>mvn</code>, which doesn’t know what to do with it. It isn’t clear what you expect it to do."},{"owner":{"account_id":4379495,"reputation":445,"user_id":3571511,"accept_rate":33,"display_name":"Sourav Mehra"},"score":0,"creation_date":1686809225,"post_id":76479475,"comment_id":134850757,"body_markdown":"I have a POM file under /opt which I want to use to run mvn clean install.\n\nBut this has to be done from a Sprinboot JAVA application running on a Linux server.","body":"I have a POM file under /opt which I want to use to run mvn clean install.  But this has to be done from a Sprinboot JAVA application running on a Linux server."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1686809444,"post_id":76479475,"comment_id":134850789,"body_markdown":"Please update the question","body":"Please update the question"},{"owner":{"account_id":4379495,"reputation":445,"user_id":3571511,"accept_rate":33,"display_name":"Sourav Mehra"},"score":0,"creation_date":1686809716,"post_id":76479475,"comment_id":134850837,"body_markdown":"Done I have updated","body":"Done I have updated"},{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":0,"creation_date":1686810362,"post_id":76479475,"comment_id":134850936,"body_markdown":"So you might want to use one of the variants of `Runtime.exec` allowing /opt as working directory. However, running a Maven build in /opt from a running Spring Boot application sounds VERY strange to me...","body":"So you might want to use one of the variants of <code>Runtime.exec</code> allowing /opt as working directory. However, running a Maven build in /opt from a running Spring Boot application sounds VERY strange to me..."},{"owner":{"account_id":4379495,"reputation":445,"user_id":3571511,"accept_rate":33,"display_name":"Sourav Mehra"},"score":0,"creation_date":1686822691,"post_id":76479475,"comment_id":134853438,"body_markdown":"@GyroGearless Basically its kind of running an application within another application.","body":"@GyroGearless Basically its kind of running an application within another application."}],"owner":{"account_id":4379495,"reputation":445,"user_id":3571511,"accept_rate":33,"display_name":"Sourav Mehra"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686809631,"creation_date":1686808378,"question_id":76479475,"body_markdown":"I have a POM file under /opt which I want to use to run mvn clean install. But this has to be done from a Sprinboot JAVA application running on a Linux server.\r\n\r\nProcess process = Runtime.getRuntime().exec(new String[]{&quot;bash&quot;,&quot;-c&quot;,&quot;mvn clean install /opt&quot;});\r\n\r\n[ERROR] Unknown lifecycle phase &quot;/opt&quot;. You must specify a valid lifecycle phase or a goal in the format &lt;plugin-prefix&gt;:&lt;goal&gt; or \r\n&lt;plugin-group-id&gt;:&lt;plugin-artifact-id&gt;[:&lt;plugin-version&gt;]:&lt;goal&gt;. Available lifecycle phases are: pre-clean, clean, post-clean, \r\nvalidate, initialize, generate-sources, process-sources, generate-resources, process-resources, compile, process-classes, \r\ngenerate-test-sources, process-test-sources, generate-test-resources, process-test-resources, test-compile, process-test-classes,\r\n test, prepare-package, package, pre-integration-test, integration-test, post-integration-test, verify, install, deploy, pre-site, \r\n site, post-site, site-deploy. -&gt; [Help 1]","title":"Running a process to execute maven install in Linux bash","body":"<p>I have a POM file under /opt which I want to use to run mvn clean install. But this has to be done from a Sprinboot JAVA application running on a Linux server.</p>\n<p>Process process = Runtime.getRuntime().exec(new String[]{&quot;bash&quot;,&quot;-c&quot;,&quot;mvn clean install /opt&quot;});</p>\n<p>[ERROR] Unknown lifecycle phase &quot;/opt&quot;. You must specify a valid lifecycle phase or a goal in the format : or\n:[:]:. Available lifecycle phases are: pre-clean, clean, post-clean,\nvalidate, initialize, generate-sources, process-sources, generate-resources, process-resources, compile, process-classes,\ngenerate-test-sources, process-test-sources, generate-test-resources, process-test-resources, test-compile, process-test-classes,\ntest, prepare-package, package, pre-integration-test, integration-test, post-integration-test, verify, install, deploy, pre-site,\nsite, post-site, site-deploy. -&gt; [Help 1]</p>\n"},{"tags":["java","shiro","pac4j"],"comments":[{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1686825444,"post_id":76477562,"comment_id":134853994,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":1608505,"reputation":2459,"user_id":1488073,"display_name":"jleleu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686808728,"creation_date":1686808728,"answer_id":76479510,"question_id":76477562,"body_markdown":"An instance of a client is shared among all incoming HTTP requests so changing it on the fly will lead to unwanted behavior.\r\n\r\nThough, you could create two `OidcClient`:\r\n- a regular one\r\n- a second one which is the same except that it is configured with `prompt=login` for example (`setCustomParams`) to force a re-authentication.\r\n\r\nAnd when you want to trigger a re-authentication, you could perform a local logout: `profileManager.removeProfiles()` and target a protected URL with your second client: `/protected?force_client=ForceLoginOidcClient`.\r\n\r\nNotice that it would certainly be better to perform a SLO at the OIDC OP to avoid any desynchronization between client applications.\r\n","title":"Is there a way to force re-login with pac4j Java with shiro","body":"<p>An instance of a client is shared among all incoming HTTP requests so changing it on the fly will lead to unwanted behavior.</p>\n<p>Though, you could create two <code>OidcClient</code>:</p>\n<ul>\n<li>a regular one</li>\n<li>a second one which is the same except that it is configured with <code>prompt=login</code> for example (<code>setCustomParams</code>) to force a re-authentication.</li>\n</ul>\n<p>And when you want to trigger a re-authentication, you could perform a local logout: <code>profileManager.removeProfiles()</code> and target a protected URL with your second client: <code>/protected?force_client=ForceLoginOidcClient</code>.</p>\n<p>Notice that it would certainly be better to perform a SLO at the OIDC OP to avoid any desynchronization between client applications.</p>\n"}],"owner":{"account_id":9416399,"reputation":9,"user_id":7004020,"display_name":"Joel Wenzel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1686808728,"creation_date":1686777032,"question_id":76477562,"body_markdown":"I want the user to have to re-authenticate in certain cases where they are about to perform privileged actions. Of course I can log them out and the login flow would just start over but that seems messy.\r\n\r\nIt seems like getting access to the pac4j configured client (OidcClient for example) at runtime would be promising as I would likely be able to get the identity/login url but havent found a way to do that in the docs.\r\n","title":"Is there a way to force re-login with pac4j Java with shiro","body":"<p>I want the user to have to re-authenticate in certain cases where they are about to perform privileged actions. Of course I can log them out and the login flow would just start over but that seems messy.</p>\n<p>It seems like getting access to the pac4j configured client (OidcClient for example) at runtime would be promising as I would likely be able to get the identity/login url but havent found a way to do that in the docs.</p>\n"},{"tags":["java","xml","xsd","xmlbeans"],"owner":{"account_id":17588556,"reputation":21,"user_id":12760874,"display_name":"kugelblitz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686808605,"creation_date":1686808605,"question_id":76479496,"body_markdown":"I&#39;m currently working on a project where I need to generate XML elements with concrete types using XMLBeans 5.1.0. However, I&#39;m facing difficulties in achieving this.\r\n\r\nI have an XSD schema that defines an abstract element ChartcValue and several concrete elements (BooleanCharacteristic, DateCharacteristic, IntegerCharacteristic, etc.) that are derived from the abstract element using the substitution group. I have already defined the necessary complex types and substitution groups in my XSD schema.\r\n\r\nHere&#39;s a snippet of my XSD:\r\n\r\nRequest.xsd\r\n\r\n```\r\n&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\nxmlns:chartc=&quot;http://&lt;&gt;/characteristicvalues/v17_2&quot;&gt;\r\n\r\n  &lt;xs:element name=&quot;Request&quot;&gt;\r\n    &lt;xs:complexType&gt;\r\n      &lt;xs:sequence&gt;\r\n        &lt;xs:element name=&quot;ID&quot; type=&quot;xs:int&quot; /&gt;\r\n        &lt;xs:element name=&quot;CharacteristicValue&quot; type=&quot;CharacteristicValueType&quot; minOccurs=&quot;0&quot; /&gt;\r\n      &lt;/xs:sequence&gt;\r\n    &lt;/xs:complexType&gt;\r\n  &lt;/xs:element&gt;\r\n&lt;/xs:schema&gt;\r\n\r\n```\r\nCharacteristicValues.xsd\r\n\r\n```\r\n&lt;xs:element name=&quot;ChartcValue&quot; abstract=&quot;true&quot;&gt;\r\n  &lt;xs:annotation&gt;\r\n    &lt;xs:documentation xml:lang=&quot;en&quot;&gt;\r\n      Element that is substituted by a characteristic value.\r\n    &lt;/xs:documentation&gt;\r\n  &lt;/xs:annotation&gt;\r\n&lt;/xs:element&gt;\r\n\r\n&lt;xs:element name=&quot;TextCharacteristic&quot; type=&quot;TextCharacteristicType&quot; substitutionGroup=&quot;ChartcValue&quot;&gt;\r\n  &lt;xs:annotation&gt;\r\n    &lt;xs:documentation&gt;\r\n      Specification for a Text Characteristic.\r\n    &lt;/xs:documentation&gt;\r\n  &lt;/xs:annotation&gt;\r\n&lt;/xs:element&gt;\r\n```\r\n\r\nThe Java classes are generated successfully, but when I try to create instances of the concrete types programmatically and generate XML elements, it only allows me to create instances of the abstract ChartcValue type, not the concrete types derived from it.\r\n\r\nHere&#39;s an example of the code I&#39;m using to generate the XML elements:\r\n\r\n\r\n```\r\nCharacteristicValueType charValue = CharacteristicValueType.Factory.newInstance();\r\nXmlObject obj = charValue.addNewChartcValue();\r\nTextCharacteristicType textCharacteristic = TextCharacteristicType.Factory.newInstance();\r\ntextCharacteristic.setShortName(shortName);\r\ntextCharacteristic.setStringValue(value);\r\nobj.set(textCharacteristic);\r\n\r\n```\r\nI would greatly appreciate any guidance or suggestions on how to correctly generate XML elements with the concrete types using XMLBeans 5.1.0. Is there something I&#39;m missing in my schema or during the generation process? Any insights or alternative approaches to achieve this would be highly appreciated.","title":"Issue with XMLBeans 5.1.0: Unable to Generate XML Elements with Concrete Types","body":"<p>I'm currently working on a project where I need to generate XML elements with concrete types using XMLBeans 5.1.0. However, I'm facing difficulties in achieving this.</p>\n<p>I have an XSD schema that defines an abstract element ChartcValue and several concrete elements (BooleanCharacteristic, DateCharacteristic, IntegerCharacteristic, etc.) that are derived from the abstract element using the substitution group. I have already defined the necessary complex types and substitution groups in my XSD schema.</p>\n<p>Here's a snippet of my XSD:</p>\n<p>Request.xsd</p>\n<pre><code>&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\nxmlns:chartc=&quot;http://&lt;&gt;/characteristicvalues/v17_2&quot;&gt;\n\n  &lt;xs:element name=&quot;Request&quot;&gt;\n    &lt;xs:complexType&gt;\n      &lt;xs:sequence&gt;\n        &lt;xs:element name=&quot;ID&quot; type=&quot;xs:int&quot; /&gt;\n        &lt;xs:element name=&quot;CharacteristicValue&quot; type=&quot;CharacteristicValueType&quot; minOccurs=&quot;0&quot; /&gt;\n      &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n  &lt;/xs:element&gt;\n&lt;/xs:schema&gt;\n\n</code></pre>\n<p>CharacteristicValues.xsd</p>\n<pre><code>&lt;xs:element name=&quot;ChartcValue&quot; abstract=&quot;true&quot;&gt;\n  &lt;xs:annotation&gt;\n    &lt;xs:documentation xml:lang=&quot;en&quot;&gt;\n      Element that is substituted by a characteristic value.\n    &lt;/xs:documentation&gt;\n  &lt;/xs:annotation&gt;\n&lt;/xs:element&gt;\n\n&lt;xs:element name=&quot;TextCharacteristic&quot; type=&quot;TextCharacteristicType&quot; substitutionGroup=&quot;ChartcValue&quot;&gt;\n  &lt;xs:annotation&gt;\n    &lt;xs:documentation&gt;\n      Specification for a Text Characteristic.\n    &lt;/xs:documentation&gt;\n  &lt;/xs:annotation&gt;\n&lt;/xs:element&gt;\n</code></pre>\n<p>The Java classes are generated successfully, but when I try to create instances of the concrete types programmatically and generate XML elements, it only allows me to create instances of the abstract ChartcValue type, not the concrete types derived from it.</p>\n<p>Here's an example of the code I'm using to generate the XML elements:</p>\n<pre><code>CharacteristicValueType charValue = CharacteristicValueType.Factory.newInstance();\nXmlObject obj = charValue.addNewChartcValue();\nTextCharacteristicType textCharacteristic = TextCharacteristicType.Factory.newInstance();\ntextCharacteristic.setShortName(shortName);\ntextCharacteristic.setStringValue(value);\nobj.set(textCharacteristic);\n\n</code></pre>\n<p>I would greatly appreciate any guidance or suggestions on how to correctly generate XML elements with the concrete types using XMLBeans 5.1.0. Is there something I'm missing in my schema or during the generation process? Any insights or alternative approaches to achieve this would be highly appreciated.</p>\n"},{"tags":["java","openssl","x509","pem","pkcs#8"],"comments":[{"owner":{"account_id":1305028,"reputation":7232,"user_id":1254166,"display_name":"Eli Rosencruft"},"score":2,"creation_date":1349435175,"post_id":11787571,"comment_id":17216945,"body_markdown":"Hmmm... Looks pretty good to me. I don&#39;t think that there is a better way in JCE, which has no PEM handling functions. You have answered your own question and provided us with good example code.","body":"Hmmm... Looks pretty good to me. I don&#39;t think that there is a better way in JCE, which has no PEM handling functions. You have answered your own question and provided us with good example code."},{"owner":{"account_id":1305028,"reputation":7232,"user_id":1254166,"display_name":"Eli Rosencruft"},"score":2,"creation_date":1349436531,"post_id":11787571,"comment_id":17217532,"body_markdown":"You should probably change the &quot;privKeyPEM&quot; in &quot;getPemPublicKey&quot; to &quot;pubKeyPEM&quot;.","body":"You should probably change the &quot;privKeyPEM&quot; in &quot;getPemPublicKey&quot; to &quot;pubKeyPEM&quot;."},{"owner":{"account_id":64678,"reputation":19208,"user_id":190816,"accept_rate":67,"display_name":"David Blevins"},"score":0,"creation_date":1423037236,"post_id":11787571,"comment_id":44981782,"body_markdown":"How would this be done (or can it be done) without having to use `openssl  -nocrypt` command.  Can that part also be done in Java?","body":"How would this be done (or can it be done) without having to use <code>openssl  -nocrypt</code> command.  Can that part also be done in Java?"},{"owner":{"account_id":2140129,"reputation":2408,"user_id":1898994,"accept_rate":83,"display_name":"lznt"},"score":1,"creation_date":1508392601,"post_id":11787571,"comment_id":80594450,"body_markdown":"&quot;openssl genrsa&quot; generates a private key, instead of a key pair? https://wiki.openssl.org/index.php/Manual:Genrsa(1)","body":"&quot;openssl genrsa&quot; generates a private key, instead of a key pair? <a href=\"https://wiki.openssl.org/index.php/Manual:Genrsa(1)\" rel=\"nofollow noreferrer\">wiki.openssl.org/index.php/Manual:Genrsa(1)</a>"},{"owner":{"account_id":7550116,"reputation":2017,"user_id":5731861,"display_name":"Felipe Valdes"},"score":1,"creation_date":1528562323,"post_id":11787571,"comment_id":88559742,"body_markdown":"@iznt the link is dead. https://www.openssl.org/docs/man1.0.2/apps/genrsa.html","body":"@iznt the link is dead. <a href=\"https://www.openssl.org/docs/man1.0.2/apps/genrsa.html\" rel=\"nofollow noreferrer\">openssl.org/docs/man1.0.2/apps/genrsa.html</a>"},{"owner":{"account_id":7808562,"reputation":81,"user_id":5905594,"display_name":"C.D.H."},"score":0,"creation_date":1590617995,"post_id":11787571,"comment_id":109751803,"body_markdown":"should &quot;&quot;-----END PUBLIC KEY-----&quot; be &quot;&quot;\\n-----END PUBLIC KEY-----\\n&quot;? I&#39;m looking at understanding public key files right now, and the end footer has a x0A at each end - which seems independent of the key generated.","body":"should &quot;&quot;-----END PUBLIC KEY-----&quot; be &quot;&quot;\\n-----END PUBLIC KEY-----\\n&quot;? I&#39;m looking at understanding public key files right now, and the end footer has a x0A at each end - which seems independent of the key generated."},{"owner":{"account_id":6283683,"reputation":3277,"user_id":4883754,"display_name":"Jess Chen"},"score":0,"creation_date":1669823887,"post_id":11787571,"comment_id":131731968,"body_markdown":"You should not use &quot;\\n&quot;, it will raise an error if you use a PEM file from windows.","body":"You should not use &quot;\\n&quot;, it will raise an error if you use a PEM file from windows."}],"answers":[{"comments":[{"owner":{"account_id":113212,"reputation":1385,"user_id":298278,"display_name":"Windle"},"score":1,"creation_date":1357426800,"post_id":14177328,"comment_id":19646851,"body_markdown":"Could you point out the differences / explain why your&#39;s is better?","body":"Could you point out the differences / explain why your&#39;s is better?"},{"owner":{"account_id":1561124,"reputation":2087,"user_id":1450967,"display_name":"ggrandes"},"score":4,"creation_date":1357428658,"post_id":14177328,"comment_id":19647314,"body_markdown":"better? more like (little) different :-) but... the load of public X.509 use less code. the load of private key is little more portable (there are keys like that specifies in header &quot;RSA&quot;, like: &quot;-----BEGIN RSA PRIVATE KEY-----&quot;) and don&#39;t use &quot;Base64&quot; (seem external lib); this code use only Jre6","body":"better? more like (little) different :-) but... the load of public X.509 use less code. the load of private key is little more portable (there are keys like that specifies in header &quot;RSA&quot;, like: &quot;-----BEGIN RSA PRIVATE KEY-----&quot;) and don&#39;t use &quot;Base64&quot; (seem external lib); this code use only Jre6"},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":3,"creation_date":1508474149,"post_id":14177328,"comment_id":80632536,"body_markdown":"`-----BEGIN RSA PRIVATE KEY-----` is a different format, NOT PKCS8, and trying to read it as PKCS8 won&#39;t work. Also a certificate is a different thing than a raw publickey, so this won&#39;t work for the data in this Q at all.","body":"<code>-----BEGIN RSA PRIVATE KEY-----</code> is a different format, NOT PKCS8, and trying to read it as PKCS8 won&#39;t work. Also a certificate is a different thing than a raw publickey, so this won&#39;t work for the data in this Q at all."},{"owner":{"account_id":1561124,"reputation":2087,"user_id":1450967,"display_name":"ggrandes"},"score":0,"creation_date":1508690295,"post_id":14177328,"comment_id":80700078,"body_markdown":"@dave_thompson_085 this code is pulled from a working system... what is the source of your affirmation?&#191;?","body":"@dave_thompson_085 this code is pulled from a working system... what is the source of your affirmation?&#191;?"},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1509438973,"post_id":14177328,"comment_id":81008375,"body_markdown":"(0) Sorry for delay, I was busy. (1) I know how openssl works. (2) Just for you, I created new files using the first and third commands in the Q, plus for completeness the third changed to PEM. As I expected your code fails with exceptions on these files, but works fine on _different_ files (PKCS8-u key created by the _second_ command, and certificate created by commands completely not used in this Q). If you can show (test-only) files created by OpenSSL with PEM type &#39;RSA PRIVATE KEY&#39; and/or &#39;PUBLIC KEY&#39; that is readable by the code you posted, I&#39;ll pay $100.","body":"(0) Sorry for delay, I was busy. (1) I know how openssl works. (2) Just for you, I created new files using the first and third commands in the Q, plus for completeness the third changed to PEM. As I expected your code fails with exceptions on these files, but works fine on <i>different</i> files (PKCS8-u key created by the <i>second</i> command, and certificate created by commands completely not used in this Q). If you can show (test-only) files created by OpenSSL with PEM type &#39;RSA PRIVATE KEY&#39; and/or &#39;PUBLIC KEY&#39; that is readable by the code you posted, I&#39;ll pay $100."},{"owner":{"account_id":1561124,"reputation":2087,"user_id":1450967,"display_name":"ggrandes"},"score":0,"creation_date":1509546896,"post_id":14177328,"comment_id":81061714,"body_markdown":"maybe we are talking about different thinks? (idiom barrier) my code read pkcs8 keys (openssl pkcs8 -topk8 -nocrypt -outform PEM / openssl pkcs12 -nodes -nocerts), not &quot;openssl genrsa&quot; keys, but... In the past I found keys encoded with header &quot;RSA PRIVATE KEY&quot; that internally was PKCS8 (i don&#39;t know the source generator), this code read these keys following the Postel&#39;s law (be lax in read).","body":"maybe we are talking about different thinks? (idiom barrier) my code read pkcs8 keys (openssl pkcs8 -topk8 -nocrypt -outform PEM / openssl pkcs12 -nodes -nocerts), not &quot;openssl genrsa&quot; keys, but... In the past I found keys encoded with header &quot;RSA PRIVATE KEY&quot; that internally was PKCS8 (i don&#39;t know the source generator), this code read these keys following the Postel&#39;s law (be lax in read)."}],"tags":[],"owner":{"account_id":1561124,"reputation":2087,"user_id":1450967,"display_name":"ggrandes"},"comment_count":6,"down_vote_count":3,"up_vote_count":13,"is_accepted":false,"score":10,"last_activity_date":1357426656,"creation_date":1357426656,"answer_id":14177328,"question_id":11787571,"body_markdown":"Well, my code is like yours, with little diferences... \r\n\r\n\tpublic static X509Certificate loadPublicX509(String fileName) \r\n\t\t\tthrows GeneralSecurityException {\r\n\t\tInputStream is = null;\r\n\t\tX509Certificate crt = null;\r\n\t\ttry {\r\n\t\t\tis = fileName.getClass().getResourceAsStream(&quot;/&quot; + fileName);\r\n\t\t\tCertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n\t\t\tcrt = (X509Certificate)cf.generateCertificate(is);\r\n\t\t} finally {\r\n\t\t\tcloseSilent(is);\r\n\t\t}\r\n\t\treturn crt;\r\n\t}\r\n\r\n\tpublic static PrivateKey loadPrivateKey(String fileName) \r\n\t\t\tthrows IOException, GeneralSecurityException {\r\n\t\tPrivateKey key = null;\r\n\t\tInputStream is = null;\r\n\t\ttry {\r\n\t\t\tis = fileName.getClass().getResourceAsStream(&quot;/&quot; + fileName);\r\n\t\t\tBufferedReader br = new BufferedReader(new InputStreamReader(is));\r\n\t\t\tStringBuilder builder = new StringBuilder();\r\n\t\t\tboolean inKey = false;\r\n\t\t\tfor (String line = br.readLine(); line != null; line = br.readLine()) {\r\n\t\t\t\tif (!inKey) {\r\n\t\t\t\t\tif (line.startsWith(&quot;-----BEGIN &quot;) &amp;&amp; \r\n\t\t\t\t\t\t\tline.endsWith(&quot; PRIVATE KEY-----&quot;)) {\r\n\t\t\t\t\t\tinKey = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tif (line.startsWith(&quot;-----END &quot;) &amp;&amp; \r\n\t\t\t\t\t\t\tline.endsWith(&quot; PRIVATE KEY-----&quot;)) {\r\n\t\t\t\t\t\tinKey = false;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbuilder.append(line);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//\r\n\t\t\tbyte[] encoded = DatatypeConverter.parseBase64Binary(builder.toString());\r\n\t\t\tPKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(encoded);\r\n\t\t\tKeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n\t\t\tkey = kf.generatePrivate(keySpec);\r\n\t\t} finally {\r\n\t\t\tcloseSilent(is);\r\n\t\t}\r\n\t\treturn key;\r\n\t}\r\n\r\n\tpublic static void closeSilent(final InputStream is) {\r\n\t\tif (is == null) return;\r\n\t\ttry { is.close(); } catch (Exception ign) {}\r\n\t}\r\n","title":"How to read .pem file to get private and public key","body":"<p>Well, my code is like yours, with little diferences... </p>\n\n<pre><code>public static X509Certificate loadPublicX509(String fileName) \n        throws GeneralSecurityException {\n    InputStream is = null;\n    X509Certificate crt = null;\n    try {\n        is = fileName.getClass().getResourceAsStream(\"/\" + fileName);\n        CertificateFactory cf = CertificateFactory.getInstance(\"X.509\");\n        crt = (X509Certificate)cf.generateCertificate(is);\n    } finally {\n        closeSilent(is);\n    }\n    return crt;\n}\n\npublic static PrivateKey loadPrivateKey(String fileName) \n        throws IOException, GeneralSecurityException {\n    PrivateKey key = null;\n    InputStream is = null;\n    try {\n        is = fileName.getClass().getResourceAsStream(\"/\" + fileName);\n        BufferedReader br = new BufferedReader(new InputStreamReader(is));\n        StringBuilder builder = new StringBuilder();\n        boolean inKey = false;\n        for (String line = br.readLine(); line != null; line = br.readLine()) {\n            if (!inKey) {\n                if (line.startsWith(\"-----BEGIN \") &amp;&amp; \n                        line.endsWith(\" PRIVATE KEY-----\")) {\n                    inKey = true;\n                }\n                continue;\n            }\n            else {\n                if (line.startsWith(\"-----END \") &amp;&amp; \n                        line.endsWith(\" PRIVATE KEY-----\")) {\n                    inKey = false;\n                    break;\n                }\n                builder.append(line);\n            }\n        }\n        //\n        byte[] encoded = DatatypeConverter.parseBase64Binary(builder.toString());\n        PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(encoded);\n        KeyFactory kf = KeyFactory.getInstance(\"RSA\");\n        key = kf.generatePrivate(keySpec);\n    } finally {\n        closeSilent(is);\n    }\n    return key;\n}\n\npublic static void closeSilent(final InputStream is) {\n    if (is == null) return;\n    try { is.close(); } catch (Exception ign) {}\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":301110,"reputation":98854,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":0,"creation_date":1432932234,"post_id":19166352,"comment_id":49150826,"body_markdown":"The code is not handling the password properly. The password should be overwritten with 0&#39;s when done with it. See, for example, [Using Password-Based Encryption](https://docs.oracle.com/javase/8/docs/technotes/guides/security/crypto/CryptoSpec.html#PBEEx) in the Java JCE Architecture docs.","body":"The code is not handling the password properly. The password should be overwritten with 0&#39;s when done with it. See, for example, <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/security/crypto/CryptoSpec.html#PBEEx\" rel=\"nofollow noreferrer\">Using Password-Based Encryption</a> in the Java JCE Architecture docs."},{"owner":{"account_id":1023656,"reputation":23993,"user_id":1033422,"accept_rate":94,"display_name":"Chris Snow"},"score":0,"creation_date":1464863050,"post_id":19166352,"comment_id":62663389,"body_markdown":"@jww as a good citizen have you raised the issue with the bouncycastle team?","body":"@jww as a good citizen have you raised the issue with the bouncycastle team?"}],"tags":[],"owner":{"account_id":1023656,"reputation":23993,"user_id":1033422,"accept_rate":94,"display_name":"Chris Snow"},"comment_count":2,"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1432931696,"creation_date":1380824367,"answer_id":19166352,"question_id":11787571,"body_markdown":"One option is to use bouncycastle&#39;s [PEMParser][1]:\r\n\r\n\r\n&gt; Class for parsing OpenSSL PEM encoded streams containing X509\r\n&gt; certificates, PKCS8 encoded keys and PKCS7 objects.\r\n&gt; \r\n&gt; In the case of PKCS7 objects the reader will return a CMS ContentInfo\r\n&gt; object. Public keys will be returned as well formed\r\n&gt; SubjectPublicKeyInfo objects, private keys will be returned as well\r\n&gt; formed PrivateKeyInfo objects. In the case of a private key a\r\n&gt; PEMKeyPair will normally be returned if the encoding contains both the\r\n&gt; private and public key definition. CRLs, Certificates, PKCS#10\r\n&gt; requests, and Attribute Certificates will generate the appropriate BC\r\n&gt; holder class.\r\n\r\n\r\nHere is an example of using the [Parser test code][2]:\r\n\r\n    package org.bouncycastle.openssl.test;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.io.OutputStreamWriter;\r\n    import java.io.Reader;\r\n    import java.math.BigInteger;\r\n    import java.security.KeyPair;\r\n    import java.security.KeyPairGenerator;\r\n    import java.security.PrivateKey;\r\n    import java.security.PublicKey;\r\n    import java.security.SecureRandom;\r\n    import java.security.Security;\r\n    import java.security.Signature;\r\n    import java.security.interfaces.DSAPrivateKey;\r\n    import java.security.interfaces.RSAPrivateCrtKey;\r\n    import java.security.interfaces.RSAPrivateKey;\r\n    \r\n    import org.bouncycastle.asn1.ASN1ObjectIdentifier;\r\n    import org.bouncycastle.asn1.cms.CMSObjectIdentifiers;\r\n    import org.bouncycastle.asn1.cms.ContentInfo;\r\n    import org.bouncycastle.asn1.pkcs.PrivateKeyInfo;\r\n    import org.bouncycastle.asn1.x509.SubjectPublicKeyInfo;\r\n    import org.bouncycastle.asn1.x9.ECNamedCurveTable;\r\n    import org.bouncycastle.asn1.x9.X9ECParameters;\r\n    import org.bouncycastle.cert.X509CertificateHolder;\r\n    import org.bouncycastle.jce.provider.BouncyCastleProvider;\r\n    import org.bouncycastle.openssl.PEMDecryptorProvider;\r\n    import org.bouncycastle.openssl.PEMEncryptedKeyPair;\r\n    import org.bouncycastle.openssl.PEMKeyPair;\r\n    import org.bouncycastle.openssl.PEMParser;\r\n    import org.bouncycastle.openssl.PEMWriter;\r\n    import org.bouncycastle.openssl.PasswordFinder;\r\n    import org.bouncycastle.openssl.jcajce.JcaPEMKeyConverter;\r\n    import org.bouncycastle.openssl.jcajce.JceOpenSSLPKCS8DecryptorProviderBuilder;\r\n    import org.bouncycastle.openssl.jcajce.JcePEMDecryptorProviderBuilder;\r\n    import org.bouncycastle.operator.InputDecryptorProvider;\r\n    import org.bouncycastle.pkcs.PKCS8EncryptedPrivateKeyInfo;\r\n    import org.bouncycastle.util.test.SimpleTest;\r\n    \r\n    /**\r\n     * basic class for reading test.pem - the password is &quot;secret&quot;\r\n     */\r\n    public class ParserTest\r\n        extends SimpleTest\r\n    {\r\n        private static class Password\r\n            implements PasswordFinder\r\n        {\r\n            char[]  password;\r\n    \r\n            Password(\r\n                char[] word)\r\n            {\r\n                this.password = word;\r\n            }\r\n    \r\n            public char[] getPassword()\r\n            {\r\n                return password;\r\n            }\r\n        }\r\n    \r\n        public String getName()\r\n        {\r\n            return &quot;PEMParserTest&quot;;\r\n        }\r\n    \r\n        private PEMParser openPEMResource(\r\n            String          fileName)\r\n        {\r\n            InputStream res = this.getClass().getResourceAsStream(fileName);\r\n            Reader fRd = new BufferedReader(new InputStreamReader(res));\r\n            return new PEMParser(fRd);\r\n        }\r\n    \r\n        public void performTest()\r\n            throws Exception\r\n        {\r\n            PEMParser       pemRd = openPEMResource(&quot;test.pem&quot;);\r\n            Object          o;\r\n            PEMKeyPair      pemPair;\r\n            KeyPair         pair;\r\n    \r\n            while ((o = pemRd.readObject()) != null)\r\n            {\r\n                if (o instanceof KeyPair)\r\n                {\r\n                    //pair = (KeyPair)o;\r\n    \r\n                    //System.out.println(pair.getPublic());\r\n                    //System.out.println(pair.getPrivate());\r\n                }\r\n                else\r\n                {\r\n                    //System.out.println(o.toString());\r\n                }\r\n            }\r\n    \r\n            // test bogus lines before begin are ignored.\r\n            pemRd = openPEMResource(&quot;extratest.pem&quot;);\r\n    \r\n            while ((o = pemRd.readObject()) != null)\r\n            {\r\n                if (!(o instanceof X509CertificateHolder))\r\n                {\r\n                    fail(&quot;wrong object found&quot;);\r\n                }\r\n            }\r\n    \r\n            //\r\n            // pkcs 7 data\r\n            //\r\n            pemRd = openPEMResource(&quot;pkcs7.pem&quot;);\r\n            ContentInfo d = (ContentInfo)pemRd.readObject();\r\n    \r\n            if (!d.getContentType().equals(CMSObjectIdentifiers.envelopedData))\r\n            {\r\n                fail(&quot;failed envelopedData check&quot;);\r\n            }\r\n    \r\n            //\r\n            // ECKey\r\n            //\r\n            pemRd = openPEMResource(&quot;eckey.pem&quot;);\r\n            ASN1ObjectIdentifier ecOID = (ASN1ObjectIdentifier)pemRd.readObject();\r\n            X9ECParameters ecSpec = ECNamedCurveTable.getByOID(ecOID);\r\n    \r\n            if (ecSpec == null)\r\n            {\r\n                fail(&quot;ecSpec not found for named curve&quot;);\r\n            }\r\n    \r\n            pemPair = (PEMKeyPair)pemRd.readObject();\r\n    \r\n            pair = new JcaPEMKeyConverter().setProvider(&quot;BC&quot;).getKeyPair(pemPair);\r\n    \r\n            Signature sgr = Signature.getInstance(&quot;ECDSA&quot;, &quot;BC&quot;);\r\n    \r\n            sgr.initSign(pair.getPrivate());\r\n    \r\n            byte[] message = new byte[] { (byte)&#39;a&#39;, (byte)&#39;b&#39;, (byte)&#39;c&#39; };\r\n    \r\n            sgr.update(message);\r\n    \r\n            byte[]  sigBytes = sgr.sign();\r\n    \r\n            sgr.initVerify(pair.getPublic());\r\n    \r\n            sgr.update(message);\r\n    \r\n            if (!sgr.verify(sigBytes))\r\n            {\r\n                fail(&quot;EC verification failed&quot;);\r\n            }\r\n    \r\n            if (!pair.getPublic().getAlgorithm().equals(&quot;ECDSA&quot;))\r\n            {\r\n                fail(&quot;wrong algorithm name on public got: &quot; + pair.getPublic().getAlgorithm());\r\n            }\r\n    \r\n            if (!pair.getPrivate().getAlgorithm().equals(&quot;ECDSA&quot;))\r\n            {\r\n                fail(&quot;wrong algorithm name on private&quot;);\r\n            }\r\n    \r\n            //\r\n            // ECKey -- explicit parameters\r\n            //\r\n            pemRd = openPEMResource(&quot;ecexpparam.pem&quot;);\r\n            ecSpec = (X9ECParameters)pemRd.readObject();\r\n    \r\n            pemPair = (PEMKeyPair)pemRd.readObject();\r\n    \r\n            pair = new JcaPEMKeyConverter().setProvider(&quot;BC&quot;).getKeyPair(pemPair);\r\n    \r\n            sgr = Signature.getInstance(&quot;ECDSA&quot;, &quot;BC&quot;);\r\n    \r\n            sgr.initSign(pair.getPrivate());\r\n    \r\n            message = new byte[] { (byte)&#39;a&#39;, (byte)&#39;b&#39;, (byte)&#39;c&#39; };\r\n    \r\n            sgr.update(message);\r\n    \r\n            sigBytes = sgr.sign();\r\n    \r\n            sgr.initVerify(pair.getPublic());\r\n    \r\n            sgr.update(message);\r\n    \r\n            if (!sgr.verify(sigBytes))\r\n            {\r\n                fail(&quot;EC verification failed&quot;);\r\n            }\r\n    \r\n            if (!pair.getPublic().getAlgorithm().equals(&quot;ECDSA&quot;))\r\n            {\r\n                fail(&quot;wrong algorithm name on public got: &quot; + pair.getPublic().getAlgorithm());\r\n            }\r\n    \r\n            if (!pair.getPrivate().getAlgorithm().equals(&quot;ECDSA&quot;))\r\n            {\r\n                fail(&quot;wrong algorithm name on private&quot;);\r\n            }\r\n    \r\n            //\r\n            // writer/parser test\r\n            //\r\n            KeyPairGenerator      kpGen = KeyPairGenerator.getInstance(&quot;RSA&quot;, &quot;BC&quot;);\r\n    \r\n            pair = kpGen.generateKeyPair();\r\n    \r\n            keyPairTest(&quot;RSA&quot;, pair);\r\n    \r\n            kpGen = KeyPairGenerator.getInstance(&quot;DSA&quot;, &quot;BC&quot;);\r\n            kpGen.initialize(512, new SecureRandom());\r\n            pair = kpGen.generateKeyPair();\r\n    \r\n            keyPairTest(&quot;DSA&quot;, pair);\r\n    \r\n            //\r\n            // PKCS7\r\n            //\r\n            ByteArrayOutputStream bOut = new ByteArrayOutputStream();\r\n            PEMWriter             pWrt = new PEMWriter(new OutputStreamWriter(bOut));\r\n    \r\n            pWrt.writeObject(d);\r\n    \r\n            pWrt.close();\r\n    \r\n            pemRd = new PEMParser(new InputStreamReader(new ByteArrayInputStream(bOut.toByteArray())));\r\n            d = (ContentInfo)pemRd.readObject();\r\n    \r\n            if (!d.getContentType().equals(CMSObjectIdentifiers.envelopedData))\r\n            {\r\n                fail(&quot;failed envelopedData recode check&quot;);\r\n            }\r\n    \r\n    \r\n            // OpenSSL test cases (as embedded resources)\r\n            doOpenSslDsaTest(&quot;unencrypted&quot;);\r\n            doOpenSslRsaTest(&quot;unencrypted&quot;);\r\n    \r\n            doOpenSslTests(&quot;aes128&quot;);\r\n            doOpenSslTests(&quot;aes192&quot;);\r\n            doOpenSslTests(&quot;aes256&quot;);\r\n            doOpenSslTests(&quot;blowfish&quot;);\r\n            doOpenSslTests(&quot;des1&quot;);\r\n            doOpenSslTests(&quot;des2&quot;);\r\n            doOpenSslTests(&quot;des3&quot;);\r\n            doOpenSslTests(&quot;rc2_128&quot;);\r\n    \r\n            doOpenSslDsaTest(&quot;rc2_40_cbc&quot;);\r\n            doOpenSslRsaTest(&quot;rc2_40_cbc&quot;);\r\n            doOpenSslDsaTest(&quot;rc2_64_cbc&quot;);\r\n            doOpenSslRsaTest(&quot;rc2_64_cbc&quot;);\r\n    \r\n            doDudPasswordTest(&quot;7fd98&quot;, 0, &quot;corrupted stream - out of bounds length found&quot;);\r\n            doDudPasswordTest(&quot;ef677&quot;, 1, &quot;corrupted stream - out of bounds length found&quot;);\r\n            doDudPasswordTest(&quot;800ce&quot;, 2, &quot;unknown tag 26 encountered&quot;);\r\n            doDudPasswordTest(&quot;b6cd8&quot;, 3, &quot;DEF length 81 object truncated by 56&quot;);\r\n            doDudPasswordTest(&quot;28ce09&quot;, 4, &quot;DEF length 110 object truncated by 28&quot;);\r\n            doDudPasswordTest(&quot;2ac3b9&quot;, 5, &quot;DER length more than 4 bytes: 11&quot;);\r\n            doDudPasswordTest(&quot;2cba96&quot;, 6, &quot;DEF length 100 object truncated by 35&quot;);\r\n            doDudPasswordTest(&quot;2e3354&quot;, 7, &quot;DEF length 42 object truncated by 9&quot;);\r\n            doDudPasswordTest(&quot;2f4142&quot;, 8, &quot;DER length more than 4 bytes: 14&quot;);\r\n            doDudPasswordTest(&quot;2fe9bb&quot;, 9, &quot;DER length more than 4 bytes: 65&quot;);\r\n            doDudPasswordTest(&quot;3ee7a8&quot;, 10, &quot;DER length more than 4 bytes: 57&quot;);\r\n            doDudPasswordTest(&quot;41af75&quot;, 11, &quot;unknown tag 16 encountered&quot;);\r\n            doDudPasswordTest(&quot;1704a5&quot;, 12, &quot;corrupted stream detected&quot;);\r\n            doDudPasswordTest(&quot;1c5822&quot;, 13, &quot;unknown object in getInstance: org.bouncycastle.asn1.DERUTF8String&quot;);\r\n            doDudPasswordTest(&quot;5a3d16&quot;, 14, &quot;corrupted stream detected&quot;);\r\n            doDudPasswordTest(&quot;8d0c97&quot;, 15, &quot;corrupted stream detected&quot;);\r\n            doDudPasswordTest(&quot;bc0daf&quot;, 16, &quot;corrupted stream detected&quot;);\r\n            doDudPasswordTest(&quot;aaf9c4d&quot;,17, &quot;corrupted stream - out of bounds length found&quot;);\r\n    \r\n            doNoPasswordTest();\r\n    \r\n            // encrypted private key test\r\n            InputDecryptorProvider pkcs8Prov = new JceOpenSSLPKCS8DecryptorProviderBuilder().build(&quot;password&quot;.toCharArray());\r\n            pemRd = openPEMResource(&quot;enckey.pem&quot;);\r\n    \r\n            PKCS8EncryptedPrivateKeyInfo encPrivKeyInfo = (PKCS8EncryptedPrivateKeyInfo)pemRd.readObject();\r\n            JcaPEMKeyConverter   converter = new JcaPEMKeyConverter().setProvider(&quot;BC&quot;);\r\n    \r\n            RSAPrivateCrtKey privKey = (RSAPrivateCrtKey)converter.getPrivateKey(encPrivKeyInfo.decryptPrivateKeyInfo(pkcs8Prov));\r\n    \r\n            if (!privKey.getPublicExponent().equals(new BigInteger(&quot;10001&quot;, 16)))\r\n            {\r\n                fail(&quot;decryption of private key data check failed&quot;);\r\n            }\r\n    \r\n            // general PKCS8 test\r\n    \r\n            pemRd = openPEMResource(&quot;pkcs8test.pem&quot;);\r\n    \r\n            Object privInfo;\r\n    \r\n            while ((privInfo = pemRd.readObject()) != null)\r\n            {\r\n                if (privInfo instanceof PrivateKeyInfo)\r\n                {\r\n                    privKey = (RSAPrivateCrtKey)converter.getPrivateKey(PrivateKeyInfo.getInstance(privInfo));\r\n                }\r\n                else\r\n                {\r\n                    privKey = (RSAPrivateCrtKey)converter.getPrivateKey(((PKCS8EncryptedPrivateKeyInfo)privInfo).decryptPrivateKeyInfo(pkcs8Prov));\r\n                }\r\n                if (!privKey.getPublicExponent().equals(new BigInteger(&quot;10001&quot;, 16)))\r\n                {\r\n                    fail(&quot;decryption of private key data check failed&quot;);\r\n                }\r\n            }\r\n        }\r\n    \r\n        private void keyPairTest(\r\n            String   name,\r\n            KeyPair pair) \r\n            throws IOException\r\n        {\r\n            PEMParser pemRd;\r\n            ByteArrayOutputStream bOut = new ByteArrayOutputStream();\r\n            PEMWriter             pWrt = new PEMWriter(new OutputStreamWriter(bOut));\r\n            \r\n            pWrt.writeObject(pair.getPublic());\r\n            \r\n            pWrt.close();\r\n    \r\n            pemRd = new PEMParser(new InputStreamReader(new ByteArrayInputStream(bOut.toByteArray())));\r\n    \r\n            SubjectPublicKeyInfo pub = SubjectPublicKeyInfo.getInstance(pemRd.readObject());\r\n            JcaPEMKeyConverter   converter = new JcaPEMKeyConverter().setProvider(&quot;BC&quot;);\r\n    \r\n            PublicKey k = converter.getPublicKey(pub);\r\n    \r\n            if (!k.equals(pair.getPublic()))\r\n            {\r\n                fail(&quot;Failed public key read: &quot; + name);\r\n            }\r\n            \r\n            bOut = new ByteArrayOutputStream();\r\n            pWrt = new PEMWriter(new OutputStreamWriter(bOut));\r\n            \r\n            pWrt.writeObject(pair.getPrivate());\r\n            \r\n            pWrt.close();\r\n            \r\n            pemRd = new PEMParser(new InputStreamReader(new ByteArrayInputStream(bOut.toByteArray())));\r\n            \r\n            KeyPair kPair = converter.getKeyPair((PEMKeyPair)pemRd.readObject());\r\n            if (!kPair.getPrivate().equals(pair.getPrivate()))\r\n            {\r\n                fail(&quot;Failed private key read: &quot; + name);\r\n            }\r\n            \r\n            if (!kPair.getPublic().equals(pair.getPublic()))\r\n            {\r\n                fail(&quot;Failed private key public read: &quot; + name);\r\n            }\r\n        }\r\n    \r\n        private void doOpenSslTests(\r\n            String baseName)\r\n            throws IOException\r\n        {\r\n            doOpenSslDsaModesTest(baseName);\r\n            doOpenSslRsaModesTest(baseName);\r\n        }\r\n    \r\n        private void doOpenSslDsaModesTest(\r\n            String baseName)\r\n            throws IOException\r\n        {\r\n            doOpenSslDsaTest(baseName + &quot;_cbc&quot;);\r\n            doOpenSslDsaTest(baseName + &quot;_cfb&quot;);\r\n            doOpenSslDsaTest(baseName + &quot;_ecb&quot;);\r\n            doOpenSslDsaTest(baseName + &quot;_ofb&quot;);\r\n        }\r\n    \r\n        private void doOpenSslRsaModesTest(\r\n            String baseName)\r\n            throws IOException\r\n        {\r\n            doOpenSslRsaTest(baseName + &quot;_cbc&quot;);\r\n            doOpenSslRsaTest(baseName + &quot;_cfb&quot;);\r\n            doOpenSslRsaTest(baseName + &quot;_ecb&quot;);\r\n            doOpenSslRsaTest(baseName + &quot;_ofb&quot;);\r\n        }\r\n    \r\n        private void doOpenSslDsaTest(\r\n            String name)\r\n            throws IOException\r\n        {\r\n            String fileName = &quot;dsa/openssl_dsa_&quot; + name + &quot;.pem&quot;;\r\n    \r\n            doOpenSslTestFile(fileName, DSAPrivateKey.class);\r\n        }\r\n    \r\n        private void doOpenSslRsaTest(\r\n            String name)\r\n            throws IOException\r\n        {\r\n            String fileName = &quot;rsa/openssl_rsa_&quot; + name + &quot;.pem&quot;;\r\n    \r\n            doOpenSslTestFile(fileName, RSAPrivateKey.class);\r\n        }\r\n    \r\n        private void doOpenSslTestFile(\r\n            String  fileName,\r\n            Class   expectedPrivKeyClass)\r\n            throws IOException\r\n        {\r\n            JcaPEMKeyConverter   converter = new JcaPEMKeyConverter().setProvider(&quot;BC&quot;);\r\n            PEMDecryptorProvider decProv = new JcePEMDecryptorProviderBuilder().setProvider(&quot;BC&quot;).build(&quot;changeit&quot;.toCharArray());\r\n            PEMParser pr = openPEMResource(&quot;data/&quot; + fileName);\r\n            Object o = pr.readObject();\r\n    \r\n            if (o == null || !((o instanceof PEMKeyPair) || (o instanceof PEMEncryptedKeyPair)))\r\n            {\r\n                fail(&quot;Didn&#39;t find OpenSSL key&quot;);\r\n            }\r\n    \r\n            KeyPair kp = (o instanceof PEMEncryptedKeyPair) ?\r\n                converter.getKeyPair(((PEMEncryptedKeyPair)o).decryptKeyPair(decProv)) : converter.getKeyPair((PEMKeyPair)o);\r\n    \r\n            PrivateKey privKey = kp.getPrivate();\r\n    \r\n            if (!expectedPrivKeyClass.isInstance(privKey))\r\n            {\r\n                fail(&quot;Returned key not of correct type&quot;);\r\n            }\r\n        }\r\n    \r\n        private void doDudPasswordTest(String password, int index, String message)\r\n        {\r\n            // illegal state exception check - in this case the wrong password will\r\n            // cause an underlying class cast exception.\r\n            try\r\n            {\r\n                PEMDecryptorProvider decProv = new JcePEMDecryptorProviderBuilder().setProvider(&quot;BC&quot;).build(password.toCharArray());\r\n    \r\n                PEMParser pemRd = openPEMResource(&quot;test.pem&quot;);\r\n                Object o;\r\n    \r\n                while ((o = pemRd.readObject()) != null)\r\n                {\r\n                    if (o instanceof PEMEncryptedKeyPair)\r\n                    {\r\n                        ((PEMEncryptedKeyPair)o).decryptKeyPair(decProv);\r\n                    }\r\n                }\r\n    \r\n                fail(&quot;issue not detected: &quot; + index);\r\n            }\r\n            catch (IOException e)\r\n            {\r\n                if (e.getCause() != null &amp;&amp; !e.getCause().getMessage().endsWith(message))\r\n                {\r\n                   fail(&quot;issue &quot; + index + &quot; exception thrown, but wrong message&quot;);\r\n                }\r\n                else if (e.getCause() == null &amp;&amp; !e.getMessage().equals(message))\r\n                {\r\n                                   e.printStackTrace();\r\n                   fail(&quot;issue &quot; + index + &quot; exception thrown, but wrong message&quot;);\r\n                }\r\n            }\r\n        }\r\n    \r\n        private void doNoPasswordTest()\r\n            throws IOException\r\n        {\r\n            PEMDecryptorProvider decProv = new JcePEMDecryptorProviderBuilder().setProvider(&quot;BC&quot;).build(&quot;&quot;.toCharArray());\r\n    \r\n            PEMParser pemRd = openPEMResource(&quot;smimenopw.pem&quot;);\r\n            Object o;\r\n            PrivateKeyInfo key = null;\r\n    \r\n            while ((o = pemRd.readObject()) != null)\r\n            {\r\n                 key = (PrivateKeyInfo)o;\r\n            }\r\n    \r\n            if (key == null)\r\n            {\r\n                fail(&quot;private key not detected&quot;);\r\n            }\r\n        }\r\n    \r\n        public static void main(\r\n            String[]    args)\r\n        {\r\n            Security.addProvider(new BouncyCastleProvider());\r\n    \r\n            runTest(new ParserTest());\r\n        }\r\n    }\r\n\r\n  [1]: http://www.bouncycastle.org/docs/pkixdocs1.5on/org/bouncycastle/openssl/PEMParser.html\r\n  [2]: https://github.com/bcgit/bc-java/blob/53d17ef99e30c6bd49e6eec9235e3eefca6a222d/pkix/src/test/java/org/bouncycastle/openssl/test/ParserTest.java","title":"How to read .pem file to get private and public key","body":"<p>One option is to use bouncycastle's <a href=\"http://www.bouncycastle.org/docs/pkixdocs1.5on/org/bouncycastle/openssl/PEMParser.html\" rel=\"noreferrer\">PEMParser</a>:</p>\n\n<blockquote>\n  <p>Class for parsing OpenSSL PEM encoded streams containing X509\n  certificates, PKCS8 encoded keys and PKCS7 objects.</p>\n  \n  <p>In the case of PKCS7 objects the reader will return a CMS ContentInfo\n  object. Public keys will be returned as well formed\n  SubjectPublicKeyInfo objects, private keys will be returned as well\n  formed PrivateKeyInfo objects. In the case of a private key a\n  PEMKeyPair will normally be returned if the encoding contains both the\n  private and public key definition. CRLs, Certificates, PKCS#10\n  requests, and Attribute Certificates will generate the appropriate BC\n  holder class.</p>\n</blockquote>\n\n<p>Here is an example of using the <a href=\"https://github.com/bcgit/bc-java/blob/53d17ef99e30c6bd49e6eec9235e3eefca6a222d/pkix/src/test/java/org/bouncycastle/openssl/test/ParserTest.java\" rel=\"noreferrer\">Parser test code</a>:</p>\n\n<pre><code>package org.bouncycastle.openssl.test;\n\nimport java.io.BufferedReader;\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.OutputStreamWriter;\nimport java.io.Reader;\nimport java.math.BigInteger;\nimport java.security.KeyPair;\nimport java.security.KeyPairGenerator;\nimport java.security.PrivateKey;\nimport java.security.PublicKey;\nimport java.security.SecureRandom;\nimport java.security.Security;\nimport java.security.Signature;\nimport java.security.interfaces.DSAPrivateKey;\nimport java.security.interfaces.RSAPrivateCrtKey;\nimport java.security.interfaces.RSAPrivateKey;\n\nimport org.bouncycastle.asn1.ASN1ObjectIdentifier;\nimport org.bouncycastle.asn1.cms.CMSObjectIdentifiers;\nimport org.bouncycastle.asn1.cms.ContentInfo;\nimport org.bouncycastle.asn1.pkcs.PrivateKeyInfo;\nimport org.bouncycastle.asn1.x509.SubjectPublicKeyInfo;\nimport org.bouncycastle.asn1.x9.ECNamedCurveTable;\nimport org.bouncycastle.asn1.x9.X9ECParameters;\nimport org.bouncycastle.cert.X509CertificateHolder;\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\nimport org.bouncycastle.openssl.PEMDecryptorProvider;\nimport org.bouncycastle.openssl.PEMEncryptedKeyPair;\nimport org.bouncycastle.openssl.PEMKeyPair;\nimport org.bouncycastle.openssl.PEMParser;\nimport org.bouncycastle.openssl.PEMWriter;\nimport org.bouncycastle.openssl.PasswordFinder;\nimport org.bouncycastle.openssl.jcajce.JcaPEMKeyConverter;\nimport org.bouncycastle.openssl.jcajce.JceOpenSSLPKCS8DecryptorProviderBuilder;\nimport org.bouncycastle.openssl.jcajce.JcePEMDecryptorProviderBuilder;\nimport org.bouncycastle.operator.InputDecryptorProvider;\nimport org.bouncycastle.pkcs.PKCS8EncryptedPrivateKeyInfo;\nimport org.bouncycastle.util.test.SimpleTest;\n\n/**\n * basic class for reading test.pem - the password is \"secret\"\n */\npublic class ParserTest\n    extends SimpleTest\n{\n    private static class Password\n        implements PasswordFinder\n    {\n        char[]  password;\n\n        Password(\n            char[] word)\n        {\n            this.password = word;\n        }\n\n        public char[] getPassword()\n        {\n            return password;\n        }\n    }\n\n    public String getName()\n    {\n        return \"PEMParserTest\";\n    }\n\n    private PEMParser openPEMResource(\n        String          fileName)\n    {\n        InputStream res = this.getClass().getResourceAsStream(fileName);\n        Reader fRd = new BufferedReader(new InputStreamReader(res));\n        return new PEMParser(fRd);\n    }\n\n    public void performTest()\n        throws Exception\n    {\n        PEMParser       pemRd = openPEMResource(\"test.pem\");\n        Object          o;\n        PEMKeyPair      pemPair;\n        KeyPair         pair;\n\n        while ((o = pemRd.readObject()) != null)\n        {\n            if (o instanceof KeyPair)\n            {\n                //pair = (KeyPair)o;\n\n                //System.out.println(pair.getPublic());\n                //System.out.println(pair.getPrivate());\n            }\n            else\n            {\n                //System.out.println(o.toString());\n            }\n        }\n\n        // test bogus lines before begin are ignored.\n        pemRd = openPEMResource(\"extratest.pem\");\n\n        while ((o = pemRd.readObject()) != null)\n        {\n            if (!(o instanceof X509CertificateHolder))\n            {\n                fail(\"wrong object found\");\n            }\n        }\n\n        //\n        // pkcs 7 data\n        //\n        pemRd = openPEMResource(\"pkcs7.pem\");\n        ContentInfo d = (ContentInfo)pemRd.readObject();\n\n        if (!d.getContentType().equals(CMSObjectIdentifiers.envelopedData))\n        {\n            fail(\"failed envelopedData check\");\n        }\n\n        //\n        // ECKey\n        //\n        pemRd = openPEMResource(\"eckey.pem\");\n        ASN1ObjectIdentifier ecOID = (ASN1ObjectIdentifier)pemRd.readObject();\n        X9ECParameters ecSpec = ECNamedCurveTable.getByOID(ecOID);\n\n        if (ecSpec == null)\n        {\n            fail(\"ecSpec not found for named curve\");\n        }\n\n        pemPair = (PEMKeyPair)pemRd.readObject();\n\n        pair = new JcaPEMKeyConverter().setProvider(\"BC\").getKeyPair(pemPair);\n\n        Signature sgr = Signature.getInstance(\"ECDSA\", \"BC\");\n\n        sgr.initSign(pair.getPrivate());\n\n        byte[] message = new byte[] { (byte)'a', (byte)'b', (byte)'c' };\n\n        sgr.update(message);\n\n        byte[]  sigBytes = sgr.sign();\n\n        sgr.initVerify(pair.getPublic());\n\n        sgr.update(message);\n\n        if (!sgr.verify(sigBytes))\n        {\n            fail(\"EC verification failed\");\n        }\n\n        if (!pair.getPublic().getAlgorithm().equals(\"ECDSA\"))\n        {\n            fail(\"wrong algorithm name on public got: \" + pair.getPublic().getAlgorithm());\n        }\n\n        if (!pair.getPrivate().getAlgorithm().equals(\"ECDSA\"))\n        {\n            fail(\"wrong algorithm name on private\");\n        }\n\n        //\n        // ECKey -- explicit parameters\n        //\n        pemRd = openPEMResource(\"ecexpparam.pem\");\n        ecSpec = (X9ECParameters)pemRd.readObject();\n\n        pemPair = (PEMKeyPair)pemRd.readObject();\n\n        pair = new JcaPEMKeyConverter().setProvider(\"BC\").getKeyPair(pemPair);\n\n        sgr = Signature.getInstance(\"ECDSA\", \"BC\");\n\n        sgr.initSign(pair.getPrivate());\n\n        message = new byte[] { (byte)'a', (byte)'b', (byte)'c' };\n\n        sgr.update(message);\n\n        sigBytes = sgr.sign();\n\n        sgr.initVerify(pair.getPublic());\n\n        sgr.update(message);\n\n        if (!sgr.verify(sigBytes))\n        {\n            fail(\"EC verification failed\");\n        }\n\n        if (!pair.getPublic().getAlgorithm().equals(\"ECDSA\"))\n        {\n            fail(\"wrong algorithm name on public got: \" + pair.getPublic().getAlgorithm());\n        }\n\n        if (!pair.getPrivate().getAlgorithm().equals(\"ECDSA\"))\n        {\n            fail(\"wrong algorithm name on private\");\n        }\n\n        //\n        // writer/parser test\n        //\n        KeyPairGenerator      kpGen = KeyPairGenerator.getInstance(\"RSA\", \"BC\");\n\n        pair = kpGen.generateKeyPair();\n\n        keyPairTest(\"RSA\", pair);\n\n        kpGen = KeyPairGenerator.getInstance(\"DSA\", \"BC\");\n        kpGen.initialize(512, new SecureRandom());\n        pair = kpGen.generateKeyPair();\n\n        keyPairTest(\"DSA\", pair);\n\n        //\n        // PKCS7\n        //\n        ByteArrayOutputStream bOut = new ByteArrayOutputStream();\n        PEMWriter             pWrt = new PEMWriter(new OutputStreamWriter(bOut));\n\n        pWrt.writeObject(d);\n\n        pWrt.close();\n\n        pemRd = new PEMParser(new InputStreamReader(new ByteArrayInputStream(bOut.toByteArray())));\n        d = (ContentInfo)pemRd.readObject();\n\n        if (!d.getContentType().equals(CMSObjectIdentifiers.envelopedData))\n        {\n            fail(\"failed envelopedData recode check\");\n        }\n\n\n        // OpenSSL test cases (as embedded resources)\n        doOpenSslDsaTest(\"unencrypted\");\n        doOpenSslRsaTest(\"unencrypted\");\n\n        doOpenSslTests(\"aes128\");\n        doOpenSslTests(\"aes192\");\n        doOpenSslTests(\"aes256\");\n        doOpenSslTests(\"blowfish\");\n        doOpenSslTests(\"des1\");\n        doOpenSslTests(\"des2\");\n        doOpenSslTests(\"des3\");\n        doOpenSslTests(\"rc2_128\");\n\n        doOpenSslDsaTest(\"rc2_40_cbc\");\n        doOpenSslRsaTest(\"rc2_40_cbc\");\n        doOpenSslDsaTest(\"rc2_64_cbc\");\n        doOpenSslRsaTest(\"rc2_64_cbc\");\n\n        doDudPasswordTest(\"7fd98\", 0, \"corrupted stream - out of bounds length found\");\n        doDudPasswordTest(\"ef677\", 1, \"corrupted stream - out of bounds length found\");\n        doDudPasswordTest(\"800ce\", 2, \"unknown tag 26 encountered\");\n        doDudPasswordTest(\"b6cd8\", 3, \"DEF length 81 object truncated by 56\");\n        doDudPasswordTest(\"28ce09\", 4, \"DEF length 110 object truncated by 28\");\n        doDudPasswordTest(\"2ac3b9\", 5, \"DER length more than 4 bytes: 11\");\n        doDudPasswordTest(\"2cba96\", 6, \"DEF length 100 object truncated by 35\");\n        doDudPasswordTest(\"2e3354\", 7, \"DEF length 42 object truncated by 9\");\n        doDudPasswordTest(\"2f4142\", 8, \"DER length more than 4 bytes: 14\");\n        doDudPasswordTest(\"2fe9bb\", 9, \"DER length more than 4 bytes: 65\");\n        doDudPasswordTest(\"3ee7a8\", 10, \"DER length more than 4 bytes: 57\");\n        doDudPasswordTest(\"41af75\", 11, \"unknown tag 16 encountered\");\n        doDudPasswordTest(\"1704a5\", 12, \"corrupted stream detected\");\n        doDudPasswordTest(\"1c5822\", 13, \"unknown object in getInstance: org.bouncycastle.asn1.DERUTF8String\");\n        doDudPasswordTest(\"5a3d16\", 14, \"corrupted stream detected\");\n        doDudPasswordTest(\"8d0c97\", 15, \"corrupted stream detected\");\n        doDudPasswordTest(\"bc0daf\", 16, \"corrupted stream detected\");\n        doDudPasswordTest(\"aaf9c4d\",17, \"corrupted stream - out of bounds length found\");\n\n        doNoPasswordTest();\n\n        // encrypted private key test\n        InputDecryptorProvider pkcs8Prov = new JceOpenSSLPKCS8DecryptorProviderBuilder().build(\"password\".toCharArray());\n        pemRd = openPEMResource(\"enckey.pem\");\n\n        PKCS8EncryptedPrivateKeyInfo encPrivKeyInfo = (PKCS8EncryptedPrivateKeyInfo)pemRd.readObject();\n        JcaPEMKeyConverter   converter = new JcaPEMKeyConverter().setProvider(\"BC\");\n\n        RSAPrivateCrtKey privKey = (RSAPrivateCrtKey)converter.getPrivateKey(encPrivKeyInfo.decryptPrivateKeyInfo(pkcs8Prov));\n\n        if (!privKey.getPublicExponent().equals(new BigInteger(\"10001\", 16)))\n        {\n            fail(\"decryption of private key data check failed\");\n        }\n\n        // general PKCS8 test\n\n        pemRd = openPEMResource(\"pkcs8test.pem\");\n\n        Object privInfo;\n\n        while ((privInfo = pemRd.readObject()) != null)\n        {\n            if (privInfo instanceof PrivateKeyInfo)\n            {\n                privKey = (RSAPrivateCrtKey)converter.getPrivateKey(PrivateKeyInfo.getInstance(privInfo));\n            }\n            else\n            {\n                privKey = (RSAPrivateCrtKey)converter.getPrivateKey(((PKCS8EncryptedPrivateKeyInfo)privInfo).decryptPrivateKeyInfo(pkcs8Prov));\n            }\n            if (!privKey.getPublicExponent().equals(new BigInteger(\"10001\", 16)))\n            {\n                fail(\"decryption of private key data check failed\");\n            }\n        }\n    }\n\n    private void keyPairTest(\n        String   name,\n        KeyPair pair) \n        throws IOException\n    {\n        PEMParser pemRd;\n        ByteArrayOutputStream bOut = new ByteArrayOutputStream();\n        PEMWriter             pWrt = new PEMWriter(new OutputStreamWriter(bOut));\n\n        pWrt.writeObject(pair.getPublic());\n\n        pWrt.close();\n\n        pemRd = new PEMParser(new InputStreamReader(new ByteArrayInputStream(bOut.toByteArray())));\n\n        SubjectPublicKeyInfo pub = SubjectPublicKeyInfo.getInstance(pemRd.readObject());\n        JcaPEMKeyConverter   converter = new JcaPEMKeyConverter().setProvider(\"BC\");\n\n        PublicKey k = converter.getPublicKey(pub);\n\n        if (!k.equals(pair.getPublic()))\n        {\n            fail(\"Failed public key read: \" + name);\n        }\n\n        bOut = new ByteArrayOutputStream();\n        pWrt = new PEMWriter(new OutputStreamWriter(bOut));\n\n        pWrt.writeObject(pair.getPrivate());\n\n        pWrt.close();\n\n        pemRd = new PEMParser(new InputStreamReader(new ByteArrayInputStream(bOut.toByteArray())));\n\n        KeyPair kPair = converter.getKeyPair((PEMKeyPair)pemRd.readObject());\n        if (!kPair.getPrivate().equals(pair.getPrivate()))\n        {\n            fail(\"Failed private key read: \" + name);\n        }\n\n        if (!kPair.getPublic().equals(pair.getPublic()))\n        {\n            fail(\"Failed private key public read: \" + name);\n        }\n    }\n\n    private void doOpenSslTests(\n        String baseName)\n        throws IOException\n    {\n        doOpenSslDsaModesTest(baseName);\n        doOpenSslRsaModesTest(baseName);\n    }\n\n    private void doOpenSslDsaModesTest(\n        String baseName)\n        throws IOException\n    {\n        doOpenSslDsaTest(baseName + \"_cbc\");\n        doOpenSslDsaTest(baseName + \"_cfb\");\n        doOpenSslDsaTest(baseName + \"_ecb\");\n        doOpenSslDsaTest(baseName + \"_ofb\");\n    }\n\n    private void doOpenSslRsaModesTest(\n        String baseName)\n        throws IOException\n    {\n        doOpenSslRsaTest(baseName + \"_cbc\");\n        doOpenSslRsaTest(baseName + \"_cfb\");\n        doOpenSslRsaTest(baseName + \"_ecb\");\n        doOpenSslRsaTest(baseName + \"_ofb\");\n    }\n\n    private void doOpenSslDsaTest(\n        String name)\n        throws IOException\n    {\n        String fileName = \"dsa/openssl_dsa_\" + name + \".pem\";\n\n        doOpenSslTestFile(fileName, DSAPrivateKey.class);\n    }\n\n    private void doOpenSslRsaTest(\n        String name)\n        throws IOException\n    {\n        String fileName = \"rsa/openssl_rsa_\" + name + \".pem\";\n\n        doOpenSslTestFile(fileName, RSAPrivateKey.class);\n    }\n\n    private void doOpenSslTestFile(\n        String  fileName,\n        Class   expectedPrivKeyClass)\n        throws IOException\n    {\n        JcaPEMKeyConverter   converter = new JcaPEMKeyConverter().setProvider(\"BC\");\n        PEMDecryptorProvider decProv = new JcePEMDecryptorProviderBuilder().setProvider(\"BC\").build(\"changeit\".toCharArray());\n        PEMParser pr = openPEMResource(\"data/\" + fileName);\n        Object o = pr.readObject();\n\n        if (o == null || !((o instanceof PEMKeyPair) || (o instanceof PEMEncryptedKeyPair)))\n        {\n            fail(\"Didn't find OpenSSL key\");\n        }\n\n        KeyPair kp = (o instanceof PEMEncryptedKeyPair) ?\n            converter.getKeyPair(((PEMEncryptedKeyPair)o).decryptKeyPair(decProv)) : converter.getKeyPair((PEMKeyPair)o);\n\n        PrivateKey privKey = kp.getPrivate();\n\n        if (!expectedPrivKeyClass.isInstance(privKey))\n        {\n            fail(\"Returned key not of correct type\");\n        }\n    }\n\n    private void doDudPasswordTest(String password, int index, String message)\n    {\n        // illegal state exception check - in this case the wrong password will\n        // cause an underlying class cast exception.\n        try\n        {\n            PEMDecryptorProvider decProv = new JcePEMDecryptorProviderBuilder().setProvider(\"BC\").build(password.toCharArray());\n\n            PEMParser pemRd = openPEMResource(\"test.pem\");\n            Object o;\n\n            while ((o = pemRd.readObject()) != null)\n            {\n                if (o instanceof PEMEncryptedKeyPair)\n                {\n                    ((PEMEncryptedKeyPair)o).decryptKeyPair(decProv);\n                }\n            }\n\n            fail(\"issue not detected: \" + index);\n        }\n        catch (IOException e)\n        {\n            if (e.getCause() != null &amp;&amp; !e.getCause().getMessage().endsWith(message))\n            {\n               fail(\"issue \" + index + \" exception thrown, but wrong message\");\n            }\n            else if (e.getCause() == null &amp;&amp; !e.getMessage().equals(message))\n            {\n                               e.printStackTrace();\n               fail(\"issue \" + index + \" exception thrown, but wrong message\");\n            }\n        }\n    }\n\n    private void doNoPasswordTest()\n        throws IOException\n    {\n        PEMDecryptorProvider decProv = new JcePEMDecryptorProviderBuilder().setProvider(\"BC\").build(\"\".toCharArray());\n\n        PEMParser pemRd = openPEMResource(\"smimenopw.pem\");\n        Object o;\n        PrivateKeyInfo key = null;\n\n        while ((o = pemRd.readObject()) != null)\n        {\n             key = (PrivateKeyInfo)o;\n        }\n\n        if (key == null)\n        {\n            fail(\"private key not detected\");\n        }\n    }\n\n    public static void main(\n        String[]    args)\n    {\n        Security.addProvider(new BouncyCastleProvider());\n\n        runTest(new ParserTest());\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6289696,"reputation":1155,"user_id":4887806,"accept_rate":73,"display_name":"Hooli"},"score":7,"creation_date":1471629370,"post_id":27621696,"comment_id":65439882,"body_markdown":"`Only RSAPublicKeySpec and X509EncodedKeySpec supported for RSA public keys`. Switched to `X509EncodedKeySpec` and then got `java.security.InvalidKeyException: IOException: DerInputStream.getLength(): lengthTag=111, too big.`. This is with a pem file generated by AWS EC2","body":"<code>Only RSAPublicKeySpec and X509EncodedKeySpec supported for RSA public keys</code>. Switched to <code>X509EncodedKeySpec</code> and then got <code>java.security.InvalidKeyException: IOException: DerInputStream.getLength(): lengthTag=111, too big.</code>. This is with a pem file generated by AWS EC2"},{"owner":{"account_id":4112953,"reputation":2266,"user_id":3375325,"accept_rate":71,"display_name":"jansohn"},"score":2,"creation_date":1506522705,"post_id":27621696,"comment_id":79856766,"body_markdown":"@Hooli you need to use `RSAPublicKeySpec` as your public key seems to be in `PKCS#1` format and not in `PKCS#8` format. In the latter case you need to use `X509EncodedKeySpec` (and not `PKCS8EncodedKeySpec` as the answer currently states). You can distinguish between the two by taking a look at the header, `BEGIN RSA PUBLIC KEY` vs. `BEGIN PUBLIC KEY`.","body":"@Hooli you need to use <code>RSAPublicKeySpec</code> as your public key seems to be in <code>PKCS#1</code> format and not in <code>PKCS#8</code> format. In the latter case you need to use <code>X509EncodedKeySpec</code> (and not <code>PKCS8EncodedKeySpec</code> as the answer currently states). You can distinguish between the two by taking a look at the header, <code>BEGIN RSA PUBLIC KEY</code> vs. <code>BEGIN PUBLIC KEY</code>."},{"owner":{"account_id":4112953,"reputation":2266,"user_id":3375325,"accept_rate":71,"display_name":"jansohn"},"score":0,"creation_date":1506678913,"post_id":27621696,"comment_id":79927097,"body_markdown":"BTW, I haven&#39;t found a possibility to programmatically extract the modulus and public exponent needed for the constructor of `RSAPublicKeySpec`. So it&#39;s probably easier to just convert from `PKCS#1` to `PKCS#8` with `openssl` or similar programs...","body":"BTW, I haven&#39;t found a possibility to programmatically extract the modulus and public exponent needed for the constructor of <code>RSAPublicKeySpec</code>. So it&#39;s probably easier to just convert from <code>PKCS#1</code> to <code>PKCS#8</code> with <code>openssl</code> or similar programs..."},{"owner":{"account_id":93441,"reputation":309,"user_id":255645,"display_name":"Andries"},"score":0,"creation_date":1517070750,"post_id":27621696,"comment_id":83948986,"body_markdown":"Thanx this actually works. What is weird is that Java makes it easy to read the public cert, but hard to read the private key.","body":"Thanx this actually works. What is weird is that Java makes it easy to read the public cert, but hard to read the private key."},{"owner":{"account_id":146539,"reputation":1246,"user_id":357033,"accept_rate":40,"display_name":"Deian"},"score":0,"creation_date":1550008519,"post_id":27621696,"comment_id":96110039,"body_markdown":"This works, however I had to convert the private key to pks8 format:  openssl pkcs8 -topk8 -inform PEM -outform PEM -nocrypt -in &lt;file-name&gt; -out &lt;file-name&gt;","body":"This works, however I had to convert the private key to pks8 format:  openssl pkcs8 -topk8 -inform PEM -outform PEM -nocrypt -in &lt;file-name&gt; -out &lt;file-name&gt;"},{"owner":{"account_id":991127,"reputation":2249,"user_id":1008411,"accept_rate":67,"display_name":"sakura"},"score":0,"creation_date":1617200034,"post_id":27621696,"comment_id":118238124,"body_markdown":"my pem file contains bag attributes as well. will it be discarded?","body":"my pem file contains bag attributes as well. will it be discarded?"},{"owner":{"account_id":6283683,"reputation":3277,"user_id":4883754,"display_name":"Jess Chen"},"score":0,"creation_date":1669823928,"post_id":27621696,"comment_id":131731983,"body_markdown":"You should not use &quot;\\n&quot;, it will raise an error if you use a PEM file from windows.","body":"You should not use &quot;\\n&quot;, it will raise an error if you use a PEM file from windows."}],"tags":[],"owner":{"account_id":3673303,"reputation":1737,"user_id":3059941,"display_name":"srsajid"},"comment_count":7,"down_vote_count":1,"up_vote_count":47,"is_accepted":false,"score":46,"last_activity_date":1506528391,"creation_date":1419342545,"answer_id":27621696,"question_id":11787571,"body_markdown":"**Try this class.** \r\n\r\n    package groovy;\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.security.GeneralSecurityException;\r\n    import java.security.InvalidKeyException;\r\n    import java.security.KeyFactory;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.PrivateKey;\r\n    import java.security.PublicKey;\r\n    import java.security.Signature;\r\n    import java.security.SignatureException;\r\n    import java.security.interfaces.RSAPrivateKey;\r\n    import java.security.interfaces.RSAPublicKey;\r\n    import java.security.spec.PKCS8EncodedKeySpec;\r\n    import java.security.spec.X509EncodedKeySpec;\r\n    \r\n    import javax.crypto.Cipher;\r\n    \r\n    import org.apache.commons.codec.binary.Base64;\r\n    \r\n    public class RSA {\r\n\r\n    private static String getKey(String filename) throws IOException {\r\n        // Read key from file\r\n        String strKeyPEM = &quot;&quot;;\r\n        BufferedReader br = new BufferedReader(new FileReader(filename));\r\n        String line;\r\n        while ((line = br.readLine()) != null) {\r\n            strKeyPEM += line + &quot;\\n&quot;;\r\n        }\r\n        br.close();\r\n        return strKeyPEM;\r\n    }\r\n    public static RSAPrivateKey getPrivateKey(String filename) throws IOException, GeneralSecurityException {\r\n        String privateKeyPEM = getKey(filename);\r\n        return getPrivateKeyFromString(privateKeyPEM);\r\n    }\r\n\r\n    public static RSAPrivateKey getPrivateKeyFromString(String key) throws IOException, GeneralSecurityException {\r\n        String privateKeyPEM = key;\r\n        privateKeyPEM = privateKeyPEM.replace(&quot;-----BEGIN PRIVATE KEY-----\\n&quot;, &quot;&quot;);\r\n        privateKeyPEM = privateKeyPEM.replace(&quot;-----END PRIVATE KEY-----&quot;, &quot;&quot;);\r\n        byte[] encoded = Base64.decodeBase64(privateKeyPEM);\r\n        KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(encoded);\r\n        RSAPrivateKey privKey = (RSAPrivateKey) kf.generatePrivate(keySpec);\r\n        return privKey;\r\n    }\r\n\r\n\r\n    public static RSAPublicKey getPublicKey(String filename) throws IOException, GeneralSecurityException {\r\n        String publicKeyPEM = getKey(filename);\r\n        return getPublicKeyFromString(publicKeyPEM);\r\n    }\r\n\r\n    public static RSAPublicKey getPublicKeyFromString(String key) throws IOException, GeneralSecurityException {\r\n        String publicKeyPEM = key;\r\n        publicKeyPEM = publicKeyPEM.replace(&quot;-----BEGIN PUBLIC KEY-----\\n&quot;, &quot;&quot;);\r\n        publicKeyPEM = publicKeyPEM.replace(&quot;-----END PUBLIC KEY-----&quot;, &quot;&quot;);\r\n        byte[] encoded = Base64.decodeBase64(publicKeyPEM);\r\n        KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        RSAPublicKey pubKey = (RSAPublicKey) kf.generatePublic(new X509EncodedKeySpec(encoded));\r\n        return pubKey;\r\n    }\r\n\r\n    public static String sign(PrivateKey privateKey, String message) throws NoSuchAlgorithmException, InvalidKeyException, SignatureException, UnsupportedEncodingException {\r\n        Signature sign = Signature.getInstance(&quot;SHA1withRSA&quot;);\r\n        sign.initSign(privateKey);\r\n        sign.update(message.getBytes(&quot;UTF-8&quot;));\r\n        return new String(Base64.encodeBase64(sign.sign()), &quot;UTF-8&quot;);\r\n    }\r\n\r\n\r\n    public static boolean verify(PublicKey publicKey, String message, String signature) throws SignatureException, NoSuchAlgorithmException, UnsupportedEncodingException, InvalidKeyException {\r\n        Signature sign = Signature.getInstance(&quot;SHA1withRSA&quot;);\r\n        sign.initVerify(publicKey);\r\n        sign.update(message.getBytes(&quot;UTF-8&quot;));\r\n        return sign.verify(Base64.decodeBase64(signature.getBytes(&quot;UTF-8&quot;)));\r\n    }\r\n\r\n    public static String encrypt(String rawText, PublicKey publicKey) throws IOException, GeneralSecurityException {\r\n        Cipher cipher = Cipher.getInstance(&quot;RSA&quot;);\r\n        cipher.init(Cipher.ENCRYPT_MODE, publicKey);\r\n        return Base64.encodeBase64String(cipher.doFinal(rawText.getBytes(&quot;UTF-8&quot;)));\r\n    }\r\n\r\n    public static String decrypt(String cipherText, PrivateKey privateKey) throws IOException, GeneralSecurityException {\r\n        Cipher cipher = Cipher.getInstance(&quot;RSA&quot;);\r\n        cipher.init(Cipher.DECRYPT_MODE, privateKey);\r\n        return new String(cipher.doFinal(Base64.decodeBase64(cipherText)), &quot;UTF-8&quot;);\r\n    }\r\n    }\r\n\r\n    \r\n    Required jar library &quot;common-codec-1.6&quot;","title":"How to read .pem file to get private and public key","body":"<p><strong>Try this class.</strong> </p>\n\n<pre><code>package groovy;\n\nimport java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.io.UnsupportedEncodingException;\nimport java.security.GeneralSecurityException;\nimport java.security.InvalidKeyException;\nimport java.security.KeyFactory;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.PrivateKey;\nimport java.security.PublicKey;\nimport java.security.Signature;\nimport java.security.SignatureException;\nimport java.security.interfaces.RSAPrivateKey;\nimport java.security.interfaces.RSAPublicKey;\nimport java.security.spec.PKCS8EncodedKeySpec;\nimport java.security.spec.X509EncodedKeySpec;\n\nimport javax.crypto.Cipher;\n\nimport org.apache.commons.codec.binary.Base64;\n\npublic class RSA {\n\nprivate static String getKey(String filename) throws IOException {\n    // Read key from file\n    String strKeyPEM = \"\";\n    BufferedReader br = new BufferedReader(new FileReader(filename));\n    String line;\n    while ((line = br.readLine()) != null) {\n        strKeyPEM += line + \"\\n\";\n    }\n    br.close();\n    return strKeyPEM;\n}\npublic static RSAPrivateKey getPrivateKey(String filename) throws IOException, GeneralSecurityException {\n    String privateKeyPEM = getKey(filename);\n    return getPrivateKeyFromString(privateKeyPEM);\n}\n\npublic static RSAPrivateKey getPrivateKeyFromString(String key) throws IOException, GeneralSecurityException {\n    String privateKeyPEM = key;\n    privateKeyPEM = privateKeyPEM.replace(\"-----BEGIN PRIVATE KEY-----\\n\", \"\");\n    privateKeyPEM = privateKeyPEM.replace(\"-----END PRIVATE KEY-----\", \"\");\n    byte[] encoded = Base64.decodeBase64(privateKeyPEM);\n    KeyFactory kf = KeyFactory.getInstance(\"RSA\");\n    PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(encoded);\n    RSAPrivateKey privKey = (RSAPrivateKey) kf.generatePrivate(keySpec);\n    return privKey;\n}\n\n\npublic static RSAPublicKey getPublicKey(String filename) throws IOException, GeneralSecurityException {\n    String publicKeyPEM = getKey(filename);\n    return getPublicKeyFromString(publicKeyPEM);\n}\n\npublic static RSAPublicKey getPublicKeyFromString(String key) throws IOException, GeneralSecurityException {\n    String publicKeyPEM = key;\n    publicKeyPEM = publicKeyPEM.replace(\"-----BEGIN PUBLIC KEY-----\\n\", \"\");\n    publicKeyPEM = publicKeyPEM.replace(\"-----END PUBLIC KEY-----\", \"\");\n    byte[] encoded = Base64.decodeBase64(publicKeyPEM);\n    KeyFactory kf = KeyFactory.getInstance(\"RSA\");\n    RSAPublicKey pubKey = (RSAPublicKey) kf.generatePublic(new X509EncodedKeySpec(encoded));\n    return pubKey;\n}\n\npublic static String sign(PrivateKey privateKey, String message) throws NoSuchAlgorithmException, InvalidKeyException, SignatureException, UnsupportedEncodingException {\n    Signature sign = Signature.getInstance(\"SHA1withRSA\");\n    sign.initSign(privateKey);\n    sign.update(message.getBytes(\"UTF-8\"));\n    return new String(Base64.encodeBase64(sign.sign()), \"UTF-8\");\n}\n\n\npublic static boolean verify(PublicKey publicKey, String message, String signature) throws SignatureException, NoSuchAlgorithmException, UnsupportedEncodingException, InvalidKeyException {\n    Signature sign = Signature.getInstance(\"SHA1withRSA\");\n    sign.initVerify(publicKey);\n    sign.update(message.getBytes(\"UTF-8\"));\n    return sign.verify(Base64.decodeBase64(signature.getBytes(\"UTF-8\")));\n}\n\npublic static String encrypt(String rawText, PublicKey publicKey) throws IOException, GeneralSecurityException {\n    Cipher cipher = Cipher.getInstance(\"RSA\");\n    cipher.init(Cipher.ENCRYPT_MODE, publicKey);\n    return Base64.encodeBase64String(cipher.doFinal(rawText.getBytes(\"UTF-8\")));\n}\n\npublic static String decrypt(String cipherText, PrivateKey privateKey) throws IOException, GeneralSecurityException {\n    Cipher cipher = Cipher.getInstance(\"RSA\");\n    cipher.init(Cipher.DECRYPT_MODE, privateKey);\n    return new String(cipher.doFinal(Base64.decodeBase64(cipherText)), \"UTF-8\");\n}\n}\n\n\nRequired jar library \"common-codec-1.6\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"score":0,"creation_date":1472935447,"post_id":34052479,"comment_id":65955179,"body_markdown":"Smandoli - I followed your suggestions but both ways its not working. Please refer http://stackoverflow.com/questions/39311157/only-rsaprivate-crt-keyspec-and-pkcs8encodedkeyspec-supported-for-rsa-private. I raise the issue too.","body":"Smandoli - I followed your suggestions but both ways its not working. Please refer <a href=\"http://stackoverflow.com/questions/39311157/only-rsaprivate-crt-keyspec-and-pkcs8encodedkeyspec-supported-for-rsa-private\" title=\"only rsaprivate crt keyspec and pkcs8encodedkeyspec supported for rsa private\">stackoverflow.com/questions/39311157/&hellip;</a>. I raise the issue too."}],"tags":[],"owner":{"account_id":7402104,"reputation":31,"user_id":5632199,"display_name":"user5632199"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1549356870,"creation_date":1449088459,"answer_id":34052479,"question_id":11787571,"body_markdown":"I think in your private key definition, You should replace:\r\n\r\n    X509EncodedKeySpec spec = new X509EncodedKeySpec(decoded);\r\n\r\nwith:\r\n\r\n    PKCS8EncodedKeySpec spec = new PKCS8EncodedKeySpec(decoded);\r\n\r\nLook your `openssl` command:\r\n\r\n    $openssl **pkcs8** -topk8 -inform PEM -outform PEM -in mykey.pem \\ -out private_key.pem -nocrypt\r\n\r\n\r\nAnd the java Exception: \r\n\r\n    Only PCKS8 codification ","title":"How to read .pem file to get private and public key","body":"<p>I think in your private key definition, You should replace:</p>\n\n<pre><code>X509EncodedKeySpec spec = new X509EncodedKeySpec(decoded);\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>PKCS8EncodedKeySpec spec = new PKCS8EncodedKeySpec(decoded);\n</code></pre>\n\n<p>Look your <code>openssl</code> command:</p>\n\n<pre><code>$openssl **pkcs8** -topk8 -inform PEM -outform PEM -in mykey.pem \\ -out private_key.pem -nocrypt\n</code></pre>\n\n<p>And the java Exception: </p>\n\n<pre><code>Only PCKS8 codification \n</code></pre>\n"},{"tags":[],"owner":{"account_id":93441,"reputation":309,"user_id":255645,"display_name":"Andries"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1517072856,"creation_date":1517072856,"answer_id":48478280,"question_id":11787571,"body_markdown":"Java libs makes it almost a one liner to read the public cert, as generated by openssl: \r\n\r\n   \r\n    val certificate: X509Certificate = ByteArrayInputStream(\r\n            publicKeyCert.toByteArray(Charsets.US_ASCII))\r\n            .use {\r\n                CertificateFactory.getInstance(&quot;X.509&quot;)\r\n                        .generateCertificate(it) as X509Certificate\r\n            }\r\n\r\nBut, o hell, reading the private key was problematic:\r\n\r\n1. First had to remove the begin and end tags, which is not nessarry when reading the public key.\r\n2. Then I had to remove all the new lines, otherwise it croaks! \r\n3. Then I had to decode back to bytes using byte 64\r\n4. Then I was able to produce an `RSAPrivateKey`.\r\n\r\nsee this: [Final solution in kotlin][1]\r\n\r\n\r\n  [1]: https://gist.github.com/darkstone/5fe9867b7fff499bed37c39467ba8a62","title":"How to read .pem file to get private and public key","body":"<p>Java libs makes it almost a one liner to read the public cert, as generated by openssl: </p>\n\n<pre><code>val certificate: X509Certificate = ByteArrayInputStream(\n        publicKeyCert.toByteArray(Charsets.US_ASCII))\n        .use {\n            CertificateFactory.getInstance(\"X.509\")\n                    .generateCertificate(it) as X509Certificate\n        }\n</code></pre>\n\n<p>But, o hell, reading the private key was problematic:</p>\n\n<ol>\n<li>First had to remove the begin and end tags, which is not nessarry when reading the public key.</li>\n<li>Then I had to remove all the new lines, otherwise it croaks! </li>\n<li>Then I had to decode back to bytes using byte 64</li>\n<li>Then I was able to produce an <code>RSAPrivateKey</code>.</li>\n</ol>\n\n<p>see this: <a href=\"https://gist.github.com/darkstone/5fe9867b7fff499bed37c39467ba8a62\" rel=\"nofollow noreferrer\">Final solution in kotlin</a></p>\n"},{"tags":[],"owner":{"account_id":3230016,"reputation":1114,"user_id":2725497,"display_name":"patrikbeno"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1567080701,"creation_date":1523361857,"answer_id":49753179,"question_id":11787571,"body_markdown":"Java 9+:\r\n\r\n\tprivate byte[] loadPEM(String resource) throws IOException {\r\n\t\tURL url = getClass().getResource(resource);\r\n\t\tInputStream in = url.openStream();\r\n\t\tString pem = new String(in.readAllBytes(), StandardCharsets.ISO_8859_1);\r\n\t\tPattern parse = Pattern.compile(&quot;(?m)(?s)^---*BEGIN.*---*$(.*)^---*END.*---*$.*&quot;);\r\n\t\tString encoded = parse.matcher(pem).replaceFirst(&quot;$1&quot;);\r\n\t\treturn Base64.getMimeDecoder().decode(encoded);\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void test() throws Exception {\r\n\t\tKeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n\t\tCertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n\t\tPrivateKey key = kf.generatePrivate(new PKCS8EncodedKeySpec(loadPEM(&quot;test.key&quot;)));\r\n\t\tPublicKey pub = kf.generatePublic(new X509EncodedKeySpec(loadPEM(&quot;test.pub&quot;)));\r\n\t\tCertificate crt = cf.generateCertificate(getClass().getResourceAsStream(&quot;test.crt&quot;));\r\n\t}\r\n\r\nJava 8:\r\n\r\nreplace the `in.readAllBytes()` call with a call to this:\r\n\r\n    byte[] readAllBytes(InputStream in) throws IOException {\r\n        ByteArrayOutputStream baos= new ByteArrayOutputStream();\r\n        byte[] buf = new byte[1024];\r\n        for (int read=0; read != -1; read = in.read(buf)) { baos.write(buf, 0, read); }\r\n        return baos.toByteArray();\r\n    }\r\n\r\nthanks to Daniel for noticing API compatibility issues","title":"How to read .pem file to get private and public key","body":"<p>Java 9+:</p>\n\n<pre><code>private byte[] loadPEM(String resource) throws IOException {\n    URL url = getClass().getResource(resource);\n    InputStream in = url.openStream();\n    String pem = new String(in.readAllBytes(), StandardCharsets.ISO_8859_1);\n    Pattern parse = Pattern.compile(\"(?m)(?s)^---*BEGIN.*---*$(.*)^---*END.*---*$.*\");\n    String encoded = parse.matcher(pem).replaceFirst(\"$1\");\n    return Base64.getMimeDecoder().decode(encoded);\n}\n\n@Test\npublic void test() throws Exception {\n    KeyFactory kf = KeyFactory.getInstance(\"RSA\");\n    CertificateFactory cf = CertificateFactory.getInstance(\"X.509\");\n    PrivateKey key = kf.generatePrivate(new PKCS8EncodedKeySpec(loadPEM(\"test.key\")));\n    PublicKey pub = kf.generatePublic(new X509EncodedKeySpec(loadPEM(\"test.pub\")));\n    Certificate crt = cf.generateCertificate(getClass().getResourceAsStream(\"test.crt\"));\n}\n</code></pre>\n\n<p>Java 8:</p>\n\n<p>replace the <code>in.readAllBytes()</code> call with a call to this:</p>\n\n<pre><code>byte[] readAllBytes(InputStream in) throws IOException {\n    ByteArrayOutputStream baos= new ByteArrayOutputStream();\n    byte[] buf = new byte[1024];\n    for (int read=0; read != -1; read = in.read(buf)) { baos.write(buf, 0, read); }\n    return baos.toByteArray();\n}\n</code></pre>\n\n<p>thanks to Daniel for noticing API compatibility issues</p>\n"},{"comments":[{"owner":{"account_id":3448645,"reputation":419,"user_id":2888788,"accept_rate":75,"display_name":"Malintha"},"score":0,"creation_date":1546925976,"post_id":53681692,"comment_id":95004500,"body_markdown":"We need to have &quot;openssl&quot; installed in the machine to use this?","body":"We need to have &quot;openssl&quot; installed in the machine to use this?"},{"owner":{"account_id":7423761,"reputation":17,"user_id":5647051,"display_name":"AndrewNo"},"score":0,"creation_date":1547024168,"post_id":53681692,"comment_id":95044838,"body_markdown":"Yes, i put this way of doing it because in the question openssl had already been used.","body":"Yes, i put this way of doing it because in the question openssl had already been used."}],"tags":[],"owner":{"account_id":7423761,"reputation":17,"user_id":5647051,"display_name":"AndrewNo"},"comment_count":2,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1544265583,"creation_date":1544265583,"answer_id":53681692,"question_id":11787571,"body_markdown":"To get the public key you can simply do:\r\n\r\n    public static PublicKey getPublicKeyFromCertFile(final String certfile){\r\n\r\n         return new X509CertImpl(new FileInputStream(new File(certfile))).getPublicKey();\r\n\r\n\r\nTo get the private key is trickier, you can:\r\n\r\n    public static PrivateKey getPrivateKeyFromKeyFile(final String keyfile){\r\n        try {\r\n            Process p;\r\n            p = Runtime.getRuntime().exec(&quot;openssl pkcs8 -nocrypt -topk8 -inform PEM &quot; +\r\n                    &quot;-in &quot; + keyfile + &quot; -outform DER -out &quot; + keyfile + &quot;.der&quot;);\r\n            \r\n            p.waitFor();\r\n            System.out.println(&quot;Command executed&quot; + (p.exitValue() == 0 ? &quot; successfully&quot; : &quot; with error&quot; ));\r\n        } catch ( IOException | InterruptedException e) {\r\n            e.printStackTrace();\r\n            System.exit(1);\r\n        }\r\n\r\n        PrivateKey myPrivKey = null;\r\n        try {\r\n            byte[] keyArray = Files.readAllBytes(Paths.get(keyfile + &quot;.der&quot;));\r\n            PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(keyArray);\r\n            KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n            myPrivKey = keyFactory.generatePrivate(keySpec);\r\n        } catch (IOException | NoSuchAlgorithmException | InvalidKeySpecException e){\r\n            e.printStackTrace();\r\n            System.exit(1);\r\n        }\r\n\r\n        return myPrivKey;\r\n    }","title":"How to read .pem file to get private and public key","body":"<p>To get the public key you can simply do:</p>\n\n<pre><code>public static PublicKey getPublicKeyFromCertFile(final String certfile){\n\n     return new X509CertImpl(new FileInputStream(new File(certfile))).getPublicKey();\n</code></pre>\n\n<p>To get the private key is trickier, you can:</p>\n\n<pre><code>public static PrivateKey getPrivateKeyFromKeyFile(final String keyfile){\n    try {\n        Process p;\n        p = Runtime.getRuntime().exec(\"openssl pkcs8 -nocrypt -topk8 -inform PEM \" +\n                \"-in \" + keyfile + \" -outform DER -out \" + keyfile + \".der\");\n\n        p.waitFor();\n        System.out.println(\"Command executed\" + (p.exitValue() == 0 ? \" successfully\" : \" with error\" ));\n    } catch ( IOException | InterruptedException e) {\n        e.printStackTrace();\n        System.exit(1);\n    }\n\n    PrivateKey myPrivKey = null;\n    try {\n        byte[] keyArray = Files.readAllBytes(Paths.get(keyfile + \".der\"));\n        PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(keyArray);\n        KeyFactory keyFactory = KeyFactory.getInstance(\"RSA\");\n        myPrivKey = keyFactory.generatePrivate(keySpec);\n    } catch (IOException | NoSuchAlgorithmException | InvalidKeySpecException e){\n        e.printStackTrace();\n        System.exit(1);\n    }\n\n    return myPrivKey;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13386014,"reputation":873,"user_id":9659885,"display_name":"Bharat Vasant"},"score":0,"creation_date":1620216380,"post_id":58703268,"comment_id":119133744,"body_markdown":"Possible to adapt same code for PublicKey ? Is the above code tested ? Try part of the code does not seem to have returning any value...","body":"Possible to adapt same code for PublicKey ? Is the above code tested ? Try part of the code does not seem to have returning any value..."},{"owner":{"account_id":5345230,"reputation":2477,"user_id":4260959,"accept_rate":70,"display_name":"auntyellow"},"score":0,"creation_date":1620307788,"post_id":58703268,"comment_id":119166563,"body_markdown":"`RSAPublicKeyImpl` (implements `RSAPublicKey`) is a part of `RSAPrivateCrtKeyImpl`: `getModulus` returns `n` and `getPublicExponent` returns `e`.","body":"<code>RSAPublicKeyImpl</code> (implements <code>RSAPublicKey</code>) is a part of <code>RSAPrivateCrtKeyImpl</code>: <code>getModulus</code> returns <code>n</code> and <code>getPublicExponent</code> returns <code>e</code>."},{"owner":{"account_id":5345230,"reputation":2477,"user_id":4260959,"accept_rate":70,"display_name":"auntyellow"},"score":0,"creation_date":1620308020,"post_id":58703268,"comment_id":119166687,"body_markdown":"just use `Cipher.getInstance(&quot;RSA&quot;)` or `Signature.getInstance(&quot;RSA...&quot;)` to load `RSAPublicKey` or `RSAPrivateCrtKey`, and JCE will do encrypt/decrypt/sign/verify with these parameters.","body":"just use <code>Cipher.getInstance(&quot;RSA&quot;)</code> or <code>Signature.getInstance(&quot;RSA...&quot;)</code> to load <code>RSAPublicKey</code> or <code>RSAPrivateCrtKey</code>, and JCE will do encrypt/decrypt/sign/verify with these parameters."}],"tags":[],"owner":{"account_id":5345230,"reputation":2477,"user_id":4260959,"accept_rate":70,"display_name":"auntyellow"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1572917596,"creation_date":1572917596,"answer_id":58703268,"question_id":11787571,"body_markdown":"If a PEM contains only one RSA private key without encryption, it must be an ASN.1 sequence structure including 9 numbers to present a *Chinese Remainder Theorem* (CRT) key:\r\n\r\n 1. version (always 0)\r\n 2. modulus (n)\r\n 3. public exponent (e, always 65537)\r\n 4. private exponent (d)\r\n 5. prime p\r\n 6. prime q\r\n 7. d mod (p - 1) (dp)\r\n 8. d mod (q - 1) (dq)\r\n 9. q^-1 mod p (qinv)\r\n\r\nWe can implement an `RSAPrivateCrtKey`:\r\n\r\n\tclass RSAPrivateCrtKeyImpl implements RSAPrivateCrtKey {\r\n\t\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\t\tBigInteger n, e, d, p, q, dp, dq, qinv;\r\n\t\r\n\t\t@Override\r\n\t\tpublic BigInteger getModulus() {\r\n\t\t\treturn n;\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic BigInteger getPublicExponent() {\r\n\t\t\treturn e;\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic BigInteger getPrivateExponent() {\r\n\t\t\treturn d;\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic BigInteger getPrimeP() {\r\n\t\t\treturn p;\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic BigInteger getPrimeQ() {\r\n\t\t\treturn q;\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic BigInteger getPrimeExponentP() {\r\n\t\t\treturn dp;\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic BigInteger getPrimeExponentQ() {\r\n\t\t\treturn dq;\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic BigInteger getCrtCoefficient() {\r\n\t\t\treturn qinv;\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic String getAlgorithm() {\r\n\t\t\treturn &quot;RSA&quot;;\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic String getFormat() {\r\n\t\t\tthrow new UnsupportedOperationException();\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic byte[] getEncoded() {\r\n\t\t\tthrow new UnsupportedOperationException();\r\n\t\t}\r\n\t}\r\n\r\nThen read the private key from a PEM file:\r\n\r\n    import sun.security.util.DerInputStream;\r\n    import sun.security.util.DerValue;\r\n\r\n    static RSAPrivateCrtKey getRSAPrivateKey(String keyFile) {\r\n\t\tRSAPrivateCrtKeyImpl prvKey = new RSAPrivateCrtKeyImpl();\r\n\t\ttry (BufferedReader in = new BufferedReader(new FileReader(keyFile))) {\r\n\t\t\tStringBuilder sb = new StringBuilder();\r\n\t\t\tString line;\r\n\t\t\twhile ((line = in.readLine()) != null) {\r\n                // skip &quot;-----BEGIN/END RSA PRIVATE KEY-----&quot;\r\n\t\t\t\tif (!line.startsWith(&quot;--&quot;) || !line.endsWith(&quot;--&quot;)) {\r\n\t\t\t\t\tsb.append(line);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tDerInputStream der = new DerValue(Base64.\r\n\t\t\t\t\tgetDecoder().decode(sb.toString())).getData();\r\n\t\t\tder.getBigInteger(); // 0\r\n\t\t\tprvKey.n = der.getBigInteger();\r\n\t\t\tprvKey.e = der.getBigInteger(); // 65537\r\n\t\t\tprvKey.d = der.getBigInteger();\r\n\t\t\tprvKey.p = der.getBigInteger();\r\n\t\t\tprvKey.q = der.getBigInteger();\r\n\t\t\tprvKey.dp = der.getBigInteger();\r\n\t\t\tprvKey.dq = der.getBigInteger();\r\n\t\t\tprvKey.qinv = der.getBigInteger();\r\n\t\t} catch (IllegalArgumentException | IOException e) {\r\n\t\t\tlogger.warn(keyFile + &quot;: &quot; + e.getMessage());\r\n\t\t\treturn null;\r\n\t\t}\r\n    }\r\n","title":"How to read .pem file to get private and public key","body":"<p>If a PEM contains only one RSA private key without encryption, it must be an ASN.1 sequence structure including 9 numbers to present a <em>Chinese Remainder Theorem</em> (CRT) key:</p>\n\n<ol>\n<li>version (always 0)</li>\n<li>modulus (n)</li>\n<li>public exponent (e, always 65537)</li>\n<li>private exponent (d)</li>\n<li>prime p</li>\n<li>prime q</li>\n<li>d mod (p - 1) (dp)</li>\n<li>d mod (q - 1) (dq)</li>\n<li>q^-1 mod p (qinv)</li>\n</ol>\n\n<p>We can implement an <code>RSAPrivateCrtKey</code>:</p>\n\n<pre><code>class RSAPrivateCrtKeyImpl implements RSAPrivateCrtKey {\n    private static final long serialVersionUID = 1L;\n\n    BigInteger n, e, d, p, q, dp, dq, qinv;\n\n    @Override\n    public BigInteger getModulus() {\n        return n;\n    }\n\n    @Override\n    public BigInteger getPublicExponent() {\n        return e;\n    }\n\n    @Override\n    public BigInteger getPrivateExponent() {\n        return d;\n    }\n\n    @Override\n    public BigInteger getPrimeP() {\n        return p;\n    }\n\n    @Override\n    public BigInteger getPrimeQ() {\n        return q;\n    }\n\n    @Override\n    public BigInteger getPrimeExponentP() {\n        return dp;\n    }\n\n    @Override\n    public BigInteger getPrimeExponentQ() {\n        return dq;\n    }\n\n    @Override\n    public BigInteger getCrtCoefficient() {\n        return qinv;\n    }\n\n    @Override\n    public String getAlgorithm() {\n        return \"RSA\";\n    }\n\n    @Override\n    public String getFormat() {\n        throw new UnsupportedOperationException();\n    }\n\n    @Override\n    public byte[] getEncoded() {\n        throw new UnsupportedOperationException();\n    }\n}\n</code></pre>\n\n<p>Then read the private key from a PEM file:</p>\n\n<pre><code>import sun.security.util.DerInputStream;\nimport sun.security.util.DerValue;\n\nstatic RSAPrivateCrtKey getRSAPrivateKey(String keyFile) {\n    RSAPrivateCrtKeyImpl prvKey = new RSAPrivateCrtKeyImpl();\n    try (BufferedReader in = new BufferedReader(new FileReader(keyFile))) {\n        StringBuilder sb = new StringBuilder();\n        String line;\n        while ((line = in.readLine()) != null) {\n            // skip \"-----BEGIN/END RSA PRIVATE KEY-----\"\n            if (!line.startsWith(\"--\") || !line.endsWith(\"--\")) {\n                sb.append(line);\n            }\n        }\n        DerInputStream der = new DerValue(Base64.\n                getDecoder().decode(sb.toString())).getData();\n        der.getBigInteger(); // 0\n        prvKey.n = der.getBigInteger();\n        prvKey.e = der.getBigInteger(); // 65537\n        prvKey.d = der.getBigInteger();\n        prvKey.p = der.getBigInteger();\n        prvKey.q = der.getBigInteger();\n        prvKey.dp = der.getBigInteger();\n        prvKey.dq = der.getBigInteger();\n        prvKey.qinv = der.getBigInteger();\n    } catch (IllegalArgumentException | IOException e) {\n        logger.warn(keyFile + \": \" + e.getMessage());\n        return null;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15176610,"reputation":132,"user_id":10951158,"display_name":"someone"},"score":0,"creation_date":1692336754,"post_id":60109600,"comment_id":135611855,"body_markdown":"Clear solution. This saved my day, thanks!","body":"Clear solution. This saved my day, thanks!"}],"tags":[],"owner":{"account_id":1184341,"reputation":526,"user_id":1158626,"accept_rate":60,"display_name":"Kristo Aun"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1581063867,"creation_date":1581063867,"answer_id":60109600,"question_id":11787571,"body_markdown":"Read public key from pem (PK or Cert). Depends on Bouncycastle.\r\n\r\n    private static PublicKey getPublicKeyFromPEM(Reader reader) throws IOException {\r\n\r\n        PublicKey key;\r\n\r\n        try (PEMParser pem = new PEMParser(reader)) {\r\n            JcaPEMKeyConverter jcaPEMKeyConverter = new JcaPEMKeyConverter();\r\n            Object pemContent = pem.readObject();\r\n            if (pemContent instanceof PEMKeyPair) {\r\n                PEMKeyPair pemKeyPair = (PEMKeyPair) pemContent;\r\n                KeyPair keyPair = jcaPEMKeyConverter.getKeyPair(pemKeyPair);\r\n                key = keyPair.getPublic();\r\n            } else if (pemContent instanceof SubjectPublicKeyInfo) {\r\n                SubjectPublicKeyInfo keyInfo = (SubjectPublicKeyInfo) pemContent;\r\n                key = jcaPEMKeyConverter.getPublicKey(keyInfo);\r\n            } else if (pemContent instanceof X509CertificateHolder) {\r\n                X509CertificateHolder cert = (X509CertificateHolder) pemContent;\r\n                key = jcaPEMKeyConverter.getPublicKey(cert.getSubjectPublicKeyInfo());\r\n            } else {\r\n                throw new IllegalArgumentException(&quot;Unsupported public key format &#39;&quot; +\r\n                    pemContent.getClass().getSimpleName() + &#39;&quot;&#39;);\r\n            }\r\n        }\r\n\r\n        return key;\r\n    }\r\n\r\nRead private key from PEM:\r\n\r\n    private static PrivateKey getPrivateKeyFromPEM(Reader reader) throws IOException {\r\n\r\n        PrivateKey key;\r\n\r\n        try (PEMParser pem = new PEMParser(reader)) {\r\n            JcaPEMKeyConverter jcaPEMKeyConverter = new JcaPEMKeyConverter();\r\n            Object pemContent = pem.readObject();\r\n            if (pemContent instanceof PEMKeyPair) {\r\n                PEMKeyPair pemKeyPair = (PEMKeyPair) pemContent;\r\n                KeyPair keyPair = jcaPEMKeyConverter.getKeyPair(pemKeyPair);\r\n                key = keyPair.getPrivate();\r\n            } else if (pemContent instanceof PrivateKeyInfo) {\r\n                PrivateKeyInfo privateKeyInfo = (PrivateKeyInfo) pemContent;\r\n                key = jcaPEMKeyConverter.getPrivateKey(privateKeyInfo);\r\n            } else {\r\n                throw new IllegalArgumentException(&quot;Unsupported private key format &#39;&quot; +\r\n                    pemContent.getClass().getSimpleName() + &#39;&quot;&#39;);\r\n            }\r\n        }\r\n\r\n        return key;\r\n    }\r\n\r\n","title":"How to read .pem file to get private and public key","body":"<p>Read public key from pem (PK or Cert). Depends on Bouncycastle.</p>\n\n<pre><code>private static PublicKey getPublicKeyFromPEM(Reader reader) throws IOException {\n\n    PublicKey key;\n\n    try (PEMParser pem = new PEMParser(reader)) {\n        JcaPEMKeyConverter jcaPEMKeyConverter = new JcaPEMKeyConverter();\n        Object pemContent = pem.readObject();\n        if (pemContent instanceof PEMKeyPair) {\n            PEMKeyPair pemKeyPair = (PEMKeyPair) pemContent;\n            KeyPair keyPair = jcaPEMKeyConverter.getKeyPair(pemKeyPair);\n            key = keyPair.getPublic();\n        } else if (pemContent instanceof SubjectPublicKeyInfo) {\n            SubjectPublicKeyInfo keyInfo = (SubjectPublicKeyInfo) pemContent;\n            key = jcaPEMKeyConverter.getPublicKey(keyInfo);\n        } else if (pemContent instanceof X509CertificateHolder) {\n            X509CertificateHolder cert = (X509CertificateHolder) pemContent;\n            key = jcaPEMKeyConverter.getPublicKey(cert.getSubjectPublicKeyInfo());\n        } else {\n            throw new IllegalArgumentException(\"Unsupported public key format '\" +\n                pemContent.getClass().getSimpleName() + '\"');\n        }\n    }\n\n    return key;\n}\n</code></pre>\n\n<p>Read private key from PEM:</p>\n\n<pre><code>private static PrivateKey getPrivateKeyFromPEM(Reader reader) throws IOException {\n\n    PrivateKey key;\n\n    try (PEMParser pem = new PEMParser(reader)) {\n        JcaPEMKeyConverter jcaPEMKeyConverter = new JcaPEMKeyConverter();\n        Object pemContent = pem.readObject();\n        if (pemContent instanceof PEMKeyPair) {\n            PEMKeyPair pemKeyPair = (PEMKeyPair) pemContent;\n            KeyPair keyPair = jcaPEMKeyConverter.getKeyPair(pemKeyPair);\n            key = keyPair.getPrivate();\n        } else if (pemContent instanceof PrivateKeyInfo) {\n            PrivateKeyInfo privateKeyInfo = (PrivateKeyInfo) pemContent;\n            key = jcaPEMKeyConverter.getPrivateKey(privateKeyInfo);\n        } else {\n            throw new IllegalArgumentException(\"Unsupported private key format '\" +\n                pemContent.getClass().getSimpleName() + '\"');\n        }\n    }\n\n    return key;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3150389,"reputation":1496,"user_id":2663959,"display_name":"Robin"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1603377075,"creation_date":1603377075,"answer_id":64484484,"question_id":11787571,"body_markdown":"Java supports using DER for public and private keys out of the box (which is basically the same as PEM, as the OP asks, except PEM files contain base 64 data plus header and footer lines).\r\n\r\nYou can rely on this code (modulo exception handling) without any external library if you are on Java 8+ (this assumes your key files are available in the classpath):\r\n\r\n~~~java\r\nclass Signer {\r\n    private KeyFactory keyFactory;\r\n\r\n    public Signer() {\r\n        this.keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n    }\r\n\r\n    public PublicKey getPublicKey() {\r\n        byte[] publicKey = readFileAsBytes(&quot;public-key.der&quot;);\r\n\r\n        X509EncodedKeySpec keySpec = new X509EncodedKeySpec(publicKey);\r\n\r\n        return keyFactory.generatePublic(keySpec);\r\n    }\r\n\r\n    public PrivateKey getPrivateKey() {\r\n        byte[] privateKey = readFileAsBytes(&quot;private-key.der&quot;);\r\n\r\n        PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(privateKey);\r\n    \r\n        return keyFactory.generatePrivate(keySpec);\r\n    }\r\n\r\n    private URI readFileAsBytes(String name) {\r\n        URI fileUri = getClass().getClassLoader().getResource(name).toURI();\r\n\r\n        return Files.readAllBytes(Paths.get(fileUri));\r\n    }\r\n}\r\n~~~\r\n\r\nFor the record, you can convert a PEM key to a DER key with the following command:\r\n\r\n~~~bash\r\n$ openssl pkcs8 -topk8 -inform PEM -outform DER -in private-key.pem -out private-key.der -nocrypt\r\n~~~\r\n\r\nAnd get the public key in DER with:\r\n\r\n~~~bash\r\n$ openssl rsa -in private-key.pem -pubout -outform DER -out public-key.der\r\n~~~","title":"How to read .pem file to get private and public key","body":"<p>Java supports using DER for public and private keys out of the box (which is basically the same as PEM, as the OP asks, except PEM files contain base 64 data plus header and footer lines).</p>\n<p>You can rely on this code (modulo exception handling) without any external library if you are on Java 8+ (this assumes your key files are available in the classpath):</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Signer {\n    private KeyFactory keyFactory;\n\n    public Signer() {\n        this.keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n    }\n\n    public PublicKey getPublicKey() {\n        byte[] publicKey = readFileAsBytes(&quot;public-key.der&quot;);\n\n        X509EncodedKeySpec keySpec = new X509EncodedKeySpec(publicKey);\n\n        return keyFactory.generatePublic(keySpec);\n    }\n\n    public PrivateKey getPrivateKey() {\n        byte[] privateKey = readFileAsBytes(&quot;private-key.der&quot;);\n\n        PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(privateKey);\n    \n        return keyFactory.generatePrivate(keySpec);\n    }\n\n    private URI readFileAsBytes(String name) {\n        URI fileUri = getClass().getClassLoader().getResource(name).toURI();\n\n        return Files.readAllBytes(Paths.get(fileUri));\n    }\n}\n</code></pre>\n<p>For the record, you can convert a PEM key to a DER key with the following command:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>$ openssl pkcs8 -topk8 -inform PEM -outform DER -in private-key.pem -out private-key.der -nocrypt\n</code></pre>\n<p>And get the public key in DER with:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>$ openssl rsa -in private-key.pem -pubout -outform DER -out public-key.der\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11481495,"reputation":1,"user_id":8415396,"display_name":"Karl Scheibelhofer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686808381,"creation_date":1686808381,"answer_id":76479476,"question_id":11787571,"body_markdown":"You can use https://github.com/KarlScheibelhofer/java-crypto-tools/blob/main/README.md. It is very small and has no other dependencies.\r\n\r\nReading PEM files is just like reading any other keystore in Java.\r\n\r\nFor example:\r\n```\r\nimport dev.scheibelhofer.crypto.provider.JctProvider;\r\n\r\nKeyStore ks = KeyStore.getInstance(&quot;pem&quot;, JctProvider.getInstance());\r\nks.load(new FileInputStream(&quot;webserver-key-and-certificate-chain.pem&quot;), password);\r\n```","title":"How to read .pem file to get private and public key","body":"<p>You can use <a href=\"https://github.com/KarlScheibelhofer/java-crypto-tools/blob/main/README.md\" rel=\"nofollow noreferrer\">https://github.com/KarlScheibelhofer/java-crypto-tools/blob/main/README.md</a>. It is very small and has no other dependencies.</p>\n<p>Reading PEM files is just like reading any other keystore in Java.</p>\n<p>For example:</p>\n<pre><code>import dev.scheibelhofer.crypto.provider.JctProvider;\n\nKeyStore ks = KeyStore.getInstance(&quot;pem&quot;, JctProvider.getInstance());\nks.load(new FileInputStream(&quot;webserver-key-and-certificate-chain.pem&quot;), password);\n</code></pre>\n"}],"owner":{"account_id":1012150,"reputation":4027,"user_id":1024482,"accept_rate":65,"display_name":"Rakesh"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":269451,"favorite_count":0,"down_vote_count":0,"up_vote_count":97,"answer_count":11,"score":97,"last_activity_date":1686808381,"creation_date":1343952595,"question_id":11787571,"body_markdown":"I am writing a small piece of code which reads public and private key stored in .pem file. I am using the following commands to generate the keys.  \r\n\r\nBelow command to generate pair of key.  \r\n \r\n\r\n       $openssl genrsa -out mykey.pem 2048\r\nThis command to generate the private key\r\n\r\n    $openssl pkcs8 -topk8 -inform PEM -outform PEM -in mykey.pem \\\r\n        -out private_key.pem -nocrypt\r\nand this command to get the public key.  \r\n\r\n    $ openssl rsa -in mykey.pem -pubout -outform DER -out public_key.der\r\nI have written two methods which reads the private key and public key respectively.\r\n\r\n       public  PrivateKey getPemPrivateKey(String filename, String algorithm) throws Exception {\r\n          File f = new File(filename);\r\n          FileInputStream fis = new FileInputStream(f);\r\n          DataInputStream dis = new DataInputStream(fis);\r\n          byte[] keyBytes = new byte[(int) f.length()];\r\n          dis.readFully(keyBytes);\r\n          dis.close();\r\n          \r\n          String temp = new String(keyBytes);\r\n          String privKeyPEM = temp.replace(&quot;-----BEGIN PRIVATE KEY-----\\n&quot;, &quot;&quot;);\r\n          privKeyPEM = privKeyPEM.replace(&quot;-----END PRIVATE KEY-----&quot;, &quot;&quot;);\r\n          //System.out.println(&quot;Private key\\n&quot;+privKeyPEM);\r\n    \r\n          Base64 b64 = new Base64();\r\n          byte [] decoded = b64.decode(privKeyPEM);\r\n         \r\n          PKCS8EncodedKeySpec spec = new PKCS8EncodedKeySpec(decoded);\r\n          KeyFactory kf = KeyFactory.getInstance(algorithm);\r\n          return kf.generatePrivate(spec);\r\n          }\r\n       \r\n       public  PublicKey getPemPublicKey(String filename, String algorithm) throws Exception {\r\n          File f = new File(filename);\r\n          FileInputStream fis = new FileInputStream(f);\r\n          DataInputStream dis = new DataInputStream(fis);\r\n          byte[] keyBytes = new byte[(int) f.length()];\r\n          dis.readFully(keyBytes);\r\n          dis.close();\r\n          \r\n          String temp = new String(keyBytes);\r\n          String publicKeyPEM = temp.replace(&quot;-----BEGIN PUBLIC KEY-----\\n&quot;, &quot;&quot;);\r\n          publicKeyPEM = publicKeyPEM.replace(&quot;-----END PUBLIC KEY-----&quot;, &quot;&quot;);\r\n          \r\n    \r\n          Base64 b64 = new Base64();\r\n          byte [] decoded = b64.decode(publicKeyPEM);\r\n         \r\n          X509EncodedKeySpec spec =\r\n                new X509EncodedKeySpec(decoded);\r\n          KeyFactory kf = KeyFactory.getInstance(algorithm);\r\n          return kf.generatePublic(spec);\r\n          }\r\nI feel like this is a naive way of doing it. I couldn&#39;t get any better way of doing it over internet. Can anyone suggest me what is the best way of writing the same code to handle the generic cases. I don&#39; want to use any kind of third party library.   \r\nI have very basic knowledge of singing/encrypting and hardly use any java security APIs. So if I am not making sense somewhere then please point out.\r\n","title":"How to read .pem file to get private and public key","body":"<p>I am writing a small piece of code which reads public and private key stored in .pem file. I am using the following commands to generate the keys.  </p>\n\n<p>Below command to generate pair of key.  </p>\n\n<pre><code>   $openssl genrsa -out mykey.pem 2048\n</code></pre>\n\n<p>This command to generate the private key</p>\n\n<pre><code>$openssl pkcs8 -topk8 -inform PEM -outform PEM -in mykey.pem \\\n    -out private_key.pem -nocrypt\n</code></pre>\n\n<p>and this command to get the public key.  </p>\n\n<pre><code>$ openssl rsa -in mykey.pem -pubout -outform DER -out public_key.der\n</code></pre>\n\n<p>I have written two methods which reads the private key and public key respectively.</p>\n\n<pre><code>   public  PrivateKey getPemPrivateKey(String filename, String algorithm) throws Exception {\n      File f = new File(filename);\n      FileInputStream fis = new FileInputStream(f);\n      DataInputStream dis = new DataInputStream(fis);\n      byte[] keyBytes = new byte[(int) f.length()];\n      dis.readFully(keyBytes);\n      dis.close();\n\n      String temp = new String(keyBytes);\n      String privKeyPEM = temp.replace(\"-----BEGIN PRIVATE KEY-----\\n\", \"\");\n      privKeyPEM = privKeyPEM.replace(\"-----END PRIVATE KEY-----\", \"\");\n      //System.out.println(\"Private key\\n\"+privKeyPEM);\n\n      Base64 b64 = new Base64();\n      byte [] decoded = b64.decode(privKeyPEM);\n\n      PKCS8EncodedKeySpec spec = new PKCS8EncodedKeySpec(decoded);\n      KeyFactory kf = KeyFactory.getInstance(algorithm);\n      return kf.generatePrivate(spec);\n      }\n\n   public  PublicKey getPemPublicKey(String filename, String algorithm) throws Exception {\n      File f = new File(filename);\n      FileInputStream fis = new FileInputStream(f);\n      DataInputStream dis = new DataInputStream(fis);\n      byte[] keyBytes = new byte[(int) f.length()];\n      dis.readFully(keyBytes);\n      dis.close();\n\n      String temp = new String(keyBytes);\n      String publicKeyPEM = temp.replace(\"-----BEGIN PUBLIC KEY-----\\n\", \"\");\n      publicKeyPEM = publicKeyPEM.replace(\"-----END PUBLIC KEY-----\", \"\");\n\n\n      Base64 b64 = new Base64();\n      byte [] decoded = b64.decode(publicKeyPEM);\n\n      X509EncodedKeySpec spec =\n            new X509EncodedKeySpec(decoded);\n      KeyFactory kf = KeyFactory.getInstance(algorithm);\n      return kf.generatePublic(spec);\n      }\n</code></pre>\n\n<p>I feel like this is a naive way of doing it. I couldn't get any better way of doing it over internet. Can anyone suggest me what is the best way of writing the same code to handle the generic cases. I don' want to use any kind of third party library.<br>\nI have very basic knowledge of singing/encrypting and hardly use any java security APIs. So if I am not making sense somewhere then please point out.</p>\n"},{"tags":["java","websocket","microservices","publish-subscribe"],"owner":{"account_id":12791488,"reputation":1,"user_id":9255884,"display_name":"Raythien"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686808053,"creation_date":1686808053,"question_id":76479448,"body_markdown":"Our backend has a need for real-time communication with our front-end. We intend to create a **Websocket Microservice (WM)** in Java that our clients will connect to. Our different backend services will push messages to the WM for specific users, and the WM will push those messages to the target connected clients over the websocket connections. The WM is a cluster, so for a specific message to reach a specific user, that message needs to be routed to the specific server that holds the connection for that user. The WM needs to scale to 1 million+ client connections, but any given message will be intended for only a handful of users.\r\n\r\nFor routing, I have considered pub sub with an individual topic per user, but I don&#39;t know if this is scalable in the way we need. We could also broadcast the backend messages to all servers in the cluster, but this is not horizontally scalable, as each server would need to handle more and more messages as volume increases.\r\n\r\n**What would be an ideal, horizontally scalable way to route backend messages to the correct server instance that holds the connection for the recipient user?**","title":"Routing within server cluster for websockets","body":"<p>Our backend has a need for real-time communication with our front-end. We intend to create a <strong>Websocket Microservice (WM)</strong> in Java that our clients will connect to. Our different backend services will push messages to the WM for specific users, and the WM will push those messages to the target connected clients over the websocket connections. The WM is a cluster, so for a specific message to reach a specific user, that message needs to be routed to the specific server that holds the connection for that user. The WM needs to scale to 1 million+ client connections, but any given message will be intended for only a handful of users.</p>\n<p>For routing, I have considered pub sub with an individual topic per user, but I don't know if this is scalable in the way we need. We could also broadcast the backend messages to all servers in the cluster, but this is not horizontally scalable, as each server would need to handle more and more messages as volume increases.</p>\n<p><strong>What would be an ideal, horizontally scalable way to route backend messages to the correct server instance that holds the connection for the recipient user?</strong></p>\n"},{"tags":["java","function","class","object","call"],"comments":[{"owner":{"account_id":1054537,"reputation":20508,"user_id":1057547,"accept_rate":40,"display_name":"dognose"},"score":0,"creation_date":1686802133,"post_id":76479011,"comment_id":134850049,"body_markdown":"Never mind, you are single threaded here - not the issue with &quot;Main returning&quot;.","body":"Never mind, you are single threaded here - not the issue with &quot;Main returning&quot;."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1686807682,"post_id":76479011,"comment_id":134850569,"body_markdown":"The code in your question produces your expected result when I run it. In other words, I cannot reproduce your problem.","body":"The code in your question produces your expected result when I run it. In other words, I cannot reproduce your problem."}],"answers":[{"tags":[],"owner":{"account_id":1054537,"reputation":20508,"user_id":1057547,"accept_rate":40,"display_name":"dognose"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686802306,"creation_date":1686802306,"answer_id":76479058,"question_id":76479011,"body_markdown":"Maybe there is an exception thrown, when initiating your `Event-Class`? You are creating an instance of `PlayerReaction` and `Player` as well, maybe a NullPointer somewhere there inside? \r\n\r\nFor debugging purpose you could catch and print all exceptions that might appear somewhere: \r\n\r\n    public static void main(String[] args) throws Exception {\r\n    \r\n        System.out.println(&quot;Hi&quot;);\r\n        try{\r\n           Event event = new Event();\r\n           event.StartGame();\r\n        } catch (Exception e){\r\n           e.printStackTrace();\r\n        }\r\n    }","title":"Why I cannot call the object function from other class?","body":"<p>Maybe there is an exception thrown, when initiating your <code>Event-Class</code>? You are creating an instance of <code>PlayerReaction</code> and <code>Player</code> as well, maybe a NullPointer somewhere there inside?</p>\n<p>For debugging purpose you could catch and print all exceptions that might appear somewhere:</p>\n<pre><code>public static void main(String[] args) throws Exception {\n\n    System.out.println(&quot;Hi&quot;);\n    try{\n       Event event = new Event();\n       event.StartGame();\n    } catch (Exception e){\n       e.printStackTrace();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28824460,"reputation":1,"user_id":22076184,"display_name":"KFA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686807167,"creation_date":1686801574,"question_id":76479011,"body_markdown":"As the title mentioned.\r\nWhy the main class unable to call the event.java function and print out the message i want it to print? Is there anything I missing for that? Many Thanks.\r\n\r\nApp.java: (The main program)\r\n\r\n```\r\npackage com.mainsystem;\r\n\r\npublic class App {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n    \r\n        System.out.println(&quot;Hi&quot;);\r\n        Event event = new Event();\r\n        event.StartGame();\r\n    }\r\n\r\n}\r\n```\r\n\r\nEvent.java (Called by Main program)\r\n\r\n```\r\npackage com.mainsystem;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Event {\r\nScanner sc = new Scanner(System.in);\r\n\r\n    public void StartGame() {\r\n        System.out.println(&quot;Welcome to new World.&quot;);\r\n        System.out.println(&quot;You are now invited to this new world...&quot;);\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nMy Expecting Result:\r\n\r\n```\r\nHi.\r\nWelcome to new World.\r\nYou are now invited to this new world...\r\n```\r\n\r\nBut the result showing now is:\r\n\r\n```\r\nHi\r\n```","title":"Why I cannot call the object function from other class?","body":"<p>As the title mentioned.\nWhy the main class unable to call the event.java function and print out the message i want it to print? Is there anything I missing for that? Many Thanks.</p>\n<p>App.java: (The main program)</p>\n<pre><code>package com.mainsystem;\n\npublic class App {\n\n    public static void main(String[] args) throws Exception {\n    \n        System.out.println(&quot;Hi&quot;);\n        Event event = new Event();\n        event.StartGame();\n    }\n\n}\n</code></pre>\n<p>Event.java (Called by Main program)</p>\n<pre><code>package com.mainsystem;\n\nimport java.util.Scanner;\n\npublic class Event {\nScanner sc = new Scanner(System.in);\n\n    public void StartGame() {\n        System.out.println(&quot;Welcome to new World.&quot;);\n        System.out.println(&quot;You are now invited to this new world...&quot;);\n    }\n\n\n}\n</code></pre>\n<p>My Expecting Result:</p>\n<pre><code>Hi.\nWelcome to new World.\nYou are now invited to this new world...\n</code></pre>\n<p>But the result showing now is:</p>\n<pre><code>Hi\n</code></pre>\n"},{"tags":["java","debugging","bluej"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1686808847,"post_id":76479369,"comment_id":134850712,"body_markdown":"Bring up [Google](https://www.google.com/) in your web-browser and enter: **Does BlueJ have a Debugger**. Start from the top of the list and work your way down.","body":"Bring up <a href=\"https://www.google.com/\" rel=\"nofollow noreferrer\">Google</a> in your web-browser and enter: <b>Does BlueJ have a Debugger</b>. Start from the top of the list and work your way down."}],"owner":{"account_id":28822072,"reputation":1,"user_id":22074377,"display_name":"Supratik Dash"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686807037,"creation_date":1686806985,"question_id":76479369,"body_markdown":"I&#39;m a student, trying to learn Java. In my school, it is compulsory for someone learning Java to use BlueJ, which is somewhat like a bit simplified version of other Java softwares, like Visual Studio or Eclipse, etc. I think y&#39;all know better than me about this btw...\r\n\r\nI&#39;m trying to solve many problems on LeetCode, etc. I encounter many errors; most of them, I solve by myself with just some trial and error, but some can&#39;t just be processed by my mind. Yesterday, I discovered that there is a debugger in BlueJ as well. I tried to use it somehow, but I don&#39;t understand how it works. I also saw many videos on YouTube, but didn&#39;t understand everything.\r\n\r\nI can see that it shows the static variables, instance variables and local variables, but other than that, it&#39;s game over for me.\r\n\r\nSo can someone just explain how it works ? \r\n\r\nThanks ✌&#127995;","title":"Can someone please tell me how to use a debugger in BlueJ(a Java environment)","body":"<p>I'm a student, trying to learn Java. In my school, it is compulsory for someone learning Java to use BlueJ, which is somewhat like a bit simplified version of other Java softwares, like Visual Studio or Eclipse, etc. I think y'all know better than me about this btw...</p>\n<p>I'm trying to solve many problems on LeetCode, etc. I encounter many errors; most of them, I solve by myself with just some trial and error, but some can't just be processed by my mind. Yesterday, I discovered that there is a debugger in BlueJ as well. I tried to use it somehow, but I don't understand how it works. I also saw many videos on YouTube, but didn't understand everything.</p>\n<p>I can see that it shows the static variables, instance variables and local variables, but other than that, it's game over for me.</p>\n<p>So can someone just explain how it works ?</p>\n<p>Thanks ✌🏻</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686736227,"post_id":76471916,"comment_id":134838985,"body_markdown":"For starters stop using 2 different json libraries, stick with 1. How are you reading/saving the data.","body":"For starters stop using 2 different json libraries, stick with 1. How are you reading/saving the data."},{"owner":{"account_id":28817285,"reputation":1,"user_id":22070617,"display_name":"Shiva"},"score":0,"creation_date":1686736991,"post_id":76471916,"comment_id":134839152,"body_markdown":"@M.Deinum spring JPA","body":"@M.Deinum spring JPA"}],"owner":{"account_id":28817285,"reputation":1,"user_id":22070617,"display_name":"Shiva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686806817,"creation_date":1686733983,"question_id":76471916,"body_markdown":"I am trying to encrypt data before persisting it into DB for one of my use case, I am using custom object and trying to encrypt one of the field while persisting it in the DB.\r\n\r\n\r\n```\r\npublic class PIDetails {\r\n    @Id\r\n    @GeneratedValue(strategy = IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private Integer id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @Column(name = &quot;referenceId&quot;)\r\n    private String referenceId;\r\n\r\n    @Column(name = &quot;pdo&quot;)\r\n    @Convert(converter = AttributeEncryptor.class)\r\n    private PersonalDetails pdo;\r\n\r\n    public PIDetails(String lender, String referenceId) {\r\n        this.lender = lender;\r\n        this.referenceId = referenceId;\r\n    }\r\n\r\n    public void setpdo(@NotNull BoardingDetails boardingDetails) {\r\n        this.bfo = boardingDetails;\r\n    }\r\n}\r\n\r\npublic class PersonalDetails {\r\n    private FinancialDetails.FinancialDetailsData financialDetails;  \r\n}\r\n\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@SuperBuilder\r\n@Getter\r\npublic class FinancialDetails extends OnboardingDetails {\r\n    @NotNull(message = &quot;financial data can&#39;t be null&quot;)\r\n    private FinancialDetailsData data;\r\n\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    @Getter\r\n    @Setter\r\n    public static class FinancialDetailsData {\r\n        @JsonProperty(&quot;externalReferenceId&quot;)\r\n        private String externalReferenceId;\r\n\r\n        @JsonProperty(&quot;panNumber&quot;)\r\n        private String panNumber;\r\n\r\n        @JsonProperty(&quot;kycNo&quot;)\r\n        private String kycNo;\r\n\r\n        @JsonProperty(&quot;dob&quot;)\r\n        private long dob;\r\n    }\r\n\r\n}\r\n\r\n\r\n@Converter\r\npublic class AttributeEncryptor implements AttributeConverter&lt;PersonalDetails, String&gt; {\r\n\r\n    private static final String AES = &quot;AES&quot;;\r\n    private static final String SECRET = &quot;secret-key-12345&quot;;\r\n\r\n    private final Key key;\r\n    private final Cipher cipher;\r\n    private Gson gson = new Gson();\r\n\r\n    public AttributeEncryptor() throws Exception {\r\n        key = new SecretKeySpec(SECRET.getBytes(), AES);\r\n        cipher = Cipher.getInstance(AES);\r\n    }\r\n\r\n    @Override\r\n    public String convertToDatabaseColumn(PersonalDetails personalDetails) {\r\n        try {\r\n            if(!isEncryptedString(personalDetails.getFinancialDetails().getPanNumber())){\r\n                String encryptedPan = encrypt(personalDetails.getFinancialDetails().getPanNumber());\r\n                personalDetails.getFinancialDetails().setPanNumber(encryptedPan);\r\n            }\r\n            String personalDetailsJson= gson.toJson(personalDetails);\r\n            return personalDetailsJson;\r\n        } catch (Exception e) {\r\n            throw new IllegalStateException(e);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public PersonalDetails convertToEntityAttribute(String dbData) {\r\n        try {\r\n            PersonalDetails personalDetails = gson.fromJson(dbData, PersonalDetails.class);\r\n            String panNumber = decrypt(personalDetails.getFinancialDetails().getPanNumber());\r\n            personalDetails.getFinancialDetails().setPanNumber(panNumber);\r\n            return personalDetails;\r\n        } catch (Exception e) {\r\n            throw new IllegalStateException(e);\r\n        }\r\n    }\r\n\r\n    public  String encrypt(String attribute){\r\n        try {\r\n            cipher.init(Cipher.ENCRYPT_MODE, key);\r\n            return Base64.getEncoder().encodeToString(cipher.doFinal(attribute.getBytes()));\r\n        } catch (IllegalBlockSizeException | BadPaddingException | InvalidKeyException e) {\r\n            throw new IllegalStateException(e);\r\n        }\r\n    }\r\n\r\n    public  String decrypt(String attribute){\r\n        try {\r\n            cipher.init(Cipher.DECRYPT_MODE, key);\r\n            return new String(cipher.doFinal(Base64.getDecoder().decode(attribute)));\r\n        } catch (InvalidKeyException | BadPaddingException | IllegalBlockSizeException e) {\r\n            throw new IllegalStateException(e);\r\n        }\r\n    }\r\n\r\n    public boolean isEncryptedString(String attribute) {\r\n        try {\r\n            decrypt(attribute);\r\n            return true;\r\n        } catch(Exception e) {\r\n            return false;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nbut it is not working as expected , couple of issues are there \r\nwhile saving the `convertToDatabaseColumn` function is called more then once and while reading the data I am not getting the decrypted value.\r\n\r\nI am using spring jpa for persistent and retrieval of data.\r\n\r\nrepository.save() for saving data - it is being called while saving the data, but it is looping and calling `convertToDatabaseColumn` 4 times and it also calls `convertToEntityAttribute`.\r\nrepository.findByReferenceIdAndName() while retrieving data :- this time `convertToEntityAttribute` is not being called.\r\n\r\nwhat is wrong with this code ?","title":"Attribute converter for custom object not working as expected spring boot","body":"<p>I am trying to encrypt data before persisting it into DB for one of my use case, I am using custom object and trying to encrypt one of the field while persisting it in the DB.</p>\n<pre><code>public class PIDetails {\n    @Id\n    @GeneratedValue(strategy = IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Integer id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @Column(name = &quot;referenceId&quot;)\n    private String referenceId;\n\n    @Column(name = &quot;pdo&quot;)\n    @Convert(converter = AttributeEncryptor.class)\n    private PersonalDetails pdo;\n\n    public PIDetails(String lender, String referenceId) {\n        this.lender = lender;\n        this.referenceId = referenceId;\n    }\n\n    public void setpdo(@NotNull BoardingDetails boardingDetails) {\n        this.bfo = boardingDetails;\n    }\n}\n\npublic class PersonalDetails {\n    private FinancialDetails.FinancialDetailsData financialDetails;  \n}\n\n@NoArgsConstructor\n@AllArgsConstructor\n@SuperBuilder\n@Getter\npublic class FinancialDetails extends OnboardingDetails {\n    @NotNull(message = &quot;financial data can't be null&quot;)\n    private FinancialDetailsData data;\n\n    @NoArgsConstructor\n    @AllArgsConstructor\n    @Builder\n    @Getter\n    @Setter\n    public static class FinancialDetailsData {\n        @JsonProperty(&quot;externalReferenceId&quot;)\n        private String externalReferenceId;\n\n        @JsonProperty(&quot;panNumber&quot;)\n        private String panNumber;\n\n        @JsonProperty(&quot;kycNo&quot;)\n        private String kycNo;\n\n        @JsonProperty(&quot;dob&quot;)\n        private long dob;\n    }\n\n}\n\n\n@Converter\npublic class AttributeEncryptor implements AttributeConverter&lt;PersonalDetails, String&gt; {\n\n    private static final String AES = &quot;AES&quot;;\n    private static final String SECRET = &quot;secret-key-12345&quot;;\n\n    private final Key key;\n    private final Cipher cipher;\n    private Gson gson = new Gson();\n\n    public AttributeEncryptor() throws Exception {\n        key = new SecretKeySpec(SECRET.getBytes(), AES);\n        cipher = Cipher.getInstance(AES);\n    }\n\n    @Override\n    public String convertToDatabaseColumn(PersonalDetails personalDetails) {\n        try {\n            if(!isEncryptedString(personalDetails.getFinancialDetails().getPanNumber())){\n                String encryptedPan = encrypt(personalDetails.getFinancialDetails().getPanNumber());\n                personalDetails.getFinancialDetails().setPanNumber(encryptedPan);\n            }\n            String personalDetailsJson= gson.toJson(personalDetails);\n            return personalDetailsJson;\n        } catch (Exception e) {\n            throw new IllegalStateException(e);\n        }\n    }\n\n    @Override\n    public PersonalDetails convertToEntityAttribute(String dbData) {\n        try {\n            PersonalDetails personalDetails = gson.fromJson(dbData, PersonalDetails.class);\n            String panNumber = decrypt(personalDetails.getFinancialDetails().getPanNumber());\n            personalDetails.getFinancialDetails().setPanNumber(panNumber);\n            return personalDetails;\n        } catch (Exception e) {\n            throw new IllegalStateException(e);\n        }\n    }\n\n    public  String encrypt(String attribute){\n        try {\n            cipher.init(Cipher.ENCRYPT_MODE, key);\n            return Base64.getEncoder().encodeToString(cipher.doFinal(attribute.getBytes()));\n        } catch (IllegalBlockSizeException | BadPaddingException | InvalidKeyException e) {\n            throw new IllegalStateException(e);\n        }\n    }\n\n    public  String decrypt(String attribute){\n        try {\n            cipher.init(Cipher.DECRYPT_MODE, key);\n            return new String(cipher.doFinal(Base64.getDecoder().decode(attribute)));\n        } catch (InvalidKeyException | BadPaddingException | IllegalBlockSizeException e) {\n            throw new IllegalStateException(e);\n        }\n    }\n\n    public boolean isEncryptedString(String attribute) {\n        try {\n            decrypt(attribute);\n            return true;\n        } catch(Exception e) {\n            return false;\n        }\n    }\n}\n</code></pre>\n<p>but it is not working as expected , couple of issues are there\nwhile saving the <code>convertToDatabaseColumn</code> function is called more then once and while reading the data I am not getting the decrypted value.</p>\n<p>I am using spring jpa for persistent and retrieval of data.</p>\n<p>repository.save() for saving data - it is being called while saving the data, but it is looping and calling <code>convertToDatabaseColumn</code> 4 times and it also calls <code>convertToEntityAttribute</code>.\nrepository.findByReferenceIdAndName() while retrieving data :- this time <code>convertToEntityAttribute</code> is not being called.</p>\n<p>what is wrong with this code ?</p>\n"},{"tags":["java","oracle","mybatis"],"answers":[{"comments":[{"owner":{"account_id":17136093,"reputation":11,"user_id":12401089,"display_name":"kibum Kim"},"score":0,"creation_date":1686808591,"post_id":76479357,"comment_id":134850664,"body_markdown":"And , is it called final long[] executeBatchFromQueue()  method in OraclePreparedStatement class?\nso -2 value is predicted","body":"And , is it called final long[] executeBatchFromQueue()  method in OraclePreparedStatement class? so -2 value is predicted"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686909842,"post_id":76479357,"comment_id":134866465,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76479357/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":17136093,"reputation":11,"user_id":12401089,"display_name":"kibum Kim"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686806815,"creation_date":1686806815,"answer_id":76479357,"question_id":76478324,"body_markdown":"is it related ?\r\n\r\nThe oracle-documentation states:\r\n\r\n• For a prepared statement batch, it is not possible to know the number of rows affected in the database by each individual statement in the batch. Therefore, all array elements have a value of -2. According to the JDBC 2.0 specification, a value of -2 indicates that the operation was successful but the number of rows affected is unknown.\r\n\r\n• For a generic statement batch, the array contains the actual update counts indicating the number of rows affected by each operation. The actual update counts can be provided only in the case of generic statements in the Oracle implementation of standard batching.\r\n\r\n• For a callable statement batch, the server always returns the value 1 as the update count, irrespective of the number rows affected by each operation.","title":"Mybatis After batch Mode update, BatchResult UpdateCounts has -2 values","body":"<p>is it related ?</p>\n<p>The oracle-documentation states:</p>\n<p>• For a prepared statement batch, it is not possible to know the number of rows affected in the database by each individual statement in the batch. Therefore, all array elements have a value of -2. According to the JDBC 2.0 specification, a value of -2 indicates that the operation was successful but the number of rows affected is unknown.</p>\n<p>• For a generic statement batch, the array contains the actual update counts indicating the number of rows affected by each operation. The actual update counts can be provided only in the case of generic statements in the Oracle implementation of standard batching.</p>\n<p>• For a callable statement batch, the server always returns the value 1 as the update count, irrespective of the number rows affected by each operation.</p>\n"}],"owner":{"account_id":17136093,"reputation":11,"user_id":12401089,"display_name":"kibum Kim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686806815,"creation_date":1686788084,"question_id":76478324,"body_markdown":"- ENV\r\n\r\n    mybatis:3.5.13\r\n\r\n\r\noracle11\r\n\r\n    java 1.8\r\n\r\n- CODE \r\n\r\ntry(SqlSession session = sessionFactory.openSession(ExecutorType.BATCH, false)){\r\n\r\n            // update\r\n            for(Map&lt;String, Object&gt; data : selectList){\r\n                session.update(mapperId+&quot;.&quot;+updateId, data);\r\n            }\r\n    \r\n            // check result\r\n            List&lt;BatchResult&gt; batchResultList = session.flushStatements();\r\n    \r\n            // extract count sum\r\n            int updateCnt  = Arrays.stream(batchResultList.get(0).getUpdateCounts()).sum();\r\n    \r\n            // diff\r\n            if(updateCnt != selectList.size()){\r\n    \r\n                  session.rollback();\r\n                  return 0;\r\n            }\r\n    \r\n            // DB commit\r\n            session.commit();\r\n\r\n}\r\n\r\n- VALUES\r\n\r\n   selectList size = 3\r\nupdateCnt = -6\r\n\r\n- happens\r\n\r\nactually even 3 rows effected, updateCnt has -6 value\r\n\r\nand it worked normally in mysql\r\n\r\njdbc url connection properties change\r\n(defaultBatchValue)","title":"Mybatis After batch Mode update, BatchResult UpdateCounts has -2 values","body":"<ul>\n<li><p>ENV</p>\n<p>mybatis:3.5.13</p>\n</li>\n</ul>\n<p>oracle11</p>\n<pre><code>java 1.8\n</code></pre>\n<ul>\n<li>CODE</li>\n</ul>\n<p>try(SqlSession session = sessionFactory.openSession(ExecutorType.BATCH, false)){</p>\n<pre><code>        // update\n        for(Map&lt;String, Object&gt; data : selectList){\n            session.update(mapperId+&quot;.&quot;+updateId, data);\n        }\n\n        // check result\n        List&lt;BatchResult&gt; batchResultList = session.flushStatements();\n\n        // extract count sum\n        int updateCnt  = Arrays.stream(batchResultList.get(0).getUpdateCounts()).sum();\n\n        // diff\n        if(updateCnt != selectList.size()){\n\n              session.rollback();\n              return 0;\n        }\n\n        // DB commit\n        session.commit();\n</code></pre>\n<p>}</p>\n<ul>\n<li><p>VALUES</p>\n<p>selectList size = 3\nupdateCnt = -6</p>\n</li>\n<li><p>happens</p>\n</li>\n</ul>\n<p>actually even 3 rows effected, updateCnt has -6 value</p>\n<p>and it worked normally in mysql</p>\n<p>jdbc url connection properties change\n(defaultBatchValue)</p>\n"},{"tags":["java","android","compiler-errors","installation"],"comments":[{"owner":{"account_id":6490918,"reputation":1197,"user_id":5025015,"display_name":"Fatima Hossny"},"score":0,"creation_date":1525544542,"post_id":49955241,"comment_id":87402322,"body_markdown":"try to copy one URL.  past it in your browser to download manually.","body":"try to copy one URL.  past it in your browser to download manually."},{"owner":{"account_id":11944159,"reputation":767,"user_id":8739916,"accept_rate":71,"display_name":"JollyRoger"},"score":0,"creation_date":1661594787,"post_id":49955241,"comment_id":129812514,"body_markdown":"If you are using Ubuntu, changing access rights to your sdk solves the problems: `chmod -R 777 /usr/lib/android-sdk`. Android sdk location may vary and also you might wanna use a different access rights than 777.","body":"If you are using Ubuntu, changing access rights to your sdk solves the problems: <code>chmod -R 777 &#47;usr&#47;lib&#47;android-sdk</code>. Android sdk location may vary and also you might wanna use a different access rights than 777."}],"answers":[{"comments":[{"owner":{"account_id":7458238,"reputation":6066,"user_id":5670752,"display_name":"Taslim Oseni"},"score":0,"creation_date":1564574636,"post_id":50662641,"comment_id":101075128,"body_markdown":"I have had this problem multiple times.. and every single time, I come to Stackoverflow to check for the fix. Lol. (+1 for clarity).","body":"I have had this problem multiple times.. and every single time, I come to Stackoverflow to check for the fix. Lol. (+1 for clarity)."}],"tags":[],"owner":{"account_id":4838160,"reputation":4814,"user_id":3904066,"display_name":"Seunope"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1527990853,"creation_date":1527990853,"answer_id":50662641,"question_id":49955241,"body_markdown":"I experienced the same issue as i tried to install Android API 27. Each time i use the SDK manager it downloads but fails to install. Here is how i fixed it\r\n\r\n 1. Run Android Studio as administrator\r\n 2. Open SDK Manager\r\n 3. Click on &quot;edit&quot; found close to  &quot;Android SDK location&quot;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n 3. It opens a window that show a list of &quot;Android SDK Platform&quot; you have downloaded but not installed.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n 4. In my case, it shows API 27-  62MB. I clicked on this to install. After it successfully install my app works fine.\r\n\r\nI hope this fix works for you\r\n\r\n  [1]: https://i.stack.imgur.com/fpiIb.png\r\n  [2]: https://i.stack.imgur.com/pVzIp.png","title":"Android Studio Installation BUG","body":"<p>I experienced the same issue as i tried to install Android API 27. Each time i use the SDK manager it downloads but fails to install. Here is how i fixed it</p>\n\n<ol>\n<li>Run Android Studio as administrator</li>\n<li>Open SDK Manager</li>\n<li>Click on \"edit\" found close to  \"Android SDK location\"</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/fpiIb.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/fpiIb.png\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"3\">\n<li>It opens a window that show a list of \"Android SDK Platform\" you have downloaded but not installed.</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/pVzIp.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/pVzIp.png\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"4\">\n<li>In my case, it shows API 27-  62MB. I clicked on this to install. After it successfully install my app works fine.</li>\n</ol>\n\n<p>I hope this fix works for you</p>\n"},{"comments":[{"owner":{"account_id":16891416,"reputation":1933,"user_id":12215054,"display_name":"Pawara Siriwardhane"},"score":4,"creation_date":1616674223,"post_id":66797153,"comment_id":118079906,"body_markdown":"Please use the comment section for this kind of answers","body":"Please use the comment section for this kind of answers"}],"tags":[],"owner":{"account_id":15264526,"reputation":21,"user_id":11013584,"display_name":"iamsteve"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1616666752,"creation_date":1616666752,"answer_id":66797153,"question_id":49955241,"body_markdown":"Running Android Studio as Administrator will lead you to the solution mainly.I&#39;ve also had similar issues in the past","title":"Android Studio Installation BUG","body":"<p>Running Android Studio as Administrator will lead you to the solution mainly.I've also had similar issues in the past</p>\n"},{"tags":[],"owner":{"account_id":28749207,"reputation":11,"user_id":22017649,"display_name":"Vishal Dubey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686805370,"creation_date":1686805370,"answer_id":76479266,"question_id":49955241,"body_markdown":"**Method**--&gt;1 The solution for this is:\r\nRun Android Studio as Administrator.\r\nRe run the update.\r\nIt will work.\r\n\r\n**Method**--&gt;2 And I notice some setting about Force https//... to be fetched using http://...\r\nAfter using it, my download run normally:\r\n\r\n**Method**--&gt;3 Download zip file from this location\r\nExtract it and move the emulator folder image for emulator folder into the SDK folder image for SDK folder\r\nI hope it works for you as well, I was using Windows 10 Pro 64bit.\r\n\r\n**Method**--&gt;4 I experienced the same issue as i tried to install Android API 27. Each time i use the SDK manager it downloads but fails to install. Here is how i fixed it\r\nRun Android Studio as administrator\r\nOpen SDK Manager\r\nClick on &quot;edit&quot; found close to &quot;Android SDK location&quot;\r\nIt opens a window that show a list of &quot;Android SDK Platform&quot; you have downloaded but not installed.\r\nit shows API 27- 62MB. I clicked on this to install. After it successfully install my app works fine.I hope this fix works for you\r\n\r\n**Method**--&gt;5 In my case,I checked windows update where some drivers were pending and some were incomplete.\r\nThen I restarted by updating windows with proper network then android studio installed properly and SDK works.\r\n","title":"Android Studio Installation BUG","body":"<p><strong>Method</strong>--&gt;1 The solution for this is:\nRun Android Studio as Administrator.\nRe run the update.\nIt will work.</p>\n<p><strong>Method</strong>--&gt;2 And I notice some setting about Force https//... to be fetched using http://...\nAfter using it, my download run normally:</p>\n<p><strong>Method</strong>--&gt;3 Download zip file from this location\nExtract it and move the emulator folder image for emulator folder into the SDK folder image for SDK folder\nI hope it works for you as well, I was using Windows 10 Pro 64bit.</p>\n<p><strong>Method</strong>--&gt;4 I experienced the same issue as i tried to install Android API 27. Each time i use the SDK manager it downloads but fails to install. Here is how i fixed it\nRun Android Studio as administrator\nOpen SDK Manager\nClick on &quot;edit&quot; found close to &quot;Android SDK location&quot;\nIt opens a window that show a list of &quot;Android SDK Platform&quot; you have downloaded but not installed.\nit shows API 27- 62MB. I clicked on this to install. After it successfully install my app works fine.I hope this fix works for you</p>\n<p><strong>Method</strong>--&gt;5 In my case,I checked windows update where some drivers were pending and some were incomplete.\nThen I restarted by updating windows with proper network then android studio installed properly and SDK works.</p>\n"}],"owner":{"account_id":12801882,"reputation":43,"user_id":9262923,"display_name":"Čika Tuna"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16809,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1686805370,"creation_date":1524309892,"question_id":49955241,"body_markdown":"From yesterday i am having problems while installing android studio on my new SSD disc. \r\n\r\nI tried to turn off firewall, windows defender, run android studio with ADMINISTRATOR rights, also i tried downloading JDK 8 , then JDK 10 ,\r\nI have JAVA on my computer and when i try to run ANDROID STUDIO for the first time and when he try to download things like android sdk or similar i am getting always the same message like this;\r\n\r\n&gt; Preparing &quot;Install Android SDK Tools (revision: 26.1.1)&quot;. Downloading\r\n&gt; https://dl.google.com/android/repository/sdk-tools-windows-4333796.zip\r\n&gt; java.io.IOException: Cannot download\r\n&gt; &#39;https://dl.google.com/android/repository/sdk-tools-windows-4333796.zip&#39;:\r\n&gt; Unsupported record version Unknown-192.23 , response: 200 OK  \r\n&gt; Warning:\r\n&gt; An error occurred while preparing SDK package Android SDK Tools:  \r\n&gt; Cannot download\r\n&gt; &#39;https://dl.google.com/android/repository/sdk-tools-windows-4333796.zip&#39;:\r\n&gt; Unsupported record version Unknown-192.23 , response: 200 OK. &quot;Install\r\n&gt; Android SDK Tools (revision: 26.1.1)&quot; failed.\r\n\r\n\r\n\r\nI am always getting this for error when i try to start Android Studio Unsupported record version \r\n\r\n&gt; Unknown-192.23(&lt;-- this numbers are always diffrent )\r\n\r\n\r\nThank you guys who will try to help me fix this\r\n\r\nP.s. i am using Windows 7 64 bit &amp; Vertex 60gb SSD\r\n\r\nP.s. android studio all worked on older HARD DISC , is problem in hard?\r\n\r\n\r\n\r\n\r\nThis is FULL INSTALATION logs you can see a lot of mistakes and failer installations,why that happens ?\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    Preparing &quot;Install Android SDK Tools (revision: 26.1.1)&quot;.\r\n    Downloading https://dl.google.com/android/repository/sdk-tools-windows-4333796.zip\r\n    java.io.IOException: Cannot download &#39;https://dl.google.com/android/repository/sdk-tools-windows-4333796.zip&#39;: Unsupported record version Unknown-192.23\r\n    , response: 200 OK\r\n    Warning: An error occurred while preparing SDK package Android SDK Tools: Cannot download &#39;https://dl.google.com/android/repository/sdk-tools-windows-4333796.zip&#39;: Unsupported record version Unknown-192.23\r\n    , response: 200 OK.\r\n    &quot;Install Android SDK Tools (revision: 26.1.1)&quot; failed.\r\n    Preparing &quot;Install Intel x86 Emulator Accelerator (HAXM installer) (revision: 6.2.1)&quot;.\r\n    Downloading https://dl.google.com/android/repository/extras/intel/haxm-windows_r6_2_1.zip\r\n    &quot;Install Intel x86 Emulator Accelerator (HAXM installer) (revision: 6.2.1)&quot; ready.\r\n    Installing Intel x86 Emulator Accelerator (HAXM installer) in C:\\Users\\NaTu\\AppData\\Local\\Android\\Sdk\\extras\\intel\\Hardware_Accelerated_Execution_Manager\r\n    &quot;Install Intel x86 Emulator Accelerator (HAXM installer) (revision: 6.2.1)&quot; complete.\r\n    &quot;Install Intel x86 Emulator Accelerator (HAXM installer) (revision: 6.2.1)&quot; finished.\r\n    Preparing &quot;Install SDK Patch Applier v4 (revision: 1)&quot;.\r\n    Downloading https://dl.google.com/android/repository/3534162-studio.sdk-patcher.zip.bak\r\n    &quot;Install SDK Patch Applier v4 (revision: 1)&quot; ready.\r\n    Installing SDK Patch Applier v4 in C:\\Users\\NaTu\\AppData\\Local\\Android\\Sdk\\patcher\\v4\r\n    &quot;Install SDK Patch Applier v4 (revision: 1)&quot; complete.\r\n    &quot;Install SDK Patch Applier v4 (revision: 1)&quot; finished.\r\n    Preparing &quot;Install Android Emulator (revision: 27.1.12)&quot;.\r\n    Downloading https://dl.google.com/android/repository/emulator-windows-4623001.zip\r\n    &quot;Install Android Emulator (revision: 27.1.12)&quot; ready.\r\n    Installing Android Emulator in C:\\Users\\NaTu\\AppData\\Local\\Android\\Sdk\\emulator\r\n    &quot;Install Android Emulator (revision: 27.1.12)&quot; complete.\r\n    &quot;Install Android Emulator (revision: 27.1.12)&quot; finished.\r\n    Preparing &quot;Install Android Support Repository (revision: 47.0.0)&quot;.\r\n    Downloading https://dl.google.com/android/repository/android_m2repository_r47.zip\r\n    java.io.IOException: Cannot download &#39;https://dl.google.com/android/repository/android_m2repository_r47.zip&#39;: Tag mismatch!\r\n    , response: 200 OK\r\n    Warning: An error occurred while preparing SDK package Android Support Repository: Cannot download &#39;https://dl.google.com/android/repository/android_m2repository_r47.zip&#39;: Tag mismatch!\r\n    , response: 200 OK.\r\n    &quot;Install Android Support Repository (revision: 47.0.0)&quot; failed.\r\n    Preparing &quot;Install Android SDK Platform-Tools (revision: 27.0.1)&quot;.\r\n    Downloading https://dl.google.com/android/repository/platform-tools_r27.0.1-windows.zip\r\n    &quot;Install Android SDK Platform-Tools (revision: 27.0.1)&quot; ready.\r\n    Installing Android SDK Platform-Tools in C:\\Users\\NaTu\\AppData\\Local\\Android\\Sdk\\platform-tools\r\n    &quot;Install Android SDK Platform-Tools (revision: 27.0.1)&quot; complete.\r\n    &quot;Install Android SDK Platform-Tools (revision: 27.0.1)&quot; finished.\r\n    Preparing &quot;Install Android SDK Build-Tools 27.0.3 (revision: 27.0.3)&quot;.\r\n    Downloading https://dl.google.com/android/repository/build-tools_r27.0.3-windows.zip\r\n    &quot;Install Android SDK Build-Tools 27.0.3 (revision: 27.0.3)&quot; ready.\r\n    Installing Android SDK Build-Tools 27.0.3 in C:\\Users\\NaTu\\AppData\\Local\\Android\\Sdk\\build-tools\\27.0.3\r\n    &quot;Install Android SDK Build-Tools 27.0.3 (revision: 27.0.3)&quot; complete.\r\n    &quot;Install Android SDK Build-Tools 27.0.3 (revision: 27.0.3)&quot; finished.\r\n    Preparing &quot;Install Google Repository (revision: 58)&quot;.\r\n    Downloading https://dl.google.com/android/repository/google_m2repository_gms_v11_3_rc05_wear_2_0_5.zip\r\n    &quot;Install Google Repository (revision: 58)&quot; ready.\r\n    Installing Google Repository in C:\\Users\\NaTu\\AppData\\Local\\Android\\Sdk\\extras\\google\\m2repository\r\n    &quot;Install Google Repository (revision: 58)&quot; complete.\r\n    &quot;Install Google Repository (revision: 58)&quot; finished.\r\n    Preparing &quot;Install Sources for Android 27 (revision: 1)&quot;.\r\n    Downloading https://dl.google.com/android/repository/sources-27_r01.zip\r\n    java.io.IOException: Cannot download &#39;https://dl.google.com/android/repository/sources-27_r01.zip&#39;: Unsupported record version Unknown-130.125\r\n    , response: 200 OK\r\n    Warning: An error occurred while preparing SDK package Sources for Android 27: Cannot download &#39;https://dl.google.com/android/repository/sources-27_r01.zip&#39;: Unsupported record version Unknown-130.125\r\n    , response: 200 OK.\r\n    &quot;Install Sources for Android 27 (revision: 1)&quot; failed.\r\n    Preparing &quot;Install Android SDK Platform 27 (revision: 1)&quot;.\r\n    Downloading https://dl.google.com/android/repository/platform-27_r01.zip\r\n    &quot;Install Android SDK Platform 27 (revision: 1)&quot; ready.\r\n    Installing Android SDK Platform 27 in C:\\Users\\NaTu\\AppData\\Local\\Android\\Sdk\\platforms\\android-27\r\n    &quot;Install Android SDK Platform 27 (revision: 1)&quot; complete.\r\n    &quot;Install Android SDK Platform 27 (revision: 1)&quot; finished.\r\n    Parsing C:\\Users\\NaTu\\AppData\\Local\\Android\\Sdk\\build-tools\\27.0.3\\package.xml\r\n    Parsing C:\\Users\\NaTu\\AppData\\Local\\Android\\Sdk\\emulator\\package.xml\r\n    Parsing C:\\Users\\NaTu\\AppData\\Local\\Android\\Sdk\\extras\\google\\m2repository\\package.xml\r\n    Parsing C:\\Users\\NaTu\\AppData\\Local\\Android\\Sdk\\extras\\intel\\Hardware_Accelerated_Execution_Manager\\package.xml\r\n    Parsing C:\\Users\\NaTu\\AppData\\Local\\Android\\Sdk\\patcher\\v4\\package.xml\r\n    Parsing C:\\Users\\NaTu\\AppData\\Local\\Android\\Sdk\\platform-tools\\package.xml\r\n    Parsing C:\\Users\\NaTu\\AppData\\Local\\Android\\Sdk\\platforms\\android-27\\package.xml\r\n    java.io.IOException: Cannot download &#39;https://dl.google.com/android/repository/sdk-tools-windows-4333796.zip&#39;: Unsupported record version Unknown-192.23\r\n    , response: 200 OK\r\n    Warning: An error occurred while preparing SDK package Android SDK Tools: Cannot download &#39;https://dl.google.com/android/repository/sdk-tools-windows-4333796.zip&#39;: Unsupported record version Unknown-192.23\r\n    , response: 200 OK.\r\n    java.io.IOException: Cannot download &#39;https://dl.google.com/android/repository/android_m2repository_r47.zip&#39;: Tag mismatch!\r\n    , response: 200 OK\r\n    Warning: An error occurred while preparing SDK package Android Support Repository: Cannot download &#39;https://dl.google.com/android/repository/android_m2repository_r47.zip&#39;: Tag mismatch!\r\n    , response: 200 OK.\r\n    java.io.IOException: Cannot download &#39;https://dl.google.com/android/repository/sources-27_r01.zip&#39;: Unsupported record version Unknown-130.125\r\n    , response: 200 OK\r\n    Warning: An error occurred while preparing SDK package Sources for Android 27: Cannot download &#39;https://dl.google.com/android/repository/sources-27_r01.zip&#39;: Unsupported record version Unknown-130.125\r\n    , response: 200 OK.\r\n\r\n    Preparing &quot;Install Android Support Repository (revision: 47.0.0)&quot;.\r\n    Downloading https://dl.google.com/android/repository/android_m2repository_r47.zip\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Android Studio Installation BUG","body":"<p>From yesterday i am having problems while installing android studio on my new SSD disc. </p>\n\n<p>I tried to turn off firewall, windows defender, run android studio with ADMINISTRATOR rights, also i tried downloading JDK 8 , then JDK 10 ,\nI have JAVA on my computer and when i try to run ANDROID STUDIO for the first time and when he try to download things like android sdk or similar i am getting always the same message like this;</p>\n\n<blockquote>\n  <p>Preparing \"Install Android SDK Tools (revision: 26.1.1)\". Downloading\n  <a href=\"https://dl.google.com/android/repository/sdk-tools-windows-4333796.zip\" rel=\"nofollow noreferrer\">https://dl.google.com/android/repository/sdk-tools-windows-4333796.zip</a>\n  java.io.IOException: Cannot download\n  '<a href=\"https://dl.google.com/android/repository/sdk-tools-windows-4333796.zip\" rel=\"nofollow noreferrer\">https://dl.google.com/android/repository/sdk-tools-windows-4333796.zip</a>':\n  Unsupported record version Unknown-192.23 , response: 200 OK<br>\n  Warning:\n  An error occurred while preparing SDK package Android SDK Tools:<br>\n  Cannot download\n  '<a href=\"https://dl.google.com/android/repository/sdk-tools-windows-4333796.zip\" rel=\"nofollow noreferrer\">https://dl.google.com/android/repository/sdk-tools-windows-4333796.zip</a>':\n  Unsupported record version Unknown-192.23 , response: 200 OK. \"Install\n  Android SDK Tools (revision: 26.1.1)\" failed.</p>\n</blockquote>\n\n<p>I am always getting this for error when i try to start Android Studio Unsupported record version </p>\n\n<blockquote>\n  <p>Unknown-192.23(&lt;-- this numbers are always diffrent )</p>\n</blockquote>\n\n<p>Thank you guys who will try to help me fix this</p>\n\n<p>P.s. i am using Windows 7 64 bit &amp; Vertex 60gb SSD</p>\n\n<p>P.s. android studio all worked on older HARD DISC , is problem in hard?</p>\n\n<p>This is FULL INSTALATION logs you can see a lot of mistakes and failer installations,why that happens ?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>Preparing \"Install Android SDK Tools (revision: 26.1.1)\".\r\nDownloading https://dl.google.com/android/repository/sdk-tools-windows-4333796.zip\r\njava.io.IOException: Cannot download 'https://dl.google.com/android/repository/sdk-tools-windows-4333796.zip': Unsupported record version Unknown-192.23\r\n, response: 200 OK\r\nWarning: An error occurred while preparing SDK package Android SDK Tools: Cannot download 'https://dl.google.com/android/repository/sdk-tools-windows-4333796.zip': Unsupported record version Unknown-192.23\r\n, response: 200 OK.\r\n\"Install Android SDK Tools (revision: 26.1.1)\" failed.\r\nPreparing \"Install Intel x86 Emulator Accelerator (HAXM installer) (revision: 6.2.1)\".\r\nDownloading https://dl.google.com/android/repository/extras/intel/haxm-windows_r6_2_1.zip\r\n\"Install Intel x86 Emulator Accelerator (HAXM installer) (revision: 6.2.1)\" ready.\r\nInstalling Intel x86 Emulator Accelerator (HAXM installer) in C:\\Users\\NaTu\\AppData\\Local\\Android\\Sdk\\extras\\intel\\Hardware_Accelerated_Execution_Manager\r\n\"Install Intel x86 Emulator Accelerator (HAXM installer) (revision: 6.2.1)\" complete.\r\n\"Install Intel x86 Emulator Accelerator (HAXM installer) (revision: 6.2.1)\" finished.\r\nPreparing \"Install SDK Patch Applier v4 (revision: 1)\".\r\nDownloading https://dl.google.com/android/repository/3534162-studio.sdk-patcher.zip.bak\r\n\"Install SDK Patch Applier v4 (revision: 1)\" ready.\r\nInstalling SDK Patch Applier v4 in C:\\Users\\NaTu\\AppData\\Local\\Android\\Sdk\\patcher\\v4\r\n\"Install SDK Patch Applier v4 (revision: 1)\" complete.\r\n\"Install SDK Patch Applier v4 (revision: 1)\" finished.\r\nPreparing \"Install Android Emulator (revision: 27.1.12)\".\r\nDownloading https://dl.google.com/android/repository/emulator-windows-4623001.zip\r\n\"Install Android Emulator (revision: 27.1.12)\" ready.\r\nInstalling Android Emulator in C:\\Users\\NaTu\\AppData\\Local\\Android\\Sdk\\emulator\r\n\"Install Android Emulator (revision: 27.1.12)\" complete.\r\n\"Install Android Emulator (revision: 27.1.12)\" finished.\r\nPreparing \"Install Android Support Repository (revision: 47.0.0)\".\r\nDownloading https://dl.google.com/android/repository/android_m2repository_r47.zip\r\njava.io.IOException: Cannot download 'https://dl.google.com/android/repository/android_m2repository_r47.zip': Tag mismatch!\r\n, response: 200 OK\r\nWarning: An error occurred while preparing SDK package Android Support Repository: Cannot download 'https://dl.google.com/android/repository/android_m2repository_r47.zip': Tag mismatch!\r\n, response: 200 OK.\r\n\"Install Android Support Repository (revision: 47.0.0)\" failed.\r\nPreparing \"Install Android SDK Platform-Tools (revision: 27.0.1)\".\r\nDownloading https://dl.google.com/android/repository/platform-tools_r27.0.1-windows.zip\r\n\"Install Android SDK Platform-Tools (revision: 27.0.1)\" ready.\r\nInstalling Android SDK Platform-Tools in C:\\Users\\NaTu\\AppData\\Local\\Android\\Sdk\\platform-tools\r\n\"Install Android SDK Platform-Tools (revision: 27.0.1)\" complete.\r\n\"Install Android SDK Platform-Tools (revision: 27.0.1)\" finished.\r\nPreparing \"Install Android SDK Build-Tools 27.0.3 (revision: 27.0.3)\".\r\nDownloading https://dl.google.com/android/repository/build-tools_r27.0.3-windows.zip\r\n\"Install Android SDK Build-Tools 27.0.3 (revision: 27.0.3)\" ready.\r\nInstalling Android SDK Build-Tools 27.0.3 in C:\\Users\\NaTu\\AppData\\Local\\Android\\Sdk\\build-tools\\27.0.3\r\n\"Install Android SDK Build-Tools 27.0.3 (revision: 27.0.3)\" complete.\r\n\"Install Android SDK Build-Tools 27.0.3 (revision: 27.0.3)\" finished.\r\nPreparing \"Install Google Repository (revision: 58)\".\r\nDownloading https://dl.google.com/android/repository/google_m2repository_gms_v11_3_rc05_wear_2_0_5.zip\r\n\"Install Google Repository (revision: 58)\" ready.\r\nInstalling Google Repository in C:\\Users\\NaTu\\AppData\\Local\\Android\\Sdk\\extras\\google\\m2repository\r\n\"Install Google Repository (revision: 58)\" complete.\r\n\"Install Google Repository (revision: 58)\" finished.\r\nPreparing \"Install Sources for Android 27 (revision: 1)\".\r\nDownloading https://dl.google.com/android/repository/sources-27_r01.zip\r\njava.io.IOException: Cannot download 'https://dl.google.com/android/repository/sources-27_r01.zip': Unsupported record version Unknown-130.125\r\n, response: 200 OK\r\nWarning: An error occurred while preparing SDK package Sources for Android 27: Cannot download 'https://dl.google.com/android/repository/sources-27_r01.zip': Unsupported record version Unknown-130.125\r\n, response: 200 OK.\r\n\"Install Sources for Android 27 (revision: 1)\" failed.\r\nPreparing \"Install Android SDK Platform 27 (revision: 1)\".\r\nDownloading https://dl.google.com/android/repository/platform-27_r01.zip\r\n\"Install Android SDK Platform 27 (revision: 1)\" ready.\r\nInstalling Android SDK Platform 27 in C:\\Users\\NaTu\\AppData\\Local\\Android\\Sdk\\platforms\\android-27\r\n\"Install Android SDK Platform 27 (revision: 1)\" complete.\r\n\"Install Android SDK Platform 27 (revision: 1)\" finished.\r\nParsing C:\\Users\\NaTu\\AppData\\Local\\Android\\Sdk\\build-tools\\27.0.3\\package.xml\r\nParsing C:\\Users\\NaTu\\AppData\\Local\\Android\\Sdk\\emulator\\package.xml\r\nParsing C:\\Users\\NaTu\\AppData\\Local\\Android\\Sdk\\extras\\google\\m2repository\\package.xml\r\nParsing C:\\Users\\NaTu\\AppData\\Local\\Android\\Sdk\\extras\\intel\\Hardware_Accelerated_Execution_Manager\\package.xml\r\nParsing C:\\Users\\NaTu\\AppData\\Local\\Android\\Sdk\\patcher\\v4\\package.xml\r\nParsing C:\\Users\\NaTu\\AppData\\Local\\Android\\Sdk\\platform-tools\\package.xml\r\nParsing C:\\Users\\NaTu\\AppData\\Local\\Android\\Sdk\\platforms\\android-27\\package.xml\r\njava.io.IOException: Cannot download 'https://dl.google.com/android/repository/sdk-tools-windows-4333796.zip': Unsupported record version Unknown-192.23\r\n, response: 200 OK\r\nWarning: An error occurred while preparing SDK package Android SDK Tools: Cannot download 'https://dl.google.com/android/repository/sdk-tools-windows-4333796.zip': Unsupported record version Unknown-192.23\r\n, response: 200 OK.\r\njava.io.IOException: Cannot download 'https://dl.google.com/android/repository/android_m2repository_r47.zip': Tag mismatch!\r\n, response: 200 OK\r\nWarning: An error occurred while preparing SDK package Android Support Repository: Cannot download 'https://dl.google.com/android/repository/android_m2repository_r47.zip': Tag mismatch!\r\n, response: 200 OK.\r\njava.io.IOException: Cannot download 'https://dl.google.com/android/repository/sources-27_r01.zip': Unsupported record version Unknown-130.125\r\n, response: 200 OK\r\nWarning: An error occurred while preparing SDK package Sources for Android 27: Cannot download 'https://dl.google.com/android/repository/sources-27_r01.zip': Unsupported record version Unknown-130.125\r\n, response: 200 OK.\r\n\r\nPreparing \"Install Android Support Repository (revision: 47.0.0)\".\r\nDownloading https://dl.google.com/android/repository/android_m2repository_r47.zip</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user554546"},"score":4,"creation_date":1351721943,"post_id":13168258,"comment_id":17918249,"body_markdown":"You&#39;re working on a method that allows users to change their balance? I&#39;ll take a balance of one billion USD, please.","body":"You&#39;re working on a method that allows users to change their balance? I&#39;ll take a balance of one billion USD, please."},{"owner":{"display_name":"user554546"},"score":0,"creation_date":1351721983,"post_id":13168258,"comment_id":17918258,"body_markdown":"Also, you forgot the parentheses at the end of `getBalance()`.","body":"Also, you forgot the parentheses at the end of <code>getBalance()</code>."},{"owner":{"account_id":1432833,"reputation":378,"user_id":1354836,"accept_rate":64,"display_name":"Gcap"},"score":0,"creation_date":1351722009,"post_id":13168258,"comment_id":17918266,"body_markdown":"Its for a project in school lol not a real life application, it&#39;s supposed to simulate depositing money at a bank","body":"Its for a project in school lol not a real life application, it&#39;s supposed to simulate depositing money at a bank"},{"owner":{"account_id":1432833,"reputation":378,"user_id":1354836,"accept_rate":64,"display_name":"Gcap"},"score":0,"creation_date":1351722072,"post_id":13168258,"comment_id":17918289,"body_markdown":"Even with them it doesnt work","body":"Even with them it doesnt work"},{"owner":{"display_name":"user554546"},"score":0,"creation_date":1351722082,"post_id":13168258,"comment_id":17918294,"body_markdown":"Regardless, you might want to consider not making that method `public`.","body":"Regardless, you might want to consider not making that method <code>public</code>."},{"owner":{"display_name":"user554546"},"score":0,"creation_date":1351722098,"post_id":13168258,"comment_id":17918298,"body_markdown":"The string &quot;doesn&#39;t work&quot; is not a built-in error message in Java.","body":"The string &quot;doesn&#39;t work&quot; is not a built-in error message in Java."},{"owner":{"account_id":358449,"reputation":42107,"user_id":699224,"accept_rate":67,"display_name":"DNA"},"score":1,"creation_date":1351722245,"post_id":13168258,"comment_id":17918333,"body_markdown":"It doesn&#39;t look like you&#39;ve actually included the line where the error occurred? Which is line 95?","body":"It doesn&#39;t look like you&#39;ve actually included the line where the error occurred? Which is line 95?"},{"owner":{"account_id":223272,"reputation":166,"user_id":482367,"display_name":"jonny2k9"},"score":1,"creation_date":1351722258,"post_id":13168258,"comment_id":17918339,"body_markdown":"You should do all monetary calculations using either longs or ints.","body":"You should do all monetary calculations using either longs or ints."},{"owner":{"account_id":192292,"reputation":7779,"user_id":433348,"accept_rate":88,"display_name":"Kevin Welker"},"score":1,"creation_date":1351722284,"post_id":13168258,"comment_id":17918349,"body_markdown":"not enough detail -- how are you using this method?  As it is, the method would only return what the adjusted balance *would* be if committed.  But I am supposing that there is some persistence layer (i.e., database access), which would have to be invoked to actually update the account balance with the calculated balance.","body":"not enough detail -- how are you using this method?  As it is, the method would only return what the adjusted balance <i>would</i> be if committed.  But I am supposing that there is some persistence layer (i.e., database access), which would have to be invoked to actually update the account balance with the calculated balance."},{"owner":{"account_id":1025295,"reputation":46067,"user_id":1034737,"accept_rate":80,"display_name":"PermGenError"},"score":1,"creation_date":1351722363,"post_id":13168258,"comment_id":17918372,"body_markdown":"post your findaccount(), you could be returning new Account().","body":"post your findaccount(), you could be returning new Account()."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1351722508,"post_id":13168258,"comment_id":17918411,"body_markdown":"You will not able to modify the balance with such a code.","body":"You will not able to modify the balance with such a code."},{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":0,"creation_date":1351722638,"post_id":13168258,"comment_id":17918457,"body_markdown":"The declaration of (or at least the assignment to) `currBal` needs to be moved inside the `if` block. Otherwise, if `temp` is `null`, the declaration will generate a `NullPointerException`.","body":"The declaration of (or at least the assignment to) <code>currBal</code> needs to be moved inside the <code>if</code> block. Otherwise, if <code>temp</code> is <code>null</code>, the declaration will generate a <code>NullPointerException</code>."}],"answers":[{"comments":[{"owner":{"account_id":1432833,"reputation":378,"user_id":1354836,"accept_rate":64,"display_name":"Gcap"},"score":0,"creation_date":1351723390,"post_id":13168407,"comment_id":17918689,"body_markdown":"My getBalance() has the right balance at the time.. but i&#39;m having trouble updating that to currBal","body":"My getBalance() has the right balance at the time.. but i&#39;m having trouble updating that to currBal"},{"owner":{"account_id":1432833,"reputation":378,"user_id":1354836,"accept_rate":64,"display_name":"Gcap"},"score":0,"creation_date":1351723444,"post_id":13168407,"comment_id":17918703,"body_markdown":"in getBalance() theres a private double called currentBalance that is read from a file so i technically need to update currentBalance, but like i said it&#39;s private and my professor wants us to keep it that way :\\","body":"in getBalance() theres a private double called currentBalance that is read from a file so i technically need to update currentBalance, but like i said it&#39;s private and my professor wants us to keep it that way :\\"},{"owner":{"account_id":1025295,"reputation":46067,"user_id":1034737,"accept_rate":80,"display_name":"PermGenError"},"score":0,"creation_date":1351723549,"post_id":13168407,"comment_id":17918738,"body_markdown":"do you mean getBalance() has a private variable called currentBalance ??... it cant be true, local variables can only be marked final.","body":"do you mean getBalance() has a private variable called currentBalance ??... it cant be true, local variables can only be marked final."},{"owner":{"account_id":1432833,"reputation":378,"user_id":1354836,"accept_rate":64,"display_name":"Gcap"},"score":0,"creation_date":1351723662,"post_id":13168407,"comment_id":17918771,"body_markdown":"well the class Account() has the private variable currentBalance and then all getBalance() does is return currentBalance","body":"well the class Account() has the private variable currentBalance and then all getBalance() does is return currentBalance"}],"tags":[],"owner":{"account_id":1025295,"reputation":46067,"user_id":1034737,"accept_rate":80,"display_name":"PermGenError"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1351723477,"creation_date":1351722769,"answer_id":13168407,"question_id":13168258,"body_markdown":"as you have not posted relavant parts of your code, i am assuming either your `temp.getBalance()` is returning `0.0` or your `findAccount()` method returns an empty new `Account()` object.\r\n\r\n      public Account findAccount(yourparameters) {\r\n          Account account = new Account();\r\n           //do your finding logic\r\n          return account;\r\n\r\nif say it doesnt find the account, it would still return an Account object , thus \r\n\r\n         double currBalc= temp.getBalance(); would return 0.0  \r\n\r\n     if (temp!= null){  // your if passes here as temp is not null    \r\n        currBal = currBal + adjustment;   0.0+200.0\r\n     }\r\n     else {\r\n           System.out.println(&quot;No account found. &quot;);\r\n        }\r\n\r\n**EDIT after you updated your finfAccount()**\r\n\r\n\r\nit could be that your call to `getBalance()` is returning 0.0 \r\n\r\nafter    `double currBal = temp.getBalance();` line if it prints you 200.0 then your temp is null.    \r\n","title":"Updating a value in a method - java","body":"<p>as you have not posted relavant parts of your code, i am assuming either your <code>temp.getBalance()</code> is returning <code>0.0</code> or your <code>findAccount()</code> method returns an empty new <code>Account()</code> object.</p>\n\n<pre><code>  public Account findAccount(yourparameters) {\n      Account account = new Account();\n       //do your finding logic\n      return account;\n</code></pre>\n\n<p>if say it doesnt find the account, it would still return an Account object , thus </p>\n\n<pre><code>     double currBalc= temp.getBalance(); would return 0.0  \n\n if (temp!= null){  // your if passes here as temp is not null    \n    currBal = currBal + adjustment;   0.0+200.0\n }\n else {\n       System.out.println(\"No account found. \");\n    }\n</code></pre>\n\n<p><strong>EDIT after you updated your finfAccount()</strong></p>\n\n<p>it could be that your call to <code>getBalance()</code> is returning 0.0 </p>\n\n<p>after    <code>double currBal = temp.getBalance();</code> line if it prints you 200.0 then your temp is null.    </p>\n"},{"tags":[],"owner":{"account_id":1990196,"reputation":136,"user_id":1784386,"display_name":"Paulo Viana"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1351725130,"creation_date":1351725130,"answer_id":13168760,"question_id":13168258,"body_markdown":"Your `modifyBalance` method just updates the `currBal` variable, leaving `temp` object intact. This is the reason why `temp`&#39;s `currentBalance` variable is not updated. Why don&#39;t you just delete all this mess and create a simple `setBalance` method?\r\n\r\n    public void setBalance(double balance) { this.currentBalance = balance;   }\r\n\r\nWith this you could call anywhere in the code:\r\n\r\n     Account temp = findAccount(accountID, 0, size, lastPos); \r\n     if (temp!= null) {   \r\n       temp.setBalance(temp.getBalance() + adjustment); //updates temp currentBalance\r\n     } \r\n     else { System.out.println(&quot;No account found. &quot;); }\r\n\r\n","title":"Updating a value in a method - java","body":"<p>Your <code>modifyBalance</code> method just updates the <code>currBal</code> variable, leaving <code>temp</code> object intact. This is the reason why <code>temp</code>'s <code>currentBalance</code> variable is not updated. Why don't you just delete all this mess and create a simple <code>setBalance</code> method?</p>\n\n<pre><code>public void setBalance(double balance) { this.currentBalance = balance;   }\n</code></pre>\n\n<p>With this you could call anywhere in the code:</p>\n\n<pre><code> Account temp = findAccount(accountID, 0, size, lastPos); \n if (temp!= null) {   \n   temp.setBalance(temp.getBalance() + adjustment); //updates temp currentBalance\n } \n else { System.out.println(\"No account found. \"); }\n</code></pre>\n"}],"owner":{"account_id":1432833,"reputation":378,"user_id":1354836,"accept_rate":64,"display_name":"Gcap"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3062,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1686805170,"creation_date":1351721845,"question_id":13168258,"body_markdown":"So in this program there are bank accounts and I&#39;m working on a method that allows users to change their balance this is what I have: &lt;br&gt;\r\n\r\n       public double modifyBalance(int accountID, double adjustment) {\r\n         Account temp = findAccount(accountID, 0, size, lastPos);\r\n         double currBal = temp.getBalance();\t\r\n         if (temp!= null){\t\t\r\n            currBal = currBal + adjustment;\r\n         }\r\n         else {\r\n               System.out.println(&quot;No account found. &quot;);\r\n            }\r\n    \r\n         \r\n         return currBal;\r\n      }\r\n\r\nthe return of currBal however is not updating the actual account&#39;s balance, i tried `temp.getBalance() = currBal;` but that didn&#39;t work and gave me a compile error saying: \r\n\r\n&gt; OrderedVectorOfAccounts.java:95: error: cannot find symbol&lt;br&gt;\r\n       temp.getBalance = currBal;&lt;br&gt;\r\n      &amp;nbsp;&amp;nbsp;&amp;nbsp;    &amp;nbsp;&amp;nbsp; &amp;nbsp;^\r\n  &lt;br&gt;symbol:   variable getBalance&lt;br&gt;\r\n  location: variable temp of type Account&lt;br&gt;\r\n1 error\r\n\r\nFor example: If the account&#39;s balance was 200 and I &quot;deposit&quot; or add 200 it should be 400, but it is remaining as 200 with what I have..&lt;br&gt;\r\nAny help would be great! Thanks!\r\n\r\n\r\n\r\n\r\nThis is my findAccount():&lt;br&gt;&lt;br&gt;\r\n\r\n    public Account findAccount(int accountID, int from, int to, int [] lastPos){\r\n         if(from &gt; to || (from+2)/2 &gt;= size)\r\n            return null;\r\n         while(from &lt;=to) {   \r\n            if(accountID == theAccounts[(from+to)/2].getAccountNum())\r\n               return theAccounts[(from + to)/2];\r\n            else if (accountID&gt;theAccounts[(from + to)/2].getAccountNum()){\r\n              // return findAccount(accountID, (((from + to)/2)+1), to, lastPos);\r\n               return theAccounts[accountID-1];\r\n            }\r\n            else if (accountID&lt;theAccounts[(from + to)/2].getAccountNum()){\r\n               //return findAccount(accountID, from, (((from + to)/2)-1),lastPos);\r\n               return theAccounts[accountID-1];\r\n            }\r\n         }\r\n         lastPos[0] = (from + to)/2;\r\n         return null;","title":"Updating a value in a method - java","body":"<p>So in this program there are bank accounts and I'm working on a method that allows users to change their balance this is what I have: <br></p>\n\n<pre><code>   public double modifyBalance(int accountID, double adjustment) {\n     Account temp = findAccount(accountID, 0, size, lastPos);\n     double currBal = temp.getBalance();    \n     if (temp!= null){      \n        currBal = currBal + adjustment;\n     }\n     else {\n           System.out.println(\"No account found. \");\n        }\n\n\n     return currBal;\n  }\n</code></pre>\n\n<p>the return of currBal however is not updating the actual account's balance, i tried <code>temp.getBalance() = currBal;</code> but that didn't work and gave me a compile error saying: </p>\n\n<blockquote>\n  <p>OrderedVectorOfAccounts.java:95: error: cannot find symbol<br>\n         temp.getBalance = currBal;<br>\n        &nbsp;&nbsp;&nbsp;    &nbsp;&nbsp; &nbsp;^\n    <br>symbol:   variable getBalance<br>\n    location: variable temp of type Account<br>\n  1 error</p>\n</blockquote>\n\n<p>For example: If the account's balance was 200 and I \"deposit\" or add 200 it should be 400, but it is remaining as 200 with what I have..<br>\nAny help would be great! Thanks!</p>\n\n<p>This is my findAccount():<br><br></p>\n\n<pre><code>public Account findAccount(int accountID, int from, int to, int [] lastPos){\n     if(from &gt; to || (from+2)/2 &gt;= size)\n        return null;\n     while(from &lt;=to) {   \n        if(accountID == theAccounts[(from+to)/2].getAccountNum())\n           return theAccounts[(from + to)/2];\n        else if (accountID&gt;theAccounts[(from + to)/2].getAccountNum()){\n          // return findAccount(accountID, (((from + to)/2)+1), to, lastPos);\n           return theAccounts[accountID-1];\n        }\n        else if (accountID&lt;theAccounts[(from + to)/2].getAccountNum()){\n           //return findAccount(accountID, from, (((from + to)/2)-1),lastPos);\n           return theAccounts[accountID-1];\n        }\n     }\n     lastPos[0] = (from + to)/2;\n     return null;\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1686803283,"post_id":76479110,"comment_id":134850134,"body_markdown":"What do you mean &quot;_path, header and body_&quot;? There aren&#39;t any until your app starts getting requests.","body":"What do you mean &quot;<i>path, header and body</i>&quot;? There aren&#39;t any until your app starts getting requests."},{"owner":{"account_id":7788110,"reputation":1429,"user_id":6306585,"accept_rate":60,"display_name":"Shakirov Ramil"},"score":0,"creation_date":1686812473,"post_id":76479110,"comment_id":134851307,"body_markdown":"look to swagger","body":"look to swagger"}],"answers":[{"comments":[{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1687136363,"post_id":76479249,"comment_id":134890155,"body_markdown":"[help/gpt-policy](/help/gpt-policy)","body":"<a href=\"/help/gpt-policy\">help/gpt-policy</a>"}],"tags":[],"owner":{"account_id":376857,"reputation":1599,"user_id":1309503,"display_name":"divyang4481"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686805101,"creation_date":1686805101,"answer_id":76479249,"question_id":76479110,"body_markdown":"To retrieve all the request method, request path, request header, and request body once a Spring Boot application starts, you can use an implementation of the `Filter` interface provided by the Servlet API. Here&#39;s an example of how you can achieve this:\r\n\r\n1. Create a new class that implements the `Filter` interface. This class will intercept incoming HTTP requests and extract the desired information. For example:\r\n\r\n```java\r\nimport javax.servlet.*;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport java.io.IOException;\r\n\r\npublic class RequestLoggingFilter implements Filter {\r\n    @Override\r\n    public void init(FilterConfig filterConfig) throws ServletException {\r\n        // Initialization logic, if any\r\n    }\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\r\n            throws IOException, ServletException {\r\n        if (request instanceof HttpServletRequest) {\r\n            HttpServletRequest httpRequest = (HttpServletRequest) request;\r\n\r\n            // Retrieve the request method, path, headers, and body here\r\n            String method = httpRequest.getMethod();\r\n            String path = httpRequest.getRequestURI();\r\n            String headers = httpRequest.getHeader(&quot;headerName&quot;); // Replace &quot;headerName&quot; with the desired header name\r\n            String body = httpRequest.getReader().lines().collect(Collectors.joining(System.lineSeparator()));\r\n\r\n            // Perform logging or any other processing with the retrieved information\r\n            System.out.println(&quot;Request Method: &quot; + method);\r\n            System.out.println(&quot;Request Path: &quot; + path);\r\n            System.out.println(&quot;Request Headers: &quot; + headers);\r\n            System.out.println(&quot;Request Body: &quot; + body);\r\n        }\r\n\r\n        // Proceed with the request chain\r\n        chain.doFilter(request, response);\r\n    }\r\n\r\n    @Override\r\n    public void destroy() {\r\n        // Cleanup logic, if any\r\n    }\r\n}\r\n```\r\n\r\n2. Register the `RequestLoggingFilter` in your Spring Boot application. There are a few ways to do this:\r\n\r\n   a. If you&#39;re using Spring Boot&#39;s default embedded servlet container (e.g., Tomcat), you can register the filter as a bean in your `@Configuration` class:\r\n\r\n   ```java\r\n   import org.springframework.boot.web.servlet.FilterRegistrationBean;\r\n   import org.springframework.context.annotation.Bean;\r\n   import org.springframework.context.annotation.Configuration;\r\n\r\n   @Configuration\r\n   public class AppConfig {\r\n       @Bean\r\n       public FilterRegistrationBean&lt;RequestLoggingFilter&gt; requestLoggingFilterRegistration() {\r\n           FilterRegistrationBean&lt;RequestLoggingFilter&gt; registration = new FilterRegistrationBean&lt;&gt;();\r\n           registration.setFilter(new RequestLoggingFilter());\r\n           registration.addUrlPatterns(&quot;/*&quot;); // Apply the filter to all URLs\r\n           return registration;\r\n       }\r\n   }\r\n   ```\r\n\r\n   b. If you&#39;re using Spring Boot with Spring MVC, you can register the filter by extending the `WebMvcConfigurerAdapter` class:\r\n\r\n   ```java\r\n   import org.springframework.context.annotation.Configuration;\r\n   import org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter;\r\n\r\n   @Configuration\r\n   public class AppConfig extends WebMvcConfigurerAdapter {\r\n       @Override\r\n       public void addInterceptors(InterceptorRegistry registry) {\r\n           registry.addInterceptor(new RequestLoggingFilter());\r\n       }\r\n   }\r\n   ```\r\n\r\n3. Start your Spring Boot application, and the `RequestLoggingFilter` will intercept all incoming requests and log the requested information.\r\n\r\nNote: Make sure you replace `&quot;headerName&quot;` in the code with the actual name of the header you want to retrieve. Additionally, keep in mind that logging the request body may have security implications, so use it with caution and ensure that sensitive information is not inadvertently logged.","title":"How to retrieve all the request method, request path, request header and request body once spring boot application starts?","body":"<p>To retrieve all the request method, request path, request header, and request body once a Spring Boot application starts, you can use an implementation of the <code>Filter</code> interface provided by the Servlet API. Here's an example of how you can achieve this:</p>\n<ol>\n<li>Create a new class that implements the <code>Filter</code> interface. This class will intercept incoming HTTP requests and extract the desired information. For example:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.servlet.*;\nimport javax.servlet.http.HttpServletRequest;\nimport java.io.IOException;\n\npublic class RequestLoggingFilter implements Filter {\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n        // Initialization logic, if any\n    }\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n            throws IOException, ServletException {\n        if (request instanceof HttpServletRequest) {\n            HttpServletRequest httpRequest = (HttpServletRequest) request;\n\n            // Retrieve the request method, path, headers, and body here\n            String method = httpRequest.getMethod();\n            String path = httpRequest.getRequestURI();\n            String headers = httpRequest.getHeader(&quot;headerName&quot;); // Replace &quot;headerName&quot; with the desired header name\n            String body = httpRequest.getReader().lines().collect(Collectors.joining(System.lineSeparator()));\n\n            // Perform logging or any other processing with the retrieved information\n            System.out.println(&quot;Request Method: &quot; + method);\n            System.out.println(&quot;Request Path: &quot; + path);\n            System.out.println(&quot;Request Headers: &quot; + headers);\n            System.out.println(&quot;Request Body: &quot; + body);\n        }\n\n        // Proceed with the request chain\n        chain.doFilter(request, response);\n    }\n\n    @Override\n    public void destroy() {\n        // Cleanup logic, if any\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li><p>Register the <code>RequestLoggingFilter</code> in your Spring Boot application. There are a few ways to do this:</p>\n<p>a. If you're using Spring Boot's default embedded servlet container (e.g., Tomcat), you can register the filter as a bean in your <code>@Configuration</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.boot.web.servlet.FilterRegistrationBean;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class AppConfig {\n    @Bean\n    public FilterRegistrationBean&lt;RequestLoggingFilter&gt; requestLoggingFilterRegistration() {\n        FilterRegistrationBean&lt;RequestLoggingFilter&gt; registration = new FilterRegistrationBean&lt;&gt;();\n        registration.setFilter(new RequestLoggingFilter());\n        registration.addUrlPatterns(&quot;/*&quot;); // Apply the filter to all URLs\n        return registration;\n    }\n}\n</code></pre>\n<p>b. If you're using Spring Boot with Spring MVC, you can register the filter by extending the <code>WebMvcConfigurerAdapter</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter;\n\n@Configuration\npublic class AppConfig extends WebMvcConfigurerAdapter {\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor(new RequestLoggingFilter());\n    }\n}\n</code></pre>\n</li>\n<li><p>Start your Spring Boot application, and the <code>RequestLoggingFilter</code> will intercept all incoming requests and log the requested information.</p>\n</li>\n</ol>\n<p>Note: Make sure you replace <code>&quot;headerName&quot;</code> in the code with the actual name of the header you want to retrieve. Additionally, keep in mind that logging the request body may have security implications, so use it with caution and ensure that sensitive information is not inadvertently logged.</p>\n"}],"owner":{"account_id":3945438,"reputation":348,"user_id":4213184,"display_name":"Shreyas Murali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686805101,"creation_date":1686803174,"question_id":76479110,"body_markdown":"We are looking to create a file with all the request methods, path, header and body once spring boot application is up. I mean even before any endpoint is hit. Can this be accomplished? The below code doesn&#39;t seem to work.\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.method.HandlerMethod;\r\n    import org.springframework.web.servlet.mvc.method.RequestMappingInfo;\r\n    import org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping;\r\n    \r\n    import java.util.Map;\r\n    import java.util.Set;\r\n    \r\n    @Component\r\n    public class EndpointScanner {\r\n    \r\n        private RequestMappingHandlerMapping handlerMapping;\r\n    \r\n        @Autowired\r\n        public EndpointScanner(RequestMappingHandlerMapping handlerMapping) {\r\n            this.handlerMapping = handlerMapping;\r\n        }\r\n    \r\n        public void scanEndpointsWithRequestBody() {\r\n            Map&lt;RequestMappingInfo, HandlerMethod&gt; handlerMethods = handlerMapping.getHandlerMethods();\r\n    \r\n            for (RequestMappingInfo requestMappingInfo : handlerMethods.keySet()) {\r\n                HandlerMethod handlerMethod = handlerMethods.get(requestMappingInfo);\r\n                Set&lt;String&gt; methods = requestMappingInfo.getMethodsCondition().getMethods();\r\n    \r\n                // Check if the endpoint accepts a request body\r\n                if (methods.size() &gt; 0 &amp;&amp; handlerMethod.getMethod().getParameterCount() &gt; 0) {\r\n                    RequestMapping requestMapping = handlerMethod.getMethodAnnotation(RequestMapping.class);\r\n                    String[] paths = requestMapping.value();\r\n                    // You can also access other details like HTTP methods, headers, etc.\r\n    \r\n                    for (String path : paths) {\r\n                        System.out.println(&quot;Endpoint: &quot; + path);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How to retrieve all the request method, request path, request header and request body once spring boot application starts?","body":"<p>We are looking to create a file with all the request methods, path, header and body once spring boot application is up. I mean even before any endpoint is hit. Can this be accomplished? The below code doesn't seem to work.</p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.method.HandlerMethod;\nimport org.springframework.web.servlet.mvc.method.RequestMappingInfo;\nimport org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping;\n\nimport java.util.Map;\nimport java.util.Set;\n\n@Component\npublic class EndpointScanner {\n\n    private RequestMappingHandlerMapping handlerMapping;\n\n    @Autowired\n    public EndpointScanner(RequestMappingHandlerMapping handlerMapping) {\n        this.handlerMapping = handlerMapping;\n    }\n\n    public void scanEndpointsWithRequestBody() {\n        Map&lt;RequestMappingInfo, HandlerMethod&gt; handlerMethods = handlerMapping.getHandlerMethods();\n\n        for (RequestMappingInfo requestMappingInfo : handlerMethods.keySet()) {\n            HandlerMethod handlerMethod = handlerMethods.get(requestMappingInfo);\n            Set&lt;String&gt; methods = requestMappingInfo.getMethodsCondition().getMethods();\n\n            // Check if the endpoint accepts a request body\n            if (methods.size() &gt; 0 &amp;&amp; handlerMethod.getMethod().getParameterCount() &gt; 0) {\n                RequestMapping requestMapping = handlerMethod.getMethodAnnotation(RequestMapping.class);\n                String[] paths = requestMapping.value();\n                // You can also access other details like HTTP methods, headers, etc.\n\n                for (String path : paths) {\n                    System.out.println(&quot;Endpoint: &quot; + path);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","unit-testing","nullpointerexception"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1686804741,"post_id":76472454,"comment_id":134850244,"body_markdown":"The package name may be correct, but [ClassNotFoundException](https://developer.android.com/reference/java/lang/ClassNotFoundException) means that the class (`packageName.MyMainActivity` ?) is not on the CLASSPATH. Enter `[android] classpath` into the search box at the top of this webpage. The `NullPointerException` is thrown because you simply log the `ClassNotFoundException` which means essentially that you ignore it. Hence `NullPointerException` is **not** the problem.","body":"The package name may be correct, but <a href=\"https://developer.android.com/reference/java/lang/ClassNotFoundException\" rel=\"nofollow noreferrer\">ClassNotFoundException</a> means that the class (<code>packageName.MyMainActivity</code> ?) is not on the CLASSPATH. Enter <code>[android] classpath</code> into the search box at the top of this webpage. The <code>NullPointerException</code> is thrown because you simply log the <code>ClassNotFoundException</code> which means essentially that you ignore it. Hence <code>NullPointerException</code> is <b>not</b> the problem."},{"owner":{"account_id":15205694,"reputation":31,"user_id":10972220,"display_name":"MChak"},"score":0,"creation_date":1686918729,"post_id":76472454,"comment_id":134868257,"body_markdown":"@Abra when I put the debugger I saw myClass is appearing null.","body":"@Abra when I put the debugger I saw myClass is appearing null."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1686921279,"post_id":76472454,"comment_id":134868810,"body_markdown":"`Class.forName(&quot;packageName.MyMainActivity&quot;)` is throwing an exception, hence `myClass` is not being assigned a value.","body":"<code>Class.forName(&quot;packageName.MyMainActivity&quot;)</code> is throwing an exception, hence <code>myClass</code> is not being assigned a value."}],"owner":{"account_id":15205694,"reputation":31,"user_id":10972220,"display_name":"MChak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1686738531,"answer_count":0,"score":0,"last_activity_date":1686805004,"creation_date":1686737789,"question_id":76472454,"body_markdown":"I am getting \r\n\r\n    java.lang.NullPointerException\r\n    \tat android.content.ComponentName.__constructor__(ComponentName.java:131)\r\n\r\nbecause during unit test the class is not being found even though the package name is correct.\r\n\r\nThis is the method I am trying to test:\r\n\r\n    fun mainActivityIntentProvider(): Intent {\r\n            var myClass: Class&lt;*&gt;? = null\r\n            try {\r\n                myClass = Class.forName(&quot;packageName.MyMainActivity&quot;)\r\n            } catch (e: ClassNotFoundException) {\r\n                // Some logging statement stating class not found\r\n            }\r\n            return Intent(AppContextHolder.getAppContext(), myClass)\r\n        }\r\n\r\nThe unit test code that I have written (using [MockK](https://mockk.io/)):\r\n\r\n    @Test\r\n        fun testMainActivityIntentProviderInHelper() {\r\n            context = mockk&lt;Context&gt;(relaxed = true)\r\n    \r\n            every { AppContextHolder.getAppContext() } returns context\r\n            val expectedClassName = &quot;packageName.MyMainActivity&quot;\r\n    \r\n            val result = myDemoClass.mainActivityIntentProvider()\r\n            val className = result.component?.className\r\n            assertEquals(expectedClassName, className)\r\n        }\r\n\r\n\r\n","title":"Class not getting found even though pacakge name is correct","body":"<p>I am getting</p>\n<pre><code>java.lang.NullPointerException\n    at android.content.ComponentName.__constructor__(ComponentName.java:131)\n</code></pre>\n<p>because during unit test the class is not being found even though the package name is correct.</p>\n<p>This is the method I am trying to test:</p>\n<pre><code>fun mainActivityIntentProvider(): Intent {\n        var myClass: Class&lt;*&gt;? = null\n        try {\n            myClass = Class.forName(&quot;packageName.MyMainActivity&quot;)\n        } catch (e: ClassNotFoundException) {\n            // Some logging statement stating class not found\n        }\n        return Intent(AppContextHolder.getAppContext(), myClass)\n    }\n</code></pre>\n<p>The unit test code that I have written (using <a href=\"https://mockk.io/\" rel=\"nofollow noreferrer\">MockK</a>):</p>\n<pre><code>@Test\n    fun testMainActivityIntentProviderInHelper() {\n        context = mockk&lt;Context&gt;(relaxed = true)\n\n        every { AppContextHolder.getAppContext() } returns context\n        val expectedClassName = &quot;packageName.MyMainActivity&quot;\n\n        val result = myDemoClass.mainActivityIntentProvider()\n        val className = result.component?.className\n        assertEquals(expectedClassName, className)\n    }\n</code></pre>\n"},{"tags":["java","android","listener"],"comments":[{"owner":{"account_id":13181158,"reputation":420,"user_id":9520479,"display_name":"Jhilton"},"score":0,"creation_date":1686535814,"post_id":76452969,"comment_id":134806967,"body_markdown":"What is the return type of `leaderboardsClient#submitScore` ?","body":"What is the return type of <code>leaderboardsClient#submitScore</code> ?"},{"owner":{"account_id":16445373,"reputation":613,"user_id":11880323,"display_name":"cmak"},"score":0,"creation_date":1686547926,"post_id":76452969,"comment_id":134807808,"body_markdown":"Both are wrong, the IDE only can signal the first wrong one, because it can&#39;t tell if the second is correct if the first one is wrong.","body":"Both are wrong, the IDE only can signal the first wrong one, because it can&#39;t tell if the second is correct if the first one is wrong."}],"answers":[{"tags":[],"owner":{"account_id":13575915,"reputation":69,"user_id":9793289,"display_name":"TNT"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686804554,"creation_date":1686804554,"answer_id":76479205,"question_id":76452969,"body_markdown":"try as follows\r\n\r\n     leaderboardsClient.submitScoreImmediate(leaderboardId, score).addOnSuccessListener(new OnSuccessListener&lt;ScoreSubmissionData&gt;() {\r\n        @Override\r\n        public void onSuccess(ScoreSubmissionData data) {\r\n          \r\n        }\r\n    }).addOnFailureListener(new OnFailureListener() {\r\n        @Override\r\n        public void onFailure(@NonNull Exception e) {\r\n          \r\n        }\r\n    });","title":"places of listener in java android studio","body":"<p>try as follows</p>\n<pre><code> leaderboardsClient.submitScoreImmediate(leaderboardId, score).addOnSuccessListener(new OnSuccessListener&lt;ScoreSubmissionData&gt;() {\n    @Override\n    public void onSuccess(ScoreSubmissionData data) {\n      \n    }\n}).addOnFailureListener(new OnFailureListener() {\n    @Override\n    public void onFailure(@NonNull Exception e) {\n      \n    }\n});\n</code></pre>\n"}],"owner":{"account_id":4270679,"reputation":11,"user_id":3492552,"display_name":"ruser"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76479205,"answer_count":1,"score":0,"last_activity_date":1686804554,"creation_date":1686528013,"question_id":76452969,"body_markdown":"when I replace &quot;addOnFailureListener&quot; and &quot;addOnSuccessListener&quot; in two different examples of the same code that I shared below, the top listener is wrong and the bottom one is not wrong. It hasn&#39;t happened to me before and I don&#39;t know what&#39;s causing it, what do you think I&#39;m doing wrong?\r\n\r\n    public void submitLeaderboardScore(long score) {\r\n                leaderboardsClient = Games.getLeaderboardsClient(getApplicationContext(), Objects.requireNonNull(GoogleSignIn.getLastSignedInAccount(getApplicationContext())));\r\n    \r\n                leaderboardsClient.submitScore(getString(R.string.leaderboard_id), score)\r\n                        .addOnFailureListener(new OnFailureListener() {\r\n                            @Override\r\n                            public void onFailure(@NonNull Exception e) {\r\n                                // Handle failure while submitting score\r\n                            }\r\n                        })\r\n                        .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                            @Override\r\n                            public void onSuccess(Void aVoid) {\r\n                                // Score submission successful\r\n                            }\r\n                        });\r\n    \r\n            }\r\n\r\n    public void submitLeaderboardScore(long score) {\r\n                leaderboardsClient = Games.getLeaderboardsClient(getApplicationContext(), Objects.requireNonNull(GoogleSignIn.getLastSignedInAccount(getApplicationContext())));\r\n    \r\n                leaderboardsClient.submitScore(getString(R.string.leaderboard_id), score)\r\n    \r\n                        .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                            @Override\r\n                            public void onSuccess(Void aVoid) {\r\n                                // Score submission successful\r\n                            }\r\n                        })\r\n    \r\n                        .addOnFailureListener(new OnFailureListener() {\r\n                            @Override\r\n                            public void onFailure(@NonNull Exception e) {\r\n                                // Handle failure while submitting score\r\n                            }\r\n                        });\r\n    \r\n    \r\n            }\r\n\r\n[success listener on top][1]\r\n[error listener on top][2]\r\n\r\nerror : Cannot resolve method &#39;addOnFailureListener(OnFailureListener)&#39;\r\nor\r\nCannot resolve method &#39;addOnSuccessListener(OnSuccessListener&lt;Void&gt;)&#39;\r\n\r\nwhichever is on top, error is displayed on it\r\n\r\n  [1]: https://i.stack.imgur.com/pCq7b.jpg\r\n  [2]: https://i.stack.imgur.com/IEwNB.jpg","title":"places of listener in java android studio","body":"<p>when I replace &quot;addOnFailureListener&quot; and &quot;addOnSuccessListener&quot; in two different examples of the same code that I shared below, the top listener is wrong and the bottom one is not wrong. It hasn't happened to me before and I don't know what's causing it, what do you think I'm doing wrong?</p>\n<pre><code>public void submitLeaderboardScore(long score) {\n            leaderboardsClient = Games.getLeaderboardsClient(getApplicationContext(), Objects.requireNonNull(GoogleSignIn.getLastSignedInAccount(getApplicationContext())));\n\n            leaderboardsClient.submitScore(getString(R.string.leaderboard_id), score)\n                    .addOnFailureListener(new OnFailureListener() {\n                        @Override\n                        public void onFailure(@NonNull Exception e) {\n                            // Handle failure while submitting score\n                        }\n                    })\n                    .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                        @Override\n                        public void onSuccess(Void aVoid) {\n                            // Score submission successful\n                        }\n                    });\n\n        }\n\npublic void submitLeaderboardScore(long score) {\n            leaderboardsClient = Games.getLeaderboardsClient(getApplicationContext(), Objects.requireNonNull(GoogleSignIn.getLastSignedInAccount(getApplicationContext())));\n\n            leaderboardsClient.submitScore(getString(R.string.leaderboard_id), score)\n\n                    .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                        @Override\n                        public void onSuccess(Void aVoid) {\n                            // Score submission successful\n                        }\n                    })\n\n                    .addOnFailureListener(new OnFailureListener() {\n                        @Override\n                        public void onFailure(@NonNull Exception e) {\n                            // Handle failure while submitting score\n                        }\n                    });\n\n\n        }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/pCq7b.jpg\" rel=\"nofollow noreferrer\">success listener on top</a>\n<a href=\"https://i.stack.imgur.com/IEwNB.jpg\" rel=\"nofollow noreferrer\">error listener on top</a></p>\n<p>error : Cannot resolve method 'addOnFailureListener(OnFailureListener)'\nor\nCannot resolve method 'addOnSuccessListener(OnSuccessListener)'</p>\n<p>whichever is on top, error is displayed on it</p>\n"},{"tags":["java","mass-assignment"],"comments":[{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":0,"creation_date":1686805605,"post_id":76479198,"comment_id":134850332,"body_markdown":"Please summarize the relevant part of what you linked to, point out how it relates to your question.","body":"Please summarize the relevant part of what you linked to, point out how it relates to your question."},{"owner":{"account_id":1198357,"reputation":1090,"user_id":1169587,"accept_rate":28,"display_name":"user1169587"},"score":0,"creation_date":1686810148,"post_id":76479198,"comment_id":134850898,"body_markdown":"the linked article talk about Mass Assignment and give an example, in the example the User class has property isAdmin, but it has not mentioned the case that if the Class User has no this property but the request still has isAdmin property.","body":"the linked article talk about Mass Assignment and give an example, in the example the User class has property isAdmin, but it has not mentioned the case that if the Class User has no this property but the request still has isAdmin property."},{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":0,"creation_date":1686810457,"post_id":76479198,"comment_id":134850955,"body_markdown":"Please [edit] to add information to the question, instead of providing them in comments.","body":"Please <a href=\"https://stackoverflow.com/posts/76479198/edit\">edit</a> to add information to the question, instead of providing them in comments."}],"owner":{"account_id":1198357,"reputation":1090,"user_id":1169587,"accept_rate":28,"display_name":"user1169587"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686804501,"creation_date":1686804501,"question_id":76479198,"body_markdown":"I have read the following article on Mass assignment https://cheatsheetseries.owasp.org/cheatsheets/Mass_Assignment_Cheat_Sheet.html\r\n\r\nbut still have some unknown, e.g.\r\n\r\n    public class User {\r\n       private String userid;\r\n       private String password;\r\n       private String email;\r\n       //private boolean isAdmin;  // NO this property (isAdmin) in User class\r\n    \r\n       //Getters &amp; Setters\r\n    }\r\n\r\nHere is the controller handling the request:\r\n\r\n    @RequestMapping(value = &quot;/addUser&quot;, method = RequestMethod.POST)\r\n    public String submit(User user) {\r\n       userService.add(user);\r\n       return &quot;successPage&quot;;\r\n    }\r\n\r\nhere is the request with more parameter than class User has (isAdmin=true)\r\n\r\n    POST /addUser\r\n    ...\r\n    userid=bobbytables&amp;password=hashedpass&amp;email=bobby@tables.com&amp;isAdmin=true\r\n\r\nAs the class User has **NO** isAdmin property, \r\n1) is the class User still has Mass Assignment security problem for this request?\r\n2) should we throws exception if request parameter is more than the expected binding input parameter class?\r\n3) related to question 2, if we ignore the extra parameter and returns response 200 (ok), is this right? As in a security check, our program is complained by return 200 for similar case.\r\n\r\nAs I see the article, the solution has NOT said to throws error or exception for this case.\r\n\r\n","title":"is this example of mass assignment and should we throws exception for this?","body":"<p>I have read the following article on Mass assignment <a href=\"https://cheatsheetseries.owasp.org/cheatsheets/Mass_Assignment_Cheat_Sheet.html\" rel=\"nofollow noreferrer\">https://cheatsheetseries.owasp.org/cheatsheets/Mass_Assignment_Cheat_Sheet.html</a></p>\n<p>but still have some unknown, e.g.</p>\n<pre><code>public class User {\n   private String userid;\n   private String password;\n   private String email;\n   //private boolean isAdmin;  // NO this property (isAdmin) in User class\n\n   //Getters &amp; Setters\n}\n</code></pre>\n<p>Here is the controller handling the request:</p>\n<pre><code>@RequestMapping(value = &quot;/addUser&quot;, method = RequestMethod.POST)\npublic String submit(User user) {\n   userService.add(user);\n   return &quot;successPage&quot;;\n}\n</code></pre>\n<p>here is the request with more parameter than class User has (isAdmin=true)</p>\n<pre><code>POST /addUser\n...\nuserid=bobbytables&amp;password=hashedpass&amp;email=bobby@tables.com&amp;isAdmin=true\n</code></pre>\n<p>As the class User has <strong>NO</strong> isAdmin property,</p>\n<ol>\n<li>is the class User still has Mass Assignment security problem for this request?</li>\n<li>should we throws exception if request parameter is more than the expected binding input parameter class?</li>\n<li>related to question 2, if we ignore the extra parameter and returns response 200 (ok), is this right? As in a security check, our program is complained by return 200 for similar case.</li>\n</ol>\n<p>As I see the article, the solution has NOT said to throws error or exception for this case.</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1686833987,"post_id":76479197,"comment_id":134855863,"body_markdown":"`How did my POST work in Spring 5?` how can we know when you havnt posted what your request looks like, your logs, or the endpoint you are calling","body":"<code>How did my POST work in Spring 5?</code> how can we know when you havnt posted what your request looks like, your logs, or the endpoint you are calling"}],"owner":{"account_id":3582904,"reputation":47,"user_id":2990665,"accept_rate":25,"display_name":"Kishore Paila"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686804500,"creation_date":1686804500,"question_id":76479197,"body_markdown":"My Spring boot REST API application used to work fine with Spring 5 WebSecurityConfigurationAdapter even without disabling csrf. However, after upgrading to Spring 6 SecurityFilterChain I have to explicitly disable csrf for my POST endpoint to work...else I get a 403 forbidden invalid token from CsrfFilter. Does anyone know why? How did my POST work in Spring 5. Note: I am calling the https api deployed in a server from Postman.\r\n\r\nSpring 5:\r\n```\r\n@EnableWebSecurity\r\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.authorizeRequests()\r\n                .requestMatchers(EndpointRequest.to(&quot;cloudfoundryapplication&quot;))\r\n                .permitAll()\r\n                .and()\r\n                .requestMatcher(EndpointRequest.toAnyEndpoint().excluding(&quot;health&quot;, &quot;info&quot;)).authorizeRequests()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .httpBasic();\r\n    }\r\n```\r\n\r\nSpring 6:\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfiguration {\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        return http.build();\r\n    }\r\n```","title":"csrf disable is needed in securityFilterChain spring 6 but not in webSecurityConfigurationAdapter Spring 5","body":"<p>My Spring boot REST API application used to work fine with Spring 5 WebSecurityConfigurationAdapter even without disabling csrf. However, after upgrading to Spring 6 SecurityFilterChain I have to explicitly disable csrf for my POST endpoint to work...else I get a 403 forbidden invalid token from CsrfFilter. Does anyone know why? How did my POST work in Spring 5. Note: I am calling the https api deployed in a server from Postman.</p>\n<p>Spring 5:</p>\n<pre><code>@EnableWebSecurity\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests()\n                .requestMatchers(EndpointRequest.to(&quot;cloudfoundryapplication&quot;))\n                .permitAll()\n                .and()\n                .requestMatcher(EndpointRequest.toAnyEndpoint().excluding(&quot;health&quot;, &quot;info&quot;)).authorizeRequests()\n                .anyRequest().authenticated()\n                .and()\n                .httpBasic();\n    }\n</code></pre>\n<p>Spring 6:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfiguration {\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        return http.build();\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","gradle","spring-boot-actuator"],"owner":{"account_id":13838923,"reputation":115,"user_id":9989781,"display_name":"Mirza Prangon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686803645,"creation_date":1686013493,"question_id":76410828,"body_markdown":"I am converting a maven project to gradle. The project is a spring boot 3 rest api.\r\n\r\nAfter converting most of the pom.xml to build.gradle, I am countering an issue that a test is not passing. This tests an endpoint that returns some value using `InfoEndpoint.info()` method of spring boot actuator. I tried application debugging and debugging the test itself using VSCode. `InfoEndpoint.info()` returns null in debug mode too. However, If I run the application using `gradle bootRun`, I can successfully access the endpoint without any issue. To summarize, the `InfoEndpoint.info()` returns nothing during test and debugging.\r\n\r\nThe test code is as follows\r\n\r\n```java\r\n@SpringBootTest(classes=Application.class, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n@AutoConfigureMockMvc\r\npublic class InfoControllerTest {\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    /**\r\n     * Test the endpoint /info to get a information of git and build.\r\n     * \r\n     * @throws Exception\r\n     */\r\n    @Test\r\n    @WithMockUser\r\n    public void shouldReturnAInfo() throws Exception {\r\n        // Send a GET request to the /info endpoint\r\n        MvcResult mvcResult = mockMvc.perform(get(&quot;/info&quot;)\r\n        .contentType(MediaType.APPLICATION_JSON))\r\n        .andExpect(status().isOk())\r\n        .andReturn();\r\n        String responseJson = mvcResult.getResponse().getContentAsString();\r\n\r\n        ResourceBundle gitPropertyInfo = ResourceBundle.getBundle(&quot;git&quot;);\r\n        ResourceBundle buildPropertyInfo = ResourceBundle.getBundle(&quot;META-INF/build-info&quot;);\r\n\r\n        assertThat(JsonPath.parse(responseJson).read(&quot;$.git.commit.id&quot;, String.class)).isEqualTo(gitPropertyInfo.getString(&quot;git.commit.id&quot;));\r\n        assertThat(JsonPath.parse(responseJson).read(&quot;$.git.commit.message&quot;, String.class)).isEqualTo(gitPropertyInfo.getString(&quot;git.commit.message.full&quot;));\r\n        assertThat(JsonPath.parse(responseJson).read(&quot;$.git.commit.time&quot;, String.class)).isEqualTo(gitPropertyInfo.getString(&quot;git.commit.time&quot;));\r\n        assertThat(JsonPath.parse(responseJson).read(&quot;$.git.branch&quot;, String.class)).isEqualTo(gitPropertyInfo.getString(&quot;git.branch&quot;));\r\n        assertThat(JsonPath.parse(responseJson).read(&quot;$.git.dirty&quot;, String.class)).isEqualTo(gitPropertyInfo.getString(&quot;git.dirty&quot;));\r\n        assertThat(JsonPath.parse(responseJson).read(&quot;$.build.contact.about&quot;, String.class)).isEqualTo(buildPropertyInfo.getString(&quot;build.contact.about&quot;));\r\n        assertThat(JsonPath.parse(responseJson).read(&quot;$.build.contact.tel&quot;, String.class)).isEqualTo(buildPropertyInfo.getString(&quot;build.contact.tel&quot;));\r\n        assertThat(JsonPath.parse(responseJson).read(&quot;$.build.description&quot;, String.class)).isEqualTo(buildPropertyInfo.getString(&quot;build.description&quot;));\r\n        assertThat(JsonPath.parse(responseJson).read(&quot;$.build.version&quot;, String.class)).isEqualTo(buildPropertyInfo.getString(&quot;build.version&quot;));\r\n        assertThat(JsonPath.parse(responseJson).read(&quot;$.build.artifact&quot;, String.class)).isEqualTo(buildPropertyInfo.getString(&quot;build.artifact&quot;));\r\n        assertThat(JsonPath.parse(responseJson).read(&quot;$.build.name&quot;, String.class)).isEqualTo(buildPropertyInfo.getString(&quot;build.name&quot;));\r\n        assertThat(JsonPath.parse(responseJson).read(&quot;$.build.time&quot;, String.class)).isEqualTo(buildPropertyInfo.getString(&quot;build.time&quot;));\r\n        assertThat(JsonPath.parse(responseJson).read(&quot;$.build.group&quot;, String.class)).isEqualTo(buildPropertyInfo.getString(&quot;build.group&quot;));\r\n\r\n    }\r\n}\r\n```\r\n\r\nThe controller is as follows\r\n\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/info&quot;)\r\npublic class InfoController implements InfoApi {\r\n    private InfoEndpoint infoEndpoint;\r\n\r\n    // Constructor injection to inject the InfoEndpoint\r\n    public InfoController(InfoEndpoint infoEndpoint) {\r\n        this.infoEndpoint = infoEndpoint;\r\n    }\r\n\r\n    /**\r\n     * Get information of build and git.\r\n     * \r\n     * @return information of build and git.\r\n     */\r\n    @GetMapping\r\n    public ResponseEntity&lt;Info&gt; getInfo() {\r\n        Map&lt;String,Object&gt; response = infoEndpoint.info();\r\n\r\n        // InfoGit\r\n        InfoGit infoGit = new InfoGit();\r\n        Map&lt;String, Object&gt; responseGit = (Map)response.get(&quot;git&quot;);\r\n\r\n        infoGit.setBranch(responseGit.get(&quot;branch&quot;).toString());\r\n        infoGit.setDirty(responseGit.get(&quot;dirty&quot;).toString());\r\n\r\n        // InfoGitCommit\r\n        InfoGitCommit infoGitCommit = new InfoGitCommit();\r\n        infoGitCommit.setId(((Map)responseGit.get(&quot;commit&quot;)).get(&quot;id&quot;).toString());\r\n        infoGitCommit.setMessage(((Map)((Map)responseGit.get(&quot;commit&quot;)).get(&quot;message&quot;)).get(&quot;full&quot;).toString());\r\n        infoGitCommit.setTime(((Map)responseGit.get(&quot;commit&quot;)).get(&quot;time&quot;).toString());\r\n        infoGit.setCommit(infoGitCommit);\r\n\r\n        // InfoBuild\r\n        InfoBuild infoBuild = new InfoBuild();\r\n        Map&lt;String, Object&gt; responseBuild = (Map)response.get(&quot;build&quot;);\r\n\r\n        infoBuild.setDescription(responseBuild.get(&quot;description&quot;).toString());\r\n        infoBuild.setVersion(responseBuild.get(&quot;version&quot;).toString());\r\n        infoBuild.setArtifact(responseBuild.get(&quot;artifact&quot;).toString());\r\n        infoBuild.setName(responseBuild.get(&quot;name&quot;).toString());\r\n        infoBuild.setTime(responseBuild.get(&quot;time&quot;).toString());\r\n        infoBuild.setGroup(responseBuild.get(&quot;group&quot;).toString());\r\n\r\n        // InfoBuildContact\r\n        InfoBuildContact infoBuildContact = new InfoBuildContact();\r\n        infoBuildContact.setAbout(((Map)responseBuild.get(&quot;contact&quot;)).get(&quot;about&quot;).toString());\r\n        infoBuildContact.setTel(((Map)responseBuild.get(&quot;contact&quot;)).get(&quot;tel&quot;).toString());\r\n        infoBuild.setContact(infoBuildContact);\r\n\r\n        // Info\r\n        Info info = new Info();\r\n        info.setGit(infoGit);\r\n        info.setBuild(infoBuild);\r\n\r\n        return new ResponseEntity&lt;&gt;(info, HttpStatus.OK);\r\n    }\r\n}\r\n```\r\n\r\nFor reference here is the `build.gradlew`\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;3.1.0&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n    id &quot;org.openapi.generator&quot; version &quot;6.3.0&quot;\r\n    id &#39;jacoco&#39;\r\n    id &quot;com.gorylenko.gradle-git-properties&quot; version &quot;2.4.1&quot;\r\n}\r\n\r\napply plugin: &#39;io.spring.dependency-management&#39;\r\n\r\ngroup = &#39;com.example&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\ndescription = &#39;Description&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n    gradlePluginPortal()\r\n}\r\n\r\nconfigurations {\r\n    compileOnly {\r\n        extendsFrom annotationProcessor\r\n  }\r\n}\r\n\r\ndependencies {\r\n    implementation platform(org.springframework.boot.gradle.plugin.SpringBootPlugin.BOM_COORDINATES)\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n    implementation &#39;org.springframework.security:spring-security-oauth2-resource-server&#39;\r\n    implementation &#39;org.springframework.security:spring-security-oauth2-jose&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n    implementation &#39;org.springdoc:springdoc-openapi-starter-webmvc-ui:2.0.2&#39;\r\n    implementation &#39;com.google.code.findbugs:jsr305:3.0.2&#39;\r\n    implementation &#39;com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:2.15.0&#39;\r\n    implementation &#39;com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.15.0&#39;\r\n    implementation &#39;org.openapitools:jackson-databind-nullable:0.2.2&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n    implementation &#39;com.fasterxml.jackson.core:jackson-databind:2.15.0&#39;\r\n    compileOnly &#39;org.projectlombok:lombok&#39;\r\n    runtimeOnly &#39;com.h2database:h2&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    testImplementation &#39;org.springframework.security:spring-security-test&#39;\r\n}\r\n\r\nspringBoot {\r\n    buildInfo {\r\n        properties {\r\n            name = &#39;Application name&#39;\r\n            additional = [\r\n                &#39;description&#39;: &#39;Description&#39;,\r\n                &#39;contact.about&#39;: &#39;About&#39;,\r\n                &#39;contact.tel&#39;: &#39;xxx-xxx-xxx&#39;\r\n            ]\r\n        }\r\n    }\r\n}\r\n\r\nopenApiGenerate {\r\n    generatorName = &quot;spring&quot;\r\n    library = &quot;spring-boot&quot;\r\n    groupId = &quot;${project.group}&quot;\r\n    inputSpec = &quot;$rootDir/api/openapi.yaml&quot;\r\n    apiPackage = &quot;${project.group}.${project.name}.generated.api&quot;\r\n    modelPackage = &quot;${project.group}.${project.name}.generated.model&quot;\r\n    ignoreFileOverride = &quot;$rootDir/.openapi-generator-ignore&quot;\r\n    configOptions = [\r\n        interfaceOnly: &quot;true&quot;,\r\n        documentationProvider: &quot;springdoc&quot;,\r\n        useSpringBoot3: &quot;true&quot;,\r\n        additionalModelTypeAnnotations: &quot;@lombok.AllArgsConstructor;@lombok.NoArgsConstructor&quot;\r\n    ]\r\n}\r\n\r\nopenApiGenerators {\r\n    include = [\r\n        &#39;stable&#39;\r\n        ]\r\n}\r\n\r\nsourceSets {\r\n    main {\r\n        java {\r\n            srcDirs += &quot;$buildDir/generate-resources/main/src/main/java&quot;\r\n        }\r\n    }\r\n}\r\n\r\ncompileJava.dependsOn tasks.openApiGenerate\r\n\r\ntasks.named(&#39;test&#39;) {\r\n  useJUnitPlatform()\r\n}\r\n\r\n```\r\n\r\nWhat is wrong here and how do I fix it?","title":"Spring Actuator InfoEndpoint.info() returns null during test and debug after converting maven to gradle","body":"<p>I am converting a maven project to gradle. The project is a spring boot 3 rest api.</p>\n<p>After converting most of the pom.xml to build.gradle, I am countering an issue that a test is not passing. This tests an endpoint that returns some value using <code>InfoEndpoint.info()</code> method of spring boot actuator. I tried application debugging and debugging the test itself using VSCode. <code>InfoEndpoint.info()</code> returns null in debug mode too. However, If I run the application using <code>gradle bootRun</code>, I can successfully access the endpoint without any issue. To summarize, the <code>InfoEndpoint.info()</code> returns nothing during test and debugging.</p>\n<p>The test code is as follows</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(classes=Application.class, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@AutoConfigureMockMvc\npublic class InfoControllerTest {\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    /**\n     * Test the endpoint /info to get a information of git and build.\n     * \n     * @throws Exception\n     */\n    @Test\n    @WithMockUser\n    public void shouldReturnAInfo() throws Exception {\n        // Send a GET request to the /info endpoint\n        MvcResult mvcResult = mockMvc.perform(get(&quot;/info&quot;)\n        .contentType(MediaType.APPLICATION_JSON))\n        .andExpect(status().isOk())\n        .andReturn();\n        String responseJson = mvcResult.getResponse().getContentAsString();\n\n        ResourceBundle gitPropertyInfo = ResourceBundle.getBundle(&quot;git&quot;);\n        ResourceBundle buildPropertyInfo = ResourceBundle.getBundle(&quot;META-INF/build-info&quot;);\n\n        assertThat(JsonPath.parse(responseJson).read(&quot;$.git.commit.id&quot;, String.class)).isEqualTo(gitPropertyInfo.getString(&quot;git.commit.id&quot;));\n        assertThat(JsonPath.parse(responseJson).read(&quot;$.git.commit.message&quot;, String.class)).isEqualTo(gitPropertyInfo.getString(&quot;git.commit.message.full&quot;));\n        assertThat(JsonPath.parse(responseJson).read(&quot;$.git.commit.time&quot;, String.class)).isEqualTo(gitPropertyInfo.getString(&quot;git.commit.time&quot;));\n        assertThat(JsonPath.parse(responseJson).read(&quot;$.git.branch&quot;, String.class)).isEqualTo(gitPropertyInfo.getString(&quot;git.branch&quot;));\n        assertThat(JsonPath.parse(responseJson).read(&quot;$.git.dirty&quot;, String.class)).isEqualTo(gitPropertyInfo.getString(&quot;git.dirty&quot;));\n        assertThat(JsonPath.parse(responseJson).read(&quot;$.build.contact.about&quot;, String.class)).isEqualTo(buildPropertyInfo.getString(&quot;build.contact.about&quot;));\n        assertThat(JsonPath.parse(responseJson).read(&quot;$.build.contact.tel&quot;, String.class)).isEqualTo(buildPropertyInfo.getString(&quot;build.contact.tel&quot;));\n        assertThat(JsonPath.parse(responseJson).read(&quot;$.build.description&quot;, String.class)).isEqualTo(buildPropertyInfo.getString(&quot;build.description&quot;));\n        assertThat(JsonPath.parse(responseJson).read(&quot;$.build.version&quot;, String.class)).isEqualTo(buildPropertyInfo.getString(&quot;build.version&quot;));\n        assertThat(JsonPath.parse(responseJson).read(&quot;$.build.artifact&quot;, String.class)).isEqualTo(buildPropertyInfo.getString(&quot;build.artifact&quot;));\n        assertThat(JsonPath.parse(responseJson).read(&quot;$.build.name&quot;, String.class)).isEqualTo(buildPropertyInfo.getString(&quot;build.name&quot;));\n        assertThat(JsonPath.parse(responseJson).read(&quot;$.build.time&quot;, String.class)).isEqualTo(buildPropertyInfo.getString(&quot;build.time&quot;));\n        assertThat(JsonPath.parse(responseJson).read(&quot;$.build.group&quot;, String.class)).isEqualTo(buildPropertyInfo.getString(&quot;build.group&quot;));\n\n    }\n}\n</code></pre>\n<p>The controller is as follows</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/info&quot;)\npublic class InfoController implements InfoApi {\n    private InfoEndpoint infoEndpoint;\n\n    // Constructor injection to inject the InfoEndpoint\n    public InfoController(InfoEndpoint infoEndpoint) {\n        this.infoEndpoint = infoEndpoint;\n    }\n\n    /**\n     * Get information of build and git.\n     * \n     * @return information of build and git.\n     */\n    @GetMapping\n    public ResponseEntity&lt;Info&gt; getInfo() {\n        Map&lt;String,Object&gt; response = infoEndpoint.info();\n\n        // InfoGit\n        InfoGit infoGit = new InfoGit();\n        Map&lt;String, Object&gt; responseGit = (Map)response.get(&quot;git&quot;);\n\n        infoGit.setBranch(responseGit.get(&quot;branch&quot;).toString());\n        infoGit.setDirty(responseGit.get(&quot;dirty&quot;).toString());\n\n        // InfoGitCommit\n        InfoGitCommit infoGitCommit = new InfoGitCommit();\n        infoGitCommit.setId(((Map)responseGit.get(&quot;commit&quot;)).get(&quot;id&quot;).toString());\n        infoGitCommit.setMessage(((Map)((Map)responseGit.get(&quot;commit&quot;)).get(&quot;message&quot;)).get(&quot;full&quot;).toString());\n        infoGitCommit.setTime(((Map)responseGit.get(&quot;commit&quot;)).get(&quot;time&quot;).toString());\n        infoGit.setCommit(infoGitCommit);\n\n        // InfoBuild\n        InfoBuild infoBuild = new InfoBuild();\n        Map&lt;String, Object&gt; responseBuild = (Map)response.get(&quot;build&quot;);\n\n        infoBuild.setDescription(responseBuild.get(&quot;description&quot;).toString());\n        infoBuild.setVersion(responseBuild.get(&quot;version&quot;).toString());\n        infoBuild.setArtifact(responseBuild.get(&quot;artifact&quot;).toString());\n        infoBuild.setName(responseBuild.get(&quot;name&quot;).toString());\n        infoBuild.setTime(responseBuild.get(&quot;time&quot;).toString());\n        infoBuild.setGroup(responseBuild.get(&quot;group&quot;).toString());\n\n        // InfoBuildContact\n        InfoBuildContact infoBuildContact = new InfoBuildContact();\n        infoBuildContact.setAbout(((Map)responseBuild.get(&quot;contact&quot;)).get(&quot;about&quot;).toString());\n        infoBuildContact.setTel(((Map)responseBuild.get(&quot;contact&quot;)).get(&quot;tel&quot;).toString());\n        infoBuild.setContact(infoBuildContact);\n\n        // Info\n        Info info = new Info();\n        info.setGit(infoGit);\n        info.setBuild(infoBuild);\n\n        return new ResponseEntity&lt;&gt;(info, HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>For reference here is the <code>build.gradlew</code></p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.1.0'\n    id 'io.spring.dependency-management' version '1.1.0'\n    id &quot;org.openapi.generator&quot; version &quot;6.3.0&quot;\n    id 'jacoco'\n    id &quot;com.gorylenko.gradle-git-properties&quot; version &quot;2.4.1&quot;\n}\n\napply plugin: 'io.spring.dependency-management'\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\ndescription = 'Description'\nsourceCompatibility = '17'\n\nrepositories {\n    mavenCentral()\n    gradlePluginPortal()\n}\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n  }\n}\n\ndependencies {\n    implementation platform(org.springframework.boot.gradle.plugin.SpringBootPlugin.BOM_COORDINATES)\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'org.springframework.security:spring-security-oauth2-resource-server'\n    implementation 'org.springframework.security:spring-security-oauth2-jose'\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'org.springdoc:springdoc-openapi-starter-webmvc-ui:2.0.2'\n    implementation 'com.google.code.findbugs:jsr305:3.0.2'\n    implementation 'com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:2.15.0'\n    implementation 'com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.15.0'\n    implementation 'org.openapitools:jackson-databind-nullable:0.2.2'\n    implementation 'org.springframework.boot:spring-boot-starter-validation'\n    implementation 'com.fasterxml.jackson.core:jackson-databind:2.15.0'\n    compileOnly 'org.projectlombok:lombok'\n    runtimeOnly 'com.h2database:h2'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'org.springframework.security:spring-security-test'\n}\n\nspringBoot {\n    buildInfo {\n        properties {\n            name = 'Application name'\n            additional = [\n                'description': 'Description',\n                'contact.about': 'About',\n                'contact.tel': 'xxx-xxx-xxx'\n            ]\n        }\n    }\n}\n\nopenApiGenerate {\n    generatorName = &quot;spring&quot;\n    library = &quot;spring-boot&quot;\n    groupId = &quot;${project.group}&quot;\n    inputSpec = &quot;$rootDir/api/openapi.yaml&quot;\n    apiPackage = &quot;${project.group}.${project.name}.generated.api&quot;\n    modelPackage = &quot;${project.group}.${project.name}.generated.model&quot;\n    ignoreFileOverride = &quot;$rootDir/.openapi-generator-ignore&quot;\n    configOptions = [\n        interfaceOnly: &quot;true&quot;,\n        documentationProvider: &quot;springdoc&quot;,\n        useSpringBoot3: &quot;true&quot;,\n        additionalModelTypeAnnotations: &quot;@lombok.AllArgsConstructor;@lombok.NoArgsConstructor&quot;\n    ]\n}\n\nopenApiGenerators {\n    include = [\n        'stable'\n        ]\n}\n\nsourceSets {\n    main {\n        java {\n            srcDirs += &quot;$buildDir/generate-resources/main/src/main/java&quot;\n        }\n    }\n}\n\ncompileJava.dependsOn tasks.openApiGenerate\n\ntasks.named('test') {\n  useJUnitPlatform()\n}\n\n</code></pre>\n<p>What is wrong here and how do I fix it?</p>\n"},{"tags":["java","android","kotlin","navigation"],"answers":[{"tags":[],"owner":{"account_id":270025,"reputation":6187,"user_id":3649629,"accept_rate":67,"display_name":"Gleichmut"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686803627,"creation_date":1686803627,"answer_id":76479136,"question_id":76476587,"body_markdown":"Yes, it is possible. Define support of extra argument in the xml config:\r\n```\r\n&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/mobile_navigation&quot;\r\n    app:startDestination=&quot;@+id/navigation_dashboard&quot;&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/navigation_home&quot;\r\n        android:name=&quot;ru.home.government.screens.deputies.DeputiesFragment&quot;\r\n        android:label=&quot;@string/title_deputies&quot;\r\n        tools:layout=&quot;@layout/fragment_deputies&quot;&gt;\r\n        &lt;argument\r\n            android:name=&quot;EXTRA_NO_BOTTOM_VIEW&quot;\r\n            app:argType=&quot;boolean&quot;\r\n            android:defaultValue=&quot;false&quot; /&gt;\r\n\r\n    &lt;/fragment&gt;\r\n...\r\n```\r\nAfter it should be possible to pass data within a Bundle over nav controller. Fore more reference check [this][1] and [this][2]. \r\n\r\n\r\n  [1]: https://developer.android.com/guide/navigation/design/type-safety\r\n  [2]: https://stackoverflow.com/questions/60506743/android-navigation-component-why-add-arguments-in-the-navigation-graph","title":"Is there a way to pass boolean as a param to NavController when open the fragment?","body":"<p>Yes, it is possible. Define support of extra argument in the xml config:</p>\n<pre><code>&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/mobile_navigation&quot;\n    app:startDestination=&quot;@+id/navigation_dashboard&quot;&gt;\n\n    &lt;fragment\n        android:id=&quot;@+id/navigation_home&quot;\n        android:name=&quot;ru.home.government.screens.deputies.DeputiesFragment&quot;\n        android:label=&quot;@string/title_deputies&quot;\n        tools:layout=&quot;@layout/fragment_deputies&quot;&gt;\n        &lt;argument\n            android:name=&quot;EXTRA_NO_BOTTOM_VIEW&quot;\n            app:argType=&quot;boolean&quot;\n            android:defaultValue=&quot;false&quot; /&gt;\n\n    &lt;/fragment&gt;\n...\n</code></pre>\n<p>After it should be possible to pass data within a Bundle over nav controller. Fore more reference check <a href=\"https://developer.android.com/guide/navigation/design/type-safety\" rel=\"nofollow noreferrer\">this</a> and <a href=\"https://stackoverflow.com/questions/60506743/android-navigation-component-why-add-arguments-in-the-navigation-graph\">this</a>.</p>\n"}],"owner":{"account_id":7378264,"reputation":4782,"user_id":5709159,"accept_rate":58,"display_name":"Sirop4ik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686803627,"creation_date":1686767525,"question_id":76476587,"body_markdown":"There is such a method in the activity that responsible to open the fragments by Uri\r\n\r\n```\r\n...\r\n    fun navigate(uri: Uri, savedInstanceState: Bundle?) {\r\n        with(supportFragmentManager.findFragmentById(R.id.nav_host_fragment) as NavHostFragment) {\r\n            val authGraph: NavGraph = navController.navInflater.inflate(R.navigation.auth_nav_graph)\r\n            maybeSetIapNavGraphs(navHostFragment.navController, authGraph)\r\n            navController.graph = authGraph\r\n\r\n            if (savedInstanceState == null) {\r\n                navController.popBackStack()\r\n                navController.navigate(uri)\r\n            }\r\n        }\r\n    }\r\n...\r\n```\r\n\r\nI need to pass a boolean value to the fragment that is going to be opened, however, I see that `navigate` doesn&#39;t take `Bundle` as a param, and the only available constructor with `Uri` is `.navigate(uri, NavOptions)`, so looks like there is no way to pass a bundle.\r\n\r\nThe question is - how to pass a boolean value to the fragment?\r\n\r\n**UPD**\r\n\r\nI also tried to do it like this:\r\n\r\n```\r\n...\r\n    fun navigate(uri: Uri, savedInstanceState: Bundle?) {\r\n        with(supportFragmentManager.findFragmentById(R.id.nav_host_fragment) as NavHostFragment) {\r\n            val authGraph: NavGraph = navController.navInflater.inflate(R.navigation.auth_nav_graph)\r\n            maybeSetIapNavGraphs(navHostFragment.navController, authGraph)\r\n\r\n            val bundle = Bundle().apply { putInt(&quot;isEnabled&quot;, 1) }\r\n            navController.setGraph(authGraph, bundle)\r\n\r\n            if (savedInstanceState == null) {\r\n                navController.popBackStack()\r\n                navController.navigate(uri)\r\n            }\r\n        }\r\n    }\r\n...\r\n```\r\n\r\nHowever, when I try to get this value in the fragment like\r\n\r\n    val arg1Value = requireArguments().getInt(&quot;isEnabled&quot;)\r\n\r\nit gives `0`","title":"Is there a way to pass boolean as a param to NavController when open the fragment?","body":"<p>There is such a method in the activity that responsible to open the fragments by Uri</p>\n<pre><code>...\n    fun navigate(uri: Uri, savedInstanceState: Bundle?) {\n        with(supportFragmentManager.findFragmentById(R.id.nav_host_fragment) as NavHostFragment) {\n            val authGraph: NavGraph = navController.navInflater.inflate(R.navigation.auth_nav_graph)\n            maybeSetIapNavGraphs(navHostFragment.navController, authGraph)\n            navController.graph = authGraph\n\n            if (savedInstanceState == null) {\n                navController.popBackStack()\n                navController.navigate(uri)\n            }\n        }\n    }\n...\n</code></pre>\n<p>I need to pass a boolean value to the fragment that is going to be opened, however, I see that <code>navigate</code> doesn't take <code>Bundle</code> as a param, and the only available constructor with <code>Uri</code> is <code>.navigate(uri, NavOptions)</code>, so looks like there is no way to pass a bundle.</p>\n<p>The question is - how to pass a boolean value to the fragment?</p>\n<p><strong>UPD</strong></p>\n<p>I also tried to do it like this:</p>\n<pre><code>...\n    fun navigate(uri: Uri, savedInstanceState: Bundle?) {\n        with(supportFragmentManager.findFragmentById(R.id.nav_host_fragment) as NavHostFragment) {\n            val authGraph: NavGraph = navController.navInflater.inflate(R.navigation.auth_nav_graph)\n            maybeSetIapNavGraphs(navHostFragment.navController, authGraph)\n\n            val bundle = Bundle().apply { putInt(&quot;isEnabled&quot;, 1) }\n            navController.setGraph(authGraph, bundle)\n\n            if (savedInstanceState == null) {\n                navController.popBackStack()\n                navController.navigate(uri)\n            }\n        }\n    }\n...\n</code></pre>\n<p>However, when I try to get this value in the fragment like</p>\n<pre><code>val arg1Value = requireArguments().getInt(&quot;isEnabled&quot;)\n</code></pre>\n<p>it gives <code>0</code></p>\n"},{"tags":["java","android","android-workmanager"],"answers":[{"tags":[],"owner":{"account_id":13575915,"reputation":69,"user_id":9793289,"display_name":"TNT"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686802364,"creation_date":1686802364,"answer_id":76479059,"question_id":76478675,"body_markdown":"try to replace work manager instead of keeping the existing work manager. \r\n\r\n     private void setUpWorkManager() {\r\n        WorkManager mWorkManager = WorkManager.getInstance(context);\r\n        mWorkManager.cancelAllWorkByTag(BACKGROUND);\r\n        PeriodicWorkRequest workRequest = new PeriodicWorkRequest.Builder(PeriodicWorker.class, PeriodicWorkRequest.MIN_PERIODIC_INTERVAL_MILLIS, TimeUnit.MILLISECONDS)\r\n                .addTag(BACKGROUND)\r\n                .build();\r\n        mWorkManager.enqueueUniquePeriodicWork(BACKGROUND, ExistingPeriodicWorkPolicy.REPLACE, workRequest);\r\n    }","title":"Android WorkManager: PeriodicWorkRequest is not executing or its executed once","body":"<p>try to replace work manager instead of keeping the existing work manager.</p>\n<pre><code> private void setUpWorkManager() {\n    WorkManager mWorkManager = WorkManager.getInstance(context);\n    mWorkManager.cancelAllWorkByTag(BACKGROUND);\n    PeriodicWorkRequest workRequest = new PeriodicWorkRequest.Builder(PeriodicWorker.class, PeriodicWorkRequest.MIN_PERIODIC_INTERVAL_MILLIS, TimeUnit.MILLISECONDS)\n            .addTag(BACKGROUND)\n            .build();\n    mWorkManager.enqueueUniquePeriodicWork(BACKGROUND, ExistingPeriodicWorkPolicy.REPLACE, workRequest);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17191706,"reputation":43,"user_id":12445365,"display_name":"Annas Surdyanto"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686803536,"creation_date":1686803431,"answer_id":76479122,"question_id":76478675,"body_markdown":"Periodical worker does not have either a success or failure state.\r\nYour worker is actually running, So your code\r\n\r\n    Log.d(&quot;TEST&quot;,&quot;operation result:&quot;+operationResult.getResult().isDone());\r\n\r\nWill never become true\r\n\r\nIn the log, you should find `Worker result SUCCESS for Work` which means the worker is running, but you can&#39;t get the success state by `operationResult.getResult().isDone()` because the state of periodical worker will be enqueued for the next time.\r\n\r\nYou can observe the work by using `getWorkInfoByIdLiveData(workerId)`. as follows:\r\n\r\n    WorkManager.getInstance(ctx).getWorkInfoByIdLiveData(workerId).observe(lifecycleScope, workInfo -&gt; {\r\n            Log.d(&quot;TEST&quot;, &quot;worker listened state: &quot; + workInfo.getState());\r\n        });\r\n\r\nTo get the id use `UUID workerId = pollingWorkerRequest.getId();`\r\n\r\n\r\nThen you will find the changing state of your worker.\r\nRUNNING, ENQUEUED\r\n\r\n\r\n","title":"Android WorkManager: PeriodicWorkRequest is not executing or its executed once","body":"<p>Periodical worker does not have either a success or failure state.\nYour worker is actually running, So your code</p>\n<pre><code>Log.d(&quot;TEST&quot;,&quot;operation result:&quot;+operationResult.getResult().isDone());\n</code></pre>\n<p>Will never become true</p>\n<p>In the log, you should find <code>Worker result SUCCESS for Work</code> which means the worker is running, but you can't get the success state by <code>operationResult.getResult().isDone()</code> because the state of periodical worker will be enqueued for the next time.</p>\n<p>You can observe the work by using <code>getWorkInfoByIdLiveData(workerId)</code>. as follows:</p>\n<pre><code>WorkManager.getInstance(ctx).getWorkInfoByIdLiveData(workerId).observe(lifecycleScope, workInfo -&gt; {\n        Log.d(&quot;TEST&quot;, &quot;worker listened state: &quot; + workInfo.getState());\n    });\n</code></pre>\n<p>To get the id use <code>UUID workerId = pollingWorkerRequest.getId();</code></p>\n<p>Then you will find the changing state of your worker.\nRUNNING, ENQUEUED</p>\n"}],"owner":{"account_id":19121015,"reputation":117,"user_id":15595752,"display_name":"soyunewok"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686803536,"creation_date":1686795709,"question_id":76478675,"body_markdown":"I&#39;m implementing a class for a background tasks using workmanager. The task is periodic so I&#39;m using PeriodicWorkRequest, but task is not exectuing or its executed once.\r\nHere is class, what is wrong ?\r\n\r\n```java\r\npublic class PollingWorker extends Worker {\r\n\r\n    private final static String DELAY_KEY = &quot;initialDelayDuration&quot;;\r\n    private final static String TAG_POLLING_WORK_KEY = &quot;background_polling_tag&quot;;\r\n    private final static int DEFAULT_DELAY = 20000;\r\n\r\n    public PollingWorker(\r\n            @Nonnull Context ctx,\r\n            @Nonnull WorkerParameters params) {\r\n        super(ctx, params);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public Result doWork() {\r\n        try{\r\n            Log.d(&quot;TEST&quot;,&quot;sending work&quot;);\r\n            return Result.success();\r\n        }catch (Throwable throwable) {\r\n            Log.e(&quot;TEST&quot;, &quot;Error applying blur&quot;, throwable);\r\n            return Result.failure();\r\n        }\r\n\r\n    }\r\n\r\n    public static void startPollingWorker(\r\n            @Nonnull Context context,\r\n            final long interval,\r\n            final String pollingWorkerTag\r\n    ) {\r\n\r\n        Log.d(&quot;TEST&quot;,&quot;interval:&quot;+interval);\r\n        Log.d(&quot;TEST&quot;,&quot;pollingWorkerTag:&quot;+pollingWorkerTag);\r\n\r\n        PeriodicWorkRequest pollingWorkerRequest =\r\n                new PeriodicWorkRequest.Builder(PollingWorker.class,interval,TimeUnit.SECONDS)\r\n                        .addTag(pollingWorkerTag)\r\n                        .build();\r\n\r\n        Operation operationResult=WorkManager.getInstance(context).enqueueUniquePeriodicWork(pollingWorkerTag,ExistingPeriodicWorkPolicy.KEEP,pollingWorkerRequest);\r\n        Log.d(&quot;TEST&quot;,&quot;operation result:&quot;+operationResult.getResult().isDone());\r\n        Log.d(&quot;TEST&quot;,&quot;operation result:&quot;+operationResult.getResult().isCancelled());\r\n    }\r\n}\r\n```\r\n\r\nThe logs from this are:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/o4Kx5.png","title":"Android WorkManager: PeriodicWorkRequest is not executing or its executed once","body":"<p>I'm implementing a class for a background tasks using workmanager. The task is periodic so I'm using PeriodicWorkRequest, but task is not exectuing or its executed once.\nHere is class, what is wrong ?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PollingWorker extends Worker {\n\n    private final static String DELAY_KEY = &quot;initialDelayDuration&quot;;\n    private final static String TAG_POLLING_WORK_KEY = &quot;background_polling_tag&quot;;\n    private final static int DEFAULT_DELAY = 20000;\n\n    public PollingWorker(\n            @Nonnull Context ctx,\n            @Nonnull WorkerParameters params) {\n        super(ctx, params);\n    }\n\n    @NonNull\n    @Override\n    public Result doWork() {\n        try{\n            Log.d(&quot;TEST&quot;,&quot;sending work&quot;);\n            return Result.success();\n        }catch (Throwable throwable) {\n            Log.e(&quot;TEST&quot;, &quot;Error applying blur&quot;, throwable);\n            return Result.failure();\n        }\n\n    }\n\n    public static void startPollingWorker(\n            @Nonnull Context context,\n            final long interval,\n            final String pollingWorkerTag\n    ) {\n\n        Log.d(&quot;TEST&quot;,&quot;interval:&quot;+interval);\n        Log.d(&quot;TEST&quot;,&quot;pollingWorkerTag:&quot;+pollingWorkerTag);\n\n        PeriodicWorkRequest pollingWorkerRequest =\n                new PeriodicWorkRequest.Builder(PollingWorker.class,interval,TimeUnit.SECONDS)\n                        .addTag(pollingWorkerTag)\n                        .build();\n\n        Operation operationResult=WorkManager.getInstance(context).enqueueUniquePeriodicWork(pollingWorkerTag,ExistingPeriodicWorkPolicy.KEEP,pollingWorkerRequest);\n        Log.d(&quot;TEST&quot;,&quot;operation result:&quot;+operationResult.getResult().isDone());\n        Log.d(&quot;TEST&quot;,&quot;operation result:&quot;+operationResult.getResult().isCancelled());\n    }\n}\n</code></pre>\n<p>The logs from this are:\n<a href=\"https://i.stack.imgur.com/o4Kx5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o4Kx5.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","hierarchy"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1686787229,"post_id":76476730,"comment_id":134848757,"body_markdown":"Define what you mean by hierarchy.  Can you organize your app like this?  Sure, although you&#39;ll probably want homepage activity to redirect to LoginActivity if the user times out or the login becomes invalid.  But your question seems to be asking for something more.","body":"Define what you mean by hierarchy.  Can you organize your app like this?  Sure, although you&#39;ll probably want homepage activity to redirect to LoginActivity if the user times out or the login becomes invalid.  But your question seems to be asking for something more."}],"answers":[{"tags":[],"owner":{"account_id":270025,"reputation":6187,"user_id":3649629,"accept_rate":67,"display_name":"Gleichmut"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686802631,"creation_date":1686802631,"answer_id":76479072,"question_id":76476730,"body_markdown":"`Activities` are organised in the `stack`. Each `Activity` you have been opened is put on the top of this `stack`. \r\n\r\n`Android` supports modification of such behaviour, e.g. newly opened `Activity` is put in the new `stack`. To learn more about possible options check [this official docs][1].\r\n\r\nA case of multi-window mode requires more investigation. \r\n\r\nFrom your question I understand what you have been asking about. The term &#39;hierarchy&#39; is usually used in traditional terms of `OOP` and it is also supported in both `Java` or `Kotlin` `Android`: you could create a `BaseActivity()` and extend it for both `LoginActivity` and `HomePageActivity`.\r\n\r\n\r\n  [1]: https://developer.android.com/guide/components/activities/tasks-and-back-stack#TaskLaunchModes","title":"Can there be a hierarchy of activities in Android?","body":"<p><code>Activities</code> are organised in the <code>stack</code>. Each <code>Activity</code> you have been opened is put on the top of this <code>stack</code>.</p>\n<p><code>Android</code> supports modification of such behaviour, e.g. newly opened <code>Activity</code> is put in the new <code>stack</code>. To learn more about possible options check <a href=\"https://developer.android.com/guide/components/activities/tasks-and-back-stack#TaskLaunchModes\" rel=\"nofollow noreferrer\">this official docs</a>.</p>\n<p>A case of multi-window mode requires more investigation.</p>\n<p>From your question I understand what you have been asking about. The term 'hierarchy' is usually used in traditional terms of <code>OOP</code> and it is also supported in both <code>Java</code> or <code>Kotlin</code> <code>Android</code>: you could create a <code>BaseActivity()</code> and extend it for both <code>LoginActivity</code> and <code>HomePageActivity</code>.</p>\n"}],"owner":{"account_id":22775670,"reputation":39,"user_id":16932373,"display_name":"bko00"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76479072,"answer_count":1,"score":0,"last_activity_date":1686802631,"creation_date":1686768784,"question_id":76476730,"body_markdown":"So I am building a mobile banking application. The first activity is the `LoginActivity`. If the user enters the correct credentials, a new activity is opened, `HomePageActivity`. Here is a `FrameLayout` that can be switch between 4 fragments: `HomeFragment`, `TransactionsFragment`, `TransfersFragment`, `ReportsFragment`. In the `HomeFragment` is a button that when pressed, a `DialogFragment` appears : `AddDepositFragment`. And so on. I have included a picture representing the &quot;hierarchy&quot;.\r\nAnd now the question is: CAN this be considered a hierarchy?[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rYQJm.png","title":"Can there be a hierarchy of activities in Android?","body":"<p>So I am building a mobile banking application. The first activity is the <code>LoginActivity</code>. If the user enters the correct credentials, a new activity is opened, <code>HomePageActivity</code>. Here is a <code>FrameLayout</code> that can be switch between 4 fragments: <code>HomeFragment</code>, <code>TransactionsFragment</code>, <code>TransfersFragment</code>, <code>ReportsFragment</code>. In the <code>HomeFragment</code> is a button that when pressed, a <code>DialogFragment</code> appears : <code>AddDepositFragment</code>. And so on. I have included a picture representing the &quot;hierarchy&quot;.\nAnd now the question is: CAN this be considered a hierarchy?<a href=\"https://i.stack.imgur.com/rYQJm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rYQJm.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","feign","undertow"],"comments":[{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":0,"creation_date":1686802235,"post_id":76479020,"comment_id":134850055,"body_markdown":"do you always get this error message? could be possible that you are trying to fetch a huge amount of data? were you able to run this piece of code in an integration or end to end test? is there a possibility that you can provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)?","body":"do you always get this error message? could be possible that you are trying to fetch a huge amount of data? were you able to run this piece of code in an integration or end to end test? is there a possibility that you can provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"},{"owner":{"account_id":28802959,"reputation":1,"user_id":22059411,"display_name":"Radio"},"score":0,"creation_date":1686807292,"post_id":76479020,"comment_id":134850524,"body_markdown":"This error is not often received, occasionally, and cannot be repeated. You may receive this error every once in a while.","body":"This error is not often received, occasionally, and cannot be repeated. You may receive this error every once in a while."},{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":0,"creation_date":1686864105,"post_id":76479020,"comment_id":134860806,"body_markdown":"With that level of details is hard to imagine what is cuasing that issue. I would suggest to make a request using the same input received when you got that error. Also look at your monitoring tools, maybe there was some intermittence in the network, a cpu overloaded or something like that.","body":"With that level of details is hard to imagine what is cuasing that issue. I would suggest to make a request using the same input received when you got that error. Also look at your monitoring tools, maybe there was some intermittence in the network, a cpu overloaded or something like that."},{"owner":{"account_id":28802959,"reputation":1,"user_id":22059411,"display_name":"Radio"},"score":0,"creation_date":1686885465,"post_id":76479020,"comment_id":134862821,"body_markdown":"Thank you for your answer. This is a scheduled task that appears approximately every few days. It is suspected that the problem is caused by the network or Thread pool, or even the &#39;undertow&#39; problem. However, the current log information may be misleading, resulting in a lack of clear direction for investigation.","body":"Thank you for your answer. This is a scheduled task that appears approximately every few days. It is suspected that the problem is caused by the network or Thread pool, or even the &#39;undertow&#39; problem. However, the current log information may be misleading, resulting in a lack of clear direction for investigation."}],"owner":{"account_id":28802959,"reputation":1,"user_id":22059411,"display_name":"Radio"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686801660,"creation_date":1686801660,"question_id":76479020,"body_markdown":"I am searching for a long time on net. But no use. Please help or try to give some ideas how to achieve this.\r\n\r\nMy current framework is：springboot2+feign+undertow+gateway\r\n\r\nThe corresponding timeout is set to 120s\r\n\r\nNow the investigation of this non essential problem is really impossible\r\n\r\nInternal service call path is a-\\&gt;b, b-\\&gt;c\r\n\r\nThe timeout part is b-\\&gt;c\r\n\r\nPlease help me\r\n\r\n\\\\&gt;\r\n\r\n```\r\nERROR io.undertow.request  --&gt; UT005023: Exception handling request to /xx/xx/xx\r\norg.springframework.web.util.NestedServletException: Request processing failed; nested exception is feign.codec.DecodeException: Error while extracting response for type [java.util.List&lt;xx.xx.xxDTO&gt;] \r\nand content type [application/json;charset=UTF-8]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Read timed out; \r\nnested exception is com.fasterxml.jackson.databind.JsonMappingException: Read timed out (through reference chain: java.util.ArrayList[460])\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:665)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:750)\r\n\tat io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\r\n\tat com.github.xiaoymin.knife4j.spring.filter.ProductionSecurityFilter.doFilter(ProductionSecurityFilter.java:45)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat com.github.xiaoymin.knife4j.spring.filter.SecurityBasicAuthFilter.doFilter(SecurityBasicAuthFilter.java:90)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat com.xx.xx.xx.filter.GzipFilter.doFilter$original$y6li3Cz5(GzipFilter.java:40)\r\n\tat com.xx.xx.xx.filter.GzipFilter.doFilter$original$y6li3Cz5$accessor$rh2deYRM(GzipFilter.java)\r\n\tat com.xx.xx.xx.filter.GzipFilter$auxiliary$Nc1m0Hdv.call(Unknown Source)\r\n\tat org.apache.skywalking.apm.agent.core.plugin.interceptor.enhance.InstMethodsInter.intercept(InstMethodsInter.java:86)\r\n\tat com.xx.xx.xx.filter.GzipFilter.doFilter(GzipFilter.java)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat com.xx.xx.xx.filter.HttpMethodOverrideHeaderFilter.doFilter$original$meYkyUnu(HttpMethodOverrideHeaderFilter.java:70)\r\n\tat com.xx.xx.xx.filter.HttpMethodOverrideHeaderFilter.doFilter$original$meYkyUnu$accessor$rlT4hnjc(HttpMethodOverrideHeaderFilter.java)\r\n\tat com.xx.xx.xx.filter.HttpMethodOverrideHeaderFilter$auxiliary$dy23rftn.call(Unknown Source)\r\n\tat org.apache.skywalking.apm.agent.core.plugin.interceptor.enhance.InstMethodsInter.intercept(InstMethodsInter.java:86)\r\n\tat com.xx.xx.xx.filter.HttpMethodOverrideHeaderFilter.doFilter(HttpMethodOverrideHeaderFilter.java)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\r\n\tat io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n\tat io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\r\n\tat io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n\tat io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\r\n\tat io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)\r\n\tat io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\r\n\tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\r\n\tat io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\r\n\tat io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\r\n\tat io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\r\n\tat io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\r\n\tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\r\n\tat io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\r\n\tat io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\r\n\tat io.undertow.server.Connectors.executeRootHandler(Connectors.java:376)\r\n\tat io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)\r\n\tat org.apache.skywalking.apm.plugin.undertow.v2x.SWRunnable.run(SWRunnable.java:45)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: feign.codec.DecodeException: Error while extracting response for type [java.util.List&lt;xx.xx.xxDTO&gt;] and content type [application/json;charset=UTF-8]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Read timed out; nested exception is com.fasterxml.jackson.databind.JsonMappingException: Read timed out (through reference chain: java.util.ArrayList[460])\r\n\tat feign.SynchronousMethodHandler.decode(SynchronousMethodHandler.java:182)\r\n\tat feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:142)\r\n\tat feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:80)\r\n\tat com.alibaba.cloud.sentinel.feign.SentinelInvocationHandler.invoke(SentinelInvocationHandler.java:107)\r\n\tat com.sun.proxy.$Proxy230.queryTimeListBySchoolId(Unknown Source)\r\n\tat sun.reflect.GeneratedMethodAccessor1188.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\r\n\tat org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\r\n\tat org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n\tat com.sun.proxy.$Proxy231.queryTimeListBySchoolId(Unknown Source)\r\n\tat org.apache.skywalking.apm.agent.core.plugin.interceptor.enhance.InstMethodsInter.intercept(InstMethodsInter.java:86)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)\r\n\tat org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)\r\n\tat org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)\r\n\tat org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)\r\n\tat org.apache.skywalking.apm.agent.core.plugin.interceptor.enhance.InstMethodsInter.intercept(InstMethodsInter.java:86)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)\r\n\tat org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)\r\n\tat org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)\r\n\tat org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)\r\n\tat sun.reflect.GeneratedMethodAccessor1712.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\t... 68 common frames omitted\r\nCaused by: org.springframework.web.client.RestClientException: Error while extracting response for type [java.util.List&lt;xx.xx.xxDTO&gt;] and content type [application/json;charset=UTF-8]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Read timed out; nested exception is com.fasterxml.jackson.databind.JsonMappingException: Read timed out (through reference chain: java.util.ArrayList[460])\r\n\tat org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:119)\r\n\tat org.springframework.cloud.openfeign.support.SpringDecoder.decode(SpringDecoder.java:59)\r\n\tat org.springframework.cloud.openfeign.support.DefaultGzipDecoder.decode(DefaultGzipDecoder.java:65)\r\n\tat org.springframework.cloud.openfeign.support.ResponseEntityDecoder.decode(ResponseEntityDecoder.java:62)\r\n\tat feign.optionals.OptionalDecoder.decode(OptionalDecoder.java:36)\r\n\tat feign.SynchronousMethodHandler.decode(SynchronousMethodHandler.java:178)\r\n\t... 149 common frames omitted\r\nCaused by: org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Read timed out; nested exception is com.fasterxml.jackson.databind.JsonMappingException: Read timed out (through reference chain: java.util.ArrayList[460])\r\n\tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:245)\r\n\tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:227)\r\n\tat org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:104)\r\n\t... 154 common frames omitted\r\nCaused by: com.fasterxml.jackson.databind.JsonMappingException: Read timed out (through reference chain: java.util.ArrayList[460])\r\n\tat com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:394)\r\n\tat com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:365)\r\n\tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:302)\r\n\tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:245)\r\n\tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:27)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4202)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3258)\r\n\tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:239)\r\n\t... 156 common frames omitted\r\nCaused by: java.net.SocketTimeoutException: Read timed out\r\n\tat java.net.SocketInputStream.socketRead0(Native Method)\r\n\tat java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:171)\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:141)\r\n\tat java.io.BufferedInputStream.fill(BufferedInputStream.java:246)\r\n\tat java.io.BufferedInputStream.read1(BufferedInputStream.java:286)\r\n\tat java.io.BufferedInputStream.read(BufferedInputStream.java:345)\r\n\tat sun.net.www.http.ChunkedInputStream.fastRead(ChunkedInputStream.java:244)\r\n\tat sun.net.www.http.ChunkedInputStream.read(ChunkedInputStream.java:689)\r\n\tat java.io.FilterInputStream.read(FilterInputStream.java:133)\r\n\tat sun.net.www.protocol.http.HttpURLConnection$HttpInputStream.read(HttpURLConnection.java:3444)\r\n\tat java.io.FilterInputStream.read(FilterInputStream.java:133)\r\n\tat java.io.PushbackInputStream.read(PushbackInputStream.java:186)\r\n\tat com.fasterxml.jackson.core.json.UTF8StreamJsonParser._loadMore(UTF8StreamJsonParser.java:220)\r\n\tat com.fasterxml.jackson.core.json.UTF8StreamJsonParser.parseEscapedName(UTF8StreamJsonParser.java:1985)\r\n\tat com.fasterxml.jackson.core.json.UTF8StreamJsonParser.slowParseName(UTF8StreamJsonParser.java:1891)\r\n\tat com.fasterxml.jackson.core.json.UTF8StreamJsonParser._parseName(UTF8StreamJsonParser.java:1675)\r\n\tat com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextFieldName(UTF8StreamJsonParser.java:1029)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:376)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:159)\r\n\tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:286)\r\n\t... 161 common frames omitted\r\n```","title":"JsonMappingException: Read timed out","body":"<p>I am searching for a long time on net. But no use. Please help or try to give some ideas how to achieve this.</p>\n<p>My current framework is：springboot2+feign+undertow+gateway</p>\n<p>The corresponding timeout is set to 120s</p>\n<p>Now the investigation of this non essential problem is really impossible</p>\n<p>Internal service call path is a-&gt;b, b-&gt;c</p>\n<p>The timeout part is b-&gt;c</p>\n<p>Please help me</p>\n<p>\\&gt;</p>\n<pre><code>ERROR io.undertow.request  --&gt; UT005023: Exception handling request to /xx/xx/xx\norg.springframework.web.util.NestedServletException: Request processing failed; nested exception is feign.codec.DecodeException: Error while extracting response for type [java.util.List&lt;xx.xx.xxDTO&gt;] \nand content type [application/json;charset=UTF-8]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Read timed out; \nnested exception is com.fasterxml.jackson.databind.JsonMappingException: Read timed out (through reference chain: java.util.ArrayList[460])\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:665)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:750)\n    at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\n    at com.github.xiaoymin.knife4j.spring.filter.ProductionSecurityFilter.doFilter(ProductionSecurityFilter.java:45)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at com.github.xiaoymin.knife4j.spring.filter.SecurityBasicAuthFilter.doFilter(SecurityBasicAuthFilter.java:90)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at com.xx.xx.xx.filter.GzipFilter.doFilter$original$y6li3Cz5(GzipFilter.java:40)\n    at com.xx.xx.xx.filter.GzipFilter.doFilter$original$y6li3Cz5$accessor$rh2deYRM(GzipFilter.java)\n    at com.xx.xx.xx.filter.GzipFilter$auxiliary$Nc1m0Hdv.call(Unknown Source)\n    at org.apache.skywalking.apm.agent.core.plugin.interceptor.enhance.InstMethodsInter.intercept(InstMethodsInter.java:86)\n    at com.xx.xx.xx.filter.GzipFilter.doFilter(GzipFilter.java)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at com.xx.xx.xx.filter.HttpMethodOverrideHeaderFilter.doFilter$original$meYkyUnu(HttpMethodOverrideHeaderFilter.java:70)\n    at com.xx.xx.xx.filter.HttpMethodOverrideHeaderFilter.doFilter$original$meYkyUnu$accessor$rlT4hnjc(HttpMethodOverrideHeaderFilter.java)\n    at com.xx.xx.xx.filter.HttpMethodOverrideHeaderFilter$auxiliary$dy23rftn.call(Unknown Source)\n    at org.apache.skywalking.apm.agent.core.plugin.interceptor.enhance.InstMethodsInter.intercept(InstMethodsInter.java:86)\n    at com.xx.xx.xx.filter.HttpMethodOverrideHeaderFilter.doFilter(HttpMethodOverrideHeaderFilter.java)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\n    at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\n    at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\n    at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\n    at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\n    at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)\n    at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\n    at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\n    at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\n    at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\n    at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)\n    at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\n    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\n    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\n    at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\n    at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n    at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\n    at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\n    at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\n    at io.undertow.server.Connectors.executeRootHandler(Connectors.java:376)\n    at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)\n    at org.apache.skywalking.apm.plugin.undertow.v2x.SWRunnable.run(SWRunnable.java:45)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: feign.codec.DecodeException: Error while extracting response for type [java.util.List&lt;xx.xx.xxDTO&gt;] and content type [application/json;charset=UTF-8]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Read timed out; nested exception is com.fasterxml.jackson.databind.JsonMappingException: Read timed out (through reference chain: java.util.ArrayList[460])\n    at feign.SynchronousMethodHandler.decode(SynchronousMethodHandler.java:182)\n    at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:142)\n    at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:80)\n    at com.alibaba.cloud.sentinel.feign.SentinelInvocationHandler.invoke(SentinelInvocationHandler.java:107)\n    at com.sun.proxy.$Proxy230.queryTimeListBySchoolId(Unknown Source)\n    at sun.reflect.GeneratedMethodAccessor1188.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\n    at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\n    at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\n    at com.sun.proxy.$Proxy231.queryTimeListBySchoolId(Unknown Source)\n    at org.apache.skywalking.apm.agent.core.plugin.interceptor.enhance.InstMethodsInter.intercept(InstMethodsInter.java:86)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)\n    at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)\n    at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)\n    at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)\n    at org.apache.skywalking.apm.agent.core.plugin.interceptor.enhance.InstMethodsInter.intercept(InstMethodsInter.java:86)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)\n    at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)\n    at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)\n    at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)\n    at sun.reflect.GeneratedMethodAccessor1712.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    ... 68 common frames omitted\nCaused by: org.springframework.web.client.RestClientException: Error while extracting response for type [java.util.List&lt;xx.xx.xxDTO&gt;] and content type [application/json;charset=UTF-8]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Read timed out; nested exception is com.fasterxml.jackson.databind.JsonMappingException: Read timed out (through reference chain: java.util.ArrayList[460])\n    at org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:119)\n    at org.springframework.cloud.openfeign.support.SpringDecoder.decode(SpringDecoder.java:59)\n    at org.springframework.cloud.openfeign.support.DefaultGzipDecoder.decode(DefaultGzipDecoder.java:65)\n    at org.springframework.cloud.openfeign.support.ResponseEntityDecoder.decode(ResponseEntityDecoder.java:62)\n    at feign.optionals.OptionalDecoder.decode(OptionalDecoder.java:36)\n    at feign.SynchronousMethodHandler.decode(SynchronousMethodHandler.java:178)\n    ... 149 common frames omitted\nCaused by: org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Read timed out; nested exception is com.fasterxml.jackson.databind.JsonMappingException: Read timed out (through reference chain: java.util.ArrayList[460])\n    at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:245)\n    at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:227)\n    at org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:104)\n    ... 154 common frames omitted\nCaused by: com.fasterxml.jackson.databind.JsonMappingException: Read timed out (through reference chain: java.util.ArrayList[460])\n    at com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:394)\n    at com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:365)\n    at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:302)\n    at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:245)\n    at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:27)\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4202)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3258)\n    at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:239)\n    ... 156 common frames omitted\nCaused by: java.net.SocketTimeoutException: Read timed out\n    at java.net.SocketInputStream.socketRead0(Native Method)\n    at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\n    at java.net.SocketInputStream.read(SocketInputStream.java:171)\n    at java.net.SocketInputStream.read(SocketInputStream.java:141)\n    at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)\n    at java.io.BufferedInputStream.read1(BufferedInputStream.java:286)\n    at java.io.BufferedInputStream.read(BufferedInputStream.java:345)\n    at sun.net.www.http.ChunkedInputStream.fastRead(ChunkedInputStream.java:244)\n    at sun.net.www.http.ChunkedInputStream.read(ChunkedInputStream.java:689)\n    at java.io.FilterInputStream.read(FilterInputStream.java:133)\n    at sun.net.www.protocol.http.HttpURLConnection$HttpInputStream.read(HttpURLConnection.java:3444)\n    at java.io.FilterInputStream.read(FilterInputStream.java:133)\n    at java.io.PushbackInputStream.read(PushbackInputStream.java:186)\n    at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._loadMore(UTF8StreamJsonParser.java:220)\n    at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.parseEscapedName(UTF8StreamJsonParser.java:1985)\n    at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.slowParseName(UTF8StreamJsonParser.java:1891)\n    at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._parseName(UTF8StreamJsonParser.java:1675)\n    at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextFieldName(UTF8StreamJsonParser.java:1029)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:376)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:159)\n    at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:286)\n    ... 161 common frames omitted\n</code></pre>\n"},{"tags":["java","jira-rest-java-api"],"answers":[{"tags":[],"owner":{"account_id":3599966,"reputation":607,"user_id":3003479,"display_name":"sashwat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686801332,"creation_date":1686801332,"answer_id":76479001,"question_id":76453810,"body_markdown":"I did not find any resolution using the Java API.\r\n\r\nI did solve the issue using the Rest API. Generic code for invoking the rest URI.\r\n\r\n    public static void updateIssue(JsonObject issueObject,String ISSUE_KEY) {\r\n        try {\r\n            Gson gson = new GsonBuilder().setPrettyPrinting().create();\r\n            String json = gson.toJson(issueObject);\r\n\r\n            LOGGER.debug(&quot;JSON : {}&quot;, json);\r\n            HttpClient httpClient = HttpClients.createDefault();\r\n            String uri = SecureUtils.getBaseURL() + &quot;/rest/api/2/issue/&quot; + ISSUE_KEY;\r\n            LOGGER.debug(&quot;URL : {}&quot;, uri);\r\n            HttpPut httpPut = new HttpPut(uri);\r\n            httpPut.setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n            httpPut.setHeader(&quot;Accept&quot;, &quot;application/json&quot;);\r\n            httpPut.setHeader(&quot;Authorization&quot;, &quot;Basic &quot; + getEncodedCredentials());\r\n            // Set JSON payload as the request entity\r\n            HttpEntity entity = new StringEntity(issueObject.toString(), ContentType.APPLICATION_JSON);\r\n            httpPut.setEntity(entity);\r\n            HttpResponse response = httpClient.execute(httpPut);\r\n\r\n            // Check the response status code\r\n            int statusCode = response.getStatusLine().getStatusCode();\r\n            if (statusCode &gt;= 200 &amp;&amp; statusCode &lt; 300) {\r\n                LOGGER.info(&quot;Label and fix version updated successfully.&quot;);\r\n            } else {\r\n                LOGGER.error(&quot;Failed to update label and fix version. Status code: &quot; + statusCode);\r\n            }\r\n\r\n            // Consume and close the response\r\n            EntityUtils.consume(response.getEntity());\r\n        } catch (Exception e) {\r\n            LOGGER.error(&quot;Error: {}&quot;, e);\r\n        }\r\n    }\r\n\r\nI created a JsonObject for the below payload. The sample adds 3 labels and also some custom fields.\r\n\r\n        {\r\n      &quot;update&quot;: {\r\n        &quot;labels&quot;: [\r\n          {\r\n            &quot;add&quot;: &quot;Label1&quot;\r\n          },\r\n          {\r\n            &quot;add&quot;: &quot;Label3&quot;\r\n          },\r\n          {\r\n            &quot;add&quot;: &quot;Label5&quot;\r\n          }\r\n        ]\r\n      },\r\n      &quot;fields&quot;: {\r\n        &quot;customfield_15502&quot;: &quot;Field1&quot;,\r\n        &quot;customfield_15504&quot;: &quot;2023-10-01&quot;\r\n      }\r\n    }\r\n\r\nReference API used: https://docs.atlassian.com/software/jira/docs/api/REST/8.22.4/#issue-editIssue","title":"Add label to an existing Jira Issue using the Java Jira Client","body":"<p>I did not find any resolution using the Java API.</p>\n<p>I did solve the issue using the Rest API. Generic code for invoking the rest URI.</p>\n<pre><code>public static void updateIssue(JsonObject issueObject,String ISSUE_KEY) {\n    try {\n        Gson gson = new GsonBuilder().setPrettyPrinting().create();\n        String json = gson.toJson(issueObject);\n\n        LOGGER.debug(&quot;JSON : {}&quot;, json);\n        HttpClient httpClient = HttpClients.createDefault();\n        String uri = SecureUtils.getBaseURL() + &quot;/rest/api/2/issue/&quot; + ISSUE_KEY;\n        LOGGER.debug(&quot;URL : {}&quot;, uri);\n        HttpPut httpPut = new HttpPut(uri);\n        httpPut.setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\n        httpPut.setHeader(&quot;Accept&quot;, &quot;application/json&quot;);\n        httpPut.setHeader(&quot;Authorization&quot;, &quot;Basic &quot; + getEncodedCredentials());\n        // Set JSON payload as the request entity\n        HttpEntity entity = new StringEntity(issueObject.toString(), ContentType.APPLICATION_JSON);\n        httpPut.setEntity(entity);\n        HttpResponse response = httpClient.execute(httpPut);\n\n        // Check the response status code\n        int statusCode = response.getStatusLine().getStatusCode();\n        if (statusCode &gt;= 200 &amp;&amp; statusCode &lt; 300) {\n            LOGGER.info(&quot;Label and fix version updated successfully.&quot;);\n        } else {\n            LOGGER.error(&quot;Failed to update label and fix version. Status code: &quot; + statusCode);\n        }\n\n        // Consume and close the response\n        EntityUtils.consume(response.getEntity());\n    } catch (Exception e) {\n        LOGGER.error(&quot;Error: {}&quot;, e);\n    }\n}\n</code></pre>\n<p>I created a JsonObject for the below payload. The sample adds 3 labels and also some custom fields.</p>\n<pre><code>    {\n  &quot;update&quot;: {\n    &quot;labels&quot;: [\n      {\n        &quot;add&quot;: &quot;Label1&quot;\n      },\n      {\n        &quot;add&quot;: &quot;Label3&quot;\n      },\n      {\n        &quot;add&quot;: &quot;Label5&quot;\n      }\n    ]\n  },\n  &quot;fields&quot;: {\n    &quot;customfield_15502&quot;: &quot;Field1&quot;,\n    &quot;customfield_15504&quot;: &quot;2023-10-01&quot;\n  }\n}\n</code></pre>\n<p>Reference API used: <a href=\"https://docs.atlassian.com/software/jira/docs/api/REST/8.22.4/#issue-editIssue\" rel=\"nofollow noreferrer\">https://docs.atlassian.com/software/jira/docs/api/REST/8.22.4/#issue-editIssue</a></p>\n"}],"owner":{"account_id":3599966,"reputation":607,"user_id":3003479,"display_name":"sashwat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686801332,"creation_date":1686547302,"question_id":76453810,"body_markdown":"I am trying to update a Jira Issue and add/update some field. \r\n\r\nI am using https://www.baeldung.com/jira-rest-api to setup my java rest client. I can now connect and update some of the fields for the Jira Issue.\r\n\r\nI am unable to find how to add labels to existing issue which has labels. In the current code the label is getting replaced. The current issue has say labels &#39;A&#39; and &#39;B&#39;, I want to add label NEW_LABEL. \r\n\r\n\r\n```\r\n\r\n    private void updateIssue(String issueKey) {\r\n        //update parent, version\r\n        IssueInput input = new IssueInputBuilder()\r\n                .setFieldValue(PARENT_LINK_FEATURE,PARENT_LINK_FEATURE_VALUE)\r\n                .setFixVersions(Collections.singletonList(createVerion()))\r\n               .setFieldValue(IssueFieldId.LABELS_FIELD.id,\r\n                        Collections.singletonList(&quot;NEW_LABEL&quot;))\r\n                        \r\n                .build();\r\n        JiraRestClient restClient = JiraUtils.createRestClient();\r\n        restClient.getIssueClient()\r\n                .updateIssue(issueKey, input)\r\n                .claim();\r\n    }\r\n```\r\nI would like some support to add a label to an existing Issue, without having to retrieve and add the labels again.","title":"Add label to an existing Jira Issue using the Java Jira Client","body":"<p>I am trying to update a Jira Issue and add/update some field.</p>\n<p>I am using <a href=\"https://www.baeldung.com/jira-rest-api\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jira-rest-api</a> to setup my java rest client. I can now connect and update some of the fields for the Jira Issue.</p>\n<p>I am unable to find how to add labels to existing issue which has labels. In the current code the label is getting replaced. The current issue has say labels 'A' and 'B', I want to add label NEW_LABEL.</p>\n<pre><code>\n    private void updateIssue(String issueKey) {\n        //update parent, version\n        IssueInput input = new IssueInputBuilder()\n                .setFieldValue(PARENT_LINK_FEATURE,PARENT_LINK_FEATURE_VALUE)\n                .setFixVersions(Collections.singletonList(createVerion()))\n               .setFieldValue(IssueFieldId.LABELS_FIELD.id,\n                        Collections.singletonList(&quot;NEW_LABEL&quot;))\n                        \n                .build();\n        JiraRestClient restClient = JiraUtils.createRestClient();\n        restClient.getIssueClient()\n                .updateIssue(issueKey, input)\n                .claim();\n    }\n</code></pre>\n<p>I would like some support to add a label to an existing Issue, without having to retrieve and add the labels again.</p>\n"},{"tags":["java","swt"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1686810615,"post_id":76478789,"comment_id":134850979,"body_markdown":"What &quot;console&quot; - what is `propertyConsole`? Various controls do lists.","body":"What &quot;console&quot; - what is <code>propertyConsole</code>? Various controls do lists."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686800964,"creation_date":1686800499,"answer_id":76478947,"question_id":76478789,"body_markdown":"You can use the _[Arrays#toString](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Arrays.html#toString(java.lang.Object[]))_ method to return a _String_ representation of a given array.\r\n\r\nHere is an example.\r\n\r\n```java\r\nString[] strings = { &quot;abc&quot;, &quot;def&quot;, &quot;ghi&quot; };\r\nSystem.out.println(Arrays.toString(strings));\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n[abc, def, ghi]\r\n```\r\n\r\nFurthermore, you may find it useful to organize your _String_ value by utilizing the _[StringBuilder](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/StringBuilder.html)_ and _[Formatter](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Formatter.html)_ classes.\r\n\r\nAdditionally, the _Formatter_ class _JavaDoc_ provides the extensive set of format specifiers.  \r\n_[Formatter (Java SE 20 &amp;amp; JDK 20) &amp;ndash; Conversions](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Formatter.html#conversions-heading)_.\r\n\r\n```java\r\nStringBuilder string = new StringBuilder();\r\nFormatter formatter = new Formatter(string);\r\nformatter.format(&quot;Project Name: %s.act%n&quot;, item1.projectName);\r\nformatter.format(&quot;Category:     %s%n&quot;, item1.category);\r\nformatter.format(&quot;Modules:      %s&quot;, Arrays.toString(item1.modulesList));\r\nformatter.flush();\r\npropertyConsole.setText(string.toString());\r\n```","title":"In Java SWT, i am trying to display few information in a seperate console. Is it possible to display list of items to be displayed in the console?","body":"<p>You can use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Arrays.html#toString(java.lang.Object%5B%5D)\" rel=\"nofollow noreferrer\">Arrays#toString</a></em> method to return a <em>String</em> representation of a given array.</p>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] strings = { &quot;abc&quot;, &quot;def&quot;, &quot;ghi&quot; };\nSystem.out.println(Arrays.toString(strings));\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[abc, def, ghi]\n</code></pre>\n<p>Furthermore, you may find it useful to organize your <em>String</em> value by utilizing the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/StringBuilder.html\" rel=\"nofollow noreferrer\">StringBuilder</a></em> and <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Formatter.html\" rel=\"nofollow noreferrer\">Formatter</a></em> classes.</p>\n<p>Additionally, the <em>Formatter</em> class <em>JavaDoc</em> provides the extensive set of format specifiers.<br />\n<em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Formatter.html#conversions-heading\" rel=\"nofollow noreferrer\">Formatter (Java SE 20 &amp; JDK 20) – Conversions</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>StringBuilder string = new StringBuilder();\nFormatter formatter = new Formatter(string);\nformatter.format(&quot;Project Name: %s.act%n&quot;, item1.projectName);\nformatter.format(&quot;Category:     %s%n&quot;, item1.category);\nformatter.format(&quot;Modules:      %s&quot;, Arrays.toString(item1.modulesList));\nformatter.flush();\npropertyConsole.setText(string.toString());\n</code></pre>\n"}],"owner":{"account_id":28682989,"reputation":7,"user_id":21963792,"display_name":"vmaya003"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686800964,"creation_date":1686797835,"question_id":76478789,"body_markdown":"    propertyConsole.setText(&quot;\\n\tProject Name:&quot; + item1.projectName + &quot;.act&quot;\r\n    \t\t\t\t\t\t\t\t\t+ &quot;\t&quot; + &quot;\\n\\n\tCategory:\t\t&quot; + item1.category + &quot;\t&quot;\r\n    \t\t\t\t\t\t\t\t\t+ &quot;\\n\\n\tModules:\t\t       &quot; + item1.modulesList[]); \r\n\r\nIn Java SWT, i am trying to display few information in a seperate console. Is it possible to display list of items to be displayed in the console?  The modulesList is actually a list of 4 or 5 items which need to be displayed in the console\r\n","title":"In Java SWT, i am trying to display few information in a seperate console. Is it possible to display list of items to be displayed in the console?","body":"<pre><code>propertyConsole.setText(&quot;\\n Project Name:&quot; + item1.projectName + &quot;.act&quot;\n                                    + &quot; &quot; + &quot;\\n\\n   Category:       &quot; + item1.category + &quot;  &quot;\n                                    + &quot;\\n\\n Modules:               &quot; + item1.modulesList[]); \n</code></pre>\n<p>In Java SWT, i am trying to display few information in a seperate console. Is it possible to display list of items to be displayed in the console?  The modulesList is actually a list of 4 or 5 items which need to be displayed in the console</p>\n"},{"tags":["java","maven","google-cloud-platform","google-cloud-pubsub","maven-assembly-plugin"],"comments":[{"owner":{"account_id":25595958,"reputation":1,"user_id":19371728,"display_name":"Poala Astrid"},"score":0,"creation_date":1686695179,"post_id":76464992,"comment_id":134834067,"body_markdown":"Do you have a snippet of what error says?","body":"Do you have a snippet of what error says?"},{"owner":{"account_id":7366296,"reputation":739,"user_id":5607943,"display_name":"Nuwan Sameera"},"score":0,"creation_date":1686712106,"post_id":76464992,"comment_id":134835402,"body_markdown":"@PoalaAstrid added error log","body":"@PoalaAstrid added error log"}],"answers":[{"tags":[],"owner":{"account_id":7366296,"reputation":739,"user_id":5607943,"display_name":"Nuwan Sameera"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686800281,"creation_date":1686799945,"answer_id":76478906,"question_id":76464992,"body_markdown":"Issue getting when same file provide by many dependencies. At jar file generation time it select one file. If required details not available in selected file, this kind of issues can happen.  \r\n\r\nFollowing is the solution for my issue.\r\n\r\n 1. Replace `maven-assembly-plugin` from `maven-shade-plugin`[1]. This plugin create executable jar file. At the build time it shows overlapping resources.\r\n\r\n 2. At build result shows `META-INF/services/io.grpc.LoadBalancerProvider` overlapping resource.\r\n\r\n    `[WARNING] grpc-core-1.55.1.jar, grpc-grpclb-1.55.1.jar, grpc-rls-1.55.1.jar, grpc-services-1.55.1.jar, grpc-xds-1.55.1.jar define 1 overlapping resource:\r\n    [WARNING]   - META-INF/services/io.grpc.LoadBalancerProvider`\r\n\r\n 3. Here it shows three dependencies have `io.grpc.LoadBalancerProvider` file. But their contents are different. Only `grpc-core` has `pick_first` record. If another file select at jar file generation, run time `pick_first` record not found. \r\n\r\n 4. With shade plugin there is a option to merge all same name service files. Following transformer need to add in `pom.xml` [2]\r\n `&lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;`\r\n\r\n\r\nShade plugin details in `pom.xml`\r\n\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.4.1&lt;/version&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;phase&gt;package&lt;/phase&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;shade&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;filters&gt;\r\n                            &lt;filter&gt;\r\n                                &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                                &lt;excludes&gt;\r\n                                    &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                                    &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                                    &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                                &lt;/excludes&gt;\r\n                            &lt;/filter&gt;\r\n                        &lt;/filters&gt;\r\n                        &lt;transformers&gt;\r\n                            &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                &lt;mainClass&gt;Main Class&lt;/mainClass&gt;\r\n                            &lt;/transformer&gt;\r\n                            &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\r\n                        &lt;/transformers&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n\r\n\r\n\r\n[1]. https://maven.apache.org/plugins/maven-shade-plugin/examples/executable-jar.html \r\n\r\n[2]. https://maven.apache.org/plugins/maven-shade-plugin/apidocs/org/apache/maven/plugins/shade/resource/ServicesResourceTransformer.html","title":"PubSub Runtime Error, Could not find policy &#39;pick_first&#39; in META-INF/services/io.grpc.LoadBalancerProvider","body":"<p>Issue getting when same file provide by many dependencies. At jar file generation time it select one file. If required details not available in selected file, this kind of issues can happen.</p>\n<p>Following is the solution for my issue.</p>\n<ol>\n<li><p>Replace <code>maven-assembly-plugin</code> from <code>maven-shade-plugin</code>[1]. This plugin create executable jar file. At the build time it shows overlapping resources.</p>\n</li>\n<li><p>At build result shows <code>META-INF/services/io.grpc.LoadBalancerProvider</code> overlapping resource.</p>\n<p><code>[WARNING] grpc-core-1.55.1.jar, grpc-grpclb-1.55.1.jar, grpc-rls-1.55.1.jar, grpc-services-1.55.1.jar, grpc-xds-1.55.1.jar define 1 overlapping resource: [WARNING]   - META-INF/services/io.grpc.LoadBalancerProvider</code></p>\n</li>\n<li><p>Here it shows three dependencies have <code>io.grpc.LoadBalancerProvider</code> file. But their contents are different. Only <code>grpc-core</code> has <code>pick_first</code> record. If another file select at jar file generation, run time <code>pick_first</code> record not found.</p>\n</li>\n<li><p>With shade plugin there is a option to merge all same name service files. Following transformer need to add in <code>pom.xml</code> [2]\n<code>&lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;</code></p>\n</li>\n</ol>\n<p>Shade plugin details in <code>pom.xml</code></p>\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.4.1&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;phase&gt;package&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;shade&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                    &lt;filters&gt;\n                        &lt;filter&gt;\n                            &lt;artifact&gt;*:*&lt;/artifact&gt;\n                            &lt;excludes&gt;\n                                &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                                &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                                &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                            &lt;/excludes&gt;\n                        &lt;/filter&gt;\n                    &lt;/filters&gt;\n                    &lt;transformers&gt;\n                        &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                            &lt;mainClass&gt;Main Class&lt;/mainClass&gt;\n                        &lt;/transformer&gt;\n                        &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\n                    &lt;/transformers&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n</code></pre>\n<p>[1]. <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/examples/executable-jar.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-shade-plugin/examples/executable-jar.html</a></p>\n<p>[2]. <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/apidocs/org/apache/maven/plugins/shade/resource/ServicesResourceTransformer.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-shade-plugin/apidocs/org/apache/maven/plugins/shade/resource/ServicesResourceTransformer.html</a></p>\n"}],"owner":{"account_id":7366296,"reputation":739,"user_id":5607943,"display_name":"Nuwan Sameera"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":342,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76478906,"answer_count":1,"score":1,"last_activity_date":1686800281,"creation_date":1686659547,"question_id":76464992,"body_markdown":"I have a maven project with pubsub and I use `maven-assembly-plugin` to generate a jar file with dependencies.\r\n\r\nWith pubsub version `1.104.1`, the jar file is working properly and I tried to update it to latest version `1.123.13`. After updating, my application works as expected with `exec-maven-plugin`, but the same code is not working with a `maven-assembly-plugin`-generated jar file.\r\n\r\nPOM file and Error as follows.\r\n\r\n    &lt;!-- language: xml --&gt;\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n                 xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                 xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n            &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        \r\n            &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n            &lt;artifactId&gt;test&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        \r\n            &lt;properties&gt;\r\n                &lt;java.version&gt;8&lt;/java.version&gt;\r\n                &lt;junit-version&gt;4.4&lt;/junit-version&gt;\r\n            &lt;/properties&gt;\r\n        \r\n            &lt;dependencies&gt;\r\n               \r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;google-cloud-pubsub&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.123.13&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n        \r\n            &lt;/dependencies&gt;\r\n        \r\n            &lt;build&gt;\r\n        \r\n                &lt;extensions&gt;\r\n                    &lt;extension&gt;\r\n                        &lt;groupId&gt;kr.motd.maven&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;os-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.5.0.Final&lt;/version&gt;\r\n                    &lt;/extension&gt;\r\n                &lt;/extensions&gt;\r\n        \r\n                &lt;plugins&gt;\r\n        \r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;0.8.5&lt;/version&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;report&lt;/id&gt;\r\n                                &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;report&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;jacoco-check&lt;/id&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;check&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n        \r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;3.6.0&lt;/version&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;archive&gt;\r\n                                &lt;manifest&gt;\r\n                                    &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                                    &lt;mainClass&gt;Main&lt;/mainClass&gt;\r\n                                &lt;/manifest&gt;\r\n                            &lt;/archive&gt;\r\n                            &lt;descriptorRefs&gt;\r\n                                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                            &lt;/descriptorRefs&gt;\r\n                        &lt;/configuration&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;assemble-all&lt;/id&gt;\r\n                                &lt;phase&gt;package&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;single&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n        \r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;3.7.0&lt;/version&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;source&gt;1.8&lt;/source&gt;\r\n                            &lt;target&gt;1.8&lt;/target&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n        \r\n                &lt;pluginManagement&gt;\r\n                    &lt;plugins&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;1.6.0&lt;/version&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;cleanupDaemonThreads&gt;false&lt;/cleanupDaemonThreads&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/plugin&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;3.7.0.1746&lt;/version&gt;\r\n                        &lt;/plugin&gt;\r\n                    &lt;/plugins&gt;\r\n                &lt;/pluginManagement&gt;\r\n        \r\n            &lt;/build&gt;\r\n        \r\n        &lt;/project&gt;\r\n\r\n\r\n\r\nError Log\r\n\r\n    Jun 13, 2023 12:15:11 PM io.grpc.internal.ManagedChannelImpl$2 uncaughtException\r\n            SEVERE: [Channel&lt;3&gt;: (pubsub.googleapis.com:443)] Uncaught exception in the SynchronizationContext. Panic!\r\n            java.lang.IllegalStateException: Could not find policy &#39;pick_first&#39;. Make sure its implementation is either registered to LoadBalancerRegistry or included in META-INF/services/io.grpc.LoadBalancerProvider from your jar files.\r\n                    at io.grpc.internal.AutoConfiguredLoadBalancerFactory$AutoConfiguredLoadBalancer.&lt;init&gt;(AutoConfiguredLoadBalancerFactory.java:94)\r\n                    at io.grpc.internal.AutoConfiguredLoadBalancerFactory.newLoadBalancer(AutoConfiguredLoadBalancerFactory.java:61)\r\n                    at io.grpc.internal.ManagedChannelImpl.exitIdleMode(ManagedChannelImpl.java:413)\r\n                    at io.grpc.internal.ManagedChannelImpl$RealChannel$2.run(ManagedChannelImpl.java:968)\r\n                    at io.grpc.SynchronizationContext.drain(SynchronizationContext.java:95)\r\n                    at io.grpc.SynchronizationContext.execute(SynchronizationContext.java:127)\r\n                    at io.grpc.internal.ManagedChannelImpl$RealChannel.newCall(ManagedChannelImpl.java:965)\r\n                    at com.google.api.gax.grpc.GrpcChannelUUIDInterceptor.interceptCall(GrpcChannelUUIDInterceptor.java:52)\r\n                    at io.grpc.ClientInterceptors$InterceptorChannel.newCall(ClientInterceptors.java:156)\r\n                    at com.google.api.gax.grpc.GrpcHeaderInterceptor.interceptCall(GrpcHeaderInterceptor.java:80)\r\n                    at io.grpc.ClientInterceptors$InterceptorChannel.newCall(ClientInterceptors.java:156)\r\n                    at com.google.api.gax.grpc.GrpcMetadataHandlerInterceptor.interceptCall(GrpcMetadataHandlerInterceptor.java:54)\r\n                    at io.grpc.ClientInterceptors$InterceptorChannel.newCall(ClientInterceptors.java:156)\r\n                    at io.grpc.internal.ManagedChannelImpl.newCall(ManagedChannelImpl.java:907)\r\n                    at io.grpc.internal.ForwardingManagedChannel.newCall(ForwardingManagedChannel.java:63)\r\n                    at com.google.api.gax.grpc.ChannelPool$AffinityChannel.newCall(ChannelPool.java:516)\r\n                    at com.google.api.gax.grpc.ChannelPool.newCall(ChannelPool.java:145)\r\n                    at com.google.api.gax.grpc.GrpcClientCalls.newCall(GrpcClientCalls.java:99)\r\n                    at com.google.api.gax.grpc.GrpcDirectCallable.futureCall(GrpcDirectCallable.java:60)\r\n                    at com.google.api.gax.grpc.GrpcUnaryRequestParamCallable.futureCall(GrpcUnaryRequestParamCallable.java:65)\r\n                    at com.google.api.gax.grpc.GrpcExceptionCallable.futureCall(GrpcExceptionCallable.java:64)\r\n                    at com.google.api.gax.rpc.AttemptCallable.call(AttemptCallable.java:87)\r\n                    at com.google.api.gax.rpc.RetryingCallable.futureCall(RetryingCallable.java:63)\r\n                    at com.google.api.gax.rpc.RetryingCallable.futureCall(RetryingCallable.java:41)\r\n                    at com.google.api.gax.tracing.TracedUnaryCallable.futureCall(TracedUnaryCallable.java:75)\r\n                    at com.google.api.gax.rpc.UnaryCallable$1.futureCall(UnaryCallable.java:126)\r\n                    at com.google.api.gax.rpc.UnaryCallable.futureCall(UnaryCallable.java:87)\r\n                    at com.google.api.gax.rpc.UnaryCallable.call(UnaryCallable.java:112)\r\n                    at com.google.cloud.pubsub.v1.TopicAdminClient.createTopic(TopicAdminClient.java:319)\r\n                    at com.google.cloud.pubsub.v1.TopicAdminClient.createTopic(TopicAdminClient.java:224)\r\n                    at com.stl.sciocardio.common.pubsub.PubSubConsumer.createTopic(PubSubConsumer.java:232)\r\n                    at com.stl.sciocardio.common.pubsub.PubSubConsumer.startConsume(PubSubConsumer.java:197)\r\n                    at com.stl.sciocardio.common.pubsub.PubSubConsumer.run(PubSubConsumer.java:138)\r\n                    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n                    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n                    at java.base/java.lang.Thread.run(Thread.java:830)\r\n            \r\n            Exception in thread &quot;pool-1-thread-1&quot; com.google.api.gax.rpc.InternalException: io.grpc.StatusRuntimeException: INTERNAL: Panic! This is a bug!\r\n                    at com.google.api.gax.rpc.ApiExceptionFactory.createException(ApiExceptionFactory.java:110)\r\n                    at com.google.api.gax.rpc.ApiExceptionFactory.createException(ApiExceptionFactory.java:41)\r\n                    at com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:86)\r\n                    at com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:66)\r\n                    at com.google.api.gax.grpc.GrpcExceptionCallable$ExceptionTransformingFuture.onFailure(GrpcExceptionCallable.java:97)\r\n                    at com.google.api.core.ApiFutures$1.onFailure(ApiFutures.java:84)\r\n                    at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1132)\r\n                    at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:31)\r\n                    at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1270)\r\n                    at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:761)\r\n                    at com.google.common.util.concurrent.ForwardingListenableFuture.addListener(ForwardingListenableFuture.java:47)\r\n                    at com.google.api.core.ApiFutureToListenableFuture.addListener(ApiFutureToListenableFuture.java:49)\r\n                    at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1105)\r\n                    at com.google.api.core.ApiFutures.addCallback(ApiFutures.java:79)\r\n                    at com.google.api.gax.grpc.GrpcExceptionCallable.futureCall(GrpcExceptionCallable.java:67)\r\n                    at com.google.api.gax.rpc.AttemptCallable.call(AttemptCallable.java:87)\r\n                    at com.google.api.gax.rpc.RetryingCallable.futureCall(RetryingCallable.java:63)\r\n                    at com.google.api.gax.rpc.RetryingCallable.futureCall(RetryingCallable.java:41)\r\n                    at com.google.api.gax.tracing.TracedUnaryCallable.futureCall(TracedUnaryCallable.java:75)\r\n                    at com.google.api.gax.rpc.UnaryCallable$1.futureCall(UnaryCallable.java:126)\r\n                    at com.google.api.gax.rpc.UnaryCallable.futureCall(UnaryCallable.java:87)\r\n                    at com.google.api.gax.rpc.UnaryCallable.call(UnaryCallable.java:112)\r\n                    at com.google.cloud.pubsub.v1.TopicAdminClient.createTopic(TopicAdminClient.java:319)\r\n                    at com.google.cloud.pubsub.v1.TopicAdminClient.createTopic(TopicAdminClient.java:224)\r\n                    at com.stl.sciocardio.common.pubsub.PubSubConsumer.createTopic(PubSubConsumer.java:232)\r\n                    at com.stl.sciocardio.common.pubsub.PubSubConsumer.startConsume(PubSubConsumer.java:197)\r\n                    at com.stl.sciocardio.common.pubsub.PubSubConsumer.run(PubSubConsumer.java:138)\r\n                    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n                    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n                    at java.base/java.lang.Thread.run(Thread.java:830)\r\n                    Suppressed: com.google.api.gax.rpc.AsyncTaskException: Asynchronous task failed\r\n                            at com.google.api.gax.rpc.ApiExceptions.callAndTranslateApiException(ApiExceptions.java:57)\r\n                            ... 9 more\r\n            Caused by: io.grpc.StatusRuntimeException: INTERNAL: Panic! This is a bug!\r\n                    at io.grpc.Status.asRuntimeException(Status.java:539)\r\n                    at io.grpc.stub.ClientCalls$UnaryStreamToFuture.onClose(ClientCalls.java:544)\r\n                    at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)\r\n                    at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)\r\n                    at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)\r\n                    at com.google.api.gax.grpc.ChannelPool$ReleasingClientCall$1.onClose(ChannelPool.java:541)\r\n                    at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)\r\n                    at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)\r\n                    at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)\r\n                    at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)\r\n                    at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\r\n                    at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)\r\n                    ... 3 more\r\n            Caused by: java.lang.IllegalStateException: Could not find policy &#39;pick_first&#39;. Make sure its implementation is either registered to LoadBalancerRegistry or included in META-INF/services/io.grpc.LoadBalancerProvider from your jar files.\r\n                    at io.grpc.internal.AutoConfiguredLoadBalancerFactory$AutoConfiguredLoadBalancer.&lt;init&gt;(AutoConfiguredLoadBalancerFactory.java:94)\r\n                    at io.grpc.internal.AutoConfiguredLoadBalancerFactory.newLoadBalancer(AutoConfiguredLoadBalancerFactory.java:61)\r\n                    at io.grpc.internal.ManagedChannelImpl.exitIdleMode(ManagedChannelImpl.java:413)\r\n                    at io.grpc.internal.ManagedChannelImpl$RealChannel$2.run(ManagedChannelImpl.java:968)\r\n                    at io.grpc.SynchronizationContext.drain(SynchronizationContext.java:95)\r\n                    at io.grpc.SynchronizationContext.execute(SynchronizationContext.java:127)\r\n                    at io.grpc.internal.ManagedChannelImpl$RealChannel.newCall(ManagedChannelImpl.java:965)\r\n                    at com.google.api.gax.grpc.GrpcChannelUUIDInterceptor.interceptCall(GrpcChannelUUIDInterceptor.java:52)\r\n                    at io.grpc.ClientInterceptors$InterceptorChannel.newCall(ClientInterceptors.java:156)\r\n                    at com.google.api.gax.grpc.GrpcHeaderInterceptor.interceptCall(GrpcHeaderInterceptor.java:80)\r\n                    at io.grpc.ClientInterceptors$InterceptorChannel.newCall(ClientInterceptors.java:156)\r\n                    at com.google.api.gax.grpc.GrpcMetadataHandlerInterceptor.interceptCall(GrpcMetadataHandlerInterceptor.java:54)\r\n                    at io.grpc.ClientInterceptors$InterceptorChannel.newCall(ClientInterceptors.java:156)\r\n                    at io.grpc.internal.ManagedChannelImpl.newCall(ManagedChannelImpl.java:907)\r\n                    at io.grpc.internal.ForwardingManagedChannel.newCall(ForwardingManagedChannel.java:63)\r\n                    at com.google.api.gax.grpc.ChannelPool$AffinityChannel.newCall(ChannelPool.java:516)\r\n                    at com.google.api.gax.grpc.ChannelPool.newCall(ChannelPool.java:145)\r\n                    at com.google.api.gax.grpc.GrpcClientCalls.newCall(GrpcClientCalls.java:99)\r\n                    at com.google.api.gax.grpc.GrpcDirectCallable.futureCall(GrpcDirectCallable.java:60)\r\n                    at com.google.api.gax.grpc.GrpcUnaryRequestParamCallable.futureCall(GrpcUnaryRequestParamCallable.java:65)\r\n                    at com.google.api.gax.grpc.GrpcExceptionCallable.futureCall(GrpcExceptionCallable.java:64)\r\n                    at com.google.api.gax.rpc.AttemptCallable.call(AttemptCallable.java:87)\r\n                    at com.google.api.gax.rpc.RetryingCallable.futureCall(RetryingCallable.java:63)\r\n                    at com.google.api.gax.rpc.RetryingCallable.futureCall(RetryingCallable.java:41)\r\n                    at com.google.api.gax.tracing.TracedUnaryCallable.futureCall(TracedUnaryCallable.java:75)\r\n                    at com.google.api.gax.rpc.UnaryCallable$1.futureCall(UnaryCallable.java:126)\r\n                    at com.google.api.gax.rpc.UnaryCallable.futureCall(UnaryCallable.java:87)\r\n                    at com.google.api.gax.rpc.UnaryCallable.call(UnaryCallable.java:112)\r\n                    at com.google.cloud.pubsub.v1.TopicAdminClient.createTopic(TopicAdminClient.java:319)\r\n                    at com.google.cloud.pubsub.v1.TopicAdminClient.createTopic(TopicAdminClient.java:224)\r\n                    at com.stl.sciocardio.common.pubsub.PubSubConsumer.createTopic(PubSubConsumer.java:232)\r\n                    at com.stl.sciocardio.common.pubsub.PubSubConsumer.startConsume(PubSubConsumer.java:197)\r\n                    at com.stl.sciocardio.common.pubsub.PubSubConsumer.run(PubSubConsumer.java:138)\r\n                    ... 3 more\r\n\r\nWhat is the reason for this?","title":"PubSub Runtime Error, Could not find policy &#39;pick_first&#39; in META-INF/services/io.grpc.LoadBalancerProvider","body":"<p>I have a maven project with pubsub and I use <code>maven-assembly-plugin</code> to generate a jar file with dependencies.</p>\n<p>With pubsub version <code>1.104.1</code>, the jar file is working properly and I tried to update it to latest version <code>1.123.13</code>. After updating, my application works as expected with <code>exec-maven-plugin</code>, but the same code is not working with a <code>maven-assembly-plugin</code>-generated jar file.</p>\n<p>POM file and Error as follows.</p>\n<pre><code>&lt;!-- language: xml --&gt;\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    \n        &lt;groupId&gt;org.example&lt;/groupId&gt;\n        &lt;artifactId&gt;test&lt;/artifactId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    \n        &lt;properties&gt;\n            &lt;java.version&gt;8&lt;/java.version&gt;\n            &lt;junit-version&gt;4.4&lt;/junit-version&gt;\n        &lt;/properties&gt;\n    \n        &lt;dependencies&gt;\n           \n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;google-cloud-pubsub&lt;/artifactId&gt;\n                &lt;version&gt;1.123.13&lt;/version&gt;\n            &lt;/dependency&gt;\n    \n        &lt;/dependencies&gt;\n    \n        &lt;build&gt;\n    \n            &lt;extensions&gt;\n                &lt;extension&gt;\n                    &lt;groupId&gt;kr.motd.maven&lt;/groupId&gt;\n                    &lt;artifactId&gt;os-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;1.5.0.Final&lt;/version&gt;\n                &lt;/extension&gt;\n            &lt;/extensions&gt;\n    \n            &lt;plugins&gt;\n    \n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;0.8.5&lt;/version&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;report&lt;/id&gt;\n                            &lt;phase&gt;prepare-package&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;report&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;jacoco-check&lt;/id&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;check&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n    \n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.6.0&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;archive&gt;\n                            &lt;manifest&gt;\n                                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                                &lt;mainClass&gt;Main&lt;/mainClass&gt;\n                            &lt;/manifest&gt;\n                        &lt;/archive&gt;\n                        &lt;descriptorRefs&gt;\n                            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                        &lt;/descriptorRefs&gt;\n                    &lt;/configuration&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;assemble-all&lt;/id&gt;\n                            &lt;phase&gt;package&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;single&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n    \n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.7.0&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;source&gt;1.8&lt;/source&gt;\n                        &lt;target&gt;1.8&lt;/target&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n    \n            &lt;pluginManagement&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;1.6.0&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;cleanupDaemonThreads&gt;false&lt;/cleanupDaemonThreads&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\n                        &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.7.0.1746&lt;/version&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/pluginManagement&gt;\n    \n        &lt;/build&gt;\n    \n    &lt;/project&gt;\n</code></pre>\n<p>Error Log</p>\n<pre><code>Jun 13, 2023 12:15:11 PM io.grpc.internal.ManagedChannelImpl$2 uncaughtException\n        SEVERE: [Channel&lt;3&gt;: (pubsub.googleapis.com:443)] Uncaught exception in the SynchronizationContext. Panic!\n        java.lang.IllegalStateException: Could not find policy 'pick_first'. Make sure its implementation is either registered to LoadBalancerRegistry or included in META-INF/services/io.grpc.LoadBalancerProvider from your jar files.\n                at io.grpc.internal.AutoConfiguredLoadBalancerFactory$AutoConfiguredLoadBalancer.&lt;init&gt;(AutoConfiguredLoadBalancerFactory.java:94)\n                at io.grpc.internal.AutoConfiguredLoadBalancerFactory.newLoadBalancer(AutoConfiguredLoadBalancerFactory.java:61)\n                at io.grpc.internal.ManagedChannelImpl.exitIdleMode(ManagedChannelImpl.java:413)\n                at io.grpc.internal.ManagedChannelImpl$RealChannel$2.run(ManagedChannelImpl.java:968)\n                at io.grpc.SynchronizationContext.drain(SynchronizationContext.java:95)\n                at io.grpc.SynchronizationContext.execute(SynchronizationContext.java:127)\n                at io.grpc.internal.ManagedChannelImpl$RealChannel.newCall(ManagedChannelImpl.java:965)\n                at com.google.api.gax.grpc.GrpcChannelUUIDInterceptor.interceptCall(GrpcChannelUUIDInterceptor.java:52)\n                at io.grpc.ClientInterceptors$InterceptorChannel.newCall(ClientInterceptors.java:156)\n                at com.google.api.gax.grpc.GrpcHeaderInterceptor.interceptCall(GrpcHeaderInterceptor.java:80)\n                at io.grpc.ClientInterceptors$InterceptorChannel.newCall(ClientInterceptors.java:156)\n                at com.google.api.gax.grpc.GrpcMetadataHandlerInterceptor.interceptCall(GrpcMetadataHandlerInterceptor.java:54)\n                at io.grpc.ClientInterceptors$InterceptorChannel.newCall(ClientInterceptors.java:156)\n                at io.grpc.internal.ManagedChannelImpl.newCall(ManagedChannelImpl.java:907)\n                at io.grpc.internal.ForwardingManagedChannel.newCall(ForwardingManagedChannel.java:63)\n                at com.google.api.gax.grpc.ChannelPool$AffinityChannel.newCall(ChannelPool.java:516)\n                at com.google.api.gax.grpc.ChannelPool.newCall(ChannelPool.java:145)\n                at com.google.api.gax.grpc.GrpcClientCalls.newCall(GrpcClientCalls.java:99)\n                at com.google.api.gax.grpc.GrpcDirectCallable.futureCall(GrpcDirectCallable.java:60)\n                at com.google.api.gax.grpc.GrpcUnaryRequestParamCallable.futureCall(GrpcUnaryRequestParamCallable.java:65)\n                at com.google.api.gax.grpc.GrpcExceptionCallable.futureCall(GrpcExceptionCallable.java:64)\n                at com.google.api.gax.rpc.AttemptCallable.call(AttemptCallable.java:87)\n                at com.google.api.gax.rpc.RetryingCallable.futureCall(RetryingCallable.java:63)\n                at com.google.api.gax.rpc.RetryingCallable.futureCall(RetryingCallable.java:41)\n                at com.google.api.gax.tracing.TracedUnaryCallable.futureCall(TracedUnaryCallable.java:75)\n                at com.google.api.gax.rpc.UnaryCallable$1.futureCall(UnaryCallable.java:126)\n                at com.google.api.gax.rpc.UnaryCallable.futureCall(UnaryCallable.java:87)\n                at com.google.api.gax.rpc.UnaryCallable.call(UnaryCallable.java:112)\n                at com.google.cloud.pubsub.v1.TopicAdminClient.createTopic(TopicAdminClient.java:319)\n                at com.google.cloud.pubsub.v1.TopicAdminClient.createTopic(TopicAdminClient.java:224)\n                at com.stl.sciocardio.common.pubsub.PubSubConsumer.createTopic(PubSubConsumer.java:232)\n                at com.stl.sciocardio.common.pubsub.PubSubConsumer.startConsume(PubSubConsumer.java:197)\n                at com.stl.sciocardio.common.pubsub.PubSubConsumer.run(PubSubConsumer.java:138)\n                at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n                at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n                at java.base/java.lang.Thread.run(Thread.java:830)\n        \n        Exception in thread &quot;pool-1-thread-1&quot; com.google.api.gax.rpc.InternalException: io.grpc.StatusRuntimeException: INTERNAL: Panic! This is a bug!\n                at com.google.api.gax.rpc.ApiExceptionFactory.createException(ApiExceptionFactory.java:110)\n                at com.google.api.gax.rpc.ApiExceptionFactory.createException(ApiExceptionFactory.java:41)\n                at com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:86)\n                at com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:66)\n                at com.google.api.gax.grpc.GrpcExceptionCallable$ExceptionTransformingFuture.onFailure(GrpcExceptionCallable.java:97)\n                at com.google.api.core.ApiFutures$1.onFailure(ApiFutures.java:84)\n                at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1132)\n                at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:31)\n                at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1270)\n                at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:761)\n                at com.google.common.util.concurrent.ForwardingListenableFuture.addListener(ForwardingListenableFuture.java:47)\n                at com.google.api.core.ApiFutureToListenableFuture.addListener(ApiFutureToListenableFuture.java:49)\n                at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1105)\n                at com.google.api.core.ApiFutures.addCallback(ApiFutures.java:79)\n                at com.google.api.gax.grpc.GrpcExceptionCallable.futureCall(GrpcExceptionCallable.java:67)\n                at com.google.api.gax.rpc.AttemptCallable.call(AttemptCallable.java:87)\n                at com.google.api.gax.rpc.RetryingCallable.futureCall(RetryingCallable.java:63)\n                at com.google.api.gax.rpc.RetryingCallable.futureCall(RetryingCallable.java:41)\n                at com.google.api.gax.tracing.TracedUnaryCallable.futureCall(TracedUnaryCallable.java:75)\n                at com.google.api.gax.rpc.UnaryCallable$1.futureCall(UnaryCallable.java:126)\n                at com.google.api.gax.rpc.UnaryCallable.futureCall(UnaryCallable.java:87)\n                at com.google.api.gax.rpc.UnaryCallable.call(UnaryCallable.java:112)\n                at com.google.cloud.pubsub.v1.TopicAdminClient.createTopic(TopicAdminClient.java:319)\n                at com.google.cloud.pubsub.v1.TopicAdminClient.createTopic(TopicAdminClient.java:224)\n                at com.stl.sciocardio.common.pubsub.PubSubConsumer.createTopic(PubSubConsumer.java:232)\n                at com.stl.sciocardio.common.pubsub.PubSubConsumer.startConsume(PubSubConsumer.java:197)\n                at com.stl.sciocardio.common.pubsub.PubSubConsumer.run(PubSubConsumer.java:138)\n                at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n                at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n                at java.base/java.lang.Thread.run(Thread.java:830)\n                Suppressed: com.google.api.gax.rpc.AsyncTaskException: Asynchronous task failed\n                        at com.google.api.gax.rpc.ApiExceptions.callAndTranslateApiException(ApiExceptions.java:57)\n                        ... 9 more\n        Caused by: io.grpc.StatusRuntimeException: INTERNAL: Panic! This is a bug!\n                at io.grpc.Status.asRuntimeException(Status.java:539)\n                at io.grpc.stub.ClientCalls$UnaryStreamToFuture.onClose(ClientCalls.java:544)\n                at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)\n                at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)\n                at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)\n                at com.google.api.gax.grpc.ChannelPool$ReleasingClientCall$1.onClose(ChannelPool.java:541)\n                at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)\n                at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)\n                at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)\n                at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)\n                at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\n                at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)\n                ... 3 more\n        Caused by: java.lang.IllegalStateException: Could not find policy 'pick_first'. Make sure its implementation is either registered to LoadBalancerRegistry or included in META-INF/services/io.grpc.LoadBalancerProvider from your jar files.\n                at io.grpc.internal.AutoConfiguredLoadBalancerFactory$AutoConfiguredLoadBalancer.&lt;init&gt;(AutoConfiguredLoadBalancerFactory.java:94)\n                at io.grpc.internal.AutoConfiguredLoadBalancerFactory.newLoadBalancer(AutoConfiguredLoadBalancerFactory.java:61)\n                at io.grpc.internal.ManagedChannelImpl.exitIdleMode(ManagedChannelImpl.java:413)\n                at io.grpc.internal.ManagedChannelImpl$RealChannel$2.run(ManagedChannelImpl.java:968)\n                at io.grpc.SynchronizationContext.drain(SynchronizationContext.java:95)\n                at io.grpc.SynchronizationContext.execute(SynchronizationContext.java:127)\n                at io.grpc.internal.ManagedChannelImpl$RealChannel.newCall(ManagedChannelImpl.java:965)\n                at com.google.api.gax.grpc.GrpcChannelUUIDInterceptor.interceptCall(GrpcChannelUUIDInterceptor.java:52)\n                at io.grpc.ClientInterceptors$InterceptorChannel.newCall(ClientInterceptors.java:156)\n                at com.google.api.gax.grpc.GrpcHeaderInterceptor.interceptCall(GrpcHeaderInterceptor.java:80)\n                at io.grpc.ClientInterceptors$InterceptorChannel.newCall(ClientInterceptors.java:156)\n                at com.google.api.gax.grpc.GrpcMetadataHandlerInterceptor.interceptCall(GrpcMetadataHandlerInterceptor.java:54)\n                at io.grpc.ClientInterceptors$InterceptorChannel.newCall(ClientInterceptors.java:156)\n                at io.grpc.internal.ManagedChannelImpl.newCall(ManagedChannelImpl.java:907)\n                at io.grpc.internal.ForwardingManagedChannel.newCall(ForwardingManagedChannel.java:63)\n                at com.google.api.gax.grpc.ChannelPool$AffinityChannel.newCall(ChannelPool.java:516)\n                at com.google.api.gax.grpc.ChannelPool.newCall(ChannelPool.java:145)\n                at com.google.api.gax.grpc.GrpcClientCalls.newCall(GrpcClientCalls.java:99)\n                at com.google.api.gax.grpc.GrpcDirectCallable.futureCall(GrpcDirectCallable.java:60)\n                at com.google.api.gax.grpc.GrpcUnaryRequestParamCallable.futureCall(GrpcUnaryRequestParamCallable.java:65)\n                at com.google.api.gax.grpc.GrpcExceptionCallable.futureCall(GrpcExceptionCallable.java:64)\n                at com.google.api.gax.rpc.AttemptCallable.call(AttemptCallable.java:87)\n                at com.google.api.gax.rpc.RetryingCallable.futureCall(RetryingCallable.java:63)\n                at com.google.api.gax.rpc.RetryingCallable.futureCall(RetryingCallable.java:41)\n                at com.google.api.gax.tracing.TracedUnaryCallable.futureCall(TracedUnaryCallable.java:75)\n                at com.google.api.gax.rpc.UnaryCallable$1.futureCall(UnaryCallable.java:126)\n                at com.google.api.gax.rpc.UnaryCallable.futureCall(UnaryCallable.java:87)\n                at com.google.api.gax.rpc.UnaryCallable.call(UnaryCallable.java:112)\n                at com.google.cloud.pubsub.v1.TopicAdminClient.createTopic(TopicAdminClient.java:319)\n                at com.google.cloud.pubsub.v1.TopicAdminClient.createTopic(TopicAdminClient.java:224)\n                at com.stl.sciocardio.common.pubsub.PubSubConsumer.createTopic(PubSubConsumer.java:232)\n                at com.stl.sciocardio.common.pubsub.PubSubConsumer.startConsume(PubSubConsumer.java:197)\n                at com.stl.sciocardio.common.pubsub.PubSubConsumer.run(PubSubConsumer.java:138)\n                ... 3 more\n</code></pre>\n<p>What is the reason for this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":20780824,"reputation":29149,"user_id":15261315,"display_name":"Chris"},"score":0,"creation_date":1686779264,"post_id":76477758,"comment_id":134847913,"body_markdown":"It&#39;s treating the literal as a double. And then assigning that to a float variable.","body":"It&#39;s treating the literal as a double. And then assigning that to a float variable."},{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":3,"creation_date":1686780544,"post_id":76477758,"comment_id":134848110,"body_markdown":"&quot;c should be also a double by default&quot;. You explicitly specified it as a float.","body":"&quot;c should be also a double by default&quot;. You explicitly specified it as a float."}],"answers":[{"tags":[],"owner":{"account_id":20780824,"reputation":29149,"user_id":15261315,"display_name":"Chris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686779584,"creation_date":1686779320,"answer_id":76477782,"question_id":76477758,"body_markdown":"The literal `3.1e2` is treated as a `double`, which is then assigned to the `float` variable `c`, which is where you get your error. \r\n\r\nAside from tacking on that `f` suffix to the literal, you can explicitly cast to `float`:\r\n\r\n```\r\nfloat c = (float)3.1e2;\r\n```","title":"Assigning a double to a float variable","body":"<p>The literal <code>3.1e2</code> is treated as a <code>double</code>, which is then assigned to the <code>float</code> variable <code>c</code>, which is where you get your error.</p>\n<p>Aside from tacking on that <code>f</code> suffix to the literal, you can explicitly cast to <code>float</code>:</p>\n<pre><code>float c = (float)3.1e2;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5018541,"reputation":12090,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686780186,"creation_date":1686780186,"answer_id":76477867,"question_id":76477758,"body_markdown":"It *is* treating it as a `double`. However, you&#39;re assigning it to a `float` variable.\r\n\r\nIn some cases, C# and Java will allow implicit conversion; for example, the following is perfectly allowable:\r\n\r\n    class Main {\r\n        public static void main(String[] args) {\r\n            float c = 3.1e2f;\r\n            System.out.println(c);\r\n            \r\n            double d = c;\r\n            \r\n            System.out.println(d);\r\n        }\r\n    }\r\n\r\nSince a `double` is a &quot;larger&quot; type than a `float`, there&#39;s no possibility of data loss if you do that.\r\n\r\nHowever, if I try to do the following:\r\n\r\n    public class Main\r\n    {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tdouble c = 3.1e2;\r\n            System.out.println(c);\r\n            \r\n            float d = c;\r\n            \r\n            System.out.println(d);\r\n    \t}\r\n    }\r\n\r\nI end up getting the same compiler error you got. Again, that&#39;s because a `double` is a &quot;larger&quot; data type than a `float`, so the `double` could contain a value that&#39;s larger than the maximum possible value for a `float`. Consider the following code sample:\r\n\r\n    public class Main\r\n    {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tdouble c = 10*(double)Float.MAX_VALUE;\r\n            System.out.println(c);\r\n    \t}\r\n    }\r\n\r\nIt prints `3.4028234663852886E39`. Now, what would happen if I tried to put that in a `float`? Well, if I do the following, the result is `Infinity`:\r\n\r\n    public class Main\r\n    {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tfloat c = 10*Float.MAX_VALUE;\r\n            System.out.println(c);\r\n    \t}\r\n    }\r\n\r\nAs you can see, the behaviors are quite different. If a conversion simply happened &quot;in the background&quot; without you being aware of it, you could get all kinds of unexpected results.\r\n\r\nSee also: https://stackoverflow.com/questions/7544233/difference-between-implicit-conversion-and-explicit-conversion","title":"Assigning a double to a float variable","body":"<p>It <em>is</em> treating it as a <code>double</code>. However, you're assigning it to a <code>float</code> variable.</p>\n<p>In some cases, C# and Java will allow implicit conversion; for example, the following is perfectly allowable:</p>\n<pre><code>class Main {\n    public static void main(String[] args) {\n        float c = 3.1e2f;\n        System.out.println(c);\n        \n        double d = c;\n        \n        System.out.println(d);\n    }\n}\n</code></pre>\n<p>Since a <code>double</code> is a &quot;larger&quot; type than a <code>float</code>, there's no possibility of data loss if you do that.</p>\n<p>However, if I try to do the following:</p>\n<pre><code>public class Main\n{\n    public static void main(String[] args) {\n        double c = 3.1e2;\n        System.out.println(c);\n        \n        float d = c;\n        \n        System.out.println(d);\n    }\n}\n</code></pre>\n<p>I end up getting the same compiler error you got. Again, that's because a <code>double</code> is a &quot;larger&quot; data type than a <code>float</code>, so the <code>double</code> could contain a value that's larger than the maximum possible value for a <code>float</code>. Consider the following code sample:</p>\n<pre><code>public class Main\n{\n    public static void main(String[] args) {\n        double c = 10*(double)Float.MAX_VALUE;\n        System.out.println(c);\n    }\n}\n</code></pre>\n<p>It prints <code>3.4028234663852886E39</code>. Now, what would happen if I tried to put that in a <code>float</code>? Well, if I do the following, the result is <code>Infinity</code>:</p>\n<pre><code>public class Main\n{\n    public static void main(String[] args) {\n        float c = 10*Float.MAX_VALUE;\n        System.out.println(c);\n    }\n}\n</code></pre>\n<p>As you can see, the behaviors are quite different. If a conversion simply happened &quot;in the background&quot; without you being aware of it, you could get all kinds of unexpected results.</p>\n<p>See also: <a href=\"https://stackoverflow.com/questions/7544233/difference-between-implicit-conversion-and-explicit-conversion\">Difference between implicit conversion and explicit conversion</a></p>\n"},{"tags":[],"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686782968,"creation_date":1686781327,"answer_id":76477937,"question_id":76477758,"body_markdown":"When you say &quot; i read that java will make every float variable a double by default &quot;, that is incorrect, you must have misread. Java will make floating point *values* double by default. If you write a literal value with a decimal point but without a d then it assumes you want a d. In your example 5.6 is a literal that is a double by default. \r\n\r\nHowever, there is no default for typed variables, it is whatever type you give it. In your example c is declared as a float, so it&#39;s a float, meaning single precision floating point. \r\n\r\nWhen you declare a variable to be type float you get enough room allocated to store a single precision floating point number in it. There isnt enough room to fit a double precision floating point number into it, and if you use a cast to force it, you will lose the extra precision from the double value. Which is what the error generated by the posted code is telling you, it&#39;s alerting you that you would lose data. \r\n","title":"Assigning a double to a float variable","body":"<p>When you say &quot; i read that java will make every float variable a double by default &quot;, that is incorrect, you must have misread. Java will make floating point <em>values</em> double by default. If you write a literal value with a decimal point but without a d then it assumes you want a d. In your example 5.6 is a literal that is a double by default.</p>\n<p>However, there is no default for typed variables, it is whatever type you give it. In your example c is declared as a float, so it's a float, meaning single precision floating point.</p>\n<p>When you declare a variable to be type float you get enough room allocated to store a single precision floating point number in it. There isnt enough room to fit a double precision floating point number into it, and if you use a cast to force it, you will lose the extra precision from the double value. Which is what the error generated by the posted code is telling you, it's alerting you that you would lose data.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686798188,"creation_date":1686783542,"answer_id":76478076,"question_id":76477758,"body_markdown":"To answer you&#39;re initial question,\r\n\r\n&gt; _&quot;I read that java treats float c = 5.6; as a double by default unless you specify the f suffix .&quot;_\r\n\r\nIt treats the _5.6_ as a _double_, not the entire assignment&amp;mdash;_c_ is still a _float_.\r\n\r\nHere is an except from the _Java Tutorial_.  \r\n_[Primitive Data Types (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Language Basics)](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html)_\r\n\r\n&gt; _&quot;**Floating-Point Literals**_  \r\n&gt; \r\n&gt; _A floating-point literal is of type float if it ends with the letter F or f; otherwise its type is double and it can optionally end with the letter D or d._  \r\n\r\nAnd, in terms of the follow-up question,\r\n\r\n&gt; _&quot;... in this code 3.1e2 is a double and c should be also a double by default since i read that java will make every float variable a double by default unless you specify the f suffix .&quot;_\r\n\r\nThis is partially correct.&amp;nbsp; The _c_ variable will not be implicitly converted to a _double_.  \r\nIt will be whatever the declaring type is&amp;mdash;in this case a _float_.\r\n\r\n&gt; _The floating point types (float and double) can also be expressed using E or e (for scientific notation), F or f (32-bit float literal) and D or d (64-bit double literal; this is the default and by convention is omitted).&quot;_\r\n\r\nAnd, finally,\r\n\r\n&gt; _&quot;But i get an error saying_  \r\n&gt; _`Main.java:3: error: incompatible types: possible lossy conversion from double to float`&quot;_\r\n\r\nThis is because the inferred cast, from one value to another, will reduce a plausible accuracy.\r\n\r\nThe _Java Language Specification_ defines this operation as a, _&quot;narrowing primitive conversion_&quot;.  \r\n_[Java Language Specification &amp;ndash; Chapter&amp;nbsp;5.&amp;nbsp;Conversions and Promotions](https://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.1.3)_.\r\n\r\n&gt; _&quot;A narrowing primitive conversion may lose information about the overall magnitude of a numeric value and may also lose precision and range.&quot;_\r\n\r\nEssentially, the conversion is not inferred when it is a _narrowing_ procedure.  \r\nThus, it throws a compiler error.","title":"Assigning a double to a float variable","body":"<p>To answer you're initial question,</p>\n<blockquote>\n<p><em>&quot;I read that java treats float c = 5.6; as a double by default unless you specify the f suffix .&quot;</em></p>\n</blockquote>\n<p>It treats the <em>5.6</em> as a <em>double</em>, not the entire assignment—<em>c</em> is still a <em>float</em>.</p>\n<p>Here is an except from the <em>Java Tutorial</em>.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">Primitive Data Types (The Java™ Tutorials &gt; Learning the Java Language &gt; Language Basics)</a></em></p>\n<blockquote>\n<p><em>&quot;<strong>Floating-Point Literals</strong></em></p>\n<p><em>A floating-point literal is of type float if it ends with the letter F or f; otherwise its type is double and it can optionally end with the letter D or d.</em></p>\n</blockquote>\n<p>And, in terms of the follow-up question,</p>\n<blockquote>\n<p><em>&quot;... in this code 3.1e2 is a double and c should be also a double by default since i read that java will make every float variable a double by default unless you specify the f suffix .&quot;</em></p>\n</blockquote>\n<p>This is partially correct.  The <em>c</em> variable will not be implicitly converted to a <em>double</em>.<br />\nIt will be whatever the declaring type is—in this case a <em>float</em>.</p>\n<blockquote>\n<p><em>The floating point types (float and double) can also be expressed using E or e (for scientific notation), F or f (32-bit float literal) and D or d (64-bit double literal; this is the default and by convention is omitted).&quot;</em></p>\n</blockquote>\n<p>And, finally,</p>\n<blockquote>\n<p><em>&quot;But i get an error saying</em><br />\n<em><code>Main.java:3: error: incompatible types: possible lossy conversion from double to float</code>&quot;</em></p>\n</blockquote>\n<p>This is because the inferred cast, from one value to another, will reduce a plausible accuracy.</p>\n<p>The <em>Java Language Specification</em> defines this operation as a, <em>&quot;narrowing primitive conversion</em>&quot;.<br />\n<em><a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.1.3\" rel=\"nofollow noreferrer\">Java Language Specification – Chapter 5. Conversions and Promotions</a></em>.</p>\n<blockquote>\n<p><em>&quot;A narrowing primitive conversion may lose information about the overall magnitude of a numeric value and may also lose precision and range.&quot;</em></p>\n</blockquote>\n<p>Essentially, the conversion is not inferred when it is a <em>narrowing</em> procedure.<br />\nThus, it throws a compiler error.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686909867,"post_id":76478925,"comment_id":134866470,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76478925/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28822072,"reputation":1,"user_id":22074377,"display_name":"Supratik Dash"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686800179,"creation_date":1686800179,"answer_id":76478925,"question_id":76477758,"body_markdown":"If you just want a simple answer, without any explanation or anything, then your code will be as follows...\r\n\r\nfloat c=3.1e2f;\r\n\r\nSystem.out.println(c);\r\n\r\nWhat you said is kinda partially incorrect, because in your statement, &quot;I read that java treats float c = 5.6; as a double by default unless you specify the f suffix .&quot;, Java doesn&#39;t actually treat the c as double as well; c will be a floating point variable, but since a double value &#39;5.6&#39; is assigned to a float, and float is greater than double, thus the error.","title":"Assigning a double to a float variable","body":"<p>If you just want a simple answer, without any explanation or anything, then your code will be as follows...</p>\n<p>float c=3.1e2f;</p>\n<p>System.out.println(c);</p>\n<p>What you said is kinda partially incorrect, because in your statement, &quot;I read that java treats float c = 5.6; as a double by default unless you specify the f suffix .&quot;, Java doesn't actually treat the c as double as well; c will be a floating point variable, but since a double value '5.6' is assigned to a float, and float is greater than double, thus the error.</p>\n"}],"owner":{"account_id":27701782,"reputation":41,"user_id":22074905,"display_name":"pcp pcp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":76478076,"answer_count":5,"score":1,"last_activity_date":1686800179,"creation_date":1686779135,"question_id":76477758,"body_markdown":"I read that java treats float c = 5.6; as a double by default unless you specify the f suffix .\r\n\r\n\r\n\r\n```\r\npublic class Main {\r\n  public static void main(String[] args) {\r\n    float c = 3.1e2;\r\n    System.out.println(c);\r\n\r\n  }\r\n}\r\n```\r\n\r\n\r\nin this code 3.1e2 is a double and c should be also a double by default since i read that java will make every float variable a double by default unless you specify the f suffix .\r\nBut i get an error saying \r\n`Main.java:3: error: incompatible types: possible lossy conversion from double to float\r\n    float c = 3.1e2;\r\n              ^\r\n1 error`\r\n\r\n","title":"Assigning a double to a float variable","body":"<p>I read that java treats float c = 5.6; as a double by default unless you specify the f suffix .</p>\n<pre><code>public class Main {\n  public static void main(String[] args) {\n    float c = 3.1e2;\n    System.out.println(c);\n\n  }\n}\n</code></pre>\n<p>in this code 3.1e2 is a double and c should be also a double by default since i read that java will make every float variable a double by default unless you specify the f suffix .\nBut i get an error saying\n<code>Main.java:3: error: incompatible types: possible lossy conversion from double to float float c = 3.1e2; ^ 1 error</code></p>\n"},{"tags":["java","maven","github","minecraft","unauthorized"],"comments":[{"owner":{"account_id":20906298,"reputation":332,"user_id":15358155,"display_name":"chameerar"},"score":0,"creation_date":1686372959,"post_id":76444569,"comment_id":134793193,"body_markdown":"Please post your code and other efforts in the question itself. It will help you to find an answer quickly.","body":"Please post your code and other efforts in the question itself. It will help you to find an answer quickly."},{"owner":{"account_id":28791292,"reputation":1,"user_id":22050549,"display_name":"Thor Kopenkoskey"},"score":0,"creation_date":1686430041,"post_id":76444569,"comment_id":134798357,"body_markdown":"I did post my code, its the mcpaste links,\nIm trying to make a Minecraft plugin and need to import an API from a Github package and I&#39;m getting a 401 error and I&#39;m not sure where I messed up in my settings.xml code which is linked above.\nCode: https://mcpaste.io/5db3c9f30b0e55b9\nError: https://mcpaste.io/fe04e3b8375838f3","body":"I did post my code, its the mcpaste links, Im trying to make a Minecraft plugin and need to import an API from a Github package and I&#39;m getting a 401 error and I&#39;m not sure where I messed up in my settings.xml code which is linked above. Code: <a href=\"https://mcpaste.io/5db3c9f30b0e55b9\" rel=\"nofollow noreferrer\">mcpaste.io/5db3c9f30b0e55b9</a> Error: <a href=\"https://mcpaste.io/fe04e3b8375838f3\" rel=\"nofollow noreferrer\">mcpaste.io/fe04e3b8375838f3</a>"},{"owner":{"account_id":3884753,"reputation":10795,"user_id":3216427,"display_name":"joanis"},"score":1,"creation_date":1686431789,"post_id":76444569,"comment_id":134798518,"body_markdown":"On Stackoverflow, we expect the code and the error messages to be pasted directly into the question, in code blocks, rather than using external links. The site offers all for formatting utilities required to render it perfectly legibly here, inline in the question.","body":"On Stackoverflow, we expect the code and the error messages to be pasted directly into the question, in code blocks, rather than using external links. The site offers all for formatting utilities required to render it perfectly legibly here, inline in the question."},{"owner":{"account_id":28791292,"reputation":1,"user_id":22050549,"display_name":"Thor Kopenkoskey"},"score":0,"creation_date":1686435465,"post_id":76444569,"comment_id":134798792,"body_markdown":"Ah ok I see, should be fixed. Thanks!","body":"Ah ok I see, should be fixed. Thanks!"},{"owner":{"account_id":20906298,"reputation":332,"user_id":15358155,"display_name":"chameerar"},"score":0,"creation_date":1686487938,"post_id":76444569,"comment_id":134802328,"body_markdown":"Could you check whether you can download the package manually? You can use the curl command in the format of `curl https://_:&lt;GITHUB_TOKEN&gt;@maven.pkg.github.com/&lt;REPO_ORGANIZATION&gt;/&lt;REPO_NAME&gt;/&lt;ARTIFACT_GROUP_ID_SEPERATED_WITH_SLASH&gt;&lt;ARTIFACT_ID&gt;/&lt;ARTIFACT_VERSION&gt;/&lt;ARTIFACT_NAME&gt; -L --output my.jar`","body":"Could you check whether you can download the package manually? You can use the curl command in the format of <code>curl https:&#47;&#47;_:&lt;GITHUB_TOKEN&gt;@maven.pkg.github.com&#47;&lt;REPO_ORGANIZA&zwnj;&#8203;TION&gt;&#47;&lt;REPO_NAME&gt;&#47;&lt;A&zwnj;&#8203;RTIFACT_GROUP_ID_SEP&zwnj;&#8203;ERATED_WITH_SLASH&gt;&lt;A&zwnj;&#8203;RTIFACT_ID&gt;&#47;&lt;ARTIFAC&zwnj;&#8203;T_VERSION&gt;&#47;&lt;ARTIFACT&zwnj;&#8203;_NAME&gt; -L --output my.jar</code>"},{"owner":{"account_id":28791292,"reputation":1,"user_id":22050549,"display_name":"Thor Kopenkoskey"},"score":0,"creation_date":1686587981,"post_id":76444569,"comment_id":134816155,"body_markdown":"I ran it and this is what I got.\n\n`% Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\nuser@computer hpmovecraft %`\n\n\n\nAnd this is the command I ran\n`curl https://maven.pkg.github.com/APDevTeam/Movecraft/net.countercraft/movecraft-api%3E/8.0.0_beta-1 -L --output my.jar`","body":"I ran it and this is what I got.  <code>% Total    % Received % Xferd  Average Speed   Time    Time     Time  Current                                  Dload  Upload   Total   Spent    Left  Speed   0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0 user@computer hpmovecraft %</code>    And this is the command I ran <code>curl https:&#47;&#47;maven.pkg.github.com&#47;APDevTeam&#47;Movecraft&#47;net.counter&zwnj;&#8203;craft&#47;movecraft-api%&zwnj;&#8203;3E&#47;8.0.0_beta-1 -L --output my.jar</code>"}],"owner":{"account_id":28791292,"reputation":1,"user_id":22050549,"display_name":"Thor Kopenkoskey"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686798231,"creation_date":1686366652,"question_id":76444569,"body_markdown":"Im trying to import a github package for a java program and I&#39;m getting a 401 error.\r\nI have set up setting.xml (/.m2/) with my github username and password.\r\ncode:\r\n\r\n    &lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;\r\n              xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n              xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0\r\n                                  http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\r\n      &lt;activeProfiles&gt;\r\n        &lt;activeProfile&gt;github&lt;/activeProfile&gt;\r\n      &lt;/activeProfiles&gt;\r\n      &lt;servers&gt;\r\n        &lt;server&gt;\r\n          &lt;id&gt;github&lt;/id&gt;\r\n          &lt;username&gt;github_username&lt;/username&gt;\r\n          &lt;password&gt;github_password(also tryed PAT)&lt;/password&gt;\r\n        &lt;/server&gt;\r\n      &lt;/servers&gt;\r\n      &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n          &lt;id&gt;github&lt;/id&gt;\r\n          &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n              &lt;id&gt;central&lt;/id&gt;\r\n              &lt;url&gt;https://repo1.maven.org/maven2&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n            &lt;repository&gt;\r\n              &lt;id&gt;github&lt;/id&gt;\r\n              &lt;url&gt;https://maven.pkg.github.com/APDevTeam/Movecraft&lt;/url&gt;\r\n              &lt;snapshots&gt;\r\n                &lt;enabled&gt;true&lt;/enabled&gt;\r\n              &lt;/snapshots&gt;\r\n            &lt;/repository&gt;\r\n          &lt;/repositories&gt;\r\n        &lt;/profile&gt;\r\n      &lt;/profiles&gt;\r\n    &lt;/settings&gt;\r\n\r\nHeres my errors on mvn install\r\n\r\n    [INFO] Scanning for projects...\r\n    [WARNING] \r\n    [WARNING] Some problems were encountered while building the effective model for &#39;me.homepenguin:hpmovecraft:jar:1.0-SNAPSHOT&#39;\r\n    [WARNING] &#39;dependencies.dependency.version&#39; for net.countercraft:movecraft:jar is either LATEST or RELEASE (both of them are being deprecated) @ line 76, column 22\r\n    [WARNING] \r\n    [WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.\r\n    [WARNING] \r\n    [WARNING] For this reason, future Maven versions might no longer support building such malformed projects.\r\n    [WARNING] \r\n    [INFO] \r\n    [INFO] ----------------------------------------------&lt; me.homepenguin:hpmovecraft &gt;----------------------------------------------\r\n    [INFO] Building hpmovecraft 1.0-SNAPSHOT\r\n    [INFO]   from pom.xml\r\n    [INFO] ---------------------------------------------------------[ jar ]----------------------------------------------------------\r\n    [WARNING] Version not locked for default bindings plugins [maven-resources-plugin, maven-surefire-plugin, maven-jar-plugin, maven-install-plugin], you should define versions in pluginManagement section of your pom.xml or parent\r\n    Downloading from github: https://maven.pkg.github.com/APDevTeam/Movecraft/com/ticxo/PlayerAnimator/R1.2.6/PlayerAnimator-R1.2.6.pom\r\n    Downloading from github: https://maven.pkg.github.com/APDevTeam/Movecraft/org/spigotmc/spigot-api/1.19.4-R0.1-SNAPSHOT/maven-metadata.xml\r\n    [WARNING] Could not transfer metadata org.spigotmc:spigot-api:1.19.4-R0.1-SNAPSHOT/maven-metadata.xml from/to github (https://maven.pkg.github.com/APDevTeam/Movecraft): status code: 401, reason phrase: Unauthorized (401)\r\n    [WARNING] org.spigotmc:spigot-api:1.19.4-R0.1-SNAPSHOT/maven-metadata.xml failed to transfer from https://maven.pkg.github.com/APDevTeam/Movecraft during a previous attempt. This failure was cached in the local repository and resolution will not be reattempted until the update interval of github has elapsed or updates are forced. Original error: Could not transfer metadata org.spigotmc:spigot-api:1.19.4-R0.1-SNAPSHOT/maven-metadata.xml from/to github (https://maven.pkg.github.com/APDevTeam/Movecraft): status code: 401, reason phrase: Unauthorized (401)\r\n    Downloading from github: https://maven.pkg.github.com/APDevTeam/Movecraft/net/countercraft/movecraft/maven-metadata.xml\r\n    [WARNING] Could not transfer metadata net.countercraft:movecraft/maven-metadata.xml from/to github (https://maven.pkg.github.com/APDevTeam/Movecraft): status code: 401, reason phrase: Unauthorized (401)\r\n    [INFO] --------------------------------------------------------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] --------------------------------------------------------------------------------------------------------------------------\r\n    [INFO] Total time:  2.650 s\r\n    [INFO] Finished at: 2023-06-09T22:53:28-04:00\r\n    [INFO] --------------------------------------------------------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal on project hpmovecraft: Could not resolve dependencies for project me.homepenguin:hpmovecraft:jar:1.0-SNAPSHOT: Failed to collect dependencies at com.github.oraxen:oraxen:jar:1.156.2 -&gt; com.ticxo:PlayerAnimator:jar:R1.2.6: Failed to read artifact descriptor for com.ticxo:PlayerAnimator:jar:R1.2.6: The following artifacts could not be resolved: com.ticxo:PlayerAnimator:pom:R1.2.6 (absent): Could not transfer artifact com.ticxo:PlayerAnimator:pom:R1.2.6 from/to github (https://maven.pkg.github.com/APDevTeam/Movecraft): status code: 401, reason phrase: Unauthorized (401) -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the &#39;-e&#39; switch\r\n    [ERROR] Re-run Maven using the &#39;-X&#39; switch to enable verbose output\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException\r\n\r\nIve tried putting settings.xml in (/.m2/repository) and (/.m2), cross referencing example code and documentation. Asking other developers with the errors.\r\nI just need to get the github package into my maven library, im not sure where I went wrong with my code.\r\nAlso where was I meant to code settings.xml if it was in the wrong place and what were the issues in my code that caused the error?\r\nThanks!","title":"401 ERROR downloading github package with maven","body":"<p>Im trying to import a github package for a java program and I'm getting a 401 error.\nI have set up setting.xml (/.m2/) with my github username and password.\ncode:</p>\n<pre><code>&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n          xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0\n                              http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\n  &lt;activeProfiles&gt;\n    &lt;activeProfile&gt;github&lt;/activeProfile&gt;\n  &lt;/activeProfiles&gt;\n  &lt;servers&gt;\n    &lt;server&gt;\n      &lt;id&gt;github&lt;/id&gt;\n      &lt;username&gt;github_username&lt;/username&gt;\n      &lt;password&gt;github_password(also tryed PAT)&lt;/password&gt;\n    &lt;/server&gt;\n  &lt;/servers&gt;\n  &lt;profiles&gt;\n    &lt;profile&gt;\n      &lt;id&gt;github&lt;/id&gt;\n      &lt;repositories&gt;\n        &lt;repository&gt;\n          &lt;id&gt;central&lt;/id&gt;\n          &lt;url&gt;https://repo1.maven.org/maven2&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n          &lt;id&gt;github&lt;/id&gt;\n          &lt;url&gt;https://maven.pkg.github.com/APDevTeam/Movecraft&lt;/url&gt;\n          &lt;snapshots&gt;\n            &lt;enabled&gt;true&lt;/enabled&gt;\n          &lt;/snapshots&gt;\n        &lt;/repository&gt;\n      &lt;/repositories&gt;\n    &lt;/profile&gt;\n  &lt;/profiles&gt;\n&lt;/settings&gt;\n</code></pre>\n<p>Heres my errors on mvn install</p>\n<pre><code>[INFO] Scanning for projects...\n[WARNING] \n[WARNING] Some problems were encountered while building the effective model for 'me.homepenguin:hpmovecraft:jar:1.0-SNAPSHOT'\n[WARNING] 'dependencies.dependency.version' for net.countercraft:movecraft:jar is either LATEST or RELEASE (both of them are being deprecated) @ line 76, column 22\n[WARNING] \n[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.\n[WARNING] \n[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.\n[WARNING] \n[INFO] \n[INFO] ----------------------------------------------&lt; me.homepenguin:hpmovecraft &gt;----------------------------------------------\n[INFO] Building hpmovecraft 1.0-SNAPSHOT\n[INFO]   from pom.xml\n[INFO] ---------------------------------------------------------[ jar ]----------------------------------------------------------\n[WARNING] Version not locked for default bindings plugins [maven-resources-plugin, maven-surefire-plugin, maven-jar-plugin, maven-install-plugin], you should define versions in pluginManagement section of your pom.xml or parent\nDownloading from github: https://maven.pkg.github.com/APDevTeam/Movecraft/com/ticxo/PlayerAnimator/R1.2.6/PlayerAnimator-R1.2.6.pom\nDownloading from github: https://maven.pkg.github.com/APDevTeam/Movecraft/org/spigotmc/spigot-api/1.19.4-R0.1-SNAPSHOT/maven-metadata.xml\n[WARNING] Could not transfer metadata org.spigotmc:spigot-api:1.19.4-R0.1-SNAPSHOT/maven-metadata.xml from/to github (https://maven.pkg.github.com/APDevTeam/Movecraft): status code: 401, reason phrase: Unauthorized (401)\n[WARNING] org.spigotmc:spigot-api:1.19.4-R0.1-SNAPSHOT/maven-metadata.xml failed to transfer from https://maven.pkg.github.com/APDevTeam/Movecraft during a previous attempt. This failure was cached in the local repository and resolution will not be reattempted until the update interval of github has elapsed or updates are forced. Original error: Could not transfer metadata org.spigotmc:spigot-api:1.19.4-R0.1-SNAPSHOT/maven-metadata.xml from/to github (https://maven.pkg.github.com/APDevTeam/Movecraft): status code: 401, reason phrase: Unauthorized (401)\nDownloading from github: https://maven.pkg.github.com/APDevTeam/Movecraft/net/countercraft/movecraft/maven-metadata.xml\n[WARNING] Could not transfer metadata net.countercraft:movecraft/maven-metadata.xml from/to github (https://maven.pkg.github.com/APDevTeam/Movecraft): status code: 401, reason phrase: Unauthorized (401)\n[INFO] --------------------------------------------------------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] --------------------------------------------------------------------------------------------------------------------------\n[INFO] Total time:  2.650 s\n[INFO] Finished at: 2023-06-09T22:53:28-04:00\n[INFO] --------------------------------------------------------------------------------------------------------------------------\n[ERROR] Failed to execute goal on project hpmovecraft: Could not resolve dependencies for project me.homepenguin:hpmovecraft:jar:1.0-SNAPSHOT: Failed to collect dependencies at com.github.oraxen:oraxen:jar:1.156.2 -&gt; com.ticxo:PlayerAnimator:jar:R1.2.6: Failed to read artifact descriptor for com.ticxo:PlayerAnimator:jar:R1.2.6: The following artifacts could not be resolved: com.ticxo:PlayerAnimator:pom:R1.2.6 (absent): Could not transfer artifact com.ticxo:PlayerAnimator:pom:R1.2.6 from/to github (https://maven.pkg.github.com/APDevTeam/Movecraft): status code: 401, reason phrase: Unauthorized (401) -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the '-e' switch\n[ERROR] Re-run Maven using the '-X' switch to enable verbose output\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException\n</code></pre>\n<p>Ive tried putting settings.xml in (/.m2/repository) and (/.m2), cross referencing example code and documentation. Asking other developers with the errors.\nI just need to get the github package into my maven library, im not sure where I went wrong with my code.\nAlso where was I meant to code settings.xml if it was in the wrong place and what were the issues in my code that caused the error?\nThanks!</p>\n"},{"tags":["java","android","audio-recording","call-recording"],"comments":[{"owner":{"account_id":10582585,"reputation":151,"user_id":7795899,"display_name":"MSilva"},"score":0,"creation_date":1700746034,"post_id":76331858,"comment_id":136694012,"body_markdown":"Hi! I need a similar code, but it dont need work on all devices. If it works on some newer versions of the Android API, 12 for example, that&#39;s great for me. It&#39;s just for testing. I couldn&#39;t get one that works both ways.\nCan you help me?","body":"Hi! I need a similar code, but it dont need work on all devices. If it works on some newer versions of the Android API, 12 for example, that&#39;s great for me. It&#39;s just for testing. I couldn&#39;t get one that works both ways. Can you help me?"}],"answers":[{"tags":[],"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685835103,"creation_date":1685835103,"answer_id":76398411,"question_id":76331858,"body_markdown":"Cube ACR seems to have the same issue. See: https://cube-call-recorder-acr.en.softonic.com/android . In the &quot;cons&quot; they say: \r\n\r\n&gt; In some instances two-way audio may not be recorded\r\n\r\nSee also this stackoverflow question: https://stackoverflow.com/questions/20551511/how-to-determine-if-speech-recognition-is-supported-on-a-device","title":"Android 13 Call recording both sides","body":"<p>Cube ACR seems to have the same issue. See: <a href=\"https://cube-call-recorder-acr.en.softonic.com/android\" rel=\"nofollow noreferrer\">https://cube-call-recorder-acr.en.softonic.com/android</a> . In the &quot;cons&quot; they say:</p>\n<blockquote>\n<p>In some instances two-way audio may not be recorded</p>\n</blockquote>\n<p>See also this stackoverflow question: <a href=\"https://stackoverflow.com/questions/20551511/how-to-determine-if-speech-recognition-is-supported-on-a-device\">How to determine if speech recognition is supported on a device?</a></p>\n"},{"tags":[],"owner":{"account_id":28824240,"reputation":1,"user_id":22076020,"display_name":"user22076020"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686797862,"creation_date":1686797862,"answer_id":76478790,"question_id":76331858,"body_markdown":"you can give this a try as well to automate record call recording even from whtsapp \r\nhttps://play.google.com/store/apps/datasafety?id=com.sparklingapps.callrecorder","title":"Android 13 Call recording both sides","body":"<p>you can give this a try as well to automate record call recording even from whtsapp\n<a href=\"https://play.google.com/store/apps/datasafety?id=com.sparklingapps.callrecorder\" rel=\"nofollow noreferrer\">https://play.google.com/store/apps/datasafety?id=com.sparklingapps.callrecorder</a></p>\n"}],"owner":{"account_id":1765647,"reputation":165,"user_id":1611597,"accept_rate":50,"display_name":"Andrei Ciuca"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1796,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1686797862,"creation_date":1685014734,"question_id":76331858,"body_markdown":"From Android 10, I have to use Accessibility access and you can record a call using MediaRecorder with the source voice recognition. The problem is that on some devices the recording is not both ways - there is only one voice.\r\n\r\nThis is the basic implementation with MediaRecorder:\r\n\r\n    MediaRecorder recorder=new MediaRecorder(); \r\n    recorder.setAudioSource(AudioSource.VOICE_RECOGNITION); \r\n    recorder.setAudioEncoder(MediaRecorder.AudioEncoder.HE_AAC); \r\n    recorder.prepare(); Thread.sleep(2000); recorder.start();\r\n\r\nI tested Cube ACR from Google play. They have an option to set the audio source to &quot;voice recognition software&quot;. If this is enabled, you can get both sides of the conversation.\r\n\r\nI did not find something on the Internet related to &quot;voice recognition software&quot;. Does anyone know how to do this? - maybe a github project\r\n\r\nDoes anyone have a solution about recording both parts of the conversation that works on the new versions of Android ? Android 12 or Android 13.\r\n\r\nThanks\r\n","title":"Android 13 Call recording both sides","body":"<p>From Android 10, I have to use Accessibility access and you can record a call using MediaRecorder with the source voice recognition. The problem is that on some devices the recording is not both ways - there is only one voice.</p>\n<p>This is the basic implementation with MediaRecorder:</p>\n<pre><code>MediaRecorder recorder=new MediaRecorder(); \nrecorder.setAudioSource(AudioSource.VOICE_RECOGNITION); \nrecorder.setAudioEncoder(MediaRecorder.AudioEncoder.HE_AAC); \nrecorder.prepare(); Thread.sleep(2000); recorder.start();\n</code></pre>\n<p>I tested Cube ACR from Google play. They have an option to set the audio source to &quot;voice recognition software&quot;. If this is enabled, you can get both sides of the conversation.</p>\n<p>I did not find something on the Internet related to &quot;voice recognition software&quot;. Does anyone know how to do this? - maybe a github project</p>\n<p>Does anyone have a solution about recording both parts of the conversation that works on the new versions of Android ? Android 12 or Android 13.</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","exception"],"answers":[{"tags":[],"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1557798760,"creation_date":1557798760,"answer_id":56121977,"question_id":56121931,"body_markdown":"The error message is meaningful, it&#39;s says Ambiguous `@ExceptionHandler` method because you have two method mapped for same exception which is `Exception.class` \r\n\r\n**handleAllUserException**\r\n\r\n    @ExceptionHandler(Exception.class)\r\n    public final ResponseEntity&lt;Object&gt; handleAllUserException(Exception ex, WebRequest request)  \r\n\r\n**handleUserNotFoundException**\r\n\r\n     @ExceptionHandler(Exception.class)\r\n     public final ResponseEntity&lt;Object&gt; handleUserNotFoundException(UnknownException ex, WebRequest request)  \r\n\r\nBoth the methods are mapped for `Exception.class` which is Ambiguous for container thread to pick at runtime, change the `handleUserNotFoundException` method mapping to `UnknownException`\r\n\r\n    @ExceptionHandler(UnknownException.class)\r\n    public final ResponseEntity&lt;Object&gt; handleUserNotFoundException(UnknownException ex, WebRequest request)  \r\n\r\n","title":"Error creating bean with name &#39;handlerExceptionResolver&#39; defined in class path resource","body":"<p>The error message is meaningful, it's says Ambiguous <code>@ExceptionHandler</code> method because you have two method mapped for same exception which is <code>Exception.class</code> </p>\n\n<p><strong>handleAllUserException</strong></p>\n\n<pre><code>@ExceptionHandler(Exception.class)\npublic final ResponseEntity&lt;Object&gt; handleAllUserException(Exception ex, WebRequest request)  \n</code></pre>\n\n<p><strong>handleUserNotFoundException</strong></p>\n\n<pre><code> @ExceptionHandler(Exception.class)\n public final ResponseEntity&lt;Object&gt; handleUserNotFoundException(UnknownException ex, WebRequest request)  \n</code></pre>\n\n<p>Both the methods are mapped for <code>Exception.class</code> which is Ambiguous for container thread to pick at runtime, change the <code>handleUserNotFoundException</code> method mapping to <code>UnknownException</code></p>\n\n<pre><code>@ExceptionHandler(UnknownException.class)\npublic final ResponseEntity&lt;Object&gt; handleUserNotFoundException(UnknownException ex, WebRequest request)  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":18285002,"reputation":1,"user_id":13313111,"display_name":"Mr.Zero"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686797388,"creation_date":1686797388,"answer_id":76478768,"question_id":56121931,"body_markdown":"This is a stack trace of a `BeanCreationException` that occurred while creating a bean named `handlerExceptionResolver` in a Spring Boot application. The exception is caused by an `IllegalStateException` which indicates that an ambiguous `@ExceptionHandler` method was mapped for a `MethodArgumentNotValidException`.\r\n\r\nIt seems that there are two methods annotated with `@ExceptionHandler` for `MethodArgumentNotValidException`: `com.congdat.springbootrestapi.exception.GlobalExceptionHandler.handleMethodArgumentNotValid` and `org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler.handleException`. \r\n\r\nTo resolve this issue, you need to make sure that only one `@ExceptionHandler` method is mapped for each exception type. You can do this by removing one of the `@ExceptionHandler` methods or by specifying an order for the `@ExceptionHandler` methods using the `@Order` annotation. \r\n\r\nAnother possible solution is to override the `handlerExceptionResolver` bean definition and provide your own `ExceptionHandlerExceptionResolver` with a customized `ExceptionHandlerMethodResolver` that resolves the ambiguous mapping.","title":"Error creating bean with name &#39;handlerExceptionResolver&#39; defined in class path resource","body":"<p>This is a stack trace of a <code>BeanCreationException</code> that occurred while creating a bean named <code>handlerExceptionResolver</code> in a Spring Boot application. The exception is caused by an <code>IllegalStateException</code> which indicates that an ambiguous <code>@ExceptionHandler</code> method was mapped for a <code>MethodArgumentNotValidException</code>.</p>\n<p>It seems that there are two methods annotated with <code>@ExceptionHandler</code> for <code>MethodArgumentNotValidException</code>: <code>com.congdat.springbootrestapi.exception.GlobalExceptionHandler.handleMethodArgumentNotValid</code> and <code>org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler.handleException</code>.</p>\n<p>To resolve this issue, you need to make sure that only one <code>@ExceptionHandler</code> method is mapped for each exception type. You can do this by removing one of the <code>@ExceptionHandler</code> methods or by specifying an order for the <code>@ExceptionHandler</code> methods using the <code>@Order</code> annotation.</p>\n<p>Another possible solution is to override the <code>handlerExceptionResolver</code> bean definition and provide your own <code>ExceptionHandlerExceptionResolver</code> with a customized <code>ExceptionHandlerMethodResolver</code> that resolves the ambiguous mapping.</p>\n"}],"owner":{"account_id":6103846,"reputation":35,"user_id":4762042,"display_name":"Vijay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17548,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1686797388,"creation_date":1557798252,"question_id":56121931,"body_markdown":"I have a simple project where I have created custom exception handling. Funny thing is when I compile this project it gives me an error.\r\n\r\n\r\n```\r\nError creating bean with name &#39;handlerExceptionResolver&#39; defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.HandlerExceptionResolver]: Factory method &#39;handlerExceptionResolver&#39; threw exception; nested exception is java.lang.IllegalStateException: Ambiguous @ExceptionHandler method mapped for [class java.lang.Exception]: {public final org.springframework.http.ResponseEntity com.winwinit.rest.microservices.restfulwebservices.Exception.CustomizedEntityExceptionResponse.handleAllUserException(java.lang.Exception,org.springframework.web.context.request.WebRequest), public final org.springframework.http.ResponseEntity com.winwinit.rest.microservices.restfulwebservices.Exception.CustomizedEntityExceptionResponse.handleAllException(java.lang.Exception,org.springframework.web.context.request.WebRequest)}\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:627) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n```\r\n\r\n    package com.winwinit.rest.microservices.restfulwebservices.Exception;\r\n\r\n    import java.util.Date;\r\n\r\n    import org.omg.CORBA.portable.UnknownException;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.ControllerAdvice;\r\n    import org.springframework.web.bind.annotation.ExceptionHandler;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import org.springframework.web.context.request.WebRequest;\r\n    import org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler;\r\n\r\n\r\n    import com.winwinit.rest.microservices.restfulwebservices.User.UserNotFoundException;\r\n\r\n    @ControllerAdvice\r\n    @RestController\r\n    public class CustomizedEntityExceptionResponse extends \r\n        ResponseEntityExceptionHandler{\r\n\r\n\t    @ExceptionHandler(Exception.class)\r\n\t    public final ResponseEntity&lt;Object&gt; handleAllException(Exception ex, WebRequest request)  {\r\n\t        ExceptionResponse exceptionResponse = new ExceptionResponse(new Date(), ex.getMessage(), request.getDescription(false));\t\r\n\t        return new ResponseEntity(exceptionResponse, HttpStatus.INTERNAL_SERVER_ERROR);\r\n\t    }\r\n\t\r\n\t\r\n\t    @ExceptionHandler(Exception.class)\r\n\t    public final ResponseEntity&lt;Object&gt; handleAllUserException(Exception ex, WebRequest request)  {\r\n\t        exceptionResponse exceptionResponse = new ExceptionResponse(new Date(), ex.getMessage(), request.getDescription(false));\r\n\t        return new ResponseEntity(exceptionResponse, HttpStatus.INTERNAL_SERVER_ERROR);\r\n\t    }\r\n\t\r\n\r\n\t    @ExceptionHandler(Exception.class)\r\n        public final ResponseEntity&lt;Object&gt; handleUserNotFoundException(UnknownException ex, WebRequest request)  {\r\n\t        ExceptionResponse exceptionResponse = new ExceptionResponse(new Date(), ex.getMessage(), request.getDescription(false));\r\n\t        return new ResponseEntity(exceptionResponse, HttpStatus.NOT_FOUND);\r\n        }\r\n\r\n    }\r\n\r\n\r\nWhen I comment &#39;handleUserNotFoundException&#39; function it works fine however when I add this method it gives me that error. Why would Spring cannot handle it? Any help will be greatly appreciated.\r\n\r\n\r\n\r\nI removed function &#39;handleUserNotFoundException&#39; and it works fine.. Also when i just remove ExceptionHandler annotation and compile it works fine.","title":"Error creating bean with name &#39;handlerExceptionResolver&#39; defined in class path resource","body":"<p>I have a simple project where I have created custom exception handling. Funny thing is when I compile this project it gives me an error.</p>\n\n<pre><code>Error creating bean with name 'handlerExceptionResolver' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.HandlerExceptionResolver]: Factory method 'handlerExceptionResolver' threw exception; nested exception is java.lang.IllegalStateException: Ambiguous @ExceptionHandler method mapped for [class java.lang.Exception]: {public final org.springframework.http.ResponseEntity com.winwinit.rest.microservices.restfulwebservices.Exception.CustomizedEntityExceptionResponse.handleAllUserException(java.lang.Exception,org.springframework.web.context.request.WebRequest), public final org.springframework.http.ResponseEntity com.winwinit.rest.microservices.restfulwebservices.Exception.CustomizedEntityExceptionResponse.handleAllException(java.lang.Exception,org.springframework.web.context.request.WebRequest)}\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:627) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n</code></pre>\n\n<pre><code>package com.winwinit.rest.microservices.restfulwebservices.Exception;\n\nimport java.util.Date;\n\nimport org.omg.CORBA.portable.UnknownException;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.ControllerAdvice;\nimport org.springframework.web.bind.annotation.ExceptionHandler;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.context.request.WebRequest;\nimport org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler;\n\n\nimport com.winwinit.rest.microservices.restfulwebservices.User.UserNotFoundException;\n\n@ControllerAdvice\n@RestController\npublic class CustomizedEntityExceptionResponse extends \n    ResponseEntityExceptionHandler{\n\n    @ExceptionHandler(Exception.class)\n    public final ResponseEntity&lt;Object&gt; handleAllException(Exception ex, WebRequest request)  {\n        ExceptionResponse exceptionResponse = new ExceptionResponse(new Date(), ex.getMessage(), request.getDescription(false));    \n        return new ResponseEntity(exceptionResponse, HttpStatus.INTERNAL_SERVER_ERROR);\n    }\n\n\n    @ExceptionHandler(Exception.class)\n    public final ResponseEntity&lt;Object&gt; handleAllUserException(Exception ex, WebRequest request)  {\n        exceptionResponse exceptionResponse = new ExceptionResponse(new Date(), ex.getMessage(), request.getDescription(false));\n        return new ResponseEntity(exceptionResponse, HttpStatus.INTERNAL_SERVER_ERROR);\n    }\n\n\n    @ExceptionHandler(Exception.class)\n    public final ResponseEntity&lt;Object&gt; handleUserNotFoundException(UnknownException ex, WebRequest request)  {\n        ExceptionResponse exceptionResponse = new ExceptionResponse(new Date(), ex.getMessage(), request.getDescription(false));\n        return new ResponseEntity(exceptionResponse, HttpStatus.NOT_FOUND);\n    }\n\n}\n</code></pre>\n\n<p>When I comment 'handleUserNotFoundException' function it works fine however when I add this method it gives me that error. Why would Spring cannot handle it? Any help will be greatly appreciated.</p>\n\n<p>I removed function 'handleUserNotFoundException' and it works fine.. Also when i just remove ExceptionHandler annotation and compile it works fine.</p>\n"},{"tags":["java","api","github","mailinator"],"owner":{"account_id":23749154,"reputation":1,"user_id":17766157,"display_name":"rocky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686795828,"creation_date":1686795765,"question_id":76478680,"body_markdown":"I have been trying with curl command to get the message id for public account in mailinator.\r\n\r\nBut i think there is some issue, as i am getting the html response, and no details are there for inbox messages. I am not sure what wrong i am doing, none of the below command has worked.\r\n\r\n    curl -x GET https://www.mailinator.com/v3/inbox.jsp?to=test11 -H &#39;Content-Type: application/json&#39;  -H &#39;Accept: application/json&#39;\r\n\r\n \r\n\r\n    curl -x GET &quot;https://mailinator.com/api/v3/domains/public/inboxes.jsp?to=test11&quot;\r\n\r\nGone through mailinator apis, but clear information is not there, also wathed few youtube videos still unable to find any relevant information. Tried with below command and java code.\r\n\r\n`curl -x GET &quot;https://mailinator.com/api/v2/domains/public/inboxes.jsp?to=test11&quot;\r\n\r\ncurl -x GET &quot;https://mailinator.com/ws/fetchpublic/api/v3/domains/public/inboxes.jsp?to=test11&quot;`\r\n\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\nimport org.json.JSONArray;\r\nimport org.json.JSONObject;\r\n\r\npublic class MailinatorPublicAccountExample {\r\n    public static void main(String[] args) {\r\n        String publicAccount = &quot;test11&quot;;\r\n\r\n        try {\r\n            // Create the API URL\r\n            String apiUrl = String.format(&quot;https://www.mailinator.com/v3/inbox.jsp?to=%s&quot;, publicAccount);\r\n\r\n            // Send GET request to the API\r\n            URL url = new URL(apiUrl);\r\n            HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n            connection.setRequestMethod(&quot;GET&quot;);\r\n\r\n            // Get the API response\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(connection.getInputStream()));\r\n            String line;\r\n            StringBuilder response = new StringBuilder();\r\n            while ((line = reader.readLine()) != null) {\r\n                response.append(line);\r\n            }\r\n            reader.close();\r\n\r\n            // Process the response\r\n            JSONArray messages = new JSONArray(response.toString());\r\n\r\n            for (int i = 0; i &lt; messages.length(); i++) {\r\n                JSONObject message = messages.getJSONObject(i);\r\n                String messageId = message.getString(&quot;id&quot;);\r\n                String messageBody = fetchMessageBody(messageId);\r\n\r\n                System.out.println(&quot;Message ID: &quot; + messageId);\r\n                System.out.println(&quot;Message Body: &quot; + messageBody);\r\n                System.out.println(&quot;--------------------------------------&quot;);\r\n            }\r\n\r\n            // Close the connection\r\n            connection.disconnect();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private static String fetchMessageBody(String messageId) throws IOException {\r\n        // Create the API URL for fetching message body\r\n        String apiUrl = String.format(&quot;https://api.mailinator.com/v3/domains/mailinator.com/messages/%s/body&quot;, messageId);\r\n\r\n        // Send GET request to the API\r\n        URL url = new URL(apiUrl);\r\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n        connection.setRequestMethod(&quot;GET&quot;);\r\n\r\n        // Get the API response\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(connection.getInputStream()));\r\n        String line;\r\n        StringBuilder response = new StringBuilder();\r\n        while ((line = reader.readLine()) != null) {\r\n            response.append(line);\r\n        }\r\n        reader.close();\r\n\r\n        // Close the connection\r\n        connection.disconnect();\r\n\r\n        return response.toString();\r\n    }\r\n}\r\n```\r\n\r\n\r\n","title":"How to get Message Id for Mailinator public inbox with curl command","body":"<p>I have been trying with curl command to get the message id for public account in mailinator.</p>\n<p>But i think there is some issue, as i am getting the html response, and no details are there for inbox messages. I am not sure what wrong i am doing, none of the below command has worked.</p>\n<pre><code>curl -x GET https://www.mailinator.com/v3/inbox.jsp?to=test11 -H 'Content-Type: application/json'  -H 'Accept: application/json'\n\n\n\ncurl -x GET &quot;https://mailinator.com/api/v3/domains/public/inboxes.jsp?to=test11&quot;\n</code></pre>\n<p>Gone through mailinator apis, but clear information is not there, also wathed few youtube videos still unable to find any relevant information. Tried with below command and java code.</p>\n<p>`curl -x GET &quot;https://mailinator.com/api/v2/domains/public/inboxes.jsp?to=test11&quot;</p>\n<p>curl -x GET &quot;https://mailinator.com/ws/fetchpublic/api/v3/domains/public/inboxes.jsp?to=test11&quot;`</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport org.json.JSONArray;\nimport org.json.JSONObject;\n\npublic class MailinatorPublicAccountExample {\n    public static void main(String[] args) {\n        String publicAccount = &quot;test11&quot;;\n\n        try {\n            // Create the API URL\n            String apiUrl = String.format(&quot;https://www.mailinator.com/v3/inbox.jsp?to=%s&quot;, publicAccount);\n\n            // Send GET request to the API\n            URL url = new URL(apiUrl);\n            HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n            connection.setRequestMethod(&quot;GET&quot;);\n\n            // Get the API response\n            BufferedReader reader = new BufferedReader(new InputStreamReader(connection.getInputStream()));\n            String line;\n            StringBuilder response = new StringBuilder();\n            while ((line = reader.readLine()) != null) {\n                response.append(line);\n            }\n            reader.close();\n\n            // Process the response\n            JSONArray messages = new JSONArray(response.toString());\n\n            for (int i = 0; i &lt; messages.length(); i++) {\n                JSONObject message = messages.getJSONObject(i);\n                String messageId = message.getString(&quot;id&quot;);\n                String messageBody = fetchMessageBody(messageId);\n\n                System.out.println(&quot;Message ID: &quot; + messageId);\n                System.out.println(&quot;Message Body: &quot; + messageBody);\n                System.out.println(&quot;--------------------------------------&quot;);\n            }\n\n            // Close the connection\n            connection.disconnect();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private static String fetchMessageBody(String messageId) throws IOException {\n        // Create the API URL for fetching message body\n        String apiUrl = String.format(&quot;https://api.mailinator.com/v3/domains/mailinator.com/messages/%s/body&quot;, messageId);\n\n        // Send GET request to the API\n        URL url = new URL(apiUrl);\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n        connection.setRequestMethod(&quot;GET&quot;);\n\n        // Get the API response\n        BufferedReader reader = new BufferedReader(new InputStreamReader(connection.getInputStream()));\n        String line;\n        StringBuilder response = new StringBuilder();\n        while ((line = reader.readLine()) != null) {\n            response.append(line);\n        }\n        reader.close();\n\n        // Close the connection\n        connection.disconnect();\n\n        return response.toString();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":9225619,"reputation":1240,"user_id":9107502,"display_name":"0x1C1B"},"score":0,"creation_date":1686844339,"post_id":76478623,"comment_id":134857069,"body_markdown":"Too little information... I assume you&#39;re using Spring Security. How does your Spring Security configuration look like? Did you used debugging for getting the values compared by the PasswordEncoder? Just a guess, but when you&#39;re updating an existing user, is it possible to update the user&#39;s password too? If yes, do you encode the new password before persiting the entity?","body":"Too little information... I assume you&#39;re using Spring Security. How does your Spring Security configuration look like? Did you used debugging for getting the values compared by the PasswordEncoder? Just a guess, but when you&#39;re updating an existing user, is it possible to update the user&#39;s password too? If yes, do you encode the new password before persiting the entity?"},{"owner":{"account_id":28823846,"reputation":21,"user_id":22075730,"display_name":"NqanVo"},"score":0,"creation_date":1686904051,"post_id":76478623,"comment_id":134865213,"body_markdown":"i&#39;m doing user creation, not login, and i want to add BCryptPasswordEncoder to encrypt password before saving to database, represented by code if (userDTO.getId() == null) { ... } , now I don&#39;t know why, but when using BCryptPasswordEncoder, every request returns 401 error, when not used, everything is normal.","body":"i&#39;m doing user creation, not login, and i want to add BCryptPasswordEncoder to encrypt password before saving to database, represented by code if (userDTO.getId() == null) { ... } , now I don&#39;t know why, but when using BCryptPasswordEncoder, every request returns 401 error, when not used, everything is normal."}],"owner":{"account_id":28823846,"reputation":21,"user_id":22075730,"display_name":"NqanVo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686794690,"creation_date":1686794690,"question_id":76478623,"body_markdown":"why when I configure @Bean BCryptPasswordEncoder and use it in the service save user, when I run the application the requests return 401 error, when I turn off the BCryptPasswordEncoder function, everything works normally.\r\nThis is code in SecurityConfig\r\n \r\n```\r\n@Bean\r\n    public BCryptPasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder(10);\r\n    }\r\n```\r\n   \r\nThis is code when i use BCryptPasswordEncoder for encoder password before save in database\r\n    \r\n\r\n```\r\n@Autowired\r\n    private BCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder();\r\n    @Override\r\n    public UserDTO save(UserDTO userDTO) {\r\n        User newUser;\r\n        if (userDTO.getId() == null) {\r\n            String passEncoder = passwordEncoder.encode(userDTO.getPassword());\r\n            Role roleUser = roleService.findByName(&quot;USER&quot;);\r\n            newUser = userConverter.ConverterUserDTOToUser(userDTO);\r\n            newUser.setPassword(passEncoder);\r\n            newUser.getRoles().add(roleUser);\r\n            newUser.setStatus(1);\r\n        } else {\r\n            User oldUser = userRepository.findById(userDTO.getId()).orElseThrow(() -&gt; new EntityNotFoundException(&quot;Not fpund user with id &quot; + userDTO.getId()));\r\n            newUser = userConverter.ConverterNewUserDTOToOldUser(userDTO, oldUser);\r\n            newUser.setStatus(oldUser.getStatus());\r\n            newUser.setRoles(oldUser.getRoles());\r\n        }\r\n        newUser = userRepository.save(newUser);\r\n        UserDTO dto = userConverter.ConverterUserToUserDTO(newUser);\r\n        return dto;\r\n}\r\n \r\n```\r\n  \r\n\r\nif I comment all the code related to BCrypt in the config and service, everything works normally","title":"Error 401 when configuring BCryptPasswordEncoder for Restful Api application","body":"<p>why when I configure @Bean BCryptPasswordEncoder and use it in the service save user, when I run the application the requests return 401 error, when I turn off the BCryptPasswordEncoder function, everything works normally.\nThis is code in SecurityConfig</p>\n<pre><code>@Bean\n    public BCryptPasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder(10);\n    }\n</code></pre>\n<p>This is code when i use BCryptPasswordEncoder for encoder password before save in database</p>\n<pre><code>@Autowired\n    private BCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder();\n    @Override\n    public UserDTO save(UserDTO userDTO) {\n        User newUser;\n        if (userDTO.getId() == null) {\n            String passEncoder = passwordEncoder.encode(userDTO.getPassword());\n            Role roleUser = roleService.findByName(&quot;USER&quot;);\n            newUser = userConverter.ConverterUserDTOToUser(userDTO);\n            newUser.setPassword(passEncoder);\n            newUser.getRoles().add(roleUser);\n            newUser.setStatus(1);\n        } else {\n            User oldUser = userRepository.findById(userDTO.getId()).orElseThrow(() -&gt; new EntityNotFoundException(&quot;Not fpund user with id &quot; + userDTO.getId()));\n            newUser = userConverter.ConverterNewUserDTOToOldUser(userDTO, oldUser);\n            newUser.setStatus(oldUser.getStatus());\n            newUser.setRoles(oldUser.getRoles());\n        }\n        newUser = userRepository.save(newUser);\n        UserDTO dto = userConverter.ConverterUserToUserDTO(newUser);\n        return dto;\n}\n \n</code></pre>\n<p>if I comment all the code related to BCrypt in the config and service, everything works normally</p>\n"},{"tags":["java","android","kotlin","android-intent","android-jetpack"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1686824988,"post_id":76455580,"comment_id":134853903,"body_markdown":"There are tens of thousands of Android device models. How many did you test to come up with your &quot;Context&quot;? Note: I&#39;m not questioning the existence of `take_over_get_content`, but more your analysis of &quot;best picker&quot;, given that device manufacturers can make lots of other changes.","body":"There are tens of thousands of Android device models. How many did you test to come up with your &quot;Context&quot;? Note: I&#39;m not questioning the existence of <code>take_over_get_content</code>, but more your analysis of &quot;best picker&quot;, given that device manufacturers can make lots of other changes."},{"owner":{"account_id":80211,"reputation":58977,"user_id":226958,"accept_rate":76,"display_name":"Nicolas Raoul"},"score":0,"creation_date":1686886144,"post_id":76455580,"comment_id":134862869,"body_markdown":"@CommonsWare: Thanks for your comment, by the way you&#39;re my hero! We received 10+ reports from users about EXIF location loss. Even though we haven&#39;t tested on thousands of devices, so far both bullets are true on all devices we have tried. If there are exceptions we would love to hear about them sooner rather than later. By the way this is for https://github.com/commons-app/apps-android-commons/issues/5196","body":"@CommonsWare: Thanks for your comment, by the way you&#39;re my hero! We received 10+ reports from users about EXIF location loss. Even though we haven&#39;t tested on thousands of devices, so far both bullets are true on all devices we have tried. If there are exceptions we would love to hear about them sooner rather than later. By the way this is for <a href=\"https://github.com/commons-app/apps-android-commons/issues/5196\" rel=\"nofollow noreferrer\">github.com/commons-app/apps-android-commons/issues/5196</a>"}],"answers":[{"comments":[{"owner":{"account_id":7376614,"reputation":523,"user_id":5614968,"display_name":"kaartic"},"score":1,"creation_date":1686588273,"post_id":76457249,"comment_id":134816214,"body_markdown":"Thanks for a good start! Even if we get the the version of MediaProvider that&#39;s installed it won&#39;t help much. That&#39;s because even if version with Photo Picker is installed on the device, the mentioned feature flag could still be turned off.","body":"Thanks for a good start! Even if we get the the version of MediaProvider that&#39;s installed it won&#39;t help much. That&#39;s because even if version with Photo Picker is installed on the device, the mentioned feature flag could still be turned off."},{"owner":{"account_id":232182,"reputation":6622,"user_id":496854,"accept_rate":61,"display_name":"user496854"},"score":0,"creation_date":1686608344,"post_id":76457249,"comment_id":134819631,"body_markdown":"While that&#39;s true, there is not way for you to check that flag at runtime. The only other thing you can do is add a setting that&#39;s called something like &quot;use legacy photo picker&quot;, and they use would be responsible for making that choice","body":"While that&#39;s true, there is not way for you to check that flag at runtime. The only other thing you can do is add a setting that&#39;s called something like &quot;use legacy photo picker&quot;, and they use would be responsible for making that choice"},{"owner":{"account_id":80211,"reputation":58977,"user_id":226958,"accept_rate":76,"display_name":"Nicolas Raoul"},"score":1,"creation_date":1686636948,"post_id":76457249,"comment_id":134822199,"body_markdown":"kaartic is right, almost any device has a high-enough software version, the real question is whether the manufacturer of that device happens to have decided to turn the feature on or not. Typically I believe that most Pixel phones have the feature on, and most Samsung phones have the feature off, but I could be wrong.","body":"kaartic is right, almost any device has a high-enough software version, the real question is whether the manufacturer of that device happens to have decided to turn the feature on or not. Typically I believe that most Pixel phones have the feature on, and most Samsung phones have the feature off, but I could be wrong."},{"owner":{"account_id":7376614,"reputation":523,"user_id":5614968,"display_name":"kaartic"},"score":0,"creation_date":1686651166,"post_id":76457249,"comment_id":134824997,"body_markdown":"@user496854 Providing that option would mean there should be some way to invoke the legacy photo picker (the DocumentsUi based one). There doesn&#39;t seem to be a way to do that when the feature flag in question is turned on. If I&#39;m missing anything, please clarify.","body":"@user496854 Providing that option would mean there should be some way to invoke the legacy photo picker (the DocumentsUi based one). There doesn&#39;t seem to be a way to do that when the feature flag in question is turned on. If I&#39;m missing anything, please clarify."},{"owner":{"account_id":232182,"reputation":6622,"user_id":496854,"accept_rate":61,"display_name":"user496854"},"score":0,"creation_date":1686671252,"post_id":76457249,"comment_id":134829778,"body_markdown":"It&#39;s my understanding that the `take_over_get_content` flag isn&#39;t hardwired into the device config, and can be changed by Google on the server end. If I&#39;m wrong about that, then there is no way to check that flag without running ADB commands, or having a rooted device","body":"It&#39;s my understanding that the <code>take_over_get_content</code> flag isn&#39;t hardwired into the device config, and can be changed by Google on the server end. If I&#39;m wrong about that, then there is no way to check that flag without running ADB commands, or having a rooted device"}],"tags":[],"owner":{"account_id":232182,"reputation":6622,"user_id":496854,"accept_rate":61,"display_name":"user496854"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686577220,"creation_date":1686577220,"answer_id":76457249,"question_id":76455580,"body_markdown":"I&#39;m fairly certain that you can&#39;t get that info without having a rooted device, and actually running that shell command. However, what you should be able to do is check the MediaProvider version, since that feature is only available on with version `330811020`. \r\n\r\nYou should be able to do this with `PackageManager`, but I&#39;m not 100% sure if you&#39;ll need any extra permissions to be able to query other apps installed on the device:\r\n\r\n    PackageInfo packageInfo = getPackageManager().getPackageInfo(&quot;com.google.android.mediaprovider&quot;, 0);\r\n    return packageInfo.versionName;","title":"Detect programmatically whether take_over_get_content is true or false","body":"<p>I'm fairly certain that you can't get that info without having a rooted device, and actually running that shell command. However, what you should be able to do is check the MediaProvider version, since that feature is only available on with version <code>330811020</code>.</p>\n<p>You should be able to do this with <code>PackageManager</code>, but I'm not 100% sure if you'll need any extra permissions to be able to query other apps installed on the device:</p>\n<pre><code>PackageInfo packageInfo = getPackageManager().getPackageInfo(&quot;com.google.android.mediaprovider&quot;, 0);\nreturn packageInfo.versionName;\n</code></pre>\n"}],"owner":{"account_id":80211,"reputation":58977,"user_id":226958,"accept_rate":76,"display_name":"Nicolas Raoul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1686794519,"creation_date":1686564417,"question_id":76455580,"body_markdown":"It seems that some Android devices come with `take_over_get_content` true, and some with it set to false.\r\n\r\n**From an Android app**, is it possible to detect what value it has?  \r\nI think it is not readable directly, but it may be guessable via some side-effects (for instance some queryable feature being available indirectly depends on the state of the flag) or even via model statistics (example: Probably true if Pixel, probably false if Samsung).\r\n\r\nFor reference, it can be checked easily via ADB:\r\n\r\n    adb shell cmd device_config get storage_native_boot take_over_get_content\r\n\r\nContext:\r\n - When `take_over_get_content` is false, the `ACTION_GET_CONTENT` intent is the best picker (allows picking pictures from other apps).\r\n - When `take_over_get_content` is true, the `ACTION_OPEN_DOCUMENT` intent is the best picker (does not [lose EXIF location][1]).\r\n\r\n\r\n  [1]: https://issuetracker.google.com/issues/243294058","title":"Detect programmatically whether take_over_get_content is true or false","body":"<p>It seems that some Android devices come with <code>take_over_get_content</code> true, and some with it set to false.</p>\n<p><strong>From an Android app</strong>, is it possible to detect what value it has?<br />\nI think it is not readable directly, but it may be guessable via some side-effects (for instance some queryable feature being available indirectly depends on the state of the flag) or even via model statistics (example: Probably true if Pixel, probably false if Samsung).</p>\n<p>For reference, it can be checked easily via ADB:</p>\n<pre><code>adb shell cmd device_config get storage_native_boot take_over_get_content\n</code></pre>\n<p>Context:</p>\n<ul>\n<li>When <code>take_over_get_content</code> is false, the <code>ACTION_GET_CONTENT</code> intent is the best picker (allows picking pictures from other apps).</li>\n<li>When <code>take_over_get_content</code> is true, the <code>ACTION_OPEN_DOCUMENT</code> intent is the best picker (does not <a href=\"https://issuetracker.google.com/issues/243294058\" rel=\"nofollow noreferrer\">lose EXIF location</a>).</li>\n</ul>\n"},{"tags":["java","kotlin","markdown","commonmark"],"owner":{"account_id":20297592,"reputation":735,"user_id":14887783,"display_name":"SageJustus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686792686,"creation_date":1686737474,"question_id":76472411,"body_markdown":"I follow [CustomLinkResolverSample.java](https://github.com/vsch/flexmark-java/blob/master/flexmark-java-samples/src/com/vladsch/flexmark/java/samples/CustomLinkResolverSample.java) example and [Render AST as Markdown with Formatting Options](https://github.com/vsch/flexmark-java/wiki/Usage#render-ast-as-markdown-with-formatting-options) to implement custom parsing link, but not working. \r\n\r\n```kotlin\r\nfun main() {\r\n    val str = &quot;![cover](https://www.google.com)&quot;\r\n    val options = PegdownOptionsAdapter.flexmarkOptions(\r\n        Extensions.ALL\r\n    )\r\n    val parser = Parser.builder(options).build()\r\n    val document = parser.parse(str)\r\n    val formatOptions = MutableDataSet()\r\n        .set(Parser.EXTENSIONS, Parser.EXTENSIONS.get(options))\r\n        .set(\r\n            Parser.EXTENSIONS,\r\n            Collections.singletonList(SageFormatterExtension.create()) as Collection&lt;Extension&gt;\r\n        )\r\n    val render = Formatter.builder(formatOptions).build()\r\n    val result = render.render(document)\r\n    println(result)\r\n}\r\n```\r\n`SageFormatterExtension`\r\n```kotlin\r\nclass SageFormatterExtension: FormatterExtension {\r\n    override fun rendererOptions(options: MutableDataHolder?) {\r\n    }\r\n\r\n    override fun extend(formatterBuilder: Formatter.Builder) {\r\n        formatterBuilder.linkResolverFactory(DocxLinkResolver.Factory)\r\n    }\r\n\r\n    companion object {\r\n        fun create(): SageFormatterExtension {\r\n            return SageFormatterExtension()\r\n        }\r\n    }\r\n}\r\n```\r\n`DocxLinkResolver`\r\n```kotlin\r\nclass DocxLinkResolver(val context: LinkResolverBasicContext) : LinkResolver {\r\n\r\n    override fun resolveLink(node: Node, context: LinkResolverBasicContext, link: ResolvedLink): ResolvedLink {\r\n        println(&quot;resolveLink&quot;)\r\n        return link\r\n    }\r\n\r\n    object Factory : LinkResolverFactory {\r\n        override fun apply(context: LinkResolverBasicContext): LinkResolver {\r\n            return DocxLinkResolver(context)\r\n        }\r\n\r\n        override fun getAfterDependents(): MutableSet&lt;Class&lt;*&gt;&gt;? {\r\n            return null\r\n        }\r\n\r\n        override fun getBeforeDependents(): MutableSet&lt;Class&lt;*&gt;&gt;? {\r\n            return null\r\n        }\r\n\r\n        override fun affectsGlobalScope(): Boolean {\r\n            return false\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n`println(&quot;resolveLink&quot;)` did not run, indicating that the extension was not loaded.\r\n\r\nWhat am I missing? Or is there any other solution?\r\n\r\n","title":"How to use flexmark-java modify the url of the picture in the markdown file?","body":"<p>I follow <a href=\"https://github.com/vsch/flexmark-java/blob/master/flexmark-java-samples/src/com/vladsch/flexmark/java/samples/CustomLinkResolverSample.java\" rel=\"nofollow noreferrer\">CustomLinkResolverSample.java</a> example and <a href=\"https://github.com/vsch/flexmark-java/wiki/Usage#render-ast-as-markdown-with-formatting-options\" rel=\"nofollow noreferrer\">Render AST as Markdown with Formatting Options</a> to implement custom parsing link, but not working.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun main() {\n    val str = &quot;![cover](https://www.google.com)&quot;\n    val options = PegdownOptionsAdapter.flexmarkOptions(\n        Extensions.ALL\n    )\n    val parser = Parser.builder(options).build()\n    val document = parser.parse(str)\n    val formatOptions = MutableDataSet()\n        .set(Parser.EXTENSIONS, Parser.EXTENSIONS.get(options))\n        .set(\n            Parser.EXTENSIONS,\n            Collections.singletonList(SageFormatterExtension.create()) as Collection&lt;Extension&gt;\n        )\n    val render = Formatter.builder(formatOptions).build()\n    val result = render.render(document)\n    println(result)\n}\n</code></pre>\n<p><code>SageFormatterExtension</code></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class SageFormatterExtension: FormatterExtension {\n    override fun rendererOptions(options: MutableDataHolder?) {\n    }\n\n    override fun extend(formatterBuilder: Formatter.Builder) {\n        formatterBuilder.linkResolverFactory(DocxLinkResolver.Factory)\n    }\n\n    companion object {\n        fun create(): SageFormatterExtension {\n            return SageFormatterExtension()\n        }\n    }\n}\n</code></pre>\n<p><code>DocxLinkResolver</code></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class DocxLinkResolver(val context: LinkResolverBasicContext) : LinkResolver {\n\n    override fun resolveLink(node: Node, context: LinkResolverBasicContext, link: ResolvedLink): ResolvedLink {\n        println(&quot;resolveLink&quot;)\n        return link\n    }\n\n    object Factory : LinkResolverFactory {\n        override fun apply(context: LinkResolverBasicContext): LinkResolver {\n            return DocxLinkResolver(context)\n        }\n\n        override fun getAfterDependents(): MutableSet&lt;Class&lt;*&gt;&gt;? {\n            return null\n        }\n\n        override fun getBeforeDependents(): MutableSet&lt;Class&lt;*&gt;&gt;? {\n            return null\n        }\n\n        override fun affectsGlobalScope(): Boolean {\n            return false\n        }\n\n    }\n\n}\n</code></pre>\n<p><code>println(&quot;resolveLink&quot;)</code> did not run, indicating that the extension was not loaded.</p>\n<p>What am I missing? Or is there any other solution?</p>\n"},{"tags":["java","gradle","groovy","build-tools"],"comments":[{"owner":{"account_id":4358,"reputation":168420,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1686679745,"post_id":76466582,"comment_id":134831539,"body_markdown":"Not sure you can, why do you want to?","body":"Not sure you can, why do you want to?"},{"owner":{"account_id":20392426,"reputation":7,"user_id":20232843,"display_name":"Rostik"},"score":0,"creation_date":1686681771,"post_id":76466582,"comment_id":134831987,"body_markdown":"Obviously, to see only projects dependencies in multiple-project build ;)","body":"Obviously, to see only projects dependencies in multiple-project build ;)"},{"owner":{"account_id":4358,"reputation":168420,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1686682414,"post_id":76466582,"comment_id":134832106,"body_markdown":"Have you tried using `--scan` to send a scan of the build to the public build scan service? There&#39;s a dependencies section in the UI, and you can just open the project you care about","body":"Have you tried using <code>--scan</code> to send a scan of the build to the public build scan service? There&#39;s a dependencies section in the UI, and you can just open the project you care about"}],"answers":[{"tags":[],"owner":{"account_id":4953345,"reputation":1778,"user_id":3986677,"display_name":"James Lamb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686792274,"creation_date":1686792274,"answer_id":76478502,"question_id":76466582,"body_markdown":"Is it absolutely necessary for some reason that this be solved only with arguments to `gradle`?\r\n\r\nIf not, then this will produce what you want:\r\n\r\n```shell\r\ngradle certainProject:dependencies | grep -E &#39; project \\:&#39;\r\n```","title":"How remove unnecessary dependencies in output from &quot;gradle dependencies&quot; task?","body":"<p>Is it absolutely necessary for some reason that this be solved only with arguments to <code>gradle</code>?</p>\n<p>If not, then this will produce what you want:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>gradle certainProject:dependencies | grep -E ' project \\:'\n</code></pre>\n"}],"owner":{"account_id":20392426,"reputation":7,"user_id":20232843,"display_name":"Rostik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76478502,"answer_count":1,"score":0,"last_activity_date":1686792274,"creation_date":1686670788,"question_id":76466582,"body_markdown":"Assume, we have multi-project build and we want to see all dependencies for certain module:\r\n\r\n```\r\ngradle certainProject:dependencies\r\n```\r\n\r\nThen we will get similar output:\r\n```\r\n+--- project :firstProject\r\n|    +--- project :anyProject\r\n|    +--- org.slf4j:slf4j-api:1.7.30 -&gt; 1.7.36\r\n|    +--- org.projectlombok:lombok:1.18.20 -&gt; 1.18.22\r\n|    +--- org.springframework:spring-core:5.3.22 -&gt; 5.3.25 (*)\r\n+--- project :secondProject\r\n|    +--- org.slf4j:slf4j-api:1.7.30 -&gt; 1.7.36\r\n|    +--- org.springframework.kafka:spring-kafka:2.8.6 (*)\r\n|    +--- org.mapstruct:mapstruct:1.4.2.Final\r\n|    \\--- org.mapstruct:mapstruct-processor:1.4.2.Final\r\n+--- project :thirdProject\r\n|    +--- … e.t.c\r\n```\r\n\r\n\r\n\r\nI&#39;m interesting in only see &quot;project :&quot; in output recursively in depth:\r\n```\r\n+--- project :firstProject\r\n|    +--- project :anyProject\r\n+--- project :secondProject\r\n+--- project :thirdProject\r\n```\r\n\r\nProbably exclude by pattern or smth same?\r\n\r\nThese deps add such way:\r\n```\r\ndependencies {\r\n    implementation(\r\n            project(&quot;:firstProject&quot;),\r\n            project(&quot;:secondProject&quot;),\r\n            project(&quot;:thirdProject&quot;),\r\n    )\r\n    \r\n    implementation(&quot;org.postgresql:postgresql:3.2.2&quot;)\r\n    //…\r\n}\r\n```","title":"How remove unnecessary dependencies in output from &quot;gradle dependencies&quot; task?","body":"<p>Assume, we have multi-project build and we want to see all dependencies for certain module:</p>\n<pre><code>gradle certainProject:dependencies\n</code></pre>\n<p>Then we will get similar output:</p>\n<pre><code>+--- project :firstProject\n|    +--- project :anyProject\n|    +--- org.slf4j:slf4j-api:1.7.30 -&gt; 1.7.36\n|    +--- org.projectlombok:lombok:1.18.20 -&gt; 1.18.22\n|    +--- org.springframework:spring-core:5.3.22 -&gt; 5.3.25 (*)\n+--- project :secondProject\n|    +--- org.slf4j:slf4j-api:1.7.30 -&gt; 1.7.36\n|    +--- org.springframework.kafka:spring-kafka:2.8.6 (*)\n|    +--- org.mapstruct:mapstruct:1.4.2.Final\n|    \\--- org.mapstruct:mapstruct-processor:1.4.2.Final\n+--- project :thirdProject\n|    +--- … e.t.c\n</code></pre>\n<p>I'm interesting in only see &quot;project :&quot; in output recursively in depth:</p>\n<pre><code>+--- project :firstProject\n|    +--- project :anyProject\n+--- project :secondProject\n+--- project :thirdProject\n</code></pre>\n<p>Probably exclude by pattern or smth same?</p>\n<p>These deps add such way:</p>\n<pre><code>dependencies {\n    implementation(\n            project(&quot;:firstProject&quot;),\n            project(&quot;:secondProject&quot;),\n            project(&quot;:thirdProject&quot;),\n    )\n    \n    implementation(&quot;org.postgresql:postgresql:3.2.2&quot;)\n    //…\n}\n</code></pre>\n"},{"tags":["java","compilation","classpath"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1686640793,"post_id":76454348,"comment_id":134822899,"body_markdown":"I think the duplicate question definitely answers your question, namely that it is not supported. Did you not see this part of the accepted answer to the duplicate question? _You are trying to call the Java compiler from source directly with its Java API. This source code does not contain the wildcard expansion._","body":"I think the duplicate question definitely answers your question, namely that it is not supported. Did you not see this part of the accepted answer to the duplicate question? <i>You are trying to call the Java compiler from source directly with its Java API. This source code does not contain the wildcard expansion.</i>"},{"owner":{"account_id":465422,"reputation":3287,"user_id":869488,"accept_rate":32,"display_name":"rajesh"},"score":0,"creation_date":1686816969,"post_id":76454348,"comment_id":134852198,"body_markdown":"@Abra Thanks for pointing this out. I had indeed missed that part where it gets called out. I have asked to close this question again.","body":"@Abra Thanks for pointing this out. I had indeed missed that part where it gets called out. I have asked to close this question again."}],"owner":{"account_id":465422,"reputation":3287,"user_id":869488,"accept_rate":32,"display_name":"rajesh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1686817160,"answer_count":0,"score":0,"last_activity_date":1686791673,"creation_date":1686554314,"question_id":76454348,"body_markdown":"I have a program that compiles a Java class. \r\n\r\n    JavaCompiler.CompilationTask compilationTask = compiler.getTask(null, fileManager, diagListener, compilerOptions, null, Arrays.asList(compilationUnit));\r\n    compilationTask.call;\r\n\r\nIn compilerOptions, classpath is being set with -classpath \r\n\r\nI need to modify this by adding wildchar in the classpath so that it will add all jar files from the directory.\r\n\r\nI tried the following values for being used for the -classpath flag, but all fails.\r\n\r\n    &quot;one.jar:two.jar:/data/third_party/*:&quot; \r\n    &quot;one.jar:two.jar:/data/third_party/*&quot; \r\n    &quot;\\&quot;one.jar:two.jar:/data/third_party/*\\&quot;&quot;\r\n\r\nIs there a way to make this work?\r\n\r\nEdit: This is not about the options we set from the command line. I am aware of existing questions on that. \r\n\r\n","title":"Setting Java classpath with wildchar when programmatically compiling the class file","body":"<p>I have a program that compiles a Java class.</p>\n<pre><code>JavaCompiler.CompilationTask compilationTask = compiler.getTask(null, fileManager, diagListener, compilerOptions, null, Arrays.asList(compilationUnit));\ncompilationTask.call;\n</code></pre>\n<p>In compilerOptions, classpath is being set with -classpath</p>\n<p>I need to modify this by adding wildchar in the classpath so that it will add all jar files from the directory.</p>\n<p>I tried the following values for being used for the -classpath flag, but all fails.</p>\n<pre><code>&quot;one.jar:two.jar:/data/third_party/*:&quot; \n&quot;one.jar:two.jar:/data/third_party/*&quot; \n&quot;\\&quot;one.jar:two.jar:/data/third_party/*\\&quot;&quot;\n</code></pre>\n<p>Is there a way to make this work?</p>\n<p>Edit: This is not about the options we set from the command line. I am aware of existing questions on that.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":229582,"reputation":39898,"user_id":492624,"accept_rate":97,"display_name":"Marek Sebera"},"score":1,"creation_date":1387210586,"post_id":20615448,"comment_id":30851254,"body_markdown":"Tried to use SparseBooleanArray? https://developer.android.com/reference/android/util/SparseBooleanArray.html","body":"Tried to use SparseBooleanArray? <a href=\"https://developer.android.com/reference/android/util/SparseBooleanArray.html\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/util/&hellip;</a>"},{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":2,"creation_date":1387210624,"post_id":20615448,"comment_id":30851294,"body_markdown":"What do you mean by initially setting all of them to `false`? ArrayList is empty initially when it is created. Your question would have made more sense had you been talking about arrays.","body":"What do you mean by initially setting all of them to <code>false</code>? ArrayList is empty initially when it is created. Your question would have made more sense had you been talking about arrays."},{"owner":{"account_id":3098283,"reputation":1481,"user_id":2623052,"accept_rate":45,"display_name":"Allan Macmillan"},"score":0,"creation_date":1387211320,"post_id":20615448,"comment_id":30851819,"body_markdown":"Well initially I know exactly how many to create, but they may be added to or removed so need to use an arraylist and cant use an array.","body":"Well initially I know exactly how many to create, but they may be added to or removed so need to use an arraylist and cant use an array."},{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":2,"creation_date":1387211419,"post_id":20615448,"comment_id":30851889,"body_markdown":"You might also consider `java.util.BitSet`","body":"You might also consider <code>java.util.BitSet</code>"}],"answers":[{"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":6,"creation_date":1387212565,"post_id":20615513,"comment_id":30852673,"body_markdown":"`new Boolean(true)` creates unnecessary objects. You should use `Boolean.TRUE` instead.","body":"<code>new Boolean(true)</code> creates unnecessary objects. You should use <code>Boolean.TRUE</code> instead."},{"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"score":0,"creation_date":1505362108,"post_id":20615513,"comment_id":79383779,"body_markdown":"`Boolean.TRUE` is unnecessary. Just use `true`","body":"<code>Boolean.TRUE</code> is unnecessary. Just use <code>true</code>"}],"tags":[],"owner":{"account_id":905416,"reputation":25876,"user_id":940428,"accept_rate":100,"display_name":"Prabhakaran Ramaswamy"},"comment_count":2,"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1437677180,"creation_date":1387210568,"answer_id":20615513,"question_id":20615448,"body_markdown":"Do like this\r\n\r\n    List&lt;Boolean&gt; list=new ArrayList&lt;Boolean&gt;(Arrays.asList(new Boolean[10]));\r\n    Collections.fill(list, Boolean.TRUE);\r\n\r\n","title":"Set all values of ArrayList&lt;Boolean&gt; to false on instantiation","body":"<p>Do like this</p>\n\n<pre><code>List&lt;Boolean&gt; list=new ArrayList&lt;Boolean&gt;(Arrays.asList(new Boolean[10]));\nCollections.fill(list, Boolean.TRUE);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8822894,"reputation":4923,"user_id":6592058,"accept_rate":86,"display_name":"seekingStillness"},"score":0,"creation_date":1560088757,"post_id":20615538,"comment_id":99616146,"body_markdown":"the boolean[] is a great suggestion and one I hadn&#39;t thought of.","body":"the boolean[] is a great suggestion and one I hadn&#39;t thought of."}],"tags":[],"owner":{"account_id":225067,"reputation":29525,"user_id":485337,"accept_rate":91,"display_name":"Adam Arold"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1387210637,"creation_date":1387210637,"answer_id":20615538,"question_id":20615448,"body_markdown":"You can use the `fill` method from `Collections`:\r\n\r\n    Collections.fill(list, Boolean.FALSE);\r\n\r\nAnother option might be using an array instead of a `List`:\r\n\r\n    boolean[] arr = new boolean[10];\r\n\r\nThis will auto-initialize to `false` since `boolean`&#39;s default value is `false`.","title":"Set all values of ArrayList&lt;Boolean&gt; to false on instantiation","body":"<p>You can use the <code>fill</code> method from <code>Collections</code>:</p>\n\n<pre><code>Collections.fill(list, Boolean.FALSE);\n</code></pre>\n\n<p>Another option might be using an array instead of a <code>List</code>:</p>\n\n<pre><code>boolean[] arr = new boolean[10];\n</code></pre>\n\n<p>This will auto-initialize to <code>false</code> since <code>boolean</code>'s default value is <code>false</code>.</p>\n"},{"tags":[],"owner":{"account_id":4181684,"reputation":2268,"user_id":3426524,"accept_rate":60,"display_name":"Gaurav Sarma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481924554,"creation_date":1481924554,"answer_id":41192832,"question_id":20615448,"body_markdown":"You could also use the following \r\n         \r\n    Arrays.fill(list, Boolean.FALSE);","title":"Set all values of ArrayList&lt;Boolean&gt; to false on instantiation","body":"<p>You could also use the following </p>\n\n<pre><code>Arrays.fill(list, Boolean.FALSE);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10528881,"reputation":1,"user_id":7758967,"display_name":"Dill"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490298784,"creation_date":1490298784,"answer_id":42985760,"question_id":20615448,"body_markdown":"    ArrayList&lt;Boolean&gt; list = new ArrayList&lt;Boolean&gt;(size);\r\n    list.addAll(Collections.nCopies(size, Boolean.FALSE));","title":"Set all values of ArrayList&lt;Boolean&gt; to false on instantiation","body":"<pre><code>ArrayList&lt;Boolean&gt; list = new ArrayList&lt;Boolean&gt;(size);\nlist.addAll(Collections.nCopies(size, Boolean.FALSE));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1505362132,"creation_date":1505362132,"answer_id":46210370,"question_id":20615448,"body_markdown":"Use `Collections.nCopies`:\r\n\r\n    List&lt;Boolean&gt; list = new ArrayList&lt;&gt;(Collections.nCopies(n, false));","title":"Set all values of ArrayList&lt;Boolean&gt; to false on instantiation","body":"<p>Use <code>Collections.nCopies</code>:</p>\n\n<pre><code>List&lt;Boolean&gt; list = new ArrayList&lt;&gt;(Collections.nCopies(n, false));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":28823866,"reputation":1,"user_id":22075743,"display_name":"user22075743"},"score":0,"creation_date":1686791379,"post_id":76478451,"comment_id":134849122,"body_markdown":"create array list as boolean data type i dont know why it is removed in my answer","body":"create array list as boolean data type i dont know why it is removed in my answer"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1686909391,"post_id":76478451,"comment_id":134866377,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76478451/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28823866,"reputation":1,"user_id":22075743,"display_name":"user22075743"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686791295,"creation_date":1686791295,"answer_id":76478451,"question_id":20615448,"body_markdown":"first of all we can create a boolean list by\r\nArrayList&lt;Boolean&gt;list=new ArrayList&lt;Boolean&gt;(size);\r\nthen u can add by if and else conditions whether it is true or not\r\nso\r\nlist.add(index position,element);\r\nas element should be of boolean data type u convert from string to boolean\r\ni.e.,\r\nlist.add(index position,Boolean.valueOf(element));\r\n","title":"Set all values of ArrayList&lt;Boolean&gt; to false on instantiation","body":"<p>first of all we can create a boolean list by\nArrayListlist=new ArrayList(size);\nthen u can add by if and else conditions whether it is true or not\nso\nlist.add(index position,element);\nas element should be of boolean data type u convert from string to boolean\ni.e.,\nlist.add(index position,Boolean.valueOf(element));</p>\n"}],"owner":{"account_id":3098283,"reputation":1481,"user_id":2623052,"accept_rate":45,"display_name":"Allan Macmillan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116513,"favorite_count":0,"down_vote_count":1,"up_vote_count":26,"accepted_answer_id":20615513,"answer_count":6,"score":25,"last_activity_date":1686791295,"creation_date":1387210369,"question_id":20615448,"body_markdown":"Is there an ease way to create an `ArrayList&lt;Boolean&gt;` using Java and have them initially all set to false without looping through and assigning each to false?\r\n\r\n","title":"Set all values of ArrayList&lt;Boolean&gt; to false on instantiation","body":"<p>Is there an ease way to create an <code>ArrayList&lt;Boolean&gt;</code> using Java and have them initially all set to false without looping through and assigning each to false?</p>\n"},{"tags":["java","spring","gradle","tomcat"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686821408,"post_id":76478449,"comment_id":134853145,"body_markdown":"And you left out **which version** of spring boot you are using. If you are using 3+ yo must use Tomcat 10.x, anything lower should work. Judging from the error you get you are using 3+. But why even deploy instead of using the embedded container. Finally `Built app as Gradle war`? What do you mean with that last part? Spring Boot should build the war through the proper plugin.","body":"And you left out <b>which version</b> of spring boot you are using. If you are using 3+ yo must use Tomcat 10.x, anything lower should work. Judging from the error you get you are using 3+. But why even deploy instead of using the embedded container. Finally <code>Built app as Gradle war</code>? What do you mean with that last part? Spring Boot should build the war through the proper plugin."},{"owner":{"account_id":8046375,"reputation":174,"user_id":6066477,"display_name":"Salvatore Maruccio"},"score":0,"creation_date":1686821941,"post_id":76478449,"comment_id":134853263,"body_markdown":"@M.Deinum I&#39;m using Spring 3.0.5. Yes i built the .war through the gradle plugin, and i need to deploy it on an external tomcat test server. So with Spring 3.x.x. I need Tomcat 10?","body":"@M.Deinum I&#39;m using Spring 3.0.5. Yes i built the .war through the gradle plugin, and i need to deploy it on an external tomcat test server. So with Spring 3.x.x. I need Tomcat 10?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1686822044,"post_id":76478449,"comment_id":134853292,"body_markdown":"You are using Spring Boot (which uses Spring 6.0) 3.0. Yes minimum requirement is Java17 and Tomcat 10. Simply because Spring Boot 3.x is for JakartaEE and not JavaEE.","body":"You are using Spring Boot (which uses Spring 6.0) 3.0. Yes minimum requirement is Java17 and Tomcat 10. Simply because Spring Boot 3.x is for JakartaEE and not JavaEE."}],"owner":{"account_id":8046375,"reputation":174,"user_id":6066477,"display_name":"Salvatore Maruccio"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686791242,"creation_date":1686791242,"question_id":76478449,"body_markdown":"I am trying to deploy a Spring Boot Application on external Tomcat 8.5.73 but when i browse on my `localhost:8080/myApplicationName` i get *&quot;The requested resource is not available&quot;* error.\r\n\r\nI have successfully deployed my Angular Front-End (on `localhost:8080/myAngularApp`) and it works fine.\r\n\r\nThese are the step that I&#39;ve already followed:\r\n\r\n - Set JRE_HOME (jre1.8.0_51) and CATALINA_HOME variables correctly;\r\n - Set WAR packaging in Gradle;\r\n - Added `spring-boot-starter-tomcat` as provided in my Gradle dependencies;\r\n - Extended my application with `SpringBootServletInitializer` and overrided the method `SpringApplicationBuilder configure`;\r\n - Built app as `Gradle War`;\r\n - Added the .war file in /webapps tomcat&#39;s folder.\r\n\r\nWhen I launch `startup.bat` i get:\r\n\r\n    WARNING [localhost-startStop-1] org.apache.tomcat.util.descriptor.web.WebXml.setVersion Unknown version string [5.0]. Default version will be used.\r\n    INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [ .. \\tomcat\\webapps\\myApplicationName.war] has finished in [4,823] ms\r\n    INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;http-nio-8080&quot;]\r\n    INFO [main] org.apache.catalina.startup.Catalina.start Server startup in 10657 ms\r\n\r\nI&#39;ve also tried to set `java` instead of `jvm` on startup and shutdown properties in tomcat8w but i get the same error.\r\n\r\nI can see every deployed app on tomcat manager panel but it goes 404 every time except for my Frontend. \r\n\r\nI have sent the .war to one of my colleagues and it works fine on his machine, so I am 99% sure that the problem is somewhere in my tomcat config. Anyway the only difference between me and my colleague is that he can see the &quot;spring logo&quot; and spring logs on his tomcat log when he starts tomcat via startup.bat.","title":"Tomcat / Gradle Spring Application - The requested resource is not available","body":"<p>I am trying to deploy a Spring Boot Application on external Tomcat 8.5.73 but when i browse on my <code>localhost:8080/myApplicationName</code> i get <em>&quot;The requested resource is not available&quot;</em> error.</p>\n<p>I have successfully deployed my Angular Front-End (on <code>localhost:8080/myAngularApp</code>) and it works fine.</p>\n<p>These are the step that I've already followed:</p>\n<ul>\n<li>Set JRE_HOME (jre1.8.0_51) and CATALINA_HOME variables correctly;</li>\n<li>Set WAR packaging in Gradle;</li>\n<li>Added <code>spring-boot-starter-tomcat</code> as provided in my Gradle dependencies;</li>\n<li>Extended my application with <code>SpringBootServletInitializer</code> and overrided the method <code>SpringApplicationBuilder configure</code>;</li>\n<li>Built app as <code>Gradle War</code>;</li>\n<li>Added the .war file in /webapps tomcat's folder.</li>\n</ul>\n<p>When I launch <code>startup.bat</code> i get:</p>\n<pre><code>WARNING [localhost-startStop-1] org.apache.tomcat.util.descriptor.web.WebXml.setVersion Unknown version string [5.0]. Default version will be used.\nINFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [ .. \\tomcat\\webapps\\myApplicationName.war] has finished in [4,823] ms\nINFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;http-nio-8080&quot;]\nINFO [main] org.apache.catalina.startup.Catalina.start Server startup in 10657 ms\n</code></pre>\n<p>I've also tried to set <code>java</code> instead of <code>jvm</code> on startup and shutdown properties in tomcat8w but i get the same error.</p>\n<p>I can see every deployed app on tomcat manager panel but it goes 404 every time except for my Frontend.</p>\n<p>I have sent the .war to one of my colleagues and it works fine on his machine, so I am 99% sure that the problem is somewhere in my tomcat config. Anyway the only difference between me and my colleague is that he can see the &quot;spring logo&quot; and spring logs on his tomcat log when he starts tomcat via startup.bat.</p>\n"},{"tags":["java","lambda","java-8","java-stream"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":3,"creation_date":1497637331,"post_id":44595433,"comment_id":76179378,"body_markdown":"`put()` returns previous *value* by that name, which means `null` in your case. `put()` is not a [chaining method](https://en.wikipedia.org/wiki/Method_chaining).","body":"<code>put()</code> returns previous <i>value</i> by that name, which means <code>null</code> in your case. <code>put()</code> is not a <a href=\"https://en.wikipedia.org/wiki/Method_chaining\" rel=\"nofollow noreferrer\">chaining method</a>."}],"answers":[{"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":2,"creation_date":1497638149,"post_id":44595725,"comment_id":76179837,"body_markdown":"Raw `ArrayList` and `HashMap` are why the `stream()` pipeline didn&#39;t compile.","body":"Raw <code>ArrayList</code> and <code>HashMap</code> are why the <code>stream()</code> pipeline didn&#39;t compile."},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1497638639,"post_id":44595725,"comment_id":76180107,"body_markdown":"I assumed it had something to do with `JSONArray` extending a raw `ArrayList`, but I thought that after `.map (json-&gt;json.toString ())` the compiler could realize that the result must be a `Stream&lt;String&gt;`, regardless of the type of elements in the original raw `Stream`.","body":"I assumed it had something to do with <code>JSONArray</code> extending a raw <code>ArrayList</code>, but I thought that after <code>.map (json-&gt;json.toString ())</code> the compiler could realize that the result must be a <code>Stream&lt;String&gt;</code>, regardless of the type of elements in the original raw <code>Stream</code>."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":2,"creation_date":1497638773,"post_id":44595725,"comment_id":76180176,"body_markdown":"I guess it _could_, but `map` is erased immediately from its invocation on the raw `Stream`.","body":"I guess it <i>could</i>, but <code>map</code> is erased immediately from its invocation on the raw <code>Stream</code>."},{"owner":{"account_id":1305399,"reputation":599,"user_id":1254491,"display_name":"Athar"},"score":3,"creation_date":1507815222,"post_id":44595725,"comment_id":80368335,"body_markdown":"This wouldn&#39;t work with the org.json.jsonarray type unless you specifically cast from json-simple jsonarray.","body":"This wouldn&#39;t work with the org.json.jsonarray type unless you specifically cast from json-simple jsonarray."}],"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":4,"down_vote_count":5,"up_vote_count":9,"is_accepted":true,"score":4,"last_activity_date":1497637419,"creation_date":1497637419,"answer_id":44595725,"question_id":44595433,"body_markdown":"[JSONArray](http://juliusdavies.ca/json-simple-1.1.1-javadocs/org/json/simple/JSONArray.html) is a sub-class of `java.util.ArrayList` and [JSONObject](http://juliusdavies.ca/json-simple-1.1.1-javadocs/org/json/simple/JSONObject.html) is a sub-class of `java.util.HashMap`.\r\n\r\nTherefore, `new JSONObject().put(&quot;name&quot;, &quot;John&quot;)` returns the previous value  associated with the key (`null`), not the `JSONObject` instance. As a result, `null` is added to the `JSONArray`.\r\n\r\nThis, on the other hand, works:\r\n\r\n        JSONArray jsonArray = new JSONArray();\r\n        JSONObject j1 = new JSONObject();\r\n        j1.put (&quot;name&quot;, &quot;John&quot;);\r\n        JSONObject j2 = new JSONObject();\r\n        j2.put (&quot;name&quot;, &quot;David&quot;);\r\n        jsonArray.add(j1);\r\n        jsonArray.add(j2);\r\n        Stream&lt;String&gt; ss = jsonArray.stream().map (json-&gt;json.toString ());\r\n        List&lt;String&gt; list = ss.collect (Collectors.toList ());\r\n        System.out.println(list);\r\n\r\nFor some reason I had to split the stream pipeline into two steps, because otherwise the compiler doesn&#39;t recognize that `.collect (Collectors.toList())` returns a `List`.\r\n\r\nThe output is:\r\n\r\n    [{&quot;name&quot;:&quot;John&quot;}, {&quot;name&quot;:&quot;David&quot;}]","title":"Java 8: How to write lambda stream to work with JsonArray?","body":"<p><a href=\"http://juliusdavies.ca/json-simple-1.1.1-javadocs/org/json/simple/JSONArray.html\" rel=\"nofollow noreferrer\">JSONArray</a> is a sub-class of <code>java.util.ArrayList</code> and <a href=\"http://juliusdavies.ca/json-simple-1.1.1-javadocs/org/json/simple/JSONObject.html\" rel=\"nofollow noreferrer\">JSONObject</a> is a sub-class of <code>java.util.HashMap</code>.</p>\n\n<p>Therefore, <code>new JSONObject().put(\"name\", \"John\")</code> returns the previous value  associated with the key (<code>null</code>), not the <code>JSONObject</code> instance. As a result, <code>null</code> is added to the <code>JSONArray</code>.</p>\n\n<p>This, on the other hand, works:</p>\n\n<pre><code>    JSONArray jsonArray = new JSONArray();\n    JSONObject j1 = new JSONObject();\n    j1.put (\"name\", \"John\");\n    JSONObject j2 = new JSONObject();\n    j2.put (\"name\", \"David\");\n    jsonArray.add(j1);\n    jsonArray.add(j2);\n    Stream&lt;String&gt; ss = jsonArray.stream().map (json-&gt;json.toString ());\n    List&lt;String&gt; list = ss.collect (Collectors.toList ());\n    System.out.println(list);\n</code></pre>\n\n<p>For some reason I had to split the stream pipeline into two steps, because otherwise the compiler doesn't recognize that <code>.collect (Collectors.toList())</code> returns a <code>List</code>.</p>\n\n<p>The output is:</p>\n\n<pre><code>[{\"name\":\"John\"}, {\"name\":\"David\"}]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3055354,"reputation":537,"user_id":2589120,"display_name":"Ali Katkar"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1551468901,"creation_date":1536681137,"answer_id":52279820,"question_id":44595433,"body_markdown":"Yes, I recognized that result of put is being added to json array instead of json object. Should be like this. \r\n\r\n    private static JSONObject getJson(String key, String value){\r\n        JSONObject result = new JSONObject();\r\n        result.put(key, value);\r\n        return result;        \r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        JSONArray jsonArray = new JSONArray();\r\n        \r\n        jsonArray.add(getJson(&quot;name&quot;, &quot;John&quot;));\r\n        jsonArray.add(getJson(&quot;name&quot;, &quot;David&quot;));\r\n        \r\n        List list = (List) jsonArray.stream()\r\n                    .map(json -&gt; json.toString())\r\n                    .collect(Collectors.toList());\r\n        System.out.println(list);\r\n    }\r\nand output is now [{&quot;name&quot;:&quot;John&quot;}, {&quot;name&quot;:&quot;David&quot;}] like expected","title":"Java 8: How to write lambda stream to work with JsonArray?","body":"<p>Yes, I recognized that result of put is being added to json array instead of json object. Should be like this. </p>\n\n<pre><code>private static JSONObject getJson(String key, String value){\n    JSONObject result = new JSONObject();\n    result.put(key, value);\n    return result;        \n}\n\npublic static void main(String[] args) {\n    JSONArray jsonArray = new JSONArray();\n\n    jsonArray.add(getJson(\"name\", \"John\"));\n    jsonArray.add(getJson(\"name\", \"David\"));\n\n    List list = (List) jsonArray.stream()\n                .map(json -&gt; json.toString())\n                .collect(Collectors.toList());\n    System.out.println(list);\n}\n</code></pre>\n\n<p>and output is now [{\"name\":\"John\"}, {\"name\":\"David\"}] like expected</p>\n"},{"comments":[{"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"score":0,"creation_date":1587979659,"post_id":54260629,"comment_id":108712369,"body_markdown":"Method getJSONObject throws JSONException, thus the 3d line of your code is not valid because it should include a try-catch block.","body":"Method getJSONObject throws JSONException, thus the 3d line of your code is not valid because it should include a try-catch block."},{"owner":{"account_id":2295846,"reputation":824,"user_id":2017299,"accept_rate":80,"display_name":"Kris Swat"},"score":0,"creation_date":1611922754,"post_id":54260629,"comment_id":116611894,"body_markdown":"I used this solution and works. @George siggouroglou  can you recheck. your comment , it is misleading, even if it thorows , you write throwing function . AFAIK, I like this answer.","body":"I used this solution and works. @George siggouroglou  can you recheck. your comment , it is misleading, even if it thorows , you write throwing function . AFAIK, I like this answer."}],"tags":[],"owner":{"account_id":5332250,"reputation":339,"user_id":4252528,"display_name":"Adrian"},"comment_count":2,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1577982854,"creation_date":1547841351,"answer_id":54260629,"question_id":44595433,"body_markdown":"Try with IntStream.\r\n\r\n    List&lt;String&gt; jsonObject = IntStream\r\n     \t   .range(0,jsonArray.size())\r\n     \t   .mapToObj(i -&gt; jsonArray.getJSONObject(i))\r\n     \t   .collect(Collectors.toList());","title":"Java 8: How to write lambda stream to work with JsonArray?","body":"<p>Try with IntStream.</p>\n\n<pre><code>List&lt;String&gt; jsonObject = IntStream\n       .range(0,jsonArray.size())\n       .mapToObj(i -&gt; jsonArray.getJSONObject(i))\n       .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27532212,"reputation":1,"user_id":21010529,"display_name":"Mohammed Yaseen M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686791169,"creation_date":1686724897,"answer_id":76470755,"question_id":44595433,"body_markdown":"    import org.json.simple.JSONArray;\r\n    import org.json.simple.JSONObject;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            JSONArray jsonArray = new JSONArray();\r\n            jsonArray.add(new JSONObject().put(&quot;name&quot;, &quot;John&quot;));\r\n            jsonArray.add(new JSONObject().put(&quot;name&quot;, &quot;David&quot;));\r\n            List list = (List) jsonArray.stream().filter(Objects::nonNull).map(json -&gt; json.toString()).collect(Collectors.toList());\r\n            System.out.println(list);\r\n        }\r\n    }\r\n    \r\nI have added `filter(Objects::nonNull)`, you can try this instead.","title":"Java 8: How to write lambda stream to work with JsonArray?","body":"<pre><code>import org.json.simple.JSONArray;\nimport org.json.simple.JSONObject;\n\npublic class Main {\n    public static void main(String[] args) {\n        JSONArray jsonArray = new JSONArray();\n        jsonArray.add(new JSONObject().put(&quot;name&quot;, &quot;John&quot;));\n        jsonArray.add(new JSONObject().put(&quot;name&quot;, &quot;David&quot;));\n        List list = (List) jsonArray.stream().filter(Objects::nonNull).map(json -&gt; json.toString()).collect(Collectors.toList());\n        System.out.println(list);\n    }\n}\n</code></pre>\n<p>I have added <code>filter(Objects::nonNull)</code>, you can try this instead.</p>\n"}],"owner":{"account_id":7054874,"reputation":14072,"user_id":5402618,"accept_rate":45,"display_name":"CrazySynthax"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84384,"favorite_count":0,"down_vote_count":1,"up_vote_count":18,"accepted_answer_id":44595725,"answer_count":4,"score":17,"last_activity_date":1686791169,"creation_date":1497636253,"question_id":44595433,"body_markdown":"I&#39;m very new to Java 8 lambdas and stuff... I want to write a lambda function that takes a `JSONArray`, goes over its `JSONObject`s and creates a list of values of certain field. \r\n\r\nFor example, a function that takes the `JSONArray`: `[{name: &quot;John&quot;}, {name: &quot;David&quot;}]` and returns a list of `[&quot;John&quot;, &quot;David&quot;]`.\r\n\r\nI wrote the following code: \r\n\r\n    import org.json.simple.JSONArray;\r\n    import org.json.simple.JSONObject;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            JSONArray jsonArray = new JSONArray();\r\n            jsonArray.add(new JSONObject().put(&quot;name&quot;, &quot;John&quot;));\r\n            jsonArray.add(new JSONObject().put(&quot;name&quot;, &quot;David&quot;));\r\n            List list = (List) jsonArray.stream().map(json -&gt; json.toString()).collect(Collectors.toList());\r\n            System.out.println(list);\r\n        }\r\n    }\r\n\r\nHowever, I get an error: \r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n\r\nDO you know how to resolve it? \r\n","title":"Java 8: How to write lambda stream to work with JsonArray?","body":"<p>I'm very new to Java 8 lambdas and stuff... I want to write a lambda function that takes a <code>JSONArray</code>, goes over its <code>JSONObject</code>s and creates a list of values of certain field.</p>\n<p>For example, a function that takes the <code>JSONArray</code>: <code>[{name: &quot;John&quot;}, {name: &quot;David&quot;}]</code> and returns a list of <code>[&quot;John&quot;, &quot;David&quot;]</code>.</p>\n<p>I wrote the following code:</p>\n<pre><code>import org.json.simple.JSONArray;\nimport org.json.simple.JSONObject;\n\npublic class Main {\n    public static void main(String[] args) {\n        JSONArray jsonArray = new JSONArray();\n        jsonArray.add(new JSONObject().put(&quot;name&quot;, &quot;John&quot;));\n        jsonArray.add(new JSONObject().put(&quot;name&quot;, &quot;David&quot;));\n        List list = (List) jsonArray.stream().map(json -&gt; json.toString()).collect(Collectors.toList());\n        System.out.println(list);\n    }\n}\n</code></pre>\n<p>However, I get an error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.NullPointerException</p>\n</blockquote>\n<p>DO you know how to resolve it?</p>\n"},{"tags":["java","database","netbeans","get","null"],"comments":[{"owner":{"account_id":28815495,"reputation":9,"user_id":22069365,"display_name":"Ukantor"},"score":0,"creation_date":1686791378,"post_id":76478442,"comment_id":134849121,"body_markdown":"Sorry @ScaryWombat, I&#39;m new to programming, I just entered university, could you help me see what the error is in my code?","body":"Sorry @ScaryWombat, I&#39;m new to programming, I just entered university, could you help me see what the error is in my code?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1686801195,"post_id":76478442,"comment_id":134849956,"body_markdown":"`List.get(i)` uses `i` as an index. It is not going to return the element with that id. You need to learn to use the debugger to step through your program.","body":"<code>List.get(i)</code> uses <code>i</code> as an index. It is not going to return the element with that id. You need to learn to use the debugger to step through your program."},{"owner":{"account_id":28815495,"reputation":9,"user_id":22069365,"display_name":"Ukantor"},"score":0,"creation_date":1686802309,"post_id":76478442,"comment_id":134850062,"body_markdown":"@tgdavies Could you give me an example of a way that gives you the value of tipoUsuario either by means of this variable or the &quot;id_user&quot;? It&#39;s that I&#39;m new to programming and I can&#39;t think of a way to do it, when I return the method &quot;getTipoUsuario()&quot; it returned a null value.","body":"@tgdavies Could you give me an example of a way that gives you the value of tipoUsuario either by means of this variable or the &quot;id_user&quot;? It&#39;s that I&#39;m new to programming and I can&#39;t think of a way to do it, when I return the method &quot;getTipoUsuario()&quot; it returned a null value."},{"owner":{"account_id":468855,"reputation":5925,"user_id":875083,"display_name":"Joachim Rohde"},"score":3,"creation_date":1686815992,"post_id":76478442,"comment_id":134852038,"body_markdown":"Does this answer your question? [I want to give privileges to the users of my point of sale but I don&#39;t know how, any suggestions?](https://stackoverflow.com/questions/76470574/i-want-to-give-privileges-to-the-users-of-my-point-of-sale-but-i-dont-know-how)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/76470574/i-want-to-give-privileges-to-the-users-of-my-point-of-sale-but-i-dont-know-how\">I want to give privileges to the users of my point of sale but I don&#39;t know how, any suggestions?</a>"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1689058166,"post_id":76478442,"comment_id":135155353,"body_markdown":"This question is almost identical to one you created earlier: [I want to give privileges to the users of my point of sale but I don&#39;t know how, any suggestions?](https://stackoverflow.com/q/76470574/2985643). Since someone took the time to answer that question, and it preceded this one, please delete your question above. FYI, it is not appropriate to create two open questions on Stack Overflow that are identical for all practical purposes.","body":"This question is almost identical to one you created earlier: <a href=\"https://stackoverflow.com/q/76470574/2985643\">I want to give privileges to the users of my point of sale but I don&#39;t know how, any suggestions?</a>. Since someone took the time to answer that question, and it preceded this one, please delete your question above. FYI, it is not appropriate to create two open questions on Stack Overflow that are identical for all practical purposes."}],"owner":{"account_id":28815495,"reputation":9,"user_id":22069365,"display_name":"Ukantor"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1689109389,"answer_count":0,"score":0,"last_activity_date":1686791049,"creation_date":1686791049,"question_id":76478442,"body_markdown":"Good Afternoon!\r\n\r\nI have a problem, I have a system that is a point of sale made in netBeans, 2 users can register in my system: &quot;Administrador&quot; and &quot;Vendedor&quot;, there are several modules in the system, including the &quot;Inventario&quot; module that allows you to enter, modify, delete and search for articles in the database, the problem is that I want only the administrator to have permission to enter that module, and that the seller cannot access it.\r\n\r\nI had an idea that it was to put a code like this in the &quot;Inventario&quot; button method to prohibit it from entering but it didn&#39;t work for me, the code was like this:\r\n\r\n\r\n```\r\n//&quot;usu&quot; is the object of the &quot;Login&quot; class, which is where I declare the sets and gets of the user information, and &quot;admin&quot; is the name that is assigned to someone in the &quot;tipoUsuario&quot; variable when you register them as admin \r\n    String tUsuario=usu.getTipoUsuario();\r\n\r\n   \r\n    if(tUsuario.equals(&quot;admin&quot;))\r\n    {\r\n    LimpiarTable();\r\n    ListarArticulo();\r\n    jTabbedPane1.setSelectedIndex(1);\r\n    }\r\n```\r\n\r\nThe problem is that the code didn&#39;t work, and when printing what value the &quot;getTipoUsuario&quot; was taking, it told me that it was returning the value &quot;null&quot;. I know that the code is probably wrong and doesn&#39;t work since I&#39;m new to programming. Try another code that is the following, to try to take the value of the &quot;tipoUsuario&quot; variable through the &quot;id_usuario&quot; variable, the code is the following:\r\n\r\n\r\n```\r\n//&quot;login&quot; is the class where I have all the information of the users, the sets and gets, &quot;usuarios&quot; is the object of another class called &quot;loginDAO&quot; in which I have the method &quot;ListarUsuarios()&quot;\r\n\r\nList&lt;login&gt; ListarUsuario = usuarios.ListarUsuarios();\r\n   modelo = (DefaultTableModel) tablaUsuarios.getModel();\r\n    Object [] ob = new Object[4];\r\n    for(int i=0; i &lt; ListarUsuario.size();i++){\r\n        ob[0] = ListarUsuario.get(i).getId_usuario();\r\n        ob[1] = ListarUsuario.get(i).getTipoUsuario();\r\n        ob[2] = ListarUsuario.get(i).getNombre();\r\n        //ob[3] = ListarUsuario.get(i).getApellido_paterno();\r\n        //ob[4] = ListarUsuario.get(i).getApellido_materno();\r\n        ob[3] = ListarUsuario.get(i).getContrasena();\r\n        modelo.addRow(ob);\r\n    }\r\n        int tID  = usu.getId_usuario();\r\n    String tUsuario = ListarUsuario.get(tID).getTipoUsuario();//usu.getTipoUsuario();\r\n   \r\n    if(tUsuario.equals(&quot;admin&quot;))\r\n    {\r\n    LimpiarTable();\r\n    ListarArticulo();\r\n    jTabbedPane1.setSelectedIndex(1);\r\n    }\r\n```\r\n\r\nThe problem with the previous code is that when I gave print to the value of &quot;tUsuario&quot; it always gave me the typeUser of the first one in the list, not of the others.\r\n\r\nBelow I leave the code of the &quot;ListarUsuarios&quot; method that is in another class called &quot;LoginDAO&quot;:\r\n\r\n\r\n```\r\npublic List ListarUsuarios(){\r\n    List&lt;login&gt; ListaUsuarios = new ArrayList();\r\n    String sql = &quot;SELECT * FROM usuarios&quot;;\r\n    try{\r\n        con = cn.getConnection();\r\n        ps = con.prepareStatement(sql);\r\n        rs=ps.executeQuery();\r\n        while(rs.next()){\r\n            login ld = new login();\r\n            ld.setId_usuario(rs.getInt(&quot;id_usuario&quot;));\r\n            ld.setTipoUsuario(rs.getString(&quot;tipoUsuario&quot;));\r\n            ld.setNombre(rs.getString(&quot;nombre&quot;));\r\n            //ld.setApellido_paterno(rs.getString(&quot;apellido_paterno&quot;));\r\n            //ld.setApellido_materno(rs.getString(&quot;apellido_materno&quot;));\r\n            ld.setContrasena(rs.getString(&quot;contrasena&quot;));\r\n            ListaUsuarios.add(ld);\r\n        }\r\n    }catch(SQLException e){\r\n        System.out.println(e.toString());\r\n    }\r\n    return ListaUsuarios;\r\n}\r\n```\r\n\r\nAnd finally I leave you the code of the &quot;login&quot; class, which is where the sets and gets of the information of each user are located:\r\n\r\n\r\n```\r\npackage Modelo;\r\n//Constructor para varibles del Usario con getters y seters\r\npublic class login {\r\nprivate int id_usuario;\r\nprivate String nombre;\r\nprivate String apellido_paterno;\r\nprivate String apellido_materno;\r\nprivate String tipoUsuario;\r\nprivate String contrasena;\r\nprivate String correo;\r\nprivate int id_proveedor;\r\nprivate String nombre_proveedor;\r\nprivate String telefono_proveedor;\r\nprivate String direccion_proveedor;\r\nprivate String domicilio_proveedor;\r\nprivate String email_proveedor;\r\n\r\npublic login() {\r\n}\r\n\r\npublic String getDomicilio_proveedor() {\r\n    return domicilio_proveedor;\r\n}\r\n\r\npublic void setDomicilio_proveedor(String domicilio_proveedor) {\r\n    this.domicilio_proveedor = domicilio_proveedor;\r\n}\r\n\r\npublic login(int id_usuario, String nombre, String contrasena, String tipoUsuario, int id_proveedor,String nombre_proveedor,String telefono_proveedor,String direccion_proveedor,String email_proveedor) {\r\n    this.id_usuario = id_usuario;\r\n    this.nombre = nombre;\r\n    this.contrasena = contrasena;\r\n    this.apellido_paterno = apellido_paterno;\r\n    this.apellido_materno = apellido_materno;\r\n    this.tipoUsuario = tipoUsuario;\r\n    this.correo = correo;\r\n    this.id_proveedor = id_proveedor;\r\n    this.nombre_proveedor = nombre_proveedor;\r\n    this.telefono_proveedor = telefono_proveedor;\r\n    this.direccion_proveedor = direccion_proveedor;\r\n    this.email_proveedor = email_proveedor;\r\n}\r\n\r\npublic int getId_proveedor() {\r\n    return id_proveedor;\r\n}\r\n\r\npublic void setId_proveedor(int id_proveedor) {\r\n    this.id_proveedor = id_proveedor;\r\n}\r\n\r\n\r\n\r\npublic String getNombre_proveedor() {\r\n    return nombre_proveedor;\r\n}\r\n\r\npublic void setNombre_proveedor(String nombre_proveedor) {\r\n    this.nombre_proveedor = nombre_proveedor;\r\n}\r\n\r\npublic String getTelefono_proveedor() {\r\n    return telefono_proveedor;\r\n}\r\n\r\npublic void setTelefono_proveedor(String telefono_proveedor) {\r\n    this.telefono_proveedor = telefono_proveedor;\r\n}\r\n\r\npublic String getDireccion_proveedor() {\r\n    return direccion_proveedor;\r\n}\r\n\r\npublic void setDireccion_proveedor(String direccion_proveedor) {\r\n    this.direccion_proveedor = direccion_proveedor;\r\n}\r\n\r\npublic String getEmail_proveedor() {\r\n    return email_proveedor;\r\n}\r\n\r\npublic void setEmail_proveedor(String email_proveedor) {\r\n    this.email_proveedor = email_proveedor;\r\n}\r\n\r\npublic int getId_usuario() {\r\n    return id_usuario;\r\n}\r\n\r\npublic String getApellido_paterno() {\r\n    return apellido_paterno;\r\n}\r\n\r\npublic void setApellido_paterno(String apellido_paterno) {\r\n    this.apellido_paterno = apellido_paterno;\r\n}\r\n\r\npublic String getApellido_materno() {\r\n    return apellido_materno;\r\n}\r\n\r\npublic void setApellido_materno(String apellido_materno) {\r\n    this.apellido_materno = apellido_materno;\r\n}\r\n\r\npublic String getTipoUsuario() {\r\n    return tipoUsuario;\r\n}\r\n\r\npublic void setTipoUsuario(String tipoUsuario) {\r\n    this.tipoUsuario = tipoUsuario;\r\n}\r\n\r\npublic String getCorreo() {\r\n    return correo;\r\n}\r\n\r\npublic void setCorreo(String correo) {\r\n    this.correo = correo;\r\n}\r\n\r\npublic void setId_usuario(int id_usuario) {\r\n    this.id_usuario = id_usuario;\r\n}\r\n\r\npublic String getNombre() {\r\n    return nombre;\r\n}\r\n\r\npublic void setNombre(String nombre) {\r\n    this.nombre = nombre;\r\n}\r\n\r\npublic String getContrasena() {\r\n    return contrasena;\r\n}\r\n\r\npublic void setContrasena(String contrasena) {\r\n    this.contrasena = contrasena;\r\n}\r\n\r\n}\r\n```\r\n\r\nCould you tell me why my codes don&#39;t work or why the variable &quot;tUsuario&quot; returns &quot;null&quot;? Or if you see that my methods are wrong, could you leave me a method that works for that?\r\n\r\nThank you very much and have a nice afternoon!\r\n\r\n\r\nTry to solve with an &quot;if&quot; and retrieve the value of &quot;tipoUsuario&quot; to compare it with the string of &quot;admin&quot;, which is the value that takes &quot;tipoUsuarios&quot; when the user is administrator.","title":"Privileges to enter a system, does anyone know how to program them?","body":"<p>Good Afternoon!</p>\n<p>I have a problem, I have a system that is a point of sale made in netBeans, 2 users can register in my system: &quot;Administrador&quot; and &quot;Vendedor&quot;, there are several modules in the system, including the &quot;Inventario&quot; module that allows you to enter, modify, delete and search for articles in the database, the problem is that I want only the administrator to have permission to enter that module, and that the seller cannot access it.</p>\n<p>I had an idea that it was to put a code like this in the &quot;Inventario&quot; button method to prohibit it from entering but it didn't work for me, the code was like this:</p>\n<pre><code>//&quot;usu&quot; is the object of the &quot;Login&quot; class, which is where I declare the sets and gets of the user information, and &quot;admin&quot; is the name that is assigned to someone in the &quot;tipoUsuario&quot; variable when you register them as admin \n    String tUsuario=usu.getTipoUsuario();\n\n   \n    if(tUsuario.equals(&quot;admin&quot;))\n    {\n    LimpiarTable();\n    ListarArticulo();\n    jTabbedPane1.setSelectedIndex(1);\n    }\n</code></pre>\n<p>The problem is that the code didn't work, and when printing what value the &quot;getTipoUsuario&quot; was taking, it told me that it was returning the value &quot;null&quot;. I know that the code is probably wrong and doesn't work since I'm new to programming. Try another code that is the following, to try to take the value of the &quot;tipoUsuario&quot; variable through the &quot;id_usuario&quot; variable, the code is the following:</p>\n<pre><code>//&quot;login&quot; is the class where I have all the information of the users, the sets and gets, &quot;usuarios&quot; is the object of another class called &quot;loginDAO&quot; in which I have the method &quot;ListarUsuarios()&quot;\n\nList&lt;login&gt; ListarUsuario = usuarios.ListarUsuarios();\n   modelo = (DefaultTableModel) tablaUsuarios.getModel();\n    Object [] ob = new Object[4];\n    for(int i=0; i &lt; ListarUsuario.size();i++){\n        ob[0] = ListarUsuario.get(i).getId_usuario();\n        ob[1] = ListarUsuario.get(i).getTipoUsuario();\n        ob[2] = ListarUsuario.get(i).getNombre();\n        //ob[3] = ListarUsuario.get(i).getApellido_paterno();\n        //ob[4] = ListarUsuario.get(i).getApellido_materno();\n        ob[3] = ListarUsuario.get(i).getContrasena();\n        modelo.addRow(ob);\n    }\n        int tID  = usu.getId_usuario();\n    String tUsuario = ListarUsuario.get(tID).getTipoUsuario();//usu.getTipoUsuario();\n   \n    if(tUsuario.equals(&quot;admin&quot;))\n    {\n    LimpiarTable();\n    ListarArticulo();\n    jTabbedPane1.setSelectedIndex(1);\n    }\n</code></pre>\n<p>The problem with the previous code is that when I gave print to the value of &quot;tUsuario&quot; it always gave me the typeUser of the first one in the list, not of the others.</p>\n<p>Below I leave the code of the &quot;ListarUsuarios&quot; method that is in another class called &quot;LoginDAO&quot;:</p>\n<pre><code>public List ListarUsuarios(){\n    List&lt;login&gt; ListaUsuarios = new ArrayList();\n    String sql = &quot;SELECT * FROM usuarios&quot;;\n    try{\n        con = cn.getConnection();\n        ps = con.prepareStatement(sql);\n        rs=ps.executeQuery();\n        while(rs.next()){\n            login ld = new login();\n            ld.setId_usuario(rs.getInt(&quot;id_usuario&quot;));\n            ld.setTipoUsuario(rs.getString(&quot;tipoUsuario&quot;));\n            ld.setNombre(rs.getString(&quot;nombre&quot;));\n            //ld.setApellido_paterno(rs.getString(&quot;apellido_paterno&quot;));\n            //ld.setApellido_materno(rs.getString(&quot;apellido_materno&quot;));\n            ld.setContrasena(rs.getString(&quot;contrasena&quot;));\n            ListaUsuarios.add(ld);\n        }\n    }catch(SQLException e){\n        System.out.println(e.toString());\n    }\n    return ListaUsuarios;\n}\n</code></pre>\n<p>And finally I leave you the code of the &quot;login&quot; class, which is where the sets and gets of the information of each user are located:</p>\n<pre><code>package Modelo;\n//Constructor para varibles del Usario con getters y seters\npublic class login {\nprivate int id_usuario;\nprivate String nombre;\nprivate String apellido_paterno;\nprivate String apellido_materno;\nprivate String tipoUsuario;\nprivate String contrasena;\nprivate String correo;\nprivate int id_proveedor;\nprivate String nombre_proveedor;\nprivate String telefono_proveedor;\nprivate String direccion_proveedor;\nprivate String domicilio_proveedor;\nprivate String email_proveedor;\n\npublic login() {\n}\n\npublic String getDomicilio_proveedor() {\n    return domicilio_proveedor;\n}\n\npublic void setDomicilio_proveedor(String domicilio_proveedor) {\n    this.domicilio_proveedor = domicilio_proveedor;\n}\n\npublic login(int id_usuario, String nombre, String contrasena, String tipoUsuario, int id_proveedor,String nombre_proveedor,String telefono_proveedor,String direccion_proveedor,String email_proveedor) {\n    this.id_usuario = id_usuario;\n    this.nombre = nombre;\n    this.contrasena = contrasena;\n    this.apellido_paterno = apellido_paterno;\n    this.apellido_materno = apellido_materno;\n    this.tipoUsuario = tipoUsuario;\n    this.correo = correo;\n    this.id_proveedor = id_proveedor;\n    this.nombre_proveedor = nombre_proveedor;\n    this.telefono_proveedor = telefono_proveedor;\n    this.direccion_proveedor = direccion_proveedor;\n    this.email_proveedor = email_proveedor;\n}\n\npublic int getId_proveedor() {\n    return id_proveedor;\n}\n\npublic void setId_proveedor(int id_proveedor) {\n    this.id_proveedor = id_proveedor;\n}\n\n\n\npublic String getNombre_proveedor() {\n    return nombre_proveedor;\n}\n\npublic void setNombre_proveedor(String nombre_proveedor) {\n    this.nombre_proveedor = nombre_proveedor;\n}\n\npublic String getTelefono_proveedor() {\n    return telefono_proveedor;\n}\n\npublic void setTelefono_proveedor(String telefono_proveedor) {\n    this.telefono_proveedor = telefono_proveedor;\n}\n\npublic String getDireccion_proveedor() {\n    return direccion_proveedor;\n}\n\npublic void setDireccion_proveedor(String direccion_proveedor) {\n    this.direccion_proveedor = direccion_proveedor;\n}\n\npublic String getEmail_proveedor() {\n    return email_proveedor;\n}\n\npublic void setEmail_proveedor(String email_proveedor) {\n    this.email_proveedor = email_proveedor;\n}\n\npublic int getId_usuario() {\n    return id_usuario;\n}\n\npublic String getApellido_paterno() {\n    return apellido_paterno;\n}\n\npublic void setApellido_paterno(String apellido_paterno) {\n    this.apellido_paterno = apellido_paterno;\n}\n\npublic String getApellido_materno() {\n    return apellido_materno;\n}\n\npublic void setApellido_materno(String apellido_materno) {\n    this.apellido_materno = apellido_materno;\n}\n\npublic String getTipoUsuario() {\n    return tipoUsuario;\n}\n\npublic void setTipoUsuario(String tipoUsuario) {\n    this.tipoUsuario = tipoUsuario;\n}\n\npublic String getCorreo() {\n    return correo;\n}\n\npublic void setCorreo(String correo) {\n    this.correo = correo;\n}\n\npublic void setId_usuario(int id_usuario) {\n    this.id_usuario = id_usuario;\n}\n\npublic String getNombre() {\n    return nombre;\n}\n\npublic void setNombre(String nombre) {\n    this.nombre = nombre;\n}\n\npublic String getContrasena() {\n    return contrasena;\n}\n\npublic void setContrasena(String contrasena) {\n    this.contrasena = contrasena;\n}\n\n}\n</code></pre>\n<p>Could you tell me why my codes don't work or why the variable &quot;tUsuario&quot; returns &quot;null&quot;? Or if you see that my methods are wrong, could you leave me a method that works for that?</p>\n<p>Thank you very much and have a nice afternoon!</p>\n<p>Try to solve with an &quot;if&quot; and retrieve the value of &quot;tipoUsuario&quot; to compare it with the string of &quot;admin&quot;, which is the value that takes &quot;tipoUsuarios&quot; when the user is administrator.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":16255308,"reputation":401,"user_id":13695861,"display_name":"Marc Bannout"},"score":0,"creation_date":1686045251,"post_id":76336116,"comment_id":134742073,"body_markdown":"Could you show us your organizationRepository and identityRepository classes ?","body":"Could you show us your organizationRepository and identityRepository classes ?"},{"owner":{"account_id":26649762,"reputation":1,"user_id":20264243,"display_name":"Clark Harris"},"score":0,"creation_date":1686181564,"post_id":76336116,"comment_id":134765644,"body_markdown":"Added the two repos","body":"Added the two repos"}],"answers":[{"comments":[{"owner":{"account_id":26649762,"reputation":1,"user_id":20264243,"display_name":"Clark Harris"},"score":1,"creation_date":1686790666,"post_id":76430689,"comment_id":134849046,"body_markdown":"Thank you, I was able to get this to work and came to a new error involving my @MapsId fields in OrganizationMembership being named incorrectly which is now resolved.\n\nThe new issue however is a &quot;org.springframework.orm.jpa.JpaSystemException: null id generated&quot; error.\n\nI believe this is happening due to in my save method I am setting the membership to organization before saving the organization itself so there is no &quot;organizationId&quot; field on the membership that is trying to use persistence to save....","body":"Thank you, I was able to get this to work and came to a new error involving my @MapsId fields in OrganizationMembership being named incorrectly which is now resolved.  The new issue however is a &quot;org.springframework.orm.jpa.JpaSystemException: null id generated&quot; error.  I believe this is happening due to in my save method I am setting the membership to organization before saving the organization itself so there is no &quot;organizationId&quot; field on the membership that is trying to use persistence to save...."},{"owner":{"account_id":16255308,"reputation":401,"user_id":13695861,"display_name":"Marc Bannout"},"score":0,"creation_date":1687332927,"post_id":76430689,"comment_id":134920215,"body_markdown":"You could move your     \n\n\n`@ManyToOne @JoinColumn(name = &quot;organization_id&quot;) private Organization organization;`\n\n\nand \n\n\n`@ManyToOne @JoinColumn(name = &quot;user_id&quot;)\n private User user;` \n\n\nin your `OrganizationMembershipId` instead of `@Column(name = &quot;organization_id&quot;) Integer organizationId;` and `@Column(name = &quot;user_id&quot;) private Integer userId;`. Also try without using `@MapsId(&quot;...&quot;)`","body":"You could move your        <code>@ManyToOne @JoinColumn(name = &quot;organization_id&quot;) private Organization organization;</code>   and    <code>@ManyToOne @JoinColumn(name = &quot;user_id&quot;)  private User user;</code>    in your <code>OrganizationMembershipId</code> instead of <code>@Column(name = &quot;organization_id&quot;) Integer organizationId;</code> and <code>@Column(name = &quot;user_id&quot;) private Integer userId;</code>. Also try without using <code>@MapsId(&quot;...&quot;)</code>"},{"owner":{"account_id":26649762,"reputation":1,"user_id":20264243,"display_name":"Clark Harris"},"score":0,"creation_date":1687445294,"post_id":76430689,"comment_id":134940699,"body_markdown":"I removed the composite key ID generation and just turned it into generating a new PK(identity generation) on the OrganizationMembership class as a workaround instead of using a composite key. I will give this a try later to see if I can use it instead but moving apartments this weekend so won&#39;t get around to trying that for a few days(very busy)","body":"I removed the composite key ID generation and just turned it into generating a new PK(identity generation) on the OrganizationMembership class as a workaround instead of using a composite key. I will give this a try later to see if I can use it instead but moving apartments this weekend so won&#39;t get around to trying that for a few days(very busy)"}],"tags":[],"owner":{"account_id":16255308,"reputation":401,"user_id":13695861,"display_name":"Marc Bannout"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686218318,"creation_date":1686218318,"answer_id":76430689,"question_id":76336116,"body_markdown":"As can be seen in your repositories, you have specified your ID as an `Integer` but in your entities they are `int`. Try by changing your entity ids to `Integer`","title":"Spring Data JPA Error on One to Many join table","body":"<p>As can be seen in your repositories, you have specified your ID as an <code>Integer</code> but in your entities they are <code>int</code>. Try by changing your entity ids to <code>Integer</code></p>\n"}],"owner":{"account_id":26649762,"reputation":1,"user_id":20264243,"display_name":"Clark Harris"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686790846,"creation_date":1685047157,"question_id":76336116,"body_markdown":"Having a hard time getting this to work.\r\n\r\nI have three entities.\r\nUser / Organization / Membership\r\n\r\nMembership is a join table entity using a compound ID from userId and organizationId.... How do I save to this table using Spring JPA to show this relationship?\r\n\r\nCurrently I am getting this error\r\n `Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.orm.jpa.JpaSystemException: Could not set value of type [java.lang.Integer] : `com.reeftrader.Hades.OrganizationMembership.OrganizationMembershipId.organizationId` (setter)] with root cause\r\n\r\njava.lang.NullPointerException: Cannot invoke &quot;Object.getClass()&quot; because &quot;o&quot; is null`\r\n\r\nUser entity\r\n```\r\npackage com.reeftrader.Hades.user;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(\r\n            name = &quot;user_id&quot;,\r\n            updatable = false\r\n    )\r\n    private int userId;\r\n    @Column(\r\n            name = &quot;first_name&quot;,\r\n            nullable = false,\r\n            columnDefinition = &quot;varchar(100)&quot;\r\n    )\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;)\r\n    private List&lt;OrganizationMembership&gt; membership;\r\n\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinTable(name = &quot;user_identity&quot;,\r\n            joinColumns =\r\n                    { @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;user_id&quot;) },\r\n            inverseJoinColumns =\r\n                    { @JoinColumn(name = &quot;identity_id&quot;, referencedColumnName = &quot;identity_id&quot;) })\r\n    private Identity identity;\r\n\r\n```\r\nOrganization entity\r\n```\r\npublic class Organization {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(\r\n            name = &quot;organization_id&quot;,\r\n            updatable = false\r\n    )\r\n    private int organizationId;\r\n\r\n    @OneToMany(mappedBy = &quot;organization&quot;, cascade = CascadeType.PERSIST)\r\n    private List&lt;OrganizationMembership&gt; membership;\r\n\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinTable(name = &quot;organization_identity&quot;,\r\n            joinColumns =\r\n                    { @JoinColumn(name = &quot;organization_id&quot;, referencedColumnName = &quot;organization_id&quot;) },\r\n            inverseJoinColumns =\r\n                    { @JoinColumn(name = &quot;identity_id&quot;, referencedColumnName = &quot;identity_id&quot;) })\r\n    private Identity identity;\r\n}\r\n```\r\nMembership entity\r\n\r\n```\r\npublic class OrganizationMembership {\r\n\r\n    @EmbeddedId\r\n    OrganizationMembershipId organizationMembershipId;\r\n\r\n    @ManyToOne\r\n    @MapsId(&quot;organization_id&quot;)//Name comes from OrganizationMembershipId attribute\r\n    @JoinColumn(name = &quot;organization_id&quot;)\r\n    private Organization organization;\r\n\r\n    @ManyToOne\r\n    @MapsId(&quot;user_id&quot;)//Name comes from OrganizationMembershipId attribute\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    private User user;\r\n\r\n    @Column(name = &quot;membership_role&quot;)\r\n    @NonNull\r\n    private MembershipRole membershipRole;\r\n}\r\n```\r\nOrganizationMembershipID\r\n\r\n```\r\n@Data\r\n@Embeddable\r\npublic class OrganizationMembershipId implements Serializable {\r\n\r\n    @Column(name = &quot;organization_id&quot;)\r\n    private int organizationId;\r\n\r\n    @Column(name = &quot;user_id&quot;)\r\n    private int userId;\r\n}\r\n```\r\nService method to save(work in progress want to use hibernate persistence for the Identity save and membership save after creating an organization\r\n\r\n```\r\npublic Organization create(OrganizationRequest request) {\r\n        List&lt;OrganizationMembership&gt; membershipList = new ArrayList&lt;&gt;();\r\n        Organization organization = Organization.builder()\r\n                .organizationName(request.getOrganizationName())\r\n                .details(request.getDetails())\r\n                .establishedDate(request.getEstablishedDate())\r\n                .organizationType(request.getOrganizationType())\r\n                .membership(membershipList)\r\n                .build();\r\n\r\n        // build user to add to membership\r\n        User user = User.builder()\r\n                .userId(request.getUserId())\r\n                .build();\r\n\r\n        OrganizationMembership membership = OrganizationMembership.builder()\r\n                .user(user)\r\n                .organization(organization)\r\n                .membershipRole(MembershipRole.OWNER)\r\n                .build();\r\n        organization.getMembership().add(membership);\r\n        organizationRepository.save(organization);\r\n\r\n        // Create new identity for Organization\r\n        Identity identity = Identity.builder()\r\n                .organizationId(organization.getOrganizationId())\r\n                .identityType(IdentityType.ORGANIZATION)\r\n                .build();\r\n        identityRepository.save(identity);\r\n\r\n        return organization;\r\n    }\r\n```\r\nIdentity Repository\r\n```\r\npackage com.reeftrader.Hades.Identity;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport java.util.List;\r\n\r\n@Repository\r\npublic interface IdentityRepository extends JpaRepository&lt;Identity, Integer&gt; {\r\n\r\n    List&lt;Identity&gt; findByIdentityType(IdentityType identityType);\r\n}\r\n```\r\nOrganization Repository\r\n```\r\npackage com.reeftrader.Hades.organization;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport java.util.List;\r\n\r\n@Repository\r\npublic interface OrganizationRepository extends JpaRepository&lt;Organization, Integer&gt; {\r\n\r\n    List&lt;Organization&gt; findByOrganizationType(OrganizationType organizationType);\r\n}\r\n```","title":"Spring Data JPA Error on One to Many join table","body":"<p>Having a hard time getting this to work.</p>\n<p>I have three entities.\nUser / Organization / Membership</p>\n<p>Membership is a join table entity using a compound ID from userId and organizationId.... How do I save to this table using Spring JPA to show this relationship?</p>\n<p>Currently I am getting this error\n<code>Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.orm.jpa.JpaSystemException: Could not set value of type [java.lang.Integer] : </code>com.reeftrader.Hades.OrganizationMembership.OrganizationMembershipId.organizationId` (setter)] with root cause</p>\n<p>java.lang.NullPointerException: Cannot invoke &quot;Object.getClass()&quot; because &quot;o&quot; is null`</p>\n<p>User entity</p>\n<pre><code>package com.reeftrader.Hades.user;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(\n            name = &quot;user_id&quot;,\n            updatable = false\n    )\n    private int userId;\n    @Column(\n            name = &quot;first_name&quot;,\n            nullable = false,\n            columnDefinition = &quot;varchar(100)&quot;\n    )\n\n    @OneToMany(mappedBy = &quot;user&quot;)\n    private List&lt;OrganizationMembership&gt; membership;\n\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinTable(name = &quot;user_identity&quot;,\n            joinColumns =\n                    { @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;user_id&quot;) },\n            inverseJoinColumns =\n                    { @JoinColumn(name = &quot;identity_id&quot;, referencedColumnName = &quot;identity_id&quot;) })\n    private Identity identity;\n\n</code></pre>\n<p>Organization entity</p>\n<pre><code>public class Organization {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(\n            name = &quot;organization_id&quot;,\n            updatable = false\n    )\n    private int organizationId;\n\n    @OneToMany(mappedBy = &quot;organization&quot;, cascade = CascadeType.PERSIST)\n    private List&lt;OrganizationMembership&gt; membership;\n\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinTable(name = &quot;organization_identity&quot;,\n            joinColumns =\n                    { @JoinColumn(name = &quot;organization_id&quot;, referencedColumnName = &quot;organization_id&quot;) },\n            inverseJoinColumns =\n                    { @JoinColumn(name = &quot;identity_id&quot;, referencedColumnName = &quot;identity_id&quot;) })\n    private Identity identity;\n}\n</code></pre>\n<p>Membership entity</p>\n<pre><code>public class OrganizationMembership {\n\n    @EmbeddedId\n    OrganizationMembershipId organizationMembershipId;\n\n    @ManyToOne\n    @MapsId(&quot;organization_id&quot;)//Name comes from OrganizationMembershipId attribute\n    @JoinColumn(name = &quot;organization_id&quot;)\n    private Organization organization;\n\n    @ManyToOne\n    @MapsId(&quot;user_id&quot;)//Name comes from OrganizationMembershipId attribute\n    @JoinColumn(name = &quot;user_id&quot;)\n    private User user;\n\n    @Column(name = &quot;membership_role&quot;)\n    @NonNull\n    private MembershipRole membershipRole;\n}\n</code></pre>\n<p>OrganizationMembershipID</p>\n<pre><code>@Data\n@Embeddable\npublic class OrganizationMembershipId implements Serializable {\n\n    @Column(name = &quot;organization_id&quot;)\n    private int organizationId;\n\n    @Column(name = &quot;user_id&quot;)\n    private int userId;\n}\n</code></pre>\n<p>Service method to save(work in progress want to use hibernate persistence for the Identity save and membership save after creating an organization</p>\n<pre><code>public Organization create(OrganizationRequest request) {\n        List&lt;OrganizationMembership&gt; membershipList = new ArrayList&lt;&gt;();\n        Organization organization = Organization.builder()\n                .organizationName(request.getOrganizationName())\n                .details(request.getDetails())\n                .establishedDate(request.getEstablishedDate())\n                .organizationType(request.getOrganizationType())\n                .membership(membershipList)\n                .build();\n\n        // build user to add to membership\n        User user = User.builder()\n                .userId(request.getUserId())\n                .build();\n\n        OrganizationMembership membership = OrganizationMembership.builder()\n                .user(user)\n                .organization(organization)\n                .membershipRole(MembershipRole.OWNER)\n                .build();\n        organization.getMembership().add(membership);\n        organizationRepository.save(organization);\n\n        // Create new identity for Organization\n        Identity identity = Identity.builder()\n                .organizationId(organization.getOrganizationId())\n                .identityType(IdentityType.ORGANIZATION)\n                .build();\n        identityRepository.save(identity);\n\n        return organization;\n    }\n</code></pre>\n<p>Identity Repository</p>\n<pre><code>package com.reeftrader.Hades.Identity;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.List;\n\n@Repository\npublic interface IdentityRepository extends JpaRepository&lt;Identity, Integer&gt; {\n\n    List&lt;Identity&gt; findByIdentityType(IdentityType identityType);\n}\n</code></pre>\n<p>Organization Repository</p>\n<pre><code>package com.reeftrader.Hades.organization;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.List;\n\n@Repository\npublic interface OrganizationRepository extends JpaRepository&lt;Organization, Integer&gt; {\n\n    List&lt;Organization&gt; findByOrganizationType(OrganizationType organizationType);\n}\n</code></pre>\n"},{"tags":["java","oracle","jdbc","oracle10g","oracle11g"],"answers":[{"comments":[{"owner":{"account_id":6228,"reputation":228269,"user_id":10397,"display_name":"Justin Cave"},"score":2,"creation_date":1360794080,"post_id":14864190,"comment_id":20837480,"body_markdown":"It&#39;s not obvious to me that any of those solutions would both support returning a `CLOB` and not require the creation of any PL/SQL objects.  Which of the options on that page do you believe meet both criteria?","body":"It&#39;s not obvious to me that any of those solutions would both support returning a <code>CLOB</code> and not require the creation of any PL/SQL objects.  Which of the options on that page do you believe meet both criteria?"}],"tags":[],"owner":{"account_id":497155,"reputation":1862,"user_id":959296,"accept_rate":100,"display_name":"ivanatpr"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1360793521,"creation_date":1360793521,"answer_id":14864190,"question_id":14864055,"body_markdown":"&gt; I have seen the alternative example described here - http://www.oracle-base.com/articles/misc/string-aggregation-techniques.php but they all require the use of functions or procedure. \r\n\r\nNo they don&#39;t. Scroll down and you&#39;ll see several options that don&#39;t require pl/sql.","title":"Listagg function and ORA-01489: result of string concatenation is too long","body":"<blockquote>\n  <p>I have seen the alternative example described here - <a href=\"http://www.oracle-base.com/articles/misc/string-aggregation-techniques.php\" rel=\"nofollow\">http://www.oracle-base.com/articles/misc/string-aggregation-techniques.php</a> but they all require the use of functions or procedure. </p>\n</blockquote>\n\n<p>No they don't. Scroll down and you'll see several options that don't require pl/sql.</p>\n"},{"comments":[{"owner":{"account_id":101813,"reputation":15707,"user_id":273657,"accept_rate":89,"display_name":"ziggy"},"score":0,"creation_date":1360840744,"post_id":14864692,"comment_id":20852346,"body_markdown":"I tried the XML version and it is quite slow. Is it usually slower than pure sql?","body":"I tried the XML version and it is quite slow. Is it usually slower than pure sql?"},{"owner":{"account_id":101813,"reputation":15707,"user_id":273657,"accept_rate":89,"display_name":"ziggy"},"score":0,"creation_date":1360841157,"post_id":14864692,"comment_id":20852545,"body_markdown":"The original query using listagg takes 0.872 secs whilst the XML version takes 4.461 secs","body":"The original query using listagg takes 0.872 secs whilst the XML version takes 4.461 secs"},{"owner":{"account_id":1116895,"reputation":21689,"user_id":1106042,"display_name":"DazzaL"},"score":0,"creation_date":1360841843,"post_id":14864692,"comment_id":20852902,"body_markdown":"@ziggy it may be slower yeah as we are having to involve xml and also this is returning a clob which will have some overhead. also i assume your timings were on the same set where listagg didnt crash out :)","body":"@ziggy it may be slower yeah as we are having to involve xml and also this is returning a clob which will have some overhead. also i assume your timings were on the same set where listagg didnt crash out :)"},{"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"score":0,"creation_date":1451915234,"post_id":14864692,"comment_id":56930169,"body_markdown":"Please note that `xmlagg()` supports an `order by` clause: `xmlagg(xmlelement(e, ...) order by tm.product_id)`.","body":"Please note that <code>xmlagg()</code> supports an <code>order by</code> clause: <code>xmlagg(xmlelement(e, ...) order by tm.product_id)</code>."}],"tags":[],"owner":{"account_id":1116895,"reputation":21689,"user_id":1106042,"display_name":"DazzaL"},"comment_count":4,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1360795484,"creation_date":1360795484,"answer_id":14864692,"question_id":14864055,"body_markdown":"you can use xml functions to do it which return a CLOB. JDBC should be just fine with that.\r\n\r\n    select tm.product_id, \r\n           rtrim(extract(xmlagg(xmlelement(e, tm.book_id || &#39;(&#39; || tm.score || &#39;),&#39;)), \r\n                   &#39;/E/text()&#39;).getclobval(), &#39;,&#39;)\r\n      from tl_product_match tm\r\n     where tm.book_id is not null \r\n     group by tm.product_id;\r\n\r\neg: http://sqlfiddle.com/#!4/083a2/1","title":"Listagg function and ORA-01489: result of string concatenation is too long","body":"<p>you can use xml functions to do it which return a CLOB. JDBC should be just fine with that.</p>\n\n<pre><code>select tm.product_id, \n       rtrim(extract(xmlagg(xmlelement(e, tm.book_id || '(' || tm.score || '),')), \n               '/E/text()').getclobval(), ',')\n  from tl_product_match tm\n where tm.book_id is not null \n group by tm.product_id;\n</code></pre>\n\n<p>eg: <a href=\"http://sqlfiddle.com/#!4/083a2/1\">http://sqlfiddle.com/#!4/083a2/1</a></p>\n"},{"comments":[{"owner":{"account_id":4088752,"reputation":515,"user_id":3357358,"accept_rate":68,"display_name":"Prefijo Sustantivo"},"score":0,"creation_date":1518711231,"post_id":14882148,"comment_id":84626738,"body_markdown":"this is an awesome suggestion","body":"this is an awesome suggestion"}],"tags":[],"owner":{"account_id":254603,"reputation":15157,"user_id":534120,"display_name":"tbone"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1360868654,"creation_date":1360868654,"answer_id":14882148,"question_id":14864055,"body_markdown":"Why not use nested tables?\r\n\r\n    set echo on;\r\n    set display on;\r\n    set linesize 200;\r\n    \r\n    drop table testA;\r\n    create table testA\r\n    (\r\n    col1 number,\r\n    col2 varchar2(50)\r\n    );\r\n    \r\n    drop table testB;\r\n    create table testB\r\n    (\r\n    col1 number,\r\n    col2 varchar2(50)\r\n    );\r\n    \r\n    create or replace type t_vchar_tab as table of varchar2(50);\r\n    \r\n    insert into testA values (1,&#39;A&#39;);\r\n    insert into testA values (2,&#39;B&#39;);\r\n    \r\n    insert into testB values (1,&#39;X&#39;);\r\n    insert into testB values (1,&#39;Y&#39;);\r\n    insert into testB values (1,&#39;Z&#39;);\r\n    commit;\r\n    \r\n    -- select all related testB.col2 values in a nested table for each testA.col1 value\r\n    select a.col1, \r\n    cast(multiset(select b.col2 from testB b where b.col1 = a.col1 order by b.col2) as t_vchar_tab) as testB_vals\r\n    from testA a;\r\n    \r\n    -- test size &gt; 4000\r\n    insert into testB\r\n    select 2 as col1, substr((object_name || object_type), 1, 50) as col2\r\n    from all_objects;\r\n    commit;\r\n    \r\n    -- select all related testB.col2 values in a nested table for each testA.col1 value\r\n    select a.col1, \r\n    cast(multiset(select b.col2 from testB b where b.col1 = a.col1 order by b.col2) as t_vchar_tab) as testB_vals\r\n    from testA a;\r\n\r\nI&#39;m no java expert, but this has been around for some time and I&#39;m sure java can pull the values out of the nested table.  And, no need to tokenize some delimited string on the other end.\r\n\r\n","title":"Listagg function and ORA-01489: result of string concatenation is too long","body":"<p>Why not use nested tables?</p>\n\n<pre><code>set echo on;\nset display on;\nset linesize 200;\n\ndrop table testA;\ncreate table testA\n(\ncol1 number,\ncol2 varchar2(50)\n);\n\ndrop table testB;\ncreate table testB\n(\ncol1 number,\ncol2 varchar2(50)\n);\n\ncreate or replace type t_vchar_tab as table of varchar2(50);\n\ninsert into testA values (1,'A');\ninsert into testA values (2,'B');\n\ninsert into testB values (1,'X');\ninsert into testB values (1,'Y');\ninsert into testB values (1,'Z');\ncommit;\n\n-- select all related testB.col2 values in a nested table for each testA.col1 value\nselect a.col1, \ncast(multiset(select b.col2 from testB b where b.col1 = a.col1 order by b.col2) as t_vchar_tab) as testB_vals\nfrom testA a;\n\n-- test size &gt; 4000\ninsert into testB\nselect 2 as col1, substr((object_name || object_type), 1, 50) as col2\nfrom all_objects;\ncommit;\n\n-- select all related testB.col2 values in a nested table for each testA.col1 value\nselect a.col1, \ncast(multiset(select b.col2 from testB b where b.col1 = a.col1 order by b.col2) as t_vchar_tab) as testB_vals\nfrom testA a;\n</code></pre>\n\n<p>I'm no java expert, but this has been around for some time and I'm sure java can pull the values out of the nested table.  And, no need to tokenize some delimited string on the other end.</p>\n"},{"tags":[],"owner":{"account_id":177686,"reputation":35366,"user_id":409172,"accept_rate":50,"display_name":"Jon Heller"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686790318,"creation_date":1686790318,"answer_id":76478411,"question_id":14864055,"body_markdown":"If you only want the first 4,000 characters, the [`LISTAGG`](https://docs.oracle.com/en/database/oracle/oracle-database/19/sqlrf/LISTAGG.html#GUID-B6E50D8E-F467-425B-9436-F7F8BF38D466) function since version 12.2 has an option to easily truncate the overflowing data, add an elipsis, and then add the number of truncated values.\r\n\r\n```\r\nselect owner, listagg(object_name, &#39;,&#39; on overflow truncate) within group (order by object_name) names\r\nfrom all_objects\r\ngroup by owner\r\norder by owner;\r\n\r\nOWNER   NAMES\r\n-----  ------\r\nSYS    ACCESS$,ACLMV$,[hundreds of names here],ALL_GOLDENGATE_RULES,...(47742)\r\n```\r\n","title":"Listagg function and ORA-01489: result of string concatenation is too long","body":"<p>If you only want the first 4,000 characters, the <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/19/sqlrf/LISTAGG.html#GUID-B6E50D8E-F467-425B-9436-F7F8BF38D466\" rel=\"nofollow noreferrer\"><code>LISTAGG</code></a> function since version 12.2 has an option to easily truncate the overflowing data, add an elipsis, and then add the number of truncated values.</p>\n<pre><code>select owner, listagg(object_name, ',' on overflow truncate) within group (order by object_name) names\nfrom all_objects\ngroup by owner\norder by owner;\n\nOWNER   NAMES\n-----  ------\nSYS    ACCESS$,ACLMV$,[hundreds of names here],ALL_GOLDENGATE_RULES,...(47742)\n</code></pre>\n"}],"owner":{"account_id":101813,"reputation":15707,"user_id":273657,"accept_rate":89,"display_name":"ziggy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19817,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":4,"score":12,"last_activity_date":1686790318,"creation_date":1360793033,"question_id":14864055,"body_markdown":"When i run the following query:\r\n\r\n     Select\r\n      tm.product_id,\r\n      listagg(tm.book_id || &#39;(&#39; || tm.score || &#39;)&#39;,&#39;,&#39;)\r\n        within group (order by tm.product_id) as matches\r\n    from\r\n      tl_product_match tm \r\n    where\r\n      tm.book_id is not null \r\n    group by\r\n      tm.product_id\r\n\r\nOracle returns the following error:\r\n\r\n     ORA-01489: result of string concatenation is too long\r\n\r\nI know that the reason it is failing is that the listagg function is trying to concatenate a the values which are greater than 4000 characters which is not supported. \r\n\r\nI have seen the alternative example described here - http://www.oracle-base.com/articles/misc/string-aggregation-techniques.php but they all require the use of functions or procedure. \r\n\r\nIs there a solution that is pure SQL without having to call a function or stored procedure and being able to read the value using standard JDBC? \r\n\r\nThe other difficulty i have is that most string aggregation examples i have seen shows examples with how to read the value as is. In my example about i am modifying the value first (i.e. i am aggregating two columns). \r\n\r\n\r\n","title":"Listagg function and ORA-01489: result of string concatenation is too long","body":"<p>When i run the following query:</p>\n\n<pre><code> Select\n  tm.product_id,\n  listagg(tm.book_id || '(' || tm.score || ')',',')\n    within group (order by tm.product_id) as matches\nfrom\n  tl_product_match tm \nwhere\n  tm.book_id is not null \ngroup by\n  tm.product_id\n</code></pre>\n\n<p>Oracle returns the following error:</p>\n\n<pre><code> ORA-01489: result of string concatenation is too long\n</code></pre>\n\n<p>I know that the reason it is failing is that the listagg function is trying to concatenate a the values which are greater than 4000 characters which is not supported. </p>\n\n<p>I have seen the alternative example described here - <a href=\"http://www.oracle-base.com/articles/misc/string-aggregation-techniques.php\">http://www.oracle-base.com/articles/misc/string-aggregation-techniques.php</a> but they all require the use of functions or procedure. </p>\n\n<p>Is there a solution that is pure SQL without having to call a function or stored procedure and being able to read the value using standard JDBC? </p>\n\n<p>The other difficulty i have is that most string aggregation examples i have seen shows examples with how to read the value as is. In my example about i am modifying the value first (i.e. i am aggregating two columns). </p>\n"},{"tags":["java","android","xml"],"owner":{"account_id":20372882,"reputation":1,"user_id":15966469,"display_name":"Matheus Martin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686789849,"creation_date":1686314611,"question_id":76440378,"body_markdown":"The adjustPan helps a lot by raising the content present in the ScrollView, I&#39;m making a chat app and I want the messages to go up and the edittext to stay on top of the keyboard, but when I move the cursor through the EditText the entire layout goes down and the cursor is always stuck with the keyboard, I want to make the cursor move freely through the EditText without scrolling down the entire layout\r\n\r\n\r\n\r\n```\r\n&lt;android.support.v4.widget.NestedScrollView\r\n\t\tandroid:id=&quot;@+id/scroll&quot;\r\n\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\tandroid:layout_height=&quot;match_parent&quot;\r\n\t\tandroid:isScrollContainer=&quot;true&quot;\r\n\t\tandroid:fillViewport=&quot;true&quot;\r\n\t\tandroid:layout_above=&quot;@+id/above&quot;\r\n\t\tandroid:layout_weight=&quot;1.0&quot;&gt;\r\n\r\n\t\t&lt;LinearLayout\r\n\t\t\tandroid:id=&quot;@+id/mensagens&quot;\r\n\t\t\tandroid:orientation=&quot;vertical&quot;\r\n\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\tandroid:layout_height=&quot;match_parent&quot;\r\n\t\t\tandroid:background=&quot;@color/papel&quot;\r\n\t\t\tandroid:paddingBottom=&quot;5dp&quot;/&gt;\r\n\r\n\t&lt;/android.support.v4.widget.NestedScrollView&gt;\r\n\r\n\t&lt;LinearLayout\r\n\t\tandroid:id=&quot;@+id/above&quot;\r\n\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\tandroid:background=&quot;@color/papel&quot;\r\n\t\tandroid:paddingBottom=&quot;3dp&quot;&gt;\r\n\r\n\t\t&lt;LinearLayout\r\n\t\t\tandroid:orientation=&quot;horizontal&quot;\r\n\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\tandroid:background=&quot;@drawable/mensagem&quot;\r\n\t\t\tandroid:layout_marginLeft=&quot;20dp&quot;\r\n\t\t\tandroid:layout_marginRight=&quot;20dp&quot;\r\n\t\t\tandroid:paddingLeft=&quot;12dp&quot;\r\n\t\t\tandroid:gravity=&quot;center_vertical&quot;&gt;\r\n\r\n\t\t\t&lt;ImageView\r\n\t\t\t\tandroid:src=&quot;@drawable/icon_dimen_menu&quot;\r\n\t\t\t\tandroid:layout_width=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:id=&quot;@+id/comandos&quot;\r\n\t\t\t\tandroid:layout_gravity=&quot;center_vertical&quot;/&gt;\r\n\r\n\t\t\t\t&lt;EditText\r\n                      \r\n\t\t\t\t\tandroid:id=&quot;@+id/textoMensagem&quot;\r\n\t\t\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\t\t\tandroid:inputType=&quot;textMultiLine&quot;\r\n\t\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\t\tandroid:layout_alignParentBottom=&quot;true&quot;\r\n\t\t\t\t\tandroid:background=&quot;@drawable/campo_mensagem&quot;\r\n\t\t\t\t\tandroid:padding=&quot;10dp&quot;\r\n\t\t\t\t\tandroid:hint=&quot;Mensagem...&quot;\r\n\t\t\t\t\tandroid:scrollbars=&quot;vertical&quot;\r\n\t\t\t\t\tandroid:maxLines=&quot;4&quot;\r\n\t\t\t\t\tandroid:paddingLeft=&quot;5dp&quot;\r\n\t\t\t\t\tandroid:gravity=&quot;top|left&quot;\r\n\t\t\t\t\tandroid:layout_gravity=&quot;center_vertical|bottom&quot;\r\n\t\t\t\t\tandroid:fadeScrollbars=&quot;true&quot;\r\n\t\t\t\t\tandroid:minLines=&quot;1&quot;\r\n\t\t\t\t\tandroid:layout_weight=&quot;1.0&quot;\r\n\t\t\t\t\tandroid:isScrollContainer=&quot;false&quot;/&gt;\r\n\r\n\t\t\t&lt;LinearLayout\r\n\t\t\t\tandroid:id=&quot;@+id/enviarMensagem&quot;\r\n\t\t\t\tandroid:layout_width=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:layout_marginLeft=&quot;7dp&quot;&gt;\r\n\r\n\t\t\t\t&lt;ImageView\r\n\t\t\t\t\tandroid:src=&quot;@drawable/icon_dimen_enviar&quot;\r\n\t\t\t\t\tandroid:layout_width=&quot;wrap_content&quot;\r\n\t\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\t\tandroid:padding=&quot;13dp&quot;\r\n\t\t\t\t\tandroid:layout_gravity=&quot;center_vertical&quot;/&gt;\r\n\r\n\t\t\t&lt;/LinearLayout&gt;\r\n\r\n\t\t&lt;/LinearLayout&gt;\r\n\r\n\t&lt;/LinearLayout&gt;\r\n```\r\n\r\n(https://i.stack.imgur.com/vrJHn.jpg)","title":"Disable effect adjustPan in EditText","body":"<p>The adjustPan helps a lot by raising the content present in the ScrollView, I'm making a chat app and I want the messages to go up and the edittext to stay on top of the keyboard, but when I move the cursor through the EditText the entire layout goes down and the cursor is always stuck with the keyboard, I want to make the cursor move freely through the EditText without scrolling down the entire layout</p>\n<pre><code>&lt;android.support.v4.widget.NestedScrollView\n        android:id=&quot;@+id/scroll&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:isScrollContainer=&quot;true&quot;\n        android:fillViewport=&quot;true&quot;\n        android:layout_above=&quot;@+id/above&quot;\n        android:layout_weight=&quot;1.0&quot;&gt;\n\n        &lt;LinearLayout\n            android:id=&quot;@+id/mensagens&quot;\n            android:orientation=&quot;vertical&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:background=&quot;@color/papel&quot;\n            android:paddingBottom=&quot;5dp&quot;/&gt;\n\n    &lt;/android.support.v4.widget.NestedScrollView&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/above&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@color/papel&quot;\n        android:paddingBottom=&quot;3dp&quot;&gt;\n\n        &lt;LinearLayout\n            android:orientation=&quot;horizontal&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:background=&quot;@drawable/mensagem&quot;\n            android:layout_marginLeft=&quot;20dp&quot;\n            android:layout_marginRight=&quot;20dp&quot;\n            android:paddingLeft=&quot;12dp&quot;\n            android:gravity=&quot;center_vertical&quot;&gt;\n\n            &lt;ImageView\n                android:src=&quot;@drawable/icon_dimen_menu&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:id=&quot;@+id/comandos&quot;\n                android:layout_gravity=&quot;center_vertical&quot;/&gt;\n\n                &lt;EditText\n                      \n                    android:id=&quot;@+id/textoMensagem&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:inputType=&quot;textMultiLine&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_alignParentBottom=&quot;true&quot;\n                    android:background=&quot;@drawable/campo_mensagem&quot;\n                    android:padding=&quot;10dp&quot;\n                    android:hint=&quot;Mensagem...&quot;\n                    android:scrollbars=&quot;vertical&quot;\n                    android:maxLines=&quot;4&quot;\n                    android:paddingLeft=&quot;5dp&quot;\n                    android:gravity=&quot;top|left&quot;\n                    android:layout_gravity=&quot;center_vertical|bottom&quot;\n                    android:fadeScrollbars=&quot;true&quot;\n                    android:minLines=&quot;1&quot;\n                    android:layout_weight=&quot;1.0&quot;\n                    android:isScrollContainer=&quot;false&quot;/&gt;\n\n            &lt;LinearLayout\n                android:id=&quot;@+id/enviarMensagem&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginLeft=&quot;7dp&quot;&gt;\n\n                &lt;ImageView\n                    android:src=&quot;@drawable/icon_dimen_enviar&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:padding=&quot;13dp&quot;\n                    android:layout_gravity=&quot;center_vertical&quot;/&gt;\n\n            &lt;/LinearLayout&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/LinearLayout&gt;\n</code></pre>\n<p>(<a href=\"https://i.stack.imgur.com/vrJHn.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/vrJHn.jpg</a>)</p>\n"},{"tags":["java","action"],"owner":{"account_id":22725921,"reputation":1,"user_id":16889688,"display_name":"王兆斌"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686788264,"creation_date":1686788264,"question_id":76478332,"body_markdown":"445 CRITICAL 403 {&quot;message&quot;: &quot;Resource not accessible by integration&quot;, &quot;documentation_url&quot;: &quot;https://docs.github.com/rest/reference/repos#create-or-update-file-contents&quot;}\r\n\r\n[enter image description here](https://i.stack.imgur.com/flMG0.png)\r\n\r\nI want to be able to get useful solutions,Now seems to be a resource problems","title":"445 CRITICAL 403 {&quot;message&quot;: &quot;Resource not accessible by integration&quot;, } gernerate a error in action","body":"<p>445 CRITICAL 403 {&quot;message&quot;: &quot;Resource not accessible by integration&quot;, &quot;documentation_url&quot;: &quot;https://docs.github.com/rest/reference/repos#create-or-update-file-contents&quot;}</p>\n<p><a href=\"https://i.stack.imgur.com/flMG0.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I want to be able to get useful solutions,Now seems to be a resource problems</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1686746535,"post_id":76473700,"comment_id":134841218,"body_markdown":"calculate the date for two days ago, and compare it to the one you&#39;ve got","body":"calculate the date for two days ago, and compare it to the one you&#39;ve got"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1686746612,"post_id":76473700,"comment_id":134841239,"body_markdown":"&quot;but getting the exception&quot; - what exception? I would strongly advise you to separate the problem into two parts: parsing from text to appropriate types, and working with those appropriate types. Chances are only one of those parts is relevant to the question - so cut the other one out.","body":"&quot;but getting the exception&quot; - what exception? I would strongly advise you to separate the problem into two parts: parsing from text to appropriate types, and working with those appropriate types. Chances are only one of those parts is relevant to the question - so cut the other one out."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1686746613,"post_id":76473700,"comment_id":134841240,"body_markdown":"&quot;but getting the exception&quot; &lt;- What exception are you getting? The exception and the stacktrace is what will tell us and you what is wrong.","body":"&quot;but getting the exception&quot; &lt;- What exception are you getting? The exception and the stacktrace is what will tell us and you what is wrong."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1686746651,"post_id":76473700,"comment_id":134841247,"body_markdown":"posted code does not compile, ergo it is not the correct one - and I would check the posted time &#39;010&#39; seconds is not *usual* (and ISO8601 formatted date/times don&#39;t need a formatter - it is the default format) - **and** `SSS` is fraction of seconds (intentional?)","body":"posted code does not compile, ergo it is not the correct one - and I would check the posted time &#39;010&#39; seconds is not <i>usual</i> (and ISO8601 formatted date/times don&#39;t need a formatter - it is the default format) - <b>and</b> <code>SSS</code> is fraction of seconds (intentional?)"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1686747007,"post_id":76473700,"comment_id":134841327,"body_markdown":"**AND** the format `&quot;...MM- dd...&quot;` has an extra space that is missing in input (another copy&amp;paste error? What else should we expect is missing?)","body":"<b>AND</b> the format <code>&quot;...MM- dd...&quot;</code> has an extra space that is missing in input (another copy&amp;paste error? What else should we expect is missing?)"}],"answers":[{"comments":[{"owner":{"account_id":1096311,"reputation":2246,"user_id":1089841,"accept_rate":33,"display_name":"Girish"},"score":0,"creation_date":1686747697,"post_id":76473851,"comment_id":134841541,"body_markdown":"Right that&#39;s what the issue is seconds should be two digits but here there are three do we need to ignore first Zero","body":"Right that&#39;s what the issue is seconds should be two digits but here there are three do we need to ignore first Zero"},{"owner":{"account_id":8517137,"reputation":835,"user_id":6385232,"display_name":"geanakuch"},"score":0,"creation_date":1686747830,"post_id":76473851,"comment_id":134841573,"body_markdown":"If it&#39;s always a zero you could do  ```&quot;yyyy-MM-dd&#39;T&#39;HH:mm:&#39;0&#39;ss&#39;Z&#39;&quot;``` but I think it would be better to clean up your input date if possible.","body":"If it&#39;s always a zero you could do  <code>&quot;yyyy-MM-dd&#39;T&#39;HH:mm:&#39;0&#39;ss&#39;Z&#39;&quot;</code> but I think it would be better to clean up your input date if possible."}],"tags":[],"owner":{"account_id":8517137,"reputation":835,"user_id":6385232,"display_name":"geanakuch"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686747471,"creation_date":1686747471,"answer_id":76473851,"question_id":76473700,"body_markdown":"If you want to use ZonedDateTime you also have to specify a timezone. Easiest way would be to change your formatter to this:\r\n\r\n    DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;)withZone(ZoneId.systemDefault());\r\n\r\nAlso note that your pattern uses ```SSS``` which is milliseconds but I think you meant to use ```ss``` for seconds.\r\nUppercase S means milliseconds, lowercase s mean seconds. One is three digits the other is two.\r\n","title":"How to parse the date time and calculate if it is less than 2 days old from current date","body":"<p>If you want to use ZonedDateTime you also have to specify a timezone. Easiest way would be to change your formatter to this:</p>\n<pre><code>DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss'Z'&quot;)withZone(ZoneId.systemDefault());\n</code></pre>\n<p>Also note that your pattern uses <code>SSS</code> which is milliseconds but I think you meant to use <code>ss</code> for seconds.\nUppercase S means milliseconds, lowercase s mean seconds. One is three digits the other is two.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686787700,"creation_date":1686787700,"answer_id":76478306,"question_id":76473700,"body_markdown":"Firstly, the format does not conform to _[ISO 8601](https://en.wikipedia.org/wiki/ISO_8601)_.\r\n\r\nThere are three-digits in the _&quot;seconds&quot;_ field.  \r\nAnd, these are subsequently identified as a _&quot;milliseconds&quot;_ field&amp;mdash;uppercase _&quot;SSS&quot;_.\r\n\r\nThere does not appear to be any way to include a _&quot;wildcard&quot;_ within a parse pattern.  \r\nSo, you&#39;ll have to remove the extra digit.  \r\nThis could be either index 17, 18, or 19.\r\n\r\nYou can use the _[StringBuilder#deleteCharAt](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/StringBuilder.html#deleteCharAt(int))_ method.\r\n\r\n```java\r\nString givenDate = &quot;2023-06-12T10:49:010Z&quot;;\r\nStringBuilder string = new StringBuilder(givenDate);\r\ngivenDate = string.deleteCharAt(19).toString();\r\n```\r\n\r\nAdditionally, instead of typing out the pattern, you can use, _[DateTimeFormatter#ISO_DATE_TIME](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_DATE_TIME)_.\r\n\r\n```java\r\npublic boolean compareDates(){\r\n    String givenDate = &quot;2023-06-12T10:49:010Z&quot;;\r\n    StringBuilder string = new StringBuilder(givenDate);\r\n    givenDate = string.deleteCharAt(19).toString();\r\n    DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ISO_DATE_TIME;\r\n    ZonedDateTime givenDateTime = ZonedDateTime.parse(givenDate, dateTimeFormatter);\r\n    ZonedDateTime currentDateTime = ZonedDateTime.now();\r\n    long daysDiffernce = ChronoUnit.DAYS.between(currentDateTime, givenDateTime);\r\n    return daysDiffernce &lt; 2;\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\ntrue\r\n```","title":"How to parse the date time and calculate if it is less than 2 days old from current date","body":"<p>Firstly, the format does not conform to <em><a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a></em>.</p>\n<p>There are three-digits in the <em>&quot;seconds&quot;</em> field.<br />\nAnd, these are subsequently identified as a <em>&quot;milliseconds&quot;</em> field—uppercase <em>&quot;SSS&quot;</em>.</p>\n<p>There does not appear to be any way to include a <em>&quot;wildcard&quot;</em> within a parse pattern.<br />\nSo, you'll have to remove the extra digit.<br />\nThis could be either index 17, 18, or 19.</p>\n<p>You can use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/StringBuilder.html#deleteCharAt(int)\" rel=\"nofollow noreferrer\">StringBuilder#deleteCharAt</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String givenDate = &quot;2023-06-12T10:49:010Z&quot;;\nStringBuilder string = new StringBuilder(givenDate);\ngivenDate = string.deleteCharAt(19).toString();\n</code></pre>\n<p>Additionally, instead of typing out the pattern, you can use, <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_DATE_TIME\" rel=\"nofollow noreferrer\">DateTimeFormatter#ISO_DATE_TIME</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean compareDates(){\n    String givenDate = &quot;2023-06-12T10:49:010Z&quot;;\n    StringBuilder string = new StringBuilder(givenDate);\n    givenDate = string.deleteCharAt(19).toString();\n    DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ISO_DATE_TIME;\n    ZonedDateTime givenDateTime = ZonedDateTime.parse(givenDate, dateTimeFormatter);\n    ZonedDateTime currentDateTime = ZonedDateTime.now();\n    long daysDiffernce = ChronoUnit.DAYS.between(currentDateTime, givenDateTime);\n    return daysDiffernce &lt; 2;\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>true\n</code></pre>\n"}],"owner":{"account_id":1096311,"reputation":2246,"user_id":1089841,"accept_rate":33,"display_name":"Girish"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686787847,"creation_date":1686746450,"question_id":76473700,"body_markdown":"Tried something like below, but getting the exception \r\n\r\n```none\r\nText &#39;2023-06-12T10:49:010Z&#39; could not be parsed: Unable to obtain ZonedDateTime from TemporalAccessor: {HourOfDay=10, MinuteOfHour=49, NanoOfSecond=10000000},ISO resolved to 2023-06-12 of type java.time.format.Parsed\r\n```\r\n\r\n    public boolean compareDates(){\r\n        String givenDate = &quot;2023-06-12T10:49:010Z&quot;;\r\n        DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:SSS&#39;Z&#39;&quot;);\r\n        ZonedDateTime givenDateTime = ZonedDateTime.parse(givenDate, dateTimeFormatter);\r\n        ZonedDateTime currentDateTime = ZonedDateTime.now();\r\n        long daysDiffernce = ChronoUnit.DAYS.between(currentDateTime, givenDateTime);\r\n        return daysDiffernce &lt; 2;\r\n    }\r\nAny idea what&#39;s going wrong, is it something seconds is not correct means having three digits(010Z)","title":"How to parse the date time and calculate if it is less than 2 days old from current date","body":"<p>Tried something like below, but getting the exception</p>\n<pre class=\"lang-none prettyprint-override\"><code>Text '2023-06-12T10:49:010Z' could not be parsed: Unable to obtain ZonedDateTime from TemporalAccessor: {HourOfDay=10, MinuteOfHour=49, NanoOfSecond=10000000},ISO resolved to 2023-06-12 of type java.time.format.Parsed\n</code></pre>\n<pre><code>public boolean compareDates(){\n    String givenDate = &quot;2023-06-12T10:49:010Z&quot;;\n    DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:SSS'Z'&quot;);\n    ZonedDateTime givenDateTime = ZonedDateTime.parse(givenDate, dateTimeFormatter);\n    ZonedDateTime currentDateTime = ZonedDateTime.now();\n    long daysDiffernce = ChronoUnit.DAYS.between(currentDateTime, givenDateTime);\n    return daysDiffernce &lt; 2;\n}\n</code></pre>\n<p>Any idea what's going wrong, is it something seconds is not correct means having three digits(010Z)</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1686788453,"post_id":76478308,"comment_id":134848855,"body_markdown":"Do you want the ALL the text to be the same color or change the color of individual words/phrases?","body":"Do you want the ALL the text to be the same color or change the color of individual words/phrases?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1686788594,"post_id":76478308,"comment_id":134848866,"body_markdown":"I&#39;d start by looking at [`JTextArea#setForeground`](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JComponent.html#setForeground(java.awt.Color)) and [How to Use Text Areas](https://docs.oracle.com/javase/tutorial/uiswing/components/textarea.html). For something more richer (and therefore more complicated), I&#39;d have a look at [How to Use Editor Panes and Text Panes](https://docs.oracle.com/javase/tutorial/uiswing/components/editorpane.html)","body":"I&#39;d start by looking at <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JComponent.html#setForeground(java.awt.Color)\" rel=\"nofollow noreferrer\"><code>JTextArea#setForeground</code></a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/textarea.html\" rel=\"nofollow noreferrer\">How to Use Text Areas</a>. For something more richer (and therefore more complicated), I&#39;d have a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/editorpane.html\" rel=\"nofollow noreferrer\">How to Use Editor Panes and Text Panes</a>"}],"owner":{"account_id":28823550,"reputation":1,"user_id":22075507,"display_name":"Vin&#237;cius Andriolli Arndt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1686788646,"answer_count":0,"score":0,"last_activity_date":1686787802,"creation_date":1686787802,"question_id":76478308,"body_markdown":"```\r\n itemsTextArea.append(&quot;You pulled a 5-star item\\n&quot;);\r\n            pullsSinceLast4Star = 0;\r\n            pullsSinceLast5Star = 0;\r\n        } else if (randomNumber &lt;= 22) {\r\n            itemsTextArea.append(&quot;You pulled a 4-star item\\n&quot;);\r\n            pullsSinceLast4Star = 0;\r\n        } else {\r\n            itemsTextArea.append(&quot;You pulled a 3-star item\\n&quot;);\r\n        }\r\n```\r\n\r\ni want that the &quot;you pulled a 5-star item&quot; have a color just to him","title":"How can i make text have color in a Jpanel in JAVA","body":"<pre><code> itemsTextArea.append(&quot;You pulled a 5-star item\\n&quot;);\n            pullsSinceLast4Star = 0;\n            pullsSinceLast5Star = 0;\n        } else if (randomNumber &lt;= 22) {\n            itemsTextArea.append(&quot;You pulled a 4-star item\\n&quot;);\n            pullsSinceLast4Star = 0;\n        } else {\n            itemsTextArea.append(&quot;You pulled a 3-star item\\n&quot;);\n        }\n</code></pre>\n<p>i want that the &quot;you pulled a 5-star item&quot; have a color just to him</p>\n"},{"tags":["java","unit-testing","javafx-8"],"owner":{"account_id":17072486,"reputation":1,"user_id":12352883,"display_name":"Joe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686787547,"creation_date":1686787547,"question_id":76478298,"body_markdown":"I&#39;m a little new to java.\r\nI have a project that is 25% javafx GUI instantiation / GUI handling.\r\n\r\nI&#39;m attempting to reach project code coverage &gt;80%, but my untested GUI code is pulling it down.\r\nDo I need to test this code?\r\n\r\nI&#39;ve looked into using TestFx library, but struggling to find good teaching resources.\r\n","title":"Should javafx gui instantiation and gui handling code be unit tested","body":"<p>I'm a little new to java.\nI have a project that is 25% javafx GUI instantiation / GUI handling.</p>\n<p>I'm attempting to reach project code coverage &gt;80%, but my untested GUI code is pulling it down.\nDo I need to test this code?</p>\n<p>I've looked into using TestFx library, but struggling to find good teaching resources.</p>\n"},{"tags":["java","maven","mulesoft","anypoint-studio"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1682622356,"post_id":76123369,"comment_id":134249091,"body_markdown":"Please share the source for the Java function you are trying to use.","body":"Please share the source for the Java function you are trying to use."},{"owner":{"account_id":1668855,"reputation":14404,"user_id":2700303,"accept_rate":63,"display_name":"MiguelSlv"},"score":0,"creation_date":1682671040,"post_id":76123369,"comment_id":134255541,"body_markdown":"Just added MyUtills Class.","body":"Just added MyUtills Class."}],"owner":{"account_id":1668855,"reputation":14404,"user_id":2700303,"accept_rate":63,"display_name":"MiguelSlv"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686786331,"creation_date":1682618332,"question_id":76123369,"body_markdown":"I&#39;m trying to use a java library on my mule application. \r\nFollowing [this][1] tutorial, i successfully imported and invoked the extended StringUtils class in Datawave. But when i do the same for my own library, it fails.\r\n\r\nHere the steps o followed from the tutorial:\r\n\r\n1. Add the dependency to my `mylib` artifact:\r\n\r\n       &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.example.shared&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mylib&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t   &lt;/dependency&gt;\r\n\r\n2. configure the maven plugin to use the shared lib:\r\n\r\n      \t&lt;plugin&gt;\r\n\t\t  &lt;groupId&gt;org.mule.tools.maven&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;mule-maven-plugin&lt;/artifactId&gt;\r\n\t\t  &lt;version&gt;${mule.maven.plugin.version}&lt;/version&gt;\r\n\t\t  &lt;extensions&gt;true&lt;/extensions&gt;\r\n\r\n\t\t  &lt;configuration&gt;\r\n\t\t\t&lt;sharedLibraries&gt;\r\n\t\t\t\t&lt;sharedLibrary&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.example.shared&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;mylib&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/sharedLibrary&gt;\r\n\t\t\t&lt;/sharedLibraries&gt;\r\n\t\t &lt;/configuration&gt;\r\n\t   &lt;/plugin&gt;\r\n\r\n3. Add the package `com.example.shared` to the class loader:\r\n\r\n\r\n\t\t{\r\n\t\t  &quot;minMuleVersion&quot;: &quot;4.4.0&quot;,\r\n\t\t  &quot;classLoaderModelLoaderDescriptor&quot;: {\r\n\t\t\t\t&quot;id&quot;: &quot;mule&quot;,\r\n\t\t\t\t&quot;attributes&quot;: {\r\n\t\t\t\t\t&quot;exportedPackages&quot;: [\t\t\t\r\n\t\t\t\t\t &quot;com.example.shared&quot;\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n  \r\nYet, when i try to call it from `Datawave`, in the same way presented by the tutorial:\r\n\r\n    \r\n       \texample: java!com::example::shared::MyUtils::foo()\r\n\r\ni get:\r\n\r\n       Unable to resolve reference of: `com::example::shared::MyUtils::foo`. at 7 : 7&quot; evaluating expression: &quot;%dw 2.0\r\n\r\nNote: The `Anypoint Studio` shows an error in the `Datawave` preview window but it builds and runs successfully.\r\nThe same kind of error is present when using `StringUtills` from `common-lang3` library, that is used on the tutorial example.\r\n\r\nUpdate:\r\nHere is the java code:\r\n\r\n\tpackage com.example.shared;\r\n\r\n\tpublic class MyUtils {\r\n\r\n\t\tpublic static String foo() {\r\n\t\t\treturn &quot;I&#39;m here.&quot;;\r\n\t\t}\r\n\t}\r\n\r\n  [1]: https://mulesy.com/external-jar-class-in-dataweave/","title":"Unable to use external java JAR library into mulesoft datawave","body":"<p>I'm trying to use a java library on my mule application.\nFollowing <a href=\"https://mulesy.com/external-jar-class-in-dataweave/\" rel=\"nofollow noreferrer\">this</a> tutorial, i successfully imported and invoked the extended StringUtils class in Datawave. But when i do the same for my own library, it fails.</p>\n<p>Here the steps o followed from the tutorial:</p>\n<ol>\n<li><p>Add the dependency to my <code>mylib</code> artifact:</p>\n<pre><code>&lt;dependency&gt;\n     &lt;groupId&gt;com.example.shared&lt;/groupId&gt;\n     &lt;artifactId&gt;mylib&lt;/artifactId&gt;\n     &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n</li>\n<li><p>configure the maven plugin to use the shared lib:</p>\n<pre><code> &lt;plugin&gt;\n   &lt;groupId&gt;org.mule.tools.maven&lt;/groupId&gt;\n   &lt;artifactId&gt;mule-maven-plugin&lt;/artifactId&gt;\n   &lt;version&gt;${mule.maven.plugin.version}&lt;/version&gt;\n   &lt;extensions&gt;true&lt;/extensions&gt;\n\n   &lt;configuration&gt;\n     &lt;sharedLibraries&gt;\n         &lt;sharedLibrary&gt;\n             &lt;groupId&gt;com.example.shared&lt;/groupId&gt;\n             &lt;artifactId&gt;mylib&lt;/artifactId&gt;\n         &lt;/sharedLibrary&gt;\n     &lt;/sharedLibraries&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n</li>\n<li><p>Add the package <code>com.example.shared</code> to the class loader:</p>\n<pre><code> {\n   &quot;minMuleVersion&quot;: &quot;4.4.0&quot;,\n   &quot;classLoaderModelLoaderDescriptor&quot;: {\n         &quot;id&quot;: &quot;mule&quot;,\n         &quot;attributes&quot;: {\n             &quot;exportedPackages&quot;: [           \n              &quot;com.example.shared&quot;\n             ]\n         }\n     }\n }\n</code></pre>\n</li>\n</ol>\n<p>Yet, when i try to call it from <code>Datawave</code>, in the same way presented by the tutorial:</p>\n<pre><code>    example: java!com::example::shared::MyUtils::foo()\n</code></pre>\n<p>i get:</p>\n<pre><code>   Unable to resolve reference of: `com::example::shared::MyUtils::foo`. at 7 : 7&quot; evaluating expression: &quot;%dw 2.0\n</code></pre>\n<p>Note: The <code>Anypoint Studio</code> shows an error in the <code>Datawave</code> preview window but it builds and runs successfully.\nThe same kind of error is present when using <code>StringUtills</code> from <code>common-lang3</code> library, that is used on the tutorial example.</p>\n<p>Update:\nHere is the java code:</p>\n<pre><code>package com.example.shared;\n\npublic class MyUtils {\n\n    public static String foo() {\n        return &quot;I'm here.&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1630134638,"post_id":68961647,"comment_id":121877315,"body_markdown":"You didn&#39;t include the one specific class where the NPE is, but most likely the problem is that it&#39;s not a Spring bean. Avoid `@Autowired` fields; generally replace them with constructors or (in the case of `@Bean` methods) parameters.","body":"You didn&#39;t include the one specific class where the NPE is, but most likely the problem is that it&#39;s not a Spring bean. Avoid <code>@Autowired</code> fields; generally replace them with constructors or (in the case of <code>@Bean</code> methods) parameters."},{"owner":{"account_id":21111045,"reputation":11,"user_id":15518999,"display_name":"gufran tech"},"score":0,"creation_date":1630135760,"post_id":68961647,"comment_id":121877512,"body_markdown":"thankx for your reply but i am not getting your answer properly can u explain it thanks a lot","body":"thankx for your reply but i am not getting your answer properly can u explain it thanks a lot"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1630258720,"post_id":68961647,"comment_id":121901991,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":22872215,"reputation":1,"user_id":17015083,"display_name":"Milind"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632738095,"creation_date":1632738095,"answer_id":69345000,"question_id":68961647,"body_markdown":"Please make LineMapper method as public and add @Bean annotation. Also add @Bean annotation above the JdbcBatchItemWriter method.\r\n\r\n    @Bean\r\n    public LineMapper&lt;User&gt; getlineMapper() {\r\n            DefaultLineMapper&lt;User&gt; lineMapper = new DefaultLineMapper&lt;&gt;();\r\n            DelimitedLineTokenizer lineTokenizer = new DelimitedLineTokenizer();\r\n            lineTokenizer.setNames(new String[] { &quot;Emp ID&quot;, &quot;Name Prefix&quot;, &quot;First Name&quot;, &quot;Last Name&quot; });\r\n            lineTokenizer.setIncludedFields(new int[] { 0, 1, 2, 4 });\r\n            BeanWrapperFieldSetMapper&lt;User&gt; fieldSetMapper = new BeanWrapperFieldSetMapper&lt;&gt;();\r\n            fieldSetMapper.setTargetType(User.class);\r\n            lineMapper.setLineTokenizer(lineTokenizer);\r\n            lineMapper.setFieldSetMapper(fieldSetMapper);\r\n            return lineMapper;\r\n        }\r\n    \r\n    @Bean\r\n    public JdbcBatchItemWriter&lt;User&gt; writer() {\r\n            JdbcBatchItemWriter&lt;User&gt; writer = new JdbcBatchItemWriter&lt;&gt;();\r\n            writer.setItemSqlParameterSourceProvider(new BeanPropertyItemSqlParameterSourceProvider&lt;User&gt;());\r\n            writer.setSql(\r\n                    &quot;insert into user(userId,namePrefix,firstName,lastName) values (:userId, :namePrefix, :firstName, :lastName)&quot;);\r\n            writer.setDataSource(this.dataSource);\r\n            return writer;\r\n        }\r\n\r\n  \r\n","title":"getting null pointer exception sending data to db using spring batch and csv file format","body":"<p>Please make LineMapper method as public and add @Bean annotation. Also add @Bean annotation above the JdbcBatchItemWriter method.</p>\n<pre><code>@Bean\npublic LineMapper&lt;User&gt; getlineMapper() {\n        DefaultLineMapper&lt;User&gt; lineMapper = new DefaultLineMapper&lt;&gt;();\n        DelimitedLineTokenizer lineTokenizer = new DelimitedLineTokenizer();\n        lineTokenizer.setNames(new String[] { &quot;Emp ID&quot;, &quot;Name Prefix&quot;, &quot;First Name&quot;, &quot;Last Name&quot; });\n        lineTokenizer.setIncludedFields(new int[] { 0, 1, 2, 4 });\n        BeanWrapperFieldSetMapper&lt;User&gt; fieldSetMapper = new BeanWrapperFieldSetMapper&lt;&gt;();\n        fieldSetMapper.setTargetType(User.class);\n        lineMapper.setLineTokenizer(lineTokenizer);\n        lineMapper.setFieldSetMapper(fieldSetMapper);\n        return lineMapper;\n    }\n\n@Bean\npublic JdbcBatchItemWriter&lt;User&gt; writer() {\n        JdbcBatchItemWriter&lt;User&gt; writer = new JdbcBatchItemWriter&lt;&gt;();\n        writer.setItemSqlParameterSourceProvider(new BeanPropertyItemSqlParameterSourceProvider&lt;User&gt;());\n        writer.setSql(\n                &quot;insert into user(userId,namePrefix,firstName,lastName) values (:userId, :namePrefix, :firstName, :lastName)&quot;);\n        writer.setDataSource(this.dataSource);\n        return writer;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15974771,"reputation":1023,"user_id":11527968,"display_name":"Jimmy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632759566,"creation_date":1632743724,"answer_id":69346142,"question_id":68961647,"body_markdown":"For simplicity use a separate temp user class as **UserInput** for reading the data and one entity class which represent in table e.i **User* entity\r\n\r\n**UserInput**\r\n\r\n    public class UserInput {\r\n    \r\n    \tprivate String userId;\r\n\t    private String namePrefix;\r\n\t    private String firstName;\r\n\t    private String lastName;\r\n\r\n    }\r\n\r\n**User**\r\n    \r\n    @Entity\r\n    @Table(name = &quot;USER&quot;)\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class User {\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.AUTO)\r\n    \tprivate long id;\r\n    \tprivate String userId;\r\n    \tprivate String namePrefix;\r\n    \tprivate String firstName;\r\n    \tprivate String lastName;    \t\r\n    \r\n    }\r\n\r\n**UserDataProcessor** \r\n       \r\n    public class UserDataProcessor implements ItemProcessor&lt;UserInput, User&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic User process(UserInput userInput) throws Exception {\r\n    \t\tUser user = new User();\r\n    \t\tuser.setUserId(userInput.getUserId());\r\n    \t\tuser.setNamePrefix(userInput.getNamePrefix());\r\n    \t\tuser.setFirstName(userInput.getFirstName());\r\n    \t\tuser.setLastName(userInput.getLastName());\r\n    \t\tSystem.out.println(user);\r\n    \t\treturn user;\r\n    \t}\r\n    \r\n    }\r\n    \r\n    \r\n **BatchConfig**\r\n     \r\n        \r\n        @Configuration\r\n        @EnableBatchProcessing\r\n        public class BatchConfig {\r\n        \r\n        \tprivate final String[] FIELD_NAMES = new String[] { &quot;userId&quot;, &quot;namePrefix&quot;, &quot;firstName&quot;, &quot;lastName&quot; };\r\n        \r\n        \t@Autowired\r\n        \tprivate DataSource dataSource;\r\n        \t@Autowired\r\n        \tprivate JobBuilderFactory jobBuilderFactory;\r\n        \t@Autowired\r\n        \tprivate StepBuilderFactory stepBuilderFactory;\r\n        \r\n        \t@Bean\r\n        \tpublic FlatFileItemReader&lt;UserInput&gt; reader() {\r\n        \t\treturn new FlatFileItemReaderBuilder&lt;UserInput&gt;().name(&quot;personItemReader&quot;)\r\n        \t\t\t\t.resource(new ClassPathResource(&quot;user-data.csv&quot;)).delimited().names(FIELD_NAMES)\r\n        \t\t\t\t.fieldSetMapper(new BeanWrapperFieldSetMapper&lt;UserInput&gt;() {\r\n        \t\t\t\t\t{\r\n        \t\t\t\t\t\tsetTargetType(UserInput.class);\r\n        \t\t\t\t\t}\r\n        \t\t\t\t}).build();\r\n        \t}\r\n        \r\n        \t@Bean\r\n        \tpublic UserDataProcessor processor() {\r\n        \t\treturn new UserDataProcessor();\r\n        \r\n        \t}\r\n        \t@Bean\r\n        \tpublic JdbcBatchItemWriter&lt;User&gt; writer() {\r\n        \t\treturn new JdbcBatchItemWriterBuilder&lt;User&gt;()\r\n        \t\t\t\t.itemSqlParameterSourceProvider(new BeanPropertyItemSqlParameterSourceProvider&lt;&gt;())\r\n        \t\t\t\t.sql(&quot;INSERT INTO user (userId,namePrefix,firstName,lastName) &quot;\r\n        \t\t\t\t\t\t+ &quot;VALUES (:userId,:namePrefix,:firstName,:lastName)&quot;)\r\n        \t\t\t\t.dataSource(dataSource).build();\r\n        \r\n        \t}\r\n        \r\n        \t@Bean\r\n        \tpublic Job importUserJob(JobCompletionNotificationListener listener, Step step1) {\r\n        \t\treturn jobBuilderFactory.get(&quot;importUserJob&quot;).incrementer(new RunIdIncrementer()).listener(listener).flow(step1)\r\n        \t\t\t\t.end().build();\r\n        \t}\r\n        \r\n        \t@Bean\r\n        \tpublic Step step1(JdbcBatchItemWriter&lt;User&gt; writer) {\r\n        \t\treturn stepBuilderFactory.get(&quot;step1&quot;).&lt;UserInput, User&gt;chunk(10).reader(reader()).processor(processor())\r\n        \t\t\t\t.writer(writer).build();\r\n        \t}\r\n        \r\n        }","title":"getting null pointer exception sending data to db using spring batch and csv file format","body":"<p>For simplicity use a separate temp user class as <strong>UserInput</strong> for reading the data and one entity class which represent in table e.i *<em>User</em> entity</p>\n<p><strong>UserInput</strong></p>\n<pre><code>public class UserInput {\n\n    private String userId;\n    private String namePrefix;\n    private String firstName;\n    private String lastName;\n\n}\n</code></pre>\n<p><strong>User</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;USER&quot;)\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long id;\n    private String userId;\n    private String namePrefix;\n    private String firstName;\n    private String lastName;        \n\n}\n</code></pre>\n<p><strong>UserDataProcessor</strong></p>\n<pre><code>public class UserDataProcessor implements ItemProcessor&lt;UserInput, User&gt; {\n\n    @Override\n    public User process(UserInput userInput) throws Exception {\n        User user = new User();\n        user.setUserId(userInput.getUserId());\n        user.setNamePrefix(userInput.getNamePrefix());\n        user.setFirstName(userInput.getFirstName());\n        user.setLastName(userInput.getLastName());\n        System.out.println(user);\n        return user;\n    }\n\n}\n</code></pre>\n<p><strong>BatchConfig</strong></p>\n<pre><code>    @Configuration\n    @EnableBatchProcessing\n    public class BatchConfig {\n    \n        private final String[] FIELD_NAMES = new String[] { &quot;userId&quot;, &quot;namePrefix&quot;, &quot;firstName&quot;, &quot;lastName&quot; };\n    \n        @Autowired\n        private DataSource dataSource;\n        @Autowired\n        private JobBuilderFactory jobBuilderFactory;\n        @Autowired\n        private StepBuilderFactory stepBuilderFactory;\n    \n        @Bean\n        public FlatFileItemReader&lt;UserInput&gt; reader() {\n            return new FlatFileItemReaderBuilder&lt;UserInput&gt;().name(&quot;personItemReader&quot;)\n                    .resource(new ClassPathResource(&quot;user-data.csv&quot;)).delimited().names(FIELD_NAMES)\n                    .fieldSetMapper(new BeanWrapperFieldSetMapper&lt;UserInput&gt;() {\n                        {\n                            setTargetType(UserInput.class);\n                        }\n                    }).build();\n        }\n    \n        @Bean\n        public UserDataProcessor processor() {\n            return new UserDataProcessor();\n    \n        }\n        @Bean\n        public JdbcBatchItemWriter&lt;User&gt; writer() {\n            return new JdbcBatchItemWriterBuilder&lt;User&gt;()\n                    .itemSqlParameterSourceProvider(new BeanPropertyItemSqlParameterSourceProvider&lt;&gt;())\n                    .sql(&quot;INSERT INTO user (userId,namePrefix,firstName,lastName) &quot;\n                            + &quot;VALUES (:userId,:namePrefix,:firstName,:lastName)&quot;)\n                    .dataSource(dataSource).build();\n    \n        }\n    \n        @Bean\n        public Job importUserJob(JobCompletionNotificationListener listener, Step step1) {\n            return jobBuilderFactory.get(&quot;importUserJob&quot;).incrementer(new RunIdIncrementer()).listener(listener).flow(step1)\n                    .end().build();\n        }\n    \n        @Bean\n        public Step step1(JdbcBatchItemWriter&lt;User&gt; writer) {\n            return stepBuilderFactory.get(&quot;step1&quot;).&lt;UserInput, User&gt;chunk(10).reader(reader()).processor(processor())\n                    .writer(writer).build();\n        }\n    \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3959103,"reputation":65,"user_id":3266700,"display_name":"Abhishek Madhusudhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686784576,"creation_date":1686784576,"answer_id":76478146,"question_id":68961647,"body_markdown":"call writer.afterPropertiesSet() for your writer. \r\n\r\nReference [https://salzotech.blogspot.com/2017/02/nullpointerexception-in.html]","title":"getting null pointer exception sending data to db using spring batch and csv file format","body":"<p>call writer.afterPropertiesSet() for your writer.</p>\n<p>Reference [https://salzotech.blogspot.com/2017/02/nullpointerexception-in.html]</p>\n"}],"owner":{"account_id":21111045,"reputation":11,"user_id":15518999,"display_name":"gufran tech"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3157,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1686784576,"creation_date":1630128972,"question_id":68961647,"body_markdown":" \r\n\r\n      package com.batch.config;\r\n    \r\n    import javax.sql.DataSource;\r\n    \r\n    import org.springframework.batch.core.Job;\r\n    import org.springframework.batch.core.Step;\r\n    import org.springframework.batch.core.configuration.annotation.EnableBatchProcessing;\r\n    import org.springframework.batch.core.configuration.annotation.JobBuilderFactory;\r\n    import org.springframework.batch.core.configuration.annotation.StepBuilderFactory;\r\n    import org.springframework.batch.core.job.builder.JobBuilder;\r\n    import org.springframework.batch.core.launch.support.RunIdIncrementer;\r\n    import org.springframework.batch.item.database.BeanPropertyItemSqlParameterSourceProvider;\r\n    import org.springframework.batch.item.database.JdbcBatchItemWriter;\r\n    import org.springframework.batch.item.file.FlatFileItemReader;\r\n    import org.springframework.batch.item.file.LineMapper;\r\n    import org.springframework.batch.item.file.mapping.BeanWrapperFieldSetMapper;\r\n    import org.springframework.batch.item.file.mapping.DefaultLineMapper;\r\n    import org.springframework.batch.item.file.transform.DelimitedLineTokenizer;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.core.io.ClassPathResource;\r\n    \r\n    import com.batch.model.User;\r\n    \r\n    @Configuration\r\n    @EnableBatchProcessing\r\n    public class BatchConfig {\r\n    \t@Autowired\r\n    \tprivate DataSource dataSource;\r\n    \t@Autowired\r\n    \tprivate JobBuilderFactory jobBuilderFactory;\r\n    \t@Autowired\r\n    \tprivate StepBuilderFactory stepBuildFactory;\r\n    \r\n    \t@Bean\r\n    \tpublic FlatFileItemReader&lt;User&gt; reader() {\r\n    \t\tFlatFileItemReader&lt;User&gt; reader = new FlatFileItemReader&lt;&gt;();\r\n    \t\treader.setResource(new ClassPathResource(&quot;springbachdata.csv&quot;));\r\n    \t\treader.setLineMapper(getlineMapper());\r\n    \t\treader.setLinesToSkip(1);\r\n    \t\treturn reader;\r\n    \t}\r\n    \r\n    \tprivate LineMapper&lt;User&gt; getlineMapper() {\r\n    \t\tDefaultLineMapper&lt;User&gt; lineMapper = new DefaultLineMapper&lt;&gt;();\r\n    \t\tDelimitedLineTokenizer lineTokenizer = new DelimitedLineTokenizer();\r\n    \t\tlineTokenizer.setNames(new String[] { &quot;Emp ID&quot;, &quot;Name Prefix&quot;, &quot;First Name&quot;, &quot;Last Name&quot; });\r\n    \t\tlineTokenizer.setIncludedFields(new int[] { 0, 1, 2, 4 });\r\n    \t\tBeanWrapperFieldSetMapper&lt;User&gt; fieldSetMapper = new BeanWrapperFieldSetMapper&lt;&gt;();\r\n    \t\tfieldSetMapper.setTargetType(User.class);\r\n    \t\tlineMapper.setLineTokenizer(lineTokenizer);\r\n    \t\tlineMapper.setFieldSetMapper(fieldSetMapper);\r\n    \t\treturn lineMapper;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic UserItemProcessor processor() {\r\n    \t\treturn new UserItemProcessor();\r\n    \r\n    \t}\r\n    \r\n    \tpublic JdbcBatchItemWriter&lt;User&gt; writer() {\r\n    \t\tJdbcBatchItemWriter&lt;User&gt; writer = new JdbcBatchItemWriter&lt;&gt;();\r\n    \t\twriter.setItemSqlParameterSourceProvider(new BeanPropertyItemSqlParameterSourceProvider&lt;User&gt;());\r\n    \t\twriter.setSql(\r\n    \t\t\t\t&quot;insert into user(userId,namePrefix,firstName,lastName) values (:userId, :namePrefix, :firstName, :lastName)&quot;);\r\n    \t\twriter.setDataSource(this.dataSource);\r\n    \t\treturn writer;\r\n    \t}\r\n    \t@Bean\r\n    \tpublic Job importUserJob() {\r\n    \t\treturn this.jobBuilderFactory.get(&quot;USER-IMPORT-JOB&quot;)\r\n    \t\t\t\t.incrementer(new RunIdIncrementer())\r\n    \t\t\t\t.flow(step1())\r\n    \t\t\t\t.end()\r\n    \t\t\t\t.build();\r\n    \t\t\t\t\r\n    \t}\r\n    @Bean\r\n    \tpublic Step step1() {\r\n    return this.stepBuildFactory.get(&quot;step1&quot;)\r\n    .&lt;User, User&gt;chunk(10)\r\n    .reader(reader())\r\n    .processor(processor())\r\n    .writer(writer())\r\n    .build();\r\n    \t\r\n    \t}\r\n    }\r\n\r\n&gt; &gt; &#39;java.lang.NullPointerException: Cannot invoke &quot;org.springframework.batch.item.database.ItemPreparedStatementSetter.setValues(Object,\r\n&gt; java.sql.PreparedStatement)&quot; because\r\n&gt; &quot;this.this$0.itemPreparedStatementSetter&quot; is null \tat\r\n&gt; org.springframework.batch.item.database.JdbcBatchItemWriter$1.doInPreparedStatement(JdbcBatchItemWriter.java:190)\r\n&gt; ~[spring-batch-infrastructure-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.batch.item.database.JdbcBatchItemWriter$1.doInPreparedStatement(JdbcBatchItemWriter.java:186)\r\n&gt; ~[spring-batch-infrastructure-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:651)\r\n&gt; ~[spring-jdbc-5.3.9.jar:5.3.9] \tat\r\n&gt; org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:691)\r\n&gt; ~[spring-jdbc-5.3.9.jar:5.3.9] \tat\r\n&gt; org.springframework.batch.item.database.JdbcBatchItemWriter.write(JdbcBatchItemWriter.java:186)\r\n&gt; ~[spring-batch-infrastructure-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.batch.core.step.item.SimpleChunkProcessor.writeItems(SimpleChunkProcessor.java:193)\r\n&gt; ~[spring-batch-core-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.batch.core.step.item.SimpleChunkProcessor.doWrite(SimpleChunkProcessor.java:159)\r\n&gt; ~[spring-batch-core-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.batch.core.step.item.SimpleChunkProcessor.write(SimpleChunkProcessor.java:294)\r\n&gt; ~[spring-batch-core-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.batch.core.step.item.SimpleChunkProcessor.process(SimpleChunkProcessor.java:217)\r\n&gt; ~[spring-batch-core-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.batch.core.step.item.ChunkOrientedTasklet.execute(ChunkOrientedTasklet.java:77)\r\n&gt; ~[spring-batch-core-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:407)\r\n&gt; ~[spring-batch-core-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:331)\r\n&gt; ~[spring-batch-core-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)\r\n&gt; ~[spring-tx-5.3.9.jar:5.3.9] \tat\r\n&gt; org.springframework.batch.core.step.tasklet.TaskletStep$2.doInChunkContext(TaskletStep.java:273)\r\n&gt; ~[spring-batch-core-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.batch.core.scope.context.StepContextRepeatCallback.doInIteration(StepContextRepeatCallback.java:82)\r\n&gt; ~[spring-batch-core-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.batch.repeat.support.RepeatTemplate.getNextResult(RepeatTemplate.java:375)\r\n&gt; ~[spring-batch-infrastructure-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.batch.repeat.support.RepeatTemplate.executeInternal(RepeatTemplate.java:215)\r\n&gt; ~[spring-batch-infrastructure-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.batch.repeat.support.RepeatTemplate.iterate(RepeatTemplate.java:145)\r\n&gt; ~[spring-batch-infrastructure-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.batch.core.step.tasklet.TaskletStep.doExecute(TaskletStep.java:258)\r\n&gt; ~[spring-batch-core-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:208)\r\n&gt; ~[spring-batch-core-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:152)\r\n&gt; ~[spring-batch-core-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.batch.core.job.flow.JobFlowExecutor.executeStep(JobFlowExecutor.java:68)\r\n&gt; ~[spring-batch-core-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.batch.core.job.flow.support.state.StepState.handle(StepState.java:68)\r\n&gt; ~[spring-batch-core-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.batch.core.job.flow.support.SimpleFlow.resume(SimpleFlow.java:169)\r\n&gt; ~[spring-batch-core-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.batch.core.job.flow.support.SimpleFlow.start(SimpleFlow.java:144)\r\n&gt; ~[spring-batch-core-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.batch.core.job.flow.FlowJob.doExecute(FlowJob.java:137)\r\n&gt; ~[spring-batch-core-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:320)\r\n&gt; ~[spring-batch-core-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:149)\r\n&gt; ~[spring-batch-core-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)\r\n&gt; ~[spring-core-5.3.9.jar:5.3.9] \tat\r\n&gt; org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:140)\r\n&gt; ~[spring-batch-core-4.3.3.jar:4.3.3] \tat\r\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\r\n&gt; Method) ~[na:na] \tat\r\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n&gt; ~[na:na] \tat\r\n&gt; java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; ~[na:na] \tat\r\n&gt; java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\r\n&gt; \tat\r\n&gt; org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\r\n&gt; ~[spring-aop-5.3.9.jar:5.3.9] \tat\r\n&gt; org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\r\n&gt; ~[spring-aop-5.3.9.jar:5.3.9] \tat\r\n&gt; org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n&gt; ~[spring-aop-5.3.9.jar:5.3.9] \tat\r\n&gt; org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)\r\n&gt; ~[spring-batch-core-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n&gt; ~[spring-aop-5.3.9.jar:5.3.9] \tat\r\n&gt; org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n&gt; ~[spring-aop-5.3.9.jar:5.3.9] \tat\r\n&gt; jdk.proxy2/jdk.proxy2.$Proxy58.run(Unknown Source) ~[na:na] \tat\r\n&gt; org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.execute(JobLauncherApplicationRunner.java:199)\r\n&gt; ~[spring-boot-autoconfigure-2.5.4.jar:2.5.4] \tat\r\n&gt; org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.executeLocalJobs(JobLauncherApplicationRunner.java:173)\r\n&gt; ~[spring-boot-autoconfigure-2.5.4.jar:2.5.4] \tat\r\n&gt; org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.launchJobFromProperties(JobLauncherApplicationRunner.java:160)\r\n&gt; ~[spring-boot-autoconfigure-2.5.4.jar:2.5.4] \tat\r\n&gt; org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.run(JobLauncherApplicationRunner.java:155)\r\n&gt; ~[spring-boot-autoconfigure-2.5.4.jar:2.5.4] \tat\r\n&gt; org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.run(JobLauncherApplicationRunner.java:150)\r\n&gt; ~[spring-boot-autoconfigure-2.5.4.jar:2.5.4] \tat\r\n&gt; org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:782)\r\n&gt; ~[spring-boot-2.5.4.jar:2.5.4] \tat\r\n&gt; org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:772)\r\n&gt; ~[spring-boot-2.5.4.jar:2.5.4] \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:345)\r\n&gt; ~[spring-boot-2.5.4.jar:2.5.4] \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)\r\n&gt; ~[spring-boot-2.5.4.jar:2.5.4] \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1332)\r\n&gt; ~[spring-boot-2.5.4.jar:2.5.4] \tat\r\n&gt; com.batch.CsvToMysqlApplication.main(CsvToMysqlApplication.java:10)\r\n&gt; ~[classes/:na]\r\n&gt; \r\n&gt; \u001B[2m2021-08-28 10:24:36.741\u001B[0;39m \u001B[32m INFO\u001B[0;39m \u001B[35m10388\u001B[0;39m\r\n&gt; \u001B[2m---\u001B[0;39m \u001B[2m[           main]\u001B[0;39m\r\n&gt; \u001B[36mo.s.batch.core.step.AbstractStep        \u001B[0;39m \u001B[2m:\u001B[0;39m\r\n&gt; Step: [step1] executed in 72ms \u001B[2m2021-08-28 10:24:36.768\u001B[0;39m\r\n&gt; \u001B[32m INFO\u001B[0;39m \u001B[35m10388\u001B[0;39m \u001B[2m---\u001B[0;39m \u001B[2m[          \r\n&gt; main]\u001B[0;39m \u001B[36mo.s.b.c.l.support.SimpleJobLauncher     \u001B[0;39m\r\n&gt; \u001B[2m:\u001B[0;39m Job: [FlowJob: [name=USER-IMPORT-JOB]] completed with the\r\n&gt; following parameters: [{run.id=4}] and the following status: [FAILED]\r\n&gt; in 134ms &#39;\r\n&gt; \r\n&gt; &gt; Blockquote\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"getting null pointer exception sending data to db using spring batch and csv file format","body":"<pre><code>  package com.batch.config;\n\nimport javax.sql.DataSource;\n\nimport org.springframework.batch.core.Job;\nimport org.springframework.batch.core.Step;\nimport org.springframework.batch.core.configuration.annotation.EnableBatchProcessing;\nimport org.springframework.batch.core.configuration.annotation.JobBuilderFactory;\nimport org.springframework.batch.core.configuration.annotation.StepBuilderFactory;\nimport org.springframework.batch.core.job.builder.JobBuilder;\nimport org.springframework.batch.core.launch.support.RunIdIncrementer;\nimport org.springframework.batch.item.database.BeanPropertyItemSqlParameterSourceProvider;\nimport org.springframework.batch.item.database.JdbcBatchItemWriter;\nimport org.springframework.batch.item.file.FlatFileItemReader;\nimport org.springframework.batch.item.file.LineMapper;\nimport org.springframework.batch.item.file.mapping.BeanWrapperFieldSetMapper;\nimport org.springframework.batch.item.file.mapping.DefaultLineMapper;\nimport org.springframework.batch.item.file.transform.DelimitedLineTokenizer;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.io.ClassPathResource;\n\nimport com.batch.model.User;\n\n@Configuration\n@EnableBatchProcessing\npublic class BatchConfig {\n    @Autowired\n    private DataSource dataSource;\n    @Autowired\n    private JobBuilderFactory jobBuilderFactory;\n    @Autowired\n    private StepBuilderFactory stepBuildFactory;\n\n    @Bean\n    public FlatFileItemReader&lt;User&gt; reader() {\n        FlatFileItemReader&lt;User&gt; reader = new FlatFileItemReader&lt;&gt;();\n        reader.setResource(new ClassPathResource(&quot;springbachdata.csv&quot;));\n        reader.setLineMapper(getlineMapper());\n        reader.setLinesToSkip(1);\n        return reader;\n    }\n\n    private LineMapper&lt;User&gt; getlineMapper() {\n        DefaultLineMapper&lt;User&gt; lineMapper = new DefaultLineMapper&lt;&gt;();\n        DelimitedLineTokenizer lineTokenizer = new DelimitedLineTokenizer();\n        lineTokenizer.setNames(new String[] { &quot;Emp ID&quot;, &quot;Name Prefix&quot;, &quot;First Name&quot;, &quot;Last Name&quot; });\n        lineTokenizer.setIncludedFields(new int[] { 0, 1, 2, 4 });\n        BeanWrapperFieldSetMapper&lt;User&gt; fieldSetMapper = new BeanWrapperFieldSetMapper&lt;&gt;();\n        fieldSetMapper.setTargetType(User.class);\n        lineMapper.setLineTokenizer(lineTokenizer);\n        lineMapper.setFieldSetMapper(fieldSetMapper);\n        return lineMapper;\n    }\n\n    @Bean\n    public UserItemProcessor processor() {\n        return new UserItemProcessor();\n\n    }\n\n    public JdbcBatchItemWriter&lt;User&gt; writer() {\n        JdbcBatchItemWriter&lt;User&gt; writer = new JdbcBatchItemWriter&lt;&gt;();\n        writer.setItemSqlParameterSourceProvider(new BeanPropertyItemSqlParameterSourceProvider&lt;User&gt;());\n        writer.setSql(\n                &quot;insert into user(userId,namePrefix,firstName,lastName) values (:userId, :namePrefix, :firstName, :lastName)&quot;);\n        writer.setDataSource(this.dataSource);\n        return writer;\n    }\n    @Bean\n    public Job importUserJob() {\n        return this.jobBuilderFactory.get(&quot;USER-IMPORT-JOB&quot;)\n                .incrementer(new RunIdIncrementer())\n                .flow(step1())\n                .end()\n                .build();\n                \n    }\n@Bean\n    public Step step1() {\nreturn this.stepBuildFactory.get(&quot;step1&quot;)\n.&lt;User, User&gt;chunk(10)\n.reader(reader())\n.processor(processor())\n.writer(writer())\n.build();\n    \n    }\n}\n</code></pre>\n<blockquote>\n<blockquote>\n<p>'java.lang.NullPointerException: Cannot invoke &quot;org.springframework.batch.item.database.ItemPreparedStatementSetter.setValues(Object,\njava.sql.PreparedStatement)&quot; because\n&quot;this.this$0.itemPreparedStatementSetter&quot; is null     at\norg.springframework.batch.item.database.JdbcBatchItemWriter$1.doInPreparedStatement(JdbcBatchItemWriter.java:190)\n~[spring-batch-infrastructure-4.3.3.jar:4.3.3]    at\norg.springframework.batch.item.database.JdbcBatchItemWriter$1.doInPreparedStatement(JdbcBatchItemWriter.java:186)\n~[spring-batch-infrastructure-4.3.3.jar:4.3.3]    at\norg.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:651)\n~[spring-jdbc-5.3.9.jar:5.3.9]    at\norg.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:691)\n~[spring-jdbc-5.3.9.jar:5.3.9]    at\norg.springframework.batch.item.database.JdbcBatchItemWriter.write(JdbcBatchItemWriter.java:186)\n~[spring-batch-infrastructure-4.3.3.jar:4.3.3]    at\norg.springframework.batch.core.step.item.SimpleChunkProcessor.writeItems(SimpleChunkProcessor.java:193)\n~[spring-batch-core-4.3.3.jar:4.3.3]  at\norg.springframework.batch.core.step.item.SimpleChunkProcessor.doWrite(SimpleChunkProcessor.java:159)\n~[spring-batch-core-4.3.3.jar:4.3.3]  at\norg.springframework.batch.core.step.item.SimpleChunkProcessor.write(SimpleChunkProcessor.java:294)\n~[spring-batch-core-4.3.3.jar:4.3.3]  at\norg.springframework.batch.core.step.item.SimpleChunkProcessor.process(SimpleChunkProcessor.java:217)\n~[spring-batch-core-4.3.3.jar:4.3.3]  at\norg.springframework.batch.core.step.item.ChunkOrientedTasklet.execute(ChunkOrientedTasklet.java:77)\n~[spring-batch-core-4.3.3.jar:4.3.3]  at\norg.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:407)\n~[spring-batch-core-4.3.3.jar:4.3.3]  at\norg.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:331)\n~[spring-batch-core-4.3.3.jar:4.3.3]  at\norg.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)\n~[spring-tx-5.3.9.jar:5.3.9]  at\norg.springframework.batch.core.step.tasklet.TaskletStep$2.doInChunkContext(TaskletStep.java:273)\n~[spring-batch-core-4.3.3.jar:4.3.3]  at\norg.springframework.batch.core.scope.context.StepContextRepeatCallback.doInIteration(StepContextRepeatCallback.java:82)\n~[spring-batch-core-4.3.3.jar:4.3.3]  at\norg.springframework.batch.repeat.support.RepeatTemplate.getNextResult(RepeatTemplate.java:375)\n~[spring-batch-infrastructure-4.3.3.jar:4.3.3]    at\norg.springframework.batch.repeat.support.RepeatTemplate.executeInternal(RepeatTemplate.java:215)\n~[spring-batch-infrastructure-4.3.3.jar:4.3.3]    at\norg.springframework.batch.repeat.support.RepeatTemplate.iterate(RepeatTemplate.java:145)\n~[spring-batch-infrastructure-4.3.3.jar:4.3.3]    at\norg.springframework.batch.core.step.tasklet.TaskletStep.doExecute(TaskletStep.java:258)\n~[spring-batch-core-4.3.3.jar:4.3.3]  at\norg.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:208)\n~[spring-batch-core-4.3.3.jar:4.3.3]  at\norg.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:152)\n~[spring-batch-core-4.3.3.jar:4.3.3]  at\norg.springframework.batch.core.job.flow.JobFlowExecutor.executeStep(JobFlowExecutor.java:68)\n~[spring-batch-core-4.3.3.jar:4.3.3]  at\norg.springframework.batch.core.job.flow.support.state.StepState.handle(StepState.java:68)\n~[spring-batch-core-4.3.3.jar:4.3.3]  at\norg.springframework.batch.core.job.flow.support.SimpleFlow.resume(SimpleFlow.java:169)\n~[spring-batch-core-4.3.3.jar:4.3.3]  at\norg.springframework.batch.core.job.flow.support.SimpleFlow.start(SimpleFlow.java:144)\n~[spring-batch-core-4.3.3.jar:4.3.3]  at\norg.springframework.batch.core.job.flow.FlowJob.doExecute(FlowJob.java:137)\n~[spring-batch-core-4.3.3.jar:4.3.3]  at\norg.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:320)\n~[spring-batch-core-4.3.3.jar:4.3.3]  at\norg.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:149)\n~[spring-batch-core-4.3.3.jar:4.3.3]  at\norg.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)\n~[spring-core-5.3.9.jar:5.3.9]    at\norg.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:140)\n~[spring-batch-core-4.3.3.jar:4.3.3]  at\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\nMethod) ~[na:na]  at\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\n~[na:na]  at\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n~[na:na]  at\njava.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\nat\norg.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\n~[spring-aop-5.3.9.jar:5.3.9]     at\norg.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\n~[spring-aop-5.3.9.jar:5.3.9]     at\norg.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n~[spring-aop-5.3.9.jar:5.3.9]     at\norg.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)\n~[spring-batch-core-4.3.3.jar:4.3.3]  at\norg.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n~[spring-aop-5.3.9.jar:5.3.9]     at\norg.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n~[spring-aop-5.3.9.jar:5.3.9]     at\njdk.proxy2/jdk.proxy2.$Proxy58.run(Unknown Source) ~[na:na]   at\norg.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.execute(JobLauncherApplicationRunner.java:199)\n~[spring-boot-autoconfigure-2.5.4.jar:2.5.4]  at\norg.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.executeLocalJobs(JobLauncherApplicationRunner.java:173)\n~[spring-boot-autoconfigure-2.5.4.jar:2.5.4]  at\norg.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.launchJobFromProperties(JobLauncherApplicationRunner.java:160)\n~[spring-boot-autoconfigure-2.5.4.jar:2.5.4]  at\norg.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.run(JobLauncherApplicationRunner.java:155)\n~[spring-boot-autoconfigure-2.5.4.jar:2.5.4]  at\norg.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.run(JobLauncherApplicationRunner.java:150)\n~[spring-boot-autoconfigure-2.5.4.jar:2.5.4]  at\norg.springframework.boot.SpringApplication.callRunner(SpringApplication.java:782)\n~[spring-boot-2.5.4.jar:2.5.4]    at\norg.springframework.boot.SpringApplication.callRunners(SpringApplication.java:772)\n~[spring-boot-2.5.4.jar:2.5.4]    at\norg.springframework.boot.SpringApplication.run(SpringApplication.java:345)\n~[spring-boot-2.5.4.jar:2.5.4]    at\norg.springframework.boot.SpringApplication.run(SpringApplication.java:1343)\n~[spring-boot-2.5.4.jar:2.5.4]    at\norg.springframework.boot.SpringApplication.run(SpringApplication.java:1332)\n~[spring-boot-2.5.4.jar:2.5.4]    at\ncom.batch.CsvToMysqlApplication.main(CsvToMysqlApplication.java:10)\n~[classes/:na]</p>\n</blockquote>\n<p>[2m2021-08-28 10:24:36.741[0;39m [32m INFO[0;39m [35m10388[0;39m\n[2m---[0;39m [2m[           main][0;39m\n[36mo.s.batch.core.step.AbstractStep        [0;39m [2m:[0;39m\nStep: [step1] executed in 72ms [2m2021-08-28 10:24:36.768[0;39m\n[32m INFO[0;39m [35m10388[0;39m [2m---[0;39m [2m[<br />\nmain][0;39m [36mo.s.b.c.l.support.SimpleJobLauncher     [0;39m\n[2m:[0;39m Job: [FlowJob: [name=USER-IMPORT-JOB]] completed with the\nfollowing parameters: [{run.id=4}] and the following status: [FAILED]\nin 134ms '</p>\n<blockquote>\n<p>Blockquote</p>\n</blockquote>\n</blockquote>\n"},{"tags":["java","spring-boot","apache-camel","ibm-mq"],"comments":[{"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"score":0,"creation_date":1686713489,"post_id":76469597,"comment_id":134835502,"body_markdown":"How is the stub kicked off to pick up messages from the request queue? Is it polling? Is it triggered?","body":"How is the stub kicked off to pick up messages from the request queue? Is it polling? Is it triggered?"},{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1686717141,"post_id":76469597,"comment_id":134835763,"body_markdown":"Added more details in the question","body":"Added more details in the question"},{"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"score":0,"creation_date":1686825401,"post_id":76469597,"comment_id":134853987,"body_markdown":"Is it only listening on one queue - the queue showing the problem, or does it have multiple queues it is listening on? Is it already listening on the queue before you put the messages or is there a start up process that must be considered too?","body":"Is it only listening on one queue - the queue showing the problem, or does it have multiple queues it is listening on? Is it already listening on the queue before you put the messages or is there a start up process that must be considered too?"},{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1686897174,"post_id":76469597,"comment_id":134863990,"body_markdown":"The stab application is already started when the testing framework start throwing messages into the flow. Also for a very short run (seconds) the messages are processed immediately. If you follow the link I provided for `DefaultMessageListenerContainer` you will see Spring recommendation &quot;Note: Don&#39;t use Spring&#39;s CachingConnectionFactory in combination with dynamic scaling. Ideally, don&#39;t use it with a message listener container at all&quot;. I found out we were using that. Changed the code but not tested yet. Fingers crossed.","body":"The stab application is already started when the testing framework start throwing messages into the flow. Also for a very short run (seconds) the messages are processed immediately. If you follow the link I provided for <code>DefaultMessageListenerContainer</code> you will see Spring recommendation &quot;Note: Don&#39;t use Spring&#39;s CachingConnectionFactory in combination with dynamic scaling. Ideally, don&#39;t use it with a message listener container at all&quot;. I found out we were using that. Changed the code but not tested yet. Fingers crossed."},{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1686897224,"post_id":76469597,"comment_id":134864000,"body_markdown":"It is only one queue that the listener points to.","body":"It is only one queue that the listener points to."},{"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"score":0,"creation_date":1686909533,"post_id":76469597,"comment_id":134866417,"body_markdown":"Fingers Crossed","body":"Fingers Crossed"},{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1687413372,"post_id":76469597,"comment_id":134933703,"body_markdown":"Injecting a `DefaultMessageListenerContainer` that no longer uses a `CachingConnectionFactory` into the Camel route made a `huge difference`. The messages were processed off the queue in no time and we could see the number of concurrent consumers scaling up and down as the load increased/decreased.","body":"Injecting a <code>DefaultMessageListenerContainer</code> that no longer uses a <code>CachingConnectionFactory</code> into the Camel route made a <code>huge difference</code>. The messages were processed off the queue in no time and we could see the number of concurrent consumers scaling up and down as the load increased/decreased."}],"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":257,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686784135,"creation_date":1686705916,"question_id":76469597,"body_markdown":"We have a testing tool stabbing external systems our micro-services interact with via different endpoints. One of this stabs is a listener to an IBM MQ queue build as an Apache Camel route. Once receiving a message the stub builds three associate responses and sends them back to a response queue. This is very little processing usually taking anywhere between 10 to 20 milliseconds to complete.\r\n\r\nPart of our performance testing, messages are injected into our application and in turn the application will interact with the stab. At around 60 messages per second I cannot say the load is big. From application logs the processing is quite fast; however we noticed performance degradation because there is a big waiting time when messages stay in the request queue waiting to be picked up by the stub.\r\n\r\nWe have six instances of the testing tool running as ECS tasks and each one was running the given stub with one consumer. We increased the number of concurrent consumers to 3 than to 10 then to 20 but it did not make a lot of difference. Wondering where the problem is.\r\n\r\nThe message consumption is transactional (no XA) and we wrap `MQQueueConnectionFactory` with Spring&#39;s `CachingConnectionFactory` with a session cache size of 500\r\n\r\n**UPDATE:**\r\n\r\nThe Apache Camel route definition starts like below:\r\n\r\n    from(&quot;jms:my.request.queue?concurrentConsumers=20&amp;disableReplyTo=true&quot;)\r\n        .routeId(&quot;my-stub&quot;)\r\n        .autoStartup(true)\r\n        .policy(somePlatformTransactionPolicy)\r\n        .process(...)\r\n        // a bunch of processors doing their in memory stuff\r\n        .to(&quot;jms.my.response.queue&quot;)\r\n\r\nNote that behind the scenes Apache Camel JMS component uses a Spring `JmsTemplate` for sending messages and Spring `MessageListenerContainer` for consuming.\r\n\r\n[camel jms-component][1]\r\n\r\nI did not look into which `MessageListenerContainer` implementation Apache Camel uses but I am quite confident they will be using [DefaultMessageListenerContainer][2] which is the most used JMS listener in the Spring world. This default listener extends `AbstractPollingMessageListenerContainer` so it works by polling.\r\n \r\nI had a look at the JmsComponent implementation and I can confirm it is using an extension of Spring `DefaultMessageListenerContainer`\r\n\r\n    /**\r\n     * The default {@link DefaultMessageListenerContainer container} which listen for messages on the JMS destination.\r\n     * &lt;p/&gt;\r\n     * This implementation extends Springs {@link \r\n    DefaultMessageListenerContainer} supporting automatic recovery and\r\n     * throttling.\r\n     */\r\n    public class DefaultJmsMessageListenerContainer extends DefaultMessageListenerContainer {\r\n\r\n  [1]: https://camel.apache.org/components/3.20.x/jms-component.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/listener/DefaultMessageListenerContainer.html","title":"Camel route processing IBM MQ messages with a big delay","body":"<p>We have a testing tool stabbing external systems our micro-services interact with via different endpoints. One of this stabs is a listener to an IBM MQ queue build as an Apache Camel route. Once receiving a message the stub builds three associate responses and sends them back to a response queue. This is very little processing usually taking anywhere between 10 to 20 milliseconds to complete.</p>\n<p>Part of our performance testing, messages are injected into our application and in turn the application will interact with the stab. At around 60 messages per second I cannot say the load is big. From application logs the processing is quite fast; however we noticed performance degradation because there is a big waiting time when messages stay in the request queue waiting to be picked up by the stub.</p>\n<p>We have six instances of the testing tool running as ECS tasks and each one was running the given stub with one consumer. We increased the number of concurrent consumers to 3 than to 10 then to 20 but it did not make a lot of difference. Wondering where the problem is.</p>\n<p>The message consumption is transactional (no XA) and we wrap <code>MQQueueConnectionFactory</code> with Spring's <code>CachingConnectionFactory</code> with a session cache size of 500</p>\n<p><strong>UPDATE:</strong></p>\n<p>The Apache Camel route definition starts like below:</p>\n<pre><code>from(&quot;jms:my.request.queue?concurrentConsumers=20&amp;disableReplyTo=true&quot;)\n    .routeId(&quot;my-stub&quot;)\n    .autoStartup(true)\n    .policy(somePlatformTransactionPolicy)\n    .process(...)\n    // a bunch of processors doing their in memory stuff\n    .to(&quot;jms.my.response.queue&quot;)\n</code></pre>\n<p>Note that behind the scenes Apache Camel JMS component uses a Spring <code>JmsTemplate</code> for sending messages and Spring <code>MessageListenerContainer</code> for consuming.</p>\n<p><a href=\"https://camel.apache.org/components/3.20.x/jms-component.html\" rel=\"nofollow noreferrer\">camel jms-component</a></p>\n<p>I did not look into which <code>MessageListenerContainer</code> implementation Apache Camel uses but I am quite confident they will be using <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/listener/DefaultMessageListenerContainer.html\" rel=\"nofollow noreferrer\">DefaultMessageListenerContainer</a> which is the most used JMS listener in the Spring world. This default listener extends <code>AbstractPollingMessageListenerContainer</code> so it works by polling.</p>\n<p>I had a look at the JmsComponent implementation and I can confirm it is using an extension of Spring <code>DefaultMessageListenerContainer</code></p>\n<pre><code>/**\n * The default {@link DefaultMessageListenerContainer container} which listen for messages on the JMS destination.\n * &lt;p/&gt;\n * This implementation extends Springs {@link \nDefaultMessageListenerContainer} supporting automatic recovery and\n * throttling.\n */\npublic class DefaultJmsMessageListenerContainer extends DefaultMessageListenerContainer {\n</code></pre>\n"},{"tags":["java","json"],"owner":{"account_id":3498075,"reputation":4844,"user_id":4102299,"accept_rate":48,"display_name":"visc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686784079,"creation_date":1686784079,"question_id":76478108,"body_markdown":"I have a json body that has n number of optional fields that may or may not be present. I have a java model class which the json payload is deserialized to using jackson json. I would like the ability to attach metadata to each of the java model class member variables which stores whether or not the json field was present in the json payload.\r\n\r\nFor example my json could look like this\r\n\r\n    {\r\n        &quot;requiredFieldA&quot;: &quot;fieldA&quot;,\r\n        &quot;optionalFieldC&quot;: &quot;fieldC&quot;,\r\n        &quot;optionalFieldD&quot;: [{ &quot;ObjectName&quot; }]\r\n    }\r\n\r\nJava class model looks like this\r\n\r\n    public class MyModel {\r\n        string requiredFieldA;  &lt;- metadata didExistInJson == true\r\n        string requiredFieldB;  &lt;- metadata didExistInJson == false\r\n        string optionalFieldC;  &lt;- metadata didExistInJson == true\r\n        ArrayList&lt;SecondModel&gt; optionalFieldD; &lt;- metadata didExistInJson == true\r\n    }\r\n\r\nThe scenario / use case I&#39;m trying to handle is our models have null fields which get set to null if the json field is not present. But I have to reconcile fields stored in a database vs fields deserialized from the json payload. If the json payload field does not exist I must keep the database field. If it does exist then I must take the default or replace the database field value. This metadata on the deserialized object would help me achieve this design.\r\n\r\nCurious if a solution exists in jackson json or any tips on how I can implement this.","title":"How to attach &quot;field existed in json payload&quot; boolean metadata during deserialization of json?","body":"<p>I have a json body that has n number of optional fields that may or may not be present. I have a java model class which the json payload is deserialized to using jackson json. I would like the ability to attach metadata to each of the java model class member variables which stores whether or not the json field was present in the json payload.</p>\n<p>For example my json could look like this</p>\n<pre><code>{\n    &quot;requiredFieldA&quot;: &quot;fieldA&quot;,\n    &quot;optionalFieldC&quot;: &quot;fieldC&quot;,\n    &quot;optionalFieldD&quot;: [{ &quot;ObjectName&quot; }]\n}\n</code></pre>\n<p>Java class model looks like this</p>\n<pre><code>public class MyModel {\n    string requiredFieldA;  &lt;- metadata didExistInJson == true\n    string requiredFieldB;  &lt;- metadata didExistInJson == false\n    string optionalFieldC;  &lt;- metadata didExistInJson == true\n    ArrayList&lt;SecondModel&gt; optionalFieldD; &lt;- metadata didExistInJson == true\n}\n</code></pre>\n<p>The scenario / use case I'm trying to handle is our models have null fields which get set to null if the json field is not present. But I have to reconcile fields stored in a database vs fields deserialized from the json payload. If the json payload field does not exist I must keep the database field. If it does exist then I must take the default or replace the database field value. This metadata on the deserialized object would help me achieve this design.</p>\n<p>Curious if a solution exists in jackson json or any tips on how I can implement this.</p>\n"},{"tags":["java","selenium-webdriver","heroku","deployment","selenium-chromedriver"],"owner":{"account_id":23697573,"reputation":125,"user_id":17721106,"display_name":"Ali Mamedov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686783321,"creation_date":1686783321,"question_id":76478061,"body_markdown":"I&#39;m developing a Java application that uses Selenium WebDriver for web automation. Locally, everything works fine, but when I deploy the application to Heroku, I encounter an error related to the WebDriver not being found.\r\n\r\nI&#39;ve added the necessary Selenium dependencies to my pom.xml file and ensured that the correct versions are specified. I&#39;ve also included the WebDriverManager dependency to handle the automatic setup of the WebDriver executable.\r\n\r\nWhen I comment out the Selenium-related code and deploy the application to Heroku, it works correctly. However, when I uncomment the code and include the Selenium dependency, I receive the following error:\r\n\r\n```\r\nError: A JNI error has occurred, please check your installation and try again\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/openqa/selenium/WebDriver\r\n...\r\nCaused by: java.lang.ClassNotFoundException: org.openqa.selenium.WebDriver\r\n```\r\n\r\n\r\nPom.xml file : \r\n\r\n\r\n```\r\n &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;3.141.59&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.telegram&lt;/groupId&gt;\r\n            &lt;artifactId&gt;telegrambots&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;org.ceoBot.Main&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\n\r\nMain.class : \r\n\r\n\r\n```\r\n&lt;......&gt;\r\n public static boolean foo() throws InterruptedException {\r\n\r\n        WebDriverManager.chromedriver().setup();\r\n        WebDriver driver = new ChromeDriver();\r\n        driver.manage().window().maximize();\r\n        driver.get(&quot;some link&quot;);\r\n\r\n\r\n        WebElement element = driver.findElement(By.xpath(&quot;//img[@src=&#39;some.jpg&#39;]/parent::*/preceding-sibling::*&quot;));\r\n\r\n        if (!element.isSelected()) {\r\n            element.click();\r\n        }\r\n        Random random = new Random();\r\n\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            int randomNumber = random.nextInt(144) + 1;\r\n            WebElement elem = driver.findElement(By.xpath(&quot;(//img/parent::*/preceding-sibling::*)[&quot; + randomNumber + &quot;]&quot;));\r\n            if (!elem.isSelected()) {\r\n                elem.click();\r\n            }\r\n        }\r\n\r\n        WebElement submitBtn = driver.findElement(By.xpath(&quot;//button&quot;));\r\n        submitBtn.click();\r\n\r\n        WebElement finishBtn = driver.findElement(By.xpath(&quot;//a&quot;));\r\n        finishBtn.click();\r\n\r\n        Thread.sleep(10000);\r\n        driver.quit();\r\n        return true;\r\n    }\r\n&lt;......&gt;\r\n```\r\n\r\n\r\n","title":"Selenium WebDriver not found when deploying Java application to Heroku","body":"<p>I'm developing a Java application that uses Selenium WebDriver for web automation. Locally, everything works fine, but when I deploy the application to Heroku, I encounter an error related to the WebDriver not being found.</p>\n<p>I've added the necessary Selenium dependencies to my pom.xml file and ensured that the correct versions are specified. I've also included the WebDriverManager dependency to handle the automatic setup of the WebDriver executable.</p>\n<p>When I comment out the Selenium-related code and deploy the application to Heroku, it works correctly. However, when I uncomment the code and include the Selenium dependency, I receive the following error:</p>\n<pre><code>Error: A JNI error has occurred, please check your installation and try again\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/openqa/selenium/WebDriver\n...\nCaused by: java.lang.ClassNotFoundException: org.openqa.selenium.WebDriver\n</code></pre>\n<p>Pom.xml file :</p>\n<pre><code> &lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;3.141.59&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.telegram&lt;/groupId&gt;\n            &lt;artifactId&gt;telegrambots&lt;/artifactId&gt;\n            &lt;version&gt;5.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;5.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;org.ceoBot.Main&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>Main.class :</p>\n<pre><code>&lt;......&gt;\n public static boolean foo() throws InterruptedException {\n\n        WebDriverManager.chromedriver().setup();\n        WebDriver driver = new ChromeDriver();\n        driver.manage().window().maximize();\n        driver.get(&quot;some link&quot;);\n\n\n        WebElement element = driver.findElement(By.xpath(&quot;//img[@src='some.jpg']/parent::*/preceding-sibling::*&quot;));\n\n        if (!element.isSelected()) {\n            element.click();\n        }\n        Random random = new Random();\n\n        for (int i = 0; i &lt; 5; i++) {\n            int randomNumber = random.nextInt(144) + 1;\n            WebElement elem = driver.findElement(By.xpath(&quot;(//img/parent::*/preceding-sibling::*)[&quot; + randomNumber + &quot;]&quot;));\n            if (!elem.isSelected()) {\n                elem.click();\n            }\n        }\n\n        WebElement submitBtn = driver.findElement(By.xpath(&quot;//button&quot;));\n        submitBtn.click();\n\n        WebElement finishBtn = driver.findElement(By.xpath(&quot;//a&quot;));\n        finishBtn.click();\n\n        Thread.sleep(10000);\n        driver.quit();\n        return true;\n    }\n&lt;......&gt;\n</code></pre>\n"},{"tags":["java","mysql","hibernate"],"answers":[{"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1686819134,"post_id":76478021,"comment_id":134852644,"body_markdown":"This. Plus, there might be missing an [`AUTO_INCREMENT`](https://dev.mysql.com/doc/refman/8.0/en/example-auto-increment.html)","body":"This. Plus, there might be missing an <a href=\"https://dev.mysql.com/doc/refman/8.0/en/example-auto-increment.html\" rel=\"nofollow noreferrer\"><code>AUTO_INCREMENT</code></a>"}],"tags":[],"owner":{"account_id":8047538,"reputation":423,"user_id":6067302,"display_name":"TomekK"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686782635,"creation_date":1686782635,"answer_id":76478021,"question_id":76477960,"body_markdown":"Line\r\n\r\n    @GeneratedValue(strategy=GenerationType.AUTO)\r\nis going to have an effect only when you save an entity using Java code.\r\n\r\nWhat you are doing is inserting values directly into the database and your mysql database doesn&#39;t know that it&#39;s supposed to be generated any values for the id.","title":"MySql GenerationType.AUTO does not generate anything and returns &#39;Field doesn&#39;t have a default value&#39;","body":"<p>Line</p>\n<pre><code>@GeneratedValue(strategy=GenerationType.AUTO)\n</code></pre>\n<p>is going to have an effect only when you save an entity using Java code.</p>\n<p>What you are doing is inserting values directly into the database and your mysql database doesn't know that it's supposed to be generated any values for the id.</p>\n"}],"owner":{"account_id":23829180,"reputation":37,"user_id":17835716,"display_name":"Sanne112"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76478021,"answer_count":1,"score":0,"last_activity_date":1686782635,"creation_date":1686781640,"question_id":76477960,"body_markdown":"I have the following code which should auto-generate user_id (PK) in the table USER. However, when adding data to the table I get the error: *ERROR 1364 (HY000): Field &#39;user_id&#39; doesn&#39;t have a default value*. On the other hand, when I do manually insert bigInt there is no problem and the data is added to the table, however this is not the point and I want it to be automatically generated. Can someone help me find out what is wrong? \r\n\r\n        \r\n    @Entity\r\n    @Table(name=&quot;user&quot;)\r\n    public class User implements Comparable&lt;User&gt;, Serializable {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t@Id\r\n    \t@GeneratedValue(strategy=GenerationType.AUTO)\r\n    \t@Column(name=&quot;user_id&quot;)\r\n    \tprivate Long id;\r\n    \t@Column(name=&quot;username&quot;, unique=true)\r\n    \tprivate String username;\r\n    \t@Column(name=&quot;firstname&quot;, nullable =false)\r\n    \tprivate String firstname;\r\n    \t@Column(name=&quot;middlename&quot;, nullable =true)\r\n    \tprivate String middlename;\r\n    \t@Column(name=&quot;lastname&quot;, nullable =false)\r\n    \tprivate String lastname;\r\n    \t@Column(name=&quot;email&quot;, nullable = false)\r\n    \tprivate String email;\r\n    \t@Column(name=&quot;password&quot;, nullable =false)\r\n    \tprivate String password; \r\n\r\nmy persistence: \r\n\r\n     &lt;property name=&quot;hibernate.dialect&quot; value=&quot;com.app.central.dao.pagination.MySQLDialect&quot;/&gt;\r\n        \t&lt;property name=&quot;hibernate.archive.autodetection&quot; value=&quot;class&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQL57Dialect&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.search.default.directory_provider&quot; value=&quot;filesystem&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.search.default.indexBase&quot; value=&quot;./lucene/indexes&quot;/&gt;\r\n            &lt;property name=&quot;jboss.as.jpa.providerModule&quot; value=&quot;org.hibernate&quot; /&gt;\r\n      \t\t&lt;property name=&quot;wildfly.jpa.hibernate.search.module&quot; value=&quot;org.hibernate.search.orm&quot; /&gt;\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3Xj3o.png","title":"MySql GenerationType.AUTO does not generate anything and returns &#39;Field doesn&#39;t have a default value&#39;","body":"<p>I have the following code which should auto-generate user_id (PK) in the table USER. However, when adding data to the table I get the error: <em>ERROR 1364 (HY000): Field 'user_id' doesn't have a default value</em>. On the other hand, when I do manually insert bigInt there is no problem and the data is added to the table, however this is not the point and I want it to be automatically generated. Can someone help me find out what is wrong?</p>\n<pre><code>@Entity\n@Table(name=&quot;user&quot;)\npublic class User implements Comparable&lt;User&gt;, Serializable {\n    private static final long serialVersionUID = 1L;\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    @Column(name=&quot;user_id&quot;)\n    private Long id;\n    @Column(name=&quot;username&quot;, unique=true)\n    private String username;\n    @Column(name=&quot;firstname&quot;, nullable =false)\n    private String firstname;\n    @Column(name=&quot;middlename&quot;, nullable =true)\n    private String middlename;\n    @Column(name=&quot;lastname&quot;, nullable =false)\n    private String lastname;\n    @Column(name=&quot;email&quot;, nullable = false)\n    private String email;\n    @Column(name=&quot;password&quot;, nullable =false)\n    private String password; \n</code></pre>\n<p>my persistence:</p>\n<pre><code> &lt;property name=&quot;hibernate.dialect&quot; value=&quot;com.app.central.dao.pagination.MySQLDialect&quot;/&gt;\n        &lt;property name=&quot;hibernate.archive.autodetection&quot; value=&quot;class&quot;/&gt;\n        &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot; /&gt;\n        &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQL57Dialect&quot; /&gt;\n        &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\n        &lt;property name=&quot;hibernate.search.default.directory_provider&quot; value=&quot;filesystem&quot;/&gt;\n        &lt;property name=&quot;hibernate.search.default.indexBase&quot; value=&quot;./lucene/indexes&quot;/&gt;\n        &lt;property name=&quot;jboss.as.jpa.providerModule&quot; value=&quot;org.hibernate&quot; /&gt;\n        &lt;property name=&quot;wildfly.jpa.hibernate.search.module&quot; value=&quot;org.hibernate.search.orm&quot; /&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/3Xj3o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3Xj3o.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","multithreading","hazelcast"],"comments":[{"owner":{"account_id":2621552,"reputation":328,"user_id":2269454,"display_name":"mrck"},"score":0,"creation_date":1686900231,"post_id":76477981,"comment_id":134864482,"body_markdown":"Maybe something else is going on but what you described is not expected. If you have a reproducer better to create an issue here: https://github.com/hazelcast/hazelcast/issues/new/choose","body":"Maybe something else is going on but what you described is not expected. If you have a reproducer better to create an issue here: <a href=\"https://github.com/hazelcast/hazelcast/issues/new/choose\" rel=\"nofollow noreferrer\">github.com/hazelcast/hazelcast/issues/new/choose</a>"},{"owner":{"account_id":6459871,"reputation":102,"user_id":5004083,"display_name":"ihsan demir"},"score":0,"creation_date":1686924379,"post_id":76477981,"comment_id":134869565,"body_markdown":"Definitely, it should work similar to LinkedBlockingQueue. A reproducer would help to understand.","body":"Definitely, it should work similar to LinkedBlockingQueue. A reproducer would help to understand."}],"owner":{"account_id":1589697,"reputation":382,"user_id":1473320,"display_name":"kashev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686782020,"creation_date":1686782020,"question_id":76477981,"body_markdown":"I&#39;m working on a distributed system, written in Java, which is using a Hazelcast [`IQueue`][1] ([non Javadoc documentation][2]). I am using Hazelcast 3.12, and for business reasons, do not have the ability to change this version.\r\n\r\nOne one node, I have a thread calling [`poll`][3]. In another thread on that **same node**, I am calling [`drainTo`][4], a method in the `BlockingQueue` interface that `IQueue` implements.\r\n\r\nThe behavior I expect to see is that any thread calling `poll` (on the same node, or on a different node in the distributed system) does not see the same queue elements that I get in the `drainTo` call. What I instead see is that sometimes, the thread that&#39;s running `poll` sees an element that&#39;s also in the `drainTo` call.\r\n\r\nI *don&#39;t* see this behavior if I swap out the Hazelcast `IQueue` with an undistributed `LinkedBlockingQueue`. This makes sense given the answers on [this question][5].\r\n\r\nMy questions are:\r\n\r\n* Am I wrong in expecting that the contract of `BlockingQueue` includes this &quot;exclusivity&quot; in the elements seen when calling `poll` and `drainTo` in different threads?\r\n* Is there a way to get all the elements of the queue at once such that I never see any duplicate elements in this &quot;multiple consumers&quot; scenario?\r\n\r\n\r\n  [1]: https://docs.hazelcast.org/docs/3.12.12/javadoc/com/hazelcast/core/IQueue.html\r\n  [2]: https://docs.hazelcast.com/imdg/3.12/data-structures/queue\r\n  [3]: https://docs.hazelcast.org/docs/3.12.12/javadoc/com/hazelcast/core/IQueue.html#poll-long-java.util.concurrent.TimeUnit-\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/BlockingQueue.html?is-external=true#drainTo-java.util.Collection-\r\n  [5]: https://stackoverflow.com/q/6607195/1473320","title":"Does Hazelcast IQueue drainTo lock the queue?","body":"<p>I'm working on a distributed system, written in Java, which is using a Hazelcast <a href=\"https://docs.hazelcast.org/docs/3.12.12/javadoc/com/hazelcast/core/IQueue.html\" rel=\"nofollow noreferrer\"><code>IQueue</code></a> (<a href=\"https://docs.hazelcast.com/imdg/3.12/data-structures/queue\" rel=\"nofollow noreferrer\">non Javadoc documentation</a>). I am using Hazelcast 3.12, and for business reasons, do not have the ability to change this version.</p>\n<p>One one node, I have a thread calling <a href=\"https://docs.hazelcast.org/docs/3.12.12/javadoc/com/hazelcast/core/IQueue.html#poll-long-java.util.concurrent.TimeUnit-\" rel=\"nofollow noreferrer\"><code>poll</code></a>. In another thread on that <strong>same node</strong>, I am calling <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/BlockingQueue.html?is-external=true#drainTo-java.util.Collection-\" rel=\"nofollow noreferrer\"><code>drainTo</code></a>, a method in the <code>BlockingQueue</code> interface that <code>IQueue</code> implements.</p>\n<p>The behavior I expect to see is that any thread calling <code>poll</code> (on the same node, or on a different node in the distributed system) does not see the same queue elements that I get in the <code>drainTo</code> call. What I instead see is that sometimes, the thread that's running <code>poll</code> sees an element that's also in the <code>drainTo</code> call.</p>\n<p>I <em>don't</em> see this behavior if I swap out the Hazelcast <code>IQueue</code> with an undistributed <code>LinkedBlockingQueue</code>. This makes sense given the answers on <a href=\"https://stackoverflow.com/q/6607195/1473320\">this question</a>.</p>\n<p>My questions are:</p>\n<ul>\n<li>Am I wrong in expecting that the contract of <code>BlockingQueue</code> includes this &quot;exclusivity&quot; in the elements seen when calling <code>poll</code> and <code>drainTo</code> in different threads?</li>\n<li>Is there a way to get all the elements of the queue at once such that I never see any duplicate elements in this &quot;multiple consumers&quot; scenario?</li>\n</ul>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka","confluent-schema-registry"],"comments":[{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":1,"creation_date":1686595215,"post_id":76459401,"comment_id":134817551,"body_markdown":"This message on the stack trace is pretty straightforward `Caused by: java.lang.NoClassDefFoundError: io/confluent/kafka/schemaregistry/rules/RuleException` it means you are missing some classes in your classpath, hence you might need to check which dependencies you are missing, probably this one: https://mvnrepository.com/artifact/io.confluent/kafka-json-schema-serializer/5.5.1 (from a quick google search)","body":"This message on the stack trace is pretty straightforward <code>Caused by: java.lang.NoClassDefFoundError: io&#47;confluent&#47;kafka&#47;schemaregistry&#47;rules&#47;RuleException</code> it means you are missing some classes in your classpath, hence you might need to check which dependencies you are missing, probably this one: <a href=\"https://mvnrepository.com/artifact/io.confluent/kafka-json-schema-serializer/5.5.1\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/io.confluent/&hellip;</a> (from a quick google search)"},{"owner":{"account_id":26297276,"reputation":3,"user_id":19963299,"display_name":"Debjit Chattopadhyay"},"score":0,"creation_date":1686596309,"post_id":76459401,"comment_id":134817720,"body_markdown":"Hi Jorge, \nThanks for replying. But I am already having kafka-json-schema-serializer dependency in my pom.xml.","body":"Hi Jorge,  Thanks for replying. But I am already having kafka-json-schema-serializer dependency in my pom.xml."},{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1686686584,"post_id":76459401,"comment_id":134832795,"body_markdown":"Then it is probably something that this library depends on. You can search to which library this `RuleException` class belongs and then add it to your dependencies. If it is already there I would recommend checking whether you build tool is actually setting up the project correctly.","body":"Then it is probably something that this library depends on. You can search to which library this <code>RuleException</code> class belongs and then add it to your dependencies. If it is already there I would recommend checking whether you build tool is actually setting up the project correctly."}],"answers":[{"comments":[{"owner":{"account_id":26297276,"reputation":3,"user_id":19963299,"display_name":"Debjit Chattopadhyay"},"score":1,"creation_date":1686981806,"post_id":76477951,"comment_id":134876274,"body_markdown":"Thanks @OneCricketeer\nThere was dependency version mismatch between `kafka-json-schema-serializer` and `kafka-schema-registry-client`. After using the latest dependency for both, the services started.","body":"Thanks @OneCricketeer There was dependency version mismatch between <code>kafka-json-schema-serializer</code> and <code>kafka-schema-registry-client</code>. After using the latest dependency for both, the services started."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1687003380,"post_id":76477951,"comment_id":134878184,"body_markdown":"Feel free to accept the answer using the checkmark next to the post","body":"Feel free to accept the answer using the checkmark next to the post"}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686781532,"creation_date":1686781532,"answer_id":76477951,"question_id":76459401,"body_markdown":"The RuleException class is part of the `kafka-schema-registry-client` dependency, which should be included as part of `json-schema-serializer` one, but really depends if you are using mismatched versions of both... \r\n\r\nThat class was only recently introduced to the Schema Registry codebase, so I would first verify if you need to be using the latest version of the json schema dependency or not","title":"Getting the below exception io.confluent.kafka.schemaregistry.rules.RuleException when trying to add a KafkaJsonSchemaDeserializer for confluent kafka","body":"<p>The RuleException class is part of the <code>kafka-schema-registry-client</code> dependency, which should be included as part of <code>json-schema-serializer</code> one, but really depends if you are using mismatched versions of both...</p>\n<p>That class was only recently introduced to the Schema Registry codebase, so I would first verify if you need to be using the latest version of the json schema dependency or not</p>\n"}],"owner":{"account_id":26297276,"reputation":3,"user_id":19963299,"display_name":"Debjit Chattopadhyay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":545,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76477951,"answer_count":1,"score":0,"last_activity_date":1686781674,"creation_date":1686594848,"question_id":76459401,"body_markdown":"`I am consuming messages from a topic using schema registry. For the consumer part i am trying to use `io.confluent.kafka.serializers.json.KafkaJsonSchemaDeserializer` while consuming the messages in my KafkaListener. But after adding the `KafkaJsonSchemaDeserializer` my spring boot application is not starting and is showing the below exception. Sharing the app logs here:\r\n\r\n\r\n\r\n```\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v3.1.0)\r\n\r\n2023-06-12T23:45:37.069+05:30  INFO 19132 --- [           main] c.example.KafkaPOC.demo.DemoApplication  : Starting DemoApplication using Java 17.0.1 with PID 19132 (C:\\Users\\Debjit\\Downloads\\demo\\target\\classes started by Debjit in C:\\Users\\Debjit\\Downloads\\demo)\r\n2023-06-12T23:45:37.075+05:30  INFO 19132 --- [           main] c.example.KafkaPOC.demo.DemoApplication  : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-06-12T23:45:39.997+05:30  INFO 19132 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 61002 (http)\r\n2023-06-12T23:45:40.020+05:30  INFO 19132 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-06-12T23:45:40.021+05:30  INFO 19132 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.8]\r\n2023-06-12T23:45:40.336+05:30  INFO 19132 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-06-12T23:45:40.342+05:30  INFO 19132 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3158 ms\r\n2023-06-12T23:45:42.281+05:30  INFO 19132 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 61002 (http) with context path &#39;&#39;\r\n2023-06-12T23:45:42.382+05:30  INFO 19132 --- [           main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: \r\n\tallow.auto.create.topics = true\r\n\tauto.commit.interval.ms = 5000\r\n\tauto.include.jmx.reporter = true\r\n\tauto.offset.reset = earliest\r\n\tbootstrap.servers = [pkc-ymrq7.us-east-2.aws.confluent.cloud:9092]\r\n\tcheck.crcs = true\r\n\tclient.dns.lookup = use_all_dns_ips\r\n\tclient.id = consumer-aws-topic-consumer-group-1\r\n\tclient.rack = \r\n\tconnections.max.idle.ms = 540000\r\n\tdefault.api.timeout.ms = 60000\r\n\tenable.auto.commit = false\r\n\texclude.internal.topics = true\r\n\tfetch.max.bytes = 52428800\r\n\tfetch.max.wait.ms = 500\r\n\tfetch.min.bytes = 1\r\n\tgroup.id = aws-topic-consumer-group\r\n\tgroup.instance.id = null\r\n\theartbeat.interval.ms = 3000\r\n\tinterceptor.classes = []\r\n\tinternal.leave.group.on.close = true\r\n\tinternal.throw.on.fetch.stable.offset.unsupported = false\r\n\tisolation.level = read_uncommitted\r\n\tkey.deserializer = class org.apache.kafka.common.serialization.StringDeserializer\r\n\tmax.partition.fetch.bytes = 1048576\r\n\tmax.poll.interval.ms = 300000\r\n\tmax.poll.records = 500\r\n\tmetadata.max.age.ms = 300000\r\n\tmetric.reporters = []\r\n\tmetrics.num.samples = 2\r\n\tmetrics.recording.level = INFO\r\n\tmetrics.sample.window.ms = 30000\r\n\tpartition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]\r\n\treceive.buffer.bytes = 65536\r\n\treconnect.backoff.max.ms = 1000\r\n\treconnect.backoff.ms = 50\r\n\trequest.timeout.ms = 30000\r\n\tretry.backoff.ms = 100\r\n\tsasl.client.callback.handler.class = null\r\n\tsasl.jaas.config = [hidden]\r\n\tsasl.kerberos.kinit.cmd = /usr/bin/kinit\r\n\tsasl.kerberos.min.time.before.relogin = 60000\r\n\tsasl.kerberos.service.name = null\r\n\tsasl.kerberos.ticket.renew.jitter = 0.05\r\n\tsasl.kerberos.ticket.renew.window.factor = 0.8\r\n\tsasl.login.callback.handler.class = null\r\n\tsasl.login.class = null\r\n\tsasl.login.connect.timeout.ms = null\r\n\tsasl.login.read.timeout.ms = null\r\n\tsasl.login.refresh.buffer.seconds = 300\r\n\tsasl.login.refresh.min.period.seconds = 60\r\n\tsasl.login.refresh.window.factor = 0.8\r\n\tsasl.login.refresh.window.jitter = 0.05\r\n\tsasl.login.retry.backoff.max.ms = 10000\r\n\tsasl.login.retry.backoff.ms = 100\r\n\tsasl.mechanism = PLAIN\r\n\tsasl.oauthbearer.clock.skew.seconds = 30\r\n\tsasl.oauthbearer.expected.audience = null\r\n\tsasl.oauthbearer.expected.issuer = null\r\n\tsasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000\r\n\tsasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000\r\n\tsasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100\r\n\tsasl.oauthbearer.jwks.endpoint.url = null\r\n\tsasl.oauthbearer.scope.claim.name = scope\r\n\tsasl.oauthbearer.sub.claim.name = sub\r\n\tsasl.oauthbearer.token.endpoint.url = null\r\n\tsecurity.protocol = SASL_SSL\r\n\tsecurity.providers = null\r\n\tsend.buffer.bytes = 131072\r\n\tsession.timeout.ms = 45000\r\n\tsocket.connection.setup.timeout.max.ms = 30000\r\n\tsocket.connection.setup.timeout.ms = 10000\r\n\tssl.cipher.suites = null\r\n\tssl.enabled.protocols = [TLSv1.2, TLSv1.3]\r\n\tssl.endpoint.identification.algorithm = https\r\n\tssl.engine.factory.class = null\r\n\tssl.key.password = null\r\n\tssl.keymanager.algorithm = SunX509\r\n\tssl.keystore.certificate.chain = null\r\n\tssl.keystore.key = null\r\n\tssl.keystore.location = null\r\n\tssl.keystore.password = null\r\n\tssl.keystore.type = JKS\r\n\tssl.protocol = TLSv1.3\r\n\tssl.provider = null\r\n\tssl.secure.random.implementation = null\r\n\tssl.trustmanager.algorithm = PKIX\r\n\tssl.truststore.certificates = null\r\n\tssl.truststore.location = null\r\n\tssl.truststore.password = null\r\n\tssl.truststore.type = JKS\r\n\tvalue.deserializer = class io.confluent.kafka.serializers.json.KafkaJsonSchemaDeserializer\r\n\r\n2023-06-12T23:45:42.512+05:30  INFO 19132 --- [           main] o.apache.kafka.common.metrics.Metrics    : Metrics scheduler closed\r\n2023-06-12T23:45:42.512+05:30  INFO 19132 --- [           main] o.apache.kafka.common.metrics.Metrics    : Closing reporter org.apache.kafka.common.metrics.JmxReporter\r\n2023-06-12T23:45:42.518+05:30  INFO 19132 --- [           main] o.apache.kafka.common.metrics.Metrics    : Metrics reporters closed\r\n2023-06-12T23:45:42.523+05:30  INFO 19132 --- [           main] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-aws-topic-consumer-group-1 unregistered\r\n2023-06-12T23:45:42.524+05:30  WARN 19132 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean &#39;org.springframework.kafka.config.internalKafkaListenerEndpointRegistry&#39;\r\n2023-06-12T23:45:42.569+05:30  INFO 19132 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2023-06-12T23:45:42.610+05:30  INFO 19132 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \r\n\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-06-12T23:45:42.652+05:30 ERROR 19132 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.context.ApplicationContextException: Failed to start bean &#39;org.springframework.kafka.config.internalKafkaListenerEndpointRegistry&#39;\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:958) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:611) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1305) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1294) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat com.example.KafkaPOC.demo.DemoApplication.main(DemoApplication.java:10) ~[classes/:na]\r\nCaused by: org.apache.kafka.common.KafkaException: Failed to construct kafka consumer\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:830) ~[kafka-clients-3.4.0.jar:na]\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:665) ~[kafka-clients-3.4.0.jar:na]\r\n\tat org.springframework.kafka.core.DefaultKafkaConsumerFactory.createRawConsumer(DefaultKafkaConsumerFactory.java:483) ~[spring-kafka-3.0.7.jar:3.0.7]\r\n\tat org.springframework.kafka.core.DefaultKafkaConsumerFactory.createKafkaConsumer(DefaultKafkaConsumerFactory.java:451) ~[spring-kafka-3.0.7.jar:3.0.7]\r\n\tat org.springframework.kafka.core.DefaultKafkaConsumerFactory.createConsumerWithAdjustedProperties(DefaultKafkaConsumerFactory.java:427) ~[spring-kafka-3.0.7.jar:3.0.7]\r\n\tat org.springframework.kafka.core.DefaultKafkaConsumerFactory.createKafkaConsumer(DefaultKafkaConsumerFactory.java:394) ~[spring-kafka-3.0.7.jar:3.0.7]\r\n\tat org.springframework.kafka.core.DefaultKafkaConsumerFactory.createConsumer(DefaultKafkaConsumerFactory.java:371) ~[spring-kafka-3.0.7.jar:3.0.7]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.&lt;init&gt;(KafkaMessageListenerContainer.java:867) ~[spring-kafka-3.0.7.jar:3.0.7]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer.doStart(KafkaMessageListenerContainer.java:382) ~[spring-kafka-3.0.7.jar:3.0.7]\r\n\tat org.springframework.kafka.listener.AbstractMessageListenerContainer.start(AbstractMessageListenerContainer.java:555) ~[spring-kafka-3.0.7.jar:3.0.7]\r\n\tat org.springframework.kafka.listener.ConcurrentMessageListenerContainer.doStart(ConcurrentMessageListenerContainer.java:231) ~[spring-kafka-3.0.7.jar:3.0.7]\r\n\tat org.springframework.kafka.listener.AbstractMessageListenerContainer.start(AbstractMessageListenerContainer.java:555) ~[spring-kafka-3.0.7.jar:3.0.7]\r\n\tat org.springframework.kafka.config.KafkaListenerEndpointRegistry.startIfNecessary(KafkaListenerEndpointRegistry.java:383) ~[spring-kafka-3.0.7.jar:3.0.7]\r\n\tat org.springframework.kafka.config.KafkaListenerEndpointRegistry.start(KafkaListenerEndpointRegistry.java:328) ~[spring-kafka-3.0.7.jar:3.0.7]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-6.0.9.jar:6.0.9]\r\n\t... 13 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: io/confluent/kafka/schemaregistry/rules/RuleException\r\n\tat java.base/java.lang.Class.getDeclaredConstructors0(Native Method) ~[na:na]\r\n\tat java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3373) ~[na:na]\r\n\tat java.base/java.lang.Class.getConstructor0(Class.java:3578) ~[na:na]\r\n\tat java.base/java.lang.Class.getDeclaredConstructor(Class.java:2754) ~[na:na]\r\n\tat org.apache.kafka.common.utils.Utils.newInstance(Utils.java:395) ~[kafka-clients-3.4.0.jar:na]\r\n\tat org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:401) ~[kafka-clients-3.4.0.jar:na]\r\n\tat org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:436) ~[kafka-clients-3.4.0.jar:na]\r\n\tat org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:421) ~[kafka-clients-3.4.0.jar:na]\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:716) ~[kafka-clients-3.4.0.jar:na]\r\n\t... 27 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: io.confluent.kafka.schemaregistry.rules.RuleException\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n\t... 36 common frames omitted\r\n\r\nDisconnected from the target VM, address: &#39;127.0.0.1:49806&#39;, transport: &#39;socket&#39;\r\n\r\nProcess finished with exit code 1\r\n\r\n\r\nFor the Kafka Topic i have set JSON Schema as the schema.\r\n```\r\n\r\n\r\nSharing my application.yml file : \r\n\r\n```\r\n`server:\r\n  port: 61002\r\n\r\nspring:\r\n  kafka:\r\n    bootstrap-servers: pkc-ymrq7.us-east-2.aws.confluent.cloud:9092\r\n    properties:\r\n      schema:\r\n        registry:\r\n          url: https://psrc-mw0d1.us-east-2.aws.confluent.cloud\r\n      basic:\r\n        auth:\r\n          credentials:\r\n            source: USER_INFO\r\n          user:\r\n            info: API_KEY:API_SECRET\r\n      sasl:\r\n        jaas:\r\n          config: org.apache.kafka.common.security.plain.PlainLoginModule\r\n            required username=&quot;API_KEY&quot; password=&quot;API_SECRET&quot;;\r\n        mechanism: PLAIN\r\n      security:\r\n        protocol: SASL_SSL\r\n      ssl:\r\n        endpoint:\r\n          identification:\r\n            algorithm: https\r\n    consumer:\r\n      autoOffsetReset: earliest\r\n      group-id: aws-topic-consumer-group\r\n      keyDeserializer: org.apache.kafka.common.serialization.StringDeserializer\r\n      valueDeserializer: io.confluent.kafka.serializers.json.KafkaJsonSchemaDeserializer\r\nconfluent:\r\n  topic: schema_topic`\r\n```\r\n\r\nThis is my KafkaConsumer : \r\n\r\n\r\n```\r\n`package com.example.KafkaPOC.demo.service;\r\n\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.apache.kafka.clients.consumer.ConsumerRecord;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.kafka.annotation.KafkaListener;\r\nimport org.springframework.kafka.core.KafkaTemplate;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\n@Slf4j\r\npublic class CoreService {\r\n\r\n    @Value(&quot;${confluent.topic}&quot;)\r\n    private String inputTopic;\r\n\r\n    @Autowired\r\n    KafkaTemplate&lt;String, String&gt; kafkaTemplate;`your text`\r\n\r\n    @KafkaListener(topics = &quot;schema_topic&quot;, groupId = &quot;aws-topic-consumer-group&quot;,containerFactory = &quot;kafkaListenerContainerFactory&quot;)\r\n    public void consumeFromKafkaViaSchemaValidation(ConsumerRecord&lt;String, JsonNode&gt; record){\r\n        log.info(&quot;Message consumed from topic &quot;+inputTopic+&quot;:- &quot; + record.value());\r\n\r\n    }\r\n}`\r\n`\r\n```\r\n\r\nThis is my project structure for reference.\r\n\r\n[enter image description here](https://i.stack.imgur.com/BNJVF.png)\r\n\r\nI am consuming from the topic schema_topic which is having a JSON Schema set on it in confluent cloud. PFA the attachment.\r\n\r\n[enter image description here](https://i.stack.imgur.com/nhlw7.png)\r\n","title":"Getting the below exception io.confluent.kafka.schemaregistry.rules.RuleException when trying to add a KafkaJsonSchemaDeserializer for confluent kafka","body":"<p><code>I am consuming messages from a topic using schema registry. For the consumer part i am trying to use </code>io.confluent.kafka.serializers.json.KafkaJsonSchemaDeserializer<code>while consuming the messages in my KafkaListener. But after adding the</code>KafkaJsonSchemaDeserializer` my spring boot application is not starting and is showing the below exception. Sharing the app logs here:</p>\n<pre><code>\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.1.0)\n\n2023-06-12T23:45:37.069+05:30  INFO 19132 --- [           main] c.example.KafkaPOC.demo.DemoApplication  : Starting DemoApplication using Java 17.0.1 with PID 19132 (C:\\Users\\Debjit\\Downloads\\demo\\target\\classes started by Debjit in C:\\Users\\Debjit\\Downloads\\demo)\n2023-06-12T23:45:37.075+05:30  INFO 19132 --- [           main] c.example.KafkaPOC.demo.DemoApplication  : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-06-12T23:45:39.997+05:30  INFO 19132 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 61002 (http)\n2023-06-12T23:45:40.020+05:30  INFO 19132 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-06-12T23:45:40.021+05:30  INFO 19132 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.8]\n2023-06-12T23:45:40.336+05:30  INFO 19132 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-06-12T23:45:40.342+05:30  INFO 19132 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3158 ms\n2023-06-12T23:45:42.281+05:30  INFO 19132 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 61002 (http) with context path ''\n2023-06-12T23:45:42.382+05:30  INFO 19132 --- [           main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: \n    allow.auto.create.topics = true\n    auto.commit.interval.ms = 5000\n    auto.include.jmx.reporter = true\n    auto.offset.reset = earliest\n    bootstrap.servers = [pkc-ymrq7.us-east-2.aws.confluent.cloud:9092]\n    check.crcs = true\n    client.dns.lookup = use_all_dns_ips\n    client.id = consumer-aws-topic-consumer-group-1\n    client.rack = \n    connections.max.idle.ms = 540000\n    default.api.timeout.ms = 60000\n    enable.auto.commit = false\n    exclude.internal.topics = true\n    fetch.max.bytes = 52428800\n    fetch.max.wait.ms = 500\n    fetch.min.bytes = 1\n    group.id = aws-topic-consumer-group\n    group.instance.id = null\n    heartbeat.interval.ms = 3000\n    interceptor.classes = []\n    internal.leave.group.on.close = true\n    internal.throw.on.fetch.stable.offset.unsupported = false\n    isolation.level = read_uncommitted\n    key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer\n    max.partition.fetch.bytes = 1048576\n    max.poll.interval.ms = 300000\n    max.poll.records = 500\n    metadata.max.age.ms = 300000\n    metric.reporters = []\n    metrics.num.samples = 2\n    metrics.recording.level = INFO\n    metrics.sample.window.ms = 30000\n    partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]\n    receive.buffer.bytes = 65536\n    reconnect.backoff.max.ms = 1000\n    reconnect.backoff.ms = 50\n    request.timeout.ms = 30000\n    retry.backoff.ms = 100\n    sasl.client.callback.handler.class = null\n    sasl.jaas.config = [hidden]\n    sasl.kerberos.kinit.cmd = /usr/bin/kinit\n    sasl.kerberos.min.time.before.relogin = 60000\n    sasl.kerberos.service.name = null\n    sasl.kerberos.ticket.renew.jitter = 0.05\n    sasl.kerberos.ticket.renew.window.factor = 0.8\n    sasl.login.callback.handler.class = null\n    sasl.login.class = null\n    sasl.login.connect.timeout.ms = null\n    sasl.login.read.timeout.ms = null\n    sasl.login.refresh.buffer.seconds = 300\n    sasl.login.refresh.min.period.seconds = 60\n    sasl.login.refresh.window.factor = 0.8\n    sasl.login.refresh.window.jitter = 0.05\n    sasl.login.retry.backoff.max.ms = 10000\n    sasl.login.retry.backoff.ms = 100\n    sasl.mechanism = PLAIN\n    sasl.oauthbearer.clock.skew.seconds = 30\n    sasl.oauthbearer.expected.audience = null\n    sasl.oauthbearer.expected.issuer = null\n    sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000\n    sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000\n    sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100\n    sasl.oauthbearer.jwks.endpoint.url = null\n    sasl.oauthbearer.scope.claim.name = scope\n    sasl.oauthbearer.sub.claim.name = sub\n    sasl.oauthbearer.token.endpoint.url = null\n    security.protocol = SASL_SSL\n    security.providers = null\n    send.buffer.bytes = 131072\n    session.timeout.ms = 45000\n    socket.connection.setup.timeout.max.ms = 30000\n    socket.connection.setup.timeout.ms = 10000\n    ssl.cipher.suites = null\n    ssl.enabled.protocols = [TLSv1.2, TLSv1.3]\n    ssl.endpoint.identification.algorithm = https\n    ssl.engine.factory.class = null\n    ssl.key.password = null\n    ssl.keymanager.algorithm = SunX509\n    ssl.keystore.certificate.chain = null\n    ssl.keystore.key = null\n    ssl.keystore.location = null\n    ssl.keystore.password = null\n    ssl.keystore.type = JKS\n    ssl.protocol = TLSv1.3\n    ssl.provider = null\n    ssl.secure.random.implementation = null\n    ssl.trustmanager.algorithm = PKIX\n    ssl.truststore.certificates = null\n    ssl.truststore.location = null\n    ssl.truststore.password = null\n    ssl.truststore.type = JKS\n    value.deserializer = class io.confluent.kafka.serializers.json.KafkaJsonSchemaDeserializer\n\n2023-06-12T23:45:42.512+05:30  INFO 19132 --- [           main] o.apache.kafka.common.metrics.Metrics    : Metrics scheduler closed\n2023-06-12T23:45:42.512+05:30  INFO 19132 --- [           main] o.apache.kafka.common.metrics.Metrics    : Closing reporter org.apache.kafka.common.metrics.JmxReporter\n2023-06-12T23:45:42.518+05:30  INFO 19132 --- [           main] o.apache.kafka.common.metrics.Metrics    : Metrics reporters closed\n2023-06-12T23:45:42.523+05:30  INFO 19132 --- [           main] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-aws-topic-consumer-group-1 unregistered\n2023-06-12T23:45:42.524+05:30  WARN 19132 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'org.springframework.kafka.config.internalKafkaListenerEndpointRegistry'\n2023-06-12T23:45:42.569+05:30  INFO 19132 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2023-06-12T23:45:42.610+05:30  INFO 19132 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-06-12T23:45:42.652+05:30 ERROR 19132 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.context.ApplicationContextException: Failed to start bean 'org.springframework.kafka.config.internalKafkaListenerEndpointRegistry'\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-6.0.9.jar:6.0.9]\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\n    at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:958) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:611) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1305) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1294) ~[spring-boot-3.1.0.jar:3.1.0]\n    at com.example.KafkaPOC.demo.DemoApplication.main(DemoApplication.java:10) ~[classes/:na]\nCaused by: org.apache.kafka.common.KafkaException: Failed to construct kafka consumer\n    at org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:830) ~[kafka-clients-3.4.0.jar:na]\n    at org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:665) ~[kafka-clients-3.4.0.jar:na]\n    at org.springframework.kafka.core.DefaultKafkaConsumerFactory.createRawConsumer(DefaultKafkaConsumerFactory.java:483) ~[spring-kafka-3.0.7.jar:3.0.7]\n    at org.springframework.kafka.core.DefaultKafkaConsumerFactory.createKafkaConsumer(DefaultKafkaConsumerFactory.java:451) ~[spring-kafka-3.0.7.jar:3.0.7]\n    at org.springframework.kafka.core.DefaultKafkaConsumerFactory.createConsumerWithAdjustedProperties(DefaultKafkaConsumerFactory.java:427) ~[spring-kafka-3.0.7.jar:3.0.7]\n    at org.springframework.kafka.core.DefaultKafkaConsumerFactory.createKafkaConsumer(DefaultKafkaConsumerFactory.java:394) ~[spring-kafka-3.0.7.jar:3.0.7]\n    at org.springframework.kafka.core.DefaultKafkaConsumerFactory.createConsumer(DefaultKafkaConsumerFactory.java:371) ~[spring-kafka-3.0.7.jar:3.0.7]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.&lt;init&gt;(KafkaMessageListenerContainer.java:867) ~[spring-kafka-3.0.7.jar:3.0.7]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer.doStart(KafkaMessageListenerContainer.java:382) ~[spring-kafka-3.0.7.jar:3.0.7]\n    at org.springframework.kafka.listener.AbstractMessageListenerContainer.start(AbstractMessageListenerContainer.java:555) ~[spring-kafka-3.0.7.jar:3.0.7]\n    at org.springframework.kafka.listener.ConcurrentMessageListenerContainer.doStart(ConcurrentMessageListenerContainer.java:231) ~[spring-kafka-3.0.7.jar:3.0.7]\n    at org.springframework.kafka.listener.AbstractMessageListenerContainer.start(AbstractMessageListenerContainer.java:555) ~[spring-kafka-3.0.7.jar:3.0.7]\n    at org.springframework.kafka.config.KafkaListenerEndpointRegistry.startIfNecessary(KafkaListenerEndpointRegistry.java:383) ~[spring-kafka-3.0.7.jar:3.0.7]\n    at org.springframework.kafka.config.KafkaListenerEndpointRegistry.start(KafkaListenerEndpointRegistry.java:328) ~[spring-kafka-3.0.7.jar:3.0.7]\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-6.0.9.jar:6.0.9]\n    ... 13 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: io/confluent/kafka/schemaregistry/rules/RuleException\n    at java.base/java.lang.Class.getDeclaredConstructors0(Native Method) ~[na:na]\n    at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3373) ~[na:na]\n    at java.base/java.lang.Class.getConstructor0(Class.java:3578) ~[na:na]\n    at java.base/java.lang.Class.getDeclaredConstructor(Class.java:2754) ~[na:na]\n    at org.apache.kafka.common.utils.Utils.newInstance(Utils.java:395) ~[kafka-clients-3.4.0.jar:na]\n    at org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:401) ~[kafka-clients-3.4.0.jar:na]\n    at org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:436) ~[kafka-clients-3.4.0.jar:na]\n    at org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:421) ~[kafka-clients-3.4.0.jar:na]\n    at org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:716) ~[kafka-clients-3.4.0.jar:na]\n    ... 27 common frames omitted\nCaused by: java.lang.ClassNotFoundException: io.confluent.kafka.schemaregistry.rules.RuleException\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    ... 36 common frames omitted\n\nDisconnected from the target VM, address: '127.0.0.1:49806', transport: 'socket'\n\nProcess finished with exit code 1\n\n\nFor the Kafka Topic i have set JSON Schema as the schema.\n</code></pre>\n<p>Sharing my application.yml file :</p>\n<pre><code>`server:\n  port: 61002\n\nspring:\n  kafka:\n    bootstrap-servers: pkc-ymrq7.us-east-2.aws.confluent.cloud:9092\n    properties:\n      schema:\n        registry:\n          url: https://psrc-mw0d1.us-east-2.aws.confluent.cloud\n      basic:\n        auth:\n          credentials:\n            source: USER_INFO\n          user:\n            info: API_KEY:API_SECRET\n      sasl:\n        jaas:\n          config: org.apache.kafka.common.security.plain.PlainLoginModule\n            required username=&quot;API_KEY&quot; password=&quot;API_SECRET&quot;;\n        mechanism: PLAIN\n      security:\n        protocol: SASL_SSL\n      ssl:\n        endpoint:\n          identification:\n            algorithm: https\n    consumer:\n      autoOffsetReset: earliest\n      group-id: aws-topic-consumer-group\n      keyDeserializer: org.apache.kafka.common.serialization.StringDeserializer\n      valueDeserializer: io.confluent.kafka.serializers.json.KafkaJsonSchemaDeserializer\nconfluent:\n  topic: schema_topic`\n</code></pre>\n<p>This is my KafkaConsumer :</p>\n<pre><code>`package com.example.KafkaPOC.demo.service;\n\nimport com.fasterxml.jackson.databind.JsonNode;\nimport lombok.extern.slf4j.Slf4j;\nimport org.apache.kafka.clients.consumer.ConsumerRecord;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.kafka.annotation.KafkaListener;\nimport org.springframework.kafka.core.KafkaTemplate;\nimport org.springframework.stereotype.Service;\n\n@Service\n@Slf4j\npublic class CoreService {\n\n    @Value(&quot;${confluent.topic}&quot;)\n    private String inputTopic;\n\n    @Autowired\n    KafkaTemplate&lt;String, String&gt; kafkaTemplate;`your text`\n\n    @KafkaListener(topics = &quot;schema_topic&quot;, groupId = &quot;aws-topic-consumer-group&quot;,containerFactory = &quot;kafkaListenerContainerFactory&quot;)\n    public void consumeFromKafkaViaSchemaValidation(ConsumerRecord&lt;String, JsonNode&gt; record){\n        log.info(&quot;Message consumed from topic &quot;+inputTopic+&quot;:- &quot; + record.value());\n\n    }\n}`\n`\n</code></pre>\n<p>This is my project structure for reference.</p>\n<p><a href=\"https://i.stack.imgur.com/BNJVF.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I am consuming from the topic schema_topic which is having a JSON Schema set on it in confluent cloud. PFA the attachment.</p>\n<p><a href=\"https://i.stack.imgur.com/nhlw7.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","android","opengl-es","mesh","3d-reconstruction"],"comments":[{"owner":{"account_id":253976,"reputation":10824,"user_id":533037,"accept_rate":60,"display_name":"solidpixel"},"score":0,"creation_date":1686902035,"post_id":76456161,"comment_id":134864805,"body_markdown":"You can use C++ in Android just fine - just set up some JNI bindings to the native code (see NDK samples for how to do this).","body":"You can use C++ in Android just fine - just set up some JNI bindings to the native code (see NDK samples for how to do this)."}],"owner":{"account_id":20090291,"reputation":1,"user_id":14730936,"display_name":"romanis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686781405,"creation_date":1686568871,"question_id":76456161,"body_markdown":"I need to reconstruct a mesh from a point cloud for an Android application. This app creates a mesh from a large point cloud and then measures the distance between two randomly selected points on the mesh. \r\nI tried to reconstruct the mesh using OpenGL ES with the glDrawArrays() function, but the results were unsatisfactory. Therefore, I started looking for a library capable of handling this task, specifically surface reconstruction. Unfortunately, I couldn&#39;t find anything suitable as most computer vision libraries are developed for Python or C++, which are not directly compatible with Android. Do you have any advice for achieving this in my particular use case? Which library fulfill my requirements?\r\n\r\nThe images below were implemented with glDrawArray(GL_POINTS) for the point cloud, the other image with gLDrawArray(GL_TRIANGLES) for the mesh.\r\n\r\npoint cloud:\r\n[![enter image description here][1]][1]\r\n\r\nmesh\r\n[![enter image description here][2]][2]\r\n\r\n\r\n\r\n\r\nThat&#39;s the part of code where I initialise and implement the mesh.  \r\n\r\n```\r\npublic void onDrawFrame(GL10 gl) {\r\n            GLES20.glClear(GLES20.GL_COLOR_BUFFER_BIT | GLES20.GL_DEPTH_BUFFER_BIT);\r\n\r\n            ...\r\n\r\n            GLES20.glUseProgram(mProgram);\r\n\r\n            maPositionHandle = GLES20.glGetAttribLocation(mProgram, &quot;vPosition&quot;);\r\n            GLES20.glEnableVertexAttribArray(maPositionHandle);\r\n            GLES20.glVertexAttribPointer(maPositionHandle, 3, GLES20.GL_FLOAT, false, 12, vertexBuffer);\r\n\r\n            int colorHandle = GLES20.glGetAttribLocation(mProgram, &quot;vColorA&quot;);\r\n            GLES20.glEnableVertexAttribArray(colorHandle);\r\n            GLES20.glVertexAttribPointer(colorHandle, 3, GLES20.GL_FLOAT, false, 12, colorBuffer);\r\n\r\n            \r\n            GLES20.glUniformMatrix4fv(muMVPMatrixHandle, 1, false, mMVPMatrix, 0);\r\n            GLES20.glDrawArrays(GLES20.GL_TRIANGLES, 0, vertices.length);\r\n            GLES20.glDisableVertexAttribArray(maPositionHandle);\r\n            GLES20.glDisableVertexAttribArray(colorHandle);\r\n            System.out.println(&quot;\\n&quot;);\r\n        }\r\n\r\n@Override\r\n        public void onSurfaceCreated(GL10 gl, EGLConfig config) {\r\n            GLES20.glClearColor(0.0f, 0.0f, 0.0f, 1.0f);\r\n            GLES20.glEnable(GLES20.GL_DEPTH_TEST);\r\n            GLES20.glEnable(GLES20.GL_NICEST);\r\n            GLES20.glDepthFunc(GLES20.GL_LESS);\r\n            GLES20.glDepthMask(true);\r\n            initShapes();\r\n          \r\n            ...\r\n        }\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/z3QDf.jpg\r\n  [2]: https://i.stack.imgur.com/XHKrR.png","title":"android mesh reconstruction out of a point cloud","body":"<p>I need to reconstruct a mesh from a point cloud for an Android application. This app creates a mesh from a large point cloud and then measures the distance between two randomly selected points on the mesh.\nI tried to reconstruct the mesh using OpenGL ES with the glDrawArrays() function, but the results were unsatisfactory. Therefore, I started looking for a library capable of handling this task, specifically surface reconstruction. Unfortunately, I couldn't find anything suitable as most computer vision libraries are developed for Python or C++, which are not directly compatible with Android. Do you have any advice for achieving this in my particular use case? Which library fulfill my requirements?</p>\n<p>The images below were implemented with glDrawArray(GL_POINTS) for the point cloud, the other image with gLDrawArray(GL_TRIANGLES) for the mesh.</p>\n<p>point cloud:\n<a href=\"https://i.stack.imgur.com/z3QDf.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z3QDf.jpg\" alt=\"enter image description here\" /></a></p>\n<p>mesh\n<a href=\"https://i.stack.imgur.com/XHKrR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XHKrR.png\" alt=\"enter image description here\" /></a></p>\n<p>That's the part of code where I initialise and implement the mesh.</p>\n<pre><code>public void onDrawFrame(GL10 gl) {\n            GLES20.glClear(GLES20.GL_COLOR_BUFFER_BIT | GLES20.GL_DEPTH_BUFFER_BIT);\n\n            ...\n\n            GLES20.glUseProgram(mProgram);\n\n            maPositionHandle = GLES20.glGetAttribLocation(mProgram, &quot;vPosition&quot;);\n            GLES20.glEnableVertexAttribArray(maPositionHandle);\n            GLES20.glVertexAttribPointer(maPositionHandle, 3, GLES20.GL_FLOAT, false, 12, vertexBuffer);\n\n            int colorHandle = GLES20.glGetAttribLocation(mProgram, &quot;vColorA&quot;);\n            GLES20.glEnableVertexAttribArray(colorHandle);\n            GLES20.glVertexAttribPointer(colorHandle, 3, GLES20.GL_FLOAT, false, 12, colorBuffer);\n\n            \n            GLES20.glUniformMatrix4fv(muMVPMatrixHandle, 1, false, mMVPMatrix, 0);\n            GLES20.glDrawArrays(GLES20.GL_TRIANGLES, 0, vertices.length);\n            GLES20.glDisableVertexAttribArray(maPositionHandle);\n            GLES20.glDisableVertexAttribArray(colorHandle);\n            System.out.println(&quot;\\n&quot;);\n        }\n\n@Override\n        public void onSurfaceCreated(GL10 gl, EGLConfig config) {\n            GLES20.glClearColor(0.0f, 0.0f, 0.0f, 1.0f);\n            GLES20.glEnable(GLES20.GL_DEPTH_TEST);\n            GLES20.glEnable(GLES20.GL_NICEST);\n            GLES20.glDepthFunc(GLES20.GL_LESS);\n            GLES20.glDepthMask(true);\n            initShapes();\n          \n            ...\n        }\n</code></pre>\n"},{"tags":["java","android","android-mediaplayer","background-service","foreground-service"],"owner":{"account_id":23288910,"reputation":1381,"user_id":17371284,"display_name":"Abdullah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":458,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686781138,"creation_date":1686612198,"question_id":76460838,"body_markdown":"i have a mediaplayer java class that connect to service to show notification,\r\n\r\nthe service dose&#39;nt stop except when user clicks the notification cancel button \r\n\r\n    notification = new NotificationCompat.Builder(getApplicationContext(), CHANNEL_ID).setShowCancelButton(true).build();\r\n\r\nthe cancel code is:\r\n\r\n    public void hideNotification() {\r\n            notificationManager.cancel(NOTIFICATION_ID);\r\n            audioManager.abandonAudioFocus(this);\r\n            stopForeground(true);\r\n        }\r\ni have edit my code to start the foreground service in the first time the user choose an item to play,\r\nalso when the app is in the background the notification updated not start again.\r\ncheck this code:\r\n\r\n  \r\n\r\n \r\n\r\n   \r\n\r\n      if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S ){\r\n        \\\\check if the app in background and the notification exist then update it\r\n                            if(ProcessLifecycleOwner.get().getLifecycle().getCurrentState() == Lifecycle.State.CREATED\r\n                                    &amp;&amp; notificationManager != null){\r\n                                StatusBarNotification[] notifications = notificationManager.getActiveNotifications();\r\n                                for (StatusBarNotification notification1 : notifications){\r\n                                    if(notification1.getId() == NOTIFICATION_ID);{\r\n                                        notificationManager.notify(NOTIFICATION_ID,notification);\r\n                                        Log.w(&quot;App&quot;, &quot;Working in Background&quot;);\r\n                                    }\r\n                                }\r\n                            }else {\r\n                                startForeground(NOTIFICATION_ID, notification);\r\n                                Log.w(&quot;App&quot;, &quot;Working First Time&quot;);\r\n                            }\r\n                        }\r\n                        else {\r\n                            startForeground(NOTIFICATION_ID, notification);\r\n                        }\r\n\r\nmy manifests code:\r\n\r\n     &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;\r\n\r\n      &lt;service android:name=&quot;com.app.example.playerservice&quot;\r\n                     android:foregroundServiceType=&quot;mediaPlayback&quot;/&gt;\r\n\r\ni&#39;m still getting this crash on my play console: ForegroundServiceStartNotAllowedException \r\n\r\nis there any solution for that?\r\n\r\nif i replace the service with Workmanager can this solve the issue ? i mean can i handle the notification buttons when using Workmanager? \r\n\r\nNote: I have tested the app many times with android studio emulator and with my phone with android 12, and i didn&#39;t catch any error.","title":"android.app.ForegroundServiceStartNotAllowedException Service.startForeground() not allowed due to mAllowStartForeground false","body":"<p>i have a mediaplayer java class that connect to service to show notification,</p>\n<p>the service dose'nt stop except when user clicks the notification cancel button</p>\n<pre><code>notification = new NotificationCompat.Builder(getApplicationContext(), CHANNEL_ID).setShowCancelButton(true).build();\n</code></pre>\n<p>the cancel code is:</p>\n<pre><code>public void hideNotification() {\n        notificationManager.cancel(NOTIFICATION_ID);\n        audioManager.abandonAudioFocus(this);\n        stopForeground(true);\n    }\n</code></pre>\n<p>i have edit my code to start the foreground service in the first time the user choose an item to play,\nalso when the app is in the background the notification updated not start again.\ncheck this code:</p>\n<pre><code>  if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S ){\n    \\\\check if the app in background and the notification exist then update it\n                        if(ProcessLifecycleOwner.get().getLifecycle().getCurrentState() == Lifecycle.State.CREATED\n                                &amp;&amp; notificationManager != null){\n                            StatusBarNotification[] notifications = notificationManager.getActiveNotifications();\n                            for (StatusBarNotification notification1 : notifications){\n                                if(notification1.getId() == NOTIFICATION_ID);{\n                                    notificationManager.notify(NOTIFICATION_ID,notification);\n                                    Log.w(&quot;App&quot;, &quot;Working in Background&quot;);\n                                }\n                            }\n                        }else {\n                            startForeground(NOTIFICATION_ID, notification);\n                            Log.w(&quot;App&quot;, &quot;Working First Time&quot;);\n                        }\n                    }\n                    else {\n                        startForeground(NOTIFICATION_ID, notification);\n                    }\n</code></pre>\n<p>my manifests code:</p>\n<pre><code> &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;\n\n  &lt;service android:name=&quot;com.app.example.playerservice&quot;\n                 android:foregroundServiceType=&quot;mediaPlayback&quot;/&gt;\n</code></pre>\n<p>i'm still getting this crash on my play console: ForegroundServiceStartNotAllowedException</p>\n<p>is there any solution for that?</p>\n<p>if i replace the service with Workmanager can this solve the issue ? i mean can i handle the notification buttons when using Workmanager?</p>\n<p>Note: I have tested the app many times with android studio emulator and with my phone with android 12, and i didn't catch any error.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1686783424,"post_id":76477923,"comment_id":134848420,"body_markdown":"Java can not read a file that doesn&#39;t exists.  You should investigate first what to put in the file and where to put it, then create it yourself.","body":"Java can not read a file that doesn&#39;t exists.  You should investigate first what to put in the file and where to put it, then create it yourself."}],"owner":{"account_id":22637739,"reputation":87,"user_id":16814335,"display_name":"SS.h777"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686781079,"creation_date":1686781079,"question_id":76477923,"body_markdown":"I&#39;m new in Java.\r\n\r\nActually I&#39;m on temurin-19.0.2 where I ddl this version directly on IntelliJ.\r\n\r\nWhen I launch my project on Debug mode.\r\nI always have *java.nio.file.NoSuchFileException: myPath/Library/Java/JavaVirtualMachines/temurin-19.0.2/Contents/Home/conf/jndi.properties*\r\n\r\nAnd yes the *jndi.properties* is missing, not generated when I add the SDK.\r\nWhen I search on internet about java.nio.file, It&#39;s already integrated on Java since Java 7 but for an unknown reason I have this problem.\r\n\r\nDo you have any idea how can I resolve this problem ?\r\nI don&#39;t find a great sample of jndi.properties file, so I don&#39;t how it looks like.\r\n","title":"jndi properties not found","body":"<p>I'm new in Java.</p>\n<p>Actually I'm on temurin-19.0.2 where I ddl this version directly on IntelliJ.</p>\n<p>When I launch my project on Debug mode.\nI always have <em>java.nio.file.NoSuchFileException: myPath/Library/Java/JavaVirtualMachines/temurin-19.0.2/Contents/Home/conf/jndi.properties</em></p>\n<p>And yes the <em>jndi.properties</em> is missing, not generated when I add the SDK.\nWhen I search on internet about java.nio.file, It's already integrated on Java since Java 7 but for an unknown reason I have this problem.</p>\n<p>Do you have any idea how can I resolve this problem ?\nI don't find a great sample of jndi.properties file, so I don't how it looks like.</p>\n"},{"tags":["java","spring","spring-boot","spring-web"],"comments":[{"owner":{"account_id":5923946,"reputation":643,"user_id":4660500,"display_name":"Simon Berthiaume"},"score":0,"creation_date":1518893507,"post_id":48844755,"comment_id":84693800,"body_markdown":"By console you mean the web browser console?","body":"By console you mean the web browser console?"},{"owner":{"account_id":8081421,"reputation":358,"user_id":6090489,"accept_rate":100,"display_name":"SpaceOso"},"score":0,"creation_date":1518893630,"post_id":48844755,"comment_id":84693838,"body_markdown":"@SimonBerthiaume no sorry, I mean the console in my IDE. I can see it print logs like this..    `2018-02-17 13:51:10.916 DEBUG 31564 --- [  restartedMain] o.s.w.c.s.StandardServletEnvironment     : Adding PropertySource &#39;servletConfigInitParams&#39; with lowest search precedence`","body":"@SimonBerthiaume no sorry, I mean the console in my IDE. I can see it print logs like this..    <code>2018-02-17 13:51:10.916 DEBUG 31564 --- [  restartedMain] o.s.w.c.s.StandardServletEnvironment     : Adding PropertySource &#39;servletConfigInitParams&#39; with lowest search precedence</code>"},{"owner":{"account_id":5923946,"reputation":643,"user_id":4660500,"display_name":"Simon Berthiaume"},"score":0,"creation_date":1518895015,"post_id":48844755,"comment_id":84694216,"body_markdown":"Unless you are explicitly building an app made to be operated from the commandline, it is considered bad practice to output straight to System.our and System.err but it should work. What should be done is using logging frameworks such as SLF4J on top of logback or log4j.","body":"Unless you are explicitly building an app made to be operated from the commandline, it is considered bad practice to output straight to System.our and System.err but it should work. What should be done is using logging frameworks such as SLF4J on top of logback or log4j."},{"owner":{"account_id":8081421,"reputation":358,"user_id":6090489,"accept_rate":100,"display_name":"SpaceOso"},"score":0,"creation_date":1518903890,"post_id":48844755,"comment_id":84696530,"body_markdown":"@SimonBerthiaume Oh ok, I didn&#39;t know this. I&#39;ll look into using a framework for this. Is the goal of the framework to be a dev / prod setup? So it will only do logs when run in dev?","body":"@SimonBerthiaume Oh ok, I didn&#39;t know this. I&#39;ll look into using a framework for this. Is the goal of the framework to be a dev / prod setup? So it will only do logs when run in dev?"}],"answers":[{"tags":[],"owner":{"account_id":5038650,"reputation":1124,"user_id":4046747,"display_name":"lrathod"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1518894956,"creation_date":1518894956,"answer_id":48844991,"question_id":48844755,"body_markdown":"Did you tried adding **console appender** in you logging configuration file.? Here is how you can do in slf4j + logback ecosystem \r\n\r\nin logback.xml, \r\n \r\n\r\n    &lt;configuration&gt;\r\n\t&lt;appender name=&quot;consoleAppender&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n\t\t&lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot;&gt;\r\n\t\t\t&lt;timeZone&gt;UTC&lt;/timeZone&gt;\r\n\t\t&lt;/encoder&gt;\r\n\t&lt;/appender&gt;\r\n\t&lt;logger name=&quot;com.yourcompany.packagename&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\r\n\t\t&lt;appender-ref ref=&quot;consoleAppender&quot; /&gt;\r\n\t&lt;/logger&gt;\r\n\t&lt;root level=&quot;ERROR&quot;&gt;\r\n\t\t&lt;appender-ref ref=&quot;consoleAppender&quot; /&gt;\r\n\t&lt;/root&gt;\r\n    &lt;/configuration&gt;\r\n\r\n","title":"How to print to console in Spring Boot Web Application","body":"<p>Did you tried adding <strong>console appender</strong> in you logging configuration file.? Here is how you can do in slf4j + logback ecosystem </p>\n\n<p>in logback.xml, </p>\n\n<pre><code>&lt;configuration&gt;\n&lt;appender name=\"consoleAppender\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;\n    &lt;encoder class=\"net.logstash.logback.encoder.LogstashEncoder\"&gt;\n        &lt;timeZone&gt;UTC&lt;/timeZone&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n&lt;logger name=\"com.yourcompany.packagename\" level=\"INFO\" additivity=\"false\"&gt;\n    &lt;appender-ref ref=\"consoleAppender\" /&gt;\n&lt;/logger&gt;\n&lt;root level=\"ERROR\"&gt;\n    &lt;appender-ref ref=\"consoleAppender\" /&gt;\n&lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8081421,"reputation":358,"user_id":6090489,"accept_rate":100,"display_name":"SpaceOso"},"score":1,"creation_date":1518896786,"post_id":48845065,"comment_id":84694704,"body_markdown":"Oh ok, I see it! Now..is there a way to print the contents of the job? Instead of what looks like an ID?","body":"Oh ok, I see it! Now..is there a way to print the contents of the job? Instead of what looks like an ID?"},{"owner":{"account_id":12948283,"reputation":399,"user_id":9361935,"display_name":"Cimon"},"score":2,"creation_date":1518899918,"post_id":48845065,"comment_id":84695503,"body_markdown":"You should implement inside the class Job methods that return instance variables (or whatever you want). So you could write\n`System.out.println(job.getSomething());`to print content. See about setters and getters in java documantation.\nOf course you could override the toString() method to gather all the information for you object content and then calling `System.out.println(job.toString())` to print them all.","body":"You should implement inside the class Job methods that return instance variables (or whatever you want). So you could write <code>System.out.println(job.getSomething());</code>to print content. See about setters and getters in java documantation. Of course you could override the toString() method to gather all the information for you object content and then calling <code>System.out.println(job.toString())</code> to print them all."}],"tags":[],"owner":{"account_id":12948283,"reputation":399,"user_id":9361935,"display_name":"Cimon"},"comment_count":2,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1518895732,"creation_date":1518895458,"answer_id":48845065,"question_id":48844755,"body_markdown":"`System.out.println(job);` like you have done.\r\n\r\nIt prints something like yourpackage.Job@2g45e0f9\r\n\r\nTry to execute you code using debug mode and see if the post method will be executed as it has to do.\r\n","title":"How to print to console in Spring Boot Web Application","body":"<p><code>System.out.println(job);</code> like you have done.</p>\n\n<p>It prints something like yourpackage.Job@2g45e0f9</p>\n\n<p>Try to execute you code using debug mode and see if the post method will be executed as it has to do.</p>\n"},{"tags":[],"owner":{"account_id":4000164,"reputation":31,"user_id":3296390,"display_name":"kreitcher"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1574746944,"creation_date":1574745101,"answer_id":59044144,"question_id":48844755,"body_markdown":"This is in addition to what @robocode posted. Override the `toString` method in the `Job` class to print the parameters the way you would like to see them.\r\n\r\n    public class Job{\r\n       String p1;\r\n       int p2;\r\n       .\r\n       .\r\n       @Override\r\n       public String toString(){\r\n          return &quot;p1: &quot;+p1+&quot;, p2: &quot;+p2;\r\n       }\r\n    }\r\n\r\nMakes it easier to simply sysout your objects.\r\n\r\n    Job job = new Job();\r\n    System.out.println(job);","title":"How to print to console in Spring Boot Web Application","body":"<p>This is in addition to what @robocode posted. Override the <code>toString</code> method in the <code>Job</code> class to print the parameters the way you would like to see them.</p>\n\n<pre><code>public class Job{\n   String p1;\n   int p2;\n   .\n   .\n   @Override\n   public String toString(){\n      return \"p1: \"+p1+\", p2: \"+p2;\n   }\n}\n</code></pre>\n\n<p>Makes it easier to simply sysout your objects.</p>\n\n<pre><code>Job job = new Job();\nSystem.out.println(job);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1669453,"reputation":2017,"user_id":1536197,"accept_rate":21,"display_name":"Hernaldo Gonzalez"},"score":1,"creation_date":1671535383,"post_id":61046915,"comment_id":132115481,"body_markdown":"This log4j version is reported as Vulnerability at 2022","body":"This log4j version is reported as Vulnerability at 2022"}],"tags":[],"owner":{"account_id":10517283,"reputation":998,"user_id":7750999,"display_name":"Caffeine Coder"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586109108,"creation_date":1586109108,"answer_id":61046915,"question_id":48844755,"body_markdown":"import log4j dependency in your pom file\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.17&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\ndefine logger in your controller like:\r\n\r\n    private static Logger logger = LoggerFactory.getLogger(YourClassName.class);\r\n\r\nthen use\r\n\r\n    logger.info(&quot;your message&quot;);\r\n","title":"How to print to console in Spring Boot Web Application","body":"<p>import log4j dependency in your pom file</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n    &lt;version&gt;1.2.17&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>define logger in your controller like:</p>\n\n<pre><code>private static Logger logger = LoggerFactory.getLogger(YourClassName.class);\n</code></pre>\n\n<p>then use</p>\n\n<pre><code>logger.info(\"your message\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1215394,"reputation":6741,"user_id":1183098,"display_name":"user9869932"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1681691820,"creation_date":1600833537,"answer_id":64020839,"question_id":48844755,"body_markdown":"You can try **[Lombok][1]**\r\n\r\nUse `@Slf4j` at class level and `log.info(&#39;text&#39;)` anywhere in your class.\r\n\r\n```java\r\n    import lombok.extern.slf4j.Slf4j;\r\n    \r\n    @Slf4j\r\n    public class MyController {\r\n       \r\n       public void getAll() {\r\n          log.info(&#39;This is a test.&#39;);\r\n       }\r\n    }\r\n```\r\n \r\n\r\n\r\n  [1]: https://projectlombok.org/features/log","title":"How to print to console in Spring Boot Web Application","body":"<p>You can try <strong><a href=\"https://projectlombok.org/features/log\" rel=\"nofollow noreferrer\">Lombok</a></strong></p>\n<p>Use <code>@Slf4j</code> at class level and <code>log.info('text')</code> anywhere in your class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    import lombok.extern.slf4j.Slf4j;\n    \n    @Slf4j\n    public class MyController {\n       \n       public void getAll() {\n          log.info('This is a test.');\n       }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16305411,"reputation":455,"user_id":11775515,"display_name":"Prashant Joshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621420045,"creation_date":1621420045,"answer_id":67601473,"question_id":48844755,"body_markdown":"If the above doesn&#39;t solve the problem\r\nmake sure you are making the appropriate requests which has the sysout statement ","title":"How to print to console in Spring Boot Web Application","body":"<p>If the above doesn't solve the problem\nmake sure you are making the appropriate requests which has the sysout statement</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1686909409,"post_id":76477397,"comment_id":134866384,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76477397/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26695241,"reputation":11,"user_id":20303214,"display_name":"Rai"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686775412,"creation_date":1686775412,"answer_id":76477397,"question_id":48844755,"body_markdown":"You seem to be confused it is an address where the object is stored you need to make the object useful by defining some methods and giving some properties","title":"How to print to console in Spring Boot Web Application","body":"<p>You seem to be confused it is an address where the object is stored you need to make the object useful by defining some methods and giving some properties</p>\n"},{"tags":[],"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686780238,"creation_date":1686779216,"answer_id":76477771,"question_id":48844755,"body_markdown":"The logging situation with Java is a bit complicated. Any application you write is going to have a framework and a bunch of libraries and they all write to loggers and different jars may use different loggers. I don&#39;t know about Node, maybe there everybody logs to stdout? That&#39;s not the case in Java land. \r\n\r\nBecause of that. even if for your own code you are ok with writing directly to stdout (with System.out.println), if you want all the logged info from your code and from all the other jars to go to the same place, you have to deal with loggers.\r\nSo you might as well use loggers for your own code too and keep things consistent. It&#39;s not just about how to log your own output, it&#39;s how to capture the log output from all parts of the application and make sure it&#39;s going to the right place and has the granularity that you need. \r\n\r\nSpring-boot provides a logging library for you to use by default, called logback. If you don&#39;t set up any appenders it will default to writing to the console. Your code doesn&#39;t use logback directly, it uses a facade called slf4j. Which sounds absurd I know because we&#39;ve added 2 libraries just to do what  System.out.println does already, but slf4j helps by providing adapters so that if a 3rd party jar uses log4j2 or java.util.logging then it can redirect the output to slf4j and from there to logback, making sure you get a unified view of all the logs from the application, and also giving you a way to configure what level of logging you want to see for the different parts of the application. That&#39;s something you don&#39;t get with writing to System.out. \r\n\r\n","title":"How to print to console in Spring Boot Web Application","body":"<p>The logging situation with Java is a bit complicated. Any application you write is going to have a framework and a bunch of libraries and they all write to loggers and different jars may use different loggers. I don't know about Node, maybe there everybody logs to stdout? That's not the case in Java land.</p>\n<p>Because of that. even if for your own code you are ok with writing directly to stdout (with System.out.println), if you want all the logged info from your code and from all the other jars to go to the same place, you have to deal with loggers.\nSo you might as well use loggers for your own code too and keep things consistent. It's not just about how to log your own output, it's how to capture the log output from all parts of the application and make sure it's going to the right place and has the granularity that you need.</p>\n<p>Spring-boot provides a logging library for you to use by default, called logback. If you don't set up any appenders it will default to writing to the console. Your code doesn't use logback directly, it uses a facade called slf4j. Which sounds absurd I know because we've added 2 libraries just to do what  System.out.println does already, but slf4j helps by providing adapters so that if a 3rd party jar uses log4j2 or java.util.logging then it can redirect the output to slf4j and from there to logback, making sure you get a unified view of all the logs from the application, and also giving you a way to configure what level of logging you want to see for the different parts of the application. That's something you don't get with writing to System.out.</p>\n"}],"owner":{"account_id":8081421,"reputation":358,"user_id":6090489,"accept_rate":100,"display_name":"SpaceOso"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134615,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":48845065,"answer_count":8,"score":26,"last_activity_date":1686780238,"creation_date":1518893337,"question_id":48844755,"body_markdown":"Coming from a Node background, what is the equivalent of console.log() in spring boot?\r\n\r\nFor example I&#39;d like to see in my console the job info in the following method.\r\n\r\n    @RequestMapping(value = &quot;jobposts/create&quot;, method = RequestMethod.POST)\r\n    public Job create(@RequestBody Job job){\r\n        System.out.println(job);\r\n        return jobRepository.saveAndFlush(job);\r\n    }\r\n\r\nSystem.out.println(); is how I know to do it in Java but it doesn&#39;t seem to appear in my console. Using IntelliJ.","title":"How to print to console in Spring Boot Web Application","body":"<p>Coming from a Node background, what is the equivalent of console.log() in spring boot?</p>\n\n<p>For example I'd like to see in my console the job info in the following method.</p>\n\n<pre><code>@RequestMapping(value = \"jobposts/create\", method = RequestMethod.POST)\npublic Job create(@RequestBody Job job){\n    System.out.println(job);\n    return jobRepository.saveAndFlush(job);\n}\n</code></pre>\n\n<p>System.out.println(); is how I know to do it in Java but it doesn't seem to appear in my console. Using IntelliJ.</p>\n"},{"tags":["java","xml","logback","spring-tool-suite"],"owner":{"account_id":28611703,"reputation":1,"user_id":21906562,"display_name":"supraja067"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686779099,"creation_date":1686740621,"question_id":76472839,"body_markdown":"Want to delete log file for every three hours with specified naming pattern `yyyy-MM-dd_HH-HHmmss`\r\n\r\nBelow is the code snippet:\r\n```xml\r\n&lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n    &lt;fileNamePattern&gt;${LOGS}/spring-boot-logger.%d{yyyy-MM-dd_HH}\\_%d{HHmmss,aux}.log&lt;/fileNamePattern&gt;  \r\n    &lt;maxHistory&gt;3&lt;/maxHistory&gt;&#160;  \r\n&lt;/rollingPolicy&gt;\r\n```\r\n\r\nIssue: \r\nWhen I use two `%d` its get confusing which `%d` is for rollback and which is for naming pattern. I want to delete logs for every three hours with this naming pattern `yyyy-MM-dd_HH-HHmmss`.\r\n\r\nThanks in Advance!","title":"Issue in deletion of logs using logback","body":"<p>Want to delete log file for every three hours with specified naming pattern <code>yyyy-MM-dd_HH-HHmmss</code></p>\n<p>Below is the code snippet:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n    &lt;fileNamePattern&gt;${LOGS}/spring-boot-logger.%d{yyyy-MM-dd_HH}\\_%d{HHmmss,aux}.log&lt;/fileNamePattern&gt;  \n    &lt;maxHistory&gt;3&lt;/maxHistory&gt;   \n&lt;/rollingPolicy&gt;\n</code></pre>\n<p>Issue:\nWhen I use two <code>%d</code> its get confusing which <code>%d</code> is for rollback and which is for naming pattern. I want to delete logs for every three hours with this naming pattern <code>yyyy-MM-dd_HH-HHmmss</code>.</p>\n<p>Thanks in Advance!</p>\n"},{"tags":["java","android","android-glide","android-tv","google-tv"],"owner":{"account_id":103637,"reputation":10150,"user_id":277480,"accept_rate":68,"display_name":"StealthRT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686778254,"creation_date":1686778254,"question_id":76477681,"body_markdown":"Hey all I am trying to figure out how to highlight the current focused image I am on when using a d-pad/remote control. This is on an Android/Google TV so I need to know what image has focus/what image I am currently on.\r\n\r\nI&#39;ve googled and this is the only thing I can find that *may* be something useful.\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;item android:state_pressed=&quot;true&quot; android:drawable=&quot;@Color/black&quot; /&gt;\r\n        &lt;item android:state_focused=&quot;true&quot; android:drawable=&quot;@Color/black&quot; /&gt;\r\n        &lt;item android:state_selected=&quot;true&quot; android:drawable=&quot;@Color/black&quot; /&gt;\r\n    &lt;/selector&gt;\r\n\r\nMy layout for my image is this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_margin=&quot;10dp&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        android:paddingStart=&quot;5dp&quot;\r\n        tools:ignore=&quot;RtlSymmetry&quot;&gt;\r\n    \r\n        &lt;ImageView\r\n            android:id=&quot;@+id/movieImg&quot;\r\n            android:layout_width=&quot;174dp&quot;\r\n            android:layout_height=&quot;245dp&quot;\r\n            android:contentDescription=&quot;@string/moviedescription&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/tv_title&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:autoSizeTextType=&quot;uniform&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;1.0&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/movieImg&quot;\r\n            app:layout_constraintVertical_bias=&quot;1.0&quot;\r\n            tools:targetApi=&quot;o&quot; /&gt;\r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nSomething like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nor like this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWhat can I do to accomplish this task?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SQsv4.png\r\n  [2]: https://i.stack.imgur.com/byXSQ.png","title":"Android Glide highlight selected image for Google TV","body":"<p>Hey all I am trying to figure out how to highlight the current focused image I am on when using a d-pad/remote control. This is on an Android/Google TV so I need to know what image has focus/what image I am currently on.</p>\n<p>I've googled and this is the only thing I can find that <em>may</em> be something useful.</p>\n\n<pre><code>&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item android:state_pressed=&quot;true&quot; android:drawable=&quot;@Color/black&quot; /&gt;\n    &lt;item android:state_focused=&quot;true&quot; android:drawable=&quot;@Color/black&quot; /&gt;\n    &lt;item android:state_selected=&quot;true&quot; android:drawable=&quot;@Color/black&quot; /&gt;\n&lt;/selector&gt;\n</code></pre>\n<p>My layout for my image is this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_margin=&quot;10dp&quot;\n    android:orientation=&quot;horizontal&quot;\n    android:paddingStart=&quot;5dp&quot;\n    tools:ignore=&quot;RtlSymmetry&quot;&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/movieImg&quot;\n        android:layout_width=&quot;174dp&quot;\n        android:layout_height=&quot;245dp&quot;\n        android:contentDescription=&quot;@string/moviedescription&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/tv_title&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;60dp&quot;\n        android:gravity=&quot;center&quot;\n        android:autoSizeTextType=&quot;uniform&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;1.0&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/movieImg&quot;\n        app:layout_constraintVertical_bias=&quot;1.0&quot;\n        tools:targetApi=&quot;o&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Something like this:</p>\n<p><a href=\"https://i.stack.imgur.com/SQsv4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SQsv4.png\" alt=\"enter image description here\" /></a></p>\n<p>or like this:</p>\n<p><a href=\"https://i.stack.imgur.com/byXSQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/byXSQ.png\" alt=\"enter image description here\" /></a></p>\n<p>What can I do to accomplish this task?</p>\n"},{"tags":["java","ubuntu","minecraft"],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685758983,"creation_date":1685758983,"answer_id":76394318,"question_id":76394088,"body_markdown":"Possibly a bug in JDK https://bugs.openjdk.org/browse/JDK-8274053. Apparently fixed in latest builds of JDK 18 though I could not find in which one exactly.","title":"SIGSEGV error JDK18, how to debug core dump","body":"<p>Possibly a bug in JDK <a href=\"https://bugs.openjdk.org/browse/JDK-8274053\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8274053</a>. Apparently fixed in latest builds of JDK 18 though I could not find in which one exactly.</p>\n"}],"owner":{"account_id":17911506,"reputation":35,"user_id":13013527,"display_name":"MadAtTheKeyboard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1685784399,"answer_count":1,"score":-1,"last_activity_date":1686776682,"creation_date":1685751102,"question_id":76394088,"body_markdown":"I am editing this question to better fit the rules. I am consistently getting a SIGSEGV error with libjvm(?). I was told it would be fixed in JDK18, but the issue persists. \r\n\r\n\r\nThe current error I receive is;\r\n```\r\n#\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  SIGSEGV (0xb) at pc=0x00007f4628ef1f4b, pid=95484, tid=95504\r\n#\r\n# JRE version: OpenJDK Runtime Environment (18.0.2+9) (build 18.0.2-ea+9-Ubuntu-222.04)\r\n# Java VM: OpenJDK 64-Bit Server VM (18.0.2-ea+9-Ubuntu-222.04, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, linux-amd64)\r\n# Problematic frame:\r\n# J 2868 c2 java.util.AbstractMap.hashCode()I java.base@18.0.2-ea (45 bytes) @ 0x00007f4628ef1f4b [0x00007f4628ef1ae0+0x000000000000046b]\r\n#\r\n# Core dump will be written. Default location: Core dumps may be processed with &quot;/usr/share/apport/apport -p%p -s%s -c%c -d%d -P%P -u%u -g%g -- %E&quot; (or dumping to /opt/minecraft/server/core.95484)\r\n#\r\n# If you would like to submit a bug report, please visit:\r\n#   Unknown\r\n#\r\n\r\n---------------  S U M M A R Y ------------\r\n\r\nCommand Line: -Xms1024M -Xmx10G Minecraft_Server_1.20.jar nogui\r\n\r\nHost: Intel(R) Core(TM) i5-7500 CPU @ 3.40GHz, 4 cores, 62G, Ubuntu 22.04.2 LTS\r\n...cont\r\n```\r\n\r\n**My question is;**\r\n\r\nHow would I diagnose why the bug is occurring? Believe it is likely a conflicting dependency, but I do not know where to look. There is no file at `/opt/minecraft/server/core.95484`, and I do not understand how to debug the core dump I generated at `/var/crash`. \r\n\r\nWhat I have tried;\r\n- running  gdb /`cat ExecutablePath` CoreDump\r\n-\r\n-","title":"SIGSEGV error JDK18, how to debug core dump","body":"<p>I am editing this question to better fit the rules. I am consistently getting a SIGSEGV error with libjvm(?). I was told it would be fixed in JDK18, but the issue persists.</p>\n<p>The current error I receive is;</p>\n<pre><code>#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x00007f4628ef1f4b, pid=95484, tid=95504\n#\n# JRE version: OpenJDK Runtime Environment (18.0.2+9) (build 18.0.2-ea+9-Ubuntu-222.04)\n# Java VM: OpenJDK 64-Bit Server VM (18.0.2-ea+9-Ubuntu-222.04, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, linux-amd64)\n# Problematic frame:\n# J 2868 c2 java.util.AbstractMap.hashCode()I java.base@18.0.2-ea (45 bytes) @ 0x00007f4628ef1f4b [0x00007f4628ef1ae0+0x000000000000046b]\n#\n# Core dump will be written. Default location: Core dumps may be processed with &quot;/usr/share/apport/apport -p%p -s%s -c%c -d%d -P%P -u%u -g%g -- %E&quot; (or dumping to /opt/minecraft/server/core.95484)\n#\n# If you would like to submit a bug report, please visit:\n#   Unknown\n#\n\n---------------  S U M M A R Y ------------\n\nCommand Line: -Xms1024M -Xmx10G Minecraft_Server_1.20.jar nogui\n\nHost: Intel(R) Core(TM) i5-7500 CPU @ 3.40GHz, 4 cores, 62G, Ubuntu 22.04.2 LTS\n...cont\n</code></pre>\n<p><strong>My question is;</strong></p>\n<p>How would I diagnose why the bug is occurring? Believe it is likely a conflicting dependency, but I do not know where to look. There is no file at <code>/opt/minecraft/server/core.95484</code>, and I do not understand how to debug the core dump I generated at <code>/var/crash</code>.</p>\n<p>What I have tried;</p>\n<ul>\n<li>running  gdb /<code>cat ExecutablePath</code> CoreDump</li>\n<li></li>\n<li></li>\n</ul>\n"},{"tags":["java","file-upload","multipartform-data","okhttp"],"owner":{"account_id":26512789,"reputation":11,"user_id":20147742,"display_name":"Nilesh K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686776324,"creation_date":1664783956,"question_id":73932571,"body_markdown":"I am trying to perform upload action using OkHttp client. Everything works fine as I can see the image file at the destination but its says &quot;File not supported&quot; Upon comparing with the original file I see some additional header and footer values being added such as &quot;Content Disposition&quot;, &quot;Content-Type&quot; and &quot;Content-Length&quot; I think this is corrupting the file. How do I avoid this. Below is my request body and client code\r\n\r\n     RequestBody requestBody = new MultipartBody.Builder().setType(MultipartBody.FORM)\r\n                 .addFormDataPart(&quot;Image&quot;,&quot;image1.jpg&quot;,RequestBody.create(file, MediaType.parse(&quot;image/*&quot;))\r\n                 .build();\r\n     OkhttpClient client = new OkhttpClient().newBuilder().proxy(proxy).build();\r\n     Request req = new Request.Builder()\r\n              .url(URL)\r\n              .post(requestBody)\r\n              .addHeader(&quot;X-Auth&quot;, Auth)\r\n              .buid();\r\n     Response res = client.newCall(req).execute();\r\n\r\n \r\nFile here is the image file and I can see it getting uploaded to destination successfully with some additional data appended at the begining and the end of file. How do I avoid this header and footer getting appended. Thanks for the suggestion","title":"OkHttp adding additional data at the start and end of image file while upload action in API call","body":"<p>I am trying to perform upload action using OkHttp client. Everything works fine as I can see the image file at the destination but its says &quot;File not supported&quot; Upon comparing with the original file I see some additional header and footer values being added such as &quot;Content Disposition&quot;, &quot;Content-Type&quot; and &quot;Content-Length&quot; I think this is corrupting the file. How do I avoid this. Below is my request body and client code</p>\n<pre><code> RequestBody requestBody = new MultipartBody.Builder().setType(MultipartBody.FORM)\n             .addFormDataPart(&quot;Image&quot;,&quot;image1.jpg&quot;,RequestBody.create(file, MediaType.parse(&quot;image/*&quot;))\n             .build();\n OkhttpClient client = new OkhttpClient().newBuilder().proxy(proxy).build();\n Request req = new Request.Builder()\n          .url(URL)\n          .post(requestBody)\n          .addHeader(&quot;X-Auth&quot;, Auth)\n          .buid();\n Response res = client.newCall(req).execute();\n</code></pre>\n<p>File here is the image file and I can see it getting uploaded to destination successfully with some additional data appended at the begining and the end of file. How do I avoid this header and footer getting appended. Thanks for the suggestion</p>\n"},{"tags":["java","ibm-integration-bus"],"owner":{"account_id":21151016,"reputation":23,"user_id":15551324,"display_name":"Adil Abdullah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686776317,"creation_date":1683040682,"question_id":76156369,"body_markdown":"**mqsistop &lt;NODE-NAME**&gt;\r\n\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com.ibm.broker.jmsclienthelper.JMSClientHelper\r\n\r\n        at java.lang.Class.forNameImpl(Native Method)\r\n\r\n        at java.lang.Class.forName(Class.java:410)\r\n\r\n        at com.ibm.broker.classloading.ClassLoadingUtils.getClasses(ClassLoadingUtils.java:60)\r\n\r\nCaused by: java.lang.ClassNotFoundException: com.ibm.broker.jmsclienthelper.JMSClientHelper\r\n\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:610)\r\n\r\n        at java.lang.ClassLoader.loadClassHelper(ClassLoader.java:945)\r\n\r\n       at java.lang.ClassLoader.loadClass(ClassLoader.java:890)\r\n\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\r\n\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:873)\r\n\r\n        at com.ibm.broker.classloading.ReverseDelegationClassLoader.findClass(ReverseDelegationClassLoader.java:130)\r\n\r\n        at com.ibm.broker.classloading.BrokerClassLoader.findClass(BrokerClassLoader.java:372)\r\n\r\n        at java.lang.ClassLoader.loadClassHelper(ClassLoader.java:945)\r\n\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:890)\r\n\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:873)\r\n\r\n        at com.ibm.broker.classloading.JavaResourceClassLoader.loadClass(JavaResourceClassLoader.java:579)\r\n\r\n        at com.ibm.broker.classloading.ReverseDelegationClassLoader.findClass(ReverseDelegationClassLoader.java:130)\r\n\r\n        at com.ibm.broker.classloading.WebServicesClassLoader.findClass(WebServicesClassLoader.java:255)\r\n\r\n        at java.lang.ClassLoader.loadClassHelper(ClassLoader.java:945)\r\n\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:890)\r\n\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:873)\r\n\r\n        at com.ibm.broker.classloading.JavaResourceClassLoader.loadClass(JavaResourceClassLoader.java:579)\r\n\r\n        ... 3 more\r\n\r\n**BIP4374S**: An unexpected exception has occurred in the Java API framework.\r\n\r\nAn internal processing error has occurred.\r\n\r\nThis is an internal error. Contact your IBM support center.\r\n\r\n \r\n\r\n**BIP8081E**: An error occurred while processing the command.\r\n\r\nAn error occurred while the command was running; the command has cleaned up and ended.\r\n\r\nUse messages prior to this one to determine the cause of the error.\r\n\r\nCheck for some common problems:\r\n\r\nDoes the user id have the correct authorities (for example a member of the mqbrkrs group)?\r\n\r\nIs any operating system limit set too low to allow the command to run?\r\n\r\nIs the environment correctly set up?\r\n\r\nCorrect the problem and retry the command, otherwise, contact your IBM support center.","title":"Exception occur while executing broker commands in IBM ACE","body":"<p><strong>mqsistop &lt;NODE-NAME</strong>&gt;</p>\n<p>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com.ibm.broker.jmsclienthelper.JMSClientHelper</p>\n<pre><code>    at java.lang.Class.forNameImpl(Native Method)\n\n    at java.lang.Class.forName(Class.java:410)\n\n    at com.ibm.broker.classloading.ClassLoadingUtils.getClasses(ClassLoadingUtils.java:60)\n</code></pre>\n<p>Caused by: java.lang.ClassNotFoundException: com.ibm.broker.jmsclienthelper.JMSClientHelper</p>\n<pre><code>    at java.net.URLClassLoader.findClass(URLClassLoader.java:610)\n\n    at java.lang.ClassLoader.loadClassHelper(ClassLoader.java:945)\n\n   at java.lang.ClassLoader.loadClass(ClassLoader.java:890)\n\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\n\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:873)\n\n    at com.ibm.broker.classloading.ReverseDelegationClassLoader.findClass(ReverseDelegationClassLoader.java:130)\n\n    at com.ibm.broker.classloading.BrokerClassLoader.findClass(BrokerClassLoader.java:372)\n\n    at java.lang.ClassLoader.loadClassHelper(ClassLoader.java:945)\n\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:890)\n\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:873)\n\n    at com.ibm.broker.classloading.JavaResourceClassLoader.loadClass(JavaResourceClassLoader.java:579)\n\n    at com.ibm.broker.classloading.ReverseDelegationClassLoader.findClass(ReverseDelegationClassLoader.java:130)\n\n    at com.ibm.broker.classloading.WebServicesClassLoader.findClass(WebServicesClassLoader.java:255)\n\n    at java.lang.ClassLoader.loadClassHelper(ClassLoader.java:945)\n\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:890)\n\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:873)\n\n    at com.ibm.broker.classloading.JavaResourceClassLoader.loadClass(JavaResourceClassLoader.java:579)\n\n    ... 3 more\n</code></pre>\n<p><strong>BIP4374S</strong>: An unexpected exception has occurred in the Java API framework.</p>\n<p>An internal processing error has occurred.</p>\n<p>This is an internal error. Contact your IBM support center.</p>\n<p><strong>BIP8081E</strong>: An error occurred while processing the command.</p>\n<p>An error occurred while the command was running; the command has cleaned up and ended.</p>\n<p>Use messages prior to this one to determine the cause of the error.</p>\n<p>Check for some common problems:</p>\n<p>Does the user id have the correct authorities (for example a member of the mqbrkrs group)?</p>\n<p>Is any operating system limit set too low to allow the command to run?</p>\n<p>Is the environment correctly set up?</p>\n<p>Correct the problem and retry the command, otherwise, contact your IBM support center.</p>\n"},{"tags":["java","android","locale","android-resources"],"comments":[{"owner":{"account_id":7518082,"reputation":4987,"user_id":5710872,"accept_rate":57,"display_name":"Qamar"},"score":0,"creation_date":1481204238,"post_id":40942535,"comment_id":69288872,"body_markdown":"You need to root your device and add your language identifier. May be you need custom rom. Visit https://source.android.com/","body":"You need to root your device and add your language identifier. May be you need custom rom. Visit <a href=\"https://source.android.com/\" rel=\"nofollow noreferrer\">source.android.com</a>"},{"owner":{"account_id":3832138,"reputation":53,"user_id":3177439,"display_name":"canisLupusLupus"},"score":0,"creation_date":1481565021,"post_id":40942535,"comment_id":69417382,"body_markdown":"i use some thing like this in my Activity.onCreate() to define witch strings.xml is used. did u try it with &quot;ro&quot;, &quot;&quot;RO&quot; ?  \n\n            switch (var) {\n                case 1:\n                    loc = new Locale(&quot;de&quot;, &quot;CH&quot;);\n                    break;\n                case 2:\n                    loc = new Locale(&quot;de&quot;, &quot;DE&quot;);\n                    break;\n            }\n            Locale.setDefault(loc);","body":"i use some thing like this in my Activity.onCreate() to define witch strings.xml is used. did u try it with &quot;ro&quot;, &quot;&quot;RO&quot; ?                switch (var) {                 case 1:                     loc = new Locale(&quot;de&quot;, &quot;CH&quot;);                     break;                 case 2:                     loc = new Locale(&quot;de&quot;, &quot;DE&quot;);                     break;             }             Locale.setDefault(loc);"}],"answers":[{"tags":[],"owner":{"account_id":3991579,"reputation":19586,"user_id":3290339,"display_name":"Onik"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1515195421,"creation_date":1480986931,"answer_id":40986218,"question_id":40942535,"body_markdown":"&gt; Will this work? I.e., can we control which `strings.xml` file it uses via `Locale`, even if the device has no native support for that language?\r\n\r\nYes, you can, by updating [`Locale`][1] within [`Configuration`][2] (_see an example below_). If you try to use the locale for which there are no corresponding resources (either within your app or system), the [default string resources][3] (_res/values/strings.xml_) of your app will be utilized.\r\n\r\n&gt; Since Romanian is not a natively-supported language with this device we assume that system messages will still come up in English. Is this true?\r\n\r\nIt is true, if English is the current **system** locale.\r\n\r\n&gt; I just want to make sure that if we set the Locale to Romanian, or Czech or some other language without native support it won&#39;t crash the tablet if it does try to issue a system message.\r\n\r\nYour app won&#39;t crash. Locale changes made within an app effect locale resources of the app, not system one&#39;s.\r\n\r\n**An example** to answer _&quot;if so, how?&quot;_ The method can be used to test locale changes while an `Activity` is running*.\r\n\r\n    public static void changeLocale(Context context, String locale) {\r\n        Resources res = context.getResources();\r\n        Configuration conf = res.getConfiguration();\r\n        conf.locale = new Locale(locale);\r\n        res.updateConfiguration(conf, res.getDisplayMetrics());\r\n    }\r\n\r\n----------\r\n\r\n&lt;sup&gt; * You might want to call [recreate()][4] to see string resource changes &quot;on the fly&quot;. &lt;/sup&gt;\r\n\r\n\r\n  [1]: https://developer.android.com/reference/java/util/Locale.html\r\n  [2]: https://developer.android.com/reference/android/content/res/Configuration.html\r\n  [3]: https://developer.android.com/guide/topics/resources/localization.html#using-framework\r\n  [4]: https://developer.android.com/reference/android/app/Activity.html#recreate()","title":"Using Locale to force Android to use a specific strings.xml file for a non-supported language","body":"<blockquote>\n  <p>Will this work? I.e., can we control which <code>strings.xml</code> file it uses via <code>Locale</code>, even if the device has no native support for that language?</p>\n</blockquote>\n\n<p>Yes, you can, by updating <a href=\"https://developer.android.com/reference/java/util/Locale.html\" rel=\"nofollow noreferrer\"><code>Locale</code></a> within <a href=\"https://developer.android.com/reference/android/content/res/Configuration.html\" rel=\"nofollow noreferrer\"><code>Configuration</code></a> (<em>see an example below</em>). If you try to use the locale for which there are no corresponding resources (either within your app or system), the <a href=\"https://developer.android.com/guide/topics/resources/localization.html#using-framework\" rel=\"nofollow noreferrer\">default string resources</a> (<em>res/values/strings.xml</em>) of your app will be utilized.</p>\n\n<blockquote>\n  <p>Since Romanian is not a natively-supported language with this device we assume that system messages will still come up in English. Is this true?</p>\n</blockquote>\n\n<p>It is true, if English is the current <strong>system</strong> locale.</p>\n\n<blockquote>\n  <p>I just want to make sure that if we set the Locale to Romanian, or Czech or some other language without native support it won't crash the tablet if it does try to issue a system message.</p>\n</blockquote>\n\n<p>Your app won't crash. Locale changes made within an app effect locale resources of the app, not system one's.</p>\n\n<p><strong>An example</strong> to answer <em>\"if so, how?\"</em> The method can be used to test locale changes while an <code>Activity</code> is running*.</p>\n\n<pre><code>public static void changeLocale(Context context, String locale) {\n    Resources res = context.getResources();\n    Configuration conf = res.getConfiguration();\n    conf.locale = new Locale(locale);\n    res.updateConfiguration(conf, res.getDisplayMetrics());\n}\n</code></pre>\n\n<hr>\n\n<p><sup> * You might want to call <a href=\"https://developer.android.com/reference/android/app/Activity.html#recreate()\" rel=\"nofollow noreferrer\">recreate()</a> to see string resource changes \"on the fly\". </sup></p>\n"},{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1481648734,"creation_date":1480987532,"answer_id":40986303,"question_id":40942535,"body_markdown":"The best way to do this is to actually set the device locale.  The code to do that is\r\n\r\n    Class&lt;?&gt; activityManagerNative = Class.forName(&quot;android.app.ActivityManagerNative&quot;);\r\n    Object am = activityManagerNative.getMethod(&quot;getDefault&quot;).invoke(activityManagerNative);\r\n    Object config = am.getClass().getMethod(&quot;getConfiguration&quot;).invoke(am);\r\n    config.getClass().getDeclaredField(&quot;locale&quot;).set(config, item.getLocale());\r\n    config.getClass().getDeclaredField(&quot;userSetLocale&quot;).setBoolean(config, true);\r\n    am.getClass().getMethod(&quot;updateConfiguration&quot;, android.content.res.Configuration.class).invoke(am, config);\r\n\r\nActivityManagerNative.java\r\n\r\n    package android.app;\r\n    \r\n    public abstract class ActivityManagerNative implements IActivityManager {\r\n    \r\n        public static IActivityManager getDefault(){\r\n            return null;\r\n        }\r\n    \r\n    }\r\n\r\nIActivityManager\r\n\r\n    package android.app;\r\n    \r\n    import android.content.res.Configuration;\r\n    import android.os.RemoteException;\r\n    \r\n    public interface IActivityManager {\r\n        public abstract Configuration getConfiguration () throws RemoteException;\r\n        public abstract void updateConfiguration (Configuration configuration) throws RemoteException;\r\n    }\r\n\r\n\r\n\r\nThis way you&#39;ll set the device locale, and let everything change through the normal pathways.  You&#39;ll need the `android:name=&quot;android.permission.CHANGE_CONFIGURATION&quot;` permission in your manifest.  This is a secure permission, but installing yourself as a system app shouldn&#39;t be a problem for you.\r\n","title":"Using Locale to force Android to use a specific strings.xml file for a non-supported language","body":"<p>The best way to do this is to actually set the device locale.  The code to do that is</p>\n\n<pre><code>Class&lt;?&gt; activityManagerNative = Class.forName(\"android.app.ActivityManagerNative\");\nObject am = activityManagerNative.getMethod(\"getDefault\").invoke(activityManagerNative);\nObject config = am.getClass().getMethod(\"getConfiguration\").invoke(am);\nconfig.getClass().getDeclaredField(\"locale\").set(config, item.getLocale());\nconfig.getClass().getDeclaredField(\"userSetLocale\").setBoolean(config, true);\nam.getClass().getMethod(\"updateConfiguration\", android.content.res.Configuration.class).invoke(am, config);\n</code></pre>\n\n<p>ActivityManagerNative.java</p>\n\n<pre><code>package android.app;\n\npublic abstract class ActivityManagerNative implements IActivityManager {\n\n    public static IActivityManager getDefault(){\n        return null;\n    }\n\n}\n</code></pre>\n\n<p>IActivityManager</p>\n\n<pre><code>package android.app;\n\nimport android.content.res.Configuration;\nimport android.os.RemoteException;\n\npublic interface IActivityManager {\n    public abstract Configuration getConfiguration () throws RemoteException;\n    public abstract void updateConfiguration (Configuration configuration) throws RemoteException;\n}\n</code></pre>\n\n<p>This way you'll set the device locale, and let everything change through the normal pathways.  You'll need the <code>android:name=\"android.permission.CHANGE_CONFIGURATION\"</code> permission in your manifest.  This is a secure permission, but installing yourself as a system app shouldn't be a problem for you.</p>\n"},{"tags":[],"owner":{"account_id":7518082,"reputation":4987,"user_id":5710872,"accept_rate":57,"display_name":"Qamar"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1481205715,"creation_date":1481205715,"answer_id":41041328,"question_id":40942535,"body_markdown":"Override getResources in Application and BaseActivity\r\n\r\n    @Override\r\n        public Resources getResources() {\r\n            if(mRes == null)\r\n            mRes = new PowerfulResources(getAssets(),new DisplayMetrics(), null);\r\n            return mRes;\r\n        }\r\n    \r\n        public static class PowerfulResources extends Resources{\r\n    \r\n            /**\r\n             * Create a new Resources object on top of an existing set of assets in an\r\n             * AssetManager.\r\n             *\r\n             * @param assets  Previously created AssetManager.\r\n             * @param metrics Current display metrics to consider when\r\n             *                selecting/computing resource values.\r\n             * @param config  Desired device configuration to consider when\r\n             */\r\n            public PowerfulResources(AssetManager assets, DisplayMetrics metrics, Configuration config) {\r\n                super(assets, metrics, config);\r\n            }\r\n    \r\n            @NonNull\r\n            @Override\r\n            public String getString(int id) throws NotFoundException {\r\n                //do your stuff here\r\n                return super.getString(id);\r\n            }\r\n        }\r\n\r\nalso read [this][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2564027/android-creating-custom-class-of-resources","title":"Using Locale to force Android to use a specific strings.xml file for a non-supported language","body":"<p>Override getResources in Application and BaseActivity</p>\n\n<pre><code>@Override\n    public Resources getResources() {\n        if(mRes == null)\n        mRes = new PowerfulResources(getAssets(),new DisplayMetrics(), null);\n        return mRes;\n    }\n\n    public static class PowerfulResources extends Resources{\n\n        /**\n         * Create a new Resources object on top of an existing set of assets in an\n         * AssetManager.\n         *\n         * @param assets  Previously created AssetManager.\n         * @param metrics Current display metrics to consider when\n         *                selecting/computing resource values.\n         * @param config  Desired device configuration to consider when\n         */\n        public PowerfulResources(AssetManager assets, DisplayMetrics metrics, Configuration config) {\n            super(assets, metrics, config);\n        }\n\n        @NonNull\n        @Override\n        public String getString(int id) throws NotFoundException {\n            //do your stuff here\n            return super.getString(id);\n        }\n    }\n</code></pre>\n\n<p>also read <a href=\"https://stackoverflow.com/questions/2564027/android-creating-custom-class-of-resources\">this</a></p>\n"},{"tags":[],"owner":{"account_id":1251686,"reputation":29348,"user_id":1531054,"accept_rate":95,"display_name":"s.d"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1481548441,"creation_date":1481548441,"answer_id":41101742,"question_id":40942535,"body_markdown":"Yes you can definitely switch locale of single app. For that you have to extend every activity from a base class like following:\r\n    \r\n    public abstract class MyLangActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n            Locale locale = // get the locale to use...\r\n            Configuration conf = getResources().getConfiguration();\r\n            if (Build.VERSION.SDK_INT &gt;= 17) {\r\n                conf.setLocale(locale);\r\n            } else {\r\n                conf.locale = locale;\r\n            }\r\n    \r\n            DisplayMetrics metrics = getResources().getDisplayMetrics();\r\n            getResources().updateConfiguration(conf, metrics);\r\n            super.onCreate(savedInstanceState);\r\n        }\r\n    }\r\n\r\nNow about the issue of device not supporting the language applied. The device font being used might not have support for characters in the custom language file. You might use your own fonts files to support that.","title":"Using Locale to force Android to use a specific strings.xml file for a non-supported language","body":"<p>Yes you can definitely switch locale of single app. For that you have to extend every activity from a base class like following:</p>\n\n<pre><code>public abstract class MyLangActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        Locale locale = // get the locale to use...\n        Configuration conf = getResources().getConfiguration();\n        if (Build.VERSION.SDK_INT &gt;= 17) {\n            conf.setLocale(locale);\n        } else {\n            conf.locale = locale;\n        }\n\n        DisplayMetrics metrics = getResources().getDisplayMetrics();\n        getResources().updateConfiguration(conf, metrics);\n        super.onCreate(savedInstanceState);\n    }\n}\n</code></pre>\n\n<p>Now about the issue of device not supporting the language applied. The device font being used might not have support for characters in the custom language file. You might use your own fonts files to support that.</p>\n"}],"owner":{"account_id":122361,"reputation":8071,"user_id":316117,"accept_rate":57,"display_name":"user316117"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6571,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":4,"score":14,"last_activity_date":1686776294,"creation_date":1480722074,"question_id":40942535,"body_markdown":"...and if so, how?\r\n\r\nWe make a dedicated Android device for use in an industrial environment.   It&#39;s basically a tablet, but with only one app running.  The user is not expected to access any other features of the device and even the system settings, like WiFi and Time settings are performed through our app instead of through the Android Settings widget. **So basically every button and message they see uses our `strings.xml` file**.\r\n\r\nCurrently all of our customers are satisfied to use the default US-English settings but we will soon have some customers who want local languages and have supplied us with translation files. Currently one of them is Romanian, which is not a language with any native support on this device (a Samsung Galaxy tab 4); another is Czech.\r\n\r\nSo we want to add `strings.xml` files in appropriate res folders, for the non-English languages and a dropdown in our app to select which language we&#39;re using.  Programmatically we think we can use `Locale` to set which `strings.xml` file it uses, so for example, if Romanian has been selected from the dropdown we would use `Locale` to set the tablet into Romanian so all of our app&#39;s UI will use the Romanian `strings.xml` file.\r\n\r\nOur settings, including the new dropdown, are inaccessible to customers -  they&#39;re set at the customer site by a field-service engineer.\r\n\r\n**Questions:**   \r\n\r\n 1. Will this work?  I.e., can we control which `strings.xml` file it uses via `Locale`, even if the device has no native support for that language?\r\n 2. Since Romanian is not a natively-supported language with this device we assume that system messages will still come up in English. Is this true? (it&#39;s not a problem if it does - system messages are rare with our app and the users of our products are trained to contact support if that happens. I just want to make sure that if we set the `Locale` to Romanian, or Czech or some other language without native support it won&#39;t crash the tablet if it does try to issue a system message).","title":"Using Locale to force Android to use a specific strings.xml file for a non-supported language","body":"<p>...and if so, how?</p>\n\n<p>We make a dedicated Android device for use in an industrial environment.   It's basically a tablet, but with only one app running.  The user is not expected to access any other features of the device and even the system settings, like WiFi and Time settings are performed through our app instead of through the Android Settings widget. <strong>So basically every button and message they see uses our <code>strings.xml</code> file</strong>.</p>\n\n<p>Currently all of our customers are satisfied to use the default US-English settings but we will soon have some customers who want local languages and have supplied us with translation files. Currently one of them is Romanian, which is not a language with any native support on this device (a Samsung Galaxy tab 4); another is Czech.</p>\n\n<p>So we want to add <code>strings.xml</code> files in appropriate res folders, for the non-English languages and a dropdown in our app to select which language we're using.  Programmatically we think we can use <code>Locale</code> to set which <code>strings.xml</code> file it uses, so for example, if Romanian has been selected from the dropdown we would use <code>Locale</code> to set the tablet into Romanian so all of our app's UI will use the Romanian <code>strings.xml</code> file.</p>\n\n<p>Our settings, including the new dropdown, are inaccessible to customers -  they're set at the customer site by a field-service engineer.</p>\n\n<p><strong>Questions:</strong>   </p>\n\n<ol>\n<li>Will this work?  I.e., can we control which <code>strings.xml</code> file it uses via <code>Locale</code>, even if the device has no native support for that language?</li>\n<li>Since Romanian is not a natively-supported language with this device we assume that system messages will still come up in English. Is this true? (it's not a problem if it does - system messages are rare with our app and the users of our products are trained to contact support if that happens. I just want to make sure that if we set the <code>Locale</code> to Romanian, or Czech or some other language without native support it won't crash the tablet if it does try to issue a system message).</li>\n</ol>\n"},{"tags":["java","stream","grouping"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1686759920,"post_id":76475586,"comment_id":134844462,"body_markdown":"Can you provide a sample input and the expected output?","body":"Can you provide a sample input and the expected output?"},{"owner":{"account_id":27089847,"reputation":17,"user_id":20637812,"display_name":"pawello12"},"score":0,"creation_date":1686762846,"post_id":76475586,"comment_id":134845091,"body_markdown":"of course, edited :)","body":"of course, edited :)"}],"answers":[{"tags":[],"owner":{"account_id":14647990,"reputation":321,"user_id":11429968,"display_name":"iderkhangai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686775510,"creation_date":1686775510,"answer_id":76477412,"question_id":76475586,"body_markdown":"    List&lt;Round&gt; output = input.stream()\r\n        .collect(Collectors.groupingBy(Round::getBeginDate))\r\n        .values()\r\n        .stream()\r\n        .flatMap(rounds -&gt; {\r\n            int maxNumber = rounds.stream().mapToInt(Round::getNumber).max().orElse(0);\r\n            return rounds.stream().map(round -&gt; {\r\n                int differenceDays = 0;\r\n                if (rounds.size() &gt; 1 &amp;&amp; round.getNumber() == maxNumber) {\r\n                    differenceDays = rounds.get(rounds.size() - 1).getBeginDate().getDayOfMonth()\r\n                            - round.getBeginDate().getDayOfMonth();\r\n                } else if (rounds.size() &gt; 1) {\r\n                    differenceDays = rounds.get(rounds.indexOf(round) + 1).getBeginDate().getDayOfMonth()\r\n                            - round.getBeginDate().getDayOfMonth();\r\n                }\r\n                round.setDifferenceDaysNumber(differenceDays);\r\n                return round;\r\n            });\r\n        })\r\n        .collect(Collectors.toList());\r\n\r\n\r\n&gt; The code uses groupingBy to group the Round objects based on the\r\n&gt; beginDate. Then, it iterates over the grouped values, calculates the\r\n&gt; differenceDaysNumber based on the specified conditions, and sets the\r\n&gt; value for each Round object. Finally, it collects the updated Round\r\n&gt; objects into a new list named output.\r\n&gt; \r\n&gt; The resulting output list will contain Round objects with the\r\n&gt; differenceDaysNumber field calculated according to the given\r\n&gt; conditions.","title":"Using groupingBy to calculate","body":"<pre><code>List&lt;Round&gt; output = input.stream()\n    .collect(Collectors.groupingBy(Round::getBeginDate))\n    .values()\n    .stream()\n    .flatMap(rounds -&gt; {\n        int maxNumber = rounds.stream().mapToInt(Round::getNumber).max().orElse(0);\n        return rounds.stream().map(round -&gt; {\n            int differenceDays = 0;\n            if (rounds.size() &gt; 1 &amp;&amp; round.getNumber() == maxNumber) {\n                differenceDays = rounds.get(rounds.size() - 1).getBeginDate().getDayOfMonth()\n                        - round.getBeginDate().getDayOfMonth();\n            } else if (rounds.size() &gt; 1) {\n                differenceDays = rounds.get(rounds.indexOf(round) + 1).getBeginDate().getDayOfMonth()\n                        - round.getBeginDate().getDayOfMonth();\n            }\n            round.setDifferenceDaysNumber(differenceDays);\n            return round;\n        });\n    })\n    .collect(Collectors.toList());\n</code></pre>\n<blockquote>\n<p>The code uses groupingBy to group the Round objects based on the\nbeginDate. Then, it iterates over the grouped values, calculates the\ndifferenceDaysNumber based on the specified conditions, and sets the\nvalue for each Round object. Finally, it collects the updated Round\nobjects into a new list named output.</p>\n<p>The resulting output list will contain Round objects with the\ndifferenceDaysNumber field calculated according to the given\nconditions.</p>\n</blockquote>\n"}],"owner":{"account_id":27089847,"reputation":17,"user_id":20637812,"display_name":"pawello12"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686775510,"creation_date":1686759057,"question_id":76475586,"body_markdown":"I have a list of already sorted objects `Round` and in the middle a field `beginDate`. I would like using `groupingB`y in stream (or another method if it&#39;s better)\r\ncalculate the field `differenceDaysNumber` by differences of the field `beginDate` of the current element and the next element in the list, except that if the next element in the list has the same value in the field: and the larger field: `number`, then we rewrite this value to all copies.\r\nSomething like that, pseudocode:\r\n\r\n    1 ob1 (differenceDaysNumber: ob1.beginDate-ob2.beginDate)\r\n    2 ob2 (differenceDaysNumber: ob3.beginDate-ob2.beginDate)\r\n    3 ob3 (differenceDaysNumber: ob4.beginDate-ob3.beginDate)\r\n      3.1 ob3  (differenceDaysNumber: ob4.beginDate-ob3.beginDate) //this is copy with the same differenceDaysNumberas ob.3\r\n      3.2 ob3 (differenceDaysNumber: ob4.beginDate-ob3.beginDate)  //this is copy with the same durTime as ob.3\r\n    4 ob4 (differenceDaysNumber: null)\r\n    \r\n    @Builder\r\n    @Getter\r\n    public class Round {\r\n        \r\n        Integer number;\r\n        LocalDateTime beginDate;\r\n        @Setter\r\n        Integer differenceDaysNumber;\r\n    }\r\n\r\n        var result = seriesInfoList.stream()\r\n                .collect(Collectors.groupingBy(SeriesInfo::getStartTime));  //what next ?\r\n\r\n        //input\r\n        List&lt;Round&gt; input = List.of(\r\n                new Round(1, LocalDateTime.of(2020, 12, 1, 12, 12, 12, 12), null),\r\n                new Round(1, LocalDateTime.of(2020, 12, 11, 12, 12, 12, 12), null),\r\n                new Round(2, LocalDateTime.of(2020, 12, 11, 12, 12, 12, 12), null),\r\n                new Round(3, LocalDateTime.of(2020, 12, 11, 12, 12, 12, 12), null),\r\n                new Round(1, LocalDateTime.of(2020, 12, 17, 12, 12, 12, 12), null),\r\n                new Round(1, LocalDateTime.of(2020, 12, 12, 12, 12, 12, 12), null));\r\n\r\n        //expected result\r\n        List&lt;Round&gt; output = List.of(\r\n                new Round(1, LocalDateTime.of(2020, 12, 1, 12, 12, 12, 12), 10),\r\n                new Round(1, LocalDateTime.of(2020, 12, 11, 12, 12, 12, 12), 6),\r\n                new Round(2, LocalDateTime.of(2020, 12, 11, 12, 12, 12, 12), 6), //it is a copy because it has the same date and a larger number than the parent\r\n                new Round(3, LocalDateTime.of(2020, 12, 11, 12, 12, 12, 12), 6), //it is a copy because it has the same date and a larger number than the parent\r\n                new Round(3, LocalDateTime.of(2020, 12, 17, 12, 12, 12, 12), 5),\r\n                new Round(1, LocalDateTime.of(2020, 12, 12, 12, 12, 12, 12), null));\r\n","title":"Using groupingBy to calculate","body":"<p>I have a list of already sorted objects <code>Round</code> and in the middle a field <code>beginDate</code>. I would like using <code>groupingB</code>y in stream (or another method if it's better)\ncalculate the field <code>differenceDaysNumber</code> by differences of the field <code>beginDate</code> of the current element and the next element in the list, except that if the next element in the list has the same value in the field: and the larger field: <code>number</code>, then we rewrite this value to all copies.\nSomething like that, pseudocode:</p>\n<pre><code>1 ob1 (differenceDaysNumber: ob1.beginDate-ob2.beginDate)\n2 ob2 (differenceDaysNumber: ob3.beginDate-ob2.beginDate)\n3 ob3 (differenceDaysNumber: ob4.beginDate-ob3.beginDate)\n  3.1 ob3  (differenceDaysNumber: ob4.beginDate-ob3.beginDate) //this is copy with the same differenceDaysNumberas ob.3\n  3.2 ob3 (differenceDaysNumber: ob4.beginDate-ob3.beginDate)  //this is copy with the same durTime as ob.3\n4 ob4 (differenceDaysNumber: null)\n\n@Builder\n@Getter\npublic class Round {\n    \n    Integer number;\n    LocalDateTime beginDate;\n    @Setter\n    Integer differenceDaysNumber;\n}\n\n    var result = seriesInfoList.stream()\n            .collect(Collectors.groupingBy(SeriesInfo::getStartTime));  //what next ?\n\n    //input\n    List&lt;Round&gt; input = List.of(\n            new Round(1, LocalDateTime.of(2020, 12, 1, 12, 12, 12, 12), null),\n            new Round(1, LocalDateTime.of(2020, 12, 11, 12, 12, 12, 12), null),\n            new Round(2, LocalDateTime.of(2020, 12, 11, 12, 12, 12, 12), null),\n            new Round(3, LocalDateTime.of(2020, 12, 11, 12, 12, 12, 12), null),\n            new Round(1, LocalDateTime.of(2020, 12, 17, 12, 12, 12, 12), null),\n            new Round(1, LocalDateTime.of(2020, 12, 12, 12, 12, 12, 12), null));\n\n    //expected result\n    List&lt;Round&gt; output = List.of(\n            new Round(1, LocalDateTime.of(2020, 12, 1, 12, 12, 12, 12), 10),\n            new Round(1, LocalDateTime.of(2020, 12, 11, 12, 12, 12, 12), 6),\n            new Round(2, LocalDateTime.of(2020, 12, 11, 12, 12, 12, 12), 6), //it is a copy because it has the same date and a larger number than the parent\n            new Round(3, LocalDateTime.of(2020, 12, 11, 12, 12, 12, 12), 6), //it is a copy because it has the same date and a larger number than the parent\n            new Round(3, LocalDateTime.of(2020, 12, 17, 12, 12, 12, 12), 5),\n            new Round(1, LocalDateTime.of(2020, 12, 12, 12, 12, 12, 12), null));\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot"],"owner":{"account_id":23660170,"reputation":1,"user_id":21996574,"display_name":"Carlos Uriel Rojo Ferrer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686774949,"creation_date":1686774949,"question_id":76477352,"body_markdown":"I have developed some part of code  \r\nMy pipeline seems like this:\r\n\r\n```\r\ndb.collection.aggregate(\r\n[\r\n  {\r\n    $sort: { fraccion: 1, fec_fin: 1 },\r\n  },\r\n  {\r\n    $group: {\r\n      _id: &quot;$fraccion&quot;,\r\n      fec_fin: { $last: &quot;$fec_fin&quot; },\r\n    },\r\n  },\r\n  {\r\n    $lookup: {\r\n      from: &quot;cat_nico&quot;,\r\n      let: { tigie_fraccion: &quot;$_id&quot; },\r\n      pipeline: [\r\n        {\r\n          $match: {\r\n            $expr: {\r\n              $and: [\r\n                {\r\n                  $eq: [\r\n                    &quot;$d_fraccion&quot;,\r\n                    &quot;$$tigie_fraccion&quot;,\r\n                  ],\r\n                },\r\n              ],\r\n            },\r\n          },\r\n        },\r\n        {\r\n          $group: {\r\n            _id: &quot;$d_nico&quot;,\r\n            f_fin_vig: { $last: &quot;$f_fin_vig&quot; },\r\n          },\r\n        },\r\n        {\r\n          $project: {\r\n            _id: 0,\r\n            d_nico: &quot;$_id&quot;,\r\n            f_fin_vig: 1,\r\n          },\r\n        },\r\n      ],\r\n      as: &quot;nico&quot;,\r\n    },\r\n  },\r\n  {\r\n    $project: {\r\n      _id: 0,\r\n      fraccion: &quot;$_id&quot;,\r\n      fec_fin: 1,\r\n      nico: {\r\n        $cond: [\r\n          { $eq: [{ $size: &quot;$nico&quot; }, 0] },\r\n          [\r\n            {\r\n              d_nico: &quot;00&quot;,\r\n              f_fin_vig: &quot;$fec_fin&quot;,\r\n            },\r\n          ],\r\n          &quot;$nico&quot;,\r\n        ],\r\n      },\r\n    },\r\n  },\r\n  {\r\n    $unwind: &quot;$nico&quot;,\r\n  },\r\n  {\r\n    $set: {\r\n      nico: &quot;$nico.d_nico&quot;,\r\n      f_fin_vig: &quot;$nico.f_fin_vig&quot;,\r\n    },\r\n  },\r\n  {\r\n    $match: {\r\n      fraccion: fraccion, \r\n      nico: nico,\r\n    },\r\n  },\r\n])\r\n```\r\n\r\nMi problem when I run mi server and I got the next error:\r\n\r\nForwarding to error page from request due to exception \\[Invalid reference &#39;d_nico&#39;!\\]\r\n\r\nI have tried using addfields to create my set and directly a project but I not very Pro to solve this.  \r\nAnyone have any Ideas?\r\n\r\n```\r\nString fraccion = f.getFraccion().substring(0, 8);\r\n\t\t\t\t\tString nico = f.getFraccion().substring(8);\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tSortOperation sortOperation = sort(Direction.ASC, &quot;fraccion&quot;, &quot;fec_fin&quot;);\r\n\t\t\t\t\t\r\n\t\t\t\t\tGroupOperation group = group(&quot;fraccion&quot;).last(&quot;fec_fin&quot;).as(&quot;fec_fin&quot;);\r\n\r\n\t\t\t\t\tMap&lt;String, Document&gt; letOperationParameters = new HashMap&lt;&gt;();\r\n\t\t\t\t\tletOperationParameters.put(&quot;tigie_fraccion&quot;, new Document(&quot;$toString&quot;, &quot;$_id&quot;));\r\n\t\t\t\t\t\r\n\t\t\t\t\tList&lt;AggregationOperation&gt; pipeline1 = Arrays.asList(\r\n\t\t\t\t\t\t\tmatch(Criteria.where(&quot;$expr&quot;).is(new Document(&quot;$eq&quot;, Arrays.asList(&quot;$d_fraccion&quot;, &quot;$$tigie_fraccion&quot;)))),\r\n\t\t\t\t\t\t\tgroup(&quot;d_nico&quot;).last(&quot;f_fin_vig&quot;).as(&quot;f_fin_vig&quot;),\r\n\t\t\t\t\t\t\tproject().and(&quot;_id&quot;).as(&quot;d_nico&quot;).andInclude(&quot;f_fin_vig&quot;)\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\tLookupPipelineOperation lookupOperation1 = new LookupPipelineOperation(\r\n\t\t\t\t\t\t\t&quot;cat_nico&quot;,\r\n\t\t\t\t\t\t\tletOperationParameters,\r\n\t\t\t\t\t\t\tpipeline1,\r\n\t\t\t\t\t\t\t&quot;nico&quot;\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\r\n\t\t\t\t\tProjectionOperation projection1 = project()\r\n\t\t\t\t\t\t\t.andExclude(&quot;_id&quot;)\r\n\t\t\t\t\t\t\t.and(&quot;_id&quot;).as(&quot;fraccion&quot;)\r\n\t\t\t\t\t\t\t.and(&quot;fec_fin&quot;).as(&quot;fec_fin&quot;)\r\n\t\t\t\t\t\t\t.and(ConditionalOperators.Cond.when(Criteria.where(&quot;$nico&quot;).size(0))\r\n\t\t\t\t\t\t\t\t\t.then(Arrays.asList(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnew Document(&quot;d_nico&quot;, &quot;00&quot;),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnew Document(&quot;f_fin_vig&quot;, &quot;$fec_fin&quot;)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t.otherwise(&quot;$nico&quot;)\r\n\t\t\t\t\t\t\t\t\t).as(&quot;nico&quot;);\r\n\r\n\t\t\t\t\tUnwindOperation unwind = unwind(&quot;nico&quot;);\r\n\t\t\t\t\t\r\n\t\t\t\t\t//El error radica en que d_nico no esta definido hasta este contexto y hay que renombrarlo para usarlo en las operaciones posteriores\r\n\t\t\t\t\tFields setOperation = bind(&quot;nico&quot;, &quot;$nico.d_nico&quot;).and(&quot;f_fin_vig&quot;, &quot;$nico.f_fin_vig&quot;);\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tMatchOperation match = match(Criteria.where(&quot;fraccion&quot;).is(fraccion).and(&quot;nico&quot;).is(nico));\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tList&lt;AggregationOperation&gt; aggregationFilter = new ArrayList&lt;&gt;();\r\n\t\t\t\t\taggregationFilter.add(sortOperation);\r\n\t\t\t\t\taggregationFilter.add(group);\r\n\t\t\t\t\taggregationFilter.add(lookupOperation1);\r\n\t\t\t\t\taggregationFilter.add(projection1);\r\n\t\t\t\t\taggregationFilter.add(unwind);\r\n\t\t\t\t\taggregationFilter.add(setOperation);\r\n\t\t\t\t\taggregationFilter.add(match);\r\n\t\t\t\t\t\r\n\t\t\t\t\tCatTigie unique_fracc = cattigierepository.firstByAggregation(CatTigie.class, aggregationFilter);\r\n```","title":"How to create springboot Aggregation from my mongodb query","body":"<p>I have developed some part of code<br />\nMy pipeline seems like this:</p>\n<pre><code>db.collection.aggregate(\n[\n  {\n    $sort: { fraccion: 1, fec_fin: 1 },\n  },\n  {\n    $group: {\n      _id: &quot;$fraccion&quot;,\n      fec_fin: { $last: &quot;$fec_fin&quot; },\n    },\n  },\n  {\n    $lookup: {\n      from: &quot;cat_nico&quot;,\n      let: { tigie_fraccion: &quot;$_id&quot; },\n      pipeline: [\n        {\n          $match: {\n            $expr: {\n              $and: [\n                {\n                  $eq: [\n                    &quot;$d_fraccion&quot;,\n                    &quot;$$tigie_fraccion&quot;,\n                  ],\n                },\n              ],\n            },\n          },\n        },\n        {\n          $group: {\n            _id: &quot;$d_nico&quot;,\n            f_fin_vig: { $last: &quot;$f_fin_vig&quot; },\n          },\n        },\n        {\n          $project: {\n            _id: 0,\n            d_nico: &quot;$_id&quot;,\n            f_fin_vig: 1,\n          },\n        },\n      ],\n      as: &quot;nico&quot;,\n    },\n  },\n  {\n    $project: {\n      _id: 0,\n      fraccion: &quot;$_id&quot;,\n      fec_fin: 1,\n      nico: {\n        $cond: [\n          { $eq: [{ $size: &quot;$nico&quot; }, 0] },\n          [\n            {\n              d_nico: &quot;00&quot;,\n              f_fin_vig: &quot;$fec_fin&quot;,\n            },\n          ],\n          &quot;$nico&quot;,\n        ],\n      },\n    },\n  },\n  {\n    $unwind: &quot;$nico&quot;,\n  },\n  {\n    $set: {\n      nico: &quot;$nico.d_nico&quot;,\n      f_fin_vig: &quot;$nico.f_fin_vig&quot;,\n    },\n  },\n  {\n    $match: {\n      fraccion: fraccion, \n      nico: nico,\n    },\n  },\n])\n</code></pre>\n<p>Mi problem when I run mi server and I got the next error:</p>\n<p>Forwarding to error page from request due to exception [Invalid reference 'd_nico'!]</p>\n<p>I have tried using addfields to create my set and directly a project but I not very Pro to solve this.<br />\nAnyone have any Ideas?</p>\n<pre><code>String fraccion = f.getFraccion().substring(0, 8);\n                    String nico = f.getFraccion().substring(8); \n                    \n                    SortOperation sortOperation = sort(Direction.ASC, &quot;fraccion&quot;, &quot;fec_fin&quot;);\n                    \n                    GroupOperation group = group(&quot;fraccion&quot;).last(&quot;fec_fin&quot;).as(&quot;fec_fin&quot;);\n\n                    Map&lt;String, Document&gt; letOperationParameters = new HashMap&lt;&gt;();\n                    letOperationParameters.put(&quot;tigie_fraccion&quot;, new Document(&quot;$toString&quot;, &quot;$_id&quot;));\n                    \n                    List&lt;AggregationOperation&gt; pipeline1 = Arrays.asList(\n                            match(Criteria.where(&quot;$expr&quot;).is(new Document(&quot;$eq&quot;, Arrays.asList(&quot;$d_fraccion&quot;, &quot;$$tigie_fraccion&quot;)))),\n                            group(&quot;d_nico&quot;).last(&quot;f_fin_vig&quot;).as(&quot;f_fin_vig&quot;),\n                            project().and(&quot;_id&quot;).as(&quot;d_nico&quot;).andInclude(&quot;f_fin_vig&quot;)\n                            );\n                    LookupPipelineOperation lookupOperation1 = new LookupPipelineOperation(\n                            &quot;cat_nico&quot;,\n                            letOperationParameters,\n                            pipeline1,\n                            &quot;nico&quot;\n                            );\n                    \n                    ProjectionOperation projection1 = project()\n                            .andExclude(&quot;_id&quot;)\n                            .and(&quot;_id&quot;).as(&quot;fraccion&quot;)\n                            .and(&quot;fec_fin&quot;).as(&quot;fec_fin&quot;)\n                            .and(ConditionalOperators.Cond.when(Criteria.where(&quot;$nico&quot;).size(0))\n                                    .then(Arrays.asList(\n                                                    new Document(&quot;d_nico&quot;, &quot;00&quot;),\n                                                    new Document(&quot;f_fin_vig&quot;, &quot;$fec_fin&quot;)\n                                                    )\n                                            )\n                                    .otherwise(&quot;$nico&quot;)\n                                    ).as(&quot;nico&quot;);\n\n                    UnwindOperation unwind = unwind(&quot;nico&quot;);\n                    \n                    //El error radica en que d_nico no esta definido hasta este contexto y hay que renombrarlo para usarlo en las operaciones posteriores\n                    Fields setOperation = bind(&quot;nico&quot;, &quot;$nico.d_nico&quot;).and(&quot;f_fin_vig&quot;, &quot;$nico.f_fin_vig&quot;);\n                    \n                    \n                    \n                    MatchOperation match = match(Criteria.where(&quot;fraccion&quot;).is(fraccion).and(&quot;nico&quot;).is(nico));\n                                        \n                    List&lt;AggregationOperation&gt; aggregationFilter = new ArrayList&lt;&gt;();\n                    aggregationFilter.add(sortOperation);\n                    aggregationFilter.add(group);\n                    aggregationFilter.add(lookupOperation1);\n                    aggregationFilter.add(projection1);\n                    aggregationFilter.add(unwind);\n                    aggregationFilter.add(setOperation);\n                    aggregationFilter.add(match);\n                    \n                    CatTigie unique_fracc = cattigierepository.firstByAggregation(CatTigie.class, aggregationFilter);\n</code></pre>\n"},{"tags":["java","apache-spark","apache-spark-sql","spark-streaming","spark-structured-streaming"],"owner":{"account_id":21426549,"reputation":427,"user_id":15783777,"display_name":"catGPT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686774894,"creation_date":1686774894,"question_id":76477345,"body_markdown":"Same as the topic - How to use window function in spark using java apis, while performing map operation on a dataframe ?\r\n\r\nSuppose, I am performing this map operation -\r\n\r\n```\r\nLongAccumulator accum1 = spark.sparkContext().longAccumulator();\r\nLongAccumulator accum2 = spark.sparkContext().longAccumulator();\r\n\r\nDataset&lt;String&gt; deviceNamesByDF = deviceDF.map(\r\n                (MapFunction&lt;Row, String&gt;) row -&gt; {\r\n                    if(row.getString(0).equals(&quot;nexus4_1&quot;)){\r\n                        accum1.add(1);\r\n                    }\r\n                    else if(row.getString(0).equals(&quot;nexus4_2&quot;)){\r\n                        accum2.add(1);\r\n                    }\r\n                    return &quot;Model: &quot; + row.getString(0);\r\n                },\r\n                stringEncoder);\r\n```\r\n\r\nNow, I want this operation to be windowed , just like we find the occurence of some cols using windowed aggregation like this - \r\n\r\n```\r\nDataset&lt;Row&gt; windowedCounts = words.groupBy(\r\n  functions.window(words.col(&quot;timestamp&quot;), &quot;10 minutes&quot;, &quot;5 minutes&quot;),\r\n  words.col(&quot;word&quot;)\r\n).count();\r\n```\r\n\r\nHow do I achieve this ?? How do I perform map operation on windows of data ??","title":"How to use windowed aggregations in spark using java apis, while performing map operation on a dataframe?","body":"<p>Same as the topic - How to use window function in spark using java apis, while performing map operation on a dataframe ?</p>\n<p>Suppose, I am performing this map operation -</p>\n<pre><code>LongAccumulator accum1 = spark.sparkContext().longAccumulator();\nLongAccumulator accum2 = spark.sparkContext().longAccumulator();\n\nDataset&lt;String&gt; deviceNamesByDF = deviceDF.map(\n                (MapFunction&lt;Row, String&gt;) row -&gt; {\n                    if(row.getString(0).equals(&quot;nexus4_1&quot;)){\n                        accum1.add(1);\n                    }\n                    else if(row.getString(0).equals(&quot;nexus4_2&quot;)){\n                        accum2.add(1);\n                    }\n                    return &quot;Model: &quot; + row.getString(0);\n                },\n                stringEncoder);\n</code></pre>\n<p>Now, I want this operation to be windowed , just like we find the occurence of some cols using windowed aggregation like this -</p>\n<pre><code>Dataset&lt;Row&gt; windowedCounts = words.groupBy(\n  functions.window(words.col(&quot;timestamp&quot;), &quot;10 minutes&quot;, &quot;5 minutes&quot;),\n  words.col(&quot;word&quot;)\n).count();\n</code></pre>\n<p>How do I achieve this ?? How do I perform map operation on windows of data ??</p>\n"},{"tags":["java","google-apps-script","google-drive-shared-drive"],"comments":[{"owner":{"account_id":9729507,"reputation":61490,"user_id":7215091,"accept_rate":71,"display_name":"Cooper"},"score":0,"creation_date":1686774803,"post_id":76477288,"comment_id":134847197,"body_markdown":"getFolderById() does not return an iterator.  So your loop won&#39;t work. https://developers.google.com/apps-script/reference/drive/drive-app#getFolderById(String)","body":"getFolderById() does not return an iterator.  So your loop won&#39;t work. <a href=\"https://developers.google.com/apps-script/reference/drive/drive-app#getFolderById(String)\" rel=\"nofollow noreferrer\">developers.google.com/apps-script/reference/drive/&hellip;</a>"}],"owner":{"account_id":28822865,"reputation":1,"user_id":22074992,"display_name":"user22074992"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686774351,"creation_date":1686774298,"question_id":76477288,"body_markdown":"I am trying to create backups of a google sheet to a file and organize it by date. The Parent file will remain constant and I am basing my code on that folder, but the first child folder would need to be the month (in this case June) and then a child folder with the file type name (in this case BackupEX). So I am trying to select the folder by the parent folder ID and iterate through the first and second child folders to paste the backup since the months will keep changing and would necessitate new Id&#39;s. \r\n\r\n\r\n\r\nOnce the correct file is found I would need it to move the copied file into this folder. But I keep getting TypeError: folders.hasNext is not a function. Any thoughts or better processes to achieve this? \r\n\r\n```\r\n\r\nvar parentFileID = &#39;(obmitted)&#39;;\r\nvar childFolderName = &#39;June 2023&#39;\r\nvar childFolderName2 = &#39;BackupEX&#39;\r\n\r\nvar folders = DriveApp.getFolderById(parentFileID);\r\nwhile(folders.hasNext()){\r\n  var folder = subFolders.next();\r\n\r\n  if(folder.getName() === childFolderName){\r\n    return newFolder.getID();\r\n  }\r\n  if(folder.getName() === childFolderName2){\r\n  return newFolder2.getID();\r\n  }\r\n  DriveApp.getFileById(id).moveTo(newFolder2)\r\n}\r\n```\r\n","title":"Select parent google drive folder by id, specify child folder then move a document into the child folder app script","body":"<p>I am trying to create backups of a google sheet to a file and organize it by date. The Parent file will remain constant and I am basing my code on that folder, but the first child folder would need to be the month (in this case June) and then a child folder with the file type name (in this case BackupEX). So I am trying to select the folder by the parent folder ID and iterate through the first and second child folders to paste the backup since the months will keep changing and would necessitate new Id's.</p>\n<p>Once the correct file is found I would need it to move the copied file into this folder. But I keep getting TypeError: folders.hasNext is not a function. Any thoughts or better processes to achieve this?</p>\n<pre><code>\nvar parentFileID = '(obmitted)';\nvar childFolderName = 'June 2023'\nvar childFolderName2 = 'BackupEX'\n\nvar folders = DriveApp.getFolderById(parentFileID);\nwhile(folders.hasNext()){\n  var folder = subFolders.next();\n\n  if(folder.getName() === childFolderName){\n    return newFolder.getID();\n  }\n  if(folder.getName() === childFolderName2){\n  return newFolder2.getID();\n  }\n  DriveApp.getFileById(id).moveTo(newFolder2)\n}\n</code></pre>\n"},{"tags":["java","activemq"],"comments":[{"owner":{"account_id":27297893,"reputation":11,"user_id":20815239,"display_name":"szciz"},"score":0,"creation_date":1686770854,"post_id":76443343,"comment_id":134846515,"body_markdown":"I don&#39;t have access to the app box due to security restrictions so I am unable to try what you suggested. I guess the issue is caused by dynamic scaling of consumers and the value of maxMessagesPerTask (prefetch). I have set concurrentConsumers = maxConcurrentConsumers, maxMessagesPerTask = 0, and started the app. I will see if the issue occur in next several days.","body":"I don&#39;t have access to the app box due to security restrictions so I am unable to try what you suggested. I guess the issue is caused by dynamic scaling of consumers and the value of maxMessagesPerTask (prefetch). I have set concurrentConsumers = maxConcurrentConsumers, maxMessagesPerTask = 0, and started the app. I will see if the issue occur in next several days."},{"owner":{"account_id":8072204,"reputation":4156,"user_id":6084589,"display_name":"Matt Pavlovich"},"score":0,"creation_date":1686862627,"post_id":76443343,"comment_id":134860575,"body_markdown":"What acknowledgement mode?  1 message dispatched and 0 dequeued means the broker has not received the &#39;ack&#39; for the message using AUTO_ACK, or the transaction is not committed (SESSION_TRANSACTED ackMode)","body":"What acknowledgement mode?  1 message dispatched and 0 dequeued means the broker has not received the &#39;ack&#39; for the message using AUTO_ACK, or the transaction is not committed (SESSION_TRANSACTED ackMode)"},{"owner":{"account_id":27297893,"reputation":11,"user_id":20815239,"display_name":"szciz"},"score":0,"creation_date":1686925361,"post_id":76443343,"comment_id":134869819,"body_markdown":"The ack mode is AUTO_ACKNOWLEDGE. After some msgs got stuck, the listener method onMessage() was not called at all when a new msg had been put into the Q.","body":"The ack mode is AUTO_ACKNOWLEDGE. After some msgs got stuck, the listener method onMessage() was not called at all when a new msg had been put into the Q."},{"owner":{"account_id":8072204,"reputation":4156,"user_id":6084589,"display_name":"Matt Pavlovich"},"score":0,"creation_date":1687032684,"post_id":76443343,"comment_id":134881557,"body_markdown":"Why is maxMessagesPerTask set to 0?  Try setting it to 1","body":"Why is maxMessagesPerTask set to 0?  Try setting it to 1"},{"owner":{"account_id":27297893,"reputation":11,"user_id":20815239,"display_name":"szciz"},"score":0,"creation_date":1687054190,"post_id":76443343,"comment_id":134882985,"body_markdown":"It is equivalent to prefetch = 0, which makes consumer pulls message. In this situation, it is impossible for messages to stuck in an inactive consumer.","body":"It is equivalent to prefetch = 0, which makes consumer pulls message. In this situation, it is impossible for messages to stuck in an inactive consumer."},{"owner":{"account_id":8072204,"reputation":4156,"user_id":6084589,"display_name":"Matt Pavlovich"},"score":0,"creation_date":1687184461,"post_id":76443343,"comment_id":134897538,"body_markdown":"What version of ActiveMQ, Spring, etc?","body":"What version of ActiveMQ, Spring, etc?"},{"owner":{"account_id":27297893,"reputation":11,"user_id":20815239,"display_name":"szciz"},"score":0,"creation_date":1687288042,"post_id":76443343,"comment_id":134914936,"body_markdown":"ActiveMQ 5.16.5, springframework 5.32.4, java8","body":"ActiveMQ 5.16.5, springframework 5.32.4, java8"},{"owner":{"account_id":27297893,"reputation":11,"user_id":20815239,"display_name":"szciz"},"score":0,"creation_date":1687288819,"post_id":76443343,"comment_id":134915060,"body_markdown":"It has been 5 days passed since I set prefetch to 0. No stuck messages occur.","body":"It has been 5 days passed since I set prefetch to 0. No stuck messages occur."}],"owner":{"account_id":27297893,"reputation":11,"user_id":20815239,"display_name":"szciz"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686774107,"creation_date":1686341110,"question_id":76443343,"body_markdown":"I have a Spring application that consumes messages from ActiveMQ. The app runs fine initially. However, after a couple of days it stops consuming messages. The ActiveMQ Web Console shows that 1 enqueued, 0 dequeued, 1 dispatched, 1 is in Dispatched Queue. \r\n\r\nIf I restart the app the messages in Dispatched Queue get consumed and new messages are consumed as expected.\r\n\r\nIf I didn&#39;t take any action the after another one or two days the message in Dispatched Queue is eventually consumed. But the new messages go to Dispatched Queue again.\r\n\r\nFollowing is the configuration:\r\n```xml\r\n\t&lt;bean id=&quot;baseConnectionFactory&quot; class=&quot;org.apache.activemq.ActiveMQSslConnectionFactory&quot;&gt;&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;singleConnectionFactory&quot; class=&quot;org.springframework.jms.connection.SingleConnectionFactory&quot;&gt;\r\n\t\t&lt;property name=&quot;targetConnectionFactory&quot; ref=&quot;baseConnectionFactory&quot;/&gt;\r\n\t\t&lt;property name=&quot;reconnectOnException&quot; value=&quot;true&quot;/&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;requestListenerContainer&quot; class=&quot;org.springframework.jms.listener.DefaultMessageListenerContainer&quot;&gt;\r\n\t  &lt;property name=&quot;concurrentConsumers&quot; value=&quot;5&quot;/&gt;\r\n\t  &lt;property name=&quot;maxConcurrentConsumers&quot; value=&quot;10&quot;/&gt;\r\n\t  &lt;property name=&quot;idleTaskExecutionLimit&quot; value=&quot;5&quot;/&gt;\r\n\t  &lt;property name=&quot;maxMessagesPerTask&quot; value=&quot;1000&quot;/&gt;\r\n\t  &lt;property name=&quot;receiveTimeout&quot; value=&quot;${mq.i94dataentry.receivetimeout}&quot;/&gt;\r\n\t  &lt;property name=&quot;connectionFactory&quot; ref=&quot;singleConnectionFactory&quot; /&gt;\r\n\t  ...\r\n\t&lt;/bean&gt;\r\n```\r\nWhat could be the possible reason for this scenario?\r\n\r\nI don&#39;t have access to the app box due to security restrictions so I am unable to acquire any [thread dumps][1]. I guess the issue is caused by dynamic scaling of consumers and the value of `maxMessagesPerTask` (prefetch). I have set `concurrentConsumers` equal to `maxConcurrentConsumers` and `maxMessagesPerTask` to `0` and started the app. I will see if the issue occur in next several days. \r\n\r\n\r\n  [1]: https://www.baeldung.com/java-thread-dump","title":"What is possible reason for messages stuck in Dispatched Queue of ActiveMQ","body":"<p>I have a Spring application that consumes messages from ActiveMQ. The app runs fine initially. However, after a couple of days it stops consuming messages. The ActiveMQ Web Console shows that 1 enqueued, 0 dequeued, 1 dispatched, 1 is in Dispatched Queue.</p>\n<p>If I restart the app the messages in Dispatched Queue get consumed and new messages are consumed as expected.</p>\n<p>If I didn't take any action the after another one or two days the message in Dispatched Queue is eventually consumed. But the new messages go to Dispatched Queue again.</p>\n<p>Following is the configuration:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;bean id=&quot;baseConnectionFactory&quot; class=&quot;org.apache.activemq.ActiveMQSslConnectionFactory&quot;&gt;&lt;/bean&gt;\n\n    &lt;bean id=&quot;singleConnectionFactory&quot; class=&quot;org.springframework.jms.connection.SingleConnectionFactory&quot;&gt;\n        &lt;property name=&quot;targetConnectionFactory&quot; ref=&quot;baseConnectionFactory&quot;/&gt;\n        &lt;property name=&quot;reconnectOnException&quot; value=&quot;true&quot;/&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;requestListenerContainer&quot; class=&quot;org.springframework.jms.listener.DefaultMessageListenerContainer&quot;&gt;\n      &lt;property name=&quot;concurrentConsumers&quot; value=&quot;5&quot;/&gt;\n      &lt;property name=&quot;maxConcurrentConsumers&quot; value=&quot;10&quot;/&gt;\n      &lt;property name=&quot;idleTaskExecutionLimit&quot; value=&quot;5&quot;/&gt;\n      &lt;property name=&quot;maxMessagesPerTask&quot; value=&quot;1000&quot;/&gt;\n      &lt;property name=&quot;receiveTimeout&quot; value=&quot;${mq.i94dataentry.receivetimeout}&quot;/&gt;\n      &lt;property name=&quot;connectionFactory&quot; ref=&quot;singleConnectionFactory&quot; /&gt;\n      ...\n    &lt;/bean&gt;\n</code></pre>\n<p>What could be the possible reason for this scenario?</p>\n<p>I don't have access to the app box due to security restrictions so I am unable to acquire any <a href=\"https://www.baeldung.com/java-thread-dump\" rel=\"nofollow noreferrer\">thread dumps</a>. I guess the issue is caused by dynamic scaling of consumers and the value of <code>maxMessagesPerTask</code> (prefetch). I have set <code>concurrentConsumers</code> equal to <code>maxConcurrentConsumers</code> and <code>maxMessagesPerTask</code> to <code>0</code> and started the app. I will see if the issue occur in next several days.</p>\n"},{"tags":["java","oracle","jdbc"],"comments":[{"owner":{"account_id":4714434,"reputation":41866,"user_id":3814029,"accept_rate":67,"display_name":"Andy Guibert"},"score":2,"creation_date":1469983848,"post_id":38682483,"comment_id":64751621,"body_markdown":"The exception comes from when you try `Class.forName(&quot;....OracleDriver&quot;)` because you don&#39;t have the Oracle JDBC classes on your classpath.  There are many, many other questions exactly like this, a quick google search will get you an answer.","body":"The exception comes from when you try <code>Class.forName(&quot;....OracleDriver&quot;)</code> because you don&#39;t have the Oracle JDBC classes on your classpath.  There are many, many other questions exactly like this, a quick google search will get you an answer."}],"answers":[{"tags":[],"owner":{"account_id":3395647,"reputation":8928,"user_id":2849346,"accept_rate":50,"display_name":"MWiesner"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1470140416,"creation_date":1470139817,"answer_id":38720060,"question_id":38682483,"body_markdown":"The reason why you encounter this Exception is, that you use the wrong package to refer to the `OracleDriver` class\r\n\r\nTherefore, you should change the incorrect class load call \r\n\r\n    Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\r\n\r\ninto \r\n\r\n    Class.forName(&quot;oracle.jdbc.OracleDriver&quot;);\r\n     \r\nas this class file implements the `java.sql.Driver` interface which is actually checked for at runtime.\r\n\r\nFor reference, see also the description in the [official JavaDoc][1] provided by Oracle: \r\n&gt; The Oracle JDBC driver class that implements the java.sql.Driver interface.\r\n\r\n  [1]: http://download.oracle.com/otn_hosted_doc/jdeveloper/905/jdbc-javadoc/oracle/jdbc/OracleDriver.html","title":"How to solve &quot;java.lang.ClassNotFoundException: oracle.jdbc.driver.OracleDriver&quot; at runtime?","body":"<p>The reason why you encounter this Exception is, that you use the wrong package to refer to the <code>OracleDriver</code> class</p>\n\n<p>Therefore, you should change the incorrect class load call </p>\n\n<pre><code>Class.forName(\"oracle.jdbc.driver.OracleDriver\");\n</code></pre>\n\n<p>into </p>\n\n<pre><code>Class.forName(\"oracle.jdbc.OracleDriver\");\n</code></pre>\n\n<p>as this class file implements the <code>java.sql.Driver</code> interface which is actually checked for at runtime.</p>\n\n<p>For reference, see also the description in the <a href=\"http://download.oracle.com/otn_hosted_doc/jdeveloper/905/jdbc-javadoc/oracle/jdbc/OracleDriver.html\" rel=\"noreferrer\">official JavaDoc</a> provided by Oracle: </p>\n\n<blockquote>\n  <p>The Oracle JDBC driver class that implements the java.sql.Driver interface.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":1204266,"reputation":5872,"user_id":1174302,"accept_rate":53,"display_name":"Praxiteles"},"score":0,"creation_date":1578451285,"post_id":43735529,"comment_id":105439624,"body_markdown":"**How** does one do the step you say which is to &quot;include ojdbc6.jar in your application&#39;s classpath&quot;? What does that mean?","body":"<b>How</b> does one do the step you say which is to &quot;include ojdbc6.jar in your application&#39;s classpath&quot;? What does that mean?"}],"tags":[],"owner":{"account_id":10786363,"reputation":31,"user_id":7935241,"display_name":"Gopinath Padala"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1568372086,"creation_date":1493720564,"answer_id":43735529,"question_id":38682483,"body_markdown":"## Solution\r\n\r\n* 1) Firstly download `ojdbc6.jar` and `ojdbc6_g.jar` from google.\r\n\r\n* 2) If you are connecting to Oracle 11g from Java and running on version Java 6 then include `ojdbc6.jar` or `ojdbc6_g.jar` in your application&#39;s classpath.\r\n\r\n* 3) Once you complete the download, paste the files in `C:\\Program Files\\Java\\jdk1.6.0_23\\jre\\lib\\ext folder`.\r\n\r\n","title":"How to solve &quot;java.lang.ClassNotFoundException: oracle.jdbc.driver.OracleDriver&quot; at runtime?","body":"<h2>Solution</h2>\n\n<ul>\n<li><p>1) Firstly download <code>ojdbc6.jar</code> and <code>ojdbc6_g.jar</code> from google.</p></li>\n<li><p>2) If you are connecting to Oracle 11g from Java and running on version Java 6 then include <code>ojdbc6.jar</code> or <code>ojdbc6_g.jar</code> in your application's classpath.</p></li>\n<li><p>3) Once you complete the download, paste the files in <code>C:\\Program Files\\Java\\jdk1.6.0_23\\jre\\lib\\ext folder</code>.</p></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":1204266,"reputation":5872,"user_id":1174302,"accept_rate":53,"display_name":"Praxiteles"},"score":0,"creation_date":1578451345,"post_id":58314859,"comment_id":105439640,"body_markdown":"What do you mean &quot;placing that in the classpath&quot;? We are trying to solve this same error in Python and the meaning of that statement is unclear.","body":"What do you mean &quot;placing that in the classpath&quot;? We are trying to solve this same error in Python and the meaning of that statement is unclear."},{"owner":{"account_id":1800297,"reputation":59,"user_id":1638818,"display_name":"Touseef Zaki"},"score":0,"creation_date":1578913989,"post_id":58314859,"comment_id":105581707,"body_markdown":"As i mentioned you need to download the oracle8.jar and then paste that jar in &quot;C:\\Program Files\\Java\\jre1.8.0_221\\lib\\ext&quot; path. This should solve your problem. It solved mine","body":"As i mentioned you need to download the oracle8.jar and then paste that jar in &quot;C:\\Program Files\\Java\\jre1.8.0_221\\lib\\ext&quot; path. This should solve your problem. It solved mine"}],"tags":[],"owner":{"account_id":1800297,"reputation":59,"user_id":1638818,"display_name":"Touseef Zaki"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570676587,"creation_date":1570676587,"answer_id":58314859,"question_id":38682483,"body_markdown":"This is just a reference solution for those who has Java 1.8 and oracle Version 12+. In my case i had Java 1.8 therefore downloading oracle8.jar and placing that in the classpath as mentioned above helped to solve my problem.","title":"How to solve &quot;java.lang.ClassNotFoundException: oracle.jdbc.driver.OracleDriver&quot; at runtime?","body":"<p>This is just a reference solution for those who has Java 1.8 and oracle Version 12+. In my case i had Java 1.8 therefore downloading oracle8.jar and placing that in the classpath as mentioned above helped to solve my problem.</p>\n"},{"tags":[],"owner":{"account_id":6679023,"reputation":1,"user_id":5152808,"display_name":"alexander perlov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686774079,"creation_date":1686595408,"answer_id":76459449,"question_id":38682483,"body_markdown":"You have to run `startNetworkServer` within derby Folder (using cmd.exe). Typically, you will get port 1527; then in Eclipse -&gt; Properties -&gt; java path -&gt; classpath you add .jar by browsing to `derby/lib/derbyclient.jar;` finally within java class with main() method you get \r\n\r\n`connection = DriverManager.getConnection(&quot;jdbc:derby://localhost:1527/nameOfDataBase&quot;);`\r\n\r\nEnjoy.","title":"How to solve &quot;java.lang.ClassNotFoundException: oracle.jdbc.driver.OracleDriver&quot; at runtime?","body":"<p>You have to run <code>startNetworkServer</code> within derby Folder (using cmd.exe). Typically, you will get port 1527; then in Eclipse -&gt; Properties -&gt; java path -&gt; classpath you add .jar by browsing to <code>derby/lib/derbyclient.jar;</code> finally within java class with main() method you get</p>\n<p><code>connection = DriverManager.getConnection(&quot;jdbc:derby://localhost:1527/nameOfDataBase&quot;);</code></p>\n<p>Enjoy.</p>\n"}],"owner":{"account_id":8924382,"reputation":502,"user_id":6659523,"accept_rate":25,"display_name":"Mohit Prakash"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24371,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":38720060,"answer_count":4,"score":2,"last_activity_date":1686774079,"creation_date":1469956490,"question_id":38682483,"body_markdown":"There is a problem at runtime with this code which is :\r\n\r\n&gt;     java.lang.classNotFoundException: oracle:jdbc:driver:OracleDriver\r\n\r\nbut another program of same JDBC driver are run properly but this JDBC driver is found a exception in java applet. So please help me for this problem. \r\n\r\n*I&#39;m new in Java.*\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.applet.*;\r\n    import java.sql.*;\r\n    import java.io.*;\r\n\r\n    /*&lt;applet code=&quot;EmpDetails&quot; width=300 height=500&gt;&lt;/applet&gt;*/\r\n\r\n    public class EmpDetails extends Applet implements ActionListener{\r\n\tTextField firstName, lastName, userId, pass, email, phone;\r\n\tButton submit,cancel;\r\n\tString msg = &quot;&quot;;\r\n\t\r\n\tpublic void init(){\r\n\t\r\n\t\tsetLayout(new GridLayout(10,2,0,30));\r\n\t\t\r\n\t\t\r\n\t\tLabel fname = new Label(&quot;First Name : &quot;);\r\n\t\tLabel lname = new Label(&quot;\\nLast Name : &quot;);\r\n\t\tLabel uid = new Label(&quot;User Id : &quot;);\r\n\t\tLabel pas = new Label(&quot;Password : &quot;);\r\n\t\tLabel emailid = new Label(&quot;Email Id : &quot;);\r\n\t\tLabel ph = new Label(&quot;Phone : &quot;);\r\n\t\t\r\n\t\tfirstName = new TextField(10);\r\n\t\tlastName = new TextField(10);\r\n\t\tuserId = new TextField(16);\r\n\t\tpass = new TextField(16);\r\n\t\temail = new TextField(30);\r\n\t\tphone = new TextField(12);\r\n\t\tpass.setEchoChar(&#39;*&#39;);\r\n\t\t\r\n\t\tsubmit = new Button(&quot;Submit&quot;);\r\n\t\tcancel = new Button(&quot;Cancel&quot;);\r\n\t\t\r\n\t\tadd(fname);\r\n\t\tadd(firstName);\r\n\t\t\r\n\t\tadd(lname);\r\n\t\tadd(lastName);\r\n\t\tadd(uid);\r\n\t\tadd(userId);\r\n\t\tadd(pas);\r\n\t\tadd(pass);\r\n\t\tadd(emailid);\r\n\t\tadd(email);\r\n\t\tadd(ph);\r\n\t\tadd(phone);\r\n\t\tadd(submit);\r\n\t\tadd(cancel);\r\n\t\t\r\n\t\tfirstName.addActionListener(this);\r\n\t\tlastName.addActionListener(this);\r\n\t\tuserId.addActionListener(this);\r\n\t\tpass.addActionListener(this);\r\n\t\temail.addActionListener(this);\r\n\t\tphone.addActionListener(this);\r\n\t\tsubmit.addActionListener(this);\r\n\t\tcancel.addActionListener(this);\r\n\t\t}\r\n\t\tpublic void actionPerformed(ActionEvent ae)\r\n\t\t{\r\n\t\t\tString str = ae.getActionCommand();\r\n\t\t\tif(str.equals(&quot;Submit&quot;))\r\n\t\t\t{\r\n\t\t\t\t\ttry{\r\n\t\t\t\t\t\tClass.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\r\n\t\t\t\t\t\tString url = &quot;jdbc:oracle:thin:@localhost:1521:XE&quot;;\r\n\t\t\t\t\t\tString id = &quot;system&quot;;\r\n\t\t\t\t\t\tString passw = &quot;root&quot;;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tConnection con = DriverManager.getConnection(url , id , passw);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tStatement st = con.createStatement();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tString u,fn,ln,ps,em,pn;\r\n\t\t\t\t\t\tu = userId.getText();\r\n\t\t\t\t\t\tfn = firstName.getText();\r\n\t\t\t\t\t\tln = lastName.getText();\r\n\t\t\t\t\t\tps = pass.getText();\r\n\t\t\t\t\t\tem = email.getText();\r\n\t\t\t\t\t\tpn = phone.getText();\r\n\t\t\t\t\t\tString urld = &quot;INSERT INTO EMPDETAILS(id,firstname,lastname,email,password,phone)&quot; + &quot;values&quot; + &quot;(&#39;&quot; + u + &quot;&#39;,&#39;&quot; + fn + &quot;&#39;,&#39;&quot; + ln + &quot;&#39;,&#39;&quot; + em + &quot;&#39;,&#39;&quot; + ps + &quot;&#39;,&#39;&quot; + pn + &quot;&#39;)&quot;;\r\n\t\t\t\t\t\tst.executeUpdate(urld);\r\n\t\t\t\t\t\tcon.close();\r\n\t\t\t\t\t\tst.close();\r\n\t\t\t\t\t\tmsg = &quot;Recode added successfull &quot;;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tcatch(Exception e){ msg = e.toString();}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\telse{\r\n\t\t\t\tmsg = &quot;No any data added&quot;;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\trepaint();\r\n\t\t}\r\n\t\tpublic void paint(Graphics g){\r\n\t\t\tg.drawString(msg,6,300);\r\n\t\t\t\r\n\t\t\r\n        }\r\n    }","title":"How to solve &quot;java.lang.ClassNotFoundException: oracle.jdbc.driver.OracleDriver&quot; at runtime?","body":"<p>There is a problem at runtime with this code which is :</p>\n\n<blockquote>\n<pre><code>java.lang.classNotFoundException: oracle:jdbc:driver:OracleDriver\n</code></pre>\n</blockquote>\n\n<p>but another program of same JDBC driver are run properly but this JDBC driver is found a exception in java applet. So please help me for this problem. </p>\n\n<p><em>I'm new in Java.</em></p>\n\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport java.applet.*;\nimport java.sql.*;\nimport java.io.*;\n\n/*&lt;applet code=\"EmpDetails\" width=300 height=500&gt;&lt;/applet&gt;*/\n\npublic class EmpDetails extends Applet implements ActionListener{\nTextField firstName, lastName, userId, pass, email, phone;\nButton submit,cancel;\nString msg = \"\";\n\npublic void init(){\n\n    setLayout(new GridLayout(10,2,0,30));\n\n\n    Label fname = new Label(\"First Name : \");\n    Label lname = new Label(\"\\nLast Name : \");\n    Label uid = new Label(\"User Id : \");\n    Label pas = new Label(\"Password : \");\n    Label emailid = new Label(\"Email Id : \");\n    Label ph = new Label(\"Phone : \");\n\n    firstName = new TextField(10);\n    lastName = new TextField(10);\n    userId = new TextField(16);\n    pass = new TextField(16);\n    email = new TextField(30);\n    phone = new TextField(12);\n    pass.setEchoChar('*');\n\n    submit = new Button(\"Submit\");\n    cancel = new Button(\"Cancel\");\n\n    add(fname);\n    add(firstName);\n\n    add(lname);\n    add(lastName);\n    add(uid);\n    add(userId);\n    add(pas);\n    add(pass);\n    add(emailid);\n    add(email);\n    add(ph);\n    add(phone);\n    add(submit);\n    add(cancel);\n\n    firstName.addActionListener(this);\n    lastName.addActionListener(this);\n    userId.addActionListener(this);\n    pass.addActionListener(this);\n    email.addActionListener(this);\n    phone.addActionListener(this);\n    submit.addActionListener(this);\n    cancel.addActionListener(this);\n    }\n    public void actionPerformed(ActionEvent ae)\n    {\n        String str = ae.getActionCommand();\n        if(str.equals(\"Submit\"))\n        {\n                try{\n                    Class.forName(\"oracle.jdbc.driver.OracleDriver\");\n                    String url = \"jdbc:oracle:thin:@localhost:1521:XE\";\n                    String id = \"system\";\n                    String passw = \"root\";\n\n                    Connection con = DriverManager.getConnection(url , id , passw);\n\n                    Statement st = con.createStatement();\n\n                    String u,fn,ln,ps,em,pn;\n                    u = userId.getText();\n                    fn = firstName.getText();\n                    ln = lastName.getText();\n                    ps = pass.getText();\n                    em = email.getText();\n                    pn = phone.getText();\n                    String urld = \"INSERT INTO EMPDETAILS(id,firstname,lastname,email,password,phone)\" + \"values\" + \"('\" + u + \"','\" + fn + \"','\" + ln + \"','\" + em + \"','\" + ps + \"','\" + pn + \"')\";\n                    st.executeUpdate(urld);\n                    con.close();\n                    st.close();\n                    msg = \"Recode added successfull \";\n                }\n\n                catch(Exception e){ msg = e.toString();}\n        }\n\n        else{\n            msg = \"No any data added\";\n\n        }\n        repaint();\n    }\n    public void paint(Graphics g){\n        g.drawString(msg,6,300);\n\n\n    }\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","time-complexity","intellij-plugin","cyclomatic-complexity"],"answers":[{"tags":[],"owner":{"account_id":179691,"reputation":7704,"user_id":412519,"accept_rate":88,"display_name":"Raymund"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686773747,"creation_date":1686773747,"answer_id":76477228,"question_id":74112861,"body_markdown":"To answer you first question here is the definition of those metrics in question\r\n\r\n - **CogC** - Cognitive complexity is essential for controlling and confirming high degrees of software maintainability which often\r\n   involves software change. \r\n   \r\n - **ev(G)** - Essential Complexity Metric is a measure of the degree to which a module contains unstructured constructs. This metric measures\r\n   the degree of structuredness and the quality of the code. It is used\r\n   to predict the maintenance effort and to help in the modularization\r\n   process.\r\n   \r\n - **iv(G)** - Module Design Complexity Metric is the complexity of the design-reduced module and reflects the complexity of the module&#39;s\r\n   calling patterns to its immediate subordinate modules. This metric\r\n   differentiates between modules which will seriously complicate the\r\n   design of any program they are part of and modules which simply\r\n   contain complex computational logic. \r\n   \r\n - **v(G)** - Cyclomatic Complexity is a measure of the complexity of a module&#39;s decision structure. It is the number of linearly independent\r\n   paths and therefore, the minimum number of paths that should be\r\n   tested.\r\n\r\nSources: \r\n\r\nhttps://www.sciencedirect.com/science/article/abs/pii/S0950584918301903\r\nhttp://www.mccabe.com/iq_research_metrics.htm","title":"Cyclomatic Complexity in Intellij","body":"<p>To answer you first question here is the definition of those metrics in question</p>\n<ul>\n<li><p><strong>CogC</strong> - Cognitive complexity is essential for controlling and confirming high degrees of software maintainability which often\ninvolves software change.</p>\n</li>\n<li><p><strong>ev(G)</strong> - Essential Complexity Metric is a measure of the degree to which a module contains unstructured constructs. This metric measures\nthe degree of structuredness and the quality of the code. It is used\nto predict the maintenance effort and to help in the modularization\nprocess.</p>\n</li>\n<li><p><strong>iv(G)</strong> - Module Design Complexity Metric is the complexity of the design-reduced module and reflects the complexity of the module's\ncalling patterns to its immediate subordinate modules. This metric\ndifferentiates between modules which will seriously complicate the\ndesign of any program they are part of and modules which simply\ncontain complex computational logic.</p>\n</li>\n<li><p><strong>v(G)</strong> - Cyclomatic Complexity is a measure of the complexity of a module's decision structure. It is the number of linearly independent\npaths and therefore, the minimum number of paths that should be\ntested.</p>\n</li>\n</ul>\n<p>Sources:</p>\n<p><a href=\"https://www.sciencedirect.com/science/article/abs/pii/S0950584918301903\" rel=\"nofollow noreferrer\">https://www.sciencedirect.com/science/article/abs/pii/S0950584918301903</a>\n<a href=\"http://www.mccabe.com/iq_research_metrics.htm\" rel=\"nofollow noreferrer\">http://www.mccabe.com/iq_research_metrics.htm</a></p>\n"}],"owner":{"account_id":26412918,"reputation":3,"user_id":20222257,"display_name":"Ben Sailor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1900,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76477228,"answer_count":1,"score":0,"last_activity_date":1686773747,"creation_date":1666103977,"question_id":74112861,"body_markdown":"I was working on an assignment today that basically asked us to write a Java program that checks if HTML syntax is valid in a text file. Pretty simple assignment, I did it very quickly, but in doing it so quickly I made it very convoluted (lots of loops and if statements). I know I can make it a lot simpler, and I will before turning it in, but Amid my procrastination, I started downloading plugins and seeing what information they could give me. \r\n\r\nI downloaded two in particular that I&#39;m curious about - CodeMetrics and MetricsReloaded. I was wondering what exactly these numbers that it generates correlate to. I saw one post that was semi-similar, and I read it as well as the linked articles, but I&#39;m still having some trouble understanding a couple of things. Namely, what the first two columns (CogC and ev(G)), as well as some more clarification on the other two (iv(G) and v(G)), mean.\r\n\r\nMetricsReloaded Method Metrics:\r\n\r\n![MetricsReloaded Method Metrics][1]\r\n\r\nMetricsReloaded Class Metrics:\r\n\r\n![MetricsReloaded Class Metrics][2]\r\n\r\nThese previous numbers are from MetricsReloaded, but this other application, CodeMetrics, which also calculates cyclomatic complexity gives slightly different numbers. I was wondering how these numbers correlate and if someone could just give a brief general explanation of all this. \r\n\r\nCodeMetrics Analysis Results:\r\n\r\n![CodeMetrics Analysis Results][3]\r\n\r\nMy final question is about time complexity. My understanding of Cyclomatic complexity is that it is the number of possible paths of execution and that it is determined by the number of conditionals and how they are nested. It doesn&#39;t seem like it would, but does this correlate in any way to time complexity? And if so, is there a conversion between them that can be easily done? If not, is there a way in either of these plug-ins (or any other in IntelliJ) that can automate time complexity calculations?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2yGo2.png\r\n  [2]: https://i.stack.imgur.com/K8guT.png\r\n  [3]: https://i.stack.imgur.com/5xJsn.png","title":"Cyclomatic Complexity in Intellij","body":"<p>I was working on an assignment today that basically asked us to write a Java program that checks if HTML syntax is valid in a text file. Pretty simple assignment, I did it very quickly, but in doing it so quickly I made it very convoluted (lots of loops and if statements). I know I can make it a lot simpler, and I will before turning it in, but Amid my procrastination, I started downloading plugins and seeing what information they could give me.</p>\n<p>I downloaded two in particular that I'm curious about - CodeMetrics and MetricsReloaded. I was wondering what exactly these numbers that it generates correlate to. I saw one post that was semi-similar, and I read it as well as the linked articles, but I'm still having some trouble understanding a couple of things. Namely, what the first two columns (CogC and ev(G)), as well as some more clarification on the other two (iv(G) and v(G)), mean.</p>\n<p>MetricsReloaded Method Metrics:</p>\n<p><img src=\"https://i.stack.imgur.com/2yGo2.png\" alt=\"MetricsReloaded Method Metrics\" /></p>\n<p>MetricsReloaded Class Metrics:</p>\n<p><img src=\"https://i.stack.imgur.com/K8guT.png\" alt=\"MetricsReloaded Class Metrics\" /></p>\n<p>These previous numbers are from MetricsReloaded, but this other application, CodeMetrics, which also calculates cyclomatic complexity gives slightly different numbers. I was wondering how these numbers correlate and if someone could just give a brief general explanation of all this.</p>\n<p>CodeMetrics Analysis Results:</p>\n<p><img src=\"https://i.stack.imgur.com/5xJsn.png\" alt=\"CodeMetrics Analysis Results\" /></p>\n<p>My final question is about time complexity. My understanding of Cyclomatic complexity is that it is the number of possible paths of execution and that it is determined by the number of conditionals and how they are nested. It doesn't seem like it would, but does this correlate in any way to time complexity? And if so, is there a conversion between them that can be easily done? If not, is there a way in either of these plug-ins (or any other in IntelliJ) that can automate time complexity calculations?</p>\n"},{"tags":["java","firebase","firebase-realtime-database","hacker-news-api"],"comments":[{"owner":{"account_id":14690143,"reputation":75,"user_id":10609033,"display_name":"J. Cool"},"score":0,"creation_date":1686845557,"post_id":76477190,"comment_id":134857337,"body_markdown":"@smitop I see that you helped solve: https://stackoverflow.com/questions/69518903/how-can-i-access-the-hacker-news-api-using-the-firebase-sdk. Do you have any idea how I could fix my similar issue?","body":"@smitop I see that you helped solve: <a href=\"https://stackoverflow.com/questions/69518903/how-can-i-access-the-hacker-news-api-using-the-firebase-sdk\" title=\"how can i access the hacker news api using the firebase sdk\">stackoverflow.com/questions/69518903/&hellip;</a>. Do you have any idea how I could fix my similar issue?"}],"owner":{"account_id":14690143,"reputation":75,"user_id":10609033,"display_name":"J. Cool"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686773232,"creation_date":1686773232,"question_id":76477190,"body_markdown":"I&#39;m trying to use the HN firebase api to get realtime updates from HN but none of my event listeners are firing.\r\n\r\nI tried to do things like in this post: https://stackoverflow.com/questions/69518903/how-can-i-access-the-hacker-news-api-using-the-firebase-sdk but couldn&#39;t get it to work.\r\n\r\nHere&#39;s the code that I&#39;m using:\r\n```\r\nString hnApiCredsFile = &quot;/blah/blah/hn-firebase-adminsdk-foobar.json&quot;;\r\nString dbUrl = &quot;https://hacker-news.firebaseio.com&quot;;\r\n\r\nFileInputStream serviceAccount =\r\n                new FileInputStream(hnApiCredsFile);\r\n\r\nFirebaseOptions options = new FirebaseOptions.Builder()\r\n.setCredentials(GoogleCredentials.fromStream(serviceAccount))\r\n.setDatabaseUrl(dbUrl)\r\n.build();\r\n\r\nFirebaseApp.initializeApp(options);\r\n\r\nfinal FirebaseDatabase database = FirebaseDatabase.getInstance();\r\nDatabaseReference dbRef = database.getReference();\r\nDatabaseReference ref = dbRef.child(&quot;v0/user&quot;).child(&quot;jl&quot;);\r\nThread thread = new Thread(new ShowDbChanges(dbRef));\r\nthread.run();\r\n\r\ntry {\r\n System.out.println(&quot;About to sleep&quot;);\r\n Thread.sleep(100 * 1000 * 10);\r\n} catch (InterruptedException e) {\r\n e.printStackTrace();\r\n}\r\n\r\n```\r\nThe ShowDbChanges.java class is:\r\n```\r\npublic class ShowDbChanges implements Runnable {\r\n\r\n    private DatabaseReference dbRef;\r\n\r\n    public ShowDbChanges(DatabaseReference dbRef) {\r\n        this.dbRef = dbRef;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        dbRef.addValueEventListener(new ValueEventListener() {\r\n\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                Object document = dataSnapshot.getValue();\r\n                System.out.println(document);\r\n            }\r\n\r\n\r\n            public void onCancelled(DatabaseError error) {\r\n                System.out.print(&quot;Error: &quot; + error.getMessage());\r\n            }\r\n        });\r\n\r\n        dbRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                Object document = dataSnapshot.getValue();\r\n                System.out.println(document);\r\n            }\r\n\r\n\r\n            public void onCancelled(DatabaseError error) {\r\n                System.out.print(&quot;Error: &quot; + error.getMessage());\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n}\r\n\r\n```\r\nHow do I listen to realtime updates on the firebase SDK for HN?","title":"How to use Hacker News firebase realtime api using the Firebase SDK?","body":"<p>I'm trying to use the HN firebase api to get realtime updates from HN but none of my event listeners are firing.</p>\n<p>I tried to do things like in this post: <a href=\"https://stackoverflow.com/questions/69518903/how-can-i-access-the-hacker-news-api-using-the-firebase-sdk\">How can I access the Hacker News API using the Firebase SDK?</a> but couldn't get it to work.</p>\n<p>Here's the code that I'm using:</p>\n<pre><code>String hnApiCredsFile = &quot;/blah/blah/hn-firebase-adminsdk-foobar.json&quot;;\nString dbUrl = &quot;https://hacker-news.firebaseio.com&quot;;\n\nFileInputStream serviceAccount =\n                new FileInputStream(hnApiCredsFile);\n\nFirebaseOptions options = new FirebaseOptions.Builder()\n.setCredentials(GoogleCredentials.fromStream(serviceAccount))\n.setDatabaseUrl(dbUrl)\n.build();\n\nFirebaseApp.initializeApp(options);\n\nfinal FirebaseDatabase database = FirebaseDatabase.getInstance();\nDatabaseReference dbRef = database.getReference();\nDatabaseReference ref = dbRef.child(&quot;v0/user&quot;).child(&quot;jl&quot;);\nThread thread = new Thread(new ShowDbChanges(dbRef));\nthread.run();\n\ntry {\n System.out.println(&quot;About to sleep&quot;);\n Thread.sleep(100 * 1000 * 10);\n} catch (InterruptedException e) {\n e.printStackTrace();\n}\n\n</code></pre>\n<p>The ShowDbChanges.java class is:</p>\n<pre><code>public class ShowDbChanges implements Runnable {\n\n    private DatabaseReference dbRef;\n\n    public ShowDbChanges(DatabaseReference dbRef) {\n        this.dbRef = dbRef;\n    }\n\n    @Override\n    public void run() {\n        dbRef.addValueEventListener(new ValueEventListener() {\n\n            public void onDataChange(DataSnapshot dataSnapshot) {\n                Object document = dataSnapshot.getValue();\n                System.out.println(document);\n            }\n\n\n            public void onCancelled(DatabaseError error) {\n                System.out.print(&quot;Error: &quot; + error.getMessage());\n            }\n        });\n\n        dbRef.addListenerForSingleValueEvent(new ValueEventListener() {\n\n            public void onDataChange(DataSnapshot dataSnapshot) {\n                Object document = dataSnapshot.getValue();\n                System.out.println(document);\n            }\n\n\n            public void onCancelled(DatabaseError error) {\n                System.out.print(&quot;Error: &quot; + error.getMessage());\n            }\n        });\n\n\n    }\n}\n\n</code></pre>\n<p>How do I listen to realtime updates on the firebase SDK for HN?</p>\n"},{"tags":["java","spring","spring-boot","jira","jira-rest-api"],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1583311069,"creation_date":1583309511,"answer_id":60521576,"question_id":60520683,"body_markdown":"The client library you mentioned from the article doesn&#39;t provide any method for retrieval of all the issues. You need to call search REST api directly which uses jql.\r\n\r\n[https://developer.atlassian.com/server/jira/platform/jira-rest-api-examples/#searching-for-issues-examples][1]\r\n\r\nThere is parameter jql where you can query for a user\r\n\r\n    jpql=assignee%20%3D%20557058%3Ac64112ec-589f-4b56-8bb6-9eea49e26364\r\n\r\nThe string after jpql= must be url encoded\r\n\r\n\r\n  [1]: https://developer.atlassian.com/server/jira/platform/jira-rest-api-examples/#searching-for-issues-examples","title":"How can I find issue by user Springboot Jira API?","body":"<p>The client library you mentioned from the article doesn't provide any method for retrieval of all the issues. You need to call search REST api directly which uses jql.</p>\n\n<p><a href=\"https://developer.atlassian.com/server/jira/platform/jira-rest-api-examples/#searching-for-issues-examples\" rel=\"nofollow noreferrer\">https://developer.atlassian.com/server/jira/platform/jira-rest-api-examples/#searching-for-issues-examples</a></p>\n\n<p>There is parameter jql where you can query for a user</p>\n\n<pre><code>jpql=assignee%20%3D%20557058%3Ac64112ec-589f-4b56-8bb6-9eea49e26364\n</code></pre>\n\n<p>The string after jpql= must be url encoded</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686558245,"post_id":76453588,"comment_id":134809379,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76453588/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28801703,"reputation":1,"user_id":22058437,"display_name":"Srk"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686773147,"creation_date":1686542790,"answer_id":76453588,"question_id":60520683,"body_markdown":"``` java\r\n@Service\r\npublic class JiraService {\r\n\r\n    private static final String JIRA_URL = &quot;https://your-jira-url/rest/api/2/&quot;;\r\n    private static final String JIRA_USERNAME = &quot;your-username&quot;;\r\n    private static final String JIRA_PASSWORD = &quot;your-password&quot;;\r\n\r\n    private OkHttpClient client;\r\n\r\n    public JiraService() {\r\n        this.client = new OkHttpClient();\r\n    }\r\n\r\n    public String getIssue(String issueKey) throws IOException {\r\n        Request request = new Request.Builder()\r\n                .url(JIRA_URL + &quot;issue/&quot; + issueKey)\r\n                .header(&quot;Authorization&quot;, Credentials.basic(JIRA_USERNAME, JIRA_PASSWORD))\r\n                .build();\r\n\r\n        try (Response response = client.newCall(request).execute()) {\r\n            return response.body().string();\r\n        }\r\n    }\r\n}\r\n```","title":"How can I find issue by user Springboot Jira API?","body":"<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class JiraService {\n\n    private static final String JIRA_URL = &quot;https://your-jira-url/rest/api/2/&quot;;\n    private static final String JIRA_USERNAME = &quot;your-username&quot;;\n    private static final String JIRA_PASSWORD = &quot;your-password&quot;;\n\n    private OkHttpClient client;\n\n    public JiraService() {\n        this.client = new OkHttpClient();\n    }\n\n    public String getIssue(String issueKey) throws IOException {\n        Request request = new Request.Builder()\n                .url(JIRA_URL + &quot;issue/&quot; + issueKey)\n                .header(&quot;Authorization&quot;, Credentials.basic(JIRA_USERNAME, JIRA_PASSWORD))\n                .build();\n\n        try (Response response = client.newCall(request).execute()) {\n            return response.body().string();\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15718721,"reputation":988,"user_id":11342225,"display_name":"alea"},"score":1,"creation_date":1686661836,"post_id":76460200,"comment_id":134827392,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76460200/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28801703,"reputation":1,"user_id":22058437,"display_name":"Srk"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686602574,"creation_date":1686602574,"answer_id":76460200,"question_id":60520683,"body_markdown":"    @RestController\r\n@RequestMapping(&quot;/api/jira&quot;)\r\npublic class JiraController {\r\n\r\n    private final JiraService jiraService;\r\n\r\n    @Autowired\r\n    public JiraController(JiraService jiraService) {\r\n        this.jiraService = jiraService;\r\n    }\r\n\r\n    @GetMapping(&quot;/issue/{issueKey}&quot;)\r\n    public ResponseEntity&lt;String&gt; getIssue(@PathVariable String issueKey) {\r\n        try {\r\n            String issue = jiraService.getIssue(issueKey);\r\n            return ResponseEntity.ok(issue);\r\n        } catch (IOException e) {\r\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;Error occurred while getting the issue&quot;);\r\n        }\r\n    }\r\n}\r\n","title":"How can I find issue by user Springboot Jira API?","body":"<pre><code>@RestController\n</code></pre>\n<p>@RequestMapping(&quot;/api/jira&quot;)\npublic class JiraController {</p>\n<pre><code>private final JiraService jiraService;\n\n@Autowired\npublic JiraController(JiraService jiraService) {\n    this.jiraService = jiraService;\n}\n\n@GetMapping(&quot;/issue/{issueKey}&quot;)\npublic ResponseEntity&lt;String&gt; getIssue(@PathVariable String issueKey) {\n    try {\n        String issue = jiraService.getIssue(issueKey);\n        return ResponseEntity.ok(issue);\n    } catch (IOException e) {\n        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;Error occurred while getting the issue&quot;);\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":28815325,"reputation":1,"user_id":22069077,"display_name":"sri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686687626,"creation_date":1686687626,"answer_id":76468454,"question_id":60520683,"body_markdown":"Integrating a Spring Boot API with a Jira Board\r\nThis guide explains how to integrate a Spring Boot API with a Jira board using Jira&#39;s REST APIs.\r\n\r\nPrerequisites\r\nA Jira Cloud account with administrative privileges.\r\nBasic knowledge of Spring Boot.\r\nAn API token generated from your Jira account (https://id.atlassian.com/manage-profile/security/api-tokens).\r\nStep 1: Set Up Spring Boot Project\r\nFirst, create a new Spring Boot project. You can use Spring Initializr (https://start.spring.io/) to help you with this. Add the following dependencies to your pom.xml file:\r\n\r\nSpring Web\r\nSpring Boot Starter Data JPA (optional, if you need database interaction)\r\nOkHttp (For making HTTP requests)\r\nStep 2: Generate Jira API Token\r\nNext, generate an API token from your Jira Cloud account. This token will be used for authenticating your requests to Jira&#39;s API.\r\n\r\nLog in to https://id.atlassian.com/manage-profile/security/api-tokens.\r\nClick &#39;Create API token&#39;.\r\nName your token and then click &#39;Create&#39;.\r\nClick &#39;Copy to clipboard&#39;. Store the token securely.\r\nStep 3: Create a Jira Service in Spring Boot\r\nCreate a JiraService class in your Spring Boot application. This service will handle making HTTP requests to Jira&#39;s REST APIs. Here&#39;s a sample method for getting an issue:\r\n\r\n\r\nReplace &quot;your-jira-url&quot; with your Jira Cloud URL and &quot;your-api-token&quot; with the API token you generated.\r\n\r\nStep 4: Create a Spring Boot Controller\r\nNext, create a controller that calls methods from JiraService. This controller will expose endpoints that your users or other services can call:\r\n\r\n\r\nIn this code, getIssue corresponds to the GET HTTP method for the path /api/jira/issue/{issueKey}. This method will return the response from Jira&#39;s API as the body of the HTTP response.\r\n\r\n\r\nStep 5: Test Your Integration\r\nAfter completing the steps above, you can start your Spring Boot application and make a GET request to `http://localhost:8080/api/jira/issue/{","title":"How can I find issue by user Springboot Jira API?","body":"<p>Integrating a Spring Boot API with a Jira Board\nThis guide explains how to integrate a Spring Boot API with a Jira board using Jira's REST APIs.</p>\n<p>Prerequisites\nA Jira Cloud account with administrative privileges.\nBasic knowledge of Spring Boot.\nAn API token generated from your Jira account (<a href=\"https://id.atlassian.com/manage-profile/security/api-tokens\" rel=\"nofollow noreferrer\">https://id.atlassian.com/manage-profile/security/api-tokens</a>).\nStep 1: Set Up Spring Boot Project\nFirst, create a new Spring Boot project. You can use Spring Initializr (<a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a>) to help you with this. Add the following dependencies to your pom.xml file:</p>\n<p>Spring Web\nSpring Boot Starter Data JPA (optional, if you need database interaction)\nOkHttp (For making HTTP requests)\nStep 2: Generate Jira API Token\nNext, generate an API token from your Jira Cloud account. This token will be used for authenticating your requests to Jira's API.</p>\n<p>Log in to <a href=\"https://id.atlassian.com/manage-profile/security/api-tokens\" rel=\"nofollow noreferrer\">https://id.atlassian.com/manage-profile/security/api-tokens</a>.\nClick 'Create API token'.\nName your token and then click 'Create'.\nClick 'Copy to clipboard'. Store the token securely.\nStep 3: Create a Jira Service in Spring Boot\nCreate a JiraService class in your Spring Boot application. This service will handle making HTTP requests to Jira's REST APIs. Here's a sample method for getting an issue:</p>\n<p>Replace &quot;your-jira-url&quot; with your Jira Cloud URL and &quot;your-api-token&quot; with the API token you generated.</p>\n<p>Step 4: Create a Spring Boot Controller\nNext, create a controller that calls methods from JiraService. This controller will expose endpoints that your users or other services can call:</p>\n<p>In this code, getIssue corresponds to the GET HTTP method for the path /api/jira/issue/{issueKey}. This method will return the response from Jira's API as the body of the HTTP response.</p>\n<p>Step 5: Test Your Integration\nAfter completing the steps above, you can start your Spring Boot application and make a GET request to `http://localhost:8080/api/jira/issue/{</p>\n"}],"owner":{"account_id":15649917,"reputation":13,"user_id":11291493,"display_name":"Mara Ayissi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1560,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":60521576,"answer_count":4,"score":0,"last_activity_date":1686773147,"creation_date":1583305640,"question_id":60520683,"body_markdown":"I am working on a project in which I have to get existing Jira issues for a specific user. I have implemented the Jira REST API exactly how they show it on [Baeldung.com][1] but I have not found any api to get all issues for a user without having to use an ID.\r\n\r\n\r\n  [1]: https://www.baeldung.com/jira-rest-api","title":"How can I find issue by user Springboot Jira API?","body":"<p>I am working on a project in which I have to get existing Jira issues for a specific user. I have implemented the Jira REST API exactly how they show it on <a href=\"https://www.baeldung.com/jira-rest-api\" rel=\"nofollow noreferrer\">Baeldung.com</a> but I have not found any api to get all issues for a user without having to use an ID.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":8202462,"reputation":4175,"user_id":6173350,"display_name":"Avinash"},"score":0,"creation_date":1483555279,"post_id":41470901,"comment_id":70147777,"body_markdown":"Please provide your code where you are facing this issue, you just mentioned your try.","body":"Please provide your code where you are facing this issue, you just mentioned your try."},{"owner":{"account_id":2102773,"reputation":19013,"user_id":1869933,"accept_rate":88,"display_name":"Koitoer"},"score":0,"creation_date":1483556243,"post_id":41470901,"comment_id":70148256,"body_markdown":"what error are you getting ?","body":"what error are you getting ?"},{"owner":{"account_id":304234,"reputation":32207,"user_id":613628,"accept_rate":100,"display_name":"Stephane Nicoll"},"score":0,"creation_date":1483556776,"post_id":41470901,"comment_id":70148573,"body_markdown":"Why are you using that low-level API with Spring Data? Can we take a step back and understand what you&#39;re trying to do? You shouldn&#39;t use Clob directly.","body":"Why are you using that low-level API with Spring Data? Can we take a step back and understand what you&#39;re trying to do? You shouldn&#39;t use Clob directly."}],"answers":[{"comments":[{"owner":{"account_id":8569333,"reputation":357,"user_id":6420853,"accept_rate":100,"display_name":"Samantha"},"score":0,"creation_date":1483558250,"post_id":41471611,"comment_id":70149400,"body_markdown":"Thank you Avinash. All I did was added  @Lob  on top of the column and it works like charm.","body":"Thank you Avinash. All I did was added  @Lob  on top of the column and it works like charm."},{"owner":{"account_id":8569333,"reputation":357,"user_id":6420853,"accept_rate":100,"display_name":"Samantha"},"score":0,"creation_date":1483558270,"post_id":41471611,"comment_id":70149407,"body_markdown":"Thank you everyone for looking into this issue.","body":"Thank you everyone for looking into this issue."},{"owner":{"account_id":4272295,"reputation":687,"user_id":3493847,"accept_rate":81,"display_name":"Tamas G."},"score":0,"creation_date":1508230989,"post_id":41471611,"comment_id":80519009,"body_markdown":"Can I do the same but with File type instead of String?","body":"Can I do the same but with File type instead of String?"},{"owner":{"account_id":2475907,"reputation":469,"user_id":2156569,"display_name":"Elias"},"score":0,"creation_date":1530313579,"post_id":41471611,"comment_id":89207754,"body_markdown":"Using String for a CLOB will cause major performance issues on large strings. I recommend using java.sql.Clob instead.","body":"Using String for a CLOB will cause major performance issues on large strings. I recommend using java.sql.Clob instead."},{"owner":{"account_id":3066131,"reputation":1764,"user_id":2597775,"accept_rate":58,"display_name":"sebasira"},"score":4,"creation_date":1537722134,"post_id":41471611,"comment_id":91878499,"body_markdown":"@Anass can you explain how would it be using java.sql.Clob? Maybe add an answer to this question. Thank you!","body":"@Anass can you explain how would it be using java.sql.Clob? Maybe add an answer to this question. Thank you!"}],"tags":[],"owner":{"account_id":8202462,"reputation":4175,"user_id":6173350,"display_name":"Avinash"},"comment_count":5,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1483557372,"creation_date":1483557372,"answer_id":41471611,"question_id":41470901,"body_markdown":"Without dragging the question further I want to answer it simply. \r\n\r\nIn Spring Data JPA there should be an entity which is String and needed to be saved as CLOB in DB. So, the CLOB column of entity should look like this.\r\n\r\n    @Entity\r\n    public class SampleData {\r\n        // other columns \r\n        \r\n        @Column(name=&quot;SAMPLE&quot;, columnDefinition=&quot;CLOB NOT NULL&quot;) \r\n        @Lob \r\n        private String sample;\r\n    \r\n        // setters and getters\r\n    }\r\n\r\nThen you should have a Repository like below\r\n\r\n    public interface SampleDataRepo extends PagingAndSortingRepository&lt;SampleData, Integer&gt; {\r\n    \r\n    }\r\n\r\nNow in Service method you could do something like below\r\n\r\n    @Service\r\n    public class SampleDataService {\r\n    \r\n        @Autowire \r\n        SampleDataRepo repo;\r\n        \r\n        public SampleData saveSampleData() {\r\n            SampleData sd = new SampleData();\r\n            sd.setSample(&quot;longtest&quot;);\r\n    \r\n            repo.save(sd);\r\n        }\r\n    }\r\n\r\nThis is how the String data is saved as CLOB in DB.","title":"Convert String to CLOB in Spring data JPA","body":"<p>Without dragging the question further I want to answer it simply. </p>\n\n<p>In Spring Data JPA there should be an entity which is String and needed to be saved as CLOB in DB. So, the CLOB column of entity should look like this.</p>\n\n<pre><code>@Entity\npublic class SampleData {\n    // other columns \n\n    @Column(name=\"SAMPLE\", columnDefinition=\"CLOB NOT NULL\") \n    @Lob \n    private String sample;\n\n    // setters and getters\n}\n</code></pre>\n\n<p>Then you should have a Repository like below</p>\n\n<pre><code>public interface SampleDataRepo extends PagingAndSortingRepository&lt;SampleData, Integer&gt; {\n\n}\n</code></pre>\n\n<p>Now in Service method you could do something like below</p>\n\n<pre><code>@Service\npublic class SampleDataService {\n\n    @Autowire \n    SampleDataRepo repo;\n\n    public SampleData saveSampleData() {\n        SampleData sd = new SampleData();\n        sd.setSample(\"longtest\");\n\n        repo.save(sd);\n    }\n}\n</code></pre>\n\n<p>This is how the String data is saved as CLOB in DB.</p>\n"}],"owner":{"account_id":8569333,"reputation":357,"user_id":6420853,"accept_rate":100,"display_name":"Samantha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33203,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":41471611,"answer_count":1,"score":2,"last_activity_date":1686772876,"creation_date":1483554746,"question_id":41470901,"body_markdown":"I have large text which is in String format. I would like to know how to convert that String into CLOB. I&#39;m using Spring data JPA, Spring boot.\r\n\r\nI have tried using \r\n\r\n    clob.setString(position, string)","title":"Convert String to CLOB in Spring data JPA","body":"<p>I have large text which is in String format. I would like to know how to convert that String into CLOB. I'm using Spring data JPA, Spring boot.</p>\n\n<p>I have tried using </p>\n\n<pre><code>clob.setString(position, string)\n</code></pre>\n"},{"tags":["java","c++11","swig"],"comments":[{"owner":{"account_id":14020662,"reputation":2878,"user_id":10126955,"display_name":"mmomtchev"},"score":0,"creation_date":1686400885,"post_id":76422611,"comment_id":134795335,"body_markdown":"What is the point of using a `shared_ptr` to a primitive value? Why not simply use `double`? Do you need to be able to write to this value from Java?","body":"What is the point of using a <code>shared_ptr</code> to a primitive value? Why not simply use <code>double</code>? Do you need to be able to write to this value from Java?"},{"owner":{"account_id":1373152,"reputation":7553,"user_id":1307690,"accept_rate":62,"display_name":"Roman Nazarevych"},"score":0,"creation_date":1686600450,"post_id":76422611,"comment_id":134818409,"body_markdown":"@mmomtchev I cant modify the C++ part. This value should be read and written from Java. `shared_ptr` is used to pass the NULL value.","body":"@mmomtchev I cant modify the C++ part. This value should be read and written from Java. <code>shared_ptr</code> is used to pass the NULL value."},{"owner":{"account_id":14020662,"reputation":2878,"user_id":10126955,"display_name":"mmomtchev"},"score":1,"creation_date":1686653380,"post_id":76422611,"comment_id":134825470,"body_markdown":"Create a typemap for `shared_ptr` that returns a `double`. While you can use a `shared_ptr` in SWIG, if you can avoid it, you will be better off without it.","body":"Create a typemap for <code>shared_ptr</code> that returns a <code>double</code>. While you can use a <code>shared_ptr</code> in SWIG, if you can avoid it, you will be better off without it."}],"answers":[{"comments":[{"owner":{"account_id":1373152,"reputation":7553,"user_id":1307690,"accept_rate":62,"display_name":"Roman Nazarevych"},"score":0,"creation_date":1686771834,"post_id":76464199,"comment_id":134846682,"body_markdown":"Thanks, look like a simple solution, I have implemented type mapping approach, which is more complicated but I can pass null types.","body":"Thanks, look like a simple solution, I have implemented type mapping approach, which is more complicated but I can pass null types."}],"tags":[],"owner":{"account_id":14020662,"reputation":2878,"user_id":10126955,"display_name":"mmomtchev"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686653859,"creation_date":1686653859,"answer_id":76464199,"question_id":76422611,"body_markdown":"A very simply solution would be to simply ignore this function and create a Java-compatible wrapper.\r\n\r\n(not tested)\r\n```swig\r\n%ignore std::shared_ptr&lt;double&gt; YourClass::getMinScale() const;\r\n\r\n%extend YourClass {\r\n  double getMinScaleJava() const {\r\n    auto r = self-&gt;getMinScale();\r\n    return *r;\r\n  }\r\n}\r\n```\r\n\r\nIf you need the `shared_ptr`, then you will have to use a typemap.","title":"How to create SWIG mapping for std::shared_ptr&lt;double&gt; to Java","body":"<p>A very simply solution would be to simply ignore this function and create a Java-compatible wrapper.</p>\n<p>(not tested)</p>\n<pre><code>%ignore std::shared_ptr&lt;double&gt; YourClass::getMinScale() const;\n\n%extend YourClass {\n  double getMinScaleJava() const {\n    auto r = self-&gt;getMinScale();\n    return *r;\n  }\n}\n</code></pre>\n<p>If you need the <code>shared_ptr</code>, then you will have to use a typemap.</p>\n"},{"tags":[],"owner":{"account_id":1373152,"reputation":7553,"user_id":1307690,"accept_rate":62,"display_name":"Roman Nazarevych"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686771990,"creation_date":1686771990,"answer_id":76477065,"question_id":76422611,"body_markdown":"I have come up with the following approach using `typemap`.  \r\nI convert `std::shared_ptr&lt;double&gt;` into `Double`, which allows passing null value.\r\n\r\n```\r\n%typemap(jstype) std::shared_ptr&lt;double&gt; &quot;Double&quot; // C++ to Java type mapping (Java wrapper class)\r\n%typemap(jtype) std::shared_ptr&lt;double&gt; &quot;Double&quot; // C++ to JNI Java type mapping\r\n%typemap(jni)  std::shared_ptr&lt;double&gt; &quot;jobject&quot; // C++ to JNI C++ type mapping (C++ file with JNI code)\r\n%typemap(javain) std::shared_ptr&lt;double&gt; &quot;$javainput&quot; // How Java type is passed to JNI\r\n%typemap(javaout) std::shared_ptr&lt;double&gt; { // How Java type is retrieved from JNI\r\n    return $jnicall;\r\n}\r\n\r\n%typemap(in) std::shared_ptr&lt;double&gt; { // How value is passed into C++\r\n    if($input != NULL){\r\n        jclass jcDouble = jenv-&gt;FindClass(&quot;java/lang/Double&quot;);\r\n        jmethodID jmidDoubleValue = jenv-&gt;GetMethodID(jcDouble, &quot;doubleValue&quot;, &quot;()D&quot;);\r\n        double value = jenv-&gt;CallDoubleMethod($input,jmidDoubleValue);\r\n        $1 = std::make_shared&lt;double&gt;(value);\r\n    }else{\r\n        $1 = NULL;\r\n    }\r\n}\r\n\r\n%typemap(out) std::shared_ptr&lt;double&gt; { //How value is retrieved from C++\r\n    jclass dClass = jenv-&gt;FindClass(&quot;java/lang/Double&quot;);\r\n    jmethodID initInt = jenv-&gt;GetMethodID(dClass, &quot;&lt;init&gt;&quot;, &quot;(D)V&quot;);\r\n    if (NULL == initInt) return NULL;\r\n    jobject newDoubleObj = jenv-&gt;NewObject(dClass, initInt, *($1.get()));\r\n\r\n    $result = newDoubleObj;\r\n}\r\n```","title":"How to create SWIG mapping for std::shared_ptr&lt;double&gt; to Java","body":"<p>I have come up with the following approach using <code>typemap</code>.<br />\nI convert <code>std::shared_ptr&lt;double&gt;</code> into <code>Double</code>, which allows passing null value.</p>\n<pre><code>%typemap(jstype) std::shared_ptr&lt;double&gt; &quot;Double&quot; // C++ to Java type mapping (Java wrapper class)\n%typemap(jtype) std::shared_ptr&lt;double&gt; &quot;Double&quot; // C++ to JNI Java type mapping\n%typemap(jni)  std::shared_ptr&lt;double&gt; &quot;jobject&quot; // C++ to JNI C++ type mapping (C++ file with JNI code)\n%typemap(javain) std::shared_ptr&lt;double&gt; &quot;$javainput&quot; // How Java type is passed to JNI\n%typemap(javaout) std::shared_ptr&lt;double&gt; { // How Java type is retrieved from JNI\n    return $jnicall;\n}\n\n%typemap(in) std::shared_ptr&lt;double&gt; { // How value is passed into C++\n    if($input != NULL){\n        jclass jcDouble = jenv-&gt;FindClass(&quot;java/lang/Double&quot;);\n        jmethodID jmidDoubleValue = jenv-&gt;GetMethodID(jcDouble, &quot;doubleValue&quot;, &quot;()D&quot;);\n        double value = jenv-&gt;CallDoubleMethod($input,jmidDoubleValue);\n        $1 = std::make_shared&lt;double&gt;(value);\n    }else{\n        $1 = NULL;\n    }\n}\n\n%typemap(out) std::shared_ptr&lt;double&gt; { //How value is retrieved from C++\n    jclass dClass = jenv-&gt;FindClass(&quot;java/lang/Double&quot;);\n    jmethodID initInt = jenv-&gt;GetMethodID(dClass, &quot;&lt;init&gt;&quot;, &quot;(D)V&quot;);\n    if (NULL == initInt) return NULL;\n    jobject newDoubleObj = jenv-&gt;NewObject(dClass, initInt, *($1.get()));\n\n    $result = newDoubleObj;\n}\n</code></pre>\n"}],"owner":{"account_id":1373152,"reputation":7553,"user_id":1307690,"accept_rate":62,"display_name":"Roman Nazarevych"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1686771990,"creation_date":1686135694,"question_id":76422611,"body_markdown":"What should be the proper SWIG mapping for the following function?\r\n```\r\nstd::shared_ptr&lt;double&gt; getMinScale() const;\r\n```\r\n","title":"How to create SWIG mapping for std::shared_ptr&lt;double&gt; to Java","body":"<p>What should be the proper SWIG mapping for the following function?</p>\n<pre><code>std::shared_ptr&lt;double&gt; getMinScale() const;\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":3832981,"reputation":3332,"user_id":3178068,"display_name":"TiiJ7"},"score":1,"creation_date":1686756221,"post_id":76475065,"comment_id":134843589,"body_markdown":"`matches` doesn&#39;t throw an exception when the match fails, that is for regex syntax errors. Use the boolean return value.","body":"<code>matches</code> doesn&#39;t throw an exception when the match fails, that is for regex syntax errors. Use the boolean return value."},{"owner":{"account_id":15927090,"reputation":186,"user_id":11492442,"display_name":"abhimanyue"},"score":0,"creation_date":1686756720,"post_id":76475065,"comment_id":134843696,"body_markdown":"I got it from here that it throws an exception, https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#matches-java.lang.String- Looks like I need to use Pattern.matches(regex, str)","body":"I got it from here that it throws an exception, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#matches-java.lang.String-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/lang/&hellip;</a> Looks like I need to use Pattern.matches(regex, str)"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1686756728,"post_id":76475065,"comment_id":134843699,"body_markdown":"Why not just an if else condition!","body":"Why not just an if else condition!"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1686757138,"post_id":76475065,"comment_id":134843799,"body_markdown":"basically `if (duration.matches(...)) { /* valid */ } else { /* not valid */ }`","body":"basically <code>if (duration.matches(...)) { &#47;* valid *&#47; } else { &#47;* not valid *&#47; }</code>"},{"owner":{"account_id":15927090,"reputation":186,"user_id":11492442,"display_name":"abhimanyue"},"score":0,"creation_date":1686758327,"post_id":76475065,"comment_id":134844104,"body_markdown":"I think I deserve to know what causes a negative vote! I did my research before I asking here.","body":"I think I deserve to know what causes a negative vote! I did my research before I asking here."},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1686758792,"post_id":76475065,"comment_id":134844204,"body_markdown":"The exception is thrown when the regular expression pattern is invalid, it is not related to whether the test string matches a valid regular expression. For example: `&quot;abc&quot;.matches(&quot;(&quot;)` will throw `PatternSyntaxException: Unclosed group near index 1`","body":"The exception is thrown when the regular expression pattern is invalid, it is not related to whether the test string matches a valid regular expression. For example: <code>&quot;abc&quot;.matches(&quot;(&quot;)</code> will throw <code>PatternSyntaxException: Unclosed group near index 1</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686762264,"post_id":76475065,"comment_id":134844951,"body_markdown":"Why not just do `Duration.parse(&quot;PT&quot; + input);`? All your &quot;valid strings&quot; will work fine","body":"Why not just do <code>Duration.parse(&quot;PT&quot; + input);</code>? All your &quot;valid strings&quot; will work fine"}],"answers":[{"comments":[{"owner":{"account_id":15927090,"reputation":186,"user_id":11492442,"display_name":"abhimanyue"},"score":0,"creation_date":1686758175,"post_id":76475150,"comment_id":134844066,"body_markdown":"I&#39;m interested for the exception message when the string is an invalid one. But thanks, I think I can reach there now. +1.","body":"I&#39;m interested for the exception message when the string is an invalid one. But thanks, I think I can reach there now. +1."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686759604,"post_id":76475150,"comment_id":134844392,"body_markdown":"Keep in mind, if each group is quantified with a _?_, then an empty value may match.","body":"Keep in mind, if each group is quantified with a <i>?</i>, then an empty value may match."}],"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686756912,"creation_date":1686756137,"answer_id":76475150,"question_id":76475065,"body_markdown":"Why not just an if..else condition, for example:\r\n\r\n    final String regex = &quot;(\\\\d+d)?(\\\\d+h)?(\\\\d+m)?(\\\\d+s)?&quot;;\r\n    String[] durations = {&quot;1h2s&quot;, &quot;1m&quot;, &quot;2m15s&quot;, &quot;2h10s&quot;, &quot;2m1h&quot;, &quot;2k30s&quot;};\r\n\r\n    for (String duration : durations) {\r\n\r\n        // Just this\r\n        if (duration.matches(regex)) {\r\n            System.out.println(&quot;Valid&quot;);\r\n        } else {\r\n            System.out.println(&quot;Not Valid&quot;);\r\n        }\r\n\r\n    }\r\n\r\n**Outputs**\r\n\r\n    Valid\r\n    Valid\r\n    Valid\r\n    Valid\r\n    Not Valid\r\n    Not Valid","title":"Java Regex for the pattern [#d][#h][#m][#s] to specify a time duration, fields are optional but ordered","body":"<p>Why not just an if..else condition, for example:</p>\n<pre><code>final String regex = &quot;(\\\\d+d)?(\\\\d+h)?(\\\\d+m)?(\\\\d+s)?&quot;;\nString[] durations = {&quot;1h2s&quot;, &quot;1m&quot;, &quot;2m15s&quot;, &quot;2h10s&quot;, &quot;2m1h&quot;, &quot;2k30s&quot;};\n\nfor (String duration : durations) {\n\n    // Just this\n    if (duration.matches(regex)) {\n        System.out.println(&quot;Valid&quot;);\n    } else {\n        System.out.println(&quot;Not Valid&quot;);\n    }\n\n}\n</code></pre>\n<p><strong>Outputs</strong></p>\n<pre><code>Valid\nValid\nValid\nValid\nNot Valid\nNot Valid\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686771090,"creation_date":1686758079,"answer_id":76475436,"question_id":76475065,"body_markdown":"To preface, your code implies that if the value does not match, the _PatternSyntaxException_ will be thrown.  \r\nThis is not the case; that is for when there is an error within the syntax&amp;mdash;e.g., an open group, _&quot;(\\\\d+d&quot;_.\r\n\r\nTo fix your code, just utilize a conditional statement.  \r\nAnd, in addition to that, you&#39;ll want to check if _duration_ is not empty.\r\n\r\nSince every group here specifies the _optional_, _?_, quantifier, an empty value would match.\r\n\r\n```java\r\nString duration = &quot;2d0k15s&quot;;\r\nif (!duration.isEmpty() &amp;&amp; duration.matches(&quot;(\\\\d+d)?(\\\\d+h)?(\\\\d+m)?(\\\\d+s)?&quot;)) {\r\n    System.out.println(&quot;Valid.&quot;);\r\n} else {\r\n    System.out.println(&quot;Not valid!&quot;);\r\n}\r\n```\r\n\r\nFurthermore, you could check the value with a single regex, although it is somewhat verbose.  \r\nYou&#39;ll need to provide each combination.\r\n\r\nHere is the first, generic approach, which doesn&#39;t evaluate the numbers.\r\n\r\n```none\r\n^(?:(?:\\d+d)(?:(?:\\d+h)?(?:\\d+m)?(?:\\d+s)?)|(?:\\d+h)(?:(?:\\d+m)?(?:\\d+s)?)|(?:(?:\\d+m)(?:\\d+s)?)|(?:\\d+s))$\r\n```\r\n\r\nAnd, here is the second, which checks for the validity&amp;mdash;e.g., not _&quot;24h&quot;_, or _&quot;60m&quot;_, etc..\r\n\r\n```none\r\n^(?:(?:[1-9]+d)(?:(?:(?:2[0-3]|1\\d|[1-9])h)?(?:(?:[1-5]\\d|[1-9])m)?(?:(?:[1-5]\\d|[1-9])s)?)|(?:(?:2[0-3]|1\\d|[1-9])h)(?:(?:(?:[1-5]\\d|[1-9])m)?(?:(?:[1-5]\\d|[1-9])s)?)|(?:(?:(?:[1-5]\\d|[1-9])m)(?:(?:[1-5]\\d|[1-9])s)?)|(?:(?:[1-5]\\d|[1-9])s))$\r\n```\r\n\r\nFinally, here is your original pattern, with the validity checks.\r\n\r\n```none\r\n(?:[1-9]+d)?(?:(?:2[0-3]|1\\d|[1-9])h)?(?:(?:[1-5]\\d|[1-9])m)?(?:(?:[1-5]\\d|[1-9])s)?\r\n```\r\n\r\nExample\r\n\r\n```java\r\nString[] strings = {\r\n    &quot;1h2s&quot;, &quot;1m&quot;, &quot;2m15s&quot;, &quot;2h10s&quot;,\r\n    &quot;2m1h&quot;, &quot;2k30s&quot;, &quot;&quot;, &quot;0d&quot;, &quot;24h&quot;, &quot;60m&quot;, &quot;60s&quot; };\r\nString regex = &quot;(?:[1-9]+d)?(?:(?:2[0-3]|1\\\\d|[1-9])h)?(?:(?:[1-5]\\\\d|[1-9])m)?(?:(?:[1-5]\\\\d|[1-9])s)?&quot;;\r\nboolean valid;\r\nfor (String string : strings) {\r\n    valid = !string.isEmpty() &amp;&amp; string.matches(regex);\r\n    System.out.printf(&quot;%-10s is %s%n&quot;, &quot;&#39;%s&#39;&quot;.formatted(string), valid ? &quot;valid&quot; : &quot;invalid&quot;);\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n&#39;1h2s&#39;     is valid\r\n&#39;1m&#39;       is valid\r\n&#39;2m15s&#39;    is valid\r\n&#39;2h10s&#39;    is valid\r\n&#39;2m1h&#39;     is invalid\r\n&#39;2k30s&#39;    is invalid\r\n&#39;&#39;         is invalid\r\n&#39;0d&#39;       is invalid\r\n&#39;24h&#39;      is invalid\r\n&#39;60m&#39;      is invalid\r\n&#39;60s&#39;      is invalid\r\n```","title":"Java Regex for the pattern [#d][#h][#m][#s] to specify a time duration, fields are optional but ordered","body":"<p>To preface, your code implies that if the value does not match, the <em>PatternSyntaxException</em> will be thrown.<br />\nThis is not the case; that is for when there is an error within the syntax—e.g., an open group, <em>&quot;(\\d+d&quot;</em>.</p>\n<p>To fix your code, just utilize a conditional statement.<br />\nAnd, in addition to that, you'll want to check if <em>duration</em> is not empty.</p>\n<p>Since every group here specifies the <em>optional</em>, <em>?</em>, quantifier, an empty value would match.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String duration = &quot;2d0k15s&quot;;\nif (!duration.isEmpty() &amp;&amp; duration.matches(&quot;(\\\\d+d)?(\\\\d+h)?(\\\\d+m)?(\\\\d+s)?&quot;)) {\n    System.out.println(&quot;Valid.&quot;);\n} else {\n    System.out.println(&quot;Not valid!&quot;);\n}\n</code></pre>\n<p>Furthermore, you could check the value with a single regex, although it is somewhat verbose.<br />\nYou'll need to provide each combination.</p>\n<p>Here is the first, generic approach, which doesn't evaluate the numbers.</p>\n<pre class=\"lang-none prettyprint-override\"><code>^(?:(?:\\d+d)(?:(?:\\d+h)?(?:\\d+m)?(?:\\d+s)?)|(?:\\d+h)(?:(?:\\d+m)?(?:\\d+s)?)|(?:(?:\\d+m)(?:\\d+s)?)|(?:\\d+s))$\n</code></pre>\n<p>And, here is the second, which checks for the validity—e.g., not <em>&quot;24h&quot;</em>, or <em>&quot;60m&quot;</em>, etc..</p>\n<pre class=\"lang-none prettyprint-override\"><code>^(?:(?:[1-9]+d)(?:(?:(?:2[0-3]|1\\d|[1-9])h)?(?:(?:[1-5]\\d|[1-9])m)?(?:(?:[1-5]\\d|[1-9])s)?)|(?:(?:2[0-3]|1\\d|[1-9])h)(?:(?:(?:[1-5]\\d|[1-9])m)?(?:(?:[1-5]\\d|[1-9])s)?)|(?:(?:(?:[1-5]\\d|[1-9])m)(?:(?:[1-5]\\d|[1-9])s)?)|(?:(?:[1-5]\\d|[1-9])s))$\n</code></pre>\n<p>Finally, here is your original pattern, with the validity checks.</p>\n<pre class=\"lang-none prettyprint-override\"><code>(?:[1-9]+d)?(?:(?:2[0-3]|1\\d|[1-9])h)?(?:(?:[1-5]\\d|[1-9])m)?(?:(?:[1-5]\\d|[1-9])s)?\n</code></pre>\n<p>Example</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] strings = {\n    &quot;1h2s&quot;, &quot;1m&quot;, &quot;2m15s&quot;, &quot;2h10s&quot;,\n    &quot;2m1h&quot;, &quot;2k30s&quot;, &quot;&quot;, &quot;0d&quot;, &quot;24h&quot;, &quot;60m&quot;, &quot;60s&quot; };\nString regex = &quot;(?:[1-9]+d)?(?:(?:2[0-3]|1\\\\d|[1-9])h)?(?:(?:[1-5]\\\\d|[1-9])m)?(?:(?:[1-5]\\\\d|[1-9])s)?&quot;;\nboolean valid;\nfor (String string : strings) {\n    valid = !string.isEmpty() &amp;&amp; string.matches(regex);\n    System.out.printf(&quot;%-10s is %s%n&quot;, &quot;'%s'&quot;.formatted(string), valid ? &quot;valid&quot; : &quot;invalid&quot;);\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>'1h2s'     is valid\n'1m'       is valid\n'2m15s'    is valid\n'2h10s'    is valid\n'2m1h'     is invalid\n'2k30s'    is invalid\n''         is invalid\n'0d'       is invalid\n'24h'      is invalid\n'60m'      is invalid\n'60s'      is invalid\n</code></pre>\n"}],"owner":{"account_id":15927090,"reputation":186,"user_id":11492442,"display_name":"abhimanyue"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1686771090,"creation_date":1686755623,"question_id":76475065,"body_markdown":"I am looking for a regex that supports a String of the pattern `[#d][#h][#m][#s]` to specify a time duration, where &#39;d&#39; for days, &#39;h&#39; for hours and so on.\r\n\r\nSome valid Strings are,\r\n`1h2s`, `1m`, `2m15s`, `2h10s`, etc.\r\n\r\n`2m1h`, `2k30s` are Invalid\r\n\r\nI have tried the folowing code,\r\n\r\n    String duration = &quot;2d0k15s&quot;;\r\n    \r\n    try {\r\n    \tduration.matches(&quot;(\\\\d+d)?(\\\\d+h)?(\\\\d+m)?(\\\\d+s)?&quot;);\r\n        \r\n    \tSystem.out.println(&quot;Valid.&quot;);\r\n    } catch (final PatternSyntaxException pse) {\r\n        System.out.println(&quot;Not valid! &quot; + pse.getMessage());\r\n    }\r\n\r\nBut it says Valid for all inputs. I tried with,\r\n  `duration.matches(&quot;(\\\\d+d)?(\\\\d+h)?(\\\\d+m)?(\\\\d+s)?$&quot;);`\r\n\r\nbut, still getting the same result.\r\n\t\r\n**What I need to change in my code to achieve what I&#39;m looking for? Thanks.**\r\n\r\n\r\n\r\n","title":"Java Regex for the pattern [#d][#h][#m][#s] to specify a time duration, fields are optional but ordered","body":"<p>I am looking for a regex that supports a String of the pattern <code>[#d][#h][#m][#s]</code> to specify a time duration, where 'd' for days, 'h' for hours and so on.</p>\n<p>Some valid Strings are,\n<code>1h2s</code>, <code>1m</code>, <code>2m15s</code>, <code>2h10s</code>, etc.</p>\n<p><code>2m1h</code>, <code>2k30s</code> are Invalid</p>\n<p>I have tried the folowing code,</p>\n<pre><code>String duration = &quot;2d0k15s&quot;;\n\ntry {\n    duration.matches(&quot;(\\\\d+d)?(\\\\d+h)?(\\\\d+m)?(\\\\d+s)?&quot;);\n    \n    System.out.println(&quot;Valid.&quot;);\n} catch (final PatternSyntaxException pse) {\n    System.out.println(&quot;Not valid! &quot; + pse.getMessage());\n}\n</code></pre>\n<p>But it says Valid for all inputs. I tried with,\n<code>duration.matches(&quot;(\\\\d+d)?(\\\\d+h)?(\\\\d+m)?(\\\\d+s)?$&quot;);</code></p>\n<p>but, still getting the same result.</p>\n<p><strong>What I need to change in my code to achieve what I'm looking for? Thanks.</strong></p>\n"},{"tags":["java","2d","awt"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1686774913,"post_id":76476938,"comment_id":134847215,"body_markdown":"1) You should NOT be using Threads to paint your images. Just iterate through the Map and paint each image. 2) Not sure I understand the question but maybe you can use the concept presented here: https://stackoverflow.com/a/65742492/131872. That is reset the AffineTransform of the Graphics object back to a scaling factor of 1 so no scaling is done. Post an [mre] demonstrating the problem. 3) Note, I&#39;m not even sure how the painting loops work since you always appear to be painting the image at (0, 0), so each image would paint over top of one another?","body":"1) You should NOT be using Threads to paint your images. Just iterate through the Map and paint each image. 2) Not sure I understand the question but maybe you can use the concept presented here: <a href=\"https://stackoverflow.com/a/65742492/131872\">stackoverflow.com/a/65742492/131872</a>. That is reset the AffineTransform of the Graphics object back to a scaling factor of 1 so no scaling is done. Post an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem. 3) Note, I&#39;m not even sure how the painting loops work since you always appear to be painting the image at (0, 0), so each image would paint over top of one another?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1686784155,"post_id":76476938,"comment_id":134848493,"body_markdown":"Painting is for painting nothing else. Swing is not thread safe, so you shouldn’t be modifying the ui from outside the context of the event dispatching thread","body":"Painting is for painting nothing else. Swing is not thread safe, so you shouldn’t be modifying the ui from outside the context of the event dispatching thread"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1686784293,"post_id":76476938,"comment_id":134848505,"body_markdown":"Also consider providing a [mcve]","body":"Also consider providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":14240652,"reputation":29,"user_id":10534332,"display_name":"Ярослав "},"score":2,"creation_date":1686810380,"post_id":76476938,"comment_id":134850940,"body_markdown":"thx for camickr, https://stackoverflow.com/questions/65742162/how-to-fix-the-blurry-image-when-i-run-my-java-swing-project/65742492#65742492 solve my problem","body":"thx for camickr, <a href=\"https://stackoverflow.com/questions/65742162/how-to-fix-the-blurry-image-when-i-run-my-java-swing-project/65742492#65742492\" title=\"how to fix the blurry image when i run my java swing project\">stackoverflow.com/questions/65742162/&hellip;</a> solve my problem"}],"owner":{"account_id":14240652,"reputation":29,"user_id":10534332,"display_name":"Ярослав "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686770985,"creation_date":1686770670,"question_id":76476938,"body_markdown":"i have screen with 4k resolution and 150% scaling on windows\r\n\r\n Main class \r\n\r\n    `   \r\n    public static void main(String[] args) throws IOException {\r\n     \r\n            JFrame frame = new JFrame();\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n           frame.setExtendedState(JFrame.MAXIMIZED_BOTH);\r\n            frame.setPreferredSize(new Dimension(displayMode.getWidth(), displayMode.getHeight()));\r\n            frame.setUndecorated(true);\r\n            frame.add(new Background());\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n    }`\r\n\r\nAnd Background\r\n\r\n\r\n    `public class Background extends JPanel implements ActionListener {\r\n        public Background() throws IOException {\r\n            backGround = ImageIO.read(getClass().getClassLoader().getResourceAsStream(&quot;background.jpg&quot;));\r\n          \r\n            setBackground(Color.BLACK);\r\n            addMouseListener(new MyMouseListener(this));\r\n            addKeyListener(new MyKeyboardListener(this));\r\n            setFocusable(true);\r\n            requestFocusInWindow();\r\n            setOpaque(true);\r\n    `\r\n\r\n\r\nmethod paint in Background where iam trying to draw images in a few threads\r\n\r\n\r\n    `@Override\r\n        protected void paintComponent(Graphics g) {\r\n    for (Map.Entry&lt;String, Map&lt;BaseShip, Integer&gt;&gt; player : playersShips.entrySet()) {\r\n    \r\n                Thread thread = new Thread(new Runnable() {\r\n    @Override\r\n                    public void run() {\r\n                        DisplayMode displayMode = GraphicsEnvironment.getLocalGraphicsEnvironment().getDefaultScreenDevice().getDisplayMode();\r\n                        BufferedImage bufferedImage = new BufferedImage( displayMode.getWidth(), displayMode.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\n                        Graphics graphics = bufferedImage.getGraphics();\r\n                        Map&lt;BaseShip, Integer&gt; value = new HashMap&lt;&gt;(player.getValue());\r\n                        Iterator&lt;Map.Entry&lt;BaseShip, Integer&gt;&gt; iterator = value.entrySet().iterator();\r\n                        while (iterator.hasNext()) {\r\n                            Map.Entry&lt;BaseShip, Integer&gt; entry = iterator.next();\r\n                            BaseShip baseShip = entry.getKey();\r\n                            if (!baseShip.isKilled()) {\r\n                                baseShip.paint(graphics);\r\n                            } else {\r\n                                iterator.remove();\r\n                            }\r\n                        }\r\n    \r\n                        graphics.dispose();\r\n                        bufferedImages.put(player.getKey(), bufferedImage);\r\n                        player.setValue(value);\r\n                    }\r\n                });\r\n                threads.add(thread);\r\n                thread.start();\r\n            }\r\n            for (Thread thread : threads) {\r\n                try {\r\n                    thread.join();\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            for (Map.Entry&lt;String, BufferedImage&gt; bufferedImage : bufferedImages.entrySet()) {\r\n                g.drawImage(bufferedImage.getValue(), 0, 0, null);\r\n            }\r\n    }`\r\n\r\nthe problem that `JPanel `method `paint` witch drawing another images, lines etc for `bufferedImage` draws with scaling in mind and does it in resolution 2600x1440, when `bufferedImage` has 3840x2160 from `DisplayMode `and what i can see at debug mode:\r\n[enter image description here](https://i.stack.imgur.com/yEpb2.jpg)\r\n\r\nafter this image will stretched to the resolution of the monitor to 4k cos i am using   `frame.setExtendedState(JFrame.MAXIMIZED_BOTH);`, but it lose quality\r\n\r\ntried remove `frame.setExtendedState(JFrame.MAXIMIZED_BOTH);`, and after this nothing is displayed on the screen\r\n\r\ntried add  `setSize(new Dimension(displayMode.getWidth(), displayMode.getHeight()));` at Background and it isn&#39;t helps, the image is still low resolution\r\n\r\n`setSize()` at Main at still low resolution and new problem where method `paint `is calling many times before main image on main thread shows at screen, this problem still staying if application working at 1 thread \r\n\r\nget Graphics2D for bufferedImage, same.\r\n\r\nand many combinations setSizes 4k for Main and Background \r\n\r\nonly if iam down screen scaling to 100% with JFrame.MAXIMIZED_BOTH all working good, but that&#39;s not the way, apllications must have to take into account screen scaling without down scaling images\r\n\r\nor discard from multi-threaded image processing, then my app working slowly and thats why need multi-threading for this\r\n\r\n","title":"How to render an image without scaling on java Graphics?","body":"<p>i have screen with 4k resolution and 150% scaling on windows</p>\n<p>Main class</p>\n<pre><code>`   \npublic static void main(String[] args) throws IOException {\n \n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n       frame.setExtendedState(JFrame.MAXIMIZED_BOTH);\n        frame.setPreferredSize(new Dimension(displayMode.getWidth(), displayMode.getHeight()));\n        frame.setUndecorated(true);\n        frame.add(new Background());\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n}`\n</code></pre>\n<p>And Background</p>\n<pre><code>`public class Background extends JPanel implements ActionListener {\n    public Background() throws IOException {\n        backGround = ImageIO.read(getClass().getClassLoader().getResourceAsStream(&quot;background.jpg&quot;));\n      \n        setBackground(Color.BLACK);\n        addMouseListener(new MyMouseListener(this));\n        addKeyListener(new MyKeyboardListener(this));\n        setFocusable(true);\n        requestFocusInWindow();\n        setOpaque(true);\n`\n</code></pre>\n<p>method paint in Background where iam trying to draw images in a few threads</p>\n<pre><code>`@Override\n    protected void paintComponent(Graphics g) {\nfor (Map.Entry&lt;String, Map&lt;BaseShip, Integer&gt;&gt; player : playersShips.entrySet()) {\n\n            Thread thread = new Thread(new Runnable() {\n@Override\n                public void run() {\n                    DisplayMode displayMode = GraphicsEnvironment.getLocalGraphicsEnvironment().getDefaultScreenDevice().getDisplayMode();\n                    BufferedImage bufferedImage = new BufferedImage( displayMode.getWidth(), displayMode.getHeight(), BufferedImage.TYPE_INT_ARGB);\n                    Graphics graphics = bufferedImage.getGraphics();\n                    Map&lt;BaseShip, Integer&gt; value = new HashMap&lt;&gt;(player.getValue());\n                    Iterator&lt;Map.Entry&lt;BaseShip, Integer&gt;&gt; iterator = value.entrySet().iterator();\n                    while (iterator.hasNext()) {\n                        Map.Entry&lt;BaseShip, Integer&gt; entry = iterator.next();\n                        BaseShip baseShip = entry.getKey();\n                        if (!baseShip.isKilled()) {\n                            baseShip.paint(graphics);\n                        } else {\n                            iterator.remove();\n                        }\n                    }\n\n                    graphics.dispose();\n                    bufferedImages.put(player.getKey(), bufferedImage);\n                    player.setValue(value);\n                }\n            });\n            threads.add(thread);\n            thread.start();\n        }\n        for (Thread thread : threads) {\n            try {\n                thread.join();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n        for (Map.Entry&lt;String, BufferedImage&gt; bufferedImage : bufferedImages.entrySet()) {\n            g.drawImage(bufferedImage.getValue(), 0, 0, null);\n        }\n}`\n</code></pre>\n<p>the problem that <code>JPanel </code>method <code>paint</code> witch drawing another images, lines etc for <code>bufferedImage</code> draws with scaling in mind and does it in resolution 2600x1440, when <code>bufferedImage</code> has 3840x2160 from <code>DisplayMode </code>and what i can see at debug mode:\n<a href=\"https://i.stack.imgur.com/yEpb2.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>after this image will stretched to the resolution of the monitor to 4k cos i am using   <code>frame.setExtendedState(JFrame.MAXIMIZED_BOTH);</code>, but it lose quality</p>\n<p>tried remove <code>frame.setExtendedState(JFrame.MAXIMIZED_BOTH);</code>, and after this nothing is displayed on the screen</p>\n<p>tried add  <code>setSize(new Dimension(displayMode.getWidth(), displayMode.getHeight()));</code> at Background and it isn't helps, the image is still low resolution</p>\n<p><code>setSize()</code> at Main at still low resolution and new problem where method <code>paint </code>is calling many times before main image on main thread shows at screen, this problem still staying if application working at 1 thread</p>\n<p>get Graphics2D for bufferedImage, same.</p>\n<p>and many combinations setSizes 4k for Main and Background</p>\n<p>only if iam down screen scaling to 100% with JFrame.MAXIMIZED_BOTH all working good, but that's not the way, apllications must have to take into account screen scaling without down scaling images</p>\n<p>or discard from multi-threaded image processing, then my app working slowly and thats why need multi-threading for this</p>\n"},{"tags":["java","spring","maven","gson"],"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1686781346,"post_id":76476965,"comment_id":134848215,"body_markdown":"Could you please try [the steps from the Gson Troubleshooting Guide](https://github.com/google/gson/blob/main/Troubleshooting.md#no-such-method-error) and report back if that helped or solved the issue?","body":"Could you please try <a href=\"https://github.com/google/gson/blob/main/Troubleshooting.md#no-such-method-error\" rel=\"nofollow noreferrer\">the steps from the Gson Troubleshooting Guide</a> and report back if that helped or solved the issue?"}],"owner":{"account_id":12131022,"reputation":3,"user_id":14376766,"display_name":"tgoel-dev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686770981,"creation_date":1686770981,"question_id":76476965,"body_markdown":"I am using Gson&#39;s JsonParser.parseString(response) to convert a String response (which is in JSON format, validated manually) to JSON. This exact code is being refactored in from a different microservice, so I am certain that it works. \r\n\r\nBut the method throws NoSuchMethodError exception when the method is being called. \r\n\r\nMaven dependency: \r\n\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.8.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\n\r\nNone of the methods I have tried have provided no improvement on the situation: \r\n- I tried upgrading the dependency version to 2.10.1\r\n- I tried adding the fully qualified name of the class, instead of importing it.\r\n- I tried multiple maven cleans and installs. \r\n\r\nNot sure what the underlying issue is.","title":"Gson JsonParser.parseString() resulting in NoSuchMethodError","body":"<p>I am using Gson's JsonParser.parseString(response) to convert a String response (which is in JSON format, validated manually) to JSON. This exact code is being refactored in from a different microservice, so I am certain that it works.</p>\n<p>But the method throws NoSuchMethodError exception when the method is being called.</p>\n<p>Maven dependency:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.8.6&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>None of the methods I have tried have provided no improvement on the situation:</p>\n<ul>\n<li>I tried upgrading the dependency version to 2.10.1</li>\n<li>I tried adding the fully qualified name of the class, instead of importing it.</li>\n<li>I tried multiple maven cleans and installs.</li>\n</ul>\n<p>Not sure what the underlying issue is.</p>\n"},{"tags":["java","reactjs","spring","redirect"],"owner":{"account_id":15117182,"reputation":15,"user_id":10909119,"display_name":"Afrodeziak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686770585,"creation_date":1686770585,"question_id":76476923,"body_markdown":"So, I have Spring (backend) and React(frontend). I want to redirect from Spring to React by passing some object or attributes NOT in the URL. I have next code:\r\n```     @GetMapping(&quot;/oauth2/authorization/google/callback&quot;)\r\n    public ModelAndView receiveCallbackAuthorization(@RequestParam(&quot;code&quot;) String code) {\r\n        ...some code\r\n        ...\r\n        return new ModelAndView(&quot;redirect:&quot; + location, &quot;info&quot;, userInfo);\r\n```\r\nOn the React side, I got next:\r\n```\r\nconst MyComponent = (props) =&gt; {\r\n  if (!props.location || !props.location.state) {\r\n    // Redirect to another route or display an error message\r\n    return &lt;Redirect to=&quot;/error&quot; /&gt;;\r\n  }\r\n\r\n  const { data } = props.location.state;\r\n\r\n  return (\r\n    &lt;div&gt;\r\n      {data ? (\r\n        &lt;p&gt;Data: {data.info}&lt;/p&gt; // Render the received data\r\n      ) : (\r\n        &lt;p&gt;Loading...&lt;/p&gt; // Show a loading indicator while the data is being retrieved\r\n      )}\r\n    &lt;/div&gt;\r\n  );\r\n};\r\n```\r\n\r\nIs it possible to do so, or maybe there&#39;s another way? The problem here is that I get a call on the backend as a callback, and after that, I need to process it and return it to the UI, which actually didn&#39;t ask for that.\r\n","title":"Pass object as redirect attribute from Spring to React","body":"<p>So, I have Spring (backend) and React(frontend). I want to redirect from Spring to React by passing some object or attributes NOT in the URL. I have next code:</p>\n<pre><code>    public ModelAndView receiveCallbackAuthorization(@RequestParam(&quot;code&quot;) String code) {\n        ...some code\n        ...\n        return new ModelAndView(&quot;redirect:&quot; + location, &quot;info&quot;, userInfo);\n</code></pre>\n<p>On the React side, I got next:</p>\n<pre><code>const MyComponent = (props) =&gt; {\n  if (!props.location || !props.location.state) {\n    // Redirect to another route or display an error message\n    return &lt;Redirect to=&quot;/error&quot; /&gt;;\n  }\n\n  const { data } = props.location.state;\n\n  return (\n    &lt;div&gt;\n      {data ? (\n        &lt;p&gt;Data: {data.info}&lt;/p&gt; // Render the received data\n      ) : (\n        &lt;p&gt;Loading...&lt;/p&gt; // Show a loading indicator while the data is being retrieved\n      )}\n    &lt;/div&gt;\n  );\n};\n</code></pre>\n<p>Is it possible to do so, or maybe there's another way? The problem here is that I get a call on the backend as a callback, and after that, I need to process it and return it to the UI, which actually didn't ask for that.</p>\n"},{"tags":["java","android"],"owner":{"account_id":5100146,"reputation":869,"user_id":4090002,"display_name":"Marcell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686770425,"creation_date":1686770425,"question_id":76476907,"body_markdown":"I have a custom view which shows a dartboard. It overrides the `onTouchEvent` method. For improving the accessibility of the app I wanted to override the `performClick` method too and call it from within the `onTouchEvent`. So far it seems pretty obvious.\r\n\r\nMy problem is that the `performClick` method has no access to the clicked coordinates. But I need those to draw the darts on the dartboard at the clicked positions. Is there a way to accomplish this or is this a restriction of accessibility implementations?\r\n\r\nHere is what I am referring to in code:\r\n\r\n    @Override\r\n    public boolean onTouchEvent(MotionEvent event) {\r\n        super.onTouchEvent(event);\r\n\r\n        switch (event.getAction()) {\r\n            case MotionEvent.ACTION_DOWN:\r\n                return true;\r\n\r\n            case MotionEvent.ACTION_UP:\r\n                saveDartPosition(event.getX(), event.getY());  // SHOULD BE IN performClick\r\n                performClick();\r\n                return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public boolean performClick() {\r\n        super.performClick();\r\n        // NO WAY TO ACCESS COORDINATES HERE :-(\r\n        return true;\r\n    }","title":"How to get clicked coordinates of a View when performClick() is used for accessibility purposes?","body":"<p>I have a custom view which shows a dartboard. It overrides the <code>onTouchEvent</code> method. For improving the accessibility of the app I wanted to override the <code>performClick</code> method too and call it from within the <code>onTouchEvent</code>. So far it seems pretty obvious.</p>\n<p>My problem is that the <code>performClick</code> method has no access to the clicked coordinates. But I need those to draw the darts on the dartboard at the clicked positions. Is there a way to accomplish this or is this a restriction of accessibility implementations?</p>\n<p>Here is what I am referring to in code:</p>\n<pre><code>@Override\npublic boolean onTouchEvent(MotionEvent event) {\n    super.onTouchEvent(event);\n\n    switch (event.getAction()) {\n        case MotionEvent.ACTION_DOWN:\n            return true;\n\n        case MotionEvent.ACTION_UP:\n            saveDartPosition(event.getX(), event.getY());  // SHOULD BE IN performClick\n            performClick();\n            return true;\n    }\n    return false;\n}\n\n@Override\npublic boolean performClick() {\n    super.performClick();\n    // NO WAY TO ACCESS COORDINATES HERE :-(\n    return true;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","rest","callback","completable-future"],"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1686784168,"post_id":76475410,"comment_id":134848494,"body_markdown":"If you want the response from the call to `restTemplate.postForObject` to be returned to the method that called it, then either don&#39;t execute this asynchronously, or block until you get a response.  You have no other options unless you want to return a CompletableFuture from your controller.","body":"If you want the response from the call to <code>restTemplate.postForObject</code> to be returned to the method that called it, then either don&#39;t execute this asynchronously, or block until you get a response.  You have no other options unless you want to return a CompletableFuture from your controller."}],"answers":[{"comments":[{"owner":{"account_id":19701832,"reputation":381,"user_id":14424407,"display_name":"Md. Sakhawath Hossain"},"score":0,"creation_date":1686760968,"post_id":76475780,"comment_id":134844677,"body_markdown":"can you give me any example? Or any blog or article refer to this? Thanks","body":"can you give me any example? Or any blog or article refer to this? Thanks"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686942366,"post_id":76475780,"comment_id":134873060,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76475780/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26344646,"reputation":1,"user_id":20003216,"display_name":"abi rajasekar"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686760677,"creation_date":1686760677,"answer_id":76475780,"question_id":76475410,"body_markdown":"You can make it as a service and give a resttemplate call to another microservice like and get the response","title":"How to handle an instant response from an external API and a callback response in a single controller in Spring Boot?","body":"<p>You can make it as a service and give a resttemplate call to another microservice like and get the response</p>\n"},{"comments":[{"owner":{"account_id":19701832,"reputation":381,"user_id":14424407,"display_name":"Md. Sakhawath Hossain"},"score":0,"creation_date":1686800298,"post_id":76476902,"comment_id":134849881,"body_markdown":"I have similar kind of two api call operation after getting the data from callback. From the frontend they will just hit the /call-api endpoint. What will I return from this method? And do I need to perform remaining api calls and operations on handle callback method? Thanks","body":"I have similar kind of two api call operation after getting the data from callback. From the frontend they will just hit the /call-api endpoint. What will I return from this method? And do I need to perform remaining api calls and operations on handle callback method? Thanks"}],"tags":[],"owner":{"account_id":2923083,"reputation":746,"user_id":2504962,"display_name":"Rashin"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686770378,"creation_date":1686770378,"answer_id":76476902,"question_id":76475410,"body_markdown":"Can&#39;t you just modify the callback url path?\r\n\r\nMove the `handleCallback` method to `MainController` and align the modified path for the header as well.\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/main&quot;)\r\npublic class MainController {\r\n \r\n   ...\r\n    \r\n    @PostMapping(&quot;/sendCallback&quot;)\r\n    public void handleCallback(@RequestBody CallbackResponse callbackResponse) {\r\n        // Process the callback response\r\n        System.out.println(&quot;Received callback response: &quot; + callbackResponse);\r\n        // Perform further actions as needed\r\n    }\r\n}\r\n```\r\nNew header:\r\n```\r\nContent-type: application/json\r\nAuthorization : someEncryptedData\r\nCallBack: http://mycallback:8080/main/sendCallback\r\n```","title":"How to handle an instant response from an external API and a callback response in a single controller in Spring Boot?","body":"<p>Can't you just modify the callback url path?</p>\n<p>Move the <code>handleCallback</code> method to <code>MainController</code> and align the modified path for the header as well.</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/main&quot;)\npublic class MainController {\n \n   ...\n    \n    @PostMapping(&quot;/sendCallback&quot;)\n    public void handleCallback(@RequestBody CallbackResponse callbackResponse) {\n        // Process the callback response\n        System.out.println(&quot;Received callback response: &quot; + callbackResponse);\n        // Perform further actions as needed\n    }\n}\n</code></pre>\n<p>New header:</p>\n<pre><code>Content-type: application/json\nAuthorization : someEncryptedData\nCallBack: http://mycallback:8080/main/sendCallback\n</code></pre>\n"}],"owner":{"account_id":19701832,"reputation":381,"user_id":14424407,"display_name":"Md. Sakhawath Hossain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686770378,"creation_date":1686757886,"question_id":76475410,"body_markdown":"I have a controller from where I am trying to trigger an POST external api call using headers and request body. \r\n\r\nSample external API URL: \r\n\r\n    http://sample:7070/test\r\n\r\nSample Headers: \r\n\r\n    Content-type: application/json\r\n    Authorization : someEncryptedData\r\n    CallBack: http://mycallback:8080/sendCallback\r\n\r\nSample Body: \r\n\r\n    {\r\n    &quot;A&quot;: {\r\n        &quot;B&quot;: 100,\r\n        &quot;C&quot;: &quot;TEST&quot;,\r\n    },\r\n    &quot;ReceiverParty&quot;: {\r\n        &quot;A&quot;: 41,\r\n        &quot;D&quot;: &quot;123214526&quot;\r\n    },\r\n    &quot;Reference&quot;: [\r\n        {\r\n            &quot;Key&quot;: &quot;A&quot;,\r\n            &quot;Value&quot;: &quot;B&quot;\r\n        }\r\n    ]\r\n    }\r\n\r\nNow this api will send an instant response when it is triggered. Also it will send another response to the callback url(POST) provided in the header. \r\n\r\n**I want to get the both response in one controller. What&#39;s the approach to get it? Kindly refer to any blog of topic for better understanding.** \r\n\r\nMy sample code: \r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/main&quot;)\r\n    public class MainController {\r\n\r\n    @Autowired\r\n    private RestTemplate restTemplate;\r\n\r\n    @PostMapping(&quot;/call-api&quot;)\r\n    public ResponseEntity&lt;String&gt; callApi() {\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.APPLICATION_JSON);\r\n\r\n        // Create the request body\r\n        SamplePlayload requestPayload = createRequestPayload();\r\n\r\n        HttpEntity&lt;SamplePlayload&gt; requestEntity = new HttpEntity&lt;&gt;(requestPayload, headers);\r\n\r\n        ResponseEntity&lt;String&gt; responseEntity = restTemplate.exchange(\r\n                &quot;http://sample:7070/test&quot;,\r\n                HttpMethod.POST,\r\n                requestEntity,\r\n                String.class\r\n        );\r\n\r\n        String initialResponse = responseEntity.getBody();\r\n        System.out.println(&quot;Received initial response: &quot; + initialResponse);\r\n\r\n        String callbackUrl = &quot;http://mycallback:8080/sendCallback&quot;; \r\n\r\n        CompletableFuture.supplyAsync(() -&gt; restTemplate.postForObject(callbackUrl, \r\n        requestPayload, String.class))\r\n                .thenAccept(callbackResponse -&gt; {\r\n                    System.out.println(&quot;Received callback response: &quot; + \r\n        callbackResponse);\r\n                    // Perform further actions as needed\r\n                });\r\n\r\n        return responseEntity;\r\n    }\r\n\r\n    private SamplePlayload createRequestPayload() {\r\n        //make the request body\r\n    }\r\n\r\n\r\nCallback Controller:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/sendCallback&quot;)\r\n    public class CallbackController {\r\n\r\n    @PostMapping\r\n    public void handleCallback(@RequestBody CallbackResponse callbackResponse) {\r\n        // Process the callback response\r\n        System.out.println(&quot;Received callback response: &quot; + callbackResponse);\r\n        // Perform further actions as needed\r\n        }\r\n    }\r\n\r\nSample instant Response: \r\n\r\n    {\r\n    &quot;Header&quot;: {\r\n    //some elements\r\n    },\r\n    &quot;Body&quot;: {\r\n    //Some elements\r\n    }\r\n    }\r\n\r\nSample callback Response: \r\n\r\n    {\r\n    &quot;Header&quot;: {\r\n    //some elements\r\n    },\r\n    &quot;Body&quot;: {\r\n    //Some elements\r\n    }\r\n    }\r\n\r\n","title":"How to handle an instant response from an external API and a callback response in a single controller in Spring Boot?","body":"<p>I have a controller from where I am trying to trigger an POST external api call using headers and request body.</p>\n<p>Sample external API URL:</p>\n<pre><code>http://sample:7070/test\n</code></pre>\n<p>Sample Headers:</p>\n<pre><code>Content-type: application/json\nAuthorization : someEncryptedData\nCallBack: http://mycallback:8080/sendCallback\n</code></pre>\n<p>Sample Body:</p>\n<pre><code>{\n&quot;A&quot;: {\n    &quot;B&quot;: 100,\n    &quot;C&quot;: &quot;TEST&quot;,\n},\n&quot;ReceiverParty&quot;: {\n    &quot;A&quot;: 41,\n    &quot;D&quot;: &quot;123214526&quot;\n},\n&quot;Reference&quot;: [\n    {\n        &quot;Key&quot;: &quot;A&quot;,\n        &quot;Value&quot;: &quot;B&quot;\n    }\n]\n}\n</code></pre>\n<p>Now this api will send an instant response when it is triggered. Also it will send another response to the callback url(POST) provided in the header.</p>\n<p><strong>I want to get the both response in one controller. What's the approach to get it? Kindly refer to any blog of topic for better understanding.</strong></p>\n<p>My sample code:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/main&quot;)\npublic class MainController {\n\n@Autowired\nprivate RestTemplate restTemplate;\n\n@PostMapping(&quot;/call-api&quot;)\npublic ResponseEntity&lt;String&gt; callApi() {\n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.APPLICATION_JSON);\n\n    // Create the request body\n    SamplePlayload requestPayload = createRequestPayload();\n\n    HttpEntity&lt;SamplePlayload&gt; requestEntity = new HttpEntity&lt;&gt;(requestPayload, headers);\n\n    ResponseEntity&lt;String&gt; responseEntity = restTemplate.exchange(\n            &quot;http://sample:7070/test&quot;,\n            HttpMethod.POST,\n            requestEntity,\n            String.class\n    );\n\n    String initialResponse = responseEntity.getBody();\n    System.out.println(&quot;Received initial response: &quot; + initialResponse);\n\n    String callbackUrl = &quot;http://mycallback:8080/sendCallback&quot;; \n\n    CompletableFuture.supplyAsync(() -&gt; restTemplate.postForObject(callbackUrl, \n    requestPayload, String.class))\n            .thenAccept(callbackResponse -&gt; {\n                System.out.println(&quot;Received callback response: &quot; + \n    callbackResponse);\n                // Perform further actions as needed\n            });\n\n    return responseEntity;\n}\n\nprivate SamplePlayload createRequestPayload() {\n    //make the request body\n}\n</code></pre>\n<p>Callback Controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/sendCallback&quot;)\npublic class CallbackController {\n\n@PostMapping\npublic void handleCallback(@RequestBody CallbackResponse callbackResponse) {\n    // Process the callback response\n    System.out.println(&quot;Received callback response: &quot; + callbackResponse);\n    // Perform further actions as needed\n    }\n}\n</code></pre>\n<p>Sample instant Response:</p>\n<pre><code>{\n&quot;Header&quot;: {\n//some elements\n},\n&quot;Body&quot;: {\n//Some elements\n}\n}\n</code></pre>\n<p>Sample callback Response:</p>\n<pre><code>{\n&quot;Header&quot;: {\n//some elements\n},\n&quot;Body&quot;: {\n//Some elements\n}\n}\n</code></pre>\n"},{"tags":["java","botframework"],"answers":[{"tags":[],"owner":{"account_id":1840235,"reputation":4147,"user_id":1712343,"accept_rate":89,"display_name":"nvioli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686770346,"creation_date":1686770346,"answer_id":76476895,"question_id":76167778,"body_markdown":"This was fixed by upgrading the botbuilder SDK from `4.6.0-preview8` to `4.14.3`.","title":"Microsoft Teams BotBuilder -- get channel list empty when team id ends in `thread.skype`","body":"<p>This was fixed by upgrading the botbuilder SDK from <code>4.6.0-preview8</code> to <code>4.14.3</code>.</p>\n"}],"owner":{"account_id":1840235,"reputation":4147,"user_id":1712343,"accept_rate":89,"display_name":"nvioli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76476895,"answer_count":1,"score":1,"last_activity_date":1686770346,"creation_date":1683145968,"question_id":76167778,"body_markdown":"I have installed a bot in two different teams. When I do `TeamsInfo.getTeamChannels` for the team whose ID ends in `thread.tacv2`, I successfully get the list of channels. When I run the same code for the team whose ID ends in `thread.skype` I receive an empty list.\r\n\r\nFull code:\r\n\r\n```\r\npackage com.mytest;\r\n\r\nimport java.util.List;\r\nimport java.util.concurrent.CompletableFuture;\r\nimport java.util.concurrent.ExecutionException;\r\n\r\nimport com.microsoft.bot.builder.BotFrameworkAdapter;\r\nimport com.microsoft.bot.builder.TurnContext;\r\nimport com.microsoft.bot.builder.teams.TeamsInfo;\r\nimport com.microsoft.bot.connector.authentication.AppCredentials;\r\nimport com.microsoft.bot.connector.authentication.SimpleCredentialProvider;\r\nimport com.microsoft.bot.schema.ConversationAccount;\r\nimport com.microsoft.bot.schema.ConversationReference;\r\nimport com.microsoft.bot.schema.teams.ChannelInfo;\r\n\r\npublic class TestChannelList {\r\n\r\n  private String appId;\r\n  private String appPassword;\r\n  private BotFrameworkAdapter bot;\r\n  private ConversationReference installationReference = new ConversationReference();\r\n\r\n  public TestChannelList() {\r\n    this.appId = &quot;***&quot;;\r\n    this.appPassword = &quot;***&quot;;\r\n    this.bot = new BotFrameworkAdapter(new SimpleCredentialProvider(appId, appPassword));\r\n\r\n    installationReference.setChannelId(&quot;msteams&quot;);\r\n    installationReference.setServiceUrl(&quot;https://smba.trafficmanager.net/amer/&quot;);\r\n\r\n//    this works:\r\n//    ConversationAccount conversation = new ConversationAccount(true,\r\n//            &quot;19:***@thread.tacv2&quot;,null);\r\n//        conversation.setConversationType(&quot;channel&quot;);\r\n//        conversation.setTenantId(&quot;***&quot;);\r\n\r\n//    this does not:\r\n    ConversationAccount conversation = new ConversationAccount(true,\r\n        &quot;19:***@thread.skype&quot;, &quot;***&quot;);\r\n    conversation.setConversationType(&quot;channel&quot;);\r\n    conversation.setTenantId(&quot;***&quot;);\r\n    installationReference.setConversation(conversation);\r\n\r\n    TurnContext tc = getTurnContextForConversationReference(installationReference);\r\n    CompletableFuture&lt;List&lt;ChannelInfo&gt;&gt; cf = TeamsInfo.getTeamChannels(tc,\r\n        installationReference.getConversation().getId());\r\n    List&lt;ChannelInfo&gt; channels = cf.get();\r\n  \tSystem.out.println(channels.size()); // 0 for the `thread.skype` team and non-zero for the `thread.tacv2` team\r\n  }\r\n\r\n  public TurnContext getTurnContextForConversationReference(ConversationReference cr)\r\n      {\r\n    // need to do this to avoid 401 errors\r\n   AppCredentials.trustServiceUrl(cr.getServiceUrl());\r\n    TeamsBotCallbackHandler callback = new TeamsBotCallbackHandler();\r\n    CompletableFuture&lt;Void&gt; cf = bot.continueConversation(appId, cr, callback);\r\n    try {\r\n      cf.get();\r\n      return callback.getTurnContext();\r\n    } catch (InterruptedException | ExecutionException e) {\r\n      System.out.println(&quot;caught&quot;);\r\n      e.printStackTrace();\r\n      return null;\r\n    }\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    new TestChannelList();\r\n  }\r\n}\r\n```\r\n\r\n```\r\npackage com.mytest;\r\n\r\nimport com.microsoft.bot.builder.BotCallbackHandler;\r\nimport com.microsoft.bot.builder.TurnContext;\r\nimport java.util.concurrent.CompletableFuture;\r\n\r\npublic class TeamsBotCallbackHandler implements BotCallbackHandler {\r\n\r\n  private TurnContext turnContext;\r\n\r\n  @Override\r\n  public CompletableFuture&lt;Void&gt; invoke(TurnContext turnContext) {\r\n    // set the instance field, then the Future should immediately return\r\n    this.turnContext = turnContext;\r\n    return CompletableFuture.completedFuture(null);\r\n  }\r\n\r\n  public TurnContext getTurnContext() {\r\n    return turnContext;\r\n  }\r\n}\r\n\r\n```","title":"Microsoft Teams BotBuilder -- get channel list empty when team id ends in `thread.skype`","body":"<p>I have installed a bot in two different teams. When I do <code>TeamsInfo.getTeamChannels</code> for the team whose ID ends in <code>thread.tacv2</code>, I successfully get the list of channels. When I run the same code for the team whose ID ends in <code>thread.skype</code> I receive an empty list.</p>\n<p>Full code:</p>\n<pre><code>package com.mytest;\n\nimport java.util.List;\nimport java.util.concurrent.CompletableFuture;\nimport java.util.concurrent.ExecutionException;\n\nimport com.microsoft.bot.builder.BotFrameworkAdapter;\nimport com.microsoft.bot.builder.TurnContext;\nimport com.microsoft.bot.builder.teams.TeamsInfo;\nimport com.microsoft.bot.connector.authentication.AppCredentials;\nimport com.microsoft.bot.connector.authentication.SimpleCredentialProvider;\nimport com.microsoft.bot.schema.ConversationAccount;\nimport com.microsoft.bot.schema.ConversationReference;\nimport com.microsoft.bot.schema.teams.ChannelInfo;\n\npublic class TestChannelList {\n\n  private String appId;\n  private String appPassword;\n  private BotFrameworkAdapter bot;\n  private ConversationReference installationReference = new ConversationReference();\n\n  public TestChannelList() {\n    this.appId = &quot;***&quot;;\n    this.appPassword = &quot;***&quot;;\n    this.bot = new BotFrameworkAdapter(new SimpleCredentialProvider(appId, appPassword));\n\n    installationReference.setChannelId(&quot;msteams&quot;);\n    installationReference.setServiceUrl(&quot;https://smba.trafficmanager.net/amer/&quot;);\n\n//    this works:\n//    ConversationAccount conversation = new ConversationAccount(true,\n//            &quot;19:***@thread.tacv2&quot;,null);\n//        conversation.setConversationType(&quot;channel&quot;);\n//        conversation.setTenantId(&quot;***&quot;);\n\n//    this does not:\n    ConversationAccount conversation = new ConversationAccount(true,\n        &quot;19:***@thread.skype&quot;, &quot;***&quot;);\n    conversation.setConversationType(&quot;channel&quot;);\n    conversation.setTenantId(&quot;***&quot;);\n    installationReference.setConversation(conversation);\n\n    TurnContext tc = getTurnContextForConversationReference(installationReference);\n    CompletableFuture&lt;List&lt;ChannelInfo&gt;&gt; cf = TeamsInfo.getTeamChannels(tc,\n        installationReference.getConversation().getId());\n    List&lt;ChannelInfo&gt; channels = cf.get();\n    System.out.println(channels.size()); // 0 for the `thread.skype` team and non-zero for the `thread.tacv2` team\n  }\n\n  public TurnContext getTurnContextForConversationReference(ConversationReference cr)\n      {\n    // need to do this to avoid 401 errors\n   AppCredentials.trustServiceUrl(cr.getServiceUrl());\n    TeamsBotCallbackHandler callback = new TeamsBotCallbackHandler();\n    CompletableFuture&lt;Void&gt; cf = bot.continueConversation(appId, cr, callback);\n    try {\n      cf.get();\n      return callback.getTurnContext();\n    } catch (InterruptedException | ExecutionException e) {\n      System.out.println(&quot;caught&quot;);\n      e.printStackTrace();\n      return null;\n    }\n  }\n\n  public static void main(String[] args) {\n    new TestChannelList();\n  }\n}\n</code></pre>\n<pre><code>package com.mytest;\n\nimport com.microsoft.bot.builder.BotCallbackHandler;\nimport com.microsoft.bot.builder.TurnContext;\nimport java.util.concurrent.CompletableFuture;\n\npublic class TeamsBotCallbackHandler implements BotCallbackHandler {\n\n  private TurnContext turnContext;\n\n  @Override\n  public CompletableFuture&lt;Void&gt; invoke(TurnContext turnContext) {\n    // set the instance field, then the Future should immediately return\n    this.turnContext = turnContext;\n    return CompletableFuture.completedFuture(null);\n  }\n\n  public TurnContext getTurnContext() {\n    return turnContext;\n  }\n}\n\n</code></pre>\n"},{"tags":["java","annotations","overriding"],"answers":[{"tags":[],"owner":{"account_id":4305734,"reputation":1195,"user_id":3518134,"accept_rate":83,"display_name":"flopcoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686769862,"creation_date":1686769862,"answer_id":76476851,"question_id":76476763,"body_markdown":"You can write like this\r\n\r\n    public class ChildClass extends ParentClass {\r\n      @Override\r\n      @Deprecated\r\n      public void someMethod(){\r\n        super.someMethod();\r\n      }\r\n    }","title":"How to Add Annotations to Parent Method in Java Without Overriding It?","body":"<p>You can write like this</p>\n<pre><code>public class ChildClass extends ParentClass {\n  @Override\n  @Deprecated\n  public void someMethod(){\n    super.someMethod();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686769982,"creation_date":1686769982,"answer_id":76476860,"question_id":76476763,"body_markdown":"If I understood correctly, you can do it like that:\r\n\r\n    public class ChildClass extends ParentClass {\r\n        @Override\r\n        @Deprecated\r\n        public void someMethod() {\r\n            super.someMethod();\r\n        }\r\n    }\r\n\r\nHowever, here only calling `someMethod` on an object declared as `ChildClass` would be considered as call of a deprecated method. Calling `someMethod` on an object declared as `ParentClass` (even if it&#39;s actually an `ChildClass` object) wouldn&#39;t be seen as a deprecated method call.","title":"How to Add Annotations to Parent Method in Java Without Overriding It?","body":"<p>If I understood correctly, you can do it like that:</p>\n<pre><code>public class ChildClass extends ParentClass {\n    @Override\n    @Deprecated\n    public void someMethod() {\n        super.someMethod();\n    }\n}\n</code></pre>\n<p>However, here only calling <code>someMethod</code> on an object declared as <code>ChildClass</code> would be considered as call of a deprecated method. Calling <code>someMethod</code> on an object declared as <code>ParentClass</code> (even if it's actually an <code>ChildClass</code> object) wouldn't be seen as a deprecated method call.</p>\n"}],"owner":{"account_id":22211564,"reputation":109,"user_id":16450641,"display_name":"Brendan R."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76476860,"answer_count":2,"score":0,"last_activity_date":1686769982,"creation_date":1686769099,"question_id":76476763,"body_markdown":"In Java, how can I add an annotation to a parent method without changing the body of the method.\r\nFor example:\r\n```java\r\npublic class ParentClass {\r\n  public void someMethod() {\r\n    System.out.println(&quot;Hello world&quot;);\r\n  }\r\n}\r\n\r\npublic class ChildClass extends ParentClass {\r\n  // Add the @Deprecated annotation to someMethod, without changing its body\r\n}\r\n```\r\nI need the method to remain the same, but the only difference is now it has an annotation. How would I do this?\r\n\r\nI have tried not including a body to the method, ie:\r\n```java\r\npublic class ChildClass extends ParentClass {\r\n  @Override\r\n  @Deprecated\r\n  public void someMethod();\r\n}\r\n```\r\nThis doesn&#39;t work. I have also tried not using the `@Override` annotation, but it seems to expect that the method will have a body. Is there a way to just add the annotation without changing its actual value?","title":"How to Add Annotations to Parent Method in Java Without Overriding It?","body":"<p>In Java, how can I add an annotation to a parent method without changing the body of the method.\nFor example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ParentClass {\n  public void someMethod() {\n    System.out.println(&quot;Hello world&quot;);\n  }\n}\n\npublic class ChildClass extends ParentClass {\n  // Add the @Deprecated annotation to someMethod, without changing its body\n}\n</code></pre>\n<p>I need the method to remain the same, but the only difference is now it has an annotation. How would I do this?</p>\n<p>I have tried not including a body to the method, ie:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ChildClass extends ParentClass {\n  @Override\n  @Deprecated\n  public void someMethod();\n}\n</code></pre>\n<p>This doesn't work. I have also tried not using the <code>@Override</code> annotation, but it seems to expect that the method will have a body. Is there a way to just add the annotation without changing its actual value?</p>\n"},{"tags":["java","jdbc",".net-6.0"],"answers":[{"tags":[],"owner":{"account_id":92850,"reputation":1241,"user_id":254276,"accept_rate":92,"display_name":"tcables"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686769398,"creation_date":1686769398,"answer_id":76476802,"question_id":76052007,"body_markdown":"I was having the same issue as you. After searching through their github, I found this was identified as an issue on 06/01/2023. The project owner published a fix in the latest version 1.3.0.\r\n\r\n[evan-choi commented 06/01/2023][1]\r\n\r\nPlease upgrade your package dependencies to v1.3.0.\r\n\r\n[Also be aware the package names have changed][2]\r\n\r\n`J2NET.Runtime.Win64` is now `J2NET.Runtime.win-x64`\r\n\r\nDoing the upgrade got me past the runtime error, but then, another error occurred: `&quot;A task has been cancelled&quot;`. After stepping through the JDBC.Net source code the `var process = JavaRuntime.Execute(javaRunArgs);` (in `Models\\JdbcBridge.cs`) immediately exits, and they cancel the task. I found that the java runtime cannot find the `JDBC.NET.Bridge.jar` in the asp.net core project execution directory. So i put in a pull request to fix that and fully qualify the path to the jar files.\r\n\r\n[Support ASP.Net Core #29 ][3]\r\n\r\nYou can wait for evan to complete the pull request and publish another nuget package or you can include their source into your project like I did, and then add my code. You then may have to copy `JDBC.NET.Bridge.jar` from the console app exe directory to `JDBC.NET.Bridge\\target` as `JDBC.NET.Bridge-1.0-SNAPSHOT-jar-with-dependencies.jar` (for debug, or just `JDBC.NET.Bridge.jar` in release).\r\n\r\n\r\nI hope this helps.\r\n\r\n\r\n  [1]: https://github.com/chequer-io/J2NET/issues/1#issuecomment-1571261751\r\n  [2]: https://github.com/chequer-io/J2NET#2-add-runtime-package-reference\r\n  [3]: https://github.com/chequer-io/JDBC.NET/pull/29","title":"J2NET.Runtime could not be found. Please check if the runtime is installed for your platform","body":"<p>I was having the same issue as you. After searching through their github, I found this was identified as an issue on 06/01/2023. The project owner published a fix in the latest version 1.3.0.</p>\n<p><a href=\"https://github.com/chequer-io/J2NET/issues/1#issuecomment-1571261751\" rel=\"nofollow noreferrer\">evan-choi commented 06/01/2023</a></p>\n<p>Please upgrade your package dependencies to v1.3.0.</p>\n<p><a href=\"https://github.com/chequer-io/J2NET#2-add-runtime-package-reference\" rel=\"nofollow noreferrer\">Also be aware the package names have changed</a></p>\n<p><code>J2NET.Runtime.Win64</code> is now <code>J2NET.Runtime.win-x64</code></p>\n<p>Doing the upgrade got me past the runtime error, but then, another error occurred: <code>&quot;A task has been cancelled&quot;</code>. After stepping through the JDBC.Net source code the <code>var process = JavaRuntime.Execute(javaRunArgs);</code> (in <code>Models\\JdbcBridge.cs</code>) immediately exits, and they cancel the task. I found that the java runtime cannot find the <code>JDBC.NET.Bridge.jar</code> in the asp.net core project execution directory. So i put in a pull request to fix that and fully qualify the path to the jar files.</p>\n<p><a href=\"https://github.com/chequer-io/JDBC.NET/pull/29\" rel=\"nofollow noreferrer\">Support ASP.Net Core #29 </a></p>\n<p>You can wait for evan to complete the pull request and publish another nuget package or you can include their source into your project like I did, and then add my code. You then may have to copy <code>JDBC.NET.Bridge.jar</code> from the console app exe directory to <code>JDBC.NET.Bridge\\target</code> as <code>JDBC.NET.Bridge-1.0-SNAPSHOT-jar-with-dependencies.jar</code> (for debug, or just <code>JDBC.NET.Bridge.jar</code> in release).</p>\n<p>I hope this helps.</p>\n"}],"owner":{"account_id":2365447,"reputation":67,"user_id":2071206,"accept_rate":0,"display_name":"Serhan Altug"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686769398,"creation_date":1681890991,"question_id":76052007,"body_markdown":"I want to use JDBC.Net.Data on my project.\r\nIn .Net Core 6 console application it works but when I try it in a .Net Core 6 Web API I get the error below.\r\n\r\n&gt;&quot;J2NET.Runtime could not be found. Please check if the runtime is installed for your platform.&quot;\r\n\r\nEverything is similar in both projects.\r\n\r\nThe problem is, In Web App, Kesrel can&#39;t access the JRE files which is included in the bin/debug/net6.0/runtimes folder.\r\n\r\nBut in my console application, everything is same as web app, even the folder structures.\r\n\r\nHow can I set my web app to fix this problem?","title":"J2NET.Runtime could not be found. Please check if the runtime is installed for your platform","body":"<p>I want to use JDBC.Net.Data on my project.\nIn .Net Core 6 console application it works but when I try it in a .Net Core 6 Web API I get the error below.</p>\n<blockquote>\n<p>&quot;J2NET.Runtime could not be found. Please check if the runtime is installed for your platform.&quot;</p>\n</blockquote>\n<p>Everything is similar in both projects.</p>\n<p>The problem is, In Web App, Kesrel can't access the JRE files which is included in the bin/debug/net6.0/runtimes folder.</p>\n<p>But in my console application, everything is same as web app, even the folder structures.</p>\n<p>How can I set my web app to fix this problem?</p>\n"},{"tags":["java","time","datetime-format","java-time","gmt"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1685625858,"post_id":76382010,"comment_id":134688696,"body_markdown":"What exactly does not work? Is it just the format? In your output example is one line that differs from the others by using your format. Where do those logs come from? Maybe the `IAMFAUtil` uses a different log source than `MFA` and just doesn&#39;t apply your format…","body":"What exactly does not work? Is it just the format? In your output example is one line that differs from the others by using your format. Where do those logs come from? Maybe the <code>IAMFAUtil</code> uses a different log source than <code>MFA</code> and just doesn&#39;t apply your format…"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1685640298,"post_id":76382010,"comment_id":134692276,"body_markdown":"As an aside your tome zone conversion is wrong. You want `OffsetDateTime .now(ZoneOffset.UTC) .truncatedTo(ChronoUnit.SECONDS) .format(formatter)`. You don’t want to use `LocalDateTime` for anything since it does not define a point in time.","body":"As an aside your tome zone conversion is wrong. You want <code>OffsetDateTime .now(ZoneOffset.UTC) .truncatedTo(ChronoUnit.SECONDS) .format(formatter)</code>. You don’t want to use <code>LocalDateTime</code> for anything since it does not define a point in time."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1685640426,"post_id":76382010,"comment_id":134692297,"body_markdown":"Your output generally looks fair to me. Please specify what you had desired instead.","body":"Your output generally looks fair to me. Please specify what you had desired instead."},{"owner":{"account_id":136031,"reputation":121,"user_id":339274,"accept_rate":60,"display_name":"kishjeff"},"score":0,"creation_date":1686768604,"post_id":76382010,"comment_id":134846132,"body_markdown":"I will retest to avoid misleading &#39;brain farc&#39; questions, thanks.","body":"I will retest to avoid misleading &#39;brain farc&#39; questions, thanks."}],"owner":{"account_id":136031,"reputation":121,"user_id":339274,"accept_rate":60,"display_name":"kishjeff"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686768564,"creation_date":1685623527,"question_id":76382010,"body_markdown":"I have this code which is part of building a JWT token using a string in a certain format that should represent the current time in the GMT timezone:\r\n\r\n```Java\r\nDateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n                                    .appendPattern(&quot;MM/dd/yyyy &quot;)\r\n                                    .appendPattern(&quot;HH:mm:ss&quot;)\r\n                                    .toFormatter(Locale.ENGLISH)\r\n                                    .withResolverStyle(ResolverStyle.SMART);\r\n    \r\n// Get the current time in the GMT timezone\r\nLocalDateTime currentTime = LocalDateTime.now().withNano(0);\r\nString sDFM = currentTime.atZone(TimeZone.getTimeZone(&quot;GMT&quot;).toZoneId())\r\n                         .format(formatter);\r\ndebugLog(&quot; time to use for token is: &quot; + sDFM);\r\n```\r\n\r\nPerplexing as it is (to me), this does not always work, just enough to make me think its solved and then bang…. It fails.\r\n\r\n\r\nHere are some log file entries which have the websphere log time at the left in UTC and the time returned by the above code on the right:\r\n```none\r\nLine 243479: [5/31/23 23:07:39:596 UTC] 00000156 SystemOut     O 31 May 2023 23:07:39:596 [DEBUG] [MXServer] [] MFA  time to use for token is: May, 31 2023 23:07:39\r\nLine 358120: [5/31/23 23:30:55:926 UTC] 00000159 SystemOut     O 31 May 2023 23:30:55:926 [DEBUG] [MXServer] [] IAMFAUtil  time to use for token is: 05/31/2023 23:30:55\r\nLine 568091: [6/1/23 0:26:39:967 UTC] 00000158 SystemOut     O 01 Jun 2023 00:26:39:967 [DEBUG] [MXServer] [] MFA  time to use for token is: June, 01 2023 24:26:39\r\nLine 568178: [6/1/23 0:26:40:611 UTC] 00000158 SystemOut     O 01 Jun 2023 00:26:40:611 [DEBUG] [MXServer] [] MFA  time to use for token is: June, 01 2023 24:26:40\r\n```\r\n\r\n**I also sometimes get another time in some other zone that says 5am (occasionally)**\r\nThis happens just frequently enough that everything stops working …\r\nNew note: I didn&#39;t expect an output of &quot;24:26:40&quot; ever, I expected 0-23 for the hour (first segment of the output), i.e. pattern HH instead of pattern kk. I will retest to verify I am not misleading anyone here and get back. Thank you for your time and thoughts.\r\n\r\n\r\n","title":"java time inconsistently reporting results","body":"<p>I have this code which is part of building a JWT token using a string in a certain format that should represent the current time in the GMT timezone:</p>\n<pre><code>DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n                                    .appendPattern(&quot;MM/dd/yyyy &quot;)\n                                    .appendPattern(&quot;HH:mm:ss&quot;)\n                                    .toFormatter(Locale.ENGLISH)\n                                    .withResolverStyle(ResolverStyle.SMART);\n    \n// Get the current time in the GMT timezone\nLocalDateTime currentTime = LocalDateTime.now().withNano(0);\nString sDFM = currentTime.atZone(TimeZone.getTimeZone(&quot;GMT&quot;).toZoneId())\n                         .format(formatter);\ndebugLog(&quot; time to use for token is: &quot; + sDFM);\n</code></pre>\n<p>Perplexing as it is (to me), this does not always work, just enough to make me think its solved and then bang…. It fails.</p>\n<p>Here are some log file entries which have the websphere log time at the left in UTC and the time returned by the above code on the right:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Line 243479: [5/31/23 23:07:39:596 UTC] 00000156 SystemOut     O 31 May 2023 23:07:39:596 [DEBUG] [MXServer] [] MFA  time to use for token is: May, 31 2023 23:07:39\nLine 358120: [5/31/23 23:30:55:926 UTC] 00000159 SystemOut     O 31 May 2023 23:30:55:926 [DEBUG] [MXServer] [] IAMFAUtil  time to use for token is: 05/31/2023 23:30:55\nLine 568091: [6/1/23 0:26:39:967 UTC] 00000158 SystemOut     O 01 Jun 2023 00:26:39:967 [DEBUG] [MXServer] [] MFA  time to use for token is: June, 01 2023 24:26:39\nLine 568178: [6/1/23 0:26:40:611 UTC] 00000158 SystemOut     O 01 Jun 2023 00:26:40:611 [DEBUG] [MXServer] [] MFA  time to use for token is: June, 01 2023 24:26:40\n</code></pre>\n<p><strong>I also sometimes get another time in some other zone that says 5am (occasionally)</strong>\nThis happens just frequently enough that everything stops working …\nNew note: I didn't expect an output of &quot;24:26:40&quot; ever, I expected 0-23 for the hour (first segment of the output), i.e. pattern HH instead of pattern kk. I will retest to verify I am not misleading anyone here and get back. Thank you for your time and thoughts.</p>\n"},{"tags":["java","scala","apache-spark"],"owner":{"account_id":13276438,"reputation":33,"user_id":9585639,"display_name":"Sumanto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686767701,"creation_date":1686767701,"question_id":76476618,"body_markdown":"Facing the below error when we are doing a spark-submit v3.2.2. We are adding external spark-streaming-kafka-0-10 v2.12-3.1.1. When we tried to debug the issue, it looks like the slf4j-api-1.7.29 jar which is used by our application is causing the conflict.\r\nBut when we are trying to exclude the slf4j-api jar, Our application loggers are failing to initialise with error like &quot;No appenders could be found for logger (Main Class)&quot;. \r\nWe are also using logback jars which may be using slf4j-api internally, not exactly clear about it. But this issue we have found no resolution. \r\n&gt; java.lang.LinkageError: loader constraint violation in interface itable initialization: when resolving method &quot;org.apache.spark.streaming.kafka010.Subscribe.org$apache$spark$internal$Logging$$log_() Lorg/slf4j/Logger;&quot; the class loader (instance of org/apache/spark/util/ChildFirstURLClassLoader) of the current class, org/apache/spark/streaming/kafka010/Subscribe, and the class loader (instance of sun/misc/Launcher$AppClassLoader) for interface org/apache/spark/interna1/Logging have different Class objects for the type org/slf4j/Logger used in the signature at org.apache.spark.streaming.kafka010.Consumerstrategies$. Subscribe (Consumerstrategy.scala:299\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/oyIko.jpg","title":"LinkageError facing while doing spark-submit","body":"<p>Facing the below error when we are doing a spark-submit v3.2.2. We are adding external spark-streaming-kafka-0-10 v2.12-3.1.1. When we tried to debug the issue, it looks like the slf4j-api-1.7.29 jar which is used by our application is causing the conflict.\nBut when we are trying to exclude the slf4j-api jar, Our application loggers are failing to initialise with error like &quot;No appenders could be found for logger (Main Class)&quot;.\nWe are also using logback jars which may be using slf4j-api internally, not exactly clear about it. But this issue we have found no resolution.</p>\n<blockquote>\n<p>java.lang.LinkageError: loader constraint violation in interface itable initialization: when resolving method &quot;org.apache.spark.streaming.kafka010.Subscribe.org$apache$spark$internal$Logging$$log_() Lorg/slf4j/Logger;&quot; the class loader (instance of org/apache/spark/util/ChildFirstURLClassLoader) of the current class, org/apache/spark/streaming/kafka010/Subscribe, and the class loader (instance of sun/misc/Launcher$AppClassLoader) for interface org/apache/spark/interna1/Logging have different Class objects for the type org/slf4j/Logger used in the signature at org.apache.spark.streaming.kafka010.Consumerstrategies$. Subscribe (Consumerstrategy.scala:299</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/oyIko.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oyIko.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","amazon-web-services","amazon-s3","aws-sdk","aws-s3-client"],"owner":{"account_id":6299962,"reputation":580,"user_id":4894924,"accept_rate":43,"display_name":"Pracheer Pancholi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686767676,"creation_date":1686752188,"question_id":76474550,"body_markdown":"I am uploading a file directory from windows system to S3 bucket using S3TransferManager uploadDirectory method below is the code for that ..\r\n\r\n   ```\r\n    \tprivate static void copyFromServerToS3(S3TransferManager transferManager, File sourceFile, String s3URI)\r\n\t\t\tthrows URISyntaxException, InterruptedException, ExecutionException, TimeoutException {\r\n\r\n\t\tDirectoryUpload directoryUpload;\r\n\t\tString prefix = S3URLUtils.key(s3URI);\r\n\t\tif (StringUtils.isNotEmpty(prefix)) {\r\n\t\t\tdirectoryUpload = transferManager.uploadDirectory(UploadDirectoryRequest.builder()\r\n\t\t\t\t\t.source(sourceFile.toPath()).bucket(URLUtils.bucketNameForURI(s3URI)).s3Prefix(prefix).build());\r\n\t\t} else {\r\n\t\t\tdirectoryUpload = transferManager.uploadDirectory(UploadDirectoryRequest.builder()\r\n\t\t\t\t\t.source(sourceFile.toPath()).bucket(S3URLUtils.bucketNameForURI(s3URI)).build());\r\n\t\t}\r\n\t\tCompletedDirectoryUpload completedDirectoryUpload = directoryUpload.completionFuture().get();\r\n\t\tcompletedDirectoryUpload.failedTransfers()\r\n\t\t\t\t.forEach(fail -&gt; LOG.warn(String.format(&quot;Object [%s] failed to transfer&quot;, fail.toString())));\r\n\t}\r\n\r\n   ```\r\nFor the above code when I am trying to upload a directory to s3 from windows file system which is having multiple files then the above code uploads the files which are small in size but its not uploading one of the file which is around 530 mb size and it fails with below exception ...\\\r\n\r\n  ```\r\n   exception=software.amazon.awssdk.core.exception.SdkClientException: Unable to execute HTTP request: Write timed out)] failed to transfer\r\n  ```\r\n\r\n Is there something I can do to get this bigger file too uploaded to S3 bucket ? Please suggest.\r\n","title":"Getting write timed out SdkClientException while uploading a directory with large file size","body":"<p>I am uploading a file directory from windows system to S3 bucket using S3TransferManager uploadDirectory method below is the code for that ..</p>\n<pre><code>     private static void copyFromServerToS3(S3TransferManager transferManager, File sourceFile, String s3URI)\n         throws URISyntaxException, InterruptedException, ExecutionException, TimeoutException {\n\n     DirectoryUpload directoryUpload;\n     String prefix = S3URLUtils.key(s3URI);\n     if (StringUtils.isNotEmpty(prefix)) {\n         directoryUpload = transferManager.uploadDirectory(UploadDirectoryRequest.builder()\n                 .source(sourceFile.toPath()).bucket(URLUtils.bucketNameForURI(s3URI)).s3Prefix(prefix).build());\n     } else {\n         directoryUpload = transferManager.uploadDirectory(UploadDirectoryRequest.builder()\n                 .source(sourceFile.toPath()).bucket(S3URLUtils.bucketNameForURI(s3URI)).build());\n     }\n     CompletedDirectoryUpload completedDirectoryUpload = directoryUpload.completionFuture().get();\n     completedDirectoryUpload.failedTransfers()\n             .forEach(fail -&gt; LOG.warn(String.format(&quot;Object [%s] failed to transfer&quot;, fail.toString())));\n }\n\n</code></pre>\n<p>For the above code when I am trying to upload a directory to s3 from windows file system which is having multiple files then the above code uploads the files which are small in size but its not uploading one of the file which is around 530 mb size and it fails with below exception ...\\</p>\n<pre><code> exception=software.amazon.awssdk.core.exception.SdkClientException: Unable to execute HTTP request: Write timed out)] failed to transfer\n</code></pre>\n<p>Is there something I can do to get this bigger file too uploaded to S3 bucket ? Please suggest.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":19238625,"reputation":1937,"user_id":14059097,"display_name":"Cyril G."},"score":0,"creation_date":1647835239,"post_id":71548830,"comment_id":126462621,"body_markdown":"You can catch the exception throws by Spring when no handler is found for a request. Details here: https://stackoverflow.com/questions/30329543/spring-boot-taking-control-of-404-not-found","body":"You can catch the exception throws by Spring when no handler is found for a request. Details here: <a href=\"https://stackoverflow.com/questions/30329543/spring-boot-taking-control-of-404-not-found\" title=\"spring boot taking control of 404 not found\">stackoverflow.com/questions/30329543/&hellip;</a>"},{"owner":{"account_id":6290431,"reputation":1187,"user_id":4888323,"accept_rate":20,"display_name":"Bilgehan"},"score":0,"creation_date":1652449921,"post_id":71548830,"comment_id":127616074,"body_markdown":"Do you find a solution @sineverba","body":"Do you find a solution @sineverba"}],"answers":[{"tags":[],"owner":{"account_id":4360995,"reputation":172,"user_id":3558080,"display_name":"Daniel Santana"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657742803,"creation_date":1657742803,"answer_id":72972039,"question_id":71548830,"body_markdown":"Add following property in your application.properties:\r\n\r\n    spring.web.resources.add-mappings=false","title":"Override the handleNoHandlerFoundException","body":"<p>Add following property in your application.properties:</p>\n<pre><code>spring.web.resources.add-mappings=false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14593315,"reputation":109,"user_id":10539821,"display_name":"Emmanuel Madarassou"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686767663,"creation_date":1686767663,"answer_id":76476613,"question_id":71548830,"body_markdown":"For those who are still looking an answer:\r\n\r\n1. Define your custom ExceptionHandler that extends ResponseEntityExceptionHandler.\r\n2. Override the methode handleNoHandlerFoundException and return a ResponseEntity with your custom Error object.\r\n3. Add the following properties in your application.properties file: \r\n\r\n    spring.mvc.throw-exception-if-no-handler-found=true\r\n\r\n    spring.web.resources.add-mappings=false","title":"Override the handleNoHandlerFoundException","body":"<p>For those who are still looking an answer:</p>\n<ol>\n<li><p>Define your custom ExceptionHandler that extends ResponseEntityExceptionHandler.</p>\n</li>\n<li><p>Override the methode handleNoHandlerFoundException and return a ResponseEntity with your custom Error object.</p>\n</li>\n<li><p>Add the following properties in your application.properties file:</p>\n<p>spring.mvc.throw-exception-if-no-handler-found=true</p>\n<p>spring.web.resources.add-mappings=false</p>\n</li>\n</ol>\n"}],"owner":{"account_id":1405071,"reputation":5124,"user_id":1333012,"accept_rate":56,"display_name":"sineverba"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":972,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1686767663,"creation_date":1647795865,"question_id":71548830,"body_markdown":"I want override the Spring Boot default result when calling a not-existing route:\r\n\r\n```json\r\n{\r\n    &quot;timestamp&quot;: &quot;2022-03-20T17:01:07.453+00:00&quot;,\r\n    &quot;status&quot;: 404,\r\n    &quot;error&quot;: &quot;Not Found&quot;,\r\n    &quot;path&quot;: &quot;/api/v1/not-found&quot;\r\n}\r\n```\r\n\r\nI have a `ControllerAdvisor`\r\n\r\n```java\r\n@ControllerAdvice\r\npublic class ControllerAdvisor extends ResponseEntityExceptionHandler {\r\n  @Override\r\n  protected ResponseEntity&lt;Object&gt; handleNoHandlerFoundException(NoHandlerFoundException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\r\n\t  return ResponseEntity.badRequest().body(new ErrorResponse(&quot;path not found&quot;));\r\n  }\r\n}\r\n```\r\n\r\nthat it works for others custom exception.\r\n\r\nI have also added (or removed) this property on application.properties but nothing change:\r\n\r\n`spring.mvc.throw-exception-if-no-handler-found=true`\r\n\r\nSpring boot starter parent is v. 2.6.4","title":"Override the handleNoHandlerFoundException","body":"<p>I want override the Spring Boot default result when calling a not-existing route:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;timestamp&quot;: &quot;2022-03-20T17:01:07.453+00:00&quot;,\n    &quot;status&quot;: 404,\n    &quot;error&quot;: &quot;Not Found&quot;,\n    &quot;path&quot;: &quot;/api/v1/not-found&quot;\n}\n</code></pre>\n<p>I have a <code>ControllerAdvisor</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@ControllerAdvice\npublic class ControllerAdvisor extends ResponseEntityExceptionHandler {\n  @Override\n  protected ResponseEntity&lt;Object&gt; handleNoHandlerFoundException(NoHandlerFoundException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\n      return ResponseEntity.badRequest().body(new ErrorResponse(&quot;path not found&quot;));\n  }\n}\n</code></pre>\n<p>that it works for others custom exception.</p>\n<p>I have also added (or removed) this property on application.properties but nothing change:</p>\n<p><code>spring.mvc.throw-exception-if-no-handler-found=true</code></p>\n<p>Spring boot starter parent is v. 2.6.4</p>\n"},{"tags":["java","algorithm","bit-manipulation","bit-shift","biginteger"],"comments":[{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":3,"creation_date":1686768462,"post_id":76476586,"comment_id":134846104,"body_markdown":"This is an algorithm that you learned in elementary school, maybe you are confusing yourself with the implementation details but the algorithm itself is trivial. How do you multiply 123456 by 8? With this algorithm, probably. Multiply 6 by 8, write down an 8, carry the 4.. that&#39;s what&#39;s happening here but with a higher base.","body":"This is an algorithm that you learned in elementary school, maybe you are confusing yourself with the implementation details but the algorithm itself is trivial. How do you multiply 123456 by 8? With this algorithm, probably. Multiply 6 by 8, write down an 8, carry the 4.. that&#39;s what&#39;s happening here but with a higher base."},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1686771450,"post_id":76476586,"comment_id":134846614,"body_markdown":"Could you please go into more detail ? The internal representation of `12345678901234567890123456789012345678901234567890` looks like `[8, 1920951145, -1426572127, 1344697466, -121114218, -834729262]`. Could you please show an example with a higher base ? **How does the internal representation correlate to the actual number ?**","body":"Could you please go into more detail ? The internal representation of <code>12345678901234567890123456789012345678901234567890</code> looks like <code>[8, 1920951145, -1426572127, 1344697466, -121114218, -834729262]</code>. Could you please show an example with a higher base ? <b>How does the internal representation correlate to the actual number ?</b>"},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1686771498,"post_id":76476586,"comment_id":134846628,"body_markdown":"@harold I am unable to ascertain how this is just a simple multiplication.","body":"@harold I am unable to ascertain how this is just a simple multiplication."},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":0,"creation_date":1686772118,"post_id":76476586,"comment_id":134846726,"body_markdown":"Just as 123 means 3 * 10^0 + 2 * 10^1 + 1 * 10^2, here `int[] { 1, 2, 3 }` would mean 3 * (2^32)^0 + 2 * (2^32)^1 + 1 * (2^32)^2. Limbs with their highest bit set will be presented as being negative, but you&#39;re supposed to interpret them as unsigned values, which the code does by bitwise-ANDing them with `LONG_MASK`","body":"Just as 123 means 3 * 10^0 + 2 * 10^1 + 1 * 10^2, here <code>int[] { 1, 2, 3 }</code> would mean 3 * (2^32)^0 + 2 * (2^32)^1 + 1 * (2^32)^2. Limbs with their highest bit set will be presented as being negative, but you&#39;re supposed to interpret them as unsigned values, which the code does by bitwise-ANDing them with <code>LONG_MASK</code>"},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1686775293,"post_id":76476586,"comment_id":134847270,"body_markdown":"@harold Ok maybe I am beginning to understand a bit. The base of the number is `10^9`, right? Each digit can have `0 - 10^9-1` symbols, right? Each digit is an element in the `int[]` array, right? So just like in decimal to add a digit to its correct position I multiply the partial number I have then add the digit to that, I am multiplying by `10^9` as that is the base we are using. So its `y*10^9 + z`, correct ?","body":"@harold Ok maybe I am beginning to understand a bit. The base of the number is <code>10^9</code>, right? Each digit can have <code>0 - 10^9-1</code> symbols, right? Each digit is an element in the <code>int[]</code> array, right? So just like in decimal to add a digit to its correct position I multiply the partial number I have then add the digit to that, I am multiplying by <code>10^9</code> as that is the base we are using. So its <code>y*10^9 + z</code>, correct ?"},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1686775425,"post_id":76476586,"comment_id":134847286,"body_markdown":"@harold But then I have a confusion about the way the multiplication is being done. **Why is it multiplying each digit with the `radix` ?** That&#39;s not how the algorithm works right ? You are supposed to take the entire number as it is now right ?","body":"@harold But then I have a confusion about the way the multiplication is being done. <b>Why is it multiplying each digit with the <code>radix</code> ?</b> That&#39;s not how the algorithm works right ? You are supposed to take the entire number as it is now right ?"},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":1,"creation_date":1686776256,"post_id":76476586,"comment_id":134847432,"body_markdown":"The base of the number in the `int[]` is `2^32`, the base of the number being parsed is effectively `10^9` (by pulling out 9 digits and parsing them to an `int` first). We multiply the number in the `int[]` by `10^9`, because that&#39;s the base of the number being parsed (effectively), but that multiplication happens in a representation that is base `2^32`.","body":"The base of the number in the <code>int[]</code> is <code>2^32</code>, the base of the number being parsed is effectively <code>10^9</code> (by pulling out 9 digits and parsing them to an <code>int</code> first). We multiply the number in the <code>int[]</code> by <code>10^9</code>, because that&#39;s the base of the number being parsed (effectively), but that multiplication happens in a representation that is base <code>2^32</code>."},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1686860330,"post_id":76476586,"comment_id":134860146,"body_markdown":"@harold Why not just convert base `10` to base `10^9` ? Why convert to base `2^32` ? Keeping it as `10^9` wont even have to change the representation. Each base `10^9` block can be one element in the `mag[]` array. **It seems so much easier. Where am I going wrong ?**","body":"@harold Why not just convert base <code>10</code> to base <code>10^9</code> ? Why convert to base <code>2^32</code> ? Keeping it as <code>10^9</code> wont even have to change the representation. Each base <code>10^9</code> block can be one element in the <code>mag[]</code> array. <b>It seems so much easier. Where am I going wrong ?</b>"},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":1,"creation_date":1686860462,"post_id":76476586,"comment_id":134860172,"body_markdown":"Absolutely, that would be much easier - for conversion to and from a (decimal) string. It would be less efficient to implement arithmetic on that representation, but it&#39;s possible and sometimes done that way. Java&#39;s `BigInteger` doesn&#39;t do it that way.","body":"Absolutely, that would be much easier - for conversion to and from a (decimal) string. It would be less efficient to implement arithmetic on that representation, but it&#39;s possible and sometimes done that way. Java&#39;s <code>BigInteger</code> doesn&#39;t do it that way."},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1686861036,"post_id":76476586,"comment_id":134860293,"body_markdown":"@harold Why do the comments in the code say that the magnitude is stored in `big-endian` format ? Shouldn&#39;t it be `little endian` as it parses the number from `left to right` but stores in the array from `right to left` ?","body":"@harold Why do the comments in the code say that the magnitude is stored in <code>big-endian</code> format ? Shouldn&#39;t it be <code>little endian</code> as it parses the number from <code>left to right</code> but stores in the array from <code>right to left</code> ?"},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":0,"creation_date":1686861135,"post_id":76476586,"comment_id":134860319,"body_markdown":"The most significant part of the number is stored at the lowest index, which is similar to big-endian although I normally only use that terminology for a byte order. That&#39;s why the loops for multiplication and addition are &quot;backwards&quot;.","body":"The most significant part of the number is stored at the lowest index, which is similar to big-endian although I normally only use that terminology for a byte order. That&#39;s why the loops for multiplication and addition are &quot;backwards&quot;."},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1686861158,"post_id":76476586,"comment_id":134860329,"body_markdown":"@harold How is implementing arithmetic on `2^32` easier than `10^9` ?","body":"@harold How is implementing arithmetic on <code>2^32</code> easier than <code>10^9</code> ?"},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1686861432,"post_id":76476586,"comment_id":134860381,"body_markdown":"@harold When you say &quot;lowest index&quot; do you mean `len -1` index or `0` index ?","body":"@harold When you say &quot;lowest index&quot; do you mean <code>len -1</code> index or <code>0</code> index ?"},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":0,"creation_date":1686861544,"post_id":76476586,"comment_id":134860402,"body_markdown":"For the purposes of eg addition and multiplication: if you use base 2^32 you never have to use annoying operations such as modulo by 10^9 or divide by 10^9, just truncation and shift. Even worse, for the purposes of eg `bitCount`, `shiftRight`, `xor`, having a non-power-of-two base would be very annoying. By &quot;lowest index&quot; I just mean zero.","body":"For the purposes of eg addition and multiplication: if you use base 2^32 you never have to use annoying operations such as modulo by 10^9 or divide by 10^9, just truncation and shift. Even worse, for the purposes of eg <code>bitCount</code>, <code>shiftRight</code>, <code>xor</code>, having a non-power-of-two base would be very annoying. By &quot;lowest index&quot; I just mean zero."},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1686905102,"post_id":76476586,"comment_id":134865433,"body_markdown":"@harold Ok, I am unable to understand how the most significant part of the number is in `0` index. For example, take the number `1234567890123456789`, the implementation (verified via debugger) will take `12345` from the left and then put it in the `len - 1` index of the `mag` array. **So it is taking the most significant part of the number and placing it in highest index ie. `len - 1`**. **And isn&#39;t that little endian ?** Where am I going wrong ?","body":"@harold Ok, I am unable to understand how the most significant part of the number is in <code>0</code> index. For example, take the number <code>1234567890123456789</code>, the implementation (verified via debugger) will take <code>12345</code> from the left and then put it in the <code>len - 1</code> index of the <code>mag</code> array. <b>So it is taking the most significant part of the number and placing it in highest index ie. <code>len - 1</code></b>. <b>And isn&#39;t that little endian ?</b> Where am I going wrong ?"},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":0,"creation_date":1686937080,"post_id":76476586,"comment_id":134872231,"body_markdown":"It just looks that way. If you look at the final result, or at how the arithmetic works, you will see that it&#39;s not so. The number in the `int[]` is iteratively changed by multiplying it by 10^9 and adding a chunk from the string. The *first* part of the string that gets added to it, starts at the least significant end of the `int[]` indeed, but then it gets multiplied by 10^9 the most times so it ends up in the most significant part eventually. Try parsing &quot;340282367079394788547243514857164636165&quot;","body":"It just looks that way. If you look at the final result, or at how the arithmetic works, you will see that it&#39;s not so. The number in the <code>int[]</code> is iteratively changed by multiplying it by 10^9 and adding a chunk from the string. The <i>first</i> part of the string that gets added to it, starts at the least significant end of the <code>int[]</code> indeed, but then it gets multiplied by 10^9 the most times so it ends up in the most significant part eventually. Try parsing &quot;340282367079394788547243514857164636165&quot;"},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":0,"creation_date":1686945420,"post_id":76476586,"comment_id":134873550,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/254109/discussion-between-harold-and-ng-newbie).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/254109/discussion-between-harold-and-ng-newbie\">continue this discussion in chat</a>."},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1688415332,"post_id":76476586,"comment_id":135068628,"body_markdown":"@harold Hey I now fully understand the `destructivemuladd` thanks to you. But I still am not entirely sure about why use `10^9` as the radix and not `10^10`. A 32-bit integer in Java can have 10 digits, so why restrict yourself to 9 digits on each iteration ?","body":"@harold Hey I now fully understand the <code>destructivemuladd</code> thanks to you. But I still am not entirely sure about why use <code>10^9</code> as the radix and not <code>10^10</code>. A 32-bit integer in Java can have 10 digits, so why restrict yourself to 9 digits on each iteration ?"},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":0,"creation_date":1688415749,"post_id":76476586,"comment_id":135068686,"body_markdown":"There are some ints that have 10 digits in decimal, but not all numbers that have 10 digits in decimal fit in an int.","body":"There are some ints that have 10 digits in decimal, but not all numbers that have 10 digits in decimal fit in an int."},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1688442092,"post_id":76476586,"comment_id":135071166,"body_markdown":"@harold I don&#39;t understand, can you please elaborate? The 32-bit int can store 10 digits, right? so why place only 9 digits in it? is it to protect against overflows? it slices it up into 9 digits on each iteration, I just feel 10 digits would be a more efficient utilization of space.","body":"@harold I don&#39;t understand, can you please elaborate? The 32-bit int can store 10 digits, right? so why place only 9 digits in it? is it to protect against overflows? it slices it up into 9 digits on each iteration, I just feel 10 digits would be a more efficient utilization of space."},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":1,"creation_date":1688451231,"post_id":76476586,"comment_id":135071967,"body_markdown":"Even when using int in an unsigned way (`parseUnsignedInt` etc), it can still only go up to 4,294,967,295, but 10 digit numbers go up to 9,999,999,999 so over half of them don&#39;t fit","body":"Even when using int in an unsigned way (<code>parseUnsignedInt</code> etc), it can still only go up to 4,294,967,295, but 10 digit numbers go up to 9,999,999,999 so over half of them don&#39;t fit"},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1688730112,"post_id":76476586,"comment_id":135116469,"body_markdown":"@harold I can&#39;t thank you enough. I wish you would just compile these points and add it into an answer.","body":"@harold I can&#39;t thank you enough. I wish you would just compile these points and add it into an answer."}],"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"comment_count":22,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686767525,"creation_date":1686767525,"question_id":76476586,"body_markdown":"I am doing this side project where I try to understand the internal implementation of some of the widely used utility classes in Java.\r\n\r\nI want to know how BigInteger store&#39;s the number internally.\r\n\r\nWhat I found was that it is [using an int\\[\\]][1] for storing the magnitude of a number in &quot;big-endian&quot; format.\r\n\r\nIt does this via the [destructiveMulAdd][2] add function:\r\n\r\n    private static void destructiveMulAdd(int[] x, int y, int z) {\r\n            // Perform the multiplication word by word\r\n            long ylong = y &amp; LONG_MASK;\r\n            long zlong = z &amp; LONG_MASK;\r\n            int len = x.length;\r\n    \r\n            long product = 0;\r\n            long carry = 0;\r\n            for (int i = len-1; i &gt;= 0; i--) {\r\n                product = ylong * (x[i] &amp; LONG_MASK) + carry;\r\n                x[i] = (int)product;\r\n                carry = product &gt;&gt;&gt; 32;\r\n            }\r\n    \r\n            // Perform the addition\r\n            long sum = (x[len-1] &amp; LONG_MASK) + zlong;\r\n            x[len-1] = (int)sum;\r\n            carry = sum &gt;&gt;&gt; 32;\r\n            for (int i = len-2; i &gt;= 0; i--) {\r\n                sum = (x[i] &amp; LONG_MASK) + carry;\r\n                x[i] = (int)sum;\r\n                carry = sum &gt;&gt;&gt; 32;\r\n            }\r\n        }\r\n\r\nWhat is really going on here ?\r\n\r\nUsing a debugger I was able to find out the following things:\r\n\r\n 1. Given a large number: segments of the number are broken down and [converted to integers][3] and sent to this function along with something called a &quot;superRadix&quot; which for base 10 = 10^9\r\n 2. Once in the function both are converted to long [with some masking][4] to preserve the sign bit.\r\n 3. `product` is calculated from the last index of the magnitude array by [multiplying with &quot;superRadix&quot; and adding the carry][5].\r\n 4. The `product` is truncated to an int, ie. only least significant 32-bits from the 64-bit long are stored in `x[i]`.\r\n 5. The most significant bits of the product are shifted 32 places to occupy the place where the product was truncated. That becomes the `carry`.\r\n 6. The operation repeats till the last index of the magnitude array.\r\n\r\nNext the summation phase begins:\r\n\r\n 1. The original segment `zlong` is added with the last content of the magnitude array to form the new `sum`.\r\n 2. The last index is set to the &quot;int truncated&quot; value of the `long sum` ie. only the least significant 32 bits are taken of the 64-bit `sum`.\r\n 3. `carry` is equal to setting `sum` shifted by 32 bits ie. taking the remaining non-truncated 32 bits of the 64 bit `sum`.\r\n 4. For some reason we start from `len-2` of the magnitude array and work backwards. Doing the same truncate and shift for `sum` and `carry`.\r\n\r\n**My questions are as follows:**\r\n\r\n 1. In what way is the array storing the magnitude ? It seems like madness, it is taking the previously calculated value and then multiplying with new segment... ugghh\r\n\r\n 2. Shouldn&#39;t this be **little endian** ? For example given `12345678890123`, it will take the **leftmost** digits and put it `len-1`(last) index of the array. **So isn&#39;t it placing the most significant bits in the least significant array indexes ?**\r\n\r\n 3. What is going on with `superRadix` being 10^9 for base10 ?\r\n\r\n 4. What is the truncate and shift actually doing ? **Is it doing a mod then divide?**\r\n\r\n 5. Just basically how this entire thing is actually working ?\r\n\r\n\r\nI wish there were better documentation of the algorithms used, however there is none I could find hence here I am.\r\n \r\n\r\n  [1]: https://github.com/openjdk/jdk/blob/57b8251241e2044d5039ce162bf4637a9b2e5466/src/java.base/share/classes/java/math/BigInteger.java#L155\r\n  [2]: https://github.com/openjdk/jdk/blob/57b8251241e2044d5039ce162bf4637a9b2e5466/src/java.base/share/classes/java/math/BigInteger.java#L640\r\n  [3]: https://github.com/openjdk/jdk/blob/57b8251241e2044d5039ce162bf4637a9b2e5466/src/java.base/share/classes/java/math/BigInteger.java#L550\r\n  [4]: https://github.com/openjdk/jdk/blob/57b8251241e2044d5039ce162bf4637a9b2e5466/src/java.base/share/classes/java/math/BigInteger.java#L642\r\n  [5]: https://github.com/openjdk/jdk/blob/57b8251241e2044d5039ce162bf4637a9b2e5466/src/java.base/share/classes/java/math/BigInteger.java#L649","title":"java BigInteger - How does destructiveMulAdd convert a number to big endian magnitude?","body":"<p>I am doing this side project where I try to understand the internal implementation of some of the widely used utility classes in Java.</p>\n<p>I want to know how BigInteger store's the number internally.</p>\n<p>What I found was that it is <a href=\"https://github.com/openjdk/jdk/blob/57b8251241e2044d5039ce162bf4637a9b2e5466/src/java.base/share/classes/java/math/BigInteger.java#L155\" rel=\"nofollow noreferrer\">using an int[]</a> for storing the magnitude of a number in &quot;big-endian&quot; format.</p>\n<p>It does this via the <a href=\"https://github.com/openjdk/jdk/blob/57b8251241e2044d5039ce162bf4637a9b2e5466/src/java.base/share/classes/java/math/BigInteger.java#L640\" rel=\"nofollow noreferrer\">destructiveMulAdd</a> add function:</p>\n<pre><code>private static void destructiveMulAdd(int[] x, int y, int z) {\n        // Perform the multiplication word by word\n        long ylong = y &amp; LONG_MASK;\n        long zlong = z &amp; LONG_MASK;\n        int len = x.length;\n\n        long product = 0;\n        long carry = 0;\n        for (int i = len-1; i &gt;= 0; i--) {\n            product = ylong * (x[i] &amp; LONG_MASK) + carry;\n            x[i] = (int)product;\n            carry = product &gt;&gt;&gt; 32;\n        }\n\n        // Perform the addition\n        long sum = (x[len-1] &amp; LONG_MASK) + zlong;\n        x[len-1] = (int)sum;\n        carry = sum &gt;&gt;&gt; 32;\n        for (int i = len-2; i &gt;= 0; i--) {\n            sum = (x[i] &amp; LONG_MASK) + carry;\n            x[i] = (int)sum;\n            carry = sum &gt;&gt;&gt; 32;\n        }\n    }\n</code></pre>\n<p>What is really going on here ?</p>\n<p>Using a debugger I was able to find out the following things:</p>\n<ol>\n<li>Given a large number: segments of the number are broken down and <a href=\"https://github.com/openjdk/jdk/blob/57b8251241e2044d5039ce162bf4637a9b2e5466/src/java.base/share/classes/java/math/BigInteger.java#L550\" rel=\"nofollow noreferrer\">converted to integers</a> and sent to this function along with something called a &quot;superRadix&quot; which for base 10 = 10^9</li>\n<li>Once in the function both are converted to long <a href=\"https://github.com/openjdk/jdk/blob/57b8251241e2044d5039ce162bf4637a9b2e5466/src/java.base/share/classes/java/math/BigInteger.java#L642\" rel=\"nofollow noreferrer\">with some masking</a> to preserve the sign bit.</li>\n<li><code>product</code> is calculated from the last index of the magnitude array by <a href=\"https://github.com/openjdk/jdk/blob/57b8251241e2044d5039ce162bf4637a9b2e5466/src/java.base/share/classes/java/math/BigInteger.java#L649\" rel=\"nofollow noreferrer\">multiplying with &quot;superRadix&quot; and adding the carry</a>.</li>\n<li>The <code>product</code> is truncated to an int, ie. only least significant 32-bits from the 64-bit long are stored in <code>x[i]</code>.</li>\n<li>The most significant bits of the product are shifted 32 places to occupy the place where the product was truncated. That becomes the <code>carry</code>.</li>\n<li>The operation repeats till the last index of the magnitude array.</li>\n</ol>\n<p>Next the summation phase begins:</p>\n<ol>\n<li>The original segment <code>zlong</code> is added with the last content of the magnitude array to form the new <code>sum</code>.</li>\n<li>The last index is set to the &quot;int truncated&quot; value of the <code>long sum</code> ie. only the least significant 32 bits are taken of the 64-bit <code>sum</code>.</li>\n<li><code>carry</code> is equal to setting <code>sum</code> shifted by 32 bits ie. taking the remaining non-truncated 32 bits of the 64 bit <code>sum</code>.</li>\n<li>For some reason we start from <code>len-2</code> of the magnitude array and work backwards. Doing the same truncate and shift for <code>sum</code> and <code>carry</code>.</li>\n</ol>\n<p><strong>My questions are as follows:</strong></p>\n<ol>\n<li><p>In what way is the array storing the magnitude ? It seems like madness, it is taking the previously calculated value and then multiplying with new segment... ugghh</p>\n</li>\n<li><p>Shouldn't this be <strong>little endian</strong> ? For example given <code>12345678890123</code>, it will take the <strong>leftmost</strong> digits and put it <code>len-1</code>(last) index of the array. <strong>So isn't it placing the most significant bits in the least significant array indexes ?</strong></p>\n</li>\n<li><p>What is going on with <code>superRadix</code> being 10^9 for base10 ?</p>\n</li>\n<li><p>What is the truncate and shift actually doing ? <strong>Is it doing a mod then divide?</strong></p>\n</li>\n<li><p>Just basically how this entire thing is actually working ?</p>\n</li>\n</ol>\n<p>I wish there were better documentation of the algorithms used, however there is none I could find hence here I am.</p>\n"},{"tags":["java","jooq"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1686764290,"post_id":76474982,"comment_id":134845400,"body_markdown":"You could define the database table that it uses the sequence as default value","body":"You could define the database table that it uses the sequence as default value"},{"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"score":0,"creation_date":1686764352,"post_id":76474982,"comment_id":134845416,"body_markdown":"Thanks for your comment. Right now, we are moving our remaining Hibernate DAOs to jOOQ. We don&#39;t want to modify the database at this time.","body":"Thanks for your comment. Right now, we are moving our remaining Hibernate DAOs to jOOQ. We don&#39;t want to modify the database at this time."}],"answers":[{"comments":[{"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"score":0,"creation_date":1686879201,"post_id":76476552,"comment_id":134862350,"body_markdown":"Thank you for your post. I will use your first option. We use open-source, so option 2 and 3 are not options for us. I totally agree that option 4 is the best. See comments above.","body":"Thank you for your post. I will use your first option. We use open-source, so option 2 and 3 are not options for us. I totally agree that option 4 is the best. See comments above."},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":1,"creation_date":1686926152,"post_id":76476552,"comment_id":134869994,"body_markdown":"@Oliver: *&quot;We use open-source, so option 2 and 3 are not options for us.&quot;* - Sure, but you might upgrade for other reasons in the future, and then it will be great to remember that there&#39;s a generic option, instead of doing this for every statement. Also, others might find this answer too, and may already be licensed...","body":"@Oliver: <i>&quot;We use open-source, so option 2 and 3 are not options for us.&quot;</i> - Sure, but you might upgrade for other reasons in the future, and then it will be great to remember that there&#39;s a generic option, instead of doing this for every statement. Also, others might find this answer too, and may already be licensed..."}],"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686767242,"creation_date":1686767242,"answer_id":76476552,"question_id":76474982,"body_markdown":"You almost had it with one of your attempts. Write this instead:\r\n\r\n```java\r\ndsl.insertInto(TABLE)\r\n   .set(record)\r\n   .set(TABLE.ID, SEQUENCE.nextval())\r\n   .execute();\r\n```\r\n\r\nThere are also other options:\r\n\r\n- You could turn your `TABLE.ID` column into [a client side computed column][1]\r\n- You could use the [replacement API][2] to auto-transform all your `INSERT` statements to this table and replace any value for the `TABLE.ID` value by `SEQUENCE.nextval()`\r\n- You could use a `DEFAULT` expression on the server, or a trigger\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/3.18/manual/code-generation/codegen-advanced/codegen-config-database/codegen-database-forced-types/codegen-database-forced-types-computed/\r\n  [2]: https://www.jooq.org/doc/3.18/manual/sql-building/model-api/model-api-replacement/","title":"jOOQ query that inserts all values but specify one","body":"<p>You almost had it with one of your attempts. Write this instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>dsl.insertInto(TABLE)\n   .set(record)\n   .set(TABLE.ID, SEQUENCE.nextval())\n   .execute();\n</code></pre>\n<p>There are also other options:</p>\n<ul>\n<li>You could turn your <code>TABLE.ID</code> column into <a href=\"https://www.jooq.org/doc/3.18/manual/code-generation/codegen-advanced/codegen-config-database/codegen-database-forced-types/codegen-database-forced-types-computed/\" rel=\"nofollow noreferrer\">a client side computed column</a></li>\n<li>You could use the <a href=\"https://www.jooq.org/doc/3.18/manual/sql-building/model-api/model-api-replacement/\" rel=\"nofollow noreferrer\">replacement API</a> to auto-transform all your <code>INSERT</code> statements to this table and replace any value for the <code>TABLE.ID</code> value by <code>SEQUENCE.nextval()</code></li>\n<li>You could use a <code>DEFAULT</code> expression on the server, or a trigger</li>\n</ul>\n"}],"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76476552,"answer_count":1,"score":1,"last_activity_date":1686767242,"creation_date":1686755040,"question_id":76474982,"body_markdown":"Is it possible to write an insert query that uses all values from a record but ones that I specify. The use case is that I want to perform an insert of all fields, but specify the ID from a sequence without having to perform multiple queries or specify each field separately.\r\n\r\nConsider the following:\r\n\r\n```java\r\ndsl\r\n    .insertInto(TABLE)\r\n    .values(record)\r\n    .execute();\r\n```\r\n\r\nThat will use all values of `record`. I could specify each field with `set`:\r\n\r\n```java\r\ndsl\r\n    .insertInto(TABLE)\r\n    .set(TABLE.ID, SEQUENCE.nextval())\r\n    ... // Other sets.\r\n    .execute();\r\n```\r\n\r\nOr create a map of the remaining fields, but there must be a better way. Effectively, I want to write something like the following (invalid):\r\n\r\n```java\r\ndsl\r\n    .insertInto(TABLE)\r\n    .values(record)\r\n    .set(TABLE.ID, SEQUENCE.nextval())\r\n    .execute()l\r\n```\r\n\r\nI could do it like:\r\n\r\n```java\r\ndsl\r\n    .insertInto(TABLE)\r\n    .set(TABLE.ID, SEQUENCE.nextval())\r\n    .set(Arrays.stream(ArrayUtils.removeElement(record.fields(), TABLE.ID))\r\n        .map(field -&gt; Map.entry(field, record.getValue(field)))\r\n        .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue)))\r\n    .execute();\r\n```\r\n\r\nI am hoping that there is a better way.","title":"jOOQ query that inserts all values but specify one","body":"<p>Is it possible to write an insert query that uses all values from a record but ones that I specify. The use case is that I want to perform an insert of all fields, but specify the ID from a sequence without having to perform multiple queries or specify each field separately.</p>\n<p>Consider the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>dsl\n    .insertInto(TABLE)\n    .values(record)\n    .execute();\n</code></pre>\n<p>That will use all values of <code>record</code>. I could specify each field with <code>set</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>dsl\n    .insertInto(TABLE)\n    .set(TABLE.ID, SEQUENCE.nextval())\n    ... // Other sets.\n    .execute();\n</code></pre>\n<p>Or create a map of the remaining fields, but there must be a better way. Effectively, I want to write something like the following (invalid):</p>\n<pre class=\"lang-java prettyprint-override\"><code>dsl\n    .insertInto(TABLE)\n    .values(record)\n    .set(TABLE.ID, SEQUENCE.nextval())\n    .execute()l\n</code></pre>\n<p>I could do it like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>dsl\n    .insertInto(TABLE)\n    .set(TABLE.ID, SEQUENCE.nextval())\n    .set(Arrays.stream(ArrayUtils.removeElement(record.fields(), TABLE.ID))\n        .map(field -&gt; Map.entry(field, record.getValue(field)))\n        .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue)))\n    .execute();\n</code></pre>\n<p>I am hoping that there is a better way.</p>\n"},{"tags":["java","spring-boot","swagger"],"owner":{"account_id":24305602,"reputation":53,"user_id":18248397,"display_name":"YasudaYutaka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686767225,"creation_date":1686767225,"question_id":76476550,"body_markdown":"I am currently documenting my API requests, and I have encountered an issue with a request that includes a JsonNode property. I have been attempting to use the @Schema annotation to add a description to this particular field, but unfortunately, it does not seem to be functioning as expected, the description is not appearing on Swagger. The @Schema annotation works properly for other fields in the request.\r\n\r\nExample class:\r\n\r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import io.swagger.v3.oas.annotations.media.Schema;\r\n    \r\n\r\n    public class UserRequest {\r\n         @Schema(name = &quot;name&quot;, description = &quot;Username&quot;, example = &quot;Rafael&quot;)\r\n         private String name;\r\n\r\n         @Schema(name = &quot;params&quot;, description = &quot;Parameters XPTO&quot;)\r\n         private JsonNode params;\r\n    }\r\n\r\nI would appreciate any suggestions on how to make the description visible for the JsonNode property in Swagger.","title":"How to describe a JsonNode property with Swagger annotations","body":"<p>I am currently documenting my API requests, and I have encountered an issue with a request that includes a JsonNode property. I have been attempting to use the @Schema annotation to add a description to this particular field, but unfortunately, it does not seem to be functioning as expected, the description is not appearing on Swagger. The @Schema annotation works properly for other fields in the request.</p>\n<p>Example class:</p>\n<pre><code>import com.fasterxml.jackson.databind.JsonNode;\nimport io.swagger.v3.oas.annotations.media.Schema;\n\n\npublic class UserRequest {\n     @Schema(name = &quot;name&quot;, description = &quot;Username&quot;, example = &quot;Rafael&quot;)\n     private String name;\n\n     @Schema(name = &quot;params&quot;, description = &quot;Parameters XPTO&quot;)\n     private JsonNode params;\n}\n</code></pre>\n<p>I would appreciate any suggestions on how to make the description visible for the JsonNode property in Swagger.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1686767276,"post_id":76476388,"comment_id":134845921,"body_markdown":"SPRING_PROFILES_ACTIVE accepts *multiple* (comma separated) profiles. This seems also a suited use case for [Profile Groups](https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.profiles.groups).","body":"SPRING_PROFILES_ACTIVE accepts <i>multiple</i> (comma separated) profiles. This seems also a suited use case for <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.profiles.groups\" rel=\"nofollow noreferrer\">Profile Groups</a>."}],"answers":[{"comments":[{"owner":{"account_id":4804924,"reputation":1426,"user_id":3880363,"display_name":"krisnik"},"score":0,"creation_date":1686766436,"post_id":76476438,"comment_id":134845776,"body_markdown":"Ok, is there no way where Spring can auto resolve list of required files?","body":"Ok, is there no way where Spring can auto resolve list of required files?"},{"owner":{"account_id":16092544,"reputation":822,"user_id":11615575,"display_name":"Andrei Manolache"},"score":0,"creation_date":1686769257,"post_id":76476438,"comment_id":134846236,"body_markdown":"Can you elaborate? How would spring know what files do you want to load?","body":"Can you elaborate? How would spring know what files do you want to load?"},{"owner":{"account_id":4804924,"reputation":1426,"user_id":3880363,"display_name":"krisnik"},"score":0,"creation_date":1686803115,"post_id":76476438,"comment_id":134850118,"body_markdown":"The way, it auto picks up default and dev if Spring-profile = dev, was checking if providing dev-eu1 will let Spring to pick entire chain of default, dev and dev-eu1. I&#39;ll spend some more time to check the feasibility, if not will go wit this approach for now.","body":"The way, it auto picks up default and dev if Spring-profile = dev, was checking if providing dev-eu1 will let Spring to pick entire chain of default, dev and dev-eu1. I&#39;ll spend some more time to check the feasibility, if not will go wit this approach for now."}],"tags":[],"owner":{"account_id":16092544,"reputation":822,"user_id":11615575,"display_name":"Andrei Manolache"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686766154,"creation_date":1686766154,"answer_id":76476438,"question_id":76476388,"body_markdown":"You can do it by injecting the env variables: `-Dspring.profiles.active=dev,dev-eu1`\r\nThe default profile is picked up by default amoung the others","title":"Load multiple application property files in Springboot","body":"<p>You can do it by injecting the env variables: <code>-Dspring.profiles.active=dev,dev-eu1</code>\nThe default profile is picked up by default amoung the others</p>\n"},{"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686766589,"creation_date":1686766589,"answer_id":76476472,"question_id":76476388,"body_markdown":"Spring Active Profiles is plural you can provide a list of profiles. Either as an environment variable like in the other answer or as an annotation:\r\n\r\n    @Profile({&quot;dev&quot;, &quot;dev-us1&quot;})\r\n\r\nThe `application.properties` file (= default profile) will be loaded in any case.","title":"Load multiple application property files in Springboot","body":"<p>Spring Active Profiles is plural you can provide a list of profiles. Either as an environment variable like in the other answer or as an annotation:</p>\n<pre><code>@Profile({&quot;dev&quot;, &quot;dev-us1&quot;})\n</code></pre>\n<p>The <code>application.properties</code> file (= default profile) will be loaded in any case.</p>\n"}],"owner":{"account_id":4804924,"reputation":1426,"user_id":3880363,"display_name":"krisnik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76476438,"answer_count":2,"score":0,"last_activity_date":1686766589,"creation_date":1686765709,"question_id":76476388,"body_markdown":"I have following property files. \r\n\r\n- application.properties\r\n- application-dev.properties\r\n- application-dev-us1.properties\r\n- application-dev-eu1.properties\r\n\r\nI want to have common dev properties in the dev file and region specific properties in us1 and eu1 files. \r\n\r\nI can load default and specific file properties by providing SPRING_ACTIVE_PROFILE environment variable. But how can I make spring pick up three files, default, dev and dev-us1 ?\r\n","title":"Load multiple application property files in Springboot","body":"<p>I have following property files.</p>\n<ul>\n<li>application.properties</li>\n<li>application-dev.properties</li>\n<li>application-dev-us1.properties</li>\n<li>application-dev-eu1.properties</li>\n</ul>\n<p>I want to have common dev properties in the dev file and region specific properties in us1 and eu1 files.</p>\n<p>I can load default and specific file properties by providing SPRING_ACTIVE_PROFILE environment variable. But how can I make spring pick up three files, default, dev and dev-us1 ?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7789,"page":370,"page_size":100}
