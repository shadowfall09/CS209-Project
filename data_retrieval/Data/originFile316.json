{"items":[{"tags":["java","swing","arraylist"],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689076026,"creation_date":1689076026,"answer_id":76661660,"question_id":76658463,"body_markdown":"Rather than using a collection of `JLabel`s, I suggest using two [JList][1]s, each in its own, separate [JScrollPane][2] and put those two `JScrollPane`s in a `JPanel` with [GridLayout][3].\r\n\r\nHere is a complete example.  \r\n(Note that I simply hard-coded two lists.)\r\n```java\r\nimport java.awt.BorderLayout;\r\nimport java.awt.EventQueue;\r\nimport java.awt.GridLayout;\r\nimport java.util.List;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JList;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JScrollPane;\r\n\r\npublic class TwoLists {\r\n\r\n    private void createAndDisplayGui() {\r\n        JFrame frame = new JFrame();\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.add(createLists(), BorderLayout.CENTER);\r\n        frame.pack();\r\n        frame.setLocationByPlatform(true);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    private JScrollPane createList(List&lt;String&gt; elems) {\r\n        String[] arr = elems.toArray(new String[]{});\r\n        JList&lt;String&gt; list = new JList&lt;String&gt;(arr);\r\n        JScrollPane scrollPane = new JScrollPane(list);\r\n        return scrollPane;\r\n    }\r\n\r\n    private JPanel createLists() {\r\n        JPanel panel = new JPanel(new GridLayout(0, 2));\r\n        panel.add(createList(getOldList()));\r\n        panel.add(createList(getNewList()));\r\n        return panel;\r\n    }\r\n\r\n    private List&lt;String&gt; getNewList() {\r\n        return List.of(&quot;new 0&quot;, &quot;new 1&quot;, &quot;new 2&quot;, &quot;new 3&quot;, &quot;new 4&quot;);\r\n    }\r\n\r\n    private List&lt;String&gt; getOldList() {\r\n        return List.of(&quot;old 0&quot;, &quot;old 1&quot;, &quot;old 2&quot;, &quot;old 3&quot;, &quot;old 4&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(() -&gt; new TwoLists().createAndDisplayGui());\r\n    }\r\n}\r\n```\r\nHere is a screen capture:\r\n\r\n[![screen capture][4]][4]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/components/list.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html\r\n  [3]: https://docs.oracle.com/javase/tutorial/uiswing/layout/grid.html\r\n  [4]: https://i.stack.imgur.com/Dgzo5.png","title":"I&#39;m trying to use GridbagLayout to display 2 columns of JLabels inside of a ScrollPane. What part of my code is stopping the intended results?","body":"<p>Rather than using a collection of <code>JLabel</code>s, I suggest using two <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/list.html\" rel=\"nofollow noreferrer\">JList</a>s, each in its own, separate <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html\" rel=\"nofollow noreferrer\">JScrollPane</a> and put those two <code>JScrollPane</code>s in a <code>JPanel</code> with <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/grid.html\" rel=\"nofollow noreferrer\">GridLayout</a>.</p>\n<p>Here is a complete example.<br />\n(Note that I simply hard-coded two lists.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\nimport java.awt.GridLayout;\nimport java.util.List;\n\nimport javax.swing.JFrame;\nimport javax.swing.JList;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\n\npublic class TwoLists {\n\n    private void createAndDisplayGui() {\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(createLists(), BorderLayout.CENTER);\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JScrollPane createList(List&lt;String&gt; elems) {\n        String[] arr = elems.toArray(new String[]{});\n        JList&lt;String&gt; list = new JList&lt;String&gt;(arr);\n        JScrollPane scrollPane = new JScrollPane(list);\n        return scrollPane;\n    }\n\n    private JPanel createLists() {\n        JPanel panel = new JPanel(new GridLayout(0, 2));\n        panel.add(createList(getOldList()));\n        panel.add(createList(getNewList()));\n        return panel;\n    }\n\n    private List&lt;String&gt; getNewList() {\n        return List.of(&quot;new 0&quot;, &quot;new 1&quot;, &quot;new 2&quot;, &quot;new 3&quot;, &quot;new 4&quot;);\n    }\n\n    private List&lt;String&gt; getOldList() {\n        return List.of(&quot;old 0&quot;, &quot;old 1&quot;, &quot;old 2&quot;, &quot;old 3&quot;, &quot;old 4&quot;);\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(() -&gt; new TwoLists().createAndDisplayGui());\n    }\n}\n</code></pre>\n<p>Here is a screen capture:</p>\n<p><a href=\"https://i.stack.imgur.com/Dgzo5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Dgzo5.png\" alt=\"screen capture\" /></a></p>\n"}],"owner":{"account_id":18259582,"reputation":11,"user_id":13292676,"display_name":"Jacob Williams"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689076413,"creation_date":1689044484,"question_id":76658463,"body_markdown":"I&#39;m working on a program that deals with lists of jobs with a list of contractor names for each job. This part of the program will take two lists, one with an old set of contractor names and one with an updated list of names and display them next to each other. The setup for it is a `JFrame` with a `JScrollPane` inside and a `JPanel` inside the viewport. The `JPanel` uses a `GridBagLayout` to display the two lists with the old list in column 0 and the new list in column 1. When the program runs, the two lists are in the same column. I cannot tell what makes it do this.\r\n```java\r\nprivate void displayUpdateInfoFrame(ParseFullDoc updatedDoc) {\r\n\r\n    // set up the frame\r\n    JFrame updateInfoFrame = new JFrame() {\r\n        {\r\n            setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n            setTitle(&quot;Update Information&quot;);\r\n            getContentPane().setLayout(new GridBagLayout());\r\n            setSize(1250, 600);\r\n        }\r\n    };\r\n    ArrayList&lt;Job&gt; oldJobs = parseFullDoc.getJobList();\r\n    ArrayList&lt;Job&gt; newJobs = filterUpdatedJobs(updatedDoc);\r\n\r\n    final ArrayList&lt;JLabel&gt; jobLabels = new ArrayList&lt;JLabel&gt;();\r\n    final ArrayList&lt;Status&gt; jobLabelStatus = new ArrayList&lt;Status&gt;();\r\n\r\n    GridBagConstraints infoConstraints = new GridBagConstraints();\r\n\r\n    ArrayList&lt;JLabel&gt; newJobLabels = getInfoLabels(JOBSET.NEW, oldJobs, newJobs, jobLabels, jobLabelStatus);\r\n    ArrayList&lt;JLabel&gt; oldJobLabels = getInfoLabels(JOBSET.OLD, oldJobs, newJobs, jobLabels, jobLabelStatus);\r\n\r\n    JScrollPane infoScrollPane = new JScrollPane();\r\n    JPanel infoPanel = new JPanel(new GridBagLayout());\r\n\r\n    for (int oldIndex = 0; oldIndex &lt; oldJobLabels.size(); oldIndex++) {\r\n        infoConstraints.gridx = 0;\r\n        infoConstraints.gridy = oldIndex;\r\n        infoPanel.add(oldJobLabels.get(oldIndex), infoConstraints);\r\n    }\r\n    for (int newIndex = 0; newIndex &lt; newJobLabels.size(); newIndex++) {\r\n        infoConstraints = new GridBagConstraints();\r\n        infoConstraints.gridx = 1;\r\n        infoConstraints.gridy = newIndex;\r\n        infoPanel.add(newJobLabels.get(newIndex), infoConstraints);\r\n    }\r\n    GridBagConstraints infoFrameConstraints = new GridBagConstraints();\r\n    infoFrameConstraints.gridx = 0;\r\n    infoFrameConstraints.gridy = 0;\r\n    infoFrameConstraints.fill = GridBagConstraints.BOTH; // Fill both horizontally and vertically\r\n    infoFrameConstraints.weightx = 1.0; // Expand horizontally\r\n    infoFrameConstraints.weighty = 1.0; // Expand vertically\r\n\r\n    infoScrollPane.setViewportView(infoPanel);\r\n    updateInfoFrame.add(infoScrollPane, infoFrameConstraints);\r\n    updateInfoFrame.setVisible(true);\r\n}\r\n```\r\nI first tried two scroll panes next to each other, but only one showed on the frame. I&#39;ve tried to exclude the scroll pane, with only the `JPanel` inside the frame, but it still shows the two lists in the same column. I&#39;ve tried to add a column in between the two lists, but it still doesn&#39;t show properly.\r\n","title":"I&#39;m trying to use GridbagLayout to display 2 columns of JLabels inside of a ScrollPane. What part of my code is stopping the intended results?","body":"<p>I'm working on a program that deals with lists of jobs with a list of contractor names for each job. This part of the program will take two lists, one with an old set of contractor names and one with an updated list of names and display them next to each other. The setup for it is a <code>JFrame</code> with a <code>JScrollPane</code> inside and a <code>JPanel</code> inside the viewport. The <code>JPanel</code> uses a <code>GridBagLayout</code> to display the two lists with the old list in column 0 and the new list in column 1. When the program runs, the two lists are in the same column. I cannot tell what makes it do this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void displayUpdateInfoFrame(ParseFullDoc updatedDoc) {\n\n    // set up the frame\n    JFrame updateInfoFrame = new JFrame() {\n        {\n            setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n            setTitle(&quot;Update Information&quot;);\n            getContentPane().setLayout(new GridBagLayout());\n            setSize(1250, 600);\n        }\n    };\n    ArrayList&lt;Job&gt; oldJobs = parseFullDoc.getJobList();\n    ArrayList&lt;Job&gt; newJobs = filterUpdatedJobs(updatedDoc);\n\n    final ArrayList&lt;JLabel&gt; jobLabels = new ArrayList&lt;JLabel&gt;();\n    final ArrayList&lt;Status&gt; jobLabelStatus = new ArrayList&lt;Status&gt;();\n\n    GridBagConstraints infoConstraints = new GridBagConstraints();\n\n    ArrayList&lt;JLabel&gt; newJobLabels = getInfoLabels(JOBSET.NEW, oldJobs, newJobs, jobLabels, jobLabelStatus);\n    ArrayList&lt;JLabel&gt; oldJobLabels = getInfoLabels(JOBSET.OLD, oldJobs, newJobs, jobLabels, jobLabelStatus);\n\n    JScrollPane infoScrollPane = new JScrollPane();\n    JPanel infoPanel = new JPanel(new GridBagLayout());\n\n    for (int oldIndex = 0; oldIndex &lt; oldJobLabels.size(); oldIndex++) {\n        infoConstraints.gridx = 0;\n        infoConstraints.gridy = oldIndex;\n        infoPanel.add(oldJobLabels.get(oldIndex), infoConstraints);\n    }\n    for (int newIndex = 0; newIndex &lt; newJobLabels.size(); newIndex++) {\n        infoConstraints = new GridBagConstraints();\n        infoConstraints.gridx = 1;\n        infoConstraints.gridy = newIndex;\n        infoPanel.add(newJobLabels.get(newIndex), infoConstraints);\n    }\n    GridBagConstraints infoFrameConstraints = new GridBagConstraints();\n    infoFrameConstraints.gridx = 0;\n    infoFrameConstraints.gridy = 0;\n    infoFrameConstraints.fill = GridBagConstraints.BOTH; // Fill both horizontally and vertically\n    infoFrameConstraints.weightx = 1.0; // Expand horizontally\n    infoFrameConstraints.weighty = 1.0; // Expand vertically\n\n    infoScrollPane.setViewportView(infoPanel);\n    updateInfoFrame.add(infoScrollPane, infoFrameConstraints);\n    updateInfoFrame.setVisible(true);\n}\n</code></pre>\n<p>I first tried two scroll panes next to each other, but only one showed on the frame. I've tried to exclude the scroll pane, with only the <code>JPanel</code> inside the frame, but it still shows the two lists in the same column. I've tried to add a column in between the two lists, but it still doesn't show properly.</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":7840259,"reputation":2347,"user_id":5927073,"accept_rate":100,"display_name":"beastlyCoder"},"score":0,"creation_date":1598066648,"post_id":63532247,"comment_id":112344473,"body_markdown":"yeah i&#39;m aware of that, i was kind of looking to see if I can get it with streams based practice","body":"yeah i&#39;m aware of that, i was kind of looking to see if I can get it with streams based practice"},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1598066924,"post_id":63532247,"comment_id":112344524,"body_markdown":"what exactly is the question? the order isn&#39;t correct or that the expected output is not what you think it should be? what is it from streams that you are looking for?","body":"what exactly is the question? the order isn&#39;t correct or that the expected output is not what you think it should be? what is it from streams that you are looking for?"},{"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"score":0,"creation_date":1598070531,"post_id":63532247,"comment_id":112344969,"body_markdown":"What is the order in 2nd example  output?","body":"What is the order in 2nd example  output?"}],"answers":[{"tags":[],"owner":{"account_id":6929274,"reputation":5258,"user_id":5319267,"display_name":"Mario Ishac"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1598266494,"creation_date":1598067464,"answer_id":63532332,"question_id":63532247,"body_markdown":"As I had pointed out in the comments using a `LinkedHashSet` would be best here, but for the `Stream`s practice you could do this:\r\n\r\n```\r\npublic static String removeDuplicateLetters(String s) {\r\n    return s.chars().sorted().distinct().collect(\r\n        StringBuilder::new,\r\n        StringBuilder::appendCodePoint,\r\n        StringBuilder::append\r\n    ).toString();\r\n}\r\n```\r\n\r\nNote: `distinct()` comes after `sorted()` in order to optimize the stream, see Holger&#39;s explanation in the comments as well as [this answer][1].\r\n\r\nLot of different things here so I&#39;ll number them:\r\n\r\n1) You can stream the characters of a `String` using `String#chars()` instead of making a `List` where you add all the characters.\r\n\r\n2) To ensure that the resulting string is smallest in lexographical order, we can sort the `IntStream`.\r\n\r\n3) We can convert the `IntStream` back to a `String` by performing a [mutable reduction][2] with a `StringBuilder`. We then convert this `StringBuilder` to our desired string.\r\n\r\nA mutable reduction is the `Stream` way of doing the equivalent of something like:\r\n\r\n```\r\nfor (char ch : newVal) {\r\n    newStr += ch;\r\n}\r\n```\r\n\r\nHowever, this has the added benefit of using a `StringBuilder` for concatenation instead of a `String`. See [this answer][3] as to why this is more performant.\r\n\r\nFor the actual question you have about the conflict of expected vs. observed output: I believe `abcd` is the right answer for the second output, since it is the smallest in lexographical order.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/43807329/5319267\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#Reduction\r\n  [3]: https://stackoverflow.com/a/1532483/5319267","title":"Java 8 Streams Remove Duplicate Letter","body":"<p>As I had pointed out in the comments using a <code>LinkedHashSet</code> would be best here, but for the <code>Stream</code>s practice you could do this:</p>\n<pre><code>public static String removeDuplicateLetters(String s) {\n    return s.chars().sorted().distinct().collect(\n        StringBuilder::new,\n        StringBuilder::appendCodePoint,\n        StringBuilder::append\n    ).toString();\n}\n</code></pre>\n<p>Note: <code>distinct()</code> comes after <code>sorted()</code> in order to optimize the stream, see Holger's explanation in the comments as well as <a href=\"https://stackoverflow.com/a/43807329/5319267\">this answer</a>.</p>\n<p>Lot of different things here so I'll number them:</p>\n<ol>\n<li><p>You can stream the characters of a <code>String</code> using <code>String#chars()</code> instead of making a <code>List</code> where you add all the characters.</p>\n</li>\n<li><p>To ensure that the resulting string is smallest in lexographical order, we can sort the <code>IntStream</code>.</p>\n</li>\n<li><p>We can convert the <code>IntStream</code> back to a <code>String</code> by performing a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#Reduction\" rel=\"nofollow noreferrer\">mutable reduction</a> with a <code>StringBuilder</code>. We then convert this <code>StringBuilder</code> to our desired string.</p>\n</li>\n</ol>\n<p>A mutable reduction is the <code>Stream</code> way of doing the equivalent of something like:</p>\n<pre><code>for (char ch : newVal) {\n    newStr += ch;\n}\n</code></pre>\n<p>However, this has the added benefit of using a <code>StringBuilder</code> for concatenation instead of a <code>String</code>. See <a href=\"https://stackoverflow.com/a/1532483/5319267\">this answer</a> as to why this is more performant.</p>\n<p>For the actual question you have about the conflict of expected vs. observed output: I believe <code>abcd</code> is the right answer for the second output, since it is the smallest in lexographical order.</p>\n"},{"tags":[],"owner":{"account_id":9861972,"reputation":41,"user_id":7304620,"display_name":"JunChen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1598086946,"creation_date":1598086946,"answer_id":63534414,"question_id":63532247,"body_markdown":"    public static void main(String[] args) {\r\n        String string = &quot;cbacdcbc&quot;;\r\n        string.chars()\r\n                .mapToObj(item -&gt; (char) item)\r\n                .collect(Collectors.toSet()).forEach(System.out::print);\r\n\r\n    }\r\nthe output：abcd，hope help you!","title":"Java 8 Streams Remove Duplicate Letter","body":"<pre><code>public static void main(String[] args) {\n    String string = &quot;cbacdcbc&quot;;\n    string.chars()\n            .mapToObj(item -&gt; (char) item)\n            .collect(Collectors.toSet()).forEach(System.out::print);\n\n}\n</code></pre>\n<p>the output：abcd，hope help you!</p>\n"},{"tags":[],"owner":{"account_id":18843013,"reputation":9,"user_id":13744016,"display_name":"Ajay Pant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681381959,"creation_date":1681381959,"answer_id":76004410,"question_id":63532247,"body_markdown":"//1st Approach\r\n\r\n    String input = &quot;aabscs&quot;;\r\n    Arrays.stream(input.split(&quot;&quot;))\r\n          .collect(Collectors.toSet()).forEach(System.out::print);\r\n\r\n\r\n//2nd Approach\r\n\r\n    input.chars()\r\n                .mapToObj(item -&gt; (char) item)\r\n                .collect(Collectors.toSet()).forEach(System.out::print);\r\n\r\n//Output: absc\r\n\r\n\r\n/**\r\nIt can be done in multiple ways, we can also use Map, but I think this is a simple one.\r\n\r\nHope it will help you\r\n*/\r\n    ","title":"Java 8 Streams Remove Duplicate Letter","body":"<p>//1st Approach</p>\n<pre><code>String input = &quot;aabscs&quot;;\nArrays.stream(input.split(&quot;&quot;))\n      .collect(Collectors.toSet()).forEach(System.out::print);\n</code></pre>\n<p>//2nd Approach</p>\n<pre><code>input.chars()\n            .mapToObj(item -&gt; (char) item)\n            .collect(Collectors.toSet()).forEach(System.out::print);\n</code></pre>\n<p>//Output: absc</p>\n<p>/**\nIt can be done in multiple ways, we can also use Map, but I think this is a simple one.</p>\n<p>Hope it will help you\n*/</p>\n"},{"tags":[],"owner":{"account_id":28977176,"reputation":1,"user_id":22195999,"display_name":"siva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689076236,"creation_date":1688835873,"answer_id":76644063,"question_id":63532247,"body_markdown":"```java\r\nList&lt;String&gt; c = Arrays\r\n  .asList(&quot;helloword&quot;.split(&quot;&quot;))\r\n  .stream()\r\n  .distinct()\r\n  .toList();\r\n```","title":"Java 8 Streams Remove Duplicate Letter","body":"<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; c = Arrays\n  .asList(&quot;helloword&quot;.split(&quot;&quot;))\n  .stream()\n  .distinct()\n  .toList();\n</code></pre>\n"}],"owner":{"account_id":7840259,"reputation":2347,"user_id":5927073,"accept_rate":100,"display_name":"beastlyCoder"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3783,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":63532332,"answer_count":4,"score":5,"last_activity_date":1689076236,"creation_date":1598066293,"question_id":63532247,"body_markdown":"I&#39;m trying to apply my knowledge of streams to some leetcode algorithm questions. Here is a general summary of the question: \r\n\r\n&gt; Given a string which contains only lowercase letters, remove duplicate\r\n&gt; letters so that every letter appears once and only once. You must make\r\n&gt; sure your result is the smallest in lexicographical order among all\r\n&gt; possible results.\r\n\r\nExample: \r\n\r\n    Input: &quot;bcabc&quot;\r\n    Output: &quot;abc&quot;\r\n\r\nAnother example: \r\n\r\n    Input: &quot;cbacdcbc&quot;\r\n    Output: &quot;acdb&quot;\r\n\r\nThis seemed like a simple problem, just stream the values into a new list from the string, sort the values, find the distinct values, and then throw it back into a list, and append the list&#39;s value to a string. Here is what I came up with: \r\n\r\n    public String removeDuplicateLetters(String s)\r\n    {\r\n        char[] c = s.toCharArray();\r\n        List&lt;Character&gt; list = new ArrayList&lt;&gt;();\r\n        for(char ch : c) \r\n        {\r\n            list.add(ch);\r\n        }\r\n        \r\n        List&lt;Character&gt; newVal = list.stream().distinct().collect(Collectors.toList()); \r\n        String newStr = &quot;&quot;;\r\n        for(char ch : newVal) \r\n        {\r\n            newStr += ch;\r\n        }\r\n        \r\n        return newStr;\r\n    }\r\n\r\nThe first example is working perfectly, but instead of &quot;acdb&quot; for the second output, I&#39;m getting &quot;abcd&quot;. Why would abcd not be the least lexicographical order? Thanks!","title":"Java 8 Streams Remove Duplicate Letter","body":"<p>I'm trying to apply my knowledge of streams to some leetcode algorithm questions. Here is a general summary of the question:</p>\n<blockquote>\n<p>Given a string which contains only lowercase letters, remove duplicate\nletters so that every letter appears once and only once. You must make\nsure your result is the smallest in lexicographical order among all\npossible results.</p>\n</blockquote>\n<p>Example:</p>\n<pre><code>Input: &quot;bcabc&quot;\nOutput: &quot;abc&quot;\n</code></pre>\n<p>Another example:</p>\n<pre><code>Input: &quot;cbacdcbc&quot;\nOutput: &quot;acdb&quot;\n</code></pre>\n<p>This seemed like a simple problem, just stream the values into a new list from the string, sort the values, find the distinct values, and then throw it back into a list, and append the list's value to a string. Here is what I came up with:</p>\n<pre><code>public String removeDuplicateLetters(String s)\n{\n    char[] c = s.toCharArray();\n    List&lt;Character&gt; list = new ArrayList&lt;&gt;();\n    for(char ch : c) \n    {\n        list.add(ch);\n    }\n    \n    List&lt;Character&gt; newVal = list.stream().distinct().collect(Collectors.toList()); \n    String newStr = &quot;&quot;;\n    for(char ch : newVal) \n    {\n        newStr += ch;\n    }\n    \n    return newStr;\n}\n</code></pre>\n<p>The first example is working perfectly, but instead of &quot;acdb&quot; for the second output, I'm getting &quot;abcd&quot;. Why would abcd not be the least lexicographical order? Thanks!</p>\n"},{"tags":["java","apache-kafka","avro","classcastexception","confluent-schema-registry"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1664232771,"creation_date":1643585677,"answer_id":70919905,"question_id":70919159,"body_markdown":"By default, only generic records are returned. You&#39;ll need to set\r\n\r\n    value.deserializer.specific.avro.reader=true \r\n\r\nOr, use the constant in your consumer configs\r\n\r\n`KafkaAvroDeserializerConfig.SPECIFIC_AVRO_READER_CONFIG` = true","title":"Kafka : ClassCastException: class org.apache.avro.generic.GenericData$Record cannot be cast to class","body":"<p>By default, only generic records are returned. You'll need to set</p>\n<pre><code>value.deserializer.specific.avro.reader=true \n</code></pre>\n<p>Or, use the constant in your consumer configs</p>\n<p><code>KafkaAvroDeserializerConfig.SPECIFIC_AVRO_READER_CONFIG</code> = true</p>\n"},{"tags":[],"owner":{"account_id":7966271,"reputation":11,"user_id":6012415,"display_name":"Adriano V."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689076109,"creation_date":1689076109,"answer_id":76661670,"question_id":70919159,"body_markdown":"We got the same error by deserializing Kafka records with AVRO in Apache Flink. The cause was that we had renamed the namespaces of the POJO objects generated by the AVRO tools. So the namespace of the schema and the POJO object differed.","title":"Kafka : ClassCastException: class org.apache.avro.generic.GenericData$Record cannot be cast to class","body":"<p>We got the same error by deserializing Kafka records with AVRO in Apache Flink. The cause was that we had renamed the namespaces of the POJO objects generated by the AVRO tools. So the namespace of the schema and the POJO object differed.</p>\n"}],"owner":{"account_id":9076374,"reputation":177,"user_id":6757814,"display_name":"Rodjf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9553,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":70919905,"answer_count":2,"score":8,"last_activity_date":1689076109,"creation_date":1643578700,"question_id":70919159,"body_markdown":"I have this exception in the consumer when trying to cast the record.value() into java object :\r\n\r\n    ClassCastException: class org.apache.avro.generic.GenericData$Record cannot be cast  to class [...].PublicActivityRecord (org.apache.avro.generic.GenericData$Record and [...].PublicActivityRecord are in unnamed module of loader &#39;app&#39;)\r\n\r\nThe **producer** sends the java object, which is a user defined type named `PublicActivityRecord`, like this :\r\n\r\n```java\r\nKafkaProducer&lt;String, PublicActivityRecord&gt; producer = new KafkaProducer&lt;&gt;(createKafkaProperties());\r\n\r\n[...]\r\n\r\n    this.producer.send(new ProducerRecord&lt;String, PublicActivityRecord&gt;(myTopic, activityRecord));\r\n    this.producer.flush();\r\n```\r\nAt this point I can see in debug mode that the value of the `ProducerRecord` is indeed of type `PublicActivityRecord`.\r\n\r\nOn the registry server I can see in the log the POST request of the producer sending the schema :\r\n```\r\nRegistering new schema: subject DEV-INF_9325_activityRecord_01-value, version null, id null, type null, schema size 7294 (io.confluent.kafka.schemaregistry.rest.resources.SubjectVersionsResource:262)\r\n[2022-01-28 07:01:35,575] INFO 192.168.36.30 - - [28/janv./2022:06:01:34 +0000] &quot;POST /subjects/DEV-INF_9325_activityRecord_01-value/versions HTTP/1.1&quot; 200 8 &quot;-&quot; &quot;Java/11.0.2&quot; POSTsT (io.confluent.rest-utils.requests:62)\r\n```\r\n\r\nOn the **consumer** side : \r\n\r\n```java\r\nprotected KafkaConsumer&lt;String, PublicActivityRecord&gt; consumer;\r\n\r\n[...]\r\n\r\nconsumer = new KafkaConsumer&lt;&gt;(consumerProperties);\r\nconsumer.subscribe(Stream.of(kafkaConfig.getTopicActivityRecord()).collect(Collectors.toList()));\r\nfinal ConsumerRecords&lt;String, PublicActivityRecord&gt; records = consumer.poll(duration);\r\nrecords.forEach(record -&gt; {\r\n\r\n    [...]\r\n\r\n    PublicActivityRecord activityRecord = record.value();\r\n\r\n```\r\nHere the ClassCastException occurs.\r\n\r\nIn debug mode, I can see that the `record.value` is indeed of type `GenericData$Record`. And it can not be cast to PublicActivityRecord.\r\n\r\nThe serializer/deserilizer keys and values are the same : \r\n```\r\nkey.deserializer=org.apache.kafka.common.serialization.StringDeserializer\r\nvalue.deserializer=io.confluent.kafka.serializers.KafkaAvroDeserializer\r\n```\r\n\r\nAnd in the schema-registry log, I can see the GET request of the consumer :\r\n```\r\n&quot;GET /schemas/ids/3?fetchMaxId=false HTTP/1.1&quot; 200 8447 &quot;-&quot; &quot;Java/11.0.7&quot; GETsT (io.confluent.rest-utils.requests:62)\r\n```\r\n\r\nSo I have checked that :\r\n\r\n 1. the producer sends a message with my own type `PublicActivityRecord`\r\n 2. the message is received in the kafka broker\r\n 3. the producer posts the schema to the schema registry\r\n 4. the message is taken by the consumer \r\n 5. the schema is GET by the consumer from the schema registry\r\n 6. the value of the message is of the unexpected `GenericData$Record`\r\n\r\nThis leads me to the result that what is wrong is in my consumer.\r\n\r\nSo the question is : Why do the consumer get a `GenericData` record instead of the expected `PublicActivityRecord` ?\r\n\r\nAny clue would be much appreciated !","title":"Kafka : ClassCastException: class org.apache.avro.generic.GenericData$Record cannot be cast to class","body":"<p>I have this exception in the consumer when trying to cast the record.value() into java object :</p>\n<pre><code>ClassCastException: class org.apache.avro.generic.GenericData$Record cannot be cast  to class [...].PublicActivityRecord (org.apache.avro.generic.GenericData$Record and [...].PublicActivityRecord are in unnamed module of loader 'app')\n</code></pre>\n<p>The <strong>producer</strong> sends the java object, which is a user defined type named <code>PublicActivityRecord</code>, like this :</p>\n<pre class=\"lang-java prettyprint-override\"><code>KafkaProducer&lt;String, PublicActivityRecord&gt; producer = new KafkaProducer&lt;&gt;(createKafkaProperties());\n\n[...]\n\n    this.producer.send(new ProducerRecord&lt;String, PublicActivityRecord&gt;(myTopic, activityRecord));\n    this.producer.flush();\n</code></pre>\n<p>At this point I can see in debug mode that the value of the <code>ProducerRecord</code> is indeed of type <code>PublicActivityRecord</code>.</p>\n<p>On the registry server I can see in the log the POST request of the producer sending the schema :</p>\n<pre><code>Registering new schema: subject DEV-INF_9325_activityRecord_01-value, version null, id null, type null, schema size 7294 (io.confluent.kafka.schemaregistry.rest.resources.SubjectVersionsResource:262)\n[2022-01-28 07:01:35,575] INFO 192.168.36.30 - - [28/janv./2022:06:01:34 +0000] &quot;POST /subjects/DEV-INF_9325_activityRecord_01-value/versions HTTP/1.1&quot; 200 8 &quot;-&quot; &quot;Java/11.0.2&quot; POSTsT (io.confluent.rest-utils.requests:62)\n</code></pre>\n<p>On the <strong>consumer</strong> side :</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected KafkaConsumer&lt;String, PublicActivityRecord&gt; consumer;\n\n[...]\n\nconsumer = new KafkaConsumer&lt;&gt;(consumerProperties);\nconsumer.subscribe(Stream.of(kafkaConfig.getTopicActivityRecord()).collect(Collectors.toList()));\nfinal ConsumerRecords&lt;String, PublicActivityRecord&gt; records = consumer.poll(duration);\nrecords.forEach(record -&gt; {\n\n    [...]\n\n    PublicActivityRecord activityRecord = record.value();\n\n</code></pre>\n<p>Here the ClassCastException occurs.</p>\n<p>In debug mode, I can see that the <code>record.value</code> is indeed of type <code>GenericData$Record</code>. And it can not be cast to PublicActivityRecord.</p>\n<p>The serializer/deserilizer keys and values are the same :</p>\n<pre><code>key.deserializer=org.apache.kafka.common.serialization.StringDeserializer\nvalue.deserializer=io.confluent.kafka.serializers.KafkaAvroDeserializer\n</code></pre>\n<p>And in the schema-registry log, I can see the GET request of the consumer :</p>\n<pre><code>&quot;GET /schemas/ids/3?fetchMaxId=false HTTP/1.1&quot; 200 8447 &quot;-&quot; &quot;Java/11.0.7&quot; GETsT (io.confluent.rest-utils.requests:62)\n</code></pre>\n<p>So I have checked that :</p>\n<ol>\n<li>the producer sends a message with my own type <code>PublicActivityRecord</code></li>\n<li>the message is received in the kafka broker</li>\n<li>the producer posts the schema to the schema registry</li>\n<li>the message is taken by the consumer</li>\n<li>the schema is GET by the consumer from the schema registry</li>\n<li>the value of the message is of the unexpected <code>GenericData$Record</code></li>\n</ol>\n<p>This leads me to the result that what is wrong is in my consumer.</p>\n<p>So the question is : Why do the consumer get a <code>GenericData</code> record instead of the expected <code>PublicActivityRecord</code> ?</p>\n<p>Any clue would be much appreciated !</p>\n"},{"tags":["java","spring-boot","kotlin","gradle","jira-rest-java-api"],"comments":[{"owner":{"account_id":27123034,"reputation":1993,"user_id":20666497,"display_name":"Albina"},"score":1,"creation_date":1682597533,"post_id":76119446,"comment_id":134242872,"body_markdown":"Should not the artifact name for Spring Boot 3+ be &#39;jakarta.ws.rs:jakarta.ws.rs-api&#39; and not &#39;javax.ws.rs:javax.ws.rs-api&#39;?","body":"Should not the artifact name for Spring Boot 3+ be &#39;jakarta.ws.rs:jakarta.ws.rs-api&#39; and not &#39;javax.ws.rs:javax.ws.rs-api&#39;?"},{"owner":{"account_id":380582,"reputation":15578,"user_id":734687,"accept_rate":83,"display_name":"ChrLipp"},"score":0,"creation_date":1682598279,"post_id":76119446,"comment_id":134243076,"body_markdown":"This JAR doesn&#39;t contain `javax.ws.rs.core.UriBuilder`, it contains `jakarta.ws.rs.core.UriBuilder` - therefor the dependency is not fulfilled.","body":"This JAR doesn&#39;t contain <code>javax.ws.rs.core.UriBuilder</code>, it contains <code>jakarta.ws.rs.core.UriBuilder</code> - therefor the dependency is not fulfilled."},{"owner":{"account_id":27123034,"reputation":1993,"user_id":20666497,"display_name":"Albina"},"score":0,"creation_date":1682599002,"post_id":76119446,"comment_id":134243297,"body_markdown":"Not necessarily, for version 2.1.x the package name is javax.ws.rs.core, even though the artifact name starts with &#39;jakarta&#39;. Please check https://mvnrepository.com/artifact/jakarta.ws.rs/jakarta.ws.rs-api/2.1.4\nTherefore it might be suitable for the requirement from JiraRestClient.","body":"Not necessarily, for version 2.1.x the package name is javax.ws.rs.core, even though the artifact name starts with &#39;jakarta&#39;. Please check <a href=\"https://mvnrepository.com/artifact/jakarta.ws.rs/jakarta.ws.rs-api/2.1.4\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/jakarta.ws.rs/jakarta.ws.rs-api/&hellip;</a> Therefore it might be suitable for the requirement from JiraRestClient."},{"owner":{"account_id":380582,"reputation":15578,"user_id":734687,"accept_rate":83,"display_name":"ChrLipp"},"score":0,"creation_date":1682601049,"post_id":76119446,"comment_id":134243868,"body_markdown":"@Albina I imported `jakarta.ws.rs:jakarta.ws.rs-api` and looked into it, there is no `javax.ws.rs.core.UriBuilder`, there is only a `jakarta.ws.rs.core.UriBuilder`","body":"@Albina I imported <code>jakarta.ws.rs:jakarta.ws.rs-api</code> and looked into it, there is no <code>javax.ws.rs.core.UriBuilder</code>, there is only a <code>jakarta.ws.rs.core.UriBuilder</code>"},{"owner":{"account_id":380582,"reputation":15578,"user_id":734687,"accept_rate":83,"display_name":"ChrLipp"},"score":0,"creation_date":1682601214,"post_id":76119446,"comment_id":134243925,"body_markdown":"But maybe is your first comment the answer: I am not able to update to Spring Boot 3.x until JiraRestClient upgraded to `jakarta.ws.rs.core.UriBuilder`","body":"But maybe is your first comment the answer: I am not able to update to Spring Boot 3.x until JiraRestClient upgraded to <code>jakarta.ws.rs.core.UriBuilder</code>"}],"answers":[{"tags":[],"owner":{"account_id":1490931,"reputation":410,"user_id":1398030,"display_name":"Madhawa Gunasekara"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682601612,"creation_date":1682595434,"answer_id":76119926,"question_id":76119446,"body_markdown":"The reason is I think according to the Spring-Boot Release Notes (https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Release-Notes), it is clearly mentioned it has been migrated from Java EE to Jakarta EE APIs (in this case javax.ws.rs and your Spring-Boot version is Spring Boot 3.0.6). \r\n\r\n&gt; Spring Boot 3.0 has migrated from Java EE to Jakarta EE APIs for all dependencies. Wherever possible, Jakarta EE 10 compatible dependencies have been chosen, including:\r\n\r\nIt has further included the compatible version to use is `Jakarta WS RS 3.1`\r\n\r\n\r\n\r\n\r\n\r\n","title":"Strange Issues with javax.ws.rs.core.UriBuilder","body":"<p>The reason is I think according to the Spring-Boot Release Notes (<a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Release-Notes\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Release-Notes</a>), it is clearly mentioned it has been migrated from Java EE to Jakarta EE APIs (in this case javax.ws.rs and your Spring-Boot version is Spring Boot 3.0.6).</p>\n<blockquote>\n<p>Spring Boot 3.0 has migrated from Java EE to Jakarta EE APIs for all dependencies. Wherever possible, Jakarta EE 10 compatible dependencies have been chosen, including:</p>\n</blockquote>\n<p>It has further included the compatible version to use is <code>Jakarta WS RS 3.1</code></p>\n"},{"tags":[],"owner":{"account_id":2749661,"reputation":51,"user_id":2369326,"accept_rate":100,"display_name":"Remon Sinnema"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686814787,"creation_date":1686814787,"answer_id":76480158,"question_id":76119446,"body_markdown":"If you can live with it, you can set the `jersey.version` property in your `build.gradle` or `pom.xml` to `2.35`.\r\n","title":"Strange Issues with javax.ws.rs.core.UriBuilder","body":"<p>If you can live with it, you can set the <code>jersey.version</code> property in your <code>build.gradle</code> or <code>pom.xml</code> to <code>2.35</code>.</p>\n"},{"tags":[],"owner":{"account_id":14642144,"reputation":61,"user_id":10574499,"display_name":"suno3"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1689075954,"creation_date":1689075954,"answer_id":76661651,"question_id":76119446,"body_markdown":"I tested it In Spring boot 3.0.6\r\n\r\nbuild.gradle\r\n```\r\ndependencies {\r\n    implementation(&quot;com.atlassian.jira:jira-rest-java-client-core:5.2.5&quot;) {\r\n        exclude(group = &quot;org.glassfish.jersey.core&quot;, module = &quot;jersey-common&quot;)\r\n    }\r\n    implementation(&quot;org.glassfish.jersey.core:jersey-common:2.27&quot;)\r\n    compileOnly(&quot;io.atlassian.fugue:fugue:5.0.0&quot;)\r\n}\r\n```\r\nFirst, exclude `org.glassfish.jersey.core:jersey-common` from `jira-rest-java-client-core` \r\n\r\nThen, make version of `org.glassfish.jersey.core:jersey-common` down to 2.27 which has `javax.ws.rs:javax.ws.rs-api`\r\n\r\nJira api doesn&#39;t update javax to jakarta yet, so we can solve like above.","title":"Strange Issues with javax.ws.rs.core.UriBuilder","body":"<p>I tested it In Spring boot 3.0.6</p>\n<p>build.gradle</p>\n<pre><code>dependencies {\n    implementation(&quot;com.atlassian.jira:jira-rest-java-client-core:5.2.5&quot;) {\n        exclude(group = &quot;org.glassfish.jersey.core&quot;, module = &quot;jersey-common&quot;)\n    }\n    implementation(&quot;org.glassfish.jersey.core:jersey-common:2.27&quot;)\n    compileOnly(&quot;io.atlassian.fugue:fugue:5.0.0&quot;)\n}\n</code></pre>\n<p>First, exclude <code>org.glassfish.jersey.core:jersey-common</code> from <code>jira-rest-java-client-core</code></p>\n<p>Then, make version of <code>org.glassfish.jersey.core:jersey-common</code> down to 2.27 which has <code>javax.ws.rs:javax.ws.rs-api</code></p>\n<p>Jira api doesn't update javax to jakarta yet, so we can solve like above.</p>\n"}],"owner":{"account_id":380582,"reputation":15578,"user_id":734687,"accept_rate":83,"display_name":"ChrLipp"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2204,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76119926,"answer_count":3,"score":3,"last_activity_date":1689075954,"creation_date":1682591877,"question_id":76119446,"body_markdown":"Today I updated a command line application to Spring Boot 3.0.6\r\n\r\nI receive a `BeanCreationException` exception when starting the application. Reason is\r\n\r\n    Caused by: java.lang.ClassNotFoundException: javax.ws.rs.core.UriBuilder\r\n\r\nwhich is needed internaly by `com.atlassian.jira.rest.client.api.JiraRestClient`. In IDEA, when I search for `javax.ws.rs.core.UriBuilder` I do not find any class.\r\n\r\nSo I included \r\n\r\n\timplementation &#39;javax.ws.rs:javax.ws.rs-api:2.1.1&#39;\r\n\r\nin my Gradle build. Now I receive a\r\n\r\n```\r\nCaused by: java.lang.LinkageError: ClassCastException: attempting to cast\r\njar:file:/XXX/.gradle/caches/modules-2/files-2.1/javax.ws.rs/javax.ws.rs-api/2.1.1/d3466bc9321fe84f268a1adb3b90373fc14b0eb5/javax.ws.rs-api-2.1.1.jar!/javax/ws/rs/ext/RuntimeDelegate.class to\r\njar:file:/XXX/.gradle/caches/modules-2/files-2.1/javax.ws.rs/javax.ws.rs-api/2.1.1/d3466bc9321fe84f268a1adb3b90373fc14b0eb5/javax.ws.rs-api-2.1.1.jar!/javax/ws/rs/ext/RuntimeDelegate.class\r\n```\r\n\r\nboth lines/files are identically.\r\n\r\nThings I tried so far:\r\n\r\n- Checking for different versions of `javax.ws.rs` with `gradlew dependencies`\r\n- Clean build\r\n\r\nHas anyone an idea how to solve this and why is UriBuilder gone at all?","title":"Strange Issues with javax.ws.rs.core.UriBuilder","body":"<p>Today I updated a command line application to Spring Boot 3.0.6</p>\n<p>I receive a <code>BeanCreationException</code> exception when starting the application. Reason is</p>\n<pre><code>Caused by: java.lang.ClassNotFoundException: javax.ws.rs.core.UriBuilder\n</code></pre>\n<p>which is needed internaly by <code>com.atlassian.jira.rest.client.api.JiraRestClient</code>. In IDEA, when I search for <code>javax.ws.rs.core.UriBuilder</code> I do not find any class.</p>\n<p>So I included</p>\n<pre><code>implementation 'javax.ws.rs:javax.ws.rs-api:2.1.1'\n</code></pre>\n<p>in my Gradle build. Now I receive a</p>\n<pre><code>Caused by: java.lang.LinkageError: ClassCastException: attempting to cast\njar:file:/XXX/.gradle/caches/modules-2/files-2.1/javax.ws.rs/javax.ws.rs-api/2.1.1/d3466bc9321fe84f268a1adb3b90373fc14b0eb5/javax.ws.rs-api-2.1.1.jar!/javax/ws/rs/ext/RuntimeDelegate.class to\njar:file:/XXX/.gradle/caches/modules-2/files-2.1/javax.ws.rs/javax.ws.rs-api/2.1.1/d3466bc9321fe84f268a1adb3b90373fc14b0eb5/javax.ws.rs-api-2.1.1.jar!/javax/ws/rs/ext/RuntimeDelegate.class\n</code></pre>\n<p>both lines/files are identically.</p>\n<p>Things I tried so far:</p>\n<ul>\n<li>Checking for different versions of <code>javax.ws.rs</code> with <code>gradlew dependencies</code></li>\n<li>Clean build</li>\n</ul>\n<p>Has anyone an idea how to solve this and why is UriBuilder gone at all?</p>\n"},{"tags":["java","big-o","average","cost-management"],"comments":[{"owner":{"account_id":967624,"reputation":10828,"user_id":990750,"accept_rate":50,"display_name":"Tarik"},"score":0,"creation_date":1689075282,"post_id":76661533,"comment_id":135158847,"body_markdown":"Average n/2, worse n, best 1; n being the length of the array. So it&#39;s O(n).","body":"Average n/2, worse n, best 1; n being the length of the array. So it&#39;s O(n)."},{"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"score":0,"creation_date":1689078705,"post_id":76661533,"comment_id":135159565,"body_markdown":"@Tarik that &quot;average&quot; is somewhat comparable to the 50% chance of being capable to fly by waving your hands.","body":"@Tarik that &quot;average&quot; is somewhat comparable to the 50% chance of being capable to fly by waving your hands."},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1689088409,"post_id":76661533,"comment_id":135162145,"body_markdown":"It&#39;s not possible for the formula `2 + 3(j+1)` to yield a value of 15 assuming the *zeitliche kosten* column is one of expected results of the formula.","body":"It&#39;s not possible for the formula <code>2 + 3(j+1)</code> to yield a value of 15 assuming the <i>zeitliche kosten</i> column is one of expected results of the formula."}],"answers":[{"tags":[],"owner":{"account_id":967624,"reputation":10828,"user_id":990750,"accept_rate":50,"display_name":"Tarik"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1689075604,"creation_date":1689075604,"answer_id":76661604,"question_id":76661533,"body_markdown":"T avg(n) = sum[p(x) * T(x)]\r\n\r\n= 1/n + 2/n +...+ (n-1)/n + n\r\n\r\n= 1/n (1+2+...n)\r\n\r\n= n(n+1)/2n = (n+1) / 2","title":"How many operations are required to find &quot;c&quot;?","body":"<p>T avg(n) = sum[p(x) * T(x)]</p>\n<p>= 1/n + 2/n +...+ (n-1)/n + n</p>\n<p>= 1/n (1+2+...n)</p>\n<p>= n(n+1)/2n = (n+1) / 2</p>\n"}],"owner":{"account_id":28493109,"reputation":11,"user_id":21805447,"display_name":"Brogrammer31"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76661604,"answer_count":1,"score":-1,"last_activity_date":1689075604,"creation_date":1689075095,"question_id":76661533,"body_markdown":"[![Please ignore the comments from line 2 - 5!](https://i.stack.imgur.com/gy7We.png)](https://i.stack.imgur.com/gy7We.png)\r\n\r\nHello, in the image you see a very simple algorithm of a contains function, which should just switch from boolean false to boolean true, if c is in the array[] a.\r\n\r\nNow i want to calculate the average case of this algorithm. \r\nBest case and worst case are easy to look through, but i am quite unsure how to get to the average one.\r\n\r\nThe array[] a hat n elements and c should be at index i. \r\n\r\n\r\nSo far, i know:\r\nT avg(n) = sum[p(x) * T(x)], where p(x) stands for the probability, to get input x.\r\n\r\n# *First of all i have to count the elementary operations, to find c. *\r\nTbh, i struggle there and can&#39;t get behind it. \r\nAs far as i know, from colleagues and my prof, the amount of elementary operations to find c is:\r\n**T n,j = 2 + 3(j + 1)**.\r\n\r\nIt would be much appreciated, if anyone could be explain to me why it&#39;s 2 + 3(j + 1).\r\n\r\nMy guess is that **2** comes from \r\n1. boolean res = false; (line 6) \r\n2. int i = 0; (line 7) \r\n\r\nIf that&#39;s correct (what i don&#39;t consider it to be) where does the **3** come from?\r\nI don&#39;t have to go through the array 3 times, because n is 4 (or do i?).\r\n\r\nAny help is much appreciated, because i really can&#39;t get behind that 2 + 3(j + 1).\r\nThank you!\r\n","title":"How many operations are required to find &quot;c&quot;?","body":"<p><a href=\"https://i.stack.imgur.com/gy7We.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gy7We.png\" alt=\"Please ignore the comments from line 2 - 5!\" /></a></p>\n<p>Hello, in the image you see a very simple algorithm of a contains function, which should just switch from boolean false to boolean true, if c is in the array[] a.</p>\n<p>Now i want to calculate the average case of this algorithm.\nBest case and worst case are easy to look through, but i am quite unsure how to get to the average one.</p>\n<p>The array[] a hat n elements and c should be at index i.</p>\n<p>So far, i know:\nT avg(n) = sum[p(x) * T(x)], where p(x) stands for the probability, to get input x.</p>\n<h1>*First of all i have to count the elementary operations, to find c. *</h1>\n<p>Tbh, i struggle there and can't get behind it.\nAs far as i know, from colleagues and my prof, the amount of elementary operations to find c is:\n<strong>T n,j = 2 + 3(j + 1)</strong>.</p>\n<p>It would be much appreciated, if anyone could be explain to me why it's 2 + 3(j + 1).</p>\n<p>My guess is that <strong>2</strong> comes from</p>\n<ol>\n<li>boolean res = false; (line 6)</li>\n<li>int i = 0; (line 7)</li>\n</ol>\n<p>If that's correct (what i don't consider it to be) where does the <strong>3</strong> come from?\nI don't have to go through the array 3 times, because n is 4 (or do i?).</p>\n<p>Any help is much appreciated, because i really can't get behind that 2 + 3(j + 1).\nThank you!</p>\n"},{"tags":["java","flyway"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1585560421,"post_id":44032229,"comment_id":107792662,"body_markdown":"When using `classpath` remove `src/main/java` as that is the classpath.","body":"When using <code>classpath</code> remove <code>src&#47;main&#47;java</code> as that is the classpath."}],"answers":[{"tags":[],"owner":{"account_id":2568475,"reputation":422,"user_id":2227869,"display_name":"Florian E."},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1495204945,"creation_date":1495204945,"answer_id":44072933,"question_id":44032229,"body_markdown":"&#39;classpath&#39; means really classpath and you can not extend your classpath with a path.\r\n\r\nWhen I see your classpath declaration than I think your migration will be packaged in a jar with the path &#39;&lt;code&gt;com/some1/some2/some3/database/migration&lt;/code&gt;&#39;\r\n\r\n=&gt; so your classpath configuration must be look like: \r\n&lt;pre&gt;classpath:com/some1/some2/some3/database/migration&lt;/pre&gt;\r\n\r\nIf you use SQL file based migration I have better experience with &lt;code&gt;src/main/resources&lt;/code&gt; as base location.   ","title":"FlyWayDB - Unable to resolve location classpath","body":"<p>'classpath' means really classpath and you can not extend your classpath with a path.</p>\n\n<p>When I see your classpath declaration than I think your migration will be packaged in a jar with the path '<code>com/some1/some2/some3/database/migration</code>'</p>\n\n<p>=> so your classpath configuration must be look like: </p>\n\n<pre>classpath:com/some1/some2/some3/database/migration</pre>\n\n<p>If you use SQL file based migration I have better experience with <code>src/main/resources</code> as base location.   </p>\n"},{"tags":[],"owner":{"account_id":14263500,"reputation":1,"user_id":10303464,"display_name":"Sharath Dharmala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535805593,"creation_date":1535801628,"answer_id":52127705,"question_id":44032229,"body_markdown":"Instead of creation complete package for DB migrate scripts, suggested to create a folder at java build path`Project -&gt; Properties -&gt; SourceTab -&gt; AddFolder` it takes the scripts to classpath with the desired folder name and keeps that name into your JavaClass \r\n\r\n*&quot;classpath:foldername&quot;*","title":"FlyWayDB - Unable to resolve location classpath","body":"<p>Instead of creation complete package for DB migrate scripts, suggested to create a folder at java build path<code>Project -&gt; Properties -&gt; SourceTab -&gt; AddFolder</code> it takes the scripts to classpath with the desired folder name and keeps that name into your JavaClass </p>\n\n<p><em>\"classpath:foldername\"</em></p>\n"},{"tags":[],"owner":{"account_id":2454231,"reputation":1496,"user_id":2139804,"accept_rate":70,"display_name":"Tinki"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1585559999,"creation_date":1585559999,"answer_id":60927427,"question_id":44032229,"body_markdown":"I struggled with the same problem for a couple of days. What finally helped me was to modify `pom.xml`, so that`&lt;build&gt;` node lists all locations with property files:\r\n\r\n    &lt;project...&gt;\r\n      ...\r\n      &lt;build&gt;\r\n         &lt;resources&gt;\r\n            ...\r\n            &lt;resource&gt;\r\n               &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n               &lt;includes&gt;\r\n                 &lt;include&gt;*.*&lt;/include&gt;\r\n                 &lt;include&gt;sql/migration/*&lt;/include&gt;\r\n               &lt;/includes&gt;\r\n            &lt;/resource&gt;\r\n         &lt;/resources&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;","title":"FlyWayDB - Unable to resolve location classpath","body":"<p>I struggled with the same problem for a couple of days. What finally helped me was to modify <code>pom.xml</code>, so that<code>&lt;build&gt;</code> node lists all locations with property files:</p>\n\n<pre><code>&lt;project...&gt;\n  ...\n  &lt;build&gt;\n     &lt;resources&gt;\n        ...\n        &lt;resource&gt;\n           &lt;directory&gt;src/main/resources&lt;/directory&gt;\n           &lt;includes&gt;\n             &lt;include&gt;*.*&lt;/include&gt;\n             &lt;include&gt;sql/migration/*&lt;/include&gt;\n           &lt;/includes&gt;\n        &lt;/resource&gt;\n     &lt;/resources&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14984953,"reputation":19,"user_id":10817791,"display_name":"sayedali musavi Khoeini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689075592,"creation_date":1689075592,"answer_id":76661600,"question_id":44032229,"body_markdown":"Verify the classpath. In place of **db/migration**, I made **db.migration**","title":"FlyWayDB - Unable to resolve location classpath","body":"<p>Verify the classpath. In place of <strong>db/migration</strong>, I made <strong>db.migration</strong></p>\n"}],"owner":{"account_id":9761986,"reputation":679,"user_id":7236804,"accept_rate":71,"display_name":"newOne"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19137,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":4,"score":10,"last_activity_date":1689075592,"creation_date":1495045315,"question_id":44032229,"body_markdown":"i have problem to setting location with the classpath in FLyway, when I use with the filesystem its working properly. \r\n\r\nExample:\r\n\r\nThis working:\r\n`this.setLocations(&quot;filesystem:C:\\\\Projects\\\\ProjectName\\\\src\\\\main\\\\java\\\\com\\\\some1\\\\some2\\\\some3\\\\database\\\\migration&quot;);`\r\n\r\n This NOT working(I try delimiters: &quot;\\\\&quot;, &quot;.&quot;, &quot;/&quot;):       `this.setLocations(&quot;classpath:ProjectName/src/main/java/com/some1/some2/some3/database/migration&quot;);`\r\n\r\nWhen not working, its throwing error: \r\n\r\n&gt; [WARNING] [] [org.flywaydb.core.internal.util.scanner.classpath.ClassPathScanner] [tid: _ThreadID=19 _ThreadName=RunLevelControllerThread-xx] [timeMillis: 1495044249009] [levelValue: 900] [[ Unable to resolve location classpath: ProjectName/src/main/java/com/some1/some2/some3/database/migration]]\r\n\r\nI try some delimiters as above, without key word &quot;classpath&quot;, and always when I want to use classpath its throwing &quot;Unable to resolve location ...&quot;. \r\n\r\nI use flyway ver 4.1.2 and by JavaAPI(https://flywaydb.org/getstarted/firststeps/api)\r\n\r\nedit./\r\nWhen I change location of migrating sql files and name of directory on default for Flyway, and not setting location, its working fine. So, conclusion is that I wrong wrote the classpath, but what i do wrong? \r\n\r\nDefault configuration:\r\n1. main/resources/**db**/**migration** &lt; default folder for sql files to migrate\r\n2. not setting location\r\n\r\nSome suggestion?\r\n","title":"FlyWayDB - Unable to resolve location classpath","body":"<p>i have problem to setting location with the classpath in FLyway, when I use with the filesystem its working properly. </p>\n\n<p>Example:</p>\n\n<p>This working:\n<code>this.setLocations(\"filesystem:C:\\\\Projects\\\\ProjectName\\\\src\\\\main\\\\java\\\\com\\\\some1\\\\some2\\\\some3\\\\database\\\\migration\");</code></p>\n\n<p>This NOT working(I try delimiters: \"\\\", \".\", \"/\"):       <code>this.setLocations(\"classpath:ProjectName/src/main/java/com/some1/some2/some3/database/migration\");</code></p>\n\n<p>When not working, its throwing error: </p>\n\n<blockquote>\n  <p>[WARNING] [] [org.flywaydb.core.internal.util.scanner.classpath.ClassPathScanner] [tid: _ThreadID=19 _ThreadName=RunLevelControllerThread-xx] [timeMillis: 1495044249009] [levelValue: 900] [[ Unable to resolve location classpath: ProjectName/src/main/java/com/some1/some2/some3/database/migration]]</p>\n</blockquote>\n\n<p>I try some delimiters as above, without key word \"classpath\", and always when I want to use classpath its throwing \"Unable to resolve location ...\". </p>\n\n<p>I use flyway ver 4.1.2 and by JavaAPI(<a href=\"https://flywaydb.org/getstarted/firststeps/api\" rel=\"noreferrer\">https://flywaydb.org/getstarted/firststeps/api</a>)</p>\n\n<p>edit./\nWhen I change location of migrating sql files and name of directory on default for Flyway, and not setting location, its working fine. So, conclusion is that I wrong wrote the classpath, but what i do wrong? </p>\n\n<p>Default configuration:\n1. main/resources/<strong>db</strong>/<strong>migration</strong> &lt; default folder for sql files to migrate\n2. not setting location</p>\n\n<p>Some suggestion?</p>\n"},{"tags":["java","email","bcc","greenmail"],"answers":[{"tags":[],"owner":{"account_id":2111849,"reputation":1037,"user_id":1876980,"accept_rate":86,"display_name":"Stephen M -on strike-"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1508972755,"creation_date":1508972755,"answer_id":46943352,"question_id":46940674,"body_markdown":"I found the answer on this blog:\r\n\r\nhttps://developer.vz.net/2011/11/08/unit-testing-java-mail-code/\r\n\r\nThe short version is to use a user and get the message from his inbox instead of getting the message from the server as a whole.  Then you know it came to that email address.\r\n\r\n    GreenMailUser user = mailServer.setUser(&quot;junk@somewhere.com&quot;, &quot;&quot;);\r\n    MailFolder inbox = mailServer.getManagers().getImapHostManager().getInbox(user);\r\n    for(StoredMessage message : inbox.getMessages()) {\r\n       // Verify the messages\r\n    }","title":"GreenMail not returning BCC recipient addresses","body":"<p>I found the answer on this blog:</p>\n\n<p><a href=\"https://developer.vz.net/2011/11/08/unit-testing-java-mail-code/\" rel=\"nofollow noreferrer\">https://developer.vz.net/2011/11/08/unit-testing-java-mail-code/</a></p>\n\n<p>The short version is to use a user and get the message from his inbox instead of getting the message from the server as a whole.  Then you know it came to that email address.</p>\n\n<pre><code>GreenMailUser user = mailServer.setUser(\"junk@somewhere.com\", \"\");\nMailFolder inbox = mailServer.getManagers().getImapHostManager().getInbox(user);\nfor(StoredMessage message : inbox.getMessages()) {\n   // Verify the messages\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1780708,"reputation":1054,"user_id":1623538,"accept_rate":50,"display_name":"Nos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689075463,"creation_date":1689075463,"answer_id":76661583,"question_id":46940674,"body_markdown":"Because Greenmail won&#39;t tell us who got Bcc&#39;d, we have to determine it ourselves by the process of elimination.\r\n   \r\nFor the given email\r\n\r\n - Find out the email addresses that have received the email (based on\r\n   message id).\r\n- Remove the toRecipients from this list.\r\n- Remove the ccRecipients from this list.\r\n\r\n```\r\nimport com.icegreen.greenmail.spring.GreenMailBean;\r\nimport com.icegreen.greenmail.store.FolderException;\r\nimport com.icegreen.greenmail.store.MailFolder;\r\nimport com.icegreen.greenmail.store.StoredMessage;\r\nimport com.icegreen.greenmail.user.GreenMailUser;\r\nimport jakarta.mail.BodyPart;\r\nimport jakarta.mail.MessagingException;\r\nimport jakarta.mail.internet.MimeMessage;\r\nimport jakarta.mail.internet.MimeMultipart;\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.Collection;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Map.Entry;\r\nimport java.util.Optional;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class MailExtractor {\r\n\r\n  private final GreenMailBean greenMailBean;\r\n\r\n  public MailExtractor(GreenMailBean greenMailBean) {\r\n    this.greenMailBean = greenMailBean;\r\n  }\r\n\r\n  public Email getEmailForFirstSentMessage() {\r\n    MimeMessage mimeMessage = greenMailBean.getReceivedMessages()[0];\r\n    Email email = MailExtractor.extractEmail(mimeMessage, getUserMailFolderList());\r\n    System.out.printf(&quot;From %s%n&quot;, email.from());\r\n    System.out.printf(&quot;To %s%n&quot;, email.toRecipients());\r\n    System.out.printf(&quot;Cc %s%n&quot;, email.ccRecipients());\r\n    System.out.printf(&quot;Bcc %s%n&quot;, email.bccRecipients());\r\n    System.out.printf(&quot;Body %s%n&quot;, email.body());\r\n    System.out.printf(&quot;Message ID %s%n&quot;, email.messageId());\r\n    return email;\r\n  }\r\n\r\n  private Map&lt;GreenMailUser, MailFolder&gt; getUserMailFolderList() {\r\n    Collection&lt;GreenMailUser&gt; greenMailUsers = greenMailBean.getGreenMail().getUserManager().listUser();\r\n    Map&lt;GreenMailUser, MailFolder&gt; userMailFolder = new HashMap&lt;&gt;();\r\n    for (GreenMailUser greenMailUser : greenMailUsers) {\r\n      try {\r\n        userMailFolder.put(greenMailUser, greenMailBean.getGreenMail().getManagers().getImapHostManager().getInbox(greenMailUser));\r\n      } catch (FolderException e) {\r\n        throw new RuntimeException(e);\r\n      }\r\n    }\r\n    return userMailFolder;\r\n  }\r\n\r\n  private static Email extractEmail(MimeMessage mimeMessage, Map&lt;GreenMailUser, MailFolder&gt; userMailFolderList) {\r\n    return new Email(extractFrom(mimeMessage),\r\n                     extractTo(mimeMessage),\r\n                     extractCc(mimeMessage),\r\n                     extractBcc(mimeMessage, userMailFolderList),\r\n                     extractSubject(mimeMessage),\r\n                     extractBody(mimeMessage),\r\n                     extractMessageId(mimeMessage));\r\n  }\r\n\r\n  private static String extractFrom(MimeMessage mimeMessage) {\r\n    return getValueForField(mimeMessage, &quot;From&quot;);\r\n  }\r\n\r\n  private static List&lt;String&gt; extractTo(MimeMessage mimeMessage) {\r\n    return getValuesForField(mimeMessage, &quot;To&quot;);\r\n  }\r\n\r\n  private static List&lt;String&gt; extractCc(MimeMessage mimeMessage) {\r\n    return getValuesForField(mimeMessage, &quot;Cc&quot;);\r\n  }\r\n\r\n  /* Because Greenmail won&#39;t tell us who got Bcc&#39;d, we have to determine it ourselves by the process of elimination.\r\n   *\r\n   * For the given email\r\n   * -&gt; Find out the email addresses that have received the email (based on message id)\r\n   * -&gt; Remove the toRecipients from this list\r\n   * -&gt; Remove the ccRecipients from this list\r\n   */\r\n  private static List&lt;String&gt; extractBcc(MimeMessage mimeMessage, Map&lt;GreenMailUser, MailFolder&gt; userMailFolder) {\r\n    List&lt;String&gt; bccList = new ArrayList&lt;&gt;();\r\n    for (Entry&lt;GreenMailUser, MailFolder&gt; mailFolder : userMailFolder.entrySet()) {\r\n      mailFolder.getValue().getMessages().stream()\r\n                .filter(storedMessage -&gt; messageIdsMatch(storedMessage, extractMessageId(mimeMessage)))\r\n                .findFirst()\r\n                .map(it -&gt; bccList.add(mailFolder.getKey().getEmail()));\r\n    }\r\n\r\n    bccList.removeAll(extractTo(mimeMessage));\r\n    bccList.removeAll(extractCc(mimeMessage));\r\n    return bccList;\r\n  }\r\n\r\n  private static boolean messageIdsMatch(StoredMessage storedMessage, String messageId) {\r\n    try {\r\n      return storedMessage.getMimeMessage().getMessageID().equals(messageId);\r\n    } catch (MessagingException e) {\r\n      throw new RuntimeException(e);\r\n    }\r\n  }\r\n\r\n  private static String extractSubject(MimeMessage mimeMessage) {\r\n    return getValueForField(mimeMessage, &quot;Subject&quot;);\r\n  }\r\n\r\n  private static String extractMessageId(MimeMessage mimeMessage) {\r\n    return getValueForField(mimeMessage, &quot;Message-ID&quot;);\r\n  }\r\n\r\n  private static String extractBody(MimeMessage mimeMessage) {\r\n    try {\r\n      if (mimeMessage.getContent() instanceof MimeMultipart mimeMultipart) {\r\n        return findHtmlBody(mimeMultipart).orElseThrow(() -&gt; new IllegalStateException(&quot;Could not find html-body&quot;));\r\n      }\r\n      throw new IllegalArgumentException(&quot;Unexpected e-mail content of type &quot; + mimeMessage.getContent().getClass());\r\n    } catch (IOException | MessagingException e) {\r\n      throw new IllegalArgumentException(e);\r\n    }\r\n  }\r\n\r\n  private static Optional&lt;String&gt; findHtmlBody(MimeMultipart multipart) {\r\n    try {\r\n      for (int i = 0; i &lt; multipart.getCount(); i++) {\r\n        BodyPart bodyPart = multipart.getBodyPart(i);\r\n        if (&quot;text/html;charset=UTF-8&quot;.equals(bodyPart.getContentType())) {\r\n          return Optional.of(((String) bodyPart.getContent()).replace(&quot;\\r&quot;, &quot;&quot;));\r\n        }\r\n        if (bodyPart.getContent() instanceof MimeMultipart subMultipart) {\r\n          return findHtmlBody(subMultipart);\r\n        }\r\n      }\r\n    } catch (MessagingException | IOException e) {\r\n      throw new RuntimeException(e);\r\n    }\r\n    return Optional.empty();\r\n  }\r\n\r\n  private static List&lt;String&gt; getValuesForField(MimeMessage mimeMessage, String headerName) {\r\n    String value = getValueForField(mimeMessage, headerName);\r\n    return value != null ? Arrays.stream(value.split(&quot;, &quot;)).toList() : List.of();\r\n  }\r\n\r\n  private static String getValueForField(MimeMessage mimeMessage, String headerName) {\r\n    try {\r\n      return Optional.ofNullable(mimeMessage.getHeader(headerName)).map(content -&gt; content[0]).orElse(null);\r\n    } catch (MessagingException e) {\r\n      throw new RuntimeException(e);\r\n    }\r\n  }\r\n\r\n  private record Email(String from,\r\n                       Collection&lt;String&gt; toRecipients,\r\n                       Collection&lt;String&gt; ccRecipients,\r\n                       Collection&lt;String&gt; bccRecipients,\r\n                       String subject,\r\n                       String body,\r\n                       String messageId\r\n  ) {}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n","title":"GreenMail not returning BCC recipient addresses","body":"<p>Because Greenmail won't tell us who got Bcc'd, we have to determine it ourselves by the process of elimination.</p>\n<p>For the given email</p>\n<ul>\n<li>Find out the email addresses that have received the email (based on\nmessage id).</li>\n<li>Remove the toRecipients from this list.</li>\n<li>Remove the ccRecipients from this list.</li>\n</ul>\n<pre><code>import com.icegreen.greenmail.spring.GreenMailBean;\nimport com.icegreen.greenmail.store.FolderException;\nimport com.icegreen.greenmail.store.MailFolder;\nimport com.icegreen.greenmail.store.StoredMessage;\nimport com.icegreen.greenmail.user.GreenMailUser;\nimport jakarta.mail.BodyPart;\nimport jakarta.mail.MessagingException;\nimport jakarta.mail.internet.MimeMessage;\nimport jakarta.mail.internet.MimeMultipart;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collection;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Map.Entry;\nimport java.util.Optional;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class MailExtractor {\n\n  private final GreenMailBean greenMailBean;\n\n  public MailExtractor(GreenMailBean greenMailBean) {\n    this.greenMailBean = greenMailBean;\n  }\n\n  public Email getEmailForFirstSentMessage() {\n    MimeMessage mimeMessage = greenMailBean.getReceivedMessages()[0];\n    Email email = MailExtractor.extractEmail(mimeMessage, getUserMailFolderList());\n    System.out.printf(&quot;From %s%n&quot;, email.from());\n    System.out.printf(&quot;To %s%n&quot;, email.toRecipients());\n    System.out.printf(&quot;Cc %s%n&quot;, email.ccRecipients());\n    System.out.printf(&quot;Bcc %s%n&quot;, email.bccRecipients());\n    System.out.printf(&quot;Body %s%n&quot;, email.body());\n    System.out.printf(&quot;Message ID %s%n&quot;, email.messageId());\n    return email;\n  }\n\n  private Map&lt;GreenMailUser, MailFolder&gt; getUserMailFolderList() {\n    Collection&lt;GreenMailUser&gt; greenMailUsers = greenMailBean.getGreenMail().getUserManager().listUser();\n    Map&lt;GreenMailUser, MailFolder&gt; userMailFolder = new HashMap&lt;&gt;();\n    for (GreenMailUser greenMailUser : greenMailUsers) {\n      try {\n        userMailFolder.put(greenMailUser, greenMailBean.getGreenMail().getManagers().getImapHostManager().getInbox(greenMailUser));\n      } catch (FolderException e) {\n        throw new RuntimeException(e);\n      }\n    }\n    return userMailFolder;\n  }\n\n  private static Email extractEmail(MimeMessage mimeMessage, Map&lt;GreenMailUser, MailFolder&gt; userMailFolderList) {\n    return new Email(extractFrom(mimeMessage),\n                     extractTo(mimeMessage),\n                     extractCc(mimeMessage),\n                     extractBcc(mimeMessage, userMailFolderList),\n                     extractSubject(mimeMessage),\n                     extractBody(mimeMessage),\n                     extractMessageId(mimeMessage));\n  }\n\n  private static String extractFrom(MimeMessage mimeMessage) {\n    return getValueForField(mimeMessage, &quot;From&quot;);\n  }\n\n  private static List&lt;String&gt; extractTo(MimeMessage mimeMessage) {\n    return getValuesForField(mimeMessage, &quot;To&quot;);\n  }\n\n  private static List&lt;String&gt; extractCc(MimeMessage mimeMessage) {\n    return getValuesForField(mimeMessage, &quot;Cc&quot;);\n  }\n\n  /* Because Greenmail won't tell us who got Bcc'd, we have to determine it ourselves by the process of elimination.\n   *\n   * For the given email\n   * -&gt; Find out the email addresses that have received the email (based on message id)\n   * -&gt; Remove the toRecipients from this list\n   * -&gt; Remove the ccRecipients from this list\n   */\n  private static List&lt;String&gt; extractBcc(MimeMessage mimeMessage, Map&lt;GreenMailUser, MailFolder&gt; userMailFolder) {\n    List&lt;String&gt; bccList = new ArrayList&lt;&gt;();\n    for (Entry&lt;GreenMailUser, MailFolder&gt; mailFolder : userMailFolder.entrySet()) {\n      mailFolder.getValue().getMessages().stream()\n                .filter(storedMessage -&gt; messageIdsMatch(storedMessage, extractMessageId(mimeMessage)))\n                .findFirst()\n                .map(it -&gt; bccList.add(mailFolder.getKey().getEmail()));\n    }\n\n    bccList.removeAll(extractTo(mimeMessage));\n    bccList.removeAll(extractCc(mimeMessage));\n    return bccList;\n  }\n\n  private static boolean messageIdsMatch(StoredMessage storedMessage, String messageId) {\n    try {\n      return storedMessage.getMimeMessage().getMessageID().equals(messageId);\n    } catch (MessagingException e) {\n      throw new RuntimeException(e);\n    }\n  }\n\n  private static String extractSubject(MimeMessage mimeMessage) {\n    return getValueForField(mimeMessage, &quot;Subject&quot;);\n  }\n\n  private static String extractMessageId(MimeMessage mimeMessage) {\n    return getValueForField(mimeMessage, &quot;Message-ID&quot;);\n  }\n\n  private static String extractBody(MimeMessage mimeMessage) {\n    try {\n      if (mimeMessage.getContent() instanceof MimeMultipart mimeMultipart) {\n        return findHtmlBody(mimeMultipart).orElseThrow(() -&gt; new IllegalStateException(&quot;Could not find html-body&quot;));\n      }\n      throw new IllegalArgumentException(&quot;Unexpected e-mail content of type &quot; + mimeMessage.getContent().getClass());\n    } catch (IOException | MessagingException e) {\n      throw new IllegalArgumentException(e);\n    }\n  }\n\n  private static Optional&lt;String&gt; findHtmlBody(MimeMultipart multipart) {\n    try {\n      for (int i = 0; i &lt; multipart.getCount(); i++) {\n        BodyPart bodyPart = multipart.getBodyPart(i);\n        if (&quot;text/html;charset=UTF-8&quot;.equals(bodyPart.getContentType())) {\n          return Optional.of(((String) bodyPart.getContent()).replace(&quot;\\r&quot;, &quot;&quot;));\n        }\n        if (bodyPart.getContent() instanceof MimeMultipart subMultipart) {\n          return findHtmlBody(subMultipart);\n        }\n      }\n    } catch (MessagingException | IOException e) {\n      throw new RuntimeException(e);\n    }\n    return Optional.empty();\n  }\n\n  private static List&lt;String&gt; getValuesForField(MimeMessage mimeMessage, String headerName) {\n    String value = getValueForField(mimeMessage, headerName);\n    return value != null ? Arrays.stream(value.split(&quot;, &quot;)).toList() : List.of();\n  }\n\n  private static String getValueForField(MimeMessage mimeMessage, String headerName) {\n    try {\n      return Optional.ofNullable(mimeMessage.getHeader(headerName)).map(content -&gt; content[0]).orElse(null);\n    } catch (MessagingException e) {\n      throw new RuntimeException(e);\n    }\n  }\n\n  private record Email(String from,\n                       Collection&lt;String&gt; toRecipients,\n                       Collection&lt;String&gt; ccRecipients,\n                       Collection&lt;String&gt; bccRecipients,\n                       String subject,\n                       String body,\n                       String messageId\n  ) {}\n\n}\n\n</code></pre>\n"}],"owner":{"account_id":2111849,"reputation":1037,"user_id":1876980,"accept_rate":86,"display_name":"Stephen M -on strike-"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":956,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":46943352,"answer_count":2,"score":3,"last_activity_date":1689075463,"creation_date":1508959867,"question_id":46940674,"body_markdown":"I&#39;m using GreenMail in a test to verify that our application is sending email correctly.\r\n\r\nI start GreenMail with:\r\n\r\n    GreenMail greenMailServer = new GreenMail(new ServerSetup(port, &quot;localhost&quot;, ServerSetup.PROTOCOL_SMTP));\r\n    greenMailServer.start();\r\n\r\nI have a separate process that sends the email to the GreenMail SMTP server (this is part of an integration test), so my test code waits for the email with:\r\n\r\n    long endTime = System.currentTimeMillis() + timeout;\r\n    // Get the fake mail server and listen for messages\r\n    GreenMail mailServer = ITester.getFakeEMail();\r\n    while(System.currentTimeMillis() &lt; endTime)  {\r\n         boolean timedOut = !mailServer.waitForIncomingEmail(endTime - System.currentTimeMillis(), 1);\r\n         if(timedOut) {\r\n              throw new TestFailure(lineNumber, &quot;Timed out waiting for email To: &#39;&quot;+to+&quot;&#39; Subject: &#39;&quot;+subject+&quot;&#39; Body: &#39;&quot;+body+&quot;&#39; .&quot;);\r\n         }\r\n         for(MimeMessage message : mailServer.getReceivedMessages()) {\r\n              try {\r\n                  StringBuilder errors = new StringBuilder();\r\n                  // Check who the message is going to\r\n                  //Address[] allRecipients = message.getRecipients(Message.RecipientType.BCC);\r\n                  Address[] allRecipients = message.getAllRecipients();\r\n\r\nI&#39;ve tried both the commented out request for Recipients and the getAllRecipients, but I always receive null.  I&#39;ve verified that my application is sending the email to one address in the BCC field.\r\n\r\nAny idea why I&#39;m not seeing the recipient email address?","title":"GreenMail not returning BCC recipient addresses","body":"<p>I'm using GreenMail in a test to verify that our application is sending email correctly.</p>\n\n<p>I start GreenMail with:</p>\n\n<pre><code>GreenMail greenMailServer = new GreenMail(new ServerSetup(port, \"localhost\", ServerSetup.PROTOCOL_SMTP));\ngreenMailServer.start();\n</code></pre>\n\n<p>I have a separate process that sends the email to the GreenMail SMTP server (this is part of an integration test), so my test code waits for the email with:</p>\n\n<pre><code>long endTime = System.currentTimeMillis() + timeout;\n// Get the fake mail server and listen for messages\nGreenMail mailServer = ITester.getFakeEMail();\nwhile(System.currentTimeMillis() &lt; endTime)  {\n     boolean timedOut = !mailServer.waitForIncomingEmail(endTime - System.currentTimeMillis(), 1);\n     if(timedOut) {\n          throw new TestFailure(lineNumber, \"Timed out waiting for email To: '\"+to+\"' Subject: '\"+subject+\"' Body: '\"+body+\"' .\");\n     }\n     for(MimeMessage message : mailServer.getReceivedMessages()) {\n          try {\n              StringBuilder errors = new StringBuilder();\n              // Check who the message is going to\n              //Address[] allRecipients = message.getRecipients(Message.RecipientType.BCC);\n              Address[] allRecipients = message.getAllRecipients();\n</code></pre>\n\n<p>I've tried both the commented out request for Recipients and the getAllRecipients, but I always receive null.  I've verified that my application is sending the email to one address in the BCC field.</p>\n\n<p>Any idea why I'm not seeing the recipient email address?</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1689147006,"post_id":76661537,"comment_id":135170235,"body_markdown":"https://discourse.hibernate.org/t/query-parser-removes-whitespaces-from-hql-after-upgrade-to-6-1-x/7080 - I guess it is an issue with `ip.isSystemDefault is true`. You can try to use `ip.isSystemDefault = 1`","body":"<a href=\"https://discourse.hibernate.org/t/query-parser-removes-whitespaces-from-hql-after-upgrade-to-6-1-x/7080\" rel=\"nofollow noreferrer\">discourse.hibernate.org/t/&hellip;</a> - I guess it is an issue with <code>ip.isSystemDefault is true</code>. You can try to use <code>ip.isSystemDefault = 1</code>"},{"owner":{"account_id":18231990,"reputation":117,"user_id":13270751,"display_name":"Ali Azlan"},"score":0,"creation_date":1689147636,"post_id":76661537,"comment_id":135170345,"body_markdown":"@XtremeBaumer the linked article says that earlier versions of hibernate allowed using of &quot;true&quot; as parameter so &quot;:true&quot;(param) won&#39;t work now because it might be reserved and new param names should be used, I have already read that article and tried using your proposed solution too, plus tried changing  my param names too, but nothing worked.","body":"@XtremeBaumer the linked article says that earlier versions of hibernate allowed using of &quot;true&quot; as parameter so &quot;:true&quot;(param) won&#39;t work now because it might be reserved and new param names should be used, I have already read that article and tried using your proposed solution too, plus tried changing  my param names too, but nothing worked."}],"owner":{"account_id":18231990,"reputation":117,"user_id":13270751,"display_name":"Ali Azlan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":939,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689075123,"creation_date":1689075123,"question_id":76661537,"body_markdown":"Below is my custom defined JPA query, it was working fine on Hibernate 5.x but I have to upgrade Spring and it&#39;s related packages to LTS, so after migrating to Hibernate 6.x the below query is throwing the error of &quot;No viable alternative at input&quot;. \r\n\r\nThe query being parsed with no whitespaces so the final query becomes &quot;selectipfromInsurancePlanipleftouterjoinFacilityLocationflonip.facilityLocation.id=fl.idwhereip.name=:fesdfesand(fl.id=:safasf3r1orip.isSystemDefaultistrue&quot; which is erroneous, look at the detailed error at the end.\r\n\r\n\r\n    @Query(&quot;select ip from InsurancePlan ip left outer join FacilityLocation fl on ip.facilityLocation.id=fl.id &quot; +\r\n            &quot;where ip.name = :name and (fl.id = :facilityLocationId or ip.isSystemDefault is true)&quot;)\r\n    Optional&lt;InsurancePlan&gt; doesInsurancePlanWithNameExistInDefaultOrCustomPlans(@Param(value = &quot;name&quot;) String name,\r\n                                                                                 @Param(value = &quot;facilityLocationId&quot;) Integer facilityLocationId);\r\n\r\n    \r\nError Details:\r\n\r\n    Caused by: java.lang.IllegalArgumentException: org.hibernate.query.SemanticException: A query exception occurred [select ip from InsurancePlan ip left outer join FacilityLocation fl on ip.facilityLocation.id=fl.id where ip.name = :fesdfes and (fl.id = :safasf3r1 or ip.isSystemDefault is true)]\r\n    \tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:138)\r\n    \tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:162)\r\n    \tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:168)\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:795)\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:704)\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:120)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:360)\r\n    \tat jdk.proxy2/jdk.proxy2.$Proxy159.createQuery(Unknown Source)\r\n    \tat org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:94)\r\n    \t... 62 common frames omitted\r\n    Caused by: org.hibernate.query.SemanticException: A query exception occurred [select ip from InsurancePlan ip left outer join FacilityLocation fl on ip.facilityLocation.id=fl.id where ip.name = :fesdfes and (fl.id = :safasf3r1 or ip.isSystemDefault is true)]\r\n    \tat org.hibernate.query.hql.internal.StandardHqlTranslator.parseHql(StandardHqlTranslator.java:130)\r\n    \tat org.hibernate.query.hql.internal.StandardHqlTranslator.translate(StandardHqlTranslator.java:77)\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.lambda$interpretHql$2(AbstractSharedSessionContract.java:744)\r\n    \tat org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.createHqlInterpretation(QueryInterpretationCacheStandardImpl.java:141)\r\n    \tat org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.resolveHqlInterpretation(QueryInterpretationCacheStandardImpl.java:128)\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.interpretHql(AbstractSharedSessionContract.java:741)\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:786)\r\n    \t... 71 common frames omitted\r\n    Caused by: org.hibernate.query.sqm.ParsingException: line 1:174 no viable alternative at input &#39;selectipfromInsurancePlanipleftouterjoinFacilityLocationflonip.facilityLocation.id=fl.idwhereip.name=:fesdfesand(fl.id=:safasf3r1orip.isSystemDefaultistrue&#39;\r\n    \tat org.hibernate.query.hql.internal.StandardHqlTranslator$1.syntaxError(StandardHqlTranslator.java:46)","title":"&quot;No viable alternative at input&quot; on custom JPQL queries error after migrating from Hibernate JPA 2.2.4 to 3.1.1","body":"<p>Below is my custom defined JPA query, it was working fine on Hibernate 5.x but I have to upgrade Spring and it's related packages to LTS, so after migrating to Hibernate 6.x the below query is throwing the error of &quot;No viable alternative at input&quot;.</p>\n<p>The query being parsed with no whitespaces so the final query becomes &quot;selectipfromInsurancePlanipleftouterjoinFacilityLocationflonip.facilityLocation.id=fl.idwhereip.name=:fesdfesand(fl.id=:safasf3r1orip.isSystemDefaultistrue&quot; which is erroneous, look at the detailed error at the end.</p>\n<pre><code>@Query(&quot;select ip from InsurancePlan ip left outer join FacilityLocation fl on ip.facilityLocation.id=fl.id &quot; +\n        &quot;where ip.name = :name and (fl.id = :facilityLocationId or ip.isSystemDefault is true)&quot;)\nOptional&lt;InsurancePlan&gt; doesInsurancePlanWithNameExistInDefaultOrCustomPlans(@Param(value = &quot;name&quot;) String name,\n                                                                             @Param(value = &quot;facilityLocationId&quot;) Integer facilityLocationId);\n</code></pre>\n<p>Error Details:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: org.hibernate.query.SemanticException: A query exception occurred [select ip from InsurancePlan ip left outer join FacilityLocation fl on ip.facilityLocation.id=fl.id where ip.name = :fesdfes and (fl.id = :safasf3r1 or ip.isSystemDefault is true)]\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:138)\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:162)\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:168)\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:795)\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:704)\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:120)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:360)\n    at jdk.proxy2/jdk.proxy2.$Proxy159.createQuery(Unknown Source)\n    at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:94)\n    ... 62 common frames omitted\nCaused by: org.hibernate.query.SemanticException: A query exception occurred [select ip from InsurancePlan ip left outer join FacilityLocation fl on ip.facilityLocation.id=fl.id where ip.name = :fesdfes and (fl.id = :safasf3r1 or ip.isSystemDefault is true)]\n    at org.hibernate.query.hql.internal.StandardHqlTranslator.parseHql(StandardHqlTranslator.java:130)\n    at org.hibernate.query.hql.internal.StandardHqlTranslator.translate(StandardHqlTranslator.java:77)\n    at org.hibernate.internal.AbstractSharedSessionContract.lambda$interpretHql$2(AbstractSharedSessionContract.java:744)\n    at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.createHqlInterpretation(QueryInterpretationCacheStandardImpl.java:141)\n    at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.resolveHqlInterpretation(QueryInterpretationCacheStandardImpl.java:128)\n    at org.hibernate.internal.AbstractSharedSessionContract.interpretHql(AbstractSharedSessionContract.java:741)\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:786)\n    ... 71 common frames omitted\nCaused by: org.hibernate.query.sqm.ParsingException: line 1:174 no viable alternative at input 'selectipfromInsurancePlanipleftouterjoinFacilityLocationflonip.facilityLocation.id=fl.idwhereip.name=:fesdfesand(fl.id=:safasf3r1orip.isSystemDefaultistrue'\n    at org.hibernate.query.hql.internal.StandardHqlTranslator$1.syntaxError(StandardHqlTranslator.java:46)\n</code></pre>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":22282426,"reputation":1,"user_id":16510633,"display_name":"NoName0x22"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688479978,"creation_date":1688294151,"answer_id":76598481,"question_id":76598058,"body_markdown":"You don&#39;t want to use extra properties from JSON. The best option for that is to create DTO object only with properties that you want to use called for example `FilmDTO` with `@JsonIgnoreProperties(ignoreUnknown=true)` class annotation.\r\n\r\nI would also recommend not to put all the logic inside of Controller Class, try to create for example `FilmService` which will encapsulate whole business logic inside:\r\n\r\n\r\nController: \r\n```\r\n@RestController\r\npublic class FilmController {\r\n\r\n    private final FilmService filmService;\r\n\r\n    public FilmController(FilmService filmService) {\r\n        this.filmService = filmService;\r\n    }\r\n\r\n    @PutMapping(&quot;/films&quot;)\r\n    public Film create(@RequestBody @Validated FilmDTO filmDTO ){\r\n        return filmService.addFilm(filmDTO);\r\n    }\r\n}\r\n```\r\nFilm\r\n```\r\npublic class Film {\r\n    private final Integer id;\r\n    private final String name;\r\n    private final String description;\r\n    private final LocalDate releaseDate;\r\n    private final int duration;\r\n\r\n    public Film(Integer id, String name, String description, LocalDate releaseDate, int duration) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.description = description;\r\n        this.releaseDate = releaseDate;\r\n        this.duration = duration;\r\n    }\r\n\r\n    public static Film fromDto(FilmDTO filmDto) {\r\n        return new Film(filmDto.getId(), filmDto.getName(), filmDto.getDescription(), filmDto.getReleaseDate(), filmDto.getDuration());\r\n    }\r\n\r\n    public Integer getId() {\r\n        return id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public LocalDate getReleaseDate() {\r\n        return releaseDate;\r\n    }\r\n\r\n    public int getDuration() {\r\n        return duration;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        Film film = (Film) o;\r\n        return duration == film.duration &amp;&amp; Objects.equals(id, film.id) &amp;&amp; Objects.equals(name, film.name) &amp;&amp; Objects.equals(description, film.description) &amp;&amp; Objects.equals(releaseDate, film.releaseDate);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(id, name, description, releaseDate, duration);\r\n    }\r\n}\r\n\r\n```\r\nFilmDto\r\n```\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class FilmDTO {\r\n    private final Integer id;\r\n    @NotEmpty\r\n    private final String name;\r\n    @Size(max = 200)\r\n    private final String description;\r\n    private final LocalDate releaseDate;\r\n    @Min(value = 1)\r\n    private final int duration;\r\n\r\n    public FilmDTO(Integer id, String name, String description, LocalDate releaseDate, int duration) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.description = description;\r\n        this.releaseDate = releaseDate;\r\n        this.duration = duration;\r\n    }\r\n\r\n    public Integer getId() {\r\n        return id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public LocalDate getReleaseDate() {\r\n        return releaseDate;\r\n    }\r\n\r\n    public int getDuration() {\r\n        return duration;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        FilmDTO filmDTO = (FilmDTO) o;\r\n        return duration == filmDTO.duration &amp;&amp; Objects.equals(id, filmDTO.id) &amp;&amp; Objects.equals(name, filmDTO.name) &amp;&amp; Objects.equals(description, filmDTO.description) &amp;&amp; Objects.equals(releaseDate, filmDTO.releaseDate);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(id, name, description, releaseDate, duration);\r\n    }\r\n}\r\n```\r\nFilmService\r\n``` \r\n@Service\r\npublic class FilmService {\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(FilmService.class);\r\n    // Change that hashmap with some sort of repository.\r\n    private final Map&lt;Integer, Film&gt; films = new HashMap&lt;&gt;();\r\n\r\n    public Film addFilm(FilmDTO filmDTO) {\r\n        if (filmDTO.getReleaseDate().isBefore(FILM_DATE)) {\r\n            logger.error(&quot;Validation exception&quot;);\r\n            throw new ValidationException(&quot;Incorrect data&quot;);\r\n        }\r\n        Film addedFilm = Film.fromDto(filmDTO);\r\n        logger.info(&quot;&#39;{}&#39; movie was added to a library, the identifier is &#39;{}&#39;&quot;, addedFilm.getName(), addedFilm.getId());\r\n        films.put(addedFilm.getId(), addedFilm);\r\n        return addedFilm;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n","title":"Checking PUT request from server for extra fields as JSON","body":"<p>You don't want to use extra properties from JSON. The best option for that is to create DTO object only with properties that you want to use called for example <code>FilmDTO</code> with <code>@JsonIgnoreProperties(ignoreUnknown=true)</code> class annotation.</p>\n<p>I would also recommend not to put all the logic inside of Controller Class, try to create for example <code>FilmService</code> which will encapsulate whole business logic inside:</p>\n<p>Controller:</p>\n<pre><code>@RestController\npublic class FilmController {\n\n    private final FilmService filmService;\n\n    public FilmController(FilmService filmService) {\n        this.filmService = filmService;\n    }\n\n    @PutMapping(&quot;/films&quot;)\n    public Film create(@RequestBody @Validated FilmDTO filmDTO ){\n        return filmService.addFilm(filmDTO);\n    }\n}\n</code></pre>\n<p>Film</p>\n<pre><code>public class Film {\n    private final Integer id;\n    private final String name;\n    private final String description;\n    private final LocalDate releaseDate;\n    private final int duration;\n\n    public Film(Integer id, String name, String description, LocalDate releaseDate, int duration) {\n        this.id = id;\n        this.name = name;\n        this.description = description;\n        this.releaseDate = releaseDate;\n        this.duration = duration;\n    }\n\n    public static Film fromDto(FilmDTO filmDto) {\n        return new Film(filmDto.getId(), filmDto.getName(), filmDto.getDescription(), filmDto.getReleaseDate(), filmDto.getDuration());\n    }\n\n    public Integer getId() {\n        return id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public LocalDate getReleaseDate() {\n        return releaseDate;\n    }\n\n    public int getDuration() {\n        return duration;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Film film = (Film) o;\n        return duration == film.duration &amp;&amp; Objects.equals(id, film.id) &amp;&amp; Objects.equals(name, film.name) &amp;&amp; Objects.equals(description, film.description) &amp;&amp; Objects.equals(releaseDate, film.releaseDate);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(id, name, description, releaseDate, duration);\n    }\n}\n\n</code></pre>\n<p>FilmDto</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class FilmDTO {\n    private final Integer id;\n    @NotEmpty\n    private final String name;\n    @Size(max = 200)\n    private final String description;\n    private final LocalDate releaseDate;\n    @Min(value = 1)\n    private final int duration;\n\n    public FilmDTO(Integer id, String name, String description, LocalDate releaseDate, int duration) {\n        this.id = id;\n        this.name = name;\n        this.description = description;\n        this.releaseDate = releaseDate;\n        this.duration = duration;\n    }\n\n    public Integer getId() {\n        return id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public LocalDate getReleaseDate() {\n        return releaseDate;\n    }\n\n    public int getDuration() {\n        return duration;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        FilmDTO filmDTO = (FilmDTO) o;\n        return duration == filmDTO.duration &amp;&amp; Objects.equals(id, filmDTO.id) &amp;&amp; Objects.equals(name, filmDTO.name) &amp;&amp; Objects.equals(description, filmDTO.description) &amp;&amp; Objects.equals(releaseDate, filmDTO.releaseDate);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(id, name, description, releaseDate, duration);\n    }\n}\n</code></pre>\n<p>FilmService</p>\n<pre><code>@Service\npublic class FilmService {\n\n    private static final Logger logger = LoggerFactory.getLogger(FilmService.class);\n    // Change that hashmap with some sort of repository.\n    private final Map&lt;Integer, Film&gt; films = new HashMap&lt;&gt;();\n\n    public Film addFilm(FilmDTO filmDTO) {\n        if (filmDTO.getReleaseDate().isBefore(FILM_DATE)) {\n            logger.error(&quot;Validation exception&quot;);\n            throw new ValidationException(&quot;Incorrect data&quot;);\n        }\n        Film addedFilm = Film.fromDto(filmDTO);\n        logger.info(&quot;'{}' movie was added to a library, the identifier is '{}'&quot;, addedFilm.getName(), addedFilm.getId());\n        films.put(addedFilm.getId(), addedFilm);\n        return addedFilm;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16027245,"reputation":41,"user_id":11567183,"display_name":"Chiamaka Etchie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688296965,"creation_date":1688296900,"answer_id":76598637,"question_id":76598058,"body_markdown":"This will throw an exception that you can gracefully handle. However, you might want to move the processFilm method to a service class.\r\n\r\n\r\n  \r\n    @RestController\r\n    @Slf4j\r\n    @RequestMapping()\r\n    public class EmployeeController {\r\n        private static final LocalDate FILM_DATE = LocalDate.now();\r\n    \r\n        private ObjectMapper objectMapper = new ObjectMapper();\r\n    \r\n        @PostMapping(value = &quot;/films&quot;)\r\n        public Film create(@RequestBody String requestBody) {\r\n            Map&lt;Integer, Film&gt; films = new HashMap&lt;&gt;();\r\n    \r\n            objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, true);\r\n            objectMapper.registerModule(new JavaTimeModule());\r\n    \r\n            Film film;\r\n            try {\r\n               film = objectMapper.readValue(requestBody, Film.class);\r\n                processFilm(films, film);\r\n                return film;\r\n            } catch (JsonMappingException e) {\r\n                throw new ResponseStatusException(\r\n                        HttpStatus.BAD_REQUEST, &quot;Invalid request body&quot;, e);\r\n            } catch (JsonProcessingException e) {\r\n                throw new ResponseStatusException(\r\n                        HttpStatus.INTERNAL_SERVER_ERROR, &quot;Unable to convert request body&quot;, e);\r\n            }\r\n        }\r\n    \r\n        private static void processFilm(Map&lt;Integer, Film&gt; films, Film film) {\r\n            if (film.getDuration() &lt;= 0\r\n                    || film.getReleaseDate().isAfter(FILM_DATE)\r\n                    || film.getDescription().length() &gt; 200 || film.getName().isEmpty()) {\r\n                throw new RuntimeException(&quot;Incorrect data&quot;);\r\n            } else {\r\n                if (film.getId() == 0) {\r\n                    film.setId(1);\r\n                }\r\n                log.info(&quot;&#39;{}&#39; movie was added to a library, the identifier is &#39;{}&#39;&quot;, film.getName(), film.getId());\r\n                films.put(film.getId(), film);\r\n            }\r\n        }\r\n    \r\n    \r\n    }","title":"Checking PUT request from server for extra fields as JSON","body":"<p>This will throw an exception that you can gracefully handle. However, you might want to move the processFilm method to a service class.</p>\n<pre><code>@RestController\n@Slf4j\n@RequestMapping()\npublic class EmployeeController {\n    private static final LocalDate FILM_DATE = LocalDate.now();\n\n    private ObjectMapper objectMapper = new ObjectMapper();\n\n    @PostMapping(value = &quot;/films&quot;)\n    public Film create(@RequestBody String requestBody) {\n        Map&lt;Integer, Film&gt; films = new HashMap&lt;&gt;();\n\n        objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, true);\n        objectMapper.registerModule(new JavaTimeModule());\n\n        Film film;\n        try {\n           film = objectMapper.readValue(requestBody, Film.class);\n            processFilm(films, film);\n            return film;\n        } catch (JsonMappingException e) {\n            throw new ResponseStatusException(\n                    HttpStatus.BAD_REQUEST, &quot;Invalid request body&quot;, e);\n        } catch (JsonProcessingException e) {\n            throw new ResponseStatusException(\n                    HttpStatus.INTERNAL_SERVER_ERROR, &quot;Unable to convert request body&quot;, e);\n        }\n    }\n\n    private static void processFilm(Map&lt;Integer, Film&gt; films, Film film) {\n        if (film.getDuration() &lt;= 0\n                || film.getReleaseDate().isAfter(FILM_DATE)\n                || film.getDescription().length() &gt; 200 || film.getName().isEmpty()) {\n            throw new RuntimeException(&quot;Incorrect data&quot;);\n        } else {\n            if (film.getId() == 0) {\n                film.setId(1);\n            }\n            log.info(&quot;'{}' movie was added to a library, the identifier is '{}'&quot;, film.getName(), film.getId());\n            films.put(film.getId(), film);\n        }\n    }\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":27462033,"reputation":27,"user_id":20952449,"display_name":"Chernosmaga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689075001,"creation_date":1688286761,"question_id":76598058,"body_markdown":"I&#39;m trying to send PUT request and I want to check if there&#39;re some extra fields. Is there any chance to check these extra fields, so I can throw an exception?\r\nFor example, I&#39;ve got this JSON file and this one is okay to add\r\n```\r\n    &quot;id&quot;: 9999,\r\n    &quot;name&quot;: &quot;Film Updated&quot;,\r\n    &quot;description&quot;: &quot;New film update decription&quot;,\r\n    &quot;releaseDate&quot;: &quot;1989-04-17&quot;,\r\n    &quot;duration&quot;: 190\r\n```\r\nAs you can see, in the following file, there&#39;s an extra field ```rate```\r\n```\r\n  &quot;id&quot;: 9999,\r\n  &quot;name&quot;: &quot;Film Updated&quot;,\r\n  &quot;releaseDate&quot;: &quot;1989-04-17&quot;,\r\n  &quot;description&quot;: &quot;New film update decription&quot;,\r\n  &quot;duration&quot;: 190,\r\n  &quot;rate&quot;: 4\r\n````\r\nSo I want to check if PUT request contains any extra fields to prevent from putting this information into HashMap. The following method is putting information into HashMap\r\n```\r\n    @PostMapping(value = &quot;/films&quot;)\r\n    public Film create(@Valid @RequestBody Film film) {\r\n        if (film.getDuration() &lt;= 0\r\n                || film.getReleaseDate().isBefore(FILM_DATE)\r\n                || film.getDescription().length() &gt; 200 || film.getName().isEmpty()) {\r\n            throw new ValidationException(&quot;Incorrect data&quot;);\r\n        } else {\r\n            if (film.getId() == 0) {\r\n                film.setId(1);\r\n            }\r\n            log.info(&quot;&#39;{}&#39; movie was added to a library, the identifier is &#39;{}&#39;&quot;, film.getName(), film.getId());\r\n            films.put(film.getId(), film);\r\n        }\r\n        return film;\r\n    }\r\n```\r\nBut I have no idea how to check extra fields. Any ideas?","title":"Checking PUT request from server for extra fields as JSON","body":"<p>I'm trying to send PUT request and I want to check if there're some extra fields. Is there any chance to check these extra fields, so I can throw an exception?\nFor example, I've got this JSON file and this one is okay to add</p>\n<pre><code>    &quot;id&quot;: 9999,\n    &quot;name&quot;: &quot;Film Updated&quot;,\n    &quot;description&quot;: &quot;New film update decription&quot;,\n    &quot;releaseDate&quot;: &quot;1989-04-17&quot;,\n    &quot;duration&quot;: 190\n</code></pre>\n<p>As you can see, in the following file, there's an extra field <code>rate</code></p>\n<pre><code>  &quot;id&quot;: 9999,\n  &quot;name&quot;: &quot;Film Updated&quot;,\n  &quot;releaseDate&quot;: &quot;1989-04-17&quot;,\n  &quot;description&quot;: &quot;New film update decription&quot;,\n  &quot;duration&quot;: 190,\n  &quot;rate&quot;: 4\n</code></pre>\n<p>So I want to check if PUT request contains any extra fields to prevent from putting this information into HashMap. The following method is putting information into HashMap</p>\n<pre><code>    @PostMapping(value = &quot;/films&quot;)\n    public Film create(@Valid @RequestBody Film film) {\n        if (film.getDuration() &lt;= 0\n                || film.getReleaseDate().isBefore(FILM_DATE)\n                || film.getDescription().length() &gt; 200 || film.getName().isEmpty()) {\n            throw new ValidationException(&quot;Incorrect data&quot;);\n        } else {\n            if (film.getId() == 0) {\n                film.setId(1);\n            }\n            log.info(&quot;'{}' movie was added to a library, the identifier is '{}'&quot;, film.getName(), film.getId());\n            films.put(film.getId(), film);\n        }\n        return film;\n    }\n</code></pre>\n<p>But I have no idea how to check extra fields. Any ideas?</p>\n"},{"tags":["java","eclipse","opengl","lwjgl"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1617921233,"post_id":67012665,"comment_id":118452901,"body_markdown":"This is almost always caused by using an incompatible or incorrect version of LWJGL or the LWJGL library is not in your library folder or on the class path. Check which version is compatible with your other libraries or java version. Also see https://stackoverflow.com/questions/16261193/lwjgl-noclassdeffounderror","body":"This is almost always caused by using an incompatible or incorrect version of LWJGL or the LWJGL library is not in your library folder or on the class path. Check which version is compatible with your other libraries or java version. Also see <a href=\"https://stackoverflow.com/questions/16261193/lwjgl-noclassdeffounderror\" title=\"lwjgl noclassdeffounderror\">stackoverflow.com/questions/16261193/lwjgl-noclassdeffounder&zwnj;&#8203;ror</a>"},{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1617921419,"post_id":67012665,"comment_id":118452938,"body_markdown":"How are you running the application? `NoClassDefFoundError` suggests that you don&#39;t have the right LWJGL jar files included in the classpath when you run the application.","body":"How are you running the application? <code>NoClassDefFoundError</code> suggests that you don&#39;t have the right LWJGL jar files included in the classpath when you run the application."},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1617921468,"post_id":67012665,"comment_id":118452947,"body_markdown":"Note that LWJGL uses both a jar and several dll files etc and they all need to be available and compatible, see here: https://stackoverflow.com/questions/10063530/java-library-path-error","body":"Note that LWJGL uses both a jar and several dll files etc and they all need to be available and compatible, see here: <a href=\"https://stackoverflow.com/questions/10063530/java-library-path-error\" title=\"java library path error\">stackoverflow.com/questions/10063530/java-library-path-error</a>"},{"owner":{"account_id":17982537,"reputation":75,"user_id":13068502,"display_name":"Oni Barolli"},"score":0,"creation_date":1617921822,"post_id":67012665,"comment_id":118453029,"body_markdown":"@Jesper That&#39;s a good point. I&#39;m gonna be honest, I&#39;m really new to Java and I was using VSCode for the last 2 weeks, so this is my first time setting up a project in Eclipse. I added all the jar files to the ModulePath but not to the ClassPath. Can you explain what the difference is? Thanks!","body":"@Jesper That&#39;s a good point. I&#39;m gonna be honest, I&#39;m really new to Java and I was using VSCode for the last 2 weeks, so this is my first time setting up a project in Eclipse. I added all the jar files to the ModulePath but not to the ClassPath. Can you explain what the difference is? Thanks!"},{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1617921985,"post_id":67012665,"comment_id":118453074,"body_markdown":"I don know because I have not used Eclipse for 10 years... The module path is probably for Java&#39;s module system, which is not used by many applications, so you should probably add the jar files to the classpath.","body":"I don know because I have not used Eclipse for 10 years... The module path is probably for Java&#39;s module system, which is not used by many applications, so you should probably add the jar files to the classpath."},{"owner":{"account_id":15091436,"reputation":427,"user_id":10891226,"display_name":"RIVERMAN2010"},"score":0,"creation_date":1617926735,"post_id":67012665,"comment_id":118454027,"body_markdown":"did you link the files to module path or class path? they need to be linked through classpath, also you said you linked the natives, are they addded to build path? or are they added as natives to the JAR files.         this looks just like thinmatrix&#39;s tutorials, I have a modern LWJGL 3 version of this class if you want it, works fine with the rest of the series as far as I can tell.","body":"did you link the files to module path or class path? they need to be linked through classpath, also you said you linked the natives, are they addded to build path? or are they added as natives to the JAR files.         this looks just like thinmatrix&#39;s tutorials, I have a modern LWJGL 3 version of this class if you want it, works fine with the rest of the series as far as I can tell."},{"owner":{"account_id":17982537,"reputation":75,"user_id":13068502,"display_name":"Oni Barolli"},"score":0,"creation_date":1617930341,"post_id":67012665,"comment_id":118454688,"body_markdown":"@RIVERMAN2010 I&#39;m alright for now, thanks though! You&#39;re also correct; I had added the jar files to the module path instead of the class path. Do you know what the difference is? I&#39;ve been learning Java for the last two weeks and never come across the idea of modules. Are they an Eclipse specific thing? Also, what do you think of thinkmatrix&#39;s tutorial? Is it worth a watch? I just started it and I wanna make sure I&#39;m not wasting my time. I just really want to learn opengl","body":"@RIVERMAN2010 I&#39;m alright for now, thanks though! You&#39;re also correct; I had added the jar files to the module path instead of the class path. Do you know what the difference is? I&#39;ve been learning Java for the last two weeks and never come across the idea of modules. Are they an Eclipse specific thing? Also, what do you think of thinkmatrix&#39;s tutorial? Is it worth a watch? I just started it and I wanna make sure I&#39;m not wasting my time. I just really want to learn opengl"},{"owner":{"account_id":15091436,"reputation":427,"user_id":10891226,"display_name":"RIVERMAN2010"},"score":0,"creation_date":1617970516,"post_id":67012665,"comment_id":118466505,"body_markdown":"@OniBarolli I think that modules were implemented as a way to add dependencies  easier, and with the dependencies being checked at compile time.  ThinkMatrix&#39;s tutorials were the best java OpenGL tutorials I could find, they are great for learning lwjgl, but they can be a little difficult sometimes. I would highly recommend GamesWithGabe&#39;s tutorials as well, they are both great. \nGamesWithGabe&#39;s tutorial -&gt; https://www.youtube.com/watch?v=VyKE7vz65rY&amp;list=PLtrSb4XxIVbp8AKuEAlwNXDxr99e3woGE&amp;ab_channel=GamesWithGabe","body":"@OniBarolli I think that modules were implemented as a way to add dependencies  easier, and with the dependencies being checked at compile time.  ThinkMatrix&#39;s tutorials were the best java OpenGL tutorials I could find, they are great for learning lwjgl, but they can be a little difficult sometimes. I would highly recommend GamesWithGabe&#39;s tutorials as well, they are both great.  GamesWithGabe&#39;s tutorial -&gt; <a href=\"https://www.youtube.com/watch?v=VyKE7vz65rY&amp;list=PLtrSb4XxIVbp8AKuEAlwNXDxr99e3woGE&amp;ab_channel=GamesWithGabe\" rel=\"nofollow noreferrer\">youtube.com/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":23739547,"reputation":1,"user_id":17757769,"display_name":"Zyfo"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1646996220,"creation_date":1646962423,"answer_id":71432701,"question_id":67012665,"body_markdown":"All you have to do is go to the Build Path of your project and change the .jar files from under the Modulepath to be under the Classpath.","title":"LWJGLException not found?","body":"<p>All you have to do is go to the Build Path of your project and change the .jar files from under the Modulepath to be under the Classpath.</p>\n"},{"tags":[],"owner":{"account_id":24647523,"reputation":1,"user_id":18545219,"display_name":"TheTimeSte"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689074887,"creation_date":1689074887,"answer_id":76661507,"question_id":67012665,"body_markdown":"the solution from Zyfo worked for me.\r\n\r\nright click the project -&gt; build path -&gt; configure build path -&gt; import and move your lwjgl jar files under the classpath menu\r\n\r\n[Screenshot of the setup][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WMUe2.png","title":"LWJGLException not found?","body":"<p>the solution from Zyfo worked for me.</p>\n<p>right click the project -&gt; build path -&gt; configure build path -&gt; import and move your lwjgl jar files under the classpath menu</p>\n<p><a href=\"https://i.stack.imgur.com/WMUe2.png\" rel=\"nofollow noreferrer\">Screenshot of the setup</a></p>\n"}],"owner":{"account_id":17982537,"reputation":75,"user_id":13068502,"display_name":"Oni Barolli"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1065,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689074887,"creation_date":1617920743,"question_id":67012665,"body_markdown":"I am using LWJGL version 2.9.1. I set up my Eclipse project with the following referenced libraries: lwjgl_util.jar, lwjgl.jar, and slick-util.jar. I also linked all of the necessary native .dll files for Windows. The file that is causing the error contains the following code:\r\n```\r\npackage render;\r\n\r\nimport org.lwjgl.LWJGLException;\r\nimport org.lwjgl.opengl.ContextAttribs;\r\nimport org.lwjgl.opengl.Display;\r\nimport org.lwjgl.opengl.DisplayMode;\r\nimport org.lwjgl.opengl.GL11;\r\nimport org.lwjgl.opengl.PixelFormat;\r\n\r\npublic class DisplayManager {\r\n\t\r\n\tprivate static final int WIDTH = 1280;\t\r\n\tprivate static final int HEIGHT = 720;\r\n\tprivate static final int FPS_CAP = 120;\r\n\t\r\n\tpublic static void createDisplay() {\r\n\t\t\r\n\t\tContextAttribs attribs = new ContextAttribs(3, 2);\r\n\t\tattribs.withForwardCompatible(true);\r\n\t\tattribs.withProfileCore(true);\r\n\t\t\r\n\t\ttry {\r\n\t\t\tDisplay.setDisplayMode(new DisplayMode(WIDTH, HEIGHT));\r\n\t\t\tDisplay.create(new PixelFormat(), attribs);\r\n\t\t} catch (LWJGLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\t// tell opengl where to render game (use whole display)\r\n\t\tGL11.glViewport(0, 0, WIDTH, HEIGHT); \r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static void updateDisplay() {\r\n\t\t\r\n\t\tDisplay.sync(FPS_CAP); // ensures buttery smooth fps\r\n\t\tDisplay.update();\r\n\t}\r\n\t\r\n\tpublic static void closeDisplay() {\r\n\t\tDisplay.destroy();\r\n\t}\r\n}\r\n```\r\n I am using this class in the following:\r\n```\r\npackage engineTester;\r\n\r\nimport org.lwjgl.opengl.Display;\r\n\r\nimport render.DisplayManager;\r\n\r\npublic class MainGameLoop {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\tDisplayManager.createDisplay();\r\n\t\t\r\n\t\t// enter game loop until someone clicks the top right x button\r\n\t\twhile (!Display.isCloseRequested()) {\r\n\t\t\t// game logic and rendering\r\n\t\t\tDisplayManager.updateDisplay();\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tDisplayManager.closeDisplay();\r\n\t}\r\n}\r\n```\r\nWhen I try to run the above file, I get the following exception:\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/lwjgl/LWJGLException\r\n\tat engineTester.MainGameLoop.main(MainGameLoop.java:12)\r\nCaused by: java.lang.ClassNotFoundException: org.lwjgl.LWJGLException\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:636)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:182)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519)\r\n\t... 1 more\r\n```\r\nCan someone explain what I&#39;m doing wrong?","title":"LWJGLException not found?","body":"<p>I am using LWJGL version 2.9.1. I set up my Eclipse project with the following referenced libraries: lwjgl_util.jar, lwjgl.jar, and slick-util.jar. I also linked all of the necessary native .dll files for Windows. The file that is causing the error contains the following code:</p>\n<pre><code>package render;\n\nimport org.lwjgl.LWJGLException;\nimport org.lwjgl.opengl.ContextAttribs;\nimport org.lwjgl.opengl.Display;\nimport org.lwjgl.opengl.DisplayMode;\nimport org.lwjgl.opengl.GL11;\nimport org.lwjgl.opengl.PixelFormat;\n\npublic class DisplayManager {\n    \n    private static final int WIDTH = 1280;  \n    private static final int HEIGHT = 720;\n    private static final int FPS_CAP = 120;\n    \n    public static void createDisplay() {\n        \n        ContextAttribs attribs = new ContextAttribs(3, 2);\n        attribs.withForwardCompatible(true);\n        attribs.withProfileCore(true);\n        \n        try {\n            Display.setDisplayMode(new DisplayMode(WIDTH, HEIGHT));\n            Display.create(new PixelFormat(), attribs);\n        } catch (LWJGLException e) {\n            e.printStackTrace();\n        }\n        \n        // tell opengl where to render game (use whole display)\n        GL11.glViewport(0, 0, WIDTH, HEIGHT); \n        \n    }\n    \n    public static void updateDisplay() {\n        \n        Display.sync(FPS_CAP); // ensures buttery smooth fps\n        Display.update();\n    }\n    \n    public static void closeDisplay() {\n        Display.destroy();\n    }\n}\n</code></pre>\n<p>I am using this class in the following:</p>\n<pre><code>package engineTester;\n\nimport org.lwjgl.opengl.Display;\n\nimport render.DisplayManager;\n\npublic class MainGameLoop {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        \n        DisplayManager.createDisplay();\n        \n        // enter game loop until someone clicks the top right x button\n        while (!Display.isCloseRequested()) {\n            // game logic and rendering\n            DisplayManager.updateDisplay();\n            \n        }\n        \n        DisplayManager.closeDisplay();\n    }\n}\n</code></pre>\n<p>When I try to run the above file, I get the following exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/lwjgl/LWJGLException\n    at engineTester.MainGameLoop.main(MainGameLoop.java:12)\nCaused by: java.lang.ClassNotFoundException: org.lwjgl.LWJGLException\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:636)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:182)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519)\n    ... 1 more\n</code></pre>\n<p>Can someone explain what I'm doing wrong?</p>\n"},{"tags":["java","unit-testing","intellij-idea","mockito","junit4"],"comments":[{"owner":{"account_id":24517308,"reputation":401,"user_id":18430882,"display_name":"quickfix"},"score":0,"creation_date":1689776287,"post_id":76659183,"comment_id":135261676,"body_markdown":"looks similar to https://stackoverflow.com/questions/72153070/cannot-invoke-because-is-null-mockito-junit\nalso, check https://github.com/mockito/mockito-kotlin/issues/255","body":"looks similar to <a href=\"https://stackoverflow.com/questions/72153070/cannot-invoke-because-is-null-mockito-junit\" title=\"cannot invoke because is null mockito junit\">stackoverflow.com/questions/72153070/&hellip;</a> also, check <a href=\"https://github.com/mockito/mockito-kotlin/issues/255\" rel=\"nofollow noreferrer\">github.com/mockito/mockito-kotlin/issues/255</a>"}],"owner":{"account_id":27610618,"reputation":9,"user_id":21073827,"display_name":"Rishab Sud"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689074841,"creation_date":1689056493,"question_id":76659183,"body_markdown":"When I am trying to run a unit test from any extension in my SAP hybris project, I am getting an initialization error in the IDE which is not letting the test cases to execute.\r\n\r\n    &quot;C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.3.3\\jbr\\bin\\java.exe&quot; -ea -Dplatformhome=C:/Heineken_2205_NEW/Hybris_2205_7/hybris/bin/platform -Didea.test.cyclic.buffer.size=1048576 &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.3.3\\lib\\idea_rt.jar=65062:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.3.3\\bin&quot; -Dfile.encoding=UTF-8 @C:\\Users\\rishab.sud\\AppData\\Local\\Temp\\idea_arg_file810978677 com.intellij.rt.junit.JUnitStarter -ideVersion5 -junit4 com.heinekenint.etrade.b2b.core.commerceservices.order.hook.impl.EtradeCommerceRedisCartCalculationMethodHookTest\r\n\r\n---------------\r\n```none\r\njava.lang.ExceptionInInitializerError\r\n\tat org.mockito.internal.exceptions.stacktrace.ConditionalStackTraceFilter.&lt;init&gt;(ConditionalStackTraceFilter.java:17)\r\n\tat org.mockito.exceptions.base.MockitoException.filterStackTrace(MockitoException.java:30)\r\n\tat org.mockito.exceptions.base.MockitoException.&lt;init&gt;(MockitoException.java:19)\r\n\tat org.mockito.exceptions.misusing.MockitoConfigurationException.&lt;init&gt;(MockitoConfigurationException.java:18)\r\n\tat org.mockito.internal.configuration.ClassPathLoader.loadImplementations(ClassPathLoader.java:145)\r\n\tat org.mockito.internal.configuration.ClassPathLoader.findPluginImplementation(ClassPathLoader.java:110)\r\n\tat org.mockito.internal.configuration.ClassPathLoader.findPlatformMockMaker(ClassPathLoader.java:106)\r\n\tat org.mockito.internal.configuration.ClassPathLoader.&lt;clinit&gt;(ClassPathLoader.java:59)\r\n\tat org.mockito.internal.util.MockUtil.&lt;clinit&gt;(MockUtil.java:21)\r\n\tat org.mockito.internal.MockitoCore.&lt;init&gt;(MockitoCore.java:40)\r\n\tat org.mockito.internal.stubbing.defaultanswers.ReturnsMocks.&lt;init&gt;(ReturnsMocks.java:18)\r\n\tat org.mockito.Answers.&lt;clinit&gt;(Answers.java:52)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat java.base/java.lang.Class.getEnumConstantsShared(Class.java:3837)\r\n\tat java.base/java.lang.Class.enumConstantDirectory(Class.java:3859)\r\n\tat java.base/java.lang.Enum.valueOf(Enum.java:267)\r\n\tat java.base/sun.reflect.annotation.AnnotationParser.parseEnumValue(AnnotationParser.java:479)\r\n\tat java.base/sun.reflect.annotation.AnnotationParser.parseMemberValue(AnnotationParser.java:344)\r\n\tat java.base/java.lang.reflect.Method.getDefaultValue(Method.java:717)\r\n\tat java.base/sun.reflect.annotation.AnnotationType.&lt;init&gt;(AnnotationType.java:133)\r\n\tat java.base/sun.reflect.annotation.AnnotationType.getInstance(AnnotationType.java:85)\r\n\tat java.base/sun.reflect.annotation.AnnotationParser.parseAnnotation2(AnnotationParser.java:262)\r\n\tat java.base/sun.reflect.annotation.AnnotationParser.parseAnnotations2(AnnotationParser.java:121)\r\n\tat java.base/sun.reflect.annotation.AnnotationParser.parseAnnotations(AnnotationParser.java:73)\r\n\tat java.base/java.lang.reflect.Field.declaredAnnotations(Field.java:1211)\r\n\tat java.base/java.lang.reflect.Field.declaredAnnotations(Field.java:1209)\r\n\tat java.base/java.lang.reflect.Field.getDeclaredAnnotations(Field.java:1197)\r\n\tat java.base/java.lang.reflect.AccessibleObject.getAnnotations(AccessibleObject.java:549)\r\n\tat org.junit.runners.model.FrameworkField.getAnnotations(FrameworkField.java:45)\r\n\tat org.junit.runners.model.TestClass.addToAnnotationLists(TestClass.java:84)\r\n\tat org.junit.runners.model.TestClass.scanAnnotatedMembers(TestClass.java:71)\r\n\tat org.junit.runners.model.TestClass.&lt;init&gt;(TestClass.java:57)\r\n\tat org.junit.runners.JUnit4.&lt;init&gt;(JUnit4.java:23)\r\n\tat org.junit.internal.builders.JUnit4Builder.runnerForClass(JUnit4Builder.java:10)\r\n\tat org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:70)\r\n\tat org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:37)\r\n\tat org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:70)\r\n\tat org.junit.internal.requests.ClassRequest.createRunner(ClassRequest.java:28)\r\n\tat org.junit.internal.requests.MemoizingRequest.getRunner(MemoizingRequest.java:19)\r\n\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:50)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;org.mockito.plugins.StackTraceCleanerProvider.getStackTraceCleaner(org.mockito.exceptions.stacktrace.StackTraceCleaner)&quot; because the return value of &quot;org.mockito.internal.configuration.ClassPathLoader.getStackTraceCleanerProvider()&quot; is null\r\n\tat org.mockito.internal.exceptions.stacktrace.StackTraceFilter.&lt;clinit&gt;(StackTraceFilter.java:21)\r\n\t... 48 more\r\n```\r\n\r\nProcess finished with exit code -1\r\n\r\n\r\nI want my test cases to run.\r\n\r\nDetails: **IntelliJ version is 2022.3.3, Junit version is 4**","title":"InitializationError on running unit tests in intelliJ idea","body":"<p>When I am trying to run a unit test from any extension in my SAP hybris project, I am getting an initialization error in the IDE which is not letting the test cases to execute.</p>\n<pre><code>&quot;C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.3.3\\jbr\\bin\\java.exe&quot; -ea -Dplatformhome=C:/Heineken_2205_NEW/Hybris_2205_7/hybris/bin/platform -Didea.test.cyclic.buffer.size=1048576 &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.3.3\\lib\\idea_rt.jar=65062:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.3.3\\bin&quot; -Dfile.encoding=UTF-8 @C:\\Users\\rishab.sud\\AppData\\Local\\Temp\\idea_arg_file810978677 com.intellij.rt.junit.JUnitStarter -ideVersion5 -junit4 com.heinekenint.etrade.b2b.core.commerceservices.order.hook.impl.EtradeCommerceRedisCartCalculationMethodHookTest\n</code></pre>\n<hr />\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.ExceptionInInitializerError\n    at org.mockito.internal.exceptions.stacktrace.ConditionalStackTraceFilter.&lt;init&gt;(ConditionalStackTraceFilter.java:17)\n    at org.mockito.exceptions.base.MockitoException.filterStackTrace(MockitoException.java:30)\n    at org.mockito.exceptions.base.MockitoException.&lt;init&gt;(MockitoException.java:19)\n    at org.mockito.exceptions.misusing.MockitoConfigurationException.&lt;init&gt;(MockitoConfigurationException.java:18)\n    at org.mockito.internal.configuration.ClassPathLoader.loadImplementations(ClassPathLoader.java:145)\n    at org.mockito.internal.configuration.ClassPathLoader.findPluginImplementation(ClassPathLoader.java:110)\n    at org.mockito.internal.configuration.ClassPathLoader.findPlatformMockMaker(ClassPathLoader.java:106)\n    at org.mockito.internal.configuration.ClassPathLoader.&lt;clinit&gt;(ClassPathLoader.java:59)\n    at org.mockito.internal.util.MockUtil.&lt;clinit&gt;(MockUtil.java:21)\n    at org.mockito.internal.MockitoCore.&lt;init&gt;(MockitoCore.java:40)\n    at org.mockito.internal.stubbing.defaultanswers.ReturnsMocks.&lt;init&gt;(ReturnsMocks.java:18)\n    at org.mockito.Answers.&lt;clinit&gt;(Answers.java:52)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at java.base/java.lang.Class.getEnumConstantsShared(Class.java:3837)\n    at java.base/java.lang.Class.enumConstantDirectory(Class.java:3859)\n    at java.base/java.lang.Enum.valueOf(Enum.java:267)\n    at java.base/sun.reflect.annotation.AnnotationParser.parseEnumValue(AnnotationParser.java:479)\n    at java.base/sun.reflect.annotation.AnnotationParser.parseMemberValue(AnnotationParser.java:344)\n    at java.base/java.lang.reflect.Method.getDefaultValue(Method.java:717)\n    at java.base/sun.reflect.annotation.AnnotationType.&lt;init&gt;(AnnotationType.java:133)\n    at java.base/sun.reflect.annotation.AnnotationType.getInstance(AnnotationType.java:85)\n    at java.base/sun.reflect.annotation.AnnotationParser.parseAnnotation2(AnnotationParser.java:262)\n    at java.base/sun.reflect.annotation.AnnotationParser.parseAnnotations2(AnnotationParser.java:121)\n    at java.base/sun.reflect.annotation.AnnotationParser.parseAnnotations(AnnotationParser.java:73)\n    at java.base/java.lang.reflect.Field.declaredAnnotations(Field.java:1211)\n    at java.base/java.lang.reflect.Field.declaredAnnotations(Field.java:1209)\n    at java.base/java.lang.reflect.Field.getDeclaredAnnotations(Field.java:1197)\n    at java.base/java.lang.reflect.AccessibleObject.getAnnotations(AccessibleObject.java:549)\n    at org.junit.runners.model.FrameworkField.getAnnotations(FrameworkField.java:45)\n    at org.junit.runners.model.TestClass.addToAnnotationLists(TestClass.java:84)\n    at org.junit.runners.model.TestClass.scanAnnotatedMembers(TestClass.java:71)\n    at org.junit.runners.model.TestClass.&lt;init&gt;(TestClass.java:57)\n    at org.junit.runners.JUnit4.&lt;init&gt;(JUnit4.java:23)\n    at org.junit.internal.builders.JUnit4Builder.runnerForClass(JUnit4Builder.java:10)\n    at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:70)\n    at org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:37)\n    at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:70)\n    at org.junit.internal.requests.ClassRequest.createRunner(ClassRequest.java:28)\n    at org.junit.internal.requests.MemoizingRequest.getRunner(MemoizingRequest.java:19)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:50)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;org.mockito.plugins.StackTraceCleanerProvider.getStackTraceCleaner(org.mockito.exceptions.stacktrace.StackTraceCleaner)&quot; because the return value of &quot;org.mockito.internal.configuration.ClassPathLoader.getStackTraceCleanerProvider()&quot; is null\n    at org.mockito.internal.exceptions.stacktrace.StackTraceFilter.&lt;clinit&gt;(StackTraceFilter.java:21)\n    ... 48 more\n</code></pre>\n<p>Process finished with exit code -1</p>\n<p>I want my test cases to run.</p>\n<p>Details: <strong>IntelliJ version is 2022.3.3, Junit version is 4</strong></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":2,"creation_date":1689074347,"post_id":76661412,"comment_id":135158651,"body_markdown":"*&quot;during a power loss&quot;* - tbh, any **unflushed** data will be gone. you should invest on backup power, UPS or something.","body":"<i>&quot;during a power loss&quot;</i> - tbh, any <b>unflushed</b> data will be gone. you should invest on backup power, UPS or something."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1689074449,"post_id":76661412,"comment_id":135158671,"body_markdown":"As Bagus Tesa said any unflushed data will be gone. What happens to the rest really depends on the exact OS, filesystem and settings you are using. Some filesystems are built for reliability as the primary goal and will ensure that only consistent views are possible, others might reorder writes and have &quot;nonsense&quot; results (such as some blocks of data missing/zeroed and further blocks being written correctly).","body":"As Bagus Tesa said any unflushed data will be gone. What happens to the rest really depends on the exact OS, filesystem and settings you are using. Some filesystems are built for reliability as the primary goal and will ensure that only consistent views are possible, others might reorder writes and have &quot;nonsense&quot; results (such as some blocks of data missing/zeroed and further blocks being written correctly)."},{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1689074613,"post_id":76661412,"comment_id":135158707,"body_markdown":"maybe we should attack the problem from different angle. like, *&quot;can we detect the shutdown signal?&quot;* if yes, we should shutdown the device properly (if possible). then, to prevent total power loss we should make it have some batteries or something. to be considered is to have the data not on the edge device (raspberry pi) itself but rather send them somewhere with better fault protection.","body":"maybe we should attack the problem from different angle. like, <i>&quot;can we detect the shutdown signal?&quot;</i> if yes, we should shutdown the device properly (if possible). then, to prevent total power loss we should make it have some batteries or something. to be considered is to have the data not on the edge device (raspberry pi) itself but rather send them somewhere with better fault protection."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1689075451,"post_id":76661412,"comment_id":135158883,"body_markdown":"Data &quot;corruption&quot; would be dependent on the type of data.  Possibly set up a writing process that will append the data in buffered segments; as to provide some sort of mechanism for retrieving incomplete data, during a corruption.","body":"Data &quot;corruption&quot; would be dependent on the type of data.  Possibly set up a writing process that will append the data in buffered segments; as to provide some sort of mechanism for retrieving incomplete data, during a corruption."}],"answers":[{"tags":[],"owner":{"account_id":14794402,"reputation":1,"user_id":10684385,"display_name":"Soheil Babadi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689074597,"creation_date":1689074597,"answer_id":76661459,"question_id":76661412,"body_markdown":"When the power goes out or JVM crashes during write process, there is a risk of data corruption. The behavior depends on various factors, such as the underlying operating system and file system.\r\n\r\nIn general, when you use `Files.write` with the `CREATE` and `APPEND` options, it will create a new file if it doesn&#39;t exist and append the provided data to the file if it already exists. If the write process gets interrupted due to a power outage or JVM crash, the file might be left in an inconsistent state.","title":"Appending data to a file during a power loss","body":"<p>When the power goes out or JVM crashes during write process, there is a risk of data corruption. The behavior depends on various factors, such as the underlying operating system and file system.</p>\n<p>In general, when you use <code>Files.write</code> with the <code>CREATE</code> and <code>APPEND</code> options, it will create a new file if it doesn't exist and append the provided data to the file if it already exists. If the write process gets interrupted due to a power outage or JVM crash, the file might be left in an inconsistent state.</p>\n"},{"tags":[],"owner":{"account_id":25909017,"reputation":554,"user_id":19633625,"display_name":"Louis"},"down_vote_count":2,"up_vote_count":3,"is_accepted":true,"score":1,"last_activity_date":1689074702,"creation_date":1689074702,"answer_id":76661475,"question_id":76661412,"body_markdown":"If the power goes out or the JVM crashes during a write operation, it&#39;s possible that the data being written will be corrupted.\r\n\r\nTypical scenarios are:\r\n1. Partial Write: If the power goes out during a write operation, it&#39;s possible that only a portion of the bytes in your byte array got written to the disk. This means that the file may contain some new data, but not all of the new data.\r\n\r\n2. Corruption: In some cases, a sudden power loss or system crash can result in the corruption of the file. This can happen if the system was in the middle of updating file metadata (like location of data blocks, file size, etc.) when the power loss occurred. However, such cases are quite rare with modern file systems.\r\n\r\nFor your use-case, you might want to consider the following:\r\n1. Use a Database: If you&#39;re dealing with a lot of data, consider using a database system that is designed to handle power failures and crashes. SQLite could be a good choice for a Raspberry Pi system as it is a very lightweight database.\r\n```java\r\ntry {\r\n    // Connect to the SQLite database\r\n    Connection connection = DriverManager.getConnection(&quot;jdbc:sqlite:database_path&quot;);\r\n\r\n    // Create a binary blob and write data to it\r\n    String sql = &quot;INSERT INTO your_table (blob_column) VALUES (?)&quot;;\r\n    PreparedStatement pstmt = connection.prepareStatement(sql);\r\n\r\n    pstmt.setBytes(1, bytes);\r\n    pstmt.executeUpdate();\r\n\r\n} catch (SQLException e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\n\r\n2. Flush and Sync: To make sure your write operations are immediately reflected in the file, you can flush the output stream and then sync the changes to the disk. This minimizes the amount of data that can be lost in the event of a power outage. However, keep in mind that this can impact your application&#39;s performance due to more frequent disk I/O operations.\r\n```java\r\ntry (FileOutputStream out = new FileOutputStream(&quot;file_path&quot;)) {\r\n    out.write(bytes);\r\n    out.getFD().sync();  // This forces the output bytes to be written to disk\r\n} catch (IOException e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\n\r\n3. Write to a Temporary File First: Another approach is to first write the data to a temporary file. Once the write operation is complete, you can then rename the temporary file to the final file. This ensures that you always have a complete version of the data from before the write operation started. If a power loss happens during the write, you might lose the new data but you&#39;ll still have the old data.\r\n```java\r\ntry {\r\n    // Write data to a temporary file\r\n    Path tempPath = Paths.get(&quot;temp_file_path&quot;);\r\n    Files.write(tempPath, bytes, StandardOpenOption.CREATE);\r\n\r\n    // Rename the temporary file to the final file\r\n    Path finalPath = Paths.get(&quot;final_file_path&quot;);\r\n    Files.move(tempPath, finalPath, StandardCopyOption.REPLACE_EXISTING);\r\n\r\n} catch (IOException e) {\r\n    e.printStackTrace();\r\n}\r\n```","title":"Appending data to a file during a power loss","body":"<p>If the power goes out or the JVM crashes during a write operation, it's possible that the data being written will be corrupted.</p>\n<p>Typical scenarios are:</p>\n<ol>\n<li><p>Partial Write: If the power goes out during a write operation, it's possible that only a portion of the bytes in your byte array got written to the disk. This means that the file may contain some new data, but not all of the new data.</p>\n</li>\n<li><p>Corruption: In some cases, a sudden power loss or system crash can result in the corruption of the file. This can happen if the system was in the middle of updating file metadata (like location of data blocks, file size, etc.) when the power loss occurred. However, such cases are quite rare with modern file systems.</p>\n</li>\n</ol>\n<p>For your use-case, you might want to consider the following:</p>\n<ol>\n<li>Use a Database: If you're dealing with a lot of data, consider using a database system that is designed to handle power failures and crashes. SQLite could be a good choice for a Raspberry Pi system as it is a very lightweight database.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    // Connect to the SQLite database\n    Connection connection = DriverManager.getConnection(&quot;jdbc:sqlite:database_path&quot;);\n\n    // Create a binary blob and write data to it\n    String sql = &quot;INSERT INTO your_table (blob_column) VALUES (?)&quot;;\n    PreparedStatement pstmt = connection.prepareStatement(sql);\n\n    pstmt.setBytes(1, bytes);\n    pstmt.executeUpdate();\n\n} catch (SQLException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<ol start=\"2\">\n<li>Flush and Sync: To make sure your write operations are immediately reflected in the file, you can flush the output stream and then sync the changes to the disk. This minimizes the amount of data that can be lost in the event of a power outage. However, keep in mind that this can impact your application's performance due to more frequent disk I/O operations.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>try (FileOutputStream out = new FileOutputStream(&quot;file_path&quot;)) {\n    out.write(bytes);\n    out.getFD().sync();  // This forces the output bytes to be written to disk\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<ol start=\"3\">\n<li>Write to a Temporary File First: Another approach is to first write the data to a temporary file. Once the write operation is complete, you can then rename the temporary file to the final file. This ensures that you always have a complete version of the data from before the write operation started. If a power loss happens during the write, you might lose the new data but you'll still have the old data.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    // Write data to a temporary file\n    Path tempPath = Paths.get(&quot;temp_file_path&quot;);\n    Files.write(tempPath, bytes, StandardOpenOption.CREATE);\n\n    // Rename the temporary file to the final file\n    Path finalPath = Paths.get(&quot;final_file_path&quot;);\n    Files.move(tempPath, finalPath, StandardCopyOption.REPLACE_EXISTING);\n\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":19401148,"reputation":33,"user_id":14187683,"display_name":"Palm"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76661475,"answer_count":2,"score":0,"last_activity_date":1689074702,"creation_date":1689074163,"question_id":76661412,"body_markdown":"I am writing a `byte[]` to a file using `Files.write(filePath, data, StandardOpenOption.CREATE, StandardOpenOption.APPEND);`\r\n\r\nWhat happens to the file when the power goes out or the JVM crashes during the write process? Does it corrupt the data that is currently written to the file, or even the file entirely?\r\n\r\nBackground: I am running a data recording application on a Raspberry Pi and the method to turn it off is unplugging it.\r\n\r\nWhat do you think or do you have any suggestions?","title":"Appending data to a file during a power loss","body":"<p>I am writing a <code>byte[]</code> to a file using <code>Files.write(filePath, data, StandardOpenOption.CREATE, StandardOpenOption.APPEND);</code></p>\n<p>What happens to the file when the power goes out or the JVM crashes during the write process? Does it corrupt the data that is currently written to the file, or even the file entirely?</p>\n<p>Background: I am running a data recording application on a Raspberry Pi and the method to turn it off is unplugging it.</p>\n<p>What do you think or do you have any suggestions?</p>\n"},{"tags":["java","android","kotlin","augmented-reality","arcore"],"comments":[{"owner":{"account_id":1446933,"reputation":1888,"user_id":1365061,"accept_rate":78,"display_name":"Alex"},"score":0,"creation_date":1596116898,"post_id":63173426,"comment_id":111713319,"body_markdown":"What is the &quot;always same&quot; result? Share more information.","body":"What is the &quot;always same&quot; result? Share more information."}],"answers":[{"tags":[],"owner":{"account_id":8297053,"reputation":727,"user_id":6236959,"display_name":"Shubham Kumar Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689074176,"creation_date":1688543375,"answer_id":76618168,"question_id":63173426,"body_markdown":"try this\r\n\r\n \r\n\r\n    model?.thenAccept {\r\n                                            val badge = Node()\r\n                                            val localPosition = Vector3()\r\n                                            localPosition.set(0.0f, -0.25f, 0.0f)\r\n                                            badge.localScale = Vector3(-0.12f, 0.12f, 0.12f)\r\n    //                                    badge.localRotation = Quaternion.axisAngle(Vector3(0.0f, 1.0f, 0.0f), 180f)\r\n                                            badge.localPosition = localPosition\r\n                                            badge.setParent(faceNode)\r\n                                            badge.renderable = it\r\n                                        \r\n                                    }\r\n\r\nIt&#39;s part of some code I wrote [here](https://gptshubham595.medium.com/unveiling-the-world-of-ar-with-arcore-my-journey-of-exploration-practical-guide-86ac7f54b34).","title":"How to change 3D Object Node Position Change in ARCore?","body":"<p>try this</p>\n<pre><code>model?.thenAccept {\n                                        val badge = Node()\n                                        val localPosition = Vector3()\n                                        localPosition.set(0.0f, -0.25f, 0.0f)\n                                        badge.localScale = Vector3(-0.12f, 0.12f, 0.12f)\n//                                    badge.localRotation = Quaternion.axisAngle(Vector3(0.0f, 1.0f, 0.0f), 180f)\n                                        badge.localPosition = localPosition\n                                        badge.setParent(faceNode)\n                                        badge.renderable = it\n                                    \n                                }\n</code></pre>\n<p>It's part of some code I wrote <a href=\"https://gptshubham595.medium.com/unveiling-the-world-of-ar-with-arcore-my-journey-of-exploration-practical-guide-86ac7f54b34\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":7714031,"reputation":161,"user_id":5842422,"display_name":"Keshav Gangwal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689074176,"creation_date":1596112983,"question_id":63173426,"body_markdown":"I am trying to set Node Position (one here as example):                      \r\n\r\n    faceNode.setLocalPosition(new Vector3(faceNode.getLocalPosition().x, (float) (faceNode.getLocalPosition().y+22.2), (float) (faceNode.getLocalPosition().z-50)));\r\n\r\nBut the results always same.\r\n","title":"How to change 3D Object Node Position Change in ARCore?","body":"<p>I am trying to set Node Position (one here as example):</p>\n<pre><code>faceNode.setLocalPosition(new Vector3(faceNode.getLocalPosition().x, (float) (faceNode.getLocalPosition().y+22.2), (float) (faceNode.getLocalPosition().z-50)));\n</code></pre>\n<p>But the results always same.</p>\n"},{"tags":["java","arrays","unsafe"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1689068930,"post_id":76660675,"comment_id":135157516,"body_markdown":"Maybe https://bugs.java.com/bugdatabase/ is the better place to ask","body":"Maybe <a href=\"https://bugs.java.com/bugdatabase/\" rel=\"nofollow noreferrer\">bugs.java.com/bugdatabase</a> is the better place to ask"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1689070184,"post_id":76660675,"comment_id":135157784,"body_markdown":"Read the documentation of `getAddress`. It does not do what you try to do. You&#39;re trying to dereference the *value* of that array cell (which will be 0), which causes a segmentation fault (the native equivalent of a NPE).","body":"Read the documentation of <code>getAddress</code>. It does not do what you try to do. You&#39;re trying to dereference the <i>value</i> of that array cell (which will be 0), which causes a segmentation fault (the native equivalent of a NPE)."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1689071035,"post_id":76660675,"comment_id":135157970,"body_markdown":"seems like the `Unsafe` class is unsafe to use; from the [javadoc](https://github.com/openjdk/jdk/blob/4b1403d06b99b91ddd89ad6e54669b0595f1f8e5/src/java.base/share/classes/jdk/internal/misc/Unsafe.java#L257): &quot;*Fetches a native pointer from a given memory address. If the address is zero, or ... , the results are undefined.*&quot;","body":"seems like the <code>Unsafe</code> class is unsafe to use; from the <a href=\"https://github.com/openjdk/jdk/blob/4b1403d06b99b91ddd89ad6e54669b0595f1f8e5/src/java.base/share/classes/jdk/internal/misc/Unsafe.java#L257\" rel=\"nofollow noreferrer\">javadoc</a>: &quot;<i>Fetches a native pointer from a given memory address. If the address is zero, or ... , the results are undefined.</i>&quot;"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1689091452,"post_id":76660675,"comment_id":135162862,"body_markdown":"*`I still want to know the exact memory address of each array element`* Why would you need the actual address?   What is the use case for this? This has the indications of an XY problem.","body":"<i><code>I still want to know the exact memory address of each array element</code></i> Why would you need the actual address?   What is the use case for this? This has the indications of an XY problem."}],"owner":{"account_id":21561112,"reputation":11,"user_id":15895665,"display_name":"littlestone"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1689070416,"answer_count":0,"score":0,"last_activity_date":1689073926,"creation_date":1689068805,"question_id":76660675,"body_markdown":"When I try to get memory adress of each element in array.I tried to run code as below\r\n\r\n```\r\nimport sun.misc.Unsafe;\r\n\r\nimport java.lang.reflect.Field;\r\nimport static sun.misc.Unsafe.getUnsafe;\r\n\r\npublic class test_arr {\r\n    public static void main(String args[]) throws NoSuchFieldException, IllegalAccessException {\r\n        Field theUnsafeField = Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);\r\n        theUnsafeField.setAccessible(true);\r\n        Unsafe u = (Unsafe) theUnsafeField.get(null);\r\n        int[][] arr = new int[3][4];\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            for (int j = 0; j &lt; arr[i].length; j++) {\r\n                System.out.println(u.getAddress(arr[i][j]));\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\nBut i meet this error.\r\n[A fatal error has been detected by the Java Runtime Environment](https://i.stack.imgur.com/T6xX7.png)\r\n\r\nI have looked the [https://mishadoff.com/blog/java-magic-part-4-sun-dot-misc-dot-unsafe/](https://mishadoff.com/blog/java-magic-part-4-sun-dot-misc-dot-unsafe/) But i can&#39;t fix this error.\r\nif someone konws how to fix it,please tell me,thanks!\r\n\r\nAs suggested by the comments I changed the code.\r\n\r\n    public class test_arr {\r\n    private static long normalize(int value) {\r\n        if (value &gt;= 0) return value;\r\n        return (~0L &gt;&gt;&gt; 32) &amp; value;\r\n    }\r\n\r\n    static long toAddress(Object obj) throws NoSuchFieldException, IllegalAccessException {\r\n        Object[] array = new Object[]{obj};\r\n        Field theUnsafeField = Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);\r\n        theUnsafeField.setAccessible(true);\r\n        Unsafe u = (Unsafe) theUnsafeField.get(null);\r\n        long baseOffset = u.arrayBaseOffset(Object[].class);\r\n        return normalize(u.getInt(array, baseOffset));\r\n    }\r\n\r\n\r\n    public static void main(String args[]) throws NoSuchFieldException, IllegalAccessException {\r\n        int[][] arr = new int[3][4];\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            for (int j = 0; j &lt; arr[i].length; j++) {\r\n                double random = Math.random();\r\n                arr[i][j] = (int) (random);\r\n            }\r\n        }\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            for (int j = 0; j &lt; arr[i].length; j++) {\r\n                long address = toAddress(arr[i]);\r\n                System.out.println((Long.toHexString(address)));\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\nThe output looks like you can infer the addresses of the array elements.But it&#39;s still not possible to know the exact position of each element.\r\n```\r\nd57431a7\r\nd57431a7\r\nd57431a7\r\nd57431a7\r\nd57431ab\r\nd57431ab\r\nd57431ab\r\nd57431ab\r\nd57431af\r\nd57431af\r\nd57431af\r\nd57431af\r\n```\r\nI still want to know the exact memory address of each array element, how should I do that, thanks!\r\n","title":"how to get memory address of each array&#39;s element in java?","body":"<p>When I try to get memory adress of each element in array.I tried to run code as below</p>\n<pre><code>import sun.misc.Unsafe;\n\nimport java.lang.reflect.Field;\nimport static sun.misc.Unsafe.getUnsafe;\n\npublic class test_arr {\n    public static void main(String args[]) throws NoSuchFieldException, IllegalAccessException {\n        Field theUnsafeField = Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);\n        theUnsafeField.setAccessible(true);\n        Unsafe u = (Unsafe) theUnsafeField.get(null);\n        int[][] arr = new int[3][4];\n        for (int i = 0; i &lt; arr.length; i++) {\n            for (int j = 0; j &lt; arr[i].length; j++) {\n                System.out.println(u.getAddress(arr[i][j]));\n            }\n        }\n    }\n\n}\n\n</code></pre>\n<p>But i meet this error.\n<a href=\"https://i.stack.imgur.com/T6xX7.png\" rel=\"nofollow noreferrer\">A fatal error has been detected by the Java Runtime Environment</a></p>\n<p>I have looked the <a href=\"https://mishadoff.com/blog/java-magic-part-4-sun-dot-misc-dot-unsafe/\" rel=\"nofollow noreferrer\">https://mishadoff.com/blog/java-magic-part-4-sun-dot-misc-dot-unsafe/</a> But i can't fix this error.\nif someone konws how to fix it,please tell me,thanks!</p>\n<p>As suggested by the comments I changed the code.</p>\n<pre><code>public class test_arr {\nprivate static long normalize(int value) {\n    if (value &gt;= 0) return value;\n    return (~0L &gt;&gt;&gt; 32) &amp; value;\n}\n\nstatic long toAddress(Object obj) throws NoSuchFieldException, IllegalAccessException {\n    Object[] array = new Object[]{obj};\n    Field theUnsafeField = Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);\n    theUnsafeField.setAccessible(true);\n    Unsafe u = (Unsafe) theUnsafeField.get(null);\n    long baseOffset = u.arrayBaseOffset(Object[].class);\n    return normalize(u.getInt(array, baseOffset));\n}\n\n\npublic static void main(String args[]) throws NoSuchFieldException, IllegalAccessException {\n    int[][] arr = new int[3][4];\n    for (int i = 0; i &lt; arr.length; i++) {\n        for (int j = 0; j &lt; arr[i].length; j++) {\n            double random = Math.random();\n            arr[i][j] = (int) (random);\n        }\n    }\n    for (int i = 0; i &lt; arr.length; i++) {\n        for (int j = 0; j &lt; arr[i].length; j++) {\n            long address = toAddress(arr[i]);\n            System.out.println((Long.toHexString(address)));\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n<p>The output looks like you can infer the addresses of the array elements.But it's still not possible to know the exact position of each element.</p>\n<pre><code>d57431a7\nd57431a7\nd57431a7\nd57431a7\nd57431ab\nd57431ab\nd57431ab\nd57431ab\nd57431af\nd57431af\nd57431af\nd57431af\n</code></pre>\n<p>I still want to know the exact memory address of each array element, how should I do that, thanks!</p>\n"},{"tags":["java","spring-boot","spring-3"],"comments":[{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1689076034,"post_id":76661387,"comment_id":135159000,"body_markdown":"Does this answer your question? [Modify default JSON error response from Spring Boot Rest Controller](https://stackoverflow.com/questions/29106637/modify-default-json-error-response-from-spring-boot-rest-controller)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/29106637/modify-default-json-error-response-from-spring-boot-rest-controller\">Modify default JSON error response from Spring Boot Rest Controller</a>"}],"owner":{"account_id":26669791,"reputation":41,"user_id":20281373,"display_name":"Reid2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689073895,"creation_date":1689073895,"question_id":76661387,"body_markdown":"I&#39;m throwing the following response status exception in my Spring Boot 3.0 application. \r\n\r\n```\r\nthrow new ResponseStatusException(HttpStatus.BAD_REQUEST, &quot;No ids have been provided&quot;);\r\n```\r\n\r\nThis returns the following json error message. But, I don&#39;t need the `type` and `properties` attributes in this response. Is there away to remove them from the returned json object? \r\n\r\n```\r\n{\r\n\t&quot;type&quot;: &quot;about:blank&quot;,\r\n\t&quot;title&quot;: &quot;Bad Request&quot;,\r\n\t&quot;status&quot;: 400,\r\n\t&quot;detail&quot;: &quot;No ids have been provided&quot;,\r\n\t&quot;instance&quot;: &quot;/api/&quot;,\r\n\t&quot;properties&quot;: null\r\n}\r\n```\r\n\r\n","title":"Remove type and properties from ResponseStatusException","body":"<p>I'm throwing the following response status exception in my Spring Boot 3.0 application.</p>\n<pre><code>throw new ResponseStatusException(HttpStatus.BAD_REQUEST, &quot;No ids have been provided&quot;);\n</code></pre>\n<p>This returns the following json error message. But, I don't need the <code>type</code> and <code>properties</code> attributes in this response. Is there away to remove them from the returned json object?</p>\n<pre><code>{\n    &quot;type&quot;: &quot;about:blank&quot;,\n    &quot;title&quot;: &quot;Bad Request&quot;,\n    &quot;status&quot;: 400,\n    &quot;detail&quot;: &quot;No ids have been provided&quot;,\n    &quot;instance&quot;: &quot;/api/&quot;,\n    &quot;properties&quot;: null\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3131387,"reputation":1799,"user_id":2649079,"display_name":"Nadir"},"score":0,"creation_date":1461134086,"post_id":36735543,"comment_id":61054022,"body_markdown":"Instead of use other classes variables in other classes, make a copy of the variable locally in the class you are going to use it.","body":"Instead of use other classes variables in other classes, make a copy of the variable locally in the class you are going to use it."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1461134241,"post_id":36735543,"comment_id":61054100,"body_markdown":"Welcome to StackOverflow! It&#39;s somewhat difficult to understand what you are asking. Maybe adding a simple code example would help. There is nothing wrong with using a public static variable other than it isn&#39;t encapsulated, which is somewhat against the concept of object oriented programming","body":"Welcome to StackOverflow! It&#39;s somewhat difficult to understand what you are asking. Maybe adding a simple code example would help. There is nothing wrong with using a public static variable other than it isn&#39;t encapsulated, which is somewhat against the concept of object oriented programming"},{"owner":{"account_id":4271589,"reputation":4111,"user_id":3493289,"accept_rate":83,"display_name":"MS Srikkanth"},"score":1,"creation_date":1461134274,"post_id":36735543,"comment_id":61054116,"body_markdown":"Though you can do it, it is not a good idea unless the variable is final. Like for example PI or E in class Math are defined as public final static double. Think why you need to do so before doing it.","body":"Though you can do it, it is not a good idea unless the variable is final. Like for example PI or E in class Math are defined as public final static double. Think why you need to do so before doing it."}],"answers":[{"tags":[],"owner":{"account_id":8164709,"reputation":6730,"user_id":6147506,"accept_rate":79,"display_name":"nhouser9"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461134127,"creation_date":1461134127,"answer_id":36735624,"question_id":36735543,"body_markdown":"Yes, you can use a `public static` method to access variables of another class in Java. Something like:\r\n\r\n    public static int variable;\r\n\r\nAnd then from another class:\r\n\r\n    ExternalClass.variable;\r\n\r\nPlease keep in mind that making a variable static means that it is not tied to any specific instance of your class. If you have a class `Example`, and you do:\r\n\r\n    Example e = new Example();\r\n\r\na static variable of class Example belongs to the class (`Example.variable`) not the instance (`e.variable`).","title":"Can we use public static variable ,to use vaiable of one class in other class in java","body":"<p>Yes, you can use a <code>public static</code> method to access variables of another class in Java. Something like:</p>\n\n<pre><code>public static int variable;\n</code></pre>\n\n<p>And then from another class:</p>\n\n<pre><code>ExternalClass.variable;\n</code></pre>\n\n<p>Please keep in mind that making a variable static means that it is not tied to any specific instance of your class. If you have a class <code>Example</code>, and you do:</p>\n\n<pre><code>Example e = new Example();\n</code></pre>\n\n<p>a static variable of class Example belongs to the class (<code>Example.variable</code>) not the instance (<code>e.variable</code>).</p>\n"},{"tags":[],"owner":{"account_id":2009930,"reputation":705,"user_id":1798649,"display_name":"Faisal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461134145,"creation_date":1461134145,"answer_id":36735631,"question_id":36735543,"body_markdown":"Yes you can use static variables to use values in other class. because static variables resides in memory throughout the application life cycle. ","title":"Can we use public static variable ,to use vaiable of one class in other class in java","body":"<p>Yes you can use static variables to use values in other class. because static variables resides in memory throughout the application life cycle. </p>\n"},{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640757952,"creation_date":1461134775,"answer_id":36735840,"question_id":36735543,"body_markdown":"The quick answer is no. In general terms, you should be careful about exposing VARIABLES; even more if they are static fields. This approach changes with regards to CONSTANTS. I would use static modifier to expose constants because there is no risk of accidentally modifying its value.\r\n\r\nRemember, changes in value of a static field affects to ALL instances of that class; because it is a property of the class itself and not the individual instances.","title":"Can we use public static variable ,to use vaiable of one class in other class in java","body":"<p>The quick answer is no. In general terms, you should be careful about exposing VARIABLES; even more if they are static fields. This approach changes with regards to CONSTANTS. I would use static modifier to expose constants because there is no risk of accidentally modifying its value.</p>\n<p>Remember, changes in value of a static field affects to ALL instances of that class; because it is a property of the class itself and not the individual instances.</p>\n"},{"tags":[],"owner":{"account_id":8072869,"reputation":129,"user_id":6085012,"accept_rate":80,"display_name":"Aaronward"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461145829,"creation_date":1461145829,"answer_id":36740016,"question_id":36735543,"body_markdown":"You could use setters and getters to create a new variable in another class of that value. This is called instance variables. \r\n\r\nHeres and example.\r\n     \r\n    public class Car\r\n    {\r\n\r\n     private int milage = 100;\r\n\r\n      //........\r\n\r\n      \r\n     public int getMilage()\r\n     {\r\n        return this.milage;\r\n     }\r\n\r\n\r\n\r\nThen in the other class create an instance of that class.\r\n    \r\n\r\n\r\n     public class ExampleClass\r\n    {\r\n      public static void main(String [] args)\r\n      { \r\n        Car c = new Car();\r\n        \r\n        int newMilageVariable = c.getMilage();\r\n\r\n        System.out.println(newMilageVariable);\r\n      }\r\n    }\r\n\r\n*************\r\n\r\nAdditionally, you can use a static variable that can be accessed trough out other classes. The following code example should suffice.\r\n    \r\n     public static int milage;\r\n     \r\n\r\n     //********************\r\n    public class ExampleClass\r\n    {\r\n    \r\n      //..............\r\n\r\n      Car c = new Car();   // new car object\r\n      int milage = c.milage;  //access the static variable\r\n    }\r\n\r\n","title":"Can we use public static variable ,to use vaiable of one class in other class in java","body":"<p>You could use setters and getters to create a new variable in another class of that value. This is called instance variables. </p>\n\n<p>Heres and example.</p>\n\n<pre><code>public class Car\n{\n\n private int milage = 100;\n\n  //........\n\n\n public int getMilage()\n {\n    return this.milage;\n }\n</code></pre>\n\n<p>Then in the other class create an instance of that class.</p>\n\n<pre><code> public class ExampleClass\n{\n  public static void main(String [] args)\n  { \n    Car c = new Car();\n\n    int newMilageVariable = c.getMilage();\n\n    System.out.println(newMilageVariable);\n  }\n}\n</code></pre>\n\n<hr>\n\n<p>Additionally, you can use a static variable that can be accessed trough out other classes. The following code example should suffice.</p>\n\n<pre><code> public static int milage;\n\n\n //********************\npublic class ExampleClass\n{\n\n  //..............\n\n  Car c = new Car();   // new car object\n  int milage = c.milage;  //access the static variable\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28612253,"reputation":3,"user_id":21906993,"display_name":"Numaira Nawaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689073520,"creation_date":1689073520,"answer_id":76661344,"question_id":36735543,"body_markdown":"Yes, Static variable and static methods can use in any other class by the class reference.\r\n\r\n    MyClass.staticvariablename;\r\n    MyClass.anyStaticMethod();\r\n\r\nMyClass is having static variable and method that we can use in any other class with the reference class that have the respective method/Variable.\r\n\r\n\r\n","title":"Can we use public static variable ,to use vaiable of one class in other class in java","body":"<p>Yes, Static variable and static methods can use in any other class by the class reference.</p>\n<pre><code>MyClass.staticvariablename;\nMyClass.anyStaticMethod();\n</code></pre>\n<p>MyClass is having static variable and method that we can use in any other class with the reference class that have the respective method/Variable.</p>\n"}],"owner":{"account_id":7391049,"reputation":31,"user_id":5624411,"accept_rate":0,"display_name":"sachin.g"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1689073520,"creation_date":1461133850,"question_id":36735543,"body_markdown":"Can we use `public static` variable, to use variable of one class in other class  in Java? Some people said it should not be used beacuse when class unloaded the variables will assigned to `null`.\r\n\r\nIs this correct if it is correct we should not use `public static` variable, to use variable of one class in other class  in Java. So what is the easy method.\r\n\r\n1. creating object and use the variable \r\n2. create interface class.\r\n\r\nWhich is the standard method is being used for Java to use the variable of one class in other class?\r\n\r\n**Update:**\r\n\r\n    public class BluetoothLePlugin extends CordovaPlugin\r\n    {\r\n    public static CallbackContext callBack;\r\n    public boolean execute(final String action, JSONArray args, CallbackContext callbackContext) throws JSONException {\r\n    \r\n    callBack=callbackContext;\r\n    \r\n    \r\n    }\r\n    \r\n    \r\n    }\r\n\r\nHere I am getting Callbackcontext i want to use this callback context in other classes like \r\n\r\n    public class mainClass{\r\n    \r\n      public void onCreate() {\r\n    \r\n    \r\n            BluetoothUtils mBluetoothUtils = new BluetoothUtils(mActivity);\r\n            BluetoothAdapter.LeScanCallback  mLeScanCallback =null;\r\n            mLeScanCallback = new BluetoothAdapter.LeScanCallback() {\r\n                @Override\r\n                public void onLeScan(final BluetoothDevice device, final int rssi, final byte[] scanRecord) {\r\n    \r\n    \r\n                    Log.d(&quot;BluetoothLeDevice&quot;, &quot; &quot; + device + &quot; &quot; + device.getName() + &quot;      &quot; + rssi + &quot;    &quot; + scanRecord + &quot;  &quot; + device.getAddress());\r\n                    mDeviceAdress = &quot;80:98:00:98:00:5A&quot;;\r\n    \r\n                    jsonobdevice = new JSONObject();\r\n                    if (device.getName() != null &amp;&amp; device.getName().trim().length() &gt; 0) {\r\n    \r\n                        try {\r\n    \r\n                            if (!jsonobdevice.has(&quot;uuid)&quot;) ){\r\n                                jsonobdevice.put(&quot;name&quot;, device.getName());\r\n                                jsonobdevice.put(&quot;uuid&quot;, device.getAddress());\r\n                                jsonobdevice.put(&quot;state&quot;, &quot;&quot;);\r\n                                jsonarraydevice.put(jsonobdevice);\r\n                                Log.d(&quot;&quot;, &quot; &quot; + jsonarraydevice);\r\n                                PluginResult result = new PluginResult(PluginResult.Status.OK, jsonarraydevice);\r\n                   result.setKeepCallback(true);\r\n    \r\n                                BluetoothLePlugin.callBack.sendPluginResult(result);//Here I am using callback context like this\r\n                            }\r\n    \r\n                        } catch (JSONException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                  //  Callbackpublic.webView.loadUrl(&quot;javascript:&quot;);\r\n    \r\n    \r\n                }\r\n            };\r\n    \r\n            BluetoothLeScanner mScanner = new BluetoothLeScanner(mLeScanCallback, mBluetoothUtils);\r\n            boolean mIsBluetoothOn = mBluetoothUtils.isBluetoothOn();\r\n            boolean mIsBluetoothLePresent = mBluetoothUtils.isBluetoothLeSupported();\r\n    \r\n            mBluetoothUtils.askUserToEnableBluetoothIfNeeded();\r\n            if (mIsBluetoothOn &amp;&amp; mIsBluetoothLePresent) {\r\n                mScanner.scanLeDevice(-1, true);\r\n    \r\n            }\r\n    \r\n        }\r\n    }\r\n\r\nI am using like this in the above class\r\n\r\n    BluetoothLePlugin.callBack.sendPluginResult(result);\r\n\r\n\r\nIs what I am doing. Is correct my seniors told dont use public static. So I am Asking question.If it is wrong, what is the solution.\r\n\r\n","title":"Can we use public static variable ,to use vaiable of one class in other class in java","body":"<p>Can we use <code>public static</code> variable, to use variable of one class in other class  in Java? Some people said it should not be used beacuse when class unloaded the variables will assigned to <code>null</code>.</p>\n\n<p>Is this correct if it is correct we should not use <code>public static</code> variable, to use variable of one class in other class  in Java. So what is the easy method.</p>\n\n<ol>\n<li>creating object and use the variable </li>\n<li>create interface class.</li>\n</ol>\n\n<p>Which is the standard method is being used for Java to use the variable of one class in other class?</p>\n\n<p><strong>Update:</strong></p>\n\n<pre><code>public class BluetoothLePlugin extends CordovaPlugin\n{\npublic static CallbackContext callBack;\npublic boolean execute(final String action, JSONArray args, CallbackContext callbackContext) throws JSONException {\n\ncallBack=callbackContext;\n\n\n}\n\n\n}\n</code></pre>\n\n<p>Here I am getting Callbackcontext i want to use this callback context in other classes like </p>\n\n<pre><code>public class mainClass{\n\n  public void onCreate() {\n\n\n        BluetoothUtils mBluetoothUtils = new BluetoothUtils(mActivity);\n        BluetoothAdapter.LeScanCallback  mLeScanCallback =null;\n        mLeScanCallback = new BluetoothAdapter.LeScanCallback() {\n            @Override\n            public void onLeScan(final BluetoothDevice device, final int rssi, final byte[] scanRecord) {\n\n\n                Log.d(\"BluetoothLeDevice\", \" \" + device + \" \" + device.getName() + \"      \" + rssi + \"    \" + scanRecord + \"  \" + device.getAddress());\n                mDeviceAdress = \"80:98:00:98:00:5A\";\n\n                jsonobdevice = new JSONObject();\n                if (device.getName() != null &amp;&amp; device.getName().trim().length() &gt; 0) {\n\n                    try {\n\n                        if (!jsonobdevice.has(\"uuid)\") ){\n                            jsonobdevice.put(\"name\", device.getName());\n                            jsonobdevice.put(\"uuid\", device.getAddress());\n                            jsonobdevice.put(\"state\", \"\");\n                            jsonarraydevice.put(jsonobdevice);\n                            Log.d(\"\", \" \" + jsonarraydevice);\n                            PluginResult result = new PluginResult(PluginResult.Status.OK, jsonarraydevice);\n               result.setKeepCallback(true);\n\n                            BluetoothLePlugin.callBack.sendPluginResult(result);//Here I am using callback context like this\n                        }\n\n                    } catch (JSONException e) {\n                        e.printStackTrace();\n                    }\n                }\n              //  Callbackpublic.webView.loadUrl(\"javascript:\");\n\n\n            }\n        };\n\n        BluetoothLeScanner mScanner = new BluetoothLeScanner(mLeScanCallback, mBluetoothUtils);\n        boolean mIsBluetoothOn = mBluetoothUtils.isBluetoothOn();\n        boolean mIsBluetoothLePresent = mBluetoothUtils.isBluetoothLeSupported();\n\n        mBluetoothUtils.askUserToEnableBluetoothIfNeeded();\n        if (mIsBluetoothOn &amp;&amp; mIsBluetoothLePresent) {\n            mScanner.scanLeDevice(-1, true);\n\n        }\n\n    }\n}\n</code></pre>\n\n<p>I am using like this in the above class</p>\n\n<pre><code>BluetoothLePlugin.callBack.sendPluginResult(result);\n</code></pre>\n\n<p>Is what I am doing. Is correct my seniors told dont use public static. So I am Asking question.If it is wrong, what is the solution.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":20042355,"reputation":146,"user_id":14692830,"display_name":"Brandon"},"score":0,"creation_date":1689071860,"post_id":76660902,"comment_id":135158140,"body_markdown":"is the value of URL null?","body":"is the value of URL null?"}],"answers":[{"tags":[],"owner":{"account_id":28020964,"reputation":1205,"user_id":21401783,"display_name":"Dinux"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689072844,"creation_date":1689072844,"answer_id":76661248,"question_id":76660902,"body_markdown":"You can make a public static variable in your ShowURL class which contains the value of the EditText. Example code:\r\n~~~\r\npublic class ShowURL extends AppCompatActivity {\r\n    public static String edittext_value; //Create a variable \r\n    private LogsManager mLogsManager;\r\n    private PreferencesManager mPreferencesManager;\r\n    private Log mLog;\r\n    EditText MyURL;\r\n    public static String IP;\r\n\r\n    protected void onCreate(Bundle savedInstanceState){\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.url);\r\n        MyURL = findViewById(R.id.editTextText);\r\n        //Assign the variable \r\n        edittext_value = MyUrl.getText().toString();\r\n    }\r\n\r\n     …\r\n\r\n~~~\r\n\r\nThen you can access the variable in your Recorder class like below:\r\n~~~\r\nString example_var = ShowURL.edittext_value;\r\n~~~","title":"How to reference an Edit Text value from Activity class to Non-Activity class","body":"<p>You can make a public static variable in your ShowURL class which contains the value of the EditText. Example code:</p>\n<pre><code>public class ShowURL extends AppCompatActivity {\n    public static String edittext_value; //Create a variable \n    private LogsManager mLogsManager;\n    private PreferencesManager mPreferencesManager;\n    private Log mLog;\n    EditText MyURL;\n    public static String IP;\n\n    protected void onCreate(Bundle savedInstanceState){\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.url);\n        MyURL = findViewById(R.id.editTextText);\n        //Assign the variable \n        edittext_value = MyUrl.getText().toString();\n    }\n\n     …\n\n</code></pre>\n<p>Then you can access the variable in your Recorder class like below:</p>\n<pre><code>String example_var = ShowURL.edittext_value;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11864229,"reputation":391,"user_id":8682142,"display_name":"Waseem Abbas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689073423,"creation_date":1689073423,"answer_id":76661330,"question_id":76660902,"body_markdown":"The problem is with your getter and setter for `mIP`. The following code is causing the value always be null. \r\n```Java\r\n//incorrect way\r\nprivate String mIP = getIp();\r\n\r\npublic String getIp() {\r\n    return mIP;\r\n}\r\npublic String setIp(String ip) {\r\n    mIP = ip;\r\n    return mIP;\r\n}\r\n```\r\nThis should be changed like this:\r\n```Java\r\n//The correct method\r\nprivate String mIP;\r\n\r\npublic String getIp() {\r\n    return mIP;\r\n}\r\npublic void setIp(String ip) {\r\n    mIP = ip;\r\n}\r\n```\r\nThen use the `mIP` variable within the `Recorder` class or `getIp()` method to read the IP value outside the `Recorder` class.\r\n\r\nHere is your final `Recorder` class \r\n```Java\r\npublic class Recorder {\r\n\r\n    public final static int NOTIFICATION_ID = 1;\r\n\r\n    private final Context mContext;\r\n\r\n    private static final String TAG = &quot;DeviceID&quot;;\r\n    private final LogsManager mLogsManager;\r\n    private final PreferencesManager mPreferencesManager;\r\n\r\n    private RecorderWriter mRecorderWriter;\r\n\r\n    private SensorManager mSensorManager;\r\n    private Log mLog;\r\n\r\n    private Map&lt;Sensor, Sensor.Settings&gt; mSensorsAndSettings;\r\n    private LinkedList&lt;PositionReference&gt; mReferences;\r\n\r\n\r\n    private boolean isRecording = false;\r\n    private boolean isInitialized = false;\r\n\r\n    private Float f, f2 = null;\r\n    private  Float initialAltitude = null;\r\n    private Bundle mExtraData; // Declare mExtraData variable\r\n\r\n    private String mIP;\r\n\r\n    public String getIp() {\r\n        return mIP;\r\n    }\r\n    public void setIp(String ip) {\r\n        mIP = ip;\r\n    }\r\n\r\n    public Recorder(Context context, LogsManager logsManager,\r\n                    PreferencesManager preferencesManager) {\r\n        mContext = context;\r\n        mLogsManager = logsManager;\r\n        mPreferencesManager = preferencesManager;\r\n        mReferences = new LinkedList&lt;&gt;();\r\n    }\r\n\r\n    public boolean isRecording() {\r\n        return isRecording;\r\n    }\r\n\r\n    public boolean isRecording(Sensor sensor) {\r\n        return mSensorsAndSettings.containsKey(sensor);\r\n    }\r\n\r\n    private void init(@NonNull Map&lt;Sensor, Sensor.Settings&gt; sensorsAndSettings,\r\n                      @Nullable CalibrationLog.Type calibration)\r\n            throws FileNotFoundException {\r\n\r\n        // Store sensors and their settings\r\n        mSensorsAndSettings = sensorsAndSettings;\r\n\r\n        mLog = calibration != null ?\r\n                CalibrationLog.create(calibration, mSensorsAndSettings.keySet()) :\r\n                new Log(mSensorsAndSettings.keySet());\r\n\r\n        mLog.init(mContext);\r\n        mReferences.clear();\r\n\r\n        // We need to create a new instance because writer is used during zip creation task\r\n        mRecorderWriter = new RecorderWriter(mContext);\r\n        mRecorderWriter.init(mLog);\r\n    }\r\n\r\n    public void play() throws FileNotFoundException {\r\n        play(mPreferencesManager.getSelectedSensors(), null);\r\n    }\r\n\r\n    public void play(Map&lt;Sensor, Sensor.Settings&gt; sensorsAndSettings, CalibrationLog.Type calibration)\r\n            throws FileNotFoundException {\r\n\r\n        if (isRecording) return;\r\n\r\n\r\n        // Need to init some properties for the first play\r\n        if (!isInitialized) {\r\n            init(sensorsAndSettings, calibration);\r\n            isInitialized = true;\r\n        }\r\n\r\n\r\n        // Start and listen sensors\r\n        for (final Map.Entry&lt;Sensor, Sensor.Settings&gt; sensorAndSetting : mSensorsAndSettings.entrySet()) {\r\n\r\n            final Sensor sensor = sensorAndSetting.getKey();\r\n            final Sensor.Settings settings = sensorAndSetting.getValue();\r\n\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP &amp;&amp; sensor instanceof CameraRecorder) {\r\n                mRecorderWriter.updateVideoPath();\r\n            }\r\n\r\n            if (sensor instanceof FieldsWritableObject) {\r\n                sensor.setListener(new Sensor.Listener() {\r\n                    @Override\r\n                    public void onNewValues(double diffTimeSystem, double diffTimeSensor, Object[] objects) {\r\n\r\n                        OkHttpClient client = new OkHttpClient();\r\n                        Map&lt;String, Object&gt; data = getMapValue(sensor.getType(), objects);\r\n\r\n                        // Define the request body\r\n                        MediaType mediaType = MediaType.parse(&quot;application/json; charset=utf-8&quot;);\r\n                        String json = new Gson().toJson(data); // JSON payload\r\n                        RequestBody requestBody = RequestBody.create(mediaType, json);\r\n                        String IP = mIP;\r\n                        android.util.Log.d(&quot;CEK ISI&quot;, &quot;Isi mIP: &quot; + IP);\r\n                        Request request = new Request.Builder()\r\n                                .url(&quot;http://theAddress&quot;)\r\n                                .post(requestBody)\r\n                                .build();\r\n\r\n                        // Send the request asynchronously\r\n                        client.newCall(request).enqueue(new okhttp3.Callback() {\r\n                            @Override\r\n                            public void onResponse(okhttp3.Call call, Response response) throws IOException {\r\n                                // Handle the response\r\n                                if (response.isSuccessful()) {\r\n                                    // Request successful\r\n                                    final String responseBody = response.body().string();\r\n\r\n                                } else {\r\n                                    // Request unsuccessful\r\n                                    // Handle error case\r\n                                }\r\n                            }\r\n\r\n                            @Override\r\n                            public void onFailure(okhttp3.Call call, IOException e) {\r\n                                // Handle network failure\r\n                            }\r\n                        });\r\n\r\n                        String Tag = new String();\r\n                        String Data = new String();\r\n                        String ID = new String();\r\n                        long timestamp = System.currentTimeMillis();\r\n                        android.util.Log.d(Data, &quot;Value :&quot; + new Gson().toJson(objects));\r\n                        android.util.Log.d(&quot;VALUE SENSOR TIPE&quot;, String.valueOf(sensor.getType()));\r\n                        android.util.Log.d(&quot;VALUE SENSOR&quot;, String.valueOf(objects));\r\n                        String androidId = Settings.Secure.getString(mContext.getContentResolver(), Settings.Secure.ANDROID_ID);\r\n                        android.util.Log.d(Tag, &quot;Device ID: &quot; + androidId);\r\n                        Date date = new Date(timestamp);\r\n                        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n                        sdf.format(date);\r\n                        // Convert timestamp to a human-readable date and time format\r\n                        String formattedTime = String.valueOf(date);\r\n                        android.util.Log.d(&quot;Timestamp&quot;, &quot;Current timestamp: &quot; + timestamp);\r\n                        android.util.Log.d(&quot;Timestamp&quot;, &quot;Formatted time: &quot; + formattedTime);\r\n                        mRecorderWriter.asycWrite(sensor, diffTimeSystem, diffTimeSensor, objects);\r\n                        android.util.Log.d(&quot;Time Sys: &quot;,&quot;Time System: &quot; + diffTimeSystem);\r\n                        android.util.Log.d(&quot;Time Sen: &quot;,&quot;Time Sensor: &quot; + diffTimeSensor);\r\n\r\n                    }\r\n                });\r\n            }\r\n\r\n            // Some sensors take a long time to start but have to be run on UI thread\r\n            if (sensor.mustRunOnUiThread()) {\r\n                sensor.start(mContext, settings, mLog.getRecordTimes());\r\n            } else {\r\n                new Thread(() -&gt; sensor.start(mContext, settings, mLog.getRecordTimes())).start();\r\n            }\r\n        }\r\n\r\n        createNotification();\r\n        startTimer();\r\n        isRecording = true;\r\n    }\r\n\r\n    private Map&lt;String, Object&gt; getMapValue(int type, Object[] objects) {\r\n        Map&lt;String, Object&gt; value = new HashMap&lt;&gt;();\r\n        String androidId = Settings.Secure.getString(mContext.getContentResolver(), Settings.Secure.ANDROID_ID);\r\n        long timestamp = System.currentTimeMillis();\r\n        Date date = new Date(timestamp);\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n        sdf.format(date);\r\n        // Convert timestamp to a human-readable date and time format\r\n        String formattedTime = String.valueOf(date);\r\n\r\n//        final Map.Entry&lt;Sensor, Sensor.Settings&gt; sensorAndSetting = null;\r\n//        final Sensor sensor = sensorAndSetting.getKey();\r\n//        final Sensor.Settings settings = sensorAndSetting.getValue();\r\n\r\n//        String CT = toString();\r\n//        String FT = new String();\r\n\r\n\r\n        switch (type) {\r\n            case 1:\r\n                value.put(&quot;Device ID&quot;, androidId);\r\n                value.put(&quot;Current Timestamp&quot;, timestamp);\r\n                value.put(&quot;Formatted Timestamp&quot;, formattedTime);\r\n                value.put(&quot;accel x&quot;, objects[0]);\r\n                value.put(&quot;accel y&quot;, objects[1]);\r\n                value.put(&quot;accel z&quot;, objects[2]);\r\n                break;\r\n            case 35:\r\n                value.put(&quot;Device ID&quot;, androidId);\r\n                value.put(&quot;Current Timestamp&quot;, timestamp);\r\n                value.put(&quot;Formatted Timestamp&quot;, formattedTime);\r\n//                value.put(&quot;Time Sensor&quot;, CT);\r\n//                value.put(&quot;Time System&quot;, FT);\r\n                value.put(&quot;uncal accel x&quot;, objects[0]);\r\n                value.put(&quot;uncal accel y&quot;, objects[1]);\r\n                value.put(&quot;uncal accel z&quot;, objects[2]);\r\n                break;\r\n            case 2:\r\n                value.put(&quot;Device ID&quot;, androidId);\r\n                value.put(&quot;Current Timestamp&quot;, timestamp);\r\n                value.put(&quot;Formatted Timestamp&quot;, formattedTime);\r\n                value.put(&quot;magneto x&quot;, objects[0]);\r\n                value.put(&quot;magneto y&quot;, objects[1]);\r\n                value.put(&quot;magneto z&quot;, objects[2]);\r\n                break;\r\n            case 14:\r\n                value.put(&quot;Device ID&quot;, androidId);\r\n                value.put(&quot;Current Timestamp&quot;, timestamp);\r\n                value.put(&quot;Formatted Timestamp&quot;, formattedTime);\r\n                value.put(&quot;uncal magneto x&quot;, objects[0]);\r\n                value.put(&quot;uncal magneto y&quot;, objects[1]);\r\n                value.put(&quot;uncal magneto z&quot;, objects[2]);\r\n                break;\r\n            case 4:\r\n                value.put(&quot;Device ID&quot;, androidId);\r\n                value.put(&quot;Current Timestamp&quot;, timestamp);\r\n                value.put(&quot;Formatted Timestamp&quot;, formattedTime);\r\n                value.put(&quot;gyro x&quot;, objects[0]);\r\n                value.put(&quot;gyro y&quot;, objects[1]);\r\n                value.put(&quot;gyro z&quot;, objects[2]);\r\n                break;\r\n            case 16:\r\n                value.put(&quot;Device ID&quot;, androidId);\r\n                value.put(&quot;Current Timestamp&quot;, timestamp);\r\n                value.put(&quot;Formatted Timestamp&quot;, formattedTime);\r\n                value.put(&quot;uncal gyro x&quot;, objects[0]);\r\n                value.put(&quot;uncal gyro y&quot;, objects[1]);\r\n                value.put(&quot;uncal gyro z&quot;, objects[2]);\r\n                break;\r\n            case 9:\r\n            case 10:\r\n            case 11:\r\n                float[] fArr = new float[4];\r\n                float[] fArr2 = new float[9];\r\n                float[] fArr3 = new float[3];\r\n                SensorManager.getQuaternionFromVector(fArr, (float[]) objects[0]);\r\n                SensorManager.getRotationMatrixFromVector(fArr2, (float[]) objects[0]);\r\n                SensorManager.getOrientation(fArr2, fArr3);\r\n                value.put(&quot;yaw&quot;, fArr3[0]);\r\n                value.put(&quot;pitch&quot;, fArr3[1]);\r\n                value.put(&quot;roll&quot;, fArr3[2]);\r\n                value.put(&quot;qw&quot;, fArr[0]);\r\n                value.put(&quot;qx&quot;, fArr[1]);\r\n                value.put(&quot;qy&quot;, fArr[2]);\r\n                value.put(&quot;qz&quot;, fArr[3]);\r\n                break;\r\n            case 5:\r\n                value.put(&quot;lux&quot;, objects[0]);\r\n                break;\r\n            case 768:\r\n                value.put(&quot;Device ID&quot;, androidId);\r\n                value.put(&quot;Current Timestamp&quot;, timestamp);\r\n                value.put(&quot;Formatted Timestamp&quot;, formattedTime);\r\n                value.put(&quot;GPS Latitude&quot;, objects[0]);\r\n                value.put(&quot;GPS Longitude&quot;, objects[1]);\r\n                value.put(&quot;GPS Altitude&quot;, objects[2]);\r\n                value.put(&quot;GPS Bearing&quot;, objects[3]);\r\n                value.put(&quot;GPS Accuracy&quot;, objects[4]);\r\n                value.put(&quot;GPS Speed&quot;, objects[5]);\r\n                break;\r\n            case 6:\r\n                float altitude = SensorManager.getAltitude(1013.25f, (Float) objects[0]);\r\n                if (f == null) {\r\n                    initialAltitude = Float.valueOf(altitude);\r\n                }\r\n                f2 = initialAltitude;\r\n                float floatValue = f2 == null ? altitude : f2.floatValue();\r\n                value.put(&quot;pressure&quot;, objects[0]);\r\n                value.put(&quot;relativeAltitude&quot;, altitude - floatValue);\r\n                break;\r\n        }\r\n\r\n        return value;\r\n    }\r\n\r\n    public void pause() {\r\n\r\n        if (!isRecording) return;\r\n\r\n        stopTimer();\r\n        removeNotification();\r\n\r\n        for (final Sensor sensor : mSensorsAndSettings.keySet()) {\r\n\r\n            sensor.setListener(null);\r\n\r\n            if (sensor.mustRunOnUiThread()) {\r\n                sensor.stop(mContext);\r\n            } else {\r\n                new Thread(() -&gt; sensor.stop(mContext)).start();\r\n            }\r\n        }\r\n\r\n        mLog.getRecordTimes().endTime = System.currentTimeMillis() / 1e3d;\r\n        isRecording = false;\r\n    }\r\n\r\n\r\n    public void cancel() throws IOException {\r\n\r\n        if (isRecording) {\r\n            pause();\r\n        }\r\n        resetTimer();\r\n        mRecorderWriter.finish();\r\n        mRecorderWriter.removeFiles();\r\n        isInitialized = false;\r\n        isRecording = false;\r\n    }\r\n\r\n\r\n    public Log save(String title) throws IOException {\r\n        return save(title, null, null, null);\r\n    }\r\n\r\n    public Log save(String title, String user, String positionOrientation, String comment) throws IOException {\r\n\r\n        mRecorderWriter.writeReferences(mReferences);\r\n        mRecorderWriter.finish();\r\n\r\n        resetTimer();\r\n\r\n        // Set title to unknown if null and replace non word characters by underscore\r\n        if (title == null || title.isEmpty()) {\r\n            title = mContext.getString(R.string.record_finished_empty_filename);\r\n        }\r\n        String filename = title.replaceAll(&quot;\\\\W+&quot;, &quot;_&quot;);\r\n\r\n        mLog.setName(title);\r\n        mLog.setUser(user);\r\n        mLog.setComment(comment);\r\n        mLog.setPositionOrientation(positionOrientation);\r\n        mLog.setUncompressedSize(mRecorderWriter.getDataSize());\r\n\r\n\r\n        // Create Zip File\r\n        final Pair&lt;File, ZipCreationTask&gt; zipCreationPair = mRecorderWriter.createZipFile(filename, mLog);\r\n        final File zipFile = zipCreationPair.first;\r\n        final ZipCreationTask zipTask = zipCreationPair.second;\r\n\r\n        mLog.setZipCreationTask(zipTask);\r\n\r\n        zipTask.addListener(new ZipCreationTask.ZipCreationListener() {\r\n            @Override\r\n            public void onProgress(File currentFile, float ratio) {\r\n            }\r\n\r\n            @Override\r\n            public void onTaskFinished(File outputFile, long fileSize) {\r\n                // Remove files when recorder finished\r\n                mRecorderWriter.removeFiles();\r\n                zipTask.removeListener(this);\r\n            }\r\n        });\r\n\r\n        mLog.setZipFile(zipFile);\r\n\r\n        mLogsManager.addLog(mLog);\r\n\r\n        isInitialized = false;\r\n\r\n        return mLog;\r\n    }\r\n\r\n\r\n    public Log.RecordTimes getRecordTimes() {\r\n        return mLog.getRecordTimes();\r\n    }\r\n\r\n\r\n    public void addReference(double latitude, double longitude, Float level) {\r\n        double elapsedTime = System.currentTimeMillis() / 1e3d - mLog.getRecordTimes().startTime;\r\n        mReferences.add(new PositionReference(elapsedTime, latitude, longitude, level));\r\n    }\r\n\r\n    public void removeLastReference() {\r\n        mReferences.pollLast();\r\n    }\r\n\r\n\r\n    //&lt;editor-fold desc=&quot;DataSize&quot;&gt;\r\n    public long getDataSize() {\r\n        return mRecorderWriter.getDataSize();\r\n    }\r\n    //&lt;/editor-fold&gt;\r\n\r\n\r\n    //&lt;editor-fold desc=&quot;Timer&quot;&gt;\r\n    private long firstTime;\r\n    private long computeTime;\r\n\r\n    public long getCurrentTime() {\r\n        return computeTime + System.currentTimeMillis() - firstTime;\r\n    }\r\n\r\n    private void startTimer() {\r\n        firstTime = System.currentTimeMillis();\r\n    }\r\n\r\n    private void stopTimer() {\r\n        computeTime += System.currentTimeMillis() - firstTime;\r\n    }\r\n\r\n    private void resetTimer() {\r\n        computeTime = 0;\r\n    }\r\n    //&lt;/editor-fold&gt;\r\n\r\n\r\n    //&lt;editor-fold desc=&quot;Notification&quot;&gt;\r\n\r\n    private void createNotification() {\r\n        mContext.bindService(new Intent(mContext, KillNotificationsService.class),\r\n                mNotificationConnection, Context.BIND_AUTO_CREATE);\r\n    }\r\n\r\n    private void removeNotification() {\r\n        mContext.unbindService(mNotificationConnection);\r\n\r\n        NotificationManager mNotificationManager =\r\n                (NotificationManager) mContext.getSystemService(Context.NOTIFICATION_SERVICE);\r\n        mNotificationManager.cancel(NOTIFICATION_ID);\r\n    }\r\n\r\n\r\n    // http://stackoverflow.com/questions/12997800/cancel-notification-on-remove-application-from-multitask-panel\r\n    private ServiceConnection mNotificationConnection = new ServiceConnection() {\r\n        public void onServiceConnected(ComponentName className,\r\n                                       IBinder binder) {\r\n            ((KillNotificationsService.KillBinder) binder).service.startService(\r\n                    new Intent(mContext, KillNotificationsService.class));\r\n\r\n            Intent intent = new Intent(mContext, RecordActivity.class);\r\n            intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_SINGLE_TOP);\r\n            PendingIntent pendingIntent = PendingIntent.getActivity(mContext, 0, intent, PendingIntent.FLAG_UPDATE_CURRENT);\r\n\r\n            NotificationCompat.Builder builder =\r\n                    new NotificationCompat.Builder(mContext)\r\n                            .setSmallIcon(R.drawable.ic_notification)\r\n                            .setContentTitle(mContext.getString(R.string.app_name))\r\n                            .setContentText(mContext.getString(R.string.record_notification))\r\n                            .setContentIntent(pendingIntent);\r\n\r\n            Notification notification = builder.build();\r\n            notification.flags = Notification.FLAG_ONGOING_EVENT;\r\n\r\n            NotificationManager mNotificationManager =\r\n                    (NotificationManager) mContext.getSystemService(Context.NOTIFICATION_SERVICE);\r\n            mNotificationManager.notify(NOTIFICATION_ID, notification);\r\n        }\r\n\r\n        public void onServiceDisconnected(ComponentName className) {\r\n        }\r\n\r\n    };\r\n    //&lt;/editor-fold&gt;\r\n\r\n}\r\n```\r\n\r\n","title":"How to reference an Edit Text value from Activity class to Non-Activity class","body":"<p>The problem is with your getter and setter for <code>mIP</code>. The following code is causing the value always be null.</p>\n<pre><code>//incorrect way\nprivate String mIP = getIp();\n\npublic String getIp() {\n    return mIP;\n}\npublic String setIp(String ip) {\n    mIP = ip;\n    return mIP;\n}\n</code></pre>\n<p>This should be changed like this:</p>\n<pre><code>//The correct method\nprivate String mIP;\n\npublic String getIp() {\n    return mIP;\n}\npublic void setIp(String ip) {\n    mIP = ip;\n}\n</code></pre>\n<p>Then use the <code>mIP</code> variable within the <code>Recorder</code> class or <code>getIp()</code> method to read the IP value outside the <code>Recorder</code> class.</p>\n<p>Here is your final <code>Recorder</code> class</p>\n<pre><code>public class Recorder {\n\n    public final static int NOTIFICATION_ID = 1;\n\n    private final Context mContext;\n\n    private static final String TAG = &quot;DeviceID&quot;;\n    private final LogsManager mLogsManager;\n    private final PreferencesManager mPreferencesManager;\n\n    private RecorderWriter mRecorderWriter;\n\n    private SensorManager mSensorManager;\n    private Log mLog;\n\n    private Map&lt;Sensor, Sensor.Settings&gt; mSensorsAndSettings;\n    private LinkedList&lt;PositionReference&gt; mReferences;\n\n\n    private boolean isRecording = false;\n    private boolean isInitialized = false;\n\n    private Float f, f2 = null;\n    private  Float initialAltitude = null;\n    private Bundle mExtraData; // Declare mExtraData variable\n\n    private String mIP;\n\n    public String getIp() {\n        return mIP;\n    }\n    public void setIp(String ip) {\n        mIP = ip;\n    }\n\n    public Recorder(Context context, LogsManager logsManager,\n                    PreferencesManager preferencesManager) {\n        mContext = context;\n        mLogsManager = logsManager;\n        mPreferencesManager = preferencesManager;\n        mReferences = new LinkedList&lt;&gt;();\n    }\n\n    public boolean isRecording() {\n        return isRecording;\n    }\n\n    public boolean isRecording(Sensor sensor) {\n        return mSensorsAndSettings.containsKey(sensor);\n    }\n\n    private void init(@NonNull Map&lt;Sensor, Sensor.Settings&gt; sensorsAndSettings,\n                      @Nullable CalibrationLog.Type calibration)\n            throws FileNotFoundException {\n\n        // Store sensors and their settings\n        mSensorsAndSettings = sensorsAndSettings;\n\n        mLog = calibration != null ?\n                CalibrationLog.create(calibration, mSensorsAndSettings.keySet()) :\n                new Log(mSensorsAndSettings.keySet());\n\n        mLog.init(mContext);\n        mReferences.clear();\n\n        // We need to create a new instance because writer is used during zip creation task\n        mRecorderWriter = new RecorderWriter(mContext);\n        mRecorderWriter.init(mLog);\n    }\n\n    public void play() throws FileNotFoundException {\n        play(mPreferencesManager.getSelectedSensors(), null);\n    }\n\n    public void play(Map&lt;Sensor, Sensor.Settings&gt; sensorsAndSettings, CalibrationLog.Type calibration)\n            throws FileNotFoundException {\n\n        if (isRecording) return;\n\n\n        // Need to init some properties for the first play\n        if (!isInitialized) {\n            init(sensorsAndSettings, calibration);\n            isInitialized = true;\n        }\n\n\n        // Start and listen sensors\n        for (final Map.Entry&lt;Sensor, Sensor.Settings&gt; sensorAndSetting : mSensorsAndSettings.entrySet()) {\n\n            final Sensor sensor = sensorAndSetting.getKey();\n            final Sensor.Settings settings = sensorAndSetting.getValue();\n\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP &amp;&amp; sensor instanceof CameraRecorder) {\n                mRecorderWriter.updateVideoPath();\n            }\n\n            if (sensor instanceof FieldsWritableObject) {\n                sensor.setListener(new Sensor.Listener() {\n                    @Override\n                    public void onNewValues(double diffTimeSystem, double diffTimeSensor, Object[] objects) {\n\n                        OkHttpClient client = new OkHttpClient();\n                        Map&lt;String, Object&gt; data = getMapValue(sensor.getType(), objects);\n\n                        // Define the request body\n                        MediaType mediaType = MediaType.parse(&quot;application/json; charset=utf-8&quot;);\n                        String json = new Gson().toJson(data); // JSON payload\n                        RequestBody requestBody = RequestBody.create(mediaType, json);\n                        String IP = mIP;\n                        android.util.Log.d(&quot;CEK ISI&quot;, &quot;Isi mIP: &quot; + IP);\n                        Request request = new Request.Builder()\n                                .url(&quot;http://theAddress&quot;)\n                                .post(requestBody)\n                                .build();\n\n                        // Send the request asynchronously\n                        client.newCall(request).enqueue(new okhttp3.Callback() {\n                            @Override\n                            public void onResponse(okhttp3.Call call, Response response) throws IOException {\n                                // Handle the response\n                                if (response.isSuccessful()) {\n                                    // Request successful\n                                    final String responseBody = response.body().string();\n\n                                } else {\n                                    // Request unsuccessful\n                                    // Handle error case\n                                }\n                            }\n\n                            @Override\n                            public void onFailure(okhttp3.Call call, IOException e) {\n                                // Handle network failure\n                            }\n                        });\n\n                        String Tag = new String();\n                        String Data = new String();\n                        String ID = new String();\n                        long timestamp = System.currentTimeMillis();\n                        android.util.Log.d(Data, &quot;Value :&quot; + new Gson().toJson(objects));\n                        android.util.Log.d(&quot;VALUE SENSOR TIPE&quot;, String.valueOf(sensor.getType()));\n                        android.util.Log.d(&quot;VALUE SENSOR&quot;, String.valueOf(objects));\n                        String androidId = Settings.Secure.getString(mContext.getContentResolver(), Settings.Secure.ANDROID_ID);\n                        android.util.Log.d(Tag, &quot;Device ID: &quot; + androidId);\n                        Date date = new Date(timestamp);\n                        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n                        sdf.format(date);\n                        // Convert timestamp to a human-readable date and time format\n                        String formattedTime = String.valueOf(date);\n                        android.util.Log.d(&quot;Timestamp&quot;, &quot;Current timestamp: &quot; + timestamp);\n                        android.util.Log.d(&quot;Timestamp&quot;, &quot;Formatted time: &quot; + formattedTime);\n                        mRecorderWriter.asycWrite(sensor, diffTimeSystem, diffTimeSensor, objects);\n                        android.util.Log.d(&quot;Time Sys: &quot;,&quot;Time System: &quot; + diffTimeSystem);\n                        android.util.Log.d(&quot;Time Sen: &quot;,&quot;Time Sensor: &quot; + diffTimeSensor);\n\n                    }\n                });\n            }\n\n            // Some sensors take a long time to start but have to be run on UI thread\n            if (sensor.mustRunOnUiThread()) {\n                sensor.start(mContext, settings, mLog.getRecordTimes());\n            } else {\n                new Thread(() -&gt; sensor.start(mContext, settings, mLog.getRecordTimes())).start();\n            }\n        }\n\n        createNotification();\n        startTimer();\n        isRecording = true;\n    }\n\n    private Map&lt;String, Object&gt; getMapValue(int type, Object[] objects) {\n        Map&lt;String, Object&gt; value = new HashMap&lt;&gt;();\n        String androidId = Settings.Secure.getString(mContext.getContentResolver(), Settings.Secure.ANDROID_ID);\n        long timestamp = System.currentTimeMillis();\n        Date date = new Date(timestamp);\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n        sdf.format(date);\n        // Convert timestamp to a human-readable date and time format\n        String formattedTime = String.valueOf(date);\n\n//        final Map.Entry&lt;Sensor, Sensor.Settings&gt; sensorAndSetting = null;\n//        final Sensor sensor = sensorAndSetting.getKey();\n//        final Sensor.Settings settings = sensorAndSetting.getValue();\n\n//        String CT = toString();\n//        String FT = new String();\n\n\n        switch (type) {\n            case 1:\n                value.put(&quot;Device ID&quot;, androidId);\n                value.put(&quot;Current Timestamp&quot;, timestamp);\n                value.put(&quot;Formatted Timestamp&quot;, formattedTime);\n                value.put(&quot;accel x&quot;, objects[0]);\n                value.put(&quot;accel y&quot;, objects[1]);\n                value.put(&quot;accel z&quot;, objects[2]);\n                break;\n            case 35:\n                value.put(&quot;Device ID&quot;, androidId);\n                value.put(&quot;Current Timestamp&quot;, timestamp);\n                value.put(&quot;Formatted Timestamp&quot;, formattedTime);\n//                value.put(&quot;Time Sensor&quot;, CT);\n//                value.put(&quot;Time System&quot;, FT);\n                value.put(&quot;uncal accel x&quot;, objects[0]);\n                value.put(&quot;uncal accel y&quot;, objects[1]);\n                value.put(&quot;uncal accel z&quot;, objects[2]);\n                break;\n            case 2:\n                value.put(&quot;Device ID&quot;, androidId);\n                value.put(&quot;Current Timestamp&quot;, timestamp);\n                value.put(&quot;Formatted Timestamp&quot;, formattedTime);\n                value.put(&quot;magneto x&quot;, objects[0]);\n                value.put(&quot;magneto y&quot;, objects[1]);\n                value.put(&quot;magneto z&quot;, objects[2]);\n                break;\n            case 14:\n                value.put(&quot;Device ID&quot;, androidId);\n                value.put(&quot;Current Timestamp&quot;, timestamp);\n                value.put(&quot;Formatted Timestamp&quot;, formattedTime);\n                value.put(&quot;uncal magneto x&quot;, objects[0]);\n                value.put(&quot;uncal magneto y&quot;, objects[1]);\n                value.put(&quot;uncal magneto z&quot;, objects[2]);\n                break;\n            case 4:\n                value.put(&quot;Device ID&quot;, androidId);\n                value.put(&quot;Current Timestamp&quot;, timestamp);\n                value.put(&quot;Formatted Timestamp&quot;, formattedTime);\n                value.put(&quot;gyro x&quot;, objects[0]);\n                value.put(&quot;gyro y&quot;, objects[1]);\n                value.put(&quot;gyro z&quot;, objects[2]);\n                break;\n            case 16:\n                value.put(&quot;Device ID&quot;, androidId);\n                value.put(&quot;Current Timestamp&quot;, timestamp);\n                value.put(&quot;Formatted Timestamp&quot;, formattedTime);\n                value.put(&quot;uncal gyro x&quot;, objects[0]);\n                value.put(&quot;uncal gyro y&quot;, objects[1]);\n                value.put(&quot;uncal gyro z&quot;, objects[2]);\n                break;\n            case 9:\n            case 10:\n            case 11:\n                float[] fArr = new float[4];\n                float[] fArr2 = new float[9];\n                float[] fArr3 = new float[3];\n                SensorManager.getQuaternionFromVector(fArr, (float[]) objects[0]);\n                SensorManager.getRotationMatrixFromVector(fArr2, (float[]) objects[0]);\n                SensorManager.getOrientation(fArr2, fArr3);\n                value.put(&quot;yaw&quot;, fArr3[0]);\n                value.put(&quot;pitch&quot;, fArr3[1]);\n                value.put(&quot;roll&quot;, fArr3[2]);\n                value.put(&quot;qw&quot;, fArr[0]);\n                value.put(&quot;qx&quot;, fArr[1]);\n                value.put(&quot;qy&quot;, fArr[2]);\n                value.put(&quot;qz&quot;, fArr[3]);\n                break;\n            case 5:\n                value.put(&quot;lux&quot;, objects[0]);\n                break;\n            case 768:\n                value.put(&quot;Device ID&quot;, androidId);\n                value.put(&quot;Current Timestamp&quot;, timestamp);\n                value.put(&quot;Formatted Timestamp&quot;, formattedTime);\n                value.put(&quot;GPS Latitude&quot;, objects[0]);\n                value.put(&quot;GPS Longitude&quot;, objects[1]);\n                value.put(&quot;GPS Altitude&quot;, objects[2]);\n                value.put(&quot;GPS Bearing&quot;, objects[3]);\n                value.put(&quot;GPS Accuracy&quot;, objects[4]);\n                value.put(&quot;GPS Speed&quot;, objects[5]);\n                break;\n            case 6:\n                float altitude = SensorManager.getAltitude(1013.25f, (Float) objects[0]);\n                if (f == null) {\n                    initialAltitude = Float.valueOf(altitude);\n                }\n                f2 = initialAltitude;\n                float floatValue = f2 == null ? altitude : f2.floatValue();\n                value.put(&quot;pressure&quot;, objects[0]);\n                value.put(&quot;relativeAltitude&quot;, altitude - floatValue);\n                break;\n        }\n\n        return value;\n    }\n\n    public void pause() {\n\n        if (!isRecording) return;\n\n        stopTimer();\n        removeNotification();\n\n        for (final Sensor sensor : mSensorsAndSettings.keySet()) {\n\n            sensor.setListener(null);\n\n            if (sensor.mustRunOnUiThread()) {\n                sensor.stop(mContext);\n            } else {\n                new Thread(() -&gt; sensor.stop(mContext)).start();\n            }\n        }\n\n        mLog.getRecordTimes().endTime = System.currentTimeMillis() / 1e3d;\n        isRecording = false;\n    }\n\n\n    public void cancel() throws IOException {\n\n        if (isRecording) {\n            pause();\n        }\n        resetTimer();\n        mRecorderWriter.finish();\n        mRecorderWriter.removeFiles();\n        isInitialized = false;\n        isRecording = false;\n    }\n\n\n    public Log save(String title) throws IOException {\n        return save(title, null, null, null);\n    }\n\n    public Log save(String title, String user, String positionOrientation, String comment) throws IOException {\n\n        mRecorderWriter.writeReferences(mReferences);\n        mRecorderWriter.finish();\n\n        resetTimer();\n\n        // Set title to unknown if null and replace non word characters by underscore\n        if (title == null || title.isEmpty()) {\n            title = mContext.getString(R.string.record_finished_empty_filename);\n        }\n        String filename = title.replaceAll(&quot;\\\\W+&quot;, &quot;_&quot;);\n\n        mLog.setName(title);\n        mLog.setUser(user);\n        mLog.setComment(comment);\n        mLog.setPositionOrientation(positionOrientation);\n        mLog.setUncompressedSize(mRecorderWriter.getDataSize());\n\n\n        // Create Zip File\n        final Pair&lt;File, ZipCreationTask&gt; zipCreationPair = mRecorderWriter.createZipFile(filename, mLog);\n        final File zipFile = zipCreationPair.first;\n        final ZipCreationTask zipTask = zipCreationPair.second;\n\n        mLog.setZipCreationTask(zipTask);\n\n        zipTask.addListener(new ZipCreationTask.ZipCreationListener() {\n            @Override\n            public void onProgress(File currentFile, float ratio) {\n            }\n\n            @Override\n            public void onTaskFinished(File outputFile, long fileSize) {\n                // Remove files when recorder finished\n                mRecorderWriter.removeFiles();\n                zipTask.removeListener(this);\n            }\n        });\n\n        mLog.setZipFile(zipFile);\n\n        mLogsManager.addLog(mLog);\n\n        isInitialized = false;\n\n        return mLog;\n    }\n\n\n    public Log.RecordTimes getRecordTimes() {\n        return mLog.getRecordTimes();\n    }\n\n\n    public void addReference(double latitude, double longitude, Float level) {\n        double elapsedTime = System.currentTimeMillis() / 1e3d - mLog.getRecordTimes().startTime;\n        mReferences.add(new PositionReference(elapsedTime, latitude, longitude, level));\n    }\n\n    public void removeLastReference() {\n        mReferences.pollLast();\n    }\n\n\n    //&lt;editor-fold desc=&quot;DataSize&quot;&gt;\n    public long getDataSize() {\n        return mRecorderWriter.getDataSize();\n    }\n    //&lt;/editor-fold&gt;\n\n\n    //&lt;editor-fold desc=&quot;Timer&quot;&gt;\n    private long firstTime;\n    private long computeTime;\n\n    public long getCurrentTime() {\n        return computeTime + System.currentTimeMillis() - firstTime;\n    }\n\n    private void startTimer() {\n        firstTime = System.currentTimeMillis();\n    }\n\n    private void stopTimer() {\n        computeTime += System.currentTimeMillis() - firstTime;\n    }\n\n    private void resetTimer() {\n        computeTime = 0;\n    }\n    //&lt;/editor-fold&gt;\n\n\n    //&lt;editor-fold desc=&quot;Notification&quot;&gt;\n\n    private void createNotification() {\n        mContext.bindService(new Intent(mContext, KillNotificationsService.class),\n                mNotificationConnection, Context.BIND_AUTO_CREATE);\n    }\n\n    private void removeNotification() {\n        mContext.unbindService(mNotificationConnection);\n\n        NotificationManager mNotificationManager =\n                (NotificationManager) mContext.getSystemService(Context.NOTIFICATION_SERVICE);\n        mNotificationManager.cancel(NOTIFICATION_ID);\n    }\n\n\n    // http://stackoverflow.com/questions/12997800/cancel-notification-on-remove-application-from-multitask-panel\n    private ServiceConnection mNotificationConnection = new ServiceConnection() {\n        public void onServiceConnected(ComponentName className,\n                                       IBinder binder) {\n            ((KillNotificationsService.KillBinder) binder).service.startService(\n                    new Intent(mContext, KillNotificationsService.class));\n\n            Intent intent = new Intent(mContext, RecordActivity.class);\n            intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_SINGLE_TOP);\n            PendingIntent pendingIntent = PendingIntent.getActivity(mContext, 0, intent, PendingIntent.FLAG_UPDATE_CURRENT);\n\n            NotificationCompat.Builder builder =\n                    new NotificationCompat.Builder(mContext)\n                            .setSmallIcon(R.drawable.ic_notification)\n                            .setContentTitle(mContext.getString(R.string.app_name))\n                            .setContentText(mContext.getString(R.string.record_notification))\n                            .setContentIntent(pendingIntent);\n\n            Notification notification = builder.build();\n            notification.flags = Notification.FLAG_ONGOING_EVENT;\n\n            NotificationManager mNotificationManager =\n                    (NotificationManager) mContext.getSystemService(Context.NOTIFICATION_SERVICE);\n            mNotificationManager.notify(NOTIFICATION_ID, notification);\n        }\n\n        public void onServiceDisconnected(ComponentName className) {\n        }\n\n    };\n    //&lt;/editor-fold&gt;\n\n}\n</code></pre>\n"}],"owner":{"account_id":28993518,"reputation":1,"user_id":22208701,"display_name":"AHF"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689073423,"creation_date":1689070456,"question_id":76660902,"body_markdown":"i need to get the value in editTextText from ShowURL class to use in Recorder class to set the IP address for okHttp request\r\n\r\nthe ShowURL class is like this:\r\n\r\n```\r\npackage fr.inria.tyrex.senslogs.ui;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport org.w3c.dom.Text;\r\n\r\nimport java.io.FileNotFoundException;\r\nimport java.util.Map;\r\n\r\nimport fr.inria.tyrex.senslogs.R;\r\nimport fr.inria.tyrex.senslogs.control.LogsManager;\r\nimport fr.inria.tyrex.senslogs.control.PreferencesManager;\r\nimport fr.inria.tyrex.senslogs.control.Recorder;\r\nimport fr.inria.tyrex.senslogs.control.SensorsManager;\r\nimport fr.inria.tyrex.senslogs.model.log.CalibrationLog;\r\nimport fr.inria.tyrex.senslogs.model.log.Log;\r\nimport fr.inria.tyrex.senslogs.model.sensors.Sensor;\r\n\r\npublic class ShowURL extends AppCompatActivity {\r\n\r\n    private LogsManager mLogsManager;\r\n    private PreferencesManager mPreferencesManager;\r\n    private Log mLog;\r\n    EditText MyURL;\r\n    public static String IP;\r\n\r\n    protected void onCreate(Bundle savedInstanceState){\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.url);\r\n        MyURL = findViewById(R.id.editTextText);\r\n\r\n    }\r\n\r\n    public void Click (View view) throws FileNotFoundException {\r\n        String URL = MyURL.getText().toString();\r\n\r\n        Recorder yourObject = new Recorder(this, mLogsManager, mPreferencesManager);\r\n        yourObject.setIp(URL);\r\n        yourObject.getIp();\r\n        android.util.Log.d(&quot;IP Value&quot;, &quot;IP: &quot; + yourObject.getIp());\r\n    }\r\n}\r\n\r\n```\r\n\r\nand the targeted class to get the value of EditText is:\r\n\r\n```\r\npackage fr.inria.tyrex.senslogs.control;\r\n\r\n\r\nimport static android.hardware.usb.UsbDevice.getDeviceId;\r\nimport static androidx.core.content.ContextCompat.getSystemService;\r\n\r\nimport android.app.Notification;\r\nimport android.app.NotificationManager;\r\nimport android.app.PendingIntent;\r\nimport android.content.ComponentName;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.ServiceConnection;\r\nimport android.hardware.SensorManager;\r\nimport android.hardware.SensorPrivacyManager;\r\nimport android.nfc.Tag;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.os.IBinder;\r\nimport android.os.AsyncTask;\r\nimport android.app.Activity;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.core.app.NotificationCompat;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.provider.Settings;\r\nimport android.telephony.TelephonyManager;\r\nimport android.util.Pair;\r\n\r\nimport com.google.gson.Gson;\r\n\r\nimport android.view.View;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport java.io.OutputStream;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.IOException;\r\nimport java.util.HashMap;\r\nimport java.util.LinkedList;\r\nimport java.util.Map;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\n\r\nimport fr.inria.tyrex.senslogs.model.sensors.AndroidSensor;\r\nimport fr.inria.tyrex.senslogs.ui.LogsActivity;\r\nimport fr.inria.tyrex.senslogs.ui.MainActivity;\r\nimport fr.inria.tyrex.senslogs.ui.ShowURL;\r\nimport okhttp3.MediaType;\r\nimport okhttp3.OkHttpClient;\r\nimport okhttp3.Request;\r\nimport okhttp3.RequestBody;\r\nimport okhttp3.Response;\r\n\r\nimport fr.inria.tyrex.senslogs.Application;\r\nimport fr.inria.tyrex.senslogs.R;\r\nimport fr.inria.tyrex.senslogs.model.FieldsWritableObject;\r\nimport fr.inria.tyrex.senslogs.model.PositionReference;\r\nimport fr.inria.tyrex.senslogs.model.log.CalibrationLog;\r\nimport fr.inria.tyrex.senslogs.model.log.Log;\r\nimport fr.inria.tyrex.senslogs.model.sensors.CameraRecorder;\r\nimport fr.inria.tyrex.senslogs.model.sensors.Sensor;\r\nimport fr.inria.tyrex.senslogs.ui.RecordActivity;\r\nimport fr.inria.tyrex.senslogs.ui.utils.KillNotificationsService;\r\n\r\n/**\r\n * Handle timers and record sensors data\r\n */\r\npublic class Recorder {\r\n\r\n    public final static int NOTIFICATION_ID = 1;\r\n\r\n    private final Context mContext;\r\n\r\n    private static final String TAG = &quot;DeviceID&quot;;\r\n    private final LogsManager mLogsManager;\r\n    private final PreferencesManager mPreferencesManager;\r\n\r\n    private RecorderWriter mRecorderWriter;\r\n\r\n    private SensorManager mSensorManager;\r\n    private Log mLog;\r\n\r\n    private Map&lt;Sensor, Sensor.Settings&gt; mSensorsAndSettings;\r\n    private LinkedList&lt;PositionReference&gt; mReferences;\r\n\r\n\r\n    private boolean isRecording = false;\r\n    private boolean isInitialized = false;\r\n\r\n    private Float f, f2 = null;\r\n    private  Float initialAltitude = null;\r\n    private Bundle mExtraData; // Declare mExtraData variable\r\n\r\n    private String mIP = getIp();\r\n\r\n    public String getIp() {\r\n        return mIP;\r\n    }\r\n    public String setIp(String ip) {\r\n        mIP = ip;\r\n        return mIP;\r\n    }\r\n\r\n    public Recorder(Context context, LogsManager logsManager,\r\n                    PreferencesManager preferencesManager) {\r\n        mContext = context;\r\n        mLogsManager = logsManager;\r\n        mPreferencesManager = preferencesManager;\r\n        mReferences = new LinkedList&lt;&gt;();\r\n    }\r\n\r\n    public boolean isRecording() {\r\n        return isRecording;\r\n    }\r\n\r\n    public boolean isRecording(Sensor sensor) {\r\n        return mSensorsAndSettings.containsKey(sensor);\r\n    }\r\n\r\n    private void init(@NonNull Map&lt;Sensor, Sensor.Settings&gt; sensorsAndSettings,\r\n                      @Nullable CalibrationLog.Type calibration)\r\n            throws FileNotFoundException {\r\n\r\n        // Store sensors and their settings\r\n        mSensorsAndSettings = sensorsAndSettings;\r\n\r\n        mLog = calibration != null ?\r\n                CalibrationLog.create(calibration, mSensorsAndSettings.keySet()) :\r\n                new Log(mSensorsAndSettings.keySet());\r\n\r\n        mLog.init(mContext);\r\n        mReferences.clear();\r\n\r\n        // We need to create a new instance because writer is used during zip creation task\r\n        mRecorderWriter = new RecorderWriter(mContext);\r\n        mRecorderWriter.init(mLog);\r\n    }\r\n\r\n    public void play() throws FileNotFoundException {\r\n        play(mPreferencesManager.getSelectedSensors(), null);\r\n    }\r\n\r\n    public void play(Map&lt;Sensor, Sensor.Settings&gt; sensorsAndSettings, CalibrationLog.Type calibration)\r\n            throws FileNotFoundException {\r\n\r\n        if (isRecording) return;\r\n\r\n\r\n        // Need to init some properties for the first play\r\n        if (!isInitialized) {\r\n            init(sensorsAndSettings, calibration);\r\n            isInitialized = true;\r\n        }\r\n\r\n\r\n        // Start and listen sensors\r\n        for (final Map.Entry&lt;Sensor, Sensor.Settings&gt; sensorAndSetting : mSensorsAndSettings.entrySet()) {\r\n\r\n            final Sensor sensor = sensorAndSetting.getKey();\r\n            final Sensor.Settings settings = sensorAndSetting.getValue();\r\n\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP &amp;&amp; sensor instanceof CameraRecorder) {\r\n                mRecorderWriter.updateVideoPath();\r\n            }\r\n\r\n            if (sensor instanceof FieldsWritableObject) {\r\n                sensor.setListener(new Sensor.Listener() {\r\n                    @Override\r\n                    public void onNewValues(double diffTimeSystem, double diffTimeSensor, Object[] objects) {\r\n\r\n                        OkHttpClient client = new OkHttpClient();\r\n                        Map&lt;String, Object&gt; data = getMapValue(sensor.getType(), objects);\r\n\r\n                        // Define the request body\r\n                        MediaType mediaType = MediaType.parse(&quot;application/json; charset=utf-8&quot;);\r\n                        String json = new Gson().toJson(data); // JSON payload\r\n                        RequestBody requestBody = RequestBody.create(mediaType, json);\r\n                        String IP = setIp(mIP);\r\n                        android.util.Log.d(&quot;CEK ISI&quot;, &quot;Isi mIP: &quot; + IP);\r\n                        Request request = new Request.Builder()\r\n                                .url(&quot;http://theAddress&quot;)\r\n                                .post(requestBody)\r\n                                .build();\r\n\r\n                        // Send the request asynchronously\r\n                        client.newCall(request).enqueue(new okhttp3.Callback() {\r\n                            @Override\r\n                            public void onResponse(okhttp3.Call call, Response response) throws IOException {\r\n                                // Handle the response\r\n                                if (response.isSuccessful()) {\r\n                                    // Request successful\r\n                                    final String responseBody = response.body().string();\r\n\r\n                                } else {\r\n                                    // Request unsuccessful\r\n                                    // Handle error case\r\n                                }\r\n                            }\r\n\r\n                            @Override\r\n                            public void onFailure(okhttp3.Call call, IOException e) {\r\n                                // Handle network failure\r\n                            }\r\n                        });\r\n\r\n                        String Tag = new String();\r\n                        String Data = new String();\r\n                        String ID = new String();\r\n                        long timestamp = System.currentTimeMillis();\r\n                        android.util.Log.d(Data, &quot;Value :&quot; + new Gson().toJson(objects));\r\n                        android.util.Log.d(&quot;VALUE SENSOR TIPE&quot;, String.valueOf(sensor.getType()));\r\n                        android.util.Log.d(&quot;VALUE SENSOR&quot;, String.valueOf(objects));\r\n                        String androidId = Settings.Secure.getString(mContext.getContentResolver(), Settings.Secure.ANDROID_ID);\r\n                        android.util.Log.d(Tag, &quot;Device ID: &quot; + androidId);\r\n                        Date date = new Date(timestamp);\r\n                        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n                        sdf.format(date);\r\n                        // Convert timestamp to a human-readable date and time format\r\n                        String formattedTime = String.valueOf(date);\r\n                        android.util.Log.d(&quot;Timestamp&quot;, &quot;Current timestamp: &quot; + timestamp);\r\n                        android.util.Log.d(&quot;Timestamp&quot;, &quot;Formatted time: &quot; + formattedTime);\r\n                        mRecorderWriter.asycWrite(sensor, diffTimeSystem, diffTimeSensor, objects);\r\n                        android.util.Log.d(&quot;Time Sys: &quot;,&quot;Time System: &quot; + diffTimeSystem);\r\n                        android.util.Log.d(&quot;Time Sen: &quot;,&quot;Time Sensor: &quot; + diffTimeSensor);\r\n\r\n                    }\r\n                });\r\n            }\r\n\r\n            // Some sensors take a long time to start but have to be run on UI thread\r\n            if (sensor.mustRunOnUiThread()) {\r\n                sensor.start(mContext, settings, mLog.getRecordTimes());\r\n            } else {\r\n                new Thread(() -&gt; sensor.start(mContext, settings, mLog.getRecordTimes())).start();\r\n            }\r\n        }\r\n\r\n        createNotification();\r\n        startTimer();\r\n        isRecording = true;\r\n    }\r\n\r\n    private Map&lt;String, Object&gt; getMapValue(int type, Object[] objects) {\r\n        Map&lt;String, Object&gt; value = new HashMap&lt;&gt;();\r\n        String androidId = Settings.Secure.getString(mContext.getContentResolver(), Settings.Secure.ANDROID_ID);\r\n        long timestamp = System.currentTimeMillis();\r\n        Date date = new Date(timestamp);\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n        sdf.format(date);\r\n        // Convert timestamp to a human-readable date and time format\r\n        String formattedTime = String.valueOf(date);\r\n\r\n//        final Map.Entry&lt;Sensor, Sensor.Settings&gt; sensorAndSetting = null;\r\n//        final Sensor sensor = sensorAndSetting.getKey();\r\n//        final Sensor.Settings settings = sensorAndSetting.getValue();\r\n\r\n//        String CT = toString();\r\n//        String FT = new String();\r\n\r\n\r\n        switch (type) {\r\n            case 1:\r\n                value.put(&quot;Device ID&quot;, androidId);\r\n                value.put(&quot;Current Timestamp&quot;, timestamp);\r\n                value.put(&quot;Formatted Timestamp&quot;, formattedTime);\r\n                value.put(&quot;accel x&quot;, objects[0]);\r\n                value.put(&quot;accel y&quot;, objects[1]);\r\n                value.put(&quot;accel z&quot;, objects[2]);\r\n                break;\r\n            case 35:\r\n                value.put(&quot;Device ID&quot;, androidId);\r\n                value.put(&quot;Current Timestamp&quot;, timestamp);\r\n                value.put(&quot;Formatted Timestamp&quot;, formattedTime);\r\n//                value.put(&quot;Time Sensor&quot;, CT);\r\n//                value.put(&quot;Time System&quot;, FT);\r\n                value.put(&quot;uncal accel x&quot;, objects[0]);\r\n                value.put(&quot;uncal accel y&quot;, objects[1]);\r\n                value.put(&quot;uncal accel z&quot;, objects[2]);\r\n                break;\r\n            case 2:\r\n                value.put(&quot;Device ID&quot;, androidId);\r\n                value.put(&quot;Current Timestamp&quot;, timestamp);\r\n                value.put(&quot;Formatted Timestamp&quot;, formattedTime);\r\n                value.put(&quot;magneto x&quot;, objects[0]);\r\n                value.put(&quot;magneto y&quot;, objects[1]);\r\n                value.put(&quot;magneto z&quot;, objects[2]);\r\n                break;\r\n            case 14:\r\n                value.put(&quot;Device ID&quot;, androidId);\r\n                value.put(&quot;Current Timestamp&quot;, timestamp);\r\n                value.put(&quot;Formatted Timestamp&quot;, formattedTime);\r\n                value.put(&quot;uncal magneto x&quot;, objects[0]);\r\n                value.put(&quot;uncal magneto y&quot;, objects[1]);\r\n                value.put(&quot;uncal magneto z&quot;, objects[2]);\r\n                break;\r\n            case 4:\r\n                value.put(&quot;Device ID&quot;, androidId);\r\n                value.put(&quot;Current Timestamp&quot;, timestamp);\r\n                value.put(&quot;Formatted Timestamp&quot;, formattedTime);\r\n                value.put(&quot;gyro x&quot;, objects[0]);\r\n                value.put(&quot;gyro y&quot;, objects[1]);\r\n                value.put(&quot;gyro z&quot;, objects[2]);\r\n                break;\r\n            case 16:\r\n                value.put(&quot;Device ID&quot;, androidId);\r\n                value.put(&quot;Current Timestamp&quot;, timestamp);\r\n                value.put(&quot;Formatted Timestamp&quot;, formattedTime);\r\n                value.put(&quot;uncal gyro x&quot;, objects[0]);\r\n                value.put(&quot;uncal gyro y&quot;, objects[1]);\r\n                value.put(&quot;uncal gyro z&quot;, objects[2]);\r\n                break;\r\n            case 9:\r\n            case 10:\r\n            case 11:\r\n                float[] fArr = new float[4];\r\n                float[] fArr2 = new float[9];\r\n                float[] fArr3 = new float[3];\r\n                SensorManager.getQuaternionFromVector(fArr, (float[]) objects[0]);\r\n                SensorManager.getRotationMatrixFromVector(fArr2, (float[]) objects[0]);\r\n                SensorManager.getOrientation(fArr2, fArr3);\r\n                value.put(&quot;yaw&quot;, fArr3[0]);\r\n                value.put(&quot;pitch&quot;, fArr3[1]);\r\n                value.put(&quot;roll&quot;, fArr3[2]);\r\n                value.put(&quot;qw&quot;, fArr[0]);\r\n                value.put(&quot;qx&quot;, fArr[1]);\r\n                value.put(&quot;qy&quot;, fArr[2]);\r\n                value.put(&quot;qz&quot;, fArr[3]);\r\n                break;\r\n            case 5:\r\n                value.put(&quot;lux&quot;, objects[0]);\r\n                break;\r\n            case 768:\r\n                value.put(&quot;Device ID&quot;, androidId);\r\n                value.put(&quot;Current Timestamp&quot;, timestamp);\r\n                value.put(&quot;Formatted Timestamp&quot;, formattedTime);\r\n                value.put(&quot;GPS Latitude&quot;, objects[0]);\r\n                value.put(&quot;GPS Longitude&quot;, objects[1]);\r\n                value.put(&quot;GPS Altitude&quot;, objects[2]);\r\n                value.put(&quot;GPS Bearing&quot;, objects[3]);\r\n                value.put(&quot;GPS Accuracy&quot;, objects[4]);\r\n                value.put(&quot;GPS Speed&quot;, objects[5]);\r\n                break;\r\n            case 6:\r\n                float altitude = SensorManager.getAltitude(1013.25f, (Float) objects[0]);\r\n                if (f == null) {\r\n                    initialAltitude = Float.valueOf(altitude);\r\n                }\r\n                f2 = initialAltitude;\r\n                float floatValue = f2 == null ? altitude : f2.floatValue();\r\n                value.put(&quot;pressure&quot;, objects[0]);\r\n                value.put(&quot;relativeAltitude&quot;, altitude - floatValue);\r\n                break;\r\n        }\r\n\r\n        return value;\r\n    }\r\n\r\n    public void pause() {\r\n\r\n        if (!isRecording) return;\r\n\r\n        stopTimer();\r\n        removeNotification();\r\n\r\n        for (final Sensor sensor : mSensorsAndSettings.keySet()) {\r\n\r\n            sensor.setListener(null);\r\n\r\n            if (sensor.mustRunOnUiThread()) {\r\n                sensor.stop(mContext);\r\n            } else {\r\n                new Thread(() -&gt; sensor.stop(mContext)).start();\r\n            }\r\n        }\r\n\r\n        mLog.getRecordTimes().endTime = System.currentTimeMillis() / 1e3d;\r\n        isRecording = false;\r\n    }\r\n\r\n\r\n    public void cancel() throws IOException {\r\n\r\n        if (isRecording) {\r\n            pause();\r\n        }\r\n        resetTimer();\r\n        mRecorderWriter.finish();\r\n        mRecorderWriter.removeFiles();\r\n        isInitialized = false;\r\n        isRecording = false;\r\n    }\r\n\r\n\r\n    public Log save(String title) throws IOException {\r\n        return save(title, null, null, null);\r\n    }\r\n\r\n    public Log save(String title, String user, String positionOrientation, String comment) throws IOException {\r\n\r\n        mRecorderWriter.writeReferences(mReferences);\r\n        mRecorderWriter.finish();\r\n\r\n        resetTimer();\r\n\r\n        // Set title to unknown if null and replace non word characters by underscore\r\n        if (title == null || title.isEmpty()) {\r\n            title = mContext.getString(R.string.record_finished_empty_filename);\r\n        }\r\n        String filename = title.replaceAll(&quot;\\\\W+&quot;, &quot;_&quot;);\r\n\r\n        mLog.setName(title);\r\n        mLog.setUser(user);\r\n        mLog.setComment(comment);\r\n        mLog.setPositionOrientation(positionOrientation);\r\n        mLog.setUncompressedSize(mRecorderWriter.getDataSize());\r\n\r\n\r\n        // Create Zip File\r\n        final Pair&lt;File, ZipCreationTask&gt; zipCreationPair = mRecorderWriter.createZipFile(filename, mLog);\r\n        final File zipFile = zipCreationPair.first;\r\n        final ZipCreationTask zipTask = zipCreationPair.second;\r\n\r\n        mLog.setZipCreationTask(zipTask);\r\n\r\n        zipTask.addListener(new ZipCreationTask.ZipCreationListener() {\r\n            @Override\r\n            public void onProgress(File currentFile, float ratio) {\r\n            }\r\n\r\n            @Override\r\n            public void onTaskFinished(File outputFile, long fileSize) {\r\n                // Remove files when recorder finished\r\n                mRecorderWriter.removeFiles();\r\n                zipTask.removeListener(this);\r\n            }\r\n        });\r\n\r\n        mLog.setZipFile(zipFile);\r\n\r\n        mLogsManager.addLog(mLog);\r\n\r\n        isInitialized = false;\r\n\r\n        return mLog;\r\n    }\r\n\r\n\r\n    public Log.RecordTimes getRecordTimes() {\r\n        return mLog.getRecordTimes();\r\n    }\r\n\r\n\r\n    public void addReference(double latitude, double longitude, Float level) {\r\n        double elapsedTime = System.currentTimeMillis() / 1e3d - mLog.getRecordTimes().startTime;\r\n        mReferences.add(new PositionReference(elapsedTime, latitude, longitude, level));\r\n    }\r\n\r\n    public void removeLastReference() {\r\n        mReferences.pollLast();\r\n    }\r\n\r\n\r\n    //&lt;editor-fold desc=&quot;DataSize&quot;&gt;\r\n    public long getDataSize() {\r\n        return mRecorderWriter.getDataSize();\r\n    }\r\n    //&lt;/editor-fold&gt;\r\n\r\n\r\n    //&lt;editor-fold desc=&quot;Timer&quot;&gt;\r\n    private long firstTime;\r\n    private long computeTime;\r\n\r\n    public long getCurrentTime() {\r\n        return computeTime + System.currentTimeMillis() - firstTime;\r\n    }\r\n\r\n    private void startTimer() {\r\n        firstTime = System.currentTimeMillis();\r\n    }\r\n\r\n    private void stopTimer() {\r\n        computeTime += System.currentTimeMillis() - firstTime;\r\n    }\r\n\r\n    private void resetTimer() {\r\n        computeTime = 0;\r\n    }\r\n    //&lt;/editor-fold&gt;\r\n\r\n\r\n    //&lt;editor-fold desc=&quot;Notification&quot;&gt;\r\n\r\n    private void createNotification() {\r\n        mContext.bindService(new Intent(mContext, KillNotificationsService.class),\r\n                mNotificationConnection, Context.BIND_AUTO_CREATE);\r\n    }\r\n\r\n    private void removeNotification() {\r\n        mContext.unbindService(mNotificationConnection);\r\n\r\n        NotificationManager mNotificationManager =\r\n                (NotificationManager) mContext.getSystemService(Context.NOTIFICATION_SERVICE);\r\n        mNotificationManager.cancel(NOTIFICATION_ID);\r\n    }\r\n\r\n\r\n    // http://stackoverflow.com/questions/12997800/cancel-notification-on-remove-application-from-multitask-panel\r\n    private ServiceConnection mNotificationConnection = new ServiceConnection() {\r\n        public void onServiceConnected(ComponentName className,\r\n                                       IBinder binder) {\r\n            ((KillNotificationsService.KillBinder) binder).service.startService(\r\n                    new Intent(mContext, KillNotificationsService.class));\r\n\r\n            Intent intent = new Intent(mContext, RecordActivity.class);\r\n            intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_SINGLE_TOP);\r\n            PendingIntent pendingIntent = PendingIntent.getActivity(mContext, 0, intent, PendingIntent.FLAG_UPDATE_CURRENT);\r\n\r\n            NotificationCompat.Builder builder =\r\n                    new NotificationCompat.Builder(mContext)\r\n                            .setSmallIcon(R.drawable.ic_notification)\r\n                            .setContentTitle(mContext.getString(R.string.app_name))\r\n                            .setContentText(mContext.getString(R.string.record_notification))\r\n                            .setContentIntent(pendingIntent);\r\n\r\n            Notification notification = builder.build();\r\n            notification.flags = Notification.FLAG_ONGOING_EVENT;\r\n\r\n            NotificationManager mNotificationManager =\r\n                    (NotificationManager) mContext.getSystemService(Context.NOTIFICATION_SERVICE);\r\n            mNotificationManager.notify(NOTIFICATION_ID, notification);\r\n        }\r\n\r\n        public void onServiceDisconnected(ComponentName className) {\r\n        }\r\n\r\n    };\r\n    //&lt;/editor-fold&gt;\r\n\r\n\r\n}\r\n\r\n\r\n```\r\n\r\n\r\ni need to use the editTextText value to set the IP address in the Recorder class to proceed okHttp request, the code above show no error but when i check logcat to see the value of mIP it show that is null","title":"How to reference an Edit Text value from Activity class to Non-Activity class","body":"<p>i need to get the value in editTextText from ShowURL class to use in Recorder class to set the IP address for okHttp request</p>\n<p>the ShowURL class is like this:</p>\n<pre><code>package fr.inria.tyrex.senslogs.ui;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.EditText;\nimport android.widget.TextView;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport org.w3c.dom.Text;\n\nimport java.io.FileNotFoundException;\nimport java.util.Map;\n\nimport fr.inria.tyrex.senslogs.R;\nimport fr.inria.tyrex.senslogs.control.LogsManager;\nimport fr.inria.tyrex.senslogs.control.PreferencesManager;\nimport fr.inria.tyrex.senslogs.control.Recorder;\nimport fr.inria.tyrex.senslogs.control.SensorsManager;\nimport fr.inria.tyrex.senslogs.model.log.CalibrationLog;\nimport fr.inria.tyrex.senslogs.model.log.Log;\nimport fr.inria.tyrex.senslogs.model.sensors.Sensor;\n\npublic class ShowURL extends AppCompatActivity {\n\n    private LogsManager mLogsManager;\n    private PreferencesManager mPreferencesManager;\n    private Log mLog;\n    EditText MyURL;\n    public static String IP;\n\n    protected void onCreate(Bundle savedInstanceState){\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.url);\n        MyURL = findViewById(R.id.editTextText);\n\n    }\n\n    public void Click (View view) throws FileNotFoundException {\n        String URL = MyURL.getText().toString();\n\n        Recorder yourObject = new Recorder(this, mLogsManager, mPreferencesManager);\n        yourObject.setIp(URL);\n        yourObject.getIp();\n        android.util.Log.d(&quot;IP Value&quot;, &quot;IP: &quot; + yourObject.getIp());\n    }\n}\n\n</code></pre>\n<p>and the targeted class to get the value of EditText is:</p>\n<pre><code>package fr.inria.tyrex.senslogs.control;\n\n\nimport static android.hardware.usb.UsbDevice.getDeviceId;\nimport static androidx.core.content.ContextCompat.getSystemService;\n\nimport android.app.Notification;\nimport android.app.NotificationManager;\nimport android.app.PendingIntent;\nimport android.content.ComponentName;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.ServiceConnection;\nimport android.hardware.SensorManager;\nimport android.hardware.SensorPrivacyManager;\nimport android.nfc.Tag;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.os.IBinder;\nimport android.os.AsyncTask;\nimport android.app.Activity;\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.core.app.NotificationCompat;\nimport androidx.fragment.app.Fragment;\n\nimport android.provider.Settings;\nimport android.telephony.TelephonyManager;\nimport android.util.Pair;\n\nimport com.google.gson.Gson;\n\nimport android.view.View;\nimport android.widget.EditText;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport java.io.OutputStream;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.util.HashMap;\nimport java.util.LinkedList;\nimport java.util.Map;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\nimport fr.inria.tyrex.senslogs.model.sensors.AndroidSensor;\nimport fr.inria.tyrex.senslogs.ui.LogsActivity;\nimport fr.inria.tyrex.senslogs.ui.MainActivity;\nimport fr.inria.tyrex.senslogs.ui.ShowURL;\nimport okhttp3.MediaType;\nimport okhttp3.OkHttpClient;\nimport okhttp3.Request;\nimport okhttp3.RequestBody;\nimport okhttp3.Response;\n\nimport fr.inria.tyrex.senslogs.Application;\nimport fr.inria.tyrex.senslogs.R;\nimport fr.inria.tyrex.senslogs.model.FieldsWritableObject;\nimport fr.inria.tyrex.senslogs.model.PositionReference;\nimport fr.inria.tyrex.senslogs.model.log.CalibrationLog;\nimport fr.inria.tyrex.senslogs.model.log.Log;\nimport fr.inria.tyrex.senslogs.model.sensors.CameraRecorder;\nimport fr.inria.tyrex.senslogs.model.sensors.Sensor;\nimport fr.inria.tyrex.senslogs.ui.RecordActivity;\nimport fr.inria.tyrex.senslogs.ui.utils.KillNotificationsService;\n\n/**\n * Handle timers and record sensors data\n */\npublic class Recorder {\n\n    public final static int NOTIFICATION_ID = 1;\n\n    private final Context mContext;\n\n    private static final String TAG = &quot;DeviceID&quot;;\n    private final LogsManager mLogsManager;\n    private final PreferencesManager mPreferencesManager;\n\n    private RecorderWriter mRecorderWriter;\n\n    private SensorManager mSensorManager;\n    private Log mLog;\n\n    private Map&lt;Sensor, Sensor.Settings&gt; mSensorsAndSettings;\n    private LinkedList&lt;PositionReference&gt; mReferences;\n\n\n    private boolean isRecording = false;\n    private boolean isInitialized = false;\n\n    private Float f, f2 = null;\n    private  Float initialAltitude = null;\n    private Bundle mExtraData; // Declare mExtraData variable\n\n    private String mIP = getIp();\n\n    public String getIp() {\n        return mIP;\n    }\n    public String setIp(String ip) {\n        mIP = ip;\n        return mIP;\n    }\n\n    public Recorder(Context context, LogsManager logsManager,\n                    PreferencesManager preferencesManager) {\n        mContext = context;\n        mLogsManager = logsManager;\n        mPreferencesManager = preferencesManager;\n        mReferences = new LinkedList&lt;&gt;();\n    }\n\n    public boolean isRecording() {\n        return isRecording;\n    }\n\n    public boolean isRecording(Sensor sensor) {\n        return mSensorsAndSettings.containsKey(sensor);\n    }\n\n    private void init(@NonNull Map&lt;Sensor, Sensor.Settings&gt; sensorsAndSettings,\n                      @Nullable CalibrationLog.Type calibration)\n            throws FileNotFoundException {\n\n        // Store sensors and their settings\n        mSensorsAndSettings = sensorsAndSettings;\n\n        mLog = calibration != null ?\n                CalibrationLog.create(calibration, mSensorsAndSettings.keySet()) :\n                new Log(mSensorsAndSettings.keySet());\n\n        mLog.init(mContext);\n        mReferences.clear();\n\n        // We need to create a new instance because writer is used during zip creation task\n        mRecorderWriter = new RecorderWriter(mContext);\n        mRecorderWriter.init(mLog);\n    }\n\n    public void play() throws FileNotFoundException {\n        play(mPreferencesManager.getSelectedSensors(), null);\n    }\n\n    public void play(Map&lt;Sensor, Sensor.Settings&gt; sensorsAndSettings, CalibrationLog.Type calibration)\n            throws FileNotFoundException {\n\n        if (isRecording) return;\n\n\n        // Need to init some properties for the first play\n        if (!isInitialized) {\n            init(sensorsAndSettings, calibration);\n            isInitialized = true;\n        }\n\n\n        // Start and listen sensors\n        for (final Map.Entry&lt;Sensor, Sensor.Settings&gt; sensorAndSetting : mSensorsAndSettings.entrySet()) {\n\n            final Sensor sensor = sensorAndSetting.getKey();\n            final Sensor.Settings settings = sensorAndSetting.getValue();\n\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP &amp;&amp; sensor instanceof CameraRecorder) {\n                mRecorderWriter.updateVideoPath();\n            }\n\n            if (sensor instanceof FieldsWritableObject) {\n                sensor.setListener(new Sensor.Listener() {\n                    @Override\n                    public void onNewValues(double diffTimeSystem, double diffTimeSensor, Object[] objects) {\n\n                        OkHttpClient client = new OkHttpClient();\n                        Map&lt;String, Object&gt; data = getMapValue(sensor.getType(), objects);\n\n                        // Define the request body\n                        MediaType mediaType = MediaType.parse(&quot;application/json; charset=utf-8&quot;);\n                        String json = new Gson().toJson(data); // JSON payload\n                        RequestBody requestBody = RequestBody.create(mediaType, json);\n                        String IP = setIp(mIP);\n                        android.util.Log.d(&quot;CEK ISI&quot;, &quot;Isi mIP: &quot; + IP);\n                        Request request = new Request.Builder()\n                                .url(&quot;http://theAddress&quot;)\n                                .post(requestBody)\n                                .build();\n\n                        // Send the request asynchronously\n                        client.newCall(request).enqueue(new okhttp3.Callback() {\n                            @Override\n                            public void onResponse(okhttp3.Call call, Response response) throws IOException {\n                                // Handle the response\n                                if (response.isSuccessful()) {\n                                    // Request successful\n                                    final String responseBody = response.body().string();\n\n                                } else {\n                                    // Request unsuccessful\n                                    // Handle error case\n                                }\n                            }\n\n                            @Override\n                            public void onFailure(okhttp3.Call call, IOException e) {\n                                // Handle network failure\n                            }\n                        });\n\n                        String Tag = new String();\n                        String Data = new String();\n                        String ID = new String();\n                        long timestamp = System.currentTimeMillis();\n                        android.util.Log.d(Data, &quot;Value :&quot; + new Gson().toJson(objects));\n                        android.util.Log.d(&quot;VALUE SENSOR TIPE&quot;, String.valueOf(sensor.getType()));\n                        android.util.Log.d(&quot;VALUE SENSOR&quot;, String.valueOf(objects));\n                        String androidId = Settings.Secure.getString(mContext.getContentResolver(), Settings.Secure.ANDROID_ID);\n                        android.util.Log.d(Tag, &quot;Device ID: &quot; + androidId);\n                        Date date = new Date(timestamp);\n                        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n                        sdf.format(date);\n                        // Convert timestamp to a human-readable date and time format\n                        String formattedTime = String.valueOf(date);\n                        android.util.Log.d(&quot;Timestamp&quot;, &quot;Current timestamp: &quot; + timestamp);\n                        android.util.Log.d(&quot;Timestamp&quot;, &quot;Formatted time: &quot; + formattedTime);\n                        mRecorderWriter.asycWrite(sensor, diffTimeSystem, diffTimeSensor, objects);\n                        android.util.Log.d(&quot;Time Sys: &quot;,&quot;Time System: &quot; + diffTimeSystem);\n                        android.util.Log.d(&quot;Time Sen: &quot;,&quot;Time Sensor: &quot; + diffTimeSensor);\n\n                    }\n                });\n            }\n\n            // Some sensors take a long time to start but have to be run on UI thread\n            if (sensor.mustRunOnUiThread()) {\n                sensor.start(mContext, settings, mLog.getRecordTimes());\n            } else {\n                new Thread(() -&gt; sensor.start(mContext, settings, mLog.getRecordTimes())).start();\n            }\n        }\n\n        createNotification();\n        startTimer();\n        isRecording = true;\n    }\n\n    private Map&lt;String, Object&gt; getMapValue(int type, Object[] objects) {\n        Map&lt;String, Object&gt; value = new HashMap&lt;&gt;();\n        String androidId = Settings.Secure.getString(mContext.getContentResolver(), Settings.Secure.ANDROID_ID);\n        long timestamp = System.currentTimeMillis();\n        Date date = new Date(timestamp);\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n        sdf.format(date);\n        // Convert timestamp to a human-readable date and time format\n        String formattedTime = String.valueOf(date);\n\n//        final Map.Entry&lt;Sensor, Sensor.Settings&gt; sensorAndSetting = null;\n//        final Sensor sensor = sensorAndSetting.getKey();\n//        final Sensor.Settings settings = sensorAndSetting.getValue();\n\n//        String CT = toString();\n//        String FT = new String();\n\n\n        switch (type) {\n            case 1:\n                value.put(&quot;Device ID&quot;, androidId);\n                value.put(&quot;Current Timestamp&quot;, timestamp);\n                value.put(&quot;Formatted Timestamp&quot;, formattedTime);\n                value.put(&quot;accel x&quot;, objects[0]);\n                value.put(&quot;accel y&quot;, objects[1]);\n                value.put(&quot;accel z&quot;, objects[2]);\n                break;\n            case 35:\n                value.put(&quot;Device ID&quot;, androidId);\n                value.put(&quot;Current Timestamp&quot;, timestamp);\n                value.put(&quot;Formatted Timestamp&quot;, formattedTime);\n//                value.put(&quot;Time Sensor&quot;, CT);\n//                value.put(&quot;Time System&quot;, FT);\n                value.put(&quot;uncal accel x&quot;, objects[0]);\n                value.put(&quot;uncal accel y&quot;, objects[1]);\n                value.put(&quot;uncal accel z&quot;, objects[2]);\n                break;\n            case 2:\n                value.put(&quot;Device ID&quot;, androidId);\n                value.put(&quot;Current Timestamp&quot;, timestamp);\n                value.put(&quot;Formatted Timestamp&quot;, formattedTime);\n                value.put(&quot;magneto x&quot;, objects[0]);\n                value.put(&quot;magneto y&quot;, objects[1]);\n                value.put(&quot;magneto z&quot;, objects[2]);\n                break;\n            case 14:\n                value.put(&quot;Device ID&quot;, androidId);\n                value.put(&quot;Current Timestamp&quot;, timestamp);\n                value.put(&quot;Formatted Timestamp&quot;, formattedTime);\n                value.put(&quot;uncal magneto x&quot;, objects[0]);\n                value.put(&quot;uncal magneto y&quot;, objects[1]);\n                value.put(&quot;uncal magneto z&quot;, objects[2]);\n                break;\n            case 4:\n                value.put(&quot;Device ID&quot;, androidId);\n                value.put(&quot;Current Timestamp&quot;, timestamp);\n                value.put(&quot;Formatted Timestamp&quot;, formattedTime);\n                value.put(&quot;gyro x&quot;, objects[0]);\n                value.put(&quot;gyro y&quot;, objects[1]);\n                value.put(&quot;gyro z&quot;, objects[2]);\n                break;\n            case 16:\n                value.put(&quot;Device ID&quot;, androidId);\n                value.put(&quot;Current Timestamp&quot;, timestamp);\n                value.put(&quot;Formatted Timestamp&quot;, formattedTime);\n                value.put(&quot;uncal gyro x&quot;, objects[0]);\n                value.put(&quot;uncal gyro y&quot;, objects[1]);\n                value.put(&quot;uncal gyro z&quot;, objects[2]);\n                break;\n            case 9:\n            case 10:\n            case 11:\n                float[] fArr = new float[4];\n                float[] fArr2 = new float[9];\n                float[] fArr3 = new float[3];\n                SensorManager.getQuaternionFromVector(fArr, (float[]) objects[0]);\n                SensorManager.getRotationMatrixFromVector(fArr2, (float[]) objects[0]);\n                SensorManager.getOrientation(fArr2, fArr3);\n                value.put(&quot;yaw&quot;, fArr3[0]);\n                value.put(&quot;pitch&quot;, fArr3[1]);\n                value.put(&quot;roll&quot;, fArr3[2]);\n                value.put(&quot;qw&quot;, fArr[0]);\n                value.put(&quot;qx&quot;, fArr[1]);\n                value.put(&quot;qy&quot;, fArr[2]);\n                value.put(&quot;qz&quot;, fArr[3]);\n                break;\n            case 5:\n                value.put(&quot;lux&quot;, objects[0]);\n                break;\n            case 768:\n                value.put(&quot;Device ID&quot;, androidId);\n                value.put(&quot;Current Timestamp&quot;, timestamp);\n                value.put(&quot;Formatted Timestamp&quot;, formattedTime);\n                value.put(&quot;GPS Latitude&quot;, objects[0]);\n                value.put(&quot;GPS Longitude&quot;, objects[1]);\n                value.put(&quot;GPS Altitude&quot;, objects[2]);\n                value.put(&quot;GPS Bearing&quot;, objects[3]);\n                value.put(&quot;GPS Accuracy&quot;, objects[4]);\n                value.put(&quot;GPS Speed&quot;, objects[5]);\n                break;\n            case 6:\n                float altitude = SensorManager.getAltitude(1013.25f, (Float) objects[0]);\n                if (f == null) {\n                    initialAltitude = Float.valueOf(altitude);\n                }\n                f2 = initialAltitude;\n                float floatValue = f2 == null ? altitude : f2.floatValue();\n                value.put(&quot;pressure&quot;, objects[0]);\n                value.put(&quot;relativeAltitude&quot;, altitude - floatValue);\n                break;\n        }\n\n        return value;\n    }\n\n    public void pause() {\n\n        if (!isRecording) return;\n\n        stopTimer();\n        removeNotification();\n\n        for (final Sensor sensor : mSensorsAndSettings.keySet()) {\n\n            sensor.setListener(null);\n\n            if (sensor.mustRunOnUiThread()) {\n                sensor.stop(mContext);\n            } else {\n                new Thread(() -&gt; sensor.stop(mContext)).start();\n            }\n        }\n\n        mLog.getRecordTimes().endTime = System.currentTimeMillis() / 1e3d;\n        isRecording = false;\n    }\n\n\n    public void cancel() throws IOException {\n\n        if (isRecording) {\n            pause();\n        }\n        resetTimer();\n        mRecorderWriter.finish();\n        mRecorderWriter.removeFiles();\n        isInitialized = false;\n        isRecording = false;\n    }\n\n\n    public Log save(String title) throws IOException {\n        return save(title, null, null, null);\n    }\n\n    public Log save(String title, String user, String positionOrientation, String comment) throws IOException {\n\n        mRecorderWriter.writeReferences(mReferences);\n        mRecorderWriter.finish();\n\n        resetTimer();\n\n        // Set title to unknown if null and replace non word characters by underscore\n        if (title == null || title.isEmpty()) {\n            title = mContext.getString(R.string.record_finished_empty_filename);\n        }\n        String filename = title.replaceAll(&quot;\\\\W+&quot;, &quot;_&quot;);\n\n        mLog.setName(title);\n        mLog.setUser(user);\n        mLog.setComment(comment);\n        mLog.setPositionOrientation(positionOrientation);\n        mLog.setUncompressedSize(mRecorderWriter.getDataSize());\n\n\n        // Create Zip File\n        final Pair&lt;File, ZipCreationTask&gt; zipCreationPair = mRecorderWriter.createZipFile(filename, mLog);\n        final File zipFile = zipCreationPair.first;\n        final ZipCreationTask zipTask = zipCreationPair.second;\n\n        mLog.setZipCreationTask(zipTask);\n\n        zipTask.addListener(new ZipCreationTask.ZipCreationListener() {\n            @Override\n            public void onProgress(File currentFile, float ratio) {\n            }\n\n            @Override\n            public void onTaskFinished(File outputFile, long fileSize) {\n                // Remove files when recorder finished\n                mRecorderWriter.removeFiles();\n                zipTask.removeListener(this);\n            }\n        });\n\n        mLog.setZipFile(zipFile);\n\n        mLogsManager.addLog(mLog);\n\n        isInitialized = false;\n\n        return mLog;\n    }\n\n\n    public Log.RecordTimes getRecordTimes() {\n        return mLog.getRecordTimes();\n    }\n\n\n    public void addReference(double latitude, double longitude, Float level) {\n        double elapsedTime = System.currentTimeMillis() / 1e3d - mLog.getRecordTimes().startTime;\n        mReferences.add(new PositionReference(elapsedTime, latitude, longitude, level));\n    }\n\n    public void removeLastReference() {\n        mReferences.pollLast();\n    }\n\n\n    //&lt;editor-fold desc=&quot;DataSize&quot;&gt;\n    public long getDataSize() {\n        return mRecorderWriter.getDataSize();\n    }\n    //&lt;/editor-fold&gt;\n\n\n    //&lt;editor-fold desc=&quot;Timer&quot;&gt;\n    private long firstTime;\n    private long computeTime;\n\n    public long getCurrentTime() {\n        return computeTime + System.currentTimeMillis() - firstTime;\n    }\n\n    private void startTimer() {\n        firstTime = System.currentTimeMillis();\n    }\n\n    private void stopTimer() {\n        computeTime += System.currentTimeMillis() - firstTime;\n    }\n\n    private void resetTimer() {\n        computeTime = 0;\n    }\n    //&lt;/editor-fold&gt;\n\n\n    //&lt;editor-fold desc=&quot;Notification&quot;&gt;\n\n    private void createNotification() {\n        mContext.bindService(new Intent(mContext, KillNotificationsService.class),\n                mNotificationConnection, Context.BIND_AUTO_CREATE);\n    }\n\n    private void removeNotification() {\n        mContext.unbindService(mNotificationConnection);\n\n        NotificationManager mNotificationManager =\n                (NotificationManager) mContext.getSystemService(Context.NOTIFICATION_SERVICE);\n        mNotificationManager.cancel(NOTIFICATION_ID);\n    }\n\n\n    // http://stackoverflow.com/questions/12997800/cancel-notification-on-remove-application-from-multitask-panel\n    private ServiceConnection mNotificationConnection = new ServiceConnection() {\n        public void onServiceConnected(ComponentName className,\n                                       IBinder binder) {\n            ((KillNotificationsService.KillBinder) binder).service.startService(\n                    new Intent(mContext, KillNotificationsService.class));\n\n            Intent intent = new Intent(mContext, RecordActivity.class);\n            intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_SINGLE_TOP);\n            PendingIntent pendingIntent = PendingIntent.getActivity(mContext, 0, intent, PendingIntent.FLAG_UPDATE_CURRENT);\n\n            NotificationCompat.Builder builder =\n                    new NotificationCompat.Builder(mContext)\n                            .setSmallIcon(R.drawable.ic_notification)\n                            .setContentTitle(mContext.getString(R.string.app_name))\n                            .setContentText(mContext.getString(R.string.record_notification))\n                            .setContentIntent(pendingIntent);\n\n            Notification notification = builder.build();\n            notification.flags = Notification.FLAG_ONGOING_EVENT;\n\n            NotificationManager mNotificationManager =\n                    (NotificationManager) mContext.getSystemService(Context.NOTIFICATION_SERVICE);\n            mNotificationManager.notify(NOTIFICATION_ID, notification);\n        }\n\n        public void onServiceDisconnected(ComponentName className) {\n        }\n\n    };\n    //&lt;/editor-fold&gt;\n\n\n}\n\n\n</code></pre>\n<p>i need to use the editTextText value to set the IP address in the Recorder class to proceed okHttp request, the code above show no error but when i check logcat to see the value of mIP it show that is null</p>\n"},{"tags":["java","spring","postgresql","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":15049628,"reputation":78,"user_id":10861666,"display_name":"David"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1568278247,"creation_date":1568278152,"answer_id":57903053,"question_id":57900944,"body_markdown":"Try it:\r\n\r\nService class:\r\n\r\n    Long currentTime = new Date().getTime();\r\n\r\nRepository:\r\n\r\n    @Query(&quot;SELECT lt FROM LiveTokens lt WHERE lt.token.expireTime &lt;= :currentTime&quot;)\r\n\r\n    List&lt;LiveTokens&gt; findExpiredLiveTokens(@Param(&quot;currentTime&quot;) long currentTime)\r\n\r\n","title":"How to query with Spring JPA on jsonb columns?","body":"<p>Try it:</p>\n\n<p>Service class:</p>\n\n<pre><code>Long currentTime = new Date().getTime();\n</code></pre>\n\n<p>Repository:</p>\n\n<pre><code>@Query(\"SELECT lt FROM LiveTokens lt WHERE lt.token.expireTime &lt;= :currentTime\")\n\nList&lt;LiveTokens&gt; findExpiredLiveTokens(@Param(\"currentTime\") long currentTime)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1610284422,"creation_date":1568438698,"answer_id":57932699,"question_id":57900944,"body_markdown":"SQL JSON functions\r\n------------------\r\n\r\nIf you want to call a SQL function that processes the JSON column, then you just need to make sure you [register the function](https://vladmihalcea.com/hibernate-sql-function-jpql-criteria-api-query/) with Hibernate prior to using it. \r\n\r\nJSON operators\r\n--------------\r\n\r\nFor JSON operators, like the PostgreSQL ones (e.g., `-&gt;&gt;`), the only option you have is to use a native SQL query. JPQL or HQL don&#39;t support database-specific JSON operators.","title":"How to query with Spring JPA on jsonb columns?","body":"<h2>SQL JSON functions</h2>\n<p>If you want to call a SQL function that processes the JSON column, then you just need to make sure you <a href=\"https://vladmihalcea.com/hibernate-sql-function-jpql-criteria-api-query/\" rel=\"noreferrer\">register the function</a> with Hibernate prior to using it.</p>\n<h2>JSON operators</h2>\n<p>For JSON operators, like the PostgreSQL ones (e.g., <code>-&gt;&gt;</code>), the only option you have is to use a native SQL query. JPQL or HQL don't support database-specific JSON operators.</p>\n"},{"tags":[],"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1568713656,"creation_date":1568452733,"answer_id":57934102,"question_id":57900944,"body_markdown":"Using EclipseLink and spring data jpa, if your data in db is something like: {&quot;expireTime&quot;:102020230201, &quot;accessToken&quot;:&quot;SOMETHING&quot; }, my first question is why to use long numbers for your dates instead of timestamps (ex &#39;2019-09-14 12:05:00&#39;). If you use timestamps there are also options to manage timezones (either from postgresql or from you source code).  \r\nRegarding your issue you may use the [FUNC JPQL keyword of EclipseLink](https://www.eclipse.org/eclipselink/documentation/2.4/jpa/extensions/j_func.htm) (Hibernate may have something similar) in order to run a database specific function. In the example below I use `FUNC(&#39;jsonb_extract_path_text&#39;, lt.token, &#39;expireTime&#39;)` to get the values of the json for token.expireTime.  \r\nPostgreSql method `jsonb_extract_path_text` returns text, thus you cannot do a less that condition, so I cast the output of the function using [JPQL CAST keyword](https://stackoverflow.com/questions/46188918/casting-integer-to-string-in-jpql) with `(CAST -data- TO -type-)`.\r\n  \r\n\r\n    @Repository\r\n    public interface MyRepository extends JpaRepository&lt;LiveTokens, Integer&gt; {\r\n    \r\n        @Query(value = &quot;SELECT lt FROM LiveTokens lt WHERE CAST(FUNC(&#39;jsonb_extract_path_text&#39;, lt.token, &#39;expireTime&#39;) AS LongType) &lt; :expirirationThreshold&quot;)\r\n        List&lt;LiveTokens&gt; findByExpireTime(@Param(&quot;expirirationThreshold&quot;) Long expirirationThreshold);\r\n    }\r\n  \r\nAgain, this is not tested.","title":"How to query with Spring JPA on jsonb columns?","body":"<p>Using EclipseLink and spring data jpa, if your data in db is something like: {\"expireTime\":102020230201, \"accessToken\":\"SOMETHING\" }, my first question is why to use long numbers for your dates instead of timestamps (ex '2019-09-14 12:05:00'). If you use timestamps there are also options to manage timezones (either from postgresql or from you source code).<br>\nRegarding your issue you may use the <a href=\"https://www.eclipse.org/eclipselink/documentation/2.4/jpa/extensions/j_func.htm\" rel=\"nofollow noreferrer\">FUNC JPQL keyword of EclipseLink</a> (Hibernate may have something similar) in order to run a database specific function. In the example below I use <code>FUNC('jsonb_extract_path_text', lt.token, 'expireTime')</code> to get the values of the json for token.expireTime.<br>\nPostgreSql method <code>jsonb_extract_path_text</code> returns text, thus you cannot do a less that condition, so I cast the output of the function using <a href=\"https://stackoverflow.com/questions/46188918/casting-integer-to-string-in-jpql\">JPQL CAST keyword</a> with <code>(CAST -data- TO -type-)</code>.</p>\n\n<pre><code>@Repository\npublic interface MyRepository extends JpaRepository&lt;LiveTokens, Integer&gt; {\n\n    @Query(value = \"SELECT lt FROM LiveTokens lt WHERE CAST(FUNC('jsonb_extract_path_text', lt.token, 'expireTime') AS LongType) &lt; :expirirationThreshold\")\n    List&lt;LiveTokens&gt; findByExpireTime(@Param(\"expirirationThreshold\") Long expirirationThreshold);\n}\n</code></pre>\n\n<p>Again, this is not tested.</p>\n"},{"tags":[],"owner":{"account_id":183892,"reputation":1036,"user_id":419581,"accept_rate":100,"display_name":"r&#233;my"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689073223,"creation_date":1615801762,"answer_id":66635663,"question_id":57900944,"body_markdown":"This is how a native query using Postgres JSON query operators would look like, incorporating your example:\r\n\r\n    @Query(value=&quot;SELECT t.* FROM LiveTokens t WHERE CAST(t.token -&gt;&gt; &#39;expireTime&#39; AS LONG) &lt; now()&quot;, native=true)\r\n\r\nAssuming your **real** table name is `LiveTokens`, native queries no longer use the JPA translations, and the table name has to match the one in the DB. (You may also need to specify its schema.)","title":"How to query with Spring JPA on jsonb columns?","body":"<p>This is how a native query using Postgres JSON query operators would look like, incorporating your example:</p>\n<pre><code>@Query(value=&quot;SELECT t.* FROM LiveTokens t WHERE CAST(t.token -&gt;&gt; 'expireTime' AS LONG) &lt; now()&quot;, native=true)\n</code></pre>\n<p>Assuming your <strong>real</strong> table name is <code>LiveTokens</code>, native queries no longer use the JPA translations, and the table name has to match the one in the DB. (You may also need to specify its schema.)</p>\n"}],"owner":{"account_id":4794280,"reputation":1654,"user_id":3872648,"accept_rate":47,"display_name":"Morteza Malvandi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22686,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1689073223,"creation_date":1568269986,"question_id":57900944,"body_markdown":"I&#39;m using spring JPA with PostgreSQL database. I have an Entity as follow:\r\n\r\n    @Entity\r\n    @TypeDef(name=&quot;json_binary&quot;, typeClass = com.vladmihalcea.hibernate.type.json.JsonBinaryType.class)\r\n    public class LiveTokens {\r\n    \r\n       @Id\r\n       @GeneratedValue()\r\n       private Long id;\r\n\r\n       private String username;\r\n    \r\n       @Type(type=&quot;json_binary&quot;)\r\n       @Column(columnDefinition = &quot;jsonb&quot;)\r\n       private Token token\r\n    }\r\n\r\nand `Token`:\r\n\r\n    public class Token {\r\n       private Long expireTime;\r\n       private String accessToken;\r\n    }\r\n\r\nFor saving object to column with Hibernate, I use [Hibernate Types][1] project.\r\nNow I want to get All `LiveToken`s that expired. I can&#39;t do it with Spring JPA. How do I query to posgresql jsonb column with Spring data JPA?\r\n\r\n\r\n  [1]: https://github.com/vladmihalcea/hibernate-types","title":"How to query with Spring JPA on jsonb columns?","body":"<p>I'm using spring JPA with PostgreSQL database. I have an Entity as follow:</p>\n<pre><code>@Entity\n@TypeDef(name=&quot;json_binary&quot;, typeClass = com.vladmihalcea.hibernate.type.json.JsonBinaryType.class)\npublic class LiveTokens {\n\n   @Id\n   @GeneratedValue()\n   private Long id;\n\n   private String username;\n\n   @Type(type=&quot;json_binary&quot;)\n   @Column(columnDefinition = &quot;jsonb&quot;)\n   private Token token\n}\n</code></pre>\n<p>and <code>Token</code>:</p>\n<pre><code>public class Token {\n   private Long expireTime;\n   private String accessToken;\n}\n</code></pre>\n<p>For saving object to column with Hibernate, I use <a href=\"https://github.com/vladmihalcea/hibernate-types\" rel=\"nofollow noreferrer\">Hibernate Types</a> project.\nNow I want to get All <code>LiveToken</code>s that expired. I can't do it with Spring JPA. How do I query to posgresql jsonb column with Spring data JPA?</p>\n"},{"tags":["java","android","android-camerax"],"answers":[{"tags":[],"owner":{"account_id":6006515,"reputation":4320,"user_id":4718283,"accept_rate":74,"display_name":"Husayn Hakeem"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1611249279,"creation_date":1611249279,"answer_id":65832458,"question_id":65822326,"body_markdown":"The issue might be with your conversion method `toBitmpa()`, it assumes the image&#39;s format is NV21, but unfortunately not every YUV_888_420 buffer is NV21 format. it can also be NV12, YU12 or YV12 format.\r\n\r\nThe official CameraX documentation already provides a way to convert YUV images to RGB bitmaps which you should use, it&#39;s at the bottom of [this section](https://developer.android.com/training/camerax/take-photo#implementation) from the documentation.\r\n\r\n&gt; For sample code that shows how to convert a Media.Image object from\r\n&gt; YUV_420_888 format to an RGB Bitmap object, see [YuvToRgbConverter.kt](https://github.com/android/camera-samples/blob/3730442b49189f76a1083a98f3acf3f5f09222a3/CameraUtils/lib/src/main/java/com/example/android/camera/utils/YuvToRgbConverter.kt).","title":"Why CameraX image distorted when saved in Android phone Redmi 9T?","body":"<p>The issue might be with your conversion method <code>toBitmpa()</code>, it assumes the image's format is NV21, but unfortunately not every YUV_888_420 buffer is NV21 format. it can also be NV12, YU12 or YV12 format.</p>\n<p>The official CameraX documentation already provides a way to convert YUV images to RGB bitmaps which you should use, it's at the bottom of <a href=\"https://developer.android.com/training/camerax/take-photo#implementation\" rel=\"nofollow noreferrer\">this section</a> from the documentation.</p>\n<blockquote>\n<p>For sample code that shows how to convert a Media.Image object from\nYUV_420_888 format to an RGB Bitmap object, see <a href=\"https://github.com/android/camera-samples/blob/3730442b49189f76a1083a98f3acf3f5f09222a3/CameraUtils/lib/src/main/java/com/example/android/camera/utils/YuvToRgbConverter.kt\" rel=\"nofollow noreferrer\">YuvToRgbConverter.kt</a>.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13110602,"reputation":21,"user_id":9471756,"display_name":"Daniel L&#243;pez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689073181,"creation_date":1689073181,"answer_id":76661298,"question_id":65822326,"body_markdown":"I fixed it using YuvToRgbConverter.kt like this:\r\n\r\n    class PhotoAnalyzer(\r\n        private val converter: YuvToRgbConverter\r\n    ) : ImageAnalysis.Analyzer {\r\n    \r\n         @SuppressLint(&quot;UnsafeOptInUsageError&quot;)\r\n        override fun analyze(imageProxy: ImageProxy) {\r\n            val bitmapBuffer = Bitmap.createBitmap(imageProxy.width, imageProxy.height, Bitmap.Config.ARGB_8888)\r\n    \r\n      imageProxy.image?.let { converter.yuvToRgb(it, bitmapBuffer) }\r\n    .\r\n    .\r\n    .\r\n\r\n","title":"Why CameraX image distorted when saved in Android phone Redmi 9T?","body":"<p>I fixed it using YuvToRgbConverter.kt like this:</p>\n<pre><code>class PhotoAnalyzer(\n    private val converter: YuvToRgbConverter\n) : ImageAnalysis.Analyzer {\n\n     @SuppressLint(&quot;UnsafeOptInUsageError&quot;)\n    override fun analyze(imageProxy: ImageProxy) {\n        val bitmapBuffer = Bitmap.createBitmap(imageProxy.width, imageProxy.height, Bitmap.Config.ARGB_8888)\n\n  imageProxy.image?.let { converter.yuvToRgb(it, bitmapBuffer) }\n.\n.\n.\n</code></pre>\n"}],"owner":{"account_id":7026392,"reputation":564,"user_id":5383620,"accept_rate":73,"display_name":"zeroflaw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":567,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":65832458,"answer_count":2,"score":1,"last_activity_date":1689073181,"creation_date":1611211507,"question_id":65822326,"body_markdown":"I am using the new device Redmi 9T.\r\nFollowing the basic setup from [this post][1], i manage to up and run an app using CameraX. Everything works fine until i want to save the frame to the local, in the `setAnalyzer` function\r\n\r\n    private void bindImageAnalysis(@NonNull ProcessCameraProvider cameraProvider) {\r\n        ImageAnalysis imageAnalysis =\r\n                new ImageAnalysis.Builder().setTargetResolution(new Size(720, 1280))\r\n                        .setBackpressureStrategy(ImageAnalysis.STRATEGY_KEEP_ONLY_LATEST).build();\r\n\r\n        imageAnalysis.setAnalyzer(ContextCompat.getMainExecutor(this), new ImageAnalysis.Analyzer() {\r\n            @Override\r\n            public void analyze(@NonNull ImageProxy imageProxy) {\r\n                @SuppressLint(&quot;UnsafeExperimentalUsageError&quot;) Image image = imageProxy.getImage();\r\n                Bitmap finalBitmap = getFinalScaledRotatedBitmap(image,270); //rotate it properly (portrait)\r\n                saveBitmap(finalBitmap, &quot;test&quot;); //save with a dummy name\r\n                imageProxy.close();\r\n            }\r\n        });\r\n        OrientationEventListener orientationEventListener = new OrientationEventListener(this) {\r\n            @Override\r\n            public void onOrientationChanged(int orientation) {\r\n                textView.setText(Integer.toString(orientation));\r\n            }\r\n        };\r\n        orientationEventListener.enable();\r\n        Preview preview = new Preview.Builder().build();\r\n        CameraSelector cameraSelector = new CameraSelector.Builder()\r\n                .requireLensFacing(CameraSelector.LENS_FACING_FRONT).build();\r\n        preview.setSurfaceProvider(previewView.createSurfaceProvider());\r\n        cameraProvider.bindToLifecycle((LifecycleOwner)this, cameraSelector,\r\n                imageAnalysis, preview);\r\n    }\r\n\r\n     /*\r\n     *  Rotate the image with a rotation degree\r\n     */\r\n     private Bitmap getFinalScaledRotatedBitmap(Image imageData, int viewRotation){\r\n        Bitmap originalBitmap = toBitmap(imageData);\r\n        Matrix matrix = new Matrix();\r\n        matrix.postRotate(viewRotation);\r\n        matrix.postScale(-1.0f, 1.0f);\r\n        Bitmap scaledBitmap = Bitmap.createScaledBitmap(originalBitmap, originalBitmap.getWidth(), originalBitmap.getHeight(), true);\r\n        Bitmap finalRotatedBitmap = Bitmap.createBitmap(scaledBitmap, 0, 0, scaledBitmap.getWidth(), scaledBitmap.getHeight(), matrix, true);\r\n        return finalRotatedBitmap;\r\n    }\r\n\r\n    /*\r\n    *  Convert Image format to Bitmap\r\n    */\r\n    private Bitmap toBitmap(Image image) {\r\n        Image.Plane[] planes = image.getPlanes();\r\n        ByteBuffer yBuffer = planes[0].getBuffer();\r\n        ByteBuffer uBuffer = planes[1].getBuffer();\r\n        ByteBuffer vBuffer = planes[2].getBuffer();\r\n\r\n        int ySize = yBuffer.remaining();\r\n        int uSize = uBuffer.remaining();\r\n        int vSize = vBuffer.remaining();\r\n\r\n        byte[] nv21 = new byte[ySize + uSize + vSize];\r\n        //U and V are swapped\r\n        yBuffer.get(nv21, 0, ySize);\r\n        vBuffer.get(nv21, ySize, vSize);\r\n        uBuffer.get(nv21, ySize + vSize, uSize);\r\n\r\n        YuvImage yuvImage = new YuvImage(nv21, ImageFormat.NV21, image.getWidth(), image.getHeight(), null);\r\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n        yuvImage.compressToJpeg(new Rect(0, 0, yuvImage.getWidth(), yuvImage.getHeight()), 100, out);\r\n\r\n        byte[] imageBytes = out.toByteArray();\r\n        return BitmapFactory.decodeByteArray(imageBytes, 0, imageBytes.length);\r\n    }\r\n\r\n    /*\r\n    *  Save Bitmap to local\r\n    */\r\n    public void saveBitmap(Bitmap bitmap, String personName) {\r\n        String ROOT =\r\n                Environment.getExternalStorageDirectory().getAbsolutePath() + File.separator + &quot;cameraX&quot;;\r\n\r\n        File myDir = new File(ROOT + File.separator + personName);\r\n        if (!myDir.mkdirs()) {\r\n            Log.e(&quot;FileUtil&quot;, &quot;save dir fails&quot;);\r\n        }\r\n\r\n        String fileName = (new SimpleDateFormat(&quot;yyyyMMdd_HHmmss_SSS&quot;)).format(Calendar.getInstance().getTime()) + &quot;.jpeg&quot;;\r\n        File file = new File(myDir, fileName);\r\n        if (file.exists()) {\r\n            file.delete();\r\n        }\r\n\r\n        try {\r\n            FileOutputStream out = new FileOutputStream(file);\r\n            bitmap.compress(Bitmap.CompressFormat.JPEG, 100, out);\r\n\r\n            out.flush();\r\n            out.close();\r\n        } catch (Exception var6) {\r\n            Log.e(&quot;fileUtil&quot;, var6.getMessage());\r\n        }\r\n\r\n    }\r\n\r\n Output? (regardless of Lens front or back)\r\n\r\n[![distorted image][2]][2]\r\n\r\nThe thing is, it works fine in other device like honor 8x, or realme.\r\nSo, what could possibly go wrong?\r\n\r\n\r\n  [1]: https://medium.com/swlh/introduction-to-androids-camerax-with-java-ca384c522c5\r\n  [2]: https://i.stack.imgur.com/pZOoRl.jpg","title":"Why CameraX image distorted when saved in Android phone Redmi 9T?","body":"<p>I am using the new device Redmi 9T.\nFollowing the basic setup from <a href=\"https://medium.com/swlh/introduction-to-androids-camerax-with-java-ca384c522c5\" rel=\"nofollow noreferrer\">this post</a>, i manage to up and run an app using CameraX. Everything works fine until i want to save the frame to the local, in the <code>setAnalyzer</code> function</p>\n<pre><code>private void bindImageAnalysis(@NonNull ProcessCameraProvider cameraProvider) {\n    ImageAnalysis imageAnalysis =\n            new ImageAnalysis.Builder().setTargetResolution(new Size(720, 1280))\n                    .setBackpressureStrategy(ImageAnalysis.STRATEGY_KEEP_ONLY_LATEST).build();\n\n    imageAnalysis.setAnalyzer(ContextCompat.getMainExecutor(this), new ImageAnalysis.Analyzer() {\n        @Override\n        public void analyze(@NonNull ImageProxy imageProxy) {\n            @SuppressLint(&quot;UnsafeExperimentalUsageError&quot;) Image image = imageProxy.getImage();\n            Bitmap finalBitmap = getFinalScaledRotatedBitmap(image,270); //rotate it properly (portrait)\n            saveBitmap(finalBitmap, &quot;test&quot;); //save with a dummy name\n            imageProxy.close();\n        }\n    });\n    OrientationEventListener orientationEventListener = new OrientationEventListener(this) {\n        @Override\n        public void onOrientationChanged(int orientation) {\n            textView.setText(Integer.toString(orientation));\n        }\n    };\n    orientationEventListener.enable();\n    Preview preview = new Preview.Builder().build();\n    CameraSelector cameraSelector = new CameraSelector.Builder()\n            .requireLensFacing(CameraSelector.LENS_FACING_FRONT).build();\n    preview.setSurfaceProvider(previewView.createSurfaceProvider());\n    cameraProvider.bindToLifecycle((LifecycleOwner)this, cameraSelector,\n            imageAnalysis, preview);\n}\n\n /*\n *  Rotate the image with a rotation degree\n */\n private Bitmap getFinalScaledRotatedBitmap(Image imageData, int viewRotation){\n    Bitmap originalBitmap = toBitmap(imageData);\n    Matrix matrix = new Matrix();\n    matrix.postRotate(viewRotation);\n    matrix.postScale(-1.0f, 1.0f);\n    Bitmap scaledBitmap = Bitmap.createScaledBitmap(originalBitmap, originalBitmap.getWidth(), originalBitmap.getHeight(), true);\n    Bitmap finalRotatedBitmap = Bitmap.createBitmap(scaledBitmap, 0, 0, scaledBitmap.getWidth(), scaledBitmap.getHeight(), matrix, true);\n    return finalRotatedBitmap;\n}\n\n/*\n*  Convert Image format to Bitmap\n*/\nprivate Bitmap toBitmap(Image image) {\n    Image.Plane[] planes = image.getPlanes();\n    ByteBuffer yBuffer = planes[0].getBuffer();\n    ByteBuffer uBuffer = planes[1].getBuffer();\n    ByteBuffer vBuffer = planes[2].getBuffer();\n\n    int ySize = yBuffer.remaining();\n    int uSize = uBuffer.remaining();\n    int vSize = vBuffer.remaining();\n\n    byte[] nv21 = new byte[ySize + uSize + vSize];\n    //U and V are swapped\n    yBuffer.get(nv21, 0, ySize);\n    vBuffer.get(nv21, ySize, vSize);\n    uBuffer.get(nv21, ySize + vSize, uSize);\n\n    YuvImage yuvImage = new YuvImage(nv21, ImageFormat.NV21, image.getWidth(), image.getHeight(), null);\n    ByteArrayOutputStream out = new ByteArrayOutputStream();\n    yuvImage.compressToJpeg(new Rect(0, 0, yuvImage.getWidth(), yuvImage.getHeight()), 100, out);\n\n    byte[] imageBytes = out.toByteArray();\n    return BitmapFactory.decodeByteArray(imageBytes, 0, imageBytes.length);\n}\n\n/*\n*  Save Bitmap to local\n*/\npublic void saveBitmap(Bitmap bitmap, String personName) {\n    String ROOT =\n            Environment.getExternalStorageDirectory().getAbsolutePath() + File.separator + &quot;cameraX&quot;;\n\n    File myDir = new File(ROOT + File.separator + personName);\n    if (!myDir.mkdirs()) {\n        Log.e(&quot;FileUtil&quot;, &quot;save dir fails&quot;);\n    }\n\n    String fileName = (new SimpleDateFormat(&quot;yyyyMMdd_HHmmss_SSS&quot;)).format(Calendar.getInstance().getTime()) + &quot;.jpeg&quot;;\n    File file = new File(myDir, fileName);\n    if (file.exists()) {\n        file.delete();\n    }\n\n    try {\n        FileOutputStream out = new FileOutputStream(file);\n        bitmap.compress(Bitmap.CompressFormat.JPEG, 100, out);\n\n        out.flush();\n        out.close();\n    } catch (Exception var6) {\n        Log.e(&quot;fileUtil&quot;, var6.getMessage());\n    }\n\n}\n</code></pre>\n<p>Output? (regardless of Lens front or back)</p>\n<p><a href=\"https://i.stack.imgur.com/pZOoRl.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pZOoRl.jpg\" alt=\"distorted image\" /></a></p>\n<p>The thing is, it works fine in other device like honor 8x, or realme.\nSo, what could possibly go wrong?</p>\n"},{"tags":["java","spring-boot","microservices","load-balancing","multiple-instances"],"comments":[{"owner":{"account_id":114737,"reputation":1746,"user_id":3719412,"display_name":"cool"},"score":0,"creation_date":1688817212,"post_id":76634285,"comment_id":135126619,"body_markdown":"are you talking about two instances of the same microservice? If so you should just use the same mechanism you use to access to those services i.e. api gateway, load balancer etc. If you would like to secure data consistency because of parallel or repeated execution etc. the only way to do it is having a lock on the data layer","body":"are you talking about two instances of the same microservice? If so you should just use the same mechanism you use to access to those services i.e. api gateway, load balancer etc. If you would like to secure data consistency because of parallel or repeated execution etc. the only way to do it is having a lock on the data layer"},{"owner":{"account_id":28967763,"reputation":1,"user_id":22188752,"display_name":"divers"},"score":0,"creation_date":1689068465,"post_id":76634285,"comment_id":135157417,"body_markdown":"yes two instances of same service and I cannot use the data lock. My first thought was using lock.","body":"yes two instances of same service and I cannot use the data lock. My first thought was using lock."}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688721928,"creation_date":1688721928,"answer_id":76635640,"question_id":76634285,"body_markdown":"The instances of a Spring Boot application started by the load balancer will have either different host names (ip addresses) or at least different port numbers. You can read this values and make a decision about calling the particular rest call.\r\n\r\nTo read the current port number you can use this code:\r\n```\r\n@Service\r\npublic class ServerPortService {\r\n    private int port;\r\n\r\n    public int getPort() {\r\n        return port;\r\n    }\r\n\r\n    @EventListener\r\n    public void onApplicationEvent(final ServletWebServerInitializedEvent event) {\r\n        port = event.getWebServer().getPort();\r\n    }\r\n}\r\n```\r\nBased on [https://www.baeldung.com/spring-boot-running-port][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-running-port","title":"How to enable only one instance of spring boot microservice to make a particular rest call?","body":"<p>The instances of a Spring Boot application started by the load balancer will have either different host names (ip addresses) or at least different port numbers. You can read this values and make a decision about calling the particular rest call.</p>\n<p>To read the current port number you can use this code:</p>\n<pre><code>@Service\npublic class ServerPortService {\n    private int port;\n\n    public int getPort() {\n        return port;\n    }\n\n    @EventListener\n    public void onApplicationEvent(final ServletWebServerInitializedEvent event) {\n        port = event.getWebServer().getPort();\n    }\n}\n</code></pre>\n<p>Based on <a href=\"https://www.baeldung.com/spring-boot-running-port\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-running-port</a></p>\n"},{"tags":[],"owner":{"account_id":114737,"reputation":1746,"user_id":3719412,"display_name":"cool"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689073027,"creation_date":1689073027,"answer_id":76661278,"question_id":76634285,"body_markdown":"Your only option is using a lock in an external system. Though I don&#39;t think it is a good idea, you can use an external redis instance to manage the lock which would be a lot faster than using a relational db. But you can&#39;t fix the issue you described inside the application directly.   ","title":"How to enable only one instance of spring boot microservice to make a particular rest call?","body":"<p>Your only option is using a lock in an external system. Though I don't think it is a good idea, you can use an external redis instance to manage the lock which would be a lot faster than using a relational db. But you can't fix the issue you described inside the application directly.</p>\n"}],"owner":{"account_id":28967763,"reputation":1,"user_id":22188752,"display_name":"divers"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1689073027,"creation_date":1688709637,"question_id":76634285,"body_markdown":"I&#39;ve two instances of spring boot microservice and I want only one of them to make a particular rest call.\r\n\r\nMy first thought was to create a table and put lock which only one of the service can acquire but that is not wanted.\r\n\r\nIs there any other way to achieve it , I cant add zookeeper or any new cache mechanism.\r\n\r\nMy first thought was to create a table and put lock which only one of the service can acquire but that is not wanted.","title":"How to enable only one instance of spring boot microservice to make a particular rest call?","body":"<p>I've two instances of spring boot microservice and I want only one of them to make a particular rest call.</p>\n<p>My first thought was to create a table and put lock which only one of the service can acquire but that is not wanted.</p>\n<p>Is there any other way to achieve it , I cant add zookeeper or any new cache mechanism.</p>\n<p>My first thought was to create a table and put lock which only one of the service can acquire but that is not wanted.</p>\n"},{"tags":["java","assembly","x86-64","jit","auto-vectorization"],"comments":[{"owner":{"account_id":262829,"reputation":57135,"user_id":547981,"display_name":"Jester"},"score":1,"creation_date":1688839794,"post_id":76644132,"comment_id":135129085,"body_markdown":"That&#39;s quite a lot of code, but it looks like the usual 1. do scalar/unaligned beginning 2. do the vector part 3. finish the loop","body":"That&#39;s quite a lot of code, but it looks like the usual 1. do scalar/unaligned beginning 2. do the vector part 3. finish the loop"},{"owner":{"account_id":21146537,"reputation":23,"user_id":15547738,"display_name":"DevD"},"score":0,"creation_date":1688840994,"post_id":76644132,"comment_id":135129222,"body_markdown":"Thats what I thought too, but why is there 4 parts in this case? I&#39;d expect 3.\nCan you explain a bit more on the alignment? What exactly is unaligned and what does it need to be aligned to?","body":"Thats what I thought too, but why is there 4 parts in this case? I&#39;d expect 3. Can you explain a bit more on the alignment? What exactly is unaligned and what does it need to be aligned to?"}],"answers":[{"tags":[],"owner":{"account_id":23050385,"reputation":10403,"user_id":17167312,"display_name":"Homer512"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1689072874,"creation_date":1688994285,"answer_id":76654044,"question_id":76644132,"body_markdown":"Just discussing the main loops as indicated by their jump labels.\r\n\r\n`L0000` loop: Align to a multiple of 8 elements (32 byte). The `and $0x7` is a dead giveaway. Vector alignment is discussed pretty much everywhere when it comes to vector instructions. I don&#39;t have one golden bullet reference link that explains the topic but you will find plenty of resources on SO and elsewhere on it. The [Intel&#174; 64 and IA-32 Architectures Optimization Reference Manual](https://www.intel.com/content/www/us/en/content-details/671488/intel-64-and-ia-32-architectures-optimization-reference-manual.html) should also cover it.\r\n\r\nEven without, it should be pretty self-evident that the most efficient memory access is one where the data is not split across cache lines or worse, memory pages. Aligning to the natural vector size ensures that.\r\n\r\nAVX and AVX2 hardware generally handles misalignment gracefully but [older SSE](https://stackoverflow.com/questions/12491578/whats-the-actual-effect-of-successful-unaligned-accesses-on-x86) and [newer AVX512 hardware](https://stackoverflow.com/questions/74785348/is-there-any-performance-difference-between-avx-512-mm512-load-epi64-and-mm) require alignment for optimal performance. I assume the code generator just handles all those cases the same.\r\n\r\nSince we have two inputs and one output, we can only really align to one of those and then hope that the others are equally aligned. If I read the code correctly, the alignment is performed on the output, not the input, but I could be reading it wrong.\r\n\r\n`L0002` loop: Main loop unrolled 4 times for 4 x 8 = 32 elements per iteration.\r\n\r\n`L0003` loop: Same as the main loop but not unrolled to handle the last 0-3 full vectors.\r\n\r\n`L0005` loop: Handle last 0-7 elements as scalars. Interestingly 4 iterations could be saved by making one iteration using 16 byte XMM registers but the compiler chose not to do so. I guess they decided it&#39;s not worth it. The same could be done in the `L0000` loop.\r\n\r\nThe compiler knows that the output does not overlap with the input. Otherwise you would expect another separate loop to handle the case where both overlap so closely that vectorization is impossible. That might just be a separate conditional jump to the `L0005` loop.\r\n\r\nAlignment loop counter\r\n----------------------\r\n\r\nLet&#39;s try to untangle the alignment loop `L0000`. It&#39;s loop counter is `%r11d` (set to 0 immediately before the loop) with `%r9d` as its loop limit. So let&#39;s trace `%r9d` back.\r\n\r\n```\r\n0x000000010c4c5670: cmp %ebp,%r9d\r\n0x000000010c4c5673: cmovg %ebp,%r9d\r\n```\r\nWe previously established that `%ebp` holds `arraySize`, so this is basically `r9d = min(r9d, arraySize)`. Makes sense. In a small, misaligned array, the `L0000` loop handles the full content.\r\n\r\nBefore that:\r\n\r\n```\r\n0x000000010c4c5649: lea (%r12,%r8,8),%rdx\r\n0x000000010c4c5651: mov %edx,%r11d\r\n0x000000010c4c5658: shr $0x2,%r11d\r\n0x000000010c4c565c: and $0x7,%r11d\r\n0x000000010c4c5660: mov $0x3,%r9d\r\n0x000000010c4c5666: sub %r11d,%r9d\r\n0x000000010c4c5669: and $0x7,%r9d\r\n0x000000010c4c566d: inc %r9d\r\n```\r\n\r\n`r12` is never initialized in that code snippet. [This question](https://stackoverflow.com/questions/71202955/use-of-r12-register-in-code-produced-by-hotspot-c2-jit-compiler) suggests that it holds the heap base. Further up we find the line `0x000000010c4c5629: mov 0x18(%rsi),%r8d  ;*getfield result`. So let&#39;s just assume that `lea (%r12,%r8,8),%rdx` gives us the start address of the result array.\r\n\r\nHowever, it doesn&#39;t seem like that address is the start of the data content. Later in the loop you find that all memory accesses follow the pattern `vmovss %xmm0,0x10(%rdx,%r11,4)`. Notice the additional offset `0x10 = 16`. We can guess that the first 16 byte of the array hold metadata such as its size. This offset is folded into every following computation. Ugh.\r\n\r\nThe `shr $0x2` divides by 4, going from bytes to float indices. `and $0x7` gives the offset from the last multiple of 8. In C code, this would be\r\n\r\n```c\r\nstruct Array {\r\n   int64_t meta1, meta2;\r\n   float content[];\r\n};\r\nArray* result = heap_base + offset_of_result;\r\nunsigned r11d = (unsigned) result / sizeof(float) % 8;\r\n```\r\n\r\nThen we compute `%r9d`:\r\n\r\n```c\r\nunsigned r9d = (3 - r11d) % 8 + 1;\r\n```\r\nWe&#39;ve established that `%r11d` is between 0 and 7 so we can just look at the numbers.\r\n\r\n```\r\n| r11d |  r9d |\r\n|   0  |   4  |\r\n|   1  |   3  |\r\n|   2  |   2  |\r\n|   3  |   1  |\r\n|   4  |   8  |\r\n|   5  |   7  |\r\n|   6  |   6  |\r\n|   7  |   5  |\r\n```\r\n\r\nThis only makes sense when we keep in mind that all our memory accesses are offset by 4 additional floats. Let&#39;s say `%r11d` is 1, meaning the array header starts 1 float = 4 byte after the last 32 byte alignment. The array content then starts 1 + 4 = 5 float = 20 byte after alignment. Then we do 3 scalar iterations to get to the next 32 byte alignment.\r\n\r\nThe one issue that I have with this code is that for `r11d = 4`, we should not do any scalar iterations. We can go straight to vectorized code. An additional `and $0x7,r9d` would fix that. But on the other hand this saves a conditional branch instruction since the loop is always executed at least once.\r\n\r\nFollow-up questions\r\n-------------------\r\n\r\n&gt; so the &quot;loop alignment&quot; is not so alignment of the &quot;i&quot; used for loop control, its alignment to cache line size?\r\n\r\nNot cache line size, natural vector size. This code uses AVX vectors (YMM registers). Their size is 32 byte, so we try to get 32 byte alignment. Cache line would be 64 byte. But notice how a 32 byte-aligned access of 32 byte vectors never crosses a cache line boundary. That&#39;s the main goal.\r\n\r\n&gt; If so, do you know the pseudo algorithm to determine that number of iterations? I would assume just (address % 8) but it seems the only &quot;lea&quot; in the code before L0000 do not find their way into r9d or r11d, which are used for the loop control\r\n\r\nI think I&#39;ve made it clear above. However, in general, and written in C, you could write:\r\n\r\n```c\r\nfloat* array = ...;\r\nsize_t array_size = ...;\r\nconst size_t vector_in_bytes = 32;\r\nsize_t start_in_bytes = (size_t) array;\r\nsize_t offset_from_alignment = start_in_bytes % vector_in_bytes;\r\nsize_t bytes_to_alignment = vector_in_bytes - offset_from_alignment;\r\n// if offset_from_alignment is 0, make bytes_to_alignment 0 instead of 32\r\nbytes_to_alignment %= vector_in_bytes;\r\nsize_t elements_to_alignment = min(array_size, bytes_to_alignment / sizeof(float));\r\nsize_t i; // loop counter will be carried through all 3 loops\r\nfor(i = 0; i &lt; elements_to_alignment; ++i) {\r\n    // scalar loop for alignment\r\n}\r\nsize_t elements_per_vector = vector_in_bytes / sizeof(float);\r\nfor(; i + elements_per_vector &lt;= array_size; i += elements_per_vector) {\r\n    // vectorized loop\r\n}\r\nfor(;  i &lt; array_size; ++i) {\r\n    // scalar loop for last few elements\r\n}\r\n```\r\n\r\nThere are shorter versions of writing this but this should be the easiest to understand. The key point to note is that we have to reinterpret the array pointer as an integer for this to work, which is why I used C and not Java.\r\n\r\nA shorter, more elegant version could be\r\n\r\n```c\r\nfloat* array = ...;\r\nsize_t array_size = ...;\r\nconst size_t vector_in_bytes = 32;\r\nsize_t start_in_bytes = (size_t) array;\r\nsize_t next_aligned = (start_in_bytes + vector_in_bytes - 1) &amp; -vector_in_bytes;\r\nsize_t elements_to_alignment = min(array_size,\r\n      (next_aligned - start_in_bytes) / sizeof(float));\r\nsize_t i;\r\nfor(i = 0; i &lt; elements_to_alignment; ++i) {\r\n   ...\r\n}\r\n```","title":"Understanding JIT&#39;s rewrite of a for loop","body":"<p>Just discussing the main loops as indicated by their jump labels.</p>\n<p><code>L0000</code> loop: Align to a multiple of 8 elements (32 byte). The <code>and $0x7</code> is a dead giveaway. Vector alignment is discussed pretty much everywhere when it comes to vector instructions. I don't have one golden bullet reference link that explains the topic but you will find plenty of resources on SO and elsewhere on it. The <a href=\"https://www.intel.com/content/www/us/en/content-details/671488/intel-64-and-ia-32-architectures-optimization-reference-manual.html\" rel=\"nofollow noreferrer\">Intel® 64 and IA-32 Architectures Optimization Reference Manual</a> should also cover it.</p>\n<p>Even without, it should be pretty self-evident that the most efficient memory access is one where the data is not split across cache lines or worse, memory pages. Aligning to the natural vector size ensures that.</p>\n<p>AVX and AVX2 hardware generally handles misalignment gracefully but <a href=\"https://stackoverflow.com/questions/12491578/whats-the-actual-effect-of-successful-unaligned-accesses-on-x86\">older SSE</a> and <a href=\"https://stackoverflow.com/questions/74785348/is-there-any-performance-difference-between-avx-512-mm512-load-epi64-and-mm\">newer AVX512 hardware</a> require alignment for optimal performance. I assume the code generator just handles all those cases the same.</p>\n<p>Since we have two inputs and one output, we can only really align to one of those and then hope that the others are equally aligned. If I read the code correctly, the alignment is performed on the output, not the input, but I could be reading it wrong.</p>\n<p><code>L0002</code> loop: Main loop unrolled 4 times for 4 x 8 = 32 elements per iteration.</p>\n<p><code>L0003</code> loop: Same as the main loop but not unrolled to handle the last 0-3 full vectors.</p>\n<p><code>L0005</code> loop: Handle last 0-7 elements as scalars. Interestingly 4 iterations could be saved by making one iteration using 16 byte XMM registers but the compiler chose not to do so. I guess they decided it's not worth it. The same could be done in the <code>L0000</code> loop.</p>\n<p>The compiler knows that the output does not overlap with the input. Otherwise you would expect another separate loop to handle the case where both overlap so closely that vectorization is impossible. That might just be a separate conditional jump to the <code>L0005</code> loop.</p>\n<h2>Alignment loop counter</h2>\n<p>Let's try to untangle the alignment loop <code>L0000</code>. It's loop counter is <code>%r11d</code> (set to 0 immediately before the loop) with <code>%r9d</code> as its loop limit. So let's trace <code>%r9d</code> back.</p>\n<pre><code>0x000000010c4c5670: cmp %ebp,%r9d\n0x000000010c4c5673: cmovg %ebp,%r9d\n</code></pre>\n<p>We previously established that <code>%ebp</code> holds <code>arraySize</code>, so this is basically <code>r9d = min(r9d, arraySize)</code>. Makes sense. In a small, misaligned array, the <code>L0000</code> loop handles the full content.</p>\n<p>Before that:</p>\n<pre><code>0x000000010c4c5649: lea (%r12,%r8,8),%rdx\n0x000000010c4c5651: mov %edx,%r11d\n0x000000010c4c5658: shr $0x2,%r11d\n0x000000010c4c565c: and $0x7,%r11d\n0x000000010c4c5660: mov $0x3,%r9d\n0x000000010c4c5666: sub %r11d,%r9d\n0x000000010c4c5669: and $0x7,%r9d\n0x000000010c4c566d: inc %r9d\n</code></pre>\n<p><code>r12</code> is never initialized in that code snippet. <a href=\"https://stackoverflow.com/questions/71202955/use-of-r12-register-in-code-produced-by-hotspot-c2-jit-compiler\">This question</a> suggests that it holds the heap base. Further up we find the line <code>0x000000010c4c5629: mov 0x18(%rsi),%r8d  ;*getfield result</code>. So let's just assume that <code>lea (%r12,%r8,8),%rdx</code> gives us the start address of the result array.</p>\n<p>However, it doesn't seem like that address is the start of the data content. Later in the loop you find that all memory accesses follow the pattern <code>vmovss %xmm0,0x10(%rdx,%r11,4)</code>. Notice the additional offset <code>0x10 = 16</code>. We can guess that the first 16 byte of the array hold metadata such as its size. This offset is folded into every following computation. Ugh.</p>\n<p>The <code>shr $0x2</code> divides by 4, going from bytes to float indices. <code>and $0x7</code> gives the offset from the last multiple of 8. In C code, this would be</p>\n<pre class=\"lang-c prettyprint-override\"><code>struct Array {\n   int64_t meta1, meta2;\n   float content[];\n};\nArray* result = heap_base + offset_of_result;\nunsigned r11d = (unsigned) result / sizeof(float) % 8;\n</code></pre>\n<p>Then we compute <code>%r9d</code>:</p>\n<pre class=\"lang-c prettyprint-override\"><code>unsigned r9d = (3 - r11d) % 8 + 1;\n</code></pre>\n<p>We've established that <code>%r11d</code> is between 0 and 7 so we can just look at the numbers.</p>\n<pre><code>| r11d |  r9d |\n|   0  |   4  |\n|   1  |   3  |\n|   2  |   2  |\n|   3  |   1  |\n|   4  |   8  |\n|   5  |   7  |\n|   6  |   6  |\n|   7  |   5  |\n</code></pre>\n<p>This only makes sense when we keep in mind that all our memory accesses are offset by 4 additional floats. Let's say <code>%r11d</code> is 1, meaning the array header starts 1 float = 4 byte after the last 32 byte alignment. The array content then starts 1 + 4 = 5 float = 20 byte after alignment. Then we do 3 scalar iterations to get to the next 32 byte alignment.</p>\n<p>The one issue that I have with this code is that for <code>r11d = 4</code>, we should not do any scalar iterations. We can go straight to vectorized code. An additional <code>and $0x7,r9d</code> would fix that. But on the other hand this saves a conditional branch instruction since the loop is always executed at least once.</p>\n<h2>Follow-up questions</h2>\n<blockquote>\n<p>so the &quot;loop alignment&quot; is not so alignment of the &quot;i&quot; used for loop control, its alignment to cache line size?</p>\n</blockquote>\n<p>Not cache line size, natural vector size. This code uses AVX vectors (YMM registers). Their size is 32 byte, so we try to get 32 byte alignment. Cache line would be 64 byte. But notice how a 32 byte-aligned access of 32 byte vectors never crosses a cache line boundary. That's the main goal.</p>\n<blockquote>\n<p>If so, do you know the pseudo algorithm to determine that number of iterations? I would assume just (address % 8) but it seems the only &quot;lea&quot; in the code before L0000 do not find their way into r9d or r11d, which are used for the loop control</p>\n</blockquote>\n<p>I think I've made it clear above. However, in general, and written in C, you could write:</p>\n<pre class=\"lang-c prettyprint-override\"><code>float* array = ...;\nsize_t array_size = ...;\nconst size_t vector_in_bytes = 32;\nsize_t start_in_bytes = (size_t) array;\nsize_t offset_from_alignment = start_in_bytes % vector_in_bytes;\nsize_t bytes_to_alignment = vector_in_bytes - offset_from_alignment;\n// if offset_from_alignment is 0, make bytes_to_alignment 0 instead of 32\nbytes_to_alignment %= vector_in_bytes;\nsize_t elements_to_alignment = min(array_size, bytes_to_alignment / sizeof(float));\nsize_t i; // loop counter will be carried through all 3 loops\nfor(i = 0; i &lt; elements_to_alignment; ++i) {\n    // scalar loop for alignment\n}\nsize_t elements_per_vector = vector_in_bytes / sizeof(float);\nfor(; i + elements_per_vector &lt;= array_size; i += elements_per_vector) {\n    // vectorized loop\n}\nfor(;  i &lt; array_size; ++i) {\n    // scalar loop for last few elements\n}\n</code></pre>\n<p>There are shorter versions of writing this but this should be the easiest to understand. The key point to note is that we have to reinterpret the array pointer as an integer for this to work, which is why I used C and not Java.</p>\n<p>A shorter, more elegant version could be</p>\n<pre class=\"lang-c prettyprint-override\"><code>float* array = ...;\nsize_t array_size = ...;\nconst size_t vector_in_bytes = 32;\nsize_t start_in_bytes = (size_t) array;\nsize_t next_aligned = (start_in_bytes + vector_in_bytes - 1) &amp; -vector_in_bytes;\nsize_t elements_to_alignment = min(array_size,\n      (next_aligned - start_in_bytes) / sizeof(float));\nsize_t i;\nfor(i = 0; i &lt; elements_to_alignment; ++i) {\n   ...\n}\n</code></pre>\n"}],"owner":{"account_id":21146537,"reputation":23,"user_id":15547738,"display_name":"DevD"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76654044,"answer_count":1,"score":1,"last_activity_date":1689072874,"creation_date":1688836765,"question_id":76644132,"body_markdown":"I have the following Java code (all arrays are initialized before we call &quot;arrays&quot; and all are of size &quot;arraySize&quot;)\r\n\r\n    int arraySize = 64;\r\n\r\n    float[] a;\r\n    float[] b;\r\n    float[] result;\r\n    \r\n    public void arrays() {\r\n        for (int i = 0; i &lt; arraySize; i++) {\r\n            result[i] = ((a[i] * b[i] + b[i] - b[i]) / b[i]) +\r\n                         a[i] + a[i] + a[i] + a[i];\r\n        }\r\n    }\r\n\r\nThe JIT&#39;s output for it is:\r\n\r\n    # {method} {0x00000001034751a8} &#39;arrays&#39; &#39;()V&#39; in &#39;main/ComplexExpression&#39;\r\n    #           [sp+0x30]  (sp of caller)\r\n    [Entry Point]\r\n    0x000000010c4c55a0: mov 0x8(%rsi),%r10d\r\n    0x000000010c4c55a4: movabs $0x800000000,%r11\r\n    0x000000010c4c55ae: add %r11,%r10\r\n    0x000000010c4c55b1: cmp %r10,%rax\r\n    0x000000010c4c55b4: jne 0x000000010c44b780  ;   {runtime_call ic_miss_stub}\r\n    0x000000010c4c55ba: xchg %ax,%ax\r\n    0x000000010c4c55bc: nopl 0x0(%rax)\r\n    [Verified Entry Point]\r\n    0x000000010c4c55c0: mov %eax,-0x14000(%rsp)\r\n    0x000000010c4c55c7: push %rbp\r\n    0x000000010c4c55c8: sub $0x20,%rsp  ;*synchronization entry\r\n                                        ; - main.ComplexExpression::arrays@-1 (line 51)\r\n    0x000000010c4c55cc: mov %rsi,%rcx\r\n    0x000000010c4c55cf: mov 0xc(%rsi),%ebp  ;*getfield arraySize {reexecute=0 rethrow=0 return_oop=0}\r\n                                            ; - main.ComplexExpression::arrays@4 (line 51)\r\n    0x000000010c4c55d2: test %ebp,%ebp\r\n    0x000000010c4c55d4: jle L0006  ;*if_icmpge {reexecute=0 rethrow=0 return_oop=0}\r\n                                   ; - main.ComplexExpression::arrays@7 (line 51)\r\n    0x000000010c4c55da: mov 0x10(%rsi),%r11d  ;*getfield a {reexecute=0 rethrow=0 return_oop=0}\r\n                                              ; - main.ComplexExpression::arrays@16 (line 52)\r\n    0x000000010c4c55de: xchg %ax,%ax\r\n    0x000000010c4c55e0: mov 0xc(%r12,%r11,8),%r10d  ; implicit exception: dispatches to 0x000000010c4c58a3\r\n                                                    ;*faload {reexecute=0 rethrow=0 return_oop=0}\r\n                                                    ; - main.ComplexExpression::arrays@20 (line 52)\r\n    0x000000010c4c55e5: test %r10d,%r10d\r\n    0x000000010c4c55e8: jbe L0007\r\n    0x000000010c4c55ee: movslq %ebp,%r9\r\n    0x000000010c4c55f1: movslq %r10d,%r10\r\n    0x000000010c4c55f4: dec %r9\r\n    0x000000010c4c55f7: cmp %r10,%r9\r\n    0x000000010c4c55fa: nopw 0x0(%rax,%rax,1)\r\n    0x000000010c4c5600: jae L0007\r\n    0x000000010c4c5606: mov 0x14(%rsi),%ebx  ;*getfield b {reexecute=0 rethrow=0 return_oop=0}\r\n                                             ; - main.ComplexExpression::arrays@22 (line 52)\r\n    0x000000010c4c5609: mov 0xc(%r12,%rbx,8),%r10d  ; implicit exception: dispatches to 0x000000010c4c58a3\r\n                                                    ;*faload {reexecute=0 rethrow=0 return_oop=0}\r\n                                                    ; - main.ComplexExpression::arrays@26 (line 52)\r\n    0x000000010c4c560e: test %r10d,%r10d\r\n    0x000000010c4c5611: jbe L0007\r\n    0x000000010c4c5617: movslq %r10d,%r10\r\n    0x000000010c4c561a: nopw 0x0(%rax,%rax,1)\r\n    0x000000010c4c5620: cmp %r10,%r9\r\n    0x000000010c4c5623: jae L0007\r\n    0x000000010c4c5629: mov 0x18(%rsi),%r8d  ;*getfield result {reexecute=0 rethrow=0 return_oop=0}\r\n                                             ; - main.ComplexExpression::arrays@11 (line 52)\r\n    0x000000010c4c562d: mov 0xc(%r12,%r8,8),%r10d  ; implicit exception: dispatches to 0x000000010c4c58a3\r\n                                                   ;*fastore {reexecute=0 rethrow=0 return_oop=0}\r\n                                                   ; - main.ComplexExpression::arrays@77 (line 52)\r\n    0x000000010c4c5632: test %r10d,%r10d\r\n    0x000000010c4c5635: jbe L0007\r\n    0x000000010c4c563b: movslq %r10d,%r10\r\n    0x000000010c4c563e: xchg %ax,%ax\r\n    0x000000010c4c5640: cmp %r10,%r9\r\n    0x000000010c4c5643: jae L0007\r\n    0x000000010c4c5649: lea (%r12,%r8,8),%rdx\r\n    0x000000010c4c564d: lea (%r12,%r11,8),%rdi\r\n    0x000000010c4c5651: mov %edx,%r11d\r\n    0x000000010c4c5654: lea (%r12,%rbx,8),%rax\r\n    0x000000010c4c5658: shr $0x2,%r11d\r\n    0x000000010c4c565c: and $0x7,%r11d\r\n    0x000000010c4c5660: mov $0x3,%r9d\r\n    0x000000010c4c5666: sub %r11d,%r9d\r\n    0x000000010c4c5669: and $0x7,%r9d\r\n    0x000000010c4c566d: inc %r9d\r\n    0x000000010c4c5670: cmp %ebp,%r9d\r\n    0x000000010c4c5673: cmovg %ebp,%r9d\r\n    0x000000010c4c5677: xor %r10d,%r10d\r\n    0x000000010c4c567a: xor %r11d,%r11d  ;*aload_0 {reexecute=0 rethrow=0 return_oop=0}\r\n                                         ; - main.ComplexExpression::arrays@10 (line 52)\r\n                 L0000: vmovss 0x10(%rax,%r11,4),%xmm1  ;*faload {reexecute=0 rethrow=0 return_oop=0}\r\n                                                        ; - main.ComplexExpression::arrays@26 (line 52)\r\n    0x000000010c4c5684: vmovss 0x10(%rdi,%r11,4),%xmm0  ;*faload {reexecute=0 rethrow=0 return_oop=0}\r\n                                                        ; - main.ComplexExpression::arrays@20 (line 52)\r\n    0x000000010c4c568b: vmulss %xmm1,%xmm0,%xmm3\r\n    0x000000010c4c568f: vaddss %xmm1,%xmm3,%xmm2\r\n    0x000000010c4c5693: vsubss %xmm1,%xmm2,%xmm3\r\n    0x000000010c4c5697: vdivss %xmm1,%xmm3,%xmm1\r\n    0x000000010c4c569b: vaddss %xmm0,%xmm1,%xmm2\r\n    0x000000010c4c569f: vaddss %xmm0,%xmm2,%xmm1\r\n    0x000000010c4c56a3: vaddss %xmm0,%xmm1,%xmm2\r\n    0x000000010c4c56a7: vaddss %xmm0,%xmm2,%xmm0\r\n    0x000000010c4c56ab: vmovss %xmm0,0x10(%rdx,%r11,4)  ;*fastore {reexecute=0 rethrow=0 return_oop=0}\r\n                                                        ; - main.ComplexExpression::arrays@77 (line 52)\r\n    0x000000010c4c56b2: inc %r11d  ;*iinc {reexecute=0 rethrow=0 return_oop=0}\r\n                                   ; - main.ComplexExpression::arrays@78 (line 51)\r\n    0x000000010c4c56b5: cmp %r9d,%r11d\r\n    0x000000010c4c56b8: jl L0000  ;*if_icmpge {reexecute=0 rethrow=0 return_oop=0}\r\n                                  ; - main.ComplexExpression::arrays@7 (line 51)\r\n    0x000000010c4c56ba: mov %ebp,%r9d\r\n    0x000000010c4c56bd: add $0xffffffe1,%r9d\r\n    0x000000010c4c56c1: mov $0x80000000,%r8d\r\n    0x000000010c4c56c7: cmp %r9d,%ebp\r\n    0x000000010c4c56ca: cmovl %r8d,%r9d\r\n    0x000000010c4c56ce: cmp %r9d,%r11d\r\n    0x000000010c4c56d1: jge L0004\r\n    0x000000010c4c56d7: mov $0x7d00,%ebx\r\n                 L0001: mov %r9d,%esi\r\n    0x000000010c4c56df: sub %r11d,%esi\r\n    0x000000010c4c56e2: cmp %r11d,%r9d\r\n    0x000000010c4c56e5: cmovl %r10d,%esi\r\n    0x000000010c4c56e9: cmp $0x7d00,%esi\r\n    0x000000010c4c56ef: cmova %ebx,%esi\r\n    0x000000010c4c56f2: add %r11d,%esi\r\n    0x000000010c4c56f5: data16 data16 nopw 0x0(%rax,%rax,1)  ;*aload_0 {reexecute=0 rethrow=0 return_oop=0}\r\n                                                             ; - main.ComplexExpression::arrays@10 (line 52)\r\n                 L0002: vmovdqu 0x10(%rax,%r11,4),%ymm0  ;*faload {reexecute=0 rethrow=0 return_oop=0}\r\n                                                         ; - main.ComplexExpression::arrays@26 (line 52)\r\n    0x000000010c4c5707: vmovdqu 0x10(%rdi,%r11,4),%ymm1  ;*faload {reexecute=0 rethrow=0 return_oop=0}\r\n                                                         ; - main.ComplexExpression::arrays@20 (line 52)\r\n    0x000000010c4c570e: vmulps %ymm0,%ymm1,%ymm2\r\n    0x000000010c4c5712: vaddps %ymm0,%ymm2,%ymm2\r\n    0x000000010c4c5716: vsubps %ymm0,%ymm2,%ymm2\r\n    0x000000010c4c571a: vdivps %ymm0,%ymm2,%ymm0\r\n    0x000000010c4c571e: vaddps %ymm1,%ymm0,%ymm0\r\n    0x000000010c4c5722: vaddps %ymm1,%ymm0,%ymm0\r\n    0x000000010c4c5726: vaddps %ymm1,%ymm0,%ymm0\r\n    0x000000010c4c572a: vaddps %ymm1,%ymm0,%ymm0\r\n    0x000000010c4c572e: vmovdqu %ymm0,0x10(%rdx,%r11,4)  ;*fastore {reexecute=0 rethrow=0 return_oop=0}\r\n                                                         ; - main.ComplexExpression::arrays@77 (line 52)\r\n    0x000000010c4c5735: vmovdqu 0x30(%rdi,%r11,4),%ymm0  ;*faload {reexecute=0 rethrow=0 return_oop=0}\r\n                                                         ; - main.ComplexExpression::arrays@20 (line 52)\r\n    0x000000010c4c573c: vmovdqu 0x30(%rax,%r11,4),%ymm1  ;*faload {reexecute=0 rethrow=0 return_oop=0}\r\n                                                         ; - main.ComplexExpression::arrays@26 (line 52)\r\n    0x000000010c4c5743: vmulps %ymm1,%ymm0,%ymm2\r\n    0x000000010c4c5747: vaddps %ymm1,%ymm2,%ymm2\r\n    0x000000010c4c574b: vsubps %ymm1,%ymm2,%ymm2\r\n    0x000000010c4c574f: vdivps %ymm1,%ymm2,%ymm1\r\n    0x000000010c4c5753: vaddps %ymm0,%ymm1,%ymm1\r\n    0x000000010c4c5757: vaddps %ymm0,%ymm1,%ymm1\r\n    0x000000010c4c575b: vaddps %ymm0,%ymm1,%ymm1\r\n    0x000000010c4c575f: vaddps %ymm0,%ymm1,%ymm0\r\n    0x000000010c4c5763: vmovdqu %ymm0,0x30(%rdx,%r11,4)  ;*fastore {reexecute=0 rethrow=0 return_oop=0}\r\n                                                         ; - main.ComplexExpression::arrays@77 (line 52)\r\n    0x000000010c4c576a: vmovdqu 0x50(%rdi,%r11,4),%ymm0  ;*faload {reexecute=0 rethrow=0 return_oop=0}\r\n                                                         ; - main.ComplexExpression::arrays@20 (line 52)\r\n    0x000000010c4c5771: vmovdqu 0x50(%rax,%r11,4),%ymm1  ;*faload {reexecute=0 rethrow=0 return_oop=0}\r\n                                                         ; - main.ComplexExpression::arrays@26 (line 52)\r\n    0x000000010c4c5778: vmulps %ymm1,%ymm0,%ymm2\r\n    0x000000010c4c577c: vaddps %ymm1,%ymm2,%ymm2\r\n    0x000000010c4c5780: vsubps %ymm1,%ymm2,%ymm2\r\n    0x000000010c4c5784: vdivps %ymm1,%ymm2,%ymm1\r\n    0x000000010c4c5788: vaddps %ymm0,%ymm1,%ymm1\r\n    0x000000010c4c578c: vaddps %ymm0,%ymm1,%ymm1\r\n    0x000000010c4c5790: vaddps %ymm0,%ymm1,%ymm1\r\n    0x000000010c4c5794: vaddps %ymm0,%ymm1,%ymm0\r\n    0x000000010c4c5798: vmovdqu %ymm0,0x50(%rdx,%r11,4)  ;*fastore {reexecute=0 rethrow=0 return_oop=0}\r\n                                                         ; - main.ComplexExpression::arrays@77 (line 52)\r\n    0x000000010c4c579f: vmovdqu 0x70(%rdi,%r11,4),%ymm0  ;*faload {reexecute=0 rethrow=0 return_oop=0}\r\n                                                         ; - main.ComplexExpression::arrays@20 (line 52)\r\n    0x000000010c4c57a6: vmovdqu 0x70(%rax,%r11,4),%ymm1  ;*faload {reexecute=0 rethrow=0 return_oop=0}\r\n                                                         ; - main.ComplexExpression::arrays@26 (line 52)\r\n    0x000000010c4c57ad: vmulps %ymm1,%ymm0,%ymm2\r\n    0x000000010c4c57b1: vaddps %ymm1,%ymm2,%ymm2\r\n    0x000000010c4c57b5: vsubps %ymm1,%ymm2,%ymm2\r\n    0x000000010c4c57b9: vdivps %ymm1,%ymm2,%ymm1\r\n    0x000000010c4c57bd: vaddps %ymm0,%ymm1,%ymm1\r\n    0x000000010c4c57c1: vaddps %ymm0,%ymm1,%ymm1\r\n    0x000000010c4c57c5: vaddps %ymm0,%ymm1,%ymm1\r\n    0x000000010c4c57c9: vaddps %ymm0,%ymm1,%ymm0\r\n    0x000000010c4c57cd: vmovdqu %ymm0,0x70(%rdx,%r11,4)  ;*fastore {reexecute=0 rethrow=0 return_oop=0}\r\n                                                         ; - main.ComplexExpression::arrays@77 (line 52)\r\n    0x000000010c4c57d4: add $0x20,%r11d  ;*iinc {reexecute=0 rethrow=0 return_oop=0}\r\n                                         ; - main.ComplexExpression::arrays@78 (line 51)\r\n    0x000000010c4c57d8: cmp %esi,%r11d\r\n    0x000000010c4c57db: nopl 0x0(%rax,%rax,1)\r\n    0x000000010c4c57e0: jl L0002  ;*goto {reexecute=0 rethrow=0 return_oop=0}\r\n                                  ; - main.ComplexExpression::arrays@81 (line 51)\r\n    0x000000010c4c57e6: mov 0x348(%r15),%rsi  ; ImmutableOopMap {rcx=Oop rdi=Oop rdx=Oop rax=Oop }\r\n                                              ;*goto {reexecute=1 rethrow=0 return_oop=0}\r\n                                              ; - (reexecute) main.ComplexExpression::arrays@81 (line 51)\r\n    0x000000010c4c57ed: test %eax,(%rsi)  ;*goto {reexecute=0 rethrow=0 return_oop=0}\r\n                                          ; - main.ComplexExpression::arrays@81 (line 51)\r\n                                          ;   {poll} *** SAFEPOINT POLL ***\r\n    0x000000010c4c57ef: cmp %r9d,%r11d\r\n    0x000000010c4c57f2: jl L0001\r\n    0x000000010c4c57f8: mov %ebp,%r10d\r\n    0x000000010c4c57fb: add $0xfffffff9,%r10d\r\n    0x000000010c4c57ff: cmp %r10d,%ebp\r\n    0x000000010c4c5802: cmovl %r8d,%r10d\r\n    0x000000010c4c5806: cmp %r10d,%r11d\r\n    0x000000010c4c5809: jge L0004\r\n    0x000000010c4c580b: nop  ;*aload_0 {reexecute=0 rethrow=0 return_oop=0}\r\n                             ; - main.ComplexExpression::arrays@10 (line 52)\r\n                 L0003: vmovdqu 0x10(%rax,%r11,4),%ymm0  ;*faload {reexecute=0 rethrow=0 return_oop=0}\r\n                                                         ; - main.ComplexExpression::arrays@26 (line 52)\r\n    0x000000010c4c5813: vmovdqu 0x10(%rdi,%r11,4),%ymm1  ;*faload {reexecute=0 rethrow=0 return_oop=0}\r\n                                                         ; - main.ComplexExpression::arrays@20 (line 52)\r\n    0x000000010c4c581a: vmulps %ymm0,%ymm1,%ymm2\r\n    0x000000010c4c581e: vaddps %ymm0,%ymm2,%ymm2\r\n    0x000000010c4c5822: vsubps %ymm0,%ymm2,%ymm2\r\n    0x000000010c4c5826: vdivps %ymm0,%ymm2,%ymm0\r\n    0x000000010c4c582a: vaddps %ymm1,%ymm0,%ymm0\r\n    0x000000010c4c582e: vaddps %ymm1,%ymm0,%ymm0\r\n    0x000000010c4c5832: vaddps %ymm1,%ymm0,%ymm0\r\n    0x000000010c4c5836: vaddps %ymm1,%ymm0,%ymm0\r\n    0x000000010c4c583a: vmovdqu %ymm0,0x10(%rdx,%r11,4)  ;*fastore {reexecute=0 rethrow=0 return_oop=0}\r\n                                                         ; - main.ComplexExpression::arrays@77 (line 52)\r\n    0x000000010c4c5841: add $0x8,%r11d  ;*iinc {reexecute=0 rethrow=0 return_oop=0}\r\n                                        ; - main.ComplexExpression::arrays@78 (line 51)\r\n    0x000000010c4c5845: cmp %r10d,%r11d\r\n    0x000000010c4c5848: jl L0003  ;*if_icmpge {reexecute=0 rethrow=0 return_oop=0}\r\n                                  ; - main.ComplexExpression::arrays@7 (line 51)\r\n                 L0004: cmp %ebp,%r11d\r\n    0x000000010c4c584d: jge L0006\r\n    0x000000010c4c584f: nop  ;*aload_0 {reexecute=0 rethrow=0 return_oop=0}\r\n                             ; - main.ComplexExpression::arrays@10 (line 52)\r\n                 L0005: vmovss 0x10(%rax,%r11,4),%xmm1  ;*faload {reexecute=0 rethrow=0 return_oop=0}\r\n                                                        ; - main.ComplexExpression::arrays@26 (line 52)\r\n    0x000000010c4c5857: vmovss 0x10(%rdi,%r11,4),%xmm0  ;*faload {reexecute=0 rethrow=0 return_oop=0}\r\n                                                        ; - main.ComplexExpression::arrays@20 (line 52)\r\n    0x000000010c4c585e: vmulss %xmm1,%xmm0,%xmm3\r\n    0x000000010c4c5862: vaddss %xmm1,%xmm3,%xmm2\r\n    0x000000010c4c5866: vsubss %xmm1,%xmm2,%xmm3\r\n    0x000000010c4c586a: vdivss %xmm1,%xmm3,%xmm1\r\n    0x000000010c4c586e: vaddss %xmm0,%xmm1,%xmm2\r\n    0x000000010c4c5872: vaddss %xmm0,%xmm2,%xmm1\r\n    0x000000010c4c5876: vaddss %xmm0,%xmm1,%xmm2\r\n    0x000000010c4c587a: vaddss %xmm0,%xmm2,%xmm0\r\n    0x000000010c4c587e: vmovss %xmm0,0x10(%rdx,%r11,4)  ;*fastore {reexecute=0 rethrow=0 return_oop=0}\r\n                                                        ; - main.ComplexExpression::arrays@77 (line 52)\r\n    0x000000010c4c5885: inc %r11d  ;*iinc {reexecute=0 rethrow=0 return_oop=0}\r\n                                   ; - main.ComplexExpression::arrays@78 (line 51)\r\n    0x000000010c4c5888: cmp %ebp,%r11d\r\n    0x000000010c4c588b: jl L0005\r\n                 L0006: vzeroupper\r\n    0x000000010c4c5890: add $0x20,%rsp\r\n    0x000000010c4c5894: pop %rbp\r\n    0x000000010c4c5895: cmp 0x340(%r15),%rsp  ;   {poll_return} *** SAFEPOINT POLL ***\r\n    0x000000010c4c589c: ja L0008\r\n    0x000000010c4c58a2: ret  ;*if_icmpge {reexecute=0 rethrow=0 return_oop=0}\r\n                             ; - main.ComplexExpression::arrays@7 (line 51)\r\n                 L0007: mov $0xffffff76,%esi\r\n    0x000000010c4c58a8: mov %rcx,(%rsp)\r\n    0x000000010c4c58ac: vzeroupper\r\n    0x000000010c4c58af: call 0x000000010c451000  ; ImmutableOopMap {[0]=Oop }\r\n                                                 ;*if_icmpge {reexecute=1 rethrow=0 return_oop=0}\r\n                                                 ; - (reexecute) main.ComplexExpression::arrays@7 (line 51)\r\n                                                 ;   {runtime_call UncommonTrapBlob}\r\n                 L0008: movabs $0x10c4c5895,%r10  ;   {internal_word}\r\n    0x000000010c4c58be: mov %r10,0x358(%r15)\r\n    0x000000010c4c58c5: jmp 0x000000010c452100  ;   {runtime_call SafepointBlob}\r\n    0x000000010c4c58ca: hlt\r\n    0x000000010c4c58cb: hlt\r\n    0x000000010c4c58cc: hlt\r\n    0x000000010c4c58cd: hlt\r\n    0x000000010c4c58ce: hlt\r\n    0x000000010c4c58cf: hlt\r\n    0x000000010c4c58d0: hlt\r\n    0x000000010c4c58d1: hlt\r\n    0x000000010c4c58d2: hlt\r\n    0x000000010c4c58d3: hlt\r\n    0x000000010c4c58d4: hlt\r\n    0x000000010c4c58d5: hlt\r\n    0x000000010c4c58d6: hlt\r\n    0x000000010c4c58d7: hlt\r\n    0x000000010c4c58d8: hlt\r\n    0x000000010c4c58d9: hlt\r\n    0x000000010c4c58da: hlt\r\n    0x000000010c4c58db: hlt\r\n    0x000000010c4c58dc: hlt\r\n    0x000000010c4c58dd: hlt\r\n    0x000000010c4c58de: hlt\r\n    0x000000010c4c58df: hlt\r\n    [Exception Handler]\r\n    0x000000010c4c58e0: jmp 0x000000010c464a00  ;   {no_reloc}\r\n    [Deopt Handler Code]\r\n    0x000000010c4c58e5: call 0x000000010c4c58ea\r\n    0x000000010c4c58ea: subq $0x5,(%rsp)\r\n    0x000000010c4c58ef: jmp 0x000000010c4513a0  ;   {runtime_call DeoptimizationBlob}\r\n    0x000000010c4c58f4: hlt\r\n    0x000000010c4c58f5: hlt\r\n    0x000000010c4c58f6: hlt\r\n    0x000000010c4c58f7: hlt\r\n\r\nIt seems like the for loop was translated to multiple &quot;assembly loops&quot;.\r\nThe main part is in L0002 I guess, where you can see the loop unrolling, but there is also L0000, L0003 and L0005 which also seem to be part of the for loop but Im having a hard time understanding how they fit in.\r\n\r\nCan someone explain how do all the parts in all the labels compose the actual loop?\r\nI imagine its some &quot;known&quot; pattern in the JIT that I just dont know.","title":"Understanding JIT&#39;s rewrite of a for loop","body":"<p>I have the following Java code (all arrays are initialized before we call &quot;arrays&quot; and all are of size &quot;arraySize&quot;)</p>\n<pre><code>int arraySize = 64;\n\nfloat[] a;\nfloat[] b;\nfloat[] result;\n\npublic void arrays() {\n    for (int i = 0; i &lt; arraySize; i++) {\n        result[i] = ((a[i] * b[i] + b[i] - b[i]) / b[i]) +\n                     a[i] + a[i] + a[i] + a[i];\n    }\n}\n</code></pre>\n<p>The JIT's output for it is:</p>\n<pre><code># {method} {0x00000001034751a8} 'arrays' '()V' in 'main/ComplexExpression'\n#           [sp+0x30]  (sp of caller)\n[Entry Point]\n0x000000010c4c55a0: mov 0x8(%rsi),%r10d\n0x000000010c4c55a4: movabs $0x800000000,%r11\n0x000000010c4c55ae: add %r11,%r10\n0x000000010c4c55b1: cmp %r10,%rax\n0x000000010c4c55b4: jne 0x000000010c44b780  ;   {runtime_call ic_miss_stub}\n0x000000010c4c55ba: xchg %ax,%ax\n0x000000010c4c55bc: nopl 0x0(%rax)\n[Verified Entry Point]\n0x000000010c4c55c0: mov %eax,-0x14000(%rsp)\n0x000000010c4c55c7: push %rbp\n0x000000010c4c55c8: sub $0x20,%rsp  ;*synchronization entry\n                                    ; - main.ComplexExpression::arrays@-1 (line 51)\n0x000000010c4c55cc: mov %rsi,%rcx\n0x000000010c4c55cf: mov 0xc(%rsi),%ebp  ;*getfield arraySize {reexecute=0 rethrow=0 return_oop=0}\n                                        ; - main.ComplexExpression::arrays@4 (line 51)\n0x000000010c4c55d2: test %ebp,%ebp\n0x000000010c4c55d4: jle L0006  ;*if_icmpge {reexecute=0 rethrow=0 return_oop=0}\n                               ; - main.ComplexExpression::arrays@7 (line 51)\n0x000000010c4c55da: mov 0x10(%rsi),%r11d  ;*getfield a {reexecute=0 rethrow=0 return_oop=0}\n                                          ; - main.ComplexExpression::arrays@16 (line 52)\n0x000000010c4c55de: xchg %ax,%ax\n0x000000010c4c55e0: mov 0xc(%r12,%r11,8),%r10d  ; implicit exception: dispatches to 0x000000010c4c58a3\n                                                ;*faload {reexecute=0 rethrow=0 return_oop=0}\n                                                ; - main.ComplexExpression::arrays@20 (line 52)\n0x000000010c4c55e5: test %r10d,%r10d\n0x000000010c4c55e8: jbe L0007\n0x000000010c4c55ee: movslq %ebp,%r9\n0x000000010c4c55f1: movslq %r10d,%r10\n0x000000010c4c55f4: dec %r9\n0x000000010c4c55f7: cmp %r10,%r9\n0x000000010c4c55fa: nopw 0x0(%rax,%rax,1)\n0x000000010c4c5600: jae L0007\n0x000000010c4c5606: mov 0x14(%rsi),%ebx  ;*getfield b {reexecute=0 rethrow=0 return_oop=0}\n                                         ; - main.ComplexExpression::arrays@22 (line 52)\n0x000000010c4c5609: mov 0xc(%r12,%rbx,8),%r10d  ; implicit exception: dispatches to 0x000000010c4c58a3\n                                                ;*faload {reexecute=0 rethrow=0 return_oop=0}\n                                                ; - main.ComplexExpression::arrays@26 (line 52)\n0x000000010c4c560e: test %r10d,%r10d\n0x000000010c4c5611: jbe L0007\n0x000000010c4c5617: movslq %r10d,%r10\n0x000000010c4c561a: nopw 0x0(%rax,%rax,1)\n0x000000010c4c5620: cmp %r10,%r9\n0x000000010c4c5623: jae L0007\n0x000000010c4c5629: mov 0x18(%rsi),%r8d  ;*getfield result {reexecute=0 rethrow=0 return_oop=0}\n                                         ; - main.ComplexExpression::arrays@11 (line 52)\n0x000000010c4c562d: mov 0xc(%r12,%r8,8),%r10d  ; implicit exception: dispatches to 0x000000010c4c58a3\n                                               ;*fastore {reexecute=0 rethrow=0 return_oop=0}\n                                               ; - main.ComplexExpression::arrays@77 (line 52)\n0x000000010c4c5632: test %r10d,%r10d\n0x000000010c4c5635: jbe L0007\n0x000000010c4c563b: movslq %r10d,%r10\n0x000000010c4c563e: xchg %ax,%ax\n0x000000010c4c5640: cmp %r10,%r9\n0x000000010c4c5643: jae L0007\n0x000000010c4c5649: lea (%r12,%r8,8),%rdx\n0x000000010c4c564d: lea (%r12,%r11,8),%rdi\n0x000000010c4c5651: mov %edx,%r11d\n0x000000010c4c5654: lea (%r12,%rbx,8),%rax\n0x000000010c4c5658: shr $0x2,%r11d\n0x000000010c4c565c: and $0x7,%r11d\n0x000000010c4c5660: mov $0x3,%r9d\n0x000000010c4c5666: sub %r11d,%r9d\n0x000000010c4c5669: and $0x7,%r9d\n0x000000010c4c566d: inc %r9d\n0x000000010c4c5670: cmp %ebp,%r9d\n0x000000010c4c5673: cmovg %ebp,%r9d\n0x000000010c4c5677: xor %r10d,%r10d\n0x000000010c4c567a: xor %r11d,%r11d  ;*aload_0 {reexecute=0 rethrow=0 return_oop=0}\n                                     ; - main.ComplexExpression::arrays@10 (line 52)\n             L0000: vmovss 0x10(%rax,%r11,4),%xmm1  ;*faload {reexecute=0 rethrow=0 return_oop=0}\n                                                    ; - main.ComplexExpression::arrays@26 (line 52)\n0x000000010c4c5684: vmovss 0x10(%rdi,%r11,4),%xmm0  ;*faload {reexecute=0 rethrow=0 return_oop=0}\n                                                    ; - main.ComplexExpression::arrays@20 (line 52)\n0x000000010c4c568b: vmulss %xmm1,%xmm0,%xmm3\n0x000000010c4c568f: vaddss %xmm1,%xmm3,%xmm2\n0x000000010c4c5693: vsubss %xmm1,%xmm2,%xmm3\n0x000000010c4c5697: vdivss %xmm1,%xmm3,%xmm1\n0x000000010c4c569b: vaddss %xmm0,%xmm1,%xmm2\n0x000000010c4c569f: vaddss %xmm0,%xmm2,%xmm1\n0x000000010c4c56a3: vaddss %xmm0,%xmm1,%xmm2\n0x000000010c4c56a7: vaddss %xmm0,%xmm2,%xmm0\n0x000000010c4c56ab: vmovss %xmm0,0x10(%rdx,%r11,4)  ;*fastore {reexecute=0 rethrow=0 return_oop=0}\n                                                    ; - main.ComplexExpression::arrays@77 (line 52)\n0x000000010c4c56b2: inc %r11d  ;*iinc {reexecute=0 rethrow=0 return_oop=0}\n                               ; - main.ComplexExpression::arrays@78 (line 51)\n0x000000010c4c56b5: cmp %r9d,%r11d\n0x000000010c4c56b8: jl L0000  ;*if_icmpge {reexecute=0 rethrow=0 return_oop=0}\n                              ; - main.ComplexExpression::arrays@7 (line 51)\n0x000000010c4c56ba: mov %ebp,%r9d\n0x000000010c4c56bd: add $0xffffffe1,%r9d\n0x000000010c4c56c1: mov $0x80000000,%r8d\n0x000000010c4c56c7: cmp %r9d,%ebp\n0x000000010c4c56ca: cmovl %r8d,%r9d\n0x000000010c4c56ce: cmp %r9d,%r11d\n0x000000010c4c56d1: jge L0004\n0x000000010c4c56d7: mov $0x7d00,%ebx\n             L0001: mov %r9d,%esi\n0x000000010c4c56df: sub %r11d,%esi\n0x000000010c4c56e2: cmp %r11d,%r9d\n0x000000010c4c56e5: cmovl %r10d,%esi\n0x000000010c4c56e9: cmp $0x7d00,%esi\n0x000000010c4c56ef: cmova %ebx,%esi\n0x000000010c4c56f2: add %r11d,%esi\n0x000000010c4c56f5: data16 data16 nopw 0x0(%rax,%rax,1)  ;*aload_0 {reexecute=0 rethrow=0 return_oop=0}\n                                                         ; - main.ComplexExpression::arrays@10 (line 52)\n             L0002: vmovdqu 0x10(%rax,%r11,4),%ymm0  ;*faload {reexecute=0 rethrow=0 return_oop=0}\n                                                     ; - main.ComplexExpression::arrays@26 (line 52)\n0x000000010c4c5707: vmovdqu 0x10(%rdi,%r11,4),%ymm1  ;*faload {reexecute=0 rethrow=0 return_oop=0}\n                                                     ; - main.ComplexExpression::arrays@20 (line 52)\n0x000000010c4c570e: vmulps %ymm0,%ymm1,%ymm2\n0x000000010c4c5712: vaddps %ymm0,%ymm2,%ymm2\n0x000000010c4c5716: vsubps %ymm0,%ymm2,%ymm2\n0x000000010c4c571a: vdivps %ymm0,%ymm2,%ymm0\n0x000000010c4c571e: vaddps %ymm1,%ymm0,%ymm0\n0x000000010c4c5722: vaddps %ymm1,%ymm0,%ymm0\n0x000000010c4c5726: vaddps %ymm1,%ymm0,%ymm0\n0x000000010c4c572a: vaddps %ymm1,%ymm0,%ymm0\n0x000000010c4c572e: vmovdqu %ymm0,0x10(%rdx,%r11,4)  ;*fastore {reexecute=0 rethrow=0 return_oop=0}\n                                                     ; - main.ComplexExpression::arrays@77 (line 52)\n0x000000010c4c5735: vmovdqu 0x30(%rdi,%r11,4),%ymm0  ;*faload {reexecute=0 rethrow=0 return_oop=0}\n                                                     ; - main.ComplexExpression::arrays@20 (line 52)\n0x000000010c4c573c: vmovdqu 0x30(%rax,%r11,4),%ymm1  ;*faload {reexecute=0 rethrow=0 return_oop=0}\n                                                     ; - main.ComplexExpression::arrays@26 (line 52)\n0x000000010c4c5743: vmulps %ymm1,%ymm0,%ymm2\n0x000000010c4c5747: vaddps %ymm1,%ymm2,%ymm2\n0x000000010c4c574b: vsubps %ymm1,%ymm2,%ymm2\n0x000000010c4c574f: vdivps %ymm1,%ymm2,%ymm1\n0x000000010c4c5753: vaddps %ymm0,%ymm1,%ymm1\n0x000000010c4c5757: vaddps %ymm0,%ymm1,%ymm1\n0x000000010c4c575b: vaddps %ymm0,%ymm1,%ymm1\n0x000000010c4c575f: vaddps %ymm0,%ymm1,%ymm0\n0x000000010c4c5763: vmovdqu %ymm0,0x30(%rdx,%r11,4)  ;*fastore {reexecute=0 rethrow=0 return_oop=0}\n                                                     ; - main.ComplexExpression::arrays@77 (line 52)\n0x000000010c4c576a: vmovdqu 0x50(%rdi,%r11,4),%ymm0  ;*faload {reexecute=0 rethrow=0 return_oop=0}\n                                                     ; - main.ComplexExpression::arrays@20 (line 52)\n0x000000010c4c5771: vmovdqu 0x50(%rax,%r11,4),%ymm1  ;*faload {reexecute=0 rethrow=0 return_oop=0}\n                                                     ; - main.ComplexExpression::arrays@26 (line 52)\n0x000000010c4c5778: vmulps %ymm1,%ymm0,%ymm2\n0x000000010c4c577c: vaddps %ymm1,%ymm2,%ymm2\n0x000000010c4c5780: vsubps %ymm1,%ymm2,%ymm2\n0x000000010c4c5784: vdivps %ymm1,%ymm2,%ymm1\n0x000000010c4c5788: vaddps %ymm0,%ymm1,%ymm1\n0x000000010c4c578c: vaddps %ymm0,%ymm1,%ymm1\n0x000000010c4c5790: vaddps %ymm0,%ymm1,%ymm1\n0x000000010c4c5794: vaddps %ymm0,%ymm1,%ymm0\n0x000000010c4c5798: vmovdqu %ymm0,0x50(%rdx,%r11,4)  ;*fastore {reexecute=0 rethrow=0 return_oop=0}\n                                                     ; - main.ComplexExpression::arrays@77 (line 52)\n0x000000010c4c579f: vmovdqu 0x70(%rdi,%r11,4),%ymm0  ;*faload {reexecute=0 rethrow=0 return_oop=0}\n                                                     ; - main.ComplexExpression::arrays@20 (line 52)\n0x000000010c4c57a6: vmovdqu 0x70(%rax,%r11,4),%ymm1  ;*faload {reexecute=0 rethrow=0 return_oop=0}\n                                                     ; - main.ComplexExpression::arrays@26 (line 52)\n0x000000010c4c57ad: vmulps %ymm1,%ymm0,%ymm2\n0x000000010c4c57b1: vaddps %ymm1,%ymm2,%ymm2\n0x000000010c4c57b5: vsubps %ymm1,%ymm2,%ymm2\n0x000000010c4c57b9: vdivps %ymm1,%ymm2,%ymm1\n0x000000010c4c57bd: vaddps %ymm0,%ymm1,%ymm1\n0x000000010c4c57c1: vaddps %ymm0,%ymm1,%ymm1\n0x000000010c4c57c5: vaddps %ymm0,%ymm1,%ymm1\n0x000000010c4c57c9: vaddps %ymm0,%ymm1,%ymm0\n0x000000010c4c57cd: vmovdqu %ymm0,0x70(%rdx,%r11,4)  ;*fastore {reexecute=0 rethrow=0 return_oop=0}\n                                                     ; - main.ComplexExpression::arrays@77 (line 52)\n0x000000010c4c57d4: add $0x20,%r11d  ;*iinc {reexecute=0 rethrow=0 return_oop=0}\n                                     ; - main.ComplexExpression::arrays@78 (line 51)\n0x000000010c4c57d8: cmp %esi,%r11d\n0x000000010c4c57db: nopl 0x0(%rax,%rax,1)\n0x000000010c4c57e0: jl L0002  ;*goto {reexecute=0 rethrow=0 return_oop=0}\n                              ; - main.ComplexExpression::arrays@81 (line 51)\n0x000000010c4c57e6: mov 0x348(%r15),%rsi  ; ImmutableOopMap {rcx=Oop rdi=Oop rdx=Oop rax=Oop }\n                                          ;*goto {reexecute=1 rethrow=0 return_oop=0}\n                                          ; - (reexecute) main.ComplexExpression::arrays@81 (line 51)\n0x000000010c4c57ed: test %eax,(%rsi)  ;*goto {reexecute=0 rethrow=0 return_oop=0}\n                                      ; - main.ComplexExpression::arrays@81 (line 51)\n                                      ;   {poll} *** SAFEPOINT POLL ***\n0x000000010c4c57ef: cmp %r9d,%r11d\n0x000000010c4c57f2: jl L0001\n0x000000010c4c57f8: mov %ebp,%r10d\n0x000000010c4c57fb: add $0xfffffff9,%r10d\n0x000000010c4c57ff: cmp %r10d,%ebp\n0x000000010c4c5802: cmovl %r8d,%r10d\n0x000000010c4c5806: cmp %r10d,%r11d\n0x000000010c4c5809: jge L0004\n0x000000010c4c580b: nop  ;*aload_0 {reexecute=0 rethrow=0 return_oop=0}\n                         ; - main.ComplexExpression::arrays@10 (line 52)\n             L0003: vmovdqu 0x10(%rax,%r11,4),%ymm0  ;*faload {reexecute=0 rethrow=0 return_oop=0}\n                                                     ; - main.ComplexExpression::arrays@26 (line 52)\n0x000000010c4c5813: vmovdqu 0x10(%rdi,%r11,4),%ymm1  ;*faload {reexecute=0 rethrow=0 return_oop=0}\n                                                     ; - main.ComplexExpression::arrays@20 (line 52)\n0x000000010c4c581a: vmulps %ymm0,%ymm1,%ymm2\n0x000000010c4c581e: vaddps %ymm0,%ymm2,%ymm2\n0x000000010c4c5822: vsubps %ymm0,%ymm2,%ymm2\n0x000000010c4c5826: vdivps %ymm0,%ymm2,%ymm0\n0x000000010c4c582a: vaddps %ymm1,%ymm0,%ymm0\n0x000000010c4c582e: vaddps %ymm1,%ymm0,%ymm0\n0x000000010c4c5832: vaddps %ymm1,%ymm0,%ymm0\n0x000000010c4c5836: vaddps %ymm1,%ymm0,%ymm0\n0x000000010c4c583a: vmovdqu %ymm0,0x10(%rdx,%r11,4)  ;*fastore {reexecute=0 rethrow=0 return_oop=0}\n                                                     ; - main.ComplexExpression::arrays@77 (line 52)\n0x000000010c4c5841: add $0x8,%r11d  ;*iinc {reexecute=0 rethrow=0 return_oop=0}\n                                    ; - main.ComplexExpression::arrays@78 (line 51)\n0x000000010c4c5845: cmp %r10d,%r11d\n0x000000010c4c5848: jl L0003  ;*if_icmpge {reexecute=0 rethrow=0 return_oop=0}\n                              ; - main.ComplexExpression::arrays@7 (line 51)\n             L0004: cmp %ebp,%r11d\n0x000000010c4c584d: jge L0006\n0x000000010c4c584f: nop  ;*aload_0 {reexecute=0 rethrow=0 return_oop=0}\n                         ; - main.ComplexExpression::arrays@10 (line 52)\n             L0005: vmovss 0x10(%rax,%r11,4),%xmm1  ;*faload {reexecute=0 rethrow=0 return_oop=0}\n                                                    ; - main.ComplexExpression::arrays@26 (line 52)\n0x000000010c4c5857: vmovss 0x10(%rdi,%r11,4),%xmm0  ;*faload {reexecute=0 rethrow=0 return_oop=0}\n                                                    ; - main.ComplexExpression::arrays@20 (line 52)\n0x000000010c4c585e: vmulss %xmm1,%xmm0,%xmm3\n0x000000010c4c5862: vaddss %xmm1,%xmm3,%xmm2\n0x000000010c4c5866: vsubss %xmm1,%xmm2,%xmm3\n0x000000010c4c586a: vdivss %xmm1,%xmm3,%xmm1\n0x000000010c4c586e: vaddss %xmm0,%xmm1,%xmm2\n0x000000010c4c5872: vaddss %xmm0,%xmm2,%xmm1\n0x000000010c4c5876: vaddss %xmm0,%xmm1,%xmm2\n0x000000010c4c587a: vaddss %xmm0,%xmm2,%xmm0\n0x000000010c4c587e: vmovss %xmm0,0x10(%rdx,%r11,4)  ;*fastore {reexecute=0 rethrow=0 return_oop=0}\n                                                    ; - main.ComplexExpression::arrays@77 (line 52)\n0x000000010c4c5885: inc %r11d  ;*iinc {reexecute=0 rethrow=0 return_oop=0}\n                               ; - main.ComplexExpression::arrays@78 (line 51)\n0x000000010c4c5888: cmp %ebp,%r11d\n0x000000010c4c588b: jl L0005\n             L0006: vzeroupper\n0x000000010c4c5890: add $0x20,%rsp\n0x000000010c4c5894: pop %rbp\n0x000000010c4c5895: cmp 0x340(%r15),%rsp  ;   {poll_return} *** SAFEPOINT POLL ***\n0x000000010c4c589c: ja L0008\n0x000000010c4c58a2: ret  ;*if_icmpge {reexecute=0 rethrow=0 return_oop=0}\n                         ; - main.ComplexExpression::arrays@7 (line 51)\n             L0007: mov $0xffffff76,%esi\n0x000000010c4c58a8: mov %rcx,(%rsp)\n0x000000010c4c58ac: vzeroupper\n0x000000010c4c58af: call 0x000000010c451000  ; ImmutableOopMap {[0]=Oop }\n                                             ;*if_icmpge {reexecute=1 rethrow=0 return_oop=0}\n                                             ; - (reexecute) main.ComplexExpression::arrays@7 (line 51)\n                                             ;   {runtime_call UncommonTrapBlob}\n             L0008: movabs $0x10c4c5895,%r10  ;   {internal_word}\n0x000000010c4c58be: mov %r10,0x358(%r15)\n0x000000010c4c58c5: jmp 0x000000010c452100  ;   {runtime_call SafepointBlob}\n0x000000010c4c58ca: hlt\n0x000000010c4c58cb: hlt\n0x000000010c4c58cc: hlt\n0x000000010c4c58cd: hlt\n0x000000010c4c58ce: hlt\n0x000000010c4c58cf: hlt\n0x000000010c4c58d0: hlt\n0x000000010c4c58d1: hlt\n0x000000010c4c58d2: hlt\n0x000000010c4c58d3: hlt\n0x000000010c4c58d4: hlt\n0x000000010c4c58d5: hlt\n0x000000010c4c58d6: hlt\n0x000000010c4c58d7: hlt\n0x000000010c4c58d8: hlt\n0x000000010c4c58d9: hlt\n0x000000010c4c58da: hlt\n0x000000010c4c58db: hlt\n0x000000010c4c58dc: hlt\n0x000000010c4c58dd: hlt\n0x000000010c4c58de: hlt\n0x000000010c4c58df: hlt\n[Exception Handler]\n0x000000010c4c58e0: jmp 0x000000010c464a00  ;   {no_reloc}\n[Deopt Handler Code]\n0x000000010c4c58e5: call 0x000000010c4c58ea\n0x000000010c4c58ea: subq $0x5,(%rsp)\n0x000000010c4c58ef: jmp 0x000000010c4513a0  ;   {runtime_call DeoptimizationBlob}\n0x000000010c4c58f4: hlt\n0x000000010c4c58f5: hlt\n0x000000010c4c58f6: hlt\n0x000000010c4c58f7: hlt\n</code></pre>\n<p>It seems like the for loop was translated to multiple &quot;assembly loops&quot;.\nThe main part is in L0002 I guess, where you can see the loop unrolling, but there is also L0000, L0003 and L0005 which also seem to be part of the for loop but Im having a hard time understanding how they fit in.</p>\n<p>Can someone explain how do all the parts in all the labels compose the actual loop?\nI imagine its some &quot;known&quot; pattern in the JIT that I just dont know.</p>\n"},{"tags":["java","generics","reflection","abstract-class"],"comments":[{"owner":{"account_id":13564201,"reputation":356,"user_id":9784846,"display_name":"J_code"},"score":0,"creation_date":1689032301,"post_id":76657477,"comment_id":135152970,"body_markdown":"How do you address the fact that o is unknown at runtime, which lead me to incorporate Reflection in the first place?","body":"How do you address the fact that o is unknown at runtime, which lead me to incorporate Reflection in the first place?"},{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1689035459,"post_id":76657477,"comment_id":135153248,"body_markdown":"I&#39;ve posted an answer that addresses using reflection for this. Hope that helps.","body":"I&#39;ve posted an answer that addresses using reflection for this. Hope that helps."},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1689035614,"post_id":76657477,"comment_id":135153262,"body_markdown":"it might help if you included some examples of the classes that you are trying to sort","body":"it might help if you included some examples of the classes that you are trying to sort"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1689098268,"post_id":76657477,"comment_id":135164096,"body_markdown":"You can simplify the first approach to `Comparator&lt;Class1&gt; comparatorDescending = Comparator.comparing(Class1::getDate).reversed();` And now think about it: even if you repeat this line a dozen times for a dozen different classes, it’s simpler than what you are trying to do with Reflection. Not to speak of more readable, more robust, type safe, and more efficient.","body":"You can simplify the first approach to <code>Comparator&lt;Class1&gt; comparatorDescending = Comparator.comparing(Class1::getDate).reversed();</code> And now think about it: even if you repeat this line a dozen times for a dozen different classes, it’s simpler than what you are trying to do with Reflection. Not to speak of more readable, more robust, type safe, and more efficient."},{"owner":{"account_id":13564201,"reputation":356,"user_id":9784846,"display_name":"J_code"},"score":0,"creation_date":1689151375,"post_id":76657477,"comment_id":135171248,"body_markdown":"@Holger You are not wrong. Actually, the only reason I considered Reflection was not because it would be cool to do, it was so that I could avoid sharing state between my subclass and superclass. Using reflection enabled me to do the sorting in the parent class and write getter/setter methods in the subclass to access state where and when needed. Using the prior, simpler approach would have forced me to share access to state and didn&#39;t fit in the spirit of how my subclasses and superclass relate to one another.","body":"@Holger You are not wrong. Actually, the only reason I considered Reflection was not because it would be cool to do, it was so that I could avoid sharing state between my subclass and superclass. Using reflection enabled me to do the sorting in the parent class and write getter/setter methods in the subclass to access state where and when needed. Using the prior, simpler approach would have forced me to share access to state and didn&#39;t fit in the spirit of how my subclasses and superclass relate to one another."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1689156300,"post_id":76657477,"comment_id":135172357,"body_markdown":"The usual approach would be to make the method generic, i.e. add a type parameter `&lt;T extends Class1&gt;` and add a parameter like a `Function&lt;T,…&gt;` to access a property or a `Comparator&lt;T&gt;` to determine the required order. Unless you’re assuming that every subclass has a `getDate` method (which would be weird, as you could simply declare an abstract method then), the name of the method would have to be a parameter anyway, so using a `Function` instead is still decoupling superclass and subclass, but in a typesafe way.","body":"The usual approach would be to make the method generic, i.e. add a type parameter <code>&lt;T extends Class1&gt;</code> and add a parameter like a <code>Function&lt;T,…&gt;</code> to access a property or a <code>Comparator&lt;T&gt;</code> to determine the required order. Unless you’re assuming that every subclass has a <code>getDate</code> method (which would be weird, as you could simply declare an abstract method then), the name of the method would have to be a parameter anyway, so using a <code>Function</code> instead is still decoupling superclass and subclass, but in a typesafe way."},{"owner":{"account_id":13564201,"reputation":356,"user_id":9784846,"display_name":"J_code"},"score":0,"creation_date":1689181109,"post_id":76657477,"comment_id":135178244,"body_markdown":"@Holger Not quite. I think what I will do is edit the original post and show the basic structure to illustrate more clearly what the problem was. Stay tuned.","body":"@Holger Not quite. I think what I will do is edit the original post and show the basic structure to illustrate more clearly what the problem was. Stay tuned."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1689044075,"creation_date":1689035416,"answer_id":76658054,"question_id":76657477,"body_markdown":"You can cast the return value of the method to `Comparable` (you will have to make sure the return value of `getDate` matches this). The comparator can also be simplified using `Comparator.comparing`.\r\n\r\n```java\r\ntry {\r\n\tMethod m = this.typeParameterClass.getDeclaredMethod(&quot;getDate&quot;);\r\n\tthis.classlist2sort.sort(Comparator.comparing(o -&gt; {\r\n\t\ttry {\r\n\t\t\treturn (Comparable) m.invoke(o);\r\n\t\t} catch (IllegalAccessException | InvocationTargetException e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t}).reversed());\r\n} catch (NoSuchMethodException e) {\r\n\tthrow new RuntimeException(e); // or other handling\r\n}\r\n```","title":"Lambda sort using Reflection","body":"<p>You can cast the return value of the method to <code>Comparable</code> (you will have to make sure the return value of <code>getDate</code> matches this). The comparator can also be simplified using <code>Comparator.comparing</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    Method m = this.typeParameterClass.getDeclaredMethod(&quot;getDate&quot;);\n    this.classlist2sort.sort(Comparator.comparing(o -&gt; {\n        try {\n            return (Comparable) m.invoke(o);\n        } catch (IllegalAccessException | InvocationTargetException e) {\n            throw new RuntimeException(e);\n        }\n    }).reversed());\n} catch (NoSuchMethodException e) {\n    throw new RuntimeException(e); // or other handling\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689072543,"creation_date":1689072543,"answer_id":76661212,"question_id":76657477,"body_markdown":"If you have access to the source code of `Class1`, `Class2`, etc. you can define an interface to be used for the comparator and avoid reflection altogether. Let&#39;s say:\r\n```\r\npublic interface HasDate {\r\n\r\n  LocalDate getDate();\r\n}\r\n```\r\nI know the name is bad, but it will do for an example. Define the comparator to work with `HasDate`, and you can sort lists, whose elements implement the interface.\r\n```\r\npublic class RandomStuff {\r\n\r\n  public static void main(String[] args) {\r\n    Comparator&lt;HasDate&gt; dateComparator = (o1, o2) -&gt; o2.getDate().compareTo(o1.getDate());\r\n\r\n    List&lt;Class1&gt; list1 = new ArrayList&lt;&gt;();\r\n    list1.add(new Class1(LocalDate.now()));\r\n    list1.add(new Class1(LocalDate.now().plusDays(1)));\r\n    list1.add(new Class1(LocalDate.now().minusDays(1)));\r\n    list1.sort(dateComparator);\r\n    System.out.println(list1);\r\n\r\n    List&lt;Class2&gt; list2 = new ArrayList&lt;&gt;();\r\n    list2.add(new Class2(LocalDate.now()));\r\n    list2.add(new Class2(LocalDate.now().plusDays(1)));\r\n    list2.add(new Class2(LocalDate.now().minusDays(1)));\r\n    list2.sort(dateComparator);\r\n    System.out.println(list2);\r\n  }\r\n}\r\n```","title":"Lambda sort using Reflection","body":"<p>If you have access to the source code of <code>Class1</code>, <code>Class2</code>, etc. you can define an interface to be used for the comparator and avoid reflection altogether. Let's say:</p>\n<pre><code>public interface HasDate {\n\n  LocalDate getDate();\n}\n</code></pre>\n<p>I know the name is bad, but it will do for an example. Define the comparator to work with <code>HasDate</code>, and you can sort lists, whose elements implement the interface.</p>\n<pre><code>public class RandomStuff {\n\n  public static void main(String[] args) {\n    Comparator&lt;HasDate&gt; dateComparator = (o1, o2) -&gt; o2.getDate().compareTo(o1.getDate());\n\n    List&lt;Class1&gt; list1 = new ArrayList&lt;&gt;();\n    list1.add(new Class1(LocalDate.now()));\n    list1.add(new Class1(LocalDate.now().plusDays(1)));\n    list1.add(new Class1(LocalDate.now().minusDays(1)));\n    list1.sort(dateComparator);\n    System.out.println(list1);\n\n    List&lt;Class2&gt; list2 = new ArrayList&lt;&gt;();\n    list2.add(new Class2(LocalDate.now()));\n    list2.add(new Class2(LocalDate.now().plusDays(1)));\n    list2.add(new Class2(LocalDate.now().minusDays(1)));\n    list2.sort(dateComparator);\n    System.out.println(list2);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":13564201,"reputation":356,"user_id":9784846,"display_name":"J_code"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76658054,"answer_count":2,"score":0,"last_activity_date":1689072543,"creation_date":1689024861,"question_id":76657477,"body_markdown":"I&#39;m working on a project that requires the use of sorted Class lists, and I have a lambda expression that worked according to the type of class I needed to be sorted. The sorting occurs on a date field of the class itself:\r\n\r\n```\r\nComparator&lt;Class1&gt; comparatorDescending = (exp1, exp2) -&gt; exp2.getDate().compareTo(exp1.getDate());\r\n        this.classlist2sort.sort(comparatorDescending);\r\n\r\n```\r\n\r\nHowever I have two, maybe more classes that need to be sorted in this way and I decided to move the lambda expression above to the parent class and make it a generic. This required a bit of work however in that I now need to pass into the parent class the type of class I&#39;m dealing with (Class1.class), condition on that, then sort with generic. I tried the following using Reflection:\r\n\r\n```\r\nMethod m = this.typeParameterClass.getDeclaredMethod(&quot;getDate&quot;);\r\n\r\nComparator&lt;T&gt; comparatorDescending = (exp1, exp2) -&gt;\r\n                m.invoke(exp2).compareTo(m.invoke(exp1));\r\nthis.classlist2sort((Comparator&lt;? super T&gt;) comparatorDescending);\r\n```\r\nDoing so gave me an error message: `Unhandled exceptions: java.lang.IllegalAccessException, java.lang.reflect.InvocationTargetException` to which I followed the suggested workaround of surrounding the expression with a try catch in the following manner:\r\n\r\n```\r\nMethod[] input = this.typeParameterClass.getDeclaredMethods();\r\nMethod m = this.typeParameterClass.getDeclaredMethod(&quot;getDate&quot;);\r\n\r\nComparator&lt;T&gt; comparatorDescending = (exp1, exp2) -&gt; {\r\n            try {\r\n                return m.invoke(exp2).compareTo(m.invoke(exp1));\r\n            } catch (IllegalAccessException e) {\r\n                throw new RuntimeException(e);\r\n            } catch (InvocationTargetException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\nthis.classlist2sort((Comparator&lt;? super T&gt;) comparatorDescending);\r\n```\r\nUnfortunately, doin this resulted in a `Cannot resolve method &#39;compareTo&#39; in &#39;Object&#39;` error. I am wondering now if what I&#39;m trying to do is possible. Any help is appreciated","title":"Lambda sort using Reflection","body":"<p>I'm working on a project that requires the use of sorted Class lists, and I have a lambda expression that worked according to the type of class I needed to be sorted. The sorting occurs on a date field of the class itself:</p>\n<pre><code>Comparator&lt;Class1&gt; comparatorDescending = (exp1, exp2) -&gt; exp2.getDate().compareTo(exp1.getDate());\n        this.classlist2sort.sort(comparatorDescending);\n\n</code></pre>\n<p>However I have two, maybe more classes that need to be sorted in this way and I decided to move the lambda expression above to the parent class and make it a generic. This required a bit of work however in that I now need to pass into the parent class the type of class I'm dealing with (Class1.class), condition on that, then sort with generic. I tried the following using Reflection:</p>\n<pre><code>Method m = this.typeParameterClass.getDeclaredMethod(&quot;getDate&quot;);\n\nComparator&lt;T&gt; comparatorDescending = (exp1, exp2) -&gt;\n                m.invoke(exp2).compareTo(m.invoke(exp1));\nthis.classlist2sort((Comparator&lt;? super T&gt;) comparatorDescending);\n</code></pre>\n<p>Doing so gave me an error message: <code>Unhandled exceptions: java.lang.IllegalAccessException, java.lang.reflect.InvocationTargetException</code> to which I followed the suggested workaround of surrounding the expression with a try catch in the following manner:</p>\n<pre><code>Method[] input = this.typeParameterClass.getDeclaredMethods();\nMethod m = this.typeParameterClass.getDeclaredMethod(&quot;getDate&quot;);\n\nComparator&lt;T&gt; comparatorDescending = (exp1, exp2) -&gt; {\n            try {\n                return m.invoke(exp2).compareTo(m.invoke(exp1));\n            } catch (IllegalAccessException e) {\n                throw new RuntimeException(e);\n            } catch (InvocationTargetException e) {\n                throw new RuntimeException(e);\n            }\nthis.classlist2sort((Comparator&lt;? super T&gt;) comparatorDescending);\n</code></pre>\n<p>Unfortunately, doin this resulted in a <code>Cannot resolve method 'compareTo' in 'Object'</code> error. I am wondering now if what I'm trying to do is possible. Any help is appreciated</p>\n"},{"tags":["java","react-native","kotlin","gradle","npm-scripts"],"comments":[{"owner":{"account_id":28993752,"reputation":1,"user_id":22208884,"display_name":"akpatil "},"score":0,"creation_date":1689072420,"post_id":76661173,"comment_id":135158255,"body_markdown":"https://github.com/react-native-video/react-native-video/issues/3171#issue-1798615585","body":"<a href=\"https://github.com/react-native-video/react-native-video/issues/3171#issue-1798615585\" rel=\"nofollow noreferrer\">github.com/react-native-video/react-native-video/issues/&hellip;</a>"}],"owner":{"account_id":28993752,"reputation":1,"user_id":22208884,"display_name":"akpatil "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":717,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689072332,"creation_date":1689072332,"question_id":76661173,"body_markdown":"#Bug\r\n**Could not determine the dependencies of task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n&gt; Could not resolve all task dependencies for configuration &#39;:app:debugCompileClasspath&#39;.\r\n   &gt; Could not resolve project :react-native-video.\r\n     Required by:\r\n         project :app\r\n      &gt; No matching configuration of project :react-native-video was found. The consumer was configured to find a component for use during compile-time, preferably optimized for Android, as well as attribute**\r\n      #platform\r\n       #Android\r\n       **package.json**\r\n      \r\n```\r\n` {\r\n  &quot;name&quot;: &quot;newapp&quot;,\r\n  &quot;version&quot;: &quot;0.0.1&quot;,\r\n  &quot;private&quot;: true,\r\n  &quot;scripts&quot;: {\r\n    &quot;android&quot;: &quot;react-native run-android&quot;,\r\n    &quot;ios&quot;: &quot;react-native run-ios&quot;,\r\n    &quot;lint&quot;: &quot;eslint .&quot;,\r\n    &quot;start&quot;: &quot;react-native start&quot;,\r\n    &quot;test&quot;: &quot;jest&quot;,\r\n    &quot;postinstall&quot;: &quot;patch-package&quot;\r\n  },\r\n  &quot;dependencies&quot;: {\r\n    &quot;@react-native-async-storage/async-storage&quot;: &quot;^1.19.0&quot;,\r\n    &quot;@react-native-community/masked-view&quot;: &quot;^0.1.11&quot;,\r\n    &quot;@react-native-firebase/app&quot;: &quot;^18.1.0&quot;,\r\n    &quot;@react-native-firebase/auth&quot;: &quot;^18.1.0&quot;,\r\n    &quot;@react-native-firebase/functions&quot;: &quot;^18.1.0&quot;,\r\n    &quot;@react-native-firebase/in-app-messaging&quot;: &quot;^18.1.0&quot;,\r\n    &quot;@react-native-firebase/messaging&quot;: &quot;^18.1.0&quot;,\r\n    &quot;@react-navigation/bottom-tabs&quot;: &quot;^6.5.8&quot;,\r\n    &quot;@react-navigation/drawer&quot;: &quot;^6.1.8&quot;,\r\n    &quot;@react-navigation/elements&quot;: &quot;^1.3.18&quot;,\r\n    &quot;@react-navigation/material-bottom-tabs&quot;: &quot;^6.2.16&quot;,\r\n    &quot;@react-navigation/material-top-tabs&quot;: &quot;^6.6.3&quot;,\r\n    &quot;@react-navigation/native&quot;: &quot;^6.0.6&quot;,\r\n    &quot;@react-navigation/native-stack&quot;: &quot;^6.9.13&quot;,\r\n    &quot;@react-navigation/stack&quot;: &quot;^6.0.11&quot;,\r\n    &quot;deprecated-react-native-prop-types&quot;: &quot;^4.1.0&quot;,\r\n    &quot;doctor&quot;: &quot;^0.3.0&quot;,\r\n    &quot;patch-package&quot;: &quot;^7.0.0&quot;,\r\n    &quot;react&quot;: &quot;18.2.0&quot;,\r\n    &quot;react-native&quot;: &quot;^0.72.1&quot;,\r\n    &quot;react-native-gesture-handler&quot;: &quot;^2.12.0&quot;,\r\n    &quot;react-native-reanimated&quot;: &quot;^3.3.0&quot;,\r\n    &quot;react-native-safe-area-context&quot;: &quot;^4.6.3&quot;,\r\n    &quot;react-native-screens&quot;: &quot;^3.22.0&quot;,\r\n    &quot;react-native-tab-view&quot;: &quot;^3.5.2&quot;,\r\n    &quot;react-native-vector-icons&quot;: &quot;^9.2.0&quot;,\r\n    &quot;react-native-video&quot;: &quot;^2.3.1&quot;,\r\n    &quot;react-native-video-controls&quot;: &quot;^2.8.1&quot;,\r\n    &quot;react-native-video-player&quot;: &quot;^0.14.0&quot;\r\n  },\r\n  &quot;devDependencies&quot;: {\r\n    &quot;@babel/core&quot;: &quot;^7.20.0&quot;,\r\n    &quot;@babel/preset-env&quot;: &quot;^7.20.0&quot;,\r\n    &quot;@babel/runtime&quot;: &quot;^7.20.0&quot;,\r\n    &quot;@react-native/eslint-config&quot;: &quot;^0.72.2&quot;,\r\n    &quot;@react-native/metro-config&quot;: &quot;^0.72.7&quot;,\r\n    &quot;babel-jest&quot;: &quot;^29.2.1&quot;,\r\n    &quot;eslint&quot;: &quot;^8.19.0&quot;,\r\n    &quot;jest&quot;: &quot;^29.2.1&quot;,\r\n    &quot;metro-react-native-babel-preset&quot;: &quot;0.76.5&quot;,\r\n    &quot;prettier&quot;: &quot;^2.4.1&quot;,\r\n    &quot;react-test-renderer&quot;: &quot;18.2.0&quot;\r\n  },\r\n  &quot;engines&quot;: {\r\n    &quot;node&quot;: &quot;&gt;=16&quot;\r\n  }\r\n}`\r\n```\r\n\r\n**settings.gradle**\r\n```\r\nrootProject.name = &#39;newapp&#39;\r\n// apply from: file(&quot;../node_modules/@react-native-community/cli-platform-android/native_modules.gradle&quot;); applyNativeModulesSettingsGradle(settings)\r\n// include &#39;:app&#39;\r\n// includeBuild(&#39;../node_modules/@react-native/gradle-plugin&#39;)\r\n// include &#39;:react-native-video&#39;\r\n// project(&#39;:react-native-video&#39;).projectDir = new File(rootProject.projectDir, &#39;../node_modules/react-native-video/android-exoplayer&#39;)\r\n\r\n\r\ninclude &#39;:app&#39;\r\ninclude &#39;:react-native-video&#39;\r\nproject(&#39;:react-native-video&#39;).projectDir = new File(rootProject.projectDir, &#39;../node_modules/react-native-video/android-exoplayer&#39;)\r\nincludeBuild(&#39;../node_modules/@react-native/gradle-plugin&#39;)\r\napply from: file(&quot;../node_modules/@react-native-community/cli-platform-android/native_modules.gradle&quot;); applyNativeModulesSettingsGradle(settings)\r\n```\r\n\r\n**android/app/build.gradle**\r\n```\r\napply plugin: &quot;com.android.application&quot;\r\napply plugin: &quot;com.facebook.react&quot;\r\napply from: &quot;../../node_modules/react-native-vector-icons/fonts.gradle&quot;\r\n//apply plugin:&quot;com.google.gms.google-services&quot;\r\n\r\n\r\n/**\r\n * This is the configuration block to customize your React Native Android app.\r\n * By default you don&#39;t need to apply any configuration, just uncomment the lines you need.\r\n */\r\nreact {\r\n    /* Folders */\r\n    //   The root of your project, i.e. where &quot;package.json&quot; lives. Default is &#39;..&#39;\r\n    // root = file(&quot;../&quot;)\r\n    //   The folder where the react-native NPM package is. Default is ../node_modules/react-native\r\n    // reactNativeDir = file(&quot;../node_modules/react-native&quot;)\r\n    //   The folder where the react-native Codegen package is. Default is ../node_modules/@react-native/codegen\r\n    // codegenDir = file(&quot;../node_modules/@react-native/codegen&quot;)\r\n    //   The cli.js file which is the React Native CLI entrypoint. Default is ../node_modules/react-native/cli.js\r\n    // cliFile = file(&quot;../node_modules/react-native/cli.js&quot;)\r\n\r\n    /* Variants */\r\n    //   The list of variants to that are debuggable. For those we&#39;re going to\r\n    //   skip the bundling of the JS bundle and the assets. By default is just &#39;debug&#39;.\r\n    //   If you add flavors like lite, prod, etc. you&#39;ll have to list your debuggableVariants.\r\n    // debuggableVariants = [&quot;liteDebug&quot;, &quot;prodDebug&quot;]\r\n\r\n    /* Bundling */\r\n    //   A list containing the node command and its flags. Default is just &#39;node&#39;.\r\n    // nodeExecutableAndArgs = [&quot;node&quot;]\r\n    //\r\n    //   The command to run when bundling. By default is &#39;bundle&#39;\r\n    // bundleCommand = &quot;ram-bundle&quot;\r\n    //\r\n    //   The path to the CLI configuration file. Default is empty.\r\n    // bundleConfig = file(../rn-cli.config.js)\r\n    //\r\n    //   The name of the generated asset file containing your JS bundle\r\n    // bundleAssetName = &quot;MyApplication.android.bundle&quot;\r\n    //\r\n    //   The entry file for bundle generation. Default is &#39;index.android.js&#39; or &#39;index.js&#39;\r\n    // entryFile = file(&quot;../js/MyApplication.android.js&quot;)\r\n    //\r\n    //   A list of extra flags to pass to the &#39;bundle&#39; commands.\r\n    //   See https://github.com/react-native-community/cli/blob/main/docs/commands.md#bundle\r\n    // extraPackagerArgs = []\r\n\r\n    /* Hermes Commands */\r\n    //   The hermes compiler command to run. By default it is &#39;hermesc&#39;\r\n    // hermesCommand = &quot;$rootDir/my-custom-hermesc/bin/hermesc&quot;\r\n    //\r\n    //   The list of flags to pass to the Hermes compiler. By default is &quot;-O&quot;, &quot;-output-source-map&quot;\r\n    // hermesFlags = [&quot;-O&quot;, &quot;-output-source-map&quot;]\r\n}\r\n\r\n/**\r\n * Set this to true to Run Proguard on Release builds to minify the Java bytecode.\r\n */\r\ndef enableProguardInReleaseBuilds = false\r\n\r\n/**\r\n * The preferred build flavor of JavaScriptCore (JSC)\r\n *\r\n * For example, to use the international variant, you can use:\r\n * `def jscFlavor = &#39;org.webkit:android-jsc-intl:+&#39;`\r\n *\r\n * The international variant includes ICU i18n library and necessary data\r\n * allowing to use e.g. `Date.toLocaleString` and `String.localeCompare` that\r\n * give correct results when using with locales other than en-US. Note that\r\n * this variant is about 6MiB larger per architecture than default.\r\n */\r\ndef jscFlavor = &#39;org.webkit:android-jsc:+&#39;\r\n\r\nandroid {\r\n    ndkVersion rootProject.ext.ndkVersion\r\n\r\n    compileSdkVersion rootProject.ext.compileSdkVersion\r\n\r\n    namespace &quot;com.newapp&quot;\r\n    defaultConfig {\r\n        applicationId &quot;com.newapp&quot;\r\n        minSdkVersion rootProject.ext.minSdkVersion\r\n        targetSdkVersion rootProject.ext.targetSdkVersion\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n    }\r\n    signingConfigs {\r\n        debug {\r\n            storeFile file(&#39;debug.keystore&#39;)\r\n            storePassword &#39;android&#39;\r\n            keyAlias &#39;androiddebugkey&#39;\r\n            keyPassword &#39;android&#39;\r\n        }\r\n    }\r\n    buildTypes {\r\n        debug {\r\n            signingConfig signingConfigs.debug\r\n        }\r\n        release {\r\n            // Caution! In production, you need to generate your own keystore file.\r\n            // see https://reactnative.dev/docs/signed-apk-android.\r\n            signingConfig signingConfigs.debug\r\n            minifyEnabled enableProguardInReleaseBuilds\r\n            proguardFiles getDefaultProguardFile(&quot;proguard-android.txt&quot;), &quot;proguard-rules.pro&quot;\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    // The version of react-native is set by the React Native Gradle Plugin\r\n    implementation(&quot;com.facebook.react:react-android&quot;)\r\n    implementation project(&#39;:react-native-video&#39;)\r\n\r\n//    implementation(platform(&quot;com.google.firebase:firebase-bom:32.1.1&quot;))\r\n//    implementation(&quot;com.google.firebase:firebase-analytics-ktx&quot;)\r\n      implementation(&#39;:react-native-video&#39;)\r\n      implementation &quot;androidx.appcompat:appcompat:1.0.0&quot;\r\n       implementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\r\n    debugImplementation(&quot;com.facebook.flipper:flipper:${FLIPPER_VERSION}&quot;)\r\n    debugImplementation(&quot;com.facebook.flipper:flipper-network-plugin:${FLIPPER_VERSION}&quot;) {\r\n        exclude group:&#39;com.squareup.okhttp3&#39;, module:&#39;okhttp&#39;\r\n    }\r\n\r\n    debugImplementation(&quot;com.facebook.flipper:flipper-fresco-plugin:${FLIPPER_VERSION}&quot;)\r\n    if (hermesEnabled.toBoolean()) {\r\n        implementation(&quot;com.facebook.react:hermes-android&quot;)\r\n    } else {\r\n        implementation jscFlavor\r\n    }\r\n}\r\n\r\nproject.ext.react = [\r\n        enableHermes: true,\r\n        bundleInDebug: true\r\n]\r\n\r\n// also add this to force rebuild reanimated:\r\nproject.ext.reanimated = [\r\n        buildFromSource: true\r\n]\r\n// project.ext.video=[\r\n//     buildFromSource: true\r\n// ]\r\napply from: file(&quot;../../node_modules/@react-native-community/cli-platform-android/native_modules.gradle&quot;); applyNativeModulesAppBuildGradle(project)\r\n\r\n```\r\n**android/build.gradle**\r\n```\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n\r\nbuildscript {\r\n    ext {\r\n        buildToolsVersion = &quot;33.0.0&quot;\r\n        minSdkVersion = 21\r\n        compileSdkVersion = 33\r\n        targetSdkVersion = 33\r\n\r\n        // We use NDK 23 which has both M1 support and is the side-by-side NDK version from AGP.\r\n        ndkVersion = &quot;23.1.7779620&quot;\r\n    }\r\n   repositories {\r\n    google()\r\n    mavenCentral()\r\n    \r\n    //jcenter()\r\n    // maven { url &quot;https://maven.google.com&quot; }\r\n    //  mavenLocal()\r\n        jcenter() {\r\n            content {\r\n                includeModule(&quot;com.yqritc&quot;, &quot;android-scalablevideoview&quot;)\r\n            }\r\n        }\r\n        maven {\r\n            url &#39;https://maven.google.com&#39;\r\n        }\r\n    //     maven {\r\n    //         // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\r\n    //         url &quot;$rootDir/../node_modules/react-native/android&quot;\r\n    //     }\r\n    //      maven { url &quot;https://google.bintray.com/exoplayer&quot; }\r\n}\r\n\r\n    dependencies {\r\n        classpath(&quot;com.android.tools.build:gradle&quot;)\r\n        classpath(&quot;com.facebook.react:react-native-gradle-plugin&quot;)\r\n         //    classpath (&quot;com.google.gms:google-services:4.3.15&quot;)\r\n    }\r\n    allprojects {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n}\r\n}\r\n```\r\n**nodemodules/react-native-video/android-exoplayer/build.gradle**\r\n```\r\napply plugin: &#39;com.android.library&#39;\r\n\r\nandroid {\r\n    compileSdkVersion = 33\r\n    buildToolsVersion = &quot;33.0.0&quot;\r\n\r\n    defaultConfig {\r\n        minSdkVersion = 21\r\n        targetSdkVersion = 33\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation&#39;com.facebook.react:react-native:+&#39;\r\n    implementation &#39;com.google.android.exoplayer:exoplayer:2.7.3&#39;\r\n    implementation(&#39;com.google.android.exoplayer:extension-okhttp:2.7.3&#39;) {\r\n        exclude group: &#39;com.squareup.okhttp3&#39;, module: &#39;okhttp&#39;\r\n    }\r\n    implementation &#39;com.squareup.okhttp3:okhttp:3.9.1&#39;\r\n    }\r\n```\r\n\r\n\r\nI tried all available solution please let me kow what else I can do I have tried cleaning gradle it is getting cleaned bud when I go for **npm run android** it&#39;s giving above error.Whilw I&#39;m expecting that video should be running","title":"Could not resolve project :react-native-video. Required by: project :app &gt; No matching configuration of project :react-native-video was found","body":"<p>#Bug\n**Could not determine the dependencies of task ':app:compileDebugJavaWithJavac'.</p>\n<blockquote>\n<p>Could not resolve all task dependencies for configuration ':app:debugCompileClasspath'.\nCould not resolve project :react-native-video.\nRequired by:\nproject :app\n&gt; No matching configuration of project :react-native-video was found. The consumer was configured to find a component for use during compile-time, preferably optimized for Android, as well as attribute**\n#platform\n#Android\n<strong>package.json</strong></p>\n</blockquote>\n<pre><code>` {\n  &quot;name&quot;: &quot;newapp&quot;,\n  &quot;version&quot;: &quot;0.0.1&quot;,\n  &quot;private&quot;: true,\n  &quot;scripts&quot;: {\n    &quot;android&quot;: &quot;react-native run-android&quot;,\n    &quot;ios&quot;: &quot;react-native run-ios&quot;,\n    &quot;lint&quot;: &quot;eslint .&quot;,\n    &quot;start&quot;: &quot;react-native start&quot;,\n    &quot;test&quot;: &quot;jest&quot;,\n    &quot;postinstall&quot;: &quot;patch-package&quot;\n  },\n  &quot;dependencies&quot;: {\n    &quot;@react-native-async-storage/async-storage&quot;: &quot;^1.19.0&quot;,\n    &quot;@react-native-community/masked-view&quot;: &quot;^0.1.11&quot;,\n    &quot;@react-native-firebase/app&quot;: &quot;^18.1.0&quot;,\n    &quot;@react-native-firebase/auth&quot;: &quot;^18.1.0&quot;,\n    &quot;@react-native-firebase/functions&quot;: &quot;^18.1.0&quot;,\n    &quot;@react-native-firebase/in-app-messaging&quot;: &quot;^18.1.0&quot;,\n    &quot;@react-native-firebase/messaging&quot;: &quot;^18.1.0&quot;,\n    &quot;@react-navigation/bottom-tabs&quot;: &quot;^6.5.8&quot;,\n    &quot;@react-navigation/drawer&quot;: &quot;^6.1.8&quot;,\n    &quot;@react-navigation/elements&quot;: &quot;^1.3.18&quot;,\n    &quot;@react-navigation/material-bottom-tabs&quot;: &quot;^6.2.16&quot;,\n    &quot;@react-navigation/material-top-tabs&quot;: &quot;^6.6.3&quot;,\n    &quot;@react-navigation/native&quot;: &quot;^6.0.6&quot;,\n    &quot;@react-navigation/native-stack&quot;: &quot;^6.9.13&quot;,\n    &quot;@react-navigation/stack&quot;: &quot;^6.0.11&quot;,\n    &quot;deprecated-react-native-prop-types&quot;: &quot;^4.1.0&quot;,\n    &quot;doctor&quot;: &quot;^0.3.0&quot;,\n    &quot;patch-package&quot;: &quot;^7.0.0&quot;,\n    &quot;react&quot;: &quot;18.2.0&quot;,\n    &quot;react-native&quot;: &quot;^0.72.1&quot;,\n    &quot;react-native-gesture-handler&quot;: &quot;^2.12.0&quot;,\n    &quot;react-native-reanimated&quot;: &quot;^3.3.0&quot;,\n    &quot;react-native-safe-area-context&quot;: &quot;^4.6.3&quot;,\n    &quot;react-native-screens&quot;: &quot;^3.22.0&quot;,\n    &quot;react-native-tab-view&quot;: &quot;^3.5.2&quot;,\n    &quot;react-native-vector-icons&quot;: &quot;^9.2.0&quot;,\n    &quot;react-native-video&quot;: &quot;^2.3.1&quot;,\n    &quot;react-native-video-controls&quot;: &quot;^2.8.1&quot;,\n    &quot;react-native-video-player&quot;: &quot;^0.14.0&quot;\n  },\n  &quot;devDependencies&quot;: {\n    &quot;@babel/core&quot;: &quot;^7.20.0&quot;,\n    &quot;@babel/preset-env&quot;: &quot;^7.20.0&quot;,\n    &quot;@babel/runtime&quot;: &quot;^7.20.0&quot;,\n    &quot;@react-native/eslint-config&quot;: &quot;^0.72.2&quot;,\n    &quot;@react-native/metro-config&quot;: &quot;^0.72.7&quot;,\n    &quot;babel-jest&quot;: &quot;^29.2.1&quot;,\n    &quot;eslint&quot;: &quot;^8.19.0&quot;,\n    &quot;jest&quot;: &quot;^29.2.1&quot;,\n    &quot;metro-react-native-babel-preset&quot;: &quot;0.76.5&quot;,\n    &quot;prettier&quot;: &quot;^2.4.1&quot;,\n    &quot;react-test-renderer&quot;: &quot;18.2.0&quot;\n  },\n  &quot;engines&quot;: {\n    &quot;node&quot;: &quot;&gt;=16&quot;\n  }\n}`\n</code></pre>\n<p><strong>settings.gradle</strong></p>\n<pre><code>rootProject.name = 'newapp'\n// apply from: file(&quot;../node_modules/@react-native-community/cli-platform-android/native_modules.gradle&quot;); applyNativeModulesSettingsGradle(settings)\n// include ':app'\n// includeBuild('../node_modules/@react-native/gradle-plugin')\n// include ':react-native-video'\n// project(':react-native-video').projectDir = new File(rootProject.projectDir, '../node_modules/react-native-video/android-exoplayer')\n\n\ninclude ':app'\ninclude ':react-native-video'\nproject(':react-native-video').projectDir = new File(rootProject.projectDir, '../node_modules/react-native-video/android-exoplayer')\nincludeBuild('../node_modules/@react-native/gradle-plugin')\napply from: file(&quot;../node_modules/@react-native-community/cli-platform-android/native_modules.gradle&quot;); applyNativeModulesSettingsGradle(settings)\n</code></pre>\n<p><strong>android/app/build.gradle</strong></p>\n<pre><code>apply plugin: &quot;com.android.application&quot;\napply plugin: &quot;com.facebook.react&quot;\napply from: &quot;../../node_modules/react-native-vector-icons/fonts.gradle&quot;\n//apply plugin:&quot;com.google.gms.google-services&quot;\n\n\n/**\n * This is the configuration block to customize your React Native Android app.\n * By default you don't need to apply any configuration, just uncomment the lines you need.\n */\nreact {\n    /* Folders */\n    //   The root of your project, i.e. where &quot;package.json&quot; lives. Default is '..'\n    // root = file(&quot;../&quot;)\n    //   The folder where the react-native NPM package is. Default is ../node_modules/react-native\n    // reactNativeDir = file(&quot;../node_modules/react-native&quot;)\n    //   The folder where the react-native Codegen package is. Default is ../node_modules/@react-native/codegen\n    // codegenDir = file(&quot;../node_modules/@react-native/codegen&quot;)\n    //   The cli.js file which is the React Native CLI entrypoint. Default is ../node_modules/react-native/cli.js\n    // cliFile = file(&quot;../node_modules/react-native/cli.js&quot;)\n\n    /* Variants */\n    //   The list of variants to that are debuggable. For those we're going to\n    //   skip the bundling of the JS bundle and the assets. By default is just 'debug'.\n    //   If you add flavors like lite, prod, etc. you'll have to list your debuggableVariants.\n    // debuggableVariants = [&quot;liteDebug&quot;, &quot;prodDebug&quot;]\n\n    /* Bundling */\n    //   A list containing the node command and its flags. Default is just 'node'.\n    // nodeExecutableAndArgs = [&quot;node&quot;]\n    //\n    //   The command to run when bundling. By default is 'bundle'\n    // bundleCommand = &quot;ram-bundle&quot;\n    //\n    //   The path to the CLI configuration file. Default is empty.\n    // bundleConfig = file(../rn-cli.config.js)\n    //\n    //   The name of the generated asset file containing your JS bundle\n    // bundleAssetName = &quot;MyApplication.android.bundle&quot;\n    //\n    //   The entry file for bundle generation. Default is 'index.android.js' or 'index.js'\n    // entryFile = file(&quot;../js/MyApplication.android.js&quot;)\n    //\n    //   A list of extra flags to pass to the 'bundle' commands.\n    //   See https://github.com/react-native-community/cli/blob/main/docs/commands.md#bundle\n    // extraPackagerArgs = []\n\n    /* Hermes Commands */\n    //   The hermes compiler command to run. By default it is 'hermesc'\n    // hermesCommand = &quot;$rootDir/my-custom-hermesc/bin/hermesc&quot;\n    //\n    //   The list of flags to pass to the Hermes compiler. By default is &quot;-O&quot;, &quot;-output-source-map&quot;\n    // hermesFlags = [&quot;-O&quot;, &quot;-output-source-map&quot;]\n}\n\n/**\n * Set this to true to Run Proguard on Release builds to minify the Java bytecode.\n */\ndef enableProguardInReleaseBuilds = false\n\n/**\n * The preferred build flavor of JavaScriptCore (JSC)\n *\n * For example, to use the international variant, you can use:\n * `def jscFlavor = 'org.webkit:android-jsc-intl:+'`\n *\n * The international variant includes ICU i18n library and necessary data\n * allowing to use e.g. `Date.toLocaleString` and `String.localeCompare` that\n * give correct results when using with locales other than en-US. Note that\n * this variant is about 6MiB larger per architecture than default.\n */\ndef jscFlavor = 'org.webkit:android-jsc:+'\n\nandroid {\n    ndkVersion rootProject.ext.ndkVersion\n\n    compileSdkVersion rootProject.ext.compileSdkVersion\n\n    namespace &quot;com.newapp&quot;\n    defaultConfig {\n        applicationId &quot;com.newapp&quot;\n        minSdkVersion rootProject.ext.minSdkVersion\n        targetSdkVersion rootProject.ext.targetSdkVersion\n        versionCode 1\n        versionName &quot;1.0&quot;\n    }\n    signingConfigs {\n        debug {\n            storeFile file('debug.keystore')\n            storePassword 'android'\n            keyAlias 'androiddebugkey'\n            keyPassword 'android'\n        }\n    }\n    buildTypes {\n        debug {\n            signingConfig signingConfigs.debug\n        }\n        release {\n            // Caution! In production, you need to generate your own keystore file.\n            // see https://reactnative.dev/docs/signed-apk-android.\n            signingConfig signingConfigs.debug\n            minifyEnabled enableProguardInReleaseBuilds\n            proguardFiles getDefaultProguardFile(&quot;proguard-android.txt&quot;), &quot;proguard-rules.pro&quot;\n        }\n    }\n}\n\ndependencies {\n    // The version of react-native is set by the React Native Gradle Plugin\n    implementation(&quot;com.facebook.react:react-android&quot;)\n    implementation project(':react-native-video')\n\n//    implementation(platform(&quot;com.google.firebase:firebase-bom:32.1.1&quot;))\n//    implementation(&quot;com.google.firebase:firebase-analytics-ktx&quot;)\n      implementation(':react-native-video')\n      implementation &quot;androidx.appcompat:appcompat:1.0.0&quot;\n       implementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\n    debugImplementation(&quot;com.facebook.flipper:flipper:${FLIPPER_VERSION}&quot;)\n    debugImplementation(&quot;com.facebook.flipper:flipper-network-plugin:${FLIPPER_VERSION}&quot;) {\n        exclude group:'com.squareup.okhttp3', module:'okhttp'\n    }\n\n    debugImplementation(&quot;com.facebook.flipper:flipper-fresco-plugin:${FLIPPER_VERSION}&quot;)\n    if (hermesEnabled.toBoolean()) {\n        implementation(&quot;com.facebook.react:hermes-android&quot;)\n    } else {\n        implementation jscFlavor\n    }\n}\n\nproject.ext.react = [\n        enableHermes: true,\n        bundleInDebug: true\n]\n\n// also add this to force rebuild reanimated:\nproject.ext.reanimated = [\n        buildFromSource: true\n]\n// project.ext.video=[\n//     buildFromSource: true\n// ]\napply from: file(&quot;../../node_modules/@react-native-community/cli-platform-android/native_modules.gradle&quot;); applyNativeModulesAppBuildGradle(project)\n\n</code></pre>\n<p><strong>android/build.gradle</strong></p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext {\n        buildToolsVersion = &quot;33.0.0&quot;\n        minSdkVersion = 21\n        compileSdkVersion = 33\n        targetSdkVersion = 33\n\n        // We use NDK 23 which has both M1 support and is the side-by-side NDK version from AGP.\n        ndkVersion = &quot;23.1.7779620&quot;\n    }\n   repositories {\n    google()\n    mavenCentral()\n    \n    //jcenter()\n    // maven { url &quot;https://maven.google.com&quot; }\n    //  mavenLocal()\n        jcenter() {\n            content {\n                includeModule(&quot;com.yqritc&quot;, &quot;android-scalablevideoview&quot;)\n            }\n        }\n        maven {\n            url 'https://maven.google.com'\n        }\n    //     maven {\n    //         // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\n    //         url &quot;$rootDir/../node_modules/react-native/android&quot;\n    //     }\n    //      maven { url &quot;https://google.bintray.com/exoplayer&quot; }\n}\n\n    dependencies {\n        classpath(&quot;com.android.tools.build:gradle&quot;)\n        classpath(&quot;com.facebook.react:react-native-gradle-plugin&quot;)\n         //    classpath (&quot;com.google.gms:google-services:4.3.15&quot;)\n    }\n    allprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n}\n</code></pre>\n<p><strong>nodemodules/react-native-video/android-exoplayer/build.gradle</strong></p>\n<pre><code>apply plugin: 'com.android.library'\n\nandroid {\n    compileSdkVersion = 33\n    buildToolsVersion = &quot;33.0.0&quot;\n\n    defaultConfig {\n        minSdkVersion = 21\n        targetSdkVersion = 33\n    }\n}\n\ndependencies {\n    implementation'com.facebook.react:react-native:+'\n    implementation 'com.google.android.exoplayer:exoplayer:2.7.3'\n    implementation('com.google.android.exoplayer:extension-okhttp:2.7.3') {\n        exclude group: 'com.squareup.okhttp3', module: 'okhttp'\n    }\n    implementation 'com.squareup.okhttp3:okhttp:3.9.1'\n    }\n</code></pre>\n<p>I tried all available solution please let me kow what else I can do I have tried cleaning gradle it is getting cleaned bud when I go for <strong>npm run android</strong> it's giving above error.Whilw I'm expecting that video should be running</p>\n"},{"tags":["java","hibernate","jakarta-migration"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1689062670,"post_id":76659485,"comment_id":135156186,"body_markdown":"Ditch `hibernate-entitymanager` as that isn&#39;t needed anyumore. All the `org.hibernate.orm` versions in use should match. You are mixing different versions. I would also suggest to do things one by one. First java upgrade, next maven (or vice-versa) then start to upgrade to tomcat 10 (only change servlet stuff and keep old hibernate), then lastly upgrade hibernate. Finally you seem to have some custom code for Hibernate which needs to be migrated as well, classes in hibernate have been removed/replaced so fix your custom code as well. It isn&#39;t a drop in replacement.","body":"Ditch <code>hibernate-entitymanager</code> as that isn&#39;t needed anyumore. All the <code>org.hibernate.orm</code> versions in use should match. You are mixing different versions. I would also suggest to do things one by one. First java upgrade, next maven (or vice-versa) then start to upgrade to tomcat 10 (only change servlet stuff and keep old hibernate), then lastly upgrade hibernate. Finally you seem to have some custom code for Hibernate which needs to be migrated as well, classes in hibernate have been removed/replaced so fix your custom code as well. It isn&#39;t a drop in replacement."},{"owner":{"account_id":9121213,"reputation":101,"user_id":6786559,"display_name":"Saran"},"score":0,"creation_date":1689063807,"post_id":76659485,"comment_id":135156457,"body_markdown":"Thanks for the comments. Yes i have been doing step by step. Finally after trying to upgrade hibernate got stuck in it. So yes i will try to replace with all the org.hibernate.orm versions. and some of the functions are missing/removed in the hibernate library. Not sure how to replace the existing. Any  reference on how to use hibernate for latest stack? Thanks.","body":"Thanks for the comments. Yes i have been doing step by step. Finally after trying to upgrade hibernate got stuck in it. So yes i will try to replace with all the org.hibernate.orm versions. and some of the functions are missing/removed in the hibernate library. Not sure how to replace the existing. Any  reference on how to use hibernate for latest stack? Thanks."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689064024,"post_id":76659485,"comment_id":135156506,"body_markdown":"I would strongly suggest to chck the Hibernate release notes, those tell you generally what to modify.","body":"I would strongly suggest to chck the Hibernate release notes, those tell you generally what to modify."}],"owner":{"account_id":9121213,"reputation":101,"user_id":6786559,"display_name":"Saran"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689072124,"creation_date":1689059694,"question_id":76659485,"body_markdown":"While Migrating java hybrid Application from java 8 to java 17 with latest maven version. Here are the following version changes during migration.\r\n\r\n\\-\\&gt; Jdk8 to jdk17\r\n\r\n\r\n\\-\\&gt; Maven 3.1 to maven 3.8.6\r\n\r\n\r\n\\-\\&gt; Tomcat 7 to Tomcat 10.\r\n\r\n\\-\\&gt; Migrate javax to jakarta servlet.\r\n\r\nHere are the following parent pom details as per new stack version:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\r\n\t&lt;version&gt;10.0.0&lt;/version&gt;\r\n\t&lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t&lt;exclusions&gt;\r\n\t\t&lt;exclusion&gt;\r\n\t\t\t&lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\r\n\t\t\t&lt;groupId&gt;xml-apis&lt;/groupId&gt;\r\n\t\t&lt;/exclusion&gt;\r\n\t&lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t&lt;exclusions&gt;\r\n\t\t&lt;exclusion&gt;\r\n\t\t\t&lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\r\n\t\t\t&lt;groupId&gt;xml-apis&lt;/groupId&gt;\r\n\t\t&lt;/exclusion&gt;\r\n\t&lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t&lt;version&gt;6.1.7.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n\t&lt;version&gt;6.0.0.Alpha7&lt;/version&gt;\r\n\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;hibernate-envers-jakarta&lt;/artifactId&gt;\r\n\t&lt;version&gt;6.0.0.Alpha9&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n\t&lt;version&gt;8.0.0.Final&lt;/version&gt;\r\n\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n      \r\n\r\n&gt; Following errors which i face during build project:\r\n```\r\ncannot find symbol \r\n[ERROR]   symbol:   class LogicalAuditExpression\r\n[ERROR]   location: package org.hibernate.envers.query.criteria cannot find symbol \r\n[ERROR]   symbol:   class JavaTypeDescriptor\r\n[ERROR]   location: package org.hibernate.type.descriptor.java cannot find symbol \r\n[ERROR]   symbol:   class BasicBinder \r\n[ERROR]   location: package org.hibernate.type.descriptor.sql cannot find symbol \r\n[ERROR]   symbol:   class SqlTypeDescriptor \r\n[ERROR]   location: class com.xxx.framework.base.jdbc.postgresql.PostgreSQLDialect cannot find symbol \r\n[ERROR]   symbol:   class YesNoType \r\n[ERROR]   location: package org.hibernate.type package org.hibernate.service.jdbc.dialect.internal does not exist\r\n```\r\n\r\nI tried changing hibernate core library version, still the error persists. Can you help to resolve or share any example related to hibernate with java 17? and also i cannot find hibernate.jpa library related to jakarta.\r\n\r\nI tried changing versions and library based on java 17. I want to build with latest stack version.","title":"How to rectify/resolve the compilation errors during migrating to Hibernate 6?","body":"<p>While Migrating java hybrid Application from java 8 to java 17 with latest maven version. Here are the following version changes during migration.</p>\n<p>-&gt; Jdk8 to jdk17</p>\n<p>-&gt; Maven 3.1 to maven 3.8.6</p>\n<p>-&gt; Tomcat 7 to Tomcat 10.</p>\n<p>-&gt; Migrate javax to jakarta servlet.</p>\n<p>Here are the following parent pom details as per new stack version:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\n    &lt;version&gt;10.0.0&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n    &lt;version&gt;3.0.1&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\n            &lt;groupId&gt;xml-apis&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n    &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\n            &lt;groupId&gt;xml-apis&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n    &lt;version&gt;6.1.7.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n    &lt;version&gt;6.0.0.Alpha7&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-envers-jakarta&lt;/artifactId&gt;\n    &lt;version&gt;6.0.0.Alpha9&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n    &lt;version&gt;8.0.0.Final&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<blockquote>\n<p>Following errors which i face during build project:</p>\n</blockquote>\n<pre><code>cannot find symbol \n[ERROR]   symbol:   class LogicalAuditExpression\n[ERROR]   location: package org.hibernate.envers.query.criteria cannot find symbol \n[ERROR]   symbol:   class JavaTypeDescriptor\n[ERROR]   location: package org.hibernate.type.descriptor.java cannot find symbol \n[ERROR]   symbol:   class BasicBinder \n[ERROR]   location: package org.hibernate.type.descriptor.sql cannot find symbol \n[ERROR]   symbol:   class SqlTypeDescriptor \n[ERROR]   location: class com.xxx.framework.base.jdbc.postgresql.PostgreSQLDialect cannot find symbol \n[ERROR]   symbol:   class YesNoType \n[ERROR]   location: package org.hibernate.type package org.hibernate.service.jdbc.dialect.internal does not exist\n</code></pre>\n<p>I tried changing hibernate core library version, still the error persists. Can you help to resolve or share any example related to hibernate with java 17? and also i cannot find hibernate.jpa library related to jakarta.</p>\n<p>I tried changing versions and library based on java 17. I want to build with latest stack version.</p>\n"},{"tags":["java","asynchronous","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689072118,"creation_date":1689072118,"answer_id":76661134,"question_id":76657931,"body_markdown":"You can do it as follows:\r\n\r\n        serviceA.getRequestParams()\r\n                .flatMapMany(result -&gt; Flux.just(buildRequest1(), buildRequest2())\r\n                .flatMap(request -&gt; serviceB.doSomething(request))\r\n\r\nyou will get a `Flux` of responses","title":"Java Project Reactor - compose the same mono twice with different arguments","body":"<p>You can do it as follows:</p>\n<pre><code>    serviceA.getRequestParams()\n            .flatMapMany(result -&gt; Flux.just(buildRequest1(), buildRequest2())\n            .flatMap(request -&gt; serviceB.doSomething(request))\n</code></pre>\n<p>you will get a <code>Flux</code> of responses</p>\n"}],"owner":{"account_id":3415088,"reputation":193,"user_id":2864236,"display_name":"Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689072118,"creation_date":1689032542,"question_id":76657931,"body_markdown":"Suppose I have a function ```java Mono&lt;Response&gt; doSomething(Request request)``` in service B which accepts an argument and returns a parameter.\r\nWhat would be the best way to compose this function twice using different arguments with some reactive operator, so that each call occurs asynchronously, and the result can be processed?\r\nIf I were to use zip, I would essentially be looking for something like the following:\r\n```java\r\nreturn\r\nserviceA.getRequestParams()\r\n.map(result -&gt; buildRequest1(), buildReqest2() )\r\n.zip( request1 -&gt; serviceB.doSomething(request1), request2 -&gt; serviceB.doSomething(request2)\r\n.flatMap( response -&gt; {\r\n  response1 = response.getT1();\r\n  response2 = response.getT2():\r\n...\r\n});\r\n```\r\nI haven&#39;t found a way to do this with zip ( passing in an argument) so I&#39;m sure there&#39;s a better operator I can use.\r\nWhat would be the best option to achieve something like this?","title":"Java Project Reactor - compose the same mono twice with different arguments","body":"<p>Suppose I have a function <code>java Mono&lt;Response&gt; doSomething(Request request)</code> in service B which accepts an argument and returns a parameter.\nWhat would be the best way to compose this function twice using different arguments with some reactive operator, so that each call occurs asynchronously, and the result can be processed?\nIf I were to use zip, I would essentially be looking for something like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return\nserviceA.getRequestParams()\n.map(result -&gt; buildRequest1(), buildReqest2() )\n.zip( request1 -&gt; serviceB.doSomething(request1), request2 -&gt; serviceB.doSomething(request2)\n.flatMap( response -&gt; {\n  response1 = response.getT1();\n  response2 = response.getT2():\n...\n});\n</code></pre>\n<p>I haven't found a way to do this with zip ( passing in an argument) so I'm sure there's a better operator I can use.\nWhat would be the best option to achieve something like this?</p>\n"},{"tags":["java","security","jenkins","continuous-integration","rest-assured"],"owner":{"account_id":9243671,"reputation":1,"user_id":6866242,"display_name":"Ravi Prakash Jakkamputi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689071785,"creation_date":1689071382,"question_id":76661036,"body_markdown":"From Rest Assured I sent a get request to obtain jenkins crumb without authentication details (user and user token), I could get the crumb and used it along with project api token to trigger build for the project using post request. I have not provided the authentication details for the post request also. \r\n\r\nMy expectation is that crumb should be accessed only by valid user and only that specific user should be able to use the crumb to trigger the job.\r\nWhat kind of security configuration should I do in Jenkins?\r\n\r\nInstalled Jenkins 2.401.2 in local machine as windows service.\r\nIn security configuration,\r\nchanged Authorization as &quot;Logged-in user can do anything&quot; and\r\nchecked the checkbox &quot;Allow anonymous read access&quot;.\r\nCSRF Protection setting is changed as &quot;strict crumb issuer&quot; and unchecked &quot;check session id&quot;.\r\nGenerated api token for a project as &quot;supersecret&quot;.\r\n\r\nFrom Rest assured used following code to get the crumb\r\n```\r\nResponse r = given().baseUri(&quot;http://localhost:8081&quot;)\r\n\t\t\t\t.contentType(ContentType.JSON)\r\n\t\t\t\t.log().all()\r\n\t\t\t\t.get(&quot;crumbIssuer/api/json&quot;);\r\n```\r\nI have extracted the crumb from the response to variable s and triggered build for the project with api token using following code\r\n```\r\ngiven().baseUri(&quot;http://localhost:8081&quot;).contentType(ContentType.JSON)\r\n\t\t\t\t.basePath(&quot;/job/ExampleJenkins&quot;)\r\n\t\t\t\t.contentType(ContentType.JSON)\r\n\t\t\t\t.header(&quot;Jenkins-Crumb&quot;, s)\r\n                                .post(&quot;/build?token=supersecret&quot;);\r\n```\r\nBuild got triggered for the job &quot;ExampleJenkins&quot;. \r\nIs it possible change security setting so that only any authenticated user using code\r\n.auth().basic(&quot;jenkinsuser&quot;,&quot;usertoken&quot;) \r\nshould be able to get the crumb and trigger the build\r\n\r\nI tried by changing the Authorization setting to not allow Anonymous read access, then I am not able to do the job with valid user credentials also. So, please suggest correct configuration setting for my problem","title":"Unauthenticated client is able to get jenkins crumb and trigger project build using the crumb","body":"<p>From Rest Assured I sent a get request to obtain jenkins crumb without authentication details (user and user token), I could get the crumb and used it along with project api token to trigger build for the project using post request. I have not provided the authentication details for the post request also.</p>\n<p>My expectation is that crumb should be accessed only by valid user and only that specific user should be able to use the crumb to trigger the job.\nWhat kind of security configuration should I do in Jenkins?</p>\n<p>Installed Jenkins 2.401.2 in local machine as windows service.\nIn security configuration,\nchanged Authorization as &quot;Logged-in user can do anything&quot; and\nchecked the checkbox &quot;Allow anonymous read access&quot;.\nCSRF Protection setting is changed as &quot;strict crumb issuer&quot; and unchecked &quot;check session id&quot;.\nGenerated api token for a project as &quot;supersecret&quot;.</p>\n<p>From Rest assured used following code to get the crumb</p>\n<pre><code>Response r = given().baseUri(&quot;http://localhost:8081&quot;)\n                .contentType(ContentType.JSON)\n                .log().all()\n                .get(&quot;crumbIssuer/api/json&quot;);\n</code></pre>\n<p>I have extracted the crumb from the response to variable s and triggered build for the project with api token using following code</p>\n<pre><code>given().baseUri(&quot;http://localhost:8081&quot;).contentType(ContentType.JSON)\n                .basePath(&quot;/job/ExampleJenkins&quot;)\n                .contentType(ContentType.JSON)\n                .header(&quot;Jenkins-Crumb&quot;, s)\n                                .post(&quot;/build?token=supersecret&quot;);\n</code></pre>\n<p>Build got triggered for the job &quot;ExampleJenkins&quot;.\nIs it possible change security setting so that only any authenticated user using code\n.auth().basic(&quot;jenkinsuser&quot;,&quot;usertoken&quot;)\nshould be able to get the crumb and trigger the build</p>\n<p>I tried by changing the Authorization setting to not allow Anonymous read access, then I am not able to do the job with valid user credentials also. So, please suggest correct configuration setting for my problem</p>\n"},{"tags":["java","gradle","gradle-plugin"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689101795,"post_id":76657343,"comment_id":135164806,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28989980,"reputation":1,"user_id":22205981,"display_name":"Aleksey Fomichev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689071568,"creation_date":1689023185,"question_id":76657343,"body_markdown":"My plugin repository requires user and password credentials, I tried to use credentials plugin, but it&#39;s not possible to access credentials plugin in pluginManagement section in settings.gradle and there is no sence to use it only for build sections because I have to use unecrypted userName and password in pluginManagement section.\r\n\r\nI tried to use credentials plugin in pluginManagenent section","title":"Is there any way to use encrypted password in pluginManagement section gradle","body":"<p>My plugin repository requires user and password credentials, I tried to use credentials plugin, but it's not possible to access credentials plugin in pluginManagement section in settings.gradle and there is no sence to use it only for build sections because I have to use unecrypted userName and password in pluginManagement section.</p>\n<p>I tried to use credentials plugin in pluginManagenent section</p>\n"},{"tags":["java","logging","log4j","amazon-ses","smtpappender"],"answers":[{"tags":[],"owner":{"account_id":4330484,"reputation":571,"user_id":3536157,"display_name":"Hiren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1628500301,"creation_date":1628500301,"answer_id":68709545,"question_id":68592665,"body_markdown":"Solution: I have used 1.6.4 version for mailapi and smtp jars.","title":"java mail aws smtp: javax.mail.AuthenticationFailedException: 220 Ready to start TLS","body":"<p>Solution: I have used 1.6.4 version for mailapi and smtp jars.</p>\n"},{"tags":[],"owner":{"account_id":3940837,"reputation":2674,"user_id":4443351,"accept_rate":71,"display_name":"Bizon4ik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637157183,"creation_date":1637157183,"answer_id":70005643,"question_id":68592665,"body_markdown":"Replace\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.mail-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\non \r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.mail&lt;/artifactId&gt;\r\n        &lt;version&gt;1.6.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n","title":"java mail aws smtp: javax.mail.AuthenticationFailedException: 220 Ready to start TLS","body":"<p>Replace</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.mail-api&lt;/artifactId&gt;\n        &lt;version&gt;1.6.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>on</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.mail&lt;/artifactId&gt;\n    &lt;version&gt;1.6.7&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5822379,"reputation":91,"user_id":4590004,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689071423,"creation_date":1689071423,"answer_id":76661042,"question_id":68592665,"body_markdown":"I managed to pass through this error simply by adding the following JVM properties : \r\n\r\n&gt; -Djdk.tls.client.protocols=TLSv1.2  \r\n&gt; -Dhttps.protocols=SSLv3,TLSv1,TLSv1.1,TLSv1.2  \r\n&gt; -Dmail.smtp.ssl.protocols=TLSv1.2\r\n","title":"java mail aws smtp: javax.mail.AuthenticationFailedException: 220 Ready to start TLS","body":"<p>I managed to pass through this error simply by adding the following JVM properties :</p>\n<blockquote>\n<p>-Djdk.tls.client.protocols=TLSv1.2<br />\n-Dhttps.protocols=SSLv3,TLSv1,TLSv1.1,TLSv1.2<br />\n-Dmail.smtp.ssl.protocols=TLSv1.2</p>\n</blockquote>\n"}],"owner":{"account_id":4330484,"reputation":571,"user_id":3536157,"display_name":"Hiren"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1886,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68709545,"answer_count":3,"score":2,"last_activity_date":1689071423,"creation_date":1627655314,"question_id":68592665,"body_markdown":"I have configured the below properties for smtp appender. the same configuration works fine in local but getting error on AWS\r\n\r\n    log4j.appender.email=org.apache.log4j.net.SMTPAppender\r\n    log4j.appender.email.BufferSize=20\r\n    log4j.appender.email.SMTPHost=email-smtp.us-east-1.amazonaws.com\r\n    log4j.appender.email.SMTPUsername=&lt;username&gt;\r\n    log4j.appender.email.SMTPPassword=&lt;password&gt;\r\n    log4j.appender.email.SMTPPort=587\r\n    log4j.appender.email.From=&lt;from@email&gt;\r\n    log4j.appender.email.To=&lt;to@email&gt;\r\n    log4j.appender.email.Subject=&lt;Subjec&gt;\r\n    log4j.appender.email.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.email.layout.ConversionPattern=%d %-5p [%t] (%c{1}:%L) - %m%n\r\n    log4j.appender.email.SMTPDebug=true\r\n    log4j.appender.email.EnableSsl=true\r\n    log4j.appender.email.smtp.starttls.enable=true\r\n    log4j.appender.email.smtp.auth=true\r\n    log4j.appender.email.TLS=true","title":"java mail aws smtp: javax.mail.AuthenticationFailedException: 220 Ready to start TLS","body":"<p>I have configured the below properties for smtp appender. the same configuration works fine in local but getting error on AWS</p>\n<pre><code>log4j.appender.email=org.apache.log4j.net.SMTPAppender\nlog4j.appender.email.BufferSize=20\nlog4j.appender.email.SMTPHost=email-smtp.us-east-1.amazonaws.com\nlog4j.appender.email.SMTPUsername=&lt;username&gt;\nlog4j.appender.email.SMTPPassword=&lt;password&gt;\nlog4j.appender.email.SMTPPort=587\nlog4j.appender.email.From=&lt;from@email&gt;\nlog4j.appender.email.To=&lt;to@email&gt;\nlog4j.appender.email.Subject=&lt;Subjec&gt;\nlog4j.appender.email.layout=org.apache.log4j.PatternLayout\nlog4j.appender.email.layout.ConversionPattern=%d %-5p [%t] (%c{1}:%L) - %m%n\nlog4j.appender.email.SMTPDebug=true\nlog4j.appender.email.EnableSsl=true\nlog4j.appender.email.smtp.starttls.enable=true\nlog4j.appender.email.smtp.auth=true\nlog4j.appender.email.TLS=true\n</code></pre>\n"},{"tags":["java","firebase","google-cloud-platform","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689055067,"creation_date":1689055067,"answer_id":76659045,"question_id":76655731,"body_markdown":"&gt; And I want to query it from Java to get all orders where any item status would be equal to TEST. Is it possible?\r\n\r\nThat&#39;s currently not possible. You cannot query a collection based on a value that exists within objects that exist in an array field. You could however query using an entire object and call [Query#whereArrayContains()][1]. So instead of trying to query based only on the value of `status` you have queried based on an object that contains all three fields. Besides that, the following query would have worked:\r\n\r\n    Query query = ordersRef.whereEqualTo(&quot;client.items.status&quot;, &quot;TEST&quot;);\r\n\r\nIf that data would have been added as a map (object) and not as an array.\r\n\r\nHowever, to solve such a problem you should consider creating a sub-collection called `items` inside each document. In this way, a query like this should do the trick:\r\n\r\n```\r\nQuery queryByStatus = dbFirestore.collectionGroup(&quot;orders&quot;).whereEqualTo(&quot;status&quot;, &quot;TEST&quot;);\r\n```\r\n\r\nWhen using such a query, please also don&#39;t forget to create an [index][2].\r\n\r\nWhy would you use this solution? Simply because there are no limitations. When you store lots of objects inside an array, you might hit the [maximum limit of  1 Mib][3] per document.\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/Query#whereArrayContains(java.lang.String,java.lang.Object)\r\n  [2]: https://stackoverflow.com/questions/50305328/firestore-whereequalto-orderby-and-limit1-not-working\r\n  [3]: https://firebase.google.com/docs/firestore/quotas#limits","title":"Firestore - Query by field in array with java","body":"<blockquote>\n<p>And I want to query it from Java to get all orders where any item status would be equal to TEST. Is it possible?</p>\n</blockquote>\n<p>That's currently not possible. You cannot query a collection based on a value that exists within objects that exist in an array field. You could however query using an entire object and call <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/Query#whereArrayContains(java.lang.String,java.lang.Object)\" rel=\"nofollow noreferrer\">Query#whereArrayContains()</a>. So instead of trying to query based only on the value of <code>status</code> you have queried based on an object that contains all three fields. Besides that, the following query would have worked:</p>\n<pre><code>Query query = ordersRef.whereEqualTo(&quot;client.items.status&quot;, &quot;TEST&quot;);\n</code></pre>\n<p>If that data would have been added as a map (object) and not as an array.</p>\n<p>However, to solve such a problem you should consider creating a sub-collection called <code>items</code> inside each document. In this way, a query like this should do the trick:</p>\n<pre><code>Query queryByStatus = dbFirestore.collectionGroup(&quot;orders&quot;).whereEqualTo(&quot;status&quot;, &quot;TEST&quot;);\n</code></pre>\n<p>When using such a query, please also don't forget to create an <a href=\"https://stackoverflow.com/questions/50305328/firestore-whereequalto-orderby-and-limit1-not-working\">index</a>.</p>\n<p>Why would you use this solution? Simply because there are no limitations. When you store lots of objects inside an array, you might hit the <a href=\"https://firebase.google.com/docs/firestore/quotas#limits\" rel=\"nofollow noreferrer\">maximum limit of  1 Mib</a> per document.</p>\n"}],"owner":{"account_id":7115068,"reputation":109,"user_id":5441668,"accept_rate":100,"display_name":"Asenjo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76659045,"answer_count":1,"score":0,"last_activity_date":1689071335,"creation_date":1689007201,"question_id":76655731,"body_markdown":"I have data in Firestore like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd I want to query it **from Java** to *get all orders where any item status would be equal to TEST*. Is it possible?\r\n\r\nIt works fine when I get all orders from client like:\r\n\r\n    CollectionReference ordersRef = dbFirestore.collection(&quot;orders&quot;);    \r\n    Query query = ordersRef.whereEqualTo(&quot;client&quot;, &quot;client1&quot;);\r\n\r\n\r\nBut I couldn&#39;t do it as I need. I try this\r\n\r\n    CollectionReference ordersRef = dbFirestore.collection(&quot;orders&quot;);    \r\n    Query query = ordersRef.whereEqualTo(&quot;items.status&quot;, &quot;TEST&quot;);\r\n\r\nbut it returns an empty array\r\n\r\n\r\n*****\r\n**UPDATE AFTER [ALEX&#39;S ANSWER][2]**\r\n****\r\n\r\nIf I convert items in a Map like:\r\n[![][3]][3]\r\nthen this query works fine\r\n\r\n    Query query = ordersRef.whereEqualTo(&quot;orders.items.status&quot;, &quot;TEST&quot;);\r\n\r\nbut this doesn&#180;t resolve the problem because the items Map need to have several objects like\r\n[![enter image description here][4]][4]\r\n\r\n--\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gbkew.png\r\n  [2]: https://stackoverflow.com/a/76659045/5441668\r\n  [3]: https://i.stack.imgur.com/xUHBZ.png\r\n  [4]: https://i.stack.imgur.com/PNWqf.png","title":"Firestore - Query by field in array with java","body":"<p>I have data in Firestore like this:</p>\n<p><a href=\"https://i.stack.imgur.com/gbkew.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gbkew.png\" alt=\"enter image description here\" /></a></p>\n<p>And I want to query it <strong>from Java</strong> to <em>get all orders where any item status would be equal to TEST</em>. Is it possible?</p>\n<p>It works fine when I get all orders from client like:</p>\n<pre><code>CollectionReference ordersRef = dbFirestore.collection(&quot;orders&quot;);    \nQuery query = ordersRef.whereEqualTo(&quot;client&quot;, &quot;client1&quot;);\n</code></pre>\n<p>But I couldn't do it as I need. I try this</p>\n<pre><code>CollectionReference ordersRef = dbFirestore.collection(&quot;orders&quot;);    \nQuery query = ordersRef.whereEqualTo(&quot;items.status&quot;, &quot;TEST&quot;);\n</code></pre>\n<p>but it returns an empty array</p>\n<hr />\n<p><strong>UPDATE AFTER <a href=\"https://stackoverflow.com/a/76659045/5441668\">ALEX'S ANSWER</a></strong></p>\n<hr />\n<p>If I convert items in a Map like:\n<a href=\"https://i.stack.imgur.com/xUHBZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xUHBZ.png\" alt=\"\" /></a>\nthen this query works fine</p>\n<pre><code>Query query = ordersRef.whereEqualTo(&quot;orders.items.status&quot;, &quot;TEST&quot;);\n</code></pre>\n<p>but this doesn´t resolve the problem because the items Map need to have several objects like\n<a href=\"https://i.stack.imgur.com/PNWqf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PNWqf.png\" alt=\"enter image description here\" /></a></p>\n<p>--</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1622135564,"post_id":67726910,"comment_id":119710967,"body_markdown":"You cannot pass a query to a repository method unless you are willing to write a custom repository fragment. Could you please explain why the query needs to be passed as an argument in the first place?","body":"You cannot pass a query to a repository method unless you are willing to write a custom repository fragment. Could you please explain why the query needs to be passed as an argument in the first place?"},{"owner":{"account_id":15234450,"reputation":29,"user_id":10992571,"display_name":"Aman Singh"},"score":0,"creation_date":1622136168,"post_id":67726910,"comment_id":119711215,"body_markdown":"actually , I need a dynamic query in which no of columns can be differ, so i prepared a query based on logic and passed as argument .  And in native query to access argument value we use &quot;:argument_variable &quot;.  So whole query will be replaced by my passed query.  I also tried  custom repository  fragment but it doesn&#39;t work.","body":"actually , I need a dynamic query in which no of columns can be differ, so i prepared a query based on logic and passed as argument .  And in native query to access argument value we use &quot;:argument_variable &quot;.  So whole query will be replaced by my passed query.  I also tried  custom repository  fragment but it doesn&#39;t work."},{"owner":{"account_id":343791,"reputation":4101,"user_id":675723,"accept_rate":77,"display_name":"BadZen"},"score":1,"creation_date":1624234584,"post_id":67726910,"comment_id":120294838,"body_markdown":"If you just want to execute arbitrary queries, JPA repositories are not the correct facility to use.","body":"If you just want to execute arbitrary queries, JPA repositories are not the correct facility to use."}],"answers":[{"tags":[],"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622136701,"creation_date":1622136701,"answer_id":67727207,"question_id":67726910,"body_markdown":"You cannot replace arbitrary fragments of the query using a query parameter. Only very specific sections of the query allow parameters. \r\n\r\nIf you need dynamic queries, Specifications or QueryDSL is what you want. ","title":"How to pass complete query as String in repository method as argument and use with the @Query Annotation?","body":"<p>You cannot replace arbitrary fragments of the query using a query parameter. Only very specific sections of the query allow parameters.</p>\n<p>If you need dynamic queries, Specifications or QueryDSL is what you want.</p>\n"},{"tags":[],"owner":{"account_id":8903518,"reputation":488,"user_id":8383744,"accept_rate":75,"display_name":"Beez"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1659656716,"creation_date":1659656716,"answer_id":73243272,"question_id":67726910,"body_markdown":"I believe you need to add `@Param(&quot;query&quot;)` into your argument in the repository.\r\n\r\n`List&lt;Object[]&gt; presentDaySummarySmscWise(@Param(&quot;query&quot;) String query);`\r\n","title":"How to pass complete query as String in repository method as argument and use with the @Query Annotation?","body":"<p>I believe you need to add <code>@Param(&quot;query&quot;)</code> into your argument in the repository.</p>\n<p><code>List&lt;Object[]&gt; presentDaySummarySmscWise(@Param(&quot;query&quot;) String query);</code></p>\n"},{"tags":[],"owner":{"account_id":14762278,"reputation":40,"user_id":10661250,"display_name":"prguptadev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689070959,"creation_date":1689070959,"answer_id":76660985,"question_id":67726910,"body_markdown":"     @Query(&quot;#{[0]}&quot;)\r\n     @WithConsistency(QueryScanConsistency.REQUEST_PLUS)\r\n     List&lt;Employee&gt; findByDateAllQuery(String query);","title":"How to pass complete query as String in repository method as argument and use with the @Query Annotation?","body":"<pre><code> @Query(&quot;#{[0]}&quot;)\n @WithConsistency(QueryScanConsistency.REQUEST_PLUS)\n List&lt;Employee&gt; findByDateAllQuery(String query);\n</code></pre>\n"}],"owner":{"account_id":15234450,"reputation":29,"user_id":10992571,"display_name":"Aman Singh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2363,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1689070959,"creation_date":1622135374,"question_id":67726910,"body_markdown":"I prepared a query in serviceImplementation ,After that I passed this query  as method argument  of \r\n presentDaySummarySmscWise(String finalQuery)   Repository method.\r\nIn Repository Interface ,I passed this query  with @Query Annotaion like shown in code.\r\n\r\n**strong text**\r\n//ServiceImplementation class\r\n\r\n\r\n@Service\r\n\r\npublic class ErrorCodeServiceImpl implements ErrorCodeService {\r\n\t\r\n  @Autowired\r\n\r\n\tErrorCodeRepository errorCodeRepo;\r\n   \r\n   @Override\r\n\r\n\tpublic List&lt;Object[]&gt; errorCodeDefaultSummary() {\r\n   \r\n    String finalQuery=&quot;select smsc,vf_reason_code from reason_code_report where \r\n    log_date=&#39;2021-05-27&#39;&quot;;\r\n\r\n    List&lt;Object[]&gt; result =   errorCodeRepo.presentDaySummarySmscWise(finalQuery);\r\n    \r\n    return result;\r\n\r\n   }\r\n**`strong text`**\r\n//Repository\r\n\r\n @Repository\r\n\r\npublic interface ErrorCodeRepository extends JpaRepository&lt;ErrorCodeReportEntity, ErrorCodeReportKeys&gt;{\r\n\r\n@Query(value=&quot;:query&quot;,nativeQuery=true) \r\n\r\nList&lt;Object[]&gt; presentDaySummarySmscWise(String query);\r\n\r\n}\r\n\r\n\r\n\r\n  ","title":"How to pass complete query as String in repository method as argument and use with the @Query Annotation?","body":"<p>I prepared a query in serviceImplementation ,After that I passed this query  as method argument  of\npresentDaySummarySmscWise(String finalQuery)   Repository method.\nIn Repository Interface ,I passed this query  with @Query Annotaion like shown in code.</p>\n<p><strong>strong text</strong>\n//ServiceImplementation class</p>\n<p>@Service</p>\n<p>public class ErrorCodeServiceImpl implements ErrorCodeService {</p>\n<p>@Autowired</p>\n<pre><code>ErrorCodeRepository errorCodeRepo;\n</code></pre>\n<p>@Override</p>\n<pre><code>public List&lt;Object[]&gt; errorCodeDefaultSummary() {\n\nString finalQuery=&quot;select smsc,vf_reason_code from reason_code_report where \nlog_date='2021-05-27'&quot;;\n\nList&lt;Object[]&gt; result =   errorCodeRepo.presentDaySummarySmscWise(finalQuery);\n\nreturn result;\n</code></pre>\n<p>}\n<strong><code>strong text</code></strong>\n//Repository</p>\n<p>@Repository</p>\n<p>public interface ErrorCodeRepository extends JpaRepository&lt;ErrorCodeReportEntity, ErrorCodeReportKeys&gt;{</p>\n<p>@Query(value=&quot;:query&quot;,nativeQuery=true)</p>\n<p>List&lt;Object[]&gt; presentDaySummarySmscWise(String query);</p>\n<p>}</p>\n"},{"tags":["java","spring","ibm-mq","message-queue"],"comments":[{"owner":{"account_id":114737,"reputation":1746,"user_id":3719412,"display_name":"cool"},"score":0,"creation_date":1689064587,"post_id":76659862,"comment_id":135156624,"body_markdown":"It looks like you want to have a request/response style which is total opposite of the idea of using queue. Why do you need to write your code as you described? I don&#39;t think that would be a good idea for so many reasons","body":"It looks like you want to have a request/response style which is total opposite of the idea of using queue. Why do you need to write your code as you described? I don&#39;t think that would be a good idea for so many reasons"},{"owner":{"account_id":28141109,"reputation":9,"user_id":21504146,"display_name":"Grafana Next"},"score":0,"creation_date":1689065178,"post_id":76659862,"comment_id":135156756,"body_markdown":"this is how the customer&#39;s backend operates. This is what we have and we need to operate at the client side.","body":"this is how the customer&#39;s backend operates. This is what we have and we need to operate at the client side."},{"owner":{"account_id":320241,"reputation":2134,"user_id":638413,"accept_rate":100,"display_name":"Daniel Steinmann"},"score":0,"creation_date":1689066042,"post_id":76659862,"comment_id":135156939,"body_markdown":"Have you looked at the [sendAndReceive](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/core/JmsTemplate.html#sendAndReceive(java.lang.String,org.springframework.jms.core.MessageCreator)) style of methods of the `JmsTemplate`?","body":"Have you looked at the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/core/JmsTemplate.html#sendAndReceive(java.lang.String,org.springframework.jms.core.MessageCreator)\" rel=\"nofollow noreferrer\">sendAndReceive</a> style of methods of the <code>JmsTemplate</code>?"},{"owner":{"account_id":28141109,"reputation":9,"user_id":21504146,"display_name":"Grafana Next"},"score":0,"creation_date":1689067088,"post_id":76659862,"comment_id":135157151,"body_markdown":"@DanielSteinmann that might close to the case. But sendAndReceive sends to temporary queue? Is this correct?","body":"@DanielSteinmann that might close to the case. But sendAndReceive sends to temporary queue? Is this correct?"},{"owner":{"account_id":320241,"reputation":2134,"user_id":638413,"accept_rate":100,"display_name":"Daniel Steinmann"},"score":0,"creation_date":1689108701,"post_id":76659862,"comment_id":135166069,"body_markdown":"Yes, it sends by default to a temporary queue. I assumed you are also in charge of the server code and therefore can easily use a temporary queue.","body":"Yes, it sends by default to a temporary queue. I assumed you are also in charge of the server code and therefore can easily use a temporary queue."}],"answers":[{"tags":[],"owner":{"account_id":7206986,"reputation":4285,"user_id":5502306,"display_name":"chughts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689070796,"creation_date":1689070796,"answer_id":76660957,"question_id":76659862,"body_markdown":"Take a look at pattern 107 at https://github.com/ibm-messaging/mq-dev-patterns/tree/master/Spring-JMS\r\n\r\n&gt; The Level 107 sample sends two message requests. For one there is an\r\n&gt; asynchronous listener. For the other there is a blocking synchronous\r\n&gt; wait.\r\n\r\nThe code you need to add to `sendSyncReply` is \r\n\r\n````\r\njmsmsg.setJMSReplyTo(session.createQueue(replyQueue));\r\n````\r\n\r\n`SendMessageService107.java`\r\n\r\n```Java\r\n\r\n\r\npackage com.ibm.mq.samples.jms.spring.level107;\r\n\r\nimport com.ibm.jakarta.jms.JMSTextMessage;\r\nimport com.ibm.mq.samples.jms.spring.globals.Constants;\r\nimport com.ibm.mq.samples.jms.spring.globals.data.OurData;\r\nimport com.ibm.mq.samples.jms.spring.globals.data.ReplyData;\r\nimport com.ibm.mq.samples.jms.spring.globals.handlers.OurMessageConverter;\r\nimport org.apache.commons.logging.Log;\r\nimport org.apache.commons.logging.LogFactory;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.jms.core.JmsTemplate;\r\nimport org.springframework.jms.core.MessageCreator;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport jakarta.jms.DeliveryMode;\r\nimport jakarta.jms.JMSException;\r\nimport jakarta.jms.Message;\r\nimport jakarta.jms.Session;\r\nimport java.util.UUID;\r\n\r\n\r\n@Service\r\npublic class SendMessageService107 {\r\n    protected final Log logger = LogFactory.getLog(getClass());\r\n\r\n    @Value(&quot;${app.l107.queue.name1}&quot;)\r\n    public String sendQueue;\r\n\r\n    @Value(&quot;${app.l107.queue.name2}&quot;)\r\n    public String replyQueue;\r\n\r\n    final private JmsTemplate myNonJmsTemplate107;\r\n\r\n    final private OurMessageConverter ourConverter = new OurMessageConverter();\r\n\r\n    SendMessageService107(JmsTemplate myNonJmsTemplate107) {\r\n        this.myNonJmsTemplate107 = myNonJmsTemplate107;\r\n    }\r\n\r\n    public void sendAsyncReply(OurData msg) {\r\n        logger.info(&quot;Sending Message with Async Reply&quot;);\r\n        myNonJmsTemplate107.send(sendQueue, new MessageCreator() {\r\n            @Override\r\n            public Message createMessage(Session session) throws JMSException {\r\n                Message jmsmsg = ourConverter.toMessage(msg, session);\r\n                jmsmsg.setJMSCorrelationID(UUID.randomUUID().toString());\r\n                jmsmsg.setJMSExpiration(5 * Constants.MINUTE);\r\n                jmsmsg.setJMSDeliveryMode(DeliveryMode.NON_PERSISTENT);\r\n                jmsmsg.setJMSReplyTo(session.createQueue(replyQueue));\r\n                return jmsmsg;\r\n            }\r\n        });\r\n    }\r\n\r\n    public void sendSyncReply(OurData msg) {\r\n        logger.info(&quot;Sending Message with Sync Reply&quot;);\r\n        Object reply = myNonJmsTemplate107.sendAndReceive(sendQueue, new MessageCreator() {\r\n            @Override\r\n            public Message createMessage(Session session) throws JMSException {\r\n                Message jmsmsg = ourConverter.toMessage(msg, session);\r\n                jmsmsg.setJMSCorrelationID(UUID.randomUUID().toString());\r\n                jmsmsg.setJMSExpiration(5 * Constants.MINUTE);\r\n                jmsmsg.setJMSDeliveryMode(DeliveryMode.NON_PERSISTENT);\r\n                return jmsmsg;\r\n            }\r\n        });\r\n        try {\r\n            logger.info(&quot;Reply received&quot;);\r\n\r\n            if (null == reply) {\r\n                logger.info(&quot;Reply is null&quot;);\r\n            } else if (reply instanceof JMSTextMessage) {\r\n                logger.info(&quot;Reply is a text message, attempting to extract data&quot;);\r\n                JMSTextMessage txtReply = (JMSTextMessage) reply;\r\n                logger.info(txtReply.getText());\r\n                ReplyData rr = ourConverter.replyFromMessage(txtReply);\r\n                if (null != rr) {\r\n                    logger.info(&quot;Have converted reply&quot;);\r\n                    rr.logResult();\r\n                } else {\r\n                    logger.warn(&quot;Reply wasn&#39;t what was expected&quot;);\r\n                }\r\n\r\n            } else {\r\n                logger.info(&quot;reply is not null, but of unexpected type&quot;);\r\n                logger.info(&quot;reply is of type : &quot; + reply.getClass());\r\n            }\r\n        } catch (JMSException e) {\r\n            logger.warn(&quot;JMSException processing reply&quot;);\r\n            logger.warn(e.getMessage());\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n```","title":"IBM MQ, Send message to first queue and wait for an answer at a confirmation queue","body":"<p>Take a look at pattern 107 at <a href=\"https://github.com/ibm-messaging/mq-dev-patterns/tree/master/Spring-JMS\" rel=\"nofollow noreferrer\">https://github.com/ibm-messaging/mq-dev-patterns/tree/master/Spring-JMS</a></p>\n<blockquote>\n<p>The Level 107 sample sends two message requests. For one there is an\nasynchronous listener. For the other there is a blocking synchronous\nwait.</p>\n</blockquote>\n<p>The code you need to add to <code>sendSyncReply</code> is</p>\n<pre><code>jmsmsg.setJMSReplyTo(session.createQueue(replyQueue));\n</code></pre>\n<p><code>SendMessageService107.java</code></p>\n<pre><code>\n\npackage com.ibm.mq.samples.jms.spring.level107;\n\nimport com.ibm.jakarta.jms.JMSTextMessage;\nimport com.ibm.mq.samples.jms.spring.globals.Constants;\nimport com.ibm.mq.samples.jms.spring.globals.data.OurData;\nimport com.ibm.mq.samples.jms.spring.globals.data.ReplyData;\nimport com.ibm.mq.samples.jms.spring.globals.handlers.OurMessageConverter;\nimport org.apache.commons.logging.Log;\nimport org.apache.commons.logging.LogFactory;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.jms.core.JmsTemplate;\nimport org.springframework.jms.core.MessageCreator;\nimport org.springframework.stereotype.Service;\n\nimport jakarta.jms.DeliveryMode;\nimport jakarta.jms.JMSException;\nimport jakarta.jms.Message;\nimport jakarta.jms.Session;\nimport java.util.UUID;\n\n\n@Service\npublic class SendMessageService107 {\n    protected final Log logger = LogFactory.getLog(getClass());\n\n    @Value(&quot;${app.l107.queue.name1}&quot;)\n    public String sendQueue;\n\n    @Value(&quot;${app.l107.queue.name2}&quot;)\n    public String replyQueue;\n\n    final private JmsTemplate myNonJmsTemplate107;\n\n    final private OurMessageConverter ourConverter = new OurMessageConverter();\n\n    SendMessageService107(JmsTemplate myNonJmsTemplate107) {\n        this.myNonJmsTemplate107 = myNonJmsTemplate107;\n    }\n\n    public void sendAsyncReply(OurData msg) {\n        logger.info(&quot;Sending Message with Async Reply&quot;);\n        myNonJmsTemplate107.send(sendQueue, new MessageCreator() {\n            @Override\n            public Message createMessage(Session session) throws JMSException {\n                Message jmsmsg = ourConverter.toMessage(msg, session);\n                jmsmsg.setJMSCorrelationID(UUID.randomUUID().toString());\n                jmsmsg.setJMSExpiration(5 * Constants.MINUTE);\n                jmsmsg.setJMSDeliveryMode(DeliveryMode.NON_PERSISTENT);\n                jmsmsg.setJMSReplyTo(session.createQueue(replyQueue));\n                return jmsmsg;\n            }\n        });\n    }\n\n    public void sendSyncReply(OurData msg) {\n        logger.info(&quot;Sending Message with Sync Reply&quot;);\n        Object reply = myNonJmsTemplate107.sendAndReceive(sendQueue, new MessageCreator() {\n            @Override\n            public Message createMessage(Session session) throws JMSException {\n                Message jmsmsg = ourConverter.toMessage(msg, session);\n                jmsmsg.setJMSCorrelationID(UUID.randomUUID().toString());\n                jmsmsg.setJMSExpiration(5 * Constants.MINUTE);\n                jmsmsg.setJMSDeliveryMode(DeliveryMode.NON_PERSISTENT);\n                return jmsmsg;\n            }\n        });\n        try {\n            logger.info(&quot;Reply received&quot;);\n\n            if (null == reply) {\n                logger.info(&quot;Reply is null&quot;);\n            } else if (reply instanceof JMSTextMessage) {\n                logger.info(&quot;Reply is a text message, attempting to extract data&quot;);\n                JMSTextMessage txtReply = (JMSTextMessage) reply;\n                logger.info(txtReply.getText());\n                ReplyData rr = ourConverter.replyFromMessage(txtReply);\n                if (null != rr) {\n                    logger.info(&quot;Have converted reply&quot;);\n                    rr.logResult();\n                } else {\n                    logger.warn(&quot;Reply wasn't what was expected&quot;);\n                }\n\n            } else {\n                logger.info(&quot;reply is not null, but of unexpected type&quot;);\n                logger.info(&quot;reply is of type : &quot; + reply.getClass());\n            }\n        } catch (JMSException e) {\n            logger.warn(&quot;JMSException processing reply&quot;);\n            logger.warn(e.getMessage());\n        }\n    }\n\n}\n\n\n\n</code></pre>\n"}],"owner":{"account_id":28141109,"reputation":9,"user_id":21504146,"display_name":"Grafana Next"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76660957,"answer_count":1,"score":0,"last_activity_date":1689070796,"creation_date":1689062847,"question_id":76659862,"body_markdown":"In my setup we want to place an &quot;Order&quot; at order_queue and wait at the same thread until the backends sends a reply at the shipment_queue. The code is in Java. \r\n```\r\n\r\nprivate Shipment placeOrder(Order order) {\r\n\r\n  public String sendQueue = &quot;order_queue&quot;;\r\n  public String replyQueue = &quot;shipment_queue&quot;;\r\n\r\n  final private JmsTemplate template;\r\n  \r\n  template.send(sendQueue, new MessageCreator() {\r\n            @Override\r\n            public Message createMessage(Session session) throws JMSException {\r\n                Message jmsmsg = ourConverter.toMessage(msg, session);\r\n                jmsmsg.setJMSCorrelationID(UUID.randomUUID().toString());\r\n                jmsmsg.setJMSExpiration(5 * Constants.MINUTE);\r\n                jmsmsg.setJMSDeliveryMode(DeliveryMode.NON_PERSISTENT);\r\n                jmsmsg.setJMSReplyTo(session.createQueue(replyQueue));\r\n                return jmsmsg;\r\n            }\r\n        });\r\n\r\n\r\n  //AT THIS POINT I WANT TO WAIT AND GET THE MESSAGE\r\n  New code\r\n}  \r\n```\r\n\r\nCurrently I have another class that captures the response with a listener\r\n```\r\n\r\n @JmsListener(destination = &quot;shipment_queue&quot;)\r\n    public void receiveOther(Message message) {\r\n        logger.info(&quot;&quot;);\r\n        logger.info( this.getClass().getSimpleName());\r\n        logger.info(&quot;Received message of type: &quot; + message.getClass().getSimpleName());\r\n        ReplyData reply = converter.replyFromMessage(message);\r\n        if (null != reply) {\r\n            logger.info(&quot;Message was JSON Compliant&quot;);\r\n            reply.logResult();\r\n        } else {\r\n            logger.warn(&quot;Message string was not JSON&quot;);\r\n        }\r\n    }\r\n```\r\n\r\nMy goal is to have a clean function that has the responsibility to send, wait and return the result.\r\n\r\nI would like the code to be like this:\r\n\r\n```\r\nprivate Shipment placeOrder(Order order) {\r\n  send to first queue\r\n  wait for the reply at the second queue\r\n  return the reply\r\n}\r\n```\r\n\r\nHow can I do this?\r\n\r\n","title":"IBM MQ, Send message to first queue and wait for an answer at a confirmation queue","body":"<p>In my setup we want to place an &quot;Order&quot; at order_queue and wait at the same thread until the backends sends a reply at the shipment_queue. The code is in Java.</p>\n<pre><code>\nprivate Shipment placeOrder(Order order) {\n\n  public String sendQueue = &quot;order_queue&quot;;\n  public String replyQueue = &quot;shipment_queue&quot;;\n\n  final private JmsTemplate template;\n  \n  template.send(sendQueue, new MessageCreator() {\n            @Override\n            public Message createMessage(Session session) throws JMSException {\n                Message jmsmsg = ourConverter.toMessage(msg, session);\n                jmsmsg.setJMSCorrelationID(UUID.randomUUID().toString());\n                jmsmsg.setJMSExpiration(5 * Constants.MINUTE);\n                jmsmsg.setJMSDeliveryMode(DeliveryMode.NON_PERSISTENT);\n                jmsmsg.setJMSReplyTo(session.createQueue(replyQueue));\n                return jmsmsg;\n            }\n        });\n\n\n  //AT THIS POINT I WANT TO WAIT AND GET THE MESSAGE\n  New code\n}  \n</code></pre>\n<p>Currently I have another class that captures the response with a listener</p>\n<pre><code>\n @JmsListener(destination = &quot;shipment_queue&quot;)\n    public void receiveOther(Message message) {\n        logger.info(&quot;&quot;);\n        logger.info( this.getClass().getSimpleName());\n        logger.info(&quot;Received message of type: &quot; + message.getClass().getSimpleName());\n        ReplyData reply = converter.replyFromMessage(message);\n        if (null != reply) {\n            logger.info(&quot;Message was JSON Compliant&quot;);\n            reply.logResult();\n        } else {\n            logger.warn(&quot;Message string was not JSON&quot;);\n        }\n    }\n</code></pre>\n<p>My goal is to have a clean function that has the responsibility to send, wait and return the result.</p>\n<p>I would like the code to be like this:</p>\n<pre><code>private Shipment placeOrder(Order order) {\n  send to first queue\n  wait for the reply at the second queue\n  return the reply\n}\n</code></pre>\n<p>How can I do this?</p>\n"},{"tags":["java","quarkus","testcontainers"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1689058448,"post_id":76658971,"comment_id":135155409,"body_markdown":"Your best bet by far is to see the examples in the Quarkus source code itself","body":"Your best bet by far is to see the examples in the Quarkus source code itself"}],"answers":[{"tags":[],"owner":{"account_id":1115215,"reputation":10877,"user_id":1104727,"display_name":"Holly Cummins"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689070794,"creation_date":1689070794,"answer_id":76660956,"question_id":76658971,"body_markdown":"For this, you&#39;d need to write an extension for the other web service. Quarkus  have a few resources about writing extensions:\r\n\r\n* [My first extension](https://quarkus.io/guides/building-my-first-extension)\r\n* [Deeper guide](https://quarkus.io/guides/writing-extensions)\r\n* [A walkthough of writing a logging extension](https://quarkus.io/blog/quarkus-aws-cloudwatch_extension/)\r\n\r\nTo scaffold an extension, you&#39;d run something like \r\n\r\n```\r\nmvn io.quarkus.platform:quarkus-maven-plugin:3.2.0.Final:create-extension -N \\\r\n    -DgroupId=org.acme \\ \r\n    -DextensionId=other-web-service\r\n```\r\n\r\nOnce you have your skeleton extension, the code to add a dev service is pretty compact. In the processor, you need to add a build step producing a build item of type &#39;dev services&#39;. The [build items](https://quarkus.io/guides/all-builditems) are a bit like the API for extensions, and you can achieve most things you want just by constructing and returning a build item of the right kind.\r\n\r\n\r\n```\r\n    @BuildStep(onlyIfNot = IsNormal.class, onlyIf = GlobalDevServicesConfig.Enabled.class)\r\n    public DevServicesResultBuildItem createContainer(LaunchModeBuildItem launchMode) {\r\n\r\n        DockerImageName dockerImageName = DockerImageName.parse(&quot;namespace/other-web-service&quot;);\r\n        \r\n        // You might want to use Quarkus config here to customise the container\r\n        OtherWebServiceContainer container = new OtherWebServiceContainer()\r\n                .withEnv(&quot;whatever&quot;, &quot;true&quot;)\r\n                .withEnv(&quot;otherenv&quot;, &quot;something&quot;)\r\n                \r\n        container.start();\r\n\r\n        Map&lt;String, String&gt; props = Map.of(&quot;mynew.url&quot;,\r\n                &quot;https://&quot; + container.getHost() + &quot;:&quot; + container.getPort());\r\n        return new DevServicesResultBuildItem.RunningDevService(FEATURE, container.getContainerId(),\r\n                container::close, props)\r\n                .toBuildItem();\r\n    }\r\n\r\n    private static class OtherWebServiceContainer extends GenericContainer&lt;OtherWebServiceContainer&gt; {\r\n        static final int PORT = 25565;\r\n\r\n        public OtherWebServiceContainer(DockerImageName image) {\r\n            super(image);\r\n        }\r\n\r\n        @Override\r\n        protected void configure() {\r\n            withNetwork(Network.SHARED);\r\n            addExposedPorts(PORT);\r\n            // Tell the dev service how to know the container is ready\r\n            waitingFor(Wait.forLogMessage(&quot;.*Listening on http://0.0.0.0:9292.*&quot;, 1)); \r\n        }\r\n\r\n        public Integer getPort() {\r\n            return this.getMappedPort(PORT);\r\n        }\r\n    }\r\n```\r\n\r\nIf you get stuck, looking through the [Quarkus codebase](https://github.com/quarkusio/quarkus) for examples of how dev services are created should give you ideas.","title":"Custom dev-Service for Quarkus","body":"<p>For this, you'd need to write an extension for the other web service. Quarkus  have a few resources about writing extensions:</p>\n<ul>\n<li><a href=\"https://quarkus.io/guides/building-my-first-extension\" rel=\"nofollow noreferrer\">My first extension</a></li>\n<li><a href=\"https://quarkus.io/guides/writing-extensions\" rel=\"nofollow noreferrer\">Deeper guide</a></li>\n<li><a href=\"https://quarkus.io/blog/quarkus-aws-cloudwatch_extension/\" rel=\"nofollow noreferrer\">A walkthough of writing a logging extension</a></li>\n</ul>\n<p>To scaffold an extension, you'd run something like</p>\n<pre><code>mvn io.quarkus.platform:quarkus-maven-plugin:3.2.0.Final:create-extension -N \\\n    -DgroupId=org.acme \\ \n    -DextensionId=other-web-service\n</code></pre>\n<p>Once you have your skeleton extension, the code to add a dev service is pretty compact. In the processor, you need to add a build step producing a build item of type 'dev services'. The <a href=\"https://quarkus.io/guides/all-builditems\" rel=\"nofollow noreferrer\">build items</a> are a bit like the API for extensions, and you can achieve most things you want just by constructing and returning a build item of the right kind.</p>\n<pre><code>    @BuildStep(onlyIfNot = IsNormal.class, onlyIf = GlobalDevServicesConfig.Enabled.class)\n    public DevServicesResultBuildItem createContainer(LaunchModeBuildItem launchMode) {\n\n        DockerImageName dockerImageName = DockerImageName.parse(&quot;namespace/other-web-service&quot;);\n        \n        // You might want to use Quarkus config here to customise the container\n        OtherWebServiceContainer container = new OtherWebServiceContainer()\n                .withEnv(&quot;whatever&quot;, &quot;true&quot;)\n                .withEnv(&quot;otherenv&quot;, &quot;something&quot;)\n                \n        container.start();\n\n        Map&lt;String, String&gt; props = Map.of(&quot;mynew.url&quot;,\n                &quot;https://&quot; + container.getHost() + &quot;:&quot; + container.getPort());\n        return new DevServicesResultBuildItem.RunningDevService(FEATURE, container.getContainerId(),\n                container::close, props)\n                .toBuildItem();\n    }\n\n    private static class OtherWebServiceContainer extends GenericContainer&lt;OtherWebServiceContainer&gt; {\n        static final int PORT = 25565;\n\n        public OtherWebServiceContainer(DockerImageName image) {\n            super(image);\n        }\n\n        @Override\n        protected void configure() {\n            withNetwork(Network.SHARED);\n            addExposedPorts(PORT);\n            // Tell the dev service how to know the container is ready\n            waitingFor(Wait.forLogMessage(&quot;.*Listening on http://0.0.0.0:9292.*&quot;, 1)); \n        }\n\n        public Integer getPort() {\n            return this.getMappedPort(PORT);\n        }\n    }\n</code></pre>\n<p>If you get stuck, looking through the <a href=\"https://github.com/quarkusio/quarkus\" rel=\"nofollow noreferrer\">Quarkus codebase</a> for examples of how dev services are created should give you ideas.</p>\n"}],"owner":{"account_id":10057394,"reputation":376,"user_id":7435186,"display_name":"Jakob Graf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689070794,"creation_date":1689054299,"question_id":76658971,"body_markdown":"I am creating a web service using Quarkus as framework, which uses another web service. I thought it would be nice to use the same dev service mechanism, which quarkus uses for databasesm, etc. to start up a container containing this other service (or a mock service of it).\r\n\r\nI was able to achieve this for JUnit testing with implementing a class of `QuarkusTestResourceLifecycleManager`:\r\n\r\n```\r\n        // Create the Image\r\n        ImageFromDockerfile image = new ImageFromDockerfile()...\r\n        // Create the Container\r\n        GenericContainer&lt;?&gt; container = new GenericContainer&lt;&gt;(image)...\r\n        // Start the Container\r\n        container.start();\r\n```\r\n\r\nNow I would like to use the same container in dev mode. Ideally as dev service, which is also shown in the devUI.\r\n\r\nWhat is the best practice for that? Is there any documentation on the API, which I did not find?\r\n\r\n\r\n","title":"Custom dev-Service for Quarkus","body":"<p>I am creating a web service using Quarkus as framework, which uses another web service. I thought it would be nice to use the same dev service mechanism, which quarkus uses for databasesm, etc. to start up a container containing this other service (or a mock service of it).</p>\n<p>I was able to achieve this for JUnit testing with implementing a class of <code>QuarkusTestResourceLifecycleManager</code>:</p>\n<pre><code>        // Create the Image\n        ImageFromDockerfile image = new ImageFromDockerfile()...\n        // Create the Container\n        GenericContainer&lt;?&gt; container = new GenericContainer&lt;&gt;(image)...\n        // Start the Container\n        container.start();\n</code></pre>\n<p>Now I would like to use the same container in dev mode. Ideally as dev service, which is also shown in the devUI.</p>\n<p>What is the best practice for that? Is there any documentation on the API, which I did not find?</p>\n"},{"tags":["java","spring-boot","gradle","build.gradle","pitest"],"answers":[{"tags":[],"owner":{"account_id":6622609,"reputation":95,"user_id":5113758,"accept_rate":33,"display_name":"KVL"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689070258,"creation_date":1689070258,"answer_id":76660869,"question_id":76659581,"body_markdown":"Need to convert the string value to a directoy type  before assigning it.\r\n\r\n    reportDir = file(&quot;${buildDir}/reports/pit/${project.version}&quot; )","title":"Pitest failing after spring/springboot/gradle upgrade","body":"<p>Need to convert the string value to a directoy type  before assigning it.</p>\n<pre><code>reportDir = file(&quot;${buildDir}/reports/pit/${project.version}&quot; )\n</code></pre>\n"}],"owner":{"account_id":6622609,"reputation":95,"user_id":5113758,"accept_rate":33,"display_name":"KVL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1689070258,"creation_date":1689060509,"question_id":76659581,"body_markdown":"Facing the below build error while upgrading project to springboot 2.7.7 / spring 5.4/junit 5/gradle 7.2 and pitest vesion from 1.4.0 to 1.9.0.\r\n\r\n\r\n&gt; Cannot set the value of a property of type org.gradle.api.file.Directory using an instance of type org.codehaus.groovy.runtime.GStringImpl.\r\n\r\nthe below is entry in build.gradle.\r\n\r\n    pitest {\r\n        targetClasses = [&#39;com.eew.wrew.werew.*&#39;]\r\n        enableDefaultIncrementalAnalysis = true\r\n        reportDir = &quot;${buildDir}/reports/pit/${project.version}&quot;\r\n        outputFormats = [&#39;HTML&#39;]\r\n        pitestVersion = &#39;1.9.0&#39;\r\n        timeoutConstInMillis = 100000\r\n        mutationThreshold = 80\r\n        timestampedReports=false\r\n    }","title":"Pitest failing after spring/springboot/gradle upgrade","body":"<p>Facing the below build error while upgrading project to springboot 2.7.7 / spring 5.4/junit 5/gradle 7.2 and pitest vesion from 1.4.0 to 1.9.0.</p>\n<blockquote>\n<p>Cannot set the value of a property of type org.gradle.api.file.Directory using an instance of type org.codehaus.groovy.runtime.GStringImpl.</p>\n</blockquote>\n<p>the below is entry in build.gradle.</p>\n<pre><code>pitest {\n    targetClasses = ['com.eew.wrew.werew.*']\n    enableDefaultIncrementalAnalysis = true\n    reportDir = &quot;${buildDir}/reports/pit/${project.version}&quot;\n    outputFormats = ['HTML']\n    pitestVersion = '1.9.0'\n    timeoutConstInMillis = 100000\n    mutationThreshold = 80\n    timestampedReports=false\n}\n</code></pre>\n"},{"tags":["java","android","swiperefreshlayout"],"comments":[{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1689066681,"post_id":76659963,"comment_id":135157078,"body_markdown":"Do you see refresh icon when you pull down for refreshing or nothing at all? Besides, do you left `getFiles` implementation empty intentionally? You shoul consider adding its implementation as well as of the xml where you implement swipe and refresh control.","body":"Do you see refresh icon when you pull down for refreshing or nothing at all? Besides, do you left <code>getFiles</code> implementation empty intentionally? You shoul consider adding its implementation as well as of the xml where you implement swipe and refresh control."},{"owner":{"account_id":19186823,"reputation":107,"user_id":14017441,"display_name":"Ritesh Nayak"},"score":0,"creation_date":1689070084,"post_id":76659963,"comment_id":135157763,"body_markdown":"No, the refresh Icon doesn&#39;t shows up.  `getFiles()`  is Implemented. It&#39;s a open source project and I have added the link in my Question.","body":"No, the refresh Icon doesn&#39;t shows up.  <code>getFiles()</code>  is Implemented. It&#39;s a open source project and I have added the link in my Question."},{"owner":{"account_id":19186823,"reputation":107,"user_id":14017441,"display_name":"Ritesh Nayak"},"score":0,"creation_date":1689070131,"post_id":76659963,"comment_id":135157775,"body_markdown":"Let me edit the question and add the getFiles() code too","body":"Let me edit the question and add the getFiles() code too"},{"owner":{"account_id":19186823,"reputation":107,"user_id":14017441,"display_name":"Ritesh Nayak"},"score":0,"creation_date":1689081665,"post_id":76659963,"comment_id":135160361,"body_markdown":"I tried recreating the same fragment and transfered code little bit at a time. I found that `recyclerView.setLayoutManager(new GridLayoutManager(getActivity(), Common.GRID_COUNT));` adding this line causes the Issue. Can you explain how this causing the issue.","body":"I tried recreating the same fragment and transfered code little bit at a time. I found that <code>recyclerView.setLayoutManager(new GridLayoutManager(getActivity(), Common.GRID_COUNT));</code> adding this line causes the Issue. Can you explain how this causing the issue."}],"owner":{"account_id":19186823,"reputation":107,"user_id":14017441,"display_name":"Ritesh Nayak"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689070171,"creation_date":1689063674,"question_id":76659963,"body_markdown":"Swipe gesture doesn&#39;t work at first. This happens when there is no item in the recyvlerview. Once a item is added and the fragement&#39;s onViewCreated Function is again called. SwipeRefreshLayout works fine even of the recyclerview is empty. The problems reappears on restart of the activity. \r\n\r\nThis issue is there on SavedFilesFragment ([LInk](https://github.com/GauthamAsir/WhatsApp_Status_Saver/blob/master/app/src/main/java/a/gautham/statusdownloader/Fragments/SavedFilesFragment.java))\r\n\r\nHere is code\r\n\r\n\r\n```\r\npublic class SavedFilesFragment extends Fragment {\r\n\r\n    private RecyclerView recyclerView;\r\n    private ProgressBar progressBar;\r\n    private final List&lt;Status&gt; savedFilesList = new ArrayList&lt;&gt;();\r\n    private final Handler handler = new Handler();\r\n    private FilesAdapter filesAdapter;\r\n    private SwipeRefreshLayout swipeRefreshLayout;\r\n    private TextView no_files_found;\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        return inflater.inflate(R.layout.fragment_saved_files, container, false);\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n\r\n        recyclerView = view.findViewById(R.id.recyclerViewFiles);\r\n        swipeRefreshLayout = view.findViewById(R.id.swipeRefreshLayoutFiles);\r\n        progressBar = view.findViewById(R.id.progressBar);\r\n        no_files_found = view.findViewById(R.id.no_files_found);\r\n\r\n        StrictMode.VmPolicy.Builder builder = new StrictMode.VmPolicy.Builder();\r\n        StrictMode.setVmPolicy(builder.build());\r\n\r\n        swipeRefreshLayout.setColorSchemeColors(ContextCompat.getColor(requireActivity(), android.R.color.holo_orange_dark)\r\n                , ContextCompat.getColor(requireActivity(), android.R.color.holo_green_dark),\r\n                ContextCompat.getColor(requireActivity(), R.color.colorPrimary),\r\n                ContextCompat.getColor(requireActivity(), android.R.color.holo_blue_dark));\r\n\r\n        swipeRefreshLayout.setOnRefreshListener(this::getFiles);\r\n\r\n        recyclerView.setHasFixedSize(true);\r\n        recyclerView.setLayoutManager(new GridLayoutManager(getActivity(), Common.GRID_COUNT));\r\n\r\n        getFiles();\r\n\r\n    }\r\n\r\n    private void getFiles()\r\n\r\n        final File app_dir = new File(Common.APP_DIR);\r\n\r\n        if (app_dir.exists() ||\r\n                Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n\r\n            no_files_found.setVisibility(View.GONE);\r\n\r\n            new Thread(() -&gt; {\r\n                File[] savedFiles;\r\n\r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n                    File f = new File(Environment.getExternalStoragePublicDirectory(\r\n                            Environment.DIRECTORY_DCIM\r\n                    ) + File.separator + &quot;status_saver&quot;);\r\n                    savedFiles = f.listFiles();\r\n                } else {\r\n                    savedFiles = app_dir.listFiles();\r\n                }\r\n                savedFilesList.clear();\r\n\r\n                if (savedFiles != null &amp;&amp; savedFiles.length &gt; 0) {\r\n\r\n                    Arrays.sort(savedFiles);\r\n                    for (File file : savedFiles) {\r\n                        Status status = new Status(file, file.getName(), file.getAbsolutePath());\r\n\r\n                        savedFilesList.add(status);\r\n                    }\r\n\r\n                    handler.post(() -&gt; {\r\n\r\n                        filesAdapter = new FilesAdapter(savedFilesList);\r\n                        recyclerView.setAdapter(filesAdapter);\r\n                        filesAdapter.notifyDataSetChanged();\r\n                        progressBar.setVisibility(View.GONE);\r\n                    });\r\n\r\n                } else {\r\n\r\n                    handler.post(() -&gt; {\r\n                        progressBar.setVisibility(View.GONE);\r\n                        no_files_found.setVisibility(View.VISIBLE);\r\n//                                Toast.makeText(getActivity(), &quot;Dir doest not exists&quot;, Toast.LENGTH_SHORT).show();\r\n                    });\r\n\r\n                }\r\n                swipeRefreshLayout.setRefreshing(false);\r\n            }).start();\r\n\r\n        } else {\r\n            no_files_found.setVisibility(View.VISIBLE);\r\n            progressBar.setVisibility(View.GONE);\r\n        }\r\n\r\n    }\r\n\r\n```\r\n\r\n\r\n\r\nI tried creating a Button to call the same function `getFiles()` but the Button too doesn&#39;t work the same way","title":"SwipeRefreshLayout Swipe gesture Initially not working in Fragment","body":"<p>Swipe gesture doesn't work at first. This happens when there is no item in the recyvlerview. Once a item is added and the fragement's onViewCreated Function is again called. SwipeRefreshLayout works fine even of the recyclerview is empty. The problems reappears on restart of the activity.</p>\n<p>This issue is there on SavedFilesFragment (<a href=\"https://github.com/GauthamAsir/WhatsApp_Status_Saver/blob/master/app/src/main/java/a/gautham/statusdownloader/Fragments/SavedFilesFragment.java\" rel=\"nofollow noreferrer\">LInk</a>)</p>\n<p>Here is code</p>\n<pre><code>public class SavedFilesFragment extends Fragment {\n\n    private RecyclerView recyclerView;\n    private ProgressBar progressBar;\n    private final List&lt;Status&gt; savedFilesList = new ArrayList&lt;&gt;();\n    private final Handler handler = new Handler();\n    private FilesAdapter filesAdapter;\n    private SwipeRefreshLayout swipeRefreshLayout;\n    private TextView no_files_found;\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        return inflater.inflate(R.layout.fragment_saved_files, container, false);\n    }\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n\n        recyclerView = view.findViewById(R.id.recyclerViewFiles);\n        swipeRefreshLayout = view.findViewById(R.id.swipeRefreshLayoutFiles);\n        progressBar = view.findViewById(R.id.progressBar);\n        no_files_found = view.findViewById(R.id.no_files_found);\n\n        StrictMode.VmPolicy.Builder builder = new StrictMode.VmPolicy.Builder();\n        StrictMode.setVmPolicy(builder.build());\n\n        swipeRefreshLayout.setColorSchemeColors(ContextCompat.getColor(requireActivity(), android.R.color.holo_orange_dark)\n                , ContextCompat.getColor(requireActivity(), android.R.color.holo_green_dark),\n                ContextCompat.getColor(requireActivity(), R.color.colorPrimary),\n                ContextCompat.getColor(requireActivity(), android.R.color.holo_blue_dark));\n\n        swipeRefreshLayout.setOnRefreshListener(this::getFiles);\n\n        recyclerView.setHasFixedSize(true);\n        recyclerView.setLayoutManager(new GridLayoutManager(getActivity(), Common.GRID_COUNT));\n\n        getFiles();\n\n    }\n\n    private void getFiles()\n\n        final File app_dir = new File(Common.APP_DIR);\n\n        if (app_dir.exists() ||\n                Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n\n            no_files_found.setVisibility(View.GONE);\n\n            new Thread(() -&gt; {\n                File[] savedFiles;\n\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n                    File f = new File(Environment.getExternalStoragePublicDirectory(\n                            Environment.DIRECTORY_DCIM\n                    ) + File.separator + &quot;status_saver&quot;);\n                    savedFiles = f.listFiles();\n                } else {\n                    savedFiles = app_dir.listFiles();\n                }\n                savedFilesList.clear();\n\n                if (savedFiles != null &amp;&amp; savedFiles.length &gt; 0) {\n\n                    Arrays.sort(savedFiles);\n                    for (File file : savedFiles) {\n                        Status status = new Status(file, file.getName(), file.getAbsolutePath());\n\n                        savedFilesList.add(status);\n                    }\n\n                    handler.post(() -&gt; {\n\n                        filesAdapter = new FilesAdapter(savedFilesList);\n                        recyclerView.setAdapter(filesAdapter);\n                        filesAdapter.notifyDataSetChanged();\n                        progressBar.setVisibility(View.GONE);\n                    });\n\n                } else {\n\n                    handler.post(() -&gt; {\n                        progressBar.setVisibility(View.GONE);\n                        no_files_found.setVisibility(View.VISIBLE);\n//                                Toast.makeText(getActivity(), &quot;Dir doest not exists&quot;, Toast.LENGTH_SHORT).show();\n                    });\n\n                }\n                swipeRefreshLayout.setRefreshing(false);\n            }).start();\n\n        } else {\n            no_files_found.setVisibility(View.VISIBLE);\n            progressBar.setVisibility(View.GONE);\n        }\n\n    }\n\n</code></pre>\n<p>I tried creating a Button to call the same function <code>getFiles()</code> but the Button too doesn't work the same way</p>\n"},{"tags":["java","android","android-wifi","android-13","android-connectivitymanager"],"answers":[{"tags":[],"owner":{"account_id":13762909,"reputation":1124,"user_id":9932194,"display_name":"K M Rejowan Ahmmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689068835,"creation_date":1689068835,"answer_id":76660678,"question_id":76660349,"body_markdown":"The method `capabilities.hasTransport(NetworkCapabilities.TRANSPORT_WIFI)` checks if the current network supports transport over WiFi, not whether WiFi is currently active and connected.\r\n\r\nInstead, you should use `capabilities.hasCapability(NetworkCapabilities.NET_CAPABILITY_INTERNET)` and `capabilities.hasTransport(NetworkCapabilities.TRANSPORT_WIFI)` together to check if there is an active WiFi connection with the internet.\r\n\r\n    public static boolean checkIfAppIsConnectedToWIFI(Context context) {\r\n        ConnectivityManager connectivityManager = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n        if (connectivityManager != null) {\r\n            NetworkCapabilities capabilities = connectivityManager.getNetworkCapabilities(connectivityManager.getActiveNetwork());\r\n            if (capabilities != null) {\r\n                if (capabilities.hasCapability(NetworkCapabilities.NET_CAPABILITY_INTERNET) &amp;&amp;\r\n                    capabilities.hasTransport(NetworkCapabilities.TRANSPORT_WIFI)) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n    \r\n        return false;\r\n    }\r\n\r\n","title":"(Java) Check if Android app is connected to WIFI with Android 13 and API 33","body":"<p>The method <code>capabilities.hasTransport(NetworkCapabilities.TRANSPORT_WIFI)</code> checks if the current network supports transport over WiFi, not whether WiFi is currently active and connected.</p>\n<p>Instead, you should use <code>capabilities.hasCapability(NetworkCapabilities.NET_CAPABILITY_INTERNET)</code> and <code>capabilities.hasTransport(NetworkCapabilities.TRANSPORT_WIFI)</code> together to check if there is an active WiFi connection with the internet.</p>\n<pre><code>public static boolean checkIfAppIsConnectedToWIFI(Context context) {\n    ConnectivityManager connectivityManager = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\n    if (connectivityManager != null) {\n        NetworkCapabilities capabilities = connectivityManager.getNetworkCapabilities(connectivityManager.getActiveNetwork());\n        if (capabilities != null) {\n            if (capabilities.hasCapability(NetworkCapabilities.NET_CAPABILITY_INTERNET) &amp;&amp;\n                capabilities.hasTransport(NetworkCapabilities.TRANSPORT_WIFI)) {\n                return true;\n            }\n        }\n    }\n\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11864229,"reputation":391,"user_id":8682142,"display_name":"Waseem Abbas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689069888,"creation_date":1689069888,"answer_id":76660817,"question_id":76660349,"body_markdown":"Try this method:\r\n```Java\r\npublic class DetectInternetConnection {\r\n\r\n    public static boolean checkIfAppIsConnectedToWIFI(Context context) {\r\n        ConnectivityManager connectivityManager = context.getSystemService(ConnectivityManager.class);\r\n        if (connectivityManager == null) return false;\r\n\r\n        Network currentNetwork = connectivityManager.getActiveNetwork();\r\n        if (currentNetwork == null) return false;\r\n\r\n        NetworkCapabilities caps = connectivityManager.getNetworkCapabilities(currentNetwork);\r\n        if (caps == null) return false;\r\n\r\n        return caps.hasCapability(NetworkCapabilities.NET_CAPABILITY_INTERNET) &amp;&amp; caps.hasTransport(NetworkCapabilities.TRANSPORT_WIFI);\r\n    }\r\n}\r\n```","title":"(Java) Check if Android app is connected to WIFI with Android 13 and API 33","body":"<p>Try this method:</p>\n<pre><code>public class DetectInternetConnection {\n\n    public static boolean checkIfAppIsConnectedToWIFI(Context context) {\n        ConnectivityManager connectivityManager = context.getSystemService(ConnectivityManager.class);\n        if (connectivityManager == null) return false;\n\n        Network currentNetwork = connectivityManager.getActiveNetwork();\n        if (currentNetwork == null) return false;\n\n        NetworkCapabilities caps = connectivityManager.getNetworkCapabilities(currentNetwork);\n        if (caps == null) return false;\n\n        return caps.hasCapability(NetworkCapabilities.NET_CAPABILITY_INTERNET) &amp;&amp; caps.hasTransport(NetworkCapabilities.TRANSPORT_WIFI);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2392224,"reputation":4001,"user_id":2091861,"accept_rate":68,"display_name":"odd_duck"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":283,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76660678,"answer_count":2,"score":-1,"last_activity_date":1689069888,"creation_date":1689066552,"question_id":76660349,"body_markdown":"I have an Android app built with Java, running on Android 13 and API version 33.\r\n\r\nThe app serves a webView, though I want to be able to serve up a local asset if WIFI is not connected (I do not need to worry about Cellular connections - only WIFI) as soon as the app launches.\r\n\r\nMy current setup is like so:\r\n\r\nPermissions within:\r\n\r\n**AndroidManifest.xml:**\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\r\n\r\n**MainActivity.java:**\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n        private WebView myWebView;\r\n        private Context context;\r\n\r\n        @Override\r\n        @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            myWebView = findViewById(R.id.activity_main_webview);\r\n\r\n            WebSettings webSettings = myWebView.getSettings();\r\n            webSettings.setJavaScriptEnabled(true);\r\n            webSettings.setGeolocationEnabled(true);\r\n\r\n            myWebView.setWebViewClient(new MyWebViewClient());\r\n\r\n            if (DetectInternetConnection.checkIfAppIsConnectedToWIFI(this)) {\r\n              myWebView.loadUrl(&quot;https://remote-web-address&quot;);\r\n            } else {\r\n              myWebView.loadUrl(&quot;file:///android_asset/local-html-page.html&quot;);\r\n            }\r\n\r\n            // and so on...\r\n\r\n**DetectInternetConnection.java:**\r\n\r\n    package com.mycompany.app;\r\n\r\n    import android.content.Context;\r\n    import android.net.ConnectivityManager;\r\n    import android.net.NetworkCapabilities;\r\n\r\n    class DetectInternetConnection {\r\n\r\n      public static boolean checkIfAppIsConnectedToWIFI(Context context) {\r\n        ConnectivityManager connectivityManager = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n        if (connectivityManager != null) {\r\n            NetworkCapabilities capabilities = connectivityManager.getNetworkCapabilities(connectivityManager.getActiveNetwork());\r\n            if (capabilities != null) {\r\n                if (capabilities.hasTransport(NetworkCapabilities.TRANSPORT_WIFI)) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n\r\n        return false;\r\n      }\r\n    }\r\n\r\nHowever my app always loads the remote webview content.\r\nAs the `checkIfAppIsConnectedToWIFI` method always returns true.\r\n\r\nEven if I turn off WIFI on the machine which the emulator is running on, or the device itself.\r\n\r\n\r\n","title":"(Java) Check if Android app is connected to WIFI with Android 13 and API 33","body":"<p>I have an Android app built with Java, running on Android 13 and API version 33.</p>\n<p>The app serves a webView, though I want to be able to serve up a local asset if WIFI is not connected (I do not need to worry about Cellular connections - only WIFI) as soon as the app launches.</p>\n<p>My current setup is like so:</p>\n<p>Permissions within:</p>\n<p><strong>AndroidManifest.xml:</strong></p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\n</code></pre>\n<p><strong>MainActivity.java:</strong></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private WebView myWebView;\n    private Context context;\n\n    @Override\n    @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        myWebView = findViewById(R.id.activity_main_webview);\n\n        WebSettings webSettings = myWebView.getSettings();\n        webSettings.setJavaScriptEnabled(true);\n        webSettings.setGeolocationEnabled(true);\n\n        myWebView.setWebViewClient(new MyWebViewClient());\n\n        if (DetectInternetConnection.checkIfAppIsConnectedToWIFI(this)) {\n          myWebView.loadUrl(&quot;https://remote-web-address&quot;);\n        } else {\n          myWebView.loadUrl(&quot;file:///android_asset/local-html-page.html&quot;);\n        }\n\n        // and so on...\n</code></pre>\n<p><strong>DetectInternetConnection.java:</strong></p>\n<pre><code>package com.mycompany.app;\n\nimport android.content.Context;\nimport android.net.ConnectivityManager;\nimport android.net.NetworkCapabilities;\n\nclass DetectInternetConnection {\n\n  public static boolean checkIfAppIsConnectedToWIFI(Context context) {\n    ConnectivityManager connectivityManager = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\n    if (connectivityManager != null) {\n        NetworkCapabilities capabilities = connectivityManager.getNetworkCapabilities(connectivityManager.getActiveNetwork());\n        if (capabilities != null) {\n            if (capabilities.hasTransport(NetworkCapabilities.TRANSPORT_WIFI)) {\n                return true;\n            }\n        }\n    }\n\n    return false;\n  }\n}\n</code></pre>\n<p>However my app always loads the remote webview content.\nAs the <code>checkIfAppIsConnectedToWIFI</code> method always returns true.</p>\n<p>Even if I turn off WIFI on the machine which the emulator is running on, or the device itself.</p>\n"},{"tags":["java","android","android-viewpager2"],"owner":{"account_id":18274896,"reputation":25,"user_id":13304918,"display_name":"xeniosth19"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689069837,"creation_date":1689069837,"question_id":76660808,"body_markdown":"I would like to have a horizontal scrolling carousel that will display news. Those news I would like to be like an infinite loop of cards. When I am on first cards I would have the ability to go back to the last and when I am on the last to be able to go back to the first card. \r\n\r\nAt the first run of the app where no scrolls have been taken place, when I scroll from the first to the second card, it appears the last card next to the first card but it scrolls to the second.\r\n\r\nWhen I try to scroll from the first to the last card, the last card appears also but it never scrolls like the first scenario. So I have to scroll two times to go from the first to the last. One time to appear the last card and another one to scroll from first to the last card.\r\n\r\nI would like to scroll immediately if it is possible.\r\n\r\n\r\nHere is my code:\r\n\r\n        newsAdapter = new NewsAdapter(newsList);\r\n        newsViewPager.setAdapter(newsAdapter);\r\n        newsViewPager.setClipToPadding(false);\r\n        newsViewPager.setClipChildren(false);\r\n        newsViewPager.setOffscreenPageLimit(3);\r\n        newsViewPager.getChildAt(0).setOverScrollMode(RecyclerView.OVER_SCROLL_NEVER);\r\n\r\n        CompositePageTransformer newsTransformer = new CompositePageTransformer();\r\n        newsTransformer.addTransformer(new MarginPageTransformer(40));\r\n        newsTransformer.addTransformer(new ViewPager2.PageTransformer() {\r\n            @Override\r\n            public void transformPage(@NonNull View page, float position) {\r\n                float r = 1 - Math.abs(position);\r\n                page.setScaleY(0.85f + r * 0.15f);\r\n            }\r\n        });\r\n\r\n        newsViewPager.setPageTransformer(newsTransformer);\r\n\r\n\r\nHere is my OnPageChangeCallback:\r\n        \r\n     private ViewPager2.OnPageChangeCallback onPageChangeCallback = new ViewPager2.OnPageChangeCallback() {\r\n        @Override\r\n        public void onPageSelected(int position) {\r\n            \r\n        }\r\n\r\n        @Override\r\n        public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {\r\n            super.onPageScrolled(position, positionOffset, positionOffsetPixels);\r\n            \r\n        }\r\n\r\n        @Override\r\n        public void onPageScrollStateChanged(int state) {\r\n            super.onPageScrollStateChanged(state);\r\n            if (state == ViewPager.SCROLL_STATE_IDLE) {\r\n                int currentEventItem = eventsViewPager.getCurrentItem();\r\n                int lastRealEventItem = eventsViewPager.getAdapter().getItemCount() - 2;\r\n                if (currentEventItem == 0) {\r\n                    eventsViewPager.setCurrentItem(lastRealEventItem, false);\r\n                } else if (currentEventItem &gt; lastRealEventItem) {\r\n                    eventsViewPager.setCurrentItem(1, false);\r\n                }\r\n\r\n                int currentNewItem = newsViewPager.getCurrentItem();\r\n                int lastRealNewItem = newsViewPager.getAdapter().getItemCount() - 2;\r\n\r\n                if (currentNewItem == 0) {\r\n                    newsViewPager.setCurrentItem(lastRealNewItem, false);\r\n                } else if (currentNewItem &gt; lastRealNewItem) {\r\n                    newsViewPager.setCurrentItem(1, false);\r\n                }\r\n\r\n            }\r\n        }\r\n    };\r\n\r\nHere is my newsAdapter:\r\n\r\n       public NewsAdapter(List&lt;New&gt; allNewsList) {\r\n        this.allNewsList = allNewsList;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.new_cardview, parent,false);\r\n        v.setLayoutParams(new LinearLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT));\r\n        return new ViewHolder(v);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        int itemCount = getItemCount() - 2;\r\n        int adjustedPosition = (position  + itemCount) % itemCount;\r\n\r\n        holder.newTitle.setText(allNewsList.get(adjustedPosition).getTitle());\r\n\r\n        if (allNewsList.get(adjustedPosition).getImage().isEmpty()) {\r\n            Picasso.get().cancelRequest(holder.newImage);\r\n            holder.newImage.setImageDrawable(null);\r\n        } else{\r\n            Picasso.get().load(allNewsList.get(adjustedPosition).getImage()).into(holder.newImage);\r\n        }\r\n\r\n\r\n\r\n        holder.view.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                Bundle bundle= new Bundle();\r\n                AppCompatActivity activity = (AppCompatActivity) holder.view.getContext();\r\n\r\n                bundle.putSerializable(&quot;newsList&quot;, (Serializable) allNewsList);\r\n                activity.getIntent().putExtra(&quot;title&quot;, allNewsList.get(adjustedPosition).getTitle());\r\n                activity.getIntent().putExtra(&quot;content&quot;, allNewsList.get(adjustedPosition).getContent());\r\n                activity.getIntent().putExtra(&quot;date&quot;, allNewsList.get(adjustedPosition).getDate());\r\n                activity.getIntent().putExtra(&quot;image&quot;, allNewsList.get(adjustedPosition).getImage());\r\n\r\n\r\n                NavController navController = Navigation.findNavController((Activity) view.getContext(), R.id.nav_host_fragment);\r\n                navController.navigate(R.id.action_homeFragment_to_newDetailsFragment);\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        int limit = 3;\r\n        return Math.min(allNewsList.size(), limit  + 2);\r\n    }","title":"How to make an infinite ViewPager2 with horizontal sroll?","body":"<p>I would like to have a horizontal scrolling carousel that will display news. Those news I would like to be like an infinite loop of cards. When I am on first cards I would have the ability to go back to the last and when I am on the last to be able to go back to the first card.</p>\n<p>At the first run of the app where no scrolls have been taken place, when I scroll from the first to the second card, it appears the last card next to the first card but it scrolls to the second.</p>\n<p>When I try to scroll from the first to the last card, the last card appears also but it never scrolls like the first scenario. So I have to scroll two times to go from the first to the last. One time to appear the last card and another one to scroll from first to the last card.</p>\n<p>I would like to scroll immediately if it is possible.</p>\n<p>Here is my code:</p>\n<pre><code>    newsAdapter = new NewsAdapter(newsList);\n    newsViewPager.setAdapter(newsAdapter);\n    newsViewPager.setClipToPadding(false);\n    newsViewPager.setClipChildren(false);\n    newsViewPager.setOffscreenPageLimit(3);\n    newsViewPager.getChildAt(0).setOverScrollMode(RecyclerView.OVER_SCROLL_NEVER);\n\n    CompositePageTransformer newsTransformer = new CompositePageTransformer();\n    newsTransformer.addTransformer(new MarginPageTransformer(40));\n    newsTransformer.addTransformer(new ViewPager2.PageTransformer() {\n        @Override\n        public void transformPage(@NonNull View page, float position) {\n            float r = 1 - Math.abs(position);\n            page.setScaleY(0.85f + r * 0.15f);\n        }\n    });\n\n    newsViewPager.setPageTransformer(newsTransformer);\n</code></pre>\n<p>Here is my OnPageChangeCallback:</p>\n<pre><code> private ViewPager2.OnPageChangeCallback onPageChangeCallback = new ViewPager2.OnPageChangeCallback() {\n    @Override\n    public void onPageSelected(int position) {\n        \n    }\n\n    @Override\n    public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {\n        super.onPageScrolled(position, positionOffset, positionOffsetPixels);\n        \n    }\n\n    @Override\n    public void onPageScrollStateChanged(int state) {\n        super.onPageScrollStateChanged(state);\n        if (state == ViewPager.SCROLL_STATE_IDLE) {\n            int currentEventItem = eventsViewPager.getCurrentItem();\n            int lastRealEventItem = eventsViewPager.getAdapter().getItemCount() - 2;\n            if (currentEventItem == 0) {\n                eventsViewPager.setCurrentItem(lastRealEventItem, false);\n            } else if (currentEventItem &gt; lastRealEventItem) {\n                eventsViewPager.setCurrentItem(1, false);\n            }\n\n            int currentNewItem = newsViewPager.getCurrentItem();\n            int lastRealNewItem = newsViewPager.getAdapter().getItemCount() - 2;\n\n            if (currentNewItem == 0) {\n                newsViewPager.setCurrentItem(lastRealNewItem, false);\n            } else if (currentNewItem &gt; lastRealNewItem) {\n                newsViewPager.setCurrentItem(1, false);\n            }\n\n        }\n    }\n};\n</code></pre>\n<p>Here is my newsAdapter:</p>\n<pre><code>   public NewsAdapter(List&lt;New&gt; allNewsList) {\n    this.allNewsList = allNewsList;\n}\n\n@NonNull\n@Override\npublic ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.new_cardview, parent,false);\n    v.setLayoutParams(new LinearLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT));\n    return new ViewHolder(v);\n}\n\n@Override\npublic void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n    int itemCount = getItemCount() - 2;\n    int adjustedPosition = (position  + itemCount) % itemCount;\n\n    holder.newTitle.setText(allNewsList.get(adjustedPosition).getTitle());\n\n    if (allNewsList.get(adjustedPosition).getImage().isEmpty()) {\n        Picasso.get().cancelRequest(holder.newImage);\n        holder.newImage.setImageDrawable(null);\n    } else{\n        Picasso.get().load(allNewsList.get(adjustedPosition).getImage()).into(holder.newImage);\n    }\n\n\n\n    holder.view.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n\n            Bundle bundle= new Bundle();\n            AppCompatActivity activity = (AppCompatActivity) holder.view.getContext();\n\n            bundle.putSerializable(&quot;newsList&quot;, (Serializable) allNewsList);\n            activity.getIntent().putExtra(&quot;title&quot;, allNewsList.get(adjustedPosition).getTitle());\n            activity.getIntent().putExtra(&quot;content&quot;, allNewsList.get(adjustedPosition).getContent());\n            activity.getIntent().putExtra(&quot;date&quot;, allNewsList.get(adjustedPosition).getDate());\n            activity.getIntent().putExtra(&quot;image&quot;, allNewsList.get(adjustedPosition).getImage());\n\n\n            NavController navController = Navigation.findNavController((Activity) view.getContext(), R.id.nav_host_fragment);\n            navController.navigate(R.id.action_homeFragment_to_newDetailsFragment);\n        }\n    });\n\n}\n\n\n@Override\npublic int getItemCount() {\n    int limit = 3;\n    return Math.min(allNewsList.size(), limit  + 2);\n}\n</code></pre>\n"},{"tags":["java","url-shortener","amazon-product-advertising-api"],"answers":[{"tags":[],"owner":{"account_id":25085368,"reputation":5,"user_id":18937650,"display_name":"active user"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1689069046,"creation_date":1689069046,"answer_id":76660707,"question_id":76660439,"body_markdown":"The Amazon Product Advertising API does not provide a direct method for generating shortened URLs. Therefore, you&#39;ll need to use a separate URL shortening service, such as Bitly or TinyURL, to accomplish this.\r\n\r\nHere&#39;s an example of how you can achieve this using the Bitly API:\r\n\r\n**1.** Sign up for a Bitly account and obtain an API key. You can refer to the Bitly API documentation for more details on how to acquire the API key.\r\n\r\n**2.** Add the necessary dependencies to your Java project. You&#39;ll need an HTTP client library, such as Apache HttpClient or OkHttp, to make API requests. You can include the required libraries by adding the appropriate dependencies to your build configuration (e.g., Maven or Gradle).\r\n\r\n**3.** Use the following Java method to generate a shortened URL using the Bitly API:\r\n\r\n\r\n    import org.apache.http.HttpEntity;\r\n    import org.apache.http.HttpResponse;\r\n    import org.apache.http.client.HttpClient;\r\n    import org.apache.http.client.methods.HttpPost;\r\n    import org.apache.http.entity.StringEntity;\r\n    import org.apache.http.impl.client.HttpClientBuilder;\r\n    import org.apache.http.util.EntityUtils;\r\n    import org.json.JSONObject;\r\n    \r\n    import java.io.IOException;\r\n\r\n    public class AmazonURLShortener {\r\n      private static final String BITLY_API_URL = &quot;https://api-ssl.bitly.com/v4/shorten&quot;;\r\n      private static final String BITLY_ACCESS_TOKEN = &quot;YOUR_BITLY_ACCESS_TOKEN&quot;;\r\n\r\n      public static String shortenAmazonURL(String amazonProductURL) throws IOException {\r\n        HttpClient httpClient = HttpClientBuilder.create().build();\r\n        HttpPost request = new HttpPost(BITLY_API_URL);\r\n\r\n        // Set the request headers\r\n        request.addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n        request.addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + BITLY_ACCESS_TOKEN);\r\n\r\n        // Prepare the request body\r\n        JSONObject requestBody = new JSONObject();\r\n        requestBody.put(&quot;long_url&quot;, amazonProductURL);\r\n        StringEntity params = new StringEntity(requestBody.toString());\r\n        request.setEntity(params);\r\n\r\n        // Send the API request\r\n        HttpResponse response = httpClient.execute(request);\r\n        HttpEntity responseEntity = response.getEntity();\r\n\r\n        // Parse the response\r\n        if (responseEntity != null) {\r\n            String responseJson = EntityUtils.toString(responseEntity);\r\n            JSONObject jsonResponse = new JSONObject(responseJson);\r\n            return jsonResponse.getString(&quot;link&quot;);\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            String amazonProductURL = &quot;YOUR_AMAZON_PRODUCT_URL&quot;;\r\n            String shortenedURL = shortenAmazonURL(amazonProductURL);\r\n            System.out.println(&quot;Shortened URL: &quot; + shortenedURL);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\nMake sure to replace &quot;YOUR_BITLY_ACCESS_TOKEN&quot; with your actual Bitly API access token and provide the Amazon product URL as &quot;YOUR_AMAZON_PRODUCT_URL&quot;. Additionally, ensure that you&#39;ve added the necessary dependencies for the HTTP client library you choose to use.\r\n\r\nNote that this example uses the Bitly API, but you can adapt it to work with other URL shortening services by modifying the API endpoint and request parameters accordingly.","title":"Generating Shortened Amazon URLs using Product Advertising API in Java","body":"<p>The Amazon Product Advertising API does not provide a direct method for generating shortened URLs. Therefore, you'll need to use a separate URL shortening service, such as Bitly or TinyURL, to accomplish this.</p>\n<p>Here's an example of how you can achieve this using the Bitly API:</p>\n<p><strong>1.</strong> Sign up for a Bitly account and obtain an API key. You can refer to the Bitly API documentation for more details on how to acquire the API key.</p>\n<p><strong>2.</strong> Add the necessary dependencies to your Java project. You'll need an HTTP client library, such as Apache HttpClient or OkHttp, to make API requests. You can include the required libraries by adding the appropriate dependencies to your build configuration (e.g., Maven or Gradle).</p>\n<p><strong>3.</strong> Use the following Java method to generate a shortened URL using the Bitly API:</p>\n<pre><code>import org.apache.http.HttpEntity;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.client.HttpClient;\nimport org.apache.http.client.methods.HttpPost;\nimport org.apache.http.entity.StringEntity;\nimport org.apache.http.impl.client.HttpClientBuilder;\nimport org.apache.http.util.EntityUtils;\nimport org.json.JSONObject;\n\nimport java.io.IOException;\n\npublic class AmazonURLShortener {\n  private static final String BITLY_API_URL = &quot;https://api-ssl.bitly.com/v4/shorten&quot;;\n  private static final String BITLY_ACCESS_TOKEN = &quot;YOUR_BITLY_ACCESS_TOKEN&quot;;\n\n  public static String shortenAmazonURL(String amazonProductURL) throws IOException {\n    HttpClient httpClient = HttpClientBuilder.create().build();\n    HttpPost request = new HttpPost(BITLY_API_URL);\n\n    // Set the request headers\n    request.addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\n    request.addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + BITLY_ACCESS_TOKEN);\n\n    // Prepare the request body\n    JSONObject requestBody = new JSONObject();\n    requestBody.put(&quot;long_url&quot;, amazonProductURL);\n    StringEntity params = new StringEntity(requestBody.toString());\n    request.setEntity(params);\n\n    // Send the API request\n    HttpResponse response = httpClient.execute(request);\n    HttpEntity responseEntity = response.getEntity();\n\n    // Parse the response\n    if (responseEntity != null) {\n        String responseJson = EntityUtils.toString(responseEntity);\n        JSONObject jsonResponse = new JSONObject(responseJson);\n        return jsonResponse.getString(&quot;link&quot;);\n    }\n\n    return null;\n}\n\npublic static void main(String[] args) {\n    try {\n        String amazonProductURL = &quot;YOUR_AMAZON_PRODUCT_URL&quot;;\n        String shortenedURL = shortenAmazonURL(amazonProductURL);\n        System.out.println(&quot;Shortened URL: &quot; + shortenedURL);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n}\n</code></pre>\n<p>Make sure to replace &quot;YOUR_BITLY_ACCESS_TOKEN&quot; with your actual Bitly API access token and provide the Amazon product URL as &quot;YOUR_AMAZON_PRODUCT_URL&quot;. Additionally, ensure that you've added the necessary dependencies for the HTTP client library you choose to use.</p>\n<p>Note that this example uses the Bitly API, but you can adapt it to work with other URL shortening services by modifying the API endpoint and request parameters accordingly.</p>\n"}],"owner":{"account_id":28993245,"reputation":1,"user_id":22208493,"display_name":"Francesco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1689069046,"creation_date":1689067198,"question_id":76660439,"body_markdown":"I would like to create a Java method that utilizes the Amazon Product Advertising API to generate a shortened URL in the format https://amzn.to/XXXX from an Amazon product URL.\r\n\r\nI am looking for guidance on how to achieve this functionality using the Product Advertising API in Java.\r\n\r\nAny code examples, relevant documentation references, or step-by-step instructions would be greatly appreciated. Thank you!\r\n\r\nBy reading the documentation, I couldn&#39;t find anything related to it.","title":"Generating Shortened Amazon URLs using Product Advertising API in Java","body":"<p>I would like to create a Java method that utilizes the Amazon Product Advertising API to generate a shortened URL in the format <a href=\"https://amzn.to/XXXX\" rel=\"nofollow noreferrer\">https://amzn.to/XXXX</a> from an Amazon product URL.</p>\n<p>I am looking for guidance on how to achieve this functionality using the Product Advertising API in Java.</p>\n<p>Any code examples, relevant documentation references, or step-by-step instructions would be greatly appreciated. Thank you!</p>\n<p>By reading the documentation, I couldn't find anything related to it.</p>\n"},{"tags":["java","search"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1421503119,"post_id":28000193,"comment_id":44389607,"body_markdown":"Can you expand on your requirements, specifically, what type of output are you desiring and how your current code does not meet your needs?","body":"Can you expand on your requirements, specifically, what type of output are you desiring and how your current code does not meet your needs?"}],"answers":[{"tags":[],"owner":{"account_id":5612515,"reputation":6596,"user_id":4464570,"accept_rate":71,"display_name":"Byte Commander"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1421503468,"creation_date":1421503468,"answer_id":28000254,"question_id":28000193,"body_markdown":"Currently when you found something, you call  \r\n`System.out.println(line.contains(userSearch));`  \r\nwhich as far as I know would print either &quot;true&quot; or &quot;false&quot; as String.contains(String) should return a boolean value.  \r\nTo print the whole line just use `System.out.println(line);`  \r\nOr what would you like to see instead?\r\n\r\nAnd I do not know what your `val` variable is for, but if it just says &quot;result found&quot; or &quot;not found&quot; you could use boolean. If you want to count the results, write `var++;` when it found something and nothing if the line does not contain the result. It&#39;s not about your question, but maybe useful too.","title":"Search, and display results from a text document in java","body":"<p>Currently when you found something, you call<br>\n<code>System.out.println(line.contains(userSearch));</code><br>\nwhich as far as I know would print either \"true\" or \"false\" as String.contains(String) should return a boolean value.<br>\nTo print the whole line just use <code>System.out.println(line);</code><br>\nOr what would you like to see instead?</p>\n\n<p>And I do not know what your <code>val</code> variable is for, but if it just says \"result found\" or \"not found\" you could use boolean. If you want to count the results, write <code>var++;</code> when it found something and nothing if the line does not contain the result. It's not about your question, but maybe useful too.</p>\n"},{"tags":[],"owner":{"account_id":27732972,"reputation":1,"user_id":21171123,"display_name":"Pawanthi Madushani"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689068968,"creation_date":1675846139,"answer_id":75383253,"question_id":28000193,"body_markdown":"class person`private int age ; private person`age =24;`\r\n\r\nPublic clasa Test`public static void main(string[]args`person p = new person();System.out.println(p.age);\r\n","title":"Search, and display results from a text document in java","body":"<p>class person<code>private int age ; private person</code>age =24;`</p>\n<p>Public clasa Test<code>public static void main(string[]args</code>person p = new person();System.out.println(p.age);</p>\n"}],"owner":{"account_id":5493767,"reputation":3,"user_id":4365607,"display_name":"Nathan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":806,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":28000254,"answer_count":2,"score":0,"last_activity_date":1689068968,"creation_date":1421503036,"question_id":28000193,"body_markdown":"I&#39;m trying to search a text document in Java for a user defined input, below is my current code. All this code is doing is telling me that whatever I search is in the document but I&#39;m puzzled on how to display the actual results. Any help will be much appreciated.\r\n\r\n\r\n    String userSearch = &quot;&quot;; int val = 0;\r\n    while(!userSearch.matches(&quot;quit&quot;))\r\n    {\r\n        System.out.println(&quot;Enter the word to be searched for&quot;);\r\n        Scanner input = new Scanner(System.in);\r\n        Scanner file = new Scanner(new File(&quot;file.txt&quot;));\r\n        userSearch = input.next();\r\n\r\n        while(file.hasNextLine())           \r\n        {\r\n            String line = file.nextLine();\r\n            if(line.contains(userSearch))\r\n            {\r\n                System.out.println(line.contains(userSearch));\r\n                val = 1;\r\n                break;\r\n            }\r\n            else\r\n            {\r\n                val = 0;\r\n                continue;\r\n            }\r\n    }\r\n\r\n","title":"Search, and display results from a text document in java","body":"<p>I'm trying to search a text document in Java for a user defined input, below is my current code. All this code is doing is telling me that whatever I search is in the document but I'm puzzled on how to display the actual results. Any help will be much appreciated.</p>\n\n<pre><code>String userSearch = \"\"; int val = 0;\nwhile(!userSearch.matches(\"quit\"))\n{\n    System.out.println(\"Enter the word to be searched for\");\n    Scanner input = new Scanner(System.in);\n    Scanner file = new Scanner(new File(\"file.txt\"));\n    userSearch = input.next();\n\n    while(file.hasNextLine())           \n    {\n        String line = file.nextLine();\n        if(line.contains(userSearch))\n        {\n            System.out.println(line.contains(userSearch));\n            val = 1;\n            break;\n        }\n        else\n        {\n            val = 0;\n            continue;\n        }\n}\n</code></pre>\n"},{"tags":["java","rest","authentication","https"],"comments":[{"owner":{"account_id":8254918,"reputation":446,"user_id":6208386,"display_name":"Rolson Quadras"},"score":2,"creation_date":1462448914,"post_id":37049783,"comment_id":61647077,"body_markdown":"The error message says  &quot;The request body did not contain valid JSON&quot;. Check the post body (json) - Particularly -  post.setEntity(new UrlEncodedFormEntity(nameValuePairs));","body":"The error message says  &quot;The request body did not contain valid JSON&quot;. Check the post body (json) - Particularly -  post.setEntity(new UrlEncodedFormEntity(nameValuePairs));"},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":1,"creation_date":1462449591,"post_id":37049783,"comment_id":61647490,"body_markdown":"UrlEncodedForm is not JSON. And why would the credentials go into both POST body and Auth header?","body":"UrlEncodedForm is not JSON. And why would the credentials go into both POST body and Auth header?"},{"owner":{"account_id":256418,"reputation":807,"user_id":537126,"accept_rate":100,"display_name":"ironmantis7x"},"score":0,"creation_date":1462449694,"post_id":37049783,"comment_id":61647543,"body_markdown":"how do I make the UrlEncodedForm json??","body":"how do I make the UrlEncodedForm json??"}],"owner":{"account_id":256418,"reputation":807,"user_id":537126,"accept_rate":100,"display_name":"ironmantis7x"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689068544,"creation_date":1462448779,"question_id":37049783,"body_markdown":"I am trying to write a Java class file that authenticates to a system using a HTTP Rest call )post in this case).\r\n\r\nI have tried the following code, but I get an error stating: \r\n\r\n    {&quot;errors&quot;:[{&quot;message&quot;:&quot;The request could not be understood&quot;,&quot;developerMessage&quot;:&quot;The request body did not contain valid JSON&quot;}]}\r\n\r\nhere is my code:\r\n\r\n    public class simplePost {\r\n    \r\n        private final String USER_AGENT = &quot;Mozilla/5.0&quot;;\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            HttpClient client = new DefaultHttpClient();\r\n            HttpPost post = new HttpPost(&quot;https://xxxxxx/xxxxx/token&quot;);\r\n    \r\n            CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\r\n            credentialsProvider.setCredentials(AuthScope.ANY,\r\n                    new UsernamePasswordCredentials(&quot;username&quot;, &quot;password&quot;));\r\n    \r\n            List nameValuePairs = new ArrayList(1);\r\n            nameValuePairs.add(new BasicNameValuePair(&quot;username&quot;, &quot;xxxxxxxxxx&quot;)); \r\n            nameValuePairs.add(new BasicNameValuePair(&quot;password&quot;, &quot;xxxxxx&quot;));\r\n    \r\n            post.setEntity(new UrlEncodedFormEntity(nameValuePairs));\r\n            HttpResponse response = client.execute(post);\r\n            BufferedReader rd = new BufferedReader(new InputStreamReader(response.getEntity().getContent()));\r\n            String line;\r\n            while ((line = rd.readLine()) != null) {\r\n                System.out.println(line);\r\n            }\r\n        }\r\n    }\r\n\r\nI am not sure why I am getting this error. When I put in the URI and login information in Postman or AdvanceRestClient, I get the proper response.\r\n","title":"How to make a valid REST call with authentication in Java","body":"<p>I am trying to write a Java class file that authenticates to a system using a HTTP Rest call )post in this case).</p>\n<p>I have tried the following code, but I get an error stating:</p>\n<pre><code>{&quot;errors&quot;:[{&quot;message&quot;:&quot;The request could not be understood&quot;,&quot;developerMessage&quot;:&quot;The request body did not contain valid JSON&quot;}]}\n</code></pre>\n<p>here is my code:</p>\n<pre><code>public class simplePost {\n\n    private final String USER_AGENT = &quot;Mozilla/5.0&quot;;\n\n    public static void main(String[] args) throws IOException {\n        HttpClient client = new DefaultHttpClient();\n        HttpPost post = new HttpPost(&quot;https://xxxxxx/xxxxx/token&quot;);\n\n        CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\n        credentialsProvider.setCredentials(AuthScope.ANY,\n                new UsernamePasswordCredentials(&quot;username&quot;, &quot;password&quot;));\n\n        List nameValuePairs = new ArrayList(1);\n        nameValuePairs.add(new BasicNameValuePair(&quot;username&quot;, &quot;xxxxxxxxxx&quot;)); \n        nameValuePairs.add(new BasicNameValuePair(&quot;password&quot;, &quot;xxxxxx&quot;));\n\n        post.setEntity(new UrlEncodedFormEntity(nameValuePairs));\n        HttpResponse response = client.execute(post);\n        BufferedReader rd = new BufferedReader(new InputStreamReader(response.getEntity().getContent()));\n        String line;\n        while ((line = rd.readLine()) != null) {\n            System.out.println(line);\n        }\n    }\n}\n</code></pre>\n<p>I am not sure why I am getting this error. When I put in the URI and login information in Postman or AdvanceRestClient, I get the proper response.</p>\n"},{"tags":["java","lambda","function-composition"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1689022918,"post_id":76657128,"comment_id":135151890,"body_markdown":"I would be shocked if this actually resulted in any performance improvement in the end.  I would expect the JIT to fully optimize this away in actual code.","body":"I would be shocked if this actually resulted in any performance improvement in the end.  I would expect the JIT to fully optimize this away in actual code."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1689025627,"post_id":76657128,"comment_id":135152231,"body_markdown":"&quot;I would expect the JIT to fully optimize this away in actual code.&quot; @LouisWasserman I guess that is what this question comes down to: is there any remnant of `Function.identity()` in the bytecode (or I suppose more importantly at runtime after the JRE kicks in) after a call to `andThen()`. If something remains of `Function.identity()` that isn&#39;t 100% optimized away, it seems useful to me to improve the code, even if it doesn&#39;t result in any significant performance improvement. Maybe I&#39;ve been reading too much about Rust and all the free lunches it provides at the compiler level. &#128518;","body":"&quot;I would expect the JIT to fully optimize this away in actual code.&quot; @LouisWasserman I guess that is what this question comes down to: is there any remnant of <code>Function.identity()</code> in the bytecode (or I suppose more importantly at runtime after the JRE kicks in) after a call to <code>andThen()</code>. If something remains of <code>Function.identity()</code> that isn&#39;t 100% optimized away, it seems useful to me to improve the code, even if it doesn&#39;t result in any significant performance improvement. Maybe I&#39;ve been reading too much about Rust and all the free lunches it provides at the compiler level. 😆"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1689031973,"post_id":76657128,"comment_id":135152942,"body_markdown":"&quot;This is equivalent to the following: ... `String foo = Function.identity().apply(&quot;foo&quot;).andThen(String::toUpperCase);`&quot;: no it isn&#39;t. `apply()` returns a `String` in this case, and `String` has no `andThen()` function. You are correct that you don&#39;t need the initial `Function.identity()` call in your example ... so why did you write it?","body":"&quot;This is equivalent to the following: ... <code>String foo = Function.identity().apply(&quot;foo&quot;).andThen(String::toUpperCase&zwnj;&#8203;);</code>&quot;: no it isn&#39;t. <code>apply()</code> returns a <code>String</code> in this case, and <code>String</code> has no <code>andThen()</code> function. You are correct that you don&#39;t need the initial <code>Function.identity()</code> call in your example ... so why did you write it?"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1689035754,"post_id":76657128,"comment_id":135153275,"body_markdown":"(sigh) @user207421 you are missing the point. By &quot;equivalent&quot; here I merely meant that there remains an invocation to the `Function.identity()` in the chain; it is equivalent to two separate operations, not one as in my modified `andThen()`. And I already explained that I&#39;m creating a chain of composed functions. I can start with a &quot;seed&quot; of `null` or a &quot;seed&quot; of `Function.identity()`. The later will prevent a `null` check for the first &quot;link&quot; in the chain if I use `andThen()`; hence this question.","body":"(sigh) @user207421 you are missing the point. By &quot;equivalent&quot; here I merely meant that there remains an invocation to the <code>Function.identity()</code> in the chain; it is equivalent to two separate operations, not one as in my modified <code>andThen()</code>. And I already explained that I&#39;m creating a chain of composed functions. I can start with a &quot;seed&quot; of <code>null</code> or a &quot;seed&quot; of <code>Function.identity()</code>. The later will prevent a <code>null</code> check for the first &quot;link&quot; in the chain if I use <code>andThen()</code>; hence this question."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1689041715,"post_id":76657128,"comment_id":135153802,"body_markdown":"It is highly unlikely it will be optimized away at the bytecode level.  After JIT compilation?  Maybe.  It is liable to be version dependent.  But you can get the JVM to show you the JIT-compiled native code and check for yourself.","body":"It is highly unlikely it will be optimized away at the bytecode level.  After JIT compilation?  Maybe.  It is liable to be version dependent.  But you can get the JVM to show you the JIT-compiled native code and check for yourself."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1689068737,"post_id":76657128,"comment_id":135157475,"body_markdown":"You haven&#39;t answered my objection or my question. My objection: the equivalence you stated is false. My question: if you don&#39;t want `Function.identity()`, why did you write it?","body":"You haven&#39;t answered my objection or my question. My objection: the equivalence you stated is false. My question: if you don&#39;t want <code>Function.identity()</code>, why did you write it?"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1689096591,"post_id":76657128,"comment_id":135163799,"body_markdown":"@StephenC that&#39;s pretty much what I thought. At the end of the day I think I&#39;ll need to take a few hours and decompile what `javac` puts out and see what winds up in the bytecode. I just was curious if someone had done that before and already knew the answer. Looks like that is not the case, and I&#39;ll just have to dig into this myself. I&#39;ll report back my findings if I get the time to do that. I can also file a JDK ticket.","body":"@StephenC that&#39;s pretty much what I thought. At the end of the day I think I&#39;ll need to take a few hours and decompile what <code>javac</code> puts out and see what winds up in the bytecode. I just was curious if someone had done that before and already knew the answer. Looks like that is not the case, and I&#39;ll just have to dig into this myself. I&#39;ll report back my findings if I get the time to do that. I can also file a JDK ticket."}],"answers":[{"tags":[],"owner":{"account_id":25926563,"reputation":119,"user_id":19648355,"display_name":"Irremediable"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689068442,"creation_date":1689023763,"answer_id":76657397,"question_id":76657128,"body_markdown":"Function.identity() is usefull when some method expect to receive mapper Function object but transformation in **your use case** is not needed.\r\n\r\n    public class Person {\r\n        private String name;\r\n    \r\n        public Person(String name) {\r\n          this.name = name;\r\n        }\r\n    \r\n        public String getName() {\r\n          return name;\r\n        }\r\n      }\r\n      \r\n      ....\r\n      \r\n      public Map&lt;String, Person&gt; getPersonsMap() {\r\n        List&lt;Person&gt; persons = repo.findAll();\r\n        \r\n        return persons.stream()\r\n            .collect(Collectors.toMap(Person::getName, Function.identity()));\r\n      }\r\n\r\n Due to nature of lambda functions in Java, each occurance of `item -&gt; item` will lead to creating implementation class, whereas `Function.identity()` will not. See more [here][1]\r\n\r\nTransformations on optional objects available throught Optional class which has methods pretty close to Stream API: \r\n\r\n    Optional.ofNullable(person.getName())\r\n             .map(name -&gt; name.toUpperCase())\r\n             .orElseThrow(() -&gt; new RuntimeException(&quot;Name is null!&quot;));\r\n\r\n**EDIT:**\r\nJLS doesn&#39;t gurantee any kind of optimization work to be made.\r\nInteresting mentions: \r\n\r\n[8.4.3.2][2] - An instance method is always invoked with respect to an object, which becomes the current object to which the keywords this and super refer during execution of the method body. (andThen is non-static)\r\n\r\n[8.4.3.3][2] - exception checks before optimizing code should be performed. (andThen can throw NullPointerException)\r\n\r\n[13.4.22][3] - final method modifier don&#39;t prove it can be optimized at runtime\r\n\r\nSo, it&#39;s seems that JIT will try to optimize `Function.identity().andThen(String::toUpperCase)` to be executed like `String::toUpperCase` but it is not not &quot;**optimized away**&quot; regarding  ticks of CPU, since lambdas method look up still should be perfomerd together with additional checks of its body.\r\n\r\n  [1]: https://stackoverflow.com/questions/23983832/is-method-reference-caching-a-good-idea-in-java-8/23991339#23991339\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.4.3.2\r\n  [3]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-13.html#jls-13.4.22","title":"Making Java identify function composition more efficient","body":"<p>Function.identity() is usefull when some method expect to receive mapper Function object but transformation in <strong>your use case</strong> is not needed.</p>\n<pre><code>public class Person {\n    private String name;\n\n    public Person(String name) {\n      this.name = name;\n    }\n\n    public String getName() {\n      return name;\n    }\n  }\n  \n  ....\n  \n  public Map&lt;String, Person&gt; getPersonsMap() {\n    List&lt;Person&gt; persons = repo.findAll();\n    \n    return persons.stream()\n        .collect(Collectors.toMap(Person::getName, Function.identity()));\n  }\n</code></pre>\n<p>Due to nature of lambda functions in Java, each occurance of <code>item -&gt; item</code> will lead to creating implementation class, whereas <code>Function.identity()</code> will not. See more <a href=\"https://stackoverflow.com/questions/23983832/is-method-reference-caching-a-good-idea-in-java-8/23991339#23991339\">here</a></p>\n<p>Transformations on optional objects available throught Optional class which has methods pretty close to Stream API:</p>\n<pre><code>Optional.ofNullable(person.getName())\n         .map(name -&gt; name.toUpperCase())\n         .orElseThrow(() -&gt; new RuntimeException(&quot;Name is null!&quot;));\n</code></pre>\n<p><strong>EDIT:</strong>\nJLS doesn't gurantee any kind of optimization work to be made.\nInteresting mentions:</p>\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.4.3.2\" rel=\"nofollow noreferrer\">8.4.3.2</a> - An instance method is always invoked with respect to an object, which becomes the current object to which the keywords this and super refer during execution of the method body. (andThen is non-static)</p>\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.4.3.2\" rel=\"nofollow noreferrer\">8.4.3.3</a> - exception checks before optimizing code should be performed. (andThen can throw NullPointerException)</p>\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-13.html#jls-13.4.22\" rel=\"nofollow noreferrer\">13.4.22</a> - final method modifier don't prove it can be optimized at runtime</p>\n<p>So, it's seems that JIT will try to optimize <code>Function.identity().andThen(String::toUpperCase)</code> to be executed like <code>String::toUpperCase</code> but it is not not &quot;<strong>optimized away</strong>&quot; regarding  ticks of CPU, since lambdas method look up still should be perfomerd together with additional checks of its body.</p>\n"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1689068442,"creation_date":1689020856,"question_id":76657128,"body_markdown":"Java has `java.util.function.Function.identity(T)` which return a function equivalent to the lambda expression `t -&gt; t` (and in fact that is the precise implementation on OpenJDK 17, which I&#39;m looking at that the moment). This means that the returned function is guaranteed to do _nothing at all_ to the input, and merely pass it back, as if there was no function to begin with.\r\n\r\nSo let&#39;s say I compose that function with another one using `Function.andThen()`:\r\n\r\n```java\r\nFunction&lt;String, String&gt; fn = Function.identity();\r\nFunction&lt;String, String&gt; composedFn = fn.andThen(String::toUpperCase);\r\nString foo = composedFn(&quot;foo&quot;);  //yields &quot;FOO&quot;\r\n```\r\n\r\nThis is equivalent to the following, and I would assume (which gets me in trouble sometimes, which is why I&#39;m asking this question) that all of the following would occur in the bytecode—the compiler would not optimize any of the lambda invocations away. (I don&#39;t know what the JRE would do at runtime after compiling, though—could it eliminate the `Function.identity()` altogether?)\r\n\r\n```java\r\nString foo = Function.identity().apply(&quot;foo&quot;).andThen(String::toUpperCase);\r\n```\r\n\r\nOr the equivalent procedural code:\r\n\r\n```java\r\nString foo = Function.identity().apply(&quot;foo&quot;).toUpperCase();\r\n```\r\n\r\nWhat I don&#39;t understand is why we need `Function.identity()` at all after composition. In other words, what if `Function.identity()` were implemented like this (somewhat pseudocode, ignoring irrelevant syntax details):\r\n\r\n```\r\nstatic &lt;T&gt; Function&lt;T, T&gt; identity() {\r\n  return new Function() {\r\n\r\n    @Override\r\n    T apply(T t) {\r\n      return t;\r\n    }\r\n\r\n    @Override\r\n    &lt;V&gt; Function&lt;T, V&gt; andThen(Function&lt;? super R, ? extends V&gt; after) {\r\n      return after;\r\n    }\r\n\r\n  }\r\n}\r\n```\r\n\r\nThe point is that if the identity function is guaranteed to act _as if it did not exist in the chain_), can&#39;t function composition `andThen()` simply _return the `after` function itself_, taking the identify function out of the composition chain altogether?\r\n\r\nThe original code would then be equivalent to the following (pseudocode):\r\n\r\n```java\r\nString foo = ((Function&lt;&gt;)(String::toUpperCase)).apply&quot;foo&quot;);\r\n```\r\n\r\nOr the equivalent procedural code:\r\n\r\n```java\r\nString foo = &quot;foo&quot;.toUpperCase();\r\n```\r\n\r\nWouldn&#39;t this be more efficient? Perhaps the gained efficiency would be miniscule, but if it would provide an efficiency gain with no downsides, couldn&#39;t we improve `Function.identity()` in this way?\r\n\r\nPlease let me know if I&#39;m missing some reason why this won&#39;t work, or if the `Function.identity()` would be 100% optimized away somehow. Otherwise it seems like something I should submit a ticket for to improve the JDK.\r\n\r\nHere is why this is useful: there are many situations in which I may want to have optional tranformations be configured to something. By default I could simply set the transformation to `null`, and then do `null` checking to see if I wanted to add a transformation. But I&#39;d prefer to avoid `null`s altogether. It would be better to default to `Function.identity()` and allow transformations to be added using `andThen()` without needing to check for `null`. If the identity function were improved as I suggest, it seems that I would lose zero efficiency by defaulting to `Function.identity()` rather than defaulting to `null` and checking for `null` every time I add a function composition. Without this improvement, it seems I would be stuck with `t -&gt; t` in the chain. It&#39;s not clear to me whether this is optimized away 100%.","title":"Making Java identify function composition more efficient","body":"<p>Java has <code>java.util.function.Function.identity(T)</code> which return a function equivalent to the lambda expression <code>t -&gt; t</code> (and in fact that is the precise implementation on OpenJDK 17, which I'm looking at that the moment). This means that the returned function is guaranteed to do <em>nothing at all</em> to the input, and merely pass it back, as if there was no function to begin with.</p>\n<p>So let's say I compose that function with another one using <code>Function.andThen()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Function&lt;String, String&gt; fn = Function.identity();\nFunction&lt;String, String&gt; composedFn = fn.andThen(String::toUpperCase);\nString foo = composedFn(&quot;foo&quot;);  //yields &quot;FOO&quot;\n</code></pre>\n<p>This is equivalent to the following, and I would assume (which gets me in trouble sometimes, which is why I'm asking this question) that all of the following would occur in the bytecode—the compiler would not optimize any of the lambda invocations away. (I don't know what the JRE would do at runtime after compiling, though—could it eliminate the <code>Function.identity()</code> altogether?)</p>\n<pre class=\"lang-java prettyprint-override\"><code>String foo = Function.identity().apply(&quot;foo&quot;).andThen(String::toUpperCase);\n</code></pre>\n<p>Or the equivalent procedural code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String foo = Function.identity().apply(&quot;foo&quot;).toUpperCase();\n</code></pre>\n<p>What I don't understand is why we need <code>Function.identity()</code> at all after composition. In other words, what if <code>Function.identity()</code> were implemented like this (somewhat pseudocode, ignoring irrelevant syntax details):</p>\n<pre><code>static &lt;T&gt; Function&lt;T, T&gt; identity() {\n  return new Function() {\n\n    @Override\n    T apply(T t) {\n      return t;\n    }\n\n    @Override\n    &lt;V&gt; Function&lt;T, V&gt; andThen(Function&lt;? super R, ? extends V&gt; after) {\n      return after;\n    }\n\n  }\n}\n</code></pre>\n<p>The point is that if the identity function is guaranteed to act <em>as if it did not exist in the chain</em>), can't function composition <code>andThen()</code> simply <em>return the <code>after</code> function itself</em>, taking the identify function out of the composition chain altogether?</p>\n<p>The original code would then be equivalent to the following (pseudocode):</p>\n<pre class=\"lang-java prettyprint-override\"><code>String foo = ((Function&lt;&gt;)(String::toUpperCase)).apply&quot;foo&quot;);\n</code></pre>\n<p>Or the equivalent procedural code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String foo = &quot;foo&quot;.toUpperCase();\n</code></pre>\n<p>Wouldn't this be more efficient? Perhaps the gained efficiency would be miniscule, but if it would provide an efficiency gain with no downsides, couldn't we improve <code>Function.identity()</code> in this way?</p>\n<p>Please let me know if I'm missing some reason why this won't work, or if the <code>Function.identity()</code> would be 100% optimized away somehow. Otherwise it seems like something I should submit a ticket for to improve the JDK.</p>\n<p>Here is why this is useful: there are many situations in which I may want to have optional tranformations be configured to something. By default I could simply set the transformation to <code>null</code>, and then do <code>null</code> checking to see if I wanted to add a transformation. But I'd prefer to avoid <code>null</code>s altogether. It would be better to default to <code>Function.identity()</code> and allow transformations to be added using <code>andThen()</code> without needing to check for <code>null</code>. If the identity function were improved as I suggest, it seems that I would lose zero efficiency by defaulting to <code>Function.identity()</code> rather than defaulting to <code>null</code> and checking for <code>null</code> every time I add a function composition. Without this improvement, it seems I would be stuck with <code>t -&gt; t</code> in the chain. It's not clear to me whether this is optimized away 100%.</p>\n"},{"tags":["java","soap","jax-rs"],"comments":[{"owner":{"account_id":20837216,"reputation":11,"user_id":19849947,"display_name":"Mahajan"},"score":0,"creation_date":1688726386,"post_id":76629729,"comment_id":135115726,"body_markdown":"Is there any issue with jar file, any help would be appreciated","body":"Is there any issue with jar file, any help would be appreciated"}],"owner":{"account_id":20837216,"reputation":11,"user_id":19849947,"display_name":"Mahajan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689068429,"creation_date":1688652670,"question_id":76629729,"body_markdown":"We are migrating from Java 8 to Java 11, using SOAP web service so required javax libraries.\r\n\r\nSo we have include below list of jar file as we don&#39;t want to change the package with higher version.\r\n\r\n - jakarta.jws-api-2.1.0.jar \r\n - jakarta.xml.bind-api-2.3.3.jar\r\n - javax.xml.soap-api-1.4.0.jar \r\n - javax.activation-1.2.0.jar\r\n - jaxws-api-2.1.13.jar\r\n\r\nupdated to higher version\r\njaxb-xjc-2.1.13.jar = jaxb-xjc-2.3.3.jar\r\njaxb-impl-2.1.13.jar = jaxb-impl-2.3.3.jar\r\n\r\n\r\nApplication is working fine except below one scenario\r\n\r\n1. POST Operation\r\n2. EX: Request XML\r\n\r\nFor enumeration attributes in schema definition are throwing exception when it request is given with &quot; IN&quot; space.\r\n\r\nIf Space is not given then it works fine.\r\n \r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;root&gt;\r\n           &lt;EmployeeUpdate&gt;\r\n              &lt;Name&gt;Test&lt;/Name&gt;\r\n              &lt;Country&gt; IN&lt;/Country&gt;\r\n           &lt;/EmployeeUpdate&gt;\r\n        &lt;/root&gt;\r\n\r\n**\r\nCountry is enum in XSD \r\n\r\n     &lt;xs:restriction base=&#39;EnumeratedToken&#39;&gt;\r\n          &lt;xs:enumeration value=&#39;IN&#39;/&gt;\r\n          &lt;xs:enumeration value=&#39;US&#39;/&gt;\r\n      &lt;/xs:restriction&gt;\r\n\r\n\r\nIs there any issue with jar added for Java 11 handling compared to Java8.","title":"Migration from Java 8 to Java 11 - for SOAP web service","body":"<p>We are migrating from Java 8 to Java 11, using SOAP web service so required javax libraries.</p>\n<p>So we have include below list of jar file as we don't want to change the package with higher version.</p>\n<ul>\n<li>jakarta.jws-api-2.1.0.jar</li>\n<li>jakarta.xml.bind-api-2.3.3.jar</li>\n<li>javax.xml.soap-api-1.4.0.jar</li>\n<li>javax.activation-1.2.0.jar</li>\n<li>jaxws-api-2.1.13.jar</li>\n</ul>\n<p>updated to higher version\njaxb-xjc-2.1.13.jar = jaxb-xjc-2.3.3.jar\njaxb-impl-2.1.13.jar = jaxb-impl-2.3.3.jar</p>\n<p>Application is working fine except below one scenario</p>\n<ol>\n<li>POST Operation</li>\n<li>EX: Request XML</li>\n</ol>\n<p>For enumeration attributes in schema definition are throwing exception when it request is given with &quot; IN&quot; space.</p>\n<p>If Space is not given then it works fine.</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;root&gt;\n       &lt;EmployeeUpdate&gt;\n          &lt;Name&gt;Test&lt;/Name&gt;\n          &lt;Country&gt; IN&lt;/Country&gt;\n       &lt;/EmployeeUpdate&gt;\n    &lt;/root&gt;\n</code></pre>\n<p>**\nCountry is enum in XSD</p>\n<pre><code> &lt;xs:restriction base='EnumeratedToken'&gt;\n      &lt;xs:enumeration value='IN'/&gt;\n      &lt;xs:enumeration value='US'/&gt;\n  &lt;/xs:restriction&gt;\n</code></pre>\n<p>Is there any issue with jar added for Java 11 handling compared to Java8.</p>\n"},{"tags":["java","string","null","heap-memory"],"comments":[{"owner":{"account_id":349810,"reputation":6292,"user_id":685314,"accept_rate":93,"display_name":"Joetjah"},"score":0,"creation_date":1420548606,"post_id":27798986,"comment_id":44006485,"body_markdown":"Actually, you&#39;ve allocated a value to `str`, being `&quot;&quot;`. http://stackoverflow.com/questions/4802015/difference-between-null-and-java-string","body":"Actually, you&#39;ve allocated a value to <code>str</code>, being <code>&quot;&quot;</code>. <a href=\"http://stackoverflow.com/questions/4802015/difference-between-null-and-java-string\" title=\"difference between null and java string\">stackoverflow.com/questions/4802015/&hellip;</a>"},{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":1,"creation_date":1420548710,"post_id":27798986,"comment_id":44006547,"body_markdown":"`str&#39;s value is null, or empty String` I hope you know that both doesn&#39;t mean the same ...","body":"<code>str&#39;s value is null, or empty String</code> I hope you know that both doesn&#39;t mean the same ..."}],"answers":[{"tags":[],"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1420548597,"creation_date":1420548597,"answer_id":27799039,"question_id":27798986,"body_markdown":"    String nullObj = null;\r\n    String emptyStr= &quot;&quot;\r\n\r\nBoth are completely different.\r\n\r\nIn case of `null`, it refers to nothing. But still memory allocates. `null` takes 4 bytes if it is 32-bit systems and 8 bytes if it is 64-bit system.\r\n\r\nFor empty string (`&quot;&quot;`), that&#39;s 100% a String object and memory allocates.","title":"String with value null and memory allocation","body":"<pre><code>String nullObj = null;\nString emptyStr= \"\"\n</code></pre>\n\n<p>Both are completely different.</p>\n\n<p>In case of <code>null</code>, it refers to nothing. But still memory allocates. <code>null</code> takes 4 bytes if it is 32-bit systems and 8 bytes if it is 64-bit system.</p>\n\n<p>For empty string (<code>\"\"</code>), that's 100% a String object and memory allocates.</p>\n"},{"tags":[],"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689068231,"creation_date":1420548824,"answer_id":27799094,"question_id":27798986,"body_markdown":"**Case -1 :**\r\n\r\n    String s = null;\r\n\r\nhere, memory is allocated only for the reference s. `null` is not an object. So no memory is allocared for that.\r\n\r\n**Case -2  :**\r\n\r\n    String s = &quot;&quot;; // empty string \r\n\r\nHere, memory is allocated to both String reference `s` as well as the actual String value `&quot;&quot;` (Yes, `&quot;&quot;` is different from `null`)","title":"String with value null and memory allocation","body":"<p><strong>Case -1 :</strong></p>\n<pre><code>String s = null;\n</code></pre>\n<p>here, memory is allocated only for the reference s. <code>null</code> is not an object. So no memory is allocared for that.</p>\n<p><strong>Case -2  :</strong></p>\n<pre><code>String s = &quot;&quot;; // empty string \n</code></pre>\n<p>Here, memory is allocated to both String reference <code>s</code> as well as the actual String value <code>&quot;&quot;</code> (Yes, <code>&quot;&quot;</code> is different from <code>null</code>)</p>\n"}],"owner":{"account_id":5156422,"reputation":3976,"user_id":4129551,"accept_rate":82,"display_name":"aurelius"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2142,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1420561389,"accepted_answer_id":27799094,"answer_count":2,"score":1,"last_activity_date":1689068231,"creation_date":1420548375,"question_id":27798986,"body_markdown":"If a String Object references to a null value, is there any memory allocated for this value?\r\n\r\ne.g. `String str = &quot;&quot;; String str = null;`\r\n\r\nstr&#39;s value is null, or empty String, is this allocated somewhere?\r\n\r\n**TEXT ADDED**  what happens when a String reference points to null (how do you specify this null and still not allocating memory for this &quot;specification&quot;?), how is this information stored? because the reference is practically storing an address.","title":"String with value null and memory allocation","body":"<p>If a String Object references to a null value, is there any memory allocated for this value?</p>\n\n<p>e.g. <code>String str = \"\"; String str = null;</code></p>\n\n<p>str's value is null, or empty String, is this allocated somewhere?</p>\n\n<p><strong>TEXT ADDED</strong>  what happens when a String reference points to null (how do you specify this null and still not allocating memory for this \"specification\"?), how is this information stored? because the reference is practically storing an address.</p>\n"},{"tags":["java","android","google-play","google-play-console"],"comments":[{"owner":{"account_id":4243,"reputation":1301824,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":1,"creation_date":1688706115,"post_id":76580388,"comment_id":135112434,"body_markdown":"What is the signature used? `keytool -list -v -keystore foo.keystore -alias foo -storepass &lt;your_keystore_password&gt; | grep &quot;Signature algorithm name&quot;`","body":"What is the signature used? <code>keytool -list -v -keystore foo.keystore -alias foo -storepass &lt;your_keystore_password&gt; | grep &quot;Signature algorithm name&quot;</code>"}],"answers":[{"tags":[],"owner":{"account_id":6839079,"reputation":2140,"user_id":5260051,"display_name":"nitinkumarp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689067692,"creation_date":1689067692,"answer_id":76660518,"question_id":76580388,"body_markdown":"You can use Android Studio App Bundle Signing Tool and create your private_key.pepk from there.\r\n\r\n[![App Bundle Signing][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qxexw.png\r\n\r\nGet your private key from the path you have added at the last Text Input area.","title":"The private key was not properly encrypted, or is not a type of key we support while generating app signing key","body":"<p>You can use Android Studio App Bundle Signing Tool and create your private_key.pepk from there.</p>\n<p><a href=\"https://i.stack.imgur.com/qxexw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qxexw.png\" alt=\"App Bundle Signing\" /></a></p>\n<p>Get your private key from the path you have added at the last Text Input area.</p>\n"}],"owner":{"account_id":11181020,"reputation":4038,"user_id":8205099,"accept_rate":62,"display_name":"Wahdat Jan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1029,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1689067692,"creation_date":1688036180,"question_id":76580388,"body_markdown":"The private key was not properly encrypted, or is not a type of key we support .\r\nI generated the play signing key on play console\r\n\r\n\r\n    $ java -jar pepk.jar --keystore=foo.keystore --alias=foo --output=encrypted_private_key_path --rsa-aes-encryption --encryption-key-path=/path/to/encryption_public_key.pem\r\n  \r\nI used above command to generate the key after generating it gives me error \r\n\r\n    The private key was not properly encrypted, or is not a type of key we support while generating app signing key\r\n\r\n\r\n[![Image][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UIEX7.png","title":"The private key was not properly encrypted, or is not a type of key we support while generating app signing key","body":"<p>The private key was not properly encrypted, or is not a type of key we support .\nI generated the play signing key on play console</p>\n<pre><code>$ java -jar pepk.jar --keystore=foo.keystore --alias=foo --output=encrypted_private_key_path --rsa-aes-encryption --encryption-key-path=/path/to/encryption_public_key.pem\n</code></pre>\n<p>I used above command to generate the key after generating it gives me error</p>\n<pre><code>The private key was not properly encrypted, or is not a type of key we support while generating app signing key\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/UIEX7.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/UIEX7.png\" alt=\"Image\" /></a></p>\n"},{"tags":["java","multithreading","concurrency","monitor"],"answers":[{"tags":[],"owner":{"account_id":26091,"reputation":178004,"user_id":67606,"accept_rate":78,"display_name":"Pablo Santa Cruz"},"down_vote_count":1,"up_vote_count":112,"is_accepted":true,"score":111,"last_activity_date":1280407475,"creation_date":1280405860,"answer_id":3362323,"question_id":3362303,"body_markdown":"A monitor is mechanism to control concurrent access to an object.\r\n\r\nThis allows you to do:\r\n\r\nThread 1:\r\n\r\n    public void a()\r\n    {\r\n        synchronized(someObject) {\r\n            // do something (1)\r\n        }\r\n    }\r\n\r\nThread 2:\r\n\r\n    public void b()\r\n    {\r\n        synchronized(someObject) {\r\n            // do something else (2)\r\n        }\r\n    }\r\n\r\nThis prevents Threads 1 and 2 accessing the monitored (synchronized) section at the same time. One will start, and monitor will prevent the other from accessing the region before the first one finishes.\r\n\r\nIt&#39;s not a special object. It&#39;s synchronization mechanism placed at class hierarchy root: `java.lang.Object`.\r\n\r\nThere are also `wait` and `notify` methods that will also use object&#39;s monitor to communication among different threads.\r\n","title":"What&#39;s a monitor in Java?","body":"<p>A monitor is mechanism to control concurrent access to an object.</p>\n\n<p>This allows you to do:</p>\n\n<p>Thread 1:</p>\n\n<pre><code>public void a()\n{\n    synchronized(someObject) {\n        // do something (1)\n    }\n}\n</code></pre>\n\n<p>Thread 2:</p>\n\n<pre><code>public void b()\n{\n    synchronized(someObject) {\n        // do something else (2)\n    }\n}\n</code></pre>\n\n<p>This prevents Threads 1 and 2 accessing the monitored (synchronized) section at the same time. One will start, and monitor will prevent the other from accessing the region before the first one finishes.</p>\n\n<p>It's not a special object. It's synchronization mechanism placed at class hierarchy root: <code>java.lang.Object</code>.</p>\n\n<p>There are also <code>wait</code> and <code>notify</code> methods that will also use object's monitor to communication among different threads.</p>\n"},{"tags":[],"owner":{"account_id":117006,"reputation":24352,"user_id":306602,"display_name":"naikus"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1280408874,"creation_date":1280406013,"answer_id":3362345,"question_id":3362303,"body_markdown":"[http://java.sun.com/docs/books/jvms/second_edition/html/Concepts.doc.html#33308][1] \r\n\r\nA **mechanism** to control access to objects one at a time\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/jvms/second_edition/html/Concepts.doc.html#3330","title":"What&#39;s a monitor in Java?","body":"<p><a href=\"http://java.sun.com/docs/books/jvms/second_edition/html/Concepts.doc.html#3330\" rel=\"nofollow noreferrer\">http://java.sun.com/docs/books/jvms/second_edition/html/Concepts.doc.html#33308</a> </p>\n\n<p>A <strong>mechanism</strong> to control access to objects one at a time</p>\n"},{"tags":[],"owner":{"account_id":16366,"reputation":77097,"user_id":35501,"accept_rate":83,"display_name":"JRL"},"down_vote_count":1,"up_vote_count":34,"is_accepted":false,"score":33,"last_activity_date":1280406914,"creation_date":1280406914,"answer_id":3362473,"question_id":3362303,"body_markdown":"A monitor is an entity that possesses both a **lock** and a **wait set**. In Java, any `Object` can serve as a monitor.\r\n\r\nFor a detailed explanation of how monitors work in Java, I recommend reading the ***Monitor Mechanics*** section of [Concurrent Programming in Java][1] (the preceding link displays the preview in Google books, and that section is available for reading).\r\n\r\n\r\n  [1]: http://books.google.com/books?id=-x1S4neCSOYC&amp;printsec=frontcover&amp;dq=java+concurrent&amp;hl=en&amp;ei=pHJRTL3YNIuInQe0oI3eAw&amp;sa=X&amp;oi=book_result&amp;ct=result&amp;resnum=1&amp;ved=0CCUQ6AEwAA#v=onepage&amp;q=monitor&amp;f=false","title":"What&#39;s a monitor in Java?","body":"<p>A monitor is an entity that possesses both a <strong>lock</strong> and a <strong>wait set</strong>. In Java, any <code>Object</code> can serve as a monitor.</p>\n\n<p>For a detailed explanation of how monitors work in Java, I recommend reading the <strong><em>Monitor Mechanics</em></strong> section of <a href=\"http://books.google.com/books?id=-x1S4neCSOYC&amp;printsec=frontcover&amp;dq=java+concurrent&amp;hl=en&amp;ei=pHJRTL3YNIuInQe0oI3eAw&amp;sa=X&amp;oi=book_result&amp;ct=result&amp;resnum=1&amp;ved=0CCUQ6AEwAA#v=onepage&amp;q=monitor&amp;f=false\" rel=\"noreferrer\">Concurrent Programming in Java</a> (the preceding link displays the preview in Google books, and that section is available for reading).</p>\n"},{"tags":[],"owner":{"account_id":2255525,"reputation":187,"user_id":1986796,"display_name":"mgibson"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1358420968,"creation_date":1358419349,"answer_id":14377224,"question_id":3362303,"body_markdown":"1. A monitor is a concept/mechanism that&#39;s not limited to the Java Language;\r\n2. &quot;In concurrent programming, a monitor is an object or module intended to be used safely by more than one thread&quot;;\r\n3. As every reader knows, every object in Java is a sub-class of java.lang.Object. The java folks made java.lang.Object in such a way that it has features and characteristics that enables Java programmers to use any object as a monitor. For example, every object has a wait queue,a re-entrance queue and wait and notify methods making it a monitor;\r\n4. read about monitors [here](http://en.wikipedia.org/wiki/Monitor_(synchronization)).\r\n\r\n","title":"What&#39;s a monitor in Java?","body":"<ol>\n<li>A monitor is a concept/mechanism that's not limited to the Java Language;</li>\n<li>\"In concurrent programming, a monitor is an object or module intended to be used safely by more than one thread\";</li>\n<li>As every reader knows, every object in Java is a sub-class of java.lang.Object. The java folks made java.lang.Object in such a way that it has features and characteristics that enables Java programmers to use any object as a monitor. For example, every object has a wait queue,a re-entrance queue and wait and notify methods making it a monitor;</li>\n<li>read about monitors <a href=\"http://en.wikipedia.org/wiki/Monitor_%28synchronization%29\" rel=\"noreferrer\">here</a>.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8201327,"reputation":289,"user_id":6172595,"display_name":"Amit Rai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689067657,"creation_date":1518248431,"answer_id":48718435,"question_id":3362303,"body_markdown":"monitor is associate with object or data member, which is acquire when a data member or object is enter is synchronization block(critical section) and release when is exit. ","title":"What&#39;s a monitor in Java?","body":"<p>monitor is associate with object or data member, which is acquire when a data member or object is enter is synchronization block(critical section) and release when is exit.</p>\n"},{"tags":[],"owner":{"account_id":15591403,"reputation":5743,"user_id":12894468,"display_name":"Sivaram Rasathurai"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1601371631,"creation_date":1601371631,"answer_id":64116702,"question_id":3362303,"body_markdown":"In concurrent programming, we need to focus on two things \r\n 1. Mutual exclusion  \r\n\r\n&gt; When a process/thread is executing its critical section no other processes are allowed to execute their critical section. (Each process has a code segment called &quot;Critical section&quot; in which shared data is accessed.)\r\n\r\n\r\n\r\n 2. Synchronisation\r\n\r\n&gt; When threads are trying to achieve a common goal via working together, these threads need cooperation between them. They need to synchronize when they focus on a common goal.\r\n\r\n***Monitors are used to achieve mutual exclusion and synchronization.***\r\n\r\n\r\n----------\r\n\r\n&lt;h1&gt;How to understand Monitor easily?&lt;/h1&gt;\r\n\r\n\r\n\r\n[![High level view of Monitor][1]][1] \r\n\r\n*Don&#39;t confuse this critical area with the critical section since here, the Critical area mentioned in the object-level, not for the thread level.* The shared data is considered as a critical area.\r\n\r\n\r\nEach object and its class are associated with a monitor. Instance variables of objects that need to be protected from concurrent access included a critical area for a monitor that is associated with the object and Instance variables of classes /static variables of a class that needs to be protected from concurrent access included in the critical area for the monitor which is associated with the class.\r\n\r\n  - *This critical area is protected with a lock and this lock ensures mutual exclusion.*\r\n\r\n  - *A Wait set is also associated with a monitor that is used to provide coordination between threads.*  \r\n\r\n  - *An entry set is used to hold the threads who are already requested for the lock and the lock is not acquired by them yet.*\r\n\r\n\r\n&lt;h2&gt;How is mutual exclusion achieved on Monitor?&lt;/h2&gt;\r\n\r\n----------\r\n\r\nEach object is associated with a monitor and this monitor has a ***lock*** where each thread can lock or unlock the object using this ***lock*** when it accesses the shared variables. Explicitly, it means only one thread at a time may hold a ***lock*** on a monitor. Any other threads attempting to lock that ***lock*** are blocked until they can obtain the ***lock***. when a new thread tries to acquire the lock and if already a thread owns the lock then that thread will be waiting on the entry set to acquire the lock. when the thread which is acquired the lock completes its critical section, it will release the lock. So next thread will acquire the lock but this next thread is taken from the entry set and will be determined by JVM based on some criteria like FIFO.\r\n\r\n\r\nHere, what we achieved is mutual exclusion since we give exclusive access to a thread to the object and we do not allow any other threads to enter their critical section.\r\n\r\n***Example java code to achive mutual exclussion using monitor***\r\n\r\n```java\r\n  class Counter\r\n      {\r\n            private int count = 0;\r\n            public void synchronized Increment() {\r\n                int n = count;\r\n                count = n+1;\r\n            } //Here synchronized is used to indicate those things should be done sequentially.\r\n      }\r\n\r\n```\r\n\r\n----------\r\n\r\n\r\n&lt;h2&gt;How is coordination/synchronization achieved via Monitor?&lt;/h2&gt;\r\n\r\n\r\n***Synchronization is achieved using the wait set which is associated with the monitor and &quot;wait and notify&quot; or &quot;signal and continue&quot; mechanism.***  Synchronization is important when one thread needs some data to be in a particular state and another thread is responsible for getting the data into that state e.g. producer/consumer problem\r\n\r\nWhen a thread calls the wait() method respect to object then the thread suspended and added to the wait set to wait until some other thread invokes notify() or notifyAll() on the same object.\r\n\r\nThe notify() method is used for waking up threads that are in the wait set of the monitor of a particular object. There are two ways of notifying waiting threads. \r\n  - notify() --&gt; For all threads waiting on wait set the method notify() notifies anyone of them to wake up arbitrarily. The choice of exactly which thread to wake is non-deterministic and depends upon the JVM.\r\n  - notifyAll() --&gt; This method simply wakes all threads that are waiting on the wait set. The awakened threads will not be able to proceed until the current thread releases the lock on this object. The awakened threads will compete in the usual manner with any other threads that might be actively competing to synchronize.\r\n\r\n***Example java code to achive synchronization using monitor in producer consumer problem***\r\n\r\n\r\n```java\r\nclass Buffer {\r\n            private char [] buffer;\r\n            private int count = 0, in = 0, out = 0;\r\n\r\n            Buffer(int size)\r\n            {\r\n                 buffer = new char[size];\r\n            }\r\n \r\n            public synchronized void Put(char c) {\r\n                 while(count == buffer.length) \r\n                 {\r\n                      try { wait(); }\r\n                      catch (InterruptedException e) { } \r\n                      finally { } \r\n                 } \r\n                 System.out.println(&quot;Producing &quot; + c + &quot; ...&quot;);\r\n                 buffer[in] = c; \r\n                 in = (in + 1) % buffer.length; \r\n                 count++; \r\n                 notify(); \r\n            }\r\n    \r\n            public synchronized char Get() {\r\n                 while (count == 0) \r\n                 {\r\n                      try { wait(); }\r\n                      catch (InterruptedException e) { } \r\n                      finally { } \r\n                 } \r\n                 char c = buffer[out]; \r\n                 out = (out + 1) % buffer.length;\r\n                 count--;\r\n                 System.out.println(&quot;Consuming &quot; + c + &quot; ...&quot;); \r\n                 notify(); \r\n                 return c;\r\n            }\r\n      }\r\n```\r\n\r\nRefer below links \r\nhttp://www.csc.villanova.edu/~mdamian/threads/javamonitors.html#:~:text=Java%20associates%20a%20monitor%20with,the%20monitor%20for%20that%20object\r\nhttps://howtodoinjava.com/java/multi-threading/how-to-use-locks-in-java-java-util-concurrent-locks-lock-tutorial-and-example/\r\n\r\n  [1]: https://i.stack.imgur.com/sZyN9.png","title":"What&#39;s a monitor in Java?","body":"<p>In concurrent programming, we need to focus on two things</p>\n<ol>\n<li>Mutual exclusion</li>\n</ol>\n<blockquote>\n<p>When a process/thread is executing its critical section no other processes are allowed to execute their critical section. (Each process has a code segment called &quot;Critical section&quot; in which shared data is accessed.)</p>\n</blockquote>\n<ol start=\"2\">\n<li>Synchronisation</li>\n</ol>\n<blockquote>\n<p>When threads are trying to achieve a common goal via working together, these threads need cooperation between them. They need to synchronize when they focus on a common goal.</p>\n</blockquote>\n<p><em><strong>Monitors are used to achieve mutual exclusion and synchronization.</strong></em></p>\n<hr />\n<h1>How to understand Monitor easily?</h1>\n<p><a href=\"https://i.stack.imgur.com/sZyN9.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/sZyN9.png\" alt=\"High level view of Monitor\" /></a></p>\n<p><em>Don't confuse this critical area with the critical section since here, the Critical area mentioned in the object-level, not for the thread level.</em> The shared data is considered as a critical area.</p>\n<p>Each object and its class are associated with a monitor. Instance variables of objects that need to be protected from concurrent access included a critical area for a monitor that is associated with the object and Instance variables of classes /static variables of a class that needs to be protected from concurrent access included in the critical area for the monitor which is associated with the class.</p>\n<ul>\n<li><p><em>This critical area is protected with a lock and this lock ensures mutual exclusion.</em></p>\n</li>\n<li><p><em>A Wait set is also associated with a monitor that is used to provide coordination between threads.</em></p>\n</li>\n<li><p><em>An entry set is used to hold the threads who are already requested for the lock and the lock is not acquired by them yet.</em></p>\n</li>\n</ul>\n<h2>How is mutual exclusion achieved on Monitor?</h2>\n<hr />\n<p>Each object is associated with a monitor and this monitor has a <em><strong>lock</strong></em> where each thread can lock or unlock the object using this <em><strong>lock</strong></em> when it accesses the shared variables. Explicitly, it means only one thread at a time may hold a <em><strong>lock</strong></em> on a monitor. Any other threads attempting to lock that <em><strong>lock</strong></em> are blocked until they can obtain the <em><strong>lock</strong></em>. when a new thread tries to acquire the lock and if already a thread owns the lock then that thread will be waiting on the entry set to acquire the lock. when the thread which is acquired the lock completes its critical section, it will release the lock. So next thread will acquire the lock but this next thread is taken from the entry set and will be determined by JVM based on some criteria like FIFO.</p>\n<p>Here, what we achieved is mutual exclusion since we give exclusive access to a thread to the object and we do not allow any other threads to enter their critical section.</p>\n<p><em><strong>Example java code to achive mutual exclussion using monitor</strong></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>  class Counter\n      {\n            private int count = 0;\n            public void synchronized Increment() {\n                int n = count;\n                count = n+1;\n            } //Here synchronized is used to indicate those things should be done sequentially.\n      }\n\n</code></pre>\n<hr />\n<h2>How is coordination/synchronization achieved via Monitor?</h2>\n<p><em><strong>Synchronization is achieved using the wait set which is associated with the monitor and &quot;wait and notify&quot; or &quot;signal and continue&quot; mechanism.</strong></em>  Synchronization is important when one thread needs some data to be in a particular state and another thread is responsible for getting the data into that state e.g. producer/consumer problem</p>\n<p>When a thread calls the wait() method respect to object then the thread suspended and added to the wait set to wait until some other thread invokes notify() or notifyAll() on the same object.</p>\n<p>The notify() method is used for waking up threads that are in the wait set of the monitor of a particular object. There are two ways of notifying waiting threads.</p>\n<ul>\n<li>notify() --&gt; For all threads waiting on wait set the method notify() notifies anyone of them to wake up arbitrarily. The choice of exactly which thread to wake is non-deterministic and depends upon the JVM.</li>\n<li>notifyAll() --&gt; This method simply wakes all threads that are waiting on the wait set. The awakened threads will not be able to proceed until the current thread releases the lock on this object. The awakened threads will compete in the usual manner with any other threads that might be actively competing to synchronize.</li>\n</ul>\n<p><em><strong>Example java code to achive synchronization using monitor in producer consumer problem</strong></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>class Buffer {\n            private char [] buffer;\n            private int count = 0, in = 0, out = 0;\n\n            Buffer(int size)\n            {\n                 buffer = new char[size];\n            }\n \n            public synchronized void Put(char c) {\n                 while(count == buffer.length) \n                 {\n                      try { wait(); }\n                      catch (InterruptedException e) { } \n                      finally { } \n                 } \n                 System.out.println(&quot;Producing &quot; + c + &quot; ...&quot;);\n                 buffer[in] = c; \n                 in = (in + 1) % buffer.length; \n                 count++; \n                 notify(); \n            }\n    \n            public synchronized char Get() {\n                 while (count == 0) \n                 {\n                      try { wait(); }\n                      catch (InterruptedException e) { } \n                      finally { } \n                 } \n                 char c = buffer[out]; \n                 out = (out + 1) % buffer.length;\n                 count--;\n                 System.out.println(&quot;Consuming &quot; + c + &quot; ...&quot;); \n                 notify(); \n                 return c;\n            }\n      }\n</code></pre>\n<p>Refer below links\n<a href=\"http://www.csc.villanova.edu/%7Emdamian/threads/javamonitors.html#:%7E:text=Java%20associates%20a%20monitor%20with,the%20monitor%20for%20that%20object\" rel=\"noreferrer\">http://www.csc.villanova.edu/~mdamian/threads/javamonitors.html#:~:text=Java%20associates%20a%20monitor%20with,the%20monitor%20for%20that%20object</a>\n<a href=\"https://howtodoinjava.com/java/multi-threading/how-to-use-locks-in-java-java-util-concurrent-locks-lock-tutorial-and-example/\" rel=\"noreferrer\">https://howtodoinjava.com/java/multi-threading/how-to-use-locks-in-java-java-util-concurrent-locks-lock-tutorial-and-example/</a></p>\n"}],"owner":{"account_id":25344,"reputation":20890,"user_id":65120,"accept_rate":56,"display_name":"xdevel2000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119882,"favorite_count":0,"down_vote_count":1,"up_vote_count":160,"accepted_answer_id":3362323,"answer_count":6,"score":159,"last_activity_date":1689067657,"creation_date":1280405696,"question_id":3362303,"body_markdown":"What&#39;s a monitor referred to in concurrent programming in Java?\r\n\r\nWhen I read that &quot;every object has associated a monitor&quot; what does it meaning?\r\n\r\nIs it a special object?","title":"What&#39;s a monitor in Java?","body":"<p>What's a monitor referred to in concurrent programming in Java?</p>\n\n<p>When I read that \"every object has associated a monitor\" what does it meaning?</p>\n\n<p>Is it a special object?</p>\n"},{"tags":["java","jax-rs","quarkus"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1672834093,"post_id":75004765,"comment_id":132360981,"body_markdown":"This might be a bug. Can you open an issue on Github please so we can look into it further?","body":"This might be a bug. Can you open an issue on Github please so we can look into it further?"},{"owner":{"account_id":333116,"reputation":1720,"user_id":658801,"display_name":"zolv"},"score":0,"creation_date":1672879455,"post_id":75004765,"comment_id":132375017,"body_markdown":"@PaulSamsotha It works (I&#39;ve checked it) but the interface has to lay in the same project as implementation. When I move it outside to a jar - it cannot recognize it.","body":"@PaulSamsotha It works (I&#39;ve checked it) but the interface has to lay in the same project as implementation. When I move it outside to a jar - it cannot recognize it."},{"owner":{"account_id":333116,"reputation":1720,"user_id":658801,"display_name":"zolv"},"score":0,"creation_date":1672879524,"post_id":75004765,"comment_id":132375024,"body_markdown":"@geoand I&#39;ve done some investigations with a minimal single-module project and it works just fine. But when an interface is packed in an esternal jar it doesn&#39;t work. Is it expected?","body":"@geoand I&#39;ve done some investigations with a minimal single-module project and it works just fine. But when an interface is packed in an esternal jar it doesn&#39;t work. Is it expected?"},{"owner":{"account_id":333116,"reputation":1720,"user_id":658801,"display_name":"zolv"},"score":0,"creation_date":1672879562,"post_id":75004765,"comment_id":132375030,"body_markdown":"I&#39;ve updated the question explaining the scenario. I will try to share the full multimodule project","body":"I&#39;ve updated the question explaining the scenario. I will try to share the full multimodule project"}],"answers":[{"tags":[],"owner":{"account_id":3568344,"reputation":645,"user_id":2979325,"display_name":"Serkan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689067644,"creation_date":1673167123,"answer_id":75046455,"question_id":75004765,"body_markdown":"You need to add an empty beans.xml in your external project in `src/main/resources/META-INF`, so that Quarkus scans your external jar file.\r\n\r\nQuarkus documentation also lists other ways to make beans discoverable:\r\n - dependencies that contain a `beans.xml` descriptor (content is ignored)\r\n - dependencies that contain a Jandex index - `META-INF/jandex.idx`\r\n - dependencies referenced by `quarkus.index-dependency` in `application.properties`\r\n - Quarkus integration code.\r\n\r\nhttps://quarkus.io/guides/cdi-reference#bean_discovery ","title":"Quarkus does not use JaxRs @Path when declared in interface in an external jar","body":"<p>You need to add an empty beans.xml in your external project in <code>src/main/resources/META-INF</code>, so that Quarkus scans your external jar file.</p>\n<p>Quarkus documentation also lists other ways to make beans discoverable:</p>\n<ul>\n<li>dependencies that contain a <code>beans.xml</code> descriptor (content is ignored)</li>\n<li>dependencies that contain a Jandex index - <code>META-INF/jandex.idx</code></li>\n<li>dependencies referenced by <code>quarkus.index-dependency</code> in <code>application.properties</code></li>\n<li>Quarkus integration code.</li>\n</ul>\n<p><a href=\"https://quarkus.io/guides/cdi-reference#bean_discovery\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/cdi-reference#bean_discovery</a></p>\n"}],"owner":{"account_id":333116,"reputation":1720,"user_id":658801,"display_name":"zolv"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":421,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75046455,"answer_count":1,"score":2,"last_activity_date":1689067644,"creation_date":1672831788,"question_id":75004765,"body_markdown":"I have a Java interface which declares all things related to JaxRs like this:\r\n\r\n```\r\n@Path(&quot;/notes-service&quot;)\r\npublic interface NotesApi {\r\n\r\n  @POST\r\n  @Path(&quot;/notes&quot;)\r\n  @Consumes({ &quot;application/json&quot; })\r\n  @Produces({ &quot;application/json&quot; })\r\n  Response createNote(\r\n    @HeaderParam(&quot;Accept-Language&quot;) @DefaultValue(&quot;en&quot;) String acceptLanguage,\r\n    @Valid CreateNoteDTO createNoteDTO);\r\n\r\n}\r\n```\r\nThe interface is shipped as an external dependency as a jar.\r\n\r\nAnd an implementation in my service:\r\n```\r\n@ApplicationScoped\r\n@Transactional\r\npublic class NotesService implements NotesApi {\r\n\r\n  @Override\r\n  public Response createNote(String range, CreateNoteDTO createNoteDTO) {\r\n    // ...\r\n  }\r\n}\r\n```\r\nSuch a setup like above doesn&#39;t work. It returnes 404 for an endpoint `/notes-service/notes`\r\n\r\nHowever when I copy the `@Path` part into the implenentation, everything works just fine:\r\n\r\n```\r\n@ApplicationScoped\r\n@Transactional\r\n@Path(&quot;/notes-service&quot;)\r\npublic class NotesService implements NotesApi {\r\n\r\n  @Override\r\n  public Response createNote(String range, CreateNoteDTO createNoteDTO) {\r\n    // ...\r\n  }\r\n}\r\n```\r\nAlso another workaaround: When I copy-paste the interface into my service then it also works without `@Path` declaration in an implementation.\r\n\r\nThis means that `@Path` annotation on interface level works just fine (I have checked it with a minimal service). But it doesn&#39;t work when the interface comes as a dependency.\r\n\r\nIs it a bug in Quarkus or an expected behavior?","title":"Quarkus does not use JaxRs @Path when declared in interface in an external jar","body":"<p>I have a Java interface which declares all things related to JaxRs like this:</p>\n<pre><code>@Path(&quot;/notes-service&quot;)\npublic interface NotesApi {\n\n  @POST\n  @Path(&quot;/notes&quot;)\n  @Consumes({ &quot;application/json&quot; })\n  @Produces({ &quot;application/json&quot; })\n  Response createNote(\n    @HeaderParam(&quot;Accept-Language&quot;) @DefaultValue(&quot;en&quot;) String acceptLanguage,\n    @Valid CreateNoteDTO createNoteDTO);\n\n}\n</code></pre>\n<p>The interface is shipped as an external dependency as a jar.</p>\n<p>And an implementation in my service:</p>\n<pre><code>@ApplicationScoped\n@Transactional\npublic class NotesService implements NotesApi {\n\n  @Override\n  public Response createNote(String range, CreateNoteDTO createNoteDTO) {\n    // ...\n  }\n}\n</code></pre>\n<p>Such a setup like above doesn't work. It returnes 404 for an endpoint <code>/notes-service/notes</code></p>\n<p>However when I copy the <code>@Path</code> part into the implenentation, everything works just fine:</p>\n<pre><code>@ApplicationScoped\n@Transactional\n@Path(&quot;/notes-service&quot;)\npublic class NotesService implements NotesApi {\n\n  @Override\n  public Response createNote(String range, CreateNoteDTO createNoteDTO) {\n    // ...\n  }\n}\n</code></pre>\n<p>Also another workaaround: When I copy-paste the interface into my service then it also works without <code>@Path</code> declaration in an implementation.</p>\n<p>This means that <code>@Path</code> annotation on interface level works just fine (I have checked it with a minimal service). But it doesn't work when the interface comes as a dependency.</p>\n<p>Is it a bug in Quarkus or an expected behavior?</p>\n"},{"tags":["java","android","android-drawable"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689061435,"post_id":76651012,"comment_id":135155929,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28984506,"reputation":1,"user_id":22201590,"display_name":"Spidy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689067593,"creation_date":1688969027,"question_id":76651012,"body_markdown":"Can someone help? How can I create the outline given below in Android?\r\n\r\n[![corner stroke line][1]][1]\r\n\r\nI have tried but can&#39;t able to implement this background drawable. I have tried using `&lt;layer-list&gt;` and inside 4 `&lt;item&gt;` tags with the use of padding of the rectangle shape.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1XvCY.png","title":"Not able to create corner stroke line in android drawable file","body":"<p>Can someone help? How can I create the outline given below in Android?</p>\n<p><a href=\"https://i.stack.imgur.com/1XvCY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1XvCY.png\" alt=\"corner stroke line\" /></a></p>\n<p>I have tried but can't able to implement this background drawable. I have tried using <code>&lt;layer-list&gt;</code> and inside 4 <code>&lt;item&gt;</code> tags with the use of padding of the rectangle shape.</p>\n"},{"tags":["java","maven","guava","asterisk"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1688630913,"post_id":76626716,"comment_id":135100257,"body_markdown":"Looks like you should add all your dependencies to the classpath.","body":"Looks like you should add all your dependencies to the classpath."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1688634802,"post_id":76626716,"comment_id":135101144,"body_markdown":"Exactly. Make sure that you either build a single jar with all dependencies included, or that you add all relevant dependency/library jars to the classpath when running your application.","body":"Exactly. Make sure that you either build a single jar with all dependencies included, or that you add all relevant dependency/library jars to the classpath when running your application."},{"owner":{"account_id":28728255,"reputation":1,"user_id":22000707,"display_name":"Florian"},"score":0,"creation_date":1689061443,"post_id":76626716,"comment_id":135155930,"body_markdown":"So, even if asterisk-java should work out of the box, I have to download additional software and ad it to java cp ?","body":"So, even if asterisk-java should work out of the box, I have to download additional software and ad it to java cp ?"},{"owner":{"account_id":28728255,"reputation":1,"user_id":22000707,"display_name":"Florian"},"score":0,"creation_date":1689067295,"post_id":76626716,"comment_id":135157185,"body_markdown":"Ok you were right my bad, I had to download guava jre and add it. Thanks a lot.","body":"Ok you were right my bad, I had to download guava jre and add it. Thanks a lot."}],"answers":[{"tags":[],"owner":{"account_id":28728255,"reputation":1,"user_id":22000707,"display_name":"Florian"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1689067562,"creation_date":1689067562,"answer_id":76660498,"question_id":76626716,"body_markdown":"SOLVED: Indeed, to fix this issues, I had to download the guava .jar (jre) (here: https://github.com/google/guava/releases) and add it in the cp by running this command : `java -cp asterisk-java.jar:guava-32.1.1-jre.jar org.asteriskjava.fastagi.DefaultAgiServer`\r\n\r\nAnd it worked perfeclty. Thanks to helpers.","title":"Guava issue when starting Asterisk-Java","body":"<p>SOLVED: Indeed, to fix this issues, I had to download the guava .jar (jre) (here: <a href=\"https://github.com/google/guava/releases\" rel=\"nofollow noreferrer\">https://github.com/google/guava/releases</a>) and add it in the cp by running this command : <code>java -cp asterisk-java.jar:guava-32.1.1-jre.jar org.asteriskjava.fastagi.DefaultAgiServer</code></p>\n<p>And it worked perfeclty. Thanks to helpers.</p>\n"}],"owner":{"account_id":28728255,"reputation":1,"user_id":22000707,"display_name":"Florian"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76660498,"answer_count":1,"score":-1,"last_activity_date":1689067562,"creation_date":1688630605,"question_id":76626716,"body_markdown":"I&#39;m trying to compile a project and it uses guava. The project is Asterisk-Java (https://github.com/asterisk-java/asterisk-java) and when I&#39;m trying to run the .jar with the command `java -cp asterisk-java.jar org.asteriskjava.fastagi.DefaultAgiServer`, the following error appear :\r\n\r\n\r\n`\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/google/common/util/concurrent/RateLimiter at org.asteriskjava.lock.Lockable.&lt;init&gt;(Lockable.java:23) at org.asteriskjava.fastagi.AbstractMappingStrategy.&lt;init&gt;(AbstractMappingStrategy.java:38) at org.asteriskjava.fastagi.ResourceBundleMappingStrategy.&lt;init&gt;(ResourceBundleMappingStrategy.java:93) at org.asteriskjava.fastagi.ResourceBundleMappingStrategy.&lt;init&gt;(ResourceBundleMappingStrategy.java:67) at org.asteriskjava.fastagi.ResourceBundleMappingStrategy.&lt;init&gt;(ResourceBundleMappingStrategy.java:57) at org.asteriskjava.fastagi.DefaultAgiServer.&lt;init&gt;(DefaultAgiServer.java:158) at org.asteriskjava.fastagi.DefaultAgiServer.&lt;init&gt;(DefaultAgiServer.java:136) at org.asteriskjava.fastagi.DefaultAgiServer.&lt;init&gt;(DefaultAgiServer.java:76) at org.asteriskjava.fastagi.DefaultAgiServer.main(DefaultAgiServer.java:394) Caused by: java.lang.ClassNotFoundException: com.google.common.util.concurrent.RateLimiter at java.net.URLClassLoader.findClass(URLClassLoader.java:387) at java.lang.ClassLoader.loadClass(ClassLoader.java:418) at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352) at java.lang.ClassLoader.loadClass(ClassLoader.java:351) ... 9 more \r\n`\r\n\r\nHere&#39;s the dependencies used that make crash:\r\n`\r\n&lt;dependency&gt; &lt;groupId&gt;com.google.guava&lt;/groupId&gt; &lt;artifactId&gt;guava&lt;/artifactId&gt; &lt;version&gt;32.0.1-jre&lt;/version&gt; &lt;/dependency&gt;`\r\n\r\nI tryied to change the guava version in pom.xml but it still not working :/\r\n\r\nI tryied to change guava version to make the rate limiter work but nothing changed.","title":"Guava issue when starting Asterisk-Java","body":"<p>I'm trying to compile a project and it uses guava. The project is Asterisk-Java (<a href=\"https://github.com/asterisk-java/asterisk-java\" rel=\"nofollow noreferrer\">https://github.com/asterisk-java/asterisk-java</a>) and when I'm trying to run the .jar with the command <code>java -cp asterisk-java.jar org.asteriskjava.fastagi.DefaultAgiServer</code>, the following error appear :</p>\n<p><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/google/common/util/concurrent/RateLimiter at org.asteriskjava.lock.Lockable.&lt;init&gt;(Lockable.java:23) at org.asteriskjava.fastagi.AbstractMappingStrategy.&lt;init&gt;(AbstractMappingStrategy.java:38) at org.asteriskjava.fastagi.ResourceBundleMappingStrategy.&lt;init&gt;(ResourceBundleMappingStrategy.java:93) at org.asteriskjava.fastagi.ResourceBundleMappingStrategy.&lt;init&gt;(ResourceBundleMappingStrategy.java:67) at org.asteriskjava.fastagi.ResourceBundleMappingStrategy.&lt;init&gt;(ResourceBundleMappingStrategy.java:57) at org.asteriskjava.fastagi.DefaultAgiServer.&lt;init&gt;(DefaultAgiServer.java:158) at org.asteriskjava.fastagi.DefaultAgiServer.&lt;init&gt;(DefaultAgiServer.java:136) at org.asteriskjava.fastagi.DefaultAgiServer.&lt;init&gt;(DefaultAgiServer.java:76) at org.asteriskjava.fastagi.DefaultAgiServer.main(DefaultAgiServer.java:394) Caused by: java.lang.ClassNotFoundException: com.google.common.util.concurrent.RateLimiter at java.net.URLClassLoader.findClass(URLClassLoader.java:387) at java.lang.ClassLoader.loadClass(ClassLoader.java:418) at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352) at java.lang.ClassLoader.loadClass(ClassLoader.java:351) ... 9 more </code></p>\n<p>Here's the dependencies used that make crash:\n<code> &lt;dependency&gt; &lt;groupId&gt;com.google.guava&lt;/groupId&gt; &lt;artifactId&gt;guava&lt;/artifactId&gt; &lt;version&gt;32.0.1-jre&lt;/version&gt; &lt;/dependency&gt;</code></p>\n<p>I tryied to change the guava version in pom.xml but it still not working :/</p>\n<p>I tryied to change guava version to make the rate limiter work but nothing changed.</p>\n"},{"tags":["java","zip"],"comments":[{"owner":{"account_id":288740,"reputation":36420,"user_id":589329,"accept_rate":40,"display_name":"Vampire"},"score":0,"creation_date":1476103667,"post_id":39958486,"comment_id":67196772,"body_markdown":"Please include a [MCVE](http://stackoverflow.com/help/mcve) in your post","body":"Please include a <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a> in your post"},{"owner":{"account_id":277685,"reputation":813,"user_id":571816,"accept_rate":92,"display_name":"JIV"},"score":0,"creation_date":1476103881,"post_id":39958486,"comment_id":67196928,"body_markdown":"I do not think its possible with current Oracle JVM implementation. Why you need to do this?","body":"I do not think its possible with current Oracle JVM implementation. Why you need to do this?"},{"owner":{"account_id":6023664,"reputation":361,"user_id":4730051,"accept_rate":62,"display_name":"Ivan"},"score":0,"creation_date":1476104308,"post_id":39958486,"comment_id":67197224,"body_markdown":"@Vampire, added","body":"@Vampire, added"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1476104376,"post_id":39958486,"comment_id":67197275,"body_markdown":"You know that it&#39;s possible but you&#39;ve just proven that it isn&#39;t possible. Make up your mind.","body":"You know that it&#39;s possible but you&#39;ve just proven that it isn&#39;t possible. Make up your mind."},{"owner":{"account_id":6023664,"reputation":361,"user_id":4730051,"accept_rate":62,"display_name":"Ivan"},"score":1,"creation_date":1476104409,"post_id":39958486,"comment_id":67197298,"body_markdown":"@JIV, to bypass a signature restriction (signature checker verifies the first entity, but installed installs the last)","body":"@JIV, to bypass a signature restriction (signature checker verifies the first entity, but installed installs the last)"},{"owner":{"account_id":6023664,"reputation":361,"user_id":4730051,"accept_rate":62,"display_name":"Ivan"},"score":0,"creation_date":1476104563,"post_id":39958486,"comment_id":67197403,"body_markdown":"@EJP, a library does not allow duplicates. You may check sources http://hg.openjdk.java.net/jdk7/jdk7/jdk/file/9b8c96f96a0f/src/share/classes/java/util/zip/ZipOutputStream.java line 214: `if (! names.add(e.name)) {` but you may check where `names` object is used and suddenly only to disallow duplicates. So it&#39;s possible but not with that library","body":"@EJP, a library does not allow duplicates. You may check sources <a href=\"http://hg.openjdk.java.net/jdk7/jdk7/jdk/file/9b8c96f96a0f/src/share/classes/java/util/zip/ZipOutputStream.java\" rel=\"nofollow noreferrer\">hg.openjdk.java.net/jdk7/jdk7/jdk/file/9b8c96f96a0f/src/shar&zwnj;&#8203;e/&hellip;</a> line 214: <code>if (! names.add(e.name)) {</code> but you may check where <code>names</code> object is used and suddenly only to disallow duplicates. So it&#39;s possible but not with that library"}],"answers":[{"tags":[],"owner":{"account_id":6023664,"reputation":361,"user_id":4730051,"accept_rate":62,"display_name":"Ivan"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1673268820,"creation_date":1476105473,"answer_id":39959251,"question_id":39958486,"body_markdown":"I was able to bypass restriction thru reflection api:\r\n\r\n    Field namesField = ZipOutputStream.class.getDeclaredField(&quot;names&quot;);\r\n    namesField.setAccessible(true);\r\n    HashSet&lt;String&gt; names = (HashSet&lt;String&gt;) namesField.get(out);\r\n\r\nAnd clearing `names` after each `putNextEntry` call","title":"Java - Create a ZIP file with duplicate entries","body":"<p>I was able to bypass restriction thru reflection api:</p>\n<pre><code>Field namesField = ZipOutputStream.class.getDeclaredField(&quot;names&quot;);\nnamesField.setAccessible(true);\nHashSet&lt;String&gt; names = (HashSet&lt;String&gt;) namesField.get(out);\n</code></pre>\n<p>And clearing <code>names</code> after each <code>putNextEntry</code> call</p>\n"},{"tags":[],"owner":{"account_id":10532673,"reputation":789,"user_id":7761544,"display_name":"Dinesh Falwadiya"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1578563428,"creation_date":1578563428,"answer_id":59661249,"question_id":39958486,"body_markdown":"    try (FileOutputStream fos = new FileOutputStream(zipFile);\r\n\t\t\t\tZipOutputStream zos = new ZipOutputStream(fos)) {\r\n\r\n\t\t\tHashSet&lt;String&gt; names = new HashSet&lt;String&gt;();\r\n\t\t\tfor (String filePath : fileList) {\r\n\t\t\t\tif(names.add(filePath))\r\n\t\t\t\t{\r\n\t\t\t\tString name = filePath.substring(directory.getAbsolutePath()\r\n\t\t\t\t\t\t.length() + 1, filePath.length());\r\n\t\t\t\tZipEntry zipEntry = new ZipEntry(name);\r\n\t\t\t\r\n\t\t\t\tzos.putNextEntry(zipEntry);\r\n\t\t\t\ttry (FileInputStream fis = new FileInputStream(filePath)) {\r\n\t\t\t\t\tbyte[] buffer = new byte[1024];\r\n\t\t\t\t\tint length;\r\n\t\t\t\t\twhile ((length = fis.read(buffer)) &gt;= 0) {\r\n\t\t\t\t\t\tzos.write(buffer, 0, length);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\tthrow new Exception();\r\n\t\t\t\t}\r\n\t\t\t\tzos.closeEntry();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tnames.clear();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tthrow new Exception();\r\n\t\t}\r\n\r\nBy using HashSet solved my issue of zip duplicate entry","title":"Java - Create a ZIP file with duplicate entries","body":"<pre><code>try (FileOutputStream fos = new FileOutputStream(zipFile);\n            ZipOutputStream zos = new ZipOutputStream(fos)) {\n\n        HashSet&lt;String&gt; names = new HashSet&lt;String&gt;();\n        for (String filePath : fileList) {\n            if(names.add(filePath))\n            {\n            String name = filePath.substring(directory.getAbsolutePath()\n                    .length() + 1, filePath.length());\n            ZipEntry zipEntry = new ZipEntry(name);\n\n            zos.putNextEntry(zipEntry);\n            try (FileInputStream fis = new FileInputStream(filePath)) {\n                byte[] buffer = new byte[1024];\n                int length;\n                while ((length = fis.read(buffer)) &gt;= 0) {\n                    zos.write(buffer, 0, length);\n                }\n\n            } catch (Exception e) {\n                e.printStackTrace();\n                throw new Exception();\n            }\n            zos.closeEntry();\n            }\n\n        }\n        names.clear();\n    } catch (IOException e) {\n        e.printStackTrace();\n        throw new Exception();\n    }\n</code></pre>\n\n<p>By using HashSet solved my issue of zip duplicate entry</p>\n"},{"tags":[],"owner":{"account_id":11081934,"reputation":1,"user_id":8136865,"display_name":"Bree Bree"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1637321450,"creation_date":1637320457,"answer_id":70033967,"question_id":39958486,"body_markdown":"This is my solution: adding postfixes for duplicate names:\r\n\r\n    String SPLIT_FILENAME_EXTENSION_REGEX = &quot;\\\\.(?=[^\\\\.]+$)&quot;;\r\n    Map&lt;String, Integer&gt; namesPostfixes = new HashMap&lt;&gt;();\r\n\r\n\r\n\tprivate void addZipPart(String fullName, InputStream attachmentStream, ZipOutputStream zos,\r\n\t\t\tMap&lt;String, Integer&gt; namesPostfixes)\r\n\t\t\tthrows IOException, MessagingException {\r\n\t\tString generatedName;\r\n\t\tif (namesPostfixes.containsKey(fullName)) {\r\n\t\t\tString namePart;\r\n\t\t\tString extensionPart;\r\n\t\t\tif (fullName.contains(&quot;.&quot;)) {\r\n\t\t\t\tString[] splittedName = fullName.split(SPLIT_FILENAME_EXTENSION_REGEX);\r\n\t\t\t\tnamePart = splittedName[0];\r\n\t\t\t\textensionPart = &quot;.&quot; + splittedName[1];\r\n\t\t\t} else {\r\n\t\t\t\tnamePart = fullName;\r\n\t\t\t\textensionPart = &quot;&quot;;\r\n\t\t\t}\r\n\t\t\tInteger counter = namesPostfixes.get(fullName);\r\n\t\t\tgeneratedName = namePart + &quot;_&quot; + ++counter + extensionPart;\r\n\t\t\tnamesPostfixes.put(fullName, counter);\r\n\t\t} else {\r\n\t\t\tgeneratedName = fullName;\r\n\t\t\tnamesPostfixes.put(fullName, 0);\r\n\t\t}\r\n\t\tzos.putNextEntry(\r\n\t\t\t\tnew ZipEntry(generatedName));\r\n\t\tIOUtils.copy(attachmentStream, zos);\r\n\t\tzos.closeEntry();\r\n\t}","title":"Java - Create a ZIP file with duplicate entries","body":"<p>This is my solution: adding postfixes for duplicate names:</p>\n<pre><code>String SPLIT_FILENAME_EXTENSION_REGEX = &quot;\\\\.(?=[^\\\\.]+$)&quot;;\nMap&lt;String, Integer&gt; namesPostfixes = new HashMap&lt;&gt;();\n\n\nprivate void addZipPart(String fullName, InputStream attachmentStream, ZipOutputStream zos,\n        Map&lt;String, Integer&gt; namesPostfixes)\n        throws IOException, MessagingException {\n    String generatedName;\n    if (namesPostfixes.containsKey(fullName)) {\n        String namePart;\n        String extensionPart;\n        if (fullName.contains(&quot;.&quot;)) {\n            String[] splittedName = fullName.split(SPLIT_FILENAME_EXTENSION_REGEX);\n            namePart = splittedName[0];\n            extensionPart = &quot;.&quot; + splittedName[1];\n        } else {\n            namePart = fullName;\n            extensionPart = &quot;&quot;;\n        }\n        Integer counter = namesPostfixes.get(fullName);\n        generatedName = namePart + &quot;_&quot; + ++counter + extensionPart;\n        namesPostfixes.put(fullName, counter);\n    } else {\n        generatedName = fullName;\n        namesPostfixes.put(fullName, 0);\n    }\n    zos.putNextEntry(\n            new ZipEntry(generatedName));\n    IOUtils.copy(attachmentStream, zos);\n    zos.closeEntry();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689067509,"creation_date":1689067509,"answer_id":76660489,"question_id":39958486,"body_markdown":"Putting Ivans answer in something performant.\r\n\r\n\tstatic final Field zipNamesField = getZipNameField();\r\n\r\n\tprivate static Field getZipNameField()\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tField res = ZipOutputStream.class.getDeclaredField(&quot;names&quot;);\r\n\t\t\tres.setAccessible(true);\r\n\t\t\treturn res;\r\n\t\t}\r\n\t\tcatch (NoSuchFieldException | SecurityException e)\r\n\t\t{\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n    ...\r\n    \r\n    // Loop\r\n    ((HashSet&lt;String&gt;) zipNamesField.get(out)).clear();\r\n    entry = new ZipEntry(...);\r\n\tout.putNextEntry(entry);\r\n    \r\n    ...\r\n","title":"Java - Create a ZIP file with duplicate entries","body":"<p>Putting Ivans answer in something performant.</p>\n<pre><code>static final Field zipNamesField = getZipNameField();\n\nprivate static Field getZipNameField()\n{\n    try\n    {\n        Field res = ZipOutputStream.class.getDeclaredField(&quot;names&quot;);\n        res.setAccessible(true);\n        return res;\n    }\n    catch (NoSuchFieldException | SecurityException e)\n    {\n        e.printStackTrace();\n        return null;\n    }\n}\n\n...\n\n// Loop\n((HashSet&lt;String&gt;) zipNamesField.get(out)).clear();\nentry = new ZipEntry(...);\nout.putNextEntry(entry);\n\n...\n</code></pre>\n"}],"owner":{"account_id":6023664,"reputation":361,"user_id":4730051,"accept_rate":62,"display_name":"Ivan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8755,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1689067509,"creation_date":1476103077,"question_id":39958486,"body_markdown":"I&#39;d like to create a zip which stores two different files with the same name, but I&#39;m unable (using `java.util.zip.ZipOutputStream`) due to \r\n\r\n&gt; java.util.zip.ZipException: duplicate entry:\r\n\r\n\r\nexception. I know that it&#39;s possible, but I need an advise which library I can use for that purposes. Thanks!\r\n\r\nUPD the code I&#39;m using:\r\n\r\n    File zipFile = new File(&quot;C:\\\\Users\\\\user\\\\Desktop\\\\old.zip&quot;);\r\n    File outFile = new File(&quot;C:\\\\Users\\\\user\\\\Desktop\\\\new.zip&quot;);\r\n    if(!outFile.exists()) {\r\n    \toutFile.getParentFile().mkdirs();\r\n    \toutFile.createNewFile();\r\n    }\r\n    \r\n    byte[] buf = new byte[1024];\r\n    ZipInputStream zin = new ZipInputStream(new FileInputStream(zipFile));\r\n    ZipOutputStream out = new ZipOutputStream(new FileOutputStream(outFile));\r\n    \r\n    ZipEntry entry = zin.getNextEntry();\r\n    while (entry != null) {\r\n    \tString name = entry.getName();\r\n    \tout.putNextEntry(new ZipEntry(name));\r\n    \tint len;\r\n    \twhile ((len = zin.read(buf)) &gt; 0) {\r\n    \t\tout.write(buf, 0, len);\r\n    \t}\r\n    \tentry = zin.getNextEntry();\r\n    \t\r\n    \tif(&quot;file&quot;.equals(name)) {\r\n    \t\tFile fakeFile = new File(&quot;C:\\\\Users\\\\user\\\\Desktop\\\\file&quot;);\r\n    \t\tInputStream in = new FileInputStream(fakeFile);\r\n    \t\tout.putNextEntry(new ZipEntry(&quot;file&quot;));\r\n    \t\twhile ((len = in.read(buf)) &gt; 0) {\r\n    \t\t\tout.write(buf, 0, len);\r\n    \t\t}\r\n    \t\tout.closeEntry();\r\n    \t\tin.close();\r\n    \t}\r\n    } \r\n    zin.close();\r\n    out.close();\r\n\r\n","title":"Java - Create a ZIP file with duplicate entries","body":"<p>I'd like to create a zip which stores two different files with the same name, but I'm unable (using <code>java.util.zip.ZipOutputStream</code>) due to </p>\n\n<blockquote>\n  <p>java.util.zip.ZipException: duplicate entry:</p>\n</blockquote>\n\n<p>exception. I know that it's possible, but I need an advise which library I can use for that purposes. Thanks!</p>\n\n<p>UPD the code I'm using:</p>\n\n<pre><code>File zipFile = new File(\"C:\\\\Users\\\\user\\\\Desktop\\\\old.zip\");\nFile outFile = new File(\"C:\\\\Users\\\\user\\\\Desktop\\\\new.zip\");\nif(!outFile.exists()) {\n    outFile.getParentFile().mkdirs();\n    outFile.createNewFile();\n}\n\nbyte[] buf = new byte[1024];\nZipInputStream zin = new ZipInputStream(new FileInputStream(zipFile));\nZipOutputStream out = new ZipOutputStream(new FileOutputStream(outFile));\n\nZipEntry entry = zin.getNextEntry();\nwhile (entry != null) {\n    String name = entry.getName();\n    out.putNextEntry(new ZipEntry(name));\n    int len;\n    while ((len = zin.read(buf)) &gt; 0) {\n        out.write(buf, 0, len);\n    }\n    entry = zin.getNextEntry();\n\n    if(\"file\".equals(name)) {\n        File fakeFile = new File(\"C:\\\\Users\\\\user\\\\Desktop\\\\file\");\n        InputStream in = new FileInputStream(fakeFile);\n        out.putNextEntry(new ZipEntry(\"file\"));\n        while ((len = in.read(buf)) &gt; 0) {\n            out.write(buf, 0, len);\n        }\n        out.closeEntry();\n        in.close();\n    }\n} \nzin.close();\nout.close();\n</code></pre>\n"},{"tags":["java","android-studio","game-development","tic-tac-toe","flush"],"comments":[{"owner":{"account_id":6576425,"reputation":3053,"user_id":5082285,"display_name":"Markus Kauppinen"},"score":0,"creation_date":1688658068,"post_id":76629393,"comment_id":135106446,"body_markdown":"_&quot;when player presses on button&quot;_ You&#39;ll need an `OnClickListener` on each button then: [https://developer.android.com/develop/ui/views/components/button](https://developer.android.com/develop/ui/views/components/button)","body":"<i>&quot;when player presses on button&quot;</i> You&#39;ll need an <code>OnClickListener</code> on each button then: <a href=\"https://developer.android.com/develop/ui/views/components/button\" rel=\"nofollow noreferrer\">https://developer.android.com/develop/ui/views/components/bu&zwnj;&#8203;tton</a>"}],"owner":{"account_id":20740823,"reputation":11,"user_id":15230528,"display_name":"Ahmed Salman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1689067286,"creation_date":1688650293,"question_id":76629393,"body_markdown":"I am making a simple tic tac toe game and I want to immediately print the X&#39;s and O&#39;s when a player presses a button.\r\nJust like how you could flush a print statement and immediately have the buffer empty itself without having to go through the whole program.\r\n\r\n```java\r\n    // method to print X&#39;s and O&#39;s on buttons\r\n    private void setText(Button btn) {\r\n\r\n        if (btn.getText().toString().equals(&quot;&quot;)) { // if button NOT toggled yet\r\n            if (state == 0) { // print 0 on button\r\n                btn.setText(&quot;0&quot;);\r\n                moves++;\r\n                state = 1;\r\n            } else { // print X on button\r\n                btn.setText(&quot;X&quot;);\r\n                moves++;\r\n                state = 0;\r\n            }\r\n        }\r\n    }\r\n```","title":"How to flush print statement to Button in Android Studio?","body":"<p>I am making a simple tic tac toe game and I want to immediately print the X's and O's when a player presses a button.\nJust like how you could flush a print statement and immediately have the buffer empty itself without having to go through the whole program.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    // method to print X's and O's on buttons\n    private void setText(Button btn) {\n\n        if (btn.getText().toString().equals(&quot;&quot;)) { // if button NOT toggled yet\n            if (state == 0) { // print 0 on button\n                btn.setText(&quot;0&quot;);\n                moves++;\n                state = 1;\n            } else { // print X on button\n                btn.setText(&quot;X&quot;);\n                moves++;\n                state = 0;\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","websocket"],"comments":[{"owner":{"account_id":21650945,"reputation":71,"user_id":17772697,"display_name":"WoistdasNiveau"},"score":0,"creation_date":1689072077,"post_id":76660435,"comment_id":135158189,"body_markdown":"I changed the URL to ws://localhost:8080/ws now i get a http 400 but i still do not know what is wrong with the requests.","body":"I changed the URL to ws://localhost:8080/ws now i get a http 400 but i still do not know what is wrong with the requests."}],"owner":{"account_id":21650945,"reputation":71,"user_id":17772697,"display_name":"WoistdasNiveau"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1689067190,"creation_date":1689067190,"question_id":76660435,"body_markdown":"I am highly confused with spring boot websockets. I have followed this tutorial https://www.youtube.com/watch?v=TywlS9iAZCM&amp;t=2367s to create the Websocket backend. I wanted to test it with the Websocket capabilities of Postman and also created a console Application in C# to test and play around with the Websockets, however, i always get 404 back. This is really confusing for me since when i look into the logs of the spring boot application it looks like the Websocket request is always treated as a normal GET request, which also does not make a lot of sense to me. I already looked at this question https://stackoverflow.com/questions/53647987/spring-boot-websocket-api-404-not-found and this one https://stackoverflow.com/questions/28000900/spring-websocket-getting-404-not-found but in all tutorials i have watched so far nobody is using the Websocketconfig which implements WebSocketConfigurer and adding the @Controller annotation to my config did not change anything at all. What am i missing and what am i doing wrong?\r\n\r\nThe logs:\r\n```\r\n2023-07-11T11:11:23.890+02:00 TRACE 19376 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean &#39;stompWebSocketHandlerMapping&#39;\r\n2023-07-11T11:11:23.890+02:00 TRACE 19376 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean &#39;webSocketHandlerMapping&#39;\r\n2023-07-11T11:11:23.890+02:00 TRACE 19376 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean &#39;resourceHandlerMapping&#39;\r\n2023-07-11T11:11:23.892+02:00  INFO 19376 --- [           main] c.e.w.WebSocketTriesBackendApplication   : Started WebSocketTriesBackendApplication in 1.72 seconds (process running for 2.274)\r\n2023-07-11T11:11:23.893+02:00 TRACE 19376 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean &#39;springApplicationAdminRegistrar&#39;\r\n2023-07-11T11:11:23.893+02:00 TRACE 19376 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean &#39;springApplicationAdminRegistrar&#39;\r\n2023-07-11T11:11:23.893+02:00 TRACE 19376 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean &#39;applicationAvailability&#39;\r\n2023-07-11T11:11:23.893+02:00 DEBUG 19376 --- [           main] o.s.b.a.ApplicationAvailabilityBean      : Application availability state LivenessState changed to CORRECT\r\n2023-07-11T11:11:23.894+02:00 TRACE 19376 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean &#39;springApplicationAdminRegistrar&#39;\r\n2023-07-11T11:11:23.894+02:00 TRACE 19376 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean &#39;springApplicationAdminRegistrar&#39;\r\n2023-07-11T11:11:23.894+02:00 TRACE 19376 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean &#39;applicationAvailability&#39;\r\n2023-07-11T11:11:23.894+02:00 DEBUG 19376 --- [           main] o.s.b.a.ApplicationAvailabilityBean      : Application availability state ReadinessState changed to ACCEPTING_TRAFFIC\r\n2023-07-11T11:12:23.659+02:00  INFO 19376 --- [MessageBroker-1] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]\r\n2023-07-11T11:16:01.904+02:00  INFO 19376 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2023-07-11T11:16:01.904+02:00  INFO 19376 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2023-07-11T11:16:01.904+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean &#39;multipartResolver&#39;\r\n2023-07-11T11:16:01.904+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.multipart.support.StandardServletMultipartResolver@6e4d781\r\n2023-07-11T11:16:01.904+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean &#39;localeResolver&#39;\r\n2023-07-11T11:16:01.904+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.i18n.AcceptHeaderLocaleResolver@503209a1\r\n2023-07-11T11:16:01.904+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean &#39;themeResolver&#39;\r\n2023-07-11T11:16:01.904+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.theme.FixedThemeResolver@614fac67\r\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean &#39;stompWebSocketHandlerMapping&#39;\r\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean &#39;webSocketHandlerMapping&#39;\r\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean &#39;welcomePageHandlerMapping&#39;\r\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean &#39;welcomePageNotAcceptableHandlerMapping&#39;\r\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean &#39;requestMappingHandlerMapping&#39;\r\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean &#39;viewControllerHandlerMapping&#39;\r\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean &#39;beanNameHandlerMapping&#39;\r\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean &#39;routerFunctionMapping&#39;\r\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean &#39;resourceHandlerMapping&#39;\r\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean &#39;defaultServletHandlerMapping&#39;\r\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean &#39;requestMappingHandlerAdapter&#39;\r\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean &#39;handlerFunctionAdapter&#39;\r\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean &#39;httpRequestHandlerAdapter&#39;\r\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean &#39;simpleControllerHandlerAdapter&#39;\r\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean &#39;errorAttributes&#39;\r\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean &#39;handlerExceptionResolver&#39;\r\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean &#39;viewNameTranslator&#39;\r\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected DefaultRequestToViewNameTranslator\r\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean &#39;beanNameViewResolver&#39;\r\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean &#39;mvcViewResolver&#39;\r\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean &#39;defaultViewResolver&#39;\r\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean &#39;viewResolver&#39;\r\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean &#39;flashMapManager&#39;\r\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected SessionFlashMapManager\r\n2023-07-11T11:16:01.905+02:00 DEBUG 19376 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails=&#39;false&#39;: request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data\r\n2023-07-11T11:16:01.905+02:00  INFO 19376 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\n2023-07-11T11:16:01.908+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.w.s.f.OrderedRequestContextFilter  : Bound request context to thread: org.apache.catalina.connector.RequestFacade@4379a6f\r\n2023-07-11T11:16:01.910+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET &quot;/ws/app/topic/public&quot;, parameters={}, headers={masked} in DispatcherServlet &#39;dispatcherServlet&#39;\r\n2023-07-11T11:16:01.917+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to HandlerExecutionChain with [org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@78a0ff63] and 1 interceptors\r\n2023-07-11T11:16:01.925+02:00 DEBUG 19376 --- [nio-8080-exec-1] o.s.w.s.s.t.h.DefaultSockJsService       : Processing transport request: GET http://localhost:8080/ws/app/topic/public\r\n2023-07-11T11:16:01.925+02:00  WARN 19376 --- [nio-8080-exec-1] o.s.w.s.s.t.h.DefaultSockJsService       : &quot;Unknown transport type for http://localhost:8080/ws/app/topic/public&quot;\r\n2023-07-11T11:16:01.926+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : No view rendering, null ModelAndView returned.\r\n2023-07-11T11:16:01.926+02:00 DEBUG 19376 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND, headers={masked}\r\n2023-07-11T11:16:01.927+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean &#39;springApplicationAdminRegistrar&#39;\r\n2023-07-11T11:16:01.927+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.w.s.f.OrderedRequestContextFilter  : Cleared thread-bound request context: org.apache.catalina.connector.RequestFacade@4379a6f\r\n\r\n```\r\n\r\nThe WebsocketConfig:\r\n```\r\n@Configuration\r\n@EnableWebSocketMessageBroker\r\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer\r\n{\r\n    @Override\r\n    public void configureMessageBroker(MessageBrokerRegistry registry)\r\n    {\r\n        registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n        registry.enableSimpleBroker(&quot;/topic&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void registerStompEndpoints(StompEndpointRegistry registry)\r\n    {\r\n        registry.addEndpoint(&quot;/ws&quot;).withSockJS();\r\n    }\r\n}\r\n```\r\n\r\nEventlistener:\r\n```\r\n@Component\r\n@RequiredArgsConstructor\r\n@Slf4j\r\npublic class WebSocketEventListener\r\n{\r\n    private final SimpMessageSendingOperations messageTemplate;\r\n\r\n    @EventListener\r\n    public void HandleWebSocketDisconnectListener(SessionDisconnectEvent event)\r\n    {\r\n        StompHeaderAccessor headerAccessor = StompHeaderAccessor.wrap(event.getMessage());\r\n        String username = (String) headerAccessor.getSessionAttributes().get(&quot;username&quot;);\r\n\r\n        if(username != null)\r\n        {\r\n            log.info(&quot;User disconncted: &quot; + username);\r\n            var message = ChatMessage.builder()\r\n                    .type(MessageType.LEAVE)\r\n                    .sender(username)\r\n                    .build();\r\n\r\n            messageTemplate.convertAndSend(&quot;/topic/public&quot;, message);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nController:\r\n```\r\n@Controller\r\npublic class ChatController\r\n{\r\n    @MessageMapping(&quot;/chat.SendMessage&quot;)\r\n    @SendTo(&quot;/topic/public&quot;)\r\n    public ChatMessage SendMessage(@Payload ChatMessage message)\r\n    {\r\n        return message;\r\n    }\r\n\r\n    @MessageMapping(&quot;/chat.AddUser&quot;)\r\n    @SendTo(&quot;/topic/public&quot;)\r\n    public ChatMessage AddUser(@Payload ChatMessage message, SimpMessageHeaderAccessor headerAccessor)\r\n    {\r\n        headerAccessor.getSessionAttributes().put(&quot;username&quot;, message.getSender());\r\n        return message;\r\n    }\r\n}\r\n```\r\nThe method with which i am trying to access the WebSocket:\r\n```\r\nlass Program\r\n{\r\n    static async Task Main()\r\n    {\r\n        var endpointUrl = &quot;ws://localhost:8080/ws/app/topic/public&quot;; // WebSocket endpoint URL\r\n\r\n        using (var client = new ClientWebSocket())\r\n        {\r\n            await client.ConnectAsync(new Uri(endpointUrl), CancellationToken.None); // Connect to the WebSocket endpoint\r\n\r\n            // Start a separate task to listen for incoming messages\r\n            _ = ReceiveMessages(client);\r\n            ChatMessage message = new ChatMessage()\r\n            {\r\n                Content = &quot;test&quot;,\r\n                Sender = &quot;test&quot;,\r\n                Type = MessageType.JOIN\r\n            };\r\n            \r\n            string jsonString = JsonSerializer.Serialize(message);\r\n            // Send a message to the server\r\n            await SendMessage(client, jsonString);\r\n            // Keep the console application running until interrupted\r\n            Console.ReadLine();\r\n\r\n            await client.CloseOutputAsync(WebSocketCloseStatus.NormalClosure, &quot;Console application closed&quot;, CancellationToken.None);\r\n        }\r\n    }\r\n\r\n    static async Task ReceiveMessages(ClientWebSocket client)\r\n    {\r\n        var buffer = new byte[1024];\r\n\r\n        while (client.State == WebSocketState.Open)\r\n        {\r\n            var result = await client.ReceiveAsync(new ArraySegment&lt;byte&gt;(buffer), CancellationToken.None);\r\n\r\n            if (result.MessageType == WebSocketMessageType.Text)\r\n            {\r\n                var messageBytes = new ArraySegment&lt;byte&gt;(buffer, 0, result.Count);\r\n                var message = Encoding.UTF8.GetString(messageBytes.ToArray());\r\n                Console.WriteLine(&quot;Received message: &quot; + message);\r\n            }\r\n        }\r\n    }\r\n\r\n    static async Task SendMessage(ClientWebSocket client, string message)\r\n    {\r\n        var messageBytes = Encoding.UTF8.GetBytes(message);\r\n        var buffer = new ArraySegment&lt;byte&gt;(messageBytes);\r\n\r\n        await client.SendAsync(buffer, WebSocketMessageType.Text, true, CancellationToken.None);\r\n    }\r\n}\r\n```","title":"Spring boot Websocket always returns 404","body":"<p>I am highly confused with spring boot websockets. I have followed this tutorial <a href=\"https://www.youtube.com/watch?v=TywlS9iAZCM&amp;t=2367s\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=TywlS9iAZCM&amp;t=2367s</a> to create the Websocket backend. I wanted to test it with the Websocket capabilities of Postman and also created a console Application in C# to test and play around with the Websockets, however, i always get 404 back. This is really confusing for me since when i look into the logs of the spring boot application it looks like the Websocket request is always treated as a normal GET request, which also does not make a lot of sense to me. I already looked at this question <a href=\"https://stackoverflow.com/questions/53647987/spring-boot-websocket-api-404-not-found\">spring boot websocket api 404 not found</a> and this one <a href=\"https://stackoverflow.com/questions/28000900/spring-websocket-getting-404-not-found\">Spring websocket getting 404 not found</a> but in all tutorials i have watched so far nobody is using the Websocketconfig which implements WebSocketConfigurer and adding the @Controller annotation to my config did not change anything at all. What am i missing and what am i doing wrong?</p>\n<p>The logs:</p>\n<pre><code>2023-07-11T11:11:23.890+02:00 TRACE 19376 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean 'stompWebSocketHandlerMapping'\n2023-07-11T11:11:23.890+02:00 TRACE 19376 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean 'webSocketHandlerMapping'\n2023-07-11T11:11:23.890+02:00 TRACE 19376 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean 'resourceHandlerMapping'\n2023-07-11T11:11:23.892+02:00  INFO 19376 --- [           main] c.e.w.WebSocketTriesBackendApplication   : Started WebSocketTriesBackendApplication in 1.72 seconds (process running for 2.274)\n2023-07-11T11:11:23.893+02:00 TRACE 19376 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean 'springApplicationAdminRegistrar'\n2023-07-11T11:11:23.893+02:00 TRACE 19376 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean 'springApplicationAdminRegistrar'\n2023-07-11T11:11:23.893+02:00 TRACE 19376 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean 'applicationAvailability'\n2023-07-11T11:11:23.893+02:00 DEBUG 19376 --- [           main] o.s.b.a.ApplicationAvailabilityBean      : Application availability state LivenessState changed to CORRECT\n2023-07-11T11:11:23.894+02:00 TRACE 19376 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean 'springApplicationAdminRegistrar'\n2023-07-11T11:11:23.894+02:00 TRACE 19376 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean 'springApplicationAdminRegistrar'\n2023-07-11T11:11:23.894+02:00 TRACE 19376 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean 'applicationAvailability'\n2023-07-11T11:11:23.894+02:00 DEBUG 19376 --- [           main] o.s.b.a.ApplicationAvailabilityBean      : Application availability state ReadinessState changed to ACCEPTING_TRAFFIC\n2023-07-11T11:12:23.659+02:00  INFO 19376 --- [MessageBroker-1] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]\n2023-07-11T11:16:01.904+02:00  INFO 19376 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2023-07-11T11:16:01.904+02:00  INFO 19376 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2023-07-11T11:16:01.904+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean 'multipartResolver'\n2023-07-11T11:16:01.904+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.multipart.support.StandardServletMultipartResolver@6e4d781\n2023-07-11T11:16:01.904+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean 'localeResolver'\n2023-07-11T11:16:01.904+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.i18n.AcceptHeaderLocaleResolver@503209a1\n2023-07-11T11:16:01.904+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean 'themeResolver'\n2023-07-11T11:16:01.904+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.theme.FixedThemeResolver@614fac67\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean 'stompWebSocketHandlerMapping'\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean 'webSocketHandlerMapping'\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean 'welcomePageHandlerMapping'\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean 'welcomePageNotAcceptableHandlerMapping'\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean 'requestMappingHandlerMapping'\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean 'viewControllerHandlerMapping'\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean 'beanNameHandlerMapping'\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean 'routerFunctionMapping'\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean 'resourceHandlerMapping'\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean 'defaultServletHandlerMapping'\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean 'requestMappingHandlerAdapter'\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean 'handlerFunctionAdapter'\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean 'httpRequestHandlerAdapter'\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean 'simpleControllerHandlerAdapter'\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean 'errorAttributes'\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean 'handlerExceptionResolver'\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean 'viewNameTranslator'\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected DefaultRequestToViewNameTranslator\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean 'beanNameViewResolver'\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean 'mvcViewResolver'\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean 'defaultViewResolver'\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean 'viewResolver'\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean 'flashMapManager'\n2023-07-11T11:16:01.905+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected SessionFlashMapManager\n2023-07-11T11:16:01.905+02:00 DEBUG 19376 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data\n2023-07-11T11:16:01.905+02:00  INFO 19376 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\n2023-07-11T11:16:01.908+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.w.s.f.OrderedRequestContextFilter  : Bound request context to thread: org.apache.catalina.connector.RequestFacade@4379a6f\n2023-07-11T11:16:01.910+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET &quot;/ws/app/topic/public&quot;, parameters={}, headers={masked} in DispatcherServlet 'dispatcherServlet'\n2023-07-11T11:16:01.917+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to HandlerExecutionChain with [org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@78a0ff63] and 1 interceptors\n2023-07-11T11:16:01.925+02:00 DEBUG 19376 --- [nio-8080-exec-1] o.s.w.s.s.t.h.DefaultSockJsService       : Processing transport request: GET http://localhost:8080/ws/app/topic/public\n2023-07-11T11:16:01.925+02:00  WARN 19376 --- [nio-8080-exec-1] o.s.w.s.s.t.h.DefaultSockJsService       : &quot;Unknown transport type for http://localhost:8080/ws/app/topic/public&quot;\n2023-07-11T11:16:01.926+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : No view rendering, null ModelAndView returned.\n2023-07-11T11:16:01.926+02:00 DEBUG 19376 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND, headers={masked}\n2023-07-11T11:16:01.927+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean 'springApplicationAdminRegistrar'\n2023-07-11T11:16:01.927+02:00 TRACE 19376 --- [nio-8080-exec-1] o.s.b.w.s.f.OrderedRequestContextFilter  : Cleared thread-bound request context: org.apache.catalina.connector.RequestFacade@4379a6f\n\n</code></pre>\n<p>The WebsocketConfig:</p>\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer\n{\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry registry)\n    {\n        registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\n        registry.enableSimpleBroker(&quot;/topic&quot;);\n    }\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry)\n    {\n        registry.addEndpoint(&quot;/ws&quot;).withSockJS();\n    }\n}\n</code></pre>\n<p>Eventlistener:</p>\n<pre><code>@Component\n@RequiredArgsConstructor\n@Slf4j\npublic class WebSocketEventListener\n{\n    private final SimpMessageSendingOperations messageTemplate;\n\n    @EventListener\n    public void HandleWebSocketDisconnectListener(SessionDisconnectEvent event)\n    {\n        StompHeaderAccessor headerAccessor = StompHeaderAccessor.wrap(event.getMessage());\n        String username = (String) headerAccessor.getSessionAttributes().get(&quot;username&quot;);\n\n        if(username != null)\n        {\n            log.info(&quot;User disconncted: &quot; + username);\n            var message = ChatMessage.builder()\n                    .type(MessageType.LEAVE)\n                    .sender(username)\n                    .build();\n\n            messageTemplate.convertAndSend(&quot;/topic/public&quot;, message);\n        }\n    }\n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>@Controller\npublic class ChatController\n{\n    @MessageMapping(&quot;/chat.SendMessage&quot;)\n    @SendTo(&quot;/topic/public&quot;)\n    public ChatMessage SendMessage(@Payload ChatMessage message)\n    {\n        return message;\n    }\n\n    @MessageMapping(&quot;/chat.AddUser&quot;)\n    @SendTo(&quot;/topic/public&quot;)\n    public ChatMessage AddUser(@Payload ChatMessage message, SimpMessageHeaderAccessor headerAccessor)\n    {\n        headerAccessor.getSessionAttributes().put(&quot;username&quot;, message.getSender());\n        return message;\n    }\n}\n</code></pre>\n<p>The method with which i am trying to access the WebSocket:</p>\n<pre><code>lass Program\n{\n    static async Task Main()\n    {\n        var endpointUrl = &quot;ws://localhost:8080/ws/app/topic/public&quot;; // WebSocket endpoint URL\n\n        using (var client = new ClientWebSocket())\n        {\n            await client.ConnectAsync(new Uri(endpointUrl), CancellationToken.None); // Connect to the WebSocket endpoint\n\n            // Start a separate task to listen for incoming messages\n            _ = ReceiveMessages(client);\n            ChatMessage message = new ChatMessage()\n            {\n                Content = &quot;test&quot;,\n                Sender = &quot;test&quot;,\n                Type = MessageType.JOIN\n            };\n            \n            string jsonString = JsonSerializer.Serialize(message);\n            // Send a message to the server\n            await SendMessage(client, jsonString);\n            // Keep the console application running until interrupted\n            Console.ReadLine();\n\n            await client.CloseOutputAsync(WebSocketCloseStatus.NormalClosure, &quot;Console application closed&quot;, CancellationToken.None);\n        }\n    }\n\n    static async Task ReceiveMessages(ClientWebSocket client)\n    {\n        var buffer = new byte[1024];\n\n        while (client.State == WebSocketState.Open)\n        {\n            var result = await client.ReceiveAsync(new ArraySegment&lt;byte&gt;(buffer), CancellationToken.None);\n\n            if (result.MessageType == WebSocketMessageType.Text)\n            {\n                var messageBytes = new ArraySegment&lt;byte&gt;(buffer, 0, result.Count);\n                var message = Encoding.UTF8.GetString(messageBytes.ToArray());\n                Console.WriteLine(&quot;Received message: &quot; + message);\n            }\n        }\n    }\n\n    static async Task SendMessage(ClientWebSocket client, string message)\n    {\n        var messageBytes = Encoding.UTF8.GetBytes(message);\n        var buffer = new ArraySegment&lt;byte&gt;(messageBytes);\n\n        await client.SendAsync(buffer, WebSocketMessageType.Text, true, CancellationToken.None);\n    }\n}\n</code></pre>\n"},{"tags":["java","static","constants","final","class-variables"],"comments":[{"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":10,"creation_date":1321010553,"post_id":8093230,"comment_id":9920788,"body_markdown":"Why would you want more than one instance to have its own copy of `FII`?","body":"Why would you want more than one instance to have its own copy of <code>FII</code>?"},{"owner":{"account_id":453984,"reputation":142640,"user_id":851273,"display_name":"Jon Lin"},"score":1,"creation_date":1321010684,"post_id":8093230,"comment_id":9920821,"body_markdown":"I can declare `final int FII = 2;` just fine.","body":"I can declare <code>final int FII = 2;</code> just fine."},{"owner":{"account_id":1634731,"reputation":3637,"user_id":1508529,"accept_rate":82,"display_name":"Mathias Bader"},"score":1,"creation_date":1438503742,"post_id":8093230,"comment_id":51471045,"body_markdown":"@JonLin: You can, but you shouldn&#39;t since it doesn&#39;t add value but only increases memory usage. Exception would be initialization of the constant in the constructor call - then each instance could have it&#39;s own constant value (constant after the constructor run) and could have a value like &#39;constructionTime&#39; or similar.","body":"@JonLin: You can, but you shouldn&#39;t since it doesn&#39;t add value but only increases memory usage. Exception would be initialization of the constant in the constructor call - then each instance could have it&#39;s own constant value (constant after the constructor run) and could have a value like &#39;constructionTime&#39; or similar."}],"answers":[{"tags":[],"owner":{"account_id":318397,"reputation":203598,"user_id":635608,"display_name":"Mat"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1321010524,"creation_date":1321010524,"answer_id":8093244,"question_id":8093230,"body_markdown":"It is simply so that you can access them without an instance of that class.\r\n\r\nRequiring that an instance be created just to access constant fields is a bit of a waste of resources.","title":"why are java constants declared static?","body":"<p>It is simply so that you can access them without an instance of that class.</p>\n\n<p>Requiring that an instance be created just to access constant fields is a bit of a waste of resources.</p>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":1,"up_vote_count":46,"is_accepted":true,"score":45,"last_activity_date":1321010550,"creation_date":1321010550,"answer_id":8093252,"question_id":8093230,"body_markdown":"If it could vary by the instance of a class, then it&#39;s clearly not a *constant*. What would it mean to get a different value of pi for each instance of `Math` (not that `Math` even allows instances to be constructed)? Or a different case insensitive ordering for each instance of `String`?","title":"why are java constants declared static?","body":"<p>If it could vary by the instance of a class, then it's clearly not a <em>constant</em>. What would it mean to get a different value of pi for each instance of <code>Math</code> (not that <code>Math</code> even allows instances to be constructed)? Or a different case insensitive ordering for each instance of <code>String</code>?</p>\n"},{"tags":[],"owner":{"account_id":321035,"reputation":12292,"user_id":639616,"accept_rate":67,"display_name":"wannik"},"down_vote_count":2,"up_vote_count":117,"is_accepted":false,"score":115,"last_activity_date":1321011144,"creation_date":1321011144,"answer_id":8093375,"question_id":8093230,"body_markdown":"If a constant is not static, Java will allocate a memory for that constant in every object of the class (i.e., one copy of the constant per object).\r\n\r\nIf a constant is static, there will be only one copy of the constant for that class (i.e., one copy per class).\r\n\r\nTherefore, if the constant has only one value, it should declared static.\r\n\r\nIf the constant might have different value for each object, for example the creation time of the object, it should not be declared static.","title":"why are java constants declared static?","body":"<p>If a constant is not static, Java will allocate a memory for that constant in every object of the class (i.e., one copy of the constant per object).</p>\n\n<p>If a constant is static, there will be only one copy of the constant for that class (i.e., one copy per class).</p>\n\n<p>Therefore, if the constant has only one value, it should declared static.</p>\n\n<p>If the constant might have different value for each object, for example the creation time of the object, it should not be declared static.</p>\n"},{"tags":[],"owner":{"account_id":3424990,"reputation":111,"user_id":2870975,"display_name":"Dopefish"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1593957052,"creation_date":1593790945,"answer_id":62718699,"question_id":8093230,"body_markdown":"&gt; Why are java constants declared static ?\r\n\r\n*Technically* they aren&#39;t, JLS defines constants as final constant expression (which are referred to but not formally in java as `compile time constant expression`). meaning a variable declared final which is initialized with a constant expression, meaning without static - https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.12.4\r\n\r\n&gt; A constant variable is a final variable of primitive type or type String that is initialized with a constant expression.\r\n\r\nBut the specification does not address anything regarding **Constant Types** which java is all about, Classes and Objects - so Jon Skeet answer regarding Math example is missing one part, Math class is considered constant because you cannot instantiate it by making its constructor private.\r\n\r\nhttp://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/lang/Math.java -\r\n\r\n\r\n    public final class Math {\r\n    \r\n    \r\n        /**\r\n    \r\n         * Don&#39;t let anyone instantiate this class.\r\n    \r\n         */\r\n    \r\n        private Math() {}\r\n    \r\n        public static final double PI = 3.14159265358979323846;\r\n\r\n    }\r\n\r\nTo support the Type itself being constant you need to make sure its state is also constant, but only for its members who are mutable and are exposed to changes from outside the type.\r\n\r\nFor example the literal PI is made public so it&#39;s available from outside the type. So to make sure it wont be changed from the outside it is made final, and also static so it will be part of the [Class Class&amp;lt;Math&amp;gt;][1] instance and could be exposed for use outside Math without the class being (explicitly) instantiated.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html","title":"why are java constants declared static?","body":"<blockquote>\n<p>Why are java constants declared static ?</p>\n</blockquote>\n<p><em>Technically</em> they aren't, JLS defines constants as final constant expression (which are referred to but not formally in java as <code>compile time constant expression</code>). meaning a variable declared final which is initialized with a constant expression, meaning without static - <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.12.4\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.12.4</a></p>\n<blockquote>\n<p>A constant variable is a final variable of primitive type or type String that is initialized with a constant expression.</p>\n</blockquote>\n<p>But the specification does not address anything regarding <strong>Constant Types</strong> which java is all about, Classes and Objects - so Jon Skeet answer regarding Math example is missing one part, Math class is considered constant because you cannot instantiate it by making its constructor private.</p>\n<p><a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/lang/Math.java\" rel=\"nofollow noreferrer\">http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/lang/Math.java</a> -</p>\n<pre><code>public final class Math {\n\n\n    /**\n\n     * Don't let anyone instantiate this class.\n\n     */\n\n    private Math() {}\n\n    public static final double PI = 3.14159265358979323846;\n\n}\n</code></pre>\n<p>To support the Type itself being constant you need to make sure its state is also constant, but only for its members who are mutable and are exposed to changes from outside the type.</p>\n<p>For example the literal PI is made public so it's available from outside the type. So to make sure it wont be changed from the outside it is made final, and also static so it will be part of the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html\" rel=\"nofollow noreferrer\">Class Class&lt;Math&gt;</a> instance and could be exposed for use outside Math without the class being (explicitly) instantiated.</p>\n"}],"owner":{"account_id":213282,"reputation":545,"user_id":466591,"accept_rate":33,"display_name":"Vaibhav"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45174,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":8093252,"answer_count":4,"score":40,"last_activity_date":1689067115,"creation_date":1321010466,"question_id":8093230,"body_markdown":"Why are Java constants declared `static`?\r\n\r\n    class Foo {\r\n        static final int FII = 2 ;\r\n    }\r\n\r\nIn this example I understand the use of `final`, But why does it have to be static? Why should it be a class variable and not an instance variable?","title":"why are java constants declared static?","body":"<p>Why are Java constants declared <code>static</code>?</p>\n<pre><code>class Foo {\n    static final int FII = 2 ;\n}\n</code></pre>\n<p>In this example I understand the use of <code>final</code>, But why does it have to be static? Why should it be a class variable and not an instance variable?</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":17582942,"reputation":108,"user_id":12756335,"display_name":"Rigsto"},"score":0,"creation_date":1688962079,"post_id":76650610,"comment_id":135139953,"body_markdown":"Can you share what your `complaintService` looks like?","body":"Can you share what your <code>complaintService</code> looks like?"},{"owner":{"account_id":3011691,"reputation":711,"user_id":2555056,"display_name":"Anjan Biswas"},"score":0,"creation_date":1688963461,"post_id":76650610,"comment_id":135140070,"body_markdown":"Service code added.","body":"Service code added."}],"answers":[{"tags":[],"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688963754,"creation_date":1688962996,"answer_id":76650673,"question_id":76650610,"body_markdown":"It is by default bad practice to fetch eagerly. Switch to fetch type lazy and implement two service methods, one to fetch all (standard via JPA), and one with Nature, done like this in JPA repository:\r\n\r\n```java\r\n    @EntityGraph(type = EntityGraph.EntityGraphType.FETCH, attributePaths = &quot;natures&quot;)\r\n    @Query(&quot;&quot;&quot;\r\n            SELECT type\r\n            FROM Type type\r\n            &quot;&quot;&quot;)\r\n    List&lt;Type&gt; findAllWithNature();\r\n```\r\n\r\nThe `EntityGraph` annotation will tell Hibernate to fetch the natures as well and then populates the entities with the natures. All this will be done automagically without any further ado.\r\n\r\nAnd into your service goes this:\r\n\r\n```java\r\npublic List&lt;Type&gt; getAllComplaintTypesWithNatures() {\r\n    List&lt;Type&gt; typeListWithNature = typeRepository.findAllWithNature();\r\n    return typeListWithNature;\r\n}\r\n```\r\n\r\nAlso you may consider to use another keyword other than `type`, since this can lead to confusion or problems cause type is reserved in many languages.","title":"How do I skip relational data in Spring data JPA?","body":"<p>It is by default bad practice to fetch eagerly. Switch to fetch type lazy and implement two service methods, one to fetch all (standard via JPA), and one with Nature, done like this in JPA repository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @EntityGraph(type = EntityGraph.EntityGraphType.FETCH, attributePaths = &quot;natures&quot;)\n    @Query(&quot;&quot;&quot;\n            SELECT type\n            FROM Type type\n            &quot;&quot;&quot;)\n    List&lt;Type&gt; findAllWithNature();\n</code></pre>\n<p>The <code>EntityGraph</code> annotation will tell Hibernate to fetch the natures as well and then populates the entities with the natures. All this will be done automagically without any further ado.</p>\n<p>And into your service goes this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;Type&gt; getAllComplaintTypesWithNatures() {\n    List&lt;Type&gt; typeListWithNature = typeRepository.findAllWithNature();\n    return typeListWithNature;\n}\n</code></pre>\n<p>Also you may consider to use another keyword other than <code>type</code>, since this can lead to confusion or problems cause type is reserved in many languages.</p>\n"},{"tags":[],"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688981136,"creation_date":1688981136,"answer_id":76652404,"question_id":76650610,"body_markdown":"As @Slevin said, it&#39;s a bad practice to use eager fetch type on entities, instead use `@EntityGraph` to fetch data eagerly when needed.\r\n\r\nAdditionally, to fetch only needed data I suggest you use projections. Projection can be class-based and interface-based. What&#39;s the difference? Class-based projections don&#39;t support nested data, whereas interface-based projections fetch all fields from the database and map the data programmatically in case of nested projections. \r\n\r\nFor example, when you need types without natures, you can define the following projection:\r\n```java\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\npublic class TypeDto {\r\n\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n}\r\n```\r\nThen, add the method below to the repository:\r\n```java\r\n   List&lt;TypeDto&gt; findAllTypeDtosBy();\r\n```\r\n\r\nFor more details about projections refer to [the blog post][1].\r\n\r\n\r\n  [1]: https://thorben-janssen.com/spring-data-jpa-query-projections/","title":"How do I skip relational data in Spring data JPA?","body":"<p>As @Slevin said, it's a bad practice to use eager fetch type on entities, instead use <code>@EntityGraph</code> to fetch data eagerly when needed.</p>\n<p>Additionally, to fetch only needed data I suggest you use projections. Projection can be class-based and interface-based. What's the difference? Class-based projections don't support nested data, whereas interface-based projections fetch all fields from the database and map the data programmatically in case of nested projections.</p>\n<p>For example, when you need types without natures, you can define the following projection:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@AllArgsConstructor\npublic class TypeDto {\n\n    private Long id;\n\n    private String name;\n\n}\n</code></pre>\n<p>Then, add the method below to the repository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>   List&lt;TypeDto&gt; findAllTypeDtosBy();\n</code></pre>\n<p>For more details about projections refer to <a href=\"https://thorben-janssen.com/spring-data-jpa-query-projections/\" rel=\"nofollow noreferrer\">the blog post</a>.</p>\n"}],"owner":{"account_id":3011691,"reputation":711,"user_id":2555056,"display_name":"Anjan Biswas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1689067054,"creation_date":1688961551,"question_id":76650610,"body_markdown":"I have two Entities **Type** and **Nature** given below.\r\n\r\n\r\n**Type:**\r\n```java\r\n@Entity\r\n@Getter\r\n@Setter\r\n@Table(name = &quot;types&quot;)\r\npublic class Type {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n    @JoinColumn(name = &quot;type_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private List&lt;Nature&gt; natures;\r\n}\r\n```\r\n\r\n**Nature:**\r\n```java\r\n@Entity\r\n@Getter\r\n@Setter\r\n@Table(name = &quot;natures&quot;)\r\npublic class Nature {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    private String description;\r\n}\r\n```\r\n\r\nFor some cases, I need to get **Type** data with **Nature** data.\r\nSo my `Controller`, `Service` looks like below.\r\n\r\n**Controller:**\r\n```java\r\n@GetMapping(&quot;/v1/complaints/types&quot;)\r\npublic ResponseEntity&lt;List&lt;Type&gt;&gt; getAllType() {\r\n    List&lt;Type&gt; typesList = complaintService.getAllComplaintTypes();\r\n    return new ResponseEntity&lt;&gt;(typesList, HttpStatus.OK);\r\n}\r\n```\r\n\r\n**Service:**\r\n```java\r\npublic List&lt;Type&gt; getAllComplaintTypes() {\r\n    List&lt;Type&gt; typeList = typeRepository.findAll();\r\n    return typeList;\r\n}\r\n```\r\n\r\nThat gives me data like this:\r\n```\r\n    {\r\n        &quot;id&quot;: 2,\r\n        &quot;name&quot;: &quot;demo type name&quot;,\r\n        &quot;natures&quot;: [\r\n            {\r\n                &quot;id&quot;: 12,\r\n                &quot;name&quot;: &quot;nature name 1&quot;,\r\n                &quot;description&quot;: &quot;nature description 1&quot;\r\n            },\r\n            {\r\n                &quot;id&quot;: 14,\r\n                &quot;name&quot;: &quot;nature name 2&quot;,\r\n                &quot;description&quot;: &quot;nature name 2&quot;\r\n            }\r\n        ]\r\n    }\r\n```\r\n\r\nBut in some other cases I need only **Type** data without **Nature** data.\r\nHow can I avoid the Nature data?","title":"How do I skip relational data in Spring data JPA?","body":"<p>I have two Entities <strong>Type</strong> and <strong>Nature</strong> given below.</p>\n<p><strong>Type:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Getter\n@Setter\n@Table(name = &quot;types&quot;)\npublic class Type {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String name;\n\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;type_id&quot;, referencedColumnName = &quot;id&quot;)\n    private List&lt;Nature&gt; natures;\n}\n</code></pre>\n<p><strong>Nature:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Getter\n@Setter\n@Table(name = &quot;natures&quot;)\npublic class Nature {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String name;\n\n    private String description;\n}\n</code></pre>\n<p>For some cases, I need to get <strong>Type</strong> data with <strong>Nature</strong> data.\nSo my <code>Controller</code>, <code>Service</code> looks like below.</p>\n<p><strong>Controller:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/v1/complaints/types&quot;)\npublic ResponseEntity&lt;List&lt;Type&gt;&gt; getAllType() {\n    List&lt;Type&gt; typesList = complaintService.getAllComplaintTypes();\n    return new ResponseEntity&lt;&gt;(typesList, HttpStatus.OK);\n}\n</code></pre>\n<p><strong>Service:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;Type&gt; getAllComplaintTypes() {\n    List&lt;Type&gt; typeList = typeRepository.findAll();\n    return typeList;\n}\n</code></pre>\n<p>That gives me data like this:</p>\n<pre><code>    {\n        &quot;id&quot;: 2,\n        &quot;name&quot;: &quot;demo type name&quot;,\n        &quot;natures&quot;: [\n            {\n                &quot;id&quot;: 12,\n                &quot;name&quot;: &quot;nature name 1&quot;,\n                &quot;description&quot;: &quot;nature description 1&quot;\n            },\n            {\n                &quot;id&quot;: 14,\n                &quot;name&quot;: &quot;nature name 2&quot;,\n                &quot;description&quot;: &quot;nature name 2&quot;\n            }\n        ]\n    }\n</code></pre>\n<p>But in some other cases I need only <strong>Type</strong> data without <strong>Nature</strong> data.\nHow can I avoid the Nature data?</p>\n"},{"tags":["java","arrays","json","performance","maintainability"],"comments":[{"owner":{"account_id":4829578,"reputation":4682,"user_id":3898076,"accept_rate":72,"display_name":"Naman Gala"},"score":2,"creation_date":1437114817,"post_id":31469441,"comment_id":50905076,"body_markdown":"How are you comparing both this approach. In JSON based you are putting values as id and in array based you are putting it as array. What is your requirement?","body":"How are you comparing both this approach. In JSON based you are putting values as id and in array based you are putting it as array. What is your requirement?"},{"owner":{"account_id":1064596,"reputation":5404,"user_id":1065489,"accept_rate":52,"display_name":"me_digvijay"},"score":1,"creation_date":1437115121,"post_id":31469441,"comment_id":50905214,"body_markdown":"In Javascript I can get the object using the `id`(for JSON), but in case of array I have to loop through the whole list and match the `id` property of each object, which can be a bottleneck in case of large data sets. So JSON works fine for me in browser but I am not sure is creating the same structure by Java will have any performance issues.","body":"In Javascript I can get the object using the <code>id</code>(for JSON), but in case of array I have to loop through the whole list and match the <code>id</code> property of each object, which can be a bottleneck in case of large data sets. So JSON works fine for me in browser but I am not sure is creating the same structure by Java will have any performance issues."},{"owner":{"account_id":4829578,"reputation":4682,"user_id":3898076,"accept_rate":72,"display_name":"Naman Gala"},"score":1,"creation_date":1437115213,"post_id":31469441,"comment_id":50905259,"body_markdown":"How will your JSON approach support multiple user entries?","body":"How will your JSON approach support multiple user entries?"},{"owner":{"account_id":1064596,"reputation":5404,"user_id":1065489,"accept_rate":52,"display_name":"me_digvijay"},"score":1,"creation_date":1437116254,"post_id":31469441,"comment_id":50905757,"body_markdown":"@NamanGala: Please take a look at the updated JSON sample.","body":"@NamanGala: Please take a look at the updated JSON sample."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1437117273,"post_id":31469441,"comment_id":50906214,"body_markdown":"In the backend, you just need a `Map&lt;Long, User&gt;`. But I would simply use an array (in JSON) and a List (on the backend): usually, the order matters. And a Map won&#39;t give you any order. If you&#39;re so worried about performance, transform the array into a map in JavaScript.","body":"In the backend, you just need a <code>Map&lt;Long, User&gt;</code>. But I would simply use an array (in JSON) and a List (on the backend): usually, the order matters. And a Map won&#39;t give you any order. If you&#39;re so worried about performance, transform the array into a map in JavaScript."},{"owner":{"account_id":1521886,"reputation":17478,"user_id":2224996,"accept_rate":87,"display_name":"maja"},"score":2,"creation_date":1437118487,"post_id":31469441,"comment_id":50906834,"body_markdown":"Note that JSON always has one root element, which can either be an object `{}` or an array `[]`. So the terminology `Json based` vs `Array based` should actually be `(Json)-Object based` vs. `(Json)-Array based`","body":"Note that JSON always has one root element, which can either be an object <code>{}</code> or an array <code>[]</code>. So the terminology <code>Json based</code> vs <code>Array based</code> should actually be <code>(Json)-Object based</code> vs. <code>(Json)-Array based</code>"},{"owner":{"account_id":1188298,"reputation":13219,"user_id":1267663,"accept_rate":85,"display_name":"Whymarrh"},"score":0,"creation_date":1437527855,"post_id":31469441,"comment_id":51062710,"body_markdown":"If performance is of concern, consider also: [JSON Compression: Transpose &amp; Binary](http://mainroach.blogspot.ca/2013/08/json-compression-transpose-binary.html)","body":"If performance is of concern, consider also: <a href=\"http://mainroach.blogspot.ca/2013/08/json-compression-transpose-binary.html\" rel=\"nofollow noreferrer\">JSON Compression: Transpose &amp; Binary</a>"}],"answers":[{"tags":[],"owner":{"account_id":4829578,"reputation":4682,"user_id":3898076,"accept_rate":72,"display_name":"Naman Gala"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1674760747,"creation_date":1437117309,"answer_id":31470302,"question_id":31469441,"body_markdown":"This is a totally subjective question. There might be many other points, but let me point out a few below:\r\n\r\n**JSON based approach:**\r\nIf I am not wrong then this will be implemented using `Map` on server side.\r\n\r\n**Advantage:** In JavaScript you can directly use `users.id1`, `users.id2`, i.e. no need of iteration\r\n\r\n**Disadvantage:** On the client side, somehow you will need the ids to be  present in your JSON, i.e. either hard coding them or using some dynamic approach which will tell you which id is present in your JSON.\r\n\r\n----------\r\n\r\n**Array Based approach:** If I am not wrong then this will be implemented using `Array`/`List` on server side.\r\n\r\n**Advantage:**\r\n\r\n 1. On client side, you can directly iterate through array, without\r\n    worrying in advance about which id is present inside it i.e. no hard\r\n    coding.\r\n 2. As pointed out by **@JBNizet**, the array based approach will maintain the order.\r\n\r\n**Disadvantage:** If you want to fetch single id then you will need to iterate through the array.\r\n\r\nGenerally we don&#39;t send much information on the client side, so array based approach will not create any problem. And **transforming an array into a map is possible on both sides (server and client)** if you want an id based approach.","title":"Array of objects vs Object of Objects","body":"<p>This is a totally subjective question. There might be many other points, but let me point out a few below:</p>\n<p><strong>JSON based approach:</strong>\nIf I am not wrong then this will be implemented using <code>Map</code> on server side.</p>\n<p><strong>Advantage:</strong> In JavaScript you can directly use <code>users.id1</code>, <code>users.id2</code>, i.e. no need of iteration</p>\n<p><strong>Disadvantage:</strong> On the client side, somehow you will need the ids to be  present in your JSON, i.e. either hard coding them or using some dynamic approach which will tell you which id is present in your JSON.</p>\n<hr />\n<p><strong>Array Based approach:</strong> If I am not wrong then this will be implemented using <code>Array</code>/<code>List</code> on server side.</p>\n<p><strong>Advantage:</strong></p>\n<ol>\n<li>On client side, you can directly iterate through array, without\nworrying in advance about which id is present inside it i.e. no hard\ncoding.</li>\n<li>As pointed out by <strong>@JBNizet</strong>, the array based approach will maintain the order.</li>\n</ol>\n<p><strong>Disadvantage:</strong> If you want to fetch single id then you will need to iterate through the array.</p>\n<p>Generally we don't send much information on the client side, so array based approach will not create any problem. And <strong>transforming an array into a map is possible on both sides (server and client)</strong> if you want an id based approach.</p>\n"},{"tags":[],"owner":{"account_id":1521886,"reputation":17478,"user_id":2224996,"accept_rate":87,"display_name":"maja"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1674760812,"creation_date":1437118123,"answer_id":31470532,"question_id":31469441,"body_markdown":"On the server side, Arrays are stored as simple Lists: `ArrayList&lt;Content&gt;`, while Objects are either stored as maps: `HashMap&lt;String, Content&gt;` or, mostly, as Java Objects.\r\n\r\nIn order to convert Java Entities to and from JSON, you can take a look at the [Jackson][1] project which does all that for you.\r\n\r\nI wouldn&#39;t worry about any performance differences between those two variants. It&#39;s more important to have an understandable, semantic API, so you should base your decision on the business case rather than performance.\r\n\r\n\r\nLooking at your example, I think an `Array` is the better approach, since you want to return a list of users which are all equal. Sending the id twice makes no sense imho and increases the amount of data that has to be transmitted.\r\n\r\n\r\nFurthermore, since `Arrays` are much simpler to store and to iterate in Java, they should also provide better performance than Objects.\r\n\r\n**Some general differences:**\r\n\r\n - Arrays preserve the order\r\n - Arrays can contain duplicate entries\r\n - Objects often have a bigger storage/network overhead\r\n - Arrays are faster to iterate (on the server side)\r\n\r\n  [1]: https://github.com/FasterXML/jackson","title":"Array of objects vs Object of Objects","body":"<p>On the server side, Arrays are stored as simple Lists: <code>ArrayList&lt;Content&gt;</code>, while Objects are either stored as maps: <code>HashMap&lt;String, Content&gt;</code> or, mostly, as Java Objects.</p>\n<p>In order to convert Java Entities to and from JSON, you can take a look at the <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">Jackson</a> project which does all that for you.</p>\n<p>I wouldn't worry about any performance differences between those two variants. It's more important to have an understandable, semantic API, so you should base your decision on the business case rather than performance.</p>\n<p>Looking at your example, I think an <code>Array</code> is the better approach, since you want to return a list of users which are all equal. Sending the id twice makes no sense imho and increases the amount of data that has to be transmitted.</p>\n<p>Furthermore, since <code>Arrays</code> are much simpler to store and to iterate in Java, they should also provide better performance than Objects.</p>\n<p><strong>Some general differences:</strong></p>\n<ul>\n<li>Arrays preserve the order</li>\n<li>Arrays can contain duplicate entries</li>\n<li>Objects often have a bigger storage/network overhead</li>\n<li>Arrays are faster to iterate (on the server side)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3273973,"reputation":5791,"user_id":2756574,"accept_rate":89,"display_name":"Sebastian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1437371052,"creation_date":1437371052,"answer_id":31509502,"question_id":31469441,"body_markdown":"One big disadvantage of your first &quot;JSON based&quot; notation that comes to mind is that some frameworks will have problems with (de)serialization of this. For example the DataContractSerializer (C# .NET) will expect the fields `id1` and `id2` to be defined (hardcoded) in the class of your objects `users`. I&#39;m not sure if this applies to some Java frameworks, too. Maybe the framework will you use can deserialze it as a HashMap instead.\r\n\r\nAltogether I&#39;d find the array notation much more intuitive to work with when it comes to iteration etc.","title":"Array of objects vs Object of Objects","body":"<p>One big disadvantage of your first \"JSON based\" notation that comes to mind is that some frameworks will have problems with (de)serialization of this. For example the DataContractSerializer (C# .NET) will expect the fields <code>id1</code> and <code>id2</code> to be defined (hardcoded) in the class of your objects <code>users</code>. I'm not sure if this applies to some Java frameworks, too. Maybe the framework will you use can deserialze it as a HashMap instead.</p>\n\n<p>Altogether I'd find the array notation much more intuitive to work with when it comes to iteration etc.</p>\n"},{"tags":[],"owner":{"account_id":6669671,"reputation":53,"user_id":5146137,"display_name":"Foxx"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1437775619,"creation_date":1437775297,"answer_id":31620462,"question_id":31469441,"body_markdown":"You can use `object[property]` [notation][1] to access or set properties in an object in JavaScript.\r\n\r\nGo with *array based* approach at the backend, and convert the array to a map (*JSON based* as you refer to it) in the front end.\r\n\r\n    var list = [{id: &quot;id1&quot;, value: &quot;One&quot;}, {id: &quot;id2&quot;, value: &quot;Two&quot;}]\r\n    var map = {};\r\n    list.forEach(function (item) { map[item.id] = item });\r\n    map.get(&quot;id1&quot;)\r\n\r\nIf your list changes, you can get the new list from backend and update your map in UI.\r\n\r\nThis way your backend is faster to respond as it does not have to convert list to a map. Your front end will do a O(n) iteration *once* over the list to convert it to a map. But that is a small price compared to O(n) you will pay every time you search on a list.\r\n\r\nIf you will be doing get by id predominantly on your data at the back end go with *JSON Based* at the backend itself (you can use `LinkedHashMap` to preserve order).\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Working_with_Objects","title":"Array of objects vs Object of Objects","body":"<p>You can use <code>object[property]</code> <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Working_with_Objects\" rel=\"nofollow\">notation</a> to access or set properties in an object in JavaScript.</p>\n\n<p>Go with <em>array based</em> approach at the backend, and convert the array to a map (<em>JSON based</em> as you refer to it) in the front end.</p>\n\n<pre><code>var list = [{id: \"id1\", value: \"One\"}, {id: \"id2\", value: \"Two\"}]\nvar map = {};\nlist.forEach(function (item) { map[item.id] = item });\nmap.get(\"id1\")\n</code></pre>\n\n<p>If your list changes, you can get the new list from backend and update your map in UI.</p>\n\n<p>This way your backend is faster to respond as it does not have to convert list to a map. Your front end will do a O(n) iteration <em>once</em> over the list to convert it to a map. But that is a small price compared to O(n) you will pay every time you search on a list.</p>\n\n<p>If you will be doing get by id predominantly on your data at the back end go with <em>JSON Based</em> at the backend itself (you can use <code>LinkedHashMap</code> to preserve order).</p>\n"},{"tags":[],"owner":{"account_id":3412746,"reputation":2578,"user_id":2862341,"display_name":"Ravindra HV"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1437848847,"creation_date":1437848847,"answer_id":31629757,"question_id":31469441,"body_markdown":"Both approaches have their pros and cons and depends on what is it that you are looking at.\r\n\r\nThe array approach is easy to serialize and is more &#39;framework&#39; friendly (you can add beans to a list and serialize the list and you are done). This allows, for example, a web-container to return the response without requiring any customization. This is likely to be supported out-of-the-box by most frameworks.\r\n\r\nOn the other hand, the object based approach is more difficult to generate (in relative terms) but its easier to lookup given the key is known.\r\n\r\nSo for ease of implementation (by producer), go for the array based approach. For ease of use (consumed by clients) go for object based approach.","title":"Array of objects vs Object of Objects","body":"<p>Both approaches have their pros and cons and depends on what is it that you are looking at.</p>\n\n<p>The array approach is easy to serialize and is more 'framework' friendly (you can add beans to a list and serialize the list and you are done). This allows, for example, a web-container to return the response without requiring any customization. This is likely to be supported out-of-the-box by most frameworks.</p>\n\n<p>On the other hand, the object based approach is more difficult to generate (in relative terms) but its easier to lookup given the key is known.</p>\n\n<p>So for ease of implementation (by producer), go for the array based approach. For ease of use (consumed by clients) go for object based approach.</p>\n"},{"tags":[],"owner":{"account_id":3665189,"reputation":2509,"user_id":3053838,"accept_rate":50,"display_name":"wallop"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1689066986,"creation_date":1541714901,"answer_id":53216882,"question_id":31469441,"body_markdown":"Along with all the above technical differences, I think there is a fundamental difference in the purpose and meaning of an `Object` and an `Array`. \r\n\r\n1. The properties of an object **DESCRIBE/DEFINE** the object whereas \r\n2. The elements of an array do **NOT DESCRIBE/DEFINE** the array, on the contrary, the array defines what its contents are.\r\nDo note - I am not talking about technical aspects. You can have any combinations technically but semantically each has its own purpose.\r\n\r\n* For example a card holder. Each card does **NOT DESCRIBE/DEFINE** the cardholder. But the cardholder does define its purpose - that it holds only cards.\r\n\r\n* An Object is used to represent an entity and its properties **DESCRIBE/DEFINE** the entity. Take the same example of a Card. A card has properties like color, number which **DESCRIBE/DEFINE** what the card is. \r\n\r\nFor your above example:\r\n\r\n1. Each object which represents a person **is defined by the properties** `id`, `firstName`, and `lastName`.\r\n\r\n2. A list of these persons cannot be an object of objects because **each id does not describe the object of objects**. So\r\n\r\n```js\r\n&quot;users&quot;:[\r\n    {\r\n        &quot;id&quot;: &quot;id&quot;,\r\n        &quot;key2&quot;: &quot;value2&quot;,\r\n        &quot;key3&quot;: &quot;value3&quot;\r\n    },\r\n    {\r\n        &quot;id&quot;: &quot;id&quot;,\r\n        &quot;key2&quot;: &quot;value2&quot;,\r\n        &quot;key3&quot;: &quot;value3&quot;\r\n    }\r\n]\r\n```\r\n\r\nis a better representation than\r\n\r\n```js\r\n&quot;users&quot;: {\r\n    &quot;id1&quot;: {\r\n        &quot;id&quot;: &quot;id1&quot;,\r\n        &quot;firstname&quot;: &quot;firstname1&quot;,\r\n        &quot;lastname&quot;: &quot;lastname1&quot;\r\n    },\r\n    &quot;id2&quot;: {\r\n        &quot;id&quot;: &quot;id2&quot;,\r\n        &quot;firstaame&quot;: &quot;firstname2&quot;,\r\n        &quot;lastname&quot;: &quot;lastname2&quot;\r\n    }\r\n}\r\n```\r\neven though technically you can use either.\r\nI hope I was able to convey (put into words) my thinking in the proper manner.\r\n\r\n","title":"Array of objects vs Object of Objects","body":"<p>Along with all the above technical differences, I think there is a fundamental difference in the purpose and meaning of an <code>Object</code> and an <code>Array</code>.</p>\n<ol>\n<li>The properties of an object <strong>DESCRIBE/DEFINE</strong> the object whereas</li>\n<li>The elements of an array do <strong>NOT DESCRIBE/DEFINE</strong> the array, on the contrary, the array defines what its contents are.\nDo note - I am not talking about technical aspects. You can have any combinations technically but semantically each has its own purpose.</li>\n</ol>\n<ul>\n<li><p>For example a card holder. Each card does <strong>NOT DESCRIBE/DEFINE</strong> the cardholder. But the cardholder does define its purpose - that it holds only cards.</p>\n</li>\n<li><p>An Object is used to represent an entity and its properties <strong>DESCRIBE/DEFINE</strong> the entity. Take the same example of a Card. A card has properties like color, number which <strong>DESCRIBE/DEFINE</strong> what the card is.</p>\n</li>\n</ul>\n<p>For your above example:</p>\n<ol>\n<li><p>Each object which represents a person <strong>is defined by the properties</strong> <code>id</code>, <code>firstName</code>, and <code>lastName</code>.</p>\n</li>\n<li><p>A list of these persons cannot be an object of objects because <strong>each id does not describe the object of objects</strong>. So</p>\n</li>\n</ol>\n<pre class=\"lang-js prettyprint-override\"><code>&quot;users&quot;:[\n    {\n        &quot;id&quot;: &quot;id&quot;,\n        &quot;key2&quot;: &quot;value2&quot;,\n        &quot;key3&quot;: &quot;value3&quot;\n    },\n    {\n        &quot;id&quot;: &quot;id&quot;,\n        &quot;key2&quot;: &quot;value2&quot;,\n        &quot;key3&quot;: &quot;value3&quot;\n    }\n]\n</code></pre>\n<p>is a better representation than</p>\n<pre class=\"lang-js prettyprint-override\"><code>&quot;users&quot;: {\n    &quot;id1&quot;: {\n        &quot;id&quot;: &quot;id1&quot;,\n        &quot;firstname&quot;: &quot;firstname1&quot;,\n        &quot;lastname&quot;: &quot;lastname1&quot;\n    },\n    &quot;id2&quot;: {\n        &quot;id&quot;: &quot;id2&quot;,\n        &quot;firstaame&quot;: &quot;firstname2&quot;,\n        &quot;lastname&quot;: &quot;lastname2&quot;\n    }\n}\n</code></pre>\n<p>even though technically you can use either.\nI hope I was able to convey (put into words) my thinking in the proper manner.</p>\n"}],"owner":{"account_id":1064596,"reputation":5404,"user_id":1065489,"accept_rate":52,"display_name":"me_digvijay"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24257,"favorite_count":0,"down_vote_count":0,"up_vote_count":69,"accepted_answer_id":31470302,"answer_count":6,"score":69,"last_activity_date":1689066986,"creation_date":1437113820,"question_id":31469441,"body_markdown":"The issue is to decide the trade offs between the following notations:\r\n\r\n**JSON based**:\r\n\r\n    &quot;users&quot;: {\r\n        &quot;id1&quot;: {\r\n            &quot;id&quot;: &quot;id1&quot;,\r\n            &quot;firstname&quot;: &quot;firstname1&quot;,\r\n            &quot;lastname&quot;: &quot;lastname1&quot;\r\n        },\r\n        &quot;id2&quot;: {\r\n            &quot;id&quot;: &quot;id2&quot;,\r\n            &quot;firstaame&quot;: &quot;firstname2&quot;,\r\n            &quot;lastname&quot;: &quot;lastname2&quot;\r\n        }\r\n    }\r\n\r\n**Array Based**:\r\n\r\n    users: [\r\n        {\r\n            &quot;id&quot;: &quot;id&quot;,\r\n            &quot;key2&quot;: &quot;value2&quot;,\r\n            &quot;key3&quot;: &quot;value3&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;id&quot;,\r\n            &quot;key2&quot;: &quot;value2&quot;,\r\n            &quot;key3&quot;: &quot;value3&quot;\r\n        }\r\n    ]\r\n\r\nRelating to [this][1] post on the same issue, I have decided (on front end) to use the JSON object notation instead of an array of objects as it suits my requirements, provides better performance, and results in less code in the browser.\r\n\r\nBut the problem is that the list itself is not static. By this I mean the list is being generated i.e. fetched/stored from DB (NoSQL) and created for new entries through a Java API on the server. I am not able to decide on which notation I should use at the back end (which eventually will also affect the UI too). \r\n\r\nAny thoughts/suggestions about performance, maintainability or scalability is appreciated.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/24882985/array-of-objects-vs-nested-object","title":"Array of objects vs Object of Objects","body":"<p>The issue is to decide the trade offs between the following notations:</p>\n<p><strong>JSON based</strong>:</p>\n<pre><code>&quot;users&quot;: {\n    &quot;id1&quot;: {\n        &quot;id&quot;: &quot;id1&quot;,\n        &quot;firstname&quot;: &quot;firstname1&quot;,\n        &quot;lastname&quot;: &quot;lastname1&quot;\n    },\n    &quot;id2&quot;: {\n        &quot;id&quot;: &quot;id2&quot;,\n        &quot;firstaame&quot;: &quot;firstname2&quot;,\n        &quot;lastname&quot;: &quot;lastname2&quot;\n    }\n}\n</code></pre>\n<p><strong>Array Based</strong>:</p>\n<pre><code>users: [\n    {\n        &quot;id&quot;: &quot;id&quot;,\n        &quot;key2&quot;: &quot;value2&quot;,\n        &quot;key3&quot;: &quot;value3&quot;\n    },\n    {\n        &quot;id&quot;: &quot;id&quot;,\n        &quot;key2&quot;: &quot;value2&quot;,\n        &quot;key3&quot;: &quot;value3&quot;\n    }\n]\n</code></pre>\n<p>Relating to <a href=\"https://stackoverflow.com/questions/24882985/array-of-objects-vs-nested-object\">this</a> post on the same issue, I have decided (on front end) to use the JSON object notation instead of an array of objects as it suits my requirements, provides better performance, and results in less code in the browser.</p>\n<p>But the problem is that the list itself is not static. By this I mean the list is being generated i.e. fetched/stored from DB (NoSQL) and created for new entries through a Java API on the server. I am not able to decide on which notation I should use at the back end (which eventually will also affect the UI too).</p>\n<p>Any thoughts/suggestions about performance, maintainability or scalability is appreciated.</p>\n"},{"tags":["java","spring-boot","unit-testing","mockito","junit5"],"comments":[{"owner":{"account_id":12849899,"reputation":996,"user_id":9295125,"display_name":"Daniel Rafael Wosch"},"score":0,"creation_date":1687341582,"post_id":76521923,"comment_id":134922240,"body_markdown":"Have you tried to explicitly set up the some service at @BeforeEach injecting the mocks manually? Does this make any difference?","body":"Have you tried to explicitly set up the some service at @BeforeEach injecting the mocks manually? Does this make any difference?"},{"owner":{"account_id":2401591,"reputation":416,"user_id":2099153,"accept_rate":91,"display_name":"D051P0"},"score":1,"creation_date":1687342003,"post_id":76521923,"comment_id":134922312,"body_markdown":"Yes, I&#39;ve tried to instantiate service manually it works correctly. I just simply don&#39;t understand why @inectMocks doesn&#39;t inject mocks as it should.","body":"Yes, I&#39;ve tried to instantiate service manually it works correctly. I just simply don&#39;t understand why @inectMocks doesn&#39;t inject mocks as it should."},{"owner":{"account_id":12849899,"reputation":996,"user_id":9295125,"display_name":"Daniel Rafael Wosch"},"score":1,"creation_date":1687345362,"post_id":76521923,"comment_id":134922933,"body_markdown":"IMHO I think that this is a problem between your `@SpringBootTest` annotation and `@InjectMocks` - when u use `@SpringBootTest` you need to use `@Autowired` and `@MockBean` instead of `@InjectMocks` and `@Mock`","body":"IMHO I think that this is a problem between your <code>@SpringBootTest</code> annotation and <code>@InjectMocks</code> - when u use <code>@SpringBootTest</code> you need to use <code>@Autowired</code> and <code>@MockBean</code> instead of <code>@InjectMocks</code> and <code>@Mock</code>"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1687350089,"post_id":76521923,"comment_id":134923961,"body_markdown":"`@SpringBootTest` and `MockitoExtension` are incompatible. Either you want to autowire your components from your application context (`@SpringBootTest` with `@Autowired` and `@MockBean`) or you don&#39;t want to use the application context and manually inject your (mocked) collaborators (`MockitoExtension` with `@Mock` and `@InjectMocks`)","body":"<code>@SpringBootTest</code> and <code>MockitoExtension</code> are incompatible. Either you want to autowire your components from your application context (<code>@SpringBootTest</code> with <code>@Autowired</code> and <code>@MockBean</code>) or you don&#39;t want to use the application context and manually inject your (mocked) collaborators (<code>MockitoExtension</code> with <code>@Mock</code> and <code>@InjectMocks</code>)"}],"answers":[{"tags":[],"owner":{"account_id":2401591,"reputation":416,"user_id":2099153,"accept_rate":91,"display_name":"D051P0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689066945,"creation_date":1689066945,"answer_id":76660396,"question_id":76521923,"body_markdown":"Thanks [knittl](https://stackoverflow.com/users/112968/knittl) for the [solution](https://stackoverflow.com/questions/76521923/injectmocks-injects-new-instance-instead-of-using-defined-mock#comment134923961_76521923). \r\n\r\nIn my case I had to manually inject all mocks beacuse ``@SpringBootTest`` and ``MockitoExtention`` are incompatible. \r\n\r\nThis code worked for me: \r\n\r\n```java\r\n@SpringBootTest(classes = {SomeMapperImpl .class})\r\nclass SomeServiceTest {\r\n    @Mock\r\n    private SomeRepository someRepository;\r\n    @Spy\r\n    private SomeMapperImpl someMapper;\r\n\r\n    private SomeService someService;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        this.someService= new SomeServiceImpl (someRepository, someMapper);\r\n    }\r\n    @Test\r\n    void testGetVorgangById_ValidId() {\r\n        when(this.someRepository.findById(1L)).thenReturn(Optional.of(someObject));\r\n        SomeDto someById = this.someService.getById(1L);\r\n        ....\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/112968/knittl","title":"@InjectMocks injects new Instance instead of using defined Mock","body":"<p>Thanks <a href=\"https://stackoverflow.com/users/112968/knittl\">knittl</a> for the <a href=\"https://stackoverflow.com/questions/76521923/injectmocks-injects-new-instance-instead-of-using-defined-mock#comment134923961_76521923\">solution</a>.</p>\n<p>In my case I had to manually inject all mocks beacuse <code>@SpringBootTest</code> and <code>MockitoExtention</code> are incompatible.</p>\n<p>This code worked for me:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(classes = {SomeMapperImpl .class})\nclass SomeServiceTest {\n    @Mock\n    private SomeRepository someRepository;\n    @Spy\n    private SomeMapperImpl someMapper;\n\n    private SomeService someService;\n\n    @BeforeEach\n    void setUp() {\n        this.someService= new SomeServiceImpl (someRepository, someMapper);\n    }\n    @Test\n    void testGetVorgangById_ValidId() {\n        when(this.someRepository.findById(1L)).thenReturn(Optional.of(someObject));\n        SomeDto someById = this.someService.getById(1L);\n        ....\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":2401591,"reputation":416,"user_id":2099153,"accept_rate":91,"display_name":"D051P0"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76660396,"answer_count":1,"score":0,"last_activity_date":1689066945,"creation_date":1687340482,"question_id":76521923,"body_markdown":"I have a test where a repository mock should be inserted via DI in service and somehow Mockito makes new instance and injects wrong mock into service. \r\nMy Repository class looks as followed: \r\n```java\r\n@Repository \r\npublic interface SomeRepository extends JpaRepository&lt;Vorgang, Long&gt; {\r\n   Optional&lt;SomeClass&gt; findById(Long id);\r\n}\r\n```\r\nService class: \r\n```java\r\n@RequiredArgsConstructor\r\n@Service\r\npublic class SomeServiceImpl implements SomeService {\r\n   \r\n\r\n    private final SomeRepository someRepository;\r\n    private final SomeMapper someMapper; \r\n    public SomeDTO getById(Long id) {\r\n        return this. someRepository //\r\n                .findById(id) //\r\n                .map(this. someMapper::mapToDto) //s\r\n                .orElseThrow(() -&gt; new RequestException(&quot;Entity not found Id&quot;);\r\n    }\r\n```\r\nAnd unit test is: \r\n```java\r\n@SpringBootTest(classes = {SomeMapperImpl.class, OtherMapperImpl.class})\r\n@ExtendWith({SpringExtension.class, MockitoExtension.class})\r\nclass SomeServiceTest {\r\n    @Mock\r\n    private SomeRepository someRepository;\r\n    @Spy\r\n    private SomeMapperImpl someMapper;\r\n\r\n    @InjectMocks\r\n    private SomeServiceImpl someService;\r\n\r\n   @Test\r\n    void testGetVorgangById_ValidId() {\r\n        when(this.someRepository.findById(1L)).thenReturn(Optional.of(someObject));\r\n        SomeDto someById = this.someService.getById(1L);\r\n        ....\r\n    }\r\n}\r\n```\r\nI&#39;m getting the exception because my repository mock doesn&#39;t return an object I want. I&#39;ve tried to debug and compare objects using repository mock and mapper before calling service method and it works as it should. In a debugger I see that only the injected repository instance is not the one which should be injected, mapper instance is correct. Somehow Mockito inserts a new instance of my repository.\r\n\r\n\r\n***EDIT***: Manual injection works correctly, \r\n```java\r\n@BeforeEach\r\nvoid setUp() {\r\n  this.someService = new SomeService(someRepository, someMapper);\r\n  ...\r\n}\r\n```\r\nbut @InjectMocks doesn&#39;t inject mocks as it should. What could be the problem? ","title":"@InjectMocks injects new Instance instead of using defined Mock","body":"<p>I have a test where a repository mock should be inserted via DI in service and somehow Mockito makes new instance and injects wrong mock into service.\nMy Repository class looks as followed:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository \npublic interface SomeRepository extends JpaRepository&lt;Vorgang, Long&gt; {\n   Optional&lt;SomeClass&gt; findById(Long id);\n}\n</code></pre>\n<p>Service class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiredArgsConstructor\n@Service\npublic class SomeServiceImpl implements SomeService {\n   \n\n    private final SomeRepository someRepository;\n    private final SomeMapper someMapper; \n    public SomeDTO getById(Long id) {\n        return this. someRepository //\n                .findById(id) //\n                .map(this. someMapper::mapToDto) //s\n                .orElseThrow(() -&gt; new RequestException(&quot;Entity not found Id&quot;);\n    }\n</code></pre>\n<p>And unit test is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(classes = {SomeMapperImpl.class, OtherMapperImpl.class})\n@ExtendWith({SpringExtension.class, MockitoExtension.class})\nclass SomeServiceTest {\n    @Mock\n    private SomeRepository someRepository;\n    @Spy\n    private SomeMapperImpl someMapper;\n\n    @InjectMocks\n    private SomeServiceImpl someService;\n\n   @Test\n    void testGetVorgangById_ValidId() {\n        when(this.someRepository.findById(1L)).thenReturn(Optional.of(someObject));\n        SomeDto someById = this.someService.getById(1L);\n        ....\n    }\n}\n</code></pre>\n<p>I'm getting the exception because my repository mock doesn't return an object I want. I've tried to debug and compare objects using repository mock and mapper before calling service method and it works as it should. In a debugger I see that only the injected repository instance is not the one which should be injected, mapper instance is correct. Somehow Mockito inserts a new instance of my repository.</p>\n<p><em><strong>EDIT</strong></em>: Manual injection works correctly,</p>\n<pre class=\"lang-java prettyprint-override\"><code>@BeforeEach\nvoid setUp() {\n  this.someService = new SomeService(someRepository, someMapper);\n  ...\n}\n</code></pre>\n<p>but @InjectMocks doesn't inject mocks as it should. What could be the problem?</p>\n"},{"tags":["java","spring","mariadb","jdbctemplate","mariadb-connector"],"answers":[{"tags":[],"owner":{"account_id":28985798,"reputation":1,"user_id":22202650,"display_name":"Seta1609"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688991978,"creation_date":1688991978,"answer_id":76653734,"question_id":76653657,"body_markdown":"I&#180;m not 100% sure here but you need to change the spring properties/.yml file and tell spring wich sql driver and db will use. like this(just change postgre or mysql for mariaDB.):\r\n\r\n    spring:\r\n     datasource:\r\n     username: myuser\r\n     password: secret\r\n     url: jdbc://postgresql://localhost:5432/mydatabase\r\n     driver-class-name: org.postgresql.Driver","title":"Using Spring JDBCTemplate with MariaDB Connector","body":"<p>I´m not 100% sure here but you need to change the spring properties/.yml file and tell spring wich sql driver and db will use. like this(just change postgre or mysql for mariaDB.):</p>\n<pre><code>spring:\n datasource:\n username: myuser\n password: secret\n url: jdbc://postgresql://localhost:5432/mydatabase\n driver-class-name: org.postgresql.Driver\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1735202,"reputation":1191,"user_id":1587934,"display_name":"Diego Dupin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689066580,"creation_date":1689066580,"answer_id":76660351,"question_id":76653657,"body_markdown":"When using metadata, connector request metadata depending on parameters. For example [DatabaseMetaData.html#getColumns][1] when setting not catalog and table name will search all tables corresponding in all catalogs, schema setting will be ignored. \r\n\r\nmysql connector has 2 options that mariadb connector don&#39;t have : `nullDatabaseMeansCurrent` in order to search for current database even when no database is set, and `databaseTerm` that indicate that use setting catalog or schema. \r\n\r\nI imagine that you use either one of these option, either schema is set with `nullDatabaseMeansCurrent` or using setting `databaseTerm` and connector then use schema parameter. \r\n\r\nThis second part will be implemented in https://jira.mariadb.org/projects/CONJ/issues/CONJ-1088. It might be the time to create an issue on jira to have `nullDatabaseMeansCurrent` support as well\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/DatabaseMetaData.html#getColumns(java.lang.String,java.lang.String,java.lang.String,java.lang.String)","title":"Using Spring JDBCTemplate with MariaDB Connector","body":"<p>When using metadata, connector request metadata depending on parameters. For example <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/DatabaseMetaData.html#getColumns(java.lang.String,java.lang.String,java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\">DatabaseMetaData.html#getColumns</a> when setting not catalog and table name will search all tables corresponding in all catalogs, schema setting will be ignored.</p>\n<p>mysql connector has 2 options that mariadb connector don't have : <code>nullDatabaseMeansCurrent</code> in order to search for current database even when no database is set, and <code>databaseTerm</code> that indicate that use setting catalog or schema.</p>\n<p>I imagine that you use either one of these option, either schema is set with <code>nullDatabaseMeansCurrent</code> or using setting <code>databaseTerm</code> and connector then use schema parameter.</p>\n<p>This second part will be implemented in <a href=\"https://jira.mariadb.org/projects/CONJ/issues/CONJ-1088\" rel=\"nofollow noreferrer\">https://jira.mariadb.org/projects/CONJ/issues/CONJ-1088</a>. It might be the time to create an issue on jira to have <code>nullDatabaseMeansCurrent</code> support as well</p>\n"}],"owner":{"account_id":129401,"reputation":2460,"user_id":327961,"accept_rate":50,"display_name":"user327961"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76660351,"answer_count":2,"score":0,"last_activity_date":1689066580,"creation_date":1688991408,"question_id":76653657,"body_markdown":"Java web application using Spring.\r\n\r\nWe are currently using MySQL and wish to migrate to MariaDB. So we also planned to migrate from MySQL Connector to MariaDB Client.\r\n\r\nOur software uses multiple databases on a same server, and some tables can have the same names, but on two different databases. On MySQL Connector, that was not a problem. We simply used a datasource that was already connected to the right database, and JDBCTemple knows that it has to search for the table in the current schema.\r\n\r\nMariaDB Client, on the other hand, doesn&#39;t use schema to differentiate databases, it uses catalog. Spring does not seems to be aware of that. So when we test our software after the migration, JDBCTemplate finds multiple tables with the same name, since the schema is always null, and seems the just use the last one on the list to get the table&#39;s metadatas. Which obviously leads to unexpected errors everywhere.\r\n\r\nWe manage to correct this behavior by adding withCatalogName the the JDBCTemplace calls (see code below), but doing so at large would not be very elegant solution.\r\n\r\n```\r\n    SimpleJdbcInsert insertStatement = new SimpleJdbcInsert(getJdbcTemplate());\r\n    [...] // business code\r\n    insertStatement.executeBatch(sqlParameterSource); // fails\r\n    insertStatement.withCatalogName(&quot;dbName&quot;).executeBatch(sqlParameterSource); // succeeds\r\n```\r\n\r\nSo my question is, is there a way to tell Spring that we are using the MariaDB Client, and that it should always use the catalog and not the schema to get metadatas ?\r\n\r\nWe did set up the URL connection with the `jdbc:mariadb` prefix already, so Spring is aware that we are using MariaDB and not MySQL.\r\n\r\nWe can&#39;t realisticly modify our software so everything is in the same database. Even just changing table names to unique names accross the serveur would cost a lot more than what we planned for the MariaDB migration.\r\n\r\nEdit : we also already set `org.mariadb.jdbc.Driver` as the new driver in the connection properties.\r\n\r\nEdit 2: found the problem, we used nullDatabaseMeansCurrent in the connection properties so that Spring can access the table metadata without fuss, but this property is not supported by MariaDB connector. Don&#39;t know yet if there is a workaround.","title":"Using Spring JDBCTemplate with MariaDB Connector","body":"<p>Java web application using Spring.</p>\n<p>We are currently using MySQL and wish to migrate to MariaDB. So we also planned to migrate from MySQL Connector to MariaDB Client.</p>\n<p>Our software uses multiple databases on a same server, and some tables can have the same names, but on two different databases. On MySQL Connector, that was not a problem. We simply used a datasource that was already connected to the right database, and JDBCTemple knows that it has to search for the table in the current schema.</p>\n<p>MariaDB Client, on the other hand, doesn't use schema to differentiate databases, it uses catalog. Spring does not seems to be aware of that. So when we test our software after the migration, JDBCTemplate finds multiple tables with the same name, since the schema is always null, and seems the just use the last one on the list to get the table's metadatas. Which obviously leads to unexpected errors everywhere.</p>\n<p>We manage to correct this behavior by adding withCatalogName the the JDBCTemplace calls (see code below), but doing so at large would not be very elegant solution.</p>\n<pre><code>    SimpleJdbcInsert insertStatement = new SimpleJdbcInsert(getJdbcTemplate());\n    [...] // business code\n    insertStatement.executeBatch(sqlParameterSource); // fails\n    insertStatement.withCatalogName(&quot;dbName&quot;).executeBatch(sqlParameterSource); // succeeds\n</code></pre>\n<p>So my question is, is there a way to tell Spring that we are using the MariaDB Client, and that it should always use the catalog and not the schema to get metadatas ?</p>\n<p>We did set up the URL connection with the <code>jdbc:mariadb</code> prefix already, so Spring is aware that we are using MariaDB and not MySQL.</p>\n<p>We can't realisticly modify our software so everything is in the same database. Even just changing table names to unique names accross the serveur would cost a lot more than what we planned for the MariaDB migration.</p>\n<p>Edit : we also already set <code>org.mariadb.jdbc.Driver</code> as the new driver in the connection properties.</p>\n<p>Edit 2: found the problem, we used nullDatabaseMeansCurrent in the connection properties so that Spring can access the table metadata without fuss, but this property is not supported by MariaDB connector. Don't know yet if there is a workaround.</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":6,"creation_date":1689020157,"post_id":76657038,"comment_id":135151503,"body_markdown":"Exceptions are to handle errors. Don&#39;t use them for flow control and/or handling your business logic routing.","body":"Exceptions are to handle errors. Don&#39;t use them for flow control and/or handling your business logic routing."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":6,"creation_date":1689020158,"post_id":76657038,"comment_id":135151504,"body_markdown":"Why would you implement this using exceptions?","body":"Why would you implement this using exceptions?"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":3,"creation_date":1689020159,"post_id":76657038,"comment_id":135151505,"body_markdown":"You should not be using Exceptions in this manner. I think you need an `if-statement`.","body":"You should not be using Exceptions in this manner. I think you need an <code>if-statement</code>."},{"owner":{"account_id":6358642,"reputation":6528,"user_id":4934937,"display_name":"maio290"},"score":1,"creation_date":1689020162,"post_id":76657038,"comment_id":135151506,"body_markdown":"You shouldn&#39;t use catch blocks for your normal logic, exceptions are _exceptional_, hence the name. Just implement your methods properly, let them return something and work with that.","body":"You shouldn&#39;t use catch blocks for your normal logic, exceptions are <i>exceptional</i>, hence the name. Just implement your methods properly, let them return something and work with that."},{"owner":{"account_id":3227749,"reputation":1860,"user_id":2723677,"accept_rate":61,"display_name":"mmar"},"score":0,"creation_date":1689020360,"post_id":76657038,"comment_id":135151531,"body_markdown":"Because, this is one single case for me, based on same user login. When i login with this user, this screen behaves dynamically based on some business logic and i would not know when this will occur. So i need to do identify the logged in state dynamically. If this is not the right approach, please suggest a best way to identify it?","body":"Because, this is one single case for me, based on same user login. When i login with this user, this screen behaves dynamically based on some business logic and i would not know when this will occur. So i need to do identify the logged in state dynamically. If this is not the right approach, please suggest a best way to identify it?"},{"owner":{"account_id":6358642,"reputation":6528,"user_id":4934937,"display_name":"maio290"},"score":0,"creation_date":1689020506,"post_id":76657038,"comment_id":135151546,"body_markdown":"Well, you need to parse the page and identify it, how you do that, is up to you, I&#39;m afraid. But for your states, you&#39;d probably use an enum (at least I would do that) - the thing is: There are so many ways to implement it and you chose the least fitting one in my opinion. Exceptions are for handling errors, not for your common business logic :/","body":"Well, you need to parse the page and identify it, how you do that, is up to you, I&#39;m afraid. But for your states, you&#39;d probably use an enum (at least I would do that) - the thing is: There are so many ways to implement it and you chose the least fitting one in my opinion. Exceptions are for handling errors, not for your common business logic :/"},{"owner":{"account_id":3227749,"reputation":1860,"user_id":2723677,"accept_rate":61,"display_name":"mmar"},"score":0,"creation_date":1689020774,"post_id":76657038,"comment_id":135151585,"body_markdown":"I understand that try/catch is not a solution, that is why i posted my question here to get some help.","body":"I understand that try/catch is not a solution, that is why i posted my question here to get some help."},{"owner":{"account_id":182955,"reputation":2403,"user_id":418031,"accept_rate":89,"display_name":"Zavael"},"score":1,"creation_date":1689021002,"post_id":76657038,"comment_id":135151617,"body_markdown":"you should describe the conditions of each case better, so anybody can provide a specific answer.. if it is based on database state, you need to make some selects to determine what should be displayed on page. If it depends on other systems, maybe you need to make some rest or soap or other requests to that system. If you can evaluate the conditions in your app, if-else statements should be enough.","body":"you should describe the conditions of each case better, so anybody can provide a specific answer.. if it is based on database state, you need to make some selects to determine what should be displayed on page. If it depends on other systems, maybe you need to make some rest or soap or other requests to that system. If you can evaluate the conditions in your app, if-else statements should be enough."},{"owner":{"account_id":3227749,"reputation":1860,"user_id":2723677,"accept_rate":61,"display_name":"mmar"},"score":0,"creation_date":1689021269,"post_id":76657038,"comment_id":135151662,"body_markdown":"Yes, i get it. This is based on a condition that only 5 users can be add/linked, once reached 5, no more can be linked or added. So i guess i need to do a check with API call and count the associated users. Based on the count i can decide. So thanks for the help, atleast it points me a path to proceed.","body":"Yes, i get it. This is based on a condition that only 5 users can be add/linked, once reached 5, no more can be linked or added. So i guess i need to do a check with API call and count the associated users. Based on the count i can decide. So thanks for the help, atleast it points me a path to proceed."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1689026201,"post_id":76657038,"comment_id":135152304,"body_markdown":"You can use findElements to check for your conditions... you&#39;ll need to first use a webdriverwait to check that the login has occurred.  (If this is done via JS... if a standard page-load happens, you won&#39;t need it.)  findElements will return an array whose count will be zero if the element is not found.   You can use an XPATH to target each of the conditions and set a variable you can case/switch on accordingly.  (though you may need to check disabled state for 1st two) This would avoid having a complicated try/catch where the order of thrown exceptions can sometimes be odd.","body":"You can use findElements to check for your conditions... you&#39;ll need to first use a webdriverwait to check that the login has occurred.  (If this is done via JS... if a standard page-load happens, you won&#39;t need it.)  findElements will return an array whose count will be zero if the element is not found.   You can use an XPATH to target each of the conditions and set a variable you can case/switch on accordingly.  (though you may need to check disabled state for 1st two) This would avoid having a complicated try/catch where the order of thrown exceptions can sometimes be odd."}],"answers":[{"tags":[],"owner":{"account_id":26682848,"reputation":3533,"user_id":20292589,"display_name":"Yaroslavm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689066338,"creation_date":1689066338,"answer_id":76660312,"question_id":76657038,"body_markdown":"Checking actions by handling exceptions is anti-pattern. Exceptions are used to handle errors, and is this case different system behaviour is expected behaviour.\r\n\r\nI suggest to implement your logic, using if else, like\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    List&lt;WebElement&gt; addButtons = driver.findElements(new By.ByCssSelector(selector);\r\n    boolean buttonIsEnabled = !addButtons.isEmpty() &amp;&amp; addButtons.get(0).isEnabled(); // this code can be different in your case, based on element implementation\r\n\r\n    if(!addButtons.isEmpty() &amp;&amp; buttonIsEnabled) {\r\n    // It displays &#39;Add&#39; Link - So i can click on it and do some add logic\r\n    } else if (!addButtons.isEmpty()) {\r\n    // It Disables &#39;Add&#39; button and says no user can be added more - If so, then i need to check some message is displayed.\r\n    } else {\r\n    // It displays &#39;Link New&#39; button - So i can click on it and do some linking new user logic.\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\nSo in this case you would achieve all your logic in one case without catching anything and by checking elements proper states.","title":"How to do multiple actions in java try catch?","body":"<p>Checking actions by handling exceptions is anti-pattern. Exceptions are used to handle errors, and is this case different system behaviour is expected behaviour.</p>\n<p>I suggest to implement your logic, using if else, like</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>List&lt;WebElement&gt; addButtons = driver.findElements(new By.ByCssSelector(selector);\nboolean buttonIsEnabled = !addButtons.isEmpty() &amp;&amp; addButtons.get(0).isEnabled(); // this code can be different in your case, based on element implementation\n\nif(!addButtons.isEmpty() &amp;&amp; buttonIsEnabled) {\n// It displays 'Add' Link - So i can click on it and do some add logic\n} else if (!addButtons.isEmpty()) {\n// It Disables 'Add' button and says no user can be added more - If so, then i need to check some message is displayed.\n} else {\n// It displays 'Link New' button - So i can click on it and do some linking new user logic.\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>So in this case you would achieve all your logic in one case without catching anything and by checking elements proper states.</p>\n"}],"owner":{"account_id":3227749,"reputation":1860,"user_id":2723677,"accept_rate":61,"display_name":"mmar"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689066338,"creation_date":1689019973,"question_id":76657038,"body_markdown":"I have a page once user login, based on the business logic, it displays either of three actions dynamically.\r\n1. It displays &#39;Add&#39; Link - So i can click on it and do some add logic.\r\n(OR)\r\n2. It Disables &#39;Add&#39; button and says no user can be added more - If so, then i need to check some message is displayed.\r\n(OR)\r\n3. It displays &#39;Link New&#39; button - So i can click on it and do some linking new user logic.\r\n\r\nInstead of writing each case separately, how can i achieve in one base logic something in try catch like below \r\n\r\n    try {\r\n        // do the &#39;Add&#39; link logic\r\n    } catch (Exception e) {\r\n        // (OR) do verify the &#39;Add&#39; link is disabled and check the error message is displayed\r\n    } catch (Exception e) {\r\n        // (OR) do the &#39;Link New&#39; button logic\r\n    }\r\n\r\nany help is appreciated.  \r\n","title":"How to do multiple actions in java try catch?","body":"<p>I have a page once user login, based on the business logic, it displays either of three actions dynamically.</p>\n<ol>\n<li>It displays 'Add' Link - So i can click on it and do some add logic.\n(OR)</li>\n<li>It Disables 'Add' button and says no user can be added more - If so, then i need to check some message is displayed.\n(OR)</li>\n<li>It displays 'Link New' button - So i can click on it and do some linking new user logic.</li>\n</ol>\n<p>Instead of writing each case separately, how can i achieve in one base logic something in try catch like below</p>\n<pre><code>try {\n    // do the 'Add' link logic\n} catch (Exception e) {\n    // (OR) do verify the 'Add' link is disabled and check the error message is displayed\n} catch (Exception e) {\n    // (OR) do the 'Link New' button logic\n}\n</code></pre>\n<p>any help is appreciated.</p>\n"},{"tags":["java","spring-boot","jackson","spring-batch","deserialization"],"comments":[{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1689014778,"post_id":76656204,"comment_id":135150546,"body_markdown":"What if just declare a `JacksonExecutionContextStringSerializer` bean ?","body":"What if just declare a <code>JacksonExecutionContextStringSerializer</code> bean ?"},{"owner":{"account_id":6387703,"reputation":630,"user_id":4955059,"display_name":"Tyler Hartwig"},"score":0,"creation_date":1689021268,"post_id":76656204,"comment_id":135151661,"body_markdown":"@gdomo just attempted it, Spring Batch still utilizes the `DefaultExecutionContextSerializer` (which is base64)","body":"@gdomo just attempted it, Spring Batch still utilizes the <code>DefaultExecutionContextSerializer</code> (which is base64)"}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689065138,"creation_date":1689065138,"answer_id":76660153,"question_id":76656204,"body_markdown":"Spring Boot 3 does not provide a feature to customize the serializer without taking full control on the Batch configuration (ie by using `@EnableBatchProcessing` or extending `DefaultBatchConfiguration`).\r\n\r\nYou can request that feature, I would endorse it.\r\n\r\nIn the meantime, you can define the serializer as a bean in the application context and tell Spring Batch to use it through `@EnableBatchProcessing(executionContextSerializerRef=&quot;yourJacksonSerializer&quot;)` or extend `DefaultBatchConfiguration` and override `getExecutionContextSerializer`.\r\n\r\nI talked about this at Spring IO [here](https://youtu.be/xoPPTawF_vY?t=556).","title":"Is there a way to use Spring Batch 5 default configuration and use Jackson Serializer?","body":"<p>Spring Boot 3 does not provide a feature to customize the serializer without taking full control on the Batch configuration (ie by using <code>@EnableBatchProcessing</code> or extending <code>DefaultBatchConfiguration</code>).</p>\n<p>You can request that feature, I would endorse it.</p>\n<p>In the meantime, you can define the serializer as a bean in the application context and tell Spring Batch to use it through <code>@EnableBatchProcessing(executionContextSerializerRef=&quot;yourJacksonSerializer&quot;)</code> or extend <code>DefaultBatchConfiguration</code> and override <code>getExecutionContextSerializer</code>.</p>\n<p>I talked about this at Spring IO <a href=\"https://youtu.be/xoPPTawF_vY?t=556\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":6387703,"reputation":630,"user_id":4955059,"display_name":"Tyler Hartwig"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":384,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76660153,"answer_count":1,"score":1,"last_activity_date":1689065138,"creation_date":1689011779,"question_id":76656204,"body_markdown":"I am working on a migration to Spring Batch 5, but am running into a problem with the migration. Spring Batch 5 has changed the [default serializer](https://github.com/spring-projects/spring-batch/wiki/Spring-Batch-5.0-Migration-Guide#execution-context-serialization-updates). According to this doc you need to make sure the Jackson Serializer is on your class path in order to be able to utilize it. It does not specify however how to enable the use of the serializer. \r\n\r\n[This documentation](https://spring.io/blog/2022/11/24/spring-batch-5-0-goes-ga) indicates you can use the `@EnableBatchProcessing` annotation, and elsewhere I found you can extend the `DefaultBatchConfiguration` class to adjust this config. However [Spring Boot Documentation](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide#spring-batch-changes) discourages this and indicates that this will cause Spring Boot to backoff configuration. \r\n\r\n\r\n\r\nWhen I utilize the `@EnableBatchProcessing` or `DefaultBatchConfiguration` our jobs no longer launch as they used to (I utilize the `--spring.batch.job.name` argument). \r\n\r\nIs there a way to use the default configuration that Spring Boot 3 provides and use the Jackson Serializer without needing to completely take over the configuration of Spring Batch? The issue is that I have historical data utilizing the Jackson serializer/deserializer that no longer can be processed by the upgrade.","title":"Is there a way to use Spring Batch 5 default configuration and use Jackson Serializer?","body":"<p>I am working on a migration to Spring Batch 5, but am running into a problem with the migration. Spring Batch 5 has changed the <a href=\"https://github.com/spring-projects/spring-batch/wiki/Spring-Batch-5.0-Migration-Guide#execution-context-serialization-updates\" rel=\"nofollow noreferrer\">default serializer</a>. According to this doc you need to make sure the Jackson Serializer is on your class path in order to be able to utilize it. It does not specify however how to enable the use of the serializer.</p>\n<p><a href=\"https://spring.io/blog/2022/11/24/spring-batch-5-0-goes-ga\" rel=\"nofollow noreferrer\">This documentation</a> indicates you can use the <code>@EnableBatchProcessing</code> annotation, and elsewhere I found you can extend the <code>DefaultBatchConfiguration</code> class to adjust this config. However <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide#spring-batch-changes\" rel=\"nofollow noreferrer\">Spring Boot Documentation</a> discourages this and indicates that this will cause Spring Boot to backoff configuration.</p>\n<p>When I utilize the <code>@EnableBatchProcessing</code> or <code>DefaultBatchConfiguration</code> our jobs no longer launch as they used to (I utilize the <code>--spring.batch.job.name</code> argument).</p>\n<p>Is there a way to use the default configuration that Spring Boot 3 provides and use the Jackson Serializer without needing to completely take over the configuration of Spring Batch? The issue is that I have historical data utilizing the Jackson serializer/deserializer that no longer can be processed by the upgrade.</p>\n"},{"tags":["java","apache-apisix"],"answers":[{"tags":[],"owner":{"account_id":28993009,"reputation":1,"user_id":22208302,"display_name":"Vincent"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689064900,"creation_date":1689064900,"answer_id":76660117,"question_id":76419690,"body_markdown":"I&#39;m also developing java plugin for APISIX on Windows. The only way I found was to use WSL2 Ubuntu distribution. https://learn.microsoft.com/fr-fr/windows/wsl/install\r\n\r\nIf you also use docker be sure that your WSL2 enable integration for your image (in Docker Desktop: Resources/WSL Integration). I don&#39;t know why but I need to launch my container after I launch debugger and need to re-create it each time. So no perfect solution but a usable workaround","title":"How to debug apisix java runner&#39;s functions on Windows?","body":"<p>I'm also developing java plugin for APISIX on Windows. The only way I found was to use WSL2 Ubuntu distribution. <a href=\"https://learn.microsoft.com/fr-fr/windows/wsl/install\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/fr-fr/windows/wsl/install</a></p>\n<p>If you also use docker be sure that your WSL2 enable integration for your image (in Docker Desktop: Resources/WSL Integration). I don't know why but I need to launch my container after I launch debugger and need to re-create it each time. So no perfect solution but a usable workaround</p>\n"}],"owner":{"account_id":28769195,"reputation":1,"user_id":22033346,"display_name":"Ho&#224;ng Hưng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689064900,"creation_date":1686107835,"question_id":76419690,"body_markdown":"As mentioned in the title, how can I debug apisix java runner&#39;s filters on Window ?\r\n\r\n\r\nI tried to run it but it said :&quot; java runner is only support epoll or kqueue &quot;\r\nIs there anyway to run the application on Windows ?\r\nI&#39;m using APISIX version 3.3.0 and APISIX Java Plugin Runner ver 0.4.0","title":"How to debug apisix java runner&#39;s functions on Windows?","body":"<p>As mentioned in the title, how can I debug apisix java runner's filters on Window ?</p>\n<p>I tried to run it but it said :&quot; java runner is only support epoll or kqueue &quot;\nIs there anyway to run the application on Windows ?\nI'm using APISIX version 3.3.0 and APISIX Java Plugin Runner ver 0.4.0</p>\n"},{"tags":["java","char"],"comments":[{"owner":{"account_id":14861941,"reputation":1836,"user_id":10732434,"display_name":"sanitizedUser"},"score":0,"creation_date":1689188806,"post_id":76658814,"comment_id":135179779,"body_markdown":"Does this answer your question? [Calculating with the char variable in java](https://stackoverflow.com/questions/25593074/calculating-with-the-char-variable-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/25593074/calculating-with-the-char-variable-in-java\">Calculating with the char variable in java</a>"},{"owner":{"account_id":10732579,"reputation":666,"user_id":7898202,"display_name":"MorganS42"},"score":0,"creation_date":1689387249,"post_id":76658814,"comment_id":135210602,"body_markdown":"Julia, there are many answers on this question, do any of them explain your question?","body":"Julia, there are many answers on this question, do any of them explain your question?"}],"answers":[{"tags":[],"owner":{"account_id":10732579,"reputation":666,"user_id":7898202,"display_name":"MorganS42"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689052003,"creation_date":1689052003,"answer_id":76658850,"question_id":76658814,"body_markdown":"The distinction here is in the datatype. A char is a single character, I believe you expected it to function like the String datatype. If `d` was a String it would look like this:\r\n\r\n```java\r\nString d = &quot;a&quot; + 3;\r\nSystem.out.println(d);\r\n```\r\nOutput: `a3`\r\n\r\nBut the code you provided has `d` as a char, which is stored as a whole number following the ASCII table. [![enter image description here][1]][1]\r\n\r\n\r\nIn Java a char can be converted to any other of the *integral types*, namely: `long`, `short`, `byte`, and `int`\r\n\r\nThis means when you can do arithmetic on a char type with an int. Consider:\r\n\r\n```java\r\nchar a = &#39;a&#39;; // &#39;a&#39; has an ASCII value of 97\r\nchar d = &#39;a&#39; + 3;\r\n```\r\nWhen you add 3 it adds it to the ASCII value of 97. 97 + 3 = 100, which on the ASCII table corresponds to &#39;d&#39;. This explains your output.\r\n\r\n  [1]: https://i.stack.imgur.com/UE2gT.png","title":"I&#39;m confusing about the output of this content","body":"<p>The distinction here is in the datatype. A char is a single character, I believe you expected it to function like the String datatype. If <code>d</code> was a String it would look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String d = &quot;a&quot; + 3;\nSystem.out.println(d);\n</code></pre>\n<p>Output: <code>a3</code></p>\n<p>But the code you provided has <code>d</code> as a char, which is stored as a whole number following the ASCII table. <a href=\"https://i.stack.imgur.com/UE2gT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UE2gT.png\" alt=\"enter image description here\" /></a></p>\n<p>In Java a char can be converted to any other of the <em>integral types</em>, namely: <code>long</code>, <code>short</code>, <code>byte</code>, and <code>int</code></p>\n<p>This means when you can do arithmetic on a char type with an int. Consider:</p>\n<pre class=\"lang-java prettyprint-override\"><code>char a = 'a'; // 'a' has an ASCII value of 97\nchar d = 'a' + 3;\n</code></pre>\n<p>When you add 3 it adds it to the ASCII value of 97. 97 + 3 = 100, which on the ASCII table corresponds to 'd'. This explains your output.</p>\n"},{"tags":[],"owner":{"account_id":28824882,"reputation":1,"user_id":22207247,"display_name":"Paul Rolfe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689052035,"creation_date":1689052035,"answer_id":76658852,"question_id":76658814,"body_markdown":"A single character was specified as a type.\r\n\r\n&#39;a&#39; is converted to an ascii value. This becomes a value of 97 (see an ASCII table)... then you added 3 to this, so it becomes d. If you print this out it will appear as &#39;d&#39;  \r\n\r\nWhat were you expecting from the output? You might find a string more useful if you are trying to get something like &quot;a 3&quot;","title":"I&#39;m confusing about the output of this content","body":"<p>A single character was specified as a type.</p>\n<p>'a' is converted to an ascii value. This becomes a value of 97 (see an ASCII table)... then you added 3 to this, so it becomes d. If you print this out it will appear as 'd'</p>\n<p>What were you expecting from the output? You might find a string more useful if you are trying to get something like &quot;a 3&quot;</p>\n"},{"tags":[],"owner":{"account_id":21144793,"reputation":75,"user_id":15546361,"display_name":"Pabasara Rathnayake"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689057030,"creation_date":1689057030,"answer_id":76659222,"question_id":76658814,"body_markdown":"When you add a number to a character in Java, the character gets converted to its corresponding number based on the Unicode system. So, when you have `char d = &#39;a&#39; + 3;`, the character `&#39;a&#39;` is converted to the number 97 (its Unicode value), and then 3 is added to it. The result, 100, corresponds to the Unicode value of the character `&#39;d&#39;`. So, the variable d ends up storing the character `&#39;d&#39;` itself, not the phrase `&quot;a + 3&quot;`.\r\n\r\nWhen you print d using `System.out.println(d);`, it shows the character value, which is `&#39;d&#39;`.\r\n\r\nIf you want to print the actual phrase `&quot;a + 3&quot;`, you need to convert the result back to a character or use string concatenation. You can do this this way.\r\n\r\n\r\n       char c = &#39;a&#39; + 3;\r\n       System.out.println(&quot;a + 3 = &quot; + c);\r\n\r\nOutput is: `a + 3 = d`\r\n","title":"I&#39;m confusing about the output of this content","body":"<p>When you add a number to a character in Java, the character gets converted to its corresponding number based on the Unicode system. So, when you have <code>char d = 'a' + 3;</code>, the character <code>'a'</code> is converted to the number 97 (its Unicode value), and then 3 is added to it. The result, 100, corresponds to the Unicode value of the character <code>'d'</code>. So, the variable d ends up storing the character <code>'d'</code> itself, not the phrase <code>&quot;a + 3&quot;</code>.</p>\n<p>When you print d using <code>System.out.println(d);</code>, it shows the character value, which is <code>'d'</code>.</p>\n<p>If you want to print the actual phrase <code>&quot;a + 3&quot;</code>, you need to convert the result back to a character or use string concatenation. You can do this this way.</p>\n<pre><code>   char c = 'a' + 3;\n   System.out.println(&quot;a + 3 = &quot; + c);\n</code></pre>\n<p>Output is: <code>a + 3 = d</code></p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689063762,"creation_date":1689063762,"answer_id":76659974,"question_id":76658814,"body_markdown":"&gt; _&quot;I don&#39;t understand why the syntax is char d = &#39;a&#39; + 3; ...&quot;_\r\n\r\nYou are adding _3_ to the _[ASCII](https://en.wikipedia.org/wiki/ASCII#Printable_characters)_ value of the _char_ literal, _a_.  \r\nAs opposed to appending the number _3_ to the letter _a_.\r\n\r\nIn _Java_, the content within the single-quotation marks is a _char_ literal, and not a _String_ value.  \r\n\r\nHere is a relevant excerpt.  \r\n_[Primitive Data Types (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Language Basics)](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html)_.\r\n\r\n&gt; _&quot;... A literal is the source code representation of a fixed value ...&quot;_  \r\n&gt; _&quot;... Always use &#39;single quotes&#39; for char literals ...&quot;_\r\n\r\nAs you know, computers use numbers to represent all data; thus the letter _a_ is actually mapped to an integer value.  \r\nA widely used mapping system called the _ASCII_ system, is used by _Java_.\r\n\r\nThus, in _Java_, when you add or subtract an _int_ value from a _char_, the _char_&#39;s ASCII value will be resolved.  \r\nThus, _a_ + _1_ is _b_, and _a_ + _2_ is _c_, so on and so forth.\r\n\r\n&gt; _&quot;... when printed it out System.out.prinln(d) is d not a + 3. ...&quot;_\r\n\r\nThe _[println](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/PrintStream.html#println(java.lang.String))_ method is going to print a value, and not a _[statement](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/expressions.html)_.\r\n\r\nIf you wanted to print out the entire statement, you&#39;d have to supply the actual text.\r\n\r\n```java\r\nSystem.out.println(&quot;&#39;a&#39; + 3&quot;);\r\n```\r\n\r\n&gt; _&quot;... I tried the output and it was unexpected and I don&#39;t understand why it print out &#39;d&#39; because a is char. ...&quot;_\r\n\r\nI believe you have the variable name _d_, and it&#39;s actual value _&quot;d&quot;_ mixed-up.  \r\nThe _println_ method was printing the value of _d_, and not the variable name, _d_.\r\n\r\nFor example, consider the following.  \r\nThis will print _&quot;xyz&quot;_, and not _&quot;abc&quot;_.\r\n\r\n```java\r\nString abc = &quot;xyz&quot;;\r\nSystem.out.println(abc);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nxyz\r\n```","title":"I&#39;m confusing about the output of this content","body":"<blockquote>\n<p><em>&quot;I don't understand why the syntax is char d = 'a' + 3; ...&quot;</em></p>\n</blockquote>\n<p>You are adding <em>3</em> to the <em><a href=\"https://en.wikipedia.org/wiki/ASCII#Printable_characters\" rel=\"nofollow noreferrer\">ASCII</a></em> value of the <em>char</em> literal, <em>a</em>.<br />\nAs opposed to appending the number <em>3</em> to the letter <em>a</em>.</p>\n<p>In <em>Java</em>, the content within the single-quotation marks is a <em>char</em> literal, and not a <em>String</em> value.</p>\n<p>Here is a relevant excerpt.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">Primitive Data Types (The Java™ Tutorials &gt; Learning the Java Language &gt; Language Basics)</a></em>.</p>\n<blockquote>\n<p><em>&quot;... A literal is the source code representation of a fixed value ...&quot;</em><br />\n<em>&quot;... Always use 'single quotes' for char literals ...&quot;</em></p>\n</blockquote>\n<p>As you know, computers use numbers to represent all data; thus the letter <em>a</em> is actually mapped to an integer value.<br />\nA widely used mapping system called the <em>ASCII</em> system, is used by <em>Java</em>.</p>\n<p>Thus, in <em>Java</em>, when you add or subtract an <em>int</em> value from a <em>char</em>, the <em>char</em>'s ASCII value will be resolved.<br />\nThus, <em>a</em> + <em>1</em> is <em>b</em>, and <em>a</em> + <em>2</em> is <em>c</em>, so on and so forth.</p>\n<blockquote>\n<p><em>&quot;... when printed it out System.out.prinln(d) is d not a + 3. ...&quot;</em></p>\n</blockquote>\n<p>The <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/PrintStream.html#println(java.lang.String)\" rel=\"nofollow noreferrer\">println</a></em> method is going to print a value, and not a <em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/expressions.html\" rel=\"nofollow noreferrer\">statement</a></em>.</p>\n<p>If you wanted to print out the entire statement, you'd have to supply the actual text.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(&quot;'a' + 3&quot;);\n</code></pre>\n<blockquote>\n<p><em>&quot;... I tried the output and it was unexpected and I don't understand why it print out 'd' because a is char. ...&quot;</em></p>\n</blockquote>\n<p>I believe you have the variable name <em>d</em>, and it's actual value <em>&quot;d&quot;</em> mixed-up.<br />\nThe <em>println</em> method was printing the value of <em>d</em>, and not the variable name, <em>d</em>.</p>\n<p>For example, consider the following.<br />\nThis will print <em>&quot;xyz&quot;</em>, and not <em>&quot;abc&quot;</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String abc = &quot;xyz&quot;;\nSystem.out.println(abc);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>xyz\n</code></pre>\n"}],"owner":{"account_id":27122291,"reputation":7,"user_id":20665842,"display_name":"Julia Tran"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":4,"score":-1,"last_activity_date":1689063762,"creation_date":1689051348,"question_id":76658814,"body_markdown":"I don&#39;t understand why the syntax is char d = &#39;a&#39; + 3; but when printed it out System.out.prinln(d) is d not a + 3. I tried the output and it was unexpected and I don&#39;t understand why it print out &#39;d&#39; because a is char. Can anyone explain for me pls. I&#39;m confused. ","title":"I&#39;m confusing about the output of this content","body":"<p>I don't understand why the syntax is char d = 'a' + 3; but when printed it out System.out.prinln(d) is d not a + 3. I tried the output and it was unexpected and I don't understand why it print out 'd' because a is char. Can anyone explain for me pls. I'm confused.</p>\n"},{"tags":["java","ssl","mqtt","mqtt-sparkplug"],"owner":{"account_id":1678841,"reputation":454,"user_id":1543646,"accept_rate":50,"display_name":"Wheeler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689063415,"creation_date":1689063183,"question_id":76659905,"body_markdown":"My organization is building an application to support MQTT Sparkplug B in Java (Spring Boot/Eclipse Tahu 1.0.4). It seems that the majority of the wrappers require a collection of `MqttServerDefinition` objects, which all require basic auth credentials. Is there an example somewhere of using TLS? \r\n\r\nBest I can tell, the only other option is extending the `TahuClient` class to access the `MqttConnectOptions` and set a custom `SocketFactory` (this is straightforward for the Host, but very hacky for the Client).","title":"Eclipse Tahu: Configure Use of TLS in Java","body":"<p>My organization is building an application to support MQTT Sparkplug B in Java (Spring Boot/Eclipse Tahu 1.0.4). It seems that the majority of the wrappers require a collection of <code>MqttServerDefinition</code> objects, which all require basic auth credentials. Is there an example somewhere of using TLS?</p>\n<p>Best I can tell, the only other option is extending the <code>TahuClient</code> class to access the <code>MqttConnectOptions</code> and set a custom <code>SocketFactory</code> (this is straightforward for the Host, but very hacky for the Client).</p>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":6152522,"reputation":233,"user_id":4796548,"display_name":"Azamat Zhurtbayev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1599940530,"creation_date":1599940530,"answer_id":63864374,"question_id":63864284,"body_markdown":"I&#39;m not sure about the correctness of your solution, but try to use StreamTokenizer or BufferedReader instead of Scanner. Scanner is too slow and may result in TLE when you need to read a lot of data.","title":"Array rotation TLE (Time Limit Exceeded)","body":"<p>I'm not sure about the correctness of your solution, but try to use StreamTokenizer or BufferedReader instead of Scanner. Scanner is too slow and may result in TLE when you need to read a lot of data.</p>\n"},{"tags":[],"owner":{"account_id":16691977,"reputation":31,"user_id":12064339,"display_name":"paragpallav"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1606387540,"creation_date":1606387540,"answer_id":65020470,"question_id":63864284,"body_markdown":"    import java.util.*;\r\n    public class temp {\r\n    \tpublic static void main (String[] args) {\r\n    \t\tScanner sc = new Scanner(System.in);\r\n            int t = sc.nextInt();\r\n            while(t--&gt;0){\r\n                int n = sc.nextInt();\r\n                int k = sc.nextInt();\r\n                int p = 0;\r\n                int ar[] = new int[n];\r\n                for(int i=0;i&lt;n;i++){\r\n    \t\t\t    ar[i] = sc.nextInt();\r\n    \t\t    }\r\n                k %= n;\r\n                for(int i=0;i&lt;n;i++){\r\n                    p = ar[(i+(n-k))%n];\r\n                    System.out.print(p+&quot; &quot;);\r\n                }\r\n                System.out.println();\r\n            }\t\t\r\n    \t}\r\n    }\r\nThough I have not used a big sized array in the starting, this code is working fine for all test cases.\r\n\r\nTry this one.","title":"Array rotation TLE (Time Limit Exceeded)","body":"<pre><code>import java.util.*;\npublic class temp {\n    public static void main (String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int t = sc.nextInt();\n        while(t--&gt;0){\n            int n = sc.nextInt();\n            int k = sc.nextInt();\n            int p = 0;\n            int ar[] = new int[n];\n            for(int i=0;i&lt;n;i++){\n                ar[i] = sc.nextInt();\n            }\n            k %= n;\n            for(int i=0;i&lt;n;i++){\n                p = ar[(i+(n-k))%n];\n                System.out.print(p+&quot; &quot;);\n            }\n            System.out.println();\n        }       \n    }\n}\n</code></pre>\n<p>Though I have not used a big sized array in the starting, this code is working fine for all test cases.</p>\n<p>Try this one.</p>\n"},{"tags":[],"owner":{"account_id":2573609,"reputation":388,"user_id":2231801,"display_name":"raghu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1610214110,"creation_date":1610214110,"answer_id":65645700,"question_id":63864284,"body_markdown":"Reduce the number of reads and writes from/to System.in and System.out.\r\nLook at the following solution\r\n\r\n            Scanner scanner = new Scanner(System.in);\r\n            int noOfTestCases = scanner.nextInt();\r\n\r\n            for (int i = 0; i &lt; noOfTestCases; i++) {\r\n                int arraySize = scanner.nextInt();\r\n                int noOfRotations = scanner.nextInt();\r\n                noOfRotations = noOfRotations % arraySize;\r\n                scanner.nextLine();\r\n                String inputString = scanner.nextLine();\r\n                String[] inputStringArray = inputString.split(&quot; &quot;);\r\n\r\n                StringBuffer sb = new StringBuffer();\r\n    \r\n                for (int j = 0; j &lt; arraySize; j++) {\r\n                    sb.append(inputStringArray[(arraySize + j - noOfRotations) % arraySize] + &quot; &quot;);\r\n                }\r\n\r\n                System.out.print(sb);\r\n                System.out.println(&quot;&quot;);\r\n            }","title":"Array rotation TLE (Time Limit Exceeded)","body":"<p>Reduce the number of reads and writes from/to System.in and System.out.\nLook at the following solution</p>\n<pre><code>        Scanner scanner = new Scanner(System.in);\n        int noOfTestCases = scanner.nextInt();\n\n        for (int i = 0; i &lt; noOfTestCases; i++) {\n            int arraySize = scanner.nextInt();\n            int noOfRotations = scanner.nextInt();\n            noOfRotations = noOfRotations % arraySize;\n            scanner.nextLine();\n            String inputString = scanner.nextLine();\n            String[] inputStringArray = inputString.split(&quot; &quot;);\n\n            StringBuffer sb = new StringBuffer();\n\n            for (int j = 0; j &lt; arraySize; j++) {\n                sb.append(inputStringArray[(arraySize + j - noOfRotations) % arraySize] + &quot; &quot;);\n            }\n\n            System.out.print(sb);\n            System.out.println(&quot;&quot;);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20022567,"reputation":36,"user_id":14677164,"display_name":"Swetha R Naik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627212298,"creation_date":1627212298,"answer_id":68518071,"question_id":63864284,"body_markdown":"Think from a different perspective. Instead of splitting the string and converting it into an array and applying the iterative logic, we can apply a different logic.\r\n\r\nThe trick is you just need to find the position of the input string where we have to split only once.\r\nBy that I mean,&lt;br/&gt;\r\ninput=&gt;&lt;br/&gt;\r\n6 2  &amp;emsp; &amp;emsp; &amp;emsp; //4 is the length of numbers and 2 is the index of rotation&lt;br/&gt;\r\n1 2 3 4 5 6     &amp;emsp; &amp;emsp;  //array (take input as a string using buffered reader)\r\n\r\nHere, we just need to split the array string at the 2nd last space i.e. 4th space. So the output can be achieved by just splitting the string once-&lt;br/&gt;\r\n5 6 1 2 3 4&lt;br/&gt;\r\nfirst split- 5 6 + space + second split- 1 2 3 4 &lt;br/&gt;\r\nThis logic worked for me and all the test cases passed.\r\n\r\nAlso don&#39;t forget to cover the corner case scenario when array input string is just one number. \r\n\r\nCode Snippet-\r\n\r\n    int count=0;\r\n    for(int k=0; k&lt;arr.length(); k++) {\r\n        if(arr.charAt(k)==&#39; &#39;)\r\n            count++;\r\n        if(count==size-rot) {\r\n             System.out.println(arr.substring(k+1,arr.length())\r\n                 + &quot; &quot; + arr.substring(0,k));\r\n             break;\r\n        }\r\n    }","title":"Array rotation TLE (Time Limit Exceeded)","body":"<p>Think from a different perspective. Instead of splitting the string and converting it into an array and applying the iterative logic, we can apply a different logic.</p>\n<p>The trick is you just need to find the position of the input string where we have to split only once.\nBy that I mean,<br/>\ninput=&gt;<br/>\n6 2        //4 is the length of numbers and 2 is the index of rotation<br/>\n1 2 3 4 5 6          //array (take input as a string using buffered reader)</p>\n<p>Here, we just need to split the array string at the 2nd last space i.e. 4th space. So the output can be achieved by just splitting the string once-<br/>\n5 6 1 2 3 4<br/>\nfirst split- 5 6 + space + second split- 1 2 3 4 <br/>\nThis logic worked for me and all the test cases passed.</p>\n<p>Also don't forget to cover the corner case scenario when array input string is just one number.</p>\n<p>Code Snippet-</p>\n<pre><code>int count=0;\nfor(int k=0; k&lt;arr.length(); k++) {\n    if(arr.charAt(k)==' ')\n        count++;\n    if(count==size-rot) {\n         System.out.println(arr.substring(k+1,arr.length())\n             + &quot; &quot; + arr.substring(0,k));\n         break;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2749748,"reputation":300,"user_id":2369406,"display_name":"Jawad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635779112,"creation_date":1635779112,"answer_id":69798829,"question_id":63864284,"body_markdown":"Problem is in the `System.out.print()` call that is inside the for-loop. Thats a fairly heavy call and if called too many times and creates an overhead. This solution works:\r\n\r\n    //import for Scanner and other utility classes\r\n    import java.util.*;\r\n    \r\n    class TestClass {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner s = new Scanner(System.in);\r\n            String input = s.nextLine();\r\n            int noOfTests = Integer.parseInt(input);\r\n            for (int t = 0; t &lt; noOfTests; t++) {\r\n                input = s.nextLine();\r\n                String[] str = input.split(&quot; &quot;);\r\n                int sizeOfArray = Integer.parseInt(str[0]);\r\n                int noOfRotations = Integer.parseInt(str[1]);\r\n                String strIntegerArray = s.nextLine();\r\n                String[] array = strIntegerArray.split(&quot; &quot;);\r\n                printRightRotatedArray(array, noOfRotations, strIntegerArray.length());\r\n            }\r\n        }\r\n    \r\n        static void printRightRotatedArray(String[] array, int noOfRotations, int lengthOfStr) {\r\n            int len = array.length;\r\n            int noOfAcutalRotations = noOfRotations % len;\r\n            int startingIndex = len - noOfAcutalRotations;\r\n            StringBuilder sb = new StringBuilder(lengthOfStr+1);\r\n            for (int i = 0; i &lt; len; i++) {\r\n                sb.append(array[(startingIndex + i) % len]);\r\n                sb.append(&quot; &quot;);\r\n            }\r\n            System.out.println(sb);\r\n        }\r\n    }\r\n\r\n","title":"Array rotation TLE (Time Limit Exceeded)","body":"<p>Problem is in the <code>System.out.print()</code> call that is inside the for-loop. Thats a fairly heavy call and if called too many times and creates an overhead. This solution works:</p>\n<pre><code>//import for Scanner and other utility classes\nimport java.util.*;\n\nclass TestClass {\n\n    public static void main(String[] args) {\n        Scanner s = new Scanner(System.in);\n        String input = s.nextLine();\n        int noOfTests = Integer.parseInt(input);\n        for (int t = 0; t &lt; noOfTests; t++) {\n            input = s.nextLine();\n            String[] str = input.split(&quot; &quot;);\n            int sizeOfArray = Integer.parseInt(str[0]);\n            int noOfRotations = Integer.parseInt(str[1]);\n            String strIntegerArray = s.nextLine();\n            String[] array = strIntegerArray.split(&quot; &quot;);\n            printRightRotatedArray(array, noOfRotations, strIntegerArray.length());\n        }\n    }\n\n    static void printRightRotatedArray(String[] array, int noOfRotations, int lengthOfStr) {\n        int len = array.length;\n        int noOfAcutalRotations = noOfRotations % len;\n        int startingIndex = len - noOfAcutalRotations;\n        StringBuilder sb = new StringBuilder(lengthOfStr+1);\n        for (int i = 0; i &lt; len; i++) {\n            sb.append(array[(startingIndex + i) % len]);\n            sb.append(&quot; &quot;);\n        }\n        System.out.println(sb);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2859752,"reputation":1,"user_id":2484552,"display_name":"icecreamwalaK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658472378,"creation_date":1658151900,"answer_id":73023367,"question_id":63864284,"body_markdown":"putting all into string buffer and print at the end worked for me.\r\n\r\n    class TestClass {\r\n    public static void main(String args[] ) throws Exception {\r\n        //BufferedReader\r\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n        int t = Integer.parseInt(br.readLine());\r\n        StringBuilder sb = new StringBuilder();// output\r\n        for(int i=0;i&lt;t;i++){\r\n            String [] nk=br.readLine().split(&quot; &quot;);\r\n            int n= Integer.parseInt(nk[0]);\r\n            int k=Integer.parseInt(nk[1]);\r\n            String [] a=br.readLine().split(&quot; &quot;);\r\n            int split=n-(k%n);\r\n            for (int j = split; j &lt; a.length; j++) {\r\n                sb.append(a[j]);\r\n                sb.append(&#39; &#39;);\r\n            }\r\n            for (int j = 0 ; j &lt; split; j++) {\r\n                sb.append(a[j]);\r\n                sb.append(&#39; &#39;);\r\n            }\r\n            sb.append(&quot;\\n&quot;);\r\n        }\r\n        System.out.println(sb);\r\n    }\r\n    }","title":"Array rotation TLE (Time Limit Exceeded)","body":"<p>putting all into string buffer and print at the end worked for me.</p>\n<pre><code>class TestClass {\npublic static void main(String args[] ) throws Exception {\n    //BufferedReader\n    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n    int t = Integer.parseInt(br.readLine());\n    StringBuilder sb = new StringBuilder();// output\n    for(int i=0;i&lt;t;i++){\n        String [] nk=br.readLine().split(&quot; &quot;);\n        int n= Integer.parseInt(nk[0]);\n        int k=Integer.parseInt(nk[1]);\n        String [] a=br.readLine().split(&quot; &quot;);\n        int split=n-(k%n);\n        for (int j = split; j &lt; a.length; j++) {\n            sb.append(a[j]);\n            sb.append(' ');\n        }\n        for (int j = 0 ; j &lt; split; j++) {\n            sb.append(a[j]);\n            sb.append(' ');\n        }\n        sb.append(&quot;\\n&quot;);\n    }\n    System.out.println(sb);\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28992842,"reputation":1,"user_id":22208158,"display_name":"Dhruv Raj Naruka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689063320,"creation_date":1689063320,"answer_id":76659921,"question_id":63864284,"body_markdown":"    Scanner s = new Scanner(System.in);\r\n        int T = s.nextInt();\r\n        while(T&gt;0){\r\n            int n = s.nextInt();\r\n            int j = n - (s.nextInt() % n);\r\n            s.nextLine();\r\n            String [] arr = s.nextLine().split(&quot; &quot;);\r\n            StringBuilder output = new StringBuilder();\r\n            for(int i=j; i&lt;n; i++){\r\n                output.append(arr[i] + &quot; &quot;);\r\n            }\r\n            for(int i=0; i&lt;j; i++){\r\n                output.append(arr[i] + &quot; &quot;);\r\n            }\r\n            System.out.println(output);\r\n            T--;\r\n        }","title":"Array rotation TLE (Time Limit Exceeded)","body":"<pre><code>Scanner s = new Scanner(System.in);\n    int T = s.nextInt();\n    while(T&gt;0){\n        int n = s.nextInt();\n        int j = n - (s.nextInt() % n);\n        s.nextLine();\n        String [] arr = s.nextLine().split(&quot; &quot;);\n        StringBuilder output = new StringBuilder();\n        for(int i=j; i&lt;n; i++){\n            output.append(arr[i] + &quot; &quot;);\n        }\n        for(int i=0; i&lt;j; i++){\n            output.append(arr[i] + &quot; &quot;);\n        }\n        System.out.println(output);\n        T--;\n    }\n</code></pre>\n"}],"owner":{"account_id":18570434,"reputation":417,"user_id":13532367,"display_name":"Yugank Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3647,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":63864374,"answer_count":7,"score":2,"last_activity_date":1689063320,"creation_date":1599939912,"question_id":63864284,"body_markdown":"I am really confused why my java code is not working it is giving TLE on Code Monks on Hacker Earth.\r\nHere is the link to the 1\r\n - [Link to Question](https://www.hackerearth.com/practice/codemonk/)\r\nthe first question MONK AND ROTATION\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\nclass TestClass {\r\n    static int[] ar=new int[100001];\r\n    public static void main(String args[] ){\r\n        Scanner in=new Scanner(System.in);\r\n        byte t=in.nextByte();\r\n        while(t--&gt;0){\r\n            int n=in.nextInt();\r\n            int k=in.nextInt()%n;\r\n                for(int i=0;i&lt;n-k;i++)\r\n                    ar[i]=in.nextInt();\r\n                for(int i=0;i&lt;k;i++)\r\n                    System.out.print(in.nextInt()+&quot; &quot;);\r\n                for(int i=0;i&lt;n-k;i++)\r\n                    System.out.print(ar[i]+&quot; &quot;);\r\n            System.out.println();\r\n        }\r\n    }\r\n}\r\n```\r\nI don&#39;t know why is it giving TLE I think there is some infinite loop going.\r\n\r\nthe question at the site is-\r\n\r\nMonk and Rotation\r\nMonk loves to perform different operations on arrays, and so being the principal of HackerEarth School, he assigned a task to his new student Mishki. Mishki will be provided with an integer array A of size N and an integer K , where she needs to rotate the array in the right direction by K steps and then print the resultant array. As she is new to the school, please help her to complete the task.\r\n\r\nInput:\r\nThe first line will consists of one integer T denoting the number of test cases.\r\nFor each test case:\r\n1) The first line consists of two integers N and K, N being the number of elements in the array and K denotes the number of steps of rotation.\r\n2) The next line consists of N space separated integers , denoting the elements of the array A.\r\nOutput:\r\nPrint the required array.\r\n\r\nConstraints:\r\n```\r\n1&lt;=T&lt;=20\r\n1&lt;=N&lt;=10^5\r\n0&lt;=K&lt;=10^6\r\n0&lt;=A[i]&lt;=10^6\r\n```\r\n\r\n\r\n\r\nSample Input\r\n\r\n1\r\n\r\n5 2\r\n\r\n1 2 3 4 5\r\n\r\nSample Output\r\n\r\n4 5 1 2 3\r\n\r\nExplanation\r\n\r\nHere T is 1, which means one test case.\r\n\r\n denoting the number of elements in the array and , denoting the number of steps of rotations.\r\n\r\nThe initial array is: \r\nIn first rotation, 5 will come in the first position and all other elements will move to one position ahead from their current position. Now, the resultant array will be \r\n\r\nIn second rotation, 4 will come in the first position and all other elements will move to one position ahead from their current position. Now, the resultant array will be \r\n\r\n\r\nTime Limit: 1.0 sec(s) for each input file\r\nMemory Limit: 256 MB\r\nSource Limit: 1024 KB","title":"Array rotation TLE (Time Limit Exceeded)","body":"<p>I am really confused why my java code is not working it is giving TLE on Code Monks on Hacker Earth.\nHere is the link to the 1</p>\n<ul>\n<li><a href=\"https://www.hackerearth.com/practice/codemonk/\" rel=\"nofollow noreferrer\">Link to Question</a>\nthe first question MONK AND ROTATION</li>\n</ul>\n<pre><code>import java.util.Scanner;\nclass TestClass {\n    static int[] ar=new int[100001];\n    public static void main(String args[] ){\n        Scanner in=new Scanner(System.in);\n        byte t=in.nextByte();\n        while(t--&gt;0){\n            int n=in.nextInt();\n            int k=in.nextInt()%n;\n                for(int i=0;i&lt;n-k;i++)\n                    ar[i]=in.nextInt();\n                for(int i=0;i&lt;k;i++)\n                    System.out.print(in.nextInt()+&quot; &quot;);\n                for(int i=0;i&lt;n-k;i++)\n                    System.out.print(ar[i]+&quot; &quot;);\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n<p>I don't know why is it giving TLE I think there is some infinite loop going.</p>\n<p>the question at the site is-</p>\n<p>Monk and Rotation\nMonk loves to perform different operations on arrays, and so being the principal of HackerEarth School, he assigned a task to his new student Mishki. Mishki will be provided with an integer array A of size N and an integer K , where she needs to rotate the array in the right direction by K steps and then print the resultant array. As she is new to the school, please help her to complete the task.</p>\n<p>Input:\nThe first line will consists of one integer T denoting the number of test cases.\nFor each test case:</p>\n<ol>\n<li>The first line consists of two integers N and K, N being the number of elements in the array and K denotes the number of steps of rotation.</li>\n<li>The next line consists of N space separated integers , denoting the elements of the array A.\nOutput:\nPrint the required array.</li>\n</ol>\n<p>Constraints:</p>\n<pre><code>1&lt;=T&lt;=20\n1&lt;=N&lt;=10^5\n0&lt;=K&lt;=10^6\n0&lt;=A[i]&lt;=10^6\n</code></pre>\n<p>Sample Input</p>\n<p>1</p>\n<p>5 2</p>\n<p>1 2 3 4 5</p>\n<p>Sample Output</p>\n<p>4 5 1 2 3</p>\n<p>Explanation</p>\n<p>Here T is 1, which means one test case.</p>\n<p>denoting the number of elements in the array and , denoting the number of steps of rotations.</p>\n<p>The initial array is:\nIn first rotation, 5 will come in the first position and all other elements will move to one position ahead from their current position. Now, the resultant array will be</p>\n<p>In second rotation, 4 will come in the first position and all other elements will move to one position ahead from their current position. Now, the resultant array will be</p>\n<p>Time Limit: 1.0 sec(s) for each input file\nMemory Limit: 256 MB\nSource Limit: 1024 KB</p>\n"},{"tags":["java","oracle","jdbctemplate"],"comments":[{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1689088642,"post_id":76659903,"comment_id":135162211,"body_markdown":"Not answering the question but just commenting. `LONG` is mostly obsolete nowadays. I would migrate towards a `VARCHAR2` or `CLOB`. Also, it&#39;s a lot easier to use `UTF-8` or `UTF-16` as encoding. Disk space is no longer an issue as it used to be.","body":"Not answering the question but just commenting. <code>LONG</code> is mostly obsolete nowadays. I would migrate towards a <code>VARCHAR2</code> or <code>CLOB</code>. Also, it&#39;s a lot easier to use <code>UTF-8</code> or <code>UTF-16</code> as encoding. Disk space is no longer an issue as it used to be."}],"owner":{"account_id":28992743,"reputation":1,"user_id":22208083,"display_name":"raphael"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689063174,"creation_date":1689063174,"question_id":76659903,"body_markdown":"I need to transfer a row from one Oracle database to another Oracle database using java program.\r\nThe problem is, those two DB has different NLS_CHARACTERSET (KO16MSWIN949, AL32UTF8) so when I transfer very long NVARCHAR data I face &quot;ORA-01461: can bind a LONG value only for insert into a LONG column&quot; error.\r\n\r\nI am using jdbc template parameter for executing sql, and my query looks like this:\r\nINSERT INTO TO_TABLE (NOTE1, NOTE2, ...) VALUES (?, ?, ...)\r\n\r\nWhen I tried to manually insert data, I noticed that if I put N in front of string then it solves problem, but I don&#39;t know how to do like this in jdbc parameter. Is there any way to do this? I cannot change characterset of both DB.","title":"(Oracle) Is there a way to specify a jdbc-template parameter to use national characterset?","body":"<p>I need to transfer a row from one Oracle database to another Oracle database using java program.\nThe problem is, those two DB has different NLS_CHARACTERSET (KO16MSWIN949, AL32UTF8) so when I transfer very long NVARCHAR data I face &quot;ORA-01461: can bind a LONG value only for insert into a LONG column&quot; error.</p>\n<p>I am using jdbc template parameter for executing sql, and my query looks like this:\nINSERT INTO TO_TABLE (NOTE1, NOTE2, ...) VALUES (?, ?, ...)</p>\n<p>When I tried to manually insert data, I noticed that if I put N in front of string then it solves problem, but I don't know how to do like this in jdbc parameter. Is there any way to do this? I cannot change characterset of both DB.</p>\n"},{"tags":["java","sql","apache-spark","apache-spark-sql","spark-java"],"answers":[{"tags":[],"owner":{"account_id":9630579,"reputation":3635,"user_id":7148638,"display_name":"Rajat Mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689062488,"creation_date":1689062488,"answer_id":76659825,"question_id":76656949,"body_markdown":"Spark has a `colRegex` function which can be use to select columns based on `regex`. \r\n\r\nSomething like this : \r\n\r\n```df.select(df.colRegex(&quot;`^.*name*`&quot;)).show()```\r\n\r\n","title":"Select a list of set columns AND other columns depending on their name/regex (Spark SQL Java)","body":"<p>Spark has a <code>colRegex</code> function which can be use to select columns based on <code>regex</code>.</p>\n<p>Something like this :</p>\n<p><code>df.select(df.colRegex(&quot;`^.*name*`&quot;)).show()</code></p>\n"},{"tags":[],"owner":{"account_id":28942997,"reputation":171,"user_id":22169190,"display_name":"Medzila"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689063077,"creation_date":1689063077,"answer_id":76659892,"question_id":76656949,"body_markdown":"You can use `Dataset#colRegex(String)`\r\n\r\n    df.colRegex(&quot;`.*_id`&quot;)\r\n\r\nThis should work.\r\nI didn&#39;t test that but you can change your code to:\r\n\r\n    Dataset&lt;Row&gt; df = ...;\r\n    Column[] cols = new Column[]{\r\n         functions.col(&quot;name&quot;),\r\n         functions.col(&quot;value&quot;),\r\n         functions.col(&quot;date&quot;),\r\n         df.colRegex(&quot;`.*_id`&quot;)\r\n        };\r\n    final Dataset&lt;Row&gt; testDf = df.select(getSelectColumns());\r\n\r\nAlternativaly, you could use `df.columns()` to get all the column names, then apply a regular java regex to filter out only the columns you need and select the columns from there.\r\n\r\nSee more:\r\n\r\nhttps://spark.apache.org/docs/3.0.2/api/java/org/apache/spark/sql/Dataset.html#colRegex-java.lang.String-","title":"Select a list of set columns AND other columns depending on their name/regex (Spark SQL Java)","body":"<p>You can use <code>Dataset#colRegex(String)</code></p>\n<pre><code>df.colRegex(&quot;`.*_id`&quot;)\n</code></pre>\n<p>This should work.\nI didn't test that but you can change your code to:</p>\n<pre><code>Dataset&lt;Row&gt; df = ...;\nColumn[] cols = new Column[]{\n     functions.col(&quot;name&quot;),\n     functions.col(&quot;value&quot;),\n     functions.col(&quot;date&quot;),\n     df.colRegex(&quot;`.*_id`&quot;)\n    };\nfinal Dataset&lt;Row&gt; testDf = df.select(getSelectColumns());\n</code></pre>\n<p>Alternativaly, you could use <code>df.columns()</code> to get all the column names, then apply a regular java regex to filter out only the columns you need and select the columns from there.</p>\n<p>See more:</p>\n<p><a href=\"https://spark.apache.org/docs/3.0.2/api/java/org/apache/spark/sql/Dataset.html#colRegex-java.lang.String-\" rel=\"nofollow noreferrer\">https://spark.apache.org/docs/3.0.2/api/java/org/apache/spark/sql/Dataset.html#colRegex-java.lang.String-</a></p>\n"}],"owner":{"account_id":16917353,"reputation":117,"user_id":12235037,"display_name":"chingu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689063077,"creation_date":1689019109,"question_id":76656949,"body_markdown":"I have a list of columns that I need to select. I have the field names for each column in this list, so it is easy to select.\r\n\r\n```\r\npublic Column[] getSelectColumns()\r\n{\r\n        return new Column[]{\r\n                col(&quot;name&quot;),\r\n                col(&quot;value&quot;),\r\n                col(&quot;date&quot;),\r\n        }\r\n}\r\n\r\nfinal Dataset&lt;Row&gt; testDf = df.select(getSelectColumns());\r\n```\r\n\r\nHowever, I want to combine this with other columns where I do not have their exact field names. These other columns only share a similar pattern in their names, such as `weather_id`, `house_id`, `person_id`. They all end in &quot;_id&quot;. Each row may or may not have these &quot;_id&quot; columns. The &quot;_id&quot; columns are dynamic so I cannot hardcode them in like I do in `getSelectColumns()`.\r\n\r\nAm I able to select columns based on the &quot;_id&quot; pattern (like using regex)? And if I can, how do I combine that with my regular select? So that my end result `Dataset&lt;Row&gt;` has all the columns I need. ","title":"Select a list of set columns AND other columns depending on their name/regex (Spark SQL Java)","body":"<p>I have a list of columns that I need to select. I have the field names for each column in this list, so it is easy to select.</p>\n<pre><code>public Column[] getSelectColumns()\n{\n        return new Column[]{\n                col(&quot;name&quot;),\n                col(&quot;value&quot;),\n                col(&quot;date&quot;),\n        }\n}\n\nfinal Dataset&lt;Row&gt; testDf = df.select(getSelectColumns());\n</code></pre>\n<p>However, I want to combine this with other columns where I do not have their exact field names. These other columns only share a similar pattern in their names, such as <code>weather_id</code>, <code>house_id</code>, <code>person_id</code>. They all end in &quot;_id&quot;. Each row may or may not have these &quot;_id&quot; columns. The &quot;_id&quot; columns are dynamic so I cannot hardcode them in like I do in <code>getSelectColumns()</code>.</p>\n<p>Am I able to select columns based on the &quot;_id&quot; pattern (like using regex)? And if I can, how do I combine that with my regular select? So that my end result <code>Dataset&lt;Row&gt;</code> has all the columns I need.</p>\n"},{"tags":["java","android","react-native","kotlin"],"answers":[{"tags":[],"owner":{"account_id":1374266,"reputation":598,"user_id":1308590,"accept_rate":73,"display_name":"famfamfam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689062779,"creation_date":1689062779,"answer_id":76659857,"question_id":76627816,"body_markdown":"You can try overriding the onKeyLongPress method inside your Activity.\r\n```\r\n@Override\r\npublic boolean onKeyLongPress(int keyCode, KeyEvent event) {\r\n    if (keyCode == KeyEvent.KEYCODE_BACK) {\r\n        System.out.println(&quot;Back button long pressed&quot;);\r\n        return true;\r\n    }\r\n    return super.onKeyLongPress(keyCode, event);\r\n}\r\n```\r\n\r\nNote that wont work on Android OS &gt; 9","title":"Android native back button long press","body":"<p>You can try overriding the onKeyLongPress method inside your Activity.</p>\n<pre><code>@Override\npublic boolean onKeyLongPress(int keyCode, KeyEvent event) {\n    if (keyCode == KeyEvent.KEYCODE_BACK) {\n        System.out.println(&quot;Back button long pressed&quot;);\n        return true;\n    }\n    return super.onKeyLongPress(keyCode, event);\n}\n</code></pre>\n<p>Note that wont work on Android OS &gt; 9</p>\n"}],"owner":{"account_id":4069811,"reputation":1406,"user_id":3343358,"accept_rate":47,"display_name":"St&#233;phane R."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689062779,"creation_date":1688638862,"question_id":76627816,"body_markdown":"I&#39;m trying to target the native back Button on **longpress** event in Android (and after in React-Native).\r\n\r\nBut, i not see any API on Android docs ? Anyone know if an API is available for listen this event ?","title":"Android native back button long press","body":"<p>I'm trying to target the native back Button on <strong>longpress</strong> event in Android (and after in React-Native).</p>\n<p>But, i not see any API on Android docs ? Anyone know if an API is available for listen this event ?</p>\n"},{"tags":["java","spring-boot","web-services","jax-rs","jax-ws"],"comments":[{"owner":{"account_id":11668170,"reputation":1,"user_id":8544238,"display_name":"Spard4"},"score":0,"creation_date":1689050447,"post_id":76658753,"comment_id":135154402,"body_markdown":"at javax.xml.ws.Service.getPort(Service.java:134)\n\tat example.ban.commonemail.ws.wsdl.WSCommonEmailEndPoint.getCommonEmailServicePort(WSCommonEmailEndPoint.java:98)","body":"at javax.xml.ws.Service.getPort(Service.java:134) \tat example.ban.commonemail.ws.wsdl.WSCommonEmailEndPoint.getCom&zwnj;&#8203;monEmailServicePort(&zwnj;&#8203;WSCommonEmailEndPoin&zwnj;&#8203;t.java:98)"}],"owner":{"account_id":11668170,"reputation":1,"user_id":8544238,"display_name":"Spard4"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689062154,"creation_date":1689050376,"question_id":76658753,"body_markdown":"I have a problem with the implementation of the rest service and a local library made from a wsdl and the wsimport command based on Springboot and Apache CXF. When trying to use the library the following error is generated.\r\n\r\n```\r\nERROR Servlet.service() for servlet \\[dispatcherServlet\\] in context with path \\[\\] threw exception \\[Request processing failed; nested exception is javax.xml.ws.WebServiceException: org.apache.cxf.service.factory.ServiceConstructionException\\] with root cause\r\ncom.sun.xml.bind.v2.runtime.IllegalAnnotationsException: 2 counts of IllegalAnnotationExceptions\r\n```\r\n```java\r\n@WebServiceClient(name = &quot;WSCommonEmailEndPoint&quot;, targetNamespace = &quot;http://servicio.ws.commonEmail.ban.example/&quot;, wsdlLocation = &quot;https://wsPruebas201.local.example.corp:8080/WarWSCommonEmail/WSCommonEmailEndPoint/WSCommonEmailEndPoint.wsdl&quot;)\r\npublic class WSCommonEmailEndPoint extends Service {\r\n    private final static URL WSCOMMONEMAILENDPOINT_WSDL_LOCATION;\r\n    private final static WebServiceException WSCOMMONEMAILENDPOINT_EXCEPTION;\r\n    private final static QName WSCOMMONEMAILENDPOINT_QNAME = new QName(&quot;http://servicio.ws.commonEmail.ban.example/&quot;, &quot;WSCommonEmailEndPoint&quot;);\r\n    static {\r\n        URL url = null;\r\n        WebServiceException e = null;\r\n        try {\r\n            url = new URL(&quot;https://wsPruebas201.local.example.corp:8080/WarWSCommonEmail/WSCommonEmailEndPoint/WSCommonEmailEndPoint.wsdl&quot;);\r\n        } catch (MalformedURLException ex) {\r\n            e = new WebServiceException(ex);\r\n        }\r\n        WSCOMMONEMAILENDPOINT_WSDL_LOCATION = url;\r\n        WSCOMMONEMAILENDPOINT_EXCEPTION = e;\r\n    }\r\n\r\n    public WSCommonEmailEndPoint() {\r\n        super(__getWsdlLocation(), WSCOMMONEMAILENDPOINT_QNAME);\r\n    }\r\n    public WSCommonEmailEndPoint(WebServiceFeature... features) {\r\n        super(__getWsdlLocation(), WSCOMMONEMAILENDPOINT_QNAME, features);\r\n    }\r\n    public WSCommonEmailEndPoint(URL wsdlLocation) {\r\n        super(wsdlLocation, WSCOMMONEMAILENDPOINT_QNAME);\r\n    }\r\n    public WSCommonEmailEndPoint(URL wsdlLocation, WebServiceFeature... features) {\r\n        super(wsdlLocation, WSCOMMONEMAILENDPOINT_QNAME, features);\r\n    }\r\n    public WSCommonEmailEndPoint(URL wsdlLocation, QName serviceName) {\r\n        super(wsdlLocation, serviceName);\r\n    }\r\n    public WSCommonEmailEndPoint(URL wsdlLocation, QName serviceName, WebServiceFeature... features) {\r\n        super(wsdlLocation, serviceName, features);\r\n    }\r\n    @WebEndpoint(name = &quot;CommonEmailServicePort&quot;)\r\n    public CommonEmailService getCommonEmailServicePort() {\r\n        return super.getPort(new QName(&quot;http://servicio.ws.commonEmail.ban.example/&quot;, &quot;CommonEmailServicePort&quot;), CommonEmailService.class);\r\n    }\r\n    @WebEndpoint(name = &quot;CommonEmailServicePort&quot;)\r\n    public CommonEmailService getCommonEmailServicePort(WebServiceFeature... features) {\r\n        return super.getPort(new QName(&quot;http://servicio.ws.commonEmail.ban.example/&quot;, &quot;CommonEmailServicePort&quot;), CommonEmailService.class, features);\r\n    }\r\n    private static URL __getWsdlLocation() {\r\n        if (WSCOMMONEMAILENDPOINT_EXCEPTION!= null) {\r\n            throw WSCOMMONEMAILENDPOINT_EXCEPTION;\r\n        }\r\n        return WSCOMMONEMAILENDPOINT_WSDL_LOCATION;\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe invocation to the wsdl webservice was expected to be executed, I see no error in the WSCommonEmailEndPoint class, I have another project that consumes a wsdl in a similar way.","title":"Error when invoking the getPort of a wsdl with SpringBoot 2.7.12 AND javax","body":"<p>I have a problem with the implementation of the rest service and a local library made from a wsdl and the wsimport command based on Springboot and Apache CXF. When trying to use the library the following error is generated.</p>\n<pre><code>ERROR Servlet.service() for servlet \\[dispatcherServlet\\] in context with path \\[\\] threw exception \\[Request processing failed; nested exception is javax.xml.ws.WebServiceException: org.apache.cxf.service.factory.ServiceConstructionException\\] with root cause\ncom.sun.xml.bind.v2.runtime.IllegalAnnotationsException: 2 counts of IllegalAnnotationExceptions\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@WebServiceClient(name = &quot;WSCommonEmailEndPoint&quot;, targetNamespace = &quot;http://servicio.ws.commonEmail.ban.example/&quot;, wsdlLocation = &quot;https://wsPruebas201.local.example.corp:8080/WarWSCommonEmail/WSCommonEmailEndPoint/WSCommonEmailEndPoint.wsdl&quot;)\npublic class WSCommonEmailEndPoint extends Service {\n    private final static URL WSCOMMONEMAILENDPOINT_WSDL_LOCATION;\n    private final static WebServiceException WSCOMMONEMAILENDPOINT_EXCEPTION;\n    private final static QName WSCOMMONEMAILENDPOINT_QNAME = new QName(&quot;http://servicio.ws.commonEmail.ban.example/&quot;, &quot;WSCommonEmailEndPoint&quot;);\n    static {\n        URL url = null;\n        WebServiceException e = null;\n        try {\n            url = new URL(&quot;https://wsPruebas201.local.example.corp:8080/WarWSCommonEmail/WSCommonEmailEndPoint/WSCommonEmailEndPoint.wsdl&quot;);\n        } catch (MalformedURLException ex) {\n            e = new WebServiceException(ex);\n        }\n        WSCOMMONEMAILENDPOINT_WSDL_LOCATION = url;\n        WSCOMMONEMAILENDPOINT_EXCEPTION = e;\n    }\n\n    public WSCommonEmailEndPoint() {\n        super(__getWsdlLocation(), WSCOMMONEMAILENDPOINT_QNAME);\n    }\n    public WSCommonEmailEndPoint(WebServiceFeature... features) {\n        super(__getWsdlLocation(), WSCOMMONEMAILENDPOINT_QNAME, features);\n    }\n    public WSCommonEmailEndPoint(URL wsdlLocation) {\n        super(wsdlLocation, WSCOMMONEMAILENDPOINT_QNAME);\n    }\n    public WSCommonEmailEndPoint(URL wsdlLocation, WebServiceFeature... features) {\n        super(wsdlLocation, WSCOMMONEMAILENDPOINT_QNAME, features);\n    }\n    public WSCommonEmailEndPoint(URL wsdlLocation, QName serviceName) {\n        super(wsdlLocation, serviceName);\n    }\n    public WSCommonEmailEndPoint(URL wsdlLocation, QName serviceName, WebServiceFeature... features) {\n        super(wsdlLocation, serviceName, features);\n    }\n    @WebEndpoint(name = &quot;CommonEmailServicePort&quot;)\n    public CommonEmailService getCommonEmailServicePort() {\n        return super.getPort(new QName(&quot;http://servicio.ws.commonEmail.ban.example/&quot;, &quot;CommonEmailServicePort&quot;), CommonEmailService.class);\n    }\n    @WebEndpoint(name = &quot;CommonEmailServicePort&quot;)\n    public CommonEmailService getCommonEmailServicePort(WebServiceFeature... features) {\n        return super.getPort(new QName(&quot;http://servicio.ws.commonEmail.ban.example/&quot;, &quot;CommonEmailServicePort&quot;), CommonEmailService.class, features);\n    }\n    private static URL __getWsdlLocation() {\n        if (WSCOMMONEMAILENDPOINT_EXCEPTION!= null) {\n            throw WSCOMMONEMAILENDPOINT_EXCEPTION;\n        }\n        return WSCOMMONEMAILENDPOINT_WSDL_LOCATION;\n    }\n\n}\n</code></pre>\n<p>The invocation to the wsdl webservice was expected to be executed, I see no error in the WSCommonEmailEndPoint class, I have another project that consumes a wsdl in a similar way.</p>\n"},{"tags":["java","window","awt","repaint"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1689024020,"post_id":76657011,"comment_id":135152030,"body_markdown":"I don&#39;t see anything in your code that would cause the Window to repaint itself. Not really sure what you are trying to do. See: https://stackoverflow.com/a/54028681/131872 for an example uses Swing and a Timer to do aniimation.","body":"I don&#39;t see anything in your code that would cause the Window to repaint itself. Not really sure what you are trying to do. See: <a href=\"https://stackoverflow.com/a/54028681/131872\">stackoverflow.com/a/54028681/131872</a> for an example uses Swing and a Timer to do aniimation."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1689028221,"post_id":76657011,"comment_id":135152567,"body_markdown":"Don&#39;t override `paint` of top level containers - they aren&#39;t double buffered","body":"Don&#39;t override <code>paint</code> of top level containers - they aren&#39;t double buffered"},{"owner":{"account_id":28989745,"reputation":3,"user_id":22205792,"display_name":"Novality"},"score":0,"creation_date":1689029615,"post_id":76657011,"comment_id":135152708,"body_markdown":"@camickr i didn&#39;t include my entire program but I was calling w.update(); when appropriate","body":"@camickr i didn&#39;t include my entire program but I was calling w.update(); when appropriate"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1689033781,"post_id":76657011,"comment_id":135153099,"body_markdown":"@Novality Since `update` requires a `Graphics` context to passed to it - where are you getting the `Graphics` context from?  If you&#39;re using `getGraphics`, then this is not the right approach, as `getGraphics` returns a snapshot of the context previously used to paint the component, which will be painted over on the next refresh of the window. I suggest looking at [Painting in AWT and Swing](https://www.oracle.com/java/technologies/painting.html) to get a better understand of how the paint process actually works","body":"@Novality Since <code>update</code> requires a <code>Graphics</code> context to passed to it - where are you getting the <code>Graphics</code> context from?  If you&#39;re using <code>getGraphics</code>, then this is not the right approach, as <code>getGraphics</code> returns a snapshot of the context previously used to paint the component, which will be painted over on the next refresh of the window. I suggest looking at <a href=\"https://www.oracle.com/java/technologies/painting.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a> to get a better understand of how the paint process actually works"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1689036596,"post_id":76657011,"comment_id":135153352,"body_markdown":"update method should be w.repaint() not paint(g) , you could also use w.createBufferStrategy(2) or such.","body":"update method should be w.repaint() not paint(g) , you could also use w.createBufferStrategy(2) or such."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689033455,"creation_date":1689033455,"answer_id":76657974,"question_id":76657011,"body_markdown":"You problem is pretty basic - you need some way to update the UI on a regular bases.\r\n\r\nYour problem is further complicated by the fact that Swing is single thread and NOT thread safe.  Lucky for you, the Swing team fore saw this issue and provided the Swing `Timer` class.\r\n\r\nStart by seeing [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) and [How to Use Swing Timers](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html) for more details.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.RenderingHints;\r\n    import java.awt.Shape;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.geom.Ellipse2D;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.Timer;\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame window = new JFrame();\r\n                    window.setUndecorated(true);\r\n                    window.setBackground(new Color(0, true));\r\n                    window.add(new TestPane());\r\n                    window.pack();\r\n                    window.setLocationRelativeTo(null);\r\n                    window.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n            enum Direction {\r\n                UP, DOWN;\r\n            }\r\n\r\n            private Timer timer;\r\n\r\n            private Direction direction = Direction.UP;\r\n            private double yDelta = 2;\r\n            private double yPos = 380;\r\n\r\n            private Shape ball = new Ellipse2D.Double(0, 0, 20, 20);\r\n\r\n            public TestPane() {\r\n                setOpaque(false);\r\n\r\n                timer = new Timer(5, new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        if (direction == Direction.UP) {\r\n                            yPos -= yDelta;\r\n                            yDelta -= 0.006;\r\n                            if (yDelta &lt;= 0.0) {\r\n                                yDelta = 0;\r\n                                direction = Direction.DOWN;\r\n                            }\r\n                            if (yPos &lt; 0) {\r\n                                yPos = 0;\r\n                                direction = Direction.DOWN;\r\n                            }\r\n                        } else if (direction == Direction.DOWN) {\r\n                            yPos += yDelta;\r\n                            yDelta += 0.01;\r\n                            if (yDelta &gt; 2.0) {\r\n                                yDelta = 2.0;\r\n                            }\r\n                            if (yPos + ball.getBounds().height &gt; getHeight()) {\r\n                                yPos = getHeight() - ball.getBounds().height;\r\n                                direction = Direction.UP;\r\n                                yDelta = 2;\r\n                            }\r\n                        }\r\n                        repaint();\r\n                    }\r\n                });\r\n            }\r\n\r\n            @Override\r\n            public void addNotify() {\r\n                super.addNotify();\r\n                timer.start();\r\n            }\r\n\r\n            @Override\r\n            public void removeNotify() {\r\n                timer.stop();\r\n                super.removeNotify();\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(400, 400);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                RenderingHints hints = new RenderingHints(\r\n                        RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON\r\n                );\r\n                g2d.setColor(Color.RED);\r\n                g2d.drawRect(0, 0, getWidth() - 1, getHeight() - 1);\r\n                g2d.translate(190, yPos);\r\n                g2d.fill(ball);\r\n                g2d.dispose();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hMfa8.gif","title":"Creating and using an invisible, topmost, non-interactable window for &quot;screen-drawing&quot;","body":"<p>You problem is pretty basic - you need some way to update the UI on a regular bases.</p>\n<p>Your problem is further complicated by the fact that Swing is single thread and NOT thread safe.  Lucky for you, the Swing team fore saw this issue and provided the Swing <code>Timer</code> class.</p>\n<p>Start by seeing <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">How to Use Swing Timers</a> for more details.</p>\n<p><a href=\"https://i.stack.imgur.com/hMfa8.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hMfa8.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.RenderingHints;\nimport java.awt.Shape;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.geom.Ellipse2D;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\n\npublic class Test {\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame window = new JFrame();\n                window.setUndecorated(true);\n                window.setBackground(new Color(0, true));\n                window.add(new TestPane());\n                window.pack();\n                window.setLocationRelativeTo(null);\n                window.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n        enum Direction {\n            UP, DOWN;\n        }\n\n        private Timer timer;\n\n        private Direction direction = Direction.UP;\n        private double yDelta = 2;\n        private double yPos = 380;\n\n        private Shape ball = new Ellipse2D.Double(0, 0, 20, 20);\n\n        public TestPane() {\n            setOpaque(false);\n\n            timer = new Timer(5, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    if (direction == Direction.UP) {\n                        yPos -= yDelta;\n                        yDelta -= 0.006;\n                        if (yDelta &lt;= 0.0) {\n                            yDelta = 0;\n                            direction = Direction.DOWN;\n                        }\n                        if (yPos &lt; 0) {\n                            yPos = 0;\n                            direction = Direction.DOWN;\n                        }\n                    } else if (direction == Direction.DOWN) {\n                        yPos += yDelta;\n                        yDelta += 0.01;\n                        if (yDelta &gt; 2.0) {\n                            yDelta = 2.0;\n                        }\n                        if (yPos + ball.getBounds().height &gt; getHeight()) {\n                            yPos = getHeight() - ball.getBounds().height;\n                            direction = Direction.UP;\n                            yDelta = 2;\n                        }\n                    }\n                    repaint();\n                }\n            });\n        }\n\n        @Override\n        public void addNotify() {\n            super.addNotify();\n            timer.start();\n        }\n\n        @Override\n        public void removeNotify() {\n            timer.stop();\n            super.removeNotify();\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(400, 400);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            RenderingHints hints = new RenderingHints(\n                    RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON\n            );\n            g2d.setColor(Color.RED);\n            g2d.drawRect(0, 0, getWidth() - 1, getHeight() - 1);\n            g2d.translate(190, yPos);\n            g2d.fill(ball);\n            g2d.dispose();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28989745,"reputation":3,"user_id":22205792,"display_name":"Novality"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689062087,"creation_date":1689062087,"answer_id":76659772,"question_id":76657011,"body_markdown":"MadProgrammer&#39;s solution was mostly correct. But I went a step further to address a few things.\r\n\r\nI changed the JFrame to a JWindow and removed the call to setUndecorated. This kept functionality and removed the window from the taskbar.\r\n\r\nNext and optionally, I used JNA to allow all inputs to pass through the window&#39;s components. My final solution is as follows, thanks for all of the help:\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Component;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.RenderingHints;\r\n    import java.awt.Shape;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.geom.Ellipse2D;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JWindow;\r\n    import javax.swing.Timer;\r\n    import com.sun.jna.*;\r\n    import com.sun.jna.platform.win32.WinDef.HWND;\r\n    import com.sun.jna.platform.win32.WinDef;\r\n    import com.sun.jna.platform.win32.User32;\r\n    import com.sun.jna.platform.win32.WinUser;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n    \r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JWindow window = new JWindow();\r\n                    window.setBackground(new Color(0, true));\r\n                    window.add(new TestPane());\r\n                    window.pack();\r\n                    window.setLocationRelativeTo(null);\r\n                    window.setVisible(true);\r\n                    window.setAlwaysOnTop(true);\r\n                    setTransparent(window);\r\n                }\r\n            });\r\n        }\r\n    \r\n        public static class TestPane extends JPanel {\r\n            enum Direction {\r\n                UP, DOWN;\r\n            }\r\n    \r\n            private Timer timer;\r\n    \r\n            private Direction direction = Direction.UP;\r\n            private double yDelta = 2;\r\n            private double yPos = 380;\r\n    \r\n            private Shape ball = new Ellipse2D.Double(0, 0, 20, 20);\r\n    \r\n            public TestPane() {\r\n                setOpaque(false);\r\n    \r\n                timer = new Timer(5, new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        if (direction == Direction.UP) {\r\n                            yPos -= yDelta;\r\n                            yDelta -= 0.006;\r\n                            if (yDelta &lt;= 0.0) {\r\n                                yDelta = 0;\r\n                                direction = Direction.DOWN;\r\n                            }\r\n                            if (yPos &lt; 0) {\r\n                                yPos = 0;\r\n                                direction = Direction.DOWN;\r\n                            }\r\n                        } else if (direction == Direction.DOWN) {\r\n                            yPos += yDelta;\r\n                            yDelta += 0.01;\r\n                            if (yDelta &gt; 2.0) {\r\n                                yDelta = 2.0;\r\n                            }\r\n                            if (yPos + ball.getBounds().height &gt; getHeight()) {\r\n                                yPos = getHeight() - ball.getBounds().height;\r\n                                direction = Direction.UP;\r\n                                yDelta = 2;\r\n                            }\r\n                        }\r\n                        repaint();\r\n                    }\r\n                });\r\n            }\r\n    \r\n            @Override\r\n            public void addNotify() {\r\n                super.addNotify();\r\n                timer.start();\r\n            }\r\n    \r\n            @Override\r\n            public void removeNotify() {\r\n                timer.stop();\r\n                super.removeNotify();\r\n            }\r\n    \r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(400, 400);\r\n            }\r\n    \r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                RenderingHints hints = new RenderingHints(\r\n                        RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON\r\n                );\r\n                g2d.setColor(Color.RED);\r\n                g2d.drawRect(0, 0, getWidth() - 1, getHeight() - 1);\r\n                g2d.translate(190, yPos);\r\n                g2d.fill(ball);\r\n                g2d.dispose();\r\n            }\r\n        }\r\n        \r\n        private static void setTransparent(Component w) {\r\n            WinDef.HWND hwnd = getHWnd(w);\r\n            int wl = User32.INSTANCE.GetWindowLong(hwnd, WinUser.GWL_EXSTYLE);\r\n            wl = wl | WinUser.WS_EX_LAYERED | WinUser.WS_EX_TRANSPARENT;\r\n            User32.INSTANCE.SetWindowLong(hwnd, WinUser.GWL_EXSTYLE, wl);\r\n        }\r\n    \r\n        /**\r\n         * Get the window handle from the OS\r\n         */\r\n        private static HWND getHWnd(Component w) {\r\n            HWND hwnd = new HWND();\r\n            hwnd.setPointer(Native.getComponentPointer(w));\r\n            return hwnd;\r\n        }\r\n    }","title":"Creating and using an invisible, topmost, non-interactable window for &quot;screen-drawing&quot;","body":"<p>MadProgrammer's solution was mostly correct. But I went a step further to address a few things.</p>\n<p>I changed the JFrame to a JWindow and removed the call to setUndecorated. This kept functionality and removed the window from the taskbar.</p>\n<p>Next and optionally, I used JNA to allow all inputs to pass through the window's components. My final solution is as follows, thanks for all of the help:</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Component;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.RenderingHints;\nimport java.awt.Shape;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.geom.Ellipse2D;\nimport javax.swing.JPanel;\nimport javax.swing.JWindow;\nimport javax.swing.Timer;\nimport com.sun.jna.*;\nimport com.sun.jna.platform.win32.WinDef.HWND;\nimport com.sun.jna.platform.win32.WinDef;\nimport com.sun.jna.platform.win32.User32;\nimport com.sun.jna.platform.win32.WinUser;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JWindow window = new JWindow();\n                window.setBackground(new Color(0, true));\n                window.add(new TestPane());\n                window.pack();\n                window.setLocationRelativeTo(null);\n                window.setVisible(true);\n                window.setAlwaysOnTop(true);\n                setTransparent(window);\n            }\n        });\n    }\n\n    public static class TestPane extends JPanel {\n        enum Direction {\n            UP, DOWN;\n        }\n\n        private Timer timer;\n\n        private Direction direction = Direction.UP;\n        private double yDelta = 2;\n        private double yPos = 380;\n\n        private Shape ball = new Ellipse2D.Double(0, 0, 20, 20);\n\n        public TestPane() {\n            setOpaque(false);\n\n            timer = new Timer(5, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    if (direction == Direction.UP) {\n                        yPos -= yDelta;\n                        yDelta -= 0.006;\n                        if (yDelta &lt;= 0.0) {\n                            yDelta = 0;\n                            direction = Direction.DOWN;\n                        }\n                        if (yPos &lt; 0) {\n                            yPos = 0;\n                            direction = Direction.DOWN;\n                        }\n                    } else if (direction == Direction.DOWN) {\n                        yPos += yDelta;\n                        yDelta += 0.01;\n                        if (yDelta &gt; 2.0) {\n                            yDelta = 2.0;\n                        }\n                        if (yPos + ball.getBounds().height &gt; getHeight()) {\n                            yPos = getHeight() - ball.getBounds().height;\n                            direction = Direction.UP;\n                            yDelta = 2;\n                        }\n                    }\n                    repaint();\n                }\n            });\n        }\n\n        @Override\n        public void addNotify() {\n            super.addNotify();\n            timer.start();\n        }\n\n        @Override\n        public void removeNotify() {\n            timer.stop();\n            super.removeNotify();\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(400, 400);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            RenderingHints hints = new RenderingHints(\n                    RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON\n            );\n            g2d.setColor(Color.RED);\n            g2d.drawRect(0, 0, getWidth() - 1, getHeight() - 1);\n            g2d.translate(190, yPos);\n            g2d.fill(ball);\n            g2d.dispose();\n        }\n    }\n    \n    private static void setTransparent(Component w) {\n        WinDef.HWND hwnd = getHWnd(w);\n        int wl = User32.INSTANCE.GetWindowLong(hwnd, WinUser.GWL_EXSTYLE);\n        wl = wl | WinUser.WS_EX_LAYERED | WinUser.WS_EX_TRANSPARENT;\n        User32.INSTANCE.SetWindowLong(hwnd, WinUser.GWL_EXSTYLE, wl);\n    }\n\n    /**\n     * Get the window handle from the OS\n     */\n    private static HWND getHWnd(Component w) {\n        HWND hwnd = new HWND();\n        hwnd.setPointer(Native.getComponentPointer(w));\n        return hwnd;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28989745,"reputation":3,"user_id":22205792,"display_name":"Novality"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76657974,"answer_count":2,"score":0,"last_activity_date":1689062087,"creation_date":1689019723,"question_id":76657011,"body_markdown":"I&#39;ve been struggling to get this to work. The only solution (but terrible solution) I found was re creating a new window every frame which is horrible for performance and other obvious reasons. Here is what I have but I&#39;m unsure about how I can go about redrawing every frame. Or if there&#39;s another approach I can take to achieve the same functionality, how can I go about doing it?\r\n\r\n```\r\npublic static Window w = null;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\n    private static void initializeWindow(final Dimension d) {\r\n        int windowHeight = d.height - 1; \r\n        \r\n        w = new Window(null) {\r\n            \r\n            @Override\r\n            public void paint(Graphics g) {\r\n                super.paint(g);\r\n                Graphics2D g2d = (Graphics2D) g;\r\n                        //painting goes here (but it only seems to draw for one frame)\r\n                        //for some repainting doesn&#39;t seem to work\r\n            }\r\n            \r\n            @Override\r\n            public void update(Graphics g) {\r\n                paint(g);\r\n                System.out.println(true);\r\n            }\r\n            \r\n        };\r\n        \r\n        w.setAlwaysOnTop(true);\r\n        w.setBounds(0, 0, d.width, windowHeight);\r\n        w.setBackground(new Color(0, true));\r\n        w.setVisible(true);\r\n    }\r\n```\r\n\r\nI tried the code block attached and I expected to be able to update the window every frame with newly painted stuff.","title":"Creating and using an invisible, topmost, non-interactable window for &quot;screen-drawing&quot;","body":"<p>I've been struggling to get this to work. The only solution (but terrible solution) I found was re creating a new window every frame which is horrible for performance and other obvious reasons. Here is what I have but I'm unsure about how I can go about redrawing every frame. Or if there's another approach I can take to achieve the same functionality, how can I go about doing it?</p>\n<pre><code>public static Window w = null;\n\n@SuppressWarnings(&quot;serial&quot;)\n    private static void initializeWindow(final Dimension d) {\n        int windowHeight = d.height - 1; \n        \n        w = new Window(null) {\n            \n            @Override\n            public void paint(Graphics g) {\n                super.paint(g);\n                Graphics2D g2d = (Graphics2D) g;\n                        //painting goes here (but it only seems to draw for one frame)\n                        //for some repainting doesn't seem to work\n            }\n            \n            @Override\n            public void update(Graphics g) {\n                paint(g);\n                System.out.println(true);\n            }\n            \n        };\n        \n        w.setAlwaysOnTop(true);\n        w.setBounds(0, 0, d.width, windowHeight);\n        w.setBackground(new Color(0, true));\n        w.setVisible(true);\n    }\n</code></pre>\n<p>I tried the code block attached and I expected to be able to update the window every frame with newly painted stuff.</p>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":1,"creation_date":1685631637,"post_id":76383244,"comment_id":134690327,"body_markdown":"Just `.replace(&quot;apple&quot;, &quot;&quot;)` will do. There is nothing overlapping here.","body":"Just <code>.replace(&quot;apple&quot;, &quot;&quot;)</code> will do. There is nothing overlapping here."},{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1685631642,"post_id":76383244,"comment_id":134690328,"body_markdown":"What&#39;s you tried?","body":"What&#39;s you tried?"},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1685631775,"post_id":76383244,"comment_id":134690359,"body_markdown":"If it is supposed to delete all substring why woudn&#39;t it delete all `&quot;a&quot;` or all `&quot;p&quot;`, or all `&quot;pp&quot;`?  What is the rule that `&quot;apple&quot;` is a valid substring that should be deleted but not `&quot;a&quot;`?","body":"If it is supposed to delete all substring why woudn&#39;t it delete all <code>&quot;a&quot;</code> or all <code>&quot;p&quot;</code>, or all <code>&quot;pp&quot;</code>?  What is the rule that <code>&quot;apple&quot;</code> is a valid substring that should be deleted but not <code>&quot;a&quot;</code>?"},{"owner":{"account_id":21473693,"reputation":31,"user_id":15822298,"display_name":"Indefatigablex"},"score":0,"creation_date":1685632036,"post_id":76383244,"comment_id":134690430,"body_markdown":"Thanks all for helping me. However the pattern isn&#39;t fixed, so I the suggestions wouldn&#39;t work in my case.","body":"Thanks all for helping me. However the pattern isn&#39;t fixed, so I the suggestions wouldn&#39;t work in my case."},{"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1685632075,"post_id":76383244,"comment_id":134690442,"body_markdown":"@markalex I am sure OP is overthinking it, I deduce it from the question wording. It can also be one of those cases when OP actually needs something totally different from what OP says.","body":"@markalex I am sure OP is overthinking it, I deduce it from the question wording. It can also be one of those cases when OP actually needs something totally different from what OP says."},{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":0,"creation_date":1685632135,"post_id":76383244,"comment_id":134690459,"body_markdown":"@WiktorStribiżew, yes, I see it now)","body":"@WiktorStribiżew, yes, I see it now)"},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1685632297,"post_id":76383244,"comment_id":134690500,"body_markdown":"Sounds like a [X/Y problem](https://en.wikipedia.org/wiki/XY_problem) to me. Because the solution to your problem is just `.replaceAll(&quot;apple&quot;, &quot;&quot;);`","body":"Sounds like a <a href=\"https://en.wikipedia.org/wiki/XY_problem\" rel=\"nofollow noreferrer\">X/Y problem</a> to me. Because the solution to your problem is just <code>.replaceAll(&quot;apple&quot;, &quot;&quot;);</code>"},{"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1685632304,"post_id":76383244,"comment_id":134690502,"body_markdown":"@markalex And now I think your suggestion was correct. Two or more consecutive occurrences of `apple`.","body":"@markalex And now I think your suggestion was correct. Two or more consecutive occurrences of <code>apple</code>."},{"owner":{"account_id":21473693,"reputation":31,"user_id":15822298,"display_name":"Indefatigablex"},"score":0,"creation_date":1685632498,"post_id":76383244,"comment_id":134690554,"body_markdown":"@markalex would you read part I just added? The program should not replace &quot;apple&quot; by itself. &quot;applebanana&quot; should remain &quot;applebanana&quot; after the process, since there is no &quot;apple&quot; in it. Also, I cannot just split the input into two parts since the pattern isn&#39;t fixed. Thanks.","body":"@markalex would you read part I just added? The program should not replace &quot;apple&quot; by itself. &quot;applebanana&quot; should remain &quot;applebanana&quot; after the process, since there is no &quot;apple&quot; in it. Also, I cannot just split the input into two parts since the pattern isn&#39;t fixed. Thanks."},{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":0,"creation_date":1685632520,"post_id":76383244,"comment_id":134690560,"body_markdown":"@WiktorStribiżew, it will require converting string from repeated into regex `appleapple` -&gt; `(?:apple){2,}`, `aaaa` -&gt; `(?:a){4,}` and then replacing. I don&#39;t think this is better or &quot;fancier&quot; way. It is just plain simple over complication, IMO. Suggestion from question itself will be easier to maintain.","body":"@WiktorStribiżew, it will require converting string from repeated into regex <code>appleapple</code> -&gt; <code>(?:apple){2,}</code>, <code>aaaa</code> -&gt; <code>(?:a){4,}</code> and then replacing. I don&#39;t think this is better or &quot;fancier&quot; way. It is just plain simple over complication, IMO. Suggestion from question itself will be easier to maintain."},{"owner":{"account_id":21473693,"reputation":31,"user_id":15822298,"display_name":"Indefatigablex"},"score":0,"creation_date":1685632777,"post_id":76383244,"comment_id":134690643,"body_markdown":"@WiktorStribiżew Thanks for your suggestion.The terminology &quot;fancier&quot; meant that making a helper function for things like just &quot;replacing a pattern&quot; isn&#39;t recommended, since it requires extra unit testing &amp; performance evaluation due to company&#39;s rules. So I was just seeking for a java api that would allow me to do the same thing.\n\nAlso, for instance &quot;aaabbbaaabbbaaa&quot; should be &quot;&quot; when the remove-pattern is &quot;aaabbbaaa&quot;, which makes it harder to generate a regex expression for it.\n\nMaybe I&#39;ll just have to implement it myself :(","body":"@WiktorStribiżew Thanks for your suggestion.The terminology &quot;fancier&quot; meant that making a helper function for things like just &quot;replacing a pattern&quot; isn&#39;t recommended, since it requires extra unit testing &amp; performance evaluation due to company&#39;s rules. So I was just seeking for a java api that would allow me to do the same thing.  Also, for instance &quot;aaabbbaaabbbaaa&quot; should be &quot;&quot; when the remove-pattern is &quot;aaabbbaaa&quot;, which makes it harder to generate a regex expression for it.  Maybe I&#39;ll just have to implement it myself :("},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1685633396,"post_id":76383244,"comment_id":134690813,"body_markdown":"@Indefatigablex I&#39;m still not sure why &quot;remove any substring that is repeated&quot; would result in turning &quot;appleappleapplebanana&quot; to &quot;applebanana&quot;. Is there some minimum length required for the substrings to be replaced? Because otherwise replacing any repetition would give the end result of &quot;aplebana&quot; Because &quot;p&quot;  and &quot;na&quot; are substrings that are repeated as well in &quot;applebanana&quot;","body":"@Indefatigablex I&#39;m still not sure why &quot;remove any substring that is repeated&quot; would result in turning &quot;appleappleapplebanana&quot; to &quot;applebanana&quot;. Is there some minimum length required for the substrings to be replaced? Because otherwise replacing any repetition would give the end result of &quot;aplebana&quot; Because &quot;p&quot;  and &quot;na&quot; are substrings that are repeated as well in &quot;applebanana&quot;"},{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":0,"creation_date":1685633451,"post_id":76383244,"comment_id":134690830,"body_markdown":"@Indefatigablex, I don&#39;t believe there is something like this already available. You&#39;ll need to do wrapper of some kind for this. I recommend implementing solution based on your own description.","body":"@Indefatigablex, I don&#39;t believe there is something like this already available. You&#39;ll need to do wrapper of some kind for this. I recommend implementing solution based on your own description."},{"owner":{"account_id":21473693,"reputation":31,"user_id":15822298,"display_name":"Indefatigablex"},"score":0,"creation_date":1685634268,"post_id":76383244,"comment_id":134691050,"body_markdown":"@OHGODSPIDERS &quot;appleappleapplebanana&quot; should be &quot;banana&quot;. English isn&#39;t my first language, and seems like I failed to clarify what I wanted. The term &quot;repeated&quot; isn&#39;t that important, and just matching literally ALL occurrences is required. However thanks for your interest!","body":"@OHGODSPIDERS &quot;appleappleapplebanana&quot; should be &quot;banana&quot;. English isn&#39;t my first language, and seems like I failed to clarify what I wanted. The term &quot;repeated&quot; isn&#39;t that important, and just matching literally ALL occurrences is required. However thanks for your interest!"},{"owner":{"account_id":21473693,"reputation":31,"user_id":15822298,"display_name":"Indefatigablex"},"score":0,"creation_date":1685634375,"post_id":76383244,"comment_id":134691079,"body_markdown":"@markalex yup I ended up making my own function. I appreciate your help!","body":"@markalex yup I ended up making my own function. I appreciate your help!"},{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":0,"creation_date":1685642236,"post_id":76383244,"comment_id":134692711,"body_markdown":"May the pattern length be used in the regex? E.g. [`.{1,10}(?&lt;=appleapple)`](https://regex101.com/r/Yr8daE/2) where `10` will be the length of `appleapple`.","body":"May the pattern length be used in the regex? E.g. <a href=\"https://regex101.com/r/Yr8daE/2\" rel=\"nofollow noreferrer\"><code>.{1,10}(?&lt;=appleapple)</code></a> where <code>10</code> will be the length of <code>appleapple</code>."},{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":0,"creation_date":1685643225,"post_id":76383244,"comment_id":134692911,"body_markdown":"@bobblebubble, since you will need to dynamically create such regex anyway, I don&#39;t see any problem with using length. (OP might find such solution inappropriate for their situation with requirements, but at least from research stand point it will be interesting if you&#39;ll find a solution)","body":"@bobblebubble, since you will need to dynamically create such regex anyway, I don&#39;t see any problem with using length. (OP might find such solution inappropriate for their situation with requirements, but at least from research stand point it will be interesting if you&#39;ll find a solution)"},{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":0,"creation_date":1685728356,"post_id":76383244,"comment_id":134706928,"body_markdown":"@Indefatigablex, feel free to provide your regex-free solution as an answer, since this question is reopened.","body":"@Indefatigablex, feel free to provide your regex-free solution as an answer, since this question is reopened."},{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":0,"creation_date":1685735665,"post_id":76383244,"comment_id":134708229,"body_markdown":"@bobblebubble, believe it worth the answer. At least for science. Also, you&#39;ll have a chance to explain why it works, because it might be not obvious on the first glance.","body":"@bobblebubble, believe it worth the answer. At least for science. Also, you&#39;ll have a chance to explain why it works, because it might be not obvious on the first glance."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685762611,"post_id":76383244,"comment_id":134710542,"body_markdown":"Technically, you&#39;re saying _&quot;over-lapping&quot;_, which would mean, _&quot;appleappleappleappleapplebanana&quot;_ is _&quot;applebanana&quot;_, and not _&quot;banana&quot;_.  What you&#39;re referring to would be called _&quot;repeating&quot;_.  To &quot;overlap&quot;, means to _&quot;cover partly&quot;_.","body":"Technically, you&#39;re saying <i>&quot;over-lapping&quot;</i>, which would mean, <i>&quot;appleappleappleappleapplebanana&quot;</i> is <i>&quot;applebanana&quot;</i>, and not <i>&quot;banana&quot;</i>.  What you&#39;re referring to would be called <i>&quot;repeating&quot;</i>.  To &quot;overlap&quot;, means to <i>&quot;cover partly&quot;</i>."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1685806881,"creation_date":1685764072,"answer_id":76394482,"question_id":76383244,"body_markdown":"Technically, this is over-lapping.\r\n\r\n```\r\nappleapple\r\n     appleappleappleapple\r\n                    appleapple\r\n```\r\n\r\nAnd, this is repeating.\r\n\r\n```none\r\nappleapple\r\n     appleapple\r\n          appleapple\r\n```\r\n\r\nAlthough, you could refer to the latter as, _having over-lapped_.  \r\nWhich, intrinsically, is not a property of a pattern that is considered to have a repeating quality.  \r\nIt would be inherent at that point&amp;mdash;redundant&amp;mdash;it&#39;s just a description.\r\n\r\nIn addition to _String#replace_ there is also _[String#replaceAll](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String))_.  \r\nIt uses a _[regular expression pattern](https://en.wikipedia.org/wiki/Regular_expression)_ as the first argument.\r\n\r\nYou could use the following pattern to replace repeating values that have over-lapped.\r\n\r\n```none\r\n(apple)\\1+\r\n```\r\n\r\n```java\r\nreplaceAll(&quot;(apple)\\\\1+&quot;, &quot;&quot;)\r\n```\r\n\r\nI&#39;m not sure if there is a way to remove _over-lapping_ values using a single pattern.  \r\nI imagine it would be much more complex.\r\n\r\nYou mentioned _&quot;... mark corresponding characters as &#39;to-be deleted&#39;&quot;_.  \r\nThis would most likely be the logical way to remove truly over-lapping values.","title":"Removing all occurrences of the specified substring, even overlapping ones","body":"<p>Technically, this is over-lapping.</p>\n<pre><code>appleapple\n     appleappleappleapple\n                    appleapple\n</code></pre>\n<p>And, this is repeating.</p>\n<pre class=\"lang-none prettyprint-override\"><code>appleapple\n     appleapple\n          appleapple\n</code></pre>\n<p>Although, you could refer to the latter as, <em>having over-lapped</em>.<br />\nWhich, intrinsically, is not a property of a pattern that is considered to have a repeating quality.<br />\nIt would be inherent at that point—redundant—it's just a description.</p>\n<p>In addition to <em>String#replace</em> there is also <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\">String#replaceAll</a></em>.<br />\nIt uses a <em><a href=\"https://en.wikipedia.org/wiki/Regular_expression\" rel=\"nofollow noreferrer\">regular expression pattern</a></em> as the first argument.</p>\n<p>You could use the following pattern to replace repeating values that have over-lapped.</p>\n<pre class=\"lang-none prettyprint-override\"><code>(apple)\\1+\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>replaceAll(&quot;(apple)\\\\1+&quot;, &quot;&quot;)\n</code></pre>\n<p>I'm not sure if there is a way to remove <em>over-lapping</em> values using a single pattern.<br />\nI imagine it would be much more complex.</p>\n<p>You mentioned <em>&quot;... mark corresponding characters as 'to-be deleted'&quot;</em>.<br />\nThis would most likely be the logical way to remove truly over-lapping values.</p>\n"},{"tags":[],"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685871541,"creation_date":1685788929,"answer_id":76395681,"question_id":76383244,"body_markdown":"The question was a bit confusing at first. After the updates I think the best provided example to illustrate the problem is matching the &quot;pattern&quot; `aaabbbaaa` in `aaabbbaaabbbaaa`.\r\n\r\n    aaabbbaaabbbaaa\r\n    aaabbbaaa\r\n          aaabbbaaa\r\n          ^-^        &lt; overlapping part\r\n    ^-------------^  &lt; match this part: &#39;aaa&#39; is overlapping\r\n\r\nIf *length* of the &quot;pattern&quot;-string may be used in the regex, a [lookbehind][1] could be used:\r\n\r\n    .{1,9}(?&lt;=aaabbbaaa)\r\n\r\n[This regex (demo)][2] will match from one to the strings length characters as long as `aaabbbaaa` is behind. So that will match `aaabbbaaa` but also `bbbaaa` because the last `a` is also preceded by `aaabbbaaa` and due to the length restriction it will not skip over any other substring. It will also [match *non-overlaps* in `aaabbbaaaaaabbbaaa`][3] but [leave e.g. `ccc` in `aaabbbaaacccaaabbbaaa`][4].\r\n\r\n[A Java demo at tio.run][5] with incorporating the length:\r\n\r\n    String regex = &quot;.{1,&quot; + pat.length() + &quot;}(?&lt;=&quot; + pat + &quot;)&quot;;\r\n    Pattern p = Pattern.compile(regex);\r\n    String result = p.matcher(str).replaceAll(&quot;&quot;);\r\n\r\n*Update including parts of [@markalex idea][6]*: For better performance, especially with longer inputs first match the &quot;pattern&quot; once and wrap the lookbehind part into a repeated group ([regex101 demo][7]).\r\n\r\n    aaabbbaaa(?:.{1,9}(?&lt;=aaabbbaaa))*\r\n\r\nThis will also lead to getting one match for the adjacent parts which might be desired anyways. Further you can use [`\\w` (word character)][8] instead of the dot if input contains non-word characters.\r\n\r\n\r\n  [1]: https://www.regular-expressions.info/lookaround.html\r\n  [2]: https://regex101.com/r/7c5W8Q/4\r\n  [3]: https://regex101.com/r/7c5W8Q/2\r\n  [4]: https://regex101.com/r/7c5W8Q/3\r\n  [5]: https://tio.run/##lVHLbsMgELz7K1acsJoi9ewmVT8gUqUe2x7WDnJIMUaAo1ZRvt1dA0mdPqRW2LCzzMAsu8M9Xu82r@OoOtu7ADtKiCEoLZxs5ZtYY2i20lXFL/sPGIJ0pioKO9RaNdBo9B7WqExxKAB8wEDZfa82FDtlH4Pj9CvTTngBObYYSqJPEjjl4g2wBCYONwsGVxNJaGnasOUlQXbkd7fLvDHhklVRn02BJXGORdN3VmnJ46FldXmPH3QgrhVdKpeTtZIqtBobea81Z4wkSfPug@xEPwRhSR204TEPwHw6brmimOwQnEw9GwInis3OiDPzfUHJVa8gnZLgd1KyvDqRIkysyIkVHifLuS/zRnTUndyEpxdA1/rPtz83iaG1WsapRkODLWCWY/kNf@L/V/RHKmJd1@c50s/gG7tGRx@NHMyXSfolk9/rOI4f\r\n  [6]: https://stackoverflow.com/questions/76383244/removing-all-occurrences-of-the-specified-substring-even-overlapping-ones/76395681#comment134718303_76395681\r\n  [7]: https://regex101.com/r/7g7WRL/3\r\n  [8]: https://www.regular-expressions.info/shorthand.html","title":"Removing all occurrences of the specified substring, even overlapping ones","body":"<p>The question was a bit confusing at first. After the updates I think the best provided example to illustrate the problem is matching the &quot;pattern&quot; <code>aaabbbaaa</code> in <code>aaabbbaaabbbaaa</code>.</p>\n<pre><code>aaabbbaaabbbaaa\naaabbbaaa\n      aaabbbaaa\n      ^-^        &lt; overlapping part\n^-------------^  &lt; match this part: 'aaa' is overlapping\n</code></pre>\n<p>If <em>length</em> of the &quot;pattern&quot;-string may be used in the regex, a <a href=\"https://www.regular-expressions.info/lookaround.html\" rel=\"nofollow noreferrer\">lookbehind</a> could be used:</p>\n<pre><code>.{1,9}(?&lt;=aaabbbaaa)\n</code></pre>\n<p><a href=\"https://regex101.com/r/7c5W8Q/4\" rel=\"nofollow noreferrer\">This regex (demo)</a> will match from one to the strings length characters as long as <code>aaabbbaaa</code> is behind. So that will match <code>aaabbbaaa</code> but also <code>bbbaaa</code> because the last <code>a</code> is also preceded by <code>aaabbbaaa</code> and due to the length restriction it will not skip over any other substring. It will also <a href=\"https://regex101.com/r/7c5W8Q/2\" rel=\"nofollow noreferrer\">match <em>non-overlaps</em> in <code>aaabbbaaaaaabbbaaa</code></a> but <a href=\"https://regex101.com/r/7c5W8Q/3\" rel=\"nofollow noreferrer\">leave e.g. <code>ccc</code> in <code>aaabbbaaacccaaabbbaaa</code></a>.</p>\n<p><a href=\"https://tio.run/##lVHLbsMgELz7K1acsJoi9ewmVT8gUqUe2x7WDnJIMUaAo1ZRvt1dA0mdPqRW2LCzzMAsu8M9Xu82r@OoOtu7ADtKiCEoLZxs5ZtYY2i20lXFL/sPGIJ0pioKO9RaNdBo9B7WqExxKAB8wEDZfa82FDtlH4Pj9CvTTngBObYYSqJPEjjl4g2wBCYONwsGVxNJaGnasOUlQXbkd7fLvDHhklVRn02BJXGORdN3VmnJ46FldXmPH3QgrhVdKpeTtZIqtBobea81Z4wkSfPug@xEPwRhSR204TEPwHw6brmimOwQnEw9GwInis3OiDPzfUHJVa8gnZLgd1KyvDqRIkysyIkVHifLuS/zRnTUndyEpxdA1/rPtz83iaG1WsapRkODLWCWY/kNf@L/V/RHKmJd1@c50s/gG7tGRx@NHMyXSfolk9/rOI4f\" rel=\"nofollow noreferrer\">A Java demo at tio.run</a> with incorporating the length:</p>\n<pre><code>String regex = &quot;.{1,&quot; + pat.length() + &quot;}(?&lt;=&quot; + pat + &quot;)&quot;;\nPattern p = Pattern.compile(regex);\nString result = p.matcher(str).replaceAll(&quot;&quot;);\n</code></pre>\n<p><em>Update including parts of <a href=\"https://stackoverflow.com/questions/76383244/removing-all-occurrences-of-the-specified-substring-even-overlapping-ones/76395681#comment134718303_76395681\">@markalex idea</a></em>: For better performance, especially with longer inputs first match the &quot;pattern&quot; once and wrap the lookbehind part into a repeated group (<a href=\"https://regex101.com/r/7g7WRL/3\" rel=\"nofollow noreferrer\">regex101 demo</a>).</p>\n<pre><code>aaabbbaaa(?:.{1,9}(?&lt;=aaabbbaaa))*\n</code></pre>\n<p>This will also lead to getting one match for the adjacent parts which might be desired anyways. Further you can use <a href=\"https://www.regular-expressions.info/shorthand.html\" rel=\"nofollow noreferrer\"><code>\\w</code> (word character)</a> instead of the dot if input contains non-word characters.</p>\n"}],"owner":{"account_id":21473693,"reputation":31,"user_id":15822298,"display_name":"Indefatigablex"},"comment_count":20,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":5,"up_vote_count":3,"answer_count":2,"score":-2,"last_activity_date":1689061645,"creation_date":1685631522,"question_id":76383244,"body_markdown":"For example, the source string is &quot;appleappleapplebanana&quot; and pattern I want to delete &quot;appleapple&quot;. \r\n\r\nI want it to delete all &quot;appleapple&quot; even if they overlap, so that only &quot;banana&quot; is left.\r\n```\r\nappleappleapplebanana\r\n^^^^^^^^^^              &lt;-first  occurrence\r\n     ^^^^^^^^^^         &lt;-second occurrence     \r\n```\r\n\r\nIf I use replaceAll, the result is &quot;applebanana&quot; since after deleting the first one, the remaining part is just &quot;applebanana&quot;.\r\n\r\nExpected results:\r\n\r\n|Input| Pattern| Result |\r\n|--|--|--|\r\n|&quot;appleapplebanana&quot;|&quot;appleapple&quot;|&quot;banana&quot;|\r\n|&quot;appleapplebanana&quot;|&quot;appleapple&quot;|&quot;banana&quot;|\r\n|&quot;appleappleapplebanana&quot;|&quot;appleapple&quot;|&quot;banana&quot;|\r\n|&quot;applebanana&quot;|&quot;appleapple&quot;|&quot;applebanana&quot;|\r\n|&quot;aaabbbaaabbbaaa&quot;|&quot;aaabbbaaa&quot;|&quot;&quot;(empty string)|\r\n\r\nI need to process arbitrary input patterns, so just using `replace(&quot;apple&quot;)` wouldn&#39;t work.\r\n\r\nThough I have an idea for this:\r\n1. Get all occurences (using something like KMP)\r\n2. Mark corresponding characters as &quot;to-be deleted&quot;\r\n3. Delete marked characters\r\n\r\nHowever, I would like to know if there is a better (&lt;s&gt;fancier&lt;/s&gt; ready made) way to achieve this.\r\n&lt;br&gt;\r\n&lt;br&gt;\r\n&lt;br&gt;\r\n\r\n\r\n\r\n**I ended up making my own function using the idea above, since no common libraries nor packages seems to support this feature.**","title":"Removing all occurrences of the specified substring, even overlapping ones","body":"<p>For example, the source string is &quot;appleappleapplebanana&quot; and pattern I want to delete &quot;appleapple&quot;.</p>\n<p>I want it to delete all &quot;appleapple&quot; even if they overlap, so that only &quot;banana&quot; is left.</p>\n<pre><code>appleappleapplebanana\n^^^^^^^^^^              &lt;-first  occurrence\n     ^^^^^^^^^^         &lt;-second occurrence     \n</code></pre>\n<p>If I use replaceAll, the result is &quot;applebanana&quot; since after deleting the first one, the remaining part is just &quot;applebanana&quot;.</p>\n<p>Expected results:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Input</th>\n<th>Pattern</th>\n<th>Result</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>&quot;appleapplebanana&quot;</td>\n<td>&quot;appleapple&quot;</td>\n<td>&quot;banana&quot;</td>\n</tr>\n<tr>\n<td>&quot;appleapplebanana&quot;</td>\n<td>&quot;appleapple&quot;</td>\n<td>&quot;banana&quot;</td>\n</tr>\n<tr>\n<td>&quot;appleappleapplebanana&quot;</td>\n<td>&quot;appleapple&quot;</td>\n<td>&quot;banana&quot;</td>\n</tr>\n<tr>\n<td>&quot;applebanana&quot;</td>\n<td>&quot;appleapple&quot;</td>\n<td>&quot;applebanana&quot;</td>\n</tr>\n<tr>\n<td>&quot;aaabbbaaabbbaaa&quot;</td>\n<td>&quot;aaabbbaaa&quot;</td>\n<td>&quot;&quot;(empty string)</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I need to process arbitrary input patterns, so just using <code>replace(&quot;apple&quot;)</code> wouldn't work.</p>\n<p>Though I have an idea for this:</p>\n<ol>\n<li>Get all occurences (using something like KMP)</li>\n<li>Mark corresponding characters as &quot;to-be deleted&quot;</li>\n<li>Delete marked characters</li>\n</ol>\n<p>However, I would like to know if there is a better (<s>fancier</s> ready made) way to achieve this.\n<br>\n<br>\n<br></p>\n<p><strong>I ended up making my own function using the idea above, since no common libraries nor packages seems to support this feature.</strong></p>\n"},{"tags":["java","arrays","data-structures","binary-search"],"comments":[{"owner":{"account_id":17313413,"reputation":7,"user_id":12540455,"display_name":"S K"},"score":0,"creation_date":1689065503,"post_id":76659705,"comment_id":135156817,"body_markdown":"since start and end comes closer to each other untill it gives the middle element i.e.&#39; the target hence it would always return when target==middle.","body":"since start and end comes closer to each other untill it gives the middle element i.e.&#39; the target hence it would always return when target==middle."}],"owner":{"account_id":17313413,"reputation":7,"user_id":12540455,"display_name":"S K"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689061600,"creation_date":1689061555,"question_id":76659705,"body_markdown":"Am trying to find the indices of the target number in an mountain array as mentioned in the leetcode [problem](https://leetcode.com/problems/find-in-mountain-array/description/),but the descending array always gives -1 index of the target even when the target exists in the descending part. The ascending part does find the index correctly though.\r\n\r\nThe approach I used is to find the peak index of the mountain array and then do two binary searches from &quot;o to peak index&quot; in the first search and from &quot;peak to end index&quot; for the second search. Now the condition that I have applied is according to the version of answer am getting,i.e, am getting the first index of ans[] array correctly but the second index i.e, ans[1] is wrong .So to just keep the first index as the answer I applied this if else condition:\r\n\r\n```\r\n   if(ans[0]==-1 || ans[1]==-1){\r\n            if(ans[0]&gt;ans[1]){\r\n                return ans[0];\r\n            }else{\r\n                return ans[1];\r\n            }\r\n        }else{\r\n            return ans[0];\r\n        }\r\n```\r\nbut this condition fails when the ascending part doesn&#39;t have target and descending part has one, so the answer array is{-1,-1}. But I am not getting the reason why the descending part binary search is failing and the code doesn&#39;t give the correct answer. If only the first and second index comes right I can apply the correct if else condition. Can anyone tell me what&#39;s going wrong over here?\r\n\r\nThe whole answer code is as follows :\r\n\r\n```\r\nimport java.util.Arrays;\r\npublic class MyClass {\r\n    public static void main(String args[]) {\r\n    int[] nums = {1,5,2};\r\n    int target=2;\r\n    int answer=smallestIndex(nums,target);\r\n    System.out.println(answer);\r\n    }\r\n    static int smallestIndex(int[]nums,int target){\r\n        int peak = search(nums);\r\n        int[] ans={-1,-1};\r\n        int lastindex=nums.length-1;\r\n        ans[0]= searchRange(nums,0,peak,target);\r\n        ans[1]= searchRange(nums,peak,lastindex,target);\r\n        if(ans[0]==-1 || ans[1]==-1){\r\n            if(ans[0]&gt;ans[1]){\r\n                return ans[0];\r\n            }else{\r\n                return ans[1];\r\n            }\r\n        }else{\r\n            return ans[0];\r\n        }\r\n    }\r\n    static int search(int[] nums){\r\n        int start = 0;\r\n        int end = nums.length - 1;\r\n         while(start&lt;end){\r\n            int mid = start+(end-start)/2;\r\n            if(nums[mid]&gt;nums[mid+1]){\r\n                end=mid;\r\n            }else{\r\n                start=mid+1;\r\n            }\r\n         }\r\n         return start;\r\n    }\r\n    static int searchRange(int[] nums,int start,int end,int target){\r\n        boolean isAsc;\r\n        if(start&lt;end){\r\n            isAsc=true;\r\n        }else{\r\n            isAsc=false;\r\n        }\r\n    while(start&lt;=end){\r\n        int mid=start+(end-start)/2;\r\n        if(isAsc){\r\n            if(target==nums[mid]){\r\n                return mid;\r\n            }\r\n                 if(target&gt;nums[mid]){\r\n            start=mid+1;\r\n        }else{\r\n            end=mid-1;\r\n        }\r\n        }else{\r\n              if(target==nums[mid]){\r\n                return mid;\r\n            }\r\n        if(target&gt;nums[mid]){\r\n            end=mid-1;\r\n        }else{\r\n            start=mid+1;\r\n        }\r\n        }\r\n  \r\n      \r\n    }\r\n      return -1;\r\n    }\r\n}\r\n```\r\n","title":"Find in Mountain Array problem leetcode 1095 using binary search algorithm","body":"<p>Am trying to find the indices of the target number in an mountain array as mentioned in the leetcode <a href=\"https://leetcode.com/problems/find-in-mountain-array/description/\" rel=\"nofollow noreferrer\">problem</a>,but the descending array always gives -1 index of the target even when the target exists in the descending part. The ascending part does find the index correctly though.</p>\n<p>The approach I used is to find the peak index of the mountain array and then do two binary searches from &quot;o to peak index&quot; in the first search and from &quot;peak to end index&quot; for the second search. Now the condition that I have applied is according to the version of answer am getting,i.e, am getting the first index of ans[] array correctly but the second index i.e, ans[1] is wrong .So to just keep the first index as the answer I applied this if else condition:</p>\n<pre><code>   if(ans[0]==-1 || ans[1]==-1){\n            if(ans[0]&gt;ans[1]){\n                return ans[0];\n            }else{\n                return ans[1];\n            }\n        }else{\n            return ans[0];\n        }\n</code></pre>\n<p>but this condition fails when the ascending part doesn't have target and descending part has one, so the answer array is{-1,-1}. But I am not getting the reason why the descending part binary search is failing and the code doesn't give the correct answer. If only the first and second index comes right I can apply the correct if else condition. Can anyone tell me what's going wrong over here?</p>\n<p>The whole answer code is as follows :</p>\n<pre><code>import java.util.Arrays;\npublic class MyClass {\n    public static void main(String args[]) {\n    int[] nums = {1,5,2};\n    int target=2;\n    int answer=smallestIndex(nums,target);\n    System.out.println(answer);\n    }\n    static int smallestIndex(int[]nums,int target){\n        int peak = search(nums);\n        int[] ans={-1,-1};\n        int lastindex=nums.length-1;\n        ans[0]= searchRange(nums,0,peak,target);\n        ans[1]= searchRange(nums,peak,lastindex,target);\n        if(ans[0]==-1 || ans[1]==-1){\n            if(ans[0]&gt;ans[1]){\n                return ans[0];\n            }else{\n                return ans[1];\n            }\n        }else{\n            return ans[0];\n        }\n    }\n    static int search(int[] nums){\n        int start = 0;\n        int end = nums.length - 1;\n         while(start&lt;end){\n            int mid = start+(end-start)/2;\n            if(nums[mid]&gt;nums[mid+1]){\n                end=mid;\n            }else{\n                start=mid+1;\n            }\n         }\n         return start;\n    }\n    static int searchRange(int[] nums,int start,int end,int target){\n        boolean isAsc;\n        if(start&lt;end){\n            isAsc=true;\n        }else{\n            isAsc=false;\n        }\n    while(start&lt;=end){\n        int mid=start+(end-start)/2;\n        if(isAsc){\n            if(target==nums[mid]){\n                return mid;\n            }\n                 if(target&gt;nums[mid]){\n            start=mid+1;\n        }else{\n            end=mid-1;\n        }\n        }else{\n              if(target==nums[mid]){\n                return mid;\n            }\n        if(target&gt;nums[mid]){\n            end=mid-1;\n        }else{\n            start=mid+1;\n        }\n        }\n  \n      \n    }\n      return -1;\n    }\n}\n</code></pre>\n"},{"tags":["java","html","spring-boot","thymeleaf","spring-framework-beans"],"comments":[{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1672670499,"post_id":74981573,"comment_id":132323844,"body_markdown":"Why are you using `session.removeAttribute` ? What do you expect to happen?","body":"Why are you using <code>session.removeAttribute</code> ? What do you expect to happen?"},{"owner":{"account_id":27410620,"reputation":19,"user_id":20910591,"display_name":"Vishal Srivastava"},"score":0,"creation_date":1672747356,"post_id":74981573,"comment_id":132340126,"body_markdown":"I want to remove the error/success msg which comes after clicking on submit button","body":"I want to remove the error/success msg which comes after clicking on submit button"},{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1672748115,"post_id":74981573,"comment_id":132340393,"body_markdown":"What you want is a &quot;flash message&quot;, see https://stackoverflow.com/questions/43751860/how-to-set-a-flash-message-in-spring-boot-with-thymeleaf for more information on how to do that.","body":"What you want is a &quot;flash message&quot;, see <a href=\"https://stackoverflow.com/questions/43751860/how-to-set-a-flash-message-in-spring-boot-with-thymeleaf\" title=\"how to set a flash message in spring boot with thymeleaf\">stackoverflow.com/questions/43751860/&hellip;</a> for more information on how to do that."},{"owner":{"account_id":27410620,"reputation":19,"user_id":20910591,"display_name":"Vishal Srivastava"},"score":0,"creation_date":1673438964,"post_id":74981573,"comment_id":132498286,"body_markdown":"Above one is not working for me...can u pls suggest any other step","body":"Above one is not working for me...can u pls suggest any other step"}],"answers":[{"tags":[],"owner":{"account_id":27419113,"reputation":1,"user_id":20917843,"display_name":"Rahul Arjun Wakude"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672757040,"creation_date":1672738014,"answer_id":74991357,"question_id":74981573,"body_markdown":"```html\r\n&lt;th:block th:text=&quot;${#session.removeAttribute(&#39;message&#39;)}&quot;&gt;&lt;/th:block&gt;\r\n```\r\nremove this or comment this line from ur code it will work ","title":"Exception evaluating SpringEL expression: &quot;#session.removeAttribute(&#39;message&#39;)&quot;","body":"<pre class=\"lang-html prettyprint-override\"><code>&lt;th:block th:text=&quot;${#session.removeAttribute('message')}&quot;&gt;&lt;/th:block&gt;\n</code></pre>\n<p>remove this or comment this line from ur code it will work</p>\n"}],"owner":{"account_id":27410620,"reputation":19,"user_id":20910591,"display_name":"Vishal Srivastava"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1502,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1689060895,"creation_date":1672657176,"question_id":74981573,"body_markdown":"I&#39;m getting exception when trying to evaluate a thymeleaf expression. The html code &amp; error is as below. Please do let me know why session.removeAttribute is not working here.\r\n\r\n```\r\nHTML-\r\n\r\n\r\n&lt;!doctype html&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;\r\n\tth:replace=&quot;base::layout(~{::section})&quot;&gt;\r\n&lt;head&gt;\r\n&lt;meta charset=&quot;UTF-8&quot; /&gt;\r\n&lt;title&gt;This is About page&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n &lt;section&gt;\r\n  &lt;div class=&quot;container&quot;&gt;\r\n    &lt;div class=&quot;row&quot;&gt;\r\n\t&lt;div class=&quot;col-md-6 offset-md-3&quot;&gt;\r\n         &lt;div class=&quot;registration-card mt-1&quot;&gt;\r\n\t   &lt;div th:if=&quot;${session.message}&quot;\r\n\t    th:classappend=&quot;${session.message.type}&quot; class=&quot;alert&quot;&gt;\r\n\t   &lt;p class=&quot;text-center&quot; th:text=&quot;${session.message.content}&quot;&gt;&lt;/p&gt;\r\n\t   &lt;th:block th:text=&quot;${#session.removeAttribute(&#39;message&#39;)}&quot;&gt;&lt;/th:block&gt;\r\n\r\n        &lt;/div&gt;\r\n        &lt;div class=&quot;container text-center&quot;&gt;\r\n\t&lt;img style=&quot;width: 50px&quot; src=&quot;&quot; th:src=&quot;@{/img/sign-up.png}&quot;alt=&quot;&quot; /&gt;\r\n\t&lt;/div&gt;\r\n\t&lt;h1 class=&quot;text-center&quot; style=&quot;text-decoration-line: underline;&quot;&gt;RegisterHere&lt;/h1&gt;\r\n\t&lt;form th:action=&quot;@{/do_register}&quot; method=&quot;post&quot; th:object=&quot;${user}&quot;&gt;\r\n\r\n\t &lt;!-- Name --&gt;\r\n\t&lt;div class=&quot;form-group&quot;&gt;\r\n\t&lt;label for=&quot;name&quot;&gt;Name&lt;/label&gt; &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;name&quot; name=&quot;name&quot;          placeholder=&quot;Enter Your Name&quot; aria-describedby=&quot;emailHelp&quot; th:value=&quot;${user.name}&quot; required&gt;\r\n\t&lt;/div&gt;\r\n\r\n\t&lt;!-- Email --&gt;\r\n\t&lt;div class=&quot;form-group&quot;&gt;\r\n\t&lt;label for=&quot;email&quot;&gt;Email&lt;/label&gt; &lt;input type=&quot;email&quot; class=&quot;form-control&quot; id=&quot;email&quot; name=&quot;email&quot;\r\n\tplaceholder=&quot;Enter Your Email&quot; aria-describedby=&quot;emailHelp&quot; th:value=&quot;${user.email}&quot; required&gt;\r\n\t&lt;/div&gt;\r\n\t\r\n        &lt;!-- Button --&gt;\r\n\t&lt;div class=&quot;container text-right&quot;&gt;\r\n\t&lt;button type=&quot;submit&quot; class=&quot;btn bg-primary text-white&quot;&gt;Submit&lt;/button&gt;\r\n        &lt;button type=&quot;reset&quot; class=&quot;btn btn-warning&quot;&gt;Reset&lt;/button&gt;\r\n\t&lt;/div&gt;\r\n      &lt;/form&gt;\r\n    &lt;/div&gt;\r\n   &lt;/div&gt;\r\n  &lt;/div&gt;\r\n &lt;/div&gt;\r\n\r\n &lt;/section&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nException- \r\n\r\nCaused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: &quot;#session.removeAttribute(&#39;message&#39;)&quot; (template: &quot;signup&quot; - line 17, col 18)\r\n```\r\n","title":"Exception evaluating SpringEL expression: &quot;#session.removeAttribute(&#39;message&#39;)&quot;","body":"<p>I'm getting exception when trying to evaluate a thymeleaf expression. The html code &amp; error is as below. Please do let me know why session.removeAttribute is not working here.</p>\n<pre><code>HTML-\n\n\n&lt;!doctype html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;\n    th:replace=&quot;base::layout(~{::section})&quot;&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;UTF-8&quot; /&gt;\n&lt;title&gt;This is About page&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n &lt;section&gt;\n  &lt;div class=&quot;container&quot;&gt;\n    &lt;div class=&quot;row&quot;&gt;\n    &lt;div class=&quot;col-md-6 offset-md-3&quot;&gt;\n         &lt;div class=&quot;registration-card mt-1&quot;&gt;\n       &lt;div th:if=&quot;${session.message}&quot;\n        th:classappend=&quot;${session.message.type}&quot; class=&quot;alert&quot;&gt;\n       &lt;p class=&quot;text-center&quot; th:text=&quot;${session.message.content}&quot;&gt;&lt;/p&gt;\n       &lt;th:block th:text=&quot;${#session.removeAttribute('message')}&quot;&gt;&lt;/th:block&gt;\n\n        &lt;/div&gt;\n        &lt;div class=&quot;container text-center&quot;&gt;\n    &lt;img style=&quot;width: 50px&quot; src=&quot;&quot; th:src=&quot;@{/img/sign-up.png}&quot;alt=&quot;&quot; /&gt;\n    &lt;/div&gt;\n    &lt;h1 class=&quot;text-center&quot; style=&quot;text-decoration-line: underline;&quot;&gt;RegisterHere&lt;/h1&gt;\n    &lt;form th:action=&quot;@{/do_register}&quot; method=&quot;post&quot; th:object=&quot;${user}&quot;&gt;\n\n     &lt;!-- Name --&gt;\n    &lt;div class=&quot;form-group&quot;&gt;\n    &lt;label for=&quot;name&quot;&gt;Name&lt;/label&gt; &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;name&quot; name=&quot;name&quot;          placeholder=&quot;Enter Your Name&quot; aria-describedby=&quot;emailHelp&quot; th:value=&quot;${user.name}&quot; required&gt;\n    &lt;/div&gt;\n\n    &lt;!-- Email --&gt;\n    &lt;div class=&quot;form-group&quot;&gt;\n    &lt;label for=&quot;email&quot;&gt;Email&lt;/label&gt; &lt;input type=&quot;email&quot; class=&quot;form-control&quot; id=&quot;email&quot; name=&quot;email&quot;\n    placeholder=&quot;Enter Your Email&quot; aria-describedby=&quot;emailHelp&quot; th:value=&quot;${user.email}&quot; required&gt;\n    &lt;/div&gt;\n    \n        &lt;!-- Button --&gt;\n    &lt;div class=&quot;container text-right&quot;&gt;\n    &lt;button type=&quot;submit&quot; class=&quot;btn bg-primary text-white&quot;&gt;Submit&lt;/button&gt;\n        &lt;button type=&quot;reset&quot; class=&quot;btn btn-warning&quot;&gt;Reset&lt;/button&gt;\n    &lt;/div&gt;\n      &lt;/form&gt;\n    &lt;/div&gt;\n   &lt;/div&gt;\n  &lt;/div&gt;\n &lt;/div&gt;\n\n &lt;/section&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Exception-</p>\n<p>Caused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: &quot;#session.removeAttribute('message')&quot; (template: &quot;signup&quot; - line 17, col 18)</p>\n<pre><code></code></pre>\n"},{"tags":["java","apache-spark","apache-spark-sql","spark-java"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1689026676,"post_id":76657279,"comment_id":135152372,"body_markdown":"Try looking at [Spark Dataframe select based on column index](https://stackoverflow.com/questions/43553803/spark-dataframe-select-based-on-column-index).","body":"Try looking at <a href=\"https://stackoverflow.com/questions/43553803/spark-dataframe-select-based-on-column-index\">Spark Dataframe select based on column index</a>."}],"answers":[{"tags":[],"owner":{"account_id":28942997,"reputation":171,"user_id":22169190,"display_name":"Medzila"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689060374,"creation_date":1689060374,"answer_id":76659560,"question_id":76657279,"body_markdown":"From your question I&#39;m guessing you&#39;re trying to get the index of a field in a row so you can check nullity.\r\n\r\nIndeed you could use `ds.columns()` as it will give you the ordered columns and then use the index from here.\r\n\r\nNevertheless, I would advice to use another method though as you keep the logic inside row processing and it will be more robust. You can use `.fieldIndex(String fieldName)`\r\n\r\n    row.isNullAt(row.fieldIndex(&quot;my_column_name&quot;))\r\n\r\nSee more\r\nhttps://spark.apache.org/docs/2.1.0/api/java/org/apache/spark/sql/Row.html#fieldIndex(java.lang.String)","title":"How to get index/position of column in dataframe (Spark sql Java)","body":"<p>From your question I'm guessing you're trying to get the index of a field in a row so you can check nullity.</p>\n<p>Indeed you could use <code>ds.columns()</code> as it will give you the ordered columns and then use the index from here.</p>\n<p>Nevertheless, I would advice to use another method though as you keep the logic inside row processing and it will be more robust. You can use <code>.fieldIndex(String fieldName)</code></p>\n<pre><code>row.isNullAt(row.fieldIndex(&quot;my_column_name&quot;))\n</code></pre>\n<p>See more\n<a href=\"https://spark.apache.org/docs/2.1.0/api/java/org/apache/spark/sql/Row.html#fieldIndex(java.lang.String)\" rel=\"nofollow noreferrer\">https://spark.apache.org/docs/2.1.0/api/java/org/apache/spark/sql/Row.html#fieldIndex(java.lang.String)</a></p>\n"}],"owner":{"account_id":16917353,"reputation":117,"user_id":12235037,"display_name":"chingu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76659560,"answer_count":1,"score":0,"last_activity_date":1689060374,"creation_date":1689022484,"question_id":76657279,"body_markdown":"I am using Spark Java (not scala, python).\r\n\r\nI have to change my code so that my spark query will select all columns rather than a specific set of columns. (Like using `select *`). Before when I had a specific set of columns, it is easy for me to know the exact position/index of each column because it is in the order of my select. However, since I am now selecting all, I do not know the order exactly.\r\n\r\nI need the position/index of particular columns so that I can use the function `.isNullAt()` because it requires position/index and not the string column name.\r\n\r\nI am wondering does using `dataframe.columns()` give me an array which the exact same index/position I can use for the dataframe methods that require an index/position? And then I can search the array using my string column name to get back the correct index?","title":"How to get index/position of column in dataframe (Spark sql Java)","body":"<p>I am using Spark Java (not scala, python).</p>\n<p>I have to change my code so that my spark query will select all columns rather than a specific set of columns. (Like using <code>select *</code>). Before when I had a specific set of columns, it is easy for me to know the exact position/index of each column because it is in the order of my select. However, since I am now selecting all, I do not know the order exactly.</p>\n<p>I need the position/index of particular columns so that I can use the function <code>.isNullAt()</code> because it requires position/index and not the string column name.</p>\n<p>I am wondering does using <code>dataframe.columns()</code> give me an array which the exact same index/position I can use for the dataframe methods that require an index/position? And then I can search the array using my string column name to get back the correct index?</p>\n"},{"tags":["java","mongodb","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":25184627,"reputation":13,"user_id":19025683,"display_name":"MiMoy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689060080,"creation_date":1689060080,"answer_id":76659528,"question_id":76606521,"body_markdown":"We solved this issue with this,\r\n\r\n```\r\nAggregation.addFields().addField(&quot;fileId&quot;).withValue(&quot;$file.$id&quot;).build();\r\nAggregation.lookup(&quot;file&quot;, &quot;fileId&quot;, &quot;_id&quot;, &quot;_file&quot;);\r\nAggregation.unwind(&quot;$_file&quot;);\r\nAggregation.match(Aggregation.match(Criteria.where(&quot;_file.operation.$id&quot;).is(&quot;id&quot;));\r\n```","title":"With mongoTemplate, how can you form the criteria on a reference collection?","body":"<p>We solved this issue with this,</p>\n<pre><code>Aggregation.addFields().addField(&quot;fileId&quot;).withValue(&quot;$file.$id&quot;).build();\nAggregation.lookup(&quot;file&quot;, &quot;fileId&quot;, &quot;_id&quot;, &quot;_file&quot;);\nAggregation.unwind(&quot;$_file&quot;);\nAggregation.match(Aggregation.match(Criteria.where(&quot;_file.operation.$id&quot;).is(&quot;id&quot;));\n</code></pre>\n"}],"owner":{"account_id":25184627,"reputation":13,"user_id":19025683,"display_name":"MiMoy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76659528,"answer_count":1,"score":0,"last_activity_date":1689060080,"creation_date":1688400886,"question_id":76606521,"body_markdown":"I have three tables in my mongo database as below,\r\n\r\n```\r\nOperation {\r\n        \r\n        @Id\r\n        String id;\r\n        \r\n        @Field(&quot;name&quot;)\r\n        String name;\r\n    }\r\n\r\nFile {\r\n        \r\n        @Id\r\n        String id;\r\n        \r\n        @Field(&quot;name&quot;)\r\n        String name;\r\n        \r\n        @Field(&quot;type&quot;)\r\n        FileType type; //enum\r\n\r\n        @DBRef\r\n        @Field(&quot;operation&quot;)\r\n        private Operation operation;\r\n    }\r\n\r\nReport {\r\n    \r\n        @Id\r\n        String id;\r\n    \r\n        @Field(&quot;name&quot;)\r\n        String name;\r\n    \r\n        @Field(&quot;generated_date&quot;)\r\n        LocalDate generatedDate;\r\n        \r\n        @DBRef\r\n        @Field(&quot;file&quot;)\r\n        private File file;\r\n\r\n    }\r\n\r\n```\r\n\r\nI use mongoTemplate to filter reports based on its different fields. However as a new functionality I need to filter reports based on the operationId. Each report is associated to one File, and each file to one operation, but I am having trouble to create a critera or aggregation that will help me to the same.\r\n\r\nInitially I tried something like this where,\r\n\r\n1)\r\nHere we create a list of criterias,\r\n```\r\nList&lt;Criteria&gt; criteriaList = new ArrayList&lt;&gt;();\r\ncriteriaList.add(Criteria.where(&quot;generated_date&quot;).is(&quot;2023-05-12&quot;);\r\ncriteriaList.add(Criteria.where(&quot;file.operation.$id&quot;).is(createObjectIdFromString(client.getId()))\r\n);\r\nreturn new Criteria().andOperator(criteriaList);\r\n```\r\n\r\nThis criteriaList is passed to the MatchOperation\r\n\r\n```\r\nMatchOperation matchOperation = Aggregation.match(criteria);\r\nAggregation aggregation = Aggregation.newAggregation(matchOperation);\r\nAggregationResults&lt;Report&gt; missions = mongoTemplate.aggregate(aggregation, &quot;report&quot;, Report.class);\r\n\r\n```\r\nBut this returns no results. \r\n\r\n\r\n2)\r\nAnother attempt I tried was to lookup and unwind before matching the operation\r\n```\r\nList&lt;Criteria&gt; criteriaList = new ArrayList&lt;&gt;();\r\ncriteriaList.add(Criteria.where(&quot;generated_date&quot;).is(&quot;2023-05-12&quot;);\r\ncriteriaList.add(Criteria.where(&quot;_file.operation.$id&quot;).is(createObjectIdFromString(client.getId()))\r\n);\r\nreturn new Criteria().andOperator(criteriaList);\r\n\r\n\r\n LookupOperation lookupOperation = Aggregation.lookup(&quot;file&quot;,&quot;file.$id&quot;,&quot;_id&quot;, &quot;_file&quot;);\r\n UnwindOperation unwindOperation = Aggregation.unwind(&quot;$_file&quot;);\r\n MatchOperation matchOperation1 = Aggregation.match(operationCriteria);\r\n Aggregation aggregation = Aggregation.newAggregation(lookupOperation, unwindOperation);\r\n AggregationResults&lt;Report&gt; missions = mongoTemplate.aggregate(aggregation1, &quot;report&quot;, Report.class);\r\n```\r\n\r\nBut this returns no results either.\r\n\r\nIf anyone could help me see what I&#39;m missing...","title":"With mongoTemplate, how can you form the criteria on a reference collection?","body":"<p>I have three tables in my mongo database as below,</p>\n<pre><code>Operation {\n        \n        @Id\n        String id;\n        \n        @Field(&quot;name&quot;)\n        String name;\n    }\n\nFile {\n        \n        @Id\n        String id;\n        \n        @Field(&quot;name&quot;)\n        String name;\n        \n        @Field(&quot;type&quot;)\n        FileType type; //enum\n\n        @DBRef\n        @Field(&quot;operation&quot;)\n        private Operation operation;\n    }\n\nReport {\n    \n        @Id\n        String id;\n    \n        @Field(&quot;name&quot;)\n        String name;\n    \n        @Field(&quot;generated_date&quot;)\n        LocalDate generatedDate;\n        \n        @DBRef\n        @Field(&quot;file&quot;)\n        private File file;\n\n    }\n\n</code></pre>\n<p>I use mongoTemplate to filter reports based on its different fields. However as a new functionality I need to filter reports based on the operationId. Each report is associated to one File, and each file to one operation, but I am having trouble to create a critera or aggregation that will help me to the same.</p>\n<p>Initially I tried something like this where,</p>\n<p>1)\nHere we create a list of criterias,</p>\n<pre><code>List&lt;Criteria&gt; criteriaList = new ArrayList&lt;&gt;();\ncriteriaList.add(Criteria.where(&quot;generated_date&quot;).is(&quot;2023-05-12&quot;);\ncriteriaList.add(Criteria.where(&quot;file.operation.$id&quot;).is(createObjectIdFromString(client.getId()))\n);\nreturn new Criteria().andOperator(criteriaList);\n</code></pre>\n<p>This criteriaList is passed to the MatchOperation</p>\n<pre><code>MatchOperation matchOperation = Aggregation.match(criteria);\nAggregation aggregation = Aggregation.newAggregation(matchOperation);\nAggregationResults&lt;Report&gt; missions = mongoTemplate.aggregate(aggregation, &quot;report&quot;, Report.class);\n\n</code></pre>\n<p>But this returns no results.</p>\n<p>2)\nAnother attempt I tried was to lookup and unwind before matching the operation</p>\n<pre><code>List&lt;Criteria&gt; criteriaList = new ArrayList&lt;&gt;();\ncriteriaList.add(Criteria.where(&quot;generated_date&quot;).is(&quot;2023-05-12&quot;);\ncriteriaList.add(Criteria.where(&quot;_file.operation.$id&quot;).is(createObjectIdFromString(client.getId()))\n);\nreturn new Criteria().andOperator(criteriaList);\n\n\n LookupOperation lookupOperation = Aggregation.lookup(&quot;file&quot;,&quot;file.$id&quot;,&quot;_id&quot;, &quot;_file&quot;);\n UnwindOperation unwindOperation = Aggregation.unwind(&quot;$_file&quot;);\n MatchOperation matchOperation1 = Aggregation.match(operationCriteria);\n Aggregation aggregation = Aggregation.newAggregation(lookupOperation, unwindOperation);\n AggregationResults&lt;Report&gt; missions = mongoTemplate.aggregate(aggregation1, &quot;report&quot;, Report.class);\n</code></pre>\n<p>But this returns no results either.</p>\n<p>If anyone could help me see what I'm missing...</p>\n"},{"tags":["java","spring-boot","sonarqube","sonarqube-scan","sonarlint"],"comments":[{"owner":{"account_id":8449942,"reputation":241,"user_id":6339078,"display_name":"lopoto"},"score":0,"creation_date":1689240657,"post_id":76652134,"comment_id":135186504,"body_markdown":"You should directly ask on their community forum -&gt; https://community.sonarsource.com/","body":"You should directly ask on their community forum -&gt; <a href=\"https://community.sonarsource.com/\" rel=\"nofollow noreferrer\">community.sonarsource.com</a>"}],"owner":{"account_id":10146053,"reputation":736,"user_id":7494176,"accept_rate":64,"display_name":"Ajith Deivam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689059954,"creation_date":1688978881,"question_id":76652134,"body_markdown":"I would like to work on sonar issues with automatic fixes (**using rules or without rules)**.\r\n\r\n**Below are the steps I used, but no output!**\r\n\r\n  1. I got reference from [this][1] github repository\r\n2. I followed all the steps, but my code doesn’t have the below-commented lines. \r\n3. How can I handle this problem? I am struggling with these steps.\r\n\r\n**Example class:** I tried the simple remove toString() method in String class using rules\r\n\r\n    public class StringTest {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString string = &quot;hello&quot;.toString(); **// Noncompliant [[sc=17;ec=24;quickfixes=qf1]]\r\n    \t\t// fix@qf1 {{Remove &quot;toString()&quot;}}\r\n    \t\t// edit@qf1 [[sc=24;ec=35]] {{}}**\r\n    \t}\r\n    }\r\n\r\n\r\n1. Any feasible solution?\r\n2. Any other possible solution?\r\n3. How to work the fixes without **// Noncompliant**?\r\n\r\n  [1]: https://github.com/SonarSource/sonar-java","title":"How to fix sonar issues automatically using rules or without rule","body":"<p>I would like to work on sonar issues with automatic fixes (<strong>using rules or without rules)</strong>.</p>\n<p><strong>Below are the steps I used, but no output!</strong></p>\n<ol>\n<li>I got reference from <a href=\"https://github.com/SonarSource/sonar-java\" rel=\"nofollow noreferrer\">this</a> github repository</li>\n<li>I followed all the steps, but my code doesn’t have the below-commented lines.</li>\n<li>How can I handle this problem? I am struggling with these steps.</li>\n</ol>\n<p><strong>Example class:</strong> I tried the simple remove toString() method in String class using rules</p>\n<pre><code>public class StringTest {\n    public static void main(String[] args) {\n        String string = &quot;hello&quot;.toString(); **// Noncompliant [[sc=17;ec=24;quickfixes=qf1]]\n        // fix@qf1 {{Remove &quot;toString()&quot;}}\n        // edit@qf1 [[sc=24;ec=35]] {{}}**\n    }\n}\n</code></pre>\n<ol>\n<li>Any feasible solution?</li>\n<li>Any other possible solution?</li>\n<li>How to work the fixes without <strong>// Noncompliant</strong>?</li>\n</ol>\n"},{"tags":["java","android","android-studio","android-toolbar","material-components-android"],"comments":[{"owner":{"account_id":15038853,"reputation":1515,"user_id":10854225,"display_name":"vincenzopalazzo"},"score":0,"creation_date":1609673613,"post_id":65549242,"comment_id":115890653,"body_markdown":"What is your exception?","body":"What is your exception?"},{"owner":{"account_id":19940304,"reputation":21,"user_id":14612165,"display_name":"noa shen"},"score":1,"creation_date":1609674645,"post_id":65549242,"comment_id":115890949,"body_markdown":"java.lang.RuntimeException: Unable to start activity ComponentInfo{com.or.ourshoppinglist/com.or.ourshoppinglist.MainActivity}: android.view.InflateException: Binary XML file line #28: Binary XML file line #28: Error inflating class &lt;unknown&gt;","body":"java.lang.RuntimeException: Unable to start activity ComponentInfo{com.or.ourshoppinglist/com.or.ourshoppinglist.&zwnj;&#8203;MainActivity}: android.view.InflateException: Binary XML file line #28: Binary XML file line #28: Error inflating class &lt;unknown&gt;"},{"owner":{"account_id":15038853,"reputation":1515,"user_id":10854225,"display_name":"vincenzopalazzo"},"score":0,"creation_date":1609674808,"post_id":65549242,"comment_id":115890988,"body_markdown":"I think you need to provide all your xml file, it is related to it at line 28","body":"I think you need to provide all your xml file, it is related to it at line 28"},{"owner":{"account_id":19940304,"reputation":21,"user_id":14612165,"display_name":"noa shen"},"score":0,"creation_date":1609676734,"post_id":65549242,"comment_id":115891484,"body_markdown":"I added a comment with them","body":"I added a comment with them"},{"owner":{"account_id":4833243,"reputation":780,"user_id":3900842,"display_name":"Shalan93"},"score":0,"creation_date":1609679100,"post_id":65549242,"comment_id":115892100,"body_markdown":"I think your style cause the problem for inflating the toolbar, you have to use `Theme.AppCompat` one","body":"I think your style cause the problem for inflating the toolbar, you have to use <code>Theme.AppCompat</code> one"},{"owner":{"account_id":1932985,"reputation":440,"user_id":1741997,"display_name":"cesargastonec"},"score":0,"creation_date":1647800207,"post_id":65549242,"comment_id":126456695,"body_markdown":"I got the same error. Toolbar fails if any of its parameters fail. It didn&#39;t specify which one. I had to delete the parameters and start adding one by one until I found which one was having problems. In my case, for example, it was that the &quot;drawable&quot; resource was in the path but not on the disk. I did not go further into the cause, just copy the resource to the corresponding folder and problem solved.","body":"I got the same error. Toolbar fails if any of its parameters fail. It didn&#39;t specify which one. I had to delete the parameters and start adding one by one until I found which one was having problems. In my case, for example, it was that the &quot;drawable&quot; resource was in the path but not on the disk. I did not go further into the cause, just copy the resource to the corresponding folder and problem solved."}],"answers":[{"tags":[],"owner":{"account_id":20126029,"reputation":1616,"user_id":14759470,"display_name":"SlothCoding"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1609673805,"creation_date":1609673805,"answer_id":65549365,"question_id":65549242,"body_markdown":"Hi noa shen and welcome to Stackoverflow.\r\n\r\nFirstly, there can be an issue with your import for Toolbar. Since androix version came out now you got two versions of Toolbar:\r\n\r\n    androidx.appcompat.widget.Toolbar\r\nand \r\n\r\n    android.support.v7.widget.Toolbar\r\n\r\nSo first check your imports in your JAVA.class and see if you imported the right version which would be:\r\n\r\n    androidx.appcompat.widget.Toolbar\r\n\r\nBesides that, why is your toolbar width equals to 0?\r\n\r\n    &lt;androidx.appcompat.widget.Toolbar\r\n        android:layout_width=&quot;0dp&quot;\r\n\r\nAlso to use toolbar you need to paste this in your build Gradle file in dependencies:\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.0.0&#39;\r\n\r\nIf this doesn&#39;t solve anything please provide your whole XML, JAVA.class, and full stack trace of your exception.\r\n\r\n","title":"Error inflating class androidx.appcompat.widget.Toolbar android","body":"<p>Hi noa shen and welcome to Stackoverflow.</p>\n<p>Firstly, there can be an issue with your import for Toolbar. Since androix version came out now you got two versions of Toolbar:</p>\n<pre><code>androidx.appcompat.widget.Toolbar\n</code></pre>\n<p>and</p>\n<pre><code>android.support.v7.widget.Toolbar\n</code></pre>\n<p>So first check your imports in your JAVA.class and see if you imported the right version which would be:</p>\n<pre><code>androidx.appcompat.widget.Toolbar\n</code></pre>\n<p>Besides that, why is your toolbar width equals to 0?</p>\n<pre><code>&lt;androidx.appcompat.widget.Toolbar\n    android:layout_width=&quot;0dp&quot;\n</code></pre>\n<p>Also to use toolbar you need to paste this in your build Gradle file in dependencies:</p>\n<pre><code>implementation 'androidx.appcompat:appcompat:1.0.0'\n</code></pre>\n<p>If this doesn't solve anything please provide your whole XML, JAVA.class, and full stack trace of your exception.</p>\n"},{"tags":[],"owner":{"account_id":19940304,"reputation":21,"user_id":14612165,"display_name":"noa shen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609676614,"creation_date":1609676614,"answer_id":65549804,"question_id":65549242,"body_markdown":"added my whole XML\r\n   \r\n &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/drawer_layout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:fitsSystemWindows=&quot;true&quot;\r\n        tools:context=&quot;.MainActivity&quot;\r\n        tools:openDrawer=&quot;start&quot;&gt;\r\n    \r\n        &lt;com.google.android.material.navigation.NavigationView\r\n            android:id=&quot;@+id/nav_view&quot;\r\n            android:layout_gravity=&quot;start&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            app:headerLayout=&quot;@layout/header&quot;\r\n            app:menu=&quot;@menu/main_menu&quot; /&gt;\r\n    \r\n    &lt;ScrollView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;#FFFFFF&quot;&gt;\r\n    \r\n        &lt;androidx.appcompat.widget.Toolbar\r\n            android:layout_width=&quot;100dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;#00008577&quot;\r\n            android:minHeight=&quot;?actionBarTheme&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:navigationIcon=&quot;@drawable/main&quot;\r\n            android:id=&quot;@+id/toolbar&quot;/&gt;\r\n    \r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n    \r\n    &lt;/ScrollView&gt;\r\n    \r\n    \r\n    &lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\r\n\r\n\r\nJAVA:\r\n```\r\npackage com.or.ourshoppinglist;\r\n\r\nimport androidx.appcompat.app.ActionBarDrawerToggle;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.Toolbar;\r\nimport androidx.drawerlayout.widget.DrawerLayout;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport com.google.android.material.navigation.NavigationView;\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private DrawerLayout drawer_layout;\r\n    private NavigationView nav_view;\r\n    private Toolbar toolbar;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        findViews();\r\n        setSupportActionBar(toolbar);\r\n\r\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this, drawer_layout,toolbar,R.string.navigation_drawer_open,R.string.navigation_drawer_close);\r\n        drawer_layout.addDrawerListener(toggle);\r\n        toggle.syncState();\r\n    }\r\n\r\n    private void findViews() {\r\n        drawer_layout = findViewById(R.id.drawer_layout);\r\n        nav_view = findViewById(R.id.nav_view);\r\n        toolbar = findViewById(R.id.toolbar);\r\n    }\r\n}\r\n\r\n","title":"Error inflating class androidx.appcompat.widget.Toolbar android","body":"<p>added my whole XML</p>\n \n<pre><code>&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/drawer_layout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:fitsSystemWindows=&quot;true&quot;\n    tools:context=&quot;.MainActivity&quot;\n    tools:openDrawer=&quot;start&quot;&gt;\n\n    &lt;com.google.android.material.navigation.NavigationView\n        android:id=&quot;@+id/nav_view&quot;\n        android:layout_gravity=&quot;start&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        app:headerLayout=&quot;@layout/header&quot;\n        app:menu=&quot;@menu/main_menu&quot; /&gt;\n\n&lt;ScrollView\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;#FFFFFF&quot;&gt;\n\n    &lt;androidx.appcompat.widget.Toolbar\n        android:layout_width=&quot;100dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;#00008577&quot;\n        android:minHeight=&quot;?actionBarTheme&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:navigationIcon=&quot;@drawable/main&quot;\n        android:id=&quot;@+id/toolbar&quot;/&gt;\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n\n&lt;/ScrollView&gt;\n\n\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n</code></pre>\n<p>JAVA:</p>\n<pre><code>package com.or.ourshoppinglist;\n\nimport androidx.appcompat.app.ActionBarDrawerToggle;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.appcompat.widget.Toolbar;\nimport androidx.drawerlayout.widget.DrawerLayout;\n\nimport android.os.Bundle;\n\nimport com.google.android.material.navigation.NavigationView;\n\n\npublic class MainActivity extends AppCompatActivity {\n\n    private DrawerLayout drawer_layout;\n    private NavigationView nav_view;\n    private Toolbar toolbar;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        findViews();\n        setSupportActionBar(toolbar);\n\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this, drawer_layout,toolbar,R.string.navigation_drawer_open,R.string.navigation_drawer_close);\n        drawer_layout.addDrawerListener(toggle);\n        toggle.syncState();\n    }\n\n    private void findViews() {\n        drawer_layout = findViewById(R.id.drawer_layout);\n        nav_view = findViewById(R.id.nav_view);\n        toolbar = findViewById(R.id.toolbar);\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10313291,"reputation":1698,"user_id":7608371,"display_name":"Noor Hossain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642862230,"creation_date":1642862230,"answer_id":70813871,"question_id":65549242,"body_markdown":"In `build.gradle (module app)` file,  implementation of The upgraded version : `implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;` caused me the error. When I used `implementation &#39;androidx.appcompat:appcompat:1.0.0&#39;` , The error has gone. ","title":"Error inflating class androidx.appcompat.widget.Toolbar android","body":"<p>In <code>build.gradle (module app)</code> file,  implementation of The upgraded version : <code>implementation 'androidx.appcompat:appcompat:1.4.1'</code> caused me the error. When I used <code>implementation 'androidx.appcompat:appcompat:1.0.0'</code> , The error has gone.</p>\n"},{"tags":[],"owner":{"account_id":20093709,"reputation":51,"user_id":14733647,"display_name":"Zero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689059934,"creation_date":1643089667,"answer_id":70843946,"question_id":65549242,"body_markdown":"I fixed this by changing `android:background` to `app:srcCompat` when I am using \r\n`?android:attr`.\r\n\r\nFor example:\r\n\r\nfrom this xml code\r\n\r\n    &lt;androidx.appcompat.widget.Toolbar\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;#00008577&quot;\r\n            android:minHeight=&quot;?actionBarTheme&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:navigationIcon=&quot;@drawable/main&quot;\r\n            android:id=&quot;@+id/toolbar&quot;/&gt;\r\n\r\nchange to\r\n \r\n\r\n    &lt;androidx.appcompat.widget.Toolbar\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:srcCompat=&quot;#00008577&quot;\r\n            android:minHeight=&quot;?actionBarTheme&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:navigationIcon=&quot;@drawable/main&quot;\r\n            android:id=&quot;@+id/toolbar&quot;/&gt;\r\n\r\nHope that helps.","title":"Error inflating class androidx.appcompat.widget.Toolbar android","body":"<p>I fixed this by changing <code>android:background</code> to <code>app:srcCompat</code> when I am using\n<code>?android:attr</code>.</p>\n<p>For example:</p>\n<p>from this xml code</p>\n<pre><code>&lt;androidx.appcompat.widget.Toolbar\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;#00008577&quot;\n        android:minHeight=&quot;?actionBarTheme&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:navigationIcon=&quot;@drawable/main&quot;\n        android:id=&quot;@+id/toolbar&quot;/&gt;\n</code></pre>\n<p>change to</p>\n<pre><code>&lt;androidx.appcompat.widget.Toolbar\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:srcCompat=&quot;#00008577&quot;\n        android:minHeight=&quot;?actionBarTheme&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:navigationIcon=&quot;@drawable/main&quot;\n        android:id=&quot;@+id/toolbar&quot;/&gt;\n</code></pre>\n<p>Hope that helps.</p>\n"}],"owner":{"account_id":19940304,"reputation":21,"user_id":14612165,"display_name":"noa shen"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9562,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1689059934,"creation_date":1609672935,"question_id":65549242,"body_markdown":"I try to use the toolbar in my app and I get this message: &quot;Error inflating class androidx.appcompat.widget.Toolbar&quot;.\r\ni glad if someone will find my problem (using the latest version of the android studio)\r\n\r\nXML:\r\n```  \r\n  &lt;androidx.appcompat.widget.Toolbar\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;#00008577&quot;\r\n        android:minHeight=&quot;?actionBarTheme&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:navigationIcon=&quot;@drawable/main&quot;\r\n        android:id=&quot;@+id/toolbar&quot;/&gt;\r\n```\r\n\r\nJAVA:\r\n```\r\n\r\n    private Toolbar toolbar;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        findViews();\r\n        setSupportActionBar(toolbar);\r\n\r\n    }\r\n\r\n    private void findViews() {\r\n        drawer_layout = findViewById(R.id.drawer_layout);\r\n        nav_view = findViewById(R.id.nav_view);\r\n        toolbar = findViewById(R.id.toolbar);\r\n    }\r\n```\r\n\r\nSTYLE:\r\n   ``` &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;```\r\n\r\n\r\nException received\r\n\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.or.ourshoppinglist/com.or.ourshoppinglist.MainActivity}: android.view.InflateException: Binary XML file line #28: Binary XML file line #28: Error inflating class &lt;unknown&gt;\r\n\r\n","title":"Error inflating class androidx.appcompat.widget.Toolbar android","body":"<p>I try to use the toolbar in my app and I get this message: &quot;Error inflating class androidx.appcompat.widget.Toolbar&quot;.\ni glad if someone will find my problem (using the latest version of the android studio)</p>\n<p>XML:</p>\n<pre><code>  &lt;androidx.appcompat.widget.Toolbar\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;#00008577&quot;\n        android:minHeight=&quot;?actionBarTheme&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:navigationIcon=&quot;@drawable/main&quot;\n        android:id=&quot;@+id/toolbar&quot;/&gt;\n</code></pre>\n<p>JAVA:</p>\n<pre><code>\n    private Toolbar toolbar;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        findViews();\n        setSupportActionBar(toolbar);\n\n    }\n\n    private void findViews() {\n        drawer_layout = findViewById(R.id.drawer_layout);\n        nav_view = findViewById(R.id.nav_view);\n        toolbar = findViewById(R.id.toolbar);\n    }\n</code></pre>\n<p>STYLE:\n<code> &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;</code></p>\n<p>Exception received</p>\n<pre><code>java.lang.RuntimeException: Unable to start activity ComponentInfo{com.or.ourshoppinglist/com.or.ourshoppinglist.MainActivity}: android.view.InflateException: Binary XML file line #28: Binary XML file line #28: Error inflating class &lt;unknown&gt;\n</code></pre>\n"},{"tags":["java","google-cloud-platform","google-iam"],"comments":[{"owner":{"account_id":10905924,"reputation":76292,"user_id":8016720,"display_name":"John Hanley"},"score":1,"creation_date":1556831237,"post_id":55956548,"comment_id":98572100,"body_markdown":"I hope that I am wrong with my comment. I am not aware of any 100% sure method. Service Accounts can access multiple projects / organizations. You would need to combine Audit Logging with Stackdriver and have access to the same resources (projects / organizations). This would be expensive and compute / data intensive. A service account can have multiple keys. I do not believe that individual keys are even tracked in GCP. One of my specialties is Google Security so I am very interested in an authoritative answer to this question.","body":"I hope that I am wrong with my comment. I am not aware of any 100% sure method. Service Accounts can access multiple projects / organizations. You would need to combine Audit Logging with Stackdriver and have access to the same resources (projects / organizations). This would be expensive and compute / data intensive. A service account can have multiple keys. I do not believe that individual keys are even tracked in GCP. One of my specialties is Google Security so I am very interested in an authoritative answer to this question."},{"owner":{"account_id":8013069,"reputation":1135,"user_id":6044191,"accept_rate":59,"display_name":"Ihsan Haikal"},"score":0,"creation_date":1556887270,"post_id":55956548,"comment_id":98590667,"body_markdown":"@JohnHanley yeah I also come to the same conclusion as yours. But do you know if it is possible to know the last activity of the service account itself?","body":"@JohnHanley yeah I also come to the same conclusion as yours. But do you know if it is possible to know the last activity of the service account itself?"},{"owner":{"account_id":10905924,"reputation":76292,"user_id":8016720,"display_name":"John Hanley"},"score":1,"creation_date":1556888300,"post_id":55956548,"comment_id":98591237,"body_markdown":"I do not know of a way to access the last usage of a service account based upon my previous comment or any API. The key to a service account is the Private Key. This is used to sign a JWT. The JWT is exchanged for an Access Token. The Access Token is used to Authorize access. The tracking should be easy. The problem that I see for Google is that every access would need to be logged for every API, for every service, for every connection and the volume of data would be huge. You would need to pay for the storage of that data (nothing is really free in the cloud - costs are just moved around).","body":"I do not know of a way to access the last usage of a service account based upon my previous comment or any API. The key to a service account is the Private Key. This is used to sign a JWT. The JWT is exchanged for an Access Token. The Access Token is used to Authorize access. The tracking should be easy. The problem that I see for Google is that every access would need to be logged for every API, for every service, for every connection and the volume of data would be huge. You would need to pay for the storage of that data (nothing is really free in the cloud - costs are just moved around)."},{"owner":{"account_id":8013069,"reputation":1135,"user_id":6044191,"accept_rate":59,"display_name":"Ihsan Haikal"},"score":0,"creation_date":1556889879,"post_id":55956548,"comment_id":98592207,"body_markdown":"@JohnHanley that means it will be better to analyze it from stackdriver if it is not possible from the API itself where the logs are stored in the bucket or published with pub/sub","body":"@JohnHanley that means it will be better to analyze it from stackdriver if it is not possible from the API itself where the logs are stored in the bucket or published with pub/sub"},{"owner":{"account_id":10905924,"reputation":76292,"user_id":8016720,"display_name":"John Hanley"},"score":1,"creation_date":1556891802,"post_id":55956548,"comment_id":98593337,"body_markdown":"I don&#39;t have a better comment than my previous comments. Note that I said Audit Logging plus Stackdriver plus access to all accounts / organizations that the service account can access. I do not think that Google designed into their system a method to answer your question. I might be wrong and that is why I posted my first comment - hoping another expert will comment.","body":"I don&#39;t have a better comment than my previous comments. Note that I said Audit Logging plus Stackdriver plus access to all accounts / organizations that the service account can access. I do not think that Google designed into their system a method to answer your question. I might be wrong and that is why I posted my first comment - hoping another expert will comment."},{"owner":{"account_id":15804622,"reputation":895,"user_id":11403457,"display_name":"Christopher"},"score":1,"creation_date":1557200682,"post_id":55956548,"comment_id":98674536,"body_markdown":"based on this doc it says &quot;Audit service accounts and keys using either the serviceAccount.keys.list() method or the Logs Viewer page in the console.&quot; You can try to create a service account then execute some scripts to test and check the audit logs in the Stackdriver logging if there&#39;s an entry. I haven&#39;t tried it due to lack of time.\n\nhttps://cloud.google.com/iam/docs/understanding-service-accounts","body":"based on this doc it says &quot;Audit service accounts and keys using either the serviceAccount.keys.list() method or the Logs Viewer page in the console.&quot; You can try to create a service account then execute some scripts to test and check the audit logs in the Stackdriver logging if there&#39;s an entry. I haven&#39;t tried it due to lack of time.  <a href=\"https://cloud.google.com/iam/docs/understanding-service-accounts\" rel=\"nofollow noreferrer\">cloud.google.com/iam/docs/understanding-service-accounts</a>"},{"owner":{"account_id":8013069,"reputation":1135,"user_id":6044191,"accept_rate":59,"display_name":"Ihsan Haikal"},"score":0,"creation_date":1557216519,"post_id":55956548,"comment_id":98680177,"body_markdown":"@Christopher it is exactly like the previous comments and my initial idea, but I am trying to avoid that and hopefully there could be a API call that will show it similar to AWS IAM API","body":"@Christopher it is exactly like the previous comments and my initial idea, but I am trying to avoid that and hopefully there could be a API call that will show it similar to AWS IAM API"},{"owner":{"account_id":15804622,"reputation":895,"user_id":11403457,"display_name":"Christopher"},"score":1,"creation_date":1557219450,"post_id":55956548,"comment_id":98681796,"body_markdown":"There is an IAM API but the method your looking seems not yet available. You might want to file a feature request or search for an existing feature for this one.\n\nhttps://cloud.google.com/iam/reference/rest/v1/projects.serviceAccounts\nhttps://cloud.google.com/iam/reference/rest/v1/projects.serviceAccounts.keys\nhttps://cloud.google.com/support/docs/issue-trackers#feature_requests","body":"There is an IAM API but the method your looking seems not yet available. You might want to file a feature request or search for an existing feature for this one.  <a href=\"https://cloud.google.com/iam/reference/rest/v1/projects.serviceAccounts\" rel=\"nofollow noreferrer\">cloud.google.com/iam/reference/rest/v1/projects.serviceAccou&zwnj;&#8203;nts</a> <a href=\"https://cloud.google.com/iam/reference/rest/v1/projects.serviceAccounts.keys\" rel=\"nofollow noreferrer\">cloud.google.com/iam/reference/rest/v1/&hellip;</a> <a href=\"https://cloud.google.com/support/docs/issue-trackers#feature_requests\" rel=\"nofollow noreferrer\">cloud.google.com/support/docs/issue-trackers#feature_request&zwnj;&#8203;s</a>"},{"owner":{"account_id":1036442,"reputation":731,"user_id":6138467,"accept_rate":75,"display_name":"Drew"},"score":0,"creation_date":1582146756,"post_id":55956548,"comment_id":106681602,"body_markdown":"To me, this is basic, required, functionality. Very surprised there is no &quot;last login&quot; field in the UI.","body":"To me, this is basic, required, functionality. Very surprised there is no &quot;last login&quot; field in the UI."}],"answers":[{"tags":[],"owner":{"account_id":217944,"reputation":2457,"user_id":474002,"accept_rate":64,"display_name":"Browny Lin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616394203,"creation_date":1616394203,"answer_id":66741187,"question_id":55956548,"body_markdown":"You can use Cloud Monitoring metrics [1] to monitor `service account` or `service account key` usage. \r\n\r\nYou can identify unused service accounts and keys by [2].\r\n\r\n[1] https://cloud.google.com/iam/docs/service-account-monitoring  \r\n[2] https://cloud.google.com/iam/docs/service-account-monitoring#identify-unused","title":"Find out last activity of Service Account Key in GCP IAM","body":"<p>You can use Cloud Monitoring metrics [1] to monitor <code>service account</code> or <code>service account key</code> usage.</p>\n<p>You can identify unused service accounts and keys by [2].</p>\n<p>[1] <a href=\"https://cloud.google.com/iam/docs/service-account-monitoring\" rel=\"nofollow noreferrer\">https://cloud.google.com/iam/docs/service-account-monitoring</a><br />\n[2] <a href=\"https://cloud.google.com/iam/docs/service-account-monitoring#identify-unused\" rel=\"nofollow noreferrer\">https://cloud.google.com/iam/docs/service-account-monitoring#identify-unused</a></p>\n"},{"tags":[],"owner":{"account_id":19897698,"reputation":1,"user_id":17590992,"display_name":"Ockham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689059178,"creation_date":1689059178,"answer_id":76659438,"question_id":55956548,"body_markdown":"You now have that feature on the Policy Analyzer. Currently, it can only be used via console, `gcloud` and API REST:\r\n\r\n1. **Console**: IAM &amp; Admin &gt; Policy Analyzer &gt; Analyze recent activity &gt; When was the last time this service account was used? [Preview][1]\r\n\r\n2. **Comand line**: `gcloud policy-intelligence query-activity` ([Documentation](https://cloud.google.com/sdk/gcloud/reference/policy-intelligence/query-activity))\r\n\r\n3. **API REST**: Out of the box for cURL and PowerShell. I guess you can use the discovery build library to impement it on code, but I don&#39;t try it yet. ([Documentation](https://cloud.google.com/policy-intelligence/docs/activity-analyzer-service-account-authentication#iam-view-service-account-recent-usage-activity-analyzer-rest))\r\n\r\n  [1]: https://i.stack.imgur.com/rz9Qo.png","title":"Find out last activity of Service Account Key in GCP IAM","body":"<p>You now have that feature on the Policy Analyzer. Currently, it can only be used via console, <code>gcloud</code> and API REST:</p>\n<ol>\n<li><p><strong>Console</strong>: IAM &amp; Admin &gt; Policy Analyzer &gt; Analyze recent activity &gt; When was the last time this service account was used? <a href=\"https://i.stack.imgur.com/rz9Qo.png\" rel=\"nofollow noreferrer\">Preview</a></p>\n</li>\n<li><p><strong>Comand line</strong>: <code>gcloud policy-intelligence query-activity</code> (<a href=\"https://cloud.google.com/sdk/gcloud/reference/policy-intelligence/query-activity\" rel=\"nofollow noreferrer\">Documentation</a>)</p>\n</li>\n<li><p><strong>API REST</strong>: Out of the box for cURL and PowerShell. I guess you can use the discovery build library to impement it on code, but I don't try it yet. (<a href=\"https://cloud.google.com/policy-intelligence/docs/activity-analyzer-service-account-authentication#iam-view-service-account-recent-usage-activity-analyzer-rest\" rel=\"nofollow noreferrer\">Documentation</a>)</p>\n</li>\n</ol>\n"}],"owner":{"account_id":8013069,"reputation":1135,"user_id":6044191,"accept_rate":59,"display_name":"Ihsan Haikal"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2964,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1689059178,"creation_date":1556814017,"question_id":55956548,"body_markdown":"Is it possible to know the last activity of service account&#39;s key in GCP IAM, similar to AWS IAM&#39;s [GetAccessKeyLastUsed](https://docs.aws.amazon.com/IAM/latest/APIReference/API_GetAccessKeyLastUsed.html)? I was avoiding the option of monitoring the activity from GCP Stackdriver.\r\n","title":"Find out last activity of Service Account Key in GCP IAM","body":"<p>Is it possible to know the last activity of service account's key in GCP IAM, similar to AWS IAM's <a href=\"https://docs.aws.amazon.com/IAM/latest/APIReference/API_GetAccessKeyLastUsed.html\" rel=\"noreferrer\">GetAccessKeyLastUsed</a>? I was avoiding the option of monitoring the activity from GCP Stackdriver.</p>\n"},{"tags":["java","scala","performance","awt","graphics2d"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1689029254,"post_id":76655587,"comment_id":135152683,"body_markdown":"You haven&#39;t asked a question. Update your post to clarify the specific problem you need to resolve.","body":"You haven&#39;t asked a question. Update your post to clarify the specific problem you need to resolve."}],"owner":{"account_id":16782159,"reputation":21,"user_id":12456542,"display_name":"JoPoLu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689058739,"creation_date":1689005878,"question_id":76655587,"body_markdown":"I am using the java.awt.Canvas class for drawing in my application and it simply does not seem to be fast enough. After filling my screen with some hand drawn math I get to a point where I am running at 70 fps and just rendering takes up about 90% of the time each frame. I wonder what I can do to spend less time drawing.\r\n\r\n\r\nI have so far done the following to try and decrease the time needed to draw.\r\n1. I only draw what is visible on the screen(to compute what is visible does not take a significant amount of time). I have also confirmed it works as when I pan away from the lines my frame rate spikes to upwards of 4000 fps.\r\n2. I have implemented an algorithm to simplify paths(only computed once when I create a path).\r\nInteractive showcase of what it does: http://paperjs.org/examples/path-simplification/\r\n\r\n\r\nThis is the code which does the drawing.\r\n```scala\r\ndef render(drawAbsolute: Graphics2D =&gt; Unit, drawFromCamera: Graphics2D =&gt; Unit, camera: Camera): Unit = \r\n        import java.awt.Color\r\n        var bs = getBufferStrategy\r\n        if (bs == null) {\r\n        createBufferStrategy(3)\r\n        bs = getBufferStrategy\r\n        }\r\n        val g2d = bs.getDrawGraphics().asInstanceOf[Graphics2D]\r\n        g2d.setRenderingHint(\r\n            java.awt.RenderingHints.KEY_ANTIALIASING,\r\n            java.awt.RenderingHints.VALUE_ANTIALIAS_ON\r\n        )\r\n        g2d.setColor(backgroundColor)\r\n        g2d.fillRect(Vector2.zero, canvasSize)\r\n        drawAbsolute(g2d) // this is fast because I am not drawing anything here atm :)\r\n        g2d.setTransform(camera.transform)\r\n        drawFromCamera(g2d)  // This line takes up about 90% of the frame time. (Only draws a couple of hundred lines).\r\n        bs.show()\r\n        g2d.dispose()\r\n```\r\n\r\nDrawing code for my paths\r\n```scala\r\noverride val shape: Shape = path2D\r\noverride def draw(g2d: Graphics2D): Unit =\r\n  g2d.draw(shape)\r\n```\r\n\r\nAlso worth noting that not redrawing areas might be hard since the user is able to rotate and pan around. I guess that I could call a redraw function or something everytime the camera transform changes, I do feel however that it opens up a scary can of worms not redrawing everything everyframe and I will constantly have to think about.","title":"Methods for improving efficiency when drawing paths in java.awt","body":"<p>I am using the java.awt.Canvas class for drawing in my application and it simply does not seem to be fast enough. After filling my screen with some hand drawn math I get to a point where I am running at 70 fps and just rendering takes up about 90% of the time each frame. I wonder what I can do to spend less time drawing.</p>\n<p>I have so far done the following to try and decrease the time needed to draw.</p>\n<ol>\n<li>I only draw what is visible on the screen(to compute what is visible does not take a significant amount of time). I have also confirmed it works as when I pan away from the lines my frame rate spikes to upwards of 4000 fps.</li>\n<li>I have implemented an algorithm to simplify paths(only computed once when I create a path).\nInteractive showcase of what it does: <a href=\"http://paperjs.org/examples/path-simplification/\" rel=\"nofollow noreferrer\">http://paperjs.org/examples/path-simplification/</a></li>\n</ol>\n<p>This is the code which does the drawing.</p>\n<pre class=\"lang-scala prettyprint-override\"><code>def render(drawAbsolute: Graphics2D =&gt; Unit, drawFromCamera: Graphics2D =&gt; Unit, camera: Camera): Unit = \n        import java.awt.Color\n        var bs = getBufferStrategy\n        if (bs == null) {\n        createBufferStrategy(3)\n        bs = getBufferStrategy\n        }\n        val g2d = bs.getDrawGraphics().asInstanceOf[Graphics2D]\n        g2d.setRenderingHint(\n            java.awt.RenderingHints.KEY_ANTIALIASING,\n            java.awt.RenderingHints.VALUE_ANTIALIAS_ON\n        )\n        g2d.setColor(backgroundColor)\n        g2d.fillRect(Vector2.zero, canvasSize)\n        drawAbsolute(g2d) // this is fast because I am not drawing anything here atm :)\n        g2d.setTransform(camera.transform)\n        drawFromCamera(g2d)  // This line takes up about 90% of the frame time. (Only draws a couple of hundred lines).\n        bs.show()\n        g2d.dispose()\n</code></pre>\n<p>Drawing code for my paths</p>\n<pre class=\"lang-scala prettyprint-override\"><code>override val shape: Shape = path2D\noverride def draw(g2d: Graphics2D): Unit =\n  g2d.draw(shape)\n</code></pre>\n<p>Also worth noting that not redrawing areas might be hard since the user is able to rotate and pan around. I guess that I could call a redraw function or something everytime the camera transform changes, I do feel however that it opens up a scary can of worms not redrawing everything everyframe and I will constantly have to think about.</p>\n"},{"tags":["java","directory","save","filewriter"],"comments":[{"owner":{"account_id":1238100,"reputation":12185,"user_id":1201272,"accept_rate":80,"display_name":"AurA"},"score":0,"creation_date":1386662055,"post_id":20488870,"comment_id":30622633,"body_markdown":"Create an outputstream valid instance http://docs.oracle.com/javase/6/docs/api/java/io/OutputStream.html","body":"Create an outputstream valid instance <a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/OutputStream.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/api/java/io/OutputStream.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1386662386,"creation_date":1386662386,"answer_id":20488974,"question_id":20488870,"body_markdown":"Instead of this line:\r\n\r\n    FileWriter fw = new FileWriter(str);\r\n\r\nTry this:\r\n\r\n    FileWriter fw = new FileWriter(new File(dir, str));","title":"How to set the directory when saving file with filewriter in java?","body":"<p>Instead of this line:</p>\n\n<pre><code>FileWriter fw = new FileWriter(str);\n</code></pre>\n\n<p>Try this:</p>\n\n<pre><code>FileWriter fw = new FileWriter(new File(dir, str));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3015778,"reputation":480,"user_id":2689806,"display_name":"Raj Kanchan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689058641,"creation_date":1689058641,"answer_id":76659381,"question_id":20488870,"body_markdown":"Specify the directory you want to create and use mkdir() method to create the directory then, mention that created directory inside the FileWriter. This will create your directory inside the directory of your project.\r\n\r\n    try {\r\n        final File dir = new File(&quot;data&quot;);\r\n        if (!dir.exists()) {\r\n           if (!dir.mkdir()) {\r\n              System.out.println(&quot;Folder Not Found!!!&quot;);\r\n              System.exit(0);\r\n           } else {\r\n             FileWriter file = new FileWriter(new File(dir, &quot;logs.txt&quot;));\r\n             PrintWriter pw = new PrintWriter(file);\r\n             pw.printf(&quot;Logs for Hello World&quot;);\r\n                }\r\n            } else {\r\n                FileWriter file = new FileWriter(new File(dir, &quot;logs.txt&quot;));\r\n                PrintWriter pw = new PrintWriter(file);\r\n                pw.printf(&quot;Logs for Hello World&quot;);\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n                  ","title":"How to set the directory when saving file with filewriter in java?","body":"<p>Specify the directory you want to create and use mkdir() method to create the directory then, mention that created directory inside the FileWriter. This will create your directory inside the directory of your project.</p>\n<pre><code>try {\n    final File dir = new File(&quot;data&quot;);\n    if (!dir.exists()) {\n       if (!dir.mkdir()) {\n          System.out.println(&quot;Folder Not Found!!!&quot;);\n          System.exit(0);\n       } else {\n         FileWriter file = new FileWriter(new File(dir, &quot;logs.txt&quot;));\n         PrintWriter pw = new PrintWriter(file);\n         pw.printf(&quot;Logs for Hello World&quot;);\n            }\n        } else {\n            FileWriter file = new FileWriter(new File(dir, &quot;logs.txt&quot;));\n            PrintWriter pw = new PrintWriter(file);\n            pw.printf(&quot;Logs for Hello World&quot;);\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n              \n</code></pre>\n"}],"owner":{"account_id":3707836,"reputation":123,"user_id":3085878,"display_name":"Paul K"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19916,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":20488974,"answer_count":2,"score":4,"last_activity_date":1689058641,"creation_date":1386661928,"question_id":20488870,"body_markdown":"Hi I&#39;m using NetBeans for more easy-to-use GUI.\r\n\r\nI&#39;m trying to save a txt file which I get the name from the user, using the FileWriter, (not using serializable)\r\n\r\nI think I could set the saving location of the file using the Serializable (I&#39;m not sure)\r\n\r\nbut, my code kinda looks dirty if I use Serializable and it causes some error. (I use 2 classes)\r\n\r\n**Anyway, Is there a way to set the directory when saving the txt file with the FileWriter?**\r\n\r\nThis is my code, for saving files.\r\n    \r\n        public boolean save() {\r\n        try {\r\n            File dir = new File(&quot;C:\\\\Users\\\\JSK\\\\Desktop\\\\BOARD\\\\data&quot;);\r\n\r\n            String str = Title_field.getText() + &quot;.txt&quot;;\r\n            CheckFile(str);\r\n            CheckCbox();\r\n            area.append(&quot;\\n Written at :&quot; + date_format.format(now.getTime()));\r\n            FileWriter fw = new FileWriter(str);\r\n            fw.write(area.getText());\r\n            fw.close();\r\n            JOptionPane.showMessageDialog(this, &quot;Successfully Written&quot;);\r\n            this.setVisible(false);\r\n            Title_field.setEditable(false);\r\n            area.setEditable(false);\r\n        } catch (FileNotFoundException ex) {\r\n            JOptionPane.showMessageDialog(this, &quot;You Must Create A File First!&quot;, &quot;File Missing&quot;, JOptionPane.ERROR_MESSAGE);\r\n        } catch (IOException ex) {\r\n            JOptionPane.showMessageDialog(this, &quot;I/O ERROR&quot;, &quot;Failed to save the file&quot;, JOptionPane.ERROR_MESSAGE);\r\n        } catch (FileExistException ex) {\r\n            JOptionPane.showMessageDialog(this, &quot;File Already Exists, Please Change the title&quot;, &quot;ERROR&quot;, JOptionPane.ERROR_MESSAGE);\r\n            area.setText(&quot;&quot;);\r\n            return false;\r\n        } catch (CheckboxSelectionException ex) {\r\n            JOptionPane.showMessageDialog(this, &quot;You must select at least one location&quot;, &quot;ERROR&quot;, JOptionPane.ERROR_MESSAGE);\r\n            Title_field.setText(&quot;&quot;);\r\n            area.setText(&quot;&quot;);\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }    \r\n\r\n**dir means the directory where I want to save it, but it actually saves inside C:\\\\Users\\\\JSK\\\\Desktop\\\\BOARD**\r\n","title":"How to set the directory when saving file with filewriter in java?","body":"<p>Hi I'm using NetBeans for more easy-to-use GUI.</p>\n\n<p>I'm trying to save a txt file which I get the name from the user, using the FileWriter, (not using serializable)</p>\n\n<p>I think I could set the saving location of the file using the Serializable (I'm not sure)</p>\n\n<p>but, my code kinda looks dirty if I use Serializable and it causes some error. (I use 2 classes)</p>\n\n<p><strong>Anyway, Is there a way to set the directory when saving the txt file with the FileWriter?</strong></p>\n\n<p>This is my code, for saving files.</p>\n\n<pre><code>    public boolean save() {\n    try {\n        File dir = new File(\"C:\\\\Users\\\\JSK\\\\Desktop\\\\BOARD\\\\data\");\n\n        String str = Title_field.getText() + \".txt\";\n        CheckFile(str);\n        CheckCbox();\n        area.append(\"\\n Written at :\" + date_format.format(now.getTime()));\n        FileWriter fw = new FileWriter(str);\n        fw.write(area.getText());\n        fw.close();\n        JOptionPane.showMessageDialog(this, \"Successfully Written\");\n        this.setVisible(false);\n        Title_field.setEditable(false);\n        area.setEditable(false);\n    } catch (FileNotFoundException ex) {\n        JOptionPane.showMessageDialog(this, \"You Must Create A File First!\", \"File Missing\", JOptionPane.ERROR_MESSAGE);\n    } catch (IOException ex) {\n        JOptionPane.showMessageDialog(this, \"I/O ERROR\", \"Failed to save the file\", JOptionPane.ERROR_MESSAGE);\n    } catch (FileExistException ex) {\n        JOptionPane.showMessageDialog(this, \"File Already Exists, Please Change the title\", \"ERROR\", JOptionPane.ERROR_MESSAGE);\n        area.setText(\"\");\n        return false;\n    } catch (CheckboxSelectionException ex) {\n        JOptionPane.showMessageDialog(this, \"You must select at least one location\", \"ERROR\", JOptionPane.ERROR_MESSAGE);\n        Title_field.setText(\"\");\n        area.setText(\"\");\n        return false;\n    }\n\n    return true;\n}    \n</code></pre>\n\n<p><strong>dir means the directory where I want to save it, but it actually saves inside C:\\Users\\JSK\\Desktop\\BOARD</strong></p>\n"},{"tags":["java","oracle","spring-boot","connection-pooling","hikaricp"],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689058131,"creation_date":1689058131,"answer_id":76659325,"question_id":76656624,"body_markdown":"According to the log message it is not an error as it is logged on DEBUG level. It is normal for Hikari pool to check if the connection is still alive. Otherwise it will be removed from the pool. Next time you will get a fresh one. Conclusion: it is normal behavior of the long running application.","title":"Why is HikariCP logging &quot;Cannot acquire connection from data source&quot;","body":"<p>According to the log message it is not an error as it is logged on DEBUG level. It is normal for Hikari pool to check if the connection is still alive. Otherwise it will be removed from the pool. Next time you will get a fresh one. Conclusion: it is normal behavior of the long running application.</p>\n"}],"owner":{"account_id":8892302,"reputation":211,"user_id":6638462,"display_name":"Matthew Marion"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689058131,"creation_date":1689015932,"question_id":76656624,"body_markdown":"Implemented hikari connection pools in an application with around 9 different databases, using 9 different pools. Everything seems to be working as intended locally and on non-prod remote servers. However, randomly we get spammed with the following error on our non-prod servers:\r\n\r\n2023-07-06 13:14:13.919 DEBUG 1 --- [onnection adder] com.zaxxer.hikari.pool.HikariPool: hikaripool-java:OMITTED/DB/EXAMPLE- Cannot acquire connection from data source.\r\n\r\nThere is no more error messages and nothing seems to be going wrong. Very vague message that gets spammed for around 2 databases. No sign of connections being dropped/lost. Any insight on why this could be happening is appreciated.\r\n\r\nEnvironment info:\r\nUsing Hikari: 4.0.3\r\nSpring Boot: 2.3.0\r\nSome oracle databases and some postgres\r\n\r\nThanks\r\n\r\nTested to see if the connections were still working. Nothing seems to break after this message appears.","title":"Why is HikariCP logging &quot;Cannot acquire connection from data source&quot;","body":"<p>Implemented hikari connection pools in an application with around 9 different databases, using 9 different pools. Everything seems to be working as intended locally and on non-prod remote servers. However, randomly we get spammed with the following error on our non-prod servers:</p>\n<p>2023-07-06 13:14:13.919 DEBUG 1 --- [onnection adder] com.zaxxer.hikari.pool.HikariPool: hikaripool-java:OMITTED/DB/EXAMPLE- Cannot acquire connection from data source.</p>\n<p>There is no more error messages and nothing seems to be going wrong. Very vague message that gets spammed for around 2 databases. No sign of connections being dropped/lost. Any insight on why this could be happening is appreciated.</p>\n<p>Environment info:\nUsing Hikari: 4.0.3\nSpring Boot: 2.3.0\nSome oracle databases and some postgres</p>\n<p>Thanks</p>\n<p>Tested to see if the connections were still working. Nothing seems to break after this message appears.</p>\n"},{"tags":["java","zip","unzip"],"comments":[{"owner":{"account_id":12478,"reputation":23673,"user_id":24582,"display_name":"extraneon"},"score":0,"creation_date":1275484566,"post_id":2957910,"comment_id":3015742,"body_markdown":"What is a hidden file? On Linux it&#39;s a file which starts with a dot, on Windows it&#39;s probably a file attribute.","body":"What is a hidden file? On Linux it&#39;s a file which starts with a dot, on Windows it&#39;s probably a file attribute."},{"owner":{"account_id":375461,"reputation":2234,"user_id":726315,"accept_rate":89,"display_name":"arkon"},"score":0,"creation_date":1336804834,"post_id":2957910,"comment_id":13671057,"body_markdown":"On Windows it&#39;s definitely a file attribute. Which is nothing more than a flag in a record on the filesystem.","body":"On Windows it&#39;s definitely a file attribute. Which is nothing more than a flag in a record on the filesystem."}],"answers":[{"tags":[],"owner":{"account_id":130645,"reputation":81695,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1275484764,"creation_date":1275484764,"answer_id":2958013,"question_id":2957910,"body_markdown":"http://java.sun.com/j2se/1.5.0/docs/api/java/io/File.html#isHidden%28%29\r\n\r\nIt should have been preserved when they created the zip.","title":"In Java, How can I programmatically identify a hidden file in a zip?","body":"<p><a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/io/File.html#isHidden%28%29\" rel=\"nofollow noreferrer\">http://java.sun.com/j2se/1.5.0/docs/api/java/io/File.html#isHidden%28%29</a></p>\n\n<p>It should have been preserved when they created the zip.</p>\n"},{"tags":[],"owner":{"account_id":50238,"reputation":74702,"user_id":149808,"accept_rate":81,"display_name":"ZZ Coder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1275485866,"creation_date":1275485866,"answer_id":2958205,"question_id":2957910,"body_markdown":"If this is on Windows, there is no way to do it. The ZipEntry doesn&#39;t contain such information. You might be able to write your own zipper to store the information in ExtraInfo field.\r\n\r\nOn Unix, you can workaround by checking the leading dot in the filename.\r\n","title":"In Java, How can I programmatically identify a hidden file in a zip?","body":"<p>If this is on Windows, there is no way to do it. The ZipEntry doesn't contain such information. You might be able to write your own zipper to store the information in ExtraInfo field.</p>\n\n<p>On Unix, you can workaround by checking the leading dot in the filename.</p>\n"},{"tags":[],"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689057799,"creation_date":1689055786,"answer_id":76659113,"question_id":2957910,"body_markdown":"Java class &lt;code&gt;ZipEntry&lt;/code&gt; does not maintain file flags by design, as the accepted answer found. \r\n\r\nIf your usecase has not reserved the comment tag, you could fill it with file flag info, as e.g. \r\nwindows command line &lt;code&gt;attrib &amp;lt;file&amp;gt;&lt;/code&gt; delivers. \r\nIn order to mark only hidden files, that would be\r\n\r\n    ZipEntry entry = new ZipEntry(&quot;foo&quot;).setComment(&quot;H&quot;);\r\n\r\n\r\n&lt;b&gt;EDIT&lt;/b&gt;\r\n\r\nThere is also an &lt;code&gt;extra&lt;/code&gt; tag, designed to take additional implementation specific information as generic container, see\r\n&lt;a href=&quot;https://stackoverflow.com/a/59439166/9437799&quot;&gt;this answer&lt;/a&gt;\r\n","title":"In Java, How can I programmatically identify a hidden file in a zip?","body":"<p>Java class <code>ZipEntry</code> does not maintain file flags by design, as the accepted answer found.</p>\n<p>If your usecase has not reserved the comment tag, you could fill it with file flag info, as e.g.\nwindows command line <code>attrib &lt;file&gt;</code> delivers.\nIn order to mark only hidden files, that would be</p>\n<pre><code>ZipEntry entry = new ZipEntry(&quot;foo&quot;).setComment(&quot;H&quot;);\n</code></pre>\n<p><b>EDIT</b></p>\n<p>There is also an <code>extra</code> tag, designed to take additional implementation specific information as generic container, see\n<a href=\"https://stackoverflow.com/a/59439166/9437799\">this answer</a></p>\n"}],"owner":{"account_id":72623,"reputation":1871,"user_id":209622,"accept_rate":33,"display_name":"Totach"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2325,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":2958205,"answer_count":3,"score":2,"last_activity_date":1689057799,"creation_date":1275484070,"question_id":2957910,"body_markdown":"I would like to ignore hidden files when extracting a zip. \r\nIs there any way i can identify that a ZipEntry belongs to a &#39;hidden&#39; file?\r\n\r\n","title":"In Java, How can I programmatically identify a hidden file in a zip?","body":"<p>I would like to ignore hidden files when extracting a zip. \nIs there any way i can identify that a ZipEntry belongs to a 'hidden' file?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":5236373,"reputation":33,"user_id":4184811,"display_name":"niemand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689057780,"creation_date":1689057780,"answer_id":76659286,"question_id":76636360,"body_markdown":"Problem solved. The problem was due to the environment variable `$JAVA_HOME` pointing to a JRE instead of a JDK. The JRE has no `javac`.","title":"Spring Quickstart Guide generated demo fail","body":"<p>Problem solved. The problem was due to the environment variable <code>$JAVA_HOME</code> pointing to a JRE instead of a JDK. The JRE has no <code>javac</code>.</p>\n"}],"owner":{"account_id":5236373,"reputation":33,"user_id":4184811,"display_name":"niemand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1689057780,"creation_date":1688727594,"question_id":76636360,"body_markdown":"Am new to Spring. Followed directions on https://spring.io/quickstart. On [spring initializr][1] page, I left &quot;Gradle - Groovy&quot; (default) as project, &quot;3.1.1&quot; (default) as Spring Boot, &quot;17&quot; (default) as Java, and added &quot;Spring Web&quot; as dependencies. I clicked on &quot;Generate&quot; to get the 70 KB `demo.zip` file. I expanded and moved the `demo` folder to my eclipse (2021-12) workspace, created a Java project using the same name &quot;demo&quot; (as existing project). I modified the `DemoApplication.java` file per step 2 on the [Quickstart][2] page. Ran ```./gradlew bootRun``` in console (macOS) per step 3. And I got a build failure. The first item is:\r\n```\r\n&gt; Could not resolve all files for configuration &#39;:classpath&#39;.\r\n   &gt; Could not resolve org.springframework.boot:spring-boot-gradle-plugin:3.1.1.\r\n```\r\nI also noticed that the `demo.zip` file does not contain any `springframework` library. None of the `springframework.boot` or `springframework.web` imports could be resolved in eclipse IDE.\r\n\r\nWhat went wrong?\r\n\r\n\r\n  [1]: https://start.spring.io/\r\n  [2]: https://spring.io/quickstart","title":"Spring Quickstart Guide generated demo fail","body":"<p>Am new to Spring. Followed directions on <a href=\"https://spring.io/quickstart\" rel=\"nofollow noreferrer\">https://spring.io/quickstart</a>. On <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">spring initializr</a> page, I left &quot;Gradle - Groovy&quot; (default) as project, &quot;3.1.1&quot; (default) as Spring Boot, &quot;17&quot; (default) as Java, and added &quot;Spring Web&quot; as dependencies. I clicked on &quot;Generate&quot; to get the 70 KB <code>demo.zip</code> file. I expanded and moved the <code>demo</code> folder to my eclipse (2021-12) workspace, created a Java project using the same name &quot;demo&quot; (as existing project). I modified the <code>DemoApplication.java</code> file per step 2 on the <a href=\"https://spring.io/quickstart\" rel=\"nofollow noreferrer\">Quickstart</a> page. Ran <code>./gradlew bootRun</code> in console (macOS) per step 3. And I got a build failure. The first item is:</p>\n<pre><code>&gt; Could not resolve all files for configuration ':classpath'.\n   &gt; Could not resolve org.springframework.boot:spring-boot-gradle-plugin:3.1.1.\n</code></pre>\n<p>I also noticed that the <code>demo.zip</code> file does not contain any <code>springframework</code> library. None of the <code>springframework.boot</code> or <code>springframework.web</code> imports could be resolved in eclipse IDE.</p>\n<p>What went wrong?</p>\n"},{"tags":["java","inheritance","arraylist","printing","upcasting"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1688650380,"post_id":76629324,"comment_id":135104643,"body_markdown":"You don&#39;t need to pass any list into that method. It&#39;s an instance method and therefor can access the field `ArrayList&lt;CandyBox&gt; candybag` of the instance the method is called on.","body":"You don&#39;t need to pass any list into that method. It&#39;s an instance method and therefor can access the field <code>ArrayList&lt;CandyBox&gt; candybag</code> of the instance the method is called on."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1688650477,"post_id":76629324,"comment_id":135104677,"body_markdown":"oh, and you can&#39;t just start writing method calls like `candybag.add(Austria_cherry);` into your class body. Those lines need to be inside a method or better yet a constructor.","body":"oh, and you can&#39;t just start writing method calls like <code>candybag.add(Austria_cherry);</code> into your class body. Those lines need to be inside a method or better yet a constructor."},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1689015455,"post_id":76629324,"comment_id":135150663,"body_markdown":"What are the fields of each class that you pass into their constructor? Can you add the implementation of those classes for me to get a better idea of what you are trying to achive?","body":"What are the fields of each class that you pass into their constructor? Can you add the implementation of those classes for me to get a better idea of what you are trying to achive?"}],"answers":[{"tags":[],"owner":{"account_id":23293888,"reputation":13,"user_id":17375554,"display_name":"Enis Mustafaj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688650567,"creation_date":1688650567,"answer_id":76629431,"question_id":76629324,"body_markdown":"I think you need to override the toString() method of each class to return the desired text. Also, the elements of `candybag` list are not string type.\r\n\r\n    for (CandyBox item: candyBag) {\r\n        System.out.println(item.toString());\r\n    }","title":"Populating a list from a class with objects from other classes","body":"<p>I think you need to override the toString() method of each class to return the desired text. Also, the elements of <code>candybag</code> list are not string type.</p>\n<pre><code>for (CandyBox item: candyBag) {\n    System.out.println(item.toString());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689057764,"creation_date":1689057764,"answer_id":76659285,"question_id":76629324,"body_markdown":"Your question is a little unclear and lacks all relevant codes. However I&#39;ll try to answer it as far as I understand.  \r\nWhat I understand of your goal is: You want to create inherited classes of `CandyBox` and finally a `CandyBag` class each of which can be represented as string in order to be able to print. Correct me if I get it wrong.  \r\nWell, I would suggest you to use `Object.toString` by extending the `Object` class and overriding the `toString` method.  \r\nSince I don&#39;t know the properties of the inherited classes like `Lindt` I just added `height` and `width` properties to be able to implement this example. So let&#39;s get into it...  \r\n\r\nFirst we would implement the base class `CandyBox`. Normally it should inherit from the `Object` class implicitly. But in case of it don&#39;t, you should extend it explicitly. In the base class we will override the `toString` method to implement our logic so that it can create a string containing its name and its properties.\r\nBut note that we declare an abstract method named `getName` so that inheritors of this class implement this method for getting their own name. Hence the class itself must be an abstract class as well.\r\n&lt;!-- language-all lang-java --&gt;\r\n```\r\npublic abstract class CandyBox {\r\n    \r\n    private final double height, width;\r\n    \r\n    public CandyBox(double height, double width) {\r\n        this.height = height;\r\n        this.width = width;\r\n    }\r\n    \r\n    public abstract String getName();\r\n    \r\n    public double getHeight() {\r\n        return height;\r\n    }\r\n    \r\n    public double getWidth() {\r\n        return width;\r\n    }\r\n    \r\n    @Override\r\n    public String toString() {\r\n        StringBuilder sb = new StringBuilder(getName());\r\n        sb.append(&quot; { [height:&quot;).append(getHeight()).append(&quot;], [width:&quot;).append(getWidth()).append(&quot;] }&quot;);\r\n        return sb.toString();\r\n    }\r\n}\r\n```\r\n\r\nNow that we have our base class we will create its inheritors `Baravelli`, `ChocoAmor` and `Lindt` respectively.\r\n```\r\npublic class Baravelli extends CandyBox {\r\n    \r\n    public Baravelli(double height, double width) {\r\n        super(height, width);\r\n    }\r\n    \r\n    @Override\r\n    public String getName() {\r\n        return getClass().getSimpleName();\r\n    }\r\n}\r\n\r\n\r\npublic class ChocoAmor extends CandyBox {\r\n    \r\n    public ChocoAmor(double height, double width) {\r\n        super(height, width);\r\n    }\r\n    \r\n    @Override\r\n    public String getName() {\r\n        return getClass().getSimpleName();\r\n    }\r\n}\r\n\r\npublic class ChocoAmor extends CandyBox {\r\n    \r\n    public ChocoAmor(double height, double width) {\r\n        super(height, width);\r\n    }\r\n    \r\n    @Override\r\n    public String getName() {\r\n        return getClass().getSimpleName();\r\n    }\r\n}\r\n```\r\n\r\nAll inherited from the `CandyBox` class and its `toString` implementation. So these 3 classes know how to generate their string representation.  \r\nLet&#39;s proceed and create the `CandyBag` class which will inherit from the `CandyBox` class as well but override the `toString` method to implemnt it for its needs.\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class CandyBag extends CandyBox {\r\n    \r\n    private final List&lt;CandyBox&gt; candyBoxes = new ArrayList&lt;CandyBox&gt;();\r\n    \r\n    public CandyBag(double height, double width) {\r\n        super(height, width);\r\n        candyBoxes.add(new Lindt(3.2, 9.2));\r\n        candyBoxes.add(new Baravelli(3.3, 10.4));\r\n        candyBoxes.add(new ChocoAmor(3.4, 11.6));\r\n    }\r\n    \r\n    @Override\r\n    public String getName() {\r\n        return getClass().getSimpleName();\r\n    }\r\n    \r\n    @Override\r\n    public String toString() {\r\n        String s = super.toString();\r\n        StringBuilder sb = new StringBuilder(s);\r\n        sb.append(&quot;\\n&quot;).append(getName()).append(&quot;&#39;s contents: { \\n\\t&quot;);\r\n            for (int i = 0; i &lt; candyBoxes.size(); i++) {\r\n                CandyBox cb = candyBoxes.get(i);\r\n                sb.append(&quot;[&quot;).append(cb.toString()).append(&quot;]&quot;);\r\n                String ending = i &lt; candyBoxes.size()-1 ? &quot;\\n\\t&quot; : &quot;\\n&quot;;\r\n                sb.append(ending);\r\n            }\r\n            sb.append(&quot;]}&quot;);\r\n            return sb.toString();\r\n    }\r\n}\r\n```\r\nHere it has three fixed candy boxes that created once when it is instantiated (in its consructor method). It also overrode the `toString` method because it has to add its candy content to its string representation.  \r\nThe 99% of the job is done so far. Now it is time to test it. Let&#39;s test it in a main class, let&#39;s create 1 `CandyBag` object and print its string representation.\r\n```\r\npublic class MainClass {\r\n    \r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Here we go...&quot;);\r\n        CandyBag candyBag = new CandyBag(4, 20);\r\n        System.out.println(candyBag.toString());\r\n    }\r\n    \r\n}\r\n```\r\n\r\nSee the output:\r\n```\r\nHere we go...\r\nCandyBag { [height:4.0], [width:20.0] }\r\nCandyBag&#39;s contents: { \r\n    [Lindt { [height:3.2], [width:9.2] }]\r\n    [Baravelli { [height:3.3], [width:10.4] }]\r\n    [ChocoAmor { [height:3.4], [width:11.6] }]\r\n]}\r\n```\r\n\r\nYou can play with the `toString` implementation to change the string representation form for your convenience. Go ahead and try this implementation and let me know if you hit your goal or fail for some reason.","title":"Populating a list from a class with objects from other classes","body":"<p>Your question is a little unclear and lacks all relevant codes. However I'll try to answer it as far as I understand.<br />\nWhat I understand of your goal is: You want to create inherited classes of <code>CandyBox</code> and finally a <code>CandyBag</code> class each of which can be represented as string in order to be able to print. Correct me if I get it wrong.<br />\nWell, I would suggest you to use <code>Object.toString</code> by extending the <code>Object</code> class and overriding the <code>toString</code> method.<br />\nSince I don't know the properties of the inherited classes like <code>Lindt</code> I just added <code>height</code> and <code>width</code> properties to be able to implement this example. So let's get into it...</p>\n<p>First we would implement the base class <code>CandyBox</code>. Normally it should inherit from the <code>Object</code> class implicitly. But in case of it don't, you should extend it explicitly. In the base class we will override the <code>toString</code> method to implement our logic so that it can create a string containing its name and its properties.\nBut note that we declare an abstract method named <code>getName</code> so that inheritors of this class implement this method for getting their own name. Hence the class itself must be an abstract class as well.</p>\n\n<pre><code>public abstract class CandyBox {\n    \n    private final double height, width;\n    \n    public CandyBox(double height, double width) {\n        this.height = height;\n        this.width = width;\n    }\n    \n    public abstract String getName();\n    \n    public double getHeight() {\n        return height;\n    }\n    \n    public double getWidth() {\n        return width;\n    }\n    \n    @Override\n    public String toString() {\n        StringBuilder sb = new StringBuilder(getName());\n        sb.append(&quot; { [height:&quot;).append(getHeight()).append(&quot;], [width:&quot;).append(getWidth()).append(&quot;] }&quot;);\n        return sb.toString();\n    }\n}\n</code></pre>\n<p>Now that we have our base class we will create its inheritors <code>Baravelli</code>, <code>ChocoAmor</code> and <code>Lindt</code> respectively.</p>\n<pre><code>public class Baravelli extends CandyBox {\n    \n    public Baravelli(double height, double width) {\n        super(height, width);\n    }\n    \n    @Override\n    public String getName() {\n        return getClass().getSimpleName();\n    }\n}\n\n\npublic class ChocoAmor extends CandyBox {\n    \n    public ChocoAmor(double height, double width) {\n        super(height, width);\n    }\n    \n    @Override\n    public String getName() {\n        return getClass().getSimpleName();\n    }\n}\n\npublic class ChocoAmor extends CandyBox {\n    \n    public ChocoAmor(double height, double width) {\n        super(height, width);\n    }\n    \n    @Override\n    public String getName() {\n        return getClass().getSimpleName();\n    }\n}\n</code></pre>\n<p>All inherited from the <code>CandyBox</code> class and its <code>toString</code> implementation. So these 3 classes know how to generate their string representation.<br />\nLet's proceed and create the <code>CandyBag</code> class which will inherit from the <code>CandyBox</code> class as well but override the <code>toString</code> method to implemnt it for its needs.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class CandyBag extends CandyBox {\n    \n    private final List&lt;CandyBox&gt; candyBoxes = new ArrayList&lt;CandyBox&gt;();\n    \n    public CandyBag(double height, double width) {\n        super(height, width);\n        candyBoxes.add(new Lindt(3.2, 9.2));\n        candyBoxes.add(new Baravelli(3.3, 10.4));\n        candyBoxes.add(new ChocoAmor(3.4, 11.6));\n    }\n    \n    @Override\n    public String getName() {\n        return getClass().getSimpleName();\n    }\n    \n    @Override\n    public String toString() {\n        String s = super.toString();\n        StringBuilder sb = new StringBuilder(s);\n        sb.append(&quot;\\n&quot;).append(getName()).append(&quot;'s contents: { \\n\\t&quot;);\n            for (int i = 0; i &lt; candyBoxes.size(); i++) {\n                CandyBox cb = candyBoxes.get(i);\n                sb.append(&quot;[&quot;).append(cb.toString()).append(&quot;]&quot;);\n                String ending = i &lt; candyBoxes.size()-1 ? &quot;\\n\\t&quot; : &quot;\\n&quot;;\n                sb.append(ending);\n            }\n            sb.append(&quot;]}&quot;);\n            return sb.toString();\n    }\n}\n</code></pre>\n<p>Here it has three fixed candy boxes that created once when it is instantiated (in its consructor method). It also overrode the <code>toString</code> method because it has to add its candy content to its string representation.<br />\nThe 99% of the job is done so far. Now it is time to test it. Let's test it in a main class, let's create 1 <code>CandyBag</code> object and print its string representation.</p>\n<pre><code>public class MainClass {\n    \n    public static void main(String[] args) {\n        System.out.println(&quot;Here we go...&quot;);\n        CandyBag candyBag = new CandyBag(4, 20);\n        System.out.println(candyBag.toString());\n    }\n    \n}\n</code></pre>\n<p>See the output:</p>\n<pre><code>Here we go...\nCandyBag { [height:4.0], [width:20.0] }\nCandyBag's contents: { \n    [Lindt { [height:3.2], [width:9.2] }]\n    [Baravelli { [height:3.3], [width:10.4] }]\n    [ChocoAmor { [height:3.4], [width:11.6] }]\n]}\n</code></pre>\n<p>You can play with the <code>toString</code> implementation to change the string representation form for your convenience. Go ahead and try this implementation and let me know if you hit your goal or fail for some reason.</p>\n"}],"owner":{"account_id":28963202,"reputation":1,"user_id":22185276,"display_name":"Aled"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689057764,"creation_date":1688649788,"question_id":76629324,"body_markdown":"I am having the next code arhitecture:\r\n - class candybox with arguments flavor and origin which is the parent class for classes: Lindt, Baravelli and ChocoAmor which will have as a plus arguments: height, width(depending of the box)\r\n - class CandyBag which needs to contain an Arraylist that will represent a gift containing 1 candybox of type Lindt, 1 candybox of type Baravelli and 1 candyboxe of type ChocoAmor.\r\nNow my problem is that I do not know how to populate the arraylist from class candybag with objects from the 3 classes: Lindt, Baravelli and ChocoAmor. \r\n\r\nI thought of this:\r\n\r\n    import java.util.*;\r\n    class CandyBag extends CandyBox{\r\n\r\n    ArrayList&lt;CandyBox&gt; candybag = new ArrayList&lt;CandyBox&gt;();\r\n \r\n\r\n    CandyBox Austria_cherry = new Lindt(20, 5.4, 19.2); \r\n    Candybox Italy_grape = new Baravelli(6.7,8.7);\r\n    Candybox France_coffee = new ChocAmor(5.5);\r\n \r\n     \r\n    candybag.add(Austria_cherry);\r\n    candybag.add(Italy_grape);\r\n    candybag.add(France_coffee);\r\n \r\n\r\n    public void printArray(candybag){\r\n     for(String item: candybag){\r\n      System.out.println(item);\r\n   }\r\n }\r\n\r\n\r\n\r\n\r\n\r\nAnd then in main class just to create a candybag object and call printArray method: \r\nCandyBag cadou = new CandyBag();\r\ncadou.printArray(candybag); //i do not know exactly how to pass the arraylist from other class as parameter\r\n\r\nCan you help me with this, how to print the arraylist with the 3 boxes?","title":"Populating a list from a class with objects from other classes","body":"<p>I am having the next code arhitecture:</p>\n<ul>\n<li>class candybox with arguments flavor and origin which is the parent class for classes: Lindt, Baravelli and ChocoAmor which will have as a plus arguments: height, width(depending of the box)</li>\n<li>class CandyBag which needs to contain an Arraylist that will represent a gift containing 1 candybox of type Lindt, 1 candybox of type Baravelli and 1 candyboxe of type ChocoAmor.\nNow my problem is that I do not know how to populate the arraylist from class candybag with objects from the 3 classes: Lindt, Baravelli and ChocoAmor.</li>\n</ul>\n<p>I thought of this:</p>\n<pre><code>import java.util.*;\nclass CandyBag extends CandyBox{\n\nArrayList&lt;CandyBox&gt; candybag = new ArrayList&lt;CandyBox&gt;();\n\n\nCandyBox Austria_cherry = new Lindt(20, 5.4, 19.2); \nCandybox Italy_grape = new Baravelli(6.7,8.7);\nCandybox France_coffee = new ChocAmor(5.5);\n\n \ncandybag.add(Austria_cherry);\ncandybag.add(Italy_grape);\ncandybag.add(France_coffee);\n\n\npublic void printArray(candybag){\n for(String item: candybag){\n  System.out.println(item);\n</code></pre>\n<p>}\n}</p>\n<p>And then in main class just to create a candybag object and call printArray method:\nCandyBag cadou = new CandyBag();\ncadou.printArray(candybag); //i do not know exactly how to pass the arraylist from other class as parameter</p>\n<p>Can you help me with this, how to print the arraylist with the 3 boxes?</p>\n"},{"tags":["java","android","reactjs","react-native","react-native-vector-icons"],"answers":[{"tags":[],"owner":{"account_id":28938817,"reputation":11,"user_id":22165772,"display_name":"Neha Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689057737,"creation_date":1689057737,"answer_id":76659284,"question_id":76605709,"body_markdown":"Please check this. It helped me. Maybe you can try it too.\r\n\r\nhttps://github.com/oblador/react-native-vector-icons/issues/1508","title":"React Native Vector Icons causing build error","body":"<p>Please check this. It helped me. Maybe you can try it too.</p>\n<p><a href=\"https://github.com/oblador/react-native-vector-icons/issues/1508\" rel=\"nofollow noreferrer\">https://github.com/oblador/react-native-vector-icons/issues/1508</a></p>\n"}],"owner":{"account_id":25530349,"reputation":93,"user_id":19318501,"display_name":"Gursahb Webcyst"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":356,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689057737,"creation_date":1688394585,"question_id":76605709,"body_markdown":"I created a React Native Project and Worked on it, It works perfect on debug build. But when I run `./gradlew assembleRelease` inside `android` directory, It leads me to an error.\r\n\r\n```\r\n&gt; Task :app:copyReactNativeVectorIconFonts FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nA problem was found with the configuration of task &#39;:app:copyReactNativeVectorIconFonts&#39; (type &#39;Copy&#39;).\r\n  - Gradle detected a problem with the following location: &#39;/Projects/AppName/android/app/build/intermediates/ReactNativeVectorIcons/fonts&#39;.\r\n    \r\n    Reason: Task &#39;:app:lintVitalAnalyzeRelease&#39; uses this output of task &#39;:app:copyReactNativeVectorIconFonts&#39; without declaring an explicit or implicit dependency. This can lead to incorrect results being produced, depending on what order the tasks are executed.\r\n    \r\n    Possible solutions:\r\n      1. Declare task &#39;:app:copyReactNativeVectorIconFonts&#39; as an input of &#39;:app:lintVitalAnalyzeRelease&#39;.\r\n      2. Declare an explicit dependency on &#39;:app:copyReactNativeVectorIconFonts&#39; from &#39;:app:lintVitalAnalyzeRelease&#39; using Task#dependsOn.\r\n      3. Declare an explicit dependency on &#39;:app:copyReactNativeVectorIconFonts&#39; from &#39;:app:lintVitalAnalyzeRelease&#39; using Task#mustRunAfter.\r\n    \r\n    Please refer to https://docs.gradle.org/8.0.1/userguide/validation_problems.html#implicit_dependency for more details about this problem.\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 9.0.\r\n\r\nYou can use &#39;--warning-mode all&#39; to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\r\n\r\nSee https://docs.gradle.org/8.0.1/userguide/command_line_interface.html#sec:command_line_warnings\r\n\r\nBUILD FAILED in 4s\r\n214 actionable tasks: 7 executed, 207 up-to-date\r\n```\r\n\r\nHere&#39;s `package.json`\r\n```\r\n{\r\n  &quot;name&quot;: &quot;App Name&quot;,\r\n  &quot;version&quot;: &quot;0.0.1&quot;,\r\n  &quot;private&quot;: true,\r\n  &quot;scripts&quot;: {\r\n    &quot;android&quot;: &quot;react-native run-android&quot;,\r\n    &quot;ios&quot;: &quot;react-native run-ios&quot;,\r\n    &quot;lint&quot;: &quot;eslint .&quot;,\r\n    &quot;start&quot;: &quot;react-native start&quot;,\r\n    &quot;test&quot;: &quot;jest&quot;\r\n  },\r\n  &quot;dependencies&quot;: {\r\n    &quot;@react-native-async-storage/async-storage&quot;: &quot;^1.19.0&quot;,\r\n    &quot;@react-navigation/bottom-tabs&quot;: &quot;^6.5.8&quot;,\r\n    &quot;@react-navigation/native&quot;: &quot;^6.1.7&quot;,\r\n    &quot;@react-navigation/native-stack&quot;: &quot;^6.9.13&quot;,\r\n    &quot;@reduxjs/toolkit&quot;: &quot;^1.9.5&quot;,\r\n    &quot;axios&quot;: &quot;^1.4.0&quot;,\r\n    &quot;react&quot;: &quot;18.2.0&quot;,\r\n    &quot;react-native&quot;: &quot;0.72.1&quot;,\r\n    &quot;react-native-linear-gradient&quot;: &quot;^2.7.3&quot;,\r\n    &quot;react-native-safe-area-context&quot;: &quot;^4.6.3&quot;,\r\n    &quot;react-native-screens&quot;: &quot;^3.22.0&quot;,\r\n    &quot;react-native-splash-screen&quot;: &quot;^3.3.0&quot;,\r\n    &quot;react-native-vector-icons&quot;: &quot;^9.2.0&quot;,\r\n    &quot;react-redux&quot;: &quot;^8.1.1&quot;\r\n  },\r\n  &quot;devDependencies&quot;: {\r\n    &quot;@babel/core&quot;: &quot;^7.20.0&quot;,\r\n    &quot;@babel/preset-env&quot;: &quot;^7.20.0&quot;,\r\n    &quot;@babel/runtime&quot;: &quot;^7.20.0&quot;,\r\n    &quot;@react-native/eslint-config&quot;: &quot;^0.72.2&quot;,\r\n    &quot;@react-native/metro-config&quot;: &quot;^0.72.7&quot;,\r\n    &quot;@tsconfig/react-native&quot;: &quot;^3.0.0&quot;,\r\n    &quot;@types/metro-config&quot;: &quot;^0.76.3&quot;,\r\n    &quot;@types/react&quot;: &quot;^18.0.24&quot;,\r\n    &quot;@types/react-test-renderer&quot;: &quot;^18.0.0&quot;,\r\n    &quot;babel-jest&quot;: &quot;^29.2.1&quot;,\r\n    &quot;eslint&quot;: &quot;^8.19.0&quot;,\r\n    &quot;jest&quot;: &quot;^29.2.1&quot;,\r\n    &quot;metro-react-native-babel-preset&quot;: &quot;0.76.5&quot;,\r\n    &quot;prettier&quot;: &quot;^2.4.1&quot;,\r\n    &quot;react-native-dotenv&quot;: &quot;^3.4.9&quot;,\r\n    &quot;react-test-renderer&quot;: &quot;18.2.0&quot;,\r\n    &quot;typescript&quot;: &quot;4.8.4&quot;\r\n  },\r\n  &quot;engines&quot;: {\r\n    &quot;node&quot;: &quot;&gt;=16&quot;\r\n  }\r\n}\r\n```\r\n\r\nI created this project with `npx react-native init AppName`.\r\n\r\nI&#39;m on macOS Ventura 13.4.1\r\n```\r\nNodeJS - 18.15.0\r\nYarn - 1.22.19\r\n\r\nAndroid Studio Electric Eel | 2022.1.1 Patch 2 --\r\nBuild #AI-221.6008.13.2211.9619390, built on February 17, 2023\r\n\r\njava version &quot;17.0.6&quot; 2023-01-17 LTS\r\nJava(TM) SE Runtime Environment (build 17.0.6+9-LTS-190)\r\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.6+9-LTS-190, mixed mode, sharing)\r\n```\r\n","title":"React Native Vector Icons causing build error","body":"<p>I created a React Native Project and Worked on it, It works perfect on debug build. But when I run <code>./gradlew assembleRelease</code> inside <code>android</code> directory, It leads me to an error.</p>\n<pre><code>&gt; Task :app:copyReactNativeVectorIconFonts FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nA problem was found with the configuration of task ':app:copyReactNativeVectorIconFonts' (type 'Copy').\n  - Gradle detected a problem with the following location: '/Projects/AppName/android/app/build/intermediates/ReactNativeVectorIcons/fonts'.\n    \n    Reason: Task ':app:lintVitalAnalyzeRelease' uses this output of task ':app:copyReactNativeVectorIconFonts' without declaring an explicit or implicit dependency. This can lead to incorrect results being produced, depending on what order the tasks are executed.\n    \n    Possible solutions:\n      1. Declare task ':app:copyReactNativeVectorIconFonts' as an input of ':app:lintVitalAnalyzeRelease'.\n      2. Declare an explicit dependency on ':app:copyReactNativeVectorIconFonts' from ':app:lintVitalAnalyzeRelease' using Task#dependsOn.\n      3. Declare an explicit dependency on ':app:copyReactNativeVectorIconFonts' from ':app:lintVitalAnalyzeRelease' using Task#mustRunAfter.\n    \n    Please refer to https://docs.gradle.org/8.0.1/userguide/validation_problems.html#implicit_dependency for more details about this problem.\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 9.0.\n\nYou can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\n\nSee https://docs.gradle.org/8.0.1/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD FAILED in 4s\n214 actionable tasks: 7 executed, 207 up-to-date\n</code></pre>\n<p>Here's <code>package.json</code></p>\n<pre><code>{\n  &quot;name&quot;: &quot;App Name&quot;,\n  &quot;version&quot;: &quot;0.0.1&quot;,\n  &quot;private&quot;: true,\n  &quot;scripts&quot;: {\n    &quot;android&quot;: &quot;react-native run-android&quot;,\n    &quot;ios&quot;: &quot;react-native run-ios&quot;,\n    &quot;lint&quot;: &quot;eslint .&quot;,\n    &quot;start&quot;: &quot;react-native start&quot;,\n    &quot;test&quot;: &quot;jest&quot;\n  },\n  &quot;dependencies&quot;: {\n    &quot;@react-native-async-storage/async-storage&quot;: &quot;^1.19.0&quot;,\n    &quot;@react-navigation/bottom-tabs&quot;: &quot;^6.5.8&quot;,\n    &quot;@react-navigation/native&quot;: &quot;^6.1.7&quot;,\n    &quot;@react-navigation/native-stack&quot;: &quot;^6.9.13&quot;,\n    &quot;@reduxjs/toolkit&quot;: &quot;^1.9.5&quot;,\n    &quot;axios&quot;: &quot;^1.4.0&quot;,\n    &quot;react&quot;: &quot;18.2.0&quot;,\n    &quot;react-native&quot;: &quot;0.72.1&quot;,\n    &quot;react-native-linear-gradient&quot;: &quot;^2.7.3&quot;,\n    &quot;react-native-safe-area-context&quot;: &quot;^4.6.3&quot;,\n    &quot;react-native-screens&quot;: &quot;^3.22.0&quot;,\n    &quot;react-native-splash-screen&quot;: &quot;^3.3.0&quot;,\n    &quot;react-native-vector-icons&quot;: &quot;^9.2.0&quot;,\n    &quot;react-redux&quot;: &quot;^8.1.1&quot;\n  },\n  &quot;devDependencies&quot;: {\n    &quot;@babel/core&quot;: &quot;^7.20.0&quot;,\n    &quot;@babel/preset-env&quot;: &quot;^7.20.0&quot;,\n    &quot;@babel/runtime&quot;: &quot;^7.20.0&quot;,\n    &quot;@react-native/eslint-config&quot;: &quot;^0.72.2&quot;,\n    &quot;@react-native/metro-config&quot;: &quot;^0.72.7&quot;,\n    &quot;@tsconfig/react-native&quot;: &quot;^3.0.0&quot;,\n    &quot;@types/metro-config&quot;: &quot;^0.76.3&quot;,\n    &quot;@types/react&quot;: &quot;^18.0.24&quot;,\n    &quot;@types/react-test-renderer&quot;: &quot;^18.0.0&quot;,\n    &quot;babel-jest&quot;: &quot;^29.2.1&quot;,\n    &quot;eslint&quot;: &quot;^8.19.0&quot;,\n    &quot;jest&quot;: &quot;^29.2.1&quot;,\n    &quot;metro-react-native-babel-preset&quot;: &quot;0.76.5&quot;,\n    &quot;prettier&quot;: &quot;^2.4.1&quot;,\n    &quot;react-native-dotenv&quot;: &quot;^3.4.9&quot;,\n    &quot;react-test-renderer&quot;: &quot;18.2.0&quot;,\n    &quot;typescript&quot;: &quot;4.8.4&quot;\n  },\n  &quot;engines&quot;: {\n    &quot;node&quot;: &quot;&gt;=16&quot;\n  }\n}\n</code></pre>\n<p>I created this project with <code>npx react-native init AppName</code>.</p>\n<p>I'm on macOS Ventura 13.4.1</p>\n<pre><code>NodeJS - 18.15.0\nYarn - 1.22.19\n\nAndroid Studio Electric Eel | 2022.1.1 Patch 2 --\nBuild #AI-221.6008.13.2211.9619390, built on February 17, 2023\n\njava version &quot;17.0.6&quot; 2023-01-17 LTS\nJava(TM) SE Runtime Environment (build 17.0.6+9-LTS-190)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.6+9-LTS-190, mixed mode, sharing)\n</code></pre>\n"},{"tags":["java","multithreading","jakarta-ee"],"comments":[{"owner":{"account_id":12917,"reputation":22601,"user_id":25688,"accept_rate":85,"display_name":"Ken Liu"},"score":4,"creation_date":1274926441,"post_id":533783,"comment_id":2970283,"body_markdown":"Asynchronous tasks are usually done using JMS messaging and MDBs.","body":"Asynchronous tasks are usually done using JMS messaging and MDBs."},{"owner":{"account_id":24080,"reputation":3380,"user_id":60982,"accept_rate":71,"display_name":"letmaik"},"score":5,"creation_date":1375633063,"post_id":533783,"comment_id":26399611,"body_markdown":"This issue should soon be a thing of the past once [JSR 236](http://jcp.org/en/jsr/detail?id=236) is implemented in the containers.","body":"This issue should soon be a thing of the past once <a href=\"http://jcp.org/en/jsr/detail?id=236\" rel=\"nofollow noreferrer\">JSR 236</a> is implemented in the containers."},{"owner":{"account_id":3057808,"reputation":4769,"user_id":2591088,"accept_rate":80,"display_name":"Chris Ritchie"},"score":5,"creation_date":1382430114,"post_id":533783,"comment_id":28945617,"body_markdown":"It _was_ discouraged because any second threads should be created and managed by the container, so that the thread will have access to the other enterprise resources. With Java EE7, there is a standard, and correct way to create threads in an enterprise environment. By using Concurrency Utils, you ensure that your new thread is created, and managed by the container, guaranteeing that all EE services are available.\n\nExample [here](http://stackoverflow.com/questions/3212255/java-ee-specification-and-multi-threading/19404307#19404307)","body":"It <i>was</i> discouraged because any second threads should be created and managed by the container, so that the thread will have access to the other enterprise resources. With Java EE7, there is a standard, and correct way to create threads in an enterprise environment. By using Concurrency Utils, you ensure that your new thread is created, and managed by the container, guaranteeing that all EE services are available.  Example <a href=\"http://stackoverflow.com/questions/3212255/java-ee-specification-and-multi-threading/19404307#19404307\">here</a>"},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1458729206,"post_id":533783,"comment_id":59986881,"body_markdown":"Several correct ways in JSF/EJB perspective can be found here: http://stackoverflow.com/q/6149919","body":"Several correct ways in JSF/EJB perspective can be found here: <a href=\"http://stackoverflow.com/q/6149919\">stackoverflow.com/q/6149919</a>"}],"answers":[{"tags":[],"owner":{"account_id":2213,"reputation":8450,"user_id":3044,"accept_rate":80,"display_name":"levand"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1234294122,"creation_date":1234294122,"answer_id":533797,"question_id":533783,"body_markdown":"I&#39;ve never read that it&#39;s discouraged, except from the fact that it&#39;s not easy to do correctly.\r\n\r\nIt is fairly low-level programming, and like other low-level techniques you ought to have a good reason. Most concurrency problems can be resolved far more effectively using built-in constructs like thread pools.\r\n\r\n","title":"Why is spawning threads in Java EE container discouraged?","body":"<p>I've never read that it's discouraged, except from the fact that it's not easy to do correctly.</p>\n\n<p>It is fairly low-level programming, and like other low-level techniques you ought to have a good reason. Most concurrency problems can be resolved far more effectively using built-in constructs like thread pools.</p>\n"},{"tags":[],"owner":{"account_id":12262,"reputation":103374,"user_id":24054,"accept_rate":86,"display_name":"kgiannakakis"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1414039202,"creation_date":1234294769,"answer_id":533834,"question_id":533783,"body_markdown":"The reason that you shouldn&#39;t spawn your own threads is that these won&#39;t be managed by the container. The container takes care of a lot of things that a novice developer can find hard to imagine. For example things like thread pooling, clustering, crash recoveries are performed by the container. When you start a thread you may lose some of those. Also the container lets you restart your application without affecting the JVM it runs on. How this would be possible if there are threads out of the container&#39;s control?\r\n\r\nThis the reason that from J2EE 1.4 timer services were introduced. See [this][1] article for details.\r\n\r\n\r\n  [1]: http://www.onjava.com/pub/a/onjava/2004/10/13/j2ee-timers.html","title":"Why is spawning threads in Java EE container discouraged?","body":"<p>The reason that you shouldn't spawn your own threads is that these won't be managed by the container. The container takes care of a lot of things that a novice developer can find hard to imagine. For example things like thread pooling, clustering, crash recoveries are performed by the container. When you start a thread you may lose some of those. Also the container lets you restart your application without affecting the JVM it runs on. How this would be possible if there are threads out of the container's control?</p>\n\n<p>This the reason that from J2EE 1.4 timer services were introduced. See <a href=\"http://www.onjava.com/pub/a/onjava/2004/10/13/j2ee-timers.html\" rel=\"nofollow noreferrer\">this</a> article for details.</p>\n"},{"tags":[],"owner":{"account_id":11385,"reputation":24062,"user_id":21925,"accept_rate":62,"display_name":"Robin"},"down_vote_count":0,"up_vote_count":85,"is_accepted":true,"score":85,"last_activity_date":1438416746,"creation_date":1234295020,"answer_id":533847,"question_id":533783,"body_markdown":"It is discouraged because all resources within the environment are meant to be managed, and potentially monitored, by the server.  Also, much of the context in which a thread is being used is typically attached to the thread of execution itself.  If you simply start your own thread (which I believe some servers will not even allow), it cannot access other resources.  What this means, is that you cannot get an InitialContext and do JNDI lookups to access other system resources such as JMS Connection Factories and Datasources.\r\n\r\nThere are ways to do this &quot;correctly&quot;, but it is dependent on the platform being used.  \r\n\r\n[The commonj WorkManager is common for WebSphere and WebLogic as well as others][1]\r\n\r\n[More info here][2]\r\n\r\n[And here][3]\r\n\r\nAlso somewhat duplicates [this one ][4] from this morning\r\n\r\n\r\nUPDATE: Please note that this question and answer relate to the state of Java EE in 2009, things have improved since then!\r\n\r\n  [1]: http://web.archive.org/web/20120510185357/http://www.ibm.com/developerworks/library/specification/j-commonj-sdowmt/index.html\r\n  [2]: http://www.theserverside.com/discussions/thread.tss?thread_id=44353\r\n  [3]: http://docs.oracle.com/middleware/1212/wls/WLPRG/topics.htm#sthref219\r\n  [4]: https://stackoverflow.com/questions/532360/thread-in-app-server/532440#532440","title":"Why is spawning threads in Java EE container discouraged?","body":"<p>It is discouraged because all resources within the environment are meant to be managed, and potentially monitored, by the server.  Also, much of the context in which a thread is being used is typically attached to the thread of execution itself.  If you simply start your own thread (which I believe some servers will not even allow), it cannot access other resources.  What this means, is that you cannot get an InitialContext and do JNDI lookups to access other system resources such as JMS Connection Factories and Datasources.</p>\n\n<p>There are ways to do this \"correctly\", but it is dependent on the platform being used.  </p>\n\n<p><a href=\"http://web.archive.org/web/20120510185357/http://www.ibm.com/developerworks/library/specification/j-commonj-sdowmt/index.html\" rel=\"noreferrer\">The commonj WorkManager is common for WebSphere and WebLogic as well as others</a></p>\n\n<p><a href=\"http://www.theserverside.com/discussions/thread.tss?thread_id=44353\" rel=\"noreferrer\">More info here</a></p>\n\n<p><a href=\"http://docs.oracle.com/middleware/1212/wls/WLPRG/topics.htm#sthref219\" rel=\"noreferrer\">And here</a></p>\n\n<p>Also somewhat duplicates <a href=\"https://stackoverflow.com/questions/532360/thread-in-app-server/532440#532440\">this one </a> from this morning</p>\n\n<p>UPDATE: Please note that this question and answer relate to the state of Java EE in 2009, things have improved since then!</p>\n"},{"tags":[],"owner":{"account_id":7421,"reputation":20226,"user_id":12890,"accept_rate":83,"display_name":"Arne Burmeister"},"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1345615429,"creation_date":1234295324,"answer_id":533877,"question_id":533783,"body_markdown":"There is no real reason not to do so. I used [Quarz][1] with [Spring][2] in a webapp without problems. Also the concurrency framework `java.util.concurrent` may be used. If you implement your own thread handling, set the theads to [deamon][3] or use a own deamon thread group for them so the container may unload your webapp any time.\r\n\r\nBut be careful, the bean scopes *session* and *request* do not work in threads spawned! Also other code beased on [`ThreadLocal`][4] does not work out of the box, you need to transfer the values to the spawned threads by yourself.\r\n\r\n\r\n  [1]: http://www.quartz-scheduler.org/\r\n  [2]: http://www.springsource.org/\r\n  [3]: http://java.sun.com/javase/6/docs/api/java/lang/Thread.html#setDaemon(boolean)\r\n  [4]: http://docs.oracle.com/javase/6/docs/api/java/lang/ThreadLocal.html","title":"Why is spawning threads in Java EE container discouraged?","body":"<p>There is no real reason not to do so. I used <a href=\"http://www.quartz-scheduler.org/\" rel=\"nofollow noreferrer\">Quarz</a> with <a href=\"http://www.springsource.org/\" rel=\"nofollow noreferrer\">Spring</a> in a webapp without problems. Also the concurrency framework <code>java.util.concurrent</code> may be used. If you implement your own thread handling, set the theads to <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Thread.html#setDaemon(boolean)\" rel=\"nofollow noreferrer\">deamon</a> or use a own deamon thread group for them so the container may unload your webapp any time.</p>\n\n<p>But be careful, the bean scopes <em>session</em> and <em>request</em> do not work in threads spawned! Also other code beased on <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/ThreadLocal.html\" rel=\"nofollow noreferrer\"><code>ThreadLocal</code></a> does not work out of the box, you need to transfer the values to the spawned threads by yourself.</p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1234295762,"creation_date":1234295762,"answer_id":533909,"question_id":533783,"body_markdown":"You can always tell the container to start stuff as part of your deployment descriptors.  These can then do whatever maintainance tasks you need to do.\r\n\r\nFollow the rules.  You will be glad some day you did :)","title":"Why is spawning threads in Java EE container discouraged?","body":"<p>You can always tell the container to start stuff as part of your deployment descriptors.  These can then do whatever maintainance tasks you need to do.</p>\n\n<p>Follow the rules.  You will be glad some day you did :)</p>\n"},{"tags":[],"owner":{"account_id":6118,"reputation":2882,"user_id":10166,"accept_rate":50,"display_name":"Javamann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1234305605,"creation_date":1234305605,"answer_id":534560,"question_id":533783,"body_markdown":"One reason I have found if you spawn some threads in you EJB and then you try to have the container unload or update your EJB you are going to run into problems. There is almost always another way to do something where you don&#39;t need a Thread so just say NO.","title":"Why is spawning threads in Java EE container discouraged?","body":"<p>One reason I have found if you spawn some threads in you EJB and then you try to have the container unload or update your EJB you are going to run into problems. There is almost always another way to do something where you don't need a Thread so just say NO.</p>\n"},{"tags":[],"owner":{"account_id":3579,"reputation":53945,"user_id":5171,"accept_rate":100,"display_name":"Dan Dyer"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1234307218,"creation_date":1234307218,"answer_id":534679,"question_id":533783,"body_markdown":"For EJBs, it&#39;s not only discouraged, it&#39;s expressly forbidden by the [specification][1]:\r\n\r\n&gt; An enterprise bean must not use thread\r\n&gt; synchronization primitives to\r\n&gt; synchronize execution of multiple\r\n&gt; instances.\r\n\r\nand\r\n \r\n&gt; The enterprise bean must not attempt\r\n&gt; to manage threads.  The enterprise\r\n&gt; bean must not attempt to start, stop,\r\n&gt; suspend, or resume a thread, or to\r\n&gt; change a thread’s priority or name.\r\n&gt; The enterprise bean must not attempt\r\n&gt; to manage thread groups.\r\n\r\nThe reason is that EJBs are meant to operate in a distributed environment.  An EJB might be moved from one machine in a cluster to another.  Threads (and sockets and other restricted facilities) are a significant barrier to this portability.\r\n\r\n  \r\n\r\n[1]: http://jcp.org/aboutJava/communityprocess/final/jsr220/index.html","title":"Why is spawning threads in Java EE container discouraged?","body":"<p>For EJBs, it's not only discouraged, it's expressly forbidden by the <a href=\"http://jcp.org/aboutJava/communityprocess/final/jsr220/index.html\" rel=\"noreferrer\">specification</a>:</p>\n\n<blockquote>\n  <p>An enterprise bean must not use thread\n  synchronization primitives to\n  synchronize execution of multiple\n  instances.</p>\n</blockquote>\n\n<p>and</p>\n\n<blockquote>\n  <p>The enterprise bean must not attempt\n  to manage threads.  The enterprise\n  bean must not attempt to start, stop,\n  suspend, or resume a thread, or to\n  change a thread’s priority or name.\n  The enterprise bean must not attempt\n  to manage thread groups.</p>\n</blockquote>\n\n<p>The reason is that EJBs are meant to operate in a distributed environment.  An EJB might be moved from one machine in a cluster to another.  Threads (and sockets and other restricted facilities) are a significant barrier to this portability.</p>\n"},{"tags":[],"owner":{"account_id":262137,"reputation":970,"user_id":546792,"display_name":"Ojitha"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1293101710,"creation_date":1293101710,"answer_id":4518090,"question_id":533783,"body_markdown":"Threads are prohibited in Java EE containers according to the blueprints. Please refer to the [blueprints][1]  for more information.\r\n\r\n\r\n  [1]: http://java.sun.com/blueprints/guidelines/designing_enterprise_applications/ejb_tier/qanda/restrictions.html","title":"Why is spawning threads in Java EE container discouraged?","body":"<p>Threads are prohibited in Java EE containers according to the blueprints. Please refer to the <a href=\"http://java.sun.com/blueprints/guidelines/designing_enterprise_applications/ejb_tier/qanda/restrictions.html\" rel=\"nofollow\">blueprints</a>  for more information.</p>\n"},{"tags":[],"owner":{"account_id":3057808,"reputation":4769,"user_id":2591088,"accept_rate":80,"display_name":"Chris Ritchie"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1464077261,"creation_date":1381929265,"answer_id":19404453,"question_id":533783,"body_markdown":"# Concurrency Utilities for Java EE\r\n\r\nThere is now a standard, and correct way to create threads with the core Java EE API:\r\n\r\n - [JSR 236: Concurrency Utilities for Java™ EE][1]\r\n\r\nBy using Concurrency Utils, you ensure that your new thread is created, and managed by the container, guaranteeing that all EE services are available.\r\n\r\nExamples [here](https://stackoverflow.com/questions/3212255/java-ee-specification-and-multi-threading/19404307#19404307)\r\n\r\n\r\n  [1]: https://jcp.org/en/jsr/detail?id=236","title":"Why is spawning threads in Java EE container discouraged?","body":"<h1>Concurrency Utilities for Java EE</h1>\n\n<p>There is now a standard, and correct way to create threads with the core Java EE API:</p>\n\n<ul>\n<li><a href=\"https://jcp.org/en/jsr/detail?id=236\" rel=\"noreferrer\">JSR 236: Concurrency Utilities for Java™ EE</a></li>\n</ul>\n\n<p>By using Concurrency Utils, you ensure that your new thread is created, and managed by the container, guaranteeing that all EE services are available.</p>\n\n<p>Examples <a href=\"https://stackoverflow.com/questions/3212255/java-ee-specification-and-multi-threading/19404307#19404307\">here</a></p>\n"}],"owner":{"account_id":21692,"reputation":18582,"user_id":52954,"accept_rate":78,"display_name":"LiorH"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56799,"favorite_count":0,"down_vote_count":0,"up_vote_count":126,"accepted_answer_id":533847,"answer_count":9,"score":126,"last_activity_date":1689056931,"creation_date":1234293914,"question_id":533783,"body_markdown":"One of the first things I&#39;ve learned about Java EE development is that I shouldn&#39;t spawn my own threads inside a Java EE container. But when I come to think about it, I don&#39;t know the reason.\r\n\r\nCan you clearly explain why it is discouraged? \r\n\r\nI am sure most enterprise applications need some kind of asynchronous jobs like mail daemons, idle sessions, cleanup jobs, etc.\r\n\r\nSo, if indeed one shouldn&#39;t spawn threads, what is the correct way to do it when needed?","title":"Why is spawning threads in Java EE container discouraged?","body":"<p>One of the first things I've learned about Java EE development is that I shouldn't spawn my own threads inside a Java EE container. But when I come to think about it, I don't know the reason.</p>\n<p>Can you clearly explain why it is discouraged?</p>\n<p>I am sure most enterprise applications need some kind of asynchronous jobs like mail daemons, idle sessions, cleanup jobs, etc.</p>\n<p>So, if indeed one shouldn't spawn threads, what is the correct way to do it when needed?</p>\n"},{"tags":["java","android","android-recyclerview","android-viewpager","scrollview"],"owner":{"account_id":28581985,"reputation":1,"user_id":21882810,"display_name":"Remo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689056490,"creation_date":1689056180,"question_id":76659158,"body_markdown":"In my profile page I have StickyScrollview and viewpager in which I have two fragments each of which attach with recyclerview. Im trying to implement StickySroll and want to achive same like one instagram and whatsapp have but it not working properly as it only scroll view pager content but i want if I scroll then it first header get stick to top and then the viewpager scroll just like instagrama and some other socila media app have.\r\n\r\nI used this library &#39;implementation &#39;com.github.amarjain07:StickyScrollView:1.0.2&#39;\r\n\r\n\r\nThis is my code\r\n   \r\n\r\n \r\n\r\n    &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.fragment_home&quot;&gt;\r\n        \r\n          &lt;com.amar.library.ui.StickyScrollView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            app:stickyHeader=&quot;@id/linearLayoutCompat9&quot;\r\n            app:stickyFooter=&quot;@id/viewpager&quot;\r\n            android:fillViewport=&quot;true&quot;\r\n            &gt;\r\n            &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n    \r\n                &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n                    android:id=&quot;@+id/textView&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:gravity=&quot;center&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n    \r\n    \r\n                    &lt;com.google.android.material.appbar.MaterialToolbar\r\n                        android:id=&quot;@+id/toolbar&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;?android:actionBarSize&quot;\r\n                        android:background=&quot;#BAFFFFFF&quot;\r\n                        android:elevation=&quot;1dp&quot;\r\n                        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                        app:title=&quot;My Profile&quot;&gt;\r\n    \r\n                    &lt;/com.google.android.material.appbar.MaterialToolbar&gt;\r\n    \r\n                &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n    \r\n                &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n                    android:id=&quot;@+id/linearLayoutCompat3&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:layout_marginTop=&quot;15dp&quot;\r\n                    android:layout_marginRight=&quot;10dp&quot;\r\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/textView&quot;\r\n                    app:layout_constraintVertical_bias=&quot;0.0&quot;&gt;\r\n    \r\n                    &lt;com.google.android.material.card.MaterialCardView\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:backgroundTint=&quot;@color/black&quot;\r\n                        app:cardCornerRadius=&quot;80dp&quot;\r\n                        app:cardElevation=&quot;1dp&quot;&gt;\r\n    \r\n                        &lt;de.hdodenhof.circleimageview.CircleImageView\r\n                            android:id=&quot;@+id/profile_image&quot;\r\n                            android:layout_width=&quot;100dp&quot;\r\n                            android:layout_height=&quot;100dp&quot;\r\n                            android:src=&quot;@drawable/johnnynew&quot; /&gt;\r\n    \r\n    \r\n                    &lt;/com.google.android.material.card.MaterialCardView&gt;\r\n    \r\n                    &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_gravity=&quot;center&quot;\r\n                        android:gravity=&quot;center&quot;&gt;\r\n    \r\n    \r\n                        &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n                            android:id=&quot;@+id/Followers&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_gravity=&quot;center&quot;\r\n                            android:layout_marginEnd=&quot;30dp&quot;\r\n                            android:gravity=&quot;center&quot;\r\n                            android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n                            &lt;TextView\r\n                                android:id=&quot;@+id/followers_number&quot;\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:text=&quot;1089&quot;\r\n                                android:textColor=&quot;@color/black&quot;\r\n                                android:textSize=&quot;15sp&quot; /&gt;\r\n    \r\n                            &lt;TextView\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:layout_marginTop=&quot;5dp&quot;\r\n                                android:text=&quot;Followers&quot;\r\n                                android:textColor=&quot;#858181&quot;\r\n                                android:textSize=&quot;16sp&quot;\r\n    \r\n                                /&gt;\r\n    \r\n    \r\n                        &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n    \r\n                    &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n                &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n    \r\n               \r\n                &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n    \r\n                &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n                    android:id=&quot;@+id/linearLayoutCompat9&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginTop=&quot;20dp&quot;\r\n                    android:orientation=&quot;vertical&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/linearLayoutCompat8&quot;&gt;\r\n    \r\n                    &lt;com.google.android.material.tabs.TabLayout\r\n                        android:id=&quot;@+id/tabLayout&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;47dp&quot;\r\n                        android:background=&quot;@android:color/transparent&quot;\r\n                        android:theme=&quot;@style/ThemeOverlay.AppCompat.Dark&quot;\r\n                        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                        app:layout_constraintHorizontal_bias=&quot;1.0&quot;\r\n                        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                        app:layout_constraintTop_toBottomOf=&quot;@+id/toolbar&quot;\r\n                        app:tabIconTint=&quot;#74FFFFFF&quot;\r\n                        app:tabIndicatorAnimationMode=&quot;elastic&quot;\r\n                        app:tabIndicatorColor=&quot;#A1000000&quot;\r\n                        app:tabSelectedTextColor=&quot;@color/black&quot;\r\n                        app:tabTextColor=&quot;#838383&quot;&gt;\r\n    \r\n    \r\n                        &lt;com.google.android.material.tabs.TabItem\r\n                            android:id=&quot;@+id/firstIt&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:text=&quot;Post&quot; /&gt;\r\n    \r\n                        &lt;com.google.android.material.tabs.TabItem\r\n                            android:id=&quot;@+id/firstItem&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:text=&quot;QnA&quot; /&gt;\r\n    \r\n    \r\n                    &lt;/com.google.android.material.tabs.TabLayout&gt;\r\n    \r\n            &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n    \r\n            &lt;androidx.viewpager.widget.ViewPager\r\n                android:id=&quot;@+id/viewpager&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:visibility=&quot;visible&quot;\r\n                android:paddingBottom=&quot;50dp&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/linearLayoutCompat9&quot;\r\n                tools:ignore=&quot;NotSibling&quot; /&gt;\r\n    \r\n    \r\n    \r\n      \r\n            &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n    \r\n    \r\n        &lt;/com.amar.library.ui.StickyScrollView&gt;\r\n    \r\n        &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n\r\nI tried by changing main layout from linear to contraint even after from constraint to StickyScroll but nothing works. \r\n\r\n\r\n","title":"Trying to apply StickyScroll with Viewpager","body":"<p>In my profile page I have StickyScrollview and viewpager in which I have two fragments each of which attach with recyclerview. Im trying to implement StickySroll and want to achive same like one instagram and whatsapp have but it not working properly as it only scroll view pager content but i want if I scroll then it first header get stick to top and then the viewpager scroll just like instagrama and some other socila media app have.</p>\n<p>I used this library 'implementation 'com.github.amarjain07:StickyScrollView:1.0.2'</p>\n<p>This is my code</p>\n<pre><code>&lt;androidx.appcompat.widget.LinearLayoutCompat\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.fragment_home&quot;&gt;\n    \n      &lt;com.amar.library.ui.StickyScrollView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:stickyHeader=&quot;@id/linearLayoutCompat9&quot;\n        app:stickyFooter=&quot;@id/viewpager&quot;\n        android:fillViewport=&quot;true&quot;\n        &gt;\n        &lt;androidx.appcompat.widget.LinearLayoutCompat\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n\n\n            &lt;androidx.appcompat.widget.LinearLayoutCompat\n                android:id=&quot;@+id/textView&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:gravity=&quot;center&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n\n                &lt;com.google.android.material.appbar.MaterialToolbar\n                    android:id=&quot;@+id/toolbar&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;?android:actionBarSize&quot;\n                    android:background=&quot;#BAFFFFFF&quot;\n                    android:elevation=&quot;1dp&quot;\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                    app:title=&quot;My Profile&quot;&gt;\n\n                &lt;/com.google.android.material.appbar.MaterialToolbar&gt;\n\n            &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n\n            &lt;androidx.appcompat.widget.LinearLayoutCompat\n                android:id=&quot;@+id/linearLayoutCompat3&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginLeft=&quot;10dp&quot;\n                android:layout_marginTop=&quot;15dp&quot;\n                android:layout_marginRight=&quot;10dp&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/textView&quot;\n                app:layout_constraintVertical_bias=&quot;0.0&quot;&gt;\n\n                &lt;com.google.android.material.card.MaterialCardView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:backgroundTint=&quot;@color/black&quot;\n                    app:cardCornerRadius=&quot;80dp&quot;\n                    app:cardElevation=&quot;1dp&quot;&gt;\n\n                    &lt;de.hdodenhof.circleimageview.CircleImageView\n                        android:id=&quot;@+id/profile_image&quot;\n                        android:layout_width=&quot;100dp&quot;\n                        android:layout_height=&quot;100dp&quot;\n                        android:src=&quot;@drawable/johnnynew&quot; /&gt;\n\n\n                &lt;/com.google.android.material.card.MaterialCardView&gt;\n\n                &lt;androidx.appcompat.widget.LinearLayoutCompat\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_gravity=&quot;center&quot;\n                    android:gravity=&quot;center&quot;&gt;\n\n\n                    &lt;androidx.appcompat.widget.LinearLayoutCompat\n                        android:id=&quot;@+id/Followers&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_gravity=&quot;center&quot;\n                        android:layout_marginEnd=&quot;30dp&quot;\n                        android:gravity=&quot;center&quot;\n                        android:orientation=&quot;vertical&quot;&gt;\n\n                        &lt;TextView\n                            android:id=&quot;@+id/followers_number&quot;\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:text=&quot;1089&quot;\n                            android:textColor=&quot;@color/black&quot;\n                            android:textSize=&quot;15sp&quot; /&gt;\n\n                        &lt;TextView\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:layout_marginTop=&quot;5dp&quot;\n                            android:text=&quot;Followers&quot;\n                            android:textColor=&quot;#858181&quot;\n                            android:textSize=&quot;16sp&quot;\n\n                            /&gt;\n\n\n                    &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n\n                &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n            &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n\n           \n            &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n\n            &lt;androidx.appcompat.widget.LinearLayoutCompat\n                android:id=&quot;@+id/linearLayoutCompat9&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginTop=&quot;20dp&quot;\n                android:orientation=&quot;vertical&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/linearLayoutCompat8&quot;&gt;\n\n                &lt;com.google.android.material.tabs.TabLayout\n                    android:id=&quot;@+id/tabLayout&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;47dp&quot;\n                    android:background=&quot;@android:color/transparent&quot;\n                    android:theme=&quot;@style/ThemeOverlay.AppCompat.Dark&quot;\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                    app:layout_constraintHorizontal_bias=&quot;1.0&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/toolbar&quot;\n                    app:tabIconTint=&quot;#74FFFFFF&quot;\n                    app:tabIndicatorAnimationMode=&quot;elastic&quot;\n                    app:tabIndicatorColor=&quot;#A1000000&quot;\n                    app:tabSelectedTextColor=&quot;@color/black&quot;\n                    app:tabTextColor=&quot;#838383&quot;&gt;\n\n\n                    &lt;com.google.android.material.tabs.TabItem\n                        android:id=&quot;@+id/firstIt&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:text=&quot;Post&quot; /&gt;\n\n                    &lt;com.google.android.material.tabs.TabItem\n                        android:id=&quot;@+id/firstItem&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:text=&quot;QnA&quot; /&gt;\n\n\n                &lt;/com.google.android.material.tabs.TabLayout&gt;\n\n        &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n\n        &lt;androidx.viewpager.widget.ViewPager\n            android:id=&quot;@+id/viewpager&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:visibility=&quot;visible&quot;\n            android:paddingBottom=&quot;50dp&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/linearLayoutCompat9&quot;\n            tools:ignore=&quot;NotSibling&quot; /&gt;\n\n\n\n  \n        &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n\n\n    &lt;/com.amar.library.ui.StickyScrollView&gt;\n\n    &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n</code></pre>\n<p>I tried by changing main layout from linear to contraint even after from constraint to StickyScroll but nothing works.</p>\n"},{"tags":["java","binding","lombok","mapstruct"],"comments":[{"owner":{"account_id":17441145,"reputation":178,"user_id":12643143,"display_name":"RAMU"},"score":0,"creation_date":1577994991,"post_id":59569205,"comment_id":105306281,"body_markdown":"https://mapstruct.org/documentation/stable/reference/html/#mapping-with-builders","body":"<a href=\"https://mapstruct.org/documentation/stable/reference/html/#mapping-with-builders\" rel=\"nofollow noreferrer\">mapstruct.org/documentation/stable/reference/html/&hellip;</a>"},{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":0,"creation_date":1578014746,"post_id":59569205,"comment_id":105311906,"body_markdown":"I&#39;m pretty sure you&#39;re not using Lombok for your builder, because then you won&#39;t get those `with`-prefixed methods. And I think the prefix is the problem.","body":"I&#39;m pretty sure you&#39;re not using Lombok for your builder, because then you won&#39;t get those <code>with</code>-prefixed methods. And I think the prefix is the problem."},{"owner":{"account_id":17441145,"reputation":178,"user_id":12643143,"display_name":"RAMU"},"score":0,"creation_date":1578041802,"post_id":59569205,"comment_id":105318029,"body_markdown":"We use a modified version of Lombok and the pattern that I have mentioned above is a @Wither. https://projectlombok.org/features/With","body":"We use a modified version of Lombok and the pattern that I have mentioned above is a @Wither. <a href=\"https://projectlombok.org/features/With\" rel=\"nofollow noreferrer\">projectlombok.org/features/With</a>"},{"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"score":0,"creation_date":1578118799,"post_id":59569205,"comment_id":105342832,"body_markdown":"When using the Lombok Wither then only the class methods are prefixed, nit the builder ones. Can you please provide your classes with the Lombok annotations as well?","body":"When using the Lombok Wither then only the class methods are prefixed, nit the builder ones. Can you please provide your classes with the Lombok annotations as well?"},{"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"score":1,"creation_date":1578338133,"post_id":59569205,"comment_id":105398803,"body_markdown":"can you try adding an empty constructor in the class? then maybe mapstruct will create a new APIResponse() using the empty constructor and use it to do the mapping. If it does not work then disable the builder using @Mapper(builder = @Builder(disableBuilder = true))","body":"can you try adding an empty constructor in the class? then maybe mapstruct will create a new APIResponse() using the empty constructor and use it to do the mapping. If it does not work then disable the builder using @Mapper(builder = @Builder(disableBuilder = true))"},{"owner":{"account_id":16391404,"reputation":668,"user_id":11840059,"display_name":"Mykola Korol"},"score":0,"creation_date":1579639660,"post_id":59569205,"comment_id":105831334,"body_markdown":"Please provide example with full set of annotations. But I suggest you adding Lombok&#39;s `@NoArgsConstructor`. then `APIResponse mapLibraryToAPI(LibraryResponse source);` should work like a charm as your names are matched.","body":"Please provide example with full set of annotations. But I suggest you adding Lombok&#39;s <code>@NoArgsConstructor</code>. then <code>APIResponse mapLibraryToAPI(LibraryResponse source);</code> should work like a charm as your names are matched."}],"answers":[{"tags":[],"owner":{"account_id":17441145,"reputation":178,"user_id":12643143,"display_name":"RAMU"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1591729878,"creation_date":1591729878,"answer_id":62290160,"question_id":59569205,"body_markdown":"Create a Mapstruct Mapper which doesn&#39;t use builder methods on target type to create mapper methods.\r\n\r\nNonBuilderMapperConfig.java\r\n\r\n```\r\nimport org.mapstruct.Builder;\r\nimport org.mapstruct.MapperConfig;\r\n\r\n@MapperConfig(builder = @Builder(disableBuilder = true))\r\npublic interface NonBuilderMapperConfig {\r\n}\r\n```\r\n\r\nNow extend the mapper on which you want withers.\r\n```\r\n@Mapper(config = NonBuilderMapperConfig.class)\r\npublic interface APIMapper{\r\n\r\n//Now all withers will be binded automatically\r\nAPIResponse mapLibraryToAPI(LibraryResponse source);\r\n}\r\n```\r\n\r\n\r\nIn case if you do not want Builder in your project at all and you are binding only @Wither in your project you can disable Builder by creating a file ```META-INF/services/org.mapstruct.ap.spi.BuilderProvider``` with value ```org.mapstruct.ap.spi.NoOpBuilderProvider``` in your project. Refer [Documentation](https://mapstruct.org/documentation/dev/reference/html/#mapping-with-builders) for more details","title":"MapStruct Problem binding to a class with getter and Builder classes","body":"<p>Create a Mapstruct Mapper which doesn't use builder methods on target type to create mapper methods.</p>\n\n<p>NonBuilderMapperConfig.java</p>\n\n<pre><code>import org.mapstruct.Builder;\nimport org.mapstruct.MapperConfig;\n\n@MapperConfig(builder = @Builder(disableBuilder = true))\npublic interface NonBuilderMapperConfig {\n}\n</code></pre>\n\n<p>Now extend the mapper on which you want withers.</p>\n\n<pre><code>@Mapper(config = NonBuilderMapperConfig.class)\npublic interface APIMapper{\n\n//Now all withers will be binded automatically\nAPIResponse mapLibraryToAPI(LibraryResponse source);\n}\n</code></pre>\n\n<p>In case if you do not want Builder in your project at all and you are binding only @Wither in your project you can disable Builder by creating a file <code>META-INF/services/org.mapstruct.ap.spi.BuilderProvider</code> with value <code>org.mapstruct.ap.spi.NoOpBuilderProvider</code> in your project. Refer <a href=\"https://mapstruct.org/documentation/dev/reference/html/#mapping-with-builders\" rel=\"nofollow noreferrer\">Documentation</a> for more details</p>\n"},{"tags":[],"owner":{"account_id":1380531,"reputation":956,"user_id":1313638,"display_name":"Anna T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689055859,"creation_date":1689055859,"answer_id":76659120,"question_id":59569205,"body_markdown":"Sharing in case someone else is looking for this but the above solution doesn&#39;t work for them (as it didn&#39;t for me) - but my use case is potentially slightly different:\r\n\r\n - Target object does have the &quot;whithers&quot; setter methods (so when source field is &quot;myField&quot; corresponding target is &quot;withMyField&quot;)\r\n - However, we&#39;re using auto-builder frameworks (like Immutables and Lombok), so the Builder is fine/we don&#39;t want to disable it\r\n\r\nWhat _did_ work is the use of [MapStruct Accessor Naming Strategy](https://mapstruct.org/documentation/stable/reference/html/#_custom_accessor_naming_strategy).\r\n\r\nThis is Example 104 from the above link:\r\n\r\n```java\r\npublic class CustomAccessorNamingStrategy extends DefaultAccessorNamingStrategy {\r\n\r\n    @Override\r\n    public boolean isGetterMethod(ExecutableElement method) {\r\n        String methodName = method.getSimpleName().toString();\r\n        return !methodName.startsWith( &quot;with&quot; ) &amp;&amp; method.getReturnType().getKind() != TypeKind.VOID;\r\n    }\r\n\r\n    @Override\r\n    public boolean isSetterMethod(ExecutableElement method) {\r\n        String methodName = method.getSimpleName().toString();\r\n        return methodName.startsWith( &quot;with&quot; ) &amp;&amp; methodName.length() &gt; 4;\r\n    }\r\n\r\n    @Override\r\n    public String getPropertyName(ExecutableElement getterOrSetterMethod) {\r\n        String methodName = getterOrSetterMethod.getSimpleName().toString();\r\n        return IntrospectorUtils.decapitalize( methodName.startsWith( &quot;with&quot; ) ? methodName.substring(  4 ) : methodName );\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nI think if it&#39;s in same package as your code, it should just work - haven&#39;t tested this though. We&#39;re using it as an external package.\r\n\r\nIf it&#39;s an external library package, make sure to vend it out. E.g.:\r\n\r\nSample package structure:\r\n\r\n```\r\nsrc\r\n|\r\n - my/lib/name/CustomAccessorNamingStrategy.java\r\n - META-INF/services/org.mapstruct.ap.spi.AccessorNamingStrategy\r\n```\r\nMake sure that `META-INF/services/org.mapstruct.ap.spi.AccessorNamingStrategy` path and naming is exact or it won&#39;t be discovered\r\n\r\nThen inside the `org.mapstruct.ap.spi.AccessorNamingStrategy` you should have this 1 line:\r\n\r\n```\r\nmy.lib.name.CustomAccessorNamingStrategy\r\n```\r\n","title":"MapStruct Problem binding to a class with getter and Builder classes","body":"<p>Sharing in case someone else is looking for this but the above solution doesn't work for them (as it didn't for me) - but my use case is potentially slightly different:</p>\n<ul>\n<li>Target object does have the &quot;whithers&quot; setter methods (so when source field is &quot;myField&quot; corresponding target is &quot;withMyField&quot;)</li>\n<li>However, we're using auto-builder frameworks (like Immutables and Lombok), so the Builder is fine/we don't want to disable it</li>\n</ul>\n<p>What <em>did</em> work is the use of <a href=\"https://mapstruct.org/documentation/stable/reference/html/#_custom_accessor_naming_strategy\" rel=\"nofollow noreferrer\">MapStruct Accessor Naming Strategy</a>.</p>\n<p>This is Example 104 from the above link:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomAccessorNamingStrategy extends DefaultAccessorNamingStrategy {\n\n    @Override\n    public boolean isGetterMethod(ExecutableElement method) {\n        String methodName = method.getSimpleName().toString();\n        return !methodName.startsWith( &quot;with&quot; ) &amp;&amp; method.getReturnType().getKind() != TypeKind.VOID;\n    }\n\n    @Override\n    public boolean isSetterMethod(ExecutableElement method) {\n        String methodName = method.getSimpleName().toString();\n        return methodName.startsWith( &quot;with&quot; ) &amp;&amp; methodName.length() &gt; 4;\n    }\n\n    @Override\n    public String getPropertyName(ExecutableElement getterOrSetterMethod) {\n        String methodName = getterOrSetterMethod.getSimpleName().toString();\n        return IntrospectorUtils.decapitalize( methodName.startsWith( &quot;with&quot; ) ? methodName.substring(  4 ) : methodName );\n    }\n}\n\n\n</code></pre>\n<p>I think if it's in same package as your code, it should just work - haven't tested this though. We're using it as an external package.</p>\n<p>If it's an external library package, make sure to vend it out. E.g.:</p>\n<p>Sample package structure:</p>\n<pre><code>src\n|\n - my/lib/name/CustomAccessorNamingStrategy.java\n - META-INF/services/org.mapstruct.ap.spi.AccessorNamingStrategy\n</code></pre>\n<p>Make sure that <code>META-INF/services/org.mapstruct.ap.spi.AccessorNamingStrategy</code> path and naming is exact or it won't be discovered</p>\n<p>Then inside the <code>org.mapstruct.ap.spi.AccessorNamingStrategy</code> you should have this 1 line:</p>\n<pre><code>my.lib.name.CustomAccessorNamingStrategy\n</code></pre>\n"}],"owner":{"account_id":17441145,"reputation":178,"user_id":12643143,"display_name":"RAMU"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2974,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":62290160,"answer_count":2,"score":3,"last_activity_date":1689055859,"creation_date":1577994775,"question_id":59569205,"body_markdown":"I am using MapStruct in my project as a binding framework and I am facing problem binding objects.\r\n\r\nBelow is my LibraryResponse Class.\r\n\r\n    public class LibraryResponse{\r\n      private String var1;\r\n      private String var2;\r\n      ...\r\n      private String var20;\r\n      //Setters and Getters for the 20 varibles using Lombok. These are auto generated\r\n    }\r\n\r\nBelow is my APIResponse Class.\r\n\r\n    public class APIResponse{\r\n      private String var1;\r\n      private String var2;\r\n      ...\r\n      private String var20;\r\n      //Setters and Getters for the 20 varibles. These are auto generated\r\n      \r\n      public static Builder builder() { // Auto generated builder class\r\n          return new Builder();\r\n      }\r\n      public static class Builder { // These are auto generated as well\r\n        private String var1;\r\n        private String var2;\r\n        ...\r\n        private String var20;\r\n        public Builder withVar1(String var1) {\r\n          this.var1 = var1;\r\n          return this;\r\n        }\r\n        ...\r\n        public Builder withVar20(String var20) {\r\n          this.var20= var20;\r\n          return this;\r\n        }\r\n      }\r\n    }\r\n\r\nI want to bind LibraryResponse object to APIResponse object.\r\n\r\nFollowing is my mapper class, but this not working as MapStruct is trying to find variable of builder class. I am getting compile warning &quot;Unmapped target properties: withVar1,withVar2....withVar20&quot;\r\n\r\n    @Mapper\r\n    interface APIMapper {\r\n      APIResponse mapLibraryToAPI(LibraryResponse source);\r\n    }\r\n\r\nThe mapper is compiling fine if I use below mapper class (or) If I delete Builder class/methods from APIResponse and use above mapper class.\r\n\r\n    @Mapper\r\n    interface APIMapper {\r\n      @Mapping(target=&quot;withVar1&quot;,source=&quot;var1&quot;)\r\n      ...\r\n      @Mapping(target=&quot;withVar20&quot;,source=&quot;var20&quot;)\r\n      APIResponse mapLibraryToAPI(LibraryResponse source);\r\n    }\r\n\r\nBut I don&#39;t want to write 20 lines of code. Is there any way to tellMapStruct to use getters instead of Builder class?","title":"MapStruct Problem binding to a class with getter and Builder classes","body":"<p>I am using MapStruct in my project as a binding framework and I am facing problem binding objects.</p>\n\n<p>Below is my LibraryResponse Class.</p>\n\n<pre><code>public class LibraryResponse{\n  private String var1;\n  private String var2;\n  ...\n  private String var20;\n  //Setters and Getters for the 20 varibles using Lombok. These are auto generated\n}\n</code></pre>\n\n<p>Below is my APIResponse Class.</p>\n\n<pre><code>public class APIResponse{\n  private String var1;\n  private String var2;\n  ...\n  private String var20;\n  //Setters and Getters for the 20 varibles. These are auto generated\n\n  public static Builder builder() { // Auto generated builder class\n      return new Builder();\n  }\n  public static class Builder { // These are auto generated as well\n    private String var1;\n    private String var2;\n    ...\n    private String var20;\n    public Builder withVar1(String var1) {\n      this.var1 = var1;\n      return this;\n    }\n    ...\n    public Builder withVar20(String var20) {\n      this.var20= var20;\n      return this;\n    }\n  }\n}\n</code></pre>\n\n<p>I want to bind LibraryResponse object to APIResponse object.</p>\n\n<p>Following is my mapper class, but this not working as MapStruct is trying to find variable of builder class. I am getting compile warning \"Unmapped target properties: withVar1,withVar2....withVar20\"</p>\n\n<pre><code>@Mapper\ninterface APIMapper {\n  APIResponse mapLibraryToAPI(LibraryResponse source);\n}\n</code></pre>\n\n<p>The mapper is compiling fine if I use below mapper class (or) If I delete Builder class/methods from APIResponse and use above mapper class.</p>\n\n<pre><code>@Mapper\ninterface APIMapper {\n  @Mapping(target=\"withVar1\",source=\"var1\")\n  ...\n  @Mapping(target=\"withVar20\",source=\"var20\")\n  APIResponse mapLibraryToAPI(LibraryResponse source);\n}\n</code></pre>\n\n<p>But I don't want to write 20 lines of code. Is there any way to tellMapStruct to use getters instead of Builder class?</p>\n"},{"tags":["java","spring-data-jpa"],"comments":[{"owner":{"account_id":6118821,"reputation":962,"user_id":7231339,"display_name":"Michael Sch&#246;nbauer"},"score":0,"creation_date":1689055604,"post_id":76659022,"comment_id":135154949,"body_markdown":"Does this answer your question? [JPA Lazy loading is not working in Spring boot](https://stackoverflow.com/questions/55702642/jpa-lazy-loading-is-not-working-in-spring-boot)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/55702642/jpa-lazy-loading-is-not-working-in-spring-boot\">JPA Lazy loading is not working in Spring boot</a>"}],"answers":[{"tags":[],"owner":{"account_id":6118821,"reputation":962,"user_id":7231339,"display_name":"Michael Sch&#246;nbauer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689055564,"creation_date":1689055564,"answer_id":76659092,"question_id":76659022,"body_markdown":"from [the documentation][1], we find out that FetchType.LAZY means, that data CAN be lazily fetched. \r\n\r\nIt does not enforce that it will be lazily fetched, the decision when an entity is delivered as a whole is taken by the framework, and these decision usually make good sense. \r\n\r\nEspecially in your case, with a 1:1 relationship, the framework will deliver the entity expanded in most cases.\r\n\r\nEasiest way to force it to be lazy is to make it 1:n. (not recommending that tho)\r\n\r\nFor more information look at [that blog][2]\r\n\r\nThere are some ways to force it to use Lazy loaded.\r\n\r\nAlso, this is maybe a duplicate of [this question][3]\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/jpa/2.2/api/javax/persistence/FetchType.html\r\n  [2]: http://justonjava.blogspot.com/2010/09/lazy-one-to-one-and-one-to-many.html?_sm_au_=iVV024RFR7M6QSjrK82BvK0JskMpq\r\n  [3]: https://stackoverflow.com/questions/55702642/jpa-lazy-loading-is-not-working-in-spring-boot","title":"JPA LAZY loading test case","body":"<p>from <a href=\"https://docs.jboss.org/hibernate/jpa/2.2/api/javax/persistence/FetchType.html\" rel=\"nofollow noreferrer\">the documentation</a>, we find out that FetchType.LAZY means, that data CAN be lazily fetched.</p>\n<p>It does not enforce that it will be lazily fetched, the decision when an entity is delivered as a whole is taken by the framework, and these decision usually make good sense.</p>\n<p>Especially in your case, with a 1:1 relationship, the framework will deliver the entity expanded in most cases.</p>\n<p>Easiest way to force it to be lazy is to make it 1:n. (not recommending that tho)</p>\n<p>For more information look at <a href=\"http://justonjava.blogspot.com/2010/09/lazy-one-to-one-and-one-to-many.html?_sm_au_=iVV024RFR7M6QSjrK82BvK0JskMpq\" rel=\"nofollow noreferrer\">that blog</a></p>\n<p>There are some ways to force it to use Lazy loaded.</p>\n<p>Also, this is maybe a duplicate of <a href=\"https://stackoverflow.com/questions/55702642/jpa-lazy-loading-is-not-working-in-spring-boot\">this question</a></p>\n"}],"owner":{"account_id":2583535,"reputation":445,"user_id":2239719,"accept_rate":77,"display_name":"matel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689055564,"creation_date":1689054873,"question_id":76659022,"body_markdown":"I have a contract entity which has oneToOne mapping with generatorState entity\r\n\r\nI save one contract, it works and save the contract and the generatorState\r\nHowever when I get the contract in Postman I have the details of the generatorState while I try to set it up as LAZY\r\n\r\nCan someone please shed some lights on how to get the contract entity with/without the generatorState detailled\r\n\r\nMain\r\n\r\n         @Override\r\n        public void run(String... args) throws Exception {\r\n    \r\n            Contract c1 = new Contract (60,&quot;TSTE&quot;);\r\n    \r\n    //        GeneratorState gs = new GeneratorState(60,100);\r\n    //        c.setGeneratorState(gs);\r\n    //\r\n    //        contractRepository.save(c);\r\n    //        Contract c2 = contractRepository.findById(60).get();\r\n    //        System.out.println(&quot;coucou&quot;);\r\n     \r\n        }\r\n\r\n\r\n\r\nContract entity\r\n\r\n    @Entity\r\n    @Data\r\n    @NoArgsConstructor\r\n    @Table(name=&quot;contracts&quot;)\r\n    public class Contract {\r\n    \r\n        @Id\r\n        int id;\r\n    \r\n        String symbol;\r\n    \r\n        @OneToOne(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n        @JoinColumn(name =&quot;id&quot;)\r\n        private GeneratorState generatorState;\r\n    \r\n        public Contract(int id, String symbol) {\r\n            this.id = id;\r\n            this.symbol = symbol;\r\n        }\r\n    \r\n        @JsonIgnore\r\n        @CreationTimestamp\r\n        @Column(nullable = false, updatable = false, columnDefinition = &quot;TIMESTAMP WITH TIME ZONE&quot;)\r\n        private ZonedDateTime createdOn;\r\n    \r\n    \r\n        @JsonIgnore\r\n        @UpdateTimestamp\r\n        @Column(nullable = false, columnDefinition = &quot;TIMESTAMP WITH TIME ZONE&quot;)\r\n        private ZonedDateTime updatedOn;\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\nGeneratorState\r\n\r\n\r\n    @Entity\r\n    @Table(name=&quot;state_generator&quot;)\r\n    @NoArgsConstructor\r\n    public class GeneratorState {\r\n    \r\n        @Id\r\n        int generatorId;\r\n    \r\n        public int getGeneratorId() {\r\n            return generatorId;\r\n        }\r\n    \r\n        public double getLastPrice() {\r\n            return lastPrice;\r\n        }\r\n    \r\n        double lastPrice;\r\n    \r\n        @JsonIgnore\r\n        @OneToOne(mappedBy = &quot;generatorState&quot;)\r\n        Contract contract;\r\n    \r\n        public GeneratorState(int generatorId, double lastPrice) {\r\n            this.generatorId = generatorId;\r\n            this.lastPrice = lastPrice;\r\n        }\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mk5EU.png","title":"JPA LAZY loading test case","body":"<p>I have a contract entity which has oneToOne mapping with generatorState entity</p>\n<p>I save one contract, it works and save the contract and the generatorState\nHowever when I get the contract in Postman I have the details of the generatorState while I try to set it up as LAZY</p>\n<p>Can someone please shed some lights on how to get the contract entity with/without the generatorState detailled</p>\n<p>Main</p>\n<pre><code>     @Override\n    public void run(String... args) throws Exception {\n\n        Contract c1 = new Contract (60,&quot;TSTE&quot;);\n\n//        GeneratorState gs = new GeneratorState(60,100);\n//        c.setGeneratorState(gs);\n//\n//        contractRepository.save(c);\n//        Contract c2 = contractRepository.findById(60).get();\n//        System.out.println(&quot;coucou&quot;);\n \n    }\n</code></pre>\n<p>Contract entity</p>\n<pre><code>@Entity\n@Data\n@NoArgsConstructor\n@Table(name=&quot;contracts&quot;)\npublic class Contract {\n\n    @Id\n    int id;\n\n    String symbol;\n\n    @OneToOne(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    @JoinColumn(name =&quot;id&quot;)\n    private GeneratorState generatorState;\n\n    public Contract(int id, String symbol) {\n        this.id = id;\n        this.symbol = symbol;\n    }\n\n    @JsonIgnore\n    @CreationTimestamp\n    @Column(nullable = false, updatable = false, columnDefinition = &quot;TIMESTAMP WITH TIME ZONE&quot;)\n    private ZonedDateTime createdOn;\n\n\n    @JsonIgnore\n    @UpdateTimestamp\n    @Column(nullable = false, columnDefinition = &quot;TIMESTAMP WITH TIME ZONE&quot;)\n    private ZonedDateTime updatedOn;\n\n\n\n}\n</code></pre>\n<p>GeneratorState</p>\n<pre><code>@Entity\n@Table(name=&quot;state_generator&quot;)\n@NoArgsConstructor\npublic class GeneratorState {\n\n    @Id\n    int generatorId;\n\n    public int getGeneratorId() {\n        return generatorId;\n    }\n\n    public double getLastPrice() {\n        return lastPrice;\n    }\n\n    double lastPrice;\n\n    @JsonIgnore\n    @OneToOne(mappedBy = &quot;generatorState&quot;)\n    Contract contract;\n\n    public GeneratorState(int generatorId, double lastPrice) {\n        this.generatorId = generatorId;\n        this.lastPrice = lastPrice;\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/mk5EU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mk5EU.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["javascript","java","gwt","google-visualization"],"owner":{"account_id":1424629,"reputation":433,"user_id":1348487,"accept_rate":89,"display_name":"Hansj&#246;rg Hofer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689055474,"creation_date":1689055474,"question_id":76659087,"body_markdown":"Hi i have a googlee timeline chart\r\n\r\n```\r\n private static native Promise setDataToChart(Object[] objects1)/*-{\r\n        // Load the Visualization API and the piechart package.\r\n        $wnd.google.charts.load(&quot;current&quot;, {packages: [&quot;timeline&quot;]});\r\n        $wnd.google.charts.setOnLoadCallback(drawChart(objects1));\r\n\r\n        function drawChart(obj1) {\r\n            var container = $wnd.document.getElementById(&#39;timeline&#39;);\r\n            var chart = new $wnd.google.visualization.Timeline(container);\r\n            var dataTable = new $wnd.google.visualization.DataTable();\r\n            dataTable.addColumn({type: &#39;string&#39;, id: &#39;Role&#39;});\r\n            dataTable.addColumn({type: &#39;string&#39;, id: &#39;Name&#39;});\r\n            dataTable.addColumn({type: &#39;string&#39;, id: &#39;style&#39;, role: &#39;style&#39;});\r\n            dataTable.addColumn({type: &#39;date&#39;, id: &#39;Start&#39;});\r\n            dataTable.addColumn({type: &#39;date&#39;, id: &#39;End&#39;});\r\n\r\n            dataTable.addRows(obj1);\r\n\r\n            var options = {\r\n                title: &#39;Rate the Day on a Scale of 1 to 10&#39;,\r\n\r\n                hAxis: {\r\n                    format: &#39;dd/MM/yyyy&#39;\r\n                }\r\n            };\r\n\r\n            chart.draw(dataTable, options);\r\n\r\n            // Hide empthy items\r\n            var rects = $wnd.document.getElementsByTagName(&#39;rect&#39;);\r\n            for (var i = 0; i &lt; rects.length; i++) {\r\n                if (rects[i].getAttribute(&quot;fill&quot;) === &quot;#f44336&quot;) {\r\n                    rects[i].setAttribute(&quot;display&quot;, &quot;none&quot;);\r\n                }\r\n            }\r\n        }\r\n\r\n    }-*/;\r\n```\r\n\r\n[![result][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/im1Bp.png\r\n\r\nAs you could notice in the picture, he is using the same day twice on X-axis, howto set the scale to 1 day instead of 2 or 4 ?\r\n\r\nThanks in advance","title":"Timeline Google Charts hAxis resolution java javascript GWT","body":"<p>Hi i have a googlee timeline chart</p>\n<pre><code> private static native Promise setDataToChart(Object[] objects1)/*-{\n        // Load the Visualization API and the piechart package.\n        $wnd.google.charts.load(&quot;current&quot;, {packages: [&quot;timeline&quot;]});\n        $wnd.google.charts.setOnLoadCallback(drawChart(objects1));\n\n        function drawChart(obj1) {\n            var container = $wnd.document.getElementById('timeline');\n            var chart = new $wnd.google.visualization.Timeline(container);\n            var dataTable = new $wnd.google.visualization.DataTable();\n            dataTable.addColumn({type: 'string', id: 'Role'});\n            dataTable.addColumn({type: 'string', id: 'Name'});\n            dataTable.addColumn({type: 'string', id: 'style', role: 'style'});\n            dataTable.addColumn({type: 'date', id: 'Start'});\n            dataTable.addColumn({type: 'date', id: 'End'});\n\n            dataTable.addRows(obj1);\n\n            var options = {\n                title: 'Rate the Day on a Scale of 1 to 10',\n\n                hAxis: {\n                    format: 'dd/MM/yyyy'\n                }\n            };\n\n            chart.draw(dataTable, options);\n\n            // Hide empthy items\n            var rects = $wnd.document.getElementsByTagName('rect');\n            for (var i = 0; i &lt; rects.length; i++) {\n                if (rects[i].getAttribute(&quot;fill&quot;) === &quot;#f44336&quot;) {\n                    rects[i].setAttribute(&quot;display&quot;, &quot;none&quot;);\n                }\n            }\n        }\n\n    }-*/;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/im1Bp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/im1Bp.png\" alt=\"result\" /></a></p>\n<p>As you could notice in the picture, he is using the same day twice on X-axis, howto set the scale to 1 day instead of 2 or 4 ?</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":0,"creation_date":1674685714,"post_id":75240419,"comment_id":132770328,"body_markdown":"If you are using MySQL 8.\nneed to use this dialect and please add in application.properties.\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect","body":"If you are using MySQL 8. need to use this dialect and please add in application.properties. spring.jpa.properties.hibernate.dialect=org.hibernate.dialec&zwnj;&#8203;t.MySQL8Dialect"},{"owner":{"account_id":281380,"reputation":2648,"user_id":577647,"accept_rate":69,"display_name":"tolga"},"score":0,"creation_date":1674686313,"post_id":75240419,"comment_id":132770434,"body_markdown":"Thanks. Now it says: java.lang.ClassNotFoundException: Could not load requested class : org.hibernate.dialect.MySQL8","body":"Thanks. Now it says: java.lang.ClassNotFoundException: Could not load requested class : org.hibernate.dialect.MySQL8"},{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":1,"creation_date":1674687249,"post_id":75240419,"comment_id":132770641,"body_markdown":"as per error it says use org.hibernate.dialect.MySQLDialect , please try this one.\nI am not sure which version of hibernate are you using","body":"as per error it says use org.hibernate.dialect.MySQLDialect , please try this one. I am not sure which version of hibernate are you using"},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1674830348,"post_id":75240419,"comment_id":132802759,"body_markdown":"I guess you&#39;re using Spring Boot 3, right? It sounds like Spring Data JPA wasn&#39;t changed to account for changes in Hibernate 6.","body":"I guess you&#39;re using Spring Boot 3, right? It sounds like Spring Data JPA wasn&#39;t changed to account for changes in Hibernate 6."}],"answers":[{"tags":[],"owner":{"account_id":281380,"reputation":2648,"user_id":577647,"accept_rate":69,"display_name":"tolga"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1674689008,"creation_date":1674689008,"answer_id":75240932,"question_id":75240419,"body_markdown":"With the help of Raushan Kumar I solved the connection problem with:\r\n\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect","title":"MySQL57Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead","body":"<p>With the help of Raushan Kumar I solved the connection problem with:</p>\n<pre><code>spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22379244,"reputation":1,"user_id":16593086,"display_name":"Munyaradzi Chigangawa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689054508,"creation_date":1689054508,"answer_id":76658993,"question_id":75240419,"body_markdown":"Try using \r\n\r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL8Dialect","title":"MySQL57Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead","body":"<p>Try using</p>\n<pre><code>spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL8Dialect\n</code></pre>\n"}],"owner":{"account_id":281380,"reputation":2648,"user_id":577647,"accept_rate":69,"display_name":"tolga"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7006,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":75240932,"answer_count":2,"score":4,"last_activity_date":1689054508,"creation_date":1674684892,"question_id":75240419,"body_markdown":"In my Java Spring Boot project I try to migrate User entity into mysql database.\r\n\r\nWhen I mvn spring-boot:run, I see following error:\r\n\r\n    HHH90000026: MySQL57Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead\r\n\r\nHere&#39;s my application.properties:\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/mydb?createDatabaseIfNotExist=true \r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.datasource.username=root\r\n    spring.datasource.password=root\r\n    spring.jpa.database=mysql\r\n\r\nHere&#39;s the dependency for mysql:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWhat am I missing?","title":"MySQL57Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead","body":"<p>In my Java Spring Boot project I try to migrate User entity into mysql database.</p>\n<p>When I mvn spring-boot:run, I see following error:</p>\n<pre><code>HHH90000026: MySQL57Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead\n</code></pre>\n<p>Here's my application.properties:</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/mydb?createDatabaseIfNotExist=true \nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.datasource.username=root\nspring.datasource.password=root\nspring.jpa.database=mysql\n</code></pre>\n<p>Here's the dependency for mysql:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>What am I missing?</p>\n"},{"tags":["java","spring","oracle","maven","jdbc"],"comments":[{"owner":{"account_id":541997,"reputation":7814,"user_id":910736,"display_name":"JamesB"},"score":0,"creation_date":1436391136,"post_id":31304103,"comment_id":50598071,"body_markdown":"How did you add the jar to maven? Could you list your pom.xml file?","body":"How did you add the jar to maven? Could you list your pom.xml file?"},{"owner":{"account_id":6352151,"reputation":345,"user_id":4930829,"accept_rate":67,"display_name":"Andr&#233;s Marotta"},"score":0,"creation_date":1436391314,"post_id":31304103,"comment_id":50598146,"body_markdown":"I was trying to add it in my pom.xml, but I read that I can&#39;t do that because of the Oracle license. So, I did this:\n\n`mvn install:install-file -Dfile={ojdbc.jar} -DgroupId=com.oracle \n-DartifactId=ojdbc6 -Dversion=11.2.0 -Dpackaging=jar`","body":"I was trying to add it in my pom.xml, but I read that I can&#39;t do that because of the Oracle license. So, I did this:  <code>mvn install:install-file -Dfile={ojdbc.jar} -DgroupId=com.oracle  -DartifactId=ojdbc6 -Dversion=11.2.0 -Dpackaging=jar</code>"},{"owner":{"account_id":6064783,"reputation":1354,"user_id":4735477,"accept_rate":65,"display_name":"Alejandro Agapito Bautista"},"score":0,"creation_date":1436391374,"post_id":31304103,"comment_id":50598179,"body_markdown":"But how do you have your pom.xml file?","body":"But how do you have your pom.xml file?"},{"owner":{"account_id":158682,"reputation":777,"user_id":377493,"accept_rate":0,"display_name":"bmscomp"},"score":0,"creation_date":1436392209,"post_id":31304103,"comment_id":50598574,"body_markdown":"You can donwload the jar file and place on the lib of your webserver it&#39;s better in the case of driver","body":"You can donwload the jar file and place on the lib of your webserver it&#39;s better in the case of driver"},{"owner":{"account_id":6352151,"reputation":345,"user_id":4930829,"accept_rate":67,"display_name":"Andr&#233;s Marotta"},"score":0,"creation_date":1436392274,"post_id":31304103,"comment_id":50598616,"body_markdown":"I said it, I tried that and still got the same error.","body":"I said it, I tried that and still got the same error."}],"answers":[{"tags":[],"owner":{"account_id":4099584,"reputation":2238,"user_id":3365479,"accept_rate":80,"display_name":"madteapot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1436393624,"creation_date":1436393624,"answer_id":31304766,"question_id":31304103,"body_markdown":"There are few different options to get the what you want to do.\r\n\r\n1. Install your own repository such as nexus, artifactory and deploy the jars in the repository, after that you can declare them as a dependency in your pom file. \r\n\r\n2. Put the jar file somewhere on your machine (preferably `${base.dir}/lib` folder), use the system scope while declaring maven dependency and provide a systemPath for the jar. First, copy ojdbc.jar file to `${base.dir}/lib` folder. \r\n\r\nthen in your pom.xml declare the dependency as below;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ojdbc14&lt;/artifactId&gt;\r\n        &lt;version&gt;10.2.0&lt;/version&gt;\r\n        &lt;scope&gt;system&lt;/scope&gt;\r\n        &lt;systemPath&gt;${basedir}/lib/ojdbc14.jar&lt;/systemPath&gt;\r\n    &lt;/dependency&gt;\r\n\r\nUse maven dependency plugin to to include the dependencies with `system` scope;\r\n\r\n    &lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8&lt;/version&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n                    &lt;phase&gt;compile&lt;/phase&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;outputDirectory&gt;${project.build.directory}/${project.build.finalName}/WEB-INF/lib&lt;/outputDirectory&gt;\r\n                        &lt;includeScope&gt;system&lt;/includeScope&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n3. You can also use the `maven install:install` command to install the artifact in your local repository and then declare it as normal dependency in you pom.xml file. \r\n\r\nFor example run the following;\r\n\r\n    mvn install:install-file -Dfile=ojdbc14.jar -DgroupId=com.oracle -DartifactId=ojdbc14 -Dversion=10.2.0 -Dpackaging=jar\r\n\r\nand then declare it as dependecy in you pom.xml;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ojdbc14&lt;/artifactId&gt;\r\n        &lt;version&gt;10.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**NOTE:** Option one is useful if you are group of developers and need few third party libs. This way everyone won&#39;t have to keep installing the jar in their local repo and will also provide you more control over the project dependency management. Option two and three means the project will only compile/build from your machine and will have to be configured and different machines by every time installing/copying the jar in the `${base.dir}` or local repository. ","title":"Spring Tool Suite - ClassNotFoundException: oracle.jdbc.driver.OracleDriver","body":"<p>There are few different options to get the what you want to do.</p>\n\n<ol>\n<li><p>Install your own repository such as nexus, artifactory and deploy the jars in the repository, after that you can declare them as a dependency in your pom file. </p></li>\n<li><p>Put the jar file somewhere on your machine (preferably <code>${base.dir}/lib</code> folder), use the system scope while declaring maven dependency and provide a systemPath for the jar. First, copy ojdbc.jar file to <code>${base.dir}/lib</code> folder. </p></li>\n</ol>\n\n<p>then in your pom.xml declare the dependency as below;</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n    &lt;artifactId&gt;ojdbc14&lt;/artifactId&gt;\n    &lt;version&gt;10.2.0&lt;/version&gt;\n    &lt;scope&gt;system&lt;/scope&gt;\n    &lt;systemPath&gt;${basedir}/lib/ojdbc14.jar&lt;/systemPath&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Use maven dependency plugin to to include the dependencies with <code>system</code> scope;</p>\n\n<pre><code>&lt;build&gt;\n&lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.8&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;copy-dependencies&lt;/id&gt;\n                &lt;phase&gt;compile&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                    &lt;outputDirectory&gt;${project.build.directory}/${project.build.finalName}/WEB-INF/lib&lt;/outputDirectory&gt;\n                    &lt;includeScope&gt;system&lt;/includeScope&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<ol start=\"3\">\n<li>You can also use the <code>maven install:install</code> command to install the artifact in your local repository and then declare it as normal dependency in you pom.xml file. </li>\n</ol>\n\n<p>For example run the following;</p>\n\n<pre><code>mvn install:install-file -Dfile=ojdbc14.jar -DgroupId=com.oracle -DartifactId=ojdbc14 -Dversion=10.2.0 -Dpackaging=jar\n</code></pre>\n\n<p>and then declare it as dependecy in you pom.xml;</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n    &lt;artifactId&gt;ojdbc14&lt;/artifactId&gt;\n    &lt;version&gt;10.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><strong>NOTE:</strong> Option one is useful if you are group of developers and need few third party libs. This way everyone won't have to keep installing the jar in their local repo and will also provide you more control over the project dependency management. Option two and three means the project will only compile/build from your machine and will have to be configured and different machines by every time installing/copying the jar in the <code>${base.dir}</code> or local repository. </p>\n"},{"tags":[],"owner":{"account_id":11276599,"reputation":56,"user_id":8270483,"display_name":"Cristian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1553271674,"creation_date":1553258543,"answer_id":55299870,"question_id":31304103,"body_markdown":"What worked for me, after installing the ojdbc jar file with maven locally, was to change the scope of the dependency from the default *provided* to *compile*.\r\n\r\nChanging the scope like this suggests that maven would have installed automatically this dependency, but in trying to solve the issue this was the sequence of steps I did for it to work.\r\n\r\nThe scope can be changed in the effective pom but for my project this dependency needed to be provided by the server and changing it from the project settings in IntelliJ did not affect the pom. (*Note that certain operations like generating and updating the sources in the maven panel can reset the settings of the project to match the pom.)\r\n","title":"Spring Tool Suite - ClassNotFoundException: oracle.jdbc.driver.OracleDriver","body":"<p>What worked for me, after installing the ojdbc jar file with maven locally, was to change the scope of the dependency from the default <em>provided</em> to <em>compile</em>.</p>\n\n<p>Changing the scope like this suggests that maven would have installed automatically this dependency, but in trying to solve the issue this was the sequence of steps I did for it to work.</p>\n\n<p>The scope can be changed in the effective pom but for my project this dependency needed to be provided by the server and changing it from the project settings in IntelliJ did not affect the pom. (*Note that certain operations like generating and updating the sources in the maven panel can reset the settings of the project to match the pom.)</p>\n"},{"tags":[],"owner":{"account_id":28962963,"reputation":1,"user_id":22185078,"display_name":"Diana M."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689054484,"creation_date":1688761097,"answer_id":76640012,"question_id":31304103,"body_markdown":"One of the problems could be the incorrect url in the application configuration:\r\n&gt;spring.datasource.url=jdbc\\:oracle\\:thin\\:@//localhost\\:1521/XE\r\n\r\nCheck if there are missing \\ or /, and also check the others params.\r\nCheck to see if you are not missing some jars in pom from Maven.\r\n\r\nFull app configuration is:\r\n\r\n    spring.datasource.url=jdbc\\:oracle\\:thin\\:@//localhost\\:1521/XE    \r\n    spring.datasource.driver-class-name = oracle.jdbc.driver.OracleDriver    \r\n    spring.datasource.name=XE    \r\n    spring.datasource.username=C\\#\\#username\r\n    spring.datasource.password=userpass    \r\n    spring.jpa.database=oracle\r\n    \r\n    #hibernate configs\r\n    spring.jpa.database-platform=org.hibernate.dialect.OracleDialect    \r\n    spring.jpa.hibernate.ddl-auto=create","title":"Spring Tool Suite - ClassNotFoundException: oracle.jdbc.driver.OracleDriver","body":"<p>One of the problems could be the incorrect url in the application configuration:</p>\n<blockquote>\n<p>spring.datasource.url=jdbc:oracle:thin:@//localhost:1521/XE</p>\n</blockquote>\n<p>Check if there are missing \\ or /, and also check the others params.\nCheck to see if you are not missing some jars in pom from Maven.</p>\n<p>Full app configuration is:</p>\n<pre><code>spring.datasource.url=jdbc\\:oracle\\:thin\\:@//localhost\\:1521/XE    \nspring.datasource.driver-class-name = oracle.jdbc.driver.OracleDriver    \nspring.datasource.name=XE    \nspring.datasource.username=C\\#\\#username\nspring.datasource.password=userpass    \nspring.jpa.database=oracle\n\n#hibernate configs\nspring.jpa.database-platform=org.hibernate.dialect.OracleDialect    \nspring.jpa.hibernate.ddl-auto=create\n</code></pre>\n"}],"owner":{"account_id":6352151,"reputation":345,"user_id":4930829,"accept_rate":67,"display_name":"Andr&#233;s Marotta"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9172,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":31304766,"answer_count":3,"score":2,"last_activity_date":1689054484,"creation_date":1436390776,"question_id":31304103,"body_markdown":"I keep fighting with Spring. I&#39;m trying to connect my app with my local Oracle database, but I get that error:\r\n\r\n    ClassNotFoundException: oracle.jdbc.driver.OracleDriver\r\n\r\nI figured out that the problem is the missing **.jar**, and I tried to include it, but I keep getting the same error.\r\n\r\nI install the **Oracle JDBC JAR** in my Maven repository, I checked that it loads correctly in my project, with all the classes, etc., but still not working.\r\n\r\nI tried to add the JAR in my Build Path, and I get the warning saying that it won&#39;t include it.\r\n\r\nI tried *copy&amp;paste* the JAR into the workspace, the server, the Java path... and nothing.\r\n\r\nThe only thing I couldn&#39;t do was copy it into the **WEB-INF/lib** folder (as some answers recommended), because that folder doesn&#39;t exists in my project. STS didn&#39;t created it (I assume that&#39;s because the folder structure for Spring MVC WebApplication is not the same as the usual WebApplication one).\r\n\r\nAny ideas?\r\n\r\n**-- UPDATE --**\r\n\r\nMy **pom.xml** as requested:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;ar.com&lt;/groupId&gt;\r\n    &lt;artifactId&gt;violenciaesmentir&lt;/artifactId&gt;\r\n    &lt;name&gt;blog&lt;/name&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;version&gt;1.0.0-BUILD-SNAPSHOT&lt;/version&gt;\r\n    &lt;properties&gt;\r\n      &lt;java-version&gt;1.8&lt;/java-version&gt;\r\n      &lt;org.springframework-version&gt;4.1.6.RELEASE&lt;/org.springframework-version&gt;\r\n      &lt;org.aspectj-version&gt;1.6.10&lt;/org.aspectj-version&gt;\r\n      &lt;org.slf4j-version&gt;1.6.6&lt;/org.slf4j-version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;!-- Spring --&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n        &lt;version&gt;${org.springframework-version}&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n          &lt;!-- Exclude Commons Logging in favor of SLF4j --&gt;\r\n          &lt;exclusion&gt;\r\n            &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n          &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n        &lt;version&gt;${org.springframework-version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\t\t\t\t\r\n      &lt;!-- AspectJ --&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n        &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n        &lt;version&gt;${org.aspectj-version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\t\r\n\t\t\r\n      &lt;!-- Logging --&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n        &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n        &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n        &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.15&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n          &lt;exclusion&gt;\r\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n          &lt;/exclusion&gt;\r\n          &lt;exclusion&gt;\r\n            &lt;groupId&gt;javax.jms&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jms&lt;/artifactId&gt;\r\n          &lt;/exclusion&gt;\r\n          &lt;exclusion&gt;\r\n            &lt;groupId&gt;com.sun.jdmk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jmxtools&lt;/artifactId&gt;\r\n          &lt;/exclusion&gt;\r\n          &lt;exclusion&gt;\r\n            &lt;groupId&gt;com.sun.jmx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jmxri&lt;/artifactId&gt;\r\n          &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;!-- @Inject --&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.inject&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\r\n        &lt;version&gt;1&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\t\t\r\n      &lt;!-- Servlet --&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;!-- Test --&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;junit&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n        &lt;version&gt;4.7&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-eclipse-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.9&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;additionalProjectnatures&gt;\r\n              &lt;projectnature&gt;org.springframework.ide.eclipse.core.springnature&lt;/projectnature&gt;\r\n            &lt;/additionalProjectnatures&gt;\r\n            &lt;additionalBuildcommands&gt;\r\n              &lt;buildcommand&gt;org.springframework.ide.eclipse.core.springbuilder&lt;/buildcommand&gt;\r\n              &lt;/additionalBuildcommands&gt;\r\n              &lt;downloadSources&gt;true&lt;/downloadSources&gt;\r\n              &lt;downloadJavadocs&gt;true&lt;/downloadJavadocs&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.1&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;source&gt;1.8&lt;/source&gt;\r\n              &lt;target&gt;1.8&lt;/target&gt;\r\n              &lt;compilerArgument&gt;-Xlint:all&lt;/compilerArgument&gt;\r\n              &lt;showWarnings&gt;true&lt;/showWarnings&gt;\r\n              &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.1&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;mainClass&gt;org.test.int1.Main&lt;/mainClass&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n","title":"Spring Tool Suite - ClassNotFoundException: oracle.jdbc.driver.OracleDriver","body":"<p>I keep fighting with Spring. I'm trying to connect my app with my local Oracle database, but I get that error:</p>\n\n<pre><code>ClassNotFoundException: oracle.jdbc.driver.OracleDriver\n</code></pre>\n\n<p>I figured out that the problem is the missing <strong>.jar</strong>, and I tried to include it, but I keep getting the same error.</p>\n\n<p>I install the <strong>Oracle JDBC JAR</strong> in my Maven repository, I checked that it loads correctly in my project, with all the classes, etc., but still not working.</p>\n\n<p>I tried to add the JAR in my Build Path, and I get the warning saying that it won't include it.</p>\n\n<p>I tried <em>copy&amp;paste</em> the JAR into the workspace, the server, the Java path... and nothing.</p>\n\n<p>The only thing I couldn't do was copy it into the <strong>WEB-INF/lib</strong> folder (as some answers recommended), because that folder doesn't exists in my project. STS didn't created it (I assume that's because the folder structure for Spring MVC WebApplication is not the same as the usual WebApplication one).</p>\n\n<p>Any ideas?</p>\n\n<p><strong>-- UPDATE --</strong></p>\n\n<p>My <strong>pom.xml</strong> as requested:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;ar.com&lt;/groupId&gt;\n&lt;artifactId&gt;violenciaesmentir&lt;/artifactId&gt;\n&lt;name&gt;blog&lt;/name&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n&lt;version&gt;1.0.0-BUILD-SNAPSHOT&lt;/version&gt;\n&lt;properties&gt;\n  &lt;java-version&gt;1.8&lt;/java-version&gt;\n  &lt;org.springframework-version&gt;4.1.6.RELEASE&lt;/org.springframework-version&gt;\n  &lt;org.aspectj-version&gt;1.6.10&lt;/org.aspectj-version&gt;\n  &lt;org.slf4j-version&gt;1.6.6&lt;/org.slf4j-version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n  &lt;!-- Spring --&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n    &lt;version&gt;${org.springframework-version}&lt;/version&gt;\n    &lt;exclusions&gt;\n      &lt;!-- Exclude Commons Logging in favor of SLF4j --&gt;\n      &lt;exclusion&gt;\n        &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n      &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n    &lt;version&gt;${org.springframework-version}&lt;/version&gt;\n  &lt;/dependency&gt;\n\n  &lt;!-- AspectJ --&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n    &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n    &lt;version&gt;${org.aspectj-version}&lt;/version&gt;\n  &lt;/dependency&gt; \n\n  &lt;!-- Logging --&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n    &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n    &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n    &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n    &lt;version&gt;1.2.15&lt;/version&gt;\n    &lt;exclusions&gt;\n      &lt;exclusion&gt;\n        &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n        &lt;artifactId&gt;mail&lt;/artifactId&gt;\n      &lt;/exclusion&gt;\n      &lt;exclusion&gt;\n        &lt;groupId&gt;javax.jms&lt;/groupId&gt;\n        &lt;artifactId&gt;jms&lt;/artifactId&gt;\n      &lt;/exclusion&gt;\n      &lt;exclusion&gt;\n        &lt;groupId&gt;com.sun.jdmk&lt;/groupId&gt;\n        &lt;artifactId&gt;jmxtools&lt;/artifactId&gt;\n      &lt;/exclusion&gt;\n      &lt;exclusion&gt;\n        &lt;groupId&gt;com.sun.jmx&lt;/groupId&gt;\n        &lt;artifactId&gt;jmxri&lt;/artifactId&gt;\n      &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n  &lt;/dependency&gt;\n\n  &lt;!-- @Inject --&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;javax.inject&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\n    &lt;version&gt;1&lt;/version&gt;\n  &lt;/dependency&gt;\n\n  &lt;!-- Servlet --&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;2.5&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n    &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n    &lt;version&gt;2.1&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n    &lt;version&gt;1.2&lt;/version&gt;\n  &lt;/dependency&gt;\n\n  &lt;!-- Test --&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;junit&lt;/groupId&gt;\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n    &lt;version&gt;4.7&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-eclipse-plugin&lt;/artifactId&gt;\n      &lt;version&gt;2.9&lt;/version&gt;\n      &lt;configuration&gt;\n        &lt;additionalProjectnatures&gt;\n          &lt;projectnature&gt;org.springframework.ide.eclipse.core.springnature&lt;/projectnature&gt;\n        &lt;/additionalProjectnatures&gt;\n        &lt;additionalBuildcommands&gt;\n          &lt;buildcommand&gt;org.springframework.ide.eclipse.core.springbuilder&lt;/buildcommand&gt;\n          &lt;/additionalBuildcommands&gt;\n          &lt;downloadSources&gt;true&lt;/downloadSources&gt;\n          &lt;downloadJavadocs&gt;true&lt;/downloadJavadocs&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.5.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;1.8&lt;/source&gt;\n          &lt;target&gt;1.8&lt;/target&gt;\n          &lt;compilerArgument&gt;-Xlint:all&lt;/compilerArgument&gt;\n          &lt;showWarnings&gt;true&lt;/showWarnings&gt;\n          &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.2.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;mainClass&gt;org.test.int1.Main&lt;/mainClass&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","mysql","exception","jdbc","connection"],"comments":[{"owner":{"account_id":773362,"reputation":17857,"user_id":812303,"accept_rate":71,"display_name":"Tomer"},"score":1,"creation_date":1344776176,"post_id":11922323,"comment_id":15876058,"body_markdown":"are you able to connect using mysql GUI client like SqlYog or PhpMyAdmin?","body":"are you able to connect using mysql GUI client like SqlYog or PhpMyAdmin?"},{"owner":{"account_id":408442,"reputation":21426,"user_id":779111,"accept_rate":85,"display_name":"JAN"},"score":1,"creation_date":1344776342,"post_id":11922323,"comment_id":15876089,"body_markdown":"@ftom2: Yes , I can access `phpmyadmin` successfully .","body":"@ftom2: Yes , I can access <code>phpmyadmin</code> successfully ."},{"owner":{"account_id":1054151,"reputation":24498,"user_id":1057230,"accept_rate":100,"display_name":"nIcE cOw"},"score":1,"creation_date":1344776550,"post_id":11922323,"comment_id":15876138,"body_markdown":"Are you sure the **Username** and the **Password** so provided is right ? Seesm to me there is no such user as **root** :( Not sure though, but don&#39;t you have to provide the **Database Name** too like `Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost;database=mywebsitedb;user=sa;password=thatstrue;&quot;);`","body":"Are you sure the <b>Username</b> and the <b>Password</b> so provided is right ? Seesm to me there is no such user as <b>root</b> :( Not sure though, but don&#39;t you have to provide the <b>Database Name</b> too like <code>Connection con = DriverManager.getConnection(&quot;jdbc:mysql:&#47;&#47;localhost;database&zwnj;&#8203;=mywebsitedb;user=sa&zwnj;&#8203;;password=thatstrue;&zwnj;&#8203;&quot;);</code>"},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1344776629,"post_id":11922323,"comment_id":15876149,"body_markdown":"@GagandeepBali: think once again about it: If the login was wrong, how would the OP be able to access it by phpmyadmin then?","body":"@GagandeepBali: think once again about it: If the login was wrong, how would the OP be able to access it by phpmyadmin then?"},{"owner":{"account_id":1054151,"reputation":24498,"user_id":1057230,"accept_rate":100,"display_name":"nIcE cOw"},"score":0,"creation_date":1344776894,"post_id":11922323,"comment_id":15876209,"body_markdown":"@BalusC : Actually never used `phpmyadmin`, though I had used `SQLServer` sometimes, those fields are autofilled by default, and we forget them. That&#39;s why that guess was as comments, else it could become an answer, if I thought that is really the case (which it may or may not be the case).  Though since you are offended by that comment, I would be very much wrong in asking the same , my bad :-)","body":"@BalusC : Actually never used <code>phpmyadmin</code>, though I had used <code>SQLServer</code> sometimes, those fields are autofilled by default, and we forget them. That&#39;s why that guess was as comments, else it could become an answer, if I thought that is really the case (which it may or may not be the case).  Though since you are offended by that comment, I would be very much wrong in asking the same , my bad :-)"},{"owner":{"account_id":162885,"reputation":1922,"user_id":384646,"accept_rate":75,"display_name":"Romski"},"score":1,"creation_date":1344779439,"post_id":11922323,"comment_id":15876674,"body_markdown":"There are 2 things you need to establish - are you a valid user, do you have the authority (privileges) to perform the action. Authority takes the form of a specific privilege from a specified host. It is possible to answer both questions before introducing any Java. Personally, I&#39;d use the command line to connect to my sql as the user specified, e.g. &#39;mysql -uroot -prootpassword&#39;, then execute the command &#39;create database mydb&#39;. If this works you can drop the database and head over to your Java code.","body":"There are 2 things you need to establish - are you a valid user, do you have the authority (privileges) to perform the action. Authority takes the form of a specific privilege from a specified host. It is possible to answer both questions before introducing any Java. Personally, I&#39;d use the command line to connect to my sql as the user specified, e.g. &#39;mysql -uroot -prootpassword&#39;, then execute the command &#39;create database mydb&#39;. If this works you can drop the database and head over to your Java code."}],"answers":[{"tags":[],"owner":{"account_id":1355206,"reputation":33312,"user_id":1293744,"accept_rate":44,"display_name":"Kumar Vivek Mitra"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1446803757,"creation_date":1344776407,"answer_id":11922369,"question_id":11922323,"body_markdown":"Try it like this....\r\n\r\n    public static Connection getConnection() throws SQLException{\r\n    \t\t\r\n    \tString driver = &quot;com.mysql.jdbc.Driver&quot;;\r\n    \tString url    = &quot;jdbc:mysql://localhost:3306/test&quot;;\r\n    \tString username = &quot;root&quot;;\r\n    \tString password = &quot;vicky&quot;;            // Change it to your Password\r\n    \tSystem.setProperty(driver,&quot;&quot;);\r\n    \t\t\r\n    \treturn DriverManager.getConnection(url,username,password);\r\n    }","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>Try it like this....</p>\n\n<pre><code>public static Connection getConnection() throws SQLException{\n\n    String driver = \"com.mysql.jdbc.Driver\";\n    String url    = \"jdbc:mysql://localhost:3306/test\";\n    String username = \"root\";\n    String password = \"vicky\";            // Change it to your Password\n    System.setProperty(driver,\"\");\n\n    return DriverManager.getConnection(url,username,password);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1672011,"reputation":1318,"user_id":1538311,"display_name":"evg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1401811551,"creation_date":1344776420,"answer_id":11922371,"question_id":11922323,"body_markdown":"You should specify the db you are connecting to:\r\n\r\n    jdbc:mysql://localhost:3306/mydb","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>You should specify the db you are connecting to:</p>\n\n<pre><code>jdbc:mysql://localhost:3306/mydb\n</code></pre>\n"},{"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1449687595,"creation_date":1344776653,"answer_id":11922393,"question_id":11922323,"body_markdown":"As you are creating a database from scratch, you could use:\r\n\r\n    Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost/?user=root&amp;password=rootpassword&quot;); \r\n    PreparedStatement ps = connection.prepareStatement(&quot;CREATE DATABASE databasename&quot;);\r\n    int result = ps.executeUpdate();\r\n\r\nHere is an [identical scenario][1].\r\n\r\n\r\n  [1]: http://forums.mysql.com/read.php?39,99321,102211#msg-102211","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>As you are creating a database from scratch, you could use:</p>\n\n<pre><code>Connection connection = DriverManager.getConnection(\"jdbc:mysql://localhost/?user=root&amp;password=rootpassword\"); \nPreparedStatement ps = connection.prepareStatement(\"CREATE DATABASE databasename\");\nint result = ps.executeUpdate();\n</code></pre>\n\n<p>Here is an <a href=\"http://forums.mysql.com/read.php?39,99321,102211#msg-102211\" rel=\"noreferrer\">identical scenario</a>.</p>\n"},{"tags":[],"owner":{"account_id":1672011,"reputation":1318,"user_id":1538311,"display_name":"evg"},"down_vote_count":2,"up_vote_count":69,"is_accepted":false,"score":67,"last_activity_date":1467755844,"creation_date":1344777798,"answer_id":11922503,"question_id":11922323,"body_markdown":"This can help you:\r\n\r\n    GRANT ALL PRIVILEGES ON *.* TO &#39;root&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;%password%&#39; WITH GRANT OPTION;\r\n\r\n\r\nExecute it with command line or some GUI tool.\r\n\r\nDon&#39;t forget to replace `%password%` with real password.","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>This can help you:</p>\n\n<pre><code>GRANT ALL PRIVILEGES ON *.* TO 'root'@'localhost' IDENTIFIED BY '%password%' WITH GRANT OPTION;\n</code></pre>\n\n<p>Execute it with command line or some GUI tool.</p>\n\n<p>Don't forget to replace <code>%password%</code> with real password.</p>\n"},{"tags":[],"owner":{"account_id":3009734,"reputation":11,"user_id":2553505,"display_name":"Satish Hunasikatti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1373024368,"creation_date":1373023278,"answer_id":17487713,"question_id":11922323,"body_markdown":"I was hitting the same issue. Added mysql service port number(3307), resolved the issue.\r\n\r\n    conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3307/?&quot; + &quot;user=root&amp;password=password&quot;);\r\n\r\n\r\n","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>I was hitting the same issue. Added mysql service port number(3307), resolved the issue.</p>\n\n<pre><code>conn = DriverManager.getConnection(\"jdbc:mysql://localhost:3307/?\" + \"user=root&amp;password=password\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1820603,"reputation":4638,"user_id":1654763,"accept_rate":76,"display_name":"Munchkin"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1434824213,"creation_date":1434824213,"answer_id":30957363,"question_id":11922323,"body_markdown":"I had a similar problem, but the differemce was: I didn&#39;t executed my JavaApp from `localhost`, but from a remote PC. So I got something like `java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;a.remote.ip.adress&#39; (using password: YES)`\r\nTo solve this, you can simply login to phpMyAdmin, go to `Users`, click `add user` and enter the host from which you want to execute your JavaApp (or choose `Any Host`)","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>I had a similar problem, but the differemce was: I didn't executed my JavaApp from <code>localhost</code>, but from a remote PC. So I got something like <code>java.sql.SQLException: Access denied for user 'root'@'a.remote.ip.adress' (using password: YES)</code>\nTo solve this, you can simply login to phpMyAdmin, go to <code>Users</code>, click <code>add user</code> and enter the host from which you want to execute your JavaApp (or choose <code>Any Host</code>)</p>\n"},{"tags":[],"owner":{"account_id":2638495,"reputation":263,"user_id":2282655,"accept_rate":27,"display_name":"SR230"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1444743782,"creation_date":1444743782,"answer_id":33104309,"question_id":11922323,"body_markdown":"you can use this \r\n\r\n       static final String JDBC_DRIVER = &quot;com.mysql.jdbc.Driver&quot;;  \r\n\t   static final String DB_URL = &quot;jdbc:mysql://localhost:3306/YOUR_DB_NAME&quot;;\r\n\t   \r\n\t   \r\n\t   static final String USER = &quot;root&quot;;\r\n\t   static final String PASS = &quot;YOUR_ROOT_PASSWORD&quot;; \r\n\r\n      Connection conn = DriverManager.getConnection(DB_URL,USER,PASS);\r\n\r\nyou have to give the right root password .","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>you can use this </p>\n\n<pre><code>   static final String JDBC_DRIVER = \"com.mysql.jdbc.Driver\";  \n   static final String DB_URL = \"jdbc:mysql://localhost:3306/YOUR_DB_NAME\";\n\n\n   static final String USER = \"root\";\n   static final String PASS = \"YOUR_ROOT_PASSWORD\"; \n\n  Connection conn = DriverManager.getConnection(DB_URL,USER,PASS);\n</code></pre>\n\n<p>you have to give the right root password .</p>\n"},{"tags":[],"owner":{"account_id":3058086,"reputation":19,"user_id":2591325,"display_name":"dave"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1466539234,"creation_date":1466539234,"answer_id":37953549,"question_id":11922323,"body_markdown":"Although this may not be the cause of your issue, you&#39;ll get the same error if there are two MySQL services running on the same port. You can check on windows by looking at the list of services in the services tab of Task Manager.","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>Although this may not be the cause of your issue, you'll get the same error if there are two MySQL services running on the same port. You can check on windows by looking at the list of services in the services tab of Task Manager.</p>\n"},{"tags":[],"owner":{"account_id":7947193,"reputation":61,"user_id":5999304,"display_name":"Pratyush Raunak"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1591600998,"creation_date":1473367309,"answer_id":39399881,"question_id":11922323,"body_markdown":"I had the same issue like below\r\n\r\n    &quot;java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)&quot;. Problem was &quot;WRONG PASSWORD&quot;. \r\n\r\nCopy and paste the query as-it-is in the shell to check whether it gives the desired output or not. Small errors consumes more time.\r\n\r\n\r\n","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>I had the same issue like below</p>\n\n<pre><code>\"java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)\". Problem was \"WRONG PASSWORD\". \n</code></pre>\n\n<p>Copy and paste the query as-it-is in the shell to check whether it gives the desired output or not. Small errors consumes more time.</p>\n"},{"tags":[],"owner":{"account_id":7802687,"reputation":422,"user_id":5901503,"display_name":"Gani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1509686450,"creation_date":1509686060,"answer_id":47088898,"question_id":11922323,"body_markdown":"This Exception is also caused due to version mismatch of mysql db and your pom.xml/jar.\r\n\r\nMake sure your pom.xml/jar version is higher than your mysql db version.\r\nBecause higher versions are compatible with lower version&#39;s, but the same is not true for the inverse. \r\n\r\nSolution&#39;s for java project\r\n\r\n - Replace the Jar with suitable version.\r\n\r\nSolution for maven based\r\n\r\n - Change the dependency Version in pom.xml\r\n\r\nSolution for spring boot\r\n - Override the spring boot dependency by adding \r\n&lt;properties&gt;\r\n    &lt;hibernate.version&gt;5.1.5.Final&lt;/hibernate.version&gt;\r\n&lt;/properties&gt;","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>This Exception is also caused due to version mismatch of mysql db and your pom.xml/jar.</p>\n\n<p>Make sure your pom.xml/jar version is higher than your mysql db version.\nBecause higher versions are compatible with lower version's, but the same is not true for the inverse. </p>\n\n<p>Solution's for java project</p>\n\n<ul>\n<li>Replace the Jar with suitable version.</li>\n</ul>\n\n<p>Solution for maven based</p>\n\n<ul>\n<li>Change the dependency Version in pom.xml</li>\n</ul>\n\n<p>Solution for spring boot\n - Override the spring boot dependency by adding \n\n    5.1.5.Final\n</p>\n"},{"tags":[],"owner":{"account_id":6340388,"reputation":1,"user_id":7660248,"display_name":"Chris Appleby"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510798724,"creation_date":1510798724,"answer_id":47320487,"question_id":11922323,"body_markdown":"I had to change my SQL setup (in my host, Dreamhost in my case) to allow the username to access the database from other hosts, not just Dreamhost since I&#39;m running a program from the IDE on my computer. I did that for now by adding % to the list of Allowable Hosts. It now works! ","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>I had to change my SQL setup (in my host, Dreamhost in my case) to allow the username to access the database from other hosts, not just Dreamhost since I'm running a program from the IDE on my computer. I did that for now by adding % to the list of Allowable Hosts. It now works! </p>\n"},{"tags":[],"owner":{"account_id":9476329,"reputation":1,"user_id":7045575,"display_name":"nong thieu"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1513572593,"creation_date":1513568546,"answer_id":47861855,"question_id":11922323,"body_markdown":"I encountered this error. The problem was that I had the wrong database name.","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>I encountered this error. The problem was that I had the wrong database name.</p>\n"},{"tags":[],"owner":{"account_id":11602492,"reputation":51,"user_id":8499198,"display_name":"Sarjita Konjengbam"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1527605109,"creation_date":1527599860,"answer_id":50585415,"question_id":11922323,"body_markdown":"This appears to mostly happens when the MySQL username and password are not correct. Check your MySQL username and password.","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>This appears to mostly happens when the MySQL username and password are not correct. Check your MySQL username and password.</p>\n"},{"tags":[],"owner":{"account_id":4405015,"reputation":634,"user_id":3589678,"accept_rate":25,"display_name":"Ashu"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1537677690,"creation_date":1537677690,"answer_id":52463043,"question_id":11922323,"body_markdown":"This is specific to Ubuntu 18.04 LTS and MySQL 5.x\r\nFollowed this [link][1]\r\nFollow everything from here onwards:\r\n\r\n    sudo mysql_secure_installation\r\n\r\n    sudo mysql\r\n\r\nOnce logged into MySQL then from the MySQL prompt execute these commands:\r\n\r\n    ALTER USER &#39;root&#39;@&#39;localhost&#39; IDENTIFIED WITH mysql_native_password BY &#39;password&#39;;\r\n    FLUSH PRIVILEGES;\r\n\r\nNow verify that the table has the password for the root\r\n\r\n    SELECT user,authentication_string,plugin,host FROM mysql.user;\r\n\r\nThis solved my issue and now i am able to login.\r\n\r\n\r\n  [1]: https://www.digitalocean.com/community/tutorials/how-to-install-mysql-on-ubuntu-18-04","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>This is specific to Ubuntu 18.04 LTS and MySQL 5.x\nFollowed this <a href=\"https://www.digitalocean.com/community/tutorials/how-to-install-mysql-on-ubuntu-18-04\" rel=\"noreferrer\">link</a>\nFollow everything from here onwards:</p>\n\n<pre><code>sudo mysql_secure_installation\n\nsudo mysql\n</code></pre>\n\n<p>Once logged into MySQL then from the MySQL prompt execute these commands:</p>\n\n<pre><code>ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'password';\nFLUSH PRIVILEGES;\n</code></pre>\n\n<p>Now verify that the table has the password for the root</p>\n\n<pre><code>SELECT user,authentication_string,plugin,host FROM mysql.user;\n</code></pre>\n\n<p>This solved my issue and now i am able to login.</p>\n"},{"tags":[],"owner":{"account_id":14776121,"reputation":273,"user_id":10671001,"display_name":"S Debasish Nayak"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1542558770,"creation_date":1542558770,"answer_id":53363100,"question_id":11922323,"body_markdown":"If you are connecting a remote mysql server from your local machine using java see the below steps.\r\nError :\r\n&quot;java.sql.SQLException: Access denied for user &#39;xxxxx&#39;@&#39;101.123.163.141&#39; (using password: YES) &quot;\r\n\r\nfor remote access may be cpanel or others grant the remote access for your local ip address.\r\n\r\nIn the above error message: &quot;101.123.163.141&quot; is my local machine ip. So First we have to give remote access in the Cpanel-&gt; Remote MySQL&#174;. Then run your application to connect.\r\n\r\n    Class.forName(&quot;com.mysql.jdbc.Driver&quot;);  \r\n    Connection con=DriverManager.getConnection(  \r\n\t    &quot;jdbc:mysql://www.xyz.com/abc&quot;,&quot;def&quot;,&quot;ghi&quot;);  \r\n    //here abc is database name, def is username and ghi\t\t\r\n    Statement stmt=con.createStatement();  \r\n    ResultSet rs=stmt.executeQuery(&quot;select * from employee&quot;);  \r\n\t    while(rs.next())  \r\n\t\t    System.out.println(rs.getInt(1)+&quot; &quot;+rs.getString(2)+&quot;  \r\n                              &quot;+rs.getString(3));  \r\n    con.close();    \r\n\r\n\r\nHope it will resolve your issue.\r\n\r\nThanks\r\n","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>If you are connecting a remote mysql server from your local machine using java see the below steps.\nError :\n\"java.sql.SQLException: Access denied for user 'xxxxx'@'101.123.163.141' (using password: YES) \"</p>\n\n<p>for remote access may be cpanel or others grant the remote access for your local ip address.</p>\n\n<p>In the above error message: \"101.123.163.141\" is my local machine ip. So First we have to give remote access in the Cpanel-> Remote MySQL®. Then run your application to connect.</p>\n\n<pre><code>Class.forName(\"com.mysql.jdbc.Driver\");  \nConnection con=DriverManager.getConnection(  \n    \"jdbc:mysql://www.xyz.com/abc\",\"def\",\"ghi\");  \n//here abc is database name, def is username and ghi        \nStatement stmt=con.createStatement();  \nResultSet rs=stmt.executeQuery(\"select * from employee\");  \n    while(rs.next())  \n        System.out.println(rs.getInt(1)+\" \"+rs.getString(2)+\"  \n                          \"+rs.getString(3));  \ncon.close();    \n</code></pre>\n\n<p>Hope it will resolve your issue.</p>\n\n<p>Thanks</p>\n"},{"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559437100,"creation_date":1559437100,"answer_id":56411480,"question_id":11922323,"body_markdown":"The order of declaring:\r\n\r\n- Driver\r\n- Connection string\r\n- username\r\n- password\r\n\r\nIf we declaring in order\r\n\r\n- Connection string\r\n- username\r\n- password\r\n- Driver\r\n\r\nthe application will fail","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>The order of declaring:</p>\n\n<ul>\n<li>Driver</li>\n<li>Connection string</li>\n<li>username</li>\n<li>password</li>\n</ul>\n\n<p>If we declaring in order</p>\n\n<ul>\n<li>Connection string</li>\n<li>username</li>\n<li>password</li>\n<li>Driver</li>\n</ul>\n\n<p>the application will fail</p>\n"},{"tags":[],"owner":{"account_id":16392015,"reputation":1,"user_id":11840553,"display_name":"Blake7000"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1568698410,"creation_date":1568618595,"answer_id":57952111,"question_id":11922323,"body_markdown":"I also have this problem, this solved it.\r\n\r\nChange the:\r\n\r\n&lt;code&gt;`Sring url = &quot;jdbc:mysql://localhost:3306/test?useUnicode=true&amp;characterEncoding=UTF-8&amp;serverTimezone=UTC&amp;user=root&amp;password=password&quot;;`&lt;/code&gt;\r\n\r\nSet:\r\n\r\n`&quot;serverTimezone=UTC&quot;` is `&quot;Unified standard world time&quot;`.\r\n`&quot;useUnicode=true&amp;characterEncoding=UTF-8&quot;` is `&quot;Solve Chinese garbled&quot;`.\r\n\r\nAlthough my database have not any Chinese words. But it is working.\r\nReference from &lt;https://www.cnblogs.com/EasonJim/p/6906713.html&gt;\r\n\r\n","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>I also have this problem, this solved it.</p>\n\n<p>Change the:</p>\n\n<p><code><code>Sring url = \"jdbc:mysql://localhost:3306/test?useUnicode=true&amp;characterEncoding=UTF-8&amp;serverTimezone=UTC&amp;user=root&amp;password=password\";</code></code></p>\n\n<p>Set:</p>\n\n<p><code>\"serverTimezone=UTC\"</code> is <code>\"Unified standard world time\"</code>.\n<code>\"useUnicode=true&amp;characterEncoding=UTF-8\"</code> is <code>\"Solve Chinese garbled\"</code>.</p>\n\n<p>Although my database have not any Chinese words. But it is working.\nReference from <a href=\"https://www.cnblogs.com/EasonJim/p/6906713.html\" rel=\"nofollow noreferrer\">https://www.cnblogs.com/EasonJim/p/6906713.html</a></p>\n"},{"tags":[],"owner":{"account_id":132720,"reputation":903,"user_id":333588,"display_name":"drdrej"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577734301,"creation_date":1577734301,"answer_id":59535971,"question_id":11922323,"body_markdown":"1. use correct jar (with correct version)\r\n2. give root user host-independent access or create a user\r\n","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<ol>\n<li>use correct jar (with correct version)</li>\n<li>give root user host-independent access or create a user</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":12847260,"reputation":49,"user_id":9293234,"display_name":"sree"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1578084223,"creation_date":1578074666,"answer_id":59583272,"question_id":11922323,"body_markdown":"If you are using a MySql workbench, go to the home page of workbench, right click on your database, copy the JDBC connection string, and paste it into the Java program.\r\n","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>If you are using a MySql workbench, go to the home page of workbench, right click on your database, copy the JDBC connection string, and paste it into the Java program.</p>\n"},{"tags":[],"owner":{"account_id":12184662,"reputation":21,"user_id":8894955,"display_name":"Vivek Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584123811,"creation_date":1584123811,"answer_id":60675507,"question_id":11922323,"body_markdown":"For me the solution worked as by changing the url format to:\r\ncon=DriverManager.getConnection(&quot;jdbc:mysql://localhost/w3schools?user=###&amp;password=###&quot;);\r\nmake sure to add proper jar to class path and use the driver\r\nClass.forName(&quot;com.mysql.jdbc.Driver&quot;);","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>For me the solution worked as by changing the url format to:\ncon=DriverManager.getConnection(\"jdbc:mysql://localhost/w3schools?user=###&amp;password=###\");\nmake sure to add proper jar to class path and use the driver\nClass.forName(\"com.mysql.jdbc.Driver\");</p>\n"},{"tags":[],"owner":{"account_id":1166737,"reputation":23,"user_id":1144816,"display_name":"Shanky"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1587019187,"creation_date":1587019187,"answer_id":61244164,"question_id":11922323,"body_markdown":"I am using Spring Boot 2.2.6(Windows) and faced the same issue when I tried the run the application:\r\n***java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)***\r\n\r\nWhat solved my problem:\r\n\r\n 1. Create a new user (from the MySQL workbench or a similar GUI which you might be using)\r\n 2. Grant DBA priviledges (Tick the DBA checkbox) also from the GUI\r\n 3. Run the spring boot application.\r\n\r\nOr follow the @evg solution to grant privilegdes from command line in Linux env.","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>I am using Spring Boot 2.2.6(Windows) and faced the same issue when I tried the run the application:\n<strong><em>java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)</em></strong></p>\n\n<p>What solved my problem:</p>\n\n<ol>\n<li>Create a new user (from the MySQL workbench or a similar GUI which you might be using)</li>\n<li>Grant DBA priviledges (Tick the DBA checkbox) also from the GUI</li>\n<li>Run the spring boot application.</li>\n</ol>\n\n<p>Or follow the @evg solution to grant privilegdes from command line in Linux env.</p>\n"},{"tags":[],"owner":{"account_id":18514116,"reputation":71,"user_id":13488618,"display_name":"Deepesh Rajpal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591263546,"creation_date":1591259052,"answer_id":62190036,"question_id":11922323,"body_markdown":"This resolved issue for me.\r\n\r\n```\r\nALTER USER &#39;root&#39;@&#39;%&#39; IDENTIFIED WITH mysql_native_password BY &#39;password&#39;;\r\n\r\nGRANT ALL PRIVILEGES ON *.cfe TO &#39;root&#39;@&#39;%&#39; IDENTIFIED BY &#39;password&#39;;\r\n\r\nFLUSH PRIVILEGES;\r\n```","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>This resolved issue for me.</p>\n\n<pre><code>ALTER USER 'root'@'%' IDENTIFIED WITH mysql_native_password BY 'password';\n\nGRANT ALL PRIVILEGES ON *.cfe TO 'root'@'%' IDENTIFIED BY 'password';\n\nFLUSH PRIVILEGES;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10565954,"reputation":168,"user_id":7784194,"display_name":"Kinjal Akhani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592054973,"creation_date":1592053337,"answer_id":62360125,"question_id":11922323,"body_markdown":"I was also facing the same issue, My connection string is valid and username and password also valid, even user has sufficient privileges to access database.\r\n\r\nI solved this issue by deleting temporary folder created by MySQL(**Please take backup before deleting any folders** so in case if it not works then you can place that files again).\r\n\r\nDefault folder location for temp and connection files of MySQL in Windows is:\r\n&gt; C:\\ProgramData\\MySQL\r\n\r\nI deleted(taken backup) of below folder:\r\n\r\n&gt; C:\\ProgramData\\MySQL\\MySQL Server &lt;version&gt;\\Data\\sys\r\n\r\n**Note:** Before deleting any items make sure that MySQL service is not started or else it would not allow to delete any files\r\n\r\nAnd It works for me.","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>I was also facing the same issue, My connection string is valid and username and password also valid, even user has sufficient privileges to access database.</p>\n\n<p>I solved this issue by deleting temporary folder created by MySQL(<strong>Please take backup before deleting any folders</strong> so in case if it not works then you can place that files again).</p>\n\n<p>Default folder location for temp and connection files of MySQL in Windows is:</p>\n\n<blockquote>\n  <p>C:\\ProgramData\\MySQL</p>\n</blockquote>\n\n<p>I deleted(taken backup) of below folder:</p>\n\n<blockquote>\n  <p>C:\\ProgramData\\MySQL\\MySQL Server \\Data\\sys</p>\n</blockquote>\n\n<p><strong>Note:</strong> Before deleting any items make sure that MySQL service is not started or else it would not allow to delete any files</p>\n\n<p>And It works for me.</p>\n"},{"tags":[],"owner":{"account_id":18820664,"reputation":11,"user_id":13726739,"display_name":"Anum Shaikh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599631762,"creation_date":1599583064,"answer_id":63798154,"question_id":11922323,"body_markdown":"My `application.properties` looked something like this \r\n\r\n```\r\nspring.datasource.driver-class-name=com.mysql.jdbc.Driver\r\nspring.datasource.url=jdbc:mysql://localhost:3306/mydb\r\n\r\nspring.datasource.username=root\r\n\r\nspring.datasource.password=root\r\n```\r\n\r\nThe only thing worked for me is to maven clean and then maven install.","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>My <code>application.properties</code> looked something like this</p>\n<pre><code>spring.datasource.driver-class-name=com.mysql.jdbc.Driver\nspring.datasource.url=jdbc:mysql://localhost:3306/mydb\n\nspring.datasource.username=root\n\nspring.datasource.password=root\n</code></pre>\n<p>The only thing worked for me is to maven clean and then maven install.</p>\n"},{"tags":[],"owner":{"account_id":19988032,"reputation":11,"user_id":14649773,"display_name":"chengyu zhang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613224195,"creation_date":1613224195,"answer_id":66185835,"question_id":11922323,"body_markdown":"When I&#39;m running a springboot project, the application.yml configuration is like this：\r\n```\r\nserver:\r\n  port: 8080\r\nspring:\r\n  datasource:\r\n    url: jdbc:mysql://localhost:3306/lof?serverTimezone=GMT\r\n    username: root\r\n    password: root\r\n    driver-class-name: com.mysql.cj.jdbc.Driver\r\n```\r\nNotice that there isn&#39;t quotation marks around the password. And I can run this project in my windows System.\r\n\r\nBut when I try to deploy to the server, I have the problem and I fix it by changing the application.yml to:\r\n```\r\nserver:\r\n  port: 8080\r\nspring:\r\n  datasource:\r\n    url: jdbc:mysql://localhost:3306/lof?serverTimezone=GMT\r\n    username: root\r\n    password: &quot;root&quot;\r\n    driver-class-name: com.mysql.cj.jdbc.Driver\r\n```\r\n","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>When I'm running a springboot project, the application.yml configuration is like this：</p>\n<pre><code>server:\n  port: 8080\nspring:\n  datasource:\n    url: jdbc:mysql://localhost:3306/lof?serverTimezone=GMT\n    username: root\n    password: root\n    driver-class-name: com.mysql.cj.jdbc.Driver\n</code></pre>\n<p>Notice that there isn't quotation marks around the password. And I can run this project in my windows System.</p>\n<p>But when I try to deploy to the server, I have the problem and I fix it by changing the application.yml to:</p>\n<pre><code>server:\n  port: 8080\nspring:\n  datasource:\n    url: jdbc:mysql://localhost:3306/lof?serverTimezone=GMT\n    username: root\n    password: &quot;root&quot;\n    driver-class-name: com.mysql.cj.jdbc.Driver\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20711701,"reputation":11,"user_id":15208191,"display_name":"Ashutosh Sharda"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613313100,"creation_date":1613309928,"answer_id":66195958,"question_id":11922323,"body_markdown":"Add port number (something like 3306) in: \r\n```\r\nConnection c = DriverManager.getConnection(&quot;jdbc:mysql://localhost:urport&quot;,&quot;root&quot;,&quot;root&quot;);\r\n```","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>Add port number (something like 3306) in:</p>\n<pre><code>Connection c = DriverManager.getConnection(&quot;jdbc:mysql://localhost:urport&quot;,&quot;root&quot;,&quot;root&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11232564,"reputation":5,"user_id":8240040,"display_name":"Ajay Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630875202,"creation_date":1630843378,"answer_id":69063231,"question_id":11922323,"body_markdown":"It&#39;s working fine for me while using same password after executing the following statement:\r\n\r\n    ALTER USER &#39;root&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;root&#39;;","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>It's working fine for me while using same password after executing the following statement:</p>\n<pre><code>ALTER USER 'root'@'localhost' IDENTIFIED BY 'root';\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20547815,"reputation":347,"user_id":15081184,"display_name":"Developer-Felix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638710445,"creation_date":1638710445,"answer_id":70234726,"question_id":11922323,"body_markdown":"\r\n\r\n    spring.jpa.generate-ddl=true\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect\r\n    spring.jpa.hibernate.ddl-auto=create-drop\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.datasource.username=root\r\n    spring.datasource.password=\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/DATABASE_NAME? useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\r\n\r\n\r\n**Go to your phpmyadmin database**\r\n\r\nCreate a database called DATABASE_NAME and go to priviledges and check the users who have priviledges in the database and use them the default is &quot;root&quot;","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<pre><code>spring.jpa.generate-ddl=true\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.datasource.username=root\nspring.datasource.password=\nspring.datasource.url=jdbc:mysql://localhost:3306/DATABASE_NAME? useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\n</code></pre>\n<p><strong>Go to your phpmyadmin database</strong></p>\n<p>Create a database called DATABASE_NAME and go to priviledges and check the users who have priviledges in the database and use them the default is &quot;root&quot;</p>\n"},{"tags":[],"owner":{"account_id":25737153,"reputation":1,"user_id":19491693,"display_name":"Nadjah KARA"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1657182105,"creation_date":1657082915,"answer_id":72878075,"question_id":11922323,"body_markdown":"be sure that the port you are using in:\r\n```\r\nspring.datasource.url=jdbc:mysql://localhost:8000/database\r\n```\r\nis the same that MySQL uses on your machine:\r\ncheck for it with this command in MySQL CLI:\r\n\r\n```sql\r\nSHOW VARIABLES WHERE Variable_name = &#39;port&#39;;\r\n```","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>be sure that the port you are using in:</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:8000/database\n</code></pre>\n<p>is the same that MySQL uses on your machine:\ncheck for it with this command in MySQL CLI:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SHOW VARIABLES WHERE Variable_name = 'port';\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17204357,"reputation":959,"user_id":12455245,"display_name":"Sadhvik Chirunomula"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657354249,"creation_date":1657354249,"answer_id":72919928,"question_id":11922323,"body_markdown":"In my case, I created a new user with name admin and used it...\r\n```\r\nCREATE USER &#39;admin&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;password&#39;;\r\nGRANT ALL PRIVILEGES ON *.* TO &#39;admin&#39;@&#39;localhost&#39;\r\nWITH GRANT OPTION;\r\n\r\nCREATE USER &#39;admin&#39;@&#39;%&#39; IDENTIFIED BY &#39;password&#39;;\r\nGRANT ALL PRIVILEGES ON *.* TO &#39;admin&#39;@&#39;%&#39;\r\nWITH GRANT OPTION;\r\n```","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>In my case, I created a new user with name admin and used it...</p>\n<pre><code>CREATE USER 'admin'@'localhost' IDENTIFIED BY 'password';\nGRANT ALL PRIVILEGES ON *.* TO 'admin'@'localhost'\nWITH GRANT OPTION;\n\nCREATE USER 'admin'@'%' IDENTIFIED BY 'password';\nGRANT ALL PRIVILEGES ON *.* TO 'admin'@'%'\nWITH GRANT OPTION;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25976695,"reputation":1,"user_id":19691053,"display_name":"Santhosh Ch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659613136,"creation_date":1659613136,"answer_id":73235305,"question_id":11922323,"body_markdown":"Due to below reason I created new user and password for mysql, now I am able to connect successfully. if your password is in encoded format please create new password \r\n\r\nhttps://www.digitalocean.com/community/tutorials/how-to-create-a-new-user-and-grant-permissions-in-mysql#:~:text=There%20is%20a,mysql_native_password%20plugin%20instead%3A\r\n\r\nThere is a known issue with some versions of PHP that causes problems with caching_sha2_password. If you plan to use this database with a PHP application — phpMyAdmin, for example — you may want to create a user that will authenticate with the older, though still secure, mysql_native_password plugin instead:\r\n\r\n","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>Due to below reason I created new user and password for mysql, now I am able to connect successfully. if your password is in encoded format please create new password</p>\n<p><a href=\"https://www.digitalocean.com/community/tutorials/how-to-create-a-new-user-and-grant-permissions-in-mysql#:%7E:text=There%20is%20a,mysql_native_password%20plugin%20instead%3A\" rel=\"nofollow noreferrer\">https://www.digitalocean.com/community/tutorials/how-to-create-a-new-user-and-grant-permissions-in-mysql#:~:text=There%20is%20a,mysql_native_password%20plugin%20instead%3A</a></p>\n<p>There is a known issue with some versions of PHP that causes problems with caching_sha2_password. If you plan to use this database with a PHP application — phpMyAdmin, for example — you may want to create a user that will authenticate with the older, though still secure, mysql_native_password plugin instead:</p>\n"},{"tags":[],"owner":{"account_id":4813967,"reputation":21,"user_id":3886590,"display_name":"nokiajavi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680109021,"creation_date":1679869800,"answer_id":75850920,"question_id":11922323,"body_markdown":"Solved! change `localhost` by `127.1.1.1` in your java code, with `localhost` not connect and throws this exception.","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>Solved! change <code>localhost</code> by <code>127.1.1.1</code> in your java code, with <code>localhost</code> not connect and throws this exception.</p>\n"},{"tags":[],"owner":{"account_id":1282323,"reputation":4466,"user_id":1236153,"accept_rate":86,"display_name":"underdog"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689054388,"creation_date":1689054388,"answer_id":76658983,"question_id":11922323,"body_markdown":"Sometimes MySQL server, while creating the user, sets the authentication type other than &#39;Standard&#39;. The user I was using had the authentication type set to &#39;*caching_sha_password*&#39;. Because of this, the connection was failing. \r\n\r\nI created a new user via MySQL Workbench with all the privileges and set the authentication type to &#39;Standard&#39;, and the exception was gone. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3d6HQ.png","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>Sometimes MySQL server, while creating the user, sets the authentication type other than 'Standard'. The user I was using had the authentication type set to '<em>caching_sha_password</em>'. Because of this, the connection was failing.</p>\n<p>I created a new user via MySQL Workbench with all the privileges and set the authentication type to 'Standard', and the exception was gone.</p>\n<p><a href=\"https://i.stack.imgur.com/3d6HQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3d6HQ.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":408442,"reputation":21426,"user_id":779111,"accept_rate":85,"display_name":"JAN"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":575906,"favorite_count":0,"down_vote_count":0,"up_vote_count":73,"accepted_answer_id":11922393,"answer_count":33,"score":73,"last_activity_date":1689054388,"creation_date":1344775903,"question_id":11922323,"body_markdown":"The following code:\r\n\r\n    Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n    Connection m_connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost&quot;,&quot;root&quot;,&quot;root&quot;);\r\n\r\nThrows this exception on `getConnection()`:\r\n\r\n    java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)\r\n        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1074)\r\n        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4074)\r\n        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4006)\r\n        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:919)\r\n        at com.mysql.jdbc.MysqlIO.proceedHandshakeWithPluggableAuthentication(MysqlIO.java:1694)\r\n        at com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1244)\r\n        at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2397)\r\n        at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2430)\r\n        at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2215)\r\n        at com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:813)\r\n        at com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:47)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\r\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\r\n        at java.lang.reflect.Constructor.newInstance(Unknown Source)\r\n        at com.mysql.jdbc.Util.handleNewInstance(Util.java:411)\r\n        at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:399)\r\n        at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:334)\r\n        at java.sql.DriverManager.getConnection(Unknown Source)\r\n        at java.sql.DriverManager.getConnection(Unknown Source)\r\n        at db.Database.&lt;init&gt;(Database.java:91)\r\n        at db.Main.main(Main.java:10)\r\n\r\nHow is this caused and how can I solve it?\r\n\r\n\r\n**EDIT:**\r\n\r\n\r\n\r\n    \tpublic static void main(String[] args) throws ClassNotFoundException, ServletException, SQLException \r\n    \t{\r\n    \t\t\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tConnection conn = (Connection) DriverManager.getConnection(&quot;jdbc:mysql://localhost/?user=root&amp;password=rootpassword&quot;); \r\n    \t\t\tStatement\ts = (Statement) conn.createStatement();\r\n    \t\t\tint result = s.executeUpdate(&quot;CREATE DATABASE databasename&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \r\n    \t\tcatch ( Exception e)\r\n    \t\t{\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    }\r\n\r\n\r\n\r\nProduces :\r\n\r\n    java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)\r\n    \tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1074)\r\n    \tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4074)\r\n    \tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4006)\r\n    \tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:919)\r\n    \tat com.mysql.jdbc.MysqlIO.proceedHandshakeWithPluggableAuthentication(MysqlIO.java:1694)\r\n    \tat com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1244)\r\n    \tat com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2397)\r\n    \tat com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2430)\r\n    \tat com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2215)\r\n    \tat com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:813)\r\n    \tat com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:47)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\r\n    \tat java.lang.reflect.Constructor.newInstance(Unknown Source)\r\n    \tat com.mysql.jdbc.Util.handleNewInstance(Util.java:411)\r\n    \tat com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:399)\r\n    \tat com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:334)\r\n    \tat java.sql.DriverManager.getConnection(Unknown Source)\r\n    \tat java.sql.DriverManager.getConnection(Unknown Source)\r\n    \tat db.Main.main(Main.java:19)","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>The following code:</p>\n\n<pre><code>Class.forName(\"com.mysql.jdbc.Driver\");\nConnection m_connection = DriverManager.getConnection(\"jdbc:mysql://localhost\",\"root\",\"root\");\n</code></pre>\n\n<p>Throws this exception on <code>getConnection()</code>:</p>\n\n<pre><code>java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1074)\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4074)\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4006)\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:919)\n    at com.mysql.jdbc.MysqlIO.proceedHandshakeWithPluggableAuthentication(MysqlIO.java:1694)\n    at com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1244)\n    at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2397)\n    at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2430)\n    at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2215)\n    at com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:813)\n    at com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:47)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n    at java.lang.reflect.Constructor.newInstance(Unknown Source)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:411)\n    at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:399)\n    at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:334)\n    at java.sql.DriverManager.getConnection(Unknown Source)\n    at java.sql.DriverManager.getConnection(Unknown Source)\n    at db.Database.&lt;init&gt;(Database.java:91)\n    at db.Main.main(Main.java:10)\n</code></pre>\n\n<p>How is this caused and how can I solve it?</p>\n\n<p><strong>EDIT:</strong></p>\n\n<pre><code>    public static void main(String[] args) throws ClassNotFoundException, ServletException, SQLException \n    {\n\n        try\n        {\n            Connection conn = (Connection) DriverManager.getConnection(\"jdbc:mysql://localhost/?user=root&amp;password=rootpassword\"); \n            Statement   s = (Statement) conn.createStatement();\n            int result = s.executeUpdate(\"CREATE DATABASE databasename\");\n        }\n\n\n        catch ( Exception e)\n        {\n            e.printStackTrace();\n        }\n}\n</code></pre>\n\n<p>Produces :</p>\n\n<pre><code>java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1074)\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4074)\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4006)\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:919)\n    at com.mysql.jdbc.MysqlIO.proceedHandshakeWithPluggableAuthentication(MysqlIO.java:1694)\n    at com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1244)\n    at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2397)\n    at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2430)\n    at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2215)\n    at com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:813)\n    at com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:47)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n    at java.lang.reflect.Constructor.newInstance(Unknown Source)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:411)\n    at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:399)\n    at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:334)\n    at java.sql.DriverManager.getConnection(Unknown Source)\n    at java.sql.DriverManager.getConnection(Unknown Source)\n    at db.Main.main(Main.java:19)\n</code></pre>\n"},{"tags":["java","flutter","android-studio","gradle"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1682624078,"post_id":76123807,"comment_id":134249411,"body_markdown":"It would be recommendable to mention the versions of the products you are using. And the errors. Have you tried changing the version of Gradle or Java to make them compatible? Have you read the requirements of each product?","body":"It would be recommendable to mention the versions of the products you are using. And the errors. Have you tried changing the version of Gradle or Java to make them compatible? Have you read the requirements of each product?"},{"owner":{"account_id":28357688,"reputation":11,"user_id":21688175,"display_name":"Reza Sahebzadeh"},"score":0,"creation_date":1682675165,"post_id":76123807,"comment_id":134256378,"body_markdown":"Yes, I tried changing the version of gradle and Java and it to downgrade but I couldn&#39;t fix it, every time came the same problem, if  you have good intruction that I fix it, please write me","body":"Yes, I tried changing the version of gradle and Java and it to downgrade but I couldn&#39;t fix it, every time came the same problem, if  you have good intruction that I fix it, please write me"},{"owner":{"account_id":28357688,"reputation":11,"user_id":21688175,"display_name":"Reza Sahebzadeh"},"score":0,"creation_date":1682675306,"post_id":76123807,"comment_id":134256407,"body_markdown":"The version of gradle in project is 6.8.3 and the version of Java is 17","body":"The version of gradle in project is 6.8.3 and the version of Java is 17"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1682680518,"post_id":76123807,"comment_id":134257478,"body_markdown":"You need to provide the rest of the information to help others to help you. Versions of Flutter, Android Studio, etc, errors, configurations.","body":"You need to provide the rest of the information to help others to help you. Versions of Flutter, Android Studio, etc, errors, configurations."},{"owner":{"account_id":28357688,"reputation":11,"user_id":21688175,"display_name":"Reza Sahebzadeh"},"score":0,"creation_date":1682682097,"post_id":76123807,"comment_id":134257798,"body_markdown":"Flutter version 3.7.12, Android Studio version flamingo 2022.2.1, FAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not open settings generic class cache for settings file &#39;C:\\Source\\pizzaboy\\android\\settings.gradle&#39; (C:\\Users\\Gholamreza\\.gradle\\caches\\6.8.3\\scripts\\9w4vzv9io97x5h1yfb63h0ld4).\n&gt; BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39; Unsupported class file major version 61","body":"Flutter version 3.7.12, Android Studio version flamingo 2022.2.1, FAILURE: Build failed with an exception.  * What went wrong: Could not open settings generic class cache for settings file &#39;C:\\Source\\pizzaboy\\android\\settings.gradle&#39; (C:\\Users\\Gholamreza\\.gradle\\caches\\6.8.3\\scripts\\9w4vzv9io9&zwnj;&#8203;7x5h1yfb63h0ld4). &gt; BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;<i>BuildScript</i>&#39; Unsupported class file major version 61"},{"owner":{"account_id":28357688,"reputation":11,"user_id":21688175,"display_name":"Reza Sahebzadeh"},"score":0,"creation_date":1682682363,"post_id":76123807,"comment_id":134257855,"body_markdown":"* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 1s","body":"* Try: Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.  * Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">help.gradle.org</a>  BUILD FAILED in 1s"},{"owner":{"account_id":28357688,"reputation":11,"user_id":21688175,"display_name":"Reza Sahebzadeh"},"score":0,"creation_date":1682682396,"post_id":76123807,"comment_id":134257865,"body_markdown":"To fix this issue, first, check the Java version used by Flutter by running `flutter doctor    │\n│ --verbose`.                                                                                    │\n│                                                                                                │\n│ Then, update the Gradle version specified in                                                   │\n│ C:\\Source\\pizzaboy\\android\\gradle\\wrapper\\gradle-wrapper.properties to be compatible with that │\n│ Java version. See the link below for more information on compatible Java/Gradle versions:","body":"To fix this issue, first, check the Java version used by Flutter by running <code>flutter doctor    │ │ --verbose</code>.                                                                                    │ │                                                                                                │ │ Then, update the Gradle version specified in                                                   │ │ C:\\Source\\pizzaboy\\android\\gradle\\wrapper\\gradle-wrapper.pro&zwnj;&#8203;perties to be compatible with that │ │ Java version. See the link below for more information on compatible Java/Gradle versions:"},{"owner":{"account_id":28357688,"reputation":11,"user_id":21688175,"display_name":"Reza Sahebzadeh"},"score":0,"creation_date":1682682529,"post_id":76123807,"comment_id":134257891,"body_markdown":"it has this problem just by this project because of gradle version and java version","body":"it has this problem just by this project because of gradle version and java version"},{"owner":{"account_id":28357688,"reputation":11,"user_id":21688175,"display_name":"Reza Sahebzadeh"},"score":0,"creation_date":1682684401,"post_id":76123807,"comment_id":134258330,"body_markdown":"I wrote this command incmd for java -version and then\njava version &quot;10.0.2&quot; 2018-07-17\nJava(TM) SE Runtime Environment 18.3 (build 10.0.2+13)\nJava HotSpot(TM) 64-Bit Server VM 18.3 (build 10.0.2+13, mixed mode)","body":"I wrote this command incmd for java -version and then java version &quot;10.0.2&quot; 2018-07-17 Java(TM) SE Runtime Environment 18.3 (build 10.0.2+13) Java HotSpot(TM) 64-Bit Server VM 18.3 (build 10.0.2+13, mixed mode)"},{"owner":{"account_id":28357688,"reputation":11,"user_id":21688175,"display_name":"Reza Sahebzadeh"},"score":0,"creation_date":1682685201,"post_id":76123807,"comment_id":134258537,"body_markdown":"please write me how to change java version correct","body":"please write me how to change java version correct"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1682685489,"post_id":76123807,"comment_id":134258613,"body_markdown":"Please edit your question and add the details in a way that&#39;s understandable. It is very difficult to track comments and they lack proper order and formatting.","body":"Please edit your question and add the details in a way that&#39;s understandable. It is very difficult to track comments and they lack proper order and formatting."},{"owner":{"account_id":28357688,"reputation":11,"user_id":21688175,"display_name":"Reza Sahebzadeh"},"score":0,"creation_date":1682753477,"post_id":76123807,"comment_id":134268000,"body_markdown":"I would like to know how I can fix the problem gradle version of my project with version 6.8.3 and the compatible version of java version of my PC, I can&#39;t find the compatible version of Java with my project that it could work right I think, because of I upgraded my android studio with it upgraded Java too and I can&#39;t it downgrade again, I wish that you understood now.","body":"I would like to know how I can fix the problem gradle version of my project with version 6.8.3 and the compatible version of java version of my PC, I can&#39;t find the compatible version of Java with my project that it could work right I think, because of I upgraded my android studio with it upgraded Java too and I can&#39;t it downgrade again, I wish that you understood now."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1682773589,"post_id":76123807,"comment_id":134269932,"body_markdown":"Please edit your question to add the missing information from the comments.","body":"Please edit your question to add the missing information from the comments."}],"answers":[{"tags":[],"owner":{"account_id":9584657,"reputation":558,"user_id":7117906,"display_name":"abdullah_bd"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1685637184,"creation_date":1685637184,"answer_id":76383993,"question_id":76123807,"body_markdown":"As you are using **java 17**, then upgrade **gradle** to *version 7.3* at least.\r\nget idea from [Compatibility Matrix][1]. \r\nYou can also get version idea from [Gradle Release][2]\r\n\r\n\r\nGo to\r\n\r\n- Step 1: Go to the gradle directory for your project:\r\n\r\n    cd android/gradle/wrapper\r\n\r\n - Step 2: Edit the gradle-wrapper.properties file to change the distribution Url field to the preferred Gradle version (7.3 or others):\r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-7.6.1-all.zip\r\n\r\n\r\nHappy Fixing! \r\n\r\n  [1]: https://docs.gradle.org/current/userguide/compatibility.html\r\n  [2]: https://gradle.org/releases/","title":"my project&#39;s Gradle version is incompatible with the Java version that Flutter is using for Gradle","body":"<p>As you are using <strong>java 17</strong>, then upgrade <strong>gradle</strong> to <em>version 7.3</em> at least.\nget idea from <a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"noreferrer\">Compatibility Matrix</a>.\nYou can also get version idea from <a href=\"https://gradle.org/releases/\" rel=\"noreferrer\">Gradle Release</a></p>\n<p>Go to</p>\n<ul>\n<li><p>Step 1: Go to the gradle directory for your project:</p>\n<p>cd android/gradle/wrapper</p>\n</li>\n<li><p>Step 2: Edit the gradle-wrapper.properties file to change the distribution Url field to the preferred Gradle version (7.3 or others):</p>\n<p>distributionUrl=https://services.gradle.org/distributions/gradle-7.6.1-all.zip</p>\n</li>\n</ul>\n<p>Happy Fixing!</p>\n"},{"tags":[],"owner":{"account_id":19498432,"reputation":11,"user_id":14265089,"display_name":"Ajit Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689054310,"creation_date":1688747945,"answer_id":76638767,"question_id":76123807,"body_markdown":"Change on latest gradle will work\r\n\r\n    distributionUrl=https://services.gradle.org/distributions/gradle-Latest version-all.zip\r\n\r\nExample: `distributionUrl=https://services.gradle.org/distributions/gradle-7.6.1-all.zip`","title":"my project&#39;s Gradle version is incompatible with the Java version that Flutter is using for Gradle","body":"<p>Change on latest gradle will work</p>\n<pre><code>distributionUrl=https://services.gradle.org/distributions/gradle-Latest version-all.zip\n</code></pre>\n<p>Example: <code>distributionUrl=https://services.gradle.org/distributions/gradle-7.6.1-all.zip</code></p>\n"}],"owner":{"account_id":28357688,"reputation":11,"user_id":21688175,"display_name":"Reza Sahebzadeh"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13898,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1689054310,"creation_date":1682622015,"question_id":76123807,"body_markdown":"I wanted to move my project into Android Studio and when I was running the simulator, the project was running fine. Since I updated Android Studio, the simulator has the error that the Gradle version of the project is not compatible with the Java version.\r\n\r\nI would like to know how I can fix the problem gradle version of my project with version 6.8.3 and the compatible version of java version of my PC, I can&#39;t find the compatible version of Java with my project that it could work right I think, because of I upgraded my android studio with it upgraded Java too and I can&#39;t it downgrade again, I wish that you understood now.\r\n\r\n**Setup**:\r\n\r\nGradle 6.8.3  \r\nJava 17  \r\nFlutter 3.7.12  \r\nAndroid Studio 2022.2.1\r\n\r\n**Error Message**:\r\n```\r\nFAILURE: Build failed with an exception.\r\n* What went wrong: Could not open settings generic class cache for settings file &#39;.\\android\\settings.gradle&#39; (.\\.gradle\\caches\\6.8.3\\scripts\\9w4vzv9io97x5h1yfb63h0ld4).\r\n &gt; BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;BuildScript&#39; Unsupported class file major version 61\r\n\r\nTo fix this issue, first, check the Java version used by Flutter by running flutter doctor --verbose. Then, update the Gradle version specified in .\\android\\gradle\\wrapper\\gradle-wrapper.properties to be compatible with that Java version.\r\n```\r\n\r\n**Output from `java --version`**:\r\n```\r\njava version &quot;10.0.2&quot; 2018-07-17\r\nJava(TM) SE Runtime Environment 18.3 (build 10.0.2+13)\r\nJava HotSpot(TM) 64-Bit Server VM 18.3 (build 10.0.2+13, mixed mode)\r\n```","title":"my project&#39;s Gradle version is incompatible with the Java version that Flutter is using for Gradle","body":"<p>I wanted to move my project into Android Studio and when I was running the simulator, the project was running fine. Since I updated Android Studio, the simulator has the error that the Gradle version of the project is not compatible with the Java version.</p>\n<p>I would like to know how I can fix the problem gradle version of my project with version 6.8.3 and the compatible version of java version of my PC, I can't find the compatible version of Java with my project that it could work right I think, because of I upgraded my android studio with it upgraded Java too and I can't it downgrade again, I wish that you understood now.</p>\n<p><strong>Setup</strong>:</p>\n<p>Gradle 6.8.3<br />\nJava 17<br />\nFlutter 3.7.12<br />\nAndroid Studio 2022.2.1</p>\n<p><strong>Error Message</strong>:</p>\n<pre><code>FAILURE: Build failed with an exception.\n* What went wrong: Could not open settings generic class cache for settings file '.\\android\\settings.gradle' (.\\.gradle\\caches\\6.8.3\\scripts\\9w4vzv9io97x5h1yfb63h0ld4).\n &gt; BUG! exception in phase 'semantic analysis' in source unit 'BuildScript' Unsupported class file major version 61\n\nTo fix this issue, first, check the Java version used by Flutter by running flutter doctor --verbose. Then, update the Gradle version specified in .\\android\\gradle\\wrapper\\gradle-wrapper.properties to be compatible with that Java version.\n</code></pre>\n<p><strong>Output from <code>java --version</code></strong>:</p>\n<pre><code>java version &quot;10.0.2&quot; 2018-07-17\nJava(TM) SE Runtime Environment 18.3 (build 10.0.2+13)\nJava HotSpot(TM) 64-Bit Server VM 18.3 (build 10.0.2+13, mixed mode)\n</code></pre>\n"},{"tags":["java","spring-boot","junit-jupiter"],"comments":[{"owner":{"account_id":21738867,"reputation":4168,"user_id":16046521,"display_name":"Salvino D&#39;sa"},"score":0,"creation_date":1689049391,"post_id":76657487,"comment_id":135154300,"body_markdown":"Does this answer your question? [Maven not running JUnit 5 tests](https://stackoverflow.com/questions/53433663/maven-not-running-junit-5-tests). You are most likely missing the `junit-jupiter-engine` dependency. You can solve this by just adding one single [Aggregator](https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter/5.10.0-RC1) dependency that contains the `junit-jupiter-api` as well as the `junit-jupiter-engine` dependency.","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/53433663/maven-not-running-junit-5-tests\">Maven not running JUnit 5 tests</a>. You are most likely missing the <code>junit-jupiter-engine</code> dependency. You can solve this by just adding one single <a href=\"https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter/5.10.0-RC1\" rel=\"nofollow noreferrer\">Aggregator</a> dependency that contains the <code>junit-jupiter-api</code> as well as the <code>junit-jupiter-engine</code> dependency."}],"owner":{"account_id":281380,"reputation":2648,"user_id":577647,"accept_rate":69,"display_name":"tolga"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689054102,"creation_date":1689024986,"question_id":76657487,"body_markdown":"I coded a test for a method in my service. **mvn test** command can&#39;t find any tests. \r\n\r\nService is under \r\n\r\n    src/main/java/com/nexus/dynamo\r\n\r\nSo I put the test file in:\r\n\r\n    src/test/java/com/nexus/dynamo\r\n\r\nStill no chance. What am I missing? \r\n\r\n    @SpringBootTest\r\n    public class DynamoDBTests {\r\n        @Autowired\r\n        DynamoService dynamoService;\r\n    \r\n        @Test\r\n        public void testConvertIntoDTOList() {\r\n            List&lt;String&gt; tableNames = Arrays.asList(&quot;Table1&quot;, &quot;Table2&quot;, &quot;Table3&quot;);\r\n            List&lt;DynamoDTO&gt; result = dynamoService.convertIntoDTOList(tableNames);\r\n\r\n        Assertions.assertEquals(tableNames.size(), result.size());\r\n\r\n        for (int i = 0; i &lt; tableNames.size(); i++) {\r\n            String expectedName = tableNames.get(i);\r\n            DynamoDTO actualDTO = result.get(i);\r\n\r\n            Assertions.assertEquals(expectedName, actualDTO.getName());\r\n        }\r\n    }\r\n    }","title":"Jupiter can&#39;t find the test file in SpringBoot project","body":"<p>I coded a test for a method in my service. <strong>mvn test</strong> command can't find any tests.</p>\n<p>Service is under</p>\n<pre><code>src/main/java/com/nexus/dynamo\n</code></pre>\n<p>So I put the test file in:</p>\n<pre><code>src/test/java/com/nexus/dynamo\n</code></pre>\n<p>Still no chance. What am I missing?</p>\n<pre><code>@SpringBootTest\npublic class DynamoDBTests {\n    @Autowired\n    DynamoService dynamoService;\n\n    @Test\n    public void testConvertIntoDTOList() {\n        List&lt;String&gt; tableNames = Arrays.asList(&quot;Table1&quot;, &quot;Table2&quot;, &quot;Table3&quot;);\n        List&lt;DynamoDTO&gt; result = dynamoService.convertIntoDTOList(tableNames);\n\n    Assertions.assertEquals(tableNames.size(), result.size());\n\n    for (int i = 0; i &lt; tableNames.size(); i++) {\n        String expectedName = tableNames.get(i);\n        DynamoDTO actualDTO = result.get(i);\n\n        Assertions.assertEquals(expectedName, actualDTO.getName());\n    }\n}\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","proguard"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1688992168,"post_id":76653406,"comment_id":135145367,"body_markdown":"I&#39;m seeing a lot of assumptions. Did you check what&#39;s *actually* happening? Just look at the generated class files: If the function is there, you have a different problem. If it&#39;s not, Proguard removed it.","body":"I&#39;m seeing a lot of assumptions. Did you check what&#39;s <i>actually</i> happening? Just look at the generated class files: If the function is there, you have a different problem. If it&#39;s not, Proguard removed it."},{"owner":{"account_id":11057702,"reputation":263,"user_id":8120100,"display_name":"artaxerx"},"score":0,"creation_date":1689055289,"post_id":76653406,"comment_id":135154897,"body_markdown":"Function are still here, as I say before, but it&#39;s the **class** which is not visible anymore. If I use _object_ approach there is `Utils.class`  and in decompiled class all&#39;s well.  When using _functions_ approach it is also here and all functions are present, but no class `Utils` in decompiled `Utils.class` file (but it is shown in `Utils.decompiled.java` view), so old imports are broken","body":"Function are still here, as I say before, but it&#39;s the <b>class</b> which is not visible anymore. If I use <i>object</i> approach there is <code>Utils.class</code>  and in decompiled class all&#39;s well.  When using <i>functions</i> approach it is also here and all functions are present, but no class <code>Utils</code> in decompiled <code>Utils.class</code> file (but it is shown in <code>Utils.decompiled.java</code> view), so old imports are broken"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1689059340,"post_id":76653406,"comment_id":135155549,"body_markdown":"That&#39;s not possible. Java has exactly one `.class` file per class. If there&#39;s a `Utils.class` file, there&#39;s a `Utils` class. So &quot;no class Utils in decompiled Utils.class file&quot; can&#39;t be true.","body":"That&#39;s not possible. Java has exactly one <code>.class</code> file per class. If there&#39;s a <code>Utils.class</code> file, there&#39;s a <code>Utils</code> class. So &quot;no class Utils in decompiled Utils.class file&quot; can&#39;t be true."},{"owner":{"account_id":11057702,"reputation":263,"user_id":8120100,"display_name":"artaxerx"},"score":0,"creation_date":1689078229,"post_id":76653406,"comment_id":135159447,"body_markdown":"Sorry, my description was not accurate. Please see [screenshots here](https://imgur.com/a/JB6NPQ4). So the class is visible in Java code, but not in Kotlin code. Maybe it is designed to be like this but not so well documented, and I am missing something in concepts.","body":"Sorry, my description was not accurate. Please see <a href=\"https://imgur.com/a/JB6NPQ4\" rel=\"nofollow noreferrer\">screenshots here</a>. So the class is visible in Java code, but not in Kotlin code. Maybe it is designed to be like this but not so well documented, and I am missing something in concepts."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1689078595,"post_id":76653406,"comment_id":135159539,"body_markdown":"So is the question simply &quot;Why does the Java-decompiled code have a `Utils2` class while the Kotlin code does not&quot;? Then the answer is simple: Kotlin supports top-level functions outside classes, and Java does not. So the Java decompiler cannot generate valid Java source code without generating a class around it.","body":"So is the question simply &quot;Why does the Java-decompiled code have a <code>Utils2</code> class while the Kotlin code does not&quot;? Then the answer is simple: Kotlin supports top-level functions outside classes, and Java does not. So the Java decompiler cannot generate valid Java source code without generating a class around it."},{"owner":{"account_id":11057702,"reputation":263,"user_id":8120100,"display_name":"artaxerx"},"score":0,"creation_date":1689084051,"post_id":76653406,"comment_id":135161032,"body_markdown":"Close, but not exactly. The question is &quot;Why Kotlin cannot access top-level functions the same way Java does, additionally to its own way?&quot;.","body":"Close, but not exactly. The question is &quot;Why Kotlin cannot access top-level functions the same way Java does, additionally to its own way?&quot;."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1689088175,"post_id":76653406,"comment_id":135162095,"body_markdown":"Because that&#39;s not how Kotlin works. To Kotlin, that class does not exist. It only exists for Java, and then only because it has to.","body":"Because that&#39;s not how Kotlin works. To Kotlin, that class does not exist. It only exists for Java, and then only because it has to."},{"owner":{"account_id":11057702,"reputation":263,"user_id":8120100,"display_name":"artaxerx"},"score":0,"creation_date":1689140514,"post_id":76653406,"comment_id":135169091,"body_markdown":"Thanks. Could you please write this as answer so I would accept it?","body":"Thanks. Could you please write this as answer so I would accept it?"}],"owner":{"account_id":11057702,"reputation":263,"user_id":8120100,"display_name":"artaxerx"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689053822,"creation_date":1688989504,"question_id":76653406,"body_markdown":"I have an AAR library to use in several Android applications. It was written most in Java but I want to rewrite some utils pseudoclasses in Kotlin to make further development easier. But when I did so calls from the other places have been broken. For example, previously it was something like this:\r\n\r\n    /*inside library project, Java*/\r\n    package com.example.library\r\n    \r\n    public interface Utils {\r\n        static int functionOne() { return 1; }\r\n    }\r\n\r\n    /*inside application project, Kotlin*/\r\n    package com.example.app\r\n    import com.example.library.Utils\r\n\r\n    class SomeClass {\r\n        private val myOne = Utils.functionOne()\r\n    }\r\n\r\nBut when I rewrite `Utils` into Kotlin functions file I cannot use it like this anymore. [Documentation says][1] that it should be easy. So approach below breaks the code outside:\r\n\r\n    @file:JvmName(&quot;Utils&quot;)\r\n    package com.example.library\r\n\r\n    fun functionOne() : Int = 1\r\n\r\nAnd there is no more `com.example.library.Utils.functionOne` when I include AAR to my application, only `com.example.library.functionOne` which is pretty different signature, so every class in Java or Kotlin using `Utils` outside AAR should be updated. But I still can call function like `Utils.functionOne()` within my library project. Also if I use different approach via `object` signatures would be kept, but redundant definitions would be generated too.\r\n\r\n    package com.example.library\r\n\r\n    object Utils {\r\n        @JvmStatic\r\n        fun functionOne() : Int = 1\r\n    }\r\n\r\nSo I think that the issue concerns some **proguard** definitions. And [this way][2] does not help, even my IDE highlights `-keepkotlinmetadata` in red telling that flag is invalid, neither works `-keep class kotlin.Metadata`.\r\n\r\n\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/java-to-kotlin-interop.html\r\n  [2]: https://stackoverflow.com/questions/52818000/how-to-keep-package-level-kotlin-functions-in-proguard","title":"Cannot keep class name for Kotlin functions inside AAR","body":"<p>I have an AAR library to use in several Android applications. It was written most in Java but I want to rewrite some utils pseudoclasses in Kotlin to make further development easier. But when I did so calls from the other places have been broken. For example, previously it was something like this:</p>\n<pre><code>/*inside library project, Java*/\npackage com.example.library\n\npublic interface Utils {\n    static int functionOne() { return 1; }\n}\n\n/*inside application project, Kotlin*/\npackage com.example.app\nimport com.example.library.Utils\n\nclass SomeClass {\n    private val myOne = Utils.functionOne()\n}\n</code></pre>\n<p>But when I rewrite <code>Utils</code> into Kotlin functions file I cannot use it like this anymore. <a href=\"https://kotlinlang.org/docs/java-to-kotlin-interop.html\" rel=\"nofollow noreferrer\">Documentation says</a> that it should be easy. So approach below breaks the code outside:</p>\n<pre><code>@file:JvmName(&quot;Utils&quot;)\npackage com.example.library\n\nfun functionOne() : Int = 1\n</code></pre>\n<p>And there is no more <code>com.example.library.Utils.functionOne</code> when I include AAR to my application, only <code>com.example.library.functionOne</code> which is pretty different signature, so every class in Java or Kotlin using <code>Utils</code> outside AAR should be updated. But I still can call function like <code>Utils.functionOne()</code> within my library project. Also if I use different approach via <code>object</code> signatures would be kept, but redundant definitions would be generated too.</p>\n<pre><code>package com.example.library\n\nobject Utils {\n    @JvmStatic\n    fun functionOne() : Int = 1\n}\n</code></pre>\n<p>So I think that the issue concerns some <strong>proguard</strong> definitions. And <a href=\"https://stackoverflow.com/questions/52818000/how-to-keep-package-level-kotlin-functions-in-proguard\">this way</a> does not help, even my IDE highlights <code>-keepkotlinmetadata</code> in red telling that flag is invalid, neither works <code>-keep class kotlin.Metadata</code>.</p>\n"},{"tags":["java","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":69275,"reputation":10431,"user_id":201672,"display_name":"tonio"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1337028076,"creation_date":1337026707,"answer_id":10590424,"question_id":10589767,"body_markdown":"It seems you are misusing `ParameterizedType`.\r\nIn the `EntityRepository` constructor, you should be using something like the following, with the appropriate checks.\r\n\r\n    public EntityRepository () {\r\n        //Get &quot;T&quot; and assign it to this.entityClass\r\n        ParameterizedType genericSuperclass = (ParameterizedType) getClass().getGenericSuperclass();\r\n        Type type = genericSuperclass.getActualTypeArguments()[0];\r\n        if (type instanceof Class) {\r\n          this.entityClass = (Class&lt;T&gt;) type;\r\n        } else if (type instanceof ParameterizedType) {\r\n          this.entityClass = (Class&lt;T&gt;) ((ParameterizedType)type).getRawType();\r\n        }\r\n    }\r\n\r\nThis implementation is far from complete though, as you should also handle `GenericArrayType` values, as well as nested `ParameterizedType`.","title":"Class cannot be cast to java.lang.reflect.ParameterizedType","body":"<p>It seems you are misusing <code>ParameterizedType</code>.\nIn the <code>EntityRepository</code> constructor, you should be using something like the following, with the appropriate checks.</p>\n\n<pre><code>public EntityRepository () {\n    //Get \"T\" and assign it to this.entityClass\n    ParameterizedType genericSuperclass = (ParameterizedType) getClass().getGenericSuperclass();\n    Type type = genericSuperclass.getActualTypeArguments()[0];\n    if (type instanceof Class) {\n      this.entityClass = (Class&lt;T&gt;) type;\n    } else if (type instanceof ParameterizedType) {\n      this.entityClass = (Class&lt;T&gt;) ((ParameterizedType)type).getRawType();\n    }\n}\n</code></pre>\n\n<p>This implementation is far from complete though, as you should also handle <code>GenericArrayType</code> values, as well as nested <code>ParameterizedType</code>.</p>\n"},{"tags":[],"owner":{"account_id":268839,"reputation":6595,"user_id":557836,"accept_rate":83,"display_name":"Atticus"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1349905830,"creation_date":1349905830,"answer_id":12828972,"question_id":10589767,"body_markdown":"Just saying, this is a pretty poor design for determining the entity type..\r\nYou should do the following instead of relying on reflection to infer its class def..\r\nNot only will it get rid of that error, but it will be overall cleaner and at a low level, faster than reflection (not that it would really be an issue).\r\n\r\n\r\n\r\n    \t\r\n    @Repository\r\n    public abstract class EntityRepository&lt;T&gt;{\r\n    \tprotected Class&lt;T&gt; entityClass;\r\n    \t\r\n    \tpublic EntityRepository(Class&lt;T&gt; entityClass){\r\n    \t\tthis.entityClass = entityClass;\r\n    \t}\r\n    \t\r\n    \t//...\r\n    }\r\n    \r\n    \r\n    public class UserEntityRepository extends EntityRepository&lt;User&gt;{\r\n    \tpublic UserEntityRepository(){\r\n    \t\tsuper(User.class);\r\n    \t}\r\n    }\r\n\r\n","title":"Class cannot be cast to java.lang.reflect.ParameterizedType","body":"<p>Just saying, this is a pretty poor design for determining the entity type..\nYou should do the following instead of relying on reflection to infer its class def..\nNot only will it get rid of that error, but it will be overall cleaner and at a low level, faster than reflection (not that it would really be an issue).</p>\n\n<pre><code>@Repository\npublic abstract class EntityRepository&lt;T&gt;{\n    protected Class&lt;T&gt; entityClass;\n\n    public EntityRepository(Class&lt;T&gt; entityClass){\n        this.entityClass = entityClass;\n    }\n\n    //...\n}\n\n\npublic class UserEntityRepository extends EntityRepository&lt;User&gt;{\n    public UserEntityRepository(){\n        super(User.class);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":256347,"reputation":145,"user_id":537012,"display_name":"Michael Panchenko"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1458105263,"creation_date":1422516760,"answer_id":28209213,"question_id":10589767,"body_markdown":"EntityRepository isn&#39;t ParameterizedType type. This class only extends ParameterizedType. This is also possible if spring proxied you class by cglib\r\n\r\nWe need check parents of class\r\n\r\n    public EntityRepository () {\r\n        //Get &quot;T&quot; and assign it to this.entityClass\r\n        Type genericSuperClass = getClass().getGenericSuperclass();\r\n\r\n        ParameterizedType parametrizedType = null;\r\n        while (parametrizedType == null) {\r\n            if ((genericSuperClass instanceof ParameterizedType)) {\r\n                parametrizedType = (ParameterizedType) genericSuperClass;\r\n            } else {\r\n                genericSuperClass = ((Class&lt;?&gt;) genericSuperClass).getGenericSuperclass();\r\n            }\r\n        }\r\n\r\n        entityClass = (Class&lt;T&gt;) parametrizedType.getActualTypeArguments()[0];\r\n    }","title":"Class cannot be cast to java.lang.reflect.ParameterizedType","body":"<p>EntityRepository isn't ParameterizedType type. This class only extends ParameterizedType. This is also possible if spring proxied you class by cglib</p>\n\n<p>We need check parents of class</p>\n\n<pre><code>public EntityRepository () {\n    //Get \"T\" and assign it to this.entityClass\n    Type genericSuperClass = getClass().getGenericSuperclass();\n\n    ParameterizedType parametrizedType = null;\n    while (parametrizedType == null) {\n        if ((genericSuperClass instanceof ParameterizedType)) {\n            parametrizedType = (ParameterizedType) genericSuperClass;\n        } else {\n            genericSuperClass = ((Class&lt;?&gt;) genericSuperClass).getGenericSuperclass();\n        }\n    }\n\n    entityClass = (Class&lt;T&gt;) parametrizedType.getActualTypeArguments()[0];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5798458,"reputation":111,"user_id":4573462,"display_name":"balatamilmani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1489934974,"creation_date":1489934974,"answer_id":42887965,"question_id":10589767,"body_markdown":"@Repository annotation needs to be removed from the class EntityRepository&lt;T&gt; to solve the problem.\r\n\r\nRead this thread\r\n\r\nhttps://stackoverflow.com/questions/11067512/java-lang-class-cannot-be-cast-to-java-lang-reflect-parameterizedtype/42887896#42887896","title":"Class cannot be cast to java.lang.reflect.ParameterizedType","body":"<p>@Repository annotation needs to be removed from the class EntityRepository to solve the problem.</p>\n\n<p>Read this thread</p>\n\n<p><a href=\"https://stackoverflow.com/questions/11067512/java-lang-class-cannot-be-cast-to-java-lang-reflect-parameterizedtype/42887896#42887896\">java.lang.Class cannot be cast to java.lang.reflect.ParameterizedType</a></p>\n"},{"tags":[],"owner":{"account_id":20159165,"reputation":2445,"user_id":14784590,"display_name":"Reejesh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689052460,"creation_date":1689049664,"answer_id":76658715,"question_id":10589767,"body_markdown":"In my case, adding pro guard rules solved the issue, because I was using the Type wrapped in Live Data.\r\n\r\nBut the issue failed to replicate in a new project. Possible that there were issues with multiple modules in the project.\r\n\r\nRule added:\r\n\r\n    -keep class androidx.lifecycle.LiveData { *; } \r\n\r\nHere is the thread to solution : \r\n[ClassCastException java.lang.Class cannot be cast to java.lang.reflect.ParameterizedType][1]\r\n\r\n\r\nIf you have recently upgraded Gradle and Java in your project, you are most likely using R8. So you might wanna check out the other dependencies for your project to work, like : \r\n\r\n[GSON Proguard for R8][2]\r\n\r\n[Retrofit Proguard][3]\r\n\r\n\r\n  [1]: https://github.com/android/architecture-components-samples/issues/1088\r\n  [2]: https://stackoverflow.com/a/61481954/14784590\r\n  [3]: https://stackoverflow.com/a/65251059/14784590","title":"Class cannot be cast to java.lang.reflect.ParameterizedType","body":"<p>In my case, adding pro guard rules solved the issue, because I was using the Type wrapped in Live Data.</p>\n<p>But the issue failed to replicate in a new project. Possible that there were issues with multiple modules in the project.</p>\n<p>Rule added:</p>\n<pre><code>-keep class androidx.lifecycle.LiveData { *; } \n</code></pre>\n<p>Here is the thread to solution :\n<a href=\"https://github.com/android/architecture-components-samples/issues/1088\" rel=\"nofollow noreferrer\">ClassCastException java.lang.Class cannot be cast to java.lang.reflect.ParameterizedType</a></p>\n<p>If you have recently upgraded Gradle and Java in your project, you are most likely using R8. So you might wanna check out the other dependencies for your project to work, like :</p>\n<p><a href=\"https://stackoverflow.com/a/61481954/14784590\">GSON Proguard for R8</a></p>\n<p><a href=\"https://stackoverflow.com/a/65251059/14784590\">Retrofit Proguard</a></p>\n"}],"owner":{"account_id":67541,"reputation":60858,"user_id":197606,"accept_rate":85,"display_name":"Ben"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54737,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":12828972,"answer_count":5,"score":17,"last_activity_date":1689052460,"creation_date":1337023408,"question_id":10589767,"body_markdown":"Currently the `VariableService` is `@Autowired` in my controller.\r\n\r\nI realize I can implement  the class `ParameterizedType` to make this error go away but I fear that I may be headed in the wrong direction.  Is there a better way to do this or do I need to bite the bullet and implement `ParameterizedType`&#39;s methods?\r\n\r\n&gt;org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;contentController&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private com.fettergroup.cmt.service.VariableService com.fettergroup.cmt.web.ContentController.variableService; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;variableService&#39; defined in ServletContext resource [/WEB-INF/dispatcher-servlet.xml]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.fettergroup.cmt.service.VariableService]: Constructor threw exception; nested exception is java.lang.ClassCastException: **java.lang.Class cannot be cast to java.lang.reflect.ParameterizedType**\r\n\r\n**Variable Service**\r\n\r\n    public class VariableService extends EntityService {\r\n        public VariableService () {\r\n            super.setEntityRepository(new VariableRepository());\r\n        }\r\n    }\r\n\r\n**EntityService**\r\n\r\n    public abstract class EntityService&lt;T&gt; {\r\n        \r\n        public EntityRepository&lt;T&gt; entityRepository;\r\n        \r\n        public T create(T entity) {\r\n            return entityRepository.create(entity);\r\n        }\r\n        \r\n        public T update(T entity) {\r\n            return entityRepository.update(entity);\r\n        }\r\n        \r\n        public void delete(T entity) {\r\n            entityRepository.delete(entity);\r\n        }\r\n    \r\n        public void setEntityRepository(EntityRepository&lt;T&gt; entityRepository) {\r\n            this.entityRepository = entityRepository;\r\n        }\r\n    }\r\n\r\n**Variable Repository**\r\n\r\n    public class VariableRepository extends EntityRepository {\r\n        \r\n    }\r\n\r\n**EntityRepository**\r\n\r\n    @Repository\r\n    public abstract class EntityRepository&lt;T&gt; {\r\n        \r\n        //the equivalent of User.class\r\n        protected Class&lt;T&gt; entityClass;\r\n        \r\n        @PersistenceContext(type= PersistenceContextType.TRANSACTION)\r\n        public EntityManager entityManager;\r\n        \r\n        public EntityRepository () {\r\n            //Get &quot;T&quot; and assign it to this.entityClass\r\n            ParameterizedType genericSuperclass = (ParameterizedType) getClass().getGenericSuperclass();\r\n            this.entityClass = (Class&lt;T&gt;) genericSuperclass.getActualTypeArguments()[0];\r\n        }\r\n    \r\n        /**\r\n         * Create this entity\r\n         * @param t\r\n         * @return \r\n         */\r\n        public T create(T t) {\r\n            entityManager.persist(t);\r\n            return t;\r\n        }\r\n    \r\n        /**\r\n         * Update this entity\r\n         * @param t\r\n         * @return \r\n         */\r\n        public T update(T t) {\r\n            return entityManager.merge(t);\r\n        }\r\n    \r\n        /**\r\n         * Delete this entity\r\n         * @param entity \r\n         */\r\n        public void delete(T t) {\r\n            t = this.update(t);\r\n            entityManager.remove(t);\r\n        }\r\n    \r\n        public void setEntityManager(EntityManager entityManager) {\r\n            this.entityManager = entityManager;\r\n        }\r\n    }","title":"Class cannot be cast to java.lang.reflect.ParameterizedType","body":"<p>Currently the <code>VariableService</code> is <code>@Autowired</code> in my controller.</p>\n\n<p>I realize I can implement  the class <code>ParameterizedType</code> to make this error go away but I fear that I may be headed in the wrong direction.  Is there a better way to do this or do I need to bite the bullet and implement <code>ParameterizedType</code>'s methods?</p>\n\n<blockquote>\n  <p>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'contentController': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private com.fettergroup.cmt.service.VariableService com.fettergroup.cmt.web.ContentController.variableService; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'variableService' defined in ServletContext resource [/WEB-INF/dispatcher-servlet.xml]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.fettergroup.cmt.service.VariableService]: Constructor threw exception; nested exception is java.lang.ClassCastException: <strong>java.lang.Class cannot be cast to java.lang.reflect.ParameterizedType</strong></p>\n</blockquote>\n\n<p><strong>Variable Service</strong></p>\n\n<pre><code>public class VariableService extends EntityService {\n    public VariableService () {\n        super.setEntityRepository(new VariableRepository());\n    }\n}\n</code></pre>\n\n<p><strong>EntityService</strong></p>\n\n<pre><code>public abstract class EntityService&lt;T&gt; {\n\n    public EntityRepository&lt;T&gt; entityRepository;\n\n    public T create(T entity) {\n        return entityRepository.create(entity);\n    }\n\n    public T update(T entity) {\n        return entityRepository.update(entity);\n    }\n\n    public void delete(T entity) {\n        entityRepository.delete(entity);\n    }\n\n    public void setEntityRepository(EntityRepository&lt;T&gt; entityRepository) {\n        this.entityRepository = entityRepository;\n    }\n}\n</code></pre>\n\n<p><strong>Variable Repository</strong></p>\n\n<pre><code>public class VariableRepository extends EntityRepository {\n\n}\n</code></pre>\n\n<p><strong>EntityRepository</strong></p>\n\n<pre><code>@Repository\npublic abstract class EntityRepository&lt;T&gt; {\n\n    //the equivalent of User.class\n    protected Class&lt;T&gt; entityClass;\n\n    @PersistenceContext(type= PersistenceContextType.TRANSACTION)\n    public EntityManager entityManager;\n\n    public EntityRepository () {\n        //Get \"T\" and assign it to this.entityClass\n        ParameterizedType genericSuperclass = (ParameterizedType) getClass().getGenericSuperclass();\n        this.entityClass = (Class&lt;T&gt;) genericSuperclass.getActualTypeArguments()[0];\n    }\n\n    /**\n     * Create this entity\n     * @param t\n     * @return \n     */\n    public T create(T t) {\n        entityManager.persist(t);\n        return t;\n    }\n\n    /**\n     * Update this entity\n     * @param t\n     * @return \n     */\n    public T update(T t) {\n        return entityManager.merge(t);\n    }\n\n    /**\n     * Delete this entity\n     * @param entity \n     */\n    public void delete(T t) {\n        t = this.update(t);\n        entityManager.remove(t);\n    }\n\n    public void setEntityManager(EntityManager entityManager) {\n        this.entityManager = entityManager;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","junit","mockito"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689054219,"post_id":76658862,"comment_id":135154760,"body_markdown":"You don&#39;t nor should you. It is a `FactoryBean` which will create a Freemarker `Configuration` object for you to use. So don&#39;t inject the `FactoryBean`, just inject the `Configuration`.","body":"You don&#39;t nor should you. It is a <code>FactoryBean</code> which will create a Freemarker <code>Configuration</code> object for you to use. So don&#39;t inject the <code>FactoryBean</code>, just inject the <code>Configuration</code>."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1689055524,"post_id":76658862,"comment_id":135154937,"body_markdown":"I would recommend that you rewrite your `EmailService` for constructor injection instead of field injection. This improves (not only) testability. See e.g. https://stackoverflow.com/questions/19381846/why-use-constructor-over-setter-injection-in-cdi for a more detailed explanation.","body":"I would recommend that you rewrite your <code>EmailService</code> for constructor injection instead of field injection. This improves (not only) testability. See e.g. <a href=\"https://stackoverflow.com/questions/19381846/why-use-constructor-over-setter-injection-in-cdi\" title=\"why use constructor over setter injection in cdi\">stackoverflow.com/questions/19381846/&hellip;</a> for a more detailed explanation."}],"owner":{"account_id":27342791,"reputation":41,"user_id":20853184,"display_name":"Eshan Akash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689052271,"creation_date":1689052271,"question_id":76658862,"body_markdown":"```\r\n@Service\r\n@Slf4j\r\npublic class EmailService {\r\n    @Autowired\r\n    private final FreeMarkerConfigurationFactoryBean emailConfig;\r\n    @Autowired\r\n    private final HttpEmailService httpEmailService;\r\n\r\n    public String bookingEmail(ScheduledTimeList scheduledTimeList, String appEmail) throws Exception {\r\n            EmailRequest emailRequest = new EmailRequest();\r\n            emailRequest.setTo(appEmail);\r\n            emailRequest.setSubject(&quot;Subject&quot;);\r\n            Map&lt;String, Object&gt; modelApp = new HashMap&lt;&gt;();\r\n            modelApp.put(&quot;appEmail&quot;, appEmail);\r\n            modelApp.put(&quot;scheduledTimeList&quot;, scheduledTimeList);\r\n\r\n            Configuration configuration = emailConfig.getObject();\r\n            Template template = configuration.getTemplate(&quot;emailTemplateNames.ftl&quot;);\r\n            String html = FreeMarkerTemplateUtils.processTemplateIntoString(template, model);\r\n            emailRequest.setHtmlContent(html);\r\n            httpEmailService.sendEmail(emailRequest);\r\n            return &quot;success&quot;;\r\n    }\r\n}\r\n```\r\nIssues: \r\n- I want to write a test case for bookingEmail method. How can I do it using @runwith(springrunner.class)?\r\n- Can we do it using @runwith(mockitojunitrunner.class) also? If yes then How?\r\n- How can I capture the argument in test case\r\n\r\n\r\n\r\n\r\nEmailServiceTest.java\r\n```\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest(classes = {EmailService.class})\r\npublic class EmailServiceTest {\r\n    DemoBookingEntity demoBookingEntity;\r\n    @Autowired\r\n    @Qualifier(&quot;emailConfigBean&quot;)\r\n    private FreeMarkerConfigurationFactoryBean emailConfig;\r\n    @MockBean\r\n    private HttpEmailService httpEmailService;\r\n    @Autowired\r\n    private EmailService emailService;\r\n\r\n    @Before\r\n    public void setup() {\r\n        emailService = new EmailServiceTest(httpEmailService, emailConfig);\r\n        demoBookingEntity = DemoBookingEntity.builder()\r\n                .appId(&quot;appId&quot;)\r\n                .timeSlotList(Arrays.asList(new TimeSlot(&quot;1677763200&quot;, &quot;1677766800&quot;), new TimeSlot(&quot;1677770400&quot;, &quot;1677774000&quot;)))\r\n                .demoParticipants(Arrays.asList(&quot;Participant1&quot;))\r\n                .build();\r\n    }\r\n\r\n    @Test\r\n    public void bookADemoApiTest() throws Exception {\r\n        ...\r\n\r\n        ResponseEntity&lt;String&gt; response = emailService.bookADemoApi(demoBookingEntity, appEmail);\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nTestConfig.java\r\n```\r\n@Configuration\r\npublic class TestConfig {\r\n    @Bean(name=&quot;emailConfigBean&quot;)\r\n    public FreeMarkerConfigurationFactoryBean getFreeMarkerConfiguration(ResourceLoader resourceLoader) {\r\n        FreeMarkerConfigurationFactoryBean bean = new FreeMarkerConfigurationFactoryBean();\r\n        bean.setTemplateLoaderPath(&quot;classpath:/templates/&quot;);\r\n        return bean;\r\n    }\r\n}\r\n```\r\n\r\n","title":"How to write test case of FreeMarkerConfigurationFactoryBean in Junit","body":"<pre><code>@Service\n@Slf4j\npublic class EmailService {\n    @Autowired\n    private final FreeMarkerConfigurationFactoryBean emailConfig;\n    @Autowired\n    private final HttpEmailService httpEmailService;\n\n    public String bookingEmail(ScheduledTimeList scheduledTimeList, String appEmail) throws Exception {\n            EmailRequest emailRequest = new EmailRequest();\n            emailRequest.setTo(appEmail);\n            emailRequest.setSubject(&quot;Subject&quot;);\n            Map&lt;String, Object&gt; modelApp = new HashMap&lt;&gt;();\n            modelApp.put(&quot;appEmail&quot;, appEmail);\n            modelApp.put(&quot;scheduledTimeList&quot;, scheduledTimeList);\n\n            Configuration configuration = emailConfig.getObject();\n            Template template = configuration.getTemplate(&quot;emailTemplateNames.ftl&quot;);\n            String html = FreeMarkerTemplateUtils.processTemplateIntoString(template, model);\n            emailRequest.setHtmlContent(html);\n            httpEmailService.sendEmail(emailRequest);\n            return &quot;success&quot;;\n    }\n}\n</code></pre>\n<p>Issues:</p>\n<ul>\n<li>I want to write a test case for bookingEmail method. How can I do it using @runwith(springrunner.class)?</li>\n<li>Can we do it using @runwith(mockitojunitrunner.class) also? If yes then How?</li>\n<li>How can I capture the argument in test case</li>\n</ul>\n<p>EmailServiceTest.java</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(classes = {EmailService.class})\npublic class EmailServiceTest {\n    DemoBookingEntity demoBookingEntity;\n    @Autowired\n    @Qualifier(&quot;emailConfigBean&quot;)\n    private FreeMarkerConfigurationFactoryBean emailConfig;\n    @MockBean\n    private HttpEmailService httpEmailService;\n    @Autowired\n    private EmailService emailService;\n\n    @Before\n    public void setup() {\n        emailService = new EmailServiceTest(httpEmailService, emailConfig);\n        demoBookingEntity = DemoBookingEntity.builder()\n                .appId(&quot;appId&quot;)\n                .timeSlotList(Arrays.asList(new TimeSlot(&quot;1677763200&quot;, &quot;1677766800&quot;), new TimeSlot(&quot;1677770400&quot;, &quot;1677774000&quot;)))\n                .demoParticipants(Arrays.asList(&quot;Participant1&quot;))\n                .build();\n    }\n\n    @Test\n    public void bookADemoApiTest() throws Exception {\n        ...\n\n        ResponseEntity&lt;String&gt; response = emailService.bookADemoApi(demoBookingEntity, appEmail);\n\n    }\n}\n\n</code></pre>\n<p>TestConfig.java</p>\n<pre><code>@Configuration\npublic class TestConfig {\n    @Bean(name=&quot;emailConfigBean&quot;)\n    public FreeMarkerConfigurationFactoryBean getFreeMarkerConfiguration(ResourceLoader resourceLoader) {\n        FreeMarkerConfigurationFactoryBean bean = new FreeMarkerConfigurationFactoryBean();\n        bean.setTemplateLoaderPath(&quot;classpath:/templates/&quot;);\n        return bean;\n    }\n}\n</code></pre>\n"},{"tags":["java","redis","project-reactor","flux"],"owner":{"account_id":28877534,"reputation":9,"user_id":22117693,"display_name":"Anonymous"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689052049,"creation_date":1689014004,"question_id":76656416,"body_markdown":"Given below is a piece of Java Micronaut code I am using for removing entries from redis. But this code does not remove entries from redis. If I use `batch.execute().subscribe();` then it is working, but I do not want to use subcribe(), so is there any solution for that?\r\n\r\n```\r\nprivate Mono&lt;Void&gt; removeFromRedis(String[] entries) {\r\n    var batch = redis.createBatch();\r\n    batch.getMap(&quot;map_name&quot;).fastRemove(entries);\r\n    batch.execute(); //if I use batch.execute().subscribe(); here then it will work\r\n    return Mono.empty();\r\n}\r\n```\r\n\r\n","title":"How to replace subscribe() in RBatchReactive.execute().subscribe()","body":"<p>Given below is a piece of Java Micronaut code I am using for removing entries from redis. But this code does not remove entries from redis. If I use <code>batch.execute().subscribe();</code> then it is working, but I do not want to use subcribe(), so is there any solution for that?</p>\n<pre><code>private Mono&lt;Void&gt; removeFromRedis(String[] entries) {\n    var batch = redis.createBatch();\n    batch.getMap(&quot;map_name&quot;).fastRemove(entries);\n    batch.execute(); //if I use batch.execute().subscribe(); here then it will work\n    return Mono.empty();\n}\n</code></pre>\n"},{"tags":["java","tmx","fxgl"],"answers":[{"tags":[],"owner":{"account_id":25403186,"reputation":3,"user_id":19212321,"display_name":"Dylan Hetzel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689049985,"creation_date":1689049985,"answer_id":76658731,"question_id":76658389,"body_markdown":"In the file &quot;module-info.java&quot; the first line needs to have the modifier `open` before the `module *class name* {`","title":"directory structure for fxgl app (specifically .tmx files)","body":"<p>In the file &quot;module-info.java&quot; the first line needs to have the modifier <code>open</code> before the <code>module *class name* {</code></p>\n"}],"owner":{"account_id":25403186,"reputation":3,"user_id":19212321,"display_name":"Dylan Hetzel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689049985,"creation_date":1689042850,"question_id":76658389,"body_markdown":"I&#39;ve been following an older tutorial for fxgl that uses the tiled software to create maps (https://www.youtube.com/watch?v=37wfF9GW1vQ&amp;t=9s). I&#39;ve looked online for anything about what the directory structure should look like, but every time I try to run it I get the error: Asset not found: tutorial.tmx. The line of code that runs this is `FXGL.setLevelFromMap(&quot;tutorial.tmx&quot;);` under the initGame() function. I&#39;ve been using Maven to build the project, and my current directory structure is as follows: [directory structure][1]. Thanks in advance for any help you can provide.\r\n\r\n  [1]: https://i.stack.imgur.com/p6VjF.png","title":"directory structure for fxgl app (specifically .tmx files)","body":"<p>I've been following an older tutorial for fxgl that uses the tiled software to create maps (<a href=\"https://www.youtube.com/watch?v=37wfF9GW1vQ&amp;t=9s\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=37wfF9GW1vQ&amp;t=9s</a>). I've looked online for anything about what the directory structure should look like, but every time I try to run it I get the error: Asset not found: tutorial.tmx. The line of code that runs this is <code>FXGL.setLevelFromMap(&quot;tutorial.tmx&quot;);</code> under the initGame() function. I've been using Maven to build the project, and my current directory structure is as follows: <a href=\"https://i.stack.imgur.com/p6VjF.png\" rel=\"nofollow noreferrer\">directory structure</a>. Thanks in advance for any help you can provide.</p>\n"},{"tags":["java","string","rounding","precision","floating-accuracy"],"comments":[{"owner":{"account_id":1967112,"reputation":162,"user_id":1767050,"display_name":"Red wine"},"score":0,"creation_date":1642586507,"post_id":2301047,"comment_id":125107692,"body_markdown":"And in Kotlin your &quot;something like&quot; would be rather more elegant:\nval foo = &quot;%.${precision}f&quot;.format(my_double)","body":"And in Kotlin your &quot;something like&quot; would be rather more elegant: val foo = &quot;%.${precision}f&quot;.format(my_double)"}],"answers":[{"tags":[],"owner":{"account_id":73747,"reputation":5497,"user_id":212215,"accept_rate":87,"display_name":"vicatcu"},"down_vote_count":1,"up_vote_count":20,"is_accepted":true,"score":19,"last_activity_date":1266640779,"creation_date":1266640779,"answer_id":2301066,"question_id":2301047,"body_markdown":"You sort of answered your own question - build your format string dynamically... valid format strings follow the conventions outlined here: http://java.sun.com/j2se/1.5.0/docs/api/java/util/Formatter.html#syntax.\r\n\r\nIf you want a formatted decimal that occupies 8 total characters (including the decimal point) and you wanted 4 digits after the decimal point, your format string should look like &quot;%8.4f&quot;... \r\n\r\nTo my knowledge there is no &quot;native support&quot; in Java beyond format strings being flexible.","title":"How to Java String.format with a variable precision?","body":"<p>You sort of answered your own question - build your format string dynamically... valid format strings follow the conventions outlined here: <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/Formatter.html#syntax\" rel=\"noreferrer\">http://java.sun.com/j2se/1.5.0/docs/api/java/util/Formatter.html#syntax</a>.</p>\n\n<p>If you want a formatted decimal that occupies 8 total characters (including the decimal point) and you wanted 4 digits after the decimal point, your format string should look like \"%8.4f\"... </p>\n\n<p>To my knowledge there is no \"native support\" in Java beyond format strings being flexible.</p>\n"},{"tags":[],"owner":{"account_id":7085674,"reputation":53,"user_id":5422558,"display_name":"Gerdi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1468502371,"creation_date":1467287370,"answer_id":38122245,"question_id":2301047,"body_markdown":"Why not :\r\n\r\n    String form = &quot;%.&quot;+precision+&quot;f\\n&quot;;\r\n    String foo = String.format(form, my_double);\r\n\r\n\r\nor :\r\n\r\n    public static String myFormat(String src, int precision, Object args...)\r\n    {\r\n        String form = &quot;%.&quot;+precision+&quot;f\\n&quot;;\r\n        return String.format(form, args);\r\n    }","title":"How to Java String.format with a variable precision?","body":"<p>Why not :</p>\n\n<pre><code>String form = \"%.\"+precision+\"f\\n\";\nString foo = String.format(form, my_double);\n</code></pre>\n\n<p>or :</p>\n\n<pre><code>public static String myFormat(String src, int precision, Object args...)\n{\n    String form = \"%.\"+precision+\"f\\n\";\n    return String.format(form, args);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1995799,"reputation":28352,"user_id":1788806,"accept_rate":94,"display_name":"Willi Mentzel"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1467287753,"creation_date":1467287753,"answer_id":38122388,"question_id":2301047,"body_markdown":"You can use the [DecimalFormat][1] class.\r\n\r\n    double d1 = 3.14159;\r\n    double d2 = 1.235;\r\n    \r\n    DecimalFormat df = new DecimalFormat(&quot;#.##&quot;);\r\n    \r\n    double roundedD1 = df.format(d); // 3.14\r\n    double roundedD2 = df.format(d); // 1.24\r\n\r\nIf you want to set the precision at run time call:\r\n\r\n\tdf.setMaximumFractionDigits(precision)\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html","title":"How to Java String.format with a variable precision?","body":"<p>You can use the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html\" rel=\"noreferrer\">DecimalFormat</a> class.</p>\n\n<pre><code>double d1 = 3.14159;\ndouble d2 = 1.235;\n\nDecimalFormat df = new DecimalFormat(\"#.##\");\n\ndouble roundedD1 = df.format(d); // 3.14\ndouble roundedD2 = df.format(d); // 1.24\n</code></pre>\n\n<p>If you want to set the precision at run time call:</p>\n\n<pre><code>df.setMaximumFractionDigits(precision)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18552013,"reputation":11,"user_id":13518055,"display_name":"swaraj_gore"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611238282,"creation_date":1611238282,"answer_id":65829219,"question_id":2301047,"body_markdown":"    \r\n    double pi = Math.PI; // 3.141592653589793\r\n    int n = 5;\r\n    DecimalFormat df = new DecimalFormat();\r\n    df.setMaximumFractionDigits(n);\r\n    System.out.printf(df.format(pi)); // 3.14159\r\nYou can set value of **n** at runtime. Here from the above code given **n = 5** will print **3.14159**","title":"How to Java String.format with a variable precision?","body":"<pre><code>double pi = Math.PI; // 3.141592653589793\nint n = 5;\nDecimalFormat df = new DecimalFormat();\ndf.setMaximumFractionDigits(n);\nSystem.out.printf(df.format(pi)); // 3.14159\n</code></pre>\n<p>You can set value of <strong>n</strong> at runtime. Here from the above code given <strong>n = 5</strong> will print <strong>3.14159</strong></p>\n"},{"tags":[],"owner":{"account_id":6068289,"reputation":3592,"user_id":4737909,"accept_rate":45,"display_name":"Lorenzo Lerate"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687358255,"creation_date":1687358255,"answer_id":76524495,"question_id":2301047,"body_markdown":"Willi Mentzel solution updated for Java 17:\r\n\r\n    double d1 = 3.14159;\r\n    double d2 = 1.235;\r\n    \r\n    DecimalFormat df = new DecimalFormat(&quot;#.##&quot;);\r\n    \r\n    String roundedD1 = df.format(d); // 3.14\r\n    String roundedD2 = df.format(d); // 1.24","title":"How to Java String.format with a variable precision?","body":"<p>Willi Mentzel solution updated for Java 17:</p>\n<pre><code>double d1 = 3.14159;\ndouble d2 = 1.235;\n\nDecimalFormat df = new DecimalFormat(&quot;#.##&quot;);\n\nString roundedD1 = df.format(d); // 3.14\nString roundedD2 = df.format(d); // 1.24\n</code></pre>\n"}],"owner":{"account_id":31686,"reputation":6454,"user_id":87207,"accept_rate":70,"display_name":"Willi Ballenthin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31865,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":2301066,"answer_count":5,"score":32,"last_activity_date":1689048528,"creation_date":1266639972,"question_id":2301047,"body_markdown":"I&#39;d like to allow the user to vary the precision of a `String` generated from a `double`. Right now, I&#39;m trying something like\r\n\r\n    String foo = String.format(&quot;%.*f\\n&quot;, precision, my_double);\r\n\r\nHowever, I receive a `java.util.UnknownFormatConversionException`. My inspiration for this approach was C *printf* and [this resource][1] (section 1.3.1). \r\n\r\nDo I have a simple syntax error somewhere, does Java support this case, or is there a better approach?\r\n\r\n**Edit:**\r\n\r\nI suppose I could do something like\r\n\r\n    String foo = String.format(&quot;%.&quot; + precision + &quot;f\\n&quot;, my_double);\r\n\r\nbut I&#39;d still be interested in native support for such an operation.\r\n\r\n  [1]: http://sharkysoft.com/archive/printf/docs/javadocs/lava/clib/stdio/doc-files/specification.htm","title":"How to Java String.format with a variable precision?","body":"<p>I'd like to allow the user to vary the precision of a <code>String</code> generated from a <code>double</code>. Right now, I'm trying something like</p>\n<pre><code>String foo = String.format(&quot;%.*f\\n&quot;, precision, my_double);\n</code></pre>\n<p>However, I receive a <code>java.util.UnknownFormatConversionException</code>. My inspiration for this approach was C <em>printf</em> and <a href=\"http://sharkysoft.com/archive/printf/docs/javadocs/lava/clib/stdio/doc-files/specification.htm\" rel=\"nofollow noreferrer\">this resource</a> (section 1.3.1).</p>\n<p>Do I have a simple syntax error somewhere, does Java support this case, or is there a better approach?</p>\n<p><strong>Edit:</strong></p>\n<p>I suppose I could do something like</p>\n<pre><code>String foo = String.format(&quot;%.&quot; + precision + &quot;f\\n&quot;, my_double);\n</code></pre>\n<p>but I'd still be interested in native support for such an operation.</p>\n"},{"tags":["java","android","android-studio","mapbox","mapbox-android"],"answers":[{"tags":[],"owner":{"account_id":27984489,"reputation":3,"user_id":21371640,"display_name":"Meziane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689048301,"creation_date":1688724788,"answer_id":76636020,"question_id":76070182,"body_markdown":"Maybe you can use `fillExtrusionLayer.bindTo(style)`. Furthermore the calls `mapView.onStart()`, `onStop()`, and so forth are not useful now because [version 10 of the Mapbox SDK now manages the `mapView` lifecycle](https://docs.mapbox.com/android/maps/guides/migrate-to-v10/#simplified-lifecycle-management).","title":"Adding a FillExtrusionLayer to a Mapbox Map in Android using Mapbox SDK v10.12.2","body":"<p>Maybe you can use <code>fillExtrusionLayer.bindTo(style)</code>. Furthermore the calls <code>mapView.onStart()</code>, <code>onStop()</code>, and so forth are not useful now because <a href=\"https://docs.mapbox.com/android/maps/guides/migrate-to-v10/#simplified-lifecycle-management\" rel=\"nofollow noreferrer\">version 10 of the Mapbox SDK now manages the <code>mapView</code> lifecycle</a>.</p>\n"}],"owner":{"account_id":11077786,"reputation":87,"user_id":8133934,"accept_rate":71,"display_name":"MSD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689048301,"creation_date":1682055303,"question_id":76070182,"body_markdown":"I am attempting to create a 3D Map in Android and having issues utilizing the correct style.addStyle(fillExtrusionLayer);. I have looked at the documentation to no avail. Any help would be appreciated. \r\n\r\nDocumentation: https://docs.mapbox.com/android/maps/examples/fill-extrusion/\r\n\r\nThe error I receive is: \r\n\r\n&gt; Cannot resolve method &#39;addStyle&#39; in &#39;Style&#39;\r\n\r\n\r\nMap.java:\r\n\r\n   \r\n\r\n     package edu.test.it.finalproject;\r\n        import androidx.appcompat.app.AppCompatActivity;\r\n        import android.graphics.Color;\r\n        import android.os.Bundle;  \r\n        import com.mapbox.geojson.Point;\r\n        import com.mapbox.maps.CameraOptions;\r\n        import com.mapbox.maps.LayerPosition;\r\n        import com.mapbox.maps.MapView;\r\n        import com.mapbox.maps.MapboxMap;\r\n        import com.mapbox.maps.Style;\r\n        import com.mapbox.maps.extension.style.expressions.generated.Expression;\r\n        import com.mapbox.maps.extension.style.layers.generated.FillExtrusionLayer;\r\n        import com.mapbox.maps.extension.style.layers.properties.generated.Visibility;\r\n        import com.mapbox.maps.extension.style.layers.Layer;\r\n        //import com.mapbox.maps.testapp.databinding.ActivityFillExtrusionBinding;\r\n         \r\n         \r\n        public class Map extends AppCompatActivity {\r\n         \r\n            private MapView mapView;\r\n            private MapboxMap mapboxMap;\r\n         \r\n            @Override\r\n            protected void onCreate(Bundle savedInstanceState) {\r\n                super.onCreate(savedInstanceState);\r\n                setContentView(R.layout.activity_building_3d);\r\n         \r\n                mapView = findViewById(R.id.mapView);\r\n                mapView.getMapboxMap().loadStyleUri(Style.MAPBOX_STREETS, style -&gt; {\r\n                    mapboxMap = mapView.getMapboxMap();\r\n                    add3DBuildings(style);\r\n         \r\n                    // Set initial camera position\r\n                    CameraOptions cameraOptions = new CameraOptions.Builder()\r\n                            .center(Point.fromLngLat(-77.860001, 40.793394))\r\n                            .zoom(15.0)\r\n                            .build();\r\n                    mapboxMap.setCamera(cameraOptions);\r\n                });\r\n            }\r\n         \r\n            private void add3DBuildings(Style style) {\r\n                FillExtrusionLayer fillExtrusionLayer = new FillExtrusionLayer(&quot;3d- \r\n       buildings&quot;, &quot;composite&quot;);\r\n         \r\n                fillExtrusionLayer.sourceLayer(&quot;building&quot;);\r\n                fillExtrusionLayer.filter(Expression.eq(Expression.get(&quot;extrude&quot;), \r\n        Expression.literal(&quot;true&quot;)));\r\n                fillExtrusionLayer.minZoom(15.0);\r\n                fillExtrusionLayer.visibility(Visibility.VISIBLE);\r\n                fillExtrusionLayer.fillExtrusionColor(Color.LTGRAY);\r\n                fillExtrusionLayer.fillExtrusionHeight(Expression.get(&quot;height&quot;));\r\n                fillExtrusionLayer.fillExtrusionBase(Expression.get(&quot;min_height&quot;));\r\n                fillExtrusionLayer.fillExtrusionOpacity(0.6f);\r\n                style.addStyle(fillExtrusionLayer);\r\n         \r\n            }\r\n         \r\n         \r\n            @Override\r\n            protected void onStart() {\r\n                super.onStart();\r\n                mapView.onStart();\r\n            }\r\n         \r\n            @Override\r\n            protected void onStop() {\r\n                super.onStop();\r\n                mapView.onStop();\r\n            }\r\n         \r\n            @Override\r\n            public void onLowMemory() {\r\n                super.onLowMemory();\r\n                mapView.onLowMemory();\r\n            }\r\n         \r\n            @Override\r\n            protected void onDestroy() {\r\n                super.onDestroy();\r\n                mapView.onDestroy();\r\n            }\r\n        }\r\n\r\n \r\n\r\n\r\n\r\n    activity_building_3D:\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n        &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/map_container&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.Map&quot;&gt;\r\n        &lt;!-- Other UI elements --&gt;\r\n     \r\n        &lt;com.mapbox.maps.MapView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n            xmlns:mapbox=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n            android:id=&quot;@+id/mapView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            mapbox:mapbox_cameraTargetLat=&quot;40.793072&quot;\r\n            mapbox:mapbox_cameraTargetLng=&quot;-77.865516&quot;\r\n            mapbox:mapbox_cameraZoom=&quot;9.0&quot;\r\n            mapbox:mapbox_resourcesAccessToken=&quot;//TOKEN GOES HERE&quot; /&gt;\r\n     \r\n        &lt;/RelativeLayout&gt;\r\n     \r\n\r\n\r\n\r\n","title":"Adding a FillExtrusionLayer to a Mapbox Map in Android using Mapbox SDK v10.12.2","body":"<p>I am attempting to create a 3D Map in Android and having issues utilizing the correct style.addStyle(fillExtrusionLayer);. I have looked at the documentation to no avail. Any help would be appreciated.</p>\n<p>Documentation: <a href=\"https://docs.mapbox.com/android/maps/examples/fill-extrusion/\" rel=\"nofollow noreferrer\">https://docs.mapbox.com/android/maps/examples/fill-extrusion/</a></p>\n<p>The error I receive is:</p>\n<blockquote>\n<p>Cannot resolve method 'addStyle' in 'Style'</p>\n</blockquote>\n<p>Map.java:</p>\n<pre><code> package edu.test.it.finalproject;\n    import androidx.appcompat.app.AppCompatActivity;\n    import android.graphics.Color;\n    import android.os.Bundle;  \n    import com.mapbox.geojson.Point;\n    import com.mapbox.maps.CameraOptions;\n    import com.mapbox.maps.LayerPosition;\n    import com.mapbox.maps.MapView;\n    import com.mapbox.maps.MapboxMap;\n    import com.mapbox.maps.Style;\n    import com.mapbox.maps.extension.style.expressions.generated.Expression;\n    import com.mapbox.maps.extension.style.layers.generated.FillExtrusionLayer;\n    import com.mapbox.maps.extension.style.layers.properties.generated.Visibility;\n    import com.mapbox.maps.extension.style.layers.Layer;\n    //import com.mapbox.maps.testapp.databinding.ActivityFillExtrusionBinding;\n     \n     \n    public class Map extends AppCompatActivity {\n     \n        private MapView mapView;\n        private MapboxMap mapboxMap;\n     \n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_building_3d);\n     \n            mapView = findViewById(R.id.mapView);\n            mapView.getMapboxMap().loadStyleUri(Style.MAPBOX_STREETS, style -&gt; {\n                mapboxMap = mapView.getMapboxMap();\n                add3DBuildings(style);\n     \n                // Set initial camera position\n                CameraOptions cameraOptions = new CameraOptions.Builder()\n                        .center(Point.fromLngLat(-77.860001, 40.793394))\n                        .zoom(15.0)\n                        .build();\n                mapboxMap.setCamera(cameraOptions);\n            });\n        }\n     \n        private void add3DBuildings(Style style) {\n            FillExtrusionLayer fillExtrusionLayer = new FillExtrusionLayer(&quot;3d- \n   buildings&quot;, &quot;composite&quot;);\n     \n            fillExtrusionLayer.sourceLayer(&quot;building&quot;);\n            fillExtrusionLayer.filter(Expression.eq(Expression.get(&quot;extrude&quot;), \n    Expression.literal(&quot;true&quot;)));\n            fillExtrusionLayer.minZoom(15.0);\n            fillExtrusionLayer.visibility(Visibility.VISIBLE);\n            fillExtrusionLayer.fillExtrusionColor(Color.LTGRAY);\n            fillExtrusionLayer.fillExtrusionHeight(Expression.get(&quot;height&quot;));\n            fillExtrusionLayer.fillExtrusionBase(Expression.get(&quot;min_height&quot;));\n            fillExtrusionLayer.fillExtrusionOpacity(0.6f);\n            style.addStyle(fillExtrusionLayer);\n     \n        }\n     \n     \n        @Override\n        protected void onStart() {\n            super.onStart();\n            mapView.onStart();\n        }\n     \n        @Override\n        protected void onStop() {\n            super.onStop();\n            mapView.onStop();\n        }\n     \n        @Override\n        public void onLowMemory() {\n            super.onLowMemory();\n            mapView.onLowMemory();\n        }\n     \n        @Override\n        protected void onDestroy() {\n            super.onDestroy();\n            mapView.onDestroy();\n        }\n    }\n\n\n\n\n\nactivity_building_3D:\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/map_container&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.Map&quot;&gt;\n    &lt;!-- Other UI elements --&gt;\n \n    &lt;com.mapbox.maps.MapView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n        xmlns:mapbox=&quot;http://schemas.android.com/apk/res-auto&quot;\n        android:id=&quot;@+id/mapView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        mapbox:mapbox_cameraTargetLat=&quot;40.793072&quot;\n        mapbox:mapbox_cameraTargetLng=&quot;-77.865516&quot;\n        mapbox:mapbox_cameraZoom=&quot;9.0&quot;\n        mapbox:mapbox_resourcesAccessToken=&quot;//TOKEN GOES HERE&quot; /&gt;\n \n    &lt;/RelativeLayout&gt;\n \n</code></pre>\n"},{"tags":["java","spring-boot","elasticsearch"],"owner":{"account_id":11847379,"reputation":977,"user_id":8669584,"accept_rate":0,"display_name":"Rohit Suthar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689047996,"creation_date":1688982951,"question_id":76652626,"body_markdown":"I have a java spring boot application that uses Elasticsearch to store articles. In micro-service, I listen for update and delete events of article, and based on that I am updating or deleting that article in the elastic search.\r\n\r\n**Issue:** However, I&#39;m facing an issue when both an update and a delete event are received for the same article. If the delete event is processed first, the article is correctly deleted from Elasticsearch. However, when the update event is subsequently processed, the article is recreated in Elasticsearch.\r\n\r\nHere is the brief code for my update logic\r\n```\r\nprivate final RestHighLevelClient client;\r\n\r\n// Creating index update request\r\nIndexRequest request = new IndexRequest(index, &quot;article&quot;, article.getId()).source(article);\r\nrequest.versionType(VersionType.EXTERNAL);\r\nrequest.version(article.getVersion());\r\n\r\n// Making ES index call\r\nIndexResponse response = client.index(request, RequestOptions.DEFAULT);\r\n```\r\nIn the above code, I am using external versioning and index request for my update event because I receive full entity details in the update event.\r\n\r\nHere is the brief code for my delete logic\r\n```\r\nprivate final RestHighLevelClient client;\r\n\r\n// Creating delete request\r\nDeleteRequest deleteRequest = new DeleteRequest(index, &quot;article&quot;, article.getId());\r\n\r\n// Making ES delete call\r\nDeleteResponse response = client.delete(deleteRequest, RequestOptions.DEFAULT);\r\n```\r\nOne possible solution is to modify my update logic to first check if the article exists.\r\nIf it does not exist, I can simply ignore the event. However, if the article is present, I can proceed with the update. But in this approach every time I am making two requests one for GET and then one for updating the article, which can be inefficient.\r\n\r\nI have also check for elastic search update API and implemented the below code\r\n```\r\nprivate final RestHighLevelClient client;\r\n\r\n// Creating update request\r\nUpdateRequest request = new UpdateRequest(index, &quot;article&quot;, article.getId()).doc(article);\r\nrequest.versionType(VersionType.EXTERNAL);\r\nrequest.version(entity.getVersion());\r\n\r\n// Making ES update call\r\nUpdateResponse response = client.update(request, RequestOptions.DEFAULT);\r\n```\r\n\r\nBut this is giving me error as external versioning is not supported by ES update API.\r\n\r\nCan anyone please share any solution to solve this issue.","title":"How to prevent inconsistency due to simultaneous update and delete events for an entity in Elasticsearch","body":"<p>I have a java spring boot application that uses Elasticsearch to store articles. In micro-service, I listen for update and delete events of article, and based on that I am updating or deleting that article in the elastic search.</p>\n<p><strong>Issue:</strong> However, I'm facing an issue when both an update and a delete event are received for the same article. If the delete event is processed first, the article is correctly deleted from Elasticsearch. However, when the update event is subsequently processed, the article is recreated in Elasticsearch.</p>\n<p>Here is the brief code for my update logic</p>\n<pre><code>private final RestHighLevelClient client;\n\n// Creating index update request\nIndexRequest request = new IndexRequest(index, &quot;article&quot;, article.getId()).source(article);\nrequest.versionType(VersionType.EXTERNAL);\nrequest.version(article.getVersion());\n\n// Making ES index call\nIndexResponse response = client.index(request, RequestOptions.DEFAULT);\n</code></pre>\n<p>In the above code, I am using external versioning and index request for my update event because I receive full entity details in the update event.</p>\n<p>Here is the brief code for my delete logic</p>\n<pre><code>private final RestHighLevelClient client;\n\n// Creating delete request\nDeleteRequest deleteRequest = new DeleteRequest(index, &quot;article&quot;, article.getId());\n\n// Making ES delete call\nDeleteResponse response = client.delete(deleteRequest, RequestOptions.DEFAULT);\n</code></pre>\n<p>One possible solution is to modify my update logic to first check if the article exists.\nIf it does not exist, I can simply ignore the event. However, if the article is present, I can proceed with the update. But in this approach every time I am making two requests one for GET and then one for updating the article, which can be inefficient.</p>\n<p>I have also check for elastic search update API and implemented the below code</p>\n<pre><code>private final RestHighLevelClient client;\n\n// Creating update request\nUpdateRequest request = new UpdateRequest(index, &quot;article&quot;, article.getId()).doc(article);\nrequest.versionType(VersionType.EXTERNAL);\nrequest.version(entity.getVersion());\n\n// Making ES update call\nUpdateResponse response = client.update(request, RequestOptions.DEFAULT);\n</code></pre>\n<p>But this is giving me error as external versioning is not supported by ES update API.</p>\n<p>Can anyone please share any solution to solve this issue.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1689038351,"post_id":76658167,"comment_id":135153521,"body_markdown":"1. Confirm that on Linux it will display an icon at all for a &quot;normal&quot; `JFrame`.  I&#39;m not sure how you&#39;re doing it, but the child frames seem to be using a customised look and feel and/or frame delegate; 2. I&#39;d look at [`JFrame#setIconImages`](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Window.html#setIconImages(java.util.List)) which allows you to supply a number of differently sized icons which might help ([for example](https://stackoverflow.com/questions/18224184/sizes-of-frame-icons-used-in-swing))","body":"1. Confirm that on Linux it will display an icon at all for a &quot;normal&quot; <code>JFrame</code>.  I&#39;m not sure how you&#39;re doing it, but the child frames seem to be using a customised look and feel and/or frame delegate; 2. I&#39;d look at <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Window.html#setIconImages(java.util.List)\" rel=\"nofollow noreferrer\"><code>JFrame#setIconImages</code></a> which allows you to supply a number of differently sized icons which might help (<a href=\"https://stackoverflow.com/questions/18224184/sizes-of-frame-icons-used-in-swing\">for example</a>)"},{"owner":{"account_id":28971666,"reputation":1,"user_id":22191818,"display_name":"Tompac"},"score":0,"creation_date":1689041817,"post_id":76658167,"comment_id":135153808,"body_markdown":"MadProgrammer, thanks for the comments.  I made another minimum example that got rid of the SFrame and ChildFrame classes entirely.  I created two JFrames and then added icons to both.  Under Linux the first JFrame does not get the icon but the second JFrame does.  Both JFrames look identical to what is shown for Linux in the graphic I posted earlier.","body":"MadProgrammer, thanks for the comments.  I made another minimum example that got rid of the SFrame and ChildFrame classes entirely.  I created two JFrames and then added icons to both.  Under Linux the first JFrame does not get the icon but the second JFrame does.  Both JFrames look identical to what is shown for Linux in the graphic I posted earlier."}],"answers":[{"tags":[],"owner":{"account_id":28971666,"reputation":1,"user_id":22191818,"display_name":"Tompac"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689046880,"creation_date":1689046392,"answer_id":76658554,"question_id":76658167,"body_markdown":"So, apparently instantiating the first JFrame (or SFrame) without assigning it to a variable does not work properly as far as assigning the icon.  I found that if I declared a JFrame/SFrame variable first, called setDefaultLookAndFeelDecorated(true) on that JFrame/SFrame variable before even instantiating the object, and then instantiated the JFrame/SFrame and assigned it to the variable that things work as desired (the first JFrame/SFrame does get the icon).  I can&#39;t say I understand why I need to do that, but I do get the behavior that I want.","title":"JFrame icon renders properly on Windows but not on particular Linux distribution","body":"<p>So, apparently instantiating the first JFrame (or SFrame) without assigning it to a variable does not work properly as far as assigning the icon.  I found that if I declared a JFrame/SFrame variable first, called setDefaultLookAndFeelDecorated(true) on that JFrame/SFrame variable before even instantiating the object, and then instantiated the JFrame/SFrame and assigned it to the variable that things work as desired (the first JFrame/SFrame does get the icon).  I can't say I understand why I need to do that, but I do get the behavior that I want.</p>\n"}],"owner":{"account_id":28971666,"reputation":1,"user_id":22191818,"display_name":"Tompac"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689046880,"creation_date":1689037783,"question_id":76658167,"body_markdown":"I could use some help regarding the setting of an icon on a JFrame.  I have a Java 8 application that is typically used in both Windows and Linux environments.  The application is composed of a number of &quot;SFrames&quot;, which are a custom class that extends a JFrame and includes the setting of a custom icon for the frame.  There is one main &quot;SFrame&quot; for the application, and then other &quot;SFrames&quot; are brought up as needed depending on the actions of the user.  All &quot;SFrames&quot; have the same icon displayed.  \r\n\r\nIn the past when running this application on both Windows and Linux the correct icon appeared on all &quot;SFrames&quot; (the main application &quot;SFrame&quot;, and then all subsequent frames that were brought up).  The execution environment for Linux was recently updated from an older version of Fedora (with the Mate desktop environment) to a recent version of Red Hat Enterprise Linux (also with the Mate desktop environment).  In this new Linux environment the icon was not appearing on any of the &quot;SFrames&quot;, either the main frame or any subsequent frames that appear.  \r\n\r\nI did see this Stackoverflow entry (https://stackoverflow.com/questions/13979754/jframe-icon-not-displaying-in-ubuntu-12-04), and setting setDefaultLookAndFeelDecorated to &quot;true&quot; in the &quot;SFrame&quot; constructor does cause the icon to appear on subsequent SFrames that are brought up under Linux, but not the first frame.  The first SFrame continues to have no icon on it, and appears very similar to the default appearance of other Mate windows.  Later experimentation showed that it is always the first SFrame that is left at the default appearance with no icon, regardless of whether subsequent SFrames are called from the first SFrame (i.e., subsequent SFrames are like &quot;children&quot; of the first SFrame, as shown in the example below), or whether multiple SFrames are called sequentially (i.e., subsequent SFrames are like &quot;younger siblings&quot; of the first SFrame).\r\n\r\nWith the minimum reproducible example given below, the attached graphic shows the results on Windows and Linux.  For Windows, both SFrames have an icon displayed, in this case the letter &quot;A&quot;.  These results are produced on Windows regardless of whether the call to setDefaultLookAndFeelDecorated is made or not.  For Linux, the first SFrame is displayed with no icon, the second SFrame with an icon.  If the call to setDefaultLookAndFeelDecorated is not made then neither SFrame has the icon on Linux.\r\n\r\nGraphic: [click here][1]\r\n\r\n```\r\nimport javax.swing.*;\r\n\r\nclass SFrame extends JFrame {\r\n\r\n     private static final ImageIcon image = new ImageIcon(&quot;icon.png&quot;);\r\n\r\n     public SFrame() {\r\n\r\n        setDefaultLookAndFeelDecorated(true);\r\n        \r\n        if (image != null)\r\n\t    {\r\n\t     setIconImage(image.getImage());\r\n        }\r\n\r\n     }\r\n}\r\n\r\n\r\nclass ChildFrame extends SFrame {\r\n   \r\n     public ChildFrame() {\r\n         \r\n        // Dimensions set so two windows do not overlap\r\n        setBounds(350, 100, 200, 400);\r\n        setTitle(&quot;CHILD&quot;);\r\n                \r\n    }\r\n}\r\n\r\npublic class MinimumExample extends SFrame {\r\n\r\n    private SFrame childFrame_;\r\n  \r\n    public MinimumExample() {\r\n        \r\n        // Dimensions set so two windows do not overlap\r\n        this.setBounds(100, 100, 200, 400);\r\n        this.setTitle(&quot;PARENT&quot;);\r\n\t    this.setVisible(true);\r\n      \r\n        childFrame_ = new ChildFrame();\r\n        childFrame_.setVisible(true);\r\n   }\r\n\r\n    public static void main(String args[]) {\r\n\r\n        new MinimumExample();\r\n    }\r\n\r\n}\r\n\r\n\r\n```\r\n\r\n\r\nCould somebody point me in the right direction for a fix?  Thanks\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dirvV.png","title":"JFrame icon renders properly on Windows but not on particular Linux distribution","body":"<p>I could use some help regarding the setting of an icon on a JFrame.  I have a Java 8 application that is typically used in both Windows and Linux environments.  The application is composed of a number of &quot;SFrames&quot;, which are a custom class that extends a JFrame and includes the setting of a custom icon for the frame.  There is one main &quot;SFrame&quot; for the application, and then other &quot;SFrames&quot; are brought up as needed depending on the actions of the user.  All &quot;SFrames&quot; have the same icon displayed.</p>\n<p>In the past when running this application on both Windows and Linux the correct icon appeared on all &quot;SFrames&quot; (the main application &quot;SFrame&quot;, and then all subsequent frames that were brought up).  The execution environment for Linux was recently updated from an older version of Fedora (with the Mate desktop environment) to a recent version of Red Hat Enterprise Linux (also with the Mate desktop environment).  In this new Linux environment the icon was not appearing on any of the &quot;SFrames&quot;, either the main frame or any subsequent frames that appear.</p>\n<p>I did see this Stackoverflow entry (<a href=\"https://stackoverflow.com/questions/13979754/jframe-icon-not-displaying-in-ubuntu-12-04\">JFrame icon not displaying in Ubuntu 12.04</a>), and setting setDefaultLookAndFeelDecorated to &quot;true&quot; in the &quot;SFrame&quot; constructor does cause the icon to appear on subsequent SFrames that are brought up under Linux, but not the first frame.  The first SFrame continues to have no icon on it, and appears very similar to the default appearance of other Mate windows.  Later experimentation showed that it is always the first SFrame that is left at the default appearance with no icon, regardless of whether subsequent SFrames are called from the first SFrame (i.e., subsequent SFrames are like &quot;children&quot; of the first SFrame, as shown in the example below), or whether multiple SFrames are called sequentially (i.e., subsequent SFrames are like &quot;younger siblings&quot; of the first SFrame).</p>\n<p>With the minimum reproducible example given below, the attached graphic shows the results on Windows and Linux.  For Windows, both SFrames have an icon displayed, in this case the letter &quot;A&quot;.  These results are produced on Windows regardless of whether the call to setDefaultLookAndFeelDecorated is made or not.  For Linux, the first SFrame is displayed with no icon, the second SFrame with an icon.  If the call to setDefaultLookAndFeelDecorated is not made then neither SFrame has the icon on Linux.</p>\n<p>Graphic: <a href=\"https://i.stack.imgur.com/dirvV.png\" rel=\"nofollow noreferrer\">click here</a></p>\n<pre><code>import javax.swing.*;\n\nclass SFrame extends JFrame {\n\n     private static final ImageIcon image = new ImageIcon(&quot;icon.png&quot;);\n\n     public SFrame() {\n\n        setDefaultLookAndFeelDecorated(true);\n        \n        if (image != null)\n        {\n         setIconImage(image.getImage());\n        }\n\n     }\n}\n\n\nclass ChildFrame extends SFrame {\n   \n     public ChildFrame() {\n         \n        // Dimensions set so two windows do not overlap\n        setBounds(350, 100, 200, 400);\n        setTitle(&quot;CHILD&quot;);\n                \n    }\n}\n\npublic class MinimumExample extends SFrame {\n\n    private SFrame childFrame_;\n  \n    public MinimumExample() {\n        \n        // Dimensions set so two windows do not overlap\n        this.setBounds(100, 100, 200, 400);\n        this.setTitle(&quot;PARENT&quot;);\n        this.setVisible(true);\n      \n        childFrame_ = new ChildFrame();\n        childFrame_.setVisible(true);\n   }\n\n    public static void main(String args[]) {\n\n        new MinimumExample();\n    }\n\n}\n\n\n</code></pre>\n<p>Could somebody point me in the right direction for a fix?  Thanks</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9676,"page":316,"page_size":100}
