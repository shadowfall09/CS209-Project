{"items":[{"tags":["java","vaadin","vaadin23","vaadin24"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1693290381,"post_id":76995175,"comment_id":135737306,"body_markdown":"How many items do you have in the list data?","body":"How many items do you have in the list data?"},{"owner":{"account_id":20011551,"reputation":1338,"user_id":14668475,"display_name":"Jean-Christophe Gueriaud"},"score":0,"creation_date":1693292740,"post_id":76995175,"comment_id":135737722,"body_markdown":"The addon can be slow if you have a lot of data since every row is rendered (900 is a lot to render). But the performance between Vaadin 23 and 24 should be about the same.\nCan you add more details for the implementation?  What is the difference of performance between Vaadin 23 and 24?\nAs a workaround you can use this addon (that supports lazy loading): https://vaadin.com/directory/component/twincolgrid-add-on","body":"The addon can be slow if you have a lot of data since every row is rendered (900 is a lot to render). But the performance between Vaadin 23 and 24 should be about the same. Can you add more details for the implementation?  What is the difference of performance between Vaadin 23 and 24? As a workaround you can use this addon (that supports lazy loading): <a href=\"https://vaadin.com/directory/component/twincolgrid-add-on\" rel=\"nofollow noreferrer\">vaadin.com/directory/component/twincolgrid-add-on</a>"},{"owner":{"account_id":29034116,"reputation":11,"user_id":22240411,"display_name":"shweta singh"},"score":0,"creation_date":1693295323,"post_id":76995175,"comment_id":135738164,"body_markdown":"As we have 900 Items in the List. But at the implementation side i don&#39;t changed anything for TwincolSelect .it just the latest jar with 3.0.0 is being used in vaadin 24 .For the code i have created a layout and added Twincolselect in that and setting the 900 items after fetching the data from the database .Querying the data is not taking time but doing setItems in the TwincolSelect is tedious task .i think TwincolSelect do not support lazy loading as per my knowledge","body":"As we have 900 Items in the List. But at the implementation side i don&#39;t changed anything for TwincolSelect .it just the latest jar with 3.0.0 is being used in vaadin 24 .For the code i have created a layout and added Twincolselect in that and setting the 900 items after fetching the data from the database .Querying the data is not taking time but doing setItems in the TwincolSelect is tedious task .i think TwincolSelect do not support lazy loading as per my knowledge"},{"owner":{"account_id":295383,"reputation":4686,"user_id":599765,"accept_rate":22,"display_name":"Andr&#233; Schild"},"score":0,"creation_date":1693296909,"post_id":76995175,"comment_id":135738494,"body_markdown":"Please add some numbers on the time difference between 23&amp;24. V23 takes xy seconds for rendering, v24 takes XX seconds for the same","body":"Please add some numbers on the time difference between 23&amp;24. V23 takes xy seconds for rendering, v24 takes XX seconds for the same"},{"owner":{"account_id":29034116,"reputation":11,"user_id":22240411,"display_name":"shweta singh"},"score":0,"creation_date":1693303751,"post_id":76995175,"comment_id":135739761,"body_markdown":"in Vaadin 23 it is taking 2-3 sec but in vaadin 24 it is taking around 20 sec to load the page with the same item list","body":"in Vaadin 23 it is taking 2-3 sec but in vaadin 24 it is taking around 20 sec to load the page with the same item list"},{"owner":{"account_id":20011551,"reputation":1338,"user_id":14668475,"display_name":"Jean-Christophe Gueriaud"},"score":1,"creation_date":1693304055,"post_id":76995175,"comment_id":135739811,"body_markdown":"I would probably create a ticket here: https://github.com/TatuLund/TwinColSelect/issues\nWith a sample code to reproduce the issue. It can be an issue in the addon or in the framework.","body":"I would probably create a ticket here: <a href=\"https://github.com/TatuLund/TwinColSelect/issues\" rel=\"nofollow noreferrer\">github.com/TatuLund/TwinColSelect/issues</a> With a sample code to reproduce the issue. It can be an issue in the addon or in the framework."},{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":1,"creation_date":1693315931,"post_id":76995175,"comment_id":135742306,"body_markdown":"Please do open the ticket in the issue tracker. It is the better place to follow-up. I did just brief testing of adding 1000 Checkboxes in VerticalLayout and it is faster than TwinColSelect in Vaadin 24. So there is something odd there, but it requires deeper inspection.","body":"Please do open the ticket in the issue tracker. It is the better place to follow-up. I did just brief testing of adding 1000 Checkboxes in VerticalLayout and it is faster than TwinColSelect in Vaadin 24. So there is something odd there, but it requires deeper inspection."},{"owner":{"account_id":29034116,"reputation":11,"user_id":22240411,"display_name":"shweta singh"},"score":2,"creation_date":1693375944,"post_id":76995175,"comment_id":135750622,"body_markdown":"Sure .This is the ticket link for the Reference https://github.com/TatuLund/TwinColSelect/issues/18","body":"Sure .This is the ticket link for the Reference <a href=\"https://github.com/TatuLund/TwinColSelect/issues/18\" rel=\"nofollow noreferrer\">github.com/TatuLund/TwinColSelect/issues/18</a>"}],"owner":{"account_id":29034116,"reputation":11,"user_id":22240411,"display_name":"shweta singh"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693294744,"creation_date":1693246608,"question_id":76995175,"body_markdown":"In vaadin 24 , i am facing one issue related to rendering of page is slow due to Twincolselect.setItems , where i have only 900 records to set . \r\nbut it was much faster in 23 version .\r\n\r\nI tried to set it with asynchronous call ,where page is getting rendered faster but after some time data come in the Twincolselect which is not right. Also checked for Lit Render but it specifically works for Grid and select components  .\r\nAlso, tried to go with Lazy loading where on scroll data get load but TwinccolSelect doesn&#39;t have this eventListerner and in few documents it is mentioned that Lazy loading is not supported with Twincolselect.\r\n\r\nThis is how my code looks like\r\n\r\n```\r\nTwinColSelect&lt;Data&gt; twinCol;\r\n\r\nList&lt;Data&gt; data = databaseService.findAll();\r\ndata.sort(Comparator.comparing(Data::getName));\r\nthis.layout.twinCol.setItems(data); //it is taking too much time to render on page .\r\n```\r\n","title":"TwinColselect.setItem is taking too much time","body":"<p>In vaadin 24 , i am facing one issue related to rendering of page is slow due to Twincolselect.setItems , where i have only 900 records to set .\nbut it was much faster in 23 version .</p>\n<p>I tried to set it with asynchronous call ,where page is getting rendered faster but after some time data come in the Twincolselect which is not right. Also checked for Lit Render but it specifically works for Grid and select components  .\nAlso, tried to go with Lazy loading where on scroll data get load but TwinccolSelect doesn't have this eventListerner and in few documents it is mentioned that Lazy loading is not supported with Twincolselect.</p>\n<p>This is how my code looks like</p>\n<pre><code>TwinColSelect&lt;Data&gt; twinCol;\n\nList&lt;Data&gt; data = databaseService.findAll();\ndata.sort(Comparator.comparing(Data::getName));\nthis.layout.twinCol.setItems(data); //it is taking too much time to render on page .\n</code></pre>\n"},{"tags":["java","mysql","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1680514487,"post_id":75917729,"comment_id":133905545,"body_markdown":"Just specify the property as `spring.jpa.properties.hibernate.id.db_structure_naming_strategy=legacy` as with other hibernate specific properties.","body":"Just specify the property as <code>spring.jpa.properties.hibernate.id.db_structure_naming_strat&zwnj;&#8203;egy=legacy</code> as with other hibernate specific properties."},{"owner":{"account_id":22841974,"reputation":113,"user_id":16988820,"display_name":"Jakkins"},"score":0,"creation_date":1680519145,"post_id":75917729,"comment_id":133906586,"body_markdown":"I&#39;ll retry, at first this didn&#39;t work","body":"I&#39;ll retry, at first this didn&#39;t work"},{"owner":{"account_id":7520011,"reputation":199,"user_id":5712251,"accept_rate":56,"display_name":"Arindam"},"score":1,"creation_date":1683268806,"post_id":75917729,"comment_id":134343678,"body_markdown":"```spring.jpa.properties.hibernate.id.db_structure_naming_strategy=legacy``` worked for me.","body":"<code>spring.jpa.properties.hibernate.id.db_structure_naming_strat&zwnj;&#8203;egy=legacy</code> worked for me."}],"answers":[{"tags":[],"owner":{"account_id":22841974,"reputation":113,"user_id":16988820,"display_name":"Jakkins"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693294549,"creation_date":1680527246,"answer_id":75919814,"question_id":75917729,"body_markdown":"Thanks to [M. Deinum][1] the problem is solved.\r\n\r\nNow my application.yml is:\r\n\r\n```yml\r\nspring.jpa.properties.hibernate.id.db_structure_naming_strategy: legacy\r\nspring.jpa.hibernate.naming:\r\n  implicit-strategy: org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl\r\n  physical-strategy: org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n\r\nspring:\r\n  profiles.active: dev\r\n  jpa.hibernate.use-new-id-generator-mappings: false\r\n  jpa.properties.jakarta.persistence.sharedCache.mode: ALL\r\n  hibernate.show_sql: true\r\n  flyway.out-of-order: false\r\n\r\n# other stuff\r\n```\r\n\r\n# update\r\n\r\nAs of today I have new informations:\r\n\r\n&gt; Hibernate changes its GeneratedType.AUTO strategy since 5.2\r\n\r\n## this is another solution\r\n\r\napplication.yml\r\n\r\n```yml\r\nspring:\r\n  profiles.active: dev\r\n  datasource:\r\n    url: jdbc:sqlite:/data.db\r\n    driver-class-name: org.sqlite.JDBC\r\n  jpa:\r\n    database-platform: org.hibernate.community.dialect.SQLiteDialect\r\n\r\n---\r\n\r\nspring:\r\n  config:\r\n    activate:\r\n      on-profile: dev\r\n  main:\r\n    banner-mode: off\r\n  # jpa.show-sql: true\r\n\r\nlogging.level:\r\n  root: INFO\r\n  level: DEBUG\r\n  org.springframework.web: DEBUG\r\n  org.hibernate.type: DEBUG\r\n  # org.hibernate.SQL: DEBUG\r\n\r\n```\r\n\r\nThe Entity:\r\n\r\n```kotlin\r\n@Entity\r\n@Table(name = &quot;files&quot;)\r\n@Data\r\nclass FileEntity() {\r\n\r\n    constructor(originalFilename: String, calculateHash: String) : this() {\r\n        this.filename = originalFilename\r\n        this.hash = calculateHash\r\n    }\r\n\r\n    @Id\r\n    @GenericGenerator(name = &quot;gen&quot;, strategy = &quot;increment&quot;)\r\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;gen&quot;)\r\n    @Column(name = &quot;id&quot;, unique = true, nullable = false)\r\n    private var id: Long? = null\r\n\r\n    @Column(nullable = false)\r\n    private var filename: String? = null\r\n\r\n    @Column(nullable = false, unique = true)\r\n    private var hash: String? = null\r\n}\r\n```\r\n\r\nsource : &lt;https://stackoverflow.com/a/11390603/16988820&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/2696260/m-deinum","title":"How to setup hibernate.id.db_structure_naming_strategy to legacy in springboot?","body":"<p>Thanks to <a href=\"https://stackoverflow.com/users/2696260/m-deinum\">M. Deinum</a> the problem is solved.</p>\n<p>Now my application.yml is:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring.jpa.properties.hibernate.id.db_structure_naming_strategy: legacy\nspring.jpa.hibernate.naming:\n  implicit-strategy: org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl\n  physical-strategy: org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n\nspring:\n  profiles.active: dev\n  jpa.hibernate.use-new-id-generator-mappings: false\n  jpa.properties.jakarta.persistence.sharedCache.mode: ALL\n  hibernate.show_sql: true\n  flyway.out-of-order: false\n\n# other stuff\n</code></pre>\n<h1>update</h1>\n<p>As of today I have new informations:</p>\n<blockquote>\n<p>Hibernate changes its GeneratedType.AUTO strategy since 5.2</p>\n</blockquote>\n<h2>this is another solution</h2>\n<p>application.yml</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  profiles.active: dev\n  datasource:\n    url: jdbc:sqlite:/data.db\n    driver-class-name: org.sqlite.JDBC\n  jpa:\n    database-platform: org.hibernate.community.dialect.SQLiteDialect\n\n---\n\nspring:\n  config:\n    activate:\n      on-profile: dev\n  main:\n    banner-mode: off\n  # jpa.show-sql: true\n\nlogging.level:\n  root: INFO\n  level: DEBUG\n  org.springframework.web: DEBUG\n  org.hibernate.type: DEBUG\n  # org.hibernate.SQL: DEBUG\n\n</code></pre>\n<p>The Entity:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Entity\n@Table(name = &quot;files&quot;)\n@Data\nclass FileEntity() {\n\n    constructor(originalFilename: String, calculateHash: String) : this() {\n        this.filename = originalFilename\n        this.hash = calculateHash\n    }\n\n    @Id\n    @GenericGenerator(name = &quot;gen&quot;, strategy = &quot;increment&quot;)\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;gen&quot;)\n    @Column(name = &quot;id&quot;, unique = true, nullable = false)\n    private var id: Long? = null\n\n    @Column(nullable = false)\n    private var filename: String? = null\n\n    @Column(nullable = false, unique = true)\n    private var hash: String? = null\n}\n</code></pre>\n<p>source : <a href=\"https://stackoverflow.com/a/11390603/16988820\">https://stackoverflow.com/a/11390603/16988820</a></p>\n"}],"owner":{"account_id":22841974,"reputation":113,"user_id":16988820,"display_name":"Jakkins"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2106,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1693294549,"creation_date":1680512667,"question_id":75917729,"body_markdown":"Due to dependencies upgrade:\r\n\r\n- spring-boot-starter-parent:2.7.1 -&gt; 3.0.0\r\n- mysql:mysql-connector-java -&gt; com.mysql:mysql-connector-j\r\n\r\nI started to use `hibernate-core-6.1.5` with his new strategy to give names to tables.\r\nSo now tests are broken because when I want to save data to some some table a &quot;_SEQ&quot; is added to the table&#39;s name and the test won&#39;t find the table.\r\n\r\nInvestigating I finded some source:\r\n- https://thorben-janssen.com/things-to-know-when-migrating-to-hibernate-6-x/#3_New_naming_strategy_for_default_sequences\r\n- https://www.baeldung.com/hibernate-entitymanager\r\n- https://stackoverflow.com/questions/34202967/xmlns-xmlnsxsi-xsischemalocation-and-targetnamespace\r\n- https://github.com/spring-projects/spring-data-jpa/issues/2717\r\n- https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-6.x\r\n\r\nTo bypass the problem I&#39;m specifying the strategy inside every entity:\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;animal&quot;)\r\npublic class Animal {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)  // this will overwrite SEQUENCE\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n```\r\n\r\nCould this be done in the application.yml?","title":"How to setup hibernate.id.db_structure_naming_strategy to legacy in springboot?","body":"<p>Due to dependencies upgrade:</p>\n<ul>\n<li>spring-boot-starter-parent:2.7.1 -&gt; 3.0.0</li>\n<li>mysql:mysql-connector-java -&gt; com.mysql:mysql-connector-j</li>\n</ul>\n<p>I started to use <code>hibernate-core-6.1.5</code> with his new strategy to give names to tables.\nSo now tests are broken because when I want to save data to some some table a &quot;_SEQ&quot; is added to the table's name and the test won't find the table.</p>\n<p>Investigating I finded some source:</p>\n<ul>\n<li><a href=\"https://thorben-janssen.com/things-to-know-when-migrating-to-hibernate-6-x/#3_New_naming_strategy_for_default_sequences\" rel=\"nofollow noreferrer\">https://thorben-janssen.com/things-to-know-when-migrating-to-hibernate-6-x/#3_New_naming_strategy_for_default_sequences</a></li>\n<li><a href=\"https://www.baeldung.com/hibernate-entitymanager\" rel=\"nofollow noreferrer\">https://www.baeldung.com/hibernate-entitymanager</a></li>\n<li><a href=\"https://stackoverflow.com/questions/34202967/xmlns-xmlnsxsi-xsischemalocation-and-targetnamespace\">xmlns, xmlns:xsi, xsi:schemaLocation, and targetNamespace?</a></li>\n<li><a href=\"https://github.com/spring-projects/spring-data-jpa/issues/2717\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-jpa/issues/2717</a></li>\n<li><a href=\"https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-6.x\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-6.x</a></li>\n</ul>\n<p>To bypass the problem I'm specifying the strategy inside every entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;animal&quot;)\npublic class Animal {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)  // this will overwrite SEQUENCE\n    @Column(name = &quot;id&quot;)\n    private Long id;\n</code></pre>\n<p>Could this be done in the application.yml?</p>\n"},{"tags":["java","spring","integration","outbound"],"answers":[{"tags":[],"owner":{"account_id":10716054,"reputation":1924,"user_id":7886653,"display_name":"AmphotericLewisAcid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692493219,"creation_date":1692477540,"answer_id":76936944,"question_id":76919650,"body_markdown":"It&#39;s the regex that&#39;s the problem. Yours is only going to ever reject 4-character long strings starting with any character and ending with &quot;DOC&quot; (case-sensitive). For example, filenames `aDOC`, `5DOC`, `.DOC` etc are the only ones that will be rejected.\r\n\r\nThis will do what you want:\r\n```regex\r\n^.*(?&lt;!(\\.doc|\\.DOC))$\r\n```\r\n\r\nLet&#39;s walk through what that does:\r\n1. `.*` matches any sequence of characters of any length.\r\n2. `(\\.doc|\\.DOC)` will look for `.doc` or `.DOC` at the end of a filename. Note the `\\.`, which means a literal `.` character. By default `.` means &quot;any character&quot; in regex, so it has to get escaped with a backslash.\r\n3. Putting the `(?&lt;! ... )` right before the `$` is a negative lookbehind at the end of the line, so it only rejects files that have that extension.","title":"I cant exclude files from downloading list while configuring FtpOutboundGateway","body":"<p>It's the regex that's the problem. Yours is only going to ever reject 4-character long strings starting with any character and ending with &quot;DOC&quot; (case-sensitive). For example, filenames <code>aDOC</code>, <code>5DOC</code>, <code>.DOC</code> etc are the only ones that will be rejected.</p>\n<p>This will do what you want:</p>\n<pre><code>^.*(?&lt;!(\\.doc|\\.DOC))$\n</code></pre>\n<p>Let's walk through what that does:</p>\n<ol>\n<li><code>.*</code> matches any sequence of characters of any length.</li>\n<li><code>(\\.doc|\\.DOC)</code> will look for <code>.doc</code> or <code>.DOC</code> at the end of a filename. Note the <code>\\.</code>, which means a literal <code>.</code> character. By default <code>.</code> means &quot;any character&quot; in regex, so it has to get escaped with a backslash.</li>\n<li>Putting the <code>(?&lt;! ... )</code> right before the <code>$</code> is a negative lookbehind at the end of the line, so it only rejects files that have that extension.</li>\n</ol>\n"}],"owner":{"account_id":15190633,"reputation":11,"user_id":10961427,"display_name":"asker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693294217,"creation_date":1692260396,"question_id":76919650,"body_markdown":"I am trying to filter downloaded files from FTP. I want to exclude from downloading list files with an extenssion &quot;.doc&quot;, for instance. But my regex &quot;^(?!.DOC$)&quot; doesnt work. Can you help me with this trouble?\r\n\r\n    @Bean\r\n    @ServiceActivator(inputChannel = &quot;fetch&quot;)\r\n    public FtpOutboundGateway gateway() {\r\n        FtpOutboundGateway gateway = new FtpOutboundGateway(sessionFactory(), &quot;mget&quot;, &quot;payload&quot;);\r\n        gateway.setOptions(&quot;-R&quot;);\r\n        gateway.setLocalDirectory(new File(&quot;/local/dir&quot;));\r\n        gateway.setFilter(new FtpSimplePatternFileListFilter(&quot;^(?!.DOC$)&quot;));\r\n        gateway.setRemoteDirectoryExpression(new LiteralExpression(&quot;/remote/dir&quot;));\r\n        return gateway;\r\n    }","title":"I cant exclude files from downloading list while configuring FtpOutboundGateway","body":"<p>I am trying to filter downloaded files from FTP. I want to exclude from downloading list files with an extenssion &quot;.doc&quot;, for instance. But my regex &quot;^(?!.DOC$)&quot; doesnt work. Can you help me with this trouble?</p>\n<pre><code>@Bean\n@ServiceActivator(inputChannel = &quot;fetch&quot;)\npublic FtpOutboundGateway gateway() {\n    FtpOutboundGateway gateway = new FtpOutboundGateway(sessionFactory(), &quot;mget&quot;, &quot;payload&quot;);\n    gateway.setOptions(&quot;-R&quot;);\n    gateway.setLocalDirectory(new File(&quot;/local/dir&quot;));\n    gateway.setFilter(new FtpSimplePatternFileListFilter(&quot;^(?!.DOC$)&quot;));\n    gateway.setRemoteDirectoryExpression(new LiteralExpression(&quot;/remote/dir&quot;));\n    return gateway;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","yaml","protocol-buffers"],"comments":[{"owner":{"account_id":141151,"reputation":36461,"user_id":347964,"accept_rate":79,"display_name":"flyx"},"score":0,"creation_date":1693313769,"post_id":76995787,"comment_id":135741784,"body_markdown":"Well `com.google.protobuf.ProtocolStringList` is an interface and Jackson doesn&#39;t know how to construct an object satisfying that interface. Try `mapper.registerSubtypes(com.google.protobuf.LazyStringArrayList.class);`, not sure if that&#39;s enough to fix it.","body":"Well <code>com.google.protobuf.ProtocolStringList</code> is an interface and Jackson doesn&#39;t know how to construct an object satisfying that interface. Try <code>mapper.registerSubtypes(com.google.protobuf.LazyStringArrayL&zwnj;&#8203;ist.class);</code>, not sure if that&#39;s enough to fix it."},{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1699634144,"post_id":76995787,"comment_id":136560798,"body_markdown":"what is &quot;message&quot; AbilityDto ?","body":"what is &quot;message&quot; AbilityDto ?"}],"owner":{"account_id":29307589,"reputation":21,"user_id":22454223,"display_name":"Liron Tal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693293729,"creation_date":1693253928,"question_id":76995787,"body_markdown":"I&#39;m trying to convert the following yaml to class:\r\n\r\n```\r\nability:\r\n  name: my-ability-name!\r\n  types:\r\n    - source1\r\n    - source2\r\n  description: Description\r\n  tags:\r\n    - tag1\r\n    - tag2\r\nisActive: true\r\n\r\n```\r\n\r\nusing the following code from SnakeYaml and [Jackson-dataformats-text](https://github.com/FasterXML/jackson-dataformats-text) (yaml)\r\n\r\n```\r\nObjectMapper mapper = new YAMLMapper();\r\nMyClass xMyClass = mapper.readValue(yamlString, MyClass.class);\r\n\r\n```\r\nMy class looks like this:\r\n\r\n```\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\n\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\npublic class MyClass {\r\n    private Abilities.AbilityDto ability;\r\n    private boolean isActive;\r\n}\r\n```\r\n\r\n\r\nMy protobuf looks like this:\r\n\r\n```\r\nmessage AbilityDto {\r\n  string id = 1;\r\n  string name = 2;\r\n  repeated string types = 3;\r\n  optional string description = 4;\r\n  repeated string tags = 5;\r\n}\r\n\r\n```\r\n\r\nI&#39;m getting the following error:\r\n\r\n```\r\nCannot find a deserializer for non-concrete Collection type [collection type; class com.google.protobuf.ProtocolStringList, contains [simple type, class java.lang.String]]\r\n at [Source: (StringReader); line: 1, column: 1]\r\n```\r\n\r\n\r\n\r\n\r\nI&#39;ve tried the make the yaml as minimal as possible and removed many fields to check where the problem is, couldn&#39;t solve it.\r\n\r\nAlso tried formatting to a class using a different way:\r\n\r\n```\r\n  Yaml yaml = new Yaml();\r\nMyClass xMyClass = yaml.loadAs(yamlString, MyClass.class);\r\n```\r\n\r\nGetting error:\r\n\r\n```\r\nCannot create property=rule for JavaBean=io.avalor.....MyClass@24f47796\r\n in &#39;string&#39;, line 1, column 1:\r\n    ability:\r\n    ^\r\nCannot create property=name for JavaBean=\r\n in &#39;string&#39;, line 2, column 3:\r\n      name: &quot;my-ability-name!&quot;\r\n      ^\r\nNo writable property &#39;name&#39; on class: io.avalor.protocol...AbilityDto\r\n in &#39;string&#39;, line 2, column 9:\r\n      name: &quot;my-ability-name!&quot;\r\n            ^\r\n\r\n in &#39;string&#39;, line 2, column 3:\r\n      name: &quot;my-ability-name!&quot;\r\n```","title":"Java SnakeYAML error when converting yaml to class instance","body":"<p>I'm trying to convert the following yaml to class:</p>\n<pre><code>ability:\n  name: my-ability-name!\n  types:\n    - source1\n    - source2\n  description: Description\n  tags:\n    - tag1\n    - tag2\nisActive: true\n\n</code></pre>\n<p>using the following code from SnakeYaml and <a href=\"https://github.com/FasterXML/jackson-dataformats-text\" rel=\"nofollow noreferrer\">Jackson-dataformats-text</a> (yaml)</p>\n<pre><code>ObjectMapper mapper = new YAMLMapper();\nMyClass xMyClass = mapper.readValue(yamlString, MyClass.class);\n\n</code></pre>\n<p>My class looks like this:</p>\n<pre><code>import lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\n@Getter\n@Setter\n@NoArgsConstructor\npublic class MyClass {\n    private Abilities.AbilityDto ability;\n    private boolean isActive;\n}\n</code></pre>\n<p>My protobuf looks like this:</p>\n<pre><code>message AbilityDto {\n  string id = 1;\n  string name = 2;\n  repeated string types = 3;\n  optional string description = 4;\n  repeated string tags = 5;\n}\n\n</code></pre>\n<p>I'm getting the following error:</p>\n<pre><code>Cannot find a deserializer for non-concrete Collection type [collection type; class com.google.protobuf.ProtocolStringList, contains [simple type, class java.lang.String]]\n at [Source: (StringReader); line: 1, column: 1]\n</code></pre>\n<p>I've tried the make the yaml as minimal as possible and removed many fields to check where the problem is, couldn't solve it.</p>\n<p>Also tried formatting to a class using a different way:</p>\n<pre><code>  Yaml yaml = new Yaml();\nMyClass xMyClass = yaml.loadAs(yamlString, MyClass.class);\n</code></pre>\n<p>Getting error:</p>\n<pre><code>Cannot create property=rule for JavaBean=io.avalor.....MyClass@24f47796\n in 'string', line 1, column 1:\n    ability:\n    ^\nCannot create property=name for JavaBean=\n in 'string', line 2, column 3:\n      name: &quot;my-ability-name!&quot;\n      ^\nNo writable property 'name' on class: io.avalor.protocol...AbilityDto\n in 'string', line 2, column 9:\n      name: &quot;my-ability-name!&quot;\n            ^\n\n in 'string', line 2, column 3:\n      name: &quot;my-ability-name!&quot;\n</code></pre>\n"},{"tags":["java","spring","logging","spring-boot"],"comments":[{"owner":{"account_id":10147549,"reputation":6813,"user_id":7495230,"accept_rate":57,"display_name":"Afridi"},"score":0,"creation_date":1494513388,"post_id":43918414,"comment_id":74870175,"body_markdown":"Check this: http://stackoverflow.com/questions/31935151/prevent-spring-boot-from-printing-logs-to-console","body":"Check this: <a href=\"http://stackoverflow.com/questions/31935151/prevent-spring-boot-from-printing-logs-to-console\" title=\"prevent spring boot from printing logs to console\">stackoverflow.com/questions/31935151/&hellip;</a>"},{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1494513446,"post_id":43918414,"comment_id":74870226,"body_markdown":"you can create a logback.xml file with your appenders. There is no such option to do just from properties file.","body":"you can create a logback.xml file with your appenders. There is no such option to do just from properties file."},{"owner":{"account_id":7397520,"reputation":3703,"user_id":5628922,"accept_rate":100,"display_name":"mhasan"},"score":0,"creation_date":1494513514,"post_id":43918414,"comment_id":74870284,"body_markdown":"Did you went through this post, looks similar http://stackoverflow.com/questions/31935151/prevent-spring-boot-from-printing-logs-to-console","body":"Did you went through this post, looks similar <a href=\"http://stackoverflow.com/questions/31935151/prevent-spring-boot-from-printing-logs-to-console\" title=\"prevent spring boot from printing logs to console\">stackoverflow.com/questions/31935151/&hellip;</a>"},{"owner":{"account_id":7435601,"reputation":801,"user_id":7496602,"display_name":"lbndev"},"score":0,"creation_date":1494513519,"post_id":43918414,"comment_id":74870286,"body_markdown":"Possible duplicate of [Prevent Spring Boot from printing logs to console](http://stackoverflow.com/questions/31935151/prevent-spring-boot-from-printing-logs-to-console)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/31935151/prevent-spring-boot-from-printing-logs-to-console\">Prevent Spring Boot from printing logs to console</a>"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1494513638,"post_id":43918414,"comment_id":74870402,"body_markdown":"I&#39;m looking for a solution where I&#39;m could just like add a property in `application.properties`, and not having to create an explicit logback.xml","body":"I&#39;m looking for a solution where I&#39;m could just like add a property in <code>application.properties</code>, and not having to create an explicit logback.xml"},{"owner":{"account_id":4514344,"reputation":31626,"user_id":3669624,"accept_rate":100,"display_name":"cнŝdk"},"score":0,"creation_date":1494514741,"post_id":43918414,"comment_id":74871360,"body_markdown":"Are you using `log4j`? If yes, just configure your `log4j.properties`.","body":"Are you using <code>log4j</code>? If yes, just configure your <code>log4j.properties</code>."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1494515183,"post_id":43918414,"comment_id":74871731,"body_markdown":"As written, I just rely on the default `spring-boot` configuration. I think it uses logback by default.","body":"As written, I just rely on the default <code>spring-boot</code> configuration. I think it uses logback by default."}],"answers":[{"tags":[],"owner":{"account_id":4431757,"reputation":178,"user_id":3608764,"display_name":"dtenreiro"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1494520873,"creation_date":1494520873,"answer_id":43921255,"question_id":43918414,"body_markdown":"All the supported logging systems can have the logger levels set in the Spring Environment using ‘logging.level.*=LEVEL’ where ‘LEVEL’ is one of TRACE, DEBUG, INFO, WARN, ERROR, FATAL, OFF. The root logger can be configured using `logging.level.root`. Example application.properties:\r\n\r\n    logging.level.root=WARN\r\n    logging.level.org.springframework.web=DEBUG\r\n    logging.level.org.hibernate=ERROR\r\n\r\nCheck this information: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-logging.html\r\n\r\nYou could also overwrite the `logback` configuration and provide the value `OFF` to it.\r\n\r\n    &lt;configuration&gt;\r\n      &lt;!-- turn OFF all logging (children can override) --&gt;\r\n      &lt;root level=&quot;OFF&quot;&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n      &lt;/root&gt;\r\n    &lt;/configuration&gt;\r\n\r\nYou can find more information at the following link: https://logback.qos.ch/manual/configuration.html#rootElement\r\n\r\n","title":"How to disable console logging in spring-boot?","body":"<p>All the supported logging systems can have the logger levels set in the Spring Environment using ‘logging.level.*=LEVEL’ where ‘LEVEL’ is one of TRACE, DEBUG, INFO, WARN, ERROR, FATAL, OFF. The root logger can be configured using <code>logging.level.root</code>. Example application.properties:</p>\n\n<pre><code>logging.level.root=WARN\nlogging.level.org.springframework.web=DEBUG\nlogging.level.org.hibernate=ERROR\n</code></pre>\n\n<p>Check this information: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-logging.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-logging.html</a></p>\n\n<p>You could also overwrite the <code>logback</code> configuration and provide the value <code>OFF</code> to it.</p>\n\n<pre><code>&lt;configuration&gt;\n  &lt;!-- turn OFF all logging (children can override) --&gt;\n  &lt;root level=\"OFF\"&gt;\n    &lt;appender-ref ref=\"STDOUT\" /&gt;\n  &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>You can find more information at the following link: <a href=\"https://logback.qos.ch/manual/configuration.html#rootElement\" rel=\"nofollow noreferrer\">https://logback.qos.ch/manual/configuration.html#rootElement</a></p>\n"},{"tags":[],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1528856516,"creation_date":1494576180,"answer_id":43932518,"question_id":43918414,"body_markdown":"It turned out if I set the following property empty, the console logging is disabled:\r\n\r\n`logging.pattern.console=`\r\n\r\nOr commenting in xml if you use it\r\n\r\n      &lt;!--&lt;root level=&quot;error&quot;&gt;--&gt;\r\n            &lt;!--&lt;appender-ref ref=&quot;console&quot;/&gt;--&gt;\r\n        &lt;!--&lt;/root&gt;--&gt;","title":"How to disable console logging in spring-boot?","body":"<p>It turned out if I set the following property empty, the console logging is disabled:</p>\n\n<p><code>logging.pattern.console=</code></p>\n\n<p>Or commenting in xml if you use it</p>\n\n<pre><code>  &lt;!--&lt;root level=\"error\"&gt;--&gt;\n        &lt;!--&lt;appender-ref ref=\"console\"/&gt;--&gt;\n    &lt;!--&lt;/root&gt;--&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2306622,"reputation":527,"user_id":2025769,"display_name":"Jackson Cassimiro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1512487049,"creation_date":1512487049,"answer_id":47656982,"question_id":43918414,"body_markdown":"I created a file called logback.xml with the content:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration&gt;\r\n        &lt;include resource=&quot;org/springframework/boot/logging/logback/base.xml&quot; /&gt;\r\n        &lt;logger name=&quot;org.springframework&quot; level=&quot;ERROR&quot;/&gt;\r\n        &lt;logger name=&quot;org.hibernate&quot; level=&quot;ERROR&quot;/&gt;\r\n    &lt;/configuration&gt;\r\n\r\nSee this link for more information: https://www.mkyong.com/spring-boot/spring-boot-test-how-to-stop-debug-logs/","title":"How to disable console logging in spring-boot?","body":"<p>I created a file called logback.xml with the content:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;configuration&gt;\n    &lt;include resource=\"org/springframework/boot/logging/logback/base.xml\" /&gt;\n    &lt;logger name=\"org.springframework\" level=\"ERROR\"/&gt;\n    &lt;logger name=\"org.hibernate\" level=\"ERROR\"/&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>See this link for more information: <a href=\"https://www.mkyong.com/spring-boot/spring-boot-test-how-to-stop-debug-logs/\" rel=\"nofollow noreferrer\">https://www.mkyong.com/spring-boot/spring-boot-test-how-to-stop-debug-logs/</a></p>\n"},{"tags":[],"owner":{"account_id":7326114,"reputation":39,"user_id":5580461,"display_name":"Ranjan Singh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1595316060,"creation_date":1595316060,"answer_id":63009395,"question_id":43918414,"body_markdown":" 1. Create a file logback-spring.xml in /resources/ folder of your application.\r\n 2. Copy the below content in logback-spring.xml\r\n \r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;?xml version = &quot;1.0&quot; encoding = &quot;UTF-8&quot;?&gt;\r\n    &lt;configuration&gt;\r\n        &lt;appender name = &quot;STDOUT&quot; class = &quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;%m%n&lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n        &lt;root level = &quot;INFO&quot;&gt;\r\n            &lt;appender-ref ref = &quot;STDOUT&quot;/&gt;\r\n        &lt;/root&gt;\r\n    &lt;/configuration&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to disable console logging in spring-boot?","body":"<ol>\n<li>Create a file logback-spring.xml in /resources/ folder of your application.</li>\n<li>Copy the below content in logback-spring.xml</li>\n</ol>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;?xml version = &quot;1.0&quot; encoding = &quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n    &lt;appender name = &quot;STDOUT&quot; class = &quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%m%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n    &lt;root level = &quot;INFO&quot;&gt;\n        &lt;appender-ref ref = &quot;STDOUT&quot;/&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39073,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":43932518,"answer_count":4,"score":19,"last_activity_date":1693293386,"creation_date":1494513125,"question_id":43918414,"body_markdown":"I&#39;m using the default logging configuration of *spring-boot*.\r\n\r\nHow can I prevent the console output, while keeping the logging into a logfile configured with `logging.file=myfile.log`?\r\n\r\nMy goal is to not having console windows output, but only logging to that file.\r\n\r\nWithout having to create a specific `logback.xml` configuration. Because I&#39;m using `spring-boot` for not having to configure the logging myself.\r\n\r\n","title":"How to disable console logging in spring-boot?","body":"<p>I'm using the default logging configuration of <em>spring-boot</em>.</p>\n\n<p>How can I prevent the console output, while keeping the logging into a logfile configured with <code>logging.file=myfile.log</code>?</p>\n\n<p>My goal is to not having console windows output, but only logging to that file.</p>\n\n<p>Without having to create a specific <code>logback.xml</code> configuration. Because I'm using <code>spring-boot</code> for not having to configure the logging myself.</p>\n"},{"tags":["java","rest","http","netflix-feign","feign"],"answers":[{"tags":[],"owner":{"account_id":5272769,"reputation":77,"user_id":4210555,"display_name":"Lars-Erik"},"down_vote_count":2,"up_vote_count":5,"is_accepted":true,"score":3,"last_activity_date":1496234467,"creation_date":1496234467,"answer_id":44285126,"question_id":44280300,"body_markdown":"You should use the `@SerializedName(&quot;user_name&quot;)` annotation provided by gson instead.","title":"How to set a JsonProperty name for a feign bean field","body":"<p>You should use the <code>@SerializedName(\"user_name\")</code> annotation provided by gson instead.</p>\n"},{"tags":[],"owner":{"account_id":23334723,"reputation":1,"user_id":17410589,"display_name":"sudoit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693293067,"creation_date":1693293067,"answer_id":76998076,"question_id":44280300,"body_markdown":"If you are using same DTO for feign and controller you should use both `@FormProperty` and `@JsonProperty`\r\n\r\nExample:\r\n\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import feign.form.FormProperty;\r\n    import lombok.Data;\r\n    \r\n    @Data\r\n    public class AccessTokenDto implements Serializable {\r\n    @JsonProperty(&quot;access_token&quot;)\r\n    @FormProperty(&quot;access_token&quot;)\r\n    private String accessToken;\r\n    ...\r\n    }\r\n\r\n","title":"How to set a JsonProperty name for a feign bean field","body":"<p>If you are using same DTO for feign and controller you should use both <code>@FormProperty</code> and <code>@JsonProperty</code></p>\n<p>Example:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonProperty;\nimport feign.form.FormProperty;\nimport lombok.Data;\n\n@Data\npublic class AccessTokenDto implements Serializable {\n@JsonProperty(&quot;access_token&quot;)\n@FormProperty(&quot;access_token&quot;)\nprivate String accessToken;\n...\n}\n</code></pre>\n"}],"owner":{"account_id":425139,"reputation":12301,"user_id":805563,"accept_rate":87,"display_name":"Bee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3343,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":44285126,"answer_count":2,"score":2,"last_activity_date":1693293067,"creation_date":1496221452,"question_id":44280300,"body_markdown":"I need to create a bean for this json object.\r\n\r\n    { &quot;user_name&quot; : &quot;my-name&quot; }\r\n\r\nMy java class is like this. \r\n\r\n    public class User {\r\n        String username;\r\n    }\r\n\r\nIs there any annotation to map `username` to `user_name` without changing the field name to `user_name`? Something like `@JsonProperty(name=&quot;user_name&quot;)`?\r\n\r\n","title":"How to set a JsonProperty name for a feign bean field","body":"<p>I need to create a bean for this json object.</p>\n\n<pre><code>{ \"user_name\" : \"my-name\" }\n</code></pre>\n\n<p>My java class is like this. </p>\n\n<pre><code>public class User {\n    String username;\n}\n</code></pre>\n\n<p>Is there any annotation to map <code>username</code> to <code>user_name</code> without changing the field name to <code>user_name</code>? Something like <code>@JsonProperty(name=\"user_name\")</code>?</p>\n"},{"tags":["java","sorting","arraylist","comparator"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1693242044,"post_id":76994136,"comment_id":135731672,"body_markdown":"Note that, for sufficiently large values, this implementation is vulnerable to integer overflow/underflow, leading to incorrect comparisons. It&#39;s better to just use `Comparator.naturalOrder()` or `Integer::compare`. That said, [Shila&#39;s answer](https://stackoverflow.com/a/76994393/6395627) gives an excellent explanation regarding how this _comparator&#39;s_ implementation works (though the _sorting algorithm_ used by the `sort` implementation may be different; regardless, the comparator is algorithm-agnostic).","body":"Note that, for sufficiently large values, this implementation is vulnerable to integer overflow/underflow, leading to incorrect comparisons. It&#39;s better to just use <code>Comparator.naturalOrder()</code> or <code>Integer::compare</code>. That said, <a href=\"https://stackoverflow.com/a/76994393/6395627\">Shila&#39;s answer</a> gives an excellent explanation regarding how this <i>comparator&#39;s</i> implementation works (though the <i>sorting algorithm</i> used by the <code>sort</code> implementation may be different; regardless, the comparator is algorithm-agnostic)."}],"answers":[{"tags":[],"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693241065,"creation_date":1693236782,"answer_id":76994196,"question_id":76994136,"body_markdown":"Your approach is wrong: your phrase &quot;first 1 is compared with 4 (and so on)&quot; describes a sorting algorithm but a `Comparator` is not aware of any sorting algorithm.  The idea behind a `Comparator` is that **any** sorting algorithm will need to compare pairs of items, so the `Comparator` provides this specific ability to any sorting algorithm, including the one implemented by [`ArrayList.sort()`][1] (whatever it is). Future versions of Java may implement a new, better, not-yet-invented algorithm, and the `Comparator` you provide will still be valid and necessary.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html#sort-java.util.Comparator-","title":"Understand how sorting with compare works for an ArrayList in java","body":"<p>Your approach is wrong: your phrase &quot;first 1 is compared with 4 (and so on)&quot; describes a sorting algorithm but a <code>Comparator</code> is not aware of any sorting algorithm.  The idea behind a <code>Comparator</code> is that <strong>any</strong> sorting algorithm will need to compare pairs of items, so the <code>Comparator</code> provides this specific ability to any sorting algorithm, including the one implemented by <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html#sort-java.util.Comparator-\" rel=\"nofollow noreferrer\"><code>ArrayList.sort()</code></a> (whatever it is). Future versions of Java may implement a new, better, not-yet-invented algorithm, and the <code>Comparator</code> you provide will still be valid and necessary.</p>\n"},{"tags":[],"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1693292998,"creation_date":1693238756,"answer_id":76994393,"question_id":76994136,"body_markdown":"The Comparator&#39;s comparison function defines the ordering of two elements. Let&#39;s understand how the subtraction works in terms of comparison:\r\nIf you have:\r\n\r\n 1. `i1 &gt; i2`, then (`i1 - i2`) is a positive number.\r\n\r\n 2. `i1 &lt; i2`, then `i1 - i2` is a negative number.\r\n\r\n 3. `i1 == i2`, then `i1 - i2` is zero.\r\n\r\n    \r\n    \r\n    \r\n    The result of the Comparator&#39;s `compare` function:\r\n    - A negative value means the first argument is less than the second.\r\n    - A positive value means the first argument is greater than the second.\r\n    - Zero means the arguments are equal.\r\n    \r\n    Given the list [5, 4, 1, 2] and the comparator `ints = (i1, i2) -&gt; i1 - i2`, let&#39;s see step-by-step:\r\n    \r\n    1. Comparing 5 and 4: \r\n        - 5 - 4 = 1 (a positive number)\r\n        - This means 5 &gt; 4, so 5 should come after 4 in the list.\r\n        - The list becomes [4, 5, 1, 2].\r\n    \r\n    2. Comparing 5 and 1:\r\n        - 5 - 1 = 4 (a positive number)\r\n        - This means 5 &gt; 1, so 5 should come after 1.\r\n        - The list becomes [4, 1, 5, 2].\r\n    \r\n    3. Comparing 5 and 2:\r\n        - 5 - 2 = 3 (a positive number)\r\n        - This means 5 &gt; 2, so 5 should come after 2.\r\n        - The list becomes [4, 1, 2, 5].\r\n    \r\n    4. Comparing 4 and 1:\r\n        - 4 - 1 = 3 (a positive number)\r\n        - This means 4 &gt; 1, so 4 should come after 1.\r\n        - The list becomes [1, 4, 2, 5].\r\n    \r\n    5. Comparing 4 and 2:\r\n        - 4 - 2 = 2 (a positive number)\r\n        - This means 4 &gt; 2, so 4 should come after 2.\r\n        - The list becomes [1, 2, 4, 5].\r\n\r\nAt this point, the list is sorted in ascending order, so the comparisons stop.\r\n\r\nThe above steps assume a simple bubble sort for illustration purposes.\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Comparator;\r\n    import java.util.List;\r\n    \r\n    public class comparing {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// Initialize ArrayList\r\n    \t\tList&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();\r\n    \t\tnumbers.add(5);\r\n    \t\tnumbers.add(4);\r\n    \t\tnumbers.add(1);\r\n    \t\tnumbers.add(2);\r\n    \t\t// Print the original list\r\n    \t\tSystem.out.println(&quot;\\t\\t Original list: &quot; + numbers);\r\n    \t\t// Custom comparator\r\n    \t\tComparator&lt;Integer&gt; ints = (i1, i2) -&gt; i1 - i2;\r\n    \t\t// Sort using the comparator\r\n    \t\tnumbers.sort(ints);\r\n    \t\t// Print the sorted list\r\n    \t\tSystem.out.println(&quot;\\t\\t Sorted list: &quot; + numbers);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\nthe result would be:\r\n[![enter image description here][1]][1]\r\n\r\nPS. In the case of ArrayList.sort(), the underlying implementation uses TimSort (a hybrid of MergeSort and InsertionSort)and it doesn&#39;t sort by repeatedly comparing and swapping adjacent pairs like the example.\r\n\r\nI hope it helps.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JCDWS.png","title":"Understand how sorting with compare works for an ArrayList in java","body":"<p>The Comparator's comparison function defines the ordering of two elements. Let's understand how the subtraction works in terms of comparison:\nIf you have:</p>\n<ol>\n<li><p><code>i1 &gt; i2</code>, then (<code>i1 - i2</code>) is a positive number.</p>\n</li>\n<li><p><code>i1 &lt; i2</code>, then <code>i1 - i2</code> is a negative number.</p>\n</li>\n<li><p><code>i1 == i2</code>, then <code>i1 - i2</code> is zero.</p>\n<p>The result of the Comparator's <code>compare</code> function:</p>\n<ul>\n<li>A negative value means the first argument is less than the second.</li>\n<li>A positive value means the first argument is greater than the second.</li>\n<li>Zero means the arguments are equal.</li>\n</ul>\n<p>Given the list [5, 4, 1, 2] and the comparator <code>ints = (i1, i2) -&gt; i1 - i2</code>, let's see step-by-step:</p>\n<ol>\n<li><p>Comparing 5 and 4:</p>\n<ul>\n<li>5 - 4 = 1 (a positive number)</li>\n<li>This means 5 &gt; 4, so 5 should come after 4 in the list.</li>\n<li>The list becomes [4, 5, 1, 2].</li>\n</ul>\n</li>\n<li><p>Comparing 5 and 1:</p>\n<ul>\n<li>5 - 1 = 4 (a positive number)</li>\n<li>This means 5 &gt; 1, so 5 should come after 1.</li>\n<li>The list becomes [4, 1, 5, 2].</li>\n</ul>\n</li>\n<li><p>Comparing 5 and 2:</p>\n<ul>\n<li>5 - 2 = 3 (a positive number)</li>\n<li>This means 5 &gt; 2, so 5 should come after 2.</li>\n<li>The list becomes [4, 1, 2, 5].</li>\n</ul>\n</li>\n<li><p>Comparing 4 and 1:</p>\n<ul>\n<li>4 - 1 = 3 (a positive number)</li>\n<li>This means 4 &gt; 1, so 4 should come after 1.</li>\n<li>The list becomes [1, 4, 2, 5].</li>\n</ul>\n</li>\n<li><p>Comparing 4 and 2:</p>\n<ul>\n<li>4 - 2 = 2 (a positive number)</li>\n<li>This means 4 &gt; 2, so 4 should come after 2.</li>\n<li>The list becomes [1, 2, 4, 5].</li>\n</ul>\n</li>\n</ol>\n</li>\n</ol>\n<p>At this point, the list is sorted in ascending order, so the comparisons stop.</p>\n<p>The above steps assume a simple bubble sort for illustration purposes.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Comparator;\nimport java.util.List;\n\npublic class comparing {\n    public static void main(String[] args) {\n        // Initialize ArrayList\n        List&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();\n        numbers.add(5);\n        numbers.add(4);\n        numbers.add(1);\n        numbers.add(2);\n        // Print the original list\n        System.out.println(&quot;\\t\\t Original list: &quot; + numbers);\n        // Custom comparator\n        Comparator&lt;Integer&gt; ints = (i1, i2) -&gt; i1 - i2;\n        // Sort using the comparator\n        numbers.sort(ints);\n        // Print the sorted list\n        System.out.println(&quot;\\t\\t Sorted list: &quot; + numbers);\n    }\n\n}\n</code></pre>\n<p>the result would be:\n<a href=\"https://i.stack.imgur.com/JCDWS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JCDWS.png\" alt=\"enter image description here\" /></a></p>\n<p>PS. In the case of ArrayList.sort(), the underlying implementation uses TimSort (a hybrid of MergeSort and InsertionSort)and it doesn't sort by repeatedly comparing and swapping adjacent pairs like the example.</p>\n<p>I hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693241329,"creation_date":1693239257,"answer_id":76994450,"question_id":76994136,"body_markdown":"I think you wanted to understand how the sorting algorithm uses the comparator internally. So, let&#39;s see how `Collections.sort()` uses Comparator` to sort a list.\r\n\r\nLet&#39;s peek into the JDK  and see specifically how insertion sort uses comparator.\r\n\r\nThis is the JDK code snippet for insertion sort which `Collections.sort()` uses to sort list with `size &lt; 7`.\r\n        \r\n\r\n    for (int i=low; i&lt;high; i++){\r\n        for (int j=i; j&gt;low &amp;&amp; c.compare(dest[j-1], dest[j])&gt;0; j--)\r\n            swap(dest, j, j-1);\r\n        }\r\n\r\n       //remaining logic\r\n    }\r\n\r\nWe can see that the sorting algorithm uses the `c.compare()` method to decide the sorting order. \r\n\r\nSuppose this is my comparator function:\r\n\r\n    class MyComparator implements Comparator&lt;Integer&gt; {\r\n       @Override\r\n       public int compare(Integer x, Integer y) {\r\n           return x - y;\r\n       }\r\n    }\r\n\r\nThe sorting algorithm will calculate `c.compare(dest[j-1], dest[j]) &gt; 0` for every element. And, it will only swap the left and right value if the above expression is greater than 0. i.e. if `x &gt; y` OR `dest[j-1]` &gt; `dest[j]`. \r\n\r\nThus, after swapping the `smaller element in the right comes to left and greater element goes to right side` which is basically sorting the list in ascending order.\r\n\r\nIf, we do `y-x` in `compare()` method, sorting in reverse order(descending order) will occur using similar logic.","title":"Understand how sorting with compare works for an ArrayList in java","body":"<p>I think you wanted to understand how the sorting algorithm uses the comparator internally. So, let's see how <code>Collections.sort()</code> uses Comparator` to sort a list.</p>\n<p>Let's peek into the JDK  and see specifically how insertion sort uses comparator.</p>\n<p>This is the JDK code snippet for insertion sort which <code>Collections.sort()</code> uses to sort list with <code>size &lt; 7</code>.</p>\n<pre><code>for (int i=low; i&lt;high; i++){\n    for (int j=i; j&gt;low &amp;&amp; c.compare(dest[j-1], dest[j])&gt;0; j--)\n        swap(dest, j, j-1);\n    }\n\n   //remaining logic\n}\n</code></pre>\n<p>We can see that the sorting algorithm uses the <code>c.compare()</code> method to decide the sorting order.</p>\n<p>Suppose this is my comparator function:</p>\n<pre><code>class MyComparator implements Comparator&lt;Integer&gt; {\n   @Override\n   public int compare(Integer x, Integer y) {\n       return x - y;\n   }\n}\n</code></pre>\n<p>The sorting algorithm will calculate <code>c.compare(dest[j-1], dest[j]) &gt; 0</code> for every element. And, it will only swap the left and right value if the above expression is greater than 0. i.e. if <code>x &gt; y</code> OR <code>dest[j-1]</code> &gt; <code>dest[j]</code>.</p>\n<p>Thus, after swapping the <code>smaller element in the right comes to left and greater element goes to right side</code> which is basically sorting the list in ascending order.</p>\n<p>If, we do <code>y-x</code> in <code>compare()</code> method, sorting in reverse order(descending order) will occur using similar logic.</p>\n"}],"owner":{"account_id":19581277,"reputation":11,"user_id":14330286,"display_name":"Anish Ghimire"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76994450,"answer_count":3,"score":0,"last_activity_date":1693292998,"creation_date":1693236295,"question_id":76994136,"body_markdown":"I want to understand how the following comparator gives me results in ascending order:\r\n\r\n````\r\nComparator&lt;Integer&gt; ints = (i1, i2) -&gt; i1 - i2;\r\n````\r\n\r\nHow does providing `i1-i2` as the implementation give me results in ascending order?\r\nCan you please explain in the context of the ArrayList with elements [5, 4, 1, 2]? I am looking for some explanation similar to this: first 1 is compared with 4, the result is 4-1=3, which is a positive number, the current state of arraylist becomes this [4, 5, 1, 2] and so on to get to the final result of [1, 2, 4, 5]. \r\n\r\nI want to understand the working of the comparator implementation. ","title":"Understand how sorting with compare works for an ArrayList in java","body":"<p>I want to understand how the following comparator gives me results in ascending order:</p>\n<pre><code>Comparator&lt;Integer&gt; ints = (i1, i2) -&gt; i1 - i2;\n</code></pre>\n<p>How does providing <code>i1-i2</code> as the implementation give me results in ascending order?\nCan you please explain in the context of the ArrayList with elements [5, 4, 1, 2]? I am looking for some explanation similar to this: first 1 is compared with 4, the result is 4-1=3, which is a positive number, the current state of arraylist becomes this [4, 5, 1, 2] and so on to get to the final result of [1, 2, 4, 5].</p>\n<p>I want to understand the working of the comparator implementation.</p>\n"},{"tags":["java","amazon-web-services","amazon-ec2","aws-sdk"],"answers":[{"tags":[],"owner":{"account_id":2390181,"reputation":115,"user_id":2090166,"accept_rate":75,"display_name":"user2090166"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1693292946,"creation_date":1447344632,"answer_id":33676014,"question_id":29022687,"body_markdown":"`Regions.valueOf(awsRegion)` should help.\r\nFull code:\r\n\r\n```java\r\nRegion s3Region = Region.getRegion(Regions.valueOf(awsRegion.toUpperCase()));\r\n```\r\n","title":"AWS: Convert String to Region","body":"<p><code>Regions.valueOf(awsRegion)</code> should help.\nFull code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Region s3Region = Region.getRegion(Regions.valueOf(awsRegion.toUpperCase()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8744436,"reputation":956,"user_id":6540292,"display_name":"Ray Fischer"},"down_vote_count":1,"up_vote_count":16,"is_accepted":true,"score":15,"last_activity_date":1469585895,"creation_date":1469585705,"answer_id":38602626,"question_id":29022687,"body_markdown":"Answering the question that I think you mean to ask:\r\n\r\nIf you have an Amazon region name like, for example, &quot;us-east-1&quot; then you can easily convert it to a RegionEndpoint:\r\n\r\n    RegionEndpoint endpoint = Amazon.RegionEndpoint.GetBySystemName(&quot;us-east-1&quot;);\r\n","title":"AWS: Convert String to Region","body":"<p>Answering the question that I think you mean to ask:</p>\n\n<p>If you have an Amazon region name like, for example, \"us-east-1\" then you can easily convert it to a RegionEndpoint:</p>\n\n<pre><code>RegionEndpoint endpoint = Amazon.RegionEndpoint.GetBySystemName(\"us-east-1\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5827480,"reputation":911,"user_id":4593280,"display_name":"vkstream"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667513708,"creation_date":1667513708,"answer_id":74310146,"question_id":29022687,"body_markdown":"For ***software.amazon.awssdk*** use the below code.\r\n\r\n     import software.amazon.awssdk.regions.Region;\r\n\r\n        Region region= Region.of(&quot;Your-Region&quot;);\r\n\r\nNote: Not for **com.amazonaws:aws-java-sdk**","title":"AWS: Convert String to Region","body":"<p>For <em><strong>software.amazon.awssdk</strong></em> use the below code.</p>\n<pre><code> import software.amazon.awssdk.regions.Region;\n\n    Region region= Region.of(&quot;Your-Region&quot;);\n</code></pre>\n<p>Note: Not for <strong>com.amazonaws:aws-java-sdk</strong></p>\n"}],"owner":{"account_id":5898582,"reputation":157,"user_id":4642950,"accept_rate":75,"display_name":"Arpit Shah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7255,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":38602626,"answer_count":3,"score":11,"last_activity_date":1693292946,"creation_date":1426205766,"question_id":29022687,"body_markdown":"I do not want to hardcode region id and pass region name as String from command line. Is there a way to do that?\r\nHardcoding:\r\n\t\t\t\r\n\r\n    Region s3Region = Region.getRegion(Regions.US_EAST_1); \r\n    Non Hardcoded but not working:\r\n    Region s3Region = Region.getRegion(Regions.fromName(awsRegion));","title":"AWS: Convert String to Region","body":"<p>I do not want to hardcode region id and pass region name as String from command line. Is there a way to do that?\nHardcoding:</p>\n\n<pre><code>Region s3Region = Region.getRegion(Regions.US_EAST_1); \nNon Hardcoded but not working:\nRegion s3Region = Region.getRegion(Regions.fromName(awsRegion));\n</code></pre>\n"},{"tags":["java","android","gradle","android-gradle-plugin"],"comments":[{"owner":{"account_id":3817793,"reputation":3642,"user_id":3166697,"display_name":"Dima Kozhevin"},"score":0,"creation_date":1506463745,"post_id":46435582,"comment_id":79830170,"body_markdown":"Possible duplicate of [How do I properly import HttpClient from org.apache on Android using gradle build file?](https://stackoverflow.com/questions/15775747/how-do-i-properly-import-httpclient-from-org-apache-on-android-using-gradle-buil)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/15775747/how-do-i-properly-import-httpclient-from-org-apache-on-android-using-gradle-buil\">How do I properly import HttpClient from org.apache on Android using gradle build file?</a>"},{"owner":{"account_id":3817793,"reputation":3642,"user_id":3166697,"display_name":"Dima Kozhevin"},"score":0,"creation_date":1506463756,"post_id":46435582,"comment_id":79830173,"body_markdown":"https://stackoverflow.com/a/34153044/3166697\ncheck `useLibrary &#39;org.apache.http.legacy&#39;`","body":"<a href=\"https://stackoverflow.com/a/34153044/3166697\">stackoverflow.com/a/34153044/3166697</a> check <code>useLibrary &#39;org.apache.http.legacy&#39;</code>"}],"answers":[{"tags":[],"owner":{"account_id":1669558,"reputation":2825,"user_id":1536286,"accept_rate":50,"display_name":"Mete"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616183501,"creation_date":1506467338,"answer_id":46437098,"question_id":46435582,"body_markdown":"This works for me.\r\n\r\n    android {\r\n        ... \r\n        useLibrary  &#39;org.apache.http.legacy&#39;\r\n    }\r\n    dependencies {\r\n        ...\r\n        compile &#39;org.apache.httpcomponents:httpcore:4.4.1&#39;\r\n        compile &#39;org.apache.httpcomponents:httpclient:4.5&#39;\r\n    }\r\n\r\n","title":"How to import org.apache.httpcomponents using Gradle","body":"<p>This works for me.</p>\n<pre><code>android {\n    ... \n    useLibrary  'org.apache.http.legacy'\n}\ndependencies {\n    ...\n    compile 'org.apache.httpcomponents:httpcore:4.4.1'\n    compile 'org.apache.httpcomponents:httpclient:4.5'\n}\n</code></pre>\n"}],"owner":{"account_id":419586,"reputation":3902,"user_id":796837,"accept_rate":76,"display_name":"laketuna"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17557,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693292445,"creation_date":1506458954,"question_id":46435582,"body_markdown":"Just trying to make some POST requests in an Android app. I was testing with `HttpClient 4.5.3` (https://hc.apache.org/downloads.cgi) in a standalone script. Everything worked, but when I tried to add it to the Android app, I found out I need to add some repackaged dependency due to versioning issues. So I added \r\n\r\n    compile group: &#39;org.apache.httpcomponents&#39; , name: &#39;httpclient-android&#39; , version: &#39;4.3.5.1&#39;\r\n\r\nin Gradle and synced it without issues. However, I can&#39;t `import` any of the classes I need to do what I need. These are the imports I need:\r\n\r\n    import org.apache.http.HttpEntity; // &quot;HttpEntity&quot; is highlighted red\r\n    import org.apache.http.NameValuePair;\r\n    import org.apache.http.client.entity.UrlEncodedFormEntity;\r\n    import org.apache.http.client.methods.CloseableHttpResponse;\r\n    import org.apache.http.client.methods.HttpPost;\r\n    import org.apache.http.impl.client.CloseableHttpClient;\r\n    import org.apache.http.impl.client.HttpClients;\r\n    import org.apache.http.message.BasicNameValuePair;\r\n    import org.apache.http.util.EntityUtils;\r\n\r\nWhat am I missing?","title":"How to import org.apache.httpcomponents using Gradle","body":"<p>Just trying to make some POST requests in an Android app. I was testing with <code>HttpClient 4.5.3</code> (<a href=\"https://hc.apache.org/downloads.cgi\" rel=\"nofollow noreferrer\">https://hc.apache.org/downloads.cgi</a>) in a standalone script. Everything worked, but when I tried to add it to the Android app, I found out I need to add some repackaged dependency due to versioning issues. So I added </p>\n\n<pre><code>compile group: 'org.apache.httpcomponents' , name: 'httpclient-android' , version: '4.3.5.1'\n</code></pre>\n\n<p>in Gradle and synced it without issues. However, I can't <code>import</code> any of the classes I need to do what I need. These are the imports I need:</p>\n\n<pre><code>import org.apache.http.HttpEntity; // \"HttpEntity\" is highlighted red\nimport org.apache.http.NameValuePair;\nimport org.apache.http.client.entity.UrlEncodedFormEntity;\nimport org.apache.http.client.methods.CloseableHttpResponse;\nimport org.apache.http.client.methods.HttpPost;\nimport org.apache.http.impl.client.CloseableHttpClient;\nimport org.apache.http.impl.client.HttpClients;\nimport org.apache.http.message.BasicNameValuePair;\nimport org.apache.http.util.EntityUtils;\n</code></pre>\n\n<p>What am I missing?</p>\n"},{"tags":["java","spring","reactive"],"answers":[{"tags":[],"owner":{"account_id":7548491,"reputation":844,"user_id":5730762,"display_name":"Alexander Terekhov"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1539860520,"creation_date":1539860520,"answer_id":52872509,"question_id":52870517,"body_markdown":"I think you can try to register a kind of &#39;callback&#39; in the next way:\r\n\r\n            return request.bodyToMono(JSONObject.class)\r\n                      .doOnNext(jsonObject -&gt; // testing..)\r\n                      .then(ServerResponse.ok().build());\r\n\r\nAlso, I noticed that you are casting `ServerResponse.ok()` to `Mono&lt;ServerResponse&gt;`. I think it will not cast. Use `ServerResponse.ok().build()` to make `Mono&lt;ServerResponse&gt;`.","title":"Spring Reactive get body JSONObject using ServerRequest","body":"<p>I think you can try to register a kind of 'callback' in the next way:</p>\n\n<pre><code>        return request.bodyToMono(JSONObject.class)\n                  .doOnNext(jsonObject -&gt; // testing..)\n                  .then(ServerResponse.ok().build());\n</code></pre>\n\n<p>Also, I noticed that you are casting <code>ServerResponse.ok()</code> to <code>Mono&lt;ServerResponse&gt;</code>. I think it will not cast. Use <code>ServerResponse.ok().build()</code> to make <code>Mono&lt;ServerResponse&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":8625141,"reputation":173,"user_id":6458577,"display_name":"oddeveloper"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1634260789,"creation_date":1539925845,"answer_id":52886199,"question_id":52870517,"body_markdown":"thank you. [Alexander Terekhov](https://stackoverflow.com/users/5730762/alexander-terekhov)\r\n\r\nYour answer has been a lot of help in solving the problem.\r\n\r\nMy Test Code.\r\n\r\nRouterFunction = Same as existing code.\r\n\r\nHandler \r\n\r\n    public Mono&lt;ServerResponse&gt; toRESTInVerticle(ServerRequest serverRequest) {\r\n    \tString uri = serverRequest.uri().toString();\r\n    \tString method = serverRequest.methodName();\r\n    \tString contentType = serverRequest.headers().contentType().get().toString();\r\n    \tString characterSet = serverRequest.headers().acceptCharset().get(0).toString();\r\n    \tJSONObject bodyData = serverRequest.bodyToMono(JSONObject.class).toProcessor().peek();\r\n\r\n    \tSystem.out.println(&quot;==========toRESTInVerticle Data Check==========&quot;);\r\n    \tSystem.out.println(uri);\r\n\t\tSystem.out.println(method);\r\n\t\tSystem.out.println(contentType);\r\n\t\tSystem.out.println(characterSet);\r\n\t\tSystem.out.println(bodyData);\r\n\t\tSystem.out.println(&quot;======toRESTInVerticle Data Check Complete======&quot;);\r\n\r\n\t\treturn Mono.empty();\r\n    }\r\n\r\nand the result in console as provided below :-\r\n\r\n    ==========toRESTInVerticle Data Check==========\r\n    http://localhost:8082/input/event/check\r\n    POST\r\n    application/json\r\n    UTF-8\r\n    {&quot;event_type&quot;:&quot;12&quot;,&quot;event_name_order&quot;:[&quot;aa&quot;,&quot;bb&quot;,&quot;cc&quot;],&quot;event_query&quot;:&quot;&quot;,&quot;event_name&quot;:&quot;aaaa&quot;,&quot;init_value&quot;:&quot;&quot;,&quot;init_value_yn&quot;:&quot;N&quot;,&quot;event_descp&quot;:&quot;ddd&quot;}\r\n    ======toRESTInVerticle Data Check Complete======\r\n\r\nHappy Coding Thank you.\r\n\r\n----------\r\n\r\nUpdated. \r\n\r\n**Thank you. @Zon Comments.\r\ntoProcessor is deprecated now - prefer share() to share a parent subscription, or use Sinks\r\nhttps://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#toProcessor-- Please refer to this url as well.**","title":"Spring Reactive get body JSONObject using ServerRequest","body":"<p>thank you. <a href=\"https://stackoverflow.com/users/5730762/alexander-terekhov\">Alexander Terekhov</a></p>\n<p>Your answer has been a lot of help in solving the problem.</p>\n<p>My Test Code.</p>\n<p>RouterFunction = Same as existing code.</p>\n<p>Handler</p>\n<pre><code>public Mono&lt;ServerResponse&gt; toRESTInVerticle(ServerRequest serverRequest) {\n    String uri = serverRequest.uri().toString();\n    String method = serverRequest.methodName();\n    String contentType = serverRequest.headers().contentType().get().toString();\n    String characterSet = serverRequest.headers().acceptCharset().get(0).toString();\n    JSONObject bodyData = serverRequest.bodyToMono(JSONObject.class).toProcessor().peek();\n\n    System.out.println(&quot;==========toRESTInVerticle Data Check==========&quot;);\n    System.out.println(uri);\n    System.out.println(method);\n    System.out.println(contentType);\n    System.out.println(characterSet);\n    System.out.println(bodyData);\n    System.out.println(&quot;======toRESTInVerticle Data Check Complete======&quot;);\n\n    return Mono.empty();\n}\n</code></pre>\n<p>and the result in console as provided below :-</p>\n<pre><code>==========toRESTInVerticle Data Check==========\nhttp://localhost:8082/input/event/check\nPOST\napplication/json\nUTF-8\n{&quot;event_type&quot;:&quot;12&quot;,&quot;event_name_order&quot;:[&quot;aa&quot;,&quot;bb&quot;,&quot;cc&quot;],&quot;event_query&quot;:&quot;&quot;,&quot;event_name&quot;:&quot;aaaa&quot;,&quot;init_value&quot;:&quot;&quot;,&quot;init_value_yn&quot;:&quot;N&quot;,&quot;event_descp&quot;:&quot;ddd&quot;}\n======toRESTInVerticle Data Check Complete======\n</code></pre>\n<p>Happy Coding Thank you.</p>\n<hr />\n<p>Updated.</p>\n<p><strong>Thank you. @Zon Comments.\ntoProcessor is deprecated now - prefer share() to share a parent subscription, or use Sinks\n<a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#toProcessor--\" rel=\"nofollow noreferrer\">https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#toProcessor--</a> Please refer to this url as well.</strong></p>\n"},{"tags":[],"owner":{"account_id":3187015,"reputation":71,"user_id":2692384,"display_name":"Timothy Wachiuri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633614038,"creation_date":1633530501,"answer_id":69467638,"question_id":52870517,"body_markdown":"[@oddeveloper][1] I find that `Mono.toProcessor()` is deprecated.\r\n\r\nThe easiest way is to have a POJO like this\r\n\r\n    import java.util.List;\r\n    import java.util.Objects;\r\n    import java.util.logging.Logger;\r\n    \r\n    public class Person {\r\n        \r\n        private String name;\r\n        \r\n        private List&lt;String&gt; nameOrder;\r\n        \r\n        private String type;\r\n        \r\n        private String query;\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public List&lt;String&gt; getNameOrder() {\r\n            return nameOrder;\r\n        }\r\n    \r\n        public void setNameOrder(List&lt;String&gt; nameOrder) {\r\n            this.nameOrder = nameOrder;\r\n        }\r\n    \r\n        public String getType() {\r\n            return type;\r\n        }\r\n    \r\n        public void setType(String type) {\r\n            this.type = type;\r\n        }\r\n    \r\n        public String getQuery() {\r\n            return query;\r\n        }\r\n    \r\n        public void setQuery(String query) {\r\n            this.query = query;\r\n        }\r\n        \r\n        \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Person{&quot; + &quot;name=&quot; + name + &quot;, nameOrder=&quot; + nameOrder + &quot;, type=&quot; + type + &quot;, query=&quot; + query + &#39;}&#39;;\r\n        }\r\n    }\r\n\r\nthen extract `Person person = serverRequest.bodyToMono(Person.class).toFuture().get()`.\r\n\r\nget() function \r\n\r\n&gt; Waits if necessary for this future to complete, and then returns its\r\n&gt; result.\r\n\r\n\r\n[@terekhov][2] your solution did not work for me I don&#39;t know why\r\n\r\n\r\nIf that doesn&#39;t work for you and you have to have a JSONObject then create a JSONObjectBodyExtractor like this\r\n\r\n\r\n    import java.nio.charset.StandardCharsets;\r\n    import org.json.JSONObject;\r\n    import org.reactivestreams.Subscriber;\r\n    import org.reactivestreams.Subscription;\r\n    import org.springframework.http.ReactiveHttpInputMessage;\r\n    import org.springframework.web.reactive.function.BodyExtractor;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import org.springframework.core.io.buffer.DataBuffer;\r\n    import reactor.core.publisher.Mono;\r\n    \r\n    /**\r\n     *\r\n     * @author timot\r\n     * @param &lt;T&gt;\r\n     * @param &lt;M&gt;\r\n     */\r\n    public class JSONObjectBodyExtractor&lt;T extends Mono&lt;JSONObject&gt;, M extends ReactiveHttpInputMessage&gt; implements BodyExtractor {\r\n    \r\n        private static final Logger LOG = Logger.getLogger(JSONObjectBodyExtractor.class.getName());\r\n    \r\n        @Override\r\n        public Mono&lt;JSONObject&gt; extract(ReactiveHttpInputMessage inputMessage, Context context) {\r\n    \r\n            return Mono.&lt;JSONObject&gt;create(sink -&gt; {\r\n                inputMessage.getBody().subscribe(new Subscriber() {\r\n    \r\n                    @Override\r\n                    public void onSubscribe(Subscription s) {\r\n                        s.request(1);\r\n                    }\r\n    \r\n                    @Override\r\n                    public void onNext(Object t) {\r\n                        \r\n                        DataBuffer dataBuffer=(DataBuffer) t;\r\n                        \r\n                        sink.success(new JSONObject(dataBuffer.toString(StandardCharsets.UTF_8)));\r\n                    }\r\n    \r\n                    @Override\r\n                    public void onError(Throwable thrwbl) {\r\n                        LOG.log(Level.SEVERE, &quot;jsonobjectbodyextractor onerror&quot;, thrwbl);\r\n                    }\r\n    \r\n                    @Override\r\n                    public void onComplete() {\r\n                        LOG.log(Level.INFO, &quot;jsonobjectbodyextractor oncomplete&quot;);\r\n                    }\r\n    \r\n                });\r\n            });\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\nThen in your reactive handler extract like this\r\n\r\n        Mono&lt;JSONObject&gt; jsonObjectMono = (Mono&lt;JSONObject&gt;) request.body(jsonObjectBodyExtractor);\r\n    JSONObject jsonObject=jsonObjectMono.toFuture().get();\r\n\r\n  [1]: https://stackoverflow.com/users/6458577/oddeveloper\r\n  [2]: https://stackoverflow.com/users/5730762/alexander-terekhov\r\n\r\n\r\n\r\n\r\n","title":"Spring Reactive get body JSONObject using ServerRequest","body":"<p><a href=\"https://stackoverflow.com/users/6458577/oddeveloper\">@oddeveloper</a> I find that <code>Mono.toProcessor()</code> is deprecated.</p>\n<p>The easiest way is to have a POJO like this</p>\n<pre><code>import java.util.List;\nimport java.util.Objects;\nimport java.util.logging.Logger;\n\npublic class Person {\n    \n    private String name;\n    \n    private List&lt;String&gt; nameOrder;\n    \n    private String type;\n    \n    private String query;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public List&lt;String&gt; getNameOrder() {\n        return nameOrder;\n    }\n\n    public void setNameOrder(List&lt;String&gt; nameOrder) {\n        this.nameOrder = nameOrder;\n    }\n\n    public String getType() {\n        return type;\n    }\n\n    public void setType(String type) {\n        this.type = type;\n    }\n\n    public String getQuery() {\n        return query;\n    }\n\n    public void setQuery(String query) {\n        this.query = query;\n    }\n    \n    \n    @Override\n    public String toString() {\n        return &quot;Person{&quot; + &quot;name=&quot; + name + &quot;, nameOrder=&quot; + nameOrder + &quot;, type=&quot; + type + &quot;, query=&quot; + query + '}';\n    }\n}\n</code></pre>\n<p>then extract <code>Person person = serverRequest.bodyToMono(Person.class).toFuture().get()</code>.</p>\n<p>get() function</p>\n<blockquote>\n<p>Waits if necessary for this future to complete, and then returns its\nresult.</p>\n</blockquote>\n<p><a href=\"https://stackoverflow.com/users/5730762/alexander-terekhov\">@terekhov</a> your solution did not work for me I don't know why</p>\n<p>If that doesn't work for you and you have to have a JSONObject then create a JSONObjectBodyExtractor like this</p>\n<pre><code>import java.nio.charset.StandardCharsets;\nimport org.json.JSONObject;\nimport org.reactivestreams.Subscriber;\nimport org.reactivestreams.Subscription;\nimport org.springframework.http.ReactiveHttpInputMessage;\nimport org.springframework.web.reactive.function.BodyExtractor;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport org.springframework.core.io.buffer.DataBuffer;\nimport reactor.core.publisher.Mono;\n\n/**\n *\n * @author timot\n * @param &lt;T&gt;\n * @param &lt;M&gt;\n */\npublic class JSONObjectBodyExtractor&lt;T extends Mono&lt;JSONObject&gt;, M extends ReactiveHttpInputMessage&gt; implements BodyExtractor {\n\n    private static final Logger LOG = Logger.getLogger(JSONObjectBodyExtractor.class.getName());\n\n    @Override\n    public Mono&lt;JSONObject&gt; extract(ReactiveHttpInputMessage inputMessage, Context context) {\n\n        return Mono.&lt;JSONObject&gt;create(sink -&gt; {\n            inputMessage.getBody().subscribe(new Subscriber() {\n\n                @Override\n                public void onSubscribe(Subscription s) {\n                    s.request(1);\n                }\n\n                @Override\n                public void onNext(Object t) {\n                    \n                    DataBuffer dataBuffer=(DataBuffer) t;\n                    \n                    sink.success(new JSONObject(dataBuffer.toString(StandardCharsets.UTF_8)));\n                }\n\n                @Override\n                public void onError(Throwable thrwbl) {\n                    LOG.log(Level.SEVERE, &quot;jsonobjectbodyextractor onerror&quot;, thrwbl);\n                }\n\n                @Override\n                public void onComplete() {\n                    LOG.log(Level.INFO, &quot;jsonobjectbodyextractor oncomplete&quot;);\n                }\n\n            });\n        });\n    }\n\n}\n</code></pre>\n<p>Then in your reactive handler extract like this</p>\n<pre><code>    Mono&lt;JSONObject&gt; jsonObjectMono = (Mono&lt;JSONObject&gt;) request.body(jsonObjectBodyExtractor);\nJSONObject jsonObject=jsonObjectMono.toFuture().get();\n</code></pre>\n"}],"owner":{"account_id":8625141,"reputation":173,"user_id":6458577,"display_name":"oddeveloper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19901,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":52886199,"answer_count":3,"score":9,"last_activity_date":1693292404,"creation_date":1539853236,"question_id":52870517,"body_markdown":"i&#39;m spring reactive newbie.\r\n\r\nI am trying to use postman to get request information from the server.\r\n      \r\nFirst, postman sends information to the server using the post method.\r\nSecond, we&#39;ve been working on the server side with the relevant code and getting the request information.      \r\n\r\nIn the following code snippet\r\n\r\nI wonder if I can get the JSONObject of the ServerRequest function.\r\n\r\npostman body(application/json)\r\n\r\n\r\n    {\r\n\t\t&quot;name&quot;: &quot;aaaa&quot;,\r\n\t\t&quot;name_order&quot;: [&quot;aa&quot;, &quot;bb&quot;, &quot;cc&quot;],\r\n\t\t&quot;type&quot;: &quot;12&quot;,\r\n\t\t&quot;query&quot;: &quot;&quot;\r\n    }\r\n\r\njava (RouterFunction)\r\n\r\n    import com.ntels.io.input.handler.RestInHandler;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.web.reactive.config.EnableWebFlux;\r\n    import org.springframework.web.reactive.config.WebFluxConfigurer;\r\n    import org.springframework.web.reactive.function.server.*;\r\n\r\n    import static org.springframework.web.reactive.function.server.RequestPredicates.GET;\r\n    import static org.springframework.web.reactive.function.server.RequestPredicates.POST;\r\n    import static org.springframework.web.reactive.function.server.RequestPredicates.PUT;\r\n    import static org.springframework.web.reactive.function.server.RequestPredicates.DELETE;\r\n\r\n    @Configuration\r\n    @EnableWebFlux\r\n    public class RestConfig implements WebFluxConfigurer {\r\n\r\n    \t@Bean\r\n        public RouterFunction&lt;ServerResponse&gt; routes(RestInHandler restInHandler){\r\n            return RouterFunctions.route(POST(&quot;/input/event&quot;).\r\n            and(RequestPredicates.accept(MediaType.APPLICATION_JSON)), restInHandler::toRESTInVerticle);\r\n        }\r\n    }\r\n\r\njava (Handler)\r\n\r\n\tpublic Mono&lt;ServerResponse&gt; toRESTInVerticle(ServerRequest serverRequest) {\r\n    \tString serverRequestUrl = serverRequest.uri().toString();\r\n\r\n\t\tSystem.out.println(&quot;RestInHandler test in&quot;);\r\n\t\tSystem.out.println(serverRequest.method());\r\n\t\tSystem.out.println(serverRequest.headers());\r\n\t\tSystem.out.println(serverRequest.uri().toString());\r\n\r\n\t\t// how can i get the jsonbody using serverrequest\r\n\r\n        // testing..\r\n\t\r\n\t\t// Mono&lt;JSONObject&gt; jsonObjectMono = serverRequest.bodyToMono(JSONObject.class);\r\n\t\t// Flux&lt;JSONObject&gt; jsonObjectFlux = serverRequest.bodyToFlux(JSONObject.class);\r\n\t-&gt; MonoOnErrorResume\r\n\r\n        return (Mono&lt;ServerResponse&gt;) ServerResponse.ok();\r\n    }","title":"Spring Reactive get body JSONObject using ServerRequest","body":"<p>i'm spring reactive newbie.</p>\n\n<p>I am trying to use postman to get request information from the server.</p>\n\n<p>First, postman sends information to the server using the post method.\nSecond, we've been working on the server side with the relevant code and getting the request information.      </p>\n\n<p>In the following code snippet</p>\n\n<p>I wonder if I can get the JSONObject of the ServerRequest function.</p>\n\n<p>postman body(application/json)</p>\n\n<pre><code>{\n    \"name\": \"aaaa\",\n    \"name_order\": [\"aa\", \"bb\", \"cc\"],\n    \"type\": \"12\",\n    \"query\": \"\"\n}\n</code></pre>\n\n<p>java (RouterFunction)</p>\n\n<pre><code>import com.ntels.io.input.handler.RestInHandler;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.MediaType;\nimport org.springframework.web.reactive.config.EnableWebFlux;\nimport org.springframework.web.reactive.config.WebFluxConfigurer;\nimport org.springframework.web.reactive.function.server.*;\n\nimport static org.springframework.web.reactive.function.server.RequestPredicates.GET;\nimport static org.springframework.web.reactive.function.server.RequestPredicates.POST;\nimport static org.springframework.web.reactive.function.server.RequestPredicates.PUT;\nimport static org.springframework.web.reactive.function.server.RequestPredicates.DELETE;\n\n@Configuration\n@EnableWebFlux\npublic class RestConfig implements WebFluxConfigurer {\n\n    @Bean\n    public RouterFunction&lt;ServerResponse&gt; routes(RestInHandler restInHandler){\n        return RouterFunctions.route(POST(\"/input/event\").\n        and(RequestPredicates.accept(MediaType.APPLICATION_JSON)), restInHandler::toRESTInVerticle);\n    }\n}\n</code></pre>\n\n<p>java (Handler)</p>\n\n<pre><code>public Mono&lt;ServerResponse&gt; toRESTInVerticle(ServerRequest serverRequest) {\n    String serverRequestUrl = serverRequest.uri().toString();\n\n    System.out.println(\"RestInHandler test in\");\n    System.out.println(serverRequest.method());\n    System.out.println(serverRequest.headers());\n    System.out.println(serverRequest.uri().toString());\n\n    // how can i get the jsonbody using serverrequest\n\n    // testing..\n\n    // Mono&lt;JSONObject&gt; jsonObjectMono = serverRequest.bodyToMono(JSONObject.class);\n    // Flux&lt;JSONObject&gt; jsonObjectFlux = serverRequest.bodyToFlux(JSONObject.class);\n-&gt; MonoOnErrorResume\n\n    return (Mono&lt;ServerResponse&gt;) ServerResponse.ok();\n}\n</code></pre>\n"},{"tags":["java","variables","compiler-errors"],"comments":[{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":3,"creation_date":1693083070,"post_id":76984749,"comment_id":135714040,"body_markdown":"In java, types have a fully qualified name. For example, it&#39;s `java.math.BigInteger`, not just `BigInteger`. It&#39;s a lot to type, so java has an alias system specifically for types: You stick `import java.math.BigInteger;` at the top, which doesn&#39;t do anything, except, that says: Whereever I type `BigInteger` in this file where a type is needed, assume I meant to type `java.math.BigInteger`. You didn&#39;t do that - so java has no idea what the heck `BigInteger` might be. String works because all java files have a silent `import java.lang.*;` at the top. Because spec says so.","body":"In java, types have a fully qualified name. For example, it&#39;s <code>java.math.BigInteger</code>, not just <code>BigInteger</code>. It&#39;s a lot to type, so java has an alias system specifically for types: You stick <code>import java.math.BigInteger;</code> at the top, which doesn&#39;t do anything, except, that says: Whereever I type <code>BigInteger</code> in this file where a type is needed, assume I meant to type <code>java.math.BigInteger</code>. You didn&#39;t do that - so java has no idea what the heck <code>BigInteger</code> might be. String works because all java files have a silent <code>import java.lang.*;</code> at the top. Because spec says so."}],"answers":[{"tags":[],"owner":{"account_id":10885795,"reputation":26,"user_id":8003359,"display_name":"Jesus Rosales"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693083077,"creation_date":1693082527,"answer_id":76984771,"question_id":76984749,"body_markdown":"The code utilizes the BigInteger class to handle large integer values. Instead of directly attempting to create a BigInteger from Integer.MAX_VALUE + 1, it first converts the maximum value of an int to a string and then constructs a BigInteger from that string. Then, within a for loop, the code gradually increments the value of largeValue by one using the add(BigInteger.ONE) method and prints it in each iteration. This ensures that the numbers are handled correctly by BigInteger and prevents errors due to value overflow.\r\nEjemplo:\r\n\r\n \r\n\r\n       import java.math.BigInteger;\r\n    \r\n    public class Simple {\r\n        public static void main(String[] args) {\r\n            BigInteger largeValue = new BigInteger(Integer.toString(Integer.MAX_VALUE)).add(BigInteger.ONE);\r\n            for (int i = 0; i &lt; 4; i++) {\r\n                System.out.println(largeValue);\r\n                largeValue = largeValue.add(BigInteger.ONE);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n","title":"Can Anyone Explain This to Me?","body":"<p>The code utilizes the BigInteger class to handle large integer values. Instead of directly attempting to create a BigInteger from Integer.MAX_VALUE + 1, it first converts the maximum value of an int to a string and then constructs a BigInteger from that string. Then, within a for loop, the code gradually increments the value of largeValue by one using the add(BigInteger.ONE) method and prints it in each iteration. This ensures that the numbers are handled correctly by BigInteger and prevents errors due to value overflow.\nEjemplo:</p>\n<pre><code>   import java.math.BigInteger;\n\npublic class Simple {\n    public static void main(String[] args) {\n        BigInteger largeValue = new BigInteger(Integer.toString(Integer.MAX_VALUE)).add(BigInteger.ONE);\n        for (int i = 0; i &lt; 4; i++) {\n            System.out.println(largeValue);\n            largeValue = largeValue.add(BigInteger.ONE);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29305479,"reputation":11,"user_id":22452633,"display_name":"Samar Khan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1693292488,"accepted_answer_id":76984771,"answer_count":1,"score":-3,"last_activity_date":1693292387,"creation_date":1693082219,"question_id":76984749,"body_markdown":"I&#39;m New to java, and have been trying out different things in learning, but recently I ran into this error\r\n\r\n```error: cannot find symbol```\r\n\r\nI&#39;ve searched for answers on google but I still am not able to fully grasp the problem and it&#39;s solution. Maybe more experienced people here can help me out.\r\n\r\nThis is the code that I&#39;ve been trying to run:\r\n\r\n```java\r\npublic class simple\r\n{\r\n\tpublic static void main(String arg[])\r\n\t{\r\n\t\tBigInteger largeValue= new BigInteger(Integer.MAX_VALUE +1);\r\n\t\tfor( int i=0; i &lt; 4 ; i++)\r\n\t\t{\r\n\t\t\tSystem.out.println(largeValue);\r\n\t\t\tlargeValue = largeValue.add(BigInteger.ONE);   \r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nThis is the error that I&#39;m getting:\r\n\r\n```none\r\nsimple.java:5: error: cannot find symbol\r\n                BigInteger largeValue= new BigInteger(Integer.MAX_VALUE +1);\r\n                ^\r\n  symbol:   class BigInteger\r\n  location: class simple\r\nsimple.java:5: error: cannot find symbol\r\n                BigInteger largeValue= new BigInteger(Integer.MAX_VALUE +1);\r\n                                           ^\r\n  symbol:   class BigInteger\r\n  location: class simple\r\nsimple.java:9: error: cannot find symbol\r\n                        largeValue = largeValue.add(BigInteger.ONE);\r\n                                                    ^\r\n  symbol:   variable BigInteger\r\n  location: class simple\r\n3 errors\r\n```\r\n","title":"Can Anyone Explain This to Me?","body":"<p>I'm New to java, and have been trying out different things in learning, but recently I ran into this error</p>\n<p><code>error: cannot find symbol</code></p>\n<p>I've searched for answers on google but I still am not able to fully grasp the problem and it's solution. Maybe more experienced people here can help me out.</p>\n<p>This is the code that I've been trying to run:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class simple\n{\n    public static void main(String arg[])\n    {\n        BigInteger largeValue= new BigInteger(Integer.MAX_VALUE +1);\n        for( int i=0; i &lt; 4 ; i++)\n        {\n            System.out.println(largeValue);\n            largeValue = largeValue.add(BigInteger.ONE);   \n        }\n    }\n}\n</code></pre>\n<p>This is the error that I'm getting:</p>\n<pre class=\"lang-none prettyprint-override\"><code>simple.java:5: error: cannot find symbol\n                BigInteger largeValue= new BigInteger(Integer.MAX_VALUE +1);\n                ^\n  symbol:   class BigInteger\n  location: class simple\nsimple.java:5: error: cannot find symbol\n                BigInteger largeValue= new BigInteger(Integer.MAX_VALUE +1);\n                                           ^\n  symbol:   class BigInteger\n  location: class simple\nsimple.java:9: error: cannot find symbol\n                        largeValue = largeValue.add(BigInteger.ONE);\n                                                    ^\n  symbol:   variable BigInteger\n  location: class simple\n3 errors\n</code></pre>\n"},{"tags":["java","spring-boot","docker-compose","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693291848,"creation_date":1693291848,"answer_id":76997939,"question_id":76997902,"body_markdown":"If you are working with docker, you have to use the docker name instead of local host, if you want to call a service of an other docker:\r\n\r\n    .uri(&quot;http://mock-bank:8081/api/clients/&quot; + id)\r\n\r\nBecause in case of docker, localhost is the docker where your client runs.\r\n","title":"How to use WebClient for communication between two REST API services with docker","body":"<p>If you are working with docker, you have to use the docker name instead of local host, if you want to call a service of an other docker:</p>\n<pre><code>.uri(&quot;http://mock-bank:8081/api/clients/&quot; + id)\n</code></pre>\n<p>Because in case of docker, localhost is the docker where your client runs.</p>\n"}],"owner":{"account_id":15016352,"reputation":15,"user_id":18618035,"display_name":"Александр Гладун"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76997939,"answer_count":1,"score":0,"last_activity_date":1693291935,"creation_date":1693291537,"question_id":76997902,"body_markdown":"I&#39;m trying to communicate between two local api services using WebClient in a Docker environment. However, when I try to send a request, I get the following error:\r\n\r\n&gt; Request processing failed; nested exception is\r\n&gt; org.springframework.web.reactive.function.client.WebClientRequestException:\r\n&gt; finishConnect(..) failed: Connection refused:\r\n&gt; localhost/127.0.0.1:8081; nested exception is\r\n&gt; io.netty.channel.AbstractChannel$AnnotatedConnectException:\r\n&gt; finishConnect(..) failed: Connection refused:\r\n&gt; localhost/127.0.0.1:8081] with root cause\r\n\r\nI tried to run the program manually (without a Docker container) and it works. But when I try to run it in Docker, I get an error.\r\n\r\n*I assume that the error lies in the wrong port settings in Docker.*\r\n\r\nPart of my **docker-compose.yml** config\r\n\r\n```\r\n  backend:\r\n    image: &quot;backend-image&quot;\r\n    container_name: backend\r\n    build:\r\n      context: ./backend\r\n      dockerfile: Dockerfile\r\n    ports:\r\n      - &quot;8080:8080&quot;\r\n    depends_on:\r\n      - db\r\n    environment:\r\n      - SPRING_DATASOURCE_URL=jdbc:postgresql://db:5432/backend\r\n      - SPRING_DATASOURCE_USERNAME=postgres\r\n      - SPRING_DATASOURCE_PASSWORD=postgres\r\n      - SPRING_JPA_HIBERNATE_DDL_AUTO=update\r\n    networks:\r\n      - platform-network\r\n\r\n  mock-bank:\r\n    image: &quot;mock-bank-image&quot;\r\n    container_name: mock-bank\r\n    build:\r\n      context: ./mock-bank\r\n      dockerfile: Dockerfile\r\n    ports:\r\n      - &quot;8081:8081&quot;\r\n    depends_on:\r\n      - mock-bank-db\r\n    environment:\r\n      - SPRING_DATASOURCE_URL=jdbc:postgresql://mock-bank-db:5432/mock-bank\r\n      - SPRING_DATASOURCE_USERNAME=postgres\r\n      - SPRING_DATASOURCE_PASSWORD=postgres\r\n      - SPRING_JPA_HIBERNATE_DDL_AUTO=update\r\n    networks:\r\n      - platform-network\r\n```\r\n\r\nMy **ClientService.java** file in &quot;backend&quot; service\r\n\r\n```\r\npublic Client getBankClient(long id) {\r\n        Client client = webClientBuilder.build()\r\n                .get()\r\n                .uri(&quot;http://localhost:8081/api/clients/&quot; + id)\r\n                .retrieve()\r\n                .bodyToMono(Client.class)\r\n                .block();\r\n        return client\r\n}\r\n\r\n```\r\n\r\n*My &quot;backend&quot; service uses port 8080 and &quot;mock-bank&quot; service uses port 8081.\r\nI am accessing the &quot;mock-bank&quot; service*","title":"How to use WebClient for communication between two REST API services with docker","body":"<p>I'm trying to communicate between two local api services using WebClient in a Docker environment. However, when I try to send a request, I get the following error:</p>\n<blockquote>\n<p>Request processing failed; nested exception is\norg.springframework.web.reactive.function.client.WebClientRequestException:\nfinishConnect(..) failed: Connection refused:\nlocalhost/127.0.0.1:8081; nested exception is\nio.netty.channel.AbstractChannel$AnnotatedConnectException:\nfinishConnect(..) failed: Connection refused:\nlocalhost/127.0.0.1:8081] with root cause</p>\n</blockquote>\n<p>I tried to run the program manually (without a Docker container) and it works. But when I try to run it in Docker, I get an error.</p>\n<p><em>I assume that the error lies in the wrong port settings in Docker.</em></p>\n<p>Part of my <strong>docker-compose.yml</strong> config</p>\n<pre><code>  backend:\n    image: &quot;backend-image&quot;\n    container_name: backend\n    build:\n      context: ./backend\n      dockerfile: Dockerfile\n    ports:\n      - &quot;8080:8080&quot;\n    depends_on:\n      - db\n    environment:\n      - SPRING_DATASOURCE_URL=jdbc:postgresql://db:5432/backend\n      - SPRING_DATASOURCE_USERNAME=postgres\n      - SPRING_DATASOURCE_PASSWORD=postgres\n      - SPRING_JPA_HIBERNATE_DDL_AUTO=update\n    networks:\n      - platform-network\n\n  mock-bank:\n    image: &quot;mock-bank-image&quot;\n    container_name: mock-bank\n    build:\n      context: ./mock-bank\n      dockerfile: Dockerfile\n    ports:\n      - &quot;8081:8081&quot;\n    depends_on:\n      - mock-bank-db\n    environment:\n      - SPRING_DATASOURCE_URL=jdbc:postgresql://mock-bank-db:5432/mock-bank\n      - SPRING_DATASOURCE_USERNAME=postgres\n      - SPRING_DATASOURCE_PASSWORD=postgres\n      - SPRING_JPA_HIBERNATE_DDL_AUTO=update\n    networks:\n      - platform-network\n</code></pre>\n<p>My <strong>ClientService.java</strong> file in &quot;backend&quot; service</p>\n<pre><code>public Client getBankClient(long id) {\n        Client client = webClientBuilder.build()\n                .get()\n                .uri(&quot;http://localhost:8081/api/clients/&quot; + id)\n                .retrieve()\n                .bodyToMono(Client.class)\n                .block();\n        return client\n}\n\n</code></pre>\n<p><em>My &quot;backend&quot; service uses port 8080 and &quot;mock-bank&quot; service uses port 8081.\nI am accessing the &quot;mock-bank&quot; service</em></p>\n"},{"tags":["java","scala","maven-plugin","licensing","scalastyle"],"owner":{"account_id":14823339,"reputation":594,"user_id":10704952,"display_name":"Vijay Jangir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693291871,"creation_date":1693291272,"question_id":76997878,"body_markdown":"Whenever we build a new class on top of open source, we usually add our own licence (instead of the apache one, which is there by default in our open source project).\r\nNow the problem is scala style sheet checks for headers using org.scalastyle.file.HeaderMatchesChecker for Apache licence (it&#39;s hard coded as it&#39;s an open source apache project).\r\n\r\nNow i want to make a change and allow the scala style, if any of the 2 licence work. example below\r\n\r\nApache Licence\r\n    /*\r\n     * Licence to Apache\r\n     * some other info\r\n     * url\r\n     */\r\n\r\nCustom Licence\r\n    /*\r\n     * Licence to SomeLicence\r\n     * some other info\r\n     * url\r\n     */\r\n\r\nI want the style to pass if any of these 2 licence is available in header.\r\nI&#39;ve already added this licence to RAT plugin, but need this in scala as well.\r\ni tried adding another entry of `&lt;check level=&quot;error&quot; class=&quot;org.scalastyle.file.HeaderMatchesChecker&quot; enabled=&quot;true&quot;&gt;`\r\nbut that doesn&#39;t work`\r\n\r\nI want to add 2 different licence check,  an or style check . i tried below\r\n\r\n           &lt;parameter name=&quot;regex&quot;&gt;true&lt;/parameter&gt;\r\n           &lt;parameter name=&quot;header&quot;&gt;(&lt;![CDATA[/*\r\n     * Licensed to the Apache Software Foundation (ASF) under one or more\r\n     * contributor license agreements. \r\n     * ......\r\n     */]]&gt;)|(&lt;![CDATA[/*\r\n     * Licensed to the Some Other Foundation (SOF) under one or more\r\n     * contributor license agreements. \r\n     * ......\r\n     */]]&gt;)\r\n    &lt;/parameter&gt;\r\n\r\neven this doesn&#39;t work. \r\n\r\n\r\n\r\n","title":"Check multiple header using Scalastylesheet org.scalastyle.file.HeaderMatchesChecker","body":"<p>Whenever we build a new class on top of open source, we usually add our own licence (instead of the apache one, which is there by default in our open source project).\nNow the problem is scala style sheet checks for headers using org.scalastyle.file.HeaderMatchesChecker for Apache licence (it's hard coded as it's an open source apache project).</p>\n<p>Now i want to make a change and allow the scala style, if any of the 2 licence work. example below</p>\n<p>Apache Licence\n/*\n* Licence to Apache\n* some other info\n* url\n*/</p>\n<p>Custom Licence\n/*\n* Licence to SomeLicence\n* some other info\n* url\n*/</p>\n<p>I want the style to pass if any of these 2 licence is available in header.\nI've already added this licence to RAT plugin, but need this in scala as well.\ni tried adding another entry of <code>&lt;check level=&quot;error&quot; class=&quot;org.scalastyle.file.HeaderMatchesChecker&quot; enabled=&quot;true&quot;&gt;</code>\nbut that doesn't work`</p>\n<p>I want to add 2 different licence check,  an or style check . i tried below</p>\n<pre><code>       &lt;parameter name=&quot;regex&quot;&gt;true&lt;/parameter&gt;\n       &lt;parameter name=&quot;header&quot;&gt;(&lt;![CDATA[/*\n * Licensed to the Apache Software Foundation (ASF) under one or more\n * contributor license agreements. \n * ......\n */]]&gt;)|(&lt;![CDATA[/*\n * Licensed to the Some Other Foundation (SOF) under one or more\n * contributor license agreements. \n * ......\n */]]&gt;)\n&lt;/parameter&gt;\n</code></pre>\n<p>even this doesn't work.</p>\n"},{"tags":["java","annotations"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1693290699,"post_id":76997750,"comment_id":135737355,"body_markdown":"Yes, you need reflection to access annotations. I&#39;m not sure why you would expect `a.value()` to work. Annotating a class doesn&#39;t magically inject instance methods into it.","body":"Yes, you need reflection to access annotations. I&#39;m not sure why you would expect <code>a.value()</code> to work. Annotating a class doesn&#39;t magically inject instance methods into it."},{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1693290938,"post_id":76997750,"comment_id":135737383,"body_markdown":"What might be confusing is that an annotation is defined with `@interface`, so you might think that it&#39;s just like an interface - but it is really not. When you annotate a class, then the class does not implement the methods of the annotation, just like it would with an interface.","body":"What might be confusing is that an annotation is defined with <code>@interface</code>, so you might think that it&#39;s just like an interface - but it is really not. When you annotate a class, then the class does not implement the methods of the annotation, just like it would with an interface."},{"owner":{"account_id":17436433,"reputation":101,"user_id":12639323,"display_name":"tohardtme"},"score":0,"creation_date":1693375699,"post_id":76997750,"comment_id":135750578,"body_markdown":"Oh, right. I thought it worked like an interface. It also looks similar to Python&#39;s decorators, which adds to the confusion. Thanks, everyone.","body":"Oh, right. I thought it worked like an interface. It also looks similar to Python&#39;s decorators, which adds to the confusion. Thanks, everyone."}],"answers":[{"tags":[],"owner":{"account_id":11485730,"reputation":407,"user_id":8418469,"display_name":"prabu naresh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1693291157,"creation_date":1693289953,"answer_id":76997771,"question_id":76997750,"body_markdown":"In your current code, the issue you&#39;re facing is due to the fact that you&#39;re trying to call the method `value()` on an instance of class `A`. However, `value()` is not a method of class `A`; it&#39;s a method of the annotation `@MyRuntimeAnnotation`.\r\n\r\n    import java.lang.annotation.Annotation;\r\n    import java.lang.reflect.Method;\r\n    \r\n    public class Main {\r\n        \r\n        public static void main(String[] args) {\r\n            A a = new A();\r\n            \r\n            Class&lt;?&gt; aClass = a.getClass();\r\n            MyRuntimeAnnotation annotation = aClass.getAnnotation(MyRuntimeAnnotation.class);\r\n            \r\n            if (annotation != null) {\r\n                String value = annotation.value();\r\n                System.out.println(&quot;Annotation value: &quot; + value);\r\n            } else {\r\n                System.out.println(&quot;Annotation not found&quot;);\r\n            }\r\n        }\r\n    }\r\n    \r\n    @MyRuntimeAnnotation\r\n    class A {\r\n        public void test() {\r\n            System.out.println(&quot;A&quot;);\r\n        }\r\n    }\r\n\r\nThis code uses reflection to access the annotation on class `A` and retrieve the value of the annotation&#39;s `value` element.\r\n\r\nWhen you want to access values from runtime annotations, you generally use reflection to retrieve those values.","title":"Is it possible to directly call a function defined in the annotation?","body":"<p>In your current code, the issue you're facing is due to the fact that you're trying to call the method <code>value()</code> on an instance of class <code>A</code>. However, <code>value()</code> is not a method of class <code>A</code>; it's a method of the annotation <code>@MyRuntimeAnnotation</code>.</p>\n<pre><code>import java.lang.annotation.Annotation;\nimport java.lang.reflect.Method;\n\npublic class Main {\n    \n    public static void main(String[] args) {\n        A a = new A();\n        \n        Class&lt;?&gt; aClass = a.getClass();\n        MyRuntimeAnnotation annotation = aClass.getAnnotation(MyRuntimeAnnotation.class);\n        \n        if (annotation != null) {\n            String value = annotation.value();\n            System.out.println(&quot;Annotation value: &quot; + value);\n        } else {\n            System.out.println(&quot;Annotation not found&quot;);\n        }\n    }\n}\n\n@MyRuntimeAnnotation\nclass A {\n    public void test() {\n        System.out.println(&quot;A&quot;);\n    }\n}\n</code></pre>\n<p>This code uses reflection to access the annotation on class <code>A</code> and retrieve the value of the annotation's <code>value</code> element.</p>\n<p>When you want to access values from runtime annotations, you generally use reflection to retrieve those values.</p>\n"}],"owner":{"account_id":17436433,"reputation":101,"user_id":12639323,"display_name":"tohardtme"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76997771,"answer_count":1,"score":1,"last_activity_date":1693291157,"creation_date":1693289656,"question_id":76997750,"body_markdown":"I am a Java beginner and I am studying annotations.\r\n\r\nBelow is my code.\r\n```java\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\n\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface MyRuntimeAnnotation {\r\n    String value() default &quot;default value&quot;;\r\n}\r\n\r\n----\r\n\r\npublic class Main {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tA a = new A();\r\n\t\tSystem.out.println(a.value()); // Error\r\n\t}\r\n}\r\n\r\n@MyRuntimeAnnotation\r\nclass A{\r\n\tpublic void test() {System.out.println(&quot;A&quot;);}\r\n}\r\n```\r\n\r\n\r\nI&#39;ve tried to speculate why my code is producing an error for the following reasons. From reading multiple articles, it&#39;s said that the annotation processor can only generate new source files but not modify existing files. \r\n\r\nBased on my assumptions:\r\n\r\n`@Retention(RetentionPolicy.SOURCE)` -&gt; Disappears at compile time\r\n`@Retention(RetentionPolicy.CLASS)` -&gt; Doesn&#39;t load at runtime\r\n`@Retention(RetentionPolicy.RUNTIME)` -&gt; Loads at runtime\r\n\r\nFrom the compiler&#39;s perspective, `a.value()` is just a method that is not defined in B. So, if I want to use a Runtime annotation, is the only option to extract information using reflection?\r\n\r\n","title":"Is it possible to directly call a function defined in the annotation?","body":"<p>I am a Java beginner and I am studying annotations.</p>\n<p>Below is my code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\n\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface MyRuntimeAnnotation {\n    String value() default &quot;default value&quot;;\n}\n\n----\n\npublic class Main {\n    \n    public static void main(String[] args) {\n        A a = new A();\n        System.out.println(a.value()); // Error\n    }\n}\n\n@MyRuntimeAnnotation\nclass A{\n    public void test() {System.out.println(&quot;A&quot;);}\n}\n</code></pre>\n<p>I've tried to speculate why my code is producing an error for the following reasons. From reading multiple articles, it's said that the annotation processor can only generate new source files but not modify existing files.</p>\n<p>Based on my assumptions:</p>\n<p><code>@Retention(RetentionPolicy.SOURCE)</code> -&gt; Disappears at compile time\n<code>@Retention(RetentionPolicy.CLASS)</code> -&gt; Doesn't load at runtime\n<code>@Retention(RetentionPolicy.RUNTIME)</code> -&gt; Loads at runtime</p>\n<p>From the compiler's perspective, <code>a.value()</code> is just a method that is not defined in B. So, if I want to use a Runtime annotation, is the only option to extract information using reflection?</p>\n"},{"tags":["java","mockito"],"answers":[{"tags":[],"owner":{"account_id":27723852,"reputation":1,"user_id":21163844,"display_name":"Filippo Prayer Galletti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675782364,"creation_date":1675781843,"answer_id":75375117,"question_id":74844232,"body_markdown":"I encountered the same issue in these past days and, unfortunately, I didn&#39;t find any solution for this problem. In my opinion is a bug of the new version of Mockito.\r\n\r\nI became really mad about this problem so my suggestion is to change approach and don&#39;t mock the URL.class but injecting a local file URL (like file:///C:/Users/&lt;your_repo&gt;/src/test/resources/_temp/file.txt) as input string parameter (the &quot;address&quot; in your case).\r\n\r\nDoing that, you don&#39;t need to mock the constructor of URL.class and still your test won&#39;t do any external connection, effectively remaining a unit test.","title":"Using Mockito MockedConstruction throws NoClassDefFoundError","body":"<p>I encountered the same issue in these past days and, unfortunately, I didn't find any solution for this problem. In my opinion is a bug of the new version of Mockito.</p>\n<p>I became really mad about this problem so my suggestion is to change approach and don't mock the URL.class but injecting a local file URL (like file:///C:/Users/&lt;your_repo&gt;/src/test/resources/_temp/file.txt) as input string parameter (the &quot;address&quot; in your case).</p>\n<p>Doing that, you don't need to mock the constructor of URL.class and still your test won't do any external connection, effectively remaining a unit test.</p>\n"},{"tags":[],"owner":{"account_id":29318928,"reputation":1,"user_id":22462960,"display_name":"Peter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693285791,"creation_date":1693285791,"answer_id":76997456,"question_id":74844232,"body_markdown":"**Short answer:** Either change the first few lines of your code to:\r\n\r\n    @Test\r\n    public void givenMockedUrl_whenRequestSent_thenHttpOKReceivedSuccessfully() throws IOException {\r\n        // Add this line below\r\n        UrlFetcher dummy = new UrlFetcher(&quot;https://www.google.com/&quot;);\r\n        try (MockedConstruction&lt;URL&gt; mocked = Mockito.mockConstruction(URL.class, (mock, context) -&gt; {\r\n\r\nor don&#39;t use ***mockConstruction*** with URL.\r\n\r\n**Long answer:** Within the ***mockConstruction*** block, the construction of a URL is being handled by mockito. However, instantiation of UrlFetcher requires the class to be loaded, and that requires.... URL. \r\nYou can either force the class to be loaded before the ***mockConstruction*** block, or - better - don&#39;t use ***mockConstruction*** with URL at all.\r\n\r\n","title":"Using Mockito MockedConstruction throws NoClassDefFoundError","body":"<p><strong>Short answer:</strong> Either change the first few lines of your code to:</p>\n<pre><code>@Test\npublic void givenMockedUrl_whenRequestSent_thenHttpOKReceivedSuccessfully() throws IOException {\n    // Add this line below\n    UrlFetcher dummy = new UrlFetcher(&quot;https://www.google.com/&quot;);\n    try (MockedConstruction&lt;URL&gt; mocked = Mockito.mockConstruction(URL.class, (mock, context) -&gt; {\n</code></pre>\n<p>or don't use <em><strong>mockConstruction</strong></em> with URL.</p>\n<p><strong>Long answer:</strong> Within the <em><strong>mockConstruction</strong></em> block, the construction of a URL is being handled by mockito. However, instantiation of UrlFetcher requires the class to be loaded, and that requires.... URL.\nYou can either force the class to be loaded before the <em><strong>mockConstruction</strong></em> block, or - better - don't use <em><strong>mockConstruction</strong></em> with URL at all.</p>\n"},{"tags":[],"owner":{"account_id":24224809,"reputation":363,"user_id":18179479,"display_name":"Mircea Sirghi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693290788,"creation_date":1693290788,"answer_id":76997833,"question_id":74844232,"body_markdown":"No prob. \r\n\r\n     @Test\r\n        public void test1() throws IOException, ClassNotFoundException, NoSuchFieldException, NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException {\r\n            URL url = Mockito.mock(URL.class);\r\n            HttpURLConnection con = Mockito.mock(HttpURLConnection.class);\r\n            \r\n            when(url.openConnection()).thenReturn(con);\r\n            when(con.getResponseCode()).thenReturn(HttpURLConnection.HTTP_BAD_REQUEST);\r\n    \r\n            Class&lt;?&gt; fetcherClass = Class.forName(&quot;com.example.demo.UrlFetcher&quot;);\r\n            Field field = fetcherClass.getDeclaredField(&quot;url&quot;);\r\n            field.setAccessible(true);\r\n            UrlFetcher fetcher = new UrlFetcher(&quot;https://www.google.com/&quot;);\r\n            field.set(fetcher, url);\r\n           \r\n            assertEquals(HttpURLConnection.HTTP_BAD_REQUEST, fetcher.getResponseCode());\r\n        }","title":"Using Mockito MockedConstruction throws NoClassDefFoundError","body":"<p>No prob.</p>\n<pre><code> @Test\n    public void test1() throws IOException, ClassNotFoundException, NoSuchFieldException, NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException {\n        URL url = Mockito.mock(URL.class);\n        HttpURLConnection con = Mockito.mock(HttpURLConnection.class);\n        \n        when(url.openConnection()).thenReturn(con);\n        when(con.getResponseCode()).thenReturn(HttpURLConnection.HTTP_BAD_REQUEST);\n\n        Class&lt;?&gt; fetcherClass = Class.forName(&quot;com.example.demo.UrlFetcher&quot;);\n        Field field = fetcherClass.getDeclaredField(&quot;url&quot;);\n        field.setAccessible(true);\n        UrlFetcher fetcher = new UrlFetcher(&quot;https://www.google.com/&quot;);\n        field.set(fetcher, url);\n       \n        assertEquals(HttpURLConnection.HTTP_BAD_REQUEST, fetcher.getResponseCode());\n    }\n</code></pre>\n"}],"owner":{"account_id":1588905,"reputation":335,"user_id":1472672,"accept_rate":0,"display_name":"user1472672"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":513,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1693290788,"creation_date":1671395916,"question_id":74844232,"body_markdown":"I have a simple class for fetching a URL:\r\n```\r\npublic class UrlFetcher {\r\n\r\n    private URL url;\r\n\r\n    public UrlFetcher(String address) throws IOException {\r\n        url = new URL(address);\r\n    }\r\n\r\n    public int getResponseCode() throws IOException {\r\n        HttpURLConnection con = (HttpURLConnection) url.openConnection();\r\n        return con.getResponseCode();\r\n    }\r\n\r\n}\r\n```\r\n\r\nI am experimenting with Mockito inline-mockmaker and MockedConstruction class:\r\n\r\n```\r\n    @Test\r\n    public void givenMockedUrl_whenRequestSent_thenHttpOKReceivedSuccessfully() throws IOException {\r\n        try (MockedConstruction&lt;URL&gt; mocked = Mockito.mockConstruction(URL.class, (mock, context) -&gt; {\r\n            \r\n            HttpURLConnection mockConnection = Mockito.mock(HttpURLConnection.class);\r\n            Mockito.when(mockConnection.getResponseCode()).thenReturn(HttpURLConnection.HTTP_BAD_REQUEST);\r\n\r\n            Mockito.when(mock.openConnection()).thenReturn(mockConnection);\r\n            \r\n            \r\n        })) {\r\n            UrlFetcher fetcher = new UrlFetcher(&quot;https://www.google.com/&quot;);\r\n            assertEquals(HttpURLConnection.HTTP_BAD_REQUEST, fetcher.getResponseCode());\r\n        }\r\n        \r\n    }\r\n```\r\n\r\nI am trying to mock the url in the constructor, but when I run my test it says:\r\n```\r\njava.lang.NoClassDefFoundError: com/mypackage/mock/url/UrlFetcher\r\n\tat com.mypackage.mock.url.UrlFetcherMockitoUnitTest.givenMockedUrl_whenRequestSent_thenHttpOKReceivedSuccessfully(UrlFetcherMockitoUnitTest.java:28)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\r\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:115)\r\n\tat org.junit.vintage.engine.execution.RunnerExecutor.execute(RunnerExecutor.java:42)\r\n\tat org.junit.vintage.engine.VintageTestEngine.executeAllChildren(VintageTestEngine.java:80)\r\n\tat org.junit.vintage.engine.VintageTestEngine.execute(VintageTestEngine.java:72)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60)\r\n\tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:768)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:464)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\nCaused by: java.lang.ClassNotFoundException: com.mypackage.mock.url.UrlFetcher\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:387)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\t... 41 more\r\n\r\n\r\n```\r\n\r\nI don&#39;t really understand the error. If I remove the MockedConstruction the NoClassDefFounderror goes away.\r\n\r\nI&#39;m using Mockito core 4.4.0 and mockito-incline 4.4.0\r\n\r\nThanks\r\n\r\n","title":"Using Mockito MockedConstruction throws NoClassDefFoundError","body":"<p>I have a simple class for fetching a URL:</p>\n<pre><code>public class UrlFetcher {\n\n    private URL url;\n\n    public UrlFetcher(String address) throws IOException {\n        url = new URL(address);\n    }\n\n    public int getResponseCode() throws IOException {\n        HttpURLConnection con = (HttpURLConnection) url.openConnection();\n        return con.getResponseCode();\n    }\n\n}\n</code></pre>\n<p>I am experimenting with Mockito inline-mockmaker and MockedConstruction class:</p>\n<pre><code>    @Test\n    public void givenMockedUrl_whenRequestSent_thenHttpOKReceivedSuccessfully() throws IOException {\n        try (MockedConstruction&lt;URL&gt; mocked = Mockito.mockConstruction(URL.class, (mock, context) -&gt; {\n            \n            HttpURLConnection mockConnection = Mockito.mock(HttpURLConnection.class);\n            Mockito.when(mockConnection.getResponseCode()).thenReturn(HttpURLConnection.HTTP_BAD_REQUEST);\n\n            Mockito.when(mock.openConnection()).thenReturn(mockConnection);\n            \n            \n        })) {\n            UrlFetcher fetcher = new UrlFetcher(&quot;https://www.google.com/&quot;);\n            assertEquals(HttpURLConnection.HTTP_BAD_REQUEST, fetcher.getResponseCode());\n        }\n        \n    }\n</code></pre>\n<p>I am trying to mock the url in the constructor, but when I run my test it says:</p>\n<pre><code>java.lang.NoClassDefFoundError: com/mypackage/mock/url/UrlFetcher\n    at com.mypackage.mock.url.UrlFetcherMockitoUnitTest.givenMockedUrl_whenRequestSent_thenHttpOKReceivedSuccessfully(UrlFetcherMockitoUnitTest.java:28)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:115)\n    at org.junit.vintage.engine.execution.RunnerExecutor.execute(RunnerExecutor.java:42)\n    at org.junit.vintage.engine.VintageTestEngine.executeAllChildren(VintageTestEngine.java:80)\n    at org.junit.vintage.engine.VintageTestEngine.execute(VintageTestEngine.java:72)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60)\n    at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:768)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:464)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\nCaused by: java.lang.ClassNotFoundException: com.mypackage.mock.url.UrlFetcher\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    ... 41 more\n\n\n</code></pre>\n<p>I don't really understand the error. If I remove the MockedConstruction the NoClassDefFounderror goes away.</p>\n<p>I'm using Mockito core 4.4.0 and mockito-incline 4.4.0</p>\n<p>Thanks</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1693287733,"post_id":76997573,"comment_id":135736975,"body_markdown":"https://stackoverflow.com/questions/21005205/what-causes-constant-expression-required-errors-for-the-generated-r-id-xxx-val","body":"<a href=\"https://stackoverflow.com/questions/21005205/what-causes-constant-expression-required-errors-for-the-generated-r-id-xxx-val\" title=\"what causes constant expression required errors for the generated r id xxx val\">stackoverflow.com/questions/21005205/&hellip;</a>"}],"owner":{"account_id":24591453,"reputation":3,"user_id":18495283,"display_name":"Nabil Aiman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1693292322,"answer_count":0,"score":0,"last_activity_date":1693289879,"creation_date":1693287519,"question_id":76997573,"body_markdown":"    public void displaySelectedListener(int itemId) {\r\n        Fragment fragment = null;\r\n\r\n        switch (itemId) {\r\n            case R.id.dashboard:\r\n                break;\r\n\r\n            case R.id.income:\r\n                break;\r\n\r\n            case R.id.expense:\r\n                break;\r\n\r\n        }\r\n\r\n        if (fragment != null) {\r\n\r\n            FragmentTransaction ft = getSupportFragmentManager().beginTransaction();\r\n            ft.replace(R.id.mainFrame, fragment);\r\n            ft.commit();\r\n        }\r\n\r\n        DrawerLayout drawerLayout=findViewById(R.id.drawer_layout);\r\n        drawerLayout.closeDrawer(GravityCompat.START);\r\n    }\r\n\r\nI&#39;m watching a tutorial video and the guy just wrote dashboard, income and expense without a problem, but for me it keeps on saying `Constant expression required`.","title":"why is it saying Constant expression required?","body":"<pre><code>public void displaySelectedListener(int itemId) {\n    Fragment fragment = null;\n\n    switch (itemId) {\n        case R.id.dashboard:\n            break;\n\n        case R.id.income:\n            break;\n\n        case R.id.expense:\n            break;\n\n    }\n\n    if (fragment != null) {\n\n        FragmentTransaction ft = getSupportFragmentManager().beginTransaction();\n        ft.replace(R.id.mainFrame, fragment);\n        ft.commit();\n    }\n\n    DrawerLayout drawerLayout=findViewById(R.id.drawer_layout);\n    drawerLayout.closeDrawer(GravityCompat.START);\n}\n</code></pre>\n<p>I'm watching a tutorial video and the guy just wrote dashboard, income and expense without a problem, but for me it keeps on saying <code>Constant expression required</code>.</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":11629093,"reputation":2552,"user_id":8517948,"accept_rate":100,"display_name":"LW001"},"score":0,"creation_date":1693081498,"post_id":76983681,"comment_id":135713860,"body_markdown":"And what is your question? Please read [ask] and the [tour] and [edit] your question to provide an actual question that can be answered. Stack Overflow is not a code writing/debugging service.","body":"And what is your question? Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and the <a href=\"https://stackoverflow.com/tour\">tour</a> and <a href=\"https://stackoverflow.com/posts/76983681/edit\">edit</a> your question to provide an actual question that can be answered. Stack Overflow is not a code writing/debugging service."}],"answers":[{"tags":[],"owner":{"account_id":15994883,"reputation":3427,"user_id":11543023,"display_name":"djmonki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693288929,"creation_date":1693288929,"answer_id":76997677,"question_id":76983681,"body_markdown":"Exception ``` java.lang.NoClassDefFoundError: com/google/common/io/ByteStreams```  indicates that your project is missing the ```Guava``` library which is a required dependency for ```Selenium```, in the context of using ```ChromeDriver```\r\n\r\nAdd the following to your pom.xml:   \r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n    &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n    &lt;version&gt;32.1.2-jre&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Having an error in my first selenium program","body":"<p>Exception <code> java.lang.NoClassDefFoundError: com/google/common/io/ByteStreams</code>  indicates that your project is missing the <code>Guava</code> library which is a required dependency for <code>Selenium</code>, in the context of using <code>ChromeDriver</code></p>\n<p>Add the following to your pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n    &lt;artifactId&gt;guava&lt;/artifactId&gt;\n    &lt;version&gt;32.1.2-jre&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":29303593,"reputation":1,"user_id":22451187,"display_name":"learner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693288929,"creation_date":1693064377,"question_id":76983681,"body_markdown":"**CODE**\r\n```java\r\npackage testing;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\n\r\npublic class demooo {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n           System.out.println(&quot;hi&quot;);\r\n           System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\kavya\\\\Downloads\\\\\r\n           chromedriver-win64\\\\chromedriver-win64\\\\chromedriver.exe&quot;);\r\n           WebDriver driver = new ChromeDriver();\r\n           driver.get(&quot;https://www.gmail.com/&quot;);\r\n\t}\r\n}\r\n````\r\n**ERROR**\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/google/common/io/ByteStreams\r\n```","title":"Having an error in my first selenium program","body":"<p><strong>CODE</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package testing;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class demooo {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n           System.out.println(&quot;hi&quot;);\n           System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\kavya\\\\Downloads\\\\\n           chromedriver-win64\\\\chromedriver-win64\\\\chromedriver.exe&quot;);\n           WebDriver driver = new ChromeDriver();\n           driver.get(&quot;https://www.gmail.com/&quot;);\n    }\n}\n</code></pre>\n<p><strong>ERROR</strong></p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/google/common/io/ByteStreams\n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":19385930,"reputation":31,"user_id":14175625,"display_name":"Sơn Ho&#224;ng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693288841,"creation_date":1693288841,"question_id":76997671,"body_markdown":"I&#39;ve make an app to record the device screen but not for save to video, my purpose is to access the video frame while recoding to do some AI task.\r\nI&#39;ve try with MediaProjection and ImageReader. I&#39;ve success receive the frame but there are problem.\r\n\r\nI&#39;ve run and test on my 2 device: OPPO F11 and Redmi Note 11S\r\n\r\n- On OPPO F11, if using ImageFormat is JPEG, i will receive graphic buffer allowcate error. It working for ImageFormat RGB_565 or YUV_420_888\r\n- On Redmi, i only can use the ImageFormat JPEG because there will be error indicate that output producer output image with that type, so i can&#39;t use other ImageFormat type.\r\n\r\nAnyone have problem like this and Are there any other method to making the app logic like i want.\r\n\r\nThis is my current code:\r\n\r\n```java\r\npackage com.example.faceextract;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport android.Manifest;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.BitmapFactory;\r\nimport android.graphics.Canvas;\r\nimport android.graphics.ImageFormat;\r\nimport android.graphics.Point;\r\nimport android.graphics.Rect;\r\nimport android.graphics.YuvImage;\r\nimport android.hardware.display.DisplayManager;\r\nimport android.hardware.display.VirtualDisplay;\r\nimport android.media.Image;\r\nimport android.media.ImageReader;\r\nimport android.media.MediaRecorder;\r\nimport android.media.projection.MediaProjection;\r\nimport android.media.projection.MediaProjectionManager;\r\nimport android.nfc.Tag;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.os.Environment;\r\nimport android.os.Handler;\r\nimport android.os.Looper;\r\nimport android.renderscript.RenderScript;\r\nimport android.util.DisplayMetrics;\r\nimport android.util.Log;\r\nimport android.view.Display;\r\nimport android.view.Surface;\r\nimport android.view.SurfaceHolder;\r\nimport android.view.SurfaceView;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.Toast;\r\n\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.File;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.lang.reflect.Type;\r\nimport java.nio.Buffer;\r\nimport java.nio.ByteBuffer;\r\nimport java.time.LocalDateTime;\r\nimport java.time.format.DateTimeFormatter;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private static final int REQUEST_CODE = 1000;\r\n    private int screenDensity;\r\n    private MediaProjectionManager mediaProjectionManager;\r\n    private MediaProjection mediaProjection;\r\n    private VirtualDisplay virtualDisplay;\r\n    private MediaRecorder mediaRecorder;\r\n    private Button startBtn;\r\n    private Button stopBtn;\r\n    private static final int AUDIO_PERMISSION_REQUEST_CODE = 1001;\r\n\r\n    private int width = 720, height = 1280;\r\n\r\n    private ImageReader mImageReader;\r\n    private Handler mHandler = new Handler(Looper.getMainLooper());\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        // Get references to UI elements\r\n        startBtn = findViewById(R.id.btn_start_recording);\r\n        stopBtn = findViewById(R.id.btn_stop_recording);\r\n\r\n        // Get screen density\r\n        DisplayMetrics metrics = new DisplayMetrics();\r\n        getWindowManager().getDefaultDisplay().getMetrics(metrics);\r\n        screenDensity = metrics.densityDpi;\r\n        // Initialize media projection manager\r\n        mediaProjectionManager = (MediaProjectionManager) getSystemService(Context.MEDIA_PROJECTION_SERVICE);\r\n\r\n        startBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                requestRecordingPermissionsAndStart();\r\n            }\r\n        });\r\n\r\n        stopBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                stopRecording();\r\n            }\r\n        });\r\n\r\n        // start capture handling thread\r\n        new Thread() {\r\n            @Override\r\n            public void run() {\r\n                Looper.prepare();\r\n                mHandler = new Handler();\r\n                Looper.loop();\r\n            }\r\n        }.start();\r\n    }\r\n\r\n    private void requestRecordingPermissionsAndStart() {\r\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.RECORD_AUDIO) == PackageManager.PERMISSION_GRANTED) {\r\n            Log.i(&quot;DEBUGGGGGG&quot;, &quot;v&#224;o&quot;);\r\n            startRecording();\r\n        } else {\r\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.RECORD_AUDIO}, AUDIO_PERMISSION_REQUEST_CODE);\r\n        }\r\n    }\r\n\r\n    private void startRecording() {\r\n        startBtn.setEnabled(false);\r\n        stopBtn.setEnabled(true);\r\n        try {\r\n\r\n            // Request permission to capture the screen\r\n            // Inside MainActivity&#39;s startRecording method\r\n            Intent serviceIntent = new Intent(this, MediaProjectionService.class);\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                startForegroundService(serviceIntent);\r\n            } else {\r\n                startService(serviceIntent);\r\n            }\r\n            startActivityForResult(mediaProjectionManager.createScreenCaptureIntent(), REQUEST_CODE);\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void stopRecording() {\r\n        startBtn.setEnabled(true);\r\n        stopBtn.setEnabled(false);\r\n        mediaProjection.stop();\r\n        mediaProjection = null;\r\n\r\n        virtualDisplay.release();\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n\r\n        if (requestCode == AUDIO_PERMISSION_REQUEST_CODE) {\r\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                // Audio permission granted, you can start recording\r\n                startRecording();\r\n            } else {\r\n                // Audio permission denied, handle accordingly\r\n                Toast.makeText(this, &quot;Audio permission denied&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode != REQUEST_CODE) {\r\n            Log.e(&quot;MainActivity&quot;, &quot;Unknown request code: &quot; + requestCode);\r\n            return;\r\n        }\r\n        if (resultCode != RESULT_OK) {\r\n            startBtn.setEnabled(true);\r\n            stopBtn.setEnabled(false);\r\n            Toast.makeText(this,\r\n                    &quot;Screen Cast Permission Denied&quot;, Toast.LENGTH_SHORT).show();\r\n            return;\r\n        }\r\n        mediaProjection = mediaProjectionManager.getMediaProjection(resultCode, data);\r\n        mImageReader = ImageReader.newInstance(width, height, ImageFormat.YUV_420_888, 1);\r\n        virtualDisplay = createVirtualDisplay(mImageReader.getSurface());\r\n\r\n        mImageReader.setOnImageAvailableListener(new ImageReader.OnImageAvailableListener() {\r\n            @Override\r\n            public void onImageAvailable(ImageReader reader) {\r\n                Log.i(&quot;OK&quot;,&quot;FORMAT&quot; +  reader.getImageFormat());\r\n                Image image = null;\r\n                FileOutputStream fos = null;\r\n                Bitmap bitmap = null;\r\n                try {\r\n                    image = reader.acquireNextImage();\r\n\r\n                    if(image != null) {\r\n//                        Image.Plane[] planes = image.getPlanes();\r\n\r\n                    }\r\n\r\n                    image.close();\r\n                }catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }, mHandler);\r\n    }\r\n\r\n    private VirtualDisplay createVirtualDisplay(Surface surface) {\r\n        final int flags = DisplayManager.VIRTUAL_DISPLAY_FLAG_OWN_CONTENT_ONLY | DisplayManager.VIRTUAL_DISPLAY_FLAG_PUBLIC;\r\n        return mediaProjection.createVirtualDisplay(&quot;MainActivity&quot;,\r\n                width,height, screenDensity,\r\n                flags,\r\n                surface, new VirtualDisplayCallback(), mHandler);\r\n    }\r\n\r\n    private class VirtualDisplayCallback extends VirtualDisplay.Callback {\r\n        @Override\r\n        public void onPaused() {\r\n            super.onPaused();\r\n            Log.e(&quot;VIRTUAL&quot;, &quot;VirtualDisplayCallback: onPaused&quot;);\r\n        }\r\n\r\n        @Override\r\n        public void onResumed() {\r\n            super.onResumed();\r\n            Log.e(&quot;VIRTUAL&quot;, &quot;VirtualDisplayCallback: onResumed&quot;);\r\n        }\r\n\r\n        @Override\r\n        public void onStopped() {\r\n            super.onStopped();\r\n            Log.e(&quot;VIRTUAL&quot;, &quot;VirtualDisplayCallback: onStopped&quot;);\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nThanks for your time reading and helping","title":"Android frame recorder with accessing frame for analyst","body":"<p>I've make an app to record the device screen but not for save to video, my purpose is to access the video frame while recoding to do some AI task.\nI've try with MediaProjection and ImageReader. I've success receive the frame but there are problem.</p>\n<p>I've run and test on my 2 device: OPPO F11 and Redmi Note 11S</p>\n<ul>\n<li>On OPPO F11, if using ImageFormat is JPEG, i will receive graphic buffer allowcate error. It working for ImageFormat RGB_565 or YUV_420_888</li>\n<li>On Redmi, i only can use the ImageFormat JPEG because there will be error indicate that output producer output image with that type, so i can't use other ImageFormat type.</li>\n</ul>\n<p>Anyone have problem like this and Are there any other method to making the app logic like i want.</p>\n<p>This is my current code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.faceextract;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport android.Manifest;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.graphics.Bitmap;\nimport android.graphics.BitmapFactory;\nimport android.graphics.Canvas;\nimport android.graphics.ImageFormat;\nimport android.graphics.Point;\nimport android.graphics.Rect;\nimport android.graphics.YuvImage;\nimport android.hardware.display.DisplayManager;\nimport android.hardware.display.VirtualDisplay;\nimport android.media.Image;\nimport android.media.ImageReader;\nimport android.media.MediaRecorder;\nimport android.media.projection.MediaProjection;\nimport android.media.projection.MediaProjectionManager;\nimport android.nfc.Tag;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.os.Environment;\nimport android.os.Handler;\nimport android.os.Looper;\nimport android.renderscript.RenderScript;\nimport android.util.DisplayMetrics;\nimport android.util.Log;\nimport android.view.Display;\nimport android.view.Surface;\nimport android.view.SurfaceHolder;\nimport android.view.SurfaceView;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.Toast;\n\nimport java.io.ByteArrayOutputStream;\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.lang.reflect.Type;\nimport java.nio.Buffer;\nimport java.nio.ByteBuffer;\nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private static final int REQUEST_CODE = 1000;\n    private int screenDensity;\n    private MediaProjectionManager mediaProjectionManager;\n    private MediaProjection mediaProjection;\n    private VirtualDisplay virtualDisplay;\n    private MediaRecorder mediaRecorder;\n    private Button startBtn;\n    private Button stopBtn;\n    private static final int AUDIO_PERMISSION_REQUEST_CODE = 1001;\n\n    private int width = 720, height = 1280;\n\n    private ImageReader mImageReader;\n    private Handler mHandler = new Handler(Looper.getMainLooper());\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // Get references to UI elements\n        startBtn = findViewById(R.id.btn_start_recording);\n        stopBtn = findViewById(R.id.btn_stop_recording);\n\n        // Get screen density\n        DisplayMetrics metrics = new DisplayMetrics();\n        getWindowManager().getDefaultDisplay().getMetrics(metrics);\n        screenDensity = metrics.densityDpi;\n        // Initialize media projection manager\n        mediaProjectionManager = (MediaProjectionManager) getSystemService(Context.MEDIA_PROJECTION_SERVICE);\n\n        startBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                requestRecordingPermissionsAndStart();\n            }\n        });\n\n        stopBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                stopRecording();\n            }\n        });\n\n        // start capture handling thread\n        new Thread() {\n            @Override\n            public void run() {\n                Looper.prepare();\n                mHandler = new Handler();\n                Looper.loop();\n            }\n        }.start();\n    }\n\n    private void requestRecordingPermissionsAndStart() {\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.RECORD_AUDIO) == PackageManager.PERMISSION_GRANTED) {\n            Log.i(&quot;DEBUGGGGGG&quot;, &quot;vào&quot;);\n            startRecording();\n        } else {\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.RECORD_AUDIO}, AUDIO_PERMISSION_REQUEST_CODE);\n        }\n    }\n\n    private void startRecording() {\n        startBtn.setEnabled(false);\n        stopBtn.setEnabled(true);\n        try {\n\n            // Request permission to capture the screen\n            // Inside MainActivity's startRecording method\n            Intent serviceIntent = new Intent(this, MediaProjectionService.class);\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                startForegroundService(serviceIntent);\n            } else {\n                startService(serviceIntent);\n            }\n            startActivityForResult(mediaProjectionManager.createScreenCaptureIntent(), REQUEST_CODE);\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    private void stopRecording() {\n        startBtn.setEnabled(true);\n        stopBtn.setEnabled(false);\n        mediaProjection.stop();\n        mediaProjection = null;\n\n        virtualDisplay.release();\n    }\n\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n        if (requestCode == AUDIO_PERMISSION_REQUEST_CODE) {\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                // Audio permission granted, you can start recording\n                startRecording();\n            } else {\n                // Audio permission denied, handle accordingly\n                Toast.makeText(this, &quot;Audio permission denied&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (requestCode != REQUEST_CODE) {\n            Log.e(&quot;MainActivity&quot;, &quot;Unknown request code: &quot; + requestCode);\n            return;\n        }\n        if (resultCode != RESULT_OK) {\n            startBtn.setEnabled(true);\n            stopBtn.setEnabled(false);\n            Toast.makeText(this,\n                    &quot;Screen Cast Permission Denied&quot;, Toast.LENGTH_SHORT).show();\n            return;\n        }\n        mediaProjection = mediaProjectionManager.getMediaProjection(resultCode, data);\n        mImageReader = ImageReader.newInstance(width, height, ImageFormat.YUV_420_888, 1);\n        virtualDisplay = createVirtualDisplay(mImageReader.getSurface());\n\n        mImageReader.setOnImageAvailableListener(new ImageReader.OnImageAvailableListener() {\n            @Override\n            public void onImageAvailable(ImageReader reader) {\n                Log.i(&quot;OK&quot;,&quot;FORMAT&quot; +  reader.getImageFormat());\n                Image image = null;\n                FileOutputStream fos = null;\n                Bitmap bitmap = null;\n                try {\n                    image = reader.acquireNextImage();\n\n                    if(image != null) {\n//                        Image.Plane[] planes = image.getPlanes();\n\n                    }\n\n                    image.close();\n                }catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        }, mHandler);\n    }\n\n    private VirtualDisplay createVirtualDisplay(Surface surface) {\n        final int flags = DisplayManager.VIRTUAL_DISPLAY_FLAG_OWN_CONTENT_ONLY | DisplayManager.VIRTUAL_DISPLAY_FLAG_PUBLIC;\n        return mediaProjection.createVirtualDisplay(&quot;MainActivity&quot;,\n                width,height, screenDensity,\n                flags,\n                surface, new VirtualDisplayCallback(), mHandler);\n    }\n\n    private class VirtualDisplayCallback extends VirtualDisplay.Callback {\n        @Override\n        public void onPaused() {\n            super.onPaused();\n            Log.e(&quot;VIRTUAL&quot;, &quot;VirtualDisplayCallback: onPaused&quot;);\n        }\n\n        @Override\n        public void onResumed() {\n            super.onResumed();\n            Log.e(&quot;VIRTUAL&quot;, &quot;VirtualDisplayCallback: onResumed&quot;);\n        }\n\n        @Override\n        public void onStopped() {\n            super.onStopped();\n            Log.e(&quot;VIRTUAL&quot;, &quot;VirtualDisplayCallback: onStopped&quot;);\n        }\n\n    }\n}\n\n\n</code></pre>\n<p>Thanks for your time reading and helping</p>\n"},{"tags":["java","list","compiler-errors","generic-type-argument"],"comments":[{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":13,"creation_date":1397028358,"post_id":22955621,"comment_id":35048032,"body_markdown":"You&#39;re importing the wrong `List`. It&#39;s supposed to be `java.util.List`.","body":"You&#39;re importing the wrong <code>List</code>. It&#39;s supposed to be <code>java.util.List</code>."}],"answers":[{"tags":[],"owner":{"account_id":1957068,"reputation":22025,"user_id":1759845,"accept_rate":65,"display_name":"BackSlash"},"down_vote_count":1,"up_vote_count":113,"is_accepted":true,"score":112,"last_activity_date":1604419719,"creation_date":1397028424,"answer_id":22955642,"question_id":22955621,"body_markdown":"You are likely importing `java.awt.List`.\r\n\r\nYou should instead import `java.util.List`, which is a parameterized type.","title":"error: type List does not take parameters","body":"<p>You are likely importing <code>java.awt.List</code>.</p>\n<p>You should instead import <code>java.util.List</code>, which is a parameterized type.</p>\n"},{"tags":[],"owner":{"account_id":3159138,"reputation":33796,"user_id":2670792,"accept_rate":100,"display_name":"Christian Tapia"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1397028463,"creation_date":1397028463,"answer_id":22955654,"question_id":22955621,"body_markdown":"It seems like you are importing it from `java.awt`:\r\n\r\n    import java.awt.List;\r\n\r\nand it looks like you want to use the one from `java.util`:\r\n\r\n    import java.util.List;","title":"error: type List does not take parameters","body":"<p>It seems like you are importing it from <code>java.awt</code>:</p>\n\n<pre><code>import java.awt.List;\n</code></pre>\n\n<p>and it looks like you want to use the one from <code>java.util</code>:</p>\n\n<pre><code>import java.util.List;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11506462,"reputation":750,"user_id":8432549,"accept_rate":25,"display_name":"Bilal Mustafa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1504630963,"creation_date":1504630963,"answer_id":46060057,"question_id":22955621,"body_markdown":"if you are working on Graphical user interface you have to\r\n`import java.awt.List` instead of `import java.util.List`\r\nOther then else if you are working on simple code you have to `import java.util.List;`  instead of `import java.awt.List`","title":"error: type List does not take parameters","body":"<p>if you are working on Graphical user interface you have to\n<code>import java.awt.List</code> instead of <code>import java.util.List</code>\nOther then else if you are working on simple code you have to <code>import java.util.List;</code>  instead of <code>import java.awt.List</code></p>\n"},{"tags":[],"owner":{"account_id":23975853,"reputation":59,"user_id":17963959,"display_name":"Pranav Barot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642590349,"creation_date":1642505683,"answer_id":70754947,"question_id":22955621,"body_markdown":"I am getting solved this problem by renaming the class name or file name as in Notepad++.\r\n\r\nYou Should not take the class names as **ArrayList or List.**\r\nAnd you also need to add the following package \r\n&gt; import java.util.*;\r\n\r\nMy Previous class name is **List** I changed it into the Names.so You have to change the class name.\r\n\r\n ","title":"error: type List does not take parameters","body":"<p>I am getting solved this problem by renaming the class name or file name as in Notepad++.</p>\n<p>You Should not take the class names as <strong>ArrayList or List.</strong>\nAnd you also need to add the following package</p>\n<blockquote>\n<p>import java.util.*;</p>\n</blockquote>\n<p>My Previous class name is <strong>List</strong> I changed it into the Names.so You have to change the class name.</p>\n"},{"tags":[],"owner":{"account_id":26924084,"reputation":114,"user_id":20497615,"display_name":"Ajay Mahiwal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693288611,"creation_date":1693288611,"answer_id":76997651,"question_id":22955621,"body_markdown":"[![I Was Getting Same Error !][1]][1]\r\n\r\n\r\nSee I was also facing this problem, now i will tell you how i solved that problem .\r\nFirstly i was totally confused and not getting any solution then i copied that code and pasted into another directory and there code was running. Then i found a file name which was Deque.java and because of this i was getting this error. Reason that Deque.java class was public class and when i want to use Deque class of java..util.*; package then compiler searches for a file with a matching name and .java extension. If such a file exists, it could potentially cause conflicts, especially if you have a class with the same name.\r\n\r\nThen I deleted that file or you can rename that file. After this you will not get this error.\r\nIn my case i was getting error because of this Deque file in your case it can be ArrayList or LinkedList , please check the file names in that directory it can solve your problem.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/od2gy.png\r\n  [2]: https://i.stack.imgur.com/FybrI.png","title":"error: type List does not take parameters","body":"<p><a href=\"https://i.stack.imgur.com/od2gy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/od2gy.png\" alt=\"I Was Getting Same Error !\" /></a></p>\n<p>See I was also facing this problem, now i will tell you how i solved that problem .\nFirstly i was totally confused and not getting any solution then i copied that code and pasted into another directory and there code was running. Then i found a file name which was Deque.java and because of this i was getting this error. Reason that Deque.java class was public class and when i want to use Deque class of java..util.*; package then compiler searches for a file with a matching name and .java extension. If such a file exists, it could potentially cause conflicts, especially if you have a class with the same name.</p>\n<p>Then I deleted that file or you can rename that file. After this you will not get this error.\nIn my case i was getting error because of this Deque file in your case it can be ArrayList or LinkedList , please check the file names in that directory it can solve your problem.</p>\n<p><a href=\"https://i.stack.imgur.com/FybrI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FybrI.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"display_name":"user3292534"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67271,"favorite_count":0,"down_vote_count":1,"up_vote_count":41,"accepted_answer_id":22955642,"answer_count":5,"score":40,"last_activity_date":1693288611,"creation_date":1397028335,"question_id":22955621,"body_markdown":"I get the following error despite it&#39;s exactly one used in examples:\r\n\r\n&gt; error: type List does not take parameters\r\n\r\n    List&lt;String&gt; strings_wat = new ArrayList&lt;String&gt;();\r\n\r\nJava is version 1.7 and the class is NOT named `ArrayList`.","title":"error: type List does not take parameters","body":"<p>I get the following error despite it's exactly one used in examples:</p>\n\n<blockquote>\n  <p>error: type List does not take parameters</p>\n</blockquote>\n\n<pre><code>List&lt;String&gt; strings_wat = new ArrayList&lt;String&gt;();\n</code></pre>\n\n<p>Java is version 1.7 and the class is NOT named <code>ArrayList</code>.</p>\n"},{"tags":["java","amazon-ec2","bitbucket"],"answers":[{"tags":[],"owner":{"account_id":5618630,"reputation":473,"user_id":4449191,"display_name":"jared"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1616666117,"creation_date":1616666117,"answer_id":66796967,"question_id":66790818,"body_markdown":"Using maven i managed to build using this (changed source and target to match my java version):\r\n\r\n    &lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.8.1&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;source&gt;16&lt;/source&gt;\r\n        &lt;target&gt;16&lt;/target&gt;\r\n        &lt;fork&gt;true&lt;/fork&gt;\r\n        &lt;compilerArgs&gt;\r\n            &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED&lt;/arg&gt;\r\n            &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.comp=ALL-UNNAMED&lt;/arg&gt;\r\n            &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED&lt;/arg&gt;\r\n            &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.main=ALL-UNNAMED&lt;/arg&gt;\r\n            &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.model=ALL-UNNAMED&lt;/arg&gt;\r\n            &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED&lt;/arg&gt;\r\n            &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED&lt;/arg&gt;\r\n            &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED&lt;/arg&gt;\r\n            &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED&lt;/arg&gt;\r\n            &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.jvm=ALL-UNNAMED&lt;/arg&gt;\r\n        &lt;/compilerArgs&gt;\r\n        &lt;annotationProcessorPaths&gt;\r\n            &lt;path&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;version&gt;1.18.16&lt;/version&gt;\r\n            &lt;/path&gt;\r\n        &lt;/annotationProcessorPaths&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n\r\nSource, [lomboks github][1]\r\n\r\n\r\n  [1]: https://github.com/rzwitserloot/lombok/issues/2681","title":"Java build has started failing - Fatal error compiling: java.lang.IllegalAccessError: class lombok.javac.apt.LombokProcessor","body":"<p>Using maven i managed to build using this (changed source and target to match my java version):</p>\n<pre><code>&lt;plugin&gt;\n&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n&lt;version&gt;3.8.1&lt;/version&gt;\n&lt;configuration&gt;\n    &lt;source&gt;16&lt;/source&gt;\n    &lt;target&gt;16&lt;/target&gt;\n    &lt;fork&gt;true&lt;/fork&gt;\n    &lt;compilerArgs&gt;\n        &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED&lt;/arg&gt;\n        &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.comp=ALL-UNNAMED&lt;/arg&gt;\n        &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED&lt;/arg&gt;\n        &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.main=ALL-UNNAMED&lt;/arg&gt;\n        &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.model=ALL-UNNAMED&lt;/arg&gt;\n        &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED&lt;/arg&gt;\n        &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED&lt;/arg&gt;\n        &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED&lt;/arg&gt;\n        &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED&lt;/arg&gt;\n        &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.jvm=ALL-UNNAMED&lt;/arg&gt;\n    &lt;/compilerArgs&gt;\n    &lt;annotationProcessorPaths&gt;\n        &lt;path&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.16&lt;/version&gt;\n        &lt;/path&gt;\n    &lt;/annotationProcessorPaths&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>Source, <a href=\"https://github.com/rzwitserloot/lombok/issues/2681\" rel=\"nofollow noreferrer\">lomboks github</a></p>\n"},{"tags":[],"owner":{"account_id":3673241,"reputation":1185,"user_id":3059896,"display_name":"Shehan Simen"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1617062278,"creation_date":1617062278,"answer_id":66863123,"question_id":66790818,"body_markdown":"I use java 11 too and fixed the problem by adding this to the POM plugins section.\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                    &lt;fork&gt;true&lt;/fork&gt;\r\n                    &lt;!-- this is to fix bitbucket pipeline build error due to Lombok processing --&gt;\r\n                    &lt;compilerArgs&gt;\r\n                        &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED&lt;/arg&gt;\r\n                        &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.comp=ALL-UNNAMED&lt;/arg&gt;\r\n                        &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED&lt;/arg&gt;\r\n                        &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.main=ALL-UNNAMED&lt;/arg&gt;\r\n                        &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.model=ALL-UNNAMED&lt;/arg&gt;\r\n                        &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED&lt;/arg&gt;\r\n                        &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED&lt;/arg&gt;\r\n                        &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED&lt;/arg&gt;\r\n                        &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED&lt;/arg&gt;\r\n                        &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.jvm=ALL-UNNAMED&lt;/arg&gt;\r\n                    &lt;/compilerArgs&gt;\r\n                    &lt;annotationProcessorPaths&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                    &lt;/annotationProcessorPaths&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\nThe java.verion is 11, lombok.version is 1.18.18 \r\n","title":"Java build has started failing - Fatal error compiling: java.lang.IllegalAccessError: class lombok.javac.apt.LombokProcessor","body":"<p>I use java 11 too and fixed the problem by adding this to the POM plugins section.</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;${java.version}&lt;/source&gt;\n                &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;fork&gt;true&lt;/fork&gt;\n                &lt;!-- this is to fix bitbucket pipeline build error due to Lombok processing --&gt;\n                &lt;compilerArgs&gt;\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED&lt;/arg&gt;\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.comp=ALL-UNNAMED&lt;/arg&gt;\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED&lt;/arg&gt;\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.main=ALL-UNNAMED&lt;/arg&gt;\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.model=ALL-UNNAMED&lt;/arg&gt;\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED&lt;/arg&gt;\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED&lt;/arg&gt;\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED&lt;/arg&gt;\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED&lt;/arg&gt;\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.jvm=ALL-UNNAMED&lt;/arg&gt;\n                &lt;/compilerArgs&gt;\n                &lt;annotationProcessorPaths&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;version&gt;${lombok.version}&lt;/version&gt;\n                    &lt;/path&gt;\n                &lt;/annotationProcessorPaths&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>The java.verion is 11, lombok.version is 1.18.18</p>\n"},{"tags":[],"owner":{"account_id":21152006,"reputation":746,"user_id":15552114,"display_name":"DrenK"},"down_vote_count":0,"up_vote_count":73,"is_accepted":true,"score":73,"last_activity_date":1617554250,"creation_date":1617554250,"answer_id":66943536,"question_id":66790818,"body_markdown":"Upgrade lombok dependency to 1.18.20","title":"Java build has started failing - Fatal error compiling: java.lang.IllegalAccessError: class lombok.javac.apt.LombokProcessor","body":"<p>Upgrade lombok dependency to 1.18.20</p>\n"},{"tags":[],"owner":{"account_id":8625831,"reputation":720,"user_id":6459098,"display_name":"U_R_Naveen UR_Naveen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647260993,"creation_date":1647260993,"answer_id":71467809,"question_id":66790818,"body_markdown":"i had faced same issue due to vulnerabilities in current lombok version. please verify vulnerability status of current version and if required, please upgrade it to latest working version.","title":"Java build has started failing - Fatal error compiling: java.lang.IllegalAccessError: class lombok.javac.apt.LombokProcessor","body":"<p>i had faced same issue due to vulnerabilities in current lombok version. please verify vulnerability status of current version and if required, please upgrade it to latest working version.</p>\n"},{"tags":[],"owner":{"account_id":1139154,"reputation":1367,"user_id":1123532,"display_name":"emrhzc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679480434,"creation_date":1679480434,"answer_id":75810968,"question_id":66790818,"body_markdown":"in case anyone runs into this and has to change lots of maven projects to make it work (like me) you can also copy the newer lombok jar into older version&#39;s directory and rename it (i.e. lombok-1.18.26.jar to lombok-1.16.18.jar)\r\n\r\nthis was much easier than changing lombok version in 20+ projects","title":"Java build has started failing - Fatal error compiling: java.lang.IllegalAccessError: class lombok.javac.apt.LombokProcessor","body":"<p>in case anyone runs into this and has to change lots of maven projects to make it work (like me) you can also copy the newer lombok jar into older version's directory and rename it (i.e. lombok-1.18.26.jar to lombok-1.16.18.jar)</p>\n<p>this was much easier than changing lombok version in 20+ projects</p>\n"},{"tags":[],"owner":{"account_id":28954420,"reputation":21,"user_id":22178291,"display_name":"user22178291"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688549377,"creation_date":1688549377,"answer_id":76618977,"question_id":66790818,"body_markdown":"    when we added below lombok dependency in pom.xml file , it worked for me\r\n    \r\n    &lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;version&gt;1.18.24&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Java build has started failing - Fatal error compiling: java.lang.IllegalAccessError: class lombok.javac.apt.LombokProcessor","body":"<pre><code>when we added below lombok dependency in pom.xml file , it worked for me\n\n&lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;version&gt;1.18.24&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13087154,"reputation":134,"user_id":9455798,"display_name":"Vishnu Mari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693288313,"creation_date":1693288313,"answer_id":76997627,"question_id":66790818,"body_markdown":"Add below lombok dependency in pom.xml file,\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.18.24&lt;/version&gt;\r\n\t\t    &lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;","title":"Java build has started failing - Fatal error compiling: java.lang.IllegalAccessError: class lombok.javac.apt.LombokProcessor","body":"<p>Add below lombok dependency in pom.xml file,</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.24&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":3338456,"reputation":3532,"user_id":2884250,"accept_rate":61,"display_name":"beek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62254,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":66943536,"answer_count":7,"score":33,"last_activity_date":1693288313,"creation_date":1616628084,"question_id":66790818,"body_markdown":"\r\nWe have a Java 11 server on EC2 that has just started failing to build with the following error: \r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) \r\n    on project showhow-server: Fatal error compiling: java.lang.IllegalAccessError: class lombok.javac.apt.LombokProcessor (in unnamed module @0x49d0e934) cannot access class \r\n    com.sun.tools.javac.processing.JavacProcessingEnvironment (in module jdk.compiler) because module jdk.compiler \r\n    does not export com.sun.tools.javac.processing to unnamed module @0x49d0e934 -&gt; [Help 1]\r\n    [ERROR] \r\n\r\nThe build is from BitBucket pipelines. \r\n\r\nAny idea what it could be? ","title":"Java build has started failing - Fatal error compiling: java.lang.IllegalAccessError: class lombok.javac.apt.LombokProcessor","body":"<p>We have a Java 11 server on EC2 that has just started failing to build with the following error:</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) \non project showhow-server: Fatal error compiling: java.lang.IllegalAccessError: class lombok.javac.apt.LombokProcessor (in unnamed module @0x49d0e934) cannot access class \ncom.sun.tools.javac.processing.JavacProcessingEnvironment (in module jdk.compiler) because module jdk.compiler \ndoes not export com.sun.tools.javac.processing to unnamed module @0x49d0e934 -&gt; [Help 1]\n[ERROR] \n</code></pre>\n<p>The build is from BitBucket pipelines.</p>\n<p>Any idea what it could be?</p>\n"},{"tags":["java","selenium-webdriver","junit","cucumber"],"comments":[{"owner":{"account_id":17062475,"reputation":3303,"user_id":12345551,"display_name":"Richard Ebeling"},"score":0,"creation_date":1693412368,"post_id":76993080,"comment_id":135758449,"body_markdown":"Welcome to StackOverflow. [Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551) Also, please read [ask] if you haven&#39;t already. You can edit your question to include the code from the images.","body":"Welcome to StackOverflow. <a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a> Also, please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> if you haven&#39;t already. You can edit your question to include the code from the images."}],"answers":[{"tags":[],"owner":{"account_id":15994883,"reputation":3427,"user_id":11543023,"display_name":"djmonki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693287705,"creation_date":1693286931,"answer_id":76997534,"question_id":76993080,"body_markdown":"It is pretty hard to determine the issue with a lack of minimal code.  \r\n\r\nHowever, from the exception stack we can derive 2 areas of issue:\r\n\r\n 1. java.lang.NullPointerException is due to an issue in the following method  \r\n    - com.tests.marguerite.utils.TearDown.quitDriver(TearDown.java:22)\r\n    - as noted in line 22 - One of the objects being accessed on that line is probably null, it might be trying to perform an operation on a WebDriver instance that has not been initialized or has already been disposed of\r\n 2. NoClassDefFoundError \r\n    - a necessary dependency is missing from the project, in this case it is in relation to the ```HasFederatedCredentialManagement``` class\r\n    - there is an issue with the Selenium dependencies\r\n    - the aforementioned class is implemented by ```ChromeDriver```, ```ChromiumDriver```, ```EdgeDriver```, ```FirefoxDriver```,```RemoteWebDriver``` and ```SafariDriver```\r\n\r\nLooking at the dependency properties from your pom, you have the following:  \r\n - ```&lt;selenium.version&gt;4.11.0&lt;selenium.version&gt;```\r\n - ```&lt;seleniumclient.version&gt;4.8.1&lt;seleniumclient.version&gt;``` \r\n\r\nSynchronize Versions: It&#39;s generally a good practice to keep the versions of related libraries synchronized to avoid any compatibility issues. Update either selenium.version or seleniumclient.version to match the other, preferably to the latest stable version, if that doesn&#39;t introduce other problems.    \r\n\r\nThese more than likely have to match in version, as each dependency more than likely is reliant on a transitive dependency with the same version.\r\n\r\nUpdate the following:\r\n```xml\r\n&lt;seleniumclient.version&gt;4.8.1&lt;seleniumclient.version&gt;\r\nto\r\n&lt;seleniumclient.version&gt;4.11.0&lt;seleniumclient.version&gt;\r\n```\r\n\r\nAlso please note for future questions the following:    \r\n  - [How to create a Minimal, Reproducible Example][1]\r\n  - Minimal: Use as little code as possible that still produces the same problem\r\n  - Complete: Provide all parts someone else needs to reproduce your problem in the question itself\r\n  - Reproducible: Test the code you&#39;re about to provide to make sure it reproduces the problem\r\n  - DO NOT use images of code. Copy the actual text from your code editor, paste it into the question, then format it as code.\r\n\r\n  [1]: https://stackoverflow.com/help/minimal-reproducible-example","title":"I use selenium 4.11.0 / i get this error NoClassDefFoundError: org/openqa/selenium/federatedcredentialmanagement/HasFederatedCredentialManagement","body":"<p>It is pretty hard to determine the issue with a lack of minimal code.</p>\n<p>However, from the exception stack we can derive 2 areas of issue:</p>\n<ol>\n<li>java.lang.NullPointerException is due to an issue in the following method\n<ul>\n<li>com.tests.marguerite.utils.TearDown.quitDriver(TearDown.java:22)</li>\n<li>as noted in line 22 - One of the objects being accessed on that line is probably null, it might be trying to perform an operation on a WebDriver instance that has not been initialized or has already been disposed of</li>\n</ul>\n</li>\n<li>NoClassDefFoundError\n<ul>\n<li>a necessary dependency is missing from the project, in this case it is in relation to the <code>HasFederatedCredentialManagement</code> class</li>\n<li>there is an issue with the Selenium dependencies</li>\n<li>the aforementioned class is implemented by <code>ChromeDriver</code>, <code>ChromiumDriver</code>, <code>EdgeDriver</code>, <code>FirefoxDriver</code>,<code>RemoteWebDriver</code> and <code>SafariDriver</code></li>\n</ul>\n</li>\n</ol>\n<p>Looking at the dependency properties from your pom, you have the following:</p>\n<ul>\n<li><code>&lt;selenium.version&gt;4.11.0&lt;selenium.version&gt;</code></li>\n<li><code>&lt;seleniumclient.version&gt;4.8.1&lt;seleniumclient.version&gt;</code></li>\n</ul>\n<p>Synchronize Versions: It's generally a good practice to keep the versions of related libraries synchronized to avoid any compatibility issues. Update either selenium.version or seleniumclient.version to match the other, preferably to the latest stable version, if that doesn't introduce other problems.</p>\n<p>These more than likely have to match in version, as each dependency more than likely is reliant on a transitive dependency with the same version.</p>\n<p>Update the following:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;seleniumclient.version&gt;4.8.1&lt;seleniumclient.version&gt;\nto\n&lt;seleniumclient.version&gt;4.11.0&lt;seleniumclient.version&gt;\n</code></pre>\n<p>Also please note for future questions the following:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">How to create a Minimal, Reproducible Example</a></li>\n<li>Minimal: Use as little code as possible that still produces the same problem</li>\n<li>Complete: Provide all parts someone else needs to reproduce your problem in the question itself</li>\n<li>Reproducible: Test the code you're about to provide to make sure it reproduces the problem</li>\n<li>DO NOT use images of code. Copy the actual text from your code editor, paste it into the question, then format it as code.</li>\n</ul>\n"}],"owner":{"account_id":29314698,"reputation":13,"user_id":22459724,"display_name":"zd ha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":298,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1693412347,"accepted_answer_id":76997534,"answer_count":1,"score":0,"last_activity_date":1693287705,"creation_date":1693228047,"question_id":76993080,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n``` \r\norg.opentest4j.MultipleFailuresError: Multiple Failures (2 failures)\r\n\tjava.lang.NoClassDefFoundError: org/openqa/selenium/federatedcredentialmanagement/HasFederatedCredentialManagement\r\n\tjava.lang.NullPointerException: &lt;no message&gt;\r\n\tat org.junit.vintage.engine.execution.TestRun.getStoredResultOrSuccessful(TestRun.java:200)\r\n\tat org.junit.vintage.engine.execution.RunListenerAdapter.fireExecutionFinished(RunListenerAdapter.java:248)\r\n\tat org.junit.vintage.engine.execution.RunListenerAdapter.testFinished(RunListenerAdapter.java:214)\r\n\tat org.junit.vintage.engine.execution.RunListenerAdapter.testFinished(RunListenerAdapter.java:88)\r\n\tat org.junit.runner.notification.SynchronizedRunListener.testFinished(SynchronizedRunListener.java:87)\r\n\tat org.junit.runner.notification.RunNotifier$9.notifyListener(RunNotifier.java:225)\r\n\tat org.junit.runner.notification.RunNotifier$SafeNotifier.run(RunNotifier.java:72)\r\n\tat org.junit.runner.notification.RunNotifier.fireTestFinished(RunNotifier.java:222)\r\n\tat io.cucumber.junit.FeatureRunner.runChild(FeatureRunner.java:150)\r\n\tat io.cucumber.junit.FeatureRunner.runChild(FeatureRunner.java:28)\r\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\tat io.cucumber.junit.FeatureRunner.run(FeatureRunner.java:137)\r\n\tat io.cucumber.junit.Cucumber.runChild(Cucumber.java:196)\r\n\tat io.cucumber.junit.Cucumber.runChild(Cucumber.java:89)\r\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\tat io.cucumber.core.runtime.CucumberExecutionContext.lambda$runFeatures$6(CucumberExecutionContext.java:148)\r\n\tat io.cucumber.core.runtime.CucumberExecutionContext.execute(CucumberExecutionContext.java:163)\r\n\tat io.cucumber.core.runtime.CucumberExecutionContext.runFeatures(CucumberExecutionContext.java:146)\r\n\tat io.cucumber.junit.Cucumber$StartAndFinishTestRun.evaluate(Cucumber.java:226)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:115)\r\n\tat org.junit.vintage.engine.execution.RunnerExecutor.execute(RunnerExecutor.java:42)\r\n\tat org.junit.vintage.engine.VintageTestEngine.executeAllChildren(VintageTestEngine.java:80)\r\n\tat org.junit.vintage.engine.VintageTestEngine.execute(VintageTestEngine.java:72)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60)\r\n\tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\n\tSuppressed: java.lang.NoClassDefFoundError: org/openqa/selenium/federatedcredentialmanagement/HasFederatedCredentialManagement\r\n\t\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\t\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\r\n\t\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\r\n\t\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)\r\n\t\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698)\r\n\t\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621)\r\n\t\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\r\n\t\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\t\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\t\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\r\n\t\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\r\n\t\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)\r\n\t\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698)\r\n\t\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621)\r\n\t\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\r\n\t\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\t\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\t\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\r\n\t\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\r\n\t\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)\r\n\t\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698)\r\n\t\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621)\r\n\t\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\r\n\t\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\t\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t\tat com.tests.marguerite.utils.Setup.setWebDriver(Setup.java:73)\r\n\tCaused by: java.lang.ClassNotFoundException: org.openqa.selenium.federatedcredentialmanagement.HasFederatedCredentialManagement\r\n\t\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n\t\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\t\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\t\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\r\n\t\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\r\n\t\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)\r\n\t\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698)\r\n\t\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621)\r\n\t\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\r\n\t\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\t\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\t\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\r\n\t\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\r\n\t\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)\r\n\t\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698)\r\n\t\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621)\r\n\t\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\r\n\t\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\t\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\t\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\r\n\t\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\r\n\t\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)\r\n\t\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698)\r\n\t\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621)\r\n\t\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\r\n\t\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\t\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t\tat com.tests.marguerite.utils.Setup.setWebDriver(Setup.java:73)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\t\tat io.cucumber.java.Invoker.doInvoke(Invoker.java:66)\r\n\t\tat io.cucumber.java.Invoker.invoke(Invoker.java:24)\r\n\t\tat io.cucumber.java.AbstractGlueDefinition.invokeMethod(AbstractGlueDefinition.java:47)\r\n\t\tat io.cucumber.java.JavaHookDefinition.execute(JavaHookDefinition.java:64)\r\n\t\tat io.cucumber.core.runner.CoreHookDefinition.execute(CoreHookDefinition.java:46)\r\n\t\tat io.cucumber.core.runner.HookDefinitionMatch.runStep(HookDefinitionMatch.java:21)\r\n\t\tat io.cucumber.core.runner.ExecutionMode$1.execute(ExecutionMode.java:10)\r\n\t\tat io.cucumber.core.runner.TestStep.executeStep(TestStep.java:84)\r\n\t\tat io.cucumber.core.runner.TestStep.run(TestStep.java:56)\r\n\t\tat io.cucumber.core.runner.TestCase.run(TestCase.java:78)\r\n\t\tat io.cucumber.core.runner.Runner.runPickle(Runner.java:75)\r\n\t\tat io.cucumber.junit.PickleRunners$NoStepDescriptions.lambda$run$0(PickleRunners.java:151)\r\n\t\tat io.cucumber.core.runtime.CucumberExecutionContext.lambda$runTestCase$5(CucumberExecutionContext.java:137)\r\n\t\tat io.cucumber.core.runtime.RethrowingThrowableCollector.executeAndThrow(RethrowingThrowableCollector.java:23)\r\n\t\tat io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:137)\r\n\t\tat io.cucumber.junit.PickleRunners$NoStepDescriptions.run(PickleRunners.java:148)\r\n\t\tat io.cucumber.junit.FeatureRunner.runChild(FeatureRunner.java:144)\r\n\t\tat io.cucumber.junit.FeatureRunner.runChild(FeatureRunner.java:28)\r\n\t\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\t\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\t\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\t\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\t\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\t\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\t\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\t\tat io.cucumber.junit.FeatureRunner.run(FeatureRunner.java:137)\r\n\t\tat io.cucumber.junit.Cucumber.runChild(Cucumber.java:196)\r\n\t\tat io.cucumber.junit.Cucumber.runChild(Cucumber.java:89)\r\n\t\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\t\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\t\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\t\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\t\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\t\tat io.cucumber.core.runtime.CucumberExecutionContext.lambda$runFeatures$6(CucumberExecutionContext.java:148)\r\n\t\tat io.cucumber.core.runtime.CucumberExecutionContext.execute(CucumberExecutionContext.java:163)\r\n\t\tat io.cucumber.core.runtime.CucumberExecutionContext.runFeatures(CucumberExecutionContext.java:146)\r\n\t\tat io.cucumber.junit.Cucumber$StartAndFinishTestRun.evaluate(Cucumber.java:226)\r\n\t\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\t\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\t\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n\t\tat org.junit.runner.JUnitCore.run(JUnitCore.java:115)\r\n\t\tat org.junit.vintage.engine.execution.RunnerExecutor.execute(RunnerExecutor.java:42)\r\n\t\tat org.junit.vintage.engine.VintageTestEngine.executeAllChildren(VintageTestEngine.java:80)\r\n\t\tat org.junit.vintage.engine.VintageTestEngine.execute(VintageTestEngine.java:72)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n\t\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\t\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95)\r\n\t\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91)\r\n\t\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60)\r\n\t\tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\n\tSuppressed: java.lang.NullPointerException\r\n\t\tat com.tests.marguerite.utils.TearDown.quitDriver(TearDown.java:22)\r\n```\r\n\r\n\r\n[1]: https://i.stack.imgur.com/QTzvp.png\r\n[2]: https://i.stack.imgur.com/0HsCP.png\r\n[3]: https://i.stack.imgur.com/RHCs0.png","title":"I use selenium 4.11.0 / i get this error NoClassDefFoundError: org/openqa/selenium/federatedcredentialmanagement/HasFederatedCredentialManagement","body":"<p><a href=\"https://i.stack.imgur.com/QTzvp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QTzvp.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/0HsCP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0HsCP.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/RHCs0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RHCs0.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>org.opentest4j.MultipleFailuresError: Multiple Failures (2 failures)\n    java.lang.NoClassDefFoundError: org/openqa/selenium/federatedcredentialmanagement/HasFederatedCredentialManagement\n    java.lang.NullPointerException: &lt;no message&gt;\n    at org.junit.vintage.engine.execution.TestRun.getStoredResultOrSuccessful(TestRun.java:200)\n    at org.junit.vintage.engine.execution.RunListenerAdapter.fireExecutionFinished(RunListenerAdapter.java:248)\n    at org.junit.vintage.engine.execution.RunListenerAdapter.testFinished(RunListenerAdapter.java:214)\n    at org.junit.vintage.engine.execution.RunListenerAdapter.testFinished(RunListenerAdapter.java:88)\n    at org.junit.runner.notification.SynchronizedRunListener.testFinished(SynchronizedRunListener.java:87)\n    at org.junit.runner.notification.RunNotifier$9.notifyListener(RunNotifier.java:225)\n    at org.junit.runner.notification.RunNotifier$SafeNotifier.run(RunNotifier.java:72)\n    at org.junit.runner.notification.RunNotifier.fireTestFinished(RunNotifier.java:222)\n    at io.cucumber.junit.FeatureRunner.runChild(FeatureRunner.java:150)\n    at io.cucumber.junit.FeatureRunner.runChild(FeatureRunner.java:28)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at io.cucumber.junit.FeatureRunner.run(FeatureRunner.java:137)\n    at io.cucumber.junit.Cucumber.runChild(Cucumber.java:196)\n    at io.cucumber.junit.Cucumber.runChild(Cucumber.java:89)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n    at io.cucumber.core.runtime.CucumberExecutionContext.lambda$runFeatures$6(CucumberExecutionContext.java:148)\n    at io.cucumber.core.runtime.CucumberExecutionContext.execute(CucumberExecutionContext.java:163)\n    at io.cucumber.core.runtime.CucumberExecutionContext.runFeatures(CucumberExecutionContext.java:146)\n    at io.cucumber.junit.Cucumber$StartAndFinishTestRun.evaluate(Cucumber.java:226)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:115)\n    at org.junit.vintage.engine.execution.RunnerExecutor.execute(RunnerExecutor.java:42)\n    at org.junit.vintage.engine.VintageTestEngine.executeAllChildren(VintageTestEngine.java:80)\n    at org.junit.vintage.engine.VintageTestEngine.execute(VintageTestEngine.java:72)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60)\n    at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\n    Suppressed: java.lang.NoClassDefFoundError: org/openqa/selenium/federatedcredentialmanagement/HasFederatedCredentialManagement\n        at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n        at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\n        at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n        at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n        at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\n        at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n        at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n        at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\n        at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n        at com.tests.marguerite.utils.Setup.setWebDriver(Setup.java:73)\n    Caused by: java.lang.ClassNotFoundException: org.openqa.selenium.federatedcredentialmanagement.HasFederatedCredentialManagement\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n        at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n        at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\n        at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n        at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n        at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\n        at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n        at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n        at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\n        at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n        at com.tests.marguerite.utils.Setup.setWebDriver(Setup.java:73)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at io.cucumber.java.Invoker.doInvoke(Invoker.java:66)\n        at io.cucumber.java.Invoker.invoke(Invoker.java:24)\n        at io.cucumber.java.AbstractGlueDefinition.invokeMethod(AbstractGlueDefinition.java:47)\n        at io.cucumber.java.JavaHookDefinition.execute(JavaHookDefinition.java:64)\n        at io.cucumber.core.runner.CoreHookDefinition.execute(CoreHookDefinition.java:46)\n        at io.cucumber.core.runner.HookDefinitionMatch.runStep(HookDefinitionMatch.java:21)\n        at io.cucumber.core.runner.ExecutionMode$1.execute(ExecutionMode.java:10)\n        at io.cucumber.core.runner.TestStep.executeStep(TestStep.java:84)\n        at io.cucumber.core.runner.TestStep.run(TestStep.java:56)\n        at io.cucumber.core.runner.TestCase.run(TestCase.java:78)\n        at io.cucumber.core.runner.Runner.runPickle(Runner.java:75)\n        at io.cucumber.junit.PickleRunners$NoStepDescriptions.lambda$run$0(PickleRunners.java:151)\n        at io.cucumber.core.runtime.CucumberExecutionContext.lambda$runTestCase$5(CucumberExecutionContext.java:137)\n        at io.cucumber.core.runtime.RethrowingThrowableCollector.executeAndThrow(RethrowingThrowableCollector.java:23)\n        at io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:137)\n        at io.cucumber.junit.PickleRunners$NoStepDescriptions.run(PickleRunners.java:148)\n        at io.cucumber.junit.FeatureRunner.runChild(FeatureRunner.java:144)\n        at io.cucumber.junit.FeatureRunner.runChild(FeatureRunner.java:28)\n        at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n        at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n        at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n        at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n        at io.cucumber.junit.FeatureRunner.run(FeatureRunner.java:137)\n        at io.cucumber.junit.Cucumber.runChild(Cucumber.java:196)\n        at io.cucumber.junit.Cucumber.runChild(Cucumber.java:89)\n        at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n        at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n        at io.cucumber.core.runtime.CucumberExecutionContext.lambda$runFeatures$6(CucumberExecutionContext.java:148)\n        at io.cucumber.core.runtime.CucumberExecutionContext.execute(CucumberExecutionContext.java:163)\n        at io.cucumber.core.runtime.CucumberExecutionContext.runFeatures(CucumberExecutionContext.java:146)\n        at io.cucumber.junit.Cucumber$StartAndFinishTestRun.evaluate(Cucumber.java:226)\n        at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n        at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n        at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n        at org.junit.runner.JUnitCore.run(JUnitCore.java:115)\n        at org.junit.vintage.engine.execution.RunnerExecutor.execute(RunnerExecutor.java:42)\n        at org.junit.vintage.engine.VintageTestEngine.executeAllChildren(VintageTestEngine.java:80)\n        at org.junit.vintage.engine.VintageTestEngine.execute(VintageTestEngine.java:72)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95)\n        at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91)\n        at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60)\n        at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\n        at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\n    Suppressed: java.lang.NullPointerException\n        at com.tests.marguerite.utils.TearDown.quitDriver(TearDown.java:22)\n</code></pre>\n"},{"tags":["java","eclipse","spring-boot","devtools"],"answers":[{"tags":[],"owner":{"account_id":1472818,"reputation":3699,"user_id":1383932,"display_name":"fiveelements"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1563988942,"creation_date":1563988942,"answer_id":57188250,"question_id":57188141,"body_markdown":"In spring-boot-maven-plugin in pom.xml add the following configuration:\r\n\r\n    &lt;configuration&gt;\r\n        &lt;addResources&gt;true&lt;/addResources&gt;\r\n    &lt;/configuration&gt;\r\n\r\nThe above will work if you starting the app from the command line. However, please see this post for more details on this: https://stackoverflow.com/questions/24762657/refreshing-static-content-with-spring-mvc-and-boot","title":"Why is spring devtools not working when I change my static files and reload the page?","body":"<p>In spring-boot-maven-plugin in pom.xml add the following configuration:</p>\n\n<pre><code>&lt;configuration&gt;\n    &lt;addResources&gt;true&lt;/addResources&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>The above will work if you starting the app from the command line. However, please see this post for more details on this: <a href=\"https://stackoverflow.com/questions/24762657/refreshing-static-content-with-spring-mvc-and-boot\">Refreshing static content with Spring MVC and Boot</a></p>\n"},{"tags":[],"owner":{"account_id":11566574,"reputation":87,"user_id":8474661,"display_name":"Yasser Greyeb"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693287177,"creation_date":1693287177,"answer_id":76997549,"question_id":57188141,"body_markdown":"With Spring Boot 3.1.2, set the following properties in `application-dev.properties`:\r\n```properties\r\nspring.web.resources.static-locations=file:src/main/resources/static/\r\nspring.devtools.restart.additional-paths=file:src/main/resources/static/\r\n```\r\nI added these configurations in a dev profile because in production static content will be served from the classpath. Remember to activate the correct profile.\r\n\r\nWhat it does:\r\n- Devtools will restart the service whenever there are changes in the static directory and trigger a live reload. It pairs great with live-reload browser extensions.\r\n- Static resources are served from the file system instead of the classpath. It allows serving up-to-date static files without needing to rebuild the project. That way you do not the need to configure your IDE to rebuild on every save which may be a little slow, depending on the project.\r\n\r\nI set this up for a web project built using Vite, (`vite build --watch`) and dumping all output in `src/main/resources/static/` Spring Boot Devtools picks up the changes almost immediately.\r\n\r\nThis answer is the same that I wrote here https://stackoverflow.com/a/76997426/8474661","title":"Why is spring devtools not working when I change my static files and reload the page?","body":"<p>With Spring Boot 3.1.2, set the following properties in <code>application-dev.properties</code>:</p>\n<pre><code>spring.web.resources.static-locations=file:src/main/resources/static/\nspring.devtools.restart.additional-paths=file:src/main/resources/static/\n</code></pre>\n<p>I added these configurations in a dev profile because in production static content will be served from the classpath. Remember to activate the correct profile.</p>\n<p>What it does:</p>\n<ul>\n<li>Devtools will restart the service whenever there are changes in the static directory and trigger a live reload. It pairs great with live-reload browser extensions.</li>\n<li>Static resources are served from the file system instead of the classpath. It allows serving up-to-date static files without needing to rebuild the project. That way you do not the need to configure your IDE to rebuild on every save which may be a little slow, depending on the project.</li>\n</ul>\n<p>I set this up for a web project built using Vite, (<code>vite build --watch</code>) and dumping all output in <code>src/main/resources/static/</code> Spring Boot Devtools picks up the changes almost immediately.</p>\n<p>This answer is the same that I wrote here <a href=\"https://stackoverflow.com/a/76997426/8474661\">https://stackoverflow.com/a/76997426/8474661</a></p>\n"}],"owner":{"account_id":13728370,"reputation":454,"user_id":9906495,"display_name":"pujan kc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2341,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1693287177,"creation_date":1563988499,"question_id":57188141,"body_markdown":"I am using a dependency as:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n        &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThe devtools work fine when I make changes to my `.java` files but doesn&#39;t work when I make changes in my static files(.html files). Also, the change is not seen when I reload the page. I have to restart the application to see the changes. And it is quite a time consuming to restart the app every time I make a few small changes.","title":"Why is spring devtools not working when I change my static files and reload the page?","body":"<p>I am using a dependency as:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n    &lt;optional&gt;true&lt;/optional&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>The devtools work fine when I make changes to my <code>.java</code> files but doesn't work when I make changes in my static files(.html files). Also, the change is not seen when I reload the page. I have to restart the application to see the changes. And it is quite a time consuming to restart the app every time I make a few small changes.</p>\n"},{"tags":["java","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":127863,"reputation":3533,"user_id":325324,"accept_rate":93,"display_name":"palto"},"score":2,"creation_date":1405440375,"post_id":24762657,"comment_id":38422696,"body_markdown":"I also use IntelliJ to do application development and run the application (Run as Application) if it helps any. I&#39;ve been thinking that maybe the problem is running the application with an embedded Tomcat is the problem. Should I run it in a real Tomcat when in development(to get refresh working properly) and deploy the final application with embedded Tomcat? I haven&#39;t found any recommendations in the Spring guides yet that says what is the best way to do this kind of development which bums me out.","body":"I also use IntelliJ to do application development and run the application (Run as Application) if it helps any. I&#39;ve been thinking that maybe the problem is running the application with an embedded Tomcat is the problem. Should I run it in a real Tomcat when in development(to get refresh working properly) and deploy the final application with embedded Tomcat? I haven&#39;t found any recommendations in the Spring guides yet that says what is the best way to do this kind of development which bums me out."},{"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"score":0,"creation_date":1405459970,"post_id":24762657,"comment_id":38433404,"body_markdown":"That&#39;s probably because it isn&#39;t the best way to do it.","body":"That&#39;s probably because it isn&#39;t the best way to do it."}],"answers":[{"tags":[],"owner":{"account_id":169636,"reputation":9320,"user_id":395821,"accept_rate":62,"display_name":"Steve"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1405520957,"creation_date":1405444233,"answer_id":24764196,"question_id":24762657,"body_markdown":"Ah ... I came across this issue too.\r\n\r\nInstead of putting your static content in the classpath `src/main/resources/public` folder, put them in `src/main/webapp`, the same as you would any other Java web app. The embedded Tomcat will automatically reload them whenever they change.\r\n\r\nAs mentioned in the comments, the default configuration will not include the resources that are in `src\\main\\webapp`. To get around this issue, you can just add the following to your pom.xml `&lt;build&gt;` node:\r\n\r\n\t&lt;plugin&gt;\r\n\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6&lt;/version&gt;\r\n\t\t&lt;executions&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;id&gt;copy-resources&lt;/id&gt;\r\n\t\t\t\t&lt;phase&gt;validate&lt;/phase&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;copy-resources&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;outputDirectory&gt;${basedir}/target/classes/static&lt;/outputDirectory&gt;\r\n\t\t\t\t\t&lt;resources&gt;\r\n\t\t\t\t\t\t&lt;resource&gt;\r\n\t\t\t\t\t\t\t&lt;directory&gt;src/main/webapp&lt;/directory&gt;\r\n\t\t\t\t\t\t\t&lt;filtering&gt;true&lt;/filtering&gt;\r\n\t\t\t\t\t\t&lt;/resource&gt;\r\n\t\t\t\t\t&lt;/resources&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t&lt;/executions&gt;\r\n\t&lt;/plugin&gt;\r\n\r\nBy using the resources plugin, you are able to do your local development by running the executable JAR:\r\n\r\n  java -jar target/&lt;your-jar-name&gt;.jar\r\n\r\nWhile that is running you can use Chrome Dev Tools or whatever IDE you like for modifying the files, without restarts. However, whenever you run your build, then the package generated will include all of the files under `src\\main\\webapp` in `src\\main\\resources\\static`.","title":"Refreshing static content with Spring MVC and Boot","body":"<p>Ah ... I came across this issue too.</p>\n\n<p>Instead of putting your static content in the classpath <code>src/main/resources/public</code> folder, put them in <code>src/main/webapp</code>, the same as you would any other Java web app. The embedded Tomcat will automatically reload them whenever they change.</p>\n\n<p>As mentioned in the comments, the default configuration will not include the resources that are in <code>src\\main\\webapp</code>. To get around this issue, you can just add the following to your pom.xml <code>&lt;build&gt;</code> node:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.6&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;copy-resources&lt;/id&gt;\n            &lt;phase&gt;validate&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;copy-resources&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;outputDirectory&gt;${basedir}/target/classes/static&lt;/outputDirectory&gt;\n                &lt;resources&gt;\n                    &lt;resource&gt;\n                        &lt;directory&gt;src/main/webapp&lt;/directory&gt;\n                        &lt;filtering&gt;true&lt;/filtering&gt;\n                    &lt;/resource&gt;\n                &lt;/resources&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>By using the resources plugin, you are able to do your local development by running the executable JAR:</p>\n\n<p>java -jar target/.jar</p>\n\n<p>While that is running you can use Chrome Dev Tools or whatever IDE you like for modifying the files, without restarts. However, whenever you run your build, then the package generated will include all of the files under <code>src\\main\\webapp</code> in <code>src\\main\\resources\\static</code>.</p>\n"},{"tags":[],"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1548835630,"creation_date":1405460141,"answer_id":24768611,"question_id":24762657,"body_markdown":"The docs say &quot;all modern IDEs allow reloading of static resources and usually also hot-swapping of Java class changes&quot; (https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/html/howto.html#howto-hotswapping). It&#39;s true. Eclipse does it more or less by default, and I&#39;m not an IntelliJ user, but from what I understand you can configure it to build automatically as well.","title":"Refreshing static content with Spring MVC and Boot","body":"<p>The docs say \"all modern IDEs allow reloading of static resources and usually also hot-swapping of Java class changes\" (<a href=\"https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/html/howto.html#howto-hotswapping\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/html/howto.html#howto-hotswapping</a>). It's true. Eclipse does it more or less by default, and I'm not an IntelliJ user, but from what I understand you can configure it to build automatically as well.</p>\n"},{"tags":[],"owner":{"account_id":931709,"reputation":4835,"user_id":961480,"display_name":"hyness"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1420675220,"creation_date":1420675220,"answer_id":27830852,"question_id":24762657,"body_markdown":"A colleague and I came across this issue as well.  We found the answer in the [IntelliJ documentation][1]...\r\n\r\n&gt; On the main menu, choose **Run | Reload Changed Classes**\r\n\r\n\r\n  [1]: https://www.jetbrains.com/idea/help/reloading-classes.html &quot;IntelliJ documentation&quot;","title":"Refreshing static content with Spring MVC and Boot","body":"<p>A colleague and I came across this issue as well.  We found the answer in the <a href=\"https://www.jetbrains.com/idea/help/reloading-classes.html\" rel=\"noreferrer\" title=\"IntelliJ documentation\">IntelliJ documentation</a>...</p>\n\n<blockquote>\n  <p>On the main menu, choose <strong>Run | Reload Changed Classes</strong></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":386444,"reputation":1894,"user_id":744207,"accept_rate":82,"display_name":"tObi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1452158998,"creation_date":1452158998,"answer_id":34651557,"question_id":24762657,"body_markdown":"For eclipse you have to activate the Project -&gt; &quot;Build Automatically&quot; option as a minimum configuration.","title":"Refreshing static content with Spring MVC and Boot","body":"<p>For eclipse you have to activate the Project -> \"Build Automatically\" option as a minimum configuration.</p>\n"},{"tags":[],"owner":{"account_id":127863,"reputation":3533,"user_id":325324,"accept_rate":93,"display_name":"palto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1452243221,"creation_date":1452243221,"answer_id":34672904,"question_id":24762657,"body_markdown":"What I ended up using was [Browsersync with grunt][1]. browsersync and grunt watches your static resources on disk and updates the browser when you edit the files. It acts as a kind of proxy. This way you can see changes in UI immediately without building or restarting anything.\r\n\r\nGrunt, browsersync, spring boot and angularjs are configured for you if you use [JHipster][2] which I used to setup my project.\r\n\r\nGranted this requires a lot more tools than just an IDE and is a lot more complicated so I wouldn&#39;t recommend this for every project.\r\n\r\n  [1]: https://www.browsersync.io/docs/grunt/ &quot;Borwsersync with grunt&quot;\r\n  [2]: https://jhipster.github.io/","title":"Refreshing static content with Spring MVC and Boot","body":"<p>What I ended up using was <a href=\"https://www.browsersync.io/docs/grunt/\" rel=\"nofollow\" title=\"Borwsersync with grunt\">Browsersync with grunt</a>. browsersync and grunt watches your static resources on disk and updates the browser when you edit the files. It acts as a kind of proxy. This way you can see changes in UI immediately without building or restarting anything.</p>\n\n<p>Grunt, browsersync, spring boot and angularjs are configured for you if you use <a href=\"https://jhipster.github.io/\" rel=\"nofollow\">JHipster</a> which I used to setup my project.</p>\n\n<p>Granted this requires a lot more tools than just an IDE and is a lot more complicated so I wouldn't recommend this for every project.</p>\n"},{"tags":[],"owner":{"account_id":2519456,"reputation":696,"user_id":3218842,"display_name":"ameen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1465129159,"creation_date":1465129159,"answer_id":37641815,"question_id":24762657,"body_markdown":"I had the same issue , the solution proposed here seems logical and worked for me\r\nin breif :\r\n1- ctrl+shift+A \r\n2- search for registry\r\n3- in the opened dialogue search for &quot;compiler.automake.allow.when.app.running&quot;\r\nand check it \r\nhttp://garywaddell.com/2015/11/20/spring-boot-intellij-idea-not-reloading-static-content/\r\n","title":"Refreshing static content with Spring MVC and Boot","body":"<p>I had the same issue , the solution proposed here seems logical and worked for me\nin breif :\n1- ctrl+shift+A \n2- search for registry\n3- in the opened dialogue search for \"compiler.automake.allow.when.app.running\"\nand check it \n<a href=\"http://garywaddell.com/2015/11/20/spring-boot-intellij-idea-not-reloading-static-content/\" rel=\"nofollow\">http://garywaddell.com/2015/11/20/spring-boot-intellij-idea-not-reloading-static-content/</a></p>\n"},{"tags":[],"owner":{"account_id":979292,"reputation":1172,"user_id":999466,"accept_rate":75,"display_name":"eigil"},"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1507185798,"creation_date":1473092251,"answer_id":39334398,"question_id":24762657,"body_markdown":"A recap of the original problem\r\n&gt; I&#39;ve run into the problem that when I make modifications to my static content (html, js, css), I have to restart the application every time\r\n\r\nI had the same problem and finally solved it by adding\r\n\r\n    &lt;configuration&gt;\r\n        &lt;addResources&gt;true&lt;/addResources&gt;\r\n    &lt;/configuration&gt;\r\n\r\nto `spring-boot-maven-plugin` in the `pom.xml`\r\nI got confused by this spring-boot-devtools thing, but it had no effect whatever I did.\r\n \r\n&gt; My static content is stored in &quot;src/main/resources/public&quot; folder.\r\n\r\nYour path is just fine. src/main/resources/static is also fine.\r\n\r\n","title":"Refreshing static content with Spring MVC and Boot","body":"<p>A recap of the original problem</p>\n\n<blockquote>\n  <p>I've run into the problem that when I make modifications to my static content (html, js, css), I have to restart the application every time</p>\n</blockquote>\n\n<p>I had the same problem and finally solved it by adding</p>\n\n<pre><code>&lt;configuration&gt;\n    &lt;addResources&gt;true&lt;/addResources&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>to <code>spring-boot-maven-plugin</code> in the <code>pom.xml</code>\nI got confused by this spring-boot-devtools thing, but it had no effect whatever I did.</p>\n\n<blockquote>\n  <p>My static content is stored in \"src/main/resources/public\" folder.</p>\n</blockquote>\n\n<p>Your path is just fine. src/main/resources/static is also fine.</p>\n"},{"tags":[],"owner":{"account_id":168238,"reputation":1432,"user_id":393569,"accept_rate":36,"display_name":"viator"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1475079296,"creation_date":1475079296,"answer_id":39752723,"question_id":24762657,"body_markdown":"My solution (written in Kotlin but is quite obvious):\r\n\r\n    @Controller\r\n    class WebController : WebMvcConfigurerAdapter() {\r\n\r\n        override fun addResourceHandlers(registry: ResourceHandlerRegistry) {\r\n            System.getProperty(&quot;resources.local.path&quot;)?.let {\r\n                registry.addResourceHandler(&quot;/**&quot;).addResourceLocations(it)\r\n            }\r\n        }\r\n    ...\r\n    }\r\n\r\nMain idea is you can add your own resource handler conditionally. E.g. if some system property is set (_resources.local.path_) then add resource location with value from the property. Then you set this property in development with some reasonable value like &#39;-Dresources.local.path=file:/Users/andrey/Projects/gsp-test/src/main/resources/static/&#39;.\r\n \r\n**Do not forget trailing slash.**","title":"Refreshing static content with Spring MVC and Boot","body":"<p>My solution (written in Kotlin but is quite obvious):</p>\n\n<pre><code>@Controller\nclass WebController : WebMvcConfigurerAdapter() {\n\n    override fun addResourceHandlers(registry: ResourceHandlerRegistry) {\n        System.getProperty(\"resources.local.path\")?.let {\n            registry.addResourceHandler(\"/**\").addResourceLocations(it)\n        }\n    }\n...\n}\n</code></pre>\n\n<p>Main idea is you can add your own resource handler conditionally. E.g. if some system property is set (<em>resources.local.path</em>) then add resource location with value from the property. Then you set this property in development with some reasonable value like '-Dresources.local.path=file:/Users/andrey/Projects/gsp-test/src/main/resources/static/'.</p>\n\n<p><strong>Do not forget trailing slash.</strong></p>\n"},{"tags":[],"owner":{"account_id":3082309,"reputation":183,"user_id":2610265,"display_name":"pbirnie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1477231568,"creation_date":1477231568,"answer_id":40203800,"question_id":24762657,"body_markdown":"spring-boot-devtools is **not** the solution to &quot;hot deploy&quot; of edited static htm/js\r\n\r\nI configured a web facet inside intellij so that when I use it to edit html/js file inside resources/static, intellij then knows to copy the updated file to ./target and the spring boot application I have launched inside the automatically displays that content\r\n\r\nsee \r\nhttps://www.jetbrains.com/help/idea/2016.2/configuring-static-content-resources.html","title":"Refreshing static content with Spring MVC and Boot","body":"<p>spring-boot-devtools is <strong>not</strong> the solution to \"hot deploy\" of edited static htm/js</p>\n\n<p>I configured a web facet inside intellij so that when I use it to edit html/js file inside resources/static, intellij then knows to copy the updated file to ./target and the spring boot application I have launched inside the automatically displays that content</p>\n\n<p>see \n<a href=\"https://www.jetbrains.com/help/idea/2016.2/configuring-static-content-resources.html\" rel=\"nofollow\">https://www.jetbrains.com/help/idea/2016.2/configuring-static-content-resources.html</a></p>\n"},{"tags":[],"owner":{"account_id":72515,"reputation":31,"user_id":209343,"display_name":"briskr"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1521428921,"creation_date":1490780138,"answer_id":43089726,"question_id":24762657,"body_markdown":"@eigil metioned `addResources` config for maven build. I&#39;m using `spring-boot-gradle-plugin` in a gradle build, and I found this [Spring Boot github issue][1]\r\n, and the Spring Boot doc [mentioned this option too][2]. Just add this directive to build.gradle and run Gradle task `bootRun`, then resource file refreshes immediately when saved. FYI.\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/issues/2431 &quot;Support addResources configuration for Spring Boot Gradle Plugin&quot;\r\n  [2]: https://docs.spring.io/spring-boot/docs/1.5.9.RELEASE/reference/html/build-tool-plugins-gradle-plugin.html#build-tool-plugins-gradle-running-applications &quot;67.4 Running a project in-place&quot;","title":"Refreshing static content with Spring MVC and Boot","body":"<p>@eigil metioned <code>addResources</code> config for maven build. I'm using <code>spring-boot-gradle-plugin</code> in a gradle build, and I found this <a href=\"https://github.com/spring-projects/spring-boot/issues/2431\" rel=\"nofollow noreferrer\" title=\"Support addResources configuration for Spring Boot Gradle Plugin\">Spring Boot github issue</a>\n, and the Spring Boot doc <a href=\"https://docs.spring.io/spring-boot/docs/1.5.9.RELEASE/reference/html/build-tool-plugins-gradle-plugin.html#build-tool-plugins-gradle-running-applications\" rel=\"nofollow noreferrer\" title=\"67.4 Running a project in-place\">mentioned this option too</a>. Just add this directive to build.gradle and run Gradle task <code>bootRun</code>, then resource file refreshes immediately when saved. FYI.</p>\n"},{"tags":[],"owner":{"account_id":1979597,"reputation":1881,"user_id":1776520,"accept_rate":50,"display_name":"wizawu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1520317643,"creation_date":1504259843,"answer_id":45997670,"question_id":24762657,"body_markdown":"The Java version of @viator &#39;s answer:\r\n\r\n    @Configuration\r\n    class WebMvcConfigurer extends WebMvcConfigurerAdapter {\r\n        @Override\r\n        public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n            registry.addResourceHandler(&quot;/dist/*.js&quot;).addResourceLocations(\r\n                &quot;file:src/main/typescript/dist/&quot;\r\n            );\r\n        }\r\n    }\r\n\r\n","title":"Refreshing static content with Spring MVC and Boot","body":"<p>The Java version of @viator 's answer:</p>\n\n<pre><code>@Configuration\nclass WebMvcConfigurer extends WebMvcConfigurerAdapter {\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(\"/dist/*.js\").addResourceLocations(\n            \"file:src/main/typescript/dist/\"\n        );\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1052025,"reputation":5610,"user_id":1055715,"accept_rate":83,"display_name":"Surasin Tancharoen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1513806949,"creation_date":1513806949,"answer_id":47914903,"question_id":24762657,"body_markdown":"I am using 1.5.8.RELEASE.\r\n\r\nIt instantly updates my changes especially static files or jsp files.\r\n\r\nIf you are using Maven. You need to add this in pom.xml \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n\r\nAnd you have to start Spring Boot with this:\r\n\r\n    mvn clean spring-boot:run\r\n\r\nFull example and more detail here https://www.surasint.com/spring-boot-with-auto-update-changed-files-example/","title":"Refreshing static content with Spring MVC and Boot","body":"<p>I am using 1.5.8.RELEASE.</p>\n\n<p>It instantly updates my changes especially static files or jsp files.</p>\n\n<p>If you are using Maven. You need to add this in pom.xml </p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>And you have to start Spring Boot with this:</p>\n\n<pre><code>mvn clean spring-boot:run\n</code></pre>\n\n<p>Full example and more detail here <a href=\"https://www.surasint.com/spring-boot-with-auto-update-changed-files-example/\" rel=\"nofollow noreferrer\">https://www.surasint.com/spring-boot-with-auto-update-changed-files-example/</a></p>\n"},{"tags":[],"owner":{"account_id":5856303,"reputation":1377,"user_id":4613430,"display_name":"Dev Sabby"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1528279593,"creation_date":1528279593,"answer_id":50717700,"question_id":24762657,"body_markdown":"You can do it by just adding one more dependency \r\n\r\n&gt; you Gradle\r\n\r\n    compile group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-devtools&#39;, version: &#39;1.3.0.RELEASE&#39;\r\n\r\n&gt; In you Pom.xml\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3.0.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n","title":"Refreshing static content with Spring MVC and Boot","body":"<p>You can do it by just adding one more dependency </p>\n\n<blockquote>\n  <p>you Gradle</p>\n</blockquote>\n\n<pre><code>compile group: 'org.springframework.boot', name: 'spring-boot-devtools', version: '1.3.0.RELEASE'\n</code></pre>\n\n<blockquote>\n  <p>In you Pom.xml</p>\n</blockquote>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n    &lt;version&gt;1.3.0.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13987316,"reputation":161,"user_id":10102104,"display_name":"Holgi P"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531950857,"creation_date":1531950857,"answer_id":51411523,"question_id":24762657,"body_markdown":"You have two possebilities how to serve static webcontent\r\n\r\n 1. From the classpath (per default src/main/resources/static \r\n                        or src/main/resources/public or META-INF/resources/)\r\n 2. From the file system (per default src/main/webapp)\r\n\r\nIf you pick solution 1) - you can safely copy the jar around as the static web content is within that jar. If you want that the server picks up changes, you need to do (auto)hotswapping.\r\n\r\nIf you pick solution 2) - everything will work out of the box, every change will be automatically picked up. HOWEVER - if you copy the final jar to a different location - things will stop working. That is unless you specify an absolute path in `application.properties`. For example:\r\n\r\n    spring.resources.static-locations=file:///C:/myspringbootapp/src/main/webapp\r\n\r\n\r\nSo solution 2) is easier but less portable. Solution 1) is portable but more difficult to use(ide config).  \r\n\r\n","title":"Refreshing static content with Spring MVC and Boot","body":"<p>You have two possebilities how to serve static webcontent</p>\n\n<ol>\n<li>From the classpath (per default src/main/resources/static \n                    or src/main/resources/public or META-INF/resources/)</li>\n<li>From the file system (per default src/main/webapp)</li>\n</ol>\n\n<p>If you pick solution 1) - you can safely copy the jar around as the static web content is within that jar. If you want that the server picks up changes, you need to do (auto)hotswapping.</p>\n\n<p>If you pick solution 2) - everything will work out of the box, every change will be automatically picked up. HOWEVER - if you copy the final jar to a different location - things will stop working. That is unless you specify an absolute path in <code>application.properties</code>. For example:</p>\n\n<pre><code>spring.resources.static-locations=file:///C:/myspringbootapp/src/main/webapp\n</code></pre>\n\n<p>So solution 2) is easier but less portable. Solution 1) is portable but more difficult to use(ide config).  </p>\n"},{"tags":[],"owner":{"account_id":439568,"reputation":16842,"user_id":828584,"accept_rate":86,"display_name":"mowwwalker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581968432,"creation_date":1581968432,"answer_id":60269373,"question_id":24762657,"body_markdown":"For Spring Boot 2+ with gradle Kotlin dsl:\r\n```\r\ntasks.bootRun {\r\n\tsourceResources(sourceSets.getAt(SourceSet.MAIN_SOURCE_SET_NAME))\r\n}\r\n```\r\n\r\nthanks to @briskr&#39;s answer for the gradle dsl version :)","title":"Refreshing static content with Spring MVC and Boot","body":"<p>For Spring Boot 2+ with gradle Kotlin dsl:</p>\n\n<pre><code>tasks.bootRun {\n    sourceResources(sourceSets.getAt(SourceSet.MAIN_SOURCE_SET_NAME))\n}\n</code></pre>\n\n<p>thanks to @briskr's answer for the gradle dsl version :)</p>\n"},{"tags":[],"owner":{"account_id":13135321,"reputation":61,"user_id":9488508,"display_name":"Jilson P Jose"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621847910,"creation_date":1621840624,"answer_id":67668011,"question_id":24762657,"body_markdown":"I had the same problem with live reloading of static contents in my SpringBoot porject: Now from various solutions posted in StackOverflow, I am able to get the solution. Following are the tools I used for development: IntelliJ Idea &amp; Google Chrome in Ubuntu 18.04\r\nI did the following: \r\n1. Kept the templates folder in resourses folder itself. (Some solutions I found it to be kept in webapp folder under the main, but I did not get the result)\r\n2. Add this configuration\r\n```&lt;configuration&gt;\r\n\t&lt;addResources&gt;true&lt;/addResources&gt;\r\n\t&lt;/configuration&gt;\r\n```\r\n to spring-maven-plugin in your POM file. \r\n\r\n3.Please don&#39;t forget to add this dependency to POM file\r\n```\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n4. Add the Live Reload extension to your web browser.\r\n5. Restart the server using &#39; mvn clean spring-boot:run &#39;  (only then the changes will be reflected in the build). During server startup you can see the message Live Server started at ....\r\n6. Load the page using localhost:8080/... and click the LiveReload extension to connect it with the server. \r\n\r\n7. Make any change to your static HTML file in the resources/ templates folder. Save it and check the webbrowser again, it will be reflected there... \r\n","title":"Refreshing static content with Spring MVC and Boot","body":"<p>I had the same problem with live reloading of static contents in my SpringBoot porject: Now from various solutions posted in StackOverflow, I am able to get the solution. Following are the tools I used for development: IntelliJ Idea &amp; Google Chrome in Ubuntu 18.04\nI did the following:</p>\n<ol>\n<li>Kept the templates folder in resourses folder itself. (Some solutions I found it to be kept in webapp folder under the main, but I did not get the result)</li>\n<li>Add this configuration</li>\n</ol>\n<pre><code>    &lt;addResources&gt;true&lt;/addResources&gt;\n    &lt;/configuration&gt;\n</code></pre>\n<p>to spring-maven-plugin in your POM file.</p>\n<p>3.Please don't forget to add this dependency to POM file</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<ol start=\"4\">\n<li><p>Add the Live Reload extension to your web browser.</p>\n</li>\n<li><p>Restart the server using ' mvn clean spring-boot:run '  (only then the changes will be reflected in the build). During server startup you can see the message Live Server started at ....</p>\n</li>\n<li><p>Load the page using localhost:8080/... and click the LiveReload extension to connect it with the server.</p>\n</li>\n<li><p>Make any change to your static HTML file in the resources/ templates folder. Save it and check the webbrowser again, it will be reflected there...</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11566574,"reputation":87,"user_id":8474661,"display_name":"Yasser Greyeb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693285329,"creation_date":1693285329,"answer_id":76997426,"question_id":24762657,"body_markdown":"This is my solution using Spring Boot 3.1.2, Spring Boot Web Starter, and Spring Boot Devtools.\r\n\r\nSet the following properties in `application-dev.properties`:\r\n```properties\r\nspring.web.resources.static-locations=file:src/main/resources/static/\r\nspring.devtools.restart.additional-paths=file:src/main/resources/static/\r\n```\r\nNotice that this is a development-only set up because in production static content will be served from the classpath.\r\n\r\nWhat it does:\r\n- Devtools is instructed to restart the service whenever there are changes in the static directory. This will trigger a live reload. It pairs great with live-reload browser extensions.\r\n- Static resources are served from the file system instead of the classpath. It allows serving updated static files without needing to rebuild the project. Thus, eliminating the need to configure your IDE to rebuild on every save which may be a little slow, depending on the project.\r\n\r\nI use this setup for a web project built with Vite, (`vite build --watch`) dumping all output in `src/main/resources/static/` and Spring Boot Devtools picking up the changes almost immediately.","title":"Refreshing static content with Spring MVC and Boot","body":"<p>This is my solution using Spring Boot 3.1.2, Spring Boot Web Starter, and Spring Boot Devtools.</p>\n<p>Set the following properties in <code>application-dev.properties</code>:</p>\n<pre><code>spring.web.resources.static-locations=file:src/main/resources/static/\nspring.devtools.restart.additional-paths=file:src/main/resources/static/\n</code></pre>\n<p>Notice that this is a development-only set up because in production static content will be served from the classpath.</p>\n<p>What it does:</p>\n<ul>\n<li>Devtools is instructed to restart the service whenever there are changes in the static directory. This will trigger a live reload. It pairs great with live-reload browser extensions.</li>\n<li>Static resources are served from the file system instead of the classpath. It allows serving updated static files without needing to rebuild the project. Thus, eliminating the need to configure your IDE to rebuild on every save which may be a little slow, depending on the project.</li>\n</ul>\n<p>I use this setup for a web project built with Vite, (<code>vite build --watch</code>) dumping all output in <code>src/main/resources/static/</code> and Spring Boot Devtools picking up the changes almost immediately.</p>\n"}],"owner":{"account_id":127863,"reputation":3533,"user_id":325324,"accept_rate":93,"display_name":"palto"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84363,"favorite_count":0,"down_vote_count":0,"up_vote_count":57,"accepted_answer_id":24768611,"answer_count":17,"score":57,"last_activity_date":1693285329,"creation_date":1405439343,"question_id":24762657,"body_markdown":"I&#39;m evaluating Spring MVC &amp; Boot and AngularJs for building web applications. I&#39;ve run into the problem that when I make modifications to my static content (html, js, css), I have to restart the application every time. I hope there is a some way of solving that because restarting the whole application for static content changes is not efficient. Every other web app framework I&#39;ve tried allows updating static content files on the fly(even just Spring MVC and plain old WAR application).\r\n\r\nI&#39;ve setup my project from &quot;Building a RESTful Web Service with Spring Boot Actuator&quot; guide (http://spring.io/guides/gs/actuator-service/). Basically it uses Spring Boot and MVC controllers to create a REST service. In addition, I&#39;ve used &quot;Consuming a RESTful Web Service with AngularJS&quot; guide (http://spring.io/guides/gs/consuming-rest-angularjs/) to build a frontend with AngularJS. It creates a web page that displays the response from the REST service. The only change I&#39;ve made is that the requests are made to my application instead of &quot;http://rest-service.guides.spring.io/greeting&quot;. My static content is stored in &quot;src/main/resources/public&quot; folder. This setup works correctly except it doesn&#39;t reload static content.","title":"Refreshing static content with Spring MVC and Boot","body":"<p>I'm evaluating Spring MVC &amp; Boot and AngularJs for building web applications. I've run into the problem that when I make modifications to my static content (html, js, css), I have to restart the application every time. I hope there is a some way of solving that because restarting the whole application for static content changes is not efficient. Every other web app framework I've tried allows updating static content files on the fly(even just Spring MVC and plain old WAR application).</p>\n\n<p>I've setup my project from \"Building a RESTful Web Service with Spring Boot Actuator\" guide (<a href=\"http://spring.io/guides/gs/actuator-service/\">http://spring.io/guides/gs/actuator-service/</a>). Basically it uses Spring Boot and MVC controllers to create a REST service. In addition, I've used \"Consuming a RESTful Web Service with AngularJS\" guide (<a href=\"http://spring.io/guides/gs/consuming-rest-angularjs/\">http://spring.io/guides/gs/consuming-rest-angularjs/</a>) to build a frontend with AngularJS. It creates a web page that displays the response from the REST service. The only change I've made is that the requests are made to my application instead of \"<a href=\"http://rest-service.guides.spring.io/greeting\">http://rest-service.guides.spring.io/greeting</a>\". My static content is stored in \"src/main/resources/public\" folder. This setup works correctly except it doesn't reload static content.</p>\n"},{"tags":["java","sql","hibernate","gis","geospatial"],"answers":[{"tags":[],"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693285192,"creation_date":1693285192,"answer_id":76997419,"question_id":76989491,"body_markdown":"I discovered that there was a error in my build.gradle that was causing the spatial dependacy not to be imported. My build.gradle was:\r\n\r\n    implementation group: &#39;org.hibernate&#39;, name: &#39;hibernate-spatial&#39;, version: &#39;6.2.6.Final&#39;, ext: &#39;pom&#39;\r\n\r\nIt should not have the `pom` and should have just been:\r\n\r\n    implementation group: &#39;org.hibernate.orm&#39;, name: &#39;hibernate-spatial&#39;, version: &#39;6.2.6.Final&#39;\r\n\r\nEverything works now.","title":"Hibernate &amp; Geolatte Point Can not deserialize","body":"<p>I discovered that there was a error in my build.gradle that was causing the spatial dependacy not to be imported. My build.gradle was:</p>\n<pre><code>implementation group: 'org.hibernate', name: 'hibernate-spatial', version: '6.2.6.Final', ext: 'pom'\n</code></pre>\n<p>It should not have the <code>pom</code> and should have just been:</p>\n<pre><code>implementation group: 'org.hibernate.orm', name: 'hibernate-spatial', version: '6.2.6.Final'\n</code></pre>\n<p>Everything works now.</p>\n"}],"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76997419,"answer_count":1,"score":0,"last_activity_date":1693285192,"creation_date":1693183609,"question_id":76989491,"body_markdown":"I have a class with a Geolatte Point object that is throwing a can not deserialize error when it is retrieved from the database.\r\n\r\nThe environment is Java 18, Spring Boot 3.2 and Hibernate 6.2 and MySQL8.\r\n\r\nThe class containing the Point field is:\r\n\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @ToString\r\n    @Entity\r\n    @Data\r\n    @JsonIgnoreProperties({&quot;hibernateLazyInitalizer&quot;, &quot;handler&quot;})\r\n    @SequenceGenerator(name=&quot;check_seq&quot;, sequenceName = &quot;CHECK_SEQ&quot;, initialValue = 100, allocationSize = 50)\r\n    @Table(name=&quot;CHECK&quot;)\r\n    public class Check {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = SEQUENCE, generator = &quot;check_seq&quot;)\r\n    private Long id;\r\n\r\n    private Point&lt;G2D&gt; location;\r\n\r\n    // Getters and Setters\r\n\r\nIn application.properties I am initialising the database with\r\n\r\n    INSERT INTO HEALTH_CHECK (id, location, catch_date_time)\r\n    VALUES (6, ST_PointFromText(&#39;POINT(4.33 53.21)&#39;, 4326),&#39;2023-06-01 13:00:00&#39;);\r\n\r\nWhen I try to retrieve this object I get `Caused by: org.hibernate.type.SerializationException: could not deserialize`.\r\n\r\nI then added the exact same point coordinates to the class in java (rather than through application.properties SQL) and I was able to set and retrieve the Check class without issue, i.e.:\r\n\r\n    Point&lt;G2D&gt; pnt=point(WGS84,g(4.33,53.21));\r\n    Check c = checkRepository.findById(5L).orElse(null);\r\n    c.setLocation(pnt);\r\n    checkRepository.save(hc);\r\n    // then evalulate expression shows entity with coords.\r\n    \r\nSo the error appears to be related to the way that the coordinates are being applied to the database in MySQL by Hibernate/Geolatte.\r\n\r\nI have compared the store working (Java set) vs MySQL SQL statement set values from the database column:\r\n\r\nWorking:\r\n0xACED00057372002D6F72672E67656F6C617474652E67656F6D2E47656F6D657472792453657269616C697A6174696F6E50726F7879550F75859A8CA8920200015B00066275666665727400025B427870757200025B42ACF317F8060854E00200007870000000190101000020E610000052B81E85EB5111407B14AE47E19A4A40\r\n\r\nNot Working:\r\n0xE610000001010000007B14AE47E19A4A4052B81E85EB511140\r\n\r\nI note that if I try SQL on the console to retrieve the non working point with `SELECT ST_AsText(location) FROM check WHERE id=5` I get the error `3055 Geometry byte string must be little endian&#39;.\r\n\r\nIf this isn&#39;t a bug - what am I doing wrong?\r\n\r\n","title":"Hibernate &amp; Geolatte Point Can not deserialize","body":"<p>I have a class with a Geolatte Point object that is throwing a can not deserialize error when it is retrieved from the database.</p>\n<p>The environment is Java 18, Spring Boot 3.2 and Hibernate 6.2 and MySQL8.</p>\n<p>The class containing the Point field is:</p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@ToString\n@Entity\n@Data\n@JsonIgnoreProperties({&quot;hibernateLazyInitalizer&quot;, &quot;handler&quot;})\n@SequenceGenerator(name=&quot;check_seq&quot;, sequenceName = &quot;CHECK_SEQ&quot;, initialValue = 100, allocationSize = 50)\n@Table(name=&quot;CHECK&quot;)\npublic class Check {\n\n@Id\n@GeneratedValue(strategy = SEQUENCE, generator = &quot;check_seq&quot;)\nprivate Long id;\n\nprivate Point&lt;G2D&gt; location;\n\n// Getters and Setters\n</code></pre>\n<p>In application.properties I am initialising the database with</p>\n<pre><code>INSERT INTO HEALTH_CHECK (id, location, catch_date_time)\nVALUES (6, ST_PointFromText('POINT(4.33 53.21)', 4326),'2023-06-01 13:00:00');\n</code></pre>\n<p>When I try to retrieve this object I get <code>Caused by: org.hibernate.type.SerializationException: could not deserialize</code>.</p>\n<p>I then added the exact same point coordinates to the class in java (rather than through application.properties SQL) and I was able to set and retrieve the Check class without issue, i.e.:</p>\n<pre><code>Point&lt;G2D&gt; pnt=point(WGS84,g(4.33,53.21));\nCheck c = checkRepository.findById(5L).orElse(null);\nc.setLocation(pnt);\ncheckRepository.save(hc);\n// then evalulate expression shows entity with coords.\n</code></pre>\n<p>So the error appears to be related to the way that the coordinates are being applied to the database in MySQL by Hibernate/Geolatte.</p>\n<p>I have compared the store working (Java set) vs MySQL SQL statement set values from the database column:</p>\n<p>Working:\n0xACED00057372002D6F72672E67656F6C617474652E67656F6D2E47656F6D657472792453657269616C697A6174696F6E50726F7879550F75859A8CA8920200015B00066275666665727400025B427870757200025B42ACF317F8060854E00200007870000000190101000020E610000052B81E85EB5111407B14AE47E19A4A40</p>\n<p>Not Working:\n0xE610000001010000007B14AE47E19A4A4052B81E85EB511140</p>\n<p>I note that if I try SQL on the console to retrieve the non working point with <code>SELECT ST_AsText(location) FROM check WHERE id=5</code> I get the error `3055 Geometry byte string must be little endian'.</p>\n<p>If this isn't a bug - what am I doing wrong?</p>\n"},{"tags":["java","griddb"],"comments":[{"owner":{"account_id":18999437,"reputation":2463,"user_id":13867124,"display_name":"AztecCodes"},"score":0,"creation_date":1693222191,"post_id":76992370,"comment_id":135727225,"body_markdown":"Please don&#39;t post screenshots of code. Always post it as text and use the formatting tool to make it look good.","body":"Please don&#39;t post screenshots of code. Always post it as text and use the formatting tool to make it look good."},{"owner":{"account_id":22296747,"reputation":151,"user_id":16522650,"display_name":"NebuCodeNezzar"},"score":0,"creation_date":1693222261,"post_id":76992370,"comment_id":135727242,"body_markdown":"Ok. Let me edit it with real code. Thank you for the heads up","body":"Ok. Let me edit it with real code. Thank you for the heads up"},{"owner":{"account_id":18999437,"reputation":2463,"user_id":13867124,"display_name":"AztecCodes"},"score":0,"creation_date":1693222342,"post_id":76992370,"comment_id":135727262,"body_markdown":"Thank you! Please always post as much relevant code as possible. You will notice that people can help you way better and faster then.","body":"Thank you! Please always post as much relevant code as possible. You will notice that people can help you way better and faster then."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1693222828,"post_id":76992370,"comment_id":135727347,"body_markdown":"*[The errors, too :)](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question/285557#285557)*","body":"<i><a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question/285557#285557\">The errors, too :)</a></i>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1693267611,"post_id":76992370,"comment_id":135735346,"body_markdown":"Vague title. Rewrite to summarize your specific technical issue.","body":"Vague title. Rewrite to summarize your specific technical issue."}],"owner":{"account_id":22296747,"reputation":151,"user_id":16522650,"display_name":"NebuCodeNezzar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693282902,"creation_date":1693221836,"question_id":76992370,"body_markdown":"I have successfully run the Griddb Java client on Docker cli using the following command:\r\n\r\n    $ docker run -d --network=&quot;host&quot; griddb/griddb\r\n    $ docker run --network=&quot;host&quot; griddb/java-client\r\nand it is running well by returning the info as specified [here](https://hub.docker.com/r/griddb/griddb). I decided to translate the same to my Java code since the output exposes the configurations used in the docker Java client and as per my code, since it is essentially the same configuration, I expect the same results because my Griddb docker container instance is running in the background. Why does the docker java client run and my code doesn&#39;t go past the connection configuration? What am I doing wrong? \r\nMy Configuration Code:\r\n\r\n     public static void main(String[] args) throws GSException {\r\n        Properties props = new Properties();\r\n        props.setProperty(&quot;notificationAddress&quot;, &quot;239.0.0.1&quot;);\r\n        props.setProperty(&quot;notificationPort&quot;, &quot;31999&quot;);\r\n        props.setProperty(&quot;clusterName&quot;, &quot;dockerGridDB&quot;);\r\n        props.setProperty(&quot;user&quot;, &quot;admin&quot;);\r\n        props.setProperty(&quot;password&quot;, &quot;admin&quot;);\r\n        GridStore store = GridStoreFactory.getInstance().getGridStore(props);\r\n        Collection&lt;String, Person&gt; col = store.putCollection(&quot;PEOPLE&quot;, Person.class);\r\n        Person person=new Person();\r\n        person.name=&quot;shisia&quot;;\r\n        person.age=30;\r\n        col.put(person);\r\n        Query&lt;Person&gt; query = col.query(&quot;select * where name = &#39;shisia&#39;&quot;);\r\n        RowSet&lt;Person&gt; rs = query.fetch(true);\r\n        while (rs.hasNext()) {\r\n            // Update the searched Row\r\n            Person person1 = rs.next();\r\n            System.out.println(&quot;Name: &quot;+ person1.name +&quot; Age: &quot;+ person1.age);\r\n        }\r\n        store.close();\r\n    }\r\n\r\nThis is the Docker cli Grdiddb output\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe error\r\n\r\n  \r\n\r\n    Hag 28, 2023 2:42:39 WB com.toshiba.mwcloud.gs.GridStoreLogger$Connection info\r\n    INFO: Retry started (context=73ad2d6, statement=null, orgAddress=null, partition=0, statementId=0, trialCount=0)\r\n    com.toshiba.mwcloud.gs.common.GSConnectionException: [145028:JC_BAD_CONNECTION] Failed to update by notification (address=/239.0.0.1:31999, reason=Receive timed out)\r\n        at com.toshiba.mwcloud.gs.subnet.NodeResolver.updateMasterInfo(NodeResolver.java:854)\r\n        at com.toshiba.mwcloud.gs.subnet.NodeResolver.prepareConnectionAndClusterInfo(NodeResolver.java:558)\r\n\t    at com.toshiba.mwcloud.gs.subnet.NodeResolver.getPartitionCount(NodeResolver.java:241)\r\n        at com.toshiba.mwcloud.gs.subnet.GridStoreChannel$5.execute(GridStoreChannel.java:2277)\r\n\t    at com.toshiba.mwcloud.gs.subnet.GridStoreChannel.executeStatement(GridStoreChannel.java:1847)\r\n\t    at com.toshiba.mwcloud.gs.subnet.GridStoreChannel.executeResolver(GridStoreChannel.java:2084)\r\n\t    at com.toshiba.mwcloud.gs.subnet.GridStoreChannel.resolvePartitionId(GridStoreChannel.java:2274)\r\n        at com.toshiba.mwcloud.gs.subnet.SubnetGridStore.putContainer(SubnetGridStore.java:992)\r\n\t    at com.toshiba.mwcloud.gs.subnet.SubnetGridStore.putCollection(SubnetGridStore.java:1049)\r\n\t    at com.toshiba.mwcloud.gs.subnet.SubnetGridStore.putCollection(SubnetGridStore.java:797)\r\n\t    at com.toshiba.mwcloud.gs.subnet.SubnetGridStore.putCollection(SubnetGridStore.java:100)\r\n\t    at com.toshiba.mwcloud.gs.partitioned.PartStore.putCollection(PartStore.java:177)\r\n\t    at org.example.Griddb_Tesr.main(Griddb_Tesr.java:37)\r\n    Caused by: java.net.SocketTimeoutException: Receive timed out\r\n\t    at java.base/sun.nio.ch.DatagramChannelImpl.trustedBlockingReceive(DatagramChannelImpl.java:744)\r\n\t    at java.base/sun.nio.ch.DatagramChannelImpl.blockingReceive(DatagramChannelImpl.java:673)\r\n\t    at java.base/sun.nio.ch.DatagramSocketAdaptor.receive(DatagramSocketAdaptor.java:241)\r\n\t    at java.base/java.net.DatagramSocket.receive(DatagramSocket.java:714)\r\n\t    at com.toshiba.mwcloud.gs.subnet.NodeResolver.updateMasterInfo(NodeResolver.java:795)\r\n\t... 12 more\r\n\r\n  [1]: https://i.stack.imgur.com/Sa1Qi.png","title":"Griddb Docker Java Client configuration not working on local project","body":"<p>I have successfully run the Griddb Java client on Docker cli using the following command:</p>\n<pre><code>$ docker run -d --network=&quot;host&quot; griddb/griddb\n$ docker run --network=&quot;host&quot; griddb/java-client\n</code></pre>\n<p>and it is running well by returning the info as specified <a href=\"https://hub.docker.com/r/griddb/griddb\" rel=\"nofollow noreferrer\">here</a>. I decided to translate the same to my Java code since the output exposes the configurations used in the docker Java client and as per my code, since it is essentially the same configuration, I expect the same results because my Griddb docker container instance is running in the background. Why does the docker java client run and my code doesn't go past the connection configuration? What am I doing wrong?\nMy Configuration Code:</p>\n<pre><code> public static void main(String[] args) throws GSException {\n    Properties props = new Properties();\n    props.setProperty(&quot;notificationAddress&quot;, &quot;239.0.0.1&quot;);\n    props.setProperty(&quot;notificationPort&quot;, &quot;31999&quot;);\n    props.setProperty(&quot;clusterName&quot;, &quot;dockerGridDB&quot;);\n    props.setProperty(&quot;user&quot;, &quot;admin&quot;);\n    props.setProperty(&quot;password&quot;, &quot;admin&quot;);\n    GridStore store = GridStoreFactory.getInstance().getGridStore(props);\n    Collection&lt;String, Person&gt; col = store.putCollection(&quot;PEOPLE&quot;, Person.class);\n    Person person=new Person();\n    person.name=&quot;shisia&quot;;\n    person.age=30;\n    col.put(person);\n    Query&lt;Person&gt; query = col.query(&quot;select * where name = 'shisia'&quot;);\n    RowSet&lt;Person&gt; rs = query.fetch(true);\n    while (rs.hasNext()) {\n        // Update the searched Row\n        Person person1 = rs.next();\n        System.out.println(&quot;Name: &quot;+ person1.name +&quot; Age: &quot;+ person1.age);\n    }\n    store.close();\n}\n</code></pre>\n<p>This is the Docker cli Grdiddb output</p>\n<p><a href=\"https://i.stack.imgur.com/Sa1Qi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sa1Qi.png\" alt=\"enter image description here\" /></a></p>\n<p>The error</p>\n<pre><code>Hag 28, 2023 2:42:39 WB com.toshiba.mwcloud.gs.GridStoreLogger$Connection info\nINFO: Retry started (context=73ad2d6, statement=null, orgAddress=null, partition=0, statementId=0, trialCount=0)\ncom.toshiba.mwcloud.gs.common.GSConnectionException: [145028:JC_BAD_CONNECTION] Failed to update by notification (address=/239.0.0.1:31999, reason=Receive timed out)\n    at com.toshiba.mwcloud.gs.subnet.NodeResolver.updateMasterInfo(NodeResolver.java:854)\n    at com.toshiba.mwcloud.gs.subnet.NodeResolver.prepareConnectionAndClusterInfo(NodeResolver.java:558)\n    at com.toshiba.mwcloud.gs.subnet.NodeResolver.getPartitionCount(NodeResolver.java:241)\n    at com.toshiba.mwcloud.gs.subnet.GridStoreChannel$5.execute(GridStoreChannel.java:2277)\n    at com.toshiba.mwcloud.gs.subnet.GridStoreChannel.executeStatement(GridStoreChannel.java:1847)\n    at com.toshiba.mwcloud.gs.subnet.GridStoreChannel.executeResolver(GridStoreChannel.java:2084)\n    at com.toshiba.mwcloud.gs.subnet.GridStoreChannel.resolvePartitionId(GridStoreChannel.java:2274)\n    at com.toshiba.mwcloud.gs.subnet.SubnetGridStore.putContainer(SubnetGridStore.java:992)\n    at com.toshiba.mwcloud.gs.subnet.SubnetGridStore.putCollection(SubnetGridStore.java:1049)\n    at com.toshiba.mwcloud.gs.subnet.SubnetGridStore.putCollection(SubnetGridStore.java:797)\n    at com.toshiba.mwcloud.gs.subnet.SubnetGridStore.putCollection(SubnetGridStore.java:100)\n    at com.toshiba.mwcloud.gs.partitioned.PartStore.putCollection(PartStore.java:177)\n    at org.example.Griddb_Tesr.main(Griddb_Tesr.java:37)\nCaused by: java.net.SocketTimeoutException: Receive timed out\n    at java.base/sun.nio.ch.DatagramChannelImpl.trustedBlockingReceive(DatagramChannelImpl.java:744)\n    at java.base/sun.nio.ch.DatagramChannelImpl.blockingReceive(DatagramChannelImpl.java:673)\n    at java.base/sun.nio.ch.DatagramSocketAdaptor.receive(DatagramSocketAdaptor.java:241)\n    at java.base/java.net.DatagramSocket.receive(DatagramSocket.java:714)\n    at com.toshiba.mwcloud.gs.subnet.NodeResolver.updateMasterInfo(NodeResolver.java:795)\n... 12 more\n</code></pre>\n"},{"tags":["java","class","arraylist","account","bank"],"comments":[{"owner":{"account_id":2818342,"reputation":299828,"user_id":2422776,"display_name":"Mureinik"},"score":3,"creation_date":1435009541,"post_id":30990366,"comment_id":50010466,"body_markdown":"That&#39;s a lot of code... What exactly is the problem?","body":"That&#39;s a lot of code... What exactly is the problem?"},{"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"score":3,"creation_date":1435009683,"post_id":30990366,"comment_id":50010516,"body_markdown":"In Java operations/methods are called on instance using the dot(.) operator. So in your case simply call BankAccount instanceName.methodName(pass any param if required)","body":"In Java operations/methods are called on instance using the dot(.) operator. So in your case simply call BankAccount instanceName.methodName(pass any param if required)"},{"owner":{"account_id":4620709,"reputation":8645,"user_id":3745896,"accept_rate":93,"display_name":"River"},"score":0,"creation_date":1435009857,"post_id":30990366,"comment_id":50010582,"body_markdown":"If you&#39;re having trouble *finding* the `BankAccount` instance you want, consider using a `Map` instead of an `ArrayList` and have it map to `BankAccount` using `customerID`. (Although this could be trivially achieved by making each `customerID` sequential and simply indexing into your `ArrayList` using them.)","body":"If you&#39;re having trouble <i>finding</i> the <code>BankAccount</code> instance you want, consider using a <code>Map</code> instead of an <code>ArrayList</code> and have it map to <code>BankAccount</code> using <code>customerID</code>. (Although this could be trivially achieved by making each <code>customerID</code> sequential and simply indexing into your <code>ArrayList</code> using them.)"},{"owner":{"account_id":2791991,"reputation":4341,"user_id":2402061,"accept_rate":88,"display_name":"Ricky Mutschlechner"},"score":0,"creation_date":1435012908,"post_id":30990366,"comment_id":50011720,"body_markdown":"Also, your constructor should not be `public void BankAccount(...` it should be `public BankAccount(...`.","body":"Also, your constructor should not be <code>public void BankAccount(...</code> it should be <code>public BankAccount(...</code>."}],"answers":[{"tags":[],"owner":{"account_id":6500265,"reputation":4070,"user_id":5031373,"accept_rate":69,"display_name":"jpyams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435071413,"creation_date":1435012076,"answer_id":30990886,"question_id":30990366,"body_markdown":"The problem is that you never initialize any of the fields in BankAccount.  Remove the `void` from the BankAccount constructor to make it a constructor and use that constructor when you build the class in TestBank.\r\n\r\nSince these fields are duplicates of the ones in Customer, it seems that it would be best to do something like `customer.deposit(amount)`, etc.  Remove your BankAccount class and move your methods to Customer and add the parameter `int amount` to the methods that use amount.  Then in your TestBank class change the deposit, etc. method calls to have an amount parameter.\r\n\r\nAlso, you can get rid of the getter and setter methods in Customer.","title":"Java ArrayList Bank Account","body":"<p>The problem is that you never initialize any of the fields in BankAccount.  Remove the <code>void</code> from the BankAccount constructor to make it a constructor and use that constructor when you build the class in TestBank.</p>\n\n<p>Since these fields are duplicates of the ones in Customer, it seems that it would be best to do something like <code>customer.deposit(amount)</code>, etc.  Remove your BankAccount class and move your methods to Customer and add the parameter <code>int amount</code> to the methods that use amount.  Then in your TestBank class change the deposit, etc. method calls to have an amount parameter.</p>\n\n<p>Also, you can get rid of the getter and setter methods in Customer.</p>\n"},{"tags":[],"owner":{"account_id":28065276,"reputation":11,"user_id":21438756,"display_name":"Dhruv Shantilal Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679990034,"creation_date":1679990034,"answer_id":75863617,"question_id":30990366,"body_markdown":"\r\n\r\n    /*in this program you can deposit, withdraw, and also show the statement of what you did with the help of ArrayList */\r\n     \r\n    \r\n    import java.util.*;\r\n    \r\n    class ExcerciseCollection1 {\r\n    \r\n    \tstatic float totalBalance;\r\n    \tstatic float availableBalance;\r\n    \r\n    \tvoid deposit(float amount) {\r\n    \t\ttotalBalance += amount;\r\n    \t\t\r\n    \t}\r\n    \r\n    \tvoid withdraw(float money) throws Exception {\r\n    \t\tif (totalBalance &lt; money) {\r\n    \t\t\tSystem.out.println(&quot;insufficient balance&quot;);\r\n    \t\t} else {\r\n    \t\t\ttotalBalance = totalBalance - money;\r\n    \t\t\tavailableBalance = totalBalance;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tvoid showOption() {\r\n    \t\tSystem.out.println(&quot;Operations&quot;);\r\n    \t\tSystem.out.println(&quot;1)Deposit\\n&quot; + &quot;2)Withdraw\\n&quot; + &quot;3)View Statement\\n&quot; + &quot;4)exit&quot;);\r\n    \t\tSystem.out.println(&quot;Choose your option=&quot;);\r\n    \r\n    \t}\r\n    \r\n    \tpublic static void main(String arg[]) {\r\n    \r\n    \t\ttry {\r\n    \t\t\tExcerciseCollection1 b = new ExcerciseCollection1();\r\n    \t\t\tScanner sc = new Scanner(System.in);\r\n    \r\n    \t\t\tList&lt;String&gt; statement = new ArrayList&lt;&gt;();\r\n    \r\n    \t\t\tint option;\r\n    \t\t\tdo {\r\n    \r\n    \t\t\t\tb.showOption();\r\n    \t\t\t\toption = sc.nextInt();\r\n    \t\t\t\tswitch (option) {\r\n    \t\t\t\tcase 1:\r\n    \t\t\t\t\tSystem.out.println(&quot;Enter Your Amount For Deposite : &quot;);\r\n    \t\t\t\t\tfloat deposite = sc.nextFloat();\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tb.deposit(deposite);\r\n    \t\t\t\t\tstatement.add(&quot;Deposite=&quot; + deposite);\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tcase 2:\r\n    \t\t\t\t\tSystem.out.println(&quot;Enter Your Amount for withdraw : &quot;);\r\n    \t\t\t\t\tfloat withdraw = sc.nextFloat();\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tSystem.out.println(&quot;Withdrawing amount : &quot; + withdraw);\r\n    \t\t\t\t\tb.withdraw(withdraw);\r\n    \t\t\t\t\tstatement.add(&quot;Withdraw=&quot; + withdraw);\r\n    \t\t\t\t\tbreak;\r\n    \r\n    \t\t\t\tcase 3:\r\n    \t\t\t\t\tfor (String s : statement) {\r\n    \t\t\t\t\t\tSystem.out.println(s);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tSystem.out.println(&quot;Available Balance=&quot; + availableBalance);\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tcase 4:\r\n    \t\t\t\t\tSystem.out.println(&quot;Thank you&quot;);\r\n    \t\t\t\t\tSystem.exit(0);\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t} while (option != 4);\r\n    \r\n    \r\n    \t\t} catch (Exception e) {\r\n    \t\t\tSystem.out.println(e.getMessage());\r\n    \t\t}\r\n    \r\n    \t}\r\n    }","title":"Java ArrayList Bank Account","body":"<pre><code>/*in this program you can deposit, withdraw, and also show the statement of what you did with the help of ArrayList */\n \n\nimport java.util.*;\n\nclass ExcerciseCollection1 {\n\n    static float totalBalance;\n    static float availableBalance;\n\n    void deposit(float amount) {\n        totalBalance += amount;\n        \n    }\n\n    void withdraw(float money) throws Exception {\n        if (totalBalance &lt; money) {\n            System.out.println(&quot;insufficient balance&quot;);\n        } else {\n            totalBalance = totalBalance - money;\n            availableBalance = totalBalance;\n        }\n    }\n\n    void showOption() {\n        System.out.println(&quot;Operations&quot;);\n        System.out.println(&quot;1)Deposit\\n&quot; + &quot;2)Withdraw\\n&quot; + &quot;3)View Statement\\n&quot; + &quot;4)exit&quot;);\n        System.out.println(&quot;Choose your option=&quot;);\n\n    }\n\n    public static void main(String arg[]) {\n\n        try {\n            ExcerciseCollection1 b = new ExcerciseCollection1();\n            Scanner sc = new Scanner(System.in);\n\n            List&lt;String&gt; statement = new ArrayList&lt;&gt;();\n\n            int option;\n            do {\n\n                b.showOption();\n                option = sc.nextInt();\n                switch (option) {\n                case 1:\n                    System.out.println(&quot;Enter Your Amount For Deposite : &quot;);\n                    float deposite = sc.nextFloat();\n                    \n                    b.deposit(deposite);\n                    statement.add(&quot;Deposite=&quot; + deposite);\n                    break;\n                case 2:\n                    System.out.println(&quot;Enter Your Amount for withdraw : &quot;);\n                    float withdraw = sc.nextFloat();\n                    \n                    System.out.println(&quot;Withdrawing amount : &quot; + withdraw);\n                    b.withdraw(withdraw);\n                    statement.add(&quot;Withdraw=&quot; + withdraw);\n                    break;\n\n                case 3:\n                    for (String s : statement) {\n                        System.out.println(s);\n                    }\n                    System.out.println(&quot;Available Balance=&quot; + availableBalance);\n                    break;\n                case 4:\n                    System.out.println(&quot;Thank you&quot;);\n                    System.exit(0);\n                    break;\n                }\n\n            } while (option != 4);\n\n\n        } catch (Exception e) {\n            System.out.println(e.getMessage());\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3562482,"reputation":687,"user_id":2975018,"accept_rate":14,"display_name":"Jess Anastasio"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20715,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1693282025,"creation_date":1435009440,"question_id":30990366,"body_markdown":"So I am creating a bank account program that uses an ArrayList. The program displays a menu where a customer can deposit, withdraw, display account info and check balance. The array list stores the customer object and should be able to be updated if user deposits/withdraws etc. \r\n\r\nHere is what I have so far, I am unsure how to call the methods for deposit, withdraw, display account info, and check balance that are in the Customer class and have them access the array list objects correctly. \r\n\r\nAny help or advice at all as to what I am missing would be so helpful. \r\n\r\nthe errors I am getting right now are: cannot find symbol\r\nsymbol  : variable customerID\r\nlocation: class java.util.ArrayList&lt;taylor.Customer&gt; for all of the variables in the display and balance method, \r\n\r\ncannot find symbol\r\nsymbol  : constructor Customer()\r\nlocation: class taylor.Customer when I try to create a Customer instance,\r\n\r\ndisplay(java.util.ArrayList&lt;taylor.Customer&gt;) in taylor.Customer cannot be applied to (taylor.Customer), when I try to call the methods and pass in the array list accounts\r\n\r\ntester class: \r\n\r\n    package taylor; \r\n    import java.util.ArrayList;\r\n    import java.util.Scanner;\r\n    \r\n    public class TestBank{\r\n    \r\n      public static void main(String args[]){\r\n      \r\n    \r\n        ArrayList&lt;Customer&gt; accounts = new ArrayList&lt;Customer&gt;();\r\n    \r\n        Customer customer1 = new Customer(1, &quot;Savings&quot;, &quot;US Dollars&quot;, 800);\r\n        Customer customer2 = new Customer(2, &quot;Checking&quot;, &quot;Euro&quot;, 1900);\r\n        Customer customer3 = new Customer(3, &quot;Checking&quot;, &quot;US Dollars&quot;, 8000);\r\n        \r\n        accounts.add(customer1);\r\n        accounts.add(customer2);\r\n        accounts.add(customer3);\r\n    \r\n       \r\n        int customerID=4;\r\n        String choice;\r\n        int deposit;\r\n        int withdraw;\r\n        Scanner in = new Scanner(System.in);\r\n        Customer operation = new Customer();\r\n        boolean flag = true;\r\n    \r\n        String accountType;\r\n        String currencyType;\r\n        int balance;\r\n        \r\n        while(flag){\r\n          System.out.println(&quot;Select a choice:&quot;);\r\n          System.out.println(&quot;1. Existing customer&quot;);\r\n          System.out.println(&quot;2. New customer&quot;);   \r\n          System.out.println(&quot;3. Quit&quot;);\r\n          \r\n          \r\n          String input = in.next();\r\n          \r\n            //existing user\r\n            if(input.equals(&quot;1&quot;)){\r\n    \r\n              System.out.println(&quot;Enter CustomerID: &quot;);\r\n              customerID = in.nextInt();\r\n              \r\n    \r\n              System.out.println(&quot;Would you like to: &quot;);\r\n              System.out.println(&quot;1. Deposit &quot;);\r\n              System.out.println(&quot;2. Withdraw &quot;);\r\n              System.out.println(&quot;3. Display account info &quot;);\r\n              System.out.println(&quot;4. Check balance &quot;);\r\n              \r\n              choice = in.next();\r\n              \r\n              if(choice.equals(&quot;1&quot;)){\r\n                System.out.println(&quot;How much would you like to deposit?&quot;);\r\n                deposit = in.nextInt();\r\n                operation.deposit(deposit);\r\n              }\r\n           \r\n              else if (choice.equals(&quot;2&quot;)){\r\n               System.out.println(&quot;How much would you like to withdraw?&quot;);\r\n                withdraw = in.nextInt(); \r\n                operation.withdraw(withdraw);\r\n                \r\n              }\r\n              \r\n              else if (choice.equals(&quot;3&quot;)){\r\n                operation.display(accounts.get(customerID));\r\n              }\r\n    \r\n              else if (choice.equals(&quot;4&quot;))\r\n                operation.balance(accounts.get(customerID));\r\n              \r\n              else\r\n                System.out.println(&quot;Invalid&quot;);\r\n            }\r\n    \r\n            \r\n            \r\n            //new user\r\n             else if(input.equals(&quot;2&quot;)){\r\n              //add new user to arraylist\r\n               \r\n               int newID = customerID + 1;\r\n               \r\n               System.out.println(&quot;Enter account type: &quot;);\r\n               accountType = in.next(); \r\n               System.out.println(&quot;Enter currency type: &quot;); \r\n               currencyType = in.next();\r\n               System.out.println(&quot;Enter initial balance: &quot;);\r\n               balance = in.nextInt(); \r\n               \r\n               System.out.println(&quot;Your customer ID will be: &quot; + newID);\r\n    \r\n       \r\n               accounts.add(new Customer(newID, accountType, currencyType, balance));\r\n               \r\n              \r\n            }\r\n            \r\n            else if(input.equals(&quot;3&quot;)){\r\n    \r\n              System.out.println(&quot;Thanks for using this bank!&quot;);\r\n              flag = false;\r\n            }\r\n            \r\n            \r\n            else{\r\n    \r\n              System.out.println(&quot;Invalid&quot;);\r\n    \r\n            }\r\n          }\r\n           \r\n        }\r\n    }\r\n        \r\n\r\ncustomer class:\r\n\r\n        \r\n    package taylor; \r\n    import java.util.Scanner; \r\n    import java.util.ArrayList;\r\n    \r\n    public class Customer{\r\n    \r\n      String accountType, currencyType, info; \r\n      int customerID, balance, amount;\r\n      Scanner input = new Scanner(System.in);\r\n    \r\n      \r\n      public Customer(int customerID, String accountType, String currencyType,  int balance){\r\n        this.accountType = accountType;\r\n        this.currencyType = currencyType; \r\n        this.customerID = customerID;\r\n        this.balance = balance; \r\n        this.amount = amount; \r\n      }\r\n      \r\n      public int deposit(int amount){\r\n       \r\n        amount = input.nextInt();\r\n        if (amount &gt;= 500) {\r\n          System.out.println(&quot;Invalid&quot;);\r\n          \r\n        }\r\n        else{\r\n          balance = balance + amount;\r\n    \r\n        }\r\n        return balance;\r\n      }\r\n      \r\n      public int withdraw(int amount){\r\n        \r\n        if (balance &lt; amount) {\r\n          System.out.println(&quot;Invalid amount.&quot;);\r\n        }\r\n        else if (amount &gt;= 500) {\r\n          System.out.println(&quot;Invalid&quot;);\r\n        }\r\n        else {\r\n          balance = balance - amount;\r\n          \r\n        }\r\n        return balance;\r\n      }\r\n      \r\n      \r\n      public void display(ArrayList&lt;Customer&gt; accounts) {\r\n        System.out.println(&quot;CustomerID:&quot; + accounts.customerID);\r\n        System.out.println(&quot;Account Type:&quot; + accounts.accountType);\r\n        System.out.println(&quot;Currency Type: &quot; + accounts.currencyType); \r\n        System.out.println(&quot;Balance:&quot; + accounts.balance);\r\n        \r\n      }\r\n      \r\n      public  void balance(ArrayList&lt;Customer&gt; accounts) {\r\n        System.out.println(&quot;Balance:&quot; + accounts.balance);\r\n      }\r\n    \r\n      \r\n       \r\n      \r\n      \r\n    }\r\n\r\n\r\n\r\n\r\n     \r\n\r\n","title":"Java ArrayList Bank Account","body":"<p>So I am creating a bank account program that uses an ArrayList. The program displays a menu where a customer can deposit, withdraw, display account info and check balance. The array list stores the customer object and should be able to be updated if user deposits/withdraws etc. </p>\n\n<p>Here is what I have so far, I am unsure how to call the methods for deposit, withdraw, display account info, and check balance that are in the Customer class and have them access the array list objects correctly. </p>\n\n<p>Any help or advice at all as to what I am missing would be so helpful. </p>\n\n<p>the errors I am getting right now are: cannot find symbol\nsymbol  : variable customerID\nlocation: class java.util.ArrayList for all of the variables in the display and balance method, </p>\n\n<p>cannot find symbol\nsymbol  : constructor Customer()\nlocation: class taylor.Customer when I try to create a Customer instance,</p>\n\n<p>display(java.util.ArrayList) in taylor.Customer cannot be applied to (taylor.Customer), when I try to call the methods and pass in the array list accounts</p>\n\n<p>tester class: </p>\n\n<pre><code>package taylor; \nimport java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class TestBank{\n\n  public static void main(String args[]){\n\n\n    ArrayList&lt;Customer&gt; accounts = new ArrayList&lt;Customer&gt;();\n\n    Customer customer1 = new Customer(1, \"Savings\", \"US Dollars\", 800);\n    Customer customer2 = new Customer(2, \"Checking\", \"Euro\", 1900);\n    Customer customer3 = new Customer(3, \"Checking\", \"US Dollars\", 8000);\n\n    accounts.add(customer1);\n    accounts.add(customer2);\n    accounts.add(customer3);\n\n\n    int customerID=4;\n    String choice;\n    int deposit;\n    int withdraw;\n    Scanner in = new Scanner(System.in);\n    Customer operation = new Customer();\n    boolean flag = true;\n\n    String accountType;\n    String currencyType;\n    int balance;\n\n    while(flag){\n      System.out.println(\"Select a choice:\");\n      System.out.println(\"1. Existing customer\");\n      System.out.println(\"2. New customer\");   \n      System.out.println(\"3. Quit\");\n\n\n      String input = in.next();\n\n        //existing user\n        if(input.equals(\"1\")){\n\n          System.out.println(\"Enter CustomerID: \");\n          customerID = in.nextInt();\n\n\n          System.out.println(\"Would you like to: \");\n          System.out.println(\"1. Deposit \");\n          System.out.println(\"2. Withdraw \");\n          System.out.println(\"3. Display account info \");\n          System.out.println(\"4. Check balance \");\n\n          choice = in.next();\n\n          if(choice.equals(\"1\")){\n            System.out.println(\"How much would you like to deposit?\");\n            deposit = in.nextInt();\n            operation.deposit(deposit);\n          }\n\n          else if (choice.equals(\"2\")){\n           System.out.println(\"How much would you like to withdraw?\");\n            withdraw = in.nextInt(); \n            operation.withdraw(withdraw);\n\n          }\n\n          else if (choice.equals(\"3\")){\n            operation.display(accounts.get(customerID));\n          }\n\n          else if (choice.equals(\"4\"))\n            operation.balance(accounts.get(customerID));\n\n          else\n            System.out.println(\"Invalid\");\n        }\n\n\n\n        //new user\n         else if(input.equals(\"2\")){\n          //add new user to arraylist\n\n           int newID = customerID + 1;\n\n           System.out.println(\"Enter account type: \");\n           accountType = in.next(); \n           System.out.println(\"Enter currency type: \"); \n           currencyType = in.next();\n           System.out.println(\"Enter initial balance: \");\n           balance = in.nextInt(); \n\n           System.out.println(\"Your customer ID will be: \" + newID);\n\n\n           accounts.add(new Customer(newID, accountType, currencyType, balance));\n\n\n        }\n\n        else if(input.equals(\"3\")){\n\n          System.out.println(\"Thanks for using this bank!\");\n          flag = false;\n        }\n\n\n        else{\n\n          System.out.println(\"Invalid\");\n\n        }\n      }\n\n    }\n}\n</code></pre>\n\n<p>customer class:</p>\n\n<pre><code>package taylor; \nimport java.util.Scanner; \nimport java.util.ArrayList;\n\npublic class Customer{\n\n  String accountType, currencyType, info; \n  int customerID, balance, amount;\n  Scanner input = new Scanner(System.in);\n\n\n  public Customer(int customerID, String accountType, String currencyType,  int balance){\n    this.accountType = accountType;\n    this.currencyType = currencyType; \n    this.customerID = customerID;\n    this.balance = balance; \n    this.amount = amount; \n  }\n\n  public int deposit(int amount){\n\n    amount = input.nextInt();\n    if (amount &gt;= 500) {\n      System.out.println(\"Invalid\");\n\n    }\n    else{\n      balance = balance + amount;\n\n    }\n    return balance;\n  }\n\n  public int withdraw(int amount){\n\n    if (balance &lt; amount) {\n      System.out.println(\"Invalid amount.\");\n    }\n    else if (amount &gt;= 500) {\n      System.out.println(\"Invalid\");\n    }\n    else {\n      balance = balance - amount;\n\n    }\n    return balance;\n  }\n\n\n  public void display(ArrayList&lt;Customer&gt; accounts) {\n    System.out.println(\"CustomerID:\" + accounts.customerID);\n    System.out.println(\"Account Type:\" + accounts.accountType);\n    System.out.println(\"Currency Type: \" + accounts.currencyType); \n    System.out.println(\"Balance:\" + accounts.balance);\n\n  }\n\n  public  void balance(ArrayList&lt;Customer&gt; accounts) {\n    System.out.println(\"Balance:\" + accounts.balance);\n  }\n\n\n\n\n\n}\n</code></pre>\n"},{"tags":["java","arrays","tile"],"answers":[{"tags":[],"owner":{"account_id":27243397,"reputation":1316,"user_id":20769158,"display_name":"scrhartley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693277536,"creation_date":1693277060,"answer_id":76996998,"question_id":76996931,"body_markdown":"So assuming diameter 1, one of the things I want to do is check is to my left and to my right.\r\n```java\r\nfor(int x=locx-diameter; x&lt;locx+diameter; x++)\r\n```\r\nLooking at this is starts to my left and then never checks to my right because it doesn&#39;t use `&lt;=`. Similar logic for `y` and above/below.\r\n```java\r\nfor(int y=locy-diameter; y&lt;locy+diameter; y++) {\r\n```\r\n\r\nOK, now if locx is 1 and I need to look to my left, then I need to took at tile 0, however this prevents that:\r\n```java\r\nif (x &lt; diameter\r\n```\r\nAnd similarly for other bounds, so I assume you want:\r\n```java\r\nif (x &lt; 0 || y &lt; 0 || x &gt;= width || y &gt;= height) {\r\n    counter++;\r\n    continue; \r\n}\r\n```\r\n\r\nAdditionally, we don&#39;t do anything to prevent us counting the tile we&#39;re looking around.\r\n\r\nAll together:\r\n```java\r\n    public int sametile(int locx,int locy,int diameter,int tile) {  //location x,y,search diameter and tile type                                                  \r\n        int counter=0;  \r\n        for(int x=locx-diameter; x &lt;= locx+diameter; x++) { //where we start and end\r\n            for(int y=locy-diameter; y &lt;= locy+diameter; y++) {\r\n                if (x &lt; 0 || y &lt; 0 || x &gt;= width || y &gt;= height) {\r\n                    counter++;       \r\n                    continue; \r\n                    //to avoid reaching index numbers that array doesnt have \r\n                }\r\n                if (x == locx &amp;&amp; y == locy) {\r\n                    continue; // don&#39;t count the central tile, only neighbours\r\n                }\r\n                if(map[x][y]==tile) { //if it is the tile we are looking for\r\n                    counter++;  //we increase the counter\r\n                }\r\n            }\r\n        }   \r\n        return counter; \r\n    }\r\n```","title":"Java Tile Array Issue","body":"<p>So assuming diameter 1, one of the things I want to do is check is to my left and to my right.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(int x=locx-diameter; x&lt;locx+diameter; x++)\n</code></pre>\n<p>Looking at this is starts to my left and then never checks to my right because it doesn't use <code>&lt;=</code>. Similar logic for <code>y</code> and above/below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(int y=locy-diameter; y&lt;locy+diameter; y++) {\n</code></pre>\n<p>OK, now if locx is 1 and I need to look to my left, then I need to took at tile 0, however this prevents that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (x &lt; diameter\n</code></pre>\n<p>And similarly for other bounds, so I assume you want:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (x &lt; 0 || y &lt; 0 || x &gt;= width || y &gt;= height) {\n    counter++;\n    continue; \n}\n</code></pre>\n<p>Additionally, we don't do anything to prevent us counting the tile we're looking around.</p>\n<p>All together:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public int sametile(int locx,int locy,int diameter,int tile) {  //location x,y,search diameter and tile type                                                  \n        int counter=0;  \n        for(int x=locx-diameter; x &lt;= locx+diameter; x++) { //where we start and end\n            for(int y=locy-diameter; y &lt;= locy+diameter; y++) {\n                if (x &lt; 0 || y &lt; 0 || x &gt;= width || y &gt;= height) {\n                    counter++;       \n                    continue; \n                    //to avoid reaching index numbers that array doesnt have \n                }\n                if (x == locx &amp;&amp; y == locy) {\n                    continue; // don't count the central tile, only neighbours\n                }\n                if(map[x][y]==tile) { //if it is the tile we are looking for\n                    counter++;  //we increase the counter\n                }\n            }\n        }   \n        return counter; \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20487973,"reputation":21,"user_id":15034661,"display_name":"libing"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693281342,"creation_date":1693281342,"answer_id":76997222,"question_id":76996931,"body_markdown":"In the sametile method, the right and bottom of the element are not accessed.You should add an equal sign to the judgment.\r\n\r\n    for (int x = locx - diameter; x &lt;= locx + diameter; x++) { \r\n          for (int y = locy - diameter; y &lt;= locy + diameter; y++) {\r\n    }\r\n \r\n \r\n\r\n\r\n","title":"Java Tile Array Issue","body":"<p>In the sametile method, the right and bottom of the element are not accessed.You should add an equal sign to the judgment.</p>\n<pre><code>for (int x = locx - diameter; x &lt;= locx + diameter; x++) { \n      for (int y = locy - diameter; y &lt;= locy + diameter; y++) {\n}\n</code></pre>\n"}],"owner":{"account_id":28038002,"reputation":25,"user_id":21416026,"display_name":"Hakan Polat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76996998,"answer_count":2,"score":1,"last_activity_date":1693281342,"creation_date":1693275600,"question_id":76996931,"body_markdown":"I am creating a 2D TileMap.I am using integers to determine tile type. I wanted to turn every grass tile(4) that neighbours at least one ocean tile(3) in to sand(1).\r\n\r\n```\r\npublic void geography() {\r\n\t\t\r\n\t\t\r\n\tfor(int x=0; x&lt;width; x++) { //Iterates through array\r\n\tfor(int y=0; y&lt;height; y++) {\r\n\t\t\r\n\t\t\r\n\t\t\t\r\n\t\t\tint counter = sametile(x,y,1,3); // uses a method to count neighbouring tiles\r\n\t\t\t\r\n\t\t\tif(counter&gt;0 &amp;&amp; map[x][y]==4) { //if it at least has 1 \r\n\t\t\t\tmap[x][y]=1;            //turns that tile into sand\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t}\r\n}\r\n\r\n    \tpublic int sametile(int locx,int locy,int diameter,int tile) {\t//location x,y,search diameter and tile type                                                  \r\n\t\tint counter=0;\t\r\n\t\tfor(int x=locx-diameter; x&lt;locx+diameter; x++) { //where we start and end\r\n\t\t\tfor(int y=locy-diameter; y&lt;locy+diameter; y++) {\r\n\t\t\t\t if (x &lt; diameter || y &lt; diameter || x+diameter&gt;width || y+diameter&gt;height) {\r\n        \t\t\t\t\t counter++;       \r\n\t\t                continue; \r\n\r\n //to avoid reaching index numbers that array doesnt have \r\n\t\t            }\t\t\t\r\n\t\t\t\tif(map[x][y]==tile) { //if it is the tile we are looking for\r\n\t\t\t\tcounter++;\t//we increase the counter\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\t\r\n\t\treturn counter;\t\r\n\t\t}\r\n```\r\n\r\nWeird thing is it works as intented some part of the map,but works partly wrong or totally wrong on some parts of the map.\r\n\r\nI literally checked every line of code but didnt really catch anything\r\n\r\n[![tilemap][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/q4pxK.png","title":"Java Tile Array Issue","body":"<p>I am creating a 2D TileMap.I am using integers to determine tile type. I wanted to turn every grass tile(4) that neighbours at least one ocean tile(3) in to sand(1).</p>\n<pre><code>public void geography() {\n        \n        \n    for(int x=0; x&lt;width; x++) { //Iterates through array\n    for(int y=0; y&lt;height; y++) {\n        \n        \n            \n            int counter = sametile(x,y,1,3); // uses a method to count neighbouring tiles\n            \n            if(counter&gt;0 &amp;&amp; map[x][y]==4) { //if it at least has 1 \n                map[x][y]=1;            //turns that tile into sand\n            }\n            \n        }\n        }\n}\n\n        public int sametile(int locx,int locy,int diameter,int tile) {  //location x,y,search diameter and tile type                                                  \n        int counter=0;  \n        for(int x=locx-diameter; x&lt;locx+diameter; x++) { //where we start and end\n            for(int y=locy-diameter; y&lt;locy+diameter; y++) {\n                 if (x &lt; diameter || y &lt; diameter || x+diameter&gt;width || y+diameter&gt;height) {\n                             counter++;       \n                        continue; \n\n //to avoid reaching index numbers that array doesnt have \n                    }           \n                if(map[x][y]==tile) { //if it is the tile we are looking for\n                counter++;  //we increase the counter\n                }\n            }\n        }   \n        return counter; \n        }\n</code></pre>\n<p>Weird thing is it works as intented some part of the map,but works partly wrong or totally wrong on some parts of the map.</p>\n<p>I literally checked every line of code but didnt really catch anything</p>\n<p><a href=\"https://i.stack.imgur.com/q4pxK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q4pxK.png\" alt=\"tilemap\" /></a></p>\n"},{"tags":["java","android","flutter"],"owner":{"account_id":29311456,"reputation":1,"user_id":22457112,"display_name":"Izzati"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693280173,"creation_date":1693280173,"question_id":76997160,"body_markdown":"I am integrating Serial Communication plugin from https://pub.dev/packages/serial_communication in my Flutter app. But the app keep crashing. I only know Flutter, so I need help in Java.\r\n\r\nI printed all the log, and it seems like it will not be null only after onListen function is being triggered. But how to control and make sure my static function can only started after onListen is being called?\r\n\r\nHere is the full code for the class.\r\n\r\n\r\n```\r\nclass CustomEventHandler extends BroadcastReceiver implements EventChannel.StreamHandler {\r\n    static EventChannel.EventSink events;\r\n    static final Handler mainHandler = new Handler(Looper.getMainLooper());\r\n\r\n    @Override\r\n    public void onListen(Object arguments, EventChannel.EventSink events) {\r\n        System.out.println(&quot;onListen successful &quot; + events);\r\n        this.events = events;\r\n    }\r\n\r\n    @Override\r\n    public void onCancel(Object arguments) {\r\n        events = null;\r\n    }\r\n\r\n    static void sendEvent(final Map&lt;String,String&gt; response) {\r\n        if (response != null &amp;&amp; events != null &amp;&amp; mainHandler != null) {\r\n            System.out.println(&quot;sendEvent successful &quot; + events + response + mainHandler);\r\n            Runnable runnable = () -&gt; events.success(response);\r\n            if(runnable != null) {\r\n                mainHandler.post(runnable);\r\n            }\r\n        } else {\r\n            System.out.println(&quot;sendEvent failed &quot; + events + response + mainHandler);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        if (events != null) {\r\n            events.success(&quot;Hello&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe null value always come from variable EventChannel.EventSink &quot;events&quot;. But the sendEvent function is being called in other class. Here is the code :\r\n\r\n\r\n```\r\npublic void initData() {\r\n\r\n    spManager = SerialApiManager.getInstances().setLogInterceptor(new LogInterceptorSerialPort() {\r\n        @Override\r\n        public void log(@SerialApiManager.Type final String type, final String port, final boolean isAscii, final String log) {\r\n            if (log != null) {\r\n                logChannel = (new StringBuffer()\r\n                        .append(log).toString());\r\n\r\n                CustomEventHandler.sendEvent(  Map.of(&quot;LogChannel&quot;, logChannel, &quot;readChannel&quot;, readChannel));\r\n            }\r\n        }\r\n\r\n    });\r\n    baseReader = new BaseReader() {\r\n        @Override\r\n        protected void onParse(final String port, final boolean isAscii, final String read) {\r\n            if (read != null) {\r\n                readChannel = (new StringBuffer()\r\n                        .append(read).toString());\r\n                \r\n                CustomEventHandler.sendEvent(  Map.of(&quot;LogChannel&quot;, logChannel, &quot;readChannel&quot;, readChannel));\r\n            }\r\n        }\r\n    };\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI don&#39;t have any idea how to solve this. Can you help me?","title":"Call static function only after onListen is triggered","body":"<p>I am integrating Serial Communication plugin from <a href=\"https://pub.dev/packages/serial_communication\" rel=\"nofollow noreferrer\">https://pub.dev/packages/serial_communication</a> in my Flutter app. But the app keep crashing. I only know Flutter, so I need help in Java.</p>\n<p>I printed all the log, and it seems like it will not be null only after onListen function is being triggered. But how to control and make sure my static function can only started after onListen is being called?</p>\n<p>Here is the full code for the class.</p>\n<pre><code>class CustomEventHandler extends BroadcastReceiver implements EventChannel.StreamHandler {\n    static EventChannel.EventSink events;\n    static final Handler mainHandler = new Handler(Looper.getMainLooper());\n\n    @Override\n    public void onListen(Object arguments, EventChannel.EventSink events) {\n        System.out.println(&quot;onListen successful &quot; + events);\n        this.events = events;\n    }\n\n    @Override\n    public void onCancel(Object arguments) {\n        events = null;\n    }\n\n    static void sendEvent(final Map&lt;String,String&gt; response) {\n        if (response != null &amp;&amp; events != null &amp;&amp; mainHandler != null) {\n            System.out.println(&quot;sendEvent successful &quot; + events + response + mainHandler);\n            Runnable runnable = () -&gt; events.success(response);\n            if(runnable != null) {\n                mainHandler.post(runnable);\n            }\n        } else {\n            System.out.println(&quot;sendEvent failed &quot; + events + response + mainHandler);\n        }\n    }\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        if (events != null) {\n            events.success(&quot;Hello&quot;);\n        }\n    }\n}\n</code></pre>\n<p>The null value always come from variable EventChannel.EventSink &quot;events&quot;. But the sendEvent function is being called in other class. Here is the code :</p>\n<pre><code>public void initData() {\n\n    spManager = SerialApiManager.getInstances().setLogInterceptor(new LogInterceptorSerialPort() {\n        @Override\n        public void log(@SerialApiManager.Type final String type, final String port, final boolean isAscii, final String log) {\n            if (log != null) {\n                logChannel = (new StringBuffer()\n                        .append(log).toString());\n\n                CustomEventHandler.sendEvent(  Map.of(&quot;LogChannel&quot;, logChannel, &quot;readChannel&quot;, readChannel));\n            }\n        }\n\n    });\n    baseReader = new BaseReader() {\n        @Override\n        protected void onParse(final String port, final boolean isAscii, final String read) {\n            if (read != null) {\n                readChannel = (new StringBuffer()\n                        .append(read).toString());\n                \n                CustomEventHandler.sendEvent(  Map.of(&quot;LogChannel&quot;, logChannel, &quot;readChannel&quot;, readChannel));\n            }\n        }\n    };\n}\n</code></pre>\n<p>I don't have any idea how to solve this. Can you help me?</p>\n"},{"tags":["java","spring","soap","jaxb"],"answers":[{"tags":[],"owner":{"account_id":29176687,"reputation":322,"user_id":22351796,"display_name":"Karsten"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693238286,"creation_date":1693219823,"answer_id":76992154,"question_id":76991517,"body_markdown":"In XML `&lt;name/&gt;` and `&lt;name&gt;&lt;/name&gt;` are treated identically both meaning an empty element. Even if you manage to create the latter representation you&#39;ll have to tell the counterpart of your SOAP communication, that you give it a special meaning. This is not a good idea.\r\n\r\nMaybe this will help you: When using JAXB for unmarshalling the pure existence of `&lt;name/&gt;` results in an empty string, whereas a missing element results in the string being null.","title":"Java Spring handle string empty in SOAP response","body":"<p>In XML <code>&lt;name/&gt;</code> and <code>&lt;name&gt;&lt;/name&gt;</code> are treated identically both meaning an empty element. Even if you manage to create the latter representation you'll have to tell the counterpart of your SOAP communication, that you give it a special meaning. This is not a good idea.</p>\n<p>Maybe this will help you: When using JAXB for unmarshalling the pure existence of <code>&lt;name/&gt;</code> results in an empty string, whereas a missing element results in the string being null.</p>\n"}],"owner":{"account_id":2135348,"reputation":91,"user_id":1895289,"accept_rate":25,"display_name":"ZDK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693278515,"creation_date":1693214558,"question_id":76991517,"body_markdown":"I using jaxb for soap service in Spring. And I have the field &quot;name&quot; which is value **empty string**(&quot;&quot;).\r\nI found the response of api is\r\n\r\n    &lt;name/&gt;\r\n\r\nbut I want \r\n\r\n    &lt;name&gt;&lt;/name&gt;\r\n\r\nI have definition of collection and test many case below but still not match.\r\nIs it possible to configure JAXB or create some adapter to fix it.\r\n\r\n    @XmlElement(required = true, nillable = true)\r\n    protected String name;\r\n\r\n\r\n    @XmlElement()\r\n    protected String name;\r\n\r\n\r\n    @XmlElement(required = false)\r\n    protected String name;","title":"Java Spring handle string empty in SOAP response","body":"<p>I using jaxb for soap service in Spring. And I have the field &quot;name&quot; which is value <strong>empty string</strong>(&quot;&quot;).\nI found the response of api is</p>\n<pre><code>&lt;name/&gt;\n</code></pre>\n<p>but I want</p>\n<pre><code>&lt;name&gt;&lt;/name&gt;\n</code></pre>\n<p>I have definition of collection and test many case below but still not match.\nIs it possible to configure JAXB or create some adapter to fix it.</p>\n<pre><code>@XmlElement(required = true, nillable = true)\nprotected String name;\n\n\n@XmlElement()\nprotected String name;\n\n\n@XmlElement(required = false)\nprotected String name;\n</code></pre>\n"},{"tags":["java","scala","eclipse-plugin","testng"],"answers":[{"tags":[],"owner":{"account_id":143801,"reputation":1195,"user_id":1599117,"accept_rate":80,"display_name":"BSJ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406780569,"creation_date":1406780569,"answer_id":25050823,"question_id":25031826,"body_markdown":"FWIW, what solved the issue for me was upgrading my JDK to the latest (1.7.0_65 as of this writing), making sure that it was the default library picked up by the IDE. Also, after hopping multiple IDEs (STS as referenced above, and the latest Eclipse Luna) I settled on using the Typsafe Scala IDE and NOT the ScalaIDE plugin for eclipse. Don&#39;t forget to add this to the pom.xml  :\r\n\r\n        &lt;dependency&gt;\r\n  \t\t\t&lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\r\n  \t\t\t&lt;artifactId&gt;scala-library&lt;/artifactId&gt;\r\n  \t\t\t&lt;version&gt;2.11.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;org.scalatest&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;scalatest_2.10&lt;/artifactId&gt;\r\n\t\t  &lt;version&gt;2.0&lt;/version&gt;\r\n  \t\t  &lt;scope&gt;test&lt;/scope&gt;\r\n  \t\t&lt;/dependency&gt;\r\n\r\n    \t\t\t&lt;plugin&gt;\r\n\t           &lt;groupId&gt;net.alchim31.maven&lt;/groupId&gt;\r\n\t           &lt;artifactId&gt;scala-maven-plugin&lt;/artifactId&gt;\r\n\t           &lt;version&gt;3.1.5&lt;/version&gt;\r\n\t           &lt;executions&gt;\r\n\t               &lt;execution&gt;\r\n\t                   &lt;id&gt;scala-compile-first&lt;/id&gt;\r\n\t                   &lt;phase&gt;process-resources&lt;/phase&gt;\r\n\t                   &lt;goals&gt;\r\n\t                       &lt;goal&gt;add-source&lt;/goal&gt;\r\n\t                       &lt;goal&gt;compile&lt;/goal&gt;\r\n\t                   &lt;/goals&gt;\r\n\t               &lt;/execution&gt;\r\n\t               &lt;execution&gt;\r\n\t                   &lt;id&gt;scala-test-compile&lt;/id&gt;\r\n\t                   &lt;phase&gt;process-test-resources&lt;/phase&gt;\r\n\t                   &lt;goals&gt;\r\n\t                       &lt;goal&gt;testCompile&lt;/goal&gt;\r\n\t                   &lt;/goals&gt;\r\n\t               &lt;/execution&gt;\r\n\t           &lt;/executions&gt;\r\n\t        &lt;/plugin&gt;\r\n\r\n\r\n  ","title":"TestNG Cannot find class in classpath once a new scala class is added to the suite.xml file","body":"<p>FWIW, what solved the issue for me was upgrading my JDK to the latest (1.7.0_65 as of this writing), making sure that it was the default library picked up by the IDE. Also, after hopping multiple IDEs (STS as referenced above, and the latest Eclipse Luna) I settled on using the Typsafe Scala IDE and NOT the ScalaIDE plugin for eclipse. Don't forget to add this to the pom.xml  :</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\n        &lt;artifactId&gt;scala-library&lt;/artifactId&gt;\n        &lt;version&gt;2.11.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.scalatest&lt;/groupId&gt;\n      &lt;artifactId&gt;scalatest_2.10&lt;/artifactId&gt;\n      &lt;version&gt;2.0&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n            &lt;plugin&gt;\n           &lt;groupId&gt;net.alchim31.maven&lt;/groupId&gt;\n           &lt;artifactId&gt;scala-maven-plugin&lt;/artifactId&gt;\n           &lt;version&gt;3.1.5&lt;/version&gt;\n           &lt;executions&gt;\n               &lt;execution&gt;\n                   &lt;id&gt;scala-compile-first&lt;/id&gt;\n                   &lt;phase&gt;process-resources&lt;/phase&gt;\n                   &lt;goals&gt;\n                       &lt;goal&gt;add-source&lt;/goal&gt;\n                       &lt;goal&gt;compile&lt;/goal&gt;\n                   &lt;/goals&gt;\n               &lt;/execution&gt;\n               &lt;execution&gt;\n                   &lt;id&gt;scala-test-compile&lt;/id&gt;\n                   &lt;phase&gt;process-test-resources&lt;/phase&gt;\n                   &lt;goals&gt;\n                       &lt;goal&gt;testCompile&lt;/goal&gt;\n                   &lt;/goals&gt;\n               &lt;/execution&gt;\n           &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":143801,"reputation":1195,"user_id":1599117,"accept_rate":80,"display_name":"BSJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9392,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693278090,"creation_date":1406708059,"question_id":25031826,"body_markdown":"Seems like this is a very &quot;popular&quot; question on SO with no definitive way to fix it but I&#39;m asking the question anyway because I can provide some more details. I&#39;m using STS v3.4.0.RELEASE and TestNG v6.8.6.20141201_2240. I also have the ScalaIDE plugin for Eclipse 3.0.4.v-2_11-201407232043.\r\n\r\nI&#39;ve got a simple test (MusicalTest.java in my src/test/java) and its corresponding testsuite.xml file that outlines this class with specific method to be included. I run the xml file as a TestNG test and there are no issues, things run just as expected; my testsuite.xml file looks something like this:\r\n\r\n    &lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n    &lt;suite thread-count=&quot;1&quot; verbose=&quot;1&quot; name=&quot;Fishy Tests&quot;\r\n    \tskipfailedinvocationcounts=&quot;false&quot; junit=&quot;false&quot; parallel=&quot;methods&quot;\r\n    \tdata-provider-thread-count=&quot;1&quot; annotations=&quot;JDK&quot;&gt;\r\n    \r\n    \t&lt;test verbose=&quot;2&quot; name=&quot;MusicalTestSuite&quot; annotations=&quot;JDK&quot; preserve-order=&quot;true&quot;&gt;\r\n    \t\t&lt;classes&gt;\r\n    \t\t\t&lt;class name=&quot;com.rock.and.roll.MusicalTest&quot;/&gt;\r\n    \t\t&lt;/classes&gt;\r\n    \t&lt;/test&gt;\r\n    &lt;/suite&gt;\r\n\r\nNow I create a new class (in my case, I created a Scala class in the same package as the above test) called MusicalScalaTest.scala. I go ahead and include it in my testsuite.xml as follows:\r\n\r\n    &lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n    &lt;suite thread-count=&quot;1&quot; verbose=&quot;1&quot; name=&quot;Fishy Tests&quot;\r\n    \tskipfailedinvocationcounts=&quot;false&quot; junit=&quot;false&quot; parallel=&quot;methods&quot;\r\n    \tdata-provider-thread-count=&quot;1&quot; annotations=&quot;JDK&quot;&gt;\r\n    \r\n    \t&lt;test verbose=&quot;2&quot; name=&quot;MusicalTestSuite&quot; annotations=&quot;JDK&quot; preserve-order=&quot;true&quot;&gt;\r\n    \t\t&lt;classes&gt;\r\n    \t\t\t&lt;class name=&quot;com.rock.and.roll.MusicalTest&quot;/&gt;\r\n    \t\t\t&lt;class name=&quot;com.rock.and.roll.MusicalScalaTest&quot;/&gt;\r\n    \t\t&lt;/classes&gt;\r\n    \t&lt;/test&gt;\r\n    &lt;/suite&gt;\r\n\r\nNow when I run the xml file as a testNG test, I run into the following error:\r\n\r\n    org.testng.TestNGException:\r\n    Cannot find class in classpath: com.rock.and.roll.MusicalTest\r\n    \tat org.testng.xml.XmlClass.loadClass(XmlClass.java:81)\r\n    \tat org.testng.xml.XmlClass.init(XmlClass.java:73)\r\n    \tat org.testng.xml.XmlClass.&lt;init&gt;(XmlClass.java:59)\r\n    \tat org.testng.xml.TestNGContentHandler.startElement(TestNGContentHandler.java:543)\r\n    \tat ........ &lt;truncated&gt;\r\n    \tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:175)\r\n\r\nInterestingly enough, it doesn&#39;t complain about the MusicalScalaTest but complains about the MusicalTest instead. I go ahead and comment out the MusicalScalaTest class in the XML file thinking that that&#39;s what&#39;s causing the confusion, but on running the testNG test I run into the same error again! After this, I delete the MusicalScalaTest.scala class and delete the &quot;commented&quot; out line from the xml. No dice. I right click on the project and do a Run As -&gt; Mvn Clean. No dice. I restart my IDE, do a Mvn Clean, and Maven Update Project followed by a refresh. No dice. I uninstall the testNG plugin, run a mvn clean test-compile just to be sure and then go through the usual motions of maven update project followed by a refresh. Then I reinstall the testNG IDE and give the same xml a whirl. No dice.\r\n\r\nFrankly [this smells like a test-ng plugin-based issue][1] that has cached some error that it&#39;s not willing to purge. I try to run any other testsuite xml files of the same project and they are all complaining with the same error! So basically all my testSuite xml&#39;s are out of commission.\r\n\r\nAnybody have any recommendations on next steps? I&#39;m trying to make all this work within the IDE as opposed to shifting to the terminal and running testNG through there. If you think it&#39;s not worth it at this point, drop a comment regardless.\r\n\r\n\r\n  [1]: https://github.com/cbeust/testng-eclipse/issues/84","title":"TestNG Cannot find class in classpath once a new scala class is added to the suite.xml file","body":"<p>Seems like this is a very \"popular\" question on SO with no definitive way to fix it but I'm asking the question anyway because I can provide some more details. I'm using STS v3.4.0.RELEASE and TestNG v6.8.6.20141201_2240. I also have the ScalaIDE plugin for Eclipse 3.0.4.v-2_11-201407232043.</p>\n\n<p>I've got a simple test (MusicalTest.java in my src/test/java) and its corresponding testsuite.xml file that outlines this class with specific method to be included. I run the xml file as a TestNG test and there are no issues, things run just as expected; my testsuite.xml file looks something like this:</p>\n\n<pre><code>&lt;!DOCTYPE suite SYSTEM \"http://testng.org/testng-1.0.dtd\"&gt;\n&lt;suite thread-count=\"1\" verbose=\"1\" name=\"Fishy Tests\"\n    skipfailedinvocationcounts=\"false\" junit=\"false\" parallel=\"methods\"\n    data-provider-thread-count=\"1\" annotations=\"JDK\"&gt;\n\n    &lt;test verbose=\"2\" name=\"MusicalTestSuite\" annotations=\"JDK\" preserve-order=\"true\"&gt;\n        &lt;classes&gt;\n            &lt;class name=\"com.rock.and.roll.MusicalTest\"/&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n\n<p>Now I create a new class (in my case, I created a Scala class in the same package as the above test) called MusicalScalaTest.scala. I go ahead and include it in my testsuite.xml as follows:</p>\n\n<pre><code>&lt;!DOCTYPE suite SYSTEM \"http://testng.org/testng-1.0.dtd\"&gt;\n&lt;suite thread-count=\"1\" verbose=\"1\" name=\"Fishy Tests\"\n    skipfailedinvocationcounts=\"false\" junit=\"false\" parallel=\"methods\"\n    data-provider-thread-count=\"1\" annotations=\"JDK\"&gt;\n\n    &lt;test verbose=\"2\" name=\"MusicalTestSuite\" annotations=\"JDK\" preserve-order=\"true\"&gt;\n        &lt;classes&gt;\n            &lt;class name=\"com.rock.and.roll.MusicalTest\"/&gt;\n            &lt;class name=\"com.rock.and.roll.MusicalScalaTest\"/&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n\n<p>Now when I run the xml file as a testNG test, I run into the following error:</p>\n\n<pre><code>org.testng.TestNGException:\nCannot find class in classpath: com.rock.and.roll.MusicalTest\n    at org.testng.xml.XmlClass.loadClass(XmlClass.java:81)\n    at org.testng.xml.XmlClass.init(XmlClass.java:73)\n    at org.testng.xml.XmlClass.&lt;init&gt;(XmlClass.java:59)\n    at org.testng.xml.TestNGContentHandler.startElement(TestNGContentHandler.java:543)\n    at ........ &lt;truncated&gt;\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:175)\n</code></pre>\n\n<p>Interestingly enough, it doesn't complain about the MusicalScalaTest but complains about the MusicalTest instead. I go ahead and comment out the MusicalScalaTest class in the XML file thinking that that's what's causing the confusion, but on running the testNG test I run into the same error again! After this, I delete the MusicalScalaTest.scala class and delete the \"commented\" out line from the xml. No dice. I right click on the project and do a Run As -> Mvn Clean. No dice. I restart my IDE, do a Mvn Clean, and Maven Update Project followed by a refresh. No dice. I uninstall the testNG plugin, run a mvn clean test-compile just to be sure and then go through the usual motions of maven update project followed by a refresh. Then I reinstall the testNG IDE and give the same xml a whirl. No dice.</p>\n\n<p>Frankly <a href=\"https://github.com/cbeust/testng-eclipse/issues/84\" rel=\"nofollow\">this smells like a test-ng plugin-based issue</a> that has cached some error that it's not willing to purge. I try to run any other testsuite xml files of the same project and they are all complaining with the same error! So basically all my testSuite xml's are out of commission.</p>\n\n<p>Anybody have any recommendations on next steps? I'm trying to make all this work within the IDE as opposed to shifting to the terminal and running testNG through there. If you think it's not worth it at this point, drop a comment regardless.</p>\n"},{"tags":["java","hibernate","apache-axis"],"comments":[{"owner":{"account_id":3709514,"reputation":952,"user_id":3087209,"display_name":"JosefN"},"score":0,"creation_date":1388301529,"post_id":20822976,"comment_id":31225585,"body_markdown":"is it not problem that result from dao contains xml/html elements that are not &quot;escaped&quot; ?","body":"is it not problem that result from dao contains xml/html elements that are not &quot;escaped&quot; ?"}],"answers":[{"tags":[],"owner":{"account_id":2154105,"reputation":1703,"user_id":1909727,"display_name":"Siva Tumma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1388311626,"creation_date":1388311626,"answer_id":20824025,"question_id":20822976,"body_markdown":"I think the error is due to the xml output being returned from `find()` method of your `HcxNewsService` class. Some XML IS successfully returned, and it is not sufficiently well formed for it to deserialize (*re construct an object out of it*). \r\n\r\nAs mentioned in the stack trace...\r\n&quot;`encountered a child element, which is NOT expected, in something it was trying to deserialize`&quot; (SAXParser did not understand the XML implies that xml is not correctly formed).\r\n\r\nPossible debugging options are try to get the xml tied object directly from DAO... Log it...\r\n\r\n    public class Dao&lt;T&gt; extends HibernateDaoSupport implements IDao&lt;T&gt; {\r\n    \r\n        public T find(String str,int id) {\r\n    \r\n            try {\r\n                T t = (T) getHibernateTemplate().get(str, id);\r\n                System.out.println.t.toString()); // OR...\r\n                LOGGER.info(t.toString());\r\n                return t;\r\n            } cach (RuntimeException re) {         \r\n                throw re;\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\nIf this fails, do the same approach with calling code in the server...\r\n\r\n    public class HxcNewsService implements IHxcNewsService {    \r\n        private IDao dao;   \r\n        public void setDao(IDao dao) {\r\n            this.dao = dao;\r\n        }\r\n        public HxcNews find(int id){\r\n            // before returning, see what is database returning...\r\n            LOGGER.log(dao.find(&quot;com.ews.bean.HxcNews&quot;,id));\r\n            return (HxcNews) dao.find(&quot;com.ews.bean.HxcNews&quot;,id);\r\n        }\r\n    }\r\n\r\nLet us know how you solved it finally.","title":"The client to invoke an error is as follows:org.xml.sax.SAXException: SimpleDeserializer encountered a child element, which is NOT expected","body":"<p>I think the error is due to the xml output being returned from <code>find()</code> method of your <code>HcxNewsService</code> class. Some XML IS successfully returned, and it is not sufficiently well formed for it to deserialize (<em>re construct an object out of it</em>). </p>\n\n<p>As mentioned in the stack trace...\n\"<code>encountered a child element, which is NOT expected, in something it was trying to deserialize</code>\" (SAXParser did not understand the XML implies that xml is not correctly formed).</p>\n\n<p>Possible debugging options are try to get the xml tied object directly from DAO... Log it...</p>\n\n<pre><code>public class Dao&lt;T&gt; extends HibernateDaoSupport implements IDao&lt;T&gt; {\n\n    public T find(String str,int id) {\n\n        try {\n            T t = (T) getHibernateTemplate().get(str, id);\n            System.out.println.t.toString()); // OR...\n            LOGGER.info(t.toString());\n            return t;\n        } cach (RuntimeException re) {         \n            throw re;\n        }\n\n    }\n}\n</code></pre>\n\n<p>If this fails, do the same approach with calling code in the server...</p>\n\n<pre><code>public class HxcNewsService implements IHxcNewsService {    \n    private IDao dao;   \n    public void setDao(IDao dao) {\n        this.dao = dao;\n    }\n    public HxcNews find(int id){\n        // before returning, see what is database returning...\n        LOGGER.log(dao.find(\"com.ews.bean.HxcNews\",id));\n        return (HxcNews) dao.find(\"com.ews.bean.HxcNews\",id);\n    }\n}\n</code></pre>\n\n<p>Let us know how you solved it finally.</p>\n"}],"owner":{"account_id":3778659,"reputation":11,"user_id":3138730,"display_name":"geduo_83"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9380,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693278090,"creation_date":1388301265,"question_id":20822976,"body_markdown":"Who can help me, I was going to collapse, so thank you\r\nThe client to invoke an error is as follows，error:\r\nThe client to invoke an error is as follows，error:\r\n\r\n    - Exception:\r\n    org.xml.sax.SAXException: SimpleDeserializer encountered a child element, which is NOT expected, in something it was trying to deserialize.\r\n    \tat org.apache.axis.encoding.ser.SimpleDeserializer.onStartChild(SimpleDeserializer.java:145)\r\n    \tat org.apache.axis.encoding.DeserializationContext.startElement(DeserializationContext.java:1035)\r\n    \tat org.apache.axis.message.SAX2EventRecorder.replay(SAX2EventRecorder.java:165)\r\n    \tat org.apache.axis.message.MessageElement.publishToHandler(MessageElement.java:1141)\r\n    \tat org.apache.axis.message.RPCElement.deserialize(RPCElement.java:236)\r\n    \tat org.apache.axis.message.RPCElement.getParams(RPCElement.java:384)\r\n    \tat org.apache.axis.client.Call.invoke(Call.java:2467)\r\n    \tat org.apache.axis.client.Call.invoke(Call.java:2366)\r\n    \tat org.apache.axis.client.Call.invoke(Call.java:1812)\r\n    \tat com.hxc.soap.HxcNewsServiceSoap12BindingStub.find(HxcNewsServiceSoap12BindingStub.java:254)\r\n    \tat com.hxc.soap.Test.main(Test.java:11)\r\n    AxisFault\r\n     faultCode: {http://schemas.xmlsoap.org/soap/envelope/}Server.userException\r\n     faultSubcode: \r\n     faultString: org.xml.sax.SAXException: SimpleDeserializer encountered a child element, which is NOT expected, in something it was trying to deserialize.\r\n     faultActor: \r\n     faultNode: \r\n     faultDetail: \r\n    \t{http://xml.apache.org/axis/}stackTrace:org.xml.sax.SAXException: SimpleDeserializer encountered a child element, which is NOT expected, in something it was trying to deserialize.\r\n    \tat org.apache.axis.encoding.ser.SimpleDeserializer.onStartChild(SimpleDeserializer.java:145)\r\n    \tat org.apache.axis.encoding.DeserializationContext.startElement(DeserializationContext.java:1035)\r\n    \tat org.apache.axis.message.SAX2EventRecorder.replay(SAX2EventRecorder.java:165)\r\n    \tat org.apache.axis.message.MessageElement.publishToHandler(MessageElement.java:1141)\r\n    \tat org.apache.axis.message.RPCElement.deserialize(RPCElement.java:236)\r\n    \tat org.apache.axis.message.RPCElement.getParams(RPCElement.java:384)\r\n    \tat org.apache.axis.client.Call.invoke(Call.java:2467)\r\n    \tat org.apache.axis.client.Call.invoke(Call.java:2366)\r\n    \tat org.apache.axis.client.Call.invoke(Call.java:1812)\r\n    \tat com.hxc.soap.HxcNewsServiceSoap12BindingStub.find(HxcNewsServiceSoap12BindingStub.java:254)\r\n    \tat com.hxc.soap.Test.main(Test.java:11)\r\n    \r\n    \t{http://xml.apache.org/axis/}hostname:geduo_pc\r\n    \r\n    org.xml.sax.SAXException: SimpleDeserializer encountered a child element, which is NOT expected, in something it was trying to deserialize.\r\n    \tat org.apache.axis.AxisFault.makeFault(AxisFault.java:101)\r\n    \tat org.apache.axis.client.Call.invoke(Call.java:2470)\r\n    \tat org.apache.axis.client.Call.invoke(Call.java:2366)\r\n    \tat org.apache.axis.client.Call.invoke(Call.java:1812)\r\n    \tat com.hxc.soap.HxcNewsServiceSoap12BindingStub.find(HxcNewsServiceSoap12BindingStub.java:254)\r\n    \tat com.hxc.soap.Test.main(Test.java:11)\r\n    Caused by: org.xml.sax.SAXException: SimpleDeserializer encountered a child element, which is NOT expected, in something it was trying to deserialize.\r\n    \tat org.apache.axis.encoding.ser.SimpleDeserializer.onStartChild(SimpleDeserializer.java:145)\r\n    \tat org.apache.axis.encoding.DeserializationContext.startElement(DeserializationContext.java:1035)\r\n    \tat org.apache.axis.message.SAX2EventRecorder.replay(SAX2EventRecorder.java:165)\r\n    \tat org.apache.axis.message.MessageElement.publishToHandler(MessageElement.java:1141)\r\n    \tat org.apache.axis.message.RPCElement.deserialize(RPCElement.java:236)\r\n    \tat org.apache.axis.message.RPCElement.getParams(RPCElement.java:384)\r\n    \tat org.apache.axis.client.Call.invoke(Call.java:2467)\r\n    \t... 4 more\r\n\r\nserver code:(axis2+hibernate+spring)\r\n\r\n    public class HxcNewsService implements IHxcNewsService {\t\r\n    \tprivate IDao dao;\t\r\n    \tpublic void setDao(IDao dao) {\r\n    \t\tthis.dao = dao;\r\n    \t}\r\n    \tpublic HxcNews find(int id){\r\n    \t\treturn (HxcNews) dao.find(&quot;com.ews.bean.HxcNews&quot;,id);\r\n    \t}\r\n    }\r\n\r\n    public class Dao&lt;T&gt; extends HibernateDaoSupport implements IDao&lt;T&gt; {\r\n    \r\n    \tpublic T find(String str,int id) {\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tT t = (T) getHibernateTemplate().get(str, id);\r\n    \t\t\treturn t;\r\n    \t\t} catch (RuntimeException re) {\t\t\t\r\n    \t\t\tthrow re;\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    }\r\n=====================================================================\r\nclient code:\r\n\r\n    public class Test {\r\n    \tpublic static void main(String[] args) {\r\n    \t\ttry {\r\n    \t\t\tHxcNewsServicePortType hxcNewsServicePortType = new HxcNewsServiceLocator().getHxcNewsServiceHttpSoap12Endpoint();\r\n    \t\t\tHxcNews news = hxcNewsServicePortType.find(1);\r\n    \t\t\tSystem.out.println(news.getTitle());\t\t\t\t\t\r\n    \t\t} catch (ServiceException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (RemoteException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\n\r\n","title":"The client to invoke an error is as follows:org.xml.sax.SAXException: SimpleDeserializer encountered a child element, which is NOT expected","body":"<p>Who can help me, I was going to collapse, so thank you\nThe client to invoke an error is as follows，error:\nThe client to invoke an error is as follows，error:</p>\n\n<pre><code>- Exception:\norg.xml.sax.SAXException: SimpleDeserializer encountered a child element, which is NOT expected, in something it was trying to deserialize.\n    at org.apache.axis.encoding.ser.SimpleDeserializer.onStartChild(SimpleDeserializer.java:145)\n    at org.apache.axis.encoding.DeserializationContext.startElement(DeserializationContext.java:1035)\n    at org.apache.axis.message.SAX2EventRecorder.replay(SAX2EventRecorder.java:165)\n    at org.apache.axis.message.MessageElement.publishToHandler(MessageElement.java:1141)\n    at org.apache.axis.message.RPCElement.deserialize(RPCElement.java:236)\n    at org.apache.axis.message.RPCElement.getParams(RPCElement.java:384)\n    at org.apache.axis.client.Call.invoke(Call.java:2467)\n    at org.apache.axis.client.Call.invoke(Call.java:2366)\n    at org.apache.axis.client.Call.invoke(Call.java:1812)\n    at com.hxc.soap.HxcNewsServiceSoap12BindingStub.find(HxcNewsServiceSoap12BindingStub.java:254)\n    at com.hxc.soap.Test.main(Test.java:11)\nAxisFault\n faultCode: {http://schemas.xmlsoap.org/soap/envelope/}Server.userException\n faultSubcode: \n faultString: org.xml.sax.SAXException: SimpleDeserializer encountered a child element, which is NOT expected, in something it was trying to deserialize.\n faultActor: \n faultNode: \n faultDetail: \n    {http://xml.apache.org/axis/}stackTrace:org.xml.sax.SAXException: SimpleDeserializer encountered a child element, which is NOT expected, in something it was trying to deserialize.\n    at org.apache.axis.encoding.ser.SimpleDeserializer.onStartChild(SimpleDeserializer.java:145)\n    at org.apache.axis.encoding.DeserializationContext.startElement(DeserializationContext.java:1035)\n    at org.apache.axis.message.SAX2EventRecorder.replay(SAX2EventRecorder.java:165)\n    at org.apache.axis.message.MessageElement.publishToHandler(MessageElement.java:1141)\n    at org.apache.axis.message.RPCElement.deserialize(RPCElement.java:236)\n    at org.apache.axis.message.RPCElement.getParams(RPCElement.java:384)\n    at org.apache.axis.client.Call.invoke(Call.java:2467)\n    at org.apache.axis.client.Call.invoke(Call.java:2366)\n    at org.apache.axis.client.Call.invoke(Call.java:1812)\n    at com.hxc.soap.HxcNewsServiceSoap12BindingStub.find(HxcNewsServiceSoap12BindingStub.java:254)\n    at com.hxc.soap.Test.main(Test.java:11)\n\n    {http://xml.apache.org/axis/}hostname:geduo_pc\n\norg.xml.sax.SAXException: SimpleDeserializer encountered a child element, which is NOT expected, in something it was trying to deserialize.\n    at org.apache.axis.AxisFault.makeFault(AxisFault.java:101)\n    at org.apache.axis.client.Call.invoke(Call.java:2470)\n    at org.apache.axis.client.Call.invoke(Call.java:2366)\n    at org.apache.axis.client.Call.invoke(Call.java:1812)\n    at com.hxc.soap.HxcNewsServiceSoap12BindingStub.find(HxcNewsServiceSoap12BindingStub.java:254)\n    at com.hxc.soap.Test.main(Test.java:11)\nCaused by: org.xml.sax.SAXException: SimpleDeserializer encountered a child element, which is NOT expected, in something it was trying to deserialize.\n    at org.apache.axis.encoding.ser.SimpleDeserializer.onStartChild(SimpleDeserializer.java:145)\n    at org.apache.axis.encoding.DeserializationContext.startElement(DeserializationContext.java:1035)\n    at org.apache.axis.message.SAX2EventRecorder.replay(SAX2EventRecorder.java:165)\n    at org.apache.axis.message.MessageElement.publishToHandler(MessageElement.java:1141)\n    at org.apache.axis.message.RPCElement.deserialize(RPCElement.java:236)\n    at org.apache.axis.message.RPCElement.getParams(RPCElement.java:384)\n    at org.apache.axis.client.Call.invoke(Call.java:2467)\n    ... 4 more\n</code></pre>\n\n<p>server code:(axis2+hibernate+spring)</p>\n\n<pre><code>public class HxcNewsService implements IHxcNewsService {    \n    private IDao dao;   \n    public void setDao(IDao dao) {\n        this.dao = dao;\n    }\n    public HxcNews find(int id){\n        return (HxcNews) dao.find(\"com.ews.bean.HxcNews\",id);\n    }\n}\n\npublic class Dao&lt;T&gt; extends HibernateDaoSupport implements IDao&lt;T&gt; {\n\n    public T find(String str,int id) {\n\n        try {\n            T t = (T) getHibernateTemplate().get(str, id);\n            return t;\n        } catch (RuntimeException re) {         \n            throw re;\n        }\n\n    }\n</code></pre>\n\n<h1>    }</h1>\n\n<p>client code:</p>\n\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        try {\n            HxcNewsServicePortType hxcNewsServicePortType = new HxcNewsServiceLocator().getHxcNewsServiceHttpSoap12Endpoint();\n            HxcNews news = hxcNewsServicePortType.find(1);\n            System.out.println(news.getTitle());                    \n        } catch (ServiceException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (RemoteException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","memory-leaks","garbage-collection"],"answers":[{"tags":[],"owner":{"account_id":403952,"reputation":8938,"user_id":772000,"accept_rate":100,"display_name":"Aleš"},"down_vote_count":3,"up_vote_count":11,"is_accepted":true,"score":8,"last_activity_date":1398897465,"creation_date":1398880306,"answer_id":23394850,"question_id":23393480,"body_markdown":"To create a heap dump, there will be a Full GC. The same applies when creating Class histogram out of heap.\r\n\r\nIf you want to analyze memory leak between Full GCs, then probably **memory profiling** using a Java profiler (Mission Control, jProfiler, etc) is your only option.\r\n\r\nSee this Q/A for https://stackoverflow.com/q/19056826/772000.","title":"Can heap dump be created for analyzing memory leak without garbage collection?","body":"<p>To create a heap dump, there will be a Full GC. The same applies when creating Class histogram out of heap.</p>\n\n<p>If you want to analyze memory leak between Full GCs, then probably <strong>memory profiling</strong> using a Java profiler (Mission Control, jProfiler, etc) is your only option.</p>\n\n<p>See this Q/A for <a href=\"https://stackoverflow.com/q/19056826/772000\">Java Mission Control Heap Profile</a>.</p>\n"},{"tags":[],"owner":{"account_id":3845978,"reputation":799,"user_id":3187521,"accept_rate":0,"display_name":"Amrish Pandey"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1511985820,"creation_date":1417537450,"answer_id":27254154,"question_id":23393480,"body_markdown":"You can trigger HeapDump using JMX bean HotSpotDiagnostic and second parameter of method set to false.\r\n\r\nSee this answer for a more detailed response:  https://stackoverflow.com/a/35575793/236528","title":"Can heap dump be created for analyzing memory leak without garbage collection?","body":"<p>You can trigger HeapDump using JMX bean HotSpotDiagnostic and second parameter of method set to false.</p>\n\n<p>See this answer for a more detailed response:  <a href=\"https://stackoverflow.com/a/35575793/236528\">https://stackoverflow.com/a/35575793/236528</a></p>\n"},{"tags":[],"owner":{"account_id":11430237,"reputation":21,"user_id":8379159,"display_name":"Sumit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1501204529,"creation_date":1501204529,"answer_id":45363369,"question_id":23393480,"body_markdown":"Just remove live from the option and you should be good. When you&#39;re supplying &quot;live&quot; option to jmap. you&#39;re forcing JVM to run a Full GC and capture those supposed to be &quot;live&quot;.\r\nuse jmap -dump:format=b,file=hd.hprof &lt;pid&gt; rather. ","title":"Can heap dump be created for analyzing memory leak without garbage collection?","body":"<p>Just remove live from the option and you should be good. When you're supplying \"live\" option to jmap. you're forcing JVM to run a Full GC and capture those supposed to be \"live\".\nuse jmap -dump:format=b,file=hd.hprof  rather. </p>\n"},{"tags":[],"owner":{"account_id":4304651,"reputation":9315,"user_id":3517383,"accept_rate":41,"display_name":"gabrielgiussi"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1660305860,"creation_date":1532109335,"answer_id":51448003,"question_id":23393480,"body_markdown":"The answer marked as correct isn&#39;t correct anymore.\r\nAs Sumit says, it will cause a Full GC only when the live option is used (in both histo &amp; dump operations).\r\n\r\n[Java 7][1] and [Java 8][2] have this option\r\n&gt; **-histo[:live]**\r\n&gt;\r\n&gt;Prints a histogram of the heap. For each Java class, the number of objects, memory size in bytes, and the fully qualified class names are printed. The JVM internal class names are printed with an asterisk (*) prefix. **If the live suboption is specified, then only active objects are counted.**\r\n\r\n----------\r\n\r\n&gt; **-dump:[live,] format=b, file=filename**\r\n&gt;\r\n &gt;   Dumps the Java heap in hprof binary format to filename. **The live suboption is optional, but when specified, only the active objects in the heap are dumped**. To browse the heap dump, you can use the jhat(1) command to read the generated file.\r\n\r\nYou could aldo use the [jcmd][3] command with the operation `GC.heap_dump` and the option `-all`\r\n\r\n&gt; GC.heap_dump\r\n&gt; \r\n&gt; Generate a HPROF format dump of the Java heap.\r\n&gt; \r\n&gt; Impact: High: Depends on Java heap size and content. Request a full GC\r\n&gt; unless the &#39;-all&#39; option is specified.\r\n&gt;\r\n&gt; Permission: java.lang.management.ManagementPermission(monitor)\r\n&gt; \r\n&gt; Syntax : GC.heap_dump [options] &lt;filename&gt;\r\n&gt; \r\n&gt; Arguments:\r\n&gt;\r\n&gt; * filename :  Name of the dump file (STRING, no default value)\r\n&gt; \r\n&gt; Options: (options must be specified using the &lt;key&gt; or &lt;key&gt;=&lt;value&gt;\r\n&gt; syntax)\r\n&gt;\r\n&gt; * -all : [optional] Dump all objects, including unreachable objects (BOOLEAN, false)\r\n\r\nExample: `jcmd 3181 GC.heap_dump -all dump`\r\n\r\nYou could add the `-XX:+PrintGCDetails` flag to see if a Full GC is hapenning.\r\nFor example, when I use jcmd without -all I see something like this.\r\n&gt; 200,658: [Full GC (Heap Dump Initiated GC) 200,658: [CMS: 5040K-&gt;4158K(18432K), 0,0171885 secs] 11239K-&gt;4158K(25856K), [Metaspace: 18053K-&gt;18053K(1064960K)], 0,0173941 secs] [Times: user=0,01 sys=0,00, real=0,02 secs] \r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/technotes/tools/share/jmap.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/technotes/tools/windows/jmap.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/technotes/tools/windows/jcmd.html","title":"Can heap dump be created for analyzing memory leak without garbage collection?","body":"<p>The answer marked as correct isn't correct anymore.\nAs Sumit says, it will cause a Full GC only when the live option is used (in both histo &amp; dump operations).</p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/technotes/tools/share/jmap.html\" rel=\"nofollow noreferrer\">Java 7</a> and <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/windows/jmap.html\" rel=\"nofollow noreferrer\">Java 8</a> have this option</p>\n<blockquote>\n<p><strong>-histo[:live]</strong></p>\n<p>Prints a histogram of the heap. For each Java class, the number of objects, memory size in bytes, and the fully qualified class names are printed. The JVM internal class names are printed with an asterisk (*) prefix. <strong>If the live suboption is specified, then only active objects are counted.</strong></p>\n</blockquote>\n<hr />\n<blockquote>\n<p><strong>-dump:[live,] format=b, file=filename</strong></p>\n<p>Dumps the Java heap in hprof binary format to filename. <strong>The live suboption is optional, but when specified, only the active objects in the heap are dumped</strong>. To browse the heap dump, you can use the jhat(1) command to read the generated file.</p>\n</blockquote>\n<p>You could aldo use the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/windows/jcmd.html\" rel=\"nofollow noreferrer\">jcmd</a> command with the operation <code>GC.heap_dump</code> and the option <code>-all</code></p>\n<blockquote>\n<p>GC.heap_dump</p>\n<p>Generate a HPROF format dump of the Java heap.</p>\n<p>Impact: High: Depends on Java heap size and content. Request a full GC\nunless the '-all' option is specified.</p>\n<p>Permission: java.lang.management.ManagementPermission(monitor)</p>\n<p>Syntax : GC.heap_dump [options] </p>\n<p>Arguments:</p>\n<ul>\n<li>filename :  Name of the dump file (STRING, no default value)</li>\n</ul>\n<p>Options: (options must be specified using the  or =\nsyntax)</p>\n<ul>\n<li>-all : [optional] Dump all objects, including unreachable objects (BOOLEAN, false)</li>\n</ul>\n</blockquote>\n<p>Example: <code>jcmd 3181 GC.heap_dump -all dump</code></p>\n<p>You could add the <code>-XX:+PrintGCDetails</code> flag to see if a Full GC is hapenning.\nFor example, when I use jcmd without -all I see something like this.</p>\n<blockquote>\n<p>200,658: [Full GC (Heap Dump Initiated GC) 200,658: [CMS: 5040K-&gt;4158K(18432K), 0,0171885 secs] 11239K-&gt;4158K(25856K), [Metaspace: 18053K-&gt;18053K(1064960K)], 0,0173941 secs] [Times: user=0,01 sys=0,00, real=0,02 secs]</p>\n</blockquote>\n"}],"owner":{"account_id":2751722,"reputation":605,"user_id":2370971,"accept_rate":80,"display_name":"zhengyu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24539,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":23394850,"answer_count":4,"score":21,"last_activity_date":1693277270,"creation_date":1398875610,"question_id":23393480,"body_markdown":"We have some memory leak issues on VMs in production which are running Java applications, the Old Gen heap usage grows fast every day, so I want to create heap dump to analyze it. \r\n\r\nHowever, I noticed that VisualVM will perform full GC before heap dump which will clean the Old Gen, in that case, the heap dump would be useless. \r\n\r\nI also tried to use the following command:\r\n\r\njmap -dump:live,format=b,file=heap.bin &lt;pid&gt;\r\n\r\nIt will also trigger a full GC.\r\n\r\nMay I ask if there is a way that heap dump can be created without full GC (or without GC)? Or is there any better way to analyze the memory leak?\r\n\r\nJDK version: 1.7.0_45\r\n\r\nThanks.","title":"Can heap dump be created for analyzing memory leak without garbage collection?","body":"<p>We have some memory leak issues on VMs in production which are running Java applications, the Old Gen heap usage grows fast every day, so I want to create heap dump to analyze it. </p>\n\n<p>However, I noticed that VisualVM will perform full GC before heap dump which will clean the Old Gen, in that case, the heap dump would be useless. </p>\n\n<p>I also tried to use the following command:</p>\n\n<p>jmap -dump:live,format=b,file=heap.bin </p>\n\n<p>It will also trigger a full GC.</p>\n\n<p>May I ask if there is a way that heap dump can be created without full GC (or without GC)? Or is there any better way to analyze the memory leak?</p>\n\n<p>JDK version: 1.7.0_45</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1693276647,"post_id":76996914,"comment_id":135736106,"body_markdown":"If you don’t pass a timestamp during creation, where do you expect to get it from when retrieving the object? Are you expecting the database to set a default value?","body":"If you don’t pass a timestamp during creation, where do you expect to get it from when retrieving the object? Are you expecting the database to set a default value?"}],"answers":[{"tags":[],"owner":{"account_id":27243397,"reputation":1316,"user_id":20769158,"display_name":"scrhartley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693276168,"creation_date":1693276168,"answer_id":76996955,"question_id":76996914,"body_markdown":"So the @PrePersist method is called _only_ when you&#39;re putting a new customer in the database.\r\n\r\nYou can make the empty constructor not be public and have a different constructor that requires a timestamp. Or perhaps have a static creation method:\r\n```java\r\npublic static Customer newCustomer() {\r\n    Customer customer = new Customer();\r\n    customer.timestamp = new Date();\r\n    return customer;\r\n}\r\n```","title":"How to use Spring Boot PrePersist with lombok NonNull","body":"<p>So the @PrePersist method is called <em>only</em> when you're putting a new customer in the database.</p>\n<p>You can make the empty constructor not be public and have a different constructor that requires a timestamp. Or perhaps have a static creation method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Customer newCustomer() {\n    Customer customer = new Customer();\n    customer.timestamp = new Date();\n    return customer;\n}\n</code></pre>\n"}],"owner":{"account_id":11957370,"reputation":59,"user_id":8749307,"display_name":"sss"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1693276168,"creation_date":1693275193,"question_id":76996914,"body_markdown":"I am new to Spring and am having a lot of trouble getting Entities configured correctly while using null safety.\r\n\r\nMy goal is to avoid duplicating models. For example, I would prefer to now have a Customer entity, along with a CreateCustomer model.\r\n\r\n\r\nWhat I am trying to do is something like \r\n```\r\n@Entity\r\npublic class Customer {\r\n\r\n\r\n    @Column\r\n    @NonNull private Date timestamp;\r\n\r\n    @PrePersist\r\n    private void prePersistFunction(){\r\n        if (this.timestamp == null) {\r\n            this.timestamp = new Date();\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n```\r\n\r\nThe issue is what happens if I want to create a customer object? I don&#39;t want to pass that a timestamp but I want timestamp to be marked with @NonNull for when I do getCustomer()\r\n\r\nAny recommendations would be appreciated. Thanks","title":"How to use Spring Boot PrePersist with lombok NonNull","body":"<p>I am new to Spring and am having a lot of trouble getting Entities configured correctly while using null safety.</p>\n<p>My goal is to avoid duplicating models. For example, I would prefer to now have a Customer entity, along with a CreateCustomer model.</p>\n<p>What I am trying to do is something like</p>\n<pre><code>@Entity\npublic class Customer {\n\n\n    @Column\n    @NonNull private Date timestamp;\n\n    @PrePersist\n    private void prePersistFunction(){\n        if (this.timestamp == null) {\n            this.timestamp = new Date();\n        }\n    }\n\n\n\n\n}\n</code></pre>\n<p>The issue is what happens if I want to create a customer object? I don't want to pass that a timestamp but I want timestamp to be marked with @NonNull for when I do getCustomer()</p>\n<p>Any recommendations would be appreciated. Thanks</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1693274130,"post_id":76996858,"comment_id":135735912,"body_markdown":"You can compare ints (primitives) with `==` but not Strings (objects).  But you can make it easier on yourself by declaring `input` as an `int` and doing `input = scan.nextInt()`.  Then compare using `if(input == 1) {do something`.","body":"You can compare ints (primitives) with <code>==</code> but not Strings (objects).  But you can make it easier on yourself by declaring <code>input</code> as an <code>int</code> and doing <code>input = scan.nextInt()</code>.  Then compare using <code>if(input == 1) {do something</code>."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1693274227,"post_id":76996858,"comment_id":135735921,"body_markdown":"Don&#39;t compare Strings using `==` or `!=`. Use the `equals(...)` or the `equalsIgnoreCase(...)` method instead. Understand that `==` checks if the two *object references* are the same which is not what you&#39;re interested in. The methods on the other hand check if the two Strings have the same characters in the same order, and that&#39;s what matters here.","body":"Don&#39;t compare Strings using <code>==</code> or <code>!=</code>. Use the <code>equals(...)</code> or the <code>equalsIgnoreCase(...)</code> method instead. Understand that <code>==</code> checks if the two <i>object references</i> are the same which is not what you&#39;re interested in. The methods on the other hand check if the two Strings have the same characters in the same order, and that&#39;s what matters here."}],"owner":{"account_id":29222690,"reputation":11,"user_id":22388132,"display_name":"Rin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1693274208,"answer_count":0,"score":0,"last_activity_date":1693273756,"creation_date":1693273756,"question_id":76996858,"body_markdown":"Recenlty i wrote this code\r\n\r\n\r\n```\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Driver {\r\n    \r\n    public static void main(String[] args) {\r\n        Scanner scan = new Scanner (System.in);\r\n        String input, input2,input3;\r\n       \r\n        System.out.println(&quot;Customer Service\\n1. Write\\n2. View\\n3. Exit\\nYour Choice: &quot;);\r\n        do{\r\n            input = scan.nextLine();\r\n            if(input == &quot;1\\n&quot;){\r\n                System.out.print(&quot;Title: &quot;);\r\n                input2 = scan.nextLine();\r\n                System.out.print(&quot;Description: &quot;);\r\n                input3 = scan.nextLine();\r\n         \r\n            }\r\n            else if(input==&quot;2&quot;){\r\n   \r\n\t\t\tSystem.out.println(&quot;You press 2&quot;);\r\n            }\r\n            else {\r\n                System.err.append(&quot;Invalid Input.&quot;);\r\n            }\r\n\t\tSystem.out.println(input);\r\n        \r\n        }while(input!=&quot;3&quot;);\r\n        System.out.println(&quot;Exit program&quot;);\r\n        \r\n    }\r\n    \r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\nWhen i type 1, the input should be 1. But it shows that input!=&quot;1&quot; when compare, why does this happen? (2 and 3 also cant work)","title":"Why does i input something is not equal than the what exactly i type?","body":"<p>Recenlty i wrote this code</p>\n<pre><code>\nimport java.util.Scanner;\n\npublic class Driver {\n    \n    public static void main(String[] args) {\n        Scanner scan = new Scanner (System.in);\n        String input, input2,input3;\n       \n        System.out.println(&quot;Customer Service\\n1. Write\\n2. View\\n3. Exit\\nYour Choice: &quot;);\n        do{\n            input = scan.nextLine();\n            if(input == &quot;1\\n&quot;){\n                System.out.print(&quot;Title: &quot;);\n                input2 = scan.nextLine();\n                System.out.print(&quot;Description: &quot;);\n                input3 = scan.nextLine();\n         \n            }\n            else if(input==&quot;2&quot;){\n   \n            System.out.println(&quot;You press 2&quot;);\n            }\n            else {\n                System.err.append(&quot;Invalid Input.&quot;);\n            }\n        System.out.println(input);\n        \n        }while(input!=&quot;3&quot;);\n        System.out.println(&quot;Exit program&quot;);\n        \n    }\n    \n}\n\n</code></pre>\n<p>When i type 1, the input should be 1. But it shows that input!=&quot;1&quot; when compare, why does this happen? (2 and 3 also cant work)</p>\n"},{"tags":["java","spring-boot","microservices"],"comments":[{"owner":{"account_id":3807187,"reputation":16966,"user_id":3159253,"accept_rate":60,"display_name":"user3159253"},"score":0,"creation_date":1693274286,"post_id":76996822,"comment_id":135735929,"body_markdown":"I guess, the request is successfully sent, but no response is given within a default (or implicitly configured) client response timeout. Depending on what particular client is used you can configure it using different properties. For example of you use RestTemplate, it can be configured like [this](https://stackoverflow.com/questions/13837012/spring-resttemplate-timeout).","body":"I guess, the request is successfully sent, but no response is given within a default (or implicitly configured) client response timeout. Depending on what particular client is used you can configure it using different properties. For example of you use RestTemplate, it can be configured like <a href=\"https://stackoverflow.com/questions/13837012/spring-resttemplate-timeout\">this</a>."},{"owner":{"account_id":3807187,"reputation":16966,"user_id":3159253,"accept_rate":60,"display_name":"user3159253"},"score":0,"creation_date":1693274708,"post_id":76996822,"comment_id":135735965,"body_markdown":"I would check in what state a particular connection has frozen by increasing http client logging level [like this](https://www.baeldung.com/spring-resttemplate-logging) and/or using `netstat` and `tcpdump`/`Wireshark` utilities.","body":"I would check in what state a particular connection has frozen by increasing http client logging level <a href=\"https://www.baeldung.com/spring-resttemplate-logging\" rel=\"nofollow noreferrer\">like this</a> and/or using <code>netstat</code> and <code>tcpdump</code>/<code>Wireshark</code> utilities."}],"owner":{"account_id":26824155,"reputation":27,"user_id":20413030,"display_name":"Tech_Dev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693272878,"creation_date":1693272878,"question_id":76996822,"body_markdown":"I&#39;ve a spring boot java microservice calling one of our external client service outside the k8 cluster. Sometimes, for our requests there are no responses coming back from the external service although it has processed the requests at its end. My logs shows no record after the request went out.\r\n\r\nI do have a retry mechanism at my end but since there is no error coming back, it never gets triggered. \r\n\r\nNote- i don&#39;t have any timeout added to the RestTemplate.\r\n\r\nLooking for some ideas/thoughts how to handle this.","title":"Spring boot call to external api hung with no response","body":"<p>I've a spring boot java microservice calling one of our external client service outside the k8 cluster. Sometimes, for our requests there are no responses coming back from the external service although it has processed the requests at its end. My logs shows no record after the request went out.</p>\n<p>I do have a retry mechanism at my end but since there is no error coming back, it never gets triggered.</p>\n<p>Note- i don't have any timeout added to the RestTemplate.</p>\n<p>Looking for some ideas/thoughts how to handle this.</p>\n"},{"tags":["java","apache-flink","streaming","flink-streaming","watermark"],"answers":[{"tags":[],"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693272369,"creation_date":1693164072,"answer_id":76988603,"question_id":76985542,"body_markdown":"1. `forMonotonousTimestamps` is a periodic watermark generator, emitting watermarks every 200 msec (by default). This job isn&#39;t going to run long enough for that to ever happen. So I would expect just one watermark, at the end of the job. (See [this answer](https://stackoverflow.com/a/76984683/2000823) for more info about the end-of-job watermark.)\r\n\r\n2. Watermarks can be inspected in the Flink web UI -- that&#39;s the easiest way to debug them. Otherwise you can access the current watermark through the context passed into the `processElement` and `onTimer` methods of a keyed process function.","title":"Flink - How many watermarks get injected in this bounded stream?","body":"<ol>\n<li><p><code>forMonotonousTimestamps</code> is a periodic watermark generator, emitting watermarks every 200 msec (by default). This job isn't going to run long enough for that to ever happen. So I would expect just one watermark, at the end of the job. (See <a href=\"https://stackoverflow.com/a/76984683/2000823\">this answer</a> for more info about the end-of-job watermark.)</p>\n</li>\n<li><p>Watermarks can be inspected in the Flink web UI -- that's the easiest way to debug them. Otherwise you can access the current watermark through the context passed into the <code>processElement</code> and <code>onTimer</code> methods of a keyed process function.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":4032106,"reputation":16084,"user_id":3317808,"accept_rate":54,"display_name":"overexchange"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76988603,"answer_count":1,"score":1,"last_activity_date":1693272369,"creation_date":1693104667,"question_id":76985542,"body_markdown":"In the below code:\r\n\r\n    StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\n    \r\n            SingleOutputStreamOperator&lt;Tuple2&lt;String, Integer&gt;&gt; dataStream = env.fromElements(\r\n                Tuple2.of(&quot;01&quot;, 1),\r\n                Tuple2.of(&quot;02&quot;, 2),\r\n                Tuple2.of(&quot;03&quot;, 3),\r\n                Tuple2.of(&quot;04&quot;, 4),\r\n                Tuple2.of(&quot;05&quot;, 5)\r\n                ).assignTimestampsAndWatermarks(\r\n                                    WatermarkStrategy.&lt;Tuple2&lt;String, Integer&gt;&gt;forMonotonousTimestamps()\r\n                                            .withTimestampAssigner(\r\n                                                    (tuple,  ts) -&gt; System.currentTimeMillis()));\r\n      env.execute(&quot;dfjghf&quot;)\r\n    \r\n     env.execute(&quot;gghh&quot;);\r\n\r\n----------------\r\n\r\nflink - 1.17.1, \r\nJava 11\r\n\r\n----\r\n\r\n1)\r\n How many watermarks will be injected in this bounded stream? Is it 5?\r\n\r\n2)\r\nHow to print those watermark elements? Just for debugging...","title":"Flink - How many watermarks get injected in this bounded stream?","body":"<p>In the below code:</p>\n<pre><code>StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n\n        SingleOutputStreamOperator&lt;Tuple2&lt;String, Integer&gt;&gt; dataStream = env.fromElements(\n            Tuple2.of(&quot;01&quot;, 1),\n            Tuple2.of(&quot;02&quot;, 2),\n            Tuple2.of(&quot;03&quot;, 3),\n            Tuple2.of(&quot;04&quot;, 4),\n            Tuple2.of(&quot;05&quot;, 5)\n            ).assignTimestampsAndWatermarks(\n                                WatermarkStrategy.&lt;Tuple2&lt;String, Integer&gt;&gt;forMonotonousTimestamps()\n                                        .withTimestampAssigner(\n                                                (tuple,  ts) -&gt; System.currentTimeMillis()));\n  env.execute(&quot;dfjghf&quot;)\n\n env.execute(&quot;gghh&quot;);\n</code></pre>\n<hr />\n<p>flink - 1.17.1,\nJava 11</p>\n<hr />\n<ol>\n<li></li>\n</ol>\n<p>How many watermarks will be injected in this bounded stream? Is it 5?</p>\n<p>2)\nHow to print those watermark elements? Just for debugging...</p>\n"},{"tags":["java","lambda","functional-programming","java-8"],"comments":[{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":5,"creation_date":1429897876,"post_id":29851525,"comment_id":47834356,"body_markdown":"Related: http://stackoverflow.com/a/26553481/1441122","body":"Related: <a href=\"http://stackoverflow.com/a/26553481/1441122\">stackoverflow.com/a/26553481/1441122</a>"},{"owner":{"account_id":442211,"reputation":1899,"user_id":832725,"accept_rate":71,"display_name":"paul_h"},"score":1,"creation_date":1544594309,"post_id":29851525,"comment_id":94326645,"body_markdown":"&quot;Null Object&quot; pattern is the name of this (per Martin Fowler&#39;s Refactoring book - 1997 and updated in 2018). And yes, it&#39;d be great if most interfaces in the JDK shipped with a public static inner class NULL or NullObject.","body":"&quot;Null Object&quot; pattern is the name of this (per Martin Fowler&#39;s Refactoring book - 1997 and updated in 2018). And yes, it&#39;d be great if most interfaces in the JDK shipped with a public static inner class NULL or NullObject."},{"owner":{"account_id":442211,"reputation":1899,"user_id":832725,"accept_rate":71,"display_name":"paul_h"},"score":1,"creation_date":1544605331,"post_id":29851525,"comment_id":94331270,"body_markdown":"I mean .. Most interfaces in the JDK should ship with a inner class that is a Null Object implementation, and a public static var NULL or NullObject which is an instance of that for all to use, like so: foo = Consumer.NULL;","body":"I mean .. Most interfaces in the JDK should ship with a inner class that is a Null Object implementation, and a public static var NULL or NullObject which is an instance of that for all to use, like so: foo = Consumer.NULL;"},{"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"score":0,"creation_date":1693155483,"post_id":29851525,"comment_id":135719732,"body_markdown":"Here was as close as I could get staying in the spirit of the JDK designers: https://stackoverflow.com/a/76985309/501113","body":"Here was as close as I could get staying in the spirit of the JDK designers: <a href=\"https://stackoverflow.com/a/76985309/501113\">stackoverflow.com/a/76985309/501113</a>"}],"answers":[{"tags":[],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"down_vote_count":0,"up_vote_count":89,"is_accepted":true,"score":89,"last_activity_date":1429889964,"creation_date":1429889964,"answer_id":29851786,"question_id":29851525,"body_markdown":"This is no deficiency.\r\n\r\nLambdas in Java are instances of functional interfaces; which, in turn, are abstracted to instances of Java constructs which can be simplified to _one_ single abstract method, or SAM.\r\n\r\nBut this SAM still needs to have a valid prototype. In your case, you want to have a no-op `Consumer&lt;T&gt;` which does nothing whatever the `T`.\r\n\r\nIt still needs to be a `Consumer&lt;T&gt;` however; which means the minimal declaration you can come up with is:\r\n\r\n    private static final Consumer&lt;Object&gt; NOOP = whatever -&gt; {};\r\n\r\nand use `NOOP` where you need to.\r\n","title":"Is there a method reference for a no-op (NOP) that can be used for anything lambda?","body":"<p>This is no deficiency.</p>\n\n<p>Lambdas in Java are instances of functional interfaces; which, in turn, are abstracted to instances of Java constructs which can be simplified to <em>one</em> single abstract method, or SAM.</p>\n\n<p>But this SAM still needs to have a valid prototype. In your case, you want to have a no-op <code>Consumer&lt;T&gt;</code> which does nothing whatever the <code>T</code>.</p>\n\n<p>It still needs to be a <code>Consumer&lt;T&gt;</code> however; which means the minimal declaration you can come up with is:</p>\n\n<pre><code>private static final Consumer&lt;Object&gt; NOOP = whatever -&gt; {};\n</code></pre>\n\n<p>and use <code>NOOP</code> where you need to.</p>\n"},{"tags":[],"owner":{"account_id":1911974,"reputation":8959,"user_id":1725558,"display_name":"Anderson Vieira"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1597495765,"creation_date":1429890151,"answer_id":29851850,"question_id":29851525,"body_markdown":"In your particular case you could simply do:\r\n\r\n    foo(i -&gt; {});\r\n\r\nThis means that the lambda expression receives a parameter but has no return value.\r\n\r\nThe equivalent code for a `BiConsumer&lt;T, U&gt;` would be:\r\n\r\n    void bifoo(BiConsumer&lt;Object, Object&gt; consumer) { ... }\r\n\r\n    bifoo((a, b) -&gt; {});","title":"Is there a method reference for a no-op (NOP) that can be used for anything lambda?","body":"<p>In your particular case you could simply do:</p>\n<pre><code>foo(i -&gt; {});\n</code></pre>\n<p>This means that the lambda expression receives a parameter but has no return value.</p>\n<p>The equivalent code for a <code>BiConsumer&lt;T, U&gt;</code> would be:</p>\n<pre><code>void bifoo(BiConsumer&lt;Object, Object&gt; consumer) { ... }\n\nbifoo((a, b) -&gt; {});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"down_vote_count":4,"up_vote_count":17,"is_accepted":false,"score":13,"last_activity_date":1524885860,"creation_date":1429890530,"answer_id":29851985,"question_id":29851525,"body_markdown":"Could [`Function.identity()`](https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html#identity--) fit your needs?\r\n\r\n&gt; Returns a function that always returns its input argument.","title":"Is there a method reference for a no-op (NOP) that can be used for anything lambda?","body":"<p>Could <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html#identity--\" rel=\"noreferrer\"><code>Function.identity()</code></a> fit your needs?</p>\n\n<blockquote>\n  <p>Returns a function that always returns its input argument.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4934454,"reputation":37277,"user_id":3973077,"accept_rate":77,"display_name":"Paul Boddington"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1429891951,"creation_date":1429890903,"answer_id":29852122,"question_id":29851525,"body_markdown":"If you want a method reference for a method that does nothing, the easiest way is to write a method that does nothing. Notice that in this example I have used `Main::doNothing` when a `Consumer&lt;String&gt;` is required.\r\n\r\n    class Main {\r\n\r\n        static void doNothing(Object o) { }\r\n\r\n        static void foo(Consumer&lt;String&gt; c) { }\r\n\r\n        public static void main(String[] args) {\r\n            foo(Main::doNothing);\r\n        }\r\n    }\r\n\r\nYou could also overload `doNothing` by providing a version using varargs.\r\n\r\n    static void doNothing(Object... o) { }\r\n\r\nThis signature will accept literally any sequence of parameters (even primitives, as these will get autoboxed). That way you could pass `Main::doNothing` whenever the functional interface&#39;s method has `void` return type. For example you could pass `Main::doNothing` when an `ObjLongConsumer&lt;Integer&gt;` is needed.\r\n","title":"Is there a method reference for a no-op (NOP) that can be used for anything lambda?","body":"<p>If you want a method reference for a method that does nothing, the easiest way is to write a method that does nothing. Notice that in this example I have used <code>Main::doNothing</code> when a <code>Consumer&lt;String&gt;</code> is required.</p>\n\n<pre><code>class Main {\n\n    static void doNothing(Object o) { }\n\n    static void foo(Consumer&lt;String&gt; c) { }\n\n    public static void main(String[] args) {\n        foo(Main::doNothing);\n    }\n}\n</code></pre>\n\n<p>You could also overload <code>doNothing</code> by providing a version using varargs.</p>\n\n<pre><code>static void doNothing(Object... o) { }\n</code></pre>\n\n<p>This signature will accept literally any sequence of parameters (even primitives, as these will get autoboxed). That way you could pass <code>Main::doNothing</code> whenever the functional interface's method has <code>void</code> return type. For example you could pass <code>Main::doNothing</code> when an <code>ObjLongConsumer&lt;Integer&gt;</code> is needed.</p>\n"},{"tags":[],"owner":{"account_id":57130,"reputation":855,"user_id":171104,"display_name":"MNZ"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1502308859,"creation_date":1502308859,"answer_id":45599646,"question_id":29851525,"body_markdown":"You can have your own NOOP implementation, similar to Function.Identity.\r\n\r\n    static &lt;T&gt; Consumer&lt;T&gt; NOOP() {\r\n\t\treturn t -&gt; {};\r\n\t}","title":"Is there a method reference for a no-op (NOP) that can be used for anything lambda?","body":"<p>You can have your own NOOP implementation, similar to Function.Identity.</p>\n\n<pre><code>static &lt;T&gt; Consumer&lt;T&gt; NOOP() {\n    return t -&gt; {};\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2194198,"reputation":1051,"user_id":1940353,"accept_rate":83,"display_name":"drspa44"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1669398718,"creation_date":1603206975,"answer_id":64448168,"question_id":29851525,"body_markdown":"If you want something that is *very close to a no-op*, you can use `Objects::requireNonNull`.\r\n\r\nUsing `x -&gt; {}` also works of course, but your IDE&#39;s auto-formatter may try to split it up onto multiple lines.","title":"Is there a method reference for a no-op (NOP) that can be used for anything lambda?","body":"<p>If you want something that is <em>very close to a no-op</em>, you can use <code>Objects::requireNonNull</code>.</p>\n<p>Using <code>x -&gt; {}</code> also works of course, but your IDE's auto-formatter may try to split it up onto multiple lines.</p>\n"},{"tags":[],"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693271531,"creation_date":1693095780,"answer_id":76985309,"question_id":29851525,"body_markdown":"Note: I have found this [Java Lambda Shapes Reference][1] as a Google Sheet useful.\r\n\r\n\r\n----------\r\n\r\n\r\nI don&#39;t like how the Java design team omitted the notion of a `VoidSupplier`.\r\n\r\nI want something that gives me a strongly typed `@FunctionalInterface`, where I don&#39;t have to pass an &quot;ignored&quot; parameter to a lambda function (a.k.a. closure) that doesn&#39;t `return` anything.\r\n\r\nAs a result, I created a class that fills in this obvious gap.\r\n\r\n```java\r\npublic class FunctionUtils {\r\n\r\n  private FunctionUtils() {\r\n    //Suppress instantiation\r\n  }\r\n\r\n  public static final VoidSupplier NO_OP = () -&gt; {\r\n  };\r\n\r\n  @FunctionalInterface\r\n  public interface VoidSupplier {\r\n\r\n    void get();\r\n  }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.google.com/spreadsheets/d/1HzSpbHhaB6igjkc0me2hTYehgfNkYCENw7io7IQI9vM/edit?usp=sharing","title":"Is there a method reference for a no-op (NOP) that can be used for anything lambda?","body":"<p>Note: I have found this <a href=\"https://docs.google.com/spreadsheets/d/1HzSpbHhaB6igjkc0me2hTYehgfNkYCENw7io7IQI9vM/edit?usp=sharing\" rel=\"nofollow noreferrer\">Java Lambda Shapes Reference</a> as a Google Sheet useful.</p>\n<hr />\n<p>I don't like how the Java design team omitted the notion of a <code>VoidSupplier</code>.</p>\n<p>I want something that gives me a strongly typed <code>@FunctionalInterface</code>, where I don't have to pass an &quot;ignored&quot; parameter to a lambda function (a.k.a. closure) that doesn't <code>return</code> anything.</p>\n<p>As a result, I created a class that fills in this obvious gap.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FunctionUtils {\n\n  private FunctionUtils() {\n    //Suppress instantiation\n  }\n\n  public static final VoidSupplier NO_OP = () -&gt; {\n  };\n\n  @FunctionalInterface\n  public interface VoidSupplier {\n\n    void get();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":12549,"reputation":4815,"user_id":24795,"accept_rate":50,"display_name":"Ben"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70434,"favorite_count":0,"down_vote_count":0,"up_vote_count":94,"accepted_answer_id":29851786,"answer_count":7,"score":94,"last_activity_date":1693271531,"creation_date":1429889306,"question_id":29851525,"body_markdown":"This may sounds like a strange question, but is there a way to refer to a standard no-op (aka null operation, null-pattern method, no-operation, do-nothing method) method for a Lambda in Java 8.\r\n\r\nCurrently, I have a method that takes a, say, ``void foo(Consumer&lt;Object&gt;)``, and I want to give it a no-op, I have to declare:\r\n\r\n\r\n    foo(new Consumer&lt;Object&gt;() { \r\n      public void accept(Object o) { \r\n        // do nothing \r\n      }\r\n    }\r\n\r\n\r\nwhere I would like to be able to do something like:\r\n\r\n    foo(Object::null)\r\n\r\ninstead.  Does something like exist?   \r\n\r\nNot sure how that would work with multi-parameter methods -- perhaps this is a deficiency in the lambdas in Java.\r\n","title":"Is there a method reference for a no-op (NOP) that can be used for anything lambda?","body":"<p>This may sounds like a strange question, but is there a way to refer to a standard no-op (aka null operation, null-pattern method, no-operation, do-nothing method) method for a Lambda in Java 8.</p>\n\n<p>Currently, I have a method that takes a, say, <code>void foo(Consumer&lt;Object&gt;)</code>, and I want to give it a no-op, I have to declare:</p>\n\n<pre><code>foo(new Consumer&lt;Object&gt;() { \n  public void accept(Object o) { \n    // do nothing \n  }\n}\n</code></pre>\n\n<p>where I would like to be able to do something like:</p>\n\n<pre><code>foo(Object::null)\n</code></pre>\n\n<p>instead.  Does something like exist?   </p>\n\n<p>Not sure how that would work with multi-parameter methods -- perhaps this is a deficiency in the lambdas in Java.</p>\n"},{"tags":["java","spring-boot","video-streaming"],"owner":{"account_id":19538690,"reputation":1,"user_id":14296943,"display_name":"duckulaj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693271508,"creation_date":1693167286,"question_id":76988782,"body_markdown":"I am trying to play a video based on a remote server but it will not load. However, if the video is on the local filesytem it does work. Here is the code:\r\n```\r\n@GetMapping(&quot;/media&quot;)\r\n\tpublic ResponseEntity&lt;ResourceRegion&gt; getMedia(@RequestHeader HttpHeaders headers) {\r\n\t\tResource media = null;\r\n\t\ttry {\r\n\t\t\tmedia = new UrlResource(&quot;http://remoteserver.com:80/movie/377f87f5f5/234180c7a2/156022.mp4&quot;);\r\n\t\t\t// media = new FileUrlResource(VideoUploadingDir + &quot;/video.mp4&quot;);\r\n\t\t} catch (MalformedURLException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\tlog.info(&quot;mediaType  is {}&quot;,MediaTypeFactory.getMediaType(media));\r\n\t\t\r\n\t    ResourceRegion region = null;\r\n\t\tregion = resourceRegion(media, headers);\r\n\t    return ResponseEntity.status(HttpStatus.PARTIAL_CONTENT)\r\n\t            .contentType(MediaTypeFactory.getMediaType(media)\r\n\t                    .orElse(MediaType.APPLICATION_OCTET_STREAM))\r\n\t            .body(region);\r\n\t}\r\n\r\n\tprivate ResourceRegion resourceRegion(Resource media, HttpHeaders headers) {\r\n\t    long contentLength = 0;\r\n\t    contentLength = getContentSizeFromUrl(media);\r\n\t    log.info(&quot;contentLength is {}&quot;, contentLength);\r\n\t    \r\n\t    List&lt;HttpRange&gt; rangeList = new ArrayList&lt;HttpRange&gt;();\r\n\t    \t    \r\n\t    rangeList.add(HttpRange.createByteRange(0, contentLength));\r\n\t    \r\n\t    \r\n\t    headers.setRange(rangeList);\r\n\t    List&lt;HttpRange&gt; range = headers.getRange();\r\n\t    log.info(&quot;range is {}&quot;, headers.getRange().toString());\r\n\t    \r\n\t    if (!range.isEmpty()) {\r\n\t        String[] ranges = range.get(0).toString().split(&quot;-&quot;);\r\n\t        long start = Long.parseLong(ranges[0]);\r\n\t        log.info(&quot;start is {}&quot;, start);\r\n\t        \r\n\t        long end = ranges.length &gt; 1 ? Long.parseLong(ranges[1]) : contentLength - 1;\r\n\t        log.info(&quot;end is {}&quot;, end);\r\n\t        \r\n\t        long rangeLength = Math.min(end - start + 1, contentLength);\r\n\t        log.info(&quot;rangeLength is {}&quot;, rangeLength);\r\n\t        \r\n\t        return new ResourceRegion(media, start, rangeLength);\r\n\t    } else {\r\n\t        long rangeLength = Math.min(1024 * 1024, contentLength);\r\n\t        log.info(&quot;rangeLength is {}&quot;, rangeLength);\r\n\t        \r\n\t        return new ResourceRegion(media, 0, rangeLength);\r\n\t    }\r\n```\r\nThis is some output from logging:\r\n```none\r\n[2m2023-08-27 21:04:03.035[0;39m [32m INFO[0;39m [35m171969[0;39m [2m---[0;39m [2m[nio-8081-exec-9][0;39m [36mc.s.controller.VideoStreamController    [0;39m [2m:[0;39m mediaType  is Optional[video/mp4]\r\n[2m2023-08-27 21:04:03.312[0;39m [32m INFO[0;39m [35m171969[0;39m [2m---[0;39m [2m[nio-8081-exec-9][0;39m [36mc.s.controller.VideoStreamController    [0;39m [2m:[0;39m contentLength is 1878020797\r\n[2m2023-08-27 21:04:03.313[0;39m [32m INFO[0;39m [35m171969[0;39m [2m---[0;39m [2m[nio-8081-exec-9][0;39m [36mc.s.controller.VideoStreamController    [0;39m [2m:[0;39m range is [0-1878020797]\r\n[2m2023-08-27 21:04:03.313[0;39m [32m INFO[0;39m [35m171969[0;39m [2m---[0;39m [2m[nio-8081-exec-9][0;39m [36mc.s.controller.VideoStreamController    [0;39m [2m:[0;39m start is 0\r\n[2m2023-08-27 21:04:03.313[0;39m [32m INFO[0;39m [35m171969[0;39m [2m---[0;39m [2m[nio-8081-exec-9][0;39m [36mc.s.controller.VideoStreamController    [0;39m [2m:[0;39m end is 1878020797\r\n[2m2023-08-27 21:04:03.313[0;39m [32m INFO[0;39m [35m171969[0;39m [2m---[0;39m [2m[nio-8081-exec-9][0;39m [36mc.s.controller.VideoStreamController    [0;39m [2m:[0;39m rangeLength is 1878020797\r\n[2m2023-08-27 21:04:03.617[0;39m [32m INFO[0;39m [35m171969[0;39m [2m---[0;39m [2m[io-8081-exec-10][0;39m [36mc.s.controller.VideoStreamController    [0;39m [2m:[0;39m mediaType  is Optional[video/mp4]\r\n[2m2023-08-27 21:04:03.873[0;39m [32m INFO[0;39m [35m171969[0;39m [2m---[0;39m [2m[io-8081-exec-10][0;39m [36mc.s.controller.VideoStreamController    [0;39m [2m:[0;39m contentLength is 1878020797\r\n[2m2023-08-27 21:04:03.873[0;39m [32m INFO[0;39m [35m171969[0;39m [2m---[0;39m [2m[io-8081-exec-10][0;39m [36mc.s.controller.VideoStreamController    [0;39m [2m:[0;39m range is [0-1878020797]\r\n[2m2023-08-27 21:04:03.873[0;39m [32m INFO[0;39m [35m171969[0;39m [2m---[0;39m [2m[io-8081-exec-10][0;39m [36mc.s.controller.VideoStreamController    [0;39m [2m:[0;39m start is 0\r\n[2m2023-08-27 21:04:03.873[0;39m [32m INFO[0;39m [35m171969[0;39m [2m---[0;39m [2m[io-8081-exec-10][0;39m [36mc.s.controller.VideoStreamController    [0;39m [2m:[0;39m end is 1878020797\r\n[2m2023-08-27 21:04:03.873[0;39m [32m INFO[0;39m [35m171969[0;39m [2m---[0;39m [2m[io-8081-exec-10][0;39m [36mc.s.controller.VideoStreamController    [0;39m [2m:[0;39m rangeLength is 1878020797\r\n```\r\nAny assistance would be greatly appreciated.\r\n\r\nI would expect the video to play irrespective of where it is located. The same URL plays fine if I just paste the URL into a browser.","title":"Unable to stream a video from a remote server in Spring Boot","body":"<p>I am trying to play a video based on a remote server but it will not load. However, if the video is on the local filesytem it does work. Here is the code:</p>\n<pre><code>@GetMapping(&quot;/media&quot;)\n    public ResponseEntity&lt;ResourceRegion&gt; getMedia(@RequestHeader HttpHeaders headers) {\n        Resource media = null;\n        try {\n            media = new UrlResource(&quot;http://remoteserver.com:80/movie/377f87f5f5/234180c7a2/156022.mp4&quot;);\n            // media = new FileUrlResource(VideoUploadingDir + &quot;/video.mp4&quot;);\n        } catch (MalformedURLException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        \n        log.info(&quot;mediaType  is {}&quot;,MediaTypeFactory.getMediaType(media));\n        \n        ResourceRegion region = null;\n        region = resourceRegion(media, headers);\n        return ResponseEntity.status(HttpStatus.PARTIAL_CONTENT)\n                .contentType(MediaTypeFactory.getMediaType(media)\n                        .orElse(MediaType.APPLICATION_OCTET_STREAM))\n                .body(region);\n    }\n\n    private ResourceRegion resourceRegion(Resource media, HttpHeaders headers) {\n        long contentLength = 0;\n        contentLength = getContentSizeFromUrl(media);\n        log.info(&quot;contentLength is {}&quot;, contentLength);\n        \n        List&lt;HttpRange&gt; rangeList = new ArrayList&lt;HttpRange&gt;();\n                \n        rangeList.add(HttpRange.createByteRange(0, contentLength));\n        \n        \n        headers.setRange(rangeList);\n        List&lt;HttpRange&gt; range = headers.getRange();\n        log.info(&quot;range is {}&quot;, headers.getRange().toString());\n        \n        if (!range.isEmpty()) {\n            String[] ranges = range.get(0).toString().split(&quot;-&quot;);\n            long start = Long.parseLong(ranges[0]);\n            log.info(&quot;start is {}&quot;, start);\n            \n            long end = ranges.length &gt; 1 ? Long.parseLong(ranges[1]) : contentLength - 1;\n            log.info(&quot;end is {}&quot;, end);\n            \n            long rangeLength = Math.min(end - start + 1, contentLength);\n            log.info(&quot;rangeLength is {}&quot;, rangeLength);\n            \n            return new ResourceRegion(media, start, rangeLength);\n        } else {\n            long rangeLength = Math.min(1024 * 1024, contentLength);\n            log.info(&quot;rangeLength is {}&quot;, rangeLength);\n            \n            return new ResourceRegion(media, 0, rangeLength);\n        }\n</code></pre>\n<p>This is some output from logging:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[2m2023-08-27 21:04:03.035[0;39m [32m INFO[0;39m [35m171969[0;39m [2m---[0;39m [2m[nio-8081-exec-9][0;39m [36mc.s.controller.VideoStreamController    [0;39m [2m:[0;39m mediaType  is Optional[video/mp4]\n[2m2023-08-27 21:04:03.312[0;39m [32m INFO[0;39m [35m171969[0;39m [2m---[0;39m [2m[nio-8081-exec-9][0;39m [36mc.s.controller.VideoStreamController    [0;39m [2m:[0;39m contentLength is 1878020797\n[2m2023-08-27 21:04:03.313[0;39m [32m INFO[0;39m [35m171969[0;39m [2m---[0;39m [2m[nio-8081-exec-9][0;39m [36mc.s.controller.VideoStreamController    [0;39m [2m:[0;39m range is [0-1878020797]\n[2m2023-08-27 21:04:03.313[0;39m [32m INFO[0;39m [35m171969[0;39m [2m---[0;39m [2m[nio-8081-exec-9][0;39m [36mc.s.controller.VideoStreamController    [0;39m [2m:[0;39m start is 0\n[2m2023-08-27 21:04:03.313[0;39m [32m INFO[0;39m [35m171969[0;39m [2m---[0;39m [2m[nio-8081-exec-9][0;39m [36mc.s.controller.VideoStreamController    [0;39m [2m:[0;39m end is 1878020797\n[2m2023-08-27 21:04:03.313[0;39m [32m INFO[0;39m [35m171969[0;39m [2m---[0;39m [2m[nio-8081-exec-9][0;39m [36mc.s.controller.VideoStreamController    [0;39m [2m:[0;39m rangeLength is 1878020797\n[2m2023-08-27 21:04:03.617[0;39m [32m INFO[0;39m [35m171969[0;39m [2m---[0;39m [2m[io-8081-exec-10][0;39m [36mc.s.controller.VideoStreamController    [0;39m [2m:[0;39m mediaType  is Optional[video/mp4]\n[2m2023-08-27 21:04:03.873[0;39m [32m INFO[0;39m [35m171969[0;39m [2m---[0;39m [2m[io-8081-exec-10][0;39m [36mc.s.controller.VideoStreamController    [0;39m [2m:[0;39m contentLength is 1878020797\n[2m2023-08-27 21:04:03.873[0;39m [32m INFO[0;39m [35m171969[0;39m [2m---[0;39m [2m[io-8081-exec-10][0;39m [36mc.s.controller.VideoStreamController    [0;39m [2m:[0;39m range is [0-1878020797]\n[2m2023-08-27 21:04:03.873[0;39m [32m INFO[0;39m [35m171969[0;39m [2m---[0;39m [2m[io-8081-exec-10][0;39m [36mc.s.controller.VideoStreamController    [0;39m [2m:[0;39m start is 0\n[2m2023-08-27 21:04:03.873[0;39m [32m INFO[0;39m [35m171969[0;39m [2m---[0;39m [2m[io-8081-exec-10][0;39m [36mc.s.controller.VideoStreamController    [0;39m [2m:[0;39m end is 1878020797\n[2m2023-08-27 21:04:03.873[0;39m [32m INFO[0;39m [35m171969[0;39m [2m---[0;39m [2m[io-8081-exec-10][0;39m [36mc.s.controller.VideoStreamController    [0;39m [2m:[0;39m rangeLength is 1878020797\n</code></pre>\n<p>Any assistance would be greatly appreciated.</p>\n<p>I would expect the video to play irrespective of where it is located. The same URL plays fine if I just paste the URL into a browser.</p>\n"},{"tags":["java","time"],"comments":[{"owner":{"account_id":2774190,"reputation":13369,"user_id":3195526,"accept_rate":71,"display_name":"Paul Hicks"},"score":0,"creation_date":1520912815,"post_id":49247986,"comment_id":85499514,"body_markdown":"Would this be in Java8+?","body":"Would this be in Java8+?"},{"owner":{"account_id":2774190,"reputation":13369,"user_id":3195526,"accept_rate":71,"display_name":"Paul Hicks"},"score":1,"creation_date":1520913000,"post_id":49247986,"comment_id":85499550,"body_markdown":"A good place to start is the Java8 tutorial about the relevant classes: https://docs.oracle.com/javase/tutorial/datetime/TOC.html","body":"A good place to start is the Java8 tutorial about the relevant classes: <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/datetime/TOC.html</a>"},{"owner":{"account_id":1963969,"reputation":2728,"user_id":1764693,"accept_rate":100,"display_name":"slipperyseal"},"score":0,"creation_date":1520913139,"post_id":49247986,"comment_id":85499585,"body_markdown":"please post code which compiles :)","body":"please post code which compiles :)"},{"owner":{"account_id":4542619,"reputation":8565,"user_id":3690024,"display_name":"AJNeufeld"},"score":0,"creation_date":1520913173,"post_id":49247986,"comment_id":85499596,"body_markdown":"Your code doesn’t compile. `... 9.8 / * ...`","body":"Your code doesn’t compile. <code>... 9.8 &#47; * ...</code>"},{"owner":{"account_id":4542619,"reputation":8565,"user_id":3690024,"display_name":"AJNeufeld"},"score":0,"creation_date":1520913544,"post_id":49247986,"comment_id":85499696,"body_markdown":"You’ve also blown your physics.  You want (1/2)*a*t^2 ... unless you wanted your object to fall under two gravities.  I mean “rise” at 2 gravities ... your gravity should be negative, too.","body":"You’ve also blown your physics.  You want (1/2)*a*t^2 ... unless you wanted your object to fall under two gravities.  I mean “rise” at 2 gravities ... your gravity should be negative, too."},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1520913640,"post_id":49247986,"comment_id":85499710,"body_markdown":"This is probably a helpful resource for you: [How to calculate time and distance from acceleration and velocity](http://www.dummies.com/education/science/physics/how-to-calculate-time-and-distance-from-acceleration-and-velocity/) Your `height` should be (`.5*9.8*elapsedSeconds*elapsedSeconds`) (well, you should subtract that from your original height)","body":"This is probably a helpful resource for you: <a href=\"http://www.dummies.com/education/science/physics/how-to-calculate-time-and-distance-from-acceleration-and-velocity/\" rel=\"nofollow noreferrer\">How to calculate time and distance from acceleration and velocity</a> Your <code>height</code> should be (<code>.5*9.8*elapsedSeconds*elapsedSeconds</code>) (well, you should subtract that from your original height)"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1520924989,"post_id":49247986,"comment_id":85503715,"body_markdown":"`InterruptedExceptions` only occurs if some other thread interrupts the sleeping thread.","body":"<code>InterruptedExceptions</code> only occurs if some other thread interrupts the sleeping thread."}],"answers":[{"tags":[],"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1520913138,"creation_date":1520913138,"answer_id":49248065,"question_id":49247986,"body_markdown":"You might want to make use of timestamps, taking advantage of [`System.currentTimeMillis()`](https://docs.oracle.com/javase/8/docs/api/java/lang/System.html#currentTimeMillis--), which will give you elapsed milliseconds since 1 Jan 1970.\r\n\r\nTake a timestamp when your object starts to fall. Then, within your loop, you can take a timestamp representing the current time. Subtract `startTime` from `currentTime` and you get an accurate number of milliseconds. From this, for example you can calculate how far your object should have fallen over that period of time given a constant speed.\r\n\r\nThe nice thing about this approach is that it doesn&#39;t matter whether you&#39;re running on a fast or slow processor, since your timestamps reflect the actual passage of time vs. the number of iterations of your loop.","title":"Accurate timing in java","body":"<p>You might want to make use of timestamps, taking advantage of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/System.html#currentTimeMillis--\" rel=\"nofollow noreferrer\"><code>System.currentTimeMillis()</code></a>, which will give you elapsed milliseconds since 1 Jan 1970.</p>\n\n<p>Take a timestamp when your object starts to fall. Then, within your loop, you can take a timestamp representing the current time. Subtract <code>startTime</code> from <code>currentTime</code> and you get an accurate number of milliseconds. From this, for example you can calculate how far your object should have fallen over that period of time given a constant speed.</p>\n\n<p>The nice thing about this approach is that it doesn't matter whether you're running on a fast or slow processor, since your timestamps reflect the actual passage of time vs. the number of iterations of your loop.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1693270218,"creation_date":1520918735,"answer_id":49248855,"question_id":49247986,"body_markdown":"# tl;dr\r\n\r\nConventional implementations of Java are not [real-time systems][1]. So **you cannot count on deterministic performance**. \r\n\r\nIf you insist on deterministic timing, seek out an implementation of [real-time Java][2].\r\n\r\n\r\nSimilar Question: [*Java - alternative to thread.sleep*](https://stackoverflow.com/q/9143719/642706)\r\n\r\n# `Thread.sleep`\r\n\r\nYou can *ask* for sleeping with a resolution of nanoseconds, but you may not get it due to limitations of current computer hardware. See [the other `sleep` method][3] taking a second argument for nanoseconds.\r\n\r\n    Thread.sleep( 0L , 300L ) ;  // Ask to sleep 300 nanoseconds.\r\n\r\nThe behavior of `Thread.sleep` is never deterministically reliable, as discussed below. Many factors such as internal CPU scheduling (such as out-of-order execution and hyper-threading), OS scheduling of the JVM, the JVM’s scheduling of threads, and occasional garbage collection all impact the actual execution timing. So you can never count on predictable execution unless you move to a [real-time Java][2] implementation. \r\n\r\n\r\n# `System.nanoTime`\r\n\r\nTo track elapsed time, call [`System.nanoTime`][4]. This has a resolution of nanoseconds, but not likely precision. As of 2018, conventional computer hardware clocks are only accurate to a range of around microseconds, not nanoseconds. This is good for things such a micro-benchmarking (tip: [JMH][5]). The `System.nanoTime` has *nothing* to do with telling the current date-time. The number returned is a count from some undocumented origin moment (in my experience, since the JVM launched, but not guaranteed). The 64-bit number may overrun in a few decades of continual running.\r\n\r\n    long start = System.nanoTime() ; // Just some progressively incrementing number of nanoseconds. NOT the current date-time.\r\n    long stop = System.nanoTime() ;\r\n    long elapsed = ( stop - start ) ;  // Calculate elapsed time in a resolution as fine as nanoseconds (though not likely precise beyond microseconds).\r\n\r\n# `Instant`\r\n\r\nTo get the current moment in UTC with a resolution of [nanoseconds][6], use [`java.time.Instant`][7] class. In Java 8, the current moment could captured only to milliseconds, but in Java 9 and later a [fresh implementation][8] of [`Clock`][9] may deliver finer resolution. I am seeing [microseconds][10] captured in Oracle JDK 9.0.4 on macOS Sierra. \r\n\r\n    Instant instant = Instant.now() ;  // Capture the current moment in UTC with a resolution of nanoseconds though likely with precision not as fine.\r\n\r\n&gt;2018-03-16T01:18:54.898583Z\r\n\r\n# `Duration`\r\n\r\nI suggest generally using the [`Instant`][7] objects as-is. You can compare via [`isBefore`][11], `isAfter`, and `equals` methods. To calculate elapsed time, use [`Duration.between`][12]. \r\n\r\n    Duration d = Duration.between( instantThen , Instant.now() ) ;  // A span of time not attached to the timeline, with a resolution of nanoseconds.\r\n\r\n# Avoid `System.currentTimeMillis​()`\r\n\r\nAs for [`System.currentTimeMillis​()`](https://docs.oracle.com/javase/9/docs/api/java/lang/System.html#currentTimeMillis--), you can forget about this method. You are better off using `Instant` instead.\r\n\r\n# Executor\r\n\r\nAs for [`Timer`][13] and `TimerTask`, you should know that those classes are now legacy, supplanted by the more sophisticated *Executor* framework added to Java 5 and later. See [the Oracle Tutorial](https://docs.oracle.com/javase/tutorial/essential/concurrency/executors.html).\r\n\r\n# Real-time Java   \r\n\r\nEven with Executors, you cannot expect exact split-second accuracy in execution. The host OS controls scheduling the JVM, and its performance may vary. Within the JVM, threads are scheduled dynamically, and their performance may vary. In particular, garbage collection may impact performance at particular moments. \r\n\r\nIf you want deterministic timing of execution, you need to obtain an implementation of [real-time Java][2]. The conventional implementations of Java such as the Oracle JDK and OpenJDK are most certainly *not* [real-time systems][1].\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/9/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/9/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/9/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the java.time classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts *ThreeTen-Backport* (mentioned above). See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Real-time_computing\r\n  [2]: https://en.wikipedia.org/wiki/Real_time_Java\r\n  [3]: https://docs.oracle.com/javase/9/docs/api/java/lang/Thread.html#sleep-long-int-\r\n  [4]: https://docs.oracle.com/javase/9/docs/api/java/lang/System.html#nanoTime--\r\n  [5]: http://openjdk.java.net/projects/code-tools/jmh/\r\n  [6]: https://en.wikipedia.org/wiki/Nanosecond\r\n  [7]: https://docs.oracle.com/javase/9/docs/api/java/time/Instant.html\r\n  [8]: https://bugs.openjdk.java.net/browse/JDK-8068730\r\n  [9]: https://docs.oracle.com/javase/9/docs/api/java/time/Clock.html\r\n  [10]: https://en.wikipedia.org/wiki/Microsecond\r\n  [11]: https://docs.oracle.com/javase/9/docs/api/java/time/Instant.html#isBefore-java.time.Instant-\r\n  [12]: https://docs.oracle.com/javase/9/docs/api/java/time/Duration.html\r\n  [13]: https://docs.oracle.com/javase/9/docs/api/java/util/Timer.html","title":"Accurate timing in java","body":"<h1>tl;dr</h1>\n<p>Conventional implementations of Java are not <a href=\"https://en.wikipedia.org/wiki/Real-time_computing\" rel=\"nofollow noreferrer\">real-time systems</a>. So <strong>you cannot count on deterministic performance</strong>.</p>\n<p>If you insist on deterministic timing, seek out an implementation of <a href=\"https://en.wikipedia.org/wiki/Real_time_Java\" rel=\"nofollow noreferrer\">real-time Java</a>.</p>\n<p>Similar Question: <a href=\"https://stackoverflow.com/q/9143719/642706\"><em>Java - alternative to thread.sleep</em></a></p>\n<h1><code>Thread.sleep</code></h1>\n<p>You can <em>ask</em> for sleeping with a resolution of nanoseconds, but you may not get it due to limitations of current computer hardware. See <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/Thread.html#sleep-long-int-\" rel=\"nofollow noreferrer\">the other <code>sleep</code> method</a> taking a second argument for nanoseconds.</p>\n<pre><code>Thread.sleep( 0L , 300L ) ;  // Ask to sleep 300 nanoseconds.\n</code></pre>\n<p>The behavior of <code>Thread.sleep</code> is never deterministically reliable, as discussed below. Many factors such as internal CPU scheduling (such as out-of-order execution and hyper-threading), OS scheduling of the JVM, the JVM’s scheduling of threads, and occasional garbage collection all impact the actual execution timing. So you can never count on predictable execution unless you move to a <a href=\"https://en.wikipedia.org/wiki/Real_time_Java\" rel=\"nofollow noreferrer\">real-time Java</a> implementation.</p>\n<h1><code>System.nanoTime</code></h1>\n<p>To track elapsed time, call <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/System.html#nanoTime--\" rel=\"nofollow noreferrer\"><code>System.nanoTime</code></a>. This has a resolution of nanoseconds, but not likely precision. As of 2018, conventional computer hardware clocks are only accurate to a range of around microseconds, not nanoseconds. This is good for things such a micro-benchmarking (tip: <a href=\"http://openjdk.java.net/projects/code-tools/jmh/\" rel=\"nofollow noreferrer\">JMH</a>). The <code>System.nanoTime</code> has <em>nothing</em> to do with telling the current date-time. The number returned is a count from some undocumented origin moment (in my experience, since the JVM launched, but not guaranteed). The 64-bit number may overrun in a few decades of continual running.</p>\n<pre><code>long start = System.nanoTime() ; // Just some progressively incrementing number of nanoseconds. NOT the current date-time.\nlong stop = System.nanoTime() ;\nlong elapsed = ( stop - start ) ;  // Calculate elapsed time in a resolution as fine as nanoseconds (though not likely precise beyond microseconds).\n</code></pre>\n<h1><code>Instant</code></h1>\n<p>To get the current moment in UTC with a resolution of <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"nofollow noreferrer\">nanoseconds</a>, use <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>java.time.Instant</code></a> class. In Java 8, the current moment could captured only to milliseconds, but in Java 9 and later a <a href=\"https://bugs.openjdk.java.net/browse/JDK-8068730\" rel=\"nofollow noreferrer\">fresh implementation</a> of <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/Clock.html\" rel=\"nofollow noreferrer\"><code>Clock</code></a> may deliver finer resolution. I am seeing <a href=\"https://en.wikipedia.org/wiki/Microsecond\" rel=\"nofollow noreferrer\">microseconds</a> captured in Oracle JDK 9.0.4 on macOS Sierra.</p>\n<pre><code>Instant instant = Instant.now() ;  // Capture the current moment in UTC with a resolution of nanoseconds though likely with precision not as fine.\n</code></pre>\n<blockquote>\n<p>2018-03-16T01:18:54.898583Z</p>\n</blockquote>\n<h1><code>Duration</code></h1>\n<p>I suggest generally using the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a> objects as-is. You can compare via <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/Instant.html#isBefore-java.time.Instant-\" rel=\"nofollow noreferrer\"><code>isBefore</code></a>, <code>isAfter</code>, and <code>equals</code> methods. To calculate elapsed time, use <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/Duration.html\" rel=\"nofollow noreferrer\"><code>Duration.between</code></a>.</p>\n<pre><code>Duration d = Duration.between( instantThen , Instant.now() ) ;  // A span of time not attached to the timeline, with a resolution of nanoseconds.\n</code></pre>\n<h1>Avoid <code>System.currentTimeMillis​()</code></h1>\n<p>As for <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/System.html#currentTimeMillis--\" rel=\"nofollow noreferrer\"><code>System.currentTimeMillis​()</code></a>, you can forget about this method. You are better off using <code>Instant</code> instead.</p>\n<h1>Executor</h1>\n<p>As for <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Timer.html\" rel=\"nofollow noreferrer\"><code>Timer</code></a> and <code>TimerTask</code>, you should know that those classes are now legacy, supplanted by the more sophisticated <em>Executor</em> framework added to Java 5 and later. See <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/executors.html\" rel=\"nofollow noreferrer\">the Oracle Tutorial</a>.</p>\n<h1>Real-time Java</h1>\n<p>Even with Executors, you cannot expect exact split-second accuracy in execution. The host OS controls scheduling the JVM, and its performance may vary. Within the JVM, threads are scheduled dynamically, and their performance may vary. In particular, garbage collection may impact performance at particular moments.</p>\n<p>If you want deterministic timing of execution, you need to obtain an implementation of <a href=\"https://en.wikipedia.org/wiki/Real_time_Java\" rel=\"nofollow noreferrer\">real-time Java</a>. The conventional implementations of Java such as the Oracle JDK and OpenJDK are most certainly <em>not</em> <a href=\"https://en.wikipedia.org/wiki/Real-time_computing\" rel=\"nofollow noreferrer\">real-time systems</a>.</p>\n<hr />\n<h1>About <em>java.time</em></h1>\n<p>The <a href=\"http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/9/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"nofollow noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"nofollow noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n<p>Where to obtain the java.time classes?</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java SE 9</strong></a>, and later</li>\n<li>Built-in.</li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"nofollow noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"nofollow noreferrer\"><strong>Java SE 7</strong></a></li>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a>.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\"><strong>Android</strong></a></li>\n<li>Later versions of Android bundle implementations of the java.time classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><em><strong>ThreeTenABP</strong></em></a> project adapts <em>ThreeTen-Backport</em> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul>\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"nofollow noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"nofollow noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"nofollow noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"nofollow noreferrer\">more</a>.</p>\n"},{"tags":[],"owner":{"account_id":4911820,"reputation":107,"user_id":3956925,"display_name":"Jitindra Fartiyal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522005805,"creation_date":1522005805,"answer_id":49479989,"question_id":49247986,"body_markdown":"For Java 8 and above -\nYou can use  java.time library\nIt has date time classes\n\n**For Date -** \n \n\n      //To create a new date\n    LocalDate ld =  LocalDate.Of(2018,March,26);\n       //To print current date\n    LocalDate.now();\n\n\n**For Time -**\n  \n\n     //To create a new time\n    LocalTime lt = LocalTime.Of(11,22);\n       //To print current time\n    Local time.now();\n\n**For both Date and Time -**\n\n       //To create a new date time\n    LocalDateTime ldt = LocalDateTime.Of(2018,March,26,11,22);\n       //To print current date time\n    LocalDateTime.now();\n\n**Note : Please take care of these things -** \n-These classes are only available in Java 8 and above.\n-These classes has private constructor, so you can&#39;t instantiate them\n-Of is a static method and hence called using class name\n-These classes are immutable, and hence any update you need to create is to saved into a new object\n\n","title":"Accurate timing in java","body":"<p>For Java 8 and above -\nYou can use  java.time library\nIt has date time classes</p>\n\n<p><strong>For Date -</strong> </p>\n\n<pre><code>  //To create a new date\nLocalDate ld =  LocalDate.Of(2018,March,26);\n   //To print current date\nLocalDate.now();\n</code></pre>\n\n<p><strong>For Time -</strong></p>\n\n<pre><code> //To create a new time\nLocalTime lt = LocalTime.Of(11,22);\n   //To print current time\nLocal time.now();\n</code></pre>\n\n<p><strong>For both Date and Time -</strong></p>\n\n<pre><code>   //To create a new date time\nLocalDateTime ldt = LocalDateTime.Of(2018,March,26,11,22);\n   //To print current date time\nLocalDateTime.now();\n</code></pre>\n\n<p><strong>Note : Please take care of these things -</strong> \n-These classes are only available in Java 8 and above.\n-These classes has private constructor, so you can't instantiate them\n-Of is a static method and hence called using class name\n-These classes are immutable, and hence any update you need to create is to saved into a new object</p>\n"}],"owner":{"account_id":6972156,"reputation":92,"user_id":8947137,"display_name":"Jason Cheng"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3556,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":49248855,"answer_count":3,"score":2,"last_activity_date":1693270218,"creation_date":1520912567,"question_id":49247986,"body_markdown":"How can I achieve accurate timing in Java? I know Thread.sleep() is inaccurate and leads to InterruptedExceptions. I&#39;m trying to make a physics simulator and I want to have accurate code.\r\nHere is my code so far:\r\n\r\n    public class FreeFall() {\r\n        public static void main(String[] args) {\r\n            double height = Double.parseDouble(args[0]);\r\n            double xi = height;\r\n            int counter = 0;\r\n            while (true) {\r\n                height = xi + 9.8 / * counter * counter;\r\n                System.out.println(height);\r\n                counter++;\r\n                Thread.sleep(1000);\r\n            }\r\n        }\r\n    }","title":"Accurate timing in java","body":"<p>How can I achieve accurate timing in Java? I know Thread.sleep() is inaccurate and leads to InterruptedExceptions. I'm trying to make a physics simulator and I want to have accurate code.\nHere is my code so far:</p>\n\n<pre><code>public class FreeFall() {\n    public static void main(String[] args) {\n        double height = Double.parseDouble(args[0]);\n        double xi = height;\n        int counter = 0;\n        while (true) {\n            height = xi + 9.8 / * counter * counter;\n            System.out.println(height);\n            counter++;\n            Thread.sleep(1000);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","docx4j","html-to-docx","document-processing"],"answers":[{"tags":[],"owner":{"account_id":30580,"reputation":15467,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693267986,"creation_date":1693267986,"answer_id":76996648,"question_id":76896632,"body_markdown":"With docx4j-ImportXHTML, you can specify an implementation of the XHTMLImageHandler interface (using setXHTMLImageHandler).\r\n\r\nIf you don&#39;t do that, XHTMLImageHandlerDefault will be used.  That code uses createImageInline.  It does contain logic for scaling wide images, but not long ones.\r\n\r\nIf experimentally I paste your image into a paragraph in a Word docx, it does lay it out onto a new page.   \r\n\r\nI can&#39;t see right now any relevant difference in the XML. So its not clear what any altered XHTMLImageHandler would do differently. \r\n\r\nSo to pursue this further I&#39;d need to see your docx.  Feel free to open an issue and attach it at https://github.com/plutext/docx4j-ImportXHTML/issues\r\n\r\n\r\n\r\n","title":"Docx4j - Long image is missing content at page break and the missing content is not visible at next page in HTML to Docx4j migration","body":"<p>With docx4j-ImportXHTML, you can specify an implementation of the XHTMLImageHandler interface (using setXHTMLImageHandler).</p>\n<p>If you don't do that, XHTMLImageHandlerDefault will be used.  That code uses createImageInline.  It does contain logic for scaling wide images, but not long ones.</p>\n<p>If experimentally I paste your image into a paragraph in a Word docx, it does lay it out onto a new page.</p>\n<p>I can't see right now any relevant difference in the XML. So its not clear what any altered XHTMLImageHandler would do differently.</p>\n<p>So to pursue this further I'd need to see your docx.  Feel free to open an issue and attach it at <a href=\"https://github.com/plutext/docx4j-ImportXHTML/issues\" rel=\"nofollow noreferrer\">https://github.com/plutext/docx4j-ImportXHTML/issues</a></p>\n"}],"owner":{"account_id":18320732,"reputation":173,"user_id":13341552,"display_name":"Faizan Shaikh Sarkar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693267986,"creation_date":1691993425,"question_id":76896632,"body_markdown":"I migrate data from HTML document pages to docx via docx4j, basically everything else is working fine and normal images and contents are getting added in docx perfectly but in rare cases for long images the image isn&#39;t breaking at page break and the image is getting underlap hence the remaining image part is not visible.\r\n\r\nthis is the long image:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nand this is how it looks after HTML data and image is migrated to docx word via docx4j:\r\n[![enter image description here][2]][2]\r\n\r\nand this is how I add my HTML data to docx via docx4j:\r\n```\r\nXHTMLImporter = new XHTMLImporterImpl(template);\r\n                        xhtmlSubTitleData=htmlToXhtml(subTitleData)\r\n                        if(xhtmlSubTitleData.contains(&quot;&amp;nbsp;&quot;)){\r\n                            xhtmlSubTitleData=addNBSPDTDInSubTitleData(xhtmlSubTitleData)\r\n                        }\r\n\r\n                        template.getMainDocumentPart().getContent().addAll(pIndex+1,XHTMLImporter.convert( xhtmlSubTitleData, null))\r\n```\r\n\r\nBasically I am appending data in existing docx template but the long image isn&#39;t breaking at page break and because of that I am having data loss as missing part of image is not visible. I convert all the HTML in a HTML document page section into XHTML(xhtmlSubTitleData) and add it via addAll(), it works perfectly for everything else.\r\n\r\nWhat should I do that can break long images like this automatically at page breaks without any data loss in such a way that remaining part is visible in next page or maybe resize it automatically to fit in the page in case the image is too long to fit in one?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3rxM0.png\r\n  [2]: https://i.stack.imgur.com/rpi0h.png","title":"Docx4j - Long image is missing content at page break and the missing content is not visible at next page in HTML to Docx4j migration","body":"<p>I migrate data from HTML document pages to docx via docx4j, basically everything else is working fine and normal images and contents are getting added in docx perfectly but in rare cases for long images the image isn't breaking at page break and the image is getting underlap hence the remaining image part is not visible.</p>\n<p>this is the long image:\n<a href=\"https://i.stack.imgur.com/3rxM0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3rxM0.png\" alt=\"enter image description here\" /></a></p>\n<p>and this is how it looks after HTML data and image is migrated to docx word via docx4j:\n<a href=\"https://i.stack.imgur.com/rpi0h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rpi0h.png\" alt=\"enter image description here\" /></a></p>\n<p>and this is how I add my HTML data to docx via docx4j:</p>\n<pre><code>XHTMLImporter = new XHTMLImporterImpl(template);\n                        xhtmlSubTitleData=htmlToXhtml(subTitleData)\n                        if(xhtmlSubTitleData.contains(&quot;&amp;nbsp;&quot;)){\n                            xhtmlSubTitleData=addNBSPDTDInSubTitleData(xhtmlSubTitleData)\n                        }\n\n                        template.getMainDocumentPart().getContent().addAll(pIndex+1,XHTMLImporter.convert( xhtmlSubTitleData, null))\n</code></pre>\n<p>Basically I am appending data in existing docx template but the long image isn't breaking at page break and because of that I am having data loss as missing part of image is not visible. I convert all the HTML in a HTML document page section into XHTML(xhtmlSubTitleData) and add it via addAll(), it works perfectly for everything else.</p>\n<p>What should I do that can break long images like this automatically at page breaks without any data loss in such a way that remaining part is visible in next page or maybe resize it automatically to fit in the page in case the image is too long to fit in one?</p>\n"},{"tags":["java","awt","java-canvas"],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693267015,"creation_date":1693267015,"answer_id":76996604,"question_id":76995500,"body_markdown":"You change the Color of the Graphics object:\r\n\r\n    //setForeground(Color.BLACK);\r\n    g.setColor( Color.BLACK );\r\n    g.fillRect(20,20,10,30);\r\n    //setForeground(Color.BLUE);\r\n    g.setColor( Color.BLUE );\r\n    g.fillRect(40,40,20,30);\r\n\r\nAlso, you really should be using Swing (not AWT) which is more advanced than AWT. Read the Swing tutorial on [Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) for more information and examples.","title":"Java AWT Canvas - Multiple colors in one window","body":"<p>You change the Color of the Graphics object:</p>\n<pre><code>//setForeground(Color.BLACK);\ng.setColor( Color.BLACK );\ng.fillRect(20,20,10,30);\n//setForeground(Color.BLUE);\ng.setColor( Color.BLUE );\ng.fillRect(40,40,20,30);\n</code></pre>\n<p>Also, you really should be using Swing (not AWT) which is more advanced than AWT. Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Custom Painting</a> for more information and examples.</p>\n"}],"owner":{"account_id":28920182,"reputation":3,"user_id":22151326,"display_name":"new here"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76996604,"answer_count":1,"score":0,"last_activity_date":1693267015,"creation_date":1693250200,"question_id":76995500,"body_markdown":"I was trying to make rectangles that have multiple colors with Java AWT, but whenever I use the `setForeground(color)` method, it changes the color of all objects in the window. Is there a way to change the color without that happening?\r\n\r\nThe code that I wrote looked like this:\r\n\r\n\r\n```\r\nsetBackground(Color.WHITE);\r\nsetForeground(Color.BLACK);\r\ng.fillRect(20,20,10,30);\r\nsetForeground(Color.BLUE);\r\ng.fillRect(40,40,20,30);\r\n```\r\nThe variable g was the Graphics object and I was writing a method in a class that extended the Canvas class.\r\n\r\nI&#39;ve looked for the solution for a long time, but I didn&#39;t find it anywhere.","title":"Java AWT Canvas - Multiple colors in one window","body":"<p>I was trying to make rectangles that have multiple colors with Java AWT, but whenever I use the <code>setForeground(color)</code> method, it changes the color of all objects in the window. Is there a way to change the color without that happening?</p>\n<p>The code that I wrote looked like this:</p>\n<pre><code>setBackground(Color.WHITE);\nsetForeground(Color.BLACK);\ng.fillRect(20,20,10,30);\nsetForeground(Color.BLUE);\ng.fillRect(40,40,20,30);\n</code></pre>\n<p>The variable g was the Graphics object and I was writing a method in a class that extended the Canvas class.</p>\n<p>I've looked for the solution for a long time, but I didn't find it anywhere.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1688174719,"post_id":76592756,"comment_id":135043015,"body_markdown":"The return *types* are the same.","body":"The return <i>types</i> are the same."},{"owner":{"account_id":11502933,"reputation":5909,"user_id":8430155,"display_name":"Harshal Parekh"},"score":1,"creation_date":1688176832,"post_id":76592756,"comment_id":135043130,"body_markdown":"I don&#39;t understand the two votes to &quot;opinion-based&quot;. I don&#39;t think the question is _what should I do_? But rather what was the thought process between two facts.","body":"I don&#39;t understand the two votes to &quot;opinion-based&quot;. I don&#39;t think the question is <i>what should I do</i>? But rather what was the thought process between two facts."}],"answers":[{"tags":[],"owner":{"account_id":27635229,"reputation":41,"user_id":21093296,"display_name":"Poor Dumby"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688174390,"creation_date":1688174390,"answer_id":76592942,"question_id":76592756,"body_markdown":"Maybe something like this could be a potential use case scenario.\r\n\r\n```java\r\n// class has a cleanUp method used to clean \r\n// up some dangling references which you don&#39;t\r\n// want the gc to handle\r\n// (e.g. passwords, zeroing a char[] or something similar)\r\nmap.put(key, newVal).cleanUp();\r\n// after creating the class there&#39;s an initialize method and,\r\n// rather than writing a new line just use the return \r\n// value for convenience.\r\nmap.compute(key, newVal).initialize();  \r\n```","title":"Return type of HashMap put() vs compute()","body":"<p>Maybe something like this could be a potential use case scenario.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// class has a cleanUp method used to clean \n// up some dangling references which you don't\n// want the gc to handle\n// (e.g. passwords, zeroing a char[] or something similar)\nmap.put(key, newVal).cleanUp();\n// after creating the class there's an initialize method and,\n// rather than writing a new line just use the return \n// value for convenience.\nmap.compute(key, newVal).initialize();  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1688174632,"creation_date":1688174632,"answer_id":76592949,"question_id":76592756,"body_markdown":"Simply because when you call `put`, you know the new value -- you are passing it as a parameter, so returning it would be pointless.\r\n\r\nWhen you call `compute`, you *don&#39;t* know the new value, so returning it is useful.","title":"Return type of HashMap put() vs compute()","body":"<p>Simply because when you call <code>put</code>, you know the new value -- you are passing it as a parameter, so returning it would be pointless.</p>\n<p>When you call <code>compute</code>, you <em>don't</em> know the new value, so returning it is useful.</p>\n"}],"owner":{"account_id":1482742,"reputation":3434,"user_id":6680585,"accept_rate":84,"display_name":"Tom Taylor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76592949,"answer_count":2,"score":0,"last_activity_date":1693265022,"creation_date":1688168928,"question_id":76592756,"body_markdown":"HashMap put chooses to return the previous value that&#39;s associated with the key \r\n\r\n```\r\n    /**\r\n     * Associates the specified value with the specified key in this map.\r\n     * If the map previously contained a mapping for the key, the old\r\n     * value is replaced.\r\n     *\r\n     * @param key key with which the specified value is to be associated\r\n     * @param value value to be associated with the specified key\r\n     * @return the previous value associated with &lt;tt&gt;key&lt;/tt&gt;, or\r\n     *         &lt;tt&gt;null&lt;/tt&gt; if there was no mapping for &lt;tt&gt;key&lt;/tt&gt;.\r\n     *         (A &lt;tt&gt;null&lt;/tt&gt; return can also indicate that the map\r\n     *         previously associated &lt;tt&gt;null&lt;/tt&gt; with &lt;tt&gt;key&lt;/tt&gt;.)\r\n     */\r\n    public V put(K key, V value) {\r\n        return putVal(hash(key), key, value, false, true);\r\n    }\r\n```\r\n\r\nwhereas `compute` chooses to return the new value\r\n\r\n```\r\n    /**\r\n     * Attempts to compute a mapping for the specified key and its current\r\n     * mapped value (or {@code null} if there is no current mapping). For\r\n     * example, to either create or append a {@code String} msg to a value\r\n     * mapping:\r\n     *\r\n     * &lt;pre&gt; {@code\r\n     * map.compute(key, (k, v) -&gt; (v == null) ? msg : v.concat(msg))}&lt;/pre&gt;\r\n     * (Method {@link #merge merge()} is often simpler to use for such purposes.)\r\n     *\r\n     * &lt;p&gt;If the function returns {@code null}, the mapping is removed (or\r\n     * remains absent if initially absent).  If the function itself throws an\r\n     * (unchecked) exception, the exception is rethrown, and the current mapping\r\n     * is left unchanged.\r\n     *\r\n     * @implSpec\r\n     * The default implementation is equivalent to performing the following\r\n     * steps for this {@code map}, then returning the current value or\r\n     * {@code null} if absent:\r\n     *\r\n     * &lt;pre&gt; {@code\r\n     * V oldValue = map.get(key);\r\n     * V newValue = remappingFunction.apply(key, oldValue);\r\n     * if (oldValue != null ) {\r\n     *    if (newValue != null)\r\n     *       map.put(key, newValue);\r\n     *    else\r\n     *       map.remove(key);\r\n     * } else {\r\n     *    if (newValue != null)\r\n     *       map.put(key, newValue);\r\n     *    else\r\n     *       return null;\r\n     * }\r\n     * }&lt;/pre&gt;\r\n     *\r\n     * &lt;p&gt;The default implementation makes no guarantees about synchronization\r\n     * or atomicity properties of this method. Any implementation providing\r\n     * atomicity guarantees must override this method and document its\r\n     * concurrency properties. In particular, all implementations of\r\n     * subinterface {@link java.util.concurrent.ConcurrentMap} must document\r\n     * whether the function is applied once atomically only if the value is not\r\n     * present.\r\n     *\r\n     * @param key key with which the specified value is to be associated\r\n     * @param remappingFunction the function to compute a value\r\n     * @return the new value associated with the specified key, or null if none\r\n     * @throws NullPointerException if the specified key is null and\r\n     *         this map does not support null keys, or the\r\n     *         remappingFunction is null\r\n     * @throws UnsupportedOperationException if the {@code put} operation\r\n     *         is not supported by this map\r\n     *         (&lt;a href=&quot;{@docRoot}/java/util/Collection.html#optional-restrictions&quot;&gt;optional&lt;/a&gt;)\r\n     * @throws ClassCastException if the class of the specified key or value\r\n     *         prevents it from being stored in this map\r\n     *         (&lt;a href=&quot;{@docRoot}/java/util/Collection.html#optional-restrictions&quot;&gt;optional&lt;/a&gt;)\r\n     * @since 1.8\r\n     */\r\n    default V compute(K key,\r\n            BiFunction&lt;? super K, ? super V, ? extends V&gt; remappingFunction) {\r\n```\r\n\r\nI am curious to know what would be the reason for choosing different `return` type values for put vs compute. I know it&#39;s a subjective question but would like to hear different opinion - so that it could help make some logical sense out of it.\r\n","title":"Return type of HashMap put() vs compute()","body":"<p>HashMap put chooses to return the previous value that's associated with the key</p>\n<pre><code>    /**\n     * Associates the specified value with the specified key in this map.\n     * If the map previously contained a mapping for the key, the old\n     * value is replaced.\n     *\n     * @param key key with which the specified value is to be associated\n     * @param value value to be associated with the specified key\n     * @return the previous value associated with &lt;tt&gt;key&lt;/tt&gt;, or\n     *         &lt;tt&gt;null&lt;/tt&gt; if there was no mapping for &lt;tt&gt;key&lt;/tt&gt;.\n     *         (A &lt;tt&gt;null&lt;/tt&gt; return can also indicate that the map\n     *         previously associated &lt;tt&gt;null&lt;/tt&gt; with &lt;tt&gt;key&lt;/tt&gt;.)\n     */\n    public V put(K key, V value) {\n        return putVal(hash(key), key, value, false, true);\n    }\n</code></pre>\n<p>whereas <code>compute</code> chooses to return the new value</p>\n<pre><code>    /**\n     * Attempts to compute a mapping for the specified key and its current\n     * mapped value (or {@code null} if there is no current mapping). For\n     * example, to either create or append a {@code String} msg to a value\n     * mapping:\n     *\n     * &lt;pre&gt; {@code\n     * map.compute(key, (k, v) -&gt; (v == null) ? msg : v.concat(msg))}&lt;/pre&gt;\n     * (Method {@link #merge merge()} is often simpler to use for such purposes.)\n     *\n     * &lt;p&gt;If the function returns {@code null}, the mapping is removed (or\n     * remains absent if initially absent).  If the function itself throws an\n     * (unchecked) exception, the exception is rethrown, and the current mapping\n     * is left unchanged.\n     *\n     * @implSpec\n     * The default implementation is equivalent to performing the following\n     * steps for this {@code map}, then returning the current value or\n     * {@code null} if absent:\n     *\n     * &lt;pre&gt; {@code\n     * V oldValue = map.get(key);\n     * V newValue = remappingFunction.apply(key, oldValue);\n     * if (oldValue != null ) {\n     *    if (newValue != null)\n     *       map.put(key, newValue);\n     *    else\n     *       map.remove(key);\n     * } else {\n     *    if (newValue != null)\n     *       map.put(key, newValue);\n     *    else\n     *       return null;\n     * }\n     * }&lt;/pre&gt;\n     *\n     * &lt;p&gt;The default implementation makes no guarantees about synchronization\n     * or atomicity properties of this method. Any implementation providing\n     * atomicity guarantees must override this method and document its\n     * concurrency properties. In particular, all implementations of\n     * subinterface {@link java.util.concurrent.ConcurrentMap} must document\n     * whether the function is applied once atomically only if the value is not\n     * present.\n     *\n     * @param key key with which the specified value is to be associated\n     * @param remappingFunction the function to compute a value\n     * @return the new value associated with the specified key, or null if none\n     * @throws NullPointerException if the specified key is null and\n     *         this map does not support null keys, or the\n     *         remappingFunction is null\n     * @throws UnsupportedOperationException if the {@code put} operation\n     *         is not supported by this map\n     *         (&lt;a href=&quot;{@docRoot}/java/util/Collection.html#optional-restrictions&quot;&gt;optional&lt;/a&gt;)\n     * @throws ClassCastException if the class of the specified key or value\n     *         prevents it from being stored in this map\n     *         (&lt;a href=&quot;{@docRoot}/java/util/Collection.html#optional-restrictions&quot;&gt;optional&lt;/a&gt;)\n     * @since 1.8\n     */\n    default V compute(K key,\n            BiFunction&lt;? super K, ? super V, ? extends V&gt; remappingFunction) {\n</code></pre>\n<p>I am curious to know what would be the reason for choosing different <code>return</code> type values for put vs compute. I know it's a subjective question but would like to hear different opinion - so that it could help make some logical sense out of it.</p>\n"},{"tags":["java","iterator","hashset"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":3,"creation_date":1693257339,"post_id":76996022,"comment_id":135734210,"body_markdown":"Creating an iterator does a lot more things than removing an element. The two things are unrelated and therefore not meaningfully comparable.","body":"Creating an iterator does a lot more things than removing an element. The two things are unrelated and therefore not meaningfully comparable."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":3,"creation_date":1693257646,"post_id":76996022,"comment_id":135734247,"body_markdown":"Shudder. Use `it.remove();` **not** `set.remove(elem);`. The [`Iterator.remove()` Javadoc](https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html#remove--) says (in part) *The behavior of an iterator is unspecified if the underlying collection is modified while the iteration is in progress in any way other than by calling this method.* Also, you might want to try using a [`LinkedHashSet`](https://docs.oracle.com/javase/8/docs/api/java/util/LinkedHashSet.html) a plain `HashSet` doesn&#39;t guarantee iteration order. `Iterator&lt;Integer&gt; it = set.iterator();` should be outside the loop.","body":"Shudder. Use <code>it.remove();</code> <b>not</b> <code>set.remove(elem);</code>. The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html#remove--\" rel=\"nofollow noreferrer\"><code>Iterator.remove()</code> Javadoc</a> says (in part) <i>The behavior of an iterator is unspecified if the underlying collection is modified while the iteration is in progress in any way other than by calling this method.</i> Also, you might want to try using a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/LinkedHashSet.html\" rel=\"nofollow noreferrer\"><code>LinkedHashSet</code></a> a plain <code>HashSet</code> doesn&#39;t guarantee iteration order. <code>Iterator&lt;Integer&gt; it = set.iterator();</code> should be outside the loop."},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":1,"creation_date":1693258270,"post_id":76996022,"comment_id":135734319,"body_markdown":"@ElliottFrisch Doesn&#39;t matter in this case. OP doesn&#39;t do anything with the iterator afterwards.","body":"@ElliottFrisch Doesn&#39;t matter in this case. OP doesn&#39;t do anything with the iterator afterwards."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1693258601,"post_id":76996022,"comment_id":135734360,"body_markdown":"OP, how do you conclude from measuring a single collection that it is not constant time? If it takes constant 0.1 ms, you&#39;ll get 10000 ms when calling the method 100k times – which matches your numbers.","body":"OP, how do you conclude from measuring a single collection that it is not constant time? If it takes constant 0.1 ms, you&#39;ll get 10000 ms when calling the method 100k times – which matches your numbers."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1693262349,"post_id":76996022,"comment_id":135734825,"body_markdown":"I have to wonder what you read, and if you interpreted it correctly. Your code only proves creating an iterator takes some time. It doesn&#39;t attempt to demonstrate the time it takes correlates to the size of the problem. And, as others have pointed out, it is an &quot;apples to oranges&quot; comparison.","body":"I have to wonder what you read, and if you interpreted it correctly. Your code only proves creating an iterator takes some time. It doesn&#39;t attempt to demonstrate the time it takes correlates to the size of the problem. And, as others have pointed out, it is an &quot;apples to oranges&quot; comparison."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1693265794,"post_id":76996022,"comment_id":135735151,"body_markdown":"There&#39;s an interesting and significant reason why this is taking so long, discussed in my answer.","body":"There&#39;s an interesting and significant reason why this is taking so long, discussed in my answer."}],"answers":[{"tags":[],"owner":{"account_id":215690,"reputation":1398,"user_id":470477,"display_name":"Bill Horvath"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693258265,"creation_date":1693258265,"answer_id":76996115,"question_id":76996022,"body_markdown":"You&#39;re misreading the documentation, which [says (e.g., in version 8)][1]:\r\n\r\n&gt; This class offers constant time performance for the basic operations\r\n&gt; (add, remove, contains and size), assuming the hash function disperses\r\n&gt; the elements properly among the buckets.\r\n\r\nIn other words, the time it takes to add or remove an element in the set, or to evaluate whether an element is in the set, or to check the size of the set, is constant. Constructing an iterator as you&#39;ve done in the code using `set.iterator()`, which you&#39;d do if you wanted to go through each element one at a time, isn&#39;t the same thing; that&#39;s like comparing the time it takes to build a bicycle with the time it takes to ride it a mile.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/HashSet.html","title":"HashSet iterator() is linear not constant complexity?","body":"<p>You're misreading the documentation, which <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashSet.html\" rel=\"nofollow noreferrer\">says (e.g., in version 8)</a>:</p>\n<blockquote>\n<p>This class offers constant time performance for the basic operations\n(add, remove, contains and size), assuming the hash function disperses\nthe elements properly among the buckets.</p>\n</blockquote>\n<p>In other words, the time it takes to add or remove an element in the set, or to evaluate whether an element is in the set, or to check the size of the set, is constant. Constructing an iterator as you've done in the code using <code>set.iterator()</code>, which you'd do if you wanted to go through each element one at a time, isn't the same thing; that's like comparing the time it takes to build a bicycle with the time it takes to ride it a mile.</p>\n"},{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693263634,"creation_date":1693263634,"answer_id":76996455,"question_id":76996022,"body_markdown":"`iterator()` normally takes constant time -- but to be specific, it takes time linear in the position of the first element in the hash table to create the iterator.\r\n\r\nThis is O(1) on average, except that each time, you remove the first element in the hash table, meaning that `iterator()` actually ends up taking linear time in how many `remove`s you&#39;ve done.  Let me diagram this with a simple example.\r\n\r\nLet&#39;s imagine you have a hash table with four elements in four hash buckets, with elements assigned to buckets in some nonsensical order:\r\n\r\n```\r\nbucket 0: 4\r\nbucket 1: 2\r\nbucket 2: 1\r\nbucket 3: 3\r\n```\r\nNow you create `iterator()`, and its first element is 4.  You remove it.  Now it&#39;s\r\n```\r\nbucket 0: none\r\nbucket 1: 2\r\nbucket 2: 1\r\nbucket 3: 3\r\n```\r\nDo this two more times, and on the last run it&#39;s\r\n```\r\nbucket 0: none\r\nbucket 1: none\r\nbucket 2: none\r\nbucket 3: 3\r\n```\r\n...so it has to iterate through the whole thing to find that first eleement.\r\n\r\nIn general, it is the case that `iterator()` performs worse on basic `HashSet`s after removing.  From the Javadoc:\r\n\r\n&gt; Iterating over this set requires time proportional to the sum of the HashSet instance&#39;s size (the number of elements) plus the &quot;capacity&quot; of the backing HashMap instance (the number of buckets).\r\n\r\nSince you have created a `HashSet` with capacity for `LENGTH` elements, iterating the whole set in general takes O(LENGTH).  You have simply created an environment that&#39;s the worst possible case for `iterator()`.\r\n\r\nIf you had done, for example, `remove(i)`, it would certainly perform better, though it&#39;d still perform worse over time, and certainly take O(n) for the last remove.\r\n\r\nIf you find yourself saying, &quot;this is silly, why doesn&#39;t \r\nJava do something better&quot; -- well, 99.9% of code doesn&#39;t do this, and for the fraction that does, `LinkedHashSet` fixes the whole issue.","title":"HashSet iterator() is linear not constant complexity?","body":"<p><code>iterator()</code> normally takes constant time -- but to be specific, it takes time linear in the position of the first element in the hash table to create the iterator.</p>\n<p>This is O(1) on average, except that each time, you remove the first element in the hash table, meaning that <code>iterator()</code> actually ends up taking linear time in how many <code>remove</code>s you've done.  Let me diagram this with a simple example.</p>\n<p>Let's imagine you have a hash table with four elements in four hash buckets, with elements assigned to buckets in some nonsensical order:</p>\n<pre><code>bucket 0: 4\nbucket 1: 2\nbucket 2: 1\nbucket 3: 3\n</code></pre>\n<p>Now you create <code>iterator()</code>, and its first element is 4.  You remove it.  Now it's</p>\n<pre><code>bucket 0: none\nbucket 1: 2\nbucket 2: 1\nbucket 3: 3\n</code></pre>\n<p>Do this two more times, and on the last run it's</p>\n<pre><code>bucket 0: none\nbucket 1: none\nbucket 2: none\nbucket 3: 3\n</code></pre>\n<p>...so it has to iterate through the whole thing to find that first eleement.</p>\n<p>In general, it is the case that <code>iterator()</code> performs worse on basic <code>HashSet</code>s after removing.  From the Javadoc:</p>\n<blockquote>\n<p>Iterating over this set requires time proportional to the sum of the HashSet instance's size (the number of elements) plus the &quot;capacity&quot; of the backing HashMap instance (the number of buckets).</p>\n</blockquote>\n<p>Since you have created a <code>HashSet</code> with capacity for <code>LENGTH</code> elements, iterating the whole set in general takes O(LENGTH).  You have simply created an environment that's the worst possible case for <code>iterator()</code>.</p>\n<p>If you had done, for example, <code>remove(i)</code>, it would certainly perform better, though it'd still perform worse over time, and certainly take O(n) for the last remove.</p>\n<p>If you find yourself saying, &quot;this is silly, why doesn't\nJava do something better&quot; -- well, 99.9% of code doesn't do this, and for the fraction that does, <code>LinkedHashSet</code> fixes the whole issue.</p>\n"}],"owner":{"account_id":29317284,"reputation":3,"user_id":22461732,"display_name":"olzh13"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76996455,"answer_count":2,"score":0,"last_activity_date":1693263634,"creation_date":1693256984,"question_id":76996022,"body_markdown":"I came across that iterator() of HashSet takes too much time. Here is some code example which proves the observation:\r\n\r\n```\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.*;\r\nimport java.util.stream.IntStream;\r\n\r\npublic class Main {\r\n\r\n    public static final int LENGTH = 100000;\r\n\r\n    public static void calculate() {\r\n        Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\r\n        int part1 = 0;\r\n        int part2 = 0;\r\n\r\n        for (int i = 0; i &lt; LENGTH; i++) {\r\n            set.add(i);\r\n        }\r\n\r\n        for (int i = 0; i &lt; LENGTH; i++) {\r\n            long cur1 = System.currentTimeMillis();\r\n\r\n            Iterator&lt;Integer&gt; it = set.iterator();\r\n\r\n            long cur2 = System.currentTimeMillis();\r\n            part1 += cur2 - cur1;\r\n\r\n            int elem = it.next();\r\n            set.remove(elem);\r\n\r\n            long cur3 = System.currentTimeMillis();\r\n            part2 += cur3 - cur2;\r\n        }\r\n\r\n        System.out.println(&quot;Total milliseconds to execute iterator() code: &quot; + part1);\r\n        System.out.println(&quot;Total milliseconds to execute remove() code: &quot; + part2);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;).format(new Date()));\r\n        calculate();\r\n        System.out.println(new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;).format(new Date()));\r\n    }\r\n}\r\n```\r\n\r\nThe result of the run is:\r\n\r\n```\r\n2023-08-28 14:05:51.080\r\nTotal milliseconds to execute iterator() code: 9477\r\nTotal milliseconds to execute remove() code: 18\r\n2023-08-28 14:06:00.595\r\n\r\n```\r\n\r\nI checked the documentation and implementation of iterator() and only saw that it should be a constant time but it doesn&#39;t seem so. \r\n\r\nDoes anybody know why is it takes so much time? ","title":"HashSet iterator() is linear not constant complexity?","body":"<p>I came across that iterator() of HashSet takes too much time. Here is some code example which proves the observation:</p>\n<pre><code>import java.text.SimpleDateFormat;\nimport java.util.*;\nimport java.util.stream.IntStream;\n\npublic class Main {\n\n    public static final int LENGTH = 100000;\n\n    public static void calculate() {\n        Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\n        int part1 = 0;\n        int part2 = 0;\n\n        for (int i = 0; i &lt; LENGTH; i++) {\n            set.add(i);\n        }\n\n        for (int i = 0; i &lt; LENGTH; i++) {\n            long cur1 = System.currentTimeMillis();\n\n            Iterator&lt;Integer&gt; it = set.iterator();\n\n            long cur2 = System.currentTimeMillis();\n            part1 += cur2 - cur1;\n\n            int elem = it.next();\n            set.remove(elem);\n\n            long cur3 = System.currentTimeMillis();\n            part2 += cur3 - cur2;\n        }\n\n        System.out.println(&quot;Total milliseconds to execute iterator() code: &quot; + part1);\n        System.out.println(&quot;Total milliseconds to execute remove() code: &quot; + part2);\n    }\n\n    public static void main(String[] args) {\n        System.out.println(new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;).format(new Date()));\n        calculate();\n        System.out.println(new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;).format(new Date()));\n    }\n}\n</code></pre>\n<p>The result of the run is:</p>\n<pre><code>2023-08-28 14:05:51.080\nTotal milliseconds to execute iterator() code: 9477\nTotal milliseconds to execute remove() code: 18\n2023-08-28 14:06:00.595\n\n</code></pre>\n<p>I checked the documentation and implementation of iterator() and only saw that it should be a constant time but it doesn't seem so.</p>\n<p>Does anybody know why is it takes so much time?</p>\n"},{"tags":["java","spring-boot","spring-integration","sftp","jsch"],"comments":[{"owner":{"account_id":22249835,"reputation":1973,"user_id":16482938,"display_name":"j_b"},"score":1,"creation_date":1680820412,"post_id":75954125,"comment_id":133966489,"body_markdown":"Can you check the sftp server log to see if there is any more useful debugging information?","body":"Can you check the sftp server log to see if there is any more useful debugging information?"},{"owner":{"account_id":315536,"reputation":1786,"user_id":631272,"display_name":"Marquee"},"score":0,"creation_date":1680851184,"post_id":75954125,"comment_id":133969571,"body_markdown":"Thank you (@j_b). You comment led me to confirm the problem and then realize the answer. Thanks for pointing out my obvious blind spot - I should have requested the logs 10 seconds after seeing the issue. smh","body":"Thank you (@j_b). You comment led me to confirm the problem and then realize the answer. Thanks for pointing out my obvious blind spot - I should have requested the logs 10 seconds after seeing the issue. smh"}],"answers":[{"tags":[],"owner":{"account_id":315536,"reputation":1786,"user_id":631272,"display_name":"Marquee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693262383,"creation_date":1680850942,"answer_id":75956189,"question_id":75954125,"body_markdown":"Thanks to j_b and his comment for stating the obvious next step and putting me back on track: &quot;check the sftp server log to see if there is any more useful debugging information&quot;.\r\n\r\nI requested the sftp logs and found this:\r\n\r\n```\r\nCreateFile() failed!, Error=123, &quot;The filename, directory name, or volume label syntax is incorrect.&quot;\r\n```\r\n\r\nNot super helpful, but it did confirm it was indeed a path issue which my research suggested it might be. I took a harder look at the filename I was trying to write: \r\n\r\n`2023-04-05_04:00:00_TEST_FILE_FOR_UPLOAD_TO_SFTP_PRODLIKE.csv`\r\n\r\n... and I (finally) noticed the colons. Colon is not valid in filenames. Removing them resolved the issue.\r\n\r\n**So in short, &#39;Invalid handle&#39; seems to mean that Jsch failed to write to the file. Check your SFTP logs for more info. It is often a path or filename-related issue.**","title":"In JSch, what does &#39;invalid handle&#39; mean?","body":"<p>Thanks to j_b and his comment for stating the obvious next step and putting me back on track: &quot;check the sftp server log to see if there is any more useful debugging information&quot;.</p>\n<p>I requested the sftp logs and found this:</p>\n<pre><code>CreateFile() failed!, Error=123, &quot;The filename, directory name, or volume label syntax is incorrect.&quot;\n</code></pre>\n<p>Not super helpful, but it did confirm it was indeed a path issue which my research suggested it might be. I took a harder look at the filename I was trying to write:</p>\n<p><code>2023-04-05_04:00:00_TEST_FILE_FOR_UPLOAD_TO_SFTP_PRODLIKE.csv</code></p>\n<p>... and I (finally) noticed the colons. Colon is not valid in filenames. Removing them resolved the issue.</p>\n<p><strong>So in short, 'Invalid handle' seems to mean that Jsch failed to write to the file. Check your SFTP logs for more info. It is often a path or filename-related issue.</strong></p>\n"}],"owner":{"account_id":315536,"reputation":1786,"user_id":631272,"display_name":"Marquee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75956189,"answer_count":1,"score":0,"last_activity_date":1693262383,"creation_date":1680818883,"question_id":75954125,"body_markdown":"I am using JSch with Spring Integration to store files from our Spring Boot app to an SFTP server. Recently, the uploads started to fail with the following error:\r\n\r\n\r\n```\r\nCaused by: org.springframework.messaging.MessagingException: Failed to write to &#39;./user/2023-04-05_04:00:00_TEST_FILE_FOR_UPLOAD_TO_SFTP_PRODLIKE.csv&#39; while uploading the file; nested exception is org.springframework.core.NestedIOException: failed to write file; nested exception is 9: Invalid handle.\r\n \tat org.springframework.integration.file.remote.RemoteFileTemplate.sendFileToRemoteDirectory(RemoteFileTemplate.java:573) ~[spring-integration-file-5.5.12.jar!/:5.5.12]\r\n \tat org.springframework.integration.file.remote.RemoteFileTemplate.doSend(RemoteFileTemplate.java:353) ~[spring-integration-file-5.5.12.jar!/:5.5.12]\r\n \t... 166 common frames omitted\r\n Caused by: org.springframework.core.NestedIOException: failed to write file; nested exception is 9: Invalid handle.\r\n \tat org.springframework.integration.sftp.session.SftpSession.write(SftpSession.java:177) ~[spring-integration-sftp-5.5.8.jar!/:5.5.8]\r\n \tat org.springframework.integration.file.remote.RemoteFileTemplate.doSend(RemoteFileTemplate.java:582) ~[spring-integration-file-5.5.12.jar!/:5.5.12]\r\n \tat org.springframework.integration.file.remote.RemoteFileTemplate.sendFileToRemoteDirectory(RemoteFileTemplate.java:570) ~[spring-integration-file-5.5.12.jar!/:5.5.12]\r\n \t... 167 common frames omitted\r\n Caused by: com.jcraft.jsch.SftpException: Invalid handle.\r\n \tat com.jcraft.jsch.ChannelSftp.throwStatusError(ChannelSftp.java:2873) ~[jsch-0.1.55.jar!/:na]\r\n \tat com.jcraft.jsch.ChannelSftp._put(ChannelSftp.java:594) ~[jsch-0.1.55.jar!/:na]\r\n \tat com.jcraft.jsch.ChannelSftp.put(ChannelSftp.java:540) ~[jsch-0.1.55.jar!/:na]\r\n \tat com.jcraft.jsch.ChannelSftp.put(ChannelSftp.java:492) ~[jsch-0.1.55.jar!/:na]\r\n \tat org.springframework.integration.sftp.session.SftpSession.write(SftpSession.java:174) ~[spring-integration-sftp-5.5.8.jar!/:5.5.8]\r\n \t... 169 common frames omitted\r\n\r\n```\r\n\r\n\r\nShockingly, I can find nothing about this specific error when I am Googling. I see some somewhat similar results, but generally not about JSch or about a different JSch error.\r\n\r\nMost of the somewhat similar search results seem to hint at a problem with the path, but I cannot see anything different or strange with the path to which we are trying to write.\r\n\r\nI have turned on trace logging and it shows that we are connecting/authenticating successfully (it seems to be when it tries to write the file that it fails). I have checked for low disk space and I have tested witch changing the file name and the write directory.\r\n\r\n**What specifically does &#39;handle&#39; mean in this context and what are the rules for its validity?**\r\n\r\nOur SFTP Impl:\r\n\r\n```\r\npublic class SftpService {\r\n    \r\n    private SftpMessagingGateway gateway;\r\n\r\n    @Autowired\r\n    public SftpService(SftpMessagingGateway gateway) {\r\n        this.gateway = gateway;\r\n    }\r\n\r\n    public boolean writeStreamToFtp(InputStream data, String filename, String path) {\r\n        if (gateway == null) throw new IllegalStateException(&quot;SFTP Gateway is not initialized&quot;);\r\n\r\n        Message&lt;InputStream&gt; mess = MessageBuilder.withPayload(data)\r\n        .setHeader(FileHeaders.FILENAME, filename)\r\n        .setHeader(&quot;path&quot;, path)\r\n        .build();\r\n        \r\n        try {\r\n            gateway.send(mess);\r\n            log.info(&quot;successful persistence of report to sftp server&quot;);\r\n            return true;\r\n        } catch (Exception e) {\r\n            log.error(&quot;failed to persist report to sftp server&quot;, e);\r\n            return false;\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n","title":"In JSch, what does &#39;invalid handle&#39; mean?","body":"<p>I am using JSch with Spring Integration to store files from our Spring Boot app to an SFTP server. Recently, the uploads started to fail with the following error:</p>\n<pre><code>Caused by: org.springframework.messaging.MessagingException: Failed to write to './user/2023-04-05_04:00:00_TEST_FILE_FOR_UPLOAD_TO_SFTP_PRODLIKE.csv' while uploading the file; nested exception is org.springframework.core.NestedIOException: failed to write file; nested exception is 9: Invalid handle.\n    at org.springframework.integration.file.remote.RemoteFileTemplate.sendFileToRemoteDirectory(RemoteFileTemplate.java:573) ~[spring-integration-file-5.5.12.jar!/:5.5.12]\n    at org.springframework.integration.file.remote.RemoteFileTemplate.doSend(RemoteFileTemplate.java:353) ~[spring-integration-file-5.5.12.jar!/:5.5.12]\n    ... 166 common frames omitted\n Caused by: org.springframework.core.NestedIOException: failed to write file; nested exception is 9: Invalid handle.\n    at org.springframework.integration.sftp.session.SftpSession.write(SftpSession.java:177) ~[spring-integration-sftp-5.5.8.jar!/:5.5.8]\n    at org.springframework.integration.file.remote.RemoteFileTemplate.doSend(RemoteFileTemplate.java:582) ~[spring-integration-file-5.5.12.jar!/:5.5.12]\n    at org.springframework.integration.file.remote.RemoteFileTemplate.sendFileToRemoteDirectory(RemoteFileTemplate.java:570) ~[spring-integration-file-5.5.12.jar!/:5.5.12]\n    ... 167 common frames omitted\n Caused by: com.jcraft.jsch.SftpException: Invalid handle.\n    at com.jcraft.jsch.ChannelSftp.throwStatusError(ChannelSftp.java:2873) ~[jsch-0.1.55.jar!/:na]\n    at com.jcraft.jsch.ChannelSftp._put(ChannelSftp.java:594) ~[jsch-0.1.55.jar!/:na]\n    at com.jcraft.jsch.ChannelSftp.put(ChannelSftp.java:540) ~[jsch-0.1.55.jar!/:na]\n    at com.jcraft.jsch.ChannelSftp.put(ChannelSftp.java:492) ~[jsch-0.1.55.jar!/:na]\n    at org.springframework.integration.sftp.session.SftpSession.write(SftpSession.java:174) ~[spring-integration-sftp-5.5.8.jar!/:5.5.8]\n    ... 169 common frames omitted\n\n</code></pre>\n<p>Shockingly, I can find nothing about this specific error when I am Googling. I see some somewhat similar results, but generally not about JSch or about a different JSch error.</p>\n<p>Most of the somewhat similar search results seem to hint at a problem with the path, but I cannot see anything different or strange with the path to which we are trying to write.</p>\n<p>I have turned on trace logging and it shows that we are connecting/authenticating successfully (it seems to be when it tries to write the file that it fails). I have checked for low disk space and I have tested witch changing the file name and the write directory.</p>\n<p><strong>What specifically does 'handle' mean in this context and what are the rules for its validity?</strong></p>\n<p>Our SFTP Impl:</p>\n<pre><code>public class SftpService {\n    \n    private SftpMessagingGateway gateway;\n\n    @Autowired\n    public SftpService(SftpMessagingGateway gateway) {\n        this.gateway = gateway;\n    }\n\n    public boolean writeStreamToFtp(InputStream data, String filename, String path) {\n        if (gateway == null) throw new IllegalStateException(&quot;SFTP Gateway is not initialized&quot;);\n\n        Message&lt;InputStream&gt; mess = MessageBuilder.withPayload(data)\n        .setHeader(FileHeaders.FILENAME, filename)\n        .setHeader(&quot;path&quot;, path)\n        .build();\n        \n        try {\n            gateway.send(mess);\n            log.info(&quot;successful persistence of report to sftp server&quot;);\n            return true;\n        } catch (Exception e) {\n            log.error(&quot;failed to persist report to sftp server&quot;, e);\n            return false;\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1693261147,"post_id":76996310,"comment_id":135734681,"body_markdown":"Please take the [tour] to learn how Stack Overflow works and read [ask] on how to improve the quality of your question.\nPlease show your attempts you have tried and the problems/error messages you get from your attempts.\nIt is unclear what you are asking or what the problem is.","body":"Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. Please show your attempts you have tried and the problems/error messages you get from your attempts. It is unclear what you are asking or what the problem is."},{"owner":{"account_id":3205177,"reputation":4088,"user_id":2706344,"accept_rate":46,"display_name":"principal-ideal-domain"},"score":0,"creation_date":1693261248,"post_id":76996310,"comment_id":135734695,"body_markdown":"@Progman Of course I have used Google before asking here. The problem with that is that you get all the time false results. Everybody cares about how JUnit works in the results I get. I know that already, my JUnit test works fine.","body":"@Progman Of course I have used Google before asking here. The problem with that is that you get all the time false results. Everybody cares about how JUnit works in the results I get. I know that already, my JUnit test works fine."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":2,"creation_date":1693262755,"post_id":76996310,"comment_id":135734875,"body_markdown":"What are you trying to do? I&#39;d consider it a code smell if production code knows about tests, and for just running the tests there are test runners anyway.","body":"What are you trying to do? I&#39;d consider it a code smell if production code knows about tests, and for just running the tests there are test runners anyway."},{"owner":{"account_id":3205177,"reputation":4088,"user_id":2706344,"accept_rate":46,"display_name":"principal-ideal-domain"},"score":0,"creation_date":1693407386,"post_id":76996310,"comment_id":135757355,"body_markdown":"@Robert I&#39;m using JUnit not for testing my code (my code is fine) but I use it for testing the validity of external data. Now I have some procedure which works with the external data but shall only do so if the data is fine.","body":"@Robert I&#39;m using JUnit not for testing my code (my code is fine) but I use it for testing the validity of external data. Now I have some procedure which works with the external data but shall only do so if the data is fine."}],"answers":[{"tags":[],"owner":{"account_id":2141010,"reputation":118229,"user_id":1899640,"display_name":"that other guy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1693262309,"creation_date":1693261852,"answer_id":76996361,"question_id":76996310,"body_markdown":"You can programmatically run the tests in a JUnit4 test suite and inspect the result with [JUnitCore.runClasses](https://junit.org/junit4/javadoc/4.13/org/junit/runner/JUnitCore.html#runClasses(java.lang.Class...)):\r\n\r\n```java\r\nif (JUnitCore.runClasses(MyTests.class).wasSuccessful()) {\r\n  System.err.println(&quot;Tests ran successfully.&quot;);\r\n}\r\n```\r\n\r\nOr a single test with:\r\n\r\n```java\r\nif (new JUnitCore().run(Request.method(MyTests.class, &quot;myTest&quot;)).wasSuccessful()) {\r\n  System.err.println(&quot;Tests ran successfully.&quot;);\r\n}\r\n```\r\n\r\n\r\n    ","title":"How to check if JUnit test passed","body":"<p>You can programmatically run the tests in a JUnit4 test suite and inspect the result with <a href=\"https://junit.org/junit4/javadoc/4.13/org/junit/runner/JUnitCore.html#runClasses(java.lang.Class...)\" rel=\"nofollow noreferrer\">JUnitCore.runClasses</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (JUnitCore.runClasses(MyTests.class).wasSuccessful()) {\n  System.err.println(&quot;Tests ran successfully.&quot;);\n}\n</code></pre>\n<p>Or a single test with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (new JUnitCore().run(Request.method(MyTests.class, &quot;myTest&quot;)).wasSuccessful()) {\n  System.err.println(&quot;Tests ran successfully.&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":3205177,"reputation":4088,"user_id":2706344,"accept_rate":46,"display_name":"principal-ideal-domain"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1693320114,"accepted_answer_id":76996361,"answer_count":1,"score":0,"last_activity_date":1693262309,"creation_date":1693260888,"question_id":76996310,"body_markdown":"I have written a JUnit test `TestClass.test()` and in a certain other Java program which sees the test class I want to execute a certain part of the code only if the JUnit test passes. How can I do that? Something like\r\n\r\n    if(JUnit.passes(TestClass.test)){\r\n    \t....\r\n    }","title":"How to check if JUnit test passed","body":"<p>I have written a JUnit test <code>TestClass.test()</code> and in a certain other Java program which sees the test class I want to execute a certain part of the code only if the JUnit test passes. How can I do that? Something like</p>\n<pre><code>if(JUnit.passes(TestClass.test)){\n    ....\n}\n</code></pre>\n"},{"tags":["java","collections","hashmap"],"comments":[{"owner":{"account_id":12585,"reputation":303272,"user_id":24874,"accept_rate":78,"display_name":"Drew Noakes"},"score":2,"creation_date":1231755695,"post_id":434989,"comment_id":22073751,"body_markdown":"I asked a [similar question](http://stackoverflow.com/questions/414109/) relating to .NET generic Dictionary&lt;TKey,TValue&gt; recently. You might find the discussion interesting there too.","body":"I asked a <a href=\"http://stackoverflow.com/questions/414109/\">similar question</a> relating to .NET generic Dictionary&lt;TKey,TValue&gt; recently. You might find the discussion interesting there too."},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1410972776,"post_id":434989,"comment_id":40530426,"body_markdown":"See also http://stackoverflow.com/questions/7115445/what-is-the-optimal-capacity-and-load-factor-for-a-fixed-size-hashmap","body":"See also <a href=\"http://stackoverflow.com/questions/7115445/what-is-the-optimal-capacity-and-load-factor-for-a-fixed-size-hashmap\" title=\"what is the optimal capacity and load factor for a fixed size hashmap\">stackoverflow.com/questions/7115445/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":12462,"reputation":162436,"user_id":24545,"accept_rate":99,"display_name":"Yuval Adam"},"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1231755518,"creation_date":1231755157,"answer_id":435000,"question_id":434989,"body_markdown":"Regarding the load factor, I&#39;ll simply quote from the [HashMap javadoc][1]:\r\n\r\n&gt; As a general rule, the default load factor (.75) offers a good tradeoff between time and space costs. Higher values decrease the space overhead but increase the lookup cost (reflected in most of the operations of the HashMap class, including get and put). The expected number of entries in the map and its load factor should be taken into account when setting its initial capacity, so as to minimize the number of rehash operations. If the initial capacity is greater than the maximum number of entries divided by the load factor, no rehash operations will ever occur.\r\n\r\nMeaning, the load factor should not be changed from `.75` , unless you have some specific optimization you are going to do. Initial capacity is the only thing you want to change, and set it according to your `N` value - meaning `(N / 0.75) + 1`, or something in that area. This will ensure that the table will always be large enough and no rehashing will occur.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/HashMap.html","title":"HashMap initialization parameters (load / initialcapacity)","body":"<p>Regarding the load factor, I'll simply quote from the <a href=\"http://java.sun.com/javase/6/docs/api/java/util/HashMap.html\" rel=\"noreferrer\">HashMap javadoc</a>:</p>\n\n<blockquote>\n  <p>As a general rule, the default load factor (.75) offers a good tradeoff between time and space costs. Higher values decrease the space overhead but increase the lookup cost (reflected in most of the operations of the HashMap class, including get and put). The expected number of entries in the map and its load factor should be taken into account when setting its initial capacity, so as to minimize the number of rehash operations. If the initial capacity is greater than the maximum number of entries divided by the load factor, no rehash operations will ever occur.</p>\n</blockquote>\n\n<p>Meaning, the load factor should not be changed from <code>.75</code> , unless you have some specific optimization you are going to do. Initial capacity is the only thing you want to change, and set it according to your <code>N</code> value - meaning <code>(N / 0.75) + 1</code>, or something in that area. This will ensure that the table will always be large enough and no rehashing will occur.</p>\n"},{"tags":[],"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1231755897,"creation_date":1231755513,"answer_id":435009,"question_id":434989,"body_markdown":"&gt; In an ArrayList, the efficient number is N (N already assumes future grow).\r\n\r\nErm, no it doesn&#39;t, unless I misunderstand what you&#39;re saying here.  When you pass an integer into the Arraylist constructor, it will create an underlying array of exactly that size.  If it turns out you need even a single extra element, the ArrayList will need to resize the underlying array when you next call add(), causing this call to take a lot longer than it usually would.\r\n\r\nIf on the other hand you&#39;re talking about your value of N taking into account growth - then yes, if you can guarantee the value will never go above this then calling such an Arraylist constructor is appropriate.  And in this case, as pointed out by Hank, the analogous constructor for a map would be N and 1.0f.  This should perform reasonably even if you do happen to exceed N (though if you expect this to occur on a regular basis, you may wish to pass in a larger number for the initial size).\r\n\r\nThe load factor, in case you weren&#39;t aware, is the point at which the map will have its capacity increased, as a fraction of the total capacity.\r\n\r\n*Edit*: Yuval is probably right that it&#39;s a better idea to leave the load factor around 0.75 for a general purpose map.  A load factor of 1.0 would perform brilliantly if your keys had sequential hashcodes (such as sequential integer keys), but for anything else you  will likely run into collisions with the hash buckets, meaning that lookups take longer for some elements.  Creating more buckets than is strictly necessary will reduce this chance of collision, meaning there&#39;s more chance of elements being in their own buckets and thus being retrievable in the shortest amount of time.  As the docs say, this is a time vs space tradeoff.  If either is particularly important to you (as shown by a profiler rather than prematurely optimising!) you can emphasize that; otherwise, stick with the default.","title":"HashMap initialization parameters (load / initialcapacity)","body":"<blockquote>\n  <p>In an ArrayList, the efficient number is N (N already assumes future grow).</p>\n</blockquote>\n\n<p>Erm, no it doesn't, unless I misunderstand what you're saying here.  When you pass an integer into the Arraylist constructor, it will create an underlying array of exactly that size.  If it turns out you need even a single extra element, the ArrayList will need to resize the underlying array when you next call add(), causing this call to take a lot longer than it usually would.</p>\n\n<p>If on the other hand you're talking about your value of N taking into account growth - then yes, if you can guarantee the value will never go above this then calling such an Arraylist constructor is appropriate.  And in this case, as pointed out by Hank, the analogous constructor for a map would be N and 1.0f.  This should perform reasonably even if you do happen to exceed N (though if you expect this to occur on a regular basis, you may wish to pass in a larger number for the initial size).</p>\n\n<p>The load factor, in case you weren't aware, is the point at which the map will have its capacity increased, as a fraction of the total capacity.</p>\n\n<p><em>Edit</em>: Yuval is probably right that it's a better idea to leave the load factor around 0.75 for a general purpose map.  A load factor of 1.0 would perform brilliantly if your keys had sequential hashcodes (such as sequential integer keys), but for anything else you  will likely run into collisions with the hash buckets, meaning that lookups take longer for some elements.  Creating more buckets than is strictly necessary will reduce this chance of collision, meaning there's more chance of elements being in their own buckets and thus being retrievable in the shortest amount of time.  As the docs say, this is a time vs space tradeoff.  If either is particularly important to you (as shown by a profiler rather than prematurely optimising!) you can emphasize that; otherwise, stick with the default.</p>\n"},{"tags":[],"owner":{"account_id":8456,"reputation":22280,"user_id":15255,"accept_rate":89,"display_name":"Zarkonnen"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1231755575,"creation_date":1231755575,"answer_id":435013,"question_id":434989,"body_markdown":"It&#39;s also notable that having a HashMap on the small side makes hash collisions more likely, which can slow down lookup. Hence, if you really worry about the speed of the map, and less about its size, it might be worth making it a bit too large for the data it needs to hold. Since memory is cheap, I typically initialise HashMaps for a known number of items with\r\n\r\n    HashMap&lt;Foo&gt; myMap = new HashMap&lt;Foo&gt;(numberOfElements * 2);\r\n\r\nFeel free to disagree, in fact I&#39;d quite like to have this idea verified or thrown out.","title":"HashMap initialization parameters (load / initialcapacity)","body":"<p>It's also notable that having a HashMap on the small side makes hash collisions more likely, which can slow down lookup. Hence, if you really worry about the speed of the map, and less about its size, it might be worth making it a bit too large for the data it needs to hold. Since memory is cheap, I typically initialise HashMaps for a known number of items with</p>\n\n<pre><code>HashMap&lt;Foo&gt; myMap = new HashMap&lt;Foo&gt;(numberOfElements * 2);\n</code></pre>\n\n<p>Feel free to disagree, in fact I'd quite like to have this idea verified or thrown out.</p>\n"},{"tags":[],"owner":{"account_id":192113,"reputation":931,"user_id":433078,"accept_rate":75,"display_name":"grayger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1235527328,"creation_date":1235527328,"answer_id":584465,"question_id":434989,"body_markdown":"Referring to HashMap source code will help.\r\n\r\nIf the number of entries reaches threshold(capacity * load factor), rehashing is done automatically. That means too small load factor can incur frequent rehashing as entries grow.","title":"HashMap initialization parameters (load / initialcapacity)","body":"<p>Referring to HashMap source code will help.</p>\n\n<p>If the number of entries reaches threshold(capacity * load factor), rehashing is done automatically. That means too small load factor can incur frequent rehashing as entries grow.</p>\n"},{"tags":[],"owner":{"account_id":563756,"reputation":136,"user_id":132934,"display_name":"Laurence Vanhelsuwe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1246649095,"creation_date":1246649095,"answer_id":1080551,"question_id":434989,"body_markdown":"For very large HashMaps in critical systems, where getting the initial capacity wrong can be very problematic, you may need empirical information to determine how best to initialize your Map.\r\n\r\nCollectionSpy ([collectionspy.com][1]) is a new Java profiler which lets you see in the blink of an eye which HashMaps are close to needing rehashing, how many times they have been rehashed in the past, and more. An ideal tool to determine safe initial capacity arguments to capacity-based container constructors.\r\n\r\n\r\n  [1]: http://www.collectionspy.com","title":"HashMap initialization parameters (load / initialcapacity)","body":"<p>For very large HashMaps in critical systems, where getting the initial capacity wrong can be very problematic, you may need empirical information to determine how best to initialize your Map.</p>\n\n<p>CollectionSpy (<a href=\"http://www.collectionspy.com\" rel=\"nofollow noreferrer\">collectionspy.com</a>) is a new Java profiler which lets you see in the blink of an eye which HashMaps are close to needing rehashing, how many times they have been rehashed in the past, and more. An ideal tool to determine safe initial capacity arguments to capacity-based container constructors.</p>\n"},{"tags":[],"owner":{"account_id":76367,"reputation":51,"user_id":218662,"display_name":"NotEdible"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1259161359,"creation_date":1259161359,"answer_id":1797517,"question_id":434989,"body_markdown":"The answer Yuval gave is only correct for Hashtable. HashMap uses power-of-two buckets, so for HashMap, Zarkonnen is actually correct. You can verify this from the source code:\r\n\r\n      // Find a power of 2 &gt;= initialCapacity\r\n      int capacity = 1;\r\n      while (capacity &lt; initialCapacity)\r\n      capacity &lt;&lt;= 1;\r\n\r\nSo, although the load factor of 0.75f is still the same between Hashtable and HashMap, you should use an initial capacity n*2 where n is the number of elements you plan on storing in the HashMap. This will ensure the fastest get/put speeds.","title":"HashMap initialization parameters (load / initialcapacity)","body":"<p>The answer Yuval gave is only correct for Hashtable. HashMap uses power-of-two buckets, so for HashMap, Zarkonnen is actually correct. You can verify this from the source code:</p>\n\n<pre><code>  // Find a power of 2 &gt;= initialCapacity\n  int capacity = 1;\n  while (capacity &lt; initialCapacity)\n  capacity &lt;&lt;= 1;\n</code></pre>\n\n<p>So, although the load factor of 0.75f is still the same between Hashtable and HashMap, you should use an initial capacity n*2 where n is the number of elements you plan on storing in the HashMap. This will ensure the fastest get/put speeds.</p>\n"},{"tags":[],"owner":{"account_id":174321,"reputation":51,"user_id":403604,"display_name":"lv2program"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1322977817,"creation_date":1280246597,"answer_id":3345546,"question_id":434989,"body_markdown":"It&#39;s safe in most cases of `List` and `Map` initialization to make the `List` or `Map` with the following size params.\r\n\r\n    List&lt;T&gt;(numElements + (numElements / 2));\r\n    Map&lt;T,T&gt;(numElements + (numElements / 2));\r\n\r\nthis follows the &lt;b&gt;.75&lt;/b&gt; rule as well as saves a little overhead over the &lt;b&gt;`* 2`&lt;/b&gt; operation described above.\r\n","title":"HashMap initialization parameters (load / initialcapacity)","body":"<p>It's safe in most cases of <code>List</code> and <code>Map</code> initialization to make the <code>List</code> or <code>Map</code> with the following size params.</p>\n\n<pre><code>List&lt;T&gt;(numElements + (numElements / 2));\nMap&lt;T,T&gt;(numElements + (numElements / 2));\n</code></pre>\n\n<p>this follows the <b>.75</b> rule as well as saves a little overhead over the <b><code>* 2</code></b> operation described above.</p>\n"},{"tags":[],"owner":{"account_id":239783,"reputation":10069,"user_id":509619,"accept_rate":75,"display_name":"Mark Rhodes"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1476628051,"creation_date":1345039598,"answer_id":11970766,"question_id":434989,"body_markdown":"I ran some [unit tests](http://blog.scottlogic.com/2012/08/14/efficient-map-initialization-in-java.html) to see if these answers were correct and it turned out that using:\r\n\r\n    (int) Math.ceil(requiredCapacity / loadFactor);\r\n\r\nas the initial capacity gives what you want for either a `HashMap` or a `Hashtable`.  By &quot;what you want&quot; I mean that adding `requiredCapacity ` elements to the map won&#39;t cause the array which it&#39;s wrapping to resize and the array won&#39;t be larger than required.  Since the default load capacity is 0.75, initializing a HashMap like so works:\r\n\r\n    ... = new HashMap&lt;KeyType, ValueType&gt;((int) Math.ceil(requiredCapacity / 0.75));\r\n\r\nSince a HashSet is effectively just a wrapper for a HashMap, the same logic also applies there, i.e. you can construct a HashSet efficiently like this:\r\n\r\n    .... = new HashSet&lt;TypeToStore&gt;((int) Math.ceil(requiredCapacity / 0.75));\r\n\r\n@Yuval Adam&#39;s answer is correct for all cases except where `(requiredCapacity / 0.75)` is a power of 2, in which case it allocates too much memory.  \r\n@NotEdible&#39;s answer uses too much memory in many cases, as the HashMap&#39;s constructor itself deals with the issues that it want the maps array to have a size which is a power of 2.","title":"HashMap initialization parameters (load / initialcapacity)","body":"<p>I ran some <a href=\"http://blog.scottlogic.com/2012/08/14/efficient-map-initialization-in-java.html\" rel=\"noreferrer\">unit tests</a> to see if these answers were correct and it turned out that using:</p>\n\n<pre><code>(int) Math.ceil(requiredCapacity / loadFactor);\n</code></pre>\n\n<p>as the initial capacity gives what you want for either a <code>HashMap</code> or a <code>Hashtable</code>.  By \"what you want\" I mean that adding <code>requiredCapacity</code> elements to the map won't cause the array which it's wrapping to resize and the array won't be larger than required.  Since the default load capacity is 0.75, initializing a HashMap like so works:</p>\n\n<pre><code>... = new HashMap&lt;KeyType, ValueType&gt;((int) Math.ceil(requiredCapacity / 0.75));\n</code></pre>\n\n<p>Since a HashSet is effectively just a wrapper for a HashMap, the same logic also applies there, i.e. you can construct a HashSet efficiently like this:</p>\n\n<pre><code>.... = new HashSet&lt;TypeToStore&gt;((int) Math.ceil(requiredCapacity / 0.75));\n</code></pre>\n\n<p>@Yuval Adam's answer is correct for all cases except where <code>(requiredCapacity / 0.75)</code> is a power of 2, in which case it allocates too much memory.<br>\n@NotEdible's answer uses too much memory in many cases, as the HashMap's constructor itself deals with the issues that it want the maps array to have a size which is a power of 2.</p>\n"},{"tags":[],"owner":{"account_id":559587,"reputation":11480,"user_id":1245622,"accept_rate":76,"display_name":"linqu"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1506963383,"creation_date":1366283980,"answer_id":16081519,"question_id":434989,"body_markdown":"In the [guava libraries][1] from Google there is a function that creates a HashMap optimized for a expected number of items: [newHashMapWithExpectedSize][2]\r\n\r\nfrom the docs:\r\n&gt; Creates a HashMap instance, with a high enough &quot;initial capacity&quot; that it should hold expectedSize elements without growth ...\r\n\r\n\r\n  [1]: https://code.google.com/p/guava-libraries/%20guava%20libraries\r\n  [2]: http://google.github.io/guava/releases/21.0/api/docs/com/google/common/collect/Maps.html#newHashMapWithExpectedSize-int-","title":"HashMap initialization parameters (load / initialcapacity)","body":"<p>In the <a href=\"https://code.google.com/p/guava-libraries/%20guava%20libraries\" rel=\"noreferrer\">guava libraries</a> from Google there is a function that creates a HashMap optimized for a expected number of items: <a href=\"http://google.github.io/guava/releases/21.0/api/docs/com/google/common/collect/Maps.html#newHashMapWithExpectedSize-int-\" rel=\"noreferrer\">newHashMapWithExpectedSize</a></p>\n\n<p>from the docs:</p>\n\n<blockquote>\n  <p>Creates a HashMap instance, with a high enough \"initial capacity\" that it should hold expectedSize elements without growth ...</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693261830,"creation_date":1693260861,"answer_id":76996308,"question_id":434989,"body_markdown":"&gt; What values should I pass to create an efficient `HashMap` / `HashMap`\r\n&gt; based structures for N items?\r\n\r\nFrom the Java (openjdk) source code itself ([link][1]):\r\n```\r\n  /**\r\n   * Calculate initial capacity for HashMap based classes, from expected size and\r\n   * default load factor (0.75).\r\n   *\r\n   * @param numMappings the expected number of mappings\r\n   * @return initial capacity for HashMap based classes.\r\n   * @since 19\r\n   */\r\n  static int calculateHashMapCapacity(int numMappings) {\r\n    return (int) Math.ceil(numMappings / (double) DEFAULT_LOAD_FACTOR);\r\n  }\r\n```\r\nWhere the `numMappings` is your `N`. And the default load factor of a `HashMap` is `0.75f`.\r\n\r\n&gt; What is the effect of changing the load factor?\r\n\r\nShort answer: a higher load factor - more elements and fewer buckets; a lower load factor - more buckets to store elements, which increases memory overhead but reduces collisions.\r\n\r\nLast but not least, there is a static helper method [`HashMap.newHashMap`][2] available since Java 19, consider using it instead of calculating the initial capacity manually:\r\n```\r\nMap&lt;K, V&gt; map = HashMap.newHashMap(N);\r\n```\r\nIt creates a new, empty `HashMap` suitable for the expected number of mappings.\r\n\r\n  [1]: https://github.com/openjdk/jdk/blob/69d1feb83f0e1f411f3b62f74e1a488f0dd29b15/src/java.base/share/classes/java/util/HashMap.java#L2563\r\n  [2]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/HashMap.html#newHashMap(int)","title":"HashMap initialization parameters (load / initialcapacity)","body":"<blockquote>\n<p>What values should I pass to create an efficient <code>HashMap</code> / <code>HashMap</code>\nbased structures for N items?</p>\n</blockquote>\n<p>From the Java (openjdk) source code itself (<a href=\"https://github.com/openjdk/jdk/blob/69d1feb83f0e1f411f3b62f74e1a488f0dd29b15/src/java.base/share/classes/java/util/HashMap.java#L2563\" rel=\"nofollow noreferrer\">link</a>):</p>\n<pre><code>  /**\n   * Calculate initial capacity for HashMap based classes, from expected size and\n   * default load factor (0.75).\n   *\n   * @param numMappings the expected number of mappings\n   * @return initial capacity for HashMap based classes.\n   * @since 19\n   */\n  static int calculateHashMapCapacity(int numMappings) {\n    return (int) Math.ceil(numMappings / (double) DEFAULT_LOAD_FACTOR);\n  }\n</code></pre>\n<p>Where the <code>numMappings</code> is your <code>N</code>. And the default load factor of a <code>HashMap</code> is <code>0.75f</code>.</p>\n<blockquote>\n<p>What is the effect of changing the load factor?</p>\n</blockquote>\n<p>Short answer: a higher load factor - more elements and fewer buckets; a lower load factor - more buckets to store elements, which increases memory overhead but reduces collisions.</p>\n<p>Last but not least, there is a static helper method <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/HashMap.html#newHashMap(int)\" rel=\"nofollow noreferrer\"><code>HashMap.newHashMap</code></a> available since Java 19, consider using it instead of calculating the initial capacity manually:</p>\n<pre><code>Map&lt;K, V&gt; map = HashMap.newHashMap(N);\n</code></pre>\n<p>It creates a new, empty <code>HashMap</code> suitable for the expected number of mappings.</p>\n"}],"owner":{"account_id":712,"reputation":6325,"user_id":931,"accept_rate":59,"display_name":"Ran Biron"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56437,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":435000,"answer_count":10,"score":39,"last_activity_date":1693261830,"creation_date":1231754717,"question_id":434989,"body_markdown":"What values should I pass to create an efficient `HashMap` / `HashMap` based structures for N items?\r\n\r\nIn an `ArrayList`, the efficient number is N (N already assumes future grow). What should be the parameters for a `HashMap`? ((int)(N * 0.75d), 0.75d)? More? Less? What is the effect of changing the load factor?","title":"HashMap initialization parameters (load / initialcapacity)","body":"<p>What values should I pass to create an efficient <code>HashMap</code> / <code>HashMap</code> based structures for N items?</p>\n\n<p>In an <code>ArrayList</code>, the efficient number is N (N already assumes future grow). What should be the parameters for a <code>HashMap</code>? ((int)(N * 0.75d), 0.75d)? More? Less? What is the effect of changing the load factor?</p>\n"},{"tags":["java","mongodb","spring-boot","spring-data-mongodb"],"comments":[{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1693227469,"post_id":76992931,"comment_id":135728350,"body_markdown":"`spring-boot-starter-parent` should be used as parent of your POM, if you want to import a BOM you should use `spring-boot-dependencies`, see https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#using.parent-pom","body":"<code>spring-boot-starter-parent</code> should be used as parent of your POM, if you want to import a BOM you should use <code>spring-boot-dependencies</code>, see <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#using.parent-pom\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/maven-plugin/referen&zwnj;&#8203;ce/&hellip;</a>"},{"owner":{"account_id":13859774,"reputation":111,"user_id":10005690,"display_name":"Rose"},"score":0,"creation_date":1693229985,"post_id":76992931,"comment_id":135728942,"body_markdown":"@Pino , Thank you for the immediate response .I am using as like below dependency and mentioned in properties as like . And below configuration worked while upgrading the mongoDB driver to 4.6.1    version &lt;springboot.version&gt;2.7.15&lt;/springboot.version&gt;\n        &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n                &lt;version&gt;${springboot.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;","body":"@Pino , Thank you for the immediate response .I am using as like below dependency and mentioned in properties as like . And below configuration worked while upgrading the mongoDB driver to 4.6.1    version &lt;springboot.version&gt;2.7.15&lt;/springboot.version&gt;         &lt;dependency&gt;                 &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;                 &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;                 &lt;version&gt;${springboot.version}&lt;/version&gt;                 &lt;type&gt;pom&lt;/type&gt;                 &lt;scope&gt;import&lt;/scope&gt;             &lt;/dependency&gt;"}],"answers":[{"tags":[],"owner":{"account_id":181514,"reputation":9905,"user_id":415559,"accept_rate":73,"display_name":"barrypicker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693260882,"creation_date":1693258688,"answer_id":76996155,"question_id":76992931,"body_markdown":"Add the dependency for the specific version of the driver you wish to use.  \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\r\n        &lt;version&gt;4.7.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nMaven will honor this version instead of the transient version supplied with Spring.\r\n\r\n\r\nBy the way, it appears SpringData MongoDB version 2.7.15 has mongodb driver sync 4.6.1 as it&#39;s transient dependency, not 4.7.0\r\n\r\n\r\nIt looks like SpringData MongoDB 3.0.10 has a transient dependency on mongodb driver sync version 4.8.2","title":"Upgrade of Mongodb Driver to 4.7.0 is not working in spring boot 2.7.15","body":"<p>Add the dependency for the specific version of the driver you wish to use.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n    &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\n    &lt;version&gt;4.7.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Maven will honor this version instead of the transient version supplied with Spring.</p>\n<p>By the way, it appears SpringData MongoDB version 2.7.15 has mongodb driver sync 4.6.1 as it's transient dependency, not 4.7.0</p>\n<p>It looks like SpringData MongoDB 3.0.10 has a transient dependency on mongodb driver sync version 4.8.2</p>\n"}],"owner":{"account_id":13859774,"reputation":111,"user_id":10005690,"display_name":"Rose"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76996155,"answer_count":1,"score":0,"last_activity_date":1693260882,"creation_date":1693226816,"question_id":76992931,"body_markdown":"I am trying to upgrade the MongoDB driver to 4.7.0 from 4.6.1 but the driver is not getting upgrade to MongoDb driver 4.7.0. Have tried with springboot 2.7.15 version but the driver is not getting upgrade to MongoDB driver 4.7.0. Maven pom.xml looks like below. I want to use inbuilt version of mongodb driver 4.7.0 but the version upgrade is not happening. Can anyone help me how to upgrade the mongoDB driver 4.7.0. Appreciate any help. \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.agcs.cids&lt;/groupId&gt;\r\n        &lt;artifactId&gt;SampleService&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n        &lt;name&gt;SampleService&lt;/name&gt;\r\n        &lt;description&gt;Project for SampleService Service&lt;/description&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n            &lt;springboot.version&gt;2.7.15&lt;/springboot.version&gt;\r\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n            &lt;surefire-plugin.version&gt;2.22.0&lt;/surefire-plugin.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n                    &lt;version&gt;${springboot.version}&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n                &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n                &lt;version&gt;2.8.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;spring-milestone&lt;/id&gt;\r\n                &lt;name&gt;Spring Maven MILESTONE Repository&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/libs-milestone&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.22.2&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;systemProperties&gt;\r\n                            &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\r\n                        &lt;/systemProperties&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${springboot.version}&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;arguments&gt;\r\n                            &lt;source&gt;1.8&lt;/source&gt;\r\n                            &lt;target&gt;1.8&lt;/target&gt;\r\n                            &lt;uberJar&gt;true&lt;/uberJar&gt;\r\n                        &lt;/arguments&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;repackage&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n        &lt;distributionManagement&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;toolchain-nexus&lt;/id&gt;\r\n                &lt;url&gt;${nexus.release.url}&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n    \r\n            &lt;snapshotRepository&gt;\r\n                &lt;id&gt;toolchain-nexus&lt;/id&gt;\r\n                &lt;url&gt;${nexus.snapshot.url}&lt;/url&gt;\r\n            &lt;/snapshotRepository&gt;\r\n        &lt;/distributionManagement&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\n","title":"Upgrade of Mongodb Driver to 4.7.0 is not working in spring boot 2.7.15","body":"<p>I am trying to upgrade the MongoDB driver to 4.7.0 from 4.6.1 but the driver is not getting upgrade to MongoDb driver 4.7.0. Have tried with springboot 2.7.15 version but the driver is not getting upgrade to MongoDB driver 4.7.0. Maven pom.xml looks like below. I want to use inbuilt version of mongodb driver 4.7.0 but the version upgrade is not happening. Can anyone help me how to upgrade the mongoDB driver 4.7.0. Appreciate any help.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.agcs.cids&lt;/groupId&gt;\n    &lt;artifactId&gt;SampleService&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;SampleService&lt;/name&gt;\n    &lt;description&gt;Project for SampleService Service&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;springboot.version&gt;2.7.15&lt;/springboot.version&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;surefire-plugin.version&gt;2.22.0&lt;/surefire-plugin.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n                &lt;version&gt;${springboot.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n\n    &lt;/dependencies&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestone&lt;/id&gt;\n            &lt;name&gt;Spring Maven MILESTONE Repository&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/libs-milestone&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;systemProperties&gt;\n                        &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\n                    &lt;/systemProperties&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${springboot.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;arguments&gt;\n                        &lt;source&gt;1.8&lt;/source&gt;\n                        &lt;target&gt;1.8&lt;/target&gt;\n                        &lt;uberJar&gt;true&lt;/uberJar&gt;\n                    &lt;/arguments&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;distributionManagement&gt;\n        &lt;repository&gt;\n            &lt;id&gt;toolchain-nexus&lt;/id&gt;\n            &lt;url&gt;${nexus.release.url}&lt;/url&gt;\n        &lt;/repository&gt;\n\n        &lt;snapshotRepository&gt;\n            &lt;id&gt;toolchain-nexus&lt;/id&gt;\n            &lt;url&gt;${nexus.snapshot.url}&lt;/url&gt;\n        &lt;/snapshotRepository&gt;\n    &lt;/distributionManagement&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","aws-lambda","event-handling","amazon-connect"],"answers":[{"tags":[],"owner":{"account_id":20923043,"reputation":379,"user_id":15371153,"display_name":"ledge"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693260456,"creation_date":1693260456,"answer_id":76996269,"question_id":76972758,"body_markdown":"To capture disconnection events for all calls you will need to subscribe to Amazon Connect events via EventBridge. There is documentation around this [here][1]. That documentation has step by step instructions for setting up the event bridge. Note that this will capture all events. you could change the event pattern to...\r\n\r\n    {\r\n      &quot;source&quot;: [&quot;aws.connect&quot;],\r\n      &quot;detail-type&quot;: [&quot;Amazon Connect Contact Event&quot;],\r\n      &quot;detail&quot;: {\r\n        &quot;eventType&quot;: [&quot;DISCONNECTED&quot;]\r\n      }\r\n    }\r\n\r\n...so you only capture the disconnect events.\r\n\r\nYou can then set the target of this EventBridge rule to your lambda.\r\n\r\nThe event includes useful information, like `connectedToSystemTimestamp`, `connectedToAgentTimestamp` and `disconnectTimestamp` which you can use to calculate call duration.\r\n\r\nYou can also use the included `details.contactId` from the event in your lambda to get additional information from Connect. Use the Connect API [GetContactAttributes][2] action to rertrieve these. Note that there is no way to get the CallerID directly via the Connect API, so if you want that you&#39;ll need to attached the callers phone number as an attribute in your Connect contact flows, you can then get that information from the data returned by GetContactAttributes.\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/connect/latest/adminguide/contact-events.html#subscribe-contact-events\r\n  [2]: https://docs.aws.amazon.com/connect/latest/APIReference/API_GetContactAttributes.html","title":"Invoking Lambda After Call Ends in Amazon Connect for Data Collection (Java)","body":"<p>To capture disconnection events for all calls you will need to subscribe to Amazon Connect events via EventBridge. There is documentation around this <a href=\"https://docs.aws.amazon.com/connect/latest/adminguide/contact-events.html#subscribe-contact-events\" rel=\"nofollow noreferrer\">here</a>. That documentation has step by step instructions for setting up the event bridge. Note that this will capture all events. you could change the event pattern to...</p>\n<pre><code>{\n  &quot;source&quot;: [&quot;aws.connect&quot;],\n  &quot;detail-type&quot;: [&quot;Amazon Connect Contact Event&quot;],\n  &quot;detail&quot;: {\n    &quot;eventType&quot;: [&quot;DISCONNECTED&quot;]\n  }\n}\n</code></pre>\n<p>...so you only capture the disconnect events.</p>\n<p>You can then set the target of this EventBridge rule to your lambda.</p>\n<p>The event includes useful information, like <code>connectedToSystemTimestamp</code>, <code>connectedToAgentTimestamp</code> and <code>disconnectTimestamp</code> which you can use to calculate call duration.</p>\n<p>You can also use the included <code>details.contactId</code> from the event in your lambda to get additional information from Connect. Use the Connect API <a href=\"https://docs.aws.amazon.com/connect/latest/APIReference/API_GetContactAttributes.html\" rel=\"nofollow noreferrer\">GetContactAttributes</a> action to rertrieve these. Note that there is no way to get the CallerID directly via the Connect API, so if you want that you'll need to attached the callers phone number as an attribute in your Connect contact flows, you can then get that information from the data returned by GetContactAttributes.</p>\n"}],"owner":{"account_id":17119466,"reputation":149,"user_id":12388078,"display_name":"Mahmudul Hasan Shafin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693260456,"creation_date":1692909261,"question_id":76972758,"body_markdown":"\r\nI&#39;m working on a Java-based project involving Amazon Connect and AWS Lambda. I want to achieve the following scenario:\r\n\r\n1. After a call ends in Amazon Connect (either by the user or normally), I want to invoke a Java-based AWS Lambda function to process and collect call-related data.\r\n\r\nI&#39;ve already set up an AWS Lambda function in Java that handles data processing, but I&#39;m unsure about the best way to trigger this function after a call ends. Here&#39;s what I&#39;m looking for:\r\n\r\n1. **Call Termination:** How can I detect when a call ends in Amazon Connect? Is there an event or mechanism I can use to determine if a call has ended, either by the user or in a normal manner?\r\n\r\n2. **Lambda Invocation:** Once a call ends, how can I programmatically trigger my Java-based AWS Lambda function? Are there specific settings I need to configure within Amazon Connect or the Lambda function itself to achieve this?\r\n\r\n3. **Data Collection:** Additionally, how can I collect relevant data from the call, such as call duration, caller ID, and any custom attributes that were set during the call?\r\n\r\nIf anyone has experience with Amazon Connect and Lambda integrations, especially in a Java environment, I&#39;d greatly appreciate your guidance on how to set up this workflow effectively. Any Java-specific code examples or step-by-step instructions would be incredibly helpful.\r\n\r\nThank you in advance for your assistance. I&#39;m looking forward to learning from your expertise!\r\n\r\nBest regards,\r\nShafin","title":"Invoking Lambda After Call Ends in Amazon Connect for Data Collection (Java)","body":"<p>I'm working on a Java-based project involving Amazon Connect and AWS Lambda. I want to achieve the following scenario:</p>\n<ol>\n<li>After a call ends in Amazon Connect (either by the user or normally), I want to invoke a Java-based AWS Lambda function to process and collect call-related data.</li>\n</ol>\n<p>I've already set up an AWS Lambda function in Java that handles data processing, but I'm unsure about the best way to trigger this function after a call ends. Here's what I'm looking for:</p>\n<ol>\n<li><p><strong>Call Termination:</strong> How can I detect when a call ends in Amazon Connect? Is there an event or mechanism I can use to determine if a call has ended, either by the user or in a normal manner?</p>\n</li>\n<li><p><strong>Lambda Invocation:</strong> Once a call ends, how can I programmatically trigger my Java-based AWS Lambda function? Are there specific settings I need to configure within Amazon Connect or the Lambda function itself to achieve this?</p>\n</li>\n<li><p><strong>Data Collection:</strong> Additionally, how can I collect relevant data from the call, such as call duration, caller ID, and any custom attributes that were set during the call?</p>\n</li>\n</ol>\n<p>If anyone has experience with Amazon Connect and Lambda integrations, especially in a Java environment, I'd greatly appreciate your guidance on how to set up this workflow effectively. Any Java-specific code examples or step-by-step instructions would be incredibly helpful.</p>\n<p>Thank you in advance for your assistance. I'm looking forward to learning from your expertise!</p>\n<p>Best regards,\nShafin</p>\n"},{"tags":["java","spring","model-view-controller"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1693289032,"post_id":76995010,"comment_id":135737127,"body_markdown":"YOu don&#39;t as it will be set by the `DispatcherServlet` due to the fact that the `AnnotationConfigWebApplicationContext` is `ServletContextAware`.","body":"YOu don&#39;t as it will be set by the <code>DispatcherServlet</code> due to the fact that the <code>AnnotationConfigWebApplicationContext</code> is <code>ServletContextAware</code>."}],"answers":[{"tags":[],"owner":{"account_id":11936753,"reputation":86,"user_id":8734970,"display_name":"bbart23"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693246475,"creation_date":1693246475,"answer_id":76995162,"question_id":76995010,"body_markdown":"Alright, let&#39;s break this down step by step:\r\n\r\n## The Spring Framework Context Hierarchy\r\nIn Spring, there&#39;s a concept of a parent-child hierarchy of contexts. The root context is typically the context of the entire application, while the child contexts are more specialized contexts, often linked to specific servlets.\r\n\r\nThe `DispatcherServlet` in Spring MVC is typically associated with a child context, which is a specialization of the general application context. This child context is meant for web-specific components, like controllers, view resolvers, etc.\r\n\r\n## The Role of ServletContext\r\nThe `ServletContext` is a standard Java EE interface that provides information about the web application and a way to interact with its container (like Tomcat). It&#39;s like a shared space where servlets in the same web application can communicate with each other.\r\n\r\n## The Purpose of ctx.setServletContext(container)\r\nWhen you do `ctx.setServletContext(container)`, you&#39;re linking the `ServletContext` of the web application to the Spring `ApplicationContext` you&#39;ve just created.\r\n\r\n### Why is this necessary?\r\n\r\n 1. **Web Application Context**: By setting the `ServletContext`, you&#39;re\r\n    effectively making the `ApplicationContext` a web application\r\n    context. This allows it to understand its surrounding web\r\n    environment and utilize web-specific features like resolving views,\r\n    interpreting web-based scopes (e.g., `request`, `session`), etc.\r\n    \r\n 2. **Resource Loading**: The `ServletContext` provides capabilities to load\r\n    resources from the web application. For instance, if you have a view\r\n    resolver that&#39;s resolving JSP files, it can utilize the\r\n    `ServletContext` to find those JSP files within the web application.\r\n    \r\n 3. **Scoped Beans**: Spring provides web-specific scopes (like `request`,\r\n    `session`, etc.). In order to create and manage beans with such\r\n    scopes, the `ApplicationContext` needs to be aware of the\r\n    `ServletContext`.\r\n\r\n## Is it Mandatory?\r\nIn many scenarios, if you don&#39;t set the `ServletContext`, your `ApplicationContext` might still work, but it won&#39;t be aware of the web environment. This means certain features, especially web-specific ones, might not function as expected.\r\n\r\n## Comparison with createServletApplicationContext()\r\nIn the method `createServletApplicationContext()` you provided, the `ServletContext` isn&#39;t being explicitly set. It&#39;s possible that the setting of the `ServletContext` is done elsewhere, perhaps within the Spring framework itself when the created context is actually being used in association with a `DispatcherServlet`.\r\n\r\n## Summary\r\nThe line `ctx.setServletContext(container)` is used to make the `ApplicationContext` aware of the web environment, allowing it to function correctly in a web application setting and utilize web-specific features provided by Spring.\r\n\r\nReferences:\r\n\r\n[Spring WebApplicationInitializer][1]\r\n\r\n[Java ServletContext][2]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/WebApplicationInitializer.html\r\n  [2]: https://docs.oracle.com/javaee/7/api/javax/servlet/ServletContext.html","title":"Spring MVC ServletContext and ApplicationContext","body":"<p>Alright, let's break this down step by step:</p>\n<h2>The Spring Framework Context Hierarchy</h2>\n<p>In Spring, there's a concept of a parent-child hierarchy of contexts. The root context is typically the context of the entire application, while the child contexts are more specialized contexts, often linked to specific servlets.</p>\n<p>The <code>DispatcherServlet</code> in Spring MVC is typically associated with a child context, which is a specialization of the general application context. This child context is meant for web-specific components, like controllers, view resolvers, etc.</p>\n<h2>The Role of ServletContext</h2>\n<p>The <code>ServletContext</code> is a standard Java EE interface that provides information about the web application and a way to interact with its container (like Tomcat). It's like a shared space where servlets in the same web application can communicate with each other.</p>\n<h2>The Purpose of ctx.setServletContext(container)</h2>\n<p>When you do <code>ctx.setServletContext(container)</code>, you're linking the <code>ServletContext</code> of the web application to the Spring <code>ApplicationContext</code> you've just created.</p>\n<h3>Why is this necessary?</h3>\n<ol>\n<li><p><strong>Web Application Context</strong>: By setting the <code>ServletContext</code>, you're\neffectively making the <code>ApplicationContext</code> a web application\ncontext. This allows it to understand its surrounding web\nenvironment and utilize web-specific features like resolving views,\ninterpreting web-based scopes (e.g., <code>request</code>, <code>session</code>), etc.</p>\n</li>\n<li><p><strong>Resource Loading</strong>: The <code>ServletContext</code> provides capabilities to load\nresources from the web application. For instance, if you have a view\nresolver that's resolving JSP files, it can utilize the\n<code>ServletContext</code> to find those JSP files within the web application.</p>\n</li>\n<li><p><strong>Scoped Beans</strong>: Spring provides web-specific scopes (like <code>request</code>,\n<code>session</code>, etc.). In order to create and manage beans with such\nscopes, the <code>ApplicationContext</code> needs to be aware of the\n<code>ServletContext</code>.</p>\n</li>\n</ol>\n<h2>Is it Mandatory?</h2>\n<p>In many scenarios, if you don't set the <code>ServletContext</code>, your <code>ApplicationContext</code> might still work, but it won't be aware of the web environment. This means certain features, especially web-specific ones, might not function as expected.</p>\n<h2>Comparison with createServletApplicationContext()</h2>\n<p>In the method <code>createServletApplicationContext()</code> you provided, the <code>ServletContext</code> isn't being explicitly set. It's possible that the setting of the <code>ServletContext</code> is done elsewhere, perhaps within the Spring framework itself when the created context is actually being used in association with a <code>DispatcherServlet</code>.</p>\n<h2>Summary</h2>\n<p>The line <code>ctx.setServletContext(container)</code> is used to make the <code>ApplicationContext</code> aware of the web environment, allowing it to function correctly in a web application setting and utilize web-specific features provided by Spring.</p>\n<p>References:</p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/WebApplicationInitializer.html\" rel=\"nofollow noreferrer\">Spring WebApplicationInitializer</a></p>\n<p><a href=\"https://docs.oracle.com/javaee/7/api/javax/servlet/ServletContext.html\" rel=\"nofollow noreferrer\">Java ServletContext</a></p>\n"}],"owner":{"account_id":24170524,"reputation":37,"user_id":18132664,"display_name":"Chris"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1693260132,"creation_date":1693244939,"question_id":76995010,"body_markdown":"I am currently learning Spring MVC. I came across a piece code which is bit confusing to me.\r\nIn Spring MVC, there is this concept of `DispatcherServlet`.\r\n\r\nEach `DispatcherServlet` is registered in the `ServletContext` and each `DispatcherServlet` has its own `applicationContext`. But now the code that is confusing to me is below one.\r\n\r\n\r\n```\r\npublic class AppInitializer implements WebApplicationInitializer {\r\n \r\n    public void onStartup(ServletContext container) throws ServletException {\r\n \r\n        AnnotationConfigWebApplicationContext ctx = new AnnotationConfigWebApplicationContext();\r\n        ctx.register(AppConfig.class);\r\n        ctx.setServletContext(container);\r\n \r\n        ServletRegistration.Dynamic servlet = container.addServlet(\r\n                &quot;dispatcher&quot;, new DispatcherServlet(ctx));\r\n \r\n        servlet.setLoadOnStartup(1);\r\n        servlet.addMapping(&quot;/&quot;);\r\n    }\r\n \r\n}\r\n```\r\n\r\nIf you see the above code in the `onStartUp` method, \r\n1. I am creating a instance of a `ApplicationContext`.\r\n2. I am registering the beans in the application context.\r\n3. And then this is the line I have the doubt ..what does the line of code do?\r\n     `ctx.setServletContext(container);`\r\n\r\nDoes it provide a `servletContext` to the `applicationContext`?\r\nWhat does the method `setServletContext()` mean here? I read the documentation, but it is not clear. It simply says Set the `ServletContext` for this web application context.\r\n\r\nBut why do we need to set the `ServletContext` to the application context? Is this line of code mandatory? Kindly help in clarifying it.\r\nIs application context registered in the `ServletContext`?\r\n\r\nI went through the code of `createServletApplicationContext()` method in the `AbstractAnnotationConfigDispatcherServletInitializer` class. There in the method the `servletContext` is never set in the application Context. Please refer the method below.\r\n\r\n    @Override\r\n    \tprotected WebApplicationContext createServletApplicationContext() {\r\n    \t\tAnnotationConfigWebApplicationContext context = new AnnotationConfigWebApplicationContext();\r\n    \t\tClass&lt;?&gt;[] configClasses = getServletConfigClasses();\r\n    \t\tif (!ObjectUtils.isEmpty(configClasses)) {\r\n    \t\t\tcontext.register(configClasses);\r\n    \t\t}\r\n    \t\treturn context;\r\n    \t}\r\n\r\n","title":"Spring MVC ServletContext and ApplicationContext","body":"<p>I am currently learning Spring MVC. I came across a piece code which is bit confusing to me.\nIn Spring MVC, there is this concept of <code>DispatcherServlet</code>.</p>\n<p>Each <code>DispatcherServlet</code> is registered in the <code>ServletContext</code> and each <code>DispatcherServlet</code> has its own <code>applicationContext</code>. But now the code that is confusing to me is below one.</p>\n<pre><code>public class AppInitializer implements WebApplicationInitializer {\n \n    public void onStartup(ServletContext container) throws ServletException {\n \n        AnnotationConfigWebApplicationContext ctx = new AnnotationConfigWebApplicationContext();\n        ctx.register(AppConfig.class);\n        ctx.setServletContext(container);\n \n        ServletRegistration.Dynamic servlet = container.addServlet(\n                &quot;dispatcher&quot;, new DispatcherServlet(ctx));\n \n        servlet.setLoadOnStartup(1);\n        servlet.addMapping(&quot;/&quot;);\n    }\n \n}\n</code></pre>\n<p>If you see the above code in the <code>onStartUp</code> method,</p>\n<ol>\n<li>I am creating a instance of a <code>ApplicationContext</code>.</li>\n<li>I am registering the beans in the application context.</li>\n<li>And then this is the line I have the doubt ..what does the line of code do?\n<code>ctx.setServletContext(container);</code></li>\n</ol>\n<p>Does it provide a <code>servletContext</code> to the <code>applicationContext</code>?\nWhat does the method <code>setServletContext()</code> mean here? I read the documentation, but it is not clear. It simply says Set the <code>ServletContext</code> for this web application context.</p>\n<p>But why do we need to set the <code>ServletContext</code> to the application context? Is this line of code mandatory? Kindly help in clarifying it.\nIs application context registered in the <code>ServletContext</code>?</p>\n<p>I went through the code of <code>createServletApplicationContext()</code> method in the <code>AbstractAnnotationConfigDispatcherServletInitializer</code> class. There in the method the <code>servletContext</code> is never set in the application Context. Please refer the method below.</p>\n<pre><code>@Override\n    protected WebApplicationContext createServletApplicationContext() {\n        AnnotationConfigWebApplicationContext context = new AnnotationConfigWebApplicationContext();\n        Class&lt;?&gt;[] configClasses = getServletConfigClasses();\n        if (!ObjectUtils.isEmpty(configClasses)) {\n            context.register(configClasses);\n        }\n        return context;\n    }\n</code></pre>\n"},{"tags":["java","arrays","h2"],"comments":[{"owner":{"account_id":1250533,"reputation":5799,"user_id":1211032,"accept_rate":100,"display_name":"Marc Grue"},"score":0,"creation_date":1693206935,"post_id":76961887,"comment_id":135724493,"body_markdown":"It would be nice to have some of the array functions/operators from PostGreSQL: https://www.postgresql.org/docs/current/functions-array.html","body":"It would be nice to have some of the array functions/operators from PostGreSQL: <a href=\"https://www.postgresql.org/docs/current/functions-array.html\" rel=\"nofollow noreferrer\">postgresql.org/docs/current/functions-array.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":24224809,"reputation":363,"user_id":18179479,"display_name":"Mircea Sirghi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693259380,"creation_date":1693232524,"answer_id":76993658,"question_id":76961887,"body_markdown":"    // How to retract 2?\r\n    UPDATE A SET ints = ARRAY(SELECT V FROM TABLE(V INT = (SELECT ints FROM A WHERE id = 1)) where V != 2);\r\n    SELECT ints FROM A WHERE id = 1;\r\n    // [1, 3]\r\n\r\n\r\n    // How to replace 1 with 10?\r\n    UPDATE A SET ints = ARRAY[1, 2, 3];\r\n    SELECT ints FROM A WHERE id = 1;\r\n    UPDATE A SET ints = ARRAY(SELECT CASEWHEN(V=1, 10, V) FROM TABLE(V INT = (SELECT ints FROM A WHERE id = 1)));\r\n    SELECT ints FROM A WHERE id = 1;\r\n    // [10, 2, 3]\r\n\r\n","title":"How to manipulate array values in h2?","body":"<pre><code>// How to retract 2?\nUPDATE A SET ints = ARRAY(SELECT V FROM TABLE(V INT = (SELECT ints FROM A WHERE id = 1)) where V != 2);\nSELECT ints FROM A WHERE id = 1;\n// [1, 3]\n\n\n// How to replace 1 with 10?\nUPDATE A SET ints = ARRAY[1, 2, 3];\nSELECT ints FROM A WHERE id = 1;\nUPDATE A SET ints = ARRAY(SELECT CASEWHEN(V=1, 10, V) FROM TABLE(V INT = (SELECT ints FROM A WHERE id = 1)));\nSELECT ints FROM A WHERE id = 1;\n// [10, 2, 3]\n</code></pre>\n"}],"owner":{"account_id":1250533,"reputation":5799,"user_id":1211032,"accept_rate":100,"display_name":"Marc Grue"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76993658,"answer_count":1,"score":1,"last_activity_date":1693259380,"creation_date":1692797793,"question_id":76961887,"body_markdown":"How can I retract and update values in an array in h2?\r\n\r\nSince I&#39;m trying to manage a `Set` of distinct values in an array I don&#39;t know the ordinality/position of values in the array and can\r\ntherefore only operate by value and not use the position of values in the array - if possible?\r\n\r\n(I can live with duplicate values in the array since I load queried array values into `Set`s that will automatically filter out duplicate values.)\r\n\r\nI can add a value with concatenation:\r\n```lang-sql\r\nDROP TABLE A IF EXISTS;\r\nCREATE TABLE A(id INT PRIMARY KEY AUTO_INCREMENT, ints INT ARRAY);\r\nINSERT INTO A(ints) VALUES (ARRAY[1, 2]);\r\nSELECT ints FROM A WHERE id = 1;\r\n// [1, 2]\r\n\r\n// Concatenate\r\nUPDATE A SET ints = ints || 3;\r\nSELECT ints FROM A WHERE id = 1;\r\n// [1, 2, 3]\r\n```\r\n\r\nBut how can I retract a specific value?\r\n\r\n```lang-sql\r\n// How to retract 2?\r\nUPDATE A SET ints = ???;\r\nSELECT ints FROM A WHERE id = 1;\r\n// [1, 3]\r\n\r\n// Or, how to retract 1 and 2?\r\nUPDATE A SET ints = ???;\r\nSELECT ints FROM A WHERE id = 1;\r\n// [3]\r\n```\r\n\r\nAnd how can I update one value to another?\r\n\r\n```lang-sql\r\n// How to replace 1 with 10?\r\nUPDATE A SET ints = ???;\r\nSELECT ints FROM A WHERE id = 1;\r\n// [10, 2, 3]\r\n\r\n// Or, how to replace 1 with 10 and 3 with 30?\r\nUPDATE A SET ints = ???;\r\nSELECT ints FROM A WHERE id = 1;\r\n// [10, 2, 30]\r\n```\r\n\r\n\r\nI have tried variations on unnesting the values and filter them to exclude (retract) certain values, then aggregate them back along the following (wrong) lines without success:\r\n\r\n```lang-sql\r\nUPDATE A \r\nSET ints = ARRAY_AGG(\r\n   (SELECT * FROM UNNEST(SELECT ints FROM A) WHERE c1 != 2)\r\n) \r\nWHERE id = 1;\r\n```\r\n\r\nUPDATE: I can get the desired filtered values:\r\n```lang-sql\r\nSELECT * FROM UNNEST(SELECT ints FROM A) where c1 != 2;\r\n// C1\r\n// 1\r\n// 3\r\n```\r\nBut then I can&#39;t create an array from those values (that I can set `ints` to):\r\n```lang-sql\r\nVALUES ARRAY(\r\n   SELECT * FROM UNNEST(SELECT ints FROM A) where c1 != 2\r\n);\r\n// C1\r\n// [null, null]\r\n```","title":"How to manipulate array values in h2?","body":"<p>How can I retract and update values in an array in h2?</p>\n<p>Since I'm trying to manage a <code>Set</code> of distinct values in an array I don't know the ordinality/position of values in the array and can\ntherefore only operate by value and not use the position of values in the array - if possible?</p>\n<p>(I can live with duplicate values in the array since I load queried array values into <code>Set</code>s that will automatically filter out duplicate values.)</p>\n<p>I can add a value with concatenation:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>DROP TABLE A IF EXISTS;\nCREATE TABLE A(id INT PRIMARY KEY AUTO_INCREMENT, ints INT ARRAY);\nINSERT INTO A(ints) VALUES (ARRAY[1, 2]);\nSELECT ints FROM A WHERE id = 1;\n// [1, 2]\n\n// Concatenate\nUPDATE A SET ints = ints || 3;\nSELECT ints FROM A WHERE id = 1;\n// [1, 2, 3]\n</code></pre>\n<p>But how can I retract a specific value?</p>\n<pre class=\"lang-sql prettyprint-override\"><code>// How to retract 2?\nUPDATE A SET ints = ???;\nSELECT ints FROM A WHERE id = 1;\n// [1, 3]\n\n// Or, how to retract 1 and 2?\nUPDATE A SET ints = ???;\nSELECT ints FROM A WHERE id = 1;\n// [3]\n</code></pre>\n<p>And how can I update one value to another?</p>\n<pre class=\"lang-sql prettyprint-override\"><code>// How to replace 1 with 10?\nUPDATE A SET ints = ???;\nSELECT ints FROM A WHERE id = 1;\n// [10, 2, 3]\n\n// Or, how to replace 1 with 10 and 3 with 30?\nUPDATE A SET ints = ???;\nSELECT ints FROM A WHERE id = 1;\n// [10, 2, 30]\n</code></pre>\n<p>I have tried variations on unnesting the values and filter them to exclude (retract) certain values, then aggregate them back along the following (wrong) lines without success:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>UPDATE A \nSET ints = ARRAY_AGG(\n   (SELECT * FROM UNNEST(SELECT ints FROM A) WHERE c1 != 2)\n) \nWHERE id = 1;\n</code></pre>\n<p>UPDATE: I can get the desired filtered values:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT * FROM UNNEST(SELECT ints FROM A) where c1 != 2;\n// C1\n// 1\n// 3\n</code></pre>\n<p>But then I can't create an array from those values (that I can set <code>ints</code> to):</p>\n<pre class=\"lang-sql prettyprint-override\"><code>VALUES ARRAY(\n   SELECT * FROM UNNEST(SELECT ints FROM A) where c1 != 2\n);\n// C1\n// [null, null]\n</code></pre>\n"},{"tags":["java","web","tomcat","apache-tomee"],"comments":[{"owner":{"account_id":5701984,"reputation":5646,"user_id":4506678,"accept_rate":55,"display_name":"rzo1"},"score":2,"creation_date":1693214346,"post_id":76988830,"comment_id":135725806,"body_markdown":"There is no TomEE 10.272.","body":"There is no TomEE 10.272."},{"owner":{"account_id":27116540,"reputation":1,"user_id":20660794,"display_name":"Vsevolod Kasatchikov"},"score":0,"creation_date":1693252534,"post_id":76988830,"comment_id":135733479,"body_markdown":"sorry, translator made some mistakes. i have edited @BasilBourque","body":"sorry, translator made some mistakes. i have edited @BasilBourque"},{"owner":{"account_id":27116540,"reputation":1,"user_id":20660794,"display_name":"Vsevolod Kasatchikov"},"score":0,"creation_date":1693252572,"post_id":76988830,"comment_id":135733483,"body_markdown":"@rzo1 i have edited","body":"@rzo1 i have edited"},{"owner":{"account_id":64678,"reputation":19208,"user_id":190816,"accept_rate":67,"display_name":"David Blevins"},"score":0,"creation_date":1693254742,"post_id":76988830,"comment_id":135733831,"body_markdown":"@VsevolodKasatchikov As rzo1 mentioned, there is no TomEE version 10.x.  The latest version is 9.1","body":"@VsevolodKasatchikov As rzo1 mentioned, there is no TomEE version 10.x.  The latest version is 9.1"},{"owner":{"account_id":27116540,"reputation":1,"user_id":20660794,"display_name":"Vsevolod Kasatchikov"},"score":0,"creation_date":1693255487,"post_id":76988830,"comment_id":135733953,"body_markdown":"@DavidBlevins oh, im sorry. i said like it was written in intellij idea. by fact, its 9.1.0 version","body":"@DavidBlevins oh, im sorry. i said like it was written in intellij idea. by fact, its 9.1.0 version"},{"owner":{"account_id":5701984,"reputation":5646,"user_id":4506678,"accept_rate":55,"display_name":"rzo1"},"score":0,"creation_date":1693308865,"post_id":76988830,"comment_id":135740711,"body_markdown":"You should check catalina.out for any errors. Are you targeting EE10 or EE9.1 ?","body":"You should check catalina.out for any errors. Are you targeting EE10 or EE9.1 ?"},{"owner":{"account_id":27116540,"reputation":1,"user_id":20660794,"display_name":"Vsevolod Kasatchikov"},"score":1,"creation_date":1693314801,"post_id":76988830,"comment_id":135742028,"body_markdown":"@rzo1 i use EE9.1. there is only one warning in catalina.out: WARNING [http-nio-8080-exec-4] org.apache.batchee.container.services.ServicesManager.init You didn&#39;t specify org.apache.batchee.jmx.application and JMX is already registered, skipping.\nI dont think it matters so much","body":"@rzo1 i use EE9.1. there is only one warning in catalina.out: WARNING [http-nio-8080-exec-4] org.apache.batchee.container.services.ServicesManager.init You didn&#39;t specify org.apache.batchee.jmx.application and JMX is already registered, skipping. I dont think it matters so much"}],"answers":[{"tags":[],"owner":{"account_id":29317454,"reputation":1,"user_id":22461861,"display_name":"Apk Modii"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693258328,"creation_date":1693258328,"answer_id":76996123,"question_id":76988830,"body_markdown":"TomEE usually keeps track of what&#39;s happening in log files. Look for any error messages or weird stuff in files like **catalina.out** or tomee.log.","title":"I can&#39;t launch the application on TomEE","body":"<p>TomEE usually keeps track of what's happening in log files. Look for any error messages or weird stuff in files like <strong>catalina.out</strong> or tomee.log.</p>\n"}],"owner":{"account_id":27116540,"reputation":1,"user_id":20660794,"display_name":"Vsevolod Kasatchikov"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693258328,"creation_date":1693168177,"question_id":76988830,"body_markdown":"Earlier I used a regular Tomcat version 10.1.11, but then I switched to Tomee plus version 9.1.0 and everything stopped working for me. Now the page where the servlet should be displayed constantly throws the error &quot;The origin server did not find a current representation for the target resource or is not willing to disclose that one exists&quot;.\r\nBut if I run this application again through the regular version of Tomcat, then everything will work. Has anyone encountered such an error?","title":"I can&#39;t launch the application on TomEE","body":"<p>Earlier I used a regular Tomcat version 10.1.11, but then I switched to Tomee plus version 9.1.0 and everything stopped working for me. Now the page where the servlet should be displayed constantly throws the error &quot;The origin server did not find a current representation for the target resource or is not willing to disclose that one exists&quot;.\nBut if I run this application again through the regular version of Tomcat, then everything will work. Has anyone encountered such an error?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","properties"],"answers":[{"tags":[],"owner":{"account_id":12152068,"reputation":581,"user_id":8872018,"display_name":"Anthony"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1693257812,"creation_date":1569013678,"answer_id":58035201,"question_id":58030004,"body_markdown":"From `@PropertySource` javadoc\r\n\r\n&gt; ...  \r\nNote, however, that explicit registration\r\nof a `PropertySourcesPlaceholderConfigurer` via a static `@Bean`\r\nmethod is typically only required if you need to customize configuration such as the placeholder syntax, etc. See the &quot;Working with externalized values&quot; section of Configuration `@Configuration`&#39;s javadocs and &quot;a note on BeanFactoryPostProcessor-returning @Bean methods of Bean `@Bean`&#39;s javadocs for details and examples. Specifically, if no bean post-processor (such as a `PropertySourcesPlaceholderConfigurer`) has registered an embedded value resolver for the `ApplicationContext`, Spring will register a default embedded value resolver which resolves placeholders against property sources registered in the `Environment`.  \r\n...\r\n\r\nWell, if simple words if you need set up or get more control over property configuration bean such as `PropertySourcesPlaceholderConfigurer` you could define it. Otherwise it can be ommited.**But if you use version of Spring prior 4.3.0, this bean has to be declared for resolve `@Value`.**\r\n\r\nFor get more details:\r\n  \r\n* [6.Configuration using Raw Beans in Spring 3.0 – the PropertyPlaceholderConfigurer](https://www.baeldung.com/properties-with-spring)  \r\n* [javadoc @PropertySource](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/PropertySource.html)\r\n\r\nI hope it&#39;ll a little help you)\r\n    ","title":"Use of PropertySourcesPlaceholderConfigurer?","body":"<p>From <code>@PropertySource</code> javadoc</p>\n<blockquote>\n<p>...<br />\nNote, however, that explicit registration\nof a <code>PropertySourcesPlaceholderConfigurer</code> via a static <code>@Bean</code>\nmethod is typically only required if you need to customize configuration such as the placeholder syntax, etc. See the &quot;Working with externalized values&quot; section of Configuration <code>@Configuration</code>'s javadocs and &quot;a note on BeanFactoryPostProcessor-returning @Bean methods of Bean <code>@Bean</code>'s javadocs for details and examples. Specifically, if no bean post-processor (such as a <code>PropertySourcesPlaceholderConfigurer</code>) has registered an embedded value resolver for the <code>ApplicationContext</code>, Spring will register a default embedded value resolver which resolves placeholders against property sources registered in the <code>Environment</code>.<br />\n...</p>\n</blockquote>\n<p>Well, if simple words if you need set up or get more control over property configuration bean such as <code>PropertySourcesPlaceholderConfigurer</code> you could define it. Otherwise it can be ommited.<strong>But if you use version of Spring prior 4.3.0, this bean has to be declared for resolve <code>@Value</code>.</strong></p>\n<p>For get more details:</p>\n<ul>\n<li><a href=\"https://www.baeldung.com/properties-with-spring\" rel=\"nofollow noreferrer\">6.Configuration using Raw Beans in Spring 3.0 – the PropertyPlaceholderConfigurer</a></li>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/PropertySource.html\" rel=\"nofollow noreferrer\">javadoc @PropertySource</a></li>\n</ul>\n<p>I hope it'll a little help you)</p>\n"}],"owner":{"account_id":12394064,"reputation":391,"user_id":10875429,"display_name":"Djordje Vuckovic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6823,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":58035201,"answer_count":1,"score":7,"last_activity_date":1693257812,"creation_date":1568988584,"question_id":58030004,"body_markdown":"I am starting to learn Spring annotations. I&#39;m currently using the `@PropertySource` annotation in my Configuration Class to resolve properties values and everything works fine, but then I read about `PropertySourcesPlaceholderConfigurer`.\r\n\r\nWhen or why I should use that?","title":"Use of PropertySourcesPlaceholderConfigurer?","body":"<p>I am starting to learn Spring annotations. I'm currently using the <code>@PropertySource</code> annotation in my Configuration Class to resolve properties values and everything works fine, but then I read about <code>PropertySourcesPlaceholderConfigurer</code>.</p>\n\n<p>When or why I should use that?</p>\n"},{"tags":["java","hibernate","jasper-reports"],"answers":[{"tags":[],"owner":{"account_id":2729582,"reputation":2238,"user_id":2353657,"accept_rate":60,"display_name":"Endrik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401885799,"creation_date":1401885799,"answer_id":24037787,"question_id":24036505,"body_markdown":"To answer you first question, yes it is possible. Please refer to this links for the required configuration needed for the JasperReports-Hibernate integration:\r\n[JasperReports 5.6.0 - Hibernate Sample][1]  and &lt;br&gt;\r\n[Using Hibernate queries in JasperReports][2]\r\n&lt;br&gt; While this last link is shows the specific requirement for Spring: [JasperReports - Spring MVC][3]\r\n&lt;br&gt; Hope these helps.\r\n\r\n\r\n  [1]: http://jasperreports.sourceforge.net/sample.reference/hibernate/\r\n  [2]: http://www.javalobby.org/articles/hibernatequery103/\r\n  [3]: http://keytotechnologies.blogspot.com/2013/02/jasper-report-spring-hibernate-example.html","title":"Using Hibernate connection with JasperReports","body":"<p>To answer you first question, yes it is possible. Please refer to this links for the required configuration needed for the JasperReports-Hibernate integration:\n<a href=\"http://jasperreports.sourceforge.net/sample.reference/hibernate/\" rel=\"nofollow\">JasperReports 5.6.0 - Hibernate Sample</a>  and <br>\n<a href=\"http://www.javalobby.org/articles/hibernatequery103/\" rel=\"nofollow\">Using Hibernate queries in JasperReports</a>\n<br> While this last link is shows the specific requirement for Spring: <a href=\"http://keytotechnologies.blogspot.com/2013/02/jasper-report-spring-hibernate-example.html\" rel=\"nofollow\">JasperReports - Spring MVC</a>\n<br> Hope these helps.</p>\n"}],"owner":{"account_id":4324600,"reputation":1,"user_id":3531759,"display_name":"user3531759"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693256745,"creation_date":1401882290,"question_id":24036505,"body_markdown":"I&#39;m making now a new module into a big one web application. I&#39;ve created in *iReport* a report with Hibernate Connection. All Hibernate classes were already made by my teammates, hql query also. So, we can say, I&#39;ve made only &quot;visual&quot; part in designer.\r\n\r\nIn *iReport* all works great, like I wanted. I&#39;m using hibernate.cfg.xml file where session factory is defined.\r\n\r\nMy problem began when I wanted to integrate my *.jrxml file with java web app.\r\nWeb application is made on maven using Spring Framework. So I have additional file applicationContext.xml where hibernate session factory is also defined like in hibernate.cfg.xml.\r\n\r\nThe question is, is it possible to make it&#39;s working, using @autowired on bean from applicationContext.xml?\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;binderSessionFactory&quot;)\r\n    protected SessionFactory sessionFactory;\r\n\r\nIf yes, how could I give this connection so it work&#39;s with my *.jrxml file?\r\n\r\nJava code:\r\n\r\n    OutputStream outputStream = response.getOutputStream();\r\n    \r\n    Map parameters = (Map) model.get(&quot;parameters&quot;);\r\n    \r\n    URL reportTemplate = getClass().getClassLoader().getResource(&quot;pathToFile/file.jrxml&quot;);\r\n    JasperReport jasperReport = JasperCompileManager.compileReport(reportTemplate.getPath());\r\n    jasperPrint = JasperFillManager.fillReport(jasperReport, parameters);\r\n    \r\n    JasperExportManager.exportReportToPdfStream(jasperPrint, outputStream);\r\n\r\nHow should I make a hibernate db connection visible for my report?","title":"Using Hibernate connection with JasperReports","body":"<p>I'm making now a new module into a big one web application. I've created in <em>iReport</em> a report with Hibernate Connection. All Hibernate classes were already made by my teammates, hql query also. So, we can say, I've made only \"visual\" part in designer.</p>\n\n<p>In <em>iReport</em> all works great, like I wanted. I'm using hibernate.cfg.xml file where session factory is defined.</p>\n\n<p>My problem began when I wanted to integrate my *.jrxml file with java web app.\nWeb application is made on maven using Spring Framework. So I have additional file applicationContext.xml where hibernate session factory is also defined like in hibernate.cfg.xml.</p>\n\n<p>The question is, is it possible to make it's working, using @autowired on bean from applicationContext.xml?</p>\n\n<pre><code>@Autowired\n@Qualifier(\"binderSessionFactory\")\nprotected SessionFactory sessionFactory;\n</code></pre>\n\n<p>If yes, how could I give this connection so it work's with my *.jrxml file?</p>\n\n<p>Java code:</p>\n\n<pre><code>OutputStream outputStream = response.getOutputStream();\n\nMap parameters = (Map) model.get(\"parameters\");\n\nURL reportTemplate = getClass().getClassLoader().getResource(\"pathToFile/file.jrxml\");\nJasperReport jasperReport = JasperCompileManager.compileReport(reportTemplate.getPath());\njasperPrint = JasperFillManager.fillReport(jasperReport, parameters);\n\nJasperExportManager.exportReportToPdfStream(jasperPrint, outputStream);\n</code></pre>\n\n<p>How should I make a hibernate db connection visible for my report?</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":1470573,"reputation":29818,"user_id":1382251,"accept_rate":68,"display_name":"barak manos"},"score":0,"creation_date":1392978933,"post_id":21930969,"comment_id":33221169,"body_markdown":"Con you provide the URL?","body":"Con you provide the URL?"},{"owner":{"account_id":2824883,"reputation":3123,"user_id":2427729,"accept_rate":19,"display_name":"Sitam Jana"},"score":0,"creation_date":1392980120,"post_id":21930969,"comment_id":33222067,"body_markdown":"We can try with any sample download link like : http://release.seleniumhq.org/selenium-ide/2.5.0/selenium-ide-2.5.0.xpi\n\nPlease let me know if you need more info on this.","body":"We can try with any sample download link like : <a href=\"http://release.seleniumhq.org/selenium-ide/2.5.0/selenium-ide-2.5.0.xpi\" rel=\"nofollow noreferrer\">release.seleniumhq.org/selenium-ide/2.5.0/&hellip;</a>  Please let me know if you need more info on this."},{"owner":{"account_id":1470573,"reputation":29818,"user_id":1382251,"accept_rate":68,"display_name":"barak manos"},"score":0,"creation_date":1392980190,"post_id":21930969,"comment_id":33222123,"body_markdown":"I meant the URL of the web-page that you are trying to control with Selenium","body":"I meant the URL of the web-page that you are trying to control with Selenium"},{"owner":{"account_id":2824883,"reputation":3123,"user_id":2427729,"accept_rate":19,"display_name":"Sitam Jana"},"score":0,"creation_date":1392982023,"post_id":21930969,"comment_id":33223451,"body_markdown":"Sorry! Barak. I can&#39;t provide the actual link because of security reasons. But yes, the link I provided earlier is very similar to that.","body":"Sorry! Barak. I can&#39;t provide the actual link because of security reasons. But yes, the link I provided earlier is very similar to that."}],"answers":[{"tags":[],"owner":{"account_id":1916486,"reputation":1268,"user_id":1728973,"display_name":"Algiz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392993591,"creation_date":1392993591,"answer_id":21937373,"question_id":21930969,"body_markdown":"Not a direct answer to your question but I hope it will help.\r\n\r\nPool the file on your hard drive (compute a MD5 of it). Once it is correct, you can go further with your test. Fail your tets if the file is not correct after a timeout.","title":"How to wait for download to finish using Webdriver","body":"<p>Not a direct answer to your question but I hope it will help.</p>\n\n<p>Pool the file on your hard drive (compute a MD5 of it). Once it is correct, you can go further with your test. Fail your tets if the file is not correct after a timeout.</p>\n"},{"tags":[],"owner":{"account_id":3175170,"reputation":667,"user_id":2683225,"display_name":"Ben"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1393027617,"creation_date":1393027617,"answer_id":21947680,"question_id":21930969,"body_markdown":"For small files, I currently either use an implied wait or wait for the JS callback that my file has downloaded before moving on. The code below was posted on SO by another individual, I can&#39;t find the post right away, so I won&#39;t take credit for it. \r\n\r\npublic static void WaitForPageToLoad(IWebDriver driver)\r\n        {\r\n            TimeSpan timeout = new TimeSpan(0, 0, 2400);\r\n            WebDriverWait wait = new WebDriverWait(driver, timeout);\r\n\r\n            IJavaScriptExecutor javascript = driver as IJavaScriptExecutor;\r\n            if (javascript == null)\r\n                throw new ArgumentException(&quot;driver&quot;, &quot;Driver must support javascript execution&quot;);\r\n\r\n            wait.Until((d) =&gt;\r\n            {\r\n                try\r\n                {\r\n                    string readyState = javascript.ExecuteScript(&quot;if (document.readyState) return document.readyState;&quot;).ToString();\r\n                    return readyState.ToLower() == &quot;complete&quot;;\r\n                }\r\n                catch (InvalidOperationException e)\r\n                {\r\n                    //Window is no longer available\r\n                    return e.Message.ToLower().Contains(&quot;unable to get browser&quot;);\r\n                }\r\n                catch (WebDriverException e)\r\n                {\r\n                    //Browser is no longer available\r\n                    return e.Message.ToLower().Contains(&quot;unable to connect&quot;);\r\n                }\r\n                catch (Exception)\r\n                {\r\n                    return false;\r\n                }\r\n            });\r\n        }\r\n\r\nIt should wait for your file to finish if it is small. Unfortunately, I haven&#39;t tested this on larger files ( &gt; 5MB )","title":"How to wait for download to finish using Webdriver","body":"<p>For small files, I currently either use an implied wait or wait for the JS callback that my file has downloaded before moving on. The code below was posted on SO by another individual, I can't find the post right away, so I won't take credit for it. </p>\n\n<p>public static void WaitForPageToLoad(IWebDriver driver)\n        {\n            TimeSpan timeout = new TimeSpan(0, 0, 2400);\n            WebDriverWait wait = new WebDriverWait(driver, timeout);</p>\n\n<pre><code>        IJavaScriptExecutor javascript = driver as IJavaScriptExecutor;\n        if (javascript == null)\n            throw new ArgumentException(\"driver\", \"Driver must support javascript execution\");\n\n        wait.Until((d) =&gt;\n        {\n            try\n            {\n                string readyState = javascript.ExecuteScript(\"if (document.readyState) return document.readyState;\").ToString();\n                return readyState.ToLower() == \"complete\";\n            }\n            catch (InvalidOperationException e)\n            {\n                //Window is no longer available\n                return e.Message.ToLower().Contains(\"unable to get browser\");\n            }\n            catch (WebDriverException e)\n            {\n                //Browser is no longer available\n                return e.Message.ToLower().Contains(\"unable to connect\");\n            }\n            catch (Exception)\n            {\n                return false;\n            }\n        });\n    }\n</code></pre>\n\n<p>It should wait for your file to finish if it is small. Unfortunately, I haven't tested this on larger files ( > 5MB )</p>\n"},{"tags":[],"owner":{"account_id":73667,"reputation":985,"user_id":212023,"accept_rate":71,"display_name":"Ben George"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453081028,"creation_date":1453081028,"answer_id":34846007,"question_id":21930969,"body_markdown":"Poll the configured download directory for absence of partial file.\r\n\r\nExample code for Chrome below:\r\n\r\n        File destinationDir = new File(&quot;blah&quot;);\r\n\r\n        Map&lt;String, Object&gt; prefs = new HashMap&lt;&gt;();\r\n        prefs.put(&quot;download.default_directory&quot;, destinationDir.getAbsolutePath());\r\n\r\n        DesiredCapabilities desiredCapabilities = DesiredCapabilities.chrome();\r\n\r\n        ChromeOptions options = new ChromeOptions();\r\n        options.setExperimentalOption(&quot;prefs&quot;, prefs);\r\n        desiredCapabilities.setCapability(ChromeOptions.CAPABILITY, options);\r\n\r\n        WebDriver webDriver = new ChromeDriver(desiredCapabilities);\r\n        // Initiate download...\r\n\r\n        do {\r\n            Thread.sleep(5000L);\r\n        } while(!org.apache.commons.io.FileUtils.listFiles(destinationDir, new String[]{&quot;crdownload&quot;}, false).isEmpty());","title":"How to wait for download to finish using Webdriver","body":"<p>Poll the configured download directory for absence of partial file.</p>\n\n<p>Example code for Chrome below:</p>\n\n<pre><code>    File destinationDir = new File(\"blah\");\n\n    Map&lt;String, Object&gt; prefs = new HashMap&lt;&gt;();\n    prefs.put(\"download.default_directory\", destinationDir.getAbsolutePath());\n\n    DesiredCapabilities desiredCapabilities = DesiredCapabilities.chrome();\n\n    ChromeOptions options = new ChromeOptions();\n    options.setExperimentalOption(\"prefs\", prefs);\n    desiredCapabilities.setCapability(ChromeOptions.CAPABILITY, options);\n\n    WebDriver webDriver = new ChromeDriver(desiredCapabilities);\n    // Initiate download...\n\n    do {\n        Thread.sleep(5000L);\n    } while(!org.apache.commons.io.FileUtils.listFiles(destinationDir, new String[]{\"crdownload\"}, false).isEmpty());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8673368,"reputation":408,"user_id":6491515,"display_name":"Leon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505373700,"creation_date":1505373700,"answer_id":46212898,"question_id":21930969,"body_markdown":"As answered on https://stackoverflow.com/questions/22714112/wait-for-download-to-finish-in-selenium-webdriver-java/46212629#46212629\r\n\r\n\r\n  \r\n\r\n      private void waitForFileDownload(int totalTimeoutInMillis, String expectedFileName) throws IOException {  \r\n                FluentWait&lt;WebDriver&gt; wait = new FluentWait(this.funcDriver.driver)\r\n                                       .withTimeout(totalTimeoutInMillis, TimeUnit.MILLISECONDS)\r\n                                       .pollingEvery(200, TimeUnit.MILLISECONDS);\r\n                File fileToCheck = getDownloadsDirectory()\r\n                                   .resolve(expectedFileName)\r\n                                   .toFile();\r\n        \r\n                wait.until((WebDriver wd) -&gt; fileToCheck.exists());\r\n        \r\n            }\r\n\r\n\r\n    public synchronized Path getDownloadsDirectory(){\r\n            if(downloadsDirectory == null){\r\n                \r\n                try {\r\n                    downloadsDirectory = Files.createTempDirectory(&quot;selleniumdownloads_&quot;);\r\n                } catch (IOException ex) {\r\n                    throw new RuntimeException(&quot;Failed to create temporary downloads directory&quot;);\r\n                }\r\n            }\r\n            return downloadsDirectory;\r\n        }\r\n\r\nThen you can use a library like [this][1] to do the actual file handling to see the file is stored correctly (that could mean comparing file size, Md5 hashes or even checking the content of the file which Tika can actually do as well).\r\n\r\n    public void fileChecker(){\r\n            waitForFileDownload(20000,&quot;filename_here&quot;);\r\n            \r\n            File file = downloadsDirectory.resolve(expectedFileName).toFile();\r\n    \r\n            AutoDetectParser parser = new AutoDetectParser();\r\n            parser.setParsers(new HashMap&lt;MediaType, Parser&gt;());\r\n    \r\n            Metadata metadata = new Metadata();\r\n            metadata.add(TikaMetadataKeys.RESOURCE_NAME_KEY, file.getName());\r\n    \r\n            try (InputStream stream = new FileInputStream(file)) {\r\n                parser.parse(stream, (ContentHandler) new DefaultHandler(), metadata, new ParseContext());\r\n            }\r\n    \r\n            String actualHash = metadata.get(HttpHeaders.CONTENT_MD5); \r\n            assertTrue(&quot;There was a hash mismatch for file xyz:&quot;,actualHash.equals(&quot;expectedHash&quot;));\r\n        }\r\n\r\n    \r\n  [1]: https://tika.apache.org/","title":"How to wait for download to finish using Webdriver","body":"<p>As answered on <a href=\"https://stackoverflow.com/questions/22714112/wait-for-download-to-finish-in-selenium-webdriver-java/46212629#46212629\">Wait for Download to finish in selenium webdriver JAVA</a></p>\n\n<pre><code>  private void waitForFileDownload(int totalTimeoutInMillis, String expectedFileName) throws IOException {  \n            FluentWait&lt;WebDriver&gt; wait = new FluentWait(this.funcDriver.driver)\n                                   .withTimeout(totalTimeoutInMillis, TimeUnit.MILLISECONDS)\n                                   .pollingEvery(200, TimeUnit.MILLISECONDS);\n            File fileToCheck = getDownloadsDirectory()\n                               .resolve(expectedFileName)\n                               .toFile();\n\n            wait.until((WebDriver wd) -&gt; fileToCheck.exists());\n\n        }\n\n\npublic synchronized Path getDownloadsDirectory(){\n        if(downloadsDirectory == null){\n\n            try {\n                downloadsDirectory = Files.createTempDirectory(\"selleniumdownloads_\");\n            } catch (IOException ex) {\n                throw new RuntimeException(\"Failed to create temporary downloads directory\");\n            }\n        }\n        return downloadsDirectory;\n    }\n</code></pre>\n\n<p>Then you can use a library like <a href=\"https://tika.apache.org/\" rel=\"nofollow noreferrer\">this</a> to do the actual file handling to see the file is stored correctly (that could mean comparing file size, Md5 hashes or even checking the content of the file which Tika can actually do as well).</p>\n\n<pre><code>public void fileChecker(){\n        waitForFileDownload(20000,\"filename_here\");\n\n        File file = downloadsDirectory.resolve(expectedFileName).toFile();\n\n        AutoDetectParser parser = new AutoDetectParser();\n        parser.setParsers(new HashMap&lt;MediaType, Parser&gt;());\n\n        Metadata metadata = new Metadata();\n        metadata.add(TikaMetadataKeys.RESOURCE_NAME_KEY, file.getName());\n\n        try (InputStream stream = new FileInputStream(file)) {\n            parser.parse(stream, (ContentHandler) new DefaultHandler(), metadata, new ParseContext());\n        }\n\n        String actualHash = metadata.get(HttpHeaders.CONTENT_MD5); \n        assertTrue(\"There was a hash mismatch for file xyz:\",actualHash.equals(\"expectedHash\"));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10594162,"reputation":784,"user_id":7803545,"accept_rate":92,"display_name":"hildogjr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638446483,"creation_date":1638446483,"answer_id":70199064,"question_id":21930969,"body_markdown":"I am your the bellow code in Python + Firefox:\r\n\r\n```python\r\nbrowser.get(&#39;about:downloads&#39;)  #Open the download page.\r\n# WAit all icons change from &quot;X&quot; (cancel download).\r\nWebDriverWait(browser, URL_LOAD_TIMEOUT * 40).until_not(\r\n    EC.presence_of_element_located((By.CLASS_NAME, &#39;downloadIconCancel&#39;)))\r\n```","title":"How to wait for download to finish using Webdriver","body":"<p>I am your the bellow code in Python + Firefox:</p>\n<pre class=\"lang-py prettyprint-override\"><code>browser.get('about:downloads')  #Open the download page.\n# WAit all icons change from &quot;X&quot; (cancel download).\nWebDriverWait(browser, URL_LOAD_TIMEOUT * 40).until_not(\n    EC.presence_of_element_located((By.CLASS_NAME, 'downloadIconCancel')))\n</code></pre>\n"}],"owner":{"account_id":2824883,"reputation":3123,"user_id":2427729,"accept_rate":19,"display_name":"Sitam Jana"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8972,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1693256745,"creation_date":1392976623,"question_id":21930969,"body_markdown":"Is there any way to wait for a download to finish in WebDriver?\r\n\r\nBasically, I want to verify that downloaded file getting stored correctly inside hard drive and to verify that, need to wait till download finishes. Please help if anyone aware of such a scenario earlier.","title":"How to wait for download to finish using Webdriver","body":"<p>Is there any way to wait for a download to finish in WebDriver?</p>\n\n<p>Basically, I want to verify that downloaded file getting stored correctly inside hard drive and to verify that, need to wait till download finishes. Please help if anyone aware of such a scenario earlier.</p>\n"},{"tags":["java","cucumber","selenium-extent-report","extent"],"comments":[{"owner":{"account_id":5700778,"reputation":8968,"user_id":4512398,"display_name":"Grasshopper"},"score":0,"creation_date":1692970196,"post_id":76977340,"comment_id":135701304,"body_markdown":"write the custom javascript within &#39;js&#39; xml tags, similarly css in &#39;css&#39; tags. styles and scripts tags are no longer valid","body":"write the custom javascript within &#39;js&#39; xml tags, similarly css in &#39;css&#39; tags. styles and scripts tags are no longer valid"}],"owner":{"account_id":23962269,"reputation":11,"user_id":17952185,"display_name":"Amey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693256383,"creation_date":1692967672,"question_id":76977340,"body_markdown":"I want to customize extent report for Cucumber.\r\nI am using Java testng cucumber framework.\r\nI want to add pass/failed ticks at the left side of each step/scenario.\r\nCan you please guide me to set the extent configurations?\r\n\r\n\r\n\r\nAdding screenshots below\r\nActual Report screenshot: \r\n\r\n[![Actual Report link][2]][2]\r\n\r\nExpected Report screenshot: \r\n\r\n[![Expected report link][1]][1]\r\n\r\nI have tried below extent.properties configuration\r\n\r\n**my extent.properties file details**\r\n\r\n```\r\nextent.reporter.spark.start=true\r\nextent.reporter.spark.out=Reports_cucumber/Spark.html\r\nextent.reporter.spark.config=spark-config.xml\r\nextent.reporter.pdf.start=true\r\nextent.reporter.pdf.out=Reports_cucumber/Spark.pdf\r\nextent.reporter.bdd.start=true\r\nextent.reporter.bdd.out=test-output/BddReport/\r\nextent.reporter.spark.base64imagesrc=true\r\n#FolderName\r\nbasefolder.name=Reports_cucumber/Report_\r\nbasefolder.datetimepattern=d_MMM_YY HH_mm_ss\r\nscreenshot.dir=/screenshots/\r\nscreenshot.rel.path=../screenshots/\r\n```\r\n\r\nand\r\n\r\n\r\n**extent-config.xml file details**\r\n\r\n```\r\n&lt;extentreports&gt;\r\n  &lt;configuration&gt;\r\n\r\n    &lt;!-- report theme --&gt;\r\n    &lt;!-- STANDARD, DARK --&gt;\r\n    &lt;theme&gt;STANDARD&lt;/theme&gt;\r\n\r\n    &lt;!-- document encoding --&gt;\r\n    &lt;!-- defaults to UTF-8 --&gt;\r\n    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n\r\n    &lt;!-- protocol for script and stylesheets --&gt;\r\n    &lt;!-- defaults to https --&gt;\r\n    &lt;!-- HTTP, HTTPS --&gt;\r\n    &lt;protocol&gt;https&lt;/protocol&gt;\r\n\r\n    &lt;!-- offline report --&gt;\r\n    &lt;timelineEnabled&gt;true&lt;/timelineEnabled&gt;\r\n    \r\n    &lt;!-- offline report --&gt;\r\n    &lt;enableOfflineMode&gt;false&lt;/enableOfflineMode&gt;\r\n    \r\n    &lt;!-- use thumbnails for base64 images --&gt;\r\n    &lt;!-- this may slowdown viewing tests --&gt;\r\n    &lt;thumbnailForBase64&gt;false&lt;/thumbnailForBase64&gt;\r\n\r\n    &lt;!-- title of the document --&gt;\r\n    &lt;documentTitle&gt;eSurety&lt;/documentTitle&gt;\r\n\r\n   &lt;reportName&gt;\r\n\t\t &lt;![CDATA[\r\n               \r\n               &lt;img src=&quot;https://res.cloudinary.com/crunchbase-production/image/upload/c_lpad,h_170,w_170,f_auto,b_white,q_auto:eco,dpr_1/sssvfnewhku9z4tqmovr&quot;  style=&quot;width:50px;height:40px;&quot; ;&gt;\r\n               &lt;font size=&quot;5&quot; &gt;    TEST  RESULTS    &lt;/font&gt;\r\n              \r\n                ]]&gt;\r\n\t\t&lt;/reportName&gt;\r\n\t\t\t\t\r\n    &lt;!-- timestamp format --&gt;\r\n    &lt;timeStampFormat&gt;MMM dd, yyyy HH:mm:ss&lt;/timeStampFormat&gt;\r\n\r\n\r\n        &lt;!-- custom javascript --&gt;\r\n        &lt;scripts&gt;\r\n            &lt;![CDATA[\r\n                $(document).ready(function() {\r\n                    $(&#39;.logo-container.grey darken-2&#39;).css(&#39;display&#39;,&#39;block&#39;);\r\n                });\r\n            ]]&gt;\r\n        &lt;/scripts&gt;\r\n      \r\n    &lt;!-- custom styles --&gt;\r\n     &lt;scripts&gt; &lt;![CDATA[$(document).ready(function() {$(&#39;.dashboard-view&#39;).click();});$(&#39;.col.s12:nth-child(2) .card-panel.nm-v&#39;).hide();$(&#39;.col.s2:nth-child(2)&#39;).hide();$(&#39;.col.s12:nth-child(1)&#39;).css(&#39;width&#39;, &#39;100%&#39;);$(&#39;.row .col.s2&#39;).css(&#39;width&#39;, &#39;25%&#39;);]]&gt; &lt;/scripts&gt;\r\n        \r\n    &lt;styles&gt;\r\n     \r\n    &lt;/styles&gt;\r\n\r\n  &lt;/configuration&gt;\r\n&lt;/extentreports&gt;\r\n\r\n```\r\n\r\n\r\n[1]: https://i.stack.imgur.com/ufykI.png\r\n[2]: https://i.stack.imgur.com/k0qja.png","title":"how to customize extent report for Java TestNG Cucumber","body":"<p>I want to customize extent report for Cucumber.\nI am using Java testng cucumber framework.\nI want to add pass/failed ticks at the left side of each step/scenario.\nCan you please guide me to set the extent configurations?</p>\n<p>Adding screenshots below\nActual Report screenshot:</p>\n<p><a href=\"https://i.stack.imgur.com/k0qja.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k0qja.png\" alt=\"Actual Report link\" /></a></p>\n<p>Expected Report screenshot:</p>\n<p><a href=\"https://i.stack.imgur.com/ufykI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ufykI.png\" alt=\"Expected report link\" /></a></p>\n<p>I have tried below extent.properties configuration</p>\n<p><strong>my extent.properties file details</strong></p>\n<pre><code>extent.reporter.spark.start=true\nextent.reporter.spark.out=Reports_cucumber/Spark.html\nextent.reporter.spark.config=spark-config.xml\nextent.reporter.pdf.start=true\nextent.reporter.pdf.out=Reports_cucumber/Spark.pdf\nextent.reporter.bdd.start=true\nextent.reporter.bdd.out=test-output/BddReport/\nextent.reporter.spark.base64imagesrc=true\n#FolderName\nbasefolder.name=Reports_cucumber/Report_\nbasefolder.datetimepattern=d_MMM_YY HH_mm_ss\nscreenshot.dir=/screenshots/\nscreenshot.rel.path=../screenshots/\n</code></pre>\n<p>and</p>\n<p><strong>extent-config.xml file details</strong></p>\n<pre><code>&lt;extentreports&gt;\n  &lt;configuration&gt;\n\n    &lt;!-- report theme --&gt;\n    &lt;!-- STANDARD, DARK --&gt;\n    &lt;theme&gt;STANDARD&lt;/theme&gt;\n\n    &lt;!-- document encoding --&gt;\n    &lt;!-- defaults to UTF-8 --&gt;\n    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n\n    &lt;!-- protocol for script and stylesheets --&gt;\n    &lt;!-- defaults to https --&gt;\n    &lt;!-- HTTP, HTTPS --&gt;\n    &lt;protocol&gt;https&lt;/protocol&gt;\n\n    &lt;!-- offline report --&gt;\n    &lt;timelineEnabled&gt;true&lt;/timelineEnabled&gt;\n    \n    &lt;!-- offline report --&gt;\n    &lt;enableOfflineMode&gt;false&lt;/enableOfflineMode&gt;\n    \n    &lt;!-- use thumbnails for base64 images --&gt;\n    &lt;!-- this may slowdown viewing tests --&gt;\n    &lt;thumbnailForBase64&gt;false&lt;/thumbnailForBase64&gt;\n\n    &lt;!-- title of the document --&gt;\n    &lt;documentTitle&gt;eSurety&lt;/documentTitle&gt;\n\n   &lt;reportName&gt;\n         &lt;![CDATA[\n               \n               &lt;img src=&quot;https://res.cloudinary.com/crunchbase-production/image/upload/c_lpad,h_170,w_170,f_auto,b_white,q_auto:eco,dpr_1/sssvfnewhku9z4tqmovr&quot;  style=&quot;width:50px;height:40px;&quot; ;&gt;\n               &lt;font size=&quot;5&quot; &gt;    TEST  RESULTS    &lt;/font&gt;\n              \n                ]]&gt;\n        &lt;/reportName&gt;\n                \n    &lt;!-- timestamp format --&gt;\n    &lt;timeStampFormat&gt;MMM dd, yyyy HH:mm:ss&lt;/timeStampFormat&gt;\n\n\n        &lt;!-- custom javascript --&gt;\n        &lt;scripts&gt;\n            &lt;![CDATA[\n                $(document).ready(function() {\n                    $('.logo-container.grey darken-2').css('display','block');\n                });\n            ]]&gt;\n        &lt;/scripts&gt;\n      \n    &lt;!-- custom styles --&gt;\n     &lt;scripts&gt; &lt;![CDATA[$(document).ready(function() {$('.dashboard-view').click();});$('.col.s12:nth-child(2) .card-panel.nm-v').hide();$('.col.s2:nth-child(2)').hide();$('.col.s12:nth-child(1)').css('width', '100%');$('.row .col.s2').css('width', '25%');]]&gt; &lt;/scripts&gt;\n        \n    &lt;styles&gt;\n     \n    &lt;/styles&gt;\n\n  &lt;/configuration&gt;\n&lt;/extentreports&gt;\n\n</code></pre>\n"},{"tags":["java","json","spring-boot","jsonpath","jsonparser"],"comments":[{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1693220617,"post_id":76990844,"comment_id":135726936,"body_markdown":"Data3 appears to be an array - are you adding the date to every element of the array?  What JSON library are you using?","body":"Data3 appears to be an array - are you adding the date to every element of the array?  What JSON library are you using?"},{"owner":{"account_id":29312437,"reputation":21,"user_id":22457878,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1693224547,"post_id":76990844,"comment_id":135727705,"body_markdown":"hi , data3 will not contain array , just key value pair data, Its possible using jsonpath?","body":"hi , data3 will not contain array , just key value pair data, Its possible using jsonpath?"},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1693225211,"post_id":76990844,"comment_id":135727829,"body_markdown":"Your provided JSON indicates that the key &quot;Data3&quot; maps to an array (indicated by the square braces`[]`).  I&#39;m not familiar with JsonPath.  Baeldung has an intro article for it - see https://www.baeldung.com/guide-to-jayway-jsonpath","body":"Your provided JSON indicates that the key &quot;Data3&quot; maps to an array (indicated by the square braces<code>[]</code>).  I&#39;m not familiar with JsonPath.  Baeldung has an intro article for it - see <a href=\"https://www.baeldung.com/guide-to-jayway-jsonpath\" rel=\"nofollow noreferrer\">baeldung.com/guide-to-jayway-jsonpath</a>"},{"owner":{"account_id":29312437,"reputation":21,"user_id":22457878,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1693227099,"post_id":76990844,"comment_id":135728271,"body_markdown":"let me check, sorry my bad , data3 conatin array, yes i will add every element of the array","body":"let me check, sorry my bad , data3 conatin array, yes i will add every element of the array"},{"owner":{"account_id":471114,"reputation":7423,"user_id":878701,"accept_rate":86,"display_name":"gregsdennis"},"score":0,"creation_date":1693258692,"post_id":76990844,"comment_id":135734369,"body_markdown":"JSON Path is a query syntax.  It _retrieves_ nodes; it doesn&#39;t edit data.  If you want to edit data, JSON Path is the wrong tool.","body":"JSON Path is a query syntax.  It <i>retrieves</i> nodes; it doesn&#39;t edit data.  If you want to edit data, JSON Path is the wrong tool."}],"answers":[{"tags":[],"owner":{"account_id":19900384,"reputation":81,"user_id":14580500,"display_name":"ash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693218910,"creation_date":1693218910,"answer_id":76992047,"question_id":76990844,"body_markdown":"I have use the dependency named Fastjson, and found it easy to implementd it.\\\r\nFollow is my code.\r\n\r\n        public static void main(String[] args) {\r\n    //1.generate the json string from a object by fastjson\r\n                String s = JSON.toJSONString(new Person());\r\n                System.out.println(&quot;s = &quot; + s);\r\n    //2.fastjson transfer the jsonStr to a JSONObject\r\n                JSONObject jsonObject = JSONObject.parseObject(s);\r\n    //3. use the JSONObject to add a field named field1 and the value is 111\r\n                JSONObject address = jsonObject.getJSONObject(&quot;address&quot;);\r\n                address.put(&quot;field1&quot;, 111);\r\n    \r\n                System.out.println(&quot;jsonObject = &quot; + jsonObject);\r\n    \r\n            }\r\n\r\nThe output is:\r\n\r\n    s = {&quot;address&quot;:{&quot;city&quot;:&quot;2&quot;,&quot;province&quot;:&quot;1&quot;},&quot;age&quot;:18,&quot;gender&quot;:&quot;man&quot;,&quot;name&quot;:&quot;zhangsan&quot;}\r\n    jsonObject = {&quot;address&quot;:{&quot;field1&quot;:111,&quot;province&quot;:&quot;1&quot;,&quot;city&quot;:&quot;2&quot;},&quot;gender&quot;:&quot;man&quot;,&quot;name&quot;:&quot;zhangsan&quot;,&quot;age&quot;:18}\r\n\r\nIf you want to use this ,you can add this in your maven files.\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\r\n       &lt;artifactId&gt;fastjson&lt;/artifactId&gt;\r\n       &lt;version&gt;2.0.32&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"How to add data in existing json object in java using Jsonpath","body":"<p>I have use the dependency named Fastjson, and found it easy to implementd it.<br />\nFollow is my code.</p>\n<pre><code>    public static void main(String[] args) {\n//1.generate the json string from a object by fastjson\n            String s = JSON.toJSONString(new Person());\n            System.out.println(&quot;s = &quot; + s);\n//2.fastjson transfer the jsonStr to a JSONObject\n            JSONObject jsonObject = JSONObject.parseObject(s);\n//3. use the JSONObject to add a field named field1 and the value is 111\n            JSONObject address = jsonObject.getJSONObject(&quot;address&quot;);\n            address.put(&quot;field1&quot;, 111);\n\n            System.out.println(&quot;jsonObject = &quot; + jsonObject);\n\n        }\n</code></pre>\n<p>The output is:</p>\n<pre><code>s = {&quot;address&quot;:{&quot;city&quot;:&quot;2&quot;,&quot;province&quot;:&quot;1&quot;},&quot;age&quot;:18,&quot;gender&quot;:&quot;man&quot;,&quot;name&quot;:&quot;zhangsan&quot;}\njsonObject = {&quot;address&quot;:{&quot;field1&quot;:111,&quot;province&quot;:&quot;1&quot;,&quot;city&quot;:&quot;2&quot;},&quot;gender&quot;:&quot;man&quot;,&quot;name&quot;:&quot;zhangsan&quot;,&quot;age&quot;:18}\n</code></pre>\n<p>If you want to use this ,you can add this in your maven files.</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\n   &lt;artifactId&gt;fastjson&lt;/artifactId&gt;\n   &lt;version&gt;2.0.32&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":29312437,"reputation":21,"user_id":22457878,"display_name":"Abhijit Sarkar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"answer_count":1,"score":-1,"last_activity_date":1693256309,"creation_date":1693208409,"question_id":76990844,"body_markdown":"below is json string :\r\n\r\n     {\r\n      &quot;Data1&quot;: &quot;&quot;,\r\n      &quot;Data2&quot;: {\r\n        &quot;id&quot;: 1234\r\n      },\r\n      &quot;Data3&quot;: [\r\n        {\r\n          &quot;id&quot;: &quot;id2&quot;,\r\n          &quot;price&quot;: [\r\n            {\r\n              &quot;id&quot;: &quot;id3&quot;\r\n            }\r\n          ],\r\n          &quot;account&quot;: {\r\n            &quot;id&quot;: &quot;%s&quot;\r\n          },\r\n          &quot;product&quot;: {\r\n            &quot;extension&quot;: {\r\n              &quot;sub&quot;: &quot;R&quot;\r\n            }\r\n          },\r\n          &quot;reason&quot;: [\r\n            {\r\n              &quot;extension&quot;: {}\r\n            }\r\n          ],\r\n          &quot;produracteristic&quot;: [\r\n            {\r\n              &quot;name&quot;: &quot;gt&quot;,\r\n              &quot;value&quot;: &quot;none&quot;\r\n            }\r\n          ],\r\n          &quot;extension&quot;: {\r\n    \r\n           }\r\n        }\r\n      ],\r\n    \r\n     &quot;Data4&quot;:[\r\n        ....\r\n      }\r\n    }\r\n\r\n\r\n\r\nI want to add data under json payload.Data3.extension\r\n want to add   date:28-08-2023,\r\n  so it will be ,\r\n \r\n\r\n      &quot;extension&quot;: {\r\n     date:28-08-2023\r\n            }\r\n\r\nI have tried using java but that was only working for add element in json array. but in my case I am not adding in array . I am adding it to an object under array.  Please help me on this\r\n\r\n    JsonPath pathToArray = JsonPath.compile(&quot;$.data3.extension&quot;);\r\n    documentContext.add(pathToArray, Collections.singletonMap(&quot;date&quot;, &quot;28-08-2023&quot;));\r\n\r\n\r\n\r\n","title":"How to add data in existing json object in java using Jsonpath","body":"<p>below is json string :</p>\n<pre><code> {\n  &quot;Data1&quot;: &quot;&quot;,\n  &quot;Data2&quot;: {\n    &quot;id&quot;: 1234\n  },\n  &quot;Data3&quot;: [\n    {\n      &quot;id&quot;: &quot;id2&quot;,\n      &quot;price&quot;: [\n        {\n          &quot;id&quot;: &quot;id3&quot;\n        }\n      ],\n      &quot;account&quot;: {\n        &quot;id&quot;: &quot;%s&quot;\n      },\n      &quot;product&quot;: {\n        &quot;extension&quot;: {\n          &quot;sub&quot;: &quot;R&quot;\n        }\n      },\n      &quot;reason&quot;: [\n        {\n          &quot;extension&quot;: {}\n        }\n      ],\n      &quot;produracteristic&quot;: [\n        {\n          &quot;name&quot;: &quot;gt&quot;,\n          &quot;value&quot;: &quot;none&quot;\n        }\n      ],\n      &quot;extension&quot;: {\n\n       }\n    }\n  ],\n\n &quot;Data4&quot;:[\n    ....\n  }\n}\n</code></pre>\n<p>I want to add data under json payload.Data3.extension\nwant to add   date:28-08-2023,\nso it will be ,</p>\n<pre><code>  &quot;extension&quot;: {\n date:28-08-2023\n        }\n</code></pre>\n<p>I have tried using java but that was only working for add element in json array. but in my case I am not adding in array . I am adding it to an object under array.  Please help me on this</p>\n<pre><code>JsonPath pathToArray = JsonPath.compile(&quot;$.data3.extension&quot;);\ndocumentContext.add(pathToArray, Collections.singletonMap(&quot;date&quot;, &quot;28-08-2023&quot;));\n</code></pre>\n"},{"tags":["java","authentication","spring-security"],"answers":[{"tags":[],"owner":{"account_id":7134819,"reputation":5058,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675862919,"creation_date":1675862919,"answer_id":75386487,"question_id":75383326,"body_markdown":"It seems that you are using the old Spring Security SAML Extension project. This project reached its [end of life][1] on October 6th, 2021, therefore it won&#39;t support Spring 6 which was released in November 2022.\r\n\r\nThe SAML support has been moved into Spring Security, you can refer to [this documentation][2] in order to get started.\r\n\r\n\r\n  [1]: https://github.com/spring-attic/spring-security-saml#maintenance-mode\r\n  [2]: https://docs.spring.io/spring-security/reference/servlet/saml2/index.html","title":"Spring 3 SAMLProcessingFilter authenticationManager must be specified","body":"<p>It seems that you are using the old Spring Security SAML Extension project. This project reached its <a href=\"https://github.com/spring-attic/spring-security-saml#maintenance-mode\" rel=\"nofollow noreferrer\">end of life</a> on October 6th, 2021, therefore it won't support Spring 6 which was released in November 2022.</p>\n<p>The SAML support has been moved into Spring Security, you can refer to <a href=\"https://docs.spring.io/spring-security/reference/servlet/saml2/index.html\" rel=\"nofollow noreferrer\">this documentation</a> in order to get started.</p>\n"}],"owner":{"account_id":27732852,"reputation":1,"user_id":21171025,"display_name":"VISHAL ANAND"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1021,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693256219,"creation_date":1675846595,"question_id":75383326,"body_markdown":"I want to create a new application with spring boot version 3 and Java 17 with SAML2 token authentication. While writting SecurityConfig class, since it cannot extends WebSecurityConfigurerAdapter class in Spring 3, I do not know how to supply authenticationManager in SAMLProcessingFilter to supply in FilterChainProxy. My SecurityConfig class is below code line:\r\n\r\nsamlWebSSOProcessingFilter.setAuthenticationManager(???);\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableMethodSecurity\r\npublic class SecurityConfig {\r\n\r\n\t@Value(&quot;${saml.sp}&quot;)\r\n    private String samlAudience;\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;saml&quot;)\r\n    private SavedRequestAwareAuthenticationSuccessHandler samlAuthSuccessHandler;\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;saml&quot;)\r\n    private SimpleUrlAuthenticationFailureHandler samlAuthFailureHandler;\r\n\r\n    @Autowired\r\n    private SAMLEntryPoint samlEntryPoint;\r\n\r\n    @Autowired\r\n    private SAMLLogoutFilter samlLogoutFilter;\r\n\r\n    @Autowired\r\n    private SAMLLogoutProcessingFilter samlLogoutProcessingFilter;\r\n\r\n    @Autowired\r\n    private HttpSecurity httpSecurity;\r\n\r\n    @Bean\r\n    public SAMLDiscovery samlDiscovery() {\r\n        SAMLDiscovery idpDiscovery = new SAMLDiscovery();\r\n        return idpDiscovery;\r\n    }\r\n\r\n    @Autowired\r\n    private SAMLAuthenticationProvider samlAuthenticationProvider;\r\n\r\n    @Autowired\r\n    private ExtendedMetadata extendedMetadata;\r\n\r\n    @Autowired\r\n    private KeyManager keyManager;\r\n\r\n    public MetadataGenerator metadataGenerator() {\r\n        MetadataGenerator metadataGenerator = new MetadataGenerator();\r\n        metadataGenerator.setEntityId(samlAudience);\r\n        metadataGenerator.setExtendedMetadata(extendedMetadata);\r\n        metadataGenerator.setIncludeDiscoveryExtension(false);\r\n        metadataGenerator.setKeyManager(keyManager);\r\n        return metadataGenerator;\r\n    }\r\n\r\n    @Bean\r\n    public SAMLProcessingFilter samlWebSSOProcessingFilter(HttpSecurity http) throws Exception {\r\n        SAMLProcessingFilter samlWebSSOProcessingFilter = new SAMLProcessingFilter();\r\n        //AuthenticationManager authenticationManager = http.getSharedObject(AuthenticationManager.class);\r\n        //**What should I give in below line**\r\n        samlWebSSOProcessingFilter.setAuthenticationManager(authenticationManager());\r\n        samlWebSSOProcessingFilter.setAuthenticationSuccessHandler(samlAuthSuccessHandler);\r\n        samlWebSSOProcessingFilter.setAuthenticationFailureHandler(samlAuthFailureHandler);\r\n        return samlWebSSOProcessingFilter;\r\n    }\r\n\r\n    @Bean\r\n    public FilterChainProxy samlFilter(HttpSecurity http) throws Exception {\r\n        List&lt;SecurityFilterChain&gt; chains = new ArrayList&lt;&gt;();\r\n        chains.add(new DefaultSecurityFilterChain(new AntPathRequestMatcher(&quot;/saml/SSO/**&quot;),\r\n            samlWebSSOProcessingFilter(http)));\r\n        chains.add(new DefaultSecurityFilterChain(new AntPathRequestMatcher(&quot;/saml/discovery/**&quot;),\r\n            samlDiscovery()));\r\n        chains.add(new DefaultSecurityFilterChain(new AntPathRequestMatcher(&quot;/saml/login/**&quot;),\r\n            samlEntryPoint));\r\n        chains.add(new DefaultSecurityFilterChain(new AntPathRequestMatcher(&quot;/saml/logout/**&quot;),\r\n            samlLogoutFilter));\r\n        chains.add(new DefaultSecurityFilterChain(new AntPathRequestMatcher(&quot;/saml/SingleLogout/**&quot;),\r\n            samlLogoutProcessingFilter));\r\n        return new FilterChainProxy(chains);\r\n    }\r\n\r\n    @Bean\r\n\tpublic AuthenticationManager authenticationManager(AuthenticationConfiguration authConfig) throws Exception {\r\n\t\treturn authConfig.getAuthenticationManager();\r\n\t}\r\n\r\n    @Bean\r\n    public MetadataGeneratorFilter metadataGeneratorFilter() {\r\n        return new MetadataGeneratorFilter(metadataGenerator());\r\n    }\r\n\r\n    //@Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n        .csrf()\r\n        .disable();\r\n\r\n        http\r\n        .httpBasic()\r\n        .authenticationEntryPoint(samlEntryPoint);\r\n\r\n        http\r\n        .addFilterBefore(metadataGeneratorFilter(), ChannelProcessingFilter.class)\r\n        .addFilterAfter(samlFilter(http), BasicAuthenticationFilter.class)\r\n        .addFilterBefore(samlFilter(http), CsrfFilter.class);\r\n\r\n        http\r\n        .authorizeRequests()\r\n        .requestMatchers(&quot;/&quot;).permitAll()\r\n        .anyRequest().authenticated();\r\n\r\n        http\r\n        .logout()\r\n        .addLogoutHandler((request, response, authentication) -&gt; {\r\n            try {\r\n                response.sendRedirect(&quot;/saml/logout&quot;);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        });\r\n    }\r\n\r\n    @Bean\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.authenticationProvider(samlAuthenticationProvider);\r\n    }\r\n}\r\n```\r\n","title":"Spring 3 SAMLProcessingFilter authenticationManager must be specified","body":"<p>I want to create a new application with spring boot version 3 and Java 17 with SAML2 token authentication. While writting SecurityConfig class, since it cannot extends WebSecurityConfigurerAdapter class in Spring 3, I do not know how to supply authenticationManager in SAMLProcessingFilter to supply in FilterChainProxy. My SecurityConfig class is below code line:</p>\n<p>samlWebSSOProcessingFilter.setAuthenticationManager(???);</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity\npublic class SecurityConfig {\n\n    @Value(&quot;${saml.sp}&quot;)\n    private String samlAudience;\n\n    @Autowired\n    @Qualifier(&quot;saml&quot;)\n    private SavedRequestAwareAuthenticationSuccessHandler samlAuthSuccessHandler;\n\n    @Autowired\n    @Qualifier(&quot;saml&quot;)\n    private SimpleUrlAuthenticationFailureHandler samlAuthFailureHandler;\n\n    @Autowired\n    private SAMLEntryPoint samlEntryPoint;\n\n    @Autowired\n    private SAMLLogoutFilter samlLogoutFilter;\n\n    @Autowired\n    private SAMLLogoutProcessingFilter samlLogoutProcessingFilter;\n\n    @Autowired\n    private HttpSecurity httpSecurity;\n\n    @Bean\n    public SAMLDiscovery samlDiscovery() {\n        SAMLDiscovery idpDiscovery = new SAMLDiscovery();\n        return idpDiscovery;\n    }\n\n    @Autowired\n    private SAMLAuthenticationProvider samlAuthenticationProvider;\n\n    @Autowired\n    private ExtendedMetadata extendedMetadata;\n\n    @Autowired\n    private KeyManager keyManager;\n\n    public MetadataGenerator metadataGenerator() {\n        MetadataGenerator metadataGenerator = new MetadataGenerator();\n        metadataGenerator.setEntityId(samlAudience);\n        metadataGenerator.setExtendedMetadata(extendedMetadata);\n        metadataGenerator.setIncludeDiscoveryExtension(false);\n        metadataGenerator.setKeyManager(keyManager);\n        return metadataGenerator;\n    }\n\n    @Bean\n    public SAMLProcessingFilter samlWebSSOProcessingFilter(HttpSecurity http) throws Exception {\n        SAMLProcessingFilter samlWebSSOProcessingFilter = new SAMLProcessingFilter();\n        //AuthenticationManager authenticationManager = http.getSharedObject(AuthenticationManager.class);\n        //**What should I give in below line**\n        samlWebSSOProcessingFilter.setAuthenticationManager(authenticationManager());\n        samlWebSSOProcessingFilter.setAuthenticationSuccessHandler(samlAuthSuccessHandler);\n        samlWebSSOProcessingFilter.setAuthenticationFailureHandler(samlAuthFailureHandler);\n        return samlWebSSOProcessingFilter;\n    }\n\n    @Bean\n    public FilterChainProxy samlFilter(HttpSecurity http) throws Exception {\n        List&lt;SecurityFilterChain&gt; chains = new ArrayList&lt;&gt;();\n        chains.add(new DefaultSecurityFilterChain(new AntPathRequestMatcher(&quot;/saml/SSO/**&quot;),\n            samlWebSSOProcessingFilter(http)));\n        chains.add(new DefaultSecurityFilterChain(new AntPathRequestMatcher(&quot;/saml/discovery/**&quot;),\n            samlDiscovery()));\n        chains.add(new DefaultSecurityFilterChain(new AntPathRequestMatcher(&quot;/saml/login/**&quot;),\n            samlEntryPoint));\n        chains.add(new DefaultSecurityFilterChain(new AntPathRequestMatcher(&quot;/saml/logout/**&quot;),\n            samlLogoutFilter));\n        chains.add(new DefaultSecurityFilterChain(new AntPathRequestMatcher(&quot;/saml/SingleLogout/**&quot;),\n            samlLogoutProcessingFilter));\n        return new FilterChainProxy(chains);\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfig) throws Exception {\n        return authConfig.getAuthenticationManager();\n    }\n\n    @Bean\n    public MetadataGeneratorFilter metadataGeneratorFilter() {\n        return new MetadataGeneratorFilter(metadataGenerator());\n    }\n\n    //@Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n        .csrf()\n        .disable();\n\n        http\n        .httpBasic()\n        .authenticationEntryPoint(samlEntryPoint);\n\n        http\n        .addFilterBefore(metadataGeneratorFilter(), ChannelProcessingFilter.class)\n        .addFilterAfter(samlFilter(http), BasicAuthenticationFilter.class)\n        .addFilterBefore(samlFilter(http), CsrfFilter.class);\n\n        http\n        .authorizeRequests()\n        .requestMatchers(&quot;/&quot;).permitAll()\n        .anyRequest().authenticated();\n\n        http\n        .logout()\n        .addLogoutHandler((request, response, authentication) -&gt; {\n            try {\n                response.sendRedirect(&quot;/saml/logout&quot;);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        });\n    }\n\n    @Bean\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(samlAuthenticationProvider);\n    }\n}\n</code></pre>\n"},{"tags":["java","itext","itext7"],"comments":[{"owner":{"account_id":29261891,"reputation":11,"user_id":22418684,"display_name":"Itzik Stauber"},"score":0,"creation_date":1692598239,"post_id":76939843,"comment_id":135639697,"body_markdown":"Thanks @KJ! The idea of exporting from HTML sounds interesting.\nFrom your experience - would it make sense to try working with itext canvas API - something like: showTextAligned which seem to support exact X location (which we will have to calculate)\nhttps://api.itextpdf.com/iText5/java/5.5.9/com/itextpdf/text/pdf/ColumnText.html#showTextAligned-com.itextpdf.text.pdf.PdfContentByte-int-com.itextpdf.text.Phrase-float-float-float-","body":"Thanks @KJ! The idea of exporting from HTML sounds interesting. From your experience - would it make sense to try working with itext canvas API - something like: showTextAligned which seem to support exact X location (which we will have to calculate) <a href=\"https://api.itextpdf.com/iText5/java/5.5.9/com/itextpdf/text/pdf/ColumnText.html#showTextAligned-com.itextpdf.text.pdf.PdfContentByte-int-com.itextpdf.text.Phrase-float-float-float-\" rel=\"nofollow noreferrer\">api.itextpdf.com/iText5/java/5.5.9/com/itextpdf/text/pdf/&hellip;</a>"},{"owner":{"account_id":29261891,"reputation":11,"user_id":22418684,"display_name":"Itzik Stauber"},"score":1,"creation_date":1692688254,"post_id":76939843,"comment_id":135654170,"body_markdown":"thanks @KJ, your inputs are very appreciated.\nIndeed version 8 seems to solve our problem, at least partially.\n&#39;should&#39; is the keyword here.... As always, the devil is in the details :-)","body":"thanks @KJ, your inputs are very appreciated. Indeed version 8 seems to solve our problem, at least partially. &#39;should&#39; is the keyword here.... As always, the devil is in the details :-)"}],"owner":{"account_id":29261891,"reputation":11,"user_id":22418684,"display_name":"Itzik Stauber"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693256092,"creation_date":1692541300,"question_id":76939843,"body_markdown":"I&#39;m trying to generate a PDF containing a grid of letters, where each letter is centered in its cell in the grid (both vertically and horizontally), see attached PDF samples\r\nThis works well when the font size I&#39;m using is relatively small (44 in the attached sample) but fails for larger fonts (94 in the attached sample).\r\n- When specifying a minimum width for the cell, the characters are horizontally shifted wrt the cell center (except for the &#39;I&#39; and &#39;J&#39; which still fit the cell width, note that the shift varies between letters, most notably &#39;A&#39; and &#39;B&#39;). see image below\r\n- When the minimum width is not specified, the characters are centered wrt the cell, but these in turn are wider, causing only part of the row to be displayed. see image below\r\n\r\ncode:\r\n\r\n```java\r\nimport java.io.FileOutputStream;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport com.itextpdf.kernel.colors.DeviceGray;\r\nimport com.itextpdf.kernel.colors.DeviceRgb;\r\nimport com.itextpdf.kernel.geom.PageSize;\r\nimport com.itextpdf.kernel.pdf.PdfDocument;\r\nimport com.itextpdf.kernel.pdf.PdfWriter;\r\nimport com.itextpdf.layout.Document;\r\nimport com.itextpdf.layout.borders.Border;\r\nimport com.itextpdf.layout.borders.SolidBorder;\r\nimport com.itextpdf.layout.element.Cell;\r\nimport com.itextpdf.layout.element.Paragraph;\r\nimport com.itextpdf.layout.element.Table;\r\nimport com.itextpdf.layout.property.HorizontalAlignment;\r\nimport com.itextpdf.layout.property.OverflowPropertyValue;\r\nimport com.itextpdf.layout.property.Property;\r\nimport com.itextpdf.layout.property.TextAlignment;\r\nimport com.itextpdf.layout.property.VerticalAlignment;\r\n\r\npublic class PDFWriterTest {\r\n\tpublic static final int DPI = 72;\r\n\tpublic static final float PAGE_WIDTH = 19.685f;\r\n\tpublic static final float PAGE_HEIGHT = 25.5906f;\r\n\tpublic static final float MARGIN = 1.1811f;\r\n\tpublic static final float MATRIX_WIDTH = 72 * (PAGE_WIDTH - 2 * MARGIN);\r\n\tpublic static final float MATRIX_HEIGHT = 72 * (PAGE_HEIGHT - 2 * MARGIN);\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\ttry {\r\n\t\t\tfinal int numColumns = 24;\r\n\t\t\tfinal int numRows = 24;\r\n\t\t\tfinal List&lt;String&gt; letters = new ArrayList&lt;String&gt;();\r\n\t\t\tfinal int fontSize44 = 44;\r\n\t\t\tfinal int fontSize94 = 94;\r\n\t\t\tfinal boolean showGrid = true;\r\n\t\t\tfor (int i = 0; i &lt; numRows; i++) {\r\n\t\t\t\tfor (int j = 0; j &lt; numColumns; j++) {\r\n\t\t\t\t\tletters.add(getStr(i));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;Writing output to: &quot; + System.getProperty(&quot;user.dir&quot;));\r\n\t\t\tfinal FileOutputStream fOut44 = new FileOutputStream(&quot;./pdf_size44.pdf&quot;);\r\n\t\t\tgeneratePdfDocument(numColumns, numRows, letters, fontSize44, showGrid, false, fOut44);\r\n\t\t\tfinal FileOutputStream fOut44min = new FileOutputStream(&quot;./pdf_size44_min.pdf&quot;);\r\n\t\t\tgeneratePdfDocument(numColumns, numRows, letters, fontSize44, showGrid, true, fOut44min);\r\n\t\t\tfinal FileOutputStream fOut94 = new FileOutputStream(&quot;./pdf_size94.pdf&quot;);\r\n\t\t\tgeneratePdfDocument(numColumns, numRows, letters, fontSize94, showGrid, false, fOut94);\r\n\t\t\tfinal FileOutputStream fOut94min = new FileOutputStream(&quot;./pdf_size94_min.pdf&quot;);\r\n\t\t\tgeneratePdfDocument(numColumns, numRows, letters, fontSize94, showGrid, true, fOut94min);\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(&quot;PDF generation failed: &quot; + e.getMessage());\r\n\t\t} finally {\r\n\t\t\tSystem.out.println(&quot;Done&quot;);\r\n\t\t}\r\n\t}\r\n\tpublic static void generatePdfDocument (final int numColumns, final int numRows, final List&lt;String&gt; letters,\r\n\t\t\t\t\t\t\t\t\t\t\tfinal int fontSize, final boolean showGrid, final boolean setMinWidth,\r\n\t\t\t\t\t\t\t\t\t\t\tfinal FileOutputStream fOut) throws Exception {\r\n\t\tfinal float pageWidth = PAGE_WIDTH * DPI;\r\n\t\tfinal float pageHeight = PAGE_HEIGHT * DPI;\r\n\t\ttry {\r\n\t\t\tfinal PdfWriter writer = new PdfWriter(fOut);\r\n\t\t\tfinal PdfDocument pdf = new PdfDocument(writer);\r\n\t\t\tfinal PageSize ps = new PageSize(pageWidth, pageHeight);\r\n\t\t\tfinal  Document doc = new Document(pdf, ps);\r\n\t\t\tdoc.setMargins(0f, 0f, 0f, 0f);\r\n\t\t\t\r\n\t\t\tfinal Table maskTable =\r\n\t\t\t\t\tgenerateTable(pageWidth, pageHeight, numColumns, numRows, letters, fontSize, showGrid, setMinWidth);\r\n\t\t\tdoc.add(maskTable);\r\n\t\t\tdoc.flush();\r\n\t\t\tdoc.close();\r\n\t\t} finally {\r\n\t\t\tfOut.close();\r\n\t\t}\r\n\r\n\t}\r\n\t\r\n\tpublic static Table generateTable (final float width, final float height, final int numCols, final int numRows,\r\n\t\t\t\t\t\t\t\t\t   final List&lt;String&gt; letters, final int fontSize, final boolean showGrid,\r\n\t\t\t\t\t\t\t\t\t   final boolean setMinWidth) {\r\n\t\tfinal Table mainTable = new Table(1);\r\n\t\tmainTable.setWidth(width);\r\n\t\tmainTable.setHeight(height);\r\n\t\tmainTable.setMargins(0.0f,0.0f,0.0f,0.0f);\r\n\t\tmainTable.setPadding(0.0f);\r\n\t\tfinal Cell mainCell = new Cell();\r\n\t\tmainCell.setHorizontalAlignment(HorizontalAlignment.CENTER);\r\n\t\tmainCell.setVerticalAlignment(VerticalAlignment.MIDDLE);\r\n\t\tmainCell.setBorder(Border.NO_BORDER);\r\n\t\tmainCell.setBackgroundColor(DeviceGray.BLACK);\r\n\t\t\r\n\t\tfinal Table lettersTable = new Table(numCols);\r\n\t\tlettersTable.setWidth(MATRIX_WIDTH);\r\n\t\tlettersTable.setHeight(MATRIX_HEIGHT);\r\n\t\tlettersTable.setHorizontalAlignment(HorizontalAlignment.CENTER);\r\n\t\tlettersTable.setTextAlignment(TextAlignment.CENTER);\r\n\t\tlettersTable.setMargins(0.0f,0.0f,0.0f,0.0f);\r\n\t\tlettersTable.setPaddingLeft(MARGIN * DPI);\r\n\t\tlettersTable.setPaddingTop(MARGIN * DPI);\r\n\t\tfinal float cellWidth = MATRIX_WIDTH /((float)numCols) - (showGrid ? 0.2f: 0);\r\n\t\tfinal float cellHeight = MATRIX_HEIGHT /((float)numRows) - (showGrid ? 0.2f: 0);\r\n\r\n\t\tfor (final String letter : letters) {\r\n\t\t\tlettersTable.addCell(generateCell(letter, cellWidth, cellHeight, fontSize, showGrid, setMinWidth));\r\n\t\t}\r\n\r\n\t\tmainCell.add(lettersTable);\r\n        mainTable.addCell(mainCell);\r\n\t\treturn mainTable;\r\n\t}\r\n\tprivate static Cell generateCell (final String cellText, final float cellWidth, final float cellHeight, final int fontSize, final boolean showGrid, boolean setMinWidth) {\r\n\t\tfinal Cell nextCell = new Cell();\r\n\r\n\t\tfinal Paragraph p = new Paragraph()\r\n\t\t\t\t\t\t\t\t.setFontColor(DeviceGray.WHITE)\r\n\t\t\t\t\t\t\t\t.setFontSize(fontSize)\r\n\t\t\t\t\t\t\t\t.setTextAlignment(TextAlignment.CENTER)\r\n\t\t\t\t\t\t\t\t.setPaddingLeft(0.0f)\r\n\t\t\t\t\t\t\t\t.setMargins(0.0f,0.0f,0.0f,0.0f)\r\n\t\t\t\t\t\t\t\t.setCharacterSpacing(0.0f)\r\n\t\t\t\t\t\t\t\t.setWordSpacing(0.0f)\r\n\t\t\t\t\t\t\t\t.setFirstLineIndent(0.0f)\r\n\t\t\t\t\t\t\t\t.setMultipliedLeading(0.1f);\r\n\t\tp.setProperty(Property.OVERFLOW_Y, OverflowPropertyValue.VISIBLE);\r\n\t\tp.setProperty(Property.OVERFLOW_X, OverflowPropertyValue.VISIBLE);\r\n\t\tp.add(cellText);\r\n\t\tnextCell.add(p);\r\n\t\tnextCell.setMargins(0.0f,0.0f,0.0f,0.0f);\r\n\t\tnextCell.setBorder(showGrid ? new SolidBorder(DeviceRgb.RED, 0.1f) : Border.NO_BORDER);\r\n\t\tnextCell.setWidth(cellWidth);\r\n\t\tif (setMinWidth) {\r\n\t\t\tnextCell.setMinWidth(cellWidth);\r\n\t\t}\r\n\t\tnextCell.setHeight(cellHeight);\r\n\t\tnextCell.setPadding(0.0f);\r\n\t\tnextCell.setVerticalAlignment(VerticalAlignment.MIDDLE);\r\n\t\tnextCell.setHorizontalAlignment(HorizontalAlignment.CENTER);\r\n\t\treturn nextCell;\r\n\t}\r\n\r\n\tprivate static String getStr(int i) {\r\n\t\tfinal StringBuilder strB = new StringBuilder();\r\n\t\tstrB.append((char)(i + 65));\r\n\t\treturn strB.toString();\r\n\t}\r\n}\r\n```\r\n\r\nGenerated PDF samples:\r\n\r\n[![font 44 - good][1]][1]\r\n\r\n[![font 94 with min width - horizontal shift wrt to cell][2]][2]\r\n\r\n[![font 94 w/o min width - cells are too wide][3]][3]\r\n\r\n[1]: https://i.stack.imgur.com/Nu3Wr.jpg\r\n[2]: https://i.stack.imgur.com/D0ooN.jpg\r\n[3]: https://i.stack.imgur.com/ET8kq.jpg","title":"characters are shifted horizontally when using itextpdf java API to generate PDF with large font size","body":"<p>I'm trying to generate a PDF containing a grid of letters, where each letter is centered in its cell in the grid (both vertically and horizontally), see attached PDF samples\nThis works well when the font size I'm using is relatively small (44 in the attached sample) but fails for larger fonts (94 in the attached sample).</p>\n<ul>\n<li>When specifying a minimum width for the cell, the characters are horizontally shifted wrt the cell center (except for the 'I' and 'J' which still fit the cell width, note that the shift varies between letters, most notably 'A' and 'B'). see image below</li>\n<li>When the minimum width is not specified, the characters are centered wrt the cell, but these in turn are wider, causing only part of the row to be displayed. see image below</li>\n</ul>\n<p>code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.FileOutputStream;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport com.itextpdf.kernel.colors.DeviceGray;\nimport com.itextpdf.kernel.colors.DeviceRgb;\nimport com.itextpdf.kernel.geom.PageSize;\nimport com.itextpdf.kernel.pdf.PdfDocument;\nimport com.itextpdf.kernel.pdf.PdfWriter;\nimport com.itextpdf.layout.Document;\nimport com.itextpdf.layout.borders.Border;\nimport com.itextpdf.layout.borders.SolidBorder;\nimport com.itextpdf.layout.element.Cell;\nimport com.itextpdf.layout.element.Paragraph;\nimport com.itextpdf.layout.element.Table;\nimport com.itextpdf.layout.property.HorizontalAlignment;\nimport com.itextpdf.layout.property.OverflowPropertyValue;\nimport com.itextpdf.layout.property.Property;\nimport com.itextpdf.layout.property.TextAlignment;\nimport com.itextpdf.layout.property.VerticalAlignment;\n\npublic class PDFWriterTest {\n    public static final int DPI = 72;\n    public static final float PAGE_WIDTH = 19.685f;\n    public static final float PAGE_HEIGHT = 25.5906f;\n    public static final float MARGIN = 1.1811f;\n    public static final float MATRIX_WIDTH = 72 * (PAGE_WIDTH - 2 * MARGIN);\n    public static final float MATRIX_HEIGHT = 72 * (PAGE_HEIGHT - 2 * MARGIN);\n\n    public static void main(String[] args) {\n        try {\n            final int numColumns = 24;\n            final int numRows = 24;\n            final List&lt;String&gt; letters = new ArrayList&lt;String&gt;();\n            final int fontSize44 = 44;\n            final int fontSize94 = 94;\n            final boolean showGrid = true;\n            for (int i = 0; i &lt; numRows; i++) {\n                for (int j = 0; j &lt; numColumns; j++) {\n                    letters.add(getStr(i));\n                }\n            }\n            System.out.println(&quot;Writing output to: &quot; + System.getProperty(&quot;user.dir&quot;));\n            final FileOutputStream fOut44 = new FileOutputStream(&quot;./pdf_size44.pdf&quot;);\n            generatePdfDocument(numColumns, numRows, letters, fontSize44, showGrid, false, fOut44);\n            final FileOutputStream fOut44min = new FileOutputStream(&quot;./pdf_size44_min.pdf&quot;);\n            generatePdfDocument(numColumns, numRows, letters, fontSize44, showGrid, true, fOut44min);\n            final FileOutputStream fOut94 = new FileOutputStream(&quot;./pdf_size94.pdf&quot;);\n            generatePdfDocument(numColumns, numRows, letters, fontSize94, showGrid, false, fOut94);\n            final FileOutputStream fOut94min = new FileOutputStream(&quot;./pdf_size94_min.pdf&quot;);\n            generatePdfDocument(numColumns, numRows, letters, fontSize94, showGrid, true, fOut94min);\n        } catch (Exception e) {\n            System.out.println(&quot;PDF generation failed: &quot; + e.getMessage());\n        } finally {\n            System.out.println(&quot;Done&quot;);\n        }\n    }\n    public static void generatePdfDocument (final int numColumns, final int numRows, final List&lt;String&gt; letters,\n                                            final int fontSize, final boolean showGrid, final boolean setMinWidth,\n                                            final FileOutputStream fOut) throws Exception {\n        final float pageWidth = PAGE_WIDTH * DPI;\n        final float pageHeight = PAGE_HEIGHT * DPI;\n        try {\n            final PdfWriter writer = new PdfWriter(fOut);\n            final PdfDocument pdf = new PdfDocument(writer);\n            final PageSize ps = new PageSize(pageWidth, pageHeight);\n            final  Document doc = new Document(pdf, ps);\n            doc.setMargins(0f, 0f, 0f, 0f);\n            \n            final Table maskTable =\n                    generateTable(pageWidth, pageHeight, numColumns, numRows, letters, fontSize, showGrid, setMinWidth);\n            doc.add(maskTable);\n            doc.flush();\n            doc.close();\n        } finally {\n            fOut.close();\n        }\n\n    }\n    \n    public static Table generateTable (final float width, final float height, final int numCols, final int numRows,\n                                       final List&lt;String&gt; letters, final int fontSize, final boolean showGrid,\n                                       final boolean setMinWidth) {\n        final Table mainTable = new Table(1);\n        mainTable.setWidth(width);\n        mainTable.setHeight(height);\n        mainTable.setMargins(0.0f,0.0f,0.0f,0.0f);\n        mainTable.setPadding(0.0f);\n        final Cell mainCell = new Cell();\n        mainCell.setHorizontalAlignment(HorizontalAlignment.CENTER);\n        mainCell.setVerticalAlignment(VerticalAlignment.MIDDLE);\n        mainCell.setBorder(Border.NO_BORDER);\n        mainCell.setBackgroundColor(DeviceGray.BLACK);\n        \n        final Table lettersTable = new Table(numCols);\n        lettersTable.setWidth(MATRIX_WIDTH);\n        lettersTable.setHeight(MATRIX_HEIGHT);\n        lettersTable.setHorizontalAlignment(HorizontalAlignment.CENTER);\n        lettersTable.setTextAlignment(TextAlignment.CENTER);\n        lettersTable.setMargins(0.0f,0.0f,0.0f,0.0f);\n        lettersTable.setPaddingLeft(MARGIN * DPI);\n        lettersTable.setPaddingTop(MARGIN * DPI);\n        final float cellWidth = MATRIX_WIDTH /((float)numCols) - (showGrid ? 0.2f: 0);\n        final float cellHeight = MATRIX_HEIGHT /((float)numRows) - (showGrid ? 0.2f: 0);\n\n        for (final String letter : letters) {\n            lettersTable.addCell(generateCell(letter, cellWidth, cellHeight, fontSize, showGrid, setMinWidth));\n        }\n\n        mainCell.add(lettersTable);\n        mainTable.addCell(mainCell);\n        return mainTable;\n    }\n    private static Cell generateCell (final String cellText, final float cellWidth, final float cellHeight, final int fontSize, final boolean showGrid, boolean setMinWidth) {\n        final Cell nextCell = new Cell();\n\n        final Paragraph p = new Paragraph()\n                                .setFontColor(DeviceGray.WHITE)\n                                .setFontSize(fontSize)\n                                .setTextAlignment(TextAlignment.CENTER)\n                                .setPaddingLeft(0.0f)\n                                .setMargins(0.0f,0.0f,0.0f,0.0f)\n                                .setCharacterSpacing(0.0f)\n                                .setWordSpacing(0.0f)\n                                .setFirstLineIndent(0.0f)\n                                .setMultipliedLeading(0.1f);\n        p.setProperty(Property.OVERFLOW_Y, OverflowPropertyValue.VISIBLE);\n        p.setProperty(Property.OVERFLOW_X, OverflowPropertyValue.VISIBLE);\n        p.add(cellText);\n        nextCell.add(p);\n        nextCell.setMargins(0.0f,0.0f,0.0f,0.0f);\n        nextCell.setBorder(showGrid ? new SolidBorder(DeviceRgb.RED, 0.1f) : Border.NO_BORDER);\n        nextCell.setWidth(cellWidth);\n        if (setMinWidth) {\n            nextCell.setMinWidth(cellWidth);\n        }\n        nextCell.setHeight(cellHeight);\n        nextCell.setPadding(0.0f);\n        nextCell.setVerticalAlignment(VerticalAlignment.MIDDLE);\n        nextCell.setHorizontalAlignment(HorizontalAlignment.CENTER);\n        return nextCell;\n    }\n\n    private static String getStr(int i) {\n        final StringBuilder strB = new StringBuilder();\n        strB.append((char)(i + 65));\n        return strB.toString();\n    }\n}\n</code></pre>\n<p>Generated PDF samples:</p>\n<p><a href=\"https://i.stack.imgur.com/Nu3Wr.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Nu3Wr.jpg\" alt=\"font 44 - good\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/D0ooN.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D0ooN.jpg\" alt=\"font 94 with min width - horizontal shift wrt to cell\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/ET8kq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ET8kq.jpg\" alt=\"font 94 w/o min width - cells are too wide\" /></a></p>\n"},{"tags":["java","spring","postgresql","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":6740011,"reputation":46650,"user_id":5193536,"display_name":"nbk"},"score":0,"creation_date":1693256415,"post_id":76995956,"comment_id":135734091,"body_markdown":"you can not use prepared statements that way you need to use string replacement","body":"you can not use prepared statements that way you need to use string replacement"},{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1693301036,"post_id":76995956,"comment_id":135739271,"body_markdown":"The change you describe doesn&#39;t make sense to me.  Please post both queries in full","body":"The change you describe doesn&#39;t make sense to me.  Please post both queries in full"}],"owner":{"account_id":29317244,"reputation":1,"user_id":22461703,"display_name":"Kent Carmine"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693255908,"creation_date":1693255908,"question_id":76995956,"body_markdown":"I&#39;m attempting to treat some input data as a table and execute a Join on it using Hibernate. The goal is to take in 2 lists of UUIDs (as lists of Strings) that are of equal size, treat them as a table with 2 columns, where the uuid pairs are in the same order as they were in the input lists, and then join those values with another table. The query is:\r\n\r\n\r\n```\r\nvar uuidsListOne = // list of Strings\r\nvar uuidsListTwo = // list of Strings\r\n\r\nString query =\r\n    &quot;&quot;&quot;\r\n    SELECT *\r\n    FROM the_db_table AS some_table\r\n        JOIN ROWS FROM (UNNEST(ARRAY[?1], ARRAY[?2]) AS (a varchar, b varchar)) \r\n        WITH ORDINALITY AS m(first_uuid, second_uuid, idx)\r\n            ON cast(some_table.first_uuid AS uuid) = cast(m.first_uuid AS uuid) AND cast(some_table.second_uuid AS uuid) = cast(m.second_uuid AS uuid);\r\n    &quot;&quot;&quot;;\r\n\r\n    return entityManager.createNativeQuery(query)\r\n            .setParameter(1, uuidsListOne)\r\n            .setParameter(2, uuidsListTwo)\r\n            .getResultList();\r\n```\r\n\r\nThis query (and several other variations on it) runs correctly when executed directly in the PostgreSQL (v12.13) console, but fails when when run via Spring&#39;s EntityManager. I&#39;ve gotten several different errors, depending on which variation of the query I tried, but the error for this query is: \r\n`org.postgresql.util.PSQLException: ERROR: a column definition list is required for functions returning &quot;record&quot;`.\r\n\r\nIf I change the second line of the query to `JOIN ROWS FROM (UNNEST(ARRAY[?1], ARRAY[?2]) AS (a varchar, b varchar))`, then I get the error: `org.postgresql.util.PSQLException: ERROR: function unnest(record[], record[]) does not exist Hint: No function matches the given name and argument types. You might need to add explicit type casts.`\r\n\r\nAny tips on how to get this query to play nice with JPA?","title":"Resolving errors in Spring EntityManager query using Join on UNNESTed data","body":"<p>I'm attempting to treat some input data as a table and execute a Join on it using Hibernate. The goal is to take in 2 lists of UUIDs (as lists of Strings) that are of equal size, treat them as a table with 2 columns, where the uuid pairs are in the same order as they were in the input lists, and then join those values with another table. The query is:</p>\n<pre><code>var uuidsListOne = // list of Strings\nvar uuidsListTwo = // list of Strings\n\nString query =\n    &quot;&quot;&quot;\n    SELECT *\n    FROM the_db_table AS some_table\n        JOIN ROWS FROM (UNNEST(ARRAY[?1], ARRAY[?2]) AS (a varchar, b varchar)) \n        WITH ORDINALITY AS m(first_uuid, second_uuid, idx)\n            ON cast(some_table.first_uuid AS uuid) = cast(m.first_uuid AS uuid) AND cast(some_table.second_uuid AS uuid) = cast(m.second_uuid AS uuid);\n    &quot;&quot;&quot;;\n\n    return entityManager.createNativeQuery(query)\n            .setParameter(1, uuidsListOne)\n            .setParameter(2, uuidsListTwo)\n            .getResultList();\n</code></pre>\n<p>This query (and several other variations on it) runs correctly when executed directly in the PostgreSQL (v12.13) console, but fails when when run via Spring's EntityManager. I've gotten several different errors, depending on which variation of the query I tried, but the error for this query is:\n<code>org.postgresql.util.PSQLException: ERROR: a column definition list is required for functions returning &quot;record&quot;</code>.</p>\n<p>If I change the second line of the query to <code>JOIN ROWS FROM (UNNEST(ARRAY[?1], ARRAY[?2]) AS (a varchar, b varchar))</code>, then I get the error: <code>org.postgresql.util.PSQLException: ERROR: function unnest(record[], record[]) does not exist Hint: No function matches the given name and argument types. You might need to add explicit type casts.</code></p>\n<p>Any tips on how to get this query to play nice with JPA?</p>\n"},{"tags":["java","hibernate","orm","hibernate-mapping"],"owner":{"account_id":28402002,"reputation":11,"user_id":21726693,"display_name":"probox36"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693255902,"creation_date":1693252711,"question_id":76995696,"body_markdown":"I&#39;ve got an existing database containing a number of lists, e.g:\r\n\r\n- List of events:\r\n```\r\n+---------------------+-------------------------+-------------+---------------------+\r\n| date                | name                    | description | notification_needed |\r\n+---------------------+-------------------------+-------------+---------------------+\r\n| 2024-08-25 00:00:00 | It`s 25-th of August!   | NULL        |                   1 |\r\n| 2024-08-27 00:00:00 | It`s 27-th of August!   | NULL        |                   1 |\r\n| 2024-09-03 00:00:00 | It`s 3-rd of September! | NULL        |                   1 |\r\n+---------------------+-------------------------+-------------+---------------------+\r\n```\r\n- A queue of users (joined with table Users for the sake of readability):\r\n```\r\n+----------+-----------------------+---------+------------+\r\n| position | username              | status  | first_name |\r\n+----------+-----------------------+---------+------------+\r\n|        2 | tg_touch_purple       | ADMIN   | Eugene     |\r\n|        3 | tg_hands_off_the_corn | REGULAR | Carl       |\r\n|        1 | tg_glassk             | REGULAR | Joe        |\r\n+----------+-----------------------+---------+------------+\r\n```\r\n\r\nI&#39;d like to see their contents in a `HashMap&lt;LocalDate, Event&gt;` and `LinkedList&lt; User&gt;` respectively. However these two collections are not a part of some class and clearly represent self-sufficient entities, thus I can&#39;t map them with conventional collection-related annotations like `@OneToMany`. \r\n\r\nI&#39;ve tried creating a &quot;position&quot; field inside the `User` class (someting like converting one-to-many relations to many-to-one). This move noticably simplifies everything, but seems rather illogical. A &#39;date&#39; field in `Event` class looks much better, but still.\r\n\r\nCreating `Queue` and `EventDate` (?) classes to represent these tables is also an acceptable solution, but it leaves me with a basic list of Queue/EventDate, which I&#39;ll then have to manually convert to desired collections.\r\n\r\nI can always stick with using a native query, but for some reason unparametrized createNativeQuery method is now deprecated, which renders it virtually useless for this purpose. Moreover, it doesn&#39;t look as a Hibernate-like solution at all.\r\n\r\nWhat I&#39;m really looking for is a universal and automated way to load any of these collections from the database.\r\n\r\n\r\n","title":"How do I map an object representing a collection with Hibernate?","body":"<p>I've got an existing database containing a number of lists, e.g:</p>\n<ul>\n<li>List of events:</li>\n</ul>\n<pre><code>+---------------------+-------------------------+-------------+---------------------+\n| date                | name                    | description | notification_needed |\n+---------------------+-------------------------+-------------+---------------------+\n| 2024-08-25 00:00:00 | It`s 25-th of August!   | NULL        |                   1 |\n| 2024-08-27 00:00:00 | It`s 27-th of August!   | NULL        |                   1 |\n| 2024-09-03 00:00:00 | It`s 3-rd of September! | NULL        |                   1 |\n+---------------------+-------------------------+-------------+---------------------+\n</code></pre>\n<ul>\n<li>A queue of users (joined with table Users for the sake of readability):</li>\n</ul>\n<pre><code>+----------+-----------------------+---------+------------+\n| position | username              | status  | first_name |\n+----------+-----------------------+---------+------------+\n|        2 | tg_touch_purple       | ADMIN   | Eugene     |\n|        3 | tg_hands_off_the_corn | REGULAR | Carl       |\n|        1 | tg_glassk             | REGULAR | Joe        |\n+----------+-----------------------+---------+------------+\n</code></pre>\n<p>I'd like to see their contents in a <code>HashMap&lt;LocalDate, Event&gt;</code> and <code>LinkedList&lt; User&gt;</code> respectively. However these two collections are not a part of some class and clearly represent self-sufficient entities, thus I can't map them with conventional collection-related annotations like <code>@OneToMany</code>.</p>\n<p>I've tried creating a &quot;position&quot; field inside the <code>User</code> class (someting like converting one-to-many relations to many-to-one). This move noticably simplifies everything, but seems rather illogical. A 'date' field in <code>Event</code> class looks much better, but still.</p>\n<p>Creating <code>Queue</code> and <code>EventDate</code> (?) classes to represent these tables is also an acceptable solution, but it leaves me with a basic list of Queue/EventDate, which I'll then have to manually convert to desired collections.</p>\n<p>I can always stick with using a native query, but for some reason unparametrized createNativeQuery method is now deprecated, which renders it virtually useless for this purpose. Moreover, it doesn't look as a Hibernate-like solution at all.</p>\n<p>What I'm really looking for is a universal and automated way to load any of these collections from the database.</p>\n"},{"tags":["java","clone"],"comments":[{"owner":{"account_id":105525,"reputation":32628,"user_id":281545,"accept_rate":85,"display_name":"Mr_and_Mrs_D"},"score":1,"creation_date":1355666688,"post_id":2156120,"comment_id":19156547,"body_markdown":"apparently Java Deep Cloning Library moved here : code.google.com/p/cloning","body":"apparently Java Deep Cloning Library moved here : code.google.com/p/cloning"}],"answers":[{"tags":[],"owner":{"account_id":21812,"reputation":6376,"user_id":53321,"accept_rate":62,"display_name":"Dominik Sandjaja"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1264697265,"creation_date":1264697265,"answer_id":2156221,"question_id":2156120,"body_markdown":"I&#39;d recommend the DIY way which, combined with a good hashCode() and equals() method should be easy to proof in a unit test. ","title":"Java: recommended solution for deep cloning/copying an instance","body":"<p>I'd recommend the DIY way which, combined with a good hashCode() and equals() method should be easy to proof in a unit test. </p>\n"},{"tags":[],"owner":{"account_id":85022,"reputation":13917,"user_id":237321,"accept_rate":75,"display_name":"x4u"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1264697312,"creation_date":1264697312,"answer_id":2156228,"question_id":2156120,"body_markdown":"I&#39;d suggest to override Object.clone(), call super.clone() first and than call ref = ref.clone() on all references that you want to have deep copied. It&#39;s more or less *Do it yourself* approach but needs a bit less coding.","title":"Java: recommended solution for deep cloning/copying an instance","body":"<p>I'd suggest to override Object.clone(), call super.clone() first and than call ref = ref.clone() on all references that you want to have deep copied. It's more or less <em>Do it yourself</em> approach but needs a bit less coding.</p>\n"},{"tags":[],"owner":{"account_id":15923,"reputation":28380,"user_id":34161,"accept_rate":83,"display_name":"Yoni Roit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1264697509,"creation_date":1264697509,"answer_id":2156262,"question_id":2156120,"body_markdown":"Depends.\r\n\r\nFor speed, use DIY.\r\nFor bulletproof, use reflection.\r\n\r\nBTW, serialization is not the same as refl, as some objects may provide overridden serialization methods (readObject/writeObject) and they can be buggy","title":"Java: recommended solution for deep cloning/copying an instance","body":"<p>Depends.</p>\n\n<p>For speed, use DIY.\nFor bulletproof, use reflection.</p>\n\n<p>BTW, serialization is not the same as refl, as some objects may provide overridden serialization methods (readObject/writeObject) and they can be buggy</p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":169,"is_accepted":true,"score":169,"last_activity_date":1461868200,"creation_date":1264698255,"answer_id":2156367,"question_id":2156120,"body_markdown":"For deep cloning (clones the entire object hierarchy):\r\n------------------------------------------------------\r\n\r\n- &lt;a href=&quot;http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/SerializationUtils.html&quot;&gt;commons-lang SerializationUtils&lt;/a&gt; - using serialization - if all classes are in your control and you can force implementing `Serializable`.\r\n\r\n- &lt;a href=&quot;https://github.com/kostaskougios/cloning/&quot;&gt;Java Deep Cloning Library&lt;/a&gt; - using reflection - in cases when the classes or the objects you want to clone are out of your control (a 3rd party library) and you can&#39;t make them implement `Serializable`, or in cases you don&#39;t want to implement `Serializable`.\r\n\r\nFor shallow cloning (clones only the first level properties):\r\n-------------------------------------------------------------\r\n\r\n- &lt;a href=&quot;https://commons.apache.org/proper/commons-beanutils/javadocs/v1.8.3/apidocs/org/apache/commons/beanutils/BeanUtils.html#cloneBean(java.lang.Object)&quot;&gt;commons-beanutils BeanUtils&lt;/a&gt; - in most cases.\r\n\r\n- &lt;a href=&quot;http://static.springsource.org/spring/docs/2.5.6/api/org/springframework/beans/BeanUtils.html&quot;&gt;Spring BeanUtils&lt;/a&gt; - if you are already using spring and hence have this utility on the classpath.\r\n\r\n\r\nI deliberately omitted the &quot;do-it-yourself&quot; option - the API&#39;s above provide a good control over what to and what not to clone (for example using `transient`, or `String[] ignoreProperties`), so reinventing the wheel isn&#39;t preferred.","title":"Java: recommended solution for deep cloning/copying an instance","body":"<h2>For deep cloning (clones the entire object hierarchy):</h2>\n\n<ul>\n<li><p><a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/SerializationUtils.html\" rel=\"noreferrer\">commons-lang SerializationUtils</a> - using serialization - if all classes are in your control and you can force implementing <code>Serializable</code>.</p></li>\n<li><p><a href=\"https://github.com/kostaskougios/cloning/\" rel=\"noreferrer\">Java Deep Cloning Library</a> - using reflection - in cases when the classes or the objects you want to clone are out of your control (a 3rd party library) and you can't make them implement <code>Serializable</code>, or in cases you don't want to implement <code>Serializable</code>.</p></li>\n</ul>\n\n<h2>For shallow cloning (clones only the first level properties):</h2>\n\n<ul>\n<li><p><a href=\"https://commons.apache.org/proper/commons-beanutils/javadocs/v1.8.3/apidocs/org/apache/commons/beanutils/BeanUtils.html#cloneBean(java.lang.Object)\" rel=\"noreferrer\">commons-beanutils BeanUtils</a> - in most cases.</p></li>\n<li><p><a href=\"http://static.springsource.org/spring/docs/2.5.6/api/org/springframework/beans/BeanUtils.html\" rel=\"noreferrer\">Spring BeanUtils</a> - if you are already using spring and hence have this utility on the classpath.</p></li>\n</ul>\n\n<p>I deliberately omitted the \"do-it-yourself\" option - the API's above provide a good control over what to and what not to clone (for example using <code>transient</code>, or <code>String[] ignoreProperties</code>), so reinventing the wheel isn't preferred.</p>\n"},{"tags":[],"owner":{"account_id":33754,"reputation":3591,"user_id":94777,"accept_rate":100,"display_name":"LeWoody"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1264717768,"creation_date":1264717768,"answer_id":2158486,"question_id":2156120,"body_markdown":"Joshua Bloch&#39;s book has a whole chapter entitled [&quot;Item 10: Override Clone Judiciously&quot;][1] in which he goes into why overriding clone for the most part is a bad idea because the Java spec for it creates many problems.  \r\n\r\nHe provides a few alternatives:\r\n\r\n - Use a factory pattern in place of a constructor:\r\n       \r\n\r\n             public static Yum newInstance(Yum yum);\r\n\r\n - Use a copy constructor:\r\n\r\n             public Yum(Yum yum);\r\n\r\nAll of the collection classes in Java support the copy constructor (e.g. new ArrayList(l);)\r\n\r\n\r\n  [1]: http://books.google.com/books?id=ZZOiqZQIbRMC&amp;printsec=frontcover&amp;dq=joshua+bloch&amp;source=bl&amp;ots=UZQ-9niM1_&amp;sig=p0iqb2fz1_8QQHnLGs8uNE24vH8&amp;hl=en&amp;ei=6A9iS9P2M8vJlQeGs63BBQ&amp;sa=X&amp;oi=book_result&amp;ct=result&amp;resnum=3&amp;ved=0CBIQ6AEwAg#v=onepage&amp;q=clone&amp;f=false","title":"Java: recommended solution for deep cloning/copying an instance","body":"<p>Joshua Bloch's book has a whole chapter entitled <a href=\"http://books.google.com/books?id=ZZOiqZQIbRMC&amp;printsec=frontcover&amp;dq=joshua+bloch&amp;source=bl&amp;ots=UZQ-9niM1_&amp;sig=p0iqb2fz1_8QQHnLGs8uNE24vH8&amp;hl=en&amp;ei=6A9iS9P2M8vJlQeGs63BBQ&amp;sa=X&amp;oi=book_result&amp;ct=result&amp;resnum=3&amp;ved=0CBIQ6AEwAg#v=onepage&amp;q=clone&amp;f=false\" rel=\"noreferrer\">\"Item 10: Override Clone Judiciously\"</a> in which he goes into why overriding clone for the most part is a bad idea because the Java spec for it creates many problems.  </p>\n\n<p>He provides a few alternatives:</p>\n\n<ul>\n<li><p>Use a factory pattern in place of a constructor:</p>\n\n<pre><code>     public static Yum newInstance(Yum yum);\n</code></pre></li>\n<li><p>Use a copy constructor:</p>\n\n<pre><code>     public Yum(Yum yum);\n</code></pre></li>\n</ul>\n\n<p>All of the collection classes in Java support the copy constructor (e.g. new ArrayList(l);)</p>\n"},{"tags":[],"owner":{"account_id":2078312,"reputation":16240,"user_id":1851024,"accept_rate":82,"display_name":"Andrey Chaschev"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1385116176,"creation_date":1385116176,"answer_id":20142594,"question_id":2156120,"body_markdown":"Since version 2.07 [Kryo supports shallow/deep cloning][1]:\r\n\r\n    Kryo kryo = new Kryo();\r\n    SomeClass someObject = ...\r\n    SomeClass copy1 = kryo.copy(someObject);\r\n    SomeClass copy2 = kryo.copyShallow(someObject);\r\n\r\nKryo is fast, at the and of their page you may find a list of companies which use it in production.\r\n\r\n\r\n  [1]: https://github.com/EsotericSoftware/kryo#copyingcloning","title":"Java: recommended solution for deep cloning/copying an instance","body":"<p>Since version 2.07 <a href=\"https://github.com/EsotericSoftware/kryo#copyingcloning\" rel=\"noreferrer\">Kryo supports shallow/deep cloning</a>:</p>\n\n<pre><code>Kryo kryo = new Kryo();\nSomeClass someObject = ...\nSomeClass copy1 = kryo.copy(someObject);\nSomeClass copy2 = kryo.copyShallow(someObject);\n</code></pre>\n\n<p>Kryo is fast, at the and of their page you may find a list of companies which use it in production.</p>\n"},{"tags":[],"owner":{"account_id":6694620,"reputation":51,"user_id":5163006,"display_name":"Ranx"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1438053495,"creation_date":1438051580,"answer_id":31666547,"question_id":2156120,"body_markdown":"Use XStream toXML/fromXML in memory.  Extremely fast and has been around for a long time and is going strong. Objects don&#39;t need to be Serializable and you don&#39;t have use reflection (although XStream does).  XStream can discern variables that point to the same object and not accidentally make two full copies of the instance. A lot of details like that have been hammered out over the years.  I&#39;ve used it for a number of years and it is a go to. It&#39;s about as easy to use as you can imagine.\r\n\r\n    new XStream().toXML(myObj)\r\n\r\nor\r\n\r\n    new XStream().fromXML(myXML)\r\n\r\nTo clone,\r\n\r\n    new XStream().fromXML(new XStream().toXML(myObj))\r\n\r\nMore succinctly:\r\n\r\n    XStream x = new XStream();\r\n    Object myClone = x.fromXML(x.toXML(myObj));","title":"Java: recommended solution for deep cloning/copying an instance","body":"<p>Use XStream toXML/fromXML in memory.  Extremely fast and has been around for a long time and is going strong. Objects don't need to be Serializable and you don't have use reflection (although XStream does).  XStream can discern variables that point to the same object and not accidentally make two full copies of the instance. A lot of details like that have been hammered out over the years.  I've used it for a number of years and it is a go to. It's about as easy to use as you can imagine.</p>\n\n<pre><code>new XStream().toXML(myObj)\n</code></pre>\n\n<p>or</p>\n\n<pre><code>new XStream().fromXML(myXML)\n</code></pre>\n\n<p>To clone,</p>\n\n<pre><code>new XStream().fromXML(new XStream().toXML(myObj))\n</code></pre>\n\n<p>More succinctly:</p>\n\n<pre><code>XStream x = new XStream();\nObject myClone = x.fromXML(x.toXML(myObj));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":104821,"reputation":8403,"user_id":280041,"accept_rate":84,"display_name":"zeroboo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1480406354,"creation_date":1480406354,"answer_id":40860572,"question_id":2156120,"body_markdown":"For complicated objects and when performance is not significant i use [gson][1]\r\n  [1]: https://github.com/google/gson\r\nto serialize the object to json text, then deserialize the text to get new object.\r\n    \r\ngson which based on reflection will works in most cases, except that `transient` fields will not be copied and objects with circular reference with cause `StackOverflowError`.\r\n\r\n    public static &lt;ObjectType&gt; ObjectType Copy(ObjectType AnObject, Class&lt;ObjectType&gt; ClassInfo)\r\n    {\r\n        Gson gson = new GsonBuilder().create();\r\n        String text = gson.toJson(AnObject);\r\n        ObjectType newObject = gson.fromJson(text, ClassInfo);\r\n        return newObject;\r\n    }\r\n\tpublic static void main(String[] args)\r\n    {\r\n        MyObject anObject ...\r\n        MyObject copyObject = Copy(o, MyObject.class);\r\n        \r\n    }","title":"Java: recommended solution for deep cloning/copying an instance","body":"<p>For complicated objects and when performance is not significant i use <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">gson</a>\nto serialize the object to json text, then deserialize the text to get new object.</p>\n\n<p>gson which based on reflection will works in most cases, except that <code>transient</code> fields will not be copied and objects with circular reference with cause <code>StackOverflowError</code>.</p>\n\n<pre><code>public static &lt;ObjectType&gt; ObjectType Copy(ObjectType AnObject, Class&lt;ObjectType&gt; ClassInfo)\n{\n    Gson gson = new GsonBuilder().create();\n    String text = gson.toJson(AnObject);\n    ObjectType newObject = gson.fromJson(text, ClassInfo);\n    return newObject;\n}\npublic static void main(String[] args)\n{\n    MyObject anObject ...\n    MyObject copyObject = Copy(o, MyObject.class);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3193072,"reputation":408,"user_id":2696918,"display_name":"Alexander Maslew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588348702,"creation_date":1588348702,"answer_id":61546041,"question_id":2156120,"body_markdown":"For deep cloning implement Serializable on every class you want to clone like this\r\n\r\n    public static class Obj implements Serializable {\r\n        public int a, b;\r\n        public Obj(int a, int b) {\r\n            this.a = a;\r\n            this.b = b;\r\n        }\r\n    }\r\n\r\nAnd then use this function:\r\n\r\n    public static Object deepClone(Object object) {\r\n        try {\r\n            ByteArrayOutputStream baOs = new ByteArrayOutputStream();\r\n            ObjectOutputStream oOs = new ObjectOutputStream(baOs);\r\n            oOs.writeObject(object);\r\n            ByteArrayInputStream baIs = new ByteArrayInputStream(baOs.toByteArray());\r\n            ObjectInputStream oIs = new ObjectInputStream(baIs);\r\n            return oIs.readObject();\r\n        }\r\n        catch (Exception e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n\r\nlike this: `Obj newObject = (Obj)deepClone(oldObject);` ","title":"Java: recommended solution for deep cloning/copying an instance","body":"<p>For deep cloning implement Serializable on every class you want to clone like this</p>\n\n<pre><code>public static class Obj implements Serializable {\n    public int a, b;\n    public Obj(int a, int b) {\n        this.a = a;\n        this.b = b;\n    }\n}\n</code></pre>\n\n<p>And then use this function:</p>\n\n<pre><code>public static Object deepClone(Object object) {\n    try {\n        ByteArrayOutputStream baOs = new ByteArrayOutputStream();\n        ObjectOutputStream oOs = new ObjectOutputStream(baOs);\n        oOs.writeObject(object);\n        ByteArrayInputStream baIs = new ByteArrayInputStream(baOs.toByteArray());\n        ObjectInputStream oIs = new ObjectInputStream(baIs);\n        return oIs.readObject();\n    }\n    catch (Exception e) {\n        e.printStackTrace();\n        return null;\n    }\n}\n</code></pre>\n\n<p>like this: <code>Obj newObject = (Obj)deepClone(oldObject);</code> </p>\n"},{"tags":[],"owner":{"account_id":9228005,"reputation":121,"user_id":6855139,"display_name":"Zdenek Jonas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659010629,"creation_date":1659010629,"answer_id":73152774,"question_id":2156120,"body_markdown":"Just use MicroStream Object Copier.\r\n\r\n    ObjectCopier objectCopier = ObjectCopier.New();\r\n    Customer customer = root.getCustomer(id);\r\n    Customer customerCopy = objectCopier.copy(customer);\r\n\r\nThis utility provides the full deep copy of any object graph in Java. Be careful of the cyclic references. You can easily make o copy of your whole memory graph.\r\n\r\nhttps://docs.microstream.one/manual/storage/storing-data/deep-copy.html","title":"Java: recommended solution for deep cloning/copying an instance","body":"<p>Just use MicroStream Object Copier.</p>\n<pre><code>ObjectCopier objectCopier = ObjectCopier.New();\nCustomer customer = root.getCustomer(id);\nCustomer customerCopy = objectCopier.copy(customer);\n</code></pre>\n<p>This utility provides the full deep copy of any object graph in Java. Be careful of the cyclic references. You can easily make o copy of your whole memory graph.</p>\n<p><a href=\"https://docs.microstream.one/manual/storage/storing-data/deep-copy.html\" rel=\"nofollow noreferrer\">https://docs.microstream.one/manual/storage/storing-data/deep-copy.html</a></p>\n"},{"tags":[],"owner":{"account_id":29315054,"reputation":21,"user_id":22460001,"display_name":"rizkovs1149"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693255554,"creation_date":1693255554,"answer_id":76995925,"question_id":2156120,"body_markdown":"Take a look to [sugar-cubes-cloner](https://github.com/sugar-cubes/sugar-cubes-cloner) library. It is very fast and well documented. It also allows the developer to configure the cloning process very flexible on the level of classes, fields and objects. ","title":"Java: recommended solution for deep cloning/copying an instance","body":"<p>Take a look to <a href=\"https://github.com/sugar-cubes/sugar-cubes-cloner\" rel=\"nofollow noreferrer\">sugar-cubes-cloner</a> library. It is very fast and well documented. It also allows the developer to configure the cloning process very flexible on the level of classes, fields and objects.</p>\n"}],"owner":{"account_id":81003,"reputation":5487,"user_id":228689,"accept_rate":84,"display_name":"Guillaume"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158887,"favorite_count":0,"down_vote_count":0,"up_vote_count":194,"accepted_answer_id":2156367,"answer_count":11,"score":194,"last_activity_date":1693255554,"creation_date":1264696475,"question_id":2156120,"body_markdown":"I&#39;m wondering if there is a recommended way of doing deep clone/copy of instance in java.\r\n\r\nI have 3 solutions in mind, but I can have miss some,  and I&#39;d like to have your opinion\r\n\r\nedit: include Bohzo propositon and refine question: it&#39;s more about deep cloning than shallow cloning.\r\n\r\nDo it yourself:\r\n---------------\r\ncode the clone by hand properties after properties and check that mutable instances are cloned too.   \r\n**pro:**  \r\n- control of what will be performed  \r\n- quick execution  \r\n**cons:**   \r\n- tedious to write and maintain  \r\n- bug prone (copy/paste failure, missing property, reassigned mutable property) \r\n\r\nUse reflection:\r\n---------------\r\nWith your own reflection tools or with an external helper (like jakarta common-beans) it is easy to write a generic copy method that will do the job in one line.  \r\n**pro:**  \r\n- easy to write  \r\n- no maintenance  \r\n**cons:**  \r\n- less control of what happens  \r\n- bug prone with mutable object if the reflection tool does not clone sub objects too  \r\n- slower execution\r\n\r\nUse clone framework:\r\n-------------------\r\nUse a framework that do it for you, like :  \r\n[commons-lang SerializationUtils][1]  \r\n[Java Deep Cloning Library][2]  \r\n[Dozer][3]  \r\n[Kryo][4]\r\n\r\n**pro:**  \r\n- same as reflection   \r\n- more control over what will be exactly be cloned.  \r\n**cons:**   \r\n- every mutable instance is fully cloned, even at the end of the hierarchy   \r\n- could be very slow to execute\r\n\r\nUse bytecode instrumentation to write clone at runtime\r\n------------------------------------------------------\r\n[javassit][5], [BCEL][6] or [cglib][7] might be use to generate a dedicated cloner as fast as one hand writed. Someone knows a lib using one of these tools for this purpose ?\r\n\r\nWhat I have missed here ?  \r\nWhich one would you recommend ?\r\n\r\nThanks.\r\n \r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/javadocs/api-3.0.1/org/apache/commons/lang3/SerializationUtils.html\r\n  [2]: https://github.com/kostaskougios/cloning\r\n  [3]: http://dozer.sourceforge.net/documentation/about.html\r\n  [4]: https://github.com/EsotericSoftware/kryo\r\n  [5]: http://www.jboss.org/javassist\r\n  [6]: http://jakarta.apache.org/bcel/index.html\r\n  [7]: http://cglib.sourceforge.net/","title":"Java: recommended solution for deep cloning/copying an instance","body":"<p>I'm wondering if there is a recommended way of doing deep clone/copy of instance in java.</p>\n\n<p>I have 3 solutions in mind, but I can have miss some,  and I'd like to have your opinion</p>\n\n<p>edit: include Bohzo propositon and refine question: it's more about deep cloning than shallow cloning.</p>\n\n<h2>Do it yourself:</h2>\n\n<p>code the clone by hand properties after properties and check that mutable instances are cloned too.<br>\n<strong>pro:</strong><br>\n- control of what will be performed<br>\n- quick execution<br>\n<strong>cons:</strong><br>\n- tedious to write and maintain<br>\n- bug prone (copy/paste failure, missing property, reassigned mutable property) </p>\n\n<h2>Use reflection:</h2>\n\n<p>With your own reflection tools or with an external helper (like jakarta common-beans) it is easy to write a generic copy method that will do the job in one line.<br>\n<strong>pro:</strong><br>\n- easy to write<br>\n- no maintenance<br>\n<strong>cons:</strong><br>\n- less control of what happens<br>\n- bug prone with mutable object if the reflection tool does not clone sub objects too<br>\n- slower execution</p>\n\n<h2>Use clone framework:</h2>\n\n<p>Use a framework that do it for you, like :<br>\n<a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-3.0.1/org/apache/commons/lang3/SerializationUtils.html\" rel=\"noreferrer\">commons-lang SerializationUtils</a><br>\n<a href=\"https://github.com/kostaskougios/cloning\" rel=\"noreferrer\">Java Deep Cloning Library</a><br>\n<a href=\"http://dozer.sourceforge.net/documentation/about.html\" rel=\"noreferrer\">Dozer</a><br>\n<a href=\"https://github.com/EsotericSoftware/kryo\" rel=\"noreferrer\">Kryo</a></p>\n\n<p><strong>pro:</strong><br>\n- same as reflection<br>\n- more control over what will be exactly be cloned.<br>\n<strong>cons:</strong><br>\n- every mutable instance is fully cloned, even at the end of the hierarchy<br>\n- could be very slow to execute</p>\n\n<h2>Use bytecode instrumentation to write clone at runtime</h2>\n\n<p><a href=\"http://www.jboss.org/javassist\" rel=\"noreferrer\">javassit</a>, <a href=\"http://jakarta.apache.org/bcel/index.html\" rel=\"noreferrer\">BCEL</a> or <a href=\"http://cglib.sourceforge.net/\" rel=\"noreferrer\">cglib</a> might be use to generate a dedicated cloner as fast as one hand writed. Someone knows a lib using one of these tools for this purpose ?</p>\n\n<p>What I have missed here ?<br>\nWhich one would you recommend ?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","jdbc"],"answers":[{"tags":[],"owner":{"account_id":2617694,"reputation":1456,"user_id":2266428,"accept_rate":57,"display_name":"J E Carter II"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1506092963,"creation_date":1506092963,"answer_id":46367894,"question_id":46367851,"body_markdown":"According to [this KB article on IBM][1], the problem comes from the MANIFEST, which lists pdq.jar, a third party optimization tool.\r\n\r\n\r\n  [1]: https://developer.ibm.com/answers/questions/308105/exception-in-db2-jcc-driver-under-tomcat8.html\r\n\r\nI had both db2jcc4.jar and db2jcc4.10.1.jar in my lib folder.  \r\n\r\nWhile the article suggests editing the MANIFEST file in db2jcc4.jar, version 10.1 does not include this entry at all.  \r\n\r\nRemoving db2jcc4.jar solved my problem, so a solution in this case could also be to upgrade db2jcc4 from an older version to version 10.1, or if that is not possible, edit the manifest file as instructed.","title":"What causes FileNotFoundException: ...pdq.jar with db2jcc4?","body":"<p>According to <a href=\"https://developer.ibm.com/answers/questions/308105/exception-in-db2-jcc-driver-under-tomcat8.html\" rel=\"noreferrer\">this KB article on IBM</a>, the problem comes from the MANIFEST, which lists pdq.jar, a third party optimization tool.</p>\n\n<p>I had both db2jcc4.jar and db2jcc4.10.1.jar in my lib folder.  </p>\n\n<p>While the article suggests editing the MANIFEST file in db2jcc4.jar, version 10.1 does not include this entry at all.  </p>\n\n<p>Removing db2jcc4.jar solved my problem, so a solution in this case could also be to upgrade db2jcc4 from an older version to version 10.1, or if that is not possible, edit the manifest file as instructed.</p>\n"},{"tags":[],"owner":{"account_id":163732,"reputation":1707,"user_id":386064,"accept_rate":40,"display_name":"Ahmed Salem"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1533371831,"creation_date":1533371831,"answer_id":51683892,"question_id":46367851,"body_markdown":"You Just need to update jar db2jcc4.jar to be db2jcc4-10.1.jar\r\n\r\nYou can find maven dependency / Jar on that [link][1]\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.ibm.db2.jcc/db2jcc4/10.1","title":"What causes FileNotFoundException: ...pdq.jar with db2jcc4?","body":"<p>You Just need to update jar db2jcc4.jar to be db2jcc4-10.1.jar</p>\n\n<p>You can find maven dependency / Jar on that <a href=\"https://mvnrepository.com/artifact/com.ibm.db2.jcc/db2jcc4/10.1\" rel=\"nofollow noreferrer\">link</a></p>\n"},{"tags":[],"owner":{"account_id":379152,"reputation":3080,"user_id":732328,"accept_rate":40,"display_name":"Kayvan Tehrani"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1550300940,"creation_date":1543307823,"answer_id":53495594,"question_id":46367851,"body_markdown":"This might happen in the newer versions of Db2 jcc driver:\r\n\r\n&gt; Beginning with version 4.16 of the IBM Data Server Driver for JDBC and SQLJ, which is shipped with Db2 10.5 on Linux, UNIX, or Windows operating systems, the MANIFEST.MF file for db2jcc4.jar contains a reference to pdq.jar.\r\n\r\n[IBM Support][1]  offers 2 options:\r\n\r\n&gt; Resolving the problem\r\nTo prevent the java.io.FileNotFoundException, you can take one of the following actions: \r\n\r\n&gt;   - Edit the MANIFEST.MF file, and remove this line: Class-Path: pdq.jar  \r\n\r\n\r\n&gt;   - Edit the **context.xml** file for Apache Tomcat, and add an entry like the following one to set the value of scanClassPath to false.           \r\n\r\n\r\nPersonally, I prefer the second approach, which can be done as following:\r\n\r\n    &lt;Context&gt;\r\n       ...\r\n       &lt;JarScanner  scanClassPath=&quot;false&quot; /&gt;\r\n       ...\r\n    &lt;/Context&gt;\r\n             \r\n\r\n\r\n\r\n  [1]: http://www-01.ibm.com/support/docview.wss?uid=swg22016139","title":"What causes FileNotFoundException: ...pdq.jar with db2jcc4?","body":"<p>This might happen in the newer versions of Db2 jcc driver:</p>\n\n<blockquote>\n  <p>Beginning with version 4.16 of the IBM Data Server Driver for JDBC and SQLJ, which is shipped with Db2 10.5 on Linux, UNIX, or Windows operating systems, the MANIFEST.MF file for db2jcc4.jar contains a reference to pdq.jar.</p>\n</blockquote>\n\n<p><a href=\"http://www-01.ibm.com/support/docview.wss?uid=swg22016139\" rel=\"noreferrer\">IBM Support</a>  offers 2 options:</p>\n\n<blockquote>\n  <p>Resolving the problem\n  To prevent the java.io.FileNotFoundException, you can take one of the following actions: </p>\n  \n  <ul>\n  <li><p>Edit the MANIFEST.MF file, and remove this line: Class-Path: pdq.jar  </p></li>\n  <li><p>Edit the <strong>context.xml</strong> file for Apache Tomcat, and add an entry like the following one to set the value of scanClassPath to false.           </p></li>\n  </ul>\n</blockquote>\n\n<p>Personally, I prefer the second approach, which can be done as following:</p>\n\n<pre><code>&lt;Context&gt;\n   ...\n   &lt;JarScanner  scanClassPath=\"false\" /&gt;\n   ...\n&lt;/Context&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2044187,"reputation":1724,"user_id":1824669,"display_name":"Claus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554489662,"creation_date":1554489662,"answer_id":55541583,"question_id":46367851,"body_markdown":"[Kayvan Tehrani&#39;s answer][1] explains what&#39;s going on here and that this error can be ignored.\r\n\r\nAnother alternative to clean up the logs is to create a dummy pdq.jar and place it into tomcat&#39;s lib folder.\r\n\r\n    jar -cf pdq.jar &quot;&quot;\r\n\r\n(The &quot;: no such file or directory&quot; message from this command is expected.)\r\n\r\n  [1]: https://stackoverflow.com/a/53495594/1824669","title":"What causes FileNotFoundException: ...pdq.jar with db2jcc4?","body":"<p><a href=\"https://stackoverflow.com/a/53495594/1824669\">Kayvan Tehrani's answer</a> explains what's going on here and that this error can be ignored.</p>\n\n<p>Another alternative to clean up the logs is to create a dummy pdq.jar and place it into tomcat's lib folder.</p>\n\n<pre><code>jar -cf pdq.jar \"\"\n</code></pre>\n\n<p>(The \": no such file or directory\" message from this command is expected.)</p>\n"}],"owner":{"account_id":2617694,"reputation":1456,"user_id":2266428,"accept_rate":57,"display_name":"J E Carter II"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20309,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":46367894,"answer_count":4,"score":9,"last_activity_date":1693255545,"creation_date":1506092803,"question_id":46367851,"body_markdown":"When adding db2jcc4.jar to the system class path, Tomcat 8.0 raises a FileNotFoundException on a jar file that has no apparent reference to my project, pdq.jar.  \r\n\r\nI couldn&#39;t find it anywhere on my system or where it might come from, except through a search which turned up the answer below.\r\n\r\nIn this case, I have my CATALINA_HOME pointed to C:\\tomcat8.0\\apache-tomcat-8.0.41 and my project has the following maven dependency defined:\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.ibm.db2.jcc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;db2jcc4&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;10.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;system&lt;/scope&gt;\r\n        \t&lt;systemPath&gt;${env.CATALINA_HOME}/lib/db2jcc4-10.1.jar&lt;/systemPath&gt;\r\n\t&lt;/dependency&gt;","title":"What causes FileNotFoundException: ...pdq.jar with db2jcc4?","body":"<p>When adding db2jcc4.jar to the system class path, Tomcat 8.0 raises a FileNotFoundException on a jar file that has no apparent reference to my project, pdq.jar.  </p>\n\n<p>I couldn't find it anywhere on my system or where it might come from, except through a search which turned up the answer below.</p>\n\n<p>In this case, I have my CATALINA_HOME pointed to C:\\tomcat8.0\\apache-tomcat-8.0.41 and my project has the following maven dependency defined:</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.ibm.db2.jcc&lt;/groupId&gt;\n        &lt;artifactId&gt;db2jcc4&lt;/artifactId&gt;\n        &lt;version&gt;10.1&lt;/version&gt;\n        &lt;scope&gt;system&lt;/scope&gt;\n        &lt;systemPath&gt;${env.CATALINA_HOME}/lib/db2jcc4-10.1.jar&lt;/systemPath&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","maven","http","post"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1693316899,"post_id":76995851,"comment_id":135742527,"body_markdown":"According to documentation you can only use POST or PUT. https://docs.jboss.org/jberet/latest/javadoc/jberet-support/org/jberet/support/io/RestItemReaderWriterBase.html#httpMethod","body":"According to documentation you can only use POST or PUT. <a href=\"https://docs.jboss.org/jberet/latest/javadoc/jberet-support/org/jberet/support/io/RestItemReaderWriterBase.html#httpMethod\" rel=\"nofollow noreferrer\">docs.jboss.org/jberet/latest/javadoc/jberet-support/org/jber&zwnj;&#8203;et/&hellip;</a>"},{"owner":{"account_id":26604654,"reputation":103,"user_id":20225739,"display_name":"Theri Muthu Selvam"},"score":0,"creation_date":1693650254,"post_id":76995851,"comment_id":135790758,"body_markdown":"is there any other way to make the patch call by adding any dependencies in my project?","body":"is there any other way to make the patch call by adding any dependencies in my project?"}],"owner":{"account_id":26604654,"reputation":103,"user_id":20225739,"display_name":"Theri Muthu Selvam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693254681,"creation_date":1693254681,"question_id":76995851,"body_markdown":"I have a requirement to create a batch process that runs through 80,000+ records and stores it in a new DB via a patch request.\r\n\r\nI can create an ItemReader with FlatFileReader and I created a CustomeProcessor by implementing the ItemProcessor but not sure how to do a RestItemWriter with patch request.\r\n\r\nI found a difficulty in that I&#39;m unable to make a patch call with RestTemplate.\r\n\r\nCould someone please help me with the RestItemWriter implementation?\r\n\r\nI tried creating the RestItemWriter but not sure how to make the patch request from it.","title":"How to configure a RestItemWriter to progress a patch request in Spring Boot Starter Batch?","body":"<p>I have a requirement to create a batch process that runs through 80,000+ records and stores it in a new DB via a patch request.</p>\n<p>I can create an ItemReader with FlatFileReader and I created a CustomeProcessor by implementing the ItemProcessor but not sure how to do a RestItemWriter with patch request.</p>\n<p>I found a difficulty in that I'm unable to make a patch call with RestTemplate.</p>\n<p>Could someone please help me with the RestItemWriter implementation?</p>\n<p>I tried creating the RestItemWriter but not sure how to make the patch request from it.</p>\n"},{"tags":["java","junit","junit5"],"comments":[{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":1,"creation_date":1693203567,"post_id":76990202,"comment_id":135723939,"body_markdown":"It would be helpful if you provided a code snippet of the part of the code that expects user input. There might be several ways to achieve it depending on your implementation.","body":"It would be helpful if you provided a code snippet of the part of the code that expects user input. There might be several ways to achieve it depending on your implementation."},{"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"score":0,"creation_date":1693205102,"post_id":76990202,"comment_id":135724180,"body_markdown":"Personally, I&#39;d just put the console based IO behind an abstraction and use a fake version of that abstraction for testing. But yes, show code and it&#39;d be easier to understand your situation.","body":"Personally, I&#39;d just put the console based IO behind an abstraction and use a fake version of that abstraction for testing. But yes, show code and it&#39;d be easier to understand your situation."},{"owner":{"account_id":20262101,"reputation":11,"user_id":14860214,"display_name":"AB-san"},"score":0,"creation_date":1693254150,"post_id":76990202,"comment_id":135733740,"body_markdown":"I have edited my question and added the code\ncan you please suggest me a way how can i configure the system property variables properly  @ODDminus1","body":"I have edited my question and added the code can you please suggest me a way how can i configure the system property variables properly  @ODDminus1"}],"owner":{"account_id":20262101,"reputation":11,"user_id":14860214,"display_name":"AB-san"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693254112,"creation_date":1693200458,"question_id":76990202,"body_markdown":"I am not able to take user input data for dynamic test cases.\r\n\r\npom.xml\r\n```&lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.22.2&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;systemPropertyVariables&gt;\r\n                    &lt;propertyName&gt;link&lt;/propertyName&gt;\r\n                    &lt;propertyName&gt;buid&lt;/propertyName&gt;\r\n                    &lt;propertyName&gt;adminId&lt;/propertyName&gt;\r\n                    &lt;propertyName&gt;token&lt;/propertyName&gt;\r\n                &lt;/systemPropertyVariables&gt;\r\n                &lt;useSystemClassLoader&gt;false&lt;/useSystemClassLoader&gt;\r\n                &lt;suiteXmlFiles&gt;\r\n                    &lt;suiteXmlFile&gt;./testng/MasterSuite.xml&lt;/suiteXmlFile&gt;\r\n                &lt;/suiteXmlFiles&gt;\r\n                &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\r\n                &lt;!--&lt;properties&gt;\r\n                    &lt;property&gt;\r\n                        &lt;name&gt;reporter&lt;/name&gt;\r\n                        &lt;value&gt;\r\n                            org.junit.jupiter.\r\n                        &lt;/value&gt;\r\n                    &lt;/property&gt;\r\n                &lt;/properties&gt;--&gt;\r\n                &lt;argLine&gt;\r\n                    -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\r\n                &lt;/argLine&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.9.5&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n ```\r\nTest.java\r\n```\r\nSystem.setProperty(&quot;link&quot;, &quot;val&quot;);\r\n        System.setProperty(&quot;buid&quot;, &quot;val1&quot;);\r\n        System.setProperty(&quot;adminId&quot;, &quot;val2&quot;);\r\n        System.setProperty(&quot;token&quot;, &quot;val3&quot;);\r\n        log.info(System.getProperty(&quot;link&quot;));\r\n        log.info(System.getProperty(&quot;buid&quot;));\r\n        log.info(System.getProperty(&quot;adminId&quot;));\r\n        log.info(System.getProperty(&quot;token&quot;));\r\n```\r\nSo I have have used junit5 in my project to create dynamic test cases (with the help of @TestFactory) but I came with a problem of taking user input as just an entry point for my dynamic test cases.\r\nPlease suggest a way to achieve that, I also tried using @ParameterizedTests alongwith @TestFactory but sadly the @ParameterizedTest annotation is not supported with a @TestFactory method.\r\nI also have tried to normally take input using Scanner class but that also doesnt work.\r\nI expected to get the userinput data either from command line or simply pass the input data from a xml file as an parameter ","title":"Take user input for dynamic test cases in junit5","body":"<p>I am not able to take user input data for dynamic test cases.</p>\n<p>pom.xml</p>\n<pre><code>    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.22.2&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;systemPropertyVariables&gt;\n                    &lt;propertyName&gt;link&lt;/propertyName&gt;\n                    &lt;propertyName&gt;buid&lt;/propertyName&gt;\n                    &lt;propertyName&gt;adminId&lt;/propertyName&gt;\n                    &lt;propertyName&gt;token&lt;/propertyName&gt;\n                &lt;/systemPropertyVariables&gt;\n                &lt;useSystemClassLoader&gt;false&lt;/useSystemClassLoader&gt;\n                &lt;suiteXmlFiles&gt;\n                    &lt;suiteXmlFile&gt;./testng/MasterSuite.xml&lt;/suiteXmlFile&gt;\n                &lt;/suiteXmlFiles&gt;\n                &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\n                &lt;!--&lt;properties&gt;\n                    &lt;property&gt;\n                        &lt;name&gt;reporter&lt;/name&gt;\n                        &lt;value&gt;\n                            org.junit.jupiter.\n                        &lt;/value&gt;\n                    &lt;/property&gt;\n                &lt;/properties&gt;--&gt;\n                &lt;argLine&gt;\n                    -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\n                &lt;/argLine&gt;\n            &lt;/configuration&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                    &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n                    &lt;version&gt;1.9.5&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Test.java</p>\n<pre><code>System.setProperty(&quot;link&quot;, &quot;val&quot;);\n        System.setProperty(&quot;buid&quot;, &quot;val1&quot;);\n        System.setProperty(&quot;adminId&quot;, &quot;val2&quot;);\n        System.setProperty(&quot;token&quot;, &quot;val3&quot;);\n        log.info(System.getProperty(&quot;link&quot;));\n        log.info(System.getProperty(&quot;buid&quot;));\n        log.info(System.getProperty(&quot;adminId&quot;));\n        log.info(System.getProperty(&quot;token&quot;));\n</code></pre>\n<p>So I have have used junit5 in my project to create dynamic test cases (with the help of @TestFactory) but I came with a problem of taking user input as just an entry point for my dynamic test cases.\nPlease suggest a way to achieve that, I also tried using @ParameterizedTests alongwith @TestFactory but sadly the @ParameterizedTest annotation is not supported with a @TestFactory method.\nI also have tried to normally take input using Scanner class but that also doesnt work.\nI expected to get the userinput data either from command line or simply pass the input data from a xml file as an parameter</p>\n"},{"tags":["java","unix"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1476825114,"post_id":40118018,"comment_id":67507871,"body_markdown":"Java threads do not have unique PIDs. They run as one process, so the only PID is for the entire JVM.","body":"Java threads do not have unique PIDs. They run as one process, so the only PID is for the entire JVM."},{"owner":{"account_id":2417567,"reputation":886,"user_id":2111288,"accept_rate":33,"display_name":"SaviNuclear"},"score":0,"creation_date":1567746337,"post_id":40118018,"comment_id":102062820,"body_markdown":"It&#39;s like a difference between process and thread.","body":"It&#39;s like a difference between process and thread."}],"answers":[{"tags":[],"owner":{"account_id":3271217,"reputation":1033,"user_id":2754562,"accept_rate":43,"display_name":"aiqency"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1693254024,"creation_date":1476824999,"answer_id":40118110,"question_id":40118018,"body_markdown":"[Here](https://docs.oracle.com/javase/tutorial/essential/concurrency/procthread.html) they say `Most implementations of the Java virtual machine run as a single process. A Java application can create additional processes using a ProcessBuilder object.` The alternative would be spawn a process instead of a thread.","title":"Java Thread &amp; Unix Process","body":"<p><a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/procthread.html\" rel=\"nofollow noreferrer\">Here</a> they say <code>Most implementations of the Java virtual machine run as a single process. A Java application can create additional processes using a ProcessBuilder object.</code> The alternative would be spawn a process instead of a thread.</p>\n"},{"tags":[],"owner":{"account_id":4542619,"reputation":8565,"user_id":3690024,"display_name":"AJNeufeld"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1476825384,"creation_date":1476825384,"answer_id":40118205,"question_id":40118018,"body_markdown":"Oracle includes `jvisualvm` in the JDK\\bin directory.  You can use it to view threads running inside running JVM&#39;s.  However, I don&#39;t see any support for terminating a thread.\r\n","title":"Java Thread &amp; Unix Process","body":"<p>Oracle includes <code>jvisualvm</code> in the JDK\\bin directory.  You can use it to view threads running inside running JVM's.  However, I don't see any support for terminating a thread.</p>\n"}],"owner":{"account_id":1035149,"reputation":16298,"user_id":1042646,"accept_rate":78,"display_name":"Punter Vicky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":40118205,"answer_count":2,"score":4,"last_activity_date":1693254024,"creation_date":1476824545,"question_id":40118018,"body_markdown":"Will a java thread have a unique PID in UNIX environment? If I want to kill a specific thread of execution , is it possible to be done outside the program?","title":"Java Thread &amp; Unix Process","body":"<p>Will a java thread have a unique PID in UNIX environment? If I want to kill a specific thread of execution , is it possible to be done outside the program?</p>\n"},{"tags":["java","swagger","swagger-ui","vert.x"],"answers":[{"tags":[],"owner":{"account_id":11698906,"reputation":1250,"user_id":8564731,"display_name":"Jeremy Fiel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693253867,"creation_date":1693253867,"answer_id":76995783,"question_id":76993211,"body_markdown":"Here&#39;s a valid sample of your exact description. It seems to work fine on swagger-ui. Although, you have an additional property in your payload which is throwing an error for `exampleSetFlag`. This is not a valid keyword in OpenAPI schema. \r\n\r\nYour example seems to load fine, though\r\n\r\n```json\r\n{\r\n  &quot;openapi&quot; : &quot;3.0.3&quot;,\r\n  &quot;info&quot; : {\r\n    &quot;title&quot; : &quot;test&quot;,\r\n    &quot;version&quot; : &quot;1.0.0&quot;\r\n  },\r\n  &quot;servers&quot; : [ ],\r\n  &quot;paths&quot; : {\r\n    &quot;/endpoint&quot; : {\r\n      &quot;post&quot; : {\r\n        &quot;summary&quot; : &quot;stack&quot;,\r\n        &quot;parameters&quot; : [ ],\r\n        &quot;requestBody&quot; : {\r\n          &quot;content&quot; : {\r\n            &quot;application/json&quot; : {\r\n              &quot;schema&quot; : {\r\n                &quot;$ref&quot; : &quot;#/components/schemas/MyPartnerCardInfoRequest&quot;,\r\n                &quot;exampleSetFlag&quot;: false\r\n              },\r\n              &quot;example&quot; : {\r\n                &quot;cards&quot; : [ {\r\n                  &quot;cardId&quot; : &quot;HERO_LOYALTY_WELCOME_CARD&quot;,\r\n                  &quot;templateId&quot; : &quot;partner_welcome_card&quot;,\r\n                  &quot;cardVariantId&quot; : &quot;partner_welcome_card&quot;,\r\n                  &quot;componentId&quot; : &quot;basesheet&quot;\r\n                }, {\r\n                  &quot;cardId&quot; : &quot;HERO_LOYALTY_BANNER_CARD&quot;,\r\n                  &quot;templateId&quot; : &quot;partner_welcome_card&quot;,\r\n                  &quot;cardVariantId&quot; : &quot;partner_welcome_card&quot;,\r\n                  &quot;componentId&quot; : &quot;basesheet&quot;\r\n                } ]\r\n              },\r\n              &quot;exampleSetFlag&quot;: true\r\n            }\r\n          },\r\n          &quot;required&quot; : true\r\n        },\r\n        &quot;responses&quot; : {\r\n          &quot;201&quot; : {\r\n            &quot;description&quot; : &quot;Created&quot;,\r\n            &quot;headers&quot; : {\r\n              &quot;location&quot; : {\r\n                &quot;schema&quot; : {\r\n                  &quot;type&quot; : &quot;string&quot;\r\n                }\r\n              }\r\n            },\r\n            &quot;content&quot; : {\r\n              &quot;application/json&quot; : {\r\n                &quot;schema&quot; : { }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  &quot;components&quot; : {\r\n    &quot;schemas&quot; : {\r\n      &quot;MyPartnerCardInfoRequest&quot; : {\r\n        &quot;type&quot; : &quot;object&quot;,\r\n        &quot;properties&quot; : {\r\n          &quot;cards&quot; : {\r\n            &quot;type&quot; : &quot;array&quot;,\r\n            &quot;items&quot; : { }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n[![your example][1]][1]\r\n\r\nThe preferred keyword going forward with OpenAPI 3.x.x is the `examples` (plural) keyword which accepts a collection of schemas. This allows multiple examples of the same payload. \r\n\r\n```json\r\n{\r\n  &quot;openapi&quot;: &quot;3.0.3&quot;,\r\n  &quot;info&quot;: {\r\n    &quot;title&quot;: &quot;test&quot;,\r\n    &quot;version&quot;: &quot;1.0.0&quot;\r\n  },\r\n  &quot;servers&quot;: [],\r\n  &quot;paths&quot;: {\r\n    &quot;/endpoint&quot;: {\r\n      &quot;post&quot;: {\r\n        &quot;summary&quot;: &quot;stack&quot;,\r\n        &quot;parameters&quot;: [],\r\n        &quot;requestBody&quot;: {\r\n          &quot;content&quot;: {\r\n            &quot;application/json&quot;: {\r\n              &quot;schema&quot;: {\r\n                &quot;$ref&quot;: &quot;#/components/schemas/MyPartnerCardInfoRequest&quot;\r\n              },\r\n              &quot;examples&quot;: {\r\n                &quot;example_1&quot;: {\r\n                  &quot;value&quot;: {\r\n                    &quot;cards&quot;: [\r\n                      {\r\n                        &quot;cardId&quot;: &quot;HERO_LOYALTY_WELCOME_CARD&quot;,\r\n                        &quot;templateId&quot;: &quot;partner_welcome_card&quot;,\r\n                        &quot;cardVariantId&quot;: &quot;partner_welcome_card&quot;,\r\n                        &quot;componentId&quot;: &quot;basesheet&quot;\r\n                      },\r\n                      {\r\n                        &quot;cardId&quot;: &quot;HERO_LOYALTY_BANNER_CARD&quot;,\r\n                        &quot;templateId&quot;: &quot;partner_welcome_card&quot;,\r\n                        &quot;cardVariantId&quot;: &quot;partner_welcome_card&quot;,\r\n                        &quot;componentId&quot;: &quot;basesheet&quot;\r\n                      }\r\n                    ]\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          },\r\n          &quot;required&quot;: true\r\n        },\r\n        &quot;responses&quot;: {\r\n          &quot;201&quot;: {\r\n            &quot;description&quot;: &quot;Created&quot;,\r\n            &quot;headers&quot;: {\r\n              &quot;location&quot;: {\r\n                &quot;schema&quot;: {\r\n                  &quot;type&quot;: &quot;string&quot;\r\n                }\r\n              }\r\n            },\r\n            &quot;content&quot;: {\r\n              &quot;application/json&quot;: {\r\n                &quot;schema&quot;: {}\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  &quot;components&quot;: {\r\n    &quot;schemas&quot;: {\r\n      &quot;MyPartnerCardInfoRequest&quot;: {\r\n        &quot;type&quot;: &quot;object&quot;,\r\n        &quot;properties&quot;: {\r\n          &quot;cards&quot;: {\r\n            &quot;type&quot;: &quot;array&quot;,\r\n            &quot;items&quot;: {}\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PXYIx.png","title":"Swagger List Not Mapping in Example Java","body":"<p>Here's a valid sample of your exact description. It seems to work fine on swagger-ui. Although, you have an additional property in your payload which is throwing an error for <code>exampleSetFlag</code>. This is not a valid keyword in OpenAPI schema.</p>\n<p>Your example seems to load fine, though</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;openapi&quot; : &quot;3.0.3&quot;,\n  &quot;info&quot; : {\n    &quot;title&quot; : &quot;test&quot;,\n    &quot;version&quot; : &quot;1.0.0&quot;\n  },\n  &quot;servers&quot; : [ ],\n  &quot;paths&quot; : {\n    &quot;/endpoint&quot; : {\n      &quot;post&quot; : {\n        &quot;summary&quot; : &quot;stack&quot;,\n        &quot;parameters&quot; : [ ],\n        &quot;requestBody&quot; : {\n          &quot;content&quot; : {\n            &quot;application/json&quot; : {\n              &quot;schema&quot; : {\n                &quot;$ref&quot; : &quot;#/components/schemas/MyPartnerCardInfoRequest&quot;,\n                &quot;exampleSetFlag&quot;: false\n              },\n              &quot;example&quot; : {\n                &quot;cards&quot; : [ {\n                  &quot;cardId&quot; : &quot;HERO_LOYALTY_WELCOME_CARD&quot;,\n                  &quot;templateId&quot; : &quot;partner_welcome_card&quot;,\n                  &quot;cardVariantId&quot; : &quot;partner_welcome_card&quot;,\n                  &quot;componentId&quot; : &quot;basesheet&quot;\n                }, {\n                  &quot;cardId&quot; : &quot;HERO_LOYALTY_BANNER_CARD&quot;,\n                  &quot;templateId&quot; : &quot;partner_welcome_card&quot;,\n                  &quot;cardVariantId&quot; : &quot;partner_welcome_card&quot;,\n                  &quot;componentId&quot; : &quot;basesheet&quot;\n                } ]\n              },\n              &quot;exampleSetFlag&quot;: true\n            }\n          },\n          &quot;required&quot; : true\n        },\n        &quot;responses&quot; : {\n          &quot;201&quot; : {\n            &quot;description&quot; : &quot;Created&quot;,\n            &quot;headers&quot; : {\n              &quot;location&quot; : {\n                &quot;schema&quot; : {\n                  &quot;type&quot; : &quot;string&quot;\n                }\n              }\n            },\n            &quot;content&quot; : {\n              &quot;application/json&quot; : {\n                &quot;schema&quot; : { }\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  &quot;components&quot; : {\n    &quot;schemas&quot; : {\n      &quot;MyPartnerCardInfoRequest&quot; : {\n        &quot;type&quot; : &quot;object&quot;,\n        &quot;properties&quot; : {\n          &quot;cards&quot; : {\n            &quot;type&quot; : &quot;array&quot;,\n            &quot;items&quot; : { }\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/PXYIx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PXYIx.png\" alt=\"your example\" /></a></p>\n<p>The preferred keyword going forward with OpenAPI 3.x.x is the <code>examples</code> (plural) keyword which accepts a collection of schemas. This allows multiple examples of the same payload.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;openapi&quot;: &quot;3.0.3&quot;,\n  &quot;info&quot;: {\n    &quot;title&quot;: &quot;test&quot;,\n    &quot;version&quot;: &quot;1.0.0&quot;\n  },\n  &quot;servers&quot;: [],\n  &quot;paths&quot;: {\n    &quot;/endpoint&quot;: {\n      &quot;post&quot;: {\n        &quot;summary&quot;: &quot;stack&quot;,\n        &quot;parameters&quot;: [],\n        &quot;requestBody&quot;: {\n          &quot;content&quot;: {\n            &quot;application/json&quot;: {\n              &quot;schema&quot;: {\n                &quot;$ref&quot;: &quot;#/components/schemas/MyPartnerCardInfoRequest&quot;\n              },\n              &quot;examples&quot;: {\n                &quot;example_1&quot;: {\n                  &quot;value&quot;: {\n                    &quot;cards&quot;: [\n                      {\n                        &quot;cardId&quot;: &quot;HERO_LOYALTY_WELCOME_CARD&quot;,\n                        &quot;templateId&quot;: &quot;partner_welcome_card&quot;,\n                        &quot;cardVariantId&quot;: &quot;partner_welcome_card&quot;,\n                        &quot;componentId&quot;: &quot;basesheet&quot;\n                      },\n                      {\n                        &quot;cardId&quot;: &quot;HERO_LOYALTY_BANNER_CARD&quot;,\n                        &quot;templateId&quot;: &quot;partner_welcome_card&quot;,\n                        &quot;cardVariantId&quot;: &quot;partner_welcome_card&quot;,\n                        &quot;componentId&quot;: &quot;basesheet&quot;\n                      }\n                    ]\n                  }\n                }\n              }\n            }\n          },\n          &quot;required&quot;: true\n        },\n        &quot;responses&quot;: {\n          &quot;201&quot;: {\n            &quot;description&quot;: &quot;Created&quot;,\n            &quot;headers&quot;: {\n              &quot;location&quot;: {\n                &quot;schema&quot;: {\n                  &quot;type&quot;: &quot;string&quot;\n                }\n              }\n            },\n            &quot;content&quot;: {\n              &quot;application/json&quot;: {\n                &quot;schema&quot;: {}\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  &quot;components&quot;: {\n    &quot;schemas&quot;: {\n      &quot;MyPartnerCardInfoRequest&quot;: {\n        &quot;type&quot;: &quot;object&quot;,\n        &quot;properties&quot;: {\n          &quot;cards&quot;: {\n            &quot;type&quot;: &quot;array&quot;,\n            &quot;items&quot;: {}\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":14262420,"reputation":23,"user_id":10302726,"display_name":"Soumak Poddar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76995783,"answer_count":1,"score":0,"last_activity_date":1693253867,"creation_date":1693229048,"question_id":76993211,"body_markdown":"I am using Swagger 3.0. I am not able to map List of objects in example request in swagger-ui. Attaching the screenshot for reference. Same is happening for other data types as well like Strings and Maps.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/Uwa28.png)](https://i.stack.imgur.com/Uwa28.png)\r\n\r\nRequest Structure -\r\n```json\r\n&quot;requestBody&quot;: {\r\n  &quot;description&quot;: &quot;MyPartner Cards Request&quot;,\r\n  &quot;content&quot;: {\r\n    &quot;application/json&quot;: {\r\n      &quot;schema&quot;: {\r\n        &quot;$ref&quot;: &quot;#/components/schemas/MyPartnerCardInfoRequest&quot;,\r\n        &quot;exampleSetFlag&quot;: false\r\n      },\r\n      &quot;example&quot;: {\r\n        &quot;cards&quot;: [\r\n          {\r\n            &quot;cardId&quot;: &quot;HERO_LOYALTY_WELCOME_CARD&quot;,\r\n            &quot;templateId&quot;: &quot;partner_welcome_card&quot;,\r\n            &quot;cardVariantId&quot;: &quot;partner_welcome_card&quot;,\r\n            &quot;componentId&quot;: &quot;basesheet&quot;\r\n          },\r\n          {\r\n            &quot;cardId&quot;: &quot;HERO_LOYALTY_BANNER_CARD&quot;,\r\n            &quot;templateId&quot;: &quot;partner_welcome_card&quot;,\r\n            &quot;cardVariantId&quot;: &quot;partner_welcome_card&quot;,\r\n            &quot;componentId&quot;: &quot;basesheet&quot;\r\n          }\r\n        ]\r\n      },\r\n      &quot;exampleSetFlag&quot;: true\r\n    }\r\n  },\r\n  &quot;required&quot;: true\r\n}\r\n```\r\n\r\nWas expecting to map the data type correctly.","title":"Swagger List Not Mapping in Example Java","body":"<p>I am using Swagger 3.0. I am not able to map List of objects in example request in swagger-ui. Attaching the screenshot for reference. Same is happening for other data types as well like Strings and Maps.</p>\n<p><a href=\"https://i.stack.imgur.com/Uwa28.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Uwa28.png\" alt=\"enter image description here\" /></a></p>\n<p>Request Structure -</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;requestBody&quot;: {\n  &quot;description&quot;: &quot;MyPartner Cards Request&quot;,\n  &quot;content&quot;: {\n    &quot;application/json&quot;: {\n      &quot;schema&quot;: {\n        &quot;$ref&quot;: &quot;#/components/schemas/MyPartnerCardInfoRequest&quot;,\n        &quot;exampleSetFlag&quot;: false\n      },\n      &quot;example&quot;: {\n        &quot;cards&quot;: [\n          {\n            &quot;cardId&quot;: &quot;HERO_LOYALTY_WELCOME_CARD&quot;,\n            &quot;templateId&quot;: &quot;partner_welcome_card&quot;,\n            &quot;cardVariantId&quot;: &quot;partner_welcome_card&quot;,\n            &quot;componentId&quot;: &quot;basesheet&quot;\n          },\n          {\n            &quot;cardId&quot;: &quot;HERO_LOYALTY_BANNER_CARD&quot;,\n            &quot;templateId&quot;: &quot;partner_welcome_card&quot;,\n            &quot;cardVariantId&quot;: &quot;partner_welcome_card&quot;,\n            &quot;componentId&quot;: &quot;basesheet&quot;\n          }\n        ]\n      },\n      &quot;exampleSetFlag&quot;: true\n    }\n  },\n  &quot;required&quot;: true\n}\n</code></pre>\n<p>Was expecting to map the data type correctly.</p>\n"},{"tags":["java","jpa","join","persistence","inner-join"],"answers":[{"tags":[],"owner":{"account_id":2350759,"reputation":789,"user_id":2514268,"display_name":"Kartal Tabak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607290723,"creation_date":1607290723,"answer_id":65173362,"question_id":1804704,"body_markdown":"Create a JPA repository, and type a custom `@Query`. \r\n\r\nI assume you already linked the `parent` and ```JobEndPoint``` classes over `a` and `b` fields. (To do that, define a multiple-column id on `JobEndPoint` and specify joinColumns in the parent class.)\r\n\r\n```\r\n@Query(&quot;SELECT u FROM parent \r\n        LEFT JOIN u.from bes\r\n        LEFT JOIN u.to bes2\r\n        WHERE bes.c = &#39;foo&#39; \r\n        AND bes2.c = &#39;bar&#39;&quot;)\r\nSet&lt;Parent&gt; findMatchingParents()\r\n```","title":"Java JPA Inner JOIN with WHERE statement","body":"<p>Create a JPA repository, and type a custom <code>@Query</code>.</p>\n<p>I assume you already linked the <code>parent</code> and <code>JobEndPoint</code> classes over <code>a</code> and <code>b</code> fields. (To do that, define a multiple-column id on <code>JobEndPoint</code> and specify joinColumns in the parent class.)</p>\n<pre><code>@Query(&quot;SELECT u FROM parent \n        LEFT JOIN u.from bes\n        LEFT JOIN u.to bes2\n        WHERE bes.c = 'foo' \n        AND bes2.c = 'bar'&quot;)\nSet&lt;Parent&gt; findMatchingParents()\n</code></pre>\n"}],"owner":{"account_id":574749,"reputation":2015,"user_id":219553,"display_name":"Marco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23274,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1693253220,"creation_date":1259253653,"question_id":1804704,"body_markdown":"I want to annotate following structure:\r\n\r\nI have this query:\r\n&lt;pre&gt;\r\n&lt;code&gt;\r\nSELECT A.*, BES.*, BES_2.*\r\nINNER JOIN BES ON A.a = BES.a AND A.b = BES.b\r\nINNER JOIN BES AS BES_2 ON A.a = BES_2.a AND A.b = BES_2.b\r\nWHERE (BES.c = N&#39;foo&#39;) AND (BES_2.c = N&#39;bar&#39;)\r\n&lt;/code&gt;\r\n&lt;/pre&gt;\r\n\r\nI have the entities Job (representing A) and JobEndPoint (representing BES). The Job object should contain two  JobEndPoint which map like a one-to-one relation. I need two JOIN the table two times checking for the same values only differed by the column &quot;c&quot; which I check in the WHERE statement.\r\n\r\n&lt;pre&gt;\r\n&lt;code&gt;\r\n@OneToOne\r\nprivate JobEndPoint from;\r\n\r\n@OneToOne\r\nprivate JobEndPoint to;\r\n&lt;/code&gt;\r\n&lt;/pre&gt;\r\n\r\nMy problem is now that the database columns and the object fields differ a lot and I don&#39;t know how to add the  WHERE statement.","title":"Java JPA Inner JOIN with WHERE statement","body":"<p>I want to annotate following structure:</p>\n\n<p>I have this query:</p>\n\n<pre>\n<code>\nSELECT A.*, BES.*, BES_2.*\nINNER JOIN BES ON A.a = BES.a AND A.b = BES.b\nINNER JOIN BES AS BES_2 ON A.a = BES_2.a AND A.b = BES_2.b\nWHERE (BES.c = N'foo') AND (BES_2.c = N'bar')\n</code>\n</pre>\n\n<p>I have the entities Job (representing A) and JobEndPoint (representing BES). The Job object should contain two  JobEndPoint which map like a one-to-one relation. I need two JOIN the table two times checking for the same values only differed by the column \"c\" which I check in the WHERE statement.</p>\n\n<pre>\n<code>\n@OneToOne\nprivate JobEndPoint from;\n\n@OneToOne\nprivate JobEndPoint to;\n</code>\n</pre>\n\n<p>My problem is now that the database columns and the object fields differ a lot and I don't know how to add the  WHERE statement.</p>\n"},{"tags":["java","algorithm","primes","number-theory","sieve"],"comments":[{"owner":{"account_id":971196,"reputation":24175,"user_id":993742,"display_name":"isnot2bad"},"score":0,"creation_date":1426616687,"post_id":29106478,"comment_id":46443510,"body_markdown":"You are computing the sieve again and again for every number","body":"You are computing the sieve again and again for every number"}],"answers":[{"tags":[],"owner":{"account_id":434266,"reputation":15464,"user_id":820127,"display_name":"rossum"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1427026094,"creation_date":1427026094,"answer_id":29194165,"question_id":29106478,"body_markdown":"How many numbers of the form x^2+y^4 are there below 1000000?  How many prime numbers are there below 1000000?  What do these two numbers tell you about how you should approach the solution?\r\n\r\n@isnot2bad&#39;s comment is also relevant.","title":"Paul Erdos Conjecture [Java]","body":"<p>How many numbers of the form x^2+y^4 are there below 1000000?  How many prime numbers are there below 1000000?  What do these two numbers tell you about how you should approach the solution?</p>\n\n<p>@isnot2bad's comment is also relevant.</p>\n"},{"tags":[],"owner":{"account_id":20426529,"reputation":3,"user_id":20911692,"display_name":"Rahul kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693252627,"creation_date":1693252450,"answer_id":76995676,"question_id":29106478,"body_markdown":"I used bitset to get all the primes upto 10^7.\r\nGenerate all the possible values of x^2 + y^4 upto 10^7, while generating each number I checked if it was prime then added it to a set , set was used to get unique numbers. Then used upper_bound to answer the queries. This is a bit overkill but I managed to get an accepted solution with 0.13s. \r\n\r\n*This is my accepted solution.*  \r\n```\r\n#include&lt;bits/stdc++.h&gt;\r\nusing namespace std;\r\n#define int long long int\r\n#define all(x) begin(x),end(x)\r\n#define v vector\r\n#define fast_io ios_base::sync_with_stdio(false);cin.tie(NULL)\r\nconst long long inf = 1e7;\r\nbitset&lt;inf&gt;primes;\r\nsigned main() {\r\n    fast_io;\r\n    set&lt;int&gt;s;\r\n    s.insert(2);\r\n    primes.set();\r\n    primes[0] = primes[1] = 0;\r\n\r\n// Using sieve for getting all primes upto 10^7 \r\n    for (int i = 2; i &lt;= inf; i++) {\r\n        if (primes[i]) {\r\n            for (int j = i * i; j &lt;= inf; j += i)primes[j] = 0;\r\n        }\r\n    }\r\n\r\n// generating all the values x^2+y^4 upto 10^7\r\n    for (int i = 0; i * i &lt;= inf; i++)\r\n        for (int j = 0; j * j * j * j &lt;= inf; j++) {\r\n            int value = i * i + j * j * j * j ;\r\n            if (value &lt;= inf and value &gt; 1 and value &amp; 1 and primes[value])s.insert(value);\r\n        }\r\n    v&lt;int&gt;a;\r\n    for (auto i : s)a.push_back(i);\r\n    s.clear();\r\n\r\n// answering queries \r\n    int t; cin &gt;&gt; t;\r\n    while (t--) {\r\n        int n, ans = 0;  cin &gt;&gt; n;\r\n        ans = distance(begin(a), upper_bound(all(a), n));\r\n        cout &lt;&lt; ans &lt;&lt; &#39;\\n&#39;;\r\n    }\r\n}\r\n```","title":"Paul Erdos Conjecture [Java]","body":"<p>I used bitset to get all the primes upto 10^7.\nGenerate all the possible values of x^2 + y^4 upto 10^7, while generating each number I checked if it was prime then added it to a set , set was used to get unique numbers. Then used upper_bound to answer the queries. This is a bit overkill but I managed to get an accepted solution with 0.13s.</p>\n<p><em>This is my accepted solution.</em></p>\n<pre><code>#include&lt;bits/stdc++.h&gt;\nusing namespace std;\n#define int long long int\n#define all(x) begin(x),end(x)\n#define v vector\n#define fast_io ios_base::sync_with_stdio(false);cin.tie(NULL)\nconst long long inf = 1e7;\nbitset&lt;inf&gt;primes;\nsigned main() {\n    fast_io;\n    set&lt;int&gt;s;\n    s.insert(2);\n    primes.set();\n    primes[0] = primes[1] = 0;\n\n// Using sieve for getting all primes upto 10^7 \n    for (int i = 2; i &lt;= inf; i++) {\n        if (primes[i]) {\n            for (int j = i * i; j &lt;= inf; j += i)primes[j] = 0;\n        }\n    }\n\n// generating all the values x^2+y^4 upto 10^7\n    for (int i = 0; i * i &lt;= inf; i++)\n        for (int j = 0; j * j * j * j &lt;= inf; j++) {\n            int value = i * i + j * j * j * j ;\n            if (value &lt;= inf and value &gt; 1 and value &amp; 1 and primes[value])s.insert(value);\n        }\n    v&lt;int&gt;a;\n    for (auto i : s)a.push_back(i);\n    s.clear();\n\n// answering queries \n    int t; cin &gt;&gt; t;\n    while (t--) {\n        int n, ans = 0;  cin &gt;&gt; n;\n        ans = distance(begin(a), upper_bound(all(a), n));\n        cout &lt;&lt; ans &lt;&lt; '\\n';\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4548630,"reputation":51,"user_id":3694401,"display_name":"AbhyudayaR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":458,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693252627,"creation_date":1426615246,"question_id":29106478,"body_markdown":"I&#39;ve been trying to solve this rather easy problem on SPOJ: http://www.spoj.com/problems/HS08PAUL/.\r\n\r\nIt requires the number of prime numbers (less than n) which can be expressed in the form x^2+y^4 (where x and y are integers) to be found out.\r\n\r\nI&#39;ve whipped up a brute force solution which takes up quite a while for (n ~= 1000000), resulting in a TLE (time limit exceeded) error being thrown by the engine. Here&#39;s the source code:\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n        \r\n    class HS08PAUL\t{\r\n       public static int[] sieve(int n){\r\n    \t\t\t\r\n    \t\tboolean[] prime = new boolean[n+1];\r\n    \t\tint[] primeNumbers = new int[n];\r\n    \t\tint index = 0;\r\n    \t\tArrays.fill(primeNumbers, 0);\r\n    \t\tArrays.fill(prime,true);\r\n    \t\t\r\n    \t\tprime[0] = false;\r\n    \t\tprime[1] = false;\r\n    \t\tint m = (int)Math.sqrt(n);\r\n    \t\tfor(int i = 2; i &lt;= m; i++){\r\n    \t\t\tif(prime[i])\r\n    \t\t\tfor(int k = i*i; k&lt;=n; k+=i)\r\n    \t\t\t\tprime[k] = false;\r\n    \t\t\t\t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\tfor(int j = 2; j &lt;= n; j++) {\r\n    \t\t\tif(prime[j]) {\r\n    \t\t\t\tprimeNumbers[index] = j;\r\n    \t\t\t\tindex++;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn primeNumbers;\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tScanner in = new Scanner(System.in);\r\n    \t\ttry{\r\n    \t\t\tdouble numberOfTestCases = in.nextDouble();\r\n    \t\t\twhile(numberOfTestCases -- &gt; 0) {\r\n    \t\t\t\tint index = 0, y = 0, count = 0;\r\n    \t\t\t\tint num = in.nextInt();\r\n    \t\t\t\tint[] primes = sieve(num);\r\n    \t\t\t\twhile(index &lt; num/3 ) {\r\n    \t\t\t\t\tfor(y = 1; y &lt; 57\t; y ++) {\r\n    \t\t\t\t\t\tif(Math.ceil(Math.sqrt(primes[index] - Math.pow(y,4))) == Math.floor(Math.sqrt(primes[index] - Math.pow(y,4)))) {\r\n    \t\t\t\t\t\t\t\tcount++;\r\n    \t\t\t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t\t}\t\r\n    \t\t\t\t   \r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tindex++;\r\n    \t\t\t\t}\r\n    \t\t\t\tSystem.out.println(count);\r\n    \t\t\t}\t\r\n    \t\t}\r\n    \t\tcatch(Exception e) {\r\n    \t\t}\r\n    \t}\t\r\n    }\t\r\n\r\nIs there a way in which I can make this approach work? \r\n\r\nP.S.:Please ignore the unruly exception handling.    \t\t\r\n","title":"Paul Erdos Conjecture [Java]","body":"<p>I've been trying to solve this rather easy problem on SPOJ: <a href=\"http://www.spoj.com/problems/HS08PAUL/\" rel=\"nofollow\">http://www.spoj.com/problems/HS08PAUL/</a>.</p>\n\n<p>It requires the number of prime numbers (less than n) which can be expressed in the form x^2+y^4 (where x and y are integers) to be found out.</p>\n\n<p>I've whipped up a brute force solution which takes up quite a while for (n ~= 1000000), resulting in a TLE (time limit exceeded) error being thrown by the engine. Here's the source code:</p>\n\n<pre><code>import java.io.*;\nimport java.util.*;\n\nclass HS08PAUL  {\n   public static int[] sieve(int n){\n\n        boolean[] prime = new boolean[n+1];\n        int[] primeNumbers = new int[n];\n        int index = 0;\n        Arrays.fill(primeNumbers, 0);\n        Arrays.fill(prime,true);\n\n        prime[0] = false;\n        prime[1] = false;\n        int m = (int)Math.sqrt(n);\n        for(int i = 2; i &lt;= m; i++){\n            if(prime[i])\n            for(int k = i*i; k&lt;=n; k+=i)\n                prime[k] = false;\n\n        }\n\n        for(int j = 2; j &lt;= n; j++) {\n            if(prime[j]) {\n                primeNumbers[index] = j;\n                index++;\n            }\n        }\n        return primeNumbers;\n    }\n\n    public static void main(String[] args) {\n\n        Scanner in = new Scanner(System.in);\n        try{\n            double numberOfTestCases = in.nextDouble();\n            while(numberOfTestCases -- &gt; 0) {\n                int index = 0, y = 0, count = 0;\n                int num = in.nextInt();\n                int[] primes = sieve(num);\n                while(index &lt; num/3 ) {\n                    for(y = 1; y &lt; 57   ; y ++) {\n                        if(Math.ceil(Math.sqrt(primes[index] - Math.pow(y,4))) == Math.floor(Math.sqrt(primes[index] - Math.pow(y,4)))) {\n                                count++;\n                                break;\n                        }   \n\n                    }\n                    index++;\n                }\n                System.out.println(count);\n            }   \n        }\n        catch(Exception e) {\n        }\n    }   \n}   \n</code></pre>\n\n<p>Is there a way in which I can make this approach work? </p>\n\n<p>P.S.:Please ignore the unruly exception handling.           </p>\n"},{"tags":["java","maven","sonarqube"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1608583865,"post_id":65399772,"comment_id":115623835,"body_markdown":"add `&lt;configuration&gt;&lt;skip&gt;${skipTests}&lt;/skip&gt;&lt;/configuration&gt;` to the `&lt;execution&gt;`-section.","body":"add <code>&lt;configuration&gt;&lt;skip&gt;${skipTests}&lt;&#47;skip&gt;&lt;&#47;configuration&gt;</code> to the <code>&lt;execution&gt;</code>-section."},{"owner":{"account_id":872469,"reputation":4415,"user_id":923004,"accept_rate":74,"display_name":"Thomas Vervik"},"score":0,"creation_date":1608587767,"post_id":65399772,"comment_id":115625126,"body_markdown":"Thanks, worked as charm!","body":"Thanks, worked as charm!"}],"answers":[{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1693252407,"creation_date":1608584654,"answer_id":65399938,"question_id":65399772,"body_markdown":"With every plugin, we can add section \r\n\r\n    &lt;configuration&gt;\r\n        ...\r\n        &lt;skip&gt;...&lt;/skip&gt;\r\n        ...\r\n    &lt;/configuration&gt;\r\nin an `&lt;execution&gt;`-block to control when the execution should be skipped. In the given case, we can bind the skip logic to the property `skipTests`:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\r\n        &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${sonar.maven.plugin.version}&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;sonar&lt;/id&gt;\r\n                &lt;phase&gt;test&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;sonar&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;skip&gt;${skipTests}&lt;/skip&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;","title":"Skip sonar plugin execution if maven tests are skipped","body":"<p>With every plugin, we can add section</p>\n<pre><code>&lt;configuration&gt;\n    ...\n    &lt;skip&gt;...&lt;/skip&gt;\n    ...\n&lt;/configuration&gt;\n</code></pre>\n<p>in an <code>&lt;execution&gt;</code>-block to control when the execution should be skipped. In the given case, we can bind the skip logic to the property <code>skipTests</code>:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\n    &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${sonar.maven.plugin.version}&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;sonar&lt;/id&gt;\n            &lt;phase&gt;test&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;sonar&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;skip&gt;${skipTests}&lt;/skip&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":872469,"reputation":4415,"user_id":923004,"accept_rate":74,"display_name":"Thomas Vervik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1298,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":65399938,"answer_count":1,"score":2,"last_activity_date":1693252407,"creation_date":1608583750,"question_id":65399772,"body_markdown":"I have set up Sonar as maven plugin in my pom, and would like the plugin to run only if tests are run. Use case is I want the sonar plugin to run on my CI server, but not when packaging the jar.\r\nSo `mvn test` should execute the sonar plugin, but `mvn -DskipTests clean package` should not.\r\n\r\nToday the sonar plugin are running also when I skip the tests.\r\n\r\nMy setup today:\r\n\r\n```\r\n&lt;sonar.host.url&gt;https://sonar.myserver.no&lt;/sonar.host.url&gt;\r\n&lt;sonar.login&gt;my token&lt;/sonar.login&gt;\r\n&lt;sonar.projectName&gt;My app&lt;/sonar.projectName&gt;\r\n.....\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\r\n    &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;${sonar.maven.plugin.version}&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;sonar&lt;/id&gt;\r\n            &lt;phase&gt;test&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;sonar&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n\r\n```","title":"Skip sonar plugin execution if maven tests are skipped","body":"<p>I have set up Sonar as maven plugin in my pom, and would like the plugin to run only if tests are run. Use case is I want the sonar plugin to run on my CI server, but not when packaging the jar.\nSo <code>mvn test</code> should execute the sonar plugin, but <code>mvn -DskipTests clean package</code> should not.</p>\n<p>Today the sonar plugin are running also when I skip the tests.</p>\n<p>My setup today:</p>\n<pre><code>&lt;sonar.host.url&gt;https://sonar.myserver.no&lt;/sonar.host.url&gt;\n&lt;sonar.login&gt;my token&lt;/sonar.login&gt;\n&lt;sonar.projectName&gt;My app&lt;/sonar.projectName&gt;\n.....\n&lt;plugin&gt;\n    &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\n    &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${sonar.maven.plugin.version}&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;sonar&lt;/id&gt;\n            &lt;phase&gt;test&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;sonar&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n\n</code></pre>\n"},{"tags":["java","spring","rest","spring-cloud-feign","feign"],"comments":[{"owner":{"account_id":2117992,"reputation":171,"user_id":1881850,"accept_rate":62,"display_name":"Zis"},"score":0,"creation_date":1693997496,"post_id":76994416,"comment_id":135832462,"body_markdown":"I found out during debug, that feing is internally using byte[] and ByteOutputstream, so it&#39;s not possible to just stream it. I went back to WebClient.","body":"I found out during debug, that feing is internally using byte[] and ByteOutputstream, so it&#39;s not possible to just stream it. I went back to WebClient."}],"owner":{"account_id":2117992,"reputation":171,"user_id":1881850,"accept_rate":62,"display_name":"Zis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":343,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1693251982,"creation_date":1693238914,"question_id":76994416,"body_markdown":"I have a **@RestController** with one method that accepts multipart requests.\r\n\r\n```\r\n@PostMapping(consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\nvoid create(@Valid @RequestPart(&quot;body&quot;) RequestDto request, HttpServletRequest servletRequest);\r\n```\r\nThen I go through all parts and store only references to files&#39; InputStream as the main goal was not to store any files in memory (in form of any byte[]).\r\n```\r\n...\r\nservletRequest.getParts().forEach(part -&gt; {\r\n    fileDto.setFileContent(part.getInputStream());\r\n});\r\n...\r\n```\r\n\r\nThen I would like to call another API of a system, that actualy stores the files. I&#39;d like to use **@FeignClient** from **spring-cloud-starter-openfeign**.\r\n\r\nI found some examples on the internet, but most of them use java.io.File or feign.form.FormData which creates a temp file (or stores the byte[] array). So I prepared the script below.\r\n\r\n```\r\n@FeignClient(name = &quot;feignClient&quot;, url = &quot;${api.url}&quot;, configuration = FeignConfig.class)\r\npublic interface ExternalSystemConnector {\r\n\r\n    @PostMapping(value = &quot;/v1/file&quot;, headers = &quot;Content-Type=multipart/form-data&quot;, produces = MediaType.MULTIPART_FORM_DATA_VALUE, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\n    void createFile(@RequestPart(&quot;body&quot;) AdditionalInfoDto requestDto,\r\n                      @RequestPart(&quot;file&quot;) MultipartFile file);\r\n\r\n}\r\n```\r\nThen I would like to call the external system:\r\n```\r\n...\r\nexternalSystemConnector.createFile(additionalInfoDto, convertToMultiPartFile(fileDto.getInputStream()));\r\n...\r\n```\r\n\r\nbut I have no idea how to convert **InputStream** to the **MultipartFile** in the **convertToMultiPartFile** method. The **MultipartFile** interface also has **getSize** / **getBytes** methods where I do not know the size as I hold only reference to an InputStream. \r\n\r\nDoes anyone know, how I could achieve that? Or is there any better solution to that? The main condition is to use FeignClient and do not store the file&#39;s content in the memory and just stream it to the external system.","title":"Convert InputStream to MultipartFile when sending multipart/form-data request via Feign Client","body":"<p>I have a <strong>@RestController</strong> with one method that accepts multipart requests.</p>\n<pre><code>@PostMapping(consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\nvoid create(@Valid @RequestPart(&quot;body&quot;) RequestDto request, HttpServletRequest servletRequest);\n</code></pre>\n<p>Then I go through all parts and store only references to files' InputStream as the main goal was not to store any files in memory (in form of any byte[]).</p>\n<pre><code>...\nservletRequest.getParts().forEach(part -&gt; {\n    fileDto.setFileContent(part.getInputStream());\n});\n...\n</code></pre>\n<p>Then I would like to call another API of a system, that actualy stores the files. I'd like to use <strong>@FeignClient</strong> from <strong>spring-cloud-starter-openfeign</strong>.</p>\n<p>I found some examples on the internet, but most of them use java.io.File or feign.form.FormData which creates a temp file (or stores the byte[] array). So I prepared the script below.</p>\n<pre><code>@FeignClient(name = &quot;feignClient&quot;, url = &quot;${api.url}&quot;, configuration = FeignConfig.class)\npublic interface ExternalSystemConnector {\n\n    @PostMapping(value = &quot;/v1/file&quot;, headers = &quot;Content-Type=multipart/form-data&quot;, produces = MediaType.MULTIPART_FORM_DATA_VALUE, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\n    void createFile(@RequestPart(&quot;body&quot;) AdditionalInfoDto requestDto,\n                      @RequestPart(&quot;file&quot;) MultipartFile file);\n\n}\n</code></pre>\n<p>Then I would like to call the external system:</p>\n<pre><code>...\nexternalSystemConnector.createFile(additionalInfoDto, convertToMultiPartFile(fileDto.getInputStream()));\n...\n</code></pre>\n<p>but I have no idea how to convert <strong>InputStream</strong> to the <strong>MultipartFile</strong> in the <strong>convertToMultiPartFile</strong> method. The <strong>MultipartFile</strong> interface also has <strong>getSize</strong> / <strong>getBytes</strong> methods where I do not know the size as I hold only reference to an InputStream.</p>\n<p>Does anyone know, how I could achieve that? Or is there any better solution to that? The main condition is to use FeignClient and do not store the file's content in the memory and just stream it to the external system.</p>\n"},{"tags":["java","kotlin","android-studio","gradle","google-play-console"],"owner":{"account_id":8536772,"reputation":3072,"user_id":6398263,"accept_rate":0,"display_name":"Joel Hager"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693251825,"creation_date":1693251825,"question_id":76995632,"body_markdown":"I am getting this error in play console:\r\n\r\n&gt; Your latest production release (4 (1.2.1)) contains SDK issues\r\nAug 26, 2023 23:50\r\ncom.google.android.gms:play-services-ads-lite:17.1.2\r\nThis SDK version has been reported as outdated. Upgrade to a newer version (19.3.0+).\r\n&gt; \r\n&gt; Starting from November 26, 2023 00:00 (UTC) you won&#39;t be able to release new versions which contain this SDK version. com.google.android.gms:play-services-ads:17.1.2\r\nThis SDK version has been reported as outdated. Upgrade to a newer version (19.4.0+).\r\n&gt;\r\n&gt; This SDK version has a note from the SDK developer. Here&#39;s what the SDK developer told us:\r\n&gt;\r\n&gt;This version is officially deprecated, and will soon disable ad loading. Please update to a new version. See https://developers.google.com/admob/android/deprecation for more details.\r\n&gt;\r\n&gt;Starting from November 26, 2023 00:00 (UTC) you won&#39;t be able to release new versions which contain this SDK version.\r\n\r\nThe issue is I&#39;ve looked EVERYWHERE for this dependency and I can&#39;t find it. Where do I upgrade these types of dependencies? The documentation isn&#39;t clear either. \r\n","title":"How to update SDK reference that doesn&#39;t exist in project (ANDROID STUDIO)","body":"<p>I am getting this error in play console:</p>\n<blockquote>\n<p>Your latest production release (4 (1.2.1)) contains SDK issues\nAug 26, 2023 23:50\ncom.google.android.gms:play-services-ads-lite:17.1.2\nThis SDK version has been reported as outdated. Upgrade to a newer version (19.3.0+).</p>\n<p>Starting from November 26, 2023 00:00 (UTC) you won't be able to release new versions which contain this SDK version. com.google.android.gms:play-services-ads:17.1.2\nThis SDK version has been reported as outdated. Upgrade to a newer version (19.4.0+).</p>\n<p>This SDK version has a note from the SDK developer. Here's what the SDK developer told us:</p>\n<p>This version is officially deprecated, and will soon disable ad loading. Please update to a new version. See <a href=\"https://developers.google.com/admob/android/deprecation\" rel=\"nofollow noreferrer\">https://developers.google.com/admob/android/deprecation</a> for more details.</p>\n<p>Starting from November 26, 2023 00:00 (UTC) you won't be able to release new versions which contain this SDK version.</p>\n</blockquote>\n<p>The issue is I've looked EVERYWHERE for this dependency and I can't find it. Where do I upgrade these types of dependencies? The documentation isn't clear either.</p>\n"},{"tags":["java","postgresql","spring-boot","spring-data-jpa","hashicorp-vault"],"owner":{"account_id":7401610,"reputation":973,"user_id":5631863,"accept_rate":71,"display_name":"Tora Tora Tora"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693251608,"creation_date":1693075517,"question_id":76984361,"body_markdown":"I have a Spring Boot application that uses Spring Data JPA connecting to a Postgres Database using Spring Cloud Vault Database. And, the application keeps loosing connection to the database periodically. Only solution is to restart the application.\r\n\r\nHere&#39;s the configuration:\r\n\r\n```\r\nspring:\r\n  application:\r\n    name: application-name-api\r\n  cloud.vault:\r\n    kv-version: 2\r\n    host: vaulthost.net\r\n    port: 8200\r\n    scheme: https\r\n    authentication: TOKEN\r\n    token: XXX_VAULT_TOKEN_XXX\r\n    database:\r\n      role: database_write_role\r\n    kv:\r\n      enabled: false\r\n    database:\r\n      enabled: true\r\n      backend: database\r\n      username-property: spring.datasource.username\r\n      password-property: spring.datasource.password\r\n  config:\r\n      import: &quot;vault://&quot;\r\n  datasource:\r\n    url: &quot;jdbc:postgresql://db-postgresql:11111/defaultdb?sslmode=require&quot;\r\n    testOnBorrow: true\r\n    validationQuery: SELECT 1\r\n    hikari:\r\n      maximum-pool-size: 2\r\n      connection-timeout: 3000\r\n      idle-timeout: 10000\r\n      minimum-idle: 1\r\n  jpa:\r\n    hibernate:\r\n      ddl-auto: none\r\n    database-platform: org.hibernate.dialect.PostgreSQLDialect\r\n  profiles:\r\n    active: dev\r\n  servlet:\r\n    multipart:\r\n      max-file-size: 5MB\r\n      max-request-size: 5MB\r\n```\r\n\r\nWhen the application is deployed to a Linux Box it works well, and is able to connect to the database. However, after a day the connection errors out with the following exception:\r\n\r\n```\r\n2023-08-26 17:58:42,875 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-8600-exec-8] SQL Error: 0, SQLState: 28P01\r\n2023-08-26 17:58:42,876 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-8600-exec-8] HikariPool-1 - Connection is not available, request timed out after 3000ms.\r\n2023-08-26 17:58:42,877 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-8600-exec-8] FATAL: password authentication failed for user &quot;v-token-xxxxxxx-fffffffxxxxxxxxzzzzzz-1692899441&quot;\r\n2023-08-26 17:58:42,878 ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/api].[dispatcherServlet] [http-nio-8600-exec-8] Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed; nested exception is org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection] with root cause\r\norg.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;v-token-xxxxxxx-fffffffxxxxxxxxzzzzzz-1692899441&quot;\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:646)\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:180)\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)\r\n\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)\r\n\tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223)\r\n\tat org.postgresql.Driver.makeConnection(Driver.java:402)\r\n\tat org.postgresql.Driver.connect(Driver.java:261)\r\n\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\r\n\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)\r\n\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)\r\n\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)\r\n\tat com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)\r\n\tat com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:726)\r\n\tat com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\nHere are the entries in my pom.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.5&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;groupId&gt;com.toratoratora&lt;/groupId&gt;\r\n    &lt;artifactId&gt;application-api&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;name&gt;application-api&lt;/name&gt;\r\n    &lt;description&gt;Application API&lt;/description&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;spring-cloud.version&gt;2021.0.5&lt;/spring-cloud.version&gt;\r\n        &lt;validator.version&gt;1.7&lt;/validator.version&gt;\r\n        &lt;hibernate-types-52.version&gt;2.14.0&lt;/hibernate-types-52.version&gt;\r\n        &lt;commons-lang3.version&gt;3.12.0&lt;/commons-lang3.version&gt;\r\n        &lt;commons-collections4.version&gt;4.4&lt;/commons-collections4.version&gt;\r\n        &lt;commons-io.version&gt;2.11.0&lt;/commons-io.version&gt;\r\n        &lt;spring-boot-admin.version&gt;2.7.4&lt;/spring-boot-admin.version&gt;\r\n        &lt;okhttp.version&gt;4.10.0&lt;/okhttp.version&gt;\r\n        &lt;jackson-datatype-jsr310.version&gt;2.14.2&lt;/jackson-datatype-jsr310.version&gt;\r\n        &lt;cactoos.version&gt;0.55.0&lt;/cactoos.version&gt;\r\n        &lt;commons-text.version&gt;1.10.0&lt;/commons-text.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;de.codecentric&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-admin-starter-client&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-vault-config&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-vault-config-databases&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\r\n            &lt;version&gt;${hibernate-types-52.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;version&gt;${commons-lang3.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n            &lt;version&gt;${commons-collections4.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n            &lt;version&gt;${commons-io.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-validator&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-validator&lt;/artifactId&gt;\r\n            &lt;version&gt;${validator.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n            &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n            &lt;version&gt;${okhttp.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n            &lt;version&gt;${jackson-datatype-jsr310.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.cactoos&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cactoos&lt;/artifactId&gt;\r\n            &lt;version&gt;${cactoos.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\r\n            &lt;version&gt;${commons-text.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n            &lt;version&gt;20230227&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-cloud-firestore&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\r\n            &lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\r\n            &lt;version&gt;9.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;de.codecentric&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-admin-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-boot-admin.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;26.0.0&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;${project.name}&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6.7&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.8.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;skip&gt;true&lt;/skip&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;io.spring.javaformat&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-javaformat-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.31&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;validate&lt;/phase&gt;\r\n                        &lt;inherited&gt;true&lt;/inherited&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;validate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.hibernate.orm.tooling&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-enhance-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;5.6.1.Final&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;failOnError&gt;true&lt;/failOnError&gt;\r\n                            &lt;enableLazyInitialization&gt;true&lt;/enableLazyInitialization&gt;\r\n                        &lt;/configuration&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;enhance&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```","title":"SqlExceptionHelper - FATAL: password authentication failed for user - Spring Data JPA - Vault - Postgres","body":"<p>I have a Spring Boot application that uses Spring Data JPA connecting to a Postgres Database using Spring Cloud Vault Database. And, the application keeps loosing connection to the database periodically. Only solution is to restart the application.</p>\n<p>Here's the configuration:</p>\n<pre><code>spring:\n  application:\n    name: application-name-api\n  cloud.vault:\n    kv-version: 2\n    host: vaulthost.net\n    port: 8200\n    scheme: https\n    authentication: TOKEN\n    token: XXX_VAULT_TOKEN_XXX\n    database:\n      role: database_write_role\n    kv:\n      enabled: false\n    database:\n      enabled: true\n      backend: database\n      username-property: spring.datasource.username\n      password-property: spring.datasource.password\n  config:\n      import: &quot;vault://&quot;\n  datasource:\n    url: &quot;jdbc:postgresql://db-postgresql:11111/defaultdb?sslmode=require&quot;\n    testOnBorrow: true\n    validationQuery: SELECT 1\n    hikari:\n      maximum-pool-size: 2\n      connection-timeout: 3000\n      idle-timeout: 10000\n      minimum-idle: 1\n  jpa:\n    hibernate:\n      ddl-auto: none\n    database-platform: org.hibernate.dialect.PostgreSQLDialect\n  profiles:\n    active: dev\n  servlet:\n    multipart:\n      max-file-size: 5MB\n      max-request-size: 5MB\n</code></pre>\n<p>When the application is deployed to a Linux Box it works well, and is able to connect to the database. However, after a day the connection errors out with the following exception:</p>\n<pre><code>2023-08-26 17:58:42,875 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-8600-exec-8] SQL Error: 0, SQLState: 28P01\n2023-08-26 17:58:42,876 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-8600-exec-8] HikariPool-1 - Connection is not available, request timed out after 3000ms.\n2023-08-26 17:58:42,877 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-8600-exec-8] FATAL: password authentication failed for user &quot;v-token-xxxxxxx-fffffffxxxxxxxxzzzzzz-1692899441&quot;\n2023-08-26 17:58:42,878 ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/api].[dispatcherServlet] [http-nio-8600-exec-8] Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed; nested exception is org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection] with root cause\norg.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;v-token-xxxxxxx-fffffffxxxxxxxxzzzzzz-1692899441&quot;\n    at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:646)\n    at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:180)\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)\n    at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223)\n    at org.postgresql.Driver.makeConnection(Driver.java:402)\n    at org.postgresql.Driver.connect(Driver.java:261)\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)\n    at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)\n    at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:726)\n    at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>Here are the entries in my pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.toratoratora&lt;/groupId&gt;\n    &lt;artifactId&gt;application-api&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n    &lt;name&gt;application-api&lt;/name&gt;\n    &lt;description&gt;Application API&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2021.0.5&lt;/spring-cloud.version&gt;\n        &lt;validator.version&gt;1.7&lt;/validator.version&gt;\n        &lt;hibernate-types-52.version&gt;2.14.0&lt;/hibernate-types-52.version&gt;\n        &lt;commons-lang3.version&gt;3.12.0&lt;/commons-lang3.version&gt;\n        &lt;commons-collections4.version&gt;4.4&lt;/commons-collections4.version&gt;\n        &lt;commons-io.version&gt;2.11.0&lt;/commons-io.version&gt;\n        &lt;spring-boot-admin.version&gt;2.7.4&lt;/spring-boot-admin.version&gt;\n        &lt;okhttp.version&gt;4.10.0&lt;/okhttp.version&gt;\n        &lt;jackson-datatype-jsr310.version&gt;2.14.2&lt;/jackson-datatype-jsr310.version&gt;\n        &lt;cactoos.version&gt;0.55.0&lt;/cactoos.version&gt;\n        &lt;commons-text.version&gt;1.10.0&lt;/commons-text.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;de.codecentric&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-admin-starter-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-vault-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-vault-config-databases&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\n            &lt;version&gt;${hibernate-types-52.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;${commons-lang3.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n            &lt;version&gt;${commons-collections4.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;${commons-io.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-validator&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-validator&lt;/artifactId&gt;\n            &lt;version&gt;${validator.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n            &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n            &lt;version&gt;${okhttp.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n            &lt;version&gt;${jackson-datatype-jsr310.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.cactoos&lt;/groupId&gt;\n            &lt;artifactId&gt;cactoos&lt;/artifactId&gt;\n            &lt;version&gt;${cactoos.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\n            &lt;version&gt;${commons-text.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20230227&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;google-cloud-firestore&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\n            &lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\n            &lt;version&gt;9.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;de.codecentric&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-admin-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-boot-admin.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\n                &lt;version&gt;26.0.0&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;${project.name}&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.6.7&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.8.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;skip&gt;true&lt;/skip&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;io.spring.javaformat&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-javaformat-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.31&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;validate&lt;/phase&gt;\n                        &lt;inherited&gt;true&lt;/inherited&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;validate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.hibernate.orm.tooling&lt;/groupId&gt;\n                &lt;artifactId&gt;hibernate-enhance-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;5.6.1.Final&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;configuration&gt;\n                            &lt;failOnError&gt;true&lt;/failOnError&gt;\n                            &lt;enableLazyInitialization&gt;true&lt;/enableLazyInitialization&gt;\n                        &lt;/configuration&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;enhance&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","android","avd-manager"],"answers":[{"tags":[],"owner":{"account_id":21173621,"reputation":43,"user_id":15595082,"display_name":"Jesus Berrio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693251397,"creation_date":1693251397,"answer_id":76995590,"question_id":76995157,"body_markdown":"I just delete the /opt/homebrew/bin/avdmanager and starts working \r\n\r\n    rm -rf /opt/homebrew/bin/avdmanager","title":"Unable to Use Android CLI 4.0 with Java 11: PATH Issue with Android Studio","body":"<p>I just delete the /opt/homebrew/bin/avdmanager and starts working</p>\n<pre><code>rm -rf /opt/homebrew/bin/avdmanager\n</code></pre>\n"}],"owner":{"account_id":21173621,"reputation":43,"user_id":15595082,"display_name":"Jesus Berrio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693251397,"creation_date":1693246437,"question_id":76995157,"body_markdown":"I&#39;m having trouble getting Android CLI 4.0 to work as expected on my system. When I run which avdmanager, it always points to /opt/homebrew/bin/avdmanager, even though I&#39;ve explicitly set my PATH to include the correct cmdline-tools/4.0/bin directory using export PATH=$PATH:$ANDROID_HOME/cmdline-tools/4.0/bin.\r\n\r\nIt appears that Android Studio is introducing this new path in /opt, and because of this, my specified cmdline-tools directory in the PATH is not taking precedence. I need to use CLI 4.0 with Java 11, but it seems that Java 11 is causing an issue with the CLI, resulting in the error:\r\n\r\nvbnet\r\nCopy code\r\nError: Se ha producido un error de enlace al cargar la clase principal com.android.sdklib.tool.AvdManagerCli\r\njava.lang.UnsupportedClassVersionError: com/android/sdklib/tool/AvdManagerCli has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0\r\nInterestingly, when I run $ANDROID_HOME/cmdline-tools/4.0/bin/avdmanager, everything works perfectly, and I don&#39;t encounter the error.\r\n\r\nI need guidance on how to use CLI version 4.0 with Java 11 without Android Studio interfering with the path, and how to resolve the class version error when using Java 11.\r\n\r\nAny help would be greatly appreciated. Thanks!","title":"Unable to Use Android CLI 4.0 with Java 11: PATH Issue with Android Studio","body":"<p>I'm having trouble getting Android CLI 4.0 to work as expected on my system. When I run which avdmanager, it always points to /opt/homebrew/bin/avdmanager, even though I've explicitly set my PATH to include the correct cmdline-tools/4.0/bin directory using export PATH=$PATH:$ANDROID_HOME/cmdline-tools/4.0/bin.</p>\n<p>It appears that Android Studio is introducing this new path in /opt, and because of this, my specified cmdline-tools directory in the PATH is not taking precedence. I need to use CLI 4.0 with Java 11, but it seems that Java 11 is causing an issue with the CLI, resulting in the error:</p>\n<p>vbnet\nCopy code\nError: Se ha producido un error de enlace al cargar la clase principal com.android.sdklib.tool.AvdManagerCli\njava.lang.UnsupportedClassVersionError: com/android/sdklib/tool/AvdManagerCli has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0\nInterestingly, when I run $ANDROID_HOME/cmdline-tools/4.0/bin/avdmanager, everything works perfectly, and I don't encounter the error.</p>\n<p>I need guidance on how to use CLI version 4.0 with Java 11 without Android Studio interfering with the path, and how to resolve the class version error when using Java 11.</p>\n<p>Any help would be greatly appreciated. Thanks!</p>\n"},{"tags":["java","maven","junit","maven-surefire-plugin","java-17"],"answers":[{"tags":[],"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693251047,"creation_date":1693251047,"answer_id":76995561,"question_id":76995399,"body_markdown":"The first thing I see that you are configuring the includes which is not neccessary because those are the default. So in the end you can omit them.\r\n\r\nSecond to configure appropriate things for maven-surefire-plugin you should do it like this:\r\n\r\n&lt;!-- language:language-xml --&gt;\r\n\r\n    &lt;plugin&gt; \r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;argLine&gt;\r\n            --add-opens java.base/java.lang=ALL-UNNAMED\r\n            --add-opens java.base/java.lang.reflect=ALL-UNNAMED\r\n            --add-opens java.base/java.util.concurrent=ALL-UNNAMED\r\n            --add-opens java.base/java.util=ALL-UNNAMED\r\n          &lt;/argLine&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n\r\n\r\nAlso I assume that you have to add those open to the maven-compiler-plugin configuration:\r\n\r\n&lt;!-- language:language-xml --&gt;\r\n\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;configuration&gt;\r\n            &lt;compilerArgs&gt;\r\n              &lt;arg&gt;--add-opens&lt;/arg&gt;\r\n              &lt;arg&gt;java.base/java.lang=ALL-UNNAMED&lt;/arg&gt;\r\n              &lt;arg&gt;--add-opens&lt;/arg&gt;\r\n              &lt;arg&gt;java.base/java.lang.reflect=ALL-UNNAMED&lt;/arg&gt;\r\n              &lt;arg&gt;--add-opens&lt;/arg&gt;\r\n              &lt;arg&gt;java.base/java.util.concurrent=ALL-UNNAMED&lt;/arg&gt;\r\n              &lt;arg&gt;--add-opens&lt;/arg&gt;\r\n              &lt;arg&gt;java.base/java.util=ALL-UNNAMED&lt;/arg&gt;\r\n            &lt;/compilerArgs&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n\r\n\r\nAlso I would recheck if the error messages like those can&#39;t be solved in an other way. Maybe upgrading dependencies or alike? Have you used `module-info.class`? Module Path? ","title":"Maven Surefire plugin is not copying JVM Options","body":"<p>The first thing I see that you are configuring the includes which is not neccessary because those are the default. So in the end you can omit them.</p>\n<p>Second to configure appropriate things for maven-surefire-plugin you should do it like this:</p>\n\n<pre><code>&lt;plugin&gt; \n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n      &lt;argLine&gt;\n        --add-opens java.base/java.lang=ALL-UNNAMED\n        --add-opens java.base/java.lang.reflect=ALL-UNNAMED\n        --add-opens java.base/java.util.concurrent=ALL-UNNAMED\n        --add-opens java.base/java.util=ALL-UNNAMED\n      &lt;/argLine&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n</code></pre>\n<p>Also I assume that you have to add those open to the maven-compiler-plugin configuration:</p>\n\n<pre><code>    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n      &lt;configuration&gt;\n        &lt;compilerArgs&gt;\n          &lt;arg&gt;--add-opens&lt;/arg&gt;\n          &lt;arg&gt;java.base/java.lang=ALL-UNNAMED&lt;/arg&gt;\n          &lt;arg&gt;--add-opens&lt;/arg&gt;\n          &lt;arg&gt;java.base/java.lang.reflect=ALL-UNNAMED&lt;/arg&gt;\n          &lt;arg&gt;--add-opens&lt;/arg&gt;\n          &lt;arg&gt;java.base/java.util.concurrent=ALL-UNNAMED&lt;/arg&gt;\n          &lt;arg&gt;--add-opens&lt;/arg&gt;\n          &lt;arg&gt;java.base/java.util=ALL-UNNAMED&lt;/arg&gt;\n        &lt;/compilerArgs&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n<p>Also I would recheck if the error messages like those can't be solved in an other way. Maybe upgrading dependencies or alike? Have you used <code>module-info.class</code>? Module Path?</p>\n"}],"owner":{"account_id":11614164,"reputation":83,"user_id":8507504,"display_name":"Jared"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693251047,"creation_date":1693248943,"question_id":76995399,"body_markdown":"I need to upgrade my app to **JDK17**\r\n\r\nHowever, after this upgrade, the tests fail with an error `java.lang.reflect.InaccessibleObjectException: Unable to make protected native java.lang.Object java.lang.Object.clone() throws java.lang.CloneNotSupportedException accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module`\r\n\r\nI&#39;m able to fix the error in my **Intellij** if I edit the test configuration and add the VM options `--add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.lang.reflect=ALL-UNNAMED --add-opens java.base/java.util.concurrent=ALL-UNNAMED --add-opens java.base/java.util=ALL-UNNAMED`\r\n\r\nBut when I specify the same in my pom.xml file using `&lt;argLine&gt;--add-opens java.base/java.lang=ALL-UNNAMED&lt;/argLine&gt;`, mvn does **NOT** pick it up and I run into the error again!\r\n\r\n**Any idea how to fix this problem?\r\nAny help is greatly appreciated**\r\n\r\n```\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.2&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;skipTests&gt;${skip.surefire.integration.tests}&lt;/skipTests&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;**/*Test.java&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n                &lt;forkCount&gt;10&lt;/forkCount&gt;\r\n                &lt;reuseForks&gt;false&lt;/reuseForks&gt;\r\n                &lt;argLine&gt;--add-opens java.base/java.lang=ALL-UNNAMED&lt;/argLine&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;com.salesforce.atf&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;salesforce-test-client-provider&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.0.1&lt;/version&gt;\r\n                    &lt;exclusions&gt;\r\n                        &lt;exclusion&gt;\r\n                            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n                        &lt;/exclusion&gt;\r\n                    &lt;/exclusions&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;com.salesforce.atf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testclient-report-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.1&lt;/version&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;phase&gt;verify&lt;/phase&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;stc-report-only&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```","title":"Maven Surefire plugin is not copying JVM Options","body":"<p>I need to upgrade my app to <strong>JDK17</strong></p>\n<p>However, after this upgrade, the tests fail with an error <code>java.lang.reflect.InaccessibleObjectException: Unable to make protected native java.lang.Object java.lang.Object.clone() throws java.lang.CloneNotSupportedException accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module</code></p>\n<p>I'm able to fix the error in my <strong>Intellij</strong> if I edit the test configuration and add the VM options <code>--add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.lang.reflect=ALL-UNNAMED --add-opens java.base/java.util.concurrent=ALL-UNNAMED --add-opens java.base/java.util=ALL-UNNAMED</code></p>\n<p>But when I specify the same in my pom.xml file using <code>&lt;argLine&gt;--add-opens java.base/java.lang=ALL-UNNAMED&lt;/argLine&gt;</code>, mvn does <strong>NOT</strong> pick it up and I run into the error again!</p>\n<p><strong>Any idea how to fix this problem?\nAny help is greatly appreciated</strong></p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;skipTests&gt;${skip.surefire.integration.tests}&lt;/skipTests&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/*Test.java&lt;/include&gt;\n                &lt;/includes&gt;\n                &lt;forkCount&gt;10&lt;/forkCount&gt;\n                &lt;reuseForks&gt;false&lt;/reuseForks&gt;\n                &lt;argLine&gt;--add-opens java.base/java.lang=ALL-UNNAMED&lt;/argLine&gt;\n            &lt;/configuration&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;com.salesforce.atf&lt;/groupId&gt;\n                    &lt;artifactId&gt;salesforce-test-client-provider&lt;/artifactId&gt;\n                    &lt;version&gt;1.0.1&lt;/version&gt;\n                    &lt;exclusions&gt;\n                        &lt;exclusion&gt;\n                            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                        &lt;/exclusion&gt;\n                    &lt;/exclusions&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;com.salesforce.atf&lt;/groupId&gt;\n            &lt;artifactId&gt;testclient-report-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;verify&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;stc-report-only&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":["java","redirect","httpresponse","http-status-code-302","http-status-code-307"],"comments":[{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":1,"creation_date":1507489126,"post_id":46634209,"comment_id":80219023,"body_markdown":"See https://stackoverflow.com/questions/2068418/whats-the-difference-between-a-302-and-a-307-redirect","body":"See <a href=\"https://stackoverflow.com/questions/2068418/whats-the-difference-between-a-302-and-a-307-redirect\" title=\"whats the difference between a 302 and a 307 redirect\">stackoverflow.com/questions/2068418/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4555248,"reputation":27,"user_id":3699165,"display_name":"ABHI"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693250844,"creation_date":1529673801,"answer_id":50988963,"question_id":46634209,"body_markdown":"Instead of using `sendRedirect`, set the `Location` header in the `response` object like so:\r\n\r\n    response.setStatus(HttpServletResponse.SC_TEMPORARY_REDIRECT);\r\n    response.setHeader(&quot;Location&quot;,&quot;https://we.google.com&quot;);\r\n    \r\n","title":"response.sendRedirect shows unwanted HttpStatus 302 instead of 307","body":"<p>Instead of using <code>sendRedirect</code>, set the <code>Location</code> header in the <code>response</code> object like so:</p>\n<pre><code>response.setStatus(HttpServletResponse.SC_TEMPORARY_REDIRECT);\nresponse.setHeader(&quot;Location&quot;,&quot;https://we.google.com&quot;);\n</code></pre>\n"}],"owner":{"account_id":461603,"reputation":1545,"user_id":863403,"accept_rate":88,"display_name":"Joergi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2860,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693250844,"creation_date":1507485127,"question_id":46634209,"body_markdown":"I have a small test, which should return a HttpStatus with Temporary Redirect with HttpStatus Code 307.  \r\nBut it always returns a 302.  \r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/&quot;)\r\n    public class Controller {\r\n    \r\n        @ResponseStatus(HttpStatus.TEMPORARY_REDIRECT ) \r\n        @RequestMapping(value= &quot;test&quot;, method = RequestMethod.GET)\r\n        public void resolveUrl(HttpServletResponse response) throws IOException {\r\n            response.setStatus(HttpServletResponse.SC_TEMPORARY_REDIRECT);\r\n            response.sendRedirect(&quot;https://www.google.com&quot;);\r\n        }\r\n    }\r\n\r\nWhen I look into the documentation of `response.sendRedirect()` I can read this: \r\n\r\n&gt; Sends a temporary redirect response to the client using the specified\r\n&gt;      * redirect location URL.\r\n\r\nand the [documentation of temporary redirect is a 307][1]:\r\n\r\n&gt; 10.3.8 307 Temporary Redirect\r\n&gt; \r\n&gt; The requested resource resides temporarily under a different URI.\r\n&gt; Since the redirection MAY be altered on occasion, the client SHOULD\r\n&gt; continue to use the Request-URI for future requests. This response is\r\n&gt; only cacheable if indicated by a Cache-Control or Expires header\r\n&gt; field.\r\n\r\n(I know, that I don&#39;t need the `@ResponseStatus(HttpStatus.TEMPORARY_REDIRECT)` or the `response.setStatus(HttpServletResponse.SC_TEMPORARY_REDIRECT);` but I want to show that it will not work with this things too!)\r\n\r\nBut my test shows that it was a 302 and not a 307\r\n\r\n&gt; java.lang.AssertionError: Status expected:&lt;307&gt; but was:&lt;302&gt;\r\n\r\nCan somebody explain this?\r\n\r\nMy small test for this:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @WebMvcTest(Controller.class)\r\n    public class ControllerTest {\r\n    \r\n        @Autowired\r\n        private MockMvc mvc;\r\n    \r\n        @Test\r\n        public void test() throws Exception {\r\n            MockHttpServletRequestBuilder requestBuilder = get(&quot;/test&quot;);\r\n            mvc.perform(requestBuilder).andExpect(status().isTemporaryRedirect())\r\n                    .andExpect(redirectedUrl(&quot;https://www.google.com&quot;));\r\n        }\r\n    \r\n    }\r\n\r\n[Complete code can be found at github][2]\r\n\r\n\r\n  [1]: https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html\r\n  [2]: https://github.com/joergi/temporalymoved","title":"response.sendRedirect shows unwanted HttpStatus 302 instead of 307","body":"<p>I have a small test, which should return a HttpStatus with Temporary Redirect with HttpStatus Code 307.<br>\nBut it always returns a 302.  </p>\n\n<pre><code>@RestController\n@RequestMapping(value = \"/\")\npublic class Controller {\n\n    @ResponseStatus(HttpStatus.TEMPORARY_REDIRECT ) \n    @RequestMapping(value= \"test\", method = RequestMethod.GET)\n    public void resolveUrl(HttpServletResponse response) throws IOException {\n        response.setStatus(HttpServletResponse.SC_TEMPORARY_REDIRECT);\n        response.sendRedirect(\"https://www.google.com\");\n    }\n}\n</code></pre>\n\n<p>When I look into the documentation of <code>response.sendRedirect()</code> I can read this: </p>\n\n<blockquote>\n  <p>Sends a temporary redirect response to the client using the specified\n       * redirect location URL.</p>\n</blockquote>\n\n<p>and the <a href=\"https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html\" rel=\"nofollow noreferrer\">documentation of temporary redirect is a 307</a>:</p>\n\n<blockquote>\n  <p>10.3.8 307 Temporary Redirect</p>\n  \n  <p>The requested resource resides temporarily under a different URI.\n  Since the redirection MAY be altered on occasion, the client SHOULD\n  continue to use the Request-URI for future requests. This response is\n  only cacheable if indicated by a Cache-Control or Expires header\n  field.</p>\n</blockquote>\n\n<p>(I know, that I don't need the <code>@ResponseStatus(HttpStatus.TEMPORARY_REDIRECT)</code> or the <code>response.setStatus(HttpServletResponse.SC_TEMPORARY_REDIRECT);</code> but I want to show that it will not work with this things too!)</p>\n\n<p>But my test shows that it was a 302 and not a 307</p>\n\n<blockquote>\n  <p>java.lang.AssertionError: Status expected:&lt;307> but was:&lt;302></p>\n</blockquote>\n\n<p>Can somebody explain this?</p>\n\n<p>My small test for this:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@WebMvcTest(Controller.class)\npublic class ControllerTest {\n\n    @Autowired\n    private MockMvc mvc;\n\n    @Test\n    public void test() throws Exception {\n        MockHttpServletRequestBuilder requestBuilder = get(\"/test\");\n        mvc.perform(requestBuilder).andExpect(status().isTemporaryRedirect())\n                .andExpect(redirectedUrl(\"https://www.google.com\"));\n    }\n\n}\n</code></pre>\n\n<p><a href=\"https://github.com/joergi/temporalymoved\" rel=\"nofollow noreferrer\">Complete code can be found at github</a></p>\n"},{"tags":["java","gitlab"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1693247445,"post_id":76995092,"comment_id":135732638,"body_markdown":"Why do you expect GitLab to parse markdown in Java files? Can you share the relevant file?","body":"Why do you expect GitLab to parse markdown in Java files? Can you share the relevant file?"},{"owner":{"account_id":20090406,"reputation":415,"user_id":14731030,"display_name":"pensee"},"score":0,"creation_date":1693250582,"post_id":76995092,"comment_id":135733189,"body_markdown":"@dan1st That&#39;s reasonable. What I am doing currently is copying the markdown comment and pasting it into some online markdown viewer to understand it which is inconvenient. I see some code written like that in my company. Not sure if this is a recommended practice or should be avoided?","body":"@dan1st That&#39;s reasonable. What I am doing currently is copying the markdown comment and pasting it into some online markdown viewer to understand it which is inconvenient. I see some code written like that in my company. Not sure if this is a recommended practice or should be avoided?"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1693251793,"post_id":76995092,"comment_id":135733377,"body_markdown":"That&#39;s not Markdown, that&#39;s plain ol&#39; HTML. (But why would GitLab render HTML in a Java file? You want to see the source code, not the rendered or compiler version of it)","body":"That&#39;s not Markdown, that&#39;s plain ol&#39; HTML. (But why would GitLab render HTML in a Java file? You want to see the source code, not the rendered or compiler version of it)"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1693252220,"post_id":76995092,"comment_id":135733436,"body_markdown":"Do you expect a Javadoc viewer? You can use your IDE for that. Why do you think GitLab is supposed to do that?","body":"Do you expect a Javadoc viewer? You can use your IDE for that. Why do you think GitLab is supposed to do that?"}],"owner":{"account_id":20090406,"reputation":415,"user_id":14731030,"display_name":"pensee"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693250431,"creation_date":1693245758,"question_id":76995092,"body_markdown":"In a Java file on GitLab, I see the following in the comments:  \r\n`&lt;br&gt;&amp;lt;Configuration&amp;gt;`   \r\n Not sure why GitLab is not parsing the markdown and displaying it properly.  \r\n Is there a way to do it?  \r\n or markdown things should not be in the comments in a Java file  \r\nHere is a minimal version of the file:  \r\n\r\n     package abc.xyz;\r\n        \r\n     import abc.util.SUtil; \r\n        /**\r\n        *\r\n        *&lt;table border=&quot;1&quot;&gt;\r\n        *&lt;tr&gt; \r\n        *.\r\n        *.\r\n        *.\r\n        **/\r\n     public class XP {\r\n        /** &lt;br&gt;&amp;lt;Configuration&amp;gt;\r\n        *.\r\n        *.\r\n        **/\r\n      void method(){\r\n         }\r\n        }\r\n    \r\n\r\nHere the markdown comments above the method explain what the method does.","title":"Gitlab not processing markdown in comments in a java file","body":"<p>In a Java file on GitLab, I see the following in the comments:<br />\n<code>&lt;br&gt;&amp;lt;Configuration&amp;gt;</code><br />\nNot sure why GitLab is not parsing the markdown and displaying it properly.<br />\nIs there a way to do it?<br />\nor markdown things should not be in the comments in a Java file<br />\nHere is a minimal version of the file:</p>\n<pre><code> package abc.xyz;\n    \n import abc.util.SUtil; \n    /**\n    *\n    *&lt;table border=&quot;1&quot;&gt;\n    *&lt;tr&gt; \n    *.\n    *.\n    *.\n    **/\n public class XP {\n    /** &lt;br&gt;&amp;lt;Configuration&amp;gt;\n    *.\n    *.\n    **/\n  void method(){\n     }\n    }\n</code></pre>\n<p>Here the markdown comments above the method explain what the method does.</p>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":91845,"reputation":258335,"user_id":252000,"accept_rate":95,"display_name":"fredoverflow"},"score":18,"creation_date":1310644774,"post_id":6692664,"comment_id":7919429,"body_markdown":"In computer science, indices start at 0, not 1 ;-)","body":"In computer science, indices start at 0, not 1 ;-)"},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":1,"creation_date":1310646047,"post_id":6692664,"comment_id":7919794,"body_markdown":"Are you sure you want to? Generally you shouldn&#39;t be touching the ordinal, other than implementing low-level data structures (and then, use alternative mechanisms, such as name, for persistence).","body":"Are you sure you want to? Generally you shouldn&#39;t be touching the ordinal, other than implementing low-level data structures (and then, use alternative mechanisms, such as name, for persistence)."},{"owner":{"account_id":51752,"reputation":1912,"user_id":154640,"accept_rate":100,"display_name":"Chris Aldrich"},"score":0,"creation_date":1310647636,"post_id":6692664,"comment_id":7920282,"body_markdown":"You could also have used the constants in the java.util.Calendar class too. They are numbered 0 - 11 for Jan - Dec. Be careful of 12 as that is UnDecember (something to do with the lunar calendar). But I&#39;m just curious why re-inventing the wheel of month constants that already comes &quot;stock&quot; in the JRE?","body":"You could also have used the constants in the java.util.Calendar class too. They are numbered 0 - 11 for Jan - Dec. Be careful of 12 as that is UnDecember (something to do with the lunar calendar). But I&#39;m just curious why re-inventing the wheel of month constants that already comes &quot;stock&quot; in the JRE?"},{"owner":{"account_id":245471,"reputation":5488,"user_id":518983,"accept_rate":75,"display_name":"jk_"},"score":0,"creation_date":1310652175,"post_id":6692664,"comment_id":7921777,"body_markdown":"2FredOverflow: Aggree, I used wrong indexing.   \n2Tom Hawtin: Yes, I am sure. I persist data with some framework and I get back integer index, not the enum.  \n2Chris Aldrich: This is just dummy example which does not match real case.","body":"2FredOverflow: Aggree, I used wrong indexing.    2Tom Hawtin: Yes, I am sure. I persist data with some framework and I get back integer index, not the enum.   2Chris Aldrich: This is just dummy example which does not match real case."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1554927762,"post_id":6692664,"comment_id":97934479,"body_markdown":"By the way, Java 8 and later comes with a [`Month`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Month.html) enum built-in.","body":"By the way, Java 8 and later comes with a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Month.html\" rel=\"nofollow noreferrer\"><code>Month</code></a> enum built-in."}],"answers":[{"tags":[],"owner":{"account_id":269622,"reputation":58936,"user_id":559070,"accept_rate":74,"display_name":"Harry Joy"},"down_vote_count":0,"up_vote_count":273,"is_accepted":true,"score":273,"last_activity_date":1310644409,"creation_date":1310644409,"answer_id":6692713,"question_id":6692664,"body_markdown":"Try this\r\n\r\n    Months.values()[index]","title":"How to get Enum Value from index in Java?","body":"<p>Try this</p>\n\n<pre><code>Months.values()[index]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":70703,"reputation":1754,"user_id":204786,"display_name":"Trever Shick"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1310644882,"creation_date":1310644882,"answer_id":6692800,"question_id":6692664,"body_markdown":"Here&#39;s three ways to do it.\r\n\r\n\r\n\r\n    public enum Months {\r\n\t    JAN(1), FEB(2), MAR(3), APR(4), MAY(5), JUN(6), JUL(7), AUG(8), SEP(9), OCT(10), NOV(11), DEC(12);\r\n\t    \r\n\r\n\t    int monthOrdinal = 0;\r\n\t    \r\n\t    Months(int ord) {\r\n\t    \tthis.monthOrdinal = ord;\r\n\t    }\r\n\r\n\t    public static Months byOrdinal2ndWay(int ord) {\r\n\t    \treturn Months.values()[ord-1]; // less safe\r\n\t    }\r\n\t    \r\n\t    public static Months byOrdinal(int ord) {\r\n\t    \tfor (Months m : Months.values()) {\r\n\t    \t\tif (m.monthOrdinal == ord) {\r\n\t    \t\t\treturn m;\r\n\t    \t\t}\r\n\t    \t}\r\n\t    \treturn null;\r\n\t    }\r\n\t    public static Months[] MONTHS_INDEXED = new Months[] { null, JAN, FEB, MAR, APR, MAY, JUN, JUL, AUG, SEP, OCT, NOV, DEC };\r\n\t    \r\n    }\r\n\r\n\r\n\r\n\r\n    import static junit.framework.Assert.assertEquals;\r\n\r\n    import org.junit.Test;\r\n\r\n    public class MonthsTest {\r\n\t\r\n\t@Test\r\n\tpublic void test_indexed_access() {\r\n\t\tassertEquals(Months.MONTHS_INDEXED[1], Months.JAN);\r\n\t\tassertEquals(Months.MONTHS_INDEXED[2], Months.FEB);\r\n\t\t\r\n\t\tassertEquals(Months.byOrdinal(1), Months.JAN);\r\n\t\tassertEquals(Months.byOrdinal(2), Months.FEB);\r\n\r\n\t\r\n\t\tassertEquals(Months.byOrdinal2ndWay(1), Months.JAN);\r\n\t\tassertEquals(Months.byOrdinal2ndWay(2), Months.FEB);\r\n    }\r\n\r\n    }\r\n","title":"How to get Enum Value from index in Java?","body":"<p>Here's three ways to do it.</p>\n\n<pre><code>public enum Months {\n    JAN(1), FEB(2), MAR(3), APR(4), MAY(5), JUN(6), JUL(7), AUG(8), SEP(9), OCT(10), NOV(11), DEC(12);\n\n\n    int monthOrdinal = 0;\n\n    Months(int ord) {\n        this.monthOrdinal = ord;\n    }\n\n    public static Months byOrdinal2ndWay(int ord) {\n        return Months.values()[ord-1]; // less safe\n    }\n\n    public static Months byOrdinal(int ord) {\n        for (Months m : Months.values()) {\n            if (m.monthOrdinal == ord) {\n                return m;\n            }\n        }\n        return null;\n    }\n    public static Months[] MONTHS_INDEXED = new Months[] { null, JAN, FEB, MAR, APR, MAY, JUN, JUL, AUG, SEP, OCT, NOV, DEC };\n\n}\n\n\n\n\nimport static junit.framework.Assert.assertEquals;\n\nimport org.junit.Test;\n\npublic class MonthsTest {\n\n@Test\npublic void test_indexed_access() {\n    assertEquals(Months.MONTHS_INDEXED[1], Months.JAN);\n    assertEquals(Months.MONTHS_INDEXED[2], Months.FEB);\n\n    assertEquals(Months.byOrdinal(1), Months.JAN);\n    assertEquals(Months.byOrdinal(2), Months.FEB);\n\n\n    assertEquals(Months.byOrdinal2ndWay(1), Months.JAN);\n    assertEquals(Months.byOrdinal2ndWay(2), Months.FEB);\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12944086,"reputation":113,"user_id":9358945,"display_name":"Blauspecht"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1518601429,"creation_date":1518598637,"answer_id":48783112,"question_id":6692664,"body_markdown":"I just tried the same and came up with following solution:\r\n\r\n    public enum Countries {\r\n\t    TEXAS,\r\n\t    FLORIDA,\r\n\t\tOKLAHOMA,\r\n\t\tKENTUCKY;\r\n\r\n\t\tprivate static Countries[] list = Countries.values();\r\n\t\r\n\t\tpublic static Countries getCountry(int i) {\r\n\t\t\treturn list[i];\r\n\t\t}\r\n\t\r\n\t\tpublic static int listGetLastIndex() {\r\n\t\t\treturn list.length - 1;\r\n\t\t}\r\n\t}\r\n\r\nThe class has it&#39;s own values saved inside an array, and I use the array to get the enum at indexposition. As mentioned above arrays begin to count from 0, if you want your index to start from &#39;1&#39; simply change these two methods to:\r\n\r\n    public static String getCountry(int i) {\r\n\t\treturn list[(i - 1)];\r\n\t}\r\n\t\r\n\tpublic static int listGetLastIndex() {\r\n\t\treturn list.length;\r\n\t}\r\n\r\nInside my Main I get the needed countries-object with \r\n\r\n    public static void main(String[] args) {\r\n       int i = Countries.listGetLastIndex();\r\n\t   Countries currCountry = Countries.getCountry(i);\r\n\t}\r\nwhich sets currCountry to the last country, in this case Countries.KENTUCKY.\r\n\r\nJust remember this code is very affected by ArrayOutOfBoundsExceptions if you&#39;re using hardcoded indicies to get your objects.","title":"How to get Enum Value from index in Java?","body":"<p>I just tried the same and came up with following solution:</p>\n\n<pre><code>public enum Countries {\n    TEXAS,\n    FLORIDA,\n    OKLAHOMA,\n    KENTUCKY;\n\n    private static Countries[] list = Countries.values();\n\n    public static Countries getCountry(int i) {\n        return list[i];\n    }\n\n    public static int listGetLastIndex() {\n        return list.length - 1;\n    }\n}\n</code></pre>\n\n<p>The class has it's own values saved inside an array, and I use the array to get the enum at indexposition. As mentioned above arrays begin to count from 0, if you want your index to start from '1' simply change these two methods to:</p>\n\n<pre><code>public static String getCountry(int i) {\n    return list[(i - 1)];\n}\n\npublic static int listGetLastIndex() {\n    return list.length;\n}\n</code></pre>\n\n<p>Inside my Main I get the needed countries-object with </p>\n\n<pre><code>public static void main(String[] args) {\n   int i = Countries.listGetLastIndex();\n   Countries currCountry = Countries.getCountry(i);\n}\n</code></pre>\n\n<p>which sets currCountry to the last country, in this case Countries.KENTUCKY.</p>\n\n<p>Just remember this code is very affected by ArrayOutOfBoundsExceptions if you're using hardcoded indicies to get your objects.</p>\n"},{"tags":[],"owner":{"account_id":15269665,"reputation":121,"user_id":11017239,"display_name":"Mirko Brandt"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1552569741,"creation_date":1552569233,"answer_id":55163510,"question_id":6692664,"body_markdown":"I recently had the same problem and used the solution provided by Harry Joy. \r\nThat solution only works with with zero-based enumaration though. I also wouldn&#39;t consider it save as it doesn&#39;t deal with indexes that are out of range.\r\n\r\nThe solution I ended up using might not be as simple but it&#39;s completely save and won&#39;t hurt the performance of your code even with big enums:\r\n```\r\npublic enum Example {\r\n\r\n\tUNKNOWN(0, &quot;unknown&quot;), ENUM1(1, &quot;enum1&quot;), ENUM2(2, &quot;enum2&quot;), ENUM3(3, &quot;enum3&quot;);\r\n\r\n\tprivate static HashMap&lt;Integer, Example&gt; enumById = new HashMap&lt;&gt;();\r\n\tstatic {\r\n\t\tArrays.stream(values()).forEach(e -&gt; enumById.put(e.getId(), e));\r\n\t}\r\n\r\n\tpublic static Example getById(int id) {\r\n\t\treturn enumById.getOrDefault(id, UNKNOWN);\r\n\t}\r\n\r\n\tprivate int id;\r\n\tprivate String description;\r\n\r\n\tprivate Example(int id, String description) {\r\n\t\tthis.id = id;\r\n\t\tthis.description= description;\r\n\t}\r\n\r\n\tpublic String getDescription() {\r\n\t\treturn description;\r\n\t}\r\n\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n}\r\n```\r\nIf you are sure that you will never be out of range with your index and you don&#39;t want to use `UNKNOWN` like I did above you can of course also do:\r\n\r\n```\r\npublic static Example getById(int id) {\r\n        return enumById.get(id);\r\n}\r\n```","title":"How to get Enum Value from index in Java?","body":"<p>I recently had the same problem and used the solution provided by Harry Joy. \nThat solution only works with with zero-based enumaration though. I also wouldn't consider it save as it doesn't deal with indexes that are out of range.</p>\n\n<p>The solution I ended up using might not be as simple but it's completely save and won't hurt the performance of your code even with big enums:</p>\n\n<pre><code>public enum Example {\n\n    UNKNOWN(0, \"unknown\"), ENUM1(1, \"enum1\"), ENUM2(2, \"enum2\"), ENUM3(3, \"enum3\");\n\n    private static HashMap&lt;Integer, Example&gt; enumById = new HashMap&lt;&gt;();\n    static {\n        Arrays.stream(values()).forEach(e -&gt; enumById.put(e.getId(), e));\n    }\n\n    public static Example getById(int id) {\n        return enumById.getOrDefault(id, UNKNOWN);\n    }\n\n    private int id;\n    private String description;\n\n    private Example(int id, String description) {\n        this.id = id;\n        this.description= description;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public int getId() {\n        return id;\n    }\n}\n</code></pre>\n\n<p>If you are sure that you will never be out of range with your index and you don't want to use <code>UNKNOWN</code> like I did above you can of course also do:</p>\n\n<pre><code>public static Example getById(int id) {\n        return enumById.get(id);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1228608,"reputation":1107,"user_id":1193657,"display_name":"Talijanac"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693250046,"creation_date":1693249692,"answer_id":76995465,"question_id":6692664,"body_markdown":"The natural ordering of Java enums is **by the order of the values declared** in the enum. Unfortunately, using *values()* method will allocate new array on each invocation. Thus creating performance issues.\r\n\r\n**static initializer** can assign ordinal to each enum member based on natural order. Thus we don&#39;t have to maintain order -&gt; id mapping. Additionally using cached *values()* response solves issue with constant allocation.\r\n\r\n\r\n    enum Months {\r\n        JAN, FEB, MAR, APR, MAY, JUN, JUL, AUG, SEP, OCT, NOV, DEC;\r\n\r\n        int ordinal;     // ordinal will start from 1\r\n\r\n        // cached instance used as optimization\r\n        final static Months[] values = Months.values();\r\n\r\n        static {\r\n            // ordinal is initialized based on enum natural order\r\n            int counter = 1;\r\n            for (Months m: values)\r\n                m.ordinal = counter++;  \r\n        }\r\n\r\n        public static Months getMonth(int ordinal) {\r\n            return values[ordinal - 1];\r\n        }\r\n    }\r\n\r\n\r\nI had similar issue rising using JDBC ResultSet. I wanted to use ResultSet&#39;s index methods for field access, but I did not want to stop using column names as column count is high. ResultSet is also numbered starting 1 as first element. Similar enum was a natural solution to the problem.","title":"How to get Enum Value from index in Java?","body":"<p>The natural ordering of Java enums is <strong>by the order of the values declared</strong> in the enum. Unfortunately, using <em>values()</em> method will allocate new array on each invocation. Thus creating performance issues.</p>\n<p><strong>static initializer</strong> can assign ordinal to each enum member based on natural order. Thus we don't have to maintain order -&gt; id mapping. Additionally using cached <em>values()</em> response solves issue with constant allocation.</p>\n<pre><code>enum Months {\n    JAN, FEB, MAR, APR, MAY, JUN, JUL, AUG, SEP, OCT, NOV, DEC;\n\n    int ordinal;     // ordinal will start from 1\n\n    // cached instance used as optimization\n    final static Months[] values = Months.values();\n\n    static {\n        // ordinal is initialized based on enum natural order\n        int counter = 1;\n        for (Months m: values)\n            m.ordinal = counter++;  \n    }\n\n    public static Months getMonth(int ordinal) {\n        return values[ordinal - 1];\n    }\n}\n</code></pre>\n<p>I had similar issue rising using JDBC ResultSet. I wanted to use ResultSet's index methods for field access, but I did not want to stop using column names as column count is high. ResultSet is also numbered starting 1 as first element. Similar enum was a natural solution to the problem.</p>\n"}],"owner":{"account_id":245471,"reputation":5488,"user_id":518983,"accept_rate":75,"display_name":"jk_"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204602,"favorite_count":0,"down_vote_count":0,"up_vote_count":111,"accepted_answer_id":6692713,"answer_count":5,"score":111,"last_activity_date":1693250046,"creation_date":1310644174,"question_id":6692664,"body_markdown":"I have an enum in Java:\r\n\r\n    public enum Months\r\n    {\r\n        JAN, FEB, MAR, APR, MAY, JUN, JUL, AUG, SEP, OCT, NOV, DEC\r\n    }\r\n\r\nI want to access enum values by index, e.g.\r\n\r\n    Months(1) = JAN;\r\n    Months(2) = FEB;\r\n    ...\r\n\r\nHow shall I do that?","title":"How to get Enum Value from index in Java?","body":"<p>I have an enum in Java:</p>\n\n<pre><code>public enum Months\n{\n    JAN, FEB, MAR, APR, MAY, JUN, JUL, AUG, SEP, OCT, NOV, DEC\n}\n</code></pre>\n\n<p>I want to access enum values by index, e.g.</p>\n\n<pre><code>Months(1) = JAN;\nMonths(2) = FEB;\n...\n</code></pre>\n\n<p>How shall I do that?</p>\n"},{"tags":["java","oracle","hibernate","ora-17004"],"comments":[{"owner":{"account_id":186344,"reputation":10769,"user_id":423673,"display_name":"baklarz2048"},"score":0,"creation_date":1285741854,"post_id":3819135,"comment_id":4052807,"body_markdown":"&quot;I also tried getting the getInnermostDelegate but this also does not work.&quot; I always use getInnermostDelegate(); and it works. Please send error with getInnermostDelegate/* Connection oracleConnection = conn;\n\nif (conn instanceof org.apache.commons.dbcp.DelegatingConnection) {\noracleConnection = ((org.apache.commons.dbcp.DelegatingConnection)conn).getInnermostDelegate();\n} */","body":"&quot;I also tried getting the getInnermostDelegate but this also does not work.&quot; I always use getInnermostDelegate(); and it works. Please send error with getInnermostDelegate/* Connection oracleConnection = conn;  if (conn instanceof org.apache.commons.dbcp.DelegatingConnection) { oracleConnection = ((org.apache.commons.dbcp.DelegatingConnection)conn).getInne&zwnj;&#8203;rmostDelegate(); } */"}],"answers":[{"tags":[],"owner":{"account_id":198402,"reputation":1951,"user_id":443034,"accept_rate":33,"display_name":"Bassel Kh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1356855193,"creation_date":1356855193,"answer_id":14089282,"question_id":3819135,"body_markdown":"I faced a lots of problem using XMLType from java, I fixed this problem is a very simple way.\r\n\r\nI changed the input data type from oracle DB side, from XMLtype to CLOB, then I easily pass CLOB and at the first line in the stored procedure; I built an XMLType from CLOB.\r\n\r\nCLOB is very straight forward in java, just use it as String (`statement.setString(1, string);`)","title":"How to Oracle XMLTYPE in Hibernate","body":"<p>I faced a lots of problem using XMLType from java, I fixed this problem is a very simple way.</p>\n\n<p>I changed the input data type from oracle DB side, from XMLtype to CLOB, then I easily pass CLOB and at the first line in the stored procedure; I built an XMLType from CLOB.</p>\n\n<p>CLOB is very straight forward in java, just use it as String (<code>statement.setString(1, string);</code>)</p>\n"},{"tags":[],"owner":{"account_id":1752885,"reputation":751,"user_id":1601579,"display_name":"Matt M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376687321,"creation_date":1376687321,"answer_id":18282152,"question_id":3819135,"body_markdown":"I solved this same problem, but mapped the XMLType column to java.lang.String in my entity, which simplified the solution.\r\n\r\nI left a detailed, [step-by-step solution as an answer to another question][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/18282094/1601579","title":"How to Oracle XMLTYPE in Hibernate","body":"<p>I solved this same problem, but mapped the XMLType column to java.lang.String in my entity, which simplified the solution.</p>\n\n<p>I left a detailed, <a href=\"https://stackoverflow.com/a/18282094/1601579\">step-by-step solution as an answer to another question</a>.</p>\n"}],"owner":{"account_id":121382,"reputation":169,"user_id":314431,"accept_rate":44,"display_name":"Kiru"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9341,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1693249721,"creation_date":1285740263,"question_id":3819135,"body_markdown":"One of the column is of the type XMLTYPE in Oracle database.\r\nIn my application, I want to persist the data and using Hibernate.\r\n\r\nI did the following for mapping XMLTYPE in hibernate\r\n\r\n1. Define the custom user type implementing UserType\r\n\r\n2. The custom user type implementation is based on the blog link - [http://community.jboss.org/wiki/MappingOracleXmlTypetoDocument][1]\r\n\r\n3.  ut we are not using C3p0 connection pool and instead we are using DBCP\r\n\r\nI am facing issue while creating the XMLType in the custom user type\r\n\r\n    XMLType.createXML(st.getConnection(),HibernateXMLType.domToString((Document) value));\r\n\r\nwhere st is the preparedStatement passed to the method.\r\n\r\nThe **connection object returned by st.getConnection() is of the type org.apache.commons.dbcp.PoolableConnection**\r\n\r\n**But the createXML method expects connection object only of the type oracle.jdbc.OracleConnection**\r\n\r\nI also tried getting the getInnermostDelegate but this also does not work.\r\n\r\nThe XMLTYPE creation methods are in the included jar xdb.jar - will there be any changes depending on the versions included?\r\n\r\nThanks\r\n\r\n\r\n  [1]: http://community.jboss.org/wiki/MappingOracleXmlTypetoDocument\r\n\r\n\r\n\r\n++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\r\n\r\nGot the SQLConnection object using the below code-\r\n\r\n    SimpleNativeJdbcExtractor extractor = new SimpleNativeJdbcExtractor();\r\n    PoolableConnection poolableConnection = (PoolableConnection) extractor\r\n    \t\t\t\t.getNativeConnection(st.getConnection());\r\n    Connection sqlConnection = poolableConnection.getInnermostDelegate();\r\n\r\nNow, the error message is **java.sql.SQLException: Invalid column type**\r\n\r\nBelow is the over ridden method\r\n\r\n    public void nullSafeSet(PreparedStatement st, Object value, int index)\r\n    \t\t\tthrows HibernateException, SQLException {\r\n    \r\n    \t\tSimpleNativeJdbcExtractor extractor = new SimpleNativeJdbcExtractor();\r\n    \t\tPoolableConnection poolableConnection = (PoolableConnection) extractor\r\n    \t\t\t\t.getNativeConnection(st.getConnection());\r\n    \t\tConnection sqlConnection = poolableConnection.getInnermostDelegate();\r\n    \r\n    \t\ttry {\r\n    \t\t\tXMLType xmlType = null;\r\n    \t\t\tif (value != null) {\r\n    \t\t\t\txmlType.createXML(sqlConnection, HibernateXMLType\r\n    \t\t\t\t\t\t.domToString((Document) value));\r\n    \r\n    \t\t\t}\r\n    \t\t\tst.setObject(index, xmlType);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t\tthrow new SQLException(\r\n    \t\t\t\t\t&quot;Could not convert Document to String for storage&quot;);\r\n    \t\t}\r\n    \t}\r\n\r\n\r\n\r\n**Left with no clue now...**","title":"How to Oracle XMLTYPE in Hibernate","body":"<p>One of the column is of the type XMLTYPE in Oracle database.\nIn my application, I want to persist the data and using Hibernate.</p>\n\n<p>I did the following for mapping XMLTYPE in hibernate</p>\n\n<ol>\n<li><p>Define the custom user type implementing UserType</p></li>\n<li><p>The custom user type implementation is based on the blog link - <a href=\"http://community.jboss.org/wiki/MappingOracleXmlTypetoDocument\" rel=\"nofollow\">http://community.jboss.org/wiki/MappingOracleXmlTypetoDocument</a></p></li>\n<li><p>ut we are not using C3p0 connection pool and instead we are using DBCP</p></li>\n</ol>\n\n<p>I am facing issue while creating the XMLType in the custom user type</p>\n\n<pre><code>XMLType.createXML(st.getConnection(),HibernateXMLType.domToString((Document) value));\n</code></pre>\n\n<p>where st is the preparedStatement passed to the method.</p>\n\n<p>The <strong>connection object returned by st.getConnection() is of the type org.apache.commons.dbcp.PoolableConnection</strong></p>\n\n<p><strong>But the createXML method expects connection object only of the type oracle.jdbc.OracleConnection</strong></p>\n\n<p>I also tried getting the getInnermostDelegate but this also does not work.</p>\n\n<p>The XMLTYPE creation methods are in the included jar xdb.jar - will there be any changes depending on the versions included?</p>\n\n<p>Thanks</p>\n\n<p>++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</p>\n\n<p>Got the SQLConnection object using the below code-</p>\n\n<pre><code>SimpleNativeJdbcExtractor extractor = new SimpleNativeJdbcExtractor();\nPoolableConnection poolableConnection = (PoolableConnection) extractor\n                .getNativeConnection(st.getConnection());\nConnection sqlConnection = poolableConnection.getInnermostDelegate();\n</code></pre>\n\n<p>Now, the error message is <strong>java.sql.SQLException: Invalid column type</strong></p>\n\n<p>Below is the over ridden method</p>\n\n<pre><code>public void nullSafeSet(PreparedStatement st, Object value, int index)\n            throws HibernateException, SQLException {\n\n        SimpleNativeJdbcExtractor extractor = new SimpleNativeJdbcExtractor();\n        PoolableConnection poolableConnection = (PoolableConnection) extractor\n                .getNativeConnection(st.getConnection());\n        Connection sqlConnection = poolableConnection.getInnermostDelegate();\n\n        try {\n            XMLType xmlType = null;\n            if (value != null) {\n                xmlType.createXML(sqlConnection, HibernateXMLType\n                        .domToString((Document) value));\n\n            }\n            st.setObject(index, xmlType);\n        } catch (Exception e) {\n            e.printStackTrace();\n            throw new SQLException(\n                    \"Could not convert Document to String for storage\");\n        }\n    }\n</code></pre>\n\n<p><strong>Left with no clue now...</strong></p>\n"},{"tags":["java","intellij-idea","dependencies","connection","application-settings"],"owner":{"account_id":29316756,"reputation":1,"user_id":22461333,"display_name":"ONKAR SURYAWANSHI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693249526,"creation_date":1693249326,"question_id":76995430,"body_markdown":"[error image](https://i.stack.imgur.com/WfIdu.png)\r\n\r\ngetting an error as in above image while tring to run application in intellij.\r\nI have one another service running on &lt;service-name&gt;.default.8080 this is setup properly.\r\nnot much I onlie found regarding this issue.\r\nthank you \r\ntried 1. restart 2. unblocking specific ports 3. cache clean up nothing working also not much ","title":"client.ApiException: java.net.NoRouteToHostException: No route to host (Host unreachable) getting error while running java code","body":"<p><a href=\"https://i.stack.imgur.com/WfIdu.png\" rel=\"nofollow noreferrer\">error image</a></p>\n<p>getting an error as in above image while tring to run application in intellij.\nI have one another service running on .default.8080 this is setup properly.\nnot much I onlie found regarding this issue.\nthank you\ntried 1. restart 2. unblocking specific ports 3. cache clean up nothing working also not much</p>\n"},{"tags":["java","node.js","web","electron","frontend"],"comments":[{"owner":{"account_id":1408086,"reputation":3786,"user_id":1335245,"accept_rate":80,"display_name":"Charney Kaye"},"score":0,"creation_date":1693006492,"post_id":45638644,"comment_id":135707588,"body_markdown":"I&#39;ve been wondering if it&#39;s possible to use https://github.com/joeferner/node-java to ship a JAR of my Java services inside Electron&#39;s Node.js backend via JNI (not command line)","body":"I&#39;ve been wondering if it&#39;s possible to use <a href=\"https://github.com/joeferner/node-java\" rel=\"nofollow noreferrer\">github.com/joeferner/node-java</a> to ship a JAR of my Java services inside Electron&#39;s Node.js backend via JNI (not command line)"}],"answers":[{"tags":[],"owner":{"account_id":8067887,"reputation":696,"user_id":6081475,"display_name":"emish89"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1605596661,"creation_date":1502791287,"answer_id":45690645,"question_id":45638644,"body_markdown":"I made something similar, **Java back-end** with **Electron GUI**. \r\n\r\nYou can do it in more ways, it depends on what you need.\r\nYou can create a jar file and then execute it like terminal:\r\n\r\nhttps://nodejs.org/api/child_process.html\r\n\r\nOr you can open a **socket communication** and talk on a Port. (A lot of documentation:\r\n *Java (web)socket - Node.js client.io*) \r\n\r\nIn this second way, you can do everything you want, but you have to *create* your communication protocol.\r\n\r\nYour path is not foolish, I am very satisfied of the communication and usage in my work with Java + Electron .\r\n","title":"Can Electron apps be integrated with java code?","body":"<p>I made something similar, <strong>Java back-end</strong> with <strong>Electron GUI</strong>.</p>\n<p>You can do it in more ways, it depends on what you need.\nYou can create a jar file and then execute it like terminal:</p>\n<p><a href=\"https://nodejs.org/api/child_process.html\" rel=\"noreferrer\">https://nodejs.org/api/child_process.html</a></p>\n<p>Or you can open a <strong>socket communication</strong> and talk on a Port. (A lot of documentation:\n<em>Java (web)socket - Node.js client.io</em>)</p>\n<p>In this second way, you can do everything you want, but you have to <em>create</em> your communication protocol.</p>\n<p>Your path is not foolish, I am very satisfied of the communication and usage in my work with Java + Electron .</p>\n"},{"tags":[],"owner":{"account_id":446833,"reputation":2694,"user_id":840129,"accept_rate":89,"display_name":"jreznot"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1509989175,"creation_date":1509989175,"answer_id":47142493,"question_id":45638644,"body_markdown":"I&#39;ve created a small PoC where Java process is integrated with Electron front-end: https://github.com/jreznot/electron-java-app There you will find a simple TODO List application built with Vaadin/Jetty and Electron.","title":"Can Electron apps be integrated with java code?","body":"<p>I've created a small PoC where Java process is integrated with Electron front-end: <a href=\"https://github.com/jreznot/electron-java-app\" rel=\"noreferrer\">https://github.com/jreznot/electron-java-app</a> There you will find a simple TODO List application built with Vaadin/Jetty and Electron.</p>\n"},{"tags":[],"owner":{"account_id":22204432,"reputation":45,"user_id":16444556,"display_name":"NotAidan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1628032867,"creation_date":1628032867,"answer_id":68643748,"question_id":45638644,"body_markdown":"Personally i made my back-end java communicate with the front-end by creating a file with te data then sending it to the main.js to be processed.","title":"Can Electron apps be integrated with java code?","body":"<p>Personally i made my back-end java communicate with the front-end by creating a file with te data then sending it to the main.js to be processed.</p>\n"},{"tags":[],"owner":{"account_id":1247478,"reputation":762,"user_id":1208630,"accept_rate":64,"display_name":"bunny1985"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630659268,"creation_date":1630659268,"answer_id":69042121,"question_id":45638644,"body_markdown":"DBus and winDbus seems to be an option here. \r\nIt creates nice abstraction and separation between &quot;frontend&quot; and backend\r\n\r\nhttps://sourceforge.net/projects/windbus/\r\n\r\nI&#39;m going to test it on my own soon","title":"Can Electron apps be integrated with java code?","body":"<p>DBus and winDbus seems to be an option here.\nIt creates nice abstraction and separation between &quot;frontend&quot; and backend</p>\n<p><a href=\"https://sourceforge.net/projects/windbus/\" rel=\"nofollow noreferrer\">https://sourceforge.net/projects/windbus/</a></p>\n<p>I'm going to test it on my own soon</p>\n"},{"tags":[],"owner":{"account_id":1408086,"reputation":3786,"user_id":1335245,"accept_rate":80,"display_name":"Charney Kaye"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693248904,"creation_date":1693006462,"answer_id":76981023,"question_id":45638644,"body_markdown":"Hypothetically, one could build an Electron app that bundles a custom JAR (made in a Gradle project in a sub-folder of the project) using [`node-java`](https://github.com/joeferner/node-java) to call the custom API from Node.js.\r\n\r\nIn the ideal implementation:\r\n\r\n* Node.js can parse custom types exposed by the Java code.\r\n* Node.js can call functions exposed by the Java code, passing in parameter values of said custom types and receiving deals of custom types.\r\n* Node.js can pass in callback functions as parameter values and receive callbacks from the Java code.\r\n\r\nOne downside of embedding a JAR will be debugging its failures while running from within the Node.js engine. However, exposing a rich yet simple external API from our Java code can be a win-win for both the Node.js developer consuming the library and the Java developer producing the inner business logic and unit testing.","title":"Can Electron apps be integrated with java code?","body":"<p>Hypothetically, one could build an Electron app that bundles a custom JAR (made in a Gradle project in a sub-folder of the project) using <a href=\"https://github.com/joeferner/node-java\" rel=\"nofollow noreferrer\"><code>node-java</code></a> to call the custom API from Node.js.</p>\n<p>In the ideal implementation:</p>\n<ul>\n<li>Node.js can parse custom types exposed by the Java code.</li>\n<li>Node.js can call functions exposed by the Java code, passing in parameter values of said custom types and receiving deals of custom types.</li>\n<li>Node.js can pass in callback functions as parameter values and receive callbacks from the Java code.</li>\n</ul>\n<p>One downside of embedding a JAR will be debugging its failures while running from within the Node.js engine. However, exposing a rich yet simple external API from our Java code can be a win-win for both the Node.js developer consuming the library and the Java developer producing the inner business logic and unit testing.</p>\n"}],"owner":{"account_id":4705637,"reputation":331,"user_id":3807880,"display_name":"user3807880"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28426,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"answer_count":5,"score":23,"last_activity_date":1693248904,"creation_date":1502464799,"question_id":45638644,"body_markdown":"As node.js still lacks important functionality which exists in Java, I would like to use Java instead of node.js, and create the client using a web language (html, js, css..). \r\nElectron is cross platform and so does java so it seems fit to have a solution getting the best of both worlds.\r\n\r\nDoes someone know of a way to integrate electron with java or have a different solution to the problem?","title":"Can Electron apps be integrated with java code?","body":"<p>As node.js still lacks important functionality which exists in Java, I would like to use Java instead of node.js, and create the client using a web language (html, js, css..). \nElectron is cross platform and so does java so it seems fit to have a solution getting the best of both worlds.</p>\n\n<p>Does someone know of a way to integrate electron with java or have a different solution to the problem?</p>\n"},{"tags":["java","oracle","java-17","ojdbc","ucp"],"answers":[{"tags":[],"owner":{"account_id":5534918,"reputation":1308,"user_id":4393594,"display_name":"Nirmala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693248556,"creation_date":1693248556,"answer_id":76995366,"question_id":76964184,"body_markdown":"Can you please add ons.jar and simplefan.jar in the class path? or you can set the property oracle.jdbc.fanEnabled to FALSE and try it out. Please check the [doc][1] for more details on the property. \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/database/oracle/oracle-database/21/jjdbc/JDBC-support-Oracle-FAN.html#GUID-069265AF-BBEE-4682-9906-98D8429BFC1C","title":"Oracle JDBC 10 Driver + UCP for JDK 17 and Oracle 19c Possible for Project?","body":"<p>Can you please add ons.jar and simplefan.jar in the class path? or you can set the property oracle.jdbc.fanEnabled to FALSE and try it out. Please check the <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/21/jjdbc/JDBC-support-Oracle-FAN.html#GUID-069265AF-BBEE-4682-9906-98D8429BFC1C\" rel=\"nofollow noreferrer\">doc</a> for more details on the property.</p>\n"}],"owner":{"account_id":4782683,"reputation":352,"user_id":3863999,"accept_rate":79,"display_name":"StingRay21"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693248556,"creation_date":1692816938,"question_id":76964184,"body_markdown":"I just started developing a POC for an app on Java 17. We utilize Oracle and specifically have integrated our other app with Oracle UCP. \r\n\r\nThe compatibility matrix on [Oracle&#39;s website][1] (under the 19c section) shows the UCP package is only certified with jdk8 / jdk11. For ojdbc10 it **is** certified with jdk17; however, it&#39;s my understanding that the ucp + ojdbcXX needs to a companion. My question is: Following the Oracle matrix it doesn&#39;t look like 19c + jdk17 + UCP is a possibilty, can i get confirmation that i&#39;m reading that correctly? Additionally, is there a way to link the 2 together outside of having the ojdbc+ucp match 1:1 with versions.\r\n\r\nI tried utilizing UCP + ojdbc10 and ran into the following exception:\r\n\r\n    Exception in thread &quot;UCP-CriticalTaskExecutorThread-1&quot; java.lang.NoClassDefFoundError: oracle/ons/Subscriber\r\n\t    at oracle.ucp.common.ONSDriver.createSubscriber(ONSDriver.java:121)\r\n\t    at oracle.ucp.common.FailoverDriver$1$1.run(FailoverDriver.java:226)\r\n\t    at oracle.ucp.common.FailoverDriver$1$1.run(FailoverDriver.java:222)\r\n\t    at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\r\n\t    at oracle.ucp.common.FailoverDriver$1.run(FailoverDriver.java:221)\r\n\t    at oracle.ucp.util.UCPTaskBase.call(UCPTaskBase.java:20)\r\n\t    at oracle.ucp.util.UCPTaskManagerImpl$3.run(UCPTaskManagerImpl.java:202)\r\n    Caused by: java.lang.ClassNotFoundException: oracle.ons.Subscriber\r\n\r\n\r\n  [1]: https://www.oracle.com/in/database/technologies/appdev/jdbc-downloads.html","title":"Oracle JDBC 10 Driver + UCP for JDK 17 and Oracle 19c Possible for Project?","body":"<p>I just started developing a POC for an app on Java 17. We utilize Oracle and specifically have integrated our other app with Oracle UCP.</p>\n<p>The compatibility matrix on <a href=\"https://www.oracle.com/in/database/technologies/appdev/jdbc-downloads.html\" rel=\"nofollow noreferrer\">Oracle's website</a> (under the 19c section) shows the UCP package is only certified with jdk8 / jdk11. For ojdbc10 it <strong>is</strong> certified with jdk17; however, it's my understanding that the ucp + ojdbcXX needs to a companion. My question is: Following the Oracle matrix it doesn't look like 19c + jdk17 + UCP is a possibilty, can i get confirmation that i'm reading that correctly? Additionally, is there a way to link the 2 together outside of having the ojdbc+ucp match 1:1 with versions.</p>\n<p>I tried utilizing UCP + ojdbc10 and ran into the following exception:</p>\n<pre><code>Exception in thread &quot;UCP-CriticalTaskExecutorThread-1&quot; java.lang.NoClassDefFoundError: oracle/ons/Subscriber\n    at oracle.ucp.common.ONSDriver.createSubscriber(ONSDriver.java:121)\n    at oracle.ucp.common.FailoverDriver$1$1.run(FailoverDriver.java:226)\n    at oracle.ucp.common.FailoverDriver$1$1.run(FailoverDriver.java:222)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\n    at oracle.ucp.common.FailoverDriver$1.run(FailoverDriver.java:221)\n    at oracle.ucp.util.UCPTaskBase.call(UCPTaskBase.java:20)\n    at oracle.ucp.util.UCPTaskManagerImpl$3.run(UCPTaskManagerImpl.java:202)\nCaused by: java.lang.ClassNotFoundException: oracle.ons.Subscriber\n</code></pre>\n"},{"tags":["java","dns"],"owner":{"account_id":12519802,"reputation":352,"user_id":11450331,"display_name":"omri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693248473,"creation_date":1693248473,"question_id":76995350,"body_markdown":"I have a java application which uses org.minidns to do an SRV lookup on a service and domain. The dns resolution is successful when running on the MacOS, but when running on my Windows VM (accessed over VPN on company private subnet), the DNS resolution is unsuccessful. \r\n\r\nWhen issuing a ping from the Windows VM to the target server using the host name, it can resolve the IP address. I&#39;m not very experienced in setting up DNS settings, so I was wondering if someone can help me rule out some obvious root causes. \r\n\r\nCode block under question:\r\n\r\n    public List&lt;InetSocketAddress&gt; resolveSrv(String service, String domain) throws RuntimeException, IOException {\r\n        log.info(&quot;Attempting to DNS resolve {}.{}&quot;, service, domain);\r\n\r\n        return ResolverApi.INSTANCE.resolveSrv(service + &quot;.&quot; + domain)\r\n                .getSortedSrvResolvedAddresses()\r\n                .stream().map(resolvedSrvRecord -&gt; {\r\n                    try {\r\n                        return new InetSocketAddress(InetAddress.getByName(resolvedSrvRecord.srv.target.ace),\r\n                                resolvedSrvRecord.srv.port);\r\n                    } catch (UnknownHostException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                })\r\n                .collect(Collectors.toList());\r\n    }","title":"Discrepancy in DNS resolution between Mac and Windows in Java application using org.minidns.hla","body":"<p>I have a java application which uses org.minidns to do an SRV lookup on a service and domain. The dns resolution is successful when running on the MacOS, but when running on my Windows VM (accessed over VPN on company private subnet), the DNS resolution is unsuccessful.</p>\n<p>When issuing a ping from the Windows VM to the target server using the host name, it can resolve the IP address. I'm not very experienced in setting up DNS settings, so I was wondering if someone can help me rule out some obvious root causes.</p>\n<p>Code block under question:</p>\n<pre><code>public List&lt;InetSocketAddress&gt; resolveSrv(String service, String domain) throws RuntimeException, IOException {\n    log.info(&quot;Attempting to DNS resolve {}.{}&quot;, service, domain);\n\n    return ResolverApi.INSTANCE.resolveSrv(service + &quot;.&quot; + domain)\n            .getSortedSrvResolvedAddresses()\n            .stream().map(resolvedSrvRecord -&gt; {\n                try {\n                    return new InetSocketAddress(InetAddress.getByName(resolvedSrvRecord.srv.target.ace),\n                            resolvedSrvRecord.srv.port);\n                } catch (UnknownHostException e) {\n                    throw new RuntimeException(e);\n                }\n            })\n            .collect(Collectors.toList());\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","passwords","keystore"],"answers":[{"tags":[],"owner":{"account_id":28766283,"reputation":1,"user_id":22031123,"display_name":"Rony Djeunang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686069304,"creation_date":1686069304,"answer_id":76416714,"question_id":75584274,"body_markdown":"Yes it is possible if you have Play Signing enables. First to check if you have Play Signing turned on login to the console, select the app and then select &quot;App Integrity&quot; from the menu, on that page you will see an app signing tab. If it is switched on that you can follow the instructions here: https://support.google.com/googleplay/android-developer/answer/9842756#lost\r\n \r\nHope this helps\r\n\r\nRef. https://support.google.com/googleplay/android-developer/thread/208735127/i-forgot-the-keystore-password-for-my-application-is-it-possible-to-reset-the-keystore-pass-thanks?hl=en","title":"Recover keystore password when saved by Android Studio","body":"<p>Yes it is possible if you have Play Signing enables. First to check if you have Play Signing turned on login to the console, select the app and then select &quot;App Integrity&quot; from the menu, on that page you will see an app signing tab. If it is switched on that you can follow the instructions here: <a href=\"https://support.google.com/googleplay/android-developer/answer/9842756#lost\" rel=\"nofollow noreferrer\">https://support.google.com/googleplay/android-developer/answer/9842756#lost</a></p>\n<p>Hope this helps</p>\n<p>Ref. <a href=\"https://support.google.com/googleplay/android-developer/thread/208735127/i-forgot-the-keystore-password-for-my-application-is-it-possible-to-reset-the-keystore-pass-thanks?hl=en\" rel=\"nofollow noreferrer\">https://support.google.com/googleplay/android-developer/thread/208735127/i-forgot-the-keystore-password-for-my-application-is-it-possible-to-reset-the-keystore-pass-thanks?hl=en</a></p>\n"},{"tags":[],"owner":{"account_id":9164203,"reputation":1,"user_id":6814491,"display_name":"Spider"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1693248413,"creation_date":1693248413,"answer_id":76995344,"question_id":75584274,"body_markdown":"look in the build.gradle file in the app directory of your project.\r\nI forgot mine and looked in a backup of my projects.","title":"Recover keystore password when saved by Android Studio","body":"<p>look in the build.gradle file in the app directory of your project.\nI forgot mine and looked in a backup of my projects.</p>\n"}],"owner":{"account_id":26478997,"reputation":1,"user_id":20118500,"display_name":"EidemE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":361,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693248413,"creation_date":1677522760,"question_id":75584274,"body_markdown":"Good morning,\r\n\r\nI (stupidly) forgot the passwords (it&#39;s the same for both cases) of my Android keystore, except that I did &quot;Remember passwords&quot; so I don&#39;t need to remember them .\r\n\r\nExcept that I changed my PC and whoever keeps the key and its passwords could break down at any moment, and I wouldn&#39;t really like to lose the key permanently, otherwise I won&#39;t be able to publish my app on play store.\r\n\r\n[keystore popup in Android Studio][1]\r\n\r\nI tried several different passwords with the length displayed by the &quot;**********&quot; in Android Studio, but it never works unfortunately.\r\nAnd with new versions, no file displays passwords in plain text, either *** or hash.\r\n\r\nDo you have a solution to recover these passwords since Android Studio keeps them?\r\nI&#39;m on the latest version of the IDE, thanks!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yzaRh.png","title":"Recover keystore password when saved by Android Studio","body":"<p>Good morning,</p>\n<p>I (stupidly) forgot the passwords (it's the same for both cases) of my Android keystore, except that I did &quot;Remember passwords&quot; so I don't need to remember them .</p>\n<p>Except that I changed my PC and whoever keeps the key and its passwords could break down at any moment, and I wouldn't really like to lose the key permanently, otherwise I won't be able to publish my app on play store.</p>\n<p><a href=\"https://i.stack.imgur.com/yzaRh.png\" rel=\"nofollow noreferrer\">keystore popup in Android Studio</a></p>\n<p>I tried several different passwords with the length displayed by the &quot;**********&quot; in Android Studio, but it never works unfortunately.\nAnd with new versions, no file displays passwords in plain text, either *** or hash.</p>\n<p>Do you have a solution to recover these passwords since Android Studio keeps them?\nI'm on the latest version of the IDE, thanks!</p>\n"},{"tags":["java","maven","ubuntu","wsl-2"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1693238776,"post_id":76994351,"comment_id":135731060,"body_markdown":"Try running this in the console: `jh=&quot;$(readlink -f $(which java))&quot;;printf &quot;JAVA_HOME should be set to %s\\n&quot; ${jh%/bin/java}`","body":"Try running this in the console: <code>jh=&quot;$(readlink -f $(which java))&quot;;printf &quot;JAVA_HOME should be set to %s\\n&quot; ${jh%&#47;bin&#47;java}</code>"},{"owner":{"account_id":2637951,"reputation":4283,"user_id":3014199,"accept_rate":79,"display_name":"peer"},"score":0,"creation_date":1695161951,"post_id":76994351,"comment_id":135986462,"body_markdown":"That worked, thank you so much @g00se! I had indeed made the wrong assumption about what `JAVA_HOME` had to be set to. If you turn your comment into an answer I&#39;ll accept it, otherwise I&#39;ll write my own.","body":"That worked, thank you so much @g00se! I had indeed made the wrong assumption about what <code>JAVA_HOME</code> had to be set to. If you turn your comment into an answer I&#39;ll accept it, otherwise I&#39;ll write my own."}],"answers":[{"tags":[],"owner":{"account_id":2865984,"reputation":11,"user_id":2460301,"display_name":"IAMLOOKER50"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693247873,"creation_date":1693247873,"answer_id":76995305,"question_id":76994351,"body_markdown":"Try to install the distro&#39;s default jre and jdk like this:`sudo apt install default-jre` and `sudo apt install default-jdk` and see if that helps.","title":"mvn says &quot;The JAVA_HOME environment variable is not defined correctly&quot; in WSL","body":"<p>Try to install the distro's default jre and jdk like this:<code>sudo apt install default-jre</code> and <code>sudo apt install default-jdk</code> and see if that helps.</p>\n"}],"owner":{"account_id":2637951,"reputation":4283,"user_id":3014199,"accept_rate":79,"display_name":"peer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693247873,"creation_date":1693238381,"question_id":76994351,"body_markdown":"I want to install `mvn` on Ubuntu 22.04 on WLS on Windows. I have tried and given up to use the windows binaries and am now trying to install both java and mvn directly on wsl.\r\n\r\nI have installed corretto 17 as `.deb` with:\r\n````bash\r\nwget https://corretto.aws/downloads/latest/amazon-corretto-17-x64-linux-jdk.deb\r\nsudo dpkg -i amazon-corretto-17-x64-linux-jdk.deb\r\nsudo apt-get install -f\r\n````\r\nand maven with\r\n\r\n````bash\r\nwget https://dlcdn.apache.org/maven/maven-3/3.9.4/binaries/apache-maven-3.9.4-bin.tar.gz\r\ntar -xvf apache-maven-3.9.4-bin.tar.gz\r\nsudo mv apache-maven-3.9.4 /opt/\r\n````\r\n\r\nI&#39;ve added \r\n````bash\r\nJAVA_HOME=&#39;/usr/bin/java&#39;\r\nPATH=&quot;$JAVA_HOME/bin:$PATH&quot;\r\nexport PATH\r\n\r\nM2_HOME=&#39;/opt/apache-maven-3.9.4&#39;\r\nPATH=&quot;$M2_HOME/bin:$PATH&quot;\r\nexport PATH\r\n````\r\nto `.profile` and `source`d it.\r\n\r\nAnd `java` seems to refer to the one I just installed:\r\n````bash\r\n$ java -version\r\nopenjdk version &quot;17.0.8.1&quot; 2023-08-22 LTS\r\nOpenJDK Runtime Environment Corretto-17.0.8.8.1 (build 17.0.8.1+8-LTS)\r\nOpenJDK 64-Bit Server VM Corretto-17.0.8.8.1 (build 17.0.8.1+8-LTS, mixed mode, sharing)\r\n$ which java\r\n/usr/bin/java\r\n$ whereis -b java\r\njava: /usr/bin/java /usr/share/java\r\n````\r\n\r\nsimilarly for mvn\r\n````bash\r\n$ which mvn\r\n/opt/apache-maven-3.9.4/bin/mvn\r\n$ whereis -b mvn\r\nmvn: /opt/apache-maven-3.9.4/bin/mvn /mnt/c/ProgramData/chocolatey/lib/maven/apache-maven-3.8.5/bin/mvn\r\n````\r\nwhile a windows binary appears it is not in first place.\r\nIf I execute `mvn -version` however, it says\r\n\r\n````bash\r\n$ mvn -version\r\nThe JAVA_HOME environment variable is not defined correctly,\r\nthis environment variable is needed to run this program.\r\n````\r\n\r\nrelevant parts of env (Path shortened and reformatted for readability:\r\n````bash\r\nJAVA_HOME=/usr/bin/java\r\nWSLENV=\r\nPATH=/opt/apache-maven-3.9.4/bin\r\n    :/usr/bin/java/bin\r\n    :/usr/bin/java/bin\r\n    :/usr/local/sbin\r\n    :/usr/local/bin\r\n    :/usr/sbin\r\n    :/usr/bin\r\n    :/usr/lib/wsl/lib\r\n    :/mnt/c/Program Files/Amazon Corretto/jdk17.0.1_12/bin\r\n    :/mnt/c/Program Files/Amazon Corretto/jdk11.0.8_10/bin\r\n    :/mnt/c/ProgramData/chocolatey/lib/maven/apache-maven-3.8.5/bin\r\n````\r\n\r\nI have exported a modified PATH without the windows binaries, but the response to `mvn -version` stays the same.\r\n\r\n\r\nI would like to understand what is going on here and how I can fix JAVA_HOME, or rather have mvn accept it.","title":"mvn says &quot;The JAVA_HOME environment variable is not defined correctly&quot; in WSL","body":"<p>I want to install <code>mvn</code> on Ubuntu 22.04 on WLS on Windows. I have tried and given up to use the windows binaries and am now trying to install both java and mvn directly on wsl.</p>\n<p>I have installed corretto 17 as <code>.deb</code> with:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>wget https://corretto.aws/downloads/latest/amazon-corretto-17-x64-linux-jdk.deb\nsudo dpkg -i amazon-corretto-17-x64-linux-jdk.deb\nsudo apt-get install -f\n</code></pre>\n<p>and maven with</p>\n<pre class=\"lang-bash prettyprint-override\"><code>wget https://dlcdn.apache.org/maven/maven-3/3.9.4/binaries/apache-maven-3.9.4-bin.tar.gz\ntar -xvf apache-maven-3.9.4-bin.tar.gz\nsudo mv apache-maven-3.9.4 /opt/\n</code></pre>\n<p>I've added</p>\n<pre class=\"lang-bash prettyprint-override\"><code>JAVA_HOME='/usr/bin/java'\nPATH=&quot;$JAVA_HOME/bin:$PATH&quot;\nexport PATH\n\nM2_HOME='/opt/apache-maven-3.9.4'\nPATH=&quot;$M2_HOME/bin:$PATH&quot;\nexport PATH\n</code></pre>\n<p>to <code>.profile</code> and <code>source</code>d it.</p>\n<p>And <code>java</code> seems to refer to the one I just installed:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ java -version\nopenjdk version &quot;17.0.8.1&quot; 2023-08-22 LTS\nOpenJDK Runtime Environment Corretto-17.0.8.8.1 (build 17.0.8.1+8-LTS)\nOpenJDK 64-Bit Server VM Corretto-17.0.8.8.1 (build 17.0.8.1+8-LTS, mixed mode, sharing)\n$ which java\n/usr/bin/java\n$ whereis -b java\njava: /usr/bin/java /usr/share/java\n</code></pre>\n<p>similarly for mvn</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ which mvn\n/opt/apache-maven-3.9.4/bin/mvn\n$ whereis -b mvn\nmvn: /opt/apache-maven-3.9.4/bin/mvn /mnt/c/ProgramData/chocolatey/lib/maven/apache-maven-3.8.5/bin/mvn\n</code></pre>\n<p>while a windows binary appears it is not in first place.\nIf I execute <code>mvn -version</code> however, it says</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ mvn -version\nThe JAVA_HOME environment variable is not defined correctly,\nthis environment variable is needed to run this program.\n</code></pre>\n<p>relevant parts of env (Path shortened and reformatted for readability:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>JAVA_HOME=/usr/bin/java\nWSLENV=\nPATH=/opt/apache-maven-3.9.4/bin\n    :/usr/bin/java/bin\n    :/usr/bin/java/bin\n    :/usr/local/sbin\n    :/usr/local/bin\n    :/usr/sbin\n    :/usr/bin\n    :/usr/lib/wsl/lib\n    :/mnt/c/Program Files/Amazon Corretto/jdk17.0.1_12/bin\n    :/mnt/c/Program Files/Amazon Corretto/jdk11.0.8_10/bin\n    :/mnt/c/ProgramData/chocolatey/lib/maven/apache-maven-3.8.5/bin\n</code></pre>\n<p>I have exported a modified PATH without the windows binaries, but the response to <code>mvn -version</code> stays the same.</p>\n<p>I would like to understand what is going on here and how I can fix JAVA_HOME, or rather have mvn accept it.</p>\n"},{"tags":["java","unit-testing","junit","junit4"],"comments":[{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":4,"creation_date":1693248075,"post_id":76995300,"comment_id":135732757,"body_markdown":"As a rule of thumb one should never mock types which one doesn&#39;t own. Use a real map implementation and your tests will be a lot simpler. And probably you can also use a concrete implementation of CacheManager and MetricsManager. I would also suggest you to read the article [Mocks are not Stubs](https://martinfowler.com/articles/mocksArentStubs.html) to learn about other types of test doubles.","body":"As a rule of thumb one should never mock types which one doesn&#39;t own. Use a real map implementation and your tests will be a lot simpler. And probably you can also use a concrete implementation of CacheManager and MetricsManager. I would also suggest you to read the article <a href=\"https://martinfowler.com/articles/mocksArentStubs.html\" rel=\"nofollow noreferrer\">Mocks are not Stubs</a> to learn about other types of test doubles."}],"owner":{"account_id":4651430,"reputation":1022,"user_id":3768218,"accept_rate":67,"display_name":"Jeya Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693247789,"creation_date":1693247789,"question_id":76995300,"body_markdown":"I have a class with constructor as below and i am trying to mock those input params from junit\r\n\r\n    public CacheConfigurationProcessor{\r\n        public CacheConfigurationProcessor(@NonNull Map&lt;String, String&gt; allThemeConfigurations,\r\n                                           @NonNull Map&lt;String, String&gt; allCacheConfigurations,\r\n                                           @NonNull MetricsManager metricsManager,\r\n                                           @NonNull cacheManager productSearchModelCacheManager) {\r\n            this.allThemeConfigurations = allThemeConfigurations;\r\n            this.allCacheConfigurations = allCacheConfigurations;\r\n            this.metricsManager = metricsManager;\r\n            this.cacheManager = CacheManager;\r\n        \r\n            processCacheConfigurationForThemes();\r\n        }\r\n    \r\n    \r\n            @SneakyThrows\r\n            private void processCacheConfigurationForThemes() {\r\n        \r\n                System.out.println(&quot;allThemeConfigurations &quot; + allThemeConfigurations.entrySet()); //this is empty\r\n         \r\n                for (Map.Entry&lt;String, String&gt; singleThemeConfiguration : allThemeConfigurations.entrySet()) {\r\n        \r\n             system.out.println(singleThemeConfiguration)\r\n        }\r\n            }\r\n    \r\n    public static void TestMyFeature(){\r\n    some random logic\r\n    }\r\n    \r\n    }\r\n\r\nJunit\r\n    \r\n\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n        public class CacheConfigurationProcessorTest{\r\n        \r\n            @Mock\r\n            private Map&lt;String, String&gt; ALL_ORIGINAL_CACHE_CONFIGURATIONS;\r\n            @Mock\r\n            private Map&lt;String, String&gt; allThemeConfigMock;\r\n            @Mock\r\n            private MetricsManager metricsManager;\r\n            @Mock\r\n            private CacheManager CacheManagerMock;\r\n        \r\n            @InjectMocks\r\n            private CacheConfigurationProcessor cacheConfigurationProcessor;\r\n        \r\n            @Before\r\n            public void init() throws Exception {\r\n                // Mock the behavior of entrySet()\r\n                Set&lt;Map.Entry&lt;String, String&gt;&gt; mockEntrySet = getAllThemeConfig().entrySet();\r\n                when(allThemeConfigMock.entrySet()).thenReturn(mockEntrySet);\r\n           }\r\n        \r\n            @Test\r\n            public void someTest(){\r\n        \r\n            CacheConfigurationProcessor.TestMyFeature()\r\n          }\r\n        }\r\n\r\nExpected : Since i mocked `allThemeConfigMock` i expected \r\n\r\n        System.out.println(&quot;allThemeConfigurations &quot; + allThemeConfigurations.entrySet()); //Expected to print mocked map\r\n\r\nThis would print mocked map , however i am getting empty response here \r\n\r\n\r\n        System.out.println(&quot;allThemeConfigurations &quot; + allThemeConfigurations.entrySet()); //this is empty as []\r\n\r\n\r\nWhat is the issue and Why the map I mocked is not working as expected.\r\n\r\nThanks\r\n\r\n\r\n\r\n","title":"How to mock entrySet in java - junit","body":"<p>I have a class with constructor as below and i am trying to mock those input params from junit</p>\n<pre><code>public CacheConfigurationProcessor{\n    public CacheConfigurationProcessor(@NonNull Map&lt;String, String&gt; allThemeConfigurations,\n                                       @NonNull Map&lt;String, String&gt; allCacheConfigurations,\n                                       @NonNull MetricsManager metricsManager,\n                                       @NonNull cacheManager productSearchModelCacheManager) {\n        this.allThemeConfigurations = allThemeConfigurations;\n        this.allCacheConfigurations = allCacheConfigurations;\n        this.metricsManager = metricsManager;\n        this.cacheManager = CacheManager;\n    \n        processCacheConfigurationForThemes();\n    }\n\n\n        @SneakyThrows\n        private void processCacheConfigurationForThemes() {\n    \n            System.out.println(&quot;allThemeConfigurations &quot; + allThemeConfigurations.entrySet()); //this is empty\n     \n            for (Map.Entry&lt;String, String&gt; singleThemeConfiguration : allThemeConfigurations.entrySet()) {\n    \n         system.out.println(singleThemeConfiguration)\n    }\n        }\n\npublic static void TestMyFeature(){\nsome random logic\n}\n\n}\n</code></pre>\n<p>Junit</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\n    public class CacheConfigurationProcessorTest{\n    \n        @Mock\n        private Map&lt;String, String&gt; ALL_ORIGINAL_CACHE_CONFIGURATIONS;\n        @Mock\n        private Map&lt;String, String&gt; allThemeConfigMock;\n        @Mock\n        private MetricsManager metricsManager;\n        @Mock\n        private CacheManager CacheManagerMock;\n    \n        @InjectMocks\n        private CacheConfigurationProcessor cacheConfigurationProcessor;\n    \n        @Before\n        public void init() throws Exception {\n            // Mock the behavior of entrySet()\n            Set&lt;Map.Entry&lt;String, String&gt;&gt; mockEntrySet = getAllThemeConfig().entrySet();\n            when(allThemeConfigMock.entrySet()).thenReturn(mockEntrySet);\n       }\n    \n        @Test\n        public void someTest(){\n    \n        CacheConfigurationProcessor.TestMyFeature()\n      }\n    }\n</code></pre>\n<p>Expected : Since i mocked <code>allThemeConfigMock</code> i expected</p>\n<pre><code>    System.out.println(&quot;allThemeConfigurations &quot; + allThemeConfigurations.entrySet()); //Expected to print mocked map\n</code></pre>\n<p>This would print mocked map , however i am getting empty response here</p>\n<pre><code>    System.out.println(&quot;allThemeConfigurations &quot; + allThemeConfigurations.entrySet()); //this is empty as []\n</code></pre>\n<p>What is the issue and Why the map I mocked is not working as expected.</p>\n<p>Thanks</p>\n"},{"tags":["java","collections","treemap","treeset"],"comments":[{"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1394200027,"post_id":22251787,"comment_id":33794624,"body_markdown":"Would keeping a count of the number of occurrences of each element be good enough for you? (In other words, in your real code are the duplicates utterly equivalent, or do you need to preserve some differences? An example would be a case-insensitive-but-case-preserving set or map.)","body":"Would keeping a count of the number of occurrences of each element be good enough for you? (In other words, in your real code are the duplicates utterly equivalent, or do you need to preserve some differences? An example would be a case-insensitive-but-case-preserving set or map.)"},{"owner":{"account_id":2617274,"reputation":6112,"user_id":2266098,"accept_rate":72,"display_name":"NeplatnyUdaj"},"score":6,"creation_date":1394200142,"post_id":22251787,"comment_id":33794705,"body_markdown":"This won&#39;t be a Set. You need a sorted list or something similar. From javadoc: ```A Set is a Collection that cannot contain duplicate elements.``` It&#39;s not a good idea to break the contract.","body":"This won&#39;t be a Set. You need a sorted list or something similar. From javadoc: <code>A Set is a Collection that cannot contain duplicate elements.</code> It&#39;s not a good idea to break the contract."},{"owner":{"account_id":3244487,"reputation":19947,"user_id":2736496,"accept_rate":74,"display_name":"aliteralmind"},"score":0,"creation_date":1394200198,"post_id":22251787,"comment_id":33794726,"body_markdown":"http://stackoverflow.com/a/21974362/2736496","body":"<a href=\"http://stackoverflow.com/a/21974362/2736496\">stackoverflow.com/a/21974362/2736496</a>"},{"owner":{"account_id":326733,"reputation":695,"user_id":648665,"accept_rate":82,"display_name":"Arek Woźniak"},"score":1,"creation_date":1394200215,"post_id":22251787,"comment_id":33794735,"body_markdown":"If you can use 3rd part libraries, then maybe Guava libraries will be helpful. See http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/TreeMultiset.html (more info about collections: https://code.google.com/p/guava-libraries/wiki/NewCollectionTypesExplained)","body":"If you can use 3rd part libraries, then maybe Guava libraries will be helpful. See <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/TreeMultiset.html\" rel=\"nofollow noreferrer\">docs.guava-libraries.googlecode.com/git/javadoc/com/google/&hellip;</a> (more info about collections: <a href=\"https://code.google.com/p/guava-libraries/wiki/NewCollectionTypesExplained\" rel=\"nofollow noreferrer\">code.google.com/p/guava-libraries/wiki/&hellip;</a>)"},{"owner":{"account_id":2315704,"reputation":11983,"user_id":2032823,"accept_rate":84,"display_name":"Zeeshan"},"score":0,"creation_date":1394200683,"post_id":22251787,"comment_id":33795059,"body_markdown":"@JonSkeet,  Actually I am having a ArrayList of Fund Class and the equality is checked by fundCode. I need the all the Fund Objects with the highest fund value. I have updated my question accordingly","body":"@JonSkeet,  Actually I am having a ArrayList of Fund Class and the equality is checked by fundCode. I need the all the Fund Objects with the highest fund value. I have updated my question accordingly"},{"owner":{"account_id":1421723,"reputation":7768,"user_id":1346207,"accept_rate":77,"display_name":"Markus Malkusch"},"score":0,"creation_date":1394200878,"post_id":22251787,"comment_id":33795188,"body_markdown":"possible duplicate of [Sorted collection in Java](http://stackoverflow.com/questions/416266/sorted-collection-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/416266/sorted-collection-in-java\">Sorted collection in Java</a>"},{"owner":{"account_id":1421723,"reputation":7768,"user_id":1346207,"accept_rate":77,"display_name":"Markus Malkusch"},"score":0,"creation_date":1394212100,"post_id":22251787,"comment_id":33803171,"body_markdown":"@NeplatnyUdaj OK, I deleted my comment. I was to much influenced by OP&#39;s idea of a sorted data structure (i.e. a list which sorts on insert operations). An externally sorted list is of course valid.","body":"@NeplatnyUdaj OK, I deleted my comment. I was to much influenced by OP&#39;s idea of a sorted data structure (i.e. a list which sorts on insert operations). An externally sorted list is of course valid."},{"owner":{"account_id":5881189,"reputation":2046,"user_id":4630491,"accept_rate":69,"display_name":"Max"},"score":0,"creation_date":1541602164,"post_id":22251787,"comment_id":93272388,"body_markdown":"Possible duplicate of [Why is there no SortedList in Java?](https://stackoverflow.com/questions/8725387/why-is-there-no-sortedlist-in-java)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/8725387/why-is-there-no-sortedlist-in-java\">Why is there no SortedList in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1413018,"reputation":3396,"user_id":1339257,"accept_rate":40,"display_name":"Max Fichtelmann"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1394201273,"creation_date":1394201273,"answer_id":22252305,"question_id":22251787,"body_markdown":"you can sort a List using `Collections.sort`.\r\n\r\ngiven your `Fund`:\r\n\r\n    List&lt;Fund&gt; sortMe = new ArrayList(...);\r\n    Collections.sort(sortMe, new Comparator&lt;Fund&gt;() {\r\n      @Override\r\n      public int compare(Fund left, Fund right) {\r\n        return left.fundValue.compareTo(right.fundValue);\r\n      }\r\n    });\r\n    // sortMe is now sorted","title":"A TreeSet or TreeMap that allow duplicates","body":"<p>you can sort a List using <code>Collections.sort</code>.</p>\n\n<p>given your <code>Fund</code>:</p>\n\n<pre><code>List&lt;Fund&gt; sortMe = new ArrayList(...);\nCollections.sort(sortMe, new Comparator&lt;Fund&gt;() {\n  @Override\n  public int compare(Fund left, Fund right) {\n    return left.fundValue.compareTo(right.fundValue);\n  }\n});\n// sortMe is now sorted\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1421723,"reputation":7768,"user_id":1346207,"accept_rate":77,"display_name":"Markus Malkusch"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1394202017,"creation_date":1394202017,"answer_id":22252605,"question_id":22251787,"body_markdown":"&gt; I need all the fundCode with highest fundValue\r\n\r\nIf that&#39;s the only reason why you want to sort I would recommend not to sort at all. Sorting comes mostly with a complexity of *O(n log(n))*. Finding the maximum has only a complexity of *O(n)* and is implemented in a simple iteration over your list:\r\n\r\n\r\n    List&lt;Fund&gt; maxFunds = new ArrayList&lt;Fund&gt;();\r\n    int max = 0;\r\n    for (Fund fund : funds) {\r\n        if (fund.getFundValue() &gt; max) {\r\n            maxFunds.clear();\r\n            max = fund.getFundValue();\r\n\r\n        }\r\n        if (fund.getFundValue() == max) {\r\n            maxFunds.add(fund);\r\n\r\n        }\r\n    }\r\n\r\nYou can avoid that code by using a third level library like [Guava](http://code.google.com/p/guava-libraries/). See: https://stackoverflow.com/questions/11758982/how-to-get-max-element-from-list-in-guava","title":"A TreeSet or TreeMap that allow duplicates","body":"<blockquote>\n  <p>I need all the fundCode with highest fundValue</p>\n</blockquote>\n\n<p>If that's the only reason why you want to sort I would recommend not to sort at all. Sorting comes mostly with a complexity of <em>O(n log(n))</em>. Finding the maximum has only a complexity of <em>O(n)</em> and is implemented in a simple iteration over your list:</p>\n\n<pre><code>List&lt;Fund&gt; maxFunds = new ArrayList&lt;Fund&gt;();\nint max = 0;\nfor (Fund fund : funds) {\n    if (fund.getFundValue() &gt; max) {\n        maxFunds.clear();\n        max = fund.getFundValue();\n\n    }\n    if (fund.getFundValue() == max) {\n        maxFunds.add(fund);\n\n    }\n}\n</code></pre>\n\n<p>You can avoid that code by using a third level library like <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"nofollow noreferrer\">Guava</a>. See: <a href=\"https://stackoverflow.com/questions/11758982/how-to-get-max-element-from-list-in-guava\">How to get max() element from List in Guava</a></p>\n"},{"tags":[],"owner":{"account_id":5810210,"reputation":97,"user_id":4581551,"display_name":"Anindya Mukherjee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424465411,"creation_date":1424465411,"answer_id":28637922,"question_id":22251787,"body_markdown":"In case of TreeSet either Comparator or Comparable is used to compare and store objects . Equals are not called and that is why it does not recognize the duplicate one","title":"A TreeSet or TreeMap that allow duplicates","body":"<p>In case of TreeSet either Comparator or Comparable is used to compare and store objects . Equals are not called and that is why it does not recognize the duplicate one</p>\n"},{"tags":[],"owner":{"account_id":5962286,"reputation":1,"user_id":4687077,"display_name":"Gaya3"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458988963,"creation_date":1427222487,"answer_id":29240439,"question_id":22251787,"body_markdown":"Instead of the TreeSet we can use List and implement the Comparable interface.\r\n\r\n\r\n    public class Fund implements Comparable&lt;Fund&gt; {\r\n    \r\n        String fundCode;\r\n        int fundValue;\r\n    \r\n        public Fund(String fundCode, int fundValue) {\r\n            super();\r\n            this.fundCode = fundCode;\r\n            this.fundValue = fundValue;\r\n        }\r\n    \r\n        public String getFundCode() {\r\n            return fundCode;\r\n        }\r\n    \r\n        public void setFundCode(String fundCode) {\r\n            this.fundCode = fundCode;\r\n        }\r\n    \r\n        public int getFundValue() {\r\n            return fundValue;\r\n        }\r\n    \r\n        public void setFundValue(int fundValue) {\r\n            this.fundValue = fundValue;\r\n        }\r\n    \r\n        public int compareTo(Fund compareFund) {\r\n    \r\n            int compare = ((Fund) compareFund).getFundValue();\r\n            return compare - this.fundValue;\r\n        }\r\n    \r\n        public static void main(String args[]){\r\n    \r\n            List&lt;Fund&gt; funds = new ArrayList&lt;Fund&gt;();\r\n    \r\n            Fund fund1 = new Fund(&quot;a&quot;,100);\r\n            Fund fund2 = new Fund(&quot;b&quot;,20);\r\n            Fund fund3 = new Fund(&quot;c&quot;,70);\r\n            Fund fund4 = new Fund(&quot;a&quot;,100);\r\n            funds.add(fund1);\r\n            funds.add(fund2);\r\n            funds.add(fund3);\r\n            funds.add(fund4);\r\n            \r\n            Collections.sort(funds);\r\n            \r\n            for(Fund fund : funds){\r\n                System.out.println(&quot;Fund code: &quot; + fund.getFundCode() +  &quot;  Fund value : &quot; + fund.getFundValue());\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"A TreeSet or TreeMap that allow duplicates","body":"<p>Instead of the TreeSet we can use List and implement the Comparable interface.</p>\n\n<pre><code>public class Fund implements Comparable&lt;Fund&gt; {\n\n    String fundCode;\n    int fundValue;\n\n    public Fund(String fundCode, int fundValue) {\n        super();\n        this.fundCode = fundCode;\n        this.fundValue = fundValue;\n    }\n\n    public String getFundCode() {\n        return fundCode;\n    }\n\n    public void setFundCode(String fundCode) {\n        this.fundCode = fundCode;\n    }\n\n    public int getFundValue() {\n        return fundValue;\n    }\n\n    public void setFundValue(int fundValue) {\n        this.fundValue = fundValue;\n    }\n\n    public int compareTo(Fund compareFund) {\n\n        int compare = ((Fund) compareFund).getFundValue();\n        return compare - this.fundValue;\n    }\n\n    public static void main(String args[]){\n\n        List&lt;Fund&gt; funds = new ArrayList&lt;Fund&gt;();\n\n        Fund fund1 = new Fund(\"a\",100);\n        Fund fund2 = new Fund(\"b\",20);\n        Fund fund3 = new Fund(\"c\",70);\n        Fund fund4 = new Fund(\"a\",100);\n        funds.add(fund1);\n        funds.add(fund2);\n        funds.add(fund3);\n        funds.add(fund4);\n\n        Collections.sort(funds);\n\n        for(Fund fund : funds){\n            System.out.println(\"Fund code: \" + fund.getFundCode() +  \"  Fund value : \" + fund.getFundValue());\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3815600,"reputation":21,"user_id":3165048,"display_name":"Amrut Malaji"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573621827,"creation_date":1468430878,"answer_id":38358175,"question_id":22251787,"body_markdown":"Add the elements to the arraylist and then sort the elements using utility Collections.sort,. then implement comparable and write your own compareTo method according to your key.\r\n\r\nwont remove duplicates as well, can be sorted also: \r\n\r\n    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n    \r\n    Collections.sort(list,new Comparator&lt;Integer&gt;() \r\n    {\r\n    \r\n      @Override\r\n    \r\n    \r\n      public int compare(Objectleft, Object right) {\r\n    \r\n        \r\n    **your logic**\r\n    \r\n         return &#39;&#39;;\r\n    \r\n      }\r\n    \r\n    }\r\n    \r\n    )\r\n    ;","title":"A TreeSet or TreeMap that allow duplicates","body":"<p>Add the elements to the arraylist and then sort the elements using utility Collections.sort,. then implement comparable and write your own compareTo method according to your key.</p>\n\n<p>wont remove duplicates as well, can be sorted also: </p>\n\n<pre><code>List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n\nCollections.sort(list,new Comparator&lt;Integer&gt;() \n{\n\n  @Override\n\n\n  public int compare(Objectleft, Object right) {\n\n\n**your logic**\n\n     return '';\n\n  }\n\n}\n\n)\n;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11081389,"reputation":438,"user_id":8136480,"accept_rate":71,"display_name":"Sohit Gore"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1600618372,"creation_date":1550443977,"answer_id":54738425,"question_id":22251787,"body_markdown":"You can use a PriorityQueue.\r\n\r\n    PriorityQueue&lt;Integer&gt; pQueue = new PriorityQueue&lt;Integer&gt;(); \r\n\r\n`PriorityQueue()`:&#160;Creates a PriorityQueue with the default initial capacity (11) that orders its elements according to their natural ordering.\r\n\r\nThis is a link to doc: https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html","title":"A TreeSet or TreeMap that allow duplicates","body":"<p>You can use a PriorityQueue.</p>\n<pre><code>PriorityQueue&lt;Integer&gt; pQueue = new PriorityQueue&lt;Integer&gt;(); \n</code></pre>\n<p><code>PriorityQueue()</code>: Creates a PriorityQueue with the default initial capacity (11) that orders its elements according to their natural ordering.</p>\n<p>This is a link to doc: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html</a></p>\n"},{"tags":[],"owner":{"account_id":5423691,"reputation":1195,"user_id":4316647,"display_name":"Chad Juliano"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1583435782,"creation_date":1583435314,"answer_id":60552440,"question_id":22251787,"body_markdown":"I found a way to get [TreeSet][1] to store duplicate keys. \r\n\r\nThe problem originated when I wrote some code in python using [SortedContainers][2]. I have a spatial index of objects where I want to find all objects between a start/end longitude. \r\n\r\nThe longitudes could be duplicates but I still need the ability to efficiently add/remove specific objects from the index. Unfortunately I could not find the Java equivalent of the Python [SortedKeyList][3] that separates the sort key from the type being stored.\r\n\r\nTo illustrate this consider that we have a large list of retail purchases and we want to get all purchases where the cost is in a specific range.\r\n\r\n    // We are using TreeSet as a SortedList\r\n    TreeSet _index = new TreeSet&lt;PriceBase&gt;()\r\n\r\n    // populate the index with the purchases. \r\n    // Note that 2 of these have the same cost\r\n    _index.add(new Purchase(&quot;candy&quot;, 1.03));\r\n    Purchase _bananas = new Purchase(&quot;bananas&quot;, 1.45);\r\n    _index.add(new Purchase(_bananas);\r\n    _index.add(new Purchase(&quot;celery&quot;, 1.45));\r\n    _index.add(new Purchase(&quot;chicken&quot;, 4.99));\r\n\r\n    // Range scan. This iterator should return &quot;candy&quot;, &quot;bananas&quot;, &quot;celery&quot;\r\n    NavigableSet&lt;PriceBase&gt; _iterator = _index.subset(\r\n        new PriceKey(0.99), new PriceKey(3.99));\r\n\r\n    // we can also remove specific items from the list and\r\n    // it finds the specific object even through the sort\r\n    // key is the same\r\n    _index.remove(_bananas);\r\n    \r\nThere are 3 classes created for the list\r\n\r\n* PriceBase: Base class that returns the sort key (the price).\r\n* Purchase: subclass that contains transaction data.\r\n* PriceKey: subclass used for the range search.\r\n\r\nWhen I initially implemented this with TreeSet it worked except in the case where the prices are the same. The trick is to define the compareTo() so that it is polymorphic:\r\n\r\n1. If we are comparing Purchase to PriceKey then only compare the price. \r\n2. If we are comparing Purchase to Purchase then compare the price and the name if the prices are the same.\r\n\r\nFor example here are the compareTo() functions for the PriceBase and Purchase classes.\r\n\r\n    // in PriceBase\r\n    @Override\r\n    public int compareTo(PriceBase _other) {\r\n        return Double.compare(this.getPrice(), _other.getPrice());\r\n    }\r\n\r\n    // in Purchase\r\n    @Override\r\n    public int compareTo(PriceBase _other) {\r\n        \r\n        // compare by price\r\n        int _compare = super.compareTo(_other);\r\n        \r\n        if(_compare != 0) {\r\n            // prices are not equal\r\n            return _compare;\r\n        }\r\n        \r\n        if(_other instanceof Purchase == false) {\r\n            throw new RuntimeException(&quot;Right compare must be a Purchase&quot;);\r\n        }\r\n        \r\n        // compare by item name\r\n        Purchase _otherPurchase = (Purchase)_other;\r\n        return this.getName().compareTo(_otherChild.getName());\r\n    }\r\n\r\nThis trick allows the TreeSet to sort the purchases by price but still do a real comparison when one needs to be uniquely identified.\r\n\r\nIn summary I needed an object index to support a range scan where the key is a continuous value like double and add/remove is efficient. \r\n\r\nI understand there are many other ways to solve this problem but I wanted to avoid writing my own tree class. My solution seems like a hack and I am surprised that I can&#39;t find anything else. if you know of a better way then please comment. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/index.html?java/util/TreeSet.html\r\n  [2]: http://www.grantjenks.com/docs/sortedcontainers/introduction.html\r\n  [3]: http://www.grantjenks.com/docs/sortedcontainers/sortedlist.html#sortedkeylist","title":"A TreeSet or TreeMap that allow duplicates","body":"<p>I found a way to get <a href=\"https://docs.oracle.com/javase/8/docs/api/index.html?java/util/TreeSet.html\" rel=\"nofollow noreferrer\">TreeSet</a> to store duplicate keys. </p>\n\n<p>The problem originated when I wrote some code in python using <a href=\"http://www.grantjenks.com/docs/sortedcontainers/introduction.html\" rel=\"nofollow noreferrer\">SortedContainers</a>. I have a spatial index of objects where I want to find all objects between a start/end longitude. </p>\n\n<p>The longitudes could be duplicates but I still need the ability to efficiently add/remove specific objects from the index. Unfortunately I could not find the Java equivalent of the Python <a href=\"http://www.grantjenks.com/docs/sortedcontainers/sortedlist.html#sortedkeylist\" rel=\"nofollow noreferrer\">SortedKeyList</a> that separates the sort key from the type being stored.</p>\n\n<p>To illustrate this consider that we have a large list of retail purchases and we want to get all purchases where the cost is in a specific range.</p>\n\n<pre><code>// We are using TreeSet as a SortedList\nTreeSet _index = new TreeSet&lt;PriceBase&gt;()\n\n// populate the index with the purchases. \n// Note that 2 of these have the same cost\n_index.add(new Purchase(\"candy\", 1.03));\nPurchase _bananas = new Purchase(\"bananas\", 1.45);\n_index.add(new Purchase(_bananas);\n_index.add(new Purchase(\"celery\", 1.45));\n_index.add(new Purchase(\"chicken\", 4.99));\n\n// Range scan. This iterator should return \"candy\", \"bananas\", \"celery\"\nNavigableSet&lt;PriceBase&gt; _iterator = _index.subset(\n    new PriceKey(0.99), new PriceKey(3.99));\n\n// we can also remove specific items from the list and\n// it finds the specific object even through the sort\n// key is the same\n_index.remove(_bananas);\n</code></pre>\n\n<p>There are 3 classes created for the list</p>\n\n<ul>\n<li>PriceBase: Base class that returns the sort key (the price).</li>\n<li>Purchase: subclass that contains transaction data.</li>\n<li>PriceKey: subclass used for the range search.</li>\n</ul>\n\n<p>When I initially implemented this with TreeSet it worked except in the case where the prices are the same. The trick is to define the compareTo() so that it is polymorphic:</p>\n\n<ol>\n<li>If we are comparing Purchase to PriceKey then only compare the price. </li>\n<li>If we are comparing Purchase to Purchase then compare the price and the name if the prices are the same.</li>\n</ol>\n\n<p>For example here are the compareTo() functions for the PriceBase and Purchase classes.</p>\n\n<pre><code>// in PriceBase\n@Override\npublic int compareTo(PriceBase _other) {\n    return Double.compare(this.getPrice(), _other.getPrice());\n}\n\n// in Purchase\n@Override\npublic int compareTo(PriceBase _other) {\n\n    // compare by price\n    int _compare = super.compareTo(_other);\n\n    if(_compare != 0) {\n        // prices are not equal\n        return _compare;\n    }\n\n    if(_other instanceof Purchase == false) {\n        throw new RuntimeException(\"Right compare must be a Purchase\");\n    }\n\n    // compare by item name\n    Purchase _otherPurchase = (Purchase)_other;\n    return this.getName().compareTo(_otherChild.getName());\n}\n</code></pre>\n\n<p>This trick allows the TreeSet to sort the purchases by price but still do a real comparison when one needs to be uniquely identified.</p>\n\n<p>In summary I needed an object index to support a range scan where the key is a continuous value like double and add/remove is efficient. </p>\n\n<p>I understand there are many other ways to solve this problem but I wanted to avoid writing my own tree class. My solution seems like a hack and I am surprised that I can't find anything else. if you know of a better way then please comment. </p>\n"},{"tags":[],"owner":{"account_id":16378317,"reputation":21,"user_id":11829949,"display_name":"In Dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693247147,"creation_date":1693247147,"answer_id":76995242,"question_id":22251787,"body_markdown":"While it&#39;s not possible directly, there are few workarounds.\r\n\r\n------------------------------------------------\r\nWhat you should never do under any circumstances\r\n------------------------------------------------\r\n\r\nIt might not seem as obvious, but messing with `Comparator` argument or with `compareTo(T other)` method is unacceptable, and IDEs will usually show that something is not right. The problem with this approach is that any broken comparison algorithm breaks `TreeSet` in unexpected ways. For example, instantiating it like that\r\n\r\n```\r\nnew TreeSet&lt;Integer&gt;((x, y) -&gt; y - x == 0 ? 1 : y - x);\r\n```\r\n\r\nwould surely allow you to store duplicate `Integer` elements within such `TreeSet`. Nevertheless, it breaks `TreeSet` in half because every element stored is now absolutely unremovable. The `remove` method would do nothing at all because `TreeSet` cannot find any element equal to one passed into `remove` method (remember that `TreeSet` only compares elements by calling `Comparator` or `compareTo` method and never uses the `equals` method). \r\n\r\n-----------------\r\nWorse workaround\r\n-----------------\r\n\r\nInstead of passing elements of type `T` directly, you can create a wrapping class that contains `T` along with some id (`UUID` for example).\r\n\r\n```\r\nrecord TreeSetEntry&lt;T&gt;(T value, UUID uuid) {\r\n    TreeSetEntry(T value) {\r\n        this(value, UUID.randomUUID());\r\n    }\r\n}\r\n```\r\n\r\nPassing this as a type for `TreeSet` (with a proper comparator, of course) would create one that can accept `TreeSetEntry` as elements with equal values.\r\n\r\n```\r\nnew TreeSet&lt;&gt;(Comparator.comparingInt(TreeSetEntry&lt;Integer&gt;::value).thenComparing(TreeSetEntry::uuid));\r\n```\r\n\r\nThis way of overcoming `TreeSet`&#39;s limitations while being correct on its own comes with a cost of massive memory overhead because for each value two additional objects would be created.\r\n\r\n-------------------\r\nWay better approach\r\n-------------------\r\n\r\nReally, in case you need to store duplicates in `TreeSet` as separate elements, the only valuable information you can store is what an element is and how many times it appears in `TreeSet` right now. Replacing `TreeSet&lt;T&gt;` with `TreeMap&lt;T, Long&gt;` is the best approach I&#39;ve found. Of course, managing the presence and absence of value as a key inside `TreeMap` is required, but it&#39;s possible to automate this process either by inheritance or delegation and then introduce methods for adding or removing a value unit.\r\n\r\nThe inheritance example is shown below. This approach retains all the functionality from `TreeMap`.\r\n```\r\nclass TreeCounter&lt;T&gt; extends TreeMap&lt;T, Long&gt; {\r\n    TreeCounter(Comparator&lt;T&gt; comparator) {\r\n        super(comparator);\r\n    }\r\n\r\n    void increase(T item) {\r\n        increase(item, 1);\r\n    }\r\n\r\n    void increase(T item, int difference) {\r\n        var count = this.getOrDefault(item, 0L);\r\n        this.put(item, count + difference);\r\n    }\r\n\r\n    void decrease(T item) {\r\n        decrease(item, 1);\r\n    }\r\n\r\n    void decrease(T item, int difference) {\r\n        var currentCount = this.getOrDefault(item, 0L);\r\n        if (currentCount &lt;= 1) {\r\n            this.remove(item);\r\n            return;\r\n        }\r\n\r\n        this.put(item, currentCount - 1);\r\n    }\r\n}\r\n```\r\n\r\nBeing aware of the fact that the `TreeSet` and `TreeMap` in Java in particular both allocate approximately equal amounts of memory, I can safely say this workaround is insanely memory efficient, especially in cases where a lot of duplicate elements need to get stored.","title":"A TreeSet or TreeMap that allow duplicates","body":"<p>While it's not possible directly, there are few workarounds.</p>\n<hr />\n<h2>What you should never do under any circumstances</h2>\n<p>It might not seem as obvious, but messing with <code>Comparator</code> argument or with <code>compareTo(T other)</code> method is unacceptable, and IDEs will usually show that something is not right. The problem with this approach is that any broken comparison algorithm breaks <code>TreeSet</code> in unexpected ways. For example, instantiating it like that</p>\n<pre><code>new TreeSet&lt;Integer&gt;((x, y) -&gt; y - x == 0 ? 1 : y - x);\n</code></pre>\n<p>would surely allow you to store duplicate <code>Integer</code> elements within such <code>TreeSet</code>. Nevertheless, it breaks <code>TreeSet</code> in half because every element stored is now absolutely unremovable. The <code>remove</code> method would do nothing at all because <code>TreeSet</code> cannot find any element equal to one passed into <code>remove</code> method (remember that <code>TreeSet</code> only compares elements by calling <code>Comparator</code> or <code>compareTo</code> method and never uses the <code>equals</code> method).</p>\n<hr />\n<h2>Worse workaround</h2>\n<p>Instead of passing elements of type <code>T</code> directly, you can create a wrapping class that contains <code>T</code> along with some id (<code>UUID</code> for example).</p>\n<pre><code>record TreeSetEntry&lt;T&gt;(T value, UUID uuid) {\n    TreeSetEntry(T value) {\n        this(value, UUID.randomUUID());\n    }\n}\n</code></pre>\n<p>Passing this as a type for <code>TreeSet</code> (with a proper comparator, of course) would create one that can accept <code>TreeSetEntry</code> as elements with equal values.</p>\n<pre><code>new TreeSet&lt;&gt;(Comparator.comparingInt(TreeSetEntry&lt;Integer&gt;::value).thenComparing(TreeSetEntry::uuid));\n</code></pre>\n<p>This way of overcoming <code>TreeSet</code>'s limitations while being correct on its own comes with a cost of massive memory overhead because for each value two additional objects would be created.</p>\n<hr />\n<h2>Way better approach</h2>\n<p>Really, in case you need to store duplicates in <code>TreeSet</code> as separate elements, the only valuable information you can store is what an element is and how many times it appears in <code>TreeSet</code> right now. Replacing <code>TreeSet&lt;T&gt;</code> with <code>TreeMap&lt;T, Long&gt;</code> is the best approach I've found. Of course, managing the presence and absence of value as a key inside <code>TreeMap</code> is required, but it's possible to automate this process either by inheritance or delegation and then introduce methods for adding or removing a value unit.</p>\n<p>The inheritance example is shown below. This approach retains all the functionality from <code>TreeMap</code>.</p>\n<pre><code>class TreeCounter&lt;T&gt; extends TreeMap&lt;T, Long&gt; {\n    TreeCounter(Comparator&lt;T&gt; comparator) {\n        super(comparator);\n    }\n\n    void increase(T item) {\n        increase(item, 1);\n    }\n\n    void increase(T item, int difference) {\n        var count = this.getOrDefault(item, 0L);\n        this.put(item, count + difference);\n    }\n\n    void decrease(T item) {\n        decrease(item, 1);\n    }\n\n    void decrease(T item, int difference) {\n        var currentCount = this.getOrDefault(item, 0L);\n        if (currentCount &lt;= 1) {\n            this.remove(item);\n            return;\n        }\n\n        this.put(item, currentCount - 1);\n    }\n}\n</code></pre>\n<p>Being aware of the fact that the <code>TreeSet</code> and <code>TreeMap</code> in Java in particular both allocate approximately equal amounts of memory, I can safely say this workaround is insanely memory efficient, especially in cases where a lot of duplicate elements need to get stored.</p>\n"}],"owner":{"account_id":2315704,"reputation":11983,"user_id":2032823,"accept_rate":84,"display_name":"Zeeshan"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38809,"favorite_count":0,"down_vote_count":1,"up_vote_count":14,"accepted_answer_id":22252605,"answer_count":8,"score":13,"last_activity_date":1693247147,"creation_date":1394199893,"question_id":22251787,"body_markdown":"I need a `Collection` that sorts the element, but does not removes the duplicates.\r\n\r\nI have gone for a `TreeSet`, since `TreeSet` actually adds the values to a backed `TreeMap`: \r\n\r\n    public boolean add(E e) {\r\n\t    return m.put(e, PRESENT)==null;\r\n    }\r\n\r\n\r\nAnd the TreeMap removes the duplicates using the `Comparators` `compare` logic\r\n\r\nI have written a `Comparator` that returns 1 instead of 0 in case of equal elements. Hence in the case of equal elements the `TreeSet` with this `Comparator` will not overwrite the duplicate and will just sort it.\r\n\r\nI have tested it for simple `String` objects, but I need a Set of Custom objects.\r\n\r\n    public static void main(String[] args)\r\n    {\t\t\r\n    \t\tList&lt;String&gt; strList = Arrays.asList( new String[]{&quot;d&quot;,&quot;b&quot;,&quot;c&quot;,&quot;z&quot;,&quot;s&quot;,&quot;b&quot;,&quot;d&quot;,&quot;a&quot;} );\t\t\r\n    \t\tSet&lt;String&gt; strSet = new TreeSet&lt;String&gt;(new StringComparator());\t\t\r\n    \t\tstrSet.addAll(strList);\t\t\r\n    \t\tSystem.out.println(strSet);\t\r\n    }\r\n    \r\n    class StringComparator implements Comparator&lt;String&gt;\r\n    {\r\n    \t@Override\r\n    \tpublic int compare(String s1, String s2)\r\n    \t{\r\n    \t\tif(s1.compareTo(s2) == 0){\r\n    \t\t\treturn 1;\r\n    \t\t}\r\n    \t\telse{\r\n    \t\t\treturn s1.compareTo(s2);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nIs this approach fine or is there a better way to achieve this?\r\n\r\n**EDIT**\r\n\r\nActually I am having a ArrayList of the following class:\r\n\r\n    class Fund \r\n    {\r\n    \tString fundCode;\r\n    \tBigDecimal fundValue;\r\n    \t.....\r\n\r\n        public boolean equals(Object obj) {\r\n    \t// uses fundCode for equality\r\n        }\r\n    }\r\n\r\nI need all the `fundCode` with highest `fundValue`","title":"A TreeSet or TreeMap that allow duplicates","body":"<p>I need a <code>Collection</code> that sorts the element, but does not removes the duplicates.</p>\n\n<p>I have gone for a <code>TreeSet</code>, since <code>TreeSet</code> actually adds the values to a backed <code>TreeMap</code>: </p>\n\n<pre><code>public boolean add(E e) {\n    return m.put(e, PRESENT)==null;\n}\n</code></pre>\n\n<p>And the TreeMap removes the duplicates using the <code>Comparators</code> <code>compare</code> logic</p>\n\n<p>I have written a <code>Comparator</code> that returns 1 instead of 0 in case of equal elements. Hence in the case of equal elements the <code>TreeSet</code> with this <code>Comparator</code> will not overwrite the duplicate and will just sort it.</p>\n\n<p>I have tested it for simple <code>String</code> objects, but I need a Set of Custom objects.</p>\n\n<pre><code>public static void main(String[] args)\n{       \n        List&lt;String&gt; strList = Arrays.asList( new String[]{\"d\",\"b\",\"c\",\"z\",\"s\",\"b\",\"d\",\"a\"} );      \n        Set&lt;String&gt; strSet = new TreeSet&lt;String&gt;(new StringComparator());       \n        strSet.addAll(strList);     \n        System.out.println(strSet); \n}\n\nclass StringComparator implements Comparator&lt;String&gt;\n{\n    @Override\n    public int compare(String s1, String s2)\n    {\n        if(s1.compareTo(s2) == 0){\n            return 1;\n        }\n        else{\n            return s1.compareTo(s2);\n        }\n    }\n}\n</code></pre>\n\n<p>Is this approach fine or is there a better way to achieve this?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Actually I am having a ArrayList of the following class:</p>\n\n<pre><code>class Fund \n{\n    String fundCode;\n    BigDecimal fundValue;\n    .....\n\n    public boolean equals(Object obj) {\n    // uses fundCode for equality\n    }\n}\n</code></pre>\n\n<p>I need all the <code>fundCode</code> with highest <code>fundValue</code></p>\n"},{"tags":["java","digital-signature","pades"],"answers":[{"tags":[],"owner":{"account_id":8497217,"reputation":37834,"user_id":6371459,"accept_rate":25,"display_name":"pedrofb"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1505461958,"creation_date":1505461958,"answer_id":46234469,"question_id":46234206,"body_markdown":"No, it is not possible, PAdES signatures are always sequential. Each signature is made on the current version of the document\r\n\r\nTake a look to the [ETSI TS 102 778-1 PDF Advanced Electronic Signature Profiles][1]\r\n\r\n\r\n&gt; **4.4 PDF serial signatures**\r\n\r\n\r\n&gt;[![pades][2]][2]\r\n\r\n&gt;**Signatures applied in parallel are currently not supported**\r\n  [1]: http://www.etsi.org/deliver/etsi_ts/102700_102799/10277801/01.01.01_60/ts_10277801v010101p.pdf\r\n  [2]: https://i.stack.imgur.com/fH1ZE.png","title":"Signature PADES sequential or parallel","body":"<p>No, it is not possible, PAdES signatures are always sequential. Each signature is made on the current version of the document</p>\n\n<p>Take a look to the <a href=\"http://www.etsi.org/deliver/etsi_ts/102700_102799/10277801/01.01.01_60/ts_10277801v010101p.pdf\" rel=\"noreferrer\">ETSI TS 102 778-1 PDF Advanced Electronic Signature Profiles</a></p>\n\n<blockquote>\n  <p><strong>4.4 PDF serial signatures</strong></p>\n  \n  <p><a href=\"https://i.stack.imgur.com/fH1ZE.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/fH1ZE.png\" alt=\"pades\"></a></p>\n  \n  <p><strong>Signatures applied in parallel are currently not supported</strong></p>\n</blockquote>\n"}],"owner":{"account_id":9362987,"reputation":125,"user_id":6948770,"display_name":"Sara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1061,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":46234469,"answer_count":1,"score":6,"last_activity_date":1693246698,"creation_date":1505461105,"question_id":46234206,"body_markdown":"In signature CAdES it&#39;s possible create multiple signature sequential or parallel.\r\n\r\n**Signature parallel**: in case of contract, when more people have to sign the same document. Each people sign the same document, and each signature is added to document.\r\n\r\n**Signature sequential**: where person sign the entire document (signature including) previously signed from another person.\r\n\r\nMy question is: in signature PAdES it&#39;s possible to create signature parallel?\r\nFor signature PAdES we use itext.","title":"Signature PADES sequential or parallel","body":"<p>In signature CAdES it's possible create multiple signature sequential or parallel.</p>\n<p><strong>Signature parallel</strong>: in case of contract, when more people have to sign the same document. Each people sign the same document, and each signature is added to document.</p>\n<p><strong>Signature sequential</strong>: where person sign the entire document (signature including) previously signed from another person.</p>\n<p>My question is: in signature PAdES it's possible to create signature parallel?\nFor signature PAdES we use itext.</p>\n"},{"tags":["java","lotus-notes","lotus-domino"],"comments":[{"owner":{"account_id":309890,"reputation":14473,"user_id":622571,"display_name":"Richard Schwartz"},"score":1,"creation_date":1391567613,"post_id":21564157,"comment_id":32576569,"body_markdown":"In some cases, putting the code in an external jar file seems to do the trick. Have you seen this article? http://lekkimworld.com/2013/06/20/java_in_notes_domino_explained_on_java_security_and_how_it_relates_to_notes_domino.html","body":"In some cases, putting the code in an external jar file seems to do the trick. Have you seen this article? <a href=\"http://lekkimworld.com/2013/06/20/java_in_notes_domino_explained_on_java_security_and_how_it_relates_to_notes_domino.html\" rel=\"nofollow noreferrer\">lekkimworld.com/2013/06/20/&hellip;</a>"},{"owner":{"account_id":1940590,"reputation":641,"user_id":1746868,"accept_rate":100,"display_name":"Gerard Cruz"},"score":1,"creation_date":1391721182,"post_id":21564157,"comment_id":32658170,"body_markdown":"This worked! Thank you for the article. External jar file and elevated permission for the function.","body":"This worked! Thank you for the article. External jar file and elevated permission for the function."},{"owner":{"account_id":309890,"reputation":14473,"user_id":622571,"display_name":"Richard Schwartz"},"score":1,"creation_date":1391741791,"post_id":21564157,"comment_id":32666049,"body_markdown":"I&#39;m glad it worked for you. An upvote and/or accept would be appreciated! :-)","body":"I&#39;m glad it worked for you. An upvote and/or accept would be appreciated! :-)"},{"owner":{"account_id":1940590,"reputation":641,"user_id":1746868,"accept_rate":100,"display_name":"Gerard Cruz"},"score":1,"creation_date":1391793245,"post_id":21564157,"comment_id":32692241,"body_markdown":"It was a comment so I only upvoted it... If you could put it in the &#39;answer your question&#39;, I will upvote and accept it as an answer right away.","body":"It was a comment so I only upvoted it... If you could put it in the &#39;answer your question&#39;, I will upvote and accept it as an answer right away."},{"owner":{"account_id":309890,"reputation":14473,"user_id":622571,"display_name":"Richard Schwartz"},"score":1,"creation_date":1391805307,"post_id":21564157,"comment_id":32698724,"body_markdown":"You&#39;re right! I had debated whether or not to make it an answer, but had decided not to since these kinds of permission issues can be so mysterious. I&#39;ll do that now.","body":"You&#39;re right! I had debated whether or not to make it an answer, but had decided not to since these kinds of permission issues can be so mysterious. I&#39;ll do that now."}],"answers":[{"tags":[],"owner":{"account_id":309890,"reputation":14473,"user_id":622571,"display_name":"Richard Schwartz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1391805387,"creation_date":1391805387,"answer_id":21637291,"question_id":21564157,"body_markdown":"In some cases, putting the code in an external jar file seems to do the trick. Have you seen this [article][1]? It goes into a lot of detail about solving problems like this.\r\n\r\n\r\n  [1]: http://lekkimworld.com/2013/06/20/java_in_notes_domino_explained_on_java_security_and_how_it_relates_to_notes_domino.html","title":"Unable to run setDefaultHostnameVerifier","body":"<p>In some cases, putting the code in an external jar file seems to do the trick. Have you seen this <a href=\"http://lekkimworld.com/2013/06/20/java_in_notes_domino_explained_on_java_security_and_how_it_relates_to_notes_domino.html\" rel=\"nofollow\">article</a>? It goes into a lot of detail about solving problems like this.</p>\n"},{"tags":[],"owner":{"account_id":223299,"reputation":188,"user_id":1656858,"display_name":"Adrian Bartyczak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693246527,"creation_date":1693246527,"answer_id":76995171,"question_id":21564157,"body_markdown":"For me, the issue was proguard obfuscating classes in org.bouncycastle.jcajce.provider. What I did was add the following to my proguard.conf file:\r\n\r\n`-keep class org.bouncycastle.jcajce.provider.** { *; }`","title":"Unable to run setDefaultHostnameVerifier","body":"<p>For me, the issue was proguard obfuscating classes in org.bouncycastle.jcajce.provider. What I did was add the following to my proguard.conf file:</p>\n<p><code>-keep class org.bouncycastle.jcajce.provider.** { *; }</code></p>\n"}],"owner":{"account_id":1940590,"reputation":641,"user_id":1746868,"accept_rate":100,"display_name":"Gerard Cruz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2078,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":21637291,"answer_count":2,"score":1,"last_activity_date":1693246527,"creation_date":1391550324,"question_id":21564157,"body_markdown":"Basically I&#39;m trying to execute the following code within an lotus notes java agent in a local database to force ignore the host name mismatch for the SSL certificate.\r\n\r\n    HostnameVerifier hv = new HostnameVerifier() {\r\n                        public boolean verify(String urlHostName, SSLSession session) {\r\n                            System.out.println(&quot;Warning: URL Host: &quot; + urlHostName + &quot; vs. &quot;\r\n                                    + session.getPeerHost());\r\n                            return true;\r\n                        }\r\n                    };\r\n    HttpsURLConnection.setDefaultHostnameVerifier(hv);\r\n\r\nHowever, I&#39;m encountering an error that says that the access to the particular method is denied\r\n\r\n&gt; java.security.AccessControlException: Access denied\r\n&gt; (javax.net.ssl.SSLPermission setHostnameVerifier) \tat\r\n&gt; java.security.AccessController.throwACE(AccessController.java:100) \tat\r\n&gt; java.security.AccessController.checkPermission(AccessController.java:174)\r\n&gt; \tat\r\n&gt; java.lang.SecurityManager.checkPermission(SecurityManager.java:544)\r\n&gt; \tat\r\n&gt; COM.ibm.JEmpower.applet.AppletSecurity.superDotCheckPermission(AppletSecurity.java:1449)\r\n&gt; \tat\r\n&gt; COM.ibm.JEmpower.applet.AppletSecurity.checkPermission(AppletSecurity.java:1617)\r\n&gt; \tat\r\n&gt; COM.ibm.JEmpower.applet.AppletSecurity.checkPermission(AppletSecurity.java:1464)\r\n&gt; \tat\r\n&gt; javax.net.ssl.HttpsURLConnection.setDefaultHostnameVerifier(HttpsURLConnection.java:40)\r\n&gt; \tat JavaAgent.NotesMain(JavaAgent.java:45) \tat\r\n&gt; lotus.domino.AgentBase.runNotes(Unknown Source) \tat\r\n&gt; lotus.domino.NotesThread.run(Unknown Source)\r\n\r\nI have tried the following code inside the java.policy file but the error remains the same\r\n\r\n&gt; permission javax.net.ssl.SSLPermission “setHostnameVerifier”;\r\n\r\nI tried the same code in eclipse IDE and ran it and worked well. ","title":"Unable to run setDefaultHostnameVerifier","body":"<p>Basically I'm trying to execute the following code within an lotus notes java agent in a local database to force ignore the host name mismatch for the SSL certificate.</p>\n\n<pre><code>HostnameVerifier hv = new HostnameVerifier() {\n                    public boolean verify(String urlHostName, SSLSession session) {\n                        System.out.println(\"Warning: URL Host: \" + urlHostName + \" vs. \"\n                                + session.getPeerHost());\n                        return true;\n                    }\n                };\nHttpsURLConnection.setDefaultHostnameVerifier(hv);\n</code></pre>\n\n<p>However, I'm encountering an error that says that the access to the particular method is denied</p>\n\n<blockquote>\n  <p>java.security.AccessControlException: Access denied\n  (javax.net.ssl.SSLPermission setHostnameVerifier)     at\n  java.security.AccessController.throwACE(AccessController.java:100)    at\n  java.security.AccessController.checkPermission(AccessController.java:174)\n    at\n  java.lang.SecurityManager.checkPermission(SecurityManager.java:544)\n    at\n  COM.ibm.JEmpower.applet.AppletSecurity.superDotCheckPermission(AppletSecurity.java:1449)\n    at\n  COM.ibm.JEmpower.applet.AppletSecurity.checkPermission(AppletSecurity.java:1617)\n    at\n  COM.ibm.JEmpower.applet.AppletSecurity.checkPermission(AppletSecurity.java:1464)\n    at\n  javax.net.ssl.HttpsURLConnection.setDefaultHostnameVerifier(HttpsURLConnection.java:40)\n    at JavaAgent.NotesMain(JavaAgent.java:45)   at\n  lotus.domino.AgentBase.runNotes(Unknown Source)   at\n  lotus.domino.NotesThread.run(Unknown Source)</p>\n</blockquote>\n\n<p>I have tried the following code inside the java.policy file but the error remains the same</p>\n\n<blockquote>\n  <p>permission javax.net.ssl.SSLPermission “setHostnameVerifier”;</p>\n</blockquote>\n\n<p>I tried the same code in eclipse IDE and ran it and worked well. </p>\n"},{"tags":["java","google-cloud-platform","google-bigquery","apache-beam","apache-beam-io"],"comments":[{"owner":{"account_id":45023,"reputation":55990,"user_id":132438,"accept_rate":43,"display_name":"Felipe Hoffa"},"score":0,"creation_date":1547096202,"post_id":54110596,"comment_id":95076158,"body_markdown":"Can you specify more about your use case? Dataflow/Beam should perform only-once when coupled with BigQuery, without you needing to specify manually an insertId.","body":"Can you specify more about your use case? Dataflow/Beam should perform only-once when coupled with BigQuery, without you needing to specify manually an insertId."},{"owner":{"account_id":2106398,"reputation":1394,"user_id":1872639,"accept_rate":86,"display_name":"Yohei Onishi"},"score":0,"creation_date":1547096932,"post_id":54110596,"comment_id":95076333,"body_markdown":"my use case is mentioned above. want to de-duplicate when inserting to BigQuery. so just specify insertId as column in new row?","body":"my use case is mentioned above. want to de-duplicate when inserting to BigQuery. so just specify insertId as column in new row?"},{"owner":{"account_id":45023,"reputation":55990,"user_id":132438,"accept_rate":43,"display_name":"Felipe Hoffa"},"score":0,"creation_date":1547099611,"post_id":54110596,"comment_id":95077039,"body_markdown":"I understand you want to de-duplicate. But depending on the source of duplication, this might be already a solved problem.","body":"I understand you want to de-duplicate. But depending on the source of duplication, this might be already a solved problem."},{"owner":{"account_id":2106398,"reputation":1394,"user_id":1872639,"accept_rate":86,"display_name":"Yohei Onishi"},"score":0,"creation_date":1547100021,"post_id":54110596,"comment_id":95077144,"body_markdown":"no duplication on data source side. since Kafka support at least once delivery as default so I think there is possibility of duplication between Kafka producer and consumer. and also I guess dataflow might insert same row more than once when retry on some errors (e.g. temporal network issue). so I just want to know how I can avoid duplication on both. this question is about stream insert from dataflow to bigquery.","body":"no duplication on data source side. since Kafka support at least once delivery as default so I think there is possibility of duplication between Kafka producer and consumer. and also I guess dataflow might insert same row more than once when retry on some errors (e.g. temporal network issue). so I just want to know how I can avoid duplication on both. this question is about stream insert from dataflow to bigquery."},{"owner":{"account_id":2106398,"reputation":1394,"user_id":1872639,"accept_rate":86,"display_name":"Yohei Onishi"},"score":0,"creation_date":1547101547,"post_id":54110596,"comment_id":95077600,"body_markdown":"In my actual use case, requirement for de-duplication is not so strong. So I think the easiest way is just to insert to Big Query then de-duplication on query. but I just want to know BigQueryIO (Apache Beam) support deduplication feature.","body":"In my actual use case, requirement for de-duplication is not so strong. So I think the easiest way is just to insert to Big Query then de-duplication on query. but I just want to know BigQueryIO (Apache Beam) support deduplication feature."}],"answers":[{"tags":[],"owner":{"account_id":45023,"reputation":55990,"user_id":132438,"accept_rate":43,"display_name":"Felipe Hoffa"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1547159656,"creation_date":1547158995,"answer_id":54137754,"question_id":54110596,"body_markdown":"- **Pub/Sub + Beam/Dataflow + BigQuery**: &quot;Exactly once&quot; should be guaranteed, and you don&#39;t need to worry much about this. That guarantee is stronger when you ask Dataflow to insert to BigQuery using [FILE_LOADS][1] instead of [STREAMING_INSERTS][2], for now.\r\n\r\n- **Kafka + Beam/Dataflow + BigQuery**: If a message can be emitted more than once from Kafka (e.g. if the producer retried the insertion), then you need to take care of de-duplication. Either in BigQuery (as currently implemented, according to your comment), or in Dataflow with a `.apply(Distinct.create())` transform.\r\n\r\n\r\n  [1]: https://beam.apache.org/releases/javadoc/2.9.0/org/apache/beam/sdk/io/gcp/bigquery/BigQueryIO.Write.Method.html#FILE_LOADS\r\n  [2]: https://beam.apache.org/releases/javadoc/2.9.0/org/apache/beam/sdk/io/gcp/bigquery/BigQueryIO.Write.Method.html#STREAMING_INSERTS","title":"How to specify insertId when streaming insert to BigQuery using Apache Beam","body":"<ul>\n<li><p><strong>Pub/Sub + Beam/Dataflow + BigQuery</strong>: \"Exactly once\" should be guaranteed, and you don't need to worry much about this. That guarantee is stronger when you ask Dataflow to insert to BigQuery using <a href=\"https://beam.apache.org/releases/javadoc/2.9.0/org/apache/beam/sdk/io/gcp/bigquery/BigQueryIO.Write.Method.html#FILE_LOADS\" rel=\"nofollow noreferrer\">FILE_LOADS</a> instead of <a href=\"https://beam.apache.org/releases/javadoc/2.9.0/org/apache/beam/sdk/io/gcp/bigquery/BigQueryIO.Write.Method.html#STREAMING_INSERTS\" rel=\"nofollow noreferrer\">STREAMING_INSERTS</a>, for now.</p></li>\n<li><p><strong>Kafka + Beam/Dataflow + BigQuery</strong>: If a message can be emitted more than once from Kafka (e.g. if the producer retried the insertion), then you need to take care of de-duplication. Either in BigQuery (as currently implemented, according to your comment), or in Dataflow with a <code>.apply(Distinct.create())</code> transform.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2106398,"reputation":1394,"user_id":1872639,"accept_rate":86,"display_name":"Yohei Onishi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1547534281,"creation_date":1547534281,"answer_id":54193825,"question_id":54110596,"body_markdown":"As Felipe mentioned in the comment, it seems that Dataflow is already using insertId for itself to implement &quot;exactly once&quot;. so we can not manually specify insertId. ","title":"How to specify insertId when streaming insert to BigQuery using Apache Beam","body":"<p>As Felipe mentioned in the comment, it seems that Dataflow is already using insertId for itself to implement \"exactly once\". so we can not manually specify insertId. </p>\n"}],"owner":{"account_id":2106398,"reputation":1394,"user_id":1872639,"accept_rate":86,"display_name":"Yohei Onishi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4744,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":54193825,"answer_count":2,"score":5,"last_activity_date":1693246376,"creation_date":1547038341,"question_id":54110596,"body_markdown":"BigQuery supports de-duplication for streaming insert. How can I use this feature using Apache Beam?\r\n\r\nhttps://cloud.google.com/bigquery/streaming-data-into-bigquery#dataconsistency\r\n\r\n&gt; To help ensure data consistency, you can supply insertId for each inserted row. BigQuery remembers this ID for at least one minute. If you try to stream the same set of rows within that time period and the insertId property is set, BigQuery uses the insertId property to de-duplicate your data on a best effort basis. You might have to retry an insert because there&#39;s no way to determine the state of a streaming insert under certain error conditions, such as network errors between your system and BigQuery or internal errors within BigQuery. If you retry an insert, use the same insertId for the same set of rows so that BigQuery can attempt to de-duplicate your data. For more information, see troubleshooting streaming inserts.\r\n\r\nI can not find such feature in Java doc.\r\nhttps://beam.apache.org/releases/javadoc/2.9.0/org/apache/beam/sdk/io/gcp/bigquery/BigQueryIO.Write.html\r\n\r\nIn [this question][1], he suggest to set insertId in TableRow. Is this correct?\r\n\r\nhttps://developers.google.com/resources/api-libraries/documentation/bigquery/v2/java/latest/com/google/api/services/bigquery/model/TableRow.html?is-external=true\r\n\r\nBigQuery client library has this feature.\r\n\r\nhttps://googleapis.github.io/google-cloud-java/google-cloud-clients/apidocs/index.html?com/google/cloud/bigquery/package-summary.html\r\nhttps://github.com/googleapis/google-cloud-java/blob/master/google-cloud-clients/google-cloud-bigquery/src/main/java/com/google/cloud/bigquery/InsertAllRequest.java#L134\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/46401195/apache-beam-bigquery-insertid-for-deduplication-not-working","title":"How to specify insertId when streaming insert to BigQuery using Apache Beam","body":"<p>BigQuery supports de-duplication for streaming insert. How can I use this feature using Apache Beam?</p>\n\n<p><a href=\"https://cloud.google.com/bigquery/streaming-data-into-bigquery#dataconsistency\" rel=\"noreferrer\">https://cloud.google.com/bigquery/streaming-data-into-bigquery#dataconsistency</a></p>\n\n<blockquote>\n  <p>To help ensure data consistency, you can supply insertId for each inserted row. BigQuery remembers this ID for at least one minute. If you try to stream the same set of rows within that time period and the insertId property is set, BigQuery uses the insertId property to de-duplicate your data on a best effort basis. You might have to retry an insert because there's no way to determine the state of a streaming insert under certain error conditions, such as network errors between your system and BigQuery or internal errors within BigQuery. If you retry an insert, use the same insertId for the same set of rows so that BigQuery can attempt to de-duplicate your data. For more information, see troubleshooting streaming inserts.</p>\n</blockquote>\n\n<p>I can not find such feature in Java doc.\n<a href=\"https://beam.apache.org/releases/javadoc/2.9.0/org/apache/beam/sdk/io/gcp/bigquery/BigQueryIO.Write.html\" rel=\"noreferrer\">https://beam.apache.org/releases/javadoc/2.9.0/org/apache/beam/sdk/io/gcp/bigquery/BigQueryIO.Write.html</a></p>\n\n<p>In <a href=\"https://stackoverflow.com/questions/46401195/apache-beam-bigquery-insertid-for-deduplication-not-working\">this question</a>, he suggest to set insertId in TableRow. Is this correct?</p>\n\n<p><a href=\"https://developers.google.com/resources/api-libraries/documentation/bigquery/v2/java/latest/com/google/api/services/bigquery/model/TableRow.html?is-external=true\" rel=\"noreferrer\">https://developers.google.com/resources/api-libraries/documentation/bigquery/v2/java/latest/com/google/api/services/bigquery/model/TableRow.html?is-external=true</a></p>\n\n<p>BigQuery client library has this feature.</p>\n\n<p><a href=\"https://googleapis.github.io/google-cloud-java/google-cloud-clients/apidocs/index.html?com/google/cloud/bigquery/package-summary.html\" rel=\"noreferrer\">https://googleapis.github.io/google-cloud-java/google-cloud-clients/apidocs/index.html?com/google/cloud/bigquery/package-summary.html</a>\n<a href=\"https://github.com/googleapis/google-cloud-java/blob/master/google-cloud-clients/google-cloud-bigquery/src/main/java/com/google/cloud/bigquery/InsertAllRequest.java#L134\" rel=\"noreferrer\">https://github.com/googleapis/google-cloud-java/blob/master/google-cloud-clients/google-cloud-bigquery/src/main/java/com/google/cloud/bigquery/InsertAllRequest.java#L134</a></p>\n"},{"tags":["java","hibernate","jpa","orm","persistence"],"answers":[{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693246315,"creation_date":1692886092,"answer_id":76970147,"question_id":76967879,"body_markdown":"Entity &#39;A&#39; doesn&#39;t own the A.b ManyToMany relationship mapping since you&#39;ve marked it as mappedBy the B.a relationship. This means that changes are only picked up from the B side of things - if you need to remove a &#39;B&#39; instance from the relationship, you&#39;ll need to merge B into the context. You should still merge A if possible to keep the cached copy of A in synch with the database in various caching strategies, but isn&#39;t likely to be needed in the simple test you&#39;ve shown.\r\n\r\nThere are a few ways to handle this, such as changing the owner of the relationship (akin to making it a unidirectional relationship from A-&gt;B), but I&#39;d suggest instead just handling changes to the list of Bs yourself:\r\n\r\n    public static void repositoryMerge(A a) {\r\n        EntityManagerFactory factory = Persistence.createEntityManagerFactory(&quot;persistence_unit&quot;);\r\n        EntityManager entityManager = factory.createEntityManager();\r\n        entityManager.getTransaction().begin();\r\n        final A managedA = entityManager.find(A.class, a.getId());\r\n        List&lt;B&gt; missingBs = managedA.getB().stream().filter(\r\n          b -&gt; !a.getB().stream().anyMatch( \r\n            b1 -&gt; Object.equals(b1.getId(), b.getId())));\r\n        missingBs.stream().forEach(b-&gt; b.getA().remove(managedA));\r\n        entityManager.merge(a);\r\n        entityManager.getTransaction().commit();\r\n        entityManager.close();\r\n        factory.close();\r\n    }","title":"Jpa/hibernate why detached entity merged partially?","body":"<p>Entity 'A' doesn't own the A.b ManyToMany relationship mapping since you've marked it as mappedBy the B.a relationship. This means that changes are only picked up from the B side of things - if you need to remove a 'B' instance from the relationship, you'll need to merge B into the context. You should still merge A if possible to keep the cached copy of A in synch with the database in various caching strategies, but isn't likely to be needed in the simple test you've shown.</p>\n<p>There are a few ways to handle this, such as changing the owner of the relationship (akin to making it a unidirectional relationship from A-&gt;B), but I'd suggest instead just handling changes to the list of Bs yourself:</p>\n<pre><code>public static void repositoryMerge(A a) {\n    EntityManagerFactory factory = Persistence.createEntityManagerFactory(&quot;persistence_unit&quot;);\n    EntityManager entityManager = factory.createEntityManager();\n    entityManager.getTransaction().begin();\n    final A managedA = entityManager.find(A.class, a.getId());\n    List&lt;B&gt; missingBs = managedA.getB().stream().filter(\n      b -&gt; !a.getB().stream().anyMatch( \n        b1 -&gt; Object.equals(b1.getId(), b.getId())));\n    missingBs.stream().forEach(b-&gt; b.getA().remove(managedA));\n    entityManager.merge(a);\n    entityManager.getTransaction().commit();\n    entityManager.close();\n    factory.close();\n}\n</code></pre>\n"}],"owner":{"account_id":29257641,"reputation":1,"user_id":22415462,"display_name":"randomuser333"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693246315,"creation_date":1692868631,"question_id":76967879,"body_markdown":"When i fetch entity from entity manager then make it detached and trying to delete related entities there is no changes in database to them. In other words after entity manager is closed (that is required) and opened again only changes to name field is merged but not for list of B. There is no exception or other errors or warnings. Hibernate log only shows select but not deletion from b_a database table.\r\n\r\n```\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        A a = getAByIdFromRepository(2);\r\n        B b = a.getB().stream().filter(i -&gt; i.getId() == 1).findFirst().orElse(null);\r\n        a.remove(b);\r\n        repositoryMerge(a);\r\n    }\r\n\r\n    public static A getAByIdFromRepository(int id) {\r\n        EntityManagerFactory factory = Persistence.createEntityManagerFactory(&quot;persistence_unit&quot;);\r\n        EntityManager em = factory.createEntityManager();\r\n        A a = em.find(A.class, id);\r\n        em.close();\r\n        factory.close();\r\n        return a;\r\n    }\r\n\r\n    public static void repositoryMerge(A a) {\r\n        EntityManagerFactory factory = Persistence.createEntityManagerFactory(&quot;persistence_unit&quot;);\r\n        EntityManager entityManager = factory.createEntityManager();\r\n        entityManager.getTransaction().begin();\r\n        entityManager.merge(a);\r\n        entityManager.getTransaction().commit();\r\n        entityManager.close();\r\n        factory.close();\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;a&quot;)\r\npublic class A implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;a_id&quot;)\r\n    protected int id;\r\n    @Column(name = &quot;a_name&quot;)\r\n    protected String name;\r\n    @ManyToMany(mappedBy = &quot;a&quot;, fetch = FetchType.EAGER)\r\n    protected List&lt;B&gt; b;\r\n\r\n   //getters setters etc.\r\n\r\n    public void remove(B b) {\r\n        this.getB().remove(b);\r\n        b.getA().remove(this);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;b&quot;)\r\npublic class B implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;b_id&quot;)\r\n    protected int id;\r\n    @Column(name = &quot;b_name&quot;)\r\n    protected String name;\r\n    @JoinTable(\r\n            name = &quot;b_a&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;b_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;a_id&quot;))\r\n    @ManyToMany(fetch = FetchType.EAGER)\r\n    protected List&lt;A&gt; a;\r\n\r\n  //getters setters etc.\r\n\r\n\r\n}\r\n```\r\nAnd when fetching, deletion from entity and merging happens with one opened entity manager this is works:\r\n```\r\n        EntityManagerFactory factory = Persistence.createEntityManagerFactory(&quot;persistence_unit&quot;);\r\n        EntityManager entityManager = factory.createEntityManager();\r\n        A a = entityManager.find(A.class, 2);\r\n        B b = a.getB().stream().filter(i -&gt; i.getId() == 1).findFirst().orElse(null);\r\n        a.remove(b);\r\n        entityManager.getTransaction().begin();\r\n        entityManager.merge(a);\r\n        entityManager.getTransaction().commit();\r\n        entityManager.close();\r\n        factory.close();\r\n```\r\n","title":"Jpa/hibernate why detached entity merged partially?","body":"<p>When i fetch entity from entity manager then make it detached and trying to delete related entities there is no changes in database to them. In other words after entity manager is closed (that is required) and opened again only changes to name field is merged but not for list of B. There is no exception or other errors or warnings. Hibernate log only shows select but not deletion from b_a database table.</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        A a = getAByIdFromRepository(2);\n        B b = a.getB().stream().filter(i -&gt; i.getId() == 1).findFirst().orElse(null);\n        a.remove(b);\n        repositoryMerge(a);\n    }\n\n    public static A getAByIdFromRepository(int id) {\n        EntityManagerFactory factory = Persistence.createEntityManagerFactory(&quot;persistence_unit&quot;);\n        EntityManager em = factory.createEntityManager();\n        A a = em.find(A.class, id);\n        em.close();\n        factory.close();\n        return a;\n    }\n\n    public static void repositoryMerge(A a) {\n        EntityManagerFactory factory = Persistence.createEntityManagerFactory(&quot;persistence_unit&quot;);\n        EntityManager entityManager = factory.createEntityManager();\n        entityManager.getTransaction().begin();\n        entityManager.merge(a);\n        entityManager.getTransaction().commit();\n        entityManager.close();\n        factory.close();\n    }\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;a&quot;)\npublic class A implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;a_id&quot;)\n    protected int id;\n    @Column(name = &quot;a_name&quot;)\n    protected String name;\n    @ManyToMany(mappedBy = &quot;a&quot;, fetch = FetchType.EAGER)\n    protected List&lt;B&gt; b;\n\n   //getters setters etc.\n\n    public void remove(B b) {\n        this.getB().remove(b);\n        b.getA().remove(this);\n    }\n\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;b&quot;)\npublic class B implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;b_id&quot;)\n    protected int id;\n    @Column(name = &quot;b_name&quot;)\n    protected String name;\n    @JoinTable(\n            name = &quot;b_a&quot;,\n            joinColumns = @JoinColumn(name = &quot;b_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;a_id&quot;))\n    @ManyToMany(fetch = FetchType.EAGER)\n    protected List&lt;A&gt; a;\n\n  //getters setters etc.\n\n\n}\n</code></pre>\n<p>And when fetching, deletion from entity and merging happens with one opened entity manager this is works:</p>\n<pre><code>        EntityManagerFactory factory = Persistence.createEntityManagerFactory(&quot;persistence_unit&quot;);\n        EntityManager entityManager = factory.createEntityManager();\n        A a = entityManager.find(A.class, 2);\n        B b = a.getB().stream().filter(i -&gt; i.getId() == 1).findFirst().orElse(null);\n        a.remove(b);\n        entityManager.getTransaction().begin();\n        entityManager.merge(a);\n        entityManager.getTransaction().commit();\n        entityManager.close();\n        factory.close();\n</code></pre>\n"},{"tags":["java","logitech-led-illumination-sdk"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1631468023,"post_id":69069636,"comment_id":122224249,"body_markdown":"you should put those dll and lib files into same location with that jar, if you create a github repo with reproducer it will be easier to solve this.","body":"you should put those dll and lib files into same location with that jar, if you create a github repo with reproducer it will be easier to solve this."},{"owner":{"account_id":18688943,"reputation":2332,"user_id":13623742,"display_name":"Charlie Armstrong"},"score":0,"creation_date":1631595469,"post_id":69069636,"comment_id":122257227,"body_markdown":"@&#246;zkanpakdil Thank you for the response.  I tried putting the dll and lib files in the same folder as the jar, but still got the same error message.  [Here](https://github.com/Chickencharm/KeyColors) is the project directory I am left with when I follow the exact steps described in my question.","body":"@&#246;zkanpakdil Thank you for the response.  I tried putting the dll and lib files in the same folder as the jar, but still got the same error message.  <a href=\"https://github.com/Chickencharm/KeyColors\" rel=\"nofollow noreferrer\">Here</a> is the project directory I am left with when I follow the exact steps described in my question."},{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1632156535,"post_id":69069636,"comment_id":122412075,"body_markdown":"can you check https://stackoverflow.com/a/12132922/175554 I do not think you can install 32 bit anymore but worth to check, another approach https://stackoverflow.com/a/67369117/175554 you may have some wrong dll. and last but not least do you have some virus scanner, that may affect jvm, try to disable and test.","body":"can you check <a href=\"https://stackoverflow.com/a/12132922/175554\">stackoverflow.com/a/12132922/175554</a> I do not think you can install 32 bit anymore but worth to check, another approach <a href=\"https://stackoverflow.com/a/67369117/175554\">stackoverflow.com/a/67369117/175554</a> you may have some wrong dll. and last but not least do you have some virus scanner, that may affect jvm, try to disable and test."},{"owner":{"account_id":2073637,"reputation":23437,"user_id":1847592,"accept_rate":80,"display_name":"Egor Skriptunoff"},"score":0,"creation_date":1635443197,"post_id":69069636,"comment_id":123306601,"body_markdown":"The native library (DLL) name and location is different for LGS and GHub.  This might be a problem.","body":"The native library (DLL) name and location is different for LGS and GHub.  This might be a problem."},{"owner":{"account_id":18688943,"reputation":2332,"user_id":13623742,"display_name":"Charlie Armstrong"},"score":0,"creation_date":1635444286,"post_id":69069636,"comment_id":123306973,"body_markdown":"@EgorSkriptunoff I have been using GHub so far.  I will try using LGS and see if that changes anything.","body":"@EgorSkriptunoff I have been using GHub so far.  I will try using LGS and see if that changes anything."}],"answers":[{"tags":[],"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631900735,"creation_date":1631660874,"answer_id":69185377,"question_id":69069636,"body_markdown":"I tried to run your project in my netbeans but failed with \r\n\r\n```\r\n project com.cwa380:KeyColors:jar:1.0: logitech:gaming:jar:9.00 was not found in https://repo.maven.apache.org/maven2 during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced\r\n```\r\nthen I created a new project from ant, as long as you are using this logitech jar which is not really in maven repository, you dont need to have maven project.\r\n\r\n[![netbeans create ant project][1]][1]\r\n\r\nthen I added the logiled.jar as image below\r\n[![project properties-&gt;libraries][2]][2]\r\n\r\ngood news when I run the code I get no exception. output below\r\n\r\n[![execute output at the bottom][3]][3]\r\n\r\nand when I try to use code completion netbeans lists the functions nicely.\r\n\r\n[![logiled functions][4]][4]\r\n\r\nhere are my versions of tools\r\n\r\n```\r\nProduct Version: Apache NetBeans IDE 12.4\r\nJava: 17; OpenJDK 64-Bit Server VM 17+35-2724\r\nRuntime: OpenJDK Runtime Environment 17+35-2724\r\nSystem: Windows 10 version 10.0 running on amd64; Cp1252; en_US (nb)\r\nUser directory: C:\\Users\\ozkan\\AppData\\Roaming\\NetBeans\\12.4\r\nCache directory: C:\\Users\\ozkan\\AppData\\Local\\NetBeans\\Cache\\12.4\r\n```\r\n\r\nin github I found https://github.com/larsgrefer/logi-led you may contact with Lars(@larsgrefer), looks like he knows how to use logitech SDK.\r\n\r\nhere is my project https://github.com/ozkanpakdil/spring-examples/tree/master/JavaApplication1 make sure you have added logiled jar in correct path to libraries\r\n\r\n  [1]: https://i.stack.imgur.com/UMczJ.png\r\n  [2]: https://i.stack.imgur.com/tNcIr.png\r\n  [3]: https://i.stack.imgur.com/O2MuK.png\r\n  [4]: https://i.stack.imgur.com/lq2yc.png","title":"How do I set up Logitech&#39;s LED Illumination SDK with Java?","body":"<p>I tried to run your project in my netbeans but failed with</p>\n<pre><code> project com.cwa380:KeyColors:jar:1.0: logitech:gaming:jar:9.00 was not found in https://repo.maven.apache.org/maven2 during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced\n</code></pre>\n<p>then I created a new project from ant, as long as you are using this logitech jar which is not really in maven repository, you dont need to have maven project.</p>\n<p><a href=\"https://i.stack.imgur.com/UMczJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UMczJ.png\" alt=\"netbeans create ant project\" /></a></p>\n<p>then I added the logiled.jar as image below\n<a href=\"https://i.stack.imgur.com/tNcIr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tNcIr.png\" alt=\"project properties-&gt;libraries\" /></a></p>\n<p>good news when I run the code I get no exception. output below</p>\n<p><a href=\"https://i.stack.imgur.com/O2MuK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O2MuK.png\" alt=\"execute output at the bottom\" /></a></p>\n<p>and when I try to use code completion netbeans lists the functions nicely.</p>\n<p><a href=\"https://i.stack.imgur.com/lq2yc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lq2yc.png\" alt=\"logiled functions\" /></a></p>\n<p>here are my versions of tools</p>\n<pre><code>Product Version: Apache NetBeans IDE 12.4\nJava: 17; OpenJDK 64-Bit Server VM 17+35-2724\nRuntime: OpenJDK Runtime Environment 17+35-2724\nSystem: Windows 10 version 10.0 running on amd64; Cp1252; en_US (nb)\nUser directory: C:\\Users\\ozkan\\AppData\\Roaming\\NetBeans\\12.4\nCache directory: C:\\Users\\ozkan\\AppData\\Local\\NetBeans\\Cache\\12.4\n</code></pre>\n<p>in github I found <a href=\"https://github.com/larsgrefer/logi-led\" rel=\"nofollow noreferrer\">https://github.com/larsgrefer/logi-led</a> you may contact with Lars(@larsgrefer), looks like he knows how to use logitech SDK.</p>\n<p>here is my project <a href=\"https://github.com/ozkanpakdil/spring-examples/tree/master/JavaApplication1\" rel=\"nofollow noreferrer\">https://github.com/ozkanpakdil/spring-examples/tree/master/JavaApplication1</a> make sure you have added logiled jar in correct path to libraries</p>\n"},{"tags":[],"owner":{"account_id":29316547,"reputation":1,"user_id":22461171,"display_name":"ekqeos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693245834,"creation_date":1693245834,"answer_id":76995099,"question_id":69069636,"body_markdown":"&gt;4. I added the logiled.jar file to my new project as a dependency\r\n\r\nNeed to add x64 version, not x86.\r\n\r\n\\Lib\\JNI\\x64\\logiled.jar\r\n\r\nshould work.","title":"How do I set up Logitech&#39;s LED Illumination SDK with Java?","body":"<blockquote>\n<ol start=\"4\">\n<li>I added the logiled.jar file to my new project as a dependency</li>\n</ol>\n</blockquote>\n<p>Need to add x64 version, not x86.</p>\n<p>\\Lib\\JNI\\x64\\logiled.jar</p>\n<p>should work.</p>\n"}],"owner":{"account_id":18688943,"reputation":2332,"user_id":13623742,"display_name":"Charlie Armstrong"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":697,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1693245834,"creation_date":1630907240,"question_id":69069636,"body_markdown":"When a make a simple test program with Logitech&#39;s LED SDK and run it, I get an UnsatisfiedLinkError with the message:\r\n\r\n```none\r\nC:\\Users\\cwa38\\AppData\\Local\\Temp\\LogitechLedJNI.dll4587977834410494064: Can&#39;t find dependent libraries\r\n```\r\n\r\nWhat I have done so far:\r\n\r\n 1. I downloaded the SDK from https://www.logitechg.com/en-us/innovation/developer-lab.html\r\n 2. I extracted it\r\n 3. I made a new Java project in NetBeans\r\n 4. I added the logiled.jar file to my new project as a dependency\r\n 5. I made a new class and copied the simple test program from the documentation (code is below)\r\n 6. I clicked &quot;run&quot; and got the UnsatisfiedLinkError described above\r\n\r\nI see that the SDK download comes with some .dll files and a .lib file, but I have no idea what to do with these files.  The included documentation makes absolutely no mention of them.\r\n\r\nWhat am I doing wrong?\r\n\r\nHere is my code:\r\n\r\n```java\r\nimport com.logitech.gaming.LogiLED;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        LogiLED.LogiLedInit();\r\n        LogiLED.LogiLedSetLighting(100, 0, 0);\r\n        LogiLED.LogiLedShutdown();\r\n    }\r\n}\r\n```\r\n\r\nAnd here is the full documentation from Logitech (yes, it really is this short):\r\n\r\n &gt; The following steps show how to make the Logitech SDK work with a Java program.  Please adapt the steps to your game for things to work.\r\n &gt; \r\n &gt; Steps\r\n &gt; \r\n &gt; 1. Copy the SDK’s Lib\\logiled.jar to your project’s directory.\r\n &gt; 2. Configure your project’s Java Build Path to include the logiled.jar.\r\n &gt; 3. Call the functions from the JNI wrapper in your Java code as follows:\r\n &gt; ```none\r\n &gt;     import com.logitech.gaming.LogiLED;\r\n &gt; \r\n &gt;     LogiLED.LogiLedInit();\r\n &gt;     LogiLED.LogiLedSetLighting(red,blue,green);\r\n &gt;     LogiLED.LogiLedShutdown();\r\n &gt; ```\r\n &gt; \r\n &gt; 4. Compile and run your program.\r\n\r\nThe full stack trace for the error I get is below:\r\n\r\n```none\r\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: C:\\Users\\cwa38\\AppData\\Local\\Temp\\LogitechLedJNI.dll4587977834410494064: Can&#39;t find dependent libraries\r\n\tat java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\r\n\tat java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:384)\r\n\tat java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:228)\r\n\tat java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:170)\r\n\tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2389)\r\n\tat java.base/java.lang.Runtime.load0(Runtime.java:755)\r\n\tat java.base/java.lang.System.load(System.java:1953)\r\n\tat com.logitech.gaming.LogiLED.&lt;clinit&gt;(LogiLED.java:205)\r\n\tat javaapplication1.JavaApplication1.main(JavaApplication1.java:20)\r\nC:\\Users\\cwa38\\AppData\\Local\\NetBeans\\Cache\\12.4\\executor-snippets\\run.xml:111: The following error occurred while executing this line:\r\nC:\\Users\\cwa38\\AppData\\Local\\NetBeans\\Cache\\12.4\\executor-snippets\\run.xml:68: Java returned: 1\r\n```\r\n","title":"How do I set up Logitech&#39;s LED Illumination SDK with Java?","body":"<p>When a make a simple test program with Logitech's LED SDK and run it, I get an UnsatisfiedLinkError with the message:</p>\n<pre class=\"lang-none prettyprint-override\"><code>C:\\Users\\cwa38\\AppData\\Local\\Temp\\LogitechLedJNI.dll4587977834410494064: Can't find dependent libraries\n</code></pre>\n<p>What I have done so far:</p>\n<ol>\n<li>I downloaded the SDK from <a href=\"https://www.logitechg.com/en-us/innovation/developer-lab.html\" rel=\"nofollow noreferrer\">https://www.logitechg.com/en-us/innovation/developer-lab.html</a></li>\n<li>I extracted it</li>\n<li>I made a new Java project in NetBeans</li>\n<li>I added the logiled.jar file to my new project as a dependency</li>\n<li>I made a new class and copied the simple test program from the documentation (code is below)</li>\n<li>I clicked &quot;run&quot; and got the UnsatisfiedLinkError described above</li>\n</ol>\n<p>I see that the SDK download comes with some .dll files and a .lib file, but I have no idea what to do with these files.  The included documentation makes absolutely no mention of them.</p>\n<p>What am I doing wrong?</p>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.logitech.gaming.LogiLED;\n\npublic class Main {\n    public static void main(String[] args) {\n        LogiLED.LogiLedInit();\n        LogiLED.LogiLedSetLighting(100, 0, 0);\n        LogiLED.LogiLedShutdown();\n    }\n}\n</code></pre>\n<p>And here is the full documentation from Logitech (yes, it really is this short):</p>\n<blockquote>\n<p>The following steps show how to make the Logitech SDK work with a Java program.  Please adapt the steps to your game for things to work.</p>\n<p>Steps</p>\n<ol>\n<li>Copy the SDK’s Lib\\logiled.jar to your project’s directory.</li>\n<li>Configure your project’s Java Build Path to include the logiled.jar.</li>\n<li>Call the functions from the JNI wrapper in your Java code as follows:</li>\n</ol>\n<pre class=\"lang-none prettyprint-override\"><code>    import com.logitech.gaming.LogiLED;\n\n    LogiLED.LogiLedInit();\n    LogiLED.LogiLedSetLighting(red,blue,green);\n    LogiLED.LogiLedShutdown();\n</code></pre>\n<ol start=\"4\">\n<li>Compile and run your program.</li>\n</ol>\n</blockquote>\n<p>The full stack trace for the error I get is below:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: C:\\Users\\cwa38\\AppData\\Local\\Temp\\LogitechLedJNI.dll4587977834410494064: Can't find dependent libraries\n    at java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\n    at java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:384)\n    at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:228)\n    at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:170)\n    at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2389)\n    at java.base/java.lang.Runtime.load0(Runtime.java:755)\n    at java.base/java.lang.System.load(System.java:1953)\n    at com.logitech.gaming.LogiLED.&lt;clinit&gt;(LogiLED.java:205)\n    at javaapplication1.JavaApplication1.main(JavaApplication1.java:20)\nC:\\Users\\cwa38\\AppData\\Local\\NetBeans\\Cache\\12.4\\executor-snippets\\run.xml:111: The following error occurred while executing this line:\nC:\\Users\\cwa38\\AppData\\Local\\NetBeans\\Cache\\12.4\\executor-snippets\\run.xml:68: Java returned: 1\n</code></pre>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","entities"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1693247686,"post_id":76995091,"comment_id":135732678,"body_markdown":"Think of it the other way - what are you going to put into an Address java class to make what you want &#39;work&#39;? Those other answers likely have Place and Person extend something so that the Address-&gt;RootType mapping can be defined to determine the id/Type columns (in EclipseLink, this is a VariableOneToOne https://eclipse.dev/eclipselink/documentation/2.5/jpa/extensions/a_variableonetoone.htm ). Otherwise, you&#39;d have to define your own filter on the Person-&gt;Address so that it includes something to use the related_type column- but you&#39;d have similar issues when writing that relationship","body":"Think of it the other way - what are you going to put into an Address java class to make what you want &#39;work&#39;? Those other answers likely have Place and Person extend something so that the Address-&gt;RootType mapping can be defined to determine the id/Type columns (in EclipseLink, this is a VariableOneToOne <a href=\"https://eclipse.dev/eclipselink/documentation/2.5/jpa/extensions/a_variableonetoone.htm\" rel=\"nofollow noreferrer\">eclipse.dev/eclipselink/documentation/2.5/jpa/extensions/&hellip;</a> ). Otherwise, you&#39;d have to define your own filter on the Person-&gt;Address so that it includes something to use the related_type column- but you&#39;d have similar issues when writing that relationship"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1693247802,"post_id":76995091,"comment_id":135732701,"body_markdown":"Wouldn&#39;t it makes more sense if a Person reference many places and a place had one Address? And this model doesn&#39;t work if you have multiple people at the same address anyway.","body":"Wouldn&#39;t it makes more sense if a Person reference many places and a place had one Address? And this model doesn&#39;t work if you have multiple people at the same address anyway."},{"owner":{"account_id":162976,"reputation":19483,"user_id":384808,"accept_rate":100,"display_name":"Brian Driscoll"},"score":0,"creation_date":1693250267,"post_id":76995091,"comment_id":135733138,"body_markdown":"@Chris I&#39;m using Person/Place/Address as an example of the type of relationship I need to model. In my case the entities representing Person and Place are not related, so there wouldn&#39;t be a way to create the kind of 1-to-m mapping you suggest. Obviously Person m-to-m Address would work with a third join table, which is not ideal but may be necessary in my case to be able to handle the relationship I&#39;m trying to model.","body":"@Chris I&#39;m using Person/Place/Address as an example of the type of relationship I need to model. In my case the entities representing Person and Place are not related, so there wouldn&#39;t be a way to create the kind of 1-to-m mapping you suggest. Obviously Person m-to-m Address would work with a third join table, which is not ideal but may be necessary in my case to be able to handle the relationship I&#39;m trying to model."}],"owner":{"account_id":162976,"reputation":19483,"user_id":384808,"accept_rate":100,"display_name":"Brian Driscoll"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693245730,"creation_date":1693245730,"question_id":76995091,"body_markdown":"I am currently trying to map multiple different tables to a single table, like this:\r\n\r\n```\r\nPerson\r\n\r\n| id | first_name | last_name |\r\n| -- | ---------- | --------- |\r\n| 1  | John       | Doe       |\r\n\r\nPlace\r\n\r\n| id | place_name  |\r\n| -- | ----------  |\r\n| 1  | White House |\r\n\r\nAddress\r\n\r\n| id | ...typical address columns... | related_id | related_type |\r\n| -- | ----------------------------- | ---------- | ------------ |\r\n| 1  | address stuff                 | 1          | Person       |\r\n| 2  | more address stuff            | 1          | Place        |\r\n```\r\nI know how to represent this in the database obviously, so that&#39;s not the issue here. My issue is how do I represent the relationship in my Entity classes, as the typical ```@JoinColumn``` annotation approach doesn&#39;t seem like it will work since we need both the ```related_id``` and ```related_type``` columns\r\n\r\n```\r\n@Entity\r\npublic class Person {\r\n\r\n    private String firstName;\r\n    private String lastName;\r\n\r\n    @OneToMany(fetch = FetchType.LAZY)\r\n    ??? what to do here ???\r\n    private List&lt;Address&gt; addresses;\r\n\r\n    // omitted getters and setters\r\n}\r\n\r\n@Entity\r\npublic class Place {\r\n\r\n    private String placeName;\r\n\r\n    @OneToOne\r\n    ??? what to do here ???\r\n    private Address address;\r\n\r\n    // omitted getters and setters\r\n}\r\n```\r\n\r\nIs there any way to do this with JPA / Hibernate? I&#39;ve found similar questions here but they are from ages ago and none of the solutions were really appropriate as they had more to do with inheritance.","title":"How to map multiple table types to a single table without multiple FK references","body":"<p>I am currently trying to map multiple different tables to a single table, like this:</p>\n<pre><code>Person\n\n| id | first_name | last_name |\n| -- | ---------- | --------- |\n| 1  | John       | Doe       |\n\nPlace\n\n| id | place_name  |\n| -- | ----------  |\n| 1  | White House |\n\nAddress\n\n| id | ...typical address columns... | related_id | related_type |\n| -- | ----------------------------- | ---------- | ------------ |\n| 1  | address stuff                 | 1          | Person       |\n| 2  | more address stuff            | 1          | Place        |\n</code></pre>\n<p>I know how to represent this in the database obviously, so that's not the issue here. My issue is how do I represent the relationship in my Entity classes, as the typical <code>@JoinColumn</code> annotation approach doesn't seem like it will work since we need both the <code>related_id</code> and <code>related_type</code> columns</p>\n<pre><code>@Entity\npublic class Person {\n\n    private String firstName;\n    private String lastName;\n\n    @OneToMany(fetch = FetchType.LAZY)\n    ??? what to do here ???\n    private List&lt;Address&gt; addresses;\n\n    // omitted getters and setters\n}\n\n@Entity\npublic class Place {\n\n    private String placeName;\n\n    @OneToOne\n    ??? what to do here ???\n    private Address address;\n\n    // omitted getters and setters\n}\n</code></pre>\n<p>Is there any way to do this with JPA / Hibernate? I've found similar questions here but they are from ages ago and none of the solutions were really appropriate as they had more to do with inheritance.</p>\n"},{"tags":["java","javascript","oop","object"],"comments":[{"owner":{"display_name":"user2164685"},"score":0,"creation_date":1363343703,"post_id":15430004,"comment_id":21822957,"body_markdown":"Can the down voter please gave me the answer","body":"Can the down voter please gave me the answer"},{"owner":{"account_id":179161,"reputation":64142,"user_id":411632,"accept_rate":87,"display_name":"Mat&#237;as Fidemraizer"},"score":3,"creation_date":1363345964,"post_id":15430004,"comment_id":21824326,"body_markdown":"You&#39;re not right in your conclusion: Java, C# and almost any language has built-in objects. In fact, those have a top-most built-in object: `object` class, which is the implicitly base class of all objects. I mean, `Window` object is a built-in object in terms of &quot;any browser implementation has a Window object`, but this fact doesn&#39;t define if it&#39;s object or object-oriented programming.","body":"You&#39;re not right in your conclusion: Java, C# and almost any language has built-in objects. In fact, those have a top-most built-in object: <code>object</code> class, which is the implicitly base class of all objects. I mean, <code>Window</code> object is a built-in object in terms of &quot;any browser implementation has a Window object`, but this fact doesn&#39;t define if it&#39;s object or object-oriented programming."},{"owner":{"display_name":"user2164685"},"score":0,"creation_date":1363347056,"post_id":15430004,"comment_id":21825067,"body_markdown":"@Mat&#237;asFidemraizer Just now you have said I am right","body":"@Mat&#237;asFidemraizer Just now you have said I am right"}],"answers":[{"tags":[],"owner":{"account_id":179161,"reputation":64142,"user_id":411632,"accept_rate":87,"display_name":"Mat&#237;as Fidemraizer"},"down_vote_count":4,"up_vote_count":30,"is_accepted":true,"score":26,"last_activity_date":1693245451,"creation_date":1363344623,"answer_id":15430450,"question_id":15430004,"body_markdown":"JavaScript is a [prototype-oriented][1] language. \r\n\r\nIt can build actual objects from a constructor function and it has almost any feature that any object could have:\r\n\r\n- Constructor.\r\n- Methods (i.e. functions in JavaScript).\r\n- Properties (since ECMA-Script 5, &quot;getters/setters&quot;).\r\n- Instances.\r\n\r\nIn JavaScript, any object has a _prototype_, including _functions_. The prototype itself is a rudimentary way of adding _object members_ to any newly created instance of the whole object. \r\n\r\n    var constructor = function() { };\r\n    constructor.prototype.text = &quot;hello world&quot;;\r\n    \r\n    alert(new constructor().text); // This alerts hello world\r\n\r\nWhy JavaScript isn&#39;t an object-oriented programming _(scripting) language_? Because it has no feature that fits the requirements of the definition of object-oriented programming:\r\n\r\n- **Polymorphism**: _No_. You can change the behavior of a prototype member, but this is just reusing the identifier. You aren&#39;t able to access the previous implementation of the member in a _pseudo-derived object_.\r\n- **Inheritance**: _Not at all_. Maybe prototype chain might be comparable to inheritance but JavaScript (ECMA-Script 5.x or earlier versions) has no syntax-based inheritance like other OOP-based languages (i.e. Java, C#, Ruby, Python, VisualBasic.NET, ...).\r\n- **Encapsulation**. Yes, of course, but there&#39;s no way to create actual private or internal object members.\r\n\r\nPerhaps I forgot to mention some other detail, but I honestly believe that this is a good summary.\r\n\r\n### Update and summary\r\n*The core difference is an object-oriented programming language has the features that an object-oriented paradigm must have in order to be considered an object-oriented programming language. **Thus, JavaScript, for now, isn&#39;t an actual object-oriented programming language because it lacks actual polymorphism and inheritance***.\r\n\r\n## Update: Does ES2015 and above changed the situation?\r\n\r\nEsthetically speaking yes, ES2015 and above has a major improvement that let consider a not fully but more closer to an object-oriented programming: syntactic sugar to call *to the super class*.\r\n\r\nFor example:\r\n\r\n    class A {\r\n         doStuff() {\r\n             console.log(&quot;hello world&quot;);\r\n         }\r\n    }\r\n    \r\n    class B extends A {\r\n         doStuff() {\r\n             super.doStuff();\r\n             console.log(&quot;...and goodbye!&quot;);\r\n         }\r\n    }\r\n\r\nThis is *polymorphism*. A more specialized class can override its base class to both completely change a function behavior or do what the base was already doing, adding new code to the function.\r\n\r\nBTW, ES2015 and above still lacks true encapsulation: **where are access modifiers like `private` or `public` here?** *Nowhere*.\r\n\r\nAnd, at the end of the day, ES2015 and above implement class-based OOP but it&#39;s still a syntactic sugar layer on top of ECMAScript 5.x... The above code still works with prototypes under the hoods and it works the same way as if you would code it in ECMAScript 5.x:\r\n\r\n    function A() {\r\n    }\r\n    \r\n    A.prototype.doStuff = function() {\r\n        console.log(&quot;hello world&quot;);\r\n    };\r\n    \r\n    function B() {\r\n    }\r\n    \r\n    B.prototype = Object.create(A.prototype);\r\n    B.prototype.doStuff = function() {\r\n        A.prototype.doStuff.call(this);\r\n        console.log(&quot;...and goodbye!&quot;);\r\n    };\r\n\r\nLet&#39;s hope I&#39;ll need to update this answer again because ES2020 has already proposed access modifiers and we&#39;ll be able to consider JavaScript another language which fully-supports object-oriented programming!\r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Prototype-based_programming","title":"Core difference between object oriented and object based language","body":"<p>JavaScript is a <a href=\"https://en.m.wikipedia.org/wiki/Prototype-based_programming\" rel=\"nofollow noreferrer\">prototype-oriented</a> language.</p>\n<p>It can build actual objects from a constructor function and it has almost any feature that any object could have:</p>\n<ul>\n<li>Constructor.</li>\n<li>Methods (i.e. functions in JavaScript).</li>\n<li>Properties (since ECMA-Script 5, &quot;getters/setters&quot;).</li>\n<li>Instances.</li>\n</ul>\n<p>In JavaScript, any object has a <em>prototype</em>, including <em>functions</em>. The prototype itself is a rudimentary way of adding <em>object members</em> to any newly created instance of the whole object.</p>\n<pre><code>var constructor = function() { };\nconstructor.prototype.text = &quot;hello world&quot;;\n\nalert(new constructor().text); // This alerts hello world\n</code></pre>\n<p>Why JavaScript isn't an object-oriented programming <em>(scripting) language</em>? Because it has no feature that fits the requirements of the definition of object-oriented programming:</p>\n<ul>\n<li><strong>Polymorphism</strong>: <em>No</em>. You can change the behavior of a prototype member, but this is just reusing the identifier. You aren't able to access the previous implementation of the member in a <em>pseudo-derived object</em>.</li>\n<li><strong>Inheritance</strong>: <em>Not at all</em>. Maybe prototype chain might be comparable to inheritance but JavaScript (ECMA-Script 5.x or earlier versions) has no syntax-based inheritance like other OOP-based languages (i.e. Java, C#, Ruby, Python, VisualBasic.NET, ...).</li>\n<li><strong>Encapsulation</strong>. Yes, of course, but there's no way to create actual private or internal object members.</li>\n</ul>\n<p>Perhaps I forgot to mention some other detail, but I honestly believe that this is a good summary.</p>\n<h3>Update and summary</h3>\n<p><em>The core difference is an object-oriented programming language has the features that an object-oriented paradigm must have in order to be considered an object-oriented programming language. <strong>Thus, JavaScript, for now, isn't an actual object-oriented programming language because it lacks actual polymorphism and inheritance</strong></em>.</p>\n<h2>Update: Does ES2015 and above changed the situation?</h2>\n<p>Esthetically speaking yes, ES2015 and above has a major improvement that let consider a not fully but more closer to an object-oriented programming: syntactic sugar to call <em>to the super class</em>.</p>\n<p>For example:</p>\n<pre><code>class A {\n     doStuff() {\n         console.log(&quot;hello world&quot;);\n     }\n}\n\nclass B extends A {\n     doStuff() {\n         super.doStuff();\n         console.log(&quot;...and goodbye!&quot;);\n     }\n}\n</code></pre>\n<p>This is <em>polymorphism</em>. A more specialized class can override its base class to both completely change a function behavior or do what the base was already doing, adding new code to the function.</p>\n<p>BTW, ES2015 and above still lacks true encapsulation: <strong>where are access modifiers like <code>private</code> or <code>public</code> here?</strong> <em>Nowhere</em>.</p>\n<p>And, at the end of the day, ES2015 and above implement class-based OOP but it's still a syntactic sugar layer on top of ECMAScript 5.x... The above code still works with prototypes under the hoods and it works the same way as if you would code it in ECMAScript 5.x:</p>\n<pre><code>function A() {\n}\n\nA.prototype.doStuff = function() {\n    console.log(&quot;hello world&quot;);\n};\n\nfunction B() {\n}\n\nB.prototype = Object.create(A.prototype);\nB.prototype.doStuff = function() {\n    A.prototype.doStuff.call(this);\n    console.log(&quot;...and goodbye!&quot;);\n};\n</code></pre>\n<p>Let's hope I'll need to update this answer again because ES2020 has already proposed access modifiers and we'll be able to consider JavaScript another language which fully-supports object-oriented programming!</p>\n"},{"tags":[],"owner":{"account_id":3040327,"reputation":51,"user_id":2577541,"display_name":"LarrySTS"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1373653929,"creation_date":1373653929,"answer_id":17621716,"question_id":15430004,"body_markdown":"Just using objects does not mean you are doing OOP, even in a fully OO language if you are not implementing OO techniques it is simply object-based programming.","title":"Core difference between object oriented and object based language","body":"<p>Just using objects does not mean you are doing OOP, even in a fully OO language if you are not implementing OO techniques it is simply object-based programming.</p>\n"},{"tags":[],"owner":{"account_id":124364,"reputation":85329,"user_id":319403,"accept_rate":75,"display_name":"cHao"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1452777745,"creation_date":1373669041,"answer_id":17625124,"question_id":15430004,"body_markdown":"**Object-based** languages include basically any language that offers the built-in ability to easily create and use objects.  There is one major criterion:\r\n\r\n* **Encapsulation.** Objects have an API attached to them, typically in such a way that you work with the object more by *telling it what to do* than by running some function on it.\r\n\r\n  Most object-based languages define objects in terms of &quot;classes&quot;, which are basically blueprints for an object.  The class lays out the internal structure of the object and defines the API.\r\n\r\n  This is not the only way, though.  In JavaScript, for example, objects don&#39;t really have &quot;classes&quot;.  Any object can have any properties it wants.  And since functions are first-class values in JavaScript, they can be set as properties on the object, and serve as the object&#39;s API.\r\n\r\nAs far as object-based-but-not-object-oriented languages go, a good example would be Visual Basic (not the .net stuff; i&#39;m talking about VB6 and VBA).  Classes exist, but can&#39;t inherit from each other.\r\n\r\n**Object-oriented** languages are object-based languages that take things a step further.  They have built-in support for the two other pillars of OOP:\r\n\r\n* **Inheritance.** Objects must have the ability to be (and be viewed as) specializations of some other object.  This means, for example, being able to define &quot;Dog&quot; as &quot;Animal that can bark and fetch sticks&quot;.\r\n\r\n  In modern languages, it typically takes the form of one object&#39;s *class* inheriting from another object&#39;s *class*.  This is not a requirement, though; contrary to what some people will try to tell you, the definition of OOP does not require classes at all.\r\n\r\n* **Polymorphism.** &#160;Code must be able to use an object without knowing or caring exactly what type it is.\r\n\r\n Most languages (especially statically typed ones) define polymorphism in terms of classes and inheritance. If you have a class B that inherits from A, code that requires a reference to an A can typically take a B instead, but not some class C that isn&#39;t related to A. Java also has the `interface` keyword, which lets you define a set of behaviors a class must implement.&#160;Any object whose class explicitly `implements X`, and thus implements the functions defined on interface X, qualifies as an instance of type X.\r\n\r\n&#160;Other languages, like JavaScript, let you pass any object you like. As long as the object presents the right interface, it doesn&#39;t matter exactly what kind of object it is. This is called &quot;duck typing&quot;, and it is very nearly the purest form of polymorphism there is.","title":"Core difference between object oriented and object based language","body":"<p><strong>Object-based</strong> languages include basically any language that offers the built-in ability to easily create and use objects.  There is one major criterion:</p>\n\n<ul>\n<li><p><strong>Encapsulation.</strong> Objects have an API attached to them, typically in such a way that you work with the object more by <em>telling it what to do</em> than by running some function on it.</p>\n\n<p>Most object-based languages define objects in terms of \"classes\", which are basically blueprints for an object.  The class lays out the internal structure of the object and defines the API.</p>\n\n<p>This is not the only way, though.  In JavaScript, for example, objects don't really have \"classes\".  Any object can have any properties it wants.  And since functions are first-class values in JavaScript, they can be set as properties on the object, and serve as the object's API.</p></li>\n</ul>\n\n<p>As far as object-based-but-not-object-oriented languages go, a good example would be Visual Basic (not the .net stuff; i'm talking about VB6 and VBA).  Classes exist, but can't inherit from each other.</p>\n\n<p><strong>Object-oriented</strong> languages are object-based languages that take things a step further.  They have built-in support for the two other pillars of OOP:</p>\n\n<ul>\n<li><p><strong>Inheritance.</strong> Objects must have the ability to be (and be viewed as) specializations of some other object.  This means, for example, being able to define \"Dog\" as \"Animal that can bark and fetch sticks\".</p>\n\n<p>In modern languages, it typically takes the form of one object's <em>class</em> inheriting from another object's <em>class</em>.  This is not a requirement, though; contrary to what some people will try to tell you, the definition of OOP does not require classes at all.</p></li>\n<li><p><strong>Polymorphism.</strong>  Code must be able to use an object without knowing or caring exactly what type it is.</p>\n\n<p>Most languages (especially statically typed ones) define polymorphism in terms of classes and inheritance. If you have a class B that inherits from A, code that requires a reference to an A can typically take a B instead, but not some class C that isn't related to A. Java also has the <code>interface</code> keyword, which lets you define a set of behaviors a class must implement. Any object whose class explicitly <code>implements X</code>, and thus implements the functions defined on interface X, qualifies as an instance of type X.</p>\n\n<p> Other languages, like JavaScript, let you pass any object you like. As long as the object presents the right interface, it doesn't matter exactly what kind of object it is. This is called \"duck typing\", and it is very nearly the purest form of polymorphism there is.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5149805,"reputation":1326,"user_id":4124718,"display_name":"Arnab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412848844,"creation_date":1412848844,"answer_id":26275562,"question_id":15430004,"body_markdown":"There are 4 major elements that a Programming Language must conforms to in order to be a true object-oriented language. These are: Abstraction, Encapsulation, Modularity &amp; Hierarchy.\r\n\r\nHowever, we can call a Language Object based if that supports the first there elements. As soon as a programming language supports the concept of Object, inherently it supports the first three elements as they are inherent feature of an Object. \r\n\r\nJavaScript as a language can not be said a Object Oriented but Object Based Language as it doesn&#39;t support Hierarchy (especially Inheritance).","title":"Core difference between object oriented and object based language","body":"<p>There are 4 major elements that a Programming Language must conforms to in order to be a true object-oriented language. These are: Abstraction, Encapsulation, Modularity &amp; Hierarchy.</p>\n\n<p>However, we can call a Language Object based if that supports the first there elements. As soon as a programming language supports the concept of Object, inherently it supports the first three elements as they are inherent feature of an Object. </p>\n\n<p>JavaScript as a language can not be said a Object Oriented but Object Based Language as it doesn't support Hierarchy (especially Inheritance).</p>\n"},{"tags":[],"owner":{"account_id":1875874,"reputation":71911,"user_id":1697099,"accept_rate":100,"display_name":"Premraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437709758,"creation_date":1437709758,"answer_id":31601869,"question_id":15430004,"body_markdown":"&gt;OOP and OBP are types of programming languages follows different principles.\r\n\r\n**OOP** : follows Polymorphism, Inheritance and Encapsulation(PIE).  \r\n\r\n - **Examples**: Java, .Net so on. OOP is new comparing with OBP\r\n\r\n**OBP** : follows Polymorphism and Encapsulation. \r\n\r\n - **Examples**: Ada, Visual Basic (VB), and Fortran 90. OBP is old\r\n\r\n","title":"Core difference between object oriented and object based language","body":"<blockquote>\n  <p>OOP and OBP are types of programming languages follows different principles.</p>\n</blockquote>\n\n<p><strong>OOP</strong> : follows Polymorphism, Inheritance and Encapsulation(PIE).  </p>\n\n<ul>\n<li><strong>Examples</strong>: Java, .Net so on. OOP is new comparing with OBP</li>\n</ul>\n\n<p><strong>OBP</strong> : follows Polymorphism and Encapsulation. </p>\n\n<ul>\n<li><strong>Examples</strong>: Ada, Visual Basic (VB), and Fortran 90. OBP is old</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7106668,"reputation":1,"user_id":5436082,"display_name":"prasanthi"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1444667575,"creation_date":1444642691,"answer_id":33077842,"question_id":15430004,"body_markdown":"Object oriented programming languages follow all concepts belonging to OOP.\r\n\r\nObject based programming language has objects ibuilt so there&#39;s no need to create objects and it also follows OOP concepts except inheritence,","title":"Core difference between object oriented and object based language","body":"<p>Object oriented programming languages follow all concepts belonging to OOP.</p>\n\n<p>Object based programming language has objects ibuilt so there's no need to create objects and it also follows OOP concepts except inheritence,</p>\n"},{"tags":[],"owner":{"account_id":3373735,"reputation":163,"user_id":2832359,"display_name":"Prince Gupta"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1501750347,"creation_date":1462443875,"answer_id":37048125,"question_id":15430004,"body_markdown":"Object orientd language\r\n\r\n    Object-orientd language supports all the features of OOPs\r\n\r\n    Object-orientd language does not has in-built object\r\n\r\n    Object-orientd languages are C++, C#, Java etc\r\n\r\nObject based language\r\n\r\n    Object-based language doesn&#39;t support all the features of OOPs like Polymorphism and Inheritance\r\n\r\n    Object-based language has in-built object like JavaScript has window object.\r\n\r\n    Object-based languages are JavaScript, VB etc.\r\nHope, this will clarify your doubt. ","title":"Core difference between object oriented and object based language","body":"<p>Object orientd language</p>\n\n<pre><code>Object-orientd language supports all the features of OOPs\n\nObject-orientd language does not has in-built object\n\nObject-orientd languages are C++, C#, Java etc\n</code></pre>\n\n<p>Object based language</p>\n\n<pre><code>Object-based language doesn't support all the features of OOPs like Polymorphism and Inheritance\n\nObject-based language has in-built object like JavaScript has window object.\n\nObject-based languages are JavaScript, VB etc.\n</code></pre>\n\n<p>Hope, this will clarify your doubt. </p>\n"},{"tags":[],"owner":{"account_id":11392635,"reputation":591,"user_id":8352092,"display_name":"dthal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546371742,"creation_date":1546371742,"answer_id":53998411,"question_id":15430004,"body_markdown":"crudely...\n\n - object-oriented: supports encapsulation, inheritance, polymorphism\n - object-based: supports encapsulation\n\n[Wikipedia - Object-Based Language][1]\n\n  [1]: https://en.wikipedia.org/wiki/Object-based_language","title":"Core difference between object oriented and object based language","body":"<p>crudely...</p>\n<ul>\n<li>object-oriented: supports encapsulation, inheritance, polymorphism</li>\n<li>object-based: supports encapsulation</li>\n</ul>\n<p><a href=\"https://en.wikipedia.org/wiki/Object-based_language\" rel=\"nofollow noreferrer\">Wikipedia - Object-Based Language</a></p>\n"}],"owner":{"display_name":"user2164685"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89647,"favorite_count":0,"down_vote_count":2,"up_vote_count":42,"accepted_answer_id":15430450,"answer_count":8,"score":40,"last_activity_date":1693245451,"creation_date":1363343438,"question_id":15430004,"body_markdown":"I want to know what is the core difference between \r\n\r\n **Object Oriented and Object based languages**\r\n\r\nI have read many post all of them are saying two things\r\n\r\n1. Object-oriented language supports all the features of OOPs and Object-based language doesn&#39;t support all the features of OOPs like Polymorphism and Inheritance.\r\n\r\n2. They are giving example of javascript as object based and java as object oriented\r\n\r\nLike this post of stackoverflow\r\n\r\nhttps://stackoverflow.com/questions/6954293/difference-between-object-oriented-and-object-based-language\r\n\r\nBut I want to know what is the core difference between both the concept regardless of any language.\r\n\r\n\r\nGot the answer\r\n\r\nFinally got the thing\r\n\r\nthanks to `Mat&#237;as Fidemraizer`\r\n\r\nAnswer which is not dependent on any language, not dependent on any feature, the core differnce for which I am loooking that is\r\n\r\n*The language which itself contains objects is called as object based language and the language with follows object oriented concepts is known as object oriented language*\r\n\r\n","title":"Core difference between object oriented and object based language","body":"<p>I want to know what is the core difference between </p>\n\n<p><strong>Object Oriented and Object based languages</strong></p>\n\n<p>I have read many post all of them are saying two things</p>\n\n<ol>\n<li><p>Object-oriented language supports all the features of OOPs and Object-based language doesn't support all the features of OOPs like Polymorphism and Inheritance.</p></li>\n<li><p>They are giving example of javascript as object based and java as object oriented</p></li>\n</ol>\n\n<p>Like this post of stackoverflow</p>\n\n<p><a href=\"https://stackoverflow.com/questions/6954293/difference-between-object-oriented-and-object-based-language\">Difference between object oriented and object based language</a></p>\n\n<p>But I want to know what is the core difference between both the concept regardless of any language.</p>\n\n<p>Got the answer</p>\n\n<p>Finally got the thing</p>\n\n<p>thanks to <code>Matías Fidemraizer</code></p>\n\n<p>Answer which is not dependent on any language, not dependent on any feature, the core differnce for which I am loooking that is</p>\n\n<p><em>The language which itself contains objects is called as object based language and the language with follows object oriented concepts is known as object oriented language</em></p>\n"},{"tags":["java","truststore","jakarta-migration"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1684166144,"post_id":76255670,"comment_id":134473850,"body_markdown":"It does not replace all the `javax.*` packages. Affected packages are `javax.xml.bind`, `javax.servlet` and `javax.xml.ws` (perhaps some others), but AFAIK not `javax.net`.","body":"It does not replace all the <code>javax.*</code> packages. Affected packages are <code>javax.xml.bind</code>, <code>javax.servlet</code> and <code>javax.xml.ws</code> (perhaps some others), but AFAIK not <code>javax.net</code>."},{"owner":{"account_id":385127,"reputation":6284,"user_id":742081,"display_name":"Ladicek"},"score":4,"creation_date":1684166577,"post_id":76255670,"comment_id":134473964,"body_markdown":"Does `javax.net.ssl.*` come from Jakarta EE? No, therefore you don&#39;t need to (and must not, in fact) change those properties.","body":"Does <code>javax.net.ssl.*</code> come from Jakarta EE? No, therefore you don&#39;t need to (and must not, in fact) change those properties."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1693244666,"creation_date":1684172091,"answer_id":76256612,"question_id":76255670,"body_markdown":"As [Commented][1]…\r\n\r\nFor any `javax` package, ask yourself if that class is from one of the Jakarta EE libraries? When you look up the latest Javadoc, does that page reside at the [Jakarta EE][2] web site? \r\n\r\nIf so, change the package name to that which is documented. If not, leave the `javax` package as-is. \r\n\r\nJava still has many packages in the `javax` namespace. This `x` naming is a leftover from older development practices during the early Sun Microsystems days of Java’s history. \r\n\r\nThe package [`javax.net.ssl`][3] is still a part of the current Java release, Java 20. Not in Jakarta&#160;EE.\r\n\r\n\r\n----------\r\n\r\n\r\nThe first versions of Jakarta EE did use the `javax.*` package naming, as part of a transition when Oracle Corp handed over Java EE to the Eclipse Foundation. My Answer here assumes you have moved on to the later versions of Jakarta EE that now use `jakarta.*` packages. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/76255670/quarkus-3-jakarta-ee-10-and-javax-net-ssl-truststore#comment134473964_76255670\r\n  [2]: https://jakarta.ee/\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/javax/net/ssl/package-summary.html","title":"Do javax.net.ssl.* VM arguments need to be migrated to jakarta.net.ssl.*?","body":"<p>As <a href=\"https://stackoverflow.com/questions/76255670/quarkus-3-jakarta-ee-10-and-javax-net-ssl-truststore#comment134473964_76255670\">Commented</a>…</p>\n<p>For any <code>javax</code> package, ask yourself if that class is from one of the Jakarta EE libraries? When you look up the latest Javadoc, does that page reside at the <a href=\"https://jakarta.ee/\" rel=\"nofollow noreferrer\">Jakarta EE</a> web site?</p>\n<p>If so, change the package name to that which is documented. If not, leave the <code>javax</code> package as-is.</p>\n<p>Java still has many packages in the <code>javax</code> namespace. This <code>x</code> naming is a leftover from older development practices during the early Sun Microsystems days of Java’s history.</p>\n<p>The package <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/javax/net/ssl/package-summary.html\" rel=\"nofollow noreferrer\"><code>javax.net.ssl</code></a> is still a part of the current Java release, Java 20. Not in Jakarta EE.</p>\n<hr />\n<p>The first versions of Jakarta EE did use the <code>javax.*</code> package naming, as part of a transition when Oracle Corp handed over Java EE to the Eclipse Foundation. My Answer here assumes you have moved on to the later versions of Jakarta EE that now use <code>jakarta.*</code> packages.</p>\n"}],"owner":{"account_id":20450119,"reputation":33,"user_id":15005055,"display_name":"Sh4iDo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3433,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76256612,"answer_count":1,"score":3,"last_activity_date":1693244666,"creation_date":1684164665,"question_id":76255670,"body_markdown":"Quarkus 3 has introduced Jakarta EE 10 that need to replace all the `javax.*` package with `jakarta.` package.\r\n\r\nIn our application we set these system properties at startup:\r\n\r\n```\r\n-Djavax.net.ssl.trustStore=...\r\n-Djavax.net.ssl.trustStorePassword=...\r\n```\r\n\r\nDo we need to change it in `jakarta.net.ssl....` ?\r\n\r\nThanks","title":"Do javax.net.ssl.* VM arguments need to be migrated to jakarta.net.ssl.*?","body":"<p>Quarkus 3 has introduced Jakarta EE 10 that need to replace all the <code>javax.*</code> package with <code>jakarta.</code> package.</p>\n<p>In our application we set these system properties at startup:</p>\n<pre><code>-Djavax.net.ssl.trustStore=...\n-Djavax.net.ssl.trustStorePassword=...\n</code></pre>\n<p>Do we need to change it in <code>jakarta.net.ssl....</code> ?</p>\n<p>Thanks</p>\n"},{"tags":["java","android","c++","android-ndk-r5","std-byte"],"comments":[{"owner":{"account_id":7195349,"reputation":33494,"user_id":5494370,"display_name":"Alan Birtles"},"score":0,"creation_date":1592483348,"post_id":62449501,"comment_id":110445432,"body_markdown":"What are the errors you receive? Attaching and detaching to the VM for every call probably isn&#39;t the most efficient","body":"What are the errors you receive? Attaching and detaching to the VM for every call probably isn&#39;t the most efficient"},{"owner":{"account_id":7195349,"reputation":33494,"user_id":5494370,"display_name":"Alan Birtles"},"score":1,"creation_date":1592483462,"post_id":62449501,"comment_id":110445489,"body_markdown":"`byteArray` is uninitialised","body":"<code>byteArray</code> is uninitialised"},{"owner":{"account_id":3771148,"reputation":34903,"user_id":3133316,"display_name":"PaulMcKenzie"},"score":0,"creation_date":1592486642,"post_id":62449501,"comment_id":110447280,"body_markdown":"The `byteArray` is local and you haven&#39;t set it to anything.  Remove the test for `nullptr` completely.","body":"The <code>byteArray</code> is local and you haven&#39;t set it to anything.  Remove the test for <code>nullptr</code> completely."}],"owner":{"account_id":18526595,"reputation":11,"user_id":13498354,"display_name":"Jyotsna Munjal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693244348,"creation_date":1592481625,"question_id":62449501,"body_markdown":"Tried this:\r\n\r\n\r\n            void sendInfo(std::byte* something, long dataSize) {\r\n    \r\n    \tJavaVM* vm = nsCtx.javaVM;\r\n    \tJNIEnv* env;\r\n    \tint envState = getEnvState(&amp;env, vm);\r\n    \t\r\n    \tif (envState == JNI_OK || envState == JNI_EDETACHED) {\r\n    \t\tLOGD(&quot;Environment received successfully&quot;);\r\n    \t\t\r\n    \t\tjbyteArray byteArray;\r\n    \r\n    \t\tif(!byteArray)\r\n    \t\t\tbyteArray = env-&gt;NewByteArray(dataSize);\r\n    \r\n    \t\tif(env-&gt;GetArrayLength(byteArray) != dataSize)\r\n    \t\t{\r\n    \t\t\tenv-&gt;DeleteLocalRef(byteArray);\r\n    \t\t\tbyteArray = env-&gt;NewByteArray(dataSize);\r\n    \t\t}\r\n    \r\n    \t\tLOGD(&quot;byte array is created&quot;);\r\n    \r\n    \t\tvoid *temp = env-&gt;GetPrimitiveArrayCritical((jarray)byteArray, 0);\r\n    \r\n    \t\tLOGD(&quot;Worked fine&quot;);\r\n    \r\n    \t\tmemcpy(temp, something, dataSize);\r\n    \t\tenv-&gt;ReleasePrimitiveArrayCritical(byteArray, temp, 0);\r\n    \t\t\r\n    \t\tjmethodID SendFunc = env-&gt;GetMethodID(someClass, &quot;something&quot;,\r\n    \t\t\t\t\t\t\t\t\t\t\t   &quot;([B)V&quot;);\r\n    \r\n    \t\t// Call the method on the object\r\n    \t\tenv-&gt;CallVoidMethod(someObject, SendFunc, byteArray);\r\n    \r\n    \t\tif (env-&gt;ExceptionCheck()) {\r\n    \t\t\tenv-&gt;ExceptionDescribe();\r\n    \t\t}\r\n    \t\t//if thread was attached to it, detach it\r\n    \t\tif(envState == JNI_EDETACHED) {\r\n    \t\t\tvm-&gt;DetachCurrentThread();\r\n    \t\t\tLOGD(&quot;Thread detached&quot;);\r\n    \t\t}\r\n    \t} else {\r\n    \t\t//Returns JNI_ERR\r\n    \t\tLOGD(&quot;JNI ERROR occurred&quot;);\r\n    \t}\r\n    }\r\n\r\nJava function signature:\r\n\r\n    public void getbyteArrays(byte[] someArray);\r\n\r\n\r\nbut getting some DALVIk errors. Can someone explain how to pass std::byte* to Java in the form of byte[] array in the java function. I am completely new to this concept and not able to get this working.","title":"Passing std::byte* through JNI to java","body":"<p>Tried this:</p>\n\n<pre><code>        void sendInfo(std::byte* something, long dataSize) {\n\n    JavaVM* vm = nsCtx.javaVM;\n    JNIEnv* env;\n    int envState = getEnvState(&amp;env, vm);\n\n    if (envState == JNI_OK || envState == JNI_EDETACHED) {\n        LOGD(\"Environment received successfully\");\n\n        jbyteArray byteArray;\n\n        if(!byteArray)\n            byteArray = env-&gt;NewByteArray(dataSize);\n\n        if(env-&gt;GetArrayLength(byteArray) != dataSize)\n        {\n            env-&gt;DeleteLocalRef(byteArray);\n            byteArray = env-&gt;NewByteArray(dataSize);\n        }\n\n        LOGD(\"byte array is created\");\n\n        void *temp = env-&gt;GetPrimitiveArrayCritical((jarray)byteArray, 0);\n\n        LOGD(\"Worked fine\");\n\n        memcpy(temp, something, dataSize);\n        env-&gt;ReleasePrimitiveArrayCritical(byteArray, temp, 0);\n\n        jmethodID SendFunc = env-&gt;GetMethodID(someClass, \"something\",\n                                               \"([B)V\");\n\n        // Call the method on the object\n        env-&gt;CallVoidMethod(someObject, SendFunc, byteArray);\n\n        if (env-&gt;ExceptionCheck()) {\n            env-&gt;ExceptionDescribe();\n        }\n        //if thread was attached to it, detach it\n        if(envState == JNI_EDETACHED) {\n            vm-&gt;DetachCurrentThread();\n            LOGD(\"Thread detached\");\n        }\n    } else {\n        //Returns JNI_ERR\n        LOGD(\"JNI ERROR occurred\");\n    }\n}\n</code></pre>\n\n<p>Java function signature:</p>\n\n<pre><code>public void getbyteArrays(byte[] someArray);\n</code></pre>\n\n<p>but getting some DALVIk errors. Can someone explain how to pass std::byte* to Java in the form of byte[] array in the java function. I am completely new to this concept and not able to get this working.</p>\n"},{"tags":["java","git","bitbucket"],"answers":[{"tags":[],"owner":{"account_id":6534704,"reputation":4743,"user_id":5054717,"display_name":"Jim Redmond"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693243654,"creation_date":1693243654,"answer_id":76994869,"question_id":76987870,"body_markdown":"You&#39;re looking at documentation for Bitbucket Server, but you&#39;re using Bitbucket Cloud. They are not the same thing. (They are not even written in the same language.)","title":"How to create a Bitbucket PostRepositoryHooks after merging a PR in my JAVA project?","body":"<p>You're looking at documentation for Bitbucket Server, but you're using Bitbucket Cloud. They are not the same thing. (They are not even written in the same language.)</p>\n"}],"owner":{"account_id":20673637,"reputation":240,"user_id":15178796,"display_name":"Nadav Holtzman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693243654,"creation_date":1693151793,"question_id":76987870,"body_markdown":"I am trying to create a&#160;PostRepositoryHook in my Java project for automatically creating a PR to a different branch after merging a PR, but seems like the documentation is not updated, it refers to the &#39;Hooks&#39; tab in the repository settings:\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nBut all I can see is the &#39;WebHooks&#39; tab which is not helping:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nAny help?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NShDe.png\r\n  [2]: https://i.stack.imgur.com/Z2XB5.png","title":"How to create a Bitbucket PostRepositoryHooks after merging a PR in my JAVA project?","body":"<p>I am trying to create a PostRepositoryHook in my Java project for automatically creating a PR to a different branch after merging a PR, but seems like the documentation is not updated, it refers to the 'Hooks' tab in the repository settings:</p>\n<p><a href=\"https://i.stack.imgur.com/NShDe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NShDe.png\" alt=\"enter image description here\" /></a></p>\n<p>But all I can see is the 'WebHooks' tab which is not helping:</p>\n<p><a href=\"https://i.stack.imgur.com/Z2XB5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z2XB5.png\" alt=\"enter image description here\" /></a></p>\n<p>Any help?</p>\n"},{"tags":["java","itext","digital-signature","itext7","pades"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1646437508,"post_id":71351592,"comment_id":126131012,"body_markdown":"The `AdobeLtvEnabling` is meant as a tool to add the information required for the Adobe &quot;LTV enabled&quot; profile, and this profile requires no time stamps at all. Applied to a B-T, therefore, one can not get a B-LTA which requires an additional time stamp. To make sure to get a B-LT, by the way, one has to extend `AdobeLtvEnabling` a bit: currently it ignores time stamps, but processing time stamps usually is necessary for LT.","body":"The <code>AdobeLtvEnabling</code> is meant as a tool to add the information required for the Adobe &quot;LTV enabled&quot; profile, and this profile requires no time stamps at all. Applied to a B-T, therefore, one can not get a B-LTA which requires an additional time stamp. To make sure to get a B-LT, by the way, one has to extend <code>AdobeLtvEnabling</code> a bit: currently it ignores time stamps, but processing time stamps usually is necessary for LT."},{"owner":{"account_id":3077425,"reputation":175,"user_id":2606435,"display_name":"JK_codes"},"score":0,"creation_date":1646637498,"post_id":71351592,"comment_id":126163904,"body_markdown":"@mkl After using logic in `AdobeLtvEnabling` I got B-LT in Adobe but what exactly do I need to add to it to work properly?","body":"@mkl After using logic in <code>AdobeLtvEnabling</code> I got B-LT in Adobe but what exactly do I need to add to it to work properly?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":2,"creation_date":1646646723,"post_id":71351592,"comment_id":126166541,"body_markdown":"As mentioned, `AdobeLtvEnabling` ignores time stamps; signature time stamps to be more exact. To process them, too, you need to extend the loop in `enable` to not only walk the certificate path of `pdfPKCS7.getSigningCertificate()` but also of the signing certificate of `pdfPKCS7.getTimeStampToken()` if applicable. Of course it is possible that in your case this is not necessary: if the TSA certificate immediately is on the Trusted Lists (and not merely an ancestor in its certificate path), then no extra validation information is required. This is the case for some but not for all TSAs.","body":"As mentioned, <code>AdobeLtvEnabling</code> ignores time stamps; signature time stamps to be more exact. To process them, too, you need to extend the loop in <code>enable</code> to not only walk the certificate path of <code>pdfPKCS7.getSigningCertificate()</code> but also of the signing certificate of <code>pdfPKCS7.getTimeStampToken()</code> if applicable. Of course it is possible that in your case this is not necessary: if the TSA certificate immediately is on the Trusted Lists (and not merely an ancestor in its certificate path), then no extra validation information is required. This is the case for some but not for all TSAs."}],"answers":[{"tags":[],"owner":{"account_id":3045158,"reputation":335,"user_id":4355619,"display_name":"mval"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1646425517,"creation_date":1646425517,"answer_id":71356887,"question_id":71351592,"body_markdown":"Looks about right. The only material difference between PAdES-B-LT and PAdES-B-LTA is that the signature validation data needs to be timestamped as well. As such, to go from PAdES-B-LT to PAdES-B-LTA, it suffices to add a document timestamp.\r\n\r\nWith iText, that more or less works like this:\r\n\r\n```java\r\ntry(InputStream is = ...; // this should contain the PAdES-B-LT output\r\n    PdfReader reader = new PdfReader(is);\r\n    OutputStream os = new FileOutputStream(OUTPUT_DOCUMENT)) {\r\n\r\n    PdfSigner pdfSigner = new PdfSigner(reader, os, new StampingProperties().useAppendMode());\r\n    // .timestamp(...) is for producing document timestamps\r\n    pdfSigner.timestamp(tsaClient, timeStampFieldName);\r\n}\r\n```\r\n\r\nSee also here for some context: https://dzone.com/articles/7-tips-for-creating-pdf-signatures (ignore the buzzfeedy title...).\r\n\r\n\r\nEDIT: If you&#39;re looking for a tool to test your PAdES signatures for conformance with the format requirements in the specification, you might want to request access to the ETSI conformance checker: https://signatures-conformance-checker.etsi.org/pub/index.php.","title":"How to PAdES BASELINE LT &amp; LTA in itext using the Java?","body":"<p>Looks about right. The only material difference between PAdES-B-LT and PAdES-B-LTA is that the signature validation data needs to be timestamped as well. As such, to go from PAdES-B-LT to PAdES-B-LTA, it suffices to add a document timestamp.</p>\n<p>With iText, that more or less works like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try(InputStream is = ...; // this should contain the PAdES-B-LT output\n    PdfReader reader = new PdfReader(is);\n    OutputStream os = new FileOutputStream(OUTPUT_DOCUMENT)) {\n\n    PdfSigner pdfSigner = new PdfSigner(reader, os, new StampingProperties().useAppendMode());\n    // .timestamp(...) is for producing document timestamps\n    pdfSigner.timestamp(tsaClient, timeStampFieldName);\n}\n</code></pre>\n<p>See also here for some context: <a href=\"https://dzone.com/articles/7-tips-for-creating-pdf-signatures\" rel=\"noreferrer\">https://dzone.com/articles/7-tips-for-creating-pdf-signatures</a> (ignore the buzzfeedy title...).</p>\n<p>EDIT: If you're looking for a tool to test your PAdES signatures for conformance with the format requirements in the specification, you might want to request access to the ETSI conformance checker: <a href=\"https://signatures-conformance-checker.etsi.org/pub/index.php\" rel=\"noreferrer\">https://signatures-conformance-checker.etsi.org/pub/index.php</a>.</p>\n"}],"owner":{"account_id":3077425,"reputation":175,"user_id":2606435,"display_name":"JK_codes"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":781,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71356887,"answer_count":1,"score":3,"last_activity_date":1693242993,"creation_date":1646397741,"question_id":71351592,"body_markdown":"I&#39;m working on pdf signatures using itext7 and currently need to support all PAdES signature levels: B-B, B-T, B-LT, B-LTA\r\nhttps://ec.europa.eu/digital-building-blocks/wikis/display/ESIGKB/What+are+the+B-T-LT+and+LTA+levels+of+an+electronic+signature\r\n\r\nMy problem is how i can create B-LT signature with itext?\r\nI have created B-B and B-T with this code:\r\n```java\r\nsigner.signDetached(\r\n                new BouncyCastleDigest(),\r\n                customExternalSignature,\r\n                new Certificate[]{clientX509Certificate},\r\n                null,\r\n                null,\r\n                tsaClient,\r\n                0,\r\n                PdfSigner.CryptoStandard.CADES);\r\n```\r\nThen I wanted add B-LTA level so I have used this code https://github.com/mkl-public/testarea-itext7/blob/master/src/main/java/mkl/testarea/itext7/signature/AdobeLtvEnabling.java\r\nto check adding BASELINE-LTA level, but after applying this logic to my signature adobe says that it is BASELINE-LT\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FogxE.png\r\n\r\n\r\nThis creates two questions:\r\n1. Is this implementation in AdobeLtvEnabling correct way to add PAdES level B-LT?\r\n2. Is this proper way to add B-LTA level?\r\n```\r\n//This method extend B-T signature to B-LT\r\nprivate byte[] addLt(final byte[] signed) throws IOException, GeneralSecurityException {\r\n        final ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n        try (InputStream resource = new ByteArrayInputStream(signed);\r\n             PdfReader pdfReader = new PdfReader(resource);\r\n             PdfWriter pdfWriter = new PdfWriter(out);\r\n             PdfDocument pdfDocument = new PdfDocument(pdfReader, pdfWriter, new StampingProperties().preserveEncryption().useAppendMode())) {\r\n            AdobeLtvEnabling adobeLtvEnabling = new AdobeLtvEnabling(pdfDocument);\r\n            IOcspClient ocsp = new OcspClientBouncyCastle(null);\r\n            ICrlClient crl = new CrlClientOnline();\r\n            adobeLtvEnabling.enable(ocsp, crl);\r\n        }\r\n\r\n        return addLtv(out.toByteArray());\r\n    }\r\n\r\n//This method extend B-LT signature to B-LTA\r\nprivate byte[] addLtv(final byte[] pdf) throws IOException, GeneralSecurityException {\r\n        final ByteArrayOutputStream signedFile = new ByteArrayOutputStream();\r\n        final PdfReader sourceDoc = new PdfReader(new ByteArrayInputStream(pdf));\r\n        final PdfSigner signer = new PdfSigner(sourceDoc, signedFile, STAMPING_PROPERTIES);\r\n\r\n        signer.timestamp(tsaClient, null);\r\n\r\n        return signedFile.toByteArray();\r\n    }\r\n```","title":"How to PAdES BASELINE LT &amp; LTA in itext using the Java?","body":"<p>I'm working on pdf signatures using itext7 and currently need to support all PAdES signature levels: B-B, B-T, B-LT, B-LTA\n<a href=\"https://ec.europa.eu/digital-building-blocks/wikis/display/ESIGKB/What+are+the+B-T-LT+and+LTA+levels+of+an+electronic+signature\" rel=\"nofollow noreferrer\">https://ec.europa.eu/digital-building-blocks/wikis/display/ESIGKB/What+are+the+B-T-LT+and+LTA+levels+of+an+electronic+signature</a></p>\n<p>My problem is how i can create B-LT signature with itext?\nI have created B-B and B-T with this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>signer.signDetached(\n                new BouncyCastleDigest(),\n                customExternalSignature,\n                new Certificate[]{clientX509Certificate},\n                null,\n                null,\n                tsaClient,\n                0,\n                PdfSigner.CryptoStandard.CADES);\n</code></pre>\n<p>Then I wanted add B-LTA level so I have used this code <a href=\"https://github.com/mkl-public/testarea-itext7/blob/master/src/main/java/mkl/testarea/itext7/signature/AdobeLtvEnabling.java\" rel=\"nofollow noreferrer\">https://github.com/mkl-public/testarea-itext7/blob/master/src/main/java/mkl/testarea/itext7/signature/AdobeLtvEnabling.java</a>\nto check adding BASELINE-LTA level, but after applying this logic to my signature adobe says that it is BASELINE-LT</p>\n<p><a href=\"https://i.stack.imgur.com/FogxE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FogxE.png\" alt=\"enter image description here\" /></a></p>\n<p>This creates two questions:</p>\n<ol>\n<li>Is this implementation in AdobeLtvEnabling correct way to add PAdES level B-LT?</li>\n<li>Is this proper way to add B-LTA level?</li>\n</ol>\n<pre><code>//This method extend B-T signature to B-LT\nprivate byte[] addLt(final byte[] signed) throws IOException, GeneralSecurityException {\n        final ByteArrayOutputStream out = new ByteArrayOutputStream();\n        try (InputStream resource = new ByteArrayInputStream(signed);\n             PdfReader pdfReader = new PdfReader(resource);\n             PdfWriter pdfWriter = new PdfWriter(out);\n             PdfDocument pdfDocument = new PdfDocument(pdfReader, pdfWriter, new StampingProperties().preserveEncryption().useAppendMode())) {\n            AdobeLtvEnabling adobeLtvEnabling = new AdobeLtvEnabling(pdfDocument);\n            IOcspClient ocsp = new OcspClientBouncyCastle(null);\n            ICrlClient crl = new CrlClientOnline();\n            adobeLtvEnabling.enable(ocsp, crl);\n        }\n\n        return addLtv(out.toByteArray());\n    }\n\n//This method extend B-LT signature to B-LTA\nprivate byte[] addLtv(final byte[] pdf) throws IOException, GeneralSecurityException {\n        final ByteArrayOutputStream signedFile = new ByteArrayOutputStream();\n        final PdfReader sourceDoc = new PdfReader(new ByteArrayInputStream(pdf));\n        final PdfSigner signer = new PdfSigner(sourceDoc, signedFile, STAMPING_PROPERTIES);\n\n        signer.timestamp(tsaClient, null);\n\n        return signedFile.toByteArray();\n    }\n</code></pre>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1570444855,"post_id":58267891,"comment_id":102903037,"body_markdown":"Is the `Date` class imported in your `UserRequestResponse` a `java.util.Date` or a `java.sql.Date`? Looks like Hibernate expects a `java.util.Date`...","body":"Is the <code>Date</code> class imported in your <code>UserRequestResponse</code> a <code>java.util.Date</code> or a <code>java.sql.Date</code>? Looks like Hibernate expects a <code>java.util.Date</code>..."},{"owner":{"account_id":16810564,"reputation":433,"user_id":12153682,"display_name":"HyukHyukBoi"},"score":0,"creation_date":1570445071,"post_id":58267891,"comment_id":102903123,"body_markdown":"Yes, sys_created_on is a variable of type Date defined privately. It also has it&#39;s getters and setters.","body":"Yes, sys_created_on is a variable of type Date defined privately. It also has it&#39;s getters and setters."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1570445168,"post_id":58267891,"comment_id":102903167,"body_markdown":"Of course, it is a `Date`, but which import is in your class? can you show the imports of `UserRequestResponse`? `Date` is an ambiguous name for a class and there are `java.uitl.Date`s as well as `java.sql.Date`s.","body":"Of course, it is a <code>Date</code>, but which import is in your class? can you show the imports of <code>UserRequestResponse</code>? <code>Date</code> is an ambiguous name for a class and there are <code>java.uitl.Date</code>s as well as <code>java.sql.Date</code>s."},{"owner":{"account_id":16810564,"reputation":433,"user_id":12153682,"display_name":"HyukHyukBoi"},"score":0,"creation_date":1570445517,"post_id":58267891,"comment_id":102903334,"body_markdown":"Edited the question. Please check.","body":"Edited the question. Please check."}],"answers":[{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693242779,"creation_date":1570445798,"answer_id":58268160,"question_id":58267891,"body_markdown":"You have imported a different type of `Date` than the one expected by hibernate:\r\n\r\nYour import in the class `UserRequestResponse` states\r\n```Java\r\nimport java.sql.Date;\r\n```\r\nwhile hibernate (somehow) expects a `java.util.Date` in the constructor.\r\n\r\nTry to just change the import and test the code again, so make the import\r\n```Java\r\nimport java.util.Date;\r\n```\r\nSince it is hibernate complaining about non matching types, I think hibernate just doesn&#39;t deal with `java.sql.Date`s.\r\n\r\nThe error message clearly states that the constructor to be used cannot be used due to a different type of a parameter.\r\n\r\n    org.hibernate.hql.internal.ast.DetailedSemanticException:\r\n    Unable to locate appropriate constructor on class [com.abc.datacollection.entity.UserRequestResponse].\r\n    Expected arguments are: java.lang.String, long, java.util.Date\r\n\r\nThe first two are of type `String` and `long`, so there is no real possibility of misinterpreting anything.","title":"Can someone tell me the error in my code?","body":"<p>You have imported a different type of <code>Date</code> than the one expected by hibernate:</p>\n<p>Your import in the class <code>UserRequestResponse</code> states</p>\n<pre><code>import java.sql.Date;\n</code></pre>\n<p>while hibernate (somehow) expects a <code>java.util.Date</code> in the constructor.</p>\n<p>Try to just change the import and test the code again, so make the import</p>\n<pre><code>import java.util.Date;\n</code></pre>\n<p>Since it is hibernate complaining about non matching types, I think hibernate just doesn't deal with <code>java.sql.Date</code>s.</p>\n<p>The error message clearly states that the constructor to be used cannot be used due to a different type of a parameter.</p>\n<pre><code>org.hibernate.hql.internal.ast.DetailedSemanticException:\nUnable to locate appropriate constructor on class [com.abc.datacollection.entity.UserRequestResponse].\nExpected arguments are: java.lang.String, long, java.util.Date\n</code></pre>\n<p>The first two are of type <code>String</code> and <code>long</code>, so there is no real possibility of misinterpreting anything.</p>\n"}],"owner":{"account_id":16810564,"reputation":433,"user_id":12153682,"display_name":"HyukHyukBoi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":863,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58268160,"answer_count":1,"score":0,"last_activity_date":1693242779,"creation_date":1570444711,"question_id":58267891,"body_markdown":"DAO Code is as follows:\r\n\r\n    public interface UserRequestResponseRepository extends CrudRepository&lt;UserRequestResponse, Integer&gt; {\r\n    \t//public static final String FIND_QUERY = &quot;select user.u_httpstatus ,user.u_queryparam from UserRequestResponse user&quot;;\r\n    \tpublic static final String FIND_QUERY = \r\n        &quot;select new com.abc.datacollection.entity.UserRequestResponse( user.u_queryparam , COUNT(user.u_queryparam), user.sys_created_on) from UserRequestResponse user  GROUP BY user.sys_created_on&quot;;\r\n    \t@Query(value = FIND_QUERY)\r\n        //public List&lt;UserProjection&gt; getAllRequestResponseRecords();\r\n    \t List&lt;UserProjection&gt; findAllProjectedBy();\r\n    \t\r\n    }\r\n\r\nMAIN CLASS CONSTRUCTOR+IMPORTS is as follows (contains private Date sys_created_on;):\r\n\r\n\t\r\n    import java.sql.Date;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Transient;\r\n\r\n    public UserRequestResponse(String u_queryparam, long count, Date sys_created_on) {\t\t//, long count\r\n    \t    //this.u_httpstatus = u_httpstatus;\r\n    \t    this.u_queryparam = u_queryparam;\r\n    \t    this.count=count;\r\n    \t    this.sys_created_on=sys_created_on;\r\n    \t}\r\n\r\nPROJECTION interface is as follows:\r\n\r\n    public interface UserProjection {\r\n    //\tString getU_httpstatus();\r\n    \tString getU_queryparam();\r\n    \tlong getCount();\r\n    \tDate getSys_created_on();\r\n    }\r\n\r\nSTACK TRACE is as follows:\r\n\r\n    2019-10-07 15:42:02.967  INFO 32036 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.10.Final}\r\n    2019-10-07 15:42:02.968  INFO 32036 --- [           main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found\r\n    2019-10-07 15:42:03.125  INFO 32036 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}\r\n    2019-10-07 15:42:03.336  INFO 32036 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect\r\n    2019-10-07 15:42:03.872  INFO 32036 --- [           main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: com.abc.datacollection.entity.UserClickData (class must be instantiated by Interceptor)\r\n    2019-10-07 15:42:03.899  INFO 32036 --- [           main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: com.abc.datacollection.entity.UserRequestResponse (class must be instantiated by Interceptor)\r\n    2019-10-07 15:42:03.994  INFO 32036 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2019-10-07 15:42:04.310  INFO 32036 --- [           main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory\r\n    2019-10-07 15:42:04.426 ERROR 32036 --- [           main] o.h.hql.internal.ast.ErrorTracker        :  Unable to locate appropriate constructor on class [com.abc.datacollection.entity.UserRequestResponse]. Expected arguments are: java.lang.String, long, java.util.Date\r\n    [cause=org.hibernate.PropertyNotFoundException: no appropriate constructor in class: com.abc.datacollection.entity.UserRequestResponse]\r\n    2019-10-07 15:42:04.430 ERROR 32036 --- [           main] o.h.hql.internal.ast.ErrorTracker        :  Unable to locate appropriate constructor on class [com.abc.datacollection.entity.UserRequestResponse]. Expected arguments are: java.lang.String, long, java.util.Date\r\n    [cause=org.hibernate.PropertyNotFoundException: no appropriate constructor in class: com.abc.datacollection.entity.UserRequestResponse]\r\n    \r\n    org.hibernate.hql.internal.ast.DetailedSemanticException: Unable to locate appropriate constructor on class [com.abc.datacollection.entity.UserRequestResponse]. Expected arguments are: java.lang.String, long, java.util.Date\r\n    \tat org.hibernate.hql.internal.ast.tree.ConstructorNode.resolveConstructor(ConstructorNode.java:182) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\r\n    \tat org.hibernate.hql.internal.ast.tree.ConstructorNode.prepare(ConstructorNode.java:144) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\r\n    \tat org.hibernate.hql.internal.ast.HqlSqlWalker.processConstructor(HqlSqlWalker.java:1245) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\r\n    \tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectExpr(HqlSqlBaseWalker.java:2366) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\r\n    \tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectExprList(HqlSqlBaseWalker.java:2232) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\r\n    \tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectClause(HqlSqlBaseWalker.java:1503) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\r\n    \tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:585) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\r\n    \tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:313) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\r\n    \tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:261) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\r\n    \tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:271) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\r\n    \tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:191) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\r\n    \tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:143) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\r\n    \tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:119) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\r\n    \tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:80) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\r\n    \tat org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:153) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:611) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:720) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:104) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\r\n    \tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:350) ~[spring-orm-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat com.sun.proxy.$Proxy93.createQuery(Unknown Source) ~[na:na]\r\n    \tat org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:87) ~[spring-data-jpa-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\r\n    \tat org.springframework.data.jpa.repository.query.SimpleJpaQuery.&lt;init&gt;(SimpleJpaQuery.java:63) ~[spring-data-jpa-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:76) ~[spring-data-jpa-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryFactory.fromQueryAnnotation(JpaQueryFactory.java:56) ~[spring-data-jpa-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:142) ~[spring-data-jpa-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:209) ~[spring-data-jpa-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:79) ~[spring-data-jpa-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lookupQuery(RepositoryFactorySupport.java:566) ~[spring-data-commons-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(RepositoryFactorySupport.java:559) ~[spring-data-commons-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na]\r\n    \tat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133) ~[na:na]\r\n    \tat java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1054) ~[na:na]\r\n    \tat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]\r\n    \tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\r\n    \tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578) ~[na:na]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.mapMethodsToQuery(RepositoryFactorySupport.java:561) ~[spring-data-commons-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$new$0(RepositoryFactorySupport.java:551) ~[spring-data-commons-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\r\n    \tat java.base/java.util.Optional.map(Optional.java:265) ~[na:na]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.&lt;init&gt;(RepositoryFactorySupport.java:551) ~[spring-data-commons-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:324) ~[spring-data-commons-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:297) ~[spring-data-commons-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\r\n    \tat org.springframework.data.util.Lazy.getNullable(Lazy.java:211) ~[spring-data-commons-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\r\n    \tat org.springframework.data.util.Lazy.get(Lazy.java:94) ~[spring-data-commons-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:300) ~[spring-data-commons-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:121) ~[spring-data-jpa-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1837) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1774) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1251) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1171) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:593) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1411) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:845) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877) ~[spring-context-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:742) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:389) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1213) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1202) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\r\n    \tat com.abc.datacollection.Application.main(Application.java:9) ~[classes!/:0.1.0]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\r\n    \tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:47) ~[data-collection-web-service-0.1.0.jar:0.1.0]\r\n    \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:86) ~[data-collection-web-service-0.1.0.jar:0.1.0]\r\n    \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:50) ~[data-collection-web-service-0.1.0.jar:0.1.0]\r\n    \tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) ~[data-collection-web-service-0.1.0.jar:0.1.0]\r\n    \r\n    2019-10-07 15:42:04.436  WARN 32036 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;userRequestResponseController&#39;: Unsatisfied dependency expressed through field &#39;userRequestResponseRepository&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userRequestResponseRepository&#39;: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List com.abc.datacollection.dao.UserRequestResponseRepository.findAllProjectedBy()!\r\n    2019-10-07 15:42:04.436  INFO 32036 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2019-10-07 15:42:04.438  INFO 32036 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n    2019-10-07 15:42:05.119  INFO 32036 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n    2019-10-07 15:42:05.121  INFO 32036 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n    2019-10-07 15:42:05.132  INFO 32036 --- [           main] ConditionEvaluationReportLoggingListener : \r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2019-10-07 15:42:05.134 ERROR 32036 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;userRequestResponseController&#39;: Unsatisfied dependency expressed through field &#39;userRequestResponseRepository&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userRequestResponseRepository&#39;: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List com.abc.datacollection.dao.UserRequestResponseRepository.findAllProjectedBy()!\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:596) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1411) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:845) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877) ~[spring-context-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:742) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:389) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1213) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1202) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\r\n    \tat com.abc.datacollection.Application.main(Application.java:9) ~[classes!/:0.1.0]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\r\n    \tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:47) ~[data-collection-web-service-0.1.0.jar:0.1.0]\r\n    \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:86) ~[data-collection-web-service-0.1.0.jar:0.1.0]\r\n    \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:50) ~[data-collection-web-service-0.1.0.jar:0.1.0]\r\n    \tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) ~[data-collection-web-service-0.1.0.jar:0.1.0]\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userRequestResponseRepository&#39;: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List com.abc.datacollection.dao.UserRequestResponseRepository.findAllProjectedBy()!\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1778) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1251) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1171) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:593) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n\r\n\r\nThe error started coming after I tried putting sys_created_on in the SQL query. It&#39;s type in the Database is DateTime. \r\nPlease help me out here. TIA.\r\nAlso, had to delete some of the stack trace.\r\n","title":"Can someone tell me the error in my code?","body":"<p>DAO Code is as follows:</p>\n\n<pre><code>public interface UserRequestResponseRepository extends CrudRepository&lt;UserRequestResponse, Integer&gt; {\n    //public static final String FIND_QUERY = \"select user.u_httpstatus ,user.u_queryparam from UserRequestResponse user\";\n    public static final String FIND_QUERY = \n    \"select new com.abc.datacollection.entity.UserRequestResponse( user.u_queryparam , COUNT(user.u_queryparam), user.sys_created_on) from UserRequestResponse user  GROUP BY user.sys_created_on\";\n    @Query(value = FIND_QUERY)\n    //public List&lt;UserProjection&gt; getAllRequestResponseRecords();\n     List&lt;UserProjection&gt; findAllProjectedBy();\n\n}\n</code></pre>\n\n<p>MAIN CLASS CONSTRUCTOR+IMPORTS is as follows (contains private Date sys_created_on;):</p>\n\n<pre><code>import java.sql.Date;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Transient;\n\npublic UserRequestResponse(String u_queryparam, long count, Date sys_created_on) {      //, long count\n        //this.u_httpstatus = u_httpstatus;\n        this.u_queryparam = u_queryparam;\n        this.count=count;\n        this.sys_created_on=sys_created_on;\n    }\n</code></pre>\n\n<p>PROJECTION interface is as follows:</p>\n\n<pre><code>public interface UserProjection {\n//  String getU_httpstatus();\n    String getU_queryparam();\n    long getCount();\n    Date getSys_created_on();\n}\n</code></pre>\n\n<p>STACK TRACE is as follows:</p>\n\n<pre><code>2019-10-07 15:42:02.967  INFO 32036 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.10.Final}\n2019-10-07 15:42:02.968  INFO 32036 --- [           main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found\n2019-10-07 15:42:03.125  INFO 32036 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}\n2019-10-07 15:42:03.336  INFO 32036 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect\n2019-10-07 15:42:03.872  INFO 32036 --- [           main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: com.abc.datacollection.entity.UserClickData (class must be instantiated by Interceptor)\n2019-10-07 15:42:03.899  INFO 32036 --- [           main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: com.abc.datacollection.entity.UserRequestResponse (class must be instantiated by Interceptor)\n2019-10-07 15:42:03.994  INFO 32036 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2019-10-07 15:42:04.310  INFO 32036 --- [           main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory\n2019-10-07 15:42:04.426 ERROR 32036 --- [           main] o.h.hql.internal.ast.ErrorTracker        :  Unable to locate appropriate constructor on class [com.abc.datacollection.entity.UserRequestResponse]. Expected arguments are: java.lang.String, long, java.util.Date\n[cause=org.hibernate.PropertyNotFoundException: no appropriate constructor in class: com.abc.datacollection.entity.UserRequestResponse]\n2019-10-07 15:42:04.430 ERROR 32036 --- [           main] o.h.hql.internal.ast.ErrorTracker        :  Unable to locate appropriate constructor on class [com.abc.datacollection.entity.UserRequestResponse]. Expected arguments are: java.lang.String, long, java.util.Date\n[cause=org.hibernate.PropertyNotFoundException: no appropriate constructor in class: com.abc.datacollection.entity.UserRequestResponse]\n\norg.hibernate.hql.internal.ast.DetailedSemanticException: Unable to locate appropriate constructor on class [com.abc.datacollection.entity.UserRequestResponse]. Expected arguments are: java.lang.String, long, java.util.Date\n    at org.hibernate.hql.internal.ast.tree.ConstructorNode.resolveConstructor(ConstructorNode.java:182) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\n    at org.hibernate.hql.internal.ast.tree.ConstructorNode.prepare(ConstructorNode.java:144) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\n    at org.hibernate.hql.internal.ast.HqlSqlWalker.processConstructor(HqlSqlWalker.java:1245) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectExpr(HqlSqlBaseWalker.java:2366) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectExprList(HqlSqlBaseWalker.java:2232) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectClause(HqlSqlBaseWalker.java:1503) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:585) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:313) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:261) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:271) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:191) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:143) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\n    at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:119) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\n    at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:80) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\n    at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:153) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:611) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:720) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:104) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\n    at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:350) ~[spring-orm-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at com.sun.proxy.$Proxy93.createQuery(Unknown Source) ~[na:na]\n    at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:87) ~[spring-data-jpa-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\n    at org.springframework.data.jpa.repository.query.SimpleJpaQuery.&lt;init&gt;(SimpleJpaQuery.java:63) ~[spring-data-jpa-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\n    at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:76) ~[spring-data-jpa-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\n    at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromQueryAnnotation(JpaQueryFactory.java:56) ~[spring-data-jpa-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:142) ~[spring-data-jpa-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:209) ~[spring-data-jpa-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:79) ~[spring-data-jpa-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lookupQuery(RepositoryFactorySupport.java:566) ~[spring-data-commons-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(RepositoryFactorySupport.java:559) ~[spring-data-commons-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na]\n    at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133) ~[na:na]\n    at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1054) ~[na:na]\n    at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]\n    at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.mapMethodsToQuery(RepositoryFactorySupport.java:561) ~[spring-data-commons-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$new$0(RepositoryFactorySupport.java:551) ~[spring-data-commons-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\n    at java.base/java.util.Optional.map(Optional.java:265) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.&lt;init&gt;(RepositoryFactorySupport.java:551) ~[spring-data-commons-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:324) ~[spring-data-commons-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:297) ~[spring-data-commons-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\n    at org.springframework.data.util.Lazy.getNullable(Lazy.java:211) ~[spring-data-commons-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\n    at org.springframework.data.util.Lazy.get(Lazy.java:94) ~[spring-data-commons-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:300) ~[spring-data-commons-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:121) ~[spring-data-jpa-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1837) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1774) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1251) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1171) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:593) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1411) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:845) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877) ~[spring-context-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:742) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:389) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1213) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1202) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\n    at com.abc.datacollection.Application.main(Application.java:9) ~[classes!/:0.1.0]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:47) ~[data-collection-web-service-0.1.0.jar:0.1.0]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:86) ~[data-collection-web-service-0.1.0.jar:0.1.0]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) ~[data-collection-web-service-0.1.0.jar:0.1.0]\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) ~[data-collection-web-service-0.1.0.jar:0.1.0]\n\n2019-10-07 15:42:04.436  WARN 32036 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userRequestResponseController': Unsatisfied dependency expressed through field 'userRequestResponseRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRequestResponseRepository': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List com.abc.datacollection.dao.UserRequestResponseRepository.findAllProjectedBy()!\n2019-10-07 15:42:04.436  INFO 32036 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2019-10-07 15:42:04.438  INFO 32036 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2019-10-07 15:42:05.119  INFO 32036 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n2019-10-07 15:42:05.121  INFO 32036 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2019-10-07 15:42:05.132  INFO 32036 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2019-10-07 15:42:05.134 ERROR 32036 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userRequestResponseController': Unsatisfied dependency expressed through field 'userRequestResponseRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRequestResponseRepository': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List com.abc.datacollection.dao.UserRequestResponseRepository.findAllProjectedBy()!\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:596) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1411) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:845) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877) ~[spring-context-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:742) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:389) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1213) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1202) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\n    at com.abc.datacollection.Application.main(Application.java:9) ~[classes!/:0.1.0]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:47) ~[data-collection-web-service-0.1.0.jar:0.1.0]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:86) ~[data-collection-web-service-0.1.0.jar:0.1.0]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) ~[data-collection-web-service-0.1.0.jar:0.1.0]\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) ~[data-collection-web-service-0.1.0.jar:0.1.0]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRequestResponseRepository': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List com.abc.datacollection.dao.UserRequestResponseRepository.findAllProjectedBy()!\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1778) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1251) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1171) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:593) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n</code></pre>\n\n<p>The error started coming after I tried putting sys_created_on in the SQL query. It's type in the Database is DateTime. \nPlease help me out here. TIA.\nAlso, had to delete some of the stack trace.</p>\n"},{"tags":["java","reactjs","stripe-payments","plaid"],"answers":[{"tags":[],"owner":{"account_id":29251325,"reputation":1013,"user_id":22410625,"display_name":"Lucky2501"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693242714,"creation_date":1693242714,"answer_id":76994786,"question_id":76994600,"body_markdown":"You can&#39;t.\r\n\r\nCheckout (which is the system Pricing Tables run on) will only prefill saved cards*.  \r\nEverything else will be collected each time.  \r\n\r\nDoesn&#39;t help that your ACH tokens are quite old if they were tokenized through Plaid, that&#39;s been deprecated for a while.  \r\nYour Pricing Tables will be collecting them as Payment Methods now.\r\n\r\nIf you want to charge your saved tokens without collecting them again, it&#39;s possible, but not through Checkout. You&#39;d want to create your Susbcriptions from the backend directly with `off_session=true`:  \r\nhttps://stripe.com/docs/api/subscriptions/create#create_subscription-off_session\r\n\r\n*Specifically, these cards would need to be Payment Method objects with an `email`, `name` and `country` value.","title":"Stripe subscription with plaid integration for ACH payment","body":"<p>You can't.</p>\n<p>Checkout (which is the system Pricing Tables run on) will only prefill saved cards*.<br />\nEverything else will be collected each time.</p>\n<p>Doesn't help that your ACH tokens are quite old if they were tokenized through Plaid, that's been deprecated for a while.<br />\nYour Pricing Tables will be collecting them as Payment Methods now.</p>\n<p>If you want to charge your saved tokens without collecting them again, it's possible, but not through Checkout. You'd want to create your Susbcriptions from the backend directly with <code>off_session=true</code>:<br />\n<a href=\"https://stripe.com/docs/api/subscriptions/create#create_subscription-off_session\" rel=\"nofollow noreferrer\">https://stripe.com/docs/api/subscriptions/create#create_subscription-off_session</a></p>\n<p>*Specifically, these cards would need to be Payment Method objects with an <code>email</code>, <code>name</code> and <code>country</code> value.</p>\n"}],"owner":{"account_id":16217112,"reputation":334,"user_id":11709663,"display_name":"Sabu Shakya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693242714,"creation_date":1693240729,"question_id":76994600,"body_markdown":"I&#39;m trying to add subscription to my application using Stripe. I&#39;m trying to integrate Stripe using its low code [pricing table](https://stripe.com/docs/payments/checkout/pricing-table). I already have few users in my system and their bank accounts have been verified through Plaid. I want the users to subscribe and make payments through their bank accounts. As, the accounts are already verified through Plaid, in the Stripe&#39;s checkout part I want to be able to select the bank accounts through Plaid. \r\nIs there a way to integrate plaid in Stripe&#39;s checkout?\r\nOr, can the payment part be removed from the pricing table?\r\n\r\nI&#39;ve gone through some of the related questions but haven&#39;t got the answers to my questions.\r\nhttps://stackoverflow.com/questions/52689183/stripe-to-collect-recurring-ach-payments-with-plaid-verification\r\n\r\nhttps://stackoverflow.com/questions/71698094/how-to-create-ach-payments-using-stripe-and-plaid","title":"Stripe subscription with plaid integration for ACH payment","body":"<p>I'm trying to add subscription to my application using Stripe. I'm trying to integrate Stripe using its low code <a href=\"https://stripe.com/docs/payments/checkout/pricing-table\" rel=\"nofollow noreferrer\">pricing table</a>. I already have few users in my system and their bank accounts have been verified through Plaid. I want the users to subscribe and make payments through their bank accounts. As, the accounts are already verified through Plaid, in the Stripe's checkout part I want to be able to select the bank accounts through Plaid.\nIs there a way to integrate plaid in Stripe's checkout?\nOr, can the payment part be removed from the pricing table?</p>\n<p>I've gone through some of the related questions but haven't got the answers to my questions.\n<a href=\"https://stackoverflow.com/questions/52689183/stripe-to-collect-recurring-ach-payments-with-plaid-verification\">Stripe to collect recurring ACH payments with Plaid verification</a></p>\n<p><a href=\"https://stackoverflow.com/questions/71698094/how-to-create-ach-payments-using-stripe-and-plaid\">How to create ACH Payments Using Stripe and Plaid?</a></p>\n"},{"tags":["java","pdf","itext"],"answers":[{"tags":[],"owner":{"account_id":29176687,"reputation":322,"user_id":22351796,"display_name":"Karsten"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693241414,"creation_date":1693241414,"answer_id":76994661,"question_id":76994640,"body_markdown":"You&#39;re not closing the input stream for your original file.","title":"unable to delete pdf created by using itext in java","body":"<p>You're not closing the input stream for your original file.</p>\n"},{"tags":[],"owner":{"account_id":25728677,"reputation":29,"user_id":19484558,"display_name":"firapinch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693242603,"creation_date":1693242603,"answer_id":76994771,"question_id":76994640,"body_markdown":"The issue might stem from not properly closing the PdfReader. Wrap the PdfReader instantiation and the loop in a try-finally block to ensure closing, even in case of an exception:\r\n\r\n    PdfReader reader = new PdfReader(new FileInputStream(originalFile));\r\n    try {\r\n        for (int i = 0; i &lt; reader.getNumberOfPages(); i++) {\r\n            // Your code for page processing...\r\n        }\r\n    } finally {\r\n        reader.close();\r\n    }\r\n\r\nAdditionally, ensure that you&#39;re correctly closing other resources such as duplicateDocument, writer, and outputStream.","title":"unable to delete pdf created by using itext in java","body":"<p>The issue might stem from not properly closing the PdfReader. Wrap the PdfReader instantiation and the loop in a try-finally block to ensure closing, even in case of an exception:</p>\n<pre><code>PdfReader reader = new PdfReader(new FileInputStream(originalFile));\ntry {\n    for (int i = 0; i &lt; reader.getNumberOfPages(); i++) {\n        // Your code for page processing...\n    }\n} finally {\n    reader.close();\n}\n</code></pre>\n<p>Additionally, ensure that you're correctly closing other resources such as duplicateDocument, writer, and outputStream.</p>\n"}],"owner":{"account_id":17479236,"reputation":33,"user_id":12673453,"display_name":"raj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76994661,"answer_count":2,"score":0,"last_activity_date":1693242603,"creation_date":1693241207,"question_id":76994640,"body_markdown":"I&#39;m creating a duplicate pdf by taking an input pdf by adding some pic to header. i&#39;m able to create the result pdf successfully i.e., duplicate pdf, but after creating this pdf, while trying to delete the original one i&#39;m facing exception saying - file is being used by another process. Am i missing something? \r\n\r\n    public File createDuplicatePDF(String originalFile, String uploadFolder) throws DocumentException, IOException {\r\n        File signature = new File(&quot;C:\\\\WORK\\\\Signature.bmp&quot;);\r\n        File duplicateFile = new File(uploadFolder+&quot;asds.pdf&quot;);\r\n        BufferedOutputStream outputStream = new BufferedOutputStream(Files.newOutputStream(duplicateFile.toPath()));\r\n        Document duplicateDocument = new Document(PageSize.A4);\r\n        PdfWriter writer = PdfWriter.getInstance(duplicateDocument, outputStream);\r\n        duplicateDocument.open();\r\n        String duplicatePdfMessage = &quot;asd&quot;;\r\n        PdfPTable duplicateHeaderTable = new PdfPTable(2);\r\n        // Set table width\r\n        duplicateHeaderTable.setWidthPercentage(100);\r\n        // Set relative cell widths\r\n        duplicateHeaderTable.setWidths(new int[]{3, 1});\r\n\r\n        PdfPCell cell;\r\n\r\n        Font font = new Font();\r\n        font.setColor(BaseColor.BLACK);\r\n\r\n        Paragraph paragraph = new Paragraph(duplicatePdfMessage, font);\r\n\r\n        cell = new PdfPCell(paragraph);\r\n        cell.setBorder(0);\r\n        duplicateHeaderTable.addCell(cell);\r\n\r\n        Image signatureImage = Image.getInstance(signature.getPath());\r\n        signatureImage.scaleToFit(100F, 50F);\r\n\r\n        cell = new PdfPCell(signatureImage);\r\n        cell.setBorder(0);\r\n        cell.setPaddingLeft(2);\r\n        cell.setPaddingBottom(2);\r\n        cell.setHorizontalAlignment(Element.ALIGN_CENTER);\r\n        duplicateHeaderTable.addCell(cell);\r\n        PdfReader reader = new PdfReader(new FileInputStream(originalFile));\r\n        for (int i = 0; i &lt; reader.getNumberOfPages(); i++) {\r\n\r\n            duplicateDocument.add(duplicateHeaderTable);\r\n\r\n            PdfImportedPage page = writer.getImportedPage(reader, i + 1);\r\n            Image image = Image.getInstance(page);\r\n            image.scalePercent(85F);\r\n            image.setBorder(Rectangle.BOX);\r\n            image.setBorderWidth(3F);\r\n            image.setBorderColor(new GrayColor(0.5F));\r\n            image.setAlignment(Element.ALIGN_CENTER);\r\n\r\n            duplicateDocument.add(image);\r\n\r\n            if (i &lt; reader.getNumberOfPages()) {\r\n                duplicateDocument.newPage();\r\n            }\r\n        }\r\n        reader.close();\r\n\r\n        outputStream.flush();\r\n        duplicateDocument.close();\r\n        writer.flush();\r\n        writer.close();\r\n        outputStream.close();\r\n        return duplicateFile;\r\n    }","title":"unable to delete pdf created by using itext in java","body":"<p>I'm creating a duplicate pdf by taking an input pdf by adding some pic to header. i'm able to create the result pdf successfully i.e., duplicate pdf, but after creating this pdf, while trying to delete the original one i'm facing exception saying - file is being used by another process. Am i missing something?</p>\n<pre><code>public File createDuplicatePDF(String originalFile, String uploadFolder) throws DocumentException, IOException {\n    File signature = new File(&quot;C:\\\\WORK\\\\Signature.bmp&quot;);\n    File duplicateFile = new File(uploadFolder+&quot;asds.pdf&quot;);\n    BufferedOutputStream outputStream = new BufferedOutputStream(Files.newOutputStream(duplicateFile.toPath()));\n    Document duplicateDocument = new Document(PageSize.A4);\n    PdfWriter writer = PdfWriter.getInstance(duplicateDocument, outputStream);\n    duplicateDocument.open();\n    String duplicatePdfMessage = &quot;asd&quot;;\n    PdfPTable duplicateHeaderTable = new PdfPTable(2);\n    // Set table width\n    duplicateHeaderTable.setWidthPercentage(100);\n    // Set relative cell widths\n    duplicateHeaderTable.setWidths(new int[]{3, 1});\n\n    PdfPCell cell;\n\n    Font font = new Font();\n    font.setColor(BaseColor.BLACK);\n\n    Paragraph paragraph = new Paragraph(duplicatePdfMessage, font);\n\n    cell = new PdfPCell(paragraph);\n    cell.setBorder(0);\n    duplicateHeaderTable.addCell(cell);\n\n    Image signatureImage = Image.getInstance(signature.getPath());\n    signatureImage.scaleToFit(100F, 50F);\n\n    cell = new PdfPCell(signatureImage);\n    cell.setBorder(0);\n    cell.setPaddingLeft(2);\n    cell.setPaddingBottom(2);\n    cell.setHorizontalAlignment(Element.ALIGN_CENTER);\n    duplicateHeaderTable.addCell(cell);\n    PdfReader reader = new PdfReader(new FileInputStream(originalFile));\n    for (int i = 0; i &lt; reader.getNumberOfPages(); i++) {\n\n        duplicateDocument.add(duplicateHeaderTable);\n\n        PdfImportedPage page = writer.getImportedPage(reader, i + 1);\n        Image image = Image.getInstance(page);\n        image.scalePercent(85F);\n        image.setBorder(Rectangle.BOX);\n        image.setBorderWidth(3F);\n        image.setBorderColor(new GrayColor(0.5F));\n        image.setAlignment(Element.ALIGN_CENTER);\n\n        duplicateDocument.add(image);\n\n        if (i &lt; reader.getNumberOfPages()) {\n            duplicateDocument.newPage();\n        }\n    }\n    reader.close();\n\n    outputStream.flush();\n    duplicateDocument.close();\n    writer.flush();\n    writer.close();\n    outputStream.close();\n    return duplicateFile;\n}\n</code></pre>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9776,"page":216,"page_size":100}
